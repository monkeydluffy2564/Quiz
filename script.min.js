const _0x5be2be=_0x46b4;(function(_0x56c4c1,_0x569a32){const _0x31c9e4=_0x46b4,_0x477736=_0x56c4c1();while(!![]){try{const _0x3c318d=parseInt(_0x31c9e4(0x2ad))/0x1*(parseInt(_0x31c9e4(0x9a6))/0x2)+parseInt(_0x31c9e4(0xde1))/0x3+-parseInt(_0x31c9e4(0x77b))/0x4*(-parseInt(_0x31c9e4(0x711))/0x5)+-parseInt(_0x31c9e4(0x77e))/0x6+parseInt(_0x31c9e4(0x49e))/0x7+-parseInt(_0x31c9e4(0x9b4))/0x8+parseInt(_0x31c9e4(0x2e9))/0x9*(-parseInt(_0x31c9e4(0x412))/0xa);if(_0x3c318d===_0x569a32)break;else _0x477736['push'](_0x477736['shift']());}catch(_0xb62189){_0x477736['push'](_0x477736['shift']());}}}(_0x5379,0x6a2c5));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x5be2be(0x7b6),'บักแตงโม',_0x5be2be(0x868),_0x5be2be(0x149),_0x5be2be(0xabb),_0x5be2be(0x8cf),_0x5be2be(0x827),_0x5be2be(0x204),_0x5be2be(0xc2d),'จิงโจ้สโลว์ไลฟ์',_0x5be2be(0x56d),_0x5be2be(0x49f),_0x5be2be(0xcab),_0x5be2be(0xbc4),_0x5be2be(0x59e),_0x5be2be(0x2c7),_0x5be2be(0x515),_0x5be2be(0x70a),_0x5be2be(0x592),'มังกรกินจุ','หมีขั้วโลกใต้',_0x5be2be(0x8a7),_0x5be2be(0x480),_0x5be2be(0x5e0),_0x5be2be(0x5ce),_0x5be2be(0xc49),_0x5be2be(0xcfe),_0x5be2be(0xf5),_0x5be2be(0x41e),_0x5be2be(0xcdd),_0x5be2be(0xa31),_0x5be2be(0xb79),_0x5be2be(0xa93),_0x5be2be(0x6fb),_0x5be2be(0xa58),_0x5be2be(0xa19),_0x5be2be(0x5d4),'อินฟลูเอนเซอร์',_0x5be2be(0xf4),_0x5be2be(0x4fc),_0x5be2be(0x9e7),_0x5be2be(0xcbb),_0x5be2be(0x5df),_0x5be2be(0x7ea),_0x5be2be(0xb29),_0x5be2be(0xc5c),_0x5be2be(0x74a),'ครัวซองต์',_0x5be2be(0x8b4),_0x5be2be(0x911),_0x5be2be(0xc89),_0x5be2be(0x6ad),_0x5be2be(0xc9d),'นอนไม่พอ',_0x5be2be(0x230),'แบตหมด',_0x5be2be(0x706),_0x5be2be(0xdcf),_0x5be2be(0x11d),_0x5be2be(0xae2),_0x5be2be(0x1ac),'ตะวันฉาย','สายหมอก','ก้อนเมฆ',_0x5be2be(0xc5e),'ท้องฟ้า','ทะเล',_0x5be2be(0x1ec),_0x5be2be(0x5c9),_0x5be2be(0x607),'นักเดินทาง',_0x5be2be(0x77d),_0x5be2be(0xb2d),_0x5be2be(0xac7),_0x5be2be(0x360),'นักเขียน',_0x5be2be(0xad9),_0x5be2be(0x659),_0x5be2be(0x80a),_0x5be2be(0x42f),_0x5be2be(0xaa5),_0x5be2be(0x6c2),_0x5be2be(0xacf),_0x5be2be(0x8dd),_0x5be2be(0x301),_0x5be2be(0xcdc),_0x5be2be(0xb78),'ไอรอนแมน','กัปตัน',_0x5be2be(0x502),_0x5be2be(0xcd2),_0x5be2be(0xa75),_0x5be2be(0x652),_0x5be2be(0x694),_0x5be2be(0xe7f),_0x5be2be(0x3d8),_0x5be2be(0x132),_0x5be2be(0x28f),_0x5be2be(0x4aa),_0x5be2be(0x9b2)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x5be2be(0x1d5),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x5be2be(0x1d5),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x5be2be(0x1d5),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x2e594f=_0x5be2be;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x2e594f(0x775)]['request']('screen'),console[_0x2e594f(0xbe2)](_0x2e594f(0x6e5)),wakeLock[_0x2e594f(0x5a2)](_0x2e594f(0xafc),()=>{const _0x5e016e=_0x2e594f;console[_0x5e016e(0xbe2)](_0x5e016e(0x9ab));});}catch(_0x4ce018){console['error'](_0x2e594f(0xd0a)+_0x4ce018[_0x2e594f(0x1b0)]+',\x20'+_0x4ce018[_0x2e594f(0xba5)]);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x4f93d6=_0x5be2be;wakeLock!==null&&(await wakeLock[_0x4f93d6(0xafc)](),wakeLock=null,console[_0x4f93d6(0xbe2)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x234fdc=_0x5be2be;if(!document[_0x234fdc(0x671)][_0x234fdc(0x6f1)][_0x234fdc(0x913)](_0x234fdc(0xc17))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x515e77=_0x234fdc;document[_0x515e77(0x671)][_0x515e77(0x6f1)][_0x515e77(0x648)](_0x515e77(0xc17)),console[_0x515e77(0xbe2)](_0x515e77(0xc37));},inactivityTime);}}function wakeUpScreen(_0x18d607){const _0x4694ae=_0x5be2be;_0x18d607&&(_0x18d607[_0x4694ae(0x46c)](),_0x18d607[_0x4694ae(0xaa3)]());document[_0x4694ae(0x671)][_0x4694ae(0x6f1)]['remove'](_0x4694ae(0xc17));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3fa224=_0x4694ae;document[_0x3fa224(0x671)][_0x3fa224(0x6f1)][_0x3fa224(0x648)](_0x3fa224(0xc17));},inactivityTime);}function stopDimTimer(){const _0x38f908=_0x5be2be;if(dimTimer)clearTimeout(dimTimer);document[_0x38f908(0x671)]['classList']['remove']('dimmed'),window['removeEventListener']('mousemove',resetDimTimer),window[_0x38f908(0xdfc)](_0x38f908(0x79f),resetDimTimer),window[_0x38f908(0xdfc)](_0x38f908(0xe3b),resetDimTimer),window[_0x38f908(0xdfc)](_0x38f908(0xc7a),resetDimTimer),console[_0x38f908(0xbe2)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2b1170,_0xb6c224=![]){const _0x405ffc=_0x5be2be,_0x295d30=allQuizzes[_0x405ffc(0x35d)](_0x36ccbf=>_0x36ccbf['id']===_0x2b1170)||allQuizzesGlobal[_0x405ffc(0x35d)](_0x337548=>_0x337548['id']===_0x2b1170);if(!_0x295d30){showMessage(_0x405ffc(0xe33));return;}currentQuizData=getShuffledQuiz(_0x295d30);const _0x2d9a64=Math[_0x405ffc(0x211)](0x3e8+Math[_0x405ffc(0x4ab)]()*0x2328)['toString']();try{const _0x18c7b7=await addDoc(collection(db,'artifacts/'+appId+_0x405ffc(0x6a6)),{'quizId':_0x295d30['id'],'projectId':_0x295d30[_0x405ffc(0xbb0)],'status':_0x405ffc(0xa69),'pin':_0x2d9a64,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xb6c224});currentTeamQuizId=_0x18c7b7['id'],showView(_0x405ffc(0x82d)),renderAdminTeamQuizDashboard(_0x2d9a64,_0x295d30[_0x405ffc(0x380)]),listenForTeamQuizUpdates();}catch(_0x385f52){console[_0x405ffc(0x339)](_0x405ffc(0x7ad),_0x385f52),showMessage(_0x405ffc(0x4c9));}}function renderAdminTeamQuizDashboard(_0xc2060,_0xaadf97,_0x5070a0='team'){const _0x4c756c=_0x5be2be,_0x3f776c=_0x5070a0===_0x4c756c(0x21e)?_0x4c756c(0x359):_0x4c756c(0xd9e);liveGameView[_0x4c756c(0x40b)]=_0x4c756c(0x758)+_0x3f776c+':\x20'+_0xaadf97+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0xc2060+_0x4c756c(0xcb5),document[_0x4c756c(0xc4d)](_0x4c756c(0xbc7))['addEventListener'](_0x4c756c(0x4f4),async()=>{const _0x55c111=_0x4c756c;showConfirmation(_0x55c111(0xc30),async()=>{const _0x4880d6=_0x55c111;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4880d6(0x6e9)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x4880d6(0x5e1));});});}function listenForTeamQuizUpdates(){const _0x55be8f=_0x5be2be;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1ea283=doc(db,_0x55be8f(0x6e9)+appId+_0x55be8f(0x6a6),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1ea283,_0x32b16b=>{const _0x4f43cd=_0x55be8f;if(!_0x32b16b[_0x4f43cd(0x509)]()){sessionStorage[_0x4f43cd(0x996)](_0x4f43cd(0xc99));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4f43cd(0x602));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x4f43cd(0x5e1)):showView(_0x4f43cd(0x7e7));return;}const _0x492c99=_0x32b16b[_0x4f43cd(0x1de)]();if(currentMode==='admin'){if(_0x492c99[_0x4f43cd(0x5b1)]===_0x4f43cd(0x21e)&&_0x492c99[_0x4f43cd(0x7c3)]!==_0x4f43cd(0x434)&&_0x492c99[_0x4f43cd(0x7c3)]!==_0x4f43cd(0x331)){const _0x310be8=Object['values'](_0x492c99[_0x4f43cd(0x8ac)]||{});if(_0x310be8[_0x4f43cd(0x724)]>0x0){const _0x207980=_0x310be8[_0x4f43cd(0x55e)](_0x11746f=>_0x11746f[_0x4f43cd(0x79e)]===!![]);_0x207980&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x492c99);}else{if(_0x492c99['status']==='podium'||_0x492c99[_0x4f43cd(0x7c3)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x492c99[_0x4f43cd(0x5b1)]===_0x4f43cd(0x21e)){const _0x523ec0=_0x492c99['groups'][userId];(!_0x523ec0||!_0x523ec0['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1f916b){const _0x158899=_0x5be2be;console[_0x158899(0xbe2)](_0x158899(0x89b));const _0x233dc3=doc(db,_0x158899(0x6e9)+appId+_0x158899(0x6a6),_0x1f916b);try{const _0x8117ec=await getDoc(_0x233dc3);if(_0x8117ec['exists']()){const _0x173ea4=_0x8117ec[_0x158899(0x1de)]();_0x173ea4[_0x158899(0x9ef)]&&await saveGameResultsAsSubmissions(_0x173ea4);}await updateDoc(_0x233dc3,{'status':_0x158899(0x434)});}catch(_0x2fd430){console[_0x158899(0x339)](_0x158899(0x81c),_0x2fd430);}}function updateAdminTeamDashboard(_0x484348){const _0x3d61cd=_0x5be2be,_0x53fd0a=document['getElementById'](_0x3d61cd(0x8c8));if(!_0x53fd0a)return;const _0xebafed=_0x484348[_0x3d61cd(0x5b1)]||_0x3d61cd(0x5c3),_0x35c5fd=currentQuizData[_0x3d61cd(0xb1f)][_0x3d61cd(0x724)];if(_0xebafed===_0x3d61cd(0x21e)){const _0x45ee0=Object[_0x3d61cd(0x37f)](_0x484348['groups']||{});if(_0x45ee0[_0x3d61cd(0x724)]===0x0){_0x53fd0a[_0x3d61cd(0x40b)]=_0x3d61cd(0xdb5);return;}const _0x185960=[..._0x45ee0][_0x3d61cd(0x332)]((_0x1ff33e,_0x2c5c7e)=>_0x2c5c7e[_0x3d61cd(0x82f)]-_0x1ff33e[_0x3d61cd(0x82f)]),_0x113133=_0x185960[_0x3d61cd(0x546)]((_0x971756,_0x128935)=>{const _0x38869b=_0x3d61cd,_0x5e1874=_0x971756[_0x38869b(0x90b)]?.[_0x38869b(0x724)]||0x0;return _0x38869b(0x2a1)+(_0x128935+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x971756['members'][_0x38869b(0x625)](',\x20')+_0x38869b(0x64e)+_0x5e1874+'/'+_0x35c5fd+_0x38869b(0x8b6)+_0x971756[_0x38869b(0x82f)]+_0x38869b(0xd87);})[_0x3d61cd(0x625)](''),_0x9a9393=currentQuizData['questions']['map']((_0x562b0d,_0x66cc0c)=>{const _0xed08f7=_0x3d61cd;let _0x5c4956=0x0,_0x3bd657=0x0;_0x45ee0[_0xed08f7(0xd75)](_0x4b811a=>{const _0x3ac94d=_0xed08f7,_0x696cf8=_0x4b811a['answers']?.[_0x3ac94d(0x35d)](_0x4d9ca6=>_0x4d9ca6[_0x3ac94d(0x2b6)]===_0x66cc0c);if(_0x696cf8){_0x3bd657++;if(_0x696cf8[_0x3ac94d(0xd32)])_0x5c4956++;}});const _0x470768=_0x3bd657>0x0&&_0x3bd657===_0x45ee0['length'],_0x2b6a44=_0x470768?_0xed08f7(0x3c4):_0xed08f7(0x553),_0x110e68=_0x470768?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x2b6a44+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x66cc0c+0x1)+':</span><span>'+_0x110e68+_0xed08f7(0xe38)+_0x5c4956+'/'+_0x45ee0[_0xed08f7(0x724)]+_0xed08f7(0x16b);})['join']('');_0x53fd0a[_0x3d61cd(0x40b)]=_0x3d61cd(0xaf4)+_0x113133+_0x3d61cd(0xb36)+_0x9a9393+_0x3d61cd(0x87b);return;}const _0x20e7ab=_0x484348[_0x3d61cd(0x3b7)]||{},_0x130bc5=Object[_0x3d61cd(0x74b)](_0x20e7ab);if(_0x130bc5['length']===0x0){_0x53fd0a['innerHTML']=_0x3d61cd(0xa55);return;}const _0x15036e=_0x130bc5[_0x3d61cd(0x546)](_0x593647=>({'name':_0x593647,'score':_0x20e7ab[_0x593647][_0x3d61cd(0x82f)]||0x0}))[_0x3d61cd(0x332)]((_0xa6c2b8,_0x3fda94)=>_0x3fda94[_0x3d61cd(0x82f)]-_0xa6c2b8[_0x3d61cd(0x82f)]),_0x3e2437=_0x15036e['map'](_0x1fb06b=>{const _0x4cd544=_0x3d61cd,_0x168dfe=_0x20e7ab[_0x1fb06b[_0x4cd544(0x1b0)]]?.[_0x4cd544(0x90b)]?.[_0x4cd544(0x724)]||0x0,_0x1adf72=Math['ceil'](_0x35c5fd/_0x130bc5[_0x4cd544(0x724)]);return _0x4cd544(0x9f2)+_0x1fb06b[_0x4cd544(0x1b0)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x168dfe+'/'+_0x1adf72+_0x4cd544(0x725)+_0x1fb06b[_0x4cd544(0x82f)]+_0x4cd544(0xac1);})[_0x3d61cd(0x625)](''),_0x2fb8e8=_0x130bc5[_0x3d61cd(0xd5b)]((_0x2d318c,_0x4b2052)=>_0x2d318c+(_0x20e7ab[_0x4b2052][_0x3d61cd(0x90b)]?.[_0x3d61cd(0x724)]||0x0),0x0),_0x4ba5a2=currentQuizData[_0x3d61cd(0xb1f)][_0x3d61cd(0x546)]((_0x1b27ee,_0xf55104)=>{const _0x20f1cd=_0x3d61cd;let _0x57e68a=null,_0x55ea9d=null;for(const _0x418445 of _0x130bc5){const _0x5ab7a0=_0x20e7ab[_0x418445][_0x20f1cd(0x90b)]?.[_0x20f1cd(0x35d)](_0x539b2d=>_0x539b2d[_0x20f1cd(0x2b6)]===_0xf55104);if(_0x5ab7a0){_0x57e68a=_0x5ab7a0,_0x55ea9d=_0x418445;break;}}const _0x71dd07=!!_0x57e68a,_0x3d81a5=_0x71dd07&&_0x57e68a[_0x20f1cd(0xd32)],_0x48ec1f=(Math[_0x20f1cd(0x211)](_0xf55104/_0x130bc5[_0x20f1cd(0x724)])+0x1)*_0x130bc5[_0x20f1cd(0x724)],_0x226e47=_0x2fb8e8>=_0x48ec1f,_0x1ae52b=_0x226e47?_0x20f1cd(0x329):_0x20f1cd(0x553),_0x54f1ef=_0x226e47?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x41e892=_0x20f1cd(0xb50);return _0x71dd07&&(_0x41e892=_0x55ea9d+_0x20f1cd(0xbbc)+(_0x3d81a5?_0x20f1cd(0x451):_0x20f1cd(0x8f7))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1ae52b+_0x20f1cd(0x274)+(_0xf55104+0x1)+_0x20f1cd(0xd2e)+_0x54f1ef+_0x20f1cd(0xbfb)+_0x41e892+_0x20f1cd(0x343);})[_0x3d61cd(0x625)]('');_0x53fd0a[_0x3d61cd(0x40b)]=_0x3d61cd(0x5b6)+_0x3e2437+_0x3d61cd(0xc16)+_0x4ba5a2+_0x3d61cd(0x87b);}async function handleJoinTeamQuiz(){const _0x1f7d9a=_0x5be2be,_0x39e3fc=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x39e3fc||_0x39e3fc[_0x1f7d9a(0x2ce)]()[_0x1f7d9a(0x724)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x35520d=collection(db,_0x1f7d9a(0x6e9)+appId+'/public/data/teamQuizzes'),_0x18313c=query(_0x35520d,where('pin','==',_0x39e3fc[_0x1f7d9a(0x2ce)]()),where(_0x1f7d9a(0x7c3),'==',_0x1f7d9a(0xa69))),_0x3e1e3c=await getDocs(_0x18313c);if(_0x3e1e3c[_0x1f7d9a(0xdbf)]){showMessage(_0x1f7d9a(0x243));return;}const _0x1e1ba8=_0x3e1e3c['docs'][0x0];currentTeamQuizId=_0x1e1ba8['id'];const _0x38620a=_0x1e1ba8[_0x1f7d9a(0x1de)](),_0x228979=doc(db,_0x1f7d9a(0x6e9)+appId+_0x1f7d9a(0x9b0),_0x38620a['projectId']),_0x46310d=doc(db,_0x1f7d9a(0x6e9)+appId+_0x1f7d9a(0x42c),_0x38620a[_0x1f7d9a(0x939)]),[_0x2a651e,_0x12b1f5]=await Promise[_0x1f7d9a(0x1d5)]([getDoc(_0x228979),getDoc(_0x46310d)]);if(!_0x2a651e[_0x1f7d9a(0x509)]()||!_0x12b1f5['exists']())throw new Error(_0x1f7d9a(0x6fc));currentQuizData=getShuffledQuiz({'id':_0x12b1f5['id'],..._0x12b1f5[_0x1f7d9a(0x1de)]()});const _0x351789=_0x2a651e[_0x1f7d9a(0x1de)]();showTeamPlayerSelection(_0x351789[_0x1f7d9a(0x94c)],currentQuizData[_0x1f7d9a(0x380)]);}catch(_0x26cc95){console[_0x1f7d9a(0x339)]('Error\x20joining\x20team\x20quiz:',_0x26cc95),showMessage(_0x1f7d9a(0xcf6)+_0x26cc95[_0x1f7d9a(0xba5)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x24ff40=_0x5be2be;currentInputPin='',updatePinDisplay(),document['getElementById']('pin-entry-modal')[_0x24ff40(0x6f1)][_0x24ff40(0x7d9)](_0x24ff40(0x476));}function updatePinDisplay(){const _0x1a569d=_0x5be2be,_0x478331=document['querySelectorAll'](_0x1a569d(0x497));_0x478331[_0x1a569d(0xd75)]((_0x32152b,_0x4b2aeb)=>{const _0x26ab99=_0x1a569d;_0x4b2aeb<currentInputPin[_0x26ab99(0x724)]?(_0x32152b[_0x26ab99(0x4c4)]=currentInputPin[_0x4b2aeb],_0x32152b[_0x26ab99(0x6f1)][_0x26ab99(0x648)](_0x26ab99(0x153),_0x26ab99(0xb21)),_0x32152b[_0x26ab99(0x6f1)]['remove'](_0x26ab99(0x820),'bg-gray-50')):(_0x32152b[_0x26ab99(0x4c4)]='',_0x32152b[_0x26ab99(0x6f1)]['remove'](_0x26ab99(0x153),_0x26ab99(0xb21)),_0x32152b[_0x26ab99(0x6f1)][_0x26ab99(0x648)](_0x26ab99(0x820),_0x26ab99(0x144)));});}async function handlePinKeyPress(_0x1a8fd5){const _0x5084d2=_0x5be2be;if(_0x1a8fd5==='backspace')currentInputPin=currentInputPin[_0x5084d2(0x647)](0x0,-0x1);else currentInputPin[_0x5084d2(0x724)]<0x4&&(currentInputPin+=_0x1a8fd5);updatePinDisplay(),currentInputPin[_0x5084d2(0x724)]===0x4&&setTimeout(async()=>{const _0x51a13f=_0x5084d2;document[_0x51a13f(0xc4d)]('pin-entry-modal')[_0x51a13f(0x6f1)][_0x51a13f(0x648)]('hidden'),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x3f15ad){const _0x26fbd7=_0x5be2be,_0x2930ba=_0x3f15ad[_0x26fbd7(0x2ce)]();showMessage(_0x26fbd7(0x3fa));try{const _0x1c31e5=collection(db,_0x26fbd7(0x6e9)+appId+_0x26fbd7(0x6a6)),_0x1cd2c0=query(_0x1c31e5,where(_0x26fbd7(0x6fa),'==',_0x2930ba),where(_0x26fbd7(0x7c3),'==','lobby')),_0x482505=await getDocs(_0x1cd2c0);if(!_0x482505[_0x26fbd7(0xdbf)]){console[_0x26fbd7(0xbe2)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x482505[_0x26fbd7(0x2b9)][0x0]);return;}const _0x2fc7ad=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x1f554c=query(_0x2fc7ad,where(_0x26fbd7(0x6fa),'==',_0x2930ba),where('status','in',[_0x26fbd7(0xa69),_0x26fbd7(0xbc5),_0x26fbd7(0x445),_0x26fbd7(0x338)])),_0x3f15df=await getDocs(_0x1f554c);if(!_0x3f15df[_0x26fbd7(0xdbf)]){console[_0x26fbd7(0xbe2)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x3f15df['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x1561fa){console['error'](_0x26fbd7(0x7ca),_0x1561fa),showMessage(_0x26fbd7(0xa0d)+_0x1561fa[_0x26fbd7(0xba5)]);}}async function proceedWithTeamQuizJoin(_0x5ecda4){const _0x44cc0d=_0x5be2be;currentTeamQuizId=_0x5ecda4['id'];const _0x3ca23c=_0x5ecda4['data'](),_0x23aa36=doc(db,_0x44cc0d(0x6e9)+appId+_0x44cc0d(0x9b0),_0x3ca23c[_0x44cc0d(0xbb0)]),_0x373e28=doc(db,_0x44cc0d(0x6e9)+appId+_0x44cc0d(0x42c),_0x3ca23c['quizId']),[_0x38b149,_0x11366c]=await Promise['all']([getDoc(_0x23aa36),getDoc(_0x373e28)]);if(!_0x38b149[_0x44cc0d(0x509)]()||!_0x11366c[_0x44cc0d(0x509)]())throw new Error(_0x44cc0d(0x6fc));currentQuizData=getShuffledQuiz({'id':_0x11366c['id'],..._0x11366c[_0x44cc0d(0x1de)]()}),showTeamPlayerSelection(_0x38b149[_0x44cc0d(0x1de)]()['students'],currentQuizData[_0x44cc0d(0x380)],_0x3ca23c['mode']||'team'),messageModal['classList'][_0x44cc0d(0x648)](_0x44cc0d(0x476));}async function proceedWithSyncQuizJoin(_0x3e1dfa){const _0x36265c=_0x5be2be;currentLiveGameId=_0x3e1dfa['id'];const _0x34ab56=_0x3e1dfa[_0x36265c(0x1de)](),_0x504726=doc(db,_0x36265c(0x6e9)+appId+_0x36265c(0x42c),_0x34ab56['quizId']),_0xe795ee=await getDoc(_0x504726);if(!_0xe795ee['exists']())throw new Error(_0x36265c(0xe33));const _0xfc6135=_0xe795ee[_0x36265c(0x1de)](),_0x3ba186=doc(db,_0x36265c(0x6e9)+appId+_0x36265c(0x9b0),_0xfc6135[_0x36265c(0xbb0)]),_0x1e1767=await getDoc(_0x3ba186);if(!_0x1e1767[_0x36265c(0x509)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x34ab56[_0x36265c(0x1c4)],showView('student-team-join'),showTeamPlayerSelection(_0x1e1767[_0x36265c(0x1de)]()[_0x36265c(0x94c)],_0xfc6135[_0x36265c(0x380)],_0x36265c(0xaa1));const _0x5bea29=document['getElementById'](_0x36265c(0x481)),_0x2750ee=_0x5bea29[_0x36265c(0x686)](!![]);_0x5bea29[_0x36265c(0xc28)]['replaceChild'](_0x2750ee,_0x5bea29),_0x2750ee[_0x36265c(0x8f5)]=confirmAndJoinSyncGame,messageModal[_0x36265c(0x6f1)][_0x36265c(0x648)]('hidden');}function getCleanApplicationHTML(){const _0x2876bb=_0x5be2be,_0x30f249=document['getElementById'](_0x2876bb(0x124));if(!_0x30f249)return'';const _0x4e8b57=_0x30f249[_0x2876bb(0x686)](!![]);return _0x4e8b57['querySelectorAll'](_0x2876bb(0x3d7))[_0x2876bb(0xd75)](_0x5b8153=>{const _0x35f5fb=_0x2876bb;_0x5b8153[_0x35f5fb(0x6f1)][_0x35f5fb(0x7d9)](_0x35f5fb(0x1c3),_0x35f5fb(0x51c)),_0x5b8153['disabled']=![];}),_0x4e8b57[_0x2876bb(0x40b)];}function showTeamPlayerSelection(_0x2b56bc,_0x48eaa3,_0x241dfa=_0x5be2be(0x5c3)){const _0x5c3b9b=_0x5be2be;studentInitialView[_0x5c3b9b(0x6f1)][_0x5c3b9b(0x648)](_0x5c3b9b(0x476)),studentJoinGameView['classList'][_0x5c3b9b(0x648)](_0x5c3b9b(0x476)),document[_0x5c3b9b(0xc4d)]('student-team-selection-view')['classList']['remove'](_0x5c3b9b(0x476));let _0x525618='Team\x20Quiz';if(_0x241dfa===_0x5c3b9b(0x21e))_0x525618='Group\x20Mode';else _0x241dfa==='sync'&&(_0x525618=_0x5c3b9b(0xc93));document['getElementById'](_0x5c3b9b(0xd64))[_0x5c3b9b(0x4c4)]=_0x525618+':\x20'+_0x48eaa3;const _0x1108c3=document[_0x5c3b9b(0xc4d)]('team-student-list');if(!_0x2b56bc||_0x2b56bc[_0x5c3b9b(0x724)]===0x0){_0x1108c3['innerHTML']=_0x5c3b9b(0x964),document[_0x5c3b9b(0xc4d)]('confirm-team-players-btn')[_0x5c3b9b(0xbb3)]=!![];return;}_0x1108c3[_0x5c3b9b(0x40b)]=_0x2b56bc[_0x5c3b9b(0x546)](_0x863d49=>_0x5c3b9b(0xd33)+_0x863d49+_0x5c3b9b(0xb07)+_0x863d49+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x5c3b9b(0x625)](''),document['getElementById'](_0x5c3b9b(0x481))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x263e97=_0x5be2be,_0x2da381=Array['from'](document[_0x263e97(0x760)]('input[name=\x22team_player\x22]:checked'))[_0x263e97(0x546)](_0x5ab379=>_0x5ab379[_0x263e97(0x1ce)]);if(_0x2da381['length']===0x0){showMessage(_0x263e97(0x16d));return;}localTeamPlayers=_0x2da381,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x41f11b=doc(db,'artifacts/'+appId+_0x263e97(0x6a6),currentTeamQuizId);try{const _0x581663=await getDoc(_0x41f11b);if(!_0x581663['exists']())throw new Error(_0x263e97(0x9c8));const _0x19caf3=_0x581663[_0x263e97(0x1de)]();if(_0x19caf3[_0x263e97(0x5b1)]===_0x263e97(0x21e)){const _0x16cb9f={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x41f11b,_0x16cb9f);}else{const _0x9488e4=_0x19caf3[_0x263e97(0x3b7)]||{};localTeamPlayers[_0x263e97(0xd75)](_0x2341cc=>{!_0x9488e4[_0x2341cc]&&(_0x9488e4[_0x2341cc]={'score':0x0,'answers':[]});}),await updateDoc(_0x41f11b,{'responses':_0x9488e4});}document['getElementById'](_0x263e97(0x324))[_0x263e97(0x6f1)][_0x263e97(0x648)](_0x263e97(0x476)),renderTeamQuizQuestion();const _0xdee9e1={'gameId':currentTeamQuizId,'mode':_0x19caf3[_0x263e97(0x5b1)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x263e97(0x2c5)]('activeGameSession',JSON[_0x263e97(0x3f3)](_0xdee9e1)),listenForTeamQuizUpdates();}catch(_0xfd6b24){console[_0x263e97(0x339)](_0x263e97(0x86d),_0xfd6b24),showMessage(_0x263e97(0xc3d));}}async function renderTeamQuizQuestion(){const _0x20c968=_0x5be2be;if(localQuestionIndex>=currentQuizData[_0x20c968(0xb1f)][_0x20c968(0x724)]){displayTeamQuizFinalResults();return;}const _0xfa9809=currentQuizData[_0x20c968(0xb1f)][localQuestionIndex],_0x2848ce=localTeamPlayers[localPlayerIndex],_0x147fea=_0xfa9809[_0x20c968(0xc7b)]||currentQuizData[_0x20c968(0xd93)];let _0x1fd761=_0xfa9809['stem']||_0xfa9809[_0x20c968(0x9b3)],_0x9db35b='';switch(_0x147fea){case _0x20c968(0x807):case'fill_in_with_choices':_0x9db35b=_0xfa9809[_0x20c968(0xa3c)]['map']((_0x828e89,_0x30d916)=>_0x20c968(0x954)+_0x30d916+_0x20c968(0x77f)+_0x30d916+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x30d916+'\x22>'+_0x828e89+_0x20c968(0xaff))[_0x20c968(0x625)]('');break;case _0x20c968(0xd99):_0x9db35b=_0x20c968(0x596);break;case _0x20c968(0x738):case _0x20c968(0xa13):_0x9db35b=_0x20c968(0x791);break;case _0x20c968(0xd41):_0x9db35b='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0xfa9809['allResponses'][_0x20c968(0x546)](_0x3d53ee=>'<option\x20value=\x22'+_0x3d53ee+'\x22>'+_0x3d53ee+_0x20c968(0xa37))[_0x20c968(0x625)]('')+_0x20c968(0xbcc);break;default:_0x9db35b='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x20c968(0x40b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x20c968(0x6e0)+currentQuizData[_0x20c968(0xb1f)]['length']+_0x20c968(0x6eb)+_0x2848ce+_0x20c968(0x83e)+(localQuestionIndex+0x1)+'.\x20'+_0x1fd761+_0x20c968(0xb85)+(_0xfa9809[_0x20c968(0x145)]?_0x20c968(0x3a2)+_0xfa9809[_0x20c968(0x145)]+_0x20c968(0xcf0):'')+_0x20c968(0x584)+_0x9db35b+_0x20c968(0x10c),studentQuizArea['classList'][_0x20c968(0x7d9)](_0x20c968(0x476));if(window['MathJax'])MathJax[_0x20c968(0xd71)]([studentQuizArea]);document[_0x20c968(0xc4d)]('submit-team-answer-btn')['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x399a92=_0x5be2be,_0x51b840=currentQuizData['questions'][localQuestionIndex],_0x4af176=_0x51b840[_0x399a92(0xc7b)]||currentQuizData[_0x399a92(0xd93)];let _0x30414b=null,_0x2559cf=![];if(_0x4af176===_0x399a92(0x738)||_0x4af176===_0x399a92(0xa13)){const _0x38fd35=document[_0x399a92(0xab2)](_0x399a92(0xc56));if(!_0x38fd35||!_0x38fd35['value']['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x30414b=_0x38fd35[_0x399a92(0x1ce)][_0x399a92(0x2ce)](),_0x2559cf=await gradeShortAnswer(_0x30414b,_0x51b840);}else{const _0x358e0d=document['querySelector'](_0x399a92(0x4bb));if(!_0x358e0d||_0x358e0d['value']===''){showMessage(_0x399a92(0xba6));return;}_0x30414b=_0x358e0d[_0x399a92(0x1ce)];switch(_0x4af176){case _0x399a92(0xd99):_0x2559cf=_0x30414b===_0x399a92(0xe16)===_0x51b840[_0x399a92(0x66a)];break;case'matching_item':_0x2559cf=_0x30414b===_0x51b840[_0x399a92(0xa3a)];break;default:_0x2559cf=parseInt(_0x30414b)===_0x51b840[_0x399a92(0x6cf)];break;}}const _0x42dfbc={'questionIndex':localQuestionIndex,'isCorrect':_0x2559cf},_0x4505ea=userId,_0x243467={[_0x399a92(0x240)+_0x4505ea+_0x399a92(0xb2a)]:arrayUnion(_0x42dfbc)};_0x2559cf&&(_0x243467[_0x399a92(0x240)+_0x4505ea+_0x399a92(0x90d)]=increment(0x1));try{await updateDoc(doc(db,_0x399a92(0x6e9)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x243467),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x399a92(0xb1f)][_0x399a92(0x724)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2e6efa){console['error'](_0x399a92(0x6f3),_0x2e6efa),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x159b04=_0x5be2be,_0x2db809=await getDoc(doc(db,_0x159b04(0x6e9)+appId+_0x159b04(0x6a6),currentTeamQuizId));if(!_0x2db809['exists']())return;const _0x3ec6cc=_0x2db809[_0x159b04(0x1de)]();if(_0x3ec6cc[_0x159b04(0x5b1)]===_0x159b04(0x21e)){handleGroupAnswerSubmit();return;}const _0x15f1e9=localTeamPlayers[localPlayerIndex],_0x287ad9=currentQuizData[_0x159b04(0xb1f)][localQuestionIndex],_0x1136d3=_0x287ad9[_0x159b04(0xc7b)]||currentQuizData[_0x159b04(0xd93)];let _0x26cf6e=null,_0x2bbd9a=![];if(_0x1136d3===_0x159b04(0x738)||_0x1136d3===_0x159b04(0xa13)){const _0x1d6106=document[_0x159b04(0xab2)](_0x159b04(0xc56));if(!_0x1d6106||!_0x1d6106[_0x159b04(0x1ce)]['trim']()){showMessage(_0x159b04(0x377));return;}_0x26cf6e=_0x1d6106[_0x159b04(0x1ce)][_0x159b04(0x2ce)](),_0x2bbd9a=await gradeShortAnswer(_0x26cf6e,_0x287ad9);}else{const _0x18e013=document[_0x159b04(0xab2)](_0x159b04(0x4bb));if(!_0x18e013||_0x18e013[_0x159b04(0x1ce)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x26cf6e=_0x18e013[_0x159b04(0x1ce)];switch(_0x1136d3){case _0x159b04(0xd99):_0x2bbd9a=_0x26cf6e===_0x159b04(0xe16)===_0x287ad9[_0x159b04(0x66a)];break;case _0x159b04(0xd41):_0x2bbd9a=_0x26cf6e===_0x287ad9[_0x159b04(0xa3a)];break;default:_0x2bbd9a=parseInt(_0x26cf6e)===_0x287ad9[_0x159b04(0x6cf)];break;}}const _0x303792={'questionIndex':localQuestionIndex,'isCorrect':_0x2bbd9a,'answerValue':_0x26cf6e},_0x19b851={[_0x159b04(0x18d)+_0x15f1e9+_0x159b04(0xb2a)]:arrayUnion(_0x303792)};_0x2bbd9a&&(_0x19b851[_0x159b04(0x18d)+_0x15f1e9+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x159b04(0x6a6),currentTeamQuizId),_0x19b851),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x159b04(0x724)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x144e45){console[_0x159b04(0x339)](_0x159b04(0xcd1),_0x144e45),showMessage(_0x159b04(0xc2a));}}async function displayTeamQuizFinalResults(){const _0x6fdd08=_0x5be2be;studentQuizArea[_0x6fdd08(0x6f1)]['add'](_0x6fdd08(0x476)),studentResultArea[_0x6fdd08(0x6f1)][_0x6fdd08(0x7d9)](_0x6fdd08(0x476));const _0xf41590=doc(db,'artifacts/'+appId+_0x6fdd08(0x6a6),currentTeamQuizId),_0x2d5314=await getDoc(_0xf41590);if(!_0x2d5314[_0x6fdd08(0x509)]()){studentResultArea[_0x6fdd08(0x40b)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x5a9bdb=_0x2d5314[_0x6fdd08(0x1de)]();let _0x1eb670=[];const _0x265187=_0x5a9bdb[_0x6fdd08(0x5b1)]||_0x6fdd08(0x5c3);if(_0x265187===_0x6fdd08(0x21e)){const _0x5f257b=_0x5a9bdb[_0x6fdd08(0x8ac)][userId];_0x5f257b?_0x1eb670=[{'name':_0x6fdd08(0x15a)+localTeamPlayers[_0x6fdd08(0x625)](',\x20'),'score':_0x5f257b['score']||0x0}]:_0x1eb670=[{'name':_0x6fdd08(0x4f7),'score':'N/A'}];}else _0x1eb670=localTeamPlayers[_0x6fdd08(0x546)](_0x14e3d3=>({'name':_0x14e3d3,'score':_0x5a9bdb['responses'][_0x14e3d3]?.['score']||0x0}))[_0x6fdd08(0x332)]((_0x54c0b8,_0x33d295)=>_0x33d295[_0x6fdd08(0x82f)]-_0x54c0b8[_0x6fdd08(0x82f)]);studentResultArea[_0x6fdd08(0x40b)]=_0x6fdd08(0x8c1)+_0x1eb670[_0x6fdd08(0x546)](_0xaa8762=>_0x6fdd08(0x649)+_0xaa8762[_0x6fdd08(0x1b0)]+_0x6fdd08(0x9bd)+_0xaa8762[_0x6fdd08(0x82f)]+_0x6fdd08(0x2f9))['join']('')+_0x6fdd08(0x293),sessionStorage[_0x6fdd08(0x996)](_0x6fdd08(0xc99)),currentMode===_0x6fdd08(0x84c)&&currentTeamQuizId&&setTimeout(()=>{const _0x4c3f6e=_0x6fdd08;deleteDoc(doc(db,_0x4c3f6e(0x6e9)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x5be2be(0x63d)};const allMathTopics=[{'category':_0x5be2be(0xc94),'name':'การนับ'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x16f)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x866)},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0x269)},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xb86)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x2ff)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xa33)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x5be2be(0xc94),'name':'จำนวนเต็มลบ'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x170)},{'category':_0x5be2be(0xc94),'name':'ค่าสัมบูรณ์'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x7ac)},{'category':_0x5be2be(0xc94),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x69b)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x32f)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x5e8)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x302)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x3ec)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x30d)},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0x7c4)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xd09)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x39b)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x27e)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xdf2)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xb8c)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x7d1)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x608)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0x441)},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0xdc8)},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0x189)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0x829)},{'category':'จำนวนและการดำเนินการ','name':_0x5be2be(0x244)},{'category':_0x5be2be(0xc94),'name':_0x5be2be(0xa28)},{'category':_0x5be2be(0x613),'name':'หน่วยความยาวและการแปลง'},{'category':_0x5be2be(0x613),'name':_0x5be2be(0x38c)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0xaf1)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0xc05)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0x8e0)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0xc3c)},{'category':_0x5be2be(0x613),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x5be2be(0x613),'name':_0x5be2be(0x3f5)},{'category':'การวัด','name':_0x5be2be(0x9c2)},{'category':_0x5be2be(0x613),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x5be2be(0x613),'name':_0x5be2be(0x236)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0xd6)},{'category':_0x5be2be(0x613),'name':_0x5be2be(0x97a)},{'category':'เรขาคณิต','name':_0x5be2be(0xc87)},{'category':_0x5be2be(0x6cd),'name':_0x5be2be(0xd5)},{'category':_0x5be2be(0x6cd),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x5be2be(0x3f5)},{'category':'เรขาคณิต','name':_0x5be2be(0xc06)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x5be2be(0x6cd),'name':_0x5be2be(0x8c3)},{'category':_0x5be2be(0x6cd),'name':_0x5be2be(0xe6c)},{'category':_0x5be2be(0x6cd),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':'เรขาคณิต','name':_0x5be2be(0x9f6)},{'category':'เรขาคณิต','name':_0x5be2be(0xc26)},{'category':_0x5be2be(0x6cd),'name':_0x5be2be(0x345)},{'category':_0x5be2be(0x6cd),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x5be2be(0x6cd),'name':_0x5be2be(0x537)},{'category':_0x5be2be(0x6cd),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x5be2be(0xba1),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x234)},{'category':_0x5be2be(0xba1),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x14c)},{'category':_0x5be2be(0xba1),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x5be2be(0xba1),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x5be2be(0xba1),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xba0)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x35f)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x292)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xbf7)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x9a4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x800)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xc95)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x6c9)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xd83)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xb09)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x6db)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x8db)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x469)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x9de)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x39e)},{'category':_0x5be2be(0xba1),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x8c2)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x82a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x27d)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x968)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x688)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xc07)},{'category':_0x5be2be(0xba1),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5be2be(0x7d2)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0x130)},{'category':_0x5be2be(0xba1),'name':_0x5be2be(0xca2)},{'category':_0x5be2be(0xa85),'name':_0x5be2be(0xcdb)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5be2be(0x460)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5be2be(0x7bc)},{'category':_0x5be2be(0xa85),'name':_0x5be2be(0xb18)},{'category':_0x5be2be(0xa85),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x5be2be(0xa85),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x5be2be(0xa85),'name':_0x5be2be(0xc25)},{'category':_0x5be2be(0xa85),'name':_0x5be2be(0xbe3)},{'category':_0x5be2be(0xa85),'name':_0x5be2be(0xe31)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0xb94)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0x810)},{'category':'ตรีโกณมิติ','name':_0x5be2be(0xe1a)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0x1b1)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0xc52)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0x9bc)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0x728)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0xbd9)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0xbf6)},{'category':_0x5be2be(0x8e1),'name':_0x5be2be(0x94b)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0xe09)},{'category':'สถิติและความน่าจะเป็น','name':_0x5be2be(0x958)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0xb81)},{'category':_0x5be2be(0x6b1),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x5be2be(0x4a6)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x3f9)},{'category':'สถิติและความน่าจะเป็น','name':_0x5be2be(0x7a7)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':_0x5be2be(0x6b1),'name':'ฐานนิยม'},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x12e)},{'category':_0x5be2be(0x6b1),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x897)},{'category':_0x5be2be(0x6b1),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x474)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x656)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0xdc3)},{'category':'สถิติและความน่าจะเป็น','name':_0x5be2be(0x3e6)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x523)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0xa9f)},{'category':'สถิติและความน่าจะเป็น','name':_0x5be2be(0x1f7)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0xdac)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x300)},{'category':_0x5be2be(0x6b1),'name':_0x5be2be(0x6d2)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0x543)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0x814)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5be2be(0xbe9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5be2be(0xc0a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5be2be(0x3e7)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0x33a)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0x287)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0xafe)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0x931)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0xb00)},{'category':_0x5be2be(0x3ce),'name':_0x5be2be(0xabe)},{'category':_0x5be2be(0x3ce),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x5be2be(0x3ce),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x5be2be(0xdab),'name':_0x5be2be(0xa88)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x5be2be(0xdab),'name':_0x5be2be(0x628)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5be2be(0x556)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x5be2be(0xdab),'name':_0x5be2be(0x137)},{'category':_0x5be2be(0xa86),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x5be2be(0xa86),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x5be2be(0x623)},{'category':_0x5be2be(0xa86),'name':'ค่าเสื่อมราคา'},{'category':_0x5be2be(0xa86),'name':_0x5be2be(0x841)},{'category':_0x5be2be(0x9fd),'name':_0x5be2be(0x51a)},{'category':_0x5be2be(0x9fd),'name':_0x5be2be(0x33b)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5be2be(0xbef)}];function renderTopicCheckboxes(){const _0x2bd07a=_0x5be2be,_0x3aa247=document[_0x2bd07a(0xc4d)](_0x2bd07a(0x424));if(!_0x3aa247)return;const _0x2aeb9a=allMathTopics,_0x45309a=customMathTopics[_0x2bd07a(0x546)](_0x5b2fde=>({'id':_0x5b2fde['id'],'category':_0x2bd07a(0xb93),'name':_0x5b2fde['name']})),_0x41a76a=[..._0x2aeb9a,..._0x45309a],_0x294c94=_0x41a76a[_0x2bd07a(0xd5b)]((_0x442e5d,_0x1f6c7c)=>{const _0x8da7c5=_0x2bd07a;return!_0x442e5d[_0x1f6c7c[_0x8da7c5(0x698)]]&&(_0x442e5d[_0x1f6c7c[_0x8da7c5(0x698)]]=[]),_0x442e5d[_0x1f6c7c[_0x8da7c5(0x698)]][_0x8da7c5(0x633)](_0x1f6c7c),_0x442e5d;},{});let _0x23051a='';const _0x1ce7d8=[_0x2bd07a(0xb93),...Object[_0x2bd07a(0x74b)](_0x294c94)[_0x2bd07a(0x6e1)](_0x4226be=>_0x4226be!==_0x2bd07a(0xb93))];for(const _0x4dfde2 of _0x1ce7d8){if(_0x294c94[_0x4dfde2]){const _0x553230=_0x4dfde2===_0x2bd07a(0xb93),_0x2c45be=_0x553230?'fas\x20fa-user-edit':_0x2bd07a(0x9d7),_0x4dfdb8=_0x553230?_0x2bd07a(0x7df):_0x2bd07a(0x23e);_0x23051a+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x23051a+=_0x2bd07a(0xd53)+_0x4dfdb8+_0x2bd07a(0x7a5)+_0x2c45be+_0x2bd07a(0x944)+_0x4dfde2+_0x2bd07a(0xe35),_0x294c94[_0x4dfde2][_0x2bd07a(0xd75)](_0x3b16ca=>{const _0x33aea0=_0x2bd07a,_0x4f1831=!!_0x3b16ca['id'],_0x2f137a=_0x4f1831?_0x33aea0(0x37c)+_0x3b16ca['id']+_0x33aea0(0xb7c)+_0x3b16ca['id']+_0x33aea0(0x152)+_0x3b16ca['id']+_0x33aea0(0xd1a)+_0x3b16ca['id']+_0x33aea0(0x58a):'';_0x23051a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x3b16ca['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x3b16ca[_0x33aea0(0x1b0)]+_0x33aea0(0x4f9)+_0x3b16ca[_0x33aea0(0x1b0)]+_0x33aea0(0x113)+(_0x4f1831?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x3b16ca[_0x33aea0(0x1b0)]+'\x22>':'')+_0x33aea0(0xda)+_0x2f137a+_0x33aea0(0xf0);}),_0x23051a+=_0x2bd07a(0xcf0);}}_0x3aa247['innerHTML']=_0x23051a||_0x2bd07a(0xe81),_0x3aa247[_0x2bd07a(0xdfc)](_0x2bd07a(0x25a),updateSelectedTopicsCount),_0x3aa247[_0x2bd07a(0x5a2)](_0x2bd07a(0x25a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x253bfc,_0x26bef4){const _0x21cf10=_0x5be2be;if(!_0x253bfc||!_0x26bef4[_0x21cf10(0x2ce)]()){showMessage(_0x21cf10(0x528));return;}try{const _0x4e4b8e=doc(db,_0x21cf10(0x6e9)+appId+_0x21cf10(0x59c),_0x253bfc);await updateDoc(_0x4e4b8e,{'name':_0x26bef4[_0x21cf10(0x2ce)]()}),showMessage(_0x21cf10(0x43b));}catch(_0x4dc3fd){console[_0x21cf10(0x339)](_0x21cf10(0xe2b),_0x4dc3fd),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x1d7e7d,_0x3b8f8e){const _0x5cc288=_0x5be2be;if(!_0x1d7e7d)return;const _0x19ba34=_0x1d7e7d['querySelector'](_0x5cc288(0x4ae)),_0x168616=_0x1d7e7d[_0x5cc288(0xab2)](_0x5cc288(0x384)),_0x33baf0=_0x1d7e7d[_0x5cc288(0xab2)](_0x5cc288(0x95c)),_0x8e8742=_0x1d7e7d[_0x5cc288(0xab2)]('.topic-actions-edit');_0x19ba34[_0x5cc288(0x6f1)][_0x5cc288(0x545)](_0x5cc288(0x476),_0x3b8f8e),_0x168616[_0x5cc288(0x6f1)][_0x5cc288(0x545)](_0x5cc288(0x476),!_0x3b8f8e),_0x33baf0[_0x5cc288(0x6f1)][_0x5cc288(0x545)](_0x5cc288(0x476),_0x3b8f8e),_0x8e8742[_0x5cc288(0x6f1)][_0x5cc288(0x545)](_0x5cc288(0x476),!_0x3b8f8e),_0x3b8f8e&&(_0x168616['focus'](),_0x168616[_0x5cc288(0xb9e)]());}async function handleStartLiveRace(_0x5a6f5a){const _0x189a89=_0x5be2be;let _0x41b889=allQuizzes['find'](_0x438aa1=>_0x438aa1['id']===_0x5a6f5a);if(!_0x41b889){const _0x4e7b07=doc(db,_0x189a89(0x6e9)+appId+_0x189a89(0x42c),_0x5a6f5a),_0x1f8be7=await getDoc(_0x4e7b07);if(!_0x1f8be7['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x41b889={'id':_0x1f8be7['id'],..._0x1f8be7[_0x189a89(0x1de)]()};}const _0x52cbea=getShuffledQuiz(_0x41b889);currentQuizData=_0x52cbea;const _0x369063=_0x41b889[_0x189a89(0xbb0)]||currentProjectId||null,_0x41f12f=Math[_0x189a89(0x211)](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x41f12f;try{const _0x13d35e=await addDoc(collection(db,'artifacts/'+appId+_0x189a89(0xdd9)),{'quizId':_0x5a6f5a,'projectId':_0x369063,'status':_0x189a89(0xa69),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x41f12f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x52cbea});currentLiveGameId=_0x13d35e['id'],showAdminLobbyView(_0x41f12f,_0x41b889[_0x189a89(0x380)]),listenForLiveGameUpdates();}catch(_0x272d28){console[_0x189a89(0x339)](_0x189a89(0xaf3),_0x272d28),showMessage(_0x189a89(0xcd9));}}function updateSelectedTopicsCount(){const _0x425efe=_0x5be2be,_0x420031=document['getElementById'](_0x425efe(0x424)),_0x4d1831=_0x420031[_0x425efe(0x760)]('input[type=\x22checkbox\x22]:checked')['length'],_0x3dfdb5=document[_0x425efe(0xc4d)]('selected-topics-count');_0x4d1831>0x0?_0x3dfdb5['textContent']=_0x425efe(0x89d)+_0x4d1831+'\x20หัวข้อ)':_0x3dfdb5[_0x425efe(0x4c4)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5be2be(0x7e7),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5be2be(0x148),quizLeaderboardSortOrder=_0x5be2be(0x21b),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x5be2be(0xd92),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x5be2be(0x5de),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x49478c,_0x3f003c){const _0x4fa050=_0x5be2be;return Math[_0x4fa050(0xb3a)](Math[_0x4fa050(0x34f)](_0x49478c['x']-_0x3f003c['x'],0x2)+Math['pow'](_0x49478c['y']-_0x3f003c['y'],0x2));}function getMidpoint(_0x5bdfff,_0x7cf86a){return{'x':(_0x5bdfff['x']+_0x7cf86a['x'])/0x2,'y':(_0x5bdfff['y']+_0x7cf86a['y'])/0x2};}function getTransformedPoint(_0x50a89c,_0xe18aec){return{'x':(_0x50a89c-scratchpadOffset['x'])/scratchpadScale,'y':(_0xe18aec-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x36ebc1=_0x5be2be;if(!scratchpadCtx)return;const _0x54f683=scratchpadCtx[_0x36ebc1(0x719)],_0x514eb9=window['devicePixelRatio']||0x1,_0x2f33c8=document['getElementById']('scratchpad-header');_0x2f33c8&&(_0x2f33c8['style']['transformOrigin']=_0x36ebc1(0x64a),_0x2f33c8['style']['transform']=_0x36ebc1(0xb44)+scratchpadOffset['x']+_0x36ebc1(0xa1e)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x514eb9,0x0,0x0,_0x514eb9,0x0,0x0),scratchpadCtx[_0x36ebc1(0x749)](0x0,0x0,_0x54f683[_0x36ebc1(0x6a7)],_0x54f683[_0x36ebc1(0x5fe)]),scratchpadCtx[_0x36ebc1(0x5ea)](),scratchpadCtx[_0x36ebc1(0xb5f)](),scratchpadCtx[_0x36ebc1(0xdd0)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x36ebc1(0xdf0)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x4837ec=>{drawStroke(_0x4837ec);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x8eae44=_0x5be2be;if(localQuestionIndex>=currentQuizData[_0x8eae44(0xb1f)][_0x8eae44(0x724)]){displayTeamQuizFinalResults();return;}const _0x26c788=currentQuizData[_0x8eae44(0xb1f)][localQuestionIndex],_0x1cae50=_0x26c788[_0x8eae44(0xc7b)]||currentQuizData[_0x8eae44(0xd93)];let _0xceeccb=_0x26c788['stem']||_0x26c788[_0x8eae44(0x9b3)],_0x238371='';switch(_0x1cae50){case'multiple_choice':case _0x8eae44(0x60d):_0x238371=_0x26c788[_0x8eae44(0xa3c)][_0x8eae44(0x546)]((_0x1b92a6,_0x250203)=>_0x8eae44(0x954)+_0x250203+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x250203+_0x8eae44(0x214)+_0x250203+'\x22>'+_0x1b92a6+'</label></div>')[_0x8eae44(0x625)]('');break;case'true_false':_0x238371=_0x8eae44(0x596);break;case _0x8eae44(0x738):case _0x8eae44(0xa13):_0x238371=_0x8eae44(0x8cb);break;case _0x8eae44(0xd41):_0x238371=_0x8eae44(0x6bf)+_0x26c788[_0x8eae44(0xbc0)][_0x8eae44(0x546)](_0x2f0592=>_0x8eae44(0x813)+_0x2f0592+'\x22>'+_0x2f0592+_0x8eae44(0xa37))[_0x8eae44(0x625)]('')+_0x8eae44(0xbcc);break;default:_0x238371=_0x8eae44(0xd2b);break;}studentQuizArea[_0x8eae44(0x40b)]=_0x8eae44(0x9c6)+(localQuestionIndex+0x1)+_0x8eae44(0x6e0)+currentQuizData[_0x8eae44(0xb1f)][_0x8eae44(0x724)]+_0x8eae44(0xc19)+localTeamPlayers[_0x8eae44(0x625)](',\x20')+_0x8eae44(0x83e)+(localQuestionIndex+0x1)+'.\x20'+_0xceeccb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26c788[_0x8eae44(0x145)]?_0x8eae44(0x3a2)+_0x26c788['imageCode']+_0x8eae44(0xcf0):'')+_0x8eae44(0x584)+_0x238371+_0x8eae44(0x69c),studentQuizArea[_0x8eae44(0x6f1)][_0x8eae44(0x7d9)](_0x8eae44(0x476));if(window[_0x8eae44(0x1bb)])MathJax['typesetPromise']([studentQuizArea]);document[_0x8eae44(0xc4d)](_0x8eae44(0x610))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x63a689,_0x2d1864=null,_0x1ae95e,_0x472e4f=null,_0x4aada4=![],_0xfdfb52=null){const _0x1851ba=_0x5be2be,_0x23f44b=document[_0x1851ba(0xc4d)](_0x1851ba(0x1f9));_0x23f44b&&_0x23f44b[_0x1851ba(0xe39)]({'behavior':_0x1851ba(0xe2f),'block':'center'}),generateQuiz(_0x63a689,_0x2d1864,null,_0xfdfb52,!![],_0x1ae95e,_0x472e4f,_0x4aada4);}function handleGenerateAndShowLesson(_0x5f13e0,_0x25d5aa){const _0x51e399=_0x5be2be,_0x47563e=document[_0x51e399(0xc4d)]('lesson-view-modal'),_0x1f54bf=document[_0x51e399(0xc4d)](_0x51e399(0x8d9)),_0x971dd9=document[_0x51e399(0xc4d)](_0x51e399(0x723)),_0x399203=document['getElementById'](_0x51e399(0x5ab));['pointContent','memoryContent','applicationContent',_0x51e399(0x87c)][_0x51e399(0xd75)](_0x295389=>{const _0x52b121=_0x51e399,_0xacc5d3=document['getElementById'](_0x295389)[_0x52b121(0x830)];_0xacc5d3&&(_0xacc5d3[_0x52b121(0x201)]['display']='block');}),_0x1f54bf['textContent']=_0x51e399(0x146)+_0x5f13e0,_0x399203[_0x51e399(0x6f1)][_0x51e399(0x648)](_0x51e399(0x476)),_0x971dd9[_0x51e399(0x6f1)][_0x51e399(0x7d9)](_0x51e399(0x476)),_0x47563e[_0x51e399(0x6f1)][_0x51e399(0x7d9)](_0x51e399(0x476)),generateLesson(_0x5f13e0,_0x25d5aa)[_0x51e399(0x606)](_0x554ea0=>{const _0x5a2185=_0x51e399;console[_0x5a2185(0x339)]('Failed\x20to\x20generate\x20lesson:',_0x554ea0),showMessage(_0x5a2185(0x5b7)),_0x47563e['classList'][_0x5a2185(0x648)]('hidden');});}function handlePointerDown(_0x259ba9){const _0x449f06=_0x5be2be;_0x259ba9[_0x449f06(0xaa3)]();const _0x13b1be=scratchpadCtx[_0x449f06(0x719)],_0x39d0fc=_0x13b1be[_0x449f06(0x61c)](),_0xc1754c=_0x259ba9[_0x449f06(0xaa2)]||(_0x259ba9[_0x449f06(0x555)]?_0x449f06(0xade):_0x449f06(0x93e));if(_0xc1754c===_0x449f06(0x642)||_0xc1754c===_0x449f06(0x93e)){if(_0x259ba9['pointerType']===_0x449f06(0x93e)&&_0x259ba9[_0x449f06(0x3d2)]!==0x0){_0x259ba9[_0x449f06(0x3d2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x259ba9[_0x449f06(0x9f0)],'y':_0x259ba9[_0x449f06(0x769)]},_0x13b1be[_0x449f06(0x201)][_0x449f06(0x748)]='grabbing');return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x52b673=getTransformedPoint(_0x259ba9['clientX']-_0x39d0fc[_0x449f06(0x3a6)],_0x259ba9['clientY']-_0x39d0fc[_0x449f06(0x3e2)]);let _0x2c4a4a={'tool':activeTool,'points':[_0x52b673]};if(activeTool===_0x449f06(0x642))_0x2c4a4a['color']=scratchpadPenColor,_0x2c4a4a[_0x449f06(0xa01)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x2c4a4a[_0x449f06(0xb40)]=scratchpadPenColor,_0x2c4a4a[_0x449f06(0xa01)]=scratchpadEraserSize;else{if(activeTool===_0x449f06(0x8a5))_0x2c4a4a[_0x449f06(0xb40)]=scratchpadHighlighterColor,_0x2c4a4a[_0x449f06(0xa01)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x2c4a4a[_0x449f06(0xb40)]=scratchpadPenColor,_0x2c4a4a[_0x449f06(0xa01)]=scratchpadPenSize);}}currentStroke=_0x2c4a4a;}else _0x259ba9[_0x449f06(0x555)]&&(_0x259ba9[_0x449f06(0x555)][_0x449f06(0x724)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x259ba9[_0x449f06(0x555)][0x0]['clientX'],'y':_0x259ba9[_0x449f06(0x555)][0x0][_0x449f06(0x769)]},{'x':_0x259ba9[_0x449f06(0x555)][0x1][_0x449f06(0x9f0)],'y':_0x259ba9[_0x449f06(0x555)][0x1][_0x449f06(0x769)]}),initialPinchDistance=getDistance({'x':_0x259ba9[_0x449f06(0x555)][0x0]['clientX'],'y':_0x259ba9[_0x449f06(0x555)][0x0]['clientY']},{'x':_0x259ba9[_0x449f06(0x555)][0x1][_0x449f06(0x9f0)],'y':_0x259ba9[_0x449f06(0x555)][0x1]['clientY']})));}function animateTrail(){const _0xf604c5=_0x5be2be,_0x46618d=Date[_0xf604c5(0xe3e)]();let _0x15c0c8=![];for(let _0x1d4777=strokes[_0xf604c5(0x724)]-0x1;_0x1d4777>=0x0;_0x1d4777--){const _0x380922=strokes[_0x1d4777];if(_0x380922[_0xf604c5(0xd2f)]===_0xf604c5(0x133)&&_0x380922[_0xf604c5(0xc33)]){const _0x101c2e=_0x46618d-_0x380922[_0xf604c5(0xc33)];_0x101c2e>=TRAIL_DURATION?strokes[_0xf604c5(0x994)](_0x1d4777,0x1):(_0x380922[_0xf604c5(0x349)]=0x1-_0x101c2e/TRAIL_DURATION,_0x15c0c8=!![]);}}redrawScratchpad(),_0x15c0c8?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xea02d8){const _0x317c10=_0x5be2be;if(!_0xea02d8||_0xea02d8[_0x317c10(0xd6c)][_0x317c10(0x724)]<0x1)return;scratchpadCtx[_0x317c10(0xb5f)](),scratchpadCtx[_0x317c10(0x982)]=_0x317c10(0x373),scratchpadCtx[_0x317c10(0x5d6)]=_0x317c10(0x373);if(_0xea02d8[_0x317c10(0xd2f)]===_0x317c10(0x133)){const _0x14c966=_0xea02d8[_0x317c10(0xa01)]/scratchpadScale;scratchpadCtx[_0x317c10(0xd3)]=_0xea02d8[_0x317c10(0x349)]??0x1,scratchpadCtx['shadowColor']=_0x317c10(0x2bf),scratchpadCtx['shadowBlur']=_0x14c966*0x3,scratchpadCtx[_0x317c10(0x48d)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x317c10(0x975)]=_0x14c966*2.5,scratchpadCtx[_0x317c10(0xacd)](),scratchpadCtx[_0x317c10(0x127)](_0xea02d8['points'][0x0]['x'],_0xea02d8[_0x317c10(0xd6c)][0x0]['y']);for(let _0xee5162=0x1;_0xee5162<_0xea02d8['points'][_0x317c10(0x724)]-0x1;_0xee5162++){const _0x397e9f=getMidpoint(_0xea02d8['points'][_0xee5162],_0xea02d8['points'][_0xee5162+0x1]);scratchpadCtx[_0x317c10(0x58e)](_0xea02d8[_0x317c10(0xd6c)][_0xee5162]['x'],_0xea02d8[_0x317c10(0xd6c)][_0xee5162]['y'],_0x397e9f['x'],_0x397e9f['y']);}scratchpadCtx[_0x317c10(0x47f)](),scratchpadCtx[_0x317c10(0x36c)]=_0x317c10(0x692),scratchpadCtx[_0x317c10(0x268)]=0x0,scratchpadCtx['strokeStyle']=_0x317c10(0xac6),scratchpadCtx[_0x317c10(0x975)]=_0x14c966,scratchpadCtx[_0x317c10(0x47f)](),scratchpadCtx[_0x317c10(0x17e)]();}else{if(_0xea02d8[_0x317c10(0xd2f)]==='highlighter'){scratchpadCtx[_0x317c10(0x5cd)]=_0x317c10(0x333),scratchpadCtx['strokeStyle']=_0xea02d8[_0x317c10(0xb40)],scratchpadCtx[_0x317c10(0x975)]=_0xea02d8['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x317c10(0x127)](_0xea02d8[_0x317c10(0xd6c)][0x0]['x'],_0xea02d8['points'][0x0]['y']);for(let _0x2c8950=0x1;_0x2c8950<_0xea02d8[_0x317c10(0xd6c)][_0x317c10(0x724)]-0x1;_0x2c8950++){const _0x2c4cd8=getMidpoint(_0xea02d8[_0x317c10(0xd6c)][_0x2c8950],_0xea02d8['points'][_0x2c8950+0x1]);scratchpadCtx['quadraticCurveTo'](_0xea02d8[_0x317c10(0xd6c)][_0x2c8950]['x'],_0xea02d8[_0x317c10(0xd6c)][_0x2c8950]['y'],_0x2c4cd8['x'],_0x2c4cd8['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x317c10(0x17e)]();}else{scratchpadCtx[_0x317c10(0x5cd)]=_0xea02d8[_0x317c10(0xd2f)]===_0x317c10(0x141)?_0x317c10(0x1ba):'source-over',scratchpadCtx['strokeStyle']=_0xea02d8[_0x317c10(0xb40)],scratchpadCtx[_0x317c10(0x975)]=_0xea02d8[_0x317c10(0xa01)],scratchpadCtx[_0x317c10(0xacd)](),scratchpadCtx['moveTo'](_0xea02d8['points'][0x0]['x'],_0xea02d8[_0x317c10(0xd6c)][0x0]['y']);for(let _0x21d953=0x1;_0x21d953<_0xea02d8[_0x317c10(0xd6c)][_0x317c10(0x724)]-0x1;_0x21d953++){const _0x339595=getMidpoint(_0xea02d8[_0x317c10(0xd6c)][_0x21d953],_0xea02d8[_0x317c10(0xd6c)][_0x21d953+0x1]);scratchpadCtx[_0x317c10(0x58e)](_0xea02d8['points'][_0x21d953]['x'],_0xea02d8['points'][_0x21d953]['y'],_0x339595['x'],_0x339595['y']);}scratchpadCtx[_0x317c10(0x47f)](),scratchpadCtx[_0x317c10(0x17e)]();}}scratchpadCtx[_0x317c10(0x5ea)]();}function handlePointerMove(_0x5e1444){const _0x45f774=_0x5be2be;_0x5e1444[_0x45f774(0xaa3)]();const _0x33106c=scratchpadCtx[_0x45f774(0x719)],_0xa13190=_0x33106c[_0x45f774(0x61c)]();if(_0x5e1444[_0x45f774(0x555)]){if(_0x5e1444[_0x45f774(0x555)][_0x45f774(0x724)]===0x1&&isDrawingOnScratchpad){const _0x489135=getTransformedPoint(_0x5e1444[_0x45f774(0x555)][0x0]['clientX']-_0xa13190['left'],_0x5e1444[_0x45f774(0x555)][0x0][_0x45f774(0x769)]-_0xa13190['top']);currentStroke['points'][_0x45f774(0x633)](_0x489135),redrawScratchpad();}else{if(_0x5e1444[_0x45f774(0x555)][_0x45f774(0x724)]===0x2&&isPanning){const _0x502243=getDistance({'x':_0x5e1444[_0x45f774(0x555)][0x0][_0x45f774(0x9f0)],'y':_0x5e1444['touches'][0x0][_0x45f774(0x769)]},{'x':_0x5e1444[_0x45f774(0x555)][0x1][_0x45f774(0x9f0)],'y':_0x5e1444[_0x45f774(0x555)][0x1][_0x45f774(0x769)]}),_0x4036cb=getMidpoint({'x':_0x5e1444[_0x45f774(0x555)][0x0][_0x45f774(0x9f0)],'y':_0x5e1444['touches'][0x0]['clientY']},{'x':_0x5e1444[_0x45f774(0x555)][0x1][_0x45f774(0x9f0)],'y':_0x5e1444['touches'][0x1][_0x45f774(0x769)]}),_0x575495=_0x502243/ initialPinchDistance,_0x5f2f66=Math['min'](Math[_0x45f774(0xcf)](scratchpadScale*_0x575495,MIN_SCALE),MAX_SCALE),_0x5a6af3=_0x4036cb['x']-panStart['x'],_0x5ba4d1=_0x4036cb['y']-panStart['y'];scratchpadOffset['x']=_0x4036cb['x']-(_0x4036cb['x']-scratchpadOffset['x'])*(_0x5f2f66/scratchpadScale),scratchpadOffset['y']=_0x4036cb['y']-(_0x4036cb['y']-scratchpadOffset['y'])*(_0x5f2f66/scratchpadScale),scratchpadOffset['x']+=_0x5a6af3,scratchpadOffset['y']+=_0x5ba4d1,scratchpadScale=_0x5f2f66,initialPinchDistance=_0x502243,panStart=_0x4036cb,redrawScratchpad();}}}else{if(isMousePanning){const _0x58f0aa=_0x5e1444[_0x45f774(0x9f0)]-panStart['x'],_0x674df3=_0x5e1444[_0x45f774(0x769)]-panStart['y'];scratchpadOffset['x']+=_0x58f0aa,scratchpadOffset['y']+=_0x674df3,panStart={'x':_0x5e1444[_0x45f774(0x9f0)],'y':_0x5e1444[_0x45f774(0x769)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x19c0fd=getTransformedPoint(_0x5e1444[_0x45f774(0x9f0)]-_0xa13190['left'],_0x5e1444['clientY']-_0xa13190['top']);currentStroke[_0x45f774(0xd6c)][_0x45f774(0x633)](_0x19c0fd),redrawScratchpad();}}}}function handlePointerUp(_0x5df93b){const _0x14849c=_0x5be2be;_0x5df93b[_0x14849c(0xaa3)]();const _0x32a0ce=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x32a0ce[_0x14849c(0x201)][_0x14849c(0x748)]=_0x14849c(0x516)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x14849c(0x724)]>0x1&&(strokes['push'](currentStroke),currentStroke['tool']===_0x14849c(0x133)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1f044b=_0x14849c,_0x195090=strokes[_0x1f044b(0x6e1)](_0x363cbc=>_0x363cbc[_0x1f044b(0xd2f)]===_0x1f044b(0x133)&&!_0x363cbc[_0x1f044b(0xc33)]);if(_0x195090[_0x1f044b(0x724)]>0x0){const _0x3d7c09=Date['now']();_0x195090[_0x1f044b(0xd75)](_0x267fbf=>_0x267fbf[_0x1f044b(0xc33)]=_0x3d7c09),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1b46ed){const _0x1aa7eb=_0x5be2be;_0x1b46ed[_0x1aa7eb(0xaa3)]();const _0x582ab4=_0x1b46ed[_0x1aa7eb(0xccd)]*-0.005,_0x523741=Math[_0x1aa7eb(0x157)](Math[_0x1aa7eb(0xcf)](scratchpadScale+_0x582ab4,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1b46ed[_0x1aa7eb(0x9f0)]-(_0x1b46ed[_0x1aa7eb(0x9f0)]-scratchpadOffset['x'])*(_0x523741/scratchpadScale),scratchpadOffset['y']=_0x1b46ed[_0x1aa7eb(0x769)]-(_0x1b46ed[_0x1aa7eb(0x769)]-scratchpadOffset['y'])*(_0x523741/scratchpadScale),scratchpadScale=_0x523741,redrawScratchpad();}function undo(){const _0x76bf6c=_0x5be2be;strokes[_0x76bf6c(0x724)]>0x0&&(redoStrokes[_0x76bf6c(0x633)](strokes[_0x76bf6c(0xbda)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5ea87d=_0x5be2be;redoStrokes[_0x5ea87d(0x724)]>0x0&&(strokes['push'](redoStrokes[_0x5ea87d(0xbda)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4117d9=_0x5be2be;document['getElementById'](_0x4117d9(0xc10))[_0x4117d9(0xbb3)]=strokes[_0x4117d9(0x724)]===0x0,document['getElementById'](_0x4117d9(0x5e7))[_0x4117d9(0xbb3)]=redoStrokes['length']===0x0;}function openScratchpad(_0x36b06b,_0x411295){const _0x36c5be=_0x5be2be,_0x198caa=document['getElementById'](_0x36c5be(0x918)),_0x1d9fd3=document[_0x36c5be(0xc4d)](_0x36c5be(0x761)),_0x371fcd=document[_0x36c5be(0xc4d)](_0x36c5be(0x54f)),_0x2dd1a8=document[_0x36c5be(0xc4d)](_0x36c5be(0x658));_0x1d9fd3[_0x36c5be(0x40b)]=_0x36b06b['stem']||_0x36b06b[_0x36c5be(0x9b3)],_0x371fcd['innerHTML']=_0x411295['map']((_0x58d306,_0x9d2007)=>_0x36c5be(0xcc5)+String[_0x36c5be(0x2e6)](0x41+_0x9d2007)+'.\x20'+_0x58d306+_0x36c5be(0xcf0))[_0x36c5be(0x625)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x198caa['classList']['remove']('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x36c5be(0xd71)]([_0x1d9fd3,_0x371fcd]);}function openBlueprintQuizSettings(){const _0x23ba36=_0x5be2be,_0x5d0f68=document[_0x23ba36(0xc4d)](_0x23ba36(0x863)),_0xa8c842=blueprintPageSettings||(currentProjectData?currentProjectData[_0x23ba36(0x878)]:{})||{};document[_0x23ba36(0xc4d)](_0x23ba36(0x97f))[_0x23ba36(0x1ce)]=_0xa8c842['quizType']||document[_0x23ba36(0xc4d)]('quiz-type-select')['value'],document[_0x23ba36(0xc4d)](_0x23ba36(0xb59))[_0x23ba36(0x40b)]=document['getElementById'](_0x23ba36(0xc88))[_0x23ba36(0x40b)],document[_0x23ba36(0xc4d)]('bp-modal-difficulty-level-select')[_0x23ba36(0x1ce)]=_0xa8c842['difficultyValue']||document[_0x23ba36(0xc4d)](_0x23ba36(0xc88))['value'],document['getElementById'](_0x23ba36(0x961))[_0x23ba36(0x40b)]=document['getElementById'](_0x23ba36(0xcd6))['innerHTML'],document['getElementById'](_0x23ba36(0x961))[_0x23ba36(0x1ce)]=_0xa8c842[_0x23ba36(0x981)]||document[_0x23ba36(0xc4d)](_0x23ba36(0xcd6))[_0x23ba36(0x1ce)],document[_0x23ba36(0xc4d)](_0x23ba36(0xb42))[_0x23ba36(0x1ce)]=_0xa8c842[_0x23ba36(0x5b8)]||document[_0x23ba36(0xc4d)](_0x23ba36(0x6e6))[_0x23ba36(0x1ce)],document[_0x23ba36(0xc4d)](_0x23ba36(0xc8a))[_0x23ba36(0x1ce)]=_0xa8c842['passingScore']||document[_0x23ba36(0xc4d)](_0x23ba36(0x283))[_0x23ba36(0x1ce)],document['getElementById']('bp-modal-num-choices')[_0x23ba36(0x1ce)]=_0xa8c842[_0x23ba36(0x86f)]||document[_0x23ba36(0xc4d)](_0x23ba36(0x946))[_0x23ba36(0x1ce)],document['getElementById'](_0x23ba36(0xa5d))['value']=_0xa8c842['shuffle']||document[_0x23ba36(0xc4d)](_0x23ba36(0xc8d))[_0x23ba36(0x1ce)],document['getElementById']('bp-modal-include-images-checkbox')[_0x23ba36(0x315)]=_0xa8c842[_0x23ba36(0x699)]||document['getElementById'](_0x23ba36(0x894))['checked'],_0x5d0f68[_0x23ba36(0x6f1)][_0x23ba36(0x7d9)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x374cd7=_0x5be2be;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x374cd7(0xc4d)]('bp-modal-difficulty-level-select')[_0x374cd7(0x1ce)],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0x374cd7(0x1ce)],'numQuestions':document[_0x374cd7(0xc4d)](_0x374cd7(0xb42))['value'],'passingScore':document[_0x374cd7(0xc4d)](_0x374cd7(0xc8a))[_0x374cd7(0x1ce)],'numChoices':document[_0x374cd7(0xc4d)](_0x374cd7(0x400))['value'],'shuffle':document[_0x374cd7(0xc4d)](_0x374cd7(0xa5d))[_0x374cd7(0x1ce)],'includeImages':document['getElementById'](_0x374cd7(0x312))['checked']},showMessage(_0x374cd7(0xa91)),document[_0x374cd7(0xc4d)](_0x374cd7(0x863))['classList'][_0x374cd7(0x648)](_0x374cd7(0x476));}function listenForParallelTestShortcuts(){const _0x77626=_0x5be2be,_0x1e0ffa=doc(db,_0x77626(0x789),'parallelTestShortcutsConfig');onSnapshot(_0x1e0ffa,_0x239bea=>{const _0x6d4b83=_0x77626;let _0x5b5250=[],_0x44cf0f=[],_0x2ca6e9={};if(_0x239bea[_0x6d4b83(0x509)]()){const _0x5ede07=_0x239bea['data']();_0x5b5250=_0x5ede07[_0x6d4b83(0x1fd)]||[],_0x44cf0f=_0x5ede07['parallelShortcutTabs']||[],_0x2ca6e9=_0x5ede07[_0x6d4b83(0xa7f)]||{};}!_0x44cf0f['find'](_0x107de5=>_0x107de5['id']===_0x6d4b83(0x1d5))&&_0x44cf0f[_0x6d4b83(0x8cc)]({'id':'all','name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x5b5250[_0x6d4b83(0x35d)](_0x4c0abf=>_0x4c0abf['id']===_0x6d4b83(0xbba))&&_0x5b5250[_0x6d4b83(0x8cc)]({'id':_0x6d4b83(0xbba),'name':_0x6d4b83(0x69f),'url':'','isDefault':!![]}),!_0x5b5250[_0x6d4b83(0x35d)](_0x4fc065=>_0x4fc065['id']===_0x6d4b83(0x3b5))&&_0x5b5250[_0x6d4b83(0x8cc)]({'id':_0x6d4b83(0x3b5),'name':_0x6d4b83(0xb49),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5b5250,parallelShortcutTabs=_0x44cf0f,parallelShortcutOrder=_0x2ca6e9,renderParallelTestShortcuts(),!document[_0x6d4b83(0xc4d)](_0x6d4b83(0x6b5))[_0x6d4b83(0x6f1)][_0x6d4b83(0x913)](_0x6d4b83(0x476))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x494b7a=_0x5be2be,_0x6f47c8=doc(db,_0x494b7a(0x789),_0x494b7a(0xa44));try{await setDoc(_0x6f47c8,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x4a0a2a){console[_0x494b7a(0x339)](_0x494b7a(0x3a3),_0x4a0a2a);}}function renderAdditionalParallelShortcutsModal(){const _0x3670b1=_0x5be2be,_0x5a6ded=document['getElementById'](_0x3670b1(0x22a)),_0x5966cd=document[_0x3670b1(0xc4d)](_0x3670b1(0x33e));if(!_0x5a6ded||!_0x5966cd)return;_0x5a6ded[_0x3670b1(0x40b)]=parallelShortcutTabs[_0x3670b1(0x546)](_0x39796d=>{const _0x43ec8a=_0x3670b1,_0x3fb498=_0x39796d['id']===activeParallelShortcutTabId;return _0x43ec8a(0xb60)+_0x39796d['id']+_0x43ec8a(0xc72)+(_0x3fb498?'border-indigo-500\x20text-indigo-600':_0x43ec8a(0x3f2))+_0x43ec8a(0x8ae)+_0x39796d[_0x43ec8a(0x1b0)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x39796d[_0x43ec8a(0x1b0)]+_0x43ec8a(0xa40)+(!_0x39796d[_0x43ec8a(0xcd8)]?_0x43ec8a(0xacc)+_0x39796d['id']+_0x43ec8a(0x8ce):'')+_0x43ec8a(0xb38);})[_0x3670b1(0x625)]('');const _0x42ec0b=parallelShortcutTabs[_0x3670b1(0x35d)](_0x18b4ef=>_0x18b4ef['id']===activeParallelShortcutTabId);let _0x330b0c=_0x42ec0b?.[_0x3670b1(0xcd8)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x3670b1(0x6e1)](_0x2e812e=>(_0x42ec0b?.[_0x3670b1(0x125)]||[])[_0x3670b1(0xe4a)](_0x2e812e['id']));const _0x5f38ff=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x330b0c[_0x3670b1(0x332)]((_0x2f9498,_0x21c25b)=>{const _0x48ab03=_0x3670b1,_0x78a268=_0x5f38ff['indexOf'](_0x2f9498['id']),_0x823575=_0x5f38ff[_0x48ab03(0xe5b)](_0x21c25b['id']);return(_0x78a268===-0x1?Infinity:_0x78a268)-(_0x823575===-0x1?Infinity:_0x823575);}),_0x5966cd[_0x3670b1(0x40b)]=_0x330b0c[_0x3670b1(0x546)](_0x4b08f0=>{const _0x354bba=_0x3670b1,_0x4c42da=_0x4b08f0['url']?'🔁':'🔗',_0x14c9da=parallelShortcutTabs['filter'](_0x58a863=>!_0x58a863[_0x354bba(0xcd8)]),_0x1a50bc=_0x42ec0b['isDefault']&&_0x14c9da['length']>0x0?_0x354bba(0x3f6)+_0x14c9da[_0x354bba(0x546)](_0x849fb1=>_0x354bba(0x3da)+_0x4b08f0['id']+_0x354bba(0x92a)+_0x849fb1['id']+'\x22>'+_0x849fb1[_0x354bba(0x1b0)]+_0x354bba(0x328))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x354bba(0x839)+_0x4b08f0['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x4c42da+'\x20'+_0x4b08f0['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b08f0['id']+_0x354bba(0x508)+_0x4b08f0['id']+_0x354bba(0x1e7)+(!_0x4b08f0[_0x354bba(0xcd8)]?_0x354bba(0x231)+_0x4b08f0['id']+_0x354bba(0xbd2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x42ec0b[_0x354bba(0xcd8)]?_0x354bba(0x948)+_0x4b08f0['id']+_0x354bba(0xabc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a50bc+_0x354bba(0x3a9);})[_0x3670b1(0x625)]('')||_0x3670b1(0xa36),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4d3926=_0x5be2be;document[_0x4d3926(0x760)](_0x4d3926(0x37d))[_0x4d3926(0xd75)](_0x577873=>{const _0x5d8e0f=_0x4d3926;_0x577873[_0x5d8e0f(0x8f5)]=_0x3b9d35=>{const _0x214d0f=_0x5d8e0f;activeParallelShortcutTabId=_0x3b9d35[_0x214d0f(0x53f)][_0x214d0f(0xa2c)][_0x214d0f(0xae5)],renderAdditionalParallelShortcutsModal();},_0x577873[_0x5d8e0f(0x921)]=_0x382772=>{const _0x590a0f=_0x5d8e0f,_0x5e9ce5=_0x382772[_0x590a0f(0x53f)][_0x590a0f(0xab2)](_0x590a0f(0x6ff));_0x382772[_0x590a0f(0x53f)][_0x590a0f(0xab2)](_0x590a0f(0xa04))[_0x590a0f(0x6f1)][_0x590a0f(0x648)](_0x590a0f(0x476)),_0x5e9ce5[_0x590a0f(0x6f1)][_0x590a0f(0x7d9)](_0x590a0f(0x476)),_0x5e9ce5[_0x590a0f(0xc44)](),_0x5e9ce5[_0x590a0f(0xb9e)]();};}),document[_0x4d3926(0x760)](_0x4d3926(0x3ea))[_0x4d3926(0xd75)](_0x2d3455=>{const _0x4a3e4b=_0x4d3926,_0x1a437a=()=>{const _0x1eaaed=_0x46b4,_0x398583=_0x2d3455['closest'](_0x1eaaed(0x37d))['dataset'][_0x1eaaed(0xae5)],_0x234138=parallelShortcutTabs['find'](_0x3667db=>_0x3667db['id']===_0x398583);_0x234138&&(_0x234138['name']=_0x2d3455[_0x1eaaed(0x1ce)][_0x1eaaed(0x2ce)]()||_0x234138[_0x1eaaed(0x1b0)],saveParallelShortcutConfig());};_0x2d3455[_0x4a3e4b(0xe4c)]=_0x1a437a,_0x2d3455[_0x4a3e4b(0x9ec)]=_0x37d7f3=>{const _0x3b79ef=_0x4a3e4b;if(_0x37d7f3[_0x3b79ef(0x19f)]===_0x3b79ef(0xc59))_0x2d3455[_0x3b79ef(0x1be)]();};}),document[_0x4d3926(0x760)](_0x4d3926(0x4d0))['forEach'](_0xb7fa33=>_0xb7fa33[_0x4d3926(0x8f5)]=_0x2bfd36=>{const _0x5c222a=_0x4d3926,_0x58b309=_0x2bfd36[_0x5c222a(0x53f)][_0x5c222a(0xa2c)][_0x5c222a(0xae5)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x3ce3d7=_0x5c222a;parallelShortcutTabs=parallelShortcutTabs[_0x3ce3d7(0x6e1)](_0x426258=>_0x426258['id']!==_0x58b309),delete parallelShortcutOrder[_0x58b309];if(activeParallelShortcutTabId===_0x58b309)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x4d3926(0x760)](_0x4d3926(0x76d))[_0x4d3926(0xd75)](_0x4734a2=>_0x4734a2['onclick']=_0x269d3a=>{const _0x2dfe5e=_0x4d3926;_0x269d3a[_0x2dfe5e(0xaa3)]();const {shortcutId:_0x3462b5,targetTabId:_0x5d7fe2}=_0x269d3a['currentTarget']['dataset'],_0x2958a3=parallelShortcutTabs[_0x2dfe5e(0x35d)](_0x2791c0=>_0x2791c0['id']===_0x5d7fe2);_0x2958a3&&!_0x2958a3[_0x2dfe5e(0x125)][_0x2dfe5e(0xe4a)](_0x3462b5)&&(_0x2958a3[_0x2dfe5e(0x125)][_0x2dfe5e(0x633)](_0x3462b5),saveParallelShortcutConfig());}),document[_0x4d3926(0x760)](_0x4d3926(0x793))[_0x4d3926(0xd75)](_0x5851c9=>_0x5851c9[_0x4d3926(0x8f5)]=_0xb4b718=>{const _0x10fe07=_0x4d3926,_0x3a67ec=_0xb4b718[_0x10fe07(0x53f)][_0x10fe07(0xa2c)][_0x10fe07(0xa6e)],_0x3f359b=parallelShortcutTabs['find'](_0x591fe8=>_0x591fe8['id']===activeParallelShortcutTabId);_0x3f359b&&!_0x3f359b[_0x10fe07(0xcd8)]&&(_0x3f359b['shortcutIds']=_0x3f359b[_0x10fe07(0x125)][_0x10fe07(0x6e1)](_0x56b580=>_0x56b580!==_0x3a67ec),saveParallelShortcutConfig());}),document[_0x4d3926(0x760)]('.move-parallel-shortcut-menu-btn')[_0x4d3926(0xd75)](_0x316596=>_0x316596[_0x4d3926(0x8f5)]=_0x51acd3=>{const _0x1df9ff=_0x4d3926;_0x51acd3[_0x1df9ff(0x46c)]();const _0x315b5d=_0x51acd3[_0x1df9ff(0x53f)][_0x1df9ff(0xd65)];document['querySelectorAll'](_0x1df9ff(0x379))[_0x1df9ff(0xd75)](_0x5d6b37=>_0x5d6b37[_0x1df9ff(0x6f1)][_0x1df9ff(0x648)](_0x1df9ff(0x476))),_0x315b5d[_0x1df9ff(0x6f1)][_0x1df9ff(0x7d9)](_0x1df9ff(0x476));});const _0x35dd14=document[_0x4d3926(0xc4d)]('additional-parallel-shortcuts-list');let _0x4c4776=null;_0x35dd14[_0x4d3926(0x5cf)]=_0x16f069=>{const _0x104c4f=_0x4d3926;_0x4c4776=_0x16f069['target'][_0x104c4f(0xac5)](_0x104c4f(0x705));if(_0x4c4776)setTimeout(()=>_0x4c4776['classList'][_0x104c4f(0x648)](_0x104c4f(0x405)),0x0);},_0x35dd14[_0x4d3926(0x5ed)]=()=>{const _0x58fb97=_0x4d3926;_0x4c4776&&(_0x4c4776[_0x58fb97(0x6f1)][_0x58fb97(0x7d9)](_0x58fb97(0x405)),_0x4c4776=null);},_0x35dd14[_0x4d3926(0xdb0)]=_0xb67323=>{const _0x141e78=_0x4d3926;_0xb67323[_0x141e78(0xaa3)]();},_0x35dd14[_0x4d3926(0x9dc)]=_0x396c84=>{const _0x437955=_0x4d3926;_0x396c84[_0x437955(0xaa3)]();if(_0x4c4776){const _0x3218c3=[..._0x35dd14[_0x437955(0x760)](_0x437955(0x94d))]['reduce']((_0x33f546,_0x544269)=>{const _0x4b3f6e=_0x437955,_0x29b3a1=_0x544269[_0x4b3f6e(0x61c)](),_0x50127b=_0x396c84[_0x4b3f6e(0x769)]-_0x29b3a1[_0x4b3f6e(0x3e2)]-_0x29b3a1[_0x4b3f6e(0x5fe)]/0x2;return _0x50127b<0x0&&_0x50127b>_0x33f546[_0x4b3f6e(0x31d)]?{'offset':_0x50127b,'element':_0x544269}:_0x33f546;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0x3218c3==null?_0x35dd14[_0x437955(0xe03)](_0x4c4776):_0x35dd14['insertBefore'](_0x4c4776,_0x3218c3);const _0x2b692e=[..._0x35dd14[_0x437955(0x760)](_0x437955(0x705))][_0x437955(0x546)](_0x12ba61=>_0x12ba61[_0x437955(0xa2c)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2b692e,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1dd40a=_0x5be2be,_0x4e6f7a=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x4e6f7a&&_0x4e6f7a[_0x1dd40a(0x2ce)]()&&(parallelShortcutTabs[_0x1dd40a(0x633)]({'id':_0x1dd40a(0x28c)+Date['now'](),'name':_0x4e6f7a[_0x1dd40a(0x2ce)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x359a46=_0x5be2be,_0x3dcd93=document[_0x359a46(0xc4d)](_0x359a46(0x8e9)),_0x49dc66=document[_0x359a46(0xc4d)](_0x359a46(0x33e)),_0x1c6cbf=document[_0x359a46(0xc4d)]('parallel-shortcuts-loading-msg');if(_0x1c6cbf)_0x1c6cbf[_0x359a46(0x6f1)]['add'](_0x359a46(0x476));if(!_0x3dcd93||!_0x49dc66)return;const _0x22d95e=parallelTestShortcuts[_0x359a46(0x647)](0x0,0x4),_0x594f61=parallelTestShortcuts[_0x359a46(0x647)](0x4);_0x3dcd93[_0x359a46(0x40b)]=_0x22d95e[_0x359a46(0x546)](_0x295ca1=>{const _0xa34e5c=_0x359a46,_0x204703=_0x295ca1[_0xa34e5c(0x308)]&&_0x295ca1[_0xa34e5c(0x308)][_0xa34e5c(0x2ce)]()!=='',_0x27547b=_0x204703?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x5e0064=_0x204703?'🔁':'🔗',_0x4e4e3c=!_0x295ca1[_0xa34e5c(0xcd8)]?_0xa34e5c(0x231)+_0x295ca1['id']+_0xa34e5c(0xcdf):'';return _0xa34e5c(0x340)+_0x295ca1['id']+_0xa34e5c(0xc18)+_0x27547b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x5e0064+'\x20'+_0x295ca1['name']+_0xa34e5c(0x695)+_0x295ca1['id']+_0xa34e5c(0x370)+_0x4e4e3c+_0xa34e5c(0x3cf);})[_0x359a46(0x625)](''),_0x594f61[_0x359a46(0x724)]>0x0&&(_0x3dcd93[_0x359a46(0x40b)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x594f61[_0x359a46(0x724)]>0x0?_0x49dc66[_0x359a46(0x40b)]=_0x594f61[_0x359a46(0x546)](_0x9f47e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x9f47e['url']?'🔁':'🔗')+'\x20'+_0x9f47e[_0x359a46(0x1b0)]+_0x359a46(0xcf7)+_0x9f47e['id']+_0x359a46(0xbe1)+_0x9f47e['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x9f47e['isDefault']?_0x359a46(0x231)+_0x9f47e['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x359a46(0x625)](''):_0x49dc66[_0x359a46(0x40b)]=_0x359a46(0x1dd);}function openParallelTestShortcutEditor(_0x2a2e0a=null){const _0x13c82e=_0x5be2be,_0x459e1a=document[_0x13c82e(0xc4d)]('parallel-shortcut-editor-modal'),_0x5d3ff5=document['getElementById'](_0x13c82e(0xa2e)),_0x4c816c=document[_0x13c82e(0xc4d)]('parallel-shortcut-id-input'),_0x539a84=document[_0x13c82e(0xc4d)](_0x13c82e(0x317)),_0x24d7fc=document[_0x13c82e(0xc4d)](_0x13c82e(0xb1c));if(_0x2a2e0a){const _0x367e06=parallelTestShortcuts[_0x13c82e(0x35d)](_0x59002e=>_0x59002e['id']===_0x2a2e0a);if(!_0x367e06)return;_0x5d3ff5[_0x13c82e(0x4c4)]=_0x13c82e(0xb20),_0x4c816c[_0x13c82e(0x1ce)]=_0x367e06['id'],_0x539a84[_0x13c82e(0x1ce)]=_0x367e06[_0x13c82e(0x1b0)],_0x24d7fc[_0x13c82e(0x1ce)]=_0x367e06[_0x13c82e(0x308)]||'';}else _0x5d3ff5[_0x13c82e(0x4c4)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x4c816c[_0x13c82e(0x1ce)]='',_0x539a84[_0x13c82e(0x1ce)]='',_0x24d7fc[_0x13c82e(0x1ce)]='';_0x459e1a['classList'][_0x13c82e(0x7d9)](_0x13c82e(0x476));}async function saveParallelTestShortcutChanges(){const _0x4b3556=_0x5be2be,_0x1d0b16=document[_0x4b3556(0xc4d)](_0x4b3556(0xae8))['value'],_0x55c18c=document['getElementById'](_0x4b3556(0x317))[_0x4b3556(0x1ce)][_0x4b3556(0x2ce)](),_0x76fe46=document[_0x4b3556(0xc4d)](_0x4b3556(0xb1c))[_0x4b3556(0x1ce)]['trim']();if(!_0x55c18c){showMessage(_0x4b3556(0xabd));return;}const _0x41e501={'id':_0x1d0b16||_0x4b3556(0xc62)+Date[_0x4b3556(0xe3e)](),'name':_0x55c18c,'url':_0x76fe46,'isDefault':_0x1d0b16[_0x4b3556(0xb6d)](_0x4b3556(0x2ba))};let _0x4289bf;_0x1d0b16?_0x4289bf=parallelTestShortcuts[_0x4b3556(0x546)](_0x3c21dc=>_0x3c21dc['id']===_0x1d0b16?_0x41e501:_0x3c21dc):_0x4289bf=[...parallelTestShortcuts,_0x41e501];try{const _0x46b934=doc(db,'globalSettings',_0x4b3556(0xa44));await setDoc(_0x46b934,{'shortcuts':_0x4289bf},{'merge':!![]}),document[_0x4b3556(0xc4d)](_0x4b3556(0x3d9))[_0x4b3556(0x6f1)][_0x4b3556(0x648)](_0x4b3556(0x476));}catch(_0x25fd2b){console[_0x4b3556(0x339)](_0x4b3556(0x95d),_0x25fd2b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x597aad){const _0x1adb75=_0x5be2be,_0x5b3ea6=parallelTestShortcuts[_0x1adb75(0x35d)](_0x55a90b=>_0x55a90b['id']===_0x597aad);if(!_0x5b3ea6)return;if(!_0x5b3ea6[_0x1adb75(0x308)]||_0x5b3ea6['url'][_0x1adb75(0x2ce)]()===''){openParallelTestShortcutEditor(_0x597aad);return;}const _0x3c0b6c=document[_0x1adb75(0xc4d)](_0x1adb75(0x64d)),_0x3979a6=document[_0x1adb75(0xc4d)]('loader-text');document[_0x1adb75(0xc4d)](_0x1adb75(0x1f9))[_0x1adb75(0x6f1)][_0x1adb75(0x7d9)]('hidden'),document[_0x1adb75(0xc4d)]('generated-quiz-container')[_0x1adb75(0x40b)]='',_0x3c0b6c[_0x1adb75(0x6f1)][_0x1adb75(0x7d9)](_0x1adb75(0x476)),_0x3979a6[_0x1adb75(0x4c4)]=_0x1adb75(0x74c);try{let _0x431578;_0x5b3ea6['url']['toLowerCase']()[_0x1adb75(0xe4a)](_0x1adb75(0x105))?_0x431578=_0x1adb75(0x96c):_0x431578=_0x1adb75(0x56b);const _0x489132=await fetchFileFromUrl(_0x5b3ea6[_0x1adb75(0x308)],_0x431578);await handleGenerateParallelTest(_0x489132);}catch(_0x33c816){console[_0x1adb75(0x339)](_0x1adb75(0xc40),_0x33c816),showMessage(_0x1adb75(0xcf6)+_0x33c816[_0x1adb75(0xba5)]),_0x3c0b6c[_0x1adb75(0x6f1)]['add']('hidden');}}function initializeScratchpadCanvas(){const _0x44488e=_0x5be2be,_0x356df7=document[_0x44488e(0xc4d)]('scratchpad-canvas'),_0x45fed8=document[_0x44488e(0xab2)]('.scratchpad-content-wrapper');if(!_0x356df7||!_0x45fed8)return;scratchpadCtx=_0x356df7[_0x44488e(0x12f)]('2d',{'willReadFrequently':!![]});const _0x54b265=window[_0x44488e(0x797)]||0x1,_0x104efc=_0x45fed8['getBoundingClientRect']();_0x356df7[_0x44488e(0x6a7)]=_0x104efc['width']*_0x54b265,_0x356df7[_0x44488e(0x5fe)]=_0x104efc[_0x44488e(0x5fe)]*_0x54b265,_0x356df7['style']['width']=_0x104efc[_0x44488e(0x6a7)]+'px',_0x356df7[_0x44488e(0x201)][_0x44488e(0x5fe)]=_0x104efc['height']+'px',scratchpadCtx[_0x44488e(0xdf0)](_0x54b265,_0x54b265),scratchpadCtx[_0x44488e(0x982)]=_0x44488e(0x373),scratchpadCtx['lineCap']=_0x44488e(0x373),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0xc20),handlePointerDown),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0x747),handlePointerMove),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0x7fe),handlePointerUp),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0xec),handlePointerUp),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0x67b),handleWheel),_0x356df7['removeEventListener'](_0x44488e(0xe3b),handlePointerDown),_0x356df7[_0x44488e(0xdfc)]('touchmove',handlePointerMove),_0x356df7[_0x44488e(0xdfc)](_0x44488e(0xd15),handlePointerUp),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0xc20),handlePointerDown),_0x356df7['addEventListener'](_0x44488e(0x747),handlePointerMove),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0x7fe),handlePointerUp),_0x356df7[_0x44488e(0x5a2)]('pointercancel',handlePointerUp),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0x67b),handleWheel,{'passive':![]}),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0xe3b),handlePointerDown,{'passive':![]}),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0x2ca),handlePointerMove,{'passive':![]}),_0x356df7[_0x44488e(0x5a2)](_0x44488e(0xd15),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x57c497=_0x5be2be,_0x2bced9=document[_0x57c497(0xc4d)](_0x57c497(0x918)),_0x1c32d3=document[_0x57c497(0xc4d)]('scratchpad-controls');_0x1c32d3[_0x57c497(0x40b)]=_0x57c497(0xcff)+scratchpadHighlighterSize+_0x57c497(0x58d);const _0x428607=document['getElementById'](_0x57c497(0x883)),_0x295cd2=document[_0x57c497(0xc4d)](_0x57c497(0xb95)),_0x43d452=document[_0x57c497(0xc4d)](_0x57c497(0x1a9)),_0x47c93f=document[_0x57c497(0xc4d)](_0x57c497(0xbd0)),_0x8afd8a=document[_0x57c497(0xc4d)]('pen-tools-group'),_0x213594=document['getElementById']('highlighter-tools-group'),_0x45a112=document['getElementById'](_0x57c497(0x9f4)),_0x160beb=[_0x428607,_0x295cd2,_0x43d452,_0x47c93f];document[_0x57c497(0xc4d)](_0x57c497(0x8f9))[_0x57c497(0x5a2)]('click',()=>_0x2bced9['classList']['add'](_0x57c497(0x476))),document[_0x57c497(0xc4d)](_0x57c497(0x173))['addEventListener'](_0x57c497(0x4f4),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x57c497(0xc4d)](_0x57c497(0x914))[_0x57c497(0x5a2)](_0x57c497(0x4f4),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x57c497(0xc4d)]('undo-btn')[_0x57c497(0x5a2)](_0x57c497(0x4f4),undo),document[_0x57c497(0xc4d)]('redo-btn')[_0x57c497(0x5a2)](_0x57c497(0x4f4),redo);const _0x24b81c=_0x55c877=>{const _0x167d21=_0x57c497;_0x160beb[_0x167d21(0xd75)](_0x3717ba=>_0x3717ba['classList']['remove'](_0x167d21(0x970))),_0x55c877[_0x167d21(0x6f1)][_0x167d21(0x648)]('active'),_0x8afd8a[_0x167d21(0x6f1)][_0x167d21(0x648)]('hidden'),_0x213594[_0x167d21(0x6f1)][_0x167d21(0x648)](_0x167d21(0x476)),_0x45a112[_0x167d21(0x6f1)]['add']('hidden');if(activeTool==='pen'||activeTool===_0x167d21(0x133))_0x8afd8a[_0x167d21(0x6f1)][_0x167d21(0x7d9)](_0x167d21(0x476));else{if(activeTool===_0x167d21(0x8a5))_0x213594[_0x167d21(0x6f1)]['remove']('hidden');else activeTool===_0x167d21(0x141)&&_0x45a112[_0x167d21(0x6f1)][_0x167d21(0x7d9)](_0x167d21(0x476));}};_0x428607['addEventListener']('click',()=>{const _0x1f732b=_0x57c497;activeTool=_0x1f732b(0x642),_0x24b81c(_0x428607);}),_0x295cd2[_0x57c497(0x5a2)]('click',()=>{activeTool='eraser',_0x24b81c(_0x295cd2);}),_0x43d452[_0x57c497(0x5a2)]('click',()=>{const _0x1a6511=_0x57c497;activeTool=_0x1a6511(0x133),_0x24b81c(_0x43d452);}),_0x47c93f[_0x57c497(0x5a2)](_0x57c497(0x4f4),()=>{const _0x45e80b=_0x57c497;activeTool=_0x45e80b(0x8a5),_0x24b81c(_0x47c93f);}),_0x8afd8a['querySelectorAll'](_0x57c497(0x9d2))[_0x57c497(0xd75)](_0x343cbb=>{const _0x1d1772=_0x57c497;_0x343cbb[_0x1d1772(0x5a2)](_0x1d1772(0x4f4),_0x1aba69=>{const _0x20478d=_0x1d1772;scratchpadPenSize=parseInt(_0x1aba69[_0x20478d(0xa35)][_0x20478d(0xa2c)][_0x20478d(0xa01)],0xa),_0x8afd8a['querySelectorAll'](_0x20478d(0x9d2))[_0x20478d(0xd75)](_0x224b17=>_0x224b17[_0x20478d(0x6f1)][_0x20478d(0x7d9)](_0x20478d(0x970))),_0x1aba69[_0x20478d(0xa35)][_0x20478d(0x6f1)][_0x20478d(0x648)]('active');});}),_0x45a112[_0x57c497(0x760)](_0x57c497(0x1c7))[_0x57c497(0xd75)](_0x3b45ab=>{const _0x23caa6=_0x57c497;_0x3b45ab[_0x23caa6(0x5a2)](_0x23caa6(0x4f4),_0x5a1407=>{const _0x379b9d=_0x23caa6,_0x52352a=_0x5a1407[_0x379b9d(0x53f)];scratchpadEraserSize=parseInt(_0x52352a[_0x379b9d(0xa2c)][_0x379b9d(0xa01)],0xa),_0x45a112['querySelectorAll'](_0x379b9d(0x1c7))[_0x379b9d(0xd75)](_0x46be34=>_0x46be34[_0x379b9d(0x6f1)][_0x379b9d(0x7d9)](_0x379b9d(0x970))),_0x52352a[_0x379b9d(0x6f1)][_0x379b9d(0x648)](_0x379b9d(0x970));});}),_0x8afd8a[_0x57c497(0x760)]('.pen-color-btn')[_0x57c497(0xd75)](_0x1d97c0=>{const _0x4ff0bb=_0x57c497;_0x1d97c0[_0x4ff0bb(0x5a2)](_0x4ff0bb(0x4f4),_0x298a21=>{const _0x469ecb=_0x4ff0bb;scratchpadPenColor=_0x298a21[_0x469ecb(0xa35)][_0x469ecb(0xa2c)]['color'],_0x8afd8a[_0x469ecb(0x760)](_0x469ecb(0x564))[_0x469ecb(0xd75)](_0x5a833a=>_0x5a833a['classList'][_0x469ecb(0x7d9)](_0x469ecb(0x970))),_0x298a21[_0x469ecb(0xa35)]['classList'][_0x469ecb(0x648)](_0x469ecb(0x970));});}),_0x213594[_0x57c497(0x760)](_0x57c497(0x90c))[_0x57c497(0xd75)](_0xc47779=>{const _0x5939b4=_0x57c497;_0xc47779[_0x5939b4(0x5a2)](_0x5939b4(0x4f4),_0x63788b=>{const _0x501b29=_0x5939b4;scratchpadHighlighterColor=_0x63788b[_0x501b29(0xa35)]['dataset'][_0x501b29(0xb40)],_0x213594[_0x501b29(0x760)](_0x501b29(0x90c))[_0x501b29(0xd75)](_0x46fd94=>_0x46fd94['classList'][_0x501b29(0x7d9)](_0x501b29(0x970))),_0x63788b['target'][_0x501b29(0x6f1)][_0x501b29(0x648)](_0x501b29(0x970));});});const _0x33f530=document[_0x57c497(0xc4d)](_0x57c497(0x704)),_0x3cfbbc=document[_0x57c497(0xc4d)](_0x57c497(0xca));_0x33f530[_0x57c497(0x5a2)](_0x57c497(0xce9),_0x317c6b=>{const _0x2ffedd=_0x57c497,_0x44ef3d=parseInt(_0x317c6b[_0x2ffedd(0xa35)][_0x2ffedd(0x1ce)],0xa);scratchpadHighlighterSize=_0x44ef3d,_0x3cfbbc[_0x2ffedd(0x4c4)]=_0x44ef3d;}),window[_0x57c497(0x5a2)](_0x57c497(0xd79),()=>{const _0x42109f=_0x57c497;!_0x2bced9[_0x42109f(0x6f1)][_0x42109f(0x913)](_0x42109f(0x476))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x5be2be(0x838),'name':'คะแนนเต็ม','description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x5be2be(0x473),'description':_0x5be2be(0x15c),'icon':_0x5be2be(0xc12)},'ON_FIRE':{'id':_0x5be2be(0x926),'name':_0x5be2be(0x32b),'description':_0x5be2be(0xb41),'icon':_0x5be2be(0x15d)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x5be2be(0xe17),'description':_0x5be2be(0x3ab),'icon':_0x5be2be(0x8fc)},'COMEBACK_KING':{'id':_0x5be2be(0x898),'name':_0x5be2be(0x37e),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x5be2be(0x23d),'name':_0x5be2be(0x91e),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x5be2be(0x1e4)},'PERSEVERANCE':{'id':_0x5be2be(0xa1c),'name':_0x5be2be(0x84e),'description':_0x5be2be(0xda8),'icon':_0x5be2be(0x7bb)}},firebaseConfig={'apiKey':_0x5be2be(0xae6),'authDomain':_0x5be2be(0x467),'projectId':_0x5be2be(0xd8a),'storageBucket':_0x5be2be(0x161),'messagingSenderId':'274192258111','appId':_0x5be2be(0x6d3),'measurementId':_0x5be2be(0x1e1)},appId=typeof __app_id!=='undefined'?__app_id:_0x5be2be(0xb34),adminView=document['getElementById'](_0x5be2be(0x504)),studentView=document['getElementById'](_0x5be2be(0x215)),projectDashboardView=document[_0x5be2be(0xc4d)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0x5be2be(0xb74)),quizResultsView=document[_0x5be2be(0xc4d)](_0x5be2be(0x27a)),projectList=document['getElementById'](_0x5be2be(0x42e)),noProjectsMsg=document[_0x5be2be(0xc4d)](_0x5be2be(0xc2e)),projectTitle=document[_0x5be2be(0xc4d)](_0x5be2be(0xc5f)),projectIdDisplay=document[_0x5be2be(0xc4d)](_0x5be2be(0xa53)),studentList=document[_0x5be2be(0xc4d)]('student-list'),messageModal=document[_0x5be2be(0xc4d)](_0x5be2be(0x949)),modalMessage=document[_0x5be2be(0xc4d)](_0x5be2be(0xac4)),createProjectModal=document[_0x5be2be(0xc4d)](_0x5be2be(0x801)),adminPasswordModal=document['getElementById'](_0x5be2be(0x9bb)),confirmationModal=document[_0x5be2be(0xc4d)](_0x5be2be(0xb5b)),userIdDisplay=document[_0x5be2be(0xc4d)](_0x5be2be(0xe0a)),topicTab=document[_0x5be2be(0xc4d)]('topic-tab'),textTab=document[_0x5be2be(0xc4d)](_0x5be2be(0x89c)),topicInputArea=document[_0x5be2be(0xc4d)](_0x5be2be(0x967)),textInputArea=document['getElementById'](_0x5be2be(0xe66)),manageTab=document[_0x5be2be(0xc4d)](_0x5be2be(0xe18)),resultsTab=document[_0x5be2be(0xc4d)](_0x5be2be(0x8b8)),leaderboardTab=document[_0x5be2be(0xc4d)](_0x5be2be(0x57c)),manageTabContent=document['getElementById'](_0x5be2be(0x627)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x5be2be(0xc4d)](_0x5be2be(0x70f)),projectQuizzesList=document[_0x5be2be(0xc4d)](_0x5be2be(0x852)),fileTab=document['getElementById'](_0x5be2be(0x316)),fileInputArea=document[_0x5be2be(0xc4d)]('file-input-area'),fileUploadInput=document[_0x5be2be(0xc4d)](_0x5be2be(0xc77)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x5be2be(0xc4d)](_0x5be2be(0xd8c)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x5be2be(0xc73)),studentNameSelectionView=document[_0x5be2be(0xc4d)](_0x5be2be(0x8ca)),studentQuizArea=document[_0x5be2be(0xc4d)](_0x5be2be(0xe4)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x5be2be(0xc4d)](_0x5be2be(0xde9)),loadQuizBtn=document[_0x5be2be(0xc4d)](_0x5be2be(0xff)),startQuizBtn=document[_0x5be2be(0xc4d)]('start-quiz-btn'),studentJoinGameView=document[_0x5be2be(0xc4d)](_0x5be2be(0xbbe)),presentationModal=document[_0x5be2be(0xc4d)](_0x5be2be(0xa7a)),renameQuizModal=document[_0x5be2be(0xc4d)](_0x5be2be(0xd73)),moveQuizModal=document[_0x5be2be(0xc4d)](_0x5be2be(0xc6b)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x5be2be(0xc4d)](_0x5be2be(0xe08)),liveGameView=document[_0x5be2be(0xc4d)](_0x5be2be(0x770));function handleFixLessonLatex(){const _0x40e9cc=_0x5be2be,_0x29400b=document[_0x40e9cc(0xc4d)]('lesson-view-content');if(!_0x29400b){showMessage(_0x40e9cc(0x63a));return;}const _0x3efb0a=_0x29400b[_0x40e9cc(0x760)](['.ai-content\x20p',_0x40e9cc(0xe0b),_0x40e9cc(0x5cc),_0x40e9cc(0xa99),_0x40e9cc(0xd5e)][_0x40e9cc(0x625)](','));let _0x157d88=0x0;const _0x30eca4=_0x55e441=>_0x55e441[_0x40e9cc(0x4c4)]||'',_0x2eac44=(_0x337421,_0x39dac0)=>{const _0x36d5ce=_0x40e9cc;if(_0x337421['querySelector']&&_0x337421[_0x36d5ce(0xab2)](_0x36d5ce(0x88f)))return;_0x337421[_0x36d5ce(0x4c4)]=_0x39dac0;},_0x4cd76a=_0x569a07=>_0x569a07[_0x40e9cc(0x6c0)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x40e9cc(0x6c0)](/\r\n?/g,'\x0a'),_0x2c244a=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x12d030=_0x3c5bfe=>{const _0x2b1453=_0x40e9cc;let _0x2473d5=_0x3c5bfe['trim']();const _0x2bd589=['frac',_0x2b1453(0x675),_0x2b1453(0x845),_0x2b1453(0xb3a),_0x2b1453(0x8d1),'times',_0x2b1453(0xd5c),_0x2b1453(0xe52),_0x2b1453(0xa8b),_0x2b1453(0x53b),'le','ge',_0x2b1453(0xd03),'pm',_0x2b1453(0x2af),_0x2b1453(0x943),_0x2b1453(0x217),_0x2b1453(0xcac),_0x2b1453(0xbe2),'ln',_0x2b1453(0x2e8),_0x2b1453(0x74e),'binom',_0x2b1453(0x3a6),_0x2b1453(0xd68),_0x2b1453(0xe01),'underline',_0x2b1453(0x9c1),'deg'];_0x2bd589[_0x2b1453(0xd75)](_0x59cd0b=>{const _0x2c5bbe=_0x2b1453;_0x2473d5=_0x2473d5[_0x2c5bbe(0x6c0)](new RegExp(_0x2c5bbe(0x85e)+_0x59cd0b+'\x5cb','g'),(_0x1b77aa,_0xa80078)=>_0xa80078+'\x5c'+_0x59cd0b);});const _0x2d23e0=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x2b1453(0x12a)],[/≤/g,'\x5cle'],[/≥/g,_0x2b1453(0xcee)],[/≠/g,_0x2b1453(0x362)],[/±/g,_0x2b1453(0xa42)],[/∑/g,_0x2b1453(0xc01)],[/−/g,'-']];return _0x2d23e0['forEach'](([_0x4fc58b,_0x3d0712])=>{const _0x383a73=_0x2b1453;_0x2473d5=_0x2473d5[_0x383a73(0x6c0)](_0x4fc58b,_0x3d0712);}),_0x2473d5=_0x2473d5[_0x2b1453(0x6c0)](/√\s*([A-Za-z0-9]+)/g,_0x2b1453(0x888)),_0x2473d5=_0x2473d5[_0x2b1453(0x6c0)](/(\d+)\s*%/g,_0x2b1453(0x893)),_0x2473d5;},_0x3396ac=_0x4f8ecc=>{const _0x42b612=_0x40e9cc;if(/\$|\\\(|\\\[/[_0x42b612(0x2fb)](_0x4f8ecc))return _0x4f8ecc;if(!_0x2c244a[_0x42b612(0x2fb)](_0x4f8ecc))return _0x4f8ecc;const _0x310fd8=_0x4f8ecc[_0x42b612(0x66c)](/^\s*/)[0x0],_0x2df293=_0x4f8ecc[_0x42b612(0x66c)](/\s*$/)[0x0],_0x1fc7b8=_0x4f8ecc[_0x42b612(0x2ce)]();return _0x310fd8+'$'+_0x12d030(_0x1fc7b8)+'$'+_0x2df293;};_0x3efb0a[_0x40e9cc(0xd75)](_0x3382ed=>{const _0x3cef5c=_0x40e9cc,_0x561343=_0x30eca4(_0x3382ed);let _0xc55bae=_0x4cd76a(_0x561343);_0xc55bae=_0xc55bae['replace'](/\$([^$]*?)\$/g,(_0x2e05fa,_0x59b164)=>'$'+_0x12d030(_0x59b164)+'$');const _0xedba1a=_0xc55bae['split'](/(\s+)/),_0x1ce738=_0xedba1a[_0x3cef5c(0x546)](_0x31f0bd=>{if(/\s+/['test'](_0x31f0bd))return _0x31f0bd;return _0x3396ac(_0x31f0bd);});_0xc55bae=_0x1ce738[_0x3cef5c(0x625)](''),_0xc55bae!==_0x561343&&(_0x2eac44(_0x3382ed,_0xc55bae),_0x157d88++);});if(_0x157d88>0x0){showMessage(_0x40e9cc(0xb1e)+_0x157d88+_0x40e9cc(0xc78));try{window['MathJax']&&MathJax[_0x40e9cc(0xd71)]&&MathJax[_0x40e9cc(0xd71)]([_0x29400b]);}catch(_0x259e66){console[_0x40e9cc(0x339)](_0x40e9cc(0x889),_0x259e66);}}else showMessage(_0x40e9cc(0x5a6));}function handleAutoFixLatex(){const _0x39dcb4=_0x5be2be,_0x121aab=document[_0x39dcb4(0xc4d)]('quiz-editor-questions-container')||document,_0x434d78=_0x121aab[_0x39dcb4(0x760)](_0x39dcb4(0xcc0));let _0x307b69=0x0;const _0x3d6672=_0x259552=>_0x39dcb4(0x1ce)in _0x259552?String(_0x259552[_0x39dcb4(0x1ce)]):_0x259552[_0x39dcb4(0x717)]!==undefined?_0x259552[_0x39dcb4(0x717)]:_0x259552[_0x39dcb4(0x4c4)]||'',_0x159f96=(_0x370da5,_0x2b969e)=>{const _0x3c9488=_0x39dcb4;if('value'in _0x370da5){_0x370da5[_0x3c9488(0x1ce)]=_0x2b969e;return;}if(_0x370da5[_0x3c9488(0xab2)]&&_0x370da5[_0x3c9488(0xab2)](_0x3c9488(0x88f)))return;if(_0x370da5['innerText']!==undefined)_0x370da5['innerText']=_0x2b969e;else _0x370da5['textContent']=_0x2b969e;},_0x2b703e=_0x3ffb89=>_0x3ffb89[_0x39dcb4(0x6c0)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x39dcb4(0x6c0)](/\r\n?/g,'\x0a'),_0x229459=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x38bc9e=_0x31ce2a=>{const _0x1b2b79=_0x39dcb4;let _0x2dbee3=_0x31ce2a[_0x1b2b79(0x2ce)]();_0x2dbee3=_0x2dbee3[_0x1b2b79(0x6c0)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x2dbee3=_0x2dbee3[_0x1b2b79(0x6c0)](/\bfrac(\d)(\d)/g,_0x1b2b79(0x45e));const _0x172674=['frac',_0x1b2b79(0xb3a),_0x1b2b79(0x239),'cdot',_0x1b2b79(0xe52),'leq',_0x1b2b79(0x53b),'neq','pm',_0x1b2b79(0x943),_0x1b2b79(0x217),_0x1b2b79(0xcac),_0x1b2b79(0xbe2),'ln'];_0x172674[_0x1b2b79(0xd75)](_0x30ba88=>{const _0x3b50fe=_0x1b2b79;_0x2dbee3=_0x2dbee3['replace'](new RegExp(_0x3b50fe(0x85e)+_0x30ba88+'\x5cb','g'),(_0xc3f01,_0x451eb8)=>_0x451eb8+'\x5c'+_0x30ba88);});const _0x218627=[[/×/g,_0x1b2b79(0x8c4)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x1b2b79(0xb55)],[/≥/g,'\x5cge'],[/≠/g,_0x1b2b79(0x362)],[/±/g,_0x1b2b79(0xa42)]];return _0x218627[_0x1b2b79(0xd75)](([_0x5c4f3b,_0x16680c])=>{_0x2dbee3=_0x2dbee3['replace'](_0x5c4f3b,_0x16680c);}),_0x2dbee3;},_0x35ac4c=_0x13393a=>{const _0x926f4d=_0x39dcb4;if(/\$|\\\(|\\\[/['test'](_0x13393a))return _0x13393a;if(!_0x229459[_0x926f4d(0x2fb)](_0x13393a))return _0x13393a;const _0x41b16f=_0x13393a[_0x926f4d(0x66c)](/^\s*/)[0x0],_0x49a75b=_0x13393a[_0x926f4d(0x66c)](/\s*$/)[0x0],_0x355683=_0x13393a[_0x926f4d(0x2ce)]();return _0x41b16f+'$'+_0x38bc9e(_0x355683)+'$'+_0x49a75b;};_0x434d78[_0x39dcb4(0xd75)](_0x239308=>{const _0x5b6d6c=_0x39dcb4,_0x39c3e0=_0x3d6672(_0x239308);let _0x3cf53a=_0x2b703e(_0x39c3e0);_0x3cf53a=_0x3cf53a[_0x5b6d6c(0x6c0)](/\$([^$]*?)\$/g,(_0x22b166,_0x5419f5)=>'$'+_0x38bc9e(_0x5419f5)+'$');const _0x371631=_0x3cf53a['split'](/(\s+)/),_0x33409a=_0x371631[_0x5b6d6c(0x546)](_0x1323c9=>/\s+/[_0x5b6d6c(0x2fb)](_0x1323c9)?_0x1323c9:_0x35ac4c(_0x1323c9));_0x3cf53a=_0x33409a[_0x5b6d6c(0x625)](''),_0x3cf53a!==_0x39c3e0&&(_0x159f96(_0x239308,_0x3cf53a),_0x307b69++);});if(_0x307b69>0x0){showMessage(_0x39dcb4(0xb01)+_0x307b69+_0x39dcb4(0x9d0));try{if(window[_0x39dcb4(0x1bb)]&&MathJax[_0x39dcb4(0xd71)])MathJax[_0x39dcb4(0xd71)]();}catch(_0x3053a8){}}else showMessage(_0x39dcb4(0xc42));}async function listenForCustomMathTopics(){const _0xd22203=_0x5be2be,_0x22b905=collection(db,_0xd22203(0x6e9)+appId+'/public/data/customMathTopics');onSnapshot(_0x22b905,_0x119775=>{const _0x2c4948=_0xd22203;customMathTopics=_0x119775[_0x2c4948(0x2b9)][_0x2c4948(0x546)](_0x54e40a=>({'id':_0x54e40a['id'],..._0x54e40a[_0x2c4948(0x1de)]()})),renderTopicCheckboxes();},_0xd3071d=>{const _0x519728=_0xd22203;console[_0x519728(0x339)](_0x519728(0x48f),_0xd3071d);});}function handleSelectAllTopics(){const _0x144c04=_0x5be2be,_0x3ec70d=document[_0x144c04(0xc4d)](_0x144c04(0x424)),_0x538977=_0x3ec70d[_0x144c04(0x760)](_0x144c04(0x8f1));_0x538977['forEach'](_0x250d12=>{const _0x59a41a=_0x144c04;_0x250d12[_0x59a41a(0x315)]=!![];}),updateSelectedTopicsCount();}function _0x5379(){const _0x4545dd=['script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','แผนการสอน','split','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','Error\x20clearing\x20all\x20links:','index','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','text-white','.live-answer-btn,\x20#live-submit-short-answer-btn','ชาไข่มุก','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','#file-shortcut-tabs-nav\x20.tab-name-input','Error\x20committing\x20score\x20updates:','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','fontWeight','input[type=\x22radio\x22][value=\x22','ไม่สามารถเพิ่มนักเรียนได้','จากไฟล์ที่แนบมานี้,\x20','<div>','Error\x20listening\x20for\x20starred\x20quizzes:','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','visible','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','เลือกและเริ่มสร้าง','additional-file-shortcuts-list','generate-from-topic-btn','deltaY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','createdAt','Error\x20submitting\x20team\x20answer:','รักแรกพบ','manual_release','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','question-complexity-select','\x20to\x20blueprint\x20topic\x20','isDefault','เกิดข้อผิดพลาดในการสร้างห้องเกม','dragstart','ระยะทางและจุดกึ่งกลาง','คาถาแยกเงาพันร่าง','หนอนหนังสือ','lesson-plan-title','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ไม่พบข้อมูลผู้ใช้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','student-rankings-modal','/public/data/blueprintProjects','Buy\x20Item\x20failed:\x20','lesson-loader-text','.presentation-option','selected-answer-index-hidden-wager','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','input','order','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20P)','uid','\x5cge','.use-hidden-shortcut-btn','</div>','border-red-700','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','nickname-input','เกิดข้อผิดพลาด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x20mx-1\x20text-lg\x22></i></span>','th-TH','ไม่มี','strength-weakness-analysis-container','กระต่ายตื่นตูม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','teachingContent','msExitFullscreen','setAttributeNS','neq','</span></div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20ID:\x20','/players','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การหารเศษส่วน','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','timerDuration','destroy','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','.verification-result','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','checkAnswer','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','#e21b3c','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','bg-green-500','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','interesting-stats-container','back-to-dashboard-from-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','onSecondChance','toDataURL','แก้ไขปุ่มลัด','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','classWeaknesses','.project-card-content','cancel-quiz-status-btn','str','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','global-quiz-count','บันทึกคำถามใหม่\x20',':</span><span>','tool','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stepByStepExamples','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','firstScore','loader-text','<div\x20class=\x22flex-1\x22></div>','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','\x22><p\x20class=\x22font-semibold\x22>','https://corsproxy.io/?','กำลังสร้างคำถามข้อ\x20','จากเนื้อหาต่อไปนี้:\x20\x22','matching_item','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','upperGroupNames','```','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</h3>','Error\x20generating\x20from\x20link:','.move-shortcut-dropdown','dispatchEvent','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','.delete-file-shortcut-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','confirm-quiz-status-btn','confirm-game-start-btn','type','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','table','createOscillator','Auto-linking\x20new\x20quiz\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ON_FIRE','reduce','cdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.ai-content\x20h3','dim-overlay','bg-green-200','presentation-explanation','newOptionsPayload','requestFullscreen','team-quiz-topic','nextElementSibling','beforeend','check-presentation-answer-btn','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','admin-password-input','points','สร้างคำถามแบบเติมคำในช่องว่าง','\x22.\x20','text-emerald-800','difficultyValue','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','rename-quiz-modal','adaptive-quiz-checkbox','forEach','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','resize','⏳\x20ซื้อเวลา','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','บันทึกการแก้ไข','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','API\x20Error\x20Response:','promise','destination','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ระบบอสมการ','.option-input','topic-bank-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','worksheet-input-area','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','.confidence-choice-btn','not_generated','rgba(255,\x20255,\x200,\x200.5)','quizType','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','API\x20call\x20failed','responseSchema','true_false','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','</th>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','Team\x20Quiz','ไม่พบโปรเจค','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','subTopic','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','Error\x20calculating\x20final\x20scores:','ตั้งเวลา\x20(เปิด)','players','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','getTime','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','live-options-container','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','การเรียงสับเปลี่ยน\x20(Permutation)','point','\x20link(s)\x20for\x20quiz\x20ID:\x20','</span></td>','ondragover','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','width\x2060s\x20linear','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<div\x20class=\x22my-6\x22>','Error\x20in\x20generating\x20from\x20files:','s;\x22\x20title=\x22','.delete-shortcut-btn','ไม่ใช่','padStart','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','quiz','empty','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','attemptNumber','correctStreak','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','👁️','triangle','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','presentation-ai-result','projectOrder','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-rename-quiz-btn','Failed\x20to\x20generate\x20practice\x20test:','โหลดนาน','translate','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ไม่พบโปรเจคที่ต้องการลบ','result','open-market-btn','show_pass_fail_only','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement','close-lesson-plan-modal-footer-btn','/public/data/liveGames','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','bg-yellow-300\x20text-yellow-900\x20font-bold','reference_onet.pdf','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','356856JzlkLp','.text-indigo-200','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','additional-shortcuts-modal','arrayBuffer','answering','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','student-reading-area','generate-from-link-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','comparison-overall-tab','สอบซ่อม','👁️\x20เผยตัวเลือก','scale','ข้อ\x20','การบวกทศนิยม','cancel-delete-btn','pointer-events-none','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','json','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','</span>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','removeEventListener','text-green-600\x20font-bold','.space-y-1.pl-4','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','Error\x20generating\x20parallel\x20post-test:','overline','แบบทดสอบฝึกฝนเรื่อง:\x20','appendChild','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','upper_group_count','touchcancel','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','quiz-status-modal','ชนิดของข้อมูลและการเก็บข้อมูล','user-id-display','.ai-content\x20li','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','use-powerup-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preScore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','true','ผ่านฉลุย','manage-tab','mouseleave','มุมพิเศษ\x2045°-45°-90°','AudioContext','pre-test','.buy-time-confirm-btn','สู้ๆ\x20ลองอีกครั้งนะ','behavior-log-container','confidence-choice-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>:\x20','รายการนี้','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไฟล์ลัด\x201','.generate-post-test-btn','topics.','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20updating\x20custom\x20topic:','rgba(16,\x20185,\x20129,\x200.7)','starred-project','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','smooth','Error\x20opening\x20quiz\x20editor:','ไฮเพอร์โบลา','<span\x20title=\x22โดนบังคับ\x22>👻</span>','ไม่พบข้อมูลแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</p>','.delete-submission-btn','\x20รายการสำเร็จ!','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','scrollIntoView','.regenerate-question-btn','touchstart','shortcut-blueprint-url-input','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','now','Export\x20Image\x20Error:','submission','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','เพิ่มรายการที่เลือก','postScore','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','.generate-content-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','includes','ยังไม่เต็มนะ','onblur','market-item-list','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20adding\x20topic:','20px','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','div','กำลังสร้างแบบทดสอบ\x20\x22','buyTime','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','startedAt','_blank','.png','</td>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','indexOf','บันทึกแบบทดสอบสำเร็จแล้ว!','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','/public/data/blueprintProjects/','AI\x20did\x20not\x20return\x20any\x20content.','isStarred','</body></html>','cropped_image.png','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<div\x20class=\x22loader\x20mx-auto\x22></div>','text-input-area','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','quiz-bank-count','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','leaderboard-table-body','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','.regenerate-question-editor-btn','Blueprint\x20O-NET\x20ป.6','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous_reveal_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','bg-red-700\x20text-white\x20font-bold','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','global-activity-modal','ตรวจทานเฉลยเสร็จสิ้น!','currentQuestionIndex','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x20สำเร็จ!','เพื่อนสนิท','/public/data/syncGames','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','half_mark_status','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','createdBy','[id^=\x22dropdown-list-\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','powerup','/preferences/main','\x22,\x20','globalAlpha','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','สเกลและแผนที่','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','bulk-quiz-settings-modal','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-manage-players-btn','file-shortcuts-loading-msg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20joining\x20live\x20game:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','show-leaderboard-btn','bp-project-title','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','student-quiz-area','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','/questionBank','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','pointercancel','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.bp-game-btn','เน็ตไอดอล','เสือซ่อนเล็บ','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x20(\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','.correct-response-input','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','load-quiz-btn','worksheet-topic-input','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','has','line-height:\x201.3;\x20min-width:\x200;','.txt','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','comparison-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','สลับไปโหมดนักเรียน','font-bold\x20text-green-700','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.buy-item-btn','.file-shortcut-tab-btn','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','student-team-join','https://drive.google.com/uc?export=download&id=','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','cancel-quiz-bank-btn','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','สร้างโปรเจคสำเร็จ!','Error\x20submitting\x20answer:','<span>','tGain','404\x20Not\x20Found','.delete-project-btn','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','timerMode','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationContent','shortcutIds','<li>','moveTo','use-powerup-cutOne','border-green-700','\x5cdiv','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','src','พิสัย','getContext','ทฤษฎีทวินาม\x20(เบื้องต้น)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แฟนทิพย์','trail','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','ยังไม่สร้าง','แก้ระบบสมการด้วยเมทริกซ์','standardTopic','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ไม่สามารถสร้างโปรเจคได้','add-custom-math-topic-btn','</span><button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','กรุณาสร้างบทเรียนก่อน','\x22\x20name=\x22question','bg-gray-50','imageCode','กำลังสร้างบทเรียน:\x20','verify-answers-btn','bestScore','เหมียวขี้เซา','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','การแยกตัวประกอบ','wager-slider','isForcedConfident','bg-green-500\x20hover:bg-green-600\x20text-white','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','border-indigo-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-file-btn',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','min','playerIndex','hasOwnProperty','กลุ่ม:\x20','createObjectURL','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','fa-fire\x20text-orange-500','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ai-quiz-app-aefee.firebasestorage.app','Error\x20verifying\x20answers:','แก้ไขชื่อหัวข้อย่อย:','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','text-gray-300\x20hover:text-white','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','project-name-input','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','manual-bp-content','generate-from-parallel-test-btn','\x20กลุ่ม</p></div>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','สำหรับโปรเจค:\x20','ระบบเลขและค่าประจำหลัก','ศูนย์','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','isBlackMarketEnabled','reset-view-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','behavior-log-tab-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','PERFECT_SCORE','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','drop','\x20ชิ้น)','closePath','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','default-1','.flex.justify-between.items-center','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.game-start-btn','</strong></p>','เกิดข้อผิดพลาดในการปักหมุด','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','original-mode-checkbox','กำลังสร้างแบบทดสอบ:\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','blueprint-upload-input','items','added','responses.','\x20จาก\x20','<div\x20class=\x22space-y-2\x22>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-management','bg-white\x20text-gray-800','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','file-shortcut-modal-title','close-game-final-btn','.question-editor-item','สอบปกติ','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classic','ไม่พบข้อมูลข้อสอบหลังเรียน','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','Error\x20unlinking\x20quiz:','key','Error\x20unpairing\x20quizzes:','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','/lessons','fullscreenchange','เกิดข้อผิดพลาดในการจับคู่','เกิดข้อผิดพลาดในการอัปเดตสถานะ','manual-blueprint-modal','lesson-view-content','Error\x20loading\x20user\x20preferences:','trail-tool-btn','.remove-shortcut-from-tab-btn','Error\x20deleting\x20project:','จันทร์เจ้า','isAnonymousRevealed','API\x20Error\x20Body:','isConfidenceScoringEnabled','name','กฎของไซน์','offsetWidth','<span\x20class=\x22font-bold\x20','function','list','targetId','blueprint-project-manager-view','bg-amber-100\x20text-amber-800','webkitRequestFullscreen','destination-out','MathJax','.remove-file-shortcut-from-tab-btn','latestSubmittedAt','blur','.lastAnswerValue','กรุณาตั้งชื่อแท็บใหม่:','quiz-bank-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','correct','shuffledQuiz','checkbox','per-question-options','.eraser-size-btn','sync-timer-enable-checkbox','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','student-name-input','.pointsLastQuestion','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','value','.move-file-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','Error\x20deleting\x20topic:','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','all','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','idealAnswer','Error\x20fetching\x20project\x20quizzes:','cancel-wager-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','frequency','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','data','link-topic-input','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','G-V90KRM0L63','กำลังดึงข้อมูลจากลิงก์...','จับคู่แบบทดสอบสำเร็จ!','fa-user-astronaut\x20text-blue-700',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการเชื่อมโยงสำเร็จ','manual-bp-grade-level','getAttributeNS','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','ภูเขา','เพิ่มปุ่มลัดใหม่','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','padding','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','start-sync-game-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ข้อต่อไป','contentEditable','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ลบหัวข้อสำเร็จ','ความเป็นอิสระของเหตุการณ์','\x20ครั้ง)</span></td>','quiz-generation-area','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','quiz-type-select','.edit-custom-topic-btn','shortcuts','wasForced','คำถาม...','\x22\x20id=\x22input-','style','gain','Error\x20clearing\x20linked\x20quiz:','สิงโตยิ้ม','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-name=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</button>','pinnedProjects','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','%</span>','quiz-results','floor','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','student-view','timer-mode-select','cos','onchange','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','desc','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','poll','group','Invalid\x20response\x20structure\x20from\x20AI.','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','Error\x20listening\x20for\x20projects:','ก่อนเรียน','application/json','option','.generate-lesson-btn','คะแนนยังไม่ถึงครึ่ง','isArray','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','parallel-shortcut-tabs-nav','abs','สร้างคำถามใหม่\x201\x20ข้อ\x20','projectSortOrder','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','getTextContent','ติดซีรีส์','<button\x20data-id=\x22','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','timer-duration-label','การกระจายและการจัดหมู่','use-powerup-wagerMultiplier-instant','มุมและการวัดมุม','results-tab-content','scheduled','times','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','camera-input','explanation','specialist','text-indigo-700','export-leaderboard-image-btn','groups.','เกิดข้อผิดพลาดในการลบโปรเจค','พอใช้','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','รูปสแควร์รูท\x20(surd)','QUICK_THINKER','icon','latestScore','bg-yellow-50','Error\x20updating\x20project\x20name:','total','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22...','กรุณาป้อนรหัสแบบทดสอบ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','.delete-bp-project-btn','\x22\x20data-q-type=\x22','next-drill-btn','เกิดข้อผิดพลาดในการใช้ตัวช่วย','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20student:','onerror','classStrengths','topic_','bg-[#4ADE80]\x20text-green-900\x20font-bold','editor-quiz-topic','change','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','pathname','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','select[name=\x22question_single\x22]','documentElement','Error\x20pairing\x20quizzes:','แบบทดสอบที่ติดดาว','confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','close-comparison-modal-footer-btn','modified','shadowBlur','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-index=\x22','numeric','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','quiz-search-input','save-quiz-btn','cancel-team-selection-btn','blueprint-project-list','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','pin-entry-modal','🛡️','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','firstElementChild','ฟังก์ชันค่าสัมบูรณ์','ทศนิยม\x20(ค่าประจำหลัก)','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22โดนคำสาป\x22>😈</span>','shortcut_','passing-score-input','per-q-countdown','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','ความชันเส้นสัมผัส','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tab_','close-additional-file-shortcuts-btn','auto','คนคุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','analytics-tab-content','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','commit','delete','attempts','.bp-open-topic-bank-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x27\x20ในหัวข้อ\x20\x27','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','lesson-view-modal','whole_quiz','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','topic-quiz-bank-modal','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','30px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','comparison-chart','100060zpXkuo','bulk-loop-until-pass-checkbox','approx','code','ไม่สามารถบันทึกการตั้งค่าได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','center','itemId','curriculum','questionIndex','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','bg-red-50','docs','parallel-default-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','lowerGroupResponders','warn','rgba(239,\x2068,\x2068,\x200.9)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Loaded\x20','learningGaps','use-powerup-fiftyFifty','setItem','helvetica','จอมเวทย์ขนมหวาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics','touchmove','text-yellow-300','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','trim','.delete-custom-topic-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-leaderboard-table-container','leaderboard-quiz-tab-content','ซื้อ\x20(','AI\x20แก้ไขคำถามสำเร็จ!','กรุณาเลือกโปรเจคปลายทาง','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-green-100\x20font-bold','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><i\x20class=\x22fas\x20','shortcut-id-input','cropper-modal','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','scan-text-image-input','Error\x20saving\x20to\x20question\x20bank:','next-question-btn','quizMode','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','gradeLevel','คุณใช้ตัวช่วย\x20\x22','fromCharCode','Error\x20saving\x20blueprint\x20project:','sum','1737xVyuzM','หลังเรียน','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','.delete-hidden-file-shortcut-btn','topicId','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','ceil','<div><input\x20type=\x22radio\x22\x20id=\x22q','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','http://www.w3.org/2000/svg','text-blue-800','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','test',')\x22><span\x20style=\x22','STOP','bottom','การคูณ','การจัดหมู่\x20(Combination)','ดาบพิฆาตอสูร','เศษส่วน\x20(ย่อ/ขยาย)','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','scrollX','url','startTime','quiz-editor-modal','add-shortcut-tab-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','การลบเศษส่วน','linkedQuizIds','<div\x20id=\x22q-image-container-','fileShortcutsConfig','post-test','bp-modal-include-images-checkbox','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','checked','file-tab','parallel-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','download','add-file-shortcut-tab-btn','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','offset','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','/users/','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','...','Error\x20calling\x20Gemini\x20API:','student-team-selection-view','comparison','powerupUsed','scores-tab-btn','</a>','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-pen\x22></i>','write','อัตราส่วนและสัดส่วน','.pin-project-btn','finished','sort','multiply','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','blueprintUrl','loop-until-pass-checkbox','results','error','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','รูปแบบการให้เหตุผล','คะแนนเต็ม!','start-live-race-generated-btn','additional-parallel-shortcuts-list','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียน','Error\x20saving\x20reference\x20URL:','</p></div>','viewBox','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','(ก่อนเรียน)\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','opacity','แท็บใหม่','getPage','slide-counter','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','pow','input[name=\x22question_single\x22]:checked','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','actions-container-','confident','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','bg-[#EF4444]\x20text-white\x20font-bold','matching','Group\x20Mode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','.live-answer-btn','find','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','สมการค่าสัมบูรณ์','นักดนตรี','</h4>','\x5cneq','/public/data/quizzes/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','cancel-shortcut-edit-btn','รอผู้ควบคุมไปข้อต่อไป...','disabled\x20bg-gray-400\x20cursor-not-allowed','baseVal','text-red-700','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-2','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','round','Error\x20processing\x20file\x20shortcut\x20click:','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','quiz-end-time','กรุณาพิมพ์คำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','.move-parallel-shortcut-dropdown','MathJax\x20typeset\x20error\x20(analytics):','subTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.parallel-shortcut-tab-btn','ราชาคัมแบ็ก','values','topic','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ตัวเลือก\x20ก','.topic-name-input','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','toString','แบบทดสอบนี้หมดเวลาแล้ว','modal-results-display-select','เกี่ยวกับหัวข้อ\x20\x22','modal-timer-mode-select','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','หน่วยมวล/น้ำหนักและการแปลง','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','reveal-names-btn','dropdown-list-','.lastAnswerIndex','.quiz-bank-present-btn','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','Error\x20linking\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','onload','กรุณาเลือกโปรเจคก่อน','countdown-display','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','จำนวนคละ','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','.delete-hidden-parallel-shortcut-btn','isJinxed','element','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20saving\x20parallel\x20shortcut\x20config:','.edit-parallel-shortcut-btn','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','left','bp-quiz-settings-btn','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนเต็มในการทำครั้งแรก','input[name=\x22syncVariant\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','Error\x20updating\x20points:','comparison-individual-tab','rgba(79,\x2070,\x20229,\x201)','28px','ตัวเลือก\x20ง','parallel-default-2','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','-options\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-try-btn','\x22>ใช่</p>','bg-red-500\x20text-white\x20font-bold','bg-green-200\x20text-green-900\x20font-bold','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','lesson-plan-content','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','กำลังอัปเดตแบบทดสอบ\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</li>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','pointContent','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','.file-shortcut-btn[data-id=\x22','.application-options\x20button','คู่จิ้น','parallel-shortcut-editor-modal','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','Attempting\x20to\x20save\x20game\x20results...','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ควรปรับปรุง','sync-timer-bar','text-gray-500','top','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','อนุพันธ์:\x20ผลคูณ/ผลหาร','selectedTopicNames','getBBox','#parallel-shortcut-tabs-nav\x20.tab-name-input','generated-quiz-container','การบวกเศษส่วน','ไม่พบไฟล์\x20Test\x20Blueprint','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','toLocaleString','fileShortcutTabs','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','stringify','sync-timer-duration-input','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','confirm-create-project-btn','แผนภาพกล่อง\x20(box\x20plot)','กำลังค้นหากิจกรรม...','analytics-tab-btn','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','handleGenerateAndShowLesson','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','.edit-hidden-parallel-shortcut-btn','bp-modal-num-choices','presentation-scratchpad-btn','authed_project_','เนื้อหาสำหรับสอน:\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','opacity-50','<div\x20style=\x22','สร้างแบบทดสอบปรนัย','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','innerHTML','line-through\x20text-red-700','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-form','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','preTestId','28750kykAMF','drill-feedback','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','บันทึกโปรเจค\x20\x22','[data-topic-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','กรุณาวาง\x20URL\x20ของบทความก่อน','export-pdf-modal','flex','add-from-global-bank-btn','ม้าดีดกะโหลก','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-[#DCFCE7]\x20text-green-900','global-activity-quiz-list','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','math-topics-checkbox-container','กำลังอ่านและเตรียมไฟล์...','resultsSaved','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','memoryContent','answeredCurrentQuestion','\x22\x20name=\x22question_single\x22\x20value=\x22','/public/data/quizzes','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','project-list','ครูใหญ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','sync-submit-btn','.delete-parallel-shortcut-btn','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','parts','No\x20players\x20data\x20found\x20to\x20save\x20yet.','editable-quiz-topic','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','แก้ไขหัวข้อสำเร็จ','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','ใช่','font-bold','.hidden-option-input','generate-from-text-btn','ปรับเพิ่ม/ลดเป็นร้อยละ','OCR\x20Error:','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','เกิดข้อผิดพลาดในการติดดาว','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','answered','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','NUMBER',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Refunded\x20','.lastAnswerCorrect','not_confident','removeChild','Error\x20starting\x20game:','ถูก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','.shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกชื่อของคุณ','fas\x20fa-star\x20text-yellow-500','setFont','???','loopUntilPass','Error\x20saving\x20shortcut\x20config:','จำนวนข้อ:','NEGATIVE_INFINITY','file-default-2','\x5cfrac{$1}{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','textarea','confirm-join-game-btn','ai-quiz-app-aefee.firebaseapp.com','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','ฟังก์ชันผกผัน','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','use-powerup-secondChance','stopPropagation','newOptions','bp-reference-file-url','confirm-crop-btn','bank-quiz-search-input','✂️\x20ตัด\x201\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','การแจกแจงปกติและ\x20z-score','border-indigo-500\x20text-indigo-600','hidden','.quiz-bank-parallel-btn','blueprint-projects-modal','create-from-bank-btn','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','#add-question-editor-btn','.csv','quiz-editor-questions-container','stroke','ปลาทูคะนอง','confirm-team-players-btn','bg-black/20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>',')</button>','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','pin-backspace-btn','live-race','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setValueAtTime','.quiz-bank-item','strokeStyle',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','mouseup','powerupUsed_q','<p\x20class=\x22text-xl\x22>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','input[name=\x22drill_answer\x22]:checked','OBJECT','.pin-digit-box','reference.pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGenerateQuizFromBlueprintTopic','q-explanation-','false','resultsDisplay','4192608AWnGYi','มือปราบสายรุ้ง','div[data-question-index=\x22','Failed\x20to\x20get\x20standardized\x20topic:','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','กำลังสแกนหาแบบทดสอบเก่า...','ฮิสโตแกรม','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','สถานะไม่ชัดเจน','random','SAFETY','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','.topic-name-display','ใช้ไอเทม\x20','fa-pen','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','block','\x22\x5cn','results_','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','far\x20fa-star','pairedQuizId','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ตัวเลือก\x20ข','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','ยืนยันและอัปเดตทั้งหมด','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','fullscreenElement','เลือกโปรเจคเพื่อบันทึก','Error\x20duplicating\x20quiz:','AI\x20กำลังสแกนข้อความ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.delete-parallel-shortcut-tab-btn','\x20เป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','finishReason','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','Error\x20listening\x20for\x20student\x20profiles:','Error\x20starting\x20sync\x20game:','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ชื่อโปรเจคห้ามว่าง','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','onloadend','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','hint-btn','Error\x20deleting\x20submission:','.group\x5c/dropdown-parallel','manage','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hover:bg-indigo-100','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><span\x20style=\x22','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','results-display-select','qIndex','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','New\x20question\x20detected.\x20Cleaning\x20up.','reveal_at_end','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','ไม่ผ่าน','(คัดลอก)\x20','click','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','กลุ่มของคุณ','DOMContentLoaded','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','bg-green-400\x20text-white\x20font-bold','สาระที่\x201','ดาวสภา','Error\x20during\x20blueprint\x20link\x20cleanup:','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','timer-duration-container','isNormalTopic','กำลังเตรียมไฟล์...','ฮัลค์','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','admin-view','border-gray-200','กรุณาป้อนหัวข้อสำหรับใบงาน','.quiz-bank-settings-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','exists','name_desc','100px','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','decode','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','open','inactive','<span\x20class=\x22sort-indicator\x20ml-2\x22>','27411472','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','นินจาชาเขียว','default','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','use-powerup-revealOptions','ค่าความจริง/ตารางค่าความจริง','.file-topic-selection-btn','incorrect','solution','standard','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','#ffffff','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','แผนภาพเวนน์','lastAnswerCorrect','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','overallGroups','ชื่อหัวข้อห้ามว่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','projectView','then','shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','createElement','</form>','leaderboard-quiz-tab-btn','file-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','force-math-checkbox','confidence-modal','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','การสร้างรูปด้วยวงเวียน–สันตรง','.ai-fix-question-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','geq','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลิมิต','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toggle','map','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','bg-blue-500\x20hover:bg-blue-600\x20text-white','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','Error\x20regenerating\x20question\x20in\x20editor:','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','scratchpad-options','studentName','bold','confidence-scoring-toggle','bg-black/10','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','เมทริกซ์:\x20บวก/คูณ','\x20แล้ว!','pollUsedThisTurn','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','เปลี่ยนชื่อโปรเจคสำเร็จ','close-topic-bank-btn','every','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','Powerup\x20use\x20failed:','delete-all-students-btn','bg-yellow-200','file-shortcut-editor-modal','.pen-color-btn','transition','เปิด\x20(จับเวลา)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','enable-passcode-checkbox','tooltipTarget','\x20ชุด)','source_document.pdf','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','ผู้พิชิตดาว','isRemedial','<button\x20id=\x22','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','confirm-move-quiz-btn','print','interesting-stats-wrapper','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','ลบโปรเจคสำเร็จแล้ว','.delete-svg-btn','text-gray-100','<option\x20value=\x22\x22>กำลังโหลด...</option>','currentMode','Error\x20generating\x20easy\x20version\x20quiz:','leaderboard-tab','.live-summary-tooltip.visible','Error\x20deleting\x20quiz:','sync-variant-selector','สร้างใหม่','blueprint-tab','Error\x20generating\x20hybrid\x20quiz:','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','fixedData','/studentProfiles','backgroundColor','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x22\x20data-topic=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quadraticCurveTo','bg-green-100\x20text-green-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','โจรสลัดอวกาศ','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','file-shortcut-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mousemove','#E5E7EB','state','file-default-1','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อัศวินรัตติกาล','FileReader\x20error:','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','fix\x20the\x20option','addEventListener','Test\x20Blueprint','promptFeedback','createElementNS','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','powerups','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','.bp-delete-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-sections-container','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20</div>','lastIndexOf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','get','mode','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','save-quiz-edits-btn','reviewQuestionIndex','bg-red-500','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','numQuestions','bg-indigo-600\x20hover:bg-indigo-700','show-results-btn','pinned-items','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','.answeredCurrentQuestion','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','show_results_and_answers','\x20คู่\x20','wasJinxed','.start-game-btn','team','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','qType','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','ป่าไม้','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-content\x20blockquote','globalCompositeOperation','กุ้งเต้นแร้งกา','ondragstart','เกิดข้อผิดพลาดในการบันทึกโปรเจค','confirm-rename-quiz-btn','insertBefore','Error\x20saving\x20quiz:','เศรษฐีดูไบ','ตัวเลือก\x20ค','lineCap','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-unlink-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','price','#000000','ส้มตำปูปลาร้า','ไก่ฟ้าพญาลอ','project-detail','close','pdf','\x22\x20title=\x22','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','redo-btn','อัตราและอัตราหน่วย','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','restore','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ondragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','suspended','isSyncGame','generated-quiz-actions','modal-timer-duration-container','bank-tab','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','removeAttribute','เกิดข้อผิดพลาดในการอัปเดต:\x20','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','close-presentation-btn','scan-text-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-editor-btn','answerValue','height','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','back-to-dashboard-from-results-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กิจกรรมสิ้นสุดลงแล้ว','timestamp','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','แม่น้ำ','การหารทศนิยม','game-pin-input','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','_opt','\x20ข้อ...','fill_in_with_choices','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','submit-group-answer-btn','none','execCommand','การวัด','/public/data/syncGames/','cancel-move-quiz-btn','bg-gray-400','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','word-break:\x20break-all;','.export-pdf-list-btn','bg-blue-100','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','getBoundingClientRect','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','text-content-input','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','เงินงวด\x20(อนุกรมเงินงวด)','Failed\x20to\x20create/update\x20submission\x20record:','join','Error\x20generating\x20lesson\x20plan:','manage-tab-content','การประยุกต์เวกเตอร์พื้นฐาน','quiz-start-time','Error\x20processing\x20shortcut\x20click:','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pre-test-checkbox','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','.bp-edit-topic-btn','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','project-passcode-modal','push','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-btn','2-digit','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','grid','readAsDataURL','hasPerfectScoreBonus','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','pen','topic-input','_opt0\x22\x20name=\x22question',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','slice','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','0\x200','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','createGain','loader','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','text-green-600','sync-timer-duration-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','แอบชอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-text-results','mainTopics','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x20ตัวเลือก)','scratchpad-controls','นักประดิษฐ์','/public/data/practiceBank','connect','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','คุณแน่ใจว่าต้องการลบแท็บนี้?','additional-file-shortcuts-modal','getCroppedCanvas','สรุปผลสุดท้าย','Error\x20during\x20deep\x20delete:','#student-quiz-leaderboard-content\x20thead','postTScore','main-correct-answer-display','perQuestionStats','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','submissions','correctAnswer','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','match','ไม่สามารถโหลดรายการโปรเจคได้','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','body','bulk-results-display-select','<div\x20class=\x22space-y-4\x22>','toLocaleDateString','dfrac','.linkedQuizId','Failed\x20to\x20apply\x20jinx:','เกิดข้อผิดพลาดในการลบ','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','-tab','wheel','cancel-game-start-btn','className','use-powerup-buyTime','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','cloneNode','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','ฟังก์ชันยกกำลัง','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.topic-row','text-red-600','file-topic-input','Error\x20updating\x20quiz\x20status:','transparent','show-in-student-dashboard-checkbox','อกหัก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cutOne','mixed','category','includeImages','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','ห.ร.ม.\x20(GCD)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','timeBonusThisQuestion','ต้นฉบับ\x201','justification','text-green-700','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20visibility\x20settings:','starred','/public/data/teamQuizzes','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','overflowY','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','Blueprint\x202','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ปวดหลัง','(หลังเรียน)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','สถิติและความน่าจะเป็น','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','cancel-passcode-btn','.delete-question-editor-btn','additional-parallel-shortcuts-modal','Failed\x20to\x20apply\x20forceConfident:','text-indigo-600','admin-testing','.pointsLastRound','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','fontFamily','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','replace','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปล่อยพลัง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','file-topics-list-container','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','อสมการค่าสัมบูรณ์','แก้ไขข้อนี้','(คู่ขนาน)\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','เรขาคณิต','</tbody></table>','correctAnswerIndex','แก้ไขปุ่มลัดจากไฟล์','Failed\x20to\x20refund\x20powerup:','การแจกแจงทวินาม\x20(พื้นฐาน)','1:274192258111:web:4120c9118229b5644dd48a','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','text-red-700\x20bg-red-100','questionId','คะแนนเฉลี่ย','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','โดเมนและเรนจ์','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','(ไม่มีชื่อ)','#math-topics-checkbox-container\x20input:checked','\x20/\x20','filter','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','cancel-manual-bp-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','num-questions','modal-loop-until-pass-checkbox','Error\x20preparing\x20content\x20quiz:','artifacts/','เกิดข้อผิดพลาดในการลบแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','sync-short-answer-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','classList','scoresCalculated','Error\x20submitting\x20group\x20answer:','จับคู่เพื่อเปรียบเทียบผล','perfect_score_status','นำแบบทดสอบออกจากคลังนี้แล้ว','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','short','pin','ดาวTikTok','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','document','.toggle-actions-btn','.tab-name-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','กรุณาใส่ชื่อโปรเจค','สลับไปโหมดผู้ควบคุม','highlighter-size-slider','.shortcut-list-item','เน็ตช้า','แบบทดสอบนี้ปิดใช้งานอยู่','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','circle','ซามูไรสายเดี่ยว','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','toISOString','leaderboard-tab-content','q-text-','664465mcPucs','applicationData','stop','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','user','ลบโปรเจค\x20\x22','innerText','file-default-','canvas','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blob','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','PROMPT_PLACEHOLDER','.group\x5c/dropdown-file','lesson-loader','length','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','Error\x20updating\x20old\x20quizzes:','quiz-leaderboard-table-body','การแปลงรูปอัตลักษณ์','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','oninput','Matching\x20options\x20synced:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-countdown','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','กรุณาเลือกสถานะ','(รอคะแนน)','.auto-resize-textarea','AI\x20grading\x20failed:','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','short_answer','quiz-leaderboard-table','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','bg-green-100','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','duration-300','bg-gray-100\x20opacity-70','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','md:col-span-1','save-project-name-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','🌗\x2050:50','pointermove','cursor','clearRect','หมูกระทะจะเยียวยาทุกสิ่ง','keys','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','prod','text-yellow-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','live-short-answer-input','\x20สำเร็จ','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','เกมสิ้นสุดลงแล้ว','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x22\x20class=\x22pin-project-btn\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','not-found','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Market\x20entry\x20payment\x20failed:','querySelectorAll','scratchpad-question','md:col-span-3','ส่งคำตอบ','(นำโด่ง)','originalQuestionText','\x20quizzes\x20into\x20global\x20cache.','prev-question-btn','per_question','clientY','.quiz-bank-delete-btn','visibilitychange','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','.move-parallel-shortcut-item','powerups.','ดีมาก','live-game-view','.mb-6.p-4','visibilityState','game-start-modal-title','close-comparison-modal-btn','wakeLock','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','12smbXWp','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ช่างภาพ','1854558ehNBzX','\x22\x20name=\x22team_answer\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x20\x20\x20-\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','confirm-quiz-settings-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','globalSettings','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','show_results_only','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','เกิดข้อผิดพลาดในการแก้ไข','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','additional-shortcuts-list','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','Error\x20starting\x20group\x20quiz:','\x20\x0a\x20\x20\x20\x20','devicePixelRatio','student-quiz-leaderboard-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','.totalPoints','normal','isFinished','mousedown','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','sync-matching-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fixed','players.','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','href','ค่าเฉลี่ย','.group\x5c/dropdown','student-progress-view','</p><p><strong>เฉลย:</strong>\x20','<span\x20title=\x22ใช้\x20','เส้นจำนวน','Error\x20starting\x20team\x20quiz:','minHeight','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','commonMistakes','text/csv;charset=utf-8;','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','.edit-question-btn','marginBottom','นักล่าฝัน','timed','draggable-text','.parallel-quiz-btn','isScored','fa-dumbbell\x20text-gray-700','เส้นตรง:\x20รูปแบบสมการ','confirm-bulk-quiz-settings-btn','dragover','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.delete-shortcut-tab-btn','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','status','การคูณเศษส่วน','first_try_ace','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','\x22\x20จำนวน\x20','ไฟล์ทั้งหมด','Error\x20joining\x20activity:','.quiz-settings-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','transition-all','number','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','การคูณทศนิยม','ลำดับเรขาคณิต\x20(GP)','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','question-analytics-container','#4338ca','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','p-2\x20bg-black/10\x20rounded-md','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','ไม่พบเอกสารการส่งงานของ\x20','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','text-blue-700','confidence-scoring-checkbox','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','.live-answer-btn,\x20#sync-submit-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','student','#10B981','ระยะเวลา\x20(นาที):','พิซซ่าหน้าทุเรียน','modal-close-btn','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','practiceProblems','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','comparison-individual-content','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','pointsLastRound','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','_opt1\x22\x20name=\x22question','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','confidence-mode-container','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answer-counter','modal-passing-score-input','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textAlign','keyup','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการลอการิทึม','create-project-modal','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','multiple_choice','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','00:00','นักกีฬา','</p><div>','open-scratchpad-btn','save-blueprint-as-project-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','referenceUrl','มุมพิเศษ\x2030°-60°-90°','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','.move-file-shortcut-dropdown','<option\x20value=\x22','ความต่อเนื่อง','instructions','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','timer-container','memory','Failed\x20to\x20end\x20group\x20mode\x20game:','modal-confidence-scoring-checkbox','results-quiz-id-display','.isScored','border-gray-300','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','file-topics-list','presentation-short-answer-input','medium','application','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','โลมาบิน','\x22\x20class=\x22delete-project-btn\x20','รากที่สองและที่สาม','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','topicName','live-game','bp-topic-list-container','score','parentElement','textarea[name=\x22question_single\x22]','Error\x20updating\x20project\x20color:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','showAnswerInAnonymous','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','anon-settings-container','perfect_score','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','per-question-timer-container','#open-additional-parallel-shortcuts-btn','student-passcode-input','confirm-confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','back-from-results-btn','black-market-modal','ร้อยละประยุกต์','export-tutor-pdf-btn','grid-view-btn','scores-tab-content','tfrac','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','submit','admin','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','ผู้ไม่ยอมแพ้','badges','ดูผลสรุปสุดท้าย','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','project-quizzes-list','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','#results-table\x20thead\x20tr','shuffle','[data-field=\x22subTopic\x22]','อยู่ในหัวข้อหลักใด:','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','webkitExitFullscreen','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','insurance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','blueprint-settings-modal','blueprint-options-container','อยู่ในสาระการเรียนรู้ใด:','การปัดเศษและประมาณค่า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เทพทรู','title','lessonPlan','cancel-quiz-edits-btn-footer','afterend','Error\x20confirming\x20players:','suggestedAnswer','numChoices','ปิดใช้งาน','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x20รายการ...','toDate','settings','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</div></div></div>','summaryContent','game-start-quiz-id','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','sawtooth','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','pen-tool-btn','stdDev','isLooping','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','Failed\x20to\x20kick\x20player\x20','\x5csqrt{$1}','MathJax\x20re-render\x20failed:','use-powerup-insurance','endTime','transition-transform','lastAnswerIndex','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','mjx-container','endsWith','dragend','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','$1\x5c%','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x20วินาที','ความแปรปรวน','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','text-tab','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','modal-adaptive-quiz-checkbox','\x22\x20x','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','Error\x20adding\x20custom\x20topic:','text-purple-600','\x22\x20style=\x22','highlighter','close-additional-parallel-shortcuts-btn','แมวเก้าชีวิต','Error\x20saving\x20shortcut:','-tab-content','[data-topic-container-id]','</span><span\x20class=\x22font-bold\x22>','groups',')</span></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','hiddenOptions_q','จัดการ','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ชีสเค้ก','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-confidence-btn','results-tab','bank-input-area','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','รูปสี่เหลี่ยมและสมบัติ','\x5ctimes','<br>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','team-player-status-grid','คณิตศาสตร์','student-name-selection-view','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','unshift','keyConcepts','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','เต่าสายฟ้า','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','text','bg-green-200\x20text-green-800','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','คัดลอกแบบทดสอบสำเร็จ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์อ้างอิง...','currentTime','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','lesson-view-title','global-quiz-search-input','องค์ประกอบของฟังก์ชัน','members','ตัวแทนแห่งดวงจันทร์','Error\x20saving\x20file\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','อุณหภูมิและการแปลง','ตรีโกณมิติ','.pdf','คำอธิบาย...','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','.subTopic','behavior-log-tab-content','<svg','modal-confidence-mode-container','parallel-shortcut-container','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','.ideal-answer-input','open-quiz-bank-btn','.start-presentation-list-btn','/public/data/projects/','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','input[type=\x22checkbox\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','player-count','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','onclick','Error\x20moving\x20quiz:','ผิด','🔁\x20โอกาสครั้งที่สอง','scratchpad-close-btn','<h1></h1>','resume','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','flex\x20flex-col\x20gap-2','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementsByTagName','manage-players-btn','label','answer','input-','<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','lowerGroupNames','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','save-file-shortcut-btn','doc','answers','.highlighter-color-btn','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','ลาเต้ไม่หวาน','originalTopic','contains','scratchpad-clear-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','scratchpad-modal','\x20ตัวเลือก.\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','sine','add-parallel-shortcut-btn','สร้างแบบทดสอบ','ผู้เชี่ยวชาญ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','generationConfig','ondblclick','(ไม่ตอบ)','setAttribute','clear-all-links-btn','manual-create-blueprint-btn','on_fire','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-leaderboard-excel-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x22\x20data-target-tab-id=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parent','export-lesson-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ตลาดมืด\x20(0\x20P)','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','รายงานผลคะแนน','toFixed','default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','quizId','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','(ตามมาติดๆ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','mouse','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','AI\x20ไม่สามารถอ่านข้อความได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sin','\x20mr-2\x22></i>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<button\x20data-shortcut-id=\x22','message-modal','anon-show-answer-toggle','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','students','.shortcut-list-item:not(.opacity-50)','student-back-to-home-btn','file.pdf','shortcut-tabs-nav','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','image-to-crop','ไม่พบข้อมูลผู้เล่น','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','cancel-global-activity-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','การจัดกลุ่มข้อมูล','null','cancel-create-project-btn','shortcut-modal-title','.topic-actions-view','Error\x20saving\x20parallel\x20shortcut:','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','overflow','bp-modal-question-complexity-select','save-game-results-checkbox','candidates','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','.project-card-container','ระยะเวลา\x20(วินาที):','topic-input-area','ฟังก์ชันแบบชิ้นส่วน','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','back-to-dashboard-btn','text-green-700\x20bg-green-100','source_document.txt','cancel-parallel-shortcut-edit-btn',';\x22\x20data-id=\x22','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','active','input[name=\x22status-option\x22]:checked','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','ใช้\x20\x22คำสาป\x22\x20กับ\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','lineWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการบันทึก','ค่าคลาดเคลื่อนของการวัด','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','0\x20(รอโบนัส)','ข้อที่\x20','bp-modal-quiz-type-select','shortcut-reference-url-input','complexityValue','lineJoin','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/plain','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','both','thead\x20.sortable-header','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.bp-create-onet-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wager-max-points','save-bp-reference-btn','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','msRequestFullscreen','start','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','splice','anonymous','removeItem','เกิดข้อผิดพลาดในการซื้อ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คำถามดิบ:\x20\x22','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.quiz-bank-move-btn','Error\x20joining\x20sync\x20game:','PERSEVERANCE','live-player-list','border-red-300\x20bg-red-50','cancel-file-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','#FEE2E2','สมการยกกำลัง','q-image-container-','10qrYmjR','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.file-shortcut-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ย้ายแบบทดสอบสำเร็จ','Successfully\x20removed\x20','/public/data/projects','export-leaderboard-pdf-btn','มูเตลู','questionText','2544176DxGScp','file-shortcut_','confirm-game-start-modal','wagerMultiplier','market-current-points','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-create-topic-quiz-btn','admin-password-modal','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','circ','พื้นที่วงกลม/ส่วนของวงกลม','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','generate-from-blueprint-btn','ไม่พบข้อมูลเกม','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.animate-pulse','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','student-quiz-leaderboard-table-body','selected-answer-index-hidden','\x20จุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','.pen-size-btn','</tr>','file-shortcut-id-input','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','passcode-error-msg','fas\x20fa-bookmark','\x20|\x20','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-input-area','ondrop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','#FCE7F3','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','separate-by-content-from-file-checkbox','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','add-student-btn','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','กาแฟขม','\x22\x20name=\x22confidence','text-emerald-900','zIndex','text-indigo-800','onkeydown','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','```json','shouldSaveResults','clientX','.delete-file-shortcut-tab-btn','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','update','eraser-tools-group','เกิดข้อผิดพลาดในการอ่านไฟล์','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','Re-grade\x20process\x20failed:','export-lesson-to-pdf-btn','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x20in\x20all\x20blueprint\x20projects.','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','doughnut','new-question-type-select','analyze-strengths-btn','size','\x22\x20value=\x22true\x22\x20','Error\x20saving\x20submission:','.tab-name-display','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','selectMathOption','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','wager-modal','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','<div\x20class=\x22answer-space\x22></div>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','fill_in_no_choices','bg-red-100','getDocument','#open-additional-file-shortcuts-btn','showInStudentDashboard','_opt1\x22>ไม่ใช่</label></div>','CEOพันล้าน','.quiz-bank-checkbox:checked','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','perseverance','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px,\x20','list-view-btn','link-input-area','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','score-distribution-chart','fix-lesson-latex-btn','isAdaptive','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','มี\x20Points\x20ไม่เพียงพอ','Error\x20saving\x20manual\x20blueprint\x20project:','dataset','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','parallel-shortcut-modal-title','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','.edit-hidden-shortcut-btn','ยอดนักสืบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','การหาร','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','target','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','</option>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','correctResponse','ref','options','1000px','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x5cpm','COMEBACK_KING','parallelTestShortcutsConfig','leaderboard','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','file-shortcut-name-input','gameVariant','string','ยอดเยี่ยม','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','student-quiz-leaderboard-content','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','project-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','text-red-800','fill','ยูทูปเบอร์ฝึกหัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20toggling\x20pin\x20status:','bp-modal-shuffle-setting-select','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','\x22\x20data-pre-test-id=\x22','bg-green-50','publicLeaderboard','totalQuestions','confirm-passcode-btn','scale-125','lobby','\x27,\x20\x27','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','shortcutId','กำลังโหลดคลังข้อสอบทั้งหมด...','market-timer-bar','.bp-create-content-quiz-btn','คำตอบที่ถูกต้อง','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','Error\x20saving\x20user\x20preference:','คนโสด','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','preTScore','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','temp-loader-results','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20deleting\x20custom\x20topic:','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','ตลาดมืด\x20(','parallelShortcutOrder','realScore','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','เรขาคณิตวิเคราะห์','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leq','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','shortcut-editor-modal','คนดีศรีสยาม','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.delete-hidden-shortcut-btn','.ai-content\x20td','mean','submittedAt','display','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','custom-math-topic-input','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','sync','pointerType','preventDefault','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','พลังคลื่นเต่า','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','แผนการสอน:\x20','substring','\x20(สำหรับ\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','.sort-indicator','confidence',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ผู้เล่น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','.edit-shortcut-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','นกฮูกกลางวัน','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','ปริพันธ์จำกัด','screen_exit','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','\x20คะแนน</span></div>','Error\x20saving\x20quiz\x20edits:','findIndex','modal-message','closest','#FFFFFF','ศิลปิน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','enable-black-market-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20ข้อ\x20','<button\x20data-tab-id=\x22','beginPath','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','แปลงร่าง','สรุปผลการวิเคราะห์:\x5cn','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','input[type=\x22radio\x22]:checked','results-quiz-title','.bp-present-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','นักวิทยาศาสตร์','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','lesson-plan-modal','บันทึกการตั้งค่าการแสดงผลสำเร็จ','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','touch','getItem','/3</span></div>','<span\x20title=\x22ใช้ไอเทม\x22>','กองดอง','bulk-quiz-settings-btn','passcode','tabId','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','bp-add-topic-btn','parallel-shortcut-id-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','fiftyFifty','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','Error\x20starting\x20live\x20race:','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','use-powerup-wagerMultiplier','Error\x20fetching\x20lesson\x20content:','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','.edit-hidden-file-shortcut-btn','release','input[name=\x22syncVariant\x22][value=\x22','อัตราการเปลี่ยนแปลงทันที','</label></div>','ปริพันธ์ไม่จำกัด','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','game-start-mode','bg-red-100\x20text-red-800','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','Error\x20saving\x20project\x20order:','Error\x20saving\x20file\x20shortcut\x20config:','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','bulk-confidence-scoring-checkbox','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','admin-dashboard','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','generated','entries','text-green-800','<button\x20data-value=\x22','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','open-blueprint-projects-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','shortcuts-loading-msg','removed','parallel-shortcut-url-input','val','แก้ไขสูตรคณิตศาสตร์\x20','questions','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','bg-white','\x22>(','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','close-lesson-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Blueprint\x201','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','dashboardConfig','ไอติมทอด','.answers','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกมเมอร์','.ai-fix-formula-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','revealOptions','blueprint-shortcut-container','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','ai-quiz-generator-v3','sara','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionStatus','sqrt','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ไม่พบข้อมูลการจับคู่','คะแนน','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','สร้างคำถามแบบใช่/ไม่ใช่','color','ตอบถูก\x203\x20ข้อติดต่อกัน','bp-modal-num-questions','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate(','คำถามถัดไป','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับ\x202','stem','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ใช่\x20/\x20ถูก','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','หมดเวลาสำหรับข้อนี้!','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','project-search-input','\x5cle','P/อัน)','สำหรับหัวข้อ\x20\x27','modal-timer-duration-label','bp-modal-difficulty-level-select','end-sync-game-btn','confirmation-modal','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','Error\x20comparing\x20results:','_new','save','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','หัวข้อหลักใหม่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','kick-player-btn','quiz-results-table-body','buy-time-quantity-input','Error\x20loading\x20quiz\x20for\x20student:','per-question-text','text-gray-300','strategyScan','startsWith','ย้ายแบบทดสอบไปโปรเจคอื่น','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','student-progress-content','<span\x20class=\x22block\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-detail-view','usedBuyTime','content','retake-quiz-loop-btn','ธอร์ค้อนบิน','สายลับจับบ้านเล็ก','BOOLEAN','gameData','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','maxHeight','#confidence-input-','substr','export-worksheet-pdf-btn','ตารางความถี่','\x22\x20สำเร็จ','.duplicate-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','z-index:\x20','placeholder','.toggle-hidden-options-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','การลบทศนิยม','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','Error\x20fetching\x20projects\x20for\x20move:','summary_chart','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หัวข้อที่สร้างเอง','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','eraser-tool-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20',')\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','td,\x20th','export-leaderboard-word-btn','blueprint-topics-list','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','พีชคณิตและฟังก์ชัน','#E0E7FF','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','message','กรุณาเลือกคำตอบของกลุ่ม','move-quiz-project-select','numPages','ไม่พบแบบทดสอบ','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','projectId','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(พยายามอยู่)','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','parallel-default-1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','\x20ตอบ','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','student-join-game-view','อัปเดตการตั้งค่าของแบบทดสอบ\x20','allResponses','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สายลมแห่งโชคชะตา','question','กำลังอ่านไฟล์\x20Test\x20Blueprint...','end-team-quiz-btn','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','POST','bg-blue-100\x20text-blue-800','application/pdf','</select>','อัปเดตแบบทดสอบเก่า\x20','deselect-all-topics-btn','Remedial\x20quiz\x20generation\x20failed:','highlighter-tool-btn','projectSort','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','Error\x20saving\x20lesson\x20to\x20project:','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','Could\x20not\x20fetch\x20reference\x20file:','---\x20[คำถามใหม่]\x20---','asc','สมการตรีโกณมิติ','pop','ARRAY','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','student-project-leaderboard-content','scores','ไม่ใช่\x20/\x20ผิด','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','log','วงรี','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','...\x22)?','อนุพันธ์:\x20กฎพื้นฐาน','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallel-test-upload-input','passcode-input-container','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','project-sort-select','100%','freeMarketEntryUsed_q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','กราฟฟังก์ชันตรีโกณ','สมการราก\x20(radical)','next-sync-question-btn','player-list-lobby','date_desc','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','Auto-cleanup\x20failed:','บันทึกการตั้งค่าแล้ว','lower_group_count','bar','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x5csum','competition','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ปริมาตร/ความจุและการแปลง','ความเท่ากันทุกประการของสามเหลี่ยม','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎลูกโซ่','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Error\x20rendering\x20student\x20progress:','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','student-progress','input[type=\x22text\x22]','file-shortcut-container','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','dimmed','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','behaviorLog','reveal-answer-btn','.open-bp-project-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.linkedQuizIds','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','pointerdown','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reference.txt','exponentialRampToValueAtTime','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','พาราโบลา','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.quiz-result-card','parentNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','Error\x20fetching\x20student\x20rankings:','เพนกวินไฟ','no-projects-msg','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','.start-live-race-btn','fadeStartTime','):\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','blueprint-topics-list-container','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionDisplayedAt','(ก่อนเรียน)','เส้นรอบรูป','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.admin-try-quiz-list-btn','focus','เกิดข้อผิดพลาดในการสร้างรูปภาพ','pointsAwarded','answerText','\x20ทำงานอยู่!</div>','หมาป่าเดียวดาย','join-live-game-btn','earned-badges-container','ไม่พบแบบทดสอบสำหรับรหัสนี้','getElementById','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','set','กฎของโคไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการใช้ไอเทม','export-image-btn','textarea[name=\x22team_answer\x22]','.question-editor-item[data-q-index=\x22','export-compact-pdf-btn','Enter','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','ไม่มีผู้ตอบตัวเลือกนี้','ข้าวมันไก่พิเศษ','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','ดวงดาว','project-title','แบบเติมคำตอบ','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','parallel-shortcut_','<tr\x20class=\x22','\x22\x20ออกจากคลังนี้?','rows','ซื้อ\x20\x22','mode-switcher-btn','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','Error\x20updating\x20quiz\x20settings:','move-quiz-modal','confidenceMode','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','results-table','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','student-initial-view','$$$1$','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','\x20จุดเรียบร้อยแล้ว','<span\x20title=\x22','keydown','questionType','พบข้อสอบ\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','localeCompare','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','secondChance','instantWager','playerNicknames','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','fill_in_the_blank','จุด\x20เส้น\x20ระนาบ','difficulty-level-select','สายตาสั้น','bp-modal-passing-score-input','bg-red-200\x20text-red-800','\x22\x20data-quiz-id=\x22','shuffle-setting-select','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Sync\x20Mode','จำนวนและการดำเนินการ','อสมการเชิงเส้น','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','Error\x20analyzing\x20file\x20for\x20topics:','rename-quiz-input','activeGameSession','text-red-300\x20hover:text-red-100','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','link-tab','ออฟฟิศซินโดรม','camera-crop-btn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','จำนวนเชิงซ้อน\x20(เสริม)','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','บันทึกการตั้งค่าสำเร็จ','กรุณาเลือกไฟล์ก่อน','label[for=\x22num-questions\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','เงาปริศนา','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'];_0x5379=function(){return _0x4545dd;};return _0x5379();}function handleDeselectAllTopics(){const _0x5c742f=_0x5be2be,_0x9145b4=document[_0x5c742f(0xc4d)](_0x5c742f(0x424)),_0x55b3ef=_0x9145b4[_0x5c742f(0x760)]('input[type=\x22checkbox\x22]');_0x55b3ef[_0x5c742f(0xd75)](_0x15b838=>{const _0xb33c42=_0x5c742f;_0x15b838[_0xb33c42(0x315)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x62b2b1){const _0x268055=_0x5be2be;if(!_0x62b2b1)return;try{const _0x4fc162=doc(db,_0x268055(0x6e9)+appId+_0x268055(0x59c),_0x62b2b1);await deleteDoc(_0x4fc162),showMessage(_0x268055(0x1f6));}catch(_0x557256){console[_0x268055(0x339)](_0x268055(0xa7c),_0x557256),showMessage(_0x268055(0x849));}}async function handleAddCustomMathTopic(){const _0x2093a5=_0x5be2be,_0x13c503=document[_0x2093a5(0xc4d)](_0x2093a5(0xa9e)),_0x22b273=_0x13c503[_0x2093a5(0x1ce)][_0x2093a5(0x2ce)]();if(!_0x22b273){showMessage(_0x2093a5(0xc31));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x15eee6=collection(db,_0x2093a5(0x6e9)+appId+'/public/data/customMathTopics');await addDoc(_0x15eee6,{'name':_0x22b273,'createdAt':serverTimestamp()}),_0x13c503[_0x2093a5(0x1ce)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x22b273+_0x2093a5(0xb82));}catch(_0x2267df){console['error'](_0x2093a5(0x8a2),_0x2267df),showMessage(_0x2093a5(0x166));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x4c3cd4=_0x46b4,_0x2cf3a4=document[_0x4c3cd4(0xc4d)]('loader'),_0x5738af=document[_0x4c3cd4(0xc4d)](_0x4c3cd4(0xd3a)),_0xb56278=_0x5738af[_0x4c3cd4(0x4c4)];_0x2cf3a4[_0x4c3cd4(0x6f1)][_0x4c3cd4(0x7d9)](_0x4c3cd4(0x476)),_0x5738af[_0x4c3cd4(0x4c4)]=_0x4c3cd4(0x4a5);try{const _0x51cfcd=collection(db,'artifacts/'+appId+_0x4c3cd4(0x42c)),_0x502ea2=await getDocs(_0x51cfcd);if(_0x502ea2[_0x4c3cd4(0xdbf)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x93e66=writeBatch(db);let _0x413dc5=0x0;_0x502ea2[_0x4c3cd4(0xd75)](_0x587989=>{const _0x10ff01=_0x4c3cd4,_0x153706=_0x587989[_0x10ff01(0x1de)](),_0x432d27=_0x587989['id'];if(_0x153706[_0x10ff01(0xb1f)]&&_0x153706['questions'][_0x10ff01(0x724)]>0x0&&!_0x153706[_0x10ff01(0xb1f)][0x0][_0x10ff01(0x159)]('id')){console['log'](_0x10ff01(0x91a)+_0x432d27+'\x20('+_0x153706[_0x10ff01(0x380)]+')'),_0x413dc5++;const _0x13db13=_0x153706[_0x10ff01(0xb1f)][_0x10ff01(0x546)]((_0x56019a,_0x6bc608)=>{return{..._0x56019a,'id':_0x56019a['id']||'q_'+Date['now']()+'_'+_0x432d27+'_'+_0x6bc608};}),_0x485cde=doc(db,_0x10ff01(0x6e9)+appId+'/public/data/quizzes',_0x432d27);_0x93e66[_0x10ff01(0x9f3)](_0x485cde,{'questions':_0x13db13});}}),_0x413dc5>0x0?(_0x5738af[_0x4c3cd4(0x4c4)]=_0x4c3cd4(0x3cb)+_0x413dc5+_0x4c3cd4(0x876),await _0x93e66['commit'](),showMessage(_0x4c3cd4(0xbcd)+_0x413dc5+_0x4c3cd4(0xe37))):showMessage(_0x4c3cd4(0xc8e));}catch(_0x1c362e){console[_0x4c3cd4(0x339)](_0x4c3cd4(0x726),_0x1c362e),showMessage(_0x4c3cd4(0x5f6)+_0x1c362e[_0x4c3cd4(0xba5)]);}finally{_0x2cf3a4[_0x4c3cd4(0x6f1)][_0x4c3cd4(0x648)]('hidden'),_0x5738af[_0x4c3cd4(0x4c4)]=_0xb56278;}});}async function handleBulkUpdateQuizSettings(){const _0x279092=_0x5be2be,_0x54660e={'shuffle':document['getElementById']('bulk-shuffle-select')[_0x279092(0x1ce)],'resultsDisplay':document[_0x279092(0xc4d)](_0x279092(0x672))[_0x279092(0x1ce)],'loopUntilPass':document[_0x279092(0xc4d)](_0x279092(0x2ae))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x279092(0xb08))[_0x279092(0x315)],'confidenceMode':document[_0x279092(0xc4d)]('bulk-confidence-mode-select')[_0x279092(0x1ce)]};try{showMessage(_0x279092(0xd7e));const _0x360461=await getDocs(collection(db,'artifacts/'+appId+_0x279092(0x42c))),_0x59e478=_0x360461[_0x279092(0x2b9)][_0x279092(0x546)](_0x3d28ac=>({'id':_0x3d28ac['id'],'data':_0x3d28ac[_0x279092(0x1de)]()})),_0x12c5b3=_0x59e478[_0x279092(0x724)];showConfirmation(_0x279092(0xe0f)+_0x12c5b3+_0x279092(0xa1b),async()=>{const _0x35674e=_0x279092,_0x40d300=document[_0x35674e(0xc4d)](_0x35674e(0x7bd));_0x40d300[_0x35674e(0xbb3)]=!![],_0x40d300['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x497b43=writeBatch(db);_0x59e478[_0x35674e(0xd75)](_0x32945c=>{const _0x130c5a=_0x35674e,_0x601e66=doc(db,_0x130c5a(0x6e9)+appId+_0x130c5a(0x42c),_0x32945c['id']),_0x157567={..._0x32945c['data'][_0x130c5a(0x878)]||{},..._0x54660e};_0x497b43[_0x130c5a(0x9f3)](_0x601e66,{'settings':_0x157567});}),await _0x497b43[_0x35674e(0x297)](),document[_0x35674e(0xc4d)](_0x35674e(0xd8))[_0x35674e(0x6f1)][_0x35674e(0x648)](_0x35674e(0x476)),showMessage(_0x35674e(0xbbf)+_0x12c5b3+'\x20ชุดสำเร็จ!');}catch(_0x56be30){console[_0x35674e(0x339)](_0x35674e(0x35e),_0x56be30),showMessage(_0x35674e(0x2f1));}finally{_0x40d300[_0x35674e(0xbb3)]=![],_0x40d300[_0x35674e(0x40b)]=_0x35674e(0x4c5);}});}catch(_0x2a582a){console[_0x279092(0x339)](_0x279092(0x701),_0x2a582a),showMessage(_0x279092(0x575));}}async function handleSaveProjectName(){const _0x60b765=_0x5be2be,_0x3dca22=document[_0x60b765(0xc4d)](_0x60b765(0xc5f)),_0x2be769=document[_0x60b765(0xc4d)](_0x60b765(0x744)),_0x2ecdc6=_0x3dca22[_0x60b765(0x4c4)][_0x60b765(0x2ce)]();if(!_0x2ecdc6||!currentProjectId){showMessage(_0x60b765(0x4d8)),_0x3dca22['textContent']=currentProjectData['projectName'];return;}_0x2be769[_0x60b765(0xbb3)]=!![],_0x2be769['innerHTML']=_0x60b765(0x651);try{const _0x58b3c1=doc(db,_0x60b765(0x6e9)+appId+_0x60b765(0x9b0),currentProjectId);await updateDoc(_0x58b3c1,{'projectName':_0x2ecdc6}),currentProjectData&&(currentProjectData[_0x60b765(0xb8b)]=_0x2ecdc6),showMessage(_0x60b765(0x55c));}catch(_0x57a7ed){console[_0x60b765(0x339)](_0x60b765(0x249),_0x57a7ed),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x3dca22[_0x60b765(0x4c4)]=currentProjectData[_0x60b765(0xb8b)];}finally{_0x2be769[_0x60b765(0x6f1)][_0x60b765(0x648)](_0x60b765(0x476)),_0x2be769['disabled']=![],_0x2be769[_0x60b765(0x40b)]=_0x60b765(0x408);}}function handleGeneratePracticeTest(_0x47bf4f,_0x482f64){const _0x35547f=_0x5be2be,_0xcbf9ec=document[_0x35547f(0xc4d)](_0x35547f(0x2a2)),_0x87ebf4=document[_0x35547f(0xc4d)](_0x35547f(0x8d9)),_0x2f3dc5=document[_0x35547f(0xc4d)](_0x35547f(0x723)),_0x415f39=document[_0x35547f(0xc4d)](_0x35547f(0x5ab));_0x87ebf4[_0x35547f(0x4c4)]=_0x35547f(0x188)+_0x47bf4f,_0x415f39['classList'][_0x35547f(0x648)](_0x35547f(0x476)),_0x2f3dc5[_0x35547f(0x6f1)][_0x35547f(0x7d9)](_0x35547f(0x476)),_0xcbf9ec[_0x35547f(0x6f1)][_0x35547f(0x7d9)]('hidden'),generatePracticeTest(_0x47bf4f,_0x482f64)[_0x35547f(0x606)](_0x5ac0ee=>{const _0xadd921=_0x35547f;console[_0xadd921(0x339)](_0xadd921(0xdce),_0x5ac0ee),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0xcbf9ec[_0xadd921(0x6f1)][_0xadd921(0x648)](_0xadd921(0x476));});}async function generatePracticeTest(_0x515fa9,_0x2f34fd){const _0x12030d=_0x5be2be;[_0x12030d(0x3d4),_0x12030d(0x429),_0x12030d(0x124),_0x12030d(0x87c)]['forEach'](_0x1ed178=>{const _0x47e308=_0x12030d,_0x576a1c=document['getElementById'](_0x1ed178)[_0x47e308(0x830)];_0x576a1c&&(_0x576a1c[_0x47e308(0x201)][_0x47e308(0xa9c)]=_0x47e308(0x611));});try{const _0x2420d6=_0x12030d(0x817),_0x1b23cb=_0x12030d(0xb14)+_0x2f34fd+_0x12030d(0x29f)+_0x515fa9+_0x12030d(0xad1),_0x389590=await callGemini(_0x1b23cb,!![]),_0x378deb=document[_0x12030d(0xc4d)](_0x12030d(0x8d9)),_0x59f139=document[_0x12030d(0xc4d)]('lesson-loader'),_0x53e984=document[_0x12030d(0xc4d)]('lesson-sections-container'),_0x1d9eb6=document[_0x12030d(0xc4d)]('applicationContent')['parentElement'];_0x378deb[_0x12030d(0x717)]=_0x12030d(0xe02)+_0x515fa9[_0x12030d(0x6c0)](/•\s/g,'')+_0x12030d(0xaab)+_0x2f34fd+')',currentApplicationData=JSON[_0x12030d(0x2fa)](_0x389590);const _0x5f2e1b=document[_0x12030d(0xc4d)](_0x12030d(0x124));_0x5f2e1b['innerHTML']=currentApplicationData['map']((_0x416e8f,_0x47f7cb)=>_0x12030d(0x32c)+(_0x47f7cb+0x1)+'.\x20'+marked['parseInline'](_0x416e8f[_0x12030d(0xbc5)])+_0x12030d(0xaeb)+_0x47f7cb+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x416e8f[_0x12030d(0xa3c)][_0x12030d(0x546)]((_0x5f0d9f,_0x430f94)=>_0x12030d(0xe79)+_0x47f7cb+',\x20'+_0x430f94+_0x12030d(0xb98)+String['fromCharCode'](0x61+_0x430f94)+'.\x20'+marked[_0x12030d(0xd8d)](_0x5f0d9f)+_0x12030d(0x2eb))[_0x12030d(0x625)]('')+_0x12030d(0x20c))[_0x12030d(0x625)](''),window[_0x12030d(0x1bb)]&&MathJax[_0x12030d(0xd71)]([_0x5f2e1b]),_0x1d9eb6&&(_0x1d9eb6[_0x12030d(0x201)]['display']=_0x12030d(0x4b5)),_0x59f139[_0x12030d(0x6f1)][_0x12030d(0x648)](_0x12030d(0x476)),_0x53e984['classList'][_0x12030d(0x7d9)](_0x12030d(0x476));}catch(_0xebddc4){console[_0x12030d(0x339)](_0xebddc4);throw _0xebddc4;}}async function callGemini(_0x1ef356,_0x384f26=![]){const _0x574dc0=_0x5be2be,_0x2d2a69='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0xe3b36a=_0x574dc0(0xbc1)+_0x2d2a69,_0x436a92={'contents':[{'parts':[{'text':_0x1ef356}]}]};_0x384f26&&(_0x436a92['generationConfig']={'responseMimeType':_0x574dc0(0x224)},_0x1ef356[_0x574dc0(0xe4a)](_0x574dc0(0x5a3))?_0x436a92[_0x574dc0(0x920)][_0x574dc0(0xd98)]={'type':_0x574dc0(0x496),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x574dc0(0xbdb),'items':{'type':_0x574dc0(0x496),'properties':{'sara':{'type':_0x574dc0(0x179)},'mainTopics':{'type':_0x574dc0(0xbdb),'items':{'type':_0x574dc0(0x496),'properties':{'topicName':{'type':_0x574dc0(0x179)},'subTopics':{'type':_0x574dc0(0xbdb),'items':{'type':_0x574dc0(0x179)}}},'required':['topicName','subTopics']}}},'required':['sara',_0x574dc0(0x655)]}}},'required':['gradeLevel',_0x574dc0(0x2b5)]}:_0x436a92[_0x574dc0(0x920)][_0x574dc0(0xd98)]={'type':_0x574dc0(0xbdb),'items':{'type':_0x574dc0(0x496),'properties':{'question':{'type':'STRING'},'options':{'type':_0x574dc0(0xbdb),'items':{'type':_0x574dc0(0x179)}},'answer':{'type':_0x574dc0(0x44a)}},'required':['question','options',_0x574dc0(0x903)]}});try{const _0x1584bb=await fetch(_0xe3b36a,{'method':_0x574dc0(0xbc9),'headers':{'Content-Type':_0x574dc0(0x224)},'body':JSON['stringify'](_0x436a92)});if(!_0x1584bb['ok']){const _0x42270c=await _0x1584bb[_0x574dc0(0x8d1)]();console[_0x574dc0(0x339)](_0x574dc0(0x1ae),_0x42270c);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1584bb[_0x574dc0(0x7c3)]);}const _0x2d8fd7=await _0x1584bb['json']();if(_0x2d8fd7[_0x574dc0(0x963)]&&_0x2d8fd7['candidates'][0x0][_0x574dc0(0xb76)]&&_0x2d8fd7[_0x574dc0(0x963)][0x0]['content']['parts'][0x0])return _0x2d8fd7[_0x574dc0(0x963)][0x0][_0x574dc0(0xb76)][_0x574dc0(0x437)][0x0][_0x574dc0(0x8d1)];else{console[_0x574dc0(0x339)]('Unexpected\x20API\x20response\x20structure:',_0x2d8fd7);if(_0x2d8fd7[_0x574dc0(0x963)]&&_0x2d8fd7[_0x574dc0(0x963)][0x0][_0x574dc0(0x4d3)]===_0x574dc0(0x4ac))return JSON[_0x574dc0(0x3f3)]({'error':_0x574dc0(0x802)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x5b51e3){console[_0x574dc0(0x339)](_0x574dc0(0x323),_0x5b51e3);throw _0x5b51e3;}}async function generateLesson(_0x1bd771=null,_0x10e584=null){const _0x11202c=_0x5be2be,_0x5b7c79=_0x1bd771,_0x187442=_0x10e584||_0x11202c(0x303),_0x47a5cf=document[_0x11202c(0xc4d)](_0x11202c(0x723)),_0x57cc72=document[_0x11202c(0xc4d)](_0x11202c(0xce5));_0x57cc72[_0x11202c(0x4c4)]=_0x11202c(0xa9d)+_0x5b7c79+_0x11202c(0x24c);try{let _0x3afcbf=[];const _0x6b1461=document[_0x11202c(0xc4d)](_0x11202c(0x46e))?.[_0x11202c(0x1ce)]['trim']();if(_0x6b1461)try{_0x57cc72[_0x11202c(0x4c4)]=_0x11202c(0x66b);const _0x477652=await fetchFileFromUrl(_0x6b1461,'reference_onet.pdf'),_0x29035c=await new Promise((_0x4e570a,_0x13ad84)=>{const _0x4e8811=_0x11202c,_0x3390b6=new FileReader();_0x3390b6[_0x4e8811(0x63e)](_0x477652),_0x3390b6[_0x4e8811(0x397)]=()=>_0x4e570a(_0x3390b6[_0x4e8811(0xdd3)][_0x4e8811(0xcb0)](',')[0x1]),_0x3390b6[_0x4e8811(0x255)]=_0x13ad84;});_0x3afcbf['push']({'inlineData':{'mimeType':_0x477652[_0x11202c(0xd50)],'data':_0x29035c}});}catch(_0x1a33f4){console[_0x11202c(0x339)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x1a33f4),showMessage(_0x11202c(0x4b2));}const _0x135b8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x5b7c79+_0x11202c(0x621)+_0x5b7c79+_0x11202c(0x39d);_0x57cc72[_0x11202c(0x4c4)]=_0x11202c(0xa9d)+_0x5b7c79+'\x22...';const _0x247f09=_0x11202c(0x78b)+_0x187442+'\x27\x20ในหัวข้อ\x20\x27'+_0x5b7c79+_0x11202c(0x42d)+_0x135b8d+_0x11202c(0x740),_0x376ded=_0x11202c(0xb57)+_0x5b7c79+_0x11202c(0x15e)+_0x187442+_0x11202c(0xe51)+_0x135b8d+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x1e8972=_0x11202c(0xe6b),_0x29f495=_0x11202c(0xb14)+_0x187442+_0x11202c(0x29f)+_0x5b7c79+_0x11202c(0x8ba)+_0x135b8d+_0x11202c(0x295)+_0x1e8972+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0xbcd4f4=_0x11202c(0xd18)+_0x5b7c79+_0x11202c(0xe12)+_0x187442+_0x11202c(0xa26)+_0x135b8d+_0x11202c(0x7e1),_0x26b3e8={'type':_0x11202c(0xbdb),'items':{'type':_0x11202c(0x496),'properties':{'question':{'type':_0x11202c(0x179)},'options':{'type':'ARRAY','items':{'type':_0x11202c(0x179)}},'answer':{'type':_0x11202c(0x44a)}},'required':['question','options','answer']}},[_0x598942,_0x365897,_0x2e1300,_0x5074e4]=await Promise[_0x11202c(0x1d5)]([handleApiCall([{'text':_0x247f09},..._0x3afcbf],'...',null,null,![]),handleApiCall([{'text':_0x376ded},..._0x3afcbf],_0x11202c(0x322),null,null,![]),handleApiCall([{'text':_0x29f495},..._0x3afcbf],'...',_0x26b3e8,null,![]),handleApiCall([{'text':_0xbcd4f4},..._0x3afcbf],'...',null,null,![])]),_0x30ccdc=JSON[_0x11202c(0x3f3)](_0x2e1300||[]),_0x11a2ef=document[_0x11202c(0xc4d)](_0x11202c(0x8d9)),_0x36f56a=document[_0x11202c(0xc4d)](_0x11202c(0x5ab));_0x11a2ef['innerText']=_0x11202c(0xd6a)+_0x5b7c79[_0x11202c(0x6c0)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x187442+')',['pointContent',_0x11202c(0x429),'summaryContent']['forEach'](_0x38864e=>{const _0x5954e3=_0x11202c;document[_0x5954e3(0xc4d)](_0x38864e)['innerHTML']='';}),document[_0x11202c(0xc4d)](_0x11202c(0x3d4))[_0x11202c(0x40b)]=_0x598942?marked[_0x11202c(0x2fa)](_0x598942):_0x11202c(0xbe6),document[_0x11202c(0xc4d)](_0x11202c(0x429))[_0x11202c(0x40b)]=_0x365897?marked[_0x11202c(0x2fa)](_0x365897):_0x11202c(0xbe6),document[_0x11202c(0xc4d)](_0x11202c(0x87c))[_0x11202c(0x40b)]=_0x5074e4?marked[_0x11202c(0x2fa)](_0x5074e4):_0x11202c(0xbe6),currentApplicationData=JSON['parse'](_0x30ccdc);const _0x2772cf=document['getElementById'](_0x11202c(0x124));_0x2772cf[_0x11202c(0x40b)]=(currentApplicationData||[])[_0x11202c(0x546)]((_0x26dbdb,_0x39d03c)=>_0x11202c(0x32c)+(_0x39d03c+0x1)+'.\x20'+marked[_0x11202c(0xd8d)](_0x26dbdb['question']||'')+_0x11202c(0xaeb)+_0x39d03c+_0x11202c(0xbc3)+(_0x26dbdb[_0x11202c(0xa3c)]||[])[_0x11202c(0x546)]((_0x18a842,_0x34c7bd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x39d03c+',\x20'+_0x34c7bd+')\x22>'+String[_0x11202c(0x2e6)](0x61+_0x34c7bd)+'.\x20'+marked['parseInline'](_0x18a842||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x11202c(0x625)]('')+_0x11202c(0x20c))[_0x11202c(0x625)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x11202c(0x1bb)]&&MathJax[_0x11202c(0xd71)]([_0x36f56a]),_0x47a5cf[_0x11202c(0x6f1)][_0x11202c(0x648)](_0x11202c(0x476)),_0x36f56a[_0x11202c(0x6f1)][_0x11202c(0x7d9)]('hidden');}catch(_0x56292f){console[_0x11202c(0x339)](_0x56292f);throw _0x56292f;}}function checkAnswer(_0x5f1e6e,_0xc5245f){const _0x1b8985=_0x5be2be,_0x183f69=currentApplicationData[_0x5f1e6e],_0x2e6fba=document['getElementById']('q'+_0x5f1e6e+'-options'),_0x4a51f8=_0x2e6fba[_0x1b8985(0x900)](_0x1b8985(0x3d2));for(let _0xda89fd of _0x4a51f8){_0xda89fd[_0x1b8985(0xbb3)]=!![];}_0xc5245f===_0x183f69[_0x1b8985(0x903)]?_0x4a51f8[_0xc5245f][_0x1b8985(0x6f1)][_0x1b8985(0x648)](_0x1b8985(0x1c3)):(_0x4a51f8[_0xc5245f][_0x1b8985(0x6f1)][_0x1b8985(0x648)]('incorrect'),_0x4a51f8[_0x183f69['answer']]['classList'][_0x1b8985(0x648)](_0x1b8985(0x1c3)));}window[_0x5be2be(0x3fd)]=handleGenerateAndShowLesson,window[_0x5be2be(0xd11)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x5be2be(0x49a)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x3aae6e=_0x5be2be;if(document['getElementById']('cropper-modal'))return;const _0x3250ec=_0x3aae6e(0xb33);document[_0x3aae6e(0x671)][_0x3aae6e(0x4dc)](_0x3aae6e(0xd66),_0x3250ec),setupCropperButtons();}function setupCropperButtons(){const _0x569d2d=_0x5be2be;document[_0x569d2d(0xc4d)]('cancel-crop-btn')[_0x569d2d(0x5a2)](_0x569d2d(0x4f4),()=>{const _0x46aa6b=_0x569d2d;document[_0x46aa6b(0xc4d)](_0x46aa6b(0x2db))['classList']['add'](_0x46aa6b(0x476)),cropperInstance&&(cropperInstance[_0x46aa6b(0xd0c)](),cropperInstance=null),document[_0x46aa6b(0xc4d)](_0x46aa6b(0x23b))['value']='';}),document['getElementById'](_0x569d2d(0x46f))['addEventListener'](_0x569d2d(0x4f4),()=>{const _0x1f3629=_0x569d2d;if(!cropperInstance)return;const _0x30fb67=document[_0x1f3629(0xc4d)](_0x1f3629(0x46f)),_0x328ffe=_0x30fb67[_0x1f3629(0x40b)];_0x30fb67[_0x1f3629(0x40b)]=_0x1f3629(0xcbd),_0x30fb67[_0x1f3629(0xbb3)]=!![],cropperInstance[_0x1f3629(0x660)]()['toBlob'](async _0x521249=>{const _0x1042a5=_0x1f3629;document[_0x1042a5(0xc4d)]('cropper-modal')[_0x1042a5(0x6f1)][_0x1042a5(0x648)](_0x1042a5(0x476));const _0x3ef367=new File([_0x521249],_0x1042a5(0xe63),{'type':'image/png'});await handleScanImageForText(_0x3ef367),_0x30fb67['innerHTML']=_0x328ffe,_0x30fb67[_0x1042a5(0xbb3)]=![],cropperInstance[_0x1042a5(0xd0c)](),cropperInstance=null;},_0x1f3629(0xa05));});}function startCropper(_0x7de4e3){const _0x3f433c=_0x5be2be;ensureCropperModalExists();const _0x4521d3=document[_0x3f433c(0xc4d)](_0x3f433c(0x2db)),_0x35b6ad=document['getElementById'](_0x3f433c(0x952)),_0x15916b=new FileReader();_0x15916b[_0x3f433c(0x397)]=_0x34400e=>{const _0x487d14=_0x3f433c;_0x35b6ad[_0x487d14(0x12d)]=_0x34400e[_0x487d14(0xa35)][_0x487d14(0xdd3)],_0x4521d3[_0x487d14(0x6f1)][_0x487d14(0x7d9)](_0x487d14(0x476));if(cropperInstance)cropperInstance[_0x487d14(0xd0c)]();cropperInstance=new Cropper(_0x35b6ad,{'viewMode':0x1,'dragMode':_0x487d14(0x8bc),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x15916b[_0x3f433c(0x63e)](_0x7de4e3);}document[_0x5be2be(0x5a2)](_0x5be2be(0x4f8),()=>{const _0x56b141=_0x5be2be,_0x2fa1c0=document[_0x56b141(0xc4d)](_0x56b141(0x23b)),_0x5bb3be=document['getElementById'](_0x56b141(0xc9e));_0x5bb3be&&_0x2fa1c0&&(_0x5bb3be[_0x56b141(0x5a2)](_0x56b141(0x4f4),()=>{const _0x331210=_0x56b141;_0x2fa1c0[_0x331210(0x1ce)]='',_0x2fa1c0[_0x331210(0x4f4)]();}),_0x2fa1c0['addEventListener'](_0x56b141(0x25a),_0x3409c6=>{const _0x3ac7ac=_0x56b141;_0x3409c6[_0x3ac7ac(0xa35)]['files']&&_0x3409c6['target'][_0x3ac7ac(0xd8f)][_0x3ac7ac(0x724)]>0x0&&startCropper(_0x3409c6['target'][_0x3ac7ac(0xd8f)][0x0]);}));});async function handleScanImageForText(_0x56df39){const _0x49e28b=_0x5be2be,_0x1eaf11=document[_0x49e28b(0xc4d)]('text-content-input'),_0x24a7d1=document[_0x49e28b(0xc4d)](_0x49e28b(0x5fa));if(!_0x56df39)return;_0x24a7d1[_0x49e28b(0xbb3)]=!![],_0x24a7d1[_0x49e28b(0x40b)]=_0x49e28b(0x3fe),_0x1eaf11[_0x49e28b(0xb88)]='AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...';try{const _0x5532a8=await new Promise((_0x11ea3c,_0x2c459f)=>{const _0x1760d5=_0x49e28b,_0x40050f=new FileReader();_0x40050f['readAsDataURL'](_0x56df39),_0x40050f[_0x1760d5(0x397)]=()=>_0x11ea3c(_0x40050f['result'][_0x1760d5(0xcb0)](',')[0x1]),_0x40050f[_0x1760d5(0x255)]=_0x2c459f;}),_0x102f75=_0x49e28b(0xc11),_0x55eae3=[{'text':_0x102f75},{'inlineData':{'mimeType':_0x56df39[_0x49e28b(0xd50)],'data':_0x5532a8}}],_0x3ceea7=await handleApiCall(_0x55eae3,_0x49e28b(0x4cd),null,null,![]);if(_0x3ceea7){const _0x559e1b=_0x1eaf11[_0x49e28b(0x1ce)]['trim']();_0x1eaf11['value']=_0x559e1b?_0x559e1b+'\x0a\x0a'+_0x3ceea7:_0x3ceea7,showMessage(_0x49e28b(0xb47));}else throw new Error(_0x49e28b(0x941));}catch(_0x13d81d){console['error'](_0x49e28b(0x442),_0x13d81d),showMessage(_0x49e28b(0x8e4)+_0x13d81d[_0x49e28b(0xba5)]);}finally{_0x24a7d1[_0x49e28b(0xbb3)]=![],_0x24a7d1[_0x49e28b(0x40b)]=_0x49e28b(0x9d5),document[_0x49e28b(0xc4d)](_0x49e28b(0x2dd))['value']='';}}async function initialize(){const _0x43e88e=_0x5be2be;try{const _0xf251a7=initializeApp(firebaseConfig);db=getFirestore(_0xf251a7),auth=getAuth(_0xf251a7),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x401c45){console['error'](_0x43e88e(0x4c8),_0x401c45),showMessage(_0x43e88e(0x40f));}}async function handleVerifyAnswersInEditor(){const _0x5ed00e=_0x5be2be,_0x38b197=document[_0x5ed00e(0xc4d)]('quiz-editor-modal');if(!_0x38b197)return;const _0x3f19e9=document[_0x5ed00e(0xc4d)](_0x5ed00e(0x5fc));_0x3f19e9['disabled']=!![],_0x3f19e9[_0x5ed00e(0x40b)]=_0x5ed00e(0x3af);try{const _0x59e421=_0x38b197['querySelectorAll'](_0x5ed00e(0x196)),_0x33109d=Array[_0x5ed00e(0xe6)](_0x59e421)['map']((_0x5f4c45,_0x1235c4)=>{const _0x1a9b68=_0x5ed00e,_0x4850eb=_0x5f4c45['dataset'][_0x1a9b68(0x5c6)],_0x2b6b53=_0x5f4c45[_0x1a9b68(0xab2)](_0x1a9b68(0x465))[_0x1a9b68(0x1ce)];let _0x56f972=null,_0x3a496c='';switch(_0x4850eb){case _0x1a9b68(0x807):const _0x3b83d3=_0x5f4c45[_0x1a9b68(0x760)](_0x1a9b68(0xc14));_0x56f972=Array[_0x1a9b68(0xe6)](_0x3b83d3)['map'](_0x5f3dae=>_0x5f3dae[_0x1a9b68(0x1ce)]);const _0x2b2da5=_0x5f4c45['querySelector']('input[type=\x22radio\x22]:checked');_0x2b2da5&&(_0x3a496c=_0x56f972[parseInt(_0x2b2da5['value'])]);break;case _0x1a9b68(0x738):_0x56f972=[],_0x3a496c=_0x5f4c45[_0x1a9b68(0xab2)](_0x1a9b68(0x8ec))['value'];break;case _0x1a9b68(0xd99):_0x56f972=[_0x1a9b68(0xe16),_0x1a9b68(0x49c)];const _0x332aa9=_0x5f4c45[_0x1a9b68(0xab2)](_0x1a9b68(0xad4));_0x3a496c=_0x332aa9?_0x332aa9['value']:'';break;case _0x1a9b68(0xd41):_0x56f972=[],_0x3a496c=_0x5f4c45[_0x1a9b68(0xab2)](_0x1a9b68(0xfd))['value'];break;}return{'question':_0x2b6b53,'options':_0x56f972,'proposedAnswer':_0x3a496c};}),_0x264ee1=_0x5ed00e(0x8fd)+JSON[_0x5ed00e(0x3f3)](_0x33109d)+_0x5ed00e(0xd31),_0x25c588={'type':'ARRAY','items':{'type':_0x5ed00e(0x496),'properties':{'questionIndex':{'type':_0x5ed00e(0x44a)},'isCorrect':{'type':_0x5ed00e(0xb7a)},'justification':{'type':_0x5ed00e(0x179)},'correctOptionExists':{'type':_0x5ed00e(0xb7a)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x5ed00e(0xbdb),'items':{'type':'STRING'}},'newCorrectIndex':{'type':_0x5ed00e(0x44a)}}}},'required':[_0x5ed00e(0x2b6),'isCorrect',_0x5ed00e(0x6a0)]}},_0x2f9f69=await callAnalysisApi(_0x264ee1,{'type':_0x5ed00e(0x496),'properties':{'result':_0x25c588},'required':['result']});displayVerificationResultsInEditor(_0x2f9f69[_0x5ed00e(0xdd3)]);}catch(_0x1ac416){console[_0x5ed00e(0x339)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x1ac416),showMessage(_0x5ed00e(0xca3));}finally{_0x3f19e9[_0x5ed00e(0xbb3)]=![],_0x3f19e9[_0x5ed00e(0x40b)]=_0x5ed00e(0xb4b);}}function displayVerificationResultsInEditor(_0x5ecaa2){const _0x267970=_0x5be2be;_0x5ecaa2[_0x267970(0xd75)](_0x1e7ee3=>{const _0x552133=_0x267970,_0x4d6f80=document[_0x552133(0xab2)](_0x552133(0xc57)+_0x1e7ee3[_0x552133(0x2b6)]+'\x22]');if(!_0x4d6f80)return;const _0x4d15ff=_0x4d6f80[_0x552133(0xab2)]('.verification-result-editor');if(_0x4d15ff)_0x4d15ff[_0x552133(0x7d9)]();let _0x2eca53='';if(_0x1e7ee3[_0x552133(0xd62)]&&_0x1e7ee3['newOptionsPayload'][_0x552133(0x46d)]){const _0x2765df=_0x1e7ee3[_0x552133(0xd62)]['newOptions'],_0x9963c4=_0x1e7ee3[_0x552133(0xd62)]['newCorrectIndex'],_0x35fa32=_0x4d6f80[_0x552133(0xa2c)][_0x552133(0x5c6)];if(_0x35fa32==='multiple_choice'){const _0x44b45b=_0x4d6f80[_0x552133(0x760)](_0x552133(0xc14));_0x44b45b['forEach']((_0x3a5808,_0x526f16)=>{const _0x3e90b2=_0x552133;_0x2765df[_0x526f16]?_0x3a5808[_0x3e90b2(0x1ce)]=_0x2765df[_0x526f16]:_0x3a5808['value']=_0x3e90b2(0x3bf);});const _0x193bc6=_0x4d6f80['querySelector'](_0x552133(0xcc2)+_0x9963c4+'\x22]');_0x193bc6&&(_0x193bc6[_0x552133(0x315)]=!![]),_0x2eca53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4d6f80[_0x552133(0x6f1)][_0x552133(0x648)](_0x552133(0x562),_0x552133(0x7ce),_0x552133(0x73e)),setTimeout(()=>{const _0x1964b9=_0x552133;_0x4d6f80[_0x1964b9(0x6f1)][_0x1964b9(0x7d9)](_0x1964b9(0x562));},0x9c4);}}else{if(!_0x1e7ee3[_0x552133(0xd32)]&&_0x1e7ee3['suggestedAnswer']){const _0x2dd99a=_0x1e7ee3[_0x552133(0x86e)]?_0x552133(0x101):'';_0x2eca53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x2dd99a+_0x552133(0xfa)+_0x1e7ee3['justification']+_0x552133(0x279)+(_0x1e7ee3[_0x552133(0x86e)]?_0x552133(0x2c0)+_0x1e7ee3['suggestedAnswer']+_0x552133(0xe35):'')+_0x552133(0x9e2);const _0x2fa368=_0x4d6f80[_0x552133(0xa2c)][_0x552133(0x5c6)],_0x4c7ee2=_0x37e251=>{const _0xf2e448=_0x552133;if(!_0x37e251)return;_0x37e251[_0xf2e448(0x6f1)][_0xf2e448(0x648)]('bg-green-200',_0xf2e448(0x7ce),_0xf2e448(0x73e)),setTimeout(()=>{const _0x5ea0da=_0xf2e448;_0x37e251[_0x5ea0da(0x6f1)][_0x5ea0da(0x7d9)](_0x5ea0da(0xd60));},0x9c4);};if(_0x2fa368===_0x552133(0x807)){const _0x36bf8d=Array[_0x552133(0xe6)](_0x4d6f80['querySelectorAll'](_0x552133(0xc14))),_0x48e538=_0x36bf8d[_0x552133(0xac3)](_0x3637db=>_0x3637db['value'][_0x552133(0x2ce)]()['toLowerCase']()===_0x1e7ee3['suggestedAnswer'][_0x552133(0x2ce)]()[_0x552133(0x6f7)]());if(_0x48e538!==-0x1){const _0x20b4cb=_0x4d6f80[_0x552133(0xab2)](_0x552133(0xcc2)+_0x48e538+'\x22]');_0x20b4cb&&(_0x20b4cb[_0x552133(0x315)]=!![],_0x4c7ee2(_0x20b4cb[_0x552133(0xac5)](_0x552133(0xe52))));}}else{if(_0x2fa368==='short_answer'||_0x2fa368==='matching_item'){const _0x45c36f=_0x4d6f80[_0x552133(0xab2)]('.ideal-answer-input,\x20.correct-response-input');_0x45c36f&&(_0x45c36f[_0x552133(0x1ce)]=_0x1e7ee3[_0x552133(0x86e)],_0x4c7ee2(_0x45c36f));}else{if(_0x2fa368===_0x552133(0xd99)){const _0x2ee32f=_0x1e7ee3[_0x552133(0x86e)][_0x552133(0x2ce)]()[_0x552133(0x6f7)](),_0x3da68f=_0x4d6f80['querySelector'](_0x552133(0xcc2)+_0x2ee32f+'\x22]');_0x3da68f&&(_0x3da68f[_0x552133(0x315)]=!![],_0x4c7ee2(_0x3da68f[_0x552133(0xac5)](_0x552133(0xe52))));}}}}else _0x1e7ee3[_0x552133(0xd32)]&&(_0x2eca53=_0x552133(0xddf));}_0x4d6f80[_0x552133(0x4dc)](_0x552133(0xd66),_0x2eca53);}),showMessage(_0x267970(0xe7b));}async function handleVerifyAnswers(){const _0x24cc8e=_0x5be2be;if(!currentQuizData||!currentQuizData[_0x24cc8e(0xb1f)]){showMessage(_0x24cc8e(0xada));return;}const _0x13e2ce=document[_0x24cc8e(0xc4d)](_0x24cc8e(0x147));_0x13e2ce['disabled']=!![],_0x13e2ce['innerHTML']=_0x24cc8e(0x3af);try{const _0x57077d=currentQuizData[_0x24cc8e(0xb1f)][_0x24cc8e(0x546)]((_0x4eee30,_0x1e2c3d)=>{const _0x53cf0c=_0x24cc8e;let _0x19726f='';const _0x427f70=_0x4eee30['questionType']||currentQuizData[_0x53cf0c(0xd93)];switch(_0x427f70){case _0x53cf0c(0x807):_0x19726f=_0x4eee30['options'][_0x4eee30['correctAnswerIndex']];break;case _0x53cf0c(0x738):_0x19726f=_0x4eee30[_0x53cf0c(0x1d8)];break;case _0x53cf0c(0xd99):_0x19726f=_0x4eee30[_0x53cf0c(0x66a)][_0x53cf0c(0x386)]();break;case _0x53cf0c(0xd41):_0x19726f=_0x4eee30[_0x53cf0c(0xa3a)];break;}return{'question':_0x4eee30[_0x53cf0c(0xb4a)]||_0x4eee30['questionText'],'options':_0x4eee30[_0x53cf0c(0xa3c)]||null,'proposedAnswer':_0x19726f};}),_0x2fb99c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x24cc8e(0x3f3)](_0x57077d)+_0x24cc8e(0xef),_0x4d31e6={'type':_0x24cc8e(0xbdb),'items':{'type':_0x24cc8e(0x496),'properties':{'questionIndex':{'type':_0x24cc8e(0x44a)},'isCorrect':{'type':_0x24cc8e(0xb7a)},'justification':{'type':_0x24cc8e(0x179)},'suggestedAnswer':{'type':_0x24cc8e(0x179)}},'required':['questionIndex',_0x24cc8e(0xd32),_0x24cc8e(0x6a0)]}},_0x13c31b=await callAnalysisApi(_0x2fb99c,{'type':'OBJECT','properties':{'result':_0x4d31e6},'required':['result']});displayVerificationResults(_0x13c31b[_0x24cc8e(0xdd3)]);}catch(_0x4966b3){console[_0x24cc8e(0x339)](_0x24cc8e(0x162),_0x4966b3),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x13e2ce[_0x24cc8e(0xbb3)]=![],_0x13e2ce[_0x24cc8e(0x40b)]=_0x24cc8e(0x780);}}function displayVerificationResults(_0x24cca9){const _0x9962aa=_0x5be2be;_0x24cca9[_0x9962aa(0xd75)](_0x30b0fa=>{const _0x11967d=_0x9962aa,_0x2d6add=document[_0x11967d(0xab2)](_0x11967d(0x4a0)+_0x30b0fa[_0x11967d(0x2b6)]+'\x22]');if(_0x2d6add){const _0x25f847=_0x2d6add[_0x11967d(0xab2)](_0x11967d(0xd0e));if(_0x25f847)_0x25f847[_0x11967d(0x7d9)]();let _0x806121='';_0x30b0fa[_0x11967d(0xd32)]?_0x806121=_0x11967d(0x28b):_0x806121=_0x11967d(0xb51)+_0x30b0fa[_0x11967d(0x6a0)]+_0x11967d(0xe21)+(_0x30b0fa[_0x11967d(0x86e)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x30b0fa['suggestedAnswer']+_0x11967d(0xe35):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d6add['insertAdjacentHTML'](_0x11967d(0xd66),_0x806121);}}),showMessage(_0x9962aa(0xe7b));}function compareNumericalAnswers(_0x525607,_0x4491e7){const _0x8e3e4d=_0x5be2be,_0x15ef73=String(_0x525607)[_0x8e3e4d(0x6c0)](',','.')[_0x8e3e4d(0x6c0)](/[^\d.-]/g,'')[_0x8e3e4d(0x2ce)](),_0x45cad8=String(_0x4491e7)[_0x8e3e4d(0x6c0)](',','.')['replace'](/[^\d.-]/g,'')[_0x8e3e4d(0x2ce)]();if(_0x15ef73===''||_0x45cad8==='')return![];const _0x2965c6=parseFloat(_0x15ef73),_0x3ca798=parseFloat(_0x45cad8);if(isNaN(_0x2965c6)||isNaN(_0x3ca798))return![];return Math[_0x8e3e4d(0x22b)](_0x2965c6-_0x3ca798)<0.001;}function isPotentiallyNumeric(_0x239395){const _0x580cfd=_0x5be2be;if(typeof _0x239395!==_0x580cfd(0xa4b)&&typeof _0x239395!==_0x580cfd(0x7cf))return![];const _0x4cca54=String(_0x239395)['replace'](',','.')[_0x580cfd(0x2ce)]();return _0x4cca54!==''&&!isNaN(parseFloat(_0x4cca54))&&isFinite(_0x4cca54);}async function gradeShortAnswer(_0x336e79,_0x39f389){const _0x3fa97a=_0x5be2be,_0x471271=_0x39f389[_0x3fa97a(0x1d8)],_0x5f1df0=String(_0x336e79)[_0x3fa97a(0x6c0)](/\$/g,'')['trim'](),_0x6ebb09=String(_0x471271)[_0x3fa97a(0x6c0)](/\$/g,'')[_0x3fa97a(0x2ce)]();if(_0x5f1df0[_0x3fa97a(0x6f7)]()===_0x6ebb09[_0x3fa97a(0x6f7)]())return!![];if(isPotentiallyNumeric(_0x5f1df0)&&isPotentiallyNumeric(_0x6ebb09)){if(compareNumericalAnswers(_0x5f1df0,_0x6ebb09))return!![];}return console[_0x3fa97a(0xbe2)]('Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.'),![];}async function revealAnswerForAdmin(_0x171455,_0x45a212){const _0x5683e5=_0x5be2be,_0x499133=doc(db,_0x5683e5(0x6e9)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x499133,{'questionStatus':_0x5683e5(0xb90)});}function showTop5LeaderboardView(_0x73304a){const _0x3d724a=_0x5be2be,_0x5947f9=Object[_0x3d724a(0x37f)](_0x73304a[_0x3d724a(0xda5)]||{})[_0x3d724a(0x6e1)](_0x24e77c=>_0x24e77c[_0x3d724a(0x7c3)]===_0x3d724a(0x970));_0x5947f9[_0x3d724a(0x332)]((_0x3f7227,_0x9da59)=>_0x9da59[_0x3d724a(0x82f)]-_0x3f7227[_0x3d724a(0x82f)]);const _0x1f34f9=_0x5947f9[_0x3d724a(0x647)](0x0,0x5),_0x2e7965=_0x3d724a(0x2f5)+_0x1f34f9[_0x3d724a(0x546)]((_0x437b5a,_0x3226c0)=>_0x3d724a(0xc3f)+(_0x3226c0+0x1)+'.\x20'+(_0x437b5a[_0x3d724a(0x1b0)]||Object[_0x3d724a(0x74b)](_0x73304a[_0x3d724a(0xda5)])[_0x3d724a(0x35d)](_0x5cd053=>_0x73304a[_0x3d724a(0xda5)][_0x5cd053]===_0x437b5a))+_0x3d724a(0x91f)+_0x437b5a[_0x3d724a(0x82f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d724a(0x625)]('')+_0x3d724a(0x6a3)+(_0x73304a[_0x3d724a(0xe7c)]+0x1===currentQuizData[_0x3d724a(0xb1f)]['length']?_0x3d724a(0x661):_0x3d724a(0x1f3))+_0x3d724a(0x4c7);liveGameView[_0x3d724a(0x40b)]=_0x2e7965,document[_0x3d724a(0xc4d)]('goto-next-question-btn')[_0x3d724a(0x5a2)](_0x3d724a(0x4f4),async()=>{const _0x51ad37=_0x3d724a,_0x16a5f2=doc(db,_0x51ad37(0x6e9)+appId+'/public/data/liveGames',currentLiveGameId),_0x3a91b1=_0x73304a[_0x51ad37(0xe7c)]+0x1;if(_0x3a91b1<currentQuizData[_0x51ad37(0xb1f)][_0x51ad37(0x724)]){const _0x9dee1={'currentQuestionIndex':_0x3a91b1,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x51ad37(0xde6)};Object[_0x51ad37(0x74b)](_0x73304a['players'])[_0x51ad37(0xd75)](_0x1874b7=>{const _0x174f04=_0x51ad37;_0x9dee1[_0x174f04(0x7a4)+_0x1874b7+_0x174f04(0x5bd)]=![];}),await updateDoc(_0x16a5f2,_0x9dee1);}else await updateDoc(_0x16a5f2,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x25a5a0=>{const _0x4f5f45=_0x46b4;if(_0x25a5a0){userId=_0x25a5a0[_0x4f5f45(0xced)],userIdDisplay[_0x4f5f45(0x4c4)]=userId;const _0x4f4a09=await loadUserPreferences();_0x4f4a09[_0x4f5f45(0x22d)]&&(document[_0x4f5f45(0xc4d)](_0x4f5f45(0xbf2))[_0x4f5f45(0x1ce)]=_0x4f4a09[_0x4f5f45(0x22d)]);globalDashboardSettings[_0x4f5f45(0x52a)]=_0x4f4a09['projectView']||_0x4f5f45(0x63d);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x5493e1,_0x25fb84){const _0x3f2bc1=_0x5be2be;if(!userId)return;try{const _0x51eb33=doc(db,_0x3f2bc1(0x6e9)+appId+_0x3f2bc1(0x31f)+userId+_0x3f2bc1(0xd1)),_0x8b99c1={};_0x8b99c1[_0x5493e1]=_0x25fb84,await setDoc(_0x51eb33,_0x8b99c1,{'merge':!![]});}catch(_0x563fe6){console[_0x3f2bc1(0x339)](_0x3f2bc1(0xa74),_0x563fe6);}}async function loadUserPreferences(){const _0x3c9b1c=_0x5be2be;if(!userId)return{};try{const _0x5f4835=doc(db,'artifacts/'+appId+_0x3c9b1c(0x31f)+userId+'/preferences/main'),_0x5b75b2=await getDoc(_0x5f4835);if(_0x5b75b2[_0x3c9b1c(0x509)]())return _0x5b75b2[_0x3c9b1c(0x1de)]();return{};}catch(_0x1bdaa3){return console[_0x3c9b1c(0x339)](_0x3c9b1c(0x1a8),_0x1bdaa3),{};}}function parseIndentedBlueprint(_0x3805ea){const _0x1ee48f=_0x5be2be,_0x366260=_0x3805ea[_0x1ee48f(0xcb0)]('\x0a')[_0x1ee48f(0x6e1)](_0x575221=>_0x575221['trim']()!==''),_0x56a33d=[];let _0x46979a=null,_0x5a146c=null;return _0x366260[_0x1ee48f(0xd75)](_0x52a386=>{const _0x31b229=_0x1ee48f,_0x7c5d24=_0x52a386[_0x31b229(0x66c)](/^\s*/)[0x0][_0x31b229(0x724)],_0x3c3519=_0x52a386['trim']();if(_0x7c5d24===0x0)_0x46979a={'sara':_0x3c3519,'mainTopics':[]},_0x56a33d[_0x31b229(0x633)](_0x46979a),_0x5a146c=null;else{if(_0x7c5d24>0x0&&_0x7c5d24<0x8&&_0x46979a)_0x5a146c={'topicName':_0x3c3519,'subTopics':[]},_0x46979a[_0x31b229(0x655)][_0x31b229(0x633)](_0x5a146c);else _0x7c5d24>=0x8&&_0x5a146c&&_0x5a146c['subTopics'][_0x31b229(0x633)](_0x3c3519);}}),{'curriculum':_0x56a33d};}async function handleManualBlueprintSave(){const _0x37ffbd=_0x5be2be,_0x41fa79=document[_0x37ffbd(0xc4d)]('manual-bp-project-name')[_0x37ffbd(0x1ce)]['trim'](),_0x26f393=document[_0x37ffbd(0xc4d)]('manual-bp-grade-level')[_0x37ffbd(0x1ce)][_0x37ffbd(0x2ce)](),_0x217150=document['getElementById'](_0x37ffbd(0x169))['value'];if(!_0x41fa79||!_0x26f393||!_0x217150){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x1ac0f2=parseIndentedBlueprint(_0x217150);if(!_0x1ac0f2[_0x37ffbd(0x2b5)]||_0x1ac0f2[_0x37ffbd(0x2b5)][_0x37ffbd(0x724)]===0x0){showMessage(_0x37ffbd(0x229));return;}const _0x21eaa0={};let _0x1bbc6c=0x0;_0x1ac0f2['curriculum'][_0x37ffbd(0xd75)](_0x18f291=>{const _0x328921=_0x37ffbd;_0x18f291[_0x328921(0x655)][_0x328921(0xd75)](_0x11afdb=>{const _0x4065c4=_0x328921;_0x11afdb['subTopics'][_0x4065c4(0xd75)](_0x1710c9=>{const _0x43b981=_0x4065c4,_0x16784c=_0x43b981(0x257)+Date['now']()+Math[_0x43b981(0x4ab)]()['toString'](0x24)[_0x43b981(0xb7f)](0x2,0x9);_0x21eaa0[_0x16784c]={'sara':_0x18f291[_0x43b981(0xb35)],'mainTopic':_0x11afdb['topicName'],'subTopic':_0x1710c9,'status':'not_generated','lessonContent':null,'order':_0x1bbc6c++};});});});try{const _0x5a3fd2=collection(db,_0x37ffbd(0x6e9)+appId+_0x37ffbd(0xce3));await addDoc(_0x5a3fd2,{'projectName':_0x41fa79,'gradeLevel':_0x26f393,'topics':_0x21eaa0,'createdAt':serverTimestamp()}),showMessage(_0x37ffbd(0x415)+_0x41fa79+'\x22\x20สำเร็จ!'),document[_0x37ffbd(0xc4d)](_0x37ffbd(0x1a6))[_0x37ffbd(0x6f1)]['add'](_0x37ffbd(0x476));}catch(_0x35f71f){console['error'](_0x37ffbd(0xa2b),_0x35f71f),showMessage(_0x37ffbd(0x5d0));}}function handleClearAllLinksForTopic(_0x34f3a2){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x2c4381=_0x46b4;try{const _0xc96570=doc(db,_0x2c4381(0x6e9)+appId+_0x2c4381(0xce3),currentBlueprintProjectId);await updateDoc(_0xc96570,{[_0x2c4381(0xe29)+_0x34f3a2+_0x2c4381(0xc1e)]:[]}),showMessage(_0x2c4381(0x19d)),openTopicQuizBank(_0x34f3a2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2835d1){console[_0x2c4381(0x339)](_0x2c4381(0xcb3),_0x2835d1),showMessage(_0x2c4381(0xaed));}});}function showPodiumView(_0x305326,_0x406e00=_0x5be2be(0x487),_0x52bdf1=null){const _0x299892=_0x5be2be,_0x1133f2=_0x52bdf1?.[_0x299892(0x172)]===!![],_0x159bdc=Object['entries'](_0x305326)[_0x299892(0x546)](([_0x32f2ec,_0x9fe5c1])=>({'name':_0x32f2ec,'realScore':_0x9fe5c1[_0x299892(0xa80)]||_0x9fe5c1[_0x299892(0x82f)]||0x0,'totalPoints':_0x9fe5c1[_0x299892(0x670)]||0x0,'badges':_0x9fe5c1[_0x299892(0x84f)]||[],'hasPerfectScoreBonus':_0x9fe5c1['hasPerfectScoreBonus']||![]})),_0x380530=Math[_0x299892(0xcf)](..._0x159bdc[_0x299892(0x546)](_0x3f3b35=>_0x3f3b35[_0x299892(0x670)]),-Infinity),_0x1c1353=Math[_0x299892(0xcf)](..._0x159bdc['map'](_0x1e0e17=>_0x1e0e17[_0x299892(0xa80)]),-Infinity);_0x159bdc[_0x299892(0x332)]((_0x20d1b7,_0x137a00)=>{const _0x2a3d7f=_0x299892;if(_0x1133f2){const _0x200e9e=_0x137a00['totalPoints']-_0x20d1b7[_0x2a3d7f(0x670)];if(_0x200e9e!==0x0)return _0x200e9e;const _0x1a39ff=_0x137a00[_0x2a3d7f(0xa80)]-_0x20d1b7['realScore'];if(_0x1a39ff!==0x0)return _0x1a39ff;return _0x20d1b7['name']['localeCompare'](_0x137a00[_0x2a3d7f(0x1b0)],'th');}else{const _0x3323c1=_0x137a00[_0x2a3d7f(0x670)]-_0x20d1b7[_0x2a3d7f(0x670)];if(_0x3323c1!==0x0)return _0x3323c1;return _0x137a00[_0x2a3d7f(0xa80)]-_0x20d1b7[_0x2a3d7f(0xa80)];}});const _0x3a803c=_0x1e9b4d=>{const _0x54121f=_0x299892;if(!_0x1e9b4d||_0x1e9b4d[_0x54121f(0x724)]===0x0)return'';const _0xae9ca7={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x54121f(0x539)+_0x1e9b4d[_0x54121f(0x546)](_0x3b2364=>_0xae9ca7[_0x3b2364]||'')['join']('')+'</div>';},_0x4cd6b8=_0x3222f7=>{const _0x4c839d=_0x299892;let _0x1cd345='';if(_0x1133f2){if(_0x3222f7['totalPoints']===_0x380530&&_0x380530>0x0)_0x1cd345+=_0x4c839d(0x7f2);if(_0x3222f7[_0x4c839d(0xa80)]===_0x1c1353&&_0x1c1353>0x0)_0x1cd345+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x3222f7['hasPerfectScoreBonus'])_0x1cd345='<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>';}if(_0x1133f2){const _0x10553d=_0x3222f7[_0x4c839d(0x670)]>=0x0?'(+'+_0x3222f7[_0x4c839d(0x670)][_0x4c839d(0x3f0)]()+')':'('+_0x3222f7[_0x4c839d(0x670)]['toLocaleString']()+')';return'<p\x20class=\x22text-xl\x22>'+_0x3222f7[_0x4c839d(0xa80)]+'\x20คะแนน\x20'+_0x10553d+'\x20'+_0x1cd345+_0x4c839d(0xe35);}else return _0x4c839d(0x492)+_0x3222f7[_0x4c839d(0x670)][_0x4c839d(0x3f0)]()+'\x20คะแนน\x20'+_0x1cd345+_0x4c839d(0xe35);},_0x51a5b6=_0x159bdc[_0x299892(0x647)](0x3),_0x3f38f3=_0x51a5b6[_0x299892(0x724)]>0x0?_0x299892(0x8c0)+_0x51a5b6[_0x299892(0x546)]((_0x71c12a,_0x5632c0)=>{const _0x7a1984=_0x299892;return _0x7a1984(0xd89)+(_0x5632c0+0x4)+_0x7a1984(0x36b)+_0x71c12a[_0x7a1984(0x1b0)]+_0x7a1984(0x4f5)+_0x4cd6b8(_0x71c12a)+_0x7a1984(0x5aa);})[_0x299892(0x625)]('')+_0x299892(0x2ab):'',_0x52b154=_0x299892(0x881)+(_0x159bdc[0x1]?_0x299892(0xa84)+_0x159bdc[0x1][_0x299892(0x1b0)]+_0x299892(0xe35)+_0x3a803c(_0x159bdc[0x1]['badges'])+_0x4cd6b8(_0x159bdc[0x1])+_0x299892(0x96f):_0x299892(0xd3b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x159bdc[0x0]?_0x299892(0x940)+_0x159bdc[0x0][_0x299892(0x1b0)]+'</p>'+_0x3a803c(_0x159bdc[0x0][_0x299892(0x84f)])+_0x4cd6b8(_0x159bdc[0x0])+_0x299892(0x5ca):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x159bdc[0x2]?_0x299892(0xd13)+_0x159bdc[0x2][_0x299892(0x1b0)]+_0x299892(0xe35)+_0x3a803c(_0x159bdc[0x2][_0x299892(0x84f)])+_0x4cd6b8(_0x159bdc[0x2])+_0x299892(0xa7d):'<div\x20class=\x22flex-1\x22></div>')+_0x299892(0x848)+_0x3f38f3+_0x299892(0x983)+(currentMode==='admin'?_0x299892(0xbd5):_0x299892(0x753))+_0x299892(0x52d);liveGameView[_0x299892(0x40b)]=_0x52b154,currentMode===_0x299892(0x84c)?document[_0x299892(0xc4d)](_0x299892(0x195))['addEventListener']('click',async()=>{const _0x2427ec=_0x299892;let _0x5759b0;_0x406e00==='sync'?_0x5759b0=doc(db,_0x2427ec(0x6e9)+appId+'/public/data/syncGames',currentLiveGameId):_0x5759b0=doc(db,_0x2427ec(0x6e9)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x5759b0);}):document['getElementById'](_0x299892(0x94e))?.[_0x299892(0x5a2)]('click',()=>{const _0x4eb0fc=_0x299892;showView(_0x4eb0fc(0x7e7));});}function renderSyncSummaryView(_0x162219,_0x4dfdab,_0x2c42ff){const _0x9da183=_0x5be2be,_0x5a6e21=_0x162219[_0x9da183(0xa4a)]||_0x9da183(0x19b),_0x4e5145=(_0x5a6e21==='anonymous'||_0x5a6e21===_0x9da183(0xe74))&&_0x162219['isAnonymousRevealed']===![],_0x55349d=_0x5a6e21===_0x9da183(0x4f0)||_0x5a6e21==='anonymous_reveal_end',_0x398506=_0x162219[_0x9da183(0x1c4)][_0x9da183(0xb1f)],_0x5f5a0e=_0x4dfdab['questionType']||_0x162219[_0x9da183(0x1c4)][_0x9da183(0xd93)],_0x192097=_0x5f5a0e===_0x9da183(0x738)||_0x5f5a0e===_0x9da183(0xa13);let _0x564546='';if(_0x192097){let _0x2f42a8=0x0,_0x8ff654=0x0;const _0x5146de=[],_0x532ad5=[];Object[_0x9da183(0xb11)](_0x162219[_0x9da183(0xda5)]||{})[_0x9da183(0xd75)](([_0x38c506,_0x134934])=>{const _0xdb88d2=_0x9da183,_0x5a2851=(_0x134934[_0xdb88d2(0x90b)]||[])[_0xdb88d2(0x35d)](_0x2ecf5b=>_0x2ecf5b[_0xdb88d2(0x2b6)]===_0x162219['currentQuestionIndex']);if(_0x134934['status']!=='inactive'&&_0x5a2851){const _0x4518c2=_0x5a2851[_0xdb88d2(0xc47)],_0x185724=_0x4e5145?_0x162219[_0xdb88d2(0xc83)][_0x38c506]||_0xdb88d2(0x458):_0x38c506;_0x5a2851[_0xdb88d2(0xd32)]?(_0x2f42a8++,_0x5146de['push'](_0x185724)):(_0x8ff654++,_0x532ad5[_0xdb88d2(0x633)](_0xdb88d2(0x6d9)+_0x185724+_0xdb88d2(0xe22)+(_0x4518c2||_0xdb88d2(0x922))));}}),_0x564546='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2f42a8+_0x9da183(0xbf5)+(_0x5146de[_0x9da183(0x724)]>0x0?_0x5146de['join'](',\x20'):'-')+_0x9da183(0xe34)+_0x8ff654+_0x9da183(0xce1)+(_0x532ad5['length']>0x0?_0x532ad5[_0x9da183(0x625)](_0x9da183(0x8c5)):'-')+_0x9da183(0xc39);}else{let _0x4739c=[];_0x5f5a0e===_0x9da183(0xd99)?_0x4739c=[_0x9da183(0xb4c),_0x9da183(0xbe0)]:_0x4739c=_0x4dfdab[_0x9da183(0xa3c)]||[];const _0x2628bd=new Array(_0x4739c[_0x9da183(0x724)])[_0x9da183(0xa57)](0x0),_0x5da25e={};_0x4739c['forEach']((_0xf697d7,_0x90a3b4)=>{_0x5da25e[_0x90a3b4]=[];}),Object[_0x9da183(0xb11)](_0x162219[_0x9da183(0xda5)]||{})[_0x9da183(0xd75)](([_0x504517,_0x536add])=>{const _0x3ba775=_0x9da183,_0x47f9b2=(_0x536add['answers']||[])['find'](_0x1bdcef=>_0x1bdcef[_0x3ba775(0x2b6)]===_0x162219[_0x3ba775(0xe7c)]);if(_0x536add['status']!==_0x3ba775(0x511)&&_0x47f9b2&&_0x47f9b2[_0x3ba775(0x903)]!==null){const _0x242b17=parseInt(_0x47f9b2[_0x3ba775(0x903)]);if(!isNaN(_0x242b17)&&_0x5da25e[_0x242b17]!==undefined){const _0x5b2d2d=_0x4e5145?_0x162219['playerNicknames'][_0x504517]||_0x3ba775(0x458):_0x504517;_0x5da25e[_0x242b17][_0x3ba775(0x633)](_0x5b2d2d),_0x2628bd[_0x242b17]++;}}}),_0x564546=_0x9da183(0xd69)+_0x2628bd[_0x9da183(0x546)]((_0xf5d1dd,_0x2de49f)=>{const _0x583ae8=_0x9da183,_0x10e7da=_0x5da25e[_0x2de49f]['length']>0x0?_0x5da25e[_0x2de49f][_0x583ae8(0x625)](',\x20'):_0x583ae8(0xc5b),_0x39ba10='#6366F1';return _0x583ae8(0xaef)+_0xf5d1dd+_0x583ae8(0x929)+_0x39ba10+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x2de49f+_0x583ae8(0xd16)+_0x4739c[_0x2de49f]+_0x583ae8(0xd86)+_0x2de49f+_0x583ae8(0xa62)+_0x10e7da+_0x583ae8(0x9da);})[_0x9da183(0x625)]('')+_0x9da183(0x29e);}let _0xe863e7='';const _0x2d9120=_0x162219[_0x9da183(0xe7c)]>=_0x398506['length']-0x1;_0x2c42ff?_0x55349d?_0x2d9120?_0xe863e7=_0x9da183(0xbbd):_0xe863e7=_0x9da183(0x536):_0xe863e7=_0x9da183(0x123):_0x55349d?_0xe863e7='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0xe863e7=_0x9da183(0x874);const _0x1201eb=_0x2c42ff?_0x9da183(0xa8e)+_0x162219[_0x9da183(0x6fa)]+_0x9da183(0x5e5):'',_0x3034c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1201eb+_0x9da183(0x356)+(_0x4dfdab[_0x9da183(0x9b3)]||_0x4dfdab['stem']||'')+_0x9da183(0x178)+_0x564546+_0x9da183(0x4b3)+_0xe863e7+_0x9da183(0x9fa);liveGameView[_0x9da183(0x40b)]=_0x3034c0;if(window[_0x9da183(0x1bb)])MathJax[_0x9da183(0xd71)]();if(_0x2c42ff){const _0x263f1b=doc(db,_0x9da183(0x6e9)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x9da183(0xc4d)](_0x9da183(0x5ba))?.[_0x9da183(0x5a2)]('click',async()=>{const _0x4c69b2=_0x9da183,_0x37aa4f=Object[_0x4c69b2(0x37f)](_0x162219[_0x4c69b2(0xda5)]||{})['map'](_0x4bfbc6=>({'name':_0x4bfbc6['name'],'score':_0x4bfbc6[_0x4c69b2(0x82f)]||0x0,'totalPoints':_0x4bfbc6[_0x4c69b2(0x670)]||0x0,'pointsLastRound':_0x4bfbc6['pointsLastRound']||0x0,'answers':_0x4bfbc6[_0x4c69b2(0x90b)]||[],'correctStreak':_0x4bfbc6[_0x4c69b2(0xdc2)]||0x0}));await updateDoc(_0x263f1b,{'status':'results','publicLeaderboard':_0x37aa4f});}),document[_0x9da183(0xc4d)]('open-sync-scratchpad-btn')?.[_0x9da183(0x5a2)](_0x9da183(0x4f4),()=>{const _0x12988e=_0x9da183;openScratchpad(_0x4dfdab,_0x4dfdab[_0x12988e(0xa3c)]||[]);}),document[_0x9da183(0xc4d)](_0x9da183(0xbf8))?.[_0x9da183(0x5a2)](_0x9da183(0x4f4),async()=>{const _0x5b8aef=_0x9da183,_0x8ef7ce=_0x162219['currentQuestionIndex']+0x1;await updateDoc(_0x263f1b,{'status':_0x5b8aef(0xbc5),'currentQuestionIndex':_0x8ef7ce,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document['getElementById']('show-final-results-btn')?.['addEventListener']('click',async()=>{const _0x216039=_0x9da183,_0x8e7c7d=Object[_0x216039(0x37f)](_0x162219[_0x216039(0xda5)]||{})[_0x216039(0x546)](_0x5ccc2f=>({'name':_0x5ccc2f['name'],'score':_0x5ccc2f[_0x216039(0x82f)]||0x0,'totalPoints':_0x5ccc2f['totalPoints']||0x0,'pointsLastRound':_0x5ccc2f[_0x216039(0x7f1)]||0x0,'answers':_0x5ccc2f[_0x216039(0x90b)]||[],'correctStreak':_0x5ccc2f['correctStreak']||0x0}));await updateDoc(_0x263f1b,{'status':_0x216039(0x338),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x8e7c7d});});}}function renderAnonymousStudentResultsView(_0x586dc3){const _0x501924=_0x5be2be,_0x2b6c14=_0x586dc3['currentQuestionIndex']>=_0x586dc3[_0x501924(0x1c4)][_0x501924(0xb1f)][_0x501924(0x724)]-0x1;let _0x15d4e8='';if(_0x586dc3[_0x501924(0x1ad)]===!![]){const _0x323106=_0x586dc3[_0x501924(0xda5)][localTeamPlayers[0x0]],_0x415ea4=_0x323106[_0x501924(0x1b0)],_0x25b48e=_0x323106['score'];_0x15d4e8=_0x501924(0xb8e)+_0x415ea4+_0x501924(0x87e)+_0x25b48e+_0x501924(0xb92);}else _0x15d4e8=_0x501924(0xb48)+(_0x2b6c14?_0x501924(0xc69):_0x501924(0x366))+_0x501924(0x427);const _0x5366df=_0x501924(0x730)+_0x15d4e8+_0x501924(0x13e);liveGameView[_0x501924(0x40b)]=_0x5366df;}async function handleShowStudentRankings(){const _0x1609c5=_0x5be2be,_0x464ad5=document[_0x1609c5(0xab2)](_0x1609c5(0x663));_0x464ad5&&(_0x464ad5[_0x1609c5(0x40b)]=_0x1609c5(0xaa0));const _0x1c2f8a=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x1c2f8a&&(_0x1c2f8a[_0x1609c5(0x40b)]=_0x1609c5(0x955));const _0x17234d=document[_0x1609c5(0xc4d)](_0x1609c5(0xce2));_0x17234d[_0x1609c5(0x6f1)][_0x1609c5(0x7d9)](_0x1609c5(0x476)),document['getElementById']('close-student-rankings-btn')[_0x1609c5(0x8f5)]=()=>_0x17234d[_0x1609c5(0x6f1)][_0x1609c5(0x648)]('hidden');const _0xe98819=document[_0x1609c5(0xc4d)](_0x1609c5(0x798)),_0x21b3f7=document[_0x1609c5(0xc4d)](_0x1609c5(0xbf0)),_0x5c0d8c=document[_0x1609c5(0xc4d)](_0x1609c5(0xa4e)),_0xaee193=document[_0x1609c5(0xc4d)](_0x1609c5(0xbde));_0xe98819[_0x1609c5(0x8f5)]=()=>{const _0x1b528e=_0x1609c5;_0xe98819['classList'][_0x1b528e(0x648)]('active'),_0x21b3f7[_0x1b528e(0x6f1)][_0x1b528e(0x7d9)](_0x1b528e(0x970)),_0x5c0d8c['classList'][_0x1b528e(0x7d9)](_0x1b528e(0x476)),_0xaee193['classList'][_0x1b528e(0x648)]('hidden');},_0x21b3f7[_0x1609c5(0x8f5)]=()=>{const _0x275c30=_0x1609c5;_0x21b3f7[_0x275c30(0x6f1)][_0x275c30(0x648)](_0x275c30(0x970)),_0xe98819[_0x275c30(0x6f1)][_0x275c30(0x7d9)](_0x275c30(0x970)),_0xaee193[_0x275c30(0x6f1)][_0x275c30(0x7d9)](_0x275c30(0x476)),_0x5c0d8c[_0x275c30(0x6f1)]['add']('hidden');};try{const _0x232ef0=collection(db,_0x1609c5(0x6e9)+appId+_0x1609c5(0x363)+currentQuizData['id']+_0x1609c5(0x3e4)),_0x1a397d=await getDocs(_0x232ef0),_0x50c920=_0x1a397d[_0x1609c5(0x2b9)]['map'](_0x39c4f8=>_0x39c4f8['data']());renderQuizLeaderboard(_0x50c920,currentQuizData,_0x1609c5(0x9ce));const _0x18df19=collection(db,_0x1609c5(0x6e9)+appId+'/public/data/projects/'+currentQuizData[_0x1609c5(0xbb0)]+_0x1609c5(0x588)),_0x51a051=await getDocs(_0x18df19),_0x118faf=_0x51a051[_0x1609c5(0x2b9)][_0x1609c5(0x546)](_0x35f2=>_0x35f2[_0x1609c5(0x1de)]());renderLeaderboard(_0x118faf,_0x1609c5(0x5eb));}catch(_0x2fedf8){console['error'](_0x1609c5(0xc2c),_0x2fedf8),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x28c802){const _0xc7cfe9=_0x5be2be,_0x439b50=_0x28c802[_0xc7cfe9(0x53f)],_0x2197c9=_0x439b50[_0xc7cfe9(0xa2c)][_0xc7cfe9(0xcb4)],_0x4c2284=currentQuizData[_0xc7cfe9(0xb1f)][_0x2197c9];if(!userId){showMessage(_0xc7cfe9(0xce0));return;}try{const _0x4beb5b={..._0x4c2284,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x957fec=collection(db,_0xc7cfe9(0x6e9)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x957fec,_0x4beb5b),showMessage(_0xc7cfe9(0xca0)),_0x439b50[_0xc7cfe9(0x6f1)][_0xc7cfe9(0x7d9)](_0xc7cfe9(0x8a3)),_0x439b50[_0xc7cfe9(0x6f1)][_0xc7cfe9(0x648)]('text-green-600'),_0x439b50[_0xc7cfe9(0xbb3)]=!![];}catch(_0x13af5d){console[_0xc7cfe9(0x339)](_0xc7cfe9(0x2de),_0x13af5d),showMessage(_0xc7cfe9(0x979));}}async function selectProjectAndGenerateBlueprintQuiz(_0x7f796d,_0x269881=null,_0x24ba47=null,_0x586d48=![]){const _0x16ba51=_0x5be2be;cameFromBlueprint=!![];const _0x4de640=document[_0x16ba51(0xc4d)](_0x16ba51(0x46e))?.[_0x16ba51(0x1ce)][_0x16ba51(0x2ce)]();let _0x565389=null;if(_0x4de640){showMessage(_0x16ba51(0x66b));try{const _0x422204=await fetchFileFromUrl(_0x4de640,_0x16ba51(0xddc)),_0x17b639=await new Promise((_0x1b80ec,_0x274418)=>{const _0x3ce4a7=_0x16ba51,_0x556917=new FileReader();_0x556917[_0x3ce4a7(0x63e)](_0x422204),_0x556917['onload']=()=>_0x1b80ec(_0x556917[_0x3ce4a7(0xdd3)][_0x3ce4a7(0xcb0)](',')[0x1]),_0x556917[_0x3ce4a7(0x255)]=_0x274418;});_0x565389=[{'inlineData':{'mimeType':_0x422204[_0x16ba51(0xd50)],'data':_0x17b639}}],messageModal[_0x16ba51(0x6f1)]['add']('hidden');}catch(_0x547f6e){console[_0x16ba51(0x339)](_0x16ba51(0xbd6),_0x547f6e),showMessage(_0x16ba51(0xd4d));}}const _0x53c3de=document['getElementById'](_0x16ba51(0xc6b)),_0x44be9d=document[_0x16ba51(0xc4d)](_0x16ba51(0xba7)),_0x12fe48=_0x53c3de[_0x16ba51(0xab2)]('h3'),_0x320199=document[_0x16ba51(0xc4d)](_0x16ba51(0x572)),_0x5a794d=document[_0x16ba51(0xc4d)]('cancel-move-quiz-btn');_0x12fe48[_0x16ba51(0x4c4)]=_0x16ba51(0x78a),_0x320199[_0x16ba51(0x4c4)]=_0x16ba51(0xcca),_0x320199[_0x16ba51(0xbb3)]=!![];allProjects[_0x16ba51(0x724)]===0x0?_0x44be9d[_0x16ba51(0x40b)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x44be9d[_0x16ba51(0x40b)]=_0x16ba51(0xdd1)+allProjects[_0x16ba51(0x546)](_0x43b35e=>_0x16ba51(0x813)+_0x43b35e['id']+'\x22>'+_0x43b35e[_0x16ba51(0xb8b)]+_0x16ba51(0xa37))[_0x16ba51(0x625)](''),_0x320199[_0x16ba51(0xbb3)]=![]);_0x53c3de[_0x16ba51(0x6f1)][_0x16ba51(0x7d9)](_0x16ba51(0x476));const _0x4a81ac=async()=>{const _0x4ee70a=_0x16ba51,_0x25a425=_0x44be9d[_0x4ee70a(0x1ce)];if(!_0x25a425){showMessage(_0x4ee70a(0x398));return;}_0x53c3de['classList']['add'](_0x4ee70a(0x476)),document['getElementById'](_0x4ee70a(0x1b7))['classList'][_0x4ee70a(0x648)](_0x4ee70a(0x476)),await loadProjectDetails(_0x25a425),showView(_0x4ee70a(0x5e1)),handleGenerateQuizFromBlueprintTopic(_0x7f796d,_0x269881,_0x25a425,_0x24ba47,_0x586d48,_0x565389),_0x2fa4c0();},_0x2fa4c0=()=>{const _0x502c6f=_0x16ba51;_0x12fe48[_0x502c6f(0x4c4)]=_0x502c6f(0xb6e),_0x320199[_0x502c6f(0x4c4)]=_0x502c6f(0x559),_0x320199[_0x502c6f(0xdfc)]('click',_0x4a81ac),_0x5a794d[_0x502c6f(0xdfc)](_0x502c6f(0x4f4),_0x2fa4c0),_0x320199[_0x502c6f(0x5a2)](_0x502c6f(0x4f4),confirmMoveQuiz);};_0x320199[_0x16ba51(0xdfc)](_0x16ba51(0x4f4),confirmMoveQuiz),_0x320199[_0x16ba51(0x5a2)](_0x16ba51(0x4f4),_0x4a81ac),_0x5a794d['addEventListener']('click',_0x2fa4c0);}function listenForStarredQuizzes(){const _0x52d659=_0x5be2be;if(!userId)return;const _0x23fa6e=collection(db,_0x52d659(0x6e9)+appId+_0x52d659(0x42c)),_0x58cd08=query(_0x23fa6e,where('isStarred','==',!![]));onSnapshot(_0x58cd08,_0x4808c4=>{const _0x10cdf=_0x52d659;starredQuizzes=_0x4808c4[_0x10cdf(0x2b9)][_0x10cdf(0x546)](_0x5bd005=>({'id':_0x5bd005['id'],..._0x5bd005[_0x10cdf(0x1de)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x460fce=>{const _0x4374ab=_0x52d659;console[_0x4374ab(0x339)](_0x4374ab(0xcc6),_0x460fce);});}function listenForFileShortcuts(){const _0x235a5b=_0x5be2be,_0x3d3f18=doc(db,_0x235a5b(0x789),'fileShortcutsConfig');onSnapshot(_0x3d3f18,_0x5496ee=>{const _0x4c378f=_0x235a5b;let _0x11ecc5=[],_0x22a17f=[],_0x5dbd5d={};if(_0x5496ee['exists']()){const _0x345fe1=_0x5496ee[_0x4c378f(0x1de)]();_0x11ecc5=_0x345fe1[_0x4c378f(0x1fd)]||[],_0x22a17f=_0x345fe1[_0x4c378f(0x3f1)]||[],_0x5dbd5d=_0x345fe1['fileShortcutOrder']||{};}!_0x22a17f[_0x4c378f(0x35d)](_0x4c294a=>_0x4c294a['id']===_0x4c378f(0x1d5))&&_0x22a17f[_0x4c378f(0x8cc)]({'id':_0x4c378f(0x1d5),'name':_0x4c378f(0x7c9),'isDefault':!![]}),!_0x11ecc5[_0x4c378f(0x35d)](_0x4c77fe=>_0x4c77fe['id']===_0x4c378f(0x59b))&&_0x11ecc5[_0x4c378f(0x8cc)]({'id':'file-default-1','name':_0x4c378f(0xe27),'url':'','isDefault':!![]}),!_0x11ecc5['find'](_0x62b292=>_0x62b292['id']==='file-default-2')&&_0x11ecc5[_0x4c378f(0x8cc)]({'id':_0x4c378f(0x45d),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x11ecc5,fileShortcutTabs=_0x22a17f,fileShortcutOrder=_0x5dbd5d,renderFileShortcuts(),!document[_0x4c378f(0xc4d)]('additional-file-shortcuts-modal')[_0x4c378f(0x6f1)][_0x4c378f(0x913)](_0x4c378f(0x476))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x54e824=_0x5be2be,_0x2b1457=doc(db,_0x54e824(0x789),_0x54e824(0x310));try{await setDoc(_0x2b1457,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x374ff5){console[_0x54e824(0x339)](_0x54e824(0xb06),_0x374ff5);}}function renderAdditionalFileShortcutsModal(){const _0x3c7d72=_0x5be2be,_0x3fb086=document[_0x3c7d72(0xc4d)](_0x3c7d72(0x532)),_0x5c35c5=document[_0x3c7d72(0xc4d)](_0x3c7d72(0xccb));if(!_0x3fb086||!_0x5c35c5)return;_0x3fb086[_0x3c7d72(0x40b)]=fileShortcutTabs[_0x3c7d72(0x546)](_0x32b454=>{const _0x398d3e=_0x3c7d72,_0x520edc=_0x32b454['id']===activeFileShortcutTabId;return _0x398d3e(0xb60)+_0x32b454['id']+_0x398d3e(0xc68)+(_0x520edc?_0x398d3e(0x475):_0x398d3e(0x3f2))+_0x398d3e(0x8ae)+_0x32b454[_0x398d3e(0x1b0)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x32b454[_0x398d3e(0x1b0)]+_0x398d3e(0xa40)+(!_0x32b454[_0x398d3e(0xcd8)]?_0x398d3e(0xacc)+_0x32b454['id']+_0x398d3e(0x5a0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3c7d72(0x625)]('');const _0x56a4b6=fileShortcutTabs['find'](_0x17d9fb=>_0x17d9fb['id']===activeFileShortcutTabId);let _0x495145=_0x56a4b6?.[_0x3c7d72(0xcd8)]?[...fileShortcuts]:fileShortcuts[_0x3c7d72(0x6e1)](_0x59389b=>(_0x56a4b6?.[_0x3c7d72(0x125)]||[])['includes'](_0x59389b['id']));const _0x356bc2=fileShortcutOrder[activeFileShortcutTabId]||[];_0x495145[_0x3c7d72(0x332)]((_0x49c969,_0x3cfc91)=>{const _0x35cd63=_0x3c7d72,_0x2e3b66=_0x356bc2[_0x35cd63(0xe5b)](_0x49c969['id']),_0x5c49e0=_0x356bc2[_0x35cd63(0xe5b)](_0x3cfc91['id']);return(_0x2e3b66===-0x1?Infinity:_0x2e3b66)-(_0x5c49e0===-0x1?Infinity:_0x5c49e0);}),_0x5c35c5[_0x3c7d72(0x40b)]=_0x495145[_0x3c7d72(0x546)](_0x2ca3bd=>{const _0x288dee=_0x3c7d72,_0x431480=_0x2ca3bd['url']?'📄':'🔗',_0x245687=fileShortcutTabs[_0x288dee(0x6e1)](_0x356bef=>!_0x356bef[_0x288dee(0xcd8)]),_0x155ac7=_0x56a4b6[_0x288dee(0xcd8)]&&_0x245687[_0x288dee(0x724)]>0x0?_0x288dee(0x9a8)+_0x245687[_0x288dee(0x546)](_0x35d8e4=>_0x288dee(0x164)+_0x2ca3bd['id']+_0x288dee(0x92a)+_0x35d8e4['id']+'\x22>'+_0x35d8e4[_0x288dee(0x1b0)]+_0x288dee(0x328))[_0x288dee(0x625)]('')+_0x288dee(0x978):'';return _0x288dee(0x839)+_0x2ca3bd['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x431480+'\x20'+_0x2ca3bd[_0x288dee(0x1b0)]+_0x288dee(0xe4e)+_0x2ca3bd['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ca3bd['id']+_0x288dee(0xbdc)+(!_0x2ca3bd['isDefault']?_0x288dee(0x231)+_0x2ca3bd['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x56a4b6['isDefault']?_0x288dee(0x948)+_0x2ca3bd['id']+_0x288dee(0xd12):'')+_0x288dee(0xf7)+_0x155ac7+_0x288dee(0x3a9);})[_0x3c7d72(0x625)]('')||_0x3c7d72(0xa36),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x387469=_0x5be2be;document['querySelectorAll'](_0x387469(0x10e))[_0x387469(0xd75)](_0x4a236d=>{const _0x49c09d=_0x387469;_0x4a236d[_0x49c09d(0x8f5)]=_0x392d6c=>{const _0x23490f=_0x49c09d;activeFileShortcutTabId=_0x392d6c[_0x23490f(0x53f)][_0x23490f(0xa2c)][_0x23490f(0xae5)],renderAdditionalFileShortcutsModal();},_0x4a236d[_0x49c09d(0x921)]=_0x36531b=>{const _0x3243fe=_0x49c09d,_0x4cc3e0=_0x36531b[_0x3243fe(0x53f)][_0x3243fe(0xab2)](_0x3243fe(0x6ff));_0x36531b[_0x3243fe(0x53f)]['querySelector']('.tab-name-display')[_0x3243fe(0x6f1)][_0x3243fe(0x648)]('hidden'),_0x4cc3e0['classList'][_0x3243fe(0x7d9)](_0x3243fe(0x476)),_0x4cc3e0[_0x3243fe(0xc44)](),_0x4cc3e0['select']();};}),document[_0x387469(0x760)](_0x387469(0xcbe))['forEach'](_0x5c7ef5=>{const _0x28a86e=_0x387469,_0x11fb0d=()=>{const _0x120bed=_0x46b4,_0xe98ae2=_0x5c7ef5[_0x120bed(0xac5)](_0x120bed(0x10e))[_0x120bed(0xa2c)][_0x120bed(0xae5)],_0x49dfa9=fileShortcutTabs['find'](_0x2c3828=>_0x2c3828['id']===_0xe98ae2);_0x49dfa9&&(_0x49dfa9[_0x120bed(0x1b0)]=_0x5c7ef5[_0x120bed(0x1ce)][_0x120bed(0x2ce)]()||_0x49dfa9[_0x120bed(0x1b0)],saveFileShortcutConfig());};_0x5c7ef5[_0x28a86e(0xe4c)]=_0x11fb0d,_0x5c7ef5['onkeydown']=_0x1f05bc=>{const _0x11dc94=_0x28a86e;if(_0x1f05bc[_0x11dc94(0x19f)]==='Enter')_0x5c7ef5[_0x11dc94(0x1be)]();};}),document['querySelectorAll'](_0x387469(0x9f1))[_0x387469(0xd75)](_0x271956=>_0x271956[_0x387469(0x8f5)]=_0x21c091=>{const _0x255169=_0x387469,_0x5dd7c8=_0x21c091[_0x255169(0x53f)][_0x255169(0xa2c)]['tabId'];showConfirmation(_0x255169(0x65e),()=>{const _0x4511a2=_0x255169;fileShortcutTabs=fileShortcutTabs[_0x4511a2(0x6e1)](_0xb08dc5=>_0xb08dc5['id']!==_0x5dd7c8),delete fileShortcutOrder[_0x5dd7c8];if(activeFileShortcutTabId===_0x5dd7c8)activeFileShortcutTabId=_0x4511a2(0x1d5);saveFileShortcutConfig();});}),document[_0x387469(0x760)](_0x387469(0x1cf))['forEach'](_0x23eafd=>_0x23eafd[_0x387469(0x8f5)]=_0x3ebb34=>{const _0x1a0dc0=_0x387469;_0x3ebb34[_0x1a0dc0(0xaa3)]();const {shortcutId:_0x298a6c,targetTabId:_0x32273e}=_0x3ebb34[_0x1a0dc0(0x53f)]['dataset'],_0x171301=fileShortcutTabs['find'](_0x64ffce=>_0x64ffce['id']===_0x32273e);_0x171301&&!_0x171301[_0x1a0dc0(0x125)][_0x1a0dc0(0xe4a)](_0x298a6c)&&(_0x171301[_0x1a0dc0(0x125)][_0x1a0dc0(0x633)](_0x298a6c),saveFileShortcutConfig());}),document[_0x387469(0x760)](_0x387469(0x1bc))[_0x387469(0xd75)](_0x202197=>_0x202197[_0x387469(0x8f5)]=_0x36d30f=>{const _0x5ae16a=_0x387469,_0x12b88c=_0x36d30f[_0x5ae16a(0x53f)][_0x5ae16a(0xa2c)]['shortcutId'],_0x2141a9=fileShortcutTabs['find'](_0x5e1847=>_0x5e1847['id']===activeFileShortcutTabId);_0x2141a9&&!_0x2141a9[_0x5ae16a(0xcd8)]&&(_0x2141a9[_0x5ae16a(0x125)]=_0x2141a9[_0x5ae16a(0x125)][_0x5ae16a(0x6e1)](_0x4b023f=>_0x4b023f!==_0x12b88c),saveFileShortcutConfig());}),document[_0x387469(0x760)]('.move-file-shortcut-menu-btn')[_0x387469(0xd75)](_0x284134=>_0x284134['onclick']=_0x30782c=>{const _0x59169d=_0x387469;_0x30782c[_0x59169d(0x46c)]();const _0x31c69a=_0x30782c[_0x59169d(0x53f)][_0x59169d(0xd65)];document[_0x59169d(0x760)](_0x59169d(0x812))[_0x59169d(0xd75)](_0x23c1e0=>_0x23c1e0[_0x59169d(0x6f1)][_0x59169d(0x648)](_0x59169d(0x476))),_0x31c69a[_0x59169d(0x6f1)][_0x59169d(0x7d9)]('hidden');});const _0xb5d87b=document[_0x387469(0xc4d)](_0x387469(0xccb));let _0x22abda=null;_0xb5d87b[_0x387469(0x5cf)]=_0x3d805f=>{const _0x259f31=_0x387469;_0x22abda=_0x3d805f[_0x259f31(0xa35)][_0x259f31(0xac5)](_0x259f31(0x705));if(_0x22abda)setTimeout(()=>_0x22abda[_0x259f31(0x6f1)]['add']('opacity-50'),0x0);},_0xb5d87b[_0x387469(0x5ed)]=()=>{const _0xbb05d4=_0x387469;_0x22abda&&(_0x22abda['classList'][_0xbb05d4(0x7d9)]('opacity-50'),_0x22abda=null);},_0xb5d87b['ondragover']=_0x29ad81=>{_0x29ad81['preventDefault']();},_0xb5d87b[_0x387469(0x9dc)]=_0x2e8a4a=>{const _0x15fbd7=_0x387469;_0x2e8a4a[_0x15fbd7(0xaa3)]();if(_0x22abda){const _0x5a0768=[..._0xb5d87b['querySelectorAll'](_0x15fbd7(0x94d))][_0x15fbd7(0xd5b)]((_0x8b8f61,_0x47e918)=>{const _0xa6d5cb=_0x15fbd7,_0x463465=_0x47e918['getBoundingClientRect'](),_0x73fc26=_0x2e8a4a[_0xa6d5cb(0x769)]-_0x463465['top']-_0x463465[_0xa6d5cb(0x5fe)]/0x2;return _0x73fc26<0x0&&_0x73fc26>_0x8b8f61[_0xa6d5cb(0x31d)]?{'offset':_0x73fc26,'element':_0x47e918}:_0x8b8f61;},{'offset':Number['NEGATIVE_INFINITY']})[_0x15fbd7(0x3a1)];_0x5a0768==null?_0xb5d87b[_0x15fbd7(0xe03)](_0x22abda):_0xb5d87b[_0x15fbd7(0x5d2)](_0x22abda,_0x5a0768);const _0x5ab198=[..._0xb5d87b[_0x15fbd7(0x760)](_0x15fbd7(0x705))][_0x15fbd7(0x546)](_0x3f4ad0=>_0x3f4ad0[_0x15fbd7(0xa2c)][_0x15fbd7(0xa6e)]);fileShortcutOrder[activeFileShortcutTabId]=_0x5ab198,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x1b5c7c=_0x5be2be,_0x4bf73a=prompt(_0x1b5c7c(0x1c0),_0x1b5c7c(0x34a));_0x4bf73a&&_0x4bf73a[_0x1b5c7c(0x2ce)]()&&(fileShortcutTabs[_0x1b5c7c(0x633)]({'id':'tab_'+Date[_0x1b5c7c(0xe3e)](),'name':_0x4bf73a[_0x1b5c7c(0x2ce)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x1d21bd=_0x5be2be,_0x2947e1=document['getElementById'](_0x1d21bd(0xc15)),_0x2b5fe5=document['getElementById'](_0x1d21bd(0xccb)),_0x4565bc=document['getElementById'](_0x1d21bd(0xdc));if(_0x4565bc)_0x4565bc[_0x1d21bd(0x6f1)][_0x1d21bd(0x648)]('hidden');if(!_0x2947e1||!_0x2b5fe5)return;const _0x4de7f2=fileShortcuts[_0x1d21bd(0x647)](0x0,0x4),_0x1793f5=fileShortcuts[_0x1d21bd(0x647)](0x4);_0x2947e1[_0x1d21bd(0x40b)]=_0x4de7f2['map'](_0x40e934=>{const _0x46299d=_0x1d21bd,_0x24e12f=_0x40e934[_0x46299d(0x308)]&&_0x40e934['url'][_0x46299d(0x2ce)]()!=='',_0x577dab=selectedFile&&selectedFile[_0x46299d(0xa6e)]===_0x40e934['id'];let _0x19ff60='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x94c8e8='🔗';if(_0x577dab)_0x19ff60=_0x46299d(0x7ec),_0x94c8e8=_0x46299d(0xa34);else _0x24e12f&&(_0x19ff60='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x94c8e8='📄');const _0x331ebc=!_0x40e934['isDefault']?_0x46299d(0x231)+_0x40e934['id']+_0x46299d(0xa10):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x40e934['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x19ff60+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x94c8e8+_0x46299d(0x681)+_0x40e934[_0x46299d(0x1b0)]+_0x46299d(0x5af)+_0x40e934['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x331ebc+_0x46299d(0x3cf);})[_0x1d21bd(0x625)](''),_0x1793f5['length']>0x0&&(_0x2947e1[_0x1d21bd(0x40b)]+=_0x1d21bd(0x942)),_0x1793f5['length']>0x0?_0x2b5fe5[_0x1d21bd(0x40b)]=_0x1793f5[_0x1d21bd(0x546)](_0x1d3b16=>_0x1d21bd(0xe68)+(_0x1d3b16['url']?'📄':'🔗')+'\x20'+_0x1d3b16[_0x1d21bd(0x1b0)]+_0x1d21bd(0xcf7)+_0x1d3b16['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d3b16['id']+_0x1d21bd(0x858)+(!_0x1d3b16[_0x1d21bd(0xcd8)]?_0x1d21bd(0x231)+_0x1d3b16['id']+_0x1d21bd(0x503):'')+_0x1d21bd(0x20c))['join'](''):_0x2b5fe5[_0x1d21bd(0x40b)]=_0x1d21bd(0x1dd);}function openFileShortcutEditor(_0x894c8=null){const _0x5dd5be=_0x5be2be,_0x5e9a2a=document['getElementById'](_0x5dd5be(0x563)),_0x451649=document['getElementById'](_0x5dd5be(0x194)),_0x457cfa=document[_0x5dd5be(0xc4d)]('file-shortcut-id-input'),_0x4693ee=document[_0x5dd5be(0xc4d)]('file-shortcut-name-input'),_0x37890e=document['getElementById'](_0x5dd5be(0x594));if(_0x894c8){const _0x210ef6=fileShortcuts[_0x5dd5be(0x35d)](_0x4b6ece=>_0x4b6ece['id']===_0x894c8);if(!_0x210ef6)return;_0x451649[_0x5dd5be(0x4c4)]=_0x5dd5be(0x6d0),_0x457cfa[_0x5dd5be(0x1ce)]=_0x210ef6['id'],_0x4693ee[_0x5dd5be(0x1ce)]=_0x210ef6['name'],_0x37890e[_0x5dd5be(0x1ce)]=_0x210ef6[_0x5dd5be(0x308)]||'';}else _0x451649[_0x5dd5be(0x4c4)]=_0x5dd5be(0x35b),_0x457cfa['value']='',_0x4693ee[_0x5dd5be(0x1ce)]='',_0x37890e[_0x5dd5be(0x1ce)]='';_0x5e9a2a[_0x5dd5be(0x6f1)][_0x5dd5be(0x7d9)](_0x5dd5be(0x476));}async function saveFileShortcutChanges(){const _0x4503b3=_0x5be2be,_0x5f24d8=document[_0x4503b3(0xc4d)](_0x4503b3(0x9d4))[_0x4503b3(0x1ce)],_0x13e849=document[_0x4503b3(0xc4d)](_0x4503b3(0xa49))['value'][_0x4503b3(0x2ce)](),_0x5e73e9=document['getElementById'](_0x4503b3(0x594))[_0x4503b3(0x1ce)][_0x4503b3(0x2ce)]();if(!_0x13e849){showMessage(_0x4503b3(0xabd));return;}const _0xd60e59={'id':_0x5f24d8||_0x4503b3(0x9b5)+Date[_0x4503b3(0xe3e)](),'name':_0x13e849,'url':_0x5e73e9,'isDefault':_0x5f24d8['startsWith'](_0x4503b3(0x718))};let _0x1a9c46;_0x5f24d8?_0x1a9c46=fileShortcuts[_0x4503b3(0x546)](_0x1fe957=>_0x1fe957['id']===_0x5f24d8?_0xd60e59:_0x1fe957):_0x1a9c46=[...fileShortcuts,_0xd60e59];try{const _0x1dea21=doc(db,'globalSettings',_0x4503b3(0x310));await setDoc(_0x1dea21,{'shortcuts':_0x1a9c46},{'merge':!![]}),document[_0x4503b3(0xc4d)]('file-shortcut-editor-modal')['classList'][_0x4503b3(0x648)](_0x4503b3(0x476));}catch(_0x21a238){console['error'](_0x4503b3(0x8de),_0x21a238),showMessage(_0x4503b3(0x979));}}async function handleFileShortcutClick(_0x4bf087){const _0x13b0bf=_0x5be2be,_0x49b297=fileShortcuts['find'](_0x194070=>_0x194070['id']===_0x4bf087);if(!_0x49b297)return;if(!_0x49b297['url']||_0x49b297[_0x13b0bf(0x308)][_0x13b0bf(0x2ce)]()===''){openFileShortcutEditor(_0x4bf087);return;}const _0x43396d=document[_0x13b0bf(0xab2)](_0x13b0bf(0x3d6)+_0x4bf087+'\x22]');if(_0x43396d){const _0x3f1945=_0x43396d[_0x13b0bf(0x40b)];_0x43396d['innerHTML']=_0x13b0bf(0x7d3),_0x43396d[_0x13b0bf(0xbb3)]=!![];}document['querySelectorAll']('.file-shortcut-btn')['forEach'](_0x494edc=>{const _0x9ed1f=_0x13b0bf;if(_0x494edc[_0x9ed1f(0xa2c)]['id']!==_0x4bf087)_0x494edc['classList'][_0x9ed1f(0x648)](_0x9ed1f(0x405),_0x9ed1f(0xdf4));});try{const _0x222433=new URL(_0x49b297[_0x13b0bf(0x308)])[_0x13b0bf(0x25c)],_0x1f9adc=_0x222433[_0x13b0bf(0xaaa)](_0x222433[_0x13b0bf(0x5ae)]('/')+0x1)||(_0x49b297[_0x13b0bf(0x308)][_0x13b0bf(0xe4a)](_0x13b0bf(0x105))?'file.txt':_0x13b0bf(0x94f)),_0x34e4e5=await fetchFileFromUrl(_0x49b297[_0x13b0bf(0x308)],_0x1f9adc);_0x34e4e5['shortcutId']=_0x4bf087,selectedFile=_0x34e4e5,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x13b0bf(0xc4d)](_0x13b0bf(0x9db))[_0x13b0bf(0xe39)]({'behavior':_0x13b0bf(0xe2f),'block':_0x13b0bf(0x2b3)});}catch(_0x557353){console[_0x13b0bf(0x339)](_0x13b0bf(0x374),_0x557353),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x557353[_0x13b0bf(0xba5)]),renderFileShortcuts();}finally{document[_0x13b0bf(0x760)]('.file-shortcut-btn')[_0x13b0bf(0xd75)](_0x320808=>{const _0x4a0a28=_0x13b0bf;_0x320808['classList'][_0x4a0a28(0x7d9)](_0x4a0a28(0x405),'pointer-events-none'),_0x320808[_0x4a0a28(0xbb3)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x195808=_0x5be2be;if(allQuizzesGlobal['length']>0x0)return;console[_0x195808(0xbe2)](_0x195808(0xc8f)),showMessage(_0x195808(0xa6f));try{const _0x57e776=await getDocs(collection(db,_0x195808(0x6e9)+appId+_0x195808(0x42c)));allQuizzesGlobal=_0x57e776[_0x195808(0x2b9)][_0x195808(0x546)](_0x1b4bca=>({'id':_0x1b4bca['id'],..._0x1b4bca['data']()})),console[_0x195808(0xbe2)](_0x195808(0x2c2)+allQuizzesGlobal[_0x195808(0x724)]+_0x195808(0x766)),messageModal[_0x195808(0x6f1)][_0x195808(0x648)](_0x195808(0x476));}catch(_0xc2e73c){console[_0x195808(0x339)](_0x195808(0x547),_0xc2e73c),messageModal[_0x195808(0x6f1)][_0x195808(0x648)](_0x195808(0x476));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x1f2847=_0x5be2be;if(!currentQuizData||!currentQuizData[_0x1f2847(0xb1f)]){showMessage(_0x1f2847(0xdfa));return;}const _0x54ebaf=currentQuizData,_0x2fab55=window['open']('',_0x1f2847(0xe57)),_0x35c71a=_0x4ece1f=>String[_0x1f2847(0x2e6)](0x41+_0x4ece1f),_0x2410d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x54ebaf[_0x1f2847(0x380)]+_0x1f2847(0x908)+_0x54ebaf[_0x1f2847(0x380)]+_0x1f2847(0x3b6)+_0x54ebaf['questions'][_0x1f2847(0x546)]((_0x654aa7,_0x27b673)=>{const _0x208d68=_0x1f2847;let _0xc1599c='';const _0x5c0947=_0x654aa7[_0x208d68(0xc7b)]||_0x54ebaf['quizType'];switch(_0x5c0947){case _0x208d68(0x807):case _0x208d68(0x60d):_0xc1599c=_0x208d68(0xd7)+_0x654aa7['options'][_0x208d68(0x546)]((_0x269eee,_0xa3e10e)=>_0x208d68(0x6e3)+_0x35c71a(_0xa3e10e)+'.\x20'+_0x269eee+_0x208d68(0xbe5))[_0x208d68(0x625)]('<br>')+_0x208d68(0xcf0);break;case _0x208d68(0xd99):_0xc1599c=_0x208d68(0x4fe);break;default:_0xc1599c=_0x208d68(0xa0e);break;}return _0x208d68(0x199)+(_0x27b673+0x1)+_0x208d68(0xd9)+(_0x654aa7[_0x208d68(0xb4a)]||_0x654aa7[_0x208d68(0x9b3)])+_0x208d68(0x5d7)+(_0x654aa7[_0x208d68(0x145)]?'<div\x20class=\x22my-2\x22>'+_0x654aa7['imageCode']+'</div>':'')+_0x208d68(0x4a3)+_0xc1599c+_0x208d68(0x2c8);})['join']('')+_0x1f2847(0x777);_0x2fab55[_0x1f2847(0x6fd)][_0x1f2847(0x32e)](_0x2410d3),_0x2fab55[_0x1f2847(0x6fd)][_0x1f2847(0x5e2)](),_0x2fab55[_0x1f2847(0x397)]=function(){setTimeout(()=>{const _0x2a1295=_0x46b4;_0x2fab55[_0x2a1295(0x573)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x35f4c9=_0x5be2be;if(!currentQuizData||!currentQuizData[_0x35f4c9(0xb1f)]){showMessage(_0x35f4c9(0xdfa));return;}const _0x919192=currentQuizData,_0x5e648a=window[_0x35f4c9(0x510)]('',_0x35f4c9(0xe57)),_0x4fb698=_0x438160=>String[_0x35f4c9(0x2e6)](0x41+_0x438160),_0x1bafe1=_0x35f4c9(0x9be)+_0x919192[_0x35f4c9(0x380)]+_0x35f4c9(0x8d5)+_0x919192[_0x35f4c9(0xb1f)][_0x35f4c9(0x546)]((_0x26dabd,_0x25b7f6)=>{const _0x559111=_0x35f4c9;let _0x15b784='';const _0x28c61a=_0x26dabd[_0x559111(0xc7b)]||_0x919192['quizType'];switch(_0x28c61a){case _0x559111(0x807):case'fill_in_with_choices':_0x15b784=_0x559111(0xf2)+_0x26dabd['options'][_0x559111(0x546)]((_0x4a8bc2,_0x401b5b)=>_0x559111(0x7c0)+_0x4fb698(_0x401b5b)+'.\x20'+_0x4a8bc2+_0x559111(0xdf9))[_0x559111(0x625)](_0x559111(0x8c5))+_0x559111(0x9e2);break;case _0x559111(0xd99):_0x15b784=_0x559111(0x4ea);break;default:_0x15b784='';break;}return _0x559111(0x620)+_0x919192[_0x559111(0x380)]+_0x559111(0x417)+(_0x25b7f6+0x1)+_0x559111(0x38b)+(_0x26dabd[_0x559111(0xb4a)]||_0x26dabd['questionText'])+_0x559111(0x5d7)+(_0x26dabd[_0x559111(0x145)]?_0x559111(0xdb6)+_0x26dabd[_0x559111(0x145)]+_0x559111(0xcf0):'')+_0x559111(0x4a3)+_0x15b784+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x35f4c9(0x625)]('')+_0x35f4c9(0x784);_0x5e648a[_0x35f4c9(0x6fd)][_0x35f4c9(0x32e)](_0x1bafe1),_0x5e648a[_0x35f4c9(0x6fd)]['close'](),_0x5e648a[_0x35f4c9(0x397)]=function(){setTimeout(()=>{const _0x2ad056=_0x46b4;_0x5e648a[_0x2ad056(0x573)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2043bc){const _0xcbb241=_0x5be2be,_0x536101=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2043bc);try{const _0x5b540d=await getDoc(_0x536101);if(_0x5b540d[_0xcbb241(0x509)]()){const _0x4c759a=_0x5b540d[_0xcbb241(0x1de)]()[_0xcbb241(0xe61)]||![];await updateDoc(_0x536101,{'isStarred':!_0x4c759a});}}catch(_0xf81bc7){console[_0xcbb241(0x339)]('Error\x20toggling\x20star\x20status:',_0xf81bc7),showMessage(_0xcbb241(0x444));}}async function displayQuestionBank(){const _0xeff024=_0x5be2be,_0x52b924=document[_0xeff024(0xc4d)]('bank-input-area');_0x52b924[_0xeff024(0x40b)]=_0xeff024(0xe65);try{const _0x17fd4b=collection(db,_0xeff024(0x6e9)+appId+_0xeff024(0x31f)+userId+_0xeff024(0xe9)),_0x4bd170=query(_0x17fd4b),_0x1b4e84=await getDocs(_0x4bd170);if(_0x1b4e84[_0xeff024(0xdbf)]){_0x52b924['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x4499c7=_0x1b4e84['docs'][_0xeff024(0x546)](_0x282b4e=>{const _0x4fc6cc=_0xeff024,_0x262de3=_0x282b4e[_0x4fc6cc(0x1de)](),_0x42cd64=_0x282b4e['id'];return _0x4fc6cc(0x40a)+JSON[_0x4fc6cc(0x3f3)](_0x262de3)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x262de3[_0x4fc6cc(0x9b3)]||_0x262de3[_0x4fc6cc(0xb4a)])+_0x4fc6cc(0x8f2)+_0x262de3[_0x4fc6cc(0x912)]+_0x4fc6cc(0x867);})[_0xeff024(0x625)]('');_0x52b924[_0xeff024(0x40b)]=_0xeff024(0x5ec)+_0x4499c7+_0xeff024(0x750),document['getElementById'](_0xeff024(0x479))[_0xeff024(0x5a2)]('click',createQuizFromBank);}catch(_0x33570e){console[_0xeff024(0x339)]('Error\x20displaying\x20question\x20bank:',_0x33570e),_0x52b924['innerHTML']=_0xeff024(0xdeb);}}async function handleExportLessonToPDF(){const _0x58f635=_0x5be2be,_0x346d2f=document[_0x58f635(0xc4d)](_0x58f635(0x5ab)),_0x309f86=document[_0x58f635(0xc4d)](_0x58f635(0x8d9))[_0x58f635(0x4c4)]||'บทเรียน';if(!_0x346d2f){showMessage(_0x58f635(0x9ed));return;}const _0x1ef53c=window['open']('',_0x58f635(0xe57)),_0x4834a1=_0x58f635(0x53a)+_0x309f86+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x309f86+_0x58f635(0x8be)+_0x346d2f[_0x58f635(0x40b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1ef53c['document'][_0x58f635(0x32e)](_0x4834a1),_0x1ef53c[_0x58f635(0x6fd)][_0x58f635(0x5e2)](),_0x1ef53c['onload']=function(){setTimeout(()=>{const _0x27c1d6=_0x46b4;_0x1ef53c[_0x27c1d6(0x573)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5e0ba2,_0xd2f8ee,_0x20f6c7){const _0xe94962=_0x5be2be,_0x50e657=_0x5e0ba2[_0xe94962(0xc7b)]||currentQuizData[_0xe94962(0xd93)];let _0x7a41b5='';if(_0x50e657===_0xe94962(0x807)||_0x50e657===_0xe94962(0xd99)){const _0x370e14=_0x50e657===_0xe94962(0xd99)?['ใช่',_0xe94962(0xdba)]:_0x5e0ba2[_0xe94962(0xa3c)],_0x580678=_0x50e657===_0xe94962(0xd99)?_0x5e0ba2[_0xe94962(0x66a)]?0x0:0x1:_0x5e0ba2[_0xe94962(0x6cf)];_0x7a41b5=_0x370e14[_0xe94962(0x546)]((_0x56901e,_0x539a3d)=>_0xe94962(0xa7b)+(_0x539a3d===_0x580678)+_0xe94962(0x98a)+_0x56901e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xe94962(0x625)]('');}else{if(_0x50e657===_0xe94962(0xd41)){const _0x31acc2=_0x5e0ba2['allResponses']||[];_0x7a41b5=_0x31acc2[_0xe94962(0x546)](_0x5dd855=>_0xe94962(0xa7b)+(_0x5dd855===_0x5e0ba2['correctResponse'])+_0xe94962(0x98a)+_0x5dd855+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xe94962(0x625)]('');}}const _0x189b97=_0x5e0ba2[_0xe94962(0xb4a)]||_0x5e0ba2['questionText'],_0x16e695='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0xd2f8ee+0x1)+_0xe94962(0x6e0)+_0x20f6c7+_0xe94962(0xca9)+currentLiveGamePin+_0xe94962(0xad3)+_0x189b97+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7a41b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x16e695,window[_0xe94962(0x1bb)]&&MathJax[_0xe94962(0xd71)]&&MathJax[_0xe94962(0xd71)]([liveGameView]),document[_0xe94962(0xc4d)](_0xe94962(0xc1b))[_0xe94962(0x5a2)]('click',()=>revealAnswerForAdmin(_0xd2f8ee,_0x20f6c7)),document[_0xe94962(0xc4d)]('end-game-btn')['addEventListener'](_0xe94962(0x4f4),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x120c52=_0x46b4,_0x5c4efc=doc(db,'artifacts/'+appId+_0x120c52(0xdd9),currentLiveGameId);await updateDoc(_0x5c4efc,{'status':'podium'});});}),document['getElementById'](_0xe94962(0x901))[_0xe94962(0x5a2)]('click',()=>{const _0x435ab4=_0xe94962;document['getElementById']('live-player-management')[_0x435ab4(0x6f1)]['toggle'](_0x435ab4(0x476));});}function promptForProjectBeforeGenerating(_0x552957){const _0x2dc158=_0x5be2be,_0x1c647b=document[_0x2dc158(0xc4d)](_0x2dc158(0xc6b)),_0x180997=document[_0x2dc158(0xc4d)](_0x2dc158(0xba7)),_0x2d6d23=_0x1c647b[_0x2dc158(0xab2)]('h3'),_0x391362=document[_0x2dc158(0xc4d)]('confirm-move-quiz-btn'),_0x47ef11=document[_0x2dc158(0xc4d)](_0x2dc158(0x615));_0x2d6d23[_0x2dc158(0x4c4)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x391362[_0x2dc158(0x4c4)]=_0x2dc158(0xcca),_0x391362[_0x2dc158(0xbb3)]=!![];allProjects[_0x2dc158(0x724)]===0x0?_0x180997[_0x2dc158(0x40b)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x180997[_0x2dc158(0x40b)]=_0x2dc158(0xdd1)+allProjects[_0x2dc158(0x546)](_0x477c1e=>'<option\x20value=\x22'+_0x477c1e['id']+'\x22>'+_0x477c1e['projectName']+_0x2dc158(0xa37))[_0x2dc158(0x625)](''),_0x391362[_0x2dc158(0xbb3)]=![]);_0x1c647b[_0x2dc158(0x6f1)][_0x2dc158(0x7d9)](_0x2dc158(0x476));const _0xe8fc24=async()=>{const _0x267091=_0x2dc158,_0x256863=_0x180997[_0x267091(0x1ce)];if(!_0x256863){showMessage(_0x267091(0x398));return;}_0x1c647b['classList']['add']('hidden'),await loadProjectDetails(_0x256863),showView(_0x267091(0x5e1)),handleGenerateQuizFromBlueprintTopic(_0x552957),_0x54797d();},_0x54797d=()=>{const _0x31ff79=_0x2dc158;_0x2d6d23['textContent']=_0x31ff79(0xb6e),_0x391362[_0x31ff79(0x4c4)]=_0x31ff79(0x559),_0x391362[_0x31ff79(0xdfc)](_0x31ff79(0x4f4),_0xe8fc24),_0x47ef11[_0x31ff79(0xdfc)](_0x31ff79(0x4f4),_0x54797d),_0x391362[_0x31ff79(0x5a2)](_0x31ff79(0x4f4),confirmMoveQuiz);};_0x391362['removeEventListener'](_0x2dc158(0x4f4),confirmMoveQuiz),_0x391362[_0x2dc158(0x5a2)](_0x2dc158(0x4f4),_0xe8fc24),_0x47ef11['addEventListener']('click',_0x54797d);}function showStudentLiveQuestionView(_0x189bbf,_0x3a0cae,_0x3f2d5b){const _0x17f141=_0x5be2be,_0x2a8c33=_0x189bbf[_0x17f141(0xc7b)]||currentQuizData[_0x17f141(0xd93)];let _0x57b752='';if(_0x2a8c33===_0x17f141(0x807)||_0x2a8c33==='true_false'){const _0x137106=_0x2a8c33==='true_false'?[_0x17f141(0x43d),_0x17f141(0xdba)]:_0x189bbf[_0x17f141(0xa3c)];_0x57b752=_0x137106['map']((_0x5579f6,_0x2c0ac5)=>_0x17f141(0xa8a)+_0x2c0ac5+_0x17f141(0x3d1)+_0x5579f6+_0x17f141(0x5da))['join']('');}else{if(_0x2a8c33===_0x17f141(0xd41)){const _0x12dcf1=_0x189bbf[_0x17f141(0xbc0)]||[];_0x57b752=_0x12dcf1[_0x17f141(0x546)]((_0x5d8ee0,_0xfd5dea)=>_0x17f141(0xa8a)+_0xfd5dea+_0x17f141(0x3d1)+_0x5d8ee0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17f141(0x625)]('');}else _0x2a8c33===_0x17f141(0x738)&&(_0x57b752=_0x17f141(0xce));}const _0x14ad68=_0x189bbf['stem']||_0x189bbf[_0x17f141(0x9b3)],_0x977935='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3a0cae+0x1)+'\x20/\x20'+_0x3f2d5b+_0x17f141(0x990)+_0x14ad68+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57b752+_0x17f141(0xc41);liveGameView[_0x17f141(0x40b)]=_0x977935;window['MathJax']&&MathJax[_0x17f141(0xd71)]&&MathJax[_0x17f141(0xd71)]([liveGameView]);const _0x1bf4df=document['getElementById']('live-submit-short-answer-btn');_0x1bf4df&&_0x1bf4df['addEventListener'](_0x17f141(0x4f4),()=>{const _0x4bcb15=_0x17f141,_0x15c61f=document[_0x4bcb15(0xc4d)](_0x4bcb15(0x751))['value'];handleLiveAnswer(_0x15c61f,_0x189bbf);}),document[_0x17f141(0xc4d)](_0x17f141(0xda9))[_0x17f141(0x5a2)](_0x17f141(0x4f4),_0x381b4e=>{const _0x53b5de=_0x17f141,_0x3360b9=_0x381b4e[_0x53b5de(0xa35)][_0x53b5de(0xac5)]('.live-answer-btn');if(_0x3360b9){const _0x2fcb0a=parseInt(_0x3360b9[_0x53b5de(0xa2c)][_0x53b5de(0xcb4)]);handleLiveAnswer(_0x2fcb0a,_0x189bbf);}});}function listenForBlueprintShortcuts(){const _0x2d027b=_0x5be2be,_0x4febfa=doc(db,_0x2d027b(0x789),'dashboardConfig');onSnapshot(_0x4febfa,_0x4a4d99=>{const _0x3fdab1=_0x2d027b;let _0x59339d=[],_0x26810a=[],_0x21381d={};if(_0x4a4d99[_0x3fdab1(0x509)]()){const _0x3cc2b8=_0x4a4d99['data']();_0x59339d=_0x3cc2b8[_0x3fdab1(0xd4a)]||[],_0x26810a=_0x3cc2b8['shortcutTabs']||[],_0x21381d=_0x3cc2b8['shortcutOrder']||{};}!_0x26810a['find'](_0x3a7d58=>_0x3a7d58['id']==='all')&&_0x26810a[_0x3fdab1(0x8cc)]({'id':_0x3fdab1(0x1d5),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x59339d['find'](_0x31bcc4=>_0x31bcc4['id']===_0x3fdab1(0x180))&&_0x59339d['unshift']({'id':_0x3fdab1(0x180),'name':_0x3fdab1(0xb26),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x59339d[_0x3fdab1(0x35d)](_0x526be3=>_0x526be3['id']===_0x3fdab1(0x371))&&_0x59339d[_0x3fdab1(0x8cc)]({'id':_0x3fdab1(0x371),'name':_0x3fdab1(0x6ab),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x59339d,shortcutTabs=_0x26810a,shortcutOrder=_0x21381d,renderBlueprintShortcuts(),!document['getElementById'](_0x3fdab1(0xde4))[_0x3fdab1(0x6f1)]['contains'](_0x3fdab1(0x476))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4c718b=_0x5be2be,_0x34b2a3=document[_0x4c718b(0xc4d)](_0x4c718b(0x950)),_0x44b25c=document[_0x4c718b(0xc4d)]('additional-shortcuts-list');if(!_0x34b2a3||!_0x44b25c)return;_0x34b2a3[_0x4c718b(0x40b)]=shortcutTabs[_0x4c718b(0x546)](_0x417efc=>{const _0x25bb2d=_0x4c718b,_0x1b49e3=_0x417efc['id']===activeShortcutTabId,_0x4117bb=_0x25bb2d(0x475),_0x5a5333='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x25bb2d(0xa12)+_0x417efc['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x1b49e3?_0x4117bb:_0x5a5333)+_0x25bb2d(0x757)+_0x417efc[_0x25bb2d(0x1b0)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x417efc['name']+_0x25bb2d(0x601)+(!_0x417efc['isDefault']?_0x25bb2d(0x54e)+_0x417efc['id']+_0x25bb2d(0x462):'')+_0x25bb2d(0x3cf);})[_0x4c718b(0x625)]('');const _0x49c5bf=shortcutTabs[_0x4c718b(0x35d)](_0xdfb44c=>_0xdfb44c['id']===activeShortcutTabId);let _0x1cc112=[];if(_0x49c5bf){if(_0x49c5bf['isDefault'])_0x1cc112=[...blueprintShortcuts];else{const _0x22a1af=_0x49c5bf[_0x4c718b(0x125)]||[];_0x1cc112=blueprintShortcuts['filter'](_0x55dbb7=>_0x22a1af[_0x4c718b(0xe4a)](_0x55dbb7['id']));}}const _0x3a61c9=shortcutOrder[activeShortcutTabId]||[];_0x1cc112['sort']((_0x2213ff,_0x5744e7)=>{const _0x3dd68e=_0x4c718b,_0x1ed078=_0x3a61c9[_0x3dd68e(0xe5b)](_0x2213ff['id']),_0x274d69=_0x3a61c9[_0x3dd68e(0xe5b)](_0x5744e7['id']);if(_0x1ed078===-0x1)return 0x1;if(_0x274d69===-0x1)return-0x1;return _0x1ed078-_0x274d69;}),_0x44b25c[_0x4c718b(0x40b)]=_0x1cc112[_0x4c718b(0x724)]>0x0?_0x1cc112[_0x4c718b(0x546)](_0x101f0b=>{const _0x3abce6=_0x4c718b;let _0x12b436='🧩';if(_0x101f0b[_0x3abce6(0x336)]&&_0x101f0b['referenceUrl'])_0x12b436='📗';else{if(_0x101f0b[_0x3abce6(0x336)])_0x12b436='📘';}const _0x11bcc9=shortcutTabs[_0x3abce6(0x6e1)](_0x2b1c2f=>!_0x2b1c2f[_0x3abce6(0xcd8)]),_0x54094a=_0x49c5bf[_0x3abce6(0xcd8)]&&_0x11bcc9[_0x3abce6(0x724)]>0x0?_0x3abce6(0x7fb)+_0x11bcc9[_0x3abce6(0x546)](_0x4e7c08=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x101f0b['id']+_0x3abce6(0x92a)+_0x4e7c08['id']+'\x22>'+_0x4e7c08[_0x3abce6(0x1b0)]+_0x3abce6(0x190))[_0x3abce6(0x625)]('')+_0x3abce6(0x9e1):'';return _0x3abce6(0x221)+_0x101f0b['id']+_0x3abce6(0xe2a)+_0x12b436+'\x20'+_0x101f0b['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x101f0b['id']+_0x3abce6(0x544)+_0x101f0b['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x101f0b[_0x3abce6(0xcd8)]?'<button\x20data-id=\x22'+_0x101f0b['id']+_0x3abce6(0x208):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x49c5bf[_0x3abce6(0xcd8)]?_0x3abce6(0x948)+_0x101f0b['id']+_0x3abce6(0xb65):'')+_0x3abce6(0xd77)+_0x54094a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4c718b(0x625)](''):_0x4c718b(0xa36),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xce586=_0x5be2be;document[_0xce586(0x760)](_0xce586(0x453))[_0xce586(0xd75)](_0x3360ad=>{const _0x45d2f0=_0xce586;_0x3360ad[_0x45d2f0(0x5a2)]('click',_0x107915=>{const _0x264f88=_0x45d2f0;activeShortcutTabId=_0x107915[_0x264f88(0x53f)][_0x264f88(0xa2c)][_0x264f88(0xae5)],renderAdditionalShortcutsModal();}),_0x3360ad['addEventListener']('dblclick',_0x2d3705=>{const _0x59f12f=_0x45d2f0,_0x55963b=_0x2d3705['currentTarget'];_0x55963b[_0x59f12f(0xab2)](_0x59f12f(0xa04))[_0x59f12f(0x6f1)][_0x59f12f(0x648)](_0x59f12f(0x476));const _0x10a667=_0x55963b[_0x59f12f(0xab2)]('.tab-name-input');_0x10a667[_0x59f12f(0x6f1)]['remove']('hidden'),_0x10a667[_0x59f12f(0xc44)](),_0x10a667[_0x59f12f(0xb9e)]();});}),document['querySelectorAll'](_0xce586(0x6ff))[_0xce586(0xd75)](_0x2fead9=>{const _0x7b6c43=_0xce586,_0x3a4470=()=>{const _0x3e173c=_0x46b4,_0x399b3f=_0x2fead9[_0x3e173c(0xac5)](_0x3e173c(0x453))['dataset'][_0x3e173c(0xae5)];handleRenameShortcutTab(_0x399b3f,_0x2fead9['value']);};_0x2fead9[_0x7b6c43(0x5a2)]('blur',_0x3a4470),_0x2fead9[_0x7b6c43(0x5a2)]('keydown',_0x371238=>{const _0x3cadd6=_0x7b6c43;if(_0x371238['key']==='Enter')_0x2fead9[_0x3cadd6(0x1be)]();});}),document[_0xce586(0x760)](_0xce586(0x7c1))[_0xce586(0xd75)](_0x1c5413=>{const _0x311119=_0xce586;_0x1c5413[_0x311119(0x5a2)]('click',_0x34126d=>handleDeleteShortcutTab(_0x34126d[_0x311119(0x53f)][_0x311119(0xa2c)]['tabId']));}),document[_0xce586(0x760)]('.move-shortcut-item')[_0xce586(0xd75)](_0x16a538=>{const _0x35b7ae=_0xce586;_0x16a538[_0x35b7ae(0x5a2)]('click',_0x19fb9f=>{const _0x2010e9=_0x35b7ae;_0x19fb9f[_0x2010e9(0xaa3)]();const {shortcutId:_0xef7c34,targetTabId:_0x527c4c}=_0x19fb9f[_0x2010e9(0x53f)][_0x2010e9(0xa2c)];handleMoveShortcutToTab(_0xef7c34,_0x527c4c);});}),document[_0xce586(0x760)](_0xce586(0x1aa))[_0xce586(0xd75)](_0x11c14c=>{const _0x5ef31c=_0xce586;_0x11c14c[_0x5ef31c(0x5a2)](_0x5ef31c(0x4f4),_0x232a19=>{const _0x28afc7=_0x5ef31c;handleRemoveShortcutFromTab(_0x232a19['currentTarget'][_0x28afc7(0xa2c)]['shortcutId'],activeShortcutTabId);});});const _0x10f54a=document[_0xce586(0xc4d)]('additional-shortcuts-list');_0x10f54a[_0xce586(0x760)](_0xce586(0xcef))[_0xce586(0xd75)](_0x4a000d=>{const _0x39b101=_0xce586;_0x4a000d['addEventListener'](_0x39b101(0x4f4),()=>{const _0x37349f=_0x39b101;document[_0x37349f(0xc4d)](_0x37349f(0xde4))[_0x37349f(0x6f1)][_0x37349f(0x648)](_0x37349f(0x476)),handleShortcutClick(_0x4a000d[_0x37349f(0xa2c)]['id']);});});let _0x308d48=null;_0x10f54a[_0xce586(0x5a2)](_0xce586(0xcda),_0x2978c7=>{const _0xe04f8c=_0xce586;_0x308d48=_0x2978c7['target'][_0xe04f8c(0xac5)](_0xe04f8c(0x705)),_0x308d48&&setTimeout(()=>_0x308d48[_0xe04f8c(0x6f1)]['add']('opacity-50'),0x0);}),_0x10f54a[_0xce586(0x5a2)](_0xce586(0x891),()=>{const _0x4e4ce3=_0xce586;_0x308d48&&(_0x308d48[_0x4e4ce3(0x6f1)][_0x4e4ce3(0x7d9)](_0x4e4ce3(0x405)),_0x308d48=null);}),_0x10f54a['addEventListener'](_0xce586(0x7be),_0x53104e=>{const _0x5db12e=_0xce586;_0x53104e[_0x5db12e(0xaa3)]();const _0x5bbfaf=[..._0x10f54a['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0x5db12e(0xd5b)]((_0xe0253e,_0x1b0c8b)=>{const _0x223c3a=_0x5db12e,_0x311283=_0x1b0c8b['getBoundingClientRect'](),_0x5980f4=_0x53104e[_0x223c3a(0x769)]-_0x311283[_0x223c3a(0x3e2)]-_0x311283[_0x223c3a(0x5fe)]/0x2;return _0x5980f4<0x0&&_0x5980f4>_0xe0253e[_0x223c3a(0x31d)]?{'offset':_0x5980f4,'element':_0x1b0c8b}:_0xe0253e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5db12e(0x3a1)];_0x5bbfaf==null?_0x10f54a[_0x5db12e(0xe03)](_0x308d48):_0x10f54a['insertBefore'](_0x308d48,_0x5bbfaf);}),_0x10f54a['addEventListener'](_0xce586(0x17c),_0x377031=>{const _0x55cab5=_0xce586;_0x377031[_0x55cab5(0xaa3)]();if(_0x308d48){const _0x581982=[..._0x10f54a[_0x55cab5(0x760)](_0x55cab5(0x705))][_0x55cab5(0x546)](_0x342b5d=>_0x342b5d[_0x55cab5(0xa2c)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x581982);}}),document[_0xce586(0x760)]('.move-shortcut-menu-btn')['forEach'](_0x717fb=>{const _0x5eb11d=_0xce586;_0x717fb[_0x5eb11d(0x5a2)](_0x5eb11d(0x4f4),_0x1cd54e=>{const _0x45f85f=_0x5eb11d;_0x1cd54e['stopPropagation']();const _0x53972c=_0x1cd54e['currentTarget'][_0x45f85f(0xd65)],_0x2b5d5e=_0x53972c[_0x45f85f(0x6f1)]['contains'](_0x45f85f(0x476));document[_0x45f85f(0x760)](_0x45f85f(0xd48))[_0x45f85f(0xd75)](_0x252955=>_0x252955[_0x45f85f(0x6f1)][_0x45f85f(0x648)](_0x45f85f(0x476))),_0x2b5d5e&&_0x53972c['classList']['remove'](_0x45f85f(0x476));});});}document[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),_0x5b467c=>{const _0x5f3e11=_0x5be2be;!_0x5b467c[_0x5f3e11(0xa35)]['closest'](_0x5f3e11(0x7a8))&&document['querySelectorAll'](_0x5f3e11(0xd48))[_0x5f3e11(0xd75)](_0x49c9d9=>_0x49c9d9['classList']['add'](_0x5f3e11(0x476)));});async function saveShortcutConfig(){const _0x574346=_0x5be2be,_0xf4d4a5=doc(db,_0x574346(0x789),_0x574346(0xb28));try{await setDoc(_0xf4d4a5,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x173d3b){console[_0x574346(0x339)](_0x574346(0x45a),_0x173d3b);}}async function handleAddShortcutTab(){const _0x4e795a=_0x5be2be,_0x308fb7=prompt(_0x4e795a(0x1c0),'แท็บใหม่');if(!_0x308fb7||_0x308fb7[_0x4e795a(0x2ce)]()==='')return;shortcutTabs['push']({'id':_0x4e795a(0x28c)+Date['now'](),'name':_0x308fb7[_0x4e795a(0x2ce)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x459cc1,_0x33e6ad){const _0x3c043e=_0x5be2be,_0x2dfe56=shortcutTabs[_0x3c043e(0x35d)](_0xaa83f9=>_0xaa83f9['id']===_0x459cc1);_0x2dfe56&&_0x33e6ad[_0x3c043e(0x2ce)]()!==''&&(_0x2dfe56[_0x3c043e(0x1b0)]=_0x33e6ad['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x98faf7){const _0x3c50cb=_0x5be2be,_0x5deb4a=shortcutTabs[_0x3c50cb(0x35d)](_0x22929b=>_0x22929b['id']===_0x98faf7);_0x5deb4a&&!_0x5deb4a[_0x3c50cb(0xcd8)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x5deb4a[_0x3c50cb(0x1b0)]+_0x3c50cb(0x875),async()=>{const _0x2d0329=_0x3c50cb;shortcutTabs=shortcutTabs[_0x2d0329(0x6e1)](_0x204919=>_0x204919['id']!==_0x98faf7),delete shortcutOrder[_0x98faf7];if(activeShortcutTabId===_0x98faf7)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1d41e0,_0x21693c){const _0x3b35dd=_0x5be2be,_0x2b9e97=shortcutTabs['find'](_0x1985aa=>_0x1985aa['id']===_0x21693c);_0x2b9e97&&!_0x2b9e97[_0x3b35dd(0x125)]['includes'](_0x1d41e0)&&(_0x2b9e97[_0x3b35dd(0x125)][_0x3b35dd(0x633)](_0x1d41e0),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4a3a0a,_0xf3feb0){const _0x57c406=_0x5be2be,_0x578361=shortcutTabs[_0x57c406(0x35d)](_0x4364d2=>_0x4364d2['id']===_0xf3feb0);_0x578361&&!_0x578361[_0x57c406(0xcd8)]&&(_0x578361[_0x57c406(0x125)]=_0x578361[_0x57c406(0x125)][_0x57c406(0x6e1)](_0x1fd324=>_0x1fd324!==_0x4a3a0a),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x12f8b0,_0x1588fc){shortcutOrder[_0x12f8b0]=_0x1588fc,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x56a035=_0x5be2be,_0x16cb84=document[_0x56a035(0xc4d)]('blueprint-shortcut-container'),_0x58125a=document[_0x56a035(0xc4d)]('additional-shortcuts-list'),_0x3e1f2a=document[_0x56a035(0xc4d)](_0x56a035(0xb1a));_0x3e1f2a&&_0x3e1f2a[_0x56a035(0x6f1)]['add'](_0x56a035(0x476));if(!_0x16cb84||!_0x58125a)return;const _0x371a42=blueprintShortcuts['slice'](0x0,0x4),_0x73dd8a=blueprintShortcuts[_0x56a035(0x647)](0x4);_0x16cb84[_0x56a035(0x40b)]=_0x371a42[_0x56a035(0x546)](_0x4dfc4d=>{const _0xd88e8b=_0x56a035;let _0x24b7e5=_0xd88e8b(0xcb1),_0x30ea94='🧩';if(_0x4dfc4d[_0xd88e8b(0x336)]&&_0x4dfc4d['referenceUrl'])_0x24b7e5=_0xd88e8b(0x14f),_0x30ea94='📗';else _0x4dfc4d[_0xd88e8b(0x336)]&&(_0x24b7e5=_0xd88e8b(0x54a),_0x30ea94='📘');const _0x4828c1=!_0x4dfc4d['isDefault']?_0xd88e8b(0x231)+_0x4dfc4d['id']+_0xd88e8b(0x351):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4dfc4d['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x24b7e5+_0xd88e8b(0xc1f)+_0x30ea94+'\x20'+_0x4dfc4d[_0xd88e8b(0x1b0)]+_0xd88e8b(0x695)+_0x4dfc4d['id']+_0xd88e8b(0xe5d)+_0x4828c1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x73dd8a[_0x56a035(0x724)]>0x0&&(_0x16cb84[_0x56a035(0x40b)]+=_0x56a035(0x8bb)),_0x73dd8a[_0x56a035(0x724)]>0x0?_0x58125a['innerHTML']=_0x73dd8a[_0x56a035(0x546)](_0x58a278=>{const _0x1b57a7=_0x56a035;let _0x28ed34='🧩';if(_0x58a278[_0x1b57a7(0x336)]&&_0x58a278[_0x1b57a7(0x80f)])_0x28ed34='📗';else _0x58a278[_0x1b57a7(0x336)]&&(_0x28ed34='📘');return _0x1b57a7(0x6d5)+_0x28ed34+'\x20'+_0x58a278[_0x1b57a7(0x1b0)]+_0x1b57a7(0x1d6)+_0x58a278['id']+_0x1b57a7(0x544)+_0x58a278['id']+_0x1b57a7(0xb43)+(!_0x58a278[_0x1b57a7(0xcd8)]?_0x1b57a7(0x231)+_0x58a278['id']+_0x1b57a7(0x208):'')+_0x1b57a7(0xe75);})['join'](''):_0x58125a['innerHTML']=_0x56a035(0x1dd);}function getMimeTypeFromFilename(_0x45bf8f){const _0x1910d5=_0x5be2be,_0x189300=_0x45bf8f[_0x1910d5(0xcb0)]('.')[_0x1910d5(0xbda)]()[_0x1910d5(0x6f7)]();switch(_0x189300){case _0x1910d5(0x5e3):return _0x1910d5(0xbcb);case'txt':return _0x1910d5(0x984);default:return'application/pdf';}}function openShortcutEditor(_0x531a4c=null){const _0x5c0fe2=_0x5be2be,_0x1f57ee=document[_0x5c0fe2(0xc4d)](_0x5c0fe2(0xa92)),_0x6c496f=document[_0x5c0fe2(0xc4d)](_0x5c0fe2(0x95b)),_0x487129=document[_0x5c0fe2(0xc4d)](_0x5c0fe2(0x2da)),_0x3a7f5e=document[_0x5c0fe2(0xc4d)](_0x5c0fe2(0x52c)),_0x22e598=document[_0x5c0fe2(0xc4d)]('shortcut-blueprint-url-input'),_0x3f213c=document[_0x5c0fe2(0xc4d)](_0x5c0fe2(0x980));if(_0x531a4c){const _0x15c764=blueprintShortcuts['find'](_0x563e6b=>_0x563e6b['id']===_0x531a4c);if(!_0x15c764)return;_0x6c496f[_0x5c0fe2(0x4c4)]=_0x5c0fe2(0xd24),_0x487129[_0x5c0fe2(0x1ce)]=_0x15c764['id'],_0x3a7f5e[_0x5c0fe2(0x1ce)]=_0x15c764[_0x5c0fe2(0x1b0)],_0x22e598[_0x5c0fe2(0x1ce)]=_0x15c764['blueprintUrl']||'',_0x3f213c[_0x5c0fe2(0x1ce)]=_0x15c764[_0x5c0fe2(0x80f)]||'';}else _0x6c496f['textContent']=_0x5c0fe2(0x1ed),_0x487129[_0x5c0fe2(0x1ce)]='',_0x3a7f5e[_0x5c0fe2(0x1ce)]='',_0x22e598[_0x5c0fe2(0x1ce)]='',_0x3f213c[_0x5c0fe2(0x1ce)]='';_0x1f57ee[_0x5c0fe2(0x6f1)][_0x5c0fe2(0x7d9)](_0x5c0fe2(0x476));}async function saveShortcutChanges(){const _0x56870=_0x5be2be,_0x4ded3c=document[_0x56870(0xc4d)](_0x56870(0x2da))[_0x56870(0x1ce)],_0x499360=document[_0x56870(0xc4d)](_0x56870(0x52c))[_0x56870(0x1ce)][_0x56870(0x2ce)](),_0x27373f=document[_0x56870(0xc4d)](_0x56870(0xe3c))[_0x56870(0x1ce)]['trim']();if(!_0x499360||!_0x27373f){showMessage(_0x56870(0xdb1));return;}const _0x14d880={'id':_0x4ded3c||_0x56870(0x282)+Date[_0x56870(0xe3e)](),'name':_0x499360,'blueprintUrl':_0x27373f,'referenceUrl':document['getElementById'](_0x56870(0x980))[_0x56870(0x1ce)][_0x56870(0x2ce)](),'isDefault':_0x4ded3c['startsWith'](_0x56870(0x936))};let _0x18d998;_0x4ded3c?_0x18d998=blueprintShortcuts['map'](_0x39ebad=>_0x39ebad['id']===_0x4ded3c?_0x14d880:_0x39ebad):_0x18d998=[...blueprintShortcuts,_0x14d880];try{const _0x4cfa60=doc(db,_0x56870(0x789),'dashboardConfig');await setDoc(_0x4cfa60,{'blueprintShortcuts':_0x18d998},{'merge':!![]}),document[_0x56870(0xc4d)]('shortcut-editor-modal')[_0x56870(0x6f1)][_0x56870(0x648)](_0x56870(0x476));}catch(_0x35eef4){console[_0x56870(0x339)](_0x56870(0x8a8),_0x35eef4),showMessage(_0x56870(0x979));}}async function handleShortcutClick(_0x9ed8ac){const _0x328257=_0x5be2be,_0x3424b3=blueprintShortcuts['find'](_0x45166a=>_0x45166a['id']===_0x9ed8ac);if(!_0x3424b3||!_0x3424b3[_0x328257(0x336)])return;document[_0x328257(0xc4d)]('blueprint-options-container')[_0x328257(0x6f1)][_0x328257(0x648)](_0x328257(0x476)),document[_0x328257(0xc4d)](_0x328257(0x9c7))['disabled']=!![];const _0x3837f9=document[_0x328257(0xc4d)](_0x328257(0x64d)),_0x5e9c14=document[_0x328257(0xc4d)](_0x328257(0xd3a));document[_0x328257(0xc4d)](_0x328257(0x1f9))[_0x328257(0x6f1)][_0x328257(0x7d9)](_0x328257(0x476)),document['getElementById']('generated-quiz-container')[_0x328257(0x40b)]='',_0x3837f9[_0x328257(0x6f1)]['remove']('hidden');try{_0x5e9c14[_0x328257(0x4c4)]=_0x328257(0x514);const _0x1c1155=await fetchFileFromUrl(_0x3424b3[_0x328257(0x336)],'blueprint.pdf');let _0x50a9c1=null;if(_0x3424b3[_0x328257(0x80f)]){_0x5e9c14[_0x328257(0x4c4)]=_0x328257(0x55b);const _0x8b4684=_0x3424b3[_0x328257(0x80f)][_0x328257(0x6f7)]()[_0x328257(0x890)]('.txt')?_0x328257(0xc22):_0x328257(0x498);_0x50a9c1=await fetchFileFromUrl(_0x3424b3['referenceUrl'],_0x8b4684);}await handleGenerateFromBlueprintWithFiles(_0x1c1155,_0x50a9c1);}catch(_0x4bd36d){console[_0x328257(0x339)](_0x328257(0x62a),_0x4bd36d),showMessage(_0x328257(0xcf6)+_0x4bd36d[_0x328257(0xba5)]),_0x3837f9[_0x328257(0x6f1)][_0x328257(0x648)](_0x328257(0x476));}}function getDirectDownloadUrl(_0x57536b){const _0x2261c3=_0x5be2be,_0x1eb53b=_0x57536b[_0x2261c3(0x66c)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1eb53b&&_0x1eb53b[0x1])return _0x2261c3(0x112)+_0x1eb53b[0x1];return _0x57536b;}async function fetchFileFromUrl(_0x56fa04,_0x52ea29){const _0xa023a6=_0x5be2be,_0x3cd5b1=getDirectDownloadUrl(_0x56fa04),_0x11fb72=_0xa023a6(0xd3e)+encodeURIComponent(_0x3cd5b1),_0x2bfe0a=await fetch(_0x11fb72);if(!_0x2bfe0a['ok'])throw new Error(_0xa023a6(0xe0c)+_0x2bfe0a['status']+')');const _0x12180f=await _0x2bfe0a[_0xa023a6(0x71d)](),_0x2e5c4c=await new Promise((_0x416e96,_0x283093)=>{const _0x21b9fb=_0xa023a6,_0x5434bc=new FileReader();_0x5434bc[_0x21b9fb(0x4dd)]=()=>_0x416e96(new Uint8Array(_0x5434bc[_0x21b9fb(0xdd3)])),_0x5434bc[_0x21b9fb(0x255)]=_0x283093,_0x5434bc['readAsArrayBuffer'](_0x12180f[_0x21b9fb(0x647)](0x0,0x4));});let _0x476567='';const _0xdaa8d0=new TextDecoder()[_0xa023a6(0x50d)](_0x2e5c4c);return _0xdaa8d0==='%PDF'?(_0x476567=_0xa023a6(0xbcb),console[_0xa023a6(0xbe2)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x476567=_0xa023a6(0x984),console[_0xa023a6(0xbe2)](_0xa023a6(0x682))),new File([_0x12180f],_0x52ea29,{'type':_0x476567});}async function handleGenerateFromBlueprintWithFiles(_0x119824,_0x3067b1=null){const _0x47065d=_0x5be2be;if(!_0x119824){showMessage(_0x47065d(0x3ed));return;}const _0x35e7ec=document['getElementById'](_0x47065d(0x64d)),_0x251bf2=document[_0x47065d(0xc4d)](_0x47065d(0xd3a));_0x35e7ec[_0x47065d(0x6f1)][_0x47065d(0x7d9)]('hidden'),document[_0x47065d(0xc4d)](_0x47065d(0x1f9))['classList'][_0x47065d(0x7d9)](_0x47065d(0x476)),document['getElementById']('generated-quiz-container')['innerHTML']='';try{_0x251bf2['textContent']=_0x47065d(0xbc6);const _0x1b9984=await new Promise((_0x332fd1,_0x27f6d0)=>{const _0x3f7509=_0x47065d,_0xe2fb70=new FileReader();_0xe2fb70[_0x3f7509(0x63e)](_0x119824),_0xe2fb70[_0x3f7509(0x397)]=()=>_0x332fd1(_0xe2fb70[_0x3f7509(0xdd3)][_0x3f7509(0xcb0)](',')[0x1]),_0xe2fb70[_0x3f7509(0x255)]=_0x27f6d0;}),_0x59ef2a=[];if(_0x3067b1){_0x251bf2['textContent']='กำลังอ่านไฟล์อ้างอิง...';const _0x2da1d3=await _0x3067b1[_0x47065d(0x8d1)]();_0x59ef2a[_0x47065d(0x633)]({'text':_0x47065d(0x3e3)+_0x2da1d3});}const _0x614c72=[{'text':_0x47065d(0x322)},{'inlineData':{'mimeType':_0x119824['type'],'data':_0x1b9984}},..._0x59ef2a];await handleGenerateFromBlueprint(_0x614c72);}catch(_0x322f09){console[_0x47065d(0x339)](_0x47065d(0xdb7),_0x322f09),showMessage(_0x47065d(0xcf6)+_0x322f09['message']),_0x35e7ec[_0x47065d(0x6f1)]['add'](_0x47065d(0x476));}}async function handleLiveAnswer(_0x2bd6ab,_0x1e4c6f){const _0x5008e0=_0x5be2be;document[_0x5008e0(0x760)](_0x5008e0(0xcba))['forEach'](_0x1cb90d=>_0x1cb90d[_0x5008e0(0xbb3)]=!![]);const _0x1c1628=_0x1e4c6f['questionType']||currentQuizData[_0x5008e0(0xd93)];let _0x473233=![],_0x4bda9f=_0x2bd6ab;if(_0x1c1628===_0x5008e0(0x738)){const _0x391b71=(_0x2bd6ab||'')[_0x5008e0(0x386)]();_0x473233=await gradeShortAnswer(_0x391b71,_0x1e4c6f);}else{if(_0x1c1628===_0x5008e0(0x807))_0x473233=_0x2bd6ab===_0x1e4c6f[_0x5008e0(0x6cf)];else{if(_0x1c1628===_0x5008e0(0xd99)){const _0x3e67f5=_0x1e4c6f[_0x5008e0(0x66a)];_0x473233=_0x2bd6ab===0x0&&_0x3e67f5||_0x2bd6ab===0x1&&!_0x3e67f5;}else{if(_0x1c1628===_0x5008e0(0xd41)){const _0x3b0f89=_0x1e4c6f['allResponses'][_0x2bd6ab];_0x473233=_0x3b0f89===_0x1e4c6f[_0x5008e0(0xa3a)],_0x4bda9f=_0x3b0f89;}}}}const _0x484d0a=doc(db,_0x5008e0(0x6e9)+appId+_0x5008e0(0xdd9),currentLiveGameId),_0x48f554={};_0x48f554['players.'+currentStudentName+_0x5008e0(0x5bd)]=!![],_0x48f554[_0x5008e0(0x7a4)+currentStudentName+_0x5008e0(0x44d)]=_0x473233,_0x48f554[_0x5008e0(0x7a4)+currentStudentName+_0x5008e0(0x390)]=_0x1c1628===_0x5008e0(0x738)||_0x1c1628==='matching_item'?null:_0x2bd6ab,_0x48f554[_0x5008e0(0x7a4)+currentStudentName+_0x5008e0(0x1bf)]=_0x4bda9f,_0x48f554[_0x5008e0(0x7a4)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x48f554[_0x5008e0(0x7a4)+currentStudentName+_0x5008e0(0x81f)]=![],await updateDoc(_0x484d0a,_0x48f554),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x3aad17,_0x32b1f3){const _0x4cf64a=_0x5be2be,_0x458dc1=Object[_0x4cf64a(0x37f)](_0x3aad17[_0x4cf64a(0xda5)]||{}),_0x276488=_0x32b1f3[_0x4cf64a(0xc7b)]||currentQuizData[_0x4cf64a(0xd93)],_0x478ace=_0x276488===_0x4cf64a(0xd99)?['ใช่',_0x4cf64a(0xdba)]:_0x32b1f3['options']||_0x32b1f3[_0x4cf64a(0xbc0)]||[],_0x5b121f={},_0x45c80e=new Array(_0x478ace['length'])['fill'](0x0);_0x478ace[_0x4cf64a(0xd75)]((_0x744d0c,_0x2458d8)=>{_0x5b121f[_0x2458d8]=[];}),Object[_0x4cf64a(0xb11)](_0x3aad17[_0x4cf64a(0xda5)]||{})[_0x4cf64a(0xd75)](([_0x5eeb41,_0x4e462b])=>{const _0x1b9af8=_0x4cf64a;if(_0x4e462b[_0x1b9af8(0x7c3)]===_0x1b9af8(0x970)&&_0x4e462b[_0x1b9af8(0x88d)]!==undefined){const _0x304de7=_0x4e462b[_0x1b9af8(0x88d)];_0x5b121f[_0x304de7]&&(_0x5b121f[_0x304de7]['push'](_0x5eeb41),_0x45c80e[_0x304de7]++);}});const _0x298eee=Math['max'](..._0x45c80e,0x1),_0x4a1539='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x32b1f3[_0x4cf64a(0xb4a)]||_0x32b1f3[_0x4cf64a(0x9b3)])+_0x4cf64a(0xd14)+_0x45c80e[_0x4cf64a(0x546)]((_0x216321,_0x5d2072)=>{const _0x1502fe=_0x4cf64a,_0x616b9f=_0x5b121f[_0x5d2072]['length']>0x0?_0x5b121f[_0x5d2072][_0x1502fe(0x625)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0xa75f91=![];if(_0x276488===_0x1502fe(0x807))_0xa75f91=_0x5d2072===_0x32b1f3[_0x1502fe(0x6cf)];else{if(_0x276488===_0x1502fe(0xd99)){const _0x53976e=_0x32b1f3[_0x1502fe(0x66a)];_0xa75f91=_0x53976e&&_0x5d2072===0x0||!_0x53976e&&_0x5d2072===0x1;}else _0x276488===_0x1502fe(0xd41)&&(_0xa75f91=_0x478ace[_0x5d2072]===_0x32b1f3[_0x1502fe(0xa3a)]);}const _0x5b4f9a=_0xa75f91?'#26890c':_0x1502fe(0xd17);return _0x1502fe(0x290)+_0x216321+_0x1502fe(0x20b)+_0x5b4f9a+_0x1502fe(0xa95)+_0x5d2072+_0x1502fe(0x139)+_0x478ace[_0x5d2072]+_0x1502fe(0x4f1)+_0x5d2072+_0x1502fe(0x4db)+_0x616b9f+_0x1502fe(0x9da);})['join']('')+_0x4cf64a(0x206);liveGameView[_0x4cf64a(0x40b)]=_0x4a1539;if(window[_0x4cf64a(0x1bb)])MathJax[_0x4cf64a(0xd71)]();document[_0x4cf64a(0xc4d)](_0x4cf64a(0xe1))[_0x4cf64a(0x5a2)](_0x4cf64a(0x4f4),async()=>{const _0x4b35d2=_0x4cf64a,_0x27ad5f=doc(db,_0x4b35d2(0x6e9)+appId+_0x4b35d2(0xdd9),currentLiveGameId);await updateDoc(_0x27ad5f,{'questionStatus':_0x4b35d2(0xa45)});}),document['getElementById'](_0x4cf64a(0x80c))[_0x4cf64a(0x5a2)](_0x4cf64a(0x4f4),()=>{openScratchpad(_0x32b1f3,_0x478ace);});}function showPlayerSummaryView(_0x49d82b,_0x289550){const _0x2bbb88=_0x5be2be,_0x12c27b=Object[_0x2bbb88(0x37f)](_0x49d82b[_0x2bbb88(0xda5)]||{}),_0x3adc91=_0x49d82b[_0x2bbb88(0xda5)][_0x289550],_0x15f028=_0x12c27b[_0x2bbb88(0x6e1)](_0x1afa95=>_0x1afa95['status']===_0x2bbb88(0x970))['sort']((_0x2cf397,_0x1d2dd7)=>_0x1d2dd7['score']-_0x2cf397[_0x2bbb88(0x82f)]),_0x13b2c2=_0x15f028[_0x2bbb88(0xac3)](_0x38f754=>_0x38f754===_0x3adc91)+0x1,_0x3fedf7=_0x3adc91[_0x2bbb88(0x524)]?'ถูกต้อง!':_0x2bbb88(0x8f7),_0x527c02=_0x3adc91[_0x2bbb88(0x524)]?_0x2bbb88(0xd19):_0x2bbb88(0x5b5),_0x51bcbd=_0x3adc91['pointsLastQuestion']||0x0,_0x36ce88=_0x2bbb88(0x3cd),_0x3c7e30=_0x2bbb88(0xd21)+_0x36ce88+_0x2bbb88(0xdf7)+_0x527c02+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x3fedf7+_0x2bbb88(0x286)+_0x51bcbd+_0x2bbb88(0x7bf)+(_0x13b2c2>0x0?_0x13b2c2:'-')+_0x2bbb88(0xb8a);liveGameView['innerHTML']=_0x3c7e30;}function createQuizFromBank(){const _0x3b6cb7=_0x5be2be,_0x4fc6f9=document['querySelectorAll'](_0x3b6cb7(0x4a8));if(_0x4fc6f9[_0x3b6cb7(0x724)]===0x0){showMessage(_0x3b6cb7(0x821));return;}const _0x4ef521=[];_0x4fc6f9[_0x3b6cb7(0xd75)](_0x3863d9=>{const _0x1cd97e=_0x3b6cb7;_0x4ef521['push'](JSON['parse'](_0x3863d9[_0x1cd97e(0x1ce)]));});const _0x229c86={'topic':_0x3b6cb7(0xc3e),'questions':_0x4ef521};displayGeneratedQuiz(_0x229c86);}function showAdminLobbyView(_0x483afb,_0x5ac622){const _0x545d9b=_0x5be2be;showView(_0x545d9b(0x82d));const _0xedee82=_0x545d9b(0x6c4)+_0x5ac622+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x483afb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xedee82,document[_0x545d9b(0xc4d)](_0x545d9b(0x296))['addEventListener'](_0x545d9b(0x4f4),async()=>{const _0x57f9b2=_0x545d9b;if(!currentQuizData||!currentQuizData[_0x57f9b2(0xb1f)]||currentQuizData[_0x57f9b2(0xb1f)][_0x57f9b2(0x724)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x1ee200=doc(db,_0x57f9b2(0x6e9)+appId+_0x57f9b2(0xdd9),currentLiveGameId);await updateDoc(_0x1ee200,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x21f5bc=currentQuizData['questions'][0x0],_0x265ca3=currentQuizData[_0x57f9b2(0xb1f)][_0x57f9b2(0x724)];showAdminLiveQuestionView(_0x21f5bc,0x0,_0x265ca3);}catch(_0x2dc523){console[_0x57f9b2(0x339)](_0x57f9b2(0x450),_0x2dc523),showMessage(_0x57f9b2(0x114));}});}async function openQuizBankModal(){const _0x23ffa0=_0x5be2be;if(allQuizzesGlobal[_0x23ffa0(0x724)]===0x0){const _0x19a5ab=await getDocs(collection(db,'artifacts/'+appId+_0x23ffa0(0x42c)));allQuizzesGlobal=_0x19a5ab[_0x23ffa0(0x2b9)][_0x23ffa0(0x546)](_0x5761ec=>({'id':_0x5761ec['id'],..._0x5761ec[_0x23ffa0(0x1de)]()}));}renderQuizBankList(''),document[_0x23ffa0(0xc4d)](_0x23ffa0(0x1c1))[_0x23ffa0(0x6f1)][_0x23ffa0(0x7d9)](_0x23ffa0(0x476));}function renderQuizBankList(_0x30074b='',_0x4c95e9=![]){const _0x148b5a=_0x5be2be,_0x15e046=document[_0x148b5a(0xc4d)](_0x148b5a(0x3dd)),_0x557ba6=_0x30074b[_0x148b5a(0x6f7)]()['trim'](),_0x4c2780=allQuizzesGlobal['map'](_0x591368=>({..._0x591368,'projectName':allProjects['find'](_0x1bde02=>_0x1bde02['id']===_0x591368[_0x148b5a(0xbb0)])?.['projectName']||_0x148b5a(0x4a2)}))[_0x148b5a(0x6e1)](_0x42fb74=>(_0x42fb74[_0x148b5a(0x380)]||'')['toLowerCase']()['includes'](_0x557ba6)||(_0x42fb74[_0x148b5a(0xb8b)]||'')[_0x148b5a(0x6f7)]()['includes'](_0x557ba6)||_0x42fb74['id'][_0x148b5a(0x386)]()[_0x148b5a(0xe4a)](_0x557ba6));document['getElementById'](_0x148b5a(0xe69))[_0x148b5a(0x4c4)]='('+_0x4c2780[_0x148b5a(0x724)]+_0x148b5a(0x56a),_0x15e046[_0x148b5a(0x40b)]=_0x4c2780[_0x148b5a(0x724)]?_0x4c2780[_0x148b5a(0x546)](_0x5c424f=>{const _0x2f06b7=_0x148b5a,_0x153fa9=!_0x4c95e9?_0x2f06b7(0x75e)+_0x5c424f['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5c424f['id']+_0x2f06b7(0x21c)+_0x5c424f['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5c424f['id']+_0x2f06b7(0x2d6)+_0x5c424f['id']+_0x2f06b7(0xb2c)+_0x5c424f['id']+_0x2f06b7(0x58c)+_0x5c424f[_0x2f06b7(0x380)]+_0x2f06b7(0xb0e):'';return _0x2f06b7(0x778)+_0x5c424f['id']+_0x2f06b7(0x7f0)+(_0x5c424f[_0x2f06b7(0x380)]||'(ไม่มีชื่อ)')+_0x2f06b7(0x47b)+(_0x5c424f[_0x2f06b7(0xb1f)]?.[_0x2f06b7(0x724)]||0x0)+_0x2f06b7(0x969)+_0x5c424f[_0x2f06b7(0xb8b)]+_0x2f06b7(0xb9f)+_0x5c424f['id']+_0x2f06b7(0x93f)+_0x153fa9+_0x2f06b7(0x5ad);})[_0x148b5a(0x625)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x4c95e9&&(_0x15e046['querySelectorAll'](_0x148b5a(0x48c))[_0x148b5a(0xd75)](_0x35b1d4=>{const _0x4e32ec=_0x148b5a;_0x35b1d4[_0x4e32ec(0x5a2)](_0x4e32ec(0x4f4),()=>{const _0x5c822b=_0x4e32ec,_0x44c1af=_0x35b1d4[_0x5c822b(0xa2c)]['id'];document[_0x5c822b(0xc4d)](_0x5c822b(0x1c1))[_0x5c822b(0x6f1)][_0x5c822b(0x648)](_0x5c822b(0x476)),showQuizDetailView(_0x44c1af);});}),_0x15e046[_0x148b5a(0x760)]('.quiz-bank-try-btn')[_0x148b5a(0xd75)](_0x27ffda=>{const _0x2c5c4d=_0x148b5a;_0x27ffda['addEventListener'](_0x2c5c4d(0x4f4),_0x503d1c=>{const _0x4b802d=_0x2c5c4d;_0x503d1c[_0x4b802d(0x46c)]();const _0x32b2ce=_0x27ffda[_0x4b802d(0xa2c)]['id'],_0x36b51c=allQuizzesGlobal[_0x4b802d(0x35d)](_0x4af13c=>_0x4af13c['id']===_0x32b2ce);_0x36b51c?(currentQuizData=_0x36b51c,document[_0x4b802d(0xc4d)](_0x4b802d(0x1c1))[_0x4b802d(0x6f1)][_0x4b802d(0x648)]('hidden'),startAdminTest()):showMessage(_0x4b802d(0xe33));});}),_0x15e046[_0x148b5a(0x760)](_0x148b5a(0x477))[_0x148b5a(0xd75)](_0x11d965=>{const _0x2899b6=_0x148b5a;_0x11d965[_0x2899b6(0x5a2)](_0x2899b6(0x4f4),_0x29548c=>{const _0xb597c7=_0x2899b6;_0x29548c[_0xb597c7(0x46c)]();const _0x1ab108=_0x11d965[_0xb597c7(0xa2c)]['id'],_0x2d0f92=allQuizzesGlobal[_0xb597c7(0x35d)](_0x6f7644=>_0x6f7644['id']===_0x1ab108);_0x2d0f92?(document[_0xb597c7(0xc4d)](_0xb597c7(0x1c1))[_0xb597c7(0x6f1)][_0xb597c7(0x648)](_0xb597c7(0x476)),handleGenerateParallelFromBank(_0x2d0f92)):showMessage(_0xb597c7(0xe33));});}),_0x15e046[_0x148b5a(0x760)](_0x148b5a(0x391))[_0x148b5a(0xd75)](_0x4556b2=>{_0x4556b2['addEventListener']('click',_0x56a645=>{const _0x1d4890=_0x46b4;_0x56a645[_0x1d4890(0x46c)]();const _0x7c8e9f=_0x4556b2['dataset']['id'],_0x305a2d=allQuizzesGlobal[_0x1d4890(0x35d)](_0x42dabf=>_0x42dabf['id']===_0x7c8e9f);_0x305a2d?(document[_0x1d4890(0xc4d)]('quiz-bank-modal')['classList'][_0x1d4890(0x648)](_0x1d4890(0x476)),startPresentation(_0x305a2d)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x15e046[_0x148b5a(0x760)](_0x148b5a(0x99c))[_0x148b5a(0xd75)](_0x5d93ec=>{const _0xd605c9=_0x148b5a;_0x5d93ec['addEventListener'](_0xd605c9(0x4f4),_0x3c5c48=>{const _0x5d7289=_0xd605c9;_0x3c5c48['stopPropagation']();const _0x50f867=_0x5d93ec['dataset']['id'];document[_0x5d7289(0xc4d)]('quiz-bank-modal')[_0x5d7289(0x6f1)]['add'](_0x5d7289(0x476)),handleMoveQuiz(_0x50f867);});}),_0x15e046[_0x148b5a(0x760)](_0x148b5a(0x507))[_0x148b5a(0xd75)](_0x2d0b46=>{const _0x1347bb=_0x148b5a;_0x2d0b46[_0x1347bb(0x5a2)](_0x1347bb(0x4f4),_0x408590=>{const _0x243f2e=_0x1347bb;_0x408590[_0x243f2e(0x46c)]();const _0x2363b5=_0x2d0b46['dataset']['id'];document[_0x243f2e(0xc4d)](_0x243f2e(0x1c1))[_0x243f2e(0x6f1)][_0x243f2e(0x648)](_0x243f2e(0x476)),handleQuizSettings(_0x2363b5);});}),_0x15e046[_0x148b5a(0x760)](_0x148b5a(0x76a))[_0x148b5a(0xd75)](_0x1f237b=>{const _0x4a269d=_0x148b5a;_0x1f237b[_0x4a269d(0x5a2)](_0x4a269d(0x4f4),_0x4c0d7a=>{const _0x285813=_0x4a269d;_0x4c0d7a[_0x285813(0x46c)]();const _0xa7a45c=_0x1f237b['dataset']['id'],_0xde9beb=_0x1f237b[_0x285813(0xa2c)]['topic'];showConfirmation(_0x285813(0xb70)+_0xde9beb+_0x285813(0x20e),()=>handleDeleteQuiz(_0xa7a45c));});}));}async function handleCompareResults(_0x2bbb5f,_0x84301c){const _0x4e0a78=_0x5be2be,_0x14bc4b=document['getElementById'](_0x4e0a78(0x107)),_0x496364=document[_0x4e0a78(0xc4d)](_0x4e0a78(0x121)),_0x2024fd=document[_0x4e0a78(0xc4d)](_0x4e0a78(0x7ef));document[_0x4e0a78(0xc4d)](_0x4e0a78(0xded))[_0x4e0a78(0x6f1)]['add']('active'),document[_0x4e0a78(0xc4d)]('comparison-individual-tab')[_0x4e0a78(0x6f1)][_0x4e0a78(0x7d9)](_0x4e0a78(0x970)),_0x496364[_0x4e0a78(0x6f1)][_0x4e0a78(0x7d9)]('hidden'),_0x2024fd[_0x4e0a78(0x6f1)][_0x4e0a78(0x648)]('hidden'),_0x496364['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2024fd[_0x4e0a78(0x40b)]='',_0x14bc4b[_0x4e0a78(0x6f1)][_0x4e0a78(0x7d9)](_0x4e0a78(0x476));try{const _0x80c7f8=doc(db,_0x4e0a78(0x6e9)+appId+_0x4e0a78(0x42c),_0x2bbb5f),_0x25c19e=await getDoc(_0x80c7f8);if(!_0x25c19e[_0x4e0a78(0x509)]())throw new Error(_0x4e0a78(0x19c));const _0x247d68=_0x25c19e['data'](),_0x250a48=_0x247d68[_0x4e0a78(0xb1f)][_0x4e0a78(0x724)],_0x225b70=collection(db,'artifacts/'+appId+_0x4e0a78(0x363)+_0x84301c+_0x4e0a78(0x3e4)),_0x4afcd7=collection(db,_0x4e0a78(0x6e9)+appId+'/public/data/quizzes/'+_0x2bbb5f+_0x4e0a78(0x3e4)),[_0x5f54a3,_0x23c015]=await Promise[_0x4e0a78(0x1d5)]([getDocs(_0x225b70),getDocs(_0x4afcd7)]),_0x526bdf=_0x5f54a3[_0x4e0a78(0x2b9)][_0x4e0a78(0x546)](_0x1754af=>_0x1754af[_0x4e0a78(0x1de)]()),_0x5e369c=_0x23c015[_0x4e0a78(0x2b9)][_0x4e0a78(0x546)](_0x489e7c=>_0x489e7c[_0x4e0a78(0x1de)]()),_0x16f3a7=_0x526bdf[_0x4e0a78(0x546)](_0x50b426=>_0x50b426['latestScore']),_0x3d662b=_0x5e369c[_0x4e0a78(0x546)](_0x1aedd7=>_0x1aedd7[_0x4e0a78(0x247)]),_0x370cd0=calculateMeanAndStdDev(_0x16f3a7),_0xcabcb4=calculateMeanAndStdDev(_0x3d662b),_0x4b98d4=_0x370cd0[_0x4e0a78(0xa9a)],_0x4604c7=_0xcabcb4[_0x4e0a78(0xa9a)],_0x20aea7=_0x4604c7-_0x4b98d4;let _0x4759f0=_0x4e0a78(0xa32)+_0x4b98d4['toFixed'](0x2)+_0x4e0a78(0x755)+_0x4604c7[_0x4e0a78(0x935)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x20aea7>=0x0?'bg-emerald-100':_0x4e0a78(0xa14))+_0x4e0a78(0x17f)+(_0x20aea7>=0x0?_0x4e0a78(0xd6f):_0x4e0a78(0xa56))+_0x4e0a78(0x3cc)+(_0x20aea7>=0x0?_0x4e0a78(0x9e9):'text-red-900')+'\x22>'+(_0x20aea7>=0x0?'+':'')+_0x20aea7[_0x4e0a78(0x935)](0x2)+_0x4e0a78(0xdc0);_0x496364['innerHTML']=_0x4759f0;const _0x564dbb=document[_0x4e0a78(0xc4d)](_0x4e0a78(0x2ac))['getContext']('2d');if(chartInstances[_0x4e0a78(0x325)])chartInstances[_0x4e0a78(0x325)][_0x4e0a78(0xd0c)]();chartInstances[_0x4e0a78(0x325)]=new Chart(_0x564dbb,{'type':'bar','data':{'labels':[_0x4e0a78(0x6d8)],'datasets':[{'label':_0x4e0a78(0x223),'data':[_0x4b98d4],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x4e0a78(0x2ea),'data':[_0x4604c7],'backgroundColor':_0x4e0a78(0xe2c)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x250a48}}}});const _0x56457d=currentProjectData[_0x4e0a78(0x94c)]||[],_0x1193f5=_0x56457d['map'](_0x25f3f1=>{const _0x3b1269=_0x4e0a78,_0x45f21a=_0x526bdf['find'](_0x658130=>_0x658130['studentName']===_0x25f3f1),_0x1280ef=_0x5e369c[_0x3b1269(0x35d)](_0x5de7b7=>_0x5de7b7[_0x3b1269(0x550)]===_0x25f3f1),_0x1bd5c0=_0x45f21a?_0x45f21a['latestScore']:null,_0x5f2d1d=_0x1280ef?_0x1280ef[_0x3b1269(0x247)]:null,_0xdbf405=_0x1bd5c0!==null&&_0x5f2d1d!==null?_0x5f2d1d-_0x1bd5c0:null,_0x28222a=_0x1bd5c0!==null?calculateZScore(_0x1bd5c0,_0x370cd0[_0x3b1269(0xa9a)],_0x370cd0[_0x3b1269(0x884)]):null,_0x40d43f=_0x5f2d1d!==null?calculateZScore(_0x5f2d1d,_0xcabcb4['mean'],_0xcabcb4['stdDev']):null,_0x234e5e=_0x28222a!==null?calculateTScore(_0x28222a):null,_0x1e4102=_0x40d43f!==null?calculateTScore(_0x40d43f):null,_0x7e220a=_0x234e5e!==null&&_0x1e4102!==null?_0x1e4102-_0x234e5e:null;return{'name':_0x25f3f1,'preScore':_0x1bd5c0,'postScore':_0x5f2d1d,'gain':_0xdbf405,'preTScore':_0x234e5e,'postTScore':_0x1e4102,'tGain':_0x7e220a};});renderIndividualComparisonTable(_0x1193f5,_0x2024fd);}catch(_0x38c944){console[_0x4e0a78(0x339)](_0x4e0a78(0xb5d),_0x38c944),_0x496364[_0x4e0a78(0x40b)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x4fadc7=_0x5be2be;if(!extractedBlueprintData||!extractedBlueprintData[_0x4fadc7(0x2b5)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x27f003=prompt(_0x4fadc7(0x43c),_0x4fadc7(0xe72));if(!_0x27f003||_0x27f003[_0x4fadc7(0x2ce)]()==='')return;const _0x1725e0={};extractedBlueprintData[_0x4fadc7(0x2b5)]['forEach'](_0xcaf8db=>{const _0x2e4888=_0x4fadc7;_0xcaf8db[_0x2e4888(0x655)][_0x2e4888(0xd75)](_0x55834d=>{const _0x4ba227=_0x2e4888;_0x55834d[_0x4ba227(0x37b)][_0x4ba227(0xd75)](_0x44c968=>{const _0x38c581=_0x4ba227,_0x14a503=_0x38c581(0x257)+Date[_0x38c581(0xe3e)]()+Math[_0x38c581(0x4ab)]()['toString'](0x24)['substr'](0x2,0x9);_0x1725e0[_0x14a503]={'sara':_0xcaf8db[_0x38c581(0xb35)],'mainTopic':_0x55834d[_0x38c581(0x82c)],'subTopic':_0x44c968,'status':_0x38c581(0xd91),'lessonContent':null};});});});try{const _0x567d7e=collection(db,'artifacts/'+appId+_0x4fadc7(0xce3));await addDoc(_0x567d7e,{'projectName':_0x27f003['trim'](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x1725e0,'createdAt':serverTimestamp()}),showMessage(_0x4fadc7(0x415)+_0x27f003[_0x4fadc7(0x2ce)]()+'\x22\x20สำเร็จ!'),document['getElementById']('save-blueprint-as-project-btn')['classList'][_0x4fadc7(0x648)](_0x4fadc7(0x476));}catch(_0x555cf3){console['error'](_0x4fadc7(0x2e7),_0x555cf3),showMessage(_0x4fadc7(0x5d0));}}async function showBlueprintProjects(){const _0x4d3c89=_0x5be2be,_0x34f648=document[_0x4d3c89(0xc4d)](_0x4d3c89(0x478)),_0x322ea9=document['getElementById'](_0x4d3c89(0x273));_0x322ea9[_0x4d3c89(0x40b)]=_0x4d3c89(0xdf8),_0x34f648['classList']['remove'](_0x4d3c89(0x476));try{const _0x16ab34=collection(db,_0x4d3c89(0x6e9)+appId+'/public/data/blueprintProjects'),_0x5a89d8=await getDocs(_0x16ab34);if(_0x5a89d8[_0x4d3c89(0xdbf)]){_0x322ea9[_0x4d3c89(0x40b)]=_0x4d3c89(0xdfb);return;}const _0x548ce6=_0x5a89d8[_0x4d3c89(0x2b9)]['map'](_0x24a73e=>({'id':_0x24a73e['id'],..._0x24a73e['data']()}));_0x548ce6[_0x4d3c89(0x332)]((_0x34be81,_0x3e59fc)=>_0x34be81[_0x4d3c89(0xb8b)]['localeCompare'](_0x3e59fc['projectName'],'th')),_0x322ea9[_0x4d3c89(0x40b)]=_0x548ce6[_0x4d3c89(0x546)](_0x3b4c04=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x3b4c04[_0x4d3c89(0xb8b)]+_0x4d3c89(0x617)+_0x3b4c04[_0x4d3c89(0x2e4)]+_0x4d3c89(0x9d8)+Object[_0x4d3c89(0x74b)](_0x3b4c04[_0x4d3c89(0x2c9)])['length']+_0x4d3c89(0x816)+_0x3b4c04['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3b4c04['id']+_0x4d3c89(0xc90))['join']('');}catch(_0x456614){console[_0x4d3c89(0x339)](_0x4d3c89(0xa09),_0x456614),_0x322ea9[_0x4d3c89(0x40b)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x2149c0){const _0xab99e5=_0x5be2be;currentBlueprintProjectId=_0x2149c0,document[_0xab99e5(0xc4d)](_0xab99e5(0x478))[_0xab99e5(0x6f1)][_0xab99e5(0x648)](_0xab99e5(0x476)),showView(_0xab99e5(0xb0c)),projectDashboardView[_0xab99e5(0x6f1)][_0xab99e5(0x648)](_0xab99e5(0x476));const _0xf7f4e3=document[_0xab99e5(0xc4d)](_0xab99e5(0x1b7));_0xf7f4e3[_0xab99e5(0x6f1)][_0xab99e5(0x7d9)](_0xab99e5(0x476)),document[_0xab99e5(0xc4d)](_0xab99e5(0x82e))[_0xab99e5(0x40b)]=_0xab99e5(0xe65);try{const _0x32dc27=doc(db,_0xab99e5(0x6e9)+appId+_0xab99e5(0xce3),_0x2149c0),_0x28554b=await getDoc(_0x32dc27);if(!_0x28554b[_0xab99e5(0x509)]())throw new Error('ไม่พบโปรเจค');const _0x255897={'id':_0x28554b['id'],..._0x28554b[_0xab99e5(0x1de)]()};document[_0xab99e5(0xc4d)](_0xab99e5(0xe2))['textContent']=_0x255897[_0xab99e5(0xb8b)],document[_0xab99e5(0xc4d)](_0xab99e5(0x46e))['value']=_0x255897['referenceFileUrl']||'',renderBlueprintTopicManager(_0x255897);}catch(_0x22dee0){console['error']('Error\x20displaying\x20blueprint\x20project:',_0x22dee0),showMessage(_0x22dee0[_0xab99e5(0xba5)]),showView(_0xab99e5(0xb0c));}}function renderBlueprintTopicManager(_0x16e6a5){const _0x9aaf89=_0x5be2be,_0x15c785=document[_0x9aaf89(0xc4d)]('bp-topic-list-container'),_0x1c9888=_0x16e6a5['topics']||{};if(Object['keys'](_0x1c9888)[_0x9aaf89(0x724)]===0x0){_0x15c785['innerHTML']=_0x9aaf89(0x1eb);return;}const _0xa7a3d8=Object[_0x9aaf89(0xb11)](_0x1c9888)[_0x9aaf89(0x546)](([_0x437dfd,_0x447640])=>({'id':_0x437dfd,..._0x447640}))[_0x9aaf89(0x332)]((_0x542a3b,_0x3f07f8)=>(_0x542a3b[_0x9aaf89(0xcea)]??Infinity)-(_0x3f07f8[_0x9aaf89(0xcea)]??Infinity)),_0x421bcf={};_0xa7a3d8[_0x9aaf89(0xd75)](_0x591297=>{const _0x360f1b=_0x9aaf89,{sara:_0x398b20,mainTopic:_0x4a9a1e}=_0x591297;!_0x421bcf[_0x398b20]&&(_0x421bcf[_0x398b20]={}),!_0x421bcf[_0x398b20][_0x4a9a1e]&&(_0x421bcf[_0x398b20][_0x4a9a1e]=[]),_0x421bcf[_0x398b20][_0x4a9a1e][_0x360f1b(0x633)](_0x591297);});let _0x386991='';for(const _0x39e66d in _0x421bcf){_0x386991+=_0x9aaf89(0x50c)+_0x39e66d+'</h4>';for(const _0x4d6e4c in _0x421bcf[_0x39e66d]){_0x386991+=_0x9aaf89(0x483)+_0x4d6e4c+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x421bcf[_0x39e66d][_0x4d6e4c]['forEach'](_0x3af3c9=>{const _0x4f2533=_0x9aaf89,_0x181cce=_0x3af3c9['id'],_0x2b0251=_0x3af3c9[_0x4f2533(0x30e)]||[],_0x1a927a=_0x2b0251[_0x4f2533(0x724)]>0x0,_0x48bae4=_0x3af3c9['status']===_0x4f2533(0xb10);let _0x35851d='';_0x1a927a?_0x35851d=_0x4f2533(0x58b)+_0x2b0251[_0x4f2533(0x724)]+'\x20ชุด)</span>':_0x35851d=_0x4f2533(0x9a7)+(_0x48bae4?_0x4f2533(0x8d2):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x48bae4?'สร้างแล้ว':_0x4f2533(0x136))+_0x4f2533(0xdf9);const _0x3df151=!_0x48bae4?_0x4f2533(0x367):'',_0x44bb1c=!_0x48bae4?_0x4f2533(0x142):'';let _0x2f600b=_0x48bae4?_0x4f2533(0xa78):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x386991+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x181cce+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x3af3c9[_0x4f2533(0xda1)]+_0x4f2533(0x4e3)+_0x35851d+_0x4f2533(0x318)+_0x3df151+_0x4f2533(0x26f)+_0x44bb1c+_0x4f2533(0xa1d)+_0x2f600b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x386991+=_0x9aaf89(0x847);}_0x386991+=_0x9aaf89(0xcf0);}_0x15c785[_0x9aaf89(0x40b)]=_0x386991;}async function handleDeepDeleteBlueprintProject(_0xe77e62){const _0x22925d=_0x5be2be,_0x26e611=doc(db,'artifacts/'+appId+_0x22925d(0xce3),_0xe77e62),_0xfece7b=await getDoc(_0x26e611);if(!_0xfece7b[_0x22925d(0x509)]()){showMessage(_0x22925d(0xdd2));return;}const _0xcd819=_0xfece7b[_0x22925d(0x1de)]()[_0x22925d(0xb8b)];showConfirmation(_0x22925d(0x4c6)+_0xcd819+_0x22925d(0x212),async()=>{const _0x3db399=_0x22925d;showMessage(_0x3db399(0xaa8));try{const _0x401713=writeBatch(db),_0x2de24f=_0xfece7b[_0x3db399(0x1de)](),_0x184db6=_0x2de24f[_0x3db399(0x2c9)]||{};for(const _0x294948 in _0x184db6){const _0x3c6189=doc(db,'artifacts/'+appId+_0x3db399(0xe5f)+_0xe77e62+_0x3db399(0x1a2),_0x294948);_0x401713[_0x3db399(0x298)](_0x3c6189);}const _0x59058c=new Set();for(const _0x50421c in _0x184db6){_0x184db6[_0x50421c][_0x3db399(0x30e)]&&_0x184db6[_0x50421c]['linkedQuizIds'][_0x3db399(0xd75)](_0x37d7c4=>_0x59058c['add'](_0x37d7c4));}for(const _0x26c9ff of _0x59058c){await handleDeleteQuiz(_0x26c9ff,![]);}_0x401713[_0x3db399(0x298)](_0x26e611),await _0x401713[_0x3db399(0x297)](),showMessage(_0x3db399(0x716)+_0xcd819+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x3971e7){console[_0x3db399(0x339)](_0x3db399(0x662),_0x3971e7),showMessage(_0x3db399(0x34e));}});}async function openTopicQuizBank(_0x31dffa){const _0x436591=_0x5be2be,_0x7cff8d=document[_0x436591(0xc4d)](_0x436591(0x2a5)),_0x4b0f03=document[_0x436591(0xc4d)](_0x436591(0xd85)),_0x158452=document['getElementById'](_0x436591(0x924));try{await ensureGlobalQuizzesLoaded();const _0x7c77d4=doc(db,_0x436591(0x6e9)+appId+_0x436591(0xce3),currentBlueprintProjectId),_0x5bbf21=await getDoc(_0x7c77d4);if(!_0x5bbf21[_0x436591(0x509)]())return;const _0x21b71b=_0x5bbf21[_0x436591(0x1de)](),_0x249a9b=_0x21b71b['topics'][_0x31dffa];document[_0x436591(0xc4d)]('topic-bank-subtopic-name')[_0x436591(0x4c4)]=_0x249a9b['subTopic'];const _0x2ca18e=_0x249a9b['linkedQuizIds']||[];_0x158452[_0x436591(0x6f1)][_0x436591(0x545)](_0x436591(0x476),_0x2ca18e[_0x436591(0x724)]===0x0),_0x158452[_0x436591(0x8f5)]=()=>handleClearAllLinksForTopic(_0x31dffa);if(_0x2ca18e[_0x436591(0x724)]===0x0)_0x4b0f03[_0x436591(0x40b)]=_0x436591(0xaf5);else{const _0x29bc4f=allQuizzesGlobal['filter'](_0x2469e1=>_0x2ca18e['includes'](_0x2469e1['id']));_0x4b0f03[_0x436591(0x40b)]=_0x29bc4f[_0x436591(0x546)](_0x233109=>_0x436591(0xbf1)+_0x233109['id']+_0x436591(0x175)+_0x233109[_0x436591(0x380)]+_0x436591(0xcb8)+_0x233109['id']+'\x20|\x20'+_0x233109['questions'][_0x436591(0x724)]+_0x436591(0x5cb)+_0x233109['id']+_0x436591(0xde8)+_0x233109['id']+_0x436591(0x436)+_0x233109['id']+_0x436591(0x116)+_0x233109['id']+_0x436591(0xdbc)+_0x31dffa+_0x436591(0xc8c)+_0x233109['id']+_0x436591(0x3aa))[_0x436591(0x625)]('');}document['getElementById'](_0x436591(0x41d))[_0x436591(0x8f5)]=()=>{openQuizSelectorForBlueprint(_0x31dffa);},document[_0x436591(0xc4d)](_0x436591(0x55d))[_0x436591(0x8f5)]=()=>_0x7cff8d[_0x436591(0x6f1)][_0x436591(0x648)](_0x436591(0x476)),_0x7cff8d[_0x436591(0x6f1)][_0x436591(0x7d9)]('hidden');}catch(_0x2932fc){showMessage(_0x2932fc[_0x436591(0xba5)]);}}async function openQuizSelectorForBlueprint(_0x16ea1a){const _0x2acc84=_0x5be2be,_0x28d673=document[_0x2acc84(0xc4d)]('quiz-bank-modal'),_0x58bccb=document[_0x2acc84(0xc4d)]('topic-quiz-bank-modal');_0x58bccb[_0x2acc84(0x6f1)][_0x2acc84(0x648)]('hidden'),document[_0x2acc84(0xc4d)](_0x2acc84(0x684))?.[_0x2acc84(0x7d9)]();const _0x4457c1=document[_0x2acc84(0x52f)](_0x2acc84(0x3d2));_0x4457c1['id']=_0x2acc84(0x684),_0x4457c1[_0x2acc84(0x67d)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x4457c1['textContent']=_0x2acc84(0xe44),_0x4457c1[_0x2acc84(0xbb3)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x28d673[_0x2acc84(0x6f1)]['remove'](_0x2acc84(0x476)),renderQuizBankListForMultiSelect(''),document[_0x2acc84(0xc4d)](_0x2acc84(0xae3))['style'][_0x2acc84(0xa9c)]=_0x2acc84(0x611),_0x28d673[_0x2acc84(0xab2)](_0x2acc84(0x181))[_0x2acc84(0xe03)](_0x4457c1);const _0x24818a=(_0x985ebd=![])=>{const _0x40d7a9=_0x2acc84;_0x28d673[_0x40d7a9(0x6f1)][_0x40d7a9(0x648)](_0x40d7a9(0x476)),document['getElementById']('bulk-quiz-settings-btn')['style'][_0x40d7a9(0xa9c)]=_0x40d7a9(0x41c),_0x4457c1[_0x40d7a9(0x7d9)](),_0x985ebd&&openTopicQuizBank(_0x16ea1a);};_0x4457c1[_0x2acc84(0x8f5)]=async()=>{const _0x6ba8c2=_0x2acc84,_0x3d3d8f=Array[_0x6ba8c2(0xe6)](document[_0x6ba8c2(0x760)](_0x6ba8c2(0xa1a)))['map'](_0x32c7e7=>_0x32c7e7[_0x6ba8c2(0x1ce)]);if(_0x3d3d8f[_0x6ba8c2(0x724)]===0x0)return;try{const _0x4f15b0=doc(db,_0x6ba8c2(0x6e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3cc938=(await getDoc(_0x4f15b0))[_0x6ba8c2(0x1de)](),_0x3cadbc=_0x3cc938[_0x6ba8c2(0x2c9)][_0x16ea1a][_0x6ba8c2(0x30e)]||[],_0x3bf486=[...new Set([..._0x3cadbc,..._0x3d3d8f])];await updateDoc(_0x4f15b0,{[_0x6ba8c2(0xe29)+_0x16ea1a+'.linkedQuizIds']:_0x3bf486}),showMessage('เพิ่ม\x20'+_0x3d3d8f[_0x6ba8c2(0x724)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x24818a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x40811e){console[_0x6ba8c2(0x339)](_0x6ba8c2(0x394),_0x40811e);}},document['getElementById'](_0x2acc84(0x115))[_0x2acc84(0x8f5)]=()=>_0x24818a(!![]);}catch(_0x5f516e){showMessage(_0x5f516e['message']),_0x58bccb['classList']['remove']('hidden');}}function handleClearLinkedQuiz(_0x5c9a7e){const _0x4f82fd=_0x5be2be;showConfirmation(_0x4f82fd(0x689),async()=>{const _0x5146c4=_0x4f82fd;try{const _0x3be380=doc(db,_0x5146c4(0x6e9)+appId+_0x5146c4(0xce3),currentBlueprintProjectId);await updateDoc(_0x3be380,{[_0x5146c4(0xe29)+_0x5c9a7e+_0x5146c4(0x676)]:deleteField()}),showMessage(_0x5146c4(0x1e8)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x154adf){console[_0x5146c4(0x339)](_0x5146c4(0x203),_0x154adf),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x3b90f7=_0x5be2be,_0x4401ec=prompt(_0x3b90f7(0x8a1));if(!_0x4401ec||_0x4401ec[_0x3b90f7(0x2ce)]()==='')return;const _0xe2428a=prompt(_0x3b90f7(0x865),_0x3b90f7(0x4fb)),_0xbd02d5=prompt(_0x3b90f7(0x857),_0x3b90f7(0xb62)),_0x5030cb='topic_'+Date[_0x3b90f7(0xe3e)]()+Math['random']()[_0x3b90f7(0x386)](0x24)[_0x3b90f7(0xb7f)](0x2,0x9),_0x36cfe3={'sara':_0xe2428a,'mainTopic':_0xbd02d5,'subTopic':_0x4401ec[_0x3b90f7(0x2ce)](),'status':_0x3b90f7(0xd91),'lessonContent':null};try{const _0x17448d=doc(db,_0x3b90f7(0x6e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x17448d,{[_0x3b90f7(0xe29)+_0x5030cb]:_0x36cfe3}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2b1407){console['error'](_0x3b90f7(0xe4f),_0x2b1407),showMessage(_0x3b90f7(0x957));}}async function editTopicInProject(_0x2dbde5){const _0x412659=_0x5be2be,_0x290b71=document['querySelector'](_0x412659(0x741)+_0x2dbde5+'\x22]'),_0x5db5f6=_0x290b71['querySelector'](_0x412659(0x856)),_0x56c154=_0x5db5f6[_0x412659(0x4c4)],_0x775365=prompt(_0x412659(0x163),_0x56c154);if(!_0x775365||_0x775365[_0x412659(0x2ce)]()===''||_0x775365[_0x412659(0x2ce)]()===_0x56c154)return;try{const _0x290612=doc(db,_0x412659(0x6e9)+appId+_0x412659(0xce3),currentBlueprintProjectId);await updateDoc(_0x290612,{[_0x412659(0xe29)+_0x2dbde5+_0x412659(0x8e5)]:_0x775365['trim']()}),_0x5db5f6[_0x412659(0x4c4)]=_0x775365[_0x412659(0x2ce)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1c94a3){console[_0x412659(0x339)]('Error\x20editing\x20topic:',_0x1c94a3),showMessage(_0x412659(0x790));}}async function deleteTopicFromProject(_0x34c906){const _0x58d7a1=_0x5be2be;if(!confirm(_0x58d7a1(0x3c6)))return;try{const _0x100947=doc(db,_0x58d7a1(0x6e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x100947,{[_0x58d7a1(0xe29)+_0x34c906]:deleteField()}),document[_0x58d7a1(0xab2)]('[data-topic-id=\x22'+_0x34c906+'\x22]')[_0x58d7a1(0x7d9)](),showMessage(_0x58d7a1(0x1f6));}catch(_0x2c39c3){console[_0x58d7a1(0x339)](_0x58d7a1(0x1d3),_0x2c39c3),showMessage(_0x58d7a1(0x678));}}async function generateAndSaveLessonForBlueprint(_0x128777,_0x238cb0,_0x578e01){handleGenerateAndShowLesson(_0x238cb0,_0x578e01);const _0x1883c8=setInterval(async()=>{const _0xb383de=_0x46b4,_0x27f6aa=document[_0xb383de(0xc4d)](_0xb383de(0x2a2)),_0x166ed0=_0x27f6aa[_0xb383de(0x6f1)][_0xb383de(0x913)]('hidden');if(_0x166ed0){clearInterval(_0x1883c8);if(currentApplicationData&&currentApplicationData[_0xb383de(0x724)]>0x0){const _0x2fb0bb={'point':document[_0xb383de(0xc4d)](_0xb383de(0x3d4))[_0xb383de(0x40b)],'memory':document[_0xb383de(0xc4d)]('memoryContent')['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0xb383de(0xc4d)]('summaryContent')[_0xb383de(0x40b)]};try{const _0x256d42=doc(db,_0xb383de(0x6e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x371d94=doc(db,'artifacts/'+appId+_0xb383de(0xe5f)+currentBlueprintProjectId+_0xb383de(0x1a2),_0x128777),_0x38328c=writeBatch(db);_0x38328c[_0xb383de(0xc51)](_0x371d94,{'content':_0x2fb0bb}),_0x38328c[_0xb383de(0x9f3)](_0x256d42,{['topics.'+_0x128777+_0xb383de(0xb4d)]:'generated'}),await _0x38328c[_0xb383de(0x297)](),console[_0xb383de(0xbe2)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x128777+_0xb383de(0x752)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1c7ae3){console[_0xb383de(0x339)](_0xb383de(0xbd3),_0x1c7ae3);}}}},0x3e8);}function displayHalfMarkResult(_0x4438c8,_0x89ed1c){const _0x115150=_0x5be2be,_0x5b16a2=_0x4438c8>=_0x89ed1c/0x2,_0x57401f=_0x5b16a2?_0x115150(0x73b):'bg-red-100',_0x51456f=_0x5b16a2?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x1a1bc0=_0x5b16a2?_0x115150(0xb12):'text-red-800',_0xe26d2d=_0x5b16a2?'ทำคะแนนได้เกินครึ่ง':_0x115150(0x227),_0x30495a=_0x5b16a2?'ยอดเยี่ยม!':_0x115150(0xe1e);let _0x508d22=_0x115150(0x2a7)+_0x57401f+_0x115150(0x4d9)+_0x51456f+_0x115150(0x4d2)+_0x1a1bc0+'\x20mb-2\x22>'+_0xe26d2d+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x30495a+_0x115150(0xb0a);studentResultArea[_0x115150(0x40b)]=_0x508d22,studentResultArea[_0x115150(0x6f1)][_0x115150(0x7d9)](_0x115150(0x476)),studentQuizArea[_0x115150(0x6f1)][_0x115150(0x648)](_0x115150(0x476)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5b16a2});}function displayPerfectScoreResult(_0x3d9de8,_0x484062){const _0x4399bb=_0x5be2be,_0x4cc39d=_0x3d9de8===_0x484062,_0x16dac2=_0x4cc39d?'bg-yellow-100':_0x4399bb(0x61a),_0x6c111=_0x4cc39d?_0x4399bb(0xa81):_0x4399bb(0xd25),_0x20908b=_0x4cc39d?_0x4399bb(0x74f):_0x4399bb(0x2f8),_0x44b9ca=_0x4cc39d?_0x4399bb(0x33c):_0x4399bb(0xe4b),_0x21fe47=_0x4cc39d?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x5b9d6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x16dac2+_0x4399bb(0x4d9)+_0x6c111+_0x4399bb(0x4d2)+_0x20908b+'\x20mb-2\x22>'+_0x44b9ca+_0x4399bb(0x826)+_0x21fe47+_0x4399bb(0xb0a);studentResultArea[_0x4399bb(0x40b)]=_0x5b9d6c,studentResultArea['classList'][_0x4399bb(0x7d9)](_0x4399bb(0x476)),studentQuizArea[_0x4399bb(0x6f1)][_0x4399bb(0x648)](_0x4399bb(0x476)),setupResultScreenBackButton({'showRankings':![],'score':_0x3d9de8,'totalQuestions':_0x484062});}function renderIndividualComparisonTable(_0x579f9c,_0xb8d79c){const _0x4bfe14=_0x5be2be;_0x579f9c[_0x4bfe14(0x332)]((_0x203a33,_0x1f9120)=>(_0x1f9120[_0x4bfe14(0x11c)]??-Infinity)-(_0x203a33[_0x4bfe14(0x11c)]??-Infinity));let _0x404b23='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x579f9c[_0x4bfe14(0x724)]===0x0?_0x404b23+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x579f9c[_0x4bfe14(0xd75)]((_0x2f224c,_0x21c9a2)=>{const _0x5f2af4=_0x4bfe14;let _0x1bee7c='-',_0x5355d6='';if(_0x2f224c[_0x5f2af4(0x202)]!==null){const _0x516c6f=_0x2f224c[_0x5f2af4(0x202)]>0x0?_0x5f2af4(0x64f):_0x2f224c[_0x5f2af4(0x202)]<0x0?_0x5f2af4(0x68f):_0x5f2af4(0x3e1),_0x4c1a4c=_0x2f224c[_0x5f2af4(0x202)]>0x0?'+':'';_0x1bee7c=_0x5f2af4(0x1b3)+_0x516c6f+'\x22>'+_0x4c1a4c+_0x2f224c[_0x5f2af4(0x202)]+'</span>';if(_0x2f224c[_0x5f2af4(0x202)]>0x0)_0x5355d6='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x2f224c[_0x5f2af4(0x202)]<0x0?_0x5355d6=_0x5f2af4(0x803):_0x5355d6=_0x5f2af4(0xcf9);}let _0x1fb610='-';if(_0x2f224c['tGain']!==null){const _0x3cfeb5=_0x2f224c['tGain']>0x0?_0x5f2af4(0x64f):_0x2f224c[_0x5f2af4(0x11c)]<0x0?_0x5f2af4(0x68f):'text-gray-500',_0x1043b6=_0x2f224c['tGain']>0x0?'+':'';_0x1fb610=_0x5f2af4(0x1b3)+_0x3cfeb5+'\x22>'+_0x1043b6+_0x2f224c[_0x5f2af4(0x11c)][_0x5f2af4(0x935)](0x2)+_0x5f2af4(0xdf9);}_0x404b23+=_0x5f2af4(0x8df)+(_0x21c9a2+0x1)+_0x5f2af4(0xdf)+_0x2f224c[_0x5f2af4(0x1b0)]+_0x5f2af4(0x60f)+(_0x2f224c[_0x5f2af4(0xe14)]??'-')+_0x5f2af4(0x452)+(_0x2f224c[_0x5f2af4(0xe45)]??'-')+_0x5f2af4(0x60f)+_0x1bee7c+_0x5f2af4(0xaf0)+_0x5355d6+_0x5f2af4(0x799)+(_0x2f224c[_0x5f2af4(0xa77)]?.[_0x5f2af4(0x935)](0x2)??'-')+_0x5f2af4(0x5d9)+(_0x2f224c[_0x5f2af4(0x664)]?.[_0x5f2af4(0x935)](0x2)??'-')+_0x5f2af4(0x60f)+_0x1fb610+_0x5f2af4(0x2a9);}),_0x404b23+='</tbody></table></div>',_0xb8d79c[_0x4bfe14(0x40b)]=_0x404b23;}function handleRenameQuiz(_0xdf22ea,_0x5f100d){const _0x3f0bc1=_0x5be2be;actionTargetId=_0xdf22ea,document[_0x3f0bc1(0xc4d)](_0x3f0bc1(0xc98))['value']=_0x5f100d,renameQuizModal[_0x3f0bc1(0x6f1)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x5dec8f=_0x5be2be,_0x43262c=document[_0x5dec8f(0xc4d)](_0x5dec8f(0xded)),_0x28c79d=document[_0x5dec8f(0xc4d)](_0x5dec8f(0x3b1)),_0x803385=document[_0x5dec8f(0xc4d)](_0x5dec8f(0x121)),_0x5d823a=document[_0x5dec8f(0xc4d)](_0x5dec8f(0x7ef));_0x43262c[_0x5dec8f(0x5a2)](_0x5dec8f(0x4f4),()=>{const _0x1b6e3d=_0x5dec8f;_0x43262c['classList']['add'](_0x1b6e3d(0x970)),_0x28c79d[_0x1b6e3d(0x6f1)]['remove'](_0x1b6e3d(0x970)),_0x803385[_0x1b6e3d(0x6f1)][_0x1b6e3d(0x7d9)](_0x1b6e3d(0x476)),_0x5d823a[_0x1b6e3d(0x6f1)]['add'](_0x1b6e3d(0x476));}),_0x28c79d['addEventListener'](_0x5dec8f(0x4f4),()=>{const _0x14c8f8=_0x5dec8f;_0x28c79d[_0x14c8f8(0x6f1)][_0x14c8f8(0x648)](_0x14c8f8(0x970)),_0x43262c[_0x14c8f8(0x6f1)]['remove']('active'),_0x5d823a[_0x14c8f8(0x6f1)][_0x14c8f8(0x7d9)](_0x14c8f8(0x476)),_0x803385[_0x14c8f8(0x6f1)][_0x14c8f8(0x648)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x4d1740=_0x5be2be;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x53bf93=doc(db,_0x4d1740(0x6e9)+appId+_0x4d1740(0xdd9),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x53bf93,_0x3343f1=>{const _0x5d3d00=_0x4d1740;if(!_0x3343f1[_0x5d3d00(0x509)]()){showMessage(_0x5d3d00(0x754));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5d3d00(0x84c)?showView(_0x5d3d00(0x5e1)):showView('student');return;}const _0x47fa7c=_0x3343f1['data']();_0x47fa7c[_0x5d3d00(0x1c4)]&&(currentQuizData=_0x47fa7c[_0x5d3d00(0x1c4)]);!currentQuizData&&_0x47fa7c[_0x5d3d00(0x939)]&&((async()=>{const _0x34fe8e=_0x5d3d00;try{const _0x29a3a8=doc(db,'artifacts/'+appId+_0x34fe8e(0x42c),_0x47fa7c[_0x34fe8e(0x939)]),_0x378dc0=await getDoc(_0x29a3a8);_0x378dc0[_0x34fe8e(0x509)]()&&(currentQuizData={'id':_0x378dc0['id'],..._0x378dc0[_0x34fe8e(0x1de)]()});}catch(_0x28b578){console[_0x34fe8e(0x339)](_0x34fe8e(0x622),_0x28b578);}})());switch(_0x47fa7c[_0x5d3d00(0x7c3)]){case _0x5d3d00(0xa69):if(currentMode==='admin'){const _0x76f71e=_0x47fa7c[_0x5d3d00(0xda5)]?Object[_0x5d3d00(0xb11)](_0x47fa7c[_0x5d3d00(0xda5)]):[],_0x402ea8=_0x76f71e[_0x5d3d00(0x6e1)](([_0x811d8,_0x5d40b2])=>_0x5d40b2[_0x5d3d00(0x7c3)]===_0x5d3d00(0x970)),_0x36c9d0=document['getElementById'](_0x5d3d00(0x8f3));if(_0x36c9d0)_0x36c9d0[_0x5d3d00(0x4c4)]=_0x402ea8[_0x5d3d00(0x724)];const _0x3fe41b=document[_0x5d3d00(0xc4d)](_0x5d3d00(0xbf9));_0x3fe41b&&(_0x3fe41b[_0x5d3d00(0x40b)]=_0x402ea8[_0x5d3d00(0x546)](([_0x17c875,_0x2d8f42])=>_0x5d3d00(0x1d0)+_0x17c875+_0x5d3d00(0x540)+_0x17c875+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5d3d00(0x625)](''));const _0x564067=document[_0x5d3d00(0xc4d)](_0x5d3d00(0x296));_0x564067&&(_0x564067[_0x5d3d00(0xbb3)]=_0x402ea8[_0x5d3d00(0x724)]===0x0);}else showView(_0x5d3d00(0x82d)),liveGameView[_0x5d3d00(0x40b)]=_0x5d3d00(0x72d)+currentStudentName+_0x5d3d00(0xbc2);break;case _0x5d3d00(0xbc5):const _0x34f939=_0x47fa7c[_0x5d3d00(0xe7c)];if(currentQuizData&&currentQuizData[_0x5d3d00(0xb1f)][_0x34f939]){const _0x421a14=currentQuizData[_0x5d3d00(0xb1f)][_0x34f939],_0x5e5425=_0x47fa7c[_0x5d3d00(0xb39)]||_0x5d3d00(0xde6);switch(_0x5e5425){case _0x5d3d00(0xb90):currentMode==='admin'?showAdminSummaryView(_0x47fa7c,_0x421a14):showPlayerSummaryView(_0x47fa7c,currentStudentName);break;case _0x5d3d00(0xa45):currentMode==='admin'&&showTop5LeaderboardView(_0x47fa7c);break;case _0x5d3d00(0xde6):default:if(currentMode==='admin'){const _0x576d77=writeBatch(db);let _0x54f55e=![];Object[_0x5d3d00(0xb11)](_0x47fa7c['players'])[_0x5d3d00(0xd75)](([_0x5ebc81,_0x597bae])=>{const _0x269cc4=_0x5d3d00;if(_0x597bae['status']===_0x269cc4(0x970)&&_0x597bae['submittedAt']&&!_0x597bae[_0x269cc4(0x7ba)]){_0x54f55e=!![];const _0x5bdc65=_0x597bae[_0x269cc4(0xa9b)]['toDate']()-_0x47fa7c[_0x269cc4(0xc3a)]['toDate']();let _0x59ec0f=0x0;if(_0x597bae['lastAnswerCorrect']){const _0x4a6c2d=0x3e8,_0x2c364e=0x1f4,_0x3e3cdd=0x4e20;let _0x1d146d=_0x5bdc65/_0x3e3cdd;if(_0x1d146d>0x1)_0x1d146d=0x1;const _0x1575c5=Math['round'](_0x1d146d*_0x2c364e);_0x59ec0f=_0x4a6c2d-_0x1575c5;}const _0x4c816d=doc(db,_0x269cc4(0x6e9)+appId+_0x269cc4(0xdd9),currentLiveGameId);_0x576d77[_0x269cc4(0x9f3)](_0x4c816d,{[_0x269cc4(0x7a4)+_0x5ebc81+_0x269cc4(0x90d)]:increment(_0x59ec0f),[_0x269cc4(0x7a4)+_0x5ebc81+_0x269cc4(0x1cb)]:_0x59ec0f,[_0x269cc4(0x7a4)+_0x5ebc81+_0x269cc4(0x81f)]:!![]});}});_0x54f55e&&_0x576d77[_0x5d3d00(0x297)]()[_0x5d3d00(0x606)](_0x26cdad=>console[_0x5d3d00(0x339)](_0x5d3d00(0xcbf),_0x26cdad));lastRenderedAdminQuestionIndex!==_0x34f939&&(showAdminLiveQuestionView(_0x421a14,_0x34f939,currentQuizData['questions'][_0x5d3d00(0x724)]),lastRenderedAdminQuestionIndex=_0x34f939);const _0x455c55=_0x47fa7c[_0x5d3d00(0xda5)]||{},_0x5301c8=Object[_0x5d3d00(0x37f)](_0x455c55)['filter'](_0x37cea1=>_0x37cea1[_0x5d3d00(0x7c3)]==='active'),_0x5acd02=_0x5301c8[_0x5d3d00(0x724)],_0x52daab=_0x5301c8[_0x5d3d00(0x6e1)](_0x203c6c=>_0x203c6c['answeredCurrentQuestion']===!![])['length'],_0x306426=document[_0x5d3d00(0xc4d)](_0x5d3d00(0x7f8));if(_0x306426)_0x306426['textContent']=_0x52daab+'/'+_0x5acd02;const _0x160e9c=document['getElementById'](_0x5d3d00(0x99f));if(_0x160e9c){let _0x16920c=Object[_0x5d3d00(0xb11)](_0x455c55)[_0x5d3d00(0x6e1)](([_0x3d1472,_0xfc51a9])=>_0xfc51a9[_0x5d3d00(0x7c3)]===_0x5d3d00(0x970))[_0x5d3d00(0x546)](([_0x2a76e5,_0x41449a])=>{const _0x3529a1=_0x5d3d00,_0x64c361=_0x41449a[_0x3529a1(0x42a)]===!![],_0x5ce910=_0x64c361?_0x3529a1(0xd19):_0x3529a1(0xc0d),_0x47b4a4=_0x64c361?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x3529a1(0x84d);return _0x3529a1(0xb16)+_0x5ce910+_0x3529a1(0x640)+_0x47b4a4+_0x3529a1(0xc0c)+_0x2a76e5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x2a76e5+_0x3529a1(0x5c4);})[_0x5d3d00(0x625)]('');_0x160e9c[_0x5d3d00(0x40b)]=_0x16920c||_0x5d3d00(0x7e4);}_0x5acd02>0x0&&_0x52daab===_0x5acd02&&revealAnswerForAdmin(_0x34f939,currentQuizData['questions'][_0x5d3d00(0x724)]);}else{const _0xcb3d07=_0x47fa7c['players'][currentStudentName];_0xcb3d07&&!_0xcb3d07[_0x5d3d00(0x42a)]&&showStudentLiveQuestionView(_0x421a14,_0x34f939,currentQuizData[_0x5d3d00(0xb1f)][_0x5d3d00(0x724)]);}break;}}break;case'podium':showPodiumView(_0x47fa7c[_0x5d3d00(0xda5)],_0x5d3d00(0x487));break;}});}async function openGlobalActivityModal(){const _0x456e3f=_0x5be2be;if(allQuizzesGlobal[_0x456e3f(0x724)]===0x0){const _0x1e9114=await getDocs(collection(db,'artifacts/'+appId+_0x456e3f(0x42c)));allQuizzesGlobal=_0x1e9114[_0x456e3f(0x2b9)][_0x456e3f(0x546)](_0x3bebbd=>({'id':_0x3bebbd['id'],..._0x3bebbd['data']()}));}renderGlobalActivityList(''),document[_0x456e3f(0xc4d)](_0x456e3f(0xe7a))[_0x456e3f(0x6f1)][_0x456e3f(0x7d9)](_0x456e3f(0x476));}function renderGlobalActivityList(_0x177a00=''){const _0x526f36=_0x5be2be,_0x5440ce=document['getElementById'](_0x526f36(0x421)),_0x3705f0=_0x177a00[_0x526f36(0x6f7)]()[_0x526f36(0x2ce)](),_0x198429=allQuizzesGlobal[_0x526f36(0x546)](_0x1a66d9=>({..._0x1a66d9,'projectName':allProjects[_0x526f36(0x35d)](_0xceef65=>_0xceef65['id']===_0x1a66d9[_0x526f36(0xbb0)])?.[_0x526f36(0xb8b)]||_0x526f36(0x4a2)}))[_0x526f36(0x6e1)](_0x2a2e46=>(_0x2a2e46[_0x526f36(0x380)]||'')[_0x526f36(0x6f7)]()['includes'](_0x3705f0)||(_0x2a2e46[_0x526f36(0xb8b)]||'')['toLowerCase']()['includes'](_0x3705f0));document[_0x526f36(0xc4d)](_0x526f36(0xd2c))[_0x526f36(0x4c4)]='('+_0x198429[_0x526f36(0x724)]+_0x526f36(0x56a),_0x5440ce[_0x526f36(0x40b)]=_0x198429[_0x526f36(0x724)]?_0x198429['map'](_0x5e8219=>_0x526f36(0x9ca)+(_0x5e8219['topic']||_0x526f36(0x6de))+_0x526f36(0xe6d)+(_0x5e8219[_0x526f36(0xb1f)]?.[_0x526f36(0x724)]||0x0)+_0x526f36(0xc91)+_0x5e8219['projectName']+_0x526f36(0xd08)+_0x5e8219['id']+_0x526f36(0xdc7)+_0x5e8219['id']+_0x526f36(0x171))[_0x526f36(0x625)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0xc38f09){const _0x25903b=_0x5be2be;if(!currentLiveGameId||!_0xc38f09)return;const _0xdb0489=doc(db,'artifacts/'+appId+_0x25903b(0xdd9),currentLiveGameId),_0x3ab4a0={};_0x3ab4a0[_0x25903b(0x7a4)+_0xc38f09+'.status']=_0x25903b(0x511);try{await updateDoc(_0xdb0489,_0x3ab4a0);}catch(_0xe999cd){console[_0x25903b(0x339)](_0x25903b(0x887)+_0xc38f09+':',_0xe999cd),showMessage(_0x25903b(0x98e));}}async function authenticateUser(){const _0x1938d1=_0x5be2be;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1642ae){console[_0x1938d1(0x339)]('Authentication\x20failed:',_0x1642ae),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x5314e9){const _0x5ef314=_0x5be2be;adminView['classList'][_0x5ef314(0x648)](_0x5ef314(0x476)),studentView[_0x5ef314(0x6f1)]['add'](_0x5ef314(0x476)),projectDashboardView[_0x5ef314(0x6f1)][_0x5ef314(0x648)](_0x5ef314(0x476)),projectDetailView['classList'][_0x5ef314(0x648)](_0x5ef314(0x476)),quizResultsView['classList'][_0x5ef314(0x648)](_0x5ef314(0x476)),liveGameView[_0x5ef314(0x6f1)]['add'](_0x5ef314(0x476)),document[_0x5ef314(0xc4d)]('blueprint-project-manager-view')[_0x5ef314(0x6f1)]['add'](_0x5ef314(0x476)),studentInitialView[_0x5ef314(0x6f1)][_0x5ef314(0x648)]('hidden'),studentJoinGameView['classList'][_0x5ef314(0x648)](_0x5ef314(0x476)),studentNameSelectionView[_0x5ef314(0x6f1)][_0x5ef314(0x648)]('hidden'),studentQuizArea[_0x5ef314(0x6f1)][_0x5ef314(0x648)](_0x5ef314(0x476)),studentResultArea[_0x5ef314(0x6f1)][_0x5ef314(0x648)]('hidden'),studentReadingArea[_0x5ef314(0x6f1)][_0x5ef314(0x648)](_0x5ef314(0x476));const _0x459b1d=document['getElementById'](_0x5ef314(0x324)),_0x57ed3e=document[_0x5ef314(0xc4d)](_0x5ef314(0x7a9));if(_0x459b1d)_0x459b1d[_0x5ef314(0x6f1)]['add']('hidden');if(_0x57ed3e)_0x57ed3e[_0x5ef314(0x6f1)][_0x5ef314(0x648)](_0x5ef314(0x476));switch(_0x5314e9){case'admin-dashboard':adminView['classList'][_0x5ef314(0x7d9)](_0x5ef314(0x476)),projectDashboardView[_0x5ef314(0x6f1)]['remove']('hidden');break;case _0x5ef314(0x5e1):adminView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476)),projectDetailView[_0x5ef314(0x6f1)]['remove'](_0x5ef314(0x476));break;case'quiz-results':adminView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476)),quizResultsView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476));break;case'student':studentView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476)),studentInitialView[_0x5ef314(0x6f1)]['remove'](_0x5ef314(0x476));break;case _0x5ef314(0x82d):liveGameView['classList'][_0x5ef314(0x7d9)](_0x5ef314(0x476));break;case _0x5ef314(0x111):studentView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476));if(_0x459b1d)_0x459b1d[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476));break;case _0x5ef314(0xc13):studentView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476));if(_0x57ed3e)_0x57ed3e[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)]('hidden');break;default:studentView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476)),studentInitialView[_0x5ef314(0x6f1)][_0x5ef314(0x7d9)](_0x5ef314(0x476));break;}}function showJoinGameView(){const _0x284b74=_0x5be2be;studentInitialView['classList'][_0x284b74(0x648)](_0x284b74(0x476)),studentJoinGameView[_0x284b74(0x6f1)][_0x284b74(0x7d9)](_0x284b74(0x476));}async function handleSaveVisibilitySettings(){const _0x2ea84c=_0x5be2be;if(!currentProjectId)return;const _0xb4736c=doc(db,'artifacts/'+appId+_0x2ea84c(0x9b0),currentProjectId);try{await updateDoc(_0xb4736c,{'settings.showInStudentDashboard':document[_0x2ea84c(0xc4d)](_0x2ea84c(0x693))[_0x2ea84c(0x315)],'settings.isPasscodeEnabled':document[_0x2ea84c(0xc4d)](_0x2ea84c(0x568))[_0x2ea84c(0x315)],'settings.passcode':document[_0x2ea84c(0xc4d)](_0x2ea84c(0x4e9))[_0x2ea84c(0x1ce)][_0x2ea84c(0x2ce)]()}),showMessage(_0x2ea84c(0xadc));}catch(_0x167d09){console['error'](_0x2ea84c(0x6a4),_0x167d09),showMessage(_0x2ea84c(0x979));}}function setupEventListeners(){const _0x4414d1=_0x5be2be,_0xf683e3=document[_0x4414d1(0xc4d)](_0x4414d1(0x2dd)),_0x145481=document[_0x4414d1(0xc4d)](_0x4414d1(0x5fa));_0xf683e3&&_0x145481&&(_0x145481[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>_0xf683e3[_0x4414d1(0x4f4)]()),_0xf683e3[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0x265a7b=>{const _0xa79c4d=_0x4414d1;_0x265a7b[_0xa79c4d(0xa35)][_0xa79c4d(0xd8f)][_0xa79c4d(0x724)]>0x0&&handleScanImageForText(_0x265a7b[_0xa79c4d(0xa35)][_0xa79c4d(0xd8f)][0x0]);}));const _0x3a5849=document[_0x4414d1(0xc4d)]('wager-all-in-btn');_0x3a5849&&_0x3a5849[_0x4414d1(0x5a2)]('click',()=>{const _0x381164=_0x4414d1,_0x511169=document[_0x381164(0xc4d)](_0x381164(0x14d)),_0x29110b=document[_0x381164(0xc4d)]('wager-amount-display');_0x511169&&(_0x511169['value']=_0x511169[_0x381164(0xcf)],_0x29110b&&(_0x29110b[_0x381164(0x4c4)]=_0x511169[_0x381164(0x1ce)],_0x29110b[_0x381164(0x6f1)]['remove'](_0x381164(0xa68)),void _0x29110b['offsetWidth'],_0x29110b[_0x381164(0x6f1)]['add']('transform',_0x381164(0x88c),'scale-125',_0x381164(0x68f)),setTimeout(()=>_0x29110b['classList'][_0x381164(0x7d9)]('scale-125',_0x381164(0x68f)),0xc8)));});document[_0x4414d1(0xc4d)](_0x4414d1(0x1da))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x51c819=_0x4414d1;document[_0x51c819(0xc4d)]('wager-modal')[_0x51c819(0x6f1)][_0x51c819(0x648)](_0x51c819(0x476));}),document[_0x4414d1(0xc4d)]('confirm-wager-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x24350a=_0x4414d1,_0x835a3d=document[_0x24350a(0xc4d)](_0x24350a(0xa0c)),_0x4622b6=document['getElementById'](_0x24350a(0xce7)),_0x24a5db=document[_0x24350a(0xc4d)](_0x24350a(0x14d))[_0x24350a(0x1ce)],_0x1a326d=_0x4622b6[_0x24350a(0xa2c)][_0x24350a(0x5fd)],_0x2b82ca=JSON[_0x24350a(0x2fa)](_0x4622b6[_0x24350a(0xa2c)][_0x24350a(0xbc5)]),_0x556c86=JSON[_0x24350a(0x2fa)](_0x4622b6['dataset'][_0x24350a(0xb7b)]),_0x5a4d10=_0x4622b6[_0x24350a(0xa2c)]['playerName'];_0x835a3d[_0x24350a(0x6f1)][_0x24350a(0x648)](_0x24350a(0x476)),handleSyncAnswerSubmit(_0x1a326d,_0x2b82ca,_0x556c86,_0x5a4d10,![],_0x24a5db);}),document['querySelectorAll']('input[name=\x22syncVariant\x22]')['forEach'](_0x2d3f65=>{const _0x264dd3=_0x4414d1;_0x2d3f65[_0x264dd3(0x5a2)](_0x264dd3(0x25a),_0xbe2e26=>{const _0x4b8202=_0x264dd3,_0x3c4e2f=document[_0x4b8202(0xc4d)](_0x4b8202(0x837));_0xbe2e26[_0x4b8202(0xa35)][_0x4b8202(0x1ce)]===_0x4b8202(0x995)?_0x3c4e2f[_0x4b8202(0x6f1)][_0x4b8202(0x7d9)](_0x4b8202(0x476)):_0x3c4e2f[_0x4b8202(0x6f1)]['add'](_0x4b8202(0x476));});}),document[_0x4414d1(0xc4d)](_0x4414d1(0x1c8))['addEventListener'](_0x4414d1(0x25a),_0x2dea2b=>{const _0x581fcc=_0x4414d1;document['getElementById'](_0x581fcc(0x650))['classList'][_0x581fcc(0x545)](_0x581fcc(0x476),!_0x2dea2b[_0x581fcc(0xa35)][_0x581fcc(0x315)]);});const _0x36be7d=document[_0x4414d1(0xc4d)](_0x4414d1(0x8b7)),_0x566925=document[_0x4414d1(0xc4d)]('confidence-modal');_0x36be7d&&_0x566925&&_0x36be7d[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x17e9e8=_0x4414d1;_0x566925['classList'][_0x17e9e8(0x648)](_0x17e9e8(0x476)),_0x566925['dataset'][_0x17e9e8(0x57a)]='';});const _0x5b886f=document[_0x4414d1(0xc4d)](_0x4414d1(0xd5f));_0x5b886f&&(_0x5b886f[_0x4414d1(0x5a2)]('mousedown',wakeUpScreen),_0x5b886f[_0x4414d1(0x5a2)](_0x4414d1(0xe3b),wakeUpScreen));document[_0x4414d1(0xc4d)](_0x4414d1(0x98c))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),async()=>{const _0x54342e=_0x4414d1;if(!currentBlueprintProjectId)return;const _0x4720b8=document['getElementById'](_0x54342e(0x46e))[_0x54342e(0x1ce)][_0x54342e(0x2ce)](),_0x370d66=doc(db,_0x54342e(0x6e9)+appId+_0x54342e(0xce3),currentBlueprintProjectId);try{await updateDoc(_0x370d66,{'referenceFileUrl':_0x4720b8}),showMessage(_0x54342e(0xdb4));}catch(_0x16dfca){console[_0x54342e(0x339)](_0x54342e(0x342),_0x16dfca),showMessage(_0x54342e(0x979));}}),document['getElementById']('add-parallel-shortcut-tab-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleAddParallelShortcutTab),document[_0x4414d1(0xc4d)](_0x4414d1(0xcd4))['addEventListener'](_0x4414d1(0x4f4),_0xb4518=>{const _0x2ffc89=_0x4414d1;_0xb4518[_0x2ffc89(0xa35)][_0x2ffc89(0xac5)](_0x2ffc89(0x83b))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x2ffc89(0xc4d)](_0x2ffc89(0x6b5))['classList'][_0x2ffc89(0x7d9)]('hidden'));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x8a6))['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x431f4e=_0x4414d1;document['getElementById']('additional-parallel-shortcuts-modal')['classList']['add'](_0x431f4e(0x476));}),document['addEventListener']('click',_0x2c6c01=>{const _0x22681c=_0x4414d1;!_0x2c6c01[_0x22681c(0xa35)][_0x22681c(0xac5)](_0x22681c(0x4e1))&&document[_0x22681c(0x760)](_0x22681c(0x379))[_0x22681c(0xd75)](_0xf537c2=>_0xf537c2[_0x22681c(0x6f1)][_0x22681c(0x648)](_0x22681c(0x476)));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x31a))[_0x4414d1(0x5a2)]('click',handleAddFileShortcutTab),document[_0x4414d1(0xc4d)](_0x4414d1(0x9db))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x47ce38=>{const _0x226aae=_0x4414d1;_0x47ce38[_0x226aae(0xa35)][_0x226aae(0xac5)](_0x226aae(0xa16))&&(activeFileShortcutTabId=_0x226aae(0x1d5),renderAdditionalFileShortcutsModal(),document[_0x226aae(0xc4d)](_0x226aae(0x65f))[_0x226aae(0x6f1)][_0x226aae(0x7d9)](_0x226aae(0x476)));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x28d))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x5dc729=_0x4414d1;document[_0x5dc729(0xc4d)]('additional-file-shortcuts-modal')[_0x5dc729(0x6f1)][_0x5dc729(0x648)](_0x5dc729(0x476));}),document[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x433d55=>{const _0x326497=_0x4414d1;!_0x433d55[_0x326497(0xa35)][_0x326497(0xac5)](_0x326497(0x722))&&document['querySelectorAll'](_0x326497(0x812))[_0x326497(0xd75)](_0x2d14e7=>_0x2d14e7['classList'][_0x326497(0x648)](_0x326497(0x476)));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x30b))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleAddShortcutTab),document['getElementById'](_0x4414d1(0x8e9))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x49fff9=>{const _0x36c0b2=_0x4414d1,_0x679f28=_0x49fff9[_0x36c0b2(0xa35)][_0x36c0b2(0xac5)]('.parallel-shortcut-btn'),_0x335a77=_0x49fff9[_0x36c0b2(0xa35)][_0x36c0b2(0xac5)](_0x36c0b2(0x3a4)),_0x3b7867=_0x49fff9[_0x36c0b2(0xa35)][_0x36c0b2(0xac5)](_0x36c0b2(0x433));if(_0x335a77)openParallelTestShortcutEditor(_0x335a77[_0x36c0b2(0xa2c)]['id']);else{if(_0x3b7867){const _0x57d848=_0x3b7867[_0x36c0b2(0xa2c)]['id'];showConfirmation(_0x36c0b2(0x265),async()=>{const _0x4baf90=_0x36c0b2,_0x424b84=parallelTestShortcuts[_0x4baf90(0x6e1)](_0x5a5292=>_0x5a5292['id']!==_0x57d848),_0x582e0b=doc(db,_0x4baf90(0x789),_0x4baf90(0xa44));await setDoc(_0x582e0b,{'shortcuts':_0x424b84},{'merge':!![]});});}else _0x679f28&&handleParallelTestShortcutClick(_0x679f28[_0x36c0b2(0xa2c)]['id']);}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x91c))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x4414d1(0x96d))[_0x4414d1(0x5a2)]('click',()=>{const _0x1c9de9=_0x4414d1;document[_0x1c9de9(0xc4d)]('parallel-shortcut-editor-modal')[_0x1c9de9(0x6f1)][_0x1c9de9(0x648)](_0x1c9de9(0x476));}),document[_0x4414d1(0xc4d)]('save-parallel-shortcut-btn')['addEventListener'](_0x4414d1(0x4f4),saveParallelTestShortcutChanges),document[_0x4414d1(0xc4d)](_0x4414d1(0xcd4))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x496cc4=>{const _0x4a5f25=_0x4414d1;_0x496cc4[_0x4a5f25(0xa35)][_0x4a5f25(0xac5)]('#open-additional-parallel-shortcuts-btn')&&document[_0x4a5f25(0xc4d)]('additional-parallel-shortcuts-modal')[_0x4a5f25(0x6f1)][_0x4a5f25(0x7d9)]('hidden');}),document[_0x4414d1(0xc4d)](_0x4414d1(0x8a6))[_0x4414d1(0x5a2)]('click',()=>{const _0x472874=_0x4414d1;document[_0x472874(0xc4d)](_0x472874(0x6b5))['classList'][_0x472874(0x648)](_0x472874(0x476));}),document['getElementById'](_0x4414d1(0x33e))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x32a8ec=>{const _0x5c6d0c=_0x4414d1,_0x979ede=document['getElementById'](_0x5c6d0c(0x6b5)),_0x3a1c60=_0x32a8ec[_0x5c6d0c(0xa35)][_0x5c6d0c(0xac5)]('.use-hidden-parallel-shortcut-btn'),_0xd6ea23=_0x32a8ec['target'][_0x5c6d0c(0xac5)](_0x5c6d0c(0x3ff)),_0x343896=_0x32a8ec[_0x5c6d0c(0xa35)][_0x5c6d0c(0xac5)](_0x5c6d0c(0x39f));if(_0x3a1c60)_0x979ede[_0x5c6d0c(0x6f1)]['add'](_0x5c6d0c(0x476)),handleParallelTestShortcutClick(_0x3a1c60[_0x5c6d0c(0xa2c)]['id']);else{if(_0xd6ea23)_0x979ede[_0x5c6d0c(0x6f1)]['add'](_0x5c6d0c(0x476)),openParallelTestShortcutEditor(_0xd6ea23[_0x5c6d0c(0xa2c)]['id']);else{if(_0x343896){const _0x358cac=_0x343896[_0x5c6d0c(0xa2c)]['id'];showConfirmation(_0x5c6d0c(0x265),async()=>{const _0x319d5a=_0x5c6d0c,_0x4ecd53=parallelTestShortcuts['filter'](_0x1224e=>_0x1224e['id']!==_0x358cac),_0x12affb=doc(db,_0x319d5a(0x789),_0x319d5a(0xa44));await setDoc(_0x12affb,{'shortcuts':_0x4ecd53},{'merge':!![]});});}}}}),document[_0x4414d1(0xc4d)]('file-shortcut-container')['addEventListener'](_0x4414d1(0x4f4),_0x365b0a=>{const _0x278371=_0x4414d1,_0x544b60=_0x365b0a[_0x278371(0xa35)]['closest'](_0x278371(0x9ac)),_0x1b1d11=_0x365b0a[_0x278371(0xa35)]['closest']('.edit-file-shortcut-btn'),_0x41fe2d=_0x365b0a[_0x278371(0xa35)][_0x278371(0xac5)](_0x278371(0xd4c));if(_0x1b1d11)openFileShortcutEditor(_0x1b1d11[_0x278371(0xa2c)]['id']);else{if(_0x41fe2d){const _0x38ad15=_0x41fe2d[_0x278371(0xa2c)]['id'];showConfirmation(_0x278371(0x265),async()=>{const _0x1943db=_0x278371,_0x20dc89=fileShortcuts[_0x1943db(0x6e1)](_0xe11e8f=>_0xe11e8f['id']!==_0x38ad15),_0x365850=doc(db,'globalSettings',_0x1943db(0x310));await setDoc(_0x365850,{'shortcuts':_0x20dc89},{'merge':!![]});});}else _0x544b60&&handleFileShortcutClick(_0x544b60['dataset']['id']);}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x637))['addEventListener']('click',()=>openFileShortcutEditor(null)),document[_0x4414d1(0xc4d)](_0x4414d1(0x9a1))['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x20fb85=_0x4414d1;document[_0x20fb85(0xc4d)](_0x20fb85(0x563))[_0x20fb85(0x6f1)][_0x20fb85(0x648)](_0x20fb85(0x476));}),document['getElementById'](_0x4414d1(0x909))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),saveFileShortcutChanges),document['getElementById'](_0x4414d1(0x9db))[_0x4414d1(0x5a2)]('click',_0x3ff4db=>{const _0xb52ddc=_0x4414d1;_0x3ff4db[_0xb52ddc(0xa35)][_0xb52ddc(0xac5)]('#open-additional-file-shortcuts-btn')&&document['getElementById'](_0xb52ddc(0x65f))[_0xb52ddc(0x6f1)][_0xb52ddc(0x7d9)]('hidden');}),document[_0x4414d1(0xc4d)]('close-additional-file-shortcuts-btn')[_0x4414d1(0x5a2)]('click',()=>{const _0x3de7ea=_0x4414d1;document[_0x3de7ea(0xc4d)](_0x3de7ea(0x65f))[_0x3de7ea(0x6f1)]['add'](_0x3de7ea(0x476));}),document['getElementById']('additional-file-shortcuts-list')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x280ef3=>{const _0x52cf07=_0x4414d1,_0x23a3d2=document[_0x52cf07(0xc4d)](_0x52cf07(0x65f)),_0x552a40=_0x280ef3[_0x52cf07(0xa35)][_0x52cf07(0xac5)]('.use-hidden-file-shortcut-btn'),_0x373028=_0x280ef3[_0x52cf07(0xa35)]['closest'](_0x52cf07(0xafb)),_0x3a683f=_0x280ef3['target'][_0x52cf07(0xac5)](_0x52cf07(0x2ed));if(_0x552a40)_0x23a3d2[_0x52cf07(0x6f1)]['add'](_0x52cf07(0x476)),handleFileShortcutClick(_0x552a40[_0x52cf07(0xa2c)]['id']);else{if(_0x373028)_0x23a3d2[_0x52cf07(0x6f1)][_0x52cf07(0x648)](_0x52cf07(0x476)),openFileShortcutEditor(_0x373028['dataset']['id']);else{if(_0x3a683f){const _0x526412=_0x3a683f[_0x52cf07(0xa2c)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x2bf280=_0x52cf07,_0x3648c4=fileShortcuts['filter'](_0xc8475a=>_0xc8475a['id']!==_0x526412),_0x1e2831=doc(db,_0x2bf280(0x789),'fileShortcutsConfig');await setDoc(_0x1e2831,{'shortcuts':_0x3648c4},{'merge':!![]});});}}}}),document[_0x4414d1(0xc4d)]('blueprint-input-area')['addEventListener'](_0x4414d1(0x4f4),_0x2f4732=>{const _0x22ac08=_0x4414d1;_0x2f4732['target'][_0x22ac08(0xac5)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x22ac08(0x1d5),renderAdditionalShortcutsModal(),document['getElementById'](_0x22ac08(0xde4))[_0x22ac08(0x6f1)][_0x22ac08(0x7d9)](_0x22ac08(0x476)));}),document[_0x4414d1(0xc4d)]('close-additional-shortcuts-btn')[_0x4414d1(0x5a2)]('click',()=>{const _0x20a6ce=_0x4414d1;document[_0x20a6ce(0xc4d)](_0x20a6ce(0xde4))[_0x20a6ce(0x6f1)][_0x20a6ce(0x648)](_0x20a6ce(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x792))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x2331b0=>{const _0x4ffd4b=_0x4414d1,_0xe16c19=_0x2331b0[_0x4ffd4b(0xa35)][_0x4ffd4b(0xac5)](_0x4ffd4b(0xcef)),_0x51426c=_0x2331b0['target'][_0x4ffd4b(0xac5)](_0x4ffd4b(0xa30)),_0x26956e=_0x2331b0[_0x4ffd4b(0xa35)][_0x4ffd4b(0xac5)](_0x4ffd4b(0xa98)),_0x5ac7c0=document[_0x4ffd4b(0xc4d)]('additional-shortcuts-modal');if(_0xe16c19)_0x5ac7c0['classList']['add'](_0x4ffd4b(0x476)),handleShortcutClick(_0xe16c19['dataset']['id']);else{if(_0x51426c)_0x5ac7c0[_0x4ffd4b(0x6f1)]['add'](_0x4ffd4b(0x476)),openShortcutEditor(_0x51426c['dataset']['id']);else{if(_0x26956e){const _0x54e328=_0x26956e['dataset']['id'],_0x2dce63=blueprintShortcuts[_0x4ffd4b(0x35d)](_0x368538=>_0x368538['id']===_0x54e328)?.[_0x4ffd4b(0x1b0)];showConfirmation(_0x4ffd4b(0x687)+_0x2dce63+'\x22?',async()=>{const _0x3ce74c=_0x4ffd4b,_0x120c36=blueprintShortcuts['filter'](_0x38c4e6=>_0x38c4e6['id']!==_0x54e328);try{const _0x491db3=doc(db,'globalSettings',_0x3ce74c(0xb28));await setDoc(_0x491db3,{'blueprintShortcuts':_0x120c36},{'merge':!![]});}catch(_0x2091a6){console['error'](_0x3ce74c(0x431),_0x2091a6);}});}}}}),document[_0x4414d1(0xc4d)](_0x4414d1(0xb31))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x1e70a5=>{const _0x3ffed4=_0x4414d1,_0x4a554c=_0x1e70a5['target']['closest']('.shortcut-btn'),_0x52653a=_0x1e70a5[_0x3ffed4(0xa35)]['closest'](_0x3ffed4(0xab7)),_0x228f91=_0x1e70a5[_0x3ffed4(0xa35)][_0x3ffed4(0xac5)](_0x3ffed4(0xdb9));if(_0x52653a)openShortcutEditor(_0x52653a[_0x3ffed4(0xa2c)]['id']);else{if(_0x228f91){const _0x444df8=_0x228f91[_0x3ffed4(0xa2c)]['id'],_0x29e4ac=blueprintShortcuts['find'](_0x1eae26=>_0x1eae26['id']===_0x444df8)?.['name'];showConfirmation(_0x3ffed4(0x687)+_0x29e4ac+'\x22?',async()=>{const _0x1e0f58=_0x3ffed4,_0x182d04=blueprintShortcuts[_0x1e0f58(0x6e1)](_0x54b1b1=>_0x54b1b1['id']!==_0x444df8);try{const _0x23d09e=doc(db,'globalSettings',_0x1e0f58(0xb28));await setDoc(_0x23d09e,{'blueprintShortcuts':_0x182d04},{'merge':!![]});}catch(_0x5d2906){console['error'](_0x1e0f58(0x431),_0x5d2906);}});}else _0x4a554c&&handleShortcutClick(_0x4a554c[_0x3ffed4(0xa2c)]['id']);}}),document['getElementById']('add-shortcut-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>openShortcutEditor(null)),document[_0x4414d1(0xc4d)](_0x4414d1(0x365))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x3273a1=_0x4414d1;document[_0x3273a1(0xc4d)](_0x3273a1(0xa92))[_0x3273a1(0x6f1)]['add']('hidden');}),document[_0x4414d1(0xc4d)]('save-shortcut-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),saveShortcutChanges),document[_0x4414d1(0xc4d)](_0x4414d1(0x9c7))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),async()=>{const _0x176862=_0x4414d1,_0x183d5a=document['getElementById']('blueprint-upload-input'),_0x5028f5=document[_0x176862(0xc4d)](_0x176862(0x5ac));_0x183d5a[_0x176862(0xd8f)][_0x176862(0x724)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x183d5a['files'][0x0],_0x5028f5[_0x176862(0xd8f)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x4414d1(0xc4d)]('topic-quiz-bank-modal')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),async _0x241643=>{const _0xfb0a2a=_0x4414d1,_0x288a4e=document[_0xfb0a2a(0xc4d)](_0xfb0a2a(0x2a5)),_0x56e02f=_0x241643[_0xfb0a2a(0xa35)]['closest']('.bp-view-analysis-btn'),_0x2e8878=_0x241643[_0xfb0a2a(0xa35)][_0xfb0a2a(0xac5)](_0xfb0a2a(0x5d8)),_0x42e2ab=_0x241643[_0xfb0a2a(0xa35)]['closest'](_0xfb0a2a(0xad6)),_0x2cabd8=_0x241643[_0xfb0a2a(0xa35)][_0xfb0a2a(0xac5)](_0xfb0a2a(0x3c1)),_0x2e23c4=_0x241643['target']['closest']('.bp-live-btn'),_0x4361fe=_0x241643[_0xfb0a2a(0xa35)][_0xfb0a2a(0xac5)](_0xfb0a2a(0xf3));if(_0x56e02f){cameFromBlueprint=!![];const _0x57dc94=_0x56e02f[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x939)];showQuizDetailView(_0x57dc94),_0x288a4e[_0xfb0a2a(0x6f1)][_0xfb0a2a(0x648)](_0xfb0a2a(0x476));}else{if(_0x2e8878){const _0x102bf0=_0x2e8878['dataset'][_0xfb0a2a(0x2ee)],_0x39f665=_0x2e8878[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x939)],_0x447951=allQuizzesGlobal[_0xfb0a2a(0x35d)](_0x8a9089=>_0x8a9089['id']===_0x39f665),_0x6f58=_0x447951?_0x447951[_0xfb0a2a(0x380)]:_0xfb0a2a(0xe23);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x6f58+_0xfb0a2a(0xc64),async()=>{const _0x337926=_0xfb0a2a;try{const _0x48986e=doc(db,'artifacts/'+appId+_0x337926(0xce3),currentBlueprintProjectId);await updateDoc(_0x48986e,{['topics.'+_0x102bf0+'.linkedQuizIds']:arrayRemove(_0x39f665)}),showMessage(_0x337926(0x6f6)),openTopicQuizBank(_0x102bf0),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x573efb){console[_0x337926(0x339)](_0x337926(0x19e),_0x573efb),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x42e2ab){cameFromBlueprint=!![];const _0x68479e=_0x42e2ab[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x939)],_0x1c5e21=allQuizzesGlobal[_0xfb0a2a(0x35d)](_0x3746cb=>_0x3746cb['id']===_0x68479e);_0x1c5e21&&(startPresentation(_0x1c5e21),_0x288a4e['classList'][_0xfb0a2a(0x648)](_0xfb0a2a(0x476)));}else{if(_0x2cabd8){cameFromBlueprint=!![];const _0x579c10=_0x2cabd8['dataset'][_0xfb0a2a(0x939)],_0x24b6de=allQuizzesGlobal[_0xfb0a2a(0x35d)](_0x13a659=>_0x13a659['id']===_0x579c10);_0x24b6de&&(currentQuizData=_0x24b6de,startAdminTest(),_0x288a4e[_0xfb0a2a(0x6f1)][_0xfb0a2a(0x648)](_0xfb0a2a(0x476)));}else{if(_0x2e23c4)cameFromBlueprint=!![],handleStartLiveRace(_0x2e23c4[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x939)]),_0x288a4e[_0xfb0a2a(0x6f1)][_0xfb0a2a(0x648)](_0xfb0a2a(0x476));else{if(_0x4361fe){cameFromBlueprint=!![];const _0x388fdb=_0x4361fe[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x939)],_0x205fae=_0x4361fe[_0xfb0a2a(0xa2c)][_0xfb0a2a(0x5b1)],_0x5e05b4=allQuizzesGlobal[_0xfb0a2a(0x35d)](_0x5781ad=>_0x5781ad['id']===_0x388fdb);_0x5e05b4&&(showGameStartConfirmationModal(_0x388fdb,_0x205fae,_0x5e05b4[_0xfb0a2a(0x380)]),_0x288a4e[_0xfb0a2a(0x6f1)][_0xfb0a2a(0x648)](_0xfb0a2a(0x476)));}}}}}}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x925))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x5dbd88=_0x4414d1;document[_0x5dbd88(0xc4d)]('manual-blueprint-modal')[_0x5dbd88(0x6f1)][_0x5dbd88(0x7d9)](_0x5dbd88(0x476)),document['getElementById']('manual-bp-project-name')['value']='',document[_0x5dbd88(0xc4d)](_0x5dbd88(0x1e9))[_0x5dbd88(0x1ce)]='',document[_0x5dbd88(0xc4d)](_0x5dbd88(0x169))[_0x5dbd88(0x1ce)]='';}),document[_0x4414d1(0xc4d)](_0x4414d1(0x6e4))[_0x4414d1(0x5a2)]('click',()=>{const _0x5ac184=_0x4414d1;document['getElementById'](_0x5ac184(0x1a6))[_0x5ac184(0x6f1)][_0x5ac184(0x648)](_0x5ac184(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0xb37))['addEventListener']('click',handleManualBlueprintSave),document[_0x4414d1(0xc4d)]('cancel-bp-settings-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>document[_0x4414d1(0xc4d)](_0x4414d1(0x863))[_0x4414d1(0x6f1)][_0x4414d1(0x648)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)]('save-bp-settings-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleSaveBlueprintPageSettings),document[_0x4414d1(0xc4d)](_0x4414d1(0x3a7))['addEventListener'](_0x4414d1(0x4f4),openBlueprintQuizSettings),document['getElementById'](_0x4414d1(0x80d))['addEventListener']('click',saveBlueprintProject),document[_0x4414d1(0xc4d)](_0x4414d1(0xb17))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),showBlueprintProjects),document[_0x4414d1(0xc4d)]('cancel-blueprint-projects-btn')[_0x4414d1(0x5a2)]('click',()=>{const _0x2edfc5=_0x4414d1;document[_0x2edfc5(0xc4d)](_0x2edfc5(0x478))[_0x2edfc5(0x6f1)]['add'](_0x2edfc5(0x476));}),document['getElementById']('blueprint-project-list')['addEventListener'](_0x4414d1(0x4f4),_0x56df25=>{const _0x22aa65=_0x4414d1,_0x16654e=_0x56df25['target'][_0x22aa65(0xac5)](_0x22aa65(0xc1c)),_0x6dcaa9=_0x56df25[_0x22aa65(0xa35)]['closest'](_0x22aa65(0x24f));if(_0x16654e)displayBlueprintProjectManager(_0x16654e[_0x22aa65(0xa2c)]['id']);else _0x6dcaa9&&handleDeepDeleteBlueprintProject(_0x6dcaa9['dataset']['id']);}),document['getElementById'](_0x4414d1(0xd20))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x37c292=_0x4414d1;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x37c292(0x1b7))['classList'][_0x37c292(0x648)](_0x37c292(0x476)),showView(_0x37c292(0xb0c));}),document['getElementById'](_0x4414d1(0xae7))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),addTopicToProject),document[_0x4414d1(0xc4d)](_0x4414d1(0x82e))[_0x4414d1(0x5a2)]('click',async _0x492f4f=>{const _0x570d7f=_0x4414d1,_0x17ff00=_0x492f4f[_0x570d7f(0xa35)]['closest'](_0x570d7f(0x416));if(!_0x17ff00)return;const _0x14bd12=_0x17ff00[_0x570d7f(0xa2c)]['topicId'],_0xe447d2=_0x492f4f['target']['closest'](_0x570d7f(0x989)),_0x347758=_0x492f4f[_0x570d7f(0xa35)][_0x570d7f(0xac5)](_0x570d7f(0xa71)),_0xa0fc20=_0x492f4f['target'][_0x570d7f(0xac5)](_0x570d7f(0x9ba)),_0x3e04d1=_0x492f4f[_0x570d7f(0xa35)][_0x570d7f(0xac5)](_0x570d7f(0x29a)),_0xfe6d76=_0x492f4f[_0x570d7f(0xa35)][_0x570d7f(0xac5)]('.view-bp-lesson-btn'),_0x4a1dd3=_0x492f4f[_0x570d7f(0xa35)]['closest'](_0x570d7f(0x7dd)),_0x5252e9=_0x492f4f[_0x570d7f(0xa35)]['closest'](_0x570d7f(0x62f)),_0x15ecef=_0x492f4f[_0x570d7f(0xa35)]['closest'](_0x570d7f(0x5a9)),_0x25048b=_0x1945ce=>{const _0x55d309=_0x570d7f,_0x119693=_0x1945ce[_0x55d309(0xab2)](_0x55d309(0x856))[_0x55d309(0x4c4)][_0x55d309(0x2ce)](),_0x111714=_0x1945ce['closest'](_0x55d309(0xdfe))[_0x55d309(0x66e)],_0x3b6351=_0x111714?_0x111714[_0x55d309(0x4c4)][_0x55d309(0x2ce)]():'';return _0x3b6351+':\x20'+_0x119693;};if(_0x3e04d1)openTopicQuizBank(_0x14bd12);else{if(_0xe447d2){const _0x12291d=_0x25048b(_0x17ff00);selectProjectAndGenerateBlueprintQuiz(_0x12291d,null,_0x14bd12,!![]);}else{if(_0x347758){const _0x571e93=_0x25048b(_0x17ff00);try{const _0x5b7c13=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x570d7f(0x1a2),_0x14bd12),_0x113e0d=await getDoc(_0x5b7c13);if(_0x113e0d[_0x570d7f(0x509)]()){const _0x5b9f86=_0x113e0d[_0x570d7f(0x1de)]()[_0x570d7f(0xb76)],_0x24e242=document[_0x570d7f(0x52f)](_0x570d7f(0xe52)),_0x31014a=_0x2103d9=>{const _0x3a3b8e=_0x570d7f;if(!_0x2103d9)return'';return _0x24e242[_0x3a3b8e(0x40b)]=_0x2103d9,_0x24e242['textContent']||_0x24e242[_0x3a3b8e(0x717)]||'';},_0x51df51=(_0x31014a(_0x5b9f86[_0x570d7f(0xdad)])+'\x20'+_0x31014a(_0x5b9f86[_0x570d7f(0x81b)])+'\x20'+_0x31014a(_0x5b9f86[_0x570d7f(0x445)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x571e93,_0x51df51,_0x14bd12,![]);}else showMessage(_0x570d7f(0xb61));}catch(_0xf86301){console[_0x570d7f(0x339)](_0x570d7f(0x6e8),_0xf86301),showMessage(_0x570d7f(0x1c9));}}else{if(_0xa0fc20){const _0x16264e=_0x25048b(_0x17ff00);selectProjectAndGenerateBlueprintQuiz(_0x16264e,null,_0x14bd12,![]);}else{if(_0xfe6d76){const _0x22732e=doc(db,'artifacts/'+appId+_0x570d7f(0xce3),currentBlueprintProjectId),_0x435b49=await getDoc(_0x22732e);if(_0x435b49[_0x570d7f(0x509)]()){const _0x16af24=_0x435b49[_0x570d7f(0x1de)](),_0x2263bd=_0x16af24[_0x570d7f(0x2c9)][_0x14bd12];if(_0x2263bd&&_0x2263bd[_0x570d7f(0x7c3)]===_0x570d7f(0xb10))try{const _0x41fd03=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x570d7f(0x1a2),_0x14bd12),_0x58a771=await getDoc(_0x41fd03);if(_0x58a771[_0x570d7f(0x509)]()){const _0x3d7c21=_0x58a771[_0x570d7f(0x1de)]()[_0x570d7f(0xb76)];document[_0x570d7f(0xc4d)](_0x570d7f(0x8d9))[_0x570d7f(0x4c4)]=_0x570d7f(0xd6a)+_0x25048b(_0x17ff00),document[_0x570d7f(0xc4d)](_0x570d7f(0x3d4))['innerHTML']=_0x3d7c21[_0x570d7f(0xdad)],document['getElementById']('memoryContent')[_0x570d7f(0x40b)]=_0x3d7c21[_0x570d7f(0x81b)],document[_0x570d7f(0xc4d)](_0x570d7f(0x87c))[_0x570d7f(0x40b)]=_0x3d7c21[_0x570d7f(0x445)];const _0x508dad=document[_0x570d7f(0xc4d)](_0x570d7f(0x124));_0x3d7c21[_0x570d7f(0x712)]?(currentApplicationData=_0x3d7c21[_0x570d7f(0x712)],_0x508dad[_0x570d7f(0x40b)]=currentApplicationData[_0x570d7f(0x546)]((_0x2f4431,_0x5a3ebf)=>_0x570d7f(0x77a)+(_0x5a3ebf+0x1)+'.\x20'+marked[_0x570d7f(0xd8d)](_0x2f4431['question'])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x5a3ebf+_0x570d7f(0x3bb)+_0x2f4431[_0x570d7f(0xa3c)][_0x570d7f(0x546)]((_0x35cc79,_0x2fba07)=>_0x570d7f(0xe70)+_0x5a3ebf+',\x20'+_0x2fba07+')\x22>'+String[_0x570d7f(0x2e6)](0x61+_0x2fba07)+'.\x20'+marked[_0x570d7f(0xd8d)](_0x35cc79)+'</button>')[_0x570d7f(0x625)]('')+'</div></div>')[_0x570d7f(0x625)]('')):(currentApplicationData=[],_0x508dad[_0x570d7f(0x40b)]=_0x3d7c21['applicationHTML']||_0x3d7c21[_0x570d7f(0x825)]),document['getElementById'](_0x570d7f(0x723))[_0x570d7f(0x6f1)][_0x570d7f(0x648)]('hidden'),document[_0x570d7f(0xc4d)](_0x570d7f(0x5ab))[_0x570d7f(0x6f1)][_0x570d7f(0x7d9)](_0x570d7f(0x476)),document[_0x570d7f(0xc4d)](_0x570d7f(0x2a2))[_0x570d7f(0x6f1)][_0x570d7f(0x7d9)](_0x570d7f(0x476)),window['MathJax']&&MathJax['typesetPromise']([document['getElementById'](_0x570d7f(0x1a7))]);}else showMessage(_0x570d7f(0xc9f));}catch(_0x2ee2c0){console[_0x570d7f(0x339)](_0x570d7f(0xaf7),_0x2ee2c0),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x570d7f(0x5e9));}}else{if(_0x4a1dd3){const _0x1a73d2=_0x25048b(_0x17ff00),_0x35add7=doc(db,'artifacts/'+appId+_0x570d7f(0xce3),currentBlueprintProjectId),_0x2653a4=await getDoc(_0x35add7);if(_0x2653a4[_0x570d7f(0x509)]()){const _0x456ec5=_0x2653a4[_0x570d7f(0x1de)]();generateAndSaveLessonForBlueprint(_0x14bd12,_0x1a73d2,_0x456ec5[_0x570d7f(0x2e4)]);}}else{if(_0x5252e9)editTopicInProject(_0x14bd12);else _0x15ecef&&deleteTopicFromProject(_0x14bd12);}}}}}}}),document[_0x4414d1(0xc4d)](_0x4414d1(0xa24))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleFixLessonLatex),document['getElementById'](_0x4414d1(0x9f8))['addEventListener'](_0x4414d1(0x4f4),handleExportLessonToPDF),document[_0x4414d1(0xc4d)](_0x4414d1(0xb24))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x441528=_0x4414d1;document[_0x441528(0xc4d)]('lesson-view-modal')[_0x441528(0x6f1)][_0x441528(0x648)](_0x441528(0x476));});const _0x4d6187=document[_0x4414d1(0xc4d)](_0x4414d1(0xb08)),_0x19f4d0=document[_0x4414d1(0xc4d)]('bulk-confidence-mode-container');_0x4d6187[_0x4414d1(0x5a2)](_0x4414d1(0x25a),()=>{const _0x5f1a56=_0x4414d1;_0x19f4d0[_0x5f1a56(0x6f1)]['toggle'](_0x5f1a56(0x476),!_0x4d6187[_0x5f1a56(0x315)]);});const _0x3a3375=document['getElementById'](_0x4414d1(0x7e0)),_0x9a5b6e=document['getElementById'](_0x4414d1(0x7f5));_0x3a3375[_0x4414d1(0x5a2)](_0x4414d1(0x25a),()=>{const _0x5eb78e=_0x4414d1;_0x9a5b6e['classList'][_0x5eb78e(0x545)](_0x5eb78e(0x476),!_0x3a3375[_0x5eb78e(0x315)]);});const _0x322fa4=document[_0x4414d1(0xc4d)](_0x4414d1(0x81d)),_0x134c2e=document[_0x4414d1(0xc4d)](_0x4414d1(0x8e8));_0x322fa4['addEventListener'](_0x4414d1(0x25a),()=>{const _0x553997=_0x4414d1;_0x134c2e[_0x553997(0x6f1)][_0x553997(0x545)]('hidden',!_0x322fa4['checked']);});const _0x51921e=document[_0x4414d1(0xc4d)]('confidence-modal'),_0x29ba64=async _0x42ada7=>{const _0x228211=_0x4414d1,_0x3520fc=document[_0x228211(0xc4d)](_0x228211(0x535)),_0xc3395f=_0x3520fc[_0x228211(0xa2c)][_0x228211(0x57a)],_0x144c1f=document[_0x228211(0xc4d)](_0x228211(0x9cf));_0x3520fc[_0x228211(0x6f1)][_0x228211(0x648)](_0x228211(0x476));if(_0xc3395f===_0x228211(0x7b7)){const _0x595664=_0x144c1f['value'],_0x244080={'answer':_0x595664,'wasConfident':_0x42ada7};proceedToNextQuestion(_0x244080);}else{if(_0xc3395f===_0x228211(0xaa1)){const _0x40e8a2=_0x144c1f[_0x228211(0xa2c)][_0x228211(0x5fd)],_0x92a72d=JSON[_0x228211(0x2fa)](_0x144c1f['dataset'][_0x228211(0xbc5)]),_0x4ebd88=JSON['parse'](_0x144c1f[_0x228211(0xa2c)][_0x228211(0xb7b)]),_0x1f2d07=_0x144c1f[_0x228211(0xa2c)][_0x228211(0xbea)];handleSyncAnswerSubmit(_0x40e8a2,_0x92a72d,_0x4ebd88,_0x1f2d07,_0x42ada7);}}_0x3520fc[_0x228211(0xa2c)][_0x228211(0x57a)]='';};document[_0x4414d1(0xc4d)](_0x4414d1(0x83d))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>_0x29ba64(!![])),document[_0x4414d1(0xc4d)]('confirm-not-confident')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>_0x29ba64(![])),liveGameView[_0x4414d1(0x5a2)]('click',_0x1e1409=>{const _0xa335a6=_0x4414d1,_0x3a89fc=_0x1e1409[_0xa335a6(0xa35)]['closest']('.kick-player-btn-sync');if(_0x3a89fc){const _0x4e3373=_0x3a89fc[_0xa335a6(0xa2c)][_0xa335a6(0xbea)];_0x4e3373&&handleKickPlayerSync(_0x4e3373);}});const _0x47251b=document[_0x4414d1(0xc4d)](_0x4414d1(0xd4f)),_0x57ea4d=document['getElementById'](_0x4414d1(0x67c));_0x57ea4d[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x45b638=_0x4414d1;document[_0x45b638(0xc4d)](_0x45b638(0x9b6))['classList'][_0x45b638(0x648)](_0x45b638(0x476));}),_0x47251b[_0x4414d1(0x5a2)]('click',()=>{const _0x24e334=_0x4414d1,_0x7e6922=document[_0x24e334(0xc4d)]('game-start-quiz-id')['value'],_0x5e5d0c=document[_0x24e334(0xc4d)](_0x24e334(0xb02))[_0x24e334(0x1ce)],_0x5b0375=document[_0x24e334(0xc4d)]('save-game-results-checkbox')['checked'];document[_0x24e334(0xc4d)](_0x24e334(0x9b6))[_0x24e334(0x6f1)][_0x24e334(0x648)]('hidden');switch(_0x5e5d0c){case _0x24e334(0x487):handleStartLiveRace(_0x7e6922,_0x5b0375);break;case'team':handleStartTeamQuiz(_0x7e6922,_0x5b0375);break;case _0x24e334(0x21e):handleStartGroupMode(_0x7e6922,_0x5b0375);break;case _0x24e334(0xaa1):const _0x11e1ca=document['querySelector'](_0x24e334(0x3ac))[_0x24e334(0x1ce)]||_0x24e334(0x19b);handleStartSyncMode(_0x7e6922,_0x5b0375,_0x11e1ca);break;}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x6f0))['addEventListener'](_0x4414d1(0x4f4),handleJoinGroupActivity),liveGameView[_0x4414d1(0x5a2)]('click',_0x434341=>{const _0x5f4926=_0x4414d1,_0x4d57eb=_0x434341['target'][_0x5f4926(0xac5)]('.summary-bar-item');document[_0x5f4926(0x760)](_0x5f4926(0x57d))[_0x5f4926(0xd75)](_0x14911e=>{const _0x4c2e88=_0x5f4926;(!_0x4d57eb||_0x14911e['id']!==_0x4d57eb['dataset'][_0x4c2e88(0x569)])&&_0x14911e[_0x4c2e88(0x6f1)]['remove'](_0x4c2e88(0xcc8));});if(!_0x4d57eb)return;const _0x4e1685=_0x4d57eb[_0x5f4926(0xa2c)]['tooltipTarget'],_0x2e548d=document[_0x5f4926(0xc4d)](_0x4e1685);_0x2e548d&&_0x2e548d[_0x5f4926(0x6f1)]['toggle'](_0x5f4926(0xcc8));}),liveGameView[_0x4414d1(0x5a2)]('click',_0x21748c=>{const _0x30da23=_0x4414d1;if(_0x21748c['target']['classList'][_0x30da23(0x913)](_0x30da23(0xb66))){const _0x23cd08=_0x21748c[_0x30da23(0xa35)]['dataset'][_0x30da23(0xbea)];_0x23cd08&&handleKickPlayer(_0x23cd08);}}),document[_0x4414d1(0xc4d)](_0x4414d1(0xc5f))['addEventListener'](_0x4414d1(0xc44),()=>document[_0x4414d1(0xc4d)](_0x4414d1(0x744))['classList'][_0x4414d1(0x7d9)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)]('save-project-name-btn')['addEventListener']('click',handleSaveProjectName),document['getElementById'](_0x4414d1(0xc5f))[_0x4414d1(0x5a2)](_0x4414d1(0xc7a),_0x193d17=>{const _0x333119=_0x4414d1;_0x193d17[_0x333119(0x19f)]===_0x333119(0xc59)&&(_0x193d17[_0x333119(0xaa3)](),_0x193d17[_0x333119(0xa35)][_0x333119(0x1be)](),handleSaveProjectName());}),document[_0x4414d1(0xc4d)](_0x4414d1(0xae3))['addEventListener']('click',()=>{const _0x4d9276=_0x4414d1;document[_0x4d9276(0xc4d)](_0x4d9276(0xd8))[_0x4d9276(0x6f1)]['remove'](_0x4d9276(0x476));}),document[_0x4414d1(0xc4d)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x2feed1=_0x4414d1;document[_0x2feed1(0xc4d)](_0x2feed1(0xd8))[_0x2feed1(0x6f1)][_0x2feed1(0x648)](_0x2feed1(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x7bd))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleBulkUpdateQuizSettings),document[_0x4414d1(0xc4d)](_0x4414d1(0xc67))['addEventListener'](_0x4414d1(0x4f4),handleModeSwitch),document[_0x4414d1(0xc4d)]('update-old-quizzes-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleUpdateOldQuizzes),document[_0x4414d1(0xc4d)]('reset-project-order-btn')[_0x4414d1(0x5a2)]('click',handleResetProjectOrder),document[_0x4414d1(0xc4d)]('save-visibility-settings-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleSaveVisibilitySettings),document[_0x4414d1(0xc4d)](_0x4414d1(0x13c))['addEventListener'](_0x4414d1(0x4f4),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleSelectAllTopics),document[_0x4414d1(0xc4d)](_0x4414d1(0xbce))['addEventListener']('click',handleDeselectAllTopics),document['getElementById'](_0x4414d1(0x96a))[_0x4414d1(0x5a2)]('click',()=>{const _0x3e17bd=_0x4414d1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3e17bd(0xb0c));}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x604))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x59c5a0=_0x4414d1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x59c5a0(0x5e1));}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x600))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x49881e=_0x4414d1;showView(_0x49881e(0xb0c));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x7eb))[_0x4414d1(0x5a2)]('click',()=>{const _0x42d5e8=_0x4414d1;messageModal[_0x42d5e8(0x6f1)][_0x42d5e8(0x648)](_0x42d5e8(0x476)),typeof modalConfirmAction===_0x42d5e8(0x1b4)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4414d1(0xc4d)]('create-project-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>createProjectModal[_0x4414d1(0x6f1)][_0x4414d1(0x7d9)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)](_0x4414d1(0x95a))['addEventListener']('click',()=>createProjectModal[_0x4414d1(0x6f1)][_0x4414d1(0x648)](_0x4414d1(0x476))),document['getElementById']('cancel-admin-login-btn')['addEventListener'](_0x4414d1(0x4f4),()=>adminPasswordModal[_0x4414d1(0x6f1)][_0x4414d1(0x648)]('hidden')),document[_0x4414d1(0xc4d)]('confirm-admin-login-btn')[_0x4414d1(0x5a2)]('click',handleAdminLogin),document['getElementById'](_0x4414d1(0xd6b))[_0x4414d1(0x5a2)](_0x4414d1(0x7fd),_0x3c2473=>{const _0x1d263d=_0x4414d1;if(_0x3c2473[_0x1d263d(0x19f)]===_0x1d263d(0xc59))handleAdminLogin();}),document[_0x4414d1(0xc4d)](_0x4414d1(0xdf3))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x3d5579=_0x4414d1;confirmationModal[_0x3d5579(0x6f1)][_0x3d5579(0x648)](_0x3d5579(0x476)),typeof cancelAction===_0x3d5579(0x1b4)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x4414d1(0xc4d)]('confirm-delete-btn')[_0x4414d1(0x5a2)]('click',()=>{const _0x2c16cd=_0x4414d1;confirmAction&&confirmAction(),confirmationModal[_0x2c16cd(0x6f1)]['add'](_0x2c16cd(0x476)),confirmAction=null,cancelAction=null;}),document[_0x4414d1(0xc4d)](_0x4414d1(0xdcd))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>renameQuizModal[_0x4414d1(0x6f1)][_0x4414d1(0x648)]('hidden')),document['getElementById'](_0x4414d1(0x5d1))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),confirmRenameQuiz),document[_0x4414d1(0xc4d)](_0x4414d1(0x615))[_0x4414d1(0x5a2)]('click',()=>moveQuizModal[_0x4414d1(0x6f1)][_0x4414d1(0x648)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)](_0x4414d1(0x572))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),confirmMoveQuiz),document[_0x4414d1(0xc4d)](_0x4414d1(0xd1b))[_0x4414d1(0x5a2)]('click',()=>quizSettingsModal[_0x4414d1(0x6f1)][_0x4414d1(0x648)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)](_0x4414d1(0x785))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),confirmQuizSettings),document['getElementById'](_0x4414d1(0xd28))['addEventListener'](_0x4414d1(0x4f4),()=>quizStatusModal['classList'][_0x4414d1(0x648)](_0x4414d1(0x476))),document[_0x4414d1(0xc4d)](_0x4414d1(0xd4e))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),confirmQuizStatus);const _0x591b05=document['getElementById'](_0x4414d1(0x41b));document[_0x4414d1(0xc4d)]('cancel-export-pdf-btn')[_0x4414d1(0x5a2)]('click',()=>{const _0x23a32d=_0x4414d1;_0x591b05[_0x23a32d(0x6f1)][_0x23a32d(0x648)](_0x23a32d(0x476));}),document['getElementById'](_0x4414d1(0xc58))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),async()=>{const _0x504352=_0x4414d1,_0x22ae30=allQuizzes[_0x504352(0x35d)](_0x11fb04=>_0x11fb04['id']===actionTargetId);_0x22ae30?(currentQuizData=_0x22ae30,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x591b05[_0x504352(0x6f1)][_0x504352(0x648)]('hidden');}),document['getElementById'](_0x4414d1(0x842))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),async()=>{const _0x3082ef=_0x4414d1,_0x330331=allQuizzes[_0x3082ef(0x35d)](_0x3462e8=>_0x3462e8['id']===actionTargetId);_0x330331?(currentQuizData=_0x330331,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x591b05[_0x3082ef(0x6f1)][_0x3082ef(0x648)](_0x3082ef(0x476));});const _0x12a9d6=document[_0x4414d1(0xc4d)]('open-global-live-btn');_0x12a9d6[_0x4414d1(0x40b)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x12a9d6['addEventListener'](_0x4414d1(0x4f4),openGlobalActivityModal),document[_0x4414d1(0xc4d)](_0x4414d1(0x956))[_0x4414d1(0x5a2)]('click',()=>{const _0x3bfbe0=_0x4414d1;document[_0x3bfbe0(0xc4d)](_0x3bfbe0(0xe7a))[_0x3bfbe0(0x6f1)][_0x3bfbe0(0x648)](_0x3bfbe0(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x8da))[_0x4414d1(0x5a2)](_0x4414d1(0xce9),_0x179e34=>{const _0x1c4c10=_0x4414d1;renderGlobalActivityList(_0x179e34[_0x1c4c10(0xa35)]['value']);}),document[_0x4414d1(0xc4d)](_0x4414d1(0x421))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x1f8c5b=>{const _0x471924=_0x4414d1,_0x433931=_0x1f8c5b[_0x471924(0xa35)][_0x471924(0xac5)](_0x471924(0x183));if(!_0x433931)return;const _0x3bf2b9=_0x433931[_0x471924(0xa2c)]['id'],_0x1b8787=_0x433931[_0x471924(0xa2c)]['mode'],_0x57dfe0=allQuizzesGlobal[_0x471924(0x35d)](_0x11b117=>_0x11b117['id']===_0x3bf2b9);_0x57dfe0&&(document[_0x471924(0xc4d)]('global-activity-modal')[_0x471924(0x6f1)][_0x471924(0x648)](_0x471924(0x476)),_0x1b8787===_0x471924(0x487)?handleStartLiveRace(_0x3bf2b9):showGameStartConfirmationModal(_0x3bf2b9,_0x1b8787,_0x57dfe0[_0x471924(0x380)]));}),document['getElementById'](_0x4414d1(0xb54))['addEventListener'](_0x4414d1(0xce9),renderProjects),document[_0x4414d1(0xc4d)](_0x4414d1(0xbf2))[_0x4414d1(0x5a2)](_0x4414d1(0x25a),async()=>{const _0x3c2ed7=_0x4414d1,_0x204faf=document[_0x3c2ed7(0xc4d)](_0x3c2ed7(0xbf2))['value'],_0x570a44=doc(db,_0x3c2ed7(0x789),_0x3c2ed7(0xb28));try{await setDoc(_0x570a44,{'projectSort':_0x204faf},{'merge':!![]});}catch(_0x4a01ba){console['error']('Error\x20updating\x20sort\x20preference:',_0x4a01ba),showMessage(_0x3c2ed7(0x7d7));}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x270))[_0x4414d1(0x5a2)]('input',renderQuizzes),document[_0x4414d1(0xc4d)](_0x4414d1(0x843))['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x4c2cc4=_0x4414d1;globalDashboardSettings[_0x4c2cc4(0x52a)]=_0x4c2cc4(0x63d),saveUserPreference(_0x4c2cc4(0x52a),_0x4c2cc4(0x63d)),renderProjects();}),document[_0x4414d1(0xc4d)](_0x4414d1(0xa1f))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x4266a8=_0x4414d1;globalDashboardSettings[_0x4266a8(0x52a)]=_0x4266a8(0x1b5),saveUserPreference(_0x4266a8(0x52a),_0x4266a8(0x1b5)),renderProjects();}),manageTab[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>switchProjectTab(_0x4414d1(0x4e2))),resultsTab['addEventListener'](_0x4414d1(0x4f4),()=>switchProjectTab(_0x4414d1(0x338))),leaderboardTab[_0x4414d1(0x5a2)]('click',()=>switchProjectTab(_0x4414d1(0xa45))),document[_0x4414d1(0xc4d)](_0x4414d1(0x3fb))[_0x4414d1(0x5a2)]('click',()=>switchQuizDetailTab('analytics')),document[_0x4414d1(0xc4d)](_0x4414d1(0x327))['addEventListener'](_0x4414d1(0x4f4),()=>switchQuizDetailTab(_0x4414d1(0xbdf))),document[_0x4414d1(0xc4d)](_0x4414d1(0x531))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x4414d1(0xc4d)](_0x4414d1(0x177))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>switchQuizDetailTab('behavior-log')),document[_0x4414d1(0xc4d)](_0x4414d1(0xa00))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleAnalyzeClass),generateWorksheetBtn[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),generateWorksheet);const _0x13676b=document['getElementById'](_0x4414d1(0xc9c)),_0x3bb608=document[_0x4414d1(0xc4d)](_0x4414d1(0xa20)),_0x183e9b=document[_0x4414d1(0xc4d)](_0x4414d1(0x581)),_0x5de1e1=document[_0x4414d1(0xc4d)]('blueprint-input-area'),_0x370915=document[_0x4414d1(0xc4d)]('parallel-test-tab'),_0x2e1969=document['getElementById']('parallel-test-input-area');topicTab['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x3dd7c4=_0x4414d1;topicTab['classList'][_0x3dd7c4(0x648)]('active'),textTab[_0x3dd7c4(0x6f1)]['remove'](_0x3dd7c4(0x970)),fileTab['classList']['remove'](_0x3dd7c4(0x970)),worksheetTab[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x7d9)](_0x3dd7c4(0x970));if(_0x13676b)_0x13676b[_0x3dd7c4(0x6f1)]['remove'](_0x3dd7c4(0x970));if(_0x183e9b)_0x183e9b[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x7d9)](_0x3dd7c4(0x970));if(_0x370915)_0x370915['classList'][_0x3dd7c4(0x7d9)](_0x3dd7c4(0x970));topicInputArea[_0x3dd7c4(0x6f1)]['remove'](_0x3dd7c4(0x476)),textInputArea['classList']['add'](_0x3dd7c4(0x476)),fileInputArea[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x648)](_0x3dd7c4(0x476)),worksheetInputArea[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x648)]('hidden');if(_0x3bb608)_0x3bb608[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x648)](_0x3dd7c4(0x476));if(_0x5de1e1)_0x5de1e1[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x648)](_0x3dd7c4(0x476));if(_0x2e1969)_0x2e1969[_0x3dd7c4(0x6f1)][_0x3dd7c4(0x648)](_0x3dd7c4(0x476));}),textTab[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0xf1878d=_0x4414d1;textTab['classList'][_0xf1878d(0x648)](_0xf1878d(0x970)),topicTab[_0xf1878d(0x6f1)][_0xf1878d(0x7d9)](_0xf1878d(0x970)),fileTab[_0xf1878d(0x6f1)][_0xf1878d(0x7d9)](_0xf1878d(0x970)),worksheetTab['classList'][_0xf1878d(0x7d9)](_0xf1878d(0x970));if(_0x13676b)_0x13676b[_0xf1878d(0x6f1)]['remove']('active');if(_0x183e9b)_0x183e9b[_0xf1878d(0x6f1)][_0xf1878d(0x7d9)]('active');if(_0x370915)_0x370915[_0xf1878d(0x6f1)][_0xf1878d(0x7d9)](_0xf1878d(0x970));textInputArea[_0xf1878d(0x6f1)][_0xf1878d(0x7d9)](_0xf1878d(0x476)),topicInputArea[_0xf1878d(0x6f1)]['add']('hidden'),fileInputArea[_0xf1878d(0x6f1)]['add'](_0xf1878d(0x476)),worksheetInputArea[_0xf1878d(0x6f1)][_0xf1878d(0x648)](_0xf1878d(0x476));if(_0x3bb608)_0x3bb608[_0xf1878d(0x6f1)][_0xf1878d(0x648)](_0xf1878d(0x476));if(_0x5de1e1)_0x5de1e1['classList'][_0xf1878d(0x648)](_0xf1878d(0x476));if(_0x2e1969)_0x2e1969[_0xf1878d(0x6f1)][_0xf1878d(0x648)](_0xf1878d(0x476));}),fileTab[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x399ede=_0x4414d1;fileTab[_0x399ede(0x6f1)][_0x399ede(0x648)](_0x399ede(0x970)),topicTab[_0x399ede(0x6f1)]['remove'](_0x399ede(0x970)),textTab[_0x399ede(0x6f1)]['remove'](_0x399ede(0x970)),worksheetTab[_0x399ede(0x6f1)][_0x399ede(0x7d9)]('active');if(_0x13676b)_0x13676b['classList'][_0x399ede(0x7d9)]('active');if(_0x183e9b)_0x183e9b[_0x399ede(0x6f1)][_0x399ede(0x7d9)](_0x399ede(0x970));if(_0x370915)_0x370915[_0x399ede(0x6f1)][_0x399ede(0x7d9)](_0x399ede(0x970));fileInputArea[_0x399ede(0x6f1)]['remove'](_0x399ede(0x476)),topicInputArea['classList']['add'](_0x399ede(0x476)),textInputArea[_0x399ede(0x6f1)][_0x399ede(0x648)](_0x399ede(0x476)),worksheetInputArea[_0x399ede(0x6f1)]['add'](_0x399ede(0x476));if(_0x3bb608)_0x3bb608[_0x399ede(0x6f1)]['add'](_0x399ede(0x476));if(_0x5de1e1)_0x5de1e1['classList'][_0x399ede(0x648)](_0x399ede(0x476));if(_0x2e1969)_0x2e1969['classList'][_0x399ede(0x648)](_0x399ede(0x476));}),worksheetTab[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x2020d6=_0x4414d1;worksheetTab[_0x2020d6(0x6f1)][_0x2020d6(0x648)]('active'),topicTab['classList'][_0x2020d6(0x7d9)](_0x2020d6(0x970)),textTab[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)]('active'),fileTab[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)](_0x2020d6(0x970));if(_0x13676b)_0x13676b[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)](_0x2020d6(0x970));if(_0x183e9b)_0x183e9b[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)](_0x2020d6(0x970));if(_0x370915)_0x370915[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)](_0x2020d6(0x970));worksheetInputArea[_0x2020d6(0x6f1)][_0x2020d6(0x7d9)](_0x2020d6(0x476)),topicInputArea['classList'][_0x2020d6(0x648)](_0x2020d6(0x476)),textInputArea[_0x2020d6(0x6f1)][_0x2020d6(0x648)](_0x2020d6(0x476)),fileInputArea[_0x2020d6(0x6f1)][_0x2020d6(0x648)](_0x2020d6(0x476));if(_0x3bb608)_0x3bb608['classList'][_0x2020d6(0x648)](_0x2020d6(0x476));if(_0x5de1e1)_0x5de1e1[_0x2020d6(0x6f1)][_0x2020d6(0x648)](_0x2020d6(0x476));if(_0x2e1969)_0x2e1969[_0x2020d6(0x6f1)]['add'](_0x2020d6(0x476));});const _0x1ac238=document[_0x4414d1(0xc4d)](_0x4414d1(0x5f3)),_0x21ea7c=document[_0x4414d1(0xc4d)](_0x4414d1(0x8b9));_0x1ac238&&_0x1ac238[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x177224=_0x4414d1;topicTab[_0x177224(0x6f1)][_0x177224(0x7d9)](_0x177224(0x970)),textTab[_0x177224(0x6f1)][_0x177224(0x7d9)](_0x177224(0x970)),fileTab[_0x177224(0x6f1)]['remove'](_0x177224(0x970)),worksheetTab[_0x177224(0x6f1)][_0x177224(0x7d9)](_0x177224(0x970));if(_0x13676b)_0x13676b[_0x177224(0x6f1)][_0x177224(0x7d9)](_0x177224(0x970));if(_0x183e9b)_0x183e9b['classList'][_0x177224(0x7d9)]('active');if(_0x370915)_0x370915['classList'][_0x177224(0x7d9)](_0x177224(0x970));_0x1ac238[_0x177224(0x6f1)][_0x177224(0x648)](_0x177224(0x970)),topicInputArea[_0x177224(0x6f1)][_0x177224(0x648)](_0x177224(0x476)),textInputArea['classList'][_0x177224(0x648)](_0x177224(0x476)),fileInputArea[_0x177224(0x6f1)]['add'](_0x177224(0x476)),worksheetInputArea[_0x177224(0x6f1)][_0x177224(0x648)]('hidden');if(_0x3bb608)_0x3bb608['classList'][_0x177224(0x648)](_0x177224(0x476));if(_0x5de1e1)_0x5de1e1[_0x177224(0x6f1)][_0x177224(0x648)](_0x177224(0x476));if(_0x2e1969)_0x2e1969[_0x177224(0x6f1)][_0x177224(0x648)]('hidden');_0x21ea7c['classList'][_0x177224(0x7d9)](_0x177224(0x476)),displayQuestionBank();});_0x13676b&&(_0x13676b['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x4a962f=_0x4414d1;_0x13676b[_0x4a962f(0x6f1)][_0x4a962f(0x648)](_0x4a962f(0x970)),topicTab[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x970)),textTab[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x970)),fileTab[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x970)),worksheetTab[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x970));if(_0x183e9b)_0x183e9b['classList']['remove'](_0x4a962f(0x970));if(_0x370915)_0x370915[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x970));_0x3bb608[_0x4a962f(0x6f1)][_0x4a962f(0x7d9)](_0x4a962f(0x476)),topicInputArea[_0x4a962f(0x6f1)][_0x4a962f(0x648)](_0x4a962f(0x476)),textInputArea[_0x4a962f(0x6f1)]['add'](_0x4a962f(0x476)),fileInputArea['classList']['add'](_0x4a962f(0x476)),worksheetInputArea[_0x4a962f(0x6f1)][_0x4a962f(0x648)](_0x4a962f(0x476));if(_0x5de1e1)_0x5de1e1[_0x4a962f(0x6f1)]['add'](_0x4a962f(0x476));if(_0x2e1969)_0x2e1969['classList']['add'](_0x4a962f(0x476));}),document[_0x4414d1(0xc4d)]('generate-from-link-btn')['addEventListener'](_0x4414d1(0x4f4),handleGenerateFromLink));_0x183e9b&&_0x183e9b['addEventListener']('click',()=>{const _0x295944=_0x4414d1;_0x183e9b[_0x295944(0x6f1)][_0x295944(0x648)](_0x295944(0x970)),topicTab[_0x295944(0x6f1)]['remove']('active'),textTab['classList'][_0x295944(0x7d9)](_0x295944(0x970)),fileTab['classList'][_0x295944(0x7d9)](_0x295944(0x970)),worksheetTab[_0x295944(0x6f1)][_0x295944(0x7d9)](_0x295944(0x970));if(_0x13676b)_0x13676b[_0x295944(0x6f1)][_0x295944(0x7d9)](_0x295944(0x970));if(_0x1ac238)_0x1ac238[_0x295944(0x6f1)][_0x295944(0x7d9)](_0x295944(0x970));if(_0x370915)_0x370915[_0x295944(0x6f1)][_0x295944(0x7d9)](_0x295944(0x970));_0x5de1e1[_0x295944(0x6f1)][_0x295944(0x7d9)](_0x295944(0x476)),topicInputArea[_0x295944(0x6f1)]['add']('hidden'),textInputArea[_0x295944(0x6f1)][_0x295944(0x648)](_0x295944(0x476)),fileInputArea[_0x295944(0x6f1)][_0x295944(0x648)](_0x295944(0x476)),worksheetInputArea['classList']['add'](_0x295944(0x476));if(_0x3bb608)_0x3bb608[_0x295944(0x6f1)]['add']('hidden');if(_0x21ea7c)_0x21ea7c[_0x295944(0x6f1)][_0x295944(0x648)](_0x295944(0x476));if(_0x2e1969)_0x2e1969['classList']['add'](_0x295944(0x476));});_0x370915&&_0x370915[_0x4414d1(0x5a2)]('click',()=>{const _0x5f565d=_0x4414d1;_0x370915[_0x5f565d(0x6f1)][_0x5f565d(0x648)]('active'),topicTab[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)]('active'),textTab[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)](_0x5f565d(0x970)),fileTab[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)](_0x5f565d(0x970)),worksheetTab[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)](_0x5f565d(0x970));if(_0x13676b)_0x13676b[_0x5f565d(0x6f1)]['remove'](_0x5f565d(0x970));if(_0x183e9b)_0x183e9b[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)](_0x5f565d(0x970));if(_0x1ac238)_0x1ac238['classList'][_0x5f565d(0x7d9)](_0x5f565d(0x970));_0x2e1969[_0x5f565d(0x6f1)][_0x5f565d(0x7d9)](_0x5f565d(0x476)),topicInputArea[_0x5f565d(0x6f1)][_0x5f565d(0x648)](_0x5f565d(0x476)),textInputArea[_0x5f565d(0x6f1)][_0x5f565d(0x648)](_0x5f565d(0x476)),fileInputArea[_0x5f565d(0x6f1)]['add'](_0x5f565d(0x476)),worksheetInputArea[_0x5f565d(0x6f1)][_0x5f565d(0x648)]('hidden');if(_0x3bb608)_0x3bb608['classList']['add'](_0x5f565d(0x476));if(_0x5de1e1)_0x5de1e1[_0x5f565d(0x6f1)][_0x5f565d(0x648)]('hidden');if(_0x21ea7c)_0x21ea7c[_0x5f565d(0x6f1)][_0x5f565d(0x648)](_0x5f565d(0x476));});const _0x218bda=document[_0x4414d1(0xc4d)](_0x4414d1(0x18a)),_0xcce5e3=document['getElementById'](_0x4414d1(0x9c7));if(_0x218bda){const _0x123a24=document['getElementById'](_0x4414d1(0x18a)),_0x523bff=document['getElementById'](_0x4414d1(0x9c7)),_0x4dc774=document[_0x4414d1(0xc4d)](_0x4414d1(0x864)),_0x52fdb3=document[_0x4414d1(0xc4d)]('separate-by-content-checkbox'),_0x36ab07=document[_0x4414d1(0xc4d)](_0x4414d1(0xc38)),_0xc1c234=document[_0x4414d1(0xc4d)](_0x4414d1(0xb9c));_0x123a24&&_0x123a24[_0x4414d1(0x5a2)](_0x4414d1(0x25a),async _0x125057=>{const _0x3d18eb=_0x4414d1;_0x4dc774['classList']['add'](_0x3d18eb(0x476)),_0x36ab07[_0x3d18eb(0x6f1)][_0x3d18eb(0x648)](_0x3d18eb(0x476)),_0x52fdb3[_0x3d18eb(0x315)]=![],_0x523bff[_0x3d18eb(0xbb3)]=!![];const _0x394bd7=_0x125057['target'][_0x3d18eb(0xd8f)][0x0];if(_0x394bd7){_0x523bff[_0x3d18eb(0xbb3)]=![];try{const _0xb4a5f1=await extractTextFromPdf(_0x394bd7);await analyzeBlueprintForTopics(_0xb4a5f1);}catch(_0x4a9ea8){showMessage(_0x3d18eb(0x972)),_0x4dc774['classList'][_0x3d18eb(0x648)]('hidden');}}}),_0x52fdb3&&_0x52fdb3[_0x4414d1(0x5a2)]('change',_0x25008d=>{const _0x123376=_0x4414d1,_0x39ed99=_0x25008d[_0x123376(0xa35)][_0x123376(0x315)];_0x36ab07[_0x123376(0x6f1)][_0x123376(0x545)](_0x123376(0x476),!_0x39ed99),_0x523bff[_0x123376(0xbb3)]=_0x39ed99;}),_0xc1c234&&(_0xc1c234&&_0xc1c234['addEventListener'](_0x4414d1(0x4f4),_0x5a45d9=>{const _0x374f63=_0x4414d1,_0x475d4f=_0x5a45d9[_0x374f63(0xa35)]['closest'](_0x374f63(0x78d)),_0x528bae=_0x5a45d9[_0x374f63(0xa35)]['closest'](_0x374f63(0xe47));if(_0x475d4f){const _0x41a2e0=unescape(_0x475d4f[_0x374f63(0xa2c)]['topic']);generateQuizForSingleTopic(_0x41a2e0);}else{if(_0x528bae){const _0x52ad55=unescape(_0x528bae[_0x374f63(0xa2c)][_0x374f63(0x380)]);handleGenerateTeachingContent(_0x52ad55);}}}));}_0xcce5e3&&_0xcce5e3[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleGenerateFromBlueprint);const _0x1278f5=document['getElementById'](_0x4414d1(0xbec)),_0x2ab30d=document[_0x4414d1(0xc4d)](_0x4414d1(0x16a));_0x1278f5&&_0x1278f5[_0x4414d1(0x5a2)]('change',_0x2247df=>{const _0x2041b3=_0x4414d1;_0x2ab30d[_0x2041b3(0xbb3)]=_0x2247df[_0x2041b3(0xa35)]['files'][_0x2041b3(0x724)]===0x0;});_0x2ab30d&&_0x2ab30d[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x4e3bb0=_0x4414d1,_0x2f73e0=document[_0x4e3bb0(0xc4d)]('student-name-select');currentStudentName=_0x2f73e0[_0x4e3bb0(0x1ce)];if(!currentStudentName){showMessage(_0x4e3bb0(0x455));return;}try{const _0x3f541e=currentQuizData['id'],_0x274385=doc(db,_0x4e3bb0(0x6e9)+appId+'/public/data/quizzes/'+_0x3f541e+'/submissions',currentStudentName),_0x1118cd=await getDoc(_0x274385);!_0x1118cd[_0x4e3bb0(0x509)]()?await setDoc(_0x274385,{'studentName':currentStudentName,'startedAt':new Date()[_0x4e3bb0(0x70e)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x274385,{'startedAt':new Date()[_0x4e3bb0(0x70e)]()});}catch(_0x25efe3){console[_0x4e3bb0(0x339)](_0x4e3bb0(0x624),_0x25efe3),showMessage(_0x4e3bb0(0xdda));return;}studentNameSelectionView[_0x4e3bb0(0x6f1)][_0x4e3bb0(0x648)](_0x4e3bb0(0x476)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4414d1(0xc4d)](_0x4414d1(0xc4a))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),showJoinGameView),document[_0x4414d1(0xc4d)](_0x4414d1(0x466))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleJoinLiveGame),document[_0x4414d1(0xc4d)]('back-to-student-initial-btn')['addEventListener']('click',()=>showView(_0x4414d1(0x7e7)));const _0x29becc=()=>{const _0x260978=_0x4414d1,_0x18c61f=document[_0x260978(0xc4d)](_0x260978(0xad5))[_0x260978(0x4c4)][_0x260978(0x6c0)](/[^a-z0-9]/gi,'_')[_0x260978(0x6f7)]();return'results_'+(_0x18c61f||_0x260978(0xdbe));},_0x190def=document[_0x4414d1(0xc4d)]('math-topic-search-input');_0x190def&&_0x190def[_0x4414d1(0x5a2)](_0x4414d1(0xce9),_0x339dfd=>{const _0x1bbe2b=_0x4414d1,_0x430819=_0x339dfd[_0x1bbe2b(0xa35)][_0x1bbe2b(0x1ce)][_0x1bbe2b(0x6f7)]()[_0x1bbe2b(0x2ce)](),_0x390204=document[_0x1bbe2b(0xc4d)]('math-topics-checkbox-container'),_0x45f36b=_0x390204[_0x1bbe2b(0x760)]('.topic-category');_0x45f36b[_0x1bbe2b(0xd75)](_0x2c40d1=>{const _0x43bbde=_0x1bbe2b;let _0x5a3cb3=![];const _0x496464=_0x2c40d1[_0x43bbde(0x760)](_0x43bbde(0x68e));_0x496464[_0x43bbde(0xd75)](_0x7e63ae=>{const _0x2f368f=_0x43bbde,_0x45ef05=_0x7e63ae[_0x2f368f(0xab2)](_0x2f368f(0x4ae))[_0x2f368f(0x4c4)][_0x2f368f(0x6f7)]();_0x45ef05['includes'](_0x430819)?(_0x7e63ae[_0x2f368f(0x201)][_0x2f368f(0xa9c)]='flex',_0x5a3cb3=!![]):_0x7e63ae[_0x2f368f(0x201)][_0x2f368f(0xa9c)]=_0x2f368f(0x611);}),_0x5a3cb3?_0x2c40d1[_0x43bbde(0x201)]['display']='block':_0x2c40d1[_0x43bbde(0x201)][_0x43bbde(0xa9c)]=_0x43bbde(0x611);});});document[_0x4414d1(0xc4d)](_0x4414d1(0xc55))['addEventListener'](_0x4414d1(0x4f4),()=>exportTableAsImage(_0x4414d1(0x448),_0x29becc())),document[_0x4414d1(0xc4d)]('export-pdf-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>exportTableAsPDF(_0x4414d1(0xc6f),_0x29becc())),document['getElementById']('export-word-btn')['addEventListener']('click',()=>exportTableAsWord(_0x4414d1(0x448),_0x29becc())),document[_0x4414d1(0xc4d)]('export-excel-btn')[_0x4414d1(0x5a2)]('click',()=>exportTableAsExcel(_0x4414d1(0xc6f),_0x29becc()));const _0x344af1=()=>{const _0x46ecbb=_0x4414d1,_0x239e3b=document['getElementById'](_0x46ecbb(0xad5))[_0x46ecbb(0x4c4)]['replace'](/[^a-z0-9]/gi,'_')[_0x46ecbb(0x6f7)]();return'leaderboard_'+(_0x239e3b||_0x46ecbb(0xdbe));};document[_0x4414d1(0xc4d)](_0x4414d1(0x23f))['addEventListener'](_0x4414d1(0x4f4),()=>exportTableAsImage(_0x4414d1(0x2d1),_0x344af1())),document[_0x4414d1(0xc4d)](_0x4414d1(0x9b1))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>exportTableAsPDF(_0x4414d1(0x739),_0x344af1())),document[_0x4414d1(0xc4d)](_0x4414d1(0xb9b))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>exportTableAsWord(_0x4414d1(0x2d1),_0x344af1())),document[_0x4414d1(0xc4d)](_0x4414d1(0x928))[_0x4414d1(0x5a2)]('click',()=>exportTableAsExcel(_0x4414d1(0x739),_0x344af1())),projectQuizzesList[_0x4414d1(0x5a2)]('click',async _0x5384be=>{const _0x459fd=_0x4414d1,_0x2fecd2=_0x5384be['target'][_0x459fd(0xac5)](_0x459fd(0xc27)),_0xae0fcd=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0xe28)),_0x259ee1=_0x5384be['target'][_0x459fd(0xac5)](_0x459fd(0x334)),_0x138870=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0x226)),_0x99c802=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.star-quiz-btn'),_0x397bee=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.copy-quiz-id-list-btn'),_0x495e88=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.edit-quiz-btn'),_0x51358d=_0x5384be['target'][_0x459fd(0xac5)](_0x459fd(0x7cb)),_0x7ae1ff=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0xb83)),_0x442683=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.rename-quiz-btn'),_0x348b64=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0x7b9)),_0x6a4ff1=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.move-quiz-btn'),_0x4717b7=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.pair-quiz-btn'),_0xd55449=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)]('.unpair-quiz-btn'),_0x1d8e14=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0x8ee)),_0x4edf51=_0x5384be['target'][_0x459fd(0xac5)](_0x459fd(0xc43)),_0x207ae1=_0x5384be[_0x459fd(0xa35)]['closest'](_0x459fd(0x619)),_0x38e38f=_0x5384be[_0x459fd(0xa35)]['closest']('.delete-quiz-btn'),_0x2adc8a=_0x5384be[_0x459fd(0xa35)]['closest']('.quiz-status-btn'),_0x8f25f5=_0x5384be[_0x459fd(0xa35)]['closest'](_0x459fd(0x6fe)),_0xbd095c=_0x5384be['target']['closest']('.generate-easy-version-btn'),_0x1f358a=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0x5c2)),_0x104c87=_0x5384be[_0x459fd(0xa35)][_0x459fd(0xac5)](_0x459fd(0xc32));if(_0x1f358a){const _0x2c85a7=_0x1f358a[_0x459fd(0xa2c)]['quizId'],_0xd95d1a=_0x1f358a[_0x459fd(0xa2c)]['mode'],_0x39670e=allQuizzes[_0x459fd(0x35d)](_0x34cd55=>_0x34cd55['id']===_0x2c85a7);_0x39670e&&showGameStartConfirmationModal(_0x2c85a7,_0xd95d1a,_0x39670e[_0x459fd(0x380)]);}else{if(_0x104c87){const _0x531e1f=_0x104c87[_0x459fd(0xa2c)][_0x459fd(0x939)];handleStartLiveRace(_0x531e1f);}else{if(_0x8f25f5){const _0x5eaabd=_0x8f25f5[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x462396=document['getElementById'](_0x459fd(0x354)+_0x5eaabd);_0x462396&&_0x462396[_0x459fd(0x6f1)][_0x459fd(0x545)]('hidden');}else{if(_0xae0fcd){const _0x18b5f3=_0xae0fcd[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x2d315=allQuizzes[_0x459fd(0x35d)](_0xce6c42=>_0xce6c42['id']===_0x18b5f3);_0x2d315&&handleGenerateParallelPostTest(_0x2d315);}else{if(_0x259ee1)handleCompareResults(_0x259ee1[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x259ee1['dataset'][_0x459fd(0x411)]);else{if(_0x138870){const _0x570833=_0x138870[_0x459fd(0xa2c)]['quizId'],_0x5bf2f9=allQuizzes[_0x459fd(0x35d)](_0x238f93=>_0x238f93['id']===_0x570833);_0x5bf2f9&&_0x5bf2f9[_0x459fd(0x86a)]?(displayLessonPlan(_0x5bf2f9[_0x459fd(0x86a)],_0x5bf2f9),showConfirmation(_0x459fd(0x36e),()=>handleGenerateLessonPlan(_0x570833)),document['getElementById'](_0x459fd(0xb5b))['querySelector']('h3')['textContent']=_0x459fd(0xcaf),document['getElementById'](_0x459fd(0xe67))[_0x459fd(0x4c4)]=_0x459fd(0x580)):handleGenerateLessonPlan(_0x570833);}else{if(_0x99c802)handleToggleStarQuiz(_0x99c802['dataset'][_0x459fd(0x939)]);else{if(_0x397bee)copyTextToClipboard(_0x397bee['dataset']['quizId'],_0x459fd(0x7fa));else{if(_0x495e88)handleOpenQuizEditor(_0x495e88[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0x51358d)handleQuizSettings(_0x51358d[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0x7ae1ff)handleDuplicateQuiz(_0x7ae1ff[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0x442683)handleRenameQuiz(_0x442683[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x442683['dataset']['topic']);else{if(_0x348b64){const _0x3263e8=_0x348b64[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x342515=allQuizzes[_0x459fd(0x35d)](_0x490d2e=>_0x490d2e['id']===_0x3263e8);_0x342515&&handleGenerateParallelFromBank(_0x342515);}else{if(_0x6a4ff1)handleMoveQuiz(_0x6a4ff1[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0x4717b7)handleManualQuizPairing(_0x4717b7['dataset'][_0x459fd(0x939)]);else{if(_0xd55449)handleUnpairQuiz(_0xd55449[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0x1d8e14){const _0x277b0b=_0x1d8e14[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x261590=allQuizzes[_0x459fd(0x35d)](_0x585c4c=>_0x585c4c['id']===_0x277b0b);if(_0x261590)startPresentation(_0x261590);}else{if(_0x4edf51){const _0x2b439f=_0x4edf51[_0x459fd(0xa2c)][_0x459fd(0x939)],_0x470c8c=allQuizzes[_0x459fd(0x35d)](_0x48cb3e=>_0x48cb3e['id']===_0x2b439f);_0x470c8c&&(currentQuizData=_0x470c8c,startAdminTest());}else{if(_0x207ae1)actionTargetId=_0x207ae1[_0x459fd(0xa2c)]['quizId'],document[_0x459fd(0xc4d)](_0x459fd(0x41b))[_0x459fd(0x6f1)]['remove']('hidden');else{if(_0x38e38f)showConfirmation(_0x459fd(0xb70)+_0x38e38f[_0x459fd(0xa2c)][_0x459fd(0x380)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x38e38f['dataset'][_0x459fd(0x939)]));else{if(_0x2adc8a)handleQuizStatus(_0x2adc8a[_0x459fd(0xa2c)][_0x459fd(0x939)]);else{if(_0xbd095c)handleGenerateEasyVersionQuiz(_0xbd095c[_0x459fd(0xa2c)][_0x459fd(0x939)]);else _0x2fecd2&&showQuizDetailView(_0x2fecd2[_0x459fd(0xa2c)][_0x459fd(0x939)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x4414d1(0x272))['addEventListener'](_0x4414d1(0x4f4),()=>showView(_0x4414d1(0x7e7))),document[_0x4414d1(0xc4d)](_0x4414d1(0x481))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),confirmAndStartTeamQuiz),document[_0x4414d1(0xc4d)](_0x4414d1(0x739))[_0x4414d1(0xab2)](_0x4414d1(0x7c7))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x37e039=>{const _0x2f190b=_0x4414d1,_0x390d1c=_0x37e039['target'][_0x2f190b(0xac5)]('.sortable-header');if(!_0x390d1c||!_0x390d1c[_0x2f190b(0xa2c)][_0x2f190b(0x332)])return;const _0x156497=_0x390d1c[_0x2f190b(0xa2c)][_0x2f190b(0x332)];if(quizLeaderboardSortBy===_0x156497)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2f190b(0xbd8)?_0x2f190b(0x21b):_0x2f190b(0xbd8);else{quizLeaderboardSortBy=_0x156497;const _0x56245e=['studentName'];quizLeaderboardSortOrder=_0x56245e[_0x2f190b(0xe4a)](_0x156497)?_0x2f190b(0xbd8):_0x2f190b(0x21b);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x4414d1(0xc4d)](_0x4414d1(0x5f9))[_0x4414d1(0x5a2)]('click',closePresentation),document[_0x4414d1(0xc4d)]('prev-question-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x2df))['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x3a77cd=_0x4414d1;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x3a77cd(0xb1f)][_0x3a77cd(0x724)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4414d1(0x5a2)](_0x4414d1(0x1a3),()=>{const _0x218e86=_0x4414d1;!document[_0x218e86(0x4ca)]&&(presentationModal[_0x218e86(0x201)][_0x218e86(0xa9c)]=_0x218e86(0x611));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x561))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleDeleteAllStudents),studentList[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x4de365=>{const _0x35bebd=_0x4414d1,_0x4a0549=_0x4de365[_0x35bebd(0xa35)][_0x35bebd(0xac5)]('.delete-student-btn');if(_0x4a0549){const _0x499a15=_0x4a0549[_0x35bebd(0xa2c)][_0x35bebd(0x550)];handleDeleteStudent(_0x499a15);}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x155))[_0x4414d1(0x5a2)]('click',handleGenerateFromFileClick),fileUploadInput[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0xb4f23f=>{const _0x5adf5a=_0x4414d1,_0x16642a=_0xb4f23f['target'][_0x5adf5a(0xd8f)][0x0],_0x3d8816=document[_0x5adf5a(0xc4d)](_0x5adf5a(0x155)),_0x4c6642=document[_0x5adf5a(0xc4d)]('file-topics-list-container'),_0x4b2117=document[_0x5adf5a(0xc4d)](_0x5adf5a(0x9e3));_0x16642a?(selectedFile=_0x16642a,_0x4b2117['checked']?(_0x3d8816[_0x5adf5a(0xbb3)]=!![],analyzeFileForTopics(_0x16642a)):(_0x3d8816['disabled']=![],_0x4c6642[_0x5adf5a(0x6f1)]['add'](_0x5adf5a(0x476)))):(selectedFile=null,_0x3d8816[_0x5adf5a(0xbb3)]=!![],_0x4c6642[_0x5adf5a(0x6f1)]['add'](_0x5adf5a(0x476)));}),document['getElementById'](_0x4414d1(0x9e3))[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0x172091=>{const _0x4b52be=_0x4414d1,_0x4dccc7=_0x172091[_0x4b52be(0xa35)][_0x4b52be(0x315)],_0x5c9219=document['getElementById'](_0x4b52be(0x155)),_0x5c7f9a=document[_0x4b52be(0xc4d)](_0x4b52be(0x6c5));_0x4dccc7?(_0x5c9219[_0x4b52be(0xbb3)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5c7f9a[_0x4b52be(0x6f1)][_0x4b52be(0x7d9)](_0x4b52be(0x476)),document[_0x4b52be(0xc4d)](_0x4b52be(0x822))['innerHTML']=_0x4b52be(0x1fa))):(_0x5c7f9a['classList'][_0x4b52be(0x648)]('hidden'),_0x5c9219['disabled']=!selectedFile);}),document[_0x4414d1(0xc4d)]('file-topics-list-container')[_0x4414d1(0x5a2)]('click',_0x45c00f=>{const _0x3b1514=_0x4414d1,_0x25d620=_0x45c00f[_0x3b1514(0xa35)][_0x3b1514(0xac5)](_0x3b1514(0x51b)),_0x513833=_0x45c00f[_0x3b1514(0xa35)][_0x3b1514(0xac5)]('.generate-content-btn');if(_0x25d620){const _0x53df85=unescape(_0x25d620[_0x3b1514(0xa2c)][_0x3b1514(0x380)]);generateHybridQuizForTopic(_0x53df85);}else{if(_0x513833){const _0x4cf0b7=unescape(_0x513833['dataset'][_0x3b1514(0x380)]),_0x5cc19d=document[_0x3b1514(0xc4d)](_0x3b1514(0xc88))[_0x3b1514(0x1ce)];handleGenerateAndShowLesson(_0x4cf0b7,_0x5cc19d);}}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x216))[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0x6942ba=>{const _0x1afc59=_0x4414d1,_0x1f0560=document[_0x1afc59(0xc4d)](_0x1afc59(0x4ff)),_0x14a552=document[_0x1afc59(0xc4d)](_0x1afc59(0x233)),_0x3df697=document[_0x1afc59(0xc4d)](_0x1afc59(0x5db));_0x6942ba[_0x1afc59(0xa35)][_0x1afc59(0x1ce)]===_0x1afc59(0x611)?_0x1f0560[_0x1afc59(0x6f1)][_0x1afc59(0x648)]('hidden'):(_0x1f0560[_0x1afc59(0x6f1)][_0x1afc59(0x7d9)]('hidden'),_0x6942ba['target'][_0x1afc59(0x1ce)]==='whole_quiz'?(_0x14a552[_0x1afc59(0x4c4)]=_0x1afc59(0x7e9),_0x3df697[_0x1afc59(0x1ce)]='10'):(_0x14a552[_0x1afc59(0x4c4)]='ระยะเวลา\x20(วินาที):',_0x3df697['value']='30'));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x1fb))[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0x1bf42f=>{const _0x2bfed0=_0x4414d1,_0x4745f7=document[_0x2bfed0(0xc4d)]('num-choices-container'),_0x55a115=_0x1bf42f[_0x2bfed0(0xa35)][_0x2bfed0(0x1ce)],_0xf4d594=document[_0x2bfed0(0xab2)](_0x2bfed0(0xca8)),_0x47fa1e=document['getElementById'](_0x2bfed0(0x283)),_0x4127a8=document[_0x2bfed0(0xc4d)](_0x2bfed0(0x6e6));_0x55a115===_0x2bfed0(0x358)?_0xf4d594[_0x2bfed0(0x4c4)]=_0x2bfed0(0xb15):_0xf4d594[_0x2bfed0(0x4c4)]=_0x2bfed0(0x45b),_0x55a115===_0x2bfed0(0x807)||_0x55a115===_0x2bfed0(0x60d)||_0x55a115===_0x2bfed0(0x697)?_0x4745f7[_0x2bfed0(0x6f1)][_0x2bfed0(0x7d9)]('hidden'):_0x4745f7['classList']['add'](_0x2bfed0(0x476)),_0x47fa1e[_0x2bfed0(0xcf)]=_0x4127a8[_0x2bfed0(0x1ce)];}),document[_0x4414d1(0xc4d)](_0x4414d1(0x6e6))['addEventListener'](_0x4414d1(0xce9),_0x41db1f=>{const _0x2d212f=_0x4414d1;document['getElementById'](_0x2d212f(0x283))[_0x2d212f(0xcf)]=_0x41db1f['target'][_0x2d212f(0x1ce)];}),document[_0x4414d1(0xc4d)](_0x4414d1(0x38a))[_0x4414d1(0x5a2)](_0x4414d1(0x25a),_0x44afe1=>{const _0xbecfa0=_0x4414d1,_0x5ea000=document[_0xbecfa0(0xc4d)](_0xbecfa0(0x5f2)),_0x165f83=document[_0xbecfa0(0xc4d)](_0xbecfa0(0xb58)),_0x199336=document[_0xbecfa0(0xc4d)]('modal-timer-duration-input');_0x44afe1[_0xbecfa0(0xa35)][_0xbecfa0(0x1ce)]===_0xbecfa0(0x611)?_0x5ea000[_0xbecfa0(0x6f1)][_0xbecfa0(0x648)](_0xbecfa0(0x476)):(_0x5ea000[_0xbecfa0(0x6f1)][_0xbecfa0(0x7d9)](_0xbecfa0(0x476)),_0x44afe1[_0xbecfa0(0xa35)][_0xbecfa0(0x1ce)]===_0xbecfa0(0x2a3)?_0x165f83[_0xbecfa0(0x4c4)]=_0xbecfa0(0x7e9):_0x165f83[_0xbecfa0(0x4c4)]=_0xbecfa0(0x966));}),document[_0x4414d1(0xc4d)]('cancel-quiz-edits-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x392fb6=_0x4414d1;document['getElementById'](_0x392fb6(0x30a))[_0x392fb6(0x6f1)][_0x392fb6(0x648)]('hidden');}),document[_0x4414d1(0xc4d)](_0x4414d1(0x86b))[_0x4414d1(0x5a2)]('click',()=>{const _0xf80c3f=_0x4414d1;document['getElementById'](_0xf80c3f(0x30a))[_0xf80c3f(0x6f1)]['add'](_0xf80c3f(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x5fc))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleVerifyAnswersInEditor),document[_0x4414d1(0xc4d)]('save-quiz-edits-btn')['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x2f3e88=_0x4414d1;document[_0x2f3e88(0xc4d)](_0x2f3e88(0x30a))[_0x2f3e88(0x6f1)]['add']('hidden'),showConfirmation(_0x2f3e88(0x9cd),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),handleAutoFixLatex);const _0x325a7a=document[_0x4414d1(0xc4d)](_0x4414d1(0x47e));_0x325a7a&&_0x325a7a['addEventListener']('click',_0x299f1d=>{const _0xcc7922=_0x4414d1,_0x41e1cc=_0x299f1d[_0xcc7922(0xa35)][_0xcc7922(0xac5)](_0xcc7922(0xe71));if(_0x41e1cc){const _0x5c1ac5=_0x41e1cc['closest'](_0xcc7922(0x196)),_0x5d673a=parseInt(_0x5c1ac5[_0xcc7922(0xa2c)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x5d673a);return;}const _0x27b5d2=_0x299f1d[_0xcc7922(0xa35)][_0xcc7922(0xac5)](_0xcc7922(0x6b4));if(_0x27b5d2){const _0x3763c5=_0x27b5d2['closest']('.question-editor-item'),_0x1fc1b6=parseInt(_0x3763c5['dataset']['qIndex'],0xa);handleDeleteQuestionInEditor(_0x1fc1b6);return;}const _0x3d1065=_0x299f1d[_0xcc7922(0xa35)][_0xcc7922(0xac5)](_0xcc7922(0x47c));if(_0x3d1065){handleAddQuestionInEditor();return;}});document[_0x4414d1(0xc4d)](_0x4414d1(0x8ed))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),openQuizBankModal),document[_0x4414d1(0xc4d)]('cancel-quiz-bank-btn')['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x37ce41=_0x4414d1;document[_0x37ce41(0xc4d)](_0x37ce41(0x1c1))[_0x37ce41(0x6f1)][_0x37ce41(0x648)](_0x37ce41(0x476));}),document['getElementById'](_0x4414d1(0x470))[_0x4414d1(0x5a2)](_0x4414d1(0xce9),_0x15a3bd=>renderQuizBankList(_0x15a3bd[_0x4414d1(0xa35)]['value']));const _0xa1aab6=document[_0x4414d1(0xc4d)](_0x4414d1(0x424));if(_0xa1aab6){let _0x10a7b9=null;_0xa1aab6[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x58efbd=>{const _0x2f34bb=_0x4414d1,_0x357a99=_0x58efbd[_0x2f34bb(0xa35)],_0x383e32=_0x357a99['closest'](_0x2f34bb(0x1fc)),_0x573753=_0x357a99[_0x2f34bb(0xac5)](_0x2f34bb(0x2cf)),_0x25921a=_0x357a99[_0x2f34bb(0xac5)]('.save-custom-topic-btn'),_0x596011=_0x357a99[_0x2f34bb(0xac5)](_0x2f34bb(0x583));if(_0x573753){_0x58efbd['preventDefault']();const _0x5cf73b=_0x573753['dataset']['id'],_0x133fa8=_0x573753['closest']('.group')[_0x2f34bb(0xab2)](_0x2f34bb(0x4ae))[_0x2f34bb(0x4c4)];showConfirmation(_0x2f34bb(0x4ed)+_0x133fa8+'\x22?',()=>handleDeleteCustomTopic(_0x5cf73b));}else{if(_0x383e32){_0x58efbd[_0x2f34bb(0xaa3)]();_0x10a7b9&&toggleTopicEditMode(_0x10a7b9,![]);const _0x9b2968=_0x383e32[_0x2f34bb(0xac5)](_0x2f34bb(0x8aa));_0x10a7b9=_0x9b2968,toggleTopicEditMode(_0x9b2968,!![]);}else{if(_0x25921a){_0x58efbd[_0x2f34bb(0xaa3)]();const _0x55aeb0=_0x25921a[_0x2f34bb(0xa2c)]['id'],_0xff712=_0x25921a[_0x2f34bb(0xac5)](_0x2f34bb(0x8aa)),_0x43fb5d=_0xff712[_0x2f34bb(0xab2)](_0x2f34bb(0x384))[_0x2f34bb(0x1ce)];handleUpdateCustomTopic(_0x55aeb0,_0x43fb5d),_0x10a7b9=null;}else{if(_0x596011){_0x58efbd[_0x2f34bb(0xaa3)]();const _0x3a7dda=_0x596011[_0x2f34bb(0xac5)](_0x2f34bb(0x8aa));toggleTopicEditMode(_0x3a7dda,![]),_0x10a7b9=null;}}}}}),document[_0x4414d1(0xc4d)]('close-lesson-plan-modal-btn')[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x5ecdd9=_0x4414d1;document[_0x5ecdd9(0xc4d)](_0x5ecdd9(0xadb))['classList']['add'](_0x5ecdd9(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0xdd8))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0xfe2cb9=_0x4414d1;document[_0xfe2cb9(0xc4d)](_0xfe2cb9(0xadb))[_0xfe2cb9(0x6f1)]['add'](_0xfe2cb9(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x92e))['addEventListener'](_0x4414d1(0x4f4),handleExportLessonPDF);}document[_0x4414d1(0xc4d)](_0x4414d1(0x774))['addEventListener'](_0x4414d1(0x4f4),()=>{const _0x3387fe=_0x4414d1;document[_0x3387fe(0xc4d)](_0x3387fe(0x107))['classList'][_0x3387fe(0x648)](_0x3387fe(0x476));}),document[_0x4414d1(0xc4d)](_0x4414d1(0x266))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x5a981a=_0x4414d1;document['getElementById'](_0x5a981a(0x107))[_0x5a981a(0x6f1)][_0x5a981a(0x648)]('hidden');}),setupComparisonModalTabs(),document[_0x4414d1(0x671)]['addEventListener'](_0x4414d1(0x4f4),function(_0x3b45ad){const _0x5e2bd0=_0x4414d1;if(_0x3b45ad['target'][_0x5e2bd0(0x6f1)][_0x5e2bd0(0x913)]('practice-topic-btn')){const _0x3226d1=unescape(_0x3b45ad['target'][_0x5e2bd0(0xa2c)]['topic']);startSkillPractice(_0x3226d1);}}),document[_0x4414d1(0xc4d)](_0x4414d1(0x844))[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),_0x548992=>{const _0x248ea=_0x4414d1,_0x1e4152=_0x548992[_0x248ea(0xa35)][_0x248ea(0xac5)](_0x248ea(0xe36));if(_0x1e4152){const _0x168f1c=_0x1e4152['dataset']['studentName'];handleDeleteSubmission(_0x168f1c);return;}const _0x3ba111=_0x548992[_0x248ea(0xa35)]['closest']('.edit-points-btn');if(_0x3ba111){const _0x193a58=_0x3ba111['dataset'][_0x248ea(0x550)],_0x46bff7=_0x3ba111[_0x248ea(0xa2c)]['currentPoints'],_0x51dcd2=prompt('แก้ไขคะแนน\x20Points\x20ของ\x20\x22'+_0x193a58+_0x248ea(0xd3c),_0x46bff7);if(_0x51dcd2!==null&&_0x51dcd2[_0x248ea(0x2ce)]()!==''){const _0x25c597=parseInt(_0x51dcd2,0xa);!isNaN(_0x25c597)?handleManualEditPoints(_0x193a58,_0x25c597):alert('กรุณากรอกเป็นตัวเลขเท่านั้น');}}}),document[_0x4414d1(0xc4d)]('close-pin-modal-btn')?.[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{const _0x34d2c1=_0x4414d1;document[_0x34d2c1(0xc4d)](_0x34d2c1(0x276))[_0x34d2c1(0x6f1)]['add'](_0x34d2c1(0x476));}),document[_0x4414d1(0x760)]('.pin-key')[_0x4414d1(0xd75)](_0x31c8a6=>{const _0x16b250=_0x4414d1;_0x31c8a6['addEventListener'](_0x16b250(0x4f4),()=>{const _0x1befee=_0x16b250;handlePinKeyPress(_0x31c8a6[_0x1befee(0xa2c)][_0x1befee(0xb1d)]);});}),document[_0x4414d1(0xc4d)](_0x4414d1(0x486))?.[_0x4414d1(0x5a2)](_0x4414d1(0x4f4),()=>{handlePinKeyPress('backspace');});}async function handleStartGroupMode(_0x202b0e,_0x232277=![]){const _0x9e0cb4=_0x5be2be,_0x21c2c7=allQuizzes['find'](_0x37d8bc=>_0x37d8bc['id']===_0x202b0e)||allQuizzesGlobal[_0x9e0cb4(0x35d)](_0x454a48=>_0x454a48['id']===_0x202b0e);if(!_0x21c2c7){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x21c2c7);const _0x131ea9=Math['floor'](0x3e8+Math[_0x9e0cb4(0x4ab)]()*0x2328)['toString']();try{const _0x38ceb6=await addDoc(collection(db,'artifacts/'+appId+_0x9e0cb4(0x6a6)),{'quizId':_0x21c2c7['id'],'projectId':_0x21c2c7['projectId'],'status':_0x9e0cb4(0xa69),'pin':_0x131ea9,'mode':_0x9e0cb4(0x21e),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x232277});currentTeamQuizId=_0x38ceb6['id'],showView(_0x9e0cb4(0x82d)),renderAdminTeamQuizDashboard(_0x131ea9,_0x21c2c7[_0x9e0cb4(0x380)],_0x9e0cb4(0x21e)),listenForTeamQuizUpdates();}catch(_0x3294b4){console[_0x9e0cb4(0x339)](_0x9e0cb4(0x795),_0x3294b4),showMessage(_0x9e0cb4(0xa0f));}}async function showStudentProgressView(){const _0x1567ee=_0x5be2be;studentInitialView[_0x1567ee(0x6f1)][_0x1567ee(0x648)](_0x1567ee(0x476)),document['getElementById'](_0x1567ee(0x7a9))['classList']['remove'](_0x1567ee(0x476));const _0x3ab3a5=document['getElementById']('progress-project-select'),_0x67c74a=document[_0x1567ee(0xc4d)](_0x1567ee(0xe76)),_0x3c6ffc=document['getElementById'](_0x1567ee(0xb71));_0x3c6ffc['innerHTML']=_0x1567ee(0x7e6),_0x67c74a['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x67c74a[_0x1567ee(0xbb3)]=!![],_0x3ab3a5[_0x1567ee(0x40b)]=_0x1567ee(0x579);if(allProjects[_0x1567ee(0x724)]===0x0){const _0x423cbf=collection(db,_0x1567ee(0x6e9)+appId+_0x1567ee(0x9b0)),_0x6a6399=await getDocs(_0x423cbf);allProjects=_0x6a6399[_0x1567ee(0x2b9)][_0x1567ee(0x546)](_0x22a94e=>({'id':_0x22a94e['id'],..._0x22a94e[_0x1567ee(0x1de)]()}));}const _0x43fcd8=allProjects[_0x1567ee(0x6e1)](_0x535bf9=>_0x535bf9[_0x1567ee(0x878)]?.[_0x1567ee(0xa17)]!==![]);_0x43fcd8[_0x1567ee(0x332)]((_0x1f2309,_0x3a823d)=>_0x1f2309[_0x1567ee(0xb8b)]['localeCompare'](_0x3a823d['projectName'],'th')),_0x3ab3a5['innerHTML']=_0x1567ee(0xdd1)+_0x43fcd8[_0x1567ee(0x546)](_0x376242=>_0x1567ee(0x813)+_0x376242['id']+'\x22>'+_0x376242[_0x1567ee(0xb8b)]+_0x1567ee(0xa37))['join'](''),_0x3ab3a5[_0x1567ee(0x218)]=()=>{const _0x762fed=_0x1567ee,_0x22dd98=_0x67c74a[_0x762fed(0x1ce)],_0x5b2a3c=_0x3ab3a5[_0x762fed(0x1ce)];_0x67c74a[_0x762fed(0xbb3)]=!![],_0x67c74a['innerHTML']=_0x762fed(0x819),_0x3c6ffc['innerHTML']=_0x762fed(0xda6);if(!_0x5b2a3c)return;const _0x5e82ce=allProjects[_0x762fed(0x35d)](_0x11e972=>_0x11e972['id']===_0x5b2a3c);if(!_0x5e82ce||!_0x5e82ce[_0x762fed(0x94c)])return;const _0x18484d=()=>{const _0x452b7b=_0x762fed;_0x67c74a[_0x452b7b(0x40b)]=_0x452b7b(0x819)+_0x5e82ce[_0x452b7b(0x94c)][_0x452b7b(0x546)](_0x501431=>_0x452b7b(0x813)+_0x501431+'\x22>'+_0x501431+_0x452b7b(0xa37))[_0x452b7b(0x625)](''),_0x67c74a['disabled']=![];const _0x4203c6=Array['from'](_0x67c74a[_0x452b7b(0xa3c)])[_0x452b7b(0x546)](_0x29c241=>_0x29c241[_0x452b7b(0x1ce)]);if(_0x22dd98&&_0x4203c6[_0x452b7b(0xe4a)](_0x22dd98))_0x67c74a[_0x452b7b(0x1ce)]=_0x22dd98,_0x67c74a[_0x452b7b(0xd49)](new Event(_0x452b7b(0x25a)));else _0x5e82ce[_0x452b7b(0x94c)][_0x452b7b(0x724)]===0x1&&(_0x67c74a['value']=_0x5e82ce[_0x452b7b(0x94c)][0x0],_0x67c74a[_0x452b7b(0xd49)](new Event(_0x452b7b(0x25a))));};if(_0x5e82ce[_0x762fed(0x878)]?.[_0x762fed(0x27f)]){if(sessionStorage['getItem']('authed_project_'+_0x5b2a3c)==='true'){_0x18484d();return;}const _0x1ceb72=document['getElementById'](_0x762fed(0x632)),_0x19e2c5=document[_0x762fed(0xc4d)](_0x762fed(0xa67)),_0x4babbf=document[_0x762fed(0xc4d)](_0x762fed(0x6b3)),_0x295bf8=document[_0x762fed(0xc4d)](_0x762fed(0x83c)),_0x429b9c=document[_0x762fed(0xc4d)](_0x762fed(0x9d6));document[_0x762fed(0xc4d)]('passcode-prompt-message')[_0x762fed(0x4c4)]=_0x762fed(0x16e)+_0x5e82ce[_0x762fed(0xb8b)],_0x295bf8['value']='',_0x429b9c[_0x762fed(0x6f1)][_0x762fed(0x648)]('hidden'),_0x1ceb72['classList'][_0x762fed(0x7d9)](_0x762fed(0x476));const _0x2391d4=()=>{const _0x2c2142=_0x762fed,_0x4fbf76=_0x295bf8['value'][_0x2c2142(0x2ce)]();_0x4fbf76===_0x5e82ce['settings'][_0x2c2142(0xae4)]?(sessionStorage[_0x2c2142(0x2c5)](_0x2c2142(0x402)+_0x5b2a3c,_0x2c2142(0xe16)),_0x1ceb72['classList'][_0x2c2142(0x648)](_0x2c2142(0x476)),_0x18484d(),_0x19e2c5[_0x2c2142(0xdfc)](_0x2c2142(0x4f4),_0x2391d4)):_0x429b9c[_0x2c2142(0x6f1)][_0x2c2142(0x7d9)]('hidden');};_0x19e2c5[_0x762fed(0x8f5)]=_0x2391d4,_0x4babbf[_0x762fed(0x8f5)]=()=>{const _0x12ae37=_0x762fed;_0x1ceb72[_0x12ae37(0x6f1)]['add'](_0x12ae37(0x476)),_0x3ab3a5[_0x12ae37(0x1ce)]='',_0x19e2c5[_0x12ae37(0xdfc)](_0x12ae37(0x4f4),_0x2391d4);};}else _0x18484d();},_0x67c74a['onchange']=()=>{const _0x3759f7=_0x1567ee,_0x37b70c=_0x3ab3a5[_0x3759f7(0x1ce)],_0x316c7f=_0x67c74a[_0x3759f7(0x1ce)];_0x37b70c&&_0x316c7f&&renderStudentProgressDashboard(_0x37b70c,_0x316c7f);};}async function confirmAndJoinSyncGame(){const _0x19aae8=_0x5be2be;lastSeenQuestionIndex=-0x1,sessionStorage[_0x19aae8(0x996)](_0x19aae8(0x558)),sessionStorage[_0x19aae8(0x996)](_0x19aae8(0xd22)),Object['keys'](sessionStorage)['forEach'](_0x10cf79=>{const _0x572a68=_0x19aae8;(_0x10cf79[_0x572a68(0xb6d)]('freeMarketEntryUsed_q')||_0x10cf79[_0x572a68(0xb6d)](_0x572a68(0x491))||_0x10cf79['startsWith'](_0x572a68(0x8b1)))&&sessionStorage['removeItem'](_0x10cf79);});const _0x119dd8=Array[_0x19aae8(0xe6)](document[_0x19aae8(0x760)]('input[name=\x22team_player\x22]:checked'))[_0x19aae8(0x546)](_0x4569a7=>_0x4569a7['value']);if(_0x119dd8[_0x19aae8(0x724)]===0x0){showMessage(_0x19aae8(0x16d));return;}localTeamPlayers=_0x119dd8,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x1166fa=writeBatch(db),_0x42c217=serverTimestamp();_0x119dd8[_0x19aae8(0xd75)](_0x59d3a1=>{const _0x375a5e=_0x19aae8,_0x2782e8=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x375a5e(0xd07),_0x59d3a1),_0x59c096={'name':_0x59d3a1,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x375a5e(0x970),'answers':[],'joinedAt':_0x42c217,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x1166fa[_0x375a5e(0xc51)](_0x2782e8,_0x59c096,{'merge':!![]});}),await _0x1166fa[_0x19aae8(0x297)](),showView(_0x19aae8(0x82d)),document[_0x19aae8(0xc4d)](_0x19aae8(0x324))[_0x19aae8(0x6f1)]['add']('hidden'),currentStudentName=_0x119dd8[0x0],listenForSyncGameUpdates();const _0x2a4378={'gameId':currentLiveGameId,'mode':_0x19aae8(0xaa1),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x19aae8(0xc99),JSON[_0x19aae8(0x3f3)](_0x2a4378)),currentMode!==_0x19aae8(0x6b8)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x19aae8(0x1a3),handleFullscreenChange),document[_0x19aae8(0x5a2)](_0x19aae8(0x76b),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x19aae8(0x598),resetDimTimer),window[_0x19aae8(0x5a2)]('mousedown',resetDimTimer),window[_0x19aae8(0x5a2)](_0x19aae8(0xe3b),resetDimTimer),window[_0x19aae8(0x5a2)](_0x19aae8(0xc7a),resetDimTimer),resetDimTimer());}catch(_0x10d586){console['error']('Error\x20joining\x20sync\x20game:',_0x10d586),showMessage(_0x19aae8(0x993)+_0x10d586['message']);}}async function resumeActiveGameSession(){const _0xda2ce3=_0x5be2be,_0x2186ef=sessionStorage['getItem'](_0xda2ce3(0xc99));if(!_0x2186ef)return;const _0x1b3d46=JSON[_0xda2ce3(0x2fa)](_0x2186ef),{gameId:_0x5a8266,mode:_0x5cbfd4,role:_0x364499,players:_0x23c4de,turnIndex:_0x13c9e6}=_0x1b3d46;try{if(_0x364499===_0xda2ce3(0x84c)&&_0x5cbfd4===_0xda2ce3(0xaa1)){const _0x297762=doc(db,'artifacts/'+appId+_0xda2ce3(0xe80),_0x5a8266),_0x1690dd=await getDoc(_0x297762);if(!_0x1690dd[_0xda2ce3(0x509)]()||_0x1690dd[_0xda2ce3(0x1de)]()[_0xda2ce3(0x7c3)]===_0xda2ce3(0x434)||_0x1690dd['data']()[_0xda2ce3(0x7c3)]==='finished'){sessionStorage[_0xda2ce3(0x996)](_0xda2ce3(0xc99));return;}console['log'](_0xda2ce3(0xd9d)+_0x5a8266+')'),currentMode='admin',currentLiveGameId=_0x5a8266,currentQuizData=_0x1690dd[_0xda2ce3(0x1de)]()[_0xda2ce3(0x1c4)],showView('live-game'),listenForSyncGameUpdates();}else{if(_0x5cbfd4===_0xda2ce3(0xaa1)&&_0x23c4de){const _0x3cccc8=doc(db,_0xda2ce3(0x6e9)+appId+'/public/data/syncGames',_0x5a8266),_0x561b82=await getDoc(_0x3cccc8);if(!_0x561b82[_0xda2ce3(0x509)]()||_0x561b82['data']()[_0xda2ce3(0x7c3)]===_0xda2ce3(0x434)||_0x561b82[_0xda2ce3(0x1de)]()['status']===_0xda2ce3(0x331)){sessionStorage['removeItem']('activeGameSession');return;}console[_0xda2ce3(0xbe2)](_0xda2ce3(0x463)+_0x5a8266+')'),currentLiveGameId=_0x5a8266,currentStudentName=_0x23c4de[0x0],localTeamPlayers=_0x23c4de,showView(_0xda2ce3(0x82d)),listenForSyncGameUpdates();}else{if((_0x5cbfd4==='team'||_0x5cbfd4===_0xda2ce3(0x21e))&&_0x23c4de){const _0x561863=doc(db,'artifacts/'+appId+_0xda2ce3(0x6a6),_0x5a8266),_0x332525=await getDoc(_0x561863);if(!_0x332525[_0xda2ce3(0x509)]()||_0x332525[_0xda2ce3(0x1de)]()[_0xda2ce3(0x7c3)]==='podium'||_0x332525[_0xda2ce3(0x1de)]()[_0xda2ce3(0x7c3)]==='finished'){sessionStorage[_0xda2ce3(0x996)](_0xda2ce3(0xc99));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x5cbfd4+'\x20(Player)\x20(ID:\x20'+_0x5a8266+')'),currentTeamQuizId=_0x5a8266,localTeamPlayers=_0x23c4de,localQuestionIndex=_0x1b3d46['questionIndex']||0x0,localPlayerIndex=_0x1b3d46[_0xda2ce3(0x158)]||0x0;const _0x1329de=_0x332525[_0xda2ce3(0x1de)](),_0x31030c=doc(db,_0xda2ce3(0x6e9)+appId+'/public/data/quizzes',_0x1329de[_0xda2ce3(0x939)]),_0x5b7a72=await getDoc(_0x31030c);_0x5b7a72[_0xda2ce3(0x509)]()&&(currentQuizData=getShuffledQuiz({'id':_0x5b7a72['id'],..._0x5b7a72[_0xda2ce3(0x1de)]()}),showView('student'),studentInitialView[_0xda2ce3(0x6f1)][_0xda2ce3(0x648)]('hidden'),_0x5cbfd4===_0xda2ce3(0x21e)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x15dcea){console[_0xda2ce3(0x339)]('Failed\x20to\x20resume\x20game\x20session:',_0x15dcea),sessionStorage['removeItem'](_0xda2ce3(0xc99));}}async function handleUsePowerup(_0x3f85a9,_0x440673,_0x55c239,_0x5b4af7,_0x8adcaf){const _0x239b06=_0x5be2be,_0x29c861=_0x5b4af7[_0x239b06(0xe7c)],_0x3a531f='powerupUsed_q'+_0x29c861+'_p'+_0x3f85a9,_0x310e2d=sessionStorage['getItem'](_0x3a531f);if(_0x310e2d&&_0x440673!=='buyTime'&&_0x440673!==_0x239b06(0xb6c)){showMessage(_0x239b06(0xcbc));const _0x2d2bc6=document[_0x239b06(0xc4d)](_0x239b06(0xe10)+_0x440673);if(_0x2d2bc6)_0x2d2bc6[_0x239b06(0xbb3)]=![];return;}if(_0x440673===_0x239b06(0x9b7)){sessionStorage[_0x239b06(0x2c5)](_0x3a531f,_0x440673),playSystemSound(_0x239b06(0xd0)),renderStudentSyncQuestionView(_0x5b4af7);return;}const _0x370182=doc(db,_0x239b06(0x6e9)+appId+_0x239b06(0x614)+currentLiveGameId+_0x239b06(0xd07),_0x3f85a9);try{await runTransaction(db,async _0x2645bb=>{const _0x446a15=_0x239b06,_0x512a95=await _0x2645bb[_0x446a15(0x5b0)](_0x370182);if(!_0x512a95[_0x446a15(0x509)]())throw _0x446a15(0x953);const _0x13a21c=_0x512a95[_0x446a15(0x1de)](),_0x5b6596=_0x13a21c[_0x446a15(0x5a7)]||{},_0x3c64eb=_0x5b6596[_0x440673]||0x0;if(_0x3c64eb<=0x0)throw _0x446a15(0x84a);const _0x5e89e9={};_0x5e89e9[_0x446a15(0x76e)+_0x440673]=increment(-0x1);_0x440673!==_0x446a15(0x9b7)&&(_0x5e89e9[_0x446a15(0xdc2)]=0x0);if(_0x440673===_0x446a15(0xe54)){const _0x40a588=(_0x5b4af7[_0x446a15(0xd0b)]||0xf0)*0x3e8,_0x1baef5=_0x40a588*0.25;_0x5e89e9[_0x446a15(0x69e)]=increment(_0x1baef5);}_0x2645bb[_0x446a15(0x9f3)](_0x370182,_0x5e89e9);}),_0x440673===_0x239b06(0x21d)&&sessionStorage[_0x239b06(0x2c5)](_0x239b06(0x558),'true'),_0x440673!==_0x239b06(0xe54)&&_0x440673!==_0x239b06(0xb6c)&&sessionStorage[_0x239b06(0x2c5)](_0x3a531f,_0x440673),playSystemSound(_0x239b06(0xd0)),applyPowerupEffect(_0x3f85a9,_0x440673,_0x55c239,_0x5b4af7,_0x8adcaf),(_0x440673===_0x239b06(0x696)||_0x440673===_0x239b06(0xaec)||_0x440673===_0x239b06(0x860)||_0x440673==='revealOptions')&&renderStudentSyncQuestionView(_0x5b4af7),_0x440673!=='wagerMultiplier'&&_0x8adcaf[_0x239b06(0xdc2)]>0x0&&showMessage(_0x239b06(0x2e5)+_0x440673+_0x239b06(0x634));}catch(_0x2c0ca6){console[_0x239b06(0x339)](_0x239b06(0x560),_0x2c0ca6),showMessage(typeof _0x2c0ca6===_0x239b06(0xa4b)?_0x2c0ca6:_0x239b06(0x252));const _0x2b7508=document[_0x239b06(0xc4d)](_0x239b06(0xe10)+_0x440673);if(_0x2b7508)_0x2b7508[_0x239b06(0xbb3)]=![];}}async function getCachedOtherPlayers(_0x507c9d,_0x1b9b2f){const _0x2b3ad2=_0x5be2be,_0x224560=_0x507c9d[_0x2b3ad2(0xe7c)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x224560)return console[_0x2b3ad2(0xbe2)](_0x2b3ad2(0x56c)),cachedOtherPlayersForQuestion;console[_0x2b3ad2(0xbe2)](_0x2b3ad2(0x8d8));const _0x2858fe=collection(db,'artifacts/'+appId+_0x2b3ad2(0x614)+currentLiveGameId+'/players'),_0x30a412=query(_0x2858fe,where(_0x2b3ad2(0x7c3),'==',_0x2b3ad2(0x970))),_0x235816=await getDocs(_0x30a412),_0x18f377=[];return _0x235816[_0x2b3ad2(0xd75)](_0x5ebf3f=>{const _0x53418d=_0x2b3ad2,_0x1b2117=_0x5ebf3f['data']();_0x18f377[_0x53418d(0x633)](_0x1b2117);}),cachedOtherPlayersForQuestion=_0x18f377,cachedQuestionIndexForPlayers=_0x224560,_0x18f377;}async function applyPowerupEffect(_0x4049b6,_0x45383d,_0x3b10c0,_0x472a57,_0xef2d96){const _0x52f12e=_0x5be2be,_0x25b641=_0x3b10c0,_0x40b031=_0x472a57['currentQuestionIndex'];switch(_0x45383d){case _0x52f12e(0x9b7):showMessage(_0x52f12e(0xc5d));break;case _0x52f12e(0xc81):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x52f12e(0xe54):const _0xafb74e=(_0x472a57['timerDuration']||0xf0)*0.25;showMessage(_0x52f12e(0xbc8)+_0xafb74e+_0x52f12e(0x896));break;case'cutOne':case'fiftyFifty':const _0x5e0170=document['querySelectorAll']('.live-answer-btn');if(_0x5e0170[_0x52f12e(0x724)]===0x0){showMessage(_0x52f12e(0x186));return;}const _0x375e6e=_0x52f12e(0x8b1)+_0x40b031+'_p'+_0x4049b6,_0x18f715=JSON['parse'](sessionStorage[_0x52f12e(0xadf)](_0x375e6e)||'[]');let _0x27425c;const _0x1a3cd5=_0x25b641[_0x52f12e(0xc7b)]||_0x472a57[_0x52f12e(0x1c4)][_0x52f12e(0xd93)];_0x1a3cd5===_0x52f12e(0xd99)?_0x27425c=String(_0x25b641[_0x52f12e(0x66a)])[_0x52f12e(0x6f7)]()===_0x52f12e(0xe16)?0x0:0x1:_0x27425c=_0x25b641[_0x52f12e(0x6cf)];const _0x97b604=Array[_0x52f12e(0xe6)](_0x5e0170)[_0x52f12e(0x6e1)](_0x72479e=>parseInt(_0x72479e['dataset'][_0x52f12e(0x1ce)])!==_0x27425c&&!_0x18f715['includes'](_0x72479e['dataset'][_0x52f12e(0x1ce)]));if(_0x97b604[_0x52f12e(0x724)]===0x0){showMessage(_0x52f12e(0x106));return;}shuffleArray(_0x97b604);const _0x47cb05=_0x45383d==='cutOne'?0x1:0x2,_0x18a507=[];for(let _0x4cc5b1=0x0;_0x4cc5b1<_0x47cb05;_0x4cc5b1++){_0x97b604[_0x4cc5b1]&&(_0x97b604[_0x4cc5b1][_0x52f12e(0x6f1)][_0x52f12e(0x648)](_0x52f12e(0x476)),_0x18a507[_0x52f12e(0x633)](_0x97b604[_0x4cc5b1][_0x52f12e(0xa2c)][_0x52f12e(0x1ce)]));}const _0x489c10=[..._0x18f715,..._0x18a507];sessionStorage['setItem'](_0x375e6e,JSON[_0x52f12e(0x3f3)](_0x489c10)),showMessage(_0x45383d===_0x52f12e(0x696)?_0x52f12e(0x8bf):_0x52f12e(0xda2));break;default:showMessage(_0x52f12e(0x4af)+_0x45383d+_0x52f12e(0x557));}}async function handleForceConfident(_0x2d60e4,_0x2cc9bb){const _0x88c18c=_0x5be2be;if(!currentLiveGameId||!_0x2d60e4)return;const _0x5dc75a=doc(db,'artifacts/'+appId+_0x88c18c(0x614)+currentLiveGameId+_0x88c18c(0xd07),_0x2d60e4);try{await updateDoc(_0x5dc75a,{'isForcedConfident':!![]}),showMessage(_0x88c18c(0x392)+_0x2cc9bb+_0x88c18c(0xe7e));}catch(_0x257275){console[_0x88c18c(0x339)](_0x88c18c(0x6b6),_0x257275),showMessage(_0x88c18c(0xc54));}}async function handleRefundPowerup(_0x4f5ce0,_0x152348){const _0x2b5d33=_0x5be2be,_0x3dca17=doc(db,_0x2b5d33(0x6e9)+appId+_0x2b5d33(0x614)+currentLiveGameId+_0x2b5d33(0xd07),_0x4f5ce0);try{const _0x3eeed8={};_0x3eeed8[_0x2b5d33(0x76e)+_0x152348]=increment(0x1),await updateDoc(_0x3dca17,_0x3eeed8),console[_0x2b5d33(0xbe2)](_0x2b5d33(0x44c)+_0x152348+'\x20to\x20'+_0x4f5ce0);}catch(_0x399882){console[_0x2b5d33(0x339)](_0x2b5d33(0x6d1),_0x399882);}}async function handleApplyJinx(_0x129d4f,_0x2b5a03){const _0x35e0c=_0x5be2be;if(!currentLiveGameId||!_0x129d4f)return;const _0x506beb=doc(db,'artifacts/'+appId+_0x35e0c(0x614)+currentLiveGameId+_0x35e0c(0xd07),_0x129d4f);try{await updateDoc(_0x506beb,{'isJinxed':!![]}),showMessage(_0x35e0c(0x973)+_0x2b5a03+'\x20สำเร็จ!');}catch(_0xf89ec8){console[_0x35e0c(0x339)](_0x35e0c(0x677),_0xf89ec8),showMessage(_0x35e0c(0xc54));}}function activateFileInputAreaWithLoadedFile(){const _0x290cd0=_0x5be2be,_0xac835f=document[_0x290cd0(0xc4d)](_0x290cd0(0x155)),_0x5f47b5=document[_0x290cd0(0xc4d)]('file-topics-list-container'),_0x55aa37=document[_0x290cd0(0xc4d)](_0x290cd0(0x9e3));selectedFile?_0x55aa37[_0x290cd0(0x315)]?(_0xac835f[_0x290cd0(0xbb3)]=!![],analyzeFileForTopics(selectedFile)):(_0xac835f[_0x290cd0(0xbb3)]=![],_0x5f47b5[_0x290cd0(0x6f1)]['add']('hidden')):(_0xac835f[_0x290cd0(0xbb3)]=!![],_0x5f47b5[_0x290cd0(0x6f1)][_0x290cd0(0x648)](_0x290cd0(0x476)));}async function handleKickPlayerSync(_0x3ac1b2){const _0x2ea811=_0x5be2be;if(!currentLiveGameId||!_0x3ac1b2)return;const _0x4dc9de=doc(db,_0x2ea811(0x6e9)+appId+_0x2ea811(0x614)+currentLiveGameId+_0x2ea811(0xd07),_0x3ac1b2);try{await updateDoc(_0x4dc9de,{'status':_0x2ea811(0x511)});}catch(_0x5162b7){console[_0x2ea811(0x339)](_0x2ea811(0x887)+_0x3ac1b2+':',_0x5162b7),showMessage(_0x2ea811(0x98e));}}async function renderStudentProgressDashboard(_0x53ae27,_0x340f97){const _0x23afe4=_0x5be2be,_0x1960f8=document[_0x23afe4(0xc4d)](_0x23afe4(0xb71));_0x1960f8[_0x23afe4(0x40b)]=_0x23afe4(0xe65);try{const _0x2c27db=collection(db,'artifacts/'+appId+_0x23afe4(0x42c)),_0x13c820=query(_0x2c27db,where(_0x23afe4(0xbb0),'==',_0x53ae27)),_0x65a266=await getDocs(_0x13c820),_0x4b9402=_0x65a266[_0x23afe4(0x2b9)]['map'](_0x4143c8=>({'id':_0x4143c8['id'],..._0x4143c8[_0x23afe4(0x1de)]()})),_0xc4588e=_0x4b9402[_0x23afe4(0x546)](_0x42a06b=>getDoc(doc(db,_0x23afe4(0x6e9)+appId+'/public/data/quizzes/'+_0x42a06b['id']+_0x23afe4(0x3e4),_0x340f97))),_0x52bc82=await Promise[_0x23afe4(0x1d5)](_0xc4588e),_0x581d73=_0x52bc82['filter'](_0x28c3e5=>_0x28c3e5['exists']())['map'](_0x5aebe6=>({'quizId':_0x5aebe6[_0x23afe4(0xa3b)][_0x23afe4(0x92d)][_0x23afe4(0x92d)]['id'],..._0x5aebe6[_0x23afe4(0x1de)]()}));if(_0x581d73[_0x23afe4(0x724)]===0x0){_0x1960f8[_0x23afe4(0x40b)]=_0x23afe4(0x7af);return;}let _0x4efc0a=_0x23afe4(0x673);_0x581d73[_0x23afe4(0xd75)](_0x516889=>{const _0x204e25=_0x23afe4,_0x3a856d=_0x4b9402[_0x204e25(0x35d)](_0x58620b=>_0x58620b['id']===_0x516889[_0x204e25(0x939)]),_0x9a8ef0=_0x3a856d[_0x204e25(0x878)]?.[_0x204e25(0x49d)]||_0x204e25(0x5bf),_0x15e5fa=_0x3a856d[_0x204e25(0x878)]?.[_0x204e25(0x2ec)]??0x0,_0x11b9ef=_0x516889[_0x204e25(0x148)]>=_0x15e5fa;let _0x5bdc84='',_0x172355=_0x204e25(0x144);switch(_0x9a8ef0){case _0x204e25(0x5bf):case _0x204e25(0x78c):_0x172355=_0x11b9ef?'bg-green-50':_0x204e25(0x2b8),_0x5bdc84=_0x204e25(0x68c)+(_0x11b9ef?_0x204e25(0x6a1):_0x204e25(0x369))+'\x22>'+_0x516889[_0x204e25(0x148)]+'\x20/\x20'+_0x516889[_0x204e25(0xa66)]+_0x204e25(0xa6d)+(_0x11b9ef?_0x204e25(0x8d2):_0x204e25(0xc8b))+'\x22>'+(_0x11b9ef?_0x204e25(0x9a9):'ไม่ผ่าน')+_0x204e25(0xb85);break;case'show_pass_fail_only':_0x172355=_0x11b9ef?_0x204e25(0xa64):_0x204e25(0x2b8),_0x5bdc84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x11b9ef?_0x204e25(0x8d2):'bg-red-200\x20text-red-800')+'\x22>'+(_0x11b9ef?_0x204e25(0x9a9):_0x204e25(0x4f2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x204e25(0xcd3):_0x172355=_0x204e25(0x248),_0x5bdc84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x4efc0a+=_0x204e25(0x378)+_0x172355+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x3a856d[_0x204e25(0x380)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x516889[_0x204e25(0x299)][_0x204e25(0x724)]+_0x204e25(0xe04)+new Date(_0x516889[_0x204e25(0x1bd)])[_0x204e25(0x674)](_0x204e25(0xcfb))+_0x204e25(0x499)+_0x5bdc84+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4efc0a+='</div>',_0x1960f8['innerHTML']=_0x4efc0a;}catch(_0x34c721){console[_0x23afe4(0x339)](_0x23afe4(0xc0f),_0x34c721),_0x1960f8['innerHTML']=_0x23afe4(0xe24);}}function renderQuizBankListForMultiSelect(_0x1deb8f=''){const _0x31e36c=_0x5be2be,_0x48c98a=document['getElementById'](_0x31e36c(0x3dd)),_0x1473fe=_0x1deb8f['toLowerCase']()[_0x31e36c(0x2ce)](),_0x2f78c5=allQuizzesGlobal['map'](_0x5bb571=>({..._0x5bb571,'projectName':allProjects[_0x31e36c(0x35d)](_0x558579=>_0x558579['id']===_0x5bb571[_0x31e36c(0xbb0)])?.[_0x31e36c(0xb8b)]||'N/A'}))[_0x31e36c(0x6e1)](_0x1e97d7=>(_0x1e97d7[_0x31e36c(0x380)]||'')[_0x31e36c(0x6f7)]()[_0x31e36c(0xe4a)](_0x1473fe)||(_0x1e97d7['projectName']||'')[_0x31e36c(0x6f7)]()[_0x31e36c(0xe4a)](_0x1473fe)||_0x1e97d7['id'][_0x31e36c(0x386)]()[_0x31e36c(0xe4a)](_0x1473fe));_0x48c98a[_0x31e36c(0x40b)]=_0x2f78c5[_0x31e36c(0x724)]?_0x2f78c5['map'](_0x34ecc0=>_0x31e36c(0xcf3)+_0x34ecc0['id']+_0x31e36c(0x70d)+(_0x34ecc0[_0x31e36c(0x380)]||_0x31e36c(0x6de))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x34ecc0['projectName']+_0x31e36c(0xd06)+_0x34ecc0['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x31e36c(0x625)](''):_0x31e36c(0x522),_0x48c98a['onchange']=()=>{const _0x3e2c0d=_0x31e36c,_0x3238fe=document['querySelector'](_0x3e2c0d(0xa1a));document[_0x3e2c0d(0xc4d)](_0x3e2c0d(0x684))['disabled']=!_0x3238fe;};}function setupStudentProgressListeners(){const _0x178a66=_0x5be2be;document[_0x178a66(0xc4d)]('view-my-progress-btn')[_0x178a66(0x5a2)](_0x178a66(0x4f4),showStudentProgressView),document[_0x178a66(0xc4d)]('back-to-student-home-btn')['addEventListener'](_0x178a66(0x4f4),()=>{const _0x43a6ce=_0x178a66;document[_0x43a6ce(0xc4d)]('student-progress-view')['classList'][_0x43a6ce(0x648)](_0x43a6ce(0x476)),document[_0x43a6ce(0xc4d)](_0x43a6ce(0xc73))[_0x43a6ce(0x6f1)][_0x43a6ce(0x7d9)](_0x43a6ce(0x476));});}async function startSkillPractice(_0x51f7b7){const _0x1ba8f6=_0x5be2be;studentResultArea[_0x1ba8f6(0x6f1)][_0x1ba8f6(0x648)](_0x1ba8f6(0x476)),studentQuizArea[_0x1ba8f6(0x40b)]=_0x1ba8f6(0xd59),studentQuizArea[_0x1ba8f6(0x6f1)][_0x1ba8f6(0x7d9)](_0x1ba8f6(0x476));try{const _0x1361b2=await getStandardizedTopic(_0x51f7b7);console[_0x1ba8f6(0xbe2)](_0x1ba8f6(0x99a)+_0x51f7b7+_0x1ba8f6(0x3be)+_0x1361b2+'\x22'),studentQuizArea[_0x1ba8f6(0xab2)]('p')['textContent']=_0x1ba8f6(0xa22)+_0x1361b2+_0x1ba8f6(0x24c);const _0x41b909=collection(db,_0x1ba8f6(0x6e9)+appId+_0x1ba8f6(0x65a)),_0x2c4598=query(_0x41b909,where(_0x1ba8f6(0x380),'==',_0x1361b2)),_0x48b26d=await getDocs(_0x2c4598);if(_0x48b26d[_0x1ba8f6(0x2b9)][_0x1ba8f6(0x724)]>=0x3){console[_0x1ba8f6(0xbe2)](_0x1ba8f6(0xc7c)+_0x48b26d['docs']['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x1361b2+_0x1ba8f6(0xf1));let _0x4c56ce=_0x48b26d[_0x1ba8f6(0x2b9)]['map'](_0x680c58=>_0x680c58[_0x1ba8f6(0x1de)]());shuffleArray(_0x4c56ce);const _0x192f98={'topic':_0x1361b2,'questions':_0x4c56ce[_0x1ba8f6(0x647)](0x0,0x3)};displaySkillPracticeDrill(_0x192f98);}else{console['log'](_0x1ba8f6(0xc0b)+_0x1361b2+_0x1ba8f6(0xb64));const _0x1a6c5f=await generatePracticeQuestions(_0x1361b2);await saveDrillToPracticeBank(_0x1a6c5f,_0x1361b2),displaySkillPracticeDrill(_0x1a6c5f);}}catch(_0x327720){console[_0x1ba8f6(0x339)](_0x1ba8f6(0xd82),_0x327720),showMessage(_0x1ba8f6(0x39a)),studentQuizArea[_0x1ba8f6(0x6f1)][_0x1ba8f6(0x648)](_0x1ba8f6(0x476)),studentResultArea[_0x1ba8f6(0x6f1)]['remove'](_0x1ba8f6(0x476));}}async function saveDrillToPracticeBank(_0x4856ee,_0x565e03){const _0x274bbc=_0x5be2be,_0x4fb05c=collection(db,_0x274bbc(0x6e9)+appId+_0x274bbc(0x65a)),_0x2fa22e=writeBatch(db);_0x4856ee[_0x274bbc(0xb1f)][_0x274bbc(0xd75)](_0x377f16=>{const _0x1db810=_0x274bbc,_0x2fed18=doc(_0x4fb05c);_0x2fa22e[_0x1db810(0xc51)](_0x2fed18,{'topic':_0x565e03,'questionText':_0x377f16['questionText'],'options':_0x377f16[_0x1db810(0xa3c)],'correctAnswerIndex':_0x377f16[_0x1db810(0x6cf)],'explanation':_0x377f16[_0x1db810(0x23c)],'createdAt':serverTimestamp()});});try{await _0x2fa22e['commit'](),console[_0x274bbc(0xbe2)](_0x274bbc(0xd2d)+_0x4856ee['questions']['length']+_0x274bbc(0x98f));}catch(_0x3dcc32){console['error'](_0x274bbc(0x36a),_0x3dcc32);}}async function getStandardizedTopic(_0x26ab09){const _0x39ce82=_0x5be2be,_0x2dc702=_0x39ce82(0xd35)+_0x26ab09+_0x39ce82(0xa50),_0x5b501d={'type':_0x39ce82(0x496),'properties':{'standardTopic':{'type':_0x39ce82(0x179)}},'required':[_0x39ce82(0x138)]};try{const _0x37f115=await callAnalysisApi(_0x2dc702,_0x5b501d);return _0x37f115['standardTopic'];}catch(_0x39717b){return console[_0x39ce82(0x339)](_0x39ce82(0x4a1),_0x39717b),_0x26ab09;}}async function handleGenerateEasyVersionQuiz(_0x459db2){const _0x8023d5=_0x5be2be,_0x2fe52e=document[_0x8023d5(0xc4d)](_0x8023d5(0x237)),_0x3e6f92=document[_0x8023d5(0xc4d)](_0x8023d5(0x852));_0x3e6f92[_0x8023d5(0x6f1)][_0x8023d5(0x648)](_0x8023d5(0x476));const _0x523826=_0x8023d5(0x5e6);_0x2fe52e['insertAdjacentHTML'](_0x8023d5(0xd66),_0x523826);try{const _0x1111b0=allQuizzes[_0x8023d5(0x35d)](_0x3feeb2=>_0x3feeb2['id']===_0x459db2);if(!_0x1111b0)throw new Error(_0x8023d5(0x46a));const _0x1cd24e=_0x8023d5(0x586)+JSON[_0x8023d5(0x3f3)](_0x1111b0[_0x8023d5(0xb1f)])+_0x8023d5(0xcd5),_0x3e52df={'type':_0x8023d5(0x496),'properties':{'questionText':{'type':_0x8023d5(0x179)},'questionType':{'type':_0x8023d5(0x179)},'options':{'type':'ARRAY','items':{'type':_0x8023d5(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x8023d5(0x179)},'explanation':{'type':_0x8023d5(0x179)},'imageCode':{'type':_0x8023d5(0x179)}},'required':[_0x8023d5(0x9b3),_0x8023d5(0xc7b),_0x8023d5(0x23c)]},_0x3e765f={'type':_0x8023d5(0x496),'properties':{'questions':{'type':'ARRAY','items':_0x3e52df}},'required':[_0x8023d5(0xb1f)]},_0xda057c=await callAnalysisApi(_0x1cd24e,_0x3e765f);_0xda057c&&_0xda057c[_0x8023d5(0xb1f)]&&_0xda057c['questions'][_0x8023d5(0xd75)](_0xa912f4=>{const _0x1809d7=_0x8023d5;if(_0xa912f4[_0x1809d7(0x159)](_0x1809d7(0x145))){const _0x59bd6b=String(_0xa912f4['imageCode'])[_0x1809d7(0x2ce)]();(_0x59bd6b===''||_0x59bd6b[_0x1809d7(0x6f7)]()===_0x1809d7(0x959)||!_0x59bd6b[_0x1809d7(0xb6d)](_0x1809d7(0x8e7)))&&delete _0xa912f4[_0x1809d7(0x145)];}});if(!_0xda057c||!_0xda057c['questions']||_0xda057c['questions'][_0x8023d5(0x724)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x189d63=_0xda057c[_0x8023d5(0xb1f)][_0x8023d5(0x546)]((_0x42c9e9,_0x4a2a34)=>({..._0x42c9e9,'id':'q_'+Date[_0x8023d5(0xe3e)]()+'_'+_0x4a2a34})),_0xd1a944={'projectId':_0x1111b0[_0x8023d5(0xbb0)],'quizType':_0x1111b0[_0x8023d5(0xd93)],'settings':_0x1111b0[_0x8023d5(0x878)],'createdBy':_0x1111b0[_0x8023d5(0xcc)],'status':_0x8023d5(0x970),'topic':'(ฉบับง่าย)\x20'+_0x1111b0[_0x8023d5(0x380)],'questions':_0x189d63,'createdAt':new Date()[_0x8023d5(0x70e)](),'quizMode':_0x8023d5(0x51e),'pairedQuizId':null};let _0x5a80e1;while(!![]){_0x5a80e1=Math['floor'](0x3e8+Math[_0x8023d5(0x4ab)]()*0x2328)['toString']();const _0x39d630=await getDoc(doc(db,_0x8023d5(0x6e9)+appId+_0x8023d5(0x42c),_0x5a80e1));if(!_0x39d630[_0x8023d5(0x509)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5a80e1),_0xd1a944),showMessage(_0x8023d5(0xb19));}catch(_0x168d5a){console[_0x8023d5(0x339)](_0x8023d5(0x57b),_0x168d5a),showMessage(_0x8023d5(0xcf6)+_0x168d5a[_0x8023d5(0xba5)]);}finally{const _0x578d08=document[_0x8023d5(0xc4d)](_0x8023d5(0xa79));_0x578d08&&_0x578d08[_0x8023d5(0x7d9)](),_0x3e6f92[_0x8023d5(0x6f1)]['remove'](_0x8023d5(0x476));}}async function generatePracticeQuestions(_0xcb973){const _0x1639e4=_0x5be2be,_0x18bd8e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0xcb973+_0x1639e4(0xd94)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0xfd4552={'type':_0x1639e4(0x496),'properties':{'questionText':{'type':_0x1639e4(0x179)},'options':{'type':_0x1639e4(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x1639e4(0x9b3),_0x1639e4(0xa3c),_0x1639e4(0x6cf),_0x1639e4(0x23c)]},_0x3d84b0={'type':_0x1639e4(0x496),'properties':{'topic':{'type':_0x1639e4(0x179)},'questions':{'type':'ARRAY','items':_0xfd4552}},'required':[_0x1639e4(0x380),_0x1639e4(0xb1f)]};return await callAnalysisApi(_0x18bd8e,_0x3d84b0);}function displayLessonPlan(_0x4a48ba,_0x53a2a4){const _0x1dc1fa=_0x5be2be,_0x483593=_0x1dc1fa(0xa89)+_0x53a2a4[_0x1dc1fa(0x380)]+_0x1dc1fa(0x220)+_0x4a48ba[_0x1dc1fa(0x2c3)]['map'](_0x1a4943=>_0x1dc1fa(0x126)+_0x1a4943+_0x1dc1fa(0x3d0))[_0x1dc1fa(0x625)]('')+_0x1dc1fa(0x4c2)+_0x4a48ba['teachingContent']+_0x1dc1fa(0x1db)+_0x4a48ba['practiceProblems'][_0x1dc1fa(0x546)](_0x4d3471=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4d3471[_0x1dc1fa(0xbc5)]+_0x1dc1fa(0x7aa)+_0x4d3471[_0x1dc1fa(0x51d)]+'</p></div>')['join']('')+_0x1dc1fa(0xe2e);document[_0x1dc1fa(0xc4d)](_0x1dc1fa(0xcde))[_0x1dc1fa(0x4c4)]=_0x1dc1fa(0xaa9)+_0x53a2a4[_0x1dc1fa(0x380)],document[_0x1dc1fa(0xc4d)](_0x1dc1fa(0x3c9))[_0x1dc1fa(0x40b)]=_0x483593,document[_0x1dc1fa(0xc4d)]('lesson-plan-modal')[_0x1dc1fa(0x6f1)][_0x1dc1fa(0x7d9)](_0x1dc1fa(0x476));if(window['MathJax'])MathJax[_0x1dc1fa(0xd71)]();}function displaySkillPracticeDrill(_0x697513){const _0x262683=_0x5be2be;let _0x4cc32f=0x0;const _0x18c6ed=_0x697513[_0x262683(0xb1f)],_0x4137f5=()=>{const _0x5b4b6f=_0x262683,_0x3b3ea1=_0x18c6ed[_0x4cc32f],_0x4ba29b=_0x5b4b6f(0x52e)+(_0x4cc32f+0x1)+_0x5b4b6f(0x6e0)+_0x18c6ed['length']+_0x5b4b6f(0x70c)+_0x3b3ea1[_0x5b4b6f(0x9b3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b3ea1[_0x5b4b6f(0xa3c)]['map']((_0x2939ed,_0x33488e)=>_0x5b4b6f(0x278)+_0x33488e+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x33488e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x33488e+'\x22>'+_0x2939ed+_0x5b4b6f(0xe13))[_0x5b4b6f(0x625)]('')+_0x5b4b6f(0x472);studentQuizArea['innerHTML']=_0x4ba29b;if(window[_0x5b4b6f(0x1bb)])MathJax[_0x5b4b6f(0xd71)]([studentQuizArea]);document[_0x5b4b6f(0xc4d)](_0x5b4b6f(0x4df))[_0x5b4b6f(0x5a2)](_0x5b4b6f(0x4f4),async()=>{const _0x20f7a4=await getHintForQuestion(_0x3b3ea1['questionText']);showMessage(_0x20f7a4);}),document['getElementById']('check-answer-btn')[_0x5b4b6f(0x5a2)](_0x5b4b6f(0x4f4),()=>{const _0x312f2b=_0x5b4b6f,_0x2c9112=document[_0x312f2b(0xab2)](_0x312f2b(0x495));if(!_0x2c9112){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x18494c=document[_0x312f2b(0xc4d)](_0x312f2b(0x413)),_0xd5ae07=parseInt(_0x2c9112[_0x312f2b(0x1ce)])===_0x3b3ea1[_0x312f2b(0x6cf)];_0xd5ae07?(_0x18494c[_0x312f2b(0x67d)]=_0x312f2b(0x109),_0x18494c[_0x312f2b(0x40b)]=_0x312f2b(0x5a8)+_0x3b3ea1[_0x312f2b(0x23c)]):(_0x18494c[_0x312f2b(0x67d)]=_0x312f2b(0x641),_0x18494c[_0x312f2b(0x40b)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x3b3ea1[_0x312f2b(0x23c)]);_0x18494c[_0x312f2b(0x6f1)][_0x312f2b(0x7d9)](_0x312f2b(0x476));if(window[_0x312f2b(0x1bb)])MathJax[_0x312f2b(0xd71)]([_0x18494c]);document[_0x312f2b(0xc4d)]('check-answer-btn')['classList'][_0x312f2b(0x648)]('hidden'),document[_0x312f2b(0xc4d)](_0x312f2b(0x4df))['classList'][_0x312f2b(0x648)](_0x312f2b(0x476)),document[_0x312f2b(0xc4d)](_0x312f2b(0x251))[_0x312f2b(0x6f1)][_0x312f2b(0x7d9)](_0x312f2b(0x476));}),document['getElementById'](_0x5b4b6f(0x251))[_0x5b4b6f(0x5a2)](_0x5b4b6f(0x4f4),()=>{const _0x2e8490=_0x5b4b6f;_0x4cc32f++,_0x4cc32f<_0x18c6ed['length']?_0x4137f5():(studentQuizArea[_0x2e8490(0x40b)]=_0x2e8490(0x5fb),document[_0x2e8490(0xc4d)]('back-to-results-btn')[_0x2e8490(0x5a2)](_0x2e8490(0x4f4),()=>{const _0x4ba1a8=_0x2e8490;studentQuizArea[_0x4ba1a8(0x6f1)]['add'](_0x4ba1a8(0x476)),studentResultArea[_0x4ba1a8(0x6f1)][_0x4ba1a8(0x7d9)]('hidden');}));});};_0x4137f5();}async function getHintForQuestion(_0x2d2480){const _0x37f2da=_0x5be2be,_0x4c5e6a=_0x37f2da(0x7cc)+_0x2d2480+_0x37f2da(0x9c4),_0x548508={'type':_0x37f2da(0x496),'properties':{'hint':{'type':_0x37f2da(0x179)}},'required':[_0x37f2da(0x585)]};try{const _0x49aa9b=await callAnalysisApi(_0x4c5e6a,_0x548508);return _0x49aa9b[_0x37f2da(0x585)];}catch(_0x17f261){return console[_0x37f2da(0x339)]('Failed\x20to\x20get\x20hint:',_0x17f261),_0x37f2da(0xb99);}}async function extractTextFromPdf(_0x6a33bf){const _0x53a49c=_0x5be2be;pdfjsLib[_0x53a49c(0x9d9)]['workerSrc']=_0x53a49c(0x14b);const _0x5aa68e=await _0x6a33bf[_0x53a49c(0xde5)](),_0x345fa=await pdfjsLib[_0x53a49c(0xa15)](_0x5aa68e)[_0x53a49c(0xd80)],_0x1a04ce=_0x345fa[_0x53a49c(0xba8)];let _0x46b532='';for(let _0x3b566a=0x1;_0x3b566a<=_0x1a04ce;_0x3b566a++){const _0x177b97=await _0x345fa[_0x53a49c(0x34b)](_0x3b566a),_0x4b6e8b=await _0x177b97[_0x53a49c(0x22f)](),_0xa26010=_0x4b6e8b[_0x53a49c(0x18b)]['map'](_0x4b22c8=>_0x4b22c8[_0x53a49c(0xd29)])[_0x53a49c(0x625)]('\x20');_0x46b532+=_0xa26010+'\x0a\x0a';}return _0x46b532;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x3908f5){const _0x372032=_0x5be2be,_0x27f72b=document[_0x372032(0xc4d)](_0x372032(0x864)),_0x4d4798=document['getElementById']('blueprint-topics-list'),_0x23aef4=document['getElementById'](_0x372032(0x80d));_0x27f72b['classList'][_0x372032(0x7d9)](_0x372032(0x476)),_0x4d4798[_0x372032(0x40b)]=_0x372032(0x12b),_0x23aef4[_0x372032(0x6f1)][_0x372032(0x648)](_0x372032(0x476));try{const _0x56c85b=_0x372032(0xaa7)+_0x3908f5+_0x372032(0x7f6),_0x18fe36={'type':_0x372032(0x496),'properties':{'gradeLevel':{'type':_0x372032(0x179)},'curriculum':{'type':_0x372032(0xbdb),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x372032(0xbdb),'items':{'type':_0x372032(0x496),'properties':{'topicName':{'type':_0x372032(0x179)},'subTopics':{'type':'ARRAY','items':{'type':_0x372032(0x179)}}},'required':['topicName','subTopics']}}},'required':[_0x372032(0xb35),'mainTopics']}}},'required':[_0x372032(0x2e4),_0x372032(0x2b5)]},_0x222f7a=await callAnalysisApi(_0x56c85b,_0x18fe36);if(_0x222f7a&&_0x222f7a[_0x372032(0x2b5)])extractedBlueprintData=_0x222f7a,renderBlueprintTopics(_0x222f7a),_0x23aef4['classList'][_0x372032(0x7d9)](_0x372032(0x476));else throw new Error(_0x372032(0x3ee));}catch(_0x4cd6eb){console[_0x372032(0x339)]('Error\x20analyzing\x20blueprint\x20topics:',_0x4cd6eb),_0x4d4798[_0x372032(0x40b)]=_0x372032(0x892);}}function renderBlueprintTopics(_0x3e1b01){const _0x53e46f=_0x5be2be,_0x33d1cf=document[_0x53e46f(0xc4d)]('blueprint-topics-list'),_0x44f270=_0x3e1b01[_0x53e46f(0x2e4)],_0x48ee4f=_0x53e46f(0x2ef)+_0x44f270+'</h3>';let _0x12ba09='';_0x3e1b01['curriculum'][_0x53e46f(0xd75)](_0x3f2381=>{const _0x3f2822=_0x53e46f;_0x12ba09+=_0x3f2822(0x526)+_0x3f2381['sara']+_0x3f2822(0x361),_0x3f2381[_0x3f2822(0x655)]['forEach'](_0x31cdba=>{const _0xa4544a=_0x3f2822;_0x12ba09+=_0xa4544a(0x742)+_0x31cdba['topicName']+_0xa4544a(0x13a),_0x31cdba[_0xa4544a(0x37b)]['forEach'](_0x5580c6=>{const _0x31c5a8=_0xa4544a;_0x12ba09+=_0x31c5a8(0x422)+_0x5580c6[_0x31c5a8(0x6c0)](/'/g,'\x5c\x27')+_0x31c5a8(0xa6a)+_0x44f270[_0x31c5a8(0x6c0)](/'/g,'\x5c\x27')+_0x31c5a8(0xea)+_0x5580c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x5580c6['replace'](/'/g,'\x5c\x27')+_0x31c5a8(0x69a);}),_0x12ba09+='</div></div>';}),_0x12ba09+=_0x3f2822(0xcf0);}),_0x33d1cf[_0x53e46f(0x40b)]=_0x48ee4f+_0x12ba09;}async function handleGenerateTeachingContent(_0x16ddbc){const _0x5b6ef6=_0x5be2be,_0x3ce5ba=document[_0x5b6ef6(0xc4d)](_0x5b6ef6(0xadb)),_0x453dc7=document[_0x5b6ef6(0xc4d)](_0x5b6ef6(0x3c9));document[_0x5b6ef6(0xc4d)]('lesson-plan-title')[_0x5b6ef6(0x4c4)]='กำลังสร้างเนื้อหา:\x20'+_0x16ddbc,_0x453dc7['innerHTML']=_0x5b6ef6(0x3de),_0x3ce5ba[_0x5b6ef6(0x6f1)][_0x5b6ef6(0x7d9)](_0x5b6ef6(0x476));try{const _0x385dfd=_0x5b6ef6(0xaba)+_0x16ddbc+_0x5b6ef6(0xc21),_0x8a45a4={'type':_0x5b6ef6(0x496),'properties':{'keyConcepts':{'type':_0x5b6ef6(0xbdb),'items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x5b6ef6(0x179)}},'stepByStepExamples':{'type':_0x5b6ef6(0xbdb),'items':{'type':_0x5b6ef6(0x496),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x5b6ef6(0x179)}},'required':['question','solution']}},'teacherTips':{'type':_0x5b6ef6(0xbdb),'items':{'type':'STRING'}}},'required':['keyConcepts',_0x5b6ef6(0x7b0),_0x5b6ef6(0xd37),'teacherTips']},_0x47f36c=await callAnalysisApi(_0x385dfd,_0x8a45a4);displayTeachingContent(_0x47f36c,_0x16ddbc);}catch(_0x55871a){console[_0x5b6ef6(0x339)]('Error\x20generating\x20teaching\x20content:',_0x55871a),_0x453dc7[_0x5b6ef6(0x40b)]=_0x5b6ef6(0xbe7)+_0x55871a[_0x5b6ef6(0xba5)]+_0x5b6ef6(0xe35);}}function displayTeachingContent(_0x32018b,_0x2ea7ef){const _0x280103=_0x5be2be,_0x414513=document[_0x280103(0xc4d)](_0x280103(0x3c9));document[_0x280103(0xc4d)](_0x280103(0xcde))['textContent']=_0x280103(0x403)+_0x2ea7ef;const _0x3eed30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x32018b[_0x280103(0x8cd)][_0x280103(0x546)](_0x139499=>_0x280103(0x126)+_0x139499+'</li>')[_0x280103(0x625)]('')+_0x280103(0xa96)+_0x32018b[_0x280103(0x7b0)][_0x280103(0x546)](_0x513f09=>'<li>'+_0x513f09+_0x280103(0x3d0))[_0x280103(0x625)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x32018b[_0x280103(0xd37)][_0x280103(0x546)](_0xab9217=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xab9217['question']+_0x280103(0x985)+_0xab9217[_0x280103(0x51d)]+_0x280103(0x2b2))['join']('')+_0x280103(0xe15)+_0x32018b['teacherTips'][_0x280103(0x546)](_0x1fe21b=>_0x280103(0x126)+_0x1fe21b+_0x280103(0x3d0))[_0x280103(0x625)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x414513['innerHTML']=_0x3eed30;if(window['MathJax'])MathJax[_0x280103(0xd71)]([_0x414513]);}async function generateQuizForSingleTopic(_0x3449cd){const _0x369819=_0x5be2be;console['log']('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x3449cd+'\x22');const _0x1b0635=document[_0x369819(0xc4d)]('reference-pdf-upload'),_0x4e8545=_0x1b0635[_0x369819(0xd8f)][_0x369819(0x724)]>0x0?_0x1b0635[_0x369819(0xd8f)][0x0]:null;let _0x443891=null;if(_0x4e8545)try{const _0x6a8cb0=new FileReader();_0x6a8cb0[_0x369819(0x63e)](_0x4e8545);const _0x468ac5=await new Promise((_0x427753,_0x4a8f17)=>{const _0x88ddcf=_0x369819;_0x6a8cb0[_0x88ddcf(0x397)]=()=>_0x427753(_0x6a8cb0[_0x88ddcf(0xdd3)]['split'](',')[0x1]),_0x6a8cb0[_0x88ddcf(0x255)]=_0x2b14f0=>_0x4a8f17(_0x2b14f0);});_0x443891=[{'inlineData':{'mimeType':_0x4e8545[_0x369819(0xd50)],'data':_0x468ac5}}];}catch(_0x103f7e){console[_0x369819(0x339)](_0x369819(0x680),_0x103f7e),showMessage(_0x369819(0xaea));return;}generateQuiz(_0x3449cd,null,null,_0x443891,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x452386=null){const _0x136c56=_0x5be2be,_0x4a32d6=document['getElementById'](_0x136c56(0x64d)),_0x443ec2=document['getElementById'](_0x136c56(0xd3a));let _0xe77a85,_0x3b1da2=[];if(_0x452386)_0xe77a85=_0x452386,_0x3b1da2=_0xe77a85[_0x136c56(0x647)](0x2);else{const _0x1eea8a=document[_0x136c56(0xc4d)](_0x136c56(0x18a)),_0x13f39c=document[_0x136c56(0xc4d)](_0x136c56(0x5ac)),_0x397acd=_0x1eea8a[_0x136c56(0xd8f)][0x0];if(!_0x397acd){showMessage(_0x136c56(0xab1));return;}_0x443ec2[_0x136c56(0x4c4)]=_0x136c56(0x501);const _0x5de066=await new Promise((_0x165098,_0x5f5c42)=>{const _0x52ca1d=_0x136c56,_0x1e053b=new FileReader();_0x1e053b['readAsDataURL'](_0x397acd),_0x1e053b[_0x52ca1d(0x397)]=()=>_0x165098(_0x1e053b[_0x52ca1d(0xdd3)]['split'](',')[0x1]),_0x1e053b[_0x52ca1d(0x255)]=_0x5f5c42;});_0xe77a85=[{'text':_0x136c56(0x721)},{'inlineData':{'mimeType':_0x397acd['type'],'data':_0x5de066}}];if(_0x13f39c['files']['length']>0x0){const _0x3026db=_0x13f39c[_0x136c56(0xd8f)][0x0];_0x443ec2[_0x136c56(0x4c4)]=_0x136c56(0x8d6);const _0x4bdc2f=await new Promise((_0x19c94a,_0x5bac54)=>{const _0xeb0b88=_0x136c56,_0x3f90cc=new FileReader();_0x3f90cc[_0xeb0b88(0x63e)](_0x3026db),_0x3f90cc['onload']=()=>_0x19c94a(_0x3f90cc['result']['split'](',')[0x1]),_0x3f90cc[_0xeb0b88(0x255)]=_0x5bac54;}),_0x5f2097={'inlineData':{'mimeType':_0x3026db['type'],'data':_0x4bdc2f}};_0xe77a85[_0x136c56(0x633)](_0x5f2097),_0x3b1da2[_0x136c56(0x633)](_0x5f2097);}}const _0x159d98=_0x136c56(0x871),_0x5da491=_0x136c56(0xc08);let _0xece9b9='';_0x3b1da2&&_0x3b1da2[_0x136c56(0x724)]>0x0?_0xece9b9=_0x159d98:_0xece9b9=_0x5da491;const _0x85932d=_0x136c56(0x135)+_0xece9b9+_0x136c56(0x2c1),_0x512701={'type':_0x136c56(0x496),'properties':{'questionText':{'type':_0x136c56(0x179)},'questionType':{'type':_0x136c56(0x179),'enum':[_0x136c56(0x807),'short_answer',_0x136c56(0xd99),_0x136c56(0xd41)]},'options':{'type':_0x136c56(0xbdb),'items':{'type':_0x136c56(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x136c56(0x179)},'correctAnswer':{'type':_0x136c56(0xb7a)},'explanation':{'type':_0x136c56(0x179)},'imageCode':{'type':_0x136c56(0x179)}},'required':[_0x136c56(0xc7b),_0x136c56(0x23c)]},_0x203f4={'type':_0x136c56(0x496),'properties':{'topic':{'type':_0x136c56(0x179)},'questions':{'type':'ARRAY','items':_0x512701}},'required':[_0x136c56(0x380),_0x136c56(0xb1f)]};_0xe77a85[0x0][_0x136c56(0x8d1)]=_0x85932d,await handleApiCall(_0xe77a85,_0x136c56(0x419),_0x203f4);}function proceedToNextQuestion(_0x36a54e){const _0x2ebaaf=_0x5be2be;studentAnswersPerQuestion['push'](_0x36a54e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2ebaaf(0xb1f)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0xdbc86,_0xf08955,_0x13f0b7){const _0x8d68d6=_0x5be2be,_0x308bea=Object[_0x8d68d6(0x37f)](_0xdbc86[_0x8d68d6(0xda5)]||{}),_0xce14a8=_0x308bea['length'],_0x599b50=_0x13f0b7,_0x301412=_0xdbc86['gameVariant']||_0x8d68d6(0x19b),_0x1c4bb1=_0x301412==='anonymous'||_0x301412===_0x8d68d6(0xe74),_0x2d6319=_0x301412===_0x8d68d6(0x4f0)||_0x301412===_0x8d68d6(0xe74),_0x1afa62=_0xdbc86[_0x8d68d6(0x1ad)]===!![],_0x341aee=_0x301412===_0x8d68d6(0xc02),_0x1e662d=_0xdbc86[_0x8d68d6(0x1c4)]['questions'],_0x5633a7=_0x1e662d[_0x599b50],_0x21b566=_0xded091=>String[_0x8d68d6(0x2e6)](0x41+_0xded091),_0x1d7503=_0x308bea['map'](_0x47e6ae=>{const _0x567fc6=_0x8d68d6,_0x2f6d81=(_0x47e6ae[_0x567fc6(0x90b)]||[])[_0x567fc6(0x6e1)](_0x51c276=>{const _0x482c9e=_0x567fc6;if(_0x2d6319)return _0x51c276[_0x482c9e(0x2b6)]<=_0x599b50;return!![];});let _0x18ec89=0x0,_0x5b66f0=0x0;_0x2d6319?(_0x18ec89=_0x2f6d81[_0x567fc6(0x6e1)](_0x5c69a6=>_0x5c69a6[_0x567fc6(0xd32)])[_0x567fc6(0x724)],_0x5b66f0=_0x2f6d81[_0x567fc6(0xd5b)]((_0x410520,_0x147ef0)=>_0x410520+(_0x147ef0['pointsAwarded']||0x0),0x0)):(_0x18ec89=_0x47e6ae['score']||0x0,_0x5b66f0=_0x47e6ae[_0x567fc6(0x670)]||0x0);const _0xe6c49a=[..._0x2f6d81]['sort']((_0x1e50dd,_0x4302f1)=>_0x1e50dd['questionIndex']-_0x4302f1[_0x567fc6(0x2b6)]);let _0x5c095a=0x0;return _0xe6c49a[_0x567fc6(0xd75)](_0x42404a=>{const _0x5bd63b=_0x567fc6,_0x4f9881=_0x42404a[_0x5bd63b(0x326)]&&_0x42404a[_0x5bd63b(0x326)]!=='wagerMultiplier'||_0x42404a[_0x5bd63b(0xb75)];_0x42404a[_0x5bd63b(0xd32)]?_0x4f9881?_0x5c095a=0x0:_0x5c095a++:_0x5c095a=0x0;}),{..._0x47e6ae,'realScore':_0x18ec89,'totalPoints':_0x5b66f0,'answers':_0x2f6d81,'correctStreak':_0x5c095a};}),_0x24a0b4=Math[_0x8d68d6(0xcf)](..._0x1d7503[_0x8d68d6(0x546)](_0x3afda0=>_0x3afda0[_0x8d68d6(0x670)]),-Infinity),_0x2e8a5b=Math[_0x8d68d6(0xcf)](..._0x1d7503[_0x8d68d6(0x546)](_0x5e55d3=>_0x5e55d3[_0x8d68d6(0xa80)]),-Infinity),_0x46f0f9=_0xdbc86[_0x8d68d6(0x172)]===!![],_0x305bf8=[..._0x1d7503][_0x8d68d6(0x332)]((_0x5214ea,_0x2b3f8e)=>{const _0x4e0ccd=_0x8d68d6;if(_0x46f0f9){const _0x5f47de=_0x2b3f8e[_0x4e0ccd(0x670)]-_0x5214ea[_0x4e0ccd(0x670)];if(_0x5f47de!==0x0)return _0x5f47de;const _0x2240ec=_0x2b3f8e['realScore']-_0x5214ea['realScore'];if(_0x2240ec!==0x0)return _0x2240ec;return(_0x5214ea[_0x4e0ccd(0x1b0)]||'')[_0x4e0ccd(0xc7f)](_0x2b3f8e[_0x4e0ccd(0x1b0)]||'','th');}else{const _0x156f1d=_0x2b3f8e[_0x4e0ccd(0x670)]-_0x5214ea[_0x4e0ccd(0x670)];if(_0x156f1d!==0x0)return _0x156f1d;const _0x10b590=_0x2b3f8e[_0x4e0ccd(0xa80)]-_0x5214ea['realScore'];if(_0x10b590!==0x0)return _0x10b590;return(_0x5214ea[_0x4e0ccd(0x1b0)]||'')[_0x4e0ccd(0xc7f)](_0x2b3f8e['name']||'','th');}});let _0x33b14e='';const _0x17a6f3=!_0x341aee&&!(_0x1c4bb1&&_0xdbc86[_0x8d68d6(0x834)]===![]);if(_0x5633a7&&_0x17a6f3){let _0x21b9ba='',_0x478148='';const _0xf48ea4=_0x5633a7[_0x8d68d6(0xc7b)]||_0xdbc86['shuffledQuiz'][_0x8d68d6(0xd93)];if(_0xf48ea4===_0x8d68d6(0x807)&&_0x5633a7[_0x8d68d6(0xa3c)]){const _0x41118b=_0x5633a7['correctAnswerIndex'];_0x21b9ba=_0x5633a7['options'][_0x41118b],_0x478148=_0x21b566(_0x41118b)+'.';}else{if(_0xf48ea4===_0x8d68d6(0xd99)){const _0x28baed=String(_0x5633a7[_0x8d68d6(0x66a)])['toLowerCase']()===_0x8d68d6(0xe16);_0x21b9ba=_0x28baed?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด',_0x478148=_0x28baed?'ก.':'ข.';}else{if(_0xf48ea4===_0x8d68d6(0xd41))_0x21b9ba=_0x5633a7['correctResponse']||'-';else(_0xf48ea4===_0x8d68d6(0x738)||_0xf48ea4===_0x8d68d6(0xa13))&&(_0x21b9ba=_0x5633a7[_0x8d68d6(0x1d8)]||'-');}}_0x21b9ba&&(_0x33b14e=_0x8d68d6(0x591)+(_0x599b50+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x478148+'\x20'+_0x21b9ba+_0x8d68d6(0x131));}const _0x247d7f=_0x305bf8['map']((_0x5a38b4,_0x111ba6)=>{const _0x298aa8=_0x8d68d6,_0x18dee0=_0x5a38b4['realScore'],_0x505cea=_0x5a38b4[_0x298aa8(0x670)],_0x588eec=(_0x5a38b4[_0x298aa8(0x90b)]||[])[_0x298aa8(0x35d)](_0x47a287=>_0x47a287[_0x298aa8(0x2b6)]===_0x13f0b7),_0x25507b=_0x5a38b4[_0x298aa8(0x90b)][_0x298aa8(0x724)];let _0x55bcdf='';if(_0x588eec){if(_0x588eec[_0x298aa8(0x1fe)])_0x55bcdf+=_0x298aa8(0xe3d);if(_0x588eec[_0x298aa8(0x5c1)])_0x55bcdf+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x588eec['usedBuyTime'])_0x55bcdf+=_0x298aa8(0xd2a);const _0xc4c64c=_0x588eec['powerupUsed'];if(_0xc4c64c){const _0x3d1139={'poll':'📊','cutOne':'✂️','insurance':_0x298aa8(0x277),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x298aa8(0xdc4)};if(_0x3d1139[_0xc4c64c])_0x55bcdf+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x3d1139[_0xc4c64c]+'</span>';}}let _0x44106d='';const _0x55dddb=_0x5a38b4[_0x298aa8(0xdc2)]||0x0,_0x41a68f=_0x588eec&&_0x588eec[_0x298aa8(0xb75)],_0x10188c=_0x588eec&&_0x588eec[_0x298aa8(0x326)]&&_0x588eec[_0x298aa8(0x326)]!==_0x298aa8(0x9b7);!_0x341aee&&_0x55dddb>=0x3&&!_0x41a68f&&!_0x10188c&&(_0x44106d+=_0x298aa8(0xcaa)+_0x55dddb+'</span>');if(!_0x341aee&&_0x25507b>0x0){if(_0x46f0f9){if(_0x505cea===_0x24a0b4&&_0x24a0b4>0x0)_0x44106d+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x18dee0===_0x2e8a5b&&_0x2e8a5b>0x0)_0x44106d+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>';}else{const _0x10e9b5=_0x5a38b4[_0x298aa8(0xa80)]===_0x13f0b7+0x1;if(_0x10e9b5)_0x44106d+=_0x298aa8(0xace);}if(_0x44106d===''&&_0x505cea<0x0)_0x44106d+=_0x298aa8(0x385);}let _0x14935a=_0x298aa8(0x482),_0x488b86=![],_0x4d3576=![];if(!_0x341aee){const _0xd7be99=(_0x5a38b4[_0x298aa8(0x90b)]||[])['find'](_0x4d6a05=>_0x4d6a05[_0x298aa8(0x2b6)]===_0x599b50);if(_0xd7be99){const _0x4a3fa1=_0xd7be99[_0x298aa8(0xd32)],_0x5adea3=_0xd7be99[_0x298aa8(0x6a2)]===!![]||_0xd7be99['wasConfident']===_0x298aa8(0x355),_0x3cdfe6=_0xd7be99[_0x298aa8(0x326)];if(_0x3cdfe6==='wagerMultiplier')_0x4a3fa1?(_0x14935a=_0x298aa8(0xddb),_0x488b86=!![]):(_0x14935a=_0x298aa8(0xe77),_0x4d3576=!![]);else{if(_0x5adea3)_0x14935a=_0x4a3fa1?_0x298aa8(0x258):_0x298aa8(0x357);else _0x4a3fa1&&(_0x14935a='bg-[#DCFCE7]\x20text-green-900');}}}let _0xbcdcab='';const _0x436510=_0x5a38b4['name'],_0x3e39fd=_0xdbc86['playerNicknames'][_0x5a38b4[_0x298aa8(0x1b0)]]||'???',_0x1e455a=_0x298aa8(0x104),_0x30abaa='word-break:\x20break-all;',_0x1b2469=_0x488b86?_0x298aa8(0x74f):_0x298aa8(0xb6b);let _0x14cd06='';const _0xbc4897=_0x505cea>=0x0?'(+'+_0x505cea[_0x298aa8(0x3f0)]()+')':'('+_0x505cea[_0x298aa8(0x3f0)]()+')',_0x6ec98b='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x18dee0+_0x298aa8(0xab0)+_0xbc4897+_0x298aa8(0xdf9);if(_0xf08955){if(_0x1c4bb1&&!_0x1afa62)_0x4d3576?_0xbcdcab=_0x298aa8(0x406)+_0x1e455a+_0x298aa8(0x5e4)+_0x436510+'\x20('+_0x3e39fd+_0x298aa8(0x2fc)+_0x30abaa+'\x22>'+_0x436510+_0x298aa8(0x90f)+_0x55bcdf+'\x20'+_0x44106d+'<span\x20class=\x22block\x20text-sm\x20'+_0x1b2469+_0x298aa8(0x8a4)+_0x30abaa+_0x298aa8(0xb22)+_0x3e39fd+_0x298aa8(0x8ad):_0xbcdcab='<div\x20style=\x22'+_0x1e455a+'\x22\x20title=\x22'+_0x3e39fd+_0x298aa8(0x4e6)+_0x30abaa+'\x22>'+_0x3e39fd+'</span>\x20'+_0x55bcdf+'\x20'+_0x44106d+_0x298aa8(0xcf0),_0x14cd06=_0x6ec98b;else{if(_0x1c4bb1&&_0x1afa62)_0xbcdcab='<div\x20style=\x22'+_0x1e455a+'\x22\x20title=\x22'+_0x436510+_0x298aa8(0x4e6)+_0x30abaa+'\x22>'+_0x436510+_0x298aa8(0x90f)+_0x55bcdf+'\x20'+_0x44106d+'<span\x20class=\x22block\x20text-sm\x20'+_0x1b2469+_0x298aa8(0x8a4)+_0x30abaa+_0x298aa8(0xb22)+_0x3e39fd+_0x298aa8(0x8ad),_0x14cd06=_0x6ec98b;else _0x341aee?(_0xbcdcab='<div\x20style=\x22'+_0x1e455a+_0x298aa8(0x5e4)+_0x436510+_0x298aa8(0x4e6)+_0x30abaa+'\x22>'+_0x436510+_0x298aa8(0x90f)+_0x55bcdf+'\x20'+_0x44106d+'</div>',_0x14cd06=''):(_0xbcdcab=_0x298aa8(0x406)+_0x1e455a+_0x298aa8(0x5e4)+_0x436510+_0x298aa8(0x4e6)+_0x30abaa+'\x22>'+_0x436510+_0x298aa8(0x90f)+_0x55bcdf+'\x20'+_0x44106d+_0x298aa8(0xcf0),_0x14cd06=_0x6ec98b);}}return _0x298aa8(0xa5b)+_0x14935a+_0x298aa8(0xc7e)+(_0x111ba6+0x1)+_0x298aa8(0x8c6)+_0xbcdcab+_0x298aa8(0xf0)+_0x14cd06+_0x298aa8(0x29e);})[_0x8d68d6(0x625)](''),_0x3bd5e4=_0x1e662d[_0x8d68d6(0x546)]((_0x1dfa2c,_0x389297)=>{const _0x22dd83=_0x8d68d6;if(_0x2d6319&&_0x389297>_0x599b50||_0x341aee)return'';const _0x5828e4=_0x1d7503['filter'](_0x209074=>_0x209074['answers']&&_0x209074[_0x22dd83(0x90b)][_0x22dd83(0x35d)](_0x212d39=>_0x212d39[_0x22dd83(0x2b6)]===_0x389297&&_0x212d39[_0x22dd83(0xd32)]))[_0x22dd83(0x724)],_0x226e8e=_0x389297===_0x599b50,_0x40a7e0=_0x226e8e?_0x22dd83(0xe5):_0x22dd83(0x7d8);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x40a7e0+_0x22dd83(0x414)+(_0x389297+0x1)+_0x22dd83(0x3db)+_0x5828e4+'\x20/\x20'+_0xce14a8+_0x22dd83(0x1ee);})['join']('');let _0xe38837='',_0x221a38='';if(_0xf08955){const _0x4e08d0=_0x301412===_0x8d68d6(0x19b)&&_0xdbc86[_0x8d68d6(0xe7c)]>=_0x1e662d[_0x8d68d6(0x724)]-0x1,_0x1e1c68=_0x2d6319&&_0xdbc86[_0x8d68d6(0x5b4)]>=_0x1e662d[_0x8d68d6(0x724)]-0x1,_0x13ed1f=_0x301412===_0x8d68d6(0xc02)&&_0xdbc86[_0x8d68d6(0xe7c)]>=_0x1e662d[_0x8d68d6(0x724)]-0x1,_0x54ebe8=_0x1c4bb1&&!_0x2d6319&&_0xdbc86[_0x8d68d6(0xe7c)]>=_0x1e662d[_0x8d68d6(0x724)]-0x1;if(_0x2d6319)_0x1e1c68?_0x1c4bb1&&!_0x1afa62?_0xe38837='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0xe38837='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0xe38837='<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';else _0x4e08d0||_0x13ed1f||_0x54ebe8?_0x1c4bb1&&!_0x1afa62?_0xe38837=_0x8d68d6(0x73a):_0xe38837='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0xe38837=_0x8d68d6(0xa2f);_0x221a38=_0x8d68d6(0xaa4);}const _0x178c86=_0x341aee||_0x1c4bb1&&!_0xdbc86[_0x8d68d6(0x834)]?'':_0x8d68d6(0x679)+_0x3bd5e4+_0x8d68d6(0x847),_0x44d3b9=_0x341aee||_0x1c4bb1&&!_0xdbc86[_0x8d68d6(0x834)]?_0x8d68d6(0x762):_0x8d68d6(0x743),_0x38a138=_0x8d68d6(0xaf2)+_0xdbc86[_0x8d68d6(0x1c4)][_0x8d68d6(0x380)]+_0x8d68d6(0x71a)+_0xdbc86[_0x8d68d6(0x6fa)]+_0x8d68d6(0xbee)+_0x221a38+_0x8d68d6(0x848)+_0x33b14e+_0x8d68d6(0xb4e)+_0x44d3b9+_0x8d68d6(0xa76)+(_0x247d7f||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x8d68d6(0xd05)+_0x178c86+_0x8d68d6(0x430)+(_0xf08955?_0x8d68d6(0x97b)+_0xe38837+_0x8d68d6(0xcf0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x8d68d6(0x40b)]=_0x38a138;if(window[_0x8d68d6(0x1bb)]){const _0x133cfa=document[_0x8d68d6(0xc4d)](_0x8d68d6(0x665));_0x133cfa&&MathJax[_0x8d68d6(0xd71)]([_0x133cfa]);}if(_0xf08955){const _0x13e060=document['getElementById'](_0x8d68d6(0xbf8));_0x13e060&&(_0x13e060['onclick']=async()=>{const _0x4988cb=_0x8d68d6,_0x21e231=doc(db,_0x4988cb(0x6e9)+appId+_0x4988cb(0xe80),currentLiveGameId),_0x3a2a53=_0xdbc86[_0x4988cb(0xe7c)]+0x1,_0x18a0cc=_0xdbc86[_0x4988cb(0x1c4)][_0x4988cb(0xb1f)][_0x4988cb(0x724)];!_0x2d6319&&_0x3a2a53<_0x18a0cc?await updateDoc(_0x21e231,{'status':_0x4988cb(0xbc5),'currentQuestionIndex':_0x3a2a53,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x21e231,{'status':'podium'});});const _0x4da246=document[_0x8d68d6(0xc4d)]('next-review-question-btn');_0x4da246&&(_0x4da246[_0x8d68d6(0x8f5)]=async()=>{const _0x128cc1=_0x8d68d6,_0x1f74ae=doc(db,_0x128cc1(0x6e9)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1f74ae,{'reviewQuestionIndex':increment(0x1)});});document['getElementById'](_0x8d68d6(0x38e))?.['addEventListener']('click',async()=>{const _0x5c0195=_0x8d68d6;await updateDoc(doc(db,_0x5c0195(0x6e9)+appId+_0x5c0195(0xe80),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x134c2f=document[_0x8d68d6(0xc4d)](_0x8d68d6(0xb5a));_0x134c2f&&(_0x134c2f[_0x8d68d6(0x8f5)]=()=>{const _0x5777f7=_0x8d68d6;showConfirmation(_0x5777f7(0xadd),async()=>{const _0x481469=_0x5777f7;await updateDoc(doc(db,_0x481469(0x6e9)+appId+_0x481469(0xe80),currentLiveGameId),{'status':_0x481469(0x434)});});});}}async function handleGenerateParallelFromBank(_0x94ac0e){const _0x2e2638=_0x5be2be,_0x235887=document[_0x2e2638(0xc4d)](_0x2e2638(0x237)),_0x4960de=document[_0x2e2638(0xc4d)](_0x2e2638(0x852));_0x4960de[_0x2e2638(0x6f1)][_0x2e2638(0x648)](_0x2e2638(0x476));const _0x5d75fd=_0x2e2638(0x932)+_0x94ac0e[_0x2e2638(0x380)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x235887[_0x2e2638(0x4dc)](_0x2e2638(0xd66),_0x5d75fd);const _0x45bb82=document[_0x2e2638(0xc4d)](_0x2e2638(0x654));try{const _0x39523c=_0x94ac0e[_0x2e2638(0xb1f)][_0x2e2638(0x546)]((_0x3eb32b,_0x383abf)=>{const _0xeb0343=_0x2e2638;let _0x1c0f35=_0x383abf+0x1+'.\x20'+(_0x3eb32b['questionText']||_0x3eb32b[_0xeb0343(0xb4a)])+'\x0a';if(_0x3eb32b['options'])_0x1c0f35+=_0x3eb32b[_0xeb0343(0xa3c)][_0xeb0343(0x546)]((_0x1511bf,_0x4cc555)=>_0xeb0343(0x781)+(_0x4cc555===_0x3eb32b['correctAnswerIndex']?'[*]':'')+'\x20'+_0x1511bf)['join']('\x0a');else _0x3eb32b['idealAnswer']&&(_0x1c0f35+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x3eb32b[_0xeb0343(0x1d8)]);return _0x1c0f35;})['join']('\x0a\x0a');_0x45bb82[_0x2e2638(0x4c4)]=_0x2e2638(0xfe);const _0x183901=_0x2e2638(0xa06)+_0x94ac0e[_0x2e2638(0x380)]+_0x2e2638(0xc09)+_0x39523c+_0x2e2638(0xe0d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xca2ddd={'type':_0x2e2638(0x496),'properties':{'questionText':{'type':_0x2e2638(0x179)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x2e2638(0x738),_0x2e2638(0xd99),_0x2e2638(0xd41)]},'options':{'type':_0x2e2638(0xbdb),'items':{'type':_0x2e2638(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2e2638(0x179)},'correctAnswer':{'type':_0x2e2638(0xb7a)},'stem':{'type':_0x2e2638(0x179)},'correctResponse':{'type':_0x2e2638(0x179)},'allResponses':{'type':_0x2e2638(0xbdb),'items':{'type':_0x2e2638(0x179)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2e2638(0x179)}},'required':[_0x2e2638(0xc7b),_0x2e2638(0x23c)]},_0x15d7c5={'type':_0x2e2638(0x496),'properties':{'topic':{'type':_0x2e2638(0x179)},'questions':{'type':_0x2e2638(0xbdb),'items':_0xca2ddd}},'required':[_0x2e2638(0x380),_0x2e2638(0xb1f)]},_0xc09d96=await callAnalysisApi(_0x183901,_0x15d7c5),_0x3cb36c=_0xc09d96[_0x2e2638(0xb1f)]['map']((_0x362ac4,_0x410786)=>({..._0x362ac4,'id':'q_'+Date['now']()+'_'+_0x410786})),_0x198ecd=_0x2e2638(0x6cb)+_0x94ac0e['topic'],_0x181f91={'topic':_0x198ecd,'questions':_0x3cb36c,'quizType':_0x94ac0e['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x94ac0e[_0x2e2638(0x878)],'quizMode':_0x2e2638(0x51e),'pairedQuizId':null,'lessonPlan':null};let _0x467503;while(!![]){_0x467503=Math[_0x2e2638(0x211)](0x3e8+Math[_0x2e2638(0x4ab)]()*0x2328)[_0x2e2638(0x386)]();const _0x3bb065=await getDoc(doc(db,_0x2e2638(0x6e9)+appId+'/public/data/quizzes',_0x467503));if(!_0x3bb065[_0x2e2638(0x509)]())break;}await setDoc(doc(db,_0x2e2638(0x6e9)+appId+'/public/data/quizzes',_0x467503),_0x181f91),showMessage(_0x2e2638(0x22e));}catch(_0x3d17ca){console[_0x2e2638(0x339)](_0x2e2638(0x29c),_0x3d17ca),showMessage(_0x2e2638(0xcf6)+_0x3d17ca[_0x2e2638(0xba5)]);}finally{const _0xa1b85a=document[_0x2e2638(0xc4d)](_0x2e2638(0xa79));_0xa1b85a&&_0xa1b85a[_0x2e2638(0x7d9)](),_0x4960de['classList'][_0x2e2638(0x7d9)](_0x2e2638(0x476));}}async function handleGenerateParallelPostTest(_0x41d5e6){const _0x3ba1c8=_0x5be2be,_0x1cfeb0=document[_0x3ba1c8(0xc4d)](_0x3ba1c8(0x237)),_0xdd0c7c=document[_0x3ba1c8(0xc4d)]('project-quizzes-list');_0xdd0c7c[_0x3ba1c8(0x6f1)][_0x3ba1c8(0x648)](_0x3ba1c8(0x476));const _0x4c64e2=_0x3ba1c8(0xa90);_0x1cfeb0[_0x3ba1c8(0x4dc)](_0x3ba1c8(0xd66),_0x4c64e2);try{const _0x285a99=_0x41d5e6[_0x3ba1c8(0xb1f)][_0x3ba1c8(0x546)]((_0x2070aa,_0x12d57b)=>{const _0xf3549e=_0x3ba1c8;let _0x1e8fda=_0x12d57b+0x1+'.\x20'+(_0x2070aa[_0xf3549e(0x9b3)]||_0x2070aa[_0xf3549e(0xb4a)]);if(_0x2070aa[_0xf3549e(0xa3c)])_0x1e8fda+=_0xf3549e(0xdb3)+_0x2070aa['options']['join'](',\x20');return _0x1e8fda;})['join']('\x0a\x0a'),_0x3f1454=_0x3ba1c8(0x7de)+_0x41d5e6['topic']+_0x3ba1c8(0xba3)+_0x285a99+_0x3ba1c8(0xa08)+simpleMathPrompt+_0x3ba1c8(0x6f8),_0x166da4={'type':_0x3ba1c8(0x496),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3ba1c8(0xbdb),'items':{'type':_0x3ba1c8(0x496),'properties':{'questionText':{'type':_0x3ba1c8(0x179)},'questionType':{'type':_0x3ba1c8(0x179)},'options':{'type':'ARRAY','items':{'type':_0x3ba1c8(0x179)}},'correctAnswerIndex':{'type':_0x3ba1c8(0x44a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x3ba1c8(0x9b3),'explanation']}}},'required':[_0x3ba1c8(0x380),_0x3ba1c8(0xb1f)]},_0x453b1f=await callAnalysisApi(_0x3f1454,_0x166da4),_0x46a92e=_0x41d5e6[_0x3ba1c8(0x380)][_0x3ba1c8(0x6c0)](_0x3ba1c8(0xc3b),'')[_0x3ba1c8(0x2ce)](),_0x3c2ede=_0x3ba1c8(0x6ae)+_0x46a92e,_0x31636a={..._0x453b1f,'topic':_0x3c2ede,'quizType':_0x41d5e6['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x41d5e6[_0x3ba1c8(0x878)],'quizMode':_0x3ba1c8(0x311),'pairedQuizId':_0x41d5e6['id']};let _0x322b72;while(!![]){_0x322b72=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x3ba1c8(0x386)]();const _0x301ee6=await getDoc(doc(db,_0x3ba1c8(0x6e9)+appId+_0x3ba1c8(0x42c),_0x322b72));if(!_0x301ee6[_0x3ba1c8(0x509)]())break;}await setDoc(doc(db,_0x3ba1c8(0x6e9)+appId+_0x3ba1c8(0x42c),_0x322b72),_0x31636a);const _0x20843d=doc(db,'artifacts/'+appId+_0x3ba1c8(0x42c),_0x41d5e6['id']);await updateDoc(_0x20843d,{'pairedQuizId':_0x322b72}),showMessage(_0x3ba1c8(0xb91));}catch(_0xea2a6a){console[_0x3ba1c8(0x339)](_0x3ba1c8(0xe00),_0xea2a6a),showMessage('เกิดข้อผิดพลาด:\x20'+_0xea2a6a[_0x3ba1c8(0xba5)]);}finally{const _0xa4c83b=document[_0x3ba1c8(0xc4d)](_0x3ba1c8(0xa79));if(_0xa4c83b)_0xa4c83b[_0x3ba1c8(0x7d9)]();_0xdd0c7c[_0x3ba1c8(0x6f1)]['remove'](_0x3ba1c8(0x476));}}async function handleGenerateParallelTest(_0x4e9e96=null){const _0xb07896=_0x5be2be;let _0x538fd0=_0x4e9e96;if(!_0x538fd0){const _0x3dee13=document[_0xb07896(0xc4d)]('parallel-test-upload-input');_0x3dee13[_0xb07896(0xd8f)][_0xb07896(0x724)]>0x0&&(_0x538fd0=_0x3dee13[_0xb07896(0xd8f)][0x0]);}if(!_0x538fd0){showMessage(_0xb07896(0x804));return;}const _0x2552d5=document[_0xb07896(0xc4d)](_0xb07896(0x64d)),_0x46377c=document[_0xb07896(0xc4d)](_0xb07896(0xd3a)),_0x2a4ed2=document[_0xb07896(0xc4d)](_0xb07896(0x3eb)),_0xa30f6=document[_0xb07896(0xc4d)](_0xb07896(0x16a));_0xa30f6['disabled']=!![],document[_0xb07896(0xc4d)](_0xb07896(0x1f9))[_0xb07896(0x6f1)][_0xb07896(0x7d9)](_0xb07896(0x476)),_0x2a4ed2[_0xb07896(0x40b)]='',_0x2552d5[_0xb07896(0x6f1)][_0xb07896(0x7d9)]('hidden'),_0x46377c[_0xb07896(0x4c4)]=_0xb07896(0xbb9);const _0x25d01b=new FileReader();_0x25d01b[_0xb07896(0x63e)](_0x538fd0),_0x25d01b[_0xb07896(0x397)]=async()=>{const _0x28ac0d=_0xb07896;try{const _0x41ee8b=_0x25d01b[_0x28ac0d(0xdd3)]['split'](',')[0x1],_0x53aff5=_0x538fd0['type'];_0x46377c[_0x28ac0d(0x4c4)]=_0x28ac0d(0x7c2);const _0xaf47b2=document[_0x28ac0d(0xc4d)](_0x28ac0d(0x894))[_0x28ac0d(0x315)],_0x3f56ee=_0xaf47b2?_0x28ac0d(0x353):'',_0x11d562=_0x28ac0d(0x78e),_0x78025e={'type':_0x28ac0d(0x496),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x28ac0d(0x179),'enum':['multiple_choice',_0x28ac0d(0x738)]},'options':{'type':_0x28ac0d(0xbdb),'items':{'type':_0x28ac0d(0x179)}},'correctAnswerIndex':{'type':_0x28ac0d(0x44a)},'idealAnswer':{'type':_0x28ac0d(0x179)},'explanation':{'type':_0x28ac0d(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x28ac0d(0x9b3),_0x28ac0d(0xc7b),_0x28ac0d(0x23c)]},_0x1166e2={'type':'OBJECT','properties':{'topic':{'type':_0x28ac0d(0x179)},'questions':{'type':_0x28ac0d(0xbdb),'items':_0x78025e}},'required':[_0x28ac0d(0x380),_0x28ac0d(0xb1f)]},_0x288078=[{'text':_0x11d562},{'inlineData':{'mimeType':_0x53aff5,'data':_0x41ee8b}}];await handleApiCall(_0x288078,_0x28ac0d(0x5c8),_0x1166e2);}catch(_0x735e5e){console[_0x28ac0d(0x339)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x735e5e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x735e5e['message']),_0x2a4ed2[_0x28ac0d(0x40b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2552d5[_0x28ac0d(0x6f1)][_0x28ac0d(0x648)](_0x28ac0d(0x476)),_0xa30f6[_0x28ac0d(0xbb3)]=![];}},_0x25d01b['onerror']=_0x12478d=>{const _0x352f0b=_0xb07896;console['error'](_0x352f0b(0x59f),_0x12478d),showMessage(_0x352f0b(0x9f5)),_0x2552d5[_0x352f0b(0x6f1)]['add'](_0x352f0b(0x476)),_0xa30f6[_0x352f0b(0xbb3)]=![];};}async function handleRegenerateQuestionInEditor(_0x472f3c){const _0x109a5f=_0x5be2be;if(currentEditingQuizData===null)return;const _0x254d46=document[_0x109a5f(0xab2)](_0x109a5f(0xc57)+_0x472f3c+'\x22]');_0x254d46&&(_0x254d46[_0x109a5f(0x40b)]=_0x109a5f(0x3d5));const _0x346efd=currentEditingQuizData[_0x109a5f(0xb1f)][_0x472f3c],_0x301338=currentEditingQuizData[_0x109a5f(0x380)],_0x28300e=_0x346efd[_0x109a5f(0xc7b)],_0x30d3b5={'type':_0x109a5f(0x496),'properties':{'questionText':{'type':_0x109a5f(0x179)},'options':{'type':_0x109a5f(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x109a5f(0x44a)},'explanation':{'type':_0x109a5f(0x179)}},'required':[_0x109a5f(0x9b3),_0x109a5f(0xa3c),'correctAnswerIndex',_0x109a5f(0x23c)]},_0x545b2a={'type':_0x109a5f(0x496),'properties':{'questionText':{'type':_0x109a5f(0x179)},'idealAnswer':{'type':_0x109a5f(0x179)},'explanation':{'type':_0x109a5f(0x179)}},'required':[_0x109a5f(0x9b3),'idealAnswer',_0x109a5f(0x23c)]};let _0x473ee2,_0x4f0302='';_0x28300e==='multiple_choice'?(_0x473ee2=_0x30d3b5,_0x4f0302='แบบปรนัย\x204\x20ตัวเลือก'):(_0x473ee2=_0x545b2a,_0x4f0302=_0x109a5f(0xc60));const _0x27ba97=_0x109a5f(0x294)+_0x301338+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x4f0302+_0x109a5f(0xc8)+(_0x346efd[_0x109a5f(0x9b3)]||_0x346efd[_0x109a5f(0xb4a)])+_0x109a5f(0xd6e)+simpleMathPrompt;try{const _0x4311d9=await callAnalysisApi(_0x27ba97,_0x473ee2);currentEditingQuizData[_0x109a5f(0xb1f)][_0x472f3c]={..._0x346efd,..._0x4311d9},renderQuizEditor(currentEditingQuizData);}catch(_0x15b9f2){console[_0x109a5f(0x339)](_0x109a5f(0x54c),_0x15b9f2),showMessage(_0x109a5f(0x372)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1d3a34=_0x5be2be,_0x2cbf7b=document[_0x1d3a34(0xc4d)](_0x1d3a34(0xc67));currentMode===_0x1d3a34(0x7e7)?(adminPasswordModal['classList'][_0x1d3a34(0x7d9)]('hidden'),document[_0x1d3a34(0xc4d)](_0x1d3a34(0xd6b))['focus']()):(currentMode=_0x1d3a34(0x7e7),_0x2cbf7b[_0x1d3a34(0x40b)]=_0x1d3a34(0x846),_0x2cbf7b[_0x1d3a34(0x869)]=_0x1d3a34(0x703),showView(_0x1d3a34(0x7e7)));}function handleAdminLogin(){const _0x543b88=_0x5be2be,_0x4de50b=document['getElementById'](_0x543b88(0xd6b)),_0x2bc800=document['getElementById']('password-error-msg');if(_0x4de50b[_0x543b88(0x1ce)]===_0x543b88(0x513)){adminPasswordModal[_0x543b88(0x6f1)][_0x543b88(0x648)](_0x543b88(0x476)),_0x4de50b[_0x543b88(0x1ce)]='',_0x2bc800[_0x543b88(0x6f1)]['add'](_0x543b88(0x476)),currentMode=_0x543b88(0x84c);const _0x3cccc6=document[_0x543b88(0xc4d)](_0x543b88(0xc67));_0x3cccc6[_0x543b88(0x40b)]=_0x543b88(0xc7d),_0x3cccc6['title']=_0x543b88(0x10a),showView(_0x543b88(0xb0c));}else _0x2bc800[_0x543b88(0x6f1)][_0x543b88(0x7d9)](_0x543b88(0x476)),_0x4de50b[_0x543b88(0x1ce)]='';}function switchProjectTab(_0x3da993){const _0x12f3fb=_0x5be2be;[_0x12f3fb(0x4e2),_0x12f3fb(0x338),_0x12f3fb(0xa45)]['forEach'](_0x233721=>{const _0x144be9=_0x12f3fb;document[_0x144be9(0xc4d)](_0x233721+'-tab')['classList']['remove'](_0x144be9(0x970)),document[_0x144be9(0xc4d)](_0x233721+_0x144be9(0x8a9))[_0x144be9(0x6f1)][_0x144be9(0x648)](_0x144be9(0x476));}),document['getElementById'](_0x3da993+_0x12f3fb(0x67a))[_0x12f3fb(0x6f1)]['add'](_0x12f3fb(0x970)),document[_0x12f3fb(0xc4d)](_0x3da993+_0x12f3fb(0x8a9))['classList'][_0x12f3fb(0x7d9)]('hidden');}function switchQuizDetailTab(_0x25914f){const _0x61069e=_0x5be2be,_0x32e091={'analytics':{'btn':'analytics-tab-btn','content':_0x61069e(0x291)},'scores':{'btn':_0x61069e(0x327),'content':_0x61069e(0x844)},'leaderboard-quiz':{'btn':_0x61069e(0x531),'content':_0x61069e(0x2d2)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x61069e(0x8e6)}};for(const _0x503f06 in _0x32e091){document[_0x61069e(0xc4d)](_0x32e091[_0x503f06]['btn'])[_0x61069e(0x6f1)][_0x61069e(0x7d9)](_0x61069e(0x970)),document['getElementById'](_0x32e091[_0x503f06][_0x61069e(0xb76)])[_0x61069e(0x6f1)][_0x61069e(0x648)](_0x61069e(0x476));}document[_0x61069e(0xc4d)](_0x32e091[_0x25914f]['btn'])['classList']['add']('active'),document[_0x61069e(0xc4d)](_0x32e091[_0x25914f][_0x61069e(0xb76)])[_0x61069e(0x6f1)][_0x61069e(0x7d9)](_0x61069e(0x476));}function showMessage(_0x2dbb2c,_0x214eb3=null){const _0x56caa2=_0x5be2be;modalMessage[_0x56caa2(0x40b)]=_0x2dbb2c[_0x56caa2(0x6c0)](/\n/g,_0x56caa2(0x8c5)),modalConfirmAction=_0x214eb3,messageModal['classList'][_0x56caa2(0x7d9)]('hidden');}function showConfirmation(_0x4d1d91,_0x5eab75,_0x1be4a6=null){const _0x3d6f75=_0x5be2be;document[_0x3d6f75(0xc4d)]('confirmation-message')[_0x3d6f75(0x4c4)]=_0x4d1d91,document[_0x3d6f75(0xc4d)]('confirmation-modal')[_0x3d6f75(0xab2)]('h3')[_0x3d6f75(0x4c4)]=_0x3d6f75(0x2bc),confirmAction=_0x5eab75,cancelAction=_0x1be4a6,confirmationModal['classList'][_0x3d6f75(0x7d9)]('hidden');}function listenForProjects(){const _0x250f84=_0x5be2be,_0x4d7ab4=doc(db,_0x250f84(0x789),'dashboardConfig');onSnapshot(_0x4d7ab4,_0x47b003=>{const _0xfe2e7e=_0x250f84;if(_0x47b003[_0xfe2e7e(0x509)]()){const _0x4b2b60=_0x47b003['data']();globalDashboardSettings[_0xfe2e7e(0xbd1)]=_0x4b2b60[_0xfe2e7e(0xbd1)]||'date_desc',globalDashboardSettings[_0xfe2e7e(0x20a)]=_0x4b2b60['pinnedProjects']||[],globalDashboardSettings[_0xfe2e7e(0xdca)]=_0x4b2b60['projectOrder']||[];}allProjects[_0xfe2e7e(0x724)]>0x0&&renderProjects();});const _0x1211fc=collection(db,_0x250f84(0x6e9)+appId+_0x250f84(0x9b0));unsubscribeProjectsListener=onSnapshot(_0x1211fc,_0x21ab33=>{const _0x3112cf=_0x250f84;allProjects=_0x21ab33[_0x3112cf(0x2b9)][_0x3112cf(0x546)](_0x279489=>({'id':_0x279489['id'],..._0x279489['data']()})),renderProjects();},_0x2e383d=>{const _0x4c794a=_0x250f84;console['error'](_0x4c794a(0x222),_0x2e383d),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x561a99,_0x39ee4b){const _0x2e721d=_0x5be2be;document[_0x2e721d(0x760)]('.color-palette-popup')['forEach'](_0x566f8d=>_0x566f8d[_0x2e721d(0x7d9)]());const _0xc76927=[_0x2e721d(0xac6),_0x2e721d(0x9a3),'#FEF3C7',_0x2e721d(0x6e2),'#DBEAFE',_0x2e721d(0xba2),'#F3E8FF',_0x2e721d(0x9df),_0x2e721d(0x599)],_0x5b51a6=document['createElement'](_0x2e721d(0xe52));_0x5b51a6[_0x2e721d(0x67d)]=_0x2e721d(0xc71),_0xc76927[_0x2e721d(0xd75)](_0x1582f3=>{const _0x13257f=_0x2e721d,_0x3bcf33=document[_0x13257f(0x52f)]('div');_0x3bcf33['className']=_0x13257f(0x4d4),_0x3bcf33[_0x13257f(0x201)][_0x13257f(0x589)]=_0x1582f3,_0x3bcf33[_0x13257f(0x5a2)](_0x13257f(0x4f4),()=>{const _0x351150=_0x13257f;handleProjectColorChange(_0x39ee4b,_0x1582f3),_0x5b51a6[_0x351150(0x7d9)]();}),_0x5b51a6[_0x13257f(0xe03)](_0x3bcf33);}),document['body'][_0x2e721d(0xe03)](_0x5b51a6);const _0x2d5847=_0x561a99[_0x2e721d(0x61c)]();_0x5b51a6[_0x2e721d(0x201)]['top']=_0x2d5847['bottom']+window['scrollY']+'px',_0x5b51a6[_0x2e721d(0x201)][_0x2e721d(0x3a6)]=_0x2d5847[_0x2e721d(0x3a6)]+window[_0x2e721d(0x307)]-_0x5b51a6[_0x2e721d(0x1b2)]/0x2+'px';}async function handleProjectColorChange(_0x1c4e67,_0xd88e60){const _0x375d34=_0x5be2be,_0x457d21=doc(db,'artifacts/'+appId+_0x375d34(0x9b0),_0x1c4e67);try{await updateDoc(_0x457d21,{'color':_0xd88e60});}catch(_0x592fc1){console['error'](_0x375d34(0x832),_0x592fc1),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x12ef18=_0x5be2be,_0x4b6d3e=globalDashboardSettings[_0x12ef18(0xbd1)]||_0x12ef18(0xbfa),_0xd2bf3e=new Set(globalDashboardSettings[_0x12ef18(0x20a)]||[]),_0x2d0363=globalDashboardSettings[_0x12ef18(0x52a)]||_0x12ef18(0x63d),_0x13c065=document[_0x12ef18(0xc4d)]('grid-view-btn'),_0x2785e2=document['getElementById'](_0x12ef18(0xa1f));_0x13c065['classList']['toggle'](_0x12ef18(0x970),_0x2d0363===_0x12ef18(0x63d)),_0x2785e2[_0x12ef18(0x6f1)]['toggle']('active',_0x2d0363==='list'),document[_0x12ef18(0xc4d)]('project-sort-select')[_0x12ef18(0x1ce)]=_0x4b6d3e;const _0x50b674=document['getElementById']('project-search-input')[_0x12ef18(0x1ce)][_0x12ef18(0x6f7)]();let _0xeed10e=allProjects[_0x12ef18(0x6e1)](_0xb8598a=>_0xb8598a[_0x12ef18(0xb8b)]['toLowerCase']()['includes'](_0x50b674));const _0x1b9fa6=_0xeed10e[_0x12ef18(0x6e1)](_0xce9699=>_0xd2bf3e[_0x12ef18(0x103)](_0xce9699['id'])),_0x27d12a=_0xeed10e[_0x12ef18(0x6e1)](_0x40b254=>!_0xd2bf3e['has'](_0x40b254['id'])),_0x33aa1a=(_0x4aec4a,_0x53c24e)=>{const _0x2b8ca2=_0x12ef18;switch(_0x4b6d3e){case'name_asc':return _0x4aec4a[_0x2b8ca2(0xb8b)]['localeCompare'](_0x53c24e[_0x2b8ca2(0xb8b)],'th');case _0x2b8ca2(0x50a):return _0x53c24e['projectName'][_0x2b8ca2(0xc7f)](_0x4aec4a['projectName'],'th');case _0x2b8ca2(0x873):return new Date(_0x4aec4a[_0x2b8ca2(0xcd0)])-new Date(_0x53c24e[_0x2b8ca2(0xcd0)]);default:return new Date(_0x53c24e[_0x2b8ca2(0xcd0)])-new Date(_0x4aec4a[_0x2b8ca2(0xcd0)]);}};_0x1b9fa6[_0x12ef18(0x332)](_0x33aa1a),_0x27d12a[_0x12ef18(0x332)](_0x33aa1a);const _0x389ae7=[..._0x1b9fa6,..._0x27d12a],_0x4ff581=globalDashboardSettings['projectOrder']||[];_0x4ff581[_0x12ef18(0x724)]>0x0&&_0x2d0363==='grid'&&_0x389ae7[_0x12ef18(0x332)]((_0x5e1577,_0x1001f8)=>{const _0x442858=_0x12ef18,_0x1a01ed=_0x4ff581[_0x442858(0xe5b)](_0x5e1577['id']),_0x23b242=_0x4ff581[_0x442858(0xe5b)](_0x1001f8['id']);if(_0x1a01ed===-0x1)return 0x1;if(_0x23b242===-0x1)return-0x1;return _0x1a01ed-_0x23b242;});const _0x32387a={};await Promise['all'](_0x389ae7['map'](async _0x44c509=>{const _0x44b985=_0x12ef18,_0xaffb0c=query(collection(db,_0x44b985(0x6e9)+appId+_0x44b985(0x42c)),where('projectId','==',_0x44c509['id'])),_0x2462f7=await getDocs(_0xaffb0c);_0x32387a[_0x44c509['id']]=_0x2462f7[_0x44b985(0xa01)];}));const _0x45db8a=document[_0x12ef18(0xc4d)](_0x12ef18(0x42e));let _0x444e2f='';if(_0x2d0363===_0x12ef18(0x63d)){_0x45db8a['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x12ef18(0x724)]>0x0&&_0x50b674===''){const _0x2b9cdc=starredQuizzes[_0x12ef18(0x546)](_0x321253=>{const _0x18ce27=_0x12ef18,_0x2e959c=allProjects[_0x18ce27(0x35d)](_0x50d1bc=>_0x50d1bc['id']===_0x321253[_0x18ce27(0xbb0)]);return{..._0x321253,'projectName':_0x2e959c?_0x2e959c['projectName']:'N/A'};});_0x444e2f+=_0x12ef18(0xc84)+_0x2b9cdc['map'](_0x55ae11=>_0x12ef18(0xa6c)+_0x55ae11['topic']+'\x22>'+_0x55ae11[_0x12ef18(0x380)]+_0x12ef18(0x6bc)+_0x55ae11[_0x12ef18(0xb8b)]+'\x22>จาก:\x20'+_0x55ae11[_0x12ef18(0xb8b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x12ef18(0x625)]('')+_0x12ef18(0x595)+starredQuizzes['length']+_0x12ef18(0x15f);}_0x389ae7[_0x12ef18(0xd75)](_0x571aa4=>{const _0x464811=_0x12ef18,_0x415e35=_0x32387a[_0x571aa4['id']]??0x0,_0x354092=_0xd2bf3e[_0x464811(0x103)](_0x571aa4['id']),_0x4f2441=_0x571aa4[_0x464811(0xb40)]||'#FFFFFF',_0x482f72=parseInt(_0x4f2441[_0x464811(0xaaa)](0x1,0x3),0x10)*0.299+parseInt(_0x4f2441[_0x464811(0xaaa)](0x3,0x5),0x10)*0.587+parseInt(_0x4f2441[_0x464811(0xaaa)](0x5,0x7),0x10)*0.114<0xba,_0x4f5402=_0x482f72?'text-white':_0x464811(0x9eb),_0x302fa8=_0x482f72?'text-gray-200':'text-gray-500';_0x444e2f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x354092?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x464811(0x505))+_0x464811(0x9f9)+_0x4f2441+_0x464811(0x96e)+_0x571aa4['id']+_0x464811(0x40d)+_0x571aa4['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x482f72?_0x464811(0x165):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x571aa4['id']+_0x464811(0x756)+(_0x482f72?_0x464811(0x165):'text-gray-400\x20hover:text-indigo-600')+_0x464811(0xc1d)+(_0x354092?_0x482f72?_0x464811(0x2cb):_0x464811(0x6b7):'')+_0x464811(0x102)+_0x571aa4['id']+_0x464811(0x4be)+_0x4f5402+'\x20pointer-events-none\x22>'+_0x571aa4[_0x464811(0xb8b)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x302fa8+_0x464811(0xddd)+new Date(_0x571aa4['createdAt'])[_0x464811(0x674)]('th-TH')+_0x464811(0x395)+(_0x482f72?_0x464811(0x578):'text-gray-700')+_0x464811(0xb3b)+_0x415e35+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x571aa4['id']+_0x464811(0x207)+_0x571aa4[_0x464811(0xb8b)]+_0x464811(0x828)+(_0x482f72?_0x464811(0xc9a):'text-red-500\x20hover:text-red-700')+_0x464811(0xbad);});}else _0x45db8a['className']=_0x12ef18(0x8fe),starredQuizzes[_0x12ef18(0x724)]>0x0&&_0x50b674===''&&(_0x444e2f+=_0x12ef18(0x916)+starredQuizzes[_0x12ef18(0x724)]+_0x12ef18(0x1d1)),_0x444e2f+=_0x12ef18(0x62d),_0x389ae7[_0x12ef18(0xd75)](_0x1cb59e=>{const _0x19ede5=_0x12ef18,_0x229f55=_0x32387a[_0x1cb59e['id']]??0x0,_0x24bcb8=_0xd2bf3e[_0x19ede5(0x103)](_0x1cb59e['id']);_0x444e2f+=_0x19ede5(0x446)+(_0x1cb59e[_0x19ede5(0xb40)]||_0x19ede5(0x599))+_0x19ede5(0x933)+_0x1cb59e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1cb59e[_0x19ede5(0xb8b)]+_0x19ede5(0x906)+_0x229f55+_0x19ede5(0xb9d)+new Date(_0x1cb59e[_0x19ede5(0xcd0)])[_0x19ede5(0x3f0)](_0x19ede5(0xcfb))+_0x19ede5(0x71c)+_0x1cb59e['id']+_0x19ede5(0xce8)+(_0x24bcb8?'text-indigo-600':'')+_0x19ede5(0xcb6)+_0x1cb59e['id']+_0x19ede5(0x207)+_0x1cb59e[_0x19ede5(0xb8b)]+_0x19ede5(0x75a);});projectList[_0x12ef18(0x40b)]=_0x444e2f,noProjectsMsg[_0x12ef18(0x6f1)]['toggle']('hidden',_0x444e2f[_0x12ef18(0x724)]>0x0);}document['getElementById'](_0x5be2be(0x3f8))[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),async()=>{const _0x468d76=_0x5be2be,_0x4a5970=document['getElementById'](_0x468d76(0x167)),_0x2e6416=_0x4a5970[_0x468d76(0x1ce)]['trim']();if(!_0x2e6416){showMessage(_0x468d76(0x702));return;}try{const _0x9caa8e=doc(collection(db,_0x468d76(0x6e9)+appId+'/public/data/projects'));await setDoc(_0x9caa8e,{'projectName':_0x2e6416,'students':[],'settings':{'resultsDisplay':_0x468d76(0x5bf),'shuffleSetting':_0x468d76(0x611),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x4a5970[_0x468d76(0x1ce)]='',createProjectModal[_0x468d76(0x6f1)]['add']('hidden'),showMessage(_0x468d76(0x119));}catch(_0x5b206d){console[_0x468d76(0x339)]('Error\x20creating\x20project:',_0x5b206d),showMessage(_0x468d76(0x13b));}}),projectList[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),async _0x59dd78=>{const _0x1087b8=_0x5be2be,_0x34e07f=_0x59dd78[_0x1087b8(0xa35)]['closest'](_0x1087b8(0xd27)),_0x175063=_0x59dd78[_0x1087b8(0xa35)][_0x1087b8(0xac5)](_0x1087b8(0x11e)),_0x280170=_0x59dd78['target'][_0x1087b8(0xac5)](_0x1087b8(0x330)),_0x437c27=_0x59dd78['target'][_0x1087b8(0xac5)]('.color-palette-btn');if(_0x280170){const _0x12d82d=_0x280170[_0x1087b8(0xa2c)]['id'],_0x3a3e20=doc(db,_0x1087b8(0x789),_0x1087b8(0xb28)),_0x51d17d=globalDashboardSettings[_0x1087b8(0x20a)];let _0x31db4a;_0x51d17d[_0x1087b8(0xe4a)](_0x12d82d)?_0x31db4a=_0x51d17d[_0x1087b8(0x6e1)](_0x19e2c0=>_0x19e2c0!==_0x12d82d):_0x31db4a=[..._0x51d17d,_0x12d82d];try{await setDoc(_0x3a3e20,{'pinnedProjects':_0x31db4a},{'merge':!![]});}catch(_0x378469){console[_0x1087b8(0x339)](_0x1087b8(0x198),_0x378469),showMessage(_0x1087b8(0x185));}}else{if(_0x437c27){const _0x59a308=_0x437c27[_0x1087b8(0xa2c)]['id'];showColorPalette(_0x437c27,_0x59a308);}else{if(_0x34e07f){const _0x3e2227=_0x34e07f[_0x1087b8(0xa2c)]['id'];_0x3e2227===_0x1087b8(0xe2d)?showStarredProjectView():(currentProjectId=_0x3e2227,await loadProjectDetails(currentProjectId),showView(_0x1087b8(0x5e1)));}else{if(_0x175063){const _0x21a7e8=_0x175063['dataset']['id'],_0x3e0641=_0x175063['dataset']['name'];showConfirmation(_0x1087b8(0x381)+_0x3e0641+_0x1087b8(0x93d),()=>handleDeleteProject(_0x21a7e8));}}}}}),projectList[_0x5be2be(0x5a2)]('dragstart',_0x465ff0=>{const _0x4cd361=_0x5be2be,_0x19a7fb=_0x465ff0['target'][_0x4cd361(0xac5)](_0x4cd361(0x965));_0x19a7fb&&_0x19a7fb[_0x4cd361(0x6f1)][_0x4cd361(0x648)]('opacity-50');}),projectList[_0x5be2be(0x5a2)]('dragend',_0x35770e=>{const _0xc2c9cf=_0x5be2be,_0x5d5039=_0x35770e[_0xc2c9cf(0xa35)]['closest'](_0xc2c9cf(0x965));_0x5d5039&&_0x5d5039[_0xc2c9cf(0x6f1)][_0xc2c9cf(0x7d9)]('opacity-50');}),projectList[_0x5be2be(0x5a2)](_0x5be2be(0x7be),_0x559e52=>{const _0x2f1635=_0x5be2be;_0x559e52[_0x2f1635(0xaa3)]();const _0x413b03=document[_0x2f1635(0xab2)]('.project-card-container.opacity-50');if(!_0x413b03)return;const _0x701c63=getDragAfterElement(projectList,_0x559e52['clientY']);_0x701c63==null?projectList['appendChild'](_0x413b03):projectList[_0x2f1635(0x5d2)](_0x413b03,_0x701c63);}),projectList[_0x5be2be(0x5a2)](_0x5be2be(0x17c),_0x1d9f6e=>{const _0x25767a=_0x5be2be;_0x1d9f6e[_0x25767a(0xaa3)]();const _0x27a028=[...projectList[_0x25767a(0x760)]('.project-card-container[data-id]')]['map'](_0x2fa2b8=>_0x2fa2b8[_0x25767a(0xa2c)]['id']);saveProjectOrder(_0x27a028);});function renderBehaviorLog(_0x251a01){const _0x2c5f3b=_0x5be2be,_0x2b4216=document[_0x2c5f3b(0xc4d)](_0x2c5f3b(0xe1f));if(!_0x2b4216)return;const _0x5320d5=_0x251a01[_0x2c5f3b(0x6e1)](_0x374515=>_0x374515[_0x2c5f3b(0xc1a)]&&_0x374515[_0x2c5f3b(0xc1a)]['length']>0x0);if(_0x5320d5[_0x2c5f3b(0x724)]===0x0){_0x2b4216[_0x2c5f3b(0x40b)]=_0x2c5f3b(0xbdd);return;}let _0x379a62='';_0x5320d5[_0x2c5f3b(0xd75)](_0xfc0c84=>{const _0x30f35b=_0x2c5f3b;_0x379a62+=_0x30f35b(0x567)+_0xfc0c84[_0x30f35b(0x550)]+_0x30f35b(0xfb),_0xfc0c84[_0x30f35b(0xc1a)][_0x30f35b(0x332)]((_0x2437fa,_0x25adf8)=>new Date(_0x25adf8[_0x30f35b(0x603)])-new Date(_0x2437fa[_0x30f35b(0x603)]))['forEach'](_0x2576e8=>{const _0x208612=_0x30f35b,_0x329a01=new Date(_0x2576e8['timestamp'])[_0x208612(0x3f0)](_0x208612(0xcfb),{'dateStyle':_0x208612(0x6f9),'timeStyle':_0x208612(0x824)});_0x379a62+=_0x208612(0x352)+_0x2576e8[_0x208612(0xdc1)]+_0x208612(0x44b)+_0x329a01+_0x208612(0x13f);}),_0x379a62+=_0x30f35b(0x20c);}),_0x2b4216[_0x2c5f3b(0x40b)]=_0x379a62;}function getDragAfterElement(_0x5d8463,_0x4e9a62){const _0xac86c9=_0x5be2be,_0x5dbed4=[..._0x5d8463[_0xac86c9(0x760)]('.project-card-container:not(.opacity-50)')];return _0x5dbed4['reduce']((_0x4198ed,_0x1297e1)=>{const _0xc865b6=_0xac86c9,_0x1b896f=_0x1297e1[_0xc865b6(0x61c)](),_0xcc72b9=_0x4e9a62-_0x1b896f[_0xc865b6(0x3e2)]-_0x1b896f['height']/0x2;return _0xcc72b9<0x0&&_0xcc72b9>_0x4198ed[_0xc865b6(0x31d)]?{'offset':_0xcc72b9,'element':_0x1297e1}:_0x4198ed;},{'offset':Number[_0xac86c9(0x45c)]})['element'];}async function saveProjectOrder(_0x212b78){const _0x546d99=_0x5be2be,_0x4fe018=doc(db,_0x546d99(0x789),_0x546d99(0xb28));try{await setDoc(_0x4fe018,{'projectOrder':_0x212b78},{'merge':!![]});}catch(_0x5912cc){console[_0x546d99(0x339)](_0x546d99(0xb05),_0x5912cc),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x348076,_0x350f05={}){const _0x563a2e=_0x5be2be;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x563a2e(0x26e));return;}const _0x2bae93=doc(db,'artifacts/'+appId+_0x563a2e(0x363)+currentQuizData['id']+_0x563a2e(0x3e4),currentStudentName),_0x2b98ce={'event':_0x348076,'timestamp':new Date()['toISOString'](),..._0x350f05};try{await updateDoc(_0x2bae93,{'behaviorLog':arrayUnion(_0x2b98ce)}),console[_0x563a2e(0xbe2)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x563a2e(0x752));}catch(_0x41ad7f){_0x41ad7f[_0x563a2e(0x2b0)]===_0x563a2e(0x759)?console[_0x563a2e(0x2be)](_0x563a2e(0x7dc)+currentStudentName+_0x563a2e(0xa4f)):console[_0x563a2e(0x339)](_0x563a2e(0xcf8),_0x41ad7f);}}function getScoreTier(_0x45ba9d,_0xc7d8f5){const _0x449581=_0x5be2be;if(_0xc7d8f5===0x0){if(_0x45ba9d===0x0)return{'text':_0x449581(0x734),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0xf86875=_0x45ba9d/(_0xc7d8f5===0x0?0x1:_0xc7d8f5);if(_0xf86875===0x1)return{'text':_0x449581(0x764),'icon':'👑'};if(_0xf86875>=0.7)return{'text':_0x449581(0x93b),'icon':'🔥'};if(_0xf86875>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x449581(0xbb5),'icon':'😥'};}function calculateMeanAndStdDev(_0x3962d7){const _0x22dad9=_0x5be2be;if(_0x3962d7['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x215930=_0x3962d7['reduce']((_0x2c37d6,_0x1ee45f)=>_0x2c37d6+_0x1ee45f,0x0)/_0x3962d7[_0x22dad9(0x724)];if(_0x3962d7['length']===0x1)return{'mean':_0x215930,'stdDev':0x0};const _0x2d4c0c=Math[_0x22dad9(0xb3a)](_0x3962d7[_0x22dad9(0x546)](_0x1f9a81=>Math[_0x22dad9(0x34f)](_0x1f9a81-_0x215930,0x2))[_0x22dad9(0xd5b)]((_0x56cc46,_0x5dfed5)=>_0x56cc46+_0x5dfed5,0x0)/(_0x3962d7['length']-0x1));return{'mean':_0x215930,'stdDev':_0x2d4c0c};}function calculateZScore(_0x270088,_0x6dde22,_0x201269){if(_0x201269===0x0)return 0x0;return(_0x270088-_0x6dde22)/_0x201269;}function calculateTScore(_0x25445d){return 0xa*_0x25445d+0x32;}function showStarredProjectView(){const _0x2ce139=_0x5be2be;currentProjectId='starred',currentProjectData=null,projectTitle[_0x2ce139(0x4c4)]=_0x2ce139(0x262),projectIdDisplay[_0x2ce139(0x4c4)]=_0x2ce139(0x5bb),showView(_0x2ce139(0x5e1)),manageTab[_0x2ce139(0x6f1)]['add'](_0x2ce139(0x476)),leaderboardTab['classList'][_0x2ce139(0x648)](_0x2ce139(0x476)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x53c054){const _0x26e29d=_0x5be2be,_0x5727d4=doc(db,_0x26e29d(0x6e9)+appId+_0x26e29d(0x9b0),_0x53c054),_0x113b4c=await getDoc(_0x5727d4);if(_0x113b4c['exists']()){manageTab[_0x26e29d(0x6f1)]['remove'](_0x26e29d(0x476)),leaderboardTab[_0x26e29d(0x6f1)][_0x26e29d(0x7d9)](_0x26e29d(0x476)),currentProjectData=_0x113b4c[_0x26e29d(0x1de)](),projectTitle['textContent']=currentProjectData[_0x26e29d(0xb8b)],projectIdDisplay[_0x26e29d(0x4c4)]=_0x53c054;const _0x2723b9=currentProjectData[_0x26e29d(0x878)]||{};document[_0x26e29d(0xc4d)]('shuffle-setting-select')[_0x26e29d(0x1ce)]=_0x2723b9['shuffleSetting']||_0x26e29d(0x611);const _0x123850=document[_0x26e29d(0xc4d)](_0x26e29d(0x693));_0x123850[_0x26e29d(0x315)]=_0x2723b9['showInStudentDashboard']!==![];const _0x375fc0=document['getElementById'](_0x26e29d(0x568)),_0xddf047=document[_0x26e29d(0xc4d)](_0x26e29d(0xbed)),_0x242b8b=document[_0x26e29d(0xc4d)](_0x26e29d(0x4e9)),_0x2e5962=_0x2723b9[_0x26e29d(0x27f)]||![];_0x375fc0['checked']=_0x2e5962,_0x242b8b[_0x26e29d(0x1ce)]=_0x2723b9[_0x26e29d(0xae4)]||'',_0xddf047[_0x26e29d(0x6f1)][_0x26e29d(0x545)](_0x26e29d(0x476),!_0x2e5962),_0x375fc0[_0x26e29d(0x218)]=()=>{const _0x397a4f=_0x26e29d;_0xddf047[_0x397a4f(0x6f1)][_0x397a4f(0x545)]('hidden',!_0x375fc0[_0x397a4f(0x315)]);},document[_0x26e29d(0xc4d)](_0x26e29d(0x7e0))['checked']=_0x2723b9[_0x26e29d(0x1af)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x53c054),listenForProjectQuizzes(_0x53c054),listenForStudentProfiles(_0x53c054);}else showMessage(_0x26e29d(0xd9f)),showView(_0x26e29d(0xb0c));}async function handleResetProjectOrder(){const _0x37b32f=_0x5be2be,_0x49092b=doc(db,_0x37b32f(0x789),_0x37b32f(0xb28));try{await setDoc(_0x49092b,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x48607f){console[_0x37b32f(0x339)](_0x37b32f(0x95f),_0x48607f),showMessage(_0x37b32f(0xe42));}}async function handleTogglePinProject(_0x196a6e){const _0x1a8d13=_0x5be2be;if(!_0x196a6e)return;const _0x546eb2=doc(db,'artifacts/'+appId+_0x1a8d13(0x9b0),_0x196a6e);try{const _0x509a36=await getDoc(_0x546eb2);if(_0x509a36['exists']()){const _0x39c7a4=_0x509a36[_0x1a8d13(0x1de)]()['isPinned']||![];await updateDoc(_0x546eb2,{'isPinned':!_0x39c7a4});}}catch(_0x57d6dd){console[_0x1a8d13(0x339)](_0x1a8d13(0xa5c),_0x57d6dd),showMessage(_0x1a8d13(0x185));}}async function handleDeleteProject(_0x3a8525){const _0x30e0dc=_0x5be2be;try{const _0x2af8ce=writeBatch(db),_0xfbd43f=collection(db,_0x30e0dc(0x6e9)+appId+'/public/data/quizzes'),_0x4bc89e=query(_0xfbd43f,where(_0x30e0dc(0xbb0),'==',_0x3a8525)),_0x201058=await getDocs(_0x4bc89e);for(const _0x221243 of _0x201058[_0x30e0dc(0x2b9)]){const _0x218886=collection(db,_0x30e0dc(0x6e9)+appId+'/public/data/quizzes/'+_0x221243['id']+_0x30e0dc(0x3e4)),_0x25a26e=await getDocs(_0x218886);_0x25a26e[_0x30e0dc(0xd75)](_0x32d89b=>{const _0x2fb1ca=_0x30e0dc;_0x2af8ce[_0x2fb1ca(0x298)](_0x32d89b['ref']);}),_0x2af8ce[_0x30e0dc(0x298)](_0x221243[_0x30e0dc(0xa3b)]);}const _0x342e8f=collection(db,_0x30e0dc(0x6e9)+appId+'/public/data/projects/'+_0x3a8525+_0x30e0dc(0x588)),_0x5c23e3=await getDocs(_0x342e8f);_0x5c23e3['forEach'](_0x345d2b=>{const _0x1f6682=_0x30e0dc;_0x2af8ce[_0x1f6682(0x298)](_0x345d2b[_0x1f6682(0xa3b)]);});const _0x42b1b6=doc(db,_0x30e0dc(0x6e9)+appId+_0x30e0dc(0x9b0),_0x3a8525);_0x2af8ce[_0x30e0dc(0x298)](_0x42b1b6),await _0x2af8ce[_0x30e0dc(0x297)](),showMessage(_0x30e0dc(0x576)),showView(_0x30e0dc(0xb0c));}catch(_0x1840f3){console['error'](_0x30e0dc(0x1ab),_0x1840f3),showMessage(_0x30e0dc(0x241));}}document[_0x5be2be(0xc4d)]('save-settings-btn')[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),async()=>{const _0x11da0c=_0x5be2be;if(!currentProjectId)return;const _0x1d30f7={'defaultNumQuestions':parseInt(document[_0x11da0c(0xc4d)](_0x11da0c(0x6e6))[_0x11da0c(0x1ce)]),'defaultNumChoices':parseInt(document['getElementById'](_0x11da0c(0x946))[_0x11da0c(0x1ce)]),'defaultPassingScore':parseInt(document[_0x11da0c(0xc4d)]('passing-score-input')['value']),'resultsDisplay':document['getElementById']('results-display-select')[_0x11da0c(0x1ce)],'shuffleSetting':document[_0x11da0c(0xc4d)](_0x11da0c(0xc8d))['value'],'timerMode':document[_0x11da0c(0xc4d)](_0x11da0c(0x216))[_0x11da0c(0x1ce)],'timerDuration':parseInt(document[_0x11da0c(0xc4d)](_0x11da0c(0x5db))[_0x11da0c(0x1ce)]),'isConfidenceScoringEnabled':document['getElementById'](_0x11da0c(0x7e0))['checked'],'confidenceMode':document[_0x11da0c(0xc4d)](_0x11da0c(0x263))[_0x11da0c(0x1ce)]};try{const _0x434e6e=doc(db,_0x11da0c(0x6e9)+appId+_0x11da0c(0x9b0),currentProjectId);await updateDoc(_0x434e6e,{'settings':_0x1d30f7}),showMessage(_0x11da0c(0xbfd));}catch(_0x41b692){console[_0x11da0c(0x339)]('Error\x20saving\x20settings:',_0x41b692),showMessage(_0x11da0c(0x2b1));}});function listenForStudents(_0x535ebf){const _0x447455=_0x5be2be,_0x2d54d2=doc(db,'artifacts/'+appId+_0x447455(0x9b0),_0x535ebf);unsubscribeStudentsListener=onSnapshot(_0x2d54d2,_0x35d153=>{const _0x37c955=_0x447455;if(_0x35d153['exists']()){const _0x1c77a7=_0x35d153[_0x37c955(0x1de)]();currentProjectData=_0x1c77a7,renderStudentList(_0x1c77a7[_0x37c955(0x94c)]||[]);}});}function renderStudentList(_0x171b89){const _0x4245c4=_0x5be2be,_0x4d6b71=document[_0x4245c4(0xc4d)](_0x4245c4(0x561));_0x171b89[_0x4245c4(0x724)]===0x0?(studentList[_0x4245c4(0x40b)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x4d6b71[_0x4245c4(0x6f1)][_0x4245c4(0x648)](_0x4245c4(0x476))):(studentList['innerHTML']=_0x171b89['map'](_0x413052=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x413052+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x413052+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x4d6b71[_0x4245c4(0x6f1)][_0x4245c4(0x7d9)](_0x4245c4(0x476)));}document[_0x5be2be(0xc4d)](_0x5be2be(0x9e5))[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),async()=>{const _0xb7344f=_0x5be2be;if(!currentProjectId)return;const _0x2d0cdf=document[_0xb7344f(0xc4d)](_0xb7344f(0x1ca)),_0x25611b=_0x2d0cdf[_0xb7344f(0x1ce)][_0xb7344f(0x2ce)]();if(!_0x25611b){showMessage(_0xb7344f(0x20d));return;}const _0x160921=_0x25611b[_0xb7344f(0xcb0)]('\x0a')[_0xb7344f(0x546)](_0x17a7c5=>_0x17a7c5[_0xb7344f(0x2ce)]())[_0xb7344f(0x6e1)](_0x187bf2=>_0x187bf2);if(_0x160921[_0xb7344f(0x724)]===0x0)return;try{const _0x5f07a6=doc(db,_0xb7344f(0x6e9)+appId+'/public/data/projects',currentProjectId),_0x581a39=await getDoc(_0x5f07a6);if(_0x581a39['exists']()){const _0x4cca00=_0x581a39[_0xb7344f(0x1de)]()['students']||[],_0x5a818b=[...new Set([..._0x4cca00,..._0x160921])];await updateDoc(_0x5f07a6,{'students':_0x5a818b}),_0x2d0cdf['value']='';}}catch(_0x23d910){console['error']('Error\x20adding\x20students:',_0x23d910),showMessage(_0xb7344f(0xcc3));}});async function handleManualQuizPairing(_0x599c2f){const _0x45b897=_0x5be2be,_0x3d507c=document[_0x45b897(0xc4d)]('move-quiz-modal'),_0x122cc9=document[_0x45b897(0xc4d)](_0x45b897(0xba7)),_0x3e59e2=_0x3d507c[_0x45b897(0xab2)]('h3'),_0x5c328a=document[_0x45b897(0xc4d)](_0x45b897(0x572)),_0x251f32=document[_0x45b897(0xc4d)](_0x45b897(0x615));_0x3e59e2[_0x45b897(0x4c4)]=_0x45b897(0x6f4),_0x122cc9[_0x45b897(0x40b)]=_0x45b897(0x786),_0x5c328a[_0x45b897(0x4c4)]=_0x45b897(0xb8d),_0x3d507c['classList']['remove']('hidden');const _0x46a39f=allQuizzes[_0x45b897(0x6e1)](_0x4e3aed=>_0x4e3aed['id']!==_0x599c2f);_0x46a39f[_0x45b897(0x724)]===0x0?(_0x122cc9['innerHTML']=_0x45b897(0x443),_0x5c328a['disabled']=!![]):(_0x122cc9[_0x45b897(0x40b)]=_0x45b897(0xc96)+_0x46a39f['map'](_0x3fbe70=>_0x45b897(0x813)+_0x3fbe70['id']+'\x22>'+_0x3fbe70[_0x45b897(0x380)]+_0x45b897(0xa37))[_0x45b897(0x625)](''),_0x5c328a[_0x45b897(0xbb3)]=![]);const _0x3aa7f1=async()=>{const _0x463d7c=_0x45b897,_0x2fa6fd=_0x122cc9[_0x463d7c(0x1ce)];if(!_0x2fa6fd){showMessage(_0x463d7c(0xcc7));return;}_0x5c328a[_0x463d7c(0xbb3)]=!![],_0x5c328a[_0x463d7c(0x4c4)]='กำลังจับคู่...';try{const _0x5409e9=doc(db,_0x463d7c(0x6e9)+appId+_0x463d7c(0x42c),_0x599c2f),_0x5a266f=doc(db,_0x463d7c(0x6e9)+appId+'/public/data/quizzes',_0x2fa6fd),_0x96696e=writeBatch(db);_0x96696e[_0x463d7c(0x9f3)](_0x5409e9,{'pairedQuizId':_0x2fa6fd}),_0x96696e[_0x463d7c(0x9f3)](_0x5a266f,{'pairedQuizId':_0x599c2f}),await _0x96696e[_0x463d7c(0x297)](),showMessage(_0x463d7c(0x1e3)),_0x3d507c[_0x463d7c(0x6f1)][_0x463d7c(0x648)](_0x463d7c(0x476));}catch(_0x1eef4a){console[_0x463d7c(0x339)](_0x463d7c(0x261),_0x1eef4a),showMessage(_0x463d7c(0x1a4));}finally{_0x3e59e2[_0x463d7c(0x4c4)]=_0x463d7c(0xb6e),_0x5c328a[_0x463d7c(0x4c4)]=_0x463d7c(0x559),_0x5c328a[_0x463d7c(0xbb3)]=![],_0x5c328a[_0x463d7c(0xdfc)](_0x463d7c(0x4f4),_0x3aa7f1),_0x251f32[_0x463d7c(0xdfc)](_0x463d7c(0x4f4),_0x1a19a1);}},_0x1a19a1=()=>{const _0x3ecb9a=_0x45b897;_0x3d507c[_0x3ecb9a(0x6f1)][_0x3ecb9a(0x648)]('hidden'),_0x3e59e2[_0x3ecb9a(0x4c4)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5c328a[_0x3ecb9a(0x4c4)]=_0x3ecb9a(0x559),_0x5c328a['removeEventListener'](_0x3ecb9a(0x4f4),_0x3aa7f1),_0x251f32[_0x3ecb9a(0xdfc)](_0x3ecb9a(0x4f4),_0x1a19a1);};_0x5c328a['addEventListener'](_0x45b897(0x4f4),_0x3aa7f1),_0x251f32['addEventListener'](_0x45b897(0x4f4),_0x1a19a1);}function handleDeleteStudent(_0x19ab00){const _0x4d6cf6=_0x5be2be;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x19ab00+_0x4d6cf6(0xaee),async()=>{const _0x573f1f=_0x4d6cf6;if(!currentProjectId||!currentProjectData)return;const _0x220227=currentProjectData[_0x573f1f(0x94c)][_0x573f1f(0x6e1)](_0x572369=>_0x572369!==_0x19ab00);try{const _0x3a2c04=doc(db,'artifacts/'+appId+_0x573f1f(0x9b0),currentProjectId),_0x329db3=doc(db,_0x573f1f(0x6e9)+appId+_0x573f1f(0x8ef)+currentProjectId+_0x573f1f(0x588),_0x19ab00),_0x37a56c=writeBatch(db);_0x37a56c[_0x573f1f(0x9f3)](_0x3a2c04,{'students':_0x220227}),_0x37a56c[_0x573f1f(0x298)](_0x329db3),await _0x37a56c['commit']();}catch(_0x398d9e){console[_0x573f1f(0x339)](_0x573f1f(0x254),_0x398d9e),showMessage(_0x573f1f(0x341));}});}function handleDeleteAllStudents(){const _0x59c4dd=_0x5be2be;showConfirmation(_0x59c4dd(0x176),async()=>{const _0x6c85f1=_0x59c4dd;if(!currentProjectId)return;try{const _0x4ef32e=doc(db,_0x6c85f1(0x6e9)+appId+_0x6c85f1(0x9b0),currentProjectId),_0x17e408=collection(db,_0x6c85f1(0x6e9)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x51e2de=await getDocs(_0x17e408),_0x2eb1c5=writeBatch(db);_0x2eb1c5[_0x6c85f1(0x9f3)](_0x4ef32e,{'students':[]}),_0x51e2de[_0x6c85f1(0xd75)](_0x4e1330=>_0x2eb1c5[_0x6c85f1(0x298)](_0x4e1330[_0x6c85f1(0xa3b)])),await _0x2eb1c5['commit']();}catch(_0x37ab0b){console[_0x6c85f1(0x339)](_0x6c85f1(0x1d2),_0x37ab0b),showMessage(_0x6c85f1(0xaac));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x9ccd37){const _0x129bda=_0x5be2be,_0x31f5bd=document['getElementById'](_0x129bda(0x6c5)),_0xba2ec1=document['getElementById'](_0x129bda(0x822));_0x31f5bd[_0x129bda(0x6f1)][_0x129bda(0x7d9)]('hidden'),_0xba2ec1[_0x129bda(0x40b)]=_0x129bda(0x468);try{const _0x47053f=new FileReader();_0x47053f['readAsDataURL'](_0x9ccd37),await new Promise((_0x5e7102,_0x1c364f)=>{const _0x3c0b4c=_0x129bda;_0x47053f[_0x3c0b4c(0x397)]=()=>{const _0x1f143c=_0x3c0b4c;fileDataBase64=_0x47053f[_0x1f143c(0xdd3)]['split'](',')[0x1],fileMimeType=_0x9ccd37[_0x1f143c(0xd50)],_0x5e7102();},_0x47053f[_0x3c0b4c(0x255)]=_0x144d01=>_0x1c364f(_0x144d01);});if(!fileDataBase64)throw new Error(_0x129bda(0xc61));const _0x5be68f=_0x129bda(0x304),_0x28b97c={'type':_0x129bda(0x496),'properties':{'topics':{'type':_0x129bda(0xbdb),'items':{'type':'STRING'}}},'required':[_0x129bda(0x2c9)]},_0x3334a2=[{'text':_0x5be68f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x2be18d=await handleApiCall(_0x3334a2,'กำลังวิเคราะห์หัวข้อ...',_0x28b97c,null,![]);if(_0x2be18d&&_0x2be18d['topics'])extractedFileTopics=_0x2be18d[_0x129bda(0x2c9)],renderFileTopics();else throw new Error(_0x129bda(0xa4d));}catch(_0x408b28){console[_0x129bda(0x339)](_0x129bda(0xc97),_0x408b28),_0xba2ec1[_0x129bda(0x40b)]=_0x129bda(0xdf5)+_0x408b28[_0x129bda(0xba5)]+_0x129bda(0xe35);}}function renderFileTopics(){const _0x3e1b1d=_0x5be2be,_0x210898=document['getElementById'](_0x3e1b1d(0x822));if(extractedFileTopics[_0x3e1b1d(0x724)]===0x0){_0x210898['innerHTML']=_0x3e1b1d(0x7d4);return;}_0x210898[_0x3e1b1d(0x40b)]=extractedFileTopics['map'](_0x548af9=>_0x3e1b1d(0x68a)+_0x548af9+_0x3e1b1d(0x818)+escape(_0x548af9)+_0x3e1b1d(0xae9)+escape(_0x548af9)+_0x3e1b1d(0x3c0))[_0x3e1b1d(0x625)]('');}async function generateHybridQuizForTopic(_0x46a105){const _0x36680d=_0x5be2be,_0x102a14=parseInt(document['getElementById'](_0x36680d(0x6e6))['value'],0xa),_0xe54533=document[_0x36680d(0xc4d)](_0x36680d(0x1fb))[_0x36680d(0x1ce)],_0x8b8a84=document[_0x36680d(0xc4d)](_0x36680d(0x946))['value'],_0x2d619d=document[_0x36680d(0xc4d)](_0x36680d(0x894))[_0x36680d(0x315)],_0x1844ea=_0x2d619d?_0x36680d(0x737):_0x36680d(0xe25);let _0x5944e2='',_0x410ace;const _0x547a5a={'type':_0x36680d(0x496),'properties':{'questionText':{'type':_0x36680d(0x179)},'options':{'type':_0x36680d(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x36680d(0x44a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x36680d(0x9b3),_0x36680d(0xa3c),_0x36680d(0x6cf),_0x36680d(0x23c)]},_0x11a468={'type':_0x36680d(0x496),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x36680d(0xb7a)},'explanation':{'type':_0x36680d(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x36680d(0x9b3),_0x36680d(0x66a),_0x36680d(0x23c)]},_0xfa0b22={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x36680d(0x179)},'explanation':{'type':_0x36680d(0x179)},'imageCode':{'type':_0x36680d(0x179)}},'required':[_0x36680d(0x9b3),'idealAnswer',_0x36680d(0x23c)]},_0x4384fe={'type':_0x36680d(0x496),'properties':{'questionType':{'type':_0x36680d(0x179),'enum':[_0x36680d(0xd41)]},'stem':{'type':_0x36680d(0x179)},'correctResponse':{'type':_0x36680d(0x179)},'allResponses':{'type':_0x36680d(0xbdb),'items':{'type':_0x36680d(0x179)}},'explanation':{'type':_0x36680d(0x179)},'imageCode':{'type':_0x36680d(0x179)}},'required':['questionType',_0x36680d(0xb4a),_0x36680d(0xa3a),_0x36680d(0xbc0),_0x36680d(0x23c)]};switch(_0xe54533){case _0x36680d(0x807):const _0xa78632=_0x36680d(0x289);prompt='สร้างแบบทดสอบปรนัย'+subjectPrefix+'\x20'+settings['numQuestions']+_0x36680d(0xacb)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x36680d(0x3ca)+settings[_0x36680d(0x86f)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa78632+_0x36680d(0x87a)+_0x1844ea+'\x20'+simpleMathPrompt,schema=_0x547a5a;break;case _0x36680d(0xd99):_0x5944e2=_0x36680d(0x313),_0x410ace=_0x11a468;break;case _0x36680d(0xa13):_0x5944e2=_0x36680d(0xa29),_0x410ace=_0xfa0b22;break;case _0x36680d(0x358):_0x5944e2=_0x36680d(0xcc9),_0x410ace=_0x4384fe;break;case _0x36680d(0x60d):_0x5944e2=_0x36680d(0x23a)+_0x8b8a84+_0x36680d(0x657),_0x410ace=_0x547a5a;break;default:_0x5944e2=_0x36680d(0x6cc)+_0x8b8a84+_0x36680d(0x657),_0x410ace=_0x547a5a;break;}const _0x4346c3=_0x36680d(0x4a9),_0x29dd90=document[_0x36680d(0xc4d)](_0x36680d(0x64d)),_0x260756=document['getElementById'](_0x36680d(0xd3a)),_0x53aa7f=document[_0x36680d(0xc4d)](_0x36680d(0x3eb));document[_0x36680d(0xc4d)]('quiz-generation-area')[_0x36680d(0x6f1)][_0x36680d(0x7d9)](_0x36680d(0x476)),_0x53aa7f[_0x36680d(0x40b)]='',_0x29dd90[_0x36680d(0x6f1)]['remove'](_0x36680d(0x476)),_0x260756[_0x36680d(0x4c4)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x46a105+_0x36680d(0x7c8)+_0x102a14+_0x36680d(0x60c);try{const _0x1b4b7b='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x4101a4=_0x36680d(0x335)+_0x46a105+_0x36680d(0xc50)+_0x102a14+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x46a105+_0x36680d(0x30c)+_0x102a14+_0x36680d(0x6b2)+_0x1844ea+_0x36680d(0x895)+_0x5944e2+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x4346c3+_0x36680d(0x10f)+_0x1b4b7b+_0x36680d(0x4e8)+simpleMathPrompt+_0x36680d(0x6f8),_0x374b75={'type':'OBJECT','properties':{'topic':{'type':_0x36680d(0x179)},'questions':{'type':_0x36680d(0xbdb),'items':_0x410ace}},'required':[_0x36680d(0x380),_0x36680d(0xb1f)]},_0x155a8b=[{'text':_0x4101a4},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x155a8b,_0x36680d(0xe53)+_0x46a105+_0x36680d(0x24c),_0x374b75);}catch(_0x380472){console[_0x36680d(0x339)](_0x36680d(0x582),_0x380472),showMessage(_0x36680d(0xcf6)+_0x380472[_0x36680d(0xba5)]),_0x53aa7f[_0x36680d(0x40b)]=_0x36680d(0x193);}finally{_0x29dd90['classList'][_0x36680d(0x648)]('hidden');}}async function handleGenerateFromFileClick(){const _0x2d14be=_0x5be2be;if(!selectedFile){showMessage(_0x2d14be(0xca7));return;}const _0x184297=document[_0x2d14be(0xc4d)](_0x2d14be(0x64d)),_0x2d7114=document[_0x2d14be(0xc4d)](_0x2d14be(0xd3a)),_0x4f6931=document['getElementById'](_0x2d14be(0x3eb)),_0x48d87c=document[_0x2d14be(0xc4d)](_0x2d14be(0x155));_0x48d87c['disabled']=!![],document[_0x2d14be(0xc4d)](_0x2d14be(0x1f9))[_0x2d14be(0x6f1)][_0x2d14be(0x7d9)](_0x2d14be(0x476)),_0x4f6931[_0x2d14be(0x40b)]='',_0x184297['classList'][_0x2d14be(0x7d9)](_0x2d14be(0x476)),_0x2d7114[_0x2d14be(0x4c4)]=_0x2d14be(0x425);try{const _0x1fbf65=await new Promise((_0x3c0266,_0x164691)=>{const _0x243d43=_0x2d14be,_0x121b30=new FileReader();_0x121b30[_0x243d43(0x63e)](selectedFile),_0x121b30['onload']=()=>_0x3c0266(_0x121b30['result'][_0x243d43(0xcb0)](',')[0x1]),_0x121b30['onerror']=_0x21f41a=>_0x164691(_0x21f41a);});await generateQuizFromFile(selectedFile[_0x2d14be(0xd50)],_0x1fbf65);}catch(_0x59e73f){console[_0x2d14be(0x339)]('Error\x20processing\x20file\x20for\x20AI:',_0x59e73f),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x59e73f[_0x2d14be(0xba5)]),_0x184297[_0x2d14be(0x6f1)][_0x2d14be(0x648)](_0x2d14be(0x476)),_0x48d87c[_0x2d14be(0xbb3)]=![];}}function autoFormatMath(_0x4eee38){const _0x462ea7=_0x5be2be;if(typeof _0x4eee38!==_0x462ea7(0xa4b)||!_0x4eee38)return _0x4eee38;const _0x2e5edc=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x913f60=_0x4eee38['replace'](_0x2e5edc,_0x21eb95=>{const _0x7a9f8c=_0x462ea7;return'$'+_0x21eb95[_0x7a9f8c(0x2ce)]()+'$';});return _0x913f60;}function sanitizeQuizData(_0x3a1933){const _0x444800=_0x5be2be;if(!_0x3a1933||!_0x3a1933[_0x444800(0xb1f)])return _0x3a1933;const _0x392a72=_0x25057d=>{const _0x2b2692=_0x444800;if(typeof _0x25057d!==_0x2b2692(0xa4b))return _0x25057d;let _0x382130=_0x25057d;_0x382130=_0x382130[_0x2b2692(0x6c0)](/\\\(/g,'$')[_0x2b2692(0x6c0)](/\\\)/g,'$'),_0x382130=_0x382130[_0x2b2692(0x6c0)](/\\\[/g,'$$')[_0x2b2692(0x6c0)](/\\\]/g,'$$'),_0x382130=_0x382130[_0x2b2692(0x6c0)](/\\?imes\b/g,_0x2b2692(0x8c4));const _0x5eb169=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x382130=_0x382130[_0x2b2692(0x6c0)](_0x5eb169,_0x5a6ac5=>{const _0x3a76e2=_0x2b2692;return'$'+_0x5a6ac5[_0x3a76e2(0x2ce)]()+'$';}),_0x382130;};return _0x3a1933['topic']&&(_0x3a1933[_0x444800(0x380)]=_0x392a72(_0x3a1933['topic'])),_0x3a1933['questions'][_0x444800(0xd75)](_0x1198ea=>{const _0x343e43=_0x444800;_0x1198ea[_0x343e43(0x9b3)]=_0x392a72(_0x1198ea[_0x343e43(0x9b3)]),_0x1198ea[_0x343e43(0xb4a)]=_0x392a72(_0x1198ea[_0x343e43(0xb4a)]),_0x1198ea[_0x343e43(0xa3c)]&&(_0x1198ea[_0x343e43(0xa3c)]=_0x1198ea['options']['map'](_0x1d8de1=>_0x392a72(_0x1d8de1))),_0x1198ea['explanation']&&(_0x1198ea[_0x343e43(0x23c)]=_0x392a72(_0x1198ea[_0x343e43(0x23c)])),_0x1198ea[_0x343e43(0xa3a)]&&(_0x1198ea[_0x343e43(0xa3a)]=_0x392a72(_0x1198ea[_0x343e43(0xa3a)])),_0x1198ea[_0x343e43(0xbc0)]&&(_0x1198ea[_0x343e43(0xbc0)]=_0x1198ea['allResponses'][_0x343e43(0x546)](_0x860fee=>_0x392a72(_0x860fee))),_0x1198ea['idealAnswer']&&(_0x1198ea[_0x343e43(0x1d8)]=_0x392a72(_0x1198ea[_0x343e43(0x1d8)]));}),_0x3a1933;}const simpleMathPrompt=_0x5be2be(0x275);async function handleGenerateFromLink(){const _0x3c112f=_0x5be2be,_0x2bbc57=document['getElementById']('link-url-input'),_0x2e2ad7=document[_0x3c112f(0xc4d)](_0x3c112f(0x1df)),_0x296a00=_0x2bbc57[_0x3c112f(0x1ce)]['trim'](),_0x1728b4=_0x2e2ad7[_0x3c112f(0x1ce)][_0x3c112f(0x2ce)]();if(!_0x296a00){showMessage(_0x3c112f(0x41a));return;}const _0x48f2be=document['getElementById'](_0x3c112f(0x64d)),_0x42dbbe=document[_0x3c112f(0xc4d)]('loader-text'),_0x5d6d03=document['getElementById'](_0x3c112f(0x3eb)),_0x3ee285=document[_0x3c112f(0xc4d)](_0x3c112f(0xdea));document[_0x3c112f(0xc4d)](_0x3c112f(0x1f9))[_0x3c112f(0x6f1)][_0x3c112f(0x7d9)]('hidden'),_0x5d6d03[_0x3c112f(0x40b)]='',_0x48f2be['classList'][_0x3c112f(0x7d9)]('hidden'),_0x42dbbe[_0x3c112f(0x4c4)]=_0x3c112f(0x1e2),_0x3ee285[_0x3c112f(0xbb3)]=!![];try{const _0xae002f='https://corsproxy.io/?'+encodeURIComponent(_0x296a00),_0x36d687=await fetch(_0xae002f);if(!_0x36d687['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x36d687[_0x3c112f(0x7c3)]+')');const _0x5d11fc=await _0x36d687[_0x3c112f(0x8d1)](),_0x3699be=extractTextFromHtml(_0x5d11fc);if(!_0x3699be||_0x3699be['length']<0x64)throw new Error(_0x3c112f(0x43a));await generateQuiz(_0x1728b4,_0x3699be);}catch(_0x57b313){console['error'](_0x3c112f(0xd47),_0x57b313),showMessage(_0x3c112f(0xcf6)+_0x57b313['message']),_0x5d6d03['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x48f2be['classList'][_0x3c112f(0x648)]('hidden'),_0x3ee285[_0x3c112f(0xbb3)]=![];}}function extractTextFromHtml(_0x50a9cc){const _0x35e971=_0x5be2be,_0x4eef26=new DOMParser()['parseFromString'](_0x50a9cc,'text/html');return _0x4eef26[_0x35e971(0x760)](_0x35e971(0xcae))[_0x35e971(0xd75)](_0x183759=>_0x183759['remove']()),_0x4eef26[_0x35e971(0x671)][_0x35e971(0x4c4)]||'';}document[_0x5be2be(0xc4d)](_0x5be2be(0xccc))[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),()=>{const _0xd78d37=_0x5be2be,_0x13a53e=document[_0xd78d37(0xc4d)](_0xd78d37(0x643))['value'][_0xd78d37(0x2ce)]();generateQuiz(_0x13a53e,null);}),document[_0x5be2be(0xc4d)](_0x5be2be(0x440))[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),()=>{const _0x1a0b2f=_0x5be2be,_0x5e7f2a=document[_0x1a0b2f(0xc4d)](_0x1a0b2f(0x61e))[_0x1a0b2f(0x1ce)][_0x1a0b2f(0x2ce)]();if(!_0x5e7f2a){showMessage(_0x1a0b2f(0xd78));return;}const _0x873b56=document[_0x1a0b2f(0xc4d)]('topic-input')[_0x1a0b2f(0x1ce)][_0x1a0b2f(0x2ce)]();generateQuiz(_0x873b56,_0x5e7f2a);});async function generateQuiz(_0x5bbd11,_0x148522,_0xd31ad9=null,_0x4b82b9=null,_0x2af133=![],_0x2f41c6=null,_0x34a918=null,_0x3cbf8b=![]){const _0x2a1492=_0x5be2be;let _0x2df978={};if(_0x2af133&&blueprintPageSettings)_0x2df978=blueprintPageSettings;else{const _0x4009a0=document['querySelectorAll'](_0x2a1492(0x6df));_0x2df978={'quizType':document['getElementById'](_0x2a1492(0x1fb))[_0x2a1492(0x1ce)],'numQuestions':document[_0x2a1492(0xc4d)](_0x2a1492(0x6e6))['value'],'numChoices':document[_0x2a1492(0xc4d)](_0x2a1492(0x946))[_0x2a1492(0x1ce)],'includeImages':document['getElementById'](_0x2a1492(0x894))[_0x2a1492(0x315)],'isNormalTopic':document['getElementById'](_0x2a1492(0x534))[_0x2a1492(0x315)],'difficultyValue':document[_0x2a1492(0xc4d)](_0x2a1492(0xc88))['value'],'complexityValue':document['getElementById'](_0x2a1492(0xcd6))[_0x2a1492(0x1ce)],'selectedTopicNames':Array['from'](_0x4009a0)[_0x2a1492(0x546)](_0x500018=>_0x500018[_0x2a1492(0x1ce)])};}const _0x2ede9e=_0x2df978[_0x2a1492(0x500)]?'':_0x2a1492(0x8c9),_0x382dda=_0x2df978[_0x2a1492(0xd70)]!==_0x2a1492(0x28e)?_0x2a1492(0xa97)+_0x2df978['difficultyValue']+'\x22':'',_0xc30e92=_0x2df978[_0x2a1492(0x981)]!==_0x2a1492(0x697)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x2df978['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x486e4a='';_0x2df978[_0x2a1492(0x3e8)]&&_0x2df978[_0x2a1492(0x3e8)]['length']>0x0&&(_0x486e4a=_0x2a1492(0x3d3)+_0x2df978[_0x2a1492(0x3e8)]['join'](',\x20')+'.');let _0xbf04ac='';_0x4b82b9&&(_0xbf04ac=_0x2a1492(0xad2));let _0x44789e='',_0x551006='',_0x7a0af1,_0x5be1fe='เกี่ยวกับหัวข้อ\x20\x22'+_0x5bbd11+'\x22';if(!_0x5bbd11&&_0x148522)_0x5be1fe='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5bbd11&&!_0x148522&&(_0x5be1fe=_0x2a1492(0x9e4));const _0x2e5489={'type':_0x2a1492(0x496),'properties':{'questionText':{'type':_0x2a1492(0x179)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2a1492(0x44a)},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':_0x2a1492(0x179)}},'required':[_0x2a1492(0x9b3),'options',_0x2a1492(0x6cf),_0x2a1492(0x23c)]},_0x1df3b8={'type':_0x2a1492(0x496),'properties':{'questionText':{'type':_0x2a1492(0x179)},'idealAnswer':{'type':_0x2a1492(0x179)},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x2a1492(0x23c)]},_0x3dc282={'type':'OBJECT','properties':{'questionText':{'type':_0x2a1492(0x179)},'questionType':{'type':'STRING','enum':[_0x2a1492(0x807),_0x2a1492(0x738)]},'options':{'type':'ARRAY','items':{'type':_0x2a1492(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x2a1492(0x9b3),'questionType',_0x2a1492(0x23c)]},_0x3ae82e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x2a1492(0x9b3),_0x2a1492(0x66a),_0x2a1492(0x23c)]},_0x24bc71={'type':_0x2a1492(0x496),'properties':{'questionType':{'type':'STRING','enum':[_0x2a1492(0xd41)]},'stem':{'type':_0x2a1492(0x179)},'correctResponse':{'type':_0x2a1492(0x179)},'allResponses':{'type':_0x2a1492(0xbdb),'items':{'type':_0x2a1492(0x179)}},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':_0x2a1492(0x179)}},'required':[_0x2a1492(0xc7b),_0x2a1492(0xb4a),'correctResponse',_0x2a1492(0xbc0),'explanation']};let _0x2f7f68;if(_0xd31ad9!==null){const _0x3fb352=currentQuizData['questions'][_0xd31ad9][_0x2a1492(0xc7b)],_0x99b510=_0x2df978[_0x2a1492(0x699)]?_0x2a1492(0x69d):'';_0x44789e=_0x2a1492(0x22c)+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+_0x2a1492(0x668)+_0x99b510+'\x20'+simpleMathPrompt;if(_0x3fb352==='multiple_choice')_0x7a0af1=_0x2e5489;else{if(_0x3fb352==='matching_item')_0x7a0af1={'type':_0x2a1492(0x496),'properties':{'questionType':{'type':_0x2a1492(0x179),'enum':['matching_item']},'stem':{'type':_0x2a1492(0x179)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x2a1492(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x2a1492(0xc7b),_0x2a1492(0xb4a),'correctResponse',_0x2a1492(0x23c)]};else _0x7a0af1=_0x1df3b8;}_0x2f7f68=_0x7a0af1;}else{const _0x231dc7=_0x2df978[_0x2a1492(0x699)]?_0x2a1492(0x951):'';switch(_0x2df978['quizType']){case _0x2a1492(0x807):const _0x4cf979=_0x2a1492(0x289);_0x44789e='สร้างแบบทดสอบปรนัย'+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+'\x20ข้อ\x20'+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+_0x2df978[_0x2a1492(0x86f)]+_0x2a1492(0x6c1)+_0x4cf979+_0x2a1492(0x87a)+_0x231dc7+'\x20'+simpleMathPrompt,_0x7a0af1=_0x2e5489;break;case _0x2a1492(0x60d):_0x44789e=_0x2a1492(0xd6d)+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+_0x2a1492(0xacb)+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+_0x2a1492(0x53c)+_0x2df978['numChoices']+_0x2a1492(0xd38)+_0x231dc7+'\x20'+simpleMathPrompt,_0x7a0af1=_0x2e5489;break;case'fill_in_no_choices':_0x44789e=_0x2a1492(0xd6d)+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+'\x20ข้อ\x20'+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+_0x2a1492(0x4a7)+_0x231dc7+'\x20'+simpleMathPrompt,_0x7a0af1=_0x1df3b8;break;case _0x2a1492(0x697):_0x44789e=_0x2a1492(0x91d)+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+'\x20ข้อ\x20'+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+_0x2a1492(0x48e)+_0x2df978['numChoices']+_0x2a1492(0x919)+_0x231dc7+'\x20'+simpleMathPrompt+'.',_0x7a0af1=_0x3dc282;break;case'true_false':_0x44789e=_0x2a1492(0xb3f)+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+_0x2a1492(0xacb)+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+_0x2a1492(0xc80)+_0x231dc7+'\x20'+simpleMathPrompt,_0x7a0af1=_0x3ae82e;break;case _0x2a1492(0x358):_0x44789e=_0x2a1492(0xa39)+_0x2ede9e+'\x20'+_0x2df978[_0x2a1492(0x5b8)]+'\x20คู่\x20'+_0x5be1fe+'\x20'+_0x486e4a+'\x20'+_0x382dda+'\x20'+_0xc30e92+'\x20'+_0xbf04ac+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x231dc7+'\x20'+simpleMathPrompt,_0x7a0af1=_0x24bc71;break;}_0x2f7f68={'type':_0x2a1492(0x496),'properties':{'topic':{'type':_0x2a1492(0x179)},'questions':{'type':_0x2a1492(0xbdb),'items':_0x7a0af1}},'required':['topic',_0x2a1492(0xb1f)]};}const _0x1d0743=_0x2a1492(0x4b1);_0x148522?(_0x3cbf8b?_0x44789e=_0x2a1492(0xd40)+_0x148522+'\x22,\x20'+_0x44789e+_0x1d0743:_0x44789e=_0x2a1492(0xd40)+_0x148522+_0x2a1492(0xd2)+_0x44789e,_0x551006=_0x2a1492(0x3b8)):(_0x3cbf8b&&(_0x44789e+=_0x1d0743),_0x551006=_0x2a1492(0x974));let _0x55957a;return _0x4b82b9?(_0x55957a=[{'text':_0x44789e},..._0x4b82b9],_0x551006='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x55957a=_0x44789e,handleApiCall(_0x55957a,_0x551006,_0x2f7f68,_0xd31ad9,!![],_0x2f41c6,_0x34a918);}async function generateQuizFromFile(_0x22611c,_0x2366f9){const _0x53f22d=_0x5be2be,_0x247213=document[_0x53f22d(0xc4d)](_0x53f22d(0x690))['value']['trim'](),_0x33d8ab=document[_0x53f22d(0xc4d)](_0x53f22d(0x1fb))['value'],_0x4a7ea0=document[_0x53f22d(0xc4d)](_0x53f22d(0x6e6))[_0x53f22d(0x1ce)],_0x4e7874=document[_0x53f22d(0xc4d)](_0x53f22d(0x946))[_0x53f22d(0x1ce)],_0x4d141d=document[_0x53f22d(0xc4d)](_0x53f22d(0x894))['checked'],_0x2df0b0=document['getElementById'](_0x53f22d(0x534))[_0x53f22d(0x315)],_0xced724=_0x2df0b0?'':'คณิตศาสตร์',_0x5e99db=document['getElementById'](_0x53f22d(0x187))[_0x53f22d(0x315)];let _0x5ccfe1='',_0xf7afc0;const _0xf7b750=_0x4d141d?_0x53f22d(0x951):'';if(_0x5e99db)_0x5ccfe1=_0x53f22d(0x570)+_0xf7b750+'\x0a'+simpleMathPrompt+'\x0a',_0xf7afc0={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x53f22d(0x179),'enum':['multiple_choice','short_answer',_0x53f22d(0xd99),_0x53f22d(0xd41)]},'options':{'type':_0x53f22d(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x53f22d(0x179)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x53f22d(0x179)},'allResponses':{'type':_0x53f22d(0xbdb),'items':{'type':_0x53f22d(0x179)}},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':_0x53f22d(0x179)}},'required':['questionType','explanation']};else{let _0x4fd5fd=_0x53f22d(0x389)+_0x247213+'\x22';!_0x247213&&(_0x4fd5fd=_0x53f22d(0x1f2));switch(_0x33d8ab){case _0x53f22d(0x807):const _0x4fd699=_0x53f22d(0x97c);_0x5ccfe1=_0x53f22d(0x407)+_0xced724+'\x20'+_0x4a7ea0+_0x53f22d(0xacb)+_0x4fd5fd+_0x53f22d(0x98d)+_0x4e7874+_0x53f22d(0x879)+_0x4fd699+_0x53f22d(0x886)+_0xf7b750+'\x20'+simpleMathPrompt,_0xf7afc0={'type':_0x53f22d(0x496),'properties':{'questionText':{'type':_0x53f22d(0x179)},'options':{'type':_0x53f22d(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x53f22d(0x44a)},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':_0x53f22d(0x179)}},'required':['questionText',_0x53f22d(0xa3c),'correctAnswerIndex',_0x53f22d(0x23c)]};break;case _0x53f22d(0x60d):_0x5ccfe1=_0x53f22d(0xd6d)+_0xced724+'\x20'+_0x4a7ea0+'\x20ข้อ\x20'+_0x4fd5fd+_0x53f22d(0x53c)+_0x4e7874+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0xf7b750+'\x20'+simpleMathPrompt,_0xf7afc0={'type':_0x53f22d(0x496),'properties':{'questionText':{'type':_0x53f22d(0x179)},'options':{'type':_0x53f22d(0xbdb),'items':{'type':_0x53f22d(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x53f22d(0x9b3),'options',_0x53f22d(0x6cf),_0x53f22d(0x23c)]};break;case _0x53f22d(0xa13):_0x5ccfe1=_0x53f22d(0xd6d)+_0xced724+'\x20'+_0x4a7ea0+'\x20ข้อ\x20'+_0x4fd5fd+_0x53f22d(0xb53)+_0xf7b750+'\x20'+simpleMathPrompt,_0xf7afc0={'type':'OBJECT','properties':{'questionText':{'type':_0x53f22d(0x179)},'idealAnswer':{'type':_0x53f22d(0x179)},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':_0x53f22d(0x179)}},'required':['questionText',_0x53f22d(0x1d8),'explanation']};break;case _0x53f22d(0x697):_0x5ccfe1=_0x53f22d(0x91d)+_0xced724+'\x20'+_0x4a7ea0+'\x20ข้อ\x20'+_0x4fd5fd+_0x53f22d(0x1e5)+_0x4e7874+_0x53f22d(0xc5a)+_0xf7b750+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0xf7afc0={'type':_0x53f22d(0x496),'properties':{'questionText':{'type':_0x53f22d(0x179)},'questionType':{'type':_0x53f22d(0x179),'enum':[_0x53f22d(0x807),_0x53f22d(0x738)]},'options':{'type':_0x53f22d(0xbdb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x53f22d(0x44a)},'idealAnswer':{'type':_0x53f22d(0x179)},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':_0x53f22d(0x179)}},'required':['questionText',_0x53f22d(0xc7b),_0x53f22d(0x23c)]};break;case _0x53f22d(0xd99):_0x5ccfe1=_0x53f22d(0xb3f)+_0xced724+'\x20'+_0x4a7ea0+'\x20ข้อ\x20'+_0x4fd5fd+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xf7b750+'\x20'+simpleMathPrompt,_0xf7afc0={'type':_0x53f22d(0x496),'properties':{'questionText':{'type':_0x53f22d(0x179)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x53f22d(0x179)}},'required':[_0x53f22d(0x9b3),_0x53f22d(0x66a),_0x53f22d(0x23c)]};break;case _0x53f22d(0x358):_0x5ccfe1='สร้างชุดคำถามจับคู่'+_0xced724+'\x20'+_0x4a7ea0+_0x53f22d(0x5c0)+_0x4fd5fd+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x4a7ea0+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0xf7b750+'\x20'+simpleMathPrompt,_0xf7afc0={'type':_0x53f22d(0x496),'properties':{'questionType':{'type':_0x53f22d(0x179),'enum':[_0x53f22d(0xd41)]},'stem':{'type':_0x53f22d(0x179)},'correctResponse':{'type':_0x53f22d(0x179)},'allResponses':{'type':_0x53f22d(0xbdb),'items':{'type':'STRING'}},'explanation':{'type':_0x53f22d(0x179)},'imageCode':{'type':_0x53f22d(0x179)}},'required':['questionType',_0x53f22d(0xb4a),_0x53f22d(0xa3a),_0x53f22d(0xbc0),_0x53f22d(0x23c)]};break;}}const _0xdbf274={'type':_0x53f22d(0x496),'properties':{'topic':{'type':_0x53f22d(0x179)},'questions':{'type':_0x53f22d(0xbdb),'items':_0xf7afc0}},'required':[_0x53f22d(0x380),_0x53f22d(0xb1f)]},_0x4630d8=_0x53f22d(0xcc4)+_0x5ccfe1,_0x2a2ddc={'contents':[{'parts':[{'text':_0x4630d8},{'inlineData':{'mimeType':_0x22611c,'data':_0x2366f9}}]}],'generationConfig':{'responseMimeType':_0x53f22d(0x224),'responseSchema':_0xdbf274}};return handleApiCall(_0x2a2ddc['contents'][0x0][_0x53f22d(0x437)],_0x53f22d(0xa3e),_0xdbf274);}async function handleApiCall(_0x1c4537,_0x893f3e,_0x36bd44,_0x1b569f=null,_0x28c66b=!![],_0x3a52aa=null,_0x62b4dd=null){const _0x21dda4=_0x5be2be,_0x91476c=document['getElementById']('quiz-generation-area'),_0x54e7fc=document['getElementById'](_0x21dda4(0x64d)),_0x2670c3=document[_0x21dda4(0xc4d)]('loader-text'),_0x3bc2d9=document[_0x21dda4(0xc4d)](_0x21dda4(0x3eb));_0x91476c[_0x21dda4(0x6f1)][_0x21dda4(0x7d9)]('hidden');_0x1b569f===null&&_0x28c66b&&(_0x3bc2d9[_0x21dda4(0x40b)]='');_0x54e7fc[_0x21dda4(0x6f1)][_0x21dda4(0x7d9)]('hidden'),_0x2670c3[_0x21dda4(0x4c4)]=_0x893f3e,document['getElementById']('generate-from-topic-btn')['disabled']=!![],document[_0x21dda4(0xc4d)](_0x21dda4(0x440))[_0x21dda4(0xbb3)]=!![],document['getElementById'](_0x21dda4(0xdea))[_0x21dda4(0xbb3)]=!![];const _0x4b5301=document['getElementById'](_0x21dda4(0x155));if(_0x4b5301)_0x4b5301[_0x21dda4(0xbb3)]=!![];const _0x10bf99=document[_0x21dda4(0xc4d)](_0x21dda4(0x9c7));if(_0x10bf99)_0x10bf99[_0x21dda4(0xbb3)]=!![];const _0x207b85=document[_0x21dda4(0xc4d)](_0x21dda4(0x16a));if(_0x207b85)_0x207b85[_0x21dda4(0xbb3)]=!![];try{const _0xfed95=Array[_0x21dda4(0x228)](_0x1c4537)?_0x1c4537:[{'text':_0x1c4537}],_0x42d475={'contents':[{'role':_0x21dda4(0x715),'parts':_0xfed95}]};_0x36bd44&&(_0x42d475['generationConfig']={'responseMimeType':_0x21dda4(0x224),'responseSchema':_0x36bd44});const _0x59edeb=_0x21dda4(0x423),_0x16c765=_0x21dda4(0xbc1)+_0x59edeb,_0x1552d5=await fetch(_0x16c765,{'method':_0x21dda4(0xbc9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x21dda4(0x3f3)](_0x42d475)});if(!_0x1552d5['ok']){const _0x918ef7=await _0x1552d5[_0x21dda4(0x8d1)]();console[_0x21dda4(0x339)](_0x21dda4(0xd7f),_0x918ef7);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1552d5[_0x21dda4(0x7c3)]);}const _0x2c2901=await _0x1552d5[_0x21dda4(0xdf6)]();if(!_0x2c2901[_0x21dda4(0x963)]||_0x2c2901['candidates'][_0x21dda4(0x724)]===0x0){let _0x5e380a=_0x21dda4(0xe60);return _0x2c2901[_0x21dda4(0x5a4)]?.[_0x21dda4(0x541)]&&(_0x5e380a='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x2c2901['promptFeedback'][_0x21dda4(0x541)]+'.'),console[_0x21dda4(0x339)](_0x5e380a,JSON['stringify'](_0x2c2901)),null;}const _0x362263=_0x2c2901['candidates'][0x0][_0x21dda4(0xb76)][_0x21dda4(0x437)][0x0]['text'];if(_0x36bd44){let _0x4cd794=_0x362263;if(_0x4cd794[_0x21dda4(0xb6d)](_0x21dda4(0x9ee)))_0x4cd794=_0x4cd794[_0x21dda4(0xaaa)](0x7,_0x4cd794[_0x21dda4(0x724)]-0x3)[_0x21dda4(0x2ce)]();else _0x4cd794[_0x21dda4(0xb6d)](_0x21dda4(0xd44))&&(_0x4cd794=_0x4cd794[_0x21dda4(0xaaa)](0x3,_0x4cd794[_0x21dda4(0x724)]-0x3)[_0x21dda4(0x2ce)]());let _0x3d3b30=JSON['parse'](_0x4cd794);if(_0x3d3b30[_0x21dda4(0xb1f)]&&Array[_0x21dda4(0x228)](_0x3d3b30[_0x21dda4(0xb1f)])){const _0x20dd51=_0x3d3b30[_0x21dda4(0xb1f)][_0x21dda4(0x6e1)](_0x46ea60=>_0x46ea60['questionType']==='matching_item');if(_0x20dd51[_0x21dda4(0x724)]>0x1){const _0x34db52=_0x20dd51[_0x21dda4(0x546)](_0x742a30=>_0x742a30[_0x21dda4(0xa3a)])[_0x21dda4(0x6e1)](_0x4981e2=>_0x4981e2&&_0x4981e2[_0x21dda4(0x2ce)]()!=='');shuffleArray(_0x34db52),_0x20dd51[_0x21dda4(0xd75)](_0x4d9720=>{_0x4d9720['allResponses']=[..._0x34db52];}),console['log'](_0x21dda4(0x72b),_0x34db52);}}if(_0x28c66b){if(_0x1b569f!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x21dda4(0xb1f)]){}}else currentQuizData=_0x3d3b30,displayGeneratedQuiz(currentQuizData,_0x3a52aa,_0x62b4dd);}return _0x3d3b30;}else return _0x362263;}catch(_0x383477){console[_0x21dda4(0x339)]('Error\x20in\x20handleApiCall:',_0x383477),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x383477['message']);_0x28c66b&&(_0x3bc2d9[_0x21dda4(0x40b)]=_0x21dda4(0x6c3));throw _0x383477;}finally{_0x54e7fc['classList'][_0x21dda4(0x648)](_0x21dda4(0x476)),document['getElementById'](_0x21dda4(0xccc))[_0x21dda4(0xbb3)]=![],document[_0x21dda4(0xc4d)](_0x21dda4(0x440))['disabled']=![],document['getElementById'](_0x21dda4(0xdea))[_0x21dda4(0xbb3)]=![];if(_0x4b5301)_0x4b5301[_0x21dda4(0xbb3)]=![];if(_0x10bf99)_0x10bf99['disabled']=![];if(_0x207b85)_0x207b85['disabled']=![];}}function exitFullscreen(){const _0x2fce48=_0x5be2be;if(document['exitFullscreen'])document[_0x2fce48(0xdde)]()[_0x2fce48(0x606)](_0x1a0577=>console[_0x2fce48(0x339)](_0x1a0577));else{if(document[_0x2fce48(0x85d)])document[_0x2fce48(0x85d)]();else document[_0x2fce48(0xd01)]&&document[_0x2fce48(0xd01)]();}}function enterFullscreen(){const _0x2a34b3=_0x5be2be,_0x12a22e=document[_0x2a34b3(0x260)];if(_0x12a22e[_0x2a34b3(0xd63)])_0x12a22e[_0x2a34b3(0xd63)]()['catch'](_0x4c6b99=>{const _0x336bf1=_0x2a34b3;console[_0x336bf1(0x339)](_0x336bf1(0x6c7)+_0x4c6b99[_0x336bf1(0xba5)]+'\x20('+_0x4c6b99[_0x336bf1(0x1b0)]+')');});else{if(_0x12a22e[_0x2a34b3(0x1b9)])_0x12a22e['webkitRequestFullscreen']();else _0x12a22e[_0x2a34b3(0x991)]&&_0x12a22e[_0x2a34b3(0x991)]();}}function handleCheatingEvent(){const _0x137146=_0x5be2be;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x137146(0xabf),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x137146(0xa51)+maxCheatAttempts+_0x137146(0x732)),document['getElementById'](_0x137146(0x40e))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x137146(0xdfc)](_0x137146(0x76b),handleVisibilityChange),document[_0x137146(0xdfc)](_0x137146(0x1a3),handleFullscreenChange)):showMessage(_0x137146(0xd76)+cheatAttempts+'/'+maxCheatAttempts+_0x137146(0xc2f),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x11192c=_0x5be2be;if(currentMode===_0x11192c(0x6b8)||!isQuizActive)return;if(document[_0x11192c(0x772)]==='hidden')handleCheatingEvent();else document['visibilityState']==='visible'&&(console[_0x11192c(0xbe2)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x319d45=_0x5be2be;if(currentMode===_0x319d45(0x6b8)||!isQuizActive)return;!document[_0x319d45(0x4ca)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x44625f,_0x2721df=null,_0x2aa344=null){const _0x255733=_0x5be2be,_0x41d429=document[_0x255733(0xc4d)]('generated-quiz-container');let _0x691055=_0x255733(0xca1)+_0x44625f[_0x255733(0x380)]+_0x255733(0xd46);_0x44625f[_0x255733(0xb1f)][_0x255733(0xd75)]((_0x33700c,_0x15f8e0)=>{const _0x47d1f7=_0x255733;!_0x33700c['id']&&(_0x33700c['id']='q_'+Date[_0x47d1f7(0xe3e)]()+'_'+_0x15f8e0);const _0xeb6519=_0x33700c[_0x47d1f7(0xc7b)]||_0x44625f[_0x47d1f7(0xd93)];_0x691055+=_0x47d1f7(0xa3f)+_0x15f8e0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x15f8e0+_0x47d1f7(0x93a)+_0x15f8e0+_0x47d1f7(0x667);_0xeb6519===_0x47d1f7(0xd41)?_0x691055+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x15f8e0+'\x22>'+(_0x15f8e0+0x1)+'.\x20'+_0x33700c[_0x47d1f7(0xb4a)]+_0x47d1f7(0xe35):_0x691055+=_0x47d1f7(0x6da)+_0x15f8e0+'\x22>'+(_0x15f8e0+0x1)+'.\x20'+_0x33700c[_0x47d1f7(0x9b3)]+_0x47d1f7(0xe35);_0x33700c[_0x47d1f7(0x145)]&&(_0x691055+=_0x47d1f7(0x30f)+_0x15f8e0+_0x47d1f7(0x29b)+_0x33700c[_0x47d1f7(0x145)]+_0x47d1f7(0xcf0));if(_0x33700c[_0x47d1f7(0xa3c)]&&Array[_0x47d1f7(0x228)](_0x33700c[_0x47d1f7(0xa3c)])&&_0x33700c[_0x47d1f7(0xa3c)][_0x47d1f7(0x724)]>0x0)_0x691055+=_0x47d1f7(0xc2b)+_0x15f8e0+_0x47d1f7(0x53d)+_0x33700c[_0x47d1f7(0xa3c)][_0x47d1f7(0x546)]((_0x26e3a4,_0x27b176)=>'<li\x20class=\x22'+(_0x27b176===_0x33700c[_0x47d1f7(0x6cf)]?_0x47d1f7(0xdfd):'')+'\x22>'+_0x26e3a4+_0x47d1f7(0x3d0))['join']('')+_0x47d1f7(0x1d7);else{if(_0xeb6519==='matching_item'||_0x33700c[_0x47d1f7(0xa3a)])_0x691055+=_0x47d1f7(0x2a4)+_0x15f8e0+'\x22>'+_0x33700c[_0x47d1f7(0xa3a)]+'</span></div>';else{if(_0xeb6519===_0x47d1f7(0xd99)||typeof _0x33700c[_0x47d1f7(0x66a)]==='boolean')_0x691055+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x33700c[_0x47d1f7(0x66a)]===!![]?_0x47d1f7(0xdfd):'')+_0x47d1f7(0xdc6)+(_0x33700c[_0x47d1f7(0x66a)]===![]?_0x47d1f7(0xdfd):'')+_0x47d1f7(0x8b0);else _0x33700c[_0x47d1f7(0x1d8)]?_0x691055+=_0x47d1f7(0x917)+_0x15f8e0+'\x22>'+_0x33700c[_0x47d1f7(0x1d8)]+_0x47d1f7(0xd04):_0x691055+=_0x47d1f7(0x485);}}_0x691055+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x15f8e0+'\x22>'+_0x33700c[_0x47d1f7(0x23c)]+_0x47d1f7(0xd04),_0x691055+='</div>';}),_0x691055+=_0x255733(0x729),_0x41d429['innerHTML']=_0x691055,document[_0x255733(0x760)](_0x255733(0x7b4))[_0x255733(0xd75)](_0x4ec15e=>_0x4ec15e[_0x255733(0x5a2)](_0x255733(0x4f4),handleEditQuestion)),document[_0x255733(0x760)](_0x255733(0xe3a))[_0x255733(0xd75)](_0x5bb4b2=>_0x5bb4b2[_0x255733(0x5a2)](_0x255733(0x4f4),handleRegenerateQuestion)),document['getElementById'](_0x255733(0xb80))['addEventListener'](_0x255733(0x4f4),exportQuizAsWorksheetPDF),document['getElementById'](_0x255733(0x147))[_0x255733(0x5a2)](_0x255733(0x4f4),handleVerifyAnswers);const _0x115070=document['getElementById']('save-quiz-btn');if(_0x115070){const _0x334faa=_0x2721df||currentProjectId;_0x115070[_0x255733(0x5a2)]('click',()=>saveQuiz(_0x334faa,_0x2aa344));}if(window[_0x255733(0x1bb)])window[_0x255733(0x1bb)][_0x255733(0xd71)]([_0x41d429]);}function handleRegenerateQuestion(_0x26a4d8){const _0x447009=_0x5be2be,_0x385059=_0x26a4d8[_0x447009(0x53f)][_0x447009(0xa2c)]['index'],_0x53efb0=currentQuizData[_0x447009(0x380)];showMessage(_0x447009(0xd3f)+(parseInt(_0x385059)+0x1)+_0x447009(0xfc)),generateQuiz(_0x53efb0,null,parseInt(_0x385059));}function getPointerPosition(_0x2930e0,_0x2a040b){const _0x349f15=_0x5be2be,_0x3c42d2=_0x2930e0['getScreenCTM']();let _0x2d0a41,_0x2c29cd;return _0x2a040b[_0x349f15(0x555)]&&_0x2a040b[_0x349f15(0x555)][_0x349f15(0x724)]>0x0?(_0x2d0a41=_0x2a040b[_0x349f15(0x555)][0x0][_0x349f15(0x9f0)],_0x2c29cd=_0x2a040b['touches'][0x0][_0x349f15(0x769)]):(_0x2d0a41=_0x2a040b[_0x349f15(0x9f0)],_0x2c29cd=_0x2a040b['clientY']),{'x':(_0x2d0a41-_0x3c42d2['e'])/_0x3c42d2['a'],'y':(_0x2c29cd-_0x3c42d2['f'])/_0x3c42d2['d']};}function startDrag(_0x10bf0e){const _0x2e34d4=_0x5be2be;_0x10bf0e[_0x2e34d4(0xd50)]==='touchstart'&&_0x10bf0e['preventDefault']();const _0x5109a0=_0x10bf0e[_0x2e34d4(0xa35)][_0x2e34d4(0xac5)]('.draggable-text');if(_0x5109a0){draggedSvgElement=_0x5109a0;const _0x214f85=draggedSvgElement[_0x2e34d4(0xdd7)],_0x2c8317=getPointerPosition(_0x214f85,_0x10bf0e);svgOffset['x']=_0x2c8317['x']-parseFloat(draggedSvgElement[_0x2e34d4(0x1ea)](null,'x')),svgOffset['y']=_0x2c8317['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0xe88018,_0x5ca50b){const _0x40f814=_0x5be2be,_0x52984f={};if(_0x5ca50b['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2e7796=[..._0x5ca50b]['sort']((_0xacf430,_0x223c87)=>{const _0x32a2ad=_0x46b4,_0x44a0d2=_0x223c87[_0x32a2ad(0x247)]-_0xacf430[_0x32a2ad(0x247)];if(_0x44a0d2!==0x0)return _0x44a0d2;const _0x2145a1=_0xacf430[_0x32a2ad(0x299)]?.['length']||0x1,_0x4e3d73=_0x223c87[_0x32a2ad(0x299)]?.[_0x32a2ad(0x724)]||0x1,_0x17666a=_0x2145a1-_0x4e3d73;if(_0x17666a!==0x0)return _0x17666a;const _0x158a36=new Date(_0xacf430[_0x32a2ad(0x1bd)]),_0xc56e1b=new Date(_0x223c87[_0x32a2ad(0x1bd)]),_0x1f1e66=_0x158a36-_0xc56e1b;if(_0x1f1e66!==0x0)return _0x1f1e66;return _0xacf430[_0x32a2ad(0x550)][_0x32a2ad(0xc7f)](_0x223c87[_0x32a2ad(0x550)],'th');}),_0x427306=_0x2e7796[_0x40f814(0x724)],_0x560438=Math['max'](0x1,Math[_0x40f814(0x211)](_0x427306*0.33));if(_0x560438===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2f2494=_0x2e7796[_0x40f814(0x647)](0x0,_0x560438),_0x386be6=_0x2e7796['slice'](-_0x560438),_0x2ae4c6=_0x2f2494['map'](_0x12e25b=>_0x12e25b[_0x40f814(0x550)]),_0x2e2814=_0x386be6['map'](_0x348ecd=>_0x348ecd[_0x40f814(0x550)]);return _0xe88018['questions']['forEach']((_0x5571ac,_0x2829d1)=>{const _0x2e3e95=_0x40f814,_0x588f8a=_0x5571ac[_0x2e3e95(0xb4a)]||_0x5571ac[_0x2e3e95(0x9b3)];let _0x43a0ed=0x0,_0x283475=0x0,_0x2f50f7=0x0;const _0x476eef=[],_0x4b7b6d=[];_0x2f2494[_0x2e3e95(0xd75)](_0x1ed453=>{const _0x4fbf8d=_0x2e3e95,_0x48de55=_0x1ed453['attempts'][_0x1ed453[_0x4fbf8d(0x299)][_0x4fbf8d(0x724)]-0x1],_0x2791bf=_0x48de55[_0x4fbf8d(0x90b)]['find'](_0x3ced2a=>_0x3ced2a[_0x4fbf8d(0x765)]===_0x588f8a);_0x476eef[_0x4fbf8d(0x633)]({'name':_0x1ed453[_0x4fbf8d(0x550)],'isCorrect':_0x2791bf?_0x2791bf['isCorrect']:![]}),_0x2791bf&&_0x2791bf[_0x4fbf8d(0xd32)]&&_0x283475++;}),_0x386be6[_0x2e3e95(0xd75)](_0x21eb6e=>{const _0x2338c6=_0x2e3e95,_0x23aefa=_0x21eb6e[_0x2338c6(0x299)][_0x21eb6e[_0x2338c6(0x299)]['length']-0x1],_0x567313=_0x23aefa[_0x2338c6(0x90b)][_0x2338c6(0x35d)](_0x2a458c=>_0x2a458c[_0x2338c6(0x765)]===_0x588f8a);_0x4b7b6d[_0x2338c6(0x633)]({'name':_0x21eb6e['studentName'],'isCorrect':_0x567313?_0x567313[_0x2338c6(0xd32)]:![]}),_0x567313&&_0x567313[_0x2338c6(0xd32)]&&_0x2f50f7++;}),_0x5ca50b[_0x2e3e95(0xd75)](_0x4f4d5d=>{const _0x358034=_0x2e3e95,_0xa5a0c2=_0x4f4d5d['attempts'][_0x4f4d5d[_0x358034(0x299)][_0x358034(0x724)]-0x1],_0x4e7f0b=_0xa5a0c2[_0x358034(0x90b)][_0x358034(0x35d)](_0x401953=>_0x401953[_0x358034(0x765)]===_0x588f8a);_0x4e7f0b&&_0x4e7f0b[_0x358034(0xd32)]&&_0x43a0ed++;});const _0xb46d71=_0x427306>0x0?_0x43a0ed/_0x427306:0x0,_0x38e91c=_0x560438>0x0?_0x283475/_0x560438-_0x2f50f7/_0x560438:0x0;_0x52984f[_0x2829d1]={'p':_0xb46d71,'r':_0x38e91c,'upperGroupResponders':_0x476eef,'lowerGroupResponders':_0x4b7b6d};}),{'perQuestionStats':_0x52984f,'overallGroups':{'upperGroupNames':_0x2ae4c6,'lowerGroupNames':_0x2e2814}};}function drag(_0x35e296){const _0x184a33=_0x5be2be;if(draggedSvgElement){_0x35e296['preventDefault']();const _0x267e4c=draggedSvgElement[_0x184a33(0xdd7)],_0x237f07=getPointerPosition(_0x267e4c,_0x35e296),_0x132a5f=_0x267e4c[_0x184a33(0x344)][_0x184a33(0x368)];let _0x88988f=_0x237f07['x']-svgOffset['x'],_0x2ceaea=_0x237f07['y']-svgOffset['y'];const _0x214ffc=draggedSvgElement[_0x184a33(0x3e9)]();_0x88988f=Math[_0x184a33(0xcf)](_0x132a5f['x'],Math['min'](_0x88988f,_0x132a5f['x']+_0x132a5f['width']-_0x214ffc[_0x184a33(0x6a7)])),_0x2ceaea=Math['max'](_0x132a5f['y'],Math[_0x184a33(0x157)](_0x2ceaea,_0x132a5f['y']+_0x132a5f[_0x184a33(0x5fe)]-_0x214ffc[_0x184a33(0x5fe)])),draggedSvgElement[_0x184a33(0xd02)](null,'x',_0x88988f),draggedSvgElement[_0x184a33(0xd02)](null,'y',_0x2ceaea);}}function endDrag(_0xd1be52){draggedSvgElement=null;}function handleSvgEditClick(_0x2fc5aa){const _0x33dc57=_0x5be2be;if(_0x2fc5aa[_0x33dc57(0xa35)][_0x33dc57(0x6f1)][_0x33dc57(0x913)]('delete-svg-btn')){const _0x4c0c7c=_0x2fc5aa['target']['dataset'][_0x33dc57(0x1b6)],_0x1fa9e5=_0x2fc5aa['currentTarget'],_0x3c141b=_0x1fa9e5[_0x33dc57(0xab2)]('#'+_0x4c0c7c);_0x3c141b&&_0x3c141b[_0x33dc57(0x7d9)](),_0x2fc5aa[_0x33dc57(0xa35)]['remove']();}}function handleEditQuestion(_0x35d361){const _0x2920b7=_0x5be2be,_0x511bb5=_0x35d361[_0x2920b7(0x53f)],_0x1efa69=_0x511bb5['dataset'][_0x2920b7(0xcb4)],_0x4eb329=currentQuizData['questions'][_0x1efa69],_0x415bee=document['getElementById'](_0x2920b7(0x710)+_0x1efa69),_0x2a5480=document[_0x2920b7(0xc4d)](_0x2920b7(0x49b)+_0x1efa69),_0x462c55=document['getElementById'](_0x2920b7(0x9a5)+_0x1efa69);if(_0x511bb5[_0x2920b7(0x40b)][_0x2920b7(0xe4a)](_0x2920b7(0x4b0))){_0x511bb5['innerHTML']=_0x2920b7(0x8af),_0x511bb5[_0x2920b7(0x869)]=_0x2920b7(0xd7d);if(_0x415bee)_0x415bee[_0x2920b7(0x1f4)]=!![];if(_0x2a5480)_0x2a5480['contentEditable']=!![];if(_0x462c55){const _0x39d7f9=_0x462c55[_0x2920b7(0xab2)]('svg');if(_0x39d7f9){const _0x879d0b=_0x39d7f9[_0x2920b7(0x760)](_0x2920b7(0x8d1));_0x879d0b[_0x2920b7(0xd75)]((_0x24041e,_0x4ec984)=>{const _0x4e7ce5=_0x2920b7,_0xa6dbf5='editable-text-'+_0x1efa69+'-'+_0x4ec984;_0x24041e['id']=_0xa6dbf5,_0x24041e[_0x4e7ce5(0x6f1)]['add'](_0x4e7ce5(0x7b8)),_0x24041e[_0x4e7ce5(0x201)][_0x4e7ce5(0x748)]=_0x4e7ce5(0x8bc);const _0x543c85=document[_0x4e7ce5(0x5a5)](_0x4e7ce5(0x2f7),_0x4e7ce5(0x709)),_0x4bd9a7=_0x24041e['getBBox']();_0x543c85[_0x4e7ce5(0x923)]('cx',String(_0x4bd9a7['x']+_0x4bd9a7[_0x4e7ce5(0x6a7)]+0x5)),_0x543c85[_0x4e7ce5(0x923)]('cy',String(_0x4bd9a7['y']+_0x4bd9a7[_0x4e7ce5(0x5fe)]/0x2-0x5)),_0x543c85[_0x4e7ce5(0x923)]('r','5'),_0x543c85['setAttribute'](_0x4e7ce5(0xa57),_0x4e7ce5(0x288)),_0x543c85['setAttribute']('class','delete-svg-btn'),_0x543c85[_0x4e7ce5(0xa2c)][_0x4e7ce5(0x1b6)]=_0xa6dbf5,_0x24041e['after'](_0x543c85);}),_0x39d7f9[_0x2920b7(0x5a2)](_0x2920b7(0x79f),startDrag),_0x39d7f9['addEventListener'](_0x2920b7(0x598),drag),_0x39d7f9['addEventListener'](_0x2920b7(0x490),endDrag),_0x39d7f9['addEventListener'](_0x2920b7(0xe19),endDrag),_0x39d7f9['addEventListener'](_0x2920b7(0xe3b),startDrag,{'passive':![]}),_0x39d7f9[_0x2920b7(0x5a2)](_0x2920b7(0x2ca),drag,{'passive':![]}),_0x39d7f9[_0x2920b7(0x5a2)]('touchend',endDrag),_0x39d7f9[_0x2920b7(0x5a2)](_0x2920b7(0xe06),endDrag),_0x39d7f9[_0x2920b7(0x5a2)](_0x2920b7(0x4f4),handleSvgEditClick);}}if(_0x415bee)_0x415bee[_0x2920b7(0xc44)]();}else{_0x511bb5[_0x2920b7(0x40b)]=_0x2920b7(0x32d),_0x511bb5['title']=_0x2920b7(0x6ca);if(_0x415bee){_0x415bee[_0x2920b7(0x1f4)]=![];const _0x280c62=_0x4eb329[_0x2920b7(0xc7b)]||currentQuizData[_0x2920b7(0xd93)];_0x280c62===_0x2920b7(0xd41)?_0x4eb329['stem']=_0x415bee['innerText'][_0x2920b7(0xaaa)](_0x415bee[_0x2920b7(0x717)][_0x2920b7(0xe5b)]('.')+0x2)[_0x2920b7(0x2ce)]():_0x4eb329[_0x2920b7(0x9b3)]=_0x415bee[_0x2920b7(0x717)][_0x2920b7(0xaaa)](_0x415bee[_0x2920b7(0x717)][_0x2920b7(0xe5b)]('.')+0x2)['trim']();}_0x2a5480&&(_0x2a5480[_0x2920b7(0x1f4)]=![],_0x4eb329[_0x2920b7(0x23c)]=_0x2a5480['innerText']);if(_0x462c55){const _0x3a5478=_0x462c55[_0x2920b7(0xab2)](_0x2920b7(0xd88));if(_0x3a5478){const _0x187737=_0x3a5478[_0x2920b7(0x686)](!![]);_0x187737[_0x2920b7(0x760)](_0x2920b7(0x577))[_0x2920b7(0xd75)](_0x3d5123=>_0x3d5123['remove']()),_0x187737['querySelectorAll']('.draggable-text')[_0x2920b7(0xd75)](_0x2f449f=>{const _0x3f6e74=_0x2920b7;_0x2f449f[_0x3f6e74(0x6f1)][_0x3f6e74(0x7d9)](_0x3f6e74(0x7b8)),_0x2f449f[_0x3f6e74(0x201)]['cursor']=_0x3f6e74(0x516),_0x2f449f[_0x3f6e74(0x5f5)]('id');}),_0x4eb329[_0x2920b7(0x145)]=_0x187737['outerHTML'],_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0x79f),startDrag),_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0x598),drag),_0x3a5478[_0x2920b7(0xdfc)]('mouseup',endDrag),_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0xe19),endDrag),_0x3a5478['removeEventListener'](_0x2920b7(0xe3b),startDrag),_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0x2ca),drag),_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0xd15),endDrag),_0x3a5478[_0x2920b7(0xdfc)](_0x2920b7(0xe06),endDrag),_0x3a5478['removeEventListener'](_0x2920b7(0x4f4),handleSvgEditClick),_0x3a5478[_0x2920b7(0x760)]('.delete-svg-btn')[_0x2920b7(0xd75)](_0x5ea3fc=>_0x5ea3fc['remove']()),_0x3a5478[_0x2920b7(0x760)]('.draggable-text')['forEach'](_0x379a59=>{const _0x3d7f64=_0x2920b7;_0x379a59['classList'][_0x3d7f64(0x7d9)]('draggable-text'),_0x379a59[_0x3d7f64(0x201)][_0x3d7f64(0x748)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2addd2){const _0x26ad71=_0x5be2be,_0x296dba=document[_0x26ad71(0xc4d)](_0x26ad71(0x30a)),_0x9b466=document[_0x26ad71(0xc4d)](_0x26ad71(0x47e));_0x9b466[_0x26ad71(0x40b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x296dba[_0x26ad71(0x6f1)][_0x26ad71(0x7d9)](_0x26ad71(0x476));try{const _0x346086=doc(db,_0x26ad71(0x6e9)+appId+_0x26ad71(0x42c),_0x2addd2),_0x3ad6a7=await getDoc(_0x346086);if(!_0x3ad6a7[_0x26ad71(0x509)]())throw new Error(_0x26ad71(0xba9));currentEditingQuizData={'id':_0x2addd2,..._0x3ad6a7[_0x26ad71(0x1de)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x30fc3d){console[_0x26ad71(0x339)](_0x26ad71(0xe30),_0x30fc3d),showMessage(_0x26ad71(0x68b)),_0x296dba[_0x26ad71(0x6f1)][_0x26ad71(0x648)](_0x26ad71(0x476));}}function renderQuizEditor(_0x2a5d8e){const _0x9603f9=_0x5be2be;document[_0x9603f9(0xc4d)](_0x9603f9(0x259))[_0x9603f9(0x1ce)]=_0x2a5d8e['topic'];const _0x49d472=document[_0x9603f9(0xc4d)](_0x9603f9(0x47e));let _0x3169eb=_0x2a5d8e[_0x9603f9(0xb1f)][_0x9603f9(0x546)]((_0x3e7c2e,_0x22f7e8)=>{const _0x5a7f2f=_0x9603f9;let _0x10eb72='';const _0x36af12=_0x3e7c2e[_0x5a7f2f(0xc7b)]||_0x2a5d8e['quizType'],_0x3d75d7=(_0x36af12===_0x5a7f2f(0x738)||_0x36af12===_0x5a7f2f(0xa13))&&_0x3e7c2e[_0x5a7f2f(0xa3c)]&&_0x3e7c2e[_0x5a7f2f(0xa3c)][_0x5a7f2f(0x724)]>0x0;switch(_0x36af12){case _0x5a7f2f(0x807):const _0x240da9=(_0x3e7c2e[_0x5a7f2f(0xa3c)]||[])[_0x5a7f2f(0x546)]((_0x351b72,_0x37947a)=>_0x5a7f2f(0x4da)+_0x22f7e8+_0x5a7f2f(0x320)+_0x37947a+'\x22\x20'+(_0x37947a===_0x3e7c2e[_0x5a7f2f(0x6cf)]?_0x5a7f2f(0x315):'')+_0x5a7f2f(0xd0f)+_0x351b72+_0x5a7f2f(0xad7))[_0x5a7f2f(0x625)]('');_0x10eb72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x240da9+_0x5a7f2f(0x8ff);break;case'fill_in_no_choices':case _0x5a7f2f(0x738):_0x10eb72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3e7c2e['idealAnswer']||'')+_0x5a7f2f(0x745);if(_0x3d75d7){const _0x5bccc6=(_0x3e7c2e['options']||[])[_0x5a7f2f(0x546)]((_0x5e33a2,_0x282176)=>_0x5a7f2f(0x3bc)+_0x22f7e8+'\x22\x20value=\x22'+_0x282176+'\x22\x20'+(_0x282176===_0x3e7c2e[_0x5a7f2f(0x6cf)]?_0x5a7f2f(0x315):'')+_0x5a7f2f(0x6dd)+_0x5e33a2+_0x5a7f2f(0xbb1))[_0x5a7f2f(0x625)]('');_0x10eb72+=_0x5a7f2f(0x977)+_0x5bccc6+_0x5a7f2f(0x347);}break;case _0x5a7f2f(0xd99):_0x10eb72=_0x5a7f2f(0xcf4)+_0x22f7e8+_0x5a7f2f(0xa02)+(_0x3e7c2e[_0x5a7f2f(0x66a)]===!![]?_0x5a7f2f(0x315):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x22f7e8+'\x22\x20value=\x22false\x22\x20'+(_0x3e7c2e[_0x5a7f2f(0x66a)]===![]?_0x5a7f2f(0x315):'')+_0x5a7f2f(0xbb2);break;case _0x5a7f2f(0xd41):_0x10eb72=_0x5a7f2f(0x631)+(_0x3e7c2e[_0x5a7f2f(0xa3a)]||'')+_0x5a7f2f(0xbb4);break;}let _0x3c2ad4=_0x3e7c2e[_0x5a7f2f(0x9b3)]||_0x3e7c2e['stem']||'';_0x3c2ad4=_0x3c2ad4[_0x5a7f2f(0x6c0)](/<br\s*\/?>/gi,'\x0a');let _0x36edab='';if(_0x36af12==='multiple_choice')_0x36edab=_0x5a7f2f(0x880);else _0x3d75d7&&(_0x36edab=_0x5a7f2f(0xd1e));return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x22f7e8+_0x5a7f2f(0x250)+_0x36af12+_0x5a7f2f(0x805)+_0x36edab+_0x5a7f2f(0xca5)+(_0x22f7e8+0x1)+'\x20('+_0x36af12+_0x5a7f2f(0x593)+_0x3c2ad4+_0x5a7f2f(0x5bc)+_0x10eb72+_0x5a7f2f(0xd4);})['join']('');_0x49d472[_0x9603f9(0x40b)]=_0x3169eb;const _0x52f0f6=_0x9603f9(0x999);_0x49d472['insertAdjacentHTML'](_0x9603f9(0xd66),_0x52f0f6),_0x49d472['querySelectorAll'](_0x9603f9(0x735))[_0x9603f9(0xd75)](_0x45d002=>{const _0x1e32f5=_0x9603f9;_0x45d002[_0x1e32f5(0x201)][_0x1e32f5(0x6a9)]='hidden',_0x45d002[_0x1e32f5(0x201)][_0x1e32f5(0x7ae)]=_0x1e32f5(0x50b),_0x45d002[_0x1e32f5(0xc65)]=0x4;const _0x1af727=()=>{const _0x49ff6a=_0x1e32f5;_0x45d002[_0x49ff6a(0x201)][_0x49ff6a(0x5fe)]=_0x49ff6a(0x28e),_0x45d002[_0x49ff6a(0x201)][_0x49ff6a(0x5fe)]=_0x45d002[_0x49ff6a(0xa8f)]+'px';};_0x45d002[_0x1e32f5(0x5a2)](_0x1e32f5(0xce9),_0x1af727),_0x1af727();}),_0x49d472['querySelectorAll'](_0x9603f9(0x538))[_0x9603f9(0xd75)](_0x291cb2=>{const _0x1a9457=_0x9603f9;_0x291cb2[_0x1a9457(0x5a2)](_0x1a9457(0x4f4),handleAiFixQuestion);}),_0x49d472['querySelectorAll']('.ai-fix-formula-btn')[_0x9603f9(0xd75)](_0x119e89=>{const _0x109063=_0x9603f9;_0x119e89['addEventListener'](_0x109063(0x4f4),_0x2490b7=>{const _0x27c438=_0x109063,_0x5ba52a=parseInt(_0x2490b7['currentTarget'][_0x27c438(0xac5)](_0x27c438(0x196))[_0x27c438(0xa2c)]['qIndex'],0xa);handleAiFixFormula(_0x5ba52a);});}),_0x49d472['querySelectorAll'](_0x9603f9(0xb89))[_0x9603f9(0xd75)](_0xcaa775=>{const _0x3c748b=_0x9603f9;_0xcaa775[_0x3c748b(0x5a2)](_0x3c748b(0x4f4),_0x48d472=>{const _0xe8d0b8=_0x3c748b,_0x355e2a=parseInt(_0x48d472['currentTarget']['closest'](_0xe8d0b8(0x196))[_0xe8d0b8(0xa2c)]['qIndex'],0xa);handleToggleHiddenOptions(_0x355e2a);});});}function handleToggleHiddenOptions(_0x556bea){const _0x2f06d8=_0x5be2be;if(!currentEditingQuizData||!currentEditingQuizData[_0x2f06d8(0xb1f)][_0x556bea])return;const _0xe55af=currentEditingQuizData[_0x2f06d8(0xb1f)][_0x556bea],_0x284391=_0xe55af['questionType']||_0x2f06d8(0x807),_0x1ca6b3=document[_0x2f06d8(0xab2)](_0x2f06d8(0xc57)+_0x556bea+'\x22]');if(_0x1ca6b3){_0xe55af['questionText']=_0x1ca6b3[_0x2f06d8(0xab2)]('textarea')['value'];if(_0x284391===_0x2f06d8(0x807)){const _0x11650c=_0x1ca6b3[_0x2f06d8(0x760)]('.option-input');_0xe55af[_0x2f06d8(0xa3c)]=Array[_0x2f06d8(0xe6)](_0x11650c)[_0x2f06d8(0x546)](_0x15fb09=>_0x15fb09[_0x2f06d8(0x1ce)]);const _0x56bdb2=_0x1ca6b3[_0x2f06d8(0xab2)](_0x2f06d8(0xad4));if(_0x56bdb2)_0xe55af['correctAnswerIndex']=parseInt(_0x56bdb2['value']);}else{if(_0x284391===_0x2f06d8(0x738)||_0x284391===_0x2f06d8(0xa13)){const _0x1d473c=_0x1ca6b3[_0x2f06d8(0xab2)](_0x2f06d8(0x8ec));if(_0x1d473c)_0xe55af[_0x2f06d8(0x1d8)]=_0x1d473c['value'];const _0x20a82f=_0x1ca6b3[_0x2f06d8(0x760)](_0x2f06d8(0x43f));_0x20a82f[_0x2f06d8(0x724)]>0x0&&(_0xe55af[_0x2f06d8(0xa3c)]=Array['from'](_0x20a82f)[_0x2f06d8(0x546)](_0x478583=>_0x478583[_0x2f06d8(0x1ce)]));}}}_0x284391===_0x2f06d8(0x807)?(_0xe55af[_0x2f06d8(0xc7b)]='short_answer',_0xe55af[_0x2f06d8(0xa3c)]&&_0xe55af[_0x2f06d8(0x6cf)]!==undefined&&(_0xe55af[_0x2f06d8(0x1d8)]=_0xe55af[_0x2f06d8(0xa3c)][_0xe55af['correctAnswerIndex']]||'')):_0xe55af[_0x2f06d8(0xc7b)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x1848e2){const _0x32001a=_0x5be2be;if(!currentEditingQuizData||!currentEditingQuizData[_0x32001a(0xb1f)][_0x1848e2])return;const _0x6e3853=currentEditingQuizData[_0x32001a(0xb1f)][_0x1848e2]['questionText']||currentEditingQuizData[_0x32001a(0xb1f)][_0x1848e2]['stem'];showConfirmation(_0x32001a(0x518)+(_0x1848e2+0x1)+_0x32001a(0xf9)+_0x6e3853[_0x32001a(0xaaa)](0x0,0x14)+_0x32001a(0xbe8),()=>{const _0x5d664c=_0x32001a;currentEditingQuizData[_0x5d664c(0xb1f)]['splice'](_0x1848e2,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x5d664c(0x219));});}function handleAddQuestionInEditor(){const _0x1a39c7=_0x5be2be;if(!currentEditingQuizData)return;const _0x3f3678=document[_0x1a39c7(0xc4d)](_0x1a39c7(0x9ff)),_0x592a2c=_0x3f3678?_0x3f3678[_0x1a39c7(0x1ce)]:_0x1a39c7(0x807);let _0x394a22={'id':'q_'+Date[_0x1a39c7(0xe3e)]()+_0x1a39c7(0xb5e),'questionType':_0x592a2c,'questionText':_0x1a39c7(0xbd7),'explanation':_0x1a39c7(0x8e3)};switch(_0x592a2c){case _0x1a39c7(0x807):_0x394a22[_0x1a39c7(0xa3c)]=[_0x1a39c7(0x383),_0x1a39c7(0x4bc),_0x1a39c7(0x5d5),_0x1a39c7(0x3b4)],_0x394a22[_0x1a39c7(0x6cf)]=0x0;break;case'short_answer':case'fill_in_no_choices':_0x394a22[_0x1a39c7(0x1d8)]=_0x1a39c7(0xa72);break;case _0x1a39c7(0xd99):_0x394a22[_0x1a39c7(0x66a)]=!![];break;case _0x1a39c7(0xd41):_0x394a22[_0x1a39c7(0xb4a)]='คำถาม...',_0x394a22[_0x1a39c7(0xa3a)]='คู่คำตอบ...',_0x394a22[_0x1a39c7(0x9b3)]=_0x1a39c7(0x1ff);break;}currentEditingQuizData[_0x1a39c7(0xb1f)][_0x1a39c7(0x633)](_0x394a22),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x177907=_0x1a39c7,_0x9895f7=document['querySelector']('.question-editor-item:last-of-type');if(_0x9895f7){_0x9895f7['scrollIntoView']({'behavior':_0x177907(0xe2f),'block':_0x177907(0x2b3)});const _0x50763b=_0x9895f7[_0x177907(0xab2)](_0x177907(0x465));if(_0x50763b)_0x50763b[_0x177907(0xc44)]();}},0x64);}async function handleAiFixQuestion(_0x4d00f7){const _0x2e144d=_0x5be2be,_0xd60efd=_0x4d00f7['currentTarget'],_0x3f3974=_0xd60efd['closest']('.question-editor-item');if(!_0x3f3974)return;const _0x42c9b5=parseInt(_0x3f3974[_0x2e144d(0xa2c)][_0x2e144d(0x4ec)],0xa);if(isNaN(_0x42c9b5)||!currentEditingQuizData[_0x2e144d(0xb1f)][_0x42c9b5]){showMessage(_0x2e144d(0xe07));return;}const _0x2a3391=currentEditingQuizData['questions'][_0x42c9b5];_0xd60efd['innerHTML']=_0x2e144d(0x651),_0xd60efd[_0x2e144d(0xbb3)]=!![];const _0x332272=_0x2e144d(0xe11)+JSON[_0x2e144d(0x3f3)](_0x2a3391)+_0x2e144d(0x464);let _0xeb97dc;const _0x3e8615=_0x2a3391[_0x2e144d(0xc7b)]||currentEditingQuizData[_0x2e144d(0xd93)];switch(_0x3e8615){case _0x2e144d(0x738):_0xeb97dc={'type':_0x2e144d(0x496),'properties':{'questionText':{'type':_0x2e144d(0x179)},'idealAnswer':{'type':_0x2e144d(0x179)},'explanation':{'type':_0x2e144d(0x179)},'imageCode':{'type':_0x2e144d(0x179)}},'required':['questionText','idealAnswer',_0x2e144d(0x23c)]};break;case _0x2e144d(0x807):default:_0xeb97dc={'type':_0x2e144d(0x496),'properties':{'questionText':{'type':_0x2e144d(0x179)},'options':{'type':_0x2e144d(0xbdb),'items':{'type':_0x2e144d(0x179)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2e144d(0x179)},'imageCode':{'type':'STRING'}},'required':[_0x2e144d(0x9b3),'options','correctAnswerIndex','explanation']};break;}try{let _0x3f3987=await callAnalysisApi(_0x332272,_0xeb97dc);_0x3f3987['options']&&Array[_0x2e144d(0x228)](_0x3f3987['options'])&&(_0x3f3987[_0x2e144d(0xa3c)]=_0x3f3987[_0x2e144d(0xa3c)][_0x2e144d(0x546)](_0x2b5b25=>typeof _0x2b5b25===_0x2e144d(0xa4b)?_0x2b5b25['replace'](/S(\s*[\d_]+?\s*)S/g,_0x2e144d(0xc74)):_0x2b5b25)),_0x2a3391['imageCode']&&_0x2a3391['imageCode'][_0x2e144d(0xe4a)](_0x2e144d(0x5a1))&&(_0x3f3987[_0x2e144d(0x145)]=''),currentEditingQuizData[_0x2e144d(0xb1f)][_0x42c9b5]={..._0x2a3391,..._0x3f3987},renderQuizEditor(currentEditingQuizData),showMessage(_0x2e144d(0x2d4));}catch(_0x24dddc){console[_0x2e144d(0x339)](_0x2e144d(0x6be),_0x24dddc),showMessage(_0x2e144d(0xaf8)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xe00801=_0x5be2be,_0x2b5c2a=document[_0xe00801(0xc4d)](_0xe00801(0x5b3));_0x2b5c2a[_0xe00801(0xbb3)]=!![],_0x2b5c2a['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3f8265=document[_0xe00801(0xc4d)](_0xe00801(0x259))['value'],_0x31cf85=document[_0xe00801(0x760)](_0xe00801(0x196));let _0x3c36d3=[];const _0x1e45ca=Array[_0xe00801(0xe6)](_0x31cf85)[_0xe00801(0x546)]((_0x8a8e29,_0x2ca5c6)=>{const _0x47fdb4=_0xe00801,_0x107799=_0x8a8e29[_0x47fdb4(0xa2c)]['qType'],_0x12b307=_0x8a8e29[_0x47fdb4(0xab2)]('textarea')[_0x47fdb4(0x1ce)][_0x47fdb4(0x6c0)](/\n/g,_0x47fdb4(0x8c5));let _0x415e0c={'questionType':_0x107799};const _0x4d69b1=currentEditingQuizData[_0x47fdb4(0xb1f)][_0x2ca5c6]||{};switch(_0x107799){case'multiple_choice':_0x415e0c[_0x47fdb4(0x9b3)]=_0x12b307;const _0x8c184f=_0x8a8e29['querySelectorAll'](_0x47fdb4(0xd84));_0x415e0c[_0x47fdb4(0xa3c)]=Array['from'](_0x8c184f)[_0x47fdb4(0x546)](_0x23cbb6=>_0x23cbb6[_0x47fdb4(0x1ce)]);const _0x3787b5=_0x8a8e29[_0x47fdb4(0xab2)](_0x47fdb4(0xad4));_0x415e0c[_0x47fdb4(0x6cf)]=_0x3787b5?parseInt(_0x3787b5[_0x47fdb4(0x1ce)]):0x0;break;case _0x47fdb4(0xa13):case'short_answer':_0x415e0c['questionText']=_0x12b307,_0x415e0c[_0x47fdb4(0x1d8)]=_0x8a8e29[_0x47fdb4(0xab2)](_0x47fdb4(0x8ec))[_0x47fdb4(0x1ce)];const _0x2ea095=_0x8a8e29[_0x47fdb4(0x760)]('.hidden-option-input');_0x2ea095['length']>0x0?(_0x415e0c[_0x47fdb4(0xa3c)]=Array[_0x47fdb4(0xe6)](_0x2ea095)[_0x47fdb4(0x546)](_0x102a48=>_0x102a48[_0x47fdb4(0x1ce)]),_0x4d69b1[_0x47fdb4(0x6cf)]!==undefined?_0x415e0c[_0x47fdb4(0x6cf)]=_0x4d69b1['correctAnswerIndex']:_0x415e0c[_0x47fdb4(0x6cf)]=0x0):(delete _0x415e0c[_0x47fdb4(0xa3c)],delete _0x415e0c[_0x47fdb4(0x6cf)]);break;case _0x47fdb4(0xd99):_0x415e0c[_0x47fdb4(0x9b3)]=_0x12b307;const _0x295af0=_0x8a8e29[_0x47fdb4(0xab2)](_0x47fdb4(0xad4));_0x415e0c['correctAnswer']=_0x295af0?_0x295af0[_0x47fdb4(0x1ce)]===_0x47fdb4(0xe16):!![];break;case _0x47fdb4(0xd41):_0x415e0c[_0x47fdb4(0xb4a)]=_0x12b307;const _0x2a17ba=_0x8a8e29[_0x47fdb4(0xab2)](_0x47fdb4(0xfd));_0x415e0c['correctResponse']=_0x2a17ba?_0x2a17ba[_0x47fdb4(0x1ce)]:'',_0x3c36d3[_0x47fdb4(0x633)](_0x415e0c[_0x47fdb4(0xa3a)]);break;default:_0x415e0c[_0x47fdb4(0x9b3)]=_0x12b307;break;}return{..._0x4d69b1,..._0x415e0c};});_0x3c36d3[_0xe00801(0x724)]>0x0&&_0x1e45ca['forEach'](_0x40ebae=>{const _0x4e51ab=_0xe00801;_0x40ebae['questionType']===_0x4e51ab(0xd41)&&(_0x40ebae['allResponses']=_0x3c36d3);});const _0x454aca=currentEditingQuizData['id'],_0x146130=doc(db,_0xe00801(0x6e9)+appId+_0xe00801(0x42c),_0x454aca);await updateDoc(_0x146130,{'topic':_0x3f8265,'questions':_0x1e45ca}),document['getElementById']('quiz-editor-modal')[_0xe00801(0x6f1)][_0xe00801(0x648)](_0xe00801(0x476)),showMessage(_0xe00801(0x549),()=>initiateReGradeProcess(_0x454aca));}catch(_0x58a5b5){console[_0xe00801(0x339)](_0xe00801(0xac2),_0x58a5b5),showMessage(_0xe00801(0x979));}finally{_0x2b5c2a['disabled']=![],_0x2b5c2a[_0xe00801(0x40b)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x2929d4){const _0x5b77df=_0x5be2be;showMessage(_0x5b77df(0xb23));try{const _0x40b442=doc(db,'artifacts/'+appId+_0x5b77df(0x42c),_0x2929d4),_0xfd51e0=await getDoc(_0x40b442);if(!_0xfd51e0['exists']())throw new Error(_0x5b77df(0xe33));const _0x2ff5f0={'id':_0x2929d4,..._0xfd51e0[_0x5b77df(0x1de)]()},_0x66efc3=collection(db,'artifacts/'+appId+_0x5b77df(0x42c),_0x2929d4,_0x5b77df(0x669)),_0xd94637=await getDocs(_0x66efc3);if(_0xd94637['empty']){showMessage(_0x5b77df(0x862));return;}const _0x188b03=_0xd94637[_0x5b77df(0x2b9)][_0x5b77df(0x546)](_0x1cbedc=>reGradeSingleSubmission(_0x1cbedc,_0x2ff5f0));await Promise['all'](_0x188b03);if(_0x2ff5f0[_0x5b77df(0xbb0)]){const _0x2587bf=doc(db,_0x5b77df(0x6e9)+appId+_0x5b77df(0x9b0),_0x2ff5f0['projectId']),_0x3480d7=await getDoc(_0x2587bf);if(_0x3480d7[_0x5b77df(0x509)]()&&_0x3480d7[_0x5b77df(0x1de)]()[_0x5b77df(0x94c)]){const _0x1277b9=_0x3480d7[_0x5b77df(0x1de)]()[_0x5b77df(0x94c)][_0x5b77df(0x546)](_0x4fef72=>updateStudentProfile(_0x2ff5f0['projectId'],_0x4fef72));await Promise['all'](_0x1277b9);}}showMessage('ตรวจคะแนนใหม่\x20'+_0xd94637[_0x5b77df(0xa01)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x308813){console['error'](_0x5b77df(0x9f7),_0x308813),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x308813[_0x5b77df(0xba5)]);}}async function reGradeSingleSubmission(_0x4f4a9a,_0x3d01db){const _0x2ab71f=_0x5be2be,_0x548d97=_0x4f4a9a[_0x2ab71f(0x1de)](),_0x3f0dd7=_0x548d97['studentName'],_0x267740=_0x548d97['attempts']||[],_0x4f35a8=[];for(const _0x5cebc5 of _0x267740){let _0x2c2d01=0x0,_0x50f92c=[],_0x22f956=0x0;const _0x4f976c=[];for(const _0x4ea6e2 of _0x5cebc5[_0x2ab71f(0x90b)]){let _0xc62a79;_0x4ea6e2[_0x2ab71f(0x6d7)]&&(_0xc62a79=_0x3d01db[_0x2ab71f(0xb1f)][_0x2ab71f(0x35d)](_0x141cbe=>_0x141cbe['id']===_0x4ea6e2[_0x2ab71f(0x6d7)]));!_0xc62a79&&_0x4ea6e2['originalQuestionText']&&(_0xc62a79=_0x3d01db[_0x2ab71f(0xb1f)]['find'](_0x1ab5a1=>(_0x1ab5a1['stem']||_0x1ab5a1[_0x2ab71f(0x9b3)])===_0x4ea6e2[_0x2ab71f(0x765)]));let _0x209bf5=![];if(_0xc62a79){const _0x2191cc=_0xc62a79['questionType']||_0x3d01db[_0x2ab71f(0xd93)];switch(_0x2191cc){case'multiple_choice':if(_0xc62a79[_0x2ab71f(0xa3c)]&&_0xc62a79[_0x2ab71f(0x6cf)]<_0xc62a79[_0x2ab71f(0xa3c)][_0x2ab71f(0x724)]){const _0x2231a3=_0xc62a79['options'][_0xc62a79['correctAnswerIndex']];_0x209bf5=_0x4ea6e2[_0x2ab71f(0xc47)]===_0x2231a3;}break;case _0x2ab71f(0xd99):const _0x21c5aa=_0x4ea6e2[_0x2ab71f(0x903)]===!![]||_0x4ea6e2[_0x2ab71f(0x903)]===_0x2ab71f(0xe16);_0x209bf5=_0x21c5aa===_0xc62a79['correctAnswer'];break;case _0x2ab71f(0xd41):_0x209bf5=_0x4ea6e2[_0x2ab71f(0x903)]===_0xc62a79[_0x2ab71f(0xa3a)];break;case'short_answer':_0x209bf5=await gradeShortAnswer(_0x4ea6e2[_0x2ab71f(0x903)],_0xc62a79);break;default:_0x209bf5=_0x4ea6e2[_0x2ab71f(0xd32)];break;}}if(_0x209bf5){_0x2c2d01++,_0x22f956++;if(_0x22f956===0x3)_0x50f92c[_0x2ab71f(0x633)](BADGES[_0x2ab71f(0xd5a)]['id']);}else _0x22f956=0x0;_0x4f976c[_0x2ab71f(0x633)]({..._0x4ea6e2,'isCorrect':_0x209bf5});}let _0x374584=0x0;const _0x407026=_0x5cebc5['isSyncGame']===!![]||_0x5cebc5['points']>_0x3d01db[_0x2ab71f(0xb1f)]['length']*0x14;_0x407026?_0x374584=_0x5cebc5[_0x2ab71f(0xd6c)]:(_0x374584=_0x2c2d01*0xa,_0x2c2d01===_0x3d01db['questions'][_0x2ab71f(0x724)]&&(_0x374584+=0x32,_0x50f92c[_0x2ab71f(0x633)](BADGES[_0x2ab71f(0x17a)]['id']))),_0x4f35a8['push']({..._0x5cebc5,'score':_0x2c2d01,'points':_0x374584,'badges':Array[_0x2ab71f(0xe6)](new Set(_0x50f92c)),'answers':_0x4f976c});}const _0x965d8b=_0x4f35a8['length']>0x0?_0x4f35a8[0x0][_0x2ab71f(0x82f)]:0x0,_0x107dd0=Math[_0x2ab71f(0xcf)](..._0x4f35a8[_0x2ab71f(0x546)](_0x3dc4cd=>_0x3dc4cd['score'])),_0x4e9d1d=_0x4f35a8[_0x2ab71f(0x724)]>0x0?_0x4f35a8[_0x4f35a8['length']-0x1]['score']:0x0,_0x1e4599=_0x4f35a8[_0x2ab71f(0x724)]>0x0?_0x4f35a8[_0x4f35a8[_0x2ab71f(0x724)]-0x1][_0x2ab71f(0xd6c)]:0x0,_0x1ab022=doc(db,'artifacts/'+appId+_0x2ab71f(0x363)+_0x3d01db['id']+_0x2ab71f(0x3e4),_0x3f0dd7);await updateDoc(_0x1ab022,{'attempts':_0x4f35a8,'firstScore':_0x965d8b,'bestScore':_0x107dd0,'latestScore':_0x4e9d1d,'points':_0x1e4599});}function cleanupQuizOptions(_0x1c368a){const _0x2a3801=_0x5be2be,_0x2acef7=(_0x116126,_0x5b3dd8)=>_0x5b3dd8===0x0?_0x116126:_0x2acef7(_0x5b3dd8,_0x116126%_0x5b3dd8),_0x122fba=_0x1df131=>{const _0x676fae=_0x46b4;if(typeof _0x1df131!==_0x676fae(0xa4b))return null;_0x1df131=_0x1df131['trim']();const _0x4d055e=_0x1df131[_0x676fae(0xcb0)](/[ /]/)[_0x676fae(0x6e1)](_0x563efd=>_0x563efd!=='');if(_0x4d055e[_0x676fae(0x724)]===0x3)return parseInt(_0x4d055e[0x0])+parseInt(_0x4d055e[0x1])/parseInt(_0x4d055e[0x2]);else{if(_0x4d055e['length']===0x2)return parseInt(_0x4d055e[0x0])/parseInt(_0x4d055e[0x1]);else{if(_0x4d055e[_0x676fae(0x724)]===0x1&&!isNaN(_0x4d055e[0x0]))return parseFloat(_0x4d055e[0x0]);}}return null;},_0x2b2329=_0x3ed9fa=>{const _0x27ebf0=_0x46b4;if(typeof _0x3ed9fa!==_0x27ebf0(0xa4b))return _0x3ed9fa;const _0x5e1237=_0x3ed9fa[_0x27ebf0(0x66c)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5e1237){const _0x2b5cec=parseInt(_0x5e1237[0x1]);let _0xf78491=parseInt(_0x5e1237[0x2]),_0x3011a6=parseInt(_0x5e1237[0x3]);const _0x2d663b=_0x2acef7(_0xf78491,_0x3011a6);_0xf78491/=_0x2d663b,_0x3011a6/=_0x2d663b;if(_0x3011a6===0x1)return(_0x2b5cec+_0xf78491)[_0x27ebf0(0x386)]();return _0x2b5cec+'\x20'+_0xf78491+'/'+_0x3011a6;}return _0x3ed9fa;};return _0x1c368a&&_0x1c368a['questions']&&_0x1c368a[_0x2a3801(0xb1f)]['forEach'](_0x59e114=>{const _0x1c87d5=_0x2a3801;if(_0x59e114[_0x1c87d5(0xc7b)]===_0x1c87d5(0x807)&&_0x59e114[_0x1c87d5(0xa3c)]){const _0x46135e=new Map(),_0x52dc08=_0x59e114[_0x1c87d5(0xa3c)][_0x59e114['correctAnswerIndex']];_0x59e114[_0x1c87d5(0xa3c)][_0x1c87d5(0xd75)](_0x1c6f01=>{const _0x53c09b=_0x1c87d5,_0x565299=_0x2b2329(_0x1c6f01),_0x2cded6=_0x122fba(_0x565299);_0x2cded6!==null&&!_0x46135e['has'](_0x2cded6)&&_0x46135e[_0x53c09b(0xc51)](_0x2cded6,_0x565299);}),_0x59e114[_0x1c87d5(0xa3c)]=Array[_0x1c87d5(0xe6)](_0x46135e['values']());const _0x4c9fa4=_0x59e114[_0x1c87d5(0xa3c)][_0x1c87d5(0xac3)](_0x530887=>_0x530887===_0x2b2329(_0x52dc08));_0x59e114[_0x1c87d5(0x6cf)]=_0x4c9fa4!==-0x1?_0x4c9fa4:0x0;}}),_0x1c368a;}function showGameStartConfirmationModal(_0x4fa98b,_0x203f13,_0x154d9e){const _0x5c6107=_0x5be2be,_0x926c8f=document[_0x5c6107(0xc4d)](_0x5c6107(0x9b6));document['getElementById'](_0x5c6107(0x773))['textContent']='เริ่มกิจกรรม:\x20'+_0x154d9e,document['getElementById'](_0x5c6107(0x87d))[_0x5c6107(0x1ce)]=_0x4fa98b,document['getElementById']('game-start-mode')['value']=_0x203f13,document[_0x5c6107(0xc4d)](_0x5c6107(0x962))[_0x5c6107(0x315)]=!![];const _0x55a9b0=document[_0x5c6107(0xc4d)](_0x5c6107(0x57f)),_0x5e596e=document[_0x5c6107(0xc4d)](_0x5c6107(0x1c8)),_0x52cd7a=document['getElementById']('sync-timer-duration-container'),_0x5e924a=document[_0x5c6107(0xc4d)]('black-market-settings-container'),_0xae6976=document[_0x5c6107(0xc4d)](_0x5c6107(0x837));if(_0x203f13==='sync'){_0x55a9b0[_0x5c6107(0x6f1)][_0x5c6107(0x7d9)]('hidden');const _0x45761d='anonymous';document[_0x5c6107(0xab2)](_0x5c6107(0xafd)+_0x45761d+'\x22]')['checked']=!![];if(_0xae6976)_0xae6976[_0x5c6107(0x6f1)][_0x5c6107(0x7d9)](_0x5c6107(0x476));_0x5e596e[_0x5c6107(0x315)]=!![],_0x52cd7a[_0x5c6107(0x6f1)][_0x5c6107(0x7d9)](_0x5c6107(0x476)),document[_0x5c6107(0xc4d)](_0x5c6107(0x3f4))[_0x5c6107(0x1ce)]='300',_0x5e924a[_0x5c6107(0x6f1)]['remove'](_0x5c6107(0x476)),document[_0x5c6107(0xc4d)]('enable-black-market-checkbox')[_0x5c6107(0x315)]=!![];}else{_0x55a9b0[_0x5c6107(0x6f1)][_0x5c6107(0x648)](_0x5c6107(0x476));if(_0xae6976)_0xae6976['classList'][_0x5c6107(0x648)](_0x5c6107(0x476));_0x5e596e[_0x5c6107(0x315)]=![],_0x52cd7a[_0x5c6107(0x6f1)]['add']('hidden'),_0x5e924a[_0x5c6107(0x6f1)]['add']('hidden');}_0x926c8f[_0x5c6107(0x6f1)]['remove'](_0x5c6107(0x476));}async function saveGameResultsAsSubmissions(_0x289925){const _0x331576=_0x5be2be;if(_0x289925[_0x331576(0x426)]){console[_0x331576(0xbe2)]('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console[_0x331576(0xbe2)](_0x331576(0x3dc),_0x289925);const _0x514747=_0x289925[_0x331576(0x939)];let _0x3f09fd=[];if(_0x289925[_0x331576(0xda5)])_0x3f09fd=Object[_0x331576(0xb11)](_0x289925[_0x331576(0xda5)])[_0x331576(0x546)](([_0xbc1d7d,_0x1fb907])=>({'name':_0xbc1d7d,..._0x1fb907}));else{if(_0x289925['groups'])Object['values'](_0x289925[_0x331576(0x8ac)])[_0x331576(0xd75)](_0x34d40e=>{const _0x5e7a2f=_0x331576;_0x34d40e[_0x5e7a2f(0x8dc)]['forEach'](_0x2c4b5c=>{const _0x32e90c=_0x5e7a2f;_0x3f09fd[_0x32e90c(0x633)]({'name':_0x2c4b5c,'score':_0x34d40e[_0x32e90c(0x82f)],'answers':_0x34d40e[_0x32e90c(0x90b)]});});});else _0x289925['responses']&&Object[_0x331576(0xb11)](_0x289925[_0x331576(0x3b7)])[_0x331576(0xd75)](([_0x3ef4b9,_0xea2f82])=>{const _0xa60490=_0x331576;_0x3f09fd[_0xa60490(0x633)]({'name':_0x3ef4b9,..._0xea2f82});});}if(_0x3f09fd[_0x331576(0x724)]===0x0){console['warn'](_0x331576(0x438));return;}const _0x2826c8=_0x289925[_0x331576(0x1c4)]?.[_0x331576(0xb1f)][_0x331576(0x724)]||currentQuizData[_0x331576(0xb1f)]['length'],_0x2411a0=writeBatch(db);for(const _0x2d9a1b of _0x3f09fd){const _0x451489=doc(db,'artifacts/'+appId+_0x331576(0x363)+_0x514747+_0x331576(0x3e4),_0x2d9a1b['name']),_0x385823=(_0x2d9a1b[_0x331576(0x90b)]||[])[_0x331576(0x6e1)](_0x1e8d70=>_0x1e8d70[_0x331576(0xd32)])[_0x331576(0x724)];let _0x536233=_0x2d9a1b['totalPoints']!==undefined?_0x2d9a1b[_0x331576(0x670)]:_0x385823,_0x511488=_0x2d9a1b[_0x331576(0x84f)]||[];_0x385823===_0x2826c8&&_0x2826c8>0x0&&(!_0x511488['includes'](_0x331576(0x838))&&_0x511488[_0x331576(0x633)](_0x331576(0x838)));const _0x9b32a2={'score':_0x385823,'points':_0x536233,'badges':_0x511488,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x2d9a1b[_0x331576(0x90b)]||[])[_0x331576(0x546)](_0x2b51dd=>({'questionId':_0x2b51dd['questionId'],'answer':_0x2b51dd[_0x331576(0x903)],'answerText':_0x2b51dd['answerText'],'isCorrect':_0x2b51dd[_0x331576(0xd32)],'originalQuestionText':_0x2b51dd['originalQuestionText'],'wasConfident':_0x2b51dd[_0x331576(0x6a2)],'powerupUsed':_0x2b51dd[_0x331576(0x326)]||null}))},_0x13b7c2=await getDoc(_0x451489),_0x10635a=_0x13b7c2[_0x331576(0x509)]()?_0x13b7c2[_0x331576(0x1de)]():{},_0x3ac3f2=_0x10635a[_0x331576(0x148)]||0x0,_0xf96a70=_0x10635a[_0x331576(0x299)]||[];_0xf96a70[_0x331576(0x724)]===0x0&&_0x385823===_0x2826c8&&_0x2826c8>0x0&&(!_0x9b32a2['badges']['includes'](_0x331576(0x7c5))&&_0x9b32a2[_0x331576(0x84f)][_0x331576(0x633)](_0x331576(0x7c5)));const _0x813e43={'studentName':_0x2d9a1b[_0x331576(0x1b0)],'totalQuestions':_0x2826c8,'attempts':arrayUnion(_0x9b32a2),'latestScore':_0x385823,'points':_0x536233,'latestSubmittedAt':_0x9b32a2['submittedAt'],'bestScore':Math['max'](_0x3ac3f2,_0x385823),'firstScore':_0xf96a70[_0x331576(0x724)]===0x0?_0x385823:_0x10635a[_0x331576(0xd39)]||0x0};_0x2411a0[_0x331576(0xc51)](_0x451489,_0x813e43,{'merge':!![]});}try{if(currentLiveGameId){const _0x5e8a06=doc(db,_0x331576(0x6e9)+appId+_0x331576(0xe80),currentLiveGameId);_0x2411a0[_0x331576(0x9f3)](_0x5e8a06,{'resultsSaved':!![]});}await _0x2411a0[_0x331576(0x297)](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x3f09fd[_0x331576(0x724)]+'\x20คน\x20เรียบร้อยแล้ว!');const _0x55de34=_0x289925['shuffledQuiz']?.[_0x331576(0xbb0)]||currentQuizData?.[_0x331576(0xbb0)]||currentProjectId;if(_0x55de34){const _0x3b458d=[...new Set(_0x3f09fd[_0x331576(0x546)](_0x2fc33a=>_0x2fc33a['name']))];for(const _0x267150 of _0x3b458d){await updateStudentProfile(_0x55de34,_0x267150);}}}catch(_0xff2db2){console[_0x331576(0x339)](_0x331576(0x3a8),_0xff2db2),showMessage(_0x331576(0xb0f));}}async function saveQuiz(_0x135682=null,_0x418c57=null){const _0x14ebd0=_0x5be2be,_0x5acc4d=_0x135682||currentProjectId;if(!_0x5acc4d){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x14ebd0(0xb1f)]||!userId){showMessage(_0x14ebd0(0xab4));return;}const _0x1cb675=document['getElementById'](_0x14ebd0(0x271));_0x1cb675['disabled']=!![],_0x1cb675[_0x14ebd0(0x40b)]=_0x14ebd0(0x590);const _0x3abac2=document[_0x14ebd0(0xc4d)](_0x14ebd0(0x62c))[_0x14ebd0(0x315)];let _0x4d1d0a=document[_0x14ebd0(0xc4d)](_0x14ebd0(0x439))[_0x14ebd0(0x717)][_0x14ebd0(0x2ce)]();_0x3abac2&&!_0x4d1d0a[_0x14ebd0(0xb6d)]('(ก่อนเรียน)')&&(_0x4d1d0a=_0x14ebd0(0x346)+_0x4d1d0a);try{const _0x38b214={'resultsDisplay':document[_0x14ebd0(0xc4d)](_0x14ebd0(0x4eb))[_0x14ebd0(0x1ce)],'shuffle':document[_0x14ebd0(0xc4d)]('shuffle-setting-select')[_0x14ebd0(0x1ce)],'timerMode':document['getElementById'](_0x14ebd0(0x216))[_0x14ebd0(0x1ce)],'timerDuration':parseInt(document[_0x14ebd0(0xc4d)](_0x14ebd0(0x5db))['value'])||0xa,'passingScore':parseInt(document[_0x14ebd0(0xc4d)](_0x14ebd0(0x283))[_0x14ebd0(0x1ce)])||0x0,'isAdaptive':document[_0x14ebd0(0xc4d)](_0x14ebd0(0xd74))[_0x14ebd0(0x315)],'loopUntilPass':document[_0x14ebd0(0xc4d)](_0x14ebd0(0x337))[_0x14ebd0(0x315)]},_0x3e88af=(currentQuizData[_0x14ebd0(0xb1f)]||[])[_0x14ebd0(0x546)]((_0x9142d9,_0x40dee9)=>{const _0x46f40e=_0x14ebd0,_0x55b88f=document[_0x46f40e(0xc4d)](_0x46f40e(0x1fb))[_0x46f40e(0x1ce)],_0xf476b4={'id':'q_'+Date['now']()+'_'+_0x40dee9,'questionText':_0x9142d9[_0x46f40e(0x9b3)]||'','explanation':_0x9142d9[_0x46f40e(0x23c)]||_0x46f40e(0x63c),'questionType':_0x9142d9[_0x46f40e(0xc7b)]||_0x55b88f,'imageCode':_0x9142d9[_0x46f40e(0x145)]||null};return(_0xf476b4[_0x46f40e(0xc7b)]==='multiple_choice'||_0xf476b4[_0x46f40e(0xc7b)]===_0x46f40e(0x60d)||_0xf476b4[_0x46f40e(0xc7b)]===_0x46f40e(0x697)&&_0x9142d9[_0x46f40e(0xa3c)])&&(_0xf476b4[_0x46f40e(0xa3c)]=_0x9142d9[_0x46f40e(0xa3c)]||[],_0xf476b4[_0x46f40e(0x6cf)]=_0x9142d9[_0x46f40e(0x6cf)]!==undefined?_0x9142d9['correctAnswerIndex']:0x0),(_0xf476b4['questionType']===_0x46f40e(0x738)||_0xf476b4[_0x46f40e(0xc7b)]==='fill_in_no_choices'||_0xf476b4[_0x46f40e(0xc7b)]===_0x46f40e(0x697)&&_0x9142d9[_0x46f40e(0x1d8)])&&(_0xf476b4[_0x46f40e(0x1d8)]=_0x9142d9[_0x46f40e(0x1d8)]||''),_0xf476b4[_0x46f40e(0xc7b)]===_0x46f40e(0xd99)&&(_0xf476b4[_0x46f40e(0x66a)]=_0x9142d9['correctAnswer']===!![]),_0xf476b4[_0x46f40e(0xc7b)]===_0x46f40e(0xd41)&&(_0xf476b4[_0x46f40e(0xb4a)]=_0x9142d9[_0x46f40e(0xb4a)]||'',_0xf476b4['correctResponse']=_0x9142d9[_0x46f40e(0xa3a)]||'',_0xf476b4[_0x46f40e(0xbc0)]=_0x9142d9[_0x46f40e(0xbc0)]||[]),_0xf476b4;}),_0x3bad29={'topic':_0x4d1d0a,'quizType':currentQuizData['quizType']||_0x14ebd0(0x807),'questions':_0x3e88af,'projectId':_0x5acc4d,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x14ebd0(0x970),'settings':_0x38b214,'quizMode':_0x3abac2?_0x14ebd0(0xe1c):'standard','pairedQuizId':null,'lessonPlan':null};let _0x475a10;while(!![]){_0x475a10=Math[_0x14ebd0(0x211)](0x3e8+Math['random']()*0x2328)[_0x14ebd0(0x386)]();const _0x31f436=await getDoc(doc(db,'artifacts/'+appId+_0x14ebd0(0x42c),_0x475a10));if(!_0x31f436[_0x14ebd0(0x509)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x14ebd0(0x42c),_0x475a10),_0x3bad29);if(_0x418c57&&currentBlueprintProjectId){console[_0x14ebd0(0xbe2)](_0x14ebd0(0xd56)+_0x475a10+_0x14ebd0(0xcd7)+_0x418c57);try{const _0x50c73c=doc(db,_0x14ebd0(0x6e9)+appId+_0x14ebd0(0xce3),currentBlueprintProjectId);await updateDoc(_0x50c73c,{[_0x14ebd0(0xe29)+_0x418c57+'.linkedQuizIds']:arrayUnion(_0x475a10)});}catch(_0x1d4fa5){console[_0x14ebd0(0x339)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x1d4fa5);}}currentQuizData[_0x14ebd0(0x878)]=_0x38b214,currentQuizData['id']=_0x475a10;const _0x515f87=document[_0x14ebd0(0xc4d)](_0x14ebd0(0x5f1));_0x515f87[_0x14ebd0(0x40b)]=_0x14ebd0(0x314)+_0x475a10+_0x14ebd0(0x927),document[_0x14ebd0(0xc4d)]('copy-quiz-id-btn')[_0x14ebd0(0x5a2)](_0x14ebd0(0x4f4),()=>copyTextToClipboard(_0x475a10,_0x14ebd0(0x7fa))),document[_0x14ebd0(0xc4d)](_0x14ebd0(0x33d))[_0x14ebd0(0x5a2)](_0x14ebd0(0x4f4),()=>handleStartLiveRace(_0x475a10)),document[_0x14ebd0(0xc4d)]('start-presentation-btn')['addEventListener'](_0x14ebd0(0x4f4),()=>startPresentation(currentQuizData)),document[_0x14ebd0(0xc4d)]('admin-try-quiz-btn')[_0x14ebd0(0x5a2)](_0x14ebd0(0x4f4),startAdminTest),showMessage(_0x14ebd0(0xe5c));}catch(_0xa8ecc1){console[_0x14ebd0(0x339)](_0x14ebd0(0x5d3),_0xa8ecc1),showMessage(_0x14ebd0(0xde3));}finally{_0x1cb675[_0x14ebd0(0xbb3)]=![],_0x1cb675[_0x14ebd0(0x40b)]=_0x14ebd0(0x418);}}function promptForProjectAndSave(){const _0x4c578d=_0x5be2be,_0x13be20=document[_0x4c578d(0xc4d)]('move-quiz-modal'),_0x4908d6=document[_0x4c578d(0xc4d)]('move-quiz-project-select'),_0x16f0e8=_0x13be20[_0x4c578d(0xab2)]('h3'),_0x4fd72c=document[_0x4c578d(0xc4d)](_0x4c578d(0x572));_0x16f0e8[_0x4c578d(0x4c4)]=_0x4c578d(0x4cb),_0x4fd72c['textContent']='เลือกและบันทึก';allProjects[_0x4c578d(0x724)]===0x0?(_0x4908d6[_0x4c578d(0x40b)]=_0x4c578d(0xe48),_0x4fd72c[_0x4c578d(0xbb3)]=!![]):(_0x4908d6[_0x4c578d(0x40b)]=allProjects[_0x4c578d(0x546)](_0x3ae6b4=>_0x4c578d(0x813)+_0x3ae6b4['id']+'\x22>'+_0x3ae6b4[_0x4c578d(0xb8b)]+'</option>')['join'](''),_0x4fd72c[_0x4c578d(0xbb3)]=![]);_0x13be20[_0x4c578d(0x6f1)][_0x4c578d(0x7d9)]('hidden');const _0x2b7db8=()=>{const _0x198b6c=_0x4c578d,_0x33a3e0=_0x4908d6[_0x198b6c(0x1ce)];_0x33a3e0?(currentProjectId=_0x33a3e0,_0x13be20[_0x198b6c(0x6f1)][_0x198b6c(0x648)](_0x198b6c(0x476)),saveQuiz(),_0x16f0e8[_0x198b6c(0x4c4)]=_0x198b6c(0xb6e),_0x4fd72c[_0x198b6c(0x4c4)]=_0x198b6c(0x559),_0x4fd72c['removeEventListener']('click',_0x2b7db8),_0x4fd72c[_0x198b6c(0x5a2)](_0x198b6c(0x4f4),confirmMoveQuiz)):showMessage(_0x198b6c(0xe5a));};_0x4fd72c[_0x4c578d(0xdfc)](_0x4c578d(0x4f4),confirmMoveQuiz),_0x4fd72c[_0x4c578d(0x5a2)]('click',_0x2b7db8);}function copyTextToClipboard(_0x3e2948,_0x4c3155){const _0x556cd3=_0x5be2be,_0x58003b=document[_0x556cd3(0x52f)]('textarea');_0x58003b[_0x556cd3(0x1ce)]=_0x3e2948,_0x58003b[_0x556cd3(0x201)]['position']=_0x556cd3(0x7a3),_0x58003b[_0x556cd3(0x201)][_0x556cd3(0x349)]='0',document[_0x556cd3(0x671)][_0x556cd3(0xe03)](_0x58003b),_0x58003b[_0x556cd3(0xc44)](),_0x58003b['select']();try{const _0x5998f6=document[_0x556cd3(0x612)]('copy');showMessage(_0x5998f6?_0x4c3155:_0x556cd3(0x836));}catch(_0x12d3b4){showMessage('คัดลอกไม่สำเร็จ'),console[_0x556cd3(0x339)]('Copy\x20command\x20failed',_0x12d3b4);}document['body']['removeChild'](_0x58003b);}function listenForProjectQuizzes(_0x4c5093){const _0x5dedd9=_0x5be2be,_0x36db38=collection(db,_0x5dedd9(0x6e9)+appId+_0x5dedd9(0x42c)),_0x49aa3f=query(_0x36db38,where('projectId','==',_0x4c5093));unsubscribeQuizzesListener=onSnapshot(_0x49aa3f,async _0x176703=>{const _0x1c0bb5=_0x5dedd9;allQuizzes=_0x176703[_0x1c0bb5(0x2b9)]['map'](_0x3382b0=>({'id':_0x3382b0['id'],..._0x3382b0[_0x1c0bb5(0x1de)]()})),renderQuizzes();},_0x494544=>{const _0x3822f4=_0x5dedd9;console[_0x3822f4(0x339)](_0x3822f4(0x1d9),_0x494544),document['getElementById'](_0x3822f4(0x852))[_0x3822f4(0x40b)]=_0x3822f4(0x34d);});}async function renderQuizzes(){const _0x301102=_0x5be2be,_0x223df8=document[_0x301102(0xc4d)](_0x301102(0x852)),_0x15a413=document[_0x301102(0xc4d)](_0x301102(0x270))['value'][_0x301102(0x6f7)]();let _0x3c98d9;currentProjectId===_0x301102(0x6a5)?_0x3c98d9=starredQuizzes:_0x3c98d9=allQuizzes;let _0x427466=_0x3c98d9[_0x301102(0x6e1)](_0x2e5a77=>_0x2e5a77['topic'][_0x301102(0x6f7)]()['includes'](_0x15a413));_0x427466[_0x301102(0x332)]((_0x59e0d9,_0xf5add2)=>new Date(_0xf5add2[_0x301102(0xcd0)])-new Date(_0x59e0d9[_0x301102(0xcd0)]));if(_0x427466[_0x301102(0x724)]===0x0){_0x223df8[_0x301102(0x40b)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x5c1eef={},_0x365f51=_0x427466[_0x301102(0x546)](async _0x431b67=>{const _0x5b880d=_0x301102,_0x53bef8=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x431b67['id']+'/submissions'),_0x4994d0=await getDocs(_0x53bef8);_0x5c1eef[_0x431b67['id']]=_0x4994d0[_0x5b880d(0xa01)];});await Promise[_0x301102(0x1d5)](_0x365f51);let _0x2702dd='';_0x427466['forEach'](_0x2df2a7=>{const _0x154d02=_0x301102,_0x23b2bb=_0x5c1eef[_0x2df2a7['id']]||0x0,_0x4db154=_0x2df2a7[_0x154d02(0x7c3)]||'active',_0x5167cc=_0x2df2a7['settings']?.[_0x154d02(0x120)]||_0x154d02(0x611);let _0xa698ee='',_0x128d22='';const _0xc3cac6=new Date();let _0x1d86f6=_0x4db154;if(_0x4db154===_0x154d02(0x238)){const _0x36b240=_0x2df2a7[_0x154d02(0x309)]?new Date(_0x2df2a7[_0x154d02(0x309)]):null,_0x49a307=_0x2df2a7['endTime']?new Date(_0x2df2a7['endTime']):null;if(_0x49a307&&_0xc3cac6>_0x49a307)_0x1d86f6=_0x154d02(0x511);else _0x36b240&&_0xc3cac6<_0x36b240?_0x1d86f6='scheduled_pending':_0x1d86f6=_0x154d02(0x970);}switch(_0x1d86f6){case'inactive':_0xa698ee=_0x154d02(0x870),_0x128d22=_0x154d02(0x6d6);break;case'scheduled_pending':_0xa698ee='รอเปิด',_0x128d22=_0x154d02(0xd34);break;case _0x154d02(0x970):_0xa698ee=_0x5167cc!=='none'?_0x154d02(0x566):_0x154d02(0x806),_0x128d22=_0x154d02(0x96b);break;default:_0xa698ee=_0x154d02(0xda4),_0x128d22='text-green-700\x20bg-green-100';break;}let _0x244640='';const _0x336b76={'day':_0x154d02(0x638),'month':_0x154d02(0x638),'year':_0x154d02(0x26d),'hour':_0x154d02(0x638),'minute':_0x154d02(0x638),'hour12':![]};if(_0x4db154==='scheduled'){if(_0x2df2a7[_0x154d02(0x309)])_0x244640+=_0x154d02(0xab8)+new Date(_0x2df2a7[_0x154d02(0x309)])['toLocaleString']('th-TH',_0x336b76)+_0x154d02(0xe35);if(_0x2df2a7[_0x154d02(0x88b)])_0x244640+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x2df2a7[_0x154d02(0x88b)])[_0x154d02(0x3f0)](_0x154d02(0xcfb),_0x336b76)+_0x154d02(0xe35);}let _0x14c469='';if(_0x2df2a7[_0x154d02(0x4ba)]){const _0x236c2b=allQuizzes[_0x154d02(0x35d)](_0x3e208c=>_0x3e208c['id']===_0x2df2a7[_0x154d02(0x4ba)]);if(_0x236c2b){let _0x3ebaef,_0x37400b;new Date(_0x2df2a7[_0x154d02(0xcd0)])<new Date(_0x236c2b[_0x154d02(0xcd0)])?(_0x3ebaef=_0x2df2a7['id'],_0x37400b=_0x236c2b['id']):(_0x3ebaef=_0x236c2b['id'],_0x37400b=_0x2df2a7['id']),_0x14c469+=_0x154d02(0x1cd)+_0x37400b+_0x154d02(0xa63)+_0x3ebaef+_0x154d02(0x140);}}else _0x2df2a7['quizMode']===_0x154d02(0xe1c)&&(_0x14c469+=_0x154d02(0x26b)+_0x2df2a7['id']+_0x154d02(0x835));if(_0x2df2a7[_0x154d02(0x2e0)]===_0x154d02(0xe1c)&&_0x23b2bb>0x0)_0x14c469+=_0x154d02(0x26b)+_0x2df2a7['id']+_0x154d02(0x779);else!_0x2df2a7[_0x154d02(0x4ba)]&&_0x2df2a7[_0x154d02(0x2e0)]!==_0x154d02(0xe1c)&&_0x23b2bb>0x0&&(_0x14c469+=_0x154d02(0x26b)+_0x2df2a7['id']+_0x154d02(0x6d4));let _0x588cc0='';_0x2df2a7['pairedQuizId']?_0x588cc0='<button\x20data-quiz-id=\x22'+_0x2df2a7['id']+_0x154d02(0x82b):_0x588cc0=_0x154d02(0x905)+_0x2df2a7['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0x270528=_0x154d02(0x5ee)+_0x2df2a7['id']+_0x154d02(0x6bd);_0x2702dd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x2df2a7['id']+_0x154d02(0x5f8)+_0x2df2a7[_0x154d02(0x380)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x2df2a7['questions']['length']+_0x154d02(0x5f4)+new Date(_0x2df2a7[_0x154d02(0xcd0)])[_0x154d02(0x3f0)]('th-TH')+_0x154d02(0x92f)+_0x23b2bb+_0x154d02(0xdcb)+_0x244640+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x128d22+'\x22>'+_0xa698ee+_0x154d02(0xd36)+_0x2df2a7['id']+_0x154d02(0x3ae)+_0x2df2a7['id']+_0x154d02(0xe7d)+(_0x2df2a7[_0x154d02(0xe61)]?_0x154d02(0x456):_0x154d02(0x4b9))+_0x154d02(0xa38)+_0x14c469+_0x154d02(0x32a)+_0x270528+_0x154d02(0x449)+_0x2df2a7['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x2df2a7['id']+_0x154d02(0x92c)+_0x2df2a7['id']+_0x154d02(0x2d8)+_0x2df2a7['id']+_0x154d02(0x2d0)+_0x2df2a7['id']+_0x154d02(0xde0)+_0x2df2a7['id']+_0x154d02(0x7f7)+_0x2df2a7['id']+_0x154d02(0x58c)+_0x2df2a7['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2df2a7['id']+_0x154d02(0xd96)+_0x2df2a7['id']+_0x154d02(0x4bf)+_0x588cc0+_0x154d02(0x7a2)+_0x2df2a7['id']+_0x154d02(0x62b)+_0x2df2a7['id']+_0x154d02(0xa8d)+_0x2df2a7['id']+_0x154d02(0x41f)+_0x2df2a7['id']+_0x154d02(0x4e5)+_0x2df2a7['id']+_0x154d02(0x58c)+_0x2df2a7[_0x154d02(0x380)]+_0x154d02(0xdaa)+_0x2df2a7['id']+_0x154d02(0x6ec);}),_0x223df8[_0x301102(0x40b)]=_0x2702dd,document[_0x301102(0x760)](_0x301102(0xc27))['forEach'](_0xa96dd6=>{const _0x4d35c2=_0x301102;_0xa96dd6['addEventListener'](_0x4d35c2(0x4f4),()=>{const _0x23a0b9=_0x4d35c2,_0xe2ff26=_0xa96dd6[_0x23a0b9(0xa2c)][_0x23a0b9(0x939)];showQuizDetailView(_0xe2ff26);});});}async function handleUnpairQuiz(_0xffbbdd){const _0x27df0b=_0x5be2be,_0x2ed49a=allQuizzes[_0x27df0b(0x35d)](_0x17837a=>_0x17837a['id']===_0xffbbdd);if(!_0x2ed49a||!_0x2ed49a[_0x27df0b(0x4ba)]){showMessage(_0x27df0b(0xb3c));return;}showConfirmation(_0x27df0b(0xde7),async()=>{const _0x12452a=_0x27df0b;try{const _0x2f1d3f=doc(db,_0x12452a(0x6e9)+appId+_0x12452a(0x42c),_0xffbbdd),_0x2d709b=doc(db,_0x12452a(0x6e9)+appId+_0x12452a(0x42c),_0x2ed49a['pairedQuizId']),_0x302d5a=writeBatch(db);_0x302d5a[_0x12452a(0x9f3)](_0x2f1d3f,{'pairedQuizId':null}),_0x302d5a['update'](_0x2d709b,{'pairedQuizId':null}),await _0x302d5a[_0x12452a(0x297)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x4f735d){console[_0x12452a(0x339)](_0x12452a(0x1a0),_0x4f735d),showMessage(_0x12452a(0x2dc));}});}function formatAndPrintLessonPlan(_0x16e7b6,_0x42d85e){const _0x2d081e=_0x5be2be,_0x5c2134=window[_0x2d081e(0x510)]('','_blank'),_0x164d33=_0x2d081e(0x646)+_0x42d85e['topic']+_0x2d081e(0xa48)+_0x42d85e['topic']+_0x2d081e(0xd7b)+_0x16e7b6[_0x2d081e(0x2c3)]['map'](_0x523720=>_0x2d081e(0x126)+_0x523720+'</li>')[_0x2d081e(0x625)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x16e7b6[_0x2d081e(0xd00)]+_0x2d081e(0xd1c)+_0x16e7b6[_0x2d081e(0x7ed)][_0x2d081e(0x546)](_0x100573=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x100573[_0x2d081e(0xbc5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x100573[_0x2d081e(0x51d)]+_0x2d081e(0x653))[_0x2d081e(0x625)]('')+_0x2d081e(0x36d);_0x5c2134[_0x2d081e(0x6fd)][_0x2d081e(0x32e)](_0x164d33),_0x5c2134[_0x2d081e(0x6fd)][_0x2d081e(0x5e2)](),_0x5c2134[_0x2d081e(0x397)]=function(){setTimeout(()=>{const _0x597d75=_0x46b4;_0x5c2134[_0x597d75(0x573)]();},0x3e8);};}async function handleAiFixFormula(_0x395d6f){const _0x39a1b3=_0x5be2be,_0x885fa=document[_0x39a1b3(0xab2)](_0x39a1b3(0xc57)+_0x395d6f+'\x22]');if(!_0x885fa)return;const _0x2bf8ee=_0x885fa[_0x39a1b3(0xa2c)]['qType'],_0x2b739a=_0x885fa[_0x39a1b3(0xab2)](_0x39a1b3(0xb2e));let _0xb23d63={'question':_0x885fa[_0x39a1b3(0xab2)](_0x39a1b3(0x465))[_0x39a1b3(0x1ce)]};switch(_0x2bf8ee){case _0x39a1b3(0x807):_0xb23d63[_0x39a1b3(0xa3c)]=Array['from'](_0x885fa['querySelectorAll'](_0x39a1b3(0xc14)))[_0x39a1b3(0x546)](_0x4b4818=>_0x4b4818[_0x39a1b3(0x1ce)]);break;case _0x39a1b3(0xa13):case _0x39a1b3(0x738):_0xb23d63['idealAnswer']=_0x885fa['querySelector'](_0x39a1b3(0x8ec))[_0x39a1b3(0x1ce)];break;case _0x39a1b3(0xd41):_0xb23d63[_0x39a1b3(0xa3a)]=_0x885fa[_0x39a1b3(0xab2)](_0x39a1b3(0xfd))[_0x39a1b3(0x1ce)];break;}_0x2b739a['innerHTML']=_0x39a1b3(0x651),_0x2b739a[_0x39a1b3(0xbb3)]=!![];try{const _0x34edaf=_0x39a1b3(0x21a)+JSON[_0x39a1b3(0x3f3)](_0xb23d63)+_0x39a1b3(0xdcc),_0x43f915={'type':_0x39a1b3(0x496),'properties':{'fixedData':{'type':_0x39a1b3(0x496),'properties':{'question':{'type':_0x39a1b3(0x179)},'options':{'type':_0x39a1b3(0xbdb),'items':{'type':_0x39a1b3(0x179)}},'idealAnswer':{'type':_0x39a1b3(0x179)},'correctResponse':{'type':_0x39a1b3(0x179)}},'required':[_0x39a1b3(0xbc5)]}},'required':[_0x39a1b3(0x587)]},_0x9e756=await callAnalysisApi(_0x34edaf,_0x43f915);if(_0x9e756&&_0x9e756[_0x39a1b3(0x587)]){const _0xd6b208=_0x9e756[_0x39a1b3(0x587)];_0x885fa[_0x39a1b3(0xab2)]('textarea')[_0x39a1b3(0x1ce)]=_0xd6b208[_0x39a1b3(0xbc5)]||_0xb23d63[_0x39a1b3(0xbc5)];switch(_0x2bf8ee){case _0x39a1b3(0x807):_0xd6b208[_0x39a1b3(0xa3c)]&&_0xd6b208[_0x39a1b3(0xa3c)][_0x39a1b3(0x724)]>0x0&&_0x885fa[_0x39a1b3(0x760)](_0x39a1b3(0xc14))[_0x39a1b3(0xd75)]((_0x3a55e2,_0x5e6b1c)=>{const _0x2dc6ed=_0x39a1b3;_0x3a55e2[_0x2dc6ed(0x1ce)]=_0xd6b208['options'][_0x5e6b1c]||_0xb23d63[_0x2dc6ed(0xa3c)][_0x5e6b1c];});break;case _0x39a1b3(0xa13):case'short_answer':_0x885fa[_0x39a1b3(0xab2)](_0x39a1b3(0x8ec))[_0x39a1b3(0x1ce)]=_0xd6b208['idealAnswer']||_0xb23d63[_0x39a1b3(0x1d8)];break;case _0x39a1b3(0xd41):_0x885fa[_0x39a1b3(0xab2)](_0x39a1b3(0xfd))[_0x39a1b3(0x1ce)]=_0xd6b208[_0x39a1b3(0xa3a)]||_0xb23d63[_0x39a1b3(0xa3a)];break;}showMessage(_0x39a1b3(0xb96));}else throw new Error(_0x39a1b3(0x3ba));}catch(_0x1f58c3){console[_0x39a1b3(0x339)]('AI\x20Formula\x20Fix\x20Error:',_0x1f58c3),showMessage(_0x39a1b3(0x54b));}finally{_0x2b739a[_0x39a1b3(0x40b)]='<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>',_0x2b739a[_0x39a1b3(0xbb3)]=![];}}async function handleGenerateLessonPlan(_0x19ad54){const _0x211d96=_0x5be2be;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x477253=doc(db,_0x211d96(0x6e9)+appId+_0x211d96(0x42c),_0x19ad54),_0x1cad0e=await getDoc(_0x477253);if(!_0x1cad0e[_0x211d96(0x509)]())throw new Error(_0x211d96(0xe33));const _0x21618b={'id':_0x19ad54,..._0x1cad0e[_0x211d96(0x1de)]()},_0x898fe1=collection(db,_0x211d96(0x6e9)+appId+'/public/data/quizzes',_0x19ad54,_0x211d96(0x669)),_0x258f44=await getDocs(_0x898fe1),_0x423133=_0x258f44[_0x211d96(0x2b9)][_0x211d96(0x546)](_0x303f82=>_0x303f82[_0x211d96(0x1de)]());if(_0x423133[_0x211d96(0x724)]===0x0)throw new Error(_0x211d96(0x47a));const _0x341ed0=calculateItemAnalysis(_0x21618b,_0x423133)[_0x211d96(0x666)],_0x254757=calculateDistractorAnalysis(_0x21618b,_0x423133),_0x30f439=_0x1a6da6=>{const _0x9f35d2=_0x211d96;if(!_0x1a6da6)return'';return _0x1a6da6[_0x9f35d2(0x6c0)](/\\/g,'\x5c\x5c')[_0x9f35d2(0x6c0)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x39e8a8=_0x211d96(0xad0);_0x21618b['questions'][_0x211d96(0xd75)]((_0x404891,_0x547cd4)=>{const _0x48617c=_0x211d96,_0x22ee17=_0x341ed0[_0x547cd4]?.['p']['toFixed'](0x2)||'N/A',_0x4ae553=_0x341ed0[_0x547cd4]?.['r']['toFixed'](0x2)||_0x48617c(0x4a2),_0x51d441=_0x30f439(_0x404891['questionText']||_0x404891[_0x48617c(0xb4a)]);_0x39e8a8+='-\x20ข้อ\x20'+(_0x547cd4+0x1)+_0x48617c(0x6ed)+_0x22ee17+_0x48617c(0x645)+_0x4ae553+_0x48617c(0xc34)+_0x51d441+'\x5cn';if(_0x404891[_0x48617c(0xc7b)]==='multiple_choice'&&_0x254757[_0x547cd4]){const _0x5e8205=_0x254757[_0x547cd4],_0x7b9ba2=Object[_0x48617c(0x74b)](_0x5e8205)[_0x48617c(0x6e1)](_0x2c563a=>parseInt(_0x2c563a)!==_0x404891[_0x48617c(0x6cf)])[_0x48617c(0x332)]((_0x174182,_0x49835c)=>_0x5e8205[_0x49835c]['total']-_0x5e8205[_0x174182][_0x48617c(0x24a)])[0x0];if(_0x7b9ba2&&_0x5e8205[_0x7b9ba2][_0x48617c(0x24a)]>0x0){const _0x37ab69=_0x30f439(_0x5e8205[_0x7b9ba2][_0x48617c(0x8d1)]);_0x39e8a8+=_0x48617c(0x71e)+_0x37ab69+_0x48617c(0x4b6);}}});const _0x30663b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x21618b[_0x211d96(0x380)]+_0x211d96(0xb2b)+_0x39e8a8+_0x211d96(0xd52),_0x33aeb4={'type':_0x211d96(0x496),'properties':{'learningGaps':{'type':_0x211d96(0xbdb),'items':{'type':_0x211d96(0x179)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x211d96(0xbdb),'items':{'type':_0x211d96(0x496),'properties':{'question':{'type':_0x211d96(0x179)},'solution':{'type':'STRING'}}}}},'required':[_0x211d96(0x2c3),_0x211d96(0xd00),_0x211d96(0x7ed)]},_0x1ab499=await callAnalysisApi(_0x30663b,_0x33aeb4);await updateDoc(_0x477253,{'lessonPlan':_0x1ab499});const _0x425fe8=_0x211d96(0xd57)+_0x21618b[_0x211d96(0x380)]+_0x211d96(0x9c0)+_0x1ab499['learningGaps'][_0x211d96(0x546)](_0x4591e2=>'<li>'+_0x4591e2+_0x211d96(0x3d0))[_0x211d96(0x625)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1ab499['teachingContent']+_0x211d96(0xc6d)+_0x1ab499[_0x211d96(0x7ed)][_0x211d96(0x546)](_0x5a6073=>_0x211d96(0x8b5)+_0x5a6073[_0x211d96(0xbc5)]+_0x211d96(0x7aa)+_0x5a6073['solution']+_0x211d96(0x343))[_0x211d96(0x625)]('')+_0x211d96(0x915);document[_0x211d96(0xc4d)](_0x211d96(0xcde))[_0x211d96(0x4c4)]='แผนการสอน:\x20'+_0x21618b[_0x211d96(0x380)],document[_0x211d96(0xc4d)]('lesson-plan-content')['innerHTML']=_0x425fe8,document[_0x211d96(0xc4d)](_0x211d96(0xadb))[_0x211d96(0x6f1)]['remove'](_0x211d96(0x476));if(window['MathJax'])MathJax[_0x211d96(0xd71)]();messageModal[_0x211d96(0x6f1)][_0x211d96(0x648)](_0x211d96(0x476));}catch(_0x309220){console[_0x211d96(0x339)](_0x211d96(0x626),_0x309220),showMessage('เกิดข้อผิดพลาด:\x20'+_0x309220['message']);}}async function handleDuplicateQuiz(_0x1d5dfe){const _0xec41a6=_0x5be2be;try{const _0x33122a=doc(db,_0xec41a6(0x6e9)+appId+_0xec41a6(0x42c),_0x1d5dfe),_0x576518=await getDoc(_0x33122a);if(_0x576518[_0xec41a6(0x509)]()){const _0x2602d2=_0x576518[_0xec41a6(0x1de)]();let _0x871be3='',_0x24de56='standard',_0x30b588=null;if(_0x2602d2['quizMode']===_0xec41a6(0xe1c)){let _0x13a7a1=_0x2602d2[_0xec41a6(0x380)][_0xec41a6(0x6c0)]('(ก่อนเรียน)','')[_0xec41a6(0x2ce)]();_0x871be3=_0xec41a6(0x6ae)+_0x13a7a1,_0x24de56='post-test',_0x30b588=_0x1d5dfe;}else _0x871be3=_0xec41a6(0x4f3)+_0x2602d2[_0xec41a6(0x380)];const _0x49808a={..._0x2602d2,'topic':_0x871be3,'createdAt':new Date()['toISOString'](),'quizMode':_0x24de56,'pairedQuizId':_0x30b588};let _0x26964a;while(!![]){_0x26964a=Math[_0xec41a6(0x211)](0x3e8+Math[_0xec41a6(0x4ab)]()*0x2328)[_0xec41a6(0x386)]();const _0x1e05ad=await getDoc(doc(db,_0xec41a6(0x6e9)+appId+_0xec41a6(0x42c),_0x26964a));if(!_0x1e05ad[_0xec41a6(0x509)]())break;}const _0x41097a=doc(db,_0xec41a6(0x6e9)+appId+_0xec41a6(0x42c),_0x26964a);await setDoc(_0x41097a,_0x49808a),_0x49808a[_0xec41a6(0x2e0)]===_0xec41a6(0x311)&&await updateDoc(_0x33122a,{'pairedQuizId':_0x26964a}),showMessage(_0xec41a6(0x8d4));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x8570d2){console[_0xec41a6(0x339)](_0xec41a6(0x4cc),_0x8570d2),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x47992d,_0x4d08e8=!![]){const _0x4d2f35=_0x5be2be;try{const _0x3caedd=writeBatch(db),_0x4e5983=collection(db,'artifacts/'+appId+_0x4d2f35(0x363)+_0x47992d+_0x4d2f35(0x3e4)),_0x3bcbce=await getDocs(_0x4e5983);_0x3bcbce['forEach'](_0x3f9511=>{const _0x3be251=_0x4d2f35;_0x3caedd[_0x3be251(0x298)](doc(_0x4e5983,_0x3f9511['id']));});const _0x803289=doc(db,_0x4d2f35(0x6e9)+appId+_0x4d2f35(0x42c),_0x47992d);_0x3caedd['delete'](_0x803289),await _0x3caedd[_0x4d2f35(0x297)]();try{console['log'](_0x4d2f35(0x8eb)+_0x47992d+_0x4d2f35(0x9fc));const _0x55f3bd=collection(db,_0x4d2f35(0x6e9)+appId+'/public/data/blueprintProjects'),_0x211c29=await getDocs(_0x55f3bd),_0x499295=[];_0x211c29['forEach'](_0x3b59cf=>{const _0x20312a=_0x4d2f35,_0x1e0d7d=_0x3b59cf[_0x20312a(0x1de)](),_0x485329=_0x1e0d7d['topics']||{};let _0x5027d8=![];for(const _0x5c0e53 in _0x485329){const _0x954c9f=_0x485329[_0x5c0e53];if(_0x954c9f[_0x20312a(0x30e)]&&_0x954c9f['linkedQuizIds'][_0x20312a(0xe4a)](_0x47992d)){_0x5027d8=!![];const _0x164943=doc(db,'artifacts/'+appId+_0x20312a(0xce3),_0x3b59cf['id']),_0x1ba1d4=updateDoc(_0x164943,{[_0x20312a(0xe29)+_0x5c0e53+_0x20312a(0xc1e)]:arrayRemove(_0x47992d)});_0x499295['push'](_0x1ba1d4);}}}),_0x499295[_0x4d2f35(0x724)]>0x0&&(await Promise['all'](_0x499295),console[_0x4d2f35(0xbe2)](_0x4d2f35(0x9af)+_0x499295[_0x4d2f35(0x724)]+_0x4d2f35(0xdae)+_0x47992d+'.'));}catch(_0x109ee8){console[_0x4d2f35(0x339)](_0x4d2f35(0x4fd),_0x109ee8);}_0x4d08e8&&showMessage(_0x4d2f35(0xbaa));}catch(_0x4b576f){console[_0x4d2f35(0x339)](_0x4d2f35(0x57e),_0x4b576f),_0x4d08e8&&showMessage(_0x4d2f35(0x6ea));}}async function showQuizDetailView(_0x34cae6){const _0x20582f=_0x5be2be;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x1f3c3b=doc(db,'artifacts/'+appId+_0x20582f(0x42c),_0x34cae6),_0x569a64=await getDoc(_0x1f3c3b);if(!_0x569a64[_0x20582f(0x509)]()){showMessage(_0x20582f(0xe33));return;}const _0x12057d={'id':_0x569a64['id'],..._0x569a64[_0x20582f(0x1de)]()};currentQuizData=_0x12057d;const _0xc9d12b=doc(db,'artifacts/'+appId+_0x20582f(0x9b0),_0x12057d['projectId']),_0x871d1=await getDoc(_0xc9d12b);_0x871d1[_0x20582f(0x509)]()?(currentProjectData=_0x871d1[_0x20582f(0x1de)](),currentProjectId=_0x12057d[_0x20582f(0xbb0)]):(currentProjectData={'students':[]},currentProjectId=_0x12057d[_0x20582f(0xbb0)]);document[_0x20582f(0xc4d)](_0x20582f(0xad5))[_0x20582f(0x4c4)]=_0x12057d[_0x20582f(0x380)],document[_0x20582f(0xc4d)](_0x20582f(0x81e))[_0x20582f(0x4c4)]=_0x34cae6;const _0x22fe11=collection(db,_0x20582f(0x6e9)+appId+'/public/data/quizzes',_0x34cae6,_0x20582f(0x669));unsubscribeSubmissionsListener=onSnapshot(_0x22fe11,_0xca73c6=>{const _0x11f57d=_0x20582f,_0x2c5296=_0xca73c6[_0x11f57d(0x2b9)][_0x11f57d(0x546)](_0x5e5de7=>({'id':_0x5e5de7['id'],..._0x5e5de7[_0x11f57d(0x1de)]()}));currentSubmissions=_0x2c5296;const _0x13f666=_0x2c5296[_0x11f57d(0x6e1)](_0x4a8d1a=>_0x4a8d1a[_0x11f57d(0x299)]&&_0x4a8d1a['attempts'][_0x11f57d(0x724)]>0x0);renderBehaviorLog(_0x2c5296),renderAnswerGrid(currentProjectData[_0x11f57d(0x94c)],_0x13f666,_0x12057d),renderAnalytics(_0x12057d,_0x13f666),renderQuizResultsTable(currentProjectData['students'],_0x2c5296,_0x12057d),renderQuizLeaderboard(_0x13f666,_0x12057d,_0x11f57d(0x727));}),showView(_0x20582f(0x210));}catch(_0x32f019){console['error'](_0x20582f(0x428),_0x32f019),showMessage(_0x20582f(0x182));}}function renderAnswerGrid(_0x1e8365,_0x478d42,_0x7752a8){const _0x49c42a=_0x5be2be,_0x16f421=document[_0x49c42a(0xc4d)]('answer-grid-container');if(!_0x16f421)return;if(!_0x1e8365||_0x1e8365[_0x49c42a(0x724)]===0x0){_0x16f421[_0x49c42a(0x40b)]=_0x49c42a(0x2e1);return;}const _0xf31be8=_0x7752a8[_0x49c42a(0xb1f)],_0x59cbc5=_0x478d42['reduce']((_0x576d9a,_0x5ce78a)=>{const _0x28d2c2=_0x49c42a;return _0x576d9a[_0x5ce78a[_0x28d2c2(0x550)]]=_0x5ce78a,_0x576d9a;},{}),_0x2570e9=_0x5a113d=>String[_0x49c42a(0x2e6)](0x41+_0x5a113d),_0x1b86bb=_0x4e0b02=>{const _0x3b3cf2=_0x49c42a,_0xd529de=_0x4e0b02['questionType']||_0x7752a8['quizType'];switch(_0xd529de){case _0x3b3cf2(0x807):return _0x4e0b02[_0x3b3cf2(0xa3c)]&&_0x4e0b02[_0x3b3cf2(0xa3c)][_0x3b3cf2(0x724)]>_0x4e0b02[_0x3b3cf2(0x6cf)]?_0x2570e9(_0x4e0b02[_0x3b3cf2(0x6cf)]):'-';case'true_false':const _0x344e5c=_0x4e0b02[_0x3b3cf2(0x66a)]===!![]||String(_0x4e0b02['correctAnswer'])[_0x3b3cf2(0x6f7)]()===_0x3b3cf2(0xe16);return _0x344e5c?_0x3b3cf2(0x43d):_0x3b3cf2(0xdba);case _0x3b3cf2(0xd41):return _0x4e0b02[_0x3b3cf2(0xa3a)]||'-';case _0x3b3cf2(0x738):return'พิมพ์ตอบ';default:return'-';}},_0x4f4689=(_0x2eb6d1,_0x4b8db3)=>{const _0x1527f9=_0x49c42a;if(_0x4b8db3[_0x1527f9(0x903)]===null||_0x4b8db3[_0x1527f9(0x903)]===undefined)return'-';const _0x314326=_0x2eb6d1[_0x1527f9(0xc7b)]||_0x7752a8[_0x1527f9(0xd93)];switch(_0x314326){case'multiple_choice':const _0x144c1c=_0x2eb6d1[_0x1527f9(0xa3c)][_0x1527f9(0xac3)](_0x18b2aa=>_0x18b2aa===_0x4b8db3[_0x1527f9(0xc47)]);return _0x144c1c!==-0x1?_0x2570e9(_0x144c1c):_0x4b8db3[_0x1527f9(0xc47)]||'-';case _0x1527f9(0xd99):if(_0x4b8db3[_0x1527f9(0x903)]=='0'||_0x4b8db3[_0x1527f9(0x903)]===!![]||_0x4b8db3[_0x1527f9(0x903)]===_0x1527f9(0xe16))return _0x1527f9(0x43d);return _0x1527f9(0xdba);default:return _0x4b8db3[_0x1527f9(0x903)];}};let _0x12e919=_0x49c42a(0x53e)+_0xf31be8[_0x49c42a(0x546)]((_0x3543e3,_0x281b4d)=>_0x49c42a(0xb2f)+(_0x281b4d+0x1)+_0x49c42a(0xd9b))[_0x49c42a(0x625)]('')+_0x49c42a(0x66f)+_0xf31be8[_0x49c42a(0x546)](_0x572821=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x1b86bb(_0x572821)+_0x49c42a(0xe59))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x1e8365[_0x49c42a(0xd75)](_0x267f84=>{const _0xc8ceb1=_0x49c42a;_0x12e919+='<tr>',_0x12e919+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x267f84+_0xc8ceb1(0xe59);const _0x4bb75e=_0x59cbc5[_0x267f84];if(_0x4bb75e){const _0x4ae3a4=_0x4bb75e['attempts'][_0x4bb75e['attempts'][_0xc8ceb1(0x724)]-0x1];_0xf31be8['forEach']((_0x5eb924,_0x3f48c7)=>{const _0x5a0a5a=_0xc8ceb1,_0x20aed4=_0x4ae3a4['answers'][_0x5a0a5a(0x35d)](_0x13fbea=>_0x13fbea[_0x5a0a5a(0x6d7)]===_0x5eb924['id']);if(_0x20aed4){let _0x2825a9='';const _0x3e5170=_0x20aed4[_0x5a0a5a(0xd32)]===!![],_0x3f7411=_0x20aed4['wasConfident']===!![]||_0x20aed4[_0x5a0a5a(0x6a2)]==='confident',_0x5821e6=_0x20aed4['powerupUsed'];if(_0x5821e6===_0x5a0a5a(0x9b7))_0x3e5170?_0x2825a9='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x2825a9=_0x5a0a5a(0xe77);else _0x3f7411?_0x2825a9=_0x3e5170?_0x5a0a5a(0x4fa):_0x5a0a5a(0x3c3):_0x2825a9=_0x3e5170?_0x5a0a5a(0x58f):_0x5a0a5a(0xb03);_0x12e919+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x2825a9+'\x22>'+_0x4f4689(_0x5eb924,_0x20aed4)+_0x5a0a5a(0xe59);}else _0x12e919+=_0x5a0a5a(0x50e);});}else _0x12e919+=_0xf31be8[_0xc8ceb1(0x546)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x12e919+=_0xc8ceb1(0x9d3);}),_0x12e919+=_0x49c42a(0x6ce),_0x16f421[_0x49c42a(0x40b)]=_0x12e919;}function renderQuizResultsTable(_0x1714a7,_0x506728,_0x459680){const _0x12300b=_0x5be2be,_0xc5a445=_0x506728[_0x12300b(0xd5b)]((_0x3cb49e,_0x527eb4)=>{const _0x3612ef=_0x12300b;return _0x3cb49e[_0x527eb4[_0x3612ef(0x550)]]=_0x527eb4,_0x3cb49e;},{}),_0x282f9f=document[_0x12300b(0xab2)](_0x12300b(0x854));_0x282f9f&&!_0x282f9f['innerHTML'][_0x12300b(0xe4a)](_0x12300b(0x8b2))&&(_0x282f9f[_0x12300b(0x40b)]+=_0x12300b(0x382));const _0x294684=document['getElementById'](_0x12300b(0xb67));if(!_0x1714a7||_0x1714a7['length']===0x0){_0x294684[_0x12300b(0x40b)]=_0x12300b(0x151);return;}const _0x387ea9=_0x459680[_0x12300b(0x56e)]===!![],_0x290f76=_0x459680[_0x12300b(0x878)]?.[_0x12300b(0x2ec)]??-0x1;let _0x272903='';_0x1714a7[_0x12300b(0xd75)](_0x13d7ee=>{const _0x5ba4e4=_0x12300b,_0x46643a=_0xc5a445[_0x13d7ee];let _0x1dd6e9='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x387ea9?_0x5ba4e4(0x1b8):_0x5ba4e4(0xbca))+'\x22>'+(_0x387ea9?_0x5ba4e4(0xdee):_0x5ba4e4(0x197))+_0x5ba4e4(0xdaf);if(_0x46643a){if(_0x46643a[_0x5ba4e4(0x299)]&&_0x46643a[_0x5ba4e4(0x299)]['length']>0x0){let _0x1e8b9e=_0x387ea9?_0x46643a['bestScore']===_0x46643a['totalQuestions']:_0x290f76!==-0x1&&_0x46643a[_0x5ba4e4(0x148)]>=_0x290f76;const _0x343cc4=_0x1e8b9e?'bg-green-100\x20text-green-800':_0x5ba4e4(0xb03),_0x121c6d=_0x1e8b9e?_0x5ba4e4(0x9a9):_0x5ba4e4(0x4f2),_0x345d9c=_0x5ba4e4(0x68d)+_0x343cc4+'\x22>'+_0x121c6d+_0x5ba4e4(0xdaf),_0x5261da=_0x5ba4e4(0xed)+(_0x46643a[_0x5ba4e4(0x299)]?.[_0x5ba4e4(0x724)]||0x1)+_0x5ba4e4(0x1f8),_0x19cf7f=_0x5ba4e4(0xcb)+(_0x46643a['points']||0x0)[_0x5ba4e4(0x3f0)]()+_0x5ba4e4(0xa11)+_0x13d7ee+_0x5ba4e4(0xd9c)+(_0x46643a[_0x5ba4e4(0xd6c)]||0x0)+_0x5ba4e4(0xa27);_0x272903+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x13d7ee+_0x5ba4e4(0xdd)+_0x46643a[_0x5ba4e4(0x148)]+_0x5ba4e4(0x6e0)+_0x46643a['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x345d9c+_0x5ba4e4(0xf7)+_0x1dd6e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x46643a[_0x5ba4e4(0xd39)]+_0x5ba4e4(0x6e0)+_0x46643a[_0x5ba4e4(0xa66)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x46643a[_0x5ba4e4(0x247)]+'\x20/\x20'+_0x46643a[_0x5ba4e4(0xa66)]+_0x5ba4e4(0x998)+_0x19cf7f+_0x5ba4e4(0x6ef)+_0x5261da+_0x5ba4e4(0x4c1)+new Date(_0x46643a['latestSubmittedAt'])['toLocaleString']('th-TH')+_0x5ba4e4(0x1c2)+_0x13d7ee+_0x5ba4e4(0x95e);}else{const _0x32b265='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x272903+=_0x5ba4e4(0x90e)+_0x13d7ee+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1dd6e9+_0x5ba4e4(0x783)+_0x32b265+_0x5ba4e4(0x4c1)+new Date(_0x46643a[_0x5ba4e4(0xe56)])[_0x5ba4e4(0x3f0)](_0x5ba4e4(0xcfb))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x13d7ee+_0x5ba4e4(0x95e);}}else{const _0x4e3918=_0x5ba4e4(0x2b7);_0x272903+=_0x5ba4e4(0x27b)+_0x13d7ee+_0x5ba4e4(0xdd6)+_0x1dd6e9+_0x5ba4e4(0xbb8)+_0x4e3918+_0x5ba4e4(0xe73);}}),_0x294684[_0x12300b(0x40b)]=_0x272903;}async function confirmRenameQuiz(){const _0x435a89=_0x5be2be,_0x5aee65=document[_0x435a89(0xc4d)]('rename-quiz-input')[_0x435a89(0x1ce)][_0x435a89(0x2ce)]();if(!_0x5aee65){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x2d82d7=doc(db,_0x435a89(0x6e9)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2d82d7,{'topic':_0x5aee65}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x435a89(0x648)](_0x435a89(0x476)),actionTargetId=null;}catch(_0x404e89){console[_0x435a89(0x339)]('Error\x20renaming\x20quiz:',_0x404e89),showMessage(_0x435a89(0x988));}}async function handleMoveQuiz(_0x3672ac){const _0x176a99=_0x5be2be;actionTargetId=_0x3672ac;const _0x49a332=document[_0x176a99(0xc4d)](_0x176a99(0xba7));_0x49a332[_0x176a99(0x40b)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x176a99(0x6f1)][_0x176a99(0x7d9)]('hidden');try{const _0x3b4158=collection(db,_0x176a99(0x6e9)+appId+'/public/data/projects'),_0x46dd3c=await getDocs(_0x3b4158),_0x360e25=_0x46dd3c[_0x176a99(0x2b9)]['map'](_0x52a3e0=>({'id':_0x52a3e0['id'],..._0x52a3e0[_0x176a99(0x1de)]()})),_0xcc7dfd=_0x360e25[_0x176a99(0x6e1)](_0x3d5adf=>_0x3d5adf['id']!==currentProjectId);if(_0xcc7dfd[_0x176a99(0x724)]===0x0){_0x49a332['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x176a99(0xc4d)](_0x176a99(0x572))[_0x176a99(0xbb3)]=!![];return;}_0x49a332[_0x176a99(0x40b)]=_0xcc7dfd[_0x176a99(0x546)](_0x59f04b=>_0x176a99(0x813)+_0x59f04b['id']+'\x22>'+_0x59f04b['projectName']+_0x176a99(0xa37))[_0x176a99(0x625)](''),document[_0x176a99(0xc4d)](_0x176a99(0x572))['disabled']=![];}catch(_0x1897a5){console[_0x176a99(0x339)](_0x176a99(0xb8f),_0x1897a5),showMessage(_0x176a99(0x66d)),moveQuizModal[_0x176a99(0x6f1)][_0x176a99(0x648)](_0x176a99(0x476));}}async function confirmMoveQuiz(){const _0x567c7f=_0x5be2be,_0x161f3b=document[_0x567c7f(0xc4d)](_0x567c7f(0xba7))[_0x567c7f(0x1ce)];if(!_0x161f3b){showMessage(_0x567c7f(0x2d5));return;}if(!actionTargetId)return;const _0x20e207=doc(db,_0x567c7f(0x6e9)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x20e207,{'projectId':_0x161f3b}),showMessage(_0x567c7f(0x9ae)),moveQuizModal['classList']['add'](_0x567c7f(0x476)),actionTargetId=null;}catch(_0xa081b1){console[_0x567c7f(0x339)](_0x567c7f(0x8f6),_0xa081b1),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1f05ca){const _0x15b0c2=_0x5be2be;actionTargetId=_0x1f05ca;const _0x40b416=doc(db,'artifacts/'+appId+_0x15b0c2(0x42c),_0x1f05ca);try{const _0x451539=await getDoc(_0x40b416);if(_0x451539[_0x15b0c2(0x509)]()){const _0x331e9a=_0x451539[_0x15b0c2(0x1de)](),_0x23e3ae=_0x331e9a[_0x15b0c2(0x878)]||{},_0x23d3e6=_0x331e9a['questions'][_0x15b0c2(0x724)];document[_0x15b0c2(0xc4d)]('modal-shuffle-select')[_0x15b0c2(0x1ce)]=_0x23e3ae[_0x15b0c2(0x855)]||_0x15b0c2(0x611),document[_0x15b0c2(0xc4d)]('modal-results-display-select')['value']=_0x23e3ae[_0x15b0c2(0x49d)]||_0x15b0c2(0x5bf),document[_0x15b0c2(0xc4d)](_0x15b0c2(0x38a))[_0x15b0c2(0x1ce)]=_0x23e3ae['timerMode']||_0x15b0c2(0x611),document['getElementById'](_0x15b0c2(0xc75))[_0x15b0c2(0x1ce)]=_0x23e3ae[_0x15b0c2(0xd0b)]||0xa,document[_0x15b0c2(0xc4d)](_0x15b0c2(0x7f9))['value']=_0x23e3ae[_0x15b0c2(0x2ec)]||Math[_0x15b0c2(0x211)](_0x23d3e6/0x2),document[_0x15b0c2(0xc4d)]('modal-passing-score-input')[_0x15b0c2(0xcf)]=_0x23d3e6,document[_0x15b0c2(0xc4d)]('modal-adaptive-quiz-checkbox')[_0x15b0c2(0x315)]=_0x23e3ae[_0x15b0c2(0xa25)]||![],document[_0x15b0c2(0xc4d)](_0x15b0c2(0x6e7))['checked']=_0x23e3ae[_0x15b0c2(0x459)]||![];const _0x1eeb9d=_0x23e3ae[_0x15b0c2(0x1af)]||![];document[_0x15b0c2(0xc4d)](_0x15b0c2(0x81d))[_0x15b0c2(0x315)]=_0x1eeb9d,document['getElementById']('modal-confidence-mode-select')[_0x15b0c2(0x1ce)]=_0x23e3ae[_0x15b0c2(0xc6c)]||_0x15b0c2(0x1c5);const _0x57a053=document[_0x15b0c2(0xc4d)](_0x15b0c2(0x8e8));_0x57a053[_0x15b0c2(0x6f1)][_0x15b0c2(0x545)](_0x15b0c2(0x476),!_0x1eeb9d),document[_0x15b0c2(0xc4d)](_0x15b0c2(0x38a))['dispatchEvent'](new Event(_0x15b0c2(0x25a))),quizSettingsModal[_0x15b0c2(0x6f1)][_0x15b0c2(0x7d9)](_0x15b0c2(0x476));}else showMessage(_0x15b0c2(0xe33));}catch(_0x3c0f96){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x3c0f96),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x4386a7=_0x5be2be;if(!actionTargetId)return;const _0x399dab=doc(db,_0x4386a7(0x6e9)+appId+_0x4386a7(0x42c),actionTargetId),_0x1feacf={'shuffle':document[_0x4386a7(0xc4d)]('modal-shuffle-select')[_0x4386a7(0x1ce)],'resultsDisplay':document[_0x4386a7(0xc4d)](_0x4386a7(0x388))[_0x4386a7(0x1ce)],'timerMode':document[_0x4386a7(0xc4d)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x4386a7(0xc4d)](_0x4386a7(0xc75))['value'])||0xa,'passingScore':parseInt(document[_0x4386a7(0xc4d)](_0x4386a7(0x7f9))[_0x4386a7(0x1ce)])||0x0,'isAdaptive':document[_0x4386a7(0xc4d)](_0x4386a7(0x89f))[_0x4386a7(0x315)],'loopUntilPass':document[_0x4386a7(0xc4d)](_0x4386a7(0x6e7))['checked'],'isConfidenceScoringEnabled':document[_0x4386a7(0xc4d)](_0x4386a7(0x81d))[_0x4386a7(0x315)],'confidenceMode':document['getElementById'](_0x4386a7(0x2a6))[_0x4386a7(0x1ce)]};try{await updateDoc(_0x399dab,{'settings':_0x1feacf}),showMessage(_0x4386a7(0xca6)),quizSettingsModal[_0x4386a7(0x6f1)]['add']('hidden'),actionTargetId=null;}catch(_0x1d34d2){console[_0x4386a7(0x339)](_0x4386a7(0xc6a),_0x1d34d2),showMessage(_0x4386a7(0x979));}}async function confirmQuizStatus(){const _0x32310e=_0x5be2be;if(!actionTargetId)return;const _0x180695=doc(db,'artifacts/'+appId+_0x32310e(0x42c),actionTargetId),_0x242a7d=document[_0x32310e(0xab2)](_0x32310e(0x971));if(!_0x242a7d){showMessage(_0x32310e(0x733));return;}const _0xe48d65=_0x242a7d[_0x32310e(0x1ce)];let _0x30afe1={};if(_0xe48d65===_0x32310e(0x970)||_0xe48d65===_0x32310e(0x511))_0x30afe1={'status':_0xe48d65,'startTime':null,'endTime':null};else{if(_0xe48d65==='schedule'){const _0x499492=document[_0x32310e(0xc4d)](_0x32310e(0x629))[_0x32310e(0x1ce)],_0x2c3c38=document[_0x32310e(0xc4d)](_0x32310e(0x376))['value'];if(!_0x499492&&!_0x2c3c38){showMessage(_0x32310e(0xb3e));return;}_0x30afe1={'status':_0x32310e(0x238),'startTime':_0x499492?new Date(_0x499492)['toISOString']():null,'endTime':_0x2c3c38?new Date(_0x2c3c38)['toISOString']():null};}}try{await updateDoc(_0x180695,_0x30afe1),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x32310e(0x6f1)]['add'](_0x32310e(0x476)),actionTargetId=null;}catch(_0x7e5330){console[_0x32310e(0x339)](_0x32310e(0x691),_0x7e5330),showMessage(_0x32310e(0x1a5));}}function listenForStudentProfiles(_0x1aa68c){const _0x499ec4=_0x5be2be,_0x1dca8f=collection(db,_0x499ec4(0x6e9)+appId+'/public/data/projects/'+_0x1aa68c+_0x499ec4(0x588));unsubscribeStudentProfilesListener=onSnapshot(_0x1dca8f,_0x44bdf8=>{const _0x15c079=_0x499ec4,_0xb68326=_0x44bdf8[_0x15c079(0x2b9)]['map'](_0x101f1c=>_0x101f1c['data']());renderLeaderboard(_0xb68326,_0x15c079(0xe6e));},_0x2d8251=>{const _0x1da8da=_0x499ec4;console[_0x1da8da(0x339)](_0x1da8da(0x4d5),_0x2d8251),document[_0x1da8da(0xc4d)](_0x1da8da(0xe6e))[_0x1da8da(0x40b)]=_0x1da8da(0x5ff);});}function renderLeaderboard(_0x49e494,_0x4a0aac){const _0x347183=_0x5be2be,_0x4cdd97=document['getElementById'](_0x4a0aac);if(!_0x49e494||_0x49e494[_0x347183(0x724)]===0x0){_0x4cdd97['innerHTML']=_0x347183(0xd45);return;}_0x49e494['sort']((_0x2dfa42,_0x28e6d9)=>{const _0x3a7ce5=_0x347183,_0x16432f=(_0x28e6d9[_0x3a7ce5(0x670)]||0x0)-(_0x2dfa42[_0x3a7ce5(0x670)]||0x0);if(_0x16432f!==0x0)return _0x16432f;const _0x535e1c=(_0x28e6d9[_0x3a7ce5(0xcf2)]?.['specialist']||0x0)-(_0x2dfa42['badgesCount']?.[_0x3a7ce5(0x23d)]||0x0);if(_0x535e1c!==0x0)return _0x535e1c;const _0x551315=(_0x28e6d9['badgesCount']?.['first_try_ace']||0x0)-(_0x2dfa42[_0x3a7ce5(0xcf2)]?.[_0x3a7ce5(0x7c5)]||0x0);if(_0x551315!==0x0)return _0x551315;const _0x31da43=(_0x28e6d9[_0x3a7ce5(0xcf2)]?.['perfect_score']||0x0)-(_0x2dfa42[_0x3a7ce5(0xcf2)]?.['perfect_score']||0x0);if(_0x31da43!==0x0)return _0x31da43;const _0x4d6752=(_0x28e6d9[_0x3a7ce5(0xcf2)]?.[_0x3a7ce5(0x75c)]||0x0)-(_0x2dfa42['badgesCount']?.[_0x3a7ce5(0x75c)]||0x0);if(_0x4d6752!==0x0)return _0x4d6752;return _0x2dfa42[_0x3a7ce5(0x550)][_0x3a7ce5(0xc7f)](_0x28e6d9[_0x3a7ce5(0x550)],'th');});let _0x10669d='';_0x49e494['forEach']((_0x1a0634,_0x2ce652)=>{const _0x6775a8=_0x347183,_0x4b2297=_0x2ce652+0x1,_0x39b21c=_0x1a0634[_0x6775a8(0xcf2)]||{};let _0x34f738='';const _0x4bdd13=[_0x6775a8(0x23d),_0x6775a8(0x838),'first_try_ace',_0x6775a8(0x75c)];_0x4bdd13[_0x6775a8(0xd75)](_0x1cefbf=>{const _0x3aa333=_0x6775a8;if(_0x39b21c[_0x1cefbf]>0x0){const _0x232841=Object[_0x3aa333(0x37f)](BADGES)['find'](_0x450329=>_0x450329['id']===_0x1cefbf);_0x232841&&(_0x1cefbf==='specialist'?_0x34f738+=_0x3aa333(0xa83)+_0x232841[_0x3aa333(0x1b0)]+_0x3aa333(0x700)+_0x232841[_0x3aa333(0x246)]+_0x3aa333(0x7c6):_0x34f738+=_0x3aa333(0xa83)+_0x232841['name']+'\x20('+_0x39b21c[_0x1cefbf]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x232841['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x39b21c[_0x1cefbf]+_0x3aa333(0x48a));}}),_0x10669d+=_0x6775a8(0xa41)+_0x4b2297+_0x6775a8(0x998)+_0x1a0634[_0x6775a8(0x550)]+_0x6775a8(0xcb2)+(_0x1a0634[_0x6775a8(0x670)]||0x0)[_0x6775a8(0x3f0)]()+_0x6775a8(0x998)+(_0x34f738||'-')+_0x6775a8(0x6af);}),_0x4cdd97['innerHTML']=_0x10669d;}function displayLoopScreen(_0x1b90af,_0x2fcf4d,_0xafe03d){const _0x243cd8=_0x5be2be;let _0x2c34aa='';_0xafe03d!==_0x243cd8(0xdd5)&&(_0x2c34aa=_0x243cd8(0x60a)+_0x1b90af+'\x20/\x20'+_0x2fcf4d+_0x243cd8(0x184));const _0x30f305='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c34aa+_0x243cd8(0x154);studentResultArea['innerHTML']=_0x30f305,studentResultArea[_0x243cd8(0x6f1)][_0x243cd8(0x7d9)](_0x243cd8(0x476)),studentQuizArea[_0x243cd8(0x6f1)][_0x243cd8(0x648)](_0x243cd8(0x476)),document[_0x243cd8(0xc4d)](_0x243cd8(0xb77))[_0x243cd8(0x5a2)](_0x243cd8(0x4f4),()=>{const _0x367d48=_0x243cd8;studentResultArea['classList'][_0x367d48(0x648)](_0x367d48(0x476)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x10d7ec,_0x910be4,_0x5b5b98){const _0x3d5da3=_0x5be2be,_0x4d476c=document[_0x3d5da3(0xc4d)](_0x5b5b98),_0x16b9da=_0x5b5b98===_0x3d5da3(0x9ce),_0x275db6=_0x910be4[_0x3d5da3(0xb1f)]['length'],_0xd4965a=document[_0x3d5da3(0xc4d)](_0x5b5b98)[_0x3d5da3(0xac5)](_0x3d5da3(0xd54));if(_0xd4965a&&!_0x16b9da){const _0xe89057=_0xd4965a[_0x3d5da3(0xab2)](_0x3d5da3(0x7c7));_0xe89057[_0x3d5da3(0x40b)]=_0x3d5da3(0xc76);}if(!_0x10d7ec||_0x10d7ec['length']===0x0){_0x4d476c[_0x3d5da3(0x40b)]='<tr><td\x20colspan=\x22'+(_0x16b9da?0x6:0x8)+_0x3d5da3(0xc03);return;}const _0x3ad6b2=[..._0x10d7ec];_0x3ad6b2['sort']((_0x7bb5c7,_0xb9b4d4)=>{const _0x7f7896=_0x3d5da3;let _0x221c86,_0x40246a;switch(quizLeaderboardSortBy){case _0x7f7896(0x550):_0x221c86=_0x7bb5c7['studentName']||'',_0x40246a=_0xb9b4d4['studentName']||'';return quizLeaderboardSortOrder===_0x7f7896(0xbd8)?_0x221c86[_0x7f7896(0xc7f)](_0x40246a,'th'):_0x40246a[_0x7f7896(0xc7f)](_0x221c86,'th');case _0x7f7896(0xd6c):_0x221c86=_0x7bb5c7[_0x7f7896(0xd6c)]||0x0,_0x40246a=_0xb9b4d4[_0x7f7896(0xd6c)]||0x0;break;case _0x7f7896(0x299):_0x221c86=_0x7bb5c7['attempts']?.[_0x7f7896(0x724)]||0x1,_0x40246a=_0xb9b4d4[_0x7f7896(0x299)]?.[_0x7f7896(0x724)]||0x1;break;case'latestSubmittedAt':_0x221c86=new Date(_0x7bb5c7[_0x7f7896(0x1bd)]),_0x40246a=new Date(_0xb9b4d4[_0x7f7896(0x1bd)]);break;case'bestScore':default:_0x221c86=_0x7bb5c7[_0x7f7896(0x148)],_0x40246a=_0xb9b4d4[_0x7f7896(0x148)];break;}if(_0x221c86<_0x40246a)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x221c86>_0x40246a)return quizLeaderboardSortOrder===_0x7f7896(0xbd8)?0x1:-0x1;return 0x0;});const _0x3c4ae5=_0x910be4['isRemedial']===!![],_0x131f0a=_0x910be4[_0x3d5da3(0x878)]?.['passingScore']??-0x1;let _0x4f1fbb='';_0x3ad6b2['forEach']((_0x8213c9,_0x57dbc8)=>{const _0x543956=_0x3d5da3,_0x2d9935=_0x57dbc8+0x1;let _0x3e6961=_0x543956(0x9fb);if(_0x3c4ae5||_0x131f0a!==-0x1){let _0x565a2d=_0x3c4ae5?_0x8213c9[_0x543956(0x148)]===_0x275db6:_0x8213c9[_0x543956(0x148)]>=_0x131f0a;const _0x189fdf=_0x565a2d?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x35c169=_0x565a2d?_0x543956(0x9a9):'ไม่ผ่าน';_0x3e6961=_0x543956(0x305)+_0x189fdf+'\x22>'+_0x35c169+_0x543956(0xdaf);}const _0x32ed4a=_0x8213c9[_0x543956(0x299)][_0x8213c9['attempts'][_0x543956(0x724)]-0x1],_0x442316=(_0x32ed4a[_0x543956(0x84f)]||[])[_0x543956(0x546)](_0x46ec36=>{const _0x3dd483=_0x543956,_0x312936=Object[_0x3dd483(0x37f)](BADGES)[_0x3dd483(0x35d)](_0x21e2f2=>_0x21e2f2['id']===_0x46ec36);return _0x312936?_0x3dd483(0xc79)+_0x312936[_0x3dd483(0x1b0)]+_0x3dd483(0x2d9)+_0x312936['icon']+_0x3dd483(0xcfa):'';})['join']('');_0x4f1fbb+=_0x543956(0xac8)+_0x2d9935+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x8213c9[_0x543956(0x550)]+_0x543956(0x2cc)+_0x8213c9[_0x543956(0x148)]+_0x543956(0x6e0)+_0x275db6+_0x543956(0x2bb)+_0x3e6961+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x8213c9['points']||0x0)['toLocaleString']()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16b9da?'':_0x543956(0x8d0)+(_0x8213c9['attempts']?.['length']||0x1)+_0x543956(0xe59))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16b9da?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x8213c9[_0x543956(0x1bd)])[_0x543956(0x3f0)](_0x543956(0xcfb))+_0x543956(0xe59))+_0x543956(0xaca)+(_0x442316||'-')+_0x543956(0x872);}),_0x4d476c['innerHTML']=_0x4f1fbb,_0xd4965a&&!_0x16b9da&&_0xd4965a[_0x3d5da3(0x760)](_0x3d5da3(0x987))[_0x3d5da3(0xd75)](_0x173619=>{const _0x38b911=_0x3d5da3,_0x45d879=_0x173619[_0x38b911(0xab2)](_0x38b911(0xaad));if(_0x45d879)_0x45d879[_0x38b911(0x7d9)]();_0x173619[_0x38b911(0xa2c)][_0x38b911(0x332)]===quizLeaderboardSortBy&&(_0x173619['innerHTML']+=_0x38b911(0x512)+(quizLeaderboardSortOrder===_0x38b911(0xbd8)?'▲':'▼')+_0x38b911(0xdf9));});}async function handleDeleteSubmission(_0x35b755){const _0x4eef54=_0x5be2be;if(!currentQuizData||!currentQuizData['id']||!_0x35b755){showMessage(_0x4eef54(0xd10));return;}showConfirmation(_0x4eef54(0x853)+_0x35b755+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x59fb8d=_0x4eef54,_0x51154f=currentQuizData['id'],_0x45c9f4=doc(db,_0x59fb8d(0x6e9)+appId+_0x59fb8d(0x363)+_0x51154f+_0x59fb8d(0x3e4),_0x35b755);try{await deleteDoc(_0x45c9f4),showMessage('ลบผลสอบของ\x20'+_0x35b755+_0x59fb8d(0x752));}catch(_0x245e4a){console[_0x59fb8d(0x339)](_0x59fb8d(0x4e0),_0x245e4a),showMessage(_0x59fb8d(0x4a4));}});}async function handleLoadQuiz(){const _0x519037=_0x5be2be,_0x413805=document['getElementById']('quiz-id-input'),_0x337f79=_0x413805[_0x519037(0x1ce)][_0x519037(0x2ce)]();if(!_0x337f79){showMessage(_0x519037(0x24d));return;}loadQuizBtn[_0x519037(0xbb3)]=!![],loadQuizBtn[_0x519037(0x40b)]=_0x519037(0x714);try{const _0x2ab3b2=doc(db,_0x519037(0x6e9)+appId+_0x519037(0x42c),_0x337f79),_0x11797a=await getDoc(_0x2ab3b2);if(!_0x11797a[_0x519037(0x509)]()){showMessage(_0x519037(0xc4c));return;}currentQuizData={'id':_0x11797a['id'],..._0x11797a[_0x519037(0x1de)]()};const _0xd8fe3f=currentQuizData['status']||_0x519037(0x970),_0x1d30b9=new Date();if(_0xd8fe3f==='inactive'){showMessage(_0x519037(0x707));return;}if(_0xd8fe3f===_0x519037(0x238)){const _0x252376=currentQuizData[_0x519037(0x309)]?new Date(currentQuizData[_0x519037(0x309)]):null,_0x49c3b7=currentQuizData[_0x519037(0x88b)]?new Date(currentQuizData['endTime']):null;if(_0x252376&&_0x1d30b9<_0x252376){showMessage(_0x519037(0xf8)+_0x252376['toLocaleString'](_0x519037(0xcfb),{'hour12':![]}));return;}if(_0x49c3b7&&_0x1d30b9>_0x49c3b7){showMessage(_0x519037(0x387));return;}}const _0x1b4e0b=currentQuizData[_0x519037(0xbb0)];currentProjectId=_0x1b4e0b;const _0x3787b0=doc(db,_0x519037(0x6e9)+appId+_0x519037(0x9b0),_0x1b4e0b),_0x455065=await getDoc(_0x3787b0);if(!_0x455065[_0x519037(0x509)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x549cc9=_0x455065[_0x519037(0x1de)]();currentStudentProjectData=_0x549cc9,displayStudentNameSelector(_0x549cc9[_0x519037(0x94c)],currentQuizData[_0x519037(0x380)]);}catch(_0x1ff2aa){console[_0x519037(0x339)](_0x519037(0xb69),_0x1ff2aa),showMessage(_0x519037(0x945));}finally{loadQuizBtn[_0x519037(0xbb3)]=![],loadQuizBtn['innerHTML']=_0x519037(0x494);}}async function handleManualEditPoints(_0x52f5c6,_0x3a9db7){const _0x5df7fc=_0x5be2be;if(!currentQuizData||!currentQuizData['id'])return;const _0x10bc16=currentQuizData['id'],_0x1a8c31=doc(db,'artifacts/'+appId+_0x5df7fc(0x363)+_0x10bc16+_0x5df7fc(0x3e4),_0x52f5c6);try{const _0x4ba36c=await getDoc(_0x1a8c31);if(!_0x4ba36c[_0x5df7fc(0x509)]())return;const _0x57019d=_0x4ba36c[_0x5df7fc(0x1de)](),_0x1449d2=_0x57019d[_0x5df7fc(0x299)]||[];_0x1449d2[_0x5df7fc(0x724)]>0x0&&(_0x1449d2[_0x1449d2[_0x5df7fc(0x724)]-0x1][_0x5df7fc(0xd6c)]=_0x3a9db7,_0x1449d2[_0x1449d2[_0x5df7fc(0x724)]-0x1][_0x5df7fc(0x5f0)]=!![]),await updateDoc(_0x1a8c31,{'points':_0x3a9db7,'attempts':_0x1449d2}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x52f5c6),showMessage('แก้ไข\x20Points\x20ของ\x20'+_0x52f5c6+_0x5df7fc(0x4d1)+_0x3a9db7+'\x20สำเร็จ!');}catch(_0x265e1a){console[_0x5df7fc(0x339)](_0x5df7fc(0x3b0),_0x265e1a),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x2e14c3=_0x5be2be,_0x45248f=document[_0x2e14c3(0xc4d)](_0x2e14c3(0x609)),_0x430c3a=document[_0x2e14c3(0xc4d)](_0x2e14c3(0xcf5)),_0x1680c4=document[_0x2e14c3(0xc4d)](_0x2e14c3(0x466)),_0x319541=_0x45248f[_0x2e14c3(0x1ce)][_0x2e14c3(0x2ce)](),_0x52e0d8=_0x430c3a[_0x2e14c3(0x1ce)]['trim']();if(!_0x319541||!_0x52e0d8){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x1680c4[_0x2e14c3(0xbb3)]=!![],_0x1680c4[_0x2e14c3(0x40b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x57ca69=collection(db,_0x2e14c3(0x6e9)+appId+_0x2e14c3(0xdd9)),_0x5bc6ac=query(_0x57ca69,where(_0x2e14c3(0x525),'==',_0x319541),where(_0x2e14c3(0x7c3),'in',[_0x2e14c3(0xa69),_0x2e14c3(0xbc5)])),_0x299973=await getDocs(_0x5bc6ac);if(_0x299973[_0x2e14c3(0xdbf)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x5299aa=_0x299973[_0x2e14c3(0x2b9)][0x0],_0x41b59e=_0x5299aa['data']();currentLiveGameId=_0x5299aa['id'];const _0x4f8c13=_0x41b59e['quizId'],_0x220bc6=doc(db,_0x2e14c3(0x6e9)+appId+_0x2e14c3(0x42c),_0x4f8c13),_0x8f3ae1=await getDoc(_0x220bc6);if(!_0x8f3ae1[_0x2e14c3(0x509)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x8f3ae1['id'],..._0x8f3ae1['data']()};if(_0x41b59e[_0x2e14c3(0xda5)]&&_0x41b59e['players'][_0x52e0d8]){const _0xb064ec=_0x41b59e[_0x2e14c3(0xda5)][_0x52e0d8];if(_0xb064ec[_0x2e14c3(0x7c3)]===_0x2e14c3(0x511)){_0x1680c4[_0x2e14c3(0x40b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x5a0665={};_0x5a0665[_0x2e14c3(0x7a4)+_0x52e0d8+_0x2e14c3(0xb4d)]=_0x2e14c3(0x970),await updateDoc(doc(db,_0x2e14c3(0x6e9)+appId+_0x2e14c3(0xdd9),currentLiveGameId),_0x5a0665),showView(_0x2e14c3(0x82d)),currentStudentName=_0x52e0d8,listenForLiveGameUpdates();return;}else{showMessage(_0x2e14c3(0x28a));return;}}if(_0x41b59e[_0x2e14c3(0x7c3)]!==_0x2e14c3(0xa69)){showMessage(_0x2e14c3(0x2a8));return;}_0x1680c4[_0x2e14c3(0x40b)]=_0x2e14c3(0x108);const _0x2969fd={};_0x2969fd[_0x2e14c3(0x7a4)+_0x52e0d8]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2e14c3(0x970)},await updateDoc(doc(db,_0x2e14c3(0x6e9)+appId+_0x2e14c3(0xdd9),currentLiveGameId),_0x2969fd),currentStudentName=_0x52e0d8,listenForLiveGameUpdates();}catch(_0x1e4264){console['error'](_0x2e14c3(0xde),_0x1e4264),showMessage(_0x2e14c3(0x99b));}finally{_0x1680c4[_0x2e14c3(0xbb3)]=![],_0x1680c4[_0x2e14c3(0x40b)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x579195,_0x21a2ae){const _0x679deb=_0x5be2be,_0x22235e=document[_0x679deb(0xc4d)]('student-name-select');document['getElementById']('student-quiz-topic')[_0x679deb(0x4c4)]='แบบทดสอบ:\x20'+_0x21a2ae,!_0x579195||_0x579195[_0x679deb(0x724)]===0x0?(_0x22235e[_0x679deb(0x40b)]=_0x679deb(0x4bd),startQuizBtn[_0x679deb(0xbb3)]=!![]):(_0x22235e['innerHTML']=_0x679deb(0xdbd),_0x579195['forEach'](_0xa1248e=>{const _0xa94aec=_0x679deb,_0x2c66e6=document[_0xa94aec(0x52f)](_0xa94aec(0x225));_0x2c66e6[_0xa94aec(0x1ce)]=_0xa1248e,_0x2c66e6[_0xa94aec(0x4c4)]=_0xa1248e,_0x22235e['appendChild'](_0x2c66e6);}),startQuizBtn[_0x679deb(0xbb3)]=![]),studentInitialView[_0x679deb(0x6f1)]['add'](_0x679deb(0x476)),studentNameSelectionView[_0x679deb(0x6f1)][_0x679deb(0x7d9)](_0x679deb(0x476));}function shuffleArray(_0x1d92ad){const _0x1917b8=_0x5be2be;for(let _0x3b7b2c=_0x1d92ad[_0x1917b8(0x724)]-0x1;_0x3b7b2c>0x0;_0x3b7b2c--){const _0x181b2a=Math[_0x1917b8(0x211)](Math[_0x1917b8(0x4ab)]()*(_0x3b7b2c+0x1));[_0x1d92ad[_0x3b7b2c],_0x1d92ad[_0x181b2a]]=[_0x1d92ad[_0x181b2a],_0x1d92ad[_0x3b7b2c]];}}function getShuffledQuiz(_0x8b7d8b){const _0x3474c5=_0x5be2be;let _0x4df8f9=JSON[_0x3474c5(0x2fa)](JSON[_0x3474c5(0x3f3)](_0x8b7d8b));const _0x1dd94e=_0x4df8f9[_0x3474c5(0x878)]?.[_0x3474c5(0x855)]||_0x3474c5(0x611);if(_0x1dd94e===_0x3474c5(0x611))return _0x4df8f9;return(_0x1dd94e===_0x3474c5(0xa5e)||_0x1dd94e===_0x3474c5(0x986))&&shuffleArray(_0x4df8f9[_0x3474c5(0xb1f)]),(_0x1dd94e===_0x3474c5(0x630)||_0x1dd94e===_0x3474c5(0x986))&&_0x4df8f9[_0x3474c5(0xb1f)][_0x3474c5(0xd75)](_0x36b68f=>{const _0x192dd5=_0x3474c5,_0x3f86ca=_0x36b68f[_0x192dd5(0xc7b)]||_0x4df8f9['quizType'];if(_0x36b68f['options']){let _0x55115a=_0x36b68f[_0x192dd5(0xa3c)][_0x192dd5(0x546)]((_0x3dc13c,_0xf525fb)=>({'text':_0x3dc13c,'isCorrect':_0xf525fb===_0x36b68f[_0x192dd5(0x6cf)]}));shuffleArray(_0x55115a),_0x36b68f[_0x192dd5(0xa3c)]=_0x55115a[_0x192dd5(0x546)](_0x1c99c5=>_0x1c99c5['text']),_0x36b68f[_0x192dd5(0x6cf)]=_0x55115a['findIndex'](_0x250c65=>_0x250c65['isCorrect']);}_0x3f86ca===_0x192dd5(0xd41)&&_0x36b68f[_0x192dd5(0xbc0)]&&shuffleArray(_0x36b68f['allResponses']);}),_0x4df8f9;}function displayQuizForStudent(_0xd5bf43){const _0x3f1be7=_0x5be2be;studentQuizArea['classList']['remove'](_0x3f1be7(0x476)),currentDisplayedQuiz=getShuffledQuiz(_0xd5bf43);currentMode!==_0x3f1be7(0x6b8)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3f1be7(0x5a2)](_0x3f1be7(0x1a3),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x3f1be7(0x5a2)]('mousemove',resetDimTimer),window[_0x3f1be7(0x5a2)](_0x3f1be7(0x79f),resetDimTimer),window[_0x3f1be7(0x5a2)](_0x3f1be7(0xe3b),resetDimTimer),window[_0x3f1be7(0x5a2)](_0x3f1be7(0xc7a),resetDimTimer),resetDimTimer());const _0x46d98b=currentDisplayedQuiz[_0x3f1be7(0x878)]?.[_0x3f1be7(0x120)]||_0x3f1be7(0x611);if(_0x46d98b==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3f1be7(0x878)][_0x3f1be7(0xd0b)]);else _0x46d98b===_0x3f1be7(0x768)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x4b7a81){const _0x5d6474=_0x5be2be,_0x5b9339=document[_0x5d6474(0xc4d)](_0x5d6474(0x38f)+_0x4b7a81),_0x12dfe0=document[_0x5d6474(0x760)](_0x5d6474(0xcd));_0x12dfe0[_0x5d6474(0xd75)](_0x23c730=>{const _0x1a0717=_0x5d6474;if(_0x23c730['id']!==_0x1a0717(0x38f)+_0x4b7a81)_0x23c730[_0x1a0717(0x6f1)][_0x1a0717(0x648)](_0x1a0717(0x476));});if(_0x5b9339)_0x5b9339[_0x5d6474(0x6f1)][_0x5d6474(0x545)]('hidden');},window[_0x5be2be(0xa0a)]=function(_0x30b5e9,_0x1cfc48){const _0x5bdc25=_0x5be2be,_0x5d45c=currentDisplayedQuiz;if(!_0x5d45c)return;const _0x3082e3=_0x5d45c[_0x5bdc25(0xb1f)][_0x30b5e9],_0x3dc034=_0x3082e3['allResponses'][_0x1cfc48],_0x13c310=document[_0x5bdc25(0xc4d)](_0x5bdc25(0x904)+_0x30b5e9);if(_0x13c310)_0x13c310[_0x5bdc25(0x1ce)]=_0x3dc034;const _0x4bd24c=document[_0x5bdc25(0xc4d)]('selected-text-'+_0x30b5e9);if(_0x4bd24c){_0x4bd24c['innerHTML']=_0x3dc034;if(window[_0x5bdc25(0x1bb)])MathJax['typesetPromise']([_0x4bd24c]);_0x4bd24c[_0x5bdc25(0x6f1)]['add'](_0x5bdc25(0x23e),_0x5bdc25(0x43e));}const _0x389398=document[_0x5bdc25(0xc4d)](_0x5bdc25(0x38f)+_0x30b5e9);if(_0x389398)_0x389398[_0x5bdc25(0x6f1)]['add'](_0x5bdc25(0x476));},document[_0x5be2be(0x5a2)](_0x5be2be(0x4f4),_0x40533c=>{const _0x347254=_0x5be2be;!_0x40533c[_0x347254(0xa35)][_0x347254(0xac5)]('.custom-math-dropdown')&&document[_0x347254(0x760)](_0x347254(0xcd))[_0x347254(0xd75)](_0x5e7857=>_0x5e7857['classList'][_0x347254(0x648)](_0x347254(0x476)));});function renderFullQuizForm(){const _0x3e612f=_0x5be2be,_0x5dfb5d=currentDisplayedQuiz[_0x3e612f(0x878)]?.[_0x3e612f(0x1af)]===!![],_0x23423c=currentDisplayedQuiz[_0x3e612f(0x878)]?.[_0x3e612f(0xc6c)]||_0x3e612f(0x1c5);let _0x1ca299=![],_0x324015=_0x3e612f(0x89e)+currentDisplayedQuiz[_0x3e612f(0x380)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3e612f(0x6b8)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x3e612f(0x79a);currentDisplayedQuiz[_0x3e612f(0xb1f)][_0x3e612f(0xd75)]((_0x35e390,_0x17f3ed)=>{const _0x11a31c=_0x3e612f,_0x334766=_0x35e390[_0x11a31c(0xc7b)]||currentDisplayedQuiz[_0x11a31c(0xd93)],_0x418b2e=_0x11a31c(0xb87)+(0x64-_0x17f3ed)+';';_0x334766===_0x11a31c(0xd41)&&!_0x1ca299&&(_0x324015+=_0x11a31c(0x45f),_0x1ca299=!![]);_0x324015+='<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22'+_0x418b2e+'\x22>';_0x334766!==_0x11a31c(0xd41)&&(_0x324015+=_0x11a31c(0x85f)+(_0x17f3ed+0x1)+'.\x20'+(_0x35e390[_0x11a31c(0x815)]||_0x35e390[_0x11a31c(0x9b3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x35e390[_0x11a31c(0x145)]?_0x11a31c(0x3a2)+_0x35e390['imageCode']+'</div>':'')+_0x11a31c(0x605));_0x324015+=_0x11a31c(0x18f);if(_0x334766===_0x11a31c(0xd41)&&_0x35e390[_0x11a31c(0xbc0)])_0x324015+=_0x11a31c(0xab3)+(_0x17f3ed+0x1)+_0x11a31c(0xafa)+_0x35e390['stem']+_0x11a31c(0x62e)+_0x17f3ed+_0x11a31c(0x200)+_0x17f3ed+_0x11a31c(0x7f4)+_0x17f3ed+_0x11a31c(0x156)+_0x17f3ed+_0x11a31c(0x571)+_0x17f3ed+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35e390[_0x11a31c(0xbc0)][_0x11a31c(0x546)]((_0x26d1fa,_0x4ab03a)=>_0x11a31c(0x9a2)+_0x17f3ed+',\x20'+_0x4ab03a+_0x11a31c(0xaaf)+_0x26d1fa+_0x11a31c(0x454))[_0x11a31c(0x625)]('')+_0x11a31c(0x213);else{if(_0x334766===_0x11a31c(0xd99))_0x324015+=_0x11a31c(0x2f3)+_0x17f3ed+_0x11a31c(0x644)+_0x17f3ed+_0x11a31c(0x29d)+_0x17f3ed+_0x11a31c(0x4c0),_0x324015+=_0x11a31c(0x2f3)+_0x17f3ed+_0x11a31c(0x7f3)+_0x17f3ed+_0x11a31c(0x6b0)+_0x17f3ed+_0x11a31c(0xa18);else _0x35e390[_0x11a31c(0xa3c)]&&Array[_0x11a31c(0x228)](_0x35e390[_0x11a31c(0xa3c)])&&_0x35e390[_0x11a31c(0xa3c)]['length']>0x0?_0x324015+=_0x35e390[_0x11a31c(0xa3c)]['map']((_0x131e7e,_0x572237)=>_0x11a31c(0x4b4)+_0x17f3ed+_0x11a31c(0x60b)+_0x572237+_0x11a31c(0x143)+_0x17f3ed+'\x22\x20value=\x22'+_0x572237+_0x11a31c(0x80e)+_0x17f3ed+_0x11a31c(0x60b)+_0x572237+'\x22>'+_0x131e7e+_0x11a31c(0xa8c))[_0x11a31c(0x625)](''):_0x324015+='<textarea\x20name=\x22question'+_0x17f3ed+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';}_0x324015+=_0x11a31c(0xcf0),_0x5dfb5d&&(_0x324015+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x23423c===_0x11a31c(0xe5e)?_0x324015+=_0x11a31c(0xab6)+_0x17f3ed+_0x11a31c(0x9e8)+_0x17f3ed+'\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x17f3ed+_0x11a31c(0x7d0)+_0x17f3ed+_0x11a31c(0x60e):_0x324015+=_0x11a31c(0xee)+_0x17f3ed+_0x11a31c(0x9e8)+_0x17f3ed+_0x11a31c(0x1a1)+_0x17f3ed+_0x11a31c(0x4ee),_0x324015+=_0x11a31c(0xcf0)),_0x324015+=_0x11a31c(0xcf0);}),_0x324015+=_0x3e612f(0x1d4),_0x324015+=_0x3e612f(0x530),studentQuizArea[_0x3e612f(0x40b)]=_0x324015;if(currentMode===_0x3e612f(0x6b8)){const _0x1e815c=document['getElementById']('cancel-test-btn');if(_0x1e815c)_0x1e815c['addEventListener']('click',cancelAdminTest);}const _0x2f0b8d=document[_0x3e612f(0xc4d)]('quiz-form');_0x2f0b8d&&(_0x2f0b8d[_0x3e612f(0x5a2)](_0x3e612f(0x84b),handleSubmitQuiz),_0x2f0b8d[_0x3e612f(0x5a2)](_0x3e612f(0x4f4),_0x3f5e1e=>{const _0x42aa5d=_0x3e612f;if(_0x3f5e1e['target'][_0x42aa5d(0x6f1)][_0x42aa5d(0x913)](_0x42aa5d(0xe20))){const _0x495d5d=_0x3f5e1e[_0x42aa5d(0xa35)],_0x47ed3b=_0x495d5d[_0x42aa5d(0xa2c)][_0x42aa5d(0x2b6)],_0xddaee1=_0x495d5d[_0x42aa5d(0xa2c)][_0x42aa5d(0x1ce)];document['getElementById'](_0x42aa5d(0x409)+_0x47ed3b)['value']=_0xddaee1;const _0x24b9e9=_0x495d5d[_0x42aa5d(0x830)];_0x24b9e9[_0x42aa5d(0x760)](_0x42aa5d(0xd90))['forEach'](_0x4bd492=>_0x4bd492[_0x42aa5d(0x6f1)][_0x42aa5d(0x7d9)](_0x42aa5d(0x970))),_0x495d5d[_0x42aa5d(0x6f1)][_0x42aa5d(0x648)](_0x42aa5d(0x970));}})),window[_0x3e612f(0x1bb)]&&setTimeout(()=>{const _0x38cba7=_0x3e612f;window[_0x38cba7(0x1bb)][_0x38cba7(0xd71)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0xd7a809){const _0x40ec6a=_0x5be2be;if(_0xd7a809)_0xd7a809[_0x40ec6a(0xaa3)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x267358=document['getElementById'](_0x40ec6a(0x40e));if(!_0x267358)return;const _0x17d985=currentDisplayedQuiz[_0x40ec6a(0x878)]?.[_0x40ec6a(0x1af)]===!![],_0x5c2eba=currentDisplayedQuiz[_0x40ec6a(0x878)]?.[_0x40ec6a(0xc6c)]||_0x40ec6a(0x1c5);if(_0x17d985&&_0x5c2eba===_0x40ec6a(0xe5e)){let _0x59dff5=!![];for(let _0x3f023a=0x0;_0x3f023a<currentDisplayedQuiz[_0x40ec6a(0xb1f)][_0x40ec6a(0x724)];_0x3f023a++){const _0x7dc69d=_0x267358[_0x40ec6a(0xab2)](_0x40ec6a(0xb7e)+_0x3f023a);if(!_0x7dc69d||_0x7dc69d['value']===''){_0x59dff5=![];break;}}if(!_0x59dff5){showMessage(_0x40ec6a(0x25e));return;}}const _0xfd00e3=_0x267358[_0x40ec6a(0xab2)]('button[type=\x22submit\x22]'),_0x356fdc=currentDisplayedQuiz[_0x40ec6a(0xb1f)][_0x40ec6a(0x7db)](_0x16c5a0=>_0x16c5a0['questionType']===_0x40ec6a(0x738));_0xfd00e3&&(_0xfd00e3['disabled']=!![],_0xfd00e3[_0x40ec6a(0x40b)]=_0x356fdc?_0x40ec6a(0xd9a):_0x40ec6a(0x7e2));const _0x47273f=new FormData(_0x267358),_0x2bab60=currentDisplayedQuiz['questions'][_0x40ec6a(0x546)]((_0x37974c,_0x122595)=>{const _0x3ecf7d=_0x40ec6a,_0x1dd530=_0x47273f[_0x3ecf7d(0x5b0)]('question'+_0x122595);let _0x48c1a1;_0x5c2eba===_0x3ecf7d(0xe5e)?_0x48c1a1=_0x47273f['get'](_0x3ecf7d(0xaae)+_0x122595):_0x48c1a1=_0x47273f[_0x3ecf7d(0x5b0)](_0x3ecf7d(0xaae)+_0x122595)==='on';let _0x38f4be=null;if(_0x1dd530!==null&&_0x1dd530!==undefined){const _0xb11433=_0x37974c[_0x3ecf7d(0xc7b)]||currentDisplayedQuiz[_0x3ecf7d(0xd93)];_0xb11433===_0x3ecf7d(0x807)||_0xb11433===_0x3ecf7d(0xc86)?_0x38f4be=parseInt(_0x1dd530):_0x38f4be=_0x1dd530;}return{'answer':_0x38f4be,'wasConfident':_0x48c1a1};}),_0x47cd2b=currentQuizData['id'],_0x522579=doc(db,_0x40ec6a(0x6e9)+appId+'/public/data/quizzes/'+_0x47cd2b+_0x40ec6a(0x3e4),currentStudentName),_0x40d601=await getDoc(_0x522579),_0x25b19c=_0x40d601['exists']()?_0x40d601[_0x40ec6a(0x1de)]():{},_0x1c5e00=_0x25b19c[_0x40ec6a(0x299)]||[];await processAndSubmitAnswers(_0x2bab60,_0x1c5e00);}async function gradeShortAnswerWithAI(_0xcf84f7,_0x1b7e9a){const _0x4dcda1=_0x5be2be;if(!_0xcf84f7||!_0x1b7e9a)return![];try{const _0x2af14d=_0x4dcda1(0x1f0)+_0xcf84f7+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x1b7e9a+_0x4dcda1(0x493),_0xfc92e7={'contents':[{'role':_0x4dcda1(0x715),'parts':[{'text':_0x2af14d}]}]},_0x19a088=_0x4dcda1(0x423),_0x69e8b8=_0x4dcda1(0xbc1)+_0x19a088,_0x30498a=await fetch(_0x69e8b8,{'method':_0x4dcda1(0xbc9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4dcda1(0x3f3)](_0xfc92e7)});if(!_0x30498a['ok'])throw new Error(_0x4dcda1(0xd97));const _0x1299a2=await _0x30498a[_0x4dcda1(0xdf6)](),_0xcfee00=_0x1299a2[_0x4dcda1(0x963)][0x0]['content'][_0x4dcda1(0x437)][0x0][_0x4dcda1(0x8d1)][_0x4dcda1(0x2ce)]()[_0x4dcda1(0x6f7)]();return _0xcfee00==='true';}catch(_0x3a1edc){return console['error'](_0x4dcda1(0x736),_0x3a1edc),![];}}async function processAndSubmitAnswers(_0x1e38c4,_0x4701cd){const _0x58a426=_0x5be2be;releaseWakeLock(),stopDimTimer();try{document[_0x58a426(0x4ca)]&&await document['exitFullscreen']();}catch(_0x13797d){console[_0x58a426(0x2be)](_0x58a426(0xa0b),_0x13797d);}isQuizActive=![],document['removeEventListener'](_0x58a426(0x1a3),handleFullscreenChange),document['removeEventListener'](_0x58a426(0x76b),handleVisibilityChange);let _0x2bea51=0x0;const _0x24683d=[],_0x4c6b16=currentDisplayedQuiz[_0x58a426(0xb1f)]['length'];let _0x10de1a=0x0,_0x361378=[];const _0x51af38=currentDisplayedQuiz['questions'];for(let _0x5dd4ba=0x0;_0x5dd4ba<_0x51af38[_0x58a426(0x724)];_0x5dd4ba++){const _0xb6b17b=_0x51af38[_0x5dd4ba],_0x2b6c16=_0x1e38c4[_0x5dd4ba],_0x29755c=_0x2b6c16?_0x2b6c16[_0x58a426(0x903)]:null,_0x245764=_0x2b6c16?_0x2b6c16[_0x58a426(0x6a2)]:null;let _0x597aea=![],_0x5bb83f=0x0;if(_0x29755c!==null&&_0x29755c!==''){const _0x493eea=_0xb6b17b[_0x58a426(0xc7b)]||currentDisplayedQuiz['quizType'];switch(_0x493eea){case'matching_item':_0x597aea=_0x29755c===_0xb6b17b[_0x58a426(0xa3a)];break;case _0x58a426(0xd99):const _0x32a8f4=_0x29755c===!![]||_0x29755c==='true';_0x597aea=_0x32a8f4===_0xb6b17b['correctAnswer'];break;case _0x58a426(0xa13):case'short_answer':_0x597aea=await gradeShortAnswer(_0x29755c,_0xb6b17b);break;case _0x58a426(0x807):case _0x58a426(0x60d):default:_0x597aea=Number(_0x29755c)===_0xb6b17b[_0x58a426(0x6cf)];break;}}if(currentDisplayedQuiz[_0x58a426(0x878)]?.[_0x58a426(0x1af)]){const _0x2175d6=_0x2b6c16?_0x2b6c16[_0x58a426(0x6a2)]:null;if(_0x597aea&&(_0x2175d6===!![]||_0x2175d6===_0x58a426(0x355)))_0x5bb83f=0x2;else{if(_0x597aea)_0x5bb83f=0x1;else{if(!_0x597aea&&(_0x2175d6===![]||_0x2175d6===_0x58a426(0x44e)||_0x2175d6===null))_0x5bb83f=0x0;else!_0x597aea&&(_0x2175d6===!![]||_0x2175d6===_0x58a426(0x355))&&(_0x5bb83f=-0x1);}}}else _0x5bb83f=_0x597aea?0x1:0x0;_0x2bea51+=_0x5bb83f;if(_0x597aea){_0x10de1a++;if(_0x10de1a===0x3)_0x361378[_0x58a426(0x633)](BADGES[_0x58a426(0xd5a)]['id']);}else _0x10de1a=0x0;let _0x42956d=null;_0xb6b17b[_0x58a426(0xa3c)]&&(_0xb6b17b[_0x58a426(0xc7b)]===_0x58a426(0x807)||_0xb6b17b['questionType']===_0x58a426(0x60d))&&_0x29755c!==null?_0x42956d=_0xb6b17b[_0x58a426(0xa3c)][_0x29755c]:_0x42956d=_0x29755c,_0x24683d['push']({'questionId':_0xb6b17b['id'],'answer':_0x29755c,'answerText':_0x42956d,'isCorrect':_0x597aea,'wasConfident':_0x245764,'pointsAwarded':_0x5bb83f,'originalQuestionText':_0xb6b17b['stem']||_0xb6b17b[_0x58a426(0x9b3)]});}const _0x1a2f81=_0x24683d[_0x58a426(0x6e1)](_0x23ef4f=>_0x23ef4f[_0x58a426(0xd32)])[_0x58a426(0x724)],_0x8081ab=currentDisplayedQuiz[_0x58a426(0x878)]?.[_0x58a426(0x2ec)]??Math[_0x58a426(0x211)](_0x4c6b16/0x2);_0x1a2f81===_0x4c6b16&&_0x4c6b16>0x0&&!currentDisplayedQuiz[_0x58a426(0x56e)]&&_0x361378[_0x58a426(0x633)](BADGES[_0x58a426(0x17a)]['id']);const _0x34f916=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x34f916===_0x58a426(0x2a3)&&quizStartTime){const _0xada0c7=(new Date()-quizStartTime)/0x3e8,_0x7ec391=currentDisplayedQuiz[_0x58a426(0x878)]['timerDuration']*0x3c;_0x1a2f81>=_0x8081ab&&_0xada0c7<_0x7ec391/0x2&&_0x361378[_0x58a426(0x633)](BADGES[_0x58a426(0x245)]['id']);}_0x4701cd[_0x58a426(0x724)]===0x0&&_0x1a2f81===_0x4c6b16&&_0x4c6b16>0x0&&_0x361378[_0x58a426(0x633)](BADGES['FIRST_TRY_ACE']['id']);if(_0x4701cd['length']>0x0){const _0x9c4c02=_0x4701cd[0x0]['score'];if(_0x9c4c02<_0x8081ab&&_0x1a2f81>=_0x8081ab){const _0x75c722=_0x4701cd[_0x58a426(0x7db)](_0x2096e9=>(_0x2096e9[_0x58a426(0x84f)]||[])[_0x58a426(0xe4a)](BADGES['COMEBACK_KING']['id']));!_0x75c722&&_0x361378[_0x58a426(0x633)](BADGES[_0x58a426(0xa43)]['id']);}}_0x4701cd[_0x58a426(0x724)]===0x4&&_0x361378[_0x58a426(0x633)](BADGES[_0x58a426(0x99e)]['id']);const _0x18e5e1=currentDisplayedQuiz[_0x58a426(0x878)][_0x58a426(0x49d)];if(currentMode===_0x58a426(0x6b8)){handleResultDisplay(_0x18e5e1,_0x1a2f81,_0x2bea51,_0x361378,_0x24683d,_0x4c6b16);return;}const _0x4b5da0=currentQuizData['id'],_0x8e33f5=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4b5da0+'/submissions',currentStudentName);try{const _0x17e03c=[..._0x4701cd],_0x4ddc98={'score':_0x1a2f81,'points':_0x2bea51,'badges':Array[_0x58a426(0xe6)](new Set(_0x361378)),'submittedAt':new Date()['toISOString'](),'answers':_0x24683d};_0x17e03c[_0x58a426(0x633)](_0x4ddc98);const _0x33b60d=_0x4701cd[_0x58a426(0x724)]===0x0?_0x1a2f81:_0x4701cd[0x0]['score']||0x0,_0xd91e70=Math['max'](..._0x17e03c['map'](_0x5f3623=>_0x5f3623[_0x58a426(0x82f)]));await setDoc(_0x8e33f5,{'studentName':currentStudentName,'totalQuestions':_0x4c6b16,'attempts':_0x17e03c,'firstScore':_0x33b60d,'bestScore':_0xd91e70,'latestScore':_0x1a2f81,'points':_0x2bea51,'latestSubmittedAt':_0x4ddc98[_0x58a426(0xa9b)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x18e5e1,_0x1a2f81,_0x2bea51,_0x361378,_0x24683d,_0x4c6b16);}catch(_0x4e9b9f){console[_0x58a426(0x339)](_0x58a426(0xa03),_0x4e9b9f),showMessage(_0x58a426(0x64b));}}async function updateStudentProfile(_0x52e75c,_0x51edbf){const _0x4e2e85=_0x5be2be,_0x24f87b=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x52e75c+_0x4e2e85(0x588),_0x51edbf);try{const _0x313c83=query(collection(db,'artifacts/'+appId+_0x4e2e85(0x42c)),where(_0x4e2e85(0xbb0),'==',_0x52e75c)),_0x5c47ca=await getDocs(_0x313c83),_0x56e24c=new Map(_0x5c47ca[_0x4e2e85(0x2b9)][_0x4e2e85(0x546)](_0x47bc25=>[_0x47bc25['id'],_0x47bc25[_0x4e2e85(0x1de)]()])),_0x24356a=Array[_0x4e2e85(0xe6)](_0x56e24c[_0x4e2e85(0x74b)]());await runTransaction(db,async _0x1461e7=>{const _0x18921c=_0x4e2e85;let _0x3cb3e6=0x0;const _0x3185cb={};let _0x3c9e62=!![],_0x1b1d69=0x0,_0x1abf6b=0x0;for(const _0x4ac4b6 of _0x24356a){const _0x47d997=_0x56e24c[_0x18921c(0x5b0)](_0x4ac4b6),_0x38e4b6=doc(db,_0x18921c(0x6e9)+appId+_0x18921c(0x363)+_0x4ac4b6+_0x18921c(0x3e4),_0x51edbf),_0x5aac34=await _0x1461e7['get'](_0x38e4b6);if(_0x5aac34[_0x18921c(0x509)]()){const _0x5d955b=_0x5aac34[_0x18921c(0x1de)](),_0x368a54=_0x5d955b[_0x18921c(0x299)]||[];if(_0x368a54[_0x18921c(0x724)]>0x0){const _0x27f5e9=_0x368a54[_0x18921c(0xd5b)]((_0x369604,_0x3222b9)=>{const _0x2cdaaa=_0x18921c;if(_0x3222b9[_0x2cdaaa(0x82f)]>_0x369604[_0x2cdaaa(0x82f)])return _0x3222b9;if(_0x3222b9[_0x2cdaaa(0x82f)]===_0x369604[_0x2cdaaa(0x82f)])return(_0x3222b9['points']||0x0)>(_0x369604[_0x2cdaaa(0xd6c)]||0x0)?_0x3222b9:_0x369604;return _0x369604;},{'score':-0x1,'points':-0x1});_0x27f5e9[_0x18921c(0x82f)]>-0x1&&(_0x3cb3e6+=_0x27f5e9[_0x18921c(0xd6c)]||0x0,(_0x27f5e9[_0x18921c(0x84f)]||[])[_0x18921c(0xd75)](_0x46309e=>{_0x3185cb[_0x46309e]=(_0x3185cb[_0x46309e]||0x0)+0x1;}));}}if(_0x47d997[_0x18921c(0x380)]!=='แบบทดสอบซ่อมเสริม'){_0x1abf6b++;if(_0x5aac34[_0x18921c(0x509)]()){_0x1b1d69++;const _0x58317f=_0x5aac34[_0x18921c(0x1de)]();_0x58317f[_0x18921c(0x148)]!==_0x58317f[_0x18921c(0xa66)]&&(_0x3c9e62=![]);}else _0x3c9e62=![];}}_0x1abf6b>0x0&&_0x1b1d69===_0x1abf6b&&_0x3c9e62?_0x3185cb[_0x18921c(0x23d)]=0x1:_0x3185cb[_0x18921c(0x23d)]=0x0,_0x1461e7[_0x18921c(0xc51)](_0x24f87b,{'studentName':_0x51edbf,'totalPoints':_0x3cb3e6,'unlockedBadges':Object[_0x18921c(0x74b)](_0x3185cb)['filter'](_0x20ca7a=>_0x3185cb[_0x20ca7a]>0x0),'badgesCount':_0x3185cb},{'merge':!![]});});}catch(_0x2fad9){console[_0x4e2e85(0x339)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x2fad9),showMessage(_0x4e2e85(0x232));}}function startAdminTest(){const _0x28c050=_0x5be2be;if(!currentQuizData){showMessage(_0x28c050(0xe3));return;}let _0x41925a=JSON['parse'](JSON[_0x28c050(0x3f3)](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x28c050(0x6f1)][_0x28c050(0x648)]('hidden'),studentView[_0x28c050(0x6f1)][_0x28c050(0x7d9)]('hidden'),studentInitialView[_0x28c050(0x6f1)][_0x28c050(0x648)](_0x28c050(0x476)),studentNameSelectionView[_0x28c050(0x6f1)]['add'](_0x28c050(0x476)),studentResultArea['classList'][_0x28c050(0x648)](_0x28c050(0x476)),studentQuizArea[_0x28c050(0x6f1)][_0x28c050(0x7d9)](_0x28c050(0x476)),quizStartTime=new Date(),displayQuizForStudent(_0x41925a);}function handleResultDisplay(_0x67e057,_0x2dc3f7,_0x1f892f,_0x82d3a4,_0x30a32c,_0x330f52){const _0x425fa2=_0x5be2be;if(_0x67e057===_0x425fa2(0xcd3)){displaySubmissionConfirmation();return;}const _0x311584=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0x330f52/0x2),_0x543889=currentDisplayedQuiz['settings']?.[_0x425fa2(0xa25)]??![],_0x5918a6=currentDisplayedQuiz[_0x425fa2(0x878)]?.[_0x425fa2(0x459)]===!![],_0x3f846a=_0x2dc3f7<_0x311584,_0x2ccf05=_0x67e057===_0x425fa2(0xc9)||_0x67e057===_0x425fa2(0x6f5);if(_0x5918a6&&_0x3f846a&&!_0x2ccf05){_0x67e057===_0x425fa2(0x5bf)?displayResultsWithAnswers(_0x2dc3f7,_0x1f892f,_0x82d3a4,_0x30a32c,_0x330f52,!![]):displayLoopScreen(_0x2dc3f7,_0x330f52,_0x67e057);return;}if(_0x543889&&_0x3f846a){startAdaptiveFlow(_0x30a32c,_0x2dc3f7,_0x330f52);return;}switch(_0x67e057){case _0x425fa2(0x5bf):displayResultsWithAnswers(_0x2dc3f7,_0x1f892f,_0x82d3a4,_0x30a32c,_0x330f52);break;case _0x425fa2(0x78c):displayResultsScoreOnly(_0x2dc3f7,_0x1f892f,_0x82d3a4,_0x330f52);break;case'show_pass_fail_only':displayPassFailOnly(_0x2dc3f7,_0x330f52);break;case _0x425fa2(0xc9):displayHalfMarkResult(_0x2dc3f7,_0x330f52);break;case _0x425fa2(0x6f5):displayPerfectScoreResult(_0x2dc3f7,_0x330f52);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x180d24){const _0x154f14=_0x5be2be;studentReadingArea[_0x154f14(0x40b)]=_0x154f14(0xb25);const _0x104f69='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x180d24+_0x154f14(0xb97)+simpleMathPrompt+_0x154f14(0xaf9),_0x22fc42={'type':_0x154f14(0x496),'properties':{'questionText':{'type':_0x154f14(0x179)},'options':{'type':_0x154f14(0xbdb),'items':{'type':_0x154f14(0x179)}},'correctAnswerIndex':{'type':_0x154f14(0x44a)},'explanation':{'type':_0x154f14(0x179)}},'required':[_0x154f14(0x9b3),'options',_0x154f14(0x6cf),_0x154f14(0x23c)]},_0x34d6d1={'type':_0x154f14(0x496),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x22fc42}},'required':[_0x154f14(0x380),_0x154f14(0xb1f)]};try{const _0x2c9ca3=await callAnalysisApi(_0x104f69,_0x34d6d1);_0x2c9ca3[_0x154f14(0x56e)]=!![],studentReadingArea[_0x154f14(0x6f1)][_0x154f14(0x648)]('hidden');const _0x344a26={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x154f14(0x5bf)};_0x2c9ca3[_0x154f14(0x878)]=_0x344a26,displayQuizForStudent(_0x2c9ca3);}catch(_0x128c62){console[_0x154f14(0x339)](_0x154f14(0xbcf),_0x128c62),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x154f14(0x7e7));}}function displayPassFailOnly(_0x1077c7,_0x33673a){const _0x227937=_0x5be2be,_0x53cd3f=currentDisplayedQuiz['settings']?.[_0x227937(0x2ec)]??-0x1,_0x2d7712=currentDisplayedQuiz[_0x227937(0x56e)]===!![];let _0x46d894='',_0x2940b9=![];if(_0x2d7712||_0x53cd3f!==-0x1){_0x2940b9=_0x2d7712?_0x1077c7===_0x33673a:_0x1077c7>=_0x53cd3f;const _0x20cce5=_0x2940b9?_0x227937(0x58f):_0x227937(0xb03),_0x2e5b5d=_0x2940b9?_0x227937(0x9a9):_0x227937(0x4f2);_0x46d894=_0x227937(0x73c)+_0x20cce5+'\x22>'+_0x2e5b5d+_0x227937(0xd04);}else _0x46d894='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x15cf05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x227937(0x787)+_0x46d894+_0x227937(0x13e);studentResultArea[_0x227937(0x40b)]=_0x15cf05,studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x227937(0x6f1)][_0x227937(0x648)](_0x227937(0x476)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2940b9});}function cancelAdminTest(){const _0x1075c2=_0x5be2be;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1075c2(0xdfc)](_0x1075c2(0x1a3),handleFullscreenChange),document[_0x1075c2(0xdfc)](_0x1075c2(0x76b),handleVisibilityChange),currentMode=_0x1075c2(0x84c),studentView[_0x1075c2(0x6f1)][_0x1075c2(0x648)]('hidden'),adminView['classList'][_0x1075c2(0x7d9)](_0x1075c2(0x476)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x1075c2(0x5e1));}function setupResultScreenBackButton(_0x5bf72a){const _0x98bd0e=_0x5be2be,_0x5133da={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x5bf72a};if(_0x5133da[_0x98bd0e(0x885)]){const _0x31151c=_0x98bd0e(0xe7);studentResultArea['insertAdjacentHTML']('beforeend',_0x31151c),document[_0x98bd0e(0xc4d)](_0x98bd0e(0xb77))['addEventListener'](_0x98bd0e(0x4f4),()=>{const _0x2dbeb1=_0x98bd0e;studentResultArea[_0x2dbeb1(0x6f1)][_0x2dbeb1(0x648)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x770c06=_0x98bd0e(0x83f),_0x375bc0=currentMode===_0x98bd0e(0x6b8),_0x300bb5=_0x375bc0?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x98bd0e(0x3c8);let _0x1bddc2='';_0x5133da[_0x98bd0e(0x2f4)]&&(_0x1bddc2+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x4a27c3=_0x5133da[_0x98bd0e(0x4e7)];_0x4a27c3===undefined&&(_0x4a27c3=_0x5133da['score']<_0x5133da[_0x98bd0e(0xa66)]);_0x4a27c3&&(_0x1bddc2+=_0x98bd0e(0x1e0));_0x1bddc2+=_0x98bd0e(0x56f)+_0x770c06+_0x98bd0e(0x3c7)+_0x300bb5+'</button>';const _0x58ac93=_0x98bd0e(0x8d3)+_0x1bddc2+_0x98bd0e(0xcf0);studentResultArea[_0x98bd0e(0x4dc)]('beforeend',_0x58ac93),studentResultArea[_0x98bd0e(0xab2)]('#view-rankings-btn')?.['addEventListener']('click',handleShowStudentRankings);const _0x583e61=studentResultArea['querySelector']('#retake-for-improvement-btn');_0x583e61&&_0x583e61[_0x98bd0e(0x5a2)](_0x98bd0e(0x4f4),()=>{const _0x39de46=_0x98bd0e;studentResultArea[_0x39de46(0x6f1)][_0x39de46(0x648)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x98bd0e(0xc4d)](_0x770c06)['addEventListener'](_0x98bd0e(0x4f4),()=>{const _0x32f5d7=_0x98bd0e;_0x375bc0?(currentMode=_0x32f5d7(0x84c),studentView['classList']['add']('hidden'),adminView[_0x32f5d7(0x6f1)][_0x32f5d7(0x7d9)](_0x32f5d7(0x476)),showView(_0x32f5d7(0x5e1))):(showView(_0x32f5d7(0x7e7)),document[_0x32f5d7(0xc4d)]('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x2817e6,_0x55139f,_0x72a5f9,_0x2cd8cc,_0x23f0b2,_0x1e5aae=![]){const _0x5ac71a=_0x5be2be,_0xcd3680=_0x23f0b2>0x0?_0x2817e6/_0x23f0b2*0x64:0x0,_0x466a4b=currentDisplayedQuiz[_0x5ac71a(0x878)]?.[_0x5ac71a(0x2ec)]??-0x1,_0x3656e0=currentDisplayedQuiz['isRemedial']===!![];let _0x3caa67='';if(_0x3656e0||_0x466a4b!==-0x1){let _0xee303d=_0x3656e0?_0x2817e6===_0x23f0b2:_0x2817e6>=_0x466a4b;const _0x2e9226=_0xee303d?_0x5ac71a(0x58f):_0x5ac71a(0xb03),_0x3b08f7=_0xee303d?_0x5ac71a(0x9a9):'ไม่ผ่าน';_0x3caa67=_0x5ac71a(0x150)+_0x2e9226+'\x22>'+_0x3b08f7+_0x5ac71a(0xe35);}let _0x1cfa5a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x5ac71a(0x811)+_0x2817e6+_0x5ac71a(0x7b2)+_0x23f0b2+_0x5ac71a(0x488)+_0x3caa67+_0x5ac71a(0xa5a)+_0x55139f+_0x5ac71a(0x6aa)+_0xcd3680[_0x5ac71a(0x935)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x5ac71a(0xb1f)][_0x5ac71a(0xd75)]((_0x485f00,_0x55b21b)=>{const _0x35bc9f=_0x5ac71a,_0x3f831d=_0x2cd8cc[_0x55b21b],_0x42e48a=_0x3f831d[_0x35bc9f(0x903)],_0x218e19=_0x3f831d[_0x35bc9f(0xd32)],_0xc33b4a=_0x485f00[_0x35bc9f(0xc7b)]||currentDisplayedQuiz[_0x35bc9f(0xd93)];_0x1cfa5a+=_0x35bc9f(0x76c)+(_0x218e19?'border-green-300\x20bg-green-50':_0x35bc9f(0x9a0))+_0x35bc9f(0xd3d)+(_0x55b21b+0x1)+'.\x20'+(_0x485f00[_0x35bc9f(0xb4a)]||_0x485f00[_0x35bc9f(0x9b3)])+_0x35bc9f(0xc35);switch(_0xc33b4a){case _0x35bc9f(0xd41):const _0x595700=_0x42e48a||'ไม่ได้ตอบ',_0x24ec1d=_0x485f00['correctResponse'];_0x1cfa5a+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x218e19?_0x35bc9f(0x40c):'')+'\x22>'+_0x595700+'</span></p>';!_0x218e19&&(_0x1cfa5a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x24ec1d+_0x35bc9f(0xe35));break;case _0x35bc9f(0xa13):case _0x35bc9f(0x738):_0x1cfa5a+=_0x35bc9f(0xb32)+(_0x42e48a||_0x35bc9f(0x75b))+'</p>',_0x1cfa5a+=_0x35bc9f(0x548)+_0x485f00[_0x35bc9f(0x1d8)]+'</p>';break;case _0x35bc9f(0xd99):_0x1cfa5a+='<p\x20class=\x22'+(_0x485f00['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x42e48a==='true'&&!_0x218e19?_0x35bc9f(0x40c):'')+_0x35bc9f(0x3c2),_0x1cfa5a+='<p\x20class=\x22'+(_0x485f00[_0x35bc9f(0x66a)]===![]?_0x35bc9f(0x10b):'')+'\x20'+(_0x42e48a==='false'&&!_0x218e19?'line-through\x20text-red-700':'')+_0x35bc9f(0x788);break;case _0x35bc9f(0x807):case _0x35bc9f(0x60d):default:if(_0x485f00['options']&&Array[_0x35bc9f(0x228)](_0x485f00[_0x35bc9f(0xa3c)]))_0x1cfa5a+=_0x485f00[_0x35bc9f(0xa3c)][_0x35bc9f(0x546)]((_0x1e46a0,_0x5d4495)=>{const _0x3d5c44=_0x35bc9f;let _0xd4142b='',_0x446b67='';if(_0x5d4495===_0x485f00[_0x3d5c44(0x6cf)])_0xd4142b='font-bold\x20text-green-700',_0x446b67='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x5d4495===_0x42e48a&&(_0xd4142b='font-bold\x20text-red-700\x20line-through',_0x446b67='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0xd4142b+'\x22>'+_0x446b67+_0x1e46a0+_0x3d5c44(0xcf0);})['join']('');else{_0x1cfa5a+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x42e48a||_0x35bc9f(0x75b))+'</p>';if(!_0x218e19)_0x1cfa5a+=_0x35bc9f(0x36f);}break;}_0x1cfa5a+=_0x35bc9f(0x9c5)+(_0x485f00[_0x35bc9f(0x23c)]||_0x35bc9f(0x63c))+_0x35bc9f(0xcf0);if(!_0x218e19){const _0x4026fa=_0x485f00[_0x35bc9f(0xb4a)]||_0x485f00['questionText'];_0x1cfa5a+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x4026fa)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x1cfa5a+=_0x35bc9f(0xcf0);}),studentResultArea[_0x5ac71a(0x40b)]=_0x1cfa5a,renderEarnedBadges(_0x72a5f9,_0x5ac71a(0xc4b)),studentResultArea[_0x5ac71a(0x6f1)][_0x5ac71a(0x7d9)](_0x5ac71a(0x476)),studentQuizArea[_0x5ac71a(0x6f1)][_0x5ac71a(0x648)](_0x5ac71a(0x476)),setupResultScreenBackButton({'isLooping':_0x1e5aae,'score':_0x2817e6,'totalQuestions':_0x23f0b2,'showRankings':!![]});if(window[_0x5ac71a(0x1bb)])window[_0x5ac71a(0x1bb)][_0x5ac71a(0xd71)]([studentResultArea]);}function displayResultsScoreOnly(_0x394555,_0x56bef0,_0xef7fef,_0x1a85f0){const _0x2f1646=_0x5be2be,_0x155941=_0x1a85f0>0x0?_0x394555/_0x1a85f0*0x64:0x0,_0x5ceffd=currentDisplayedQuiz[_0x2f1646(0x878)]?.[_0x2f1646(0x2ec)]??-0x1,_0x24a066=currentDisplayedQuiz[_0x2f1646(0x56e)]===!![];let _0x134dd9='';if(_0x24a066||_0x5ceffd!==-0x1){let _0x3591af=_0x24a066?_0x394555===_0x1a85f0:_0x394555>=_0x5ceffd;const _0x24dad3=_0x3591af?_0x2f1646(0x58f):_0x2f1646(0xb03),_0x8ccdf8=_0x3591af?_0x2f1646(0x9a9):_0x2f1646(0x4f2);_0x134dd9=_0x2f1646(0x150)+_0x24dad3+'\x22>'+_0x8ccdf8+_0x2f1646(0xe35);}let _0x42b768='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2f1646(0x6ac)+_0x394555+_0x2f1646(0x54d)+_0x1a85f0+_0x2f1646(0x488)+_0x134dd9+_0x2f1646(0xa5a)+_0x56bef0+_0x2f1646(0xe78)+_0x155941[_0x2f1646(0x935)](0x0)+_0x2f1646(0xe26);studentResultArea[_0x2f1646(0x40b)]=_0x42b768,renderEarnedBadges(_0xef7fef,_0x2f1646(0xc4b)),studentResultArea['classList'][_0x2f1646(0x7d9)](_0x2f1646(0x476)),studentQuizArea[_0x2f1646(0x6f1)][_0x2f1646(0x648)](_0x2f1646(0x476)),setupResultScreenBackButton({'score':_0x394555,'totalQuestions':_0x1a85f0,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1c6bd1=_0x5be2be;let _0x5a5983='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x1c6bd1(0xceb);studentResultArea[_0x1c6bd1(0x40b)]=_0x5a5983,studentResultArea['classList'][_0x1c6bd1(0x7d9)](_0x1c6bd1(0x476)),studentQuizArea['classList'][_0x1c6bd1(0x648)](_0x1c6bd1(0x476)),document[_0x1c6bd1(0xc4d)]('back-to-home-manual-release')[_0x1c6bd1(0x5a2)]('click',()=>{const _0x506eb7=_0x1c6bd1;showView(_0x506eb7(0x7e7)),document[_0x506eb7(0xc4d)](_0x506eb7(0xd51))['value']='';});}function renderEarnedBadges(_0x196014,_0x140da6){const _0x4e0204=_0x5be2be,_0x4d6876=document['getElementById'](_0x140da6);if(!_0x4d6876||!_0x196014||_0x196014['length']===0x0)return;let _0x142df7='';_0x196014['forEach']((_0x219073,_0x5e3007)=>{const _0x529674=_0x46b4,_0x1b7bcc=Object[_0x529674(0x37f)](BADGES)['find'](_0x5b5985=>_0x5b5985['id']===_0x219073);_0x1b7bcc&&(_0x142df7+=_0x529674(0x393)+_0x5e3007*0.2+_0x529674(0xdb8)+_0x1b7bcc['description']+_0x529674(0xb84)+_0x1b7bcc['icon']+_0x529674(0x9ad)+_0x1b7bcc['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x4d6876[_0x4e0204(0x40b)]=_0x142df7;}function startPresentation(_0xc6fbf6){const _0x2507c2=_0x5be2be;currentQuizData=getShuffledQuiz(_0xc6fbf6),currentPresentationSlide=0x0,presentationModal[_0x2507c2(0x201)][_0x2507c2(0xa9c)]=_0x2507c2(0x41c),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5127a2=_0x5be2be;document[_0x5127a2(0x4ca)]&&document['exitFullscreen'](),presentationModal['style'][_0x5127a2(0xa9c)]=_0x5127a2(0x611);}function renderPresentationSlide(_0x1d1682){const _0x23ab6e=_0x5be2be,_0x5f5a96=document[_0x23ab6e(0xc4d)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x23ab6e(0xb1f)][_0x1d1682]){_0x5f5a96[_0x23ab6e(0x40b)]=_0x23ab6e(0x168);return;}const _0x36fd88=currentQuizData[_0x23ab6e(0xb1f)][_0x1d1682],_0x3fdf87=_0x36fd88['questionType']||currentQuizData[_0x23ab6e(0xd93)];_0x5f5a96[_0x23ab6e(0x40b)]='';let _0x3b83f6=_0x23ab6e(0xd8e)+(_0x36fd88['imageCode']?_0x23ab6e(0x3a2)+_0x36fd88[_0x23ab6e(0x145)]+_0x23ab6e(0xcf0):'')+_0x23ab6e(0x6ba)+(_0x1d1682+0x1)+'.\x20'+(_0x36fd88[_0x23ab6e(0xb4a)]||_0x36fd88[_0x23ab6e(0x9b3)])+_0x23ab6e(0xcce);switch(_0x3fdf87){case'matching_item':_0x3b83f6+=_0x36fd88[_0x23ab6e(0xbc0)][_0x23ab6e(0x546)](_0x1d403d=>_0x23ab6e(0xca4)+_0x1d403d+_0x23ab6e(0x7da))['join']('');break;case'true_false':_0x3b83f6+=_0x23ab6e(0x1f5),_0x3b83f6+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x23ab6e(0xa13):case _0x23ab6e(0x738):_0x3b83f6+=_0x23ab6e(0x2e2);break;case'fill_in_the_blank':case'multiple_choice':default:_0x3b83f6+=_0x36fd88[_0x23ab6e(0xa3c)][_0x23ab6e(0x546)]((_0x11539b,_0x4aa2ba)=>_0x23ab6e(0x6a8)+_0x4aa2ba+_0x23ab6e(0x3b9)+_0x11539b+_0x23ab6e(0x7da))[_0x23ab6e(0x625)]('');break;}_0x3b83f6+=_0x23ab6e(0xd4b)+(_0x36fd88[_0x23ab6e(0x23c)]||_0x23ab6e(0x63c))+_0x23ab6e(0x937),_0x5f5a96[_0x23ab6e(0x40b)]=_0x3b83f6;if(window[_0x23ab6e(0x1bb)])window[_0x23ab6e(0x1bb)]['typesetPromise']([_0x5f5a96]);let _0x183ec8=[];switch(_0x3fdf87){case _0x23ab6e(0xd41):_0x183ec8=_0x36fd88[_0x23ab6e(0xbc0)]||[];break;case'true_false':_0x183ec8=[_0x23ab6e(0x43d),_0x23ab6e(0xdba)];break;default:_0x183ec8=_0x36fd88[_0x23ab6e(0xa3c)]||[];break;}const _0x29a157=document['getElementById'](_0x23ab6e(0x401));_0x29a157&&(_0x29a157[_0x23ab6e(0x8f5)]=()=>{openScratchpad(_0x36fd88,_0x183ec8);});document['querySelectorAll'](_0x23ab6e(0xce6))[_0x23ab6e(0xd75)](_0x2ba54f=>{const _0x484c5f=_0x23ab6e;_0x2ba54f[_0x484c5f(0x5a2)](_0x484c5f(0x4f4),_0x8fd256=>revealAnswerForPresentation(_0x1d1682,_0x8fd256['currentTarget']));});const _0x11b40=document[_0x23ab6e(0xc4d)](_0x23ab6e(0xd67));_0x11b40&&_0x11b40[_0x23ab6e(0x5a2)](_0x23ab6e(0x4f4),()=>checkShortAnswerForPresentation(_0x1d1682)),document[_0x23ab6e(0xc4d)](_0x23ab6e(0x34c))[_0x23ab6e(0x4c4)]=_0x23ab6e(0x97e)+(_0x1d1682+0x1)+_0x23ab6e(0x6e0)+currentQuizData[_0x23ab6e(0xb1f)][_0x23ab6e(0x724)],document[_0x23ab6e(0xc4d)](_0x23ab6e(0x767))[_0x23ab6e(0xbb3)]=_0x1d1682===0x0,document[_0x23ab6e(0xc4d)](_0x23ab6e(0x2df))[_0x23ab6e(0xbb3)]=_0x1d1682===currentQuizData['questions'][_0x23ab6e(0x724)]-0x1;}async function checkShortAnswerForPresentation(_0xac2175){const _0x36a048=_0x5be2be,_0x5c5b71=currentQuizData[_0x36a048(0xb1f)][_0xac2175],_0x4baedd=document[_0x36a048(0xc4d)](_0x36a048(0x823)),_0x559aea=document['getElementById']('check-presentation-answer-btn'),_0x2e4e3d=document[_0x36a048(0xc4d)](_0x36a048(0xdc9)),_0x1eae89=document[_0x36a048(0xc4d)](_0x36a048(0xd61));if(!_0x4baedd||!_0x559aea||!_0x2e4e3d||!_0x1eae89)return;const _0x152281=_0x4baedd[_0x36a048(0x1ce)]['trim']();if(_0x152281==='')return;_0x559aea['disabled']=!![],_0x559aea[_0x36a048(0x40b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x4baedd['disabled']=!![];const _0x4dec21=await gradeShortAnswer(_0x152281,_0x5c5b71);_0x4dec21?_0x2e4e3d['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x2e4e3d[_0x36a048(0x40b)]=_0x36a048(0x404)+_0x5c5b71[_0x36a048(0x1d8)]+')',_0x2e4e3d[_0x36a048(0x6f1)][_0x36a048(0x7d9)](_0x36a048(0x476)),_0x1eae89['classList']['remove']('hidden'),_0x559aea[_0x36a048(0x6f1)][_0x36a048(0x648)](_0x36a048(0x476));}function revealAnswerForPresentation(_0x43a9c4,_0x365ed8){const _0x305ad6=_0x5be2be,_0x9cd53a=currentQuizData[_0x305ad6(0xb1f)][_0x43a9c4],_0x16372d=_0x9cd53a[_0x305ad6(0xc7b)]||currentQuizData['quizType'];document['querySelectorAll'](_0x305ad6(0xce6))[_0x305ad6(0xd75)](_0x23abf4=>{const _0x3c33c8=_0x305ad6;_0x23abf4[_0x3c33c8(0xbb3)]=!![],_0x23abf4['classList'][_0x3c33c8(0x7d9)](_0x3c33c8(0x4e4));let _0x459004=![];if(_0x16372d===_0x3c33c8(0x807)||_0x16372d===_0x3c33c8(0xc86)){const _0x98e066=parseInt(_0x23abf4[_0x3c33c8(0xa2c)][_0x3c33c8(0xcb4)]);_0x459004=_0x98e066===_0x9cd53a[_0x3c33c8(0x6cf)];}else{if(_0x16372d===_0x3c33c8(0xd99)){const _0x57b0bc=_0x23abf4[_0x3c33c8(0xa2c)][_0x3c33c8(0x903)]==='true';_0x459004=_0x57b0bc===_0x9cd53a[_0x3c33c8(0x66a)];}else _0x16372d===_0x3c33c8(0xd41)&&(_0x459004=_0x23abf4['textContent'][_0x3c33c8(0x2ce)]()===_0x9cd53a[_0x3c33c8(0xa3a)]);}_0x459004?_0x23abf4[_0x3c33c8(0x6f1)][_0x3c33c8(0x648)](_0x3c33c8(0xd19),_0x3c33c8(0xcb9),_0x3c33c8(0x129)):_0x23abf4[_0x3c33c8(0x6f1)]['add']('opacity-50');}),_0x365ed8['classList'][_0x305ad6(0x7d9)](_0x305ad6(0x405));let _0x3fece8=![];if(_0x16372d===_0x305ad6(0x807))_0x3fece8=parseInt(_0x365ed8['dataset'][_0x305ad6(0xcb4)])===_0x9cd53a[_0x305ad6(0x6cf)];else{if(_0x16372d===_0x305ad6(0xd99))_0x3fece8=_0x365ed8[_0x305ad6(0xa2c)][_0x305ad6(0x903)]===_0x305ad6(0xe16)===_0x9cd53a['correctAnswer'];else _0x16372d==='matching_item'&&(_0x3fece8=_0x365ed8[_0x305ad6(0x4c4)][_0x305ad6(0x2ce)]()===_0x9cd53a['correctResponse']);}!_0x3fece8&&_0x365ed8[_0x305ad6(0x6f1)][_0x305ad6(0x648)](_0x305ad6(0x5b5),'text-white',_0x305ad6(0xcf1)),document[_0x305ad6(0xc4d)](_0x305ad6(0xd61))[_0x305ad6(0x6f1)][_0x305ad6(0x7d9)]('hidden');}function _0x46b4(_0x273006,_0x52cb6c){const _0x53791c=_0x5379();return _0x46b4=function(_0x46b4a5,_0x34b6e3){_0x46b4a5=_0x46b4a5-0xc8;let _0x3a7062=_0x53791c[_0x46b4a5];return _0x3a7062;},_0x46b4(_0x273006,_0x52cb6c);}function startWholeQuizTimer(_0x3615ea){const _0x4cd5a0=_0x5be2be,_0x4db70f=document[_0x4cd5a0(0xc4d)](_0x4cd5a0(0x81a));if(!_0x4db70f)return;const _0x3d4146=Date[_0x4cd5a0(0xe3e)]()+_0x3615ea*0x3c*0x3e8;_0x4db70f[_0x4cd5a0(0x40b)]=_0x4cd5a0(0x93c);const _0x1e7c4e=document[_0x4cd5a0(0xc4d)](_0x4cd5a0(0x399));quizTimerInterval=setInterval(()=>{const _0x49de3b=_0x4cd5a0,_0xe77cce=_0x3d4146-Date[_0x49de3b(0xe3e)]();if(_0xe77cce<=0x0)clearInterval(quizTimerInterval),_0x1e7c4e[_0x49de3b(0x4c4)]=_0x49de3b(0x809),showMessage(_0x49de3b(0xb0b)),handleSubmitQuiz(null);else{const _0x398f87=Math[_0x49de3b(0x211)](_0xe77cce/0x3e8/0x3c%0x3c)[_0x49de3b(0x386)]()[_0x49de3b(0xdbb)](0x2,'0'),_0xaad030=Math[_0x49de3b(0x211)](_0xe77cce/0x3e8%0x3c)[_0x49de3b(0x386)]()['padStart'](0x2,'0');_0x1e7c4e[_0x49de3b(0x4c4)]=_0x398f87+':'+_0xaad030;}},0x3e8);}function renderPerQuestionView(){const _0x5d2258=_0x5be2be;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x47a77c=currentDisplayedQuiz[_0x5d2258(0xb1f)][currentQuestionIndex],_0x3c6371=_0x47a77c[_0x5d2258(0xc7b)]||currentDisplayedQuiz[_0x5d2258(0xd93)],_0xa46510=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![];let _0x4380ca=_0x5d2258(0x794)+(currentQuestionIndex+0x1)+_0x5d2258(0x18e)+currentDisplayedQuiz[_0x5d2258(0xb1f)][_0x5d2258(0x724)]+_0x5d2258(0x12c)+(currentMode===_0x5d2258(0x6b8)?_0x5d2258(0xc92):'')+_0x5d2258(0x74d)+currentDisplayedQuiz[_0x5d2258(0x380)]+_0x5d2258(0x635);studentQuizArea['innerHTML']=_0x4380ca;let _0x5f125a=_0x47a77c[_0x5d2258(0xb4a)]||_0x47a77c['questionText'];_0x47a77c[_0x5d2258(0x145)]&&(_0x5f125a+=_0x5d2258(0x3a2)+_0x47a77c[_0x5d2258(0x145)]+_0x5d2258(0xcf0));let _0x1e875e='';switch(_0x3c6371){case _0x5d2258(0x738):case'fill_in_no_choices':_0x1e875e=_0x5d2258(0x8b3);break;case _0x5d2258(0xd99):_0x1e875e=_0x5d2258(0xa07);break;case _0x5d2258(0xd41):_0x1e875e=_0x5d2258(0xb52)+(_0x47a77c[_0x5d2258(0xbc0)]||[])[_0x5d2258(0x546)](_0x12b5d1=>_0x5d2258(0x813)+_0x12b5d1+'\x22>'+_0x12b5d1+'</option>')[_0x5d2258(0x625)]('')+_0x5d2258(0xa82);break;default:_0x47a77c[_0x5d2258(0xa3c)]&&(_0x1e875e=_0x47a77c[_0x5d2258(0xa3c)][_0x5d2258(0x546)]((_0xa1ad46,_0x4a942a)=>_0x5d2258(0x8ea)+_0x4a942a+_0x5d2258(0x42b)+_0x4a942a+_0x5d2258(0x348)+_0x4a942a+'\x22>'+_0xa1ad46+_0x5d2258(0xaff))['join'](''));break;}document[_0x5d2258(0xc4d)](_0x5d2258(0xb6a))['innerHTML']=_0x5f125a,document['getElementById'](_0x5d2258(0x1c6))[_0x5d2258(0x40b)]=_0x1e875e;const _0x399d6c=currentDisplayedQuiz[_0x5d2258(0x878)]?.[_0x5d2258(0x1af)]===!![],_0xbcf209=currentDisplayedQuiz[_0x5d2258(0x878)]?.[_0x5d2258(0xc6c)]||_0x5d2258(0x1c5);if(_0x399d6c&&_0xbcf209===_0x5d2258(0x1c5)){const _0x329cb9=_0x5d2258(0x597);studentQuizArea['querySelector'](_0x5d2258(0x771))[_0x5d2258(0x4dc)]('beforeend',_0x329cb9);}studentQuizArea['insertAdjacentHTML']('beforeend',_0x5d2258(0x85a)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x5d2258(0x724)]-0x1?_0x5d2258(0x763):_0x5d2258(0xb45))+_0x5d2258(0x685));currentMode===_0x5d2258(0x6b8)&&document[_0x5d2258(0xc4d)](_0x5d2258(0xba4))?.['addEventListener']('click',cancelAdminTest);document[_0x5d2258(0xc4d)]('next-question-timed-btn')[_0x5d2258(0x5a2)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x5d2258(0x1bb)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x5d2258(0x878)]?.[_0x5d2258(0x120)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x14b899=_0x5be2be,_0x2e2bb1=currentDisplayedQuiz['settings'][_0x14b899(0xd0b)],_0x432176=document[_0x14b899(0xc4d)](_0x14b899(0x83a));if(!_0x432176)return;let _0x42369a=_0x2e2bb1;_0x432176[_0x14b899(0x40b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x42369a+_0x14b899(0x9b9);const _0x30ea44=document[_0x14b899(0xc4d)](_0x14b899(0x8c7)),_0x4dad1d=document[_0x14b899(0xc4d)](_0x14b899(0x284));perQuestionTimerInterval=setInterval(()=>{const _0x3a6fdf=_0x14b899;_0x42369a--;const _0x56527d=_0x42369a/_0x2e2bb1*0x64;_0x30ea44[_0x3a6fdf(0x201)][_0x3a6fdf(0x6a7)]=_0x56527d+'%',_0x4dad1d[_0x3a6fdf(0x4c4)]=_0x42369a,_0x42369a<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3a6fdf(0xb4f)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xd1bdc1=![]){const _0x9a1e7d=_0x5be2be;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1ea920=null,_0x23aab3=![];if(!_0xd1bdc1){const _0x244b1c=currentDisplayedQuiz[_0x9a1e7d(0xb1f)][currentQuestionIndex],_0x44a84e=_0x244b1c[_0x9a1e7d(0xc7b)]||currentDisplayedQuiz[_0x9a1e7d(0xd93)];if(_0x44a84e===_0x9a1e7d(0x738)||_0x44a84e==='fill_in_no_choices')_0x1ea920=document[_0x9a1e7d(0xab2)](_0x9a1e7d(0x831))?.[_0x9a1e7d(0x1ce)][_0x9a1e7d(0x2ce)]()??'';else{if(_0x44a84e===_0x9a1e7d(0xd41))_0x1ea920=document[_0x9a1e7d(0xab2)](_0x9a1e7d(0x25f))?.[_0x9a1e7d(0x1ce)]??'';else{const _0x3cd176=document[_0x9a1e7d(0xab2)](_0x9a1e7d(0x350));_0x3cd176&&(_0x1ea920=_0x3cd176[_0x9a1e7d(0x1ce)]);}}if(_0x1ea920===null||_0x1ea920===''){showMessage(_0x9a1e7d(0xd30)),startPerQuestionTimer();return;}const _0x2ad9c7=currentDisplayedQuiz['settings']?.[_0x9a1e7d(0x1af)]===!![],_0xd662f2=currentDisplayedQuiz[_0x9a1e7d(0x878)]?.[_0x9a1e7d(0xc6c)]||_0x9a1e7d(0x1c5);if(_0x2ad9c7&&_0xd662f2===_0x9a1e7d(0xe5e)){document[_0x9a1e7d(0xc4d)]('confidence-modal')[_0x9a1e7d(0xa2c)]['currentMode']=_0x9a1e7d(0x7b7),document[_0x9a1e7d(0xc4d)]('selected-answer-index-hidden')[_0x9a1e7d(0x1ce)]=_0x1ea920,document[_0x9a1e7d(0xc4d)](_0x9a1e7d(0x535))[_0x9a1e7d(0x6f1)]['remove']('hidden');return;}const _0x529fc1=document[_0x9a1e7d(0xc4d)]('confidence_single');_0x529fc1&&(_0x23aab3=_0x529fc1[_0x9a1e7d(0x315)]);}const _0x498f72={'answer':_0x1ea920,'wasConfident':_0x23aab3};proceedToNextQuestion(_0x498f72);}async function finalizePerQuestionQuiz(){const _0x3aee2a=_0x5be2be,_0x1c8cc7=currentDisplayedQuiz[_0x3aee2a(0xb1f)][_0x3aee2a(0x7db)](_0x2588ef=>_0x2588ef[_0x3aee2a(0xc7b)]==='short_answer');_0x1c8cc7?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x3aee2a(0x38d));const _0x59f5a3=currentQuizData['id'],_0x536bc0=doc(db,'artifacts/'+appId+_0x3aee2a(0x363)+_0x59f5a3+_0x3aee2a(0x3e4),currentStudentName),_0x428208=await getDoc(_0x536bc0),_0x152155=_0x428208['exists']()?_0x428208[_0x3aee2a(0x1de)]():{},_0x4d798f=_0x152155[_0x3aee2a(0x299)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4d798f);}function getResultsFilename(){const _0x53125c=_0x5be2be,_0x36db31=document[_0x53125c(0xc4d)](_0x53125c(0xad5))[_0x53125c(0x4c4)][_0x53125c(0x6c0)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x53125c(0x4b7)+(_0x36db31||'quiz');}function exportResultsAsImage(){const _0x54410e=_0x5be2be,_0x464c2e=document[_0x54410e(0xc4d)](_0x54410e(0x448));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x464c2e)[_0x54410e(0x52b)](_0x47ed7b=>{const _0x3dae7a=_0x54410e,_0x1af898=document[_0x3dae7a(0x52f)]('a');_0x1af898[_0x3dae7a(0x319)]=getResultsFilename()+_0x3dae7a(0xe58),_0x1af898[_0x3dae7a(0x7a6)]=_0x47ed7b[_0x3dae7a(0xd23)](_0x3dae7a(0xa05)),_0x1af898[_0x3dae7a(0x4f4)](),messageModal['classList'][_0x3dae7a(0x648)](_0x3dae7a(0x476));});}function exportResultsAsPDF(){const _0x4fdead=_0x5be2be,{jsPDF:_0x1b16c0}=window[_0x4fdead(0x938)],_0x38412a=new _0x1b16c0();_0x38412a[_0x4fdead(0x457)](_0x4fdead(0x2c6),'normal'),_0x38412a['autoTable']({'html':'#results-table'}),_0x38412a[_0x4fdead(0xb5f)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x3e3fe0=_0x5be2be,_0x1f1568=_0x3e3fe0(0x24e)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x3e3fe0(0x14a)+_0x3e3fe0(0xd7c),_0x15dffc=_0x3e3fe0(0xe62),_0x3dbbef=_0x1f1568+document[_0x3e3fe0(0xc4d)]('results-table-container')[_0x3e3fe0(0x40b)]+_0x15dffc,_0x1e053c='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x3dbbef),_0x5882ec=document[_0x3e3fe0(0x52f)]('a');document[_0x3e3fe0(0x671)][_0x3e3fe0(0xe03)](_0x5882ec),_0x5882ec[_0x3e3fe0(0x7a6)]=_0x1e053c,_0x5882ec[_0x3e3fe0(0x319)]=getResultsFilename()+_0x3e3fe0(0x2e3),_0x5882ec['click'](),document[_0x3e3fe0(0x671)][_0x3e3fe0(0x44f)](_0x5882ec);}function exportResultsAsExcel(){const _0x18cf1a=_0x5be2be,_0x2dc74a=document['getElementById'](_0x18cf1a(0xc6f));let _0x44945b=[];for(let _0x18443d=0x0;_0x18443d<_0x2dc74a[_0x18cf1a(0xc65)]['length'];_0x18443d++){let _0x269df=[],_0xd208ed=_0x2dc74a[_0x18cf1a(0xc65)][_0x18443d][_0x18cf1a(0x760)](_0x18cf1a(0xb9a));for(let _0x4b8da6=0x0;_0x4b8da6<_0xd208ed['length'];_0x4b8da6++){_0x269df['push']('\x22'+_0xd208ed[_0x4b8da6][_0x18cf1a(0x717)][_0x18cf1a(0x6c0)](/"/g,'\x22\x22')+'\x22');}_0x44945b[_0x18cf1a(0x633)](_0x269df[_0x18cf1a(0x625)](','));}const _0x57029f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x44945b[_0x18cf1a(0x625)]('\x0a')],{'type':_0x18cf1a(0x7b1)}),_0x2e2e0d=document[_0x18cf1a(0x52f)]('a');_0x2e2e0d[_0x18cf1a(0x7a6)]=URL[_0x18cf1a(0x15b)](_0x57029f),_0x2e2e0d['download']=getResultsFilename()+_0x18cf1a(0x47d),_0x2e2e0d[_0x18cf1a(0x4f4)]();}function exportTableAsImage(_0x58e435,_0x2f72b8){const _0x2018cc=_0x5be2be,_0x41c053=document[_0x2018cc(0xc4d)](_0x58e435),_0x45d620=document[_0x2018cc(0xc4d)](_0x2018cc(0xad5));if(!_0x41c053){showMessage(_0x2018cc(0xccf));return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x2dc2b9=document[_0x2018cc(0x52f)](_0x2018cc(0xe52));_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x589)]=_0x2018cc(0x520),_0x2dc2b9['style'][_0x2018cc(0x1ef)]=_0x2018cc(0x2aa),_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x6a7)]=_0x2018cc(0xa3d),_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x859)]=_0x2018cc(0x7a3),_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x3a6)]='-9999px',_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x3e2)]='0',_0x2dc2b9[_0x2018cc(0x201)][_0x2018cc(0x9ea)]='-1';const _0x3f0dbb=document[_0x2018cc(0x52f)]('h1');_0x3f0dbb[_0x2018cc(0x717)]=_0x45d620?_0x45d620[_0x2018cc(0x717)]:_0x2018cc(0x934),_0x3f0dbb[_0x2018cc(0x201)][_0x2018cc(0x7fc)]=_0x2018cc(0x2b3),_0x3f0dbb[_0x2018cc(0x201)][_0x2018cc(0x6bb)]='\x27Sarabun\x27,\x20sans-serif',_0x3f0dbb[_0x2018cc(0x201)]['fontSize']=_0x2018cc(0x3b3),_0x3f0dbb['style'][_0x2018cc(0xcc1)]=_0x2018cc(0x551),_0x3f0dbb[_0x2018cc(0x201)][_0x2018cc(0xb40)]=_0x2018cc(0x7d6),_0x3f0dbb[_0x2018cc(0x201)][_0x2018cc(0x7b5)]=_0x2018cc(0xe50);const _0x59e5c3=_0x41c053[_0x2018cc(0x686)](!![]);_0x59e5c3['style'][_0x2018cc(0xb7d)]=_0x2018cc(0x611),_0x59e5c3[_0x2018cc(0x201)][_0x2018cc(0x960)]=_0x2018cc(0xcc8);const _0x36d13f=_0x59e5c3[_0x2018cc(0x760)]('th');let _0xeff09e=-0x1;_0x36d13f[_0x2018cc(0xd75)]((_0x517b9a,_0xbe5bca)=>{const _0x4fc4a=_0x2018cc;_0x517b9a['textContent']['trim']()==='ผล'&&(_0x517b9a['style'][_0x4fc4a(0xa9c)]=_0x4fc4a(0x611),_0xeff09e=_0xbe5bca);});if(_0xeff09e!==-0x1){const _0x1d0ce4=_0x59e5c3[_0x2018cc(0x760)]('tr');_0x1d0ce4[_0x2018cc(0xd75)](_0x4bf891=>{const _0x4eaa9f=_0x2018cc,_0x1e85d8=_0x4bf891['querySelectorAll']('td');_0x1e85d8[_0x4eaa9f(0x724)]>_0xeff09e&&(_0x1e85d8[_0xeff09e][_0x4eaa9f(0x201)][_0x4eaa9f(0xa9c)]=_0x4eaa9f(0x611));});}_0x2dc2b9[_0x2018cc(0xe03)](_0x3f0dbb),_0x2dc2b9[_0x2018cc(0xe03)](_0x59e5c3),document[_0x2018cc(0x671)][_0x2018cc(0xe03)](_0x2dc2b9),html2canvas(_0x2dc2b9,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x2018cc(0x520)})['then'](_0x477e18=>{const _0x2616fd=_0x2018cc,_0x501563=document[_0x2616fd(0x52f)]('a');_0x501563[_0x2616fd(0x319)]=_0x2f72b8+_0x2616fd(0xe58),_0x501563[_0x2616fd(0x7a6)]=_0x477e18[_0x2616fd(0xd23)]('image/png'),_0x501563[_0x2616fd(0x4f4)](),document[_0x2616fd(0x671)][_0x2616fd(0x44f)](_0x2dc2b9),messageModal[_0x2616fd(0x6f1)][_0x2616fd(0x648)]('hidden');})[_0x2018cc(0x606)](_0x117098=>{const _0x3e3885=_0x2018cc;console[_0x3e3885(0x339)](_0x3e3885(0xe3f),_0x117098),document[_0x3e3885(0x671)][_0x3e3885(0x44f)](_0x2dc2b9),showMessage(_0x3e3885(0xc45));});}function exportTableAsPDF(_0x23478f,_0x33496e){const _0x1792c5=_0x5be2be,{jsPDF:_0x386737}=window['jspdf'],_0x5d5559=new _0x386737();_0x5d5559[_0x1792c5(0x457)](_0x1792c5(0x2c6),_0x1792c5(0x79d)),_0x5d5559[_0x1792c5(0x1cc)]({'html':'#'+_0x23478f}),_0x5d5559[_0x1792c5(0xb5f)](_0x33496e+_0x1792c5(0x8e2));}function exportTableAsWord(_0x34db5d,_0x1393b3){const _0x31ef13=_0x5be2be,_0xca142a=document[_0x31ef13(0xc4d)](_0x34db5d);if(!_0xca142a){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x12e7c5=_0x31ef13(0x24e)+_0x31ef13(0xdff)+_0x31ef13(0x14a)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xbba6c7='</body></html>',_0x5cdb43=_0x12e7c5+_0xca142a[_0x31ef13(0x40b)]+_0xbba6c7,_0x192e6b=_0x31ef13(0x33f)+encodeURIComponent(_0x5cdb43),_0x80db4=document[_0x31ef13(0x52f)]('a');document['body'][_0x31ef13(0xe03)](_0x80db4),_0x80db4[_0x31ef13(0x7a6)]=_0x192e6b,_0x80db4[_0x31ef13(0x319)]=_0x1393b3+_0x31ef13(0x2e3),_0x80db4[_0x31ef13(0x4f4)](),document[_0x31ef13(0x671)]['removeChild'](_0x80db4);}function exportTableAsExcel(_0x37818c,_0x4d4452){const _0x5cdbaf=_0x5be2be,_0x23f1f1=document[_0x5cdbaf(0xc4d)](_0x37818c);if(!_0x23f1f1){showMessage(_0x5cdbaf(0xccf));return;}let _0x4696bf=[];for(let _0x550985=0x0;_0x550985<_0x23f1f1[_0x5cdbaf(0xc65)][_0x5cdbaf(0x724)];_0x550985++){let _0x4a27b0=[],_0x2a5b8a=_0x23f1f1['rows'][_0x550985][_0x5cdbaf(0x760)](_0x5cdbaf(0xb9a));for(let _0x1de69c=0x0;_0x1de69c<_0x2a5b8a['length'];_0x1de69c++){_0x4a27b0[_0x5cdbaf(0x633)]('\x22'+_0x2a5b8a[_0x1de69c]['innerText'][_0x5cdbaf(0x6c0)](/"/g,'\x22\x22')+'\x22');}_0x4696bf[_0x5cdbaf(0x633)](_0x4a27b0[_0x5cdbaf(0x625)](','));}const _0x150bbe=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4696bf[_0x5cdbaf(0x625)]('\x0a')],{'type':_0x5cdbaf(0x7b1)}),_0x270d88=document[_0x5cdbaf(0x52f)]('a');_0x270d88['href']=URL[_0x5cdbaf(0x15b)](_0x150bbe),_0x270d88[_0x5cdbaf(0x319)]=_0x4d4452+_0x5cdbaf(0x47d),_0x270d88[_0x5cdbaf(0x4f4)]();}function renderAnalytics(_0x25d402,_0x671a13){const _0x254cd8=_0x5be2be,_0x28b0ad=_0x671a13[_0x254cd8(0x6e1)](_0x10128d=>_0x10128d[_0x254cd8(0x247)]!==undefined),_0x34b033=currentProjectData[_0x254cd8(0x94c)][_0x254cd8(0x724)],_0x224ea8=_0x28b0ad[_0x254cd8(0x724)],_0x2bce9e=_0x34b033-_0x224ea8,_0x501c53=_0x34b033>0x0?_0x224ea8/_0x34b033*0x64:0x0,_0xf511af=_0x28b0ad[_0x254cd8(0x546)](_0x20d924=>_0x20d924[_0x254cd8(0x247)]),_0x5ba9a7=_0xf511af[_0x254cd8(0x724)]>0x0?_0xf511af[_0x254cd8(0xd5b)]((_0x4196e8,_0x5c7c3a)=>_0x4196e8+_0x5c7c3a,0x0)/_0xf511af[_0x254cd8(0x724)]:0x0,_0x1fcc24=_0x25d402[_0x254cd8(0xb1f)][_0x254cd8(0x724)],_0x3cdb38=_0x1fcc24>0x0?_0x5ba9a7/_0x1fcc24*0x64:0x0,_0x5d5011=calculateItemAnalysis(_0x25d402,_0x28b0ad),_0x421c1a=calculateReliabilityKR20(_0x25d402,_0x28b0ad,_0x5d5011[_0x254cd8(0x666)]);let _0x1b1a77='';if(_0x421c1a!==null){let _0x9eca8d='';if(_0x421c1a>=0.9)_0x9eca8d=_0x254cd8(0xa4c);else{if(_0x421c1a>=0.8)_0x9eca8d=_0x254cd8(0x76f);else{if(_0x421c1a>=0.7)_0x9eca8d='ดี';else{if(_0x421c1a>=0.6)_0x9eca8d=_0x254cd8(0x242);else _0x9eca8d=_0x254cd8(0x3df);}}}_0x1b1a77=_0x254cd8(0x3f7)+_0x421c1a[_0x254cd8(0x935)](0x2)+_0x254cd8(0x683)+_0x9eca8d+_0x254cd8(0x636);}const _0x5039c9=document[_0x254cd8(0xc4d)]('analytics-summary-cards');_0x5039c9[_0x254cd8(0x40b)]=_0x254cd8(0xd5d)+_0x501c53[_0x254cd8(0x935)](0x0)+_0x254cd8(0x808)+_0x224ea8+'/'+_0x34b033+_0x254cd8(0xa6b)+_0x5ba9a7[_0x254cd8(0x935)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x3cdb38[_0x254cd8(0x935)](0x0)+_0x254cd8(0x882)+(_0xf511af[_0x254cd8(0x724)]>0x0?Math[_0x254cd8(0xcf)](..._0xf511af):'N/A')+_0x254cd8(0x529)+(_0xf511af[_0x254cd8(0x724)]>0x0?Math[_0x254cd8(0x157)](..._0xf511af):'N/A')+_0x254cd8(0x93f)+_0x1b1a77+_0x254cd8(0xaf9);const _0x191d51=document[_0x254cd8(0xc4d)](_0x254cd8(0x574));_0x191d51&&_0x191d51['remove']();const _0x12e2d0=_0x254cd8(0x7ff);_0x5039c9['insertAdjacentHTML'](_0x254cd8(0x86c),_0x12e2d0);const _0x5d4943=currentProjectData[_0x254cd8(0x94c)]||[];renderSubmissionChart(_0x224ea8,_0x2bce9e,_0x28b0ad,_0x5d4943),renderScoreDistributionChart(_0x28b0ad,_0x1fcc24),renderQuestionAnalytics(_0x25d402,_0x28b0ad,_0x5d4943),renderInterestingStats(_0x25d402,_0x28b0ad);}async function handleExportLessonPDF(){const _0x587c98=_0x5be2be,_0x5318ba=document['getElementById'](_0x587c98(0x3c9)),_0xebed1c=document['getElementById'](_0x587c98(0xcde))[_0x587c98(0x4c4)],_0x4ee8e9=window[_0x587c98(0x510)]('',_0x587c98(0xe57)),_0xac00e1=_0x587c98(0x53a)+_0xebed1c+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5318ba['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4ee8e9[_0x587c98(0x6fd)][_0x587c98(0x32e)](_0xac00e1),_0x4ee8e9[_0x587c98(0x6fd)][_0x587c98(0x5e2)](),_0x4ee8e9['onload']=function(){setTimeout(()=>{_0x4ee8e9['print']();},0x5dc);};}function renderInterestingStats(_0x23ecd1,_0x39a150){const _0x2ac4c4=_0x5be2be,_0x43a9c3=document[_0x2ac4c4(0xc4d)](_0x2ac4c4(0xd1f));if(!_0x43a9c3)return;if(_0x39a150[_0x2ac4c4(0x724)]===0x0){_0x43a9c3[_0x2ac4c4(0x40b)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x10aec0=_0x23ecd1[_0x2ac4c4(0xb1f)]['map']((_0xe521d3,_0x3a389b)=>({'index':_0x3a389b+0x1,'text':_0xe521d3[_0x2ac4c4(0x9b3)]||_0xe521d3[_0x2ac4c4(0xb4a)],'correct':0x0}));_0x39a150['forEach'](_0x309548=>{const _0x4c39dd=_0x2ac4c4,_0x1c115e=_0x309548[_0x4c39dd(0x299)][_0x309548[_0x4c39dd(0x299)]['length']-0x1];_0x1c115e&&_0x1c115e['answers']&&_0x1c115e['answers']['forEach'](_0x3fec74=>{const _0x53e6ef=_0x4c39dd,_0x3a07f7=_0x10aec0['find'](_0x1f5d8a=>_0x1f5d8a['text']===_0x3fec74['originalQuestionText']);_0x3fec74[_0x53e6ef(0xd32)]&&_0x3a07f7&&_0x3a07f7[_0x53e6ef(0x1c3)]++;});});const _0xc213e0=_0x39a150[_0x2ac4c4(0x724)],_0x23f0a9=Math[_0x2ac4c4(0xcf)](..._0x10aec0[_0x2ac4c4(0x546)](_0x2badc7=>_0x2badc7[_0x2ac4c4(0x1c3)])),_0x38da4a=Math[_0x2ac4c4(0x157)](..._0x10aec0[_0x2ac4c4(0x546)](_0x55b4bd=>_0x55b4bd[_0x2ac4c4(0x1c3)])),_0x7f43b0=_0x10aec0['filter'](_0x395e9c=>_0x395e9c[_0x2ac4c4(0x1c3)]===_0x23f0a9)[_0x2ac4c4(0x546)](_0x133867=>_0x2ac4c4(0xdf1)+_0x133867['index']),_0x3cc9d3=_0x10aec0[_0x2ac4c4(0x6e1)](_0x5b9703=>_0x5b9703[_0x2ac4c4(0x1c3)]===_0x38da4a)[_0x2ac4c4(0x546)](_0x2a4bce=>_0x2ac4c4(0xdf1)+_0x2a4bce[_0x2ac4c4(0xcb4)]),_0x507b92=_0x39a150[_0x2ac4c4(0x332)]((_0x44476f,_0x165e7b)=>_0x165e7b[_0x2ac4c4(0x247)]-_0x44476f[_0x2ac4c4(0x247)])[_0x2ac4c4(0x6e1)]((_0x4ce7d7,_0x1bc322,_0xd9d5e5)=>_0x4ce7d7[_0x2ac4c4(0x247)]===_0xd9d5e5[0x0]['latestScore']),_0x2d4d19=_0x39a150['sort']((_0x324f7b,_0x4006ff)=>_0x324f7b[_0x2ac4c4(0x247)]-_0x4006ff[_0x2ac4c4(0x247)])[_0x2ac4c4(0x6e1)]((_0x27af50,_0x4d6aed,_0x5db54d)=>_0x27af50[_0x2ac4c4(0x247)]===_0x5db54d[0x0][_0x2ac4c4(0x247)]),_0x160fb8=_0x2ac4c4(0xc0e)+_0x7f43b0['join'](',\x20')+_0x2ac4c4(0x85c)+_0x23f0a9+_0x2ac4c4(0x6e0)+_0xc213e0+_0x2ac4c4(0x285)+_0x3cc9d3[_0x2ac4c4(0x625)](',\x20')+_0x2ac4c4(0x85c)+(_0xc213e0-_0x38da4a)+_0x2ac4c4(0x6e0)+_0xc213e0+_0x2ac4c4(0x51f)+_0x507b92['map'](_0x4bed9e=>_0x4bed9e['studentName'])['join'](',\x20')+_0x2ac4c4(0xc04)+_0x507b92[0x0][_0x2ac4c4(0x247)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x2d4d19[_0x2ac4c4(0x546)](_0x3877f8=>_0x3877f8[_0x2ac4c4(0x550)])[_0x2ac4c4(0x625)](',\x20')+_0x2ac4c4(0xc04)+_0x2d4d19[0x0][_0x2ac4c4(0x247)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x43a9c3['innerHTML']=_0x160fb8;}function renderSubmissionChart(_0x13562a,_0x253c2c,_0x22b5c3,_0xc38841){const _0x5eb2f0=_0x5be2be,_0x53d862=document['getElementById'](_0x5eb2f0(0x205))[_0x5eb2f0(0x12f)]('2d'),_0xa08f22=_0x22b5c3[_0x5eb2f0(0x546)](_0x7ad2b=>_0x7ad2b[_0x5eb2f0(0x550)]),_0x3b9b31=_0xc38841[_0x5eb2f0(0x6e1)](_0x430d61=>!_0xa08f22[_0x5eb2f0(0xe4a)](_0x430d61));chartInstances[_0x5eb2f0(0xe40)]&&chartInstances[_0x5eb2f0(0xe40)][_0x5eb2f0(0xd0c)](),chartInstances['submission']=new Chart(_0x53d862,{'type':_0x5eb2f0(0x9fe),'data':{'labels':[_0x5eb2f0(0x72f),'ยังไม่ส่ง'],'datasets':[{'data':[_0x13562a,_0x253c2c],'backgroundColor':[_0x5eb2f0(0x7e8),'#F59E0B'],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5eb2f0(0x2fe)},'tooltip':{'callbacks':{'label':function(_0x2dea4f){const _0x4b628b=_0x5eb2f0;let _0x308ebb=_0x2dea4f[_0x4b628b(0x902)]||'';return _0x308ebb&&(_0x308ebb+=':\x20'),_0x308ebb+=_0x2dea4f['raw'],_0x308ebb;},'afterLabel':function(_0xe73519){const _0x403dc9=_0x5eb2f0;let _0x32b6be;return _0xe73519['dataIndex']===0x0?_0x32b6be=_0xa08f22:_0x32b6be=_0x3b9b31,_0x32b6be[_0x403dc9(0x724)]>0x0?_0x32b6be[_0x403dc9(0x625)]('\x0a'):_0x403dc9(0xcfc);}}}}}});}function renderScoreDistributionChart(_0x4922df,_0x22645e){const _0x5265fb=_0x5be2be,_0x28ca30=document['getElementById'](_0x5265fb(0xa23))[_0x5265fb(0x12f)]('2d'),_0x3d4d53={};for(let _0x333520=0x0;_0x333520<=_0x22645e;_0x333520++){_0x3d4d53[_0x333520]=0x0;}_0x4922df[_0x5265fb(0xd75)](_0x527cc1=>{const _0x412ca1=_0x5265fb;_0x3d4d53[_0x527cc1[_0x412ca1(0x247)]]!==undefined&&_0x3d4d53[_0x527cc1['latestScore']]++;}),chartInstances[_0x5265fb(0x82f)]&&chartInstances['score'][_0x5265fb(0xd0c)](),chartInstances[_0x5265fb(0x82f)]=new Chart(_0x28ca30,{'type':_0x5265fb(0xbff),'data':{'labels':Object[_0x5265fb(0x74b)](_0x3d4d53),'datasets':[{'label':_0x5265fb(0xe0e),'data':Object[_0x5265fb(0x37f)](_0x3d4d53),'backgroundColor':_0x5265fb(0x110),'borderColor':_0x5265fb(0x3b2),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5265fb(0xb3d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x328e33){const _0x1d71d5=_0x5265fb,_0x31550c=_0x328e33[_0x1d71d5(0x902)],_0x52c447=_0x4922df['filter'](_0x53a663=>_0x53a663['latestScore']==_0x31550c)['map'](_0x4e2852=>_0x4e2852[_0x1d71d5(0x550)]);return _0x52c447[_0x1d71d5(0x724)]>0x0?_0x52c447[_0x1d71d5(0x625)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x548d40,_0x4b059c,_0x6ac9ba){const _0x1de8a8=_0x5be2be,_0x3c73d2=document[_0x1de8a8(0xc4d)](_0x1de8a8(0x7d5));if(_0x6ac9ba[_0x1de8a8(0x724)]===0x0){_0x3c73d2[_0x1de8a8(0x40b)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x1ab76a=calculateItemAnalysis(_0x548d40,_0x4b059c),_0x5b5f6d=calculateDistractorAnalysis(_0x548d40,_0x4b059c);let _0x2de555='';_0x1ab76a[_0x1de8a8(0x527)]&&(_0x2de555=_0x1de8a8(0xbaf)+_0x1ab76a['overallGroups'][_0x1de8a8(0xd43)][_0x1de8a8(0x724)]+_0x1de8a8(0xb63)+_0x1ab76a['overallGroups'][_0x1de8a8(0xd43)][_0x1de8a8(0x546)](_0x287cd5=>_0x1de8a8(0x126)+_0x287cd5+_0x1de8a8(0x3d0))[_0x1de8a8(0x625)]('')+_0x1de8a8(0x4cf)+_0x1ab76a[_0x1de8a8(0x527)][_0x1de8a8(0x907)][_0x1de8a8(0x724)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ab76a[_0x1de8a8(0x527)][_0x1de8a8(0x907)][_0x1de8a8(0x546)](_0x198e10=>_0x1de8a8(0x126)+_0x198e10+_0x1de8a8(0x3d0))[_0x1de8a8(0x625)]('')+_0x1de8a8(0x9dd));let _0x540b38='';const _0x238283=_0x4b059c[_0x1de8a8(0x546)](_0x5b4f45=>_0x5b4f45[_0x1de8a8(0x550)]),_0x2261b8=_0x150e78=>{const _0x4ca9bd=_0x1de8a8;if(_0x150e78>=0.8)return _0x4ca9bd(0x16c);if(_0x150e78>=0.6)return _0x4ca9bd(0x396);if(_0x150e78>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x150e78>=0.2)return _0x4ca9bd(0xb27);return _0x4ca9bd(0x720);},_0x203e70=_0x4e0c5e=>{const _0x2bc915=_0x1de8a8;if(_0x4e0c5e<0x0)return _0x2bc915(0x2a0);if(_0x4e0c5e>=0.4)return _0x2bc915(0xc6e);if(_0x4e0c5e>=0.3)return _0x2bc915(0xa52);if(_0x4e0c5e>=0.2)return _0x2bc915(0x4d7);return _0x2bc915(0xe46);},_0x4385f3=_0x178bf1=>{const _0x388d40=_0x1de8a8,_0x1fca64=_0x178bf1[_0x388d40(0x935)](0x0);if(parseFloat(_0x1fca64)===0x64)return _0x388d40(0x9cc)+_0x1fca64+_0x388d40(0x20f);if(_0x178bf1>=0x32)return _0x388d40(0xd58)+_0x1fca64+_0x388d40(0x20f);return _0x388d40(0xa21)+_0x1fca64+_0x388d40(0x20f);};_0x548d40[_0x1de8a8(0xb1f)][_0x1de8a8(0xd75)]((_0x55ef1f,_0x356c09)=>{const _0x18f7a1=_0x1de8a8,_0x3d65ff=_0x1ab76a[_0x18f7a1(0x666)][_0x356c09],_0x174d52=_0x5b5f6d[_0x356c09],_0x50d3bf=_0x55ef1f[_0x18f7a1(0xb4a)]||_0x55ef1f[_0x18f7a1(0x9b3)]||_0x55ef1f[_0x18f7a1(0x815)];let _0xbff908=0x0;const _0x25a7e6=[],_0x45b289=[];_0x4b059c[_0x18f7a1(0xd75)](_0x3cc39a=>{const _0x2b7b0d=_0x18f7a1,_0x241f16=_0x3cc39a[_0x2b7b0d(0x299)][_0x3cc39a[_0x2b7b0d(0x299)]['length']-0x1];if(_0x241f16&&_0x241f16[_0x2b7b0d(0x90b)]){const _0x1d7f99=_0x241f16['answers'][_0x2b7b0d(0x35d)](_0x4829bc=>_0x4829bc[_0x2b7b0d(0x765)]===_0x50d3bf)??_0x241f16[_0x2b7b0d(0x90b)][_0x356c09]??null;_0x1d7f99&&(_0x1d7f99['isCorrect']?(_0xbff908++,_0x25a7e6[_0x2b7b0d(0x633)](_0x3cc39a['studentName'])):_0x45b289[_0x2b7b0d(0x633)](_0x3cc39a[_0x2b7b0d(0x550)]));}});const _0x2ffb84=_0x4b059c[_0x18f7a1(0x724)]>0x0?_0xbff908/_0x4b059c[_0x18f7a1(0x724)]*0x64:0x0,_0x327681=_0x6ac9ba['filter'](_0xb662e0=>!_0x238283[_0x18f7a1(0xe4a)](_0xb662e0)),_0x284e24=_0x3d65ff?_0x18f7a1(0x435)+_0x3d65ff['p'][_0x18f7a1(0x935)](0x2)+_0x18f7a1(0x80b)+_0x2261b8(_0x3d65ff['p'])+_0x18f7a1(0x65d)+_0x3d65ff['r']['toFixed'](0x2)+_0x18f7a1(0x80b)+_0x203e70(_0x3d65ff['r'])+_0x18f7a1(0x25d)+_0x4385f3(_0x2ffb84)+_0x18f7a1(0x542):'';let _0x50b8a6='';_0x174d52&&(_0x50b8a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x18f7a1(0x74b)](_0x174d52)[_0x18f7a1(0x546)](_0x57967b=>{const _0x3a6fef=_0x18f7a1,_0x2d63dd=_0x174d52[_0x57967b],_0x2f64c2=parseInt(_0x57967b)===_0x55ef1f['correctAnswerIndex'],_0x480308=!_0x2f64c2&&_0x2d63dd[_0x3a6fef(0xbfe)]>_0x2d63dd[_0x3a6fef(0xe05)];return _0x3a6fef(0xc63)+(_0x2f64c2?_0x3a6fef(0x2d7):'')+_0x3a6fef(0x55f)+(_0x2f64c2?'✔\x20':'')+_0x2d63dd[_0x3a6fef(0x8d1)]+_0x3a6fef(0xb46)+_0x2d63dd[_0x3a6fef(0xe05)]+_0x3a6fef(0xb46)+_0x2d63dd[_0x3a6fef(0xbfe)]+'\x20'+(_0x480308?'👍':'')+_0x3a6fef(0xb46)+_0x2d63dd['total']+'</td></tr>';})[_0x18f7a1(0x625)]('')+_0x18f7a1(0x72c));let _0x1a157e='';_0x3d65ff&&_0x3d65ff[_0x18f7a1(0x5c5)]&&(_0x1a157e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3d65ff[_0x18f7a1(0x5c5)]['length']+_0x18f7a1(0xe6f)+_0x3d65ff[_0x18f7a1(0x5c5)][_0x18f7a1(0x546)](_0x64fcb6=>_0x18f7a1(0x126)+(_0x64fcb6[_0x18f7a1(0xd32)]?_0x18f7a1(0x910):_0x18f7a1(0x89a))+'\x20'+_0x64fcb6[_0x18f7a1(0x1b0)]+_0x18f7a1(0x3d0))[_0x18f7a1(0x625)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x3d65ff[_0x18f7a1(0x2bd)][_0x18f7a1(0x724)]+_0x18f7a1(0xe6f)+_0x3d65ff[_0x18f7a1(0x2bd)][_0x18f7a1(0x546)](_0x1da7ff=>_0x18f7a1(0x126)+(_0x1da7ff['isCorrect']?_0x18f7a1(0x910):_0x18f7a1(0x89a))+'\x20'+_0x1da7ff[_0x18f7a1(0x1b0)]+_0x18f7a1(0x3d0))[_0x18f7a1(0x625)]('')+_0x18f7a1(0x253)),_0x540b38+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x356c09+0x1)+':\x20'+_0x50d3bf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x284e24+_0x18f7a1(0x776)+_0x50d3bf+_0x18f7a1(0xa54)+_0xbff908+'\x20จาก\x20'+_0x4b059c[_0x18f7a1(0x724)]+_0x18f7a1(0xbac)+_0x2ffb84[_0x18f7a1(0x935)](0x0)+_0x18f7a1(0x4b8)+_0x25a7e6['length']+_0x18f7a1(0x5b2)+(_0x25a7e6[_0x18f7a1(0x724)]>0x0?_0x25a7e6['join'](',\x20'):_0x18f7a1(0xcfc))+_0x18f7a1(0xe6a)+_0x45b289[_0x18f7a1(0x724)]+_0x18f7a1(0x5b2)+(_0x45b289[_0x18f7a1(0x724)]>0x0?_0x45b289[_0x18f7a1(0x625)](',\x20'):_0x18f7a1(0xcfc))+_0x18f7a1(0xa2d)+_0x327681['length']+_0x18f7a1(0x5b2)+(_0x327681[_0x18f7a1(0x724)]>0x0?_0x327681[_0x18f7a1(0x625)](',\x20'):_0x18f7a1(0xcfc))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50b8a6+_0x18f7a1(0xd77)+_0x1a157e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3c73d2['innerHTML']=_0x2de555+_0x540b38;try{window[_0x1de8a8(0x1bb)]&&MathJax['typesetPromise']&&MathJax[_0x1de8a8(0xd71)]([_0x3c73d2]);}catch(_0x342af1){console[_0x1de8a8(0x339)](_0x1de8a8(0x37a),_0x342af1);}}function calculateDistractorAnalysis(_0x5e115a,_0x1ef751){const _0x4fa6da=_0x5be2be,_0x439b73={};if(_0x1ef751['length']<0x2)return _0x439b73;const _0x132bde=[..._0x1ef751][_0x4fa6da(0x332)]((_0x43f5f8,_0x3519c4)=>{const _0x28bbef=_0x4fa6da,_0x3b1e3e=_0x3519c4[_0x28bbef(0x247)]-_0x43f5f8[_0x28bbef(0x247)];if(_0x3b1e3e!==0x0)return _0x3b1e3e;const _0x304128=_0x43f5f8[_0x28bbef(0x299)]?.[_0x28bbef(0x724)]||0x1,_0x3148ab=_0x3519c4[_0x28bbef(0x299)]?.['length']||0x1,_0x22fd38=_0x304128-_0x3148ab;if(_0x22fd38!==0x0)return _0x22fd38;const _0xdc5801=new Date(_0x43f5f8[_0x28bbef(0x1bd)]),_0x1db2a4=new Date(_0x3519c4[_0x28bbef(0x1bd)]),_0x3eeefa=_0xdc5801-_0x1db2a4;if(_0x3eeefa!==0x0)return _0x3eeefa;return _0x43f5f8['studentName'][_0x28bbef(0xc7f)](_0x3519c4[_0x28bbef(0x550)],'th');}),_0x398fbc=_0x132bde[_0x4fa6da(0x724)],_0x41d1c4=Math[_0x4fa6da(0xcf)](0x1,Math[_0x4fa6da(0x211)](_0x398fbc*0.33)),_0x2a1cc9=_0x132bde['slice'](0x0,_0x41d1c4),_0x322c9a=_0x132bde['slice'](-_0x41d1c4);return _0x5e115a[_0x4fa6da(0xb1f)][_0x4fa6da(0xd75)]((_0x3c6a5f,_0x39befb)=>{const _0x36b270=_0x4fa6da;if(_0x3c6a5f['questionType']!==_0x36b270(0x807)||!_0x3c6a5f[_0x36b270(0xa3c)])return;const _0xb0607a=_0x3c6a5f[_0x36b270(0x9b3)],_0x515992={};_0x3c6a5f[_0x36b270(0xa3c)][_0x36b270(0xd75)]((_0x30c819,_0x5e8605)=>{_0x515992[_0x5e8605]={'text':_0x30c819,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x132bde[_0x36b270(0xd75)](_0x41e96b=>{const _0xb838d5=_0x36b270,_0x7edf3e=_0x41e96b['attempts'][_0x41e96b[_0xb838d5(0x299)][_0xb838d5(0x724)]-0x1],_0x58ab12=_0x7edf3e[_0xb838d5(0x90b)][_0xb838d5(0x35d)](_0x501264=>_0x501264[_0xb838d5(0x765)]===_0xb0607a);if(_0x58ab12&&_0x58ab12[_0xb838d5(0x903)]!==null){const _0x21a3bb=_0x3c6a5f[_0xb838d5(0xa3c)][_0xb838d5(0xac3)](_0x55e6ab=>_0x55e6ab===_0x58ab12['answerText']);_0x21a3bb!==-0x1&&_0x515992[_0x21a3bb]&&(_0x515992[_0x21a3bb]['total']++,_0x2a1cc9[_0xb838d5(0xe4a)](_0x41e96b)&&_0x515992[_0x21a3bb][_0xb838d5(0xe05)]++,_0x322c9a[_0xb838d5(0xe4a)](_0x41e96b)&&_0x515992[_0x21a3bb]['lower_group_count']++);}}),_0x439b73[_0x39befb]=_0x515992;}),_0x439b73;}function calculateReliabilityKR20(_0x323b00,_0x2ed0d2,_0x1c1748){const _0x2bb2a0=_0x5be2be,_0x4e0759=_0x323b00[_0x2bb2a0(0xb1f)][_0x2bb2a0(0x724)];if(_0x4e0759<0x2||_0x2ed0d2[_0x2bb2a0(0x724)]<0x2)return null;const _0x5a976f=_0x2ed0d2[_0x2bb2a0(0x546)](_0x31c18f=>_0x31c18f[_0x2bb2a0(0x247)]),_0x2dc249=_0x5a976f[_0x2bb2a0(0xd5b)]((_0x16fca7,_0x29e0f7)=>_0x16fca7+_0x29e0f7,0x0)/_0x5a976f['length'],_0xe26684=_0x5a976f[_0x2bb2a0(0x546)](_0x2b5317=>Math[_0x2bb2a0(0x34f)](_0x2b5317-_0x2dc249,0x2))[_0x2bb2a0(0xd5b)]((_0x4933a6,_0x425d5)=>_0x4933a6+_0x425d5,0x0)/_0x5a976f[_0x2bb2a0(0x724)];if(_0xe26684===0x0)return null;let _0x740023=0x0;for(let _0x25e25a=0x0;_0x25e25a<_0x4e0759;_0x25e25a++){const _0x22a447=_0x1c1748[_0x25e25a]?.['p'];if(_0x22a447===undefined)continue;const _0x5e8ae6=0x1-_0x22a447;_0x740023+=_0x22a447*_0x5e8ae6;}if(_0x740023===0x0)return null;const _0x6b0ea1=_0x4e0759/(_0x4e0759-0x1)*(0x1-_0x740023/_0xe26684);if(_0x6b0ea1>0x1)return null;return _0x6b0ea1;}async function handleAnalyzeClass(){const _0x520baa=_0x5be2be;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x22f788=collection(db,'artifacts/'+appId+_0x520baa(0x363)+currentQuizData['id']+'/submissions'),_0x2676bd=await getDocs(_0x22f788),_0x135068=_0x2676bd[_0x520baa(0x2b9)][_0x520baa(0x546)](_0xfbd890=>_0xfbd890[_0x520baa(0x1de)]());if(_0x135068[_0x520baa(0x724)]<0x2){showMessage(_0x520baa(0x77c));return;}const _0x4ecb09=document[_0x520baa(0xc4d)](_0x520baa(0xcfd));_0x4ecb09[_0x520baa(0x40b)]=_0x520baa(0x976),document[_0x520baa(0xc4d)]('analyze-strengths-btn')[_0x520baa(0xbb3)]=!![];const _0x3367ac=_0x135068[_0x520baa(0x546)]((_0x4c9e09,_0x1a05d7)=>{const _0x3e55a3=_0x520baa,_0x8cfe0d=_0x4c9e09[_0x3e55a3(0x299)][_0x4c9e09[_0x3e55a3(0x299)][_0x3e55a3(0x724)]-0x1];if(!_0x8cfe0d)return'';return _0x3e55a3(0x160)+(_0x1a05d7+0x1)+'\x20('+_0x4c9e09[_0x3e55a3(0x550)]+_0x3e55a3(0x7ee)+_0x8cfe0d[_0x3e55a3(0x82f)]+'/'+_0x4c9e09['totalQuestions']+_0x3e55a3(0xa59)+JSON[_0x3e55a3(0x3f3)](_0x8cfe0d[_0x3e55a3(0x90b)])+_0x3e55a3(0x6f8);})['join']('\x0a---\x0a'),_0x45081a=_0x520baa(0x4ce)+currentQuizData[_0x520baa(0x380)]+_0x520baa(0x9e0)+JSON[_0x520baa(0x3f3)](currentQuizData[_0x520baa(0xb1f)])+_0x520baa(0x3c5)+_0x3367ac+_0x520baa(0x306),_0x476780={'type':_0x520baa(0x496),'properties':{'classStrengths':{'type':_0x520baa(0xbdb),'items':{'type':_0x520baa(0x179)}},'classWeaknesses':{'type':_0x520baa(0xbdb),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x520baa(0xbdb),'items':{'type':_0x520baa(0x179)}}},'required':[_0x520baa(0x256),_0x520baa(0xd26),_0x520baa(0x61f)]};try{const _0x2030b9=await callAnalysisApi(_0x45081a,_0x476780);displayClassAnalysis(_0x2030b9);}catch(_0x2d7165){console[_0x520baa(0x339)]('Error\x20during\x20class\x20analysis:',_0x2d7165),_0x4ecb09[_0x520baa(0x40b)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x2d7165[_0x520baa(0xba5)]+_0x520baa(0x343);}finally{document[_0x520baa(0xc4d)](_0x520baa(0xa00))['disabled']=![];}}function displayClassAnalysis(_0x163a24){const _0x2a4eab=_0x5be2be,_0x18cb04=document[_0x2a4eab(0xc4d)](_0x2a4eab(0xcfd));if(!_0x163a24){_0x18cb04[_0x2a4eab(0x40b)]=_0x2a4eab(0xe0);return;}_0x18cb04[_0x2a4eab(0x40b)]=_0x2a4eab(0x19a)+_0x163a24[_0x2a4eab(0x256)][_0x2a4eab(0x546)](_0x4fafdd=>_0x2a4eab(0x126)+_0x4fafdd+_0x2a4eab(0x3d0))['join']('')+_0x2a4eab(0x9aa)+_0x163a24[_0x2a4eab(0xd26)][_0x2a4eab(0x546)](_0x2b6406=>_0x2a4eab(0x126)+_0x2b6406+_0x2a4eab(0x3d0))[_0x2a4eab(0x625)]('')+_0x2a4eab(0x280)+_0x163a24[_0x2a4eab(0x61f)][_0x2a4eab(0x546)](_0x2ee116=>_0x2a4eab(0x126)+_0x2ee116+_0x2a4eab(0x3d0))[_0x2a4eab(0x625)]('')+_0x2a4eab(0x410);}function formatAndPrintWorksheet(_0x2aeb62,_0x5cf189){const _0x23385d=_0x5be2be,_0x2f2a9d=_0x23385d(0xc4f)+_0x2aeb62[_0x23385d(0x380)]+_0x23385d(0x3bd)+_0x2aeb62[_0x23385d(0x380)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2aeb62[_0x23385d(0xb1f)][_0x23385d(0x546)]((_0x50dc07,_0x42f211)=>_0x23385d(0xd72)+(_0x42f211+0x1)+'.\x20'+_0x50dc07[_0x23385d(0x9b3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x50dc07[_0x23385d(0x145)]?_0x23385d(0x2f0)+_0x50dc07[_0x23385d(0x145)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x23385d(0x625)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5cf189[_0x23385d(0x6fd)][_0x23385d(0x32e)](_0x2f2a9d),_0x5cf189[_0x23385d(0x6fd)][_0x23385d(0x5e2)](),_0x5cf189['onload']=function(){setTimeout(()=>{const _0xfab4ee=_0x46b4;_0x5cf189[_0xfab4ee(0x573)]();},0x3e8);};}async function generateWorksheet(){const _0x4bfad6=_0x5be2be,_0x23b70e=document[_0x4bfad6(0xc4d)](_0x4bfad6(0x100))['value']['trim']();if(!_0x23b70e){showMessage(_0x4bfad6(0x506));return;}const _0x39bb32=document['getElementById']('force-math-checkbox')[_0x4bfad6(0x315)],_0x25991b=_0x39bb32?'':_0x4bfad6(0x8c9),_0x4d9e92=window[_0x4bfad6(0x510)]('',_0x4bfad6(0xe57));_0x4d9e92['document'][_0x4bfad6(0x32e)](_0x4bfad6(0x8fa));const _0x146480=parseInt(document[_0x4bfad6(0xc4d)](_0x4bfad6(0x6e6))[_0x4bfad6(0x1ce)]),_0x316345=document[_0x4bfad6(0xc4d)](_0x4bfad6(0x894))[_0x4bfad6(0x315)],_0x510b88=_0x316345?_0x4bfad6(0xe64):'',_0x4ce81c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x25991b+_0x4bfad6(0xc85)+_0x146480+_0x4bfad6(0x24b)+_0x23b70e+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x510b88+_0x4bfad6(0x134)+simpleMathPrompt+_0x4bfad6(0x796),_0x1bf02a={'type':_0x4bfad6(0x496),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4bfad6(0xbdb),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x4bfad6(0x179)},'imageCode':{'type':_0x4bfad6(0x179)}},'required':[_0x4bfad6(0x9b3)]}}},'required':['topic',_0x4bfad6(0xb1f)]};document[_0x4bfad6(0xc4d)]('loader-text')['textContent']='',document[_0x4bfad6(0xc4d)](_0x4bfad6(0x64d))[_0x4bfad6(0x6f1)]['remove'](_0x4bfad6(0x476)),document[_0x4bfad6(0xc4d)](_0x4bfad6(0x1f9))[_0x4bfad6(0x6f1)][_0x4bfad6(0x7d9)]('hidden'),generateWorksheetBtn[_0x4bfad6(0xbb3)]=!![];try{const _0x235bd4=await callAnalysisApi(_0x4ce81c,_0x1bf02a);formatAndPrintWorksheet(_0x235bd4,_0x4d9e92);}catch(_0x155cc7){console[_0x4bfad6(0x339)](_0x4bfad6(0xad8),_0x155cc7);if(_0x4d9e92)_0x4d9e92[_0x4bfad6(0x5e2)]();showMessage(_0x4bfad6(0x39c));}finally{document[_0x4bfad6(0xc4d)]('loader')[_0x4bfad6(0x6f1)][_0x4bfad6(0x648)]('hidden'),document[_0x4bfad6(0xc4d)](_0x4bfad6(0x1f9))['classList'][_0x4bfad6(0x648)](_0x4bfad6(0x476)),generateWorksheetBtn[_0x4bfad6(0xbb3)]=![];}}async function callAnalysisApi(_0x2b4635,_0x5f178a){const _0x32ea9e=_0x5be2be,_0x426a7c={'contents':[{'role':'user','parts':[{'text':_0x2b4635}]}],'generationConfig':{'responseMimeType':_0x32ea9e(0x224),'responseSchema':_0x5f178a}},_0x561c3f=_0x32ea9e(0x423),_0x3433ed=_0x32ea9e(0xbc1)+_0x561c3f,_0x242b00=await fetch(_0x3433ed,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x32ea9e(0x3f3)](_0x426a7c)});if(!_0x242b00['ok'])throw new Error(_0x32ea9e(0xa61)+_0x242b00['status']);const _0x161e88=await _0x242b00[_0x32ea9e(0xdf6)]();if(_0x161e88[_0x32ea9e(0x963)]?.[0x0]?.[_0x32ea9e(0xb76)]?.[_0x32ea9e(0x437)]?.[0x0])return JSON[_0x32ea9e(0x2fa)](_0x161e88['candidates'][0x0][_0x32ea9e(0xb76)]['parts'][0x0]['text']);else{let _0x967cc2=_0x32ea9e(0x21f);if(_0x161e88[_0x32ea9e(0x5a4)]?.['blockReason'])_0x967cc2='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x161e88[_0x32ea9e(0x5a4)]['blockReason']+'.';else _0x161e88[_0x32ea9e(0x963)]?.[0x0]?.[_0x32ea9e(0x4d3)]&&_0x161e88[_0x32ea9e(0x963)][0x0][_0x32ea9e(0x4d3)]!==_0x32ea9e(0x2fd)&&(_0x967cc2='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x161e88[_0x32ea9e(0x963)][0x0][_0x32ea9e(0x4d3)]+'.');console['error'](_0x967cc2,JSON[_0x32ea9e(0x3f3)](_0x161e88));throw new Error(_0x967cc2);}}async function handleStartSyncMode(_0x3adb74,_0x3103c7=![],_0x581ea6=_0x5be2be(0x19b)){const _0x5f2afd=_0x5be2be,_0x15422d=allQuizzes[_0x5f2afd(0x35d)](_0x13e9ff=>_0x13e9ff['id']===_0x3adb74)||allQuizzesGlobal['find'](_0x150706=>_0x150706['id']===_0x3adb74);if(!_0x15422d){showMessage(_0x5f2afd(0xe33));return;}currentQuizData=getShuffledQuiz(_0x15422d);const _0x256197=Math[_0x5f2afd(0x211)](0x3e8+Math['random']()*0x2328)['toString'](),_0x1dd10e=doc(db,_0x5f2afd(0x6e9)+appId+_0x5f2afd(0x9b0),_0x15422d[_0x5f2afd(0xbb0)]),_0x340100=await getDoc(_0x1dd10e);if(!_0x340100[_0x5f2afd(0x509)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x5aa4a8=_0x340100[_0x5f2afd(0x1de)]()[_0x5f2afd(0x94c)]||[],_0x284afe={};if(_0x581ea6===_0x5f2afd(0x995)||_0x581ea6===_0x5f2afd(0xe74)){const _0x885e1d=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x5f2afd(0x4ab)]());_0x5aa4a8[_0x5f2afd(0xd75)]((_0x277547,_0x4773cd)=>{const _0x372473=_0x5f2afd;_0x284afe[_0x277547]=_0x885e1d[_0x4773cd]||_0x372473(0xab5)+(_0x4773cd+0x1);});}const _0x23aa2c=document[_0x5f2afd(0xc4d)](_0x5f2afd(0x1c8))[_0x5f2afd(0x315)],_0x4fe6fe=parseInt(document[_0x5f2afd(0xc4d)](_0x5f2afd(0x3f4))[_0x5f2afd(0x1ce)],0xa);let _0x3687e5={'timerMode':_0x5f2afd(0x611),'timerDuration':0x0};_0x23aa2c&&(_0x3687e5['timerMode']=_0x5f2afd(0x768),_0x3687e5['timerDuration']=_0x4fe6fe||0xf0);const _0x87f6bf=document[_0x5f2afd(0xc4d)](_0x5f2afd(0x94a))[_0x5f2afd(0x315)],_0x6f6259=document['getElementById'](_0x5f2afd(0xac9))[_0x5f2afd(0x315)];try{const _0x3fcedc=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x15422d['id'],'pin':_0x256197,'status':_0x5f2afd(0xa69),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3103c7,'players':{},'gameVariant':_0x581ea6,'reviewQuestionIndex':0x0,'playerNicknames':_0x284afe,'isAnonymousRevealed':![],..._0x3687e5,'showAnswerInAnonymous':_0x87f6bf,'isBlackMarketEnabled':_0x6f6259});currentLiveGameId=_0x3fcedc['id'],showView(_0x5f2afd(0x82d)),renderSyncLobbyView(_0x256197,_0x15422d[_0x5f2afd(0x380)]),listenForSyncGameUpdates();const _0x3382ae={'gameId':currentLiveGameId,'mode':'sync','role':'admin'};sessionStorage['setItem'](_0x5f2afd(0xc99),JSON[_0x5f2afd(0x3f3)](_0x3382ae));}catch(_0x1f6c31){console[_0x5f2afd(0x339)](_0x5f2afd(0x4d6),_0x1f6c31),showMessage(_0x5f2afd(0x4f6));}}function calculateFinalPodiumScores(_0x254ebd){const _0x4c1a6a=_0x5be2be;if(!_0x254ebd||!_0x254ebd['shuffledQuiz']||!_0x254ebd[_0x4c1a6a(0xda5)])return _0x254ebd[_0x4c1a6a(0xda5)]||{};const _0x157a7e=_0x254ebd[_0x4c1a6a(0x1c4)][_0x4c1a6a(0xb1f)][_0x4c1a6a(0x724)],_0x5689f2=JSON['parse'](JSON[_0x4c1a6a(0x3f3)](_0x254ebd['players']));return Object[_0x4c1a6a(0x37f)](_0x5689f2)[_0x4c1a6a(0xd75)](_0x5815cd=>{const _0xfbcd56=_0x4c1a6a,_0x17f551=_0x5815cd['score']||0x0,_0x5787d4=_0x5815cd[_0xfbcd56(0x670)]||0x0;_0x157a7e>0x0&&_0x17f551===_0x157a7e?_0x5815cd[_0xfbcd56(0x63f)]=!![]:_0x5815cd[_0xfbcd56(0x63f)]=![],_0x5815cd[_0xfbcd56(0xa80)]=_0x17f551,_0x5815cd['totalPoints']=_0x5787d4;}),_0x5689f2;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x466153=_0x5be2be;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x3c22ee=doc(db,_0x466153(0x6e9)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3c22ee,_0x55c578=>{const _0x3c2aab=_0x466153;if(!_0x55c578[_0x3c2aab(0x509)]()){sessionStorage[_0x3c2aab(0x996)](_0x3c2aab(0xc99)),showMessage(_0x3c2aab(0x602));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3c2aab(0x84c)?showView('project-detail'):showView('student');return;}cachedGameData=_0x55c578[_0x3c2aab(0x1de)](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x3c2aab(0x1c4)]),syncDataAndRender();});const _0x4801ba=collection(db,_0x466153(0x6e9)+appId+_0x466153(0x614)+currentLiveGameId+_0x466153(0xd07));if(currentMode===_0x466153(0x84c))unsubscribePlayersCollectionListener=onSnapshot(_0x4801ba,_0x2e960f=>{const _0x2a1011=_0x466153;_0x2e960f['docChanges']()[_0x2a1011(0xd75)](_0x36adf1=>{const _0x82f184=_0x2a1011;if(_0x36adf1[_0x82f184(0xd50)]===_0x82f184(0x18c)||_0x36adf1[_0x82f184(0xd50)]==='modified')cachedPlayerData[_0x36adf1[_0x82f184(0x90a)]['id']]=_0x36adf1[_0x82f184(0x90a)]['data']();else _0x36adf1[_0x82f184(0xd50)]===_0x82f184(0xb1b)&&delete cachedPlayerData[_0x36adf1[_0x82f184(0x90a)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x466153(0x724)]>0x0){const _0x2e9aff=query(_0x4801ba,where('name','in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x2e9aff,_0x291b40=>{_0x291b40['docChanges']()['forEach'](_0xc85311=>{const _0x6763b1=_0x46b4;(_0xc85311['type']===_0x6763b1(0x18c)||_0xc85311['type']===_0x6763b1(0x267))&&(cachedPlayerData[_0xc85311[_0x6763b1(0x90a)]['id']]=_0xc85311['doc']['data']());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x1b4fac=_0x5be2be;if(!cachedGameData)return;const _0x57b838={},_0x39aa67=cachedGameData['currentQuestionIndex'];Object['keys'](cachedPlayerData)[_0x1b4fac(0xd75)](_0x21693f=>{const _0x474f6c=_0x1b4fac,_0x183ba8=cachedPlayerData[_0x21693f],_0x59113a=_0x183ba8[_0x474f6c(0x90b)]&&_0x183ba8[_0x474f6c(0x90b)][_0x474f6c(0x7db)](_0x4c823c=>_0x4c823c[_0x474f6c(0x2b6)]===_0x39aa67);_0x57b838[_0x21693f]={..._0x183ba8,'answered':_0x59113a};});const _0x37b5d6={...cachedGameData,'players':_0x57b838};currentMode===_0x1b4fac(0x84c)?updateAdminSyncView(_0x37b5d6):updateStudentSyncView(_0x37b5d6);}function renderSyncLobbyView(_0x5e18ea,_0x4cf131){const _0x3c3e0=_0x5be2be;liveGameView[_0x3c3e0(0x40b)]=_0x3c3e0(0xbab)+_0x4cf131+_0x3c3e0(0x4ad)+_0x5e18ea+_0x3c3e0(0xbae);const _0x15e53c=document[_0x3c3e0(0xc4d)](_0x3c3e0(0x552)),_0x592f67=document[_0x3c3e0(0xc4d)]('confidence-scoring-description');_0x15e53c[_0x3c3e0(0x5a2)](_0x3c3e0(0x25a),()=>{const _0x45066a=_0x3c3e0;_0x592f67['style'][_0x45066a(0xa9c)]=_0x15e53c[_0x45066a(0x315)]?'block':_0x45066a(0x611);}),document[_0x3c3e0(0xc4d)]('start-sync-game-btn')['addEventListener'](_0x3c3e0(0x4f4),async()=>{const _0xcf52f=_0x3c3e0,_0x43707a=doc(db,'artifacts/'+appId+_0xcf52f(0xe80),currentLiveGameId),_0x3af14d=document[_0xcf52f(0xc4d)](_0xcf52f(0x552))['checked'];await updateDoc(_0x43707a,{'status':_0xcf52f(0xbc5),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3af14d});});}function updateAdminSyncView(_0x116179){const _0x24cc11=_0x5be2be;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x116179['status']){case _0x24cc11(0xa69):renderSyncLobbyView(_0x116179[_0x24cc11(0x6fa)],_0x116179['shuffledQuiz'][_0x24cc11(0x380)]);const _0x6cbd8a=Object[_0x24cc11(0xb11)](_0x116179[_0x24cc11(0xda5)]||{})['filter'](([_0x386cbe,_0x3b9f81])=>_0x3b9f81['status']!=='inactive');document[_0x24cc11(0xc4d)]('player-count')[_0x24cc11(0x4c4)]=_0x6cbd8a[_0x24cc11(0x724)],document[_0x24cc11(0xc4d)](_0x24cc11(0xbf9))[_0x24cc11(0x40b)]=_0x6cbd8a[_0x24cc11(0x546)](([_0x173db2,_0x4e74e6])=>_0x24cc11(0x533)+_0x173db2+_0x24cc11(0x364)+_0x173db2+_0x24cc11(0xe41))[_0x24cc11(0x625)]('')||_0x24cc11(0xe55),document[_0x24cc11(0xc4d)](_0x24cc11(0x1f1))[_0x24cc11(0xbb3)]=_0x6cbd8a[_0x24cc11(0x724)]===0x0;break;case _0x24cc11(0xbc5):const _0x47969e=Object[_0x24cc11(0x37f)](_0x116179['players']||{})['filter'](_0x4d6c90=>_0x4d6c90['status']!==_0x24cc11(0x511)),_0x3eab46=_0x47969e['filter'](_0x15b2db=>_0x15b2db[_0x24cc11(0x447)])['length'],_0x8fa211=_0x3eab46===_0x47969e[_0x24cc11(0x724)]&&_0x47969e[_0x24cc11(0x724)]>0x0;if(_0x8fa211&&_0x116179[_0x24cc11(0x7c3)]===_0x24cc11(0xbc5)){const _0x172993=doc(db,_0x24cc11(0x6e9)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x172993,{'status':_0x24cc11(0x445)});return;}if(document[_0x24cc11(0xc4d)](_0x24cc11(0x191))===null)renderAdminSyncQuestionView(_0x116179);else{const _0x596dab=document['getElementById']('answer-counter');_0x596dab&&(_0x596dab[_0x24cc11(0x4c4)]=_0x3eab46+'/'+_0x47969e['length']);const _0x39edfb=document['getElementById'](_0x24cc11(0x85b));_0x39edfb&&(_0x39edfb[_0x24cc11(0x40b)]=_0x47969e[_0x24cc11(0x546)](_0x58d865=>{const _0x1ebe87=_0x24cc11,_0x1e84fb=_0x58d865[_0x1ebe87(0x447)]?_0x1ebe87(0xd19):_0x1ebe87(0xc0d),_0x26b301=_0x58d865[_0x1ebe87(0x447)]?_0x1ebe87(0xa34):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x1ebe87(0x4de)+_0x1e84fb+'\x22>'+_0x26b301+_0x1ebe87(0x11b)+_0x58d865[_0x1ebe87(0x1b0)]+_0x1ebe87(0x13d)+_0x58d865[_0x1ebe87(0x1b0)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x24cc11(0x625)](''));}const _0x47dff7=_0x116179['timerMode']===_0x24cc11(0x768)&&_0x116179[_0x24cc11(0xc3a)];if(_0x47dff7){const _0x33579e=_0x116179[_0x24cc11(0xc3a)][_0x24cc11(0x877)]()[_0x24cc11(0xda7)](),_0x158911=_0x116179[_0x24cc11(0xd0b)]*0x3e8,_0x46fdc5=_0x33579e+_0x158911,_0x2961f0=document['getElementById'](_0x24cc11(0x3e0)),_0x5b1aae=document[_0x24cc11(0xc4d)](_0x24cc11(0x731));syncQuestionTimerInterval=setInterval(()=>{const _0x29a800=_0x24cc11,_0x570f59=Date[_0x29a800(0xe3e)](),_0x449014=_0x47969e[_0x29a800(0x724)]>0x0&&_0x47969e['every'](_0x49943c=>{const _0x551278=_0x29a800;if(_0x49943c[_0x551278(0x447)])return!![];const _0x2646e6=_0x49943c[_0x551278(0x69e)]||0x0;return _0x570f59>=_0x33579e+_0x158911+_0x2646e6;});if(_0x449014){clearInterval(syncQuestionTimerInterval);const _0x27cff3=doc(db,'artifacts/'+appId+_0x29a800(0xe80),currentLiveGameId);updateDoc(_0x27cff3,{'status':_0x29a800(0x445)});return;}const _0x2be3f6=_0x46fdc5-_0x570f59;if(_0x2be3f6<=0x0){if(_0x2961f0)_0x2961f0[_0x29a800(0x201)][_0x29a800(0x6a7)]='0%';if(_0x5b1aae)_0x5b1aae['textContent']=_0x29a800(0x97d);}else{if(_0x2961f0&&_0x5b1aae){const _0x5ad2aa=_0x2be3f6/_0x158911*0x64;_0x2961f0[_0x29a800(0x201)][_0x29a800(0x6a7)]=_0x5ad2aa+'%',_0x5b1aae[_0x29a800(0x4c4)]=Math[_0x29a800(0x2f2)](_0x2be3f6/0x3e8);}}},0x1f4);}break;case _0x24cc11(0x445):const _0x4fa081=_0x116179[_0x24cc11(0xe7c)],_0x2365ba=_0x116179[_0x24cc11(0x1c4)]['questions'][_0x4fa081];renderSyncSummaryView(_0x116179,_0x2365ba,!![]);break;case _0x24cc11(0x338):const _0x306485=_0x116179[_0x24cc11(0xa4a)]||'classic';_0x306485===_0x24cc11(0x4f0)||_0x306485===_0x24cc11(0xe74)?renderAdminSyncDashboard(_0x116179,!![],_0x116179[_0x24cc11(0x5b4)]):(_0x116179[_0x24cc11(0x7c3)]===_0x24cc11(0x338)&&!_0x116179[_0x24cc11(0x6f2)]&&((async()=>{const _0x5e756f=_0x24cc11;try{const _0x19bcf3=doc(db,_0x5e756f(0x6e9)+appId+_0x5e756f(0xe80),currentLiveGameId);await updateDoc(_0x19bcf3,{'scoresCalculated':!![]});const _0x16bc40=cachedPlayerData||{},_0x39a1af=_0x116179[_0x5e756f(0x1c4)][_0x5e756f(0xb1f)]['length'],_0x155606={};Object['values'](_0x16bc40)[_0x5e756f(0xd75)](_0x38db9e=>{const _0x267655=_0x5e756f;if(_0x38db9e[_0x267655(0x7c3)]!==_0x267655(0x511)){const _0x2bd364=_0x38db9e['name'],_0x57f0cc=_0x38db9e[_0x267655(0x82f)]||0x0,_0xc63a3e=_0x38db9e['totalPoints']||0x0;let _0x4ec6a0=_0xc63a3e;_0x39a1af>0x0&&_0x57f0cc===_0x39a1af&&(_0x4ec6a0+=0x1),_0x155606['players.'+_0x2bd364+'.score']=_0x57f0cc,_0x155606[_0x267655(0x7a4)+_0x2bd364+_0x267655(0x79c)]=_0x4ec6a0,_0x155606[_0x267655(0x7a4)+_0x2bd364+_0x267655(0x6b9)]=_0x4ec6a0;}}),await updateDoc(_0x19bcf3,{..._0x155606});}catch(_0x104780){console[_0x5e756f(0x339)](_0x5e756f(0xda3),_0x104780);}})()),renderAdminSyncDashboard(_0x116179,!![],_0x116179[_0x24cc11(0xe7c)]));break;case _0x24cc11(0x434):const _0x4306f4=Object[_0x24cc11(0x74b)](_0x116179[_0x24cc11(0xda5)]||{})[_0x24cc11(0x724)]>0x0,_0x3c15ba=_0x116179[_0x24cc11(0x426)]===!![],_0x447c8b=_0x116179[_0x24cc11(0x9ef)]===!![];_0x447c8b&&!_0x3c15ba&&_0x4306f4&&saveGameResultsAsSubmissions(_0x116179);sessionStorage[_0x24cc11(0x996)](_0x24cc11(0xc99));const _0x40ed47=calculateFinalPodiumScores(_0x116179);showPodiumView(_0x40ed47,_0x24cc11(0xaa1),_0x116179);break;}}function renderAdminSyncQuestionView(_0x4279e7){const _0x4ae6ca=_0x5be2be,_0x541cc3=_0x4279e7[_0x4ae6ca(0xe7c)],_0x19229e=_0x4279e7[_0x4ae6ca(0x1c4)]['questions'][_0x541cc3],_0x18e91e=_0x4279e7[_0x4ae6ca(0x1c4)]['questions'][_0x4ae6ca(0x724)],_0xc41666=Object['values'](_0x4279e7[_0x4ae6ca(0xda5)]||{})[_0x4ae6ca(0x6e1)](_0xfd1ccd=>_0xfd1ccd[_0x4ae6ca(0x7c3)]!==_0x4ae6ca(0x511)),_0x3a1547=_0xc41666[_0x4ae6ca(0x6e1)](_0x1637eb=>_0x1637eb[_0x4ae6ca(0x447)])[_0x4ae6ca(0x724)],_0x14aeed=_0x3a1547===_0xc41666[_0x4ae6ca(0x724)]&&_0xc41666[_0x4ae6ca(0x724)]>0x0,_0x54977d=_0x19229e['questionType']||_0x4279e7[_0x4ae6ca(0x1c4)]['quizType'],_0xc8c6c3=(_0x54977d===_0x4ae6ca(0x738)||_0x54977d===_0x4ae6ca(0xa13))&&_0x19229e[_0x4ae6ca(0xa3c)]&&_0x19229e[_0x4ae6ca(0xa3c)][_0x4ae6ca(0x724)]>0x0;let _0x1980a9='';_0xc8c6c3?_0x1980a9=_0x4ae6ca(0xb73):_0x1980a9=(_0x19229e[_0x4ae6ca(0xa3c)]||[])[_0x4ae6ca(0x546)](_0x31714f=>_0x4ae6ca(0x708)+_0x31714f+_0x4ae6ca(0xcf0))['join']('');let _0x142139='';_0x4279e7['timerMode']===_0x4ae6ca(0x768)&&(_0x142139=_0x4ae6ca(0x1e6)+_0x4279e7[_0x4ae6ca(0xd0b)]+_0x4ae6ca(0x31b));liveGameView['innerHTML']=_0x4ae6ca(0x26a)+(_0x541cc3+0x1)+_0x4ae6ca(0x6e0)+_0x18e91e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x4279e7[_0x4ae6ca(0x6fa)]+_0x4ae6ca(0xeb)+_0x3a1547+'/'+_0xc41666[_0x4ae6ca(0x724)]+_0x4ae6ca(0xaa6)+_0x142139+_0x4ae6ca(0x50f)+(_0x19229e[_0x4ae6ca(0x9b3)]||_0x19229e[_0x4ae6ca(0xb4a)])+_0x4ae6ca(0x117)+_0x1980a9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x14aeed?_0x4ae6ca(0xbb3):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x4ae6ca(0x1bb)])MathJax['typesetPromise']();const _0xcf69=doc(db,_0x4ae6ca(0x6e9)+appId+_0x4ae6ca(0xe80),currentLiveGameId);document['getElementById']('show-results-btn')['addEventListener'](_0x4ae6ca(0x4f4),async()=>{const _0x4ff8f5=_0x4ae6ca;await updateDoc(_0xcf69,{'status':_0x4ff8f5(0x445)});}),document[_0x4ae6ca(0xc4d)]('open-sync-scratchpad-btn')[_0x4ae6ca(0x8f5)]=()=>{openScratchpad(_0x19229e,_0x19229e['options']||[]);},document[_0x4ae6ca(0xc4d)](_0x4ae6ca(0xdb))['addEventListener'](_0x4ae6ca(0x4f4),()=>{const _0x2bb7ce=_0x4ae6ca;document[_0x2bb7ce(0xc4d)](_0x2bb7ce(0x191))[_0x2bb7ce(0x6f1)]['toggle'](_0x2bb7ce(0x476));});const _0x25d687=document['getElementById']('end-sync-game-btn');_0x25d687&&(_0x25d687[_0x4ae6ca(0x8f5)]=()=>{const _0x1d1e5f=_0x4ae6ca;showConfirmation(_0x1d1e5f(0xadd),async()=>{const _0x99b52c=_0x1d1e5f;await updateDoc(_0xcf69,{'status':_0x99b52c(0x434)});});});}function renderSyncLeaderboardView(_0xaadfdd,_0x305974){const _0x1eed3c=_0x5be2be,_0x29bfc1=Object[_0x1eed3c(0x37f)](_0xaadfdd[_0x1eed3c(0xda5)]||{});_0x29bfc1[_0x1eed3c(0x332)]((_0x38b181,_0x21f596)=>_0x21f596[_0x1eed3c(0x82f)]-_0x38b181['score']);const _0x434432=_0x29bfc1[_0x1eed3c(0x647)](0x0,0x5);let _0x4cef91='';if(_0x305974){const _0x11bad6=_0xaadfdd['currentQuestionIndex']>=_0xaadfdd['shuffledQuiz']['questions'][_0x1eed3c(0x724)]-0x1;_0x4cef91=_0x1eed3c(0x5c7)+(_0x11bad6?_0x1eed3c(0x850):_0x1eed3c(0x1f3))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x4cef91=_0x1eed3c(0xb0d);liveGameView[_0x1eed3c(0x40b)]=_0x1eed3c(0xa87)+_0x434432['map']((_0x59921d,_0x1ec8ed)=>_0x1eed3c(0x3a5)+(_0x1ec8ed+0x1)+'.\x20'+_0x59921d[_0x1eed3c(0x1b0)]+_0x1eed3c(0x8ab)+_0x59921d['score']+_0x1eed3c(0xd04))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cef91+_0x1eed3c(0x13e),_0x305974&&document[_0x1eed3c(0xc4d)](_0x1eed3c(0xbf8))[_0x1eed3c(0x5a2)](_0x1eed3c(0x4f4),async()=>{const _0x85f6f2=_0x1eed3c,_0x39ac91=doc(db,_0x85f6f2(0x6e9)+appId+_0x85f6f2(0xe80),currentLiveGameId),_0x549786=_0xaadfdd[_0x85f6f2(0xe7c)]+0x1;if(_0x549786<_0xaadfdd[_0x85f6f2(0x1c4)]['questions']['length']){const _0x2c299f={};Object[_0x85f6f2(0x74b)](_0xaadfdd[_0x85f6f2(0xda5)])['forEach'](_0x12b26f=>{const _0x370e26=_0x85f6f2;_0x2c299f[_0x370e26(0x7a4)+_0x12b26f+'.answered']=![];}),await updateDoc(_0x39ac91,{'status':_0x85f6f2(0xbc5),'currentQuestionIndex':_0x549786,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x39ac91,{'status':_0x85f6f2(0x434)});});}async function handleJoinSyncGame(){const _0x2eb994=_0x5be2be,_0x4fd810=prompt(_0x2eb994(0xe8));if(!_0x4fd810||_0x4fd810[_0x2eb994(0x2ce)]()[_0x2eb994(0x724)]!==0x2){showMessage(_0x2eb994(0xbb7));return;}try{const _0x4b0724=collection(db,_0x2eb994(0x6e9)+appId+'/public/data/syncGames'),_0x530a2e=query(_0x4b0724,where('pin','==',_0x4fd810[_0x2eb994(0x2ce)]()),where(_0x2eb994(0x7c3),'==',_0x2eb994(0xa69))),_0x5a3a9a=await getDocs(_0x530a2e);if(_0x5a3a9a['empty']){showMessage(_0x2eb994(0xe43));return;}const _0x4c3453=_0x5a3a9a[_0x2eb994(0x2b9)][0x0];currentLiveGameId=_0x4c3453['id'];const _0x2bb66a=_0x4c3453[_0x2eb994(0x1de)](),_0xe3af2a=doc(db,'artifacts/'+appId+_0x2eb994(0x42c),_0x2bb66a['quizId']),_0x19377c=await getDoc(_0xe3af2a);if(!_0x19377c['exists']())throw new Error(_0x2eb994(0xa73));const _0x2161de=_0x19377c[_0x2eb994(0x1de)](),_0x2cf76c=doc(db,_0x2eb994(0x6e9)+appId+'/public/data/projects',_0x2161de[_0x2eb994(0xbb0)]),_0x2ffc62=await getDoc(_0x2cf76c);if(!_0x2ffc62[_0x2eb994(0x509)]())throw new Error(_0x2eb994(0x31c));currentQuizData=_0x2bb66a[_0x2eb994(0x1c4)];const _0x4ad5cd=_0x2ffc62[_0x2eb994(0x1de)]();showView(_0x2eb994(0x111)),showTeamPlayerSelection(_0x4ad5cd[_0x2eb994(0x94c)],_0x2161de[_0x2eb994(0x380)]);const _0x1bfb5e=document['getElementById'](_0x2eb994(0x481));_0x1bfb5e[_0x2eb994(0x8f5)]=confirmAndJoinSyncGame;}catch(_0x98aefa){console[_0x2eb994(0x339)](_0x2eb994(0x99d),_0x98aefa),showMessage('เกิดข้อผิดพลาด:\x20'+_0x98aefa[_0x2eb994(0xba5)]);}}function updateStudentSyncView(_0x79046e){const _0x35e24d=_0x5be2be,_0x1e518e=localTeamPlayers[0x0],_0x292f2a=_0x79046e[_0x35e24d(0xda5)][_0x1e518e]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x79046e['status']){case _0x35e24d(0xa69):showView(_0x35e24d(0x82d)),liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case'question':if(_0x79046e['currentQuestionIndex']!==lastSeenQuestionIndex){console[_0x35e24d(0xbe2)](_0x35e24d(0x4ef)),sessionStorage[_0x35e24d(0x996)]('powerupUsedThisTurn'),sessionStorage[_0x35e24d(0x996)](_0x35e24d(0xd22)),sessionStorage['removeItem'](_0x35e24d(0x558));const _0x56d834='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x53300b='powerupUsed_q'+lastSeenQuestionIndex,_0x2d2a1a='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x35e24d(0x74b)](sessionStorage)['forEach'](_0x19dc54=>{const _0x2839c8=_0x35e24d;(_0x19dc54[_0x2839c8(0xb6d)](_0x56d834)||_0x19dc54['startsWith'](_0x53300b)||_0x19dc54[_0x2839c8(0xb6d)](_0x2d2a1a))&&sessionStorage['removeItem'](_0x19dc54);});if(_0x292f2a[_0x35e24d(0x3a0)]||_0x292f2a[_0x35e24d(0x14e)]||(_0x292f2a[_0x35e24d(0x69e)]||0x0)>0x0){const _0x262a21=doc(db,_0x35e24d(0x6e9)+appId+_0x35e24d(0x614)+currentLiveGameId+_0x35e24d(0xd07),_0x1e518e);updateDoc(_0x262a21,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x35e24d(0x606)](_0x2aa7ff=>console[_0x35e24d(0x339)](_0x35e24d(0xbfc),_0x2aa7ff));}lastSeenQuestionIndex=_0x79046e[_0x35e24d(0xe7c)];}localPlayerTurnIndex=0x0;const _0x547bfc=localTeamPlayers[_0x35e24d(0x55e)](_0x5a04f6=>_0x79046e[_0x35e24d(0xda5)][_0x5a04f6]?.[_0x35e24d(0x447)]===!![]);if(_0x547bfc)liveGameView[_0x35e24d(0x40b)]=_0x35e24d(0xc24);else{renderStudentSyncQuestionView(_0x79046e);if(_0x79046e[_0x35e24d(0x120)]===_0x35e24d(0x768)){if(!_0x79046e[_0x35e24d(0xc3a)]){console[_0x35e24d(0xbe2)](_0x35e24d(0x9c9));return;}const _0x536cd8=_0x79046e['questionDisplayedAt'][_0x35e24d(0x877)]()[_0x35e24d(0xda7)](),_0x1b144f=_0x79046e[_0x35e24d(0xd0b)]*0x3e8,_0x101b76=localTeamPlayers[_0x35e24d(0x546)](_0x3a774c=>_0x79046e[_0x35e24d(0xda5)][_0x3a774c]?.[_0x35e24d(0x69e)]||0x0),_0x386bc7=Math[_0x35e24d(0xcf)](..._0x101b76,0x0),_0x41dd9a=_0x536cd8+_0x1b144f+_0x386bc7;syncQuestionTimerInterval=setInterval(()=>{const _0x4f05a7=_0x35e24d,_0x149c7a=_0x41dd9a-Date[_0x4f05a7(0xe3e)](),_0x52bcdf=document[_0x4f05a7(0xc4d)](_0x4f05a7(0x3e0)),_0x236d11=document[_0x4f05a7(0xc4d)](_0x4f05a7(0x731));if(_0x149c7a<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x52bcdf)_0x52bcdf[_0x4f05a7(0x201)]['width']='0%';if(_0x236d11)_0x236d11[_0x4f05a7(0x4c4)]='0';liveGameView[_0x4f05a7(0x40b)]=_0x4f05a7(0x554);}else{if(_0x52bcdf&&_0x236d11){const _0x234431=_0x1b144f+_0x386bc7,_0x54e7ce=_0x234431>0x0?_0x149c7a/_0x234431*0x64:0x0;_0x52bcdf[_0x4f05a7(0x201)][_0x4f05a7(0x6a7)]=_0x54e7ce+'%',_0x236d11[_0x4f05a7(0x4c4)]=Math[_0x4f05a7(0x2f2)](_0x149c7a/0x3e8);}}},0x1f4);}}break;case _0x35e24d(0x445):liveGameView[_0x35e24d(0x40b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'results':localPlayerTurnIndex=0x0;const _0xbfaec2=_0x79046e[_0x35e24d(0xa4a)]||'classic';if(_0xbfaec2===_0x35e24d(0x995)||_0xbfaec2===_0x35e24d(0xe74))renderStudentAnonymousResultsView(_0x79046e,_0x79046e[_0x35e24d(0xe7c)]);else _0xbfaec2===_0x35e24d(0xc02)?renderStudentCompetitionResultsView(_0x79046e,_0x79046e[_0x35e24d(0xe7c)]):renderStudentSyncResultsView(_0x79046e);break;case _0x35e24d(0x434):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x35e24d(0xdfc)](_0x35e24d(0x1a3),handleFullscreenChange),document[_0x35e24d(0xdfc)](_0x35e24d(0x76b),handleVisibilityChange),sessionStorage[_0x35e24d(0x996)](_0x35e24d(0xc99));const _0x336622=_0x79046e[_0x35e24d(0xa4a)]||_0x35e24d(0x19b),_0x1c5b47=_0x79046e[_0x35e24d(0x1c4)][_0x35e24d(0xb1f)][_0x35e24d(0x724)]-0x1;if(_0x336622===_0x35e24d(0x995)||_0x336622===_0x35e24d(0xe74))renderStudentAnonymousResultsView(_0x79046e,_0x1c5b47);else _0x336622===_0x35e24d(0xc02)?renderStudentCompetitionResultsView(_0x79046e,_0x1c5b47):renderStudentSyncResultsView(_0x79046e);const _0x46dc78=liveGameView[_0x35e24d(0xab2)](_0x35e24d(0x9cb));_0x46dc78&&(_0x46dc78['style'][_0x35e24d(0xa9c)]=_0x35e24d(0x611));const _0x27f69a=liveGameView[_0x35e24d(0xab2)](_0x35e24d(0xde2));_0x27f69a&&(_0x27f69a[_0x35e24d(0x201)][_0x35e24d(0xa9c)]=_0x35e24d(0x611));const _0x4f8847=_0x35e24d(0x9bf);liveGameView[_0x35e24d(0x27c)]?liveGameView[_0x35e24d(0x27c)][_0x35e24d(0x4dc)](_0x35e24d(0xd66),_0x4f8847):liveGameView['insertAdjacentHTML'](_0x35e24d(0xd66),_0x4f8847);break;}}function renderStudentSyncResultsView(_0x53d0fc){const _0x4f1dc5=_0x5be2be;let _0xbf6cd=[];_0x53d0fc[_0x4f1dc5(0xa65)]&&Array[_0x4f1dc5(0x228)](_0x53d0fc[_0x4f1dc5(0xa65)])&&_0x53d0fc['publicLeaderboard'][_0x4f1dc5(0x724)]>0x0?_0xbf6cd=_0x53d0fc[_0x4f1dc5(0xa65)]:_0xbf6cd=Object[_0x4f1dc5(0x37f)](_0x53d0fc[_0x4f1dc5(0xda5)]||{});const _0x1ed3f3=_0x53d0fc[_0x4f1dc5(0xa4a)]||_0x4f1dc5(0x19b),_0x43b487=_0x1ed3f3===_0x4f1dc5(0x4f0)||_0x1ed3f3===_0x4f1dc5(0xe74),_0x31454f=_0x53d0fc['shuffledQuiz'][_0x4f1dc5(0xb1f)],_0x1ca882=_0x43b487&&_0x53d0fc[_0x4f1dc5(0x5b4)]!==undefined?_0x53d0fc[_0x4f1dc5(0x5b4)]:_0x53d0fc['currentQuestionIndex'],_0x3a5b9e=_0x43b487?_0x53d0fc[_0x4f1dc5(0x5b4)]:_0x53d0fc[_0x4f1dc5(0xe7c)],_0x568b0b=_0xbf6cd[_0x4f1dc5(0x546)](_0x2c4350=>{const _0x4487c5=_0x4f1dc5,_0x5c6ed1=(_0x2c4350[_0x4487c5(0x90b)]||[])[_0x4487c5(0x6e1)](_0x31a1a5=>_0x31a1a5[_0x4487c5(0x2b6)]<=_0x1ca882);let _0xff3262=0x0,_0x49a7d9=0x0;_0x43b487?(_0xff3262=_0x5c6ed1[_0x4487c5(0x6e1)](_0x32d426=>_0x32d426[_0x4487c5(0xd32)])[_0x4487c5(0x724)],_0x49a7d9=_0x5c6ed1[_0x4487c5(0xd5b)]((_0x5b98d,_0x5e23b1)=>_0x5b98d+(_0x5e23b1[_0x4487c5(0xc46)]||0x0),0x0)):(_0xff3262=_0x2c4350['score']||0x0,_0x49a7d9=_0x2c4350[_0x4487c5(0x670)]||0x0);const _0x146009=[..._0x5c6ed1][_0x4487c5(0x332)]((_0x23fe5c,_0x1e1f01)=>_0x23fe5c[_0x4487c5(0x2b6)]-_0x1e1f01[_0x4487c5(0x2b6)]);let _0x1c67b1=0x0;return _0x146009['forEach'](_0xd57f4e=>{const _0x4d55cc=_0x4487c5,_0x2b57e8=_0xd57f4e[_0x4d55cc(0x326)]&&_0xd57f4e[_0x4d55cc(0x326)]!==_0x4d55cc(0x9b7)||_0xd57f4e[_0x4d55cc(0xb75)];_0xd57f4e['isCorrect']?_0x1c67b1=_0x2b57e8?0x0:_0x1c67b1+0x1:_0x1c67b1=0x0;}),{..._0x2c4350,'realScore':_0xff3262,'totalPoints':_0x49a7d9,'answers':_0x2c4350[_0x4487c5(0x90b)],'correctStreak':_0x1c67b1};}),_0x88b675=Math[_0x4f1dc5(0xcf)](..._0x568b0b[_0x4f1dc5(0x546)](_0x540f57=>_0x540f57[_0x4f1dc5(0x670)]),-Infinity),_0x1bc1d1=Math[_0x4f1dc5(0xcf)](..._0x568b0b[_0x4f1dc5(0x546)](_0x154c45=>_0x154c45[_0x4f1dc5(0xa80)]),-Infinity),_0x38cd1e=_0x53d0fc['isBlackMarketEnabled']===!![];let _0x2951a9=_0x568b0b[_0x4f1dc5(0x6e1)](_0x37dd94=>localTeamPlayers['includes'](_0x37dd94[_0x4f1dc5(0x1b0)]));_0x2951a9[_0x4f1dc5(0x332)]((_0x5cce45,_0x410cc4)=>(_0x410cc4[_0x4f1dc5(0x670)]||0x0)-(_0x5cce45[_0x4f1dc5(0x670)]||0x0));let _0x44946d='';const _0x48a0a9=_0x43b487?_0x1ca882>=_0x31454f[_0x4f1dc5(0x724)]-0x1:_0x53d0fc[_0x4f1dc5(0xe7c)]>=_0x31454f[_0x4f1dc5(0x724)]-0x1;if(_0x53d0fc[_0x4f1dc5(0x7c3)]===_0x4f1dc5(0x434))_0x44946d='';else _0x48a0a9?_0x44946d=_0x4f1dc5(0x61b):_0x44946d='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x27dec3=_0x4f1dc5(0x899)+_0x2951a9[_0x4f1dc5(0x546)]((_0x499708,_0x288199)=>{const _0x527429=_0x4f1dc5;let _0x378f9a=_0x527429(0x192);const _0x51fcfb=(_0x499708[_0x527429(0x90b)]||[])[_0x527429(0x35d)](_0x565bfe=>_0x565bfe[_0x527429(0x2b6)]===_0x3a5b9e);let _0xaa431d='';if(_0x51fcfb){if(_0x51fcfb['wasForced'])_0xaa431d+=_0x527429(0xe32);if(_0x51fcfb[_0x527429(0x5c1)])_0xaa431d+=_0x527429(0x281);if(_0x51fcfb['usedBuyTime'])_0xaa431d+='<span\x20title=\x22ใช้เวลา\x22>⏳</span>';const _0x2915c5=_0x51fcfb['powerupUsed'];if(_0x2915c5){const _0x48a792={'poll':'📊','cutOne':'✂️','insurance':_0x527429(0x277),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x48a792[_0x2915c5])_0xaa431d+=_0x527429(0x7ab)+_0x2915c5+'\x22>'+_0x48a792[_0x2915c5]+_0x527429(0xdf9);}}if(_0x51fcfb){const _0xf15158=_0x51fcfb['isCorrect'],_0x63024=_0x51fcfb[_0x527429(0x6a2)]===!![]||_0x51fcfb[_0x527429(0x6a2)]===_0x527429(0x355),_0x314225=_0x51fcfb['powerupUsed'];if(_0x314225===_0x527429(0x9b7))_0x378f9a=_0xf15158?'bg-yellow-300\x20text-yellow-900\x20font-bold':'bg-red-700\x20text-white\x20font-bold';else{if(_0x63024)_0x378f9a=_0xf15158?_0x527429(0x258):_0x527429(0x357);else _0xf15158?_0x378f9a=_0x527429(0x420):_0x378f9a='bg-red-100\x20text-red-900';}}let _0x1f0588='';_0x51fcfb&&_0x51fcfb[_0x527429(0x326)]===_0x527429(0x9b7)&&!_0x51fcfb[_0x527429(0xd32)]&&(_0x1f0588=_0x527429(0x3e5));const _0x6f5284=_0x499708[_0x527429(0x670)]>=0x0?'(+'+_0x499708['totalPoints']['toLocaleString']()+')':'('+_0x499708['totalPoints'][_0x527429(0x3f0)]()+')';let _0x1d8fed='';const _0x268547=_0x499708[_0x527429(0x90b)][_0x527429(0x724)],_0x5e155f=_0x1ca882+0x1;if(_0x268547>0x0){_0x38cd1e?(_0x499708['totalPoints']===_0x88b675&&_0x88b675>0x0&&(_0x1d8fed+='<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>'),_0x499708[_0x527429(0xa80)]===_0x1bc1d1&&_0x1bc1d1>0x0&&(_0x1d8fed+=_0x527429(0x2f6))):_0x499708['realScore']===_0x5e155f&&(_0x1d8fed+=_0x527429(0x489));const _0xfe6864=_0x1d8fed[_0x527429(0xe4a)]('👑')||_0x1d8fed[_0x527429(0xe4a)]('🎓')||_0x1d8fed[_0x527429(0xe4a)]('⭐');!_0xfe6864&&_0x499708['totalPoints']<0x0&&(_0x1d8fed+=_0x527429(0x461));}let _0x40b46b='';const _0x3ba18a=_0x51fcfb&&_0x51fcfb[_0x527429(0xb75)],_0x131c7c=_0x51fcfb&&_0x51fcfb['powerupUsed']&&_0x51fcfb[_0x527429(0x326)]!==_0x527429(0x9b7);if(!_0x3ba18a&&!_0x131c7c){const _0x39779c=_0x499708[_0x527429(0xdc2)]||0x0;_0x39779c>=0x3&&(_0x40b46b=_0x527429(0xf6)+_0x39779c+_0x527429(0xdf9));}return _0x527429(0x3ef)+_0x378f9a+_0x527429(0xa60)+(_0x288199+0x1)+_0x527429(0x639)+_0x499708[_0x527429(0x1b0)]+_0x527429(0x35a)+_0xaa431d+'\x20'+_0x1d8fed+'\x20'+_0x40b46b+_0x527429(0xc29)+_0x499708['realScore']+_0x527429(0xab0)+_0x6f5284+_0x527429(0xab9)+_0x1f0588+_0x527429(0x122);})[_0x4f1dc5(0x625)]('')+_0x4f1dc5(0x848)+_0x44946d+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x27dec3;}function renderStudentAnonymousResultsView(_0x36d194,_0x2bb59a){const _0x1e3773=_0x5be2be;let _0x28d5b8=[];_0x36d194[_0x1e3773(0xa65)]?_0x28d5b8=_0x36d194[_0x1e3773(0xa65)]:_0x28d5b8=Object[_0x1e3773(0x37f)](_0x36d194['players']||{});const _0x44663d=_0x36d194['gameVariant']||_0x1e3773(0x19b),_0x351094=_0x44663d==='reveal_at_end'||_0x44663d===_0x1e3773(0xe74),_0x16bd47=_0x36d194['isAnonymousRevealed']===!![],_0xa6e65=_0x36d194['shuffledQuiz'][_0x1e3773(0xb1f)],_0x20870f=_0x351094&&_0x36d194[_0x1e3773(0x5b4)]!==undefined?_0x36d194[_0x1e3773(0x5b4)]:_0x2bb59a,_0x193b70=_0x28d5b8['map'](_0x2f845e=>{const _0x7fed45=_0x1e3773,_0x4e5393=(_0x2f845e[_0x7fed45(0x90b)]||[])['filter'](_0x114d90=>_0x114d90['questionIndex']<=_0x20870f);let _0x31b658=0x0,_0x135b62=0x0;_0x351094?(_0x31b658=_0x4e5393[_0x7fed45(0x6e1)](_0x1076e7=>_0x1076e7[_0x7fed45(0xd32)])[_0x7fed45(0x724)],_0x135b62=_0x4e5393[_0x7fed45(0xd5b)]((_0x2ecb17,_0x4ec6ac)=>_0x2ecb17+(_0x4ec6ac[_0x7fed45(0xc46)]||0x0),0x0)):(_0x31b658=_0x2f845e[_0x7fed45(0x82f)]||0x0,_0x135b62=_0x2f845e[_0x7fed45(0x670)]||0x0);const _0x38ab92=[..._0x4e5393][_0x7fed45(0x332)]((_0x182268,_0x288bf3)=>_0x182268[_0x7fed45(0x2b6)]-_0x288bf3[_0x7fed45(0x2b6)]);let _0x69d604=0x0;return _0x38ab92['forEach'](_0x57117c=>{const _0x3e18d2=_0x7fed45,_0x2f54c6=_0x57117c['powerupUsed']&&_0x57117c[_0x3e18d2(0x326)]!==_0x3e18d2(0x9b7)||_0x57117c[_0x3e18d2(0xb75)];_0x57117c[_0x3e18d2(0xd32)]?_0x2f54c6?_0x69d604=0x0:_0x69d604++:_0x69d604=0x0;}),{..._0x2f845e,'realScore':_0x31b658,'totalPoints':_0x135b62,'answers':_0x2f845e['answers'],'correctStreak':_0x69d604};}),_0x2f8a6a=Math[_0x1e3773(0xcf)](..._0x193b70[_0x1e3773(0x546)](_0x443483=>_0x443483[_0x1e3773(0x670)]),-Infinity),_0x4b997f=Math[_0x1e3773(0xcf)](..._0x193b70[_0x1e3773(0x546)](_0x2aa5e4=>_0x2aa5e4['realScore']),-Infinity),_0x2f9dba=_0x36d194[_0x1e3773(0x172)]===!![],_0x31e058=[..._0x193b70][_0x1e3773(0x332)]((_0x2a90e1,_0x2e6f3d)=>{const _0x29acc2=_0x1e3773;if(_0x2f9dba){if(_0x2e6f3d[_0x29acc2(0x670)]!==_0x2a90e1['totalPoints'])return _0x2e6f3d[_0x29acc2(0x670)]-_0x2a90e1['totalPoints'];if(_0x2e6f3d[_0x29acc2(0xa80)]!==_0x2a90e1[_0x29acc2(0xa80)])return _0x2e6f3d['realScore']-_0x2a90e1[_0x29acc2(0xa80)];}else{if(_0x2e6f3d[_0x29acc2(0x670)]!==_0x2a90e1['totalPoints'])return _0x2e6f3d['totalPoints']-_0x2a90e1[_0x29acc2(0x670)];if(_0x2e6f3d[_0x29acc2(0xa80)]!==_0x2a90e1[_0x29acc2(0xa80)])return _0x2e6f3d['realScore']-_0x2a90e1[_0x29acc2(0xa80)];}return(_0x2a90e1[_0x29acc2(0x1b0)]||'')['localeCompare'](_0x2e6f3d[_0x29acc2(0x1b0)]||'','th');});let _0x7e176d=null;const _0x17b3a5=_0x193b70[_0x1e3773(0x6e1)](_0xbb5785=>localTeamPlayers[_0x1e3773(0xe4a)](_0xbb5785[_0x1e3773(0x1b0)]));_0x7e176d=_0x17b3a5[_0x1e3773(0x724)]>0x0?_0x17b3a5[_0x1e3773(0x332)]((_0x2af6b9,_0x495be5)=>_0x495be5[_0x1e3773(0x670)]-_0x2af6b9[_0x1e3773(0x670)])[0x0]:null;if(!_0x7e176d){liveGameView[_0x1e3773(0x40b)]=_0x1e3773(0x7b3);return;}const _0x4451c7=_0x2f9dba?_0x7e176d[_0x1e3773(0x670)]:_0x7e176d[_0x1e3773(0x670)],_0x1cc1b8=_0x20870f+0x1,_0x5e96a6=_0x31e058[_0x1e3773(0x546)]((_0x3ca55e,_0x34c1ba)=>{const _0x207f51=_0x1e3773,_0x42e295=_0x3ca55e[_0x207f51(0xa80)],_0x7b91be=_0x3ca55e[_0x207f51(0x670)],_0x436483=(_0x3ca55e[_0x207f51(0x90b)]||[])[_0x207f51(0x35d)](_0x3f52fd=>_0x3f52fd[_0x207f51(0x2b6)]===_0x20870f);let _0x2b77bd='';if(_0x436483){if(_0x436483[_0x207f51(0x1fe)])_0x2b77bd+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>';if(_0x436483['wasJinxed'])_0x2b77bd+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>';if(_0x436483[_0x207f51(0xb75)])_0x2b77bd+=_0x207f51(0xd2a);const _0x2e5bca=_0x436483[_0x207f51(0x326)];if(_0x2e5bca){const _0xb76af7={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x207f51(0xdc4)};if(_0xb76af7[_0x2e5bca])_0x2b77bd+=_0x207f51(0xae1)+_0xb76af7[_0x2e5bca]+_0x207f51(0xdf9);}}let _0x1cf5ef='';if(_0x1cc1b8>0x0){if(_0x2f9dba){if(_0x7b91be===_0x2f8a6a&&_0x2f8a6a>0x0)_0x1cf5ef+=_0x207f51(0xc9b);if(_0x42e295===_0x4b997f&&_0x4b997f>0x0)_0x1cf5ef+=_0x207f51(0x5be);}else{const _0x5b1a6b=_0x3ca55e[_0x207f51(0xa80)]===_0x1cc1b8&&_0x1cc1b8>0x0;if(_0x5b1a6b)_0x1cf5ef=_0x207f51(0xace);}if(_0x1cf5ef===''&&_0x7b91be<0x0)_0x1cf5ef=_0x207f51(0x385);}let _0x310284='';const _0x1bfe60=_0x436483&&_0x436483[_0x207f51(0xb75)],_0x5bba29=_0x436483&&_0x436483[_0x207f51(0x326)]&&_0x436483[_0x207f51(0x326)]!==_0x207f51(0x9b7);if(!_0x1bfe60&&!_0x5bba29){const _0xf0d453=_0x3ca55e[_0x207f51(0xdc2)]||0x0;_0xf0d453>=0x3&&(_0x310284=_0x207f51(0xb04)+_0xf0d453+_0x207f51(0xdf9));}let _0x4ccd78='bg-black/20',_0x443ae2=![];if(_0x436483){const _0x523dbd=_0x436483[_0x207f51(0xd32)],_0x337139=_0x436483[_0x207f51(0x6a2)]===!![]||_0x436483[_0x207f51(0x6a2)]==='confident',_0x40465a=_0x436483['powerupUsed'];if(_0x40465a===_0x207f51(0x9b7))_0x523dbd?(_0x4ccd78=_0x207f51(0xddb),_0x443ae2=!![]):_0x4ccd78=_0x207f51(0xe77);else{if(_0x337139)_0x4ccd78=_0x523dbd?_0x207f51(0x258):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x523dbd&&(_0x4ccd78=_0x207f51(0x420));}}let _0x25bda0='';const _0x258ace=_0x3ca55e[_0x207f51(0x1b0)],_0x5738c3=_0x36d194[_0x207f51(0xc83)][_0x3ca55e[_0x207f51(0x1b0)]]||'???',_0x50655d=_0x207f51(0x104),_0x3983d4=_0x207f51(0x618),_0x1a68f4=localTeamPlayers[_0x207f51(0xe4a)](_0x258ace),_0x10217b=_0x443ae2?_0x207f51(0x74f):'text-gray-300',_0x1a5d62=_0x2f9dba?_0x3ca55e['totalPoints']:_0x3ca55e[_0x207f51(0x670)],_0x5ad8a5=_0x16bd47||_0x1a68f4||_0x4451c7>_0x1a5d62;_0x5ad8a5?_0x25bda0=_0x207f51(0x406)+_0x50655d+'\x22\x20title=\x22'+_0x258ace+'\x20('+_0x5738c3+_0x207f51(0x2fc)+_0x3983d4+'\x22>'+_0x258ace+_0x207f51(0x90f)+_0x2b77bd+'\x20'+_0x1cf5ef+'\x20'+_0x310284+_0x207f51(0xb72)+_0x10217b+_0x207f51(0x8a4)+_0x3983d4+_0x207f51(0xb22)+_0x5738c3+_0x207f51(0x8ad):_0x25bda0=_0x207f51(0x406)+_0x50655d+_0x207f51(0x5e4)+_0x5738c3+'\x22><span\x20style=\x22'+_0x3983d4+'\x22>'+_0x5738c3+_0x207f51(0x90f)+_0x2b77bd+'\x20'+_0x1cf5ef+'\x20'+_0x310284+_0x207f51(0xcf0);_0x1a68f4&&(_0x25bda0=_0x207f51(0xc70)+_0x25bda0+_0x207f51(0x70b));const _0x1aa9a5=_0x7b91be>=0x0?'(+'+_0x7b91be[_0x207f51(0x3f0)]()+')':'('+_0x7b91be[_0x207f51(0x3f0)]()+')',_0xfbda5f=_0x207f51(0x7e3)+_0x42e295+_0x207f51(0xab0)+_0x1aa9a5+_0x207f51(0xdf9);return _0x207f51(0xd8b)+_0x4ccd78+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x34c1ba+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x25bda0+_0x207f51(0x8ff)+_0xfbda5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1e3773(0x625)]('');let _0xa23236='';const _0x385dab=_0x351094?_0x20870f>=_0xa6e65[_0x1e3773(0x724)]-0x1:_0x36d194[_0x1e3773(0xe7c)]>=_0xa6e65[_0x1e3773(0x724)]-0x1;if(_0x36d194[_0x1e3773(0x7c3)]===_0x1e3773(0x434))_0xa23236='';else _0x385dab?_0xa23236='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0xa23236=_0x1e3773(0xd95);const _0x272f8c=_0x1e3773(0x9d1)+_0x5e96a6+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa23236+_0x1e3773(0x13e);liveGameView[_0x1e3773(0x40b)]=_0x272f8c;}function renderStudentCompetitionResultsView(_0x5362dc,_0x2ed958){const _0x3bee93=_0x5be2be,_0x84ef49=Object[_0x3bee93(0x37f)](_0x5362dc[_0x3bee93(0xda5)]||{}),_0x39c9d2=_0x2ed958,_0x5653ad=_0x5362dc[_0x3bee93(0xa4a)]||_0x3bee93(0x19b),_0x5a7da5=_0x5362dc[_0x3bee93(0x1c4)][_0x3bee93(0xb1f)],_0x1e7c68=_0x84ef49[_0x3bee93(0x546)](_0x57ab86=>{const _0x762465=_0x3bee93,_0x564830=_0x57ab86[_0x762465(0x82f)]||0x0,_0x184c31=_0x57ab86['totalPoints']||0x0,_0x3b9f30=(_0x57ab86[_0x762465(0x90b)]||[])[_0x762465(0x6e1)](_0x52e4d8=>_0x5653ad===_0x762465(0x4f0)?_0x52e4d8['questionIndex']<=_0x39c9d2:!![]);return{..._0x57ab86,'realScore':_0x564830,'totalPoints':_0x184c31,'answers':_0x3b9f30};}),_0x20dd81=_0x5362dc[_0x3bee93(0x172)]===!![],_0x15d4a6=[..._0x1e7c68][_0x3bee93(0x332)]((_0x23015b,_0x2b6c9a)=>{const _0x3cab2c=_0x3bee93;if(_0x20dd81){const _0x5b3e98=_0x2b6c9a[_0x3cab2c(0xa80)]-_0x23015b['realScore'];if(_0x5b3e98!==0x0)return _0x5b3e98;const _0x1843b0=_0x2b6c9a[_0x3cab2c(0x670)]-_0x23015b[_0x3cab2c(0x670)];if(_0x1843b0!==0x0)return _0x1843b0;return(_0x23015b[_0x3cab2c(0x1b0)]||'')['localeCompare'](_0x2b6c9a[_0x3cab2c(0x1b0)]||'','th');}else{const _0x81aa9f=_0x2b6c9a[_0x3cab2c(0x670)]-_0x23015b[_0x3cab2c(0x670)];if(_0x81aa9f!==0x0)return _0x81aa9f;const _0x44ac9d=_0x2b6c9a['realScore']-_0x23015b[_0x3cab2c(0xa80)];if(_0x44ac9d!==0x0)return _0x44ac9d;return(_0x23015b[_0x3cab2c(0x1b0)]||'')[_0x3cab2c(0xc7f)](_0x2b6c9a['name']||'','th');}}),_0x372250=_0x15d4a6[_0x3bee93(0x546)]((_0x12f848,_0x1430e1)=>{const _0x35db73=_0x3bee93,_0x2146ef='';let _0x5f2d21=_0x35db73(0x482);const _0x3539a3=_0x12f848[_0x35db73(0x1b0)],_0x28a76b=_0x35db73(0x104),_0x1773c7='word-break:\x20break-all;',_0x3a0c6f=_0x35db73(0x406)+_0x28a76b+_0x35db73(0x5e4)+_0x3539a3+_0x35db73(0x4e6)+_0x1773c7+'\x22>'+_0x3539a3+_0x35db73(0xdf9)+_0x2146ef+_0x35db73(0xcf0),_0x47c972='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x5f2d21+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x1430e1+0x1)+_0x35db73(0x61d)+_0x3a0c6f+_0x35db73(0x8ff)+_0x47c972+_0x35db73(0x29e);})['join']('');let _0x40faaa='';const _0x4ca8c4=_0x5653ad===_0x3bee93(0x4f0)?_0x5362dc[_0x3bee93(0x5b4)]>=_0x5a7da5[_0x3bee93(0x724)]-0x1:_0x5362dc['currentQuestionIndex']>=_0x5a7da5['length']-0x1;_0x4ca8c4?_0x40faaa='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x40faaa=_0x3bee93(0xd95);const _0x3b5119=_0x3bee93(0x72e)+_0x372250+_0x3bee93(0x430)+_0x40faaa+_0x3bee93(0x13e);liveGameView[_0x3bee93(0x40b)]=_0x3b5119;}function renderStudentSyncQuestionView(_0x16759c){const _0x4c4a48=_0x5be2be;while(localPlayerTurnIndex<localTeamPlayers[_0x4c4a48(0x724)]&&_0x16759c[_0x4c4a48(0xda5)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x453115=localTeamPlayers[localPlayerTurnIndex];if(!_0x453115)return;const _0x1946ea=_0x16759c[_0x4c4a48(0xda5)][_0x453115],_0x21854a=_0x16759c['currentQuestionIndex'],_0x4dafe0=_0x16759c['shuffledQuiz'][_0x4c4a48(0xb1f)]['length'],_0x3e0c5d=_0x16759c[_0x4c4a48(0x1c4)][_0x4c4a48(0xb1f)][_0x21854a],_0x5d35e6=_0x3e0c5d[_0x4c4a48(0xc7b)]||_0x16759c['shuffledQuiz'][_0x4c4a48(0xd93)];let _0x268cbd='',_0x3f662b=![];const _0x5dab95=_0x4c4a48(0x491)+_0x21854a+'_p'+_0x453115,_0x3556e5=sessionStorage[_0x4c4a48(0xadf)](_0x5dab95),_0x9ec359=_0x3556e5===_0x4c4a48(0xb30),_0x568de5=_0x4c4a48(0x8b1)+_0x21854a+'_p'+_0x453115,_0x3a6600=JSON[_0x4c4a48(0x2fa)](sessionStorage[_0x4c4a48(0xadf)](_0x568de5)||'[]')[_0x4c4a48(0x546)](String);if((_0x5d35e6==='short_answer'||_0x5d35e6===_0x4c4a48(0xa13))&&_0x9ec359&&_0x3e0c5d[_0x4c4a48(0xa3c)]&&_0x3e0c5d[_0x4c4a48(0xa3c)][_0x4c4a48(0x724)]>0x0)_0x268cbd=_0x3e0c5d[_0x4c4a48(0xa3c)][_0x4c4a48(0x546)]((_0x3d2f53,_0x46484c)=>{const _0x841b94=_0x4c4a48;if(_0x3a6600[_0x841b94(0xe4a)](String(_0x46484c)))return'';return _0x841b94(0xb13)+_0x3d2f53+_0x841b94(0x26c)+_0x46484c+_0x841b94(0x8f0)+_0x3d2f53+_0x841b94(0x209);})[_0x4c4a48(0x625)]('');else{if(_0x5d35e6===_0x4c4a48(0x738)||_0x5d35e6===_0x4c4a48(0xa13))_0x3f662b=!![],_0x268cbd=_0x4c4a48(0xcad);else switch(_0x5d35e6){case'true_false':const _0x2da016=_0x3a6600[_0x4c4a48(0xe4a)]('0')?'':_0x4c4a48(0x851),_0x2c85dc=_0x3a6600[_0x4c4a48(0xe4a)]('1')?'':_0x4c4a48(0x2cd);_0x268cbd=_0x2da016+_0x2c85dc;break;case _0x4c4a48(0xd41):_0x3f662b=!![],_0x268cbd=_0x4c4a48(0x55a)+(_0x3e0c5d['allResponses']||[])['map'](_0x2b3102=>_0x4c4a48(0x813)+_0x2b3102+'\x22>'+_0x2b3102+_0x4c4a48(0xa37))[_0x4c4a48(0x625)]('')+_0x4c4a48(0x71f);break;case'multiple_choice':default:_0x268cbd=(_0x3e0c5d[_0x4c4a48(0xa3c)]||[])['map']((_0x42e748,_0xbee891)=>{const _0xe21b8b=_0x4c4a48;if(_0x3a6600[_0xe21b8b(0xe4a)](String(_0xbee891)))return'';return _0xe21b8b(0xb13)+_0xbee891+_0xe21b8b(0x26c)+_0xbee891+_0xe21b8b(0x782)+_0x42e748+_0xe21b8b(0x209);})[_0x4c4a48(0x625)]('');break;}}let _0x334f19='';_0x16759c[_0x4c4a48(0x120)]===_0x4c4a48(0x768)&&(_0x334f19=_0x4c4a48(0x861)+_0x16759c[_0x4c4a48(0xd0b)]+_0x4c4a48(0x92b));let _0x391490='';const _0x2f46d6=_0x16759c[_0x4c4a48(0xa4a)]||'classic',_0x2bbec0=['reveal_at_end',_0x4c4a48(0xe74),_0x4c4a48(0xc02)][_0x4c4a48(0xe4a)](_0x2f46d6);if(_0x16759c['isBlackMarketEnabled']===!![]){if(_0x2bbec0)!_0x3556e5&&(_0x391490='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0x50688b=_0x1946ea[_0x4c4a48(0x670)]||0x0,_0x48f571=_0x1946ea[_0x4c4a48(0x5a7)]||{},_0x47d6b6=[_0x48f571[_0x4c4a48(0xe54)]>0x0?_0x4c4a48(0xbb6)+_0x48f571[_0x4c4a48(0xe54)]+')</button>':'',_0x48f571[_0x4c4a48(0xb30)]>0x0?_0x4c4a48(0x521)+_0x48f571[_0x4c4a48(0xb30)]+_0x4c4a48(0x484):'',_0x48f571['cutOne']>0x0?_0x4c4a48(0xa94)+_0x48f571[_0x4c4a48(0x696)]+_0x4c4a48(0x484):'',_0x48f571['insurance']>0x0?_0x4c4a48(0xd0d)+_0x48f571['insurance']+_0x4c4a48(0x484):'',_0x48f571[_0x4c4a48(0xaec)]>0x0?_0x4c4a48(0xd1d)+_0x48f571[_0x4c4a48(0xaec)]+_0x4c4a48(0x484):'',_0x48f571['secondChance']>0x0?_0x4c4a48(0x6c8)+_0x48f571[_0x4c4a48(0xc81)]+_0x4c4a48(0x484):''][_0x4c4a48(0x6e1)](Boolean)[_0x4c4a48(0x625)]('\x20'),_0xc0ca44='freeMarketEntryUsed_q'+_0x21854a+'_p'+_0x453115,_0xa5b6a2=sessionStorage[_0x4c4a48(0xadf)](_0xc0ca44)==='true',_0x5a8e95=_0x50688b>0x0&&(!_0xa5b6a2||_0x50688b>=0x1),_0x3febb3=_0x50688b===0x0?_0x4c4a48(0x930):_0xa5b6a2?'ตลาดมืด\x20(-1\x20P)':_0x4c4a48(0xa7e)+_0x50688b+_0x4c4a48(0xcec),_0x1e72f0=_0x5a8e95?_0x4c4a48(0x73d):_0x4c4a48(0xb6f),_0x4532e8=_0x5a8e95?'':_0x4c4a48(0xbb3);let _0x6adeb7='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x1e72f0+_0x4c4a48(0x88e)+_0x4532e8+_0x4c4a48(0x9e6)+_0x3febb3+_0x4c4a48(0x209);if(!_0x3556e5){const _0x4aefd5=_0x50688b>0x0,_0x32524f=_0x4aefd5?_0x4c4a48(0x5f7):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x4ec83e=_0x4aefd5?_0x4c4a48(0x7a0):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x293f96=_0x4aefd5?'':'disabled';_0x6adeb7+=_0x4c4a48(0xa5f)+_0x32524f+_0x4c4a48(0x78f)+_0x293f96+_0x4c4a48(0xdec)+_0x4ec83e+'\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20'+_0x293f96+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x391490=_0x4c4a48(0x3fc)+_0x6adeb7+_0x4c4a48(0x118)+(_0x47d6b6||'')+_0x4c4a48(0x847);}}let _0x409cf3='';_0x1946ea['isJinxed']&&(_0x409cf3+=_0x4c4a48(0x59d));_0x1946ea['isForcedConfident']&&(_0x409cf3+=_0x4c4a48(0x3ad));(_0x1946ea[_0x4c4a48(0x69e)]||0x0)>0x0&&(_0x409cf3+=_0x4c4a48(0x321));if(_0x3556e5){if(_0x3556e5===_0x4c4a48(0x9b7)){const _0x15a598=_0x2bbec0?'🚀\x20คุณเดิมพันหมดหน้าตัก!':'💰\x20โหมดเดิมพันทำงานอยู่!';_0x409cf3+=_0x4c4a48(0x63b)+_0x15a598+_0x4c4a48(0x517);}else{if(_0x3556e5===_0x4c4a48(0x696))_0x409cf3+=_0x4c4a48(0xc53);else{if(_0x3556e5===_0x4c4a48(0xaec))_0x409cf3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x3556e5==='secondChance')_0x409cf3+=_0x4c4a48(0xbeb);else{if(_0x3556e5===_0x4c4a48(0xb30))_0x409cf3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x3556e5===_0x4c4a48(0x860)?_0x409cf3+=_0x4c4a48(0xa47):_0x409cf3+=_0x4c4a48(0xbe4)+_0x3556e5+_0x4c4a48(0xc48);}}}}}let _0x527966='';if(!_0x2bbec0){const _0x111649=_0x1946ea[_0x4c4a48(0xdc2)]||0x0;if(_0x111649>=0x3)_0x527966=_0x4c4a48(0x75d)+_0x111649+'\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x111649>0x0&&(_0x527966=_0x4c4a48(0x5dc)+_0x111649+_0x4c4a48(0xae0));}liveGameView[_0x4c4a48(0x40b)]=_0x4c4a48(0x8bd)+(_0x21854a+0x1)+_0x4c4a48(0x6e0)+_0x4dafe0+_0x4c4a48(0x833)+_0x453115+_0x4c4a48(0x12c)+_0x527966+'\x20'+_0x334f19+'\x20'+_0x391490+_0x4c4a48(0x6c6)+_0x409cf3+_0x4c4a48(0x947)+(_0x3e0c5d['questionText']||_0x3e0c5d[_0x4c4a48(0xb4a)])+_0x4c4a48(0x117)+_0x268cbd+_0x4c4a48(0x65c);if(window['MathJax'])MathJax['typesetPromise']();function _0x177d1e(_0x400b1f,_0x1d6261,_0x1c30ed,_0x311765){const _0x1b6eb3=_0x4c4a48,_0x424529=_0x1c30ed[_0x1b6eb3(0x1af)]===!![],_0x1298d6=_0x1c30ed[_0x1b6eb3(0xe7c)],_0x4ba421='powerupUsed_q'+_0x1298d6+'_p'+_0x311765,_0x5885f5=sessionStorage[_0x1b6eb3(0xadf)](_0x4ba421),_0x373597=_0x5885f5===_0x1b6eb3(0x9b7),_0x141359=_0x1c30ed[_0x1b6eb3(0xda5)][_0x311765];if(_0x373597){const _0x3d487a=sessionStorage[_0x1b6eb3(0xadf)]('instantWager')===_0x1b6eb3(0xe16);if(_0x2bbec0||_0x3d487a){const _0x1ff663=_0x141359[_0x1b6eb3(0x670)]||0x0;sessionStorage['removeItem'](_0x1b6eb3(0xc82)),handleSyncAnswerSubmit(_0x400b1f,_0x1d6261,_0x1c30ed,_0x311765,![],_0x1ff663);}else{const _0x4982cc=document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0xa0c)),_0x520ba7=document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0x14d)),_0xed6df4=document[_0x1b6eb3(0xc4d)]('wager-amount-display'),_0x54cc5a=document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0x98b)),_0x48938c=_0x141359[_0x1b6eb3(0x670)]||0x0;_0x520ba7[_0x1b6eb3(0xcf)]=_0x48938c,_0x520ba7[_0x1b6eb3(0x1ce)]=_0x48938c,_0xed6df4[_0x1b6eb3(0x4c4)]=_0x48938c,_0x54cc5a[_0x1b6eb3(0x4c4)]=_0x48938c,_0x520ba7[_0x1b6eb3(0x72a)]=()=>{const _0x295f1e=_0x1b6eb3;_0xed6df4[_0x295f1e(0x4c4)]=_0x520ba7['value'];};const _0x4ee60e=document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0xce7));_0x4ee60e[_0x1b6eb3(0xa2c)][_0x1b6eb3(0x5fd)]=_0x400b1f,_0x4ee60e['dataset']['question']=JSON[_0x1b6eb3(0x3f3)](_0x1d6261),_0x4ee60e[_0x1b6eb3(0xa2c)][_0x1b6eb3(0xb7b)]=JSON[_0x1b6eb3(0x3f3)](_0x1c30ed),_0x4ee60e[_0x1b6eb3(0xa2c)][_0x1b6eb3(0xbea)]=_0x311765,_0x4982cc[_0x1b6eb3(0x6f1)][_0x1b6eb3(0x7d9)](_0x1b6eb3(0x476));}}else{if(_0x424529){document['getElementById'](_0x1b6eb3(0x535))[_0x1b6eb3(0xa2c)][_0x1b6eb3(0x57a)]=_0x1b6eb3(0xaa1);const _0x4bbe20=document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0x9cf));_0x4bbe20[_0x1b6eb3(0xa2c)][_0x1b6eb3(0x5fd)]=_0x400b1f,_0x4bbe20[_0x1b6eb3(0xa2c)][_0x1b6eb3(0xbc5)]=JSON[_0x1b6eb3(0x3f3)](_0x1d6261),_0x4bbe20[_0x1b6eb3(0xa2c)][_0x1b6eb3(0xb7b)]=JSON[_0x1b6eb3(0x3f3)](_0x1c30ed),_0x4bbe20['dataset'][_0x1b6eb3(0xbea)]=_0x311765,document[_0x1b6eb3(0xc4d)](_0x1b6eb3(0x535))[_0x1b6eb3(0x6f1)][_0x1b6eb3(0x7d9)]('hidden');}else handleSyncAnswerSubmit(_0x400b1f,_0x1d6261,_0x1c30ed,_0x311765,![],0x0);}}_0x3f662b?document[_0x4c4a48(0xc4d)](_0x4c4a48(0x432))[_0x4c4a48(0x5a2)]('click',()=>{const _0x247a96=_0x4c4a48,_0x44d7e7=document[_0x247a96(0xc4d)](_0x247a96(0x6ee))||document[_0x247a96(0xc4d)](_0x247a96(0x7a1));if(_0x44d7e7[_0x247a96(0x1ce)][_0x247a96(0x2ce)]()===''){showMessage(_0x247a96(0x9c3));return;}_0x177d1e(_0x44d7e7['value'],_0x3e0c5d,_0x16759c,_0x453115);}):document[_0x4c4a48(0x760)](_0x4c4a48(0x35c))[_0x4c4a48(0xd75)](_0x1b9579=>{const _0x39cd3a=_0x4c4a48;_0x1b9579[_0x39cd3a(0x5a2)]('click',()=>{const _0xacd129=_0x39cd3a;_0x177d1e(_0x1b9579[_0xacd129(0xa2c)][_0xacd129(0x1ce)],_0x3e0c5d,_0x16759c,_0x453115);});});if(_0x16759c['isBlackMarketEnabled']===!![]){if(!_0x2bbec0){const _0x384148=document[_0x4c4a48(0xc4d)](_0x4c4a48(0xdd4));_0x384148&&_0x384148['addEventListener'](_0x4c4a48(0x4f4),()=>{const _0x26d405=_0x4c4a48,_0x189411=_0x26d405(0xbf4)+_0x21854a+'_p'+_0x453115,_0x1cb4c8=sessionStorage[_0x26d405(0xadf)](_0x189411)===_0x26d405(0xe16);if(!_0x1cb4c8)openBlackMarket(_0x16759c,_0x1946ea),sessionStorage[_0x26d405(0x2c5)](_0x189411,'true'),renderStudentSyncQuestionView(_0x16759c);else{if(_0x1946ea[_0x26d405(0x670)]<0x1){showMessage(_0x26d405(0xd42));return;}showConfirmation(_0x26d405(0xbd4),()=>{handlePayForMarketEntry(_0x453115,_0x16759c,_0x1946ea);});}}),document['getElementById'](_0x4c4a48(0x67e))?.[_0x4c4a48(0x5a2)]('click',_0x29e5c7=>{const _0x20798a=_0x4c4a48;_0x29e5c7[_0x20798a(0xa35)][_0x20798a(0xbb3)]=!![],handleUsePowerup(_0x453115,'buyTime',_0x3e0c5d,_0x16759c,_0x1946ea);}),document[_0x4c4a48(0xc4d)](_0x4c4a48(0x128))?.['addEventListener'](_0x4c4a48(0x4f4),_0x378a5b=>{const _0x9d8226=_0x4c4a48;_0x378a5b[_0x9d8226(0xa35)]['disabled']=!![],handleUsePowerup(_0x453115,'cutOne',_0x3e0c5d,_0x16759c,_0x1946ea);}),document[_0x4c4a48(0xc4d)](_0x4c4a48(0x88a))?.['addEventListener']('click',_0x2f937f=>{const _0x2c5659=_0x4c4a48;_0x2f937f[_0x2c5659(0xa35)][_0x2c5659(0xbb3)]=!![],handleUsePowerup(_0x453115,_0x2c5659(0x860),_0x3e0c5d,_0x16759c,_0x1946ea);}),document['getElementById'](_0x4c4a48(0x2c4))?.[_0x4c4a48(0x5a2)](_0x4c4a48(0x4f4),_0x1812a4=>{const _0x4609f4=_0x4c4a48;_0x1812a4['target'][_0x4609f4(0xbb3)]=!![],handleUsePowerup(_0x453115,_0x4609f4(0xaec),_0x3e0c5d,_0x16759c,_0x1946ea);}),document[_0x4c4a48(0xc4d)](_0x4c4a48(0x46b))?.[_0x4c4a48(0x5a2)](_0x4c4a48(0x4f4),_0x401312=>{const _0xaf34b1=_0x4c4a48;_0x401312['target'][_0xaf34b1(0xbb3)]=!![],handleUsePowerup(_0x453115,'secondChance',_0x3e0c5d,_0x16759c,_0x1946ea);}),document['getElementById'](_0x4c4a48(0x519))?.[_0x4c4a48(0x5a2)](_0x4c4a48(0x4f4),_0x3cb679=>{const _0x11ec01=_0x4c4a48;_0x3cb679[_0x11ec01(0xa35)]['disabled']=!![],handleUsePowerup(_0x453115,'revealOptions',_0x3e0c5d,_0x16759c,_0x1946ea);}),document['getElementById'](_0x4c4a48(0xaf6))?.[_0x4c4a48(0x5a2)](_0x4c4a48(0x4f4),_0x5cfe89=>{const _0x4c71ae=_0x4c4a48;_0x5cfe89['target'][_0x4c71ae(0xbb3)]=!![],sessionStorage[_0x4c71ae(0x2c5)](_0x4c71ae(0xc82),_0x4c71ae(0x49c)),handleUsePowerup(_0x453115,'wagerMultiplier',_0x3e0c5d,_0x16759c,_0x1946ea);});}document['getElementById'](_0x4c4a48(0x235))?.['addEventListener'](_0x4c4a48(0x4f4),_0x2abdf6=>{const _0x91dedc=_0x4c4a48;_0x2abdf6['target'][_0x91dedc(0xbb3)]=!![],sessionStorage[_0x91dedc(0x2c5)]('instantWager',_0x91dedc(0xe16)),handleUsePowerup(_0x453115,_0x91dedc(0x9b7),_0x3e0c5d,_0x16759c,_0x1946ea);});}}async function handleSyncAnswerSubmit(_0x190672,_0x40679b,_0x410f50,_0x3275e1,_0x1ebcbf,_0x17e827=0x0){const _0x35de41=_0x5be2be;document['querySelectorAll'](_0x35de41(0x7e5))[_0x35de41(0xd75)](_0x1fbb5f=>_0x1fbb5f['disabled']=!![]);const _0x49c19=_0x410f50[_0x35de41(0xe7c)],_0x2a0054='powerupUsed_q'+_0x49c19+'_p'+_0x3275e1,_0x393712=sessionStorage[_0x35de41(0xadf)](_0x2a0054),_0x3c7c34=_0x410f50[_0x35de41(0xda5)][_0x3275e1]||{},_0x3937e6=_0x3c7c34[_0x35de41(0x14e)]===!![],_0x2d1203=sessionStorage[_0x35de41(0xadf)](_0x35de41(0xd22))===_0x35de41(0xe16);let _0x49fb6b=_0x3c7c34[_0x35de41(0xdc2)]||0x0;_0x393712&&_0x393712!=='wagerMultiplier'&&(_0x49fb6b=0x0);const _0x46d3a7=_0x49fb6b>=0x3,_0x49d258=_0x40679b['questionType']||_0x410f50['shuffledQuiz'][_0x35de41(0xd93)];let _0x15a663=![],_0x11d6ff=_0x190672;switch(_0x49d258){case _0x35de41(0xd99):const _0x42dce8=parseInt(_0x190672),_0x5a7684=_0x40679b[_0x35de41(0x66a)]===!![]||String(_0x40679b[_0x35de41(0x66a)])[_0x35de41(0x6f7)]()===_0x35de41(0xe16);_0x15a663=_0x42dce8===0x0&&_0x5a7684||_0x42dce8===0x1&&!_0x5a7684,_0x11d6ff=_0x42dce8===0x0?'ใช่\x20/\x20ถูก':_0x35de41(0xbe0);break;case _0x35de41(0x738):case _0x35de41(0xa13):_0x15a663=await gradeShortAnswer(_0x190672,_0x40679b);break;case _0x35de41(0xd41):_0x15a663=_0x190672===_0x40679b[_0x35de41(0xa3a)];break;case _0x35de41(0x807):default:const _0x1bf9df=parseInt(_0x190672);_0x15a663=_0x1bf9df===_0x40679b['correctAnswerIndex'];_0x40679b[_0x35de41(0xa3c)]&&_0x40679b[_0x35de41(0xa3c)][_0x1bf9df]&&(_0x11d6ff=_0x40679b[_0x35de41(0xa3c)][_0x1bf9df]);break;}if(!_0x15a663&&_0x393712===_0x35de41(0xc81)&&!_0x2d1203){sessionStorage[_0x35de41(0x996)](_0x2a0054),sessionStorage[_0x35de41(0x2c5)](_0x35de41(0xd22),_0x35de41(0xe16)),showMessage(_0x35de41(0xe49)),document[_0x35de41(0x760)](_0x35de41(0x7e5))[_0x35de41(0xd75)](_0x59dc15=>{const _0x57a6c2=_0x35de41;if(!_0x59dc15[_0x57a6c2(0x6f1)][_0x57a6c2(0x913)](_0x57a6c2(0x476)))_0x59dc15['disabled']=![];});return;}let _0x10a8c8=0x0;const _0x212b60=_0x393712===_0x35de41(0x9b7),_0x52f931=_0x393712===_0x35de41(0x860),_0x4936aa=sessionStorage['getItem'](_0x35de41(0x558))===_0x35de41(0xe16),_0xbfb2e0=_0x3c7c34['isJinxed']===!![];if(_0x212b60){const _0x56fcd1=parseInt(_0x17e827,0xa)||0x0;_0x10a8c8=_0x15a663?_0x56fcd1*0x2:-_0x56fcd1;}else{if(_0x4936aa&&!_0x15a663)_0x10a8c8=_0x1ebcbf===!![]||_0x1ebcbf===_0x35de41(0x355)||_0x3937e6?-0x4:-0x2;else{if(_0x3937e6)_0x10a8c8=_0x15a663?0x2:-0x1;else{if(_0x410f50[_0x35de41(0x1af)]){if(_0x15a663&&(_0x1ebcbf===!![]||_0x1ebcbf===_0x35de41(0x355)))_0x10a8c8=0x2;else{if(_0x15a663)_0x10a8c8=0x1;else{if(!_0x15a663&&(_0x1ebcbf===![]||_0x1ebcbf==='not_confident'||_0x1ebcbf===null))_0x10a8c8=0x0;else{if(!_0x15a663&&(_0x1ebcbf===!![]||_0x1ebcbf===_0x35de41(0x355)))_0x10a8c8=-0x1;}}}}else _0x10a8c8=_0x15a663?0x1:0x0;}}}_0x46d3a7&&_0x10a8c8>0x0&&(_0x10a8c8*=0x2);if(_0xbfb2e0&&!_0x15a663&&_0x10a8c8<0x0)_0x10a8c8*=0x2;if(!_0x15a663&&_0x52f931)_0x10a8c8=0x0;const _0x149c33=(_0x3c7c34[_0x35de41(0x69e)]||0x0)>0x0,_0x170e04=_0x393712&&_0x393712!=='wagerMultiplier';let _0x59d66a=0x0;_0x15a663&&(_0x59d66a=_0x170e04?0x0:_0x49fb6b+0x1);const _0x15fba1={'questionIndex':_0x410f50['currentQuestionIndex'],'questionId':_0x40679b['id'],'answer':_0x190672,'answerText':_0x11d6ff,'isCorrect':_0x15a663,'originalQuestionText':_0x40679b[_0x35de41(0x9b3)]||_0x40679b[_0x35de41(0xb4a)],'wasConfident':_0x3937e6?_0x35de41(0x355):_0x1ebcbf||![],'pointsAwarded':_0x10a8c8,'powerupUsed':_0x393712||null,'wasJinxed':_0xbfb2e0||![],'wasForced':_0x3937e6||![],'usedPoll':_0x4936aa||![],'usedBuyTime':_0x149c33,'streakActive':_0x46d3a7},_0x2d3461=doc(db,_0x35de41(0x6e9)+appId+_0x35de41(0x614)+currentLiveGameId+_0x35de41(0xd07),_0x3275e1),_0x31588b=_0x3c7c34[_0x35de41(0x90b)]||[],_0x26b022=_0x31588b[_0x35de41(0x6e1)](_0x123ab8=>_0x123ab8[_0x35de41(0x2b6)]!==_0x410f50[_0x35de41(0xe7c)]),_0x5af1f6=[..._0x26b022,_0x15fba1],_0xf654e6=_0x5af1f6[_0x35de41(0x6e1)](_0x35e621=>_0x35e621[_0x35de41(0xd32)])[_0x35de41(0x724)],_0x2fa2f3={'answers':_0x5af1f6,'score':_0xf654e6,'totalPoints':increment(_0x10a8c8),'answered':!![],'lastAnswerIndex':_0x49d258===_0x35de41(0x807)||_0x49d258===_0x35de41(0xd99)?parseInt(_0x190672):null,'lastAnswerValue':_0x11d6ff,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x59d66a};if(_0x2d1203)sessionStorage['removeItem'](_0x35de41(0xd22));try{await updateDoc(_0x2d3461,_0x2fa2f3);}catch(_0x1c2dba){console[_0x35de41(0x339)](_0x35de41(0x11a),_0x1c2dba),showMessage(_0x35de41(0xc36)),document[_0x35de41(0x760)](_0x35de41(0x7e5))[_0x35de41(0xd75)](_0x4623ca=>_0x4623ca[_0x35de41(0xbb3)]=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x5be2be(0xd7a),'price':0x1,'desc':_0x5be2be(0xac0)},{'id':_0x5be2be(0x696),'name':_0x5be2be(0x471),'price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0x5be2be(0xaec),'name':_0x5be2be(0x746),'price':0x5,'desc':_0x5be2be(0x375)},{'id':_0x5be2be(0xc81),'name':_0x5be2be(0x8f8),'price':0x7,'desc':_0x5be2be(0x8f4)},{'id':_0x5be2be(0xb30),'name':_0x5be2be(0xdef),'price':0xc,'desc':_0x5be2be(0x17b)}];function openBlackMarket(_0x551019,_0x1dd35a){const _0x4a7d73=_0x5be2be;let _0x5a725e=null;const _0x53efda=document[_0x4a7d73(0xc4d)](_0x4a7d73(0x840)),_0x4c7d81=document[_0x4a7d73(0xc4d)](_0x4a7d73(0xe4d)),_0x5689fb=document[_0x4a7d73(0xc4d)](_0x4a7d73(0x9b8)),_0x4a32cc=document[_0x4a7d73(0xc4d)](_0x4a7d73(0xa70)),_0x17dc15=_0x1dd35a[_0x4a7d73(0x670)]||0x0;_0x5689fb['textContent']=_0x17dc15;const _0x381dc1=_0x551019[_0x4a7d73(0xe7c)],_0x58d7e9=_0x551019[_0x4a7d73(0x1c4)][_0x4a7d73(0xb1f)][_0x381dc1],_0x122b9f=_0x58d7e9[_0x4a7d73(0xc7b)]||_0x551019[_0x4a7d73(0x1c4)][_0x4a7d73(0xd93)],_0x42524f=_0x551019['timerMode']===_0x4a7d73(0x768),_0x5819a9=allMarketItems;_0x4c7d81[_0x4a7d73(0x40b)]=_0x5819a9[_0x4a7d73(0x546)](_0x412d44=>{const _0x77f01a=_0x4a7d73,_0xbaa09b=_0x17dc15>=_0x412d44['price'];if(_0x412d44['id']==='buyTime'){const _0x171003=_0xbaa09b?Math[_0x77f01a(0x211)](_0x17dc15/_0x412d44[_0x77f01a(0x5dd)]):0x0,_0x269d00=_0xbaa09b&&_0x42524f;let _0x34773f='ซื้อ\x20('+_0x412d44['price']+_0x77f01a(0xb56),_0x21e510=_0x269d00?_0x77f01a(0x5b9):_0x77f01a(0x616);return!_0x42524f&&(_0x34773f='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x21e510='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x77f01a(0x7cd)+(!_0x269d00?_0x77f01a(0x73f):_0x77f01a(0xb21))+_0x77f01a(0xcb7)+_0x412d44[_0x77f01a(0x1b0)]+_0x77f01a(0x617)+_0x412d44['desc']+_0x77f01a(0xbbb)+_0x171003+'\x22\x20'+(!_0x269d00?_0x77f01a(0xbb3):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+_0x21e510+_0x77f01a(0xc00)+_0x412d44['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x412d44[_0x77f01a(0x5dd)]+_0x77f01a(0xa46)+(!_0x269d00?_0x77f01a(0xbb3):'')+_0x77f01a(0x6dc)+_0x34773f+_0x77f01a(0x264);}else{let _0x4f7b50=!_0xbaa09b,_0x350b60=_0xbaa09b?_0x77f01a(0x5b9):'bg-gray-400',_0x5abbcc=_0x77f01a(0x2d3)+_0x412d44[_0x77f01a(0x5dd)]+'P)';if(_0x412d44['id']===_0x77f01a(0xb30)){const _0xcc22c5=_0x58d7e9[_0x77f01a(0xa3c)]&&_0x58d7e9[_0x77f01a(0xa3c)][_0x77f01a(0x724)]>0x0,_0x22710c=_0x122b9f==='short_answer'||_0x122b9f===_0x77f01a(0xa13);(!_0xcc22c5||!_0x22710c)&&(_0x4f7b50=!![],_0x350b60=_0x77f01a(0x67f),_0x5abbcc=_0x77f01a(0xc4e));}if(_0x412d44['id']==='cutOne'||_0x412d44['id']==='fiftyFifty'){const _0x2866e0=_0x122b9f===_0x77f01a(0x738)||_0x122b9f===_0x77f01a(0xa13),_0x5a5707=_0x58d7e9['options']&&_0x58d7e9[_0x77f01a(0xa3c)][_0x77f01a(0x724)]>0x0;(_0x2866e0||!_0x5a5707)&&(_0x4f7b50=!![],_0x350b60=_0x77f01a(0x67f),_0x5abbcc=_0x77f01a(0xda0));}return _0x77f01a(0x7cd)+(_0x4f7b50?'bg-gray-100\x20opacity-70':_0x77f01a(0xb21))+_0x77f01a(0xcb7)+_0x412d44['name']+_0x77f01a(0x617)+_0x412d44[_0x77f01a(0x21b)]+_0x77f01a(0x31e)+_0x350b60+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x412d44['id']+_0x77f01a(0x25b)+_0x412d44[_0x77f01a(0x5dd)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4f7b50?'disabled':'')+_0x77f01a(0x174)+_0x5abbcc+_0x77f01a(0x4c3);}})[_0x4a7d73(0x625)](''),_0x53efda[_0x4a7d73(0x6f1)][_0x4a7d73(0x7d9)](_0x4a7d73(0x476)),_0x4a32cc[_0x4a7d73(0x201)][_0x4a7d73(0x565)]=_0x4a7d73(0x611),_0x4a32cc[_0x4a7d73(0x201)][_0x4a7d73(0x6a7)]=_0x4a7d73(0xbf3),setTimeout(()=>{const _0x5c1d52=_0x4a7d73;_0x4a32cc['style'][_0x5c1d52(0x565)]=_0x5c1d52(0xdb2),_0x4a32cc[_0x5c1d52(0x201)][_0x5c1d52(0x6a7)]='0%';},0x32),_0x5a725e=setTimeout(()=>{const _0x3953db=_0x4a7d73;_0x53efda[_0x3953db(0x6f1)][_0x3953db(0x648)]('hidden');},0xea60),document[_0x4a7d73(0xc4d)]('close-market-btn')['onclick']=()=>{const _0x47e166=_0x4a7d73;clearTimeout(_0x5a725e),_0x53efda[_0x47e166(0x6f1)][_0x47e166(0x648)](_0x47e166(0x476));},_0x4c7d81[_0x4a7d73(0x760)](_0x4a7d73(0x10d))[_0x4a7d73(0xd75)](_0x1e90e4=>{const _0x28232f=_0x4a7d73;_0x1e90e4[_0x28232f(0x8f5)]=_0x524458=>{const _0x552f06=_0x28232f,_0x8c3695=_0x524458[_0x552f06(0xa35)][_0x552f06(0xa2c)][_0x552f06(0x2b4)],_0x5222d0=parseInt(_0x524458[_0x552f06(0xa35)]['dataset'][_0x552f06(0x5dd)],0xa);clearTimeout(_0x5a725e),_0x53efda[_0x552f06(0x6f1)][_0x552f06(0x648)](_0x552f06(0x476)),handleBuyItem(_0x1dd35a[_0x552f06(0x1b0)],_0x8c3695,_0x5222d0,0x1);};}),_0x4c7d81[_0x4a7d73(0x760)](_0x4a7d73(0xe1d))[_0x4a7d73(0xd75)](_0x4d3396=>{const _0x3fa9a5=_0x4a7d73;_0x4d3396[_0x3fa9a5(0x8f5)]=_0xb9fa2a=>{const _0x584e0f=_0x3fa9a5,_0x59a930=_0xb9fa2a[_0x584e0f(0xa35)][_0x584e0f(0xa2c)][_0x584e0f(0x2b4)],_0x3f1be5=parseInt(_0xb9fa2a[_0x584e0f(0xa35)]['dataset'][_0x584e0f(0x5dd)],0xa),_0x346ef7=document[_0x584e0f(0xc4d)](_0x584e0f(0xb68)),_0x1b9e98=parseInt(_0x346ef7[_0x584e0f(0x1ce)],0xa),_0x4fdad8=parseInt(_0x346ef7['max'],0xa);if(!_0x1b9e98||_0x1b9e98<0x1){showMessage(_0x584e0f(0x71b));return;}if(_0x1b9e98>_0x4fdad8){showMessage(_0x584e0f(0x11f)+_0x4fdad8+_0x584e0f(0x17d));return;}clearTimeout(_0x5a725e),_0x53efda[_0x584e0f(0x6f1)][_0x584e0f(0x648)](_0x584e0f(0x476)),handleBuyItem(_0x1dd35a[_0x584e0f(0x1b0)],_0x59a930,_0x3f1be5,_0x1b9e98);};});}async function handleBuyItem(_0x5e5f6f,_0x328c18,_0xe4f4b2,_0x95187=0x1){const _0x2d9bf5=_0x5be2be,_0x5e9c21=doc(db,_0x2d9bf5(0x6e9)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x2d9bf5(0xd07),_0x5e5f6f);try{await runTransaction(db,async _0x142094=>{const _0xde1794=_0x2d9bf5,_0x1e6fd4=await _0x142094['get'](_0x5e9c21);if(!_0x1e6fd4[_0xde1794(0x509)]())throw _0xde1794(0x953);const _0x11c5f7=_0x1e6fd4[_0xde1794(0x1de)]()[_0xde1794(0x670)]||0x0,_0x57f6d7=_0xe4f4b2*_0x95187;if(_0x11c5f7<_0x57f6d7)throw _0xde1794(0xa2a);const _0x463540={};_0x463540['totalPoints']=increment(-_0x57f6d7),_0x463540[_0xde1794(0x76e)+_0x328c18]=increment(_0x95187),_0x142094[_0xde1794(0x9f3)](_0x5e9c21,_0x463540);}),showMessage(_0x2d9bf5(0xc66)+_0x328c18+_0x2d9bf5(0x8a0)+_0x95187+'\x20สำเร็จ!');}catch(_0x3223ae){console[_0x2d9bf5(0x339)](_0x2d9bf5(0xce4),_0x3223ae),showMessage(typeof _0x3223ae===_0x2d9bf5(0xa4b)?_0x3223ae:_0x2d9bf5(0x997));}}async function handlePayForMarketEntry(_0x350d1b,_0x449a6e,_0x3edd5d){const _0x19f345=_0x5be2be,_0x349069=doc(db,_0x19f345(0x6e9)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x19f345(0xd07),_0x350d1b);try{await runTransaction(db,async _0x14a5d6=>{const _0x463580=_0x19f345,_0x5dbad=await _0x14a5d6[_0x463580(0x5b0)](_0x349069);if(!_0x5dbad[_0x463580(0x509)]())throw _0x463580(0x953);const _0x2dce23=_0x5dbad['data']()[_0x463580(0x670)]||0x0;if(_0x2dce23<0x1)throw _0x463580(0xb5c);const _0x1c9d9d={};_0x1c9d9d[_0x463580(0x670)]=increment(-0x1),_0x14a5d6[_0x463580(0x9f3)](_0x349069,_0x1c9d9d);});const _0x13f063={..._0x3edd5d,'totalPoints':(_0x3edd5d[_0x19f345(0x670)]||0x0)-0x1};openBlackMarket(_0x449a6e,_0x13f063);}catch(_0x1f2d8d){console['error'](_0x19f345(0x75f),_0x1f2d8d),showMessage(typeof _0x1f2d8d==='string'?_0x1f2d8d:_0x19f345(0x79b));}}const audioCtx=new(window[(_0x5be2be(0xe1b))]||window['webkitAudioContext'])();function playSystemSound(_0x3166ae){const _0x174670=_0x5be2be;if(audioCtx[_0x174670(0x59a)]===_0x174670(0x5ef))audioCtx[_0x174670(0x8fb)]();const _0xc8a6ad=audioCtx[_0x174670(0xd55)](),_0x4a3c38=audioCtx[_0x174670(0x64c)]();_0xc8a6ad[_0x174670(0x65b)](_0x4a3c38),_0x4a3c38['connect'](audioCtx[_0x174670(0xd81)]);const _0x1c764a=audioCtx[_0x174670(0x8d7)];if(_0x3166ae===_0x174670(0x1c3))_0xc8a6ad['type']=_0x174670(0x91b),_0xc8a6ad[_0x174670(0x1dc)]['setValueAtTime'](0x258,_0x1c764a),_0xc8a6ad[_0x174670(0x1dc)][_0x174670(0xc23)](0x4b0,_0x1c764a+0.1),_0x4a3c38[_0x174670(0x202)][_0x174670(0x48b)](0.1,_0x1c764a),_0x4a3c38['gain'][_0x174670(0xc23)](0.01,_0x1c764a+0.5),_0xc8a6ad[_0x174670(0x992)](_0x1c764a),_0xc8a6ad[_0x174670(0x713)](_0x1c764a+0.5);else{if(_0x3166ae===_0x174670(0x51c))_0xc8a6ad[_0x174670(0xd50)]=_0x174670(0x87f),_0xc8a6ad['frequency'][_0x174670(0x48b)](0x96,_0x1c764a),_0xc8a6ad[_0x174670(0x1dc)]['exponentialRampToValueAtTime'](0x64,_0x1c764a+0.2),_0x4a3c38[_0x174670(0x202)][_0x174670(0x48b)](0.1,_0x1c764a),_0x4a3c38['gain']['exponentialRampToValueAtTime'](0.01,_0x1c764a+0.3),_0xc8a6ad['start'](_0x1c764a),_0xc8a6ad[_0x174670(0x713)](_0x1c764a+0.3);else _0x3166ae==='powerup'&&(_0xc8a6ad[_0x174670(0xd50)]=_0x174670(0xdc5),_0xc8a6ad[_0x174670(0x1dc)]['setValueAtTime'](0x12c,_0x1c764a),_0xc8a6ad[_0x174670(0x1dc)]['linearRampToValueAtTime'](0x258,_0x1c764a+0.1),_0x4a3c38[_0x174670(0x202)][_0x174670(0x48b)](0.1,_0x1c764a),_0x4a3c38[_0x174670(0x202)]['linearRampToValueAtTime'](0.01,_0x1c764a+0.3),_0xc8a6ad['start'](_0x1c764a),_0xc8a6ad[_0x174670(0x713)](_0x1c764a+0.3));}}initialize();
