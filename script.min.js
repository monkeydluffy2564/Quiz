const _0xe5be95=_0xc5bf;(function(_0x2a0b15,_0x4c2a26){const _0xf28a6b=_0xc5bf,_0x3ab824=_0x2a0b15();while(!![]){try{const _0x3182c3=-parseInt(_0xf28a6b(0xa67))/0x1*(parseInt(_0xf28a6b(0xa61))/0x2)+-parseInt(_0xf28a6b(0x98c))/0x3*(parseInt(_0xf28a6b(0x552))/0x4)+parseInt(_0xf28a6b(0x701))/0x5*(parseInt(_0xf28a6b(0x61c))/0x6)+parseInt(_0xf28a6b(0x312))/0x7*(parseInt(_0xf28a6b(0x662))/0x8)+parseInt(_0xf28a6b(0x488))/0x9+parseInt(_0xf28a6b(0x2e0))/0xa+-parseInt(_0xf28a6b(0x327))/0xb;if(_0x3182c3===_0x4c2a26)break;else _0x3ab824['push'](_0x3ab824['shift']());}catch(_0x17d036){_0x3ab824['push'](_0x3ab824['shift']());}}}(_0x36e1,0x85c74));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0xc77344=_0xc5bf;if(_0xc77344(0x996)in navigator)try{wakeLock=await navigator[_0xc77344(0x996)][_0xc77344(0x3fc)](_0xc77344(0x6fb)),console[_0xc77344(0xaf9)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0xc77344(0x8c2)](_0xc77344(0x6f6),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x5f2277){console['error'](_0xc77344(0xa34)+_0x5f2277['name']+',\x20'+_0x5f2277[_0xc77344(0x88c)]);}else console[_0xc77344(0x5e2)](_0xc77344(0xaee));},releaseWakeLock=async()=>{const _0x5ad010=_0xc5bf;wakeLock!==null&&(await wakeLock[_0x5ad010(0x6f6)](),wakeLock=null,console[_0x5ad010(0xaf9)](_0x5ad010(0xaa8)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5370d0=_0xc5bf;if(dimTimer)clearTimeout(dimTimer);document[_0x5370d0(0x939)][_0x5370d0(0x683)][_0x5370d0(0x21f)](_0x5370d0(0x567)),dimTimer=setTimeout(()=>{const _0x49ef86=_0x5370d0;document[_0x49ef86(0x939)]['classList'][_0x49ef86(0x816)]('dimmed'),console['log'](_0x49ef86(0x9aa));},inactivityTime);}function stopDimTimer(){const _0xfbccb2=_0xc5bf;if(dimTimer)clearTimeout(dimTimer);document[_0xfbccb2(0x939)][_0xfbccb2(0x683)][_0xfbccb2(0x21f)](_0xfbccb2(0x567)),window[_0xfbccb2(0x302)](_0xfbccb2(0xa4e),resetDimTimer),window['removeEventListener'](_0xfbccb2(0x313),resetDimTimer),window[_0xfbccb2(0x302)](_0xfbccb2(0x3ce),resetDimTimer),window['removeEventListener'](_0xfbccb2(0x672),resetDimTimer),console[_0xfbccb2(0xaf9)](_0xfbccb2(0x6be));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x4c51cb,_0x5988b3=![]){const _0x41405d=_0xc5bf,_0x351d3e=allQuizzes[_0x41405d(0x3fd)](_0x425ebc=>_0x425ebc['id']===_0x4c51cb)||allQuizzesGlobal[_0x41405d(0x3fd)](_0x2947d1=>_0x2947d1['id']===_0x4c51cb);if(!_0x351d3e){showMessage(_0x41405d(0x653));return;}currentQuizData=getShuffledQuiz(_0x351d3e);const _0x453c16=Math[_0x41405d(0x28c)](0x3e8+Math[_0x41405d(0x53f)]()*0x2328)[_0x41405d(0x59e)]();try{const _0x575349=await addDoc(collection(db,_0x41405d(0x62e)+appId+_0x41405d(0x6ef)),{'quizId':_0x351d3e['id'],'projectId':_0x351d3e['projectId'],'status':_0x41405d(0x9e1),'pin':_0x453c16,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5988b3});currentTeamQuizId=_0x575349['id'],showView(_0x41405d(0x750)),renderAdminTeamQuizDashboard(_0x453c16,_0x351d3e['topic']),listenForTeamQuizUpdates();}catch(_0x47f5d5){console['error'](_0x41405d(0x53c),_0x47f5d5),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3a3052,_0x4039ae,_0x182792='team'){const _0x21e171=_0xc5bf,_0x46a93e=_0x182792===_0x21e171(0x8b8)?'Group\x20Mode':_0x21e171(0x6bb);liveGameView[_0x21e171(0x994)]=_0x21e171(0x503)+_0x46a93e+':\x20'+_0x4039ae+_0x21e171(0x60a)+_0x3a3052+_0x21e171(0xa01),document[_0x21e171(0x7e4)](_0x21e171(0x66c))[_0x21e171(0x8c2)](_0x21e171(0x75b),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x137718=_0xc5bf;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x137718(0x62e)+appId+_0x137718(0x6ef),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x3a4800=_0xc5bf;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5e1c18=doc(db,'artifacts/'+appId+_0x3a4800(0x6ef),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5e1c18,_0xd18e8=>{const _0x2a3121=_0x3a4800;if(!_0xd18e8['exists']()){sessionStorage[_0x2a3121(0xa06)](_0x2a3121(0x91d));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage(_0x2a3121(0x407));showView(currentMode==='admin'?'project-detail':_0x2a3121(0x923));return;}const _0x45bbfe=_0xd18e8[_0x2a3121(0x291)]();if(currentMode===_0x2a3121(0x46b)){if(_0x45bbfe['mode']===_0x2a3121(0x8b8)&&_0x45bbfe[_0x2a3121(0x216)]!==_0x2a3121(0x3d2)&&_0x45bbfe[_0x2a3121(0x216)]!=='finished'){const _0x2f94c8=Object[_0x2a3121(0x605)](_0x45bbfe[_0x2a3121(0x231)]||{});if(_0x2f94c8[_0x2a3121(0x630)]>0x0){const _0x774efb=_0x2f94c8[_0x2a3121(0x6ba)](_0x5896a6=>_0x5896a6[_0x2a3121(0x6cc)]===!![]);_0x774efb&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x45bbfe);}else{if(_0x45bbfe[_0x2a3121(0x216)]===_0x2a3121(0x3d2)||_0x45bbfe[_0x2a3121(0x216)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x45bbfe[_0x2a3121(0x9f2)]==='group'){const _0x3a9fe0=_0x45bbfe['groups'][userId];(!_0x3a9fe0||!_0x3a9fe0[_0x2a3121(0x6cc)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1af963){const _0x4a2c1c=_0xc5bf;console[_0x4a2c1c(0xaf9)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x249ac3=doc(db,_0x4a2c1c(0x62e)+appId+_0x4a2c1c(0x6ef),_0x1af963);try{const _0x24fb77=await getDoc(_0x249ac3);if(_0x24fb77[_0x4a2c1c(0xafe)]()){const _0x38dbe5=_0x24fb77[_0x4a2c1c(0x291)]();_0x38dbe5['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x38dbe5);}await updateDoc(_0x249ac3,{'status':'podium'});}catch(_0x3990ea){console[_0x4a2c1c(0x72a)](_0x4a2c1c(0x4e3),_0x3990ea);}}function updateAdminTeamDashboard(_0xeebeda){const _0xfc4db7=_0xc5bf,_0x2f9ce4=document[_0xfc4db7(0x7e4)](_0xfc4db7(0x752));if(!_0x2f9ce4)return;const _0x1f6c6b=_0xeebeda[_0xfc4db7(0x9f2)]||_0xfc4db7(0x242);if(_0x1f6c6b===_0xfc4db7(0x8b8)){const _0x1b8809=Object[_0xfc4db7(0x605)](_0xeebeda[_0xfc4db7(0x231)]||{});if(_0x1b8809['length']===0x0){_0x2f9ce4['innerHTML']=_0xfc4db7(0x3a0);return;}const _0x231212=[..._0x1b8809][_0xfc4db7(0x6a1)]((_0x24d9ae,_0x4551d9)=>_0x4551d9[_0xfc4db7(0x32e)]-_0x24d9ae[_0xfc4db7(0x32e)]),_0x24615b=_0x231212[_0xfc4db7(0x374)]((_0x5a5b95,_0x41ff22)=>_0xfc4db7(0x59a)+(_0x41ff22+0x1)+_0xfc4db7(0x1ed)+_0x5a5b95[_0xfc4db7(0x686)][_0xfc4db7(0x7c3)](',\x20')+_0xfc4db7(0x2a1)+_0x5a5b95[_0xfc4db7(0x32e)]+_0xfc4db7(0x55a))['join']('');let _0x550d2b='';currentQuizData&&currentQuizData['questions']&&(_0x550d2b=currentQuizData[_0xfc4db7(0x7dc)][_0xfc4db7(0x374)]((_0x28a11d,_0x402b65)=>{const _0x5a1d20=_0xfc4db7;let _0x31ad78=0x0;return _0x1b8809[_0x5a1d20(0xa64)](_0x4b01f8=>{const _0x1302c1=_0x5a1d20,_0x50a5bd=_0x4b01f8[_0x1302c1(0x1fe)]||[],_0x16787d=_0x50a5bd[_0x1302c1(0x3fd)](_0x6372b1=>_0x6372b1[_0x1302c1(0x4b3)]===_0x402b65);_0x16787d&&_0x16787d['isCorrect']&&_0x31ad78++;}),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x402b65+0x1)+_0x5a1d20(0x3b5)+_0x31ad78+_0x5a1d20(0x70f)+_0x1b8809[_0x5a1d20(0x630)]+_0x5a1d20(0x7d1);})[_0xfc4db7(0x7c3)]('')),_0x2f9ce4[_0xfc4db7(0x994)]=_0xfc4db7(0x9d1)+_0x24615b+_0xfc4db7(0x548)+_0x550d2b+_0xfc4db7(0x353);}else{const _0x281e18=_0xeebeda[_0xfc4db7(0x604)]||{},_0xc5ef1b=Object['keys'](_0x281e18);if(_0xc5ef1b[_0xfc4db7(0x630)]===0x0){_0x2f9ce4[_0xfc4db7(0x994)]=_0xfc4db7(0x716);return;}const _0x17ac0f=_0xc5ef1b[_0xfc4db7(0x374)](_0xa5d28=>({'name':_0xa5d28,'score':_0x281e18[_0xa5d28]['score']||0x0}))[_0xfc4db7(0x6a1)]((_0x3387d6,_0x384b10)=>_0x384b10[_0xfc4db7(0x32e)]-_0x3387d6[_0xfc4db7(0x32e)]);let _0x519250='';currentQuizData&&currentQuizData['questions']&&(_0x519250=currentQuizData[_0xfc4db7(0x7dc)][_0xfc4db7(0x374)]((_0x96fd1b,_0x5c5642)=>{const _0x43d60a=_0xfc4db7;let _0x161986=0x0;return _0xc5ef1b[_0x43d60a(0xa64)](_0x4c940f=>{const _0x5bd137=_0x43d60a,_0x1f2aa0=_0x281e18[_0x4c940f]['answers']||[],_0xbe7dee=_0x1f2aa0[_0x5bd137(0x3fd)](_0x3110bc=>_0x3110bc[_0x5bd137(0x4b3)]===_0x5c5642);if(_0xbe7dee&&_0xbe7dee[_0x5bd137(0x2f3)])_0x161986++;}),'<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x5c5642+0x1)+':</p><p\x20class=\x22text-xs\x22>'+_0x161986+_0x43d60a(0x70f)+_0xc5ef1b[_0x43d60a(0x630)]+'\x20คน\x20ตอบถูก</p></div>';})['join']('')),_0x2f9ce4[_0xfc4db7(0x994)]=_0xfc4db7(0x4dc)+_0x17ac0f['map'](_0x1c1646=>_0xfc4db7(0xa8f)+_0x1c1646[_0xfc4db7(0x252)]+_0xfc4db7(0x6a7)+_0x1c1646[_0xfc4db7(0x32e)]+_0xfc4db7(0x675))[_0xfc4db7(0x7c3)]('')+_0xfc4db7(0x548)+_0x519250+_0xfc4db7(0xa85);}}async function handleJoinTeamQuiz(){const _0xdae5d1=_0xc5bf,_0x3cd4ed=prompt(_0xdae5d1(0x8d4));if(!_0x3cd4ed||_0x3cd4ed[_0xdae5d1(0x7ab)]()[_0xdae5d1(0x630)]!==0x4){showMessage(_0xdae5d1(0x236));return;}try{const _0x53e9a7=collection(db,_0xdae5d1(0x62e)+appId+_0xdae5d1(0x6ef)),_0x2766f5=query(_0x53e9a7,where('pin','==',_0x3cd4ed[_0xdae5d1(0x7ab)]()),where(_0xdae5d1(0x216),'==','lobby')),_0x4fc035=await getDocs(_0x2766f5);if(_0x4fc035[_0xdae5d1(0x466)]){showMessage(_0xdae5d1(0x842));return;}const _0x3ce3ae=_0x4fc035[_0xdae5d1(0x966)][0x0];currentTeamQuizId=_0x3ce3ae['id'];const _0x53b1fe=_0x3ce3ae['data'](),_0x5bfb2b=doc(db,_0xdae5d1(0x62e)+appId+_0xdae5d1(0x7d8),_0x53b1fe[_0xdae5d1(0x6fa)]),_0x115cdf=doc(db,_0xdae5d1(0x62e)+appId+_0xdae5d1(0x721),_0x53b1fe[_0xdae5d1(0x560)]),[_0x36bf0c,_0x30e5b9]=await Promise[_0xdae5d1(0x534)]([getDoc(_0x5bfb2b),getDoc(_0x115cdf)]);if(!_0x36bf0c[_0xdae5d1(0xafe)]()||!_0x30e5b9[_0xdae5d1(0xafe)]())throw new Error(_0xdae5d1(0x390));currentQuizData=getShuffledQuiz({'id':_0x30e5b9['id'],..._0x30e5b9[_0xdae5d1(0x291)]()});const _0x23420a=_0x36bf0c[_0xdae5d1(0x291)]();showTeamPlayerSelection(_0x23420a[_0xdae5d1(0x2f0)],currentQuizData[_0xdae5d1(0xab8)]);}catch(_0x24a28b){console[_0xdae5d1(0x72a)]('Error\x20joining\x20team\x20quiz:',_0x24a28b),showMessage(_0xdae5d1(0x586)+_0x24a28b[_0xdae5d1(0x88c)]);}}async function handleJoinGroupActivity(){const _0x441449=_0xc5bf,_0x117ea0=prompt(_0x441449(0x4fa));if(!_0x117ea0||_0x117ea0[_0x441449(0x7ab)]()[_0x441449(0x630)]!==0x4){showMessage(_0x441449(0x88d));return;}const _0x9477bd=_0x117ea0['trim']();showMessage(_0x441449(0x7c7));try{const _0x127ae1=collection(db,_0x441449(0x62e)+appId+_0x441449(0x6ef)),_0x3797d7=query(_0x127ae1,where(_0x441449(0x7db),'==',_0x9477bd),where('status','==',_0x441449(0x9e1))),_0x587a8e=await getDocs(_0x3797d7);if(!_0x587a8e[_0x441449(0x466)]){console['log'](_0x441449(0x554)),await proceedWithTeamQuizJoin(_0x587a8e[_0x441449(0x966)][0x0]);return;}const _0x5967ad=collection(db,_0x441449(0x62e)+appId+'/public/data/syncGames'),_0x5c2e8b=query(_0x5967ad,where(_0x441449(0x7db),'==',_0x9477bd),where(_0x441449(0x216),'==',_0x441449(0x9e1))),_0x5b1ef=await getDocs(_0x5c2e8b);if(!_0x5b1ef[_0x441449(0x466)]){console[_0x441449(0xaf9)](_0x441449(0x43e)),await proceedWithSyncQuizJoin(_0x5b1ef[_0x441449(0x966)][0x0]);return;}showMessage(_0x441449(0x246));}catch(_0xaafb5a){console[_0x441449(0x72a)]('Error\x20joining\x20activity:',_0xaafb5a),showMessage(_0x441449(0x577)+_0xaafb5a[_0x441449(0x88c)]);}}async function proceedWithTeamQuizJoin(_0x5a522b){const _0x54c532=_0xc5bf;currentTeamQuizId=_0x5a522b['id'];const _0x3a06de=_0x5a522b[_0x54c532(0x291)](),_0x160a91=doc(db,_0x54c532(0x62e)+appId+'/public/data/projects',_0x3a06de[_0x54c532(0x6fa)]),_0x4d0f3a=doc(db,_0x54c532(0x62e)+appId+'/public/data/quizzes',_0x3a06de[_0x54c532(0x560)]),[_0xf7b8b7,_0x5a26d5]=await Promise['all']([getDoc(_0x160a91),getDoc(_0x4d0f3a)]);if(!_0xf7b8b7['exists']()||!_0x5a26d5[_0x54c532(0xafe)]())throw new Error(_0x54c532(0x390));currentQuizData=getShuffledQuiz({'id':_0x5a26d5['id'],..._0x5a26d5[_0x54c532(0x291)]()}),showTeamPlayerSelection(_0xf7b8b7[_0x54c532(0x291)]()[_0x54c532(0x2f0)],currentQuizData[_0x54c532(0xab8)],_0x3a06de['mode']||_0x54c532(0x242)),messageModal[_0x54c532(0x683)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x415a3d){const _0x3a19bc=_0xc5bf;currentLiveGameId=_0x415a3d['id'];const _0x3298c7=_0x415a3d[_0x3a19bc(0x291)](),_0xe82f5f=doc(db,_0x3a19bc(0x62e)+appId+_0x3a19bc(0x721),_0x3298c7[_0x3a19bc(0x560)]),_0x5b390f=await getDoc(_0xe82f5f);if(!_0x5b390f[_0x3a19bc(0xafe)]())throw new Error(_0x3a19bc(0x653));const _0x4aafaa=_0x5b390f['data'](),_0x2819a9=doc(db,_0x3a19bc(0x62e)+appId+_0x3a19bc(0x7d8),_0x4aafaa[_0x3a19bc(0x6fa)]),_0x5c2ded=await getDoc(_0x2819a9);if(!_0x5c2ded['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x3298c7[_0x3a19bc(0x43f)],showView(_0x3a19bc(0x8e9)),showTeamPlayerSelection(_0x5c2ded[_0x3a19bc(0x291)]()[_0x3a19bc(0x2f0)],_0x4aafaa['topic'],_0x3a19bc(0x603)),document[_0x3a19bc(0x7e4)](_0x3a19bc(0x699))[_0x3a19bc(0x844)]=confirmAndJoinSyncGame,messageModal['classList'][_0x3a19bc(0x816)](_0x3a19bc(0x80f));}function showTeamPlayerSelection(_0x451283,_0x3ae755,_0x5c98f2=_0xe5be95(0x242)){const _0x277a5b=_0xe5be95;studentInitialView[_0x277a5b(0x683)][_0x277a5b(0x816)](_0x277a5b(0x80f)),studentJoinGameView[_0x277a5b(0x683)]['add'](_0x277a5b(0x80f)),document['getElementById'](_0x277a5b(0x369))['classList']['remove']('hidden');let _0xf4996=_0x277a5b(0x6bb);if(_0x5c98f2===_0x277a5b(0x8b8))_0xf4996=_0x277a5b(0x405);else _0x5c98f2==='sync'&&(_0xf4996='Sync\x20Mode');document[_0x277a5b(0x7e4)](_0x277a5b(0x269))['textContent']=_0xf4996+':\x20'+_0x3ae755;const _0x227800=document[_0x277a5b(0x7e4)](_0x277a5b(0x622));if(!_0x451283||_0x451283['length']===0x0){_0x227800[_0x277a5b(0x994)]=_0x277a5b(0x3aa),document[_0x277a5b(0x7e4)](_0x277a5b(0x699))[_0x277a5b(0x7ac)]=!![];return;}_0x227800['innerHTML']=_0x451283[_0x277a5b(0x374)](_0xfd4b8=>_0x277a5b(0x73e)+_0xfd4b8+_0x277a5b(0x860)+_0xfd4b8+_0x277a5b(0x389))[_0x277a5b(0x7c3)](''),document['getElementById']('confirm-team-players-btn')[_0x277a5b(0x7ac)]=![];}async function confirmAndStartTeamQuiz(){const _0x1cd263=_0xe5be95,_0x4fbc65=Array[_0x1cd263(0x3dd)](document[_0x1cd263(0xa16)](_0x1cd263(0xaa3)))[_0x1cd263(0x374)](_0x1a0b61=>_0x1a0b61[_0x1cd263(0x2cd)]);if(_0x4fbc65[_0x1cd263(0x630)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x4fbc65,localPlayerTurnIndex=0x0;const _0x25dbd4=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x45de41=await getDoc(_0x25dbd4);if(!_0x45de41[_0x1cd263(0xafe)]()){showMessage(_0x1cd263(0x7ca));return;}const _0x1bd620=_0x45de41[_0x1cd263(0x291)]();_0x1bd620[_0x1cd263(0x9f2)]===_0x1cd263(0x8b8)&&(localGroupQuestionIndex=0x0);try{if(_0x1bd620[_0x1cd263(0x9f2)]===_0x1cd263(0x8b8)){const _0x907974=userId,_0x5b5bc1={};_0x5b5bc1['groups.'+_0x907974]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x25dbd4,_0x5b5bc1);}else{const _0x1a59dc={};localTeamPlayers[_0x1cd263(0xa64)](_0x53d31b=>{const _0x3a0aa3=_0x1cd263;_0x1a59dc[_0x3a0aa3(0x442)+_0x53d31b]={'score':0x0,'answers':[]};}),await updateDoc(_0x25dbd4,_0x1a59dc);}document[_0x1cd263(0x7e4)](_0x1cd263(0x369))[_0x1cd263(0x683)][_0x1cd263(0x816)](_0x1cd263(0x80f)),renderTeamQuizQuestion();const _0x2f72be={'gameId':currentTeamQuizId,'mode':_0x1bd620[_0x1cd263(0x9f2)]||_0x1cd263(0x242),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage['setItem'](_0x1cd263(0x91d),JSON[_0x1cd263(0x5e9)](_0x2f72be)),listenForTeamQuizUpdates();}catch(_0x1385f4){console[_0x1cd263(0x72a)](_0x1cd263(0x962),_0x1385f4),showMessage(_0x1cd263(0x40f));}}async function renderTeamQuizQuestion(){const _0x1660c4=_0xe5be95,_0x12f74c=doc(db,_0x1660c4(0x62e)+appId+_0x1660c4(0x6ef),currentTeamQuizId),_0x447392=await getDoc(_0x12f74c);if(!_0x447392[_0x1660c4(0xafe)]())return;const _0x2a78e8=_0x447392[_0x1660c4(0x291)](),_0x560636=_0x2a78e8[_0x1660c4(0x9f2)]||_0x1660c4(0x242);let _0x4c11ca,_0x5e944f;_0x560636===_0x1660c4(0x8b8)?(_0x4c11ca=localGroupQuestionIndex,_0x5e944f=_0x1660c4(0x74d)+localTeamPlayers[_0x1660c4(0x7c3)](',\x20')):(_0x4c11ca=Math[_0x1660c4(0x28c)](localPlayerTurnIndex/localTeamPlayers[_0x1660c4(0x630)]),_0x5e944f=_0x1660c4(0x55c)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x1660c4(0x630)]]);if(_0x4c11ca>=currentQuizData[_0x1660c4(0x7dc)][_0x1660c4(0x630)]){displayTeamQuizFinalResults();return;}const _0x1eb592=currentQuizData['questions'][_0x4c11ca],_0x4ad5af=_0x1eb592[_0x1660c4(0x832)]||currentQuizData[_0x1660c4(0x519)];let _0x5a077e=_0x1eb592[_0x1660c4(0xae3)]||_0x1eb592[_0x1660c4(0x821)],_0x4a6d2b='';switch(_0x4ad5af){case _0x1660c4(0x999):case'fill_in_with_choices':_0x4a6d2b=_0x1eb592[_0x1660c4(0x93f)][_0x1660c4(0x374)]((_0x20616a,_0x193394)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x193394+_0x1660c4(0x88f)+_0x193394+_0x1660c4(0x46c)+_0x193394+'\x22>'+_0x20616a+_0x1660c4(0x76a))[_0x1660c4(0x7c3)]('');break;case _0x1660c4(0x82f):_0x4a6d2b='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x1660c4(0x4dd):case _0x1660c4(0xa59):_0x4a6d2b=_0x1660c4(0x403);break;case _0x1660c4(0x4b9):_0x4a6d2b=_0x1660c4(0x735)+_0x1eb592[_0x1660c4(0x784)][_0x1660c4(0x374)](_0x44f8d7=>_0x1660c4(0x776)+_0x44f8d7+'\x22>'+_0x44f8d7+_0x1660c4(0x339))[_0x1660c4(0x7c3)]('')+'</select>';break;default:_0x4a6d2b=_0x1660c4(0x950);break;}studentQuizArea[_0x1660c4(0x994)]=_0x1660c4(0x44d)+(_0x4c11ca+0x1)+_0x1660c4(0x70f)+currentQuizData[_0x1660c4(0x7dc)][_0x1660c4(0x630)]+_0x1660c4(0x33c)+_0x5e944f+_0x1660c4(0x319)+(_0x4c11ca+0x1)+'.\x20'+_0x5a077e+_0x1660c4(0x592)+(_0x1eb592['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1eb592[_0x1660c4(0x82b)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4a6d2b+_0x1660c4(0x200),studentQuizArea[_0x1660c4(0x683)][_0x1660c4(0x21f)](_0x1660c4(0x80f));if(window[_0x1660c4(0x422)])MathJax[_0x1660c4(0x32a)]([studentQuizArea]);const _0x1f8848=document[_0x1660c4(0x7e4)](_0x1660c4(0x81a));_0x560636===_0x1660c4(0x8b8)?_0x1f8848[_0x1660c4(0x8c2)](_0x1660c4(0x75b),handleGroupAnswerSubmit):_0x1f8848[_0x1660c4(0x8c2)](_0x1660c4(0x75b),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x49b36d=_0xe5be95,_0x4263b4=doc(db,_0x49b36d(0x62e)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x559225=localGroupQuestionIndex,_0x17f2a5=currentQuizData[_0x49b36d(0x7dc)][_0x559225],_0x3fcf97=_0x17f2a5[_0x49b36d(0x832)]||currentQuizData[_0x49b36d(0x519)];let _0x17ac1c=null,_0x28b92b=![];if(_0x3fcf97===_0x49b36d(0x4dd)||_0x3fcf97===_0x49b36d(0xa59)){const _0x1f1000=document[_0x49b36d(0x9e6)](_0x49b36d(0x664));if(!_0x1f1000||!_0x1f1000[_0x49b36d(0x2cd)][_0x49b36d(0x7ab)]()){showMessage(_0x49b36d(0x1e6));return;}_0x17ac1c=_0x1f1000[_0x49b36d(0x2cd)]['trim'](),_0x28b92b=await gradeShortAnswer(_0x17ac1c,_0x17f2a5);}else{const _0x597dd8=document[_0x49b36d(0x9e6)](_0x49b36d(0x297));if(!_0x597dd8||_0x597dd8[_0x49b36d(0x2cd)]===''){showMessage(_0x49b36d(0xa7e));return;}_0x17ac1c=_0x597dd8[_0x49b36d(0x2cd)];switch(_0x3fcf97){case'true_false':_0x28b92b=_0x17ac1c===_0x49b36d(0x744)===_0x17f2a5[_0x49b36d(0x5ee)];break;case _0x49b36d(0x4b9):_0x28b92b=_0x17ac1c===_0x17f2a5[_0x49b36d(0x933)];break;default:_0x28b92b=parseInt(_0x17ac1c)===_0x17f2a5[_0x49b36d(0x60e)];break;}}const _0x10699b={'questionIndex':_0x559225,'isCorrect':_0x28b92b},_0x204518=userId,_0x10d35e={};_0x10d35e[_0x49b36d(0x87e)+_0x204518+'.answers']=arrayUnion(_0x10699b);_0x28b92b&&(_0x10d35e[_0x49b36d(0x87e)+_0x204518+'.score']=increment(0x1));try{await updateDoc(_0x4263b4,_0x10d35e),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x267814){console[_0x49b36d(0x72a)](_0x49b36d(0xa42),_0x267814),showMessage(_0x49b36d(0x542));}}async function handleTeamAnswerSubmit(){const _0x474cf0=_0xe5be95,_0xed1dc4=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x474cf0(0x630)]],_0x7e7e6b=Math[_0x474cf0(0x28c)](localPlayerTurnIndex/localTeamPlayers[_0x474cf0(0x630)]),_0x3c079f=currentQuizData[_0x474cf0(0x7dc)][_0x7e7e6b],_0x2108cb=_0x3c079f[_0x474cf0(0x832)]||currentQuizData[_0x474cf0(0x519)];let _0x107e8e=null,_0x2921c5=![];if(_0x2108cb===_0x474cf0(0x4dd)||_0x2108cb===_0x474cf0(0xa59)){const _0x3afd68=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x3afd68||!_0x3afd68[_0x474cf0(0x2cd)][_0x474cf0(0x7ab)]()){showMessage(_0x474cf0(0xa6a));return;}_0x107e8e=_0x3afd68[_0x474cf0(0x2cd)][_0x474cf0(0x7ab)](),_0x2921c5=await gradeShortAnswer(_0x107e8e,_0x3c079f);}else{const _0xa5ff80=document[_0x474cf0(0x9e6)](_0x474cf0(0x297));if(!_0xa5ff80||_0xa5ff80[_0x474cf0(0x2cd)]===''){showMessage(_0x474cf0(0x520));return;}_0x107e8e=_0xa5ff80['value'];switch(_0x2108cb){case _0x474cf0(0x82f):const _0xbd36d1=_0x107e8e===_0x474cf0(0x744);_0x2921c5=_0xbd36d1===_0x3c079f[_0x474cf0(0x5ee)];break;case _0x474cf0(0x4b9):_0x2921c5=_0x107e8e===_0x3c079f[_0x474cf0(0x933)];break;default:const _0x2c8229=parseInt(_0x107e8e);_0x2921c5=_0x2c8229===_0x3c079f['correctAnswerIndex'];break;}}const _0x3108d8={'questionIndex':_0x7e7e6b,'isCorrect':_0x2921c5,'answerValue':_0x107e8e},_0x57c82e=doc(db,_0x474cf0(0x62e)+appId+_0x474cf0(0x6ef),currentTeamQuizId),_0x3a0e24={};_0x3a0e24['responses.'+_0xed1dc4+_0x474cf0(0x453)]=arrayUnion(_0x3108d8);_0x2921c5&&(_0x3a0e24[_0x474cf0(0x442)+_0xed1dc4+_0x474cf0(0x930)]=increment(0x1));try{await updateDoc(_0x57c82e,_0x3a0e24),localPlayerTurnIndex++;const _0x56d706=JSON[_0x474cf0(0x62f)](sessionStorage[_0x474cf0(0xa04)](_0x474cf0(0x91d))||'{}');_0x56d706['turnIndex']=localPlayerTurnIndex,sessionStorage[_0x474cf0(0x804)]('activeGameSession',JSON[_0x474cf0(0x5e9)](_0x56d706)),renderTeamQuizQuestion();}catch(_0x5cdd97){console[_0x474cf0(0x72a)]('Error\x20submitting\x20team\x20answer:',_0x5cdd97),showMessage(_0x474cf0(0x542));}}async function displayTeamQuizFinalResults(){const _0x4f2a27=_0xe5be95;studentQuizArea[_0x4f2a27(0x683)][_0x4f2a27(0x816)](_0x4f2a27(0x80f)),studentResultArea['classList'][_0x4f2a27(0x21f)]('hidden');const _0x5ac80a=doc(db,_0x4f2a27(0x62e)+appId+_0x4f2a27(0x6ef),currentTeamQuizId),_0x61f5dc=await getDoc(_0x5ac80a);if(!_0x61f5dc[_0x4f2a27(0xafe)]()){studentResultArea[_0x4f2a27(0x994)]=_0x4f2a27(0x748);return;}const _0x51f25c=_0x61f5dc[_0x4f2a27(0x291)]();let _0x3b365b=[];const _0x1a662d=_0x51f25c['mode']||'team';if(_0x1a662d===_0x4f2a27(0x8b8)){const _0x3451e3=_0x51f25c[_0x4f2a27(0x231)][userId];_0x3451e3?_0x3b365b=[{'name':_0x4f2a27(0x74d)+localTeamPlayers[_0x4f2a27(0x7c3)](',\x20'),'score':_0x3451e3[_0x4f2a27(0x32e)]||0x0}]:_0x3b365b=[{'name':_0x4f2a27(0x22d),'score':_0x4f2a27(0xb0e)}];}else _0x3b365b=localTeamPlayers['map'](_0x227ee0=>({'name':_0x227ee0,'score':_0x51f25c[_0x4f2a27(0x604)][_0x227ee0]?.[_0x4f2a27(0x32e)]||0x0}))[_0x4f2a27(0x6a1)]((_0x3ea42e,_0xd67357)=>_0xd67357[_0x4f2a27(0x32e)]-_0x3ea42e[_0x4f2a27(0x32e)]);studentResultArea[_0x4f2a27(0x994)]=_0x4f2a27(0x911)+_0x3b365b[_0x4f2a27(0x374)](_0x4eed65=>_0x4f2a27(0x3a2)+_0x4eed65[_0x4f2a27(0x252)]+_0x4f2a27(0x1f7)+_0x4eed65[_0x4f2a27(0x32e)]+_0x4f2a27(0x617))[_0x4f2a27(0x7c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x4f2a27(0xa06)]('activeGameSession'),currentMode===_0x4f2a27(0x46b)&&currentTeamQuizId&&setTimeout(()=>{const _0x78853c=_0x4f2a27;deleteDoc(doc(db,_0x78853c(0x62e)+appId+_0x78853c(0x6ef),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0xe5be95(0x2b0),'pinnedProjects':[],'projectView':_0xe5be95(0xa93)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x4b7)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x650)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x386)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x301)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x687)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x3f5)},{'category':_0xe5be95(0x45a),'name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x8f7)},{'category':_0xe5be95(0x45a),'name':'จำนวนเต็มบวก'},{'category':_0xe5be95(0x45a),'name':'จำนวนเต็มลบ'},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0xacb)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x59f)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x802)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x8b1)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x625)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x9be)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0xb0f)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x2ed)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x568)},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x827)},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x960)},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x3f4)},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x6cb)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x3c9)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x3b9)},{'category':'จำนวนและการดำเนินการ','name':_0xe5be95(0x78a)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x4a0)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x7f0)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x213)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x81c)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0xa48)},{'category':_0xe5be95(0x45a),'name':_0xe5be95(0x7cb)},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0xe5be95(0x912),'name':_0xe5be95(0x3ac)},{'category':_0xe5be95(0x912),'name':_0xe5be95(0x77d)},{'category':_0xe5be95(0x912),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':_0xe5be95(0x912),'name':_0xe5be95(0x4f4)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0xe5be95(0xafd)},{'category':_0xe5be95(0x912),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0xe5be95(0x486)},{'category':_0xe5be95(0x912),'name':_0xe5be95(0x820)},{'category':_0xe5be95(0x912),'name':_0xe5be95(0xa28)},{'category':_0xe5be95(0x912),'name':_0xe5be95(0xa5d)},{'category':_0xe5be95(0x912),'name':_0xe5be95(0x262)},{'category':'เรขาคณิต','name':_0xe5be95(0x6b0)},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0x7b0)},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0x601)},{'category':_0xe5be95(0xa4d),'name':'พื้นที่สามเหลี่ยม'},{'category':_0xe5be95(0xa4d),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0x310)},{'category':'เรขาคณิต','name':_0xe5be95(0x5be)},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0xa3b)},{'category':'เรขาคณิต','name':_0xe5be95(0xa46)},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0xa13)},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0x409)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0xe5be95(0xa4d),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0xe5be95(0xa4d),'name':_0xe5be95(0x924)},{'category':_0xe5be95(0xa4d),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x288)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x3d9)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x9c4)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0xa95)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x1e7)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x505)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x1d8)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x501)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x462)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0xb0d)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x981)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x5d1)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x9ef)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x8ef)},{'category':_0xe5be95(0xa62),'name':'ระบบอสมการ'},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x937)},{'category':_0xe5be95(0xa62),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x884)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x5f0)},{'category':_0xe5be95(0xa62),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0xabf)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x4e4)},{'category':_0xe5be95(0xa62),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x69d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x335)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x362)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x737)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x50a)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x31f)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x51d)},{'category':_0xe5be95(0xa62),'name':_0xe5be95(0x91a)},{'category':_0xe5be95(0xa62),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe5be95(0x86b)},{'category':_0xe5be95(0x839),'name':_0xe5be95(0x7a4)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0xe5be95(0x839),'name':_0xe5be95(0x5c3)},{'category':_0xe5be95(0x839),'name':_0xe5be95(0xaa1)},{'category':_0xe5be95(0x839),'name':_0xe5be95(0x6b1)},{'category':'เรขาคณิตวิเคราะห์','name':_0xe5be95(0x7ff)},{'category':'เรขาคณิตวิเคราะห์','name':_0xe5be95(0xa9d)},{'category':_0xe5be95(0x839),'name':_0xe5be95(0x26c)},{'category':_0xe5be95(0x839),'name':_0xe5be95(0x9e3)},{'category':_0xe5be95(0x8e5),'name':_0xe5be95(0xab7)},{'category':_0xe5be95(0x8e5),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0xe5be95(0x8e5),'name':_0xe5be95(0xa73)},{'category':'ตรีโกณมิติ','name':_0xe5be95(0x4a2)},{'category':_0xe5be95(0x8e5),'name':_0xe5be95(0x9b1)},{'category':_0xe5be95(0x8e5),'name':_0xe5be95(0x28e)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0xe5be95(0x46d)},{'category':_0xe5be95(0x8e5),'name':_0xe5be95(0x858)},{'category':_0xe5be95(0x8e5),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0xe5be95(0x8e5),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x7c1)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x569)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x61f)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x910)},{'category':_0xe5be95(0x530),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x922)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x64d)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x29a)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x5f9)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x56d)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x514)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x238)},{'category':_0xe5be95(0x530),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x46a)},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x513)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x24b)},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x897)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x80c)},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x372)},{'category':'สถิติและความน่าจะเป็น','name':_0xe5be95(0x7e2)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x9a9)},{'category':_0xe5be95(0x530),'name':_0xe5be95(0x865)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x5d9)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0xe5be95(0x78d),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0xe5be95(0x78d),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x497)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x2fb)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x5a0)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x71f)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0xa6e)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x7a7)},{'category':_0xe5be95(0x78d),'name':_0xe5be95(0x3e4)},{'category':'แคลคูลัสเบื้องต้น','name':_0xe5be95(0x5d3)},{'category':_0xe5be95(0x78d),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xe5be95(0x932),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0xe5be95(0x932),'name':_0xe5be95(0x4e8)},{'category':_0xe5be95(0x932),'name':_0xe5be95(0x7a2)},{'category':_0xe5be95(0x932),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0xe5be95(0x932),'name':_0xe5be95(0x85c)},{'category':_0xe5be95(0x932),'name':_0xe5be95(0xa76)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0xe5be95(0x908),'name':_0xe5be95(0x5a6)},{'category':_0xe5be95(0x908),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0xe5be95(0x4c0)},{'category':_0xe5be95(0x908),'name':_0xe5be95(0x33a)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xe5be95(0x33f)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0xe5be95(0x990)},{'category':_0xe5be95(0x6c7),'name':_0xe5be95(0x778)},{'category':_0xe5be95(0x6c7),'name':_0xe5be95(0x3ba)}];function renderTopicCheckboxes(){const _0x1b13ce=_0xe5be95,_0x15be97=document[_0x1b13ce(0x7e4)]('math-topics-checkbox-container');if(!_0x15be97)return;const _0xbb508b=allMathTopics,_0x2b16dd=customMathTopics['map'](_0x25fec3=>({'id':_0x25fec3['id'],'category':_0x1b13ce(0x6c5),'name':_0x25fec3['name']})),_0x4e5dd4=[..._0xbb508b,..._0x2b16dd],_0x57f319=_0x4e5dd4[_0x1b13ce(0x7f6)]((_0x15aa64,_0x38dcba)=>{const _0x588f2e=_0x1b13ce;return!_0x15aa64[_0x38dcba[_0x588f2e(0x90e)]]&&(_0x15aa64[_0x38dcba[_0x588f2e(0x90e)]]=[]),_0x15aa64[_0x38dcba['category']][_0x588f2e(0x4a9)](_0x38dcba),_0x15aa64;},{});let _0x4612be='';const _0x1f142b=['หัวข้อที่สร้างเอง',...Object[_0x1b13ce(0x487)](_0x57f319)['filter'](_0x1d61c4=>_0x1d61c4!==_0x1b13ce(0x6c5))];for(const _0x259e2d of _0x1f142b){if(_0x57f319[_0x259e2d]){const _0x408db6=_0x259e2d===_0x1b13ce(0x6c5),_0x507160=_0x408db6?_0x1b13ce(0x9a7):'fas\x20fa-bookmark',_0x33bb65=_0x408db6?'text-blue-700':_0x1b13ce(0x210);_0x4612be+=_0x1b13ce(0xaa2),_0x4612be+=_0x1b13ce(0x782)+_0x33bb65+_0x1b13ce(0x4ad)+_0x507160+'\x20mr-2\x22></i>'+_0x259e2d+'</p>',_0x57f319[_0x259e2d][_0x1b13ce(0xa64)](_0x3d2de5=>{const _0x297f68=_0x1b13ce,_0x1ee2a0=!!_0x3d2de5['id'],_0x1a5d2f=_0x1ee2a0?_0x297f68(0x799)+_0x3d2de5['id']+_0x297f68(0x74b)+_0x3d2de5['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3d2de5['id']+_0x297f68(0x63f)+_0x3d2de5['id']+_0x297f68(0x45d):'';_0x4612be+=_0x297f68(0x9d0)+(_0x3d2de5['id']||'')+_0x297f68(0x8d8)+_0x3d2de5[_0x297f68(0x252)]+_0x297f68(0x58a)+_0x3d2de5['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1ee2a0?_0x297f68(0x2e5)+_0x3d2de5[_0x297f68(0x252)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a5d2f+_0x297f68(0x66f);}),_0x4612be+=_0x1b13ce(0x598);}}_0x15be97['innerHTML']=_0x4612be||_0x1b13ce(0x2c9),_0x15be97['removeEventListener'](_0x1b13ce(0x627),updateSelectedTopicsCount),_0x15be97[_0x1b13ce(0x8c2)](_0x1b13ce(0x627),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2ee5ed,_0x52a0a3){const _0x3aa625=_0xe5be95;if(!_0x2ee5ed||!_0x52a0a3[_0x3aa625(0x7ab)]()){showMessage(_0x3aa625(0x56f));return;}try{const _0x2991d1=doc(db,_0x3aa625(0x62e)+appId+_0x3aa625(0xa35),_0x2ee5ed);await updateDoc(_0x2991d1,{'name':_0x52a0a3[_0x3aa625(0x7ab)]()}),showMessage(_0x3aa625(0x8a8));}catch(_0xd296ec){console[_0x3aa625(0x72a)](_0x3aa625(0x452),_0xd296ec),showMessage(_0x3aa625(0x835));}}function toggleTopicEditMode(_0x330499,_0x545121){const _0x19ffae=_0xe5be95;if(!_0x330499)return;const _0x2bfee5=_0x330499[_0x19ffae(0x9e6)](_0x19ffae(0xa8b)),_0x32fb09=_0x330499['querySelector'](_0x19ffae(0x7f2)),_0xdb1d07=_0x330499[_0x19ffae(0x9e6)](_0x19ffae(0x91b)),_0x120b7d=_0x330499['querySelector']('.topic-actions-edit');_0x2bfee5[_0x19ffae(0x683)]['toggle'](_0x19ffae(0x80f),_0x545121),_0x32fb09[_0x19ffae(0x683)][_0x19ffae(0x459)](_0x19ffae(0x80f),!_0x545121),_0xdb1d07[_0x19ffae(0x683)][_0x19ffae(0x459)](_0x19ffae(0x80f),_0x545121),_0x120b7d['classList'][_0x19ffae(0x459)](_0x19ffae(0x80f),!_0x545121),_0x545121&&(_0x32fb09[_0x19ffae(0x345)](),_0x32fb09[_0x19ffae(0x92c)]());}async function handleStartLiveRace(_0x52b3a2){const _0x1ae6f6=_0xe5be95;let _0x776dd9=allQuizzes[_0x1ae6f6(0x3fd)](_0x212277=>_0x212277['id']===_0x52b3a2);if(!_0x776dd9){const _0x23d169=doc(db,_0x1ae6f6(0x62e)+appId+_0x1ae6f6(0x721),_0x52b3a2),_0x1c8361=await getDoc(_0x23d169);if(!_0x1c8361[_0x1ae6f6(0xafe)]()){showMessage(_0x1ae6f6(0x653));return;}_0x776dd9={'id':_0x1c8361['id'],..._0x1c8361['data']()};}const _0x26b173=getShuffledQuiz(_0x776dd9);currentQuizData=_0x26b173;const _0x2c1089=_0x776dd9['projectId']||currentProjectId||null,_0x26e167=Math[_0x1ae6f6(0x28c)](0x3e8+Math['random']()*0x2328)[_0x1ae6f6(0x59e)]();currentLiveGamePin=_0x26e167;try{const _0xa112c5=await addDoc(collection(db,_0x1ae6f6(0x62e)+appId+_0x1ae6f6(0xa4c)),{'quizId':_0x52b3a2,'projectId':_0x2c1089,'status':_0x1ae6f6(0x9e1),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x26e167,'createdAt':serverTimestamp(),'shuffledQuiz':_0x26b173});currentLiveGameId=_0xa112c5['id'],showAdminLobbyView(_0x26e167,_0x776dd9[_0x1ae6f6(0xab8)]),listenForLiveGameUpdates();}catch(_0x11b0d2){console[_0x1ae6f6(0x72a)](_0x1ae6f6(0x621),_0x11b0d2),showMessage(_0x1ae6f6(0x8b7));}}function updateSelectedTopicsCount(){const _0x1c80ad=_0xe5be95,_0x10c2bc=document[_0x1c80ad(0x7e4)]('math-topics-checkbox-container'),_0x341d83=_0x10c2bc[_0x1c80ad(0xa16)](_0x1c80ad(0x6bd))[_0x1c80ad(0x630)],_0x8cb552=document[_0x1c80ad(0x7e4)]('selected-topics-count');_0x341d83>0x0?_0x8cb552[_0x1c80ad(0x5c5)]=_0x1c80ad(0x294)+_0x341d83+_0x1c80ad(0x593):_0x8cb552['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xe5be95(0x923),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xe5be95(0x93b),quizLeaderboardSortOrder=_0xe5be95(0x545),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0xe5be95(0x379),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1bf365,_0x440d2c){const _0xf52117=_0xe5be95;return Math['sqrt'](Math['pow'](_0x1bf365['x']-_0x440d2c['x'],0x2)+Math[_0xf52117(0x972)](_0x1bf365['y']-_0x440d2c['y'],0x2));}function getMidpoint(_0x5bb94d,_0x48fdaa){return{'x':(_0x5bb94d['x']+_0x48fdaa['x'])/0x2,'y':(_0x5bb94d['y']+_0x48fdaa['y'])/0x2};}function getTransformedPoint(_0x107d8f,_0x26578c){return{'x':(_0x107d8f-scratchpadOffset['x'])/scratchpadScale,'y':(_0x26578c-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x11cdb2=_0xe5be95;if(!scratchpadCtx)return;const _0x14efe6=scratchpadCtx[_0x11cdb2(0x7ba)],_0x5b429d=window['devicePixelRatio']||0x1,_0x23111f=document[_0x11cdb2(0x7e4)]('scratchpad-header');_0x23111f&&(_0x23111f[_0x11cdb2(0xa0e)][_0x11cdb2(0x2be)]=_0x11cdb2(0x26e),_0x23111f[_0x11cdb2(0xa0e)][_0x11cdb2(0x7da)]=_0x11cdb2(0x56c)+scratchpadOffset['x']+_0x11cdb2(0x36a)+scratchpadOffset['y']+_0x11cdb2(0x931)+scratchpadScale+')'),scratchpadCtx[_0x11cdb2(0x47c)](),scratchpadCtx['setTransform'](_0x5b429d,0x0,0x0,_0x5b429d,0x0,0x0),scratchpadCtx[_0x11cdb2(0x7bc)](0x0,0x0,_0x14efe6[_0x11cdb2(0x755)],_0x14efe6[_0x11cdb2(0x9d6)]),scratchpadCtx['restore'](),scratchpadCtx[_0x11cdb2(0x47c)](),scratchpadCtx[_0x11cdb2(0x419)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x11cdb2(0xa64)](_0x1b59f1=>{drawStroke(_0x1b59f1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x52fbac){const _0x52deac=_0xe5be95;_0x52fbac[_0x52deac(0x4f0)]();const _0x150706=scratchpadCtx['canvas'],_0x924e9f=_0x150706[_0x52deac(0x540)](),_0x5b56b1=_0x52fbac['pointerType']||(_0x52fbac[_0x52deac(0x2c1)]?_0x52deac(0x402):'mouse');if(_0x5b56b1===_0x52deac(0x5dd)||_0x5b56b1===_0x52deac(0x4e9)){if(_0x52fbac['pointerType']===_0x52deac(0x4e9)&&_0x52fbac[_0x52deac(0x2c5)]!==0x0){_0x52fbac[_0x52deac(0x2c5)]===0x1&&(isMousePanning=!![],panStart={'x':_0x52fbac[_0x52deac(0xb06)],'y':_0x52fbac[_0x52deac(0x8f8)]},_0x150706[_0x52deac(0xa0e)][_0x52deac(0x2fd)]=_0x52deac(0xad9));return;}activeTool===_0x52deac(0x1e1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x5e5b5a=getTransformedPoint(_0x52fbac[_0x52deac(0xb06)]-_0x924e9f[_0x52deac(0x896)],_0x52fbac['clientY']-_0x924e9f[_0x52deac(0x5e1)]);let _0x18b2a0={'tool':activeTool,'points':[_0x5e5b5a]};if(activeTool===_0x52deac(0x1da))_0x18b2a0[_0x52deac(0x8e0)]=scratchpadHighlighterColor,_0x18b2a0[_0x52deac(0x740)]=scratchpadHighlighterSize;else activeTool===_0x52deac(0x1e1)?(_0x18b2a0[_0x52deac(0x8e0)]=scratchpadPenColor,_0x18b2a0[_0x52deac(0x740)]=scratchpadPenSize):(_0x18b2a0[_0x52deac(0x8e0)]=scratchpadPenColor,_0x18b2a0[_0x52deac(0x740)]=scratchpadPenSize);currentStroke=_0x18b2a0;}else _0x52fbac['touches']&&(_0x52fbac[_0x52deac(0x2c1)][_0x52deac(0x630)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x52fbac[_0x52deac(0x2c1)][0x0][_0x52deac(0xb06)],'y':_0x52fbac['touches'][0x0][_0x52deac(0x8f8)]},{'x':_0x52fbac[_0x52deac(0x2c1)][0x1][_0x52deac(0xb06)],'y':_0x52fbac['touches'][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x52fbac[_0x52deac(0x2c1)][0x0][_0x52deac(0xb06)],'y':_0x52fbac[_0x52deac(0x2c1)][0x0][_0x52deac(0x8f8)]},{'x':_0x52fbac[_0x52deac(0x2c1)][0x1][_0x52deac(0xb06)],'y':_0x52fbac[_0x52deac(0x2c1)][0x1]['clientY']})));}function animateTrail(){const _0x327c42=_0xe5be95,_0x5e986d=Date[_0x327c42(0x46e)]();let _0x1a0775=![];for(let _0x12a781=strokes[_0x327c42(0x630)]-0x1;_0x12a781>=0x0;_0x12a781--){const _0x2094f8=strokes[_0x12a781];if(_0x2094f8['tool']===_0x327c42(0x1e1)&&_0x2094f8['fadeStartTime']){const _0x869528=_0x5e986d-_0x2094f8[_0x327c42(0x826)];_0x869528>=TRAIL_DURATION?strokes[_0x327c42(0x8f5)](_0x12a781,0x1):(_0x2094f8[_0x327c42(0x5e4)]=0x1-_0x869528/TRAIL_DURATION,_0x1a0775=!![]);}}redrawScratchpad(),_0x1a0775?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x234c48){const _0x4f6c3c=_0xe5be95;if(!_0x234c48||_0x234c48[_0x4f6c3c(0x7a9)][_0x4f6c3c(0x630)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x4f6c3c(0x420),scratchpadCtx[_0x4f6c3c(0x60b)]=_0x4f6c3c(0x420);if(_0x234c48[_0x4f6c3c(0xac2)]===_0x4f6c3c(0x1e1)){const _0x20a522=_0x234c48[_0x4f6c3c(0x740)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x234c48[_0x4f6c3c(0x5e4)]??0x1,scratchpadCtx[_0x4f6c3c(0xafa)]=_0x4f6c3c(0x349),scratchpadCtx[_0x4f6c3c(0x8e6)]=_0x20a522*0x3,scratchpadCtx[_0x4f6c3c(0x6ab)]=_0x4f6c3c(0x718),scratchpadCtx['lineWidth']=_0x20a522*2.5,scratchpadCtx[_0x4f6c3c(0x320)](),scratchpadCtx[_0x4f6c3c(0x719)](_0x234c48[_0x4f6c3c(0x7a9)][0x0]['x'],_0x234c48[_0x4f6c3c(0x7a9)][0x0]['y']);for(let _0x14479f=0x1;_0x14479f<_0x234c48['points'][_0x4f6c3c(0x630)]-0x1;_0x14479f++){const _0x287a4e=getMidpoint(_0x234c48[_0x4f6c3c(0x7a9)][_0x14479f],_0x234c48['points'][_0x14479f+0x1]);scratchpadCtx[_0x4f6c3c(0x822)](_0x234c48[_0x4f6c3c(0x7a9)][_0x14479f]['x'],_0x234c48[_0x4f6c3c(0x7a9)][_0x14479f]['y'],_0x287a4e['x'],_0x287a4e['y']);}scratchpadCtx[_0x4f6c3c(0x62b)](),scratchpadCtx[_0x4f6c3c(0xafa)]=_0x4f6c3c(0x678),scratchpadCtx[_0x4f6c3c(0x8e6)]=0x0,scratchpadCtx[_0x4f6c3c(0x6ab)]='#FFFFFF',scratchpadCtx[_0x4f6c3c(0x724)]=_0x20a522,scratchpadCtx[_0x4f6c3c(0x62b)](),scratchpadCtx[_0x4f6c3c(0x969)]();}else{if(_0x234c48['tool']==='highlighter'){scratchpadCtx[_0x4f6c3c(0xa3c)]=_0x4f6c3c(0x85f),scratchpadCtx[_0x4f6c3c(0x6ab)]=_0x234c48[_0x4f6c3c(0x8e0)],scratchpadCtx[_0x4f6c3c(0x724)]=_0x234c48['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x4f6c3c(0x719)](_0x234c48[_0x4f6c3c(0x7a9)][0x0]['x'],_0x234c48[_0x4f6c3c(0x7a9)][0x0]['y']);for(let _0x8dce45=0x1;_0x8dce45<_0x234c48[_0x4f6c3c(0x7a9)][_0x4f6c3c(0x630)]-0x1;_0x8dce45++){const _0x9c90a7=getMidpoint(_0x234c48[_0x4f6c3c(0x7a9)][_0x8dce45],_0x234c48[_0x4f6c3c(0x7a9)][_0x8dce45+0x1]);scratchpadCtx[_0x4f6c3c(0x822)](_0x234c48['points'][_0x8dce45]['x'],_0x234c48[_0x4f6c3c(0x7a9)][_0x8dce45]['y'],_0x9c90a7['x'],_0x9c90a7['y']);}scratchpadCtx[_0x4f6c3c(0x62b)](),scratchpadCtx[_0x4f6c3c(0x969)]();}else{scratchpadCtx[_0x4f6c3c(0xa3c)]=_0x234c48[_0x4f6c3c(0xac2)]==='eraser'?_0x4f6c3c(0x29b):'source-over',scratchpadCtx['strokeStyle']=_0x234c48[_0x4f6c3c(0x8e0)],scratchpadCtx[_0x4f6c3c(0x724)]=_0x234c48[_0x4f6c3c(0x740)],scratchpadCtx[_0x4f6c3c(0x320)](),scratchpadCtx['moveTo'](_0x234c48['points'][0x0]['x'],_0x234c48[_0x4f6c3c(0x7a9)][0x0]['y']);for(let _0x557de4=0x1;_0x557de4<_0x234c48[_0x4f6c3c(0x7a9)][_0x4f6c3c(0x630)]-0x1;_0x557de4++){const _0x45e09e=getMidpoint(_0x234c48[_0x4f6c3c(0x7a9)][_0x557de4],_0x234c48[_0x4f6c3c(0x7a9)][_0x557de4+0x1]);scratchpadCtx[_0x4f6c3c(0x822)](_0x234c48[_0x4f6c3c(0x7a9)][_0x557de4]['x'],_0x234c48[_0x4f6c3c(0x7a9)][_0x557de4]['y'],_0x45e09e['x'],_0x45e09e['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x4f6c3c(0x290)]();}function handlePointerMove(_0x1f85ab){const _0x9008b5=_0xe5be95;_0x1f85ab[_0x9008b5(0x4f0)]();const _0x2cd95b=scratchpadCtx[_0x9008b5(0x7ba)],_0x407f43=_0x2cd95b[_0x9008b5(0x540)]();if(_0x1f85ab['touches']){if(_0x1f85ab[_0x9008b5(0x2c1)]['length']===0x1&&isDrawingOnScratchpad){const _0x4f142d=getTransformedPoint(_0x1f85ab['touches'][0x0][_0x9008b5(0xb06)]-_0x407f43['left'],_0x1f85ab[_0x9008b5(0x2c1)][0x0]['clientY']-_0x407f43['top']);currentStroke[_0x9008b5(0x7a9)][_0x9008b5(0x4a9)](_0x4f142d),redrawScratchpad();}else{if(_0x1f85ab[_0x9008b5(0x2c1)][_0x9008b5(0x630)]===0x2&&isPanning){const _0x2f3f29=getDistance({'x':_0x1f85ab[_0x9008b5(0x2c1)][0x0][_0x9008b5(0xb06)],'y':_0x1f85ab[_0x9008b5(0x2c1)][0x0][_0x9008b5(0x8f8)]},{'x':_0x1f85ab[_0x9008b5(0x2c1)][0x1][_0x9008b5(0xb06)],'y':_0x1f85ab[_0x9008b5(0x2c1)][0x1][_0x9008b5(0x8f8)]}),_0x4aead2=getMidpoint({'x':_0x1f85ab[_0x9008b5(0x2c1)][0x0][_0x9008b5(0xb06)],'y':_0x1f85ab[_0x9008b5(0x2c1)][0x0][_0x9008b5(0x8f8)]},{'x':_0x1f85ab['touches'][0x1][_0x9008b5(0xb06)],'y':_0x1f85ab[_0x9008b5(0x2c1)][0x1]['clientY']}),_0x3e9638=_0x2f3f29/ initialPinchDistance,_0x58c884=Math['min'](Math['max'](scratchpadScale*_0x3e9638,MIN_SCALE),MAX_SCALE),_0x4c15ae=_0x4aead2['x']-panStart['x'],_0x4f98a1=_0x4aead2['y']-panStart['y'];scratchpadOffset['x']=_0x4aead2['x']-(_0x4aead2['x']-scratchpadOffset['x'])*(_0x58c884/scratchpadScale),scratchpadOffset['y']=_0x4aead2['y']-(_0x4aead2['y']-scratchpadOffset['y'])*(_0x58c884/scratchpadScale),scratchpadOffset['x']+=_0x4c15ae,scratchpadOffset['y']+=_0x4f98a1,scratchpadScale=_0x58c884,initialPinchDistance=_0x2f3f29,panStart=_0x4aead2,redrawScratchpad();}}}else{if(isMousePanning){const _0x34b1a8=_0x1f85ab[_0x9008b5(0xb06)]-panStart['x'],_0x1cffa0=_0x1f85ab[_0x9008b5(0x8f8)]-panStart['y'];scratchpadOffset['x']+=_0x34b1a8,scratchpadOffset['y']+=_0x1cffa0,panStart={'x':_0x1f85ab[_0x9008b5(0xb06)],'y':_0x1f85ab['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5e0a7f=getTransformedPoint(_0x1f85ab[_0x9008b5(0xb06)]-_0x407f43['left'],_0x1f85ab[_0x9008b5(0x8f8)]-_0x407f43[_0x9008b5(0x5e1)]);currentStroke[_0x9008b5(0x7a9)][_0x9008b5(0x4a9)](_0x5e0a7f),redrawScratchpad();}}}}function handlePointerUp(_0x31b346){const _0x1ed5ec=_0xe5be95;_0x31b346[_0x1ed5ec(0x4f0)]();const _0x319c08=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x319c08['style']['cursor']=_0x1ed5ec(0x84c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1ed5ec(0x7a9)][_0x1ed5ec(0x630)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x1ed5ec(0xac2)]===_0x1ed5ec(0x1e1)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x16c1b7=_0x1ed5ec,_0x46ab9d=strokes[_0x16c1b7(0x670)](_0x35044e=>_0x35044e['tool']==='trail'&&!_0x35044e[_0x16c1b7(0x826)]);if(_0x46ab9d['length']>0x0){const _0x180bff=Date[_0x16c1b7(0x46e)]();_0x46ab9d['forEach'](_0x171cbe=>_0x171cbe[_0x16c1b7(0x826)]=_0x180bff),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x245a84){const _0x3360f3=_0xe5be95;_0x245a84[_0x3360f3(0x4f0)]();const _0x5b0fdf=_0x245a84[_0x3360f3(0x57d)]*-0.005,_0x14fef7=Math[_0x3360f3(0x8ee)](Math[_0x3360f3(0x2de)](scratchpadScale+_0x5b0fdf,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x245a84['clientX']-(_0x245a84[_0x3360f3(0xb06)]-scratchpadOffset['x'])*(_0x14fef7/scratchpadScale),scratchpadOffset['y']=_0x245a84[_0x3360f3(0x8f8)]-(_0x245a84['clientY']-scratchpadOffset['y'])*(_0x14fef7/scratchpadScale),scratchpadScale=_0x14fef7,redrawScratchpad();}function undo(){const _0x124947=_0xe5be95;strokes[_0x124947(0x630)]>0x0&&(redoStrokes[_0x124947(0x4a9)](strokes[_0x124947(0x527)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x324e63=_0xe5be95;redoStrokes[_0x324e63(0x630)]>0x0&&(strokes[_0x324e63(0x4a9)](redoStrokes[_0x324e63(0x527)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5bd444=_0xe5be95;document['getElementById'](_0x5bd444(0x6e9))[_0x5bd444(0x7ac)]=strokes[_0x5bd444(0x630)]===0x0,document['getElementById']('redo-btn')[_0x5bd444(0x7ac)]=redoStrokes['length']===0x0;}function openScratchpad(_0x1e6686,_0x2671f3){const _0x169db1=_0xe5be95,_0x24fdb6=document['getElementById'](_0x169db1(0x2e8)),_0xb981d3=document[_0x169db1(0x7e4)](_0x169db1(0x538)),_0x3b859b=document['getElementById'](_0x169db1(0x7b9)),_0x18e3fd=document[_0x169db1(0x7e4)](_0x169db1(0x985));_0xb981d3[_0x169db1(0x5c5)]=_0x1e6686[_0x169db1(0xae3)]||_0x1e6686[_0x169db1(0x821)],_0x3b859b[_0x169db1(0x994)]=_0x2671f3[_0x169db1(0x374)]((_0x3cf915,_0x353203)=>'<div>'+String['fromCharCode'](0x41+_0x353203)+'.\x20'+_0x3cf915+_0x169db1(0x598))[_0x169db1(0x7c3)](''),_0x18e3fd[_0x169db1(0x994)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x24fdb6[_0x169db1(0x683)][_0x169db1(0x21f)](_0x169db1(0x80f)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x169db1(0x422)])MathJax[_0x169db1(0x32a)]([_0xb981d3,_0x3b859b]);}function initializeScratchpadCanvas(){const _0x28fb82=_0xe5be95,_0x5a0c5d=document[_0x28fb82(0x7e4)](_0x28fb82(0x5cd)),_0x2f5534=document[_0x28fb82(0x9e6)](_0x28fb82(0xa7b));if(!_0x5a0c5d||!_0x2f5534)return;scratchpadCtx=_0x5a0c5d[_0x28fb82(0x97f)]('2d',{'willReadFrequently':!![]});const _0x551d12=window[_0x28fb82(0xaea)]||0x1,_0x54b0fb=_0x2f5534['getBoundingClientRect']();_0x5a0c5d[_0x28fb82(0x755)]=_0x54b0fb['width']*_0x551d12,_0x5a0c5d[_0x28fb82(0x9d6)]=_0x54b0fb[_0x28fb82(0x9d6)]*_0x551d12,_0x5a0c5d[_0x28fb82(0xa0e)][_0x28fb82(0x755)]=_0x54b0fb[_0x28fb82(0x755)]+'px',_0x5a0c5d[_0x28fb82(0xa0e)][_0x28fb82(0x9d6)]=_0x54b0fb[_0x28fb82(0x9d6)]+'px',scratchpadCtx[_0x28fb82(0x810)](_0x551d12,_0x551d12),scratchpadCtx['lineJoin']=_0x28fb82(0x420),scratchpadCtx['lineCap']='round',_0x5a0c5d['removeEventListener'](_0x28fb82(0x849),handlePointerDown),_0x5a0c5d[_0x28fb82(0x302)](_0x28fb82(0x52a),handlePointerMove),_0x5a0c5d[_0x28fb82(0x302)](_0x28fb82(0x220),handlePointerUp),_0x5a0c5d['removeEventListener'](_0x28fb82(0x7c6),handlePointerUp),_0x5a0c5d[_0x28fb82(0x302)](_0x28fb82(0x6f0),handleWheel),_0x5a0c5d[_0x28fb82(0x302)](_0x28fb82(0x3ce),handlePointerDown),_0x5a0c5d[_0x28fb82(0x302)](_0x28fb82(0x5c1),handlePointerMove),_0x5a0c5d['removeEventListener'](_0x28fb82(0x61b),handlePointerUp),_0x5a0c5d[_0x28fb82(0x8c2)](_0x28fb82(0x849),handlePointerDown),_0x5a0c5d[_0x28fb82(0x8c2)](_0x28fb82(0x52a),handlePointerMove),_0x5a0c5d[_0x28fb82(0x8c2)]('pointerup',handlePointerUp),_0x5a0c5d['addEventListener'](_0x28fb82(0x7c6),handlePointerUp),_0x5a0c5d[_0x28fb82(0x8c2)]('wheel',handleWheel,{'passive':![]}),_0x5a0c5d[_0x28fb82(0x8c2)]('touchstart',handlePointerDown,{'passive':![]}),_0x5a0c5d[_0x28fb82(0x8c2)](_0x28fb82(0x5c1),handlePointerMove,{'passive':![]}),_0x5a0c5d[_0x28fb82(0x8c2)](_0x28fb82(0x61b),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3827ae=_0xe5be95,_0x13a7db=document[_0x3827ae(0x7e4)](_0x3827ae(0x2e8)),_0x1810f9=document[_0x3827ae(0x7e4)](_0x3827ae(0x985));_0x1810f9[_0x3827ae(0x994)]=_0x3827ae(0x3c0)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x16b6d2=document[_0x3827ae(0x7e4)](_0x3827ae(0x9c7)),_0xeaa7cd=document[_0x3827ae(0x7e4)](_0x3827ae(0x730)),_0x8c2618=document[_0x3827ae(0x7e4)](_0x3827ae(0x2b4)),_0x3831cf=document['getElementById'](_0x3827ae(0x2d7)),_0x46d689=document['getElementById'](_0x3827ae(0x94c)),_0x32d8b1=document[_0x3827ae(0x7e4)](_0x3827ae(0x2bd)),_0x5b3e0f=[_0x16b6d2,_0xeaa7cd,_0x8c2618,_0x3831cf];document['getElementById'](_0x3827ae(0x31e))[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>_0x13a7db['classList']['add']('hidden')),document['getElementById']('reset-view-btn')[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3827ae(0x7e4)](_0x3827ae(0x5d5))[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x3827ae(0x6e9))[_0x3827ae(0x8c2)](_0x3827ae(0x75b),undo),document[_0x3827ae(0x7e4)]('redo-btn')[_0x3827ae(0x8c2)](_0x3827ae(0x75b),redo);const _0xd58f6c=_0x3749aa=>{const _0x442dbb=_0x3827ae;_0x5b3e0f[_0x442dbb(0xa64)](_0x3a7cc4=>_0x3a7cc4[_0x442dbb(0x683)]['remove'](_0x442dbb(0x245))),_0x3749aa[_0x442dbb(0x683)][_0x442dbb(0x816)](_0x442dbb(0x245));const _0x1936d9=_0x3749aa===_0x3831cf;_0x46d689[_0x442dbb(0x683)][_0x442dbb(0x459)](_0x442dbb(0x80f),_0x1936d9),_0x32d8b1[_0x442dbb(0x683)][_0x442dbb(0x459)]('hidden',!_0x1936d9);};_0x16b6d2[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>{activeTool='pen',_0xd58f6c(_0x16b6d2);}),_0xeaa7cd[_0x3827ae(0x8c2)]('click',()=>{activeTool='eraser',_0xd58f6c(_0xeaa7cd);}),_0x8c2618[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>{const _0x3df359=_0x3827ae;activeTool=_0x3df359(0x1e1),_0xd58f6c(_0x8c2618);}),_0x3831cf[_0x3827ae(0x8c2)](_0x3827ae(0x75b),()=>{activeTool='highlighter',_0xd58f6c(_0x3831cf);}),_0x46d689['querySelectorAll'](_0x3827ae(0x3c5))[_0x3827ae(0xa64)](_0x1bec03=>{const _0x2b8a28=_0x3827ae;_0x1bec03['addEventListener'](_0x2b8a28(0x75b),_0x2425c3=>{const _0x2d9662=_0x2b8a28;scratchpadPenSize=parseInt(_0x2425c3[_0x2d9662(0xa1e)]['dataset']['size'],0xa),_0x46d689[_0x2d9662(0xa16)](_0x2d9662(0x3c5))[_0x2d9662(0xa64)](_0x15f228=>_0x15f228[_0x2d9662(0x683)][_0x2d9662(0x21f)](_0x2d9662(0x245))),_0x2425c3[_0x2d9662(0xa1e)][_0x2d9662(0x683)][_0x2d9662(0x816)](_0x2d9662(0x245));});}),_0x46d689[_0x3827ae(0xa16)](_0x3827ae(0xaf4))[_0x3827ae(0xa64)](_0xb61048=>{const _0xbf063=_0x3827ae;_0xb61048[_0xbf063(0x8c2)](_0xbf063(0x75b),_0x52345c=>{const _0xcc1f22=_0xbf063;scratchpadPenColor=_0x52345c[_0xcc1f22(0xa1e)]['dataset'][_0xcc1f22(0x8e0)],_0x46d689[_0xcc1f22(0xa16)](_0xcc1f22(0xaf4))[_0xcc1f22(0xa64)](_0x47d491=>_0x47d491[_0xcc1f22(0x683)]['remove'](_0xcc1f22(0x245))),_0x52345c[_0xcc1f22(0xa1e)][_0xcc1f22(0x683)][_0xcc1f22(0x816)]('active');});}),_0x32d8b1['querySelectorAll'](_0x3827ae(0x38b))[_0x3827ae(0xa64)](_0x5c76a4=>{const _0x5a342e=_0x3827ae;_0x5c76a4[_0x5a342e(0x8c2)](_0x5a342e(0x75b),_0x30683f=>{const _0xc32888=_0x5a342e;scratchpadHighlighterColor=_0x30683f['target']['dataset']['color'],_0x32d8b1[_0xc32888(0xa16)]('.highlighter-color-btn')['forEach'](_0x57f57b=>_0x57f57b['classList'][_0xc32888(0x21f)]('active')),_0x30683f[_0xc32888(0xa1e)][_0xc32888(0x683)]['add'](_0xc32888(0x245));});});const _0x27b6b1=document[_0x3827ae(0x7e4)]('highlighter-size-slider'),_0x17f161=document[_0x3827ae(0x7e4)](_0x3827ae(0x715));_0x27b6b1[_0x3827ae(0x8c2)]('input',_0x292ff5=>{const _0x475ea7=_0x3827ae,_0x376f68=parseInt(_0x292ff5[_0x475ea7(0xa1e)][_0x475ea7(0x2cd)],0xa);scratchpadHighlighterSize=_0x376f68,_0x17f161['textContent']=_0x376f68;}),window[_0x3827ae(0x8c2)](_0x3827ae(0x4ae),()=>{const _0x3025b2=_0x3827ae;!_0x13a7db['classList'][_0x3025b2(0x344)](_0x3025b2(0x80f))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0xe5be95(0x4e0),'name':_0xe5be95(0x9ba),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0xe5be95(0x3dc)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0xe5be95(0x494),'icon':_0xe5be95(0x626)},'ON_FIRE':{'id':_0xe5be95(0x5ea),'name':'ท็อปฟอร์ม','description':_0xe5be95(0x454),'icon':_0xe5be95(0x285)},'FIRST_TRY_ACE':{'id':_0xe5be95(0x5df),'name':'ผ่านฉลุย','description':_0xe5be95(0x351),'icon':_0xe5be95(0x27a)},'COMEBACK_KING':{'id':_0xe5be95(0x8b9),'name':_0xe5be95(0x660),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0xe5be95(0x4fc)},'SPECIALIST':{'id':'specialist','name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0xe5be95(0x536)},'PERSEVERANCE':{'id':_0xe5be95(0x6ea),'name':_0xe5be95(0x8d5),'description':_0xe5be95(0x697),'icon':_0xe5be95(0x970)}},firebaseConfig={'apiKey':_0xe5be95(0x234),'authDomain':_0xe5be95(0x7c9),'projectId':_0xe5be95(0x5e0),'storageBucket':_0xe5be95(0x65f),'messagingSenderId':'516499432840','appId':_0xe5be95(0x7f9),'measurementId':_0xe5be95(0x4fd)},appId=typeof __app_id!==_0xe5be95(0xa4a)?__app_id:_0xe5be95(0x798),adminView=document[_0xe5be95(0x7e4)]('admin-view'),studentView=document[_0xe5be95(0x7e4)](_0xe5be95(0x2d6)),projectDashboardView=document[_0xe5be95(0x7e4)]('project-dashboard-view'),projectDetailView=document[_0xe5be95(0x7e4)](_0xe5be95(0x8d6)),quizResultsView=document[_0xe5be95(0x7e4)](_0xe5be95(0x3fe)),projectList=document[_0xe5be95(0x7e4)](_0xe5be95(0x9a5)),noProjectsMsg=document[_0xe5be95(0x7e4)](_0xe5be95(0x41c)),projectTitle=document[_0xe5be95(0x7e4)](_0xe5be95(0x21d)),projectIdDisplay=document[_0xe5be95(0x7e4)](_0xe5be95(0x43a)),studentList=document['getElementById']('student-list'),messageModal=document['getElementById'](_0xe5be95(0xaef)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0xe5be95(0x7e4)](_0xe5be95(0x685)),adminPasswordModal=document[_0xe5be95(0x7e4)]('admin-password-modal'),confirmationModal=document[_0xe5be95(0x7e4)](_0xe5be95(0xa8d)),userIdDisplay=document[_0xe5be95(0x7e4)]('user-id-display'),topicTab=document[_0xe5be95(0x7e4)](_0xe5be95(0x92b)),textTab=document[_0xe5be95(0x7e4)](_0xe5be95(0x537)),topicInputArea=document['getElementById'](_0xe5be95(0xadf)),textInputArea=document[_0xe5be95(0x7e4)](_0xe5be95(0x241)),manageTab=document['getElementById'](_0xe5be95(0x32c)),resultsTab=document[_0xe5be95(0x7e4)](_0xe5be95(0x7a6)),leaderboardTab=document['getElementById'](_0xe5be95(0xad1)),manageTabContent=document[_0xe5be95(0x7e4)]('manage-tab-content'),resultsTabContent=document[_0xe5be95(0x7e4)](_0xe5be95(0x49c)),leaderboardTabContent=document[_0xe5be95(0x7e4)](_0xe5be95(0x8f6)),projectQuizzesList=document[_0xe5be95(0x7e4)]('project-quizzes-list'),fileTab=document[_0xe5be95(0x7e4)](_0xe5be95(0x2d2)),fileInputArea=document[_0xe5be95(0x7e4)](_0xe5be95(0x4a8)),fileUploadInput=document['getElementById'](_0xe5be95(0x50d)),worksheetTab=document[_0xe5be95(0x7e4)](_0xe5be95(0x25c)),worksheetInputArea=document[_0xe5be95(0x7e4)](_0xe5be95(0x579)),generateWorksheetBtn=document[_0xe5be95(0x7e4)](_0xe5be95(0x26a)),studentInitialView=document[_0xe5be95(0x7e4)]('student-initial-view'),studentNameSelectionView=document[_0xe5be95(0x7e4)](_0xe5be95(0x974)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document['getElementById'](_0xe5be95(0xadd)),studentReadingArea=document[_0xe5be95(0x7e4)](_0xe5be95(0x71e)),loadQuizBtn=document['getElementById'](_0xe5be95(0x94d)),startQuizBtn=document['getElementById'](_0xe5be95(0x36f)),studentJoinGameView=document['getElementById'](_0xe5be95(0x1e0)),presentationModal=document[_0xe5be95(0x7e4)](_0xe5be95(0x543)),renameQuizModal=document[_0xe5be95(0x7e4)](_0xe5be95(0x652)),moveQuizModal=document[_0xe5be95(0x7e4)](_0xe5be95(0x393)),quizSettingsModal=document[_0xe5be95(0x7e4)](_0xe5be95(0x982)),quizStatusModal=document[_0xe5be95(0x7e4)]('quiz-status-modal'),liveGameView=document[_0xe5be95(0x7e4)]('live-game-view');function handleAutoFixLatex(){const _0x2efad1=_0xe5be95,_0x23957b=document[_0x2efad1(0x7e4)](_0x2efad1(0xaec))||document,_0x7890f2=_0x23957b[_0x2efad1(0xa16)]([_0x2efad1(0x5b6),_0x2efad1(0x54d),_0x2efad1(0x817),'[role=\x22textbox\x22]','.ql-editor',_0x2efad1(0x723),_0x2efad1(0x770),'.option-text',_0x2efad1(0xaab)][_0x2efad1(0x7c3)](','));let _0x42d0a7=0x0;const _0xedfd60=_0x3747a1=>'value'in _0x3747a1?String(_0x3747a1['value']):_0x3747a1[_0x2efad1(0xaac)]!==undefined?_0x3747a1[_0x2efad1(0xaac)]:_0x3747a1['textContent']||'',_0x5463e6=(_0x238371,_0x4a3b18)=>{const _0x243d7e=_0x2efad1;if(_0x243d7e(0x2cd)in _0x238371){_0x238371[_0x243d7e(0x2cd)]=_0x4a3b18;return;}if(_0x238371[_0x243d7e(0x9e6)]&&_0x238371['querySelector']('mjx-container'))return;if(_0x238371[_0x243d7e(0xaac)]!==undefined)_0x238371[_0x243d7e(0xaac)]=_0x4a3b18;else _0x238371[_0x243d7e(0x5c5)]=_0x4a3b18;},_0x17f126=_0x3d7514=>_0x3d7514[_0x2efad1(0x28b)](/\u00A0/g,'\x20')[_0x2efad1(0x28b)](/\u200B/g,'')[_0x2efad1(0x28b)](/\r\n?/g,'\x0a'),_0x2c66df=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x40d49e=_0x141c11=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x141c11),_0x17416d=_0x1fa614=>{const _0x131018=_0x2efad1,_0x4f86d5=(_0x1fa614[_0x131018(0x954)](/\{/g)||[])[_0x131018(0x630)],_0x1ff75c=(_0x1fa614[_0x131018(0x954)](/\}/g)||[])[_0x131018(0x630)];if(_0x4f86d5>_0x1ff75c)_0x1fa614=_0x1fa614+'}'[_0x131018(0x212)](_0x4f86d5-_0x1ff75c);return _0x1fa614;},_0x5715d0=_0x2c4165=>{const _0x32df7b=_0x2efad1;let _0x48ceae=_0x2c4165[_0x32df7b(0x7ab)]();const _0x30a278=['frac',_0x32df7b(0xa22),_0x32df7b(0x3c7),'sqrt',_0x32df7b(0x428),_0x32df7b(0x6a8),_0x32df7b(0x7d2),_0x32df7b(0x4f2),'leq',_0x32df7b(0x9f9),'le','ge','neq','pm',_0x32df7b(0xa27),_0x32df7b(0x857),_0x32df7b(0x2ca),_0x32df7b(0x95c),_0x32df7b(0xaf9),'ln',_0x32df7b(0x725),_0x32df7b(0x355),_0x32df7b(0x435),'left',_0x32df7b(0x529),_0x32df7b(0x8ae),_0x32df7b(0x57a),'circ',_0x32df7b(0xa31)];_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](new RegExp(_0x32df7b(0x4d1)+_0x30a278['join']('|')+_0x32df7b(0x702),'g'),'\x5c'),_0x30a278[_0x32df7b(0xa64)](_0x151202=>{const _0x295954=_0x32df7b;_0x48ceae=_0x48ceae[_0x295954(0x28b)](new RegExp(_0x295954(0x8cb)+_0x151202+'\x5cb','g'),(_0x536933,_0x3cf6df)=>_0x3cf6df+'\x5c'+_0x151202);});const _0x25d2a0=[[/×/g,_0x32df7b(0x7b1)],[/·/g,_0x32df7b(0x59d)],[/÷/g,_0x32df7b(0xa72)],[/≤/g,_0x32df7b(0x457)],[/≥/g,_0x32df7b(0xb07)],[/≠/g,'\x5cneq'],[/±/g,_0x32df7b(0x594)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x25d2a0['forEach'](([_0x2c7870,_0x20db40])=>{const _0x48c97a=_0x32df7b;_0x48ceae=_0x48ceae[_0x48c97a(0x28b)](_0x2c7870,_0x20db40);}),_0x48ceae=_0x48ceae['replace'](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/√\s*([A-Za-z0-9]+)/g,_0x32df7b(0x498)),_0x48ceae=_0x48ceae['replace'](/(^|[^\\])\bimes\b/g,_0x32df7b(0x20b))[_0x32df7b(0x28b)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x32df7b(0xa33))['replace'](/(^|[^\\])ext\{/g,_0x32df7b(0x8cc))['replace'](/(^|[^\\])ext\(/g,_0x32df7b(0x9c0))['replace'](/\\text\(([^)]*)\)/g,_0x32df7b(0x8ed))['replace'](/\s\\frac/g,'\x5cfrac'),_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x52cf90,_0x34e511,_0x57e2b8,_0x445bf5)=>_0x34e511+'\x5cfrac{'+_0x57e2b8+'}{'+_0x445bf5+'}'),_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x32df7b(0xab1))[_0x32df7b(0x28b)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x32df7b(0xab1))[_0x32df7b(0x28b)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x32df7b(0xab1)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x32df7b(0x916)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x32df7b(0x916)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x32df7b(0x916)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x32df7b(0x916)],[/(\d+)\s*°\s*C/g,_0x32df7b(0x916)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x32df7b(0x7a0)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x32df7b(0x916)]]['forEach'](([_0x4978cd,_0x1a863a])=>{const _0x2f0426=_0x32df7b;_0x48ceae=_0x48ceae[_0x2f0426(0x28b)](_0x4978cd,_0x1a863a);}),_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/(\d+)\s*%/g,_0x32df7b(0x9df)),_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x32df7b(0x41f))[_0x32df7b(0x28b)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x32df7b(0x28b)](/\{\{([^\{\}]+)\}\}/g,_0x32df7b(0x703)),['sin',_0x32df7b(0x2ca),_0x32df7b(0x95c),'log','ln'][_0x32df7b(0xa64)](_0x2c8b3d=>{const _0xe13fdf=_0x32df7b;_0x48ceae=_0x48ceae[_0xe13fdf(0x28b)](new RegExp(_0xe13fdf(0x8cb)+_0x2c8b3d+_0xe13fdf(0x7a5),'g'),(_0x5ec971,_0xf8ae9c)=>_0xf8ae9c+'\x5c'+_0x2c8b3d+'(');});const _0xb872db=(_0x48ceae[_0x32df7b(0x954)](/\\left\b/g)||[])['length'],_0x29c71b=(_0x48ceae['match'](/\\right\b/g)||[])[_0x32df7b(0x630)];if(_0xb872db!==_0x29c71b)_0x48ceae=_0x48ceae[_0x32df7b(0x28b)](/\\left\b/g,'')[_0x32df7b(0x28b)](/\\right\b/g,'');return _0x48ceae=_0x17416d(_0x48ceae),_0x48ceae;},_0x5eaf2a=_0xe57a37=>{const _0x55620c=_0x2efad1;if(/\$|\\\(|\\\[/['test'](_0xe57a37))return _0xe57a37;if(!_0x2c66df['test'](_0xe57a37))return _0xe57a37;const _0x3c6fcd=_0xe57a37[_0x55620c(0x954)](/^\s*/)[0x0],_0x54cbae=_0xe57a37[_0x55620c(0x954)](/\s*$/)[0x0],_0x1bdf85=_0xe57a37['trim']();return _0x3c6fcd+'$'+_0x5715d0(_0x1bdf85)+'$'+_0x54cbae;},_0x1a1397=_0x31cf17=>_0x31cf17[_0x2efad1(0x8a4)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x7890f2[_0x2efad1(0xa64)](_0x4766ec=>{const _0x41ae4d=_0x2efad1;if(_0x4766ec[_0x41ae4d(0x9e6)]&&_0x4766ec[_0x41ae4d(0x9e6)](_0x41ae4d(0x80b)))return;const _0x290920=_0xedfd60(_0x4766ec);let _0x9f3636=_0x17f126(_0x290920);_0x9f3636=_0x9f3636[_0x41ae4d(0x28b)](/\$\$([\s\S]*?)\$\$/g,(_0xecc1fe,_0x40909f)=>'$$'+_0x5715d0(_0x40909f)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x2c8f7b,_0x340115)=>'$'+_0x5715d0(_0x340115)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x5c7c45,_0x5af628)=>'\x5c('+_0x5715d0(_0x5af628)+'\x5c)')[_0x41ae4d(0x28b)](/\\\[([\s\S]*?)\\\]/g,(_0x1c3910,_0x4a1480)=>'\x5c['+_0x5715d0(_0x4a1480)+'\x5c]');let _0x577bb3=_0x9f3636,_0xb0c09e=0x0;const _0x1fcfbc=_0x5a4b6f=>_0x5a4b6f[_0x41ae4d(0x28b)](/S([^S]{0,2000}?)S/g,(_0x109653,_0x230e4e)=>_0x2c66df['test'](_0x230e4e)?'$'+_0x5715d0(_0x230e4e)+'$':_0x109653);while(_0xb0c09e++<0x14){const _0x2cefe5=_0x1fcfbc(_0x577bb3);if(_0x2cefe5===_0x577bb3)break;_0x577bb3=_0x2cefe5;}_0x9f3636=_0x577bb3,_0x9f3636=_0x9f3636['split']('\x0a')[_0x41ae4d(0x374)](_0x5d3365=>{const _0x17872c=_0x41ae4d;if(!(/[,\u3001，;；]/[_0x17872c(0x712)](_0x5d3365)||/\s(?:และ|หรือ)\s/[_0x17872c(0x712)](_0x5d3365))||!_0x2c66df[_0x17872c(0x712)](_0x5d3365))return _0x5d3365;return _0x1a1397(_0x5d3365)[_0x17872c(0x374)](_0x2b2919=>{const _0x3a50d2=_0x17872c;if(/^\s(?:และ|หรือ)\s$/[_0x3a50d2(0x712)](_0x2b2919)||/^[,\u3001，;；]$/[_0x3a50d2(0x712)](_0x2b2919))return _0x2b2919;return _0x5eaf2a(_0x2b2919);})['join']('');})[_0x41ae4d(0x7c3)]('\x0a'),_0x9f3636=_0x9f3636[_0x41ae4d(0x8a4)]('\x0a')[_0x41ae4d(0x374)](_0x303df5=>{const _0x184595=_0x41ae4d,_0x322e9b=_0x303df5[_0x184595(0x7ab)]();if(!_0x322e9b)return _0x303df5;const _0x5035a0=/\$|\\\(|\\\[/[_0x184595(0x712)](_0x322e9b),_0x17198b=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x322e9b);if(_0x5035a0||!_0x17198b||_0x40d49e(_0x322e9b))return _0x303df5;return _0x303df5[_0x184595(0x28b)](_0x322e9b,'$'+_0x5715d0(_0x322e9b)+'$');})[_0x41ae4d(0x7c3)]('\x0a'),_0x9f3636=_0x9f3636[_0x41ae4d(0x28b)](/(\d+)\s*°\s*C\b/g,(_0x36d9a4,_0xfa58d5,_0x5f411f,_0x403f41)=>{const _0xd0eccd=_0x41ae4d,_0x436063=_0x403f41[_0x5f411f-0x1];if(_0x436063==='$'||_0x436063==='S'||_0x436063==='\x5c')return _0x36d9a4;return'$'+_0xfa58d5+_0xd0eccd(0x490);})[_0x41ae4d(0x28b)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x621063,_0x2469dd,_0xab71f1,_0x28acda)=>{const _0x56f7f8=_0x41ae4d,_0x42fda7=_0x28acda[_0xab71f1-0x1];if(_0x42fda7==='$'||_0x42fda7==='S'||_0x42fda7==='\x5c')return _0x621063;return'$'+_0x2469dd+_0x56f7f8(0x490);})[_0x41ae4d(0x28b)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4e2a32,_0x35e446,_0x9aae3f,_0xf3e7de)=>{const _0x3ccfbd=_0x41ae4d,_0x16a894=_0xf3e7de[_0x9aae3f-0x1];if(_0x16a894==='$'||_0x16a894==='S'||_0x16a894==='\x5c')return _0x4e2a32;return'$'+_0x35e446+_0x3ccfbd(0x490);}),_0x9f3636=_0x9f3636[_0x41ae4d(0x28b)](/\$\s*\$/g,'$$'),_0x9f3636!==_0x290920&&(_0x5463e6(_0x4766ec,_0x9f3636),_0x42d0a7++);});if(_0x42d0a7>0x0){showMessage(_0x2efad1(0x427)+_0x42d0a7+_0x2efad1(0x1f3));try{if(window[_0x2efad1(0x422)]&&MathJax[_0x2efad1(0x32a)])MathJax[_0x2efad1(0x32a)]();window[_0x2efad1(0x99c)]&&typeof renderMathInElement===_0x2efad1(0x446)&&renderMathInElement(_0x23957b,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x11d303){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x495790=_0xe5be95,_0x52edf9=collection(db,'artifacts/'+appId+_0x495790(0xa35));onSnapshot(_0x52edf9,_0x2aae34=>{const _0x2fb2e=_0x495790;customMathTopics=_0x2aae34[_0x2fb2e(0x966)][_0x2fb2e(0x374)](_0x266659=>({'id':_0x266659['id'],..._0x266659[_0x2fb2e(0x291)]()})),renderTopicCheckboxes();},_0x57bc31=>{const _0x3904a3=_0x495790;console[_0x3904a3(0x72a)](_0x3904a3(0x32f),_0x57bc31);});}function handleSelectAllTopics(){const _0x50880e=_0xe5be95,_0x5bff9e=document[_0x50880e(0x7e4)](_0x50880e(0x417)),_0x16c7e4=_0x5bff9e['querySelectorAll'](_0x50880e(0x641));_0x16c7e4[_0x50880e(0xa64)](_0x2c8d48=>{const _0x52a87e=_0x50880e;_0x2c8d48[_0x52a87e(0x4e1)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3a5c5f=_0xe5be95,_0x37a74e=document[_0x3a5c5f(0x7e4)](_0x3a5c5f(0x417)),_0x1fce47=_0x37a74e[_0x3a5c5f(0xa16)](_0x3a5c5f(0x641));_0x1fce47[_0x3a5c5f(0xa64)](_0x37d2e6=>{const _0x5897c3=_0x3a5c5f;_0x37d2e6[_0x5897c3(0x4e1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x16e4da){const _0x583ef5=_0xe5be95;if(!_0x16e4da)return;try{const _0x446dee=doc(db,_0x583ef5(0x62e)+appId+_0x583ef5(0xa35),_0x16e4da);await deleteDoc(_0x446dee),showMessage(_0x583ef5(0x4d4));}catch(_0x5308bb){console[_0x583ef5(0x72a)](_0x583ef5(0x7be),_0x5308bb),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x34c169=_0xe5be95,_0x18b400=document[_0x34c169(0x7e4)](_0x34c169(0x3e3)),_0x410fb2=_0x18b400[_0x34c169(0x2cd)][_0x34c169(0x7ab)]();if(!_0x410fb2){showMessage(_0x34c169(0x9a3));return;}if(!userId){showMessage(_0x34c169(0x739));return;}try{const _0x51a280=collection(db,_0x34c169(0x62e)+appId+_0x34c169(0xa35));await addDoc(_0x51a280,{'name':_0x410fb2,'createdAt':serverTimestamp()}),_0x18b400[_0x34c169(0x2cd)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x410fb2+_0x34c169(0x9e5));}catch(_0x250a56){console[_0x34c169(0x72a)](_0x34c169(0x2ac),_0x250a56),showMessage(_0x34c169(0x796));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x26cc50=_0xc5bf,_0x5e395c=document[_0x26cc50(0x7e4)]('loader'),_0x4a0950=document[_0x26cc50(0x7e4)](_0x26cc50(0x426)),_0x2e9e21=_0x4a0950[_0x26cc50(0x5c5)];_0x5e395c[_0x26cc50(0x683)][_0x26cc50(0x21f)](_0x26cc50(0x80f)),_0x4a0950[_0x26cc50(0x5c5)]=_0x26cc50(0x67b);try{const _0x4b7338=collection(db,'artifacts/'+appId+_0x26cc50(0x721)),_0x22ae08=await getDocs(_0x4b7338);if(_0x22ae08[_0x26cc50(0x466)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x4b83ea=writeBatch(db);let _0x2c6658=0x0;_0x22ae08[_0x26cc50(0xa64)](_0x5867bd=>{const _0x59d232=_0x26cc50,_0x676afd=_0x5867bd[_0x59d232(0x291)](),_0x36b26f=_0x5867bd['id'];if(_0x676afd['questions']&&_0x676afd['questions'][_0x59d232(0x630)]>0x0&&!_0x676afd[_0x59d232(0x7dc)][0x0][_0x59d232(0x772)]('id')){console[_0x59d232(0xaf9)](_0x59d232(0x532)+_0x36b26f+'\x20('+_0x676afd[_0x59d232(0xab8)]+')'),_0x2c6658++;const _0x6f1a20=_0x676afd[_0x59d232(0x7dc)][_0x59d232(0x374)]((_0x130329,_0x5544b8)=>{const _0x4bda10=_0x59d232;return{..._0x130329,'id':_0x130329['id']||'q_'+Date[_0x4bda10(0x46e)]()+'_'+_0x36b26f+'_'+_0x5544b8};}),_0x4d8de5=doc(db,'artifacts/'+appId+_0x59d232(0x721),_0x36b26f);_0x4b83ea[_0x59d232(0x206)](_0x4d8de5,{'questions':_0x6f1a20});}}),_0x2c6658>0x0?(_0x4a0950['textContent']=_0x26cc50(0x3e9)+_0x2c6658+_0x26cc50(0x634),await _0x4b83ea['commit'](),showMessage(_0x26cc50(0xae6)+_0x2c6658+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x499561){console[_0x26cc50(0x72a)]('Error\x20updating\x20old\x20quizzes:',_0x499561),showMessage(_0x26cc50(0xa91)+_0x499561[_0x26cc50(0x88c)]);}finally{_0x5e395c[_0x26cc50(0x683)][_0x26cc50(0x816)](_0x26cc50(0x80f)),_0x4a0950[_0x26cc50(0x5c5)]=_0x2e9e21;}});}async function handleBulkUpdateQuizSettings(){const _0x262279=_0xe5be95,_0x31b636={'shuffle':document[_0x262279(0x7e4)](_0x262279(0x733))[_0x262279(0x2cd)],'resultsDisplay':document[_0x262279(0x7e4)](_0x262279(0x309))[_0x262279(0x2cd)],'loopUntilPass':document[_0x262279(0x7e4)](_0x262279(0x3df))[_0x262279(0x4e1)]},_0x216715=allQuizzesGlobal['length'];showConfirmation(_0x262279(0x787)+_0x216715+_0x262279(0x67c),async()=>{const _0x58771e=_0x262279,_0x521f4d=document[_0x58771e(0x7e4)](_0x58771e(0x659));_0x521f4d['disabled']=!![],_0x521f4d[_0x58771e(0x994)]=_0x58771e(0xa5f);try{const _0x13a1b3=writeBatch(db);allQuizzesGlobal[_0x58771e(0xa64)](_0x7f2e58=>{const _0x41c3a8=_0x58771e,_0x4ca70e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x7f2e58['id']),_0x1a344f={..._0x7f2e58['settings']||{},..._0x31b636};_0x13a1b3[_0x41c3a8(0x206)](_0x4ca70e,{'settings':_0x1a344f});}),await _0x13a1b3[_0x58771e(0x967)](),document[_0x58771e(0x7e4)](_0x58771e(0xabb))['classList'][_0x58771e(0x816)](_0x58771e(0x80f)),showMessage(_0x58771e(0x65c)+_0x216715+_0x58771e(0xa2e));}catch(_0x184e41){console['error'](_0x58771e(0x731),_0x184e41),showMessage(_0x58771e(0x596));}finally{_0x521f4d['disabled']=![],_0x521f4d['innerHTML']=_0x58771e(0x92e);}});}async function handleSaveProjectName(){const _0x2c831b=_0xe5be95,_0x14191e=document[_0x2c831b(0x7e4)](_0x2c831b(0x21d)),_0x489e88=document['getElementById'](_0x2c831b(0x840)),_0x2dd633=_0x14191e[_0x2c831b(0x5c5)][_0x2c831b(0x7ab)]();if(!_0x2dd633||!currentProjectId){showMessage(_0x2c831b(0x5f3)),_0x14191e[_0x2c831b(0x5c5)]=currentProjectData[_0x2c831b(0x7ee)];return;}_0x489e88[_0x2c831b(0x7ac)]=!![],_0x489e88[_0x2c831b(0x994)]=_0x2c831b(0x562);try{const _0x49f9d1=doc(db,_0x2c831b(0x62e)+appId+_0x2c831b(0x7d8),currentProjectId);await updateDoc(_0x49f9d1,{'projectName':_0x2dd633}),currentProjectData&&(currentProjectData[_0x2c831b(0x7ee)]=_0x2dd633),showMessage(_0x2c831b(0x7b4));}catch(_0x4f4f9d){console[_0x2c831b(0x72a)](_0x2c831b(0xa6f),_0x4f4f9d),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x14191e['textContent']=currentProjectData[_0x2c831b(0x7ee)];}finally{_0x489e88[_0x2c831b(0x683)][_0x2c831b(0x816)](_0x2c831b(0x80f)),_0x489e88[_0x2c831b(0x7ac)]=![],_0x489e88[_0x2c831b(0x994)]=_0x2c831b(0x318);}}async function initialize(){const _0xa8052d=_0xe5be95;try{const _0x1759ce=initializeApp(firebaseConfig);db=getFirestore(_0x1759ce),auth=getAuth(_0x1759ce),setupAuthListener(),setupEventListeners(),showView(_0xa8052d(0x923)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x142767){console[_0xa8052d(0x72a)]('Firebase\x20initialization\x20failed:',_0x142767),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x342b57=_0xe5be95,_0x5e3515=document[_0x342b57(0x7e4)](_0x342b57(0xa54));if(!_0x5e3515)return;const _0xd4dfb5=document[_0x342b57(0x7e4)](_0x342b57(0x42f));_0xd4dfb5[_0x342b57(0x7ac)]=!![],_0xd4dfb5[_0x342b57(0x994)]=_0x342b57(0x754);try{const _0x37a3cd=_0x5e3515[_0x342b57(0xa16)](_0x342b57(0xac4)),_0x1e09b2=Array[_0x342b57(0x3dd)](_0x37a3cd)[_0x342b57(0x374)]((_0x2da263,_0x8b0e16)=>{const _0x4fd290=_0x342b57,_0x58952f=_0x2da263[_0x4fd290(0x4ee)][_0x4fd290(0x677)],_0x5ef7ed=_0x2da263['querySelector'](_0x4fd290(0x5b6))['value'];let _0x2473dd=null,_0x5f48f8='';switch(_0x58952f){case _0x4fd290(0x999):const _0x5b060e=_0x2da263[_0x4fd290(0xa16)](_0x4fd290(0x54d));_0x2473dd=Array[_0x4fd290(0x3dd)](_0x5b060e)['map'](_0x391cbf=>_0x391cbf['value']);const _0x5d697d=_0x2da263[_0x4fd290(0x9e6)](_0x4fd290(0x717));_0x5d697d&&(_0x5f48f8=_0x2473dd[parseInt(_0x5d697d[_0x4fd290(0x2cd)])]);break;case'short_answer':_0x5f48f8=_0x2da263[_0x4fd290(0x9e6)]('.ideal-answer-input')[_0x4fd290(0x2cd)];break;case _0x4fd290(0x82f):const _0x5e740c=_0x2da263[_0x4fd290(0x9e6)](_0x4fd290(0x717));_0x5f48f8=_0x5e740c?_0x5e740c[_0x4fd290(0x2cd)]:'';break;case'matching_item':_0x5f48f8=_0x2da263['querySelector'](_0x4fd290(0x3f6))[_0x4fd290(0x2cd)];break;}return{'question':_0x5ef7ed,'options':_0x2473dd,'proposedAnswer':_0x5f48f8};}),_0x4f8f95=_0x342b57(0x632)+JSON[_0x342b57(0x5e9)](_0x1e09b2)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d1a85={'type':_0x342b57(0x1e4),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x342b57(0x9fa)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x342b57(0x5cc)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x342b57(0x4b3),_0x342b57(0x2f3),_0x342b57(0x4b1)]}},_0x3cbdc0=await callAnalysisApi(_0x4f8f95,{'type':'OBJECT','properties':{'result':_0x2d1a85},'required':[_0x342b57(0x5af)]});displayVerificationResultsInEditor(_0x3cbdc0['result']);}catch(_0x5bfc64){console[_0x342b57(0x72a)](_0x342b57(0x3ae),_0x5bfc64),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0xd4dfb5['disabled']=![],_0xd4dfb5[_0x342b57(0x994)]=_0x342b57(0x76f);}}function displayVerificationResultsInEditor(_0x2aebd9){const _0x637492=_0xe5be95;_0x2aebd9[_0x637492(0xa64)](_0x3f6792=>{const _0x5428f6=_0x637492,_0x802742=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x3f6792[_0x5428f6(0x4b3)]+'\x22]');if(!_0x802742)return;const _0x2f1424=_0x802742[_0x5428f6(0x9e6)](_0x5428f6(0x5e7));if(_0x2f1424)_0x2f1424[_0x5428f6(0x21f)]();let _0x22a556='';if(_0x3f6792[_0x5428f6(0x2f3)])_0x22a556=_0x5428f6(0x570);else{const _0x154b4e=_0x3f6792[_0x5428f6(0x523)]?_0x5428f6(0x83e):'';_0x22a556=_0x5428f6(0x766)+_0x154b4e+_0x5428f6(0x9bf)+_0x3f6792['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f6792['suggestedAnswer']?_0x5428f6(0x651)+_0x3f6792[_0x5428f6(0x523)]+_0x5428f6(0x706):'')+_0x5428f6(0x2da);}_0x802742['insertAdjacentHTML']('beforeend',_0x22a556);if(!_0x3f6792[_0x5428f6(0x2f3)]&&_0x3f6792['suggestedAnswer']){const _0x3963ef=_0x802742[_0x5428f6(0x4ee)]['qType'],_0x2ed7fb=_0x222fe9=>{const _0x47a777=_0x5428f6;if(!_0x222fe9)return;_0x222fe9[_0x47a777(0x683)]['add'](_0x47a777(0xaad),_0x47a777(0x9d9),_0x47a777(0x7e0)),setTimeout(()=>{const _0x436df1=_0x47a777;_0x222fe9[_0x436df1(0x683)][_0x436df1(0x21f)](_0x436df1(0xaad));},0x9c4);};if(_0x3963ef===_0x5428f6(0x999)){const _0x4bedae=Array[_0x5428f6(0x3dd)](_0x802742[_0x5428f6(0xa16)](_0x5428f6(0x54d))),_0x259c51=_0x4bedae['findIndex'](_0x250fc1=>_0x250fc1[_0x5428f6(0x2cd)]['trim']()[_0x5428f6(0x7cc)]()===_0x3f6792[_0x5428f6(0x523)][_0x5428f6(0x7ab)]()[_0x5428f6(0x7cc)]());if(_0x259c51!==-0x1){const _0x2a112d=_0x802742['querySelector'](_0x5428f6(0x60d)+_0x259c51+'\x22]');_0x2a112d&&(_0x2a112d[_0x5428f6(0x4e1)]=!![],_0x2ed7fb(_0x2a112d[_0x5428f6(0x518)](_0x5428f6(0x4f2))));}}else{if(_0x3963ef===_0x5428f6(0x4dd)||_0x3963ef==='matching_item'){const _0x54f875=_0x802742['querySelector'](_0x5428f6(0x81e));_0x54f875&&(_0x54f875[_0x5428f6(0x2cd)]=_0x3f6792[_0x5428f6(0x523)],_0x2ed7fb(_0x54f875));}else{if(_0x3963ef===_0x5428f6(0x82f)){const _0x58ce3b=_0x3f6792[_0x5428f6(0x523)][_0x5428f6(0x7ab)]()[_0x5428f6(0x7cc)](),_0x5e19fb=_0x802742['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x58ce3b+'\x22]');_0x5e19fb&&(_0x5e19fb['checked']=!![],_0x2ed7fb(_0x5e19fb[_0x5428f6(0x518)](_0x5428f6(0x4f2))));}}}}}),showMessage(_0x637492(0x364));}async function handleVerifyAnswers(){const _0x4a3c45=_0xe5be95;if(!currentQuizData||!currentQuizData[_0x4a3c45(0x7dc)]){showMessage(_0x4a3c45(0x483));return;}const _0x42750d=document[_0x4a3c45(0x7e4)](_0x4a3c45(0x691));_0x42750d[_0x4a3c45(0x7ac)]=!![],_0x42750d['innerHTML']=_0x4a3c45(0x754);try{const _0x30633e=currentQuizData[_0x4a3c45(0x7dc)][_0x4a3c45(0x374)]((_0x5df1d2,_0x2c669f)=>{const _0x5a0c52=_0x4a3c45;let _0x307a19='';const _0x5256c9=_0x5df1d2[_0x5a0c52(0x832)]||currentQuizData[_0x5a0c52(0x519)];switch(_0x5256c9){case _0x5a0c52(0x999):_0x307a19=_0x5df1d2[_0x5a0c52(0x93f)][_0x5df1d2[_0x5a0c52(0x60e)]];break;case'short_answer':_0x307a19=_0x5df1d2[_0x5a0c52(0x6c1)];break;case _0x5a0c52(0x82f):_0x307a19=_0x5df1d2[_0x5a0c52(0x5ee)]['toString']();break;case'matching_item':_0x307a19=_0x5df1d2[_0x5a0c52(0x933)];break;}return{'question':_0x5df1d2[_0x5a0c52(0xae3)]||_0x5df1d2[_0x5a0c52(0x821)],'options':_0x5df1d2[_0x5a0c52(0x93f)]||null,'proposedAnswer':_0x307a19};}),_0x5ab159=_0x4a3c45(0x3d4)+JSON[_0x4a3c45(0x5e9)](_0x30633e)+_0x4a3c45(0x62c),_0xe0b971={'type':_0x4a3c45(0x1e4),'items':{'type':_0x4a3c45(0x253),'properties':{'questionIndex':{'type':_0x4a3c45(0x9fa)},'isCorrect':{'type':_0x4a3c45(0x602)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x4a3c45(0x5cc)}},'required':[_0x4a3c45(0x4b3),_0x4a3c45(0x2f3),_0x4a3c45(0x4b1)]}},_0x198768=await callAnalysisApi(_0x5ab159,{'type':_0x4a3c45(0x253),'properties':{'result':_0xe0b971},'required':[_0x4a3c45(0x5af)]});displayVerificationResults(_0x198768['result']);}catch(_0x39e825){console[_0x4a3c45(0x72a)](_0x4a3c45(0x6e5),_0x39e825),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x42750d[_0x4a3c45(0x7ac)]=![],_0x42750d[_0x4a3c45(0x994)]=_0x4a3c45(0xa7c);}}function displayVerificationResults(_0x50f3fa){const _0x50506b=_0xe5be95;_0x50f3fa[_0x50506b(0xa64)](_0x5a91dc=>{const _0x1a5215=_0x50506b,_0x325433=document[_0x1a5215(0x9e6)](_0x1a5215(0x558)+_0x5a91dc[_0x1a5215(0x4b3)]+'\x22]');if(_0x325433){const _0x2984a9=_0x325433[_0x1a5215(0x9e6)]('.verification-result');if(_0x2984a9)_0x2984a9[_0x1a5215(0x21f)]();let _0x40557f='';_0x5a91dc[_0x1a5215(0x2f3)]?_0x40557f=_0x1a5215(0x763):_0x40557f=_0x1a5215(0x240)+_0x5a91dc['justification']+_0x1a5215(0x92d)+(_0x5a91dc[_0x1a5215(0x523)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5a91dc[_0x1a5215(0x523)]+_0x1a5215(0x706):'')+_0x1a5215(0x574),_0x325433['insertAdjacentHTML'](_0x1a5215(0xa11),_0x40557f);}}),showMessage(_0x50506b(0x364));}function compareNumericalAnswers(_0x3c9a50,_0x458bcc){const _0x20eb63=_0xe5be95,_0x325a72=String(_0x3c9a50)[_0x20eb63(0x28b)](',','.')['replace'](/[^\d.-]/g,'')[_0x20eb63(0x7ab)](),_0xa42d39=String(_0x458bcc)[_0x20eb63(0x28b)](',','.')[_0x20eb63(0x28b)](/[^\d.-]/g,'')['trim']();if(_0x325a72===''||_0xa42d39==='')return![];const _0x12ce6d=parseFloat(_0x325a72),_0x37a25a=parseFloat(_0xa42d39);if(isNaN(_0x12ce6d)||isNaN(_0x37a25a))return![];return Math[_0x20eb63(0x3d5)](_0x12ce6d-_0x37a25a)<0.001;}async function gradeShortAnswer(_0x2980ff,_0x18a9ab){const _0x4f2022=_0xe5be95,_0x35d320=_0x18a9ab[_0x4f2022(0x6c1)];if(String(_0x2980ff)[_0x4f2022(0x7ab)]()[_0x4f2022(0x7cc)]()===String(_0x35d320)[_0x4f2022(0x7ab)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x2980ff,_0x35d320))return!![];return console[_0x4f2022(0xaf9)](_0x4f2022(0x2ad)),await gradeShortAnswerWithAI(_0x2980ff,_0x35d320);}async function revealAnswerForAdmin(_0x96114c,_0x54b9e0){const _0x20b387=_0xe5be95,_0x4c2824=doc(db,_0x20b387(0x62e)+appId+_0x20b387(0xa4c),currentLiveGameId);await updateDoc(_0x4c2824,{'questionStatus':_0x20b387(0x3da)});}function showTop5LeaderboardView(_0x2238a2){const _0x4d9130=_0xe5be95,_0x442d6a=Object[_0x4d9130(0x605)](_0x2238a2[_0x4d9130(0x444)]||{})[_0x4d9130(0x670)](_0x13d295=>_0x13d295[_0x4d9130(0x216)]==='active');_0x442d6a[_0x4d9130(0x6a1)]((_0x3838f,_0x201ce1)=>_0x201ce1[_0x4d9130(0x32e)]-_0x3838f['score']);const _0x4f1c57=_0x442d6a['slice'](0x0,0x5),_0x5e215e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f1c57['map']((_0x58660c,_0x300f33)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x300f33+0x1)+'.\x20'+(_0x58660c[_0x4d9130(0x252)]||Object[_0x4d9130(0x487)](_0x2238a2['players'])['find'](_0x406e8c=>_0x2238a2[_0x4d9130(0x444)][_0x406e8c]===_0x58660c))+_0x4d9130(0x359)+_0x58660c[_0x4d9130(0x32e)]+_0x4d9130(0x528))[_0x4d9130(0x7c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2238a2[_0x4d9130(0x3e5)]+0x1===currentQuizData[_0x4d9130(0x7dc)]['length']?'สรุปผลสุดท้าย':_0x4d9130(0x311))+_0x4d9130(0x82a);liveGameView['innerHTML']=_0x5e215e,document[_0x4d9130(0x7e4)]('goto-next-question-btn')[_0x4d9130(0x8c2)]('click',async()=>{const _0x388b75=_0x4d9130,_0xbfde4e=doc(db,_0x388b75(0x62e)+appId+_0x388b75(0xa4c),currentLiveGameId),_0x1ffb6e=_0x2238a2['currentQuestionIndex']+0x1;if(_0x1ffb6e<currentQuizData[_0x388b75(0x7dc)][_0x388b75(0x630)]){const _0x439728={'currentQuestionIndex':_0x1ffb6e,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x388b75(0x6e7)};Object['keys'](_0x2238a2[_0x388b75(0x444)])[_0x388b75(0xa64)](_0x304f3a=>{const _0x748d15=_0x388b75;_0x439728[_0x748d15(0x35c)+_0x304f3a+_0x748d15(0x9ae)]=![];}),await updateDoc(_0xbfde4e,_0x439728);}else await updateDoc(_0xbfde4e,{'status':_0x388b75(0x3d2)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x502372=>{const _0x353bb4=_0xc5bf;if(_0x502372){userId=_0x502372['uid'],userIdDisplay[_0x353bb4(0x5c5)]=userId;const _0xbc4efd=await loadUserPreferences();_0xbc4efd[_0x353bb4(0x425)]&&(document['getElementById'](_0x353bb4(0x71c))[_0x353bb4(0x2cd)]=_0xbc4efd['projectSortOrder']);globalDashboardSettings['projectView']=_0xbc4efd[_0x353bb4(0x304)]||_0x353bb4(0xa93);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x5769a2,_0x162bfd){const _0x1b749d=_0xe5be95;if(!userId)return;try{const _0x20d5d9=doc(db,_0x1b749d(0x62e)+appId+_0x1b749d(0x37d)+userId+_0x1b749d(0x3c2)),_0x33ebe9={};_0x33ebe9[_0x5769a2]=_0x162bfd,await setDoc(_0x20d5d9,_0x33ebe9,{'merge':!![]});}catch(_0x1882f6){console[_0x1b749d(0x72a)](_0x1b749d(0x874),_0x1882f6);}}async function loadUserPreferences(){const _0x311732=_0xe5be95;if(!userId)return{};try{const _0x85c4b=doc(db,'artifacts/'+appId+_0x311732(0x37d)+userId+'/preferences/main'),_0x5e5bee=await getDoc(_0x85c4b);if(_0x5e5bee[_0x311732(0xafe)]())return _0x5e5bee[_0x311732(0x291)]();return{};}catch(_0x4bab6e){return console[_0x311732(0x72a)]('Error\x20loading\x20user\x20preferences:',_0x4bab6e),{};}}function showPodiumView(_0x274d62,_0x193145=_0xe5be95(0x2f1)){const _0x37e891=_0xe5be95,_0x431f4e=Object[_0x37e891(0x2f4)](_0x274d62)[_0x37e891(0x374)](([_0x20c8cb,_0x284165])=>({'name':_0x20c8cb,'score':_0x284165[_0x37e891(0x32e)]||0x0,'badges':_0x284165[_0x37e891(0x7d4)]||[],'hasPerfectScoreBonus':_0x284165[_0x37e891(0x5ed)]||![]}));_0x431f4e[_0x37e891(0x6a1)]((_0x388ff6,_0x31d817)=>{const _0x1cce4f=_0x37e891,_0x1f2c33=_0x31d817[_0x1cce4f(0x32e)]-_0x388ff6[_0x1cce4f(0x32e)];if(_0x1f2c33!==0x0)return _0x1f2c33;return(_0x31d817[_0x1cce4f(0x7d4)][_0x1cce4f(0x630)]||0x0)-(_0x388ff6['badges'][_0x1cce4f(0x630)]||0x0);});const _0x522e85=_0x44d06a=>{const _0x5c51a2=_0x37e891;if(!_0x44d06a||_0x44d06a['length']===0x0)return'';const _0x5468a3={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x44d06a[_0x5c51a2(0x374)](_0x356efa=>_0x5468a3[_0x356efa]||'')[_0x5c51a2(0x7c3)]('')+_0x5c51a2(0x598);},_0x3e80f3=_0x431f4e[_0x37e891(0xa51)](0x3),_0x4037b6=_0x3e80f3[_0x37e891(0x630)]>0x0?_0x37e891(0x298)+_0x3e80f3[_0x37e891(0x374)]((_0x2018a7,_0x4ca175)=>{const _0x54d45d=_0x37e891,_0x2b7437=_0x2018a7[_0x54d45d(0x5ed)]?_0x54d45d(0x720):'';return _0x54d45d(0xac8)+(_0x4ca175+0x4)+_0x54d45d(0x23a)+_0x2018a7[_0x54d45d(0x252)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x2018a7[_0x54d45d(0x32e)]+_0x54d45d(0x671)+_0x2b7437+_0x54d45d(0xa19);})[_0x37e891(0x7c3)]('')+_0x37e891(0x4c3):'',_0x1716d5=_0x37e891(0x5a3)+(_0x431f4e[0x1]?_0x37e891(0xa87)+_0x431f4e[0x1][_0x37e891(0x252)]+_0x37e891(0x706)+_0x522e85(_0x431f4e[0x1][_0x37e891(0x7d4)])+'<p\x20class=\x22text-xl\x22>'+_0x431f4e[0x1][_0x37e891(0x32e)]+_0x37e891(0x671)+(_0x431f4e[0x1]['hasPerfectScoreBonus']?_0x37e891(0x693):'')+_0x37e891(0xaf6):'<div\x20class=\x22flex-1\x22></div>')+_0x37e891(0x215)+(_0x431f4e[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x431f4e[0x0][_0x37e891(0x252)]+_0x37e891(0x706)+_0x522e85(_0x431f4e[0x0][_0x37e891(0x7d4)])+'<p\x20class=\x22text-2xl\x22>'+_0x431f4e[0x0][_0x37e891(0x32e)]+_0x37e891(0x671)+(_0x431f4e[0x0][_0x37e891(0x5ed)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x37e891(0x215)+(_0x431f4e[0x2]?_0x37e891(0x680)+_0x431f4e[0x2][_0x37e891(0x252)]+'</p>'+_0x522e85(_0x431f4e[0x2][_0x37e891(0x7d4)])+_0x37e891(0x4d5)+_0x431f4e[0x2]['score']+_0x37e891(0x671)+(_0x431f4e[0x2][_0x37e891(0x5ed)]?_0x37e891(0x693):'')+_0x37e891(0x8aa):_0x37e891(0x45c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4037b6+_0x37e891(0x63a)+(currentMode==='admin'?_0x37e891(0x2d4):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x37e891(0xa70);liveGameView['innerHTML']=_0x1716d5,currentMode===_0x37e891(0x46b)&&document['getElementById'](_0x37e891(0x64e))['addEventListener'](_0x37e891(0x75b),async()=>{const _0xe82247=_0x37e891;let _0x33f1d3;_0x193145==='sync'?_0x33f1d3=doc(db,'artifacts/'+appId+_0xe82247(0xa21),currentLiveGameId):_0x33f1d3=doc(db,'artifacts/'+appId+_0xe82247(0xa4c),currentLiveGameId),await deleteDoc(_0x33f1d3);});}function renderSyncSummaryView(_0x456a70,_0x1d2a89,_0x3fa412){const _0x7684ae=_0xe5be95,_0x478b5f=Object['values'](_0x456a70['players']||{}),_0x36d4a5=_0x1d2a89[_0x7684ae(0x93f)]||[],_0x575f96=new Array(_0x36d4a5[_0x7684ae(0x630)])[_0x7684ae(0x989)](0x0),_0x5c76d6={};_0x36d4a5['forEach']((_0x136746,_0x2206aa)=>{_0x5c76d6[_0x2206aa]=[];}),Object[_0x7684ae(0x2f4)](_0x456a70[_0x7684ae(0x444)]||{})[_0x7684ae(0xa64)](([_0x13e9cb,_0x44c10a])=>{const _0x462c7a=_0x7684ae;if(_0x44c10a[_0x462c7a(0x216)]!==_0x462c7a(0x758)&&_0x44c10a[_0x462c7a(0x872)]!==undefined&&_0x44c10a[_0x462c7a(0x872)]!==null){const _0x46a96c=_0x44c10a[_0x462c7a(0x872)];_0x5c76d6[_0x46a96c]!==undefined&&(_0x5c76d6[_0x46a96c][_0x462c7a(0x4a9)](_0x13e9cb),_0x575f96[_0x46a96c]++);}});let _0x5848a9='';_0x3fa412?_0x5848a9=_0x7684ae(0x474):_0x5848a9=_0x7684ae(0x2dd);const _0x214a56='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x1d2a89[_0x7684ae(0x821)]+_0x7684ae(0x37f)+_0x575f96['map']((_0x3db88b,_0xd21a19)=>{const _0x565974=_0x7684ae,_0x483985=_0x5c76d6[_0xd21a19][_0x565974(0x630)]>0x0?_0x5c76d6[_0xd21a19][_0x565974(0x7c3)](',\x20'):_0x565974(0x8be),_0x158cf6=_0x565974(0xb02);return _0x565974(0x1fb)+_0x3db88b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x158cf6+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0xd21a19+_0x565974(0x786)+_0x36d4a5[_0xd21a19]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0xd21a19+_0x565974(0xa9b)+_0x483985+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5848a9+_0x7684ae(0x7b2);liveGameView[_0x7684ae(0x994)]=_0x214a56;if(window[_0x7684ae(0x422)])MathJax[_0x7684ae(0x32a)]();_0x3fa412&&(document[_0x7684ae(0x7e4)](_0x7684ae(0x762))[_0x7684ae(0x8c2)](_0x7684ae(0x75b),async()=>{const _0x2bd6ca=_0x7684ae,_0x5a54a7=doc(db,_0x2bd6ca(0x62e)+appId+_0x2bd6ca(0xa21),currentLiveGameId);await updateDoc(_0x5a54a7,{'status':_0x2bd6ca(0x7de)});}),document['getElementById'](_0x7684ae(0x6b7))[_0x7684ae(0x844)]=()=>{openScratchpad(_0x1d2a89,_0x36d4a5);});}async function handleShowStudentRankings(){const _0xf505ab=_0xe5be95,_0x577940=document[_0xf505ab(0x9e6)](_0xf505ab(0x338));_0x577940&&(_0x577940[_0xf505ab(0x994)]=_0xf505ab(0x581));const _0x1061ac=document[_0xf505ab(0x9e6)](_0xf505ab(0x9dd));_0x1061ac&&(_0x1061ac[_0xf505ab(0x994)]=_0xf505ab(0x582));const _0x3d6268=document[_0xf505ab(0x7e4)](_0xf505ab(0x55b));_0x3d6268['classList'][_0xf505ab(0x21f)]('hidden'),document[_0xf505ab(0x7e4)](_0xf505ab(0x6e2))[_0xf505ab(0x844)]=()=>_0x3d6268['classList'][_0xf505ab(0x816)](_0xf505ab(0x80f));const _0x2dbe8c=document[_0xf505ab(0x7e4)](_0xf505ab(0x3b6)),_0x4e1117=document[_0xf505ab(0x7e4)](_0xf505ab(0xa5a)),_0x325a2b=document[_0xf505ab(0x7e4)](_0xf505ab(0x35a)),_0x5a454e=document[_0xf505ab(0x7e4)](_0xf505ab(0x38a));_0x2dbe8c['onclick']=()=>{const _0x15c7f2=_0xf505ab;_0x2dbe8c[_0x15c7f2(0x683)]['add'](_0x15c7f2(0x245)),_0x4e1117[_0x15c7f2(0x683)][_0x15c7f2(0x21f)](_0x15c7f2(0x245)),_0x325a2b[_0x15c7f2(0x683)][_0x15c7f2(0x21f)](_0x15c7f2(0x80f)),_0x5a454e[_0x15c7f2(0x683)]['add'](_0x15c7f2(0x80f));},_0x4e1117['onclick']=()=>{const _0x22fbe4=_0xf505ab;_0x4e1117[_0x22fbe4(0x683)][_0x22fbe4(0x816)](_0x22fbe4(0x245)),_0x2dbe8c['classList']['remove']('active'),_0x5a454e['classList'][_0x22fbe4(0x21f)](_0x22fbe4(0x80f)),_0x325a2b[_0x22fbe4(0x683)]['add'](_0x22fbe4(0x80f));};try{const _0x33882e=collection(db,_0xf505ab(0x62e)+appId+_0xf505ab(0x9f7)+currentQuizData['id']+_0xf505ab(0xa52)),_0x263228=await getDocs(_0x33882e),_0x2ed8b1=_0x263228['docs'][_0xf505ab(0x374)](_0x18a4c5=>_0x18a4c5[_0xf505ab(0x291)]());renderQuizLeaderboard(_0x2ed8b1,currentQuizData,_0xf505ab(0xa32));const _0x20bcc8=collection(db,_0xf505ab(0x62e)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0xf505ab(0x45f)),_0x1d7e22=await getDocs(_0x20bcc8),_0x15d95d=_0x1d7e22[_0xf505ab(0x966)][_0xf505ab(0x374)](_0x48dfe8=>_0x48dfe8[_0xf505ab(0x291)]());renderLeaderboard(_0x15d95d,_0xf505ab(0x64f));}catch(_0x172ba9){console[_0xf505ab(0x72a)](_0xf505ab(0x2bc),_0x172ba9),showMessage(_0xf505ab(0x57b));}}async function handleSaveToBank(_0x24abaf){const _0x470e58=_0xe5be95,_0x506d96=_0x24abaf[_0x470e58(0x429)],_0x2232af=_0x506d96[_0x470e58(0x4ee)][_0x470e58(0x72e)],_0x164abb=currentQuizData[_0x470e58(0x7dc)][_0x2232af];if(!userId){showMessage(_0x470e58(0x6d0));return;}try{const _0x3bfab7={..._0x164abb,'originalTopic':currentQuizData[_0x470e58(0xab8)],'savedAt':serverTimestamp()},_0x3b5fcd=collection(db,'artifacts/'+appId+_0x470e58(0x37d)+userId+_0x470e58(0x67f));await addDoc(_0x3b5fcd,_0x3bfab7),showMessage(_0x470e58(0x6d7)),_0x506d96['classList'][_0x470e58(0x21f)](_0x470e58(0x63d)),_0x506d96['classList']['add'](_0x470e58(0x759)),_0x506d96[_0x470e58(0x7ac)]=!![];}catch(_0xbf2927){console[_0x470e58(0x72a)](_0x470e58(0x5ac),_0xbf2927),showMessage(_0x470e58(0x418));}}function listenForStarredQuizzes(){const _0x171403=_0xe5be95;if(!userId)return;const _0x40fb9b=collection(db,_0x171403(0x62e)+appId+_0x171403(0x721)),_0x7ba1df=query(_0x40fb9b,where(_0x171403(0xae2),'==',!![]));onSnapshot(_0x7ba1df,_0xc835d3=>{const _0xfcac30=_0x171403;starredQuizzes=_0xc835d3[_0xfcac30(0x966)][_0xfcac30(0x374)](_0x323d0f=>({'id':_0x323d0f['id'],..._0x323d0f[_0xfcac30(0x291)]()})),currentProjectId===_0xfcac30(0x79e)?renderQuizzes():renderProjects();},_0x3704bd=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3704bd);});}function exportQuizAsWorksheetPDF(){const _0xaffc42=_0xe5be95;if(!currentQuizData||!currentQuizData[_0xaffc42(0x7dc)]){showMessage(_0xaffc42(0x8ff));return;}const _0x5754f0=currentQuizData,_0x345d9c=window[_0xaffc42(0xa90)]('',_0xaffc42(0x392)),_0x8f1f6e=_0x4ccc98=>String[_0xaffc42(0x1e9)](0x41+_0x4ccc98),_0x2dfc35='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x5754f0[_0xaffc42(0xab8)]+_0xaffc42(0x2b3)+_0x5754f0[_0xaffc42(0xab8)]+_0xaffc42(0x3b4)+_0x5754f0[_0xaffc42(0x7dc)]['map']((_0x447279,_0x1d77f4)=>{const _0x35254e=_0xaffc42;let _0x4e64c7='';const _0x62d490=_0x447279['questionType']||_0x5754f0[_0x35254e(0x519)];switch(_0x62d490){case _0x35254e(0x999):case _0x35254e(0x4d7):_0x4e64c7=_0x35254e(0x4f9)+_0x447279['options'][_0x35254e(0x374)]((_0x1585ef,_0x4ef18f)=>_0x35254e(0x295)+_0x8f1f6e(_0x4ef18f)+'.\x20'+_0x1585ef+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35254e(0x7c3)](_0x35254e(0xa0b))+'</div>';break;case _0x35254e(0x82f):_0x4e64c7=_0x35254e(0x282);break;default:_0x4e64c7=_0x35254e(0x1ea);break;}return _0x35254e(0x3d8)+(_0x1d77f4+0x1)+_0x35254e(0x875)+(_0x447279[_0x35254e(0xae3)]||_0x447279['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x447279['imageCode']?_0x35254e(0x6c9)+_0x447279[_0x35254e(0x82b)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e64c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0xaffc42(0x987);_0x345d9c[_0xaffc42(0xa1c)][_0xaffc42(0x27e)](_0x2dfc35),_0x345d9c['document'][_0xaffc42(0x8fb)](),_0x345d9c['onload']=function(){setTimeout(()=>{_0x345d9c['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x49a33e=_0xe5be95;if(!currentQuizData||!currentQuizData[_0x49a33e(0x7dc)]){showMessage(_0x49a33e(0x8ff));return;}const _0x2e163b=currentQuizData,_0x3e2dcf=window['open']('',_0x49a33e(0x392)),_0x475bfd=_0x270c9e=>String[_0x49a33e(0x1e9)](0x41+_0x270c9e),_0x322376='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x2e163b[_0x49a33e(0xab8)]+_0x49a33e(0x280)+_0x2e163b[_0x49a33e(0x7dc)][_0x49a33e(0x374)]((_0x3ae810,_0x48e20f)=>{const _0x497742=_0x49a33e;let _0x43d9e9='';const _0x2294e3=_0x3ae810['questionType']||_0x2e163b[_0x497742(0x519)];switch(_0x2294e3){case _0x497742(0x999):case _0x497742(0x4d7):_0x43d9e9=_0x497742(0x508)+_0x3ae810[_0x497742(0x93f)][_0x497742(0x374)]((_0x5d5ed1,_0x211687)=>_0x497742(0x75d)+_0x475bfd(_0x211687)+'.\x20'+_0x5d5ed1+_0x497742(0x2cf))[_0x497742(0x7c3)]('<br>')+_0x497742(0x2da);break;case _0x497742(0x82f):_0x43d9e9=_0x497742(0x6af);break;default:_0x43d9e9='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x2e163b[_0x497742(0xab8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x48e20f+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x3ae810['stem']||_0x3ae810['questionText'])+_0x497742(0x5cb)+(_0x3ae810[_0x497742(0x82b)]?'<div\x20class=\x22my-6\x22>'+_0x3ae810[_0x497742(0x82b)]+_0x497742(0x598):'')+_0x497742(0xacd)+_0x43d9e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x49a33e(0x7c3)]('')+_0x49a33e(0x526);_0x3e2dcf[_0x49a33e(0xa1c)][_0x49a33e(0x27e)](_0x322376),_0x3e2dcf[_0x49a33e(0xa1c)][_0x49a33e(0x8fb)](),_0x3e2dcf[_0x49a33e(0x25a)]=function(){setTimeout(()=>{const _0x3a9be9=_0xc5bf;_0x3e2dcf[_0x3a9be9(0x63c)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2d01c6){const _0x1856c8=_0xe5be95,_0x4ecb37=doc(db,_0x1856c8(0x62e)+appId+_0x1856c8(0x721),_0x2d01c6);try{const _0x20860d=await getDoc(_0x4ecb37);if(_0x20860d['exists']()){const _0x2f5b67=_0x20860d['data']()[_0x1856c8(0xae2)]||![];await updateDoc(_0x4ecb37,{'isStarred':!_0x2f5b67});}}catch(_0x3b4e3b){console[_0x1856c8(0x72a)](_0x1856c8(0x831),_0x3b4e3b),showMessage(_0x1856c8(0x3ff));}}async function displayQuestionBank(){const _0x3501a5=_0xe5be95,_0x351dc7=document['getElementById'](_0x3501a5(0x41a));_0x351dc7[_0x3501a5(0x994)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1de280=collection(db,_0x3501a5(0x62e)+appId+'/users/'+userId+_0x3501a5(0x67f)),_0xd9ea1d=query(_0x1de280),_0x2d0c67=await getDocs(_0xd9ea1d);if(_0x2d0c67[_0x3501a5(0x466)]){_0x351dc7[_0x3501a5(0x994)]=_0x3501a5(0xa18);return;}let _0x57dacb=_0x2d0c67[_0x3501a5(0x966)][_0x3501a5(0x374)](_0x47cc18=>{const _0x1ea1da=_0x3501a5,_0x152947=_0x47cc18[_0x1ea1da(0x291)](),_0x4c98a5=_0x47cc18['id'];return _0x1ea1da(0x5b4)+JSON[_0x1ea1da(0x5e9)](_0x152947)+_0x1ea1da(0x907)+(_0x152947[_0x1ea1da(0x821)]||_0x152947[_0x1ea1da(0xae3)])+_0x1ea1da(0x8d9)+_0x152947[_0x1ea1da(0x946)]+_0x1ea1da(0x732);})[_0x3501a5(0x7c3)]('');_0x351dc7['innerHTML']=_0x3501a5(0x4be)+_0x57dacb+_0x3501a5(0x53b),document['getElementById'](_0x3501a5(0x8f2))['addEventListener'](_0x3501a5(0x75b),createQuizFromBank);}catch(_0x573dd2){console[_0x3501a5(0x72a)]('Error\x20displaying\x20question\x20bank:',_0x573dd2),_0x351dc7['innerHTML']=_0x3501a5(0x5ef);}}function showAdminLiveQuestionView(_0x279f10,_0x27a70b,_0x42b01b){const _0x14e684=_0xe5be95,_0x44c0f1=_0x279f10[_0x14e684(0x832)]||currentQuizData[_0x14e684(0x519)];let _0x1a2d97='';if(_0x44c0f1===_0x14e684(0x999)||_0x44c0f1===_0x14e684(0x82f)){const _0x3efb20=_0x44c0f1===_0x14e684(0x82f)?[_0x14e684(0xad8),_0x14e684(0x66a)]:_0x279f10[_0x14e684(0x93f)],_0x1cbec0=_0x44c0f1===_0x14e684(0x82f)?_0x279f10['correctAnswer']?0x0:0x1:_0x279f10[_0x14e684(0x60e)];_0x1a2d97=_0x3efb20[_0x14e684(0x374)]((_0x26d2cf,_0x5f1366)=>_0x14e684(0x92a)+(_0x5f1366===_0x1cbec0)+_0x14e684(0x8bc)+_0x26d2cf+_0x14e684(0x86e))[_0x14e684(0x7c3)]('');}else{if(_0x44c0f1===_0x14e684(0x4b9)){const _0x13db69=_0x279f10[_0x14e684(0x784)]||[];_0x1a2d97=_0x13db69[_0x14e684(0x374)](_0x3f607d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x3f607d===_0x279f10[_0x14e684(0x933)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f607d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x14e684(0x7c3)]('');}}const _0xe8d764=_0x279f10[_0x14e684(0xae3)]||_0x279f10[_0x14e684(0x821)],_0x34648e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x27a70b+0x1)+_0x14e684(0x70f)+_0x42b01b+_0x14e684(0x669)+currentLiveGamePin+_0x14e684(0x6ca)+_0xe8d764+_0x14e684(0x28f)+_0x1a2d97+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x34648e,window['MathJax']&&MathJax[_0x14e684(0x32a)]&&MathJax['typesetPromise']([liveGameView]),document[_0x14e684(0x7e4)](_0x14e684(0x2a4))[_0x14e684(0x8c2)](_0x14e684(0x75b),()=>revealAnswerForAdmin(_0x27a70b,_0x42b01b)),document[_0x14e684(0x7e4)]('end-game-btn')[_0x14e684(0x8c2)](_0x14e684(0x75b),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x58973d=_0xc5bf,_0x47e026=doc(db,_0x58973d(0x62e)+appId+_0x58973d(0xa4c),currentLiveGameId);await updateDoc(_0x47e026,{'status':_0x58973d(0x3d2)});});}),document[_0x14e684(0x7e4)](_0x14e684(0x3f8))[_0x14e684(0x8c2)](_0x14e684(0x75b),()=>{const _0x44477c=_0x14e684;document['getElementById'](_0x44477c(0x5c4))['classList'][_0x44477c(0x459)](_0x44477c(0x80f));});}function showStudentLiveQuestionView(_0x43032d,_0x4241ef,_0x33b133){const _0x1a065c=_0xe5be95,_0xe735d5=_0x43032d['questionType']||currentQuizData[_0x1a065c(0x519)];let _0x4c0535='';if(_0xe735d5==='multiple_choice'||_0xe735d5==='true_false'){const _0x5f4cf1=_0xe735d5==='true_false'?[_0x1a065c(0xad8),_0x1a065c(0x66a)]:_0x43032d['options'];_0x4c0535=_0x5f4cf1[_0x1a065c(0x374)]((_0x3af506,_0x67d592)=>_0x1a065c(0x3fb)+_0x67d592+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3af506+_0x1a065c(0xa4f))[_0x1a065c(0x7c3)]('');}else{if(_0xe735d5===_0x1a065c(0x4b9)){const _0x48ec60=_0x43032d['allResponses']||[];_0x4c0535=_0x48ec60[_0x1a065c(0x374)]((_0x562569,_0x210737)=>_0x1a065c(0x3fb)+_0x210737+_0x1a065c(0x323)+_0x562569+_0x1a065c(0xa4f))['join']('');}else _0xe735d5===_0x1a065c(0x4dd)&&(_0x4c0535=_0x1a065c(0x2d9));}const _0x5aaf8d=_0x43032d[_0x1a065c(0xae3)]||_0x43032d[_0x1a065c(0x821)],_0x391b1c=_0x1a065c(0x2c4)+(_0x4241ef+0x1)+_0x1a065c(0x70f)+_0x33b133+_0x1a065c(0x551)+_0x5aaf8d+_0x1a065c(0x370)+_0x4c0535+_0x1a065c(0x788);liveGameView[_0x1a065c(0x994)]=_0x391b1c;window[_0x1a065c(0x422)]&&MathJax[_0x1a065c(0x32a)]&&MathJax[_0x1a065c(0x32a)]([liveGameView]);const _0x2c4a35=document[_0x1a065c(0x7e4)]('live-submit-short-answer-btn');_0x2c4a35&&_0x2c4a35[_0x1a065c(0x8c2)]('click',()=>{const _0x5bfa8a=_0x1a065c,_0x4a34a9=document[_0x5bfa8a(0x7e4)](_0x5bfa8a(0x9d5))[_0x5bfa8a(0x2cd)];handleLiveAnswer(_0x4a34a9,_0x43032d);}),document['getElementById'](_0x1a065c(0x3ef))[_0x1a065c(0x8c2)](_0x1a065c(0x75b),_0x3c23e0=>{const _0xfc944f=_0x1a065c,_0x1b4640=_0x3c23e0[_0xfc944f(0xa1e)][_0xfc944f(0x518)]('.live-answer-btn');if(_0x1b4640){const _0x49c61a=parseInt(_0x1b4640[_0xfc944f(0x4ee)]['index']);handleLiveAnswer(_0x49c61a,_0x43032d);}});}async function handleLiveAnswer(_0x89f464,_0x4e3219){const _0x460864=_0xe5be95;document['querySelectorAll'](_0x460864(0x39d))[_0x460864(0xa64)](_0x12f608=>_0x12f608['disabled']=!![]);const _0x2f3ebe=_0x4e3219[_0x460864(0x832)]||currentQuizData[_0x460864(0x519)];let _0x39e59e=![],_0xae488d=_0x89f464;if(_0x2f3ebe===_0x460864(0x4dd)){const _0x3f65ab=(_0x89f464||'')[_0x460864(0x59e)]();_0x39e59e=await gradeShortAnswer(_0x3f65ab,_0x4e3219);}else{if(_0x2f3ebe===_0x460864(0x999))_0x39e59e=_0x89f464===_0x4e3219[_0x460864(0x60e)];else{if(_0x2f3ebe===_0x460864(0x82f)){const _0xdf7029=_0x4e3219[_0x460864(0x5ee)];_0x39e59e=_0x89f464===0x0&&_0xdf7029||_0x89f464===0x1&&!_0xdf7029;}else{if(_0x2f3ebe===_0x460864(0x4b9)){const _0x26f21d=_0x4e3219[_0x460864(0x784)][_0x89f464];_0x39e59e=_0x26f21d===_0x4e3219[_0x460864(0x933)],_0xae488d=_0x26f21d;}}}}const _0x453c30=doc(db,_0x460864(0x62e)+appId+'/public/data/liveGames',currentLiveGameId),_0x2918a8={};_0x2918a8[_0x460864(0x35c)+currentStudentName+_0x460864(0x9ae)]=!![],_0x2918a8[_0x460864(0x35c)+currentStudentName+'.lastAnswerCorrect']=_0x39e59e,_0x2918a8[_0x460864(0x35c)+currentStudentName+'.lastAnswerIndex']=_0x2f3ebe===_0x460864(0x4dd)||_0x2f3ebe===_0x460864(0x4b9)?null:_0x89f464,_0x2918a8[_0x460864(0x35c)+currentStudentName+_0x460864(0x785)]=_0xae488d,_0x2918a8['players.'+currentStudentName+_0x460864(0x998)]=serverTimestamp(),_0x2918a8['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x453c30,_0x2918a8),liveGameView[_0x460864(0x994)]=_0x460864(0x44c);}function showAdminSummaryView(_0x36b654,_0x3348ee){const _0x4acc31=_0xe5be95,_0x565839=Object['values'](_0x36b654[_0x4acc31(0x444)]||{}),_0x163a8f=_0x3348ee[_0x4acc31(0x832)]||currentQuizData[_0x4acc31(0x519)],_0x321129=_0x163a8f===_0x4acc31(0x82f)?[_0x4acc31(0xad8),_0x4acc31(0x66a)]:_0x3348ee['options']||_0x3348ee['allResponses']||[],_0x8ab5d0={},_0x1641b1=new Array(_0x321129[_0x4acc31(0x630)])[_0x4acc31(0x989)](0x0);_0x321129[_0x4acc31(0xa64)]((_0x53d925,_0x2055e9)=>{_0x8ab5d0[_0x2055e9]=[];}),Object[_0x4acc31(0x2f4)](_0x36b654[_0x4acc31(0x444)]||{})[_0x4acc31(0xa64)](([_0x2ec320,_0x582ad4])=>{const _0x26d955=_0x4acc31;if(_0x582ad4[_0x26d955(0x216)]===_0x26d955(0x245)&&_0x582ad4[_0x26d955(0x872)]!==undefined){const _0x5aa60e=_0x582ad4[_0x26d955(0x872)];_0x8ab5d0[_0x5aa60e]&&(_0x8ab5d0[_0x5aa60e]['push'](_0x2ec320),_0x1641b1[_0x5aa60e]++);}});const _0x55ce66=Math[_0x4acc31(0x2de)](..._0x1641b1,0x1),_0x493db5=_0x4acc31(0x81d)+(_0x3348ee['stem']||_0x3348ee['questionText'])+_0x4acc31(0x89b)+_0x1641b1[_0x4acc31(0x374)]((_0xf56428,_0x2466b3)=>{const _0x3afa12=_0x4acc31,_0xf1c08b=_0x8ab5d0[_0x2466b3][_0x3afa12(0x630)]>0x0?_0x8ab5d0[_0x2466b3][_0x3afa12(0x7c3)](',\x20'):_0x3afa12(0x8be);let _0x386c2d=![];if(_0x163a8f==='multiple_choice')_0x386c2d=_0x2466b3===_0x3348ee[_0x3afa12(0x60e)];else{if(_0x163a8f===_0x3afa12(0x82f)){const _0x1589a7=_0x3348ee[_0x3afa12(0x5ee)];_0x386c2d=_0x1589a7&&_0x2466b3===0x0||!_0x1589a7&&_0x2466b3===0x1;}else _0x163a8f===_0x3afa12(0x4b9)&&(_0x386c2d=_0x321129[_0x2466b3]===_0x3348ee[_0x3afa12(0x933)]);}const _0x1c123e=_0x386c2d?_0x3afa12(0x366):_0x3afa12(0x9ea);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xf56428+_0x3afa12(0x80a)+_0x1c123e+_0x3afa12(0x576)+_0x2466b3+_0x3afa12(0xa5e)+_0x321129[_0x2466b3]+_0x3afa12(0x94e)+_0x2466b3+_0x3afa12(0xa9b)+_0xf1c08b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4acc31(0x7c3)]('')+_0x4acc31(0x73b);liveGameView[_0x4acc31(0x994)]=_0x493db5;if(window[_0x4acc31(0x422)])MathJax[_0x4acc31(0x32a)]();document[_0x4acc31(0x7e4)]('show-leaderboard-btn')[_0x4acc31(0x8c2)]('click',async()=>{const _0x289e0a=_0x4acc31,_0x21c0bb=doc(db,_0x289e0a(0x62e)+appId+_0x289e0a(0xa4c),currentLiveGameId);await updateDoc(_0x21c0bb,{'questionStatus':_0x289e0a(0x9c1)});}),document[_0x4acc31(0x7e4)](_0x4acc31(0x381))[_0x4acc31(0x8c2)](_0x4acc31(0x75b),()=>{openScratchpad(_0x3348ee,_0x321129);});}function showPlayerSummaryView(_0x30fcac,_0x226e0d){const _0x3db08c=_0xe5be95,_0xa3ca7b=Object['values'](_0x30fcac[_0x3db08c(0x444)]||{}),_0x137aa2=_0x30fcac['players'][_0x226e0d],_0x2b1b16=_0xa3ca7b[_0x3db08c(0x670)](_0x52edef=>_0x52edef[_0x3db08c(0x216)]===_0x3db08c(0x245))[_0x3db08c(0x6a1)]((_0x34976d,_0x544c08)=>_0x544c08[_0x3db08c(0x32e)]-_0x34976d[_0x3db08c(0x32e)]),_0x38a35f=_0x2b1b16[_0x3db08c(0x517)](_0x2fc940=>_0x2fc940===_0x137aa2)+0x1,_0x20f42b=_0x137aa2['lastAnswerCorrect']?_0x3db08c(0x742):_0x3db08c(0x42b),_0xac5dc3=_0x137aa2[_0x3db08c(0x6a9)]?_0x3db08c(0x5b0):_0x3db08c(0x281),_0x656220=_0x137aa2[_0x3db08c(0x819)]||0x0,_0x265098=_0x3db08c(0x51a),_0xf4a737=_0x3db08c(0x5c7)+_0x265098+_0x3db08c(0x52d)+_0xac5dc3+_0x3db08c(0x510)+_0x20f42b+_0x3db08c(0xad6)+_0x656220+_0x3db08c(0x9f6)+(_0x38a35f>0x0?_0x38a35f:'-')+_0x3db08c(0x4e7);liveGameView[_0x3db08c(0x994)]=_0xf4a737;}function createQuizFromBank(){const _0x21d372=_0xe5be95,_0x569e55=document[_0x21d372(0xa16)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x569e55[_0x21d372(0x630)]===0x0){showMessage(_0x21d372(0x66d));return;}const _0xf4d74a=[];_0x569e55['forEach'](_0x1cfbc4=>{const _0x3cc78f=_0x21d372;_0xf4d74a[_0x3cc78f(0x4a9)](JSON[_0x3cc78f(0x62f)](_0x1cfbc4[_0x3cc78f(0x2cd)]));});const _0x1f3b0b={'topic':_0x21d372(0x4aa),'questions':_0xf4d74a};displayGeneratedQuiz(_0x1f3b0b);}function showAdminLobbyView(_0x567e0f,_0x1a977b){const _0x29983b=_0xe5be95;showView(_0x29983b(0x750));const _0x596b09=_0x29983b(0x8a5)+_0x1a977b+_0x29983b(0x60a)+_0x567e0f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x29983b(0x994)]=_0x596b09,document['getElementById']('start-game-btn')[_0x29983b(0x8c2)](_0x29983b(0x75b),async()=>{const _0x319fa9=_0x29983b;if(!currentQuizData||!currentQuizData[_0x319fa9(0x7dc)]||currentQuizData[_0x319fa9(0x7dc)][_0x319fa9(0x630)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x3d4adc=doc(db,_0x319fa9(0x62e)+appId+_0x319fa9(0xa4c),currentLiveGameId);await updateDoc(_0x3d4adc,{'status':_0x319fa9(0x5ca),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x309de1=currentQuizData['questions'][0x0],_0x51574f=currentQuizData[_0x319fa9(0x7dc)][_0x319fa9(0x630)];showAdminLiveQuestionView(_0x309de1,0x0,_0x51574f);}catch(_0x58ce3a){console['error'](_0x319fa9(0x9ad),_0x58ce3a),showMessage(_0x319fa9(0x55d));}});}async function openGlobalLiveModal(){const _0x1eae94=_0xe5be95;if(allQuizzesGlobal[_0x1eae94(0x630)]===0x0){const _0x5d87b7=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5d87b7[_0x1eae94(0x966)][_0x1eae94(0x374)](_0x285a58=>({'id':_0x285a58['id'],..._0x285a58['data']()}));}renderGlobalQuizList(''),document[_0x1eae94(0x7e4)](_0x1eae94(0x324))[_0x1eae94(0x683)][_0x1eae94(0x21f)](_0x1eae94(0x80f));}async function openQuizBankModal(){const _0x5044c1=_0xe5be95;if(allQuizzesGlobal[_0x5044c1(0x630)]===0x0){const _0x363c4d=await getDocs(collection(db,_0x5044c1(0x62e)+appId+_0x5044c1(0x721)));allQuizzesGlobal=_0x363c4d['docs'][_0x5044c1(0x374)](_0x2bc363=>({'id':_0x2bc363['id'],..._0x2bc363['data']()}));}renderQuizBankList(''),document[_0x5044c1(0x7e4)](_0x5044c1(0x9bd))[_0x5044c1(0x683)]['remove']('hidden');}function renderQuizBankList(_0x98c456=''){const _0x4b0e92=_0xe5be95,_0x5a52ec=document[_0x4b0e92(0x7e4)](_0x4b0e92(0x5fb)),_0x28dabf=_0x98c456[_0x4b0e92(0x7cc)]()[_0x4b0e92(0x7ab)](),_0x5c0690=allQuizzesGlobal['map'](_0xa898c=>({..._0xa898c,'projectName':allProjects[_0x4b0e92(0x3fd)](_0x2787aa=>_0x2787aa['id']===_0xa898c[_0x4b0e92(0x6fa)])?.[_0x4b0e92(0x7ee)]||_0x4b0e92(0xb0e)}))[_0x4b0e92(0x670)](_0x2ca9b7=>(_0x2ca9b7['topic']||'')[_0x4b0e92(0x7cc)]()['includes'](_0x28dabf)||(_0x2ca9b7[_0x4b0e92(0x7ee)]||'')[_0x4b0e92(0x7cc)]()[_0x4b0e92(0x365)](_0x28dabf)||_0x2ca9b7['id'][_0x4b0e92(0x59e)]()['includes'](_0x28dabf));document['getElementById'](_0x4b0e92(0x39f))[_0x4b0e92(0x5c5)]='('+_0x5c0690[_0x4b0e92(0x630)]+'\x20ชุด)',_0x5a52ec['innerHTML']=_0x5c0690['length']?_0x5c0690['map'](_0x2fa9de=>_0x4b0e92(0x473)+_0x2fa9de['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2fa9de[_0x4b0e92(0xab8)]||_0x4b0e92(0x203))+_0x4b0e92(0x3b0)+(_0x2fa9de['questions']?.['length']||0x0)+_0x4b0e92(0x91e)+_0x2fa9de['projectName']+_0x4b0e92(0x5a2)+_0x2fa9de['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2fa9de['id']+_0x4b0e92(0xb0c)+_0x2fa9de['id']+_0x4b0e92(0x5f6)+_0x2fa9de['id']+_0x4b0e92(0xa60)+_0x2fa9de['id']+_0x4b0e92(0x68d)+_0x2fa9de['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2fa9de['id']+_0x4b0e92(0x3c4)+_0x2fa9de[_0x4b0e92(0xab8)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join'](''):_0x4b0e92(0x6f9),_0x5a52ec[_0x4b0e92(0xa16)](_0x4b0e92(0xad7))[_0x4b0e92(0xa64)](_0x33ea5b=>{const _0x38200a=_0x4b0e92;_0x33ea5b[_0x38200a(0x8c2)]('click',()=>{const _0x6b68bc=_0x38200a,_0x20e5cc=_0x33ea5b[_0x6b68bc(0x4ee)]['id'];document['getElementById']('quiz-bank-modal')[_0x6b68bc(0x683)][_0x6b68bc(0x816)](_0x6b68bc(0x80f)),showQuizDetailView(_0x20e5cc);});}),_0x5a52ec[_0x4b0e92(0xa16)](_0x4b0e92(0x41b))[_0x4b0e92(0xa64)](_0x2b5aaf=>{const _0x93d048=_0x4b0e92;_0x2b5aaf[_0x93d048(0x8c2)](_0x93d048(0x75b),_0x2941db=>{const _0x538bc6=_0x93d048;_0x2941db[_0x538bc6(0x3de)]();const _0x2e03e8=_0x2b5aaf[_0x538bc6(0x4ee)]['id'],_0x4bb25e=allQuizzesGlobal[_0x538bc6(0x3fd)](_0x1cf0bd=>_0x1cf0bd['id']===_0x2e03e8);_0x4bb25e?(currentQuizData=_0x4bb25e,document['getElementById'](_0x538bc6(0x9bd))[_0x538bc6(0x683)][_0x538bc6(0x816)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5a52ec[_0x4b0e92(0xa16)](_0x4b0e92(0x976))[_0x4b0e92(0xa64)](_0x1ef1f9=>{const _0x492769=_0x4b0e92;_0x1ef1f9[_0x492769(0x8c2)](_0x492769(0x75b),_0x5263fb=>{const _0xefe38=_0x492769;_0x5263fb['stopPropagation']();const _0xbbed32=_0x1ef1f9[_0xefe38(0x4ee)]['id'],_0xb7aef8=allQuizzesGlobal[_0xefe38(0x3fd)](_0x485ae5=>_0x485ae5['id']===_0xbbed32);_0xb7aef8?(document[_0xefe38(0x7e4)](_0xefe38(0x9bd))['classList'][_0xefe38(0x816)](_0xefe38(0x80f)),handleGenerateParallelFromBank(_0xb7aef8)):showMessage(_0xefe38(0x653));});}),_0x5a52ec['querySelectorAll'](_0x4b0e92(0x469))['forEach'](_0x16f625=>{const _0x1753f4=_0x4b0e92;_0x16f625[_0x1753f4(0x8c2)](_0x1753f4(0x75b),_0x1e9be1=>{const _0x219ff1=_0x1753f4;_0x1e9be1[_0x219ff1(0x3de)]();const _0x47fc81=_0x16f625[_0x219ff1(0x4ee)]['id'],_0x481e9e=allQuizzesGlobal['find'](_0x2d6b77=>_0x2d6b77['id']===_0x47fc81);_0x481e9e?(document[_0x219ff1(0x7e4)](_0x219ff1(0x9bd))[_0x219ff1(0x683)][_0x219ff1(0x816)]('hidden'),startPresentation(_0x481e9e)):showMessage(_0x219ff1(0x653));});}),_0x5a52ec[_0x4b0e92(0xa16)](_0x4b0e92(0x27d))[_0x4b0e92(0xa64)](_0x360758=>{const _0x2e46a8=_0x4b0e92;_0x360758[_0x2e46a8(0x8c2)](_0x2e46a8(0x75b),_0x3cb714=>{const _0x2e5e27=_0x2e46a8;_0x3cb714[_0x2e5e27(0x3de)]();const _0xe2647f=_0x360758['dataset']['id'];document[_0x2e5e27(0x7e4)](_0x2e5e27(0x9bd))[_0x2e5e27(0x683)]['add'](_0x2e5e27(0x80f)),handleMoveQuiz(_0xe2647f);});}),_0x5a52ec[_0x4b0e92(0xa16)](_0x4b0e92(0x8cd))['forEach'](_0x49760e=>{const _0x51ed9a=_0x4b0e92;_0x49760e['addEventListener'](_0x51ed9a(0x75b),_0x2be6db=>{const _0x392543=_0x51ed9a;_0x2be6db[_0x392543(0x3de)]();const _0x1dd56a=_0x49760e[_0x392543(0x4ee)]['id'];document['getElementById'](_0x392543(0x9bd))[_0x392543(0x683)][_0x392543(0x816)](_0x392543(0x80f)),handleQuizSettings(_0x1dd56a);});}),_0x5a52ec[_0x4b0e92(0xa16)]('.quiz-bank-delete-btn')[_0x4b0e92(0xa64)](_0x57a9cc=>{const _0x196168=_0x4b0e92;_0x57a9cc[_0x196168(0x8c2)]('click',_0x2d26c8=>{const _0x3a1bdf=_0x196168;_0x2d26c8[_0x3a1bdf(0x3de)]();const _0x47399c=_0x57a9cc[_0x3a1bdf(0x4ee)]['id'],_0x5427a1=_0x57a9cc[_0x3a1bdf(0x4ee)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x5427a1+_0x3a1bdf(0x779),()=>handleDeleteQuiz(_0x47399c));});});}async function handleCompareResults(_0x5678f7,_0x298235){const _0x2bf913=_0xe5be95,_0x319db6=document[_0x2bf913(0x7e4)]('comparison-modal'),_0x1b4e9a=document['getElementById'](_0x2bf913(0xace)),_0x23a952=document['getElementById'](_0x2bf913(0x511));document['getElementById'](_0x2bf913(0x3a8))[_0x2bf913(0x683)][_0x2bf913(0x816)]('active'),document['getElementById'](_0x2bf913(0x2e4))[_0x2bf913(0x683)][_0x2bf913(0x21f)](_0x2bf913(0x245)),_0x1b4e9a[_0x2bf913(0x683)]['remove'](_0x2bf913(0x80f)),_0x23a952[_0x2bf913(0x683)]['add']('hidden'),_0x1b4e9a[_0x2bf913(0x994)]=_0x2bf913(0x75c),_0x23a952[_0x2bf913(0x994)]='',_0x319db6[_0x2bf913(0x683)]['remove'](_0x2bf913(0x80f));try{const _0x55ebac=doc(db,_0x2bf913(0x62e)+appId+_0x2bf913(0x721),_0x5678f7),_0x364c3b=await getDoc(_0x55ebac);if(!_0x364c3b[_0x2bf913(0xafe)]())throw new Error(_0x2bf913(0x623));const _0x51fcba=_0x364c3b[_0x2bf913(0x291)](),_0x348fc9=_0x51fcba[_0x2bf913(0x7dc)][_0x2bf913(0x630)],_0x42be08=collection(db,'artifacts/'+appId+_0x2bf913(0x9f7)+_0x298235+_0x2bf913(0xa52)),_0x2a54f5=collection(db,'artifacts/'+appId+_0x2bf913(0x9f7)+_0x5678f7+_0x2bf913(0xa52)),[_0x29cb95,_0x5209b5]=await Promise['all']([getDocs(_0x42be08),getDocs(_0x2a54f5)]),_0x33a149=_0x29cb95[_0x2bf913(0x966)][_0x2bf913(0x374)](_0x52bd60=>_0x52bd60[_0x2bf913(0x291)]()),_0x5db650=_0x5209b5[_0x2bf913(0x966)][_0x2bf913(0x374)](_0x4a7925=>_0x4a7925[_0x2bf913(0x291)]()),_0x5d7e23=_0x33a149['map'](_0x3ec150=>_0x3ec150[_0x2bf913(0xa2f)]),_0x583ee9=_0x5db650[_0x2bf913(0x374)](_0x36abb4=>_0x36abb4['latestScore']),_0x333e8e=calculateMeanAndStdDev(_0x5d7e23),_0x1ab981=calculateMeanAndStdDev(_0x583ee9),_0x366f22=_0x333e8e['mean'],_0x288594=_0x1ab981['mean'],_0x1a0e1f=_0x288594-_0x366f22;let _0x50d012='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x366f22[_0x2bf913(0x8bb)](0x2)+_0x2bf913(0x3a1)+_0x288594[_0x2bf913(0x8bb)](0x2)+_0x2bf913(0x823)+(_0x1a0e1f>=0x0?'bg-emerald-100':'bg-red-100')+_0x2bf913(0x578)+(_0x1a0e1f>=0x0?_0x2bf913(0xa45):_0x2bf913(0x585))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x1a0e1f>=0x0?_0x2bf913(0x7e9):'text-red-900')+'\x22>'+(_0x1a0e1f>=0x0?'+':'')+_0x1a0e1f['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x1b4e9a['innerHTML']=_0x50d012;const _0x48959c=document[_0x2bf913(0x7e4)](_0x2bf913(0x78e))[_0x2bf913(0x97f)]('2d');if(chartInstances[_0x2bf913(0x5db)])chartInstances['comparison']['destroy']();chartInstances[_0x2bf913(0x5db)]=new Chart(_0x48959c,{'type':_0x2bf913(0x713),'data':{'labels':[_0x2bf913(0x690)],'datasets':[{'label':_0x2bf913(0x83f),'data':[_0x366f22],'backgroundColor':_0x2bf913(0x7dd)},{'label':'หลังเรียน','data':[_0x288594],'backgroundColor':_0x2bf913(0x20e)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x348fc9}}}});const _0x52bed0=currentProjectData[_0x2bf913(0x2f0)]||[],_0x4d71cd=_0x52bed0['map'](_0x5c9215=>{const _0x2db1e5=_0x2bf913,_0x3dd385=_0x33a149['find'](_0x28f786=>_0x28f786[_0x2db1e5(0xa96)]===_0x5c9215),_0x138978=_0x5db650['find'](_0x2d5902=>_0x2d5902[_0x2db1e5(0xa96)]===_0x5c9215),_0x12af46=_0x3dd385?_0x3dd385[_0x2db1e5(0xa2f)]:null,_0x1ebfc5=_0x138978?_0x138978[_0x2db1e5(0xa2f)]:null,_0x30c939=_0x12af46!==null&&_0x1ebfc5!==null?_0x1ebfc5-_0x12af46:null,_0x18e966=_0x12af46!==null?calculateZScore(_0x12af46,_0x333e8e[_0x2db1e5(0x995)],_0x333e8e['stdDev']):null,_0x55b251=_0x1ebfc5!==null?calculateZScore(_0x1ebfc5,_0x1ab981[_0x2db1e5(0x995)],_0x1ab981[_0x2db1e5(0x800)]):null,_0x52b3b3=_0x18e966!==null?calculateTScore(_0x18e966):null,_0x56104d=_0x55b251!==null?calculateTScore(_0x55b251):null,_0x685287=_0x52b3b3!==null&&_0x56104d!==null?_0x56104d-_0x52b3b3:null;return{'name':_0x5c9215,'preScore':_0x12af46,'postScore':_0x1ebfc5,'gain':_0x30c939,'preTScore':_0x52b3b3,'postTScore':_0x56104d,'tGain':_0x685287};});renderIndividualComparisonTable(_0x4d71cd,_0x23a952);}catch(_0x11007b){console[_0x2bf913(0x72a)](_0x2bf913(0x751),_0x11007b),_0x1b4e9a[_0x2bf913(0x994)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x15b2da,_0x22e3bb){const _0x5da2be=_0xe5be95,_0x47c758=_0x15b2da>=_0x22e3bb/0x2,_0x44045c=_0x47c758?_0x5da2be(0x866):_0x5da2be(0x204),_0x1e69e2=_0x47c758?_0x5da2be(0x28a):_0x5da2be(0x504),_0x53de79=_0x47c758?'text-green-800':_0x5da2be(0x585),_0x4b4868=_0x47c758?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x1a207f=_0x47c758?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x5b03e5=_0x5da2be(0x99e)+_0x44045c+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e69e2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x53de79+_0x5da2be(0x29c)+_0x4b4868+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x1a207f+_0x5da2be(0x2ee);studentResultArea[_0x5da2be(0x994)]=_0x5b03e5,studentResultArea[_0x5da2be(0x683)][_0x5da2be(0x21f)]('hidden'),studentQuizArea[_0x5da2be(0x683)][_0x5da2be(0x816)](_0x5da2be(0x80f)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x47c758});}function displayPerfectScoreResult(_0x452e4a,_0x25fed9){const _0x38cd0e=_0xe5be95,_0x3045ad=_0x452e4a===_0x25fed9,_0x22b859=_0x3045ad?_0x38cd0e(0x3d7):_0x38cd0e(0x8eb),_0x127de8=_0x3045ad?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x38cd0e(0x589),_0x1b1616=_0x3045ad?_0x38cd0e(0xae8):_0x38cd0e(0x920),_0x1b6f78=_0x3045ad?_0x38cd0e(0x6ec):_0x38cd0e(0x314),_0x336c33=_0x3045ad?_0x38cd0e(0x45b):_0x38cd0e(0x773);let _0x5c55b7=_0x38cd0e(0x99e)+_0x22b859+_0x38cd0e(0x463)+_0x127de8+_0x38cd0e(0x9da)+_0x1b1616+'\x20mb-2\x22>'+_0x1b6f78+_0x38cd0e(0x929)+_0x336c33+_0x38cd0e(0x2ee);studentResultArea['innerHTML']=_0x5c55b7,studentResultArea[_0x38cd0e(0x683)][_0x38cd0e(0x21f)](_0x38cd0e(0x80f)),studentQuizArea[_0x38cd0e(0x683)][_0x38cd0e(0x816)](_0x38cd0e(0x80f)),setupResultScreenBackButton({'showRankings':![],'score':_0x452e4a,'totalQuestions':_0x25fed9});}function renderIndividualComparisonTable(_0xe2d06b,_0x48f0d2){const _0x5de093=_0xe5be95;_0xe2d06b[_0x5de093(0x6a1)]((_0x277922,_0x7e9e78)=>(_0x7e9e78['tGain']??-Infinity)-(_0x277922['tGain']??-Infinity));let _0x3b58ce=_0x5de093(0x2b2);_0xe2d06b[_0x5de093(0x630)]===0x0?_0x3b58ce+=_0x5de093(0x8a9):_0xe2d06b[_0x5de093(0xa64)]((_0x337e5c,_0x21ba54)=>{const _0x55e2a6=_0x5de093;let _0x9ece8a='-',_0x5d7510='';if(_0x337e5c[_0x55e2a6(0xac7)]!==null){const _0x4d99a4=_0x337e5c[_0x55e2a6(0xac7)]>0x0?_0x55e2a6(0x759):_0x337e5c[_0x55e2a6(0xac7)]<0x0?_0x55e2a6(0x9a1):'text-gray-500',_0x47c9c3=_0x337e5c[_0x55e2a6(0xac7)]>0x0?'+':'';_0x9ece8a=_0x55e2a6(0x36e)+_0x4d99a4+'\x22>'+_0x47c9c3+_0x337e5c[_0x55e2a6(0xac7)]+_0x55e2a6(0x2cf);if(_0x337e5c[_0x55e2a6(0xac7)]>0x0)_0x5d7510=_0x55e2a6(0x7f4);else _0x337e5c[_0x55e2a6(0xac7)]<0x0?_0x5d7510=_0x55e2a6(0xa38):_0x5d7510=_0x55e2a6(0x6fd);}let _0x4bda00='-';if(_0x337e5c[_0x55e2a6(0x48d)]!==null){const _0x26a290=_0x337e5c[_0x55e2a6(0x48d)]>0x0?_0x55e2a6(0x759):_0x337e5c['tGain']<0x0?_0x55e2a6(0x9a1):_0x55e2a6(0x7f7),_0x92691b=_0x337e5c[_0x55e2a6(0x48d)]>0x0?'+':'';_0x4bda00=_0x55e2a6(0x36e)+_0x26a290+'\x22>'+_0x92691b+_0x337e5c[_0x55e2a6(0x48d)][_0x55e2a6(0x8bb)](0x2)+_0x55e2a6(0x2cf);}_0x3b58ce+=_0x55e2a6(0x51f)+(_0x21ba54+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x337e5c['name']+_0x55e2a6(0x888)+(_0x337e5c[_0x55e2a6(0x99f)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x337e5c[_0x55e2a6(0x412)]??'-')+_0x55e2a6(0x888)+_0x9ece8a+_0x55e2a6(0x3bc)+_0x5d7510+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x337e5c['preTScore']?.[_0x55e2a6(0x8bb)](0x2)??'-')+_0x55e2a6(0x44e)+(_0x337e5c[_0x55e2a6(0x775)]?.[_0x55e2a6(0x8bb)](0x2)??'-')+_0x55e2a6(0x888)+_0x4bda00+_0x55e2a6(0x4ff);}),_0x3b58ce+='</tbody></table></div>',_0x48f0d2[_0x5de093(0x994)]=_0x3b58ce;}function handleRenameQuiz(_0x389de2,_0x1817b1){const _0x130292=_0xe5be95;actionTargetId=_0x389de2,document[_0x130292(0x7e4)](_0x130292(0x7a3))['value']=_0x1817b1,renameQuizModal[_0x130292(0x683)]['remove'](_0x130292(0x80f));}function setupComparisonModalTabs(){const _0xd1b61d=_0xe5be95,_0x4f2540=document[_0xd1b61d(0x7e4)]('comparison-overall-tab'),_0x54a5ba=document[_0xd1b61d(0x7e4)](_0xd1b61d(0x2e4)),_0xdfc420=document['getElementById'](_0xd1b61d(0xace)),_0x543e20=document[_0xd1b61d(0x7e4)](_0xd1b61d(0x511));_0x4f2540[_0xd1b61d(0x8c2)]('click',()=>{const _0x423da4=_0xd1b61d;_0x4f2540[_0x423da4(0x683)][_0x423da4(0x816)]('active'),_0x54a5ba[_0x423da4(0x683)]['remove'](_0x423da4(0x245)),_0xdfc420[_0x423da4(0x683)]['remove'](_0x423da4(0x80f)),_0x543e20[_0x423da4(0x683)][_0x423da4(0x816)]('hidden');}),_0x54a5ba[_0xd1b61d(0x8c2)](_0xd1b61d(0x75b),()=>{const _0x1915ad=_0xd1b61d;_0x54a5ba[_0x1915ad(0x683)]['add'](_0x1915ad(0x245)),_0x4f2540['classList'][_0x1915ad(0x21f)]('active'),_0x543e20[_0x1915ad(0x683)][_0x1915ad(0x21f)](_0x1915ad(0x80f)),_0xdfc420[_0x1915ad(0x683)][_0x1915ad(0x816)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x588560=''){const _0x54a1f3=_0xe5be95,_0x119c96=document['getElementById']('global-quiz-list'),_0x46502c=_0x588560[_0x54a1f3(0x7cc)]()[_0x54a1f3(0x7ab)](),_0x2545bc=allQuizzesGlobal['map'](_0x22c001=>({..._0x22c001,'projectName':allProjects[_0x54a1f3(0x3fd)](_0x2ec4ff=>_0x2ec4ff['id']===_0x22c001[_0x54a1f3(0x6fa)])?.[_0x54a1f3(0x7ee)]||_0x22c001[_0x54a1f3(0x6fa)]}))['filter'](_0x3c00cb=>(_0x3c00cb[_0x54a1f3(0xab8)]||'')['toLowerCase']()[_0x54a1f3(0x365)](_0x46502c)||(_0x3c00cb[_0x54a1f3(0x7ee)]||'')[_0x54a1f3(0x7cc)]()[_0x54a1f3(0x365)](_0x46502c));document[_0x54a1f3(0x7e4)](_0x54a1f3(0x4df))[_0x54a1f3(0x5c5)]='('+_0x2545bc[_0x54a1f3(0x630)]+_0x54a1f3(0x7eb),_0x119c96[_0x54a1f3(0x994)]=_0x2545bc[_0x54a1f3(0x630)]?_0x2545bc[_0x54a1f3(0x374)](_0x16fe7d=>_0x54a1f3(0xa17)+_0x16fe7d['id']+_0x54a1f3(0x52f)+(_0x16fe7d[_0x54a1f3(0xab8)]||_0x54a1f3(0x203))+_0x54a1f3(0x52c)+(_0x16fe7d[_0x54a1f3(0x7dc)]?.['length']||0x0)+_0x54a1f3(0x9b9)+_0x16fe7d[_0x54a1f3(0x7ee)]+_0x54a1f3(0x375))[_0x54a1f3(0x7c3)](''):_0x54a1f3(0xa14),selectedGlobalQuizId=null,document[_0x54a1f3(0x7e4)]('confirm-global-live-btn')[_0x54a1f3(0x7ac)]=!![],_0x119c96[_0x54a1f3(0xa16)]('button[data-id]')[_0x54a1f3(0xa64)](_0x35c129=>{const _0x46e0cd=_0x54a1f3;_0x35c129[_0x46e0cd(0x8c2)](_0x46e0cd(0x75b),()=>{const _0x3c224c=_0x46e0cd;selectedGlobalQuizId=_0x35c129[_0x3c224c(0x4ee)]['id'],_0x119c96['querySelectorAll'](_0x3c224c(0x2c5))[_0x3c224c(0xa64)](_0x166318=>_0x166318[_0x3c224c(0x683)]['remove']('bg-purple-50','ring-2',_0x3c224c(0x6d9))),_0x35c129[_0x3c224c(0x683)][_0x3c224c(0x816)](_0x3c224c(0x27f),'ring-2',_0x3c224c(0x6d9)),document[_0x3c224c(0x7e4)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x54b8ef=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x54b8ef,_0x29c237=>{const _0x1f65fb=_0xc5bf;if(!_0x29c237[_0x1f65fb(0xafe)]()){showMessage(_0x1f65fb(0x698)),showView(currentMode);return;}const _0x29c216=_0x29c237['data']();_0x29c216['shuffledQuiz']&&(currentQuizData=_0x29c216['shuffledQuiz']);!currentQuizData&&_0x29c216[_0x1f65fb(0x560)]&&((async()=>{const _0x4c916f=_0x1f65fb;try{const _0x3dd12d=doc(db,_0x4c916f(0x62e)+appId+_0x4c916f(0x721),_0x29c216[_0x4c916f(0x560)]),_0x363ac5=await getDoc(_0x3dd12d);_0x363ac5['exists']()&&(currentQuizData={'id':_0x363ac5['id'],..._0x363ac5[_0x4c916f(0x291)]()});}catch(_0x73f526){console[_0x4c916f(0x72a)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x73f526);}})());switch(_0x29c216[_0x1f65fb(0x216)]){case _0x1f65fb(0x9e1):if(currentMode==='admin'){const _0x301865=_0x29c216[_0x1f65fb(0x444)]?Object['entries'](_0x29c216['players']):[],_0x5c32b7=_0x301865['filter'](([_0x23a165,_0x56d91c])=>_0x56d91c[_0x1f65fb(0x216)]===_0x1f65fb(0x245)),_0x2eb8c9=document[_0x1f65fb(0x7e4)](_0x1f65fb(0x903));if(_0x2eb8c9)_0x2eb8c9['textContent']=_0x5c32b7[_0x1f65fb(0x630)];const _0x55e704=document[_0x1f65fb(0x7e4)]('player-list-lobby');_0x55e704&&(_0x55e704['innerHTML']=_0x5c32b7['map'](([_0xb0c21d,_0x41a3c5])=>_0x1f65fb(0x3f2)+_0xb0c21d+_0x1f65fb(0x68c)+_0xb0c21d+_0x1f65fb(0xaca))[_0x1f65fb(0x7c3)](''));const _0x4eb8b1=document[_0x1f65fb(0x7e4)]('start-game-btn');_0x4eb8b1&&(_0x4eb8b1[_0x1f65fb(0x7ac)]=_0x5c32b7[_0x1f65fb(0x630)]===0x0);}else showView(_0x1f65fb(0x750)),liveGameView[_0x1f65fb(0x994)]=_0x1f65fb(0x42a)+currentStudentName+_0x1f65fb(0x85d);break;case _0x1f65fb(0x5ca):const _0x261f81=_0x29c216[_0x1f65fb(0x3e5)];if(currentQuizData&&currentQuizData[_0x1f65fb(0x7dc)][_0x261f81]){const _0x1e8c59=currentQuizData[_0x1f65fb(0x7dc)][_0x261f81],_0x598723=_0x29c216[_0x1f65fb(0x5f7)]||'answering';switch(_0x598723){case _0x1f65fb(0x3da):currentMode===_0x1f65fb(0x46b)?showAdminSummaryView(_0x29c216,_0x1e8c59):showPlayerSummaryView(_0x29c216,currentStudentName);break;case _0x1f65fb(0x9c1):currentMode===_0x1f65fb(0x46b)&&showTop5LeaderboardView(_0x29c216);break;case _0x1f65fb(0x6e7):default:if(currentMode==='admin'){const _0x58e5ed=writeBatch(db);let _0x469615=![];Object[_0x1f65fb(0x2f4)](_0x29c216[_0x1f65fb(0x444)])[_0x1f65fb(0xa64)](([_0x421c56,_0x2b3332])=>{const _0x4031bf=_0x1f65fb;if(_0x2b3332[_0x4031bf(0x216)]===_0x4031bf(0x245)&&_0x2b3332[_0x4031bf(0x4c1)]&&!_0x2b3332['isScored']){_0x469615=!![];const _0x4900f2=_0x2b3332[_0x4031bf(0x4c1)][_0x4031bf(0x65e)]()-_0x29c216[_0x4031bf(0x8e4)]['toDate']();let _0x6f1f84=0x0;if(_0x2b3332[_0x4031bf(0x6a9)]){const _0x3e4902=0x3e8,_0x3d71e7=0x1f4,_0x22f8be=0x4e20;let _0x223f3d=_0x4900f2/_0x22f8be;if(_0x223f3d>0x1)_0x223f3d=0x1;const _0x420e8e=Math['round'](_0x223f3d*_0x3d71e7);_0x6f1f84=_0x3e4902-_0x420e8e;}const _0x2587df=doc(db,_0x4031bf(0x62e)+appId+'/public/data/liveGames',currentLiveGameId);_0x58e5ed[_0x4031bf(0x206)](_0x2587df,{['players.'+_0x421c56+_0x4031bf(0x930)]:increment(_0x6f1f84),[_0x4031bf(0x35c)+_0x421c56+_0x4031bf(0xa97)]:_0x6f1f84,[_0x4031bf(0x35c)+_0x421c56+_0x4031bf(0x77b)]:!![]});}});_0x469615&&_0x58e5ed['commit']()[_0x1f65fb(0x6b4)](_0x29f5a2=>console[_0x1f65fb(0x72a)]('Error\x20committing\x20score\x20updates:',_0x29f5a2));lastRenderedAdminQuestionIndex!==_0x261f81&&(showAdminLiveQuestionView(_0x1e8c59,_0x261f81,currentQuizData[_0x1f65fb(0x7dc)][_0x1f65fb(0x630)]),lastRenderedAdminQuestionIndex=_0x261f81);const _0x185e93=_0x29c216['players']||{},_0xc6b5ca=Object[_0x1f65fb(0x605)](_0x185e93)[_0x1f65fb(0x670)](_0x3f1f03=>_0x3f1f03[_0x1f65fb(0x216)]==='active'),_0x10d654=_0xc6b5ca[_0x1f65fb(0x630)],_0x259d35=_0xc6b5ca[_0x1f65fb(0x670)](_0x365d99=>_0x365d99['answeredCurrentQuestion']===!![])['length'],_0x10a4fa=document['getElementById']('answer-counter');if(_0x10a4fa)_0x10a4fa[_0x1f65fb(0x5c5)]=_0x259d35+'/'+_0x10d654;const _0x47d3a7=document[_0x1f65fb(0x7e4)]('live-player-list');if(_0x47d3a7){let _0x3d8570=Object[_0x1f65fb(0x2f4)](_0x185e93)['filter'](([_0x14bb42,_0x17fe4e])=>_0x17fe4e[_0x1f65fb(0x216)]===_0x1f65fb(0x245))['map'](([_0x513071,_0xcfa709])=>{const _0x1c54ab=_0x1f65fb,_0x5df1ec=_0xcfa709['answeredCurrentQuestion']===!![],_0x165b7e=_0x5df1ec?_0x1c54ab(0x5b0):_0x1c54ab(0x7ea),_0x41d2da=_0x5df1ec?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x1c54ab(0x62d)+_0x165b7e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41d2da+_0x1c54ab(0x5bd)+_0x513071+_0x1c54ab(0x4bb)+_0x513071+_0x1c54ab(0x75a);})['join']('');_0x47d3a7[_0x1f65fb(0x994)]=_0x3d8570||_0x1f65fb(0x4ed);}_0x10d654>0x0&&_0x259d35===_0x10d654&&revealAnswerForAdmin(_0x261f81,currentQuizData[_0x1f65fb(0x7dc)][_0x1f65fb(0x630)]);}else{const _0x2ccde6=_0x29c216[_0x1f65fb(0x444)][currentStudentName];_0x2ccde6&&!_0x2ccde6['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x1e8c59,_0x261f81,currentQuizData[_0x1f65fb(0x7dc)][_0x1f65fb(0x630)]);}break;}}break;case _0x1f65fb(0x3d2):showPodiumView(_0x29c216[_0x1f65fb(0x444)],_0x1f65fb(0x2f1));break;}});}async function handleKickPlayer(_0x2d0a54){const _0x46aef4=_0xe5be95;if(!currentLiveGameId||!_0x2d0a54)return;const _0x8a6cb6=doc(db,_0x46aef4(0x62e)+appId+_0x46aef4(0xa4c),currentLiveGameId),_0x5561c9={};_0x5561c9['players.'+_0x2d0a54+'.status']=_0x46aef4(0x758);try{await updateDoc(_0x8a6cb6,_0x5561c9);}catch(_0x4a946c){console[_0x46aef4(0x72a)](_0x46aef4(0x906)+_0x2d0a54+':',_0x4a946c),showMessage(_0x46aef4(0x286));}}async function authenticateUser(){const _0x3ba571=_0xe5be95;try{typeof __initial_auth_token!==_0x3ba571(0xa4a)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2ffdbd){console[_0x3ba571(0x72a)](_0x3ba571(0x571),_0x2ffdbd),showMessage(_0x3ba571(0x93e));}}function showView(_0x36e853){const _0x5e3f6b=_0xe5be95;adminView[_0x5e3f6b(0x683)][_0x5e3f6b(0x816)](_0x5e3f6b(0x80f)),studentView[_0x5e3f6b(0x683)][_0x5e3f6b(0x816)]('hidden'),projectDashboardView['classList']['add'](_0x5e3f6b(0x80f)),projectDetailView['classList'][_0x5e3f6b(0x816)](_0x5e3f6b(0x80f)),quizResultsView[_0x5e3f6b(0x683)][_0x5e3f6b(0x816)]('hidden'),liveGameView['classList'][_0x5e3f6b(0x816)]('hidden'),studentInitialView[_0x5e3f6b(0x683)][_0x5e3f6b(0x816)]('hidden'),studentJoinGameView[_0x5e3f6b(0x683)]['add']('hidden'),studentNameSelectionView[_0x5e3f6b(0x683)][_0x5e3f6b(0x816)](_0x5e3f6b(0x80f)),studentQuizArea['classList'][_0x5e3f6b(0x816)](_0x5e3f6b(0x80f)),studentResultArea[_0x5e3f6b(0x683)]['add'](_0x5e3f6b(0x80f)),studentReadingArea[_0x5e3f6b(0x683)]['add'](_0x5e3f6b(0x80f));const _0x5b11ab=document[_0x5e3f6b(0x7e4)](_0x5e3f6b(0x369)),_0x39870a=document['getElementById'](_0x5e3f6b(0x4d8));if(_0x5b11ab)_0x5b11ab[_0x5e3f6b(0x683)]['add'](_0x5e3f6b(0x80f));if(_0x39870a)_0x39870a[_0x5e3f6b(0x683)]['add'](_0x5e3f6b(0x80f));switch(_0x36e853){case _0x5e3f6b(0x21a):adminView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)]('hidden'),projectDashboardView['classList'][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;case _0x5e3f6b(0x9d7):adminView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f)),projectDetailView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;case'quiz-results':adminView['classList'][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f)),quizResultsView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)]('hidden');break;case _0x5e3f6b(0x923):studentView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f)),studentInitialView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;case'live-game':liveGameView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;case _0x5e3f6b(0x8e9):studentView[_0x5e3f6b(0x683)]['remove'](_0x5e3f6b(0x80f));if(_0x5b11ab)_0x5b11ab[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;case _0x5e3f6b(0x5bb):studentView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));if(_0x39870a)_0x39870a[_0x5e3f6b(0x683)]['remove'](_0x5e3f6b(0x80f));break;default:studentView['classList'][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f)),studentInitialView[_0x5e3f6b(0x683)][_0x5e3f6b(0x21f)](_0x5e3f6b(0x80f));break;}}function showJoinGameView(){const _0x2d2ef0=_0xe5be95;studentInitialView[_0x2d2ef0(0x683)][_0x2d2ef0(0x816)](_0x2d2ef0(0x80f)),studentJoinGameView[_0x2d2ef0(0x683)][_0x2d2ef0(0x21f)](_0x2d2ef0(0x80f));}async function handleSaveVisibilitySettings(){const _0x36db37=_0xe5be95;if(!currentProjectId)return;const _0xafb9de=doc(db,_0x36db37(0x62e)+appId+_0x36db37(0x7d8),currentProjectId);try{await updateDoc(_0xafb9de,{'settings.showInStudentDashboard':document[_0x36db37(0x7e4)](_0x36db37(0x6aa))['checked'],'settings.isPasscodeEnabled':document[_0x36db37(0x7e4)](_0x36db37(0x265))[_0x36db37(0x4e1)],'settings.passcode':document['getElementById']('project-passcode-input')[_0x36db37(0x2cd)][_0x36db37(0x7ab)]()}),showMessage(_0x36db37(0x5a4));}catch(_0x4c713e){console[_0x36db37(0x72a)]('Error\x20saving\x20visibility\x20settings:',_0x4c713e),showMessage(_0x36db37(0x418));}}function setupEventListeners(){const _0x2cafa2=_0xe5be95,_0x294954=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x2a6)),_0x5cdc67=async _0x2f4355=>{const _0x6339cb=_0x2cafa2;_0x294954[_0x6339cb(0x683)][_0x6339cb(0x816)]('hidden');const _0x2f02b5=parseInt(document[_0x6339cb(0x7e4)](_0x6339cb(0xab6))[_0x6339cb(0x2cd)]),_0x32636b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x3e4ee3=await getDoc(_0x32636b);if(!_0x3e4ee3[_0x6339cb(0xafe)]())return;const _0x5120af=_0x3e4ee3[_0x6339cb(0x291)](),_0x3e6a2c=_0x5120af[_0x6339cb(0x3e5)],_0x3526fd=_0x5120af[_0x6339cb(0x43f)]['questions'][_0x3e6a2c],_0x4a05a6=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x2f02b5,_0x3526fd,_0x5120af,_0x4a05a6,_0x2f4355);};document[_0x2cafa2(0x7e4)]('confirm-confident')[_0x2cafa2(0x8c2)]('click',()=>_0x5cdc67(!![])),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x248))['addEventListener'](_0x2cafa2(0x75b),()=>_0x5cdc67(![])),liveGameView[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x4b5965=>{const _0x3512d9=_0x2cafa2,_0x38f4b8=_0x4b5965['target'][_0x3512d9(0x518)](_0x3512d9(0x441));if(_0x38f4b8){const _0x415cf3=_0x38f4b8[_0x3512d9(0x4ee)][_0x3512d9(0x39b)];_0x415cf3&&handleKickPlayerSync(_0x415cf3);}});const _0x55f441=document['getElementById'](_0x2cafa2(0x35d)),_0x175611=document[_0x2cafa2(0x7e4)]('cancel-game-start-btn');_0x175611[_0x2cafa2(0x8c2)]('click',()=>{const _0x3ffd61=_0x2cafa2;document[_0x3ffd61(0x7e4)]('confirm-game-start-modal')[_0x3ffd61(0x683)]['add'](_0x3ffd61(0x80f));}),_0x55f441['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x7267d=_0x2cafa2,_0x335007=document[_0x7267d(0x7e4)](_0x7267d(0x8f1))[_0x7267d(0x2cd)],_0x5e895c=document[_0x7267d(0x7e4)](_0x7267d(0x49d))[_0x7267d(0x2cd)],_0x1d1542=document['getElementById']('save-game-results-checkbox')[_0x7267d(0x4e1)];document[_0x7267d(0x7e4)](_0x7267d(0x6d1))[_0x7267d(0x683)][_0x7267d(0x816)](_0x7267d(0x80f));switch(_0x5e895c){case _0x7267d(0x2f1):handleStartLiveRace(_0x335007,_0x1d1542);break;case _0x7267d(0x242):handleStartTeamQuiz(_0x335007,_0x1d1542);break;case'group':handleStartGroupMode(_0x335007,_0x1d1542);break;case _0x7267d(0x603):handleStartSyncMode(_0x335007,_0x1d1542);break;}}),document['getElementById'](_0x2cafa2(0x3c1))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleJoinGroupActivity),liveGameView[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x6381c1=>{const _0x2c52da=_0x2cafa2,_0x259564=_0x6381c1['target'][_0x2c52da(0x518)](_0x2c52da(0x904));document[_0x2c52da(0xa16)](_0x2c52da(0x688))[_0x2c52da(0xa64)](_0x30b0a5=>{const _0x5ba496=_0x2c52da;(!_0x259564||_0x30b0a5['id']!==_0x259564[_0x5ba496(0x4ee)][_0x5ba496(0x20c)])&&_0x30b0a5[_0x5ba496(0x683)][_0x5ba496(0x21f)](_0x5ba496(0x30a));});if(!_0x259564)return;const _0x1776cb=_0x259564[_0x2c52da(0x4ee)][_0x2c52da(0x20c)],_0x20dbc8=document[_0x2c52da(0x7e4)](_0x1776cb);_0x20dbc8&&_0x20dbc8['classList'][_0x2c52da(0x459)](_0x2c52da(0x30a));}),liveGameView[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x1a93f3=>{const _0x1ffbb5=_0x2cafa2;if(_0x1a93f3[_0x1ffbb5(0xa1e)][_0x1ffbb5(0x683)][_0x1ffbb5(0x344)](_0x1ffbb5(0x805))){const _0x136c92=_0x1a93f3[_0x1ffbb5(0xa1e)][_0x1ffbb5(0x4ee)][_0x1ffbb5(0x39b)];_0x136c92&&handleKickPlayer(_0x136c92);}}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x21d))[_0x2cafa2(0x8c2)](_0x2cafa2(0x345),()=>document['getElementById'](_0x2cafa2(0x840))[_0x2cafa2(0x683)][_0x2cafa2(0x21f)](_0x2cafa2(0x80f))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x840))[_0x2cafa2(0x8c2)]('click',handleSaveProjectName),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x21d))[_0x2cafa2(0x8c2)](_0x2cafa2(0x672),_0x59a98e=>{const _0x3313bd=_0x2cafa2;_0x59a98e[_0x3313bd(0x384)]==='Enter'&&(_0x59a98e['preventDefault'](),_0x59a98e['target'][_0x3313bd(0x2fc)](),handleSaveProjectName());}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x9ca))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x30e85d=_0x2cafa2;document[_0x30e85d(0x7e4)](_0x30e85d(0xabb))[_0x30e85d(0x683)][_0x30e85d(0x21f)](_0x30e85d(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x692))[_0x2cafa2(0x8c2)]('click',()=>{const _0x226c70=_0x2cafa2;document[_0x226c70(0x7e4)]('bulk-quiz-settings-modal')['classList'][_0x226c70(0x816)]('hidden');}),document[_0x2cafa2(0x7e4)]('confirm-bulk-quiz-settings-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleBulkUpdateQuizSettings),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x331))['addEventListener'](_0x2cafa2(0x75b),handleModeSwitch),document['getElementById'](_0x2cafa2(0x2fe))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleUpdateOldQuizzes),document[_0x2cafa2(0x7e4)]('reset-project-order-btn')[_0x2cafa2(0x8c2)]('click',handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')['addEventListener'](_0x2cafa2(0x75b),handleSaveVisibilitySettings),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x40b))['addEventListener'](_0x2cafa2(0x75b),handleAddCustomMathTopic),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x82d))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleSelectAllTopics),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x445))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleDeselectAllTopics),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x5d4))['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x579b24=_0x2cafa2;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x579b24(0x21a));}),document['getElementById'](_0x2cafa2(0x9fb))['addEventListener'](_0x2cafa2(0x75b),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x61d))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{showView('admin-dashboard');}),document['getElementById'](_0x2cafa2(0x24d))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x5e85e0=_0x2cafa2;messageModal[_0x5e85e0(0x683)][_0x5e85e0(0x816)](_0x5e85e0(0x80f)),typeof modalConfirmAction===_0x5e85e0(0x446)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x2a9))[_0x2cafa2(0x8c2)]('click',()=>createProjectModal[_0x2cafa2(0x683)][_0x2cafa2(0x21f)]('hidden')),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x29f))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>createProjectModal['classList'][_0x2cafa2(0x816)](_0x2cafa2(0x80f))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0xaf0))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>adminPasswordModal[_0x2cafa2(0x683)][_0x2cafa2(0x816)](_0x2cafa2(0x80f))),document['getElementById']('confirm-admin-login-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleAdminLogin),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x4f8))[_0x2cafa2(0x8c2)]('keyup',_0x3f4910=>{if(_0x3f4910['key']==='Enter')handleAdminLogin();}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x682))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x493ee2=_0x2cafa2;confirmationModal[_0x493ee2(0x683)][_0x493ee2(0x816)]('hidden'),confirmAction=null;}),document[_0x2cafa2(0x7e4)]('confirm-delete-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x468e14=_0x2cafa2;confirmAction&&confirmAction(),confirmationModal[_0x468e14(0x683)][_0x468e14(0x816)]('hidden'),confirmAction=null;}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x467))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>renameQuizModal[_0x2cafa2(0x683)][_0x2cafa2(0x816)]('hidden')),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x6ee))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),confirmRenameQuiz),document['getElementById'](_0x2cafa2(0x3a6))['addEventListener'](_0x2cafa2(0x75b),()=>moveQuizModal['classList'][_0x2cafa2(0x816)](_0x2cafa2(0x80f))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x643))['addEventListener'](_0x2cafa2(0x75b),confirmMoveQuiz),document['getElementById'](_0x2cafa2(0x464))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>quizSettingsModal[_0x2cafa2(0x683)][_0x2cafa2(0x816)](_0x2cafa2(0x80f))),document['getElementById'](_0x2cafa2(0x25e))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),confirmQuizSettings),document[_0x2cafa2(0x7e4)]('cancel-quiz-status-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>quizStatusModal[_0x2cafa2(0x683)][_0x2cafa2(0x816)](_0x2cafa2(0x80f))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x5f1))['addEventListener'](_0x2cafa2(0x75b),confirmQuizStatus);const _0x56dd40=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x478));document[_0x2cafa2(0x7e4)]('cancel-export-pdf-btn')['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x39d998=_0x2cafa2;_0x56dd40[_0x39d998(0x683)]['add'](_0x39d998(0x80f));}),document['getElementById'](_0x2cafa2(0x277))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),async()=>{const _0x5f2270=_0x2cafa2,_0x1ce6e2=allQuizzes[_0x5f2270(0x3fd)](_0x33fb13=>_0x33fb13['id']===actionTargetId);_0x1ce6e2?(currentQuizData=_0x1ce6e2,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x56dd40[_0x5f2270(0x683)][_0x5f2270(0x816)](_0x5f2270(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x380))[_0x2cafa2(0x8c2)]('click',async()=>{const _0x4016d3=_0x2cafa2,_0x4284ff=allQuizzes['find'](_0x410aa7=>_0x410aa7['id']===actionTargetId);_0x4284ff?(currentQuizData=_0x4284ff,exportQuizAsTutorPDF()):showMessage(_0x4016d3(0x653)),_0x56dd40[_0x4016d3(0x683)][_0x4016d3(0x816)](_0x4016d3(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x610))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),openGlobalLiveModal),document[_0x2cafa2(0x7e4)](_0x2cafa2(0xaba))['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x486766=_0x2cafa2;document[_0x486766(0x7e4)](_0x486766(0x324))[_0x486766(0x683)][_0x486766(0x816)](_0x486766(0x80f)),selectedGlobalQuizId=null;}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x676))[_0x2cafa2(0x8c2)]('input',_0x4af4c0=>renderGlobalQuizList(_0x4af4c0[_0x2cafa2(0xa1e)][_0x2cafa2(0x2cd)])),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x434))['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x4c94a7=_0x2cafa2,_0x14832d=selectedGlobalQuizId;if(!_0x14832d)return;document['getElementById'](_0x4c94a7(0x324))[_0x4c94a7(0x683)][_0x4c94a7(0x816)](_0x4c94a7(0x80f)),handleStartLiveRace(_0x14832d);}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x48e))['addEventListener'](_0x2cafa2(0x3fa),renderProjects),document[_0x2cafa2(0x7e4)]('project-sort-select')[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),async()=>{const _0x3f94fc=_0x2cafa2,_0x5494cc=document[_0x3f94fc(0x7e4)](_0x3f94fc(0x71c))[_0x3f94fc(0x2cd)],_0x1763c0=doc(db,'globalSettings',_0x3f94fc(0x6f5));try{await setDoc(_0x1763c0,{'projectSort':_0x5494cc},{'merge':!![]});}catch(_0x488720){console[_0x3f94fc(0x72a)](_0x3f94fc(0x398),_0x488720),showMessage(_0x3f94fc(0x72c));}}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0xa6c))['addEventListener'](_0x2cafa2(0x3fa),renderQuizzes),document[_0x2cafa2(0x7e4)]('grid-view-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x50dc1f=_0x2cafa2;globalDashboardSettings[_0x50dc1f(0x304)]=_0x50dc1f(0xa93),saveUserPreference('projectView','grid'),renderProjects();}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x646))[_0x2cafa2(0x8c2)]('click',()=>{const _0x333a9e=_0x2cafa2;globalDashboardSettings[_0x333a9e(0x304)]=_0x333a9e(0x89a),saveUserPreference(_0x333a9e(0x304),_0x333a9e(0x89a)),renderProjects();}),manageTab['addEventListener'](_0x2cafa2(0x75b),()=>switchProjectTab('manage')),resultsTab[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>switchProjectTab(_0x2cafa2(0x7de))),leaderboardTab['addEventListener'](_0x2cafa2(0x75b),()=>switchProjectTab(_0x2cafa2(0x9c1))),document['getElementById'](_0x2cafa2(0x53e))[_0x2cafa2(0x8c2)]('click',()=>switchQuizDetailTab('analytics')),document[_0x2cafa2(0x7e4)]('scores-tab-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>switchQuizDetailTab('scores')),document[_0x2cafa2(0x7e4)]('leaderboard-quiz-tab-btn')['addEventListener'](_0x2cafa2(0x75b),()=>switchQuizDetailTab(_0x2cafa2(0x861))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x461))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>switchQuizDetailTab(_0x2cafa2(0x3ec))),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x584))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x2cafa2(0x75b),generateWorksheet);const _0x40322f=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x7a8)),_0x363ed3=document['getElementById'](_0x2cafa2(0x2f9)),_0x58c9fc=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x1db)),_0x4f6f91=document[_0x2cafa2(0x7e4)]('blueprint-input-area'),_0x29566f=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x738)),_0x288d14=document[_0x2cafa2(0x7e4)]('parallel-test-input-area');topicTab['addEventListener']('click',()=>{const _0x2a5a56=_0x2cafa2;topicTab[_0x2a5a56(0x683)][_0x2a5a56(0x816)](_0x2a5a56(0x245)),textTab[_0x2a5a56(0x683)]['remove']('active'),fileTab[_0x2a5a56(0x683)][_0x2a5a56(0x21f)]('active'),worksheetTab[_0x2a5a56(0x683)][_0x2a5a56(0x21f)]('active');if(_0x40322f)_0x40322f['classList'][_0x2a5a56(0x21f)]('active');if(_0x58c9fc)_0x58c9fc[_0x2a5a56(0x683)]['remove'](_0x2a5a56(0x245));if(_0x29566f)_0x29566f[_0x2a5a56(0x683)][_0x2a5a56(0x21f)](_0x2a5a56(0x245));topicInputArea[_0x2a5a56(0x683)]['remove'](_0x2a5a56(0x80f)),textInputArea['classList'][_0x2a5a56(0x816)]('hidden'),fileInputArea[_0x2a5a56(0x683)]['add'](_0x2a5a56(0x80f)),worksheetInputArea[_0x2a5a56(0x683)][_0x2a5a56(0x816)](_0x2a5a56(0x80f));if(_0x363ed3)_0x363ed3[_0x2a5a56(0x683)][_0x2a5a56(0x816)](_0x2a5a56(0x80f));if(_0x4f6f91)_0x4f6f91[_0x2a5a56(0x683)]['add']('hidden');if(_0x288d14)_0x288d14[_0x2a5a56(0x683)]['add'](_0x2a5a56(0x80f));}),textTab[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x17c43e=_0x2cafa2;textTab[_0x17c43e(0x683)]['add'](_0x17c43e(0x245)),topicTab['classList']['remove'](_0x17c43e(0x245)),fileTab[_0x17c43e(0x683)][_0x17c43e(0x21f)](_0x17c43e(0x245)),worksheetTab['classList']['remove'](_0x17c43e(0x245));if(_0x40322f)_0x40322f['classList']['remove']('active');if(_0x58c9fc)_0x58c9fc[_0x17c43e(0x683)][_0x17c43e(0x21f)]('active');if(_0x29566f)_0x29566f[_0x17c43e(0x683)][_0x17c43e(0x21f)](_0x17c43e(0x245));textInputArea[_0x17c43e(0x683)][_0x17c43e(0x21f)](_0x17c43e(0x80f)),topicInputArea[_0x17c43e(0x683)]['add'](_0x17c43e(0x80f)),fileInputArea[_0x17c43e(0x683)]['add'](_0x17c43e(0x80f)),worksheetInputArea[_0x17c43e(0x683)][_0x17c43e(0x816)]('hidden');if(_0x363ed3)_0x363ed3[_0x17c43e(0x683)]['add'](_0x17c43e(0x80f));if(_0x4f6f91)_0x4f6f91['classList']['add'](_0x17c43e(0x80f));if(_0x288d14)_0x288d14[_0x17c43e(0x683)][_0x17c43e(0x816)](_0x17c43e(0x80f));}),fileTab[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x30126a=_0x2cafa2;fileTab[_0x30126a(0x683)]['add']('active'),topicTab[_0x30126a(0x683)][_0x30126a(0x21f)](_0x30126a(0x245)),textTab[_0x30126a(0x683)][_0x30126a(0x21f)]('active'),worksheetTab['classList'][_0x30126a(0x21f)](_0x30126a(0x245));if(_0x40322f)_0x40322f[_0x30126a(0x683)]['remove']('active');if(_0x58c9fc)_0x58c9fc['classList']['remove'](_0x30126a(0x245));if(_0x29566f)_0x29566f[_0x30126a(0x683)][_0x30126a(0x21f)](_0x30126a(0x245));fileInputArea['classList'][_0x30126a(0x21f)](_0x30126a(0x80f)),topicInputArea[_0x30126a(0x683)][_0x30126a(0x816)](_0x30126a(0x80f)),textInputArea['classList'][_0x30126a(0x816)](_0x30126a(0x80f)),worksheetInputArea[_0x30126a(0x683)][_0x30126a(0x816)](_0x30126a(0x80f));if(_0x363ed3)_0x363ed3[_0x30126a(0x683)][_0x30126a(0x816)]('hidden');if(_0x4f6f91)_0x4f6f91[_0x30126a(0x683)][_0x30126a(0x816)]('hidden');if(_0x288d14)_0x288d14[_0x30126a(0x683)][_0x30126a(0x816)](_0x30126a(0x80f));}),worksheetTab['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x48044c=_0x2cafa2;worksheetTab[_0x48044c(0x683)]['add']('active'),topicTab['classList']['remove']('active'),textTab[_0x48044c(0x683)][_0x48044c(0x21f)]('active'),fileTab[_0x48044c(0x683)][_0x48044c(0x21f)]('active');if(_0x40322f)_0x40322f[_0x48044c(0x683)]['remove'](_0x48044c(0x245));if(_0x58c9fc)_0x58c9fc['classList']['remove'](_0x48044c(0x245));if(_0x29566f)_0x29566f[_0x48044c(0x683)][_0x48044c(0x21f)](_0x48044c(0x245));worksheetInputArea[_0x48044c(0x683)][_0x48044c(0x21f)](_0x48044c(0x80f)),topicInputArea[_0x48044c(0x683)]['add']('hidden'),textInputArea[_0x48044c(0x683)][_0x48044c(0x816)](_0x48044c(0x80f)),fileInputArea[_0x48044c(0x683)][_0x48044c(0x816)](_0x48044c(0x80f));if(_0x363ed3)_0x363ed3[_0x48044c(0x683)][_0x48044c(0x816)](_0x48044c(0x80f));if(_0x4f6f91)_0x4f6f91[_0x48044c(0x683)][_0x48044c(0x816)](_0x48044c(0x80f));if(_0x288d14)_0x288d14[_0x48044c(0x683)]['add'](_0x48044c(0x80f));});const _0x16f1ac=document[_0x2cafa2(0x7e4)]('bank-tab'),_0x295292=document[_0x2cafa2(0x7e4)]('bank-input-area');_0x16f1ac&&_0x16f1ac[_0x2cafa2(0x8c2)]('click',()=>{const _0x15abb0=_0x2cafa2;topicTab[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x245)),textTab[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x245)),fileTab[_0x15abb0(0x683)][_0x15abb0(0x21f)]('active'),worksheetTab[_0x15abb0(0x683)]['remove'](_0x15abb0(0x245));if(_0x40322f)_0x40322f[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x245));if(_0x58c9fc)_0x58c9fc[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x245));if(_0x29566f)_0x29566f[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x245));_0x16f1ac['classList']['add'](_0x15abb0(0x245)),topicInputArea[_0x15abb0(0x683)][_0x15abb0(0x816)](_0x15abb0(0x80f)),textInputArea[_0x15abb0(0x683)][_0x15abb0(0x816)](_0x15abb0(0x80f)),fileInputArea[_0x15abb0(0x683)][_0x15abb0(0x816)](_0x15abb0(0x80f)),worksheetInputArea[_0x15abb0(0x683)][_0x15abb0(0x816)](_0x15abb0(0x80f));if(_0x363ed3)_0x363ed3[_0x15abb0(0x683)][_0x15abb0(0x816)]('hidden');if(_0x4f6f91)_0x4f6f91['classList'][_0x15abb0(0x816)](_0x15abb0(0x80f));if(_0x288d14)_0x288d14[_0x15abb0(0x683)][_0x15abb0(0x816)](_0x15abb0(0x80f));_0x295292[_0x15abb0(0x683)][_0x15abb0(0x21f)](_0x15abb0(0x80f)),displayQuestionBank();});_0x40322f&&(_0x40322f[_0x2cafa2(0x8c2)]('click',()=>{const _0x554ce6=_0x2cafa2;_0x40322f['classList'][_0x554ce6(0x816)](_0x554ce6(0x245)),topicTab[_0x554ce6(0x683)][_0x554ce6(0x21f)](_0x554ce6(0x245)),textTab[_0x554ce6(0x683)]['remove']('active'),fileTab[_0x554ce6(0x683)][_0x554ce6(0x21f)](_0x554ce6(0x245)),worksheetTab[_0x554ce6(0x683)][_0x554ce6(0x21f)]('active');if(_0x58c9fc)_0x58c9fc['classList'][_0x554ce6(0x21f)](_0x554ce6(0x245));if(_0x29566f)_0x29566f[_0x554ce6(0x683)]['remove'](_0x554ce6(0x245));_0x363ed3[_0x554ce6(0x683)][_0x554ce6(0x21f)](_0x554ce6(0x80f)),topicInputArea[_0x554ce6(0x683)][_0x554ce6(0x816)](_0x554ce6(0x80f)),textInputArea[_0x554ce6(0x683)][_0x554ce6(0x816)](_0x554ce6(0x80f)),fileInputArea[_0x554ce6(0x683)][_0x554ce6(0x816)]('hidden'),worksheetInputArea[_0x554ce6(0x683)][_0x554ce6(0x816)](_0x554ce6(0x80f));if(_0x4f6f91)_0x4f6f91[_0x554ce6(0x683)][_0x554ce6(0x816)]('hidden');if(_0x288d14)_0x288d14[_0x554ce6(0x683)][_0x554ce6(0x816)]('hidden');}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0xad0))['addEventListener']('click',handleGenerateFromLink));_0x58c9fc&&_0x58c9fc[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x1025c2=_0x2cafa2;_0x58c9fc['classList'][_0x1025c2(0x816)](_0x1025c2(0x245)),topicTab[_0x1025c2(0x683)][_0x1025c2(0x21f)]('active'),textTab[_0x1025c2(0x683)][_0x1025c2(0x21f)]('active'),fileTab[_0x1025c2(0x683)][_0x1025c2(0x21f)]('active'),worksheetTab[_0x1025c2(0x683)][_0x1025c2(0x21f)]('active');if(_0x40322f)_0x40322f[_0x1025c2(0x683)]['remove'](_0x1025c2(0x245));if(_0x16f1ac)_0x16f1ac[_0x1025c2(0x683)][_0x1025c2(0x21f)](_0x1025c2(0x245));if(_0x29566f)_0x29566f[_0x1025c2(0x683)][_0x1025c2(0x21f)](_0x1025c2(0x245));_0x4f6f91[_0x1025c2(0x683)][_0x1025c2(0x21f)](_0x1025c2(0x80f)),topicInputArea[_0x1025c2(0x683)][_0x1025c2(0x816)](_0x1025c2(0x80f)),textInputArea[_0x1025c2(0x683)][_0x1025c2(0x816)](_0x1025c2(0x80f)),fileInputArea[_0x1025c2(0x683)][_0x1025c2(0x816)]('hidden'),worksheetInputArea[_0x1025c2(0x683)][_0x1025c2(0x816)]('hidden');if(_0x363ed3)_0x363ed3[_0x1025c2(0x683)][_0x1025c2(0x816)]('hidden');if(_0x295292)_0x295292[_0x1025c2(0x683)]['add'](_0x1025c2(0x80f));if(_0x288d14)_0x288d14[_0x1025c2(0x683)][_0x1025c2(0x816)](_0x1025c2(0x80f));});_0x29566f&&_0x29566f['addEventListener'](_0x2cafa2(0x75b),()=>{const _0x187841=_0x2cafa2;_0x29566f['classList']['add'](_0x187841(0x245)),topicTab['classList'][_0x187841(0x21f)](_0x187841(0x245)),textTab[_0x187841(0x683)][_0x187841(0x21f)](_0x187841(0x245)),fileTab[_0x187841(0x683)][_0x187841(0x21f)](_0x187841(0x245)),worksheetTab[_0x187841(0x683)][_0x187841(0x21f)](_0x187841(0x245));if(_0x40322f)_0x40322f[_0x187841(0x683)]['remove'](_0x187841(0x245));if(_0x58c9fc)_0x58c9fc[_0x187841(0x683)][_0x187841(0x21f)]('active');if(_0x16f1ac)_0x16f1ac['classList']['remove'](_0x187841(0x245));_0x288d14['classList'][_0x187841(0x21f)](_0x187841(0x80f)),topicInputArea[_0x187841(0x683)]['add']('hidden'),textInputArea[_0x187841(0x683)][_0x187841(0x816)]('hidden'),fileInputArea[_0x187841(0x683)][_0x187841(0x816)]('hidden'),worksheetInputArea[_0x187841(0x683)][_0x187841(0x816)]('hidden');if(_0x363ed3)_0x363ed3['classList'][_0x187841(0x816)](_0x187841(0x80f));if(_0x4f6f91)_0x4f6f91[_0x187841(0x683)][_0x187841(0x816)](_0x187841(0x80f));if(_0x295292)_0x295292[_0x187841(0x683)]['add'](_0x187841(0x80f));});const _0x83ce50=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x3d1)),_0x36bca3=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x34a));_0x83ce50&&_0x83ce50['addEventListener'](_0x2cafa2(0x627),_0x38b8f5=>{const _0x4f9e00=_0x2cafa2;_0x38b8f5['target'][_0x4f9e00(0x83b)][_0x4f9e00(0x630)]>0x0?_0x36bca3[_0x4f9e00(0x7ac)]=![]:_0x36bca3['disabled']=!![];});_0x36bca3&&_0x36bca3['addEventListener'](_0x2cafa2(0x75b),handleGenerateFromBlueprint);const _0x4cb5cc=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x81b)),_0xfc2bd2=document['getElementById'](_0x2cafa2(0x87d));_0x4cb5cc&&_0x4cb5cc[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),_0x34f919=>{const _0x3adeba=_0x2cafa2;_0xfc2bd2['disabled']=_0x34f919[_0x3adeba(0xa1e)][_0x3adeba(0x83b)][_0x3adeba(0x630)]===0x0;});_0xfc2bd2&&_0xfc2bd2[_0x2cafa2(0x8c2)]('click',handleGenerateParallelTest);loadQuizBtn[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleLoadQuiz),startQuizBtn[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),async()=>{const _0x632326=_0x2cafa2,_0x225b44=document[_0x632326(0x7e4)](_0x632326(0x414));currentStudentName=_0x225b44['value'];if(!currentStudentName){showMessage(_0x632326(0x5d2));return;}try{const _0x5c81ee=currentQuizData['id'],_0x2227ee=doc(db,'artifacts/'+appId+_0x632326(0x9f7)+_0x5c81ee+_0x632326(0xa52),currentStudentName);await setDoc(_0x2227ee,{'studentName':currentStudentName,'startedAt':new Date()[_0x632326(0x74e)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x52d094){console[_0x632326(0x72a)]('Failed\x20to\x20create\x20initial\x20submission\x20record:',_0x52d094),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x632326(0x683)][_0x632326(0x816)](_0x632326(0x80f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),showJoinGameView),document['getElementById'](_0x2cafa2(0x257))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleJoinLiveGame),document[_0x2cafa2(0x7e4)]('back-to-student-initial-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>showView(_0x2cafa2(0x923)));const _0x4f98e4=()=>{const _0x2dc031=_0x2cafa2,_0x2408d4=document[_0x2dc031(0x7e4)](_0x2dc031(0x328))[_0x2dc031(0x5c5)][_0x2dc031(0x28b)](/[^a-z0-9]/gi,'_')[_0x2dc031(0x7cc)]();return _0x2dc031(0x525)+(_0x2408d4||'quiz');},_0x42b67b=document['getElementById'](_0x2cafa2(0x9c6));_0x42b67b&&_0x42b67b['addEventListener'](_0x2cafa2(0x3fa),_0x2ea3b1=>{const _0x5018ff=_0x2cafa2,_0x5a7464=_0x2ea3b1[_0x5018ff(0xa1e)][_0x5018ff(0x2cd)][_0x5018ff(0x7cc)]()[_0x5018ff(0x7ab)](),_0x4cabfd=document[_0x5018ff(0x7e4)](_0x5018ff(0x417)),_0x3028c6=_0x4cabfd[_0x5018ff(0xa16)]('.topic-category');_0x3028c6[_0x5018ff(0xa64)](_0x21c3f5=>{const _0x50734d=_0x5018ff;let _0x5b4549=![];const _0x5700c3=_0x21c3f5[_0x50734d(0xa16)](_0x50734d(0x30b));_0x5700c3[_0x50734d(0xa64)](_0x386b42=>{const _0x43afbe=_0x50734d,_0x41feee=_0x386b42['querySelector']('.topic-name-display')[_0x43afbe(0x5c5)][_0x43afbe(0x7cc)]();_0x41feee[_0x43afbe(0x365)](_0x5a7464)?(_0x386b42[_0x43afbe(0xa0e)]['display']='flex',_0x5b4549=!![]):_0x386b42['style']['display']=_0x43afbe(0x3e7);}),_0x5b4549?_0x21c3f5[_0x50734d(0xa0e)][_0x50734d(0x8f3)]='block':_0x21c3f5['style']['display']=_0x50734d(0x3e7);});});document[_0x2cafa2(0x7e4)](_0x2cafa2(0x239))['addEventListener'](_0x2cafa2(0x75b),()=>exportTableAsImage(_0x2cafa2(0x202),_0x4f98e4())),document[_0x2cafa2(0x7e4)]('export-pdf-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>exportTableAsPDF(_0x2cafa2(0x959),_0x4f98e4())),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x809))['addEventListener'](_0x2cafa2(0x75b),()=>exportTableAsWord(_0x2cafa2(0x202),_0x4f98e4())),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x695))[_0x2cafa2(0x8c2)]('click',()=>exportTableAsExcel(_0x2cafa2(0x959),_0x4f98e4()));const _0x4f8af1=()=>{const _0x43e6dd=_0x2cafa2,_0x5bb48c=document[_0x43e6dd(0x7e4)](_0x43e6dd(0x328))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x43e6dd(0x7cc)]();return _0x43e6dd(0x485)+(_0x5bb48c||_0x43e6dd(0x78f));};document[_0x2cafa2(0x7e4)]('export-leaderboard-image-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>exportTableAsImage(_0x2cafa2(0x489),_0x4f8af1())),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x81f))['addEventListener'](_0x2cafa2(0x75b),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4f8af1())),document['getElementById'](_0x2cafa2(0x4cb))['addEventListener'](_0x2cafa2(0x75b),()=>exportTableAsWord(_0x2cafa2(0x489),_0x4f8af1())),document['getElementById'](_0x2cafa2(0x4b2))[_0x2cafa2(0x8c2)]('click',()=>exportTableAsExcel(_0x2cafa2(0x217),_0x4f8af1())),projectQuizzesList[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),async _0x39bdb0=>{const _0x2269f8=_0x2cafa2,_0x1e3d92=_0x39bdb0['target'][_0x2269f8(0x518)]('.quiz-result-card'),_0x36dcb7=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0x8d3)),_0x2e0654=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0x336)),_0x30976f=_0x39bdb0[_0x2269f8(0xa1e)]['closest'](_0x2269f8(0x8a6)),_0x14cfa9=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0x8b3)),_0x594730=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0xa12)),_0x1560b5=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0xb0b)),_0x465087=_0x39bdb0['target'][_0x2269f8(0x518)]('.quiz-settings-btn'),_0x574a2c=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0x5ae)),_0x473af3=_0x39bdb0[_0x2269f8(0xa1e)]['closest'](_0x2269f8(0x1de)),_0x485305=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)]('.parallel-quiz-btn'),_0xc24ba4=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)]('.move-quiz-btn'),_0x32d9e8=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)]('.pair-quiz-btn'),_0x1dba4c=_0x39bdb0['target'][_0x2269f8(0x518)](_0x2269f8(0x613)),_0x58959f=_0x39bdb0['target'][_0x2269f8(0x518)](_0x2269f8(0x8bd)),_0x1d516a=_0x39bdb0[_0x2269f8(0xa1e)]['closest'](_0x2269f8(0x9d3)),_0x36d340=_0x39bdb0[_0x2269f8(0xa1e)]['closest'](_0x2269f8(0x65b)),_0x3573fe=_0x39bdb0['target'][_0x2269f8(0x518)](_0x2269f8(0x22c)),_0x486a8d=_0x39bdb0[_0x2269f8(0xa1e)]['closest'](_0x2269f8(0x43b)),_0x552cc0=_0x39bdb0['target']['closest'](_0x2269f8(0x7cd)),_0x3af252=_0x39bdb0['target']['closest'](_0x2269f8(0x9e7)),_0x4921b4=_0x39bdb0['target'][_0x2269f8(0x518)](_0x2269f8(0x2bf)),_0x531c76=_0x39bdb0[_0x2269f8(0xa1e)][_0x2269f8(0x518)](_0x2269f8(0x4c7));if(_0x4921b4){const _0x4e9ae2=_0x4921b4[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x189799=_0x4921b4[_0x2269f8(0x4ee)]['mode'],_0x174fbb=allQuizzes[_0x2269f8(0x3fd)](_0x32532b=>_0x32532b['id']===_0x4e9ae2);_0x174fbb&&showGameStartConfirmationModal(_0x4e9ae2,_0x189799,_0x174fbb[_0x2269f8(0xab8)]);}else{if(_0x531c76){const _0x57d2dd=_0x531c76[_0x2269f8(0x4ee)][_0x2269f8(0x560)];handleStartLiveRace(_0x57d2dd);}else{if(_0x552cc0){const _0x373046=_0x552cc0['dataset']['quizId'],_0x3d1edf=document['getElementById']('actions-container-'+_0x373046);_0x3d1edf&&_0x3d1edf['classList'][_0x2269f8(0x459)]('hidden');}else{if(_0x36dcb7){const _0x24b182=_0x36dcb7[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x4292ec=allQuizzes['find'](_0x334e56=>_0x334e56['id']===_0x24b182);_0x4292ec&&handleGenerateParallelPostTest(_0x4292ec);}else{if(_0x2e0654)handleCompareResults(_0x2e0654[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x2e0654[_0x2269f8(0x4ee)][_0x2269f8(0x654)]);else{if(_0x30976f){const _0x31fb18=_0x30976f[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x2a5509=allQuizzes[_0x2269f8(0x3fd)](_0x17596d=>_0x17596d['id']===_0x31fb18);_0x2a5509&&_0x2a5509['lessonPlan']?(displayLessonPlan(_0x2a5509[_0x2269f8(0x797)],_0x2a5509),showConfirmation(_0x2269f8(0xa1b),()=>handleGenerateLessonPlan(_0x31fb18)),document[_0x2269f8(0x7e4)]('confirmation-modal')[_0x2269f8(0x9e6)]('h3')[_0x2269f8(0x5c5)]=_0x2269f8(0x3a9),document[_0x2269f8(0x7e4)](_0x2269f8(0x2c3))[_0x2269f8(0x5c5)]=_0x2269f8(0x2a0)):handleGenerateLessonPlan(_0x31fb18);}else{if(_0x14cfa9)handleToggleStarQuiz(_0x14cfa9[_0x2269f8(0x4ee)]['quizId']);else{if(_0x594730)copyTextToClipboard(_0x594730['dataset'][_0x2269f8(0x560)],_0x2269f8(0x316));else{if(_0x1560b5)handleOpenQuizEditor(_0x1560b5['dataset'][_0x2269f8(0x560)]);else{if(_0x465087)handleQuizSettings(_0x465087[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);else{if(_0x574a2c)handleDuplicateQuiz(_0x574a2c['dataset'][_0x2269f8(0x560)]);else{if(_0x473af3)handleRenameQuiz(_0x473af3[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x473af3[_0x2269f8(0x4ee)][_0x2269f8(0xab8)]);else{if(_0x485305){const _0xd4be89=_0x485305[_0x2269f8(0x4ee)]['quizId'],_0x15b781=allQuizzes[_0x2269f8(0x3fd)](_0x3cbcc6=>_0x3cbcc6['id']===_0xd4be89);_0x15b781&&handleGenerateParallelFromBank(_0x15b781);}else{if(_0xc24ba4)handleMoveQuiz(_0xc24ba4[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);else{if(_0x32d9e8)handleManualQuizPairing(_0x32d9e8[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);else{if(_0x1dba4c)handleUnpairQuiz(_0x1dba4c[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);else{if(_0x58959f){const _0x5afa63=_0x58959f[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x24382a=allQuizzes[_0x2269f8(0x3fd)](_0x2950d0=>_0x2950d0['id']===_0x5afa63);if(_0x24382a)startPresentation(_0x24382a);}else{if(_0x1d516a){const _0xf93e6d=_0x1d516a[_0x2269f8(0x4ee)][_0x2269f8(0x560)],_0x3f02a0=allQuizzes[_0x2269f8(0x3fd)](_0x36acfd=>_0x36acfd['id']===_0xf93e6d);_0x3f02a0&&(currentQuizData=_0x3f02a0,startAdminTest());}else{if(_0x36d340)actionTargetId=_0x36d340[_0x2269f8(0x4ee)][_0x2269f8(0x560)],document[_0x2269f8(0x7e4)]('export-pdf-modal')[_0x2269f8(0x683)][_0x2269f8(0x21f)](_0x2269f8(0x80f));else{if(_0x3573fe)showConfirmation(_0x2269f8(0x5ad)+_0x3573fe[_0x2269f8(0x4ee)][_0x2269f8(0xab8)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x3573fe['dataset'][_0x2269f8(0x560)]));else{if(_0x486a8d)handleQuizStatus(_0x486a8d['dataset']['quizId']);else{if(_0x3af252)handleGenerateEasyVersionQuiz(_0x3af252[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);else _0x1e3d92&&showQuizDetailView(_0x1e3d92[_0x2269f8(0x4ee)][_0x2269f8(0x560)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0xa7a))['addEventListener']('click',()=>showView('student')),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x699))[_0x2cafa2(0x8c2)]('click',confirmAndStartTeamQuiz),document[_0x2cafa2(0x7e4)]('quiz-leaderboard-table')[_0x2cafa2(0x9e6)](_0x2cafa2(0x7d9))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x51891e=>{const _0x2676a3=_0x2cafa2,_0x5035e0=_0x51891e['target']['closest']('.sortable-header');if(!_0x5035e0||!_0x5035e0[_0x2676a3(0x4ee)][_0x2676a3(0x6a1)])return;const _0xb4f427=_0x5035e0[_0x2676a3(0x4ee)]['sort'];if(quizLeaderboardSortBy===_0xb4f427)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x2676a3(0x545):'asc';else{quizLeaderboardSortBy=_0xb4f427;const _0x58c77a=[_0x2676a3(0xa96)];quizLeaderboardSortOrder=_0x58c77a[_0x2676a3(0x365)](_0xb4f427)?_0x2676a3(0xa68):_0x2676a3(0x545);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2676a3(0xa49));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x877))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),closePresentation),document['getElementById'](_0x2cafa2(0x760))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x2cafa2(0x774))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x1569c7=_0x2cafa2;currentQuizData[_0x1569c7(0x7dc)]&&currentPresentationSlide<currentQuizData['questions'][_0x1569c7(0x630)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2cafa2(0x8c2)]('fullscreenchange',()=>{const _0x322921=_0x2cafa2;!document[_0x322921(0xa2b)]&&(presentationModal[_0x322921(0xa0e)]['display']=_0x322921(0x3e7));}),document[_0x2cafa2(0x7e4)]('delete-all-students-btn')[_0x2cafa2(0x8c2)]('click',handleDeleteAllStudents),studentList[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x4d773a=>{const _0x308635=_0x2cafa2,_0x2d7ed1=_0x4d773a[_0x308635(0xa1e)][_0x308635(0x518)](_0x308635(0x79d));if(_0x2d7ed1){const _0x450d23=_0x2d7ed1[_0x308635(0x4ee)][_0x308635(0xa96)];handleDeleteStudent(_0x450d23);}}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x266))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleGenerateFromFileClick),fileUploadInput[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),_0x320b1f=>{const _0xfb0be9=_0x2cafa2,_0x17d00f=_0x320b1f[_0xfb0be9(0xa1e)]['files'][0x0],_0x17c223=document[_0xfb0be9(0x7e4)](_0xfb0be9(0x266));_0x17d00f?(selectedFile=_0x17d00f,_0x17c223['disabled']=![]):(selectedFile=null,_0x17c223[_0xfb0be9(0x7ac)]=!![]);}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x51b))[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),_0x4cadd2=>{const _0x2e8e22=_0x2cafa2,_0x45477f=document[_0x2e8e22(0x7e4)]('timer-duration-container'),_0x5464b3=document[_0x2e8e22(0x7e4)]('timer-duration-label'),_0x3d9f0a=document[_0x2e8e22(0x7e4)](_0x2e8e22(0x4ea));_0x4cadd2['target'][_0x2e8e22(0x2cd)]===_0x2e8e22(0x3e7)?_0x45477f[_0x2e8e22(0x683)][_0x2e8e22(0x816)](_0x2e8e22(0x80f)):(_0x45477f[_0x2e8e22(0x683)][_0x2e8e22(0x21f)](_0x2e8e22(0x80f)),_0x4cadd2[_0x2e8e22(0xa1e)][_0x2e8e22(0x2cd)]===_0x2e8e22(0x993)?(_0x5464b3[_0x2e8e22(0x5c5)]='ระยะเวลา\x20(นาที):',_0x3d9f0a['value']='10'):(_0x5464b3[_0x2e8e22(0x5c5)]=_0x2e8e22(0x218),_0x3d9f0a[_0x2e8e22(0x2cd)]='30'));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x838))[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),_0x3fd06f=>{const _0x4c1a1f=_0x2cafa2,_0x34f78f=document[_0x4c1a1f(0x7e4)](_0x4c1a1f(0x31c)),_0x3cc9fb=_0x3fd06f[_0x4c1a1f(0xa1e)]['value'],_0x52867c=document[_0x4c1a1f(0x9e6)](_0x4c1a1f(0x479)),_0x3b5deb=document[_0x4c1a1f(0x7e4)](_0x4c1a1f(0x9c3)),_0x1ef46b=document[_0x4c1a1f(0x7e4)](_0x4c1a1f(0x334));_0x3cc9fb===_0x4c1a1f(0x2c6)?_0x52867c[_0x4c1a1f(0x5c5)]=_0x4c1a1f(0x61a):_0x52867c['textContent']=_0x4c1a1f(0xaf3),_0x3cc9fb==='multiple_choice'||_0x3cc9fb===_0x4c1a1f(0x4d7)||_0x3cc9fb==='mixed'?_0x34f78f[_0x4c1a1f(0x683)]['remove'](_0x4c1a1f(0x80f)):_0x34f78f[_0x4c1a1f(0x683)]['add']('hidden'),_0x3b5deb['max']=_0x1ef46b[_0x4c1a1f(0x2cd)];}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x334))['addEventListener'](_0x2cafa2(0x3fa),_0x20eb57=>{const _0x418252=_0x2cafa2;document[_0x418252(0x7e4)](_0x418252(0x9c3))[_0x418252(0x2de)]=_0x20eb57['target'][_0x418252(0x2cd)];}),document['getElementById'](_0x2cafa2(0x655))[_0x2cafa2(0x8c2)](_0x2cafa2(0x627),_0x4a510c=>{const _0x1f727f=_0x2cafa2,_0x24e601=document[_0x1f727f(0x7e4)](_0x1f727f(0x992)),_0x46c228=document[_0x1f727f(0x7e4)](_0x1f727f(0x229)),_0x2593a5=document[_0x1f727f(0x7e4)](_0x1f727f(0x4c8));_0x4a510c['target'][_0x1f727f(0x2cd)]===_0x1f727f(0x3e7)?_0x24e601[_0x1f727f(0x683)][_0x1f727f(0x816)]('hidden'):(_0x24e601[_0x1f727f(0x683)][_0x1f727f(0x21f)](_0x1f727f(0x80f)),_0x4a510c['target'][_0x1f727f(0x2cd)]==='whole_quiz'?_0x46c228[_0x1f727f(0x5c5)]='ระยะเวลา\x20(นาที):':_0x46c228[_0x1f727f(0x5c5)]=_0x1f727f(0x218));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x2f2))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x402437=_0x2cafa2;document[_0x402437(0x7e4)]('quiz-editor-modal')[_0x402437(0x683)]['add'](_0x402437(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x900))[_0x2cafa2(0x8c2)]('click',()=>{const _0x2b4e40=_0x2cafa2;document[_0x2b4e40(0x7e4)]('quiz-editor-modal')['classList'][_0x2b4e40(0x816)](_0x2b4e40(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x42f))['addEventListener'](_0x2cafa2(0x75b),handleVerifyAnswersInEditor),document[_0x2cafa2(0x7e4)]('save-quiz-edits-btn')[_0x2cafa2(0x8c2)]('click',()=>{const _0x5650e3=_0x2cafa2;document[_0x5650e3(0x7e4)](_0x5650e3(0xa54))[_0x5650e3(0x683)]['add']('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x2b1))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),handleAutoFixLatex);const _0x574b1a=document[_0x2cafa2(0x7e4)](_0x2cafa2(0xaec));_0x574b1a&&_0x574b1a[_0x2cafa2(0x8c2)]('click',_0x42b70d=>{const _0x559549=_0x2cafa2,_0x5bc3a3=_0x42b70d[_0x559549(0xa1e)]['closest'](_0x559549(0x98b)),_0x342811=_0x42b70d[_0x559549(0xa1e)]['closest'](_0x559549(0x9ed));if(_0x5bc3a3){const _0x3425e1=_0x5bc3a3[_0x559549(0x518)](_0x559549(0xac4)),_0x2d89cb=parseInt(_0x3425e1[_0x559549(0x4ee)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x2d89cb);}else{if(_0x342811){const _0x5a267e=_0x342811['closest'](_0x559549(0xac4)),_0x5a004d=parseInt(_0x5a267e[_0x559549(0x4ee)][_0x559549(0x5e8)],0xa);handleAiFixFormula(_0x5a004d);}}});document['getElementById'](_0x2cafa2(0x807))['addEventListener'](_0x2cafa2(0x75b),openQuizBankModal),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x8c1))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x11096f=_0x2cafa2;document['getElementById'](_0x11096f(0x9bd))[_0x11096f(0x683)]['add'](_0x11096f(0x80f));}),document['getElementById'](_0x2cafa2(0x5e6))[_0x2cafa2(0x8c2)](_0x2cafa2(0x3fa),_0x5634ef=>renderQuizBankList(_0x5634ef[_0x2cafa2(0xa1e)][_0x2cafa2(0x2cd)]));const _0x589e43=document[_0x2cafa2(0x7e4)](_0x2cafa2(0x417));if(_0x589e43){let _0x404d99=null;_0x589e43[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x4b01dd=>{const _0x18ec7f=_0x2cafa2,_0x3c128b=_0x4b01dd[_0x18ec7f(0xa1e)],_0x88c2ae=_0x3c128b[_0x18ec7f(0x518)](_0x18ec7f(0x5ba)),_0x5269ba=_0x3c128b['closest']('.delete-custom-topic-btn'),_0x1cdd0d=_0x3c128b['closest'](_0x18ec7f(0x4bc)),_0x4dc75b=_0x3c128b[_0x18ec7f(0x518)](_0x18ec7f(0x8dc));if(_0x5269ba){_0x4b01dd['preventDefault']();const _0x30a8e5=_0x5269ba[_0x18ec7f(0x4ee)]['id'],_0x385e62=_0x5269ba['closest']('.group')[_0x18ec7f(0x9e6)](_0x18ec7f(0xa8b))[_0x18ec7f(0x5c5)];showConfirmation(_0x18ec7f(0x44a)+_0x385e62+'\x22?',()=>handleDeleteCustomTopic(_0x30a8e5));}else{if(_0x88c2ae){_0x4b01dd[_0x18ec7f(0x4f0)]();_0x404d99&&toggleTopicEditMode(_0x404d99,![]);const _0x5f20ce=_0x88c2ae[_0x18ec7f(0x518)](_0x18ec7f(0x679));_0x404d99=_0x5f20ce,toggleTopicEditMode(_0x5f20ce,!![]);}else{if(_0x1cdd0d){_0x4b01dd[_0x18ec7f(0x4f0)]();const _0x5de63c=_0x1cdd0d[_0x18ec7f(0x4ee)]['id'],_0x31f2fb=_0x1cdd0d[_0x18ec7f(0x518)]('[data-topic-container-id]'),_0x37fcd8=_0x31f2fb[_0x18ec7f(0x9e6)]('.topic-name-input')[_0x18ec7f(0x2cd)];handleUpdateCustomTopic(_0x5de63c,_0x37fcd8),_0x404d99=null;}else{if(_0x4dc75b){_0x4b01dd['preventDefault']();const _0x30ab1d=_0x4dc75b[_0x18ec7f(0x518)](_0x18ec7f(0x679));toggleTopicEditMode(_0x30ab1d,![]),_0x404d99=null;}}}}}),document[_0x2cafa2(0x7e4)]('close-lesson-plan-modal-btn')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x20fea8=_0x2cafa2;document[_0x20fea8(0x7e4)]('lesson-plan-modal')['classList']['add'](_0x20fea8(0x80f));}),document['getElementById'](_0x2cafa2(0x7bd))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x1bfe57=_0x2cafa2;document[_0x1bfe57(0x7e4)]('lesson-plan-modal')[_0x1bfe57(0x683)][_0x1bfe57(0x816)](_0x1bfe57(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x952))[_0x2cafa2(0x8c2)]('click',handleExportLessonPDF);}document[_0x2cafa2(0x7e4)](_0x2cafa2(0x416))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x20e440=_0x2cafa2;document[_0x20e440(0x7e4)](_0x20e440(0xa92))[_0x20e440(0x683)][_0x20e440(0x816)](_0x20e440(0x80f));}),document[_0x2cafa2(0x7e4)](_0x2cafa2(0x856))[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),()=>{const _0x59e6f4=_0x2cafa2;document[_0x59e6f4(0x7e4)](_0x59e6f4(0xa92))[_0x59e6f4(0x683)][_0x59e6f4(0x816)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x2cafa2(0x8c2)]('click',function(_0x5a8f13){const _0x4b3b5a=_0x2cafa2;if(_0x5a8f13[_0x4b3b5a(0xa1e)][_0x4b3b5a(0x683)][_0x4b3b5a(0x344)](_0x4b3b5a(0x8c9))){const _0x53a8b1=unescape(_0x5a8f13['target'][_0x4b3b5a(0x4ee)][_0x4b3b5a(0xab8)]);startSkillPractice(_0x53a8b1);}}),document[_0x2cafa2(0x7e4)]('scores-tab-content')[_0x2cafa2(0x8c2)](_0x2cafa2(0x75b),_0x3df28c=>{const _0x4efb14=_0x2cafa2,_0x25dbfe=_0x3df28c[_0x4efb14(0xa1e)][_0x4efb14(0x518)](_0x4efb14(0x35e));if(_0x25dbfe){const _0x48344b=_0x25dbfe[_0x4efb14(0x4ee)][_0x4efb14(0xa96)];handleDeleteSubmission(_0x48344b);}});}async function handleStartGroupMode(_0x253a43,_0x5cf00e=![]){const _0x39f37=_0xe5be95,_0x5ae876=allQuizzes[_0x39f37(0x3fd)](_0x2a554d=>_0x2a554d['id']===_0x253a43)||allQuizzesGlobal['find'](_0x205348=>_0x205348['id']===_0x253a43);if(!_0x5ae876){showMessage(_0x39f37(0x653));return;}currentQuizData=getShuffledQuiz(_0x5ae876);const _0x2f49ee=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x4bc49f=await addDoc(collection(db,_0x39f37(0x62e)+appId+_0x39f37(0x6ef)),{'quizId':_0x5ae876['id'],'projectId':_0x5ae876['projectId'],'status':_0x39f37(0x9e1),'pin':_0x2f49ee,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5cf00e});currentTeamQuizId=_0x4bc49f['id'],showView(_0x39f37(0x750)),renderAdminTeamQuizDashboard(_0x2f49ee,_0x5ae876[_0x39f37(0xab8)],_0x39f37(0x8b8)),listenForTeamQuizUpdates();}catch(_0x4c0610){console[_0x39f37(0x72a)](_0x39f37(0x674),_0x4c0610),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x29aca7=_0xe5be95;studentInitialView['classList'][_0x29aca7(0x816)]('hidden'),document[_0x29aca7(0x7e4)](_0x29aca7(0x4d8))[_0x29aca7(0x683)][_0x29aca7(0x21f)](_0x29aca7(0x80f));const _0x1d627b=document[_0x29aca7(0x7e4)]('progress-project-select'),_0x1b0b02=document[_0x29aca7(0x7e4)](_0x29aca7(0x645)),_0x252fcf=document[_0x29aca7(0x7e4)](_0x29aca7(0x4c2));_0x252fcf[_0x29aca7(0x994)]=_0x29aca7(0xaaf),_0x1b0b02['innerHTML']=_0x29aca7(0x9cc),_0x1b0b02[_0x29aca7(0x7ac)]=!![],_0x1d627b[_0x29aca7(0x994)]=_0x29aca7(0x4c9);if(allProjects[_0x29aca7(0x630)]===0x0){const _0x43ef26=collection(db,_0x29aca7(0x62e)+appId+'/public/data/projects'),_0xfc5690=await getDocs(_0x43ef26);allProjects=_0xfc5690[_0x29aca7(0x966)][_0x29aca7(0x374)](_0x2cead4=>({'id':_0x2cead4['id'],..._0x2cead4[_0x29aca7(0x291)]()}));}const _0x5955b4=allProjects['filter'](_0x585005=>_0x585005[_0x29aca7(0x4ef)]?.['showInStudentDashboard']!==![]);_0x5955b4[_0x29aca7(0x6a1)]((_0x45f478,_0x465364)=>_0x45f478[_0x29aca7(0x7ee)][_0x29aca7(0x5bf)](_0x465364[_0x29aca7(0x7ee)],'th')),_0x1d627b['innerHTML']=_0x29aca7(0x4cf)+_0x5955b4['map'](_0x291f8b=>_0x29aca7(0x776)+_0x291f8b['id']+'\x22>'+_0x291f8b['projectName']+_0x29aca7(0x339))['join'](''),_0x1d627b[_0x29aca7(0xa89)]=()=>{const _0x5c0f4b=_0x29aca7,_0x29f1e8=_0x1b0b02[_0x5c0f4b(0x2cd)],_0x53a59b=_0x1d627b[_0x5c0f4b(0x2cd)];_0x1b0b02['disabled']=!![],_0x1b0b02[_0x5c0f4b(0x994)]=_0x5c0f4b(0x9cc),_0x252fcf[_0x5c0f4b(0x994)]=_0x5c0f4b(0x500);if(!_0x53a59b)return;const _0x2c60e9=allProjects[_0x5c0f4b(0x3fd)](_0x5e6e1d=>_0x5e6e1d['id']===_0x53a59b);if(!_0x2c60e9||!_0x2c60e9[_0x5c0f4b(0x2f0)])return;const _0xaa8f79=()=>{const _0x5020ec=_0x5c0f4b;_0x1b0b02[_0x5020ec(0x994)]=_0x5020ec(0x9cc)+_0x2c60e9['students'][_0x5020ec(0x374)](_0x4a48bc=>_0x5020ec(0x776)+_0x4a48bc+'\x22>'+_0x4a48bc+_0x5020ec(0x339))['join'](''),_0x1b0b02[_0x5020ec(0x7ac)]=![];const _0x103c8e=Array[_0x5020ec(0x3dd)](_0x1b0b02[_0x5020ec(0x93f)])['map'](_0x296bbd=>_0x296bbd[_0x5020ec(0x2cd)]);if(_0x29f1e8&&_0x103c8e[_0x5020ec(0x365)](_0x29f1e8))_0x1b0b02[_0x5020ec(0x2cd)]=_0x29f1e8,_0x1b0b02[_0x5020ec(0xa15)](new Event(_0x5020ec(0x627)));else _0x2c60e9[_0x5020ec(0x2f0)][_0x5020ec(0x630)]===0x1&&(_0x1b0b02[_0x5020ec(0x2cd)]=_0x2c60e9['students'][0x0],_0x1b0b02['dispatchEvent'](new Event(_0x5020ec(0x627))));};if(_0x2c60e9[_0x5c0f4b(0x4ef)]?.['isPasscodeEnabled']){if(sessionStorage['getItem']('authed_project_'+_0x53a59b)===_0x5c0f4b(0x744)){_0xaa8f79();return;}const _0x3609e3=document['getElementById'](_0x5c0f4b(0x524)),_0x495b1e=document[_0x5c0f4b(0x7e4)]('confirm-passcode-btn'),_0x1f15e3=document[_0x5c0f4b(0x7e4)](_0x5c0f4b(0x3a4)),_0x1e6080=document[_0x5c0f4b(0x7e4)]('student-passcode-input'),_0x120da4=document[_0x5c0f4b(0x7e4)](_0x5c0f4b(0x350));document[_0x5c0f4b(0x7e4)](_0x5c0f4b(0x6dc))['textContent']='สำหรับโปรเจค:\x20'+_0x2c60e9[_0x5c0f4b(0x7ee)],_0x1e6080[_0x5c0f4b(0x2cd)]='',_0x120da4[_0x5c0f4b(0x683)]['add'](_0x5c0f4b(0x80f)),_0x3609e3[_0x5c0f4b(0x683)][_0x5c0f4b(0x21f)]('hidden');const _0x35a0c7=()=>{const _0x5c9329=_0x5c0f4b,_0x1f1797=_0x1e6080[_0x5c9329(0x2cd)][_0x5c9329(0x7ab)]();_0x1f1797===_0x2c60e9[_0x5c9329(0x4ef)][_0x5c9329(0x361)]?(sessionStorage['setItem'](_0x5c9329(0x68a)+_0x53a59b,_0x5c9329(0x744)),_0x3609e3[_0x5c9329(0x683)][_0x5c9329(0x816)](_0x5c9329(0x80f)),_0xaa8f79(),_0x495b1e['removeEventListener'](_0x5c9329(0x75b),_0x35a0c7)):_0x120da4[_0x5c9329(0x683)]['remove'](_0x5c9329(0x80f));};_0x495b1e[_0x5c0f4b(0x844)]=_0x35a0c7,_0x1f15e3[_0x5c0f4b(0x844)]=()=>{const _0x63dcaf=_0x5c0f4b;_0x3609e3[_0x63dcaf(0x683)]['add'](_0x63dcaf(0x80f)),_0x1d627b['value']='',_0x495b1e[_0x63dcaf(0x302)](_0x63dcaf(0x75b),_0x35a0c7);};}else _0xaa8f79();},_0x1b0b02[_0x29aca7(0xa89)]=()=>{const _0x198ee0=_0x29aca7,_0x1075eb=_0x1d627b[_0x198ee0(0x2cd)],_0x25258b=_0x1b0b02[_0x198ee0(0x2cd)];_0x1075eb&&_0x25258b&&renderStudentProgressDashboard(_0x1075eb,_0x25258b);};}async function confirmAndJoinSyncGame(){const _0x4ae929=_0xe5be95,_0x510a22=Array[_0x4ae929(0x3dd)](document[_0x4ae929(0xa16)](_0x4ae929(0xaa3)))[_0x4ae929(0x374)](_0x5cdc95=>_0x5cdc95[_0x4ae929(0x2cd)]);if(_0x510a22[_0x4ae929(0x630)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x510a22,localPlayerTurnIndex=0x0;const _0x2d834e=doc(db,'artifacts/'+appId+_0x4ae929(0xa21),currentLiveGameId),_0x1e203f={};_0x510a22['forEach'](_0x95d6e0=>{const _0x4931cf=_0x4ae929;_0x1e203f[_0x4931cf(0x35c)+_0x95d6e0]={'name':_0x95d6e0,'score':0x0,'answered':![]};});try{await updateDoc(_0x2d834e,_0x1e203f),document[_0x4ae929(0x7e4)](_0x4ae929(0x369))['classList'][_0x4ae929(0x816)](_0x4ae929(0x80f)),currentStudentName=_0x510a22[0x0],listenForSyncGameUpdates();const _0x56d081={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4ae929(0x804)]('activeGameSession',JSON[_0x4ae929(0x5e9)](_0x56d081));}catch(_0x40d9f2){console[_0x4ae929(0x72a)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x40d9f2),showMessage(_0x4ae929(0x40f));}}async function resumeActiveGameSession(){const _0x504a03=_0xe5be95,_0x1f7e68=sessionStorage[_0x504a03(0xa04)](_0x504a03(0x91d));if(!_0x1f7e68)return;const _0x543036=JSON['parse'](_0x1f7e68),{gameId:_0x3a5287,mode:_0x3e6db0,players:_0x24d628,turnIndex:_0x885e53}=_0x543036;try{let _0x599bb1,_0x3f7c2a;_0x3e6db0===_0x504a03(0x603)?_0x599bb1=doc(db,_0x504a03(0x62e)+appId+'/public/data/syncGames',_0x3a5287):_0x599bb1=doc(db,_0x504a03(0x62e)+appId+_0x504a03(0x6ef),_0x3a5287);_0x3f7c2a=await getDoc(_0x599bb1);if(!_0x3f7c2a['exists']()||_0x3f7c2a['data']()[_0x504a03(0x216)]==='finished'||_0x3f7c2a[_0x504a03(0x291)]()['status']==='podium'){sessionStorage[_0x504a03(0xa06)](_0x504a03(0x91d));return;}console[_0x504a03(0xaf9)](_0x504a03(0x794)+_0x3e6db0+_0x504a03(0x468)+_0x3a5287+')'),localTeamPlayers=_0x24d628,localPlayerTurnIndex=_0x885e53;if(_0x3e6db0===_0x504a03(0x603))currentLiveGameId=_0x3a5287,currentStudentName=_0x24d628[0x0],showView(_0x504a03(0x750)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x3a5287;const _0x3118d2=_0x3f7c2a[_0x504a03(0x291)](),_0x368af3=doc(db,_0x504a03(0x62e)+appId+'/public/data/quizzes',_0x3118d2['quizId']),_0x5178f8=await getDoc(_0x368af3);_0x5178f8[_0x504a03(0xafe)]()&&(currentQuizData=getShuffledQuiz({'id':_0x5178f8['id'],..._0x5178f8[_0x504a03(0x291)]()}),showView(_0x504a03(0x923)),studentInitialView[_0x504a03(0x683)][_0x504a03(0x816)]('hidden'),renderTeamQuizQuestion());}}catch(_0x2a9660){console[_0x504a03(0x72a)](_0x504a03(0x611),_0x2a9660),sessionStorage['removeItem'](_0x504a03(0x91d));}}async function handleKickPlayerSync(_0x48bd4c){const _0x280672=_0xe5be95;if(!currentLiveGameId||!_0x48bd4c)return;const _0x4a649a=doc(db,_0x280672(0x62e)+appId+_0x280672(0xa21),currentLiveGameId),_0x2248ca={};_0x2248ca[_0x280672(0x35c)+_0x48bd4c+'.status']='inactive';try{await updateDoc(_0x4a649a,_0x2248ca);}catch(_0x1776ab){console[_0x280672(0x72a)]('Failed\x20to\x20kick\x20player\x20'+_0x48bd4c+_0x280672(0x70a),_0x1776ab),showMessage(_0x280672(0x286));}}async function renderStudentProgressDashboard(_0x548df5,_0x15b058){const _0x204e57=_0xe5be95,_0x4413f9=document[_0x204e57(0x7e4)](_0x204e57(0x4c2));_0x4413f9[_0x204e57(0x994)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x543938=collection(db,_0x204e57(0x62e)+appId+_0x204e57(0x721)),_0x388d9d=query(_0x543938,where(_0x204e57(0x6fa),'==',_0x548df5)),_0x386392=await getDocs(_0x388d9d),_0x2ecb0c=_0x386392['docs'][_0x204e57(0x374)](_0x2e841c=>({'id':_0x2e841c['id'],..._0x2e841c[_0x204e57(0x291)]()})),_0x175cb9=_0x2ecb0c[_0x204e57(0x374)](_0x39e3c0=>getDoc(doc(db,'artifacts/'+appId+_0x204e57(0x9f7)+_0x39e3c0['id']+_0x204e57(0xa52),_0x15b058))),_0x59f3a9=await Promise[_0x204e57(0x534)](_0x175cb9),_0x298eec=_0x59f3a9[_0x204e57(0x670)](_0x327860=>_0x327860[_0x204e57(0xafe)]())[_0x204e57(0x374)](_0x184dc7=>({'quizId':_0x184dc7[_0x204e57(0x6e1)][_0x204e57(0x1fa)][_0x204e57(0x1fa)]['id'],..._0x184dc7[_0x204e57(0x291)]()}));if(_0x298eec['length']===0x0){_0x4413f9[_0x204e57(0x994)]=_0x204e57(0x6b6);return;}let _0x4cb7f0=_0x204e57(0x325);_0x298eec[_0x204e57(0xa64)](_0x29e399=>{const _0x305354=_0x204e57,_0x4b7121=_0x2ecb0c[_0x305354(0x3fd)](_0x514ba0=>_0x514ba0['id']===_0x29e399['quizId']),_0x40037c=_0x4b7121[_0x305354(0x4ef)]?.[_0x305354(0xab5)]||_0x305354(0x471),_0xf895a7=_0x4b7121[_0x305354(0x4ef)]?.['passingScore']??0x0,_0x41bc67=_0x29e399[_0x305354(0x93b)]>=_0xf895a7;let _0x37eafb='',_0x5cb632='bg-gray-50';switch(_0x40037c){case _0x305354(0x471):case'show_results_only':_0x5cb632=_0x41bc67?_0x305354(0x5b8):_0x305354(0x899),_0x37eafb=_0x305354(0x9af)+(_0x41bc67?_0x305354(0x700):_0x305354(0x3f3))+'\x22>'+_0x29e399['bestScore']+_0x305354(0x70f)+_0x29e399[_0x305354(0xa83)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x41bc67?'bg-green-200\x20text-green-800':_0x305354(0x33e))+'\x22>'+(_0x41bc67?_0x305354(0x6b9):_0x305354(0x68f))+_0x305354(0x592);break;case'show_pass_fail_only':_0x5cb632=_0x41bc67?'bg-green-50':'bg-red-50',_0x37eafb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x41bc67?_0x305354(0x78b):_0x305354(0x33e))+'\x22>'+(_0x41bc67?_0x305354(0x6b9):_0x305354(0x68f))+_0x305354(0x592);break;case _0x305354(0x9ec):_0x5cb632=_0x305354(0x8dd),_0x37eafb=_0x305354(0x72d);break;}_0x4cb7f0+=_0x305354(0xa56)+_0x5cb632+_0x305354(0x615)+_0x4b7121[_0x305354(0xab8)]+_0x305354(0x272)+_0x29e399[_0x305354(0x8a7)][_0x305354(0x630)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x29e399[_0x305354(0x90f)])[_0x305354(0x507)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37eafb+_0x305354(0xa26);}),_0x4cb7f0+=_0x204e57(0x598),_0x4413f9[_0x204e57(0x994)]=_0x4cb7f0;}catch(_0x34f612){console[_0x204e57(0x72a)](_0x204e57(0x98a),_0x34f612),_0x4413f9[_0x204e57(0x994)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x1daa2f=_0xe5be95;document[_0x1daa2f(0x7e4)](_0x1daa2f(0x23c))[_0x1daa2f(0x8c2)]('click',showStudentProgressView),document['getElementById'](_0x1daa2f(0x97b))['addEventListener'](_0x1daa2f(0x75b),()=>{const _0x549f05=_0x1daa2f;document[_0x549f05(0x7e4)](_0x549f05(0x4d8))[_0x549f05(0x683)]['add'](_0x549f05(0x80f)),document[_0x549f05(0x7e4)](_0x549f05(0x2ec))[_0x549f05(0x683)][_0x549f05(0x21f)](_0x549f05(0x80f));});}async function startSkillPractice(_0x46fa90){const _0x191494=_0xe5be95;studentResultArea[_0x191494(0x683)][_0x191494(0x816)](_0x191494(0x80f)),studentQuizArea['innerHTML']=_0x191494(0x913),studentQuizArea[_0x191494(0x683)][_0x191494(0x21f)](_0x191494(0x80f));try{const _0x4de462=await getStandardizedTopic(_0x46fa90);console[_0x191494(0xaf9)](_0x191494(0x855)+_0x46fa90+_0x191494(0x347)+_0x4de462+'\x22'),studentQuizArea[_0x191494(0x9e6)]('p')[_0x191494(0x5c5)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x4de462+_0x191494(0x3f7);const _0x144bf6=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x4be6b2=query(_0x144bf6,where(_0x191494(0xab8),'==',_0x4de462)),_0x1f9751=await getDocs(_0x4be6b2);if(_0x1f9751[_0x191494(0x966)][_0x191494(0x630)]>=0x3){console[_0x191494(0xaf9)]('พบข้อสอบ\x20'+_0x1f9751['docs'][_0x191494(0x630)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x4de462+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x1b9a4d=_0x1f9751['docs']['map'](_0x1146cb=>_0x1146cb[_0x191494(0x291)]());shuffleArray(_0x1b9a4d);const _0x4b5abe={'topic':_0x4de462,'questions':_0x1b9a4d[_0x191494(0xa51)](0x0,0x3)};displaySkillPracticeDrill(_0x4b5abe);}else{console[_0x191494(0xaf9)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4de462+_0x191494(0x34b));const _0x597640=await generatePracticeQuestions(_0x4de462);await saveDrillToPracticeBank(_0x597640,_0x4de462),displaySkillPracticeDrill(_0x597640);}}catch(_0x1c5548){console[_0x191494(0x72a)](_0x191494(0x729),_0x1c5548),showMessage(_0x191494(0x8db)),studentQuizArea[_0x191494(0x683)][_0x191494(0x816)](_0x191494(0x80f)),studentResultArea[_0x191494(0x683)]['remove'](_0x191494(0x80f));}}async function saveDrillToPracticeBank(_0x1141a9,_0x1cd7bb){const _0xd2e7c1=_0xe5be95,_0x3225b0=collection(db,_0xd2e7c1(0x62e)+appId+_0xd2e7c1(0xa7f)),_0x30027d=writeBatch(db);_0x1141a9[_0xd2e7c1(0x7dc)][_0xd2e7c1(0xa64)](_0x4b3de9=>{const _0x3023af=_0xd2e7c1,_0xc343a0=doc(_0x3225b0);_0x30027d[_0x3023af(0x7ec)](_0xc343a0,{'topic':_0x1cd7bb,'questionText':_0x4b3de9['questionText'],'options':_0x4b3de9['options'],'correctAnswerIndex':_0x4b3de9[_0x3023af(0x60e)],'explanation':_0x4b3de9[_0x3023af(0x555)],'createdAt':serverTimestamp()});});try{await _0x30027d[_0xd2e7c1(0x967)](),console['log']('บันทึกคำถามใหม่\x20'+_0x1141a9['questions'][_0xd2e7c1(0x630)]+_0xd2e7c1(0x3f9));}catch(_0x422ddc){console['error'](_0xd2e7c1(0x2af),_0x422ddc);}}async function getStandardizedTopic(_0x3f3272){const _0x5660e8=_0xe5be95,_0x5ce76e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x3f3272+_0x5660e8(0xabc),_0x5996d0={'type':_0x5660e8(0x253),'properties':{'standardTopic':{'type':_0x5660e8(0x5cc)}},'required':[_0x5660e8(0x95b)]};try{const _0x57b114=await callAnalysisApi(_0x5ce76e,_0x5996d0);return _0x57b114[_0x5660e8(0x95b)];}catch(_0x380109){return console[_0x5660e8(0x72a)](_0x5660e8(0x7ad),_0x380109),_0x3f3272;}}async function handleGenerateEasyVersionQuiz(_0x254678){const _0x1a2bf3=_0xe5be95,_0xdc14cd=document['getElementById'](_0x1a2bf3(0x49c)),_0x3625fe=document[_0x1a2bf3(0x7e4)](_0x1a2bf3(0x5a5));_0x3625fe[_0x1a2bf3(0x683)]['add'](_0x1a2bf3(0x80f));const _0x55d38a=_0x1a2bf3(0x411);_0xdc14cd[_0x1a2bf3(0x694)](_0x1a2bf3(0xa11),_0x55d38a);try{const _0x31ffeb=allQuizzes[_0x1a2bf3(0x3fd)](_0x16a03d=>_0x16a03d['id']===_0x254678);if(!_0x31ffeb)throw new Error(_0x1a2bf3(0x25d));const _0x235426=_0x1a2bf3(0x587)+JSON[_0x1a2bf3(0x5e9)](_0x31ffeb[_0x1a2bf3(0x7dc)])+_0x1a2bf3(0x8b0),_0x4789e1={'type':_0x1a2bf3(0x253),'properties':{'questionText':{'type':_0x1a2bf3(0x5cc)},'questionType':{'type':_0x1a2bf3(0x5cc)},'options':{'type':_0x1a2bf3(0x1e4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1a2bf3(0x9fa)},'idealAnswer':{'type':_0x1a2bf3(0x5cc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1a2bf3(0x5cc)}},'required':[_0x1a2bf3(0x821),'questionType',_0x1a2bf3(0x555)]},_0x3038d9={'type':_0x1a2bf3(0x253),'properties':{'questions':{'type':_0x1a2bf3(0x1e4),'items':_0x4789e1}},'required':[_0x1a2bf3(0x7dc)]},_0x358ab2=await callAnalysisApi(_0x235426,_0x3038d9);if(!_0x358ab2||!_0x358ab2[_0x1a2bf3(0x7dc)]||_0x358ab2[_0x1a2bf3(0x7dc)][_0x1a2bf3(0x630)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x2cdccc=_0x358ab2[_0x1a2bf3(0x7dc)][_0x1a2bf3(0x374)]((_0x40826d,_0x383b37)=>({..._0x40826d,'id':'q_'+Date[_0x1a2bf3(0x46e)]()+'_'+_0x383b37})),_0x441bb2={'projectId':_0x31ffeb['projectId'],'quizType':_0x31ffeb['quizType'],'settings':_0x31ffeb[_0x1a2bf3(0x4ef)],'createdBy':_0x31ffeb[_0x1a2bf3(0x8df)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x31ffeb[_0x1a2bf3(0xab8)],'questions':_0x2cdccc,'createdAt':new Date()[_0x1a2bf3(0x74e)](),'quizMode':_0x1a2bf3(0x541),'pairedQuizId':null};let _0x32cb1e;while(!![]){_0x32cb1e=Math[_0x1a2bf3(0x28c)](0x3e8+Math['random']()*0x2328)['toString']();const _0x1c175e=await getDoc(doc(db,_0x1a2bf3(0x62e)+appId+_0x1a2bf3(0x721),_0x32cb1e));if(!_0x1c175e[_0x1a2bf3(0xafe)]())break;}await setDoc(doc(db,_0x1a2bf3(0x62e)+appId+_0x1a2bf3(0x721),_0x32cb1e),_0x441bb2),showMessage(_0x1a2bf3(0x588));}catch(_0x1dc928){console['error'](_0x1a2bf3(0x24a),_0x1dc928),showMessage(_0x1a2bf3(0x586)+_0x1dc928['message']);}finally{const _0x4a83ae=document[_0x1a2bf3(0x7e4)](_0x1a2bf3(0x572));_0x4a83ae&&_0x4a83ae[_0x1a2bf3(0x21f)](),_0x3625fe[_0x1a2bf3(0x683)]['remove'](_0x1a2bf3(0x80f));}}async function generatePracticeQuestions(_0x365fcb){const _0xc3813c=_0xe5be95,_0x264477=_0xc3813c(0x521)+_0x365fcb+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xc3813c(0x3cf),_0x5c017c={'type':_0xc3813c(0x253),'properties':{'questionText':{'type':_0xc3813c(0x5cc)},'options':{'type':_0xc3813c(0x1e4),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xc3813c(0x9fa)},'explanation':{'type':_0xc3813c(0x5cc)}},'required':[_0xc3813c(0x821),'options',_0xc3813c(0x60e),_0xc3813c(0x555)]},_0x2d5050={'type':'OBJECT','properties':{'topic':{'type':_0xc3813c(0x5cc)},'questions':{'type':_0xc3813c(0x1e4),'items':_0x5c017c}},'required':['topic',_0xc3813c(0x7dc)]};return await callAnalysisApi(_0x264477,_0x2d5050);}function displayLessonPlan(_0x3cd8cd,_0x3be0bb){const _0x561550=_0xe5be95,_0x24b038=_0x561550(0x440)+_0x3be0bb[_0x561550(0xab8)]+_0x561550(0x79a)+_0x3cd8cd[_0x561550(0x710)]['map'](_0x2e0ac4=>'<li>'+_0x2e0ac4+_0x561550(0x9f4))[_0x561550(0x7c3)]('')+_0x561550(0x46f)+_0x3cd8cd['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3cd8cd[_0x561550(0xac9)]['map'](_0x340123=>_0x561550(0x214)+_0x340123[_0x561550(0x5ca)]+_0x561550(0x895)+_0x340123[_0x561550(0xaeb)]+_0x561550(0xae9))[_0x561550(0x7c3)]('')+_0x561550(0x4d3);document[_0x561550(0x7e4)]('lesson-plan-title')[_0x561550(0x5c5)]=_0x561550(0xa09)+_0x3be0bb['topic'],document['getElementById']('lesson-plan-content')[_0x561550(0x994)]=_0x24b038,document[_0x561550(0x7e4)](_0x561550(0x6d2))[_0x561550(0x683)][_0x561550(0x21f)](_0x561550(0x80f));if(window[_0x561550(0x422)])MathJax[_0x561550(0x32a)]();}function displaySkillPracticeDrill(_0x5a926e){const _0x2aff92=_0xe5be95;let _0x4a99f7=0x0;const _0x1cacc8=_0x5a926e[_0x2aff92(0x7dc)],_0x2a5820=()=>{const _0x4e6abc=_0x2aff92,_0xbdc1b4=_0x1cacc8[_0x4a99f7],_0x3c354a=_0x4e6abc(0x509)+(_0x4a99f7+0x1)+_0x4e6abc(0x70f)+_0x1cacc8[_0x4e6abc(0x630)]+_0x4e6abc(0x963)+_0xbdc1b4['questionText']+_0x4e6abc(0x98e)+_0xbdc1b4[_0x4e6abc(0x93f)]['map']((_0x9084c1,_0xb3c6b6)=>_0x4e6abc(0xa65)+_0xb3c6b6+_0x4e6abc(0x5d8)+_0xb3c6b6+_0x4e6abc(0x793)+_0xb3c6b6+'\x22>'+_0x9084c1+_0x4e6abc(0x614))[_0x4e6abc(0x7c3)]('')+_0x4e6abc(0x20a);studentQuizArea[_0x4e6abc(0x994)]=_0x3c354a;if(window[_0x4e6abc(0x422)])MathJax['typesetPromise']([studentQuizArea]);document[_0x4e6abc(0x7e4)](_0x4e6abc(0x1f0))[_0x4e6abc(0x8c2)]('click',async()=>{const _0x1bd1cb=await getHintForQuestion(_0xbdc1b4['questionText']);showMessage(_0x1bd1cb);}),document['getElementById'](_0x4e6abc(0x3bf))['addEventListener'](_0x4e6abc(0x75b),()=>{const _0x2bb7be=_0x4e6abc,_0x57b757=document[_0x2bb7be(0x9e6)](_0x2bb7be(0x745));if(!_0x57b757){showMessage(_0x2bb7be(0x287));return;}const _0x462ce1=document[_0x2bb7be(0x7e4)](_0x2bb7be(0x493)),_0x268b5e=parseInt(_0x57b757[_0x2bb7be(0x2cd)])===_0xbdc1b4['correctAnswerIndex'];_0x268b5e?(_0x462ce1['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x462ce1['innerHTML']=_0x2bb7be(0x4d2)+_0xbdc1b4[_0x2bb7be(0x555)]):(_0x462ce1[_0x2bb7be(0x50c)]=_0x2bb7be(0x2df),_0x462ce1[_0x2bb7be(0x994)]=_0x2bb7be(0x1f1)+_0xbdc1b4[_0x2bb7be(0x555)]);_0x462ce1['classList'][_0x2bb7be(0x21f)](_0x2bb7be(0x80f));if(window[_0x2bb7be(0x422)])MathJax[_0x2bb7be(0x32a)]([_0x462ce1]);document[_0x2bb7be(0x7e4)](_0x2bb7be(0x3bf))[_0x2bb7be(0x683)][_0x2bb7be(0x816)](_0x2bb7be(0x80f)),document['getElementById'](_0x2bb7be(0x1f0))['classList'][_0x2bb7be(0x816)](_0x2bb7be(0x80f)),document[_0x2bb7be(0x7e4)](_0x2bb7be(0x3b8))[_0x2bb7be(0x683)]['remove'](_0x2bb7be(0x80f));}),document[_0x4e6abc(0x7e4)](_0x4e6abc(0x3b8))[_0x4e6abc(0x8c2)]('click',()=>{const _0x2bc057=_0x4e6abc;_0x4a99f7++,_0x4a99f7<_0x1cacc8[_0x2bc057(0x630)]?_0x2a5820():(studentQuizArea[_0x2bc057(0x994)]=_0x2bc057(0x7aa),document['getElementById'](_0x2bc057(0x9fd))['addEventListener']('click',()=>{const _0x147d32=_0x2bc057;studentQuizArea[_0x147d32(0x683)]['add']('hidden'),studentResultArea['classList']['remove']('hidden');}));});};_0x2a5820();}async function getHintForQuestion(_0x32fafb){const _0x185235=_0xe5be95,_0x47528e=_0x185235(0x6fe)+_0x32fafb+_0x185235(0x397),_0x3af000={'type':_0x185235(0x253),'properties':{'hint':{'type':_0x185235(0x5cc)}},'required':[_0x185235(0x24c)]};try{const _0x2115f2=await callAnalysisApi(_0x47528e,_0x3af000);return _0x2115f2['hint'];}catch(_0x264b22){return console[_0x185235(0x72a)](_0x185235(0x436),_0x264b22),_0x185235(0x83a);}}async function extractTextFromPdf(_0x1089d0){const _0x3628e8=_0xe5be95;pdfjsLib[_0x3628e8(0x5b1)][_0x3628e8(0x1f5)]=_0x3628e8(0x573);const _0x622e3c=await _0x1089d0[_0x3628e8(0x3b3)](),_0x5686b6=await pdfjsLib[_0x3628e8(0x8e1)](_0x622e3c)[_0x3628e8(0x443)],_0x841486=_0x5686b6['numPages'];let _0x52d861='';for(let _0xcb9304=0x1;_0xcb9304<=_0x841486;_0xcb9304++){const _0x6fb76a=await _0x5686b6['getPage'](_0xcb9304),_0x32980d=await _0x6fb76a[_0x3628e8(0x5cf)](),_0x32a628=_0x32980d[_0x3628e8(0x25f)]['map'](_0x650f1f=>_0x650f1f[_0x3628e8(0x635)])[_0x3628e8(0x7c3)]('\x20');_0x52d861+=_0x32a628+'\x0a\x0a';}return _0x52d861;}async function handleGenerateFromBlueprint(){const _0x1372b8=_0xe5be95,_0x29d7dc=document[_0x1372b8(0x7e4)](_0x1372b8(0x3d1)),_0xcb3965=document[_0x1372b8(0x7e4)](_0x1372b8(0x2a2)),_0x440aff=_0x29d7dc[_0x1372b8(0x83b)][0x0],_0x42327b=_0xcb3965[_0x1372b8(0x83b)]['length']>0x0?_0xcb3965['files'][0x0]:null;if(!_0x440aff){showMessage(_0x1372b8(0x4d6));return;}const _0x47fd20=document[_0x1372b8(0x7e4)]('loader'),_0x222822=document[_0x1372b8(0x7e4)](_0x1372b8(0x426)),_0x2eacd5=document[_0x1372b8(0x7e4)](_0x1372b8(0xa81)),_0x59ebec=document[_0x1372b8(0x7e4)](_0x1372b8(0x34a));_0x59ebec['disabled']=!![],document[_0x1372b8(0x7e4)]('quiz-generation-area')[_0x1372b8(0x683)]['remove'](_0x1372b8(0x80f)),_0x2eacd5[_0x1372b8(0x994)]='',_0x47fd20['classList'][_0x1372b8(0x21f)](_0x1372b8(0x80f));try{_0x222822['textContent']=_0x1372b8(0x20d);const _0x21c7d8=await extractTextFromPdf(_0x440aff);if(!_0x21c7d8[_0x1372b8(0x7ab)]())throw new Error(_0x1372b8(0x833));let _0x37a742='';_0x42327b&&(_0x222822['textContent']=_0x1372b8(0x3cd),_0x37a742=await extractTextFromPdf(_0x42327b));_0x222822['textContent']='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x2b6bdb=document[_0x1372b8(0x7e4)](_0x1372b8(0x5bc))[_0x1372b8(0x4e1)],_0x651670=_0x2b6bdb?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x36e1bb=_0x37a742?_0x1372b8(0x8f4)+_0x37a742+_0x1372b8(0x31d):'',_0x170cb5=_0x1372b8(0x2d8)+(_0x37a742?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x1372b8(0x26f)+_0x21c7d8+_0x1372b8(0x31d)+_0x36e1bb+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x651670+_0x1372b8(0x70d)+simpleMathPrompt+_0x1372b8(0x3d0),_0xbe1dc1={'type':'OBJECT','properties':{'questionText':{'type':_0x1372b8(0x5cc)},'questionType':{'type':'STRING','enum':[_0x1372b8(0x999),_0x1372b8(0x4dd)]},'options':{'type':'ARRAY','items':{'type':_0x1372b8(0x5cc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1372b8(0x5cc)},'explanation':{'type':_0x1372b8(0x5cc)},'imageCode':{'type':'STRING'}},'required':[_0x1372b8(0x821),'questionType',_0x1372b8(0x555)]},_0x57cd9d={'type':_0x1372b8(0x253),'properties':{'topic':{'type':_0x1372b8(0x5cc)},'questions':{'type':_0x1372b8(0x1e4),'items':_0xbe1dc1}},'required':[_0x1372b8(0xab8),_0x1372b8(0x7dc)]};await handleApiCall(_0x170cb5,_0x1372b8(0x4bf),_0x57cd9d);}catch(_0x365f7c){console[_0x1372b8(0x72a)](_0x1372b8(0x7d0),_0x365f7c),showMessage(_0x1372b8(0x586)+_0x365f7c[_0x1372b8(0x88c)]),_0x2eacd5[_0x1372b8(0x994)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x47fd20[_0x1372b8(0x683)]['add'](_0x1372b8(0x80f)),_0x59ebec[_0x1372b8(0x7ac)]=![];}}function renderAdminSyncDashboard(_0x1bab47,_0x2d7e1f){const _0x1de9cb=_0xe5be95,_0x224a7e=Object[_0x1de9cb(0x605)](_0x1bab47['players']||{}),_0x30f33f=_0x224a7e[_0x1de9cb(0x630)],_0x22c9ce=[..._0x224a7e][_0x1de9cb(0x6a1)]((_0x30240f,_0x3c197f)=>_0x3c197f[_0x1de9cb(0x32e)]-_0x30240f[_0x1de9cb(0x32e)]),_0x2241e8=_0x1bab47[_0x1de9cb(0x3e5)];let _0x44467c='';const _0x3653f2=_0x1bab47[_0x1de9cb(0x43f)]['questions'],_0x53d01d=_0x3653f2[_0x2241e8],_0x2d681d=_0x5e2567=>String[_0x1de9cb(0x1e9)](0x41+_0x5e2567);if(_0x53d01d&&_0x53d01d[_0x1de9cb(0x93f)]&&_0x53d01d[_0x1de9cb(0x60e)]!==undefined){const _0x1797f6=_0x53d01d['options'][_0x53d01d[_0x1de9cb(0x60e)]];_0x44467c=_0x1de9cb(0x7fd)+(_0x2241e8+0x1)+_0x1de9cb(0x1d9)+_0x2d681d(_0x53d01d[_0x1de9cb(0x60e)])+'.\x20'+_0x1797f6+_0x1de9cb(0x37a);}const _0x1fad4a=_0x22c9ce['map'](_0xb9883d=>{const _0x162db1=_0x1de9cb;let _0x3cbe7c=![];if(_0xb9883d[_0x162db1(0x1fe)]&&_0x2241e8!==-0x1){const _0xeff0e3=_0xb9883d[_0x162db1(0x1fe)]['find'](_0x18611b=>_0x18611b[_0x162db1(0x4b3)]===_0x2241e8);_0xeff0e3&&_0xeff0e3['isCorrect']&&(_0x3cbe7c=!![]);}const _0x29f659=_0x3cbe7c?_0x162db1(0xa00):_0x162db1(0xa5b);return _0x162db1(0x247)+_0x29f659+_0x162db1(0x824)+_0xb9883d[_0x162db1(0x252)]+_0x162db1(0x6a7)+_0xb9883d[_0x162db1(0x32e)]+'\x20คะแนน</span></div>';})[_0x1de9cb(0x7c3)](''),_0x3bb734=_0x3653f2[_0x1de9cb(0x374)]((_0x319b95,_0x297391)=>{const _0xcf3c5f=_0x1de9cb,_0x4962ff=_0x224a7e[_0xcf3c5f(0x670)](_0x529a30=>_0x529a30['answers']&&_0x529a30[_0xcf3c5f(0x1fe)]['find'](_0x398eae=>_0x398eae[_0xcf3c5f(0x4b3)]===_0x297391&&_0x398eae[_0xcf3c5f(0x2f3)]))[_0xcf3c5f(0x630)],_0x109a0f=_0x297391===_0x2241e8,_0x542057=_0x109a0f?_0xcf3c5f(0x5fd):_0xcf3c5f(0x237);return _0xcf3c5f(0x67d)+_0x542057+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x297391+0x1)+_0xcf3c5f(0x289)+_0x4962ff+_0xcf3c5f(0x70f)+_0x30f33f+_0xcf3c5f(0xa03);})[_0x1de9cb(0x7c3)]('');let _0x271911='',_0x1c6b30='';if(_0x2d7e1f){const _0xf40daf=_0x1bab47[_0x1de9cb(0x3e5)]>=_0x3653f2[_0x1de9cb(0x630)]-0x1;_0x271911='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0xf40daf?_0x1de9cb(0x887):'ข้อต่อไป')+_0x1de9cb(0x639),_0x1c6b30='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x18f6a0=_0x1de9cb(0x9d8)+_0x1bab47[_0x1de9cb(0x43f)][_0x1de9cb(0xab8)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c6b30+_0x1de9cb(0x401)+_0x44467c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x1fad4a||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x1de9cb(0x850)+_0x3bb734+_0x1de9cb(0x8ea)+(_0x2d7e1f?_0x1de9cb(0x880)+_0x271911+'</div>':'')+_0x1de9cb(0x668);liveGameView[_0x1de9cb(0x994)]=_0x18f6a0;if(window[_0x1de9cb(0x422)]){const _0x2dbee4=document['getElementById'](_0x1de9cb(0x591));_0x2dbee4&&MathJax[_0x1de9cb(0x32a)]([_0x2dbee4]);}if(_0x2d7e1f){document[_0x1de9cb(0x7e4)](_0x1de9cb(0x4f6))[_0x1de9cb(0x844)]=async()=>{const _0x306303=_0x1de9cb,_0x2e807b=doc(db,'artifacts/'+appId+_0x306303(0xa21),currentLiveGameId),_0x549fd8=_0x1bab47[_0x306303(0x3e5)]+0x1;if(_0x549fd8<_0x3653f2[_0x306303(0x630)]){const _0x3b02a5={};Object['keys'](_0x1bab47[_0x306303(0x444)])[_0x306303(0xa64)](_0x17e548=>{const _0x36c33c=_0x306303;_0x3b02a5['players.'+_0x17e548+_0x36c33c(0x3a7)]=![],_0x3b02a5[_0x36c33c(0x35c)+_0x17e548+'.lastAnswerIndex']=null;}),await updateDoc(_0x2e807b,{..._0x3b02a5,'status':_0x306303(0x5ca),'currentQuestionIndex':_0x549fd8,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2e807b,{'status':_0x306303(0x3d2)});};const _0x183964=document[_0x1de9cb(0x7e4)](_0x1de9cb(0x70b));_0x183964&&(_0x183964[_0x1de9cb(0x844)]=()=>{const _0xe955ff=_0x1de9cb;showConfirmation(_0xe955ff(0x271),async()=>{const _0x994e6e=_0xe955ff,_0x17ae72=doc(db,'artifacts/'+appId+_0x994e6e(0xa21),currentLiveGameId);await updateDoc(_0x17ae72,{'status':_0x994e6e(0x3d2)});});});}}async function handleGenerateParallelFromBank(_0x841e9f){const _0x43d3c5=_0xe5be95,_0x18d78f=document[_0x43d3c5(0x7e4)](_0x43d3c5(0x49c)),_0x445985=document[_0x43d3c5(0x7e4)]('project-quizzes-list');_0x445985[_0x43d3c5(0x683)]['add'](_0x43d3c5(0x80f));const _0x800a3d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x841e9f[_0x43d3c5(0xab8)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x18d78f[_0x43d3c5(0x694)](_0x43d3c5(0xa11),_0x800a3d);const _0x4aa7d4=document[_0x43d3c5(0x7e4)](_0x43d3c5(0x905));try{const _0x4c2d25=_0x841e9f[_0x43d3c5(0x7dc)][_0x43d3c5(0x374)]((_0x127e5f,_0x3dd2e3)=>{const _0x293191=_0x43d3c5;let _0x5ee25c=_0x3dd2e3+0x1+'.\x20'+(_0x127e5f[_0x293191(0x821)]||_0x127e5f[_0x293191(0xae3)])+'\x0a';if(_0x127e5f[_0x293191(0x93f)])_0x5ee25c+=_0x127e5f['options'][_0x293191(0x374)]((_0x4f700a,_0x25fa47)=>_0x293191(0x333)+(_0x25fa47===_0x127e5f['correctAnswerIndex']?_0x293191(0x852):'')+'\x20'+_0x4f700a)['join']('\x0a');else _0x127e5f[_0x293191(0x6c1)]&&(_0x5ee25c+=_0x293191(0x6c3)+_0x127e5f['idealAnswer']);return _0x5ee25c;})[_0x43d3c5(0x7c3)]('\x0a\x0a');_0x4aa7d4[_0x43d3c5(0x5c5)]=_0x43d3c5(0x2a3);const _0x4f0ab4=_0x43d3c5(0x7fc)+_0x841e9f[_0x43d3c5(0xab8)]+_0x43d3c5(0x984)+_0x4c2d25+_0x43d3c5(0xac1)+simpleMathPrompt+_0x43d3c5(0x3d0),_0x138bb8={'type':_0x43d3c5(0x253),'properties':{'questionText':{'type':_0x43d3c5(0x5cc)},'questionType':{'type':_0x43d3c5(0x5cc),'enum':[_0x43d3c5(0x999),_0x43d3c5(0x4dd),_0x43d3c5(0x82f),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x43d3c5(0x5cc)}},'correctAnswerIndex':{'type':_0x43d3c5(0x9fa)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x43d3c5(0x1e4),'items':{'type':_0x43d3c5(0x5cc)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x43d3c5(0x832),_0x43d3c5(0x555)]},_0x292da6={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x43d3c5(0x1e4),'items':_0x138bb8}},'required':[_0x43d3c5(0xab8),'questions']},_0x350d62=await callAnalysisApi(_0x4f0ab4,_0x292da6);_0x350d62&&_0x350d62['questions']&&_0x350d62[_0x43d3c5(0x7dc)][_0x43d3c5(0xa64)](_0x1a3daf=>{const _0x12165e=_0x43d3c5;if(_0x1a3daf[_0x12165e(0x82b)]){const _0x44509b=_0x1a3daf[_0x12165e(0x82b)][_0x12165e(0x7ab)]();_0x44509b===''||_0x44509b[_0x12165e(0x7cc)]()==='null'||!_0x44509b['startsWith'](_0x12165e(0x595))?delete _0x1a3daf[_0x12165e(0x82b)]:_0x1a3daf[_0x12165e(0x82b)]=_0x44509b;}});const _0x39d41c=_0x350d62[_0x43d3c5(0x7dc)][_0x43d3c5(0x374)]((_0x3aa21b,_0x13a32c)=>({..._0x3aa21b,'id':'q_'+Date[_0x43d3c5(0x46e)]()+'_'+_0x13a32c})),_0x5e0224=_0x43d3c5(0x6ed)+_0x841e9f[_0x43d3c5(0xab8)],_0x832ced={'topic':_0x5e0224,'questions':_0x39d41c,'quizType':_0x841e9f[_0x43d3c5(0x519)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x43d3c5(0x74e)](),'status':_0x43d3c5(0x245),'settings':_0x841e9f[_0x43d3c5(0x4ef)],'quizMode':_0x43d3c5(0x541),'pairedQuizId':null,'lessonPlan':null};await addDoc(collection(db,_0x43d3c5(0x62e)+appId+_0x43d3c5(0x721)),_0x832ced),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x340376){console[_0x43d3c5(0x72a)](_0x43d3c5(0x4fb),_0x340376),showMessage('เกิดข้อผิดพลาด:\x20'+_0x340376[_0x43d3c5(0x88c)]);}finally{const _0x363cd8=document['getElementById'](_0x43d3c5(0x572));_0x363cd8&&_0x363cd8['remove'](),_0x445985[_0x43d3c5(0x683)]['remove'](_0x43d3c5(0x80f));}}async function handleGenerateParallelPostTest(_0x46355d){const _0x5169ae=_0xe5be95,_0x3a850d=document['getElementById'](_0x5169ae(0x49c)),_0x556e29=document['getElementById']('project-quizzes-list');_0x556e29[_0x5169ae(0x683)]['add'](_0x5169ae(0x80f));const _0x5b3b8a=_0x5169ae(0x9a4);_0x3a850d[_0x5169ae(0x694)]('beforeend',_0x5b3b8a);try{const _0x5e7bfd=_0x46355d[_0x5169ae(0x7dc)][_0x5169ae(0x374)]((_0x4f69b7,_0x30ffcd)=>{const _0x9072ef=_0x5169ae;let _0x417df8=_0x30ffcd+0x1+'.\x20'+(_0x4f69b7[_0x9072ef(0x821)]||_0x4f69b7[_0x9072ef(0xae3)]);if(_0x4f69b7[_0x9072ef(0x93f)])_0x417df8+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x4f69b7['options'][_0x9072ef(0x7c3)](',\x20');return _0x417df8;})[_0x5169ae(0x7c3)]('\x0a\x0a'),_0x49d946=_0x5169ae(0x70e)+_0x46355d['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e7bfd+_0x5169ae(0x2b9)+simpleMathPrompt+_0x5169ae(0x3d0),_0x5466ed={'type':'OBJECT','properties':{'topic':{'type':_0x5169ae(0x5cc)},'questions':{'type':_0x5169ae(0x1e4),'items':{'type':_0x5169ae(0x253),'properties':{'questionText':{'type':_0x5169ae(0x5cc)},'questionType':{'type':_0x5169ae(0x5cc)},'options':{'type':'ARRAY','items':{'type':_0x5169ae(0x5cc)}},'correctAnswerIndex':{'type':_0x5169ae(0x9fa)},'idealAnswer':{'type':_0x5169ae(0x5cc)},'explanation':{'type':_0x5169ae(0x5cc)}},'required':[_0x5169ae(0x821),_0x5169ae(0x555)]}}},'required':[_0x5169ae(0xab8),'questions']},_0xb9087f=await callAnalysisApi(_0x49d946,_0x5466ed),_0x4f482d=_0x46355d['topic'][_0x5169ae(0x28b)](_0x5169ae(0x836),'')[_0x5169ae(0x7ab)](),_0x57662b=_0x5169ae(0x58c)+_0x4f482d,_0x2228b7={..._0xb9087f,'topic':_0x57662b,'quizType':_0x46355d['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5169ae(0x74e)](),'status':_0x5169ae(0x245),'settings':_0x46355d[_0x5169ae(0x4ef)],'quizMode':_0x5169ae(0x341),'pairedQuizId':_0x46355d['id']};let _0xac164f;while(!![]){_0xac164f=Math[_0x5169ae(0x28c)](0x3e8+Math[_0x5169ae(0x53f)]()*0x2328)[_0x5169ae(0x59e)]();const _0x5093e2=await getDoc(doc(db,_0x5169ae(0x62e)+appId+_0x5169ae(0x721),_0xac164f));if(!_0x5093e2['exists']())break;}await setDoc(doc(db,_0x5169ae(0x62e)+appId+'/public/data/quizzes',_0xac164f),_0x2228b7);const _0x5dd840=doc(db,_0x5169ae(0x62e)+appId+'/public/data/quizzes',_0x46355d['id']);await updateDoc(_0x5dd840,{'pairedQuizId':_0xac164f}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x455ba2){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x455ba2),showMessage(_0x5169ae(0x586)+_0x455ba2[_0x5169ae(0x88c)]);}finally{const _0x56ce8a=document[_0x5169ae(0x7e4)](_0x5169ae(0x572));if(_0x56ce8a)_0x56ce8a[_0x5169ae(0x21f)]();_0x556e29[_0x5169ae(0x683)][_0x5169ae(0x21f)](_0x5169ae(0x80f));}}async function handleGenerateParallelTest(){const _0x2cb028=_0xe5be95,_0x30499b=document[_0x2cb028(0x7e4)](_0x2cb028(0x81b)),_0x511aaf=_0x30499b[_0x2cb028(0x83b)][0x0];if(!_0x511aaf){showMessage(_0x2cb028(0xa07));return;}const _0x2477de=document['getElementById'](_0x2cb028(0x24f)),_0x29723b=document['getElementById'](_0x2cb028(0x426)),_0x58b1e3=document[_0x2cb028(0x7e4)](_0x2cb028(0xa81)),_0x47826b=document[_0x2cb028(0x7e4)](_0x2cb028(0x87d));_0x47826b[_0x2cb028(0x7ac)]=!![],document[_0x2cb028(0x7e4)](_0x2cb028(0xa30))[_0x2cb028(0x683)][_0x2cb028(0x21f)](_0x2cb028(0x80f)),_0x58b1e3[_0x2cb028(0x994)]='',_0x2477de[_0x2cb028(0x683)]['remove']('hidden'),_0x29723b[_0x2cb028(0x5c5)]=_0x2cb028(0xa88);try{const _0x31c5ca=await extractTextFromPdf(_0x511aaf);if(!_0x31c5ca['trim']())throw new Error(_0x2cb028(0x85a));_0x29723b[_0x2cb028(0x5c5)]=_0x2cb028(0x2a3);const _0x1a3aab=document[_0x2cb028(0x7e4)]('include-images-checkbox')['checked'],_0x30aba5=_0x1a3aab?_0x2cb028(0xaae):'',_0x32263d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31c5ca+_0x2cb028(0x438)+_0x30aba5+_0x2cb028(0x70d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x46cef1={'type':_0x2cb028(0x253),'properties':{'questionText':{'type':_0x2cb028(0x5cc)},'questionType':{'type':_0x2cb028(0x5cc),'enum':['multiple_choice',_0x2cb028(0x4dd)]},'options':{'type':'ARRAY','items':{'type':_0x2cb028(0x5cc)}},'correctAnswerIndex':{'type':_0x2cb028(0x9fa)},'idealAnswer':{'type':_0x2cb028(0x5cc)},'explanation':{'type':_0x2cb028(0x5cc)},'imageCode':{'type':'STRING'}},'required':[_0x2cb028(0x821),'questionType',_0x2cb028(0x555)]},_0x313eaf={'type':_0x2cb028(0x253),'properties':{'topic':{'type':_0x2cb028(0x5cc)},'questions':{'type':_0x2cb028(0x1e4),'items':_0x46cef1}},'required':['topic',_0x2cb028(0x7dc)]};await handleApiCall(_0x32263d,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x313eaf);}catch(_0x4351a5){console[_0x2cb028(0x72a)](_0x2cb028(0x36d),_0x4351a5),showMessage(_0x2cb028(0x586)+_0x4351a5['message']),_0x58b1e3['innerHTML']=_0x2cb028(0x54a);}finally{_0x2477de['classList'][_0x2cb028(0x816)](_0x2cb028(0x80f)),_0x47826b[_0x2cb028(0x7ac)]=![];}}async function handleRegenerateQuestionInEditor(_0x55a3f1){const _0x5ef6b2=_0xe5be95;if(currentEditingQuizData===null)return;const _0xc53d06=document[_0x5ef6b2(0x9e6)](_0x5ef6b2(0x898)+_0x55a3f1+'\x22]');_0xc53d06&&(_0xc53d06[_0x5ef6b2(0x994)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0xaf435f=currentEditingQuizData[_0x5ef6b2(0x7dc)][_0x55a3f1],_0x800cbe=currentEditingQuizData[_0x5ef6b2(0xab8)],_0xbfaeca=_0xaf435f[_0x5ef6b2(0x832)],_0x30de0b={'type':_0x5ef6b2(0x253),'properties':{'questionText':{'type':_0x5ef6b2(0x5cc)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5ef6b2(0x5cc)}},'required':[_0x5ef6b2(0x821),_0x5ef6b2(0x93f),_0x5ef6b2(0x60e),_0x5ef6b2(0x555)]},_0x477684={'type':_0x5ef6b2(0x253),'properties':{'questionText':{'type':_0x5ef6b2(0x5cc)},'idealAnswer':{'type':_0x5ef6b2(0x5cc)},'explanation':{'type':_0x5ef6b2(0x5cc)}},'required':[_0x5ef6b2(0x821),'idealAnswer',_0x5ef6b2(0x555)]};let _0x3d6dd2,_0x5ba391='';_0xbfaeca===_0x5ef6b2(0x999)?(_0x3d6dd2=_0x30de0b,_0x5ba391=_0x5ef6b2(0x228)):(_0x3d6dd2=_0x477684,_0x5ba391=_0x5ef6b2(0x451));const _0xdd9f6=_0x5ef6b2(0x1f6)+_0x800cbe+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x5ba391+_0x5ef6b2(0x2e7)+(_0xaf435f[_0x5ef6b2(0x821)]||_0xaf435f[_0x5ef6b2(0xae3)])+_0x5ef6b2(0x329)+simpleMathPrompt;try{const _0x2c764e=await callAnalysisApi(_0xdd9f6,_0x3d6dd2);currentEditingQuizData[_0x5ef6b2(0x7dc)][_0x55a3f1]={..._0xaf435f,..._0x2c764e},renderQuizEditor(currentEditingQuizData);}catch(_0x2598ea){console[_0x5ef6b2(0x72a)](_0x5ef6b2(0x644),_0x2598ea),showMessage(_0x5ef6b2(0x455)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2db33c=_0xe5be95,_0x11e7d2=document[_0x2db33c(0x7e4)](_0x2db33c(0x331));currentMode===_0x2db33c(0x923)?(adminPasswordModal['classList'][_0x2db33c(0x21f)](_0x2db33c(0x80f)),document[_0x2db33c(0x7e4)](_0x2db33c(0x4f8))[_0x2db33c(0x345)]()):(currentMode='student',_0x11e7d2[_0x2db33c(0x994)]=_0x2db33c(0x55f),_0x11e7d2[_0x2db33c(0x4e5)]=_0x2db33c(0x7c8),showView(_0x2db33c(0x923)));}function handleAdminLogin(){const _0x2dbdf5=_0xe5be95,_0x2a701b=document['getElementById']('admin-password-input'),_0x3d8e73=document[_0x2dbdf5(0x7e4)](_0x2dbdf5(0x273));if(_0x2a701b[_0x2dbdf5(0x2cd)]===_0x2dbdf5(0x5a7)){adminPasswordModal['classList']['add']('hidden'),_0x2a701b[_0x2dbdf5(0x2cd)]='',_0x3d8e73[_0x2dbdf5(0x683)][_0x2dbdf5(0x816)]('hidden'),currentMode=_0x2dbdf5(0x46b);const _0x311268=document[_0x2dbdf5(0x7e4)](_0x2dbdf5(0x331));_0x311268['innerHTML']=_0x2dbdf5(0x6f7),_0x311268[_0x2dbdf5(0x4e5)]=_0x2dbdf5(0x250),showView('admin-dashboard');}else _0x3d8e73[_0x2dbdf5(0x683)]['remove']('hidden'),_0x2a701b['value']='';}function switchProjectTab(_0x556571){const _0x37c389=_0xe5be95;[_0x37c389(0x5d0),_0x37c389(0x7de),_0x37c389(0x9c1)][_0x37c389(0xa64)](_0x11a29d=>{const _0x5e4977=_0x37c389;document[_0x5e4977(0x7e4)](_0x11a29d+'-tab')[_0x5e4977(0x683)]['remove']('active'),document[_0x5e4977(0x7e4)](_0x11a29d+'-tab-content')[_0x5e4977(0x683)][_0x5e4977(0x816)](_0x5e4977(0x80f));}),document[_0x37c389(0x7e4)](_0x556571+_0x37c389(0x96b))[_0x37c389(0x683)][_0x37c389(0x816)]('active'),document[_0x37c389(0x7e4)](_0x556571+'-tab-content')[_0x37c389(0x683)][_0x37c389(0x21f)](_0x37c389(0x80f));}function switchQuizDetailTab(_0x58ccd9){const _0x44b4dc=_0xe5be95,_0x112565={'analytics':{'btn':_0x44b4dc(0x53e),'content':_0x44b4dc(0x49f)},'scores':{'btn':_0x44b4dc(0x665),'content':_0x44b4dc(0xaed)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x44b4dc(0x629)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x44b4dc(0xa29)}};for(const _0x260804 in _0x112565){document[_0x44b4dc(0x7e4)](_0x112565[_0x260804]['btn'])[_0x44b4dc(0x683)][_0x44b4dc(0x21f)](_0x44b4dc(0x245)),document[_0x44b4dc(0x7e4)](_0x112565[_0x260804][_0x44b4dc(0x433)])[_0x44b4dc(0x683)]['add']('hidden');}document[_0x44b4dc(0x7e4)](_0x112565[_0x58ccd9][_0x44b4dc(0xa23)])['classList'][_0x44b4dc(0x816)](_0x44b4dc(0x245)),document['getElementById'](_0x112565[_0x58ccd9]['content'])[_0x44b4dc(0x683)][_0x44b4dc(0x21f)](_0x44b4dc(0x80f));}function showMessage(_0x435dda,_0x1c8638=null){const _0x157bcd=_0xe5be95;modalMessage[_0x157bcd(0x5c5)]=_0x435dda,modalConfirmAction=_0x1c8638,messageModal[_0x157bcd(0x683)]['remove'](_0x157bcd(0x80f));}function showConfirmation(_0x2d7a33,_0x3f1a7c){const _0x4bf4fc=_0xe5be95;document[_0x4bf4fc(0x7e4)](_0x4bf4fc(0x749))[_0x4bf4fc(0x5c5)]=_0x2d7a33,document[_0x4bf4fc(0x7e4)]('confirmation-modal')[_0x4bf4fc(0x9e6)]('h3')[_0x4bf4fc(0x5c5)]=_0x4bf4fc(0x2f6),confirmAction=_0x3f1a7c,confirmationModal[_0x4bf4fc(0x683)]['remove'](_0x4bf4fc(0x80f));}function listenForProjects(){const _0x24519a=_0xe5be95,_0x1f3625=doc(db,_0x24519a(0x87c),_0x24519a(0x6f5));onSnapshot(_0x1f3625,_0x5f2658=>{const _0x528f25=_0x24519a;if(_0x5f2658[_0x528f25(0xafe)]()){const _0x795d27=_0x5f2658[_0x528f25(0x291)]();globalDashboardSettings[_0x528f25(0x95e)]=_0x795d27['projectSort']||_0x528f25(0x2b0),globalDashboardSettings[_0x528f25(0x8f0)]=_0x795d27[_0x528f25(0x8f0)]||[],globalDashboardSettings['projectOrder']=_0x795d27[_0x528f25(0x921)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x301d5a=collection(db,_0x24519a(0x62e)+appId+_0x24519a(0x7d8));unsubscribeProjectsListener=onSnapshot(_0x301d5a,_0x555273=>{const _0x4d2dcc=_0x24519a;allProjects=_0x555273['docs'][_0x4d2dcc(0x374)](_0x410247=>({'id':_0x410247['id'],..._0x410247[_0x4d2dcc(0x291)]()})),renderProjects();},_0x29889e=>{const _0x5a4c7c=_0x24519a;console[_0x5a4c7c(0x72a)](_0x5a4c7c(0x4b6),_0x29889e),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x180cdc,_0x8c5f47){const _0x562233=_0xe5be95;document[_0x562233(0xa16)](_0x562233(0x306))[_0x562233(0xa64)](_0xa09ccf=>_0xa09ccf[_0x562233(0x21f)]());const _0x575bb5=[_0x562233(0x918),_0x562233(0x53a),_0x562233(0x868),'#D1FAE5','#DBEAFE',_0x562233(0x2aa),_0x562233(0x4a6),_0x562233(0x477),_0x562233(0x74c)],_0x2ceaa8=document[_0x562233(0x8fa)](_0x562233(0x4f2));_0x2ceaa8[_0x562233(0x50c)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x575bb5['forEach'](_0x57ee21=>{const _0x5d7feb=_0x562233,_0x1bbdd1=document[_0x5d7feb(0x8fa)]('div');_0x1bbdd1[_0x5d7feb(0x50c)]=_0x5d7feb(0x69c),_0x1bbdd1[_0x5d7feb(0xa0e)]['backgroundColor']=_0x57ee21,_0x1bbdd1[_0x5d7feb(0x8c2)]('click',()=>{const _0x11543f=_0x5d7feb;handleProjectColorChange(_0x8c5f47,_0x57ee21),_0x2ceaa8[_0x11543f(0x21f)]();}),_0x2ceaa8['appendChild'](_0x1bbdd1);}),document['body']['appendChild'](_0x2ceaa8);const _0x20e228=_0x180cdc[_0x562233(0x540)]();_0x2ceaa8[_0x562233(0xa0e)]['top']=_0x20e228[_0x562233(0xa43)]+window[_0x562233(0x6d4)]+'px',_0x2ceaa8[_0x562233(0xa0e)][_0x562233(0x896)]=_0x20e228[_0x562233(0x896)]+window[_0x562233(0x60f)]-_0x2ceaa8['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x537572,_0x4c9522){const _0x3a4479=_0xe5be95,_0x31f56a=doc(db,_0x3a4479(0x62e)+appId+_0x3a4479(0x7d8),_0x537572);try{await updateDoc(_0x31f56a,{'color':_0x4c9522});}catch(_0x466c4f){console['error'](_0x3a4479(0x415),_0x466c4f),showMessage(_0x3a4479(0x82c));}}async function renderProjects(){const _0x35b17d=_0xe5be95,_0x338ba8=globalDashboardSettings[_0x35b17d(0x95e)]||_0x35b17d(0x2b0),_0x2c47a5=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x20064c=globalDashboardSettings[_0x35b17d(0x304)]||_0x35b17d(0xa93),_0x267665=document[_0x35b17d(0x7e4)](_0x35b17d(0x44b)),_0x4c1a62=document[_0x35b17d(0x7e4)](_0x35b17d(0x646));_0x267665[_0x35b17d(0x683)]['toggle'](_0x35b17d(0x245),_0x20064c===_0x35b17d(0xa93)),_0x4c1a62[_0x35b17d(0x683)][_0x35b17d(0x459)](_0x35b17d(0x245),_0x20064c==='list'),document[_0x35b17d(0x7e4)](_0x35b17d(0x71c))[_0x35b17d(0x2cd)]=_0x338ba8;const _0x57a9b1=document[_0x35b17d(0x7e4)]('project-search-input')[_0x35b17d(0x2cd)][_0x35b17d(0x7cc)]();let _0x299486=allProjects[_0x35b17d(0x670)](_0x2fedba=>_0x2fedba[_0x35b17d(0x7ee)][_0x35b17d(0x7cc)]()['includes'](_0x57a9b1));const _0x17ebb2=_0x299486[_0x35b17d(0x670)](_0x2e2d96=>_0x2c47a5[_0x35b17d(0x449)](_0x2e2d96['id'])),_0x1a7a02=_0x299486[_0x35b17d(0x670)](_0x291aee=>!_0x2c47a5[_0x35b17d(0x449)](_0x291aee['id'])),_0x54e1dd=(_0x45918e,_0x447647)=>{const _0x5a9f4f=_0x35b17d;switch(_0x338ba8){case _0x5a9f4f(0x94b):return _0x45918e[_0x5a9f4f(0x7ee)][_0x5a9f4f(0x5bf)](_0x447647[_0x5a9f4f(0x7ee)],'th');case _0x5a9f4f(0x8da):return _0x447647[_0x5a9f4f(0x7ee)]['localeCompare'](_0x45918e['projectName'],'th');case'date_asc':return new Date(_0x45918e[_0x5a9f4f(0x27c)])-new Date(_0x447647['createdAt']);default:return new Date(_0x447647[_0x5a9f4f(0x27c)])-new Date(_0x45918e[_0x5a9f4f(0x27c)]);}};_0x17ebb2[_0x35b17d(0x6a1)](_0x54e1dd),_0x1a7a02[_0x35b17d(0x6a1)](_0x54e1dd);const _0x91b39a=[..._0x17ebb2,..._0x1a7a02],_0x121d63=globalDashboardSettings[_0x35b17d(0x921)]||[];_0x121d63[_0x35b17d(0x630)]>0x0&&_0x20064c===_0x35b17d(0xa93)&&_0x91b39a[_0x35b17d(0x6a1)]((_0x7d20c8,_0x5c36a5)=>{const _0x9a7606=_0x35b17d,_0x415ae2=_0x121d63[_0x9a7606(0x233)](_0x7d20c8['id']),_0x3cae4b=_0x121d63[_0x9a7606(0x233)](_0x5c36a5['id']);if(_0x415ae2===-0x1)return 0x1;if(_0x3cae4b===-0x1)return-0x1;return _0x415ae2-_0x3cae4b;});const _0x57826d={};await Promise[_0x35b17d(0x534)](_0x91b39a[_0x35b17d(0x374)](async _0xd80f57=>{const _0x28dff0=_0x35b17d,_0x43f724=query(collection(db,_0x28dff0(0x62e)+appId+_0x28dff0(0x721)),where(_0x28dff0(0x6fa),'==',_0xd80f57['id'])),_0x2457bf=await getDocs(_0x43f724);_0x57826d[_0xd80f57['id']]=_0x2457bf[_0x28dff0(0x740)];}));const _0x323be0=document['getElementById'](_0x35b17d(0x9a5));let _0x389acd='';if(_0x20064c===_0x35b17d(0xa93)){_0x323be0['className']=_0x35b17d(0x753);if(starredQuizzes[_0x35b17d(0x630)]>0x0&&_0x57a9b1===''){const _0x20bc7f=starredQuizzes[_0x35b17d(0x374)](_0x4e7dfc=>{const _0x37a699=_0x35b17d,_0x3e34ed=allProjects[_0x37a699(0x3fd)](_0x395f47=>_0x395f47['id']===_0x4e7dfc['projectId']);return{..._0x4e7dfc,'projectName':_0x3e34ed?_0x3e34ed[_0x37a699(0x7ee)]:'N/A'};});_0x389acd+=_0x35b17d(0x9b8)+_0x20bc7f[_0x35b17d(0x374)](_0x443ebc=>_0x35b17d(0xa2d)+_0x443ebc[_0x35b17d(0xab8)]+'\x22>'+_0x443ebc[_0x35b17d(0xab8)]+_0x35b17d(0x58f)+_0x443ebc[_0x35b17d(0x7ee)]+'\x22>จาก:\x20'+_0x443ebc[_0x35b17d(0x7ee)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35b17d(0x7c3)]('')+_0x35b17d(0x6fc)+starredQuizzes[_0x35b17d(0x630)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x91b39a['forEach'](_0x1a84e3=>{const _0x2ab89d=_0x35b17d,_0x34ce84=_0x57826d[_0x1a84e3['id']]??0x0,_0x42c9b4=_0x2c47a5[_0x2ab89d(0x449)](_0x1a84e3['id']),_0xfd8871=_0x1a84e3['color']||_0x2ab89d(0x918),_0x3b165c=parseInt(_0xfd8871[_0x2ab89d(0x60c)](0x1,0x3),0x10)*0.299+parseInt(_0xfd8871[_0x2ab89d(0x60c)](0x3,0x5),0x10)*0.587+parseInt(_0xfd8871['substring'](0x5,0x7),0x10)*0.114<0xba,_0x4ff259=_0x3b165c?_0x2ab89d(0x851):'text-indigo-800',_0xe5dbe0=_0x3b165c?'text-gray-200':'text-gray-500';_0x389acd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x42c9b4?_0x2ab89d(0x864):'border-gray-200')+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0xfd8871+_0x2ab89d(0x9ce)+_0x1a84e3['id']+_0x2ab89d(0x556)+_0x1a84e3['id']+_0x2ab89d(0x789)+(_0x3b165c?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x2ab89d(0x8c6)+_0x1a84e3['id']+_0x2ab89d(0xa40)+(_0x3b165c?_0x2ab89d(0x207):_0x2ab89d(0x938))+_0x2ab89d(0x9b2)+(_0x42c9b4?_0x3b165c?_0x2ab89d(0x53d):'text-indigo-600':'')+_0x2ab89d(0x47d)+_0x1a84e3['id']+_0x2ab89d(0x7cf)+_0x4ff259+_0x2ab89d(0x4cc)+_0x1a84e3['projectName']+_0x2ab89d(0x5fe)+_0xe5dbe0+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x1a84e3['createdAt'])['toLocaleDateString'](_0x2ab89d(0x90a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x3b165c?_0x2ab89d(0x5b7):_0x2ab89d(0x4ba))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x34ce84+_0x2ab89d(0xa0f)+_0x1a84e3['id']+_0x2ab89d(0xa79)+_0x1a84e3['projectName']+_0x2ab89d(0x8ba)+(_0x3b165c?'text-red-300\x20hover:text-red-100':_0x2ab89d(0x52e))+_0x2ab89d(0x9fe);});}else _0x323be0[_0x35b17d(0x50c)]=_0x35b17d(0x2f8),starredQuizzes[_0x35b17d(0x630)]>0x0&&_0x57a9b1===''&&(_0x389acd+=_0x35b17d(0x9c9)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x389acd+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x91b39a[_0x35b17d(0xa64)](_0x2576ec=>{const _0x4b931b=_0x35b17d,_0x1b1ce2=_0x57826d[_0x2576ec['id']]??0x0,_0x47e7d2=_0x2c47a5[_0x4b931b(0x449)](_0x2576ec['id']);_0x389acd+=_0x4b931b(0x8e2)+(_0x2576ec[_0x4b931b(0x8e0)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x2576ec['id']+_0x4b931b(0x2b8)+_0x2576ec[_0x4b931b(0x7ee)]+_0x4b931b(0x3db)+_0x1b1ce2+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2576ec[_0x4b931b(0x27c)])[_0x4b931b(0x8c3)](_0x4b931b(0x90a))+_0x4b931b(0x96c)+_0x2576ec['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x47e7d2?'text-indigo-600':'')+_0x4b931b(0x5a1)+_0x2576ec['id']+_0x4b931b(0xa79)+_0x2576ec['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x35b17d(0x994)]=_0x389acd,noProjectsMsg[_0x35b17d(0x683)][_0x35b17d(0x459)](_0x35b17d(0x80f),_0x389acd[_0x35b17d(0x630)]>0x0);}document['getElementById'](_0xe5be95(0x928))[_0xe5be95(0x8c2)](_0xe5be95(0x75b),async()=>{const _0xd5186a=_0xe5be95,_0x3bb788=document['getElementById'](_0xd5186a(0x255)),_0x491ca3=_0x3bb788['value'][_0xd5186a(0x7ab)]();if(!_0x491ca3){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x1d3ac7=doc(collection(db,_0xd5186a(0x62e)+appId+_0xd5186a(0x7d8)));await setDoc(_0x1d3ac7,{'projectName':_0x491ca3,'students':[],'settings':{'resultsDisplay':_0xd5186a(0x471),'shuffleSetting':_0xd5186a(0x3e7),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xd5186a(0x74e)]()}),_0x3bb788['value']='',createProjectModal['classList'][_0xd5186a(0x816)](_0xd5186a(0x80f)),showMessage(_0xd5186a(0x84e));}catch(_0x2cb0cd){console[_0xd5186a(0x72a)](_0xd5186a(0x431),_0x2cb0cd),showMessage(_0xd5186a(0x648));}}),projectList[_0xe5be95(0x8c2)](_0xe5be95(0x75b),async _0xd6716e=>{const _0x4ad6a1=_0xe5be95,_0x29e5c6=_0xd6716e[_0x4ad6a1(0xa1e)][_0x4ad6a1(0x518)](_0x4ad6a1(0x84d)),_0x684466=_0xd6716e[_0x4ad6a1(0xa1e)][_0x4ad6a1(0x518)](_0x4ad6a1(0x64a)),_0x966884=_0xd6716e[_0x4ad6a1(0xa1e)][_0x4ad6a1(0x518)]('.pin-project-btn'),_0x4e3fb9=_0xd6716e[_0x4ad6a1(0xa1e)][_0x4ad6a1(0x518)](_0x4ad6a1(0x6c8));if(_0x966884){const _0x5c30d3=_0x966884[_0x4ad6a1(0x4ee)]['id'],_0x5df615=doc(db,_0x4ad6a1(0x87c),_0x4ad6a1(0x6f5)),_0x376c1b=globalDashboardSettings[_0x4ad6a1(0x8f0)];let _0x254b1f;_0x376c1b[_0x4ad6a1(0x365)](_0x5c30d3)?_0x254b1f=_0x376c1b['filter'](_0x3d832d=>_0x3d832d!==_0x5c30d3):_0x254b1f=[..._0x376c1b,_0x5c30d3];try{await setDoc(_0x5df615,{'pinnedProjects':_0x254b1f},{'merge':!![]});}catch(_0x4e0212){console[_0x4ad6a1(0x72a)](_0x4ad6a1(0x394),_0x4e0212),showMessage(_0x4ad6a1(0x8a2));}}else{if(_0x4e3fb9){const _0x5a88ab=_0x4e3fb9[_0x4ad6a1(0x4ee)]['id'];showColorPalette(_0x4e3fb9,_0x5a88ab);}else{if(_0x29e5c6){const _0xca5595=_0x29e5c6['dataset']['id'];_0xca5595===_0x4ad6a1(0x765)?showStarredProjectView():(currentProjectId=_0xca5595,await loadProjectDetails(currentProjectId),showView(_0x4ad6a1(0x9d7)));}else{if(_0x684466){const _0x55a074=_0x684466[_0x4ad6a1(0x4ee)]['id'],_0x3e112b=_0x684466[_0x4ad6a1(0x4ee)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x3e112b+_0x4ad6a1(0xa9e),()=>handleDeleteProject(_0x55a074));}}}}}),projectList[_0xe5be95(0x8c2)](_0xe5be95(0x2d5),_0x313f5e=>{const _0x37c56a=_0xe5be95,_0x41dd8c=_0x313f5e[_0x37c56a(0xa1e)][_0x37c56a(0x518)](_0x37c56a(0x7fe));_0x41dd8c&&_0x41dd8c[_0x37c56a(0x683)][_0x37c56a(0x816)]('opacity-50');}),projectList[_0xe5be95(0x8c2)]('dragend',_0x2ec3b6=>{const _0x21ab3f=_0xe5be95,_0xdb9614=_0x2ec3b6[_0x21ab3f(0xa1e)][_0x21ab3f(0x518)](_0x21ab3f(0x7fe));_0xdb9614&&_0xdb9614[_0x21ab3f(0x683)][_0x21ab3f(0x21f)](_0x21ab3f(0x6f3));}),projectList[_0xe5be95(0x8c2)]('dragover',_0x4f6aac=>{const _0x118858=_0xe5be95;_0x4f6aac[_0x118858(0x4f0)]();const _0x356387=document[_0x118858(0x9e6)](_0x118858(0xa4b));if(!_0x356387)return;const _0x3b746d=getDragAfterElement(projectList,_0x4f6aac[_0x118858(0x8f8)]);_0x3b746d==null?projectList[_0x118858(0x964)](_0x356387):projectList[_0x118858(0x450)](_0x356387,_0x3b746d);}),projectList[_0xe5be95(0x8c2)](_0xe5be95(0x2bb),_0x4e2231=>{const _0x2266b5=_0xe5be95;_0x4e2231[_0x2266b5(0x4f0)]();const _0x11773b=[...projectList['querySelectorAll'](_0x2266b5(0x89f))][_0x2266b5(0x374)](_0x37ed48=>_0x37ed48[_0x2266b5(0x4ee)]['id']);saveProjectOrder(_0x11773b);});function renderBehaviorLog(_0x39310f){const _0x66d7a4=_0xe5be95,_0x24be45=document['getElementById']('behavior-log-container');if(!_0x24be45)return;const _0x5bc4cb=_0x39310f[_0x66d7a4(0x670)](_0x2ec57b=>_0x2ec57b['behaviorLog']&&_0x2ec57b[_0x66d7a4(0x7b6)]['length']>0x0);if(_0x5bc4cb[_0x66d7a4(0x630)]===0x0){_0x24be45['innerHTML']=_0x66d7a4(0x600);return;}let _0x8ad70d='';_0x5bc4cb['forEach'](_0x1e8402=>{const _0x14ceb9=_0x66d7a4;_0x8ad70d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x1e8402[_0x14ceb9(0xa96)]+_0x14ceb9(0x657),_0x1e8402[_0x14ceb9(0x7b6)][_0x14ceb9(0x6a1)]((_0x549090,_0x78d2a5)=>new Date(_0x78d2a5[_0x14ceb9(0x373)])-new Date(_0x549090[_0x14ceb9(0x373)]))[_0x14ceb9(0xa64)](_0x5a7068=>{const _0x339ea9=_0x14ceb9,_0x530c3f=new Date(_0x5a7068[_0x339ea9(0x373)])[_0x339ea9(0x8c3)](_0x339ea9(0x90a),{'dateStyle':_0x339ea9(0x226),'timeStyle':_0x339ea9(0x8ca)});_0x8ad70d+=_0x339ea9(0x1e2)+_0x5a7068['attemptNumber']+_0x339ea9(0x95d)+_0x530c3f+_0x339ea9(0x2f5);}),_0x8ad70d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x24be45[_0x66d7a4(0x994)]=_0x8ad70d;}function getDragAfterElement(_0x233fe4,_0x1f7001){const _0x29d3b2=_0xe5be95,_0xc90d06=[..._0x233fe4[_0x29d3b2(0xa16)]('.project-card-container:not(.opacity-50)')];return _0xc90d06[_0x29d3b2(0x7f6)]((_0x5ce03f,_0x294f33)=>{const _0x4ee0d9=_0x29d3b2,_0x29e756=_0x294f33['getBoundingClientRect'](),_0x41a47f=_0x1f7001-_0x29e756[_0x4ee0d9(0x5e1)]-_0x29e756['height']/0x2;return _0x41a47f<0x0&&_0x41a47f>_0x5ce03f[_0x4ee0d9(0x23f)]?{'offset':_0x41a47f,'element':_0x294f33}:_0x5ce03f;},{'offset':Number[_0x29d3b2(0x9f3)]})[_0x29d3b2(0x6a4)];}async function saveProjectOrder(_0x537b9e){const _0x2c4580=_0xe5be95,_0x1ea967=doc(db,_0x2c4580(0x87c),_0x2c4580(0x6f5));try{await setDoc(_0x1ea967,{'projectOrder':_0x537b9e},{'merge':!![]});}catch(_0x2380a4){console[_0x2c4580(0x72a)]('Error\x20saving\x20project\x20order:',_0x2380a4),showMessage(_0x2c4580(0x612));}}async function logBehaviorEvent(_0x1ea7c0,_0x2bc639={}){const _0x37fb72=_0xe5be95;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x37fb72(0x5e2)](_0x37fb72(0x410));return;}const _0xc96883=doc(db,_0x37fb72(0x62e)+appId+_0x37fb72(0x9f7)+currentQuizData['id']+_0x37fb72(0xa52),currentStudentName),_0x444280={'event':_0x1ea7c0,'timestamp':new Date()[_0x37fb72(0x74e)](),..._0x2bc639};try{await updateDoc(_0xc96883,{'behaviorLog':arrayUnion(_0x444280)}),console[_0x37fb72(0xaf9)](_0x37fb72(0xabe)+currentStudentName+_0x37fb72(0x70c));}catch(_0x11ab1d){_0x11ab1d['code']===_0x37fb72(0x4a5)?console[_0x37fb72(0x5e2)](_0x37fb72(0x638)+currentStudentName+_0x37fb72(0x1eb)):console[_0x37fb72(0x72a)](_0x37fb72(0x377),_0x11ab1d);}}function calculateMeanAndStdDev(_0x16f583){const _0x3ead6b=_0xe5be95;if(_0x16f583[_0x3ead6b(0x630)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x738bcc=_0x16f583[_0x3ead6b(0x7f6)]((_0x5507ed,_0x38755d)=>_0x5507ed+_0x38755d,0x0)/_0x16f583['length'];if(_0x16f583[_0x3ead6b(0x630)]===0x1)return{'mean':_0x738bcc,'stdDev':0x0};const _0x5415fb=Math[_0x3ead6b(0xad4)](_0x16f583[_0x3ead6b(0x374)](_0x527e6f=>Math['pow'](_0x527e6f-_0x738bcc,0x2))[_0x3ead6b(0x7f6)]((_0x456dff,_0x1aa933)=>_0x456dff+_0x1aa933,0x0)/(_0x16f583[_0x3ead6b(0x630)]-0x1));return{'mean':_0x738bcc,'stdDev':_0x5415fb};}function calculateZScore(_0x2e8369,_0x5e87fa,_0x42af0e){if(_0x42af0e===0x0)return 0x0;return(_0x2e8369-_0x5e87fa)/_0x42af0e;}function calculateTScore(_0x3019ad){return 0xa*_0x3019ad+0x32;}function showStarredProjectView(){const _0x190703=_0xe5be95;currentProjectId=_0x190703(0x79e),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x190703(0x5c5)]=_0x190703(0x87f),showView(_0x190703(0x9d7)),manageTab[_0x190703(0x683)][_0x190703(0x816)](_0x190703(0x80f)),leaderboardTab[_0x190703(0x683)][_0x190703(0x816)](_0x190703(0x80f)),switchProjectTab(_0x190703(0x7de)),renderQuizzes();}async function loadProjectDetails(_0x13fb6c){const _0x6314e=_0xe5be95,_0x202e1a=doc(db,'artifacts/'+appId+'/public/data/projects',_0x13fb6c),_0x1a8316=await getDoc(_0x202e1a);if(_0x1a8316[_0x6314e(0xafe)]()){manageTab[_0x6314e(0x683)][_0x6314e(0x21f)](_0x6314e(0x80f)),leaderboardTab[_0x6314e(0x683)][_0x6314e(0x21f)]('hidden'),currentProjectData=_0x1a8316[_0x6314e(0x291)](),projectTitle['textContent']=currentProjectData[_0x6314e(0x7ee)],projectIdDisplay[_0x6314e(0x5c5)]=_0x13fb6c;const _0x4b6c8c=currentProjectData[_0x6314e(0x4ef)]||{};document[_0x6314e(0x7e4)]('shuffle-setting-select')[_0x6314e(0x2cd)]=_0x4b6c8c[_0x6314e(0x283)]||_0x6314e(0x3e7);const _0x1aceb1=document['getElementById']('show-in-student-dashboard-checkbox');_0x1aceb1[_0x6314e(0x4e1)]=_0x4b6c8c['showInStudentDashboard']!==![];const _0x1c2708=document[_0x6314e(0x7e4)](_0x6314e(0x265)),_0x41c206=document[_0x6314e(0x7e4)](_0x6314e(0x61e)),_0x4ae597=document['getElementById']('project-passcode-input'),_0x27743e=_0x4b6c8c[_0x6314e(0x8c7)]||![];_0x1c2708[_0x6314e(0x4e1)]=_0x27743e,_0x4ae597['value']=_0x4b6c8c['passcode']||'',_0x41c206[_0x6314e(0x683)]['toggle'](_0x6314e(0x80f),!_0x27743e),_0x1c2708[_0x6314e(0xa89)]=()=>{const _0xe9ff65=_0x6314e;_0x41c206[_0xe9ff65(0x683)][_0xe9ff65(0x459)](_0xe9ff65(0x80f),!_0x1c2708[_0xe9ff65(0x4e1)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x13fb6c),listenForProjectQuizzes(_0x13fb6c),listenForStudentProfiles(_0x13fb6c);}else showMessage(_0x6314e(0xaf8)),showView(_0x6314e(0x21a));}async function handleResetProjectOrder(){const _0x3271c7=_0xe5be95,_0x22c3f4=doc(db,'globalSettings',_0x3271c7(0x6f5));try{await setDoc(_0x22c3f4,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3271c7(0x91f));}catch(_0x12e00c){console[_0x3271c7(0x72a)]('Error\x20resetting\x20project\x20order:',_0x12e00c),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x38cccd){const _0x17b865=_0xe5be95;if(!_0x38cccd)return;const _0xd19ebd=doc(db,_0x17b865(0x62e)+appId+'/public/data/projects',_0x38cccd);try{const _0x5c1a08=await getDoc(_0xd19ebd);if(_0x5c1a08[_0x17b865(0xafe)]()){const _0x2cb416=_0x5c1a08[_0x17b865(0x291)]()[_0x17b865(0x51c)]||![];await updateDoc(_0xd19ebd,{'isPinned':!_0x2cb416});}}catch(_0x54ec20){console['error']('Error\x20toggling\x20pin\x20status:',_0x54ec20),showMessage(_0x17b865(0x8a2));}}async function handleDeleteProject(_0x11112f){const _0x1fba01=_0xe5be95;try{const _0x3f1836=writeBatch(db),_0x1b67ab=collection(db,_0x1fba01(0x62e)+appId+_0x1fba01(0x721)),_0x2c4b30=query(_0x1b67ab,where('projectId','==',_0x11112f)),_0x40bc85=await getDocs(_0x2c4b30);for(const _0x1bb13e of _0x40bc85[_0x1fba01(0x966)]){const _0x5a9ab0=collection(db,_0x1fba01(0x62e)+appId+_0x1fba01(0x9f7)+_0x1bb13e['id']+_0x1fba01(0xa52)),_0x32fbc1=await getDocs(_0x5a9ab0);_0x32fbc1[_0x1fba01(0xa64)](_0x156e1a=>{const _0x4e84a8=_0x1fba01;_0x3f1836[_0x4e84a8(0x4ca)](_0x156e1a[_0x4e84a8(0x6e1)]);}),_0x3f1836[_0x1fba01(0x4ca)](_0x1bb13e['ref']);}const _0xab2b4a=collection(db,_0x1fba01(0x62e)+appId+_0x1fba01(0x76e)+_0x11112f+_0x1fba01(0x45f)),_0x545dd5=await getDocs(_0xab2b4a);_0x545dd5['forEach'](_0x5d3c80=>{const _0x275fc0=_0x1fba01;_0x3f1836['delete'](_0x5d3c80[_0x275fc0(0x6e1)]);});const _0x52cb78=doc(db,'artifacts/'+appId+_0x1fba01(0x7d8),_0x11112f);_0x3f1836[_0x1fba01(0x4ca)](_0x52cb78),await _0x3f1836[_0x1fba01(0x967)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x1fba01(0x21a));}catch(_0x1108b5){console[_0x1fba01(0x72a)](_0x1fba01(0x275),_0x1108b5),showMessage(_0x1fba01(0x358));}}document[_0xe5be95(0x7e4)]('save-settings-btn')['addEventListener'](_0xe5be95(0x75b),async()=>{const _0x4a5a1b=_0xe5be95;if(!currentProjectId)return;const _0x22b360={'defaultNumQuestions':parseInt(document['getElementById'](_0x4a5a1b(0x334))[_0x4a5a1b(0x2cd)]),'defaultNumChoices':parseInt(document['getElementById'](_0x4a5a1b(0x8c0))[_0x4a5a1b(0x2cd)]),'defaultPassingScore':parseInt(document[_0x4a5a1b(0x7e4)](_0x4a5a1b(0x9c3))[_0x4a5a1b(0x2cd)]),'resultsDisplay':document[_0x4a5a1b(0x7e4)](_0x4a5a1b(0x4b4))[_0x4a5a1b(0x2cd)],'shuffleSetting':document[_0x4a5a1b(0x7e4)](_0x4a5a1b(0x58e))[_0x4a5a1b(0x2cd)],'timerMode':document[_0x4a5a1b(0x7e4)]('timer-mode-select')[_0x4a5a1b(0x2cd)],'timerDuration':parseInt(document[_0x4a5a1b(0x7e4)](_0x4a5a1b(0x4ea))[_0x4a5a1b(0x2cd)])};try{const _0x2de333=doc(db,_0x4a5a1b(0x62e)+appId+_0x4a5a1b(0x7d8),currentProjectId);await updateDoc(_0x2de333,{'settings':_0x22b360}),showMessage(_0x4a5a1b(0x830));}catch(_0x507317){console[_0x4a5a1b(0x72a)](_0x4a5a1b(0x9dc),_0x507317),showMessage(_0x4a5a1b(0x85e));}});function listenForStudents(_0x5b9a66){const _0x3f203f=_0xe5be95,_0x250f74=doc(db,'artifacts/'+appId+_0x3f203f(0x7d8),_0x5b9a66);unsubscribeStudentsListener=onSnapshot(_0x250f74,_0x37c0a1=>{const _0x22a779=_0x3f203f;if(_0x37c0a1[_0x22a779(0xafe)]()){const _0x208ed7=_0x37c0a1['data']();currentProjectData=_0x208ed7,renderStudentList(_0x208ed7[_0x22a779(0x2f0)]||[]);}});}function _0x36e1(){const _0x4d70bd=['$1\x5cfrac','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','/public/data/customMathTopics','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','สร้างแบบทดสอบปรนัย','classWeaknesses','รูปหลายเหลี่ยมและมุมภายใน','globalCompositeOperation','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','msRequestFullscreen','\x22\x20class=\x22pin-project-btn\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20submitting\x20group\x20answer:','bottom','both','text-emerald-800','วงกลม:\x20คอร์ดและเส้นสัมผัส','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','รูปสแควร์รูท\x20(surd)','quiz-leaderboard-table-body','undefined','.project-card-container.opacity-50','/public/data/liveGames','เรขาคณิต','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','slice','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','quiz-editor-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','fill_in_no_choices','student-project-leaderboard-tab','bg-black/20','กรุณาป้อนรหัสแบบทดสอบ','สเกลและแผนที่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','687254zOXEzO','พีชคณิตและฟังก์ชัน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','some','2UirhTS','asc','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','กรุณาพิมพ์คำตอบของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-search-input','editor-quiz-topic','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pdf','\x5cdiv','มุมพิเศษ\x2045°-45°-90°','presentation-scratchpad-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีเทอร์มิแนนต์','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','cancel-team-selection-btn','.scratchpad-content-wrapper','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','จำนวนนักเรียน','กรุณาเลือกคำตอบของกลุ่ม','/public/data/practiceBank','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','presentation-ai-result','totalQuestions','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','candidates','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','onchange','setAttribute','.topic-name-display','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','confirmation-modal','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','open','เกิดข้อผิดพลาดในการอัปเดต:\x20','comparison-modal','grid','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','การแยกตัวประกอบ','studentName','.pointsLastQuestion','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','พาราโบลา','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','<div\x20class=\x22mb-3\x20topic-category\x22>','input[name=\x22team_player\x22]:checked','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','กำลังสร้างรูปภาพ...','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','total','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.answer-text','innerText','bg-green-200','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<p><strong>คำตอบของคุณ:</strong>\x20','\x5cfrac{$1}{$2}','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','instructions','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','resultsDisplay','selected-answer-index-hidden','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','topic','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','cancel-global-live-btn','bulk-quiz-settings-modal','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','.draggable-text','อัปเดตพฤติกรรมสำหรับ\x20','ฟังก์ชันเชิงเส้นและกราฟ','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','back-from-results-btn','.question-editor-item','submit','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','practiceProblems','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','contents','generate-from-link-btn','leaderboard-tab','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','quiz-id-input','sqrt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.quiz-bank-item','ใช่','grabbing','hover:bg-indigo-100','getScreenCTM','outerHTML','student-result-area','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','topic-input-area','loopUntilPass','\x22.\x20Ideal\x20Answer:\x20\x22','isStarred','stem','question-analytics-container','documentElement','อัปเดตแบบทดสอบเก่า\x20','</h3>','text-yellow-800','</p></div>','devicePixelRatio','solution','quiz-editor-questions-container','scores-tab-content','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','message-modal','cancel-admin-login-btn','Error\x20opening\x20quiz\x20editor:','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','จำนวนข้อ:','.pen-color-btn','</body></html>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจค','log','shadowColor','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พื้นที่สามเหลี่ยม','exists','<button\x20id=\x22','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#6366F1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientX','\x5cge','check-presentation-answer-btn','exitFullscreen','จากไฟล์ที่แนบมานี้,\x20','.edit-quiz-btn','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','สมการราก\x20(radical)','N/A','อัตราส่วนและสัดส่วน','_opt0\x22\x20name=\x22question','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','_opt1\x22\x20name=\x22question','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','highlighter','blueprint-tab','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.rename-quiz-btn','student-name-input','student-join-game-view','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','ARRAY','กรุณาป้อนหัวข้อสำหรับใบงาน','กรุณาพิมพ์คำตอบของกลุ่ม','สมการเชิงเส้นตัวแปรเดียว','scheduled_pending','fromCharCode','<div\x20class=\x22answer-space\x22></div>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','hint-btn','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20ช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','แบบทดสอบนี้ปิดใช้งานอยู่','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','```','ไม่พบข้อมูลโปรเจค','answers','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quick_thinker','results-table-container','(ไม่มีชื่อ)','bg-red-100','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','text-gray-300\x20hover:text-white','PERSEVERANCE','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctimes','tooltipTarget','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','rgba(16,\x20185,\x20129,\x200.7)','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','text-indigo-700','destroy','repeat','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','quiz-leaderboard-table','ระยะเวลา\x20(วินาที):','#math-topics-checkbox-container\x20input:checked','admin-dashboard','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','quiz-schedule-start-container','project-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','remove','pointerup','td,\x20th','interesting-stats-wrapper','Remedial\x20quiz\x20generation\x20failed:','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','short','Error\x20fetching\x20project\x20quizzes:','แบบปรนัย\x204\x20ตัวเลือก','modal-timer-duration-label','scheduled','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','.delete-quiz-btn','กลุ่มของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','sync-matching-select','delete-svg-btn','groups','image/png','indexOf','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','<li>','รหัสไม่ถูกต้อง','p-2\x20bg-black/10\x20rounded-md','การแจกแจงปกติและ\x20z-score','export-image-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','promptFeedback','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','firstScore','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','text-input-area','team','isAdaptive','บันทึกการแก้ไข','active','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','confirm-not-confident','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20generating\x20easy\x20version\x20quiz:','แผนภาพเวนน์','hint','modal-close-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','loader','สลับไปโหมดนักเรียน','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','name','OBJECT','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','project-name-input','showRankings','confirm-join-game-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','onload','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','worksheet-tab','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','confirm-quiz-settings-btn','items','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','game-start-modal-title','ค่าคลาดเคลื่อนของการวัด','\x20คนที่ส่ง\x20ตอบถูก\x20(','AI\x20ไม่สามารถประมวลผลข้อมูลได้','enable-passcode-checkbox','generate-from-file-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลการวิเคราะห์:\x5cn','team-quiz-topic','generate-worksheet-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','วงรี','Error\x20pairing\x20quizzes:','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','viewBox','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','password-error-msg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','Error\x20deleting\x20project:','\x22>ใช่</p>','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','fa-rocket\x20text-purple-500','after','createdAt','.quiz-bank-move-btn','write','bg-purple-50','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shuffleSetting','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','เกิดข้อผิดพลาดในการนำผู้เล่นออก','กรุณาเลือกคำตอบก่อนครับ','ตัวแปรและนิพจน์',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','replace','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','กฎของโคไซน์','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','restore','data','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','earned-badges-container','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','พิสัย','destination-out','\x20mb-2\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','cancel-create-project-btn','สร้างใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','reference-pdf-upload','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','reveal-answer-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','confidence-modal','summary','<button\x20data-value=\x22','create-project-btn','#E0E7FF','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','Error\x20adding\x20custom\x20topic:','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','parseFromString','Error\x20saving\x20questions\x20to\x20practice\x20bank:','date_desc','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','trail-tool-btn','cloneNode','onerror','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','drop','Error\x20fetching\x20student\x20rankings:','highlighter-tools-group','transformOrigin','.start-game-btn','COMEBACK_KING','touches','numeric','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','button','matching','setFont','modal-loop-until-pass-checkbox','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','cos','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','value','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','</span>','raw','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-tab','สร้างคำถามแบบใช่/ไม่ใช่','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','dragstart','student-view','highlighter-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','score-distribution-chart','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','max','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','8868020DPyLLF','\x22\x20data-q-type=\x22','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison-individual-tab','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','(คัดลอก)\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','student-initial-view','เศษส่วน\x20(ย่อ/ขยาย)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','students','live-race','cancel-quiz-edits-btn','isCorrect','entries','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','แบบทดสอบ:\x20','flex\x20flex-col\x20gap-2','link-input-area','sync-submit-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','blur','cursor','update-old-quizzes-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','presentation-short-answer-input','ลำดับการดำเนินการ\x20(PEMDAS)','removeEventListener','getBBox','projectView',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.color-palette-popup','กำลังดึงข้อมูลจากลิงก์...','AI\x20Fix\x20Error:','bulk-results-display-select','visible','.topic-row','.live-answer-btn,\x20#sync-submit-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','Error\x20generating\x20worksheet:','ความคล้ายของรูป','ข้อต่อไป','7pdhdZQ','mousedown','ยังไม่เต็มนะ','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คัดลอกรหัสแล้ว!','type','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','ลำดับเลขคณิต\x20(AP)','beginPath','finishReason','afterend','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-modal','<div\x20class=\x22space-y-4\x22>','AI\x20grading\x20failed:','19060690qcJOoM','results-quiz-title','\x22.\x20','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','manage-tab','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','Error\x20listening\x20for\x20custom\x20math\x20topics:','จับคู่เพื่อเปรียบเทียบผล','mode-switcher-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x20\x20\x20-\x20','num-questions','ฟังก์ชันค่าสัมบูรณ์','.compare-results-btn','</div>\x0a</div>\x0a','#student-quiz-leaderboard-content\x20thead','</option>','ค่าเสื่อมราคา','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','ส่งแล้ว','bg-red-200\x20text-red-800','ร้อยละประยุกต์','removeChild','post-test','ที่พิมพ์ได้\x20จำนวน\x20','Error\x20saving\x20game\x20results:','contains','focus','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.9)','generate-from-blueprint-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x20ครั้ง)</span></td>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ไม่พบตารางสำหรับ\x20Export','bg-red-100\x20text-red-800','passcode-error-msg','ทำคะแนนเต็มในการทำครั้งแรก','AI\x20Formula\x20Fix\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','prod','Error\x20generating\x20quiz:','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','เกิดข้อผิดพลาดในการลบโปรเจค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','student-quiz-leaderboard-content','Error\x20adding\x20students:','players.','confirm-game-start-btn','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x20ตัวเลือก.\x20','passcode','ฟังก์ชันแบบชิ้นส่วน','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ตรวจทานเฉลยเสร็จสิ้น!','includes','#26890c','copy-quiz-id-btn','Re-grade\x20process\x20failed:','student-team-selection-view','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','<span\x20class=\x22font-bold\x20','start-quiz-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','timestamp','map','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','#000000','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','quiz-results','/users/','ลบแบบทดสอบสำเร็จแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-tutor-pdf-btn','open-scratchpad-btn','<p>','.png','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การปัดเศษและประมาณค่า','file-topic-input','เกิดข้อผิดพลาดในการอ่านไฟล์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','student-project-leaderboard-content','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กรุณาเลือกไฟล์ก่อน','.sort-indicator','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','endTime','_blank','move-quiz-modal','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','option','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','Error\x20updating\x20sort\x20preference:','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','playerName','):\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','quiz-bank-count','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','จัดการ','cancel-passcode-btn','/public/data/learnedFixes','cancel-move-quiz-btn','.answered','comparison-overall-tab','แผนการสอน','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','modal-passing-score-input','หน่วยมวล/น้ำหนักและการแปลง','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','Error\x20verifying\x20answers\x20in\x20editor:','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','visibilitychange','เลือกโปรเจคเพื่อบันทึก','arrayBuffer','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','student-quiz-leaderboard-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','การคูณทศนิยม','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','auto','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','helvetica','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','join-group-activity-btn','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','.pen-size-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','tfrac','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบทศนิยม','data:application/vnd.ms-word;charset=utf-8,','user','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','touchstart','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','podium','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','abs','ON_FIRE','bg-yellow-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','การกระจายและการจัดหมู่','summary_chart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','fa-crown\x20text-yellow-500','from','stopPropagation','bulk-loop-until-pass-checkbox','quiz-end-time','Error\x20starting\x20sync\x20game:','Error\x20moving\x20quiz:','custom-math-topic-input','ปริพันธ์จำกัด','currentQuestionIndex','<span\x20class=\x22sort-indicator\x20ml-2\x22>','none','#10B981','กำลังอัปเดตแบบทดสอบ\x20','text-content-input','\x22\x20name=\x22question_single\x22\x20value=\x22','behavior-log','.delete-svg-btn','autoTable','live-options-container','modal-results-display-select','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-red-700','ทศนิยม\x20(ค่าประจำหลัก)','การลบ','.correct-response-input','\x22...','manage-players-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','request','find','quiz-results-view','เกิดข้อผิดพลาดในการติดดาว','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touch','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','เกี่ยวกับหัวข้อ\x20\x22','Group\x20Mode','quiz-schedule-end-container','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','add-custom-math-topic-btn','upper_group_count','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','postScore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','Error\x20updating\x20project\x20color:','close-comparison-modal-btn','math-topics-checkbox-container','เกิดข้อผิดพลาดในการบันทึก','translate','bank-input-area','.quiz-bank-try-btn','no-projects-msg','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','$1^{$2}','round','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','isRemedial','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','projectSortOrder','loader-text','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','text','currentTarget','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ผิด','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','verify-answers-editor-btn','_opt0\x22>ใช่</label></div>','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','content','confirm-global-live-btn','binom','Failed\x20to\x20get\x20hint:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-game-results-checkbox','project-id-display','.quiz-status-btn','\x22\x20value=\x22true\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','พบ\x20Sync\x20Game!','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.kick-player-btn-sync','responses.','promise','players','deselect-all-topics-btn','function','leaderboard-table-body','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','has','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','grid-view-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','#results-table','insertBefore','แบบเติมคำตอบ','Error\x20updating\x20custom\x20topic:','.answers','ตอบถูก\x203\x20ข้อติดต่อกัน','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x5cle','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','toggle','จำนวนและการดำเนินการ','สุดยอด!\x20ตอบถูกทุกข้อ','<div\x20class=\x22flex-1\x22></div>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','/studentProfiles','generated-quiz-actions','behavior-log-tab-btn','สมการเหตุผล\x20(rational)','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','%</span>','empty','cancel-rename-quiz-btn','\x20(ID:\x20','.quiz-bank-present-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','admin','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','การแปลงรูปอัตลักษณ์','now','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','show_results_and_answers','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','red','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#FCE7F3','export-pdf-modal','label[for=\x22num-questions\x22]','ย้ายแบบทดสอบไปโปรเจคอื่น','fullscreenchange','save','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','question-complexity-select','results-quiz-id-display','generate-from-topic-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','http://www.w3.org/2000/svg','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','leaderboard_','พื้นที่ผิวรูปทรงสามมิติ','keys','9302058FyqYox','quiz-leaderboard-table-container','border-green-700','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','tGain','project-search-input','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','^{\x5ccirc}\x5ctext{C}$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','fixed','perQuestionStats','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x5csqrt{$1}','back-to-home-manual-release','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ส่งคำตอบ','results-tab-content','game-start-mode','<i\x20class=\x22fas\x20fa-save\x22></i>','analytics-tab-content','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','เรเดียนและการแปลงหน่วย','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','not-found','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','file-input-area','push','แบบทดสอบจากคลังส่วนตัว','หมดเวลาสำหรับข้อนี้!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','resize','คำถามถัดไป','AI\x20request\x20was\x20blocked.\x20Reason:\x20','justification','export-leaderboard-excel-btn','questionIndex','results-display-select','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20listening\x20for\x20projects:','การนับ','upperGroupResponders','matching_item','text-gray-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','เงินงวด\x20(อนุกรมเงินงวด)','submittedAt','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','dataIndex','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','.start-live-race-btn','modal-timer-duration-input','<option\x20value=\x22\x22>กำลังโหลด...</option>','delete','export-leaderboard-word-btn','\x20pointer-events-none\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','.presentation-option','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x5c\x5c\x5c\x5c(?=(','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลบหัวข้อสำเร็จ','<p\x20class=\x22text-xl\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','fill_in_with_choices','student-progress-view','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','msExitFullscreen','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','short_answer','player-list-lobby','global-live-game-count','perfect_score','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','ฟังก์ชันพหุนาม','title','webkitExitFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอทโปรดักต์\x20(dot)','mouse','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','line-through\x20text-red-700','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','dataset','settings','preventDefault','ปิดใช้งาน','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เส้นรอบรูป','Error\x20loading\x20quiz\x20for\x20student:','next-sync-question-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','admin-password-input','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','Error\x20generating\x20parallel\x20test\x20from\x20bank:','fa-shield-alt\x20text-gray-600','G-JGJ3WNEQP3','text/html','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','สมการค่าสัมบูรณ์','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','ระบบสมการเชิงเส้นสองตัวแปร','\x20ใหม่...','toLocaleDateString','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ฟังก์ชันลอการิทึม','loop-until-pass-checkbox','className','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','teachingContent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','comparison-individual-content','แบบทดสอบซ่อมเสริม','กฎบวกและกฎคูณ','ส่วนเบี่ยงเบนมาตรฐาน','Copy\x20command\x20failed','overallGroups','findIndex','closest','quizType','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','timer-mode-select','isPinned','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','กรุณาเลือกคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','suggestedAnswer','project-passcode-modal','results_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pop','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','right','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','text-red-500\x20hover:text-red-700','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','สถิติและความน่าจะเป็น','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','all','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','fa-user-astronaut\x20text-blue-700','text-tab','scratchpad-question','classStrengths','#FEE2E2','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','text-yellow-300','analytics-tab-btn','random','getBoundingClientRect','standard','เกิดข้อผิดพลาดในการส่งคำตอบ','presentation-modal','เกิดข้อผิดพลาดในการสร้างใบงาน','desc','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','start-sync-game-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.save-to-bank-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','webkitRequestFullscreen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','244aDMJLy','เกิดข้อผิดพลาดในการอัปเดตสถานะ','พบ\x20Team\x20Quiz!','explanation','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','specialist','div[data-question-index=\x22','text-green-600\x20font-bold','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-rankings-modal','ตาของ:\x20','ไม่สามารถเริ่มเกมได้','\x20รายการ\x20สำเร็จ!','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ไม่ได้ตอบ','กรุณาใส่ชื่อนักเรียน','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','quiz-status-options','dimmed','การบวกเศษส่วน','การจัดกลุ่มข้อมูล','MathJax\x20typeset\x20error\x20(analytics):','blockReason','translate(','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Authentication\x20failed:','temp-loader-results','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','worksheet-input-area','underline','ไม่สามารถโหลดข้อมูลอันดับได้','timerMode','deltaY','answer-counter','removeAttribute','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','button[type=\x22submit\x22]','analyze-strengths-btn','text-red-800','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','shuffle-setting-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','main-correct-answer-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','\x5cpm','<svg','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5ccdot','toString','ค่าสัมบูรณ์','ความชันเส้นสัมผัส','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','project-quizzes-list','ดอกเบี้ยอย่างง่าย','27411472','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','false','ข้อ\x20','generate-from-text-btn','Error\x20saving\x20to\x20question\x20bank:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','.duplicate-quiz-btn','result','bg-green-500','GlobalWorkerOptions','badgesCount','fas\x20fa-star\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','PERFECT_SCORE','textarea','text-gray-100','bg-green-50','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.edit-custom-topic-btn','student-progress','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','รูปสี่เหลี่ยมและสมบัติ','localeCompare','icon','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','เส้นตรง:\x20รูปแบบสมการ','live-player-management','textContent','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getTextContent','manage','สมการลอการิทึม','กรุณาเลือกชื่อของคุณ','ทฤษฎีบทพื้นฐานของแคลคูลัส','back-to-dashboard-btn','scratchpad-clear-btn','correct','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','ลิมิต','padStart','comparison','</p><div>','pen','Error\x20deleting\x20submission:','first_try_ace','newappai','top','warn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','opacity','Error\x20deleting\x20quiz:','bank-quiz-search-input','.verification-result-editor','qIndex','stringify','on_fire','choices_only','rows','hasPerfectScoreBonus','correctAnswer','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ฟังก์ชันผกผัน','confirm-quiz-status-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ชื่อโปรเจคห้ามว่าง','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x20</div>\x0a\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','questionStatus','ownerSVGElement','ส่วนเบี่ยงเบนเฉลี่ย','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','bank-quiz-list','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','BOOLEAN','sync','responses','values','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','_opt','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','lineCap','substring','input[type=\x22radio\x22][value=\x22','correctAnswerIndex','scrollX','open-global-live-btn','Failed\x20to\x20resume\x20game\x20session:','เกิดข้อผิดพลาดในการบันทึกลำดับ','.unpair-quiz-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','lesson-plan-title','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','mouseleave','จำนวนคู่:','touchend','18852trKzWN','back-to-dashboard-from-results-btn','passcode-input-container','กราฟแท่ง\x20กราฟเส้น','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20starting\x20live\x20race:','team-student-list','ไม่พบข้อมูลข้อสอบหลังเรียน','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','ห.ร.ม.\x20(GCD)','fa-bolt\x20text-blue-500','change','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','leaderboard-quiz-tab-content','บันทึกผลการเล่นเกมของ\x20','stroke','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','artifacts/','parse','length','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','passingScore','\x20รายการ...','str','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ไม่พบเอกสารการส่งงานของ\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','print','text-purple-600','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','show_pass_fail_only','input[type=\x22checkbox\x22]','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','Error\x20regenerating\x20question\x20in\x20editor:','progress-student-select','list-view-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ไม่สามารถสร้างโปรเจคได้','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.delete-project-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','show_results_only','ฐานนิยม','close-game-final-btn','student-project-leaderboard-table-body','ระบบเลขและค่าประจำหลัก','<p><strong>คำตอบที่แนะนำ:</strong>\x20','rename-quiz-modal','ไม่พบข้อมูลแบบทดสอบ','preTestId','modal-timer-mode-select','pairedQuizId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI:','confirm-bulk-quiz-settings-btn','showImproveButton','.export-pdf-list-btn','อัปเดตการตั้งค่าของแบบทดสอบ\x20','q-text-','toDate','newappai.firebasestorage.app','ราชาคัมแบ็ก','lowerGroupResponders','8382520xjovTu','Error\x20saving\x20submission:','textarea[name=\x22team_answer\x22]','scores-tab-btn','Error\x20joining\x20live\x20game:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไม่ใช่','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','end-team-quiz-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','\x20คะแนน\x20','keydown','บันทึกการตั้งค่าสำเร็จ','Error\x20starting\x20group\x20quiz:','\x20คะแนน</span></div>','global-quiz-search-input','qType','transparent','[data-topic-container-id]','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กำลังสแกนหาแบบทดสอบเก่า...','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</td>','/questionBank','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','slide-counter','cancel-delete-btn','classList','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','create-project-modal','members','การบวก','.live-summary-tooltip.visible','fill_in_the_blank','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ไม่ผ่าน','คะแนนเฉลี่ย','verify-answers-btn','cancel-bulk-quiz-settings-btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','insertAdjacentHTML','export-excel-btn','\x22\x20data-pre-test-id=\x22','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','เกมสิ้นสุดลงแล้ว','confirm-team-players-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','อัปเดตสถานะสำเร็จ','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ฟังก์ชันราก\x20(root)','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<div\x20id=\x22q-image-container-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','sort','Invalid\x20response\x20structure\x20from\x20AI.','ไม่ใช่\x20/\x20ผิด','element','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','times','lastAnswerCorrect','show-in-student-dashboard-checkbox','strokeStyle','isConfidenceScoringEnabled','sync-player-management','API\x20call\x20failed','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','จุด\x20เส้น\x20ระนาบ','ระยะจากจุดถึงเส้นตรง','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','answered','catch','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','every','Team\x20Quiz','</span></div>','input[type=\x22checkbox\x22]:checked','หยุดระบบจับเวลาหรี่หน้าจอ','fixedData','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','idealAnswer','.quiz-result-card','\x20\x20\x20-\x20คำตอบ:\x20','bg-amber-100\x20text-amber-800','หัวข้อที่สร้างเอง','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','.color-palette-btn','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','การบวกทศนิยม','isFinished','text-blue-700\x20bg-blue-100','ยอดเยี่ยม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','ไม่พบข้อมูลผู้ใช้','confirm-game-start-modal','lesson-plan-modal','setAttributeNS','scrollY','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','download','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','2-digit','ring-purple-400','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','AI\x20แก้ไขคำถามสำเร็จ!','passcode-prompt-message','q-explanation-','</span></p>','สร้างชุดคำถามจับคู่','ยกเลิกการจับคู่สำเร็จ','ref','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','Error\x20verifying\x20answers:','\x22><p\x20class=\x22font-semibold\x22>','answering','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','undo-btn','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','คะแนนเต็ม!','(คู่ขนาน)\x20','confirm-rename-quiz-btn','/public/data/teamQuizzes','wheel','```json','เกิดข้อผิดพลาดในการลบผลสอบ','opacity-50','.doc','dashboardConfig','release','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','projectId','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700','1260QuOnHf',')\x5cb)','{$1}','#F59E0B','save-quiz-btn','</p>','retake-quiz-loop-btn','ดีมาก','Error\x20showing\x20quiz\x20detail\x20view:','\x20from\x20sync\x20game:','end-sync-game-btn','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x20/\x20','learningGaps','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','bar','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','highlighter-size-value','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','input[type=\x22radio\x22]:checked','rgba(239,\x2068,\x2068,\x200.7)','moveTo','input[name=\x22status-option\x22]','get','project-sort-select','bg-blue-100\x20text-blue-800','student-reading-area','อัตราการเปลี่ยนแปลงทันที','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','/public/data/quizzes','text/csv;charset=utf-8;','label','lineWidth','sum','input[name=\x22question_single\x22]:checked','<p\x20class=\x22','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','error','ลบผลสอบของ\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','index','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','eraser-tool-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-shuffle-select','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันยกกำลัง','parallel-test-tab','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','STOP','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','size','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ถูกต้อง!','.status','true','input[name=\x22drill_answer\x22]:checked','baseVal','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','confirmation-message','\x22,\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#E5E7EB','กลุ่ม:\x20','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','live-game','Error\x20comparing\x20results:','team-player-status-grid','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','width','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','text-green-600','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','ตรวจคะแนนใหม่\x20','prev-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','show-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','.choice-text','คำเตือน\x20(','hasOwnProperty','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','next-question-btn','postTScore','<option\x20value=\x22','mouseup','รูปแบบการให้เหตุผล','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','.isScored','หมดเวลา!\x20กำลังส่งคำตอบ...','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ใช่\x20/\x20ถูก','contentEditable','ข้อที่\x20','<p\x20class=\x22font-bold\x20text-sm\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','allResponses','.lastAnswerValue','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22color-palette-btn\x20','การหารทศนิยม','bg-green-200\x20text-green-800','admin-try-quiz-btn','แคลคูลัสเบื้องต้น','comparison-chart','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','createObjectURL','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','กำลังกลับเข้าสู่เกม\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','lessonPlan','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','visibilityState','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','$1^{\x5ccirc}','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','การประยุกต์เวกเตอร์พื้นฐาน','rename-quiz-input','ระยะทางและจุดกึ่งกลาง','\x5cs*\x5c(','results-tab','ปริพันธ์ไม่จำกัด','link-tab','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','disabled','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20select','ความสัมพันธ์ของมุม','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','เปลี่ยนชื่อโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','behaviorLog','confidence-scoring-description','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-options','canvas','admin-testing','clearRect','close-lesson-plan-modal-footer-btn','Error\x20deleting\x20custom\x20topic:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ชนิดของข้อมูลและการเก็บข้อมูล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','join','totalPoints','adaptive-quiz-checkbox','pointercancel','กำลังค้นหากิจกรรม...','สลับไปโหมดผู้ควบคุม','newappai.firebaseapp.com','ไม่พบข้อมูลเกม','สัญกรณ์วิทยาศาสตร์','toLowerCase','.toggle-actions-btn','answer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','Error\x20generating\x20from\x20blueprint:','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cdot','submission','badges','font-bold\x20text-green-700','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','thead','transform','pin','questions','rgba(59,\x20130,\x20246,\x200.7)','results','application/json','duration-300','startsWith','การจัดหมู่\x20(Combination)','<i\x20class=\x22fas\x20fa-pen\x22></i>','getElementById','border-red-700','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x20mx-1\x20text-lg\x22></i></span>','text-emerald-900','bg-gray-500','\x20ชุด)','set','wasConfident','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละพื้นฐาน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.topic-name-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','text-gray-500','flex','1:516499432840:web:7b2a9a571fad2e3d68463d','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','.project-card-container','วงกลม:\x20สมการและสมบัติ','stdDev','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เส้นจำนวน','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','setItem','kick-player-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','open-quiz-bank-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','export-word-btn','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','mjx-container','ความเป็นอิสระของเหตุการณ์','<tr\x20class=\x22','00:00','hidden','scale','</strong></p>','string','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','FileReader\x20error:','ยังไม่ส่ง','add','[contenteditable=\x22true\x22]','ยืนยันการจับคู่','pointsLastQuestion','submit-team-answer-btn','parallel-test-upload-input','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','.ideal-answer-input,\x20.correct-response-input','export-leaderboard-pdf-btn','ปริมาตรรูปทรงสามมิติ','questionText','quadraticCurveTo','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22><span>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','fadeStartTime','การลบเศษส่วน','timerDuration','QUICK_THINKER','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','เกิดข้อผิดพลาดในการเปลี่ยนสี','select-all-topics-btn','answerText','true_false','บันทึกการตั้งค่าแล้ว','Error\x20toggling\x20star\x20status:','questionType','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','quiz-type-select','เรขาคณิตวิเคราะห์','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','files','ควรปรับปรุง','#retake-for-improvement-btn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ก่อนเรียน','save-project-name-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','add-student-btn','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','กรุณาใส่ชื่อใหม่','pointerdown','#view-rankings-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','default','.project-card-content','สร้างโปรเจคสำเร็จ!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','text-white','[*]','<button\x20data-quiz-id=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','close-comparison-modal-footer-btn','sin','สมการตรีโกณมิติ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','อินเวอร์สของเมทริกซ์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถบันทึกการตั้งค่าได้','multiply','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','leaderboard-quiz','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','ความคาดหมาย\x20(Expected\x20value)','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#FEF3C7','lowerGroupNames','worksheet-topic-input','จำนวนเชิงซ้อน\x20(เสริม)','No\x20player\x20data\x20to\x20save.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20(p=','close-presentation-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<h1></h1>','globalSettings','generate-from-parallel-test-btn','groups.','pinned-items','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','สร้างแบบทดสอบ','\x22\x20value=\x22false\x22\x20','กิจกรรมสิ้นสุดลงแล้ว','องค์ประกอบของฟังก์ชัน','upperGroupNames','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','ดูผลสรุปสุดท้าย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','targetId','requestFullscreen','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','message','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','analytics','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','quiz-start-time','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</p><p><strong>เฉลย:</strong>\x20','left','ความน่าจะเป็นแบบมีเงื่อนไข','.question-editor-item[data-q-index=\x22','bg-red-50','list','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.project-card-container[data-id]','สร้างคำถามแบบเติมคำในช่องว่าง','คัดลอกไม่สำเร็จ','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','.generate-lesson-btn','attempts','แก้ไขหัวข้อสำเร็จ','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','overline','schedule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20processing\x20file\x20for\x20AI:','.star-quiz-btn','questionId','quiz-form','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','group','comeback_king','\x22\x20class=\x22delete-project-btn\x20','toFixed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','ไม่มีผู้ตอบตัวเลือกนี้','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','num-choices','cancel-quiz-bank-btn','addEventListener','toLocaleString','isArray','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPasscodeEnabled','#ffffff','practice-topic-btn','medium','(^|[^\x5c\x5c])\x5cb','$1\x5ctext{','.quiz-bank-settings-btn','Error\x20deleting\x20student:','timer-container','per-question-text','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','.generate-post-test-btn','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','ผู้ไม่ยอมแพ้','project-detail-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','name_desc','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','.cancel-edit-topic-btn','bg-yellow-50','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','createdBy','color','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','bg-green-100\x20text-green-800','questionDisplayedAt','ตรีโกณมิติ','shadowBlur','\x0a---\x0a','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','student-team-join','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x5ctext{$1}','min','อสมการค่าสัมบูรณ์','pinnedProjects','game-start-quiz-id','create-from-bank-btn','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','splice','leaderboard-tab-content','การหาร','clientY','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','createElement','close','\x20\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','FIRST_TRY_ACE','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','cancel-quiz-edits-btn-footer','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','json','player-count','.summary-bar-item','temp-loader-text-results','Failed\x20to\x20kick\x20player\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','คณิตการเงิน/บูรณาการ','Failed\x20to\x20parse\x20JSON\x20from\x20AI','th-TH','</label>\x0a\x20\x20\x20\x20</div>\x0a','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','category','latestSubmittedAt','ฮิสโตแกรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','rgba(79,\x2070,\x20229,\x201)','$1^{\x5ccirc}\x5ctext{C}','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#FFFFFF','mixed','ผลรวมอนุกรม\x20(Σ)','.topic-actions-view','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','activeGameSession','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','รีเซ็ตลำดับโปรเจคแล้ว','text-blue-800','projectOrder','ค่าเฉลี่ย','student','การสร้างรูปด้วยวงเวียน–สันตรง','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','topic-tab','select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.score','px)\x20scale(','เวกเตอร์และเมทริกซ์\x20(เสริม)','correctResponse','</button>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20ข้อ\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','text-gray-400\x20hover:text-indigo-600','body','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22true\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22false\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-options','การยืนยันตัวตนล้มเหลว','options','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','modal-shuffle-select','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','Error\x20generating\x20from\x20link:','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','.regenerate-question-btn','name_asc','pen-tools-group','load-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','.edit-question-btn','export-lesson-pdf-btn','lower_group_count','match','delete-all-students-btn','text-red-700\x20bg-red-100','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','save-quiz-edits-btn','results-table','กรุณาเลือกสถานะ','standardTopic','tan',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','projectSort','readAsDataURL','การคูณเศษส่วน','POST','Error\x20confirming\x20players:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','appendChild','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','docs','commit','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','closePath','modal-adaptive-quiz-checkbox','-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่มีคำอธิบาย','lesson-plan-content','link-topic-input','fa-dumbbell\x20text-gray-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','pow','presentation-slide-container','student-name-selection-view','<option>กำลังโหลดโปรเจค...</option>','.quiz-bank-parallel-btn','cancel-test-btn','Error\x20saving\x20quiz\x20edits:','timer-bar','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','back-to-student-home-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กำลังจับคู่...','getContext','#results-table\x20thead\x20tr','สมการยกกำลัง','quiz-settings-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','fill','Error\x20rendering\x20student\x20progress:','.regenerate-question-editor-btn','38949jJmhrD','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-\x20ข้อ\x20','ค่าความจริง/ตารางค่าความจริง','แบบทดสอบนี้หมดเวลาแล้ว','modal-timer-duration-container','whole_quiz','innerHTML','mean','wakeLock','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.submittedAt','multiple_choice','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x22\x20value=\x22','katex','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','preScore','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','text-red-600','startTime','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-list','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','fas\x20fa-user-edit','shuffle','การแจกแจงทวินาม\x20(พื้นฐาน)','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Error\x20starting\x20game:','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','กฎของไซน์','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','คณิตศาสตร์','s;\x22\x20title=\x22','strength-weakness-analysis-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','คะแนนเต็ม','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-bank-modal','ค.ร.น.\x20(LCM)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','$1\x5ctext(','leaderboard','</th>','passing-score-input','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','math-topic-search-input','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','bulk-quiz-settings-btn','</span></td>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','pre-test',';\x22\x20data-id=\x22','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','quiz-results-table-body','.admin-try-quiz-list-btn','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','live-short-answer-input','height','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','transition-all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','คัดลอกแบบทดสอบสำเร็จ','Error\x20saving\x20settings:','#student-project-leaderboard-content\x20thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lobby','student-quiz-topic','ไฮเพอร์โบลา','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22\x20สำเร็จ','querySelector','.generate-easy-version-btn','half_mark_status','ไม่สามารถโหลดรายการโปรเจคได้','#e21b3c','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','manual_release','.ai-fix-formula-btn','เกิดข้อผิดพลาดในการจับคู่','อสมการเชิงเส้น','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mode','NEGATIVE_INFINITY','</li>','teacherSuggestions','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','/public/data/quizzes/','border-red-300\x20bg-red-50','geq','NUMBER','back-to-project-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','back-to-results-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','move-quiz-project-select','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','getItem','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','removeItem','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','แผนการสอน:\x20','touchcancel','<br>','ย้ายแบบทดสอบสำเร็จ','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','style','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confidence-scoring-toggle','beforeend','.copy-quiz-id-list-btn','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','dispatchEvent','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','document','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','target','ไม่มี','กรุณาเลือกโปรเจคปลายทาง','/public/data/syncGames','dfrac','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approx','มุมและการวัดมุม','behavior-log-tab-content','Attempting\x20to\x20save\x20game\x20results...','fullscreenElement','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x20ชุดสำเร็จ!','latestScore','quiz-generation-area','deg','student-quiz-leaderboard-table-body'];_0x36e1=function(){return _0x4d70bd;};return _0x36e1();}function renderStudentList(_0x38a6e7){const _0x73d8eb=_0xe5be95,_0x34b129=document[_0x73d8eb(0x7e4)](_0x73d8eb(0x955));_0x38a6e7[_0x73d8eb(0x630)]===0x0?(studentList[_0x73d8eb(0x994)]=_0x73d8eb(0x88b),_0x34b129['classList']['add'](_0x73d8eb(0x80f))):(studentList[_0x73d8eb(0x994)]=_0x38a6e7[_0x73d8eb(0x374)](_0x7f71f2=>_0x73d8eb(0x52b)+_0x7f71f2+_0x73d8eb(0x550)+_0x7f71f2+_0x73d8eb(0xa80))[_0x73d8eb(0x7c3)](''),_0x34b129[_0x73d8eb(0x683)]['remove']('hidden'));}document[_0xe5be95(0x7e4)](_0xe5be95(0x843))[_0xe5be95(0x8c2)]('click',async()=>{const _0x5165f0=_0xe5be95;if(!currentProjectId)return;const _0x126936=document[_0x5165f0(0x7e4)](_0x5165f0(0x1df)),_0x2f7d1c=_0x126936[_0x5165f0(0x2cd)][_0x5165f0(0x7ab)]();if(!_0x2f7d1c){showMessage(_0x5165f0(0x564));return;}const _0x3d48ec=_0x2f7d1c[_0x5165f0(0x8a4)]('\x0a')[_0x5165f0(0x374)](_0x32f7cb=>_0x32f7cb['trim']())[_0x5165f0(0x670)](_0x54ba4b=>_0x54ba4b);if(_0x3d48ec['length']===0x0)return;try{const _0x209dc9=doc(db,_0x5165f0(0x62e)+appId+_0x5165f0(0x7d8),currentProjectId),_0x2beb41=await getDoc(_0x209dc9);if(_0x2beb41[_0x5165f0(0xafe)]()){const _0x38fdd1=_0x2beb41[_0x5165f0(0x291)]()['students']||[],_0x1f53c6=[...new Set([..._0x38fdd1,..._0x3d48ec])];await updateDoc(_0x209dc9,{'students':_0x1f53c6}),_0x126936[_0x5165f0(0x2cd)]='';}}catch(_0x3a0639){console[_0x5165f0(0x72a)](_0x5165f0(0x35b),_0x3a0639),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x658fdf){const _0x112f8d=_0xe5be95,_0x137e74=document[_0x112f8d(0x7e4)](_0x112f8d(0x393)),_0x5eebfc=document[_0x112f8d(0x7e4)](_0x112f8d(0x9ff)),_0x48f462=_0x137e74[_0x112f8d(0x9e6)]('h3'),_0x367f89=document[_0x112f8d(0x7e4)](_0x112f8d(0x643)),_0x381dc6=document['getElementById'](_0x112f8d(0x3a6));_0x48f462[_0x112f8d(0x5c5)]=_0x112f8d(0x330),_0x5eebfc[_0x112f8d(0x994)]=_0x112f8d(0x1f2),_0x367f89[_0x112f8d(0x5c5)]=_0x112f8d(0x818),_0x137e74[_0x112f8d(0x683)][_0x112f8d(0x21f)](_0x112f8d(0x80f));const _0x36292d=allQuizzes['filter'](_0x44c113=>_0x44c113['id']!==_0x658fdf);_0x36292d[_0x112f8d(0x630)]===0x0?(_0x5eebfc['innerHTML']=_0x112f8d(0x533),_0x367f89[_0x112f8d(0x7ac)]=!![]):(_0x5eebfc[_0x112f8d(0x994)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x36292d['map'](_0x32d89e=>_0x112f8d(0x776)+_0x32d89e['id']+'\x22>'+_0x32d89e[_0x112f8d(0xab8)]+_0x112f8d(0x339))[_0x112f8d(0x7c3)](''),_0x367f89[_0x112f8d(0x7ac)]=![]);const _0x6f4026=async()=>{const _0x125f6c=_0x112f8d,_0x4fd040=_0x5eebfc[_0x125f6c(0x2cd)];if(!_0x4fd040){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x367f89[_0x125f6c(0x7ac)]=!![],_0x367f89['textContent']=_0x125f6c(0x97e);try{const _0x44a000=doc(db,_0x125f6c(0x62e)+appId+'/public/data/quizzes',_0x658fdf),_0x12dbd7=doc(db,_0x125f6c(0x62e)+appId+'/public/data/quizzes',_0x4fd040),_0x5b912e=writeBatch(db);_0x5b912e[_0x125f6c(0x206)](_0x44a000,{'pairedQuizId':_0x4fd040}),_0x5b912e[_0x125f6c(0x206)](_0x12dbd7,{'pairedQuizId':_0x658fdf}),await _0x5b912e[_0x125f6c(0x967)](),showMessage(_0x125f6c(0x6a5)),_0x137e74['classList'][_0x125f6c(0x816)](_0x125f6c(0x80f));}catch(_0x4935b5){console[_0x125f6c(0x72a)](_0x125f6c(0x26d),_0x4935b5),showMessage(_0x125f6c(0x9ee));}finally{_0x48f462[_0x125f6c(0x5c5)]=_0x125f6c(0x47a),_0x367f89[_0x125f6c(0x5c5)]=_0x125f6c(0xac0),_0x367f89[_0x125f6c(0x7ac)]=![],_0x367f89[_0x125f6c(0x302)](_0x125f6c(0x75b),_0x6f4026),_0x381dc6[_0x125f6c(0x302)](_0x125f6c(0x75b),_0x1399f9);}},_0x1399f9=()=>{const _0x231c17=_0x112f8d;_0x137e74[_0x231c17(0x683)][_0x231c17(0x816)](_0x231c17(0x80f)),_0x48f462['textContent']=_0x231c17(0x47a),_0x367f89[_0x231c17(0x5c5)]=_0x231c17(0xac0),_0x367f89[_0x231c17(0x302)](_0x231c17(0x75b),_0x6f4026),_0x381dc6[_0x231c17(0x302)](_0x231c17(0x75b),_0x1399f9);};_0x367f89['addEventListener']('click',_0x6f4026),_0x381dc6[_0x112f8d(0x8c2)](_0x112f8d(0x75b),_0x1399f9);}function handleDeleteStudent(_0x59dc5d){const _0x599d94=_0xe5be95;showConfirmation(_0x599d94(0x259)+_0x59dc5d+_0x599d94(0x2ab),async()=>{const _0xdd1513=_0x599d94;if(!currentProjectId||!currentProjectData)return;const _0x17a1ae=currentProjectData[_0xdd1513(0x2f0)][_0xdd1513(0x670)](_0xfc1d30=>_0xfc1d30!==_0x59dc5d);try{const _0x3dd787=doc(db,_0xdd1513(0x62e)+appId+_0xdd1513(0x7d8),currentProjectId),_0x543db5=doc(db,_0xdd1513(0x62e)+appId+_0xdd1513(0x76e)+currentProjectId+_0xdd1513(0x45f),_0x59dc5d),_0x6f0631=writeBatch(db);_0x6f0631[_0xdd1513(0x206)](_0x3dd787,{'students':_0x17a1ae}),_0x6f0631['delete'](_0x543db5),await _0x6f0631[_0xdd1513(0x967)]();}catch(_0x45feef){console[_0xdd1513(0x72a)](_0xdd1513(0x8ce),_0x45feef),showMessage(_0xdd1513(0x376));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0xb1ece3=_0xc5bf;if(!currentProjectId)return;try{const _0x288d36=doc(db,_0xb1ece3(0x62e)+appId+'/public/data/projects',currentProjectId),_0xfc565d=collection(db,_0xb1ece3(0x62e)+appId+_0xb1ece3(0x76e)+currentProjectId+_0xb1ece3(0x45f)),_0x51715d=await getDocs(_0xfc565d),_0x13cad6=writeBatch(db);_0x13cad6['update'](_0x288d36,{'students':[]}),_0x51715d[_0xb1ece3(0xa64)](_0x409723=>_0x13cad6[_0xb1ece3(0x4ca)](_0x409723['ref'])),await _0x13cad6[_0xb1ece3(0x967)]();}catch(_0x4d03ac){console[_0xb1ece3(0x72a)]('Error\x20deleting\x20all\x20students:',_0x4d03ac),showMessage(_0xb1ece3(0x9eb));}});}async function handleGenerateFromFileClick(){const _0x204935=_0xe5be95;if(!selectedFile){showMessage(_0x204935(0x38d));return;}const _0x314cc4=document[_0x204935(0x7e4)](_0x204935(0x24f)),_0x353ebf=document[_0x204935(0x7e4)]('loader-text'),_0x3fcb72=document['getElementById'](_0x204935(0xa81)),_0x300531=document[_0x204935(0x7e4)]('generate-from-file-btn');_0x300531[_0x204935(0x7ac)]=!![],document[_0x204935(0x7e4)]('quiz-generation-area')[_0x204935(0x683)]['remove'](_0x204935(0x80f)),_0x3fcb72[_0x204935(0x994)]='',_0x314cc4['classList']['remove'](_0x204935(0x80f)),_0x353ebf[_0x204935(0x5c5)]=_0x204935(0x299);const _0x3d2124=new FileReader();_0x3d2124[_0x204935(0x95f)](selectedFile),_0x3d2124[_0x204935(0x25a)]=async()=>{const _0x57fd91=_0x204935;try{const _0x2e3836=_0x3d2124[_0x57fd91(0x5af)][_0x57fd91(0x8a4)](',')[0x1],_0x4382a3=selectedFile[_0x57fd91(0x317)];await generateQuizFromFile(_0x4382a3,_0x2e3836);}catch(_0x5d8048){console[_0x57fd91(0x72a)](_0x57fd91(0x8b2),_0x5d8048),showMessage(_0x57fd91(0x943)+_0x5d8048['message']),_0x314cc4['classList'][_0x57fd91(0x816)](_0x57fd91(0x80f));}finally{}},_0x3d2124[_0x204935(0x2b6)]=_0x4631dd=>{const _0x42ee2a=_0x204935;console[_0x42ee2a(0x72a)](_0x42ee2a(0x814),_0x4631dd),showMessage(_0x42ee2a(0x388)),_0x314cc4[_0x42ee2a(0x683)][_0x42ee2a(0x816)](_0x42ee2a(0x80f)),_0x300531[_0x42ee2a(0x7ac)]=![];};}function autoFormatMath(_0x1f3836){if(typeof _0x1f3836!=='string'||!_0x1f3836)return _0x1f3836;const _0x16397c=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x19a768=_0x1f3836['replace'](_0x16397c,_0xf8e46b=>{const _0x16373b=_0xc5bf;return'$'+_0xf8e46b[_0x16373b(0x7ab)]()+'$';});return _0x19a768;}function sanitizeQuizData(_0x39b055){const _0x38045a=_0xe5be95;if(!_0x39b055||!_0x39b055[_0x38045a(0x7dc)])return _0x39b055;const _0x354d19={'imes':'\x5ctimes','div':_0x38045a(0xa72)},_0x145747=_0x228d51=>{const _0x25240f=_0x38045a;if(typeof _0x228d51!==_0x25240f(0x812))return _0x228d51;let _0x3c47e6=_0x228d51;for(const [_0x336c88,_0x26f07e]of Object['entries'](_0x354d19)){const _0xf848bd=new RegExp('\x5cb'+_0x336c88+'\x5cb','g');_0x3c47e6=_0x3c47e6['replace'](_0xf848bd,_0x26f07e);}return _0x3c47e6=_0x3c47e6[_0x25240f(0x28b)](/\\\//g,'\x5cdiv'),_0x3c47e6=_0x3c47e6[_0x25240f(0x28b)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x25240f(0xa72))[_0x25240f(0x28b)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x25240f(0x28b)](/÷/g,'\x5cdiv')[_0x25240f(0x28b)](/×/g,_0x25240f(0x7b1)),_0x3c47e6=_0x3c47e6[_0x25240f(0x28b)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x3c47e6=autoFormatMath(_0x3c47e6),_0x3c47e6;};return _0x39b055[_0x38045a(0xab8)]&&(_0x39b055['topic']=_0x145747(_0x39b055[_0x38045a(0xab8)])),_0x39b055[_0x38045a(0x7dc)][_0x38045a(0xa64)](_0x580b10=>{const _0x332662=_0x38045a;_0x580b10[_0x332662(0x821)]=_0x145747(_0x580b10[_0x332662(0x821)]),_0x580b10[_0x332662(0x93f)]&&(_0x580b10[_0x332662(0x93f)]=_0x580b10[_0x332662(0x93f)][_0x332662(0x374)](_0x145747)),_0x580b10[_0x332662(0x555)]&&(_0x580b10[_0x332662(0x555)]=_0x145747(_0x580b10[_0x332662(0x555)])),_0x580b10[_0x332662(0xae3)]&&(_0x580b10[_0x332662(0xae3)]=_0x145747(_0x580b10[_0x332662(0xae3)])),_0x580b10[_0x332662(0x933)]&&(_0x580b10[_0x332662(0x933)]=_0x145747(_0x580b10['correctResponse'])),_0x580b10['allResponses']&&(_0x580b10['allResponses']=_0x580b10[_0x332662(0x784)][_0x332662(0x374)](_0x145747));}),_0x39b055;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x3f0acf=_0xe5be95,_0x2262c6=document['getElementById']('link-url-input'),_0x345e24=document[_0x3f0acf(0x7e4)](_0x3f0acf(0x96f)),_0xd1c85b=_0x2262c6[_0x3f0acf(0x2cd)][_0x3f0acf(0x7ab)](),_0x37acfe=_0x345e24['value'][_0x3f0acf(0x7ab)]();if(!_0xd1c85b){showMessage(_0x3f0acf(0x89c));return;}const _0x544bd2=document[_0x3f0acf(0x7e4)](_0x3f0acf(0x24f)),_0x4be600=document[_0x3f0acf(0x7e4)](_0x3f0acf(0x426)),_0x4e7129=document[_0x3f0acf(0x7e4)]('generated-quiz-container'),_0x24b262=document[_0x3f0acf(0x7e4)](_0x3f0acf(0xad0));document[_0x3f0acf(0x7e4)](_0x3f0acf(0xa30))[_0x3f0acf(0x683)][_0x3f0acf(0x21f)](_0x3f0acf(0x80f)),_0x4e7129[_0x3f0acf(0x994)]='',_0x544bd2[_0x3f0acf(0x683)][_0x3f0acf(0x21f)](_0x3f0acf(0x80f)),_0x4be600[_0x3f0acf(0x5c5)]=_0x3f0acf(0x307),_0x24b262[_0x3f0acf(0x7ac)]=!![];try{const _0x38c88d='https://corsproxy.io/?'+encodeURIComponent(_0xd1c85b),_0xdd79c2=await fetch(_0x38c88d);if(!_0xdd79c2['ok'])throw new Error(_0x3f0acf(0x6f8)+_0xdd79c2[_0x3f0acf(0x216)]+')');const _0x29bfdc=await _0xdd79c2[_0x3f0acf(0x428)](),_0x18605e=extractTextFromHtml(_0x29bfdc);if(!_0x18605e||_0x18605e[_0x3f0acf(0x630)]<0x64)throw new Error(_0x3f0acf(0xa50));await generateQuiz(_0x37acfe,_0x18605e);}catch(_0x1295c5){console[_0x3f0acf(0x72a)](_0x3f0acf(0x944),_0x1295c5),showMessage(_0x3f0acf(0x586)+_0x1295c5['message']),_0x4e7129[_0x3f0acf(0x994)]=_0x3f0acf(0x968);}finally{_0x544bd2['classList'][_0x3f0acf(0x816)](_0x3f0acf(0x80f)),_0x24b262[_0x3f0acf(0x7ac)]=![];}}function extractTextFromHtml(_0x5a1bdd){const _0x298120=_0xe5be95,_0xf4cd6=new DOMParser()[_0x298120(0x2ae)](_0x5a1bdd,_0x298120(0x4fe));return _0xf4cd6[_0x298120(0xa16)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x298120(0xa64)](_0x432348=>_0x432348[_0x298120(0x21f)]()),_0xf4cd6['body'][_0x298120(0x5c5)]||'';}document[_0xe5be95(0x7e4)]('generate-from-topic-btn')['addEventListener']('click',()=>{const _0x1fdbd3=_0xe5be95,_0x330fcc=document['getElementById']('topic-input')[_0x1fdbd3(0x2cd)][_0x1fdbd3(0x7ab)]();generateQuiz(_0x330fcc,null);}),document[_0xe5be95(0x7e4)](_0xe5be95(0x5ab))[_0xe5be95(0x8c2)](_0xe5be95(0x75b),()=>{const _0x3f4816=_0xe5be95,_0x28cde4=document[_0x3f4816(0x7e4)](_0x3f4816(0x3ea))[_0x3f4816(0x2cd)][_0x3f4816(0x7ab)]();if(!_0x28cde4){showMessage(_0x3f4816(0x783));return;}const _0x372799=document['getElementById']('topic-input')[_0x3f4816(0x2cd)]['trim']();generateQuiz(_0x372799,_0x28cde4);});async function generateQuiz(_0x4953a7,_0x3bc73c,_0x416d68=null){const _0x40af1c=_0xe5be95,_0x5396fd=document[_0x40af1c(0x7e4)](_0x40af1c(0x5bc))['checked'],_0x1e2aa8=document[_0x40af1c(0x7e4)](_0x40af1c(0x838))[_0x40af1c(0x2cd)],_0x5ae9dc=document[_0x40af1c(0x7e4)](_0x40af1c(0x334))[_0x40af1c(0x2cd)],_0x22e12c=document[_0x40af1c(0x7e4)](_0x40af1c(0x8c0))[_0x40af1c(0x2cd)],_0x33c7d6=document[_0x40af1c(0x7e4)](_0x40af1c(0x580))[_0x40af1c(0x4e1)],_0x490334=_0x33c7d6?'':_0x40af1c(0x9b3),_0x4eeb9d=document[_0x40af1c(0x7e4)]('difficulty-level-select'),_0x3c632b=_0x4eeb9d[_0x40af1c(0x2cd)];let _0x82226a='';_0x3c632b!==_0x40af1c(0x3bb)&&(_0x82226a='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3c632b+'\x22');const _0x10067a=document[_0x40af1c(0x7e4)](_0x40af1c(0x47e)),_0x5d5c5b=_0x10067a[_0x40af1c(0x2cd)];let _0x1c9e71='';_0x5d5c5b!==_0x40af1c(0x919)&&(_0x1c9e71=_0x40af1c(0x69a)+_0x5d5c5b+_0x40af1c(0x458));const _0x3f1b52=document['querySelectorAll'](_0x40af1c(0x219)),_0x100e1f=Array[_0x40af1c(0x3dd)](_0x3f1b52)['map'](_0x4fcf39=>_0x4fcf39[_0x40af1c(0x2cd)]);let _0x47df01='';_0x100e1f[_0x40af1c(0x630)]>0x0&&(_0x47df01=_0x40af1c(0xa05)+_0x100e1f[_0x40af1c(0x7c3)](',\x20')+_0x40af1c(0x66b));let _0x14684a='',_0xfcddc4='',_0x2c5fca,_0x4c2716=_0x40af1c(0x404)+_0x4953a7+'\x22';if(!_0x4953a7&&_0x3bc73c)_0x4c2716=_0x40af1c(0x48c);else!_0x4953a7&&!_0x3bc73c&&(_0x4c2716=_0x40af1c(0x254));const _0x171bb5={'type':_0x40af1c(0x253),'properties':{'questionText':{'type':_0x40af1c(0x5cc)},'options':{'type':_0x40af1c(0x1e4),'items':{'type':_0x40af1c(0x5cc)}},'correctAnswerIndex':{'type':_0x40af1c(0x9fa)},'explanation':{'type':_0x40af1c(0x5cc)},'imageCode':{'type':'STRING'}},'required':[_0x40af1c(0x821),'options',_0x40af1c(0x60e),_0x40af1c(0x555)]},_0x35f8fb={'type':_0x40af1c(0x253),'properties':{'questionText':{'type':_0x40af1c(0x5cc)},'idealAnswer':{'type':_0x40af1c(0x5cc)},'explanation':{'type':_0x40af1c(0x5cc)},'imageCode':{'type':_0x40af1c(0x5cc)}},'required':[_0x40af1c(0x821),_0x40af1c(0x6c1),_0x40af1c(0x555)]},_0x141b6b={'type':_0x40af1c(0x253),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x40af1c(0x5cc),'enum':[_0x40af1c(0x999),_0x40af1c(0x4dd)]},'options':{'type':_0x40af1c(0x1e4),'items':{'type':_0x40af1c(0x5cc)}},'correctAnswerIndex':{'type':_0x40af1c(0x9fa)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x40af1c(0x5cc)},'imageCode':{'type':_0x40af1c(0x5cc)}},'required':[_0x40af1c(0x821),'questionType',_0x40af1c(0x555)]},_0x211080={'type':_0x40af1c(0x253),'properties':{'questionText':{'type':_0x40af1c(0x5cc)},'correctAnswer':{'type':_0x40af1c(0x602)},'explanation':{'type':_0x40af1c(0x5cc)},'imageCode':{'type':_0x40af1c(0x5cc)}},'required':['questionText','correctAnswer',_0x40af1c(0x555)]},_0x137dc2={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x40af1c(0x4b9)]},'stem':{'type':_0x40af1c(0x5cc)},'correctResponse':{'type':_0x40af1c(0x5cc)},'allResponses':{'type':_0x40af1c(0x1e4),'items':{'type':_0x40af1c(0x5cc)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x40af1c(0x832),_0x40af1c(0xae3),_0x40af1c(0x933),_0x40af1c(0x784),_0x40af1c(0x555)]};let _0x5b76ff;if(_0x416d68!==null){const _0x4fd8c3=currentQuizData['questions'][_0x416d68][_0x40af1c(0x832)],_0x55079f=_0x5396fd?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x14684a='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+_0x40af1c(0x34d)+_0x55079f+'\x20'+simpleMathPrompt;if(_0x4fd8c3===_0x40af1c(0x999))_0x2c5fca=_0x171bb5;else{if(_0x4fd8c3===_0x40af1c(0x4b9))_0x2c5fca={'type':_0x40af1c(0x253),'properties':{'questionType':{'type':_0x40af1c(0x5cc),'enum':[_0x40af1c(0x4b9)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40af1c(0x5cc)}},'required':[_0x40af1c(0x832),'stem','correctResponse',_0x40af1c(0x555)]};else _0x2c5fca=_0x35f8fb;}_0x5b76ff=_0x2c5fca;}else{const _0xa48885=_0x5396fd?_0x40af1c(0x3c6):'',_0x43139f=_0x40af1c(0xaa0);switch(_0x1e2aa8){case'multiple_choice':_0x14684a=_0x40af1c(0xa39)+_0x490334+'\x20'+_0x5ae9dc+'\x20ข้อ\x20'+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x472)+_0x22e12c+_0x40af1c(0x901)+_0xa48885+'\x20'+simpleMathPrompt,_0x2c5fca=_0x171bb5;break;case'fill_in_with_choices':_0x14684a=_0x40af1c(0x8a0)+_0x490334+'\x20'+_0x5ae9dc+_0x40af1c(0x936)+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x89e)+_0x22e12c+_0x40af1c(0x714)+_0xa48885+'\x20'+simpleMathPrompt,_0x2c5fca=_0x171bb5;break;case _0x40af1c(0xa59):_0x14684a='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x490334+'\x20'+_0x5ae9dc+_0x40af1c(0x936)+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x2ba)+_0xa48885+'\x20'+simpleMathPrompt,_0x2c5fca=_0x35f8fb;break;case _0x40af1c(0x919):_0x14684a=_0x40af1c(0x881)+_0x490334+'\x20'+_0x5ae9dc+_0x40af1c(0x936)+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x89d)+_0x22e12c+_0x40af1c(0x360)+_0xa48885+'\x20'+simpleMathPrompt+'.',_0x2c5fca=_0x141b6b;break;case _0x40af1c(0x82f):_0x14684a=_0x40af1c(0x2d3)+_0x490334+'\x20'+_0x5ae9dc+_0x40af1c(0x936)+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x69e)+_0xa48885+'\x20'+simpleMathPrompt,_0x2c5fca=_0x211080;break;case _0x40af1c(0x2c6):_0x14684a=_0x40af1c(0x6df)+_0x490334+'\x20'+_0x5ae9dc+'\x20คู่\x20'+_0x4c2716+'\x20'+_0x47df01+'\x20'+_0x82226a+'\x20'+_0x1c9e71+_0x40af1c(0x957)+_0xa48885+'\x20'+simpleMathPrompt,_0x2c5fca=_0x137dc2;break;}_0x5b76ff={'type':_0x40af1c(0x253),'properties':{'topic':{'type':_0x40af1c(0x5cc)},'questions':{'type':_0x40af1c(0x1e4),'items':_0x2c5fca}},'required':['topic',_0x40af1c(0x7dc)]};}return _0x3bc73c?(_0x14684a='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x3bc73c+_0x40af1c(0x74a)+_0x14684a,_0xfcddc4=_0x40af1c(0x9ac)):_0xfcddc4=_0x40af1c(0x99a),handleApiCall(_0x14684a,_0xfcddc4,_0x5b76ff,_0x416d68);}async function generateQuizFromFile(_0x4bdeea,_0x1c803f){const _0x287867=_0xe5be95,_0x2be462=document[_0x287867(0x7e4)](_0x287867(0x387))[_0x287867(0x2cd)][_0x287867(0x7ab)](),_0xe39ec3=document[_0x287867(0x7e4)]('quiz-type-select')['value'],_0x4ad6e1=document[_0x287867(0x7e4)](_0x287867(0x334))['value'],_0x570e43=document[_0x287867(0x7e4)](_0x287867(0x8c0))[_0x287867(0x2cd)],_0x5c8310=document[_0x287867(0x7e4)]('include-images-checkbox')[_0x287867(0x4e1)],_0x431ab2=document[_0x287867(0x7e4)](_0x287867(0x580))[_0x287867(0x4e1)],_0x4e4a15=_0x431ab2?'':_0x287867(0x9b3);let _0x39ea7b='',_0xd061bc,_0x4f9c21=_0x287867(0x404)+_0x2be462+'\x22';!_0x2be462&&(_0x4f9c21=_0x287867(0x63e));const _0x203cf3=_0x5c8310?_0x287867(0x3c6):'';switch(_0xe39ec3){case'multiple_choice':_0x39ea7b=_0x287867(0xa39)+_0x4e4a15+'\x20'+_0x4ad6e1+_0x287867(0x936)+_0x4f9c21+'.\x20แต่ละข้อมี\x20'+_0x570e43+_0x287867(0x901)+_0x203cf3+'\x20'+simpleMathPrompt,_0xd061bc={'type':_0x287867(0x253),'properties':{'questionText':{'type':_0x287867(0x5cc)},'options':{'type':_0x287867(0x1e4),'items':{'type':_0x287867(0x5cc)}},'correctAnswerIndex':{'type':_0x287867(0x9fa)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x287867(0x5cc)}},'required':['questionText',_0x287867(0x93f),_0x287867(0x60e),_0x287867(0x555)]};break;case'fill_in_with_choices':_0x39ea7b='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4e4a15+'\x20'+_0x4ad6e1+_0x287867(0x936)+_0x4f9c21+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x570e43+_0x287867(0x714)+_0x203cf3+'\x20'+simpleMathPrompt,_0xd061bc={'type':'OBJECT','properties':{'questionText':{'type':_0x287867(0x5cc)},'options':{'type':_0x287867(0x1e4),'items':{'type':_0x287867(0x5cc)}},'correctAnswerIndex':{'type':_0x287867(0x9fa)},'explanation':{'type':_0x287867(0x5cc)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x287867(0x60e),'explanation']};break;case _0x287867(0xa59):_0x39ea7b='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4e4a15+'\x20'+_0x4ad6e1+_0x287867(0x936)+_0x4f9c21+_0x287867(0x2ba)+_0x203cf3+'\x20'+simpleMathPrompt,_0xd061bc={'type':_0x287867(0x253),'properties':{'questionText':{'type':_0x287867(0x5cc)},'idealAnswer':{'type':_0x287867(0x5cc)},'explanation':{'type':_0x287867(0x5cc)},'imageCode':{'type':_0x287867(0x5cc)}},'required':[_0x287867(0x821),_0x287867(0x6c1),_0x287867(0x555)]};break;case'mixed':_0x39ea7b=_0x287867(0x881)+_0x4e4a15+'\x20'+_0x4ad6e1+_0x287867(0x936)+_0x4f9c21+_0x287867(0x305)+_0x570e43+_0x287867(0x360)+_0x203cf3+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0xd061bc={'type':_0x287867(0x253),'properties':{'questionText':{'type':_0x287867(0x5cc)},'questionType':{'type':_0x287867(0x5cc),'enum':[_0x287867(0x999),_0x287867(0x4dd)]},'options':{'type':_0x287867(0x1e4),'items':{'type':_0x287867(0x5cc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x287867(0x5cc)},'imageCode':{'type':_0x287867(0x5cc)}},'required':[_0x287867(0x821),'questionType',_0x287867(0x555)]};break;case'true_false':_0x39ea7b='สร้างคำถามแบบใช่/ไม่ใช่'+_0x4e4a15+'\x20'+_0x4ad6e1+_0x287867(0x936)+_0x4f9c21+_0x287867(0x5f2)+_0x203cf3+'\x20'+simpleMathPrompt,_0xd061bc={'type':_0x287867(0x253),'properties':{'questionText':{'type':_0x287867(0x5cc)},'correctAnswer':{'type':_0x287867(0x602)},'explanation':{'type':_0x287867(0x5cc)},'imageCode':{'type':_0x287867(0x5cc)}},'required':[_0x287867(0x821),_0x287867(0x5ee),_0x287867(0x555)]};break;case _0x287867(0x2c6):_0x39ea7b=_0x287867(0x6df)+_0x4e4a15+'\x20'+_0x4ad6e1+'\x20คู่\x20'+_0x4f9c21+_0x287867(0x22b)+_0x4ad6e1+_0x287867(0x41e)+_0x203cf3+'\x20'+simpleMathPrompt,_0xd061bc={'type':'OBJECT','properties':{'questionType':{'type':_0x287867(0x5cc),'enum':[_0x287867(0x4b9)]},'stem':{'type':_0x287867(0x5cc)},'correctResponse':{'type':_0x287867(0x5cc)},'allResponses':{'type':_0x287867(0x1e4),'items':{'type':_0x287867(0x5cc)}},'explanation':{'type':_0x287867(0x5cc)},'imageCode':{'type':_0x287867(0x5cc)}},'required':[_0x287867(0x832),_0x287867(0xae3),_0x287867(0x933),_0x287867(0x784),_0x287867(0x555)]};break;}const _0x4a2324={'type':'OBJECT','properties':{'topic':{'type':_0x287867(0x5cc)},'questions':{'type':_0x287867(0x1e4),'items':_0xd061bc}},'required':[_0x287867(0xab8),_0x287867(0x7dc)]},_0x299686=_0x287867(0xb0a)+_0x39ea7b,_0x5443ea={'contents':[{'parts':[{'text':_0x299686},{'inlineData':{'mimeType':_0x4bdeea,'data':_0x1c803f}}]}],'generationConfig':{'responseMimeType':_0x287867(0x7df),'responseSchema':_0x4a2324}};return handleApiCall(_0x5443ea[_0x287867(0xacf)][0x0]['parts'],_0x287867(0xa8e),_0x4a2324);}function _0xc5bf(_0x442838,_0x3f9f40){const _0x36e18b=_0x36e1();return _0xc5bf=function(_0xc5bfd8,_0x3fe8bf){_0xc5bfd8=_0xc5bfd8-0x1d5;let _0x417c97=_0x36e18b[_0xc5bfd8];return _0x417c97;},_0xc5bf(_0x442838,_0x3f9f40);}async function handleApiCall(_0x440283,_0x42f038,_0x39c204,_0x313e81=null){const _0x5213e9=_0xe5be95,_0xb966d7=document[_0x5213e9(0x7e4)](_0x5213e9(0xa30)),_0x25f14e=document['getElementById'](_0x5213e9(0x24f)),_0x552abc=document['getElementById'](_0x5213e9(0x426)),_0x45d451=document[_0x5213e9(0x7e4)](_0x5213e9(0xa81));_0xb966d7['classList'][_0x5213e9(0x21f)](_0x5213e9(0x80f));_0x313e81===null&&(_0x45d451[_0x5213e9(0x994)]='');_0x25f14e[_0x5213e9(0x683)][_0x5213e9(0x21f)]('hidden'),_0x552abc[_0x5213e9(0x5c5)]=_0x42f038,document[_0x5213e9(0x7e4)](_0x5213e9(0x480))[_0x5213e9(0x7ac)]=!![],document[_0x5213e9(0x7e4)]('generate-from-text-btn')[_0x5213e9(0x7ac)]=!![],document[_0x5213e9(0x7e4)](_0x5213e9(0xad0))[_0x5213e9(0x7ac)]=!![];try{const _0x4e0504={'responseMimeType':_0x5213e9(0x7df),'responseSchema':_0x39c204},_0x575c14=Array[_0x5213e9(0x8c4)](_0x440283)?_0x440283:[{'text':_0x440283}],_0x2c641b={'contents':[{'role':'user','parts':_0x575c14}],'generationConfig':_0x4e0504},_0x43163e=_0x5213e9(0x636),_0xd4490=_0x5213e9(0x4cd)+_0x43163e,_0x273ef5=await fetch(_0xd4490,{'method':_0x5213e9(0x961),'headers':{'Content-Type':_0x5213e9(0x7df)},'body':JSON['stringify'](_0x2c641b)});if(!_0x273ef5['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x273ef5[_0x5213e9(0x216)]);const _0x7c2cf9=await _0x273ef5['json']();if(_0x7c2cf9[_0x5213e9(0xa86)]?.[0x0]?.[_0x5213e9(0x433)]?.[_0x5213e9(0x3af)]?.[0x0]){let _0x272b24=_0x7c2cf9[_0x5213e9(0xa86)][0x0][_0x5213e9(0x433)][_0x5213e9(0x3af)][0x0]['text'],_0x3235bb;try{if(_0x272b24[_0x5213e9(0x7e1)](_0x5213e9(0x6f1)))_0x272b24=_0x272b24[_0x5213e9(0x60c)](0x7,_0x272b24[_0x5213e9(0x630)]-0x3)[_0x5213e9(0x7ab)]();else _0x272b24['startsWith'](_0x5213e9(0x1fc))&&(_0x272b24=_0x272b24[_0x5213e9(0x60c)](0x3,_0x272b24[_0x5213e9(0x630)]-0x3)[_0x5213e9(0x7ab)]());_0x3235bb=JSON[_0x5213e9(0x62f)](_0x272b24);}catch(_0x2c7698){console[_0x5213e9(0x72a)](_0x5213e9(0x909),_0x2c7698,_0x272b24);throw new Error(_0x5213e9(0x6a2));}if(_0x313e81!==null){if(_0x3235bb['questionType']===_0x5213e9(0x4b9)){const _0x300abc=currentQuizData[_0x5213e9(0x7dc)][_0x5213e9(0x374)](_0x16e879=>_0x16e879['correctResponse']);_0x3235bb[_0x5213e9(0x784)]=_0x300abc;const _0x5da0eb=currentQuizData['questions'][_0x313e81]['correctResponse'],_0x1ade86=_0x300abc['indexOf'](_0x5da0eb);_0x1ade86>-0x1&&(_0x300abc[_0x1ade86]=_0x3235bb['correctResponse']),currentQuizData['questions'][_0x5213e9(0xa64)](_0x31dc44=>{const _0x56a088=_0x5213e9;if(_0x31dc44[_0x56a088(0x832)]==='matching_item')_0x31dc44[_0x56a088(0x784)]=_0x300abc;});}currentQuizData[_0x5213e9(0x7dc)][_0x313e81]=_0x3235bb,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x3235bb;const _0x5922c7=document[_0x5213e9(0x7e4)](_0x5213e9(0x838))[_0x5213e9(0x2cd)];currentQuizData[_0x5213e9(0x519)]=_0x5922c7,currentQuizData[_0x5213e9(0x7dc)]&&currentQuizData[_0x5213e9(0x7dc)]['forEach'](_0x866b9=>{const _0x44a651=_0x5213e9;if(!_0x866b9['questionType']){if(_0x5922c7===_0x44a651(0x4d7))_0x866b9['questionType']=_0x44a651(0x999);else _0x5922c7==='fill_in_no_choices'?_0x866b9[_0x44a651(0x832)]=_0x44a651(0x4dd):_0x866b9[_0x44a651(0x832)]=_0x5922c7;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x5213e9(0x72a)](_0x5213e9(0x658),JSON[_0x5213e9(0x5e9)](_0x7c2cf9));throw new Error(_0x5213e9(0x6a2));}}catch(_0x57580c){console[_0x5213e9(0x72a)](_0x5213e9(0x356),_0x57580c),showMessage(_0x5213e9(0x8c5)),_0x313e81===null&&(_0x45d451['innerHTML']=_0x5213e9(0x7b3));}finally{_0x25f14e['classList'][_0x5213e9(0x816)](_0x5213e9(0x80f)),document[_0x5213e9(0x7e4)]('generate-from-topic-btn')[_0x5213e9(0x7ac)]=![],document[_0x5213e9(0x7e4)]('generate-from-text-btn')[_0x5213e9(0x7ac)]=![],document[_0x5213e9(0x7e4)](_0x5213e9(0xad0))[_0x5213e9(0x7ac)]=![];const _0x223efc=document[_0x5213e9(0x7e4)](_0x5213e9(0x266));_0x223efc&&(_0x223efc[_0x5213e9(0x7ac)]=![]);}}function exitFullscreen(){const _0x5d179e=_0xe5be95;if(document[_0x5d179e(0xb09)])document['exitFullscreen']()['catch'](_0x17ff8b=>console['error'](_0x17ff8b));else{if(document[_0x5d179e(0x4e6)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x5d179e(0x4da)]();}}function enterFullscreen(){const _0x1b774e=_0xe5be95,_0x441b20=document[_0x1b774e(0xae5)];if(_0x441b20[_0x1b774e(0x88a)])_0x441b20[_0x1b774e(0x88a)]()[_0x1b774e(0x6b4)](_0xb08762=>{const _0x249177=_0x1b774e;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0xb08762[_0x249177(0x88c)]+'\x20('+_0xb08762[_0x249177(0x252)]+')');});else{if(_0x441b20[_0x1b774e(0x54f)])_0x441b20[_0x1b774e(0x54f)]();else _0x441b20[_0x1b774e(0xa3f)]&&_0x441b20[_0x1b774e(0xa3f)]();}}function handleCheatingEvent(){const _0x430875=_0xe5be95;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x430875(0x935)),document[_0x430875(0x7e4)](_0x430875(0x8b5))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x430875(0x302)](_0x430875(0x3b1),handleVisibilityChange),document[_0x430875(0x302)](_0x430875(0x47b),handleFullscreenChange)):showMessage(_0x430875(0x771)+cheatAttempts+'/'+maxCheatAttempts+_0x430875(0x90d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x32802a=_0xe5be95;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x32802a(0x79b)]===_0x32802a(0x80f))handleCheatingEvent();else document['visibilityState']==='visible'&&(console[_0x32802a(0xaf9)](_0x32802a(0xa47)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x381808){const _0x3cc3c2=_0xe5be95,_0x1de194=document[_0x3cc3c2(0x7e4)](_0x3cc3c2(0xa81));let _0x5ceaef=_0x3cc3c2(0x3ad)+_0x381808[_0x3cc3c2(0xab8)]+_0x3cc3c2(0xae7);_0x381808['questions'][_0x3cc3c2(0xa64)]((_0x8c2fa6,_0x11e482)=>{const _0x1b7766=_0x3cc3c2;!_0x8c2fa6['id']&&(_0x8c2fa6['id']='q_'+Date[_0x1b7766(0x46e)]()+'_'+_0x11e482);const _0x16bbf8=_0x8c2fa6[_0x1b7766(0x832)]||_0x381808[_0x1b7766(0x519)];_0x5ceaef+=_0x1b7766(0x8ec)+_0x11e482+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x11e482+_0x1b7766(0x31b)+_0x11e482+_0x1b7766(0x395)+_0x11e482+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x16bbf8){case _0x1b7766(0x4b9):_0x5ceaef+=_0x1b7766(0x54c)+_0x11e482+'\x22>'+(_0x11e482+0x1)+'.\x20'+_0x8c2fa6[_0x1b7766(0xae3)]+_0x1b7766(0x706);_0x8c2fa6[_0x1b7766(0x82b)]&&(_0x5ceaef+=_0x1b7766(0x69f)+_0x11e482+_0x1b7766(0x73a)+_0x8c2fa6[_0x1b7766(0x82b)]+_0x1b7766(0x598));_0x5ceaef+=_0x1b7766(0x63b)+_0x11e482+'\x22>'+_0x8c2fa6[_0x1b7766(0x933)]+_0x1b7766(0x6bc),_0x5ceaef+=_0x1b7766(0x7a1)+_0x11e482+'\x22>'+_0x8c2fa6[_0x1b7766(0x555)]+_0x1b7766(0x6bc);break;case _0x1b7766(0x4dd):_0x5ceaef+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x11e482+'\x22>'+(_0x11e482+0x1)+'.\x20'+_0x8c2fa6['questionText']+_0x1b7766(0x706);_0x8c2fa6[_0x1b7766(0x82b)]&&(_0x5ceaef+=_0x1b7766(0x69f)+_0x11e482+_0x1b7766(0x73a)+_0x8c2fa6[_0x1b7766(0x82b)]+'</div>');_0x5ceaef+=_0x1b7766(0x5a8)+_0x11e482+'\x22>'+_0x8c2fa6[_0x1b7766(0x6c1)]+_0x1b7766(0x6bc),_0x5ceaef+=_0x1b7766(0x7a1)+_0x11e482+'\x22>'+_0x8c2fa6['explanation']+_0x1b7766(0x6bc);break;case'true_false':_0x5ceaef+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x11e482+'\x22>'+(_0x11e482+0x1)+'.\x20'+_0x8c2fa6['questionText']+_0x1b7766(0x706);_0x8c2fa6[_0x1b7766(0x82b)]&&(_0x5ceaef+='<div\x20id=\x22q-image-container-'+_0x11e482+_0x1b7766(0x73a)+_0x8c2fa6['imageCode']+_0x1b7766(0x598));_0x5ceaef+=_0x1b7766(0x825)+(_0x8c2fa6['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x1b7766(0x357)+(_0x8c2fa6['correctAnswer']===![]?_0x1b7766(0x559):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5ceaef+=_0x1b7766(0x7a1)+_0x11e482+'\x22>'+_0x8c2fa6['explanation']+_0x1b7766(0x6bc);break;case _0x1b7766(0x689):case'multiple_choice':default:_0x5ceaef+=_0x1b7766(0x54c)+_0x11e482+'\x22>'+(_0x11e482+0x1)+'.\x20'+_0x8c2fa6[_0x1b7766(0x821)]+_0x1b7766(0x706);_0x8c2fa6['imageCode']&&(_0x5ceaef+=_0x1b7766(0x69f)+_0x11e482+_0x1b7766(0x73a)+_0x8c2fa6[_0x1b7766(0x82b)]+_0x1b7766(0x598));_0x5ceaef+=_0x1b7766(0x531)+_0x11e482+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8c2fa6[_0x1b7766(0x93f)][_0x1b7766(0x374)]((_0x44f0dc,_0x4cc4e2)=>'<li\x20class=\x22'+(_0x4cc4e2===_0x8c2fa6['correctAnswerIndex']?_0x1b7766(0x559):'')+'\x22>'+_0x44f0dc+_0x1b7766(0x9f4))[_0x1b7766(0x7c3)]('')+_0x1b7766(0x85b),_0x5ceaef+=_0x1b7766(0x7a1)+_0x11e482+'\x22>'+_0x8c2fa6[_0x1b7766(0x555)]+_0x1b7766(0x6bc);break;}_0x5ceaef+=_0x1b7766(0x598);}),_0x5ceaef+=_0x3cc3c2(0xa1d),_0x1de194[_0x3cc3c2(0x994)]=_0x5ceaef,document['querySelectorAll'](_0x3cc3c2(0x951))[_0x3cc3c2(0xa64)](_0x35586d=>_0x35586d[_0x3cc3c2(0x8c2)](_0x3cc3c2(0x75b),handleEditQuestion)),document[_0x3cc3c2(0xa16)](_0x3cc3c2(0x94a))['forEach'](_0xe3313=>_0xe3313['addEventListener'](_0x3cc3c2(0x75b),handleRegenerateQuestion)),document[_0x3cc3c2(0xa16)](_0x3cc3c2(0x54b))['forEach'](_0x421aed=>_0x421aed[_0x3cc3c2(0x8c2)]('click',handleSaveToBank)),document[_0x3cc3c2(0x7e4)]('export-worksheet-pdf-btn')['addEventListener'](_0x3cc3c2(0x75b),exportQuizAsWorksheetPDF),document[_0x3cc3c2(0x7e4)](_0x3cc3c2(0x705))[_0x3cc3c2(0x8c2)](_0x3cc3c2(0x75b),saveQuiz),document[_0x3cc3c2(0x7e4)](_0x3cc3c2(0x691))['addEventListener'](_0x3cc3c2(0x75b),handleVerifyAnswers);if(window['MathJax'])window[_0x3cc3c2(0x422)][_0x3cc3c2(0x32a)]([_0x1de194]);}function handleRegenerateQuestion(_0x54dfc8){const _0x5323ee=_0xe5be95,_0x5c2bc1=_0x54dfc8[_0x5323ee(0x429)][_0x5323ee(0x4ee)][_0x5323ee(0x72e)],_0x11b3f9=currentQuizData[_0x5323ee(0xab8)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x5c2bc1)+0x1)+_0x5323ee(0x506)),generateQuiz(_0x11b3f9,null,parseInt(_0x5c2bc1));}function getPointerPosition(_0x217910,_0x106882){const _0x8af922=_0xe5be95,_0x42f0ee=_0x217910[_0x8af922(0xadb)]();let _0x28dbc8,_0x50daac;return _0x106882[_0x8af922(0x2c1)]&&_0x106882['touches'][_0x8af922(0x630)]>0x0?(_0x28dbc8=_0x106882['touches'][0x0][_0x8af922(0xb06)],_0x50daac=_0x106882[_0x8af922(0x2c1)][0x0][_0x8af922(0x8f8)]):(_0x28dbc8=_0x106882[_0x8af922(0xb06)],_0x50daac=_0x106882['clientY']),{'x':(_0x28dbc8-_0x42f0ee['e'])/_0x42f0ee['a'],'y':(_0x50daac-_0x42f0ee['f'])/_0x42f0ee['d']};}function startDrag(_0x2dafd7){const _0x178e37=_0xe5be95;_0x2dafd7['type']===_0x178e37(0x3ce)&&_0x2dafd7[_0x178e37(0x4f0)]();const _0x21f4fb=_0x2dafd7[_0x178e37(0xa1e)][_0x178e37(0x518)]('.draggable-text');if(_0x21f4fb){draggedSvgElement=_0x21f4fb;const _0x1c2363=draggedSvgElement[_0x178e37(0x5f8)],_0x351b8a=getPointerPosition(_0x1c2363,_0x2dafd7);svgOffset['x']=_0x351b8a['x']-parseFloat(draggedSvgElement[_0x178e37(0x768)](null,'x')),svgOffset['y']=_0x351b8a['y']-parseFloat(draggedSvgElement[_0x178e37(0x768)](null,'y'));}}function calculateItemAnalysis(_0x3ecaed,_0xbaddee){const _0x17ddb4=_0xe5be95,_0x41733d={};if(_0xbaddee[_0x17ddb4(0x630)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x5398e3=[..._0xbaddee]['sort']((_0x41446c,_0x4e38aa)=>{const _0x119929=_0x17ddb4,_0x3551c8=_0x4e38aa[_0x119929(0xa2f)]-_0x41446c[_0x119929(0xa2f)];if(_0x3551c8!==0x0)return _0x3551c8;const _0x2ffb54=_0x41446c[_0x119929(0x8a7)]?.['length']||0x1,_0x221acf=_0x4e38aa[_0x119929(0x8a7)]?.[_0x119929(0x630)]||0x1,_0x465358=_0x2ffb54-_0x221acf;if(_0x465358!==0x0)return _0x465358;const _0x51bcca=new Date(_0x41446c[_0x119929(0x90f)]),_0x5195e0=new Date(_0x4e38aa[_0x119929(0x90f)]),_0x47a94a=_0x51bcca-_0x5195e0;if(_0x47a94a!==0x0)return _0x47a94a;return _0x41446c[_0x119929(0xa96)][_0x119929(0x5bf)](_0x4e38aa[_0x119929(0xa96)],'th');}),_0x13bd6f=_0x5398e3[_0x17ddb4(0x630)],_0x17cf9f=Math[_0x17ddb4(0x2de)](0x1,Math[_0x17ddb4(0x28c)](_0x13bd6f*0.33));if(_0x17cf9f===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3a5580=_0x5398e3[_0x17ddb4(0xa51)](0x0,_0x17cf9f),_0x57423f=_0x5398e3[_0x17ddb4(0xa51)](-_0x17cf9f),_0x1ea9a6=_0x3a5580['map'](_0x5adf4d=>_0x5adf4d['studentName']),_0x51f37b=_0x57423f[_0x17ddb4(0x374)](_0x58b752=>_0x58b752[_0x17ddb4(0xa96)]);return _0x3ecaed[_0x17ddb4(0x7dc)][_0x17ddb4(0xa64)]((_0x4a5d16,_0x4fca3a)=>{const _0x5ca125=_0x17ddb4,_0x45dcee=_0x4a5d16[_0x5ca125(0xae3)]||_0x4a5d16[_0x5ca125(0x821)];let _0x40a7cd=0x0,_0x12c9a2=0x0,_0x1161d3=0x0;const _0x573281=[],_0x1f8519=[];_0x3a5580['forEach'](_0x47c1f8=>{const _0x37295b=_0x5ca125,_0xa54cae=_0x47c1f8[_0x37295b(0x8a7)][_0x47c1f8[_0x37295b(0x8a7)][_0x37295b(0x630)]-0x1],_0x7f0bdc=_0xa54cae[_0x37295b(0x1fe)]['find'](_0x22492c=>_0x22492c[_0x37295b(0x862)]===_0x45dcee);_0x573281[_0x37295b(0x4a9)]({'name':_0x47c1f8[_0x37295b(0xa96)],'isCorrect':_0x7f0bdc?_0x7f0bdc[_0x37295b(0x2f3)]:![]}),_0x7f0bdc&&_0x7f0bdc[_0x37295b(0x2f3)]&&_0x12c9a2++;}),_0x57423f['forEach'](_0x423445=>{const _0x38d50d=_0x5ca125,_0x5bcaff=_0x423445['attempts'][_0x423445[_0x38d50d(0x8a7)][_0x38d50d(0x630)]-0x1],_0x4ddc1b=_0x5bcaff[_0x38d50d(0x1fe)][_0x38d50d(0x3fd)](_0x227ebb=>_0x227ebb[_0x38d50d(0x862)]===_0x45dcee);_0x1f8519['push']({'name':_0x423445['studentName'],'isCorrect':_0x4ddc1b?_0x4ddc1b['isCorrect']:![]}),_0x4ddc1b&&_0x4ddc1b[_0x38d50d(0x2f3)]&&_0x1161d3++;}),_0xbaddee[_0x5ca125(0xa64)](_0x3aced7=>{const _0x5cf968=_0x5ca125,_0x47e37e=_0x3aced7[_0x5cf968(0x8a7)][_0x3aced7[_0x5cf968(0x8a7)]['length']-0x1],_0x7d62db=_0x47e37e[_0x5cf968(0x1fe)][_0x5cf968(0x3fd)](_0x5439db=>_0x5439db[_0x5cf968(0x862)]===_0x45dcee);_0x7d62db&&_0x7d62db[_0x5cf968(0x2f3)]&&_0x40a7cd++;});const _0x516b5e=_0x13bd6f>0x0?_0x40a7cd/_0x13bd6f:0x0,_0x20229b=_0x17cf9f>0x0?_0x12c9a2/_0x17cf9f-_0x1161d3/_0x17cf9f:0x0;_0x41733d[_0x4fca3a]={'p':_0x516b5e,'r':_0x20229b,'upperGroupResponders':_0x573281,'lowerGroupResponders':_0x1f8519};}),{'perQuestionStats':_0x41733d,'overallGroups':{'upperGroupNames':_0x1ea9a6,'lowerGroupNames':_0x51f37b}};}function drag(_0x4d8a78){const _0x905c5c=_0xe5be95;if(draggedSvgElement){_0x4d8a78[_0x905c5c(0x4f0)]();const _0x2a1743=draggedSvgElement[_0x905c5c(0x5f8)],_0x214634=getPointerPosition(_0x2a1743,_0x4d8a78),_0x46090b=_0x2a1743[_0x905c5c(0x270)][_0x905c5c(0x746)];let _0x84ac6e=_0x214634['x']-svgOffset['x'],_0x7373d0=_0x214634['y']-svgOffset['y'];const _0x56fc22=draggedSvgElement[_0x905c5c(0x303)]();_0x84ac6e=Math[_0x905c5c(0x2de)](_0x46090b['x'],Math[_0x905c5c(0x8ee)](_0x84ac6e,_0x46090b['x']+_0x46090b[_0x905c5c(0x755)]-_0x56fc22[_0x905c5c(0x755)])),_0x7373d0=Math[_0x905c5c(0x2de)](_0x46090b['y'],Math[_0x905c5c(0x8ee)](_0x7373d0,_0x46090b['y']+_0x46090b[_0x905c5c(0x9d6)]-_0x56fc22['height'])),draggedSvgElement[_0x905c5c(0x6d3)](null,'x',_0x84ac6e),draggedSvgElement[_0x905c5c(0x6d3)](null,'y',_0x7373d0);}}function endDrag(_0x4ea806){draggedSvgElement=null;}function handleSvgEditClick(_0x259548){const _0x2391da=_0xe5be95;if(_0x259548[_0x2391da(0xa1e)][_0x2391da(0x683)][_0x2391da(0x344)](_0x2391da(0x230))){const _0x6440b6=_0x259548[_0x2391da(0xa1e)]['dataset'][_0x2391da(0x889)],_0x41ec43=_0x259548[_0x2391da(0x429)],_0x191e92=_0x41ec43[_0x2391da(0x9e6)]('#'+_0x6440b6);_0x191e92&&_0x191e92[_0x2391da(0x21f)](),_0x259548[_0x2391da(0xa1e)]['remove']();}}function handleEditQuestion(_0x30c72d){const _0x4d83a4=_0xe5be95,_0x413bbc=_0x30c72d[_0x4d83a4(0x429)],_0x5c5393=_0x413bbc[_0x4d83a4(0x4ee)][_0x4d83a4(0x72e)],_0x595ba3=currentQuizData['questions'][_0x5c5393],_0x1ee597=document['getElementById'](_0x4d83a4(0x65d)+_0x5c5393),_0x4ba5f6=document['getElementById'](_0x4d83a4(0x6dd)+_0x5c5393),_0x255164=document[_0x4d83a4(0x7e4)](_0x4d83a4(0x73d)+_0x5c5393);if(_0x413bbc[_0x4d83a4(0x994)]['includes']('fa-pen')){_0x413bbc['innerHTML']=_0x4d83a4(0x49e),_0x413bbc[_0x4d83a4(0x4e5)]=_0x4d83a4(0x244);if(_0x1ee597)_0x1ee597['contentEditable']=!![];if(_0x4ba5f6)_0x4ba5f6['contentEditable']=!![];if(_0x255164){const _0x5804f3=_0x255164['querySelector']('svg');if(_0x5804f3){const _0x1f8c5f=_0x5804f3[_0x4d83a4(0xa16)](_0x4d83a4(0x428));_0x1f8c5f[_0x4d83a4(0xa64)]((_0x4bbb05,_0x13ca93)=>{const _0x4dece7=_0x4d83a4,_0x5a46ca=_0x4dece7(0x926)+_0x5c5393+'-'+_0x13ca93;_0x4bbb05['id']=_0x5a46ca,_0x4bbb05['classList']['add'](_0x4dece7(0x209)),_0x4bbb05[_0x4dece7(0xa0e)][_0x4dece7(0x2fd)]='move';const _0xb072ef=document['createElementNS'](_0x4dece7(0x482),'circle'),_0x2163e3=_0x4bbb05[_0x4dece7(0x303)]();_0xb072ef[_0x4dece7(0xa8a)]('cx',String(_0x2163e3['x']+_0x2163e3[_0x4dece7(0x755)]+0x5)),_0xb072ef[_0x4dece7(0xa8a)]('cy',String(_0x2163e3['y']+_0x2163e3[_0x4dece7(0x9d6)]/0x2-0x5)),_0xb072ef['setAttribute']('r','5'),_0xb072ef[_0x4dece7(0xa8a)](_0x4dece7(0x989),_0x4dece7(0x475)),_0xb072ef[_0x4dece7(0xa8a)]('class','delete-svg-btn'),_0xb072ef[_0x4dece7(0x4ee)][_0x4dece7(0x889)]=_0x5a46ca,_0x4bbb05[_0x4dece7(0x27b)](_0xb072ef);}),_0x5804f3[_0x4d83a4(0x8c2)](_0x4d83a4(0x313),startDrag),_0x5804f3[_0x4d83a4(0x8c2)](_0x4d83a4(0xa4e),drag),_0x5804f3[_0x4d83a4(0x8c2)](_0x4d83a4(0x777),endDrag),_0x5804f3[_0x4d83a4(0x8c2)](_0x4d83a4(0x619),endDrag),_0x5804f3[_0x4d83a4(0x8c2)](_0x4d83a4(0x3ce),startDrag,{'passive':![]}),_0x5804f3['addEventListener']('touchmove',drag,{'passive':![]}),_0x5804f3['addEventListener'](_0x4d83a4(0x61b),endDrag),_0x5804f3[_0x4d83a4(0x8c2)]('touchcancel',endDrag),_0x5804f3['addEventListener'](_0x4d83a4(0x75b),handleSvgEditClick);}}if(_0x1ee597)_0x1ee597['focus']();}else{_0x413bbc['innerHTML']=_0x4d83a4(0x7e3),_0x413bbc[_0x4d83a4(0x4e5)]='แก้ไขข้อนี้';if(_0x1ee597){_0x1ee597[_0x4d83a4(0x780)]=![];const _0x104686=_0x595ba3[_0x4d83a4(0x832)]||currentQuizData[_0x4d83a4(0x519)];_0x104686===_0x4d83a4(0x4b9)?_0x595ba3[_0x4d83a4(0xae3)]=_0x1ee597[_0x4d83a4(0xaac)][_0x4d83a4(0x60c)](_0x1ee597[_0x4d83a4(0xaac)][_0x4d83a4(0x233)]('.')+0x2)[_0x4d83a4(0x7ab)]():_0x595ba3['questionText']=_0x1ee597[_0x4d83a4(0xaac)]['substring'](_0x1ee597[_0x4d83a4(0xaac)][_0x4d83a4(0x233)]('.')+0x2)[_0x4d83a4(0x7ab)]();}_0x4ba5f6&&(_0x4ba5f6[_0x4d83a4(0x780)]=![],_0x595ba3[_0x4d83a4(0x555)]=_0x4ba5f6[_0x4d83a4(0xaac)]);if(_0x255164){const _0x95a932=_0x255164[_0x4d83a4(0x9e6)]('svg');if(_0x95a932){const _0x447372=_0x95a932[_0x4d83a4(0x2b5)](!![]);_0x447372['querySelectorAll'](_0x4d83a4(0x3ed))[_0x4d83a4(0xa64)](_0x3c7488=>_0x3c7488[_0x4d83a4(0x21f)]()),_0x447372[_0x4d83a4(0xa16)](_0x4d83a4(0xabd))[_0x4d83a4(0xa64)](_0x57e1ec=>{const _0x5ed44b=_0x4d83a4;_0x57e1ec[_0x5ed44b(0x683)][_0x5ed44b(0x21f)]('draggable-text'),_0x57e1ec['style'][_0x5ed44b(0x2fd)]=_0x5ed44b(0x84c),_0x57e1ec[_0x5ed44b(0x57f)]('id');}),_0x595ba3[_0x4d83a4(0x82b)]=_0x447372[_0x4d83a4(0xadc)],_0x95a932[_0x4d83a4(0x302)]('mousedown',startDrag),_0x95a932[_0x4d83a4(0x302)]('mousemove',drag),_0x95a932[_0x4d83a4(0x302)](_0x4d83a4(0x777),endDrag),_0x95a932[_0x4d83a4(0x302)](_0x4d83a4(0x619),endDrag),_0x95a932['removeEventListener'](_0x4d83a4(0x3ce),startDrag),_0x95a932[_0x4d83a4(0x302)](_0x4d83a4(0x5c1),drag),_0x95a932[_0x4d83a4(0x302)]('touchend',endDrag),_0x95a932[_0x4d83a4(0x302)](_0x4d83a4(0xa0a),endDrag),_0x95a932[_0x4d83a4(0x302)](_0x4d83a4(0x75b),handleSvgEditClick),_0x95a932[_0x4d83a4(0xa16)](_0x4d83a4(0x3ed))[_0x4d83a4(0xa64)](_0x5cf670=>_0x5cf670[_0x4d83a4(0x21f)]()),_0x95a932['querySelectorAll']('.draggable-text')[_0x4d83a4(0xa64)](_0x345a7c=>{const _0x111efa=_0x4d83a4;_0x345a7c['classList']['remove'](_0x111efa(0x209)),_0x345a7c['style'][_0x111efa(0x2fd)]=_0x111efa(0x84c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5bbe8a){const _0x2a27a2=_0xe5be95,_0x293db4=document[_0x2a27a2(0x7e4)](_0x2a27a2(0xa54)),_0x6796a4=document['getElementById'](_0x2a27a2(0xaec));_0x6796a4[_0x2a27a2(0x994)]=_0x2a27a2(0x75c),_0x293db4[_0x2a27a2(0x683)][_0x2a27a2(0x21f)](_0x2a27a2(0x80f));try{const _0x56ff6c=doc(db,'artifacts/'+appId+_0x2a27a2(0x721),_0x5bbe8a),_0x313fd2=await getDoc(_0x56ff6c);if(!_0x313fd2[_0x2a27a2(0xafe)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x5bbe8a,..._0x313fd2[_0x2a27a2(0x291)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x11533f){console['error'](_0x2a27a2(0xaf1),_0x11533f),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x293db4[_0x2a27a2(0x683)][_0x2a27a2(0x816)]('hidden');}}function renderQuizEditor(_0x117f8c){const _0x38396f=_0xe5be95;document[_0x38396f(0x7e4)](_0x38396f(0xa6d))[_0x38396f(0x2cd)]=_0x117f8c[_0x38396f(0xab8)];const _0x15fc5f=document['getElementById'](_0x38396f(0xaec));let _0x27f70f=_0x117f8c['questions'][_0x38396f(0x374)]((_0x26913e,_0xbb5c1)=>{const _0x155a85=_0x38396f;let _0xf6c9cd='';const _0x424995=_0x26913e[_0x155a85(0x832)]||_0x117f8c[_0x155a85(0x519)];switch(_0x424995){case _0x155a85(0x999):const _0x26d33d=(_0x26913e[_0x155a85(0x93f)]||[])[_0x155a85(0x374)]((_0x30aa01,_0x16066d)=>_0x155a85(0x38c)+_0xbb5c1+_0x155a85(0x99b)+_0x16066d+'\x22\x20'+(_0x16066d===_0x26913e[_0x155a85(0x60e)]?_0x155a85(0x4e1):'')+_0x155a85(0x476)+_0x30aa01+_0x155a85(0x927))[_0x155a85(0x7c3)]('');_0xf6c9cd=_0x155a85(0x948)+_0x26d33d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0xf6c9cd=_0x155a85(0x1f8)+(_0x26913e[_0x155a85(0x6c1)]||'')+_0x155a85(0x205);break;case _0x155a85(0x82f):_0xf6c9cd=_0x155a85(0x837)+_0xbb5c1+_0x155a85(0x43c)+(_0x26913e[_0x155a85(0x5ee)]===!![]?_0x155a85(0x4e1):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xbb5c1+_0x155a85(0x882)+(_0x26913e[_0x155a85(0x5ee)]===![]?_0x155a85(0x4e1):'')+_0x155a85(0x607);break;case _0x155a85(0x4b9):_0xf6c9cd=_0x155a85(0xa6b)+(_0x26913e['correctResponse']||'')+_0x155a85(0x79c);break;}const _0x311f82=_0x26913e[_0x155a85(0x821)]||_0x26913e[_0x155a85(0xae3)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0xbb5c1+_0x155a85(0x2e1)+_0x424995+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0xbb5c1+0x1)+'\x20('+_0x424995+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x311f82+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0xf6c9cd+_0x155a85(0x337);})[_0x38396f(0x7c3)]('');_0x15fc5f[_0x38396f(0x994)]=_0x27f70f,_0x15fc5f[_0x38396f(0xa16)]('.ai-fix-question-btn')[_0x38396f(0xa64)](_0x34f2cb=>{const _0x4f11cd=_0x38396f;_0x34f2cb['addEventListener'](_0x4f11cd(0x75b),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x33deb1){const _0x267b78=_0xe5be95,_0xdf5c5f=_0x33deb1[_0x267b78(0x429)],_0x1920cb=_0xdf5c5f[_0x267b78(0x518)](_0x267b78(0xac4));if(!_0x1920cb)return;const _0x53bb7c=parseInt(_0x1920cb['dataset']['qIndex'],0xa);if(isNaN(_0x53bb7c)||!currentEditingQuizData['questions'][_0x53bb7c]){showMessage(_0x267b78(0x7e6));return;}const _0x1fafe2=currentEditingQuizData[_0x267b78(0x7dc)][_0x53bb7c];_0xdf5c5f['innerHTML']=_0x267b78(0x562),_0xdf5c5f[_0x267b78(0x7ac)]=!![];const _0x4645a6=_0x267b78(0x5c2)+JSON[_0x267b78(0x5e9)](_0x1fafe2)+_0x267b78(0x9b6);let _0xc6a6a7;const _0x585a82=_0x1fafe2[_0x267b78(0x832)]||currentEditingQuizData[_0x267b78(0x519)];switch(_0x585a82){case'short_answer':_0xc6a6a7={'type':_0x267b78(0x253),'properties':{'questionText':{'type':_0x267b78(0x5cc)},'idealAnswer':{'type':_0x267b78(0x5cc)},'explanation':{'type':_0x267b78(0x5cc)},'imageCode':{'type':'STRING'}},'required':[_0x267b78(0x821),_0x267b78(0x6c1),_0x267b78(0x555)]};break;case _0x267b78(0x999):default:_0xc6a6a7={'type':_0x267b78(0x253),'properties':{'questionText':{'type':_0x267b78(0x5cc)},'options':{'type':_0x267b78(0x1e4),'items':{'type':_0x267b78(0x5cc)}},'correctAnswerIndex':{'type':_0x267b78(0x9fa)},'explanation':{'type':_0x267b78(0x5cc)},'imageCode':{'type':_0x267b78(0x5cc)}},'required':[_0x267b78(0x821),'options',_0x267b78(0x60e),_0x267b78(0x555)]};break;}try{let _0x41c903=await callAnalysisApi(_0x4645a6,_0xc6a6a7);_0x41c903[_0x267b78(0x93f)]&&Array[_0x267b78(0x8c4)](_0x41c903[_0x267b78(0x93f)])&&(_0x41c903[_0x267b78(0x93f)]=_0x41c903[_0x267b78(0x93f)][_0x267b78(0x374)](_0x5d5ed3=>typeof _0x5d5ed3===_0x267b78(0x812)?_0x5d5ed3[_0x267b78(0x28b)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x5d5ed3)),_0x1fafe2[_0x267b78(0x82b)]&&_0x1fafe2['imageCode']['includes']('fix\x20the\x20option')&&(_0x41c903[_0x267b78(0x82b)]=''),currentEditingQuizData[_0x267b78(0x7dc)][_0x53bb7c]={..._0x1fafe2,..._0x41c903},renderQuizEditor(currentEditingQuizData),showMessage(_0x267b78(0x6db));}catch(_0x3b4625){console[_0x267b78(0x72a)](_0x267b78(0x308),_0x3b4625),showMessage(_0x267b78(0x940)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4d495c=_0xe5be95,_0x157692=document[_0x4d495c(0x7e4)](_0x4d495c(0x958));_0x157692['disabled']=!![],_0x157692[_0x4d495c(0x994)]=_0x4d495c(0x628);try{const _0x5010d0=document[_0x4d495c(0x7e4)](_0x4d495c(0xa6d))[_0x4d495c(0x2cd)],_0x573662=document[_0x4d495c(0xa16)]('.question-editor-item');let _0x4c5d1b=[];const _0x5967c8=Array['from'](_0x573662)[_0x4d495c(0x374)]((_0x10572a,_0x2502ff)=>{const _0x3be389=_0x4d495c,_0x53e0a3=_0x10572a['dataset']['qType'],_0x5001f4=_0x10572a[_0x3be389(0x9e6)]('textarea')[_0x3be389(0x2cd)];let _0x1d840c={'questionType':_0x53e0a3};const _0x32d41c=currentEditingQuizData[_0x3be389(0x7dc)][_0x2502ff];switch(_0x53e0a3){case _0x3be389(0x999):_0x1d840c[_0x3be389(0x821)]=_0x5001f4;const _0x18a82c=_0x10572a[_0x3be389(0xa16)](_0x3be389(0x54d));_0x1d840c[_0x3be389(0x93f)]=Array['from'](_0x18a82c)[_0x3be389(0x374)](_0x4e8b76=>_0x4e8b76[_0x3be389(0x2cd)]);const _0x148aa3=_0x10572a[_0x3be389(0x9e6)](_0x3be389(0x717));_0x1d840c[_0x3be389(0x60e)]=_0x148aa3?parseInt(_0x148aa3[_0x3be389(0x2cd)]):0x0;break;case _0x3be389(0x4dd):_0x1d840c[_0x3be389(0x821)]=_0x5001f4,_0x1d840c[_0x3be389(0x6c1)]=_0x10572a[_0x3be389(0x9e6)]('.ideal-answer-input')[_0x3be389(0x2cd)];break;case _0x3be389(0x82f):_0x1d840c['questionText']=_0x5001f4;const _0x332ac1=_0x10572a['querySelector']('input[type=\x22radio\x22]:checked');_0x1d840c[_0x3be389(0x5ee)]=_0x332ac1?_0x332ac1['value']===_0x3be389(0x744):!![];break;case _0x3be389(0x4b9):_0x1d840c['stem']=_0x5001f4;const _0x26677d=_0x10572a['querySelector'](_0x3be389(0x3f6));_0x1d840c[_0x3be389(0x933)]=_0x26677d?_0x26677d[_0x3be389(0x2cd)]:'',_0x4c5d1b[_0x3be389(0x4a9)](_0x1d840c['correctResponse']);break;default:_0x1d840c[_0x3be389(0x821)]=_0x5001f4;break;}return{..._0x32d41c,..._0x1d840c};});_0x4c5d1b[_0x4d495c(0x630)]>0x0&&_0x5967c8[_0x4d495c(0xa64)](_0x13f7df=>{const _0x102b30=_0x4d495c;_0x13f7df[_0x102b30(0x832)]===_0x102b30(0x4b9)&&(_0x13f7df[_0x102b30(0x784)]=_0x4c5d1b);});const _0x48cfe8=currentEditingQuizData['id'],_0x27ca9e=doc(db,_0x4d495c(0x62e)+appId+_0x4d495c(0x721),_0x48cfe8);await updateDoc(_0x27ca9e,{'topic':_0x5010d0,'questions':_0x5967c8}),document['getElementById']('quiz-editor-modal')[_0x4d495c(0x683)][_0x4d495c(0x816)]('hidden'),showMessage(_0x4d495c(0x597),()=>initiateReGradeProcess(_0x48cfe8));}catch(_0x50281e){console[_0x4d495c(0x72a)](_0x4d495c(0x978),_0x50281e),showMessage(_0x4d495c(0x418));}finally{_0x157692[_0x4d495c(0x7ac)]=![],_0x157692['innerHTML']=_0x4d495c(0x624);}}async function initiateReGradeProcess(_0x527353){const _0xb21b7b=_0xe5be95;showMessage(_0xb21b7b(0x3d3));try{const _0x2204ab=doc(db,_0xb21b7b(0x62e)+appId+_0xb21b7b(0x721),_0x527353),_0x522afe=await getDoc(_0x2204ab);if(!_0x522afe[_0xb21b7b(0xafe)]())throw new Error(_0xb21b7b(0x653));const _0xd1c147={'id':_0x527353,..._0x522afe[_0xb21b7b(0x291)]()},_0x408b0d=collection(db,_0xb21b7b(0x62e)+appId+_0xb21b7b(0x721),_0x527353,_0xb21b7b(0x7d6)),_0x2483e6=await getDocs(_0x408b0d);if(_0x2483e6['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x27db4f=_0x2483e6[_0xb21b7b(0x966)][_0xb21b7b(0x374)](_0x19a424=>reGradeSingleSubmission(_0x19a424,_0xd1c147));await Promise[_0xb21b7b(0x534)](_0x27db4f);if(_0xd1c147[_0xb21b7b(0x6fa)]){const _0x4f35b6=doc(db,_0xb21b7b(0x62e)+appId+_0xb21b7b(0x7d8),_0xd1c147['projectId']),_0xb37b72=await getDoc(_0x4f35b6);if(_0xb37b72['exists']()&&_0xb37b72[_0xb21b7b(0x291)]()['students']){const _0x2ffe17=_0xb37b72[_0xb21b7b(0x291)]()[_0xb21b7b(0x2f0)]['map'](_0x102826=>updateStudentProfile(_0xd1c147['projectId'],_0x102826));await Promise[_0xb21b7b(0x534)](_0x2ffe17);}}showMessage(_0xb21b7b(0x75f)+_0x2483e6['size']+_0xb21b7b(0x5fa));}catch(_0x4b1f30){console[_0xb21b7b(0x72a)](_0xb21b7b(0x368),_0x4b1f30),showMessage(_0xb21b7b(0x8fd)+_0x4b1f30[_0xb21b7b(0x88c)]);}}async function reGradeSingleSubmission(_0x53ac61,_0x5c7737){const _0x38dd57=_0xe5be95,_0x1a1851=_0x53ac61['data'](),_0x347fb0=_0x1a1851['studentName'],_0x335c05=_0x1a1851[_0x38dd57(0x8a7)]||[],_0x5dd78e=[];for(const _0x54d402 of _0x335c05){let _0x4e17e9=0x0,_0x2f643a=[],_0x2b4fdb=0x0;const _0x514d09=[];for(const _0x3e6e70 of _0x54d402['answers']){let _0x434e1d;_0x3e6e70[_0x38dd57(0x8b4)]&&(_0x434e1d=_0x5c7737['questions'][_0x38dd57(0x3fd)](_0x29df76=>_0x29df76['id']===_0x3e6e70['questionId']));!_0x434e1d&&_0x3e6e70[_0x38dd57(0x862)]&&(_0x434e1d=_0x5c7737[_0x38dd57(0x7dc)][_0x38dd57(0x3fd)](_0x305956=>(_0x305956[_0x38dd57(0xae3)]||_0x305956[_0x38dd57(0x821)])===_0x3e6e70[_0x38dd57(0x862)]));let _0x3887bf=![];if(_0x434e1d){const _0x2ff969=_0x434e1d[_0x38dd57(0x832)]||_0x5c7737[_0x38dd57(0x519)];switch(_0x2ff969){case _0x38dd57(0x999):if(_0x434e1d[_0x38dd57(0x93f)]&&_0x434e1d['correctAnswerIndex']<_0x434e1d[_0x38dd57(0x93f)][_0x38dd57(0x630)]){const _0x201f60=_0x434e1d[_0x38dd57(0x93f)][_0x434e1d[_0x38dd57(0x60e)]];_0x3887bf=_0x3e6e70[_0x38dd57(0x82e)]===_0x201f60;}break;case _0x38dd57(0x82f):const _0x446e06=_0x3e6e70[_0x38dd57(0x7ce)]===!![]||_0x3e6e70[_0x38dd57(0x7ce)]===_0x38dd57(0x744);_0x3887bf=_0x446e06===_0x434e1d[_0x38dd57(0x5ee)];break;case _0x38dd57(0x4b9):_0x3887bf=_0x3e6e70[_0x38dd57(0x7ce)]===_0x434e1d[_0x38dd57(0x933)];break;case _0x38dd57(0x4dd):_0x3887bf=await gradeShortAnswer(_0x3e6e70['answer'],_0x434e1d);break;default:_0x3887bf=_0x3e6e70[_0x38dd57(0x2f3)];break;}}if(_0x3887bf){_0x4e17e9++,_0x2b4fdb++;if(_0x2b4fdb===0x3)_0x2f643a[_0x38dd57(0x4a9)](BADGES[_0x38dd57(0x3d6)]['id']);}else _0x2b4fdb=0x0;_0x514d09['push']({..._0x3e6e70,'isCorrect':_0x3887bf});}let _0x260bfa=_0x4e17e9*0xa;_0x4e17e9===_0x5c7737['questions'][_0x38dd57(0x630)]&&(_0x260bfa+=0x32,_0x2f643a[_0x38dd57(0x4a9)](BADGES['PERFECT_SCORE']['id'])),_0x5dd78e[_0x38dd57(0x4a9)]({..._0x54d402,'score':_0x4e17e9,'points':_0x260bfa,'badges':Array[_0x38dd57(0x3dd)](new Set(_0x2f643a)),'answers':_0x514d09});}const _0x2111b0=_0x5dd78e['length']>0x0?_0x5dd78e[0x0][_0x38dd57(0x32e)]:0x0,_0x2f16ac=Math[_0x38dd57(0x2de)](..._0x5dd78e[_0x38dd57(0x374)](_0x48ab88=>_0x48ab88[_0x38dd57(0x32e)])),_0x373501=_0x5dd78e[_0x38dd57(0x630)]>0x0?_0x5dd78e[_0x5dd78e[_0x38dd57(0x630)]-0x1][_0x38dd57(0x32e)]:0x0,_0x5d614c=_0x5dd78e[_0x38dd57(0x630)]>0x0?_0x5dd78e[_0x5dd78e[_0x38dd57(0x630)]-0x1][_0x38dd57(0x7a9)]:0x0,_0x1ced2e=doc(db,'artifacts/'+appId+_0x38dd57(0x9f7)+_0x5c7737['id']+'/submissions',_0x347fb0);await updateDoc(_0x1ced2e,{'attempts':_0x5dd78e,'firstScore':_0x2111b0,'bestScore':_0x2f16ac,'latestScore':_0x373501,'points':_0x5d614c});}function cleanupQuizOptions(_0x3de8b3){const _0x544eac=_0xe5be95,_0x2e0601=(_0x274a3e,_0x106488)=>_0x106488===0x0?_0x274a3e:_0x2e0601(_0x106488,_0x274a3e%_0x106488),_0xa652b6=_0x35179d=>{const _0x5e0c74=_0xc5bf;if(typeof _0x35179d!=='string')return null;_0x35179d=_0x35179d['trim']();const _0x1fbc03=_0x35179d['split'](/[ /]/)[_0x5e0c74(0x670)](_0x146df4=>_0x146df4!=='');if(_0x1fbc03[_0x5e0c74(0x630)]===0x3)return parseInt(_0x1fbc03[0x0])+parseInt(_0x1fbc03[0x1])/parseInt(_0x1fbc03[0x2]);else{if(_0x1fbc03[_0x5e0c74(0x630)]===0x2)return parseInt(_0x1fbc03[0x0])/parseInt(_0x1fbc03[0x1]);else{if(_0x1fbc03['length']===0x1&&!isNaN(_0x1fbc03[0x0]))return parseFloat(_0x1fbc03[0x0]);}}return null;},_0x38de79=_0x2d306=>{const _0x14e4a6=_0xc5bf;if(typeof _0x2d306!=='string')return _0x2d306;const _0x2b055e=_0x2d306[_0x14e4a6(0x954)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2b055e){const _0x1fab12=parseInt(_0x2b055e[0x1]);let _0x22b6a4=parseInt(_0x2b055e[0x2]),_0x26d523=parseInt(_0x2b055e[0x3]);const _0x4cf497=_0x2e0601(_0x22b6a4,_0x26d523);_0x22b6a4/=_0x4cf497,_0x26d523/=_0x4cf497;if(_0x26d523===0x1)return(_0x1fab12+_0x22b6a4)[_0x14e4a6(0x59e)]();return _0x1fab12+'\x20'+_0x22b6a4+'/'+_0x26d523;}return _0x2d306;};return _0x3de8b3&&_0x3de8b3[_0x544eac(0x7dc)]&&_0x3de8b3[_0x544eac(0x7dc)][_0x544eac(0xa64)](_0x4f91a4=>{const _0x580760=_0x544eac;if(_0x4f91a4[_0x580760(0x832)]===_0x580760(0x999)&&_0x4f91a4[_0x580760(0x93f)]){const _0x3d5a0f=new Map(),_0x5b0550=_0x4f91a4['options'][_0x4f91a4[_0x580760(0x60e)]];_0x4f91a4[_0x580760(0x93f)][_0x580760(0xa64)](_0x3e63f8=>{const _0x3d457b=_0x580760,_0x2feecd=_0x38de79(_0x3e63f8),_0xeb2a28=_0xa652b6(_0x2feecd);_0xeb2a28!==null&&!_0x3d5a0f[_0x3d457b(0x449)](_0xeb2a28)&&_0x3d5a0f[_0x3d457b(0x7ec)](_0xeb2a28,_0x2feecd);}),_0x4f91a4['options']=Array['from'](_0x3d5a0f[_0x580760(0x605)]());const _0x2958da=_0x4f91a4[_0x580760(0x93f)][_0x580760(0x517)](_0x21ac92=>_0x21ac92===_0x38de79(_0x5b0550));_0x4f91a4[_0x580760(0x60e)]=_0x2958da!==-0x1?_0x2958da:0x0;}}),_0x3de8b3;}function showGameStartConfirmationModal(_0x268fde,_0x3b056b,_0x2e3ec2){const _0x340360=_0xe5be95,_0x1724af=document['getElementById'](_0x340360(0x6d1));document[_0x340360(0x7e4)](_0x340360(0x261))[_0x340360(0x5c5)]='เริ่มกิจกรรม:\x20'+_0x2e3ec2,document['getElementById']('game-start-quiz-id')[_0x340360(0x2cd)]=_0x268fde,document['getElementById'](_0x340360(0x49d))[_0x340360(0x2cd)]=_0x3b056b,document['getElementById'](_0x340360(0x439))['checked']=!![],_0x1724af['classList'][_0x340360(0x21f)](_0x340360(0x80f));}async function saveGameResultsAsSubmissions(_0x470999){const _0x18f6e3=_0xe5be95;console[_0x18f6e3(0xaf9)](_0x18f6e3(0xa2a),_0x470999);const _0x522047=_0x470999[_0x18f6e3(0x560)];let _0x44b40b=[];if(_0x470999[_0x18f6e3(0x444)])_0x44b40b=Object['entries'](_0x470999[_0x18f6e3(0x444)])[_0x18f6e3(0x374)](([_0x410434,_0xc1f397])=>({'name':_0x410434,..._0xc1f397}));else{if(_0x470999[_0x18f6e3(0x231)])Object[_0x18f6e3(0x605)](_0x470999['groups'])[_0x18f6e3(0xa64)](_0x19860b=>{const _0x42d2ba=_0x18f6e3;_0x19860b[_0x42d2ba(0x686)]['forEach'](_0x2decb5=>{const _0x15e953=_0x42d2ba;_0x44b40b[_0x15e953(0x4a9)]({'name':_0x2decb5,'score':_0x19860b[_0x15e953(0x32e)]});});});else _0x470999[_0x18f6e3(0x604)]&&Object[_0x18f6e3(0x2f4)](_0x470999[_0x18f6e3(0x604)])['forEach'](([_0xe46d30,_0x1e76f0])=>{const _0x1ddedc=_0x18f6e3;_0x44b40b[_0x1ddedc(0x4a9)]({'name':_0xe46d30,..._0x1e76f0});});}if(_0x44b40b['length']===0x0){console[_0x18f6e3(0xaf9)](_0x18f6e3(0x86c));return;}const _0x4ca2f8=_0x470999[_0x18f6e3(0x43f)]?.['questions']['length']||currentQuizData['questions'][_0x18f6e3(0x630)],_0x56ce99=writeBatch(db);for(const _0x27e53e of _0x44b40b){const _0x543385=_0x27e53e[_0x18f6e3(0x32e)]||0x0,_0x6150b0=doc(db,_0x18f6e3(0x62e)+appId+_0x18f6e3(0x9f7)+_0x522047+_0x18f6e3(0xa52),_0x27e53e[_0x18f6e3(0x252)]),_0x4a1954={'score':_0x543385,'points':_0x543385*0xa,'badges':_0x27e53e[_0x18f6e3(0x7d4)]||[],'submittedAt':new Date()[_0x18f6e3(0x74e)](),'answers':(_0x27e53e[_0x18f6e3(0x1fe)]||[])[_0x18f6e3(0x374)](_0x5c59d3=>({'questionId':_0x5c59d3[_0x18f6e3(0x8b4)],'answer':_0x5c59d3['answer'],'answerText':_0x5c59d3[_0x18f6e3(0x82e)],'isCorrect':_0x5c59d3[_0x18f6e3(0x2f3)],'originalQuestionText':_0x5c59d3['originalQuestionText']}))},_0x43f4ac=await getDoc(_0x6150b0),_0x338a1a=_0x43f4ac['exists']()?_0x43f4ac[_0x18f6e3(0x291)]():{},_0x116ae=_0x338a1a[_0x18f6e3(0x93b)]||0x0,_0x39abd7=_0x338a1a['attempts']||[],_0x2cc549={'studentName':_0x27e53e[_0x18f6e3(0x252)],'totalQuestions':_0x4ca2f8,'attempts':arrayUnion(_0x4a1954),'latestScore':_0x543385,'latestSubmittedAt':_0x4a1954[_0x18f6e3(0x4c1)],'bestScore':Math[_0x18f6e3(0x2de)](_0x116ae,_0x543385),'firstScore':_0x39abd7[_0x18f6e3(0x630)]===0x0?_0x543385:_0x338a1a[_0x18f6e3(0x23e)]||0x0};_0x56ce99['set'](_0x6150b0,_0x2cc549,{'merge':!![]});}try{await _0x56ce99[_0x18f6e3(0x967)](),showMessage(_0x18f6e3(0x62a)+_0x44b40b[_0x18f6e3(0x630)]+_0x18f6e3(0x55e));const _0x2a98ad=_0x470999['shuffledQuiz']?.[_0x18f6e3(0x6fa)]||currentQuizData?.['projectId']||currentProjectId;if(_0x2a98ad){const _0x22ca1d=[...new Set(_0x44b40b[_0x18f6e3(0x374)](_0x46dfd4=>_0x46dfd4['name']))];for(const _0xc13fd2 of _0x22ca1d){await updateStudentProfile(_0x2a98ad,_0xc13fd2);}}}catch(_0x1bba8f){console[_0x18f6e3(0x72a)](_0x18f6e3(0x343),_0x1bba8f),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0x394a79=_0xe5be95;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xd0ddbe=document[_0x394a79(0x7e4)](_0x394a79(0x705));_0xd0ddbe[_0x394a79(0x7ac)]=!![],_0xd0ddbe['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x5b7e4e=document[_0x394a79(0x7e4)]('pre-test-checkbox')[_0x394a79(0x4e1)];let _0x1fb853=document[_0x394a79(0x7e4)]('editable-quiz-topic')[_0x394a79(0xaac)][_0x394a79(0x7ab)]();_0x5b7e4e&&!_0x1fb853[_0x394a79(0x7e1)](_0x394a79(0x836))&&(_0x1fb853='(ก่อนเรียน)\x20'+_0x1fb853);try{const _0x4d1903={'resultsDisplay':document[_0x394a79(0x7e4)](_0x394a79(0x4b4))[_0x394a79(0x2cd)],'shuffle':document[_0x394a79(0x7e4)](_0x394a79(0x58e))['value'],'timerMode':document[_0x394a79(0x7e4)](_0x394a79(0x51b))[_0x394a79(0x2cd)],'timerDuration':parseInt(document['getElementById'](_0x394a79(0x4ea))[_0x394a79(0x2cd)])||0xa,'passingScore':parseInt(document[_0x394a79(0x7e4)](_0x394a79(0x9c3))['value'])||0x0,'isAdaptive':document[_0x394a79(0x7e4)](_0x394a79(0x7c5))[_0x394a79(0x4e1)],'loopUntilPass':document[_0x394a79(0x7e4)](_0x394a79(0x50b))[_0x394a79(0x4e1)]},_0x34ea70=(currentQuizData[_0x394a79(0x7dc)]||[])[_0x394a79(0x374)]((_0x4b50f5,_0x239a70)=>{const _0x20ddf7=_0x394a79,_0x1cc54c=document[_0x20ddf7(0x7e4)](_0x20ddf7(0x838))['value'],_0x458658={'id':'q_'+Date[_0x20ddf7(0x46e)]()+'_'+_0x239a70,'questionText':_0x4b50f5[_0x20ddf7(0x821)]||'','explanation':_0x4b50f5[_0x20ddf7(0x555)]||_0x20ddf7(0x96d),'questionType':_0x4b50f5[_0x20ddf7(0x832)]||_0x1cc54c,'imageCode':_0x4b50f5[_0x20ddf7(0x82b)]||null};return(_0x458658[_0x20ddf7(0x832)]==='multiple_choice'||_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0x4d7)||_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0x919)&&_0x4b50f5[_0x20ddf7(0x93f)])&&(_0x458658[_0x20ddf7(0x93f)]=_0x4b50f5[_0x20ddf7(0x93f)]||[],_0x458658[_0x20ddf7(0x60e)]=_0x4b50f5[_0x20ddf7(0x60e)]!==undefined?_0x4b50f5[_0x20ddf7(0x60e)]:0x0),(_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0x4dd)||_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0xa59)||_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0x919)&&_0x4b50f5['idealAnswer'])&&(_0x458658[_0x20ddf7(0x6c1)]=_0x4b50f5['idealAnswer']||''),_0x458658[_0x20ddf7(0x832)]==='true_false'&&(_0x458658[_0x20ddf7(0x5ee)]=_0x4b50f5['correctAnswer']===!![]),_0x458658[_0x20ddf7(0x832)]===_0x20ddf7(0x4b9)&&(_0x458658[_0x20ddf7(0xae3)]=_0x4b50f5[_0x20ddf7(0xae3)]||'',_0x458658[_0x20ddf7(0x933)]=_0x4b50f5[_0x20ddf7(0x933)]||'',_0x458658[_0x20ddf7(0x784)]=_0x4b50f5[_0x20ddf7(0x784)]||[]),_0x458658;}),_0x429eb1={'topic':_0x1fb853,'quizType':currentQuizData[_0x394a79(0x519)]||_0x394a79(0x999),'questions':_0x34ea70,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x394a79(0x74e)](),'status':_0x394a79(0x245),'settings':_0x4d1903,'quizMode':_0x5b7e4e?'pre-test':_0x394a79(0x541),'pairedQuizId':null,'lessonPlan':null};let _0xea3e6f;while(!![]){_0xea3e6f=Math[_0x394a79(0x28c)](0x3e8+Math[_0x394a79(0x53f)]()*0x2328)['toString']();const _0x217bc8=await getDoc(doc(db,_0x394a79(0x62e)+appId+_0x394a79(0x721),_0xea3e6f));if(!_0x217bc8[_0x394a79(0xafe)]())break;}await setDoc(doc(db,_0x394a79(0x62e)+appId+_0x394a79(0x721),_0xea3e6f),_0x429eb1),currentQuizData[_0x394a79(0x4ef)]=_0x4d1903,currentQuizData['id']=_0xea3e6f;const _0x3d3601=document[_0x394a79(0x7e4)](_0x394a79(0x460));_0x3d3601[_0x394a79(0x994)]=_0x394a79(0xa58)+_0xea3e6f+_0x394a79(0x5b9),document[_0x394a79(0x7e4)](_0x394a79(0x367))[_0x394a79(0x8c2)](_0x394a79(0x75b),()=>copyTextToClipboard(_0xea3e6f,'คัดลอกรหัสแล้ว!')),document[_0x394a79(0x7e4)]('start-live-race-generated-btn')[_0x394a79(0x8c2)](_0x394a79(0x75b),()=>handleStartLiveRace(_0xea3e6f)),document[_0x394a79(0x7e4)]('start-presentation-btn')[_0x394a79(0x8c2)]('click',()=>startPresentation(currentQuizData)),document[_0x394a79(0x7e4)](_0x394a79(0x78c))[_0x394a79(0x8c2)](_0x394a79(0x75b),startAdminTest),showMessage(_0x394a79(0x30e));}catch(_0x553fa8){console['error'](_0x394a79(0xa3d),_0x553fa8),showMessage(_0x394a79(0x6da)),_0xd0ddbe[_0x394a79(0x7ac)]=![],_0xd0ddbe['innerHTML']=_0x394a79(0xa63);}}function promptForProjectAndSave(){const _0x1ad5b9=_0xe5be95,_0x560f5d=document[_0x1ad5b9(0x7e4)](_0x1ad5b9(0x393)),_0x5f1425=document['getElementById'](_0x1ad5b9(0x9ff)),_0x427b2e=_0x560f5d[_0x1ad5b9(0x9e6)]('h3'),_0x392870=document[_0x1ad5b9(0x7e4)](_0x1ad5b9(0x643));_0x427b2e['textContent']=_0x1ad5b9(0x3b2),_0x392870[_0x1ad5b9(0x5c5)]='เลือกและบันทึก';allProjects[_0x1ad5b9(0x630)]===0x0?(_0x5f1425[_0x1ad5b9(0x994)]=_0x1ad5b9(0x3cc),_0x392870[_0x1ad5b9(0x7ac)]=!![]):(_0x5f1425['innerHTML']=allProjects[_0x1ad5b9(0x374)](_0x49c1b0=>_0x1ad5b9(0x776)+_0x49c1b0['id']+'\x22>'+_0x49c1b0[_0x1ad5b9(0x7ee)]+'</option>')[_0x1ad5b9(0x7c3)](''),_0x392870['disabled']=![]);_0x560f5d[_0x1ad5b9(0x683)]['remove']('hidden');const _0x5326ca=()=>{const _0x44f4ea=_0x1ad5b9,_0x12bde8=_0x5f1425[_0x44f4ea(0x2cd)];_0x12bde8?(currentProjectId=_0x12bde8,_0x560f5d['classList'][_0x44f4ea(0x816)](_0x44f4ea(0x80f)),saveQuiz(),_0x427b2e[_0x44f4ea(0x5c5)]=_0x44f4ea(0x47a),_0x392870[_0x44f4ea(0x5c5)]=_0x44f4ea(0xac0),_0x392870['removeEventListener']('click',_0x5326ca),_0x392870['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x44f4ea(0x292));};_0x392870[_0x1ad5b9(0x302)](_0x1ad5b9(0x75b),confirmMoveQuiz),_0x392870[_0x1ad5b9(0x8c2)](_0x1ad5b9(0x75b),_0x5326ca);}function copyTextToClipboard(_0x2b056f,_0x209976){const _0x55ffb3=_0xe5be95,_0x2bb730=document[_0x55ffb3(0x8fa)](_0x55ffb3(0x5b6));_0x2bb730[_0x55ffb3(0x2cd)]=_0x2b056f,_0x2bb730[_0x55ffb3(0xa0e)]['position']=_0x55ffb3(0x495),_0x2bb730[_0x55ffb3(0xa0e)][_0x55ffb3(0x5e4)]='0',document[_0x55ffb3(0x939)][_0x55ffb3(0x964)](_0x2bb730),_0x2bb730[_0x55ffb3(0x345)](),_0x2bb730[_0x55ffb3(0x92c)]();try{const _0xbf1541=document['execCommand']('copy');showMessage(_0xbf1541?_0x209976:'คัดลอกไม่สำเร็จ');}catch(_0x93dae7){showMessage(_0x55ffb3(0x8a1)),console[_0x55ffb3(0x72a)](_0x55ffb3(0x515),_0x93dae7);}document[_0x55ffb3(0x939)][_0x55ffb3(0x340)](_0x2bb730);}function listenForProjectQuizzes(_0x2e4b55){const _0x4fbf83=_0xe5be95,_0x17dac8=collection(db,_0x4fbf83(0x62e)+appId+_0x4fbf83(0x721)),_0x4fdb8a=query(_0x17dac8,where('projectId','==',_0x2e4b55));unsubscribeQuizzesListener=onSnapshot(_0x4fdb8a,async _0x2e6e70=>{const _0x1f55bb=_0x4fbf83;allQuizzes=_0x2e6e70['docs'][_0x1f55bb(0x374)](_0x26e2b9=>({'id':_0x26e2b9['id'],..._0x26e2b9[_0x1f55bb(0x291)]()})),renderQuizzes();},_0x33cfad=>{const _0x2dfec9=_0x4fbf83;console[_0x2dfec9(0x72a)](_0x2dfec9(0x227),_0x33cfad),document['getElementById']('project-quizzes-list')['innerHTML']=_0x2dfec9(0x20f);});}async function renderQuizzes(){const _0x4fcfac=_0xe5be95,_0x1794f3=document[_0x4fcfac(0x7e4)](_0x4fcfac(0x5a5)),_0xa13bef=document[_0x4fcfac(0x7e4)](_0x4fcfac(0xa6c))[_0x4fcfac(0x2cd)][_0x4fcfac(0x7cc)]();let _0x296a13;currentProjectId===_0x4fcfac(0x79e)?_0x296a13=starredQuizzes:_0x296a13=allQuizzes;let _0x1ddca8=_0x296a13[_0x4fcfac(0x670)](_0x1ceb7f=>_0x1ceb7f[_0x4fcfac(0xab8)][_0x4fcfac(0x7cc)]()[_0x4fcfac(0x365)](_0xa13bef));_0x1ddca8[_0x4fcfac(0x6a1)]((_0x55408a,_0x43433b)=>new Date(_0x43433b[_0x4fcfac(0x27c)])-new Date(_0x55408a['createdAt']));if(_0x1ddca8['length']===0x0){_0x1794f3['innerHTML']=_0x4fcfac(0x502);return;}const _0x342c7a={},_0x2dfae2=_0x1ddca8[_0x4fcfac(0x374)](async _0x2511e8=>{const _0x48c676=_0x4fcfac,_0x1b6b67=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2511e8['id']+_0x48c676(0xa52)),_0x43f4e2=await getDocs(_0x1b6b67);_0x342c7a[_0x2511e8['id']]=_0x43f4e2[_0x48c676(0x740)];});await Promise[_0x4fcfac(0x534)](_0x2dfae2);let _0x5c4ec2='';_0x1ddca8[_0x4fcfac(0xa64)](_0x1678c0=>{const _0x526bfd=_0x4fcfac,_0x69d292=_0x342c7a[_0x1678c0['id']]||0x0,_0x259173=_0x1678c0[_0x526bfd(0x216)]||'active',_0x367f1a=_0x1678c0['settings']?.[_0x526bfd(0x57c)]||'none';let _0x5097fe='',_0x10f095='';const _0x48edfe=new Date();let _0x2ba64f=_0x259173;if(_0x259173==='scheduled'){const _0x30c5ed=_0x1678c0[_0x526bfd(0x9a2)]?new Date(_0x1678c0['startTime']):null,_0x4812cd=_0x1678c0[_0x526bfd(0x391)]?new Date(_0x1678c0['endTime']):null;if(_0x4812cd&&_0x48edfe>_0x4812cd)_0x2ba64f=_0x526bfd(0x758);else _0x30c5ed&&_0x48edfe<_0x30c5ed?_0x2ba64f='scheduled_pending':_0x2ba64f='active';}switch(_0x2ba64f){case _0x526bfd(0x758):_0x5097fe=_0x526bfd(0x4f1),_0x10f095=_0x526bfd(0x956);break;case _0x526bfd(0x1e8):_0x5097fe=_0x526bfd(0xa77),_0x10f095=_0x526bfd(0x6cd);break;case'active':_0x5097fe=_0x367f1a!==_0x526bfd(0x3e7)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x10f095=_0x526bfd(0x846);break;default:_0x5097fe='ตั้งเวลา\x20(เปิด)',_0x10f095=_0x526bfd(0x846);break;}let _0x555bbf='';const _0xf8124={'day':_0x526bfd(0x6d8),'month':_0x526bfd(0x6d8),'year':_0x526bfd(0x2c2),'hour':_0x526bfd(0x6d8),'minute':_0x526bfd(0x6d8),'hour12':![]};if(_0x259173==='scheduled'){if(_0x1678c0['startTime'])_0x555bbf+=_0x526bfd(0x1d6)+new Date(_0x1678c0[_0x526bfd(0x9a2)])[_0x526bfd(0x8c3)](_0x526bfd(0x90a),_0xf8124)+_0x526bfd(0x706);if(_0x1678c0['endTime'])_0x555bbf+=_0x526bfd(0xade)+new Date(_0x1678c0[_0x526bfd(0x391)])[_0x526bfd(0x8c3)](_0x526bfd(0x90a),_0xf8124)+'</p>';}let _0x3dc728='';if(_0x1678c0[_0x526bfd(0x656)]){const _0x5b62d0=allQuizzes[_0x526bfd(0x3fd)](_0x3e429d=>_0x3e429d['id']===_0x1678c0[_0x526bfd(0x656)]);if(_0x5b62d0){let _0x43af6b,_0xbd4dd1;new Date(_0x1678c0[_0x526bfd(0x27c)])<new Date(_0x5b62d0[_0x526bfd(0x27c)])?(_0x43af6b=_0x1678c0['id'],_0xbd4dd1=_0x5b62d0['id']):(_0x43af6b=_0x5b62d0['id'],_0xbd4dd1=_0x1678c0['id']),_0x3dc728+=_0x526bfd(0x8a3)+_0xbd4dd1+_0x526bfd(0x696)+_0x43af6b+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x1678c0['quizMode']===_0x526bfd(0x9cd)&&(_0x3dc728+=_0x526bfd(0x9f1)+_0x1678c0['id']+_0x526bfd(0x5d7));if(_0x1678c0[_0x526bfd(0xa2c)]==='pre-test'&&_0x69d292>0x0)_0x3dc728+=_0x526bfd(0x9f1)+_0x1678c0['id']+_0x526bfd(0x736);else!_0x1678c0['pairedQuizId']&&_0x1678c0[_0x526bfd(0xa2c)]!==_0x526bfd(0x9cd)&&_0x69d292>0x0&&(_0x3dc728+=_0x526bfd(0x9f1)+_0x1678c0['id']+_0x526bfd(0x757));let _0x3527da='';_0x1678c0[_0x526bfd(0x656)]?_0x3527da=_0x526bfd(0x853)+_0x1678c0['id']+_0x526bfd(0x77a):_0x3527da=_0x526bfd(0x853)+_0x1678c0['id']+_0x526bfd(0xa0d),_0x5c4ec2+=_0x526bfd(0x74f)+_0x1678c0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1678c0[_0x526bfd(0xab8)]+_0x526bfd(0x29e)+_0x1678c0[_0x526bfd(0x7dc)][_0x526bfd(0x630)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x1678c0['createdAt'])[_0x526bfd(0x8c3)](_0x526bfd(0x90a))+_0x526bfd(0x274)+_0x69d292+_0x526bfd(0x2b7)+_0x555bbf+_0x526bfd(0x22e)+_0x10f095+'\x22>'+_0x5097fe+_0x526bfd(0xafc)+_0x1678c0['id']+_0x526bfd(0x4a3)+_0x1678c0['id']+_0x526bfd(0x5ff)+(_0x1678c0[_0x526bfd(0xae2)]?_0x526bfd(0x5b3):'far\x20fa-star')+_0x526bfd(0x2d1)+_0x3dc728+_0x526bfd(0xa24)+_0x1678c0['id']+_0x526bfd(0xa69)+_0x1678c0['id']+_0x526bfd(0x315)+_0x1678c0['id']+_0x526bfd(0xa25)+_0x1678c0['id']+_0x526bfd(0x66e)+_0x1678c0['id']+_0x526bfd(0x38f)+_0x1678c0['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1678c0['id']+_0x526bfd(0x3c4)+_0x1678c0[_0x526bfd(0xab8)]+_0x526bfd(0x33b)+_0x1678c0['id']+_0x526bfd(0x59c)+_0x1678c0['id']+_0x526bfd(0x8d1)+_0x3527da+_0x526bfd(0x9bc)+_0x1678c0['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1678c0['id']+_0x526bfd(0x2e3)+_0x1678c0['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1678c0['id']+_0x526bfd(0x9fc)+_0x1678c0['id']+_0x526bfd(0x25b)+_0x1678c0['id']+_0x526bfd(0x59b)+_0x1678c0['id']+_0x526bfd(0xaaa)+_0x1678c0['id']+_0x526bfd(0x3c4)+_0x1678c0['topic']+_0x526bfd(0x9a6)+_0x1678c0['id']+_0x526bfd(0x878);}),_0x1794f3[_0x4fcfac(0x994)]=_0x5c4ec2,document[_0x4fcfac(0xa16)](_0x4fcfac(0x6c2))['forEach'](_0x1ec125=>{const _0x140525=_0x4fcfac;_0x1ec125[_0x140525(0x8c2)](_0x140525(0x75b),()=>{const _0xd2b5b8=_0x140525,_0x58d26e=_0x1ec125[_0xd2b5b8(0x4ee)][_0xd2b5b8(0x560)];showQuizDetailView(_0x58d26e);});});}async function handleUnpairQuiz(_0x354946){const _0x416869=_0xe5be95,_0x31010b=allQuizzes[_0x416869(0x3fd)](_0x18033b=>_0x18033b['id']===_0x354946);if(!_0x31010b||!_0x31010b['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x416869(0x4a4),async()=>{const _0x1785a5=_0x416869;try{const _0x16c0ae=doc(db,_0x1785a5(0x62e)+appId+_0x1785a5(0x721),_0x354946),_0x5a5681=doc(db,_0x1785a5(0x62e)+appId+_0x1785a5(0x721),_0x31010b[_0x1785a5(0x656)]),_0x3c9aeb=writeBatch(db);_0x3c9aeb[_0x1785a5(0x206)](_0x16c0ae,{'pairedQuizId':null}),_0x3c9aeb['update'](_0x5a5681,{'pairedQuizId':null}),await _0x3c9aeb[_0x1785a5(0x967)](),showMessage(_0x1785a5(0x6e0));}catch(_0x2d98bc){console[_0x1785a5(0x72a)]('Error\x20unpairing\x20quizzes:',_0x2d98bc),showMessage(_0x1785a5(0x481));}});}function formatAndPrintLessonPlan(_0x5c5b2f,_0x1276c1){const _0x35080c=_0xe5be95,_0x306f70=window[_0x35080c(0xa90)]('','_blank'),_0x3e5895=_0x35080c(0x637)+_0x1276c1[_0x35080c(0xab8)]+_0x35080c(0xab2)+_0x1276c1[_0x35080c(0xab8)]+_0x35080c(0x854)+_0x5c5b2f[_0x35080c(0x710)][_0x35080c(0x374)](_0x4eca1f=>_0x35080c(0x235)+_0x4eca1f+_0x35080c(0x9f4))[_0x35080c(0x7c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x5c5b2f[_0x35080c(0x50f)]+_0x35080c(0x492)+_0x5c5b2f[_0x35080c(0xac9)][_0x35080c(0x374)](_0x665461=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x665461['question']+_0x35080c(0x997)+_0x665461[_0x35080c(0xaeb)]+_0x35080c(0x7f3))[_0x35080c(0x7c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x306f70[_0x35080c(0xa1c)][_0x35080c(0x27e)](_0x3e5895),_0x306f70[_0x35080c(0xa1c)]['close'](),_0x306f70[_0x35080c(0x25a)]=function(){setTimeout(()=>{const _0x2876d7=_0xc5bf;_0x306f70[_0x2876d7(0x63c)]();},0x3e8);};}async function handleAiFixFormula(_0x52ec45){const _0x4567dd=_0xe5be95,_0x15c2b7=document[_0x4567dd(0x9e6)]('.question-editor-item[data-q-index=\x22'+_0x52ec45+'\x22]');if(!_0x15c2b7)return;const _0x156427=_0x15c2b7['dataset']['qType'],_0x53e5d4=_0x15c2b7[_0x4567dd(0x9e6)](_0x4567dd(0x9ed));let _0x375c02={'question':_0x15c2b7['querySelector'](_0x4567dd(0x5b6))['value']};switch(_0x156427){case _0x4567dd(0x999):_0x375c02[_0x4567dd(0x93f)]=Array[_0x4567dd(0x3dd)](_0x15c2b7[_0x4567dd(0xa16)]('input[type=\x22text\x22]'))[_0x4567dd(0x374)](_0x4d6641=>_0x4d6641[_0x4567dd(0x2cd)]);break;case'short_answer':_0x375c02[_0x4567dd(0x6c1)]=_0x15c2b7['querySelector']('.ideal-answer-input')[_0x4567dd(0x2cd)];break;case _0x4567dd(0x4b9):_0x375c02[_0x4567dd(0x933)]=_0x15c2b7[_0x4567dd(0x9e6)](_0x4567dd(0x3f6))[_0x4567dd(0x2cd)];break;}_0x53e5d4[_0x4567dd(0x994)]=_0x4567dd(0x562),_0x53e5d4[_0x4567dd(0x7ac)]=!![];try{const _0x307d52='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x4567dd(0x5e9)](_0x375c02)+_0x4567dd(0x58b),_0x1723e2={'type':'OBJECT','properties':{'fixedData':{'type':_0x4567dd(0x253),'properties':{'question':{'type':'STRING'},'options':{'type':_0x4567dd(0x1e4),'items':{'type':_0x4567dd(0x5cc)}},'idealAnswer':{'type':_0x4567dd(0x5cc)},'correctResponse':{'type':'STRING'}},'required':[_0x4567dd(0x5ca)]}},'required':[_0x4567dd(0x6bf)]},_0x330ad1=await callAnalysisApi(_0x307d52,_0x1723e2);if(_0x330ad1&&_0x330ad1[_0x4567dd(0x6bf)]){const _0x57dfac=_0x330ad1[_0x4567dd(0x6bf)];_0x15c2b7[_0x4567dd(0x9e6)]('textarea')[_0x4567dd(0x2cd)]=_0x57dfac['question']||_0x375c02[_0x4567dd(0x5ca)];switch(_0x156427){case _0x4567dd(0x999):_0x57dfac[_0x4567dd(0x93f)]&&_0x57dfac['options'][_0x4567dd(0x630)]>0x0&&_0x15c2b7['querySelectorAll'](_0x4567dd(0x54d))[_0x4567dd(0xa64)]((_0x1dde45,_0x41aa6f)=>{const _0x45071c=_0x4567dd;_0x1dde45[_0x45071c(0x2cd)]=_0x57dfac[_0x45071c(0x93f)][_0x41aa6f]||_0x375c02[_0x45071c(0x93f)][_0x41aa6f];});break;case _0x4567dd(0x4dd):_0x15c2b7[_0x4567dd(0x9e6)]('.ideal-answer-input')[_0x4567dd(0x2cd)]=_0x57dfac['idealAnswer']||_0x375c02[_0x4567dd(0x6c1)];break;case _0x4567dd(0x4b9):_0x15c2b7[_0x4567dd(0x9e6)](_0x4567dd(0x3f6))['value']=_0x57dfac['correctResponse']||_0x375c02[_0x4567dd(0x933)];break;}if(_0x375c02[_0x4567dd(0x5ca)]!==_0x57dfac['question'])try{const _0x21e4f3=collection(db,_0x4567dd(0x62e)+appId+_0x4567dd(0x3a5));await addDoc(_0x21e4f3,{'broken':_0x375c02[_0x4567dd(0x5ca)],'fixed':_0x57dfac[_0x4567dd(0x5ca)],'createdAt':serverTimestamp()});}catch(_0x36645c){console[_0x4567dd(0x72a)](_0x4567dd(0x1e3),_0x36645c);}showMessage(_0x4567dd(0x5fc));}else throw new Error(_0x4567dd(0x264));}catch(_0x221fec){console[_0x4567dd(0x72a)](_0x4567dd(0x352),_0x221fec),showMessage(_0x4567dd(0xad2));}finally{_0x53e5d4[_0x4567dd(0x994)]=_0x4567dd(0x97c),_0x53e5d4['disabled']=![];}}async function handleGenerateLessonPlan(_0x4e0c40){const _0x5c9edf=_0xe5be95;showMessage(_0x5c9edf(0xab9));try{const _0x296382=doc(db,_0x5c9edf(0x62e)+appId+'/public/data/quizzes',_0x4e0c40),_0x4781cb=await getDoc(_0x296382);if(!_0x4781cb['exists']())throw new Error(_0x5c9edf(0x653));const _0x242cf6={'id':_0x4e0c40,..._0x4781cb['data']()},_0x28b451=collection(db,_0x5c9edf(0x62e)+appId+_0x5c9edf(0x721),_0x4e0c40,_0x5c9edf(0x7d6)),_0x2aeced=await getDocs(_0x28b451),_0x2b1026=_0x2aeced[_0x5c9edf(0x966)][_0x5c9edf(0x374)](_0x1096e7=>_0x1096e7[_0x5c9edf(0x291)]());if(_0x2b1026[_0x5c9edf(0x630)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x3e6e32=calculateItemAnalysis(_0x242cf6,_0x2b1026)[_0x5c9edf(0x496)],_0x1b955b=calculateDistractorAnalysis(_0x242cf6,_0x2b1026),_0x1bde68=_0x544577=>{const _0x5321bd=_0x5c9edf;if(!_0x544577)return'';return _0x544577[_0x5321bd(0x28b)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x5321bd(0x28b)](/\n/g,'\x5cn');};let _0x50842c=_0x5c9edf(0x268);_0x242cf6[_0x5c9edf(0x7dc)]['forEach']((_0x510e7e,_0x2a8f8d)=>{const _0x492616=_0x5c9edf,_0x261635=_0x3e6e32[_0x2a8f8d]?.['p']['toFixed'](0x2)||_0x492616(0xb0e),_0x58d569=_0x3e6e32[_0x2a8f8d]?.['r'][_0x492616(0x8bb)](0x2)||_0x492616(0xb0e),_0x294908=_0x1bde68(_0x510e7e[_0x492616(0x821)]||_0x510e7e['stem']);_0x50842c+=_0x492616(0x98f)+(_0x2a8f8d+0x1)+_0x492616(0x876)+_0x261635+',\x20r='+_0x58d569+_0x492616(0x39c)+_0x294908+'\x5cn';if(_0x510e7e[_0x492616(0x832)]==='multiple_choice'&&_0x1b955b[_0x2a8f8d]){const _0x394f7f=_0x1b955b[_0x2a8f8d],_0x447748=Object[_0x492616(0x487)](_0x394f7f)['filter'](_0x294bb5=>parseInt(_0x294bb5)!==_0x510e7e[_0x492616(0x60e)])[_0x492616(0x6a1)]((_0x2065fe,_0xab13f1)=>_0x394f7f[_0xab13f1]['total']-_0x394f7f[_0x2065fe][_0x492616(0xaa9)])[0x0];if(_0x447748&&_0x394f7f[_0x447748][_0x492616(0xaa9)]>0x0){const _0x13b93d=_0x1bde68(_0x394f7f[_0x447748][_0x492616(0x428)]);_0x50842c+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x13b93d+_0x492616(0xb04);}}});const _0x56527b=_0x5c9edf(0x9c5)+_0x242cf6[_0x5c9edf(0xab8)]+_0x5c9edf(0xa75)+_0x50842c+_0x5c9edf(0x947),_0x37348b={'type':_0x5c9edf(0x253),'properties':{'learningGaps':{'type':_0x5c9edf(0x1e4),'items':{'type':_0x5c9edf(0x5cc)}},'teachingContent':{'type':_0x5c9edf(0x5cc)},'practiceProblems':{'type':_0x5c9edf(0x1e4),'items':{'type':_0x5c9edf(0x253),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x5c9edf(0x5cc)}}}}},'required':[_0x5c9edf(0x710),_0x5c9edf(0x50f),'practiceProblems']},_0x35bcf7=await callAnalysisApi(_0x56527b,_0x37348b);await updateDoc(_0x296382,{'lessonPlan':_0x35bcf7});const _0x463b62=_0x5c9edf(0x470)+_0x242cf6[_0x5c9edf(0xab8)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x35bcf7[_0x5c9edf(0x710)][_0x5c9edf(0x374)](_0x93217b=>_0x5c9edf(0x235)+_0x93217b+_0x5c9edf(0x9f4))[_0x5c9edf(0x7c3)]('')+_0x5c9edf(0x747)+_0x35bcf7[_0x5c9edf(0x50f)]+_0x5c9edf(0xa84)+_0x35bcf7[_0x5c9edf(0xac9)][_0x5c9edf(0x374)](_0x4f89c7=>_0x5c9edf(0x214)+_0x4f89c7[_0x5c9edf(0x5ca)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x4f89c7[_0x5c9edf(0xaeb)]+'</p></div>')[_0x5c9edf(0x7c3)]('')+_0x5c9edf(0x917);document['getElementById'](_0x5c9edf(0x616))[_0x5c9edf(0x5c5)]=_0x5c9edf(0xa09)+_0x242cf6[_0x5c9edf(0xab8)],document[_0x5c9edf(0x7e4)](_0x5c9edf(0x96e))[_0x5c9edf(0x994)]=_0x463b62,document[_0x5c9edf(0x7e4)](_0x5c9edf(0x6d2))['classList']['remove'](_0x5c9edf(0x80f));if(window[_0x5c9edf(0x422)])MathJax[_0x5c9edf(0x32a)]();messageModal[_0x5c9edf(0x683)]['add'](_0x5c9edf(0x80f));}catch(_0x285391){console[_0x5c9edf(0x72a)](_0x5c9edf(0x2e2),_0x285391),showMessage(_0x5c9edf(0x586)+_0x285391['message']);}}async function handleDuplicateQuiz(_0x56c4be){const _0x35910a=_0xe5be95;try{const _0x1e5966=doc(db,_0x35910a(0x62e)+appId+_0x35910a(0x721),_0x56c4be),_0x13994e=await getDoc(_0x1e5966);if(_0x13994e[_0x35910a(0xafe)]()){const _0x55fb49=_0x13994e[_0x35910a(0x291)]();let _0x392700='',_0x133c59=_0x35910a(0x541),_0x3757f6=null;if(_0x55fb49[_0x35910a(0xa2c)]===_0x35910a(0x9cd)){let _0x547fa0=_0x55fb49[_0x35910a(0xab8)][_0x35910a(0x28b)](_0x35910a(0x836),'')[_0x35910a(0x7ab)]();_0x392700='(หลังเรียน)\x20'+_0x547fa0,_0x133c59='post-test',_0x3757f6=_0x56c4be;}else _0x392700=_0x35910a(0x2e6)+_0x55fb49[_0x35910a(0xab8)];const _0x5aa584={..._0x55fb49,'topic':_0x392700,'createdAt':new Date()['toISOString'](),'quizMode':_0x133c59,'pairedQuizId':_0x3757f6};let _0x435224;while(!![]){_0x435224=Math['floor'](0x3e8+Math[_0x35910a(0x53f)]()*0x2328)[_0x35910a(0x59e)]();const _0x2dbe62=await getDoc(doc(db,'artifacts/'+appId+_0x35910a(0x721),_0x435224));if(!_0x2dbe62[_0x35910a(0xafe)]())break;}const _0x16fb88=doc(db,_0x35910a(0x62e)+appId+_0x35910a(0x721),_0x435224);await setDoc(_0x16fb88,_0x5aa584),_0x5aa584[_0x35910a(0xa2c)]===_0x35910a(0x341)&&await updateDoc(_0x1e5966,{'pairedQuizId':_0x435224}),showMessage(_0x35910a(0x9db));}else throw new Error(_0x35910a(0xacc));}catch(_0x21ad9b){console[_0x35910a(0x72a)]('Error\x20duplicating\x20quiz:',_0x21ad9b),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2078a6,_0x15d9de=!![]){const _0x402d30=_0xe5be95;try{const _0xe61331=writeBatch(db),_0x46ff58=collection(db,_0x402d30(0x62e)+appId+_0x402d30(0x9f7)+_0x2078a6+_0x402d30(0xa52)),_0x2cc9bf=await getDocs(_0x46ff58);_0x2cc9bf[_0x402d30(0xa64)](_0x32f65c=>{const _0x584274=_0x402d30;_0xe61331[_0x584274(0x4ca)](doc(_0x46ff58,_0x32f65c['id']));});const _0x491160=doc(db,'artifacts/'+appId+_0x402d30(0x721),_0x2078a6);_0xe61331[_0x402d30(0x4ca)](_0x491160),await _0xe61331['commit'](),_0x15d9de&&showMessage(_0x402d30(0x37e));}catch(_0x42cab6){console[_0x402d30(0x72a)](_0x402d30(0x5e5),_0x42cab6),_0x15d9de&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x22f4b3){const _0x14e0e1=_0xe5be95;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x14e0e1(0x88e));try{const _0x377056=doc(db,_0x14e0e1(0x62e)+appId+_0x14e0e1(0x721),_0x22f4b3),_0x433938=await getDoc(_0x377056);if(!_0x433938[_0x14e0e1(0xafe)]()){showMessage(_0x14e0e1(0x653));return;}const _0x38608c={'id':_0x433938['id'],..._0x433938[_0x14e0e1(0x291)]()};currentQuizData=_0x38608c;const _0x488e75=doc(db,_0x14e0e1(0x62e)+appId+_0x14e0e1(0x7d8),_0x38608c[_0x14e0e1(0x6fa)]),_0x45c5da=await getDoc(_0x488e75);_0x45c5da[_0x14e0e1(0xafe)]()?(currentProjectData=_0x45c5da[_0x14e0e1(0x291)](),currentProjectId=_0x38608c[_0x14e0e1(0x6fa)]):(currentProjectData={'students':[]},currentProjectId=_0x38608c[_0x14e0e1(0x6fa)]);document[_0x14e0e1(0x7e4)](_0x14e0e1(0x328))['textContent']=_0x38608c[_0x14e0e1(0xab8)],document[_0x14e0e1(0x7e4)](_0x14e0e1(0x47f))[_0x14e0e1(0x5c5)]=_0x22f4b3;const _0x1076f6=collection(db,_0x14e0e1(0x62e)+appId+_0x14e0e1(0x721),_0x22f4b3,_0x14e0e1(0x7d6));unsubscribeSubmissionsListener=onSnapshot(_0x1076f6,_0x4973c5=>{const _0x45c98b=_0x14e0e1,_0x3e4d62=_0x4973c5[_0x45c98b(0x966)][_0x45c98b(0x374)](_0x36e104=>({'id':_0x36e104['id'],..._0x36e104[_0x45c98b(0x291)]()}));currentSubmissions=_0x3e4d62;const _0x50c156=_0x3e4d62[_0x45c98b(0x670)](_0x2f1886=>_0x2f1886[_0x45c98b(0x8a7)]&&_0x2f1886[_0x45c98b(0x8a7)]['length']>0x0);renderBehaviorLog(_0x3e4d62),renderAnswerGrid(currentProjectData['students'],_0x50c156,_0x38608c),renderAnalytics(_0x38608c,_0x50c156),renderQuizResultsTable(currentProjectData['students'],_0x3e4d62,_0x38608c),renderQuizLeaderboard(_0x50c156,_0x38608c,_0x45c98b(0xa49));}),showView(_0x14e0e1(0x37c));}catch(_0x3221bc){console[_0x14e0e1(0x72a)](_0x14e0e1(0x709),_0x3221bc),showMessage(_0x14e0e1(0x803));}}function renderAnswerGrid(_0x50a613,_0x19c40c,_0x24bb7f){const _0x16254b=_0xe5be95,_0x39d4cb=document[_0x16254b(0x7e4)](_0x16254b(0xa99));if(!_0x39d4cb)return;if(!_0x50a613||_0x50a613[_0x16254b(0x630)]===0x0){_0x39d4cb[_0x16254b(0x994)]=_0x16254b(0x859);return;}const _0x38a160=_0x24bb7f[_0x16254b(0x7dc)],_0x2b23a7=_0x19c40c[_0x16254b(0x7f6)]((_0x2c2cf5,_0x1f1c57)=>{const _0x2945e2=_0x16254b;return _0x2c2cf5[_0x1f1c57[_0x2945e2(0xa96)]]=_0x1f1c57,_0x2c2cf5;},{}),_0xb8ae35=_0x16de91=>String['fromCharCode'](0x41+_0x16de91),_0x13d538=_0x1de494=>{const _0x58e3c7=_0x16254b,_0x274f87=_0x1de494[_0x58e3c7(0x832)]||_0x24bb7f[_0x58e3c7(0x519)];switch(_0x274f87){case _0x58e3c7(0x999):return _0x1de494[_0x58e3c7(0x93f)]&&_0x1de494['options'][_0x58e3c7(0x630)]>_0x1de494['correctAnswerIndex']?_0xb8ae35(_0x1de494['correctAnswerIndex']):'-';case _0x58e3c7(0x82f):return _0x1de494[_0x58e3c7(0x5ee)]?_0x58e3c7(0xad8):_0x58e3c7(0x66a);case'matching_item':return _0x1de494[_0x58e3c7(0x933)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x1f76b4=(_0x14166b,_0x366eee)=>{const _0x22ffdd=_0x16254b;if(_0x366eee[_0x22ffdd(0x7ce)]===null||_0x366eee[_0x22ffdd(0x7ce)]===undefined)return'-';const _0x58e52c=_0x14166b[_0x22ffdd(0x832)]||_0x24bb7f[_0x22ffdd(0x519)];switch(_0x58e52c){case _0x22ffdd(0x999):const _0x16d13a=_0x14166b[_0x22ffdd(0x93f)][_0x22ffdd(0x517)](_0xfb7a16=>_0xfb7a16===_0x366eee[_0x22ffdd(0x82e)]);return _0x16d13a!==-0x1?_0xb8ae35(_0x16d13a):_0x366eee[_0x22ffdd(0x82e)]||'-';case'true_false':return _0x366eee[_0x22ffdd(0x7ce)]===_0x22ffdd(0x744)||_0x366eee['answer']===!![]?_0x22ffdd(0xad8):_0x22ffdd(0x66a);default:return _0x366eee[_0x22ffdd(0x7ce)];}};let _0x538aca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38a160[_0x16254b(0x374)]((_0x45bd56,_0x3bf113)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x3bf113+0x1)+_0x16254b(0x9c2))[_0x16254b(0x7c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38a160['map'](_0x3b3224=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x13d538(_0x3b3224)+_0x16254b(0x67e))[_0x16254b(0x7c3)]('')+_0x16254b(0x42e);_0x50a613[_0x16254b(0xa64)](_0x2f4fc5=>{const _0x4f5cd5=_0x16254b;_0x538aca+=_0x4f5cd5(0x86f),_0x538aca+=_0x4f5cd5(0xab4)+_0x2f4fc5+_0x4f5cd5(0x67e);const _0x423349=_0x2b23a7[_0x2f4fc5];if(_0x423349){const _0x5de8e2=_0x423349['attempts'][_0x423349[_0x4f5cd5(0x8a7)][_0x4f5cd5(0x630)]-0x1];_0x38a160[_0x4f5cd5(0xa64)]((_0x39d114,_0xb7a50)=>{const _0x4baa74=_0x4f5cd5,_0xcd2fe4=_0x5de8e2[_0x4baa74(0x1fe)][_0x4baa74(0x3fd)](_0x519ac5=>_0x519ac5[_0x4baa74(0x8b4)]===_0x39d114['id']);if(_0xcd2fe4){let _0x55f0b3=![];const _0x9bf12c=_0x39d114[_0x4baa74(0x832)]||_0x24bb7f[_0x4baa74(0x519)];if(_0xcd2fe4[_0x4baa74(0x7ce)]!==null&&_0xcd2fe4[_0x4baa74(0x7ce)]!==undefined)switch(_0x9bf12c){case _0x4baa74(0x999):const _0x597cfd=_0x39d114[_0x4baa74(0x93f)][_0x39d114[_0x4baa74(0x60e)]];_0x55f0b3=_0xcd2fe4[_0x4baa74(0x82e)]===_0x597cfd;break;case _0x4baa74(0x82f):const _0x4185a5=_0xcd2fe4[_0x4baa74(0x7ce)]===!![]||_0xcd2fe4[_0x4baa74(0x7ce)]==='true';_0x55f0b3=_0x4185a5===_0x39d114['correctAnswer'];break;case _0x4baa74(0x4b9):_0x55f0b3=_0xcd2fe4[_0x4baa74(0x7ce)]===_0x39d114[_0x4baa74(0x933)];break;default:_0x55f0b3=_0xcd2fe4[_0x4baa74(0x2f3)];break;}const _0x40dec0=_0x55f0b3?_0x4baa74(0x866):_0x4baa74(0x204);_0x538aca+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x40dec0+'\x22>'+_0x1f76b4(_0x39d114,_0xcd2fe4)+_0x4baa74(0x67e);}else _0x538aca+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x538aca+=_0x38a160['map'](()=>_0x4f5cd5(0x5f4))[_0x4f5cd5(0x7c3)]('');_0x538aca+='</tr>';}),_0x538aca+='</tbody></table>',_0x39d4cb[_0x16254b(0x994)]=_0x538aca;}function renderQuizResultsTable(_0x152e29,_0x4d019d,_0xe22cb5){const _0x30f244=_0xe5be95,_0x1ae6ef=_0x4d019d[_0x30f244(0x7f6)]((_0x5ed78a,_0x3eef0d)=>{const _0x2fde61=_0x30f244;return _0x5ed78a[_0x3eef0d[_0x2fde61(0xa96)]]=_0x3eef0d,_0x5ed78a;},{}),_0x40feb5=document['querySelector'](_0x30f244(0x980));_0x40feb5&&!_0x40feb5[_0x30f244(0x994)][_0x30f244(0x365)](_0x30f244(0x3a3))&&(_0x40feb5[_0x30f244(0x994)]+=_0x30f244(0xa8c));const _0x51dc08=document['getElementById'](_0x30f244(0x9d2));if(!_0x152e29||_0x152e29[_0x30f244(0x630)]===0x0){_0x51dc08[_0x30f244(0x994)]=_0x30f244(0x813);return;}const _0x21aaf8=_0xe22cb5['isRemedial']===!![],_0x31e22c=_0xe22cb5[_0x30f244(0x4ef)]?.[_0x30f244(0x633)]??-0x1;let _0x519c5f='';_0x152e29[_0x30f244(0xa64)](_0x1ff327=>{const _0x55c437=_0x30f244,_0x25e01a=_0x1ae6ef[_0x1ff327];let _0x1d53b0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x21aaf8?_0x55c437(0x6c4):_0x55c437(0x71d))+'\x22>'+(_0x21aaf8?'สอบซ่อม':'สอบปกติ')+'</span></td>';if(_0x25e01a){if(_0x25e01a['attempts']&&_0x25e01a['attempts'][_0x55c437(0x630)]>0x0){let _0x2bb6d6=_0x21aaf8?_0x25e01a[_0x55c437(0x93b)]===_0x25e01a[_0x55c437(0xa83)]:_0x31e22c!==-0x1&&_0x25e01a[_0x55c437(0x93b)]>=_0x31e22c;const _0x16ce0b=_0x2bb6d6?_0x55c437(0x8e3):_0x55c437(0x34f),_0x337e4b=_0x2bb6d6?'ผ่าน':_0x55c437(0x68f),_0xc022be=_0x55c437(0x647)+_0x16ce0b+'\x22>'+_0x337e4b+_0x55c437(0x9cb),_0x216f4b=_0x55c437(0x1ef)+(_0x25e01a[_0x55c437(0x8a7)]?.['length']||0x1)+_0x55c437(0x34c);_0x519c5f+=_0x55c437(0x385)+_0x1ff327+_0x55c437(0x5e3)+_0x25e01a[_0x55c437(0x93b)]+_0x55c437(0x70f)+_0x25e01a[_0x55c437(0xa83)]+_0x55c437(0x437)+_0xc022be+_0x55c437(0x873)+_0x1d53b0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x25e01a[_0x55c437(0x23e)]+_0x55c437(0x70f)+_0x25e01a[_0x55c437(0xa83)]+_0x55c437(0xa55)+_0x25e01a['latestScore']+_0x55c437(0x70f)+_0x25e01a['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x25e01a[_0x55c437(0x7a9)]||0x0)+_0x55c437(0x437)+_0x216f4b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x25e01a[_0x55c437(0x90f)])['toLocaleString']('th-TH')+_0x55c437(0x43d)+_0x1ff327+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x2534c8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x519c5f+=_0x55c437(0x40a)+_0x1ff327+_0x55c437(0x6ff)+_0x1d53b0+_0x55c437(0x6b8)+_0x2534c8+_0x55c437(0xa1a)+new Date(_0x25e01a['startedAt'])[_0x55c437(0x8c3)](_0x55c437(0x90a))+_0x55c437(0x1ec)+_0x1ff327+_0x55c437(0x40d);}}else{const _0x55bf4e=_0x55c437(0x58d);_0x519c5f+=_0x55c437(0x4f3)+_0x1ff327+_0x55c437(0x8b6)+_0x1d53b0+_0x55c437(0xb05)+_0x55bf4e+_0x55c437(0x1f4);}}),_0x51dc08[_0x30f244(0x994)]=_0x519c5f;}async function confirmRenameQuiz(){const _0x4948af=_0xe5be95,_0x4eaad8=document[_0x4948af(0x7e4)]('rename-quiz-input')['value'][_0x4948af(0x7ab)]();if(!_0x4eaad8){showMessage(_0x4948af(0x848));return;}if(!actionTargetId)return;const _0x540995=doc(db,_0x4948af(0x62e)+appId+_0x4948af(0x721),actionTargetId);try{await updateDoc(_0x540995,{'topic':_0x4eaad8}),showMessage(_0x4948af(0x575)),renameQuizModal[_0x4948af(0x683)][_0x4948af(0x816)](_0x4948af(0x80f)),actionTargetId=null;}catch(_0x4fd266){console[_0x4948af(0x72a)]('Error\x20renaming\x20quiz:',_0x4fd266),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x4a1701){const _0x38f08d=_0xe5be95;actionTargetId=_0x4a1701;const _0x3d432b=document['getElementById'](_0x38f08d(0x9ff));_0x3d432b[_0x38f08d(0x994)]=_0x38f08d(0x975),moveQuizModal['classList'][_0x38f08d(0x21f)](_0x38f08d(0x80f));try{const _0x2319ec=collection(db,_0x38f08d(0x62e)+appId+_0x38f08d(0x7d8)),_0x59a0f4=await getDocs(_0x2319ec),_0x490297=_0x59a0f4['docs'][_0x38f08d(0x374)](_0xd614e9=>({'id':_0xd614e9['id'],..._0xd614e9[_0x38f08d(0x291)]()})),_0x1da42c=_0x490297['filter'](_0x361543=>_0x361543['id']!==currentProjectId);if(_0x1da42c[_0x38f08d(0x630)]===0x0){_0x3d432b[_0x38f08d(0x994)]=_0x38f08d(0x871),document[_0x38f08d(0x7e4)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x3d432b[_0x38f08d(0x994)]=_0x1da42c[_0x38f08d(0x374)](_0x32e0f6=>_0x38f08d(0x776)+_0x32e0f6['id']+'\x22>'+_0x32e0f6[_0x38f08d(0x7ee)]+_0x38f08d(0x339))[_0x38f08d(0x7c3)](''),document[_0x38f08d(0x7e4)](_0x38f08d(0x643))[_0x38f08d(0x7ac)]=![];}catch(_0x493f62){console[_0x38f08d(0x72a)]('Error\x20fetching\x20projects\x20for\x20move:',_0x493f62),showMessage(_0x38f08d(0x9e9)),moveQuizModal[_0x38f08d(0x683)][_0x38f08d(0x816)]('hidden');}}async function confirmMoveQuiz(){const _0x34c368=_0xe5be95,_0x62ef6d=document[_0x34c368(0x7e4)]('move-quiz-project-select')[_0x34c368(0x2cd)];if(!_0x62ef6d){showMessage(_0x34c368(0xa20));return;}if(!actionTargetId)return;const _0x5a1412=doc(db,_0x34c368(0x62e)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5a1412,{'projectId':_0x62ef6d}),showMessage(_0x34c368(0xa0c)),moveQuizModal['classList']['add'](_0x34c368(0x80f)),actionTargetId=null;}catch(_0x47e1a9){console['error'](_0x34c368(0x3e2),_0x47e1a9),showMessage(_0x34c368(0x24e));}}async function handleQuizSettings(_0x4c2406){const _0x5a5f37=_0xe5be95;actionTargetId=_0x4c2406;const _0x2b07e0=doc(db,'artifacts/'+appId+_0x5a5f37(0x721),_0x4c2406);try{const _0xb060c8=await getDoc(_0x2b07e0);if(_0xb060c8[_0x5a5f37(0xafe)]()){const _0x47d101=_0xb060c8[_0x5a5f37(0x291)](),_0x478cc3=_0x47d101[_0x5a5f37(0x4ef)]||{},_0x212fce=_0x47d101[_0x5a5f37(0x7dc)][_0x5a5f37(0x630)];document['getElementById']('modal-shuffle-select')[_0x5a5f37(0x2cd)]=_0x478cc3[_0x5a5f37(0x9a8)]||_0x5a5f37(0x3e7),document['getElementById'](_0x5a5f37(0x3f0))[_0x5a5f37(0x2cd)]=_0x478cc3['resultsDisplay']||_0x5a5f37(0x471),document[_0x5a5f37(0x7e4)](_0x5a5f37(0x655))[_0x5a5f37(0x2cd)]=_0x478cc3[_0x5a5f37(0x57c)]||_0x5a5f37(0x3e7),document[_0x5a5f37(0x7e4)]('modal-timer-duration-input')[_0x5a5f37(0x2cd)]=_0x478cc3[_0x5a5f37(0x828)]||0xa,document['getElementById']('modal-passing-score-input')[_0x5a5f37(0x2cd)]=_0x478cc3[_0x5a5f37(0x633)]||Math[_0x5a5f37(0x28c)](_0x212fce/0x2),document[_0x5a5f37(0x7e4)](_0x5a5f37(0x3ab))[_0x5a5f37(0x2de)]=_0x212fce,document[_0x5a5f37(0x7e4)](_0x5a5f37(0x96a))[_0x5a5f37(0x4e1)]=_0x478cc3['isAdaptive']||![],document[_0x5a5f37(0x7e4)](_0x5a5f37(0x2c8))[_0x5a5f37(0x4e1)]=_0x478cc3[_0x5a5f37(0xae0)]||![],document[_0x5a5f37(0x7e4)](_0x5a5f37(0x655))[_0x5a5f37(0xa15)](new Event('change')),quizSettingsModal[_0x5a5f37(0x683)][_0x5a5f37(0x21f)](_0x5a5f37(0x80f));}else showMessage(_0x5a5f37(0x653));}catch(_0x39d628){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x39d628),showMessage(_0x5a5f37(0x224));}}async function confirmQuizSettings(){const _0x133cfc=_0xe5be95;if(!actionTargetId)return;const _0x492be5=doc(db,_0x133cfc(0x62e)+appId+_0x133cfc(0x721),actionTargetId),_0x13e5fe={'shuffle':document[_0x133cfc(0x7e4)](_0x133cfc(0x941))[_0x133cfc(0x2cd)],'resultsDisplay':document[_0x133cfc(0x7e4)]('modal-results-display-select')[_0x133cfc(0x2cd)],'timerMode':document[_0x133cfc(0x7e4)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x133cfc(0x7e4)](_0x133cfc(0x4c8))[_0x133cfc(0x2cd)])||0xa,'passingScore':parseInt(document[_0x133cfc(0x7e4)](_0x133cfc(0x3ab))[_0x133cfc(0x2cd)])||0x0,'passingScore':parseInt(document[_0x133cfc(0x7e4)](_0x133cfc(0x3ab))[_0x133cfc(0x2cd)])||0x0,'isAdaptive':document[_0x133cfc(0x7e4)](_0x133cfc(0x96a))['checked'],'loopUntilPass':document[_0x133cfc(0x7e4)](_0x133cfc(0x2c8))[_0x133cfc(0x4e1)]};try{await updateDoc(_0x492be5,{'settings':_0x13e5fe}),showMessage(_0x133cfc(0x673)),quizSettingsModal[_0x133cfc(0x683)][_0x133cfc(0x816)](_0x133cfc(0x80f)),actionTargetId=null;}catch(_0x1f2e98){console['error']('Error\x20updating\x20quiz\x20settings:',_0x1f2e98),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x459b25){const _0x5cf75d=_0xe5be95;actionTargetId=_0x459b25;const _0x12d3dc=doc(db,_0x5cf75d(0x62e)+appId+'/public/data/quizzes',_0x459b25);try{const _0x24f7b6=await getDoc(_0x12d3dc);if(_0x24f7b6[_0x5cf75d(0xafe)]()){const _0x3bd79d=_0x24f7b6['data'](),_0x8a501b=_0x3bd79d[_0x5cf75d(0x216)]||'active',_0x38ce30=document[_0x5cf75d(0x7e4)](_0x5cf75d(0x566)),_0x245086=document[_0x5cf75d(0x7e4)](_0x5cf75d(0x21c)),_0x558ce9=document['getElementById'](_0x5cf75d(0x406));let _0x666ba6=_0x5cf75d(0x77e)+(_0x8a501b===_0x5cf75d(0x245)?'checked':'')+_0x5cf75d(0x84b)+(_0x8a501b===_0x5cf75d(0x758)?'checked':'')+_0x5cf75d(0x7fb)+(_0x8a501b===_0x5cf75d(0x22a)?_0x5cf75d(0x4e1):'')+_0x5cf75d(0x99d);_0x38ce30[_0x5cf75d(0x994)]=_0x666ba6;const _0x458f42=_0x8a501b===_0x5cf75d(0x22a);_0x245086['classList'][_0x5cf75d(0x459)](_0x5cf75d(0x80f),!_0x458f42),_0x558ce9[_0x5cf75d(0x683)]['toggle'](_0x5cf75d(0x80f),!_0x458f42),document[_0x5cf75d(0x7e4)](_0x5cf75d(0x892))['value']=_0x3bd79d[_0x5cf75d(0x9a2)]?_0x3bd79d[_0x5cf75d(0x9a2)]['substring'](0x0,0x10):'',document[_0x5cf75d(0x7e4)](_0x5cf75d(0x3e0))[_0x5cf75d(0x2cd)]=_0x3bd79d[_0x5cf75d(0x391)]?_0x3bd79d[_0x5cf75d(0x391)][_0x5cf75d(0x60c)](0x0,0x10):'',_0x38ce30[_0x5cf75d(0xa16)](_0x5cf75d(0x71a))['forEach'](_0x57c484=>{const _0x354d14=_0x5cf75d;_0x57c484[_0x354d14(0x8c2)](_0x354d14(0x627),_0x25f79f=>{const _0xb0a5c6=_0x354d14,_0x1bc067=_0x25f79f['target'][_0xb0a5c6(0x2cd)]===_0xb0a5c6(0x8af);_0x245086['classList'][_0xb0a5c6(0x459)]('hidden',!_0x1bc067),_0x558ce9[_0xb0a5c6(0x683)]['toggle'](_0xb0a5c6(0x80f),!_0x1bc067);});}),quizStatusModal['classList'][_0x5cf75d(0x21f)](_0x5cf75d(0x80f));}}catch(_0x2a68d5){console[_0x5cf75d(0x72a)]('Error\x20fetching\x20quiz\x20status:',_0x2a68d5),showMessage(_0x5cf75d(0x45e));}}async function confirmQuizStatus(){const _0x5980fe=_0xe5be95;if(!actionTargetId)return;const _0x1f0f12=doc(db,_0x5980fe(0x62e)+appId+_0x5980fe(0x721),actionTargetId),_0x3fd6ed=document[_0x5980fe(0x9e6)]('input[name=\x22status-option\x22]:checked');if(!_0x3fd6ed){showMessage(_0x5980fe(0x95a));return;}const _0x34dbff=_0x3fd6ed[_0x5980fe(0x2cd)];let _0x3616da={};if(_0x34dbff===_0x5980fe(0x245)||_0x34dbff==='inactive')_0x3616da={'status':_0x34dbff,'startTime':null,'endTime':null};else{if(_0x34dbff===_0x5980fe(0x8af)){const _0x31f21c=document[_0x5980fe(0x7e4)](_0x5980fe(0x892))['value'],_0x87cbdb=document[_0x5980fe(0x7e4)](_0x5980fe(0x3e0))['value'];if(!_0x31f21c&&!_0x87cbdb){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x3616da={'status':'scheduled','startTime':_0x31f21c?new Date(_0x31f21c)[_0x5980fe(0x74e)]():null,'endTime':_0x87cbdb?new Date(_0x87cbdb)['toISOString']():null};}}try{await updateDoc(_0x1f0f12,_0x3616da),showMessage(_0x5980fe(0x69b)),quizStatusModal[_0x5980fe(0x683)][_0x5980fe(0x816)](_0x5980fe(0x80f)),actionTargetId=null;}catch(_0x19d85e){console['error']('Error\x20updating\x20quiz\x20status:',_0x19d85e),showMessage(_0x5980fe(0x553));}}function listenForStudentProfiles(_0x54561b){const _0x409be2=_0xe5be95,_0x2781fa=collection(db,_0x409be2(0x62e)+appId+_0x409be2(0x76e)+_0x54561b+_0x409be2(0x45f));unsubscribeStudentProfilesListener=onSnapshot(_0x2781fa,_0xa7fec0=>{const _0xfcbc1e=_0x409be2,_0x586e80=_0xa7fec0[_0xfcbc1e(0x966)][_0xfcbc1e(0x374)](_0x518887=>_0x518887[_0xfcbc1e(0x291)]());renderLeaderboard(_0x586e80,_0xfcbc1e(0x447));},_0x11734b=>{const _0x2d888a=_0x409be2;console[_0x2d888a(0x72a)]('Error\x20listening\x20for\x20student\x20profiles:',_0x11734b),document[_0x2d888a(0x7e4)](_0x2d888a(0x447))[_0x2d888a(0x994)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x298d45,_0x63cc1f){const _0x3bb42a=_0xe5be95,_0x5611eb=document[_0x3bb42a(0x7e4)](_0x63cc1f);if(!_0x298d45||_0x298d45['length']===0x0){_0x5611eb['innerHTML']=_0x3bb42a(0x1dc);return;}_0x298d45['sort']((_0x1f590c,_0x1921f6)=>{const _0x4edc39=_0x3bb42a,_0x2db5c3=(_0x1921f6[_0x4edc39(0x7c4)]||0x0)-(_0x1f590c['totalPoints']||0x0);if(_0x2db5c3!==0x0)return _0x2db5c3;const _0x479dab=(_0x1921f6[_0x4edc39(0x5b2)]?.[_0x4edc39(0x557)]||0x0)-(_0x1f590c[_0x4edc39(0x5b2)]?.[_0x4edc39(0x557)]||0x0);if(_0x479dab!==0x0)return _0x479dab;const _0x451d08=(_0x1921f6[_0x4edc39(0x5b2)]?.[_0x4edc39(0x5df)]||0x0)-(_0x1f590c[_0x4edc39(0x5b2)]?.[_0x4edc39(0x5df)]||0x0);if(_0x451d08!==0x0)return _0x451d08;const _0xcd5681=(_0x1921f6['badgesCount']?.['perfect_score']||0x0)-(_0x1f590c[_0x4edc39(0x5b2)]?.[_0x4edc39(0x4e0)]||0x0);if(_0xcd5681!==0x0)return _0xcd5681;const _0x102b29=(_0x1921f6[_0x4edc39(0x5b2)]?.[_0x4edc39(0x201)]||0x0)-(_0x1f590c[_0x4edc39(0x5b2)]?.[_0x4edc39(0x201)]||0x0);if(_0x102b29!==0x0)return _0x102b29;return _0x1f590c[_0x4edc39(0xa96)][_0x4edc39(0x5bf)](_0x1921f6['studentName'],'th');});let _0x360937='';_0x298d45['forEach']((_0x1b3089,_0x1e98ab)=>{const _0x2377cb=_0x3bb42a,_0x57c6a9=_0x1e98ab+0x1,_0x563ef1=_0x1b3089['badgesCount']||{};let _0x42a8f4='';const _0x210ef8=[_0x2377cb(0x557),_0x2377cb(0x4e0),_0x2377cb(0x5df),_0x2377cb(0x201)];_0x210ef8[_0x2377cb(0xa64)](_0x4086d3=>{const _0x2d4299=_0x2377cb;if(_0x563ef1[_0x4086d3]>0x0){const _0x2631c6=Object[_0x2d4299(0x605)](BADGES)[_0x2d4299(0x3fd)](_0x5711d7=>_0x5711d7['id']===_0x4086d3);_0x2631c6&&(_0x4086d3==='specialist'?_0x42a8f4+=_0x2d4299(0x790)+_0x2631c6[_0x2d4299(0x252)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2631c6[_0x2d4299(0x5c0)]+_0x2d4299(0x547):_0x42a8f4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2631c6['name']+'\x20('+_0x563ef1[_0x4086d3]+_0x2d4299(0x67a)+_0x2631c6['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x563ef1[_0x4086d3]+_0x2d4299(0x3c8));}}),_0x360937+=_0x2377cb(0x7b5)+_0x57c6a9+_0x2377cb(0x49a)+_0x1b3089[_0x2377cb(0xa96)]+_0x2377cb(0x7f1)+(_0x1b3089[_0x2377cb(0x7c4)]||0x0)+_0x2377cb(0x49a)+(_0x42a8f4||'-')+_0x2377cb(0x284);}),_0x5611eb[_0x3bb42a(0x994)]=_0x360937;}function displayLoopScreen(_0x3dfd90,_0x5e36b4,_0x59d0c8){const _0x29bb69=_0xe5be95;let _0x50b00d='';_0x59d0c8!==_0x29bb69(0x640)&&(_0x50b00d=_0x29bb69(0x21b)+_0x3dfd90+_0x29bb69(0x70f)+_0x5e36b4+_0x29bb69(0x811));const _0x255f7b=_0x29bb69(0x56e)+_0x50b00d+_0x29bb69(0x561);studentResultArea[_0x29bb69(0x994)]=_0x255f7b,studentResultArea[_0x29bb69(0x683)][_0x29bb69(0x21f)]('hidden'),studentQuizArea[_0x29bb69(0x683)][_0x29bb69(0x816)]('hidden'),document[_0x29bb69(0x7e4)](_0x29bb69(0x707))[_0x29bb69(0x8c2)](_0x29bb69(0x75b),()=>{const _0x1444dc=_0x29bb69;studentResultArea['classList'][_0x1444dc(0x816)](_0x1444dc(0x80f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x456486,_0x186f0a,_0x141ba4){const _0x1e5c28=_0xe5be95,_0xfaa9fd=document[_0x1e5c28(0x7e4)](_0x141ba4),_0x11ea06=_0x141ba4==='student-quiz-leaderboard-table-body',_0x1f8548=_0x186f0a[_0x1e5c28(0x7dc)]['length'],_0x4b450d=document[_0x1e5c28(0x7e4)](_0x141ba4)[_0x1e5c28(0x518)](_0x1e5c28(0x279));if(_0x4b450d&&!_0x11ea06){const _0xa2d499=_0x4b450d['querySelector'](_0x1e5c28(0x7d9));_0xa2d499[_0x1e5c28(0x994)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x456486||_0x456486[_0x1e5c28(0x630)]===0x0){_0xfaa9fd[_0x1e5c28(0x994)]='<tr><td\x20colspan=\x22'+(_0x11ea06?0x6:0x8)+_0x1e5c28(0x535);return;}const _0x27b324=[..._0x456486];_0x27b324['sort']((_0xd9c9b1,_0x5a2c99)=>{const _0x21e7a9=_0x1e5c28;let _0x22bb50,_0x1855d5;switch(quizLeaderboardSortBy){case _0x21e7a9(0xa96):_0x22bb50=_0xd9c9b1['studentName']||'',_0x1855d5=_0x5a2c99['studentName']||'';return quizLeaderboardSortOrder===_0x21e7a9(0xa68)?_0x22bb50['localeCompare'](_0x1855d5,'th'):_0x1855d5['localeCompare'](_0x22bb50,'th');case'points':_0x22bb50=_0xd9c9b1[_0x21e7a9(0x7a9)]||0x0,_0x1855d5=_0x5a2c99[_0x21e7a9(0x7a9)]||0x0;break;case'attempts':_0x22bb50=_0xd9c9b1[_0x21e7a9(0x8a7)]?.[_0x21e7a9(0x630)]||0x1,_0x1855d5=_0x5a2c99[_0x21e7a9(0x8a7)]?.[_0x21e7a9(0x630)]||0x1;break;case _0x21e7a9(0x90f):_0x22bb50=new Date(_0xd9c9b1[_0x21e7a9(0x90f)]),_0x1855d5=new Date(_0x5a2c99[_0x21e7a9(0x90f)]);break;case _0x21e7a9(0x93b):default:_0x22bb50=_0xd9c9b1[_0x21e7a9(0x93b)],_0x1855d5=_0x5a2c99[_0x21e7a9(0x93b)];break;}if(_0x22bb50<_0x1855d5)return quizLeaderboardSortOrder===_0x21e7a9(0xa68)?-0x1:0x1;if(_0x22bb50>_0x1855d5)return quizLeaderboardSortOrder===_0x21e7a9(0xa68)?0x1:-0x1;return 0x0;});const _0x53497d=_0x186f0a[_0x1e5c28(0x423)]===!![],_0x1f5185=_0x186f0a[_0x1e5c28(0x4ef)]?.[_0x1e5c28(0x633)]??-0x1;let _0x55287b='';_0x27b324[_0x1e5c28(0xa64)]((_0x360382,_0x3bef95)=>{const _0x43e9ad=_0x1e5c28,_0x360e70=_0x3bef95+0x1;let _0x3bedac='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x53497d||_0x1f5185!==-0x1){let _0x4c1288=_0x53497d?_0x360382[_0x43e9ad(0x93b)]===_0x1f8548:_0x360382[_0x43e9ad(0x93b)]>=_0x1f5185;const _0x457233=_0x4c1288?_0x43e9ad(0x8e3):'bg-red-100\x20text-red-800',_0x4e4c2b=_0x4c1288?_0x43e9ad(0x6b9):_0x43e9ad(0x68f);_0x3bedac=_0x43e9ad(0x39e)+_0x457233+'\x22>'+_0x4e4c2b+_0x43e9ad(0x9cb);}const _0x214b4b=_0x360382[_0x43e9ad(0x8a7)][_0x360382[_0x43e9ad(0x8a7)]['length']-0x1],_0x59eff6=(_0x214b4b[_0x43e9ad(0x7d4)]||[])['map'](_0x217950=>{const _0x1a7ce5=_0x43e9ad,_0x1d33ed=Object[_0x1a7ce5(0x605)](BADGES)[_0x1a7ce5(0x3fd)](_0x4003f2=>_0x4003f2['id']===_0x217950);return _0x1d33ed?_0x1a7ce5(0x40e)+_0x1d33ed[_0x1a7ce5(0x252)]+_0x1a7ce5(0x9b7)+_0x1d33ed['icon']+_0x1a7ce5(0x7e8):'';})[_0x43e9ad(0x7c3)]('');_0x55287b+=_0x43e9ad(0x23d)+_0x360e70+_0x43e9ad(0x371)+_0x360382['studentName']+_0x43e9ad(0x914)+_0x360382[_0x43e9ad(0x93b)]+'\x20/\x20'+_0x1f8548+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bedac+_0x43e9ad(0x2cc)+(_0x360382[_0x43e9ad(0x7a9)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x11ea06?'':_0x43e9ad(0x87a)+(_0x360382[_0x43e9ad(0x8a7)]?.['length']||0x1)+_0x43e9ad(0x67e))+_0x43e9ad(0x215)+(_0x11ea06?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x360382[_0x43e9ad(0x90f)])['toLocaleString'](_0x43e9ad(0x90a))+'</td>')+_0x43e9ad(0xa53)+(_0x59eff6||'-')+_0x43e9ad(0x413);}),_0xfaa9fd[_0x1e5c28(0x994)]=_0x55287b,_0x4b450d&&!_0x11ea06&&_0x4b450d[_0x1e5c28(0xa16)]('thead\x20.sortable-header')[_0x1e5c28(0xa64)](_0x592b9c=>{const _0x5781af=_0x1e5c28,_0x186111=_0x592b9c[_0x5781af(0x9e6)](_0x5781af(0x38e));if(_0x186111)_0x186111[_0x5781af(0x21f)]();_0x592b9c[_0x5781af(0x4ee)]['sort']===quizLeaderboardSortBy&&(_0x592b9c[_0x5781af(0x994)]+=_0x5781af(0x3e6)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x5781af(0x2cf));});}async function handleDeleteSubmission(_0x3d5cba){const _0x29f8ed=_0xe5be95;if(!currentQuizData||!currentQuizData['id']||!_0x3d5cba){showMessage(_0x29f8ed(0xafb));return;}showConfirmation(_0x29f8ed(0xa98)+_0x3d5cba+_0x29f8ed(0x9a0),async()=>{const _0x20e8e0=_0x29f8ed,_0x164d65=currentQuizData['id'],_0x51f3ec=doc(db,'artifacts/'+appId+_0x20e8e0(0x9f7)+_0x164d65+'/submissions',_0x3d5cba);try{await deleteDoc(_0x51f3ec),showMessage(_0x20e8e0(0x72b)+_0x3d5cba+_0x20e8e0(0x70c));}catch(_0xd2d973){console[_0x20e8e0(0x72a)](_0x20e8e0(0x5de),_0xd2d973),showMessage(_0x20e8e0(0x6f2));}});}async function handleLoadQuiz(){const _0x1d15ff=_0xe5be95,_0x2dad01=document['getElementById']('quiz-id-input'),_0x1a95e3=_0x2dad01[_0x1d15ff(0x2cd)][_0x1d15ff(0x7ab)]();if(!_0x1a95e3){showMessage(_0x1d15ff(0xa5c));return;}loadQuizBtn[_0x1d15ff(0x7ac)]=!![],loadQuizBtn[_0x1d15ff(0x994)]=_0x1d15ff(0x92f);try{const _0x42c900=doc(db,_0x1d15ff(0x62e)+appId+_0x1d15ff(0x721),_0x1a95e3),_0x95fc41=await getDoc(_0x42c900);if(!_0x95fc41[_0x1d15ff(0xafe)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x95fc41['id'],..._0x95fc41['data']()};const _0x2fa6f4=currentQuizData[_0x1d15ff(0x216)]||'active',_0x4adc21=new Date();if(_0x2fa6f4===_0x1d15ff(0x758)){showMessage(_0x1d15ff(0x1f9));return;}if(_0x2fa6f4===_0x1d15ff(0x22a)){const _0x1f235b=currentQuizData['startTime']?new Date(currentQuizData[_0x1d15ff(0x9a2)]):null,_0x46b46c=currentQuizData[_0x1d15ff(0x391)]?new Date(currentQuizData[_0x1d15ff(0x391)]):null;if(_0x1f235b&&_0x4adc21<_0x1f235b){showMessage(_0x1d15ff(0x6c0)+_0x1f235b['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x46b46c&&_0x4adc21>_0x46b46c){showMessage(_0x1d15ff(0x991));return;}}const _0x25ffab=currentQuizData['projectId'];currentProjectId=_0x25ffab;const _0x558ba1=doc(db,_0x1d15ff(0x62e)+appId+_0x1d15ff(0x7d8),_0x25ffab),_0x379eab=await getDoc(_0x558ba1);if(!_0x379eab[_0x1d15ff(0xafe)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0xbb5361=_0x379eab[_0x1d15ff(0x291)]();currentStudentProjectData=_0xbb5361,displayStudentNameSelector(_0xbb5361[_0x1d15ff(0x2f0)],currentQuizData['topic']);}catch(_0x3dce12){console[_0x1d15ff(0x72a)](_0x1d15ff(0x4f5),_0x3dce12),showMessage(_0x1d15ff(0x6c6));}finally{loadQuizBtn[_0x1d15ff(0x7ac)]=![],loadQuizBtn[_0x1d15ff(0x994)]=_0x1d15ff(0x332);}}async function handleJoinLiveGame(){const _0x2480fc=_0xe5be95,_0x287a07=document[_0x2480fc(0x7e4)](_0x2480fc(0x8d2)),_0x272588=document[_0x2480fc(0x7e4)]('nickname-input'),_0x41a468=document[_0x2480fc(0x7e4)](_0x2480fc(0x257)),_0x59b227=_0x287a07[_0x2480fc(0x2cd)][_0x2480fc(0x7ab)](),_0x13178a=_0x272588[_0x2480fc(0x2cd)]['trim']();if(!_0x59b227||!_0x13178a){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x41a468[_0x2480fc(0x7ac)]=!![],_0x41a468[_0x2480fc(0x994)]=_0x2480fc(0x448);try{const _0x3beb1c=collection(db,'artifacts/'+appId+_0x2480fc(0xa4c)),_0x5b28fc=query(_0x3beb1c,where('gamePin','==',_0x59b227),where(_0x2480fc(0x216),'in',[_0x2480fc(0x9e1),_0x2480fc(0x5ca)])),_0x35bda5=await getDocs(_0x5b28fc);if(_0x35bda5[_0x2480fc(0x466)]){showMessage(_0x2480fc(0x90c));return;}const _0x408448=_0x35bda5[_0x2480fc(0x966)][0x0],_0x28ba99=_0x408448[_0x2480fc(0x291)]();currentLiveGameId=_0x408448['id'];const _0x23e8b9=_0x28ba99['quizId'],_0x180512=doc(db,_0x2480fc(0x62e)+appId+_0x2480fc(0x721),_0x23e8b9),_0x26c7eb=await getDoc(_0x180512);if(!_0x26c7eb[_0x2480fc(0xafe)]()){showMessage(_0x2480fc(0x684));return;}currentQuizData={'id':_0x26c7eb['id'],..._0x26c7eb[_0x2480fc(0x291)]()};if(_0x28ba99[_0x2480fc(0x444)]&&_0x28ba99[_0x2480fc(0x444)][_0x13178a]){const _0x501dd1=_0x28ba99[_0x2480fc(0x444)][_0x13178a];if(_0x501dd1['status']===_0x2480fc(0x758)){_0x41a468[_0x2480fc(0x994)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x5eecdc={};_0x5eecdc[_0x2480fc(0x35c)+_0x13178a+_0x2480fc(0x743)]=_0x2480fc(0x245),await updateDoc(doc(db,_0x2480fc(0x62e)+appId+_0x2480fc(0xa4c),currentLiveGameId),_0x5eecdc),showView(_0x2480fc(0x750)),currentStudentName=_0x13178a,listenForLiveGameUpdates();return;}else{showMessage(_0x2480fc(0x7e7));return;}}if(_0x28ba99[_0x2480fc(0x216)]!==_0x2480fc(0x9e1)){showMessage(_0x2480fc(0x64b));return;}_0x41a468[_0x2480fc(0x994)]=_0x2480fc(0x808);const _0x21ceca={};_0x21ceca[_0x2480fc(0x35c)+_0x13178a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2480fc(0x245)},await updateDoc(doc(db,_0x2480fc(0x62e)+appId+_0x2480fc(0xa4c),currentLiveGameId),_0x21ceca),currentStudentName=_0x13178a,listenForLiveGameUpdates();}catch(_0x3a312c){console[_0x2480fc(0x72a)](_0x2480fc(0x666),_0x3a312c),showMessage(_0x2480fc(0x378));}finally{_0x41a468[_0x2480fc(0x7ac)]=![],_0x41a468[_0x2480fc(0x994)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3a5720,_0x132f72){const _0x234d36=_0xe5be95,_0x4b4b01=document['getElementById'](_0x234d36(0x414));document[_0x234d36(0x7e4)](_0x234d36(0x9e2))[_0x234d36(0x5c5)]=_0x234d36(0x2f7)+_0x132f72,!_0x3a5720||_0x3a5720['length']===0x0?(_0x4b4b01[_0x234d36(0x994)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x234d36(0x7ac)]=!![]):(_0x4b4b01[_0x234d36(0x994)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3a5720[_0x234d36(0xa64)](_0x15b95e=>{const _0x2c347c=_0x234d36,_0x584a8e=document['createElement'](_0x2c347c(0x396));_0x584a8e[_0x2c347c(0x2cd)]=_0x15b95e,_0x584a8e[_0x2c347c(0x5c5)]=_0x15b95e,_0x4b4b01['appendChild'](_0x584a8e);}),startQuizBtn[_0x234d36(0x7ac)]=![]),studentInitialView[_0x234d36(0x683)]['add']('hidden'),studentNameSelectionView[_0x234d36(0x683)][_0x234d36(0x21f)](_0x234d36(0x80f));}function shuffleArray(_0x1246a7){const _0x19aff8=_0xe5be95;for(let _0x23e6b1=_0x1246a7[_0x19aff8(0x630)]-0x1;_0x23e6b1>0x0;_0x23e6b1--){const _0x553077=Math['floor'](Math['random']()*(_0x23e6b1+0x1));[_0x1246a7[_0x23e6b1],_0x1246a7[_0x553077]]=[_0x1246a7[_0x553077],_0x1246a7[_0x23e6b1]];}}function getShuffledQuiz(_0x1587ba){const _0x2e784d=_0xe5be95;let _0x47b263=JSON[_0x2e784d(0x62f)](JSON[_0x2e784d(0x5e9)](_0x1587ba));const _0x5182a0=_0x47b263[_0x2e784d(0x4ef)]?.[_0x2e784d(0x9a8)]||_0x2e784d(0x3e7);if(_0x5182a0===_0x2e784d(0x3e7))return _0x47b263;return(_0x5182a0==='questions_only'||_0x5182a0==='both')&&shuffleArray(_0x47b263[_0x2e784d(0x7dc)]),(_0x5182a0===_0x2e784d(0x5eb)||_0x5182a0===_0x2e784d(0xa44))&&_0x47b263[_0x2e784d(0x7dc)][_0x2e784d(0xa64)](_0x152680=>{const _0x41b5e2=_0x2e784d,_0x13d9be=_0x152680[_0x41b5e2(0x832)]||_0x47b263[_0x41b5e2(0x519)];if(_0x152680[_0x41b5e2(0x93f)]){let _0x4577f9=_0x152680[_0x41b5e2(0x93f)][_0x41b5e2(0x374)]((_0x444492,_0xe8150e)=>({'text':_0x444492,'isCorrect':_0xe8150e===_0x152680[_0x41b5e2(0x60e)]}));shuffleArray(_0x4577f9),_0x152680[_0x41b5e2(0x93f)]=_0x4577f9[_0x41b5e2(0x374)](_0x100b62=>_0x100b62[_0x41b5e2(0x428)]),_0x152680['correctAnswerIndex']=_0x4577f9['findIndex'](_0x37b538=>_0x37b538[_0x41b5e2(0x2f3)]);}_0x13d9be===_0x41b5e2(0x4b9)&&_0x152680[_0x41b5e2(0x784)]&&shuffleArray(_0x152680['allResponses']);}),_0x47b263;}function displayQuizForStudent(_0x1e47c2){const _0x300b82=_0xe5be95;studentQuizArea[_0x300b82(0x683)][_0x300b82(0x21f)](_0x300b82(0x80f)),currentDisplayedQuiz=getShuffledQuiz(_0x1e47c2);currentMode!==_0x300b82(0x7bb)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x300b82(0x8c2)](_0x300b82(0x47b),handleFullscreenChange),document[_0x300b82(0x8c2)](_0x300b82(0x3b1),handleVisibilityChange),enterFullscreen(),window[_0x300b82(0x8c2)]('mousemove',resetDimTimer),window[_0x300b82(0x8c2)](_0x300b82(0x313),resetDimTimer),window['addEventListener'](_0x300b82(0x3ce),resetDimTimer),window[_0x300b82(0x8c2)](_0x300b82(0x672),resetDimTimer),resetDimTimer());const _0x64d280=currentDisplayedQuiz[_0x300b82(0x4ef)]?.['timerMode']||'none';if(_0x64d280===_0x300b82(0x993))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x300b82(0x4ef)][_0x300b82(0x828)]);else _0x64d280==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1ab06d=_0xe5be95;let _0x39525c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x1ab06d(0xab8)]+_0x1ab06d(0x267)+(currentMode===_0x1ab06d(0x7bb)?_0x1ab06d(0x97a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x1ab06d(0x7dc)]['forEach']((_0x2e5ce3,_0x17d247)=>{const _0x1b18e3=_0x1ab06d,_0x14e0d2=_0x2e5ce3[_0x1b18e3(0x832)]||currentDisplayedQuiz['quizType'];_0x39525c+=_0x1b18e3(0x4bd);_0x14e0d2===_0x1b18e3(0x4b9)?_0x39525c+=_0x1b18e3(0x9b0)+(_0x17d247+0x1)+'.\x20'+_0x2e5ce3['stem']+_0x1b18e3(0x6a0)+_0x17d247+_0x1b18e3(0x7bf)+_0x2e5ce3['allResponses'][_0x1b18e3(0x374)](_0x443bd5=>_0x1b18e3(0x776)+_0x443bd5+'\x22>'+_0x443bd5+_0x1b18e3(0x339))['join']('')+_0x1b18e3(0x36b):(_0x39525c+=_0x1b18e3(0x382)+(_0x17d247+0x1)+'.\x20'+(_0x2e5ce3[_0x1b18e3(0xab3)]||_0x2e5ce3[_0x1b18e3(0x821)])+'</p>',_0x2e5ce3[_0x1b18e3(0x82b)]&&(_0x39525c+=_0x1b18e3(0x4b5)+_0x2e5ce3[_0x1b18e3(0x82b)]+_0x1b18e3(0x598)));_0x39525c+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x14e0d2){case _0x1b18e3(0x4dd):_0x39525c+=_0x1b18e3(0x2ea)+_0x17d247+_0x1b18e3(0x93a);break;case _0x1b18e3(0x82f):_0x39525c+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x17d247+_0x1b18e3(0x1d5)+_0x17d247+_0x1b18e3(0x4c4)+_0x17d247+_0x1b18e3(0x430),_0x39525c+=_0x1b18e3(0x806)+_0x17d247+_0x1b18e3(0x1d7)+_0x17d247+_0x1b18e3(0xa41)+_0x17d247+_0x1b18e3(0x9cf);break;case _0x1b18e3(0x4b9):break;case _0x1b18e3(0x689):case _0x1b18e3(0x999):default:_0x39525c+=_0x2e5ce3['options'][_0x1b18e3(0x374)]((_0x255862,_0x528d24)=>_0x1b18e3(0xa3e)+_0x17d247+_0x1b18e3(0x609)+_0x528d24+'\x22\x20name=\x22question'+_0x17d247+'\x22\x20value=\x22'+_0x528d24+_0x1b18e3(0x6b2)+_0x17d247+'_opt'+_0x528d24+'\x22>'+_0x255862+_0x1b18e3(0x90b))[_0x1b18e3(0x7c3)]('');break;}_0x39525c+=_0x1b18e3(0x9c8);}),_0x39525c+=_0x1ab06d(0x795),_0x39525c+='</form>',studentQuizArea[_0x1ab06d(0x994)]=_0x39525c;if(currentMode===_0x1ab06d(0x7bb)){const _0x511a91=document['getElementById'](_0x1ab06d(0x977));if(_0x511a91)_0x511a91[_0x1ab06d(0x8c2)](_0x1ab06d(0x75b),cancelAdminTest);}document[_0x1ab06d(0x7e4)](_0x1ab06d(0x8b5))[_0x1ab06d(0x8c2)](_0x1ab06d(0xac5),handleSubmitQuiz);if(window[_0x1ab06d(0x422)])window[_0x1ab06d(0x422)][_0x1ab06d(0x32a)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2a9f5d){const _0x16d13b=_0xe5be95;if(_0x2a9f5d)_0x2a9f5d[_0x16d13b(0x4f0)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x52384b=document[_0x16d13b(0x7e4)](_0x16d13b(0x8b5));if(!_0x52384b)return;const _0x53bd14=_0x52384b[_0x16d13b(0x9e6)](_0x16d13b(0x583)),_0x114248=currentDisplayedQuiz[_0x16d13b(0x7dc)]['some'](_0x2c104b=>_0x2c104b[_0x16d13b(0x832)]===_0x16d13b(0x4dd));_0x53bd14&&(_0x53bd14['disabled']=!![],_0x114248?_0x53bd14[_0x16d13b(0x994)]=_0x16d13b(0x761):_0x53bd14[_0x16d13b(0x994)]=_0x16d13b(0x2ce));const _0x273772=new FormData(_0x52384b),_0x1d634c=currentDisplayedQuiz[_0x16d13b(0x7dc)]['map']((_0x5d6d20,_0x31a479)=>{const _0x19e908=_0x16d13b,_0x4e1237=_0x5d6d20[_0x19e908(0x832)]||currentDisplayedQuiz[_0x19e908(0x519)],_0x12ec74=_0x273772[_0x19e908(0x71b)]('question'+_0x31a479);if(_0x12ec74!==null&&_0x12ec74!==undefined){if(_0x4e1237===_0x19e908(0x999)||_0x4e1237===_0x19e908(0x689))return parseInt(_0x12ec74);return _0x12ec74;}return null;}),_0x2db767=currentQuizData['id'],_0x50d10f=doc(db,_0x16d13b(0x62e)+appId+_0x16d13b(0x9f7)+_0x2db767+_0x16d13b(0xa52),currentStudentName),_0x2b2771=await getDoc(_0x50d10f),_0x5a37d6=_0x2b2771['exists']()?_0x2b2771[_0x16d13b(0x291)]():{},_0x366534=_0x5a37d6[_0x16d13b(0x8a7)]||[];await processAndSubmitAnswers(_0x1d634c,_0x366534);}async function gradeShortAnswerWithAI(_0x566352,_0x5bc42f){const _0x460082=_0xe5be95;if(!_0x566352||!_0x5bc42f)return![];try{const _0x40a1cd='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x566352+_0x460082(0xae1)+_0x5bc42f+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0xba33b6={'contents':[{'role':_0x460082(0x3cb),'parts':[{'text':_0x40a1cd}]}]},_0x51f29d=_0x460082(0x636),_0x503a89=_0x460082(0x4cd)+_0x51f29d,_0x2e8375=await fetch(_0x503a89,{'method':_0x460082(0x961),'headers':{'Content-Type':_0x460082(0x7df)},'body':JSON[_0x460082(0x5e9)](_0xba33b6)});if(!_0x2e8375['ok'])throw new Error(_0x460082(0x6ae));const _0xe207a4=await _0x2e8375[_0x460082(0x902)](),_0x3f5790=_0xe207a4[_0x460082(0xa86)][0x0][_0x460082(0x433)][_0x460082(0x3af)][0x0][_0x460082(0x428)][_0x460082(0x7ab)]()['toLowerCase']();return _0x3f5790===_0x460082(0x744);}catch(_0xcfa879){return console[_0x460082(0x72a)](_0x460082(0x326),_0xcfa879),![];}}async function processAndSubmitAnswers(_0x4fe16b,_0x592bca){const _0x2b1435=_0xe5be95;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x2b1435(0x47b),handleFullscreenChange),document[_0x2b1435(0x302)](_0x2b1435(0x3b1),handleVisibilityChange);let _0x2b7e03=0x0,_0x23c43e=0x0,_0x9c4557=[];const _0xa713e3=[],_0x14a2ca=currentDisplayedQuiz[_0x2b1435(0x7dc)][_0x2b1435(0x630)];let _0x344b2b=0x0;const _0x1e4725=currentDisplayedQuiz[_0x2b1435(0x7dc)];for(let _0x3496ed=0x0;_0x3496ed<_0x1e4725[_0x2b1435(0x630)];_0x3496ed++){const _0x12d384=_0x1e4725[_0x3496ed],_0x1e7b62=_0x4fe16b[_0x3496ed],_0x1a6244=_0x12d384[_0x2b1435(0x832)]||currentDisplayedQuiz[_0x2b1435(0x519)];let _0xfa33a9=![];if(_0x1e7b62!==null&&_0x1e7b62!=='')switch(_0x1a6244){case _0x2b1435(0x4b9):_0xfa33a9=_0x1e7b62===_0x12d384[_0x2b1435(0x933)];break;case _0x2b1435(0x82f):const _0x112ee0=_0x1e7b62===!![]||_0x1e7b62===_0x2b1435(0x744);_0xfa33a9=_0x112ee0===_0x12d384[_0x2b1435(0x5ee)];break;case _0x2b1435(0x4dd):_0xfa33a9=await gradeShortAnswer(_0x1e7b62,_0x12d384);break;case _0x2b1435(0x999):default:_0xfa33a9=Number(_0x1e7b62)===_0x12d384['correctAnswerIndex'];break;}_0xfa33a9?(_0x2b7e03++,_0x344b2b++,_0x344b2b===0x3&&(_0x9c4557[_0x2b1435(0x4a9)](BADGES['ON_FIRE']['id']),_0x344b2b=0x0)):_0x344b2b=0x0;let _0x45d873=null;_0x12d384[_0x2b1435(0x93f)]&&_0x1e7b62!==null&&(_0x45d873=_0x12d384['options'][_0x1e7b62]),_0xa713e3[_0x2b1435(0x4a9)]({'questionId':_0x12d384['id'],'answer':_0x1e7b62,'answerText':_0x45d873,'isCorrect':_0xfa33a9,'originalQuestionText':_0x12d384[_0x2b1435(0xae3)]||_0x12d384[_0x2b1435(0x821)]});}_0x23c43e=_0x2b7e03*0xa;_0x2b7e03===_0x14a2ca&&_0x14a2ca>0x0&&!currentDisplayedQuiz[_0x2b1435(0x423)]&&(_0x23c43e+=0x32,_0x9c4557[_0x2b1435(0x4a9)](BADGES[_0x2b1435(0x5b5)]['id']));const _0x1053d3=currentDisplayedQuiz['settings']?.[_0x2b1435(0x633)]??Math['floor'](_0x14a2ca/0x2),_0x3f3549=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x3f3549===_0x2b1435(0x993)&&quizStartTime){const _0x276907=(new Date()-quizStartTime)/0x3e8,_0x19cc3e=currentDisplayedQuiz[_0x2b1435(0x4ef)][_0x2b1435(0x828)]*0x3c;_0x2b7e03>=_0x1053d3&&_0x276907<_0x19cc3e/0x2&&(_0x23c43e+=0x14,_0x9c4557['push'](BADGES[_0x2b1435(0x829)]['id']));}_0x592bca['length']===0x0&&_0x2b7e03===_0x14a2ca&&_0x14a2ca>0x0&&_0x9c4557[_0x2b1435(0x4a9)](BADGES[_0x2b1435(0x8fe)]['id']);if(_0x592bca[_0x2b1435(0x630)]>0x0){const _0x5cc0f2=_0x592bca[0x0]['score'];if(_0x5cc0f2<_0x1053d3&&_0x2b7e03>=_0x1053d3){const _0x1cb4b1=_0x592bca[_0x2b1435(0xa66)](_0x217d97=>(_0x217d97[_0x2b1435(0x7d4)]||[])[_0x2b1435(0x365)](BADGES[_0x2b1435(0x2c0)]['id']));!_0x1cb4b1&&_0x9c4557[_0x2b1435(0x4a9)](BADGES['COMEBACK_KING']['id']);}}_0x592bca['length']===0x4&&_0x9c4557[_0x2b1435(0x4a9)](BADGES[_0x2b1435(0x208)]['id']);const _0x2763cc=currentDisplayedQuiz[_0x2b1435(0x4ef)][_0x2b1435(0xab5)];if(currentMode===_0x2b1435(0x7bb)){handleResultDisplay(_0x2763cc,_0x2b7e03,_0x23c43e,_0x9c4557,_0xa713e3,_0x14a2ca);return;}const _0x2b23dc=currentQuizData['id'],_0x53618f=doc(db,_0x2b1435(0x62e)+appId+_0x2b1435(0x9f7)+_0x2b23dc+_0x2b1435(0xa52),currentStudentName);try{const _0x2eb7d9=[..._0x592bca],_0x499764={'score':_0x2b7e03,'points':_0x23c43e,'badges':_0x9c4557,'submittedAt':new Date()['toISOString'](),'answers':_0xa713e3};_0x2eb7d9['push'](_0x499764);const _0x36a4a8=_0x592bca[_0x2b1435(0x630)]===0x0?_0x2b7e03:_0x592bca[0x0][_0x2b1435(0x32e)]||0x0,_0x1450c6=Math[_0x2b1435(0x2de)](..._0x2eb7d9[_0x2b1435(0x374)](_0x1f921c=>_0x1f921c[_0x2b1435(0x32e)])),_0x208271=_0x2b7e03,_0x46f811=_0x499764[_0x2b1435(0x4c1)];await setDoc(_0x53618f,{'studentName':currentStudentName,'totalQuestions':_0x14a2ca,'attempts':_0x2eb7d9,'firstScore':_0x36a4a8,'bestScore':_0x1450c6,'latestScore':_0x208271,'points':_0x23c43e,'latestSubmittedAt':_0x46f811},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2b1435(0x6fa)],currentStudentName),handleResultDisplay(_0x2763cc,_0x2b7e03,_0x23c43e,_0x9c4557,_0xa713e3,_0x14a2ca);}catch(_0x40fb6a){console[_0x2b1435(0x72a)](_0x2b1435(0x663),_0x40fb6a),showMessage(_0x2b1435(0x98d));}}async function updateStudentProfile(_0x3fa2ba,_0x3fdd39){const _0x15e638=_0xe5be95,_0x7773e8=doc(db,_0x15e638(0x62e)+appId+_0x15e638(0x76e)+_0x3fa2ba+_0x15e638(0x45f),_0x3fdd39);try{const _0x40005b=query(collection(db,_0x15e638(0x62e)+appId+_0x15e638(0x721)),where('projectId','==',_0x3fa2ba)),_0x4a60ed=await getDocs(_0x40005b),_0xaa8322=new Map(_0x4a60ed['docs'][_0x15e638(0x374)](_0x3ed761=>[_0x3ed761['id'],_0x3ed761[_0x15e638(0x291)]()])),_0x4a9140=Array[_0x15e638(0x3dd)](_0xaa8322[_0x15e638(0x487)]());await runTransaction(db,async _0x143347=>{const _0x26b2cf=_0x15e638;let _0x4d5c6b=0x0;const _0xb79fca={};let _0x2b9dd7=!![],_0x1088b0=0x0,_0x56bc30=0x0;for(const _0x5c1475 of _0x4a9140){const _0x3f7086=_0xaa8322['get'](_0x5c1475),_0x5a60f0=doc(db,'artifacts/'+appId+_0x26b2cf(0x9f7)+_0x5c1475+_0x26b2cf(0xa52),_0x3fdd39),_0x211649=await _0x143347[_0x26b2cf(0x71b)](_0x5a60f0);if(_0x211649[_0x26b2cf(0xafe)]()){const _0x10585e=_0x211649[_0x26b2cf(0x291)](),_0x150fb6=_0x10585e[_0x26b2cf(0x8a7)]||[];if(_0x150fb6[_0x26b2cf(0x630)]>0x0){const _0x1421ef=_0x150fb6[_0x26b2cf(0x7f6)]((_0x3dcc1c,_0x389b51)=>{const _0x22b83f=_0x26b2cf;if(_0x389b51[_0x22b83f(0x32e)]>_0x3dcc1c['score'])return _0x389b51;if(_0x389b51['score']===_0x3dcc1c[_0x22b83f(0x32e)])return(_0x389b51['points']||0x0)>(_0x3dcc1c['points']||0x0)?_0x389b51:_0x3dcc1c;return _0x3dcc1c;},{'score':-0x1,'points':-0x1});_0x1421ef[_0x26b2cf(0x32e)]>-0x1&&(_0x4d5c6b+=_0x1421ef['points']||0x0,(_0x1421ef[_0x26b2cf(0x7d4)]||[])[_0x26b2cf(0xa64)](_0x394e26=>{_0xb79fca[_0x394e26]=(_0xb79fca[_0x394e26]||0x0)+0x1;}));}}if(_0x3f7086[_0x26b2cf(0xab8)]!==_0x26b2cf(0x512)){_0x56bc30++;if(_0x211649['exists']()){_0x1088b0++;const _0x53e30e=_0x211649[_0x26b2cf(0x291)]();_0x53e30e[_0x26b2cf(0x93b)]!==_0x53e30e[_0x26b2cf(0xa83)]&&(_0x2b9dd7=![]);}else _0x2b9dd7=![];}}_0x56bc30>0x0&&_0x1088b0===_0x56bc30&&_0x2b9dd7?_0xb79fca[_0x26b2cf(0x557)]=0x1:_0xb79fca[_0x26b2cf(0x557)]=0x0,_0x143347['set'](_0x7773e8,{'studentName':_0x3fdd39,'totalPoints':_0x4d5c6b,'unlockedBadges':Object['keys'](_0xb79fca)[_0x26b2cf(0x670)](_0x1d0182=>_0xb79fca[_0x1d0182]>0x0),'badgesCount':_0xb79fca},{'merge':!![]});});}catch(_0x1f7743){console[_0x15e638(0x72a)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x1f7743),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x38ebd2=_0xe5be95;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x22d324=JSON[_0x38ebd2(0x62f)](JSON[_0x38ebd2(0x5e9)](currentQuizData));currentMode=_0x38ebd2(0x7bb),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x38ebd2(0x683)][_0x38ebd2(0x816)]('hidden'),studentView['classList'][_0x38ebd2(0x21f)](_0x38ebd2(0x80f)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView['classList']['add'](_0x38ebd2(0x80f)),studentResultArea[_0x38ebd2(0x683)]['add'](_0x38ebd2(0x80f)),studentQuizArea['classList'][_0x38ebd2(0x21f)](_0x38ebd2(0x80f)),quizStartTime=new Date(),displayQuizForStudent(_0x22d324);}function handleResultDisplay(_0x22076f,_0x8b27f0,_0x18d5f9,_0x14770e,_0x3cb86b,_0x4190a9){const _0x118c55=_0xe5be95;if(_0x22076f===_0x118c55(0x9ec)){displaySubmissionConfirmation();return;}const _0x49c1e7=currentDisplayedQuiz['settings']?.[_0x118c55(0x633)]??Math['floor'](_0x4190a9/0x2),_0x630d53=currentDisplayedQuiz[_0x118c55(0x4ef)]?.[_0x118c55(0x243)]??![],_0x3b05e3=currentDisplayedQuiz[_0x118c55(0x4ef)]?.[_0x118c55(0xae0)]===!![],_0xf2f490=_0x8b27f0<_0x49c1e7,_0x41f8f6=_0x22076f===_0x118c55(0x9e8)||_0x22076f==='perfect_score_status';if(_0x3b05e3&&_0xf2f490&&!_0x41f8f6){_0x22076f===_0x118c55(0x471)?displayResultsWithAnswers(_0x8b27f0,_0x18d5f9,_0x14770e,_0x3cb86b,_0x4190a9,!![]):displayLoopScreen(_0x8b27f0,_0x4190a9,_0x22076f);return;}if(_0x630d53&&_0xf2f490){startAdaptiveFlow(_0x3cb86b,_0x8b27f0,_0x4190a9);return;}switch(_0x22076f){case _0x118c55(0x471):displayResultsWithAnswers(_0x8b27f0,_0x18d5f9,_0x14770e,_0x3cb86b,_0x4190a9);break;case _0x118c55(0x64c):displayResultsScoreOnly(_0x8b27f0,_0x18d5f9,_0x14770e,_0x4190a9);break;case'show_pass_fail_only':displayPassFailOnly(_0x8b27f0,_0x4190a9);break;case _0x118c55(0x9e8):displayHalfMarkResult(_0x8b27f0,_0x4190a9);break;case'perfect_score_status':displayPerfectScoreResult(_0x8b27f0,_0x4190a9);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3c671f){const _0x13798c=_0xe5be95;studentReadingArea[_0x13798c(0x994)]=_0x13798c(0x39a);const _0x157952=_0x13798c(0x3c3)+_0x3c671f+_0x13798c(0x4a1)+simpleMathPrompt+_0x13798c(0x890),_0x3ea3d0={'type':_0x13798c(0x253),'properties':{'questionText':{'type':_0x13798c(0x5cc)},'options':{'type':_0x13798c(0x1e4),'items':{'type':_0x13798c(0x5cc)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x13798c(0x93f),_0x13798c(0x60e),_0x13798c(0x555)]},_0x5c739e={'type':'OBJECT','properties':{'topic':{'type':_0x13798c(0x5cc)},'questions':{'type':_0x13798c(0x1e4),'items':_0x3ea3d0}},'required':[_0x13798c(0xab8),_0x13798c(0x7dc)]};try{const _0x11efcf=await callAnalysisApi(_0x157952,_0x5c739e);_0x11efcf[_0x13798c(0x423)]=!![],studentReadingArea['classList'][_0x13798c(0x816)](_0x13798c(0x80f));const _0x1f7814={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x13798c(0x471)};_0x11efcf['settings']=_0x1f7814,displayQuizForStudent(_0x11efcf);}catch(_0x54dfc0){console[_0x13798c(0x72a)](_0x13798c(0x223),_0x54dfc0),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x13798c(0x923));}}function displayPassFailOnly(_0x384668,_0x217e50){const _0x4a78e3=_0xe5be95,_0x8c9ad1=currentDisplayedQuiz[_0x4a78e3(0x4ef)]?.[_0x4a78e3(0x633)]??-0x1,_0x5a1b97=currentDisplayedQuiz[_0x4a78e3(0x423)]===!![];let _0x33d6c0='',_0x5dab2f=![];if(_0x5a1b97||_0x8c9ad1!==-0x1){_0x5dab2f=_0x5a1b97?_0x384668===_0x217e50:_0x384668>=_0x8c9ad1;const _0x5ccb65=_0x5dab2f?'bg-green-100\x20text-green-800':_0x4a78e3(0x34f),_0x38557a=_0x5dab2f?_0x4a78e3(0x6b9):_0x4a78e3(0x68f);_0x33d6c0=_0x4a78e3(0x6b5)+_0x5ccb65+'\x22>'+_0x38557a+_0x4a78e3(0x6bc);}else _0x33d6c0='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x2195d8=_0x4a78e3(0x432)+currentStudentName+_0x4a78e3(0xaf7)+_0x33d6c0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4a78e3(0x994)]=_0x2195d8,studentResultArea[_0x4a78e3(0x683)]['remove'](_0x4a78e3(0x80f)),studentQuizArea['classList'][_0x4a78e3(0x816)](_0x4a78e3(0x80f)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5dab2f});}function cancelAdminTest(){const _0x398f0c=_0xe5be95;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x398f0c(0x302)]('fullscreenchange',handleFullscreenChange),document[_0x398f0c(0x302)](_0x398f0c(0x3b1),handleVisibilityChange),currentMode='admin',studentView['classList'][_0x398f0c(0x816)](_0x398f0c(0x80f)),adminView['classList']['remove'](_0x398f0c(0x80f)),showView(_0x398f0c(0x9d7));}function setupResultScreenBackButton(_0x375816){const _0x5099dc=_0xe5be95,_0x3705c5={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x375816};if(_0x3705c5['isLooping']){const _0x3aaf18=_0x5099dc(0x2e9);studentResultArea[_0x5099dc(0x694)](_0x5099dc(0xa11),_0x3aaf18),document[_0x5099dc(0x7e4)](_0x5099dc(0x707))['addEventListener'](_0x5099dc(0x75b),()=>{const _0x13ced7=_0x5099dc;studentResultArea[_0x13ced7(0x683)][_0x13ced7(0x816)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x38103e=_0x5099dc(0xac3),_0x1b2b62=currentMode===_0x5099dc(0x7bb),_0x4e4caf=_0x1b2b62?_0x5099dc(0x258):_0x5099dc(0xa57);let _0x371913='';_0x3705c5[_0x5099dc(0x256)]&&(_0x371913+=_0x5099dc(0x48f));let _0x46eb80=_0x3705c5[_0x5099dc(0x65a)];_0x46eb80===undefined&&(_0x46eb80=_0x3705c5[_0x5099dc(0x32e)]<_0x3705c5[_0x5099dc(0xa83)]);_0x46eb80&&(_0x371913+=_0x5099dc(0x2dc));_0x371913+=_0x5099dc(0xaff)+_0x38103e+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x4e4caf+_0x5099dc(0x934);const _0x519195='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x371913+_0x5099dc(0x598);studentResultArea[_0x5099dc(0x694)](_0x5099dc(0xa11),_0x519195),studentResultArea[_0x5099dc(0x9e6)](_0x5099dc(0x84a))?.[_0x5099dc(0x8c2)](_0x5099dc(0x75b),handleShowStudentRankings);const _0x1e8e22=studentResultArea[_0x5099dc(0x9e6)](_0x5099dc(0x83d));_0x1e8e22&&_0x1e8e22['addEventListener'](_0x5099dc(0x75b),()=>{const _0x12d8d5=_0x5099dc;studentResultArea[_0x12d8d5(0x683)]['add'](_0x12d8d5(0x80f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x38103e)['addEventListener'](_0x5099dc(0x75b),()=>{const _0x5cbf78=_0x5099dc;_0x1b2b62?(currentMode=_0x5cbf78(0x46b),studentView['classList'][_0x5cbf78(0x816)](_0x5cbf78(0x80f)),adminView[_0x5cbf78(0x683)]['remove']('hidden'),showView(_0x5cbf78(0x9d7))):(showView(_0x5cbf78(0x923)),document[_0x5cbf78(0x7e4)](_0x5cbf78(0xad3))[_0x5cbf78(0x2cd)]='');});}function displayResultsWithAnswers(_0x3629ae,_0x5105f2,_0x5106d7,_0x65e2c3,_0x39da75,_0x2b7501=![]){const _0x134050=_0xe5be95,_0x283128=_0x39da75>0x0?_0x3629ae/_0x39da75*0x64:0x0,_0x199c43=currentDisplayedQuiz[_0x134050(0x4ef)]?.[_0x134050(0x633)]??-0x1,_0x4b2efc=currentDisplayedQuiz[_0x134050(0x423)]===!![];let _0x4ee96f='';if(_0x4b2efc||_0x199c43!==-0x1){let _0x1ef171=_0x4b2efc?_0x3629ae===_0x39da75:_0x3629ae>=_0x199c43;const _0x469760=_0x1ef171?_0x134050(0x8e3):_0x134050(0x34f),_0x3bd20c=_0x1ef171?_0x134050(0x6b9):_0x134050(0x68f);_0x4ee96f=_0x134050(0x5c6)+_0x469760+'\x22>'+_0x3bd20c+_0x134050(0x706);}let _0x4b4aae=_0x134050(0x79f)+currentStudentName+_0x134050(0xac6)+_0x3629ae+_0x134050(0x590)+_0x39da75+_0x134050(0x9ab)+_0x4ee96f+_0x134050(0x32b)+_0x5105f2+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x283128['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x134050(0x7dc)][_0x134050(0xa64)]((_0x22908b,_0x71c163)=>{const _0x827b0e=_0x134050,_0x11afb2=_0x65e2c3[_0x71c163],_0x173fa3=_0x11afb2[_0x827b0e(0x7ce)],_0x1bf542=_0x11afb2['isCorrect'],_0x6f34d7=_0x22908b[_0x827b0e(0x832)]||currentDisplayedQuiz[_0x827b0e(0x519)];_0x4b4aae+=_0x827b0e(0x363)+(_0x1bf542?'border-green-300\x20bg-green-50':_0x827b0e(0x9f8))+_0x827b0e(0x6e6)+(_0x71c163+0x1)+'.\x20'+(_0x22908b['stem']||_0x22908b[_0x827b0e(0x821)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x6f34d7){case _0x827b0e(0x4b9):const _0x56a3a2=_0x173fa3||_0x827b0e(0x563),_0x3ee7c9=_0x22908b['correctResponse'];_0x4b4aae+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x1bf542?'line-through\x20text-red-700':'')+'\x22>'+_0x56a3a2+_0x827b0e(0x6de);!_0x1bf542&&(_0x4b4aae+=_0x827b0e(0x3bd)+_0x3ee7c9+_0x827b0e(0x706));break;case _0x827b0e(0x4dd):_0x4b4aae+=_0x827b0e(0xab0)+(_0x173fa3||_0x827b0e(0x563))+_0x827b0e(0x706),_0x4b4aae+=_0x827b0e(0x649)+_0x22908b[_0x827b0e(0x6c1)]+_0x827b0e(0x706);break;case _0x827b0e(0x82f):_0x4b4aae+=_0x827b0e(0x727)+(_0x22908b[_0x827b0e(0x5ee)]===!![]?_0x827b0e(0x7d5):'')+'\x20'+(_0x173fa3===_0x827b0e(0x744)&&!_0x1bf542?_0x827b0e(0x4ec):'')+_0x827b0e(0x276),_0x4b4aae+=_0x827b0e(0x727)+(_0x22908b[_0x827b0e(0x5ee)]===![]?_0x827b0e(0x7d5):'')+'\x20'+(_0x173fa3===_0x827b0e(0x5a9)&&!_0x1bf542?_0x827b0e(0x4ec):'')+_0x827b0e(0x618);break;default:_0x4b4aae+=_0x22908b[_0x827b0e(0x93f)][_0x827b0e(0x374)]((_0x4eab8b,_0x413768)=>{const _0x362b3c=_0x827b0e;let _0x101d4b='',_0x5c2de1='';if(_0x413768===_0x22908b[_0x362b3c(0x60e)])_0x101d4b=_0x362b3c(0x7d5),_0x5c2de1='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x413768===_0x173fa3&&(_0x101d4b=_0x362b3c(0x893),_0x5c2de1='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x101d4b+'\x22>'+_0x5c2de1+_0x4eab8b+_0x362b3c(0x598);})[_0x827b0e(0x7c3)]('');break;}_0x4b4aae+=_0x827b0e(0x9d4)+(_0x22908b['explanation']||_0x827b0e(0x96d))+_0x827b0e(0x598);if(!_0x1bf542){const _0x101c72=_0x22908b[_0x827b0e(0xae3)]||_0x22908b[_0x827b0e(0x821)];_0x4b4aae+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x101c72)+_0x827b0e(0x2eb);}_0x4b4aae+=_0x827b0e(0x598);}),studentResultArea['innerHTML']=_0x4b4aae,renderEarnedBadges(_0x5106d7,'earned-badges-container'),studentResultArea[_0x134050(0x683)][_0x134050(0x21f)](_0x134050(0x80f)),studentQuizArea[_0x134050(0x683)][_0x134050(0x816)](_0x134050(0x80f)),setupResultScreenBackButton({'isLooping':_0x2b7501,'score':_0x3629ae,'totalQuestions':_0x39da75,'showRankings':!![]});if(window[_0x134050(0x422)])window[_0x134050(0x422)][_0x134050(0x32a)]([studentResultArea]);}function displayResultsScoreOnly(_0xaea5b7,_0x5e42df,_0x3d3c7c,_0x480b11){const _0x1d6387=_0xe5be95,_0x2dc994=_0x480b11>0x0?_0xaea5b7/_0x480b11*0x64:0x0,_0x23be6b=currentDisplayedQuiz['settings']?.[_0x1d6387(0x633)]??-0x1,_0x1d25b2=currentDisplayedQuiz[_0x1d6387(0x423)]===!![];let _0x3b92c5='';if(_0x1d25b2||_0x23be6b!==-0x1){let _0x55ee29=_0x1d25b2?_0xaea5b7===_0x480b11:_0xaea5b7>=_0x23be6b;const _0x1308e5=_0x55ee29?_0x1d6387(0x8e3):'bg-red-100\x20text-red-800',_0x87d4f6=_0x55ee29?_0x1d6387(0x6b9):'ไม่ผ่าน';_0x3b92c5='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x1308e5+'\x22>'+_0x87d4f6+'</p>';}let _0x2d2430=_0x1d6387(0x432)+currentStudentName+_0x1d6387(0x73f)+_0xaea5b7+_0x1d6387(0x346)+_0x480b11+_0x1d6387(0x9ab)+_0x3b92c5+_0x1d6387(0x32b)+_0x5e42df+_0x1d6387(0x741)+_0x2dc994[_0x1d6387(0x8bb)](0x0)+_0x1d6387(0x734);studentResultArea[_0x1d6387(0x994)]=_0x2d2430,renderEarnedBadges(_0x3d3c7c,_0x1d6387(0x296)),studentResultArea[_0x1d6387(0x683)][_0x1d6387(0x21f)]('hidden'),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'score':_0xaea5b7,'totalQuestions':_0x480b11,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x72bdf3=_0xe5be95;let _0x5e0244=_0x72bdf3(0x5c9)+currentStudentName+_0x72bdf3(0x7b8);studentResultArea[_0x72bdf3(0x994)]=_0x5e0244,studentResultArea['classList'][_0x72bdf3(0x21f)]('hidden'),studentQuizArea['classList']['add'](_0x72bdf3(0x80f)),document[_0x72bdf3(0x7e4)](_0x72bdf3(0x499))[_0x72bdf3(0x8c2)](_0x72bdf3(0x75b),()=>{const _0xfcee22=_0x72bdf3;showView('student'),document[_0xfcee22(0x7e4)](_0xfcee22(0xad3))[_0xfcee22(0x2cd)]='';});}function renderEarnedBadges(_0x63042a,_0x35e507){const _0x5f4beb=_0xe5be95,_0x411197=document[_0x5f4beb(0x7e4)](_0x35e507);if(!_0x411197||!_0x63042a||_0x63042a['length']===0x0)return;let _0x1873cc='';_0x63042a[_0x5f4beb(0xa64)]((_0x6ebd5f,_0x2b2a4a)=>{const _0x117270=_0x5f4beb,_0x132f21=Object[_0x117270(0x605)](BADGES)[_0x117270(0x3fd)](_0x3573c5=>_0x3573c5['id']===_0x6ebd5f);_0x132f21&&(_0x1873cc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2b2a4a*0.2+_0x117270(0x9b4)+_0x132f21['description']+_0x117270(0xaa4)+_0x132f21[_0x117270(0x5c0)]+_0x117270(0x8bf)+_0x132f21[_0x117270(0x252)]+_0x117270(0x606));}),_0x411197['innerHTML']=_0x1873cc;}function startPresentation(_0x2d3a67){const _0x4bb7d1=_0xe5be95;currentQuizData=getShuffledQuiz(_0x2d3a67),currentPresentationSlide=0x0,presentationModal['style'][_0x4bb7d1(0x8f3)]=_0x4bb7d1(0x7f8),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2cf72d=_0xe5be95;document[_0x2cf72d(0xa2b)]&&document['exitFullscreen'](),presentationModal[_0x2cf72d(0xa0e)][_0x2cf72d(0x8f3)]='none';}function renderPresentationSlide(_0x4938f1){const _0x22f62c=_0xe5be95,_0x58dfda=document[_0x22f62c(0x7e4)](_0x22f62c(0x973));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x22f62c(0x7dc)][_0x4938f1]){_0x58dfda[_0x22f62c(0x994)]=_0x22f62c(0x6d5);return;}const _0x5c9709=currentQuizData[_0x22f62c(0x7dc)][_0x4938f1],_0x25f65e=_0x5c9709[_0x22f62c(0x832)]||currentQuizData['quizType'];_0x58dfda[_0x22f62c(0x994)]='';let _0x33523c=_0x22f62c(0x7d7)+(_0x5c9709['imageCode']?_0x22f62c(0x4b5)+_0x5c9709[_0x22f62c(0x82b)]+_0x22f62c(0x598):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x4938f1+0x1)+'.\x20'+(_0x5c9709[_0x22f62c(0xae3)]||_0x5c9709[_0x22f62c(0x821)])+_0x22f62c(0x76b);switch(_0x25f65e){case _0x22f62c(0x4b9):_0x33523c+=_0x5c9709[_0x22f62c(0x784)][_0x22f62c(0x374)](_0x2c7324=>_0x22f62c(0x1ee)+_0x2c7324+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case _0x22f62c(0x82f):_0x33523c+=_0x22f62c(0xa9f),_0x33523c+=_0x22f62c(0x37b);break;case _0x22f62c(0xa59):case'short_answer':_0x33523c+=_0x22f62c(0x7ae);break;case _0x22f62c(0x689):case _0x22f62c(0x999):default:_0x33523c+=_0x5c9709['options']['map']((_0x2c673d,_0xacd970)=>_0x22f62c(0x4eb)+_0xacd970+_0x22f62c(0x31a)+_0x2c673d+_0x22f62c(0x278))[_0x22f62c(0x7c3)]('');break;}_0x33523c+=_0x22f62c(0x894)+(_0x5c9709[_0x22f62c(0x555)]||_0x22f62c(0x96d))+_0x22f62c(0xa26),_0x58dfda[_0x22f62c(0x994)]=_0x33523c;if(window[_0x22f62c(0x422)])window[_0x22f62c(0x422)][_0x22f62c(0x32a)]([_0x58dfda]);let _0x295424=[];switch(_0x25f65e){case _0x22f62c(0x4b9):_0x295424=_0x5c9709[_0x22f62c(0x784)]||[];break;case _0x22f62c(0x82f):_0x295424=[_0x22f62c(0xad8),_0x22f62c(0x66a)];break;default:_0x295424=_0x5c9709[_0x22f62c(0x93f)]||[];break;}const _0x30d2c2=document['getElementById'](_0x22f62c(0xa74));_0x30d2c2&&(_0x30d2c2[_0x22f62c(0x844)]=()=>{openScratchpad(_0x5c9709,_0x295424);});document['querySelectorAll'](_0x22f62c(0x4ce))[_0x22f62c(0xa64)](_0x16f62a=>{const _0x3b14e3=_0x22f62c;_0x16f62a[_0x3b14e3(0x8c2)]('click',_0x1a4994=>revealAnswerForPresentation(_0x4938f1,_0x1a4994[_0x3b14e3(0x429)]));});const _0x5b06a4=document[_0x22f62c(0x7e4)](_0x22f62c(0xb08));_0x5b06a4&&_0x5b06a4[_0x22f62c(0x8c2)](_0x22f62c(0x75b),()=>checkShortAnswerForPresentation(_0x4938f1)),document[_0x22f62c(0x7e4)](_0x22f62c(0x681))[_0x22f62c(0x5c5)]=_0x22f62c(0x781)+(_0x4938f1+0x1)+'\x20/\x20'+currentQuizData['questions']['length'],document[_0x22f62c(0x7e4)](_0x22f62c(0x760))[_0x22f62c(0x7ac)]=_0x4938f1===0x0,document[_0x22f62c(0x7e4)](_0x22f62c(0x774))[_0x22f62c(0x7ac)]=_0x4938f1===currentQuizData['questions'][_0x22f62c(0x630)]-0x1;}async function checkShortAnswerForPresentation(_0x141ca3){const _0x1738ba=_0xe5be95,_0x1f28e7=currentQuizData[_0x1738ba(0x7dc)][_0x141ca3],_0x36e3c9=document['getElementById'](_0x1738ba(0x300)),_0x3d0567=document[_0x1738ba(0x7e4)](_0x1738ba(0xb08)),_0x1e59c6=document[_0x1738ba(0x7e4)](_0x1738ba(0xa82)),_0x32d1cd=document[_0x1738ba(0x7e4)]('presentation-explanation');if(!_0x36e3c9||!_0x3d0567||!_0x1e59c6||!_0x32d1cd)return;const _0x2d8473=_0x36e3c9[_0x1738ba(0x2cd)][_0x1738ba(0x7ab)]();if(_0x2d8473==='')return;_0x3d0567[_0x1738ba(0x7ac)]=!![],_0x3d0567[_0x1738ba(0x994)]=_0x1738ba(0x8f9),_0x36e3c9[_0x1738ba(0x7ac)]=!![];const _0x550c7f=await gradeShortAnswer(_0x2d8473,_0x1f28e7);_0x550c7f?_0x1e59c6[_0x1738ba(0x994)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x1e59c6[_0x1738ba(0x994)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x1f28e7[_0x1738ba(0x6c1)]+')',_0x1e59c6['classList'][_0x1738ba(0x21f)](_0x1738ba(0x80f)),_0x32d1cd['classList'][_0x1738ba(0x21f)](_0x1738ba(0x80f)),_0x3d0567[_0x1738ba(0x683)][_0x1738ba(0x816)](_0x1738ba(0x80f));}function revealAnswerForPresentation(_0x2d6053,_0x5ddc63){const _0x2b09df=_0xe5be95,_0x43fb06=currentQuizData[_0x2b09df(0x7dc)][_0x2d6053],_0x5c4bf1=_0x43fb06[_0x2b09df(0x832)]||currentQuizData['quizType'];document['querySelectorAll'](_0x2b09df(0x4ce))['forEach'](_0x316f26=>{const _0xa46de8=_0x2b09df;_0x316f26[_0xa46de8(0x7ac)]=!![],_0x316f26['classList']['remove'](_0xa46de8(0xada));let _0x18f6cc=![];if(_0x5c4bf1==='multiple_choice'||_0x5c4bf1===_0xa46de8(0x689)){const _0xfc01ec=parseInt(_0x316f26[_0xa46de8(0x4ee)][_0xa46de8(0x72e)]);_0x18f6cc=_0xfc01ec===_0x43fb06['correctAnswerIndex'];}else{if(_0x5c4bf1===_0xa46de8(0x82f)){const _0x53b3f3=_0x316f26[_0xa46de8(0x4ee)][_0xa46de8(0x7ce)]===_0xa46de8(0x744);_0x18f6cc=_0x53b3f3===_0x43fb06[_0xa46de8(0x5ee)];}else _0x5c4bf1===_0xa46de8(0x4b9)&&(_0x18f6cc=_0x316f26[_0xa46de8(0x5c5)][_0xa46de8(0x7ab)]()===_0x43fb06['correctResponse']);}_0x18f6cc?_0x316f26[_0xa46de8(0x683)][_0xa46de8(0x816)](_0xa46de8(0x5b0),_0xa46de8(0x851),_0xa46de8(0x48a)):_0x316f26['classList'][_0xa46de8(0x816)](_0xa46de8(0x6f3));}),_0x5ddc63['classList'][_0x2b09df(0x21f)](_0x2b09df(0x6f3));let _0x1b4e4a=![];if(_0x5c4bf1===_0x2b09df(0x999))_0x1b4e4a=parseInt(_0x5ddc63[_0x2b09df(0x4ee)][_0x2b09df(0x72e)])===_0x43fb06['correctAnswerIndex'];else{if(_0x5c4bf1===_0x2b09df(0x82f))_0x1b4e4a=_0x5ddc63['dataset'][_0x2b09df(0x7ce)]===_0x2b09df(0x744)===_0x43fb06[_0x2b09df(0x5ee)];else _0x5c4bf1==='matching_item'&&(_0x1b4e4a=_0x5ddc63[_0x2b09df(0x5c5)][_0x2b09df(0x7ab)]()===_0x43fb06['correctResponse']);}!_0x1b4e4a&&_0x5ddc63[_0x2b09df(0x683)][_0x2b09df(0x816)](_0x2b09df(0x281),_0x2b09df(0x851),_0x2b09df(0x7e5)),document['getElementById']('presentation-explanation')[_0x2b09df(0x683)][_0x2b09df(0x21f)](_0x2b09df(0x80f));}function startWholeQuizTimer(_0x16d1bb){const _0x4a70b1=_0xe5be95,_0x5b1c82=document[_0x4a70b1(0x7e4)](_0x4a70b1(0x8cf));if(!_0x5b1c82)return;const _0x4d4eee=Date['now']()+_0x16d1bb*0x3c*0x3e8;_0x5b1c82[_0x4a70b1(0x994)]=_0x4a70b1(0x7ef);const _0x2bdf15=document[_0x4a70b1(0x7e4)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x3cffb5=_0x4a70b1,_0x5e6c5e=_0x4d4eee-Date[_0x3cffb5(0x46e)]();if(_0x5e6c5e<=0x0)clearInterval(quizTimerInterval),_0x2bdf15['textContent']=_0x3cffb5(0x80e),showMessage(_0x3cffb5(0x77c)),handleSubmitQuiz(null);else{const _0x386d76=Math[_0x3cffb5(0x28c)](_0x5e6c5e/0x3e8/0x3c%0x3c)[_0x3cffb5(0x59e)]()['padStart'](0x2,'0'),_0x1a0892=Math['floor'](_0x5e6c5e/0x3e8%0x3c)[_0x3cffb5(0x59e)]()[_0x3cffb5(0x5da)](0x2,'0');_0x2bdf15['textContent']=_0x386d76+':'+_0x1a0892;}},0x3e8);}function renderPerQuestionView(){const _0x2d8391=_0xe5be95;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x191539=currentDisplayedQuiz[_0x2d8391(0x7dc)][currentQuestionIndex],_0x1992a1=_0x191539['questionType']||currentDisplayedQuiz['quizType'];let _0x440399='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x2d8391(0xb00)+currentDisplayedQuiz[_0x2d8391(0x7dc)]['length']+_0x2d8391(0x631)+(currentMode===_0x2d8391(0x7bb)?_0x2d8391(0x97a):'')+_0x2d8391(0x50e)+currentDisplayedQuiz[_0x2d8391(0xab8)]+_0x2d8391(0x642)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x2d8391(0x49b):_0x2d8391(0x4af))+_0x2d8391(0x4d0);studentQuizArea[_0x2d8391(0x994)]=_0x440399;let _0x595e75='',_0x385ebf='';switch(_0x1992a1){case _0x2d8391(0x4b9):_0x595e75=currentQuestionIndex+0x1+'.\x20'+_0x191539[_0x2d8391(0xae3)],_0x385ebf=_0x2d8391(0x6e3)+_0x191539[_0x2d8391(0x784)][_0x2d8391(0x374)](_0x2bd22d=>_0x2d8391(0x776)+_0x2bd22d+'\x22>'+_0x2bd22d+'</option>')['join']('')+_0x2d8391(0xa78);break;case _0x2d8391(0x82f):_0x595e75=currentQuestionIndex+0x1+'.\x20'+_0x191539['questionText'],_0x385ebf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x2d8391(0xa59):_0x595e75=currentQuestionIndex+0x1+'.\x20'+_0x191539[_0x2d8391(0x821)],_0x385ebf=_0x2d8391(0x251);break;case _0x2d8391(0x999):case'fill_in_with_choices':default:_0x595e75=currentQuestionIndex+0x1+'.\x20'+_0x191539[_0x2d8391(0x821)],_0x385ebf=_0x191539['options'][_0x2d8391(0x374)]((_0x435b6c,_0x63203f)=>_0x2d8391(0x599)+_0x63203f+_0x2d8391(0x3eb)+_0x63203f+_0x2d8391(0x456)+_0x63203f+'\x22>'+_0x435b6c+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x191539[_0x2d8391(0x82b)]&&(_0x595e75+=_0x2d8391(0x4b5)+_0x191539[_0x2d8391(0x82b)]+_0x2d8391(0x598));document[_0x2d8391(0x7e4)](_0x2d8391(0x8d0))[_0x2d8391(0x994)]=_0x595e75,document[_0x2d8391(0x7e4)](_0x2d8391(0x93d))[_0x2d8391(0x994)]=_0x385ebf;if(currentMode===_0x2d8391(0x7bb)){const _0x440031=document[_0x2d8391(0x7e4)](_0x2d8391(0x977));if(_0x440031)_0x440031['addEventListener']('click',cancelAdminTest);}document[_0x2d8391(0x7e4)](_0x2d8391(0x3f1))[_0x2d8391(0x8c2)](_0x2d8391(0x75b),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x2d8391(0x422)][_0x2d8391(0x32a)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x43f96b=_0xe5be95,_0x32d369=currentDisplayedQuiz[_0x43f96b(0x4ef)][_0x43f96b(0x828)],_0xbc3615=document[_0x43f96b(0x7e4)]('per-question-timer-container');if(!_0xbc3615)return;let _0x13c8f4=_0x32d369;_0xbc3615[_0x43f96b(0x994)]=_0x43f96b(0x4e2)+_0x13c8f4+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x162e55=document[_0x43f96b(0x7e4)](_0x43f96b(0x979)),_0x548d5=document[_0x43f96b(0x7e4)](_0x43f96b(0x42c));perQuestionTimerInterval=setInterval(()=>{const _0x507abe=_0x43f96b;_0x13c8f4--;const _0x33f511=_0x13c8f4/_0x32d369*0x64;_0x162e55[_0x507abe(0xa0e)]['width']=_0x33f511+'%',_0x548d5[_0x507abe(0x5c5)]=_0x13c8f4,_0x13c8f4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x507abe(0x4ab)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x25e29e=![]){const _0x43ecab=_0xe5be95;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x390b96=null;if(!_0x25e29e){const _0x281702=currentDisplayedQuiz[_0x43ecab(0x7dc)][currentQuestionIndex],_0x619af1=_0x281702[_0x43ecab(0x832)]||currentDisplayedQuiz[_0x43ecab(0x519)];if(_0x619af1==='short_answer'||_0x619af1===_0x43ecab(0xa59)){const _0x5b5b18=document['querySelector']('#per-question-options\x20textarea');_0x390b96=_0x5b5b18?_0x5b5b18['value'][_0x43ecab(0x7ab)]():'';}else{if(_0x619af1===_0x43ecab(0x4b9)){const _0x10ad78=document[_0x43ecab(0x9e6)](_0x43ecab(0x7af));_0x390b96=_0x10ad78?_0x10ad78[_0x43ecab(0x2cd)]:'';}else{const _0x44619f=document[_0x43ecab(0x9e6)](_0x43ecab(0x726));if(_0x44619f){const _0x3304d9=_0x44619f['value'];_0x390b96=!isNaN(parseInt(_0x3304d9,0xa))&&_0x3304d9[_0x43ecab(0x7ab)]()!==''?parseInt(_0x3304d9,0xa):_0x3304d9;}}}}studentAnswersPerQuestion[_0x43ecab(0x4a9)](_0x390b96),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x43ecab(0x630)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x5301d5=_0xe5be95,_0x5e9ef7=currentDisplayedQuiz[_0x5301d5(0x7dc)][_0x5301d5(0xa66)](_0x81ca7a=>_0x81ca7a[_0x5301d5(0x832)]===_0x5301d5(0x4dd));_0x5e9ef7?showMessage(_0x5301d5(0x791)):showMessage(_0x5301d5(0xa08));const _0x2ae71e=currentQuizData['id'],_0x201763=doc(db,_0x5301d5(0x62e)+appId+_0x5301d5(0x9f7)+_0x2ae71e+_0x5301d5(0xa52),currentStudentName),_0xec6e56=await getDoc(_0x201763),_0x51749a=_0xec6e56[_0x5301d5(0xafe)]()?_0xec6e56[_0x5301d5(0x291)]():{},_0x1bfd27=_0x51749a[_0x5301d5(0x8a7)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1bfd27);}function getResultsFilename(){const _0x37e54b=_0xe5be95,_0x578b22=document[_0x37e54b(0x7e4)](_0x37e54b(0x328))[_0x37e54b(0x5c5)][_0x37e54b(0x28b)](/[^a-z0-9]/gi,'_')[_0x37e54b(0x7cc)]();return'results_'+(_0x578b22||_0x37e54b(0x78f));}function exportResultsAsImage(){const _0x1b6617=_0xe5be95,_0x1dd637=document[_0x1b6617(0x7e4)](_0x1b6617(0x202));showMessage(_0x1b6617(0xaa6)),html2canvas(_0x1dd637)['then'](_0x382979=>{const _0xccdf09=_0x1b6617,_0x3e2573=document[_0xccdf09(0x8fa)]('a');_0x3e2573[_0xccdf09(0x6d6)]=getResultsFilename()+_0xccdf09(0x383),_0x3e2573['href']=_0x382979['toDataURL']('image/png'),_0x3e2573[_0xccdf09(0x75b)](),messageModal[_0xccdf09(0x683)][_0xccdf09(0x816)](_0xccdf09(0x80f));});}function exportResultsAsPDF(){const _0x42ed87=_0xe5be95,{jsPDF:_0x5bdf8c}=window[_0x42ed87(0x76c)],_0x34ccbb=new _0x5bdf8c();_0x34ccbb[_0x42ed87(0x2c7)](_0x42ed87(0x3be),_0x42ed87(0x9bb)),_0x34ccbb[_0x42ed87(0x3ee)]({'html':_0x42ed87(0x44f)}),_0x34ccbb[_0x42ed87(0x47c)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x328a27=_0xe5be95,_0x5586ff=_0x328a27(0x26b)+_0x328a27(0x667)+_0x328a27(0x7c0)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x121c4b=_0x328a27(0xaf5),_0x20a6b3=_0x5586ff+document[_0x328a27(0x7e4)](_0x328a27(0x202))[_0x328a27(0x994)]+_0x121c4b,_0x43157e='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x20a6b3),_0x5c1993=document[_0x328a27(0x8fa)]('a');document[_0x328a27(0x939)][_0x328a27(0x964)](_0x5c1993),_0x5c1993[_0x328a27(0x986)]=_0x43157e,_0x5c1993[_0x328a27(0x6d6)]=getResultsFilename()+'.doc',_0x5c1993[_0x328a27(0x75b)](),document[_0x328a27(0x939)][_0x328a27(0x340)](_0x5c1993);}function exportResultsAsExcel(){const _0x267be3=_0xe5be95,_0x40812a=document[_0x267be3(0x7e4)](_0x267be3(0x959));let _0x2e480b=[];for(let _0x2e96e3=0x0;_0x2e96e3<_0x40812a[_0x267be3(0x5ec)][_0x267be3(0x630)];_0x2e96e3++){let _0x29563c=[],_0x2098fc=_0x40812a[_0x267be3(0x5ec)][_0x2e96e3]['querySelectorAll'](_0x267be3(0x221));for(let _0x4fc344=0x0;_0x4fc344<_0x2098fc['length'];_0x4fc344++){_0x29563c['push']('\x22'+_0x2098fc[_0x4fc344][_0x267be3(0xaac)][_0x267be3(0x28b)](/"/g,'\x22\x22')+'\x22');}_0x2e480b[_0x267be3(0x4a9)](_0x29563c[_0x267be3(0x7c3)](','));}const _0x1801f3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2e480b[_0x267be3(0x7c3)]('\x0a')],{'type':_0x267be3(0x722)}),_0x51126a=document[_0x267be3(0x8fa)]('a');_0x51126a[_0x267be3(0x986)]=URL[_0x267be3(0x792)](_0x1801f3),_0x51126a[_0x267be3(0x6d6)]=getResultsFilename()+'.csv',_0x51126a['click']();}function exportTableAsImage(_0x2ff869,_0x3cb1cd){const _0x25d7ac=_0xe5be95,_0x5aaf67=document['getElementById'](_0x2ff869);if(!_0x5aaf67){showMessage(_0x25d7ac(0x34e));return;}showMessage(_0x25d7ac(0xaa6)),html2canvas(_0x5aaf67)['then'](_0x17d1c8=>{const _0x2f82d6=_0x25d7ac,_0x12ff49=document[_0x2f82d6(0x8fa)]('a');_0x12ff49[_0x2f82d6(0x6d6)]=_0x3cb1cd+_0x2f82d6(0x383),_0x12ff49['href']=_0x17d1c8['toDataURL'](_0x2f82d6(0x232)),_0x12ff49[_0x2f82d6(0x75b)](),messageModal[_0x2f82d6(0x683)][_0x2f82d6(0x816)](_0x2f82d6(0x80f));});}function exportTableAsPDF(_0x419646,_0x3fa399){const _0x35587c=_0xe5be95,{jsPDF:_0x58a89b}=window['jspdf'],_0x133796=new _0x58a89b();_0x133796['setFont'](_0x35587c(0x3be),_0x35587c(0x9bb)),_0x133796[_0x35587c(0x3ee)]({'html':'#'+_0x419646}),_0x133796[_0x35587c(0x47c)](_0x3fa399+_0x35587c(0xa71));}function exportTableAsWord(_0x43357b,_0x2f9060){const _0xd0f7c3=_0xe5be95,_0x3ad611=document['getElementById'](_0x43357b);if(!_0x3ad611){showMessage(_0xd0f7c3(0x34e));return;}const _0xe0f10=_0xd0f7c3(0x26b)+_0xd0f7c3(0x667)+_0xd0f7c3(0x7c0)+_0xd0f7c3(0x9f0),_0x195d98=_0xd0f7c3(0xaf5),_0x2a2dbd=_0xe0f10+_0x3ad611['innerHTML']+_0x195d98,_0x4ca6b4=_0xd0f7c3(0x3ca)+encodeURIComponent(_0x2a2dbd),_0x2d5aa1=document[_0xd0f7c3(0x8fa)]('a');document[_0xd0f7c3(0x939)][_0xd0f7c3(0x964)](_0x2d5aa1),_0x2d5aa1[_0xd0f7c3(0x986)]=_0x4ca6b4,_0x2d5aa1[_0xd0f7c3(0x6d6)]=_0x2f9060+_0xd0f7c3(0x6f4),_0x2d5aa1[_0xd0f7c3(0x75b)](),document[_0xd0f7c3(0x939)][_0xd0f7c3(0x340)](_0x2d5aa1);}function exportTableAsExcel(_0x15ecc0,_0x4dac0a){const _0x4dc13d=_0xe5be95,_0x2007c1=document[_0x4dc13d(0x7e4)](_0x15ecc0);if(!_0x2007c1){showMessage(_0x4dc13d(0x34e));return;}let _0x104e65=[];for(let _0x262bfa=0x0;_0x262bfa<_0x2007c1[_0x4dc13d(0x5ec)][_0x4dc13d(0x630)];_0x262bfa++){let _0x389471=[],_0x4a3498=_0x2007c1['rows'][_0x262bfa]['querySelectorAll'](_0x4dc13d(0x221));for(let _0x456b33=0x0;_0x456b33<_0x4a3498[_0x4dc13d(0x630)];_0x456b33++){_0x389471[_0x4dc13d(0x4a9)]('\x22'+_0x4a3498[_0x456b33][_0x4dc13d(0xaac)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x104e65[_0x4dc13d(0x4a9)](_0x389471[_0x4dc13d(0x7c3)](','));}const _0x3f6619=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x104e65[_0x4dc13d(0x7c3)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x34c31f=document['createElement']('a');_0x34c31f[_0x4dc13d(0x986)]=URL[_0x4dc13d(0x792)](_0x3f6619),_0x34c31f[_0x4dc13d(0x6d6)]=_0x4dac0a+'.csv',_0x34c31f['click']();}function renderAnalytics(_0x22586d,_0x2876d0){const _0x5f1598=_0xe5be95,_0x51d40a=_0x2876d0[_0x5f1598(0x670)](_0x509bc4=>_0x509bc4['latestScore']!==undefined),_0x7e280b=currentProjectData[_0x5f1598(0x2f0)]['length'],_0x3ab9d3=_0x51d40a[_0x5f1598(0x630)],_0xbddd23=_0x7e280b-_0x3ab9d3,_0x37008e=_0x7e280b>0x0?_0x3ab9d3/_0x7e280b*0x64:0x0,_0x54480c=_0x51d40a['map'](_0x40adf3=>_0x40adf3[_0x5f1598(0xa2f)]),_0x440f9b=_0x54480c[_0x5f1598(0x630)]>0x0?_0x54480c[_0x5f1598(0x7f6)]((_0x28540e,_0x191b8b)=>_0x28540e+_0x191b8b,0x0)/_0x54480c['length']:0x0,_0x190ecc=_0x22586d[_0x5f1598(0x7dc)][_0x5f1598(0x630)],_0x460a52=_0x190ecc>0x0?_0x440f9b/_0x190ecc*0x64:0x0,_0x4ef9e0=calculateItemAnalysis(_0x22586d,_0x51d40a),_0x318a72=calculateReliabilityKR20(_0x22586d,_0x51d40a,_0x4ef9e0[_0x5f1598(0x496)]);let _0xe46150='';if(_0x318a72!==null){let _0x1effd0='';if(_0x318a72>=0.9)_0x1effd0=_0x5f1598(0x6ce);else{if(_0x318a72>=0.8)_0x1effd0=_0x5f1598(0x708);else{if(_0x318a72>=0.7)_0x1effd0='ดี';else{if(_0x318a72>=0.6)_0x1effd0='พอใช้';else _0x1effd0=_0x5f1598(0x83c);}}}_0xe46150=_0x5f1598(0x51e)+_0x318a72['toFixed'](0x2)+_0x5f1598(0x9de)+_0x1effd0+_0x5f1598(0xb03);}const _0x52bf86=document[_0x5f1598(0x7e4)]('analytics-summary-cards');_0x52bf86['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x37008e[_0x5f1598(0x8bb)](0x0)+_0x5f1598(0x756)+_0x3ab9d3+'/'+_0x7e280b+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x440f9b['toFixed'](0x2)+_0x5f1598(0x7c2)+_0x460a52[_0x5f1598(0x8bb)](0x0)+_0x5f1598(0x841)+(_0x54480c[_0x5f1598(0x630)]>0x0?Math[_0x5f1598(0x2de)](..._0x54480c):_0x5f1598(0xb0e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x54480c['length']>0x0?Math[_0x5f1598(0x8ee)](..._0x54480c):_0x5f1598(0xb0e))+_0x5f1598(0x21e)+_0xe46150+_0x5f1598(0x890);const _0x447d16=document[_0x5f1598(0x7e4)](_0x5f1598(0x222));_0x447d16&&_0x447d16[_0x5f1598(0x21f)]();const _0x35413b=_0x5f1598(0x9e0);_0x52bf86['insertAdjacentHTML'](_0x5f1598(0x322),_0x35413b);const _0x4f65f0=currentProjectData[_0x5f1598(0x2f0)]||[];renderSubmissionChart(_0x3ab9d3,_0xbddd23,_0x51d40a,_0x4f65f0),renderScoreDistributionChart(_0x51d40a,_0x190ecc),renderQuestionAnalytics(_0x22586d,_0x51d40a,_0x4f65f0),renderInterestingStats(_0x22586d,_0x51d40a);}async function handleExportLessonPDF(){const _0x503fea=_0xe5be95,_0x37796e=document[_0x503fea(0x7e4)](_0x503fea(0x96e)),_0x677195=document[_0x503fea(0x7e4)](_0x503fea(0x616))['textContent'],_0x919275=window[_0x503fea(0xa90)]('',_0x503fea(0x392)),_0x267bce=_0x503fea(0x7fa)+_0x677195+_0x503fea(0x30d)+_0x37796e[_0x503fea(0x994)]+_0x503fea(0x260);_0x919275[_0x503fea(0xa1c)][_0x503fea(0x27e)](_0x267bce),_0x919275[_0x503fea(0xa1c)][_0x503fea(0x8fb)](),_0x919275[_0x503fea(0x25a)]=function(){setTimeout(()=>{_0x919275['print']();},0x5dc);};}function renderInterestingStats(_0x2981fd,_0x209d3b){const _0x480d01=_0xe5be95,_0xea6180=document[_0x480d01(0x7e4)]('interesting-stats-container');if(!_0xea6180)return;if(_0x209d3b['length']===0x0){_0xea6180[_0x480d01(0x994)]=_0x480d01(0x424);return;}const _0x4da20e=_0x2981fd[_0x480d01(0x7dc)][_0x480d01(0x374)]((_0x2cfaef,_0x578f56)=>({'index':_0x578f56+0x1,'text':_0x2cfaef[_0x480d01(0x821)]||_0x2cfaef[_0x480d01(0xae3)],'correct':0x0}));_0x209d3b[_0x480d01(0xa64)](_0x34e433=>{const _0x528929=_0x480d01,_0x1d92f4=_0x34e433[_0x528929(0x8a7)][_0x34e433[_0x528929(0x8a7)][_0x528929(0x630)]-0x1];_0x1d92f4&&_0x1d92f4[_0x528929(0x1fe)]&&_0x1d92f4['answers'][_0x528929(0xa64)](_0x1fc2c4=>{const _0x1a1d20=_0x528929,_0x1dc5d7=_0x4da20e[_0x1a1d20(0x3fd)](_0x4fde5e=>_0x4fde5e['text']===_0x1fc2c4[_0x1a1d20(0x862)]);_0x1fc2c4[_0x1a1d20(0x2f3)]&&_0x1dc5d7&&_0x1dc5d7['correct']++;});});const _0x338f12=_0x209d3b[_0x480d01(0x630)],_0x3bc48b=Math[_0x480d01(0x2de)](..._0x4da20e[_0x480d01(0x374)](_0x1a839f=>_0x1a839f[_0x480d01(0x5d6)])),_0x5dda7c=Math[_0x480d01(0x8ee)](..._0x4da20e['map'](_0x36d3a7=>_0x36d3a7[_0x480d01(0x5d6)])),_0x297f25=_0x4da20e[_0x480d01(0x670)](_0x19ba8f=>_0x19ba8f[_0x480d01(0x5d6)]===_0x3bc48b)['map'](_0x116fc6=>'ข้อ\x20'+_0x116fc6['index']),_0x5e8704=_0x4da20e['filter'](_0x48c91c=>_0x48c91c['correct']===_0x5dda7c)[_0x480d01(0x374)](_0x5610a4=>_0x480d01(0x5aa)+_0x5610a4[_0x480d01(0x72e)]),_0x4d135e=_0x209d3b[_0x480d01(0x6a1)]((_0x517f88,_0x5f3b3f)=>_0x5f3b3f[_0x480d01(0xa2f)]-_0x517f88[_0x480d01(0xa2f)])['filter']((_0x3fcd67,_0x55436f,_0x155b5c)=>_0x3fcd67[_0x480d01(0xa2f)]===_0x155b5c[0x0][_0x480d01(0xa2f)]),_0x481ac3=_0x209d3b['sort']((_0x224a15,_0x34940d)=>_0x224a15[_0x480d01(0xa2f)]-_0x34940d['latestScore'])['filter']((_0x1cb189,_0x2ba0c0,_0x2f9283)=>_0x1cb189[_0x480d01(0xa2f)]===_0x2f9283[0x0][_0x480d01(0xa2f)]),_0x1dfad0=_0x480d01(0x845)+_0x297f25[_0x480d01(0x7c3)](',\x20')+_0x480d01(0x971)+_0x3bc48b+_0x480d01(0x70f)+_0x338f12+_0x480d01(0x870)+_0x5e8704[_0x480d01(0x7c3)](',\x20')+_0x480d01(0x971)+(_0x338f12-_0x5dda7c)+_0x480d01(0x70f)+_0x338f12+_0x480d01(0x41d)+_0x4d135e[_0x480d01(0x374)](_0x5d8049=>_0x5d8049['studentName'])[_0x480d01(0x7c3)](',\x20')+_0x480d01(0x8ac)+_0x4d135e[0x0][_0x480d01(0xa2f)]+_0x480d01(0x9e4)+_0x481ac3[_0x480d01(0x374)](_0x4a592d=>_0x4a592d[_0x480d01(0xa96)])[_0x480d01(0x7c3)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x481ac3[0x0][_0x480d01(0xa2f)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xea6180[_0x480d01(0x994)]=_0x1dfad0;}function renderSubmissionChart(_0x255355,_0x40943b,_0x28c1ab,_0x52f1a9){const _0x13350e=_0xe5be95,_0x30ffbb=document[_0x13350e(0x7e4)]('submission-status-chart')[_0x13350e(0x97f)]('2d'),_0x61d7b6=_0x28c1ab[_0x13350e(0x374)](_0x21a53e=>_0x21a53e['studentName']),_0x2d6a5f=_0x52f1a9[_0x13350e(0x670)](_0x42f200=>!_0x61d7b6['includes'](_0x42f200));chartInstances['submission']&&chartInstances[_0x13350e(0x7d3)][_0x13350e(0x211)](),chartInstances[_0x13350e(0x7d3)]=new Chart(_0x30ffbb,{'type':'doughnut','data':{'labels':[_0x13350e(0x33d),_0x13350e(0x815)],'datasets':[{'data':[_0x255355,_0x40943b],'backgroundColor':[_0x13350e(0x3e8),_0x13350e(0x704)],'borderColor':[_0x13350e(0x8c8),_0x13350e(0x8c8)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x13350e(0xa43)},'tooltip':{'callbacks':{'label':function(_0x36f4c3){const _0x862cd3=_0x13350e;let _0x48dcae=_0x36f4c3[_0x862cd3(0x723)]||'';return _0x48dcae&&(_0x48dcae+=':\x20'),_0x48dcae+=_0x36f4c3[_0x862cd3(0x2d0)],_0x48dcae;},'afterLabel':function(_0x292348){const _0x50a13b=_0x13350e;let _0x30d764;return _0x292348[_0x50a13b(0x4c5)]===0x0?_0x30d764=_0x61d7b6:_0x30d764=_0x2d6a5f,_0x30d764[_0x50a13b(0x630)]>0x0?_0x30d764[_0x50a13b(0x7c3)]('\x0a'):_0x50a13b(0xa1f);}}}}}});}function renderScoreDistributionChart(_0x2c9b04,_0x56f118){const _0x25af43=_0xe5be95,_0x2dae89=document['getElementById'](_0x25af43(0x2db))['getContext']('2d'),_0x58517e={};for(let _0x53f3b1=0x0;_0x53f3b1<=_0x56f118;_0x53f3b1++){_0x58517e[_0x53f3b1]=0x0;}_0x2c9b04[_0x25af43(0xa64)](_0x267bc7=>{const _0x6b58c8=_0x25af43;_0x58517e[_0x267bc7[_0x6b58c8(0xa2f)]]!==undefined&&_0x58517e[_0x267bc7[_0x6b58c8(0xa2f)]]++;}),chartInstances[_0x25af43(0x32e)]&&chartInstances[_0x25af43(0x32e)][_0x25af43(0x211)](),chartInstances['score']=new Chart(_0x2dae89,{'type':_0x25af43(0x713),'data':{'labels':Object['keys'](_0x58517e),'datasets':[{'label':_0x25af43(0xa7d),'data':Object[_0x25af43(0x605)](_0x58517e),'backgroundColor':_0x25af43(0x6e4),'borderColor':_0x25af43(0x915),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x25af43(0x399)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5e89ff){const _0x520712=_0x25af43,_0x1714c1=_0x5e89ff[_0x520712(0x723)],_0x2f202f=_0x2c9b04[_0x520712(0x670)](_0x30a122=>_0x30a122[_0x520712(0xa2f)]==_0x1714c1)[_0x520712(0x374)](_0x34b9f3=>_0x34b9f3[_0x520712(0xa96)]);return _0x2f202f[_0x520712(0x630)]>0x0?_0x2f202f[_0x520712(0x7c3)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x96d5cd,_0x279fa3,_0x3ed794){const _0x43b2fc=_0xe5be95,_0x14c6e0=document['getElementById'](_0x43b2fc(0xae4));if(_0x3ed794[_0x43b2fc(0x630)]===0x0){_0x14c6e0[_0x43b2fc(0x994)]=_0x43b2fc(0x2a5);return;}const _0x3f4cff=calculateItemAnalysis(_0x96d5cd,_0x279fa3),_0x231515=calculateDistractorAnalysis(_0x96d5cd,_0x279fa3);let _0x3cfca7='';_0x3f4cff[_0x43b2fc(0x516)]&&(_0x3cfca7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3f4cff['overallGroups']['upperGroupNames']['length']+_0x43b2fc(0x711)+_0x3f4cff[_0x43b2fc(0x516)][_0x43b2fc(0x885)][_0x43b2fc(0x374)](_0x456801=>_0x43b2fc(0x235)+_0x456801+_0x43b2fc(0x9f4))[_0x43b2fc(0x7c3)]('')+_0x43b2fc(0x769)+_0x3f4cff[_0x43b2fc(0x516)][_0x43b2fc(0x869)]['length']+_0x43b2fc(0x711)+_0x3f4cff[_0x43b2fc(0x516)]['lowerGroupNames'][_0x43b2fc(0x374)](_0x5526b1=>_0x43b2fc(0x235)+_0x5526b1+_0x43b2fc(0x9f4))[_0x43b2fc(0x7c3)]('')+_0x43b2fc(0x68b));let _0x1dcec5='';const _0x3fdf16=_0x279fa3[_0x43b2fc(0x374)](_0x45275d=>_0x45275d['studentName']),_0x1bb773=_0x1a4baa=>{const _0x467453=_0x43b2fc;if(_0x1a4baa>=0.8)return _0x467453(0x608);if(_0x1a4baa>=0.6)return _0x467453(0x91c);if(_0x1a4baa>=0.4)return _0x467453(0xa9c);if(_0x1a4baa>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x467453(0x965);},_0x4f9fec=_0x47e821=>{const _0x2592d0=_0x43b2fc;if(_0x47e821<0x0)return _0x2592d0(0x886);if(_0x47e821>=0.4)return _0x2592d0(0xa37);if(_0x47e821>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x47e821>=0.2)return _0x2592d0(0x8ab);return _0x2592d0(0x8ad);},_0x492e12=_0x503f6d=>{const _0x43db5e=_0x43b2fc,_0x582d7a=_0x503f6d[_0x43db5e(0x8bb)](0x0);if(parseFloat(_0x582d7a)===0x64)return _0x43db5e(0x8de)+_0x582d7a+_0x43db5e(0x465);if(_0x503f6d>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x582d7a+_0x43db5e(0x465);return _0x43db5e(0x97d)+_0x582d7a+_0x43db5e(0x465);};_0x96d5cd['questions'][_0x43b2fc(0xa64)]((_0x5dfb16,_0x198f40)=>{const _0x109af9=_0x43b2fc,_0x12f9f7=_0x3f4cff['perQuestionStats'][_0x198f40],_0x25790d=_0x231515[_0x198f40],_0x527c60=_0x5dfb16[_0x109af9(0xae3)]||_0x5dfb16[_0x109af9(0x821)]||_0x5dfb16[_0x109af9(0xab3)];let _0x5eb33e=0x0;const _0xdda78f=[],_0x36ec85=[];_0x279fa3[_0x109af9(0xa64)](_0x48aa96=>{const _0x15a7f8=_0x109af9,_0x447c30=_0x48aa96['attempts'][_0x48aa96[_0x15a7f8(0x8a7)][_0x15a7f8(0x630)]-0x1];if(_0x447c30&&_0x447c30[_0x15a7f8(0x1fe)]){const _0x27db76=_0x447c30[_0x15a7f8(0x1fe)][_0x15a7f8(0x3fd)](_0x30e37c=>_0x30e37c['originalQuestionText']===_0x527c60)??_0x447c30[_0x15a7f8(0x1fe)][_0x198f40]??null;_0x27db76&&(_0x27db76[_0x15a7f8(0x2f3)]?(_0x5eb33e++,_0xdda78f['push'](_0x48aa96[_0x15a7f8(0xa96)])):_0x36ec85['push'](_0x48aa96[_0x15a7f8(0xa96)]));}});const _0x3eddb3=_0x279fa3[_0x109af9(0x630)]>0x0?_0x5eb33e/_0x279fa3[_0x109af9(0x630)]*0x64:0x0,_0x2d0baa=_0x3ed794['filter'](_0x555a63=>!_0x3fdf16['includes'](_0x555a63)),_0x233d7e=_0x12f9f7?_0x109af9(0x68e)+_0x12f9f7['p'][_0x109af9(0x8bb)](0x2)+_0x109af9(0x5dc)+_0x1bb773(_0x12f9f7['p'])+_0x109af9(0x834)+_0x12f9f7['r'][_0x109af9(0x8bb)](0x2)+_0x109af9(0x5dc)+_0x4f9fec(_0x12f9f7['r'])+_0x109af9(0xad5)+_0x492e12(_0x3eddb3)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x35cf95='';_0x25790d&&(_0x35cf95=_0x109af9(0x4a7)+Object[_0x109af9(0x487)](_0x25790d)[_0x109af9(0x374)](_0x5530b5=>{const _0x31c1ab=_0x109af9,_0x2a9178=_0x25790d[_0x5530b5],_0x506295=parseInt(_0x5530b5)===_0x5dfb16[_0x31c1ab(0x60e)],_0x3133e4=!_0x506295&&_0x2a9178['lower_group_count']>_0x2a9178[_0x31c1ab(0x40c)];return _0x31c1ab(0x80d)+(_0x506295?'bg-green-100\x20font-bold':'')+_0x31c1ab(0x8e8)+(_0x506295?'✔\x20':'')+_0x2a9178[_0x31c1ab(0x428)]+_0x31c1ab(0x29d)+_0x2a9178[_0x31c1ab(0x40c)]+_0x31c1ab(0x29d)+_0x2a9178[_0x31c1ab(0x953)]+'\x20'+(_0x3133e4?'👍':'')+_0x31c1ab(0x29d)+_0x2a9178[_0x31c1ab(0xaa9)]+'</td></tr>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x1697f6='';_0x12f9f7&&_0x12f9f7['upperGroupResponders']&&(_0x1697f6=_0x109af9(0x764)+_0x12f9f7[_0x109af9(0x4b8)][_0x109af9(0x630)]+_0x109af9(0x293)+_0x12f9f7[_0x109af9(0x4b8)][_0x109af9(0x374)](_0x46ef48=>_0x109af9(0x235)+(_0x46ef48['isCorrect']?_0x109af9(0xaf2):_0x109af9(0xaa7))+'\x20'+_0x46ef48[_0x109af9(0x252)]+'</li>')[_0x109af9(0x7c3)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x12f9f7[_0x109af9(0x661)][_0x109af9(0x630)]+_0x109af9(0x293)+_0x12f9f7[_0x109af9(0x661)][_0x109af9(0x374)](_0x1a7875=>'<li>'+(_0x1a7875[_0x109af9(0x2f3)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1a7875[_0x109af9(0x252)]+_0x109af9(0x9f4))['join']('')+_0x109af9(0x6e8)),_0x1dcec5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x198f40+0x1)+':\x20'+_0x527c60+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x233d7e+_0x109af9(0x728)+_0x527c60+_0x109af9(0x86d)+_0x5eb33e+'\x20จาก\x20'+_0x279fa3['length']+_0x109af9(0x263)+_0x3eddb3[_0x109af9(0x8bb)](0x0)+_0x109af9(0x4f7)+_0xdda78f[_0x109af9(0x630)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xdda78f['length']>0x0?_0xdda78f[_0x109af9(0x7c3)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x36ec85[_0x109af9(0x630)]+_0x109af9(0x879)+(_0x36ec85[_0x109af9(0x630)]>0x0?_0x36ec85['join'](',\x20'):'ไม่มี')+_0x109af9(0x72f)+_0x2d0baa[_0x109af9(0x630)]+_0x109af9(0x879)+(_0x2d0baa[_0x109af9(0x630)]>0x0?_0x2d0baa['join'](',\x20'):_0x109af9(0xa1f))+_0x109af9(0x421)+_0x35cf95+_0x109af9(0xb01)+_0x1697f6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x14c6e0[_0x43b2fc(0x994)]=_0x3cfca7+_0x1dcec5;try{window['MathJax']&&MathJax[_0x43b2fc(0x32a)]&&MathJax[_0x43b2fc(0x32a)]([_0x14c6e0]);}catch(_0x5ae7e5){console[_0x43b2fc(0x72a)](_0x43b2fc(0x56a),_0x5ae7e5);}}function calculateDistractorAnalysis(_0x1e444a,_0xfd3040){const _0x53a2b7=_0xe5be95,_0x33dec8={};if(_0xfd3040[_0x53a2b7(0x630)]<0x2)return _0x33dec8;const _0x52e094=[..._0xfd3040]['sort']((_0x308414,_0x6c53fe)=>{const _0x34926a=_0x53a2b7,_0x32a2dd=_0x6c53fe[_0x34926a(0xa2f)]-_0x308414[_0x34926a(0xa2f)];if(_0x32a2dd!==0x0)return _0x32a2dd;const _0x3c918e=_0x308414[_0x34926a(0x8a7)]?.[_0x34926a(0x630)]||0x1,_0x3a8011=_0x6c53fe[_0x34926a(0x8a7)]?.[_0x34926a(0x630)]||0x1,_0x5f52ec=_0x3c918e-_0x3a8011;if(_0x5f52ec!==0x0)return _0x5f52ec;const _0x3e0699=new Date(_0x308414[_0x34926a(0x90f)]),_0x170ccf=new Date(_0x6c53fe[_0x34926a(0x90f)]),_0x52300d=_0x3e0699-_0x170ccf;if(_0x52300d!==0x0)return _0x52300d;return _0x308414[_0x34926a(0xa96)]['localeCompare'](_0x6c53fe[_0x34926a(0xa96)],'th');}),_0x12f478=_0x52e094[_0x53a2b7(0x630)],_0x180e8e=Math[_0x53a2b7(0x2de)](0x1,Math[_0x53a2b7(0x28c)](_0x12f478*0.33)),_0x1e4012=_0x52e094[_0x53a2b7(0xa51)](0x0,_0x180e8e),_0x2c0629=_0x52e094[_0x53a2b7(0xa51)](-_0x180e8e);return _0x1e444a[_0x53a2b7(0x7dc)][_0x53a2b7(0xa64)]((_0x5e6f9c,_0x47bb9f)=>{const _0xcab43f=_0x53a2b7;if(_0x5e6f9c[_0xcab43f(0x832)]!=='multiple_choice'||!_0x5e6f9c['options'])return;const _0x50ac98=_0x5e6f9c[_0xcab43f(0x821)],_0x42e7d5={};_0x5e6f9c[_0xcab43f(0x93f)][_0xcab43f(0xa64)]((_0x2a07c2,_0x9e0c4b)=>{_0x42e7d5[_0x9e0c4b]={'text':_0x2a07c2,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x52e094[_0xcab43f(0xa64)](_0x1e4ada=>{const _0x3e58ed=_0xcab43f,_0x2fc34e=_0x1e4ada['attempts'][_0x1e4ada[_0x3e58ed(0x8a7)]['length']-0x1],_0xb380df=_0x2fc34e[_0x3e58ed(0x1fe)][_0x3e58ed(0x3fd)](_0x2c45b9=>_0x2c45b9[_0x3e58ed(0x862)]===_0x50ac98);if(_0xb380df&&_0xb380df['answer']!==null){const _0xd57025=_0x5e6f9c['options'][_0x3e58ed(0x517)](_0x4b3089=>_0x4b3089===_0xb380df[_0x3e58ed(0x82e)]);_0xd57025!==-0x1&&_0x42e7d5[_0xd57025]&&(_0x42e7d5[_0xd57025][_0x3e58ed(0xaa9)]++,_0x1e4012[_0x3e58ed(0x365)](_0x1e4ada)&&_0x42e7d5[_0xd57025]['upper_group_count']++,_0x2c0629[_0x3e58ed(0x365)](_0x1e4ada)&&_0x42e7d5[_0xd57025][_0x3e58ed(0x953)]++);}}),_0x33dec8[_0x47bb9f]=_0x42e7d5;}),_0x33dec8;}function calculateReliabilityKR20(_0x26ea09,_0x484026,_0x4011cd){const _0x757978=_0xe5be95,_0x37a87e=_0x26ea09[_0x757978(0x7dc)]['length'];if(_0x37a87e<0x2||_0x484026[_0x757978(0x630)]<0x2)return null;const _0x485c1a=_0x484026[_0x757978(0x374)](_0x5be19a=>_0x5be19a[_0x757978(0xa2f)]),_0xc5b707=_0x485c1a[_0x757978(0x7f6)]((_0x2fdf5e,_0x4d7bd5)=>_0x2fdf5e+_0x4d7bd5,0x0)/_0x485c1a[_0x757978(0x630)],_0xb771b0=_0x485c1a[_0x757978(0x374)](_0x416c5e=>Math[_0x757978(0x972)](_0x416c5e-_0xc5b707,0x2))['reduce']((_0x38d150,_0x2e0817)=>_0x38d150+_0x2e0817,0x0)/_0x485c1a[_0x757978(0x630)];if(_0xb771b0===0x0)return null;let _0x33c5dd=0x0;for(let _0x273a69=0x0;_0x273a69<_0x37a87e;_0x273a69++){const _0x2b5a82=_0x4011cd[_0x273a69]?.['p'];if(_0x2b5a82===undefined)continue;const _0x5be975=0x1-_0x2b5a82;_0x33c5dd+=_0x2b5a82*_0x5be975;}if(_0x33c5dd===0x0)return null;const _0x369fac=_0x37a87e/(_0x37a87e-0x1)*(0x1-_0x33c5dd/_0xb771b0);if(_0x369fac>0x1)return null;return _0x369fac;}async function handleAnalyzeClass(){const _0x44731d=_0xe5be95;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x1d3431=collection(db,_0x44731d(0x62e)+appId+_0x44731d(0x9f7)+currentQuizData['id']+'/submissions'),_0x5f6c44=await getDocs(_0x1d3431),_0x2d39ec=_0x5f6c44['docs']['map'](_0x5adfbc=>_0x5adfbc[_0x44731d(0x291)]());if(_0x2d39ec[_0x44731d(0x630)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x2bc1a9=document[_0x44731d(0x7e4)](_0x44731d(0x9b5));_0x2bc1a9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x44731d(0x7e4)]('analyze-strengths-btn')[_0x44731d(0x7ac)]=!![];const _0x29f18a=_0x2d39ec[_0x44731d(0x374)]((_0x2b3560,_0x10f160)=>{const _0x853214=_0x44731d,_0x1f97b2=_0x2b3560['attempts'][_0x2b3560[_0x853214(0x8a7)][_0x853214(0x630)]-0x1];if(!_0x1f97b2)return'';return _0x853214(0x491)+(_0x10f160+0x1)+'\x20('+_0x2b3560['studentName']+_0x853214(0x5c8)+_0x1f97b2[_0x853214(0x32e)]+'/'+_0x2b3560['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x853214(0x5e9)](_0x1f97b2['answers'])+_0x853214(0x3d0);})[_0x44731d(0x7c3)](_0x44731d(0x8e7)),_0x370afa=_0x44731d(0x42d)+currentQuizData[_0x44731d(0xab8)]+_0x44731d(0x408)+JSON['stringify'](currentQuizData['questions'])+_0x44731d(0x801)+_0x29f18a+_0x44731d(0x983),_0x16af1d={'type':'OBJECT','properties':{'classStrengths':{'type':_0x44731d(0x1e4),'items':{'type':_0x44731d(0x5cc)}},'classWeaknesses':{'type':_0x44731d(0x1e4),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x44731d(0x1e4),'items':{'type':_0x44731d(0x5cc)}}},'required':[_0x44731d(0x539),_0x44731d(0xa3a),_0x44731d(0x9f5)]};try{const _0x38e618=await callAnalysisApi(_0x370afa,_0x16af1d);displayClassAnalysis(_0x38e618);}catch(_0x5a9994){console[_0x44731d(0x72a)]('Error\x20during\x20class\x20analysis:',_0x5a9994),_0x2bc1a9[_0x44731d(0x994)]=_0x44731d(0x225)+_0x5a9994[_0x44731d(0x88c)]+'</p></div>';}finally{document[_0x44731d(0x7e4)]('analyze-strengths-btn')[_0x44731d(0x7ac)]=![];}}function displayClassAnalysis(_0x4ab6dc){const _0x3b9533=_0xe5be95,_0x3f2f60=document['getElementById'](_0x3b9533(0x9b5));if(!_0x4ab6dc){_0x3f2f60[_0x3b9533(0x994)]=_0x3b9533(0x4db);return;}_0x3f2f60[_0x3b9533(0x994)]=_0x3b9533(0x6a6)+_0x4ab6dc[_0x3b9533(0x539)][_0x3b9533(0x374)](_0x4c7ebc=>_0x3b9533(0x235)+_0x4c7ebc+_0x3b9533(0x9f4))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ab6dc[_0x3b9533(0xa3a)][_0x3b9533(0x374)](_0x14a370=>_0x3b9533(0x235)+_0x14a370+_0x3b9533(0x9f4))[_0x3b9533(0x7c3)]('')+_0x3b9533(0x348)+_0x4ab6dc['teacherSuggestions'][_0x3b9533(0x374)](_0x73d313=>_0x3b9533(0x235)+_0x73d313+'</li>')[_0x3b9533(0x7c3)]('')+_0x3b9533(0x5ce);}function formatAndPrintWorksheet(_0x385f37,_0x28af84){const _0x502009=_0xe5be95,_0x53573f=_0x502009(0x988)+_0x385f37[_0x502009(0xab8)]+_0x502009(0xaa5)+_0x385f37['topic']+_0x502009(0xa36)+_0x385f37[_0x502009(0x7dc)][_0x502009(0x374)]((_0x58ea7b,_0x31ea01)=>_0x502009(0x54e)+(_0x31ea01+0x1)+'.\x20'+_0x58ea7b[_0x502009(0x821)]+_0x502009(0x94f)+(_0x58ea7b[_0x502009(0x82b)]?_0x502009(0x522)+_0x58ea7b[_0x502009(0x82b)]+'</div>':'')+_0x502009(0x76d))[_0x502009(0x7c3)]('')+_0x502009(0x987);_0x28af84[_0x502009(0xa1c)]['write'](_0x53573f),_0x28af84['document'][_0x502009(0x8fb)](),_0x28af84[_0x502009(0x25a)]=function(){setTimeout(()=>{const _0x5c1bfc=_0xc5bf;_0x28af84[_0x5c1bfc(0x63c)]();},0x3e8);};}async function generateWorksheet(){const _0x5b50a=_0xe5be95,_0x4f424d=document[_0x5b50a(0x7e4)](_0x5b50a(0x86a))['value']['trim']();if(!_0x4f424d){showMessage(_0x5b50a(0x1e5));return;}const _0x5df648=document['getElementById'](_0x5b50a(0x580))[_0x5b50a(0x4e1)],_0x4c9bf8=_0x5df648?'':_0x5b50a(0x9b3),_0x325333=window[_0x5b50a(0xa90)]('',_0x5b50a(0x392));_0x325333[_0x5b50a(0xa1c)][_0x5b50a(0x27e)](_0x5b50a(0x87b));const _0x58949f=parseInt(document[_0x5b50a(0x7e4)](_0x5b50a(0x334))[_0x5b50a(0x2cd)]),_0x440870=document[_0x5b50a(0x7e4)](_0x5b50a(0x5bc))['checked'],_0x1b6728=_0x440870?_0x5b50a(0x942):'',_0xb837=_0x5b50a(0x6eb)+_0x4c9bf8+_0x5b50a(0x342)+_0x58949f+_0x5b50a(0x565)+_0x4f424d+_0x5b50a(0x925)+_0x1b6728+_0x5b50a(0x36c)+simpleMathPrompt+_0x5b50a(0x8fc),_0x5b6525={'type':_0x5b50a(0x253),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x5b50a(0x253),'properties':{'questionText':{'type':_0x5b50a(0x5cc)},'imageCode':{'type':_0x5b50a(0x5cc)}},'required':[_0x5b50a(0x821)]}}},'required':[_0x5b50a(0xab8),_0x5b50a(0x7dc)]};document[_0x5b50a(0x7e4)]('loader-text')[_0x5b50a(0x5c5)]='',document[_0x5b50a(0x7e4)](_0x5b50a(0x24f))['classList'][_0x5b50a(0x21f)]('hidden'),document[_0x5b50a(0x7e4)](_0x5b50a(0xa30))[_0x5b50a(0x683)][_0x5b50a(0x21f)](_0x5b50a(0x80f)),generateWorksheetBtn[_0x5b50a(0x7ac)]=!![];try{const _0x40633e=await callAnalysisApi(_0xb837,_0x5b6525);formatAndPrintWorksheet(_0x40633e,_0x325333);}catch(_0x3033aa){console['error'](_0x5b50a(0x30f),_0x3033aa);if(_0x325333)_0x325333[_0x5b50a(0x8fb)]();showMessage(_0x5b50a(0x544));}finally{document[_0x5b50a(0x7e4)]('loader')['classList'][_0x5b50a(0x816)]('hidden'),document['getElementById'](_0x5b50a(0xa30))[_0x5b50a(0x683)][_0x5b50a(0x816)](_0x5b50a(0x80f)),generateWorksheetBtn[_0x5b50a(0x7ac)]=![];}}async function callAnalysisApi(_0x1260fe,_0x43e033){const _0x47c7fa=_0xe5be95,_0x1a066e={'contents':[{'role':_0x47c7fa(0x3cb),'parts':[{'text':_0x1260fe}]}],'generationConfig':{'responseMimeType':_0x47c7fa(0x7df),'responseSchema':_0x43e033}},_0x5b6cb6=_0x47c7fa(0x636),_0x3da831=_0x47c7fa(0x4cd)+_0x5b6cb6,_0x5ca101=await fetch(_0x3da831,{'method':_0x47c7fa(0x961),'headers':{'Content-Type':_0x47c7fa(0x7df)},'body':JSON[_0x47c7fa(0x5e9)](_0x1a066e)});if(!_0x5ca101['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5ca101[_0x47c7fa(0x216)]);const _0x503044=await _0x5ca101[_0x47c7fa(0x902)]();if(_0x503044[_0x47c7fa(0xa86)]?.[0x0]?.[_0x47c7fa(0x433)]?.[_0x47c7fa(0x3af)]?.[0x0])return JSON[_0x47c7fa(0x62f)](_0x503044[_0x47c7fa(0xa86)][0x0][_0x47c7fa(0x433)][_0x47c7fa(0x3af)][0x0]['text']);else{let _0x1a4eaa=_0x47c7fa(0x6a2);if(_0x503044[_0x47c7fa(0x23b)]?.[_0x47c7fa(0x56b)])_0x1a4eaa=_0x47c7fa(0x4b0)+_0x503044[_0x47c7fa(0x23b)][_0x47c7fa(0x56b)]+'.';else _0x503044[_0x47c7fa(0xa86)]?.[0x0]?.[_0x47c7fa(0x321)]&&_0x503044[_0x47c7fa(0xa86)][0x0]['finishReason']!==_0x47c7fa(0x73c)&&(_0x1a4eaa=_0x47c7fa(0x945)+_0x503044[_0x47c7fa(0xa86)][0x0][_0x47c7fa(0x321)]+'.');console[_0x47c7fa(0x72a)](_0x1a4eaa,JSON['stringify'](_0x503044));throw new Error(_0x1a4eaa);}}async function handleStartSyncMode(_0x6e46ba,_0x306cb7=![]){const _0x45da68=_0xe5be95,_0x819b4=allQuizzes[_0x45da68(0x3fd)](_0xe76461=>_0xe76461['id']===_0x6e46ba)||allQuizzesGlobal[_0x45da68(0x3fd)](_0x18124c=>_0x18124c['id']===_0x6e46ba);if(!_0x819b4){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x819b4);const _0x46f3b3=Math[_0x45da68(0x28c)](0x3e8+Math['random']()*0x2328)[_0x45da68(0x59e)]();try{const _0x525bb1=await addDoc(collection(db,_0x45da68(0x62e)+appId+_0x45da68(0xa21)),{'quizId':_0x819b4['id'],'pin':_0x46f3b3,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x306cb7,'players':{}});currentLiveGameId=_0x525bb1['id'],showView(_0x45da68(0x750)),renderSyncLobbyView(_0x46f3b3,_0x819b4[_0x45da68(0xab8)]),listenForSyncGameUpdates();}catch(_0x5d61a6){console[_0x45da68(0x72a)](_0x45da68(0x3e1),_0x5d61a6),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x3dcd71){const _0x538f7f=_0xe5be95;if(!_0x3dcd71||!_0x3dcd71[_0x538f7f(0x43f)]||!_0x3dcd71['players'])return _0x3dcd71[_0x538f7f(0x444)]||{};const _0x3e7ef1=_0x3dcd71[_0x538f7f(0x43f)][_0x538f7f(0x7dc)][_0x538f7f(0x630)],_0x2e8f61=JSON['parse'](JSON[_0x538f7f(0x5e9)](_0x3dcd71[_0x538f7f(0x444)]));return Object[_0x538f7f(0x605)](_0x2e8f61)[_0x538f7f(0xa64)](_0x461972=>{const _0x41dc33=_0x538f7f,_0x4f0e82=_0x461972[_0x41dc33(0x32e)];let _0x4e267c=0x0;_0x3dcd71[_0x41dc33(0x6ac)]&&_0x461972[_0x41dc33(0x1fe)]&&_0x461972[_0x41dc33(0x1fe)][_0x41dc33(0xa64)](_0x1ccfb5=>{const _0xdafb56=_0x41dc33;if(_0x1ccfb5['isCorrect']&&_0x1ccfb5[_0xdafb56(0x7ed)])_0x4e267c+=0x1;else!_0x1ccfb5[_0xdafb56(0x2f3)]&&_0x1ccfb5[_0xdafb56(0x7ed)]&&(_0x4e267c-=0x1);}),_0x461972[_0x41dc33(0x32e)]=_0x4f0e82+_0x4e267c,_0x3e7ef1>0x0&&_0x4f0e82===_0x3e7ef1&&(_0x461972['score']+=0x1,_0x461972[_0x41dc33(0x5ed)]=!![]);}),_0x2e8f61;}function listenForSyncGameUpdates(){const _0x54e92e=_0xe5be95;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x42d6a9=doc(db,_0x54e92e(0x62e)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x42d6a9,_0x2fdd85=>{const _0x4726f0=_0x54e92e;if(!_0x2fdd85[_0x4726f0(0xafe)]()){sessionStorage[_0x4726f0(0xa06)](_0x4726f0(0x91d));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x4726f0(0x883)),showView(currentMode===_0x4726f0(0x46b)?_0x4726f0(0x9d7):_0x4726f0(0x923));return;}const _0x4c03f0=_0x2fdd85[_0x4726f0(0x291)]();currentMode===_0x4726f0(0x46b)?updateAdminSyncView(_0x4c03f0):updateStudentSyncView(_0x4c03f0);});}function renderSyncLobbyView(_0xed7ec1,_0xba26e8){const _0x197f98=_0xe5be95;liveGameView[_0x197f98(0x994)]=_0x197f98(0x35f)+_0xba26e8+_0x197f98(0x60a)+_0xed7ec1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3c61b3=document['getElementById'](_0x197f98(0xa10)),_0x135297=document[_0x197f98(0x7e4)](_0x197f98(0x7b7));_0x3c61b3[_0x197f98(0x8c2)](_0x197f98(0x627),()=>{const _0x1d0059=_0x197f98;_0x135297[_0x1d0059(0xa0e)][_0x1d0059(0x8f3)]=_0x3c61b3[_0x1d0059(0x4e1)]?'block':_0x1d0059(0x3e7);}),document[_0x197f98(0x7e4)](_0x197f98(0x549))[_0x197f98(0x8c2)](_0x197f98(0x75b),async()=>{const _0x2cbccd=_0x197f98,_0x14dd7d=doc(db,_0x2cbccd(0x62e)+appId+_0x2cbccd(0xa21),currentLiveGameId),_0x59c617=document[_0x2cbccd(0x7e4)](_0x2cbccd(0xa10))['checked'];await updateDoc(_0x14dd7d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x59c617});});}function updateAdminSyncView(_0x3ae3f1){const _0x5ccdd0=_0xe5be95;switch(_0x3ae3f1[_0x5ccdd0(0x216)]){case _0x5ccdd0(0x9e1):renderSyncLobbyView(_0x3ae3f1['pin'],_0x3ae3f1[_0x5ccdd0(0x43f)][_0x5ccdd0(0xab8)]);const _0x442320=Object[_0x5ccdd0(0x2f4)](_0x3ae3f1[_0x5ccdd0(0x444)]||{})['filter'](([_0x143669,_0x22178b])=>_0x22178b[_0x5ccdd0(0x216)]!==_0x5ccdd0(0x758));document[_0x5ccdd0(0x7e4)]('player-count')[_0x5ccdd0(0x5c5)]=_0x442320['length'],document['getElementById'](_0x5ccdd0(0x4de))[_0x5ccdd0(0x994)]=_0x442320[_0x5ccdd0(0x374)](([_0x24bd86,_0x36941d])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x24bd86+_0x5ccdd0(0x4d9)+_0x24bd86+_0x5ccdd0(0x1ff))['join']('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x5ccdd0(0x7e4)]('start-sync-game-btn')['disabled']=_0x442320[_0x5ccdd0(0x630)]===0x0;break;case'question':const _0x41d60a=Object['values'](_0x3ae3f1[_0x5ccdd0(0x444)]||{})[_0x5ccdd0(0x670)](_0x113cca=>_0x113cca[_0x5ccdd0(0x216)]!==_0x5ccdd0(0x758)),_0x585287=_0x41d60a[_0x5ccdd0(0x670)](_0xb77a39=>_0xb77a39[_0x5ccdd0(0x6b3)])['length'],_0x5c4212=_0x585287===_0x41d60a[_0x5ccdd0(0x630)]&&_0x41d60a[_0x5ccdd0(0x630)]>0x0;if(_0x5c4212&&_0x3ae3f1['status']===_0x5ccdd0(0x5ca)){const _0x3fa470=doc(db,_0x5ccdd0(0x62e)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3fa470,{'status':_0x5ccdd0(0x2a7)});}else{if(document[_0x5ccdd0(0x7e4)](_0x5ccdd0(0x6ad))===null)renderAdminSyncQuestionView(_0x3ae3f1);else{const _0x3bf13a=document['getElementById'](_0x5ccdd0(0x57e));_0x3bf13a&&(_0x3bf13a[_0x5ccdd0(0x5c5)]=_0x585287+'/'+_0x41d60a[_0x5ccdd0(0x630)]);const _0x102098=document['getElementById']('sync-player-list');_0x102098&&(_0x102098[_0x5ccdd0(0x994)]=_0x41d60a[_0x5ccdd0(0x374)](_0x523cd0=>{const _0x64b9a8=_0x5ccdd0,_0x24e8e6=_0x523cd0[_0x64b9a8(0x6b3)]?_0x64b9a8(0x5b0):_0x64b9a8(0x7ea),_0x2f890e=_0x523cd0[_0x64b9a8(0x6b3)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x24e8e6+_0x64b9a8(0x84f)+_0x2f890e+_0x64b9a8(0x867)+_0x523cd0[_0x64b9a8(0x252)]+_0x64b9a8(0x1dd)+_0x523cd0[_0x64b9a8(0x252)]+_0x64b9a8(0x32d);})['join'](''));}}break;case _0x5ccdd0(0x2a7):const _0x44355f=_0x3ae3f1['currentQuestionIndex'],_0x13db48=_0x3ae3f1[_0x5ccdd0(0x43f)]['questions'][_0x44355f];renderSyncSummaryView(_0x3ae3f1,_0x13db48,!![]);break;case'results':renderAdminSyncDashboard(_0x3ae3f1,!![]);break;case _0x5ccdd0(0x3d2):_0x3ae3f1['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x3ae3f1);sessionStorage['removeItem'](_0x5ccdd0(0x91d));const _0x53435b=calculateFinalPodiumScores(_0x3ae3f1);showPodiumView(_0x53435b,'sync');break;}}function renderAdminSyncQuestionView(_0x2097ed){const _0xb6e25d=_0xe5be95,_0x3ca1e2=_0x2097ed[_0xb6e25d(0x3e5)],_0x511ce4=_0x2097ed['shuffledQuiz'][_0xb6e25d(0x7dc)][_0x3ca1e2],_0x4502aa=_0x2097ed[_0xb6e25d(0x43f)]['questions']['length'],_0x488caf=Object[_0xb6e25d(0x605)](_0x2097ed[_0xb6e25d(0x444)]||{})[_0xb6e25d(0x670)](_0x2a5780=>_0x2a5780[_0xb6e25d(0x216)]!==_0xb6e25d(0x758)),_0x4d8995=_0x488caf[_0xb6e25d(0x670)](_0x1b5358=>_0x1b5358[_0xb6e25d(0x6b3)])['length'],_0x2340eb=_0x4d8995===_0x488caf[_0xb6e25d(0x630)]&&_0x488caf[_0xb6e25d(0x630)]>0x0,_0x1454c6=(_0x511ce4['options']||[])[_0xb6e25d(0x374)](_0xe65afe=>_0xb6e25d(0x2cb)+_0xe65afe+_0xb6e25d(0x598))['join']('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3ca1e2+0x1)+_0xb6e25d(0x70f)+_0x4502aa+_0xb6e25d(0x6cf)+_0x4d8995+'/'+_0x488caf[_0xb6e25d(0x630)]+_0xb6e25d(0x620)+_0x511ce4[_0xb6e25d(0x821)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x1454c6+_0xb6e25d(0x8d7)+(!_0x2340eb?_0xb6e25d(0x7ac):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0xb6e25d(0x422)])MathJax[_0xb6e25d(0x32a)]();document[_0xb6e25d(0x7e4)](_0xb6e25d(0x762))[_0xb6e25d(0x8c2)]('click',async()=>{const _0x1f9ec7=_0xb6e25d,_0x1074a4=doc(db,_0x1f9ec7(0x62e)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1074a4,{'status':_0x1f9ec7(0x7de)});}),document[_0xb6e25d(0x7e4)](_0xb6e25d(0x6b7))[_0xb6e25d(0x844)]=()=>{const _0x1f894d=_0xb6e25d;openScratchpad(_0x511ce4,_0x511ce4[_0x1f894d(0x93f)]||[]);},document[_0xb6e25d(0x7e4)]('sync-manage-players-btn')[_0xb6e25d(0x8c2)](_0xb6e25d(0x75b),()=>{const _0x55b95c=_0xb6e25d;document[_0x55b95c(0x7e4)](_0x55b95c(0x6ad))[_0x55b95c(0x683)][_0x55b95c(0x459)](_0x55b95c(0x80f));});}function renderSyncLeaderboardView(_0x5aee6b,_0x22e7ee){const _0x20ffc5=_0xe5be95,_0x55ad43=Object[_0x20ffc5(0x605)](_0x5aee6b[_0x20ffc5(0x444)]||{});_0x55ad43['sort']((_0xd12e0e,_0x1f43bb)=>_0x1f43bb[_0x20ffc5(0x32e)]-_0xd12e0e[_0x20ffc5(0x32e)]);const _0x291c0f=_0x55ad43[_0x20ffc5(0xa51)](0x0,0x5);let _0x1974e0='';if(_0x22e7ee){const _0xdaf833=_0x5aee6b[_0x20ffc5(0x3e5)]>=_0x5aee6b[_0x20ffc5(0x43f)][_0x20ffc5(0x7dc)]['length']-0x1;_0x1974e0=_0x20ffc5(0x949)+(_0xdaf833?_0x20ffc5(0x887):'ข้อต่อไป')+_0x20ffc5(0x639);}else _0x1974e0=_0x20ffc5(0x75e);liveGameView[_0x20ffc5(0x994)]=_0x20ffc5(0x847)+_0x291c0f[_0x20ffc5(0x374)]((_0x291885,_0x389281)=>_0x20ffc5(0x4c6)+(_0x389281+0x1)+'.\x20'+_0x291885[_0x20ffc5(0x252)]+_0x20ffc5(0x6a7)+_0x291885['score']+_0x20ffc5(0x6bc))[_0x20ffc5(0x7c3)]('')+_0x20ffc5(0x3b7)+_0x1974e0+_0x20ffc5(0x668),_0x22e7ee&&document[_0x20ffc5(0x7e4)]('next-sync-question-btn')[_0x20ffc5(0x8c2)](_0x20ffc5(0x75b),async()=>{const _0x5c1dc2=_0x20ffc5,_0x1a3bc7=doc(db,_0x5c1dc2(0x62e)+appId+_0x5c1dc2(0xa21),currentLiveGameId),_0x107606=_0x5aee6b[_0x5c1dc2(0x3e5)]+0x1;if(_0x107606<_0x5aee6b[_0x5c1dc2(0x43f)][_0x5c1dc2(0x7dc)][_0x5c1dc2(0x630)]){const _0x430f26={};Object[_0x5c1dc2(0x487)](_0x5aee6b[_0x5c1dc2(0x444)])[_0x5c1dc2(0xa64)](_0x5cfae9=>{const _0x16a867=_0x5c1dc2;_0x430f26[_0x16a867(0x35c)+_0x5cfae9+_0x16a867(0x3a7)]=![];}),await updateDoc(_0x1a3bc7,{..._0x430f26,'status':'question','currentQuestionIndex':_0x107606,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1a3bc7,{'status':_0x5c1dc2(0x3d2)});});}async function handleJoinSyncGame(){const _0xc52448=_0xe5be95,_0x14ca7f=prompt(_0xc52448(0x546));if(!_0x14ca7f||_0x14ca7f[_0xc52448(0x7ab)]()['length']!==0x2){showMessage(_0xc52448(0x236));return;}try{const _0x211f2a=collection(db,'artifacts/'+appId+_0xc52448(0xa21)),_0x5140b2=query(_0x211f2a,where(_0xc52448(0x7db),'==',_0x14ca7f['trim']()),where(_0xc52448(0x216),'==','lobby')),_0x577e9f=await getDocs(_0x5140b2);if(_0x577e9f['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x3e20b5=_0x577e9f[_0xc52448(0x966)][0x0];currentLiveGameId=_0x3e20b5['id'];const _0x3abf36=_0x3e20b5[_0xc52448(0x291)](),_0x5d2228=doc(db,_0xc52448(0x62e)+appId+_0xc52448(0x721),_0x3abf36[_0xc52448(0x560)]),_0x36c80e=await getDoc(_0x5d2228);if(!_0x36c80e[_0xc52448(0xafe)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x4dc63e=_0x36c80e[_0xc52448(0x291)](),_0x2a9f82=doc(db,_0xc52448(0x62e)+appId+'/public/data/projects',_0x4dc63e['projectId']),_0x1e972c=await getDoc(_0x2a9f82);if(!_0x1e972c[_0xc52448(0xafe)]())throw new Error(_0xc52448(0x1fd));currentQuizData=_0x3abf36[_0xc52448(0x43f)];const _0x1c05ae=_0x1e972c[_0xc52448(0x291)]();showView(_0xc52448(0x8e9)),showTeamPlayerSelection(_0x1c05ae[_0xc52448(0x2f0)],_0x4dc63e[_0xc52448(0xab8)]);const _0x8601bd=document[_0xc52448(0x7e4)](_0xc52448(0x699));_0x8601bd[_0xc52448(0x844)]=confirmAndJoinSyncGame;}catch(_0x9c3714){console[_0xc52448(0x72a)](_0xc52448(0x400),_0x9c3714),showMessage(_0xc52448(0x586)+_0x9c3714[_0xc52448(0x88c)]);}}function updateStudentSyncView(_0x15ab86){const _0x4c8fab=_0xe5be95,_0x367f4d=_0x15ab86[_0x4c8fab(0x444)][localTeamPlayers[0x0]];switch(_0x15ab86[_0x4c8fab(0x216)]){case _0x4c8fab(0x9e1):showView(_0x4c8fab(0x750)),liveGameView[_0x4c8fab(0x994)]=_0x4c8fab(0x48b);break;case _0x4c8fab(0x5ca):const _0x4598e0=localTeamPlayers['every'](_0x1ad604=>_0x15ab86['players'][_0x1ad604]?.[_0x4c8fab(0x6b3)]===!![]);_0x4598e0?liveGameView['innerHTML']=_0x4c8fab(0x891):renderStudentSyncQuestionView(_0x15ab86);break;case _0x4c8fab(0x2a7):liveGameView[_0x4c8fab(0x994)]=_0x4c8fab(0x7f5);break;case _0x4c8fab(0x7de):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x15ab86);break;case _0x4c8fab(0x3d2):sessionStorage[_0x4c8fab(0xa06)]('activeGameSession');const _0x39a18f=calculateFinalPodiumScores(_0x15ab86);showPodiumView(_0x39a18f,_0x4c8fab(0x603));break;}}function renderStudentSyncResultsView(_0x182d25){const _0x23caa3=_0xe5be95,_0x1350cc=localTeamPlayers[_0x23caa3(0x374)](_0x11ca1c=>_0x182d25[_0x23caa3(0x444)][_0x11ca1c])[_0x23caa3(0x670)](Boolean);_0x1350cc['sort']((_0x242181,_0x554f53)=>(_0x554f53[_0x23caa3(0x32e)]||0x0)-(_0x242181[_0x23caa3(0x32e)]||0x0));const _0x27f6f7=_0x182d25[_0x23caa3(0x3e5)]>=_0x182d25['shuffledQuiz']['questions'][_0x23caa3(0x630)]-0x1;let _0x661c2f='';_0x27f6f7?_0x661c2f=_0x23caa3(0xa02):_0x661c2f=_0x23caa3(0x2ff);const _0x518f11=_0x23caa3(0x2ef)+_0x1350cc['map']((_0x18896e,_0x30efac)=>_0x23caa3(0x484)+(_0x30efac+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x18896e[_0x23caa3(0x252)]+_0x23caa3(0x249)+_0x18896e[_0x23caa3(0x32e)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x661c2f+_0x23caa3(0x5f5);liveGameView[_0x23caa3(0x994)]=_0x518f11;}function renderStudentSyncQuestionView(_0x36e93e){const _0x2c611e=_0xe5be95;while(localPlayerTurnIndex<localTeamPlayers[_0x2c611e(0x630)]&&_0x36e93e[_0x2c611e(0x444)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x2c611e(0x6b3)]===!![]){localPlayerTurnIndex++;}const _0x44b3ed=localTeamPlayers[localPlayerTurnIndex];if(!_0x44b3ed)return;const _0x12c7af=_0x36e93e[_0x2c611e(0x3e5)],_0x2278ba=_0x36e93e[_0x2c611e(0x43f)][_0x2c611e(0x7dc)]['length'],_0x551953=_0x36e93e['shuffledQuiz']['questions'][_0x12c7af],_0x42d6f0=_0x551953[_0x2c611e(0x832)]||_0x36e93e['shuffledQuiz'][_0x2c611e(0x519)];let _0xa53909='',_0xc859d9=![];switch(_0x42d6f0){case'true_false':_0xa53909=_0x2c611e(0x93c);break;case _0x2c611e(0x4dd):case _0x2c611e(0xa59):_0xc859d9=!![],_0xa53909=_0x2c611e(0xa9a);break;case'matching_item':_0xc859d9=!![],_0xa53909=_0x2c611e(0x767)+(_0x551953[_0x2c611e(0x784)]||[])[_0x2c611e(0x374)](_0x53d918=>_0x2c611e(0x776)+_0x53d918+'\x22>'+_0x53d918+_0x2c611e(0x339))[_0x2c611e(0x7c3)]('')+_0x2c611e(0x863);break;case _0x2c611e(0x999):default:_0xa53909=(_0x551953[_0x2c611e(0x93f)]||[])[_0x2c611e(0x374)]((_0x56b924,_0x2e3d85)=>_0x2c611e(0x2a8)+_0x2e3d85+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x56b924+_0x2c611e(0x934))[_0x2c611e(0x7c3)]('');break;}liveGameView['innerHTML']=_0x2c611e(0x28d)+(_0x12c7af+0x1)+_0x2c611e(0x70f)+_0x2278ba+_0x2c611e(0xa94)+_0x44b3ed+_0x2c611e(0x551)+(_0x551953[_0x2c611e(0x821)]||_0x551953[_0x2c611e(0xae3)])+_0x2c611e(0x354)+_0xa53909+_0x2c611e(0x4ac);if(window[_0x2c611e(0x422)])MathJax[_0x2c611e(0x32a)]();const _0x5cbc67=_0x408dcf=>{const _0x1c2bca=_0x2c611e;_0x36e93e['isConfidenceScoringEnabled']?(document[_0x1c2bca(0x7e4)]('selected-answer-index-hidden')[_0x1c2bca(0x2cd)]=_0x408dcf,document[_0x1c2bca(0x7e4)](_0x1c2bca(0x2a6))[_0x1c2bca(0x683)]['remove']('hidden')):handleSyncAnswerSubmit(_0x408dcf,_0x551953,_0x36e93e,_0x44b3ed,![]);};_0xc859d9?document[_0x2c611e(0x7e4)](_0x2c611e(0x2fa))[_0x2c611e(0x8c2)](_0x2c611e(0x75b),()=>{const _0x41e9a4=_0x2c611e,_0x249825=document[_0x41e9a4(0x7e4)]('sync-short-answer-input')||document[_0x41e9a4(0x7e4)](_0x41e9a4(0x22f));if(_0x249825[_0x41e9a4(0x2cd)][_0x41e9a4(0x7ab)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x5cbc67(_0x249825[_0x41e9a4(0x2cd)]);}):document[_0x2c611e(0xa16)]('.live-answer-btn')[_0x2c611e(0xa64)](_0x3bea56=>{const _0x2e39a0=_0x2c611e;_0x3bea56[_0x2e39a0(0x8c2)](_0x2e39a0(0x75b),()=>{const _0x3447f4=_0x2e39a0;_0x5cbc67(_0x3bea56[_0x3447f4(0x4ee)][_0x3447f4(0x2cd)]);});});}async function handleSyncAnswerSubmit(_0x4e2e88,_0x516356,_0x938bb4,_0x239719,_0x4f32bb){const _0x45a108=_0xe5be95;document['querySelectorAll'](_0x45a108(0x30c))[_0x45a108(0xa64)](_0x15a213=>_0x15a213[_0x45a108(0x7ac)]=!![]);const _0x24dbc6=_0x516356[_0x45a108(0x832)]||_0x938bb4['shuffledQuiz'][_0x45a108(0x519)];let _0x32e75d=![],_0x6db7a2=_0x4e2e88;switch(_0x24dbc6){case _0x45a108(0x82f):const _0x10b430=_0x4e2e88==='true';_0x32e75d=_0x10b430===_0x516356[_0x45a108(0x5ee)],_0x6db7a2=_0x10b430?_0x45a108(0x77f):_0x45a108(0x6a3);break;case _0x45a108(0x4dd):case _0x45a108(0xa59):_0x32e75d=await gradeShortAnswer(_0x4e2e88,_0x516356);break;case _0x45a108(0x4b9):_0x32e75d=_0x4e2e88===_0x516356[_0x45a108(0x933)];break;case _0x45a108(0x999):default:const _0xa2917=parseInt(_0x4e2e88);_0x32e75d=_0xa2917===_0x516356[_0x45a108(0x60e)];_0x516356[_0x45a108(0x93f)]&&_0x516356[_0x45a108(0x93f)][_0xa2917]&&(_0x6db7a2=_0x516356[_0x45a108(0x93f)][_0xa2917]);break;}const _0x488cf7=_0x32e75d?0x1:0x0,_0x2090da=doc(db,'artifacts/'+appId+_0x45a108(0xa21),currentLiveGameId),_0x3221ec={};_0x3221ec[_0x45a108(0x35c)+_0x239719+_0x45a108(0x930)]=increment(_0x488cf7),_0x3221ec['players.'+_0x239719+_0x45a108(0x3a7)]=!![],_0x3221ec['players.'+_0x239719+'.lastAnswerIndex']=_0x24dbc6===_0x45a108(0x999)?parseInt(_0x4e2e88):null;const _0x5b2e97={'questionIndex':_0x938bb4[_0x45a108(0x3e5)],'questionId':_0x516356['id'],'answer':_0x4e2e88,'answerText':_0x6db7a2,'isCorrect':_0x32e75d,'originalQuestionText':_0x516356[_0x45a108(0x821)]||_0x516356[_0x45a108(0xae3)],'wasConfident':_0x4f32bb};_0x3221ec[_0x45a108(0x35c)+_0x239719+_0x45a108(0x453)]=arrayUnion(_0x5b2e97),await updateDoc(_0x2090da,_0x3221ec);}initialize();
