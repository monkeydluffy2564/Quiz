const _0x15116f=_0x1996;(function(_0x3414a1,_0x3a98d7){const _0xdf4600=_0x1996,_0x52fe42=_0x3414a1();while(!![]){try{const _0x5211c7=parseInt(_0xdf4600(0xaf5))/0x1+-parseInt(_0xdf4600(0xaa8))/0x2+-parseInt(_0xdf4600(0x3a5))/0x3*(-parseInt(_0xdf4600(0x5a5))/0x4)+parseInt(_0xdf4600(0x78e))/0x5+-parseInt(_0xdf4600(0x3e2))/0x6+-parseInt(_0xdf4600(0xa18))/0x7+-parseInt(_0xdf4600(0x2b8))/0x8;if(_0x5211c7===_0x3a98d7)break;else _0x52fe42['push'](_0x52fe42['shift']());}catch(_0x5e904c){_0x52fe42['push'](_0x52fe42['shift']());}}}(_0x3b6f,0x903f2));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x15116f(0x458),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x15116f(0x458),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x270e4b=_0x15116f;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x270e4b(0xc03)]['request']('screen'),console[_0x270e4b(0x7d6)](_0x270e4b(0x751)),wakeLock[_0x270e4b(0x6d5)]('release',()=>{const _0x7b136b=_0x270e4b;console[_0x7b136b(0x7d6)](_0x7b136b(0x373));});}catch(_0x227bc6){console[_0x270e4b(0x13b)](_0x270e4b(0xb30)+_0x227bc6[_0x270e4b(0x947)]+',\x20'+_0x227bc6[_0x270e4b(0x56e)]);}else console[_0x270e4b(0x9d6)](_0x270e4b(0x5b4));},releaseWakeLock=async()=>{const _0x3a211e=_0x15116f;wakeLock!==null&&(await wakeLock[_0x3a211e(0xc0d)](),wakeLock=null,console[_0x3a211e(0x7d6)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x52d5d8=_0x15116f;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x52d5d8(0x6e6)][_0x52d5d8(0x367)](_0x52d5d8(0x465)),dimTimer=setTimeout(()=>{const _0x532be6=_0x52d5d8;document['body'][_0x532be6(0x6e6)][_0x532be6(0x360)](_0x532be6(0x465)),console[_0x532be6(0x7d6)](_0x532be6(0x1de));},inactivityTime);}function stopDimTimer(){const _0x533132=_0x15116f;if(dimTimer)clearTimeout(dimTimer);document[_0x533132(0x2e6)]['classList']['remove'](_0x533132(0x465)),window[_0x533132(0x770)](_0x533132(0x418),resetDimTimer),window[_0x533132(0x770)](_0x533132(0xaa3),resetDimTimer),window[_0x533132(0x770)](_0x533132(0x38f),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x533132(0x7d6)](_0x533132(0xa10));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x389b4d,_0x2d9bd2=![]){const _0x23d724=_0x15116f,_0x52d603=allQuizzes['find'](_0x6d13de=>_0x6d13de['id']===_0x389b4d)||allQuizzesGlobal['find'](_0x2839a8=>_0x2839a8['id']===_0x389b4d);if(!_0x52d603){showMessage(_0x23d724(0xc0a));return;}currentQuizData=getShuffledQuiz(_0x52d603);const _0x86169=Math[_0x23d724(0x1c8)](0x3e8+Math[_0x23d724(0xaeb)]()*0x2328)['toString']();try{const _0x4c9a37=await addDoc(collection(db,_0x23d724(0xc14)+appId+'/public/data/teamQuizzes'),{'quizId':_0x52d603['id'],'projectId':_0x52d603['projectId'],'status':_0x23d724(0x72d),'pin':_0x86169,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2d9bd2});currentTeamQuizId=_0x4c9a37['id'],showView(_0x23d724(0xa89)),renderAdminTeamQuizDashboard(_0x86169,_0x52d603[_0x23d724(0xc63)]),listenForTeamQuizUpdates();}catch(_0x46309f){console[_0x23d724(0x13b)](_0x23d724(0x993),_0x46309f),showMessage(_0x23d724(0x5e9));}}function renderAdminTeamQuizDashboard(_0x30bcb7,_0x36e331,_0x42f7dc=_0x15116f(0x30f)){const _0x2622ba=_0x15116f,_0x1d1976=_0x42f7dc==='group'?_0x2622ba(0x8ac):'Team\x20Quiz';liveGameView[_0x2622ba(0x322)]=_0x2622ba(0x7a3)+_0x1d1976+':\x20'+_0x36e331+_0x2622ba(0x6db)+_0x30bcb7+_0x2622ba(0xb01),document['getElementById'](_0x2622ba(0xa47))[_0x2622ba(0x6d5)](_0x2622ba(0x22c),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x337d69=_0x1996;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x337d69(0xc14)+appId+_0x337d69(0xb78),currentTeamQuizId)),showView(_0x337d69(0x4e2));});});}function listenForTeamQuizUpdates(){const _0x1a807f=_0x15116f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x20a3b0=doc(db,_0x1a807f(0xc14)+appId+_0x1a807f(0xb78),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x20a3b0,_0x486143=>{const _0x3945a6=_0x1a807f;if(!_0x486143['exists']()){sessionStorage[_0x3945a6(0x19e)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x3945a6(0x437));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3945a6(0x18b)?showView(_0x3945a6(0x4e2)):showView(_0x3945a6(0xb56));return;}const _0x2606ae=_0x486143[_0x3945a6(0xc6b)]();if(currentMode===_0x3945a6(0x18b)){if(_0x2606ae[_0x3945a6(0x8d5)]===_0x3945a6(0x867)&&_0x2606ae[_0x3945a6(0x55a)]!==_0x3945a6(0xa12)&&_0x2606ae[_0x3945a6(0x55a)]!=='finished'){const _0x5f3383=Object[_0x3945a6(0xc27)](_0x2606ae[_0x3945a6(0x36f)]||{});if(_0x5f3383['length']>0x0){const _0x11a4d3=_0x5f3383[_0x3945a6(0xa03)](_0x5f47a3=>_0x5f47a3['isFinished']===!![]);_0x11a4d3&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2606ae);}else{if(_0x2606ae[_0x3945a6(0x55a)]===_0x3945a6(0xa12)||_0x2606ae[_0x3945a6(0x55a)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2606ae['mode']===_0x3945a6(0x867)){const _0x39017d=_0x2606ae[_0x3945a6(0x36f)][userId];(!_0x39017d||!_0x39017d[_0x3945a6(0x478)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1fc41e){const _0x53a54d=_0x15116f;console[_0x53a54d(0x7d6)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3e2ee8=doc(db,_0x53a54d(0xc14)+appId+'/public/data/teamQuizzes',_0x1fc41e);try{const _0x1fc7da=await getDoc(_0x3e2ee8);if(_0x1fc7da[_0x53a54d(0xfc)]()){const _0x5a76c1=_0x1fc7da['data']();_0x5a76c1[_0x53a54d(0xa8d)]&&await saveGameResultsAsSubmissions(_0x5a76c1);}await updateDoc(_0x3e2ee8,{'status':_0x53a54d(0xa12)});}catch(_0x4d3917){console[_0x53a54d(0x13b)](_0x53a54d(0x8aa),_0x4d3917);}}function updateAdminTeamDashboard(_0x112e2a){const _0x1b09c4=_0x15116f,_0x60f8cb=document[_0x1b09c4(0x7a2)]('team-player-status-grid');if(!_0x60f8cb)return;const _0x36fa2f=_0x112e2a['mode']||_0x1b09c4(0x30f),_0x169026=currentQuizData[_0x1b09c4(0x72a)][_0x1b09c4(0x987)];if(_0x36fa2f===_0x1b09c4(0x867)){const _0xd914db=Object[_0x1b09c4(0xc27)](_0x112e2a['groups']||{});if(_0xd914db['length']===0x0){_0x60f8cb[_0x1b09c4(0x322)]=_0x1b09c4(0x430);return;}const _0x4a8ee9=[..._0xd914db][_0x1b09c4(0x2ea)]((_0x32d94e,_0x3651f8)=>_0x3651f8[_0x1b09c4(0x24f)]-_0x32d94e[_0x1b09c4(0x24f)]),_0x5c3f92=_0x4a8ee9['map']((_0x13243f,_0x273079)=>{const _0x2c1e8e=_0x1b09c4,_0x46a505=_0x13243f['answers']?.[_0x2c1e8e(0x987)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x273079+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x13243f[_0x2c1e8e(0x4de)]['join'](',\x20')+_0x2c1e8e(0xa91)+_0x46a505+'/'+_0x169026+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x13243f[_0x2c1e8e(0x24f)]+_0x2c1e8e(0xaa4);})[_0x1b09c4(0x935)](''),_0x42203c=currentQuizData[_0x1b09c4(0x72a)]['map']((_0x2e3d52,_0xaed25)=>{const _0x395611=_0x1b09c4;let _0x151a03=0x0,_0x290efe=0x0;_0xd914db[_0x395611(0x1b7)](_0x132c82=>{const _0x412da0=_0x395611,_0x16da80=_0x132c82[_0x412da0(0xc54)]?.['find'](_0x59e345=>_0x59e345[_0x412da0(0x63b)]===_0xaed25);if(_0x16da80){_0x290efe++;if(_0x16da80[_0x412da0(0x653)])_0x151a03++;}});const _0x2177ab=_0x290efe>0x0&&_0x290efe===_0xd914db[_0x395611(0x987)],_0x1bd064=_0x2177ab?_0x395611(0x6be):'bg-black/10',_0x5837a8=_0x2177ab?_0x395611(0x578):'';return _0x395611(0xaca)+_0x1bd064+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0xaed25+0x1)+_0x395611(0x821)+_0x5837a8+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x151a03+'/'+_0xd914db[_0x395611(0x987)]+_0x395611(0x488);})[_0x1b09c4(0x935)]('');_0x60f8cb[_0x1b09c4(0x322)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5c3f92+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x42203c+'</div></div></div>';return;}const _0xc6ddaa=_0x112e2a[_0x1b09c4(0x5f2)]||{},_0x1e892a=Object[_0x1b09c4(0x377)](_0xc6ddaa);if(_0x1e892a[_0x1b09c4(0x987)]===0x0){_0x60f8cb[_0x1b09c4(0x322)]=_0x1b09c4(0x4d4);return;}const _0x4b844f=_0x1e892a[_0x1b09c4(0x217)](_0x1f541b=>({'name':_0x1f541b,'score':_0xc6ddaa[_0x1f541b]['score']||0x0}))[_0x1b09c4(0x2ea)]((_0x5a26c6,_0x59afa6)=>_0x59afa6[_0x1b09c4(0x24f)]-_0x5a26c6[_0x1b09c4(0x24f)]),_0x1129a0=_0x4b844f[_0x1b09c4(0x217)](_0x34e484=>{const _0x1dcb62=_0x1b09c4,_0x4b68b4=_0xc6ddaa[_0x34e484[_0x1dcb62(0x947)]]?.[_0x1dcb62(0xc54)]?.['length']||0x0,_0x149eed=Math[_0x1dcb62(0xc42)](_0x169026/_0x1e892a['length']);return _0x1dcb62(0x8a7)+_0x34e484[_0x1dcb62(0x947)]+_0x1dcb62(0x3fd)+_0x4b68b4+'/'+_0x149eed+_0x1dcb62(0x276)+_0x34e484[_0x1dcb62(0x24f)]+_0x1dcb62(0x51b);})[_0x1b09c4(0x935)](''),_0x13b9a9=_0x1e892a[_0x1b09c4(0x366)]((_0x5c7e14,_0x1ed205)=>_0x5c7e14+(_0xc6ddaa[_0x1ed205][_0x1b09c4(0xc54)]?.[_0x1b09c4(0x987)]||0x0),0x0),_0xc12200=currentQuizData[_0x1b09c4(0x72a)]['map']((_0x104804,_0x248aef)=>{const _0x7cde61=_0x1b09c4;let _0x297d27=null,_0x2010f7=null;for(const _0x3ddb6c of _0x1e892a){const _0x530bbf=_0xc6ddaa[_0x3ddb6c][_0x7cde61(0xc54)]?.[_0x7cde61(0x22a)](_0x198cb9=>_0x198cb9['questionIndex']===_0x248aef);if(_0x530bbf){_0x297d27=_0x530bbf,_0x2010f7=_0x3ddb6c;break;}}const _0x4afdf9=!!_0x297d27,_0x382f60=_0x4afdf9&&_0x297d27[_0x7cde61(0x653)],_0x303d7c=(Math['floor'](_0x248aef/_0x1e892a[_0x7cde61(0x987)])+0x1)*_0x1e892a[_0x7cde61(0x987)],_0x30c883=_0x13b9a9>=_0x303d7c,_0x8336f=_0x30c883?'bg-green-200\x20text-green-900':_0x7cde61(0x690),_0x44944c=_0x30c883?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x487947=_0x7cde61(0x826);return _0x4afdf9&&(_0x487947=_0x2010f7+_0x7cde61(0x2b1)+(_0x382f60?_0x7cde61(0x760):_0x7cde61(0x644))),_0x7cde61(0xaca)+_0x8336f+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x248aef+0x1)+_0x7cde61(0x821)+_0x44944c+_0x7cde61(0x567)+_0x487947+_0x7cde61(0xa1d);})[_0x1b09c4(0x935)]('');_0x60f8cb[_0x1b09c4(0x322)]=_0x1b09c4(0x938)+_0x1129a0+_0x1b09c4(0x40d)+_0xc12200+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x43717e=_0x15116f,_0x2ab68f=prompt(_0x43717e(0x396));if(!_0x2ab68f||_0x2ab68f[_0x43717e(0x6ad)]()[_0x43717e(0x987)]!==0x4){showMessage(_0x43717e(0x408));return;}try{const _0xf63b45=collection(db,_0x43717e(0xc14)+appId+'/public/data/teamQuizzes'),_0x15ac94=query(_0xf63b45,where(_0x43717e(0xbd2),'==',_0x2ab68f[_0x43717e(0x6ad)]()),where(_0x43717e(0x55a),'==',_0x43717e(0x72d))),_0x481d32=await getDocs(_0x15ac94);if(_0x481d32['empty']){showMessage(_0x43717e(0xc3d));return;}const _0x4f097b=_0x481d32[_0x43717e(0x610)][0x0];currentTeamQuizId=_0x4f097b['id'];const _0x414e7d=_0x4f097b[_0x43717e(0xc6b)](),_0xc5961a=doc(db,_0x43717e(0xc14)+appId+'/public/data/projects',_0x414e7d[_0x43717e(0xb9b)]),_0x2d2220=doc(db,_0x43717e(0xc14)+appId+'/public/data/quizzes',_0x414e7d[_0x43717e(0x502)]),[_0x5697b7,_0x208101]=await Promise['all']([getDoc(_0xc5961a),getDoc(_0x2d2220)]);if(!_0x5697b7['exists']()||!_0x208101['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x208101['id'],..._0x208101['data']()});const _0x1b58c3=_0x5697b7['data']();showTeamPlayerSelection(_0x1b58c3[_0x43717e(0x8ad)],currentQuizData[_0x43717e(0xc63)]);}catch(_0x4af23a){console[_0x43717e(0x13b)](_0x43717e(0x774),_0x4af23a),showMessage(_0x43717e(0x9ee)+_0x4af23a[_0x43717e(0x56e)]);}}async function handleJoinGroupActivity(){const _0x24afa3=_0x15116f,_0x4ba181=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x4ba181||_0x4ba181[_0x24afa3(0x6ad)]()['length']!==0x4){showMessage(_0x24afa3(0x4b9));return;}const _0x22b4eb=_0x4ba181[_0x24afa3(0x6ad)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x335261=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x5a6bd6=query(_0x335261,where(_0x24afa3(0xbd2),'==',_0x22b4eb),where('status','==','lobby')),_0x231a45=await getDocs(_0x5a6bd6);if(!_0x231a45[_0x24afa3(0x615)]){console[_0x24afa3(0x7d6)](_0x24afa3(0x4da)),await proceedWithTeamQuizJoin(_0x231a45[_0x24afa3(0x610)][0x0]);return;}const _0x55c389=collection(db,_0x24afa3(0xc14)+appId+_0x24afa3(0x13d)),_0x452e95=query(_0x55c389,where(_0x24afa3(0xbd2),'==',_0x22b4eb),where('status','==',_0x24afa3(0x72d))),_0xeee284=await getDocs(_0x452e95);if(!_0xeee284[_0x24afa3(0x615)]){console['log']('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0xeee284[_0x24afa3(0x610)][0x0]);return;}showMessage(_0x24afa3(0xa22));}catch(_0x31e365){console['error'](_0x24afa3(0x389),_0x31e365),showMessage(_0x24afa3(0x6d7)+_0x31e365['message']);}}async function proceedWithTeamQuizJoin(_0x1d6714){const _0x4aab5c=_0x15116f;currentTeamQuizId=_0x1d6714['id'];const _0x42f41b=_0x1d6714[_0x4aab5c(0xc6b)](),_0x3b3e45=doc(db,'artifacts/'+appId+_0x4aab5c(0x5cb),_0x42f41b[_0x4aab5c(0xb9b)]),_0x585477=doc(db,_0x4aab5c(0xc14)+appId+'/public/data/quizzes',_0x42f41b[_0x4aab5c(0x502)]),[_0xb2a21d,_0x39e1cb]=await Promise['all']([getDoc(_0x3b3e45),getDoc(_0x585477)]);if(!_0xb2a21d[_0x4aab5c(0xfc)]()||!_0x39e1cb[_0x4aab5c(0xfc)]())throw new Error(_0x4aab5c(0x475));currentQuizData=getShuffledQuiz({'id':_0x39e1cb['id'],..._0x39e1cb[_0x4aab5c(0xc6b)]()}),showTeamPlayerSelection(_0xb2a21d[_0x4aab5c(0xc6b)]()[_0x4aab5c(0x8ad)],currentQuizData[_0x4aab5c(0xc63)],_0x42f41b['mode']||_0x4aab5c(0x30f)),messageModal[_0x4aab5c(0x6e6)][_0x4aab5c(0x360)]('hidden');}async function proceedWithSyncQuizJoin(_0x15e1ff){const _0xf0a072=_0x15116f;currentLiveGameId=_0x15e1ff['id'];const _0x568ab1=_0x15e1ff[_0xf0a072(0xc6b)](),_0x262b01=doc(db,'artifacts/'+appId+_0xf0a072(0x42c),_0x568ab1[_0xf0a072(0x502)]),_0x6c0c80=await getDoc(_0x262b01);if(!_0x6c0c80['exists']())throw new Error(_0xf0a072(0xc0a));const _0x3bf065=_0x6c0c80[_0xf0a072(0xc6b)](),_0x4f8392=doc(db,_0xf0a072(0xc14)+appId+_0xf0a072(0x5cb),_0x3bf065[_0xf0a072(0xb9b)]),_0x302f62=await getDoc(_0x4f8392);if(!_0x302f62[_0xf0a072(0xfc)]())throw new Error(_0xf0a072(0x166));currentQuizData=_0x568ab1[_0xf0a072(0x4ff)],showView(_0xf0a072(0x182)),showTeamPlayerSelection(_0x302f62[_0xf0a072(0xc6b)]()['students'],_0x3bf065[_0xf0a072(0xc63)],_0xf0a072(0x3ee)),document[_0xf0a072(0x7a2)](_0xf0a072(0x85c))[_0xf0a072(0x695)]=confirmAndJoinSyncGame,messageModal['classList'][_0xf0a072(0x360)](_0xf0a072(0x106));}function getCleanApplicationHTML(){const _0x4366c9=_0x15116f,_0x2c0aed=document[_0x4366c9(0x7a2)](_0x4366c9(0x3b9));if(!_0x2c0aed)return'';const _0x159473=_0x2c0aed[_0x4366c9(0x9f4)](!![]);return _0x159473[_0x4366c9(0x17a)]('.application-options\x20button')[_0x4366c9(0x1b7)](_0x37db26=>{const _0x50c7b0=_0x4366c9;_0x37db26[_0x50c7b0(0x6e6)][_0x50c7b0(0x367)]('correct',_0x50c7b0(0x120)),_0x37db26[_0x50c7b0(0xc47)]=![];}),_0x159473[_0x4366c9(0x322)];}function showTeamPlayerSelection(_0x2f0605,_0x2a9e87,_0x2c6c09=_0x15116f(0x30f)){const _0x164d7a=_0x15116f;studentInitialView[_0x164d7a(0x6e6)][_0x164d7a(0x360)](_0x164d7a(0x106)),studentJoinGameView[_0x164d7a(0x6e6)]['add'](_0x164d7a(0x106)),document[_0x164d7a(0x7a2)]('student-team-selection-view')[_0x164d7a(0x6e6)]['remove'](_0x164d7a(0x106));let _0xc9ca44=_0x164d7a(0x21e);if(_0x2c6c09==='group')_0xc9ca44=_0x164d7a(0x8ac);else _0x2c6c09==='sync'&&(_0xc9ca44=_0x164d7a(0x74b));document[_0x164d7a(0x7a2)](_0x164d7a(0x16d))[_0x164d7a(0x930)]=_0xc9ca44+':\x20'+_0x2a9e87;const _0x2f58f9=document[_0x164d7a(0x7a2)](_0x164d7a(0x325));if(!_0x2f0605||_0x2f0605[_0x164d7a(0x987)]===0x0){_0x2f58f9[_0x164d7a(0x322)]=_0x164d7a(0xa1b),document[_0x164d7a(0x7a2)](_0x164d7a(0x85c))[_0x164d7a(0xc47)]=!![];return;}_0x2f58f9['innerHTML']=_0x2f0605[_0x164d7a(0x217)](_0x89896e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x89896e+_0x164d7a(0x5ce)+_0x89896e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x164d7a(0x935)](''),document[_0x164d7a(0x7a2)]('confirm-team-players-btn')[_0x164d7a(0xc47)]=![];}async function confirmAndStartTeamQuiz(){const _0x2a4939=_0x15116f,_0xb30882=Array[_0x2a4939(0x636)](document['querySelectorAll'](_0x2a4939(0x687)))[_0x2a4939(0x217)](_0xd44824=>_0xd44824[_0x2a4939(0x682)]);if(_0xb30882['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xb30882,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x476dae=doc(db,_0x2a4939(0xc14)+appId+_0x2a4939(0xb78),currentTeamQuizId);try{const _0x3c0fa3=await getDoc(_0x476dae);if(!_0x3c0fa3[_0x2a4939(0xfc)]())throw new Error('ไม่พบข้อมูลเกม');const _0x219a60=_0x3c0fa3[_0x2a4939(0xc6b)]();if(_0x219a60[_0x2a4939(0x8d5)]===_0x2a4939(0x867)){const _0x1e648c={[_0x2a4939(0x991)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x476dae,_0x1e648c);}else{const _0x503ad4=_0x219a60['responses']||{};localTeamPlayers[_0x2a4939(0x1b7)](_0x42b958=>{!_0x503ad4[_0x42b958]&&(_0x503ad4[_0x42b958]={'score':0x0,'answers':[]});}),await updateDoc(_0x476dae,{'responses':_0x503ad4});}document[_0x2a4939(0x7a2)](_0x2a4939(0x40e))['classList']['add']('hidden'),renderTeamQuizQuestion();const _0x3ab117={'gameId':currentTeamQuizId,'mode':_0x219a60[_0x2a4939(0x8d5)]||_0x2a4939(0x30f),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x2a4939(0x9fd),JSON[_0x2a4939(0x352)](_0x3ab117)),listenForTeamQuizUpdates();}catch(_0x3450bf){console[_0x2a4939(0x13b)](_0x2a4939(0x12c),_0x3450bf),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x1e5d61=_0x15116f;if(localQuestionIndex>=currentQuizData['questions'][_0x1e5d61(0x987)]){displayTeamQuizFinalResults();return;}const _0x265149=currentQuizData[_0x1e5d61(0x72a)][localQuestionIndex],_0x18a634=localTeamPlayers[localPlayerIndex],_0x2b17f8=_0x265149[_0x1e5d61(0x5ac)]||currentQuizData[_0x1e5d61(0xbe2)];let _0x25a0a5=_0x265149[_0x1e5d61(0xa68)]||_0x265149[_0x1e5d61(0x187)],_0x42e114='';switch(_0x2b17f8){case'multiple_choice':case _0x1e5d61(0x931):_0x42e114=_0x265149[_0x1e5d61(0xbd3)][_0x1e5d61(0x217)]((_0x238ca7,_0x5c2781)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5c2781+_0x1e5d61(0x712)+_0x5c2781+_0x1e5d61(0x681)+_0x5c2781+'\x22>'+_0x238ca7+_0x1e5d61(0x876))[_0x1e5d61(0x935)]('');break;case _0x1e5d61(0x1dd):_0x42e114=_0x1e5d61(0x404);break;case _0x1e5d61(0xb64):case _0x1e5d61(0x1f3):_0x42e114='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case'matching_item':_0x42e114=_0x1e5d61(0x953)+_0x265149[_0x1e5d61(0xa84)]['map'](_0x3e770a=>_0x1e5d61(0x559)+_0x3e770a+'\x22>'+_0x3e770a+_0x1e5d61(0x76d))[_0x1e5d61(0x935)]('')+_0x1e5d61(0xb2a);break;default:_0x42e114=_0x1e5d61(0x39c);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x1e5d61(0xaaf)+currentQuizData[_0x1e5d61(0x72a)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x18a634+_0x1e5d61(0x666)+(localQuestionIndex+0x1)+'.\x20'+_0x25a0a5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x265149['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x265149[_0x1e5d61(0x8b6)]+_0x1e5d61(0x5ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x42e114+_0x1e5d61(0x917),studentQuizArea[_0x1e5d61(0x6e6)][_0x1e5d61(0x367)](_0x1e5d61(0x106));if(window['MathJax'])MathJax[_0x1e5d61(0x107)]([studentQuizArea]);document[_0x1e5d61(0x7a2)]('submit-team-answer-btn')[_0x1e5d61(0x6d5)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3de9f9=_0x15116f,_0x12a8ed=currentQuizData[_0x3de9f9(0x72a)][localQuestionIndex],_0x56fef1=_0x12a8ed[_0x3de9f9(0x5ac)]||currentQuizData[_0x3de9f9(0xbe2)];let _0x5ad718=null,_0x13d518=![];if(_0x56fef1===_0x3de9f9(0xb64)||_0x56fef1===_0x3de9f9(0x1f3)){const _0x3e4c20=document['querySelector'](_0x3de9f9(0x2b9));if(!_0x3e4c20||!_0x3e4c20['value'][_0x3de9f9(0x6ad)]()){showMessage(_0x3de9f9(0xc0b));return;}_0x5ad718=_0x3e4c20[_0x3de9f9(0x682)][_0x3de9f9(0x6ad)](),_0x13d518=await gradeShortAnswer(_0x5ad718,_0x12a8ed);}else{const _0xd921f1=document[_0x3de9f9(0xba0)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0xd921f1||_0xd921f1[_0x3de9f9(0x682)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x5ad718=_0xd921f1['value'];switch(_0x56fef1){case'true_false':_0x13d518=_0x5ad718===_0x3de9f9(0x7d1)===_0x12a8ed[_0x3de9f9(0x7b8)];break;case _0x3de9f9(0xb55):_0x13d518=_0x5ad718===_0x12a8ed[_0x3de9f9(0x76c)];break;default:_0x13d518=parseInt(_0x5ad718)===_0x12a8ed[_0x3de9f9(0x4fa)];break;}}const _0x5c9671={'questionIndex':localQuestionIndex,'isCorrect':_0x13d518},_0x123b24=userId,_0x227e8b={[_0x3de9f9(0x991)+_0x123b24+_0x3de9f9(0x267)]:arrayUnion(_0x5c9671)};_0x13d518&&(_0x227e8b[_0x3de9f9(0x991)+_0x123b24+_0x3de9f9(0x548)]=increment(0x1));try{await updateDoc(doc(db,_0x3de9f9(0xc14)+appId+_0x3de9f9(0xb78),currentTeamQuizId),_0x227e8b),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x3de9f9(0x72a)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2a4755){console['error']('Error\x20submitting\x20group\x20answer:',_0x2a4755),showMessage(_0x3de9f9(0x67a));}}async function handleTeamAnswerSubmit(){const _0x424168=_0x15116f,_0xbd3279=await getDoc(doc(db,_0x424168(0xc14)+appId+_0x424168(0xb78),currentTeamQuizId));if(!_0xbd3279[_0x424168(0xfc)]())return;const _0x84d494=_0xbd3279['data']();if(_0x84d494[_0x424168(0x8d5)]===_0x424168(0x867)){handleGroupAnswerSubmit();return;}const _0x4a9151=localTeamPlayers[localPlayerIndex],_0x17b1a7=currentQuizData[_0x424168(0x72a)][localQuestionIndex],_0x4db7d0=_0x17b1a7[_0x424168(0x5ac)]||currentQuizData[_0x424168(0xbe2)];let _0x7fa627=null,_0x292750=![];if(_0x4db7d0===_0x424168(0xb64)||_0x4db7d0===_0x424168(0x1f3)){const _0xad29b7=document[_0x424168(0xba0)](_0x424168(0x2b9));if(!_0xad29b7||!_0xad29b7[_0x424168(0x682)][_0x424168(0x6ad)]()){showMessage(_0x424168(0xb29));return;}_0x7fa627=_0xad29b7[_0x424168(0x682)][_0x424168(0x6ad)](),_0x292750=await gradeShortAnswer(_0x7fa627,_0x17b1a7);}else{const _0x45669d=document[_0x424168(0xba0)](_0x424168(0x395));if(!_0x45669d||_0x45669d[_0x424168(0x682)]===''){showMessage(_0x424168(0x49c));return;}_0x7fa627=_0x45669d[_0x424168(0x682)];switch(_0x4db7d0){case _0x424168(0x1dd):_0x292750=_0x7fa627===_0x424168(0x7d1)===_0x17b1a7[_0x424168(0x7b8)];break;case'matching_item':_0x292750=_0x7fa627===_0x17b1a7[_0x424168(0x76c)];break;default:_0x292750=parseInt(_0x7fa627)===_0x17b1a7[_0x424168(0x4fa)];break;}}const _0x399d14={'questionIndex':localQuestionIndex,'isCorrect':_0x292750,'answerValue':_0x7fa627},_0x22fdd4={[_0x424168(0xacc)+_0x4a9151+'.answers']:arrayUnion(_0x399d14)};_0x292750&&(_0x22fdd4[_0x424168(0xacc)+_0x4a9151+_0x424168(0x548)]=increment(0x1));try{await updateDoc(doc(db,_0x424168(0xc14)+appId+_0x424168(0xb78),currentTeamQuizId),_0x22fdd4),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x424168(0x987)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x1abb47){console[_0x424168(0x13b)](_0x424168(0xbde),_0x1abb47),showMessage(_0x424168(0x67a));}}async function displayTeamQuizFinalResults(){const _0x113a09=_0x15116f;studentQuizArea['classList'][_0x113a09(0x360)](_0x113a09(0x106)),studentResultArea[_0x113a09(0x6e6)][_0x113a09(0x367)](_0x113a09(0x106));const _0x73241f=doc(db,'artifacts/'+appId+_0x113a09(0xb78),currentTeamQuizId),_0x17a591=await getDoc(_0x73241f);if(!_0x17a591[_0x113a09(0xfc)]()){studentResultArea[_0x113a09(0x322)]=_0x113a09(0x551);return;}const _0x6bdc24=_0x17a591[_0x113a09(0xc6b)]();let _0x148982=[];const _0x3dca31=_0x6bdc24[_0x113a09(0x8d5)]||_0x113a09(0x30f);if(_0x3dca31===_0x113a09(0x867)){const _0x515c60=_0x6bdc24['groups'][userId];_0x515c60?_0x148982=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x113a09(0x935)](',\x20'),'score':_0x515c60[_0x113a09(0x24f)]||0x0}]:_0x148982=[{'name':_0x113a09(0x39b),'score':_0x113a09(0xaee)}];}else _0x148982=localTeamPlayers['map'](_0x5e548e=>({'name':_0x5e548e,'score':_0x6bdc24[_0x113a09(0x5f2)][_0x5e548e]?.[_0x113a09(0x24f)]||0x0}))[_0x113a09(0x2ea)]((_0xba1f9e,_0x5c4485)=>_0x5c4485[_0x113a09(0x24f)]-_0xba1f9e[_0x113a09(0x24f)]);studentResultArea[_0x113a09(0x322)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x148982[_0x113a09(0x217)](_0x23d45c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x23d45c[_0x113a09(0x947)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x23d45c[_0x113a09(0x24f)]+_0x113a09(0xaff))[_0x113a09(0x935)]('')+_0x113a09(0x381),sessionStorage[_0x113a09(0x19e)]('activeGameSession'),currentMode===_0x113a09(0x18b)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x15116f(0x939),'pinnedProjects':[],'projectView':_0x15116f(0x2e1)};const allMathTopics=[{'category':_0x15116f(0xab7),'name':_0x15116f(0x28f)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x4f0)},{'category':'จำนวนและการดำเนินการ','name':_0x15116f(0x3a1)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x9d9)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x547)},{'category':'จำนวนและการดำเนินการ','name':_0x15116f(0x349)},{'category':_0x15116f(0xab7),'name':_0x15116f(0xbb5)},{'category':_0x15116f(0xab7),'name':'การหาร'},{'category':_0x15116f(0xab7),'name':_0x15116f(0x500)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x5d7)},{'category':_0x15116f(0xab7),'name':_0x15116f(0xb15)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x891)},{'category':_0x15116f(0xab7),'name':'เส้นจำนวน'},{'category':_0x15116f(0xab7),'name':_0x15116f(0x25e)},{'category':_0x15116f(0xab7),'name':_0x15116f(0xad6)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x390)},{'category':_0x15116f(0xab7),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x15116f(0x707)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x244)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x5c4)},{'category':_0x15116f(0xab7),'name':'การลบเศษส่วน'},{'category':_0x15116f(0xab7),'name':'การคูณเศษส่วน'},{'category':_0x15116f(0xab7),'name':'การหารเศษส่วน'},{'category':_0x15116f(0xab7),'name':_0x15116f(0xbc9)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x54a)},{'category':_0x15116f(0xab7),'name':'การบวกทศนิยม'},{'category':_0x15116f(0xab7),'name':_0x15116f(0x1eb)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x63d)},{'category':_0x15116f(0xab7),'name':'การหารทศนิยม'},{'category':_0x15116f(0xab7),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x15116f(0xab7),'name':_0x15116f(0x54e)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x8fb)},{'category':'จำนวนและการดำเนินการ','name':_0x15116f(0x9dd)},{'category':_0x15116f(0xab7),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x15116f(0xab7),'name':_0x15116f(0xb03)},{'category':_0x15116f(0xab7),'name':_0x15116f(0x5e5)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x15116f(0x14a),'name':_0x15116f(0x672)},{'category':_0x15116f(0x14a),'name':_0x15116f(0x229)},{'category':_0x15116f(0x14a),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x15116f(0x14a),'name':_0x15116f(0xa23)},{'category':_0x15116f(0x14a),'name':_0x15116f(0xae1)},{'category':_0x15116f(0x14a),'name':_0x15116f(0xba2)},{'category':_0x15116f(0x14a),'name':_0x15116f(0x585)},{'category':'การวัด','name':_0x15116f(0x647)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x15116f(0x14a),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x15116f(0x14a),'name':'มุมและการวัดมุม'},{'category':_0x15116f(0x14a),'name':_0x15116f(0xae8)},{'category':'การวัด','name':_0x15116f(0xb1b)},{'category':_0x15116f(0xae6),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':'เรขาคณิต','name':_0x15116f(0xac8)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x509)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x647)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x750)},{'category':_0x15116f(0xae6),'name':'ความคล้ายของรูป'},{'category':_0x15116f(0xae6),'name':_0x15116f(0x943)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x212)},{'category':'เรขาคณิต','name':_0x15116f(0x27f)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x7f0)},{'category':_0x15116f(0xae6),'name':_0x15116f(0xc2f)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x58b)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x22b)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x5b3)},{'category':_0x15116f(0xae6),'name':_0x15116f(0x726)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x33f)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xbae)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xbb6)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x58f)},{'category':_0x15116f(0x6f9),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xb42)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xbbf)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x8ec)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x5bd)},{'category':_0x15116f(0x6f9),'name':'สมการราก\x20(radical)'},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x5b6)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x50a)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x359)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xa09)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x89a)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x890)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15116f(0x6af)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15116f(0x925)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x20d)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x789)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x181)},{'category':_0x15116f(0x6f9),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x15116f(0x6f9),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x15116f(0x6f9),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x15116f(0x6f9),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x255)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x68f)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x6ba)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x4d5)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0xb67)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15116f(0x25a)},{'category':_0x15116f(0x6f9),'name':_0x15116f(0x758)},{'category':'เรขาคณิตวิเคราะห์','name':_0x15116f(0xc59)},{'category':_0x15116f(0x1d3),'name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x15116f(0x6b9)},{'category':'เรขาคณิตวิเคราะห์','name':_0x15116f(0xaa1)},{'category':_0x15116f(0x1d3),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x15116f(0x1d3),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x15116f(0x1d3),'name':_0x15116f(0x83e)},{'category':_0x15116f(0x1d3),'name':_0x15116f(0x44c)},{'category':_0x15116f(0x1d3),'name':_0x15116f(0x643)},{'category':_0x15116f(0x46d),'name':_0x15116f(0xb0b)},{'category':_0x15116f(0x46d),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x15116f(0x46d),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x15116f(0x46d),'name':_0x15116f(0x8ae)},{'category':_0x15116f(0x46d),'name':_0x15116f(0x958)},{'category':'ตรีโกณมิติ','name':_0x15116f(0x8b3)},{'category':_0x15116f(0x46d),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x15116f(0xb8c)},{'category':_0x15116f(0x46d),'name':_0x15116f(0x2d4)},{'category':_0x15116f(0x46d),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':_0x15116f(0x8b8)},{'category':'สถิติและความน่าจะเป็น','name':_0x15116f(0xc01)},{'category':_0x15116f(0xa7f),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x15116f(0xa7f),'name':'ตารางความถี่'},{'category':_0x15116f(0xa7f),'name':_0x15116f(0xa42)},{'category':'สถิติและความน่าจะเป็น','name':_0x15116f(0x4bf)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x55e)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x58d)},{'category':_0x15116f(0xa7f),'name':'มัธยฐาน'},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x204)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x674)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x15116f(0xa7f),'name':'ความแปรปรวน'},{'category':_0x15116f(0xa7f),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x852)},{'category':'สถิติและความน่าจะเป็น','name':_0x15116f(0x3a9)},{'category':_0x15116f(0xa7f),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x15116f(0x777)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x9dc)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0xa34)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x15116f(0x9ac)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x35d)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0xb8b)},{'category':_0x15116f(0xa7f),'name':_0x15116f(0x1bd)},{'category':_0x15116f(0xb05),'name':'ลิมิต'},{'category':_0x15116f(0xb05),'name':_0x15116f(0x763)},{'category':_0x15116f(0xb05),'name':_0x15116f(0x443)},{'category':'แคลคูลัสเบื้องต้น','name':_0x15116f(0x269)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x15116f(0xb05),'name':_0x15116f(0x40f)},{'category':_0x15116f(0xb05),'name':_0x15116f(0x729)},{'category':_0x15116f(0xb05),'name':_0x15116f(0x358)},{'category':'แคลคูลัสเบื้องต้น','name':_0x15116f(0x284)},{'category':'แคลคูลัสเบื้องต้น','name':_0x15116f(0x290)},{'category':_0x15116f(0xb05),'name':'ปริพันธ์จำกัด'},{'category':_0x15116f(0xb05),'name':_0x15116f(0xa24)},{'category':_0x15116f(0xb05),'name':_0x15116f(0x884)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x60b)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x380)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x446)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x15116f(0xa6f)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x1a4)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x90f)},{'category':_0x15116f(0x4f4),'name':_0x15116f(0x424)},{'category':_0x15116f(0xa98),'name':_0x15116f(0x3d4)},{'category':_0x15116f(0xa98),'name':_0x15116f(0x531)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x15116f(0x67e)},{'category':_0x15116f(0xa98),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x15116f(0xb6a)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x15116f(0x46e)},{'category':_0x15116f(0x17e),'name':_0x15116f(0x3a2)},{'category':_0x15116f(0x17e),'name':_0x15116f(0xbf1)}];function renderTopicCheckboxes(){const _0x37a726=_0x15116f,_0x4b11e2=document[_0x37a726(0x7a2)](_0x37a726(0x738));if(!_0x4b11e2)return;const _0x1134bd=allMathTopics,_0x524362=customMathTopics[_0x37a726(0x217)](_0x5481f3=>({'id':_0x5481f3['id'],'category':_0x37a726(0xb41),'name':_0x5481f3['name']})),_0xc1f754=[..._0x1134bd,..._0x524362],_0x10e160=_0xc1f754[_0x37a726(0x366)]((_0xb3568f,_0x439ab4)=>{const _0x5b07b0=_0x37a726;return!_0xb3568f[_0x439ab4[_0x5b07b0(0x42b)]]&&(_0xb3568f[_0x439ab4[_0x5b07b0(0x42b)]]=[]),_0xb3568f[_0x439ab4[_0x5b07b0(0x42b)]][_0x5b07b0(0x8e7)](_0x439ab4),_0xb3568f;},{});let _0x56190f='';const _0x183b98=['หัวข้อที่สร้างเอง',...Object[_0x37a726(0x377)](_0x10e160)[_0x37a726(0x431)](_0x411e20=>_0x411e20!==_0x37a726(0xb41))];for(const _0x2bb05e of _0x183b98){if(_0x10e160[_0x2bb05e]){const _0x1ed40d=_0x2bb05e===_0x37a726(0xb41),_0x99e18e=_0x1ed40d?_0x37a726(0x8cd):'fas\x20fa-bookmark',_0x2e2b60=_0x1ed40d?_0x37a726(0x795):_0x37a726(0x7b5);_0x56190f+=_0x37a726(0x1d6),_0x56190f+=_0x37a726(0x984)+_0x2e2b60+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x99e18e+'\x20mr-2\x22></i>'+_0x2bb05e+_0x37a726(0x7db),_0x10e160[_0x2bb05e][_0x37a726(0x1b7)](_0x511fc9=>{const _0x509dd7=_0x37a726,_0x515966=!!_0x511fc9['id'],_0x3e9cbb=_0x515966?_0x509dd7(0x5d0)+_0x511fc9['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x511fc9['id']+_0x509dd7(0xbd8)+_0x511fc9['id']+_0x509dd7(0x62f)+_0x511fc9['id']+_0x509dd7(0x477):'';_0x56190f+=_0x509dd7(0x44b)+(_0x511fc9['id']||'')+_0x509dd7(0x97b)+_0x511fc9[_0x509dd7(0x947)]+_0x509dd7(0x34f)+_0x511fc9[_0x509dd7(0x947)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x515966?_0x509dd7(0x41b)+_0x511fc9[_0x509dd7(0x947)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e9cbb+_0x509dd7(0x5ed);}),_0x56190f+='</div>';}}_0x4b11e2[_0x37a726(0x322)]=_0x56190f||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x4b11e2['removeEventListener'](_0x37a726(0x19b),updateSelectedTopicsCount),_0x4b11e2[_0x37a726(0x6d5)](_0x37a726(0x19b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x16e14c,_0x32fce2){const _0x4531ef=_0x15116f;if(!_0x16e14c||!_0x32fce2[_0x4531ef(0x6ad)]()){showMessage(_0x4531ef(0x43a));return;}try{const _0x3fe71a=doc(db,'artifacts/'+appId+_0x4531ef(0x84f),_0x16e14c);await updateDoc(_0x3fe71a,{'name':_0x32fce2[_0x4531ef(0x6ad)]()}),showMessage(_0x4531ef(0x5b5));}catch(_0x4c67df){console[_0x4531ef(0x13b)](_0x4531ef(0x558),_0x4c67df),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x22e6d0,_0x570083){const _0x5ad5aa=_0x15116f;if(!_0x22e6d0)return;const _0x1b92d7=_0x22e6d0[_0x5ad5aa(0xba0)](_0x5ad5aa(0xa4a)),_0x3f7c1e=_0x22e6d0[_0x5ad5aa(0xba0)](_0x5ad5aa(0xac2)),_0x297dd5=_0x22e6d0[_0x5ad5aa(0xba0)]('.topic-actions-view'),_0x4cb6dc=_0x22e6d0['querySelector'](_0x5ad5aa(0xa70));_0x1b92d7[_0x5ad5aa(0x6e6)][_0x5ad5aa(0xb38)](_0x5ad5aa(0x106),_0x570083),_0x3f7c1e[_0x5ad5aa(0x6e6)][_0x5ad5aa(0xb38)](_0x5ad5aa(0x106),!_0x570083),_0x297dd5[_0x5ad5aa(0x6e6)]['toggle']('hidden',_0x570083),_0x4cb6dc['classList'][_0x5ad5aa(0xb38)](_0x5ad5aa(0x106),!_0x570083),_0x570083&&(_0x3f7c1e[_0x5ad5aa(0x24e)](),_0x3f7c1e[_0x5ad5aa(0x579)]());}async function handleStartLiveRace(_0x642e35){const _0x2f5a1e=_0x15116f;let _0x3a7c18=allQuizzes[_0x2f5a1e(0x22a)](_0x44c6e9=>_0x44c6e9['id']===_0x642e35);if(!_0x3a7c18){const _0x57e9c4=doc(db,_0x2f5a1e(0xc14)+appId+_0x2f5a1e(0x42c),_0x642e35),_0xb66852=await getDoc(_0x57e9c4);if(!_0xb66852[_0x2f5a1e(0xfc)]()){showMessage(_0x2f5a1e(0xc0a));return;}_0x3a7c18={'id':_0xb66852['id'],..._0xb66852[_0x2f5a1e(0xc6b)]()};}const _0x7e50c4=getShuffledQuiz(_0x3a7c18);currentQuizData=_0x7e50c4;const _0x50f38e=_0x3a7c18['projectId']||currentProjectId||null,_0x381f14=Math[_0x2f5a1e(0x1c8)](0x3e8+Math[_0x2f5a1e(0xaeb)]()*0x2328)[_0x2f5a1e(0x42f)]();currentLiveGamePin=_0x381f14;try{const _0x5eda44=await addDoc(collection(db,_0x2f5a1e(0xc14)+appId+_0x2f5a1e(0x69b)),{'quizId':_0x642e35,'projectId':_0x50f38e,'status':_0x2f5a1e(0x72d),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x381f14,'createdAt':serverTimestamp(),'shuffledQuiz':_0x7e50c4});currentLiveGameId=_0x5eda44['id'],showAdminLobbyView(_0x381f14,_0x3a7c18[_0x2f5a1e(0xc63)]),listenForLiveGameUpdates();}catch(_0xfb547){console['error'](_0x2f5a1e(0x453),_0xfb547),showMessage(_0x2f5a1e(0x384));}}function updateSelectedTopicsCount(){const _0x29a51f=_0x15116f,_0x1a62a3=document[_0x29a51f(0x7a2)](_0x29a51f(0x738)),_0x23c2de=_0x1a62a3[_0x29a51f(0x17a)]('input[type=\x22checkbox\x22]:checked')[_0x29a51f(0x987)],_0xcb99aa=document[_0x29a51f(0x7a2)](_0x29a51f(0x843));_0x23c2de>0x0?_0xcb99aa[_0x29a51f(0x930)]=_0x29a51f(0x80f)+_0x23c2de+_0x29a51f(0x5f6):_0xcb99aa['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x15116f(0xb56),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x15116f(0x886),quizLeaderboardSortOrder=_0x15116f(0xa69),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x15116f(0x649),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x15116f(0x49f),scratchpadPenColor=_0x15116f(0x88d),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x40eddf,_0x535a9d){const _0x1ddae9=_0x15116f;return Math[_0x1ddae9(0x26a)](Math[_0x1ddae9(0xa55)](_0x40eddf['x']-_0x535a9d['x'],0x2)+Math[_0x1ddae9(0xa55)](_0x40eddf['y']-_0x535a9d['y'],0x2));}function getMidpoint(_0x5d8260,_0x284c62){return{'x':(_0x5d8260['x']+_0x284c62['x'])/0x2,'y':(_0x5d8260['y']+_0x284c62['y'])/0x2};}function getTransformedPoint(_0x11145c,_0xb08727){return{'x':(_0x11145c-scratchpadOffset['x'])/scratchpadScale,'y':(_0xb08727-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3ac5c9=_0x15116f;if(!scratchpadCtx)return;const _0x1b597a=scratchpadCtx[_0x3ac5c9(0x736)],_0x275ff1=window[_0x3ac5c9(0x7d9)]||0x1,_0x411720=document[_0x3ac5c9(0x7a2)]('scratchpad-header');_0x411720&&(_0x411720[_0x3ac5c9(0x1af)][_0x3ac5c9(0x3c9)]='0\x200',_0x411720[_0x3ac5c9(0x1af)][_0x3ac5c9(0x511)]=_0x3ac5c9(0x28b)+scratchpadOffset['x']+_0x3ac5c9(0xc36)+scratchpadOffset['y']+_0x3ac5c9(0x439)+scratchpadScale+')'),scratchpadCtx[_0x3ac5c9(0xa1f)](),scratchpadCtx['setTransform'](_0x275ff1,0x0,0x0,_0x275ff1,0x0,0x0),scratchpadCtx[_0x3ac5c9(0x85b)](0x0,0x0,_0x1b597a['width'],_0x1b597a[_0x3ac5c9(0x965)]),scratchpadCtx['restore'](),scratchpadCtx[_0x3ac5c9(0xa1f)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x222456=>{drawStroke(_0x222456);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3ac5c9(0x860)]();}function renderGroupModeQuestion(){const _0x5f2b6a=_0x15116f;if(localQuestionIndex>=currentQuizData['questions'][_0x5f2b6a(0x987)]){displayTeamQuizFinalResults();return;}const _0x57aedf=currentQuizData[_0x5f2b6a(0x72a)][localQuestionIndex],_0x27e7c7=_0x57aedf[_0x5f2b6a(0x5ac)]||currentQuizData['quizType'];let _0xa2c1c8=_0x57aedf[_0x5f2b6a(0xa68)]||_0x57aedf[_0x5f2b6a(0x187)],_0x2dcb1f='';switch(_0x27e7c7){case _0x5f2b6a(0x2ac):case _0x5f2b6a(0x931):_0x2dcb1f=_0x57aedf['options']['map']((_0x2c61a9,_0x4437d1)=>_0x5f2b6a(0x81f)+_0x4437d1+_0x5f2b6a(0x712)+_0x4437d1+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x4437d1+'\x22>'+_0x2c61a9+_0x5f2b6a(0x876))[_0x5f2b6a(0x935)]('');break;case _0x5f2b6a(0x1dd):_0x2dcb1f=_0x5f2b6a(0x404);break;case _0x5f2b6a(0xb64):case'fill_in_no_choices':_0x2dcb1f=_0x5f2b6a(0x335);break;case _0x5f2b6a(0xb55):_0x2dcb1f=_0x5f2b6a(0x953)+_0x57aedf[_0x5f2b6a(0xa84)][_0x5f2b6a(0x217)](_0x2f1ae2=>_0x5f2b6a(0x559)+_0x2f1ae2+'\x22>'+_0x2f1ae2+_0x5f2b6a(0x76d))[_0x5f2b6a(0x935)]('')+_0x5f2b6a(0xb2a);break;default:_0x2dcb1f=_0x5f2b6a(0x39c);break;}studentQuizArea[_0x5f2b6a(0x322)]=_0x5f2b6a(0x5c0)+(localQuestionIndex+0x1)+_0x5f2b6a(0xaaf)+currentQuizData['questions'][_0x5f2b6a(0x987)]+_0x5f2b6a(0x5bc)+localTeamPlayers[_0x5f2b6a(0x935)](',\x20')+_0x5f2b6a(0x666)+(localQuestionIndex+0x1)+'.\x20'+_0xa2c1c8+_0x5f2b6a(0x662)+(_0x57aedf[_0x5f2b6a(0x8b6)]?_0x5f2b6a(0xb50)+_0x57aedf[_0x5f2b6a(0x8b6)]+_0x5f2b6a(0x5ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2dcb1f+_0x5f2b6a(0x6b8),studentQuizArea['classList'][_0x5f2b6a(0x367)](_0x5f2b6a(0x106));if(window[_0x5f2b6a(0x8a8)])MathJax[_0x5f2b6a(0x107)]([studentQuizArea]);document[_0x5f2b6a(0x7a2)](_0x5f2b6a(0x5fb))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2f4641,_0x15ba9b=null,_0x81b67b,_0x1e9255=null,_0x3bd1f6=![]){const _0x118c89=_0x15116f,_0x2e328d=document[_0x118c89(0x7a2)](_0x118c89(0x2f6));_0x2e328d&&_0x2e328d[_0x118c89(0xc2d)]({'behavior':'smooth','block':'center'}),generateQuiz(_0x2f4641,_0x15ba9b,null,null,!![],_0x81b67b,_0x1e9255,_0x3bd1f6);}function handleGenerateAndShowLesson(_0x53afc0,_0x23e056){const _0x25f131=_0x15116f,_0x57d860=document[_0x25f131(0x7a2)](_0x25f131(0x363)),_0xefcdfd=document[_0x25f131(0x7a2)]('lesson-view-title'),_0x14c09a=document[_0x25f131(0x7a2)](_0x25f131(0x132)),_0x36c91c=document[_0x25f131(0x7a2)]('lesson-sections-container');[_0x25f131(0x5d4),_0x25f131(0x5ea),'applicationContent',_0x25f131(0x580)][_0x25f131(0x1b7)](_0x1eefd1=>{const _0x1c7858=_0x25f131,_0x577f4d=document['getElementById'](_0x1eefd1)[_0x1c7858(0x5f7)];_0x577f4d&&(_0x577f4d[_0x1c7858(0x1af)]['display']=_0x1c7858(0x369));}),_0xefcdfd[_0x25f131(0x930)]='กำลังสร้างบทเรียน:\x20'+_0x53afc0,_0x36c91c[_0x25f131(0x6e6)][_0x25f131(0x360)](_0x25f131(0x106)),_0x14c09a[_0x25f131(0x6e6)][_0x25f131(0x367)](_0x25f131(0x106)),_0x57d860[_0x25f131(0x6e6)][_0x25f131(0x367)](_0x25f131(0x106)),generateLesson(_0x53afc0,_0x23e056)[_0x25f131(0xa6b)](_0x400cbb=>{const _0xc54e6e=_0x25f131;console['error']('Failed\x20to\x20generate\x20lesson:',_0x400cbb),showMessage(_0xc54e6e(0xb4e)),_0x57d860[_0xc54e6e(0x6e6)][_0xc54e6e(0x360)](_0xc54e6e(0x106));});}function handlePointerDown(_0x1514ff){const _0x25d028=_0x15116f;_0x1514ff[_0x25d028(0x623)]();const _0xb7db57=scratchpadCtx[_0x25d028(0x736)],_0x43474b=_0xb7db57[_0x25d028(0xadf)](),_0x320a7f=_0x1514ff['pointerType']||(_0x1514ff[_0x25d028(0x103)]?_0x25d028(0xba8):_0x25d028(0xbba));if(_0x320a7f===_0x25d028(0x49f)||_0x320a7f===_0x25d028(0xbba)){if(_0x1514ff['pointerType']===_0x25d028(0xbba)&&_0x1514ff[_0x25d028(0x141)]!==0x0){_0x1514ff['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x1514ff[_0x25d028(0x96d)],'y':_0x1514ff['clientY']},_0xb7db57[_0x25d028(0x1af)][_0x25d028(0x7af)]=_0x25d028(0x6f0));return;}activeTool===_0x25d028(0x7be)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2bbd17=getTransformedPoint(_0x1514ff[_0x25d028(0x96d)]-_0x43474b[_0x25d028(0x15a)],_0x1514ff[_0x25d028(0x5ee)]-_0x43474b['top']);let _0x860b25={'tool':activeTool,'points':[_0x2bbd17]};if(activeTool===_0x25d028(0x648))_0x860b25[_0x25d028(0x596)]=scratchpadHighlighterColor,_0x860b25[_0x25d028(0x84a)]=scratchpadHighlighterSize;else activeTool===_0x25d028(0x7be)?(_0x860b25['color']=scratchpadPenColor,_0x860b25['size']=scratchpadPenSize):(_0x860b25['color']=scratchpadPenColor,_0x860b25[_0x25d028(0x84a)]=scratchpadPenSize);currentStroke=_0x860b25;}else _0x1514ff[_0x25d028(0x103)]&&(_0x1514ff[_0x25d028(0x103)][_0x25d028(0x987)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1514ff[_0x25d028(0x103)][0x0][_0x25d028(0x96d)],'y':_0x1514ff[_0x25d028(0x103)][0x0]['clientY']},{'x':_0x1514ff[_0x25d028(0x103)][0x1][_0x25d028(0x96d)],'y':_0x1514ff['touches'][0x1][_0x25d028(0x5ee)]}),initialPinchDistance=getDistance({'x':_0x1514ff[_0x25d028(0x103)][0x0][_0x25d028(0x96d)],'y':_0x1514ff[_0x25d028(0x103)][0x0]['clientY']},{'x':_0x1514ff[_0x25d028(0x103)][0x1][_0x25d028(0x96d)],'y':_0x1514ff[_0x25d028(0x103)][0x1]['clientY']})));}function animateTrail(){const _0x55880a=_0x15116f,_0x47adee=Date[_0x55880a(0xb20)]();let _0x141d65=![];for(let _0x599f3f=strokes[_0x55880a(0x987)]-0x1;_0x599f3f>=0x0;_0x599f3f--){const _0x3740e6=strokes[_0x599f3f];if(_0x3740e6[_0x55880a(0x618)]===_0x55880a(0x7be)&&_0x3740e6['fadeStartTime']){const _0x442a85=_0x47adee-_0x3740e6[_0x55880a(0xb31)];_0x442a85>=TRAIL_DURATION?strokes[_0x55880a(0x299)](_0x599f3f,0x1):(_0x3740e6[_0x55880a(0x9c1)]=0x1-_0x442a85/TRAIL_DURATION,_0x141d65=!![]);}}redrawScratchpad(),_0x141d65?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x833b7a){const _0x48f25e=_0x15116f;if(!_0x833b7a||_0x833b7a['points'][_0x48f25e(0x987)]<0x1)return;scratchpadCtx[_0x48f25e(0xa1f)](),scratchpadCtx['lineJoin']=_0x48f25e(0x7b9),scratchpadCtx[_0x48f25e(0x532)]='round';if(_0x833b7a[_0x48f25e(0x618)]===_0x48f25e(0x7be)){const _0x19ddd5=_0x833b7a[_0x48f25e(0x84a)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x833b7a[_0x48f25e(0x9c1)]??0x1,scratchpadCtx[_0x48f25e(0x998)]=_0x48f25e(0x24c),scratchpadCtx[_0x48f25e(0x6a6)]=_0x19ddd5*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx['lineWidth']=_0x19ddd5*2.5,scratchpadCtx[_0x48f25e(0x4bc)](),scratchpadCtx['moveTo'](_0x833b7a['points'][0x0]['x'],_0x833b7a[_0x48f25e(0xa15)][0x0]['y']);for(let _0x4d8610=0x1;_0x4d8610<_0x833b7a[_0x48f25e(0xa15)][_0x48f25e(0x987)]-0x1;_0x4d8610++){const _0x3b3da1=getMidpoint(_0x833b7a['points'][_0x4d8610],_0x833b7a[_0x48f25e(0xa15)][_0x4d8610+0x1]);scratchpadCtx[_0x48f25e(0x170)](_0x833b7a[_0x48f25e(0xa15)][_0x4d8610]['x'],_0x833b7a[_0x48f25e(0xa15)][_0x4d8610]['y'],_0x3b3da1['x'],_0x3b3da1['y']);}scratchpadCtx[_0x48f25e(0x72e)](),scratchpadCtx[_0x48f25e(0x998)]=_0x48f25e(0xb76),scratchpadCtx[_0x48f25e(0x6a6)]=0x0,scratchpadCtx[_0x48f25e(0x6d9)]='#FFFFFF',scratchpadCtx[_0x48f25e(0xabe)]=_0x19ddd5,scratchpadCtx[_0x48f25e(0x72e)](),scratchpadCtx[_0x48f25e(0x3be)]();}else{if(_0x833b7a['tool']===_0x48f25e(0x648)){scratchpadCtx[_0x48f25e(0x8d4)]=_0x48f25e(0x581),scratchpadCtx['strokeStyle']=_0x833b7a[_0x48f25e(0x596)],scratchpadCtx[_0x48f25e(0xabe)]=_0x833b7a['size'],scratchpadCtx[_0x48f25e(0x4bc)](),scratchpadCtx[_0x48f25e(0x7e3)](_0x833b7a[_0x48f25e(0xa15)][0x0]['x'],_0x833b7a[_0x48f25e(0xa15)][0x0]['y']);for(let _0x14e0b4=0x1;_0x14e0b4<_0x833b7a['points']['length']-0x1;_0x14e0b4++){const _0x286fbf=getMidpoint(_0x833b7a['points'][_0x14e0b4],_0x833b7a[_0x48f25e(0xa15)][_0x14e0b4+0x1]);scratchpadCtx[_0x48f25e(0x170)](_0x833b7a[_0x48f25e(0xa15)][_0x14e0b4]['x'],_0x833b7a[_0x48f25e(0xa15)][_0x14e0b4]['y'],_0x286fbf['x'],_0x286fbf['y']);}scratchpadCtx[_0x48f25e(0x72e)](),scratchpadCtx[_0x48f25e(0x3be)]();}else{scratchpadCtx[_0x48f25e(0x8d4)]=_0x833b7a[_0x48f25e(0x618)]===_0x48f25e(0x583)?_0x48f25e(0x245):_0x48f25e(0xb23),scratchpadCtx['strokeStyle']=_0x833b7a[_0x48f25e(0x596)],scratchpadCtx['lineWidth']=_0x833b7a[_0x48f25e(0x84a)],scratchpadCtx[_0x48f25e(0x4bc)](),scratchpadCtx[_0x48f25e(0x7e3)](_0x833b7a[_0x48f25e(0xa15)][0x0]['x'],_0x833b7a[_0x48f25e(0xa15)][0x0]['y']);for(let _0x4ac59b=0x1;_0x4ac59b<_0x833b7a['points'][_0x48f25e(0x987)]-0x1;_0x4ac59b++){const _0x5139a9=getMidpoint(_0x833b7a[_0x48f25e(0xa15)][_0x4ac59b],_0x833b7a[_0x48f25e(0xa15)][_0x4ac59b+0x1]);scratchpadCtx[_0x48f25e(0x170)](_0x833b7a[_0x48f25e(0xa15)][_0x4ac59b]['x'],_0x833b7a[_0x48f25e(0xa15)][_0x4ac59b]['y'],_0x5139a9['x'],_0x5139a9['y']);}scratchpadCtx[_0x48f25e(0x72e)](),scratchpadCtx[_0x48f25e(0x3be)]();}}scratchpadCtx[_0x48f25e(0x860)]();}function handlePointerMove(_0x100f1b){const _0x2154f4=_0x15116f;_0x100f1b['preventDefault']();const _0x32df57=scratchpadCtx[_0x2154f4(0x736)],_0x24ae5b=_0x32df57[_0x2154f4(0xadf)]();if(_0x100f1b[_0x2154f4(0x103)]){if(_0x100f1b[_0x2154f4(0x103)]['length']===0x1&&isDrawingOnScratchpad){const _0x51cb5f=getTransformedPoint(_0x100f1b['touches'][0x0][_0x2154f4(0x96d)]-_0x24ae5b[_0x2154f4(0x15a)],_0x100f1b[_0x2154f4(0x103)][0x0][_0x2154f4(0x5ee)]-_0x24ae5b['top']);currentStroke[_0x2154f4(0xa15)][_0x2154f4(0x8e7)](_0x51cb5f),redrawScratchpad();}else{if(_0x100f1b[_0x2154f4(0x103)][_0x2154f4(0x987)]===0x2&&isPanning){const _0x525a49=getDistance({'x':_0x100f1b[_0x2154f4(0x103)][0x0][_0x2154f4(0x96d)],'y':_0x100f1b[_0x2154f4(0x103)][0x0][_0x2154f4(0x5ee)]},{'x':_0x100f1b[_0x2154f4(0x103)][0x1]['clientX'],'y':_0x100f1b[_0x2154f4(0x103)][0x1]['clientY']}),_0x57336f=getMidpoint({'x':_0x100f1b[_0x2154f4(0x103)][0x0]['clientX'],'y':_0x100f1b[_0x2154f4(0x103)][0x0][_0x2154f4(0x5ee)]},{'x':_0x100f1b[_0x2154f4(0x103)][0x1][_0x2154f4(0x96d)],'y':_0x100f1b['touches'][0x1]['clientY']}),_0x5bafb8=_0x525a49/ initialPinchDistance,_0x8d2b3=Math[_0x2154f4(0xa0f)](Math['max'](scratchpadScale*_0x5bafb8,MIN_SCALE),MAX_SCALE),_0x3eaeca=_0x57336f['x']-panStart['x'],_0x284e94=_0x57336f['y']-panStart['y'];scratchpadOffset['x']=_0x57336f['x']-(_0x57336f['x']-scratchpadOffset['x'])*(_0x8d2b3/scratchpadScale),scratchpadOffset['y']=_0x57336f['y']-(_0x57336f['y']-scratchpadOffset['y'])*(_0x8d2b3/scratchpadScale),scratchpadOffset['x']+=_0x3eaeca,scratchpadOffset['y']+=_0x284e94,scratchpadScale=_0x8d2b3,initialPinchDistance=_0x525a49,panStart=_0x57336f,redrawScratchpad();}}}else{if(isMousePanning){const _0x36a2d4=_0x100f1b[_0x2154f4(0x96d)]-panStart['x'],_0x3484a=_0x100f1b[_0x2154f4(0x5ee)]-panStart['y'];scratchpadOffset['x']+=_0x36a2d4,scratchpadOffset['y']+=_0x3484a,panStart={'x':_0x100f1b['clientX'],'y':_0x100f1b[_0x2154f4(0x5ee)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1a26d2=getTransformedPoint(_0x100f1b['clientX']-_0x24ae5b[_0x2154f4(0x15a)],_0x100f1b['clientY']-_0x24ae5b[_0x2154f4(0x6e5)]);currentStroke[_0x2154f4(0xa15)][_0x2154f4(0x8e7)](_0x1a26d2),redrawScratchpad();}}}}function handlePointerUp(_0x219b94){const _0x58f059=_0x15116f;_0x219b94[_0x58f059(0x623)]();const _0x26032b=scratchpadCtx[_0x58f059(0x736)];isMousePanning&&(isMousePanning=![],_0x26032b['style'][_0x58f059(0x7af)]=_0x58f059(0x86b)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x58f059(0x987)]>0x1&&(strokes[_0x58f059(0x8e7)](currentStroke),currentStroke[_0x58f059(0x618)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1b5e3d=_0x58f059,_0x571eed=strokes[_0x1b5e3d(0x431)](_0x4d9cd4=>_0x4d9cd4[_0x1b5e3d(0x618)]===_0x1b5e3d(0x7be)&&!_0x4d9cd4[_0x1b5e3d(0xb31)]);if(_0x571eed[_0x1b5e3d(0x987)]>0x0){const _0x50ae44=Date[_0x1b5e3d(0xb20)]();_0x571eed['forEach'](_0x17fe6d=>_0x17fe6d['fadeStartTime']=_0x50ae44),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x47686d){const _0x26dcab=_0x15116f;_0x47686d[_0x26dcab(0x623)]();const _0x271af2=_0x47686d[_0x26dcab(0x313)]*-0.005,_0x4a8bbe=Math[_0x26dcab(0xa0f)](Math['max'](scratchpadScale+_0x271af2,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x47686d['clientX']-(_0x47686d['clientX']-scratchpadOffset['x'])*(_0x4a8bbe/scratchpadScale),scratchpadOffset['y']=_0x47686d['clientY']-(_0x47686d[_0x26dcab(0x5ee)]-scratchpadOffset['y'])*(_0x4a8bbe/scratchpadScale),scratchpadScale=_0x4a8bbe,redrawScratchpad();}function undo(){const _0x27df26=_0x15116f;strokes[_0x27df26(0x987)]>0x0&&(redoStrokes[_0x27df26(0x8e7)](strokes[_0x27df26(0x62c)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x307113=_0x15116f;redoStrokes['length']>0x0&&(strokes[_0x307113(0x8e7)](redoStrokes[_0x307113(0x62c)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2a0967=_0x15116f;document['getElementById'](_0x2a0967(0xa81))[_0x2a0967(0xc47)]=strokes['length']===0x0,document[_0x2a0967(0x7a2)](_0x2a0967(0x447))['disabled']=redoStrokes[_0x2a0967(0x987)]===0x0;}function openScratchpad(_0x5ee622,_0x3da5da){const _0x2796fa=_0x15116f,_0x48775b=document[_0x2796fa(0x7a2)]('scratchpad-modal'),_0x368c05=document[_0x2796fa(0x7a2)](_0x2796fa(0x7d7)),_0x2e78da=document['getElementById'](_0x2796fa(0x4fc)),_0x287a40=document['getElementById']('scratchpad-controls');_0x368c05[_0x2796fa(0x322)]=_0x5ee622['stem']||_0x5ee622[_0x2796fa(0x187)],_0x2e78da[_0x2796fa(0x322)]=_0x3da5da[_0x2796fa(0x217)]((_0x2242ac,_0x497797)=>_0x2796fa(0x3cb)+String[_0x2796fa(0x3c4)](0x41+_0x497797)+'.\x20'+_0x2242ac+_0x2796fa(0x5ae))[_0x2796fa(0x935)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x48775b[_0x2796fa(0x6e6)]['remove'](_0x2796fa(0x106)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x2796fa(0x8a8)])MathJax[_0x2796fa(0x107)]([_0x368c05,_0x2e78da]);}function openBlueprintQuizSettings(){const _0x10c877=_0x15116f,_0x3275f5=document['getElementById'](_0x10c877(0x522)),_0x3135cf=blueprintPageSettings||(currentProjectData?currentProjectData[_0x10c877(0xad7)]:{})||{};document[_0x10c877(0x7a2)](_0x10c877(0x614))[_0x10c877(0x682)]=_0x3135cf[_0x10c877(0xbe2)]||document[_0x10c877(0x7a2)](_0x10c877(0x6a1))[_0x10c877(0x682)],document['getElementById'](_0x10c877(0x4f3))[_0x10c877(0x322)]=document[_0x10c877(0x7a2)]('difficulty-level-select')['innerHTML'],document[_0x10c877(0x7a2)](_0x10c877(0x4f3))[_0x10c877(0x682)]=_0x3135cf[_0x10c877(0x5f5)]||document[_0x10c877(0x7a2)](_0x10c877(0x20a))[_0x10c877(0x682)],document[_0x10c877(0x7a2)](_0x10c877(0x91d))[_0x10c877(0x322)]=document[_0x10c877(0x7a2)](_0x10c877(0x8a9))['innerHTML'],document[_0x10c877(0x7a2)](_0x10c877(0x91d))['value']=_0x3135cf[_0x10c877(0x43b)]||document[_0x10c877(0x7a2)]('question-complexity-select')[_0x10c877(0x682)],document[_0x10c877(0x7a2)](_0x10c877(0x3f8))[_0x10c877(0x682)]=_0x3135cf['numQuestions']||document[_0x10c877(0x7a2)]('num-questions')[_0x10c877(0x682)],document['getElementById']('bp-modal-passing-score-input')[_0x10c877(0x682)]=_0x3135cf[_0x10c877(0x1d0)]||document['getElementById'](_0x10c877(0x259))[_0x10c877(0x682)],document[_0x10c877(0x7a2)]('bp-modal-num-choices')[_0x10c877(0x682)]=_0x3135cf[_0x10c877(0x449)]||document[_0x10c877(0x7a2)](_0x10c877(0x888))[_0x10c877(0x682)],document['getElementById'](_0x10c877(0x83a))[_0x10c877(0x682)]=_0x3135cf[_0x10c877(0x661)]||document[_0x10c877(0x7a2)](_0x10c877(0x7cc))['value'],document[_0x10c877(0x7a2)](_0x10c877(0x79b))[_0x10c877(0x8cc)]=_0x3135cf[_0x10c877(0x5c3)]||document[_0x10c877(0x7a2)]('include-images-checkbox')['checked'],_0x3275f5[_0x10c877(0x6e6)]['remove'](_0x10c877(0x106));}function handleSaveBlueprintPageSettings(){const _0x13222f=_0x15116f;blueprintPageSettings={'quizType':document['getElementById'](_0x13222f(0x614))['value'],'difficultyValue':document[_0x13222f(0x7a2)](_0x13222f(0x4f3))[_0x13222f(0x682)],'complexityValue':document[_0x13222f(0x7a2)]('bp-modal-question-complexity-select')['value'],'numQuestions':document['getElementById']('bp-modal-num-questions')['value'],'passingScore':document['getElementById'](_0x13222f(0x3d6))[_0x13222f(0x682)],'numChoices':document[_0x13222f(0x7a2)](_0x13222f(0x159))['value'],'shuffle':document[_0x13222f(0x7a2)](_0x13222f(0x83a))['value'],'includeImages':document[_0x13222f(0x7a2)](_0x13222f(0x79b))[_0x13222f(0x8cc)]},showMessage(_0x13222f(0x287)),document[_0x13222f(0x7a2)](_0x13222f(0x522))[_0x13222f(0x6e6)]['add'](_0x13222f(0x106));}function listenForParallelTestShortcuts(){const _0x359516=_0x15116f,_0x521764=doc(db,'globalSettings',_0x359516(0x75e));onSnapshot(_0x521764,_0x1429fb=>{const _0x14ba23=_0x359516;let _0x5ee441=[],_0x13b280=[],_0x1808d0={};if(_0x1429fb[_0x14ba23(0xfc)]()){const _0xcd8e31=_0x1429fb[_0x14ba23(0xc6b)]();_0x5ee441=_0xcd8e31[_0x14ba23(0x906)]||[],_0x13b280=_0xcd8e31[_0x14ba23(0x34a)]||[],_0x1808d0=_0xcd8e31['parallelShortcutOrder']||{};}!_0x13b280[_0x14ba23(0x22a)](_0x53b725=>_0x53b725['id']===_0x14ba23(0x458))&&_0x13b280['unshift']({'id':'all','name':_0x14ba23(0x422),'isDefault':!![]}),!_0x5ee441[_0x14ba23(0x22a)](_0x2540dc=>_0x2540dc['id']===_0x14ba23(0x150))&&_0x5ee441['unshift']({'id':_0x14ba23(0x150),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x5ee441[_0x14ba23(0x22a)](_0x391d58=>_0x391d58['id']==='parallel-default-2')&&_0x5ee441['unshift']({'id':'parallel-default-2','name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x5ee441,parallelShortcutTabs=_0x13b280,parallelShortcutOrder=_0x1808d0,renderParallelTestShortcuts(),!document[_0x14ba23(0x7a2)](_0x14ba23(0x61c))[_0x14ba23(0x6e6)][_0x14ba23(0x7f1)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x8dad5d=_0x15116f,_0x3265d5=doc(db,_0x8dad5d(0x466),_0x8dad5d(0x75e));try{await setDoc(_0x3265d5,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x49c960){console[_0x8dad5d(0x13b)](_0x8dad5d(0x84b),_0x49c960);}}function renderAdditionalParallelShortcutsModal(){const _0x3e8db6=_0x15116f,_0x525f80=document['getElementById'](_0x3e8db6(0x3ad)),_0x3edd7c=document[_0x3e8db6(0x7a2)]('additional-parallel-shortcuts-list');if(!_0x525f80||!_0x3edd7c)return;_0x525f80[_0x3e8db6(0x322)]=parallelShortcutTabs[_0x3e8db6(0x217)](_0x85bea=>{const _0x597a0d=_0x3e8db6,_0x21fb1d=_0x85bea['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x85bea['id']+_0x597a0d(0x978)+(_0x21fb1d?_0x597a0d(0x946):_0x597a0d(0x597))+_0x597a0d(0x9ca)+_0x85bea[_0x597a0d(0x947)]+_0x597a0d(0x9d3)+_0x85bea[_0x597a0d(0x947)]+_0x597a0d(0x93d)+(!_0x85bea['isDefault']?_0x597a0d(0x667)+_0x85bea['id']+_0x597a0d(0x5cc):'')+_0x597a0d(0x981);})['join']('');const _0x2ffc41=parallelShortcutTabs[_0x3e8db6(0x22a)](_0x5d8dd5=>_0x5d8dd5['id']===activeParallelShortcutTabId);let _0x3a2fcd=_0x2ffc41?.[_0x3e8db6(0x6c7)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x3e8db6(0x431)](_0x3acc8f=>(_0x2ffc41?.[_0x3e8db6(0x497)]||[])[_0x3e8db6(0x679)](_0x3acc8f['id']));const _0x10db37=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3a2fcd[_0x3e8db6(0x2ea)]((_0x8dc2c8,_0x158aa6)=>{const _0x3b62dc=_0x3e8db6,_0x37fb1c=_0x10db37[_0x3b62dc(0xb0f)](_0x8dc2c8['id']),_0x41d187=_0x10db37[_0x3b62dc(0xb0f)](_0x158aa6['id']);return(_0x37fb1c===-0x1?Infinity:_0x37fb1c)-(_0x41d187===-0x1?Infinity:_0x41d187);}),_0x3edd7c['innerHTML']=_0x3a2fcd[_0x3e8db6(0x217)](_0x29b148=>{const _0x1ea0d9=_0x3e8db6,_0x24de73=_0x29b148[_0x1ea0d9(0x8af)]?'🔁':'🔗',_0x106e86=parallelShortcutTabs['filter'](_0x41f0ab=>!_0x41f0ab[_0x1ea0d9(0x6c7)]),_0x4d6f63=_0x2ffc41[_0x1ea0d9(0x6c7)]&&_0x106e86[_0x1ea0d9(0x987)]>0x0?_0x1ea0d9(0x5c2)+_0x106e86['map'](_0x5cb8bf=>_0x1ea0d9(0x629)+_0x29b148['id']+_0x1ea0d9(0x66b)+_0x5cb8bf['id']+'\x22>'+_0x5cb8bf['name']+_0x1ea0d9(0x556))['join']('')+_0x1ea0d9(0x6ce):'';return _0x1ea0d9(0xa3a)+_0x29b148['id']+_0x1ea0d9(0xa49)+_0x24de73+'\x20'+_0x29b148[_0x1ea0d9(0x947)]+_0x1ea0d9(0xa30)+_0x29b148['id']+_0x1ea0d9(0x271)+_0x29b148['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x29b148[_0x1ea0d9(0x6c7)]?_0x1ea0d9(0x218)+_0x29b148['id']+_0x1ea0d9(0x4fb):'')+_0x1ea0d9(0x114)+(!_0x2ffc41[_0x1ea0d9(0x6c7)]?_0x1ea0d9(0x7e7)+_0x29b148['id']+_0x1ea0d9(0x791):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d6f63+_0x1ea0d9(0xa7a);})[_0x3e8db6(0x935)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x28a157=_0x15116f;document[_0x28a157(0x17a)](_0x28a157(0x52e))[_0x28a157(0x1b7)](_0x5749bf=>{const _0x5290d4=_0x28a157;_0x5749bf[_0x5290d4(0x695)]=_0x4f7472=>{const _0x189cb9=_0x5290d4;activeParallelShortcutTabId=_0x4f7472[_0x189cb9(0x5f1)]['dataset'][_0x189cb9(0x96e)],renderAdditionalParallelShortcutsModal();},_0x5749bf[_0x5290d4(0x234)]=_0x153bbe=>{const _0x5822a8=_0x5290d4,_0x50c0f2=_0x153bbe['currentTarget']['querySelector'](_0x5822a8(0x329));_0x153bbe[_0x5822a8(0x5f1)][_0x5822a8(0xba0)]('.tab-name-display')['classList'][_0x5822a8(0x360)](_0x5822a8(0x106)),_0x50c0f2[_0x5822a8(0x6e6)][_0x5822a8(0x367)]('hidden'),_0x50c0f2[_0x5822a8(0x24e)](),_0x50c0f2[_0x5822a8(0x579)]();};}),document[_0x28a157(0x17a)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x2daab2=>{const _0x4d8f41=_0x28a157,_0x1adfe6=()=>{const _0x14791d=_0x1996,_0x3bca55=_0x2daab2[_0x14791d(0x38e)]('.parallel-shortcut-tab-btn')['dataset']['tabId'],_0x54e8b4=parallelShortcutTabs[_0x14791d(0x22a)](_0x2203da=>_0x2203da['id']===_0x3bca55);_0x54e8b4&&(_0x54e8b4[_0x14791d(0x947)]=_0x2daab2[_0x14791d(0x682)][_0x14791d(0x6ad)]()||_0x54e8b4[_0x14791d(0x947)],saveParallelShortcutConfig());};_0x2daab2[_0x4d8f41(0x1b6)]=_0x1adfe6,_0x2daab2[_0x4d8f41(0x7b6)]=_0x1c1cd5=>{const _0x18bd8c=_0x4d8f41;if(_0x1c1cd5[_0x18bd8c(0x167)]==='Enter')_0x2daab2['blur']();};}),document[_0x28a157(0x17a)]('.delete-parallel-shortcut-tab-btn')['forEach'](_0x5c2a16=>_0x5c2a16['onclick']=_0x95f87f=>{const _0x41ae05=_0x28a157,_0x3a8337=_0x95f87f[_0x41ae05(0x5f1)]['dataset'][_0x41ae05(0x96e)];showConfirmation(_0x41ae05(0x49d),()=>{const _0x18f02d=_0x41ae05;parallelShortcutTabs=parallelShortcutTabs[_0x18f02d(0x431)](_0x48c98b=>_0x48c98b['id']!==_0x3a8337),delete parallelShortcutOrder[_0x3a8337];if(activeParallelShortcutTabId===_0x3a8337)activeParallelShortcutTabId=_0x18f02d(0x458);saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x28a157(0x9df))[_0x28a157(0x1b7)](_0x4a8e06=>_0x4a8e06[_0x28a157(0x695)]=_0x2309ac=>{const _0x4b3651=_0x28a157;_0x2309ac[_0x4b3651(0x623)]();const {shortcutId:_0x59d6bd,targetTabId:_0x2f9997}=_0x2309ac[_0x4b3651(0x5f1)][_0x4b3651(0xb1e)],_0x3f636d=parallelShortcutTabs[_0x4b3651(0x22a)](_0x39f368=>_0x39f368['id']===_0x2f9997);_0x3f636d&&!_0x3f636d[_0x4b3651(0x497)][_0x4b3651(0x679)](_0x59d6bd)&&(_0x3f636d['shortcutIds'][_0x4b3651(0x8e7)](_0x59d6bd),saveParallelShortcutConfig());}),document[_0x28a157(0x17a)](_0x28a157(0x64f))[_0x28a157(0x1b7)](_0x534101=>_0x534101[_0x28a157(0x695)]=_0x501138=>{const _0x2a7208=_0x28a157,_0x1f1fae=_0x501138[_0x2a7208(0x5f1)][_0x2a7208(0xb1e)][_0x2a7208(0xa83)],_0x38bb88=parallelShortcutTabs[_0x2a7208(0x22a)](_0x346d63=>_0x346d63['id']===activeParallelShortcutTabId);_0x38bb88&&!_0x38bb88[_0x2a7208(0x6c7)]&&(_0x38bb88[_0x2a7208(0x497)]=_0x38bb88['shortcutIds'][_0x2a7208(0x431)](_0x365355=>_0x365355!==_0x1f1fae),saveParallelShortcutConfig());}),document[_0x28a157(0x17a)](_0x28a157(0xa88))['forEach'](_0x467f2d=>_0x467f2d[_0x28a157(0x695)]=_0x5da090=>{const _0x44d657=_0x28a157;_0x5da090[_0x44d657(0x92f)]();const _0x4007ce=_0x5da090['currentTarget'][_0x44d657(0xa50)];document[_0x44d657(0x17a)](_0x44d657(0x710))[_0x44d657(0x1b7)](_0x301638=>_0x301638['classList']['add']('hidden')),_0x4007ce[_0x44d657(0x6e6)]['remove']('hidden');});const _0x4c5390=document[_0x28a157(0x7a2)](_0x28a157(0xc34));let _0x1df4d2=null;_0x4c5390[_0x28a157(0x35b)]=_0x3d4dc2=>{const _0x217c62=_0x28a157;_0x1df4d2=_0x3d4dc2[_0x217c62(0x4c1)][_0x217c62(0x38e)]('.shortcut-list-item');if(_0x1df4d2)setTimeout(()=>_0x1df4d2[_0x217c62(0x6e6)][_0x217c62(0x360)]('opacity-50'),0x0);},_0x4c5390['ondragend']=()=>{const _0x399858=_0x28a157;_0x1df4d2&&(_0x1df4d2['classList'][_0x399858(0x367)](_0x399858(0x146)),_0x1df4d2=null);},_0x4c5390[_0x28a157(0xc2e)]=_0x42449=>{const _0x2a44d1=_0x28a157;_0x42449[_0x2a44d1(0x623)]();},_0x4c5390[_0x28a157(0xf5)]=_0x5b522d=>{const _0x427711=_0x28a157;_0x5b522d[_0x427711(0x623)]();if(_0x1df4d2){const _0x2bb4df=[..._0x4c5390[_0x427711(0x17a)]('.shortcut-list-item:not(.opacity-50)')][_0x427711(0x366)]((_0x2246ce,_0x332b3d)=>{const _0x2fa323=_0x427711,_0x4c7416=_0x332b3d[_0x2fa323(0xadf)](),_0x25f91c=_0x5b522d['clientY']-_0x4c7416[_0x2fa323(0x6e5)]-_0x4c7416[_0x2fa323(0x965)]/0x2;return _0x25f91c<0x0&&_0x25f91c>_0x2246ce[_0x2fa323(0x9d8)]?{'offset':_0x25f91c,'element':_0x332b3d}:_0x2246ce;},{'offset':Number[_0x427711(0x95f)]})[_0x427711(0x698)];_0x2bb4df==null?_0x4c5390[_0x427711(0xc10)](_0x1df4d2):_0x4c5390['insertBefore'](_0x1df4d2,_0x2bb4df);const _0x33d46b=[..._0x4c5390['querySelectorAll']('.shortcut-list-item')][_0x427711(0x217)](_0x3f99a0=>_0x3f99a0['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x33d46b,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1721f2=_0x15116f,_0x4e505b=prompt(_0x1721f2(0x223),_0x1721f2(0x768));_0x4e505b&&_0x4e505b['trim']()&&(parallelShortcutTabs[_0x1721f2(0x8e7)]({'id':_0x1721f2(0x266)+Date['now'](),'name':_0x4e505b[_0x1721f2(0x6ad)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x23bb53=_0x15116f,_0x45e6f0=document[_0x23bb53(0x7a2)](_0x23bb53(0x18e)),_0x506766=document['getElementById'](_0x23bb53(0xc34)),_0x301cb2=document[_0x23bb53(0x7a2)](_0x23bb53(0x405));if(_0x301cb2)_0x301cb2[_0x23bb53(0x6e6)]['add'](_0x23bb53(0x106));if(!_0x45e6f0||!_0x506766)return;const _0x146bcc=parallelTestShortcuts[_0x23bb53(0xf9)](0x0,0x4),_0x54851e=parallelTestShortcuts['slice'](0x4);_0x45e6f0[_0x23bb53(0x322)]=_0x146bcc[_0x23bb53(0x217)](_0x3a8127=>{const _0x120bfd=_0x23bb53,_0x3f84fd=_0x3a8127['url']&&_0x3a8127[_0x120bfd(0x8af)][_0x120bfd(0x6ad)]()!=='',_0x32cb8b=_0x3f84fd?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x1bf0f6=_0x3f84fd?'🔁':'🔗',_0x1cd742=!_0x3a8127['isDefault']?_0x120bfd(0x218)+_0x3a8127['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3a8127['id']+_0x120bfd(0x680)+_0x32cb8b+_0x120bfd(0x3a8)+_0x1bf0f6+'\x20'+_0x3a8127[_0x120bfd(0x947)]+_0x120bfd(0x606)+_0x3a8127['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd742+_0x120bfd(0x2cb);})[_0x23bb53(0x935)](''),_0x54851e[_0x23bb53(0x987)]>0x0&&(_0x45e6f0[_0x23bb53(0x322)]+=_0x23bb53(0x16f)),_0x54851e[_0x23bb53(0x987)]>0x0?_0x506766[_0x23bb53(0x322)]=_0x54851e[_0x23bb53(0x217)](_0x5a106f=>_0x23bb53(0x8d8)+(_0x5a106f['url']?'🔁':'🔗')+'\x20'+_0x5a106f[_0x23bb53(0x947)]+_0x23bb53(0x7e6)+_0x5a106f['id']+_0x23bb53(0x46a)+_0x5a106f['id']+_0x23bb53(0x91f)+(!_0x5a106f['isDefault']?_0x23bb53(0x218)+_0x5a106f['id']+_0x23bb53(0x4fb):'')+_0x23bb53(0xbc6))[_0x23bb53(0x935)](''):_0x506766[_0x23bb53(0x322)]=_0x23bb53(0xab8);}function openParallelTestShortcutEditor(_0x4b5778=null){const _0x3b3c49=_0x15116f,_0x1597fd=document[_0x3b3c49(0x7a2)](_0x3b3c49(0xc4d)),_0x390a00=document[_0x3b3c49(0x7a2)](_0x3b3c49(0x6fe)),_0x4d44ee=document[_0x3b3c49(0x7a2)](_0x3b3c49(0x9f7)),_0x295b44=document[_0x3b3c49(0x7a2)]('parallel-shortcut-name-input'),_0x47d554=document[_0x3b3c49(0x7a2)](_0x3b3c49(0x90e));if(_0x4b5778){const _0x18034d=parallelTestShortcuts['find'](_0x509382=>_0x509382['id']===_0x4b5778);if(!_0x18034d)return;_0x390a00[_0x3b3c49(0x930)]=_0x3b3c49(0x545),_0x4d44ee[_0x3b3c49(0x682)]=_0x18034d['id'],_0x295b44['value']=_0x18034d[_0x3b3c49(0x947)],_0x47d554[_0x3b3c49(0x682)]=_0x18034d['url']||'';}else _0x390a00[_0x3b3c49(0x930)]=_0x3b3c49(0xaf2),_0x4d44ee[_0x3b3c49(0x682)]='',_0x295b44[_0x3b3c49(0x682)]='',_0x47d554['value']='';_0x1597fd['classList'][_0x3b3c49(0x367)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x1aa0cf=_0x15116f,_0x743a50=document['getElementById'](_0x1aa0cf(0x9f7))[_0x1aa0cf(0x682)],_0x5110e0=document['getElementById'](_0x1aa0cf(0xaf6))[_0x1aa0cf(0x682)][_0x1aa0cf(0x6ad)](),_0x3f6ad7=document['getElementById'](_0x1aa0cf(0x90e))[_0x1aa0cf(0x682)][_0x1aa0cf(0x6ad)]();if(!_0x5110e0){showMessage(_0x1aa0cf(0x9d0));return;}const _0x8670c9={'id':_0x743a50||_0x1aa0cf(0x863)+Date[_0x1aa0cf(0xb20)](),'name':_0x5110e0,'url':_0x3f6ad7,'isDefault':_0x743a50[_0x1aa0cf(0xaae)]('parallel-default-')};let _0x5ee805;_0x743a50?_0x5ee805=parallelTestShortcuts['map'](_0x434239=>_0x434239['id']===_0x743a50?_0x8670c9:_0x434239):_0x5ee805=[...parallelTestShortcuts,_0x8670c9];try{const _0x5f5af3=doc(db,'globalSettings',_0x1aa0cf(0x75e));await setDoc(_0x5f5af3,{'shortcuts':_0x5ee805},{'merge':!![]}),document['getElementById']('parallel-shortcut-editor-modal')[_0x1aa0cf(0x6e6)]['add'](_0x1aa0cf(0x106));}catch(_0x14609c){console[_0x1aa0cf(0x13b)](_0x1aa0cf(0x5d5),_0x14609c),showMessage(_0x1aa0cf(0xbb4));}}async function handleParallelTestShortcutClick(_0x11aa54){const _0x2e29eb=_0x15116f,_0xb01415=parallelTestShortcuts[_0x2e29eb(0x22a)](_0x447cbe=>_0x447cbe['id']===_0x11aa54);if(!_0xb01415)return;if(!_0xb01415['url']||_0xb01415[_0x2e29eb(0x8af)][_0x2e29eb(0x6ad)]()===''){openParallelTestShortcutEditor(_0x11aa54);return;}const _0x1a20b3=document[_0x2e29eb(0x7a2)](_0x2e29eb(0x88f)),_0x1fa221=document[_0x2e29eb(0x7a2)]('loader-text');document[_0x2e29eb(0x7a2)](_0x2e29eb(0x2f6))[_0x2e29eb(0x6e6)][_0x2e29eb(0x367)](_0x2e29eb(0x106)),document[_0x2e29eb(0x7a2)](_0x2e29eb(0x262))['innerHTML']='',_0x1a20b3[_0x2e29eb(0x6e6)][_0x2e29eb(0x367)](_0x2e29eb(0x106)),_0x1fa221[_0x2e29eb(0x930)]=_0x2e29eb(0x1fb);try{let _0xea33a9;_0xb01415[_0x2e29eb(0x8af)][_0x2e29eb(0x53c)]()[_0x2e29eb(0x679)](_0x2e29eb(0xff))?_0xea33a9=_0x2e29eb(0x61e):_0xea33a9=_0x2e29eb(0x6ff);const _0x35ae51=await fetchFileFromUrl(_0xb01415[_0x2e29eb(0x8af)],_0xea33a9);await handleGenerateParallelTest(_0x35ae51);}catch(_0x27f651){console[_0x2e29eb(0x13b)](_0x2e29eb(0x43d),_0x27f651),showMessage(_0x2e29eb(0x9ee)+_0x27f651[_0x2e29eb(0x56e)]),_0x1a20b3[_0x2e29eb(0x6e6)][_0x2e29eb(0x360)]('hidden');}}function initializeScratchpadCanvas(){const _0x5665c0=_0x15116f,_0x30043c=document[_0x5665c0(0x7a2)](_0x5665c0(0x5e7)),_0x4a5b06=document[_0x5665c0(0xba0)]('.scratchpad-content-wrapper');if(!_0x30043c||!_0x4a5b06)return;scratchpadCtx=_0x30043c['getContext']('2d',{'willReadFrequently':!![]});const _0x115cb4=window[_0x5665c0(0x7d9)]||0x1,_0x359e60=_0x4a5b06['getBoundingClientRect']();_0x30043c['width']=_0x359e60[_0x5665c0(0x21b)]*_0x115cb4,_0x30043c[_0x5665c0(0x965)]=_0x359e60[_0x5665c0(0x965)]*_0x115cb4,_0x30043c[_0x5665c0(0x1af)][_0x5665c0(0x21b)]=_0x359e60[_0x5665c0(0x21b)]+'px',_0x30043c[_0x5665c0(0x1af)][_0x5665c0(0x965)]=_0x359e60[_0x5665c0(0x965)]+'px',scratchpadCtx[_0x5665c0(0x620)](_0x115cb4,_0x115cb4),scratchpadCtx[_0x5665c0(0xbe4)]=_0x5665c0(0x7b9),scratchpadCtx[_0x5665c0(0x532)]='round',_0x30043c['removeEventListener'](_0x5665c0(0x534),handlePointerDown),_0x30043c[_0x5665c0(0x770)](_0x5665c0(0x222),handlePointerMove),_0x30043c[_0x5665c0(0x770)]('pointerup',handlePointerUp),_0x30043c[_0x5665c0(0x770)](_0x5665c0(0x91b),handlePointerUp),_0x30043c[_0x5665c0(0x770)](_0x5665c0(0x58a),handleWheel),_0x30043c[_0x5665c0(0x770)](_0x5665c0(0x38f),handlePointerDown),_0x30043c['removeEventListener'](_0x5665c0(0x554),handlePointerMove),_0x30043c[_0x5665c0(0x770)](_0x5665c0(0x93b),handlePointerUp),_0x30043c[_0x5665c0(0x6d5)](_0x5665c0(0x534),handlePointerDown),_0x30043c['addEventListener'](_0x5665c0(0x222),handlePointerMove),_0x30043c[_0x5665c0(0x6d5)](_0x5665c0(0x80e),handlePointerUp),_0x30043c[_0x5665c0(0x6d5)](_0x5665c0(0x91b),handlePointerUp),_0x30043c[_0x5665c0(0x6d5)](_0x5665c0(0x58a),handleWheel,{'passive':![]}),_0x30043c['addEventListener'](_0x5665c0(0x38f),handlePointerDown,{'passive':![]}),_0x30043c[_0x5665c0(0x6d5)]('touchmove',handlePointerMove,{'passive':![]}),_0x30043c['addEventListener'](_0x5665c0(0x93b),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3b4f9c=_0x15116f,_0xdd0c5f=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0xbd6)),_0x26e96d=document['getElementById'](_0x3b4f9c(0x8b2));_0x26e96d[_0x3b4f9c(0x322)]=_0x3b4f9c(0x303)+scratchpadHighlighterSize+_0x3b4f9c(0xf6);const _0x4b874b=document['getElementById'](_0x3b4f9c(0x5dd)),_0xf99772=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0xa97)),_0x58a595=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x69d)),_0x2a1b99=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0xb1d)),_0x425ed1=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0xae4)),_0x2994b9=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x2cc)),_0x5df468=[_0x4b874b,_0xf99772,_0x58a595,_0x2a1b99];document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x93f))[_0x3b4f9c(0x6d5)]('click',()=>_0xdd0c5f['classList']['add'](_0x3b4f9c(0x106))),document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x693))[_0x3b4f9c(0x6d5)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x919))['addEventListener'](_0x3b4f9c(0x22c),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')[_0x3b4f9c(0x6d5)]('click',undo),document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x447))[_0x3b4f9c(0x6d5)](_0x3b4f9c(0x22c),redo);const _0x34600d=_0x1df527=>{const _0x5d47e3=_0x3b4f9c;_0x5df468[_0x5d47e3(0x1b7)](_0x1b46b2=>_0x1b46b2['classList'][_0x5d47e3(0x367)](_0x5d47e3(0x63c))),_0x1df527[_0x5d47e3(0x6e6)][_0x5d47e3(0x360)](_0x5d47e3(0x63c));const _0xa8a55b=_0x1df527===_0x2a1b99;_0x425ed1[_0x5d47e3(0x6e6)][_0x5d47e3(0xb38)]('hidden',_0xa8a55b),_0x2994b9[_0x5d47e3(0x6e6)][_0x5d47e3(0xb38)]('hidden',!_0xa8a55b);};_0x4b874b[_0x3b4f9c(0x6d5)](_0x3b4f9c(0x22c),()=>{activeTool='pen',_0x34600d(_0x4b874b);}),_0xf99772[_0x3b4f9c(0x6d5)]('click',()=>{const _0x40c9ef=_0x3b4f9c;activeTool=_0x40c9ef(0x583),_0x34600d(_0xf99772);}),_0x58a595[_0x3b4f9c(0x6d5)](_0x3b4f9c(0x22c),()=>{const _0x411a35=_0x3b4f9c;activeTool=_0x411a35(0x7be),_0x34600d(_0x58a595);}),_0x2a1b99['addEventListener'](_0x3b4f9c(0x22c),()=>{activeTool='highlighter',_0x34600d(_0x2a1b99);}),_0x425ed1[_0x3b4f9c(0x17a)](_0x3b4f9c(0x6a8))['forEach'](_0x16194c=>{const _0x2ac930=_0x3b4f9c;_0x16194c[_0x2ac930(0x6d5)]('click',_0x1912f1=>{const _0x211951=_0x2ac930;scratchpadPenSize=parseInt(_0x1912f1['target']['dataset'][_0x211951(0x84a)],0xa),_0x425ed1[_0x211951(0x17a)]('.pen-size-btn')[_0x211951(0x1b7)](_0x4080bd=>_0x4080bd['classList'][_0x211951(0x367)](_0x211951(0x63c))),_0x1912f1['target'][_0x211951(0x6e6)][_0x211951(0x360)](_0x211951(0x63c));});}),_0x425ed1[_0x3b4f9c(0x17a)](_0x3b4f9c(0xbad))[_0x3b4f9c(0x1b7)](_0x5688ae=>{const _0x31270b=_0x3b4f9c;_0x5688ae[_0x31270b(0x6d5)](_0x31270b(0x22c),_0x43013d=>{const _0x438fd2=_0x31270b;scratchpadPenColor=_0x43013d['target'][_0x438fd2(0xb1e)]['color'],_0x425ed1['querySelectorAll']('.pen-color-btn')['forEach'](_0x2b4243=>_0x2b4243[_0x438fd2(0x6e6)][_0x438fd2(0x367)](_0x438fd2(0x63c))),_0x43013d['target']['classList']['add'](_0x438fd2(0x63c));});}),_0x2994b9['querySelectorAll']('.highlighter-color-btn')['forEach'](_0x4c284c=>{const _0x59ec53=_0x3b4f9c;_0x4c284c[_0x59ec53(0x6d5)](_0x59ec53(0x22c),_0x2bfc60=>{const _0x570ab4=_0x59ec53;scratchpadHighlighterColor=_0x2bfc60[_0x570ab4(0x4c1)][_0x570ab4(0xb1e)][_0x570ab4(0x596)],_0x2994b9[_0x570ab4(0x17a)]('.highlighter-color-btn')[_0x570ab4(0x1b7)](_0x513b53=>_0x513b53['classList'][_0x570ab4(0x367)](_0x570ab4(0x63c))),_0x2bfc60[_0x570ab4(0x4c1)][_0x570ab4(0x6e6)][_0x570ab4(0x360)](_0x570ab4(0x63c));});});const _0x49abc1=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x318)),_0x3b587c=document[_0x3b4f9c(0x7a2)](_0x3b4f9c(0x18f));_0x49abc1[_0x3b4f9c(0x6d5)](_0x3b4f9c(0xc41),_0xe8f769=>{const _0x4e446a=_0x3b4f9c,_0x2d9484=parseInt(_0xe8f769['target'][_0x4e446a(0x682)],0xa);scratchpadHighlighterSize=_0x2d9484,_0x3b587c[_0x4e446a(0x930)]=_0x2d9484;}),window[_0x3b4f9c(0x6d5)](_0x3b4f9c(0xc65),()=>{const _0x189c7a=_0x3b4f9c;!_0xdd0c5f[_0x189c7a(0x6e6)][_0x189c7a(0x7f1)](_0x189c7a(0x106))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x15116f(0xbdb),'name':_0x15116f(0x12f),'description':_0x15116f(0xabb),'icon':_0x15116f(0x3cf)},'QUICK_THINKER':{'id':_0x15116f(0x9f3),'name':_0x15116f(0x8ba),'description':_0x15116f(0xb47),'icon':_0x15116f(0x5d8)},'ON_FIRE':{'id':_0x15116f(0x4b2),'name':_0x15116f(0x461),'description':_0x15116f(0x41a),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x15116f(0x47b),'name':_0x15116f(0x83c),'description':_0x15116f(0xab3),'icon':_0x15116f(0x7fb)},'COMEBACK_KING':{'id':_0x15116f(0x671),'name':_0x15116f(0x3ae),'description':_0x15116f(0x88b),'icon':_0x15116f(0xaec)},'SPECIALIST':{'id':_0x15116f(0xa9a),'name':'ผู้เชี่ยวชาญ','description':_0x15116f(0xa0b),'icon':_0x15116f(0x10d)},'PERSEVERANCE':{'id':_0x15116f(0x8d2),'name':'ผู้ไม่ยอมแพ้','description':_0x15116f(0x882),'icon':_0x15116f(0xb61)}},firebaseConfig={'apiKey':_0x15116f(0x781),'authDomain':_0x15116f(0x17f),'projectId':_0x15116f(0x8c4),'storageBucket':_0x15116f(0x52b),'messagingSenderId':_0x15116f(0x200),'appId':_0x15116f(0x2a2),'measurementId':_0x15116f(0x237)},appId=typeof __app_id!==_0x15116f(0x451)?__app_id:_0x15116f(0x29f),adminView=document[_0x15116f(0x7a2)](_0x15116f(0x2a6)),studentView=document[_0x15116f(0x7a2)](_0x15116f(0x2e9)),projectDashboardView=document[_0x15116f(0x7a2)]('project-dashboard-view'),projectDetailView=document[_0x15116f(0x7a2)](_0x15116f(0xb18)),quizResultsView=document[_0x15116f(0x7a2)]('quiz-results-view'),projectList=document[_0x15116f(0x7a2)](_0x15116f(0x6f5)),noProjectsMsg=document[_0x15116f(0x7a2)](_0x15116f(0x8cb)),projectTitle=document[_0x15116f(0x7a2)](_0x15116f(0xb5b)),projectIdDisplay=document[_0x15116f(0x7a2)](_0x15116f(0x72b)),studentList=document[_0x15116f(0x7a2)](_0x15116f(0x994)),messageModal=document[_0x15116f(0x7a2)]('message-modal'),modalMessage=document['getElementById'](_0x15116f(0x966)),createProjectModal=document[_0x15116f(0x7a2)](_0x15116f(0x1c2)),adminPasswordModal=document[_0x15116f(0x7a2)]('admin-password-modal'),confirmationModal=document[_0x15116f(0x7a2)](_0x15116f(0xa62)),userIdDisplay=document[_0x15116f(0x7a2)](_0x15116f(0x686)),topicTab=document[_0x15116f(0x7a2)](_0x15116f(0xaba)),textTab=document[_0x15116f(0x7a2)](_0x15116f(0xc19)),topicInputArea=document[_0x15116f(0x7a2)](_0x15116f(0x879)),textInputArea=document[_0x15116f(0x7a2)](_0x15116f(0x29e)),manageTab=document[_0x15116f(0x7a2)](_0x15116f(0x838)),resultsTab=document['getElementById'](_0x15116f(0x516)),leaderboardTab=document[_0x15116f(0x7a2)](_0x15116f(0x5fd)),manageTabContent=document[_0x15116f(0x7a2)](_0x15116f(0x151)),resultsTabContent=document[_0x15116f(0x7a2)](_0x15116f(0x3db)),leaderboardTabContent=document[_0x15116f(0x7a2)]('leaderboard-tab-content'),projectQuizzesList=document[_0x15116f(0x7a2)]('project-quizzes-list'),fileTab=document[_0x15116f(0x7a2)](_0x15116f(0x916)),fileInputArea=document[_0x15116f(0x7a2)](_0x15116f(0x5d2)),fileUploadInput=document[_0x15116f(0x7a2)](_0x15116f(0x582)),worksheetTab=document[_0x15116f(0x7a2)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x15116f(0x9ae)),generateWorksheetBtn=document[_0x15116f(0x7a2)](_0x15116f(0x32c)),studentInitialView=document[_0x15116f(0x7a2)](_0x15116f(0x967)),studentNameSelectionView=document[_0x15116f(0x7a2)](_0x15116f(0x88e)),studentQuizArea=document[_0x15116f(0x7a2)](_0x15116f(0xae7)),studentResultArea=document[_0x15116f(0x7a2)]('student-result-area'),studentReadingArea=document['getElementById'](_0x15116f(0x94a)),loadQuizBtn=document[_0x15116f(0x7a2)](_0x15116f(0xb94)),startQuizBtn=document[_0x15116f(0x7a2)](_0x15116f(0x31a)),studentJoinGameView=document[_0x15116f(0x7a2)](_0x15116f(0x553)),presentationModal=document[_0x15116f(0x7a2)](_0x15116f(0x8a0)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document['getElementById'](_0x15116f(0xa56)),quizSettingsModal=document[_0x15116f(0x7a2)](_0x15116f(0x86f)),quizStatusModal=document['getElementById'](_0x15116f(0x9ec)),liveGameView=document[_0x15116f(0x7a2)]('live-game-view');function handleFixLessonLatex(){const _0x254b6d=_0x15116f,_0x2567f5=document[_0x254b6d(0x7a2)](_0x254b6d(0xab5));if(!_0x2567f5){showMessage(_0x254b6d(0x75a));return;}const _0x428051=_0x2567f5[_0x254b6d(0x17a)](['.ai-content\x20p','.ai-content\x20li',_0x254b6d(0x1da),'.ai-content\x20td','.ai-content\x20h3']['join'](','));let _0x3276d9=0x0;const _0x743961=_0x351ccb=>_0x351ccb['textContent']||'',_0x3c315d=(_0x585637,_0x220f54)=>{const _0x3d9add=_0x254b6d;if(_0x585637['querySelector']&&_0x585637['querySelector'](_0x3d9add(0xbf2)))return;_0x585637['textContent']=_0x220f54;},_0x5a203a=_0x5acb80=>_0x5acb80['replace'](/\u00A0/g,'\x20')[_0x254b6d(0x892)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x2c74e2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x293a5e=_0x7a29e0=>{const _0x3cabce=_0x254b6d;let _0xfb296a=_0x7a29e0[_0x3cabce(0x6ad)]();const _0x166c7a=[_0x3cabce(0x6bd),_0x3cabce(0x17b),'tfrac',_0x3cabce(0x26a),_0x3cabce(0x9ef),'times',_0x3cabce(0x2ad),'div','leq','geq','le','ge',_0x3cabce(0xafb),'pm',_0x3cabce(0xabc),'sin','cos',_0x3cabce(0x70e),'log','ln','sum',_0x3cabce(0xc60),_0x3cabce(0x972),_0x3cabce(0x15a),_0x3cabce(0x518),_0x3cabce(0x1cf),_0x3cabce(0x5e6),_0x3cabce(0x92e),'deg'];_0x166c7a[_0x3cabce(0x1b7)](_0xef8830=>{const _0x2ad21c=_0x3cabce;_0xfb296a=_0xfb296a['replace'](new RegExp(_0x2ad21c(0x56a)+_0xef8830+'\x5cb','g'),(_0x3e9bbf,_0x49bca1)=>_0x49bca1+'\x5c'+_0xef8830);});const _0x2a381c=[[/×/g,_0x3cabce(0x85f)],[/·/g,_0x3cabce(0x11c)],[/÷/g,_0x3cabce(0x495)],[/≤/g,_0x3cabce(0x86d)],[/≥/g,_0x3cabce(0x8e4)],[/≠/g,_0x3cabce(0x253)],[/±/g,_0x3cabce(0xc20)],[/∑/g,_0x3cabce(0x561)],[/−/g,'-']];return _0x2a381c[_0x3cabce(0x1b7)](([_0x1a84a1,_0x5f24dc])=>{_0xfb296a=_0xfb296a['replace'](_0x1a84a1,_0x5f24dc);}),_0xfb296a=_0xfb296a[_0x3cabce(0x892)](/√\s*([A-Za-z0-9]+)/g,_0x3cabce(0x7ae)),_0xfb296a=_0xfb296a[_0x3cabce(0x892)](/(\d+)\s*%/g,_0x3cabce(0x7d4)),_0xfb296a;},_0xe8551d=_0x14b44a=>{const _0x29ddad=_0x254b6d;if(/\$|\\\(|\\\[/['test'](_0x14b44a))return _0x14b44a;if(!_0x2c74e2['test'](_0x14b44a))return _0x14b44a;const _0x4edc57=_0x14b44a[_0x29ddad(0x9b1)](/^\s*/)[0x0],_0x3b6de1=_0x14b44a[_0x29ddad(0x9b1)](/\s*$/)[0x0],_0x3efef2=_0x14b44a[_0x29ddad(0x6ad)]();return _0x4edc57+'$'+_0x293a5e(_0x3efef2)+'$'+_0x3b6de1;};_0x428051[_0x254b6d(0x1b7)](_0x5a01b3=>{const _0x159e7d=_0x254b6d,_0x3edc84=_0x743961(_0x5a01b3);let _0x19f7d1=_0x5a203a(_0x3edc84);_0x19f7d1=_0x19f7d1[_0x159e7d(0x892)](/\$([^$]*?)\$/g,(_0x2a3623,_0x8dac7a)=>'$'+_0x293a5e(_0x8dac7a)+'$');const _0x29e4c6=_0x19f7d1[_0x159e7d(0x4a5)](/(\s+)/),_0xcfb792=_0x29e4c6[_0x159e7d(0x217)](_0x4f96cf=>{const _0x4e9e1d=_0x159e7d;if(/\s+/[_0x4e9e1d(0x442)](_0x4f96cf))return _0x4f96cf;return _0xe8551d(_0x4f96cf);});_0x19f7d1=_0xcfb792[_0x159e7d(0x935)](''),_0x19f7d1!==_0x3edc84&&(_0x3c315d(_0x5a01b3,_0x19f7d1),_0x3276d9++);});if(_0x3276d9>0x0){showMessage(_0x254b6d(0xad9)+_0x3276d9+_0x254b6d(0x727));try{window[_0x254b6d(0x8a8)]&&MathJax['typesetPromise']&&MathJax[_0x254b6d(0x107)]([_0x2567f5]);}catch(_0xc38dfe){console['error'](_0x254b6d(0x910),_0xc38dfe);}}else showMessage(_0x254b6d(0x216));}function handleAutoFixLatex(){const _0x53aae9=_0x15116f,_0x542f89=document[_0x53aae9(0x7a2)]('quiz-editor-questions-container')||document,_0x506bc3=_0x542f89[_0x53aae9(0x17a)](_0x53aae9(0x8f7));let _0x264519=0x0;const _0x4a9bb6=_0x3b7d7a=>_0x53aae9(0x682)in _0x3b7d7a?String(_0x3b7d7a[_0x53aae9(0x682)]):_0x3b7d7a['innerText']!==undefined?_0x3b7d7a[_0x53aae9(0x589)]:_0x3b7d7a[_0x53aae9(0x930)]||'',_0x5afab4=(_0x175cf1,_0x4810d6)=>{const _0x17bf47=_0x53aae9;if(_0x17bf47(0x682)in _0x175cf1){_0x175cf1['value']=_0x4810d6;return;}if(_0x175cf1[_0x17bf47(0xba0)]&&_0x175cf1[_0x17bf47(0xba0)](_0x17bf47(0xbf2)))return;if(_0x175cf1[_0x17bf47(0x589)]!==undefined)_0x175cf1[_0x17bf47(0x589)]=_0x4810d6;else _0x175cf1[_0x17bf47(0x930)]=_0x4810d6;},_0x8850f5=_0x6da516=>_0x6da516['replace'](/\u00A0/g,'\x20')[_0x53aae9(0x892)](/\u200B/g,'')[_0x53aae9(0x892)](/\r\n?/g,'\x0a'),_0x306b45=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3d506e=_0x153499=>{const _0x26cd72=_0x53aae9;let _0x353fca=_0x153499[_0x26cd72(0x6ad)]();_0x353fca=_0x353fca[_0x26cd72(0x892)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x353fca=_0x353fca[_0x26cd72(0x892)](/\bfrac(\d)(\d)/g,_0x26cd72(0x3ff));const _0x115b27=[_0x26cd72(0x6bd),_0x26cd72(0x26a),_0x26cd72(0xbc5),_0x26cd72(0x2ad),'div',_0x26cd72(0x70c),_0x26cd72(0x3f3),_0x26cd72(0xafb),'pm','sin','cos','tan','log','ln'];_0x115b27['forEach'](_0x48a9dd=>{const _0xcdd637=_0x26cd72;_0x353fca=_0x353fca['replace'](new RegExp(_0xcdd637(0x56a)+_0x48a9dd+'\x5cb','g'),(_0x4852dd,_0x52bc0e)=>_0x52bc0e+'\x5c'+_0x48a9dd);});const _0x5a6e74=[[/×/g,_0x26cd72(0x85f)],[/·/g,_0x26cd72(0x11c)],[/÷/g,_0x26cd72(0x495)],[/≤/g,_0x26cd72(0x86d)],[/≥/g,'\x5cge'],[/≠/g,_0x26cd72(0x253)],[/±/g,_0x26cd72(0xc20)]];return _0x5a6e74[_0x26cd72(0x1b7)](([_0x479d1d,_0x5d0514])=>{const _0x474657=_0x26cd72;_0x353fca=_0x353fca[_0x474657(0x892)](_0x479d1d,_0x5d0514);}),_0x353fca;},_0x3bbcaa=_0x3b15b8=>{const _0x349751=_0x53aae9;if(/\$|\\\(|\\\[/['test'](_0x3b15b8))return _0x3b15b8;if(!_0x306b45[_0x349751(0x442)](_0x3b15b8))return _0x3b15b8;const _0x16e3ee=_0x3b15b8[_0x349751(0x9b1)](/^\s*/)[0x0],_0x4e420f=_0x3b15b8['match'](/\s*$/)[0x0],_0x264571=_0x3b15b8[_0x349751(0x6ad)]();return _0x16e3ee+'$'+_0x3d506e(_0x264571)+'$'+_0x4e420f;};_0x506bc3[_0x53aae9(0x1b7)](_0x15f2f2=>{const _0x39547b=_0x53aae9,_0x25925c=_0x4a9bb6(_0x15f2f2);let _0x20905e=_0x8850f5(_0x25925c);_0x20905e=_0x20905e[_0x39547b(0x892)](/\$([^$]*?)\$/g,(_0x2b5dd2,_0x4ab3e0)=>'$'+_0x3d506e(_0x4ab3e0)+'$');const _0xb0420b=_0x20905e[_0x39547b(0x4a5)](/(\s+)/),_0x205b28=_0xb0420b['map'](_0x5d0993=>/\s+/[_0x39547b(0x442)](_0x5d0993)?_0x5d0993:_0x3bbcaa(_0x5d0993));_0x20905e=_0x205b28[_0x39547b(0x935)](''),_0x20905e!==_0x25925c&&(_0x5afab4(_0x15f2f2,_0x20905e),_0x264519++);});if(_0x264519>0x0){showMessage(_0x53aae9(0x9af)+_0x264519+_0x53aae9(0xb51));try{if(window[_0x53aae9(0x8a8)]&&MathJax[_0x53aae9(0x107)])MathJax[_0x53aae9(0x107)]();}catch(_0x3db7b8){}}else showMessage(_0x53aae9(0x99a));}async function listenForCustomMathTopics(){const _0x3cf504=_0x15116f,_0x233112=collection(db,_0x3cf504(0xc14)+appId+_0x3cf504(0x84f));onSnapshot(_0x233112,_0x5d664f=>{const _0x5e879f=_0x3cf504;customMathTopics=_0x5d664f[_0x5e879f(0x610)]['map'](_0x735476=>({'id':_0x735476['id'],..._0x735476[_0x5e879f(0xc6b)]()})),renderTopicCheckboxes();},_0x1c0216=>{const _0x454bed=_0x3cf504;console[_0x454bed(0x13b)](_0x454bed(0x685),_0x1c0216);});}function handleSelectAllTopics(){const _0x44665c=_0x15116f,_0x5d5b4d=document[_0x44665c(0x7a2)]('math-topics-checkbox-container'),_0x1c83fc=_0x5d5b4d[_0x44665c(0x17a)]('input[type=\x22checkbox\x22]');_0x1c83fc[_0x44665c(0x1b7)](_0x5b2506=>{const _0x5698e5=_0x44665c;_0x5b2506[_0x5698e5(0x8cc)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x1adbd5=_0x15116f,_0x8da4e=document['getElementById'](_0x1adbd5(0x738)),_0x5bbf03=_0x8da4e[_0x1adbd5(0x17a)](_0x1adbd5(0x25d));_0x5bbf03[_0x1adbd5(0x1b7)](_0x4a6fbe=>{const _0x78b49c=_0x1adbd5;_0x4a6fbe[_0x78b49c(0x8cc)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x29922f){const _0x383419=_0x15116f;if(!_0x29922f)return;try{const _0x48f8dc=doc(db,_0x383419(0xc14)+appId+_0x383419(0x84f),_0x29922f);await deleteDoc(_0x48f8dc),showMessage(_0x383419(0x983));}catch(_0x44d59){console[_0x383419(0x13b)](_0x383419(0x11b),_0x44d59),showMessage(_0x383419(0xa63));}}async function handleAddCustomMathTopic(){const _0x16f633=_0x15116f,_0x4f693a=document[_0x16f633(0x7a2)](_0x16f633(0x1f6)),_0xe31fc1=_0x4f693a[_0x16f633(0x682)]['trim']();if(!_0xe31fc1){showMessage(_0x16f633(0xc15));return;}if(!userId){showMessage(_0x16f633(0x4c4));return;}try{const _0x24a628=collection(db,'artifacts/'+appId+_0x16f633(0x84f));await addDoc(_0x24a628,{'name':_0xe31fc1,'createdAt':serverTimestamp()}),_0x4f693a[_0x16f633(0x682)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0xe31fc1+_0x16f633(0x982));}catch(_0x24e599){console['error'](_0x16f633(0xb4a),_0x24e599),showMessage(_0x16f633(0xa4f));}}async function handleUpdateOldQuizzes(){const _0x3b866b=_0x15116f;showConfirmation(_0x3b866b(0xc3b),async()=>{const _0x55ee7d=_0x3b866b,_0x11080d=document[_0x55ee7d(0x7a2)](_0x55ee7d(0x88f)),_0x3bde76=document['getElementById']('loader-text'),_0x4df162=_0x3bde76['textContent'];_0x11080d['classList'][_0x55ee7d(0x367)](_0x55ee7d(0x106)),_0x3bde76[_0x55ee7d(0x930)]=_0x55ee7d(0x7fe);try{const _0x572dd7=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x5d840f=await getDocs(_0x572dd7);if(_0x5d840f['empty']){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x5b29ec=writeBatch(db);let _0x1e4be5=0x0;_0x5d840f['forEach'](_0x3404c4=>{const _0x2fda39=_0x55ee7d,_0x26df04=_0x3404c4['data'](),_0x375ce9=_0x3404c4['id'];if(_0x26df04[_0x2fda39(0x72a)]&&_0x26df04[_0x2fda39(0x72a)]['length']>0x0&&!_0x26df04[_0x2fda39(0x72a)][0x0][_0x2fda39(0x839)]('id')){console[_0x2fda39(0x7d6)](_0x2fda39(0x663)+_0x375ce9+'\x20('+_0x26df04[_0x2fda39(0xc63)]+')'),_0x1e4be5++;const _0x16ee17=_0x26df04[_0x2fda39(0x72a)]['map']((_0x3e4f3f,_0x8b22e8)=>{const _0x4e1849=_0x2fda39;return{..._0x3e4f3f,'id':_0x3e4f3f['id']||'q_'+Date[_0x4e1849(0xb20)]()+'_'+_0x375ce9+'_'+_0x8b22e8};}),_0x207177=doc(db,_0x2fda39(0xc14)+appId+_0x2fda39(0x42c),_0x375ce9);_0x5b29ec[_0x2fda39(0x296)](_0x207177,{'questions':_0x16ee17});}}),_0x1e4be5>0x0?(_0x3bde76[_0x55ee7d(0x930)]=_0x55ee7d(0x5f0)+_0x1e4be5+'\x20รายการ...',await _0x5b29ec['commit'](),showMessage(_0x55ee7d(0x162)+_0x1e4be5+_0x55ee7d(0x15c))):showMessage(_0x55ee7d(0xadd));}catch(_0x47b128){console[_0x55ee7d(0x13b)](_0x55ee7d(0x268),_0x47b128),showMessage(_0x55ee7d(0x393)+_0x47b128[_0x55ee7d(0x56e)]);}finally{_0x11080d[_0x55ee7d(0x6e6)][_0x55ee7d(0x360)](_0x55ee7d(0x106)),_0x3bde76[_0x55ee7d(0x930)]=_0x4df162;}});}async function handleBulkUpdateQuizSettings(){const _0x51cefe=_0x15116f,_0x16fd18={'shuffle':document[_0x51cefe(0x7a2)]('bulk-shuffle-select')[_0x51cefe(0x682)],'resultsDisplay':document[_0x51cefe(0x7a2)](_0x51cefe(0x140))['value'],'loopUntilPass':document['getElementById'](_0x51cefe(0x8a2))[_0x51cefe(0x8cc)],'isConfidenceScoringEnabled':document[_0x51cefe(0x7a2)](_0x51cefe(0x397))[_0x51cefe(0x8cc)],'confidenceMode':document[_0x51cefe(0x7a2)]('bulk-confidence-mode-select')[_0x51cefe(0x682)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x23d2be=await getDocs(collection(db,_0x51cefe(0xc14)+appId+'/public/data/quizzes')),_0x55a299=_0x23d2be[_0x51cefe(0x610)][_0x51cefe(0x217)](_0x5c1ca7=>({'id':_0x5c1ca7['id'],'data':_0x5c1ca7[_0x51cefe(0xc6b)]()})),_0x5b3ebe=_0x55a299[_0x51cefe(0x987)];showConfirmation(_0x51cefe(0x125)+_0x5b3ebe+_0x51cefe(0x77f),async()=>{const _0x29ef23=_0x51cefe,_0x1efda4=document[_0x29ef23(0x7a2)](_0x29ef23(0x440));_0x1efda4[_0x29ef23(0xc47)]=!![],_0x1efda4[_0x29ef23(0x322)]=_0x29ef23(0x3d1);try{const _0x912838=writeBatch(db);_0x55a299[_0x29ef23(0x1b7)](_0x642c90=>{const _0x1b8647=_0x29ef23,_0x4f58af=doc(db,_0x1b8647(0xc14)+appId+_0x1b8647(0x42c),_0x642c90['id']),_0x35087b={..._0x642c90[_0x1b8647(0xc6b)][_0x1b8647(0xad7)]||{},..._0x16fd18};_0x912838[_0x1b8647(0x296)](_0x4f58af,{'settings':_0x35087b});}),await _0x912838[_0x29ef23(0x18c)](),document[_0x29ef23(0x7a2)]('bulk-quiz-settings-modal')[_0x29ef23(0x6e6)][_0x29ef23(0x360)](_0x29ef23(0x106)),showMessage(_0x29ef23(0x36b)+_0x5b3ebe+_0x29ef23(0x92b));}catch(_0x4eff6b){console[_0x29ef23(0x13b)](_0x29ef23(0x78c),_0x4eff6b),showMessage(_0x29ef23(0x242));}finally{_0x1efda4[_0x29ef23(0xc47)]=![],_0x1efda4[_0x29ef23(0x322)]=_0x29ef23(0x61f);}});}catch(_0x3c5512){console['error']('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x3c5512),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x17f0bc=_0x15116f,_0x256d63=document[_0x17f0bc(0x7a2)](_0x17f0bc(0xb5b)),_0x463c93=document[_0x17f0bc(0x7a2)]('save-project-name-btn'),_0x14910c=_0x256d63[_0x17f0bc(0x930)][_0x17f0bc(0x6ad)]();if(!_0x14910c||!currentProjectId){showMessage(_0x17f0bc(0x8f1)),_0x256d63[_0x17f0bc(0x930)]=currentProjectData[_0x17f0bc(0x208)];return;}_0x463c93[_0x17f0bc(0xc47)]=!![],_0x463c93['innerHTML']=_0x17f0bc(0xb8a);try{const _0x17d883=doc(db,_0x17f0bc(0xc14)+appId+_0x17f0bc(0x5cb),currentProjectId);await updateDoc(_0x17d883,{'projectName':_0x14910c}),currentProjectData&&(currentProjectData[_0x17f0bc(0x208)]=_0x14910c),showMessage(_0x17f0bc(0x154));}catch(_0x72a811){console[_0x17f0bc(0x13b)]('Error\x20updating\x20project\x20name:',_0x72a811),showMessage(_0x17f0bc(0xbb4)),_0x256d63[_0x17f0bc(0x930)]=currentProjectData[_0x17f0bc(0x208)];}finally{_0x463c93[_0x17f0bc(0x6e6)][_0x17f0bc(0x360)](_0x17f0bc(0x106)),_0x463c93[_0x17f0bc(0xc47)]=![],_0x463c93[_0x17f0bc(0x322)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x334e42,_0x5c46dd){const _0x303d84=_0x15116f,_0xcb9f07=document['getElementById'](_0x303d84(0x363)),_0x2e613c=document[_0x303d84(0x7a2)](_0x303d84(0x100)),_0x3bf332=document['getElementById']('lesson-loader'),_0x1ae7af=document[_0x303d84(0x7a2)](_0x303d84(0x2b7));_0x2e613c[_0x303d84(0x930)]=_0x303d84(0x311)+_0x334e42,_0x1ae7af[_0x303d84(0x6e6)][_0x303d84(0x360)]('hidden'),_0x3bf332[_0x303d84(0x6e6)]['remove'](_0x303d84(0x106)),_0xcb9f07['classList'][_0x303d84(0x367)](_0x303d84(0x106)),generatePracticeTest(_0x334e42,_0x5c46dd)[_0x303d84(0xa6b)](_0x3a8ad6=>{const _0x396ffa=_0x303d84;console['error'](_0x396ffa(0xa6d),_0x3a8ad6),showMessage(_0x396ffa(0x27c)),_0xcb9f07['classList'][_0x396ffa(0x360)](_0x396ffa(0x106));});}async function generatePracticeTest(_0x3d3436,_0xb26b10){const _0x633952=_0x15116f;['pointContent','memoryContent',_0x633952(0x3b9),'summaryContent']['forEach'](_0x5376f4=>{const _0x375799=_0x633952,_0x2bba51=document[_0x375799(0x7a2)](_0x5376f4)[_0x375799(0x5f7)];_0x2bba51&&(_0x2bba51['style'][_0x375799(0xbdc)]=_0x375799(0x799));});try{const _0x22b2cd='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x54872b=_0x633952(0x6ed)+_0xb26b10+'\x27\x20ในหัวข้อ\x20\x27'+_0x3d3436+_0x633952(0xc50),_0x5d1820=await callGemini(_0x54872b,!![]),_0x3d28d8=document[_0x633952(0x7a2)](_0x633952(0x100)),_0x1d4e39=document[_0x633952(0x7a2)](_0x633952(0x132)),_0x26353d=document[_0x633952(0x7a2)]('lesson-sections-container'),_0x302449=document[_0x633952(0x7a2)](_0x633952(0x3b9))['parentElement'];_0x3d28d8[_0x633952(0x589)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x3d3436[_0x633952(0x892)](/•\s/g,'')+_0x633952(0x715)+_0xb26b10+')',currentApplicationData=JSON[_0x633952(0x877)](_0x5d1820);const _0x21319b=document[_0x633952(0x7a2)](_0x633952(0x3b9));_0x21319b[_0x633952(0x322)]=currentApplicationData['map']((_0x485c7c,_0x34480a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x34480a+0x1)+'.\x20'+marked[_0x633952(0xc22)](_0x485c7c[_0x633952(0x4b4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x34480a+_0x633952(0x586)+_0x485c7c[_0x633952(0xbd3)]['map']((_0x4f0fa3,_0xd090b3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x34480a+',\x20'+_0xd090b3+_0x633952(0x525)+String[_0x633952(0x3c4)](0x61+_0xd090b3)+'.\x20'+marked['parseInline'](_0x4f0fa3)+_0x633952(0x399))[_0x633952(0x935)]('')+_0x633952(0xbc6))[_0x633952(0x935)](''),window[_0x633952(0x8a8)]&&MathJax[_0x633952(0x107)]([_0x21319b]),_0x302449&&(_0x302449[_0x633952(0x1af)][_0x633952(0xbdc)]=_0x633952(0x369)),_0x1d4e39[_0x633952(0x6e6)][_0x633952(0x360)](_0x633952(0x106)),_0x26353d[_0x633952(0x6e6)]['remove'](_0x633952(0x106));}catch(_0x52ab2a){console[_0x633952(0x13b)](_0x52ab2a);throw _0x52ab2a;}}async function callGemini(_0x10dbcf,_0x1c747e=![]){const _0x4805d4=_0x15116f,_0x4d76c9=_0x4805d4(0xac4),_0x5d44bb=_0x4805d4(0xa3c)+_0x4d76c9,_0x33b23f={'contents':[{'parts':[{'text':_0x10dbcf}]}]};_0x1c747e&&(_0x33b23f[_0x4805d4(0x2db)]={'responseMimeType':'application/json'},_0x10dbcf[_0x4805d4(0x679)]('Test\x20Blueprint')?_0x33b23f[_0x4805d4(0x2db)][_0x4805d4(0x4b1)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x4805d4(0x87c)},'curriculum':{'type':_0x4805d4(0x587),'items':{'type':_0x4805d4(0x8c9),'properties':{'sara':{'type':_0x4805d4(0x87c)},'mainTopics':{'type':'ARRAY','items':{'type':_0x4805d4(0x8c9),'properties':{'topicName':{'type':_0x4805d4(0x87c)},'subTopics':{'type':'ARRAY','items':{'type':_0x4805d4(0x87c)}}},'required':[_0x4805d4(0xab6),'subTopics']}}},'required':[_0x4805d4(0x279),_0x4805d4(0x9cc)]}}},'required':[_0x4805d4(0x5b8),_0x4805d4(0x5b7)]}:_0x33b23f[_0x4805d4(0x2db)]['responseSchema']={'type':_0x4805d4(0x587),'items':{'type':_0x4805d4(0x8c9),'properties':{'question':{'type':_0x4805d4(0x87c)},'options':{'type':_0x4805d4(0x587),'items':{'type':_0x4805d4(0x87c)}},'answer':{'type':_0x4805d4(0x421)}},'required':['question',_0x4805d4(0xbd3),'answer']}});try{const _0x457889=await fetch(_0x5d44bb,{'method':_0x4805d4(0x654),'headers':{'Content-Type':_0x4805d4(0xa8a)},'body':JSON['stringify'](_0x33b23f)});if(!_0x457889['ok']){const _0x5a8a07=await _0x457889[_0x4805d4(0x9ef)]();console[_0x4805d4(0x13b)](_0x4805d4(0xb3f),_0x5a8a07);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x457889[_0x4805d4(0x55a)]);}const _0x496840=await _0x457889[_0x4805d4(0x1a7)]();if(_0x496840[_0x4805d4(0x9b4)]&&_0x496840[_0x4805d4(0x9b4)][0x0]['content']&&_0x496840['candidates'][0x0][_0x4805d4(0x2c0)][_0x4805d4(0x4e9)][0x0])return _0x496840[_0x4805d4(0x9b4)][0x0][_0x4805d4(0x2c0)]['parts'][0x0][_0x4805d4(0x9ef)];else{console[_0x4805d4(0x13b)](_0x4805d4(0xbda),_0x496840);if(_0x496840[_0x4805d4(0x9b4)]&&_0x496840[_0x4805d4(0x9b4)][0x0][_0x4805d4(0x233)]===_0x4805d4(0x5aa))return JSON[_0x4805d4(0x352)]({'error':_0x4805d4(0xfa)});throw new Error(_0x4805d4(0x805));}}catch(_0x92eb5b){console['error'](_0x4805d4(0x319),_0x92eb5b);throw _0x92eb5b;}}async function generateLesson(_0x3c5c92=null,_0x264a5a=null){const _0x31500b=_0x15116f,_0x115a61=_0x3c5c92,_0x4394d4=_0x264a5a||_0x31500b(0xaf9),_0xb89235=document[_0x31500b(0x7a2)](_0x31500b(0x132)),_0x43285b=document[_0x31500b(0x7a2)]('lesson-loader-text');_0x43285b['textContent']=_0x31500b(0xb84)+_0x115a61+_0x31500b(0xa9f);try{const _0x5cde2a=_0x31500b(0x941),_0x4cca5b=_0x31500b(0xc1c)+_0x4394d4+_0x31500b(0x708)+_0x115a61+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x5cde2a+_0x31500b(0xbbc),_0x173e96=_0x31500b(0x2ed)+_0x115a61+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x4394d4+_0x31500b(0x44e)+_0x5cde2a+_0x31500b(0x6ef),_0x1f227d='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4394d4+_0x31500b(0x708)+_0x115a61+_0x31500b(0x756)+_0x5cde2a+_0x31500b(0x521),_0x2bc13b=_0x31500b(0xb90)+_0x115a61+_0x31500b(0x2c3)+_0x4394d4+_0x31500b(0x448)+_0x5cde2a+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',[_0x2845b5,_0x347c68,_0x20d937,_0x45ebf3]=await Promise[_0x31500b(0x458)]([callGemini(_0x4cca5b),callGemini(_0x173e96),callGemini(_0x1f227d,!![]),callGemini(_0x2bc13b)]),_0x46723c=document[_0x31500b(0x7a2)](_0x31500b(0x100)),_0x5683a9=document[_0x31500b(0x7a2)](_0x31500b(0x2b7));_0x46723c[_0x31500b(0x589)]=_0x31500b(0x7dc)+_0x115a61[_0x31500b(0x892)](/•\\s/g,'')+_0x31500b(0x715)+_0x4394d4+')',['pointContent',_0x31500b(0x5ea),_0x31500b(0x580)][_0x31500b(0x1b7)](_0x587f4a=>{const _0x3ac9b1=_0x31500b;document['getElementById'](_0x587f4a)[_0x3ac9b1(0x322)]='';}),document['getElementById'](_0x31500b(0x5d4))['innerHTML']=marked[_0x31500b(0x877)](_0x2845b5),document['getElementById']('memoryContent')[_0x31500b(0x322)]=marked['parse'](_0x347c68),document[_0x31500b(0x7a2)](_0x31500b(0x580))[_0x31500b(0x322)]=marked[_0x31500b(0x877)](_0x45ebf3),currentApplicationData=JSON['parse'](_0x20d937);const _0x209505=document[_0x31500b(0x7a2)](_0x31500b(0x3b9));_0x209505['innerHTML']=currentApplicationData[_0x31500b(0x217)]((_0x94fecb,_0x226fc6)=>_0x31500b(0xa80)+(_0x226fc6+0x1)+'.\x20'+marked[_0x31500b(0xc22)](_0x94fecb[_0x31500b(0x4b4)])+_0x31500b(0x76b)+_0x226fc6+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x94fecb[_0x31500b(0xbd3)][_0x31500b(0x217)]((_0x478882,_0x2ef488)=>_0x31500b(0x11a)+_0x226fc6+',\x20'+_0x2ef488+_0x31500b(0x525)+String[_0x31500b(0x3c4)](0x61+_0x2ef488)+'.\x20'+marked['parseInline'](_0x478882)+_0x31500b(0x399))['join']('')+_0x31500b(0xbc6))['join'](''),window[_0x31500b(0x8a8)]&&MathJax[_0x31500b(0x107)]([_0x5683a9]),_0xb89235[_0x31500b(0x6e6)]['add'](_0x31500b(0x106)),_0x5683a9['classList'][_0x31500b(0x367)]('hidden');}catch(_0x14afd0){console['error'](_0x14afd0);throw _0x14afd0;}}function checkAnswer(_0x474e1a,_0x25093d){const _0x22d6f7=_0x15116f,_0x52648e=currentApplicationData[_0x474e1a],_0x577d90=document[_0x22d6f7(0x7a2)]('q'+_0x474e1a+_0x22d6f7(0x678)),_0x42138d=_0x577d90[_0x22d6f7(0xb2c)](_0x22d6f7(0x141));for(let _0xc1a49a of _0x42138d){_0xc1a49a[_0x22d6f7(0xc47)]=!![];}_0x25093d===_0x52648e['answer']?_0x42138d[_0x25093d]['classList'][_0x22d6f7(0x360)](_0x22d6f7(0x480)):(_0x42138d[_0x25093d][_0x22d6f7(0x6e6)][_0x22d6f7(0x360)](_0x22d6f7(0x120)),_0x42138d[_0x52648e[_0x22d6f7(0x796)]][_0x22d6f7(0x6e6)][_0x22d6f7(0x360)](_0x22d6f7(0x480)));}window[_0x15116f(0xc5a)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x15116f(0x143)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x1481b1=_0x15116f;try{const _0x32b1d4=initializeApp(firebaseConfig);db=getFirestore(_0x32b1d4),auth=getAuth(_0x32b1d4),setupAuthListener(),setupEventListeners(),showView(_0x1481b1(0xb56)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3df578){console[_0x1481b1(0x13b)](_0x1481b1(0x660),_0x3df578),showMessage(_0x1481b1(0xbc3));}}async function handleVerifyAnswersInEditor(){const _0xdca6c1=_0x15116f,_0x49757d=document[_0xdca6c1(0x7a2)](_0xdca6c1(0xb85));if(!_0x49757d)return;const _0x2be08b=document['getElementById'](_0xdca6c1(0x3e5));_0x2be08b[_0xdca6c1(0xc47)]=!![],_0x2be08b['innerHTML']=_0xdca6c1(0x7dd);try{const _0x26d381=_0x49757d[_0xdca6c1(0x17a)](_0xdca6c1(0xa79)),_0x3b176f=Array['from'](_0x26d381)[_0xdca6c1(0x217)]((_0x292782,_0x724347)=>{const _0x8c9c59=_0xdca6c1,_0x177276=_0x292782[_0x8c9c59(0xb1e)]['qType'],_0x4c18cd=_0x292782[_0x8c9c59(0xba0)](_0x8c9c59(0x9c3))[_0x8c9c59(0x682)];let _0x372114=null,_0x3898ed='';switch(_0x177276){case _0x8c9c59(0x2ac):const _0x1f66de=_0x292782['querySelectorAll'](_0x8c9c59(0x6ec));_0x372114=Array['from'](_0x1f66de)[_0x8c9c59(0x217)](_0x55161c=>_0x55161c[_0x8c9c59(0x682)]);const _0x28e099=_0x292782[_0x8c9c59(0xba0)](_0x8c9c59(0x3f7));_0x28e099&&(_0x3898ed=_0x372114[parseInt(_0x28e099[_0x8c9c59(0x682)])]);break;case _0x8c9c59(0xb64):_0x3898ed=_0x292782[_0x8c9c59(0xba0)]('.ideal-answer-input')[_0x8c9c59(0x682)];break;case _0x8c9c59(0x1dd):const _0x49721f=_0x292782['querySelector'](_0x8c9c59(0x3f7));_0x3898ed=_0x49721f?_0x49721f['value']:'';break;case'matching_item':_0x3898ed=_0x292782['querySelector'](_0x8c9c59(0x2ee))[_0x8c9c59(0x682)];break;}return{'question':_0x4c18cd,'options':_0x372114,'proposedAnswer':_0x3898ed};}),_0x4913f6=_0xdca6c1(0x714)+JSON[_0xdca6c1(0x352)](_0x3b176f)+_0xdca6c1(0x43c),_0x3cbbcb={'type':_0xdca6c1(0x587),'items':{'type':_0xdca6c1(0x8c9),'properties':{'questionIndex':{'type':_0xdca6c1(0x421)},'isCorrect':{'type':_0xdca6c1(0x6cf)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0xdca6c1(0x653),_0xdca6c1(0xc25)]}},_0x1ce13a=await callAnalysisApi(_0x4913f6,{'type':_0xdca6c1(0x8c9),'properties':{'result':_0x3cbbcb},'required':['result']});displayVerificationResultsInEditor(_0x1ce13a[_0xdca6c1(0x1e4)]);}catch(_0x19e3e4){console[_0xdca6c1(0x13b)](_0xdca6c1(0xb98),_0x19e3e4),showMessage(_0xdca6c1(0x41c));}finally{_0x2be08b[_0xdca6c1(0xc47)]=![],_0x2be08b[_0xdca6c1(0x322)]=_0xdca6c1(0x73e);}}function displayVerificationResultsInEditor(_0x4c90b2){const _0xc0f398=_0x15116f;_0x4c90b2[_0xc0f398(0x1b7)](_0x298cdc=>{const _0x353e0a=_0xc0f398,_0x5dbec0=document[_0x353e0a(0xba0)]('.question-editor-item[data-q-index=\x22'+_0x298cdc[_0x353e0a(0x63b)]+'\x22]');if(!_0x5dbec0)return;const _0x35c55e=_0x5dbec0[_0x353e0a(0xba0)]('.verification-result-editor');if(_0x35c55e)_0x35c55e[_0x353e0a(0x367)]();let _0x1eb291='';if(_0x298cdc[_0x353e0a(0x653)])_0x1eb291=_0x353e0a(0x7f5);else{const _0x56e648=_0x298cdc['suggestedAnswer']?_0x353e0a(0x8ea):'';_0x1eb291=_0x353e0a(0xa73)+_0x56e648+_0x353e0a(0x58c)+_0x298cdc['justification']+_0x353e0a(0x7cf)+(_0x298cdc['suggestedAnswer']?_0x353e0a(0x180)+_0x298cdc[_0x353e0a(0x15d)]+_0x353e0a(0x7db):'')+_0x353e0a(0x997);}_0x5dbec0[_0x353e0a(0x59f)](_0x353e0a(0x96c),_0x1eb291);if(!_0x298cdc['isCorrect']&&_0x298cdc[_0x353e0a(0x15d)]){const _0xbe9904=_0x5dbec0[_0x353e0a(0xb1e)][_0x353e0a(0x44d)],_0x39442a=_0x4cfedb=>{const _0x1ee50a=_0x353e0a;if(!_0x4cfedb)return;_0x4cfedb['classList'][_0x1ee50a(0x360)]('bg-green-200',_0x1ee50a(0xbb7),'duration-300'),setTimeout(()=>{const _0x2735f1=_0x1ee50a;_0x4cfedb[_0x2735f1(0x6e6)]['remove'](_0x2735f1(0x6b4));},0x9c4);};if(_0xbe9904==='multiple_choice'){const _0x24864c=Array[_0x353e0a(0x636)](_0x5dbec0[_0x353e0a(0x17a)](_0x353e0a(0x6ec))),_0x12625b=_0x24864c[_0x353e0a(0xc2b)](_0x185dc3=>_0x185dc3[_0x353e0a(0x682)][_0x353e0a(0x6ad)]()[_0x353e0a(0x53c)]()===_0x298cdc[_0x353e0a(0x15d)]['trim']()['toLowerCase']());if(_0x12625b!==-0x1){const _0x5554d0=_0x5dbec0[_0x353e0a(0xba0)]('input[type=\x22radio\x22][value=\x22'+_0x12625b+'\x22]');_0x5554d0&&(_0x5554d0[_0x353e0a(0x8cc)]=!![],_0x39442a(_0x5554d0[_0x353e0a(0x38e)]('div')));}}else{if(_0xbe9904===_0x353e0a(0xb64)||_0xbe9904===_0x353e0a(0xb55)){const _0x493c92=_0x5dbec0['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x493c92&&(_0x493c92[_0x353e0a(0x682)]=_0x298cdc[_0x353e0a(0x15d)],_0x39442a(_0x493c92));}else{if(_0xbe9904===_0x353e0a(0x1dd)){const _0x3b8ac2=_0x298cdc['suggestedAnswer'][_0x353e0a(0x6ad)]()[_0x353e0a(0x53c)](),_0x4e5672=_0x5dbec0[_0x353e0a(0xba0)](_0x353e0a(0x228)+_0x3b8ac2+'\x22]');_0x4e5672&&(_0x4e5672[_0x353e0a(0x8cc)]=!![],_0x39442a(_0x4e5672[_0x353e0a(0x38e)](_0x353e0a(0xad3))));}}}}}),showMessage(_0xc0f398(0x977));}async function handleVerifyAnswers(){const _0x551bbc=_0x15116f;if(!currentQuizData||!currentQuizData[_0x551bbc(0x72a)]){showMessage(_0x551bbc(0xae3));return;}const _0x390966=document['getElementById'](_0x551bbc(0x2f9));_0x390966[_0x551bbc(0xc47)]=!![],_0x390966[_0x551bbc(0x322)]=_0x551bbc(0x7dd);try{const _0x613e8c=currentQuizData['questions']['map']((_0x27b0e9,_0x4069ac)=>{const _0x93360c=_0x551bbc;let _0x187c2a='';const _0x526c34=_0x27b0e9[_0x93360c(0x5ac)]||currentQuizData['quizType'];switch(_0x526c34){case'multiple_choice':_0x187c2a=_0x27b0e9[_0x93360c(0xbd3)][_0x27b0e9[_0x93360c(0x4fa)]];break;case'short_answer':_0x187c2a=_0x27b0e9[_0x93360c(0x5ec)];break;case _0x93360c(0x1dd):_0x187c2a=_0x27b0e9['correctAnswer'][_0x93360c(0x42f)]();break;case _0x93360c(0xb55):_0x187c2a=_0x27b0e9['correctResponse'];break;}return{'question':_0x27b0e9['stem']||_0x27b0e9[_0x93360c(0x187)],'options':_0x27b0e9[_0x93360c(0xbd3)]||null,'proposedAnswer':_0x187c2a};}),_0x34a8d1=_0x551bbc(0x517)+JSON[_0x551bbc(0x352)](_0x613e8c)+_0x551bbc(0x3f1),_0x80e472={'type':_0x551bbc(0x587),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x551bbc(0x421)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x551bbc(0x87c)},'suggestedAnswer':{'type':_0x551bbc(0x87c)}},'required':[_0x551bbc(0x63b),_0x551bbc(0x653),'justification']}},_0x401d04=await callAnalysisApi(_0x34a8d1,{'type':_0x551bbc(0x8c9),'properties':{'result':_0x80e472},'required':[_0x551bbc(0x1e4)]});displayVerificationResults(_0x401d04[_0x551bbc(0x1e4)]);}catch(_0x2cf5c3){console[_0x551bbc(0x13b)](_0x551bbc(0xa4d),_0x2cf5c3),showMessage(_0x551bbc(0x41c));}finally{_0x390966['disabled']=![],_0x390966['innerHTML']=_0x551bbc(0xbf3);}}function displayVerificationResults(_0x581391){const _0x123cf9=_0x15116f;_0x581391[_0x123cf9(0x1b7)](_0x2e1734=>{const _0x4b4bc0=_0x123cf9,_0x5e2fb7=document[_0x4b4bc0(0xba0)]('div[data-question-index=\x22'+_0x2e1734[_0x4b4bc0(0x63b)]+'\x22]');if(_0x5e2fb7){const _0x4b34cb=_0x5e2fb7[_0x4b4bc0(0xba0)](_0x4b4bc0(0x3b0));if(_0x4b34cb)_0x4b34cb[_0x4b4bc0(0x367)]();let _0x53fddd='';_0x2e1734[_0x4b4bc0(0x653)]?_0x53fddd=_0x4b4bc0(0x378):_0x53fddd=_0x4b4bc0(0x7f4)+_0x2e1734['justification']+_0x4b4bc0(0x84e)+(_0x2e1734[_0x4b4bc0(0x15d)]?_0x4b4bc0(0x180)+_0x2e1734[_0x4b4bc0(0x15d)]+_0x4b4bc0(0x7db):'')+_0x4b4bc0(0x5de),_0x5e2fb7[_0x4b4bc0(0x59f)](_0x4b4bc0(0x96c),_0x53fddd);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x1574ba,_0x1d8a11){const _0x380327=_0x15116f,_0x57b244=String(_0x1574ba)[_0x380327(0x892)](',','.')['replace'](/[^\d.-]/g,'')[_0x380327(0x6ad)](),_0x7557cd=String(_0x1d8a11)[_0x380327(0x892)](',','.')['replace'](/[^\d.-]/g,'')[_0x380327(0x6ad)]();if(_0x57b244===''||_0x7557cd==='')return![];const _0x12835f=parseFloat(_0x57b244),_0x3836ae=parseFloat(_0x7557cd);if(isNaN(_0x12835f)||isNaN(_0x3836ae))return![];return Math[_0x380327(0xaea)](_0x12835f-_0x3836ae)<0.001;}function isPotentiallyNumeric(_0x85a42f){const _0x4ef05e=_0x15116f;if(typeof _0x85a42f!=='string'&&typeof _0x85a42f!=='number')return![];const _0x1cf153=String(_0x85a42f)[_0x4ef05e(0x892)](',','.')['trim']();return _0x1cf153!==''&&!isNaN(parseFloat(_0x1cf153))&&isFinite(_0x1cf153);}async function gradeShortAnswer(_0x482686,_0x3ea3a9){const _0x368b7a=_0x15116f,_0x1e3bad=_0x3ea3a9[_0x368b7a(0x5ec)],_0x45ce94=String(_0x482686)[_0x368b7a(0x892)](/\$/g,'')[_0x368b7a(0x6ad)](),_0x41adf9=String(_0x1e3bad)[_0x368b7a(0x892)](/\$/g,'')['trim']();if(_0x45ce94[_0x368b7a(0x53c)]()===_0x41adf9['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x45ce94)&&isPotentiallyNumeric(_0x41adf9)){if(compareNumericalAnswers(_0x45ce94,_0x41adf9))return!![];}return console[_0x368b7a(0x7d6)](_0x368b7a(0x54c)),await gradeShortAnswerWithAI(_0x482686,_0x1e3bad);}async function revealAnswerForAdmin(_0x2d8491,_0x514860){const _0x5c9094=_0x15116f,_0x2eddda=doc(db,_0x5c9094(0xc14)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2eddda,{'questionStatus':_0x5c9094(0x3cd)});}function showTop5LeaderboardView(_0x5c88fd){const _0x20f9d3=_0x15116f,_0x123ed5=Object['values'](_0x5c88fd[_0x20f9d3(0x7c5)]||{})[_0x20f9d3(0x431)](_0x42d206=>_0x42d206[_0x20f9d3(0x55a)]==='active');_0x123ed5[_0x20f9d3(0x2ea)]((_0x3b4de6,_0x3e387a)=>_0x3e387a[_0x20f9d3(0x24f)]-_0x3b4de6[_0x20f9d3(0x24f)]);const _0x1557d1=_0x123ed5[_0x20f9d3(0xf9)](0x0,0x5),_0x50e13b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1557d1[_0x20f9d3(0x217)]((_0x401816,_0x424a69)=>_0x20f9d3(0x126)+(_0x424a69+0x1)+'.\x20'+(_0x401816['name']||Object[_0x20f9d3(0x377)](_0x5c88fd[_0x20f9d3(0x7c5)])[_0x20f9d3(0x22a)](_0x4c8389=>_0x5c88fd[_0x20f9d3(0x7c5)][_0x4c8389]===_0x401816))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x401816[_0x20f9d3(0x24f)]+_0x20f9d3(0x2f2))['join']('')+_0x20f9d3(0x895)+(_0x5c88fd[_0x20f9d3(0xb81)]+0x1===currentQuizData[_0x20f9d3(0x72a)][_0x20f9d3(0x987)]?_0x20f9d3(0x716):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x50e13b,document['getElementById'](_0x20f9d3(0xaad))[_0x20f9d3(0x6d5)](_0x20f9d3(0x22c),async()=>{const _0x2397d8=_0x20f9d3,_0x3042bd=doc(db,_0x2397d8(0xc14)+appId+'/public/data/liveGames',currentLiveGameId),_0x4382a6=_0x5c88fd[_0x2397d8(0xb81)]+0x1;if(_0x4382a6<currentQuizData['questions']['length']){const _0x83f143={'currentQuestionIndex':_0x4382a6,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2397d8(0x2ec)};Object[_0x2397d8(0x377)](_0x5c88fd['players'])[_0x2397d8(0x1b7)](_0x24c257=>{const _0x2f30aa=_0x2397d8;_0x83f143[_0x2f30aa(0x227)+_0x24c257+_0x2f30aa(0xb96)]=![];}),await updateDoc(_0x3042bd,_0x83f143);}else await updateDoc(_0x3042bd,{'status':_0x2397d8(0xa12)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5ebe2d=>{const _0x101812=_0x1996;if(_0x5ebe2d){userId=_0x5ebe2d['uid'],userIdDisplay[_0x101812(0x930)]=userId;const _0x20926e=await loadUserPreferences();_0x20926e[_0x101812(0xb63)]&&(document['getElementById'](_0x101812(0x5e8))['value']=_0x20926e[_0x101812(0xb63)]);globalDashboardSettings[_0x101812(0x658)]=_0x20926e[_0x101812(0x658)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x516fb0,_0x2d5f10){const _0x1b6952=_0x15116f;if(!userId)return;try{const _0x3bf84a=doc(db,'artifacts/'+appId+_0x1b6952(0xba5)+userId+'/preferences/main'),_0x27b492={};_0x27b492[_0x516fb0]=_0x2d5f10,await setDoc(_0x3bf84a,_0x27b492,{'merge':!![]});}catch(_0x140723){console['error'](_0x1b6952(0xa8e),_0x140723);}}async function loadUserPreferences(){const _0x329747=_0x15116f;if(!userId)return{};try{const _0x594e31=doc(db,_0x329747(0xc14)+appId+_0x329747(0xba5)+userId+_0x329747(0x379)),_0x1d7aa2=await getDoc(_0x594e31);if(_0x1d7aa2[_0x329747(0xfc)]())return _0x1d7aa2[_0x329747(0xc6b)]();return{};}catch(_0x5d5b80){return console[_0x329747(0x13b)](_0x329747(0x959),_0x5d5b80),{};}}function parseIndentedBlueprint(_0x50c9aa){const _0x3edce5=_0x15116f,_0x3bfbb6=_0x50c9aa[_0x3edce5(0x4a5)]('\x0a')[_0x3edce5(0x431)](_0xfa52b3=>_0xfa52b3['trim']()!==''),_0x30e044=[];let _0x569ca2=null,_0x323c47=null;return _0x3bfbb6[_0x3edce5(0x1b7)](_0x24e556=>{const _0x5a4197=_0x3edce5,_0x56fd0b=_0x24e556[_0x5a4197(0x9b1)](/^\s*/)[0x0]['length'],_0xd74e0b=_0x24e556[_0x5a4197(0x6ad)]();if(_0x56fd0b===0x0)_0x569ca2={'sara':_0xd74e0b,'mainTopics':[]},_0x30e044[_0x5a4197(0x8e7)](_0x569ca2),_0x323c47=null;else{if(_0x56fd0b>0x0&&_0x56fd0b<0x8&&_0x569ca2)_0x323c47={'topicName':_0xd74e0b,'subTopics':[]},_0x569ca2[_0x5a4197(0x9cc)][_0x5a4197(0x8e7)](_0x323c47);else _0x56fd0b>=0x8&&_0x323c47&&_0x323c47['subTopics'][_0x5a4197(0x8e7)](_0xd74e0b);}}),{'curriculum':_0x30e044};}async function handleManualBlueprintSave(){const _0xe6cca4=_0x15116f,_0x4e1def=document[_0xe6cca4(0x7a2)](_0xe6cca4(0xaef))[_0xe6cca4(0x682)][_0xe6cca4(0x6ad)](),_0xc0672b=document[_0xe6cca4(0x7a2)](_0xe6cca4(0xa0d))[_0xe6cca4(0x682)][_0xe6cca4(0x6ad)](),_0x43a342=document[_0xe6cca4(0x7a2)](_0xe6cca4(0x512))[_0xe6cca4(0x682)];if(!_0x4e1def||!_0xc0672b||!_0x43a342){showMessage(_0xe6cca4(0x82f));return;}const _0x3e1ec7=parseIndentedBlueprint(_0x43a342);if(!_0x3e1ec7[_0xe6cca4(0x5b7)]||_0x3e1ec7['curriculum'][_0xe6cca4(0x987)]===0x0){showMessage(_0xe6cca4(0x361));return;}const _0x1b373f={};_0x3e1ec7['curriculum'][_0xe6cca4(0x1b7)](_0x4450b1=>{const _0x3c34b0=_0xe6cca4;_0x4450b1[_0x3c34b0(0x9cc)]['forEach'](_0x4e1ea9=>{const _0x17949c=_0x3c34b0;_0x4e1ea9[_0x17949c(0xa7c)]['forEach'](_0x1a8f6e=>{const _0x5d03af=_0x17949c,_0x30225e=_0x5d03af(0x468)+Date[_0x5d03af(0xb20)]()+Math[_0x5d03af(0xaeb)]()[_0x5d03af(0x42f)](0x24)[_0x5d03af(0x6c3)](0x2,0x9);_0x1b373f[_0x30225e]={'sara':_0x4450b1['sara'],'mainTopic':_0x4e1ea9[_0x5d03af(0xab6)],'subTopic':_0x1a8f6e,'status':_0x5d03af(0x4cf),'lessonContent':null};});});});try{const _0x3fae38=collection(db,_0xe6cca4(0xc14)+appId+_0xe6cca4(0x41d));await addDoc(_0x3fae38,{'projectName':_0x4e1def,'gradeLevel':_0xc0672b,'topics':_0x1b373f,'createdAt':serverTimestamp()}),showMessage(_0xe6cca4(0x8fc)+_0x4e1def+_0xe6cca4(0x7ff)),document[_0xe6cca4(0x7a2)](_0xe6cca4(0x370))[_0xe6cca4(0x6e6)]['add']('hidden');}catch(_0x49f870){console[_0xe6cca4(0x13b)](_0xe6cca4(0x5ff),_0x49f870),showMessage(_0xe6cca4(0x6f2));}}function handleClearAllLinksForTopic(_0x7feeb0){const _0x4a04a9=_0x15116f;showConfirmation(_0x4a04a9(0xba7),async()=>{const _0x43da72=_0x4a04a9;try{const _0x717cae=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x717cae,{[_0x43da72(0x6d3)+_0x7feeb0+_0x43da72(0xa04)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x7feeb0),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2e9f8c){console[_0x43da72(0x13b)](_0x43da72(0x1df),_0x2e9f8c),showMessage(_0x43da72(0xb13));}});}function showPodiumView(_0x3d3a45,_0x461163='live-race'){const _0x50f6d7=_0x15116f,_0x10a6d1=Object['entries'](_0x3d3a45)[_0x50f6d7(0x217)](([_0x5d2c18,_0x3706fa])=>({'name':_0x5d2c18,'score':_0x3706fa['score']||0x0,'badges':_0x3706fa[_0x50f6d7(0x457)]||[],'hasPerfectScoreBonus':_0x3706fa[_0x50f6d7(0x934)]||![]}));_0x10a6d1[_0x50f6d7(0x2ea)]((_0x561190,_0x1e0896)=>{const _0x530037=_0x50f6d7,_0xd5a086=_0x1e0896[_0x530037(0x24f)]-_0x561190[_0x530037(0x24f)];if(_0xd5a086!==0x0)return _0xd5a086;return(_0x1e0896[_0x530037(0x457)][_0x530037(0x987)]||0x0)-(_0x561190['badges'][_0x530037(0x987)]||0x0);});const _0x5b4420=_0x98cab=>{const _0x1b641b=_0x50f6d7;if(!_0x98cab||_0x98cab[_0x1b641b(0x987)]===0x0)return'';const _0x2243a4={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1b641b(0x7c7)+_0x98cab[_0x1b641b(0x217)](_0xf9d388=>_0x2243a4[_0xf9d388]||'')[_0x1b641b(0x935)]('')+_0x1b641b(0x5ae);},_0xfd1a3e=_0x10a6d1[_0x50f6d7(0xf9)](0x3),_0x54d36c=_0xfd1a3e['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfd1a3e[_0x50f6d7(0x217)]((_0x20f275,_0x5752dc)=>{const _0xb89f94=_0x50f6d7,_0x1ba67f=_0x20f275[_0xb89f94(0x934)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0xb89f94(0xb59)+(_0x5752dc+0x4)+_0xb89f94(0x8f9)+_0x20f275[_0xb89f94(0x947)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x20f275[_0xb89f94(0x24f)]+_0xb89f94(0xbb9)+_0x1ba67f+_0xb89f94(0xc21);})[_0x50f6d7(0x935)]('')+_0x50f6d7(0x6dd):'',_0x4926f7=_0x50f6d7(0x7c1)+(_0x10a6d1[0x1]?_0x50f6d7(0x64a)+_0x10a6d1[0x1]['name']+_0x50f6d7(0x7db)+_0x5b4420(_0x10a6d1[0x1][_0x50f6d7(0x457)])+_0x50f6d7(0x1a1)+_0x10a6d1[0x1][_0x50f6d7(0x24f)]+'\x20คะแนน\x20'+(_0x10a6d1[0x1]['hasPerfectScoreBonus']?_0x50f6d7(0x4ea):'')+_0x50f6d7(0xa60):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x10a6d1[0x0]?_0x50f6d7(0xb62)+_0x10a6d1[0x0][_0x50f6d7(0x947)]+_0x50f6d7(0x7db)+_0x5b4420(_0x10a6d1[0x0]['badges'])+_0x50f6d7(0x818)+_0x10a6d1[0x0][_0x50f6d7(0x24f)]+_0x50f6d7(0xbb9)+(_0x10a6d1[0x0][_0x50f6d7(0x934)]?_0x50f6d7(0x4ea):'')+_0x50f6d7(0xf4):_0x50f6d7(0xb02))+_0x50f6d7(0x5a9)+(_0x10a6d1[0x2]?_0x50f6d7(0x7e4)+_0x10a6d1[0x2][_0x50f6d7(0x947)]+_0x50f6d7(0x7db)+_0x5b4420(_0x10a6d1[0x2][_0x50f6d7(0x457)])+'<p\x20class=\x22text-xl\x22>'+_0x10a6d1[0x2][_0x50f6d7(0x24f)]+_0x50f6d7(0xbb9)+(_0x10a6d1[0x2][_0x50f6d7(0x934)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x50f6d7(0x709):_0x50f6d7(0xb02))+_0x50f6d7(0xc13)+_0x54d36c+_0x50f6d7(0x677)+(currentMode===_0x50f6d7(0x18b)?_0x50f6d7(0x34c):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x50f6d7(0xba4);liveGameView[_0x50f6d7(0x322)]=_0x4926f7,currentMode===_0x50f6d7(0x18b)&&document[_0x50f6d7(0x7a2)]('close-game-final-btn')[_0x50f6d7(0x6d5)](_0x50f6d7(0x22c),async()=>{const _0x11d6cf=_0x50f6d7;let _0x1ccacf;_0x461163==='sync'?_0x1ccacf=doc(db,'artifacts/'+appId+_0x11d6cf(0x13d),currentLiveGameId):_0x1ccacf=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x1ccacf);});}function renderSyncSummaryView(_0x16ad28,_0xd13b70,_0x2e437c){const _0x5e8825=_0x15116f,_0x16da5e=Object['values'](_0x16ad28[_0x5e8825(0x7c5)]||{}),_0x1dcba2=_0xd13b70[_0x5e8825(0x5ac)]||_0x16ad28[_0x5e8825(0x4ff)][_0x5e8825(0xbe2)];let _0x4c0637=[];_0x1dcba2==='true_false'?_0x4c0637=['ใช่\x20/\x20ถูก',_0x5e8825(0x856)]:_0x4c0637=_0xd13b70[_0x5e8825(0xbd3)]||[];const _0x5136c2=new Array(_0x4c0637['length'])[_0x5e8825(0x5c8)](0x0),_0x345371={};_0x4c0637['forEach']((_0x5cb57f,_0x490eca)=>{_0x345371[_0x490eca]=[];}),Object[_0x5e8825(0x73b)](_0x16ad28['players']||{})[_0x5e8825(0x1b7)](([_0x4e4633,_0x2c925a])=>{const _0x125095=_0x5e8825;if(_0x2c925a['status']!==_0x125095(0x1c1)&&_0x2c925a[_0x125095(0x127)]!==undefined&&_0x2c925a[_0x125095(0x127)]!==null){const _0x521383=_0x2c925a['lastAnswerIndex'];_0x345371[_0x521383]!==undefined&&(_0x345371[_0x521383][_0x125095(0x8e7)](_0x4e4633),_0x5136c2[_0x521383]++);}});let _0x95f6d8='';_0x2e437c?_0x95f6d8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x95f6d8=_0x5e8825(0x1ad);const _0x42c4b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0xd13b70[_0x5e8825(0x187)]+_0x5e8825(0x89b)+_0x5136c2[_0x5e8825(0x217)]((_0x4cdce8,_0x193580)=>{const _0x13a9a0=_0x5e8825,_0x5ce1c8=_0x345371[_0x193580]['length']>0x0?_0x345371[_0x193580][_0x13a9a0(0x935)](',\x20'):_0x13a9a0(0xc3c),_0xb9134f=_0x13a9a0(0x6ac);return _0x13a9a0(0x94d)+_0x4cdce8+_0x13a9a0(0x324)+_0xb9134f+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x193580+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x4c0637[_0x193580]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x193580+_0x13a9a0(0x203)+_0x5ce1c8+_0x13a9a0(0x1b9);})['join']('')+_0x5e8825(0x6a9)+_0x95f6d8+_0x5e8825(0x3ed);liveGameView[_0x5e8825(0x322)]=_0x42c4b1;if(window[_0x5e8825(0x8a8)])MathJax['typesetPromise']();_0x2e437c&&(document[_0x5e8825(0x7a2)](_0x5e8825(0x845))[_0x5e8825(0x6d5)](_0x5e8825(0x22c),async()=>{const _0x91e601=_0x5e8825,_0x2ce742=doc(db,'artifacts/'+appId+_0x91e601(0x13d),currentLiveGameId);await updateDoc(_0x2ce742,{'status':_0x91e601(0x128)});}),document[_0x5e8825(0x7a2)](_0x5e8825(0x7f3))['onclick']=()=>{openScratchpad(_0xd13b70,_0x4c0637);});}async function handleShowStudentRankings(){const _0x186b7e=_0x15116f,_0x2146cd=document[_0x186b7e(0xba0)](_0x186b7e(0x5cd));_0x2146cd&&(_0x2146cd['innerHTML']=_0x186b7e(0x866));const _0x3bd525=document[_0x186b7e(0xba0)](_0x186b7e(0x8e1));_0x3bd525&&(_0x3bd525['innerHTML']=_0x186b7e(0x66c));const _0xdbd4e0=document[_0x186b7e(0x7a2)](_0x186b7e(0x419));_0xdbd4e0[_0x186b7e(0x6e6)][_0x186b7e(0x367)]('hidden'),document[_0x186b7e(0x7a2)](_0x186b7e(0x8f2))[_0x186b7e(0x695)]=()=>_0xdbd4e0[_0x186b7e(0x6e6)]['add'](_0x186b7e(0x106));const _0x64bff3=document[_0x186b7e(0x7a2)](_0x186b7e(0x1ba)),_0x46d686=document[_0x186b7e(0x7a2)](_0x186b7e(0x307)),_0x49067b=document['getElementById'](_0x186b7e(0x5c5)),_0x7087e0=document[_0x186b7e(0x7a2)](_0x186b7e(0x52c));_0x64bff3[_0x186b7e(0x695)]=()=>{const _0x22a1fe=_0x186b7e;_0x64bff3[_0x22a1fe(0x6e6)][_0x22a1fe(0x360)]('active'),_0x46d686[_0x22a1fe(0x6e6)]['remove']('active'),_0x49067b[_0x22a1fe(0x6e6)][_0x22a1fe(0x367)](_0x22a1fe(0x106)),_0x7087e0[_0x22a1fe(0x6e6)][_0x22a1fe(0x360)]('hidden');},_0x46d686[_0x186b7e(0x695)]=()=>{const _0x1f99af=_0x186b7e;_0x46d686[_0x1f99af(0x6e6)]['add'](_0x1f99af(0x63c)),_0x64bff3[_0x1f99af(0x6e6)][_0x1f99af(0x367)]('active'),_0x7087e0['classList']['remove'](_0x1f99af(0x106)),_0x49067b[_0x1f99af(0x6e6)]['add'](_0x1f99af(0x106));};try{const _0x951aa0=collection(db,'artifacts/'+appId+_0x186b7e(0x6b0)+currentQuizData['id']+_0x186b7e(0x68c)),_0x340e69=await getDocs(_0x951aa0),_0x4fee8a=_0x340e69['docs']['map'](_0x507317=>_0x507317[_0x186b7e(0xc6b)]());renderQuizLeaderboard(_0x4fee8a,currentQuizData,_0x186b7e(0xc1f));const _0x9a47d9=collection(db,_0x186b7e(0xc14)+appId+_0x186b7e(0x459)+currentQuizData[_0x186b7e(0xb9b)]+_0x186b7e(0x880)),_0x36e0e9=await getDocs(_0x9a47d9),_0x231a11=_0x36e0e9['docs']['map'](_0x326f9b=>_0x326f9b[_0x186b7e(0xc6b)]());renderLeaderboard(_0x231a11,_0x186b7e(0x196));}catch(_0x15eb94){console[_0x186b7e(0x13b)]('Error\x20fetching\x20student\x20rankings:',_0x15eb94),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x404610){const _0x367d16=_0x15116f,_0x343352=_0x404610[_0x367d16(0x5f1)],_0x56f478=_0x343352[_0x367d16(0xb1e)][_0x367d16(0xad0)],_0xe9d4a2=currentQuizData[_0x367d16(0x72a)][_0x56f478];if(!userId){showMessage(_0x367d16(0x176));return;}try{const _0x2db50f={..._0xe9d4a2,'originalTopic':currentQuizData[_0x367d16(0xc63)],'savedAt':serverTimestamp()},_0x62b240=collection(db,'artifacts/'+appId+_0x367d16(0xba5)+userId+_0x367d16(0xbf4));await addDoc(_0x62b240,_0x2db50f),showMessage(_0x367d16(0xb36)),_0x343352[_0x367d16(0x6e6)]['remove'](_0x367d16(0x9f0)),_0x343352[_0x367d16(0x6e6)][_0x367d16(0x360)](_0x367d16(0x1f8)),_0x343352[_0x367d16(0xc47)]=!![];}catch(_0x36833b){console[_0x367d16(0x13b)](_0x367d16(0x499),_0x36833b),showMessage(_0x367d16(0xbb4));}}function selectProjectAndGenerateBlueprintQuiz(_0x32707c,_0x342674=null,_0x1d1a50=null,_0x153fc4=![]){const _0x572cc7=_0x15116f;cameFromBlueprint=!![];const _0x51d615=document[_0x572cc7(0x7a2)](_0x572cc7(0xa56)),_0xb219e8=document[_0x572cc7(0x7a2)](_0x572cc7(0xa9e)),_0x32192e=_0x51d615[_0x572cc7(0xba0)]('h3'),_0x7a068b=document[_0x572cc7(0x7a2)](_0x572cc7(0x20b)),_0x3e98f2=document['getElementById']('cancel-move-quiz-btn');_0x32192e['textContent']=_0x572cc7(0x112),_0x7a068b[_0x572cc7(0x930)]=_0x572cc7(0x46c),_0x7a068b[_0x572cc7(0xc47)]=!![];allProjects[_0x572cc7(0x987)]===0x0?_0xb219e8[_0x572cc7(0x322)]=_0x572cc7(0x124):(_0xb219e8[_0x572cc7(0x322)]=_0x572cc7(0x573)+allProjects[_0x572cc7(0x217)](_0xa1138e=>_0x572cc7(0x559)+_0xa1138e['id']+'\x22>'+_0xa1138e[_0x572cc7(0x208)]+_0x572cc7(0x76d))[_0x572cc7(0x935)](''),_0x7a068b[_0x572cc7(0xc47)]=![]);_0x51d615['classList'][_0x572cc7(0x367)](_0x572cc7(0x106));const _0x1e080c=async()=>{const _0x211124=_0x572cc7,_0x4fca97=_0xb219e8[_0x211124(0x682)];if(!_0x4fca97){showMessage(_0x211124(0x82b));return;}_0x51d615[_0x211124(0x6e6)][_0x211124(0x360)](_0x211124(0x106)),document[_0x211124(0x7a2)]('blueprint-project-manager-view')[_0x211124(0x6e6)]['add'](_0x211124(0x106)),await loadProjectDetails(_0x4fca97),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x32707c,_0x342674,_0x4fca97,_0x1d1a50,_0x153fc4),_0x444577();},_0x444577=()=>{const _0x270148=_0x572cc7;_0x32192e[_0x270148(0x930)]=_0x270148(0xb3d),_0x7a068b[_0x270148(0x930)]=_0x270148(0x3a7),_0x7a068b[_0x270148(0x770)](_0x270148(0x22c),_0x1e080c),_0x3e98f2[_0x270148(0x770)]('click',_0x444577),_0x7a068b[_0x270148(0x6d5)](_0x270148(0x22c),confirmMoveQuiz);};_0x7a068b[_0x572cc7(0x770)](_0x572cc7(0x22c),confirmMoveQuiz),_0x7a068b['addEventListener']('click',_0x1e080c),_0x3e98f2[_0x572cc7(0x6d5)](_0x572cc7(0x22c),_0x444577);}function listenForStarredQuizzes(){const _0x367483=_0x15116f;if(!userId)return;const _0x2dbd50=collection(db,_0x367483(0xc14)+appId+_0x367483(0x42c)),_0x395bb5=query(_0x2dbd50,where('isStarred','==',!![]));onSnapshot(_0x395bb5,_0x3860a7=>{const _0x133e58=_0x367483;starredQuizzes=_0x3860a7[_0x133e58(0x610)][_0x133e58(0x217)](_0x1e0573=>({'id':_0x1e0573['id'],..._0x1e0573[_0x133e58(0xc6b)]()})),currentProjectId===_0x133e58(0x4b5)?renderQuizzes():renderProjects();},_0x508502=>{const _0x36c104=_0x367483;console[_0x36c104(0x13b)](_0x36c104(0x697),_0x508502);});}function listenForFileShortcuts(){const _0x10eaf8=_0x15116f,_0x272aac=doc(db,_0x10eaf8(0x466),'fileShortcutsConfig');onSnapshot(_0x272aac,_0x343936=>{const _0x3a1a5f=_0x10eaf8;let _0x30ef00=[],_0x38d9a3=[],_0x5c686d={};if(_0x343936[_0x3a1a5f(0xfc)]()){const _0x3b0f7=_0x343936[_0x3a1a5f(0xc6b)]();_0x30ef00=_0x3b0f7[_0x3a1a5f(0x906)]||[],_0x38d9a3=_0x3b0f7[_0x3a1a5f(0x87a)]||[],_0x5c686d=_0x3b0f7['fileShortcutOrder']||{};}!_0x38d9a3['find'](_0x47488d=>_0x47488d['id']==='all')&&_0x38d9a3[_0x3a1a5f(0x31e)]({'id':'all','name':_0x3a1a5f(0x8ce),'isDefault':!![]}),!_0x30ef00['find'](_0x2bd929=>_0x2bd929['id']===_0x3a1a5f(0xc23))&&_0x30ef00[_0x3a1a5f(0x31e)]({'id':_0x3a1a5f(0xc23),'name':_0x3a1a5f(0x76f),'url':'','isDefault':!![]}),!_0x30ef00[_0x3a1a5f(0x22a)](_0x22a06e=>_0x22a06e['id']===_0x3a1a5f(0x286))&&_0x30ef00[_0x3a1a5f(0x31e)]({'id':_0x3a1a5f(0x286),'name':_0x3a1a5f(0x15b),'url':'','isDefault':!![]}),fileShortcuts=_0x30ef00,fileShortcutTabs=_0x38d9a3,fileShortcutOrder=_0x5c686d,renderFileShortcuts(),!document[_0x3a1a5f(0x7a2)]('additional-file-shortcuts-modal')[_0x3a1a5f(0x6e6)][_0x3a1a5f(0x7f1)](_0x3a1a5f(0x106))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3bf6f6=_0x15116f,_0x4fcf5c=doc(db,'globalSettings',_0x3bf6f6(0x498));try{await setDoc(_0x4fcf5c,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2def4d){console[_0x3bf6f6(0x13b)](_0x3bf6f6(0x353),_0x2def4d);}}function renderAdditionalFileShortcutsModal(){const _0x5630e8=_0x15116f,_0x4bbfc9=document[_0x5630e8(0x7a2)](_0x5630e8(0x57b)),_0xc5d211=document[_0x5630e8(0x7a2)](_0x5630e8(0x57e));if(!_0x4bbfc9||!_0xc5d211)return;_0x4bbfc9['innerHTML']=fileShortcutTabs[_0x5630e8(0x217)](_0x2f8b36=>{const _0x53db0f=_0x5630e8,_0x555e50=_0x2f8b36['id']===activeFileShortcutTabId;return _0x53db0f(0xc11)+_0x2f8b36['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x555e50?'border-indigo-500\x20text-indigo-600':_0x53db0f(0x597))+_0x53db0f(0x9ca)+_0x2f8b36[_0x53db0f(0x947)]+_0x53db0f(0x9d3)+_0x2f8b36[_0x53db0f(0x947)]+_0x53db0f(0x93d)+(!_0x2f8b36[_0x53db0f(0x6c7)]?_0x53db0f(0x667)+_0x2f8b36['id']+_0x53db0f(0x4f1):'')+_0x53db0f(0x981);})[_0x5630e8(0x935)]('');const _0x315ee9=fileShortcutTabs[_0x5630e8(0x22a)](_0x3ee4af=>_0x3ee4af['id']===activeFileShortcutTabId);let _0x4f834d=_0x315ee9?.[_0x5630e8(0x6c7)]?[...fileShortcuts]:fileShortcuts['filter'](_0x533f05=>(_0x315ee9?.[_0x5630e8(0x497)]||[])['includes'](_0x533f05['id']));const _0x140a08=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4f834d[_0x5630e8(0x2ea)]((_0x2e2505,_0x5afc96)=>{const _0x579629=_0x5630e8,_0x10ad11=_0x140a08[_0x579629(0xb0f)](_0x2e2505['id']),_0x33acdc=_0x140a08['indexOf'](_0x5afc96['id']);return(_0x10ad11===-0x1?Infinity:_0x10ad11)-(_0x33acdc===-0x1?Infinity:_0x33acdc);}),_0xc5d211['innerHTML']=_0x4f834d[_0x5630e8(0x217)](_0x401c32=>{const _0x1e88ba=_0x5630e8,_0x30ce62=_0x401c32[_0x1e88ba(0x8af)]?'📄':'🔗',_0x5a81f8=fileShortcutTabs[_0x1e88ba(0x431)](_0x8a1a95=>!_0x8a1a95[_0x1e88ba(0x6c7)]),_0x19a385=_0x315ee9['isDefault']&&_0x5a81f8[_0x1e88ba(0x987)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a81f8['map'](_0x16a495=>_0x1e88ba(0x383)+_0x401c32['id']+_0x1e88ba(0x66b)+_0x16a495['id']+'\x22>'+_0x16a495[_0x1e88ba(0x947)]+_0x1e88ba(0x556))[_0x1e88ba(0x935)]('')+_0x1e88ba(0x6ce):'';return _0x1e88ba(0xa3a)+_0x401c32['id']+_0x1e88ba(0x194)+_0x30ce62+'\x20'+_0x401c32[_0x1e88ba(0x947)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x401c32['id']+_0x1e88ba(0x155)+_0x401c32['id']+_0x1e88ba(0x3c6)+(!_0x401c32[_0x1e88ba(0x6c7)]?_0x1e88ba(0x218)+_0x401c32['id']+_0x1e88ba(0xbf8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x315ee9[_0x1e88ba(0x6c7)]?'<button\x20data-shortcut-id=\x22'+_0x401c32['id']+_0x1e88ba(0x304):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19a385+_0x1e88ba(0xa7a);})[_0x5630e8(0x935)]('')||_0x5630e8(0x206),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3dda5d=_0x15116f;document['querySelectorAll'](_0x3dda5d(0x8c3))[_0x3dda5d(0x1b7)](_0xfe1940=>{const _0x52d634=_0x3dda5d;_0xfe1940['onclick']=_0x20af0a=>{const _0x20fef0=_0x1996;activeFileShortcutTabId=_0x20af0a[_0x20fef0(0x5f1)]['dataset'][_0x20fef0(0x96e)],renderAdditionalFileShortcutsModal();},_0xfe1940[_0x52d634(0x234)]=_0x45a23d=>{const _0x25ea0e=_0x52d634,_0x4fb8cf=_0x45a23d[_0x25ea0e(0x5f1)][_0x25ea0e(0xba0)]('.tab-name-input');_0x45a23d['currentTarget'][_0x25ea0e(0xba0)](_0x25ea0e(0x28c))[_0x25ea0e(0x6e6)][_0x25ea0e(0x360)](_0x25ea0e(0x106)),_0x4fb8cf[_0x25ea0e(0x6e6)][_0x25ea0e(0x367)](_0x25ea0e(0x106)),_0x4fb8cf[_0x25ea0e(0x24e)](),_0x4fb8cf[_0x25ea0e(0x579)]();};}),document['querySelectorAll'](_0x3dda5d(0x45a))['forEach'](_0x2c4c93=>{const _0x549c55=()=>{const _0x49786b=_0x1996,_0x2e6078=_0x2c4c93['closest'](_0x49786b(0x8c3))['dataset'][_0x49786b(0x96e)],_0x37b5dd=fileShortcutTabs['find'](_0x3186f9=>_0x3186f9['id']===_0x2e6078);_0x37b5dd&&(_0x37b5dd['name']=_0x2c4c93[_0x49786b(0x682)][_0x49786b(0x6ad)]()||_0x37b5dd[_0x49786b(0x947)],saveFileShortcutConfig());};_0x2c4c93['onblur']=_0x549c55,_0x2c4c93['onkeydown']=_0x4ef3e0=>{const _0x4bacba=_0x1996;if(_0x4ef3e0[_0x4bacba(0x167)]===_0x4bacba(0x688))_0x2c4c93[_0x4bacba(0x9cd)]();};}),document[_0x3dda5d(0x17a)](_0x3dda5d(0xbac))[_0x3dda5d(0x1b7)](_0x13fa65=>_0x13fa65['onclick']=_0xd52775=>{const _0x73e890=_0x3dda5d,_0x50ede5=_0xd52775[_0x73e890(0x5f1)][_0x73e890(0xb1e)][_0x73e890(0x96e)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x3d6d13=_0x73e890;fileShortcutTabs=fileShortcutTabs[_0x3d6d13(0x431)](_0x2a29f6=>_0x2a29f6['id']!==_0x50ede5),delete fileShortcutOrder[_0x50ede5];if(activeFileShortcutTabId===_0x50ede5)activeFileShortcutTabId=_0x3d6d13(0x458);saveFileShortcutConfig();});}),document[_0x3dda5d(0x17a)](_0x3dda5d(0x4c6))[_0x3dda5d(0x1b7)](_0x1ce6b5=>_0x1ce6b5[_0x3dda5d(0x695)]=_0x27b069=>{const _0x28ccae=_0x3dda5d;_0x27b069['preventDefault']();const {shortcutId:_0x196ffa,targetTabId:_0x5561a0}=_0x27b069['currentTarget'][_0x28ccae(0xb1e)],_0x397ea3=fileShortcutTabs['find'](_0x47b7b3=>_0x47b7b3['id']===_0x5561a0);_0x397ea3&&!_0x397ea3[_0x28ccae(0x497)][_0x28ccae(0x679)](_0x196ffa)&&(_0x397ea3[_0x28ccae(0x497)][_0x28ccae(0x8e7)](_0x196ffa),saveFileShortcutConfig());}),document[_0x3dda5d(0x17a)]('.remove-file-shortcut-from-tab-btn')['forEach'](_0xe71203=>_0xe71203[_0x3dda5d(0x695)]=_0x417cdb=>{const _0xb0f778=_0x3dda5d,_0x4d5503=_0x417cdb[_0xb0f778(0x5f1)][_0xb0f778(0xb1e)][_0xb0f778(0xa83)],_0x1a1053=fileShortcutTabs[_0xb0f778(0x22a)](_0x45cc00=>_0x45cc00['id']===activeFileShortcutTabId);_0x1a1053&&!_0x1a1053['isDefault']&&(_0x1a1053[_0xb0f778(0x497)]=_0x1a1053[_0xb0f778(0x497)]['filter'](_0x27a08a=>_0x27a08a!==_0x4d5503),saveFileShortcutConfig());}),document[_0x3dda5d(0x17a)](_0x3dda5d(0x833))['forEach'](_0x18bec0=>_0x18bec0[_0x3dda5d(0x695)]=_0x1ccc73=>{const _0x4c4d61=_0x3dda5d;_0x1ccc73[_0x4c4d61(0x92f)]();const _0x58d964=_0x1ccc73['currentTarget'][_0x4c4d61(0xa50)];document[_0x4c4d61(0x17a)](_0x4c4d61(0xacd))[_0x4c4d61(0x1b7)](_0xbed1bd=>_0xbed1bd[_0x4c4d61(0x6e6)]['add'](_0x4c4d61(0x106))),_0x58d964[_0x4c4d61(0x6e6)][_0x4c4d61(0x367)]('hidden');});const _0x2358a6=document[_0x3dda5d(0x7a2)](_0x3dda5d(0x57e));let _0xd969e=null;_0x2358a6[_0x3dda5d(0x35b)]=_0x18025e=>{const _0x3bb756=_0x3dda5d;_0xd969e=_0x18025e[_0x3bb756(0x4c1)][_0x3bb756(0x38e)](_0x3bb756(0x28d));if(_0xd969e)setTimeout(()=>_0xd969e[_0x3bb756(0x6e6)][_0x3bb756(0x360)](_0x3bb756(0x146)),0x0);},_0x2358a6[_0x3dda5d(0x2ef)]=()=>{const _0x29e834=_0x3dda5d;_0xd969e&&(_0xd969e[_0x29e834(0x6e6)][_0x29e834(0x367)](_0x29e834(0x146)),_0xd969e=null);},_0x2358a6['ondragover']=_0x238295=>{_0x238295['preventDefault']();},_0x2358a6[_0x3dda5d(0xf5)]=_0x2f89dd=>{const _0x3a7195=_0x3dda5d;_0x2f89dd['preventDefault']();if(_0xd969e){const _0x1ef4df=[..._0x2358a6[_0x3a7195(0x17a)](_0x3a7195(0x506))][_0x3a7195(0x366)]((_0x2f7596,_0x380f9a)=>{const _0x560420=_0x3a7195,_0x3bf8f7=_0x380f9a[_0x560420(0xadf)](),_0x42e147=_0x2f89dd[_0x560420(0x5ee)]-_0x3bf8f7[_0x560420(0x6e5)]-_0x3bf8f7[_0x560420(0x965)]/0x2;return _0x42e147<0x0&&_0x42e147>_0x2f7596['offset']?{'offset':_0x42e147,'element':_0x380f9a}:_0x2f7596;},{'offset':Number[_0x3a7195(0x95f)]})[_0x3a7195(0x698)];_0x1ef4df==null?_0x2358a6['appendChild'](_0xd969e):_0x2358a6[_0x3a7195(0x491)](_0xd969e,_0x1ef4df);const _0x48a26a=[..._0x2358a6[_0x3a7195(0x17a)]('.shortcut-list-item')][_0x3a7195(0x217)](_0x559927=>_0x559927[_0x3a7195(0xb1e)][_0x3a7195(0xa83)]);fileShortcutOrder[activeFileShortcutTabId]=_0x48a26a,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x2df92d=_0x15116f,_0x857ea6=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x857ea6&&_0x857ea6[_0x2df92d(0x6ad)]()&&(fileShortcutTabs[_0x2df92d(0x8e7)]({'id':_0x2df92d(0x266)+Date['now'](),'name':_0x857ea6[_0x2df92d(0x6ad)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x104533=_0x15116f,_0x181a57=document[_0x104533(0x7a2)](_0x104533(0x98d)),_0x34a52e=document[_0x104533(0x7a2)](_0x104533(0x57e)),_0x96c08d=document[_0x104533(0x7a2)](_0x104533(0x3c7));if(_0x96c08d)_0x96c08d['classList'][_0x104533(0x360)](_0x104533(0x106));if(!_0x181a57||!_0x34a52e)return;const _0x58812c=fileShortcuts[_0x104533(0xf9)](0x0,0x4),_0x33af33=fileShortcuts[_0x104533(0xf9)](0x4);_0x181a57[_0x104533(0x322)]=_0x58812c[_0x104533(0x217)](_0x2d580f=>{const _0x3037ac=_0x104533,_0x49faf6=_0x2d580f[_0x3037ac(0x8af)]&&_0x2d580f[_0x3037ac(0x8af)]['trim']()!=='',_0x35acd1=selectedFile&&selectedFile[_0x3037ac(0xa83)]===_0x2d580f['id'];let _0x3f20f7=_0x3037ac(0x9e7),_0x155ef2='🔗';if(_0x35acd1)_0x3f20f7=_0x3037ac(0x27d),_0x155ef2=_0x3037ac(0x7a9);else _0x49faf6&&(_0x3f20f7='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x155ef2='📄');const _0x378af7=!_0x2d580f[_0x3037ac(0x6c7)]?_0x3037ac(0x218)+_0x2d580f['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x3037ac(0x462)+_0x2d580f['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x3f20f7+_0x3037ac(0x572)+_0x155ef2+_0x3037ac(0x226)+_0x2d580f[_0x3037ac(0x947)]+_0x3037ac(0x34d)+_0x2d580f['id']+_0x3037ac(0xb4c)+_0x378af7+_0x3037ac(0x2cb);})[_0x104533(0x935)](''),_0x33af33['length']>0x0&&(_0x181a57['innerHTML']+=_0x104533(0x70d)),_0x33af33[_0x104533(0x987)]>0x0?_0x34a52e['innerHTML']=_0x33af33[_0x104533(0x217)](_0x28e6e8=>_0x104533(0x33c)+(_0x28e6e8[_0x104533(0x8af)]?'📄':'🔗')+'\x20'+_0x28e6e8[_0x104533(0x947)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28e6e8['id']+_0x104533(0xc5b)+_0x28e6e8['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x28e6e8[_0x104533(0x6c7)]?_0x104533(0x218)+_0x28e6e8['id']+_0x104533(0xbf8):'')+_0x104533(0xbc6))[_0x104533(0x935)](''):_0x34a52e[_0x104533(0x322)]=_0x104533(0xab8);}function openFileShortcutEditor(_0x27a0b1=null){const _0x64ec71=_0x15116f,_0x41c627=document['getElementById'](_0x64ec71(0x591)),_0x2c11b5=document[_0x64ec71(0x7a2)](_0x64ec71(0x31d)),_0xc64b03=document['getElementById']('file-shortcut-id-input'),_0x3f0f07=document[_0x64ec71(0x7a2)]('file-shortcut-name-input'),_0xad04bb=document[_0x64ec71(0x7a2)](_0x64ec71(0x744));if(_0x27a0b1){const _0x545cc5=fileShortcuts['find'](_0x4ba194=>_0x4ba194['id']===_0x27a0b1);if(!_0x545cc5)return;_0x2c11b5[_0x64ec71(0x930)]=_0x64ec71(0x4a7),_0xc64b03[_0x64ec71(0x682)]=_0x545cc5['id'],_0x3f0f07[_0x64ec71(0x682)]=_0x545cc5[_0x64ec71(0x947)],_0xad04bb[_0x64ec71(0x682)]=_0x545cc5[_0x64ec71(0x8af)]||'';}else _0x2c11b5[_0x64ec71(0x930)]=_0x64ec71(0x2bc),_0xc64b03[_0x64ec71(0x682)]='',_0x3f0f07[_0x64ec71(0x682)]='',_0xad04bb[_0x64ec71(0x682)]='';_0x41c627[_0x64ec71(0x6e6)]['remove']('hidden');}async function saveFileShortcutChanges(){const _0x49cf16=_0x15116f,_0x5ca0d1=document[_0x49cf16(0x7a2)]('file-shortcut-id-input')['value'],_0x4b3cb4=document[_0x49cf16(0x7a2)]('file-shortcut-name-input')[_0x49cf16(0x682)][_0x49cf16(0x6ad)](),_0x1c1b04=document[_0x49cf16(0x7a2)]('file-shortcut-url-input')['value'][_0x49cf16(0x6ad)]();if(!_0x4b3cb4){showMessage(_0x49cf16(0x9d0));return;}const _0x3f9c5f={'id':_0x5ca0d1||'file-shortcut_'+Date[_0x49cf16(0xb20)](),'name':_0x4b3cb4,'url':_0x1c1b04,'isDefault':_0x5ca0d1[_0x49cf16(0xaae)]('file-default-')};let _0x208a1c;_0x5ca0d1?_0x208a1c=fileShortcuts[_0x49cf16(0x217)](_0x5c2d3c=>_0x5c2d3c['id']===_0x5ca0d1?_0x3f9c5f:_0x5c2d3c):_0x208a1c=[...fileShortcuts,_0x3f9c5f];try{const _0x211241=doc(db,_0x49cf16(0x466),_0x49cf16(0x498));await setDoc(_0x211241,{'shortcuts':_0x208a1c},{'merge':!![]}),document[_0x49cf16(0x7a2)]('file-shortcut-editor-modal')[_0x49cf16(0x6e6)]['add'](_0x49cf16(0x106));}catch(_0x530500){console['error']('Error\x20saving\x20file\x20shortcut:',_0x530500),showMessage(_0x49cf16(0xbb4));}}async function handleFileShortcutClick(_0x5cb947){const _0x5cc7f3=_0x15116f,_0x26c2f7=fileShortcuts['find'](_0x568757=>_0x568757['id']===_0x5cb947);if(!_0x26c2f7)return;if(!_0x26c2f7[_0x5cc7f3(0x8af)]||_0x26c2f7[_0x5cc7f3(0x8af)][_0x5cc7f3(0x6ad)]()===''){openFileShortcutEditor(_0x5cb947);return;}const _0x48fcae=document['querySelector'](_0x5cc7f3(0x55d)+_0x5cb947+'\x22]');if(_0x48fcae){const _0xf63985=_0x48fcae['innerHTML'];_0x48fcae['innerHTML']='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x48fcae[_0x5cc7f3(0xc47)]=!![];}document[_0x5cc7f3(0x17a)](_0x5cc7f3(0x8e3))[_0x5cc7f3(0x1b7)](_0x3c68ba=>{const _0x4a4c5=_0x5cc7f3;if(_0x3c68ba[_0x4a4c5(0xb1e)]['id']!==_0x5cb947)_0x3c68ba['classList']['add']('opacity-50',_0x4a4c5(0xa67));});try{const _0x54eb18=new URL(_0x26c2f7['url'])[_0x5cc7f3(0x184)],_0x4083f6=_0x54eb18[_0x5cc7f3(0x84c)](_0x54eb18[_0x5cc7f3(0x43e)]('/')+0x1)||(_0x26c2f7[_0x5cc7f3(0x8af)][_0x5cc7f3(0x679)]('.txt')?_0x5cc7f3(0xa07):_0x5cc7f3(0xb4d)),_0x383069=await fetchFileFromUrl(_0x26c2f7[_0x5cc7f3(0x8af)],_0x4083f6);_0x383069[_0x5cc7f3(0xa83)]=_0x5cb947,selectedFile=_0x383069,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x5cc7f3(0x7a2)]('file-input-area')[_0x5cc7f3(0xc2d)]({'behavior':'smooth','block':_0x5cc7f3(0xb99)});}catch(_0x322829){console[_0x5cc7f3(0x13b)](_0x5cc7f3(0x8eb),_0x322829),showMessage(_0x5cc7f3(0x563)+_0x322829[_0x5cc7f3(0x56e)]),renderFileShortcuts();}finally{document[_0x5cc7f3(0x17a)](_0x5cc7f3(0x8e3))[_0x5cc7f3(0x1b7)](_0x5dfa57=>{const _0x343274=_0x5cc7f3;_0x5dfa57['classList'][_0x343274(0x367)](_0x343274(0x146),_0x343274(0xa67)),_0x5dfa57[_0x343274(0xc47)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5687b5=_0x15116f;if(allQuizzesGlobal[_0x5687b5(0x987)]>0x0)return;console['log'](_0x5687b5(0xb54)),showMessage(_0x5687b5(0xbb1));try{const _0xcc2ec4=await getDocs(collection(db,'artifacts/'+appId+_0x5687b5(0x42c)));allQuizzesGlobal=_0xcc2ec4[_0x5687b5(0x610)][_0x5687b5(0x217)](_0x3ab829=>({'id':_0x3ab829['id'],..._0x3ab829[_0x5687b5(0xc6b)]()})),console[_0x5687b5(0x7d6)]('Loaded\x20'+allQuizzesGlobal[_0x5687b5(0x987)]+_0x5687b5(0x5df)),messageModal[_0x5687b5(0x6e6)][_0x5687b5(0x360)]('hidden');}catch(_0x2993e1){console['error'](_0x5687b5(0x4ab),_0x2993e1),messageModal[_0x5687b5(0x6e6)][_0x5687b5(0x360)](_0x5687b5(0x106));throw new Error(_0x5687b5(0x67f));}}function exportQuizAsWorksheetPDF(){const _0x5e3150=_0x15116f;if(!currentQuizData||!currentQuizData[_0x5e3150(0x72a)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x180087=currentQuizData,_0x554d20=window[_0x5e3150(0x9f1)]('',_0x5e3150(0x75c)),_0x181e3f=_0x6ac9b0=>String['fromCharCode'](0x41+_0x6ac9b0),_0xb305aa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x180087[_0x5e3150(0xc63)]+_0x5e3150(0x4cd)+_0x180087[_0x5e3150(0xc63)]+_0x5e3150(0x118)+_0x180087[_0x5e3150(0x72a)][_0x5e3150(0x217)]((_0xcb1cbb,_0x42436a)=>{const _0x123fdf=_0x5e3150;let _0x1c02d5='';const _0x4eb353=_0xcb1cbb['questionType']||_0x180087[_0x123fdf(0xbe2)];switch(_0x4eb353){case _0x123fdf(0x2ac):case _0x123fdf(0x931):_0x1c02d5=_0x123fdf(0x5d6)+_0xcb1cbb[_0x123fdf(0xbd3)]['map']((_0x3a0ecf,_0x5861c3)=>_0x123fdf(0x6fc)+_0x181e3f(_0x5861c3)+'.\x20'+_0x3a0ecf+_0x123fdf(0xa4b))['join']('<br>')+_0x123fdf(0x5ae);break;case'true_false':_0x1c02d5=_0x123fdf(0x668);break;default:_0x1c02d5=_0x123fdf(0x4c3);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x42436a+0x1)+_0x123fdf(0x737)+(_0xcb1cbb[_0x123fdf(0xa68)]||_0xcb1cbb[_0x123fdf(0x187)])+_0x123fdf(0x7ee)+(_0xcb1cbb['imageCode']?_0x123fdf(0xa8b)+_0xcb1cbb['imageCode']+_0x123fdf(0x5ae):'')+_0x123fdf(0x1d9)+_0x1c02d5+_0x123fdf(0x4ca);})[_0x5e3150(0x935)]('')+_0x5e3150(0x6df);_0x554d20['document'][_0x5e3150(0x5c1)](_0xb305aa),_0x554d20[_0x5e3150(0x79e)][_0x5e3150(0xb34)](),_0x554d20[_0x5e3150(0xaf0)]=function(){setTimeout(()=>{_0x554d20['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x43a5ac=_0x15116f;if(!currentQuizData||!currentQuizData[_0x43a5ac(0x72a)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x560285=currentQuizData,_0x29a94c=window['open']('','_blank'),_0x39af0b=_0x425e8d=>String['fromCharCode'](0x41+_0x425e8d),_0x5238db=_0x43a5ac(0x407)+_0x560285[_0x43a5ac(0xc63)]+_0x43a5ac(0x31c)+_0x560285[_0x43a5ac(0x72a)][_0x43a5ac(0x217)]((_0x1f7f35,_0xb7034c)=>{const _0x217f05=_0x43a5ac;let _0x24a508='';const _0x23a1a5=_0x1f7f35[_0x217f05(0x5ac)]||_0x560285[_0x217f05(0xbe2)];switch(_0x23a1a5){case _0x217f05(0x2ac):case _0x217f05(0x931):_0x24a508=_0x217f05(0x8da)+_0x1f7f35[_0x217f05(0xbd3)]['map']((_0x287eed,_0x42cd85)=>_0x217f05(0xac6)+_0x39af0b(_0x42cd85)+'.\x20'+_0x287eed+_0x217f05(0xa2e))['join'](_0x217f05(0x398))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x217f05(0x1dd):_0x24a508=_0x217f05(0x827);break;default:_0x24a508='';break;}return _0x217f05(0xbcc)+_0x560285[_0x217f05(0xc63)]+_0x217f05(0x98c)+(_0xb7034c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1f7f35[_0x217f05(0xa68)]||_0x1f7f35['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f7f35[_0x217f05(0x8b6)]?_0x217f05(0xc5c)+_0x1f7f35['imageCode']+_0x217f05(0x5ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24a508+_0x217f05(0x55f);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x29a94c[_0x43a5ac(0x79e)][_0x43a5ac(0x5c1)](_0x5238db),_0x29a94c[_0x43a5ac(0x79e)][_0x43a5ac(0xb34)](),_0x29a94c[_0x43a5ac(0xaf0)]=function(){setTimeout(()=>{const _0xc4247d=_0x1996;_0x29a94c[_0xc4247d(0x388)]();},0x5dc);};}async function handleToggleStarQuiz(_0x55b16d){const _0x49dd84=_0x15116f,_0xc3fc64=doc(db,'artifacts/'+appId+_0x49dd84(0x42c),_0x55b16d);try{const _0xafe11c=await getDoc(_0xc3fc64);if(_0xafe11c[_0x49dd84(0xfc)]()){const _0x1444d3=_0xafe11c[_0x49dd84(0xc6b)]()[_0x49dd84(0x1c9)]||![];await updateDoc(_0xc3fc64,{'isStarred':!_0x1444d3});}}catch(_0x15224e){console[_0x49dd84(0x13b)]('Error\x20toggling\x20star\x20status:',_0x15224e),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x4bfecf=_0x15116f,_0xedbc1=document[_0x4bfecf(0x7a2)]('bank-input-area');_0xedbc1[_0x4bfecf(0x322)]=_0x4bfecf(0x9b9);try{const _0x8be28c=collection(db,_0x4bfecf(0xc14)+appId+'/users/'+userId+_0x4bfecf(0xbf4)),_0x1a8ad8=query(_0x8be28c),_0x48ccc2=await getDocs(_0x1a8ad8);if(_0x48ccc2[_0x4bfecf(0x615)]){_0xedbc1[_0x4bfecf(0x322)]=_0x4bfecf(0x331);return;}let _0x198779=_0x48ccc2[_0x4bfecf(0x610)]['map'](_0x2d4676=>{const _0x598416=_0x4bfecf,_0x13c766=_0x2d4676[_0x598416(0xc6b)](),_0x348e3d=_0x2d4676['id'];return _0x598416(0x576)+JSON[_0x598416(0x352)](_0x13c766)+_0x598416(0xc6a)+(_0x13c766[_0x598416(0x187)]||_0x13c766[_0x598416(0xa68)])+_0x598416(0x5a7)+_0x13c766[_0x598416(0x87f)]+_0x598416(0x7a6);})[_0x4bfecf(0x935)]('');_0xedbc1[_0x4bfecf(0x322)]=_0x4bfecf(0x87e)+_0x198779+_0x4bfecf(0x735),document['getElementById'](_0x4bfecf(0x86c))[_0x4bfecf(0x6d5)](_0x4bfecf(0x22c),createQuizFromBank);}catch(_0x4a80e7){console['error'](_0x4bfecf(0xfe),_0x4a80e7),_0xedbc1['innerHTML']=_0x4bfecf(0x889);}}async function handleExportLessonToPDF(){const _0xdc084c=_0x15116f,_0x2d8288=document['getElementById'](_0xdc084c(0x2b7)),_0x2898d4=document[_0xdc084c(0x7a2)]('lesson-view-title')[_0xdc084c(0x930)]||'บทเรียน';if(!_0x2d8288){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x1d7a99=window['open']('',_0xdc084c(0x75c)),_0x5aa4a1=_0xdc084c(0x5ab)+_0x2898d4+_0xdc084c(0xa0e)+_0x2898d4+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d8288[_0xdc084c(0x322)]+_0xdc084c(0x6df);_0x1d7a99[_0xdc084c(0x79e)]['write'](_0x5aa4a1),_0x1d7a99['document'][_0xdc084c(0xb34)](),_0x1d7a99['onload']=function(){setTimeout(()=>{const _0x768c=_0x1996;_0x1d7a99[_0x768c(0x388)]();},0x7d0);};}function showAdminLiveQuestionView(_0x3892c2,_0x284f2c,_0x447339){const _0x54d634=_0x15116f,_0x2b6e80=_0x3892c2[_0x54d634(0x5ac)]||currentQuizData[_0x54d634(0xbe2)];let _0x4a0564='';if(_0x2b6e80===_0x54d634(0x2ac)||_0x2b6e80===_0x54d634(0x1dd)){const _0xbec529=_0x2b6e80===_0x54d634(0x1dd)?[_0x54d634(0x158),_0x54d634(0x513)]:_0x3892c2[_0x54d634(0xbd3)],_0x2792ba=_0x2b6e80===_0x54d634(0x1dd)?_0x3892c2[_0x54d634(0x7b8)]?0x0:0x1:_0x3892c2[_0x54d634(0x4fa)];_0x4a0564=_0xbec529['map']((_0x163d16,_0x4d72ce)=>_0x54d634(0x45f)+(_0x4d72ce===_0x2792ba)+_0x54d634(0xbfe)+_0x163d16+_0x54d634(0x2cb))[_0x54d634(0x935)]('');}else{if(_0x2b6e80===_0x54d634(0xb55)){const _0x72cba5=_0x3892c2['allResponses']||[];_0x4a0564=_0x72cba5[_0x54d634(0x217)](_0xf2ef93=>_0x54d634(0x45f)+(_0xf2ef93===_0x3892c2['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf2ef93+_0x54d634(0x2cb))['join']('');}}const _0x4c32f1=_0x3892c2[_0x54d634(0xa68)]||_0x3892c2[_0x54d634(0x187)],_0x5f0f27=_0x54d634(0x2d1)+(_0x284f2c+0x1)+_0x54d634(0xaaf)+_0x447339+_0x54d634(0x694)+currentLiveGamePin+_0x54d634(0x7ce)+_0x4c32f1+_0x54d634(0x1be)+_0x4a0564+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x54d634(0x322)]=_0x5f0f27,window[_0x54d634(0x8a8)]&&MathJax[_0x54d634(0x107)]&&MathJax[_0x54d634(0x107)]([liveGameView]),document['getElementById'](_0x54d634(0x5b2))[_0x54d634(0x6d5)](_0x54d634(0x22c),()=>revealAnswerForAdmin(_0x284f2c,_0x447339)),document[_0x54d634(0x7a2)](_0x54d634(0xa95))[_0x54d634(0x6d5)]('click',async()=>{const _0x4263d0=_0x54d634;showConfirmation(_0x4263d0(0x986),async()=>{const _0x1e168b=_0x4263d0,_0x510577=doc(db,_0x1e168b(0xc14)+appId+_0x1e168b(0x69b),currentLiveGameId);await updateDoc(_0x510577,{'status':_0x1e168b(0xa12)});});}),document[_0x54d634(0x7a2)](_0x54d634(0x514))[_0x54d634(0x6d5)](_0x54d634(0x22c),()=>{const _0x5c5079=_0x54d634;document[_0x5c5079(0x7a2)](_0x5c5079(0x2ae))[_0x5c5079(0x6e6)]['toggle'](_0x5c5079(0x106));});}function promptForProjectBeforeGenerating(_0x31bd6c){const _0x2a0af9=_0x15116f,_0x35df7f=document[_0x2a0af9(0x7a2)]('move-quiz-modal'),_0x1f5e15=document[_0x2a0af9(0x7a2)](_0x2a0af9(0xa9e)),_0x170e43=_0x35df7f[_0x2a0af9(0xba0)]('h3'),_0xa3113a=document['getElementById'](_0x2a0af9(0x20b)),_0x176695=document['getElementById'](_0x2a0af9(0x546));_0x170e43[_0x2a0af9(0x930)]=_0x2a0af9(0x112),_0xa3113a[_0x2a0af9(0x930)]=_0x2a0af9(0x46c),_0xa3113a[_0x2a0af9(0xc47)]=!![];allProjects[_0x2a0af9(0x987)]===0x0?_0x1f5e15[_0x2a0af9(0x322)]=_0x2a0af9(0x124):(_0x1f5e15[_0x2a0af9(0x322)]=_0x2a0af9(0x573)+allProjects[_0x2a0af9(0x217)](_0x192ea2=>_0x2a0af9(0x559)+_0x192ea2['id']+'\x22>'+_0x192ea2[_0x2a0af9(0x208)]+_0x2a0af9(0x76d))[_0x2a0af9(0x935)](''),_0xa3113a[_0x2a0af9(0xc47)]=![]);_0x35df7f[_0x2a0af9(0x6e6)][_0x2a0af9(0x367)]('hidden');const _0x24f978=async()=>{const _0xfeafe4=_0x2a0af9,_0x56300e=_0x1f5e15[_0xfeafe4(0x682)];if(!_0x56300e){showMessage(_0xfeafe4(0x82b));return;}_0x35df7f[_0xfeafe4(0x6e6)]['add']('hidden'),await loadProjectDetails(_0x56300e),showView(_0xfeafe4(0x4e2)),handleGenerateQuizFromBlueprintTopic(_0x31bd6c),_0x244bd6();},_0x244bd6=()=>{const _0x134296=_0x2a0af9;_0x170e43[_0x134296(0x930)]=_0x134296(0xb3d),_0xa3113a['textContent']='ย้าย',_0xa3113a[_0x134296(0x770)]('click',_0x24f978),_0x176695[_0x134296(0x770)]('click',_0x244bd6),_0xa3113a[_0x134296(0x6d5)]('click',confirmMoveQuiz);};_0xa3113a[_0x2a0af9(0x770)]('click',confirmMoveQuiz),_0xa3113a[_0x2a0af9(0x6d5)](_0x2a0af9(0x22c),_0x24f978),_0x176695['addEventListener'](_0x2a0af9(0x22c),_0x244bd6);}function showStudentLiveQuestionView(_0x201968,_0x14c56b,_0x5aaf94){const _0x5e02ee=_0x15116f,_0x23d515=_0x201968[_0x5e02ee(0x5ac)]||currentQuizData[_0x5e02ee(0xbe2)];let _0x2448ce='';if(_0x23d515===_0x5e02ee(0x2ac)||_0x23d515===_0x5e02ee(0x1dd)){const _0x459e86=_0x23d515===_0x5e02ee(0x1dd)?[_0x5e02ee(0x158),'ไม่ใช่']:_0x201968[_0x5e02ee(0xbd3)];_0x2448ce=_0x459e86[_0x5e02ee(0x217)]((_0x2be2fd,_0x2cdc68)=>_0x5e02ee(0x501)+_0x2cdc68+_0x5e02ee(0x924)+_0x2be2fd+_0x5e02ee(0x1c0))[_0x5e02ee(0x935)]('');}else{if(_0x23d515===_0x5e02ee(0xb55)){const _0x25108e=_0x201968['allResponses']||[];_0x2448ce=_0x25108e['map']((_0x254f65,_0x68c620)=>_0x5e02ee(0x501)+_0x68c620+_0x5e02ee(0x924)+_0x254f65+_0x5e02ee(0x1c0))['join']('');}else _0x23d515===_0x5e02ee(0xb64)&&(_0x2448ce=_0x5e02ee(0x83d));}const _0x536001=_0x201968[_0x5e02ee(0xa68)]||_0x201968[_0x5e02ee(0x187)],_0x458c31=_0x5e02ee(0xbc1)+(_0x14c56b+0x1)+_0x5e02ee(0xaaf)+_0x5aaf94+_0x5e02ee(0x520)+_0x536001+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2448ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5e02ee(0x322)]=_0x458c31;window[_0x5e02ee(0x8a8)]&&MathJax[_0x5e02ee(0x107)]&&MathJax[_0x5e02ee(0x107)]([liveGameView]);const _0x2c23e8=document[_0x5e02ee(0x7a2)]('live-submit-short-answer-btn');_0x2c23e8&&_0x2c23e8[_0x5e02ee(0x6d5)](_0x5e02ee(0x22c),()=>{const _0x5225b4=_0x5e02ee,_0xbf0e74=document['getElementById'](_0x5225b4(0xb2f))[_0x5225b4(0x682)];handleLiveAnswer(_0xbf0e74,_0x201968);}),document[_0x5e02ee(0x7a2)](_0x5e02ee(0x608))[_0x5e02ee(0x6d5)](_0x5e02ee(0x22c),_0x218463=>{const _0x52e03a=_0x5e02ee,_0x482198=_0x218463['target'][_0x52e03a(0x38e)](_0x52e03a(0x915));if(_0x482198){const _0x4e5d75=parseInt(_0x482198['dataset'][_0x52e03a(0xad0)]);handleLiveAnswer(_0x4e5d75,_0x201968);}});}function listenForBlueprintShortcuts(){const _0x293fa2=_0x15116f,_0x119ded=doc(db,_0x293fa2(0x466),_0x293fa2(0x37d));onSnapshot(_0x119ded,_0x42d901=>{const _0x7ee3fa=_0x293fa2;let _0x353452=[],_0x57c0f7=[],_0x54da25={};if(_0x42d901[_0x7ee3fa(0xfc)]()){const _0x9974af=_0x42d901[_0x7ee3fa(0xc6b)]();_0x353452=_0x9974af['blueprintShortcuts']||[],_0x57c0f7=_0x9974af[_0x7ee3fa(0xa43)]||[],_0x54da25=_0x9974af['shortcutOrder']||{};}!_0x57c0f7[_0x7ee3fa(0x22a)](_0x5c1e71=>_0x5c1e71['id']==='all')&&_0x57c0f7[_0x7ee3fa(0x31e)]({'id':_0x7ee3fa(0x458),'name':_0x7ee3fa(0x8d1),'isDefault':!![]}),!_0x353452[_0x7ee3fa(0x22a)](_0x3642a4=>_0x3642a4['id']===_0x7ee3fa(0x26b))&&_0x353452['unshift']({'id':_0x7ee3fa(0x26b),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x353452['find'](_0x5a6463=>_0x5a6463['id']===_0x7ee3fa(0x1d5))&&_0x353452['unshift']({'id':_0x7ee3fa(0x1d5),'name':_0x7ee3fa(0x901),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x353452,shortcutTabs=_0x57c0f7,shortcutOrder=_0x54da25,renderBlueprintShortcuts(),!document[_0x7ee3fa(0x7a2)](_0x7ee3fa(0x178))[_0x7ee3fa(0x6e6)]['contains'](_0x7ee3fa(0x106))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x35b1f0=_0x15116f,_0x224802=document[_0x35b1f0(0x7a2)](_0x35b1f0(0x66d)),_0x36f9d5=document[_0x35b1f0(0x7a2)](_0x35b1f0(0x39f));if(!_0x224802||!_0x36f9d5)return;_0x224802[_0x35b1f0(0x322)]=shortcutTabs[_0x35b1f0(0x217)](_0x32f087=>{const _0x3b9d80=_0x35b1f0,_0x50350d=_0x32f087['id']===activeShortcutTabId,_0x5d37f0='border-indigo-500\x20text-indigo-600',_0x3210ea=_0x3b9d80(0x597);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x32f087['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x50350d?_0x5d37f0:_0x3210ea)+_0x3b9d80(0xa20)+_0x32f087['name']+_0x3b9d80(0x2a4)+_0x32f087[_0x3b9d80(0x947)]+_0x3b9d80(0x759)+(!_0x32f087[_0x3b9d80(0x6c7)]?_0x3b9d80(0x190)+_0x32f087['id']+_0x3b9d80(0x6c0):'')+_0x3b9d80(0x2cb);})[_0x35b1f0(0x935)]('');const _0x4259e5=shortcutTabs['find'](_0x14163a=>_0x14163a['id']===activeShortcutTabId);let _0x375173=[];if(_0x4259e5){if(_0x4259e5['isDefault'])_0x375173=[...blueprintShortcuts];else{const _0x13ed4d=_0x4259e5['shortcutIds']||[];_0x375173=blueprintShortcuts[_0x35b1f0(0x431)](_0x3ee781=>_0x13ed4d['includes'](_0x3ee781['id']));}}const _0x183719=shortcutOrder[activeShortcutTabId]||[];_0x375173[_0x35b1f0(0x2ea)]((_0x3b56a4,_0x5962f5)=>{const _0x95dc94=_0x35b1f0,_0x387723=_0x183719[_0x95dc94(0xb0f)](_0x3b56a4['id']),_0x37dd51=_0x183719[_0x95dc94(0xb0f)](_0x5962f5['id']);if(_0x387723===-0x1)return 0x1;if(_0x37dd51===-0x1)return-0x1;return _0x387723-_0x37dd51;}),_0x36f9d5[_0x35b1f0(0x322)]=_0x375173[_0x35b1f0(0x987)]>0x0?_0x375173[_0x35b1f0(0x217)](_0x2c58c5=>{const _0x330578=_0x35b1f0;let _0x264109='🧩';if(_0x2c58c5[_0x330578(0x16c)]&&_0x2c58c5[_0x330578(0x600)])_0x264109='📗';else{if(_0x2c58c5[_0x330578(0x16c)])_0x264109='📘';}const _0x23be78=shortcutTabs[_0x330578(0x431)](_0x4e345e=>!_0x4e345e['isDefault']),_0x469f09=_0x4259e5[_0x330578(0x6c7)]&&_0x23be78['length']>0x0?_0x330578(0x7ea)+_0x23be78[_0x330578(0x217)](_0x4ceeda=>_0x330578(0x2a9)+_0x2c58c5['id']+_0x330578(0x66b)+_0x4ceeda['id']+'\x22>'+_0x4ceeda[_0x330578(0x947)]+_0x330578(0x3fa))[_0x330578(0x935)]('')+_0x330578(0x8fd):'';return _0x330578(0x5eb)+_0x2c58c5['id']+_0x330578(0x57f)+_0x264109+'\x20'+_0x2c58c5[_0x330578(0x947)]+_0x330578(0x8b1)+_0x2c58c5['id']+_0x330578(0x21a)+_0x2c58c5['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2c58c5['isDefault']?_0x330578(0x218)+_0x2c58c5['id']+_0x330578(0x345):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4259e5[_0x330578(0x6c7)]?_0x330578(0x7e7)+_0x2c58c5['id']+_0x330578(0x815):'')+_0x330578(0x420)+_0x469f09+_0x330578(0x4fd);})[_0x35b1f0(0x935)](''):_0x35b1f0(0x206),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x461ade=_0x15116f;document['querySelectorAll'](_0x461ade(0x3d5))[_0x461ade(0x1b7)](_0xcaa10=>{const _0x1d031a=_0x461ade;_0xcaa10[_0x1d031a(0x6d5)](_0x1d031a(0x22c),_0x37f982=>{const _0x40a91b=_0x1d031a;activeShortcutTabId=_0x37f982['currentTarget'][_0x40a91b(0xb1e)][_0x40a91b(0x96e)],renderAdditionalShortcutsModal();}),_0xcaa10['addEventListener'](_0x1d031a(0x4ce),_0x5615f2=>{const _0x18251f=_0x1d031a,_0x49432a=_0x5615f2[_0x18251f(0x5f1)];_0x49432a[_0x18251f(0xba0)]('.tab-name-display')[_0x18251f(0x6e6)][_0x18251f(0x360)](_0x18251f(0x106));const _0x435d9e=_0x49432a['querySelector'](_0x18251f(0x329));_0x435d9e[_0x18251f(0x6e6)]['remove'](_0x18251f(0x106)),_0x435d9e[_0x18251f(0x24e)](),_0x435d9e['select']();});}),document[_0x461ade(0x17a)]('.tab-name-input')[_0x461ade(0x1b7)](_0x3f5ef9=>{const _0x157cc7=_0x461ade,_0x5320a5=()=>{const _0x52ae43=_0x1996,_0x3125fc=_0x3f5ef9[_0x52ae43(0x38e)]('.shortcut-tab-btn')[_0x52ae43(0xb1e)][_0x52ae43(0x96e)];handleRenameShortcutTab(_0x3125fc,_0x3f5ef9['value']);};_0x3f5ef9['addEventListener']('blur',_0x5320a5),_0x3f5ef9['addEventListener'](_0x157cc7(0xf2),_0x39b9ce=>{const _0x473fe7=_0x157cc7;if(_0x39b9ce[_0x473fe7(0x167)]===_0x473fe7(0x688))_0x3f5ef9[_0x473fe7(0x9cd)]();});}),document['querySelectorAll']('.delete-shortcut-tab-btn')[_0x461ade(0x1b7)](_0x1db2fa=>{const _0x657677=_0x461ade;_0x1db2fa['addEventListener']('click',_0x428c7b=>handleDeleteShortcutTab(_0x428c7b['currentTarget'][_0x657677(0xb1e)][_0x657677(0x96e)]));}),document[_0x461ade(0x17a)](_0x461ade(0xb52))[_0x461ade(0x1b7)](_0x6af343=>{const _0x17e59e=_0x461ade;_0x6af343[_0x17e59e(0x6d5)](_0x17e59e(0x22c),_0x43d29b=>{const _0x58ef8d=_0x17e59e;_0x43d29b['preventDefault']();const {shortcutId:_0x430d49,targetTabId:_0xf37281}=_0x43d29b[_0x58ef8d(0x5f1)][_0x58ef8d(0xb1e)];handleMoveShortcutToTab(_0x430d49,_0xf37281);});}),document['querySelectorAll']('.remove-shortcut-from-tab-btn')[_0x461ade(0x1b7)](_0x562d4b=>{const _0x4747d2=_0x461ade;_0x562d4b[_0x4747d2(0x6d5)](_0x4747d2(0x22c),_0x429f29=>{const _0x1a6883=_0x4747d2;handleRemoveShortcutFromTab(_0x429f29[_0x1a6883(0x5f1)][_0x1a6883(0xb1e)][_0x1a6883(0xa83)],activeShortcutTabId);});});const _0x4bd8c2=document[_0x461ade(0x7a2)](_0x461ade(0x39f));_0x4bd8c2[_0x461ade(0x17a)](_0x461ade(0x773))[_0x461ade(0x1b7)](_0x3326bf=>{const _0x4fa56a=_0x461ade;_0x3326bf[_0x4fa56a(0x6d5)](_0x4fa56a(0x22c),()=>{const _0x4ea1fd=_0x4fa56a;document[_0x4ea1fd(0x7a2)](_0x4ea1fd(0x178))[_0x4ea1fd(0x6e6)][_0x4ea1fd(0x360)]('hidden'),handleShortcutClick(_0x3326bf[_0x4ea1fd(0xb1e)]['id']);});});let _0x1aadc9=null;_0x4bd8c2[_0x461ade(0x6d5)](_0x461ade(0x865),_0x130be7=>{const _0x3178c9=_0x461ade;_0x1aadc9=_0x130be7[_0x3178c9(0x4c1)]['closest'](_0x3178c9(0x28d)),_0x1aadc9&&setTimeout(()=>_0x1aadc9[_0x3178c9(0x6e6)][_0x3178c9(0x360)]('opacity-50'),0x0);}),_0x4bd8c2[_0x461ade(0x6d5)](_0x461ade(0x35f),()=>{const _0x673c4e=_0x461ade;_0x1aadc9&&(_0x1aadc9['classList']['remove'](_0x673c4e(0x146)),_0x1aadc9=null);}),_0x4bd8c2[_0x461ade(0x6d5)]('dragover',_0x229b1d=>{const _0xe29d4f=_0x461ade;_0x229b1d[_0xe29d4f(0x623)]();const _0x238248=[..._0x4bd8c2['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0xe29d4f(0x366)]((_0x2dfe0c,_0x4df5a2)=>{const _0x48d398=_0xe29d4f,_0x4afb67=_0x4df5a2['getBoundingClientRect'](),_0xa9112a=_0x229b1d[_0x48d398(0x5ee)]-_0x4afb67[_0x48d398(0x6e5)]-_0x4afb67[_0x48d398(0x965)]/0x2;return _0xa9112a<0x0&&_0xa9112a>_0x2dfe0c['offset']?{'offset':_0xa9112a,'element':_0x4df5a2}:_0x2dfe0c;},{'offset':Number[_0xe29d4f(0x95f)]})[_0xe29d4f(0x698)];_0x238248==null?_0x4bd8c2['appendChild'](_0x1aadc9):_0x4bd8c2[_0xe29d4f(0x491)](_0x1aadc9,_0x238248);}),_0x4bd8c2[_0x461ade(0x6d5)](_0x461ade(0x971),_0x55014b=>{const _0x26a1cb=_0x461ade;_0x55014b[_0x26a1cb(0x623)]();if(_0x1aadc9){const _0x55b397=[..._0x4bd8c2[_0x26a1cb(0x17a)]('.shortcut-list-item')][_0x26a1cb(0x217)](_0xbb4830=>_0xbb4830[_0x26a1cb(0xb1e)][_0x26a1cb(0xa83)]);handleShortcutOrderChange(activeShortcutTabId,_0x55b397);}}),document[_0x461ade(0x17a)]('.move-shortcut-menu-btn')['forEach'](_0x5c8d65=>{const _0x4bea0d=_0x461ade;_0x5c8d65[_0x4bea0d(0x6d5)](_0x4bea0d(0x22c),_0x2e6a38=>{const _0x36742b=_0x4bea0d;_0x2e6a38[_0x36742b(0x92f)]();const _0x39bc8a=_0x2e6a38[_0x36742b(0x5f1)][_0x36742b(0xa50)],_0x2ba541=_0x39bc8a[_0x36742b(0x6e6)]['contains']('hidden');document[_0x36742b(0x17a)](_0x36742b(0x3d7))[_0x36742b(0x1b7)](_0x220a2f=>_0x220a2f[_0x36742b(0x6e6)]['add']('hidden')),_0x2ba541&&_0x39bc8a[_0x36742b(0x6e6)][_0x36742b(0x367)]('hidden');});});}document[_0x15116f(0x6d5)](_0x15116f(0x22c),_0x41ae47=>{const _0x28e681=_0x15116f;!_0x41ae47[_0x28e681(0x4c1)][_0x28e681(0x38e)](_0x28e681(0x33d))&&document['querySelectorAll']('.move-shortcut-dropdown')['forEach'](_0x2fc9c3=>_0x2fc9c3[_0x28e681(0x6e6)][_0x28e681(0x360)](_0x28e681(0x106)));});async function saveShortcutConfig(){const _0x2983ee=_0x15116f,_0x59bd41=doc(db,_0x2983ee(0x466),_0x2983ee(0x37d));try{await setDoc(_0x59bd41,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x1f3771){console[_0x2983ee(0x13b)](_0x2983ee(0x6f3),_0x1f3771);}}async function handleAddShortcutTab(){const _0x32711f=_0x15116f,_0x327835=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x32711f(0x768));if(!_0x327835||_0x327835[_0x32711f(0x6ad)]()==='')return;shortcutTabs[_0x32711f(0x8e7)]({'id':_0x32711f(0x266)+Date[_0x32711f(0xb20)](),'name':_0x327835['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x57db2a,_0x5dcf11){const _0x41c0c0=_0x15116f,_0xf20999=shortcutTabs['find'](_0x246495=>_0x246495['id']===_0x57db2a);_0xf20999&&_0x5dcf11[_0x41c0c0(0x6ad)]()!==''&&(_0xf20999[_0x41c0c0(0x947)]=_0x5dcf11[_0x41c0c0(0x6ad)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x2a8a34){const _0x1535f8=_0x15116f,_0x34fdd4=shortcutTabs[_0x1535f8(0x22a)](_0x235e1f=>_0x235e1f['id']===_0x2a8a34);_0x34fdd4&&!_0x34fdd4[_0x1535f8(0x6c7)]&&showConfirmation(_0x1535f8(0xb8e)+_0x34fdd4[_0x1535f8(0x947)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x394c1e=_0x1535f8;shortcutTabs=shortcutTabs['filter'](_0x2bbe19=>_0x2bbe19['id']!==_0x2a8a34),delete shortcutOrder[_0x2a8a34];if(activeShortcutTabId===_0x2a8a34)activeShortcutTabId=_0x394c1e(0x458);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1a7731,_0x474eb7){const _0x21b555=_0x15116f,_0x2f2238=shortcutTabs[_0x21b555(0x22a)](_0x686f17=>_0x686f17['id']===_0x474eb7);_0x2f2238&&!_0x2f2238[_0x21b555(0x497)][_0x21b555(0x679)](_0x1a7731)&&(_0x2f2238[_0x21b555(0x497)]['push'](_0x1a7731),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x31e9f3,_0x3151cc){const _0x320555=_0x15116f,_0x266e88=shortcutTabs[_0x320555(0x22a)](_0x2b4919=>_0x2b4919['id']===_0x3151cc);_0x266e88&&!_0x266e88[_0x320555(0x6c7)]&&(_0x266e88[_0x320555(0x497)]=_0x266e88['shortcutIds']['filter'](_0x3b9446=>_0x3b9446!==_0x31e9f3),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x1eb80f,_0xa735ff){shortcutOrder[_0x1eb80f]=_0xa735ff,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x24ac54=_0x15116f,_0x351be3=document[_0x24ac54(0x7a2)](_0x24ac54(0xb68)),_0x26b213=document['getElementById'](_0x24ac54(0x39f)),_0x2bd4af=document[_0x24ac54(0x7a2)](_0x24ac54(0x7e1));_0x2bd4af&&_0x2bd4af[_0x24ac54(0x6e6)]['add']('hidden');if(!_0x351be3||!_0x26b213)return;const _0x3153b5=blueprintShortcuts[_0x24ac54(0xf9)](0x0,0x4),_0x11c19c=blueprintShortcuts['slice'](0x4);_0x351be3[_0x24ac54(0x322)]=_0x3153b5[_0x24ac54(0x217)](_0x56f6ad=>{const _0x395c81=_0x24ac54;let _0x4016e0='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x2459db='🧩';if(_0x56f6ad[_0x395c81(0x16c)]&&_0x56f6ad[_0x395c81(0x600)])_0x4016e0=_0x395c81(0x836),_0x2459db='📗';else _0x56f6ad[_0x395c81(0x16c)]&&(_0x4016e0='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x2459db='📘');const _0x33c017=!_0x56f6ad[_0x395c81(0x6c7)]?_0x395c81(0x218)+_0x56f6ad['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x395c81(0x462)+_0x56f6ad['id']+_0x395c81(0x9de)+_0x4016e0+_0x395c81(0x3a8)+_0x2459db+'\x20'+_0x56f6ad[_0x395c81(0x947)]+_0x395c81(0x606)+_0x56f6ad['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33c017+_0x395c81(0x2cb);})[_0x24ac54(0x935)](''),_0x11c19c[_0x24ac54(0x987)]>0x0&&(_0x351be3['innerHTML']+=_0x24ac54(0x3dd)),_0x11c19c[_0x24ac54(0x987)]>0x0?_0x26b213[_0x24ac54(0x322)]=_0x11c19c[_0x24ac54(0x217)](_0x4b1cb2=>{const _0x268360=_0x24ac54;let _0x2ca947='🧩';if(_0x4b1cb2[_0x268360(0x16c)]&&_0x4b1cb2[_0x268360(0x600)])_0x2ca947='📗';else _0x4b1cb2[_0x268360(0x16c)]&&(_0x2ca947='📘');return _0x268360(0x1b5)+_0x2ca947+'\x20'+_0x4b1cb2[_0x268360(0x947)]+_0x268360(0x8b1)+_0x4b1cb2['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b1cb2['id']+_0x268360(0xb86)+(!_0x4b1cb2[_0x268360(0x6c7)]?_0x268360(0x218)+_0x4b1cb2['id']+_0x268360(0x345):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x24ac54(0x935)](''):_0x26b213[_0x24ac54(0x322)]=_0x24ac54(0xab8);}function getMimeTypeFromFilename(_0xb1961e){const _0x2018f7=_0x15116f,_0x4d977d=_0xb1961e[_0x2018f7(0x4a5)]('.')['pop']()[_0x2018f7(0x53c)]();switch(_0x4d977d){case _0x2018f7(0x265):return _0x2018f7(0x8ee);case'txt':return _0x2018f7(0x55b);default:return _0x2018f7(0x8ee);}}function openShortcutEditor(_0x4e9256=null){const _0x3ed61a=_0x15116f,_0x46167e=document['getElementById'](_0x3ed61a(0x732)),_0x22f014=document[_0x3ed61a(0x7a2)](_0x3ed61a(0xb39)),_0x2e3002=document[_0x3ed61a(0x7a2)](_0x3ed61a(0x855)),_0x15c08c=document[_0x3ed61a(0x7a2)](_0x3ed61a(0x2d2)),_0x434bcf=document[_0x3ed61a(0x7a2)](_0x3ed61a(0xa3b)),_0x1916cb=document['getElementById'](_0x3ed61a(0x5f4));if(_0x4e9256){const _0x185c03=blueprintShortcuts[_0x3ed61a(0x22a)](_0x3ebf40=>_0x3ebf40['id']===_0x4e9256);if(!_0x185c03)return;_0x22f014[_0x3ed61a(0x930)]='แก้ไขปุ่มลัด',_0x2e3002[_0x3ed61a(0x682)]=_0x185c03['id'],_0x15c08c['value']=_0x185c03[_0x3ed61a(0x947)],_0x434bcf[_0x3ed61a(0x682)]=_0x185c03['blueprintUrl']||'',_0x1916cb[_0x3ed61a(0x682)]=_0x185c03[_0x3ed61a(0x600)]||'';}else _0x22f014['textContent']='เพิ่มปุ่มลัดใหม่',_0x2e3002[_0x3ed61a(0x682)]='',_0x15c08c['value']='',_0x434bcf[_0x3ed61a(0x682)]='',_0x1916cb[_0x3ed61a(0x682)]='';_0x46167e[_0x3ed61a(0x6e6)][_0x3ed61a(0x367)](_0x3ed61a(0x106));}async function saveShortcutChanges(){const _0x545e6d=_0x15116f,_0x2bf746=document[_0x545e6d(0x7a2)]('shortcut-id-input')[_0x545e6d(0x682)],_0x40be0e=document[_0x545e6d(0x7a2)](_0x545e6d(0x2d2))[_0x545e6d(0x682)][_0x545e6d(0x6ad)](),_0x5a1b46=document[_0x545e6d(0x7a2)](_0x545e6d(0xa3b))[_0x545e6d(0x682)][_0x545e6d(0x6ad)]();if(!_0x40be0e||!_0x5a1b46){showMessage(_0x545e6d(0x670));return;}const _0x367b0a={'id':_0x2bf746||_0x545e6d(0x115)+Date[_0x545e6d(0xb20)](),'name':_0x40be0e,'blueprintUrl':_0x5a1b46,'referenceUrl':document[_0x545e6d(0x7a2)](_0x545e6d(0x5f4))[_0x545e6d(0x682)][_0x545e6d(0x6ad)](),'isDefault':_0x2bf746[_0x545e6d(0xaae)]('default-')};let _0x4ae8d0;_0x2bf746?_0x4ae8d0=blueprintShortcuts[_0x545e6d(0x217)](_0x2cd5d7=>_0x2cd5d7['id']===_0x2bf746?_0x367b0a:_0x2cd5d7):_0x4ae8d0=[...blueprintShortcuts,_0x367b0a];try{const _0x4b06d8=doc(db,'globalSettings',_0x545e6d(0x37d));await setDoc(_0x4b06d8,{'blueprintShortcuts':_0x4ae8d0},{'merge':!![]}),document[_0x545e6d(0x7a2)](_0x545e6d(0x732))[_0x545e6d(0x6e6)][_0x545e6d(0x360)](_0x545e6d(0x106));}catch(_0x43cb9e){console['error'](_0x545e6d(0x36c),_0x43cb9e),showMessage(_0x545e6d(0xbb4));}}function _0x3b6f(){const _0x113ae3=['การคูณ','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','transition-all','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน\x20','mouse','isScored','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','analyze-strengths-btn','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','close-topic-bank-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการจับคู่สำเร็จ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','จำนวนคละ','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Action:\x20Generate\x20new\x20lesson.','.lastAnswerValue','msRequestFullscreen','เกิดข้อผิดพลาดในการเปลี่ยนสี','ไม่ผ่าน','pin','options','thead','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scratchpad-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20analyzing\x20blueprint\x20topics:','Unexpected\x20API\x20response\x20structure:','perfect_score','display','file-topics-list-container','Error\x20submitting\x20team\x20answer:','teacherTips','เปลี่ยนชื่อแบบทดสอบสำเร็จ','ลบแบบทดสอบสำเร็จแล้ว','quizType','bg-red-500\x20text-white\x20font-bold','lineJoin','Error\x20saving\x20settings:','raw','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','not_confident','บันทึกการตั้งค่าสำเร็จ','isArray','fix-lesson-latex-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','mjx-container','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','/questionBank','webkitExitFullscreen','manual_release','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','medium','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','ที่พิมพ์ได้\x20จำนวน\x20','ชนิดของข้อมูลและการเก็บข้อมูล','ไม่พบข้อมูลเกม','wakeLock','global-quiz-search-input','user','mean','Error\x20pairing\x20quizzes:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','กำลังกลับเข้าสู่เกม\x20','ไม่พบข้อมูลแบบทดสอบ','กรุณาพิมพ์คำตอบของกลุ่ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','release','text-red-600','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','appendChild','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','Failed\x20to\x20get\x20hint:','text-tab','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','text-red-300\x20hover:text-red-100','next-question-timed-btn','student-quiz-leaderboard-table-body','\x5cpm','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseInline','file-default-1','$$$1$','justification','back-to-dashboard-from-bp-btn','values','leaderboard','text-red-500\x20hover:text-red-700','ไม่สามารถบันทึกการตั้งค่าได้','findIndex','bottom','scrollIntoView','ondragover','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','overallGroups','postTScore','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','topic-input','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','px,\x20','sync-submit-btn','game-start-quiz-id','p-2\x20bg-black/10\x20rounded-md','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ไม่มีผู้ตอบตัวเลือกนี้','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','timerMode','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','cancel-admin-login-btn','input','ceil','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Attempting\x20to\x20save\x20game\x20results...','close-lesson-plan-modal-btn','admin-dashboard','disabled','editable-text-','currentMode','generate-from-file-btn','.ideal-answer-input','PERFECT_SCORE','parallel-shortcut-editor-modal','confirm-game-start-modal','.edit-hidden-parallel-shortcut-btn','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','input[name=\x22status-option\x22]:checked','หัวข้อหลักใหม่','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','circle','API\x20call\x20failed','quiz-results','ระยะทางและจุดกึ่งกลาง','handleGenerateAndShowLesson','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22my-6\x22>','/public/data/blueprintProjects/','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','prod','isLooping','description','topic','practiceProblems','resize','confirmation-message','สร้างคำถามแบบเติมคำในช่องว่าง','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','data','quiz','back-to-dashboard-from-results-btn','adaptive-quiz-checkbox','คณิตศาสตร์','passcode-error-msg','postScore','keydown','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ondrop','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-mode-select','.delete-quiz-btn','slice','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','getContext','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','Error\x20displaying\x20question\x20bank:','.txt','lesson-view-title','export-leaderboard-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','touches','bg-green-400\x20text-white\x20font-bold','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','typesetPromise','analytics-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','confidence_single','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut_','projectSort','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Error\x20deleting\x20custom\x20topic:','\x5ccdot','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','name_asc','incorrect','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','modal-shuffle-select','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','lastAnswerIndex','results','bg-amber-100\x20text-amber-800','\x20รายการ\x20สำเร็จ!','quiz-results-table-body','Error\x20confirming\x20players:','questions_only','isRemedial','คะแนนเต็ม','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','นำแบบทดสอบออกจากคลังนี้แล้ว','lesson-loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','</td>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','หมดเวลา!\x20กำลังส่งคำตอบ...','.bp-open-topic-bank-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','error','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','/public/data/syncGames','Error\x20comparing\x20results:','cancel-parallel-shortcut-edit-btn','bulk-results-display-select','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','handleGenerateQuizFromBlueprintTopic','Error\x20joining\x20live\x20game:','set','opacity-50','Successfully\x20removed\x20','isAdaptive','.generate-lesson-btn','การวัด','/lessons','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','explanation','parallel-default-1','manage-tab-content','.rename-quiz-btn','questionId','เปลี่ยนชื่อโปรเจคสำเร็จ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scheduled','add-from-global-bank-btn','ใช่','bp-modal-num-choices','left','ไฟล์ลัด\x202','\x20รายการสำเร็จ!','suggestedAnswer','close-lesson-plan-modal-footer-btn','</th>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','อัปเดตแบบทดสอบเก่า\x20','รอเปิด','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ไม่พบข้อมูลโปรเจค','key','per-question-options','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','blueprintUrl','team-quiz-topic','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#sync-submit-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','ไม่พบข้อมูลผู้ใช้','API\x20call\x20failed\x20with\x20status:\x20','additional-shortcuts-modal','https://corsproxy.io/?','querySelectorAll','dfrac','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','global-quiz-count','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ai-quiz-app-aefee.firebaseapp.com','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ฟังก์ชันพหุนาม','student-team-join','perQuestionStats','pathname','save-game-results-checkbox','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','questionText','loopUntilPass','normal','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','admin','commit','label[for=\x22num-questions\x22]','parallel-shortcut-container','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.delete-custom-topic-btn','open-global-live-btn','parallel-test-input-area','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','student-project-leaderboard-table-body','autoTable','presentation-slide-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount','change','text-gray-500','.regenerate-question-btn','removeItem','#FEF3C7','fa-pen','<p\x20class=\x22text-xl\x22>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ไม่มี','อินเวอร์สของเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','json','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','some','solution','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','next-sync-question-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x20mb-2\x22>','style','Error\x20generating\x20from\x20link:','\x20ตัวเลือก)','.generate-post-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','onblur','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-quiz-leaderboard-tab','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ความคาดหมาย\x20(Expected\x20value)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','create-project-modal','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','cancel-blueprint-projects-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','จากไฟล์ที่แนบมานี้,\x20','floor','isStarred','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20</div>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','overline','passingScore','helvetica','bank-quiz-search-input','เรขาคณิตวิเคราะห์','<tr>','default-2','<div\x20class=\x22mb-3\x20topic-category\x22>','\x20ข้อ...','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20blockquote','string','text-red-800','true_false','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','Error\x20clearing\x20all\x20links:','isConfidenceScoringEnabled','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','result','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','สร้างใหม่','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','การลบทศนิยม','student-quiz-topic','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','admin-try-quiz-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','fill_in_no_choices','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','custom-math-topic-input','ผู้ควบคุม\x20(ทดสอบ)','text-green-600','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','interesting-stats-wrapper','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','<option\x20value=\x22\x22>กำลังโหลด...</option>','.pointsLastQuestion','274192258111','stdDev','_opt','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','upper_group_count','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','projectName','passcode','difficulty-level-select','confirm-move-quiz-btn','cancel-global-activity-btn','ฟังก์ชันเชิงเส้นและกราฟ','upperGroupNames','type','cancel-create-project-btn','\x22\x20data-pre-test-id=\x22','รูปหลายเหลี่ยมและมุมภายใน','Blueprint\x20O-NET\x20ป.6','targetId','blueprint-projects-modal','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','map','<button\x20data-id=\x22','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','Team\x20Quiz','quiz-editor-questions-container','numeric','quizMode','pointermove','กรุณาตั้งชื่อแท็บใหม่:','.sortable-header','\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','players.','input[type=\x22radio\x22][value=\x22','หน่วยมวล/น้ำหนักและการแปลง','find','สมมาตร\x20(แกน/จุด)','click','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','link-url-input','modal-adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','finishReason','ondblclick','answered','confirm-link-quiz-btn','G-V90KRM0L63','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','.delete-project-btn','editable-quiz-topic','separate-by-content-from-file-checkbox','back-to-student-initial-btn','admin-testing','.move-quiz-btn','matching','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x20mx-1\x20text-lg\x22></i></span>','เศษส่วน\x20(ย่อ/ขยาย)','destination-out','submission-status-chart','results-display-select','removeAttribute','modal-confidence-mode-container','.compare-results-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','rgba(239,\x2068,\x2068,\x200.9)','gameData','focus','score','requestFullscreen','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','ฟังก์ชันยกกำลัง','post-test','กรุณาใส่ชื่อโปรเจค','\x22\x20data-topic=\x22','passing-score-input','ทฤษฎีทวินาม\x20(เบื้องต้น)','toISOString','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','input[type=\x22checkbox\x22]','ตัวประกอบและตัวประกอบเฉพาะ','</p><div>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submissions','generated-quiz-container','afterend','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','pdf','tab_','.answers','Error\x20updating\x20old\x20quizzes:','อนุพันธ์:\x20กฎลูกโซ่','sqrt','default-1','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','#e21b3c','bulk-confidence-mode-container','option','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20from\x20sync\x20game:','getItem','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','API\x20Error\x20Response:','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','quiz-form','Error\x20saving\x20project\x20order:','sara','file-topics-list','confidence-mode-container','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x20จาก\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','(คัดลอก)\x20','Error\x20regenerating\x20question\x20in\x20editor:','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','fullscreenchange','file-default-2','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','finished','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ไม่ได้ตอบ','translate(','.tab-name-display','.shortcut-list-item','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','การนับ','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','prev-question-btn','<p>','text-emerald-900','update','quiz-end-time','hint-btn','splice','tGain','\x20ข้อ\x20','presentation-explanation','\x22\x20class=\x22color-palette-btn\x20','text-input-area','ai-quiz-generator-v3','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</tr>','1:274192258111:web:4120c9118229b5644dd48a','bg-green-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','cancel-delete-btn','pre-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ON_FIRE','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','multiple_choice','cdot','live-player-management','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fixedData','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','bg-red-100\x20text-red-800','math-topic-search-input','student-progress','confirm-quiz-settings-btn','lesson-sections-container','2597184vscnlZ','textarea[name=\x22team_answer\x22]','startedAt','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<span\x20title=\x22','add-file-shortcut-tab-btn','content','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','.star-quiz-btn','-tab','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','comparison-modal','กำลังเตรียมไฟล์...','authed_project_','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','shortcut-name-input','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</body></html>','[data-field=\x22subTopic\x22]','rows','memory','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','generationConfig',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','shuffleSetting','Error\x20adding\x20topic:','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','grid','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','bp-quiz-settings-btn','hint','body','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','summary','student-view','sort','setAttribute','answering','สำหรับหัวข้อ\x20\x27','.correct-response-input','ondragend','#E5E7EB','\x20ชุด)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','quiz-generation-area','#ffffff','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','password-error-msg','.group','back-to-project-btn','ข้อต่อไป','text-green-700','modal-confidence-mode-select','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','keyup','\x20สำเร็จ','Error\x20moving\x20quiz:','กรุณาใส่ชื่อใหม่','FileReader\x20error:','team','</span></div>','กำลังสร้างแบบทดสอบ:\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','deltaY','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','back-to-results-btn','highlighter-size-slider','Error\x20calling\x20Gemini\x20API:','start-quiz-btn','analytics','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-modal-title','unshift','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','innerHTML','createElementNS','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','team-student-list','Remedial\x20quiz\x20generation\x20failed:','confidence-modal','learningGaps','.tab-name-input','workerSrc','คะแนนเต็ม!','generate-worksheet-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','analytics-tab-content','<li\x20class=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','class','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','Error\x20starting\x20group\x20quiz:','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-not-confident','modal-timer-duration-container','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.group\x5c/dropdown','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','ตัวแปรและนิพจน์','.bp-view-analysis-btn','AI\x20ไม่สามารถประมวลผลข้อมูลได้','_opt0\x22\x20name=\x22question','Error\x20linking\x20quizzes:','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','then','export-lesson-to-pdf-btn','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','การลบ','parallelShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-name=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','whole_quiz','Authentication\x20failed:','stringify','Error\x20saving\x20file\x20shortcut\x20config:','.save-custom-topic-btn','Error\x20deleting\x20shortcut:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','อัตราการเปลี่ยนแปลงทันที','ระบบอสมการ','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','ondragstart','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','การจัดหมู่\x20(Combination)','.quiz-status-btn','dragend','add','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','lesson-view-modal','\x22>ไม่ใช่</p>','#FFFFFF','reduce','remove','export-leaderboard-pdf-btn','block','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','Error\x20saving\x20shortcut:','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','groups','manual-blueprint-modal','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.answered','join-live-game-btn','createdAt','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','text-red-700','dashboardConfig','<p><strong>คำตอบของคุณ:</strong>\x20','auto','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','เกิดข้อผิดพลาดในการสร้างห้องเกม','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','ไม่พบตารางสำหรับ\x20Export','กรุณาเลือกโปรเจคปลายทาง','print','Error\x20joining\x20activity:','Error\x20generating\x20worksheet:','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.duplicate-quiz-btn','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','closest','touchstart','ค.ร.น.\x20(LCM)','\x22\x20value=\x22false\x22\x20','perfect_score_status','เกิดข้อผิดพลาดในการอัปเดต:\x20','bg-blue-100','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','bulk-confidence-scoring-checkbox','<br>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not-found','กลุ่มของคุณ','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Error\x20resetting\x20project\x20order:','additional-shortcuts-list','td,\x20th','การปัดเศษและประมาณค่า','รูปแบบการให้เหตุผล','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','quiz-bank-count','159fMcuYo','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ย้าย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','cancel-bulk-quiz-settings-btn','#retake-for-improvement-btn','parallel-shortcut-tabs-nav','ราชาคัมแบ็ก','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.verification-result','.linkedQuizId','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','student-name-select','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','timer-container','position','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','applicationContent','totalQuestions','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','editor-quiz-topic','list','closePath','player-count','เกิดข้อผิดพลาดในการอัปเดตสถานะ','แผนการสอน:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','fromCharCode','Error\x20updating\x20quiz\x20status:','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcuts-loading-msg','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','transformOrigin','จำนวนคู่:','<div>','เปิด\x20(จับเวลา)','summary_chart','isNormalTopic','fa-crown\x20text-yellow-500','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','generated-quiz-actions','ดอกเบี้ยอย่างง่าย','.shortcut-tab-btn','bp-modal-passing-score-input','.move-shortcut-dropdown','\x22\x20name=\x22question_single\x22\x20value=\x22','instructions','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','results-tab-content','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','global-activity-quiz-list','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','985782wbqXZH','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','verify-answers-editor-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lowerGroupResponders','show_results_and_answers','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sync','.flex.justify-between.items-center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม!','geq','text-white','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','input[type=\x22radio\x22]:checked','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','คัดลอกแบบทดสอบสำเร็จ','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','timer-duration-label','\x5cfrac{$1}{$2}','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','reference-pdf-upload','viewBox','ไม่พบข้อมูลข้อสอบหลังเรียน','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','parallel-shortcuts-loading-msg','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','รหัสไม่ถูกต้อง','</h4>','enable-passcode-checkbox','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','save-project-name-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','student-team-selection-view','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','text-green-700\x20bg-green-100','input[name=\x22drill_answer\x22]:checked','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-yellow-100','สำหรับโปรเจค:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','mousemove','student-rankings-modal','ตอบถูก\x203\x20ข้อติดต่อกัน','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','/public/data/blueprintProjects','save-file-shortcut-btn','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','ต้นฉบับทั้งหมด','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','แก้ระบบสมการด้วยเมทริกซ์','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.start-live-race-btn','sync-player-list','Re-grade\x20process\x20failed:','comparison-overall-content','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','category','/public/data/quizzes','attemptNumber','text-content-input','toString','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','bar','textarea[name=\x22question_single\x22]','\x20ครั้ง)</span></td>','project-name-input','กิจกรรมสิ้นสุดลงแล้ว','.question-editor-item[data-q-index=\x22','px)\x20scale(','ชื่อหัวข้อห้ามว่าง','complexityValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20parallel\x20shortcut\x20click:','lastIndexOf','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-bulk-quiz-settings-btn','Error\x20deleting\x20all\x20students:','test','อนุพันธ์:\x20กฎพื้นฐาน','rgba(79,\x2070,\x20229,\x200.8)','bg-green-50','การประยุกต์เวกเตอร์พื้นฐาน','redo-btn','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','numChoices','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','วงรี','qType','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','ไม่สามารถเพิ่มนักเรียนได้','update-old-quizzes-btn','undefined','text-blue-700\x20bg-blue-100','Error\x20starting\x20live\x20race:','draggable-text','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','bg-green-500','badges','all','/public/data/projects/','#file-shortcut-tabs-nav\x20.tab-name-input','ดูผลสรุปสุดท้าย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','dimmed','globalSettings','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','topic_','อยู่ในหัวข้อหลักใด:','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พอใช้','เลือกและเริ่มสร้าง','ตรีโกณมิติ','ค่าความจริง/ตารางค่าความจริง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','results-quiz-title','list-view-btn','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','original-mode-checkbox','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','PROMPT_PLACEHOLDER','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isFinished','commonMistakes','กำลังวิเคราะห์หัวข้อ...','first_try_ace','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','cancel-shortcut-edit-btn','correct','ก่อนเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','mode-switcher-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','scores-tab-content','contents','บันทึกการแก้ไข','\x20กลุ่ม</p></div>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','Copy\x20command\x20failed','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','delete','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','insertBefore','\x20แบบทดสอบลงในคลังสำเร็จ!','blueprint.pdf','button[type=\x22submit\x22]','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','shortcutIds','fileShortcutsConfig','Error\x20saving\x20to\x20question\x20bank:','answer-grid-container','.bp-present-btn','กรุณาเลือกคำตอบ','คุณแน่ใจว่าต้องการลบแท็บนี้?','border-indigo-400\x20ring-2\x20ring-indigo-200','pen','(ไม่มีชื่อ)','rgba(59,\x20130,\x20246,\x200.7)','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container.opacity-50','title','split','.use-hidden-file-shortcut-btn','แก้ไขปุ่มลัดจากไฟล์','additional-file-shortcuts-modal','timed','[*]','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','เกิดข้อผิดพลาดในการลบนักเรียน','jspdf','กำลังอ่านไฟล์อ้างอิง...','</li>','responseSchema','on_fire','[data-topic-container-id]','question','starred','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','.view-bp-lesson-btn','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','text-gray-300\x20hover:text-white','Error\x20listening\x20for\x20student\x20profiles:','beginPath','choices_only','leaderboard-table-body','ฮิสโตแกรม','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','target','\x22.\x20Ideal\x20Answer:\x20\x22','<div\x20class=\x22answer-space\x22></div>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','project-quizzes-list','.move-file-shortcut-item','fas\x20fa-star\x20text-yellow-500','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','qIndex','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','dblclick','not_generated','retake-quiz-loop-btn','admin-password-input','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','false','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','ลำดับเรขาคณิต\x20(GP)','starred-project','.quiz-settings-btn','ไม่พบโปรเจค','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','พบ\x20Team\x20Quiz!','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เนื้อหาสำหรับสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','force-math-checkbox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','project-detail','ดีมาก','leaderboard-quiz','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','timer-mode-select','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','parts','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','touchcancel','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','parallel-test-upload-input','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ระบบเลขและค่าประจำหลัก','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','.edit-quiz-btn','bp-modal-difficulty-level-select','เวกเตอร์และเมทริกซ์\x20(เสริม)','.topic-category','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','#math-topics-checkbox-container\x20input:checked','progress-project-select','correctAnswerIndex','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.bp-game-btn','shuffledQuiz','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','add-shortcut-tab-btn','.live-summary-tooltip.visible','.shortcut-list-item:not(.opacity-50)','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ย้ายแบบทดสอบสำเร็จ','สามเหลี่ยม\x20(ชนิด/สมบัติ)','อสมการค่าสัมบูรณ์','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','answerText','onerror','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','transform','manual-bp-content','ไม่ใช่','manage-players-btn','แก้ไขข้อนี้','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','\x20คะแนน</span></div>','clear-all-links-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','blueprint-settings-modal','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-topic-input',')\x22>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','text-red-700\x20bg-red-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-content','ai-quiz-app-aefee.firebasestorage.app','student-project-leaderboard-content','Error\x20showing\x20quiz\x20detail\x20view:','.parallel-shortcut-tab-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยทบต้น','lineCap','generated','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','selectedTopicNames','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','toLowerCase','.topic-row','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','Error\x20rendering\x20student\x20progress:','generate-from-text-btn','image/png','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-search-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','cancel-move-quiz-btn','การบวก','.score','originalQuestionText','ทศนิยม\x20(ค่าประจำหลัก)','กำลังจับคู่...','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','red','ร้อยละพื้นฐาน','showImproveButton','</button>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','border-gray-200','student-join-game-view','touchmove','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</a>','text-red-900','Error\x20updating\x20custom\x20topic:','<option\x20value=\x22','status','text/plain','<button\x20data-value=\x22','.file-shortcut-btn[data-id=\x22','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','\x5csum','isPasscodeEnabled','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','getTextContent','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','subTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','add-custom-math-topic-btn','message','.quiz-bank-item','<textarea\x20name=\x22question','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','createObjectURL','lessonContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','select','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','file-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','deselect-all-topics-btn','additional-file-shortcuts-list','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','summaryContent','multiply','file-upload-input','eraser','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','พื้นที่สี่เหลี่ยม','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY','player-list-lobby','innerText','wheel','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ค่าเฉลี่ย','applicationHTML','การแยกตัวประกอบ','</p><p><strong>เฉลย:</strong>\x20','file-shortcut-editor-modal','กำลังสร้างรูปภาพ...','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','.presentation-option','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','color','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','text-gray-200','.lastAnswerCorrect','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.bp-create-content-quiz-btn','insertAdjacentHTML','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','ไม่พบไฟล์\x20Test\x20Blueprint','back-to-dashboard-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','17804HiaZxq','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SAFETY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','questionType','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20file\x20for\x20AI:','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reveal-answer-btn','การสร้างรูปด้วยวงเวียน–สันตรง','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','แก้ไขหัวข้อสำเร็จ','สมการยกกำลัง','curriculum','gradeLevel','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','(หลังเรียน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','สมการเหตุผล\x20(rational)',',\x20r=','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includeImages','การบวกเศษส่วน','student-quiz-leaderboard-content','student-name-input','cancel-quiz-settings-btn','fill','bg-red-100','ลบโปรเจคสำเร็จแล้ว','/public/data/projects','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','#student-quiz-leaderboard-content\x20thead','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','confidenceMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.cancel-edit-topic-btn','file-input-area','timer-bar','pointContent','Error\x20saving\x20parallel\x20shortcut:','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','จำนวนเต็มลบ','fa-bolt\x20text-blue-500','.bp-unlink-quiz-btn','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','line-through\x20text-red-700','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','/public/data/practiceBank','behaviorLog','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','รูปสแควร์รูท\x20(surd)','underline','scratchpad-canvas','project-sort-select','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','memoryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังอัปเดตแบบทดสอบ\x20','currentTarget','responses','<i\x20class=\x22fas\x20fa-pen\x22></i>','shortcut-reference-url-input','difficultyValue','\x20หัวข้อ)','parentElement','comparison','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-list','submit-group-answer-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','leaderboard-tab','STOP','Error\x20saving\x20manual\x20blueprint\x20project:','referenceUrl','lesson-plan-modal','scores-tab-btn','student-progress-view','.export-pdf-list-btn','ยังไม่เต็มนะ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-options-container','backgroundColor','passcode-prompt-message','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20จำนวน\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','presentation-ai-result','Error\x20saving\x20game\x20results:','docs','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','rename-quiz-input','bp-modal-quiz-type-select','empty','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tool','http://www.w3.org/2000/svg','getScreenCTM','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','additional-parallel-shortcuts-modal','FIRST_TRY_ACE','source_document.txt','ยืนยันและอัปเดตทั้งหมด','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','preventDefault','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','confidence-scoring-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','half_mark_status','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</tbody></table>','pop','</td></tr>','.generate-content-btn','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fix\x20the\x20option','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','bank-tab','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','from','.delete-parallel-shortcut-btn','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','questionIndex','active','การคูณทศนิยม','save-quiz-edits-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','-tab-content','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ไฮเพอร์โบลา','ผิด','add-parallel-shortcut-btn','blueprint-input-area','พื้นที่สามเหลี่ยม','highlighter','rgba(255,\x20255,\x200,\x200.5)','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','_opt1\x22\x20name=\x22question','strength-weakness-analysis-container','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','เกิดข้อผิดพลาดในการสร้างใบงาน','.remove-parallel-shortcut-from-tab-btn','visibilityState','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','Error\x20during\x20blueprint\x20link\x20cleanup:','isCorrect','POST','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','projectView','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','text-green-600\x20font-bold','\x22\x20name=\x22confidence','questionDisplayedAt','Firebase\x20initialization\x20failed:','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','name_desc','save-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<button\x20data-tab-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','comeback_king','หน่วยความยาวและการแปลง','quiz-id-input','พิสัย','teachingContent','.project-card-container','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options','includes','เกิดข้อผิดพลาดในการส่งคำตอบ','text-gray-700','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','thead\x20.sortable-header','เงินงวด\x20(อนุกรมเงินงวด)','ไม่สามารถโหลดคลังข้อสอบได้','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','value','confirm-delete-btn','.png','Error\x20listening\x20for\x20custom\x20math\x20topics:','user-id-display','input[name=\x22team_player\x22]:checked','Enter','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','/submissions','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','bg-black/10','.bp-generate-lesson-btn','point','reset-view-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','onclick','ข้อที่\x20','Error\x20listening\x20for\x20starred\x20quizzes:','element','per-q-countdown','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','/public/data/liveGames','blueprint-upload-input','trail-tool-btn','bulk-quiz-settings-btn','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-type-select','.start-game-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','toLocaleString','blob','shadowBlur','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','show-leaderboard-btn','#6366F1','trim','\x22><p\x20class=\x22font-semibold\x22>','ฟังก์ชันผกผัน','/public/data/quizzes/','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','next-drill-btn','.edit-shortcut-btn','bg-green-200','parallel-test-tab','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','เกี่ยวกับหัวข้อ\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เส้นตรง:\x20รูปแบบสมการ','ลำดับเลขคณิต\x20(AP)','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','quiz-start-time','frac','bg-green-200\x20text-green-900\x20font-bold','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','substr',';\x22\x20data-id=\x22','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','isDefault','เลือกโปรเจคเพื่อบันทึก','screen_exit','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-100','results-table','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','BOOLEAN','onloadend','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','live-race','topics.','ไม่สามารถโหลดรายการโปรเจคได้','addEventListener','move','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','strokeStyle','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','actions-container-','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','visible','modal-results-display-select','generate-from-blueprint-btn','top','classList','keyConcepts','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','input[type=\x22text\x22]','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','grabbing','ถูกต้อง!','เกิดข้อผิดพลาดในการบันทึกโปรเจค','Error\x20saving\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','project-list','#confidence-input-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','save-blueprint-as-project-btn','พีชคณิตและฟังก์ชัน','answeredCurrentQuestion','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confident','parallel-shortcut-modal-title','source_document.pdf','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สร้างแบบทดสอบ','font-bold\x20text-green-700','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ownerSVGElement','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','\x27\x20ในหัวข้อ\x20\x27','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปมาอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','cancel-quiz-bank-btn','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tan','lowerGroupNames','.move-parallel-shortcut-dropdown','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','\x22\x20name=\x22team_answer\x22\x20value=\x22','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x20(สำหรับ\x20','สรุปผลสุดท้าย','answerValue','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','บันทึกผลการเล่นเกมของ\x20','\x22.\x20','getDocument','border-green-300\x20bg-green-50','question-analytics-container','interesting-stats-container','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','comparison-individual-tab','Error\x20clearing\x20linked\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20จุดเรียบร้อยแล้ว','(ก่อนเรียน)','ความชันเส้นสัมผัส','questions','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','lobby','stroke','setItem','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<li>','shortcut-editor-modal','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','canvas','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','math-topics-checkbox-container','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','contentEditable','entries','กำลังสร้างเนื้อหา:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Error\x20fetching\x20project\x20quizzes:','text-indigo-800','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.project-card-container:not(.opacity-50)','file-shortcut-url-input','\x20|\x20ID:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Sync\x20Mode','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','confirm-create-project-btn','.subTopic','ความเท่ากันทุกประการของสามเหลี่ยม','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','https://drive.google.com/uc?export=download&id=','.draggable-text','GlobalWorkerOptions','.delete-submission-btn','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','จำนวนเชิงซ้อน\x20(เสริม)','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','_blank','.parallel-shortcut-btn','parallelTestShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ถูก','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','.\x20แต่ละข้อมี\x20','ความต่อเนื่อง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','mouseup','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แท็บใหม่','both','.toggle-actions-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','correctResponse','</option>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','removeEventListener','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','svg','.use-hidden-shortcut-btn','Error\x20joining\x20team\x20quiz:','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-pdf-modal','กฎบวกและกฎคูณ','behavior-log-tab-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<tr><td\x20colspan=\x22','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','%PDF','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','confirm-manual-bp-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','include-images-checkbox','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','text/html','ฟังก์ชันกำลังสองและกราฟ','.file-topic-selection-btn','date_asc','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','th-TH','2435865DDRszE','ข้อ\x20','standardTopic','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','Action:\x20Create\x20topic-based\x20Quiz.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','grid-view-btn','text-blue-700','answer','Auto-linking\x20new\x20quiz\x20','lesson-plan-title','none','totalPoints','bp-modal-include-images-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','document','add-student-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','attempts','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','Error\x20saving\x20submission:','playerName','(คู่ขนาน)\x20','\x5csqrt{$1}','cursor','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','project-passcode-input','Failed\x20to\x20create/update\x20submission\x20record:','\x22\x20name=\x22question','.game-start-btn','text-indigo-700','onkeydown','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','correctAnswer','round','save-parallel-shortcut-btn','add-file-shortcut-btn','Error\x20in\x20generating\x20from\x20files:','link-input-area','trail','ทำคะแนนได้เกินครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','num-questions','submission','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','teacherSuggestions','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','blueprint-tab','AI\x20grading\x20failed:','shuffle-setting-select','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ยืนยันการจับคู่','$1\x5c%','topic-quiz-bank-modal','log','scratchpad-question','\x20pointer-events-none\x22>','devicePixelRatio','lastAnswerCorrect','</p>','บทเรียนเรื่อง:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','```','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','shortcuts-loading-msg','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','moveTo','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x20\x20\x20-\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20data-shortcut-id=\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','quiz-leaderboard-table','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ออกจากคลังนี้?','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</tbody></table></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table','\x20|\x20','icon','fa-rocket\x20text-purple-500','pinnedProjects','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังสแกนหาแบบทดสอบเก่า...','\x22\x20สำเร็จ!','.delete-file-shortcut-btn','latestScore','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','พบข้อสอบ\x20','Invalid\x20response\x20structure\x20from\x20API.','\x20</div>\x0a\x20\x20\x20\x20','btn','\x20(ID:\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_pass_fail_only','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','parent','pointerup','(เลือกแล้ว\x20','open-scratchpad-btn','.quiz-result-card','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22>ใช่</p>','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','<p\x20class=\x22text-2xl\x22>','<button\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','bg-green-100\x20text-green-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','Error\x20generating\x20lesson\x20plan:','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',':</span><span>','Error\x20updating\x20quiz\x20settings:','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-pdf-btn','รอ...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคก่อน','เกมสิ้นสุดลงแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','bg-gray-50','กรุณากรอกข้อมูลให้ครบทุกช่อง','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','Error\x20generating\x20parallel\x20post-test:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.move-file-shortcut-menu-btn','game-start-mode','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','bg-green-500\x20hover:bg-green-600\x20text-white','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','manage-tab','hasOwnProperty','bp-modal-shuffle-setting-select','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หลังเรียน','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-results-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','visibilitychange','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','size','Error\x20saving\x20parallel\x20shortcut\x20config:','substring','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','การแจกแจงปกติและ\x20z-score','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-id-input','ไม่ใช่\x20/\x20ผิด','presentation-scratchpad-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','clearRect','confirm-team-players-btn','Error\x20analyzing\x20file\x20for\x20topics:','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x5ctimes','restore','blueprint-topics-list-container','.use-hidden-parallel-shortcut-btn','parallel-shortcut_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','group','Error\x20generating\x20hybrid\x20quiz:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','default','create-from-bank-btn','\x5cle','confidence-scoring-description','quiz-settings-modal','createElement','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','parse','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','topic-input-area','fileShortcutTabs','check-presentation-answer-btn','STRING','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','originalTopic','/studentProfiles','\x22,\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','game-start-modal-title','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','Error\x20fetching\x20quiz\x20settings:','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','#000000','student-name-selection-view','loader','องค์ประกอบของฟังก์ชัน','ค่าสัมบูรณ์','replace','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20font-bold','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','q-text-','โดเมนและเรนจ์','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20in\x20all\x20blueprint\x20projects.','rgba(16,\x20185,\x20129,\x200.7)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','getBBox','presentation-modal','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','bulk-loop-until-pass-checkbox','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x22\x20class=\x22delete-project-btn\x20','copy','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','MathJax','question-complexity-select','Failed\x20to\x20end\x20group\x20mode\x20game:','cancel-game-start-btn','Group\x20Mode','students','เรเดียนและการแปลงหน่วย','url','code','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-controls','กฎของโคไซน์','#view-rankings-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','imageCode','คะแนนเฉลี่ย','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','สอบซ่อม','เซียนสมองไว','confidence-input-','cancel-quiz-edits-btn','text-green-800','total','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20starting\x20sync\x20game:','สร้างแบบทดสอบปรนัย','text-blue-800','.file-shortcut-tab-btn','ai-quiz-app-aefee','progress-student-select','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','submit','\x20to\x20blueprint\x20topic\x20','OBJECT','start-sync-game-btn','no-projects-msg','checked','fas\x20fa-user-edit','ไฟล์ทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.topic-selection-btn','ปุ่มลัดทั้งหมด','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalCompositeOperation','mode','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','start-game-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','firstScore','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','#student-project-leaderboard-content\x20thead','onchange','.file-shortcut-btn','\x5cge','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','push','modal-passing-score-input','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','Error\x20processing\x20file\x20shortcut\x20click:','สมการค่าสัมบูรณ์','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','application/pdf','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','blueprint-project-list','ชื่อโปรเจคห้ามว่าง','close-student-rankings-btn','Error\x20fetching\x20lesson\x20content:','applicationData','.bp-live-btn','numPages','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','temp-loader-results','ปรับเพิ่ม/ลดเป็นร้อยละ','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','text-emerald-800','upperGroupResponders','Blueprint\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','อัปเดตพฤติกรรมสำหรับ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','shortcuts','กรุณาเลือกไฟล์ก่อน','gain','export-leaderboard-image-btn','blueprint-project-manager-view','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','showRankings','ไม่สามารถสร้างโปรเจคได้','parallel-shortcut-url-input','ดีเทอร์มิแนนต์','MathJax\x20re-render\x20failed:','):\x20','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20player\x20data\x20to\x20save.','.live-answer-btn','file-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','showInStudentDashboard','scratchpad-clear-btn','loader-text','pointercancel','link-tab','bp-modal-question-complexity-select','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x20\x5cfrac','destroy','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','bp-add-topic-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กำลังสร้างคำถามข้อ\x20','#open-additional-file-shortcuts-btn','bg-red-200\x20text-red-800','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicId','\x20ชุดสำเร็จ!','.open-bp-project-btn','.edit-file-shortcut-btn','circ','stopPropagation','textContent','fill_in_with_choices','student-progress-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','hasPerfectScoreBonus','join','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','modal-loop-until-pass-checkbox','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','date_desc','#FEE2E2','touchend','Error\x20committing\x20score\x20updates:','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','scratchpad-close-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์สไตล์\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22เนื้อหา\x22\x20และ\x20\x22ตัวอย่าง\x22\x20ที่ส่งเสริมการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่แค่การคำนวณในขั้นตอนเดียว\x20โดยต้องสอดแทรกแนวคิดเหล่านี้เข้าไปในเนื้อหาและตัวอย่างประกอบ:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การแก้ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ตัวอย่างและโจทย์ควรส่งเสริมให้ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ป\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การคิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20หากเป็นไปได้\x20ให้มีตัวอย่างที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ใช้สถานการณ์,\x20ตาราง,\x20หรือแผนภูมิสมมติในการยกตัวอย่างเพื่อให้นักเรียนฝึกตีความ\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สำหรับส่วนที่เป็นแบบฝึกหัด\x20(APPLICATION)\x20ควรมีโจทย์ที่ให้ข้อสรุปมาอยากมาก\x201\x20ข้อ\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎของตัวลวง\x20(Distractor\x20Rule\x20for\x20APPLICATION\x20section):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','รูปสี่เหลี่ยมและสมบัติ','Error\x20deleting\x20project:','Error\x20saving\x20blueprint\x20project:','border-indigo-500\x20text-indigo-600','name','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','bg-gray-500','แบบทดสอบนี้หมดเวลาแล้ว','download','classWeaknesses','preScore','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','สร้างชุดคำถามจับคู่','กฎของไซน์','Error\x20loading\x20user\x20preferences:','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option>กำลังโหลดโปรเจค...</option>','#FCE7F3','latestSubmittedAt','.bp-create-onet-quiz-btn','NEGATIVE_INFINITY','comparison-chart','presentation-short-answer-input','removeChild','flex','<div\x20id=\x22q-image-container-','height','modal-message','student-initial-view','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','flex\x20flex-col\x20gap-2','label','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','beforeend','clientX','tabId','export-tutor-pdf-btn','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','drop','binom','mainTopic','เริ่มกิจกรรม:\x20','checkbox','loop-until-pass-checkbox','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','linkedQuizIds','nickname-input','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20สำเร็จ','ลบหัวข้อสำเร็จ','<p\x20class=\x22font-bold\x20text-sm\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','length','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลหัวข้อที่จะบันทึก','เกิดข้อผิดพลาดในการปักหมุด','wasConfident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','file-shortcut-container','คะแนน','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','groups.','startTime','Error\x20starting\x20team\x20quiz:','student-list','per-question-text','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shadowColor','\x27,\x20\x27','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','เกิดข้อผิดพลาดในการลบผลสอบ','confirm-admin-login-btn','separate-by-content-checkbox','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','main-correct-answer-display','.group\x5c/dropdown-parallel','.status','add-shortcut-btn','.quiz-bank-settings-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill_in_the_blank','font-bold\x20text-red-700\x20line-through','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','การเรียงสับเปลี่ยน\x20(Permutation)','</strong></p>','worksheet-input-area','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20คู่\x20','match','.lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','candidates','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','คะแนนยังไม่ถึงครึ่ง','<div\x20class=\x22loader\x20mx-auto\x22></div>','close-comparison-modal-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','save-shortcut-btn','endTime','confidence-choice-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','textarea','กรุณาวาง\x20URL\x20ของบทความก่อน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-formula-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','text-indigo-600','close-comparison-modal-footer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','mainTopics','blur','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','topics','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','baseVal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','warn','เกิดข้อผิดพลาดในการโหลดโปรเจค','offset','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','แผนภาพเวนน์','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','.move-parallel-shortcut-item','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','toLocaleDateString','mouseleave','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','schedule','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','decode','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','earned-badges-container','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','เกิดข้อผิดพลาด:\x20','text','text-purple-600','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quick_thinker','cloneNode','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','parallel-shortcut-id-input','padStart','drill-feedback','timestamp','\x22\x20value=\x22true\x22\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','.quiz-bank-checkbox:checked','getAttributeNS','<div><input\x20type=\x22radio\x22\x20id=\x22q','bulk-quiz-settings-modal','every','.linkedQuizIds','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','file.txt','getPage','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.unpair-quiz-btn','manual-bp-grade-level','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','min','หยุดระบบจับเวลาหรี่หน้าจอ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','podium','.submittedAt','toDataURL','points','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','590093mOSQoO','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</p></div>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','save','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','ปริมาตร/ความจุและการแปลง','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','sync-player-management','reference.pdf','function','cancel-export-pdf-btn','confirm-passcode-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','</span>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','สร้างคำถามแบบใช่/ไม่ใช่','ความน่าจะเป็นแบบมีเงื่อนไข','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','.quiz-bank-parallel-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','.edit-parallel-shortcut-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','shortcut-blueprint-url-input','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</span></p>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','</h3>','กราฟแท่ง\x20กราฟเส้น','shortcutTabs','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.bp-delete-topic-btn','msExitFullscreen','end-team-quiz-btn','cancel-passcode-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','.topic-name-display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','Error\x20verifying\x20answers:','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','nextElementSibling','game-pin-input','Invalid\x20response\x20structure\x20from\x20AI.',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','pow','move-quiz-modal','.pin-project-btn','results-quiz-id-display','generate-from-topic-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','confirm-quiz-status-btn','modal-timer-duration-label','Error\x20generating\x20easy\x20version\x20quiz:','.doc','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','border-red-700','confirmation-modal','เกิดข้อผิดพลาดในการลบหัวข้อ','Error\x20updating\x20project\x20color:','modal-confidence-scoring-checkbox','</span><span\x20class=\x22font-bold\x22>','pointer-events-none','stem','desc','<div\x20class=\x22space-y-4\x22>','catch','.edit-custom-topic-btn','Failed\x20to\x20generate\x20practice\x20test:','.start-presentation-list-btn','เมทริกซ์:\x20บวก/คูณ','.topic-actions-edit','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','mandatory','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','bg-red-500','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตรวจคะแนนใหม่\x20','subTopics','export-leaderboard-excel-btn','จำนวนนักเรียน','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','undo-btn','text-gray-400\x20hover:text-indigo-600','shortcutId','allResponses','cancel-manual-bp-btn','[data-topic-id]','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','.move-parallel-shortcut-menu-btn','live-game','application/json','<div\x20class=\x22my-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','Error\x20saving\x20user\x20preference:','ไม่สามารถเริ่มเกมได้','quiz-bank-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','text-yellow-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','end-game-btn','Error\x20during\x20class\x20analysis:','eraser-tool-btn','คณิตการเงิน/บูรณาการ','text/csv;charset=utf-8;','specialist','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','q-image-container-','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','move-quiz-project-select','\x22...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','เส้นตรง:\x20ขนาน/ตั้งฉาก','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','mousedown','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','global-activity-modal','.delete-student-btn','996428YJoYlY','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','documentElement','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','goto-next-question-btn','startsWith','\x20/\x20','generate-from-parallel-test-btn','cancel-file-shortcut-edit-btn','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ทำคะแนนเต็มในการทำครั้งแรก','toFixed','lesson-view-content','topicName','จำนวนและการดำเนินการ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','topic-tab','ตอบถูกทุกข้อในแบบทดสอบนี้','approx','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','lineWidth','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','kick-player-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.topic-name-input','Error\x20updating\x20pin\x20status:','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ความสัมพันธ์ของมุม','show-in-student-dashboard-checkbox','<div\x20class=\x22p-2\x20rounded-md\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','responses.','.move-file-shortcut-dropdown','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','index','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','แผนการสอน','div','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','comparison-overall-tab','ห.ร.ม.\x20(GCD)','settings','submittedAt','แก้ไขสูตรคณิตศาสตร์\x20','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','delete-svg-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ยังไม่สร้าง','getBoundingClientRect','blueprint-topics-list','อุณหภูมิและการแปลง','.delete-bp-project-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','pen-tools-group','gamePin','เรขาคณิต','student-quiz-area','สเกลและแผนที่','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','abs','random','fa-shield-alt\x20text-gray-600','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','N/A','manual-bp-project-name','onload','readAsDataURL','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bp-topic-list-container','939216DOcspI','parallel-shortcut-name-input','href','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่ระบุ','close-additional-parallel-shortcuts-btn','neq','.regenerate-question-editor-btn','เพิ่ม\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','รากที่สองและที่สาม','input[name=\x22question_single\x22]:checked','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Error\x20preparing\x20content\x20quiz:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','Error\x20toggling\x20pin\x20status:','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</div>\x0a</div>\x0a','indexOf','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','modal-timer-duration-input','asc','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ส่งคำตอบ','ศูนย์','กรุณาเลือกคำตอบก่อนครับ','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','project-detail-view','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-table-container','ค่าคลาดเคลื่อนของการวัด','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','highlighter-tool-btn','dataset','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','now','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','source-over','2-digit','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.project-card-container[data-id]','.isScored','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','กรุณาพิมพ์คำตอบ','</select>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getElementsByTagName','...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','live-short-answer-input','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','fadeStartTime','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','close',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','COMEBACK_KING','toggle','shortcut-modal-title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ส่งแล้ว','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ย้ายแบบทดสอบไปโปรเจคอื่น','.quiz-bank-present-btn','API\x20Error\x20Body:','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หัวข้อที่สร้างเอง','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','localeCompare','generate-from-link-btn','ยังไม่มีนักเรียนส่งงาน','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','manage','Error\x20adding\x20custom\x20topic:','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.pdf','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','numQuestions','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20จุด','.move-shortcut-item','\x20link(s)\x20for\x20quiz\x20ID:\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','matching_item','student','Failed\x20to\x20kick\x20player\x20','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','score-distribution-chart','project-title','copy-quiz-id-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','fa-dumbbell\x20text-gray-700','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','projectSortOrder','short_answer','บันทึกแบบทดสอบสำเร็จแล้ว!','เกิดข้อผิดพลาดในการจับคู่','ผลรวมอนุกรม\x20(Σ)','blueprint-shortcut-container','AI\x20แก้ไขคำถามสำเร็จ!','ร้อยละประยุกต์','สรุปผลการวิเคราะห์:\x5cn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','results_','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','.copy-quiz-id-list-btn','promptFeedback','modal-close-btn','transparent','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','/public/data/teamQuizzes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','files','.delete-hidden-file-shortcut-btn','.pair-quiz-btn','<i\x20class=\x22fas\x20fa-save\x22></i>','ไม่พบข้อมูลการจับคู่','\x20ตัวเลือก.\x20','currentQuestionIndex','studentName','resultsDisplay','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','quiz-editor-modal','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','pointsLastQuestion','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','การแจกแจงทวินาม\x20(พื้นฐาน)','การแปลงรูปอัตลักษณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','scheduled_pending','load-quiz-btn','mixed','.answeredCurrentQuestion','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','Error\x20verifying\x20answers\x20in\x20editor:','center','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','projectId','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','#F3E8FF','.color-palette-btn','querySelector','timer-duration-input','เส้นรอบรูป','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','/users/','close-additional-file-shortcuts-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','touch','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','#26890c','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-file-shortcut-tab-btn','.pen-color-btn','การกระจายและการจัดหมู่','back-from-results-btn','.bp-create-topic-quiz-btn','กำลังโหลดคลังข้อสอบทั้งหมด...','<h1></h1>','stepByStepExamples','เกิดข้อผิดพลาดในการบันทึก'];_0x3b6f=function(){return _0x113ae3;};return _0x3b6f();}async function handleShortcutClick(_0x32d779){const _0x119c6c=_0x15116f,_0x27819b=blueprintShortcuts[_0x119c6c(0x22a)](_0x5433f4=>_0x5433f4['id']===_0x32d779);if(!_0x27819b||!_0x27819b[_0x119c6c(0x16c)])return;document[_0x119c6c(0x7a2)](_0x119c6c(0x2d0))['classList'][_0x119c6c(0x360)](_0x119c6c(0x106)),document['getElementById'](_0x119c6c(0x6e4))[_0x119c6c(0xc47)]=!![];const _0x2fe097=document[_0x119c6c(0x7a2)](_0x119c6c(0x88f)),_0x201d66=document['getElementById']('loader-text');document['getElementById'](_0x119c6c(0x2f6))[_0x119c6c(0x6e6)][_0x119c6c(0x367)](_0x119c6c(0x106)),document[_0x119c6c(0x7a2)](_0x119c6c(0x262))[_0x119c6c(0x322)]='',_0x2fe097[_0x119c6c(0x6e6)][_0x119c6c(0x367)](_0x119c6c(0x106));try{_0x201d66[_0x119c6c(0x930)]=_0x119c6c(0xbe8);const _0x520960=await fetchFileFromUrl(_0x27819b['blueprintUrl'],_0x119c6c(0x493));let _0x309717=null;if(_0x27819b[_0x119c6c(0x600)]){_0x201d66[_0x119c6c(0x930)]=_0x119c6c(0xa1e);const _0x2637b8=_0x27819b[_0x119c6c(0x600)][_0x119c6c(0x53c)]()[_0x119c6c(0x1e2)](_0x119c6c(0xff))?'reference.txt':_0x119c6c(0xa28);_0x309717=await fetchFileFromUrl(_0x27819b[_0x119c6c(0x600)],_0x2637b8);}await handleGenerateFromBlueprintWithFiles(_0x520960,_0x309717);}catch(_0x40956f){console['error']('Error\x20processing\x20shortcut\x20click:',_0x40956f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x40956f[_0x119c6c(0x56e)]),_0x2fe097['classList'][_0x119c6c(0x360)](_0x119c6c(0x106));}}function getDirectDownloadUrl(_0x306ea5){const _0x3e60c4=_0x15116f,_0x59d8cc=_0x306ea5['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x59d8cc&&_0x59d8cc[0x1])return _0x3e60c4(0x752)+_0x59d8cc[0x1];return _0x306ea5;}async function fetchFileFromUrl(_0x3daa40,_0x345aaa){const _0x38ec70=_0x15116f,_0x468695=getDirectDownloadUrl(_0x3daa40),_0x2df964=_0x38ec70(0x179)+encodeURIComponent(_0x468695),_0x200cd2=await fetch(_0x2df964);if(!_0x200cd2['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x200cd2[_0x38ec70(0x55a)]+')');const _0xdfa6d1=await _0x200cd2[_0x38ec70(0x6a5)](),_0x4e0ced=await new Promise((_0x4754d7,_0x48345f)=>{const _0x13f5cc=_0x38ec70,_0x395eae=new FileReader();_0x395eae[_0x13f5cc(0x6d0)]=()=>_0x4754d7(new Uint8Array(_0x395eae['result'])),_0x395eae[_0x13f5cc(0x50d)]=_0x48345f,_0x395eae['readAsArrayBuffer'](_0xdfa6d1['slice'](0x0,0x4));});let _0x388157='';const _0x493dd0=new TextDecoder()[_0x38ec70(0x9e8)](_0x4e0ced);return _0x493dd0===_0x38ec70(0x780)?(_0x388157=_0x38ec70(0x8ee),console[_0x38ec70(0x7d6)](_0x38ec70(0x61b))):(_0x388157='text/plain',console[_0x38ec70(0x7d6)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0xdfa6d1],_0x345aaa,{'type':_0x388157});}async function handleGenerateFromBlueprintWithFiles(_0x3290a0,_0x4b7470=null){const _0x21dbca=_0x15116f;if(!_0x3290a0){showMessage(_0x21dbca(0x5a2));return;}const _0x5267ae=document['getElementById'](_0x21dbca(0x88f)),_0xf6b6f3=document['getElementById'](_0x21dbca(0x91a));_0x5267ae[_0x21dbca(0x6e6)]['remove'](_0x21dbca(0x106)),document['getElementById'](_0x21dbca(0x2f6))[_0x21dbca(0x6e6)][_0x21dbca(0x367)](_0x21dbca(0x106)),document[_0x21dbca(0x7a2)](_0x21dbca(0x262))[_0x21dbca(0x322)]='';try{_0xf6b6f3[_0x21dbca(0x930)]=_0x21dbca(0x803);const _0x499951=await new Promise((_0x27b11f,_0x1216a6)=>{const _0x3f3260=_0x21dbca,_0x39e33f=new FileReader();_0x39e33f['readAsDataURL'](_0x3290a0),_0x39e33f[_0x3f3260(0xaf0)]=()=>_0x27b11f(_0x39e33f[_0x3f3260(0x1e4)][_0x3f3260(0x4a5)](',')[0x1]),_0x39e33f[_0x3f3260(0x50d)]=_0x1216a6;}),_0x43361d=[];if(_0x4b7470){_0xf6b6f3['textContent']=_0x21dbca(0x4af);const _0x503429=await _0x4b7470['text']();_0x43361d[_0x21dbca(0x8e7)]({'text':_0x21dbca(0x4ec)+_0x503429});}const _0x18f5d0=[{'text':_0x21dbca(0xb2d)},{'inlineData':{'mimeType':_0x3290a0['type'],'data':_0x499951}},..._0x43361d];await handleGenerateFromBlueprint(_0x18f5d0);}catch(_0x4554ad){console[_0x21dbca(0x13b)](_0x21dbca(0x7bc),_0x4554ad),showMessage(_0x21dbca(0x9ee)+_0x4554ad[_0x21dbca(0x56e)]),_0x5267ae[_0x21dbca(0x6e6)]['add']('hidden');}}async function handleLiveAnswer(_0x28c422,_0x57e718){const _0x4c7f4e=_0x15116f;document[_0x4c7f4e(0x17a)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x4c7f4e(0x1b7)](_0x2657da=>_0x2657da[_0x4c7f4e(0xc47)]=!![]);const _0x895d73=_0x57e718[_0x4c7f4e(0x5ac)]||currentQuizData[_0x4c7f4e(0xbe2)];let _0x32da54=![],_0x40b545=_0x28c422;if(_0x895d73===_0x4c7f4e(0xb64)){const _0x41db33=(_0x28c422||'')[_0x4c7f4e(0x42f)]();_0x32da54=await gradeShortAnswer(_0x41db33,_0x57e718);}else{if(_0x895d73===_0x4c7f4e(0x2ac))_0x32da54=_0x28c422===_0x57e718[_0x4c7f4e(0x4fa)];else{if(_0x895d73===_0x4c7f4e(0x1dd)){const _0x49f1e4=_0x57e718['correctAnswer'];_0x32da54=_0x28c422===0x0&&_0x49f1e4||_0x28c422===0x1&&!_0x49f1e4;}else{if(_0x895d73===_0x4c7f4e(0xb55)){const _0x28fef3=_0x57e718[_0x4c7f4e(0xa84)][_0x28c422];_0x32da54=_0x28fef3===_0x57e718[_0x4c7f4e(0x76c)],_0x40b545=_0x28fef3;}}}}const _0x62efce=doc(db,_0x4c7f4e(0xc14)+appId+_0x4c7f4e(0x69b),currentLiveGameId),_0x39abb1={};_0x39abb1[_0x4c7f4e(0x227)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x39abb1['players.'+currentStudentName+_0x4c7f4e(0x59a)]=_0x32da54,_0x39abb1[_0x4c7f4e(0x227)+currentStudentName+_0x4c7f4e(0x9b2)]=_0x895d73===_0x4c7f4e(0xb64)||_0x895d73===_0x4c7f4e(0xb55)?null:_0x28c422,_0x39abb1['players.'+currentStudentName+_0x4c7f4e(0xbce)]=_0x40b545,_0x39abb1[_0x4c7f4e(0x227)+currentStudentName+_0x4c7f4e(0xa13)]=serverTimestamp(),_0x39abb1['players.'+currentStudentName+_0x4c7f4e(0xb27)]=![],await updateDoc(_0x62efce,_0x39abb1),liveGameView[_0x4c7f4e(0x322)]=_0x4c7f4e(0x6da);}function showAdminSummaryView(_0x2bd628,_0x4a17b2){const _0x2520e8=_0x15116f,_0x56d889=Object[_0x2520e8(0xc27)](_0x2bd628[_0x2520e8(0x7c5)]||{}),_0x5a64b8=_0x4a17b2[_0x2520e8(0x5ac)]||currentQuizData['quizType'],_0x17ff91=_0x5a64b8===_0x2520e8(0x1dd)?[_0x2520e8(0x158),_0x2520e8(0x513)]:_0x4a17b2['options']||_0x4a17b2[_0x2520e8(0xa84)]||[],_0x12c611={},_0x29ae09=new Array(_0x17ff91[_0x2520e8(0x987)])[_0x2520e8(0x5c8)](0x0);_0x17ff91['forEach']((_0x48097f,_0x579a22)=>{_0x12c611[_0x579a22]=[];}),Object[_0x2520e8(0x73b)](_0x2bd628[_0x2520e8(0x7c5)]||{})[_0x2520e8(0x1b7)](([_0x381e7c,_0x1b1afd])=>{const _0x45944c=_0x2520e8;if(_0x1b1afd[_0x45944c(0x55a)]===_0x45944c(0x63c)&&_0x1b1afd['lastAnswerIndex']!==undefined){const _0x3dbc94=_0x1b1afd['lastAnswerIndex'];_0x12c611[_0x3dbc94]&&(_0x12c611[_0x3dbc94][_0x45944c(0x8e7)](_0x381e7c),_0x29ae09[_0x3dbc94]++);}});const _0x44da2f=Math['max'](..._0x29ae09,0x1),_0x4fc5d9=_0x2520e8(0x14d)+(_0x4a17b2['stem']||_0x4a17b2[_0x2520e8(0x187)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29ae09[_0x2520e8(0x217)]((_0x1d5dca,_0x6f4c8)=>{const _0x3c76cf=_0x2520e8,_0x2c514a=_0x12c611[_0x6f4c8][_0x3c76cf(0x987)]>0x0?_0x12c611[_0x6f4c8][_0x3c76cf(0x935)](',\x20'):_0x3c76cf(0xc3c);let _0x203e4c=![];if(_0x5a64b8===_0x3c76cf(0x2ac))_0x203e4c=_0x6f4c8===_0x4a17b2[_0x3c76cf(0x4fa)];else{if(_0x5a64b8==='true_false'){const _0x20961e=_0x4a17b2[_0x3c76cf(0x7b8)];_0x203e4c=_0x20961e&&_0x6f4c8===0x0||!_0x20961e&&_0x6f4c8===0x1;}else _0x5a64b8===_0x3c76cf(0xb55)&&(_0x203e4c=_0x17ff91[_0x6f4c8]===_0x4a17b2['correctResponse']);}const _0x4944d8=_0x203e4c?_0x3c76cf(0xbaa):_0x3c76cf(0x26d);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x1d5dca+_0x3c76cf(0x489)+_0x4944d8+_0x3c76cf(0x2dc)+_0x6f4c8+_0x3c76cf(0xac5)+_0x17ff91[_0x6f4c8]+_0x3c76cf(0xb91)+_0x6f4c8+_0x3c76cf(0x203)+_0x2c514a+_0x3c76cf(0x1b9);})[_0x2520e8(0x935)]('')+_0x2520e8(0x57c);liveGameView[_0x2520e8(0x322)]=_0x4fc5d9;if(window[_0x2520e8(0x8a8)])MathJax[_0x2520e8(0x107)]();document[_0x2520e8(0x7a2)](_0x2520e8(0x6ab))[_0x2520e8(0x6d5)](_0x2520e8(0x22c),async()=>{const _0x1906fe=_0x2520e8,_0x57cac6=doc(db,_0x1906fe(0xc14)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x57cac6,{'questionStatus':_0x1906fe(0xc28)});}),document['getElementById'](_0x2520e8(0x810))[_0x2520e8(0x6d5)](_0x2520e8(0x22c),()=>{openScratchpad(_0x4a17b2,_0x17ff91);});}function showPlayerSummaryView(_0xde29e4,_0x4a32ee){const _0x234876=_0x15116f,_0x337ca1=Object[_0x234876(0xc27)](_0xde29e4[_0x234876(0x7c5)]||{}),_0x2e62fb=_0xde29e4[_0x234876(0x7c5)][_0x4a32ee],_0x347ad1=_0x337ca1[_0x234876(0x431)](_0x5e2e1d=>_0x5e2e1d['status']===_0x234876(0x63c))[_0x234876(0x2ea)]((_0x848594,_0x587ca4)=>_0x587ca4[_0x234876(0x24f)]-_0x848594['score']),_0x44f5f3=_0x347ad1['findIndex'](_0x402a09=>_0x402a09===_0x2e62fb)+0x1,_0x4f2621=_0x2e62fb[_0x234876(0x7da)]?_0x234876(0x6f1):_0x234876(0x644),_0x127e67=_0x2e62fb[_0x234876(0x7da)]?_0x234876(0x456):'bg-red-500',_0xb6bac0=_0x2e62fb[_0x234876(0xb89)]||0x0,_0x35f84c=_0x234876(0x371),_0xed0ff2=_0x234876(0x510)+_0x35f84c+_0x234876(0x174)+_0x127e67+_0x234876(0x252)+_0x4f2621+_0x234876(0x627)+_0xb6bac0+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x44f5f3>0x0?_0x44f5f3:'-')+_0x234876(0xa11);liveGameView[_0x234876(0x322)]=_0xed0ff2;}function createQuizFromBank(){const _0x12fa25=_0x15116f,_0x395f54=document[_0x12fa25(0x17a)](_0x12fa25(0x5a8));if(_0x395f54['length']===0x0){showMessage(_0x12fa25(0x536));return;}const _0x508d0b=[];_0x395f54[_0x12fa25(0x1b7)](_0x28c6f6=>{const _0x600845=_0x12fa25;_0x508d0b[_0x600845(0x8e7)](JSON[_0x600845(0x877)](_0x28c6f6['value']));});const _0x16c4f7={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x508d0b};displayGeneratedQuiz(_0x16c4f7);}function showAdminLobbyView(_0x445ed2,_0x1e4abe){const _0x28b9d0=_0x15116f;showView(_0x28b9d0(0xa89));const _0xce3efd=_0x28b9d0(0xc12)+_0x1e4abe+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x445ed2+_0x28b9d0(0x6a0);liveGameView[_0x28b9d0(0x322)]=_0xce3efd,document['getElementById']('start-game-btn')['addEventListener']('click',async()=>{const _0xef78c9=_0x28b9d0;if(!currentQuizData||!currentQuizData[_0xef78c9(0x72a)]||currentQuizData[_0xef78c9(0x72a)]['length']===0x0){showMessage(_0xef78c9(0x306));return;}try{const _0x200ea7=doc(db,_0xef78c9(0xc14)+appId+_0xef78c9(0x69b),currentLiveGameId);await updateDoc(_0x200ea7,{'status':_0xef78c9(0x4b4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x384b8d=currentQuizData[_0xef78c9(0x72a)][0x0],_0x4e006a=currentQuizData[_0xef78c9(0x72a)]['length'];showAdminLiveQuestionView(_0x384b8d,0x0,_0x4e006a);}catch(_0x5e50c9){console['error'](_0xef78c9(0x1ee),_0x5e50c9),showMessage(_0xef78c9(0xa8f));}});}async function openQuizBankModal(){const _0x317387=_0x15116f;if(allQuizzesGlobal[_0x317387(0x987)]===0x0){const _0x5ce0c6=await getDocs(collection(db,_0x317387(0xc14)+appId+_0x317387(0x42c)));allQuizzesGlobal=_0x5ce0c6[_0x317387(0x610)][_0x317387(0x217)](_0x744ae4=>({'id':_0x744ae4['id'],..._0x744ae4['data']()}));}renderQuizBankList(''),document['getElementById'](_0x317387(0xa90))['classList']['remove'](_0x317387(0x106));}function renderQuizBankList(_0x17ebec='',_0x3194b9=![]){const _0x5354cf=_0x15116f,_0x3ffb60=document[_0x5354cf(0x7a2)](_0x5354cf(0x3ea)),_0x31fa28=_0x17ebec[_0x5354cf(0x53c)]()[_0x5354cf(0x6ad)](),_0x2f970f=allQuizzesGlobal[_0x5354cf(0x217)](_0xbfd79d=>({..._0xbfd79d,'projectName':allProjects[_0x5354cf(0x22a)](_0x42089d=>_0x42089d['id']===_0xbfd79d[_0x5354cf(0xb9b)])?.['projectName']||_0x5354cf(0xaee)}))[_0x5354cf(0x431)](_0x4becb6=>(_0x4becb6[_0x5354cf(0xc63)]||'')['toLowerCase']()[_0x5354cf(0x679)](_0x31fa28)||(_0x4becb6[_0x5354cf(0x208)]||'')[_0x5354cf(0x53c)]()[_0x5354cf(0x679)](_0x31fa28)||_0x4becb6['id'][_0x5354cf(0x42f)]()[_0x5354cf(0x679)](_0x31fa28));document[_0x5354cf(0x7a2)](_0x5354cf(0x3a4))[_0x5354cf(0x930)]='('+_0x2f970f[_0x5354cf(0x987)]+'\x20ชุด)',_0x3ffb60[_0x5354cf(0x322)]=_0x2f970f[_0x5354cf(0x987)]?_0x2f970f[_0x5354cf(0x217)](_0x3c77df=>{const _0x53c560=_0x5354cf,_0x1ea939=!_0x3194b9?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3c77df['id']+_0x53c560(0x824)+_0x3c77df['id']+_0x53c560(0x1f0)+_0x3c77df['id']+_0x53c560(0x344)+_0x3c77df['id']+_0x53c560(0x65a)+_0x3c77df['id']+_0x53c560(0x95a)+_0x3c77df['id']+_0x53c560(0x258)+_0x3c77df[_0x53c560(0xc63)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x53c560(0x2f8)+_0x3c77df['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3c77df[_0x53c560(0xc63)]||_0x53c560(0x4a0))+_0x53c560(0x6eb)+(_0x3c77df[_0x53c560(0x72a)]?.[_0x53c560(0x987)]||0x0)+_0x53c560(0x164)+_0x3c77df[_0x53c560(0x208)]+_0x53c560(0x161)+_0x3c77df['id']+_0x53c560(0x854)+_0x1ea939+_0x53c560(0x1cb);})[_0x5354cf(0x935)](''):_0x5354cf(0x584),!_0x3194b9&&(_0x3ffb60[_0x5354cf(0x17a)](_0x5354cf(0x56f))[_0x5354cf(0x1b7)](_0x567a8b=>{const _0x19f8f8=_0x5354cf;_0x567a8b[_0x19f8f8(0x6d5)]('click',()=>{const _0x1c72db=_0x19f8f8,_0x3870fc=_0x567a8b['dataset']['id'];document[_0x1c72db(0x7a2)]('quiz-bank-modal')[_0x1c72db(0x6e6)][_0x1c72db(0x360)](_0x1c72db(0x106)),showQuizDetailView(_0x3870fc);});}),_0x3ffb60['querySelectorAll'](_0x5354cf(0x956))[_0x5354cf(0x1b7)](_0x3f6833=>{const _0x5147cd=_0x5354cf;_0x3f6833[_0x5147cd(0x6d5)](_0x5147cd(0x22c),_0x2b27fe=>{const _0x995238=_0x5147cd;_0x2b27fe['stopPropagation']();const _0x12f10c=_0x3f6833[_0x995238(0xb1e)]['id'],_0x266757=allQuizzesGlobal[_0x995238(0x22a)](_0x40fbe8=>_0x40fbe8['id']===_0x12f10c);_0x266757?(currentQuizData=_0x266757,document[_0x995238(0x7a2)](_0x995238(0xa90))[_0x995238(0x6e6)][_0x995238(0x360)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3ffb60['querySelectorAll'](_0x5354cf(0xa36))['forEach'](_0x4f86b1=>{const _0x136e63=_0x5354cf;_0x4f86b1[_0x136e63(0x6d5)](_0x136e63(0x22c),_0x13e5be=>{const _0x236b5b=_0x136e63;_0x13e5be[_0x236b5b(0x92f)]();const _0x3e2777=_0x4f86b1['dataset']['id'],_0xe20cab=allQuizzesGlobal[_0x236b5b(0x22a)](_0x343de3=>_0x343de3['id']===_0x3e2777);_0xe20cab?(document[_0x236b5b(0x7a2)]('quiz-bank-modal')[_0x236b5b(0x6e6)][_0x236b5b(0x360)](_0x236b5b(0x106)),handleGenerateParallelFromBank(_0xe20cab)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3ffb60[_0x5354cf(0x17a)](_0x5354cf(0xb3e))[_0x5354cf(0x1b7)](_0x31ccc3=>{const _0x342ff4=_0x5354cf;_0x31ccc3[_0x342ff4(0x6d5)](_0x342ff4(0x22c),_0x28bfcb=>{const _0x422780=_0x342ff4;_0x28bfcb[_0x422780(0x92f)]();const _0x5514d5=_0x31ccc3[_0x422780(0xb1e)]['id'],_0x19be44=allQuizzesGlobal['find'](_0x4fce4c=>_0x4fce4c['id']===_0x5514d5);_0x19be44?(document[_0x422780(0x7a2)](_0x422780(0xa90))[_0x422780(0x6e6)][_0x422780(0x360)](_0x422780(0x106)),startPresentation(_0x19be44)):showMessage(_0x422780(0xc0a));});}),_0x3ffb60['querySelectorAll']('.quiz-bank-move-btn')[_0x5354cf(0x1b7)](_0x29dc4d=>{const _0xfa5017=_0x5354cf;_0x29dc4d[_0xfa5017(0x6d5)](_0xfa5017(0x22c),_0x420910=>{const _0x2de931=_0xfa5017;_0x420910[_0x2de931(0x92f)]();const _0x6e9fe=_0x29dc4d['dataset']['id'];document[_0x2de931(0x7a2)](_0x2de931(0xa90))[_0x2de931(0x6e6)][_0x2de931(0x360)](_0x2de931(0x106)),handleMoveQuiz(_0x6e9fe);});}),_0x3ffb60['querySelectorAll'](_0x5354cf(0x9a5))[_0x5354cf(0x1b7)](_0x1e7efb=>{const _0x2f82db=_0x5354cf;_0x1e7efb[_0x2f82db(0x6d5)](_0x2f82db(0x22c),_0x112531=>{const _0x23c5ce=_0x2f82db;_0x112531['stopPropagation']();const _0x4e115a=_0x1e7efb[_0x23c5ce(0xb1e)]['id'];document[_0x23c5ce(0x7a2)](_0x23c5ce(0xa90))[_0x23c5ce(0x6e6)][_0x23c5ce(0x360)](_0x23c5ce(0x106)),handleQuizSettings(_0x4e115a);});}),_0x3ffb60['querySelectorAll']('.quiz-bank-delete-btn')[_0x5354cf(0x1b7)](_0x3314c0=>{const _0x21a155=_0x5354cf;_0x3314c0[_0x21a155(0x6d5)](_0x21a155(0x22c),_0x11c568=>{const _0x1a7821=_0x21a155;_0x11c568[_0x1a7821(0x92f)]();const _0x4b5d28=_0x3314c0[_0x1a7821(0xb1e)]['id'],_0x35fbb1=_0x3314c0[_0x1a7821(0xb1e)][_0x1a7821(0xc63)];showConfirmation(_0x1a7821(0x10b)+_0x35fbb1+_0x1a7821(0x9e5),()=>handleDeleteQuiz(_0x4b5d28));});}));}async function handleCompareResults(_0x1ff5d5,_0x3b98c7){const _0x9fd6d0=_0x15116f,_0x3217f7=document[_0x9fd6d0(0x7a2)]('comparison-modal'),_0x4814c4=document[_0x9fd6d0(0x7a2)](_0x9fd6d0(0x429)),_0x95c535=document[_0x9fd6d0(0x7a2)]('comparison-individual-content');document['getElementById'](_0x9fd6d0(0xad5))[_0x9fd6d0(0x6e6)]['add'](_0x9fd6d0(0x63c)),document[_0x9fd6d0(0x7a2)]('comparison-individual-tab')[_0x9fd6d0(0x6e6)][_0x9fd6d0(0x367)](_0x9fd6d0(0x63c)),_0x4814c4['classList'][_0x9fd6d0(0x367)](_0x9fd6d0(0x106)),_0x95c535['classList']['add'](_0x9fd6d0(0x106)),_0x4814c4['innerHTML']=_0x9fd6d0(0x9b9),_0x95c535['innerHTML']='',_0x3217f7['classList'][_0x9fd6d0(0x367)](_0x9fd6d0(0x106));try{const _0x207d88=doc(db,_0x9fd6d0(0xc14)+appId+'/public/data/quizzes',_0x1ff5d5),_0x5e3b82=await getDoc(_0x207d88);if(!_0x5e3b82[_0x9fd6d0(0xfc)]())throw new Error(_0x9fd6d0(0x403));const _0x47173c=_0x5e3b82[_0x9fd6d0(0xc6b)](),_0x403e5b=_0x47173c[_0x9fd6d0(0x72a)][_0x9fd6d0(0x987)],_0x3438c7=collection(db,_0x9fd6d0(0xc14)+appId+_0x9fd6d0(0x6b0)+_0x3b98c7+_0x9fd6d0(0x68c)),_0x4e022b=collection(db,'artifacts/'+appId+_0x9fd6d0(0x6b0)+_0x1ff5d5+_0x9fd6d0(0x68c)),[_0x55f7e5,_0x5e6b1b]=await Promise[_0x9fd6d0(0x458)]([getDocs(_0x3438c7),getDocs(_0x4e022b)]),_0x126afb=_0x55f7e5[_0x9fd6d0(0x610)]['map'](_0xe283d9=>_0xe283d9[_0x9fd6d0(0xc6b)]()),_0x2d3817=_0x5e6b1b[_0x9fd6d0(0x610)][_0x9fd6d0(0x217)](_0x524a71=>_0x524a71[_0x9fd6d0(0xc6b)]()),_0x59a1de=_0x126afb[_0x9fd6d0(0x217)](_0x5e2f1a=>_0x5e2f1a[_0x9fd6d0(0x801)]),_0x448e67=_0x2d3817[_0x9fd6d0(0x217)](_0x15cbaf=>_0x15cbaf['latestScore']),_0x359a25=calculateMeanAndStdDev(_0x59a1de),_0x2bfe13=calculateMeanAndStdDev(_0x448e67),_0x473f98=_0x359a25['mean'],_0x44c372=_0x2bfe13[_0x9fd6d0(0xc06)],_0x2a7515=_0x44c372-_0x473f98;let _0x571987=_0x9fd6d0(0x9ed)+_0x473f98['toFixed'](0x2)+_0x9fd6d0(0x4d9)+_0x44c372['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x2a7515>=0x0?'bg-emerald-100':_0x9fd6d0(0x5c9))+_0x9fd6d0(0x721)+(_0x2a7515>=0x0?_0x9fd6d0(0x8ff):_0x9fd6d0(0x1dc))+_0x9fd6d0(0x425)+(_0x2a7515>=0x0?_0x9fd6d0(0x295):_0x9fd6d0(0x557))+'\x22>'+(_0x2a7515>=0x0?'+':'')+_0x2a7515[_0x9fd6d0(0xab4)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x4814c4[_0x9fd6d0(0x322)]=_0x571987;const _0x1ef52f=document['getElementById'](_0x9fd6d0(0x960))[_0x9fd6d0(0xfb)]('2d');if(chartInstances[_0x9fd6d0(0x5f8)])chartInstances[_0x9fd6d0(0x5f8)]['destroy']();chartInstances['comparison']=new Chart(_0x1ef52f,{'type':_0x9fd6d0(0x433),'data':{'labels':[_0x9fd6d0(0x8b7)],'datasets':[{'label':_0x9fd6d0(0x481),'data':[_0x473f98],'backgroundColor':_0x9fd6d0(0x4a1)},{'label':_0x9fd6d0(0x842),'data':[_0x44c372],'backgroundColor':_0x9fd6d0(0x89d)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x403e5b}}}});const _0x88f805=currentProjectData[_0x9fd6d0(0x8ad)]||[],_0x103ced=_0x88f805[_0x9fd6d0(0x217)](_0x29dd50=>{const _0x1a9648=_0x9fd6d0,_0x4d3ff0=_0x126afb[_0x1a9648(0x22a)](_0xe0d841=>_0xe0d841[_0x1a9648(0xb82)]===_0x29dd50),_0xca01fa=_0x2d3817[_0x1a9648(0x22a)](_0x393a4a=>_0x393a4a[_0x1a9648(0xb82)]===_0x29dd50),_0x59a275=_0x4d3ff0?_0x4d3ff0['latestScore']:null,_0x254303=_0xca01fa?_0xca01fa[_0x1a9648(0x801)]:null,_0x1a2ee9=_0x59a275!==null&&_0x254303!==null?_0x254303-_0x59a275:null,_0x42d303=_0x59a275!==null?calculateZScore(_0x59a275,_0x359a25[_0x1a9648(0xc06)],_0x359a25[_0x1a9648(0x201)]):null,_0xa40ac9=_0x254303!==null?calculateZScore(_0x254303,_0x2bfe13[_0x1a9648(0xc06)],_0x2bfe13[_0x1a9648(0x201)]):null,_0x58d9d5=_0x42d303!==null?calculateTScore(_0x42d303):null,_0xea3083=_0xa40ac9!==null?calculateTScore(_0xa40ac9):null,_0x50d31a=_0x58d9d5!==null&&_0xea3083!==null?_0xea3083-_0x58d9d5:null;return{'name':_0x29dd50,'preScore':_0x59a275,'postScore':_0x254303,'gain':_0x1a2ee9,'preTScore':_0x58d9d5,'postTScore':_0xea3083,'tGain':_0x50d31a};});renderIndividualComparisonTable(_0x103ced,_0x95c535);}catch(_0x186e44){console['error'](_0x9fd6d0(0x13e),_0x186e44),_0x4814c4[_0x9fd6d0(0x322)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x1ee6ad=_0x15116f;if(!extractedBlueprintData||!extractedBlueprintData[_0x1ee6ad(0x5b7)]){showMessage(_0x1ee6ad(0x989));return;}const _0x116da4=prompt(_0x1ee6ad(0xaac),_0x1ee6ad(0x213));if(!_0x116da4||_0x116da4[_0x1ee6ad(0x6ad)]()==='')return;const _0x126559={};extractedBlueprintData[_0x1ee6ad(0x5b7)][_0x1ee6ad(0x1b7)](_0x3eb806=>{const _0x52bd80=_0x1ee6ad;_0x3eb806[_0x52bd80(0x9cc)][_0x52bd80(0x1b7)](_0x19ec18=>{const _0x19e232=_0x52bd80;_0x19ec18[_0x19e232(0xa7c)]['forEach'](_0xde65ec=>{const _0x219b42=_0x19e232,_0x481479=_0x219b42(0x468)+Date[_0x219b42(0xb20)]()+Math['random']()[_0x219b42(0x42f)](0x24)[_0x219b42(0x6c3)](0x2,0x9);_0x126559[_0x481479]={'sara':_0x3eb806[_0x219b42(0x279)],'mainTopic':_0x19ec18[_0x219b42(0xab6)],'subTopic':_0xde65ec,'status':_0x219b42(0x4cf),'lessonContent':null};});});});try{const _0x4a7be6=collection(db,_0x1ee6ad(0xc14)+appId+_0x1ee6ad(0x41d));await addDoc(_0x4a7be6,{'projectName':_0x116da4[_0x1ee6ad(0x6ad)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x126559,'createdAt':serverTimestamp()}),showMessage(_0x1ee6ad(0x8fc)+_0x116da4[_0x1ee6ad(0x6ad)]()+'\x22\x20สำเร็จ!'),document['getElementById'](_0x1ee6ad(0x6f8))['classList']['add']('hidden');}catch(_0x469aab){console[_0x1ee6ad(0x13b)](_0x1ee6ad(0x945),_0x469aab),showMessage(_0x1ee6ad(0x6f2));}}async function showBlueprintProjects(){const _0x4d7c66=_0x15116f,_0x371b10=document[_0x4d7c66(0x7a2)]('blueprint-projects-modal'),_0x5c65a9=document['getElementById'](_0x4d7c66(0x8f0));_0x5c65a9[_0x4d7c66(0x322)]=_0x4d7c66(0x622),_0x371b10[_0x4d7c66(0x6e6)]['remove'](_0x4d7c66(0x106));try{const _0x30192d=collection(db,_0x4d7c66(0xc14)+appId+_0x4d7c66(0x41d)),_0x29ad8b=await getDocs(_0x30192d);if(_0x29ad8b['empty']){_0x5c65a9['innerHTML']=_0x4d7c66(0x406);return;}const _0x16b58e=_0x29ad8b[_0x4d7c66(0x610)]['map'](_0xeed420=>({'id':_0xeed420['id'],..._0xeed420[_0x4d7c66(0xc6b)]()}));_0x16b58e['sort']((_0x19478e,_0x25d527)=>_0x19478e[_0x4d7c66(0x208)][_0x4d7c66(0xb43)](_0x25d527[_0x4d7c66(0x208)],'th')),_0x5c65a9[_0x4d7c66(0x322)]=_0x16b58e[_0x4d7c66(0x217)](_0x392fd3=>_0x4d7c66(0x33a)+_0x392fd3[_0x4d7c66(0x208)]+_0x4d7c66(0x232)+_0x392fd3['gradeLevel']+_0x4d7c66(0x7f9)+Object[_0x4d7c66(0x377)](_0x392fd3[_0x4d7c66(0x9d1)])[_0x4d7c66(0x987)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x392fd3['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x392fd3['id']+_0x4d7c66(0x1ed))[_0x4d7c66(0x935)]('');}catch(_0x4242bf){console[_0x4d7c66(0x13b)]('Error\x20loading\x20blueprint\x20projects:',_0x4242bf),_0x5c65a9[_0x4d7c66(0x322)]=_0x4d7c66(0xa5b);}}async function displayBlueprintProjectManager(_0x130682){const _0x512845=_0x15116f;currentBlueprintProjectId=_0x130682,document[_0x512845(0x7a2)]('blueprint-projects-modal')[_0x512845(0x6e6)][_0x512845(0x360)](_0x512845(0x106)),showView('admin-dashboard'),projectDashboardView[_0x512845(0x6e6)]['add'](_0x512845(0x106));const _0xa1942a=document[_0x512845(0x7a2)]('blueprint-project-manager-view');_0xa1942a[_0x512845(0x6e6)][_0x512845(0x367)]('hidden'),document[_0x512845(0x7a2)]('bp-topic-list-container')[_0x512845(0x322)]=_0x512845(0x9b9);try{const _0x3b4218=doc(db,_0x512845(0xc14)+appId+_0x512845(0x41d),_0x130682),_0x5eed19=await getDoc(_0x3b4218);if(!_0x5eed19[_0x512845(0xfc)]())throw new Error(_0x512845(0x4d8));const _0x3352bf={'id':_0x5eed19['id'],..._0x5eed19[_0x512845(0xc6b)]()};document['getElementById']('bp-project-title')[_0x512845(0x930)]=_0x3352bf[_0x512845(0x208)],renderBlueprintTopicManager(_0x3352bf);}catch(_0x3e6dcb){console[_0x512845(0x13b)]('Error\x20displaying\x20blueprint\x20project:',_0x3e6dcb),showMessage(_0x3e6dcb[_0x512845(0x56e)]),showView(_0x512845(0xc46));}}function renderBlueprintTopicManager(_0x503a59){const _0x334cea=_0x15116f,_0x2394bf=document[_0x334cea(0x7a2)](_0x334cea(0xaf4)),_0x2fa1de=_0x503a59[_0x334cea(0x9d1)]||{};if(Object[_0x334cea(0x377)](_0x2fa1de)[_0x334cea(0x987)]===0x0){_0x2394bf['innerHTML']=_0x334cea(0x853);return;}const _0x3b21fe={};for(const _0x207fef in _0x2fa1de){const _0x5c7887={'id':_0x207fef,..._0x2fa1de[_0x207fef]};_0x3b21fe[_0x5c7887[_0x334cea(0x279)]]=_0x3b21fe[_0x5c7887['sara']]||{},_0x3b21fe[_0x5c7887[_0x334cea(0x279)]][_0x5c7887[_0x334cea(0x973)]]=_0x3b21fe[_0x5c7887[_0x334cea(0x279)]][_0x5c7887['mainTopic']]||[],_0x3b21fe[_0x5c7887[_0x334cea(0x279)]][_0x5c7887[_0x334cea(0x973)]][_0x334cea(0x8e7)](_0x5c7887);}let _0x639c0d='';const _0x25d58c=Object[_0x334cea(0x377)](_0x3b21fe)['sort']((_0x5c3820,_0x2e70eb)=>_0x5c3820[_0x334cea(0xb43)](_0x2e70eb,'th'));for(const _0x5dcdd9 of _0x25d58c){_0x639c0d+=_0x334cea(0x2bd)+_0x5dcdd9+_0x334cea(0x409);const _0xc31c4d=Object['keys'](_0x3b21fe[_0x5dcdd9])[_0x334cea(0x2ea)]((_0x316fb0,_0x2da193)=>_0x316fb0[_0x334cea(0xb43)](_0x2da193,'th'));for(const _0x190ac0 of _0xc31c4d){_0x639c0d+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x190ac0+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x3b21fe[_0x5dcdd9][_0x190ac0]['sort']((_0x40b2c4,_0x192bcd)=>_0x40b2c4[_0x334cea(0x568)][_0x334cea(0xb43)](_0x192bcd[_0x334cea(0x568)],'th')),_0x3b21fe[_0x5dcdd9][_0x190ac0]['forEach'](_0x244fdf=>{const _0x178759=_0x334cea,_0x12efc2=_0x244fdf['id'],_0x2ffecf=_0x244fdf[_0x178759(0x97c)]||[],_0x193a12=_0x2ffecf['length']>0x0,_0x4a3387=_0x244fdf[_0x178759(0x55a)]===_0x178759(0x533);let _0x21facc='';_0x193a12?_0x21facc='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x2ffecf[_0x178759(0x987)]+_0x178759(0x912):_0x21facc='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x4a3387?'bg-green-200\x20text-green-800':'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x4a3387?'สร้างแล้ว':_0x178759(0xade))+'</span>';const _0x1c5a9a=!_0x4a3387?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x3a8e52=!_0x4a3387?'กรุณาสร้างบทเรียนก่อน':'';let _0x3566ae=_0x4a3387?_0x178759(0xab9):_0x178759(0xa35);_0x639c0d+=_0x178759(0x133)+_0x12efc2+_0x178759(0x793)+_0x244fdf[_0x178759(0x568)]+_0x178759(0x199)+_0x21facc+_0x178759(0x280)+_0x1c5a9a+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x3a8e52+_0x178759(0x639)+_0x3566ae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x639c0d+=_0x334cea(0xa05);}_0x639c0d+=_0x334cea(0x5ae);}_0x2394bf[_0x334cea(0x322)]=_0x639c0d;}async function openTopicQuizBank(_0x48332c){const _0xd9a55c=_0x15116f,_0x8f8826=document['getElementById'](_0xd9a55c(0x7d5)),_0x6206b8=document[_0xd9a55c(0x7a2)]('topic-bank-list'),_0x29a4aa=document['getElementById'](_0xd9a55c(0x51c));try{await ensureGlobalQuizzesLoaded();const _0xb6b73c=doc(db,_0xd9a55c(0xc14)+appId+_0xd9a55c(0x41d),currentBlueprintProjectId),_0x3ad7f9=await getDoc(_0xb6b73c);if(!_0x3ad7f9[_0xd9a55c(0xfc)]())return;const _0x43eaa8=_0x3ad7f9[_0xd9a55c(0xc6b)](),_0x368afd=_0x43eaa8['topics'][_0x48332c];document['getElementById']('topic-bank-subtopic-name')[_0xd9a55c(0x930)]=_0x368afd[_0xd9a55c(0x568)];const _0x9815a3=_0x368afd[_0xd9a55c(0x97c)]||[];_0x29a4aa[_0xd9a55c(0x6e6)][_0xd9a55c(0xb38)](_0xd9a55c(0x106),_0x9815a3['length']===0x0),_0x29a4aa[_0xd9a55c(0x695)]=()=>handleClearAllLinksForTopic(_0x48332c);if(_0x9815a3[_0xd9a55c(0x987)]===0x0)_0x6206b8['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x3d66d9=allQuizzesGlobal['filter'](_0x5ce534=>_0x9815a3[_0xd9a55c(0x679)](_0x5ce534['id']));_0x6206b8[_0xd9a55c(0x322)]=_0x3d66d9[_0xd9a55c(0x217)](_0x1bc559=>_0xd9a55c(0x66a)+_0x1bc559['id']+_0xd9a55c(0xb88)+_0x1bc559['topic']+_0xd9a55c(0x933)+_0x1bc559['id']+_0xd9a55c(0x7f9)+_0x1bc559[_0xd9a55c(0x72a)][_0xd9a55c(0x987)]+_0xd9a55c(0x823)+_0x1bc559['id']+_0xd9a55c(0x638)+_0x1bc559['id']+_0xd9a55c(0x9ce)+_0x1bc559['id']+_0xd9a55c(0xb22)+_0x1bc559['id']+_0xd9a55c(0x32d)+_0x1bc559['id']+_0xd9a55c(0x6dc)+_0x1bc559['id']+_0xd9a55c(0x48a)+_0x48332c+'\x22\x20data-quiz-id=\x22'+_0x1bc559['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xd9a55c(0x935)]('');}document['getElementById'](_0xd9a55c(0x157))[_0xd9a55c(0x695)]=()=>{openQuizSelectorForBlueprint(_0x48332c);},document['getElementById'](_0xd9a55c(0xbc2))[_0xd9a55c(0x695)]=()=>_0x8f8826[_0xd9a55c(0x6e6)][_0xd9a55c(0x360)]('hidden'),_0x8f8826[_0xd9a55c(0x6e6)][_0xd9a55c(0x367)](_0xd9a55c(0x106));}catch(_0x4f8346){showMessage(_0x4f8346[_0xd9a55c(0x56e)]);}}async function openQuizSelectorForBlueprint(_0x170f50){const _0x90e150=_0x15116f,_0x588dbc=document[_0x90e150(0x7a2)](_0x90e150(0xa90)),_0x120c31=document[_0x90e150(0x7a2)]('topic-quiz-bank-modal');_0x120c31['classList']['add'](_0x90e150(0x106)),document['getElementById'](_0x90e150(0x236))?.['remove']();const _0x3cee24=document[_0x90e150(0x870)]('button');_0x3cee24['id']=_0x90e150(0x236),_0x3cee24[_0x90e150(0x6fb)]=_0x90e150(0x169),_0x3cee24[_0x90e150(0x930)]='เพิ่มรายการที่เลือก',_0x3cee24[_0x90e150(0xc47)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x588dbc[_0x90e150(0x6e6)][_0x90e150(0x367)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0x90e150(0x7a2)](_0x90e150(0x69e))[_0x90e150(0x1af)]['display']=_0x90e150(0x799),_0x588dbc['querySelector'](_0x90e150(0x3ef))[_0x90e150(0xc10)](_0x3cee24);const _0x35277e=(_0x1eaeb9=![])=>{const _0x438354=_0x90e150;_0x588dbc[_0x438354(0x6e6)]['add'](_0x438354(0x106)),document[_0x438354(0x7a2)](_0x438354(0x69e))[_0x438354(0x1af)][_0x438354(0xbdc)]=_0x438354(0x963),_0x3cee24[_0x438354(0x367)](),_0x1eaeb9&&openTopicQuizBank(_0x170f50);};_0x3cee24[_0x90e150(0x695)]=async()=>{const _0x2e13e5=_0x90e150,_0x2ae3d4=Array['from'](document[_0x2e13e5(0x17a)](_0x2e13e5(0x9ff)))[_0x2e13e5(0x217)](_0x3f2609=>_0x3f2609[_0x2e13e5(0x682)]);if(_0x2ae3d4[_0x2e13e5(0x987)]===0x0)return;try{const _0xcc8d60=doc(db,_0x2e13e5(0xc14)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1b0d73=(await getDoc(_0xcc8d60))['data'](),_0x44c959=_0x1b0d73['topics'][_0x170f50][_0x2e13e5(0x97c)]||[],_0x356cd3=[...new Set([..._0x44c959,..._0x2ae3d4])];await updateDoc(_0xcc8d60,{[_0x2e13e5(0x6d3)+_0x170f50+_0x2e13e5(0xa04)]:_0x356cd3}),showMessage(_0x2e13e5(0xafd)+_0x2ae3d4[_0x2e13e5(0x987)]+_0x2e13e5(0x492)),_0x35277e(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x55f9d1){console['error'](_0x2e13e5(0x343),_0x55f9d1);}},document['getElementById'](_0x90e150(0x70b))[_0x90e150(0x695)]=()=>_0x35277e(!![]);}catch(_0x397d1e){showMessage(_0x397d1e[_0x90e150(0x56e)]),_0x120c31[_0x90e150(0x6e6)][_0x90e150(0x367)](_0x90e150(0x106));}}function handleClearLinkedQuiz(_0xc250e){const _0x345967=_0x15116f;showConfirmation(_0x345967(0x7a8),async()=>{const _0x4df364=_0x345967;try{const _0x1bbe2e=doc(db,_0x4df364(0xc14)+appId+_0x4df364(0x41d),currentBlueprintProjectId);await updateDoc(_0x1bbe2e,{[_0x4df364(0x6d3)+_0xc250e+_0x4df364(0x3b1)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d7c03){console[_0x4df364(0x13b)](_0x4df364(0x724),_0x2d7c03),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0xc6c16e=_0x15116f,_0x332518=prompt(_0xc6c16e(0x571));if(!_0x332518||_0x332518[_0xc6c16e(0x6ad)]()==='')return;const _0x3c014f=prompt('อยู่ในสาระการเรียนรู้ใด:','สาระที่\x201'),_0x3ab6e5=prompt(_0xc6c16e(0x469),_0xc6c16e(0xc52)),_0x473070='topic_'+Date[_0xc6c16e(0xb20)]()+Math[_0xc6c16e(0xaeb)]()[_0xc6c16e(0x42f)](0x24)[_0xc6c16e(0x6c3)](0x2,0x9),_0x3ce817={'sara':_0x3c014f,'mainTopic':_0x3ab6e5,'subTopic':_0x332518[_0xc6c16e(0x6ad)](),'status':_0xc6c16e(0x4cf),'lessonContent':null};try{const _0x41bb73=doc(db,_0xc6c16e(0xc14)+appId+_0xc6c16e(0x41d),currentBlueprintProjectId);await updateDoc(_0x41bb73,{[_0xc6c16e(0x6d3)+_0x473070]:_0x3ce817}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1f3d84){console['error'](_0xc6c16e(0x2de),_0x1f3d84),showMessage(_0xc6c16e(0x18a));}}async function editTopicInProject(_0xa7ede1){const _0x4daf63=_0x15116f,_0x4e4b0d=document[_0x4daf63(0xba0)]('[data-topic-id=\x22'+_0xa7ede1+'\x22]'),_0x56dfee=_0x4e4b0d[_0x4daf63(0xba0)](_0x4daf63(0x2d7)),_0x21b9d7=_0x56dfee['textContent'],_0x3c6ffc=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x21b9d7);if(!_0x3c6ffc||_0x3c6ffc[_0x4daf63(0x6ad)]()===''||_0x3c6ffc[_0x4daf63(0x6ad)]()===_0x21b9d7)return;try{const _0x3307e6=doc(db,_0x4daf63(0xc14)+appId+_0x4daf63(0x41d),currentBlueprintProjectId);await updateDoc(_0x3307e6,{[_0x4daf63(0x6d3)+_0xa7ede1+_0x4daf63(0x74f)]:_0x3c6ffc['trim']()}),_0x56dfee[_0x4daf63(0x930)]=_0x3c6ffc[_0x4daf63(0x6ad)](),showMessage(_0x4daf63(0x5b5));}catch(_0x585b12){console['error']('Error\x20editing\x20topic:',_0x585b12),showMessage(_0x4daf63(0x122));}}async function deleteTopicFromProject(_0x174da3){const _0x1ec969=_0x15116f;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0xc0882d=doc(db,_0x1ec969(0xc14)+appId+_0x1ec969(0x41d),currentBlueprintProjectId);await updateDoc(_0xc0882d,{[_0x1ec969(0x6d3)+_0x174da3]:deleteField()}),document['querySelector']('[data-topic-id=\x22'+_0x174da3+'\x22]')[_0x1ec969(0x367)](),showMessage(_0x1ec969(0x983));}catch(_0x1bbf1b){console[_0x1ec969(0x13b)](_0x1ec969(0x3f5),_0x1bbf1b),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x54ed7a,_0x4d2265,_0x113d68){handleGenerateAndShowLesson(_0x4d2265,_0x113d68);const _0x236e7d=setInterval(async()=>{const _0x1251fb=_0x1996,_0x576ecf=document[_0x1251fb(0x7a2)]('lesson-view-modal'),_0x4a2c66=_0x576ecf[_0x1251fb(0x6e6)][_0x1251fb(0x7f1)](_0x1251fb(0x106));if(_0x4a2c66){clearInterval(_0x236e7d);if(currentApplicationData&&currentApplicationData[_0x1251fb(0x987)]>0x0){const _0x10bf24={'point':document[_0x1251fb(0x7a2)](_0x1251fb(0x5d4))[_0x1251fb(0x322)],'memory':document[_0x1251fb(0x7a2)]('memoryContent')[_0x1251fb(0x322)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById']('summaryContent')['innerHTML']};try{const _0x23fb61=doc(db,_0x1251fb(0xc14)+appId+_0x1251fb(0x41d),currentBlueprintProjectId),_0x58f723=doc(db,_0x1251fb(0xc14)+appId+_0x1251fb(0xc5d)+currentBlueprintProjectId+_0x1251fb(0x14b),_0x54ed7a),_0x3f502b=writeBatch(db);_0x3f502b[_0x1251fb(0x145)](_0x58f723,{'content':_0x10bf24}),_0x3f502b[_0x1251fb(0x296)](_0x23fb61,{[_0x1251fb(0x6d3)+_0x54ed7a+_0x1251fb(0x9a3)]:_0x1251fb(0x533)}),await _0x3f502b[_0x1251fb(0x18c)](),console[_0x1251fb(0x7d6)](_0x1251fb(0x3da)+_0x54ed7a+_0x1251fb(0x30b)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x551e08){console[_0x1251fb(0x13b)](_0x1251fb(0x1bf),_0x551e08);}}}},0x3e8);}function displayHalfMarkResult(_0x91f9e4,_0xeb67d){const _0x1673f3=_0x15116f,_0x5d8eb5=_0x91f9e4>=_0xeb67d/0x2,_0x4d4b91=_0x5d8eb5?_0x1673f3(0x2a3):_0x1673f3(0x5c9),_0x400e4b=_0x5d8eb5?_0x1673f3(0x1d8):_0x1673f3(0x264),_0x47f748=_0x5d8eb5?_0x1673f3(0x8bd):_0x1673f3(0x1dc),_0x4be5e0=_0x5d8eb5?_0x1673f3(0x7bf):_0x1673f3(0x9b8),_0x3cf7b5=_0x5d8eb5?_0x1673f3(0x3f2):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x5e2c14=_0x1673f3(0x1a5)+_0x4d4b91+_0x1673f3(0x77d)+_0x400e4b+_0x1673f3(0x6f4)+_0x47f748+_0x1673f3(0x1ae)+_0x4be5e0+_0x1673f3(0x160)+_0x3cf7b5+_0x1673f3(0x45c);studentResultArea[_0x1673f3(0x322)]=_0x5e2c14,studentResultArea[_0x1673f3(0x6e6)][_0x1673f3(0x367)]('hidden'),studentQuizArea[_0x1673f3(0x6e6)][_0x1673f3(0x360)](_0x1673f3(0x106)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5d8eb5});}function displayPerfectScoreResult(_0x1cbd9c,_0x289734){const _0x572ae6=_0x15116f,_0x364d86=_0x1cbd9c===_0x289734,_0x2b897f=_0x364d86?_0x572ae6(0x414):_0x572ae6(0x394),_0x65723=_0x364d86?_0x572ae6(0xb10):_0x572ae6(0xa21),_0x23f325=_0x364d86?_0x572ae6(0xa93):_0x572ae6(0x8c2),_0x396314=_0x364d86?_0x572ae6(0x32b):_0x572ae6(0x605),_0x43b597=_0x364d86?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x572ae6(0x8ed);let _0x36962d=_0x572ae6(0x1a5)+_0x2b897f+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x65723+_0x572ae6(0x6f4)+_0x23f325+_0x572ae6(0x1ae)+_0x396314+_0x572ae6(0x160)+_0x43b597+_0x572ae6(0x45c);studentResultArea[_0x572ae6(0x322)]=_0x36962d,studentResultArea[_0x572ae6(0x6e6)][_0x572ae6(0x367)]('hidden'),studentQuizArea['classList'][_0x572ae6(0x360)](_0x572ae6(0x106)),setupResultScreenBackButton({'showRankings':![],'score':_0x1cbd9c,'totalQuestions':_0x289734});}function renderIndividualComparisonTable(_0xc19111,_0x678cb8){const _0x5e0b2f=_0x15116f;_0xc19111[_0x5e0b2f(0x2ea)]((_0x2212c8,_0x1efbc3)=>(_0x1efbc3[_0x5e0b2f(0x29a)]??-Infinity)-(_0x2212c8[_0x5e0b2f(0x29a)]??-Infinity));let _0x4ccbba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xc19111[_0x5e0b2f(0x987)]===0x0?_0x4ccbba+=_0x5e0b2f(0x69f):_0xc19111[_0x5e0b2f(0x1b7)]((_0x312703,_0x3083c5)=>{const _0x2e55ec=_0x5e0b2f;let _0x2de831='-',_0x1e7d22='';if(_0x312703[_0x2e55ec(0x908)]!==null){const _0x1e08e4=_0x312703[_0x2e55ec(0x908)]>0x0?_0x2e55ec(0x1f8):_0x312703[_0x2e55ec(0x908)]<0x0?_0x2e55ec(0xc0e):'text-gray-500',_0x500862=_0x312703[_0x2e55ec(0x908)]>0x0?'+':'';_0x2de831='<span\x20class=\x22font-bold\x20'+_0x1e08e4+'\x22>'+_0x500862+_0x312703[_0x2e55ec(0x908)]+'</span>';if(_0x312703[_0x2e55ec(0x908)]>0x0)_0x1e7d22=_0x2e55ec(0x897);else _0x312703['gain']<0x0?_0x1e7d22=_0x2e55ec(0x4b7):_0x1e7d22=_0x2e55ec(0xa40);}let _0x4834a9='-';if(_0x312703[_0x2e55ec(0x29a)]!==null){const _0x30d99a=_0x312703[_0x2e55ec(0x29a)]>0x0?'text-green-600':_0x312703[_0x2e55ec(0x29a)]<0x0?'text-red-600':'text-gray-500',_0x37f8fa=_0x312703[_0x2e55ec(0x29a)]>0x0?'+':'';_0x4834a9='<span\x20class=\x22font-bold\x20'+_0x30d99a+'\x22>'+_0x37f8fa+_0x312703['tGain']['toFixed'](0x2)+_0x2e55ec(0xa2e);}_0x4ccbba+=_0x2e55ec(0x8d7)+(_0x3083c5+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x312703[_0x2e55ec(0x947)]+_0x2e55ec(0xb3a)+(_0x312703[_0x2e55ec(0x952)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x312703[_0x2e55ec(0xf1)]??'-')+_0x2e55ec(0xb3a)+_0x2de831+_0x2e55ec(0x5fc)+_0x1e7d22+_0x2e55ec(0x1fd)+(_0x312703['preTScore']?.[_0x2e55ec(0xab4)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x312703[_0x2e55ec(0xc31)]?.[_0x2e55ec(0xab4)](0x2)??'-')+_0x2e55ec(0xb3a)+_0x4834a9+_0x2e55ec(0x4f6);}),_0x4ccbba+=_0x5e0b2f(0x7f6),_0x678cb8['innerHTML']=_0x4ccbba;}function handleRenameQuiz(_0x4272f5,_0xeec922){const _0x190f75=_0x15116f;actionTargetId=_0x4272f5,document[_0x190f75(0x7a2)](_0x190f75(0x613))[_0x190f75(0x682)]=_0xeec922,renameQuizModal[_0x190f75(0x6e6)]['remove'](_0x190f75(0x106));}function setupComparisonModalTabs(){const _0x216ae6=_0x15116f,_0x34cc0d=document[_0x216ae6(0x7a2)](_0x216ae6(0xad5)),_0x363859=document[_0x216ae6(0x7a2)](_0x216ae6(0x723)),_0x325bb0=document[_0x216ae6(0x7a2)](_0x216ae6(0x429)),_0x5e81f7=document[_0x216ae6(0x7a2)](_0x216ae6(0x5a1));_0x34cc0d['addEventListener'](_0x216ae6(0x22c),()=>{const _0x23a2f3=_0x216ae6;_0x34cc0d[_0x23a2f3(0x6e6)][_0x23a2f3(0x360)](_0x23a2f3(0x63c)),_0x363859[_0x23a2f3(0x6e6)][_0x23a2f3(0x367)](_0x23a2f3(0x63c)),_0x325bb0[_0x23a2f3(0x6e6)]['remove']('hidden'),_0x5e81f7[_0x23a2f3(0x6e6)][_0x23a2f3(0x360)]('hidden');}),_0x363859['addEventListener']('click',()=>{const _0x310f00=_0x216ae6;_0x363859[_0x310f00(0x6e6)]['add'](_0x310f00(0x63c)),_0x34cc0d[_0x310f00(0x6e6)][_0x310f00(0x367)](_0x310f00(0x63c)),_0x5e81f7[_0x310f00(0x6e6)]['remove'](_0x310f00(0x106)),_0x325bb0[_0x310f00(0x6e6)][_0x310f00(0x360)](_0x310f00(0x106));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x42921a=_0x15116f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3f70e2=doc(db,_0x42921a(0xc14)+appId+_0x42921a(0x69b),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3f70e2,_0xb8f5a=>{const _0x28998d=_0x42921a;if(!_0xb8f5a[_0x28998d(0xfc)]()){showMessage(_0x28998d(0x82c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x28998d(0x18b)?showView(_0x28998d(0x4e2)):showView(_0x28998d(0xb56));return;}const _0x475333=_0xb8f5a[_0x28998d(0xc6b)]();_0x475333[_0x28998d(0x4ff)]&&(currentQuizData=_0x475333[_0x28998d(0x4ff)]);!currentQuizData&&_0x475333[_0x28998d(0x502)]&&((async()=>{const _0x42a890=_0x28998d;try{const _0x385ca2=doc(db,'artifacts/'+appId+_0x42a890(0x42c),_0x475333[_0x42a890(0x502)]),_0x484921=await getDoc(_0x385ca2);_0x484921[_0x42a890(0xfc)]()&&(currentQuizData={'id':_0x484921['id'],..._0x484921[_0x42a890(0xc6b)]()});}catch(_0x4649cd){console[_0x42a890(0x13b)](_0x42a890(0x111),_0x4649cd);}})());switch(_0x475333['status']){case'lobby':if(currentMode===_0x28998d(0x18b)){const _0x2c2a44=_0x475333[_0x28998d(0x7c5)]?Object['entries'](_0x475333['players']):[],_0x12716c=_0x2c2a44[_0x28998d(0x431)](([_0x230dde,_0x491015])=>_0x491015[_0x28998d(0x55a)]===_0x28998d(0x63c)),_0x3b59b4=document[_0x28998d(0x7a2)](_0x28998d(0x3bf));if(_0x3b59b4)_0x3b59b4['textContent']=_0x12716c[_0x28998d(0x987)];const _0x53cdde=document['getElementById'](_0x28998d(0x588));_0x53cdde&&(_0x53cdde[_0x28998d(0x322)]=_0x12716c[_0x28998d(0x217)](([_0x54208c,_0x433d8b])=>_0x28998d(0x747)+_0x54208c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x54208c+_0x28998d(0x463))[_0x28998d(0x935)](''));const _0x42555c=document[_0x28998d(0x7a2)](_0x28998d(0x8d9));_0x42555c&&(_0x42555c[_0x28998d(0xc47)]=_0x12716c[_0x28998d(0x987)]===0x0);}else showView(_0x28998d(0xa89)),liveGameView[_0x28998d(0x322)]=_0x28998d(0xb28)+currentStudentName+_0x28998d(0xc43);break;case _0x28998d(0x4b4):const _0x11b34c=_0x475333[_0x28998d(0xb81)];if(currentQuizData&&currentQuizData[_0x28998d(0x72a)][_0x11b34c]){const _0x31c4f7=currentQuizData[_0x28998d(0x72a)][_0x11b34c],_0x1c4a23=_0x475333[_0x28998d(0x16e)]||_0x28998d(0x2ec);switch(_0x1c4a23){case _0x28998d(0x3cd):currentMode==='admin'?showAdminSummaryView(_0x475333,_0x31c4f7):showPlayerSummaryView(_0x475333,currentStudentName);break;case _0x28998d(0xc28):currentMode===_0x28998d(0x18b)&&showTop5LeaderboardView(_0x475333);break;case _0x28998d(0x2ec):default:if(currentMode==='admin'){const _0x433688=writeBatch(db);let _0x3075e9=![];Object['entries'](_0x475333[_0x28998d(0x7c5)])['forEach'](([_0x2fbb5d,_0x33c11a])=>{const _0x56ecc1=_0x28998d;if(_0x33c11a['status']===_0x56ecc1(0x63c)&&_0x33c11a[_0x56ecc1(0xad8)]&&!_0x33c11a[_0x56ecc1(0xbbb)]){_0x3075e9=!![];const _0x4e6205=_0x33c11a[_0x56ecc1(0xad8)][_0x56ecc1(0xb9c)]()-_0x475333[_0x56ecc1(0x65f)][_0x56ecc1(0xb9c)]();let _0x52c6bd=0x0;if(_0x33c11a[_0x56ecc1(0x7da)]){const _0x422e22=0x3e8,_0x4e1277=0x1f4,_0x164cf6=0x4e20;let _0x5e6971=_0x4e6205/_0x164cf6;if(_0x5e6971>0x1)_0x5e6971=0x1;const _0x2ccbb3=Math[_0x56ecc1(0x7b9)](_0x5e6971*_0x4e1277);_0x52c6bd=_0x422e22-_0x2ccbb3;}const _0x53509c=doc(db,_0x56ecc1(0xc14)+appId+'/public/data/liveGames',currentLiveGameId);_0x433688[_0x56ecc1(0x296)](_0x53509c,{[_0x56ecc1(0x227)+_0x2fbb5d+'.score']:increment(_0x52c6bd),[_0x56ecc1(0x227)+_0x2fbb5d+_0x56ecc1(0x1ff)]:_0x52c6bd,[_0x56ecc1(0x227)+_0x2fbb5d+_0x56ecc1(0xb27)]:!![]});}});_0x3075e9&&_0x433688[_0x28998d(0x18c)]()[_0x28998d(0xa6b)](_0x293506=>console[_0x28998d(0x13b)](_0x28998d(0x93c),_0x293506));lastRenderedAdminQuestionIndex!==_0x11b34c&&(showAdminLiveQuestionView(_0x31c4f7,_0x11b34c,currentQuizData[_0x28998d(0x72a)][_0x28998d(0x987)]),lastRenderedAdminQuestionIndex=_0x11b34c);const _0x105250=_0x475333[_0x28998d(0x7c5)]||{},_0x167fc9=Object['values'](_0x105250)[_0x28998d(0x431)](_0x57968c=>_0x57968c['status']==='active'),_0x3e6909=_0x167fc9[_0x28998d(0x987)],_0x553993=_0x167fc9[_0x28998d(0x431)](_0x1ebe0b=>_0x1ebe0b['answeredCurrentQuestion']===!![])['length'],_0x49d0a2=document[_0x28998d(0x7a2)]('answer-counter');if(_0x49d0a2)_0x49d0a2[_0x28998d(0x930)]=_0x553993+'/'+_0x3e6909;const _0x387f73=document[_0x28998d(0x7a2)](_0x28998d(0x5fa));if(_0x387f73){let _0x1c2389=Object[_0x28998d(0x73b)](_0x105250)['filter'](([_0x33a7ab,_0xda4082])=>_0xda4082[_0x28998d(0x55a)]==='active')[_0x28998d(0x217)](([_0x2bb55a,_0x39d960])=>{const _0x34c867=_0x28998d,_0x541849=_0x39d960[_0x34c867(0x6fa)]===!![],_0x556903=_0x541849?_0x34c867(0x456):_0x34c867(0x94e),_0x97a0b3=_0x541849?_0x34c867(0x7a9):_0x34c867(0x765);return _0x34c867(0xb9d)+_0x556903+_0x34c867(0x336)+_0x97a0b3+_0x34c867(0xbbd)+_0x2bb55a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x2bb55a+_0x34c867(0x706);})[_0x28998d(0x935)]('');_0x387f73[_0x28998d(0x322)]=_0x1c2389||_0x28998d(0x4c0);}_0x3e6909>0x0&&_0x553993===_0x3e6909&&revealAnswerForAdmin(_0x11b34c,currentQuizData[_0x28998d(0x72a)]['length']);}else{const _0x566dc9=_0x475333[_0x28998d(0x7c5)][currentStudentName];_0x566dc9&&!_0x566dc9[_0x28998d(0x6fa)]&&showStudentLiveQuestionView(_0x31c4f7,_0x11b34c,currentQuizData[_0x28998d(0x72a)]['length']);}break;}}break;case'podium':showPodiumView(_0x475333['players'],_0x28998d(0x6d2));break;}});}async function openGlobalActivityModal(){const _0x2f33d3=_0x15116f;if(allQuizzesGlobal[_0x2f33d3(0x987)]===0x0){const _0xb33528=await getDocs(collection(db,_0x2f33d3(0xc14)+appId+_0x2f33d3(0x42c)));allQuizzesGlobal=_0xb33528[_0x2f33d3(0x610)][_0x2f33d3(0x217)](_0x1f9558=>({'id':_0x1f9558['id'],..._0x1f9558['data']()}));}renderGlobalActivityList(''),document[_0x2f33d3(0x7a2)](_0x2f33d3(0xaa6))['classList'][_0x2f33d3(0x367)](_0x2f33d3(0x106));}function renderGlobalActivityList(_0x1f2a00=''){const _0x447d51=_0x15116f,_0x41f2f9=document[_0x447d51(0x7a2)]('global-activity-quiz-list'),_0x3ced7d=_0x1f2a00[_0x447d51(0x53c)]()['trim'](),_0x40215b=allQuizzesGlobal[_0x447d51(0x217)](_0x448cb9=>({..._0x448cb9,'projectName':allProjects[_0x447d51(0x22a)](_0x35454a=>_0x35454a['id']===_0x448cb9[_0x447d51(0xb9b)])?.[_0x447d51(0x208)]||_0x447d51(0xaee)}))[_0x447d51(0x431)](_0x316329=>(_0x316329['topic']||'')[_0x447d51(0x53c)]()[_0x447d51(0x679)](_0x3ced7d)||(_0x316329[_0x447d51(0x208)]||'')[_0x447d51(0x53c)]()[_0x447d51(0x679)](_0x3ced7d));document[_0x447d51(0x7a2)](_0x447d51(0x17d))[_0x447d51(0x930)]='('+_0x40215b['length']+_0x447d51(0x2f1),_0x41f2f9[_0x447d51(0x322)]=_0x40215b['length']?_0x40215b[_0x447d51(0x217)](_0x3d1b19=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3d1b19[_0x447d51(0xc63)]||_0x447d51(0x4a0))+_0x447d51(0x482)+(_0x3d1b19['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x3d1b19['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3d1b19['id']+_0x447d51(0x2af)+_0x3d1b19['id']+_0x447d51(0xae9)+_0x3d1b19['id']+_0x447d51(0x7fd)+_0x3d1b19['id']+_0x447d51(0x8dd))['join'](''):_0x447d51(0x584);}async function handleKickPlayer(_0x1909d6){const _0x32e63d=_0x15116f;if(!currentLiveGameId||!_0x1909d6)return;const _0x2fa283=doc(db,_0x32e63d(0xc14)+appId+'/public/data/liveGames',currentLiveGameId),_0x440d25={};_0x440d25[_0x32e63d(0x227)+_0x1909d6+_0x32e63d(0x9a3)]=_0x32e63d(0x1c1);try{await updateDoc(_0x2fa283,_0x440d25);}catch(_0x1de210){console['error'](_0x32e63d(0xb57)+_0x1909d6+':',_0x1de210),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x9fa124=_0x15116f;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x37f670){console['error'](_0x9fa124(0x351),_0x37f670),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x1f6c32){const _0x4fe6aa=_0x15116f;adminView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),studentView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),projectDashboardView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),projectDetailView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)]('hidden'),quizResultsView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),liveGameView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),document[_0x4fe6aa(0x7a2)](_0x4fe6aa(0x90a))[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)]('hidden'),studentInitialView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),studentJoinGameView['classList'][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),studentNameSelectionView['classList'][_0x4fe6aa(0x360)](_0x4fe6aa(0x106)),studentQuizArea[_0x4fe6aa(0x6e6)]['add'](_0x4fe6aa(0x106)),studentResultArea[_0x4fe6aa(0x6e6)]['add'](_0x4fe6aa(0x106)),studentReadingArea[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x360)](_0x4fe6aa(0x106));const _0x51ec5e=document[_0x4fe6aa(0x7a2)](_0x4fe6aa(0x40e)),_0xc3059f=document['getElementById'](_0x4fe6aa(0x603));if(_0x51ec5e)_0x51ec5e['classList']['add'](_0x4fe6aa(0x106));if(_0xc3059f)_0xc3059f['classList']['add'](_0x4fe6aa(0x106));switch(_0x1f6c32){case _0x4fe6aa(0xc46):adminView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)]('hidden'),projectDashboardView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;case _0x4fe6aa(0x4e2):adminView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)]('hidden'),projectDetailView[_0x4fe6aa(0x6e6)]['remove'](_0x4fe6aa(0x106));break;case _0x4fe6aa(0xc58):adminView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106)),quizResultsView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;case _0x4fe6aa(0xb56):studentView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106)),studentInitialView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)]('hidden');break;case _0x4fe6aa(0xa89):liveGameView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;case _0x4fe6aa(0x182):studentView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)]('hidden');if(_0x51ec5e)_0x51ec5e[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;case _0x4fe6aa(0x2b5):studentView[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));if(_0xc3059f)_0xc3059f[_0x4fe6aa(0x6e6)][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;default:studentView[_0x4fe6aa(0x6e6)]['remove'](_0x4fe6aa(0x106)),studentInitialView['classList'][_0x4fe6aa(0x367)](_0x4fe6aa(0x106));break;}}function showJoinGameView(){const _0x59ad42=_0x15116f;studentInitialView[_0x59ad42(0x6e6)][_0x59ad42(0x360)]('hidden'),studentJoinGameView[_0x59ad42(0x6e6)][_0x59ad42(0x367)]('hidden');}async function handleSaveVisibilitySettings(){const _0x44066a=_0x15116f;if(!currentProjectId)return;const _0x317173=doc(db,_0x44066a(0xc14)+appId+_0x44066a(0x5cb),currentProjectId);try{await updateDoc(_0x317173,{'settings.showInStudentDashboard':document[_0x44066a(0x7a2)](_0x44066a(0xac9))['checked'],'settings.isPasscodeEnabled':document[_0x44066a(0x7a2)]('enable-passcode-checkbox')[_0x44066a(0x8cc)],'settings.passcode':document[_0x44066a(0x7a2)](_0x44066a(0x7b1))['value'][_0x44066a(0x6ad)]()}),showMessage(_0x44066a(0x73f));}catch(_0x478665){console[_0x44066a(0x13b)]('Error\x20saving\x20visibility\x20settings:',_0x478665),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0xd2c76e=_0x15116f;document[_0xd2c76e(0x7a2)]('add-parallel-shortcut-tab-btn')['addEventListener'](_0xd2c76e(0x22c),handleAddParallelShortcutTab),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x193))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x25ebd5=>{const _0x2af2c5=_0xd2c76e;_0x25ebd5[_0x2af2c5(0x4c1)][_0x2af2c5(0x38e)]('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x2af2c5(0x7a2)]('additional-parallel-shortcuts-modal')['classList'][_0x2af2c5(0x367)]('hidden'));}),document['getElementById'](_0xd2c76e(0xafa))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x37195d=_0xd2c76e;document[_0x37195d(0x7a2)](_0x37195d(0x61c))[_0x37195d(0x6e6)][_0x37195d(0x360)](_0x37195d(0x106));}),document[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x425a4d=>{const _0x2edc51=_0xd2c76e;!_0x425a4d['target'][_0x2edc51(0x38e)](_0x2edc51(0x9a2))&&document[_0x2edc51(0x17a)](_0x2edc51(0x710))['forEach'](_0x4f4f2e=>_0x4f4f2e[_0x2edc51(0x6e6)][_0x2edc51(0x360)](_0x2edc51(0x106)));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2bf))['addEventListener'](_0xd2c76e(0x22c),handleAddFileShortcutTab),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x5d2))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x20a507=>{const _0x258b6e=_0xd2c76e;_0x20a507[_0x258b6e(0x4c1)][_0x258b6e(0x38e)](_0x258b6e(0x927))&&(activeFileShortcutTabId=_0x258b6e(0x458),renderAdditionalFileShortcutsModal(),document[_0x258b6e(0x7a2)](_0x258b6e(0x4a8))[_0x258b6e(0x6e6)][_0x258b6e(0x367)](_0x258b6e(0x106)));}),document['getElementById'](_0xd2c76e(0xba6))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x122cd9=_0xd2c76e;document[_0x122cd9(0x7a2)](_0x122cd9(0x4a8))[_0x122cd9(0x6e6)][_0x122cd9(0x360)]('hidden');}),document['addEventListener'](_0xd2c76e(0x22c),_0x5384ea=>{const _0x534d25=_0xd2c76e;!_0x5384ea[_0x534d25(0x4c1)][_0x534d25(0x38e)]('.group\x5c/dropdown-file')&&document[_0x534d25(0x17a)]('.move-file-shortcut-dropdown')[_0x534d25(0x1b7)](_0x331a3e=>_0x331a3e[_0x534d25(0x6e6)]['add'](_0x534d25(0x106)));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x504))[_0xd2c76e(0x6d5)]('click',handleAddShortcutTab),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x18e))['addEventListener']('click',_0x339340=>{const _0x4cbd7f=_0xd2c76e,_0x5ed0aa=_0x339340['target'][_0x4cbd7f(0x38e)](_0x4cbd7f(0x75d)),_0x2649d7=_0x339340[_0x4cbd7f(0x4c1)][_0x4cbd7f(0x38e)](_0x4cbd7f(0xa39)),_0x3fcfac=_0x339340[_0x4cbd7f(0x4c1)][_0x4cbd7f(0x38e)](_0x4cbd7f(0x637));if(_0x2649d7)openParallelTestShortcutEditor(_0x2649d7['dataset']['id']);else{if(_0x3fcfac){const _0x477132=_0x3fcfac[_0x4cbd7f(0xb1e)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x149a40=_0x4cbd7f,_0xb017aa=parallelTestShortcuts[_0x149a40(0x431)](_0x2aac09=>_0x2aac09['id']!==_0x477132),_0x3eb04a=doc(db,_0x149a40(0x466),_0x149a40(0x75e));await setDoc(_0x3eb04a,{'shortcuts':_0xb017aa},{'merge':!![]});});}else _0x5ed0aa&&handleParallelTestShortcutClick(_0x5ed0aa[_0x4cbd7f(0xb1e)]['id']);}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x645))['addEventListener'](_0xd2c76e(0x22c),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0xd2c76e(0x13f))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x3160d2=_0xd2c76e;document[_0x3160d2(0x7a2)](_0x3160d2(0xc4d))[_0x3160d2(0x6e6)][_0x3160d2(0x360)](_0x3160d2(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7ba))['addEventListener'](_0xd2c76e(0x22c),saveParallelTestShortcutChanges),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x193))['addEventListener'](_0xd2c76e(0x22c),_0x18fa89=>{const _0x2a59bd=_0xd2c76e;_0x18fa89[_0x2a59bd(0x4c1)][_0x2a59bd(0x38e)]('#open-additional-parallel-shortcuts-btn')&&document[_0x2a59bd(0x7a2)](_0x2a59bd(0x61c))[_0x2a59bd(0x6e6)][_0x2a59bd(0x367)](_0x2a59bd(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xafa))[_0xd2c76e(0x6d5)]('click',()=>{const _0x139bcc=_0xd2c76e;document[_0x139bcc(0x7a2)](_0x139bcc(0x61c))[_0x139bcc(0x6e6)][_0x139bcc(0x360)](_0x139bcc(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xc34))['addEventListener'](_0xd2c76e(0x22c),_0x10b9c1=>{const _0x3ebdfc=_0xd2c76e,_0x570565=document[_0x3ebdfc(0x7a2)](_0x3ebdfc(0x61c)),_0x2d4cb8=_0x10b9c1[_0x3ebdfc(0x4c1)]['closest'](_0x3ebdfc(0x862)),_0x49a805=_0x10b9c1[_0x3ebdfc(0x4c1)][_0x3ebdfc(0x38e)](_0x3ebdfc(0xc4f)),_0x431e3a=_0x10b9c1['target']['closest']('.delete-hidden-parallel-shortcut-btn');if(_0x2d4cb8)_0x570565[_0x3ebdfc(0x6e6)][_0x3ebdfc(0x360)]('hidden'),handleParallelTestShortcutClick(_0x2d4cb8['dataset']['id']);else{if(_0x49a805)_0x570565[_0x3ebdfc(0x6e6)]['add']('hidden'),openParallelTestShortcutEditor(_0x49a805[_0x3ebdfc(0xb1e)]['id']);else{if(_0x431e3a){const _0x1c06d7=_0x431e3a[_0x3ebdfc(0xb1e)]['id'];showConfirmation(_0x3ebdfc(0x186),async()=>{const _0x1e8e40=_0x3ebdfc,_0x33822a=parallelTestShortcuts[_0x1e8e40(0x431)](_0x2f2e3b=>_0x2f2e3b['id']!==_0x1c06d7),_0x23f8f3=doc(db,_0x1e8e40(0x466),_0x1e8e40(0x75e));await setDoc(_0x23f8f3,{'shortcuts':_0x33822a},{'merge':!![]});});}}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x98d))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x4f17ea=>{const _0x4f939a=_0xd2c76e,_0x536938=_0x4f17ea[_0x4f939a(0x4c1)][_0x4f939a(0x38e)](_0x4f939a(0x8e3)),_0x3e655d=_0x4f17ea['target'][_0x4f939a(0x38e)](_0x4f939a(0x92d)),_0x5e0a10=_0x4f17ea['target'][_0x4f939a(0x38e)](_0x4f939a(0x800));if(_0x3e655d)openFileShortcutEditor(_0x3e655d[_0x4f939a(0xb1e)]['id']);else{if(_0x5e0a10){const _0x1fc04b=_0x5e0a10['dataset']['id'];showConfirmation(_0x4f939a(0x186),async()=>{const _0x5e5c13=_0x4f939a,_0x3dec83=fileShortcuts[_0x5e5c13(0x431)](_0x326d94=>_0x326d94['id']!==_0x1fc04b),_0x532243=doc(db,_0x5e5c13(0x466),'fileShortcutsConfig');await setDoc(_0x532243,{'shortcuts':_0x3dec83},{'merge':!![]});});}else _0x536938&&handleFileShortcutClick(_0x536938[_0x4f939a(0xb1e)]['id']);}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7bb))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>openFileShortcutEditor(null)),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xab1))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x1d2199=_0xd2c76e;document[_0x1d2199(0x7a2)](_0x1d2199(0x591))[_0x1d2199(0x6e6)][_0x1d2199(0x360)]('hidden');}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x41e))['addEventListener'](_0xd2c76e(0x22c),saveFileShortcutChanges),document['getElementById'](_0xd2c76e(0x5d2))['addEventListener'](_0xd2c76e(0x22c),_0x2f14ce=>{const _0x91e625=_0xd2c76e;_0x2f14ce[_0x91e625(0x4c1)][_0x91e625(0x38e)](_0x91e625(0x927))&&document[_0x91e625(0x7a2)](_0x91e625(0x4a8))[_0x91e625(0x6e6)][_0x91e625(0x367)](_0x91e625(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xba6))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x13cacb=_0xd2c76e;document[_0x13cacb(0x7a2)](_0x13cacb(0x4a8))[_0x13cacb(0x6e6)][_0x13cacb(0x360)]('hidden');}),document[_0xd2c76e(0x7a2)]('additional-file-shortcuts-list')['addEventListener'](_0xd2c76e(0x22c),_0x419ec1=>{const _0xf610ef=_0xd2c76e,_0x3c61d8=document[_0xf610ef(0x7a2)](_0xf610ef(0x4a8)),_0x3dccc2=_0x419ec1[_0xf610ef(0x4c1)][_0xf610ef(0x38e)](_0xf610ef(0x4a6)),_0x2eaf64=_0x419ec1[_0xf610ef(0x4c1)][_0xf610ef(0x38e)]('.edit-hidden-file-shortcut-btn'),_0x2a0acf=_0x419ec1['target'][_0xf610ef(0x38e)](_0xf610ef(0xb7c));if(_0x3dccc2)_0x3c61d8[_0xf610ef(0x6e6)]['add'](_0xf610ef(0x106)),handleFileShortcutClick(_0x3dccc2[_0xf610ef(0xb1e)]['id']);else{if(_0x2eaf64)_0x3c61d8[_0xf610ef(0x6e6)][_0xf610ef(0x360)](_0xf610ef(0x106)),openFileShortcutEditor(_0x2eaf64[_0xf610ef(0xb1e)]['id']);else{if(_0x2a0acf){const _0x29b241=_0x2a0acf[_0xf610ef(0xb1e)]['id'];showConfirmation(_0xf610ef(0x186),async()=>{const _0x29e5ca=_0xf610ef,_0xb07fb5=fileShortcuts['filter'](_0x4921e2=>_0x4921e2['id']!==_0x29b241),_0x5a3859=doc(db,_0x29e5ca(0x466),'fileShortcutsConfig');await setDoc(_0x5a3859,{'shortcuts':_0xb07fb5},{'merge':!![]});});}}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x646))[_0xd2c76e(0x6d5)]('click',_0x4b59bb=>{const _0xa74d9f=_0xd2c76e;_0x4b59bb[_0xa74d9f(0x4c1)][_0xa74d9f(0x38e)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0xa74d9f(0x458),renderAdditionalShortcutsModal(),document['getElementById'](_0xa74d9f(0x178))[_0xa74d9f(0x6e6)][_0xa74d9f(0x367)](_0xa74d9f(0x106)));}),document[_0xd2c76e(0x7a2)]('close-additional-shortcuts-btn')['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x3278a8=_0xd2c76e;document[_0x3278a8(0x7a2)](_0x3278a8(0x178))[_0x3278a8(0x6e6)][_0x3278a8(0x360)](_0x3278a8(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x39f))[_0xd2c76e(0x6d5)]('click',_0x211f87=>{const _0x57968b=_0xd2c76e,_0x277a0b=_0x211f87[_0x57968b(0x4c1)][_0x57968b(0x38e)](_0x57968b(0x773)),_0x1a9850=_0x211f87[_0x57968b(0x4c1)]['closest']('.edit-hidden-shortcut-btn'),_0x1c7d58=_0x211f87['target']['closest']('.delete-hidden-shortcut-btn'),_0x3e9123=document[_0x57968b(0x7a2)]('additional-shortcuts-modal');if(_0x277a0b)_0x3e9123[_0x57968b(0x6e6)][_0x57968b(0x360)](_0x57968b(0x106)),handleShortcutClick(_0x277a0b['dataset']['id']);else{if(_0x1a9850)_0x3e9123[_0x57968b(0x6e6)]['add']('hidden'),openShortcutEditor(_0x1a9850[_0x57968b(0xb1e)]['id']);else{if(_0x1c7d58){const _0x2ec3b7=_0x1c7d58[_0x57968b(0xb1e)]['id'],_0x5e2a3a=blueprintShortcuts[_0x57968b(0x22a)](_0xd03dcd=>_0xd03dcd['id']===_0x2ec3b7)?.[_0x57968b(0x947)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5e2a3a+'\x22?',async()=>{const _0xb7f99d=_0x57968b,_0x10e44a=blueprintShortcuts[_0xb7f99d(0x431)](_0x378731=>_0x378731['id']!==_0x2ec3b7);try{const _0x4aa61f=doc(db,_0xb7f99d(0x466),_0xb7f99d(0x37d));await setDoc(_0x4aa61f,{'blueprintShortcuts':_0x10e44a},{'merge':!![]});}catch(_0x3bc26e){console['error']('Error\x20deleting\x20shortcut:',_0x3bc26e);}});}}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xb68))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x369daf=>{const _0x485ff6=_0xd2c76e,_0x27df9c=_0x369daf[_0x485ff6(0x4c1)][_0x485ff6(0x38e)]('.shortcut-btn'),_0x108eb9=_0x369daf[_0x485ff6(0x4c1)]['closest'](_0x485ff6(0x6b3)),_0x126da8=_0x369daf['target'][_0x485ff6(0x38e)]('.delete-shortcut-btn');if(_0x108eb9)openShortcutEditor(_0x108eb9[_0x485ff6(0xb1e)]['id']);else{if(_0x126da8){const _0x3e30c9=_0x126da8[_0x485ff6(0xb1e)]['id'],_0x3a474c=blueprintShortcuts[_0x485ff6(0x22a)](_0x2f0728=>_0x2f0728['id']===_0x3e30c9)?.[_0x485ff6(0x947)];showConfirmation(_0x485ff6(0x10c)+_0x3a474c+'\x22?',async()=>{const _0x9e2694=_0x485ff6,_0x365097=blueprintShortcuts['filter'](_0x5d3b34=>_0x5d3b34['id']!==_0x3e30c9);try{const _0x4589d2=doc(db,_0x9e2694(0x466),_0x9e2694(0x37d));await setDoc(_0x4589d2,{'blueprintShortcuts':_0x365097},{'merge':!![]});}catch(_0x3d88f0){console[_0x9e2694(0x13b)](_0x9e2694(0x355),_0x3d88f0);}});}else _0x27df9c&&handleShortcutClick(_0x27df9c[_0x485ff6(0xb1e)]['id']);}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x9a4))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>openShortcutEditor(null)),document['getElementById'](_0xd2c76e(0x47f))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x3f9a9f=_0xd2c76e;document['getElementById'](_0x3f9a9f(0x732))['classList'][_0x3f9a9f(0x360)](_0x3f9a9f(0x106));}),document['getElementById'](_0xd2c76e(0x9bc))[_0xd2c76e(0x6d5)]('click',saveShortcutChanges),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x6e4))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),async()=>{const _0x4420eb=_0xd2c76e,_0x512aaa=document[_0x4420eb(0x7a2)]('blueprint-upload-input'),_0x3c63b5=document[_0x4420eb(0x7a2)](_0x4420eb(0x401));_0x512aaa[_0x4420eb(0xb7b)][_0x4420eb(0x987)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x512aaa[_0x4420eb(0xb7b)][0x0],_0x3c63b5[_0x4420eb(0xb7b)][0x0]||null):showMessage(_0x4420eb(0x968));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7d5))['addEventListener'](_0xd2c76e(0x22c),async _0x286f4e=>{const _0x51f073=_0xd2c76e,_0x3de953=document['getElementById']('topic-quiz-bank-modal'),_0x1fdcdb=_0x286f4e[_0x51f073(0x4c1)][_0x51f073(0x38e)](_0x51f073(0x340)),_0x1e36f4=_0x286f4e[_0x51f073(0x4c1)][_0x51f073(0x38e)](_0x51f073(0x5d9)),_0x3a08ab=_0x286f4e[_0x51f073(0x4c1)][_0x51f073(0x38e)](_0x51f073(0x49b)),_0x9cfd70=_0x286f4e['target'][_0x51f073(0x38e)]('.bp-try-btn'),_0x589a29=_0x286f4e[_0x51f073(0x4c1)]['closest'](_0x51f073(0x8f5)),_0x5b6d5e=_0x286f4e[_0x51f073(0x4c1)][_0x51f073(0x38e)](_0x51f073(0x4fe));if(_0x1fdcdb){cameFromBlueprint=!![];const _0x14c5f5=_0x1fdcdb[_0x51f073(0xb1e)][_0x51f073(0x502)];showQuizDetailView(_0x14c5f5),_0x3de953[_0x51f073(0x6e6)][_0x51f073(0x360)](_0x51f073(0x106));}else{if(_0x1e36f4){const _0x57ff11=_0x1e36f4[_0x51f073(0xb1e)][_0x51f073(0x92a)],_0x838e68=_0x1e36f4[_0x51f073(0xb1e)]['quizId'],_0x531d0b=allQuizzesGlobal[_0x51f073(0x22a)](_0x121443=>_0x121443['id']===_0x838e68),_0x281d91=_0x531d0b?_0x531d0b[_0x51f073(0xc63)]:'รายการนี้';showConfirmation(_0x51f073(0x6b6)+_0x281d91+_0x51f073(0x7eb),async()=>{const _0x25dd3b=_0x51f073;try{const _0x3adc73=doc(db,'artifacts/'+appId+_0x25dd3b(0x41d),currentBlueprintProjectId);await updateDoc(_0x3adc73,{[_0x25dd3b(0x6d3)+_0x57ff11+_0x25dd3b(0xa04)]:arrayRemove(_0x838e68)}),showMessage(_0x25dd3b(0x131)),openTopicQuizBank(_0x57ff11),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4fd385){console[_0x25dd3b(0x13b)]('Error\x20unlinking\x20quiz:',_0x4fd385),showMessage(_0x25dd3b(0xbe7));}});}else{if(_0x3a08ab){cameFromBlueprint=!![];const _0x4a3640=_0x3a08ab[_0x51f073(0xb1e)]['quizId'],_0x554815=allQuizzesGlobal[_0x51f073(0x22a)](_0x263991=>_0x263991['id']===_0x4a3640);_0x554815&&(startPresentation(_0x554815),_0x3de953[_0x51f073(0x6e6)][_0x51f073(0x360)](_0x51f073(0x106)));}else{if(_0x9cfd70){cameFromBlueprint=!![];const _0x407d48=_0x9cfd70[_0x51f073(0xb1e)]['quizId'],_0x4041f9=allQuizzesGlobal[_0x51f073(0x22a)](_0x259a74=>_0x259a74['id']===_0x407d48);_0x4041f9&&(currentQuizData=_0x4041f9,startAdminTest(),_0x3de953[_0x51f073(0x6e6)][_0x51f073(0x360)](_0x51f073(0x106)));}else{if(_0x589a29)cameFromBlueprint=!![],handleStartLiveRace(_0x589a29[_0x51f073(0xb1e)][_0x51f073(0x502)]),_0x3de953[_0x51f073(0x6e6)]['add']('hidden');else{if(_0x5b6d5e){cameFromBlueprint=!![];const _0x52e9d3=_0x5b6d5e[_0x51f073(0xb1e)]['quizId'],_0x5d5f76=_0x5b6d5e[_0x51f073(0xb1e)]['mode'],_0x3f1288=allQuizzesGlobal[_0x51f073(0x22a)](_0x4bf881=>_0x4bf881['id']===_0x52e9d3);_0x3f1288&&(showGameStartConfirmationModal(_0x52e9d3,_0x5d5f76,_0x3f1288[_0x51f073(0xc63)]),_0x3de953[_0x51f073(0x6e6)][_0x51f073(0x360)](_0x51f073(0x106)));}}}}}}}),document[_0xd2c76e(0x7a2)]('manual-create-blueprint-btn')[_0xd2c76e(0x6d5)]('click',()=>{const _0x3d3ac8=_0xd2c76e;document['getElementById'](_0x3d3ac8(0x370))['classList'][_0x3d3ac8(0x367)]('hidden'),document[_0x3d3ac8(0x7a2)](_0x3d3ac8(0xaef))[_0x3d3ac8(0x682)]='',document[_0x3d3ac8(0x7a2)](_0x3d3ac8(0xa0d))[_0x3d3ac8(0x682)]='',document[_0x3d3ac8(0x7a2)](_0x3d3ac8(0x512))[_0x3d3ac8(0x682)]='';}),document['getElementById'](_0xd2c76e(0xa85))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x52e470=_0xd2c76e;document[_0x52e470(0x7a2)](_0x52e470(0x370))[_0x52e470(0x6e6)][_0x52e470(0x360)](_0x52e470(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x782))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleManualBlueprintSave),document[_0xd2c76e(0x7a2)]('cancel-bp-settings-btn')['addEventListener']('click',()=>document[_0xd2c76e(0x7a2)](_0xd2c76e(0x522))['classList']['add'](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)]('save-bp-settings-btn')['addEventListener'](_0xd2c76e(0x22c),handleSaveBlueprintPageSettings),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2e4))['addEventListener'](_0xd2c76e(0x22c),openBlueprintQuizSettings),document['getElementById'](_0xd2c76e(0x6f8))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),saveBlueprintProject),document['getElementById']('open-blueprint-projects-btn')['addEventListener'](_0xd2c76e(0x22c),showBlueprintProjects),document['getElementById'](_0xd2c76e(0x1c4))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x51ba1d=_0xd2c76e;document['getElementById'](_0x51ba1d(0x215))[_0x51ba1d(0x6e6)][_0x51ba1d(0x360)](_0x51ba1d(0x106));}),document[_0xd2c76e(0x7a2)]('blueprint-project-list')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x15eb17=>{const _0x158ccb=_0xd2c76e,_0x58230f=_0x15eb17[_0x158ccb(0x4c1)][_0x158ccb(0x38e)](_0x158ccb(0x92c)),_0x3f95de=_0x15eb17[_0x158ccb(0x4c1)]['closest'](_0x158ccb(0xae2));if(_0x58230f)displayBlueprintProjectManager(_0x58230f['dataset']['id']);else{if(_0x3f95de){if(confirm(_0x158ccb(0x9e9))){const _0x408e18=doc(db,_0x158ccb(0xc14)+appId+_0x158ccb(0x41d),_0x3f95de[_0x158ccb(0xb1e)]['id']);deleteDoc(_0x408e18)['then'](()=>{showMessage('ลบโปรเจคสำเร็จ'),showBlueprintProjects();});}}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xc26))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x456c74=_0xd2c76e;currentBlueprintProjectId=null,currentProjectId=null,document[_0x456c74(0x7a2)](_0x456c74(0x90a))['classList']['add']('hidden'),showView(_0x456c74(0xc46));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x923))['addEventListener'](_0xd2c76e(0x22c),addTopicToProject),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xaf4))[_0xd2c76e(0x6d5)]('click',async _0x14439b=>{const _0x424445=_0xd2c76e,_0x4bd2a4=_0x14439b['target'][_0x424445(0x38e)](_0x424445(0xa86));if(!_0x4bd2a4)return;const _0x5185a1=_0x4bd2a4[_0x424445(0xb1e)][_0x424445(0x92a)],_0x3f5e9b=_0x14439b['target'][_0x424445(0x38e)](_0x424445(0x95e)),_0x1cab44=_0x14439b[_0x424445(0x4c1)][_0x424445(0x38e)](_0x424445(0x59e)),_0x2a3d39=_0x14439b['target'][_0x424445(0x38e)](_0x424445(0xbb0)),_0x4fb13c=_0x14439b['target'][_0x424445(0x38e)](_0x424445(0x139)),_0x4bcf9e=_0x14439b[_0x424445(0x4c1)]['closest'](_0x424445(0x4b8)),_0x1c0efe=_0x14439b['target'][_0x424445(0x38e)](_0x424445(0x691)),_0xb22ac7=_0x14439b[_0x424445(0x4c1)]['closest']('.bp-edit-topic-btn'),_0x54c4de=_0x14439b[_0x424445(0x4c1)]['closest'](_0x424445(0xa45));if(_0x4fb13c)openTopicQuizBank(_0x5185a1);else{if(_0x3f5e9b){console[_0x424445(0x7d6)](_0x424445(0x25c));const _0x1b8f97=_0x4bd2a4[_0x424445(0xba0)](_0x424445(0x2d7))[_0x424445(0x930)];selectProjectAndGenerateBlueprintQuiz(_0x1b8f97,null,_0x5185a1,!![]);}else{if(_0x1cab44){console['log'](_0x424445(0x5b9));try{const _0x45cfd8=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1ba923=await getDoc(_0x45cfd8);if(_0x1ba923[_0x424445(0xfc)]()){const _0x553f7f=_0x1ba923[_0x424445(0xc6b)](),_0x74547d=_0x553f7f[_0x424445(0x9d1)][_0x5185a1],_0x7fd63e=_0x74547d[_0x424445(0x575)],_0x1f66bd=document[_0x424445(0x870)](_0x424445(0xad3)),_0x380fbf=_0x155d4c=>{const _0x3dcd77=_0x424445;if(!_0x155d4c)return'';return _0x1f66bd['innerHTML']=_0x155d4c,_0x1f66bd[_0x3dcd77(0x930)]||_0x1f66bd[_0x3dcd77(0x589)]||'';},_0x44d05d=(_0x380fbf(_0x7fd63e['point'])+'\x20'+_0x380fbf(_0x7fd63e[_0x424445(0x2d9)])+'\x20'+_0x380fbf(_0x7fd63e[_0x424445(0x2e8)]))[_0x424445(0x6ad)]();selectProjectAndGenerateBlueprintQuiz(_0x74547d[_0x424445(0x568)],_0x44d05d,_0x5185a1,![]);}}catch(_0x309ffd){console[_0x424445(0x13b)](_0x424445(0xb08),_0x309ffd);}}else{if(_0x2a3d39){console[_0x424445(0x7d6)](_0x424445(0x792));const _0x42463b=_0x4bd2a4[_0x424445(0xba0)]('[data-field=\x22subTopic\x22]')[_0x424445(0x930)];selectProjectAndGenerateBlueprintQuiz(_0x42463b,null,_0x5185a1,![]);}else{if(_0x4bcf9e){console[_0x424445(0x7d6)]('Action:\x20View\x20existing\x20lesson.');const _0x22a304=doc(db,_0x424445(0xc14)+appId+_0x424445(0x41d),currentBlueprintProjectId),_0x4a16eb=await getDoc(_0x22a304);if(_0x4a16eb[_0x424445(0xfc)]()){const _0x22d415=_0x4a16eb[_0x424445(0xc6b)](),_0x207830=_0x22d415[_0x424445(0x9d1)][_0x5185a1];if(_0x207830&&_0x207830[_0x424445(0x55a)]==='generated')try{const _0x2ea4a6=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x424445(0x14b),_0x5185a1),_0x45f5a2=await getDoc(_0x2ea4a6);if(_0x45f5a2[_0x424445(0xfc)]()){const _0x91e6b=_0x45f5a2[_0x424445(0xc6b)]()[_0x424445(0x2c0)];document[_0x424445(0x7a2)](_0x424445(0x100))[_0x424445(0x930)]='บทเรียนเรื่อง:\x20'+_0x207830[_0x424445(0x568)],document[_0x424445(0x7a2)](_0x424445(0x5d4))['innerHTML']=_0x91e6b[_0x424445(0x692)],document[_0x424445(0x7a2)](_0x424445(0x5ea))[_0x424445(0x322)]=_0x91e6b[_0x424445(0x2d9)],document[_0x424445(0x7a2)](_0x424445(0x580))[_0x424445(0x322)]=_0x91e6b['summary'];const _0x13aebf=document[_0x424445(0x7a2)](_0x424445(0x3b9));_0x91e6b[_0x424445(0x8f4)]?(currentApplicationData=_0x91e6b[_0x424445(0x8f4)],_0x13aebf['innerHTML']=currentApplicationData[_0x424445(0x217)]((_0x9a7873,_0x5a1f54)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5a1f54+0x1)+'.\x20'+marked[_0x424445(0xc22)](_0x9a7873[_0x424445(0x4b4)])+_0x424445(0x7c2)+_0x5a1f54+_0x424445(0x4a2)+_0x9a7873[_0x424445(0xbd3)][_0x424445(0x217)]((_0x2d7935,_0x554b8b)=>_0x424445(0xc1b)+_0x5a1f54+',\x20'+_0x554b8b+')\x22>'+String['fromCharCode'](0x61+_0x554b8b)+'.\x20'+marked['parseInline'](_0x2d7935)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x424445(0x935)]('')+_0x424445(0x4dd))[_0x424445(0x935)]('')):(currentApplicationData=[],_0x13aebf[_0x424445(0x322)]=_0x91e6b[_0x424445(0x58e)]||_0x91e6b['application']),document[_0x424445(0x7a2)]('lesson-loader')[_0x424445(0x6e6)]['add'](_0x424445(0x106)),document[_0x424445(0x7a2)](_0x424445(0x2b7))[_0x424445(0x6e6)][_0x424445(0x367)](_0x424445(0x106)),document[_0x424445(0x7a2)](_0x424445(0x363))['classList']['remove'](_0x424445(0x106)),window[_0x424445(0x8a8)]&&MathJax[_0x424445(0x107)]([document[_0x424445(0x7a2)]('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x1edb5d){console[_0x424445(0x13b)](_0x424445(0x8f3),_0x1edb5d),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x424445(0x8dc));}}else{if(_0x1c0efe){console[_0x424445(0x7d6)](_0x424445(0xbcd));const _0x146dce=doc(db,_0x424445(0xc14)+appId+_0x424445(0x41d),currentBlueprintProjectId),_0x55854e=await getDoc(_0x146dce);if(_0x55854e[_0x424445(0xfc)]()){const _0xa64d19=_0x55854e[_0x424445(0xc6b)](),_0x5f52d5=_0xa64d19[_0x424445(0x9d1)][_0x5185a1];generateAndSaveLessonForBlueprint(_0x5185a1,_0x5f52d5[_0x424445(0x568)],_0xa64d19['gradeLevel']);}}else{if(_0xb22ac7)editTopicInProject(_0x5185a1);else _0x54c4de&&deleteTopicFromProject(_0x5185a1);}}}}}}}),document['getElementById'](_0xd2c76e(0xbec))[_0xd2c76e(0x6d5)]('click',handleFixLessonLatex),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x347))['addEventListener'](_0xd2c76e(0x22c),handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')['addEventListener']('click',()=>{const _0x2806=_0xd2c76e;document['getElementById'](_0x2806(0x363))[_0x2806(0x6e6)]['add']('hidden');});const _0xe89ae=document[_0xd2c76e(0x7a2)]('bulk-confidence-scoring-checkbox'),_0x4f4ba0=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x26e));_0xe89ae['addEventListener'](_0xd2c76e(0x19b),()=>{const _0x24a105=_0xd2c76e;_0x4f4ba0['classList'][_0x24a105(0xb38)]('hidden',!_0xe89ae[_0x24a105(0x8cc)]);});const _0xbf0eb6=document['getElementById'](_0xd2c76e(0x626)),_0x3fa7ad=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x27b));_0xbf0eb6[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),()=>{const _0x382bdb=_0xd2c76e;_0x3fa7ad[_0x382bdb(0x6e6)][_0x382bdb(0xb38)](_0x382bdb(0x106),!_0xbf0eb6[_0x382bdb(0x8cc)]);});const _0xedc511=document[_0xd2c76e(0x7a2)]('modal-confidence-scoring-checkbox'),_0x3095f7=document['getElementById'](_0xd2c76e(0x249));_0xedc511[_0xd2c76e(0x6d5)]('change',()=>{const _0x5ce927=_0xd2c76e;_0x3095f7[_0x5ce927(0x6e6)][_0x5ce927(0xb38)]('hidden',!_0xedc511[_0x5ce927(0x8cc)]);});const _0x174d04=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x327)),_0x36cf6d=async _0x3252b6=>{const _0x373d69=_0xd2c76e,_0x1fd303=document[_0x373d69(0x7a2)](_0x373d69(0x327)),_0x1f2caf=_0x1fd303[_0x373d69(0xb1e)][_0x373d69(0xc49)],_0x431380=document[_0x373d69(0x7a2)](_0x373d69(0x1ca));_0x1fd303[_0x373d69(0x6e6)][_0x373d69(0x360)](_0x373d69(0x106));if(_0x1f2caf===_0x373d69(0x4a9)){const _0x3b876d=_0x431380['value'],_0x8f359c={'answer':_0x3b876d,'wasConfident':_0x3252b6};proceedToNextQuestion(_0x8f359c);}else{if(_0x1f2caf===_0x373d69(0x3ee)){const _0x437d34=_0x431380[_0x373d69(0xb1e)][_0x373d69(0x717)],_0x117df9=JSON['parse'](_0x431380[_0x373d69(0xb1e)][_0x373d69(0x4b4)]),_0x515a11=JSON[_0x373d69(0x877)](_0x431380[_0x373d69(0xb1e)]['gameData']),_0x2a1882=_0x431380[_0x373d69(0xb1e)][_0x373d69(0x7ac)];handleSyncAnswerSubmit(_0x437d34,_0x117df9,_0x515a11,_0x2a1882,_0x3252b6);}}_0x1fd303['dataset'][_0x373d69(0xc49)]='';};document[_0xd2c76e(0x7a2)](_0xd2c76e(0xb58))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>_0x36cf6d(!![])),document['getElementById'](_0xd2c76e(0x337))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>_0x36cf6d(![])),liveGameView['addEventListener']('click',_0x44b137=>{const _0x58f8c1=_0xd2c76e,_0x11a348=_0x44b137[_0x58f8c1(0x4c1)][_0x58f8c1(0x38e)]('.kick-player-btn-sync');if(_0x11a348){const _0xd3947d=_0x11a348[_0x58f8c1(0xb1e)]['playerName'];_0xd3947d&&handleKickPlayerSync(_0xd3947d);}});const _0x2c62cf=document[_0xd2c76e(0x7a2)]('confirm-game-start-btn'),_0x589be2=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x8ab));_0x589be2['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x48a190=_0xd2c76e;document['getElementById'](_0x48a190(0xc4e))[_0x48a190(0x6e6)]['add'](_0x48a190(0x106));}),_0x2c62cf['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x3e8f1a=_0xd2c76e,_0xc182ab=document[_0x3e8f1a(0x7a2)](_0x3e8f1a(0xc38))[_0x3e8f1a(0x682)],_0x30bef3=document[_0x3e8f1a(0x7a2)](_0x3e8f1a(0x834))['value'],_0x2486f5=document[_0x3e8f1a(0x7a2)](_0x3e8f1a(0x185))[_0x3e8f1a(0x8cc)];document[_0x3e8f1a(0x7a2)]('confirm-game-start-modal')['classList'][_0x3e8f1a(0x360)](_0x3e8f1a(0x106));switch(_0x30bef3){case _0x3e8f1a(0x6d2):handleStartLiveRace(_0xc182ab,_0x2486f5);break;case _0x3e8f1a(0x30f):handleStartTeamQuiz(_0xc182ab,_0x2486f5);break;case _0x3e8f1a(0x867):handleStartGroupMode(_0xc182ab,_0x2486f5);break;case _0x3e8f1a(0x3ee):handleStartSyncMode(_0xc182ab,_0x2486f5);break;}}),document['getElementById']('join-group-activity-btn')['addEventListener'](_0xd2c76e(0x22c),handleJoinGroupActivity),liveGameView[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0xfb0791=>{const _0x22eedc=_0xd2c76e,_0xef0c9e=_0xfb0791[_0x22eedc(0x4c1)][_0x22eedc(0x38e)]('.summary-bar-item');document[_0x22eedc(0x17a)](_0x22eedc(0x505))[_0x22eedc(0x1b7)](_0xa642de=>{const _0x1bacf8=_0x22eedc;(!_0xef0c9e||_0xa642de['id']!==_0xef0c9e['dataset']['tooltipTarget'])&&_0xa642de['classList'][_0x1bacf8(0x367)](_0x1bacf8(0x6e2));});if(!_0xef0c9e)return;const _0x567916=_0xef0c9e[_0x22eedc(0xb1e)]['tooltipTarget'],_0x4e1f88=document[_0x22eedc(0x7a2)](_0x567916);_0x4e1f88&&_0x4e1f88['classList']['toggle'](_0x22eedc(0x6e2));}),liveGameView[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x5e6854=>{const _0x57c19f=_0xd2c76e;if(_0x5e6854[_0x57c19f(0x4c1)]['classList']['contains'](_0x57c19f(0xac0))){const _0x535df1=_0x5e6854[_0x57c19f(0x4c1)][_0x57c19f(0xb1e)][_0x57c19f(0x7ac)];_0x535df1&&handleKickPlayer(_0x535df1);}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xb5b))[_0xd2c76e(0x6d5)]('focus',()=>document[_0xd2c76e(0x7a2)](_0xd2c76e(0x40c))[_0xd2c76e(0x6e6)][_0xd2c76e(0x367)]('hidden')),document['getElementById'](_0xd2c76e(0x40c))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleSaveProjectName),document['getElementById'](_0xd2c76e(0xb5b))[_0xd2c76e(0x6d5)](_0xd2c76e(0xf2),_0x161359=>{const _0x427d0b=_0xd2c76e;_0x161359[_0x427d0b(0x167)]==='Enter'&&(_0x161359[_0x427d0b(0x623)](),_0x161359[_0x427d0b(0x4c1)]['blur'](),handleSaveProjectName());}),document['getElementById'](_0xd2c76e(0x69e))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x33ee8b=_0xd2c76e;document['getElementById'](_0x33ee8b(0xa02))[_0x33ee8b(0x6e6)]['remove'](_0x33ee8b(0x106));}),document['getElementById'](_0xd2c76e(0x3ab))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x7005bf=_0xd2c76e;document[_0x7005bf(0x7a2)](_0x7005bf(0xa02))['classList']['add'](_0x7005bf(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x440))['addEventListener']('click',handleBulkUpdateQuizSettings),document['getElementById'](_0xd2c76e(0x483))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleModeSwitch),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x450))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleUpdateOldQuizzes),document[_0xd2c76e(0x7a2)]('reset-project-order-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleResetProjectOrder),document[_0xd2c76e(0x7a2)]('save-visibility-settings-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleSaveVisibilitySettings),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x56d))['addEventListener']('click',handleAddCustomMathTopic),document[_0xd2c76e(0x7a2)]('select-all-topics-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleSelectAllTopics),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x57d))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleDeselectAllTopics),document['getElementById'](_0xd2c76e(0x5a3))[_0xd2c76e(0x6d5)]('click',()=>{const _0x31a8e7=_0xd2c76e;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x31a8e7(0xc46));}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2fe))['addEventListener']('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xed))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x4008ff=_0xd2c76e;showView(_0x4008ff(0xc46));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xb75))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x14ad9e=_0xd2c76e;messageModal['classList'][_0x14ad9e(0x360)](_0x14ad9e(0x106)),typeof modalConfirmAction===_0x14ad9e(0xa29)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById']('create-project-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>createProjectModal[_0xd2c76e(0x6e6)]['remove']('hidden')),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x210))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>createProjectModal['classList']['add']('hidden')),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xc40))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>adminPasswordModal[_0xd2c76e(0x6e6)][_0xd2c76e(0x360)](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x99e))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleAdminLogin),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x4d1))[_0xd2c76e(0x6d5)](_0xd2c76e(0x30a),_0x6088ce=>{const _0x5d8d0c=_0xd2c76e;if(_0x6088ce[_0x5d8d0c(0x167)]===_0x5d8d0c(0x688))handleAdminLogin();}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2a7))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x484e55=_0xd2c76e;confirmationModal['classList'][_0x484e55(0x360)]('hidden'),confirmAction=null;}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x683))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x2a347c=_0xd2c76e;confirmAction&&confirmAction(),confirmationModal['classList'][_0x2a347c(0x360)](_0x2a347c(0x106)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0xd2c76e(0x6d5)]('click',()=>renameQuizModal['classList']['add'](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)]('confirm-rename-quiz-btn')[_0xd2c76e(0x6d5)]('click',confirmRenameQuiz),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x546))[_0xd2c76e(0x6d5)]('click',()=>moveQuizModal['classList']['add'](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)]('confirm-move-quiz-btn')[_0xd2c76e(0x6d5)]('click',confirmMoveQuiz),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x5c7))[_0xd2c76e(0x6d5)]('click',()=>quizSettingsModal[_0xd2c76e(0x6e6)][_0xd2c76e(0x360)](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2b6))[_0xd2c76e(0x6d5)]('click',confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>quizStatusModal[_0xd2c76e(0x6e6)]['add'](_0xd2c76e(0x106))),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xa5c))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),confirmQuizStatus);const _0x2c6edf=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x776));document[_0xd2c76e(0x7a2)](_0xd2c76e(0xa2a))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x45d316=_0xd2c76e;_0x2c6edf[_0x45d316(0x6e6)][_0x45d316(0x360)](_0x45d316(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x3c3))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),async()=>{const _0x293d1b=_0xd2c76e,_0x5131f6=allQuizzes[_0x293d1b(0x22a)](_0x220607=>_0x220607['id']===actionTargetId);_0x5131f6?(currentQuizData=_0x5131f6,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2c6edf[_0x293d1b(0x6e6)][_0x293d1b(0x360)](_0x293d1b(0x106));}),document['getElementById'](_0xd2c76e(0x96f))[_0xd2c76e(0x6d5)]('click',async()=>{const _0x5a93b9=_0xd2c76e,_0x2bd510=allQuizzes['find'](_0x21b840=>_0x21b840['id']===actionTargetId);_0x2bd510?(currentQuizData=_0x2bd510,exportQuizAsTutorPDF()):showMessage(_0x5a93b9(0xc0a)),_0x2c6edf['classList']['add'](_0x5a93b9(0x106));});const _0x187dd5=document['getElementById'](_0xd2c76e(0x192));_0x187dd5[_0xd2c76e(0x322)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x187dd5[_0xd2c76e(0x6d5)]('click',openGlobalActivityModal),document['getElementById'](_0xd2c76e(0x20c))[_0xd2c76e(0x6d5)]('click',()=>{const _0x12255d=_0xd2c76e;document[_0x12255d(0x7a2)]('global-activity-modal')[_0x12255d(0x6e6)][_0x12255d(0x360)](_0x12255d(0x106));}),document['getElementById'](_0xd2c76e(0xc04))['addEventListener'](_0xd2c76e(0xc41),_0x1cac45=>{const _0x30fb6e=_0xd2c76e;renderGlobalActivityList(_0x1cac45[_0x30fb6e(0x4c1)][_0x30fb6e(0x682)]);}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x3df))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x196aa2=>{const _0x2ddc9c=_0xd2c76e,_0x3e1385=_0x196aa2[_0x2ddc9c(0x4c1)][_0x2ddc9c(0x38e)](_0x2ddc9c(0x7b4));if(!_0x3e1385)return;const _0x29b0b4=_0x3e1385[_0x2ddc9c(0xb1e)]['id'],_0x5240c3=_0x3e1385[_0x2ddc9c(0xb1e)][_0x2ddc9c(0x8d5)],_0xe6c510=allQuizzesGlobal[_0x2ddc9c(0x22a)](_0x3890c7=>_0x3890c7['id']===_0x29b0b4);_0xe6c510&&(document[_0x2ddc9c(0x7a2)](_0x2ddc9c(0xaa6))['classList'][_0x2ddc9c(0x360)](_0x2ddc9c(0x106)),_0x5240c3===_0x2ddc9c(0x6d2)?handleStartLiveRace(_0x29b0b4):showGameStartConfirmationModal(_0x29b0b4,_0x5240c3,_0xe6c510[_0x2ddc9c(0xc63)]));}),document['getElementById']('project-search-input')[_0xd2c76e(0x6d5)](_0xd2c76e(0xc41),renderProjects),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x5e8))['addEventListener'](_0xd2c76e(0x19b),async()=>{const _0x2e759c=_0xd2c76e,_0x3b43ac=document[_0x2e759c(0x7a2)](_0x2e759c(0x5e8))[_0x2e759c(0x682)],_0x15fadd=doc(db,_0x2e759c(0x466),_0x2e759c(0x37d));try{await setDoc(_0x15fadd,{'projectSort':_0x3b43ac},{'merge':!![]});}catch(_0x4b26cd){console[_0x2e759c(0x13b)]('Error\x20updating\x20sort\x20preference:',_0x4b26cd),showMessage(_0x2e759c(0x6e1));}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x543))[_0xd2c76e(0x6d5)](_0xd2c76e(0xc41),renderQuizzes),document['getElementById'](_0xd2c76e(0x794))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x267224=_0xd2c76e;globalDashboardSettings[_0x267224(0x658)]=_0x267224(0x2e1),saveUserPreference(_0x267224(0x658),_0x267224(0x2e1)),renderProjects();}),document['getElementById'](_0xd2c76e(0x472))[_0xd2c76e(0x6d5)]('click',()=>{const _0x12a7fe=_0xd2c76e;globalDashboardSettings[_0x12a7fe(0x658)]=_0x12a7fe(0x3bd),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>switchProjectTab(_0xd2c76e(0xb49))),resultsTab[_0xd2c76e(0x6d5)]('click',()=>switchProjectTab(_0xd2c76e(0x128))),leaderboardTab[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>switchProjectTab(_0xd2c76e(0xc28))),document[_0xd2c76e(0x7a2)]('analytics-tab-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>switchQuizDetailTab('analytics')),document['getElementById']('scores-tab-btn')['addEventListener'](_0xd2c76e(0x22c),()=>switchQuizDetailTab('scores')),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2c5))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>switchQuizDetailTab(_0xd2c76e(0x4e4))),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x778))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>switchQuizDetailTab('behavior-log')),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xbbe))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x5774fd=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x91c)),_0x4950cb=document['getElementById'](_0xd2c76e(0x7bd)),_0x10df13=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7ca)),_0x50f1ac=document[_0xd2c76e(0x7a2)]('blueprint-input-area'),_0x39be7f=document['getElementById'](_0xd2c76e(0x6b5)),_0x227f86=document['getElementById']('parallel-test-input-area');topicTab[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x4babd8=_0xd2c76e;topicTab[_0x4babd8(0x6e6)][_0x4babd8(0x360)](_0x4babd8(0x63c)),textTab[_0x4babd8(0x6e6)][_0x4babd8(0x367)](_0x4babd8(0x63c)),fileTab[_0x4babd8(0x6e6)]['remove'](_0x4babd8(0x63c)),worksheetTab[_0x4babd8(0x6e6)][_0x4babd8(0x367)]('active');if(_0x5774fd)_0x5774fd['classList'][_0x4babd8(0x367)](_0x4babd8(0x63c));if(_0x10df13)_0x10df13['classList']['remove']('active');if(_0x39be7f)_0x39be7f[_0x4babd8(0x6e6)][_0x4babd8(0x367)]('active');topicInputArea[_0x4babd8(0x6e6)][_0x4babd8(0x367)]('hidden'),textInputArea[_0x4babd8(0x6e6)][_0x4babd8(0x360)]('hidden'),fileInputArea[_0x4babd8(0x6e6)]['add'](_0x4babd8(0x106)),worksheetInputArea[_0x4babd8(0x6e6)][_0x4babd8(0x360)]('hidden');if(_0x4950cb)_0x4950cb['classList'][_0x4babd8(0x360)](_0x4babd8(0x106));if(_0x50f1ac)_0x50f1ac[_0x4babd8(0x6e6)]['add'](_0x4babd8(0x106));if(_0x227f86)_0x227f86[_0x4babd8(0x6e6)]['add'](_0x4babd8(0x106));}),textTab['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x9879b3=_0xd2c76e;textTab[_0x9879b3(0x6e6)][_0x9879b3(0x360)](_0x9879b3(0x63c)),topicTab['classList'][_0x9879b3(0x367)]('active'),fileTab[_0x9879b3(0x6e6)][_0x9879b3(0x367)]('active'),worksheetTab[_0x9879b3(0x6e6)][_0x9879b3(0x367)](_0x9879b3(0x63c));if(_0x5774fd)_0x5774fd['classList'][_0x9879b3(0x367)](_0x9879b3(0x63c));if(_0x10df13)_0x10df13[_0x9879b3(0x6e6)]['remove'](_0x9879b3(0x63c));if(_0x39be7f)_0x39be7f[_0x9879b3(0x6e6)][_0x9879b3(0x367)](_0x9879b3(0x63c));textInputArea[_0x9879b3(0x6e6)][_0x9879b3(0x367)](_0x9879b3(0x106)),topicInputArea[_0x9879b3(0x6e6)][_0x9879b3(0x360)]('hidden'),fileInputArea[_0x9879b3(0x6e6)][_0x9879b3(0x360)]('hidden'),worksheetInputArea[_0x9879b3(0x6e6)]['add'](_0x9879b3(0x106));if(_0x4950cb)_0x4950cb[_0x9879b3(0x6e6)][_0x9879b3(0x360)](_0x9879b3(0x106));if(_0x50f1ac)_0x50f1ac['classList'][_0x9879b3(0x360)](_0x9879b3(0x106));if(_0x227f86)_0x227f86['classList'][_0x9879b3(0x360)]('hidden');}),fileTab[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x560324=_0xd2c76e;fileTab[_0x560324(0x6e6)][_0x560324(0x360)](_0x560324(0x63c)),topicTab['classList']['remove'](_0x560324(0x63c)),textTab[_0x560324(0x6e6)][_0x560324(0x367)](_0x560324(0x63c)),worksheetTab[_0x560324(0x6e6)][_0x560324(0x367)]('active');if(_0x5774fd)_0x5774fd[_0x560324(0x6e6)][_0x560324(0x367)]('active');if(_0x10df13)_0x10df13[_0x560324(0x6e6)][_0x560324(0x367)]('active');if(_0x39be7f)_0x39be7f['classList']['remove'](_0x560324(0x63c));fileInputArea[_0x560324(0x6e6)]['remove'](_0x560324(0x106)),topicInputArea['classList'][_0x560324(0x360)](_0x560324(0x106)),textInputArea[_0x560324(0x6e6)][_0x560324(0x360)](_0x560324(0x106)),worksheetInputArea[_0x560324(0x6e6)][_0x560324(0x360)](_0x560324(0x106));if(_0x4950cb)_0x4950cb[_0x560324(0x6e6)]['add'](_0x560324(0x106));if(_0x50f1ac)_0x50f1ac[_0x560324(0x6e6)][_0x560324(0x360)](_0x560324(0x106));if(_0x227f86)_0x227f86[_0x560324(0x6e6)][_0x560324(0x360)](_0x560324(0x106));}),worksheetTab['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x14a69e=_0xd2c76e;worksheetTab['classList'][_0x14a69e(0x360)](_0x14a69e(0x63c)),topicTab[_0x14a69e(0x6e6)]['remove']('active'),textTab['classList'][_0x14a69e(0x367)](_0x14a69e(0x63c)),fileTab[_0x14a69e(0x6e6)]['remove'](_0x14a69e(0x63c));if(_0x5774fd)_0x5774fd[_0x14a69e(0x6e6)][_0x14a69e(0x367)](_0x14a69e(0x63c));if(_0x10df13)_0x10df13['classList']['remove'](_0x14a69e(0x63c));if(_0x39be7f)_0x39be7f[_0x14a69e(0x6e6)][_0x14a69e(0x367)](_0x14a69e(0x63c));worksheetInputArea['classList'][_0x14a69e(0x367)](_0x14a69e(0x106)),topicInputArea['classList'][_0x14a69e(0x360)](_0x14a69e(0x106)),textInputArea['classList'][_0x14a69e(0x360)](_0x14a69e(0x106)),fileInputArea[_0x14a69e(0x6e6)]['add'](_0x14a69e(0x106));if(_0x4950cb)_0x4950cb[_0x14a69e(0x6e6)]['add'](_0x14a69e(0x106));if(_0x50f1ac)_0x50f1ac[_0x14a69e(0x6e6)][_0x14a69e(0x360)](_0x14a69e(0x106));if(_0x227f86)_0x227f86[_0x14a69e(0x6e6)][_0x14a69e(0x360)](_0x14a69e(0x106));});const _0x2cded0=document['getElementById'](_0xd2c76e(0x634)),_0x7feafe=document['getElementById']('bank-input-area');_0x2cded0&&_0x2cded0['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x371895=_0xd2c76e;topicTab['classList'][_0x371895(0x367)](_0x371895(0x63c)),textTab[_0x371895(0x6e6)][_0x371895(0x367)]('active'),fileTab[_0x371895(0x6e6)][_0x371895(0x367)](_0x371895(0x63c)),worksheetTab[_0x371895(0x6e6)][_0x371895(0x367)](_0x371895(0x63c));if(_0x5774fd)_0x5774fd[_0x371895(0x6e6)]['remove'](_0x371895(0x63c));if(_0x10df13)_0x10df13['classList'][_0x371895(0x367)](_0x371895(0x63c));if(_0x39be7f)_0x39be7f[_0x371895(0x6e6)][_0x371895(0x367)](_0x371895(0x63c));_0x2cded0['classList'][_0x371895(0x360)](_0x371895(0x63c)),topicInputArea[_0x371895(0x6e6)][_0x371895(0x360)](_0x371895(0x106)),textInputArea['classList']['add'](_0x371895(0x106)),fileInputArea[_0x371895(0x6e6)][_0x371895(0x360)](_0x371895(0x106)),worksheetInputArea[_0x371895(0x6e6)][_0x371895(0x360)](_0x371895(0x106));if(_0x4950cb)_0x4950cb[_0x371895(0x6e6)]['add'](_0x371895(0x106));if(_0x50f1ac)_0x50f1ac[_0x371895(0x6e6)]['add'](_0x371895(0x106));if(_0x227f86)_0x227f86[_0x371895(0x6e6)]['add'](_0x371895(0x106));_0x7feafe[_0x371895(0x6e6)][_0x371895(0x367)](_0x371895(0x106)),displayQuestionBank();});_0x5774fd&&(_0x5774fd['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x55d1d8=_0xd2c76e;_0x5774fd[_0x55d1d8(0x6e6)]['add']('active'),topicTab['classList'][_0x55d1d8(0x367)](_0x55d1d8(0x63c)),textTab['classList'][_0x55d1d8(0x367)](_0x55d1d8(0x63c)),fileTab[_0x55d1d8(0x6e6)][_0x55d1d8(0x367)](_0x55d1d8(0x63c)),worksheetTab[_0x55d1d8(0x6e6)]['remove'](_0x55d1d8(0x63c));if(_0x10df13)_0x10df13['classList'][_0x55d1d8(0x367)](_0x55d1d8(0x63c));if(_0x39be7f)_0x39be7f[_0x55d1d8(0x6e6)][_0x55d1d8(0x367)]('active');_0x4950cb['classList'][_0x55d1d8(0x367)](_0x55d1d8(0x106)),topicInputArea[_0x55d1d8(0x6e6)]['add']('hidden'),textInputArea[_0x55d1d8(0x6e6)][_0x55d1d8(0x360)](_0x55d1d8(0x106)),fileInputArea[_0x55d1d8(0x6e6)][_0x55d1d8(0x360)](_0x55d1d8(0x106)),worksheetInputArea['classList']['add'](_0x55d1d8(0x106));if(_0x50f1ac)_0x50f1ac[_0x55d1d8(0x6e6)][_0x55d1d8(0x360)](_0x55d1d8(0x106));if(_0x227f86)_0x227f86[_0x55d1d8(0x6e6)][_0x55d1d8(0x360)](_0x55d1d8(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xb44))['addEventListener']('click',handleGenerateFromLink));_0x10df13&&_0x10df13['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x3dff5a=_0xd2c76e;_0x10df13[_0x3dff5a(0x6e6)][_0x3dff5a(0x360)](_0x3dff5a(0x63c)),topicTab[_0x3dff5a(0x6e6)][_0x3dff5a(0x367)](_0x3dff5a(0x63c)),textTab[_0x3dff5a(0x6e6)][_0x3dff5a(0x367)]('active'),fileTab[_0x3dff5a(0x6e6)][_0x3dff5a(0x367)](_0x3dff5a(0x63c)),worksheetTab[_0x3dff5a(0x6e6)][_0x3dff5a(0x367)](_0x3dff5a(0x63c));if(_0x5774fd)_0x5774fd[_0x3dff5a(0x6e6)]['remove'](_0x3dff5a(0x63c));if(_0x2cded0)_0x2cded0[_0x3dff5a(0x6e6)]['remove'](_0x3dff5a(0x63c));if(_0x39be7f)_0x39be7f['classList'][_0x3dff5a(0x367)](_0x3dff5a(0x63c));_0x50f1ac[_0x3dff5a(0x6e6)][_0x3dff5a(0x367)]('hidden'),topicInputArea[_0x3dff5a(0x6e6)]['add'](_0x3dff5a(0x106)),textInputArea['classList'][_0x3dff5a(0x360)](_0x3dff5a(0x106)),fileInputArea[_0x3dff5a(0x6e6)][_0x3dff5a(0x360)](_0x3dff5a(0x106)),worksheetInputArea[_0x3dff5a(0x6e6)][_0x3dff5a(0x360)](_0x3dff5a(0x106));if(_0x4950cb)_0x4950cb[_0x3dff5a(0x6e6)][_0x3dff5a(0x360)]('hidden');if(_0x7feafe)_0x7feafe[_0x3dff5a(0x6e6)][_0x3dff5a(0x360)]('hidden');if(_0x227f86)_0x227f86[_0x3dff5a(0x6e6)]['add'](_0x3dff5a(0x106));});_0x39be7f&&_0x39be7f[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x518ba8=_0xd2c76e;_0x39be7f[_0x518ba8(0x6e6)][_0x518ba8(0x360)]('active'),topicTab[_0x518ba8(0x6e6)][_0x518ba8(0x367)]('active'),textTab[_0x518ba8(0x6e6)][_0x518ba8(0x367)](_0x518ba8(0x63c)),fileTab[_0x518ba8(0x6e6)][_0x518ba8(0x367)]('active'),worksheetTab[_0x518ba8(0x6e6)][_0x518ba8(0x367)]('active');if(_0x5774fd)_0x5774fd['classList']['remove'](_0x518ba8(0x63c));if(_0x10df13)_0x10df13['classList'][_0x518ba8(0x367)](_0x518ba8(0x63c));if(_0x2cded0)_0x2cded0[_0x518ba8(0x6e6)][_0x518ba8(0x367)]('active');_0x227f86[_0x518ba8(0x6e6)][_0x518ba8(0x367)](_0x518ba8(0x106)),topicInputArea[_0x518ba8(0x6e6)][_0x518ba8(0x360)](_0x518ba8(0x106)),textInputArea['classList'][_0x518ba8(0x360)](_0x518ba8(0x106)),fileInputArea[_0x518ba8(0x6e6)][_0x518ba8(0x360)]('hidden'),worksheetInputArea[_0x518ba8(0x6e6)]['add'](_0x518ba8(0x106));if(_0x4950cb)_0x4950cb['classList'][_0x518ba8(0x360)](_0x518ba8(0x106));if(_0x50f1ac)_0x50f1ac[_0x518ba8(0x6e6)][_0x518ba8(0x360)](_0x518ba8(0x106));if(_0x7feafe)_0x7feafe[_0x518ba8(0x6e6)][_0x518ba8(0x360)](_0x518ba8(0x106));});const _0x4637aa=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x69c)),_0x28498c=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x6e4));if(_0x4637aa){const _0x4aaaa7=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x69c)),_0x49a54b=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x6e4)),_0x389dfc=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2d0)),_0x2312a6=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x99f)),_0x4e92ac=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x861)),_0x2baf8b=document[_0xd2c76e(0x7a2)](_0xd2c76e(0xae0));_0x4aaaa7&&_0x4aaaa7['addEventListener'](_0xd2c76e(0x19b),async _0x12e09d=>{const _0x11bde0=_0xd2c76e;_0x389dfc[_0x11bde0(0x6e6)][_0x11bde0(0x360)](_0x11bde0(0x106)),_0x4e92ac['classList'][_0x11bde0(0x360)](_0x11bde0(0x106)),_0x2312a6[_0x11bde0(0x8cc)]=![],_0x49a54b[_0x11bde0(0xc47)]=!![];const _0x3f803f=_0x12e09d['target'][_0x11bde0(0xb7b)][0x0];if(_0x3f803f){_0x49a54b['disabled']=![];try{const _0x6a33c6=await extractTextFromPdf(_0x3f803f);await analyzeBlueprintForTopics(_0x6a33c6);}catch(_0x4b60a9){showMessage(_0x11bde0(0x1a8)),_0x389dfc['classList']['add']('hidden');}}}),_0x2312a6&&_0x2312a6[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0x5b51f2=>{const _0x4b8e71=_0xd2c76e,_0x390df4=_0x5b51f2['target'][_0x4b8e71(0x8cc)];_0x4e92ac[_0x4b8e71(0x6e6)][_0x4b8e71(0xb38)](_0x4b8e71(0x106),!_0x390df4),_0x49a54b[_0x4b8e71(0xc47)]=_0x390df4;}),_0x2baf8b&&(_0x2baf8b&&_0x2baf8b[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x40388c=>{const _0x285c10=_0xd2c76e,_0x5552ab=_0x40388c[_0x285c10(0x4c1)][_0x285c10(0x38e)](_0x285c10(0x8d0)),_0x418812=_0x40388c['target'][_0x285c10(0x38e)](_0x285c10(0x62e));if(_0x5552ab){const _0x4351d7=unescape(_0x5552ab['dataset'][_0x285c10(0xc63)]);generateQuizForSingleTopic(_0x4351d7);}else{if(_0x418812){const _0x729330=unescape(_0x418812[_0x285c10(0xb1e)][_0x285c10(0xc63)]);handleGenerateTeachingContent(_0x729330);}}}));}_0x28498c&&_0x28498c[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleGenerateFromBlueprint);const _0x8a4fba=document[_0xd2c76e(0x7a2)]('parallel-test-upload-input'),_0x2d89b2=document['getElementById']('generate-from-parallel-test-btn');_0x8a4fba&&_0x8a4fba[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0x1a6375=>{const _0x4f6cc1=_0xd2c76e;_0x2d89b2[_0x4f6cc1(0xc47)]=_0x1a6375['target']['files'][_0x4f6cc1(0x987)]===0x0;});_0x2d89b2&&_0x2d89b2[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{handleGenerateParallelTest();});loadQuizBtn[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),handleLoadQuiz),startQuizBtn['addEventListener'](_0xd2c76e(0x22c),async()=>{const _0x4537fe=_0xd2c76e,_0x3f1cd7=document[_0x4537fe(0x7a2)](_0x4537fe(0x3b3));currentStudentName=_0x3f1cd7['value'];if(!currentStudentName){showMessage(_0x4537fe(0x631));return;}try{const _0x37b897=currentQuizData['id'],_0x5d32e0=doc(db,_0x4537fe(0xc14)+appId+_0x4537fe(0x6b0)+_0x37b897+_0x4537fe(0x68c),currentStudentName),_0x3186f8=await getDoc(_0x5d32e0);!_0x3186f8[_0x4537fe(0xfc)]()?await setDoc(_0x5d32e0,{'studentName':currentStudentName,'startedAt':new Date()[_0x4537fe(0x25b)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5d32e0,{'startedAt':new Date()[_0x4537fe(0x25b)]()});}catch(_0x52914f){console['error'](_0x4537fe(0x7b2),_0x52914f),showMessage(_0x4537fe(0x869));return;}studentNameSelectionView[_0x4537fe(0x6e6)][_0x4537fe(0x360)](_0x4537fe(0x106)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x375))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),showJoinGameView),document[_0xd2c76e(0x7a2)]('confirm-join-game-btn')['addEventListener'](_0xd2c76e(0x22c),handleJoinLiveGame),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x23c))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>showView(_0xd2c76e(0xb56)));const _0x3771d4=()=>{const _0x9881f2=_0xd2c76e,_0x21faa0=document['getElementById'](_0x9881f2(0x471))[_0x9881f2(0x930)][_0x9881f2(0x892)](/[^a-z0-9]/gi,'_')[_0x9881f2(0x53c)]();return _0x9881f2(0xb6d)+(_0x21faa0||_0x9881f2(0xc6c));},_0x908fc2=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x2b4));_0x908fc2&&_0x908fc2['addEventListener'](_0xd2c76e(0xc41),_0x4eb8ff=>{const _0x2cc9d3=_0xd2c76e,_0x1d8256=_0x4eb8ff[_0x2cc9d3(0x4c1)]['value']['toLowerCase']()[_0x2cc9d3(0x6ad)](),_0x3dc24c=document[_0x2cc9d3(0x7a2)]('math-topics-checkbox-container'),_0xd30180=_0x3dc24c['querySelectorAll'](_0x2cc9d3(0x4f5));_0xd30180[_0x2cc9d3(0x1b7)](_0x585eab=>{const _0x5c787d=_0x2cc9d3;let _0x3ff93e=![];const _0x40cde5=_0x585eab['querySelectorAll'](_0x5c787d(0x53d));_0x40cde5['forEach'](_0x53a740=>{const _0xc97cf3=_0x5c787d,_0x5efcee=_0x53a740['querySelector']('.topic-name-display')['textContent'][_0xc97cf3(0x53c)]();_0x5efcee['includes'](_0x1d8256)?(_0x53a740[_0xc97cf3(0x1af)][_0xc97cf3(0xbdc)]='flex',_0x3ff93e=!![]):_0x53a740[_0xc97cf3(0x1af)][_0xc97cf3(0xbdc)]=_0xc97cf3(0x799);}),_0x3ff93e?_0x585eab[_0x5c787d(0x1af)][_0x5c787d(0xbdc)]=_0x5c787d(0x369):_0x585eab[_0x5c787d(0x1af)][_0x5c787d(0xbdc)]=_0x5c787d(0x799);});});document['getElementById']('export-image-btn')['addEventListener'](_0xd2c76e(0x22c),()=>exportTableAsImage(_0xd2c76e(0xb1a),_0x3771d4())),document['getElementById'](_0xd2c76e(0x825))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>exportTableAsPDF(_0xd2c76e(0x6cc),_0x3771d4())),document['getElementById']('export-word-btn')['addEventListener'](_0xd2c76e(0x22c),()=>exportTableAsWord(_0xd2c76e(0xb1a),_0x3771d4())),document[_0xd2c76e(0x7a2)]('export-excel-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>exportTableAsExcel(_0xd2c76e(0x6cc),_0x3771d4()));const _0x30dbda=()=>{const _0x274c88=_0xd2c76e,_0x456723=document[_0x274c88(0x7a2)]('results-quiz-title')[_0x274c88(0x930)][_0x274c88(0x892)](/[^a-z0-9]/gi,'_')[_0x274c88(0x53c)]();return'leaderboard_'+(_0x456723||'quiz');};document['getElementById'](_0xd2c76e(0x909))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x30dbda())),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x368))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>exportTableAsPDF(_0xd2c76e(0x7e9),_0x30dbda())),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x101))[_0xd2c76e(0x6d5)]('click',()=>exportTableAsWord(_0xd2c76e(0x7a7),_0x30dbda())),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xa7d))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>exportTableAsExcel(_0xd2c76e(0x7e9),_0x30dbda())),projectQuizzesList[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),async _0x5d9afc=>{const _0x18be5f=_0xd2c76e,_0xde58b2=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x811)),_0x4eb4a2=_0x5d9afc['target'][_0x18be5f(0x38e)](_0x18be5f(0x1b2)),_0x335ded=_0x5d9afc[_0x18be5f(0x4c1)]['closest'](_0x18be5f(0x24a)),_0x4f5f4d=_0x5d9afc[_0x18be5f(0x4c1)]['closest'](_0x18be5f(0x149)),_0x30ce0a=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x2c6)),_0x5095d2=_0x5d9afc['target'][_0x18be5f(0x38e)](_0x18be5f(0xb73)),_0x3aef3f=_0x5d9afc['target'][_0x18be5f(0x38e)](_0x18be5f(0x4f2)),_0x40900f=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x4d7)),_0x8dc1e8=_0x5d9afc[_0x18be5f(0x4c1)]['closest'](_0x18be5f(0x38c)),_0x2e5452=_0x5d9afc[_0x18be5f(0x4c1)]['closest'](_0x18be5f(0x152)),_0x2db15b=_0x5d9afc[_0x18be5f(0x4c1)]['closest']('.parallel-quiz-btn'),_0xf98c89=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x23e)),_0x8f9ec5=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0xb7d)),_0x4ff9b1=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0xa0c)),_0x3888b8=_0x5d9afc['target'][_0x18be5f(0x38e)](_0x18be5f(0xa6e)),_0x45b225=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)]('.admin-try-quiz-list-btn'),_0x4fd0c2=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x604)),_0x3b4d4f=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0xf8)),_0x17fdea=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x35e)),_0x520c2d=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x76a)),_0x327336=_0x5d9afc['target'][_0x18be5f(0x38e)]('.generate-easy-version-btn'),_0x42c8fe=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x6a2)),_0x393f55=_0x5d9afc[_0x18be5f(0x4c1)][_0x18be5f(0x38e)](_0x18be5f(0x426));if(_0x42c8fe){const _0x201f05=_0x42c8fe[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x2a68a2=_0x42c8fe[_0x18be5f(0xb1e)][_0x18be5f(0x8d5)],_0x333f7e=allQuizzes[_0x18be5f(0x22a)](_0x2c4e81=>_0x2c4e81['id']===_0x201f05);_0x333f7e&&showGameStartConfirmationModal(_0x201f05,_0x2a68a2,_0x333f7e[_0x18be5f(0xc63)]);}else{if(_0x393f55){const _0x5429b6=_0x393f55[_0x18be5f(0xb1e)][_0x18be5f(0x502)];handleStartLiveRace(_0x5429b6);}else{if(_0x520c2d){const _0x5d6aee=_0x520c2d[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x250cb4=document['getElementById'](_0x18be5f(0x6e0)+_0x5d6aee);_0x250cb4&&_0x250cb4[_0x18be5f(0x6e6)]['toggle'](_0x18be5f(0x106));}else{if(_0x4eb4a2){const _0x1bc077=_0x4eb4a2[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x2c6ffb=allQuizzes[_0x18be5f(0x22a)](_0x45e85b=>_0x45e85b['id']===_0x1bc077);_0x2c6ffb&&handleGenerateParallelPostTest(_0x2c6ffb);}else{if(_0x335ded)handleCompareResults(_0x335ded[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x335ded[_0x18be5f(0xb1e)]['preTestId']);else{if(_0x4f5f4d){const _0x3e07d9=_0x4f5f4d[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x42fe28=allQuizzes[_0x18be5f(0x22a)](_0x26e4e2=>_0x26e4e2['id']===_0x3e07d9);_0x42fe28&&_0x42fe28[_0x18be5f(0x7ef)]?(displayLessonPlan(_0x42fe28[_0x18be5f(0x7ef)],_0x42fe28),showConfirmation(_0x18be5f(0x3e3),()=>handleGenerateLessonPlan(_0x3e07d9)),document[_0x18be5f(0x7a2)](_0x18be5f(0xa62))[_0x18be5f(0xba0)]('h3')[_0x18be5f(0x930)]=_0x18be5f(0xad2),document[_0x18be5f(0x7a2)]('confirm-delete-btn')[_0x18be5f(0x930)]=_0x18be5f(0x1e8)):handleGenerateLessonPlan(_0x3e07d9);}else{if(_0x30ce0a)handleToggleStarQuiz(_0x30ce0a['dataset'][_0x18be5f(0x502)]);else{if(_0x5095d2)copyTextToClipboard(_0x5095d2[_0x18be5f(0xb1e)]['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x3aef3f)handleOpenQuizEditor(_0x3aef3f[_0x18be5f(0xb1e)][_0x18be5f(0x502)]);else{if(_0x40900f)handleQuizSettings(_0x40900f['dataset'][_0x18be5f(0x502)]);else{if(_0x8dc1e8)handleDuplicateQuiz(_0x8dc1e8[_0x18be5f(0xb1e)][_0x18be5f(0x502)]);else{if(_0x2e5452)handleRenameQuiz(_0x2e5452['dataset'][_0x18be5f(0x502)],_0x2e5452[_0x18be5f(0xb1e)][_0x18be5f(0xc63)]);else{if(_0x2db15b){const _0x4d31b4=_0x2db15b[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x2d1d41=allQuizzes[_0x18be5f(0x22a)](_0x120c25=>_0x120c25['id']===_0x4d31b4);_0x2d1d41&&handleGenerateParallelFromBank(_0x2d1d41);}else{if(_0xf98c89)handleMoveQuiz(_0xf98c89[_0x18be5f(0xb1e)][_0x18be5f(0x502)]);else{if(_0x8f9ec5)handleManualQuizPairing(_0x8f9ec5[_0x18be5f(0xb1e)]['quizId']);else{if(_0x4ff9b1)handleUnpairQuiz(_0x4ff9b1['dataset']['quizId']);else{if(_0x3888b8){const _0xb6d904=_0x3888b8[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0x2abde9=allQuizzes[_0x18be5f(0x22a)](_0x1e2854=>_0x1e2854['id']===_0xb6d904);if(_0x2abde9)startPresentation(_0x2abde9);}else{if(_0x45b225){const _0x3eb90b=_0x45b225[_0x18be5f(0xb1e)][_0x18be5f(0x502)],_0xa61f2b=allQuizzes[_0x18be5f(0x22a)](_0x55792f=>_0x55792f['id']===_0x3eb90b);_0xa61f2b&&(currentQuizData=_0xa61f2b,startAdminTest());}else{if(_0x4fd0c2)actionTargetId=_0x4fd0c2[_0x18be5f(0xb1e)][_0x18be5f(0x502)],document[_0x18be5f(0x7a2)](_0x18be5f(0x776))[_0x18be5f(0x6e6)][_0x18be5f(0x367)](_0x18be5f(0x106));else{if(_0x3b4d4f)showConfirmation(_0x18be5f(0x10b)+_0x3b4d4f[_0x18be5f(0xb1e)][_0x18be5f(0xc63)]+_0x18be5f(0x6e8),()=>handleDeleteQuiz(_0x3b4d4f[_0x18be5f(0xb1e)][_0x18be5f(0x502)]));else{if(_0x17fdea)handleQuizStatus(_0x17fdea[_0x18be5f(0xb1e)][_0x18be5f(0x502)]);else{if(_0x327336)handleGenerateEasyVersionQuiz(_0x327336[_0x18be5f(0xb1e)]['quizId']);else _0xde58b2&&showQuizDetailView(_0xde58b2['dataset'][_0x18be5f(0x502)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0xd2c76e(0x7a2)]('cancel-team-selection-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>showView(_0xd2c76e(0xb56))),document['getElementById']('confirm-team-players-btn')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),confirmAndStartTeamQuiz),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7e9))[_0xd2c76e(0xba0)]('thead')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x1a415d=>{const _0x263036=_0xd2c76e,_0x5a4d30=_0x1a415d[_0x263036(0x4c1)][_0x263036(0x38e)](_0x263036(0x224));if(!_0x5a4d30||!_0x5a4d30[_0x263036(0xb1e)][_0x263036(0x2ea)])return;const _0x10c5c8=_0x5a4d30[_0x263036(0xb1e)][_0x263036(0x2ea)];if(quizLeaderboardSortBy===_0x10c5c8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x263036(0xb12)?_0x263036(0xa69):_0x263036(0xb12);else{quizLeaderboardSortBy=_0x10c5c8;const _0x5be889=[_0x263036(0xb82)];quizLeaderboardSortOrder=_0x5be889[_0x263036(0x679)](_0x10c5c8)?_0x263036(0xb12):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0xd2c76e(0x7a2)]('close-presentation-btn')[_0xd2c76e(0x6d5)]('click',closePresentation),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x293))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x63a))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x3b4be7=_0xd2c76e;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x3b4be7(0x72a)][_0x3b4be7(0x987)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0xd2c76e(0x6d5)](_0xd2c76e(0x285),()=>{const _0x493fa9=_0xd2c76e;!document[_0x493fa9(0xa32)]&&(presentationModal[_0x493fa9(0x1af)][_0x493fa9(0xbdc)]=_0x493fa9(0x799));}),document[_0xd2c76e(0x7a2)]('delete-all-students-btn')[_0xd2c76e(0x6d5)]('click',handleDeleteAllStudents),studentList[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x23646a=>{const _0x3e86ba=_0xd2c76e,_0x3cf645=_0x23646a['target']['closest'](_0x3e86ba(0xaa7));if(_0x3cf645){const _0x2e2072=_0x3cf645[_0x3e86ba(0xb1e)][_0x3e86ba(0xb82)];handleDeleteStudent(_0x2e2072);}}),document['getElementById']('generate-from-file-btn')['addEventListener'](_0xd2c76e(0x22c),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0xd2c76e(0x19b),_0x556630=>{const _0x151faf=_0xd2c76e,_0x2cbebc=_0x556630['target'][_0x151faf(0xb7b)][0x0],_0x2570f7=document[_0x151faf(0x7a2)]('generate-from-file-btn'),_0x2e1fe0=document['getElementById'](_0x151faf(0xbdd)),_0x3ae7b3=document[_0x151faf(0x7a2)](_0x151faf(0x23b));_0x2cbebc?(selectedFile=_0x2cbebc,_0x3ae7b3['checked']?(_0x2570f7[_0x151faf(0xc47)]=!![],analyzeFileForTopics(_0x2cbebc)):(_0x2570f7[_0x151faf(0xc47)]=![],_0x2e1fe0[_0x151faf(0x6e6)][_0x151faf(0x360)](_0x151faf(0x106)))):(selectedFile=null,_0x2570f7[_0x151faf(0xc47)]=!![],_0x2e1fe0['classList'][_0x151faf(0x360)](_0x151faf(0x106)));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x23b))[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0xe552be=>{const _0x25b68b=_0xd2c76e,_0x4dd876=_0xe552be[_0x25b68b(0x4c1)][_0x25b68b(0x8cc)],_0xbfabe9=document[_0x25b68b(0x7a2)](_0x25b68b(0xc4a)),_0x16f291=document[_0x25b68b(0x7a2)](_0x25b68b(0xbdd));_0x4dd876?(_0xbfabe9[_0x25b68b(0xc47)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x16f291['classList'][_0x25b68b(0x367)](_0x25b68b(0x106)),document['getElementById'](_0x25b68b(0x27a))[_0x25b68b(0x322)]=_0x25b68b(0x612))):(_0x16f291['classList'][_0x25b68b(0x360)](_0x25b68b(0x106)),_0xbfabe9['disabled']=!selectedFile);}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xbdd))[_0xd2c76e(0x6d5)]('click',_0x5ddab4=>{const _0x5d29a7=_0xd2c76e,_0x22282e=_0x5ddab4['target'][_0x5d29a7(0x38e)](_0x5d29a7(0x78a)),_0x1c6976=_0x5ddab4[_0x5d29a7(0x4c1)]['closest'](_0x5d29a7(0x62e));if(_0x22282e){const _0x20dd8d=unescape(_0x22282e[_0x5d29a7(0xb1e)]['topic']);generateHybridQuizForTopic(_0x20dd8d);}else{if(_0x1c6976){const _0x431753=unescape(_0x1c6976['dataset'][_0x5d29a7(0xc63)]),_0x181f43=document['getElementById'](_0x5d29a7(0x20a))[_0x5d29a7(0x682)];handleGenerateAndShowLesson(_0x431753,_0x181f43);}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x4e7))[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0x11490e=>{const _0x485947=_0xd2c76e,_0x20ed1e=document[_0x485947(0x7a2)]('timer-duration-container'),_0x92ed4a=document[_0x485947(0x7a2)](_0x485947(0x3fe)),_0x2ad88a=document['getElementById'](_0x485947(0xba1));_0x11490e[_0x485947(0x4c1)]['value']===_0x485947(0x799)?_0x20ed1e[_0x485947(0x6e6)][_0x485947(0x360)]('hidden'):(_0x20ed1e[_0x485947(0x6e6)][_0x485947(0x367)](_0x485947(0x106)),_0x11490e[_0x485947(0x4c1)][_0x485947(0x682)]===_0x485947(0x350)?(_0x92ed4a[_0x485947(0x930)]=_0x485947(0xc5e),_0x2ad88a[_0x485947(0x682)]='10'):(_0x92ed4a['textContent']=_0x485947(0x464),_0x2ad88a[_0x485947(0x682)]='30'));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x6a1))[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0x1cd260=>{const _0x4f9012=_0xd2c76e,_0x2c2b75=document[_0x4f9012(0x7a2)]('num-choices-container'),_0x8b24c0=_0x1cd260['target'][_0x4f9012(0x682)],_0x600f1f=document[_0x4f9012(0xba0)](_0x4f9012(0x18d)),_0x4f215f=document[_0x4f9012(0x7a2)](_0x4f9012(0x259)),_0xb472c3=document['getElementById']('num-questions');_0x8b24c0===_0x4f9012(0x23f)?_0x600f1f[_0x4f9012(0x930)]=_0x4f9012(0x3ca):_0x600f1f[_0x4f9012(0x930)]='จำนวนข้อ:',_0x8b24c0===_0x4f9012(0x2ac)||_0x8b24c0===_0x4f9012(0x931)||_0x8b24c0===_0x4f9012(0xb95)?_0x2c2b75[_0x4f9012(0x6e6)][_0x4f9012(0x367)](_0x4f9012(0x106)):_0x2c2b75[_0x4f9012(0x6e6)]['add'](_0x4f9012(0x106)),_0x4f215f[_0x4f9012(0x829)]=_0xb472c3[_0x4f9012(0x682)];}),document['getElementById']('num-questions')[_0xd2c76e(0x6d5)](_0xd2c76e(0xc41),_0x3199a0=>{const _0xb10967=_0xd2c76e;document[_0xb10967(0x7a2)](_0xb10967(0x259))[_0xb10967(0x829)]=_0x3199a0[_0xb10967(0x4c1)][_0xb10967(0x682)];}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x7ed))[_0xd2c76e(0x6d5)](_0xd2c76e(0x19b),_0x8b5df7=>{const _0xa5495a=_0xd2c76e,_0x3c1bd5=document[_0xa5495a(0x7a2)](_0xa5495a(0x338)),_0x930636=document[_0xa5495a(0x7a2)](_0xa5495a(0xa5d)),_0x5b9c39=document[_0xa5495a(0x7a2)]('modal-timer-duration-input');_0x8b5df7['target'][_0xa5495a(0x682)]==='none'?_0x3c1bd5['classList']['add']('hidden'):(_0x3c1bd5[_0xa5495a(0x6e6)]['remove'](_0xa5495a(0x106)),_0x8b5df7[_0xa5495a(0x4c1)][_0xa5495a(0x682)]===_0xa5495a(0x350)?_0x930636['textContent']=_0xa5495a(0xc5e):_0x930636[_0xa5495a(0x930)]=_0xa5495a(0x464));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x8bc))[_0xd2c76e(0x6d5)]('click',()=>{const _0x5d1cf5=_0xd2c76e;document[_0x5d1cf5(0x7a2)]('quiz-editor-modal')['classList'][_0x5d1cf5(0x360)](_0x5d1cf5(0x106));}),document[_0xd2c76e(0x7a2)]('cancel-quiz-edits-btn-footer')[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x19b236=_0xd2c76e;document[_0x19b236(0x7a2)](_0x19b236(0xb85))[_0x19b236(0x6e6)][_0x19b236(0x360)]('hidden');}),document['getElementById'](_0xd2c76e(0x3e5))['addEventListener'](_0xd2c76e(0x22c),handleVerifyAnswersInEditor),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x63e))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x1b782b=_0xd2c76e;document['getElementById']('quiz-editor-modal')[_0x1b782b(0x6e6)]['add'](_0x1b782b(0x106)),showConfirmation(_0x1b782b(0x91e),handleSaveChanges);}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xada))['addEventListener']('click',handleAutoFixLatex);const _0x2f8c5a=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x21f));_0x2f8c5a&&_0x2f8c5a[_0xd2c76e(0x6d5)]('click',_0x3b63dc=>{const _0x305497=_0xd2c76e,_0x3e91f3=_0x3b63dc[_0x305497(0x4c1)][_0x305497(0x38e)](_0x305497(0xafc)),_0x4abb2f=_0x3b63dc[_0x305497(0x4c1)][_0x305497(0x38e)](_0x305497(0x9c6));if(_0x3e91f3){const _0x248807=_0x3e91f3['closest'](_0x305497(0xa79)),_0x2224f7=parseInt(_0x248807[_0x305497(0xb1e)][_0x305497(0x4cc)],0xa);handleRegenerateQuestionInEditor(_0x2224f7);}else{if(_0x4abb2f){const _0x59b3ed=_0x4abb2f[_0x305497(0x38e)](_0x305497(0xa79)),_0x523102=parseInt(_0x59b3ed[_0x305497(0xb1e)]['qIndex'],0xa);handleAiFixFormula(_0x523102);}}});document['getElementById']('open-quiz-bank-btn')[_0xd2c76e(0x6d5)]('click',openQuizBankModal),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x70b))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x50a7f5=_0xd2c76e;document[_0x50a7f5(0x7a2)](_0x50a7f5(0xa90))['classList'][_0x50a7f5(0x360)](_0x50a7f5(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x1d2))[_0xd2c76e(0x6d5)](_0xd2c76e(0xc41),_0x95024=>renderQuizBankList(_0x95024[_0xd2c76e(0x4c1)][_0xd2c76e(0x682)]));const _0x5216a0=document[_0xd2c76e(0x7a2)](_0xd2c76e(0x738));if(_0x5216a0){let _0x5b30f0=null;_0x5216a0[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),_0x1c943c=>{const _0x3d7c2a=_0xd2c76e,_0x131261=_0x1c943c[_0x3d7c2a(0x4c1)],_0x29f28f=_0x131261[_0x3d7c2a(0x38e)](_0x3d7c2a(0xa6c)),_0x30986a=_0x131261['closest'](_0x3d7c2a(0x191)),_0x310a54=_0x131261['closest'](_0x3d7c2a(0x354)),_0x5956ac=_0x131261[_0x3d7c2a(0x38e)](_0x3d7c2a(0x5d1));if(_0x30986a){_0x1c943c[_0x3d7c2a(0x623)]();const _0x466f7c=_0x30986a[_0x3d7c2a(0xb1e)]['id'],_0x122dd2=_0x30986a['closest'](_0x3d7c2a(0x2fd))[_0x3d7c2a(0xba0)](_0x3d7c2a(0xa4a))['textContent'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x122dd2+'\x22?',()=>handleDeleteCustomTopic(_0x466f7c));}else{if(_0x29f28f){_0x1c943c[_0x3d7c2a(0x623)]();_0x5b30f0&&toggleTopicEditMode(_0x5b30f0,![]);const _0x34010d=_0x29f28f[_0x3d7c2a(0x38e)]('[data-topic-container-id]');_0x5b30f0=_0x34010d,toggleTopicEditMode(_0x34010d,!![]);}else{if(_0x310a54){_0x1c943c[_0x3d7c2a(0x623)]();const _0x4da5c5=_0x310a54[_0x3d7c2a(0xb1e)]['id'],_0x3dcdd8=_0x310a54[_0x3d7c2a(0x38e)](_0x3d7c2a(0x4b3)),_0x2e52b1=_0x3dcdd8[_0x3d7c2a(0xba0)](_0x3d7c2a(0xac2))[_0x3d7c2a(0x682)];handleUpdateCustomTopic(_0x4da5c5,_0x2e52b1),_0x5b30f0=null;}else{if(_0x5956ac){_0x1c943c[_0x3d7c2a(0x623)]();const _0x3e30f2=_0x5956ac[_0x3d7c2a(0x38e)]('[data-topic-container-id]');toggleTopicEditMode(_0x3e30f2,![]),_0x5b30f0=null;}}}}}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0xc45))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x7967a8=_0xd2c76e;document['getElementById'](_0x7967a8(0x601))[_0x7967a8(0x6e6)][_0x7967a8(0x360)](_0x7967a8(0x106));}),document['getElementById'](_0xd2c76e(0x15e))[_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),()=>{const _0x48c24a=_0xd2c76e;document[_0x48c24a(0x7a2)](_0x48c24a(0x601))['classList'][_0x48c24a(0x360)](_0x48c24a(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x996))[_0xd2c76e(0x6d5)]('click',handleExportLessonPDF);}document['getElementById'](_0xd2c76e(0x9ba))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x4289e0=_0xd2c76e;document[_0x4289e0(0x7a2)](_0x4289e0(0x2cd))[_0x4289e0(0x6e6)][_0x4289e0(0x360)](_0x4289e0(0x106));}),document[_0xd2c76e(0x7a2)](_0xd2c76e(0x9c9))['addEventListener'](_0xd2c76e(0x22c),()=>{const _0x347c59=_0xd2c76e;document[_0x347c59(0x7a2)](_0x347c59(0x2cd))[_0x347c59(0x6e6)][_0x347c59(0x360)](_0x347c59(0x106));}),setupComparisonModalTabs(),document[_0xd2c76e(0x2e6)][_0xd2c76e(0x6d5)](_0xd2c76e(0x22c),function(_0x79052b){const _0x1e05a3=_0xd2c76e;if(_0x79052b[_0x1e05a3(0x4c1)][_0x1e05a3(0x6e6)][_0x1e05a3(0x7f1)]('practice-topic-btn')){const _0x19bd24=unescape(_0x79052b[_0x1e05a3(0x4c1)]['dataset'][_0x1e05a3(0xc63)]);startSkillPractice(_0x19bd24);}}),document[_0xd2c76e(0x7a2)]('scores-tab-content')['addEventListener'](_0xd2c76e(0x22c),_0x546800=>{const _0x29640b=_0xd2c76e,_0x28c2f1=_0x546800[_0x29640b(0x4c1)][_0x29640b(0x38e)](_0x29640b(0x755));if(_0x28c2f1){const _0x153a5c=_0x28c2f1[_0x29640b(0xb1e)][_0x29640b(0xb82)];handleDeleteSubmission(_0x153a5c);}});}async function handleStartGroupMode(_0xbd6be4,_0x1386d5=![]){const _0x22f54b=_0x15116f,_0x16e076=allQuizzes[_0x22f54b(0x22a)](_0x3554ae=>_0x3554ae['id']===_0xbd6be4)||allQuizzesGlobal[_0x22f54b(0x22a)](_0x91f42c=>_0x91f42c['id']===_0xbd6be4);if(!_0x16e076){showMessage(_0x22f54b(0xc0a));return;}currentQuizData=getShuffledQuiz(_0x16e076);const _0x387d9=Math['floor'](0x3e8+Math[_0x22f54b(0xaeb)]()*0x2328)['toString']();try{const _0x1e56a9=await addDoc(collection(db,_0x22f54b(0xc14)+appId+_0x22f54b(0xb78)),{'quizId':_0x16e076['id'],'projectId':_0x16e076[_0x22f54b(0xb9b)],'status':_0x22f54b(0x72d),'pin':_0x387d9,'mode':_0x22f54b(0x867),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1386d5});currentTeamQuizId=_0x1e56a9['id'],showView(_0x22f54b(0xa89)),renderAdminTeamQuizDashboard(_0x387d9,_0x16e076['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x4b7242){console[_0x22f54b(0x13b)](_0x22f54b(0x334),_0x4b7242),showMessage(_0x22f54b(0x3e0));}}async function showStudentProgressView(){const _0x2c1975=_0x15116f;studentInitialView[_0x2c1975(0x6e6)][_0x2c1975(0x360)](_0x2c1975(0x106)),document[_0x2c1975(0x7a2)](_0x2c1975(0x603))[_0x2c1975(0x6e6)][_0x2c1975(0x367)](_0x2c1975(0x106));const _0x1d19f3=document[_0x2c1975(0x7a2)](_0x2c1975(0x4f9)),_0x45dc89=document[_0x2c1975(0x7a2)](_0x2c1975(0x8c5)),_0x5baee9=document['getElementById'](_0x2c1975(0x932));_0x5baee9[_0x2c1975(0x322)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x45dc89[_0x2c1975(0x322)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x45dc89[_0x2c1975(0xc47)]=!![],_0x1d19f3[_0x2c1975(0x322)]=_0x2c1975(0x1fe);if(allProjects[_0x2c1975(0x987)]===0x0){const _0x317c3b=collection(db,_0x2c1975(0xc14)+appId+'/public/data/projects'),_0x12e04e=await getDocs(_0x317c3b);allProjects=_0x12e04e[_0x2c1975(0x610)][_0x2c1975(0x217)](_0x41c876=>({'id':_0x41c876['id'],..._0x41c876[_0x2c1975(0xc6b)]()}));}const _0x239aaf=allProjects[_0x2c1975(0x431)](_0x14820a=>_0x14820a[_0x2c1975(0xad7)]?.[_0x2c1975(0x918)]!==![]);_0x239aaf[_0x2c1975(0x2ea)]((_0x47944e,_0x5a206b)=>_0x47944e['projectName'][_0x2c1975(0xb43)](_0x5a206b['projectName'],'th')),_0x1d19f3[_0x2c1975(0x322)]=_0x2c1975(0x573)+_0x239aaf[_0x2c1975(0x217)](_0x162d2f=>'<option\x20value=\x22'+_0x162d2f['id']+'\x22>'+_0x162d2f[_0x2c1975(0x208)]+'</option>')[_0x2c1975(0x935)](''),_0x1d19f3[_0x2c1975(0x8e2)]=()=>{const _0x3b17cc=_0x2c1975,_0x29d282=_0x45dc89[_0x3b17cc(0x682)],_0x33e197=_0x1d19f3[_0x3b17cc(0x682)];_0x45dc89[_0x3b17cc(0xc47)]=!![],_0x45dc89[_0x3b17cc(0x322)]=_0x3b17cc(0x5bf),_0x5baee9[_0x3b17cc(0x322)]=_0x3b17cc(0x657);if(!_0x33e197)return;const _0x2f4dc8=allProjects[_0x3b17cc(0x22a)](_0x388080=>_0x388080['id']===_0x33e197);if(!_0x2f4dc8||!_0x2f4dc8['students'])return;const _0xcc0df9=()=>{const _0x16d183=_0x3b17cc;_0x45dc89[_0x16d183(0x322)]=_0x16d183(0x5bf)+_0x2f4dc8['students'][_0x16d183(0x217)](_0x214013=>'<option\x20value=\x22'+_0x214013+'\x22>'+_0x214013+_0x16d183(0x76d))['join'](''),_0x45dc89['disabled']=![];const _0x5a295d=Array[_0x16d183(0x636)](_0x45dc89[_0x16d183(0xbd3)])[_0x16d183(0x217)](_0x26d0ad=>_0x26d0ad['value']);if(_0x29d282&&_0x5a295d[_0x16d183(0x679)](_0x29d282))_0x45dc89['value']=_0x29d282,_0x45dc89[_0x16d183(0x68d)](new Event(_0x16d183(0x19b)));else _0x2f4dc8['students'][_0x16d183(0x987)]===0x1&&(_0x45dc89['value']=_0x2f4dc8[_0x16d183(0x8ad)][0x0],_0x45dc89[_0x16d183(0x68d)](new Event(_0x16d183(0x19b))));};if(_0x2f4dc8['settings']?.[_0x3b17cc(0x562)]){if(sessionStorage[_0x3b17cc(0x273)](_0x3b17cc(0x2cf)+_0x33e197)==='true'){_0xcc0df9();return;}const _0x219d2e=document[_0x3b17cc(0x7a2)]('project-passcode-modal'),_0x3525af=document[_0x3b17cc(0x7a2)](_0x3b17cc(0xa2b)),_0x5e1d70=document[_0x3b17cc(0x7a2)](_0x3b17cc(0xa48)),_0x57bf92=document[_0x3b17cc(0x7a2)]('student-passcode-input'),_0x141206=document[_0x3b17cc(0x7a2)](_0x3b17cc(0xf0));document[_0x3b17cc(0x7a2)](_0x3b17cc(0x60a))[_0x3b17cc(0x930)]=_0x3b17cc(0x415)+_0x2f4dc8[_0x3b17cc(0x208)],_0x57bf92[_0x3b17cc(0x682)]='',_0x141206[_0x3b17cc(0x6e6)]['add'](_0x3b17cc(0x106)),_0x219d2e[_0x3b17cc(0x6e6)][_0x3b17cc(0x367)](_0x3b17cc(0x106));const _0x3ac225=()=>{const _0x27d510=_0x3b17cc,_0xed2e5a=_0x57bf92[_0x27d510(0x682)]['trim']();_0xed2e5a===_0x2f4dc8[_0x27d510(0xad7)][_0x27d510(0x209)]?(sessionStorage[_0x27d510(0x72f)](_0x27d510(0x2cf)+_0x33e197,'true'),_0x219d2e[_0x27d510(0x6e6)][_0x27d510(0x360)](_0x27d510(0x106)),_0xcc0df9(),_0x3525af[_0x27d510(0x770)]('click',_0x3ac225)):_0x141206[_0x27d510(0x6e6)][_0x27d510(0x367)](_0x27d510(0x106));};_0x3525af[_0x3b17cc(0x695)]=_0x3ac225,_0x5e1d70[_0x3b17cc(0x695)]=()=>{const _0x54887c=_0x3b17cc;_0x219d2e['classList'][_0x54887c(0x360)](_0x54887c(0x106)),_0x1d19f3['value']='',_0x3525af[_0x54887c(0x770)](_0x54887c(0x22c),_0x3ac225);};}else _0xcc0df9();},_0x45dc89[_0x2c1975(0x8e2)]=()=>{const _0x41ed1c=_0x2c1975,_0x4890d4=_0x1d19f3[_0x41ed1c(0x682)],_0x31e6ab=_0x45dc89[_0x41ed1c(0x682)];_0x4890d4&&_0x31e6ab&&renderStudentProgressDashboard(_0x4890d4,_0x31e6ab);};}async function confirmAndJoinSyncGame(){const _0x5b679e=_0x15116f,_0x35054e=Array['from'](document[_0x5b679e(0x17a)](_0x5b679e(0x687)))[_0x5b679e(0x217)](_0x2701d6=>_0x2701d6[_0x5b679e(0x682)]);if(_0x35054e[_0x5b679e(0x987)]===0x0){showMessage(_0x5b679e(0x3e4));return;}localTeamPlayers=_0x35054e,localPlayerTurnIndex=0x0;const _0x1da22e=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x52095a=await getDoc(_0x1da22e);if(!_0x52095a[_0x5b679e(0xfc)]())throw new Error(_0x5b679e(0xc02));const _0x55924d=_0x52095a['data']()[_0x5b679e(0x7c5)]||{};_0x35054e[_0x5b679e(0x1b7)](_0x5ea334=>{const _0x49aaa5=_0x5b679e;!_0x55924d[_0x5ea334]&&(_0x55924d[_0x5ea334]={'name':_0x5ea334,'score':0x0,'answered':![],'status':_0x49aaa5(0x63c)});}),await updateDoc(_0x1da22e,{'players':_0x55924d}),document[_0x5b679e(0x7a2)](_0x5b679e(0x40e))[_0x5b679e(0x6e6)][_0x5b679e(0x360)](_0x5b679e(0x106)),currentStudentName=_0x35054e[0x0],listenForSyncGameUpdates();const _0x1bd7fc={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5b679e(0x72f)]('activeGameSession',JSON['stringify'](_0x1bd7fc));}catch(_0x42643b){console[_0x5b679e(0x13b)](_0x5b679e(0x137),_0x42643b),showMessage(_0x5b679e(0x97e));}}async function resumeActiveGameSession(){const _0x1bf49f=_0x15116f,_0x390562=sessionStorage['getItem']('activeGameSession');if(!_0x390562)return;const _0x57270c=JSON['parse'](_0x390562),{gameId:_0x321555,mode:_0x443253,players:_0x4e1eb8,turnIndex:_0xc00a26}=_0x57270c;try{let _0x3c8100,_0x324a35;_0x443253===_0x1bf49f(0x3ee)?_0x3c8100=doc(db,_0x1bf49f(0xc14)+appId+_0x1bf49f(0x13d),_0x321555):_0x3c8100=doc(db,_0x1bf49f(0xc14)+appId+'/public/data/teamQuizzes',_0x321555);_0x324a35=await getDoc(_0x3c8100);if(!_0x324a35[_0x1bf49f(0xfc)]()||_0x324a35[_0x1bf49f(0xc6b)]()['status']===_0x1bf49f(0x288)||_0x324a35[_0x1bf49f(0xc6b)]()[_0x1bf49f(0x55a)]===_0x1bf49f(0xa12)){sessionStorage[_0x1bf49f(0x19e)]('activeGameSession');return;}console['log'](_0x1bf49f(0xc09)+_0x443253+_0x1bf49f(0x808)+_0x321555+')'),localTeamPlayers=_0x4e1eb8,localPlayerTurnIndex=_0xc00a26;if(_0x443253==='sync')currentLiveGameId=_0x321555,currentStudentName=_0x4e1eb8[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x321555;const _0x13b15f=_0x324a35[_0x1bf49f(0xc6b)](),_0xf7b07f=doc(db,_0x1bf49f(0xc14)+appId+_0x1bf49f(0x42c),_0x13b15f['quizId']),_0x1c442a=await getDoc(_0xf7b07f);_0x1c442a[_0x1bf49f(0xfc)]()&&(currentQuizData=getShuffledQuiz({'id':_0x1c442a['id'],..._0x1c442a[_0x1bf49f(0xc6b)]()}),showView(_0x1bf49f(0xb56)),studentInitialView['classList'][_0x1bf49f(0x360)](_0x1bf49f(0x106)),renderTeamQuizQuestion());}}catch(_0x3c0c13){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x3c0c13),sessionStorage[_0x1bf49f(0x19e)](_0x1bf49f(0x9fd));}}function activateFileInputAreaWithLoadedFile(){const _0x4e5215=_0x15116f,_0x29c263=document[_0x4e5215(0x7a2)]('generate-from-file-btn'),_0x8ad496=document[_0x4e5215(0x7a2)](_0x4e5215(0xbdd)),_0x1fee8d=document[_0x4e5215(0x7a2)](_0x4e5215(0x23b));selectedFile?_0x1fee8d[_0x4e5215(0x8cc)]?(_0x29c263['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x29c263[_0x4e5215(0xc47)]=![],_0x8ad496[_0x4e5215(0x6e6)][_0x4e5215(0x360)]('hidden')):(_0x29c263[_0x4e5215(0xc47)]=!![],_0x8ad496[_0x4e5215(0x6e6)][_0x4e5215(0x360)]('hidden'));}async function handleKickPlayerSync(_0x3beea3){const _0x2a8dfd=_0x15116f;if(!currentLiveGameId||!_0x3beea3)return;const _0x539c30=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x3a36e1={};_0x3a36e1[_0x2a8dfd(0x227)+_0x3beea3+_0x2a8dfd(0x9a3)]=_0x2a8dfd(0x1c1);try{await updateDoc(_0x539c30,_0x3a36e1);}catch(_0x7b5bc4){console['error'](_0x2a8dfd(0xb57)+_0x3beea3+_0x2a8dfd(0x272),_0x7b5bc4),showMessage(_0x2a8dfd(0x2f5));}}async function renderStudentProgressDashboard(_0xff0137,_0x592cc4){const _0x1a505e=_0x15116f,_0x3dc1fa=document[_0x1a505e(0x7a2)](_0x1a505e(0x932));_0x3dc1fa['innerHTML']=_0x1a505e(0x9b9);try{const _0x344a03=collection(db,'artifacts/'+appId+_0x1a505e(0x42c)),_0x485e59=query(_0x344a03,where('projectId','==',_0xff0137)),_0x5ca57d=await getDocs(_0x485e59),_0x546c1d=_0x5ca57d[_0x1a505e(0x610)][_0x1a505e(0x217)](_0x2fac81=>({'id':_0x2fac81['id'],..._0x2fac81['data']()})),_0x430ad7=_0x546c1d[_0x1a505e(0x217)](_0x54b585=>getDoc(doc(db,_0x1a505e(0xc14)+appId+_0x1a505e(0x6b0)+_0x54b585['id']+_0x1a505e(0x68c),_0x592cc4))),_0x29a9f7=await Promise[_0x1a505e(0x458)](_0x430ad7),_0x370327=_0x29a9f7[_0x1a505e(0x431)](_0x3f0037=>_0x3f0037[_0x1a505e(0xfc)]())['map'](_0x7c5562=>({'quizId':_0x7c5562[_0x1a505e(0x560)][_0x1a505e(0x80d)][_0x1a505e(0x80d)]['id'],..._0x7c5562[_0x1a505e(0xc6b)]()}));if(_0x370327[_0x1a505e(0x987)]===0x0){_0x3dc1fa['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1c0f5a=_0x1a505e(0xa6a);_0x370327[_0x1a505e(0x1b7)](_0x4bc99e=>{const _0x47ee22=_0x1a505e,_0x16fcd7=_0x546c1d[_0x47ee22(0x22a)](_0x4698e6=>_0x4698e6['id']===_0x4bc99e[_0x47ee22(0x502)]),_0x4b0911=_0x16fcd7[_0x47ee22(0xad7)]?.['resultsDisplay']||_0x47ee22(0x3e9),_0x2c8c03=_0x16fcd7[_0x47ee22(0xad7)]?.['passingScore']??0x0,_0x225976=_0x4bc99e[_0x47ee22(0x886)]>=_0x2c8c03;let _0x1e6a86='',_0xfe3719=_0x47ee22(0x82e);switch(_0x4b0911){case'show_results_and_answers':case'show_results_only':_0xfe3719=_0x225976?_0x47ee22(0x445):'bg-red-50',_0x1e6a86=_0x47ee22(0x74d)+(_0x225976?_0x47ee22(0x300):_0x47ee22(0x37c))+'\x22>'+_0x4bc99e[_0x47ee22(0x886)]+_0x47ee22(0xaaf)+_0x4bc99e['totalQuestions']+_0x47ee22(0x356)+(_0x225976?_0x47ee22(0xba3):_0x47ee22(0x928))+'\x22>'+(_0x225976?_0x47ee22(0x240):_0x47ee22(0xbd1))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x47ee22(0x80b):_0xfe3719=_0x225976?_0x47ee22(0x445):'bg-red-50',_0x1e6a86=_0x47ee22(0x7f2)+(_0x225976?_0x47ee22(0xba3):_0x47ee22(0x928))+'\x22>'+(_0x225976?_0x47ee22(0x240):_0x47ee22(0xbd1))+_0x47ee22(0x662);break;case _0x47ee22(0xbf6):_0xfe3719='bg-yellow-50',_0x1e6a86=_0x47ee22(0x2a5);break;}_0x1c0f5a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0xfe3719+_0x47ee22(0xac7)+_0x16fcd7['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x4bc99e[_0x47ee22(0x7a1)][_0x47ee22(0x987)]+_0x47ee22(0x3af)+new Date(_0x4bc99e['latestSubmittedAt'])['toLocaleDateString'](_0x47ee22(0x78d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e6a86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1c0f5a+=_0x1a505e(0x5ae),_0x3dc1fa[_0x1a505e(0x322)]=_0x1c0f5a;}catch(_0x1a812b){console[_0x1a505e(0x13b)](_0x1a505e(0x53f),_0x1a812b),_0x3dc1fa[_0x1a505e(0x322)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x5aa509=''){const _0x1faa7a=_0x15116f,_0x5819c8=document['getElementById'](_0x1faa7a(0x3ea)),_0x109990=_0x5aa509[_0x1faa7a(0x53c)]()[_0x1faa7a(0x6ad)](),_0x125e6e=allQuizzesGlobal[_0x1faa7a(0x217)](_0x676e2e=>({..._0x676e2e,'projectName':allProjects[_0x1faa7a(0x22a)](_0x577eca=>_0x577eca['id']===_0x676e2e[_0x1faa7a(0xb9b)])?.[_0x1faa7a(0x208)]||'N/A'}))[_0x1faa7a(0x431)](_0x43cd0f=>(_0x43cd0f['topic']||'')[_0x1faa7a(0x53c)]()[_0x1faa7a(0x679)](_0x109990)||(_0x43cd0f[_0x1faa7a(0x208)]||'')[_0x1faa7a(0x53c)]()['includes'](_0x109990)||_0x43cd0f['id'][_0x1faa7a(0x42f)]()[_0x1faa7a(0x679)](_0x109990));_0x5819c8['innerHTML']=_0x125e6e[_0x1faa7a(0x987)]?_0x125e6e[_0x1faa7a(0x217)](_0x6498=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x6498['id']+_0x1faa7a(0x4ac)+(_0x6498[_0x1faa7a(0xc63)]||_0x1faa7a(0x4a0))+_0x1faa7a(0x4ed)+_0x6498[_0x1faa7a(0x208)]+_0x1faa7a(0x745)+_0x6498['id']+_0x1faa7a(0x2e2))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x5819c8[_0x1faa7a(0x8e2)]=()=>{const _0x26d3b5=_0x1faa7a,_0x3537e5=document[_0x26d3b5(0xba0)](_0x26d3b5(0x9ff));document[_0x26d3b5(0x7a2)](_0x26d3b5(0x236))[_0x26d3b5(0xc47)]=!_0x3537e5;};}function setupStudentProgressListeners(){const _0x4bfc80=_0x15116f;document[_0x4bfc80(0x7a2)]('view-my-progress-btn')[_0x4bfc80(0x6d5)](_0x4bfc80(0x22c),showStudentProgressView),document[_0x4bfc80(0x7a2)]('back-to-student-home-btn')[_0x4bfc80(0x6d5)]('click',()=>{const _0x12671f=_0x4bfc80;document[_0x12671f(0x7a2)](_0x12671f(0x603))[_0x12671f(0x6e6)]['add'](_0x12671f(0x106)),document[_0x12671f(0x7a2)](_0x12671f(0x967))[_0x12671f(0x6e6)][_0x12671f(0x367)](_0x12671f(0x106));});}async function startSkillPractice(_0x4fefb7){const _0x4442f4=_0x15116f;studentResultArea[_0x4442f4(0x6e6)][_0x4442f4(0x360)](_0x4442f4(0x106)),studentQuizArea[_0x4442f4(0x322)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x4442f4(0x367)]('hidden');try{const _0x100bf5=await getStandardizedTopic(_0x4fefb7);console['log']('คำถามดิบ:\x20\x22'+_0x4fefb7+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x100bf5+'\x22'),studentQuizArea[_0x4442f4(0xba0)]('p')[_0x4442f4(0x930)]=_0x4442f4(0x9ab)+_0x100bf5+_0x4442f4(0xa9f);const _0x46758a=collection(db,_0x4442f4(0xc14)+appId+_0x4442f4(0x5e1)),_0x4136f1=query(_0x46758a,where('topic','==',_0x100bf5)),_0x4397ec=await getDocs(_0x4136f1);if(_0x4397ec[_0x4442f4(0x610)][_0x4442f4(0x987)]>=0x3){console[_0x4442f4(0x7d6)](_0x4442f4(0x804)+_0x4397ec[_0x4442f4(0x610)][_0x4442f4(0x987)]+_0x4442f4(0xa9d)+_0x100bf5+_0x4442f4(0x37b));let _0x3e4c3f=_0x4397ec[_0x4442f4(0x610)]['map'](_0x239cac=>_0x239cac[_0x4442f4(0xc6b)]());shuffleArray(_0x3e4c3f);const _0x41afc5={'topic':_0x100bf5,'questions':_0x3e4c3f['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x41afc5);}else{console[_0x4442f4(0x7d6)](_0x4442f4(0xb17)+_0x100bf5+_0x4442f4(0x51e));const _0x4f0e95=await generatePracticeQuestions(_0x100bf5);await saveDrillToPracticeBank(_0x4f0e95,_0x100bf5),displaySkillPracticeDrill(_0x4f0e95);}}catch(_0x401916){console[_0x4442f4(0x13b)](_0x4442f4(0xbfa),_0x401916),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x4442f4(0x6e6)]['add'](_0x4442f4(0x106)),studentResultArea[_0x4442f4(0x6e6)][_0x4442f4(0x367)](_0x4442f4(0x106));}}async function saveDrillToPracticeBank(_0x4e10c5,_0x32402e){const _0x412671=_0x15116f,_0x3e0c65=collection(db,_0x412671(0xc14)+appId+_0x412671(0x5e1)),_0x293edf=writeBatch(db);_0x4e10c5[_0x412671(0x72a)][_0x412671(0x1b7)](_0x5cc47b=>{const _0x1b03e4=_0x412671,_0x2c343c=doc(_0x3e0c65);_0x293edf[_0x1b03e4(0x145)](_0x2c343c,{'topic':_0x32402e,'questionText':_0x5cc47b['questionText'],'options':_0x5cc47b[_0x1b03e4(0xbd3)],'correctAnswerIndex':_0x5cc47b[_0x1b03e4(0x4fa)],'explanation':_0x5cc47b['explanation'],'createdAt':serverTimestamp()});});try{await _0x293edf[_0x412671(0x18c)](),console['log']('บันทึกคำถามใหม่\x20'+_0x4e10c5[_0x412671(0x72a)][_0x412671(0x987)]+_0x412671(0xa4e));}catch(_0x523674){console[_0x412671(0x13b)](_0x412671(0x81e),_0x523674);}}async function getStandardizedTopic(_0x31d2f3){const _0x3b8537=_0x15116f,_0x2c2eb9=_0x3b8537(0x165)+_0x31d2f3+_0x3b8537(0x527),_0x25b5bc={'type':_0x3b8537(0x8c9),'properties':{'standardTopic':{'type':_0x3b8537(0x87c)}},'required':[_0x3b8537(0x790)]};try{const _0x6e7e27=await callAnalysisApi(_0x2c2eb9,_0x25b5bc);return _0x6e7e27[_0x3b8537(0x790)];}catch(_0x563607){return console[_0x3b8537(0x13b)](_0x3b8537(0x9e0),_0x563607),_0x31d2f3;}}async function handleGenerateEasyVersionQuiz(_0xde6600){const _0x4b4886=_0x15116f,_0x1b03e9=document[_0x4b4886(0x7a2)]('results-tab-content'),_0x5525ff=document[_0x4b4886(0x7a2)](_0x4b4886(0x4c5));_0x5525ff[_0x4b4886(0x6e6)]['add'](_0x4b4886(0x106));const _0x5d4d11=_0x4b4886(0x2fb);_0x1b03e9[_0x4b4886(0x59f)]('beforeend',_0x5d4d11);try{const _0x4dfff1=allQuizzes[_0x4b4886(0x22a)](_0x468249=>_0x468249['id']===_0xde6600);if(!_0x4dfff1)throw new Error(_0x4b4886(0xc3f));const _0x526073=_0x4b4886(0x66e)+JSON['stringify'](_0x4dfff1['questions'])+_0x4b4886(0x887),_0x48d6c5={'type':'OBJECT','properties':{'questionText':{'type':_0x4b4886(0x87c)},'questionType':{'type':_0x4b4886(0x87c)},'options':{'type':_0x4b4886(0x587),'items':{'type':_0x4b4886(0x87c)}},'correctAnswerIndex':{'type':_0x4b4886(0x421)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4b4886(0x87c)},'imageCode':{'type':_0x4b4886(0x87c)}},'required':[_0x4b4886(0x187),_0x4b4886(0x5ac),_0x4b4886(0x14f)]},_0x5766d7={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x48d6c5}},'required':[_0x4b4886(0x72a)]},_0x381f65=await callAnalysisApi(_0x526073,_0x5766d7);_0x381f65&&_0x381f65[_0x4b4886(0x72a)]&&_0x381f65[_0x4b4886(0x72a)]['forEach'](_0x4fe5f2=>{const _0x33ca61=_0x4b4886;if(_0x4fe5f2[_0x33ca61(0x839)](_0x33ca61(0x8b6))){const _0x458e23=String(_0x4fe5f2[_0x33ca61(0x8b6)])[_0x33ca61(0x6ad)]();(_0x458e23===''||_0x458e23[_0x33ca61(0x53c)]()===_0x33ca61(0x9b6)||!_0x458e23[_0x33ca61(0xaae)]('<svg'))&&delete _0x4fe5f2[_0x33ca61(0x8b6)];}});if(!_0x381f65||!_0x381f65[_0x4b4886(0x72a)]||_0x381f65['questions']['length']===0x0)throw new Error(_0x4b4886(0xc0f));const _0x4a0398=_0x381f65[_0x4b4886(0x72a)][_0x4b4886(0x217)]((_0x2999a1,_0x25fbe9)=>({..._0x2999a1,'id':'q_'+Date[_0x4b4886(0xb20)]()+'_'+_0x25fbe9})),_0x118b9b={'projectId':_0x4dfff1['projectId'],'quizType':_0x4dfff1[_0x4b4886(0xbe2)],'settings':_0x4dfff1[_0x4b4886(0xad7)],'createdBy':_0x4dfff1['createdBy'],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x4dfff1['topic'],'questions':_0x4a0398,'createdAt':new Date()[_0x4b4886(0x25b)](),'quizMode':_0x4b4886(0x50e),'pairedQuizId':null};let _0x1f6d6b;while(!![]){_0x1f6d6b=Math[_0x4b4886(0x1c8)](0x3e8+Math['random']()*0x2328)[_0x4b4886(0x42f)]();const _0x1c73c9=await getDoc(doc(db,_0x4b4886(0xc14)+appId+'/public/data/quizzes',_0x1f6d6b));if(!_0x1c73c9['exists']())break;}await setDoc(doc(db,_0x4b4886(0xc14)+appId+'/public/data/quizzes',_0x1f6d6b),_0x118b9b),showMessage(_0x4b4886(0x4e8));}catch(_0x54fa32){console['error'](_0x4b4886(0xa5e),_0x54fa32),showMessage(_0x4b4886(0x9ee)+_0x54fa32['message']);}finally{const _0x179033=document['getElementById']('temp-loader-results');_0x179033&&_0x179033['remove'](),_0x5525ff[_0x4b4886(0x6e6)][_0x4b4886(0x367)](_0x4b4886(0x106));}}async function generatePracticeQuestions(_0x205011){const _0xb3963a=_0x15116f,_0x49be2a=_0xb3963a(0xb06)+_0x205011+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xb3963a(0x1ea),_0x1b4218={'type':_0xb3963a(0x8c9),'properties':{'questionText':{'type':_0xb3963a(0x87c)},'options':{'type':_0xb3963a(0x587),'items':{'type':_0xb3963a(0x87c)}},'correctAnswerIndex':{'type':_0xb3963a(0x421)},'explanation':{'type':_0xb3963a(0x87c)}},'required':['questionText','options',_0xb3963a(0x4fa),_0xb3963a(0x14f)]},_0x3ac6a2={'type':_0xb3963a(0x8c9),'properties':{'topic':{'type':_0xb3963a(0x87c)},'questions':{'type':_0xb3963a(0x587),'items':_0x1b4218}},'required':[_0xb3963a(0xc63),_0xb3963a(0x72a)]};return await callAnalysisApi(_0x49be2a,_0x3ac6a2);}function displayLessonPlan(_0x4fe4f7,_0x101fd3){const _0xe95c18=_0x15116f,_0x24eac5=_0xe95c18(0x7e0)+_0x101fd3[_0xe95c18(0xc63)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x4fe4f7[_0xe95c18(0x328)][_0xe95c18(0x217)](_0x59ec78=>_0xe95c18(0x731)+_0x59ec78+_0xe95c18(0x4b0))[_0xe95c18(0x935)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x4fe4f7[_0xe95c18(0x675)]+_0xe95c18(0xb77)+_0x4fe4f7[_0xe95c18(0xc64)]['map'](_0x4f8a0e=>_0xe95c18(0x8a1)+_0x4f8a0e['question']+_0xe95c18(0x590)+_0x4f8a0e[_0xe95c18(0x1aa)]+_0xe95c18(0xa1d))['join']('')+_0xe95c18(0x5ef);document[_0xe95c18(0x7a2)](_0xe95c18(0x798))[_0xe95c18(0x930)]=_0xe95c18(0x3c1)+_0x101fd3[_0xe95c18(0xc63)],document[_0xe95c18(0x7a2)](_0xe95c18(0x52a))[_0xe95c18(0x322)]=_0x24eac5,document[_0xe95c18(0x7a2)](_0xe95c18(0x601))[_0xe95c18(0x6e6)][_0xe95c18(0x367)](_0xe95c18(0x106));if(window[_0xe95c18(0x8a8)])MathJax[_0xe95c18(0x107)]();}function displaySkillPracticeDrill(_0x346621){let _0x2f0a0a=0x0;const _0xe02b3a=_0x346621['questions'],_0x4e1532=()=>{const _0x40c4da=_0x1996,_0x2b941e=_0xe02b3a[_0x2f0a0a],_0x1456fe=_0x40c4da(0x75f)+(_0x2f0a0a+0x1)+_0x40c4da(0xaaf)+_0xe02b3a[_0x40c4da(0x987)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x2b941e['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b941e[_0x40c4da(0xbd3)][_0x40c4da(0x217)]((_0x4f68dd,_0x43ca53)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x43ca53+_0x40c4da(0xb72)+_0x43ca53+_0x40c4da(0x835)+_0x43ca53+'\x22>'+_0x4f68dd+_0x40c4da(0xa37))[_0x40c4da(0x935)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x1456fe;if(window[_0x40c4da(0x8a8)])MathJax[_0x40c4da(0x107)]([studentQuizArea]);document[_0x40c4da(0x7a2)](_0x40c4da(0x298))[_0x40c4da(0x6d5)](_0x40c4da(0x22c),async()=>{const _0x214b9f=_0x40c4da,_0x55e282=await getHintForQuestion(_0x2b941e[_0x214b9f(0x187)]);showMessage(_0x55e282);}),document[_0x40c4da(0x7a2)]('check-answer-btn')[_0x40c4da(0x6d5)]('click',()=>{const _0x2035f2=_0x40c4da,_0x294f4e=document['querySelector'](_0x2035f2(0x412));if(!_0x294f4e){showMessage(_0x2035f2(0xb16));return;}const _0x4201d6=document[_0x2035f2(0x7a2)](_0x2035f2(0x9f9)),_0xc55ded=parseInt(_0x294f4e[_0x2035f2(0x682)])===_0x2b941e[_0x2035f2(0x4fa)];_0xc55ded?(_0x4201d6[_0x2035f2(0x6fb)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4201d6['innerHTML']=_0x2035f2(0x851)+_0x2b941e[_0x2035f2(0x14f)]):(_0x4201d6[_0x2035f2(0x6fb)]=_0x2035f2(0x96b),_0x4201d6[_0x2035f2(0x322)]=_0x2035f2(0xc32)+_0x2b941e['explanation']);_0x4201d6['classList'][_0x2035f2(0x367)](_0x2035f2(0x106));if(window[_0x2035f2(0x8a8)])MathJax[_0x2035f2(0x107)]([_0x4201d6]);document[_0x2035f2(0x7a2)](_0x2035f2(0x3fb))[_0x2035f2(0x6e6)][_0x2035f2(0x360)](_0x2035f2(0x106)),document[_0x2035f2(0x7a2)](_0x2035f2(0x298))['classList'][_0x2035f2(0x360)](_0x2035f2(0x106)),document[_0x2035f2(0x7a2)](_0x2035f2(0x6b2))[_0x2035f2(0x6e6)][_0x2035f2(0x367)]('hidden');}),document[_0x40c4da(0x7a2)](_0x40c4da(0x6b2))[_0x40c4da(0x6d5)](_0x40c4da(0x22c),()=>{const _0x2f40d9=_0x40c4da;_0x2f0a0a++,_0x2f0a0a<_0xe02b3a['length']?_0x4e1532():(studentQuizArea[_0x2f40d9(0x322)]=_0x2f40d9(0x59c),document[_0x2f40d9(0x7a2)](_0x2f40d9(0x317))[_0x2f40d9(0x6d5)](_0x2f40d9(0x22c),()=>{const _0x3ea33e=_0x2f40d9;studentQuizArea[_0x3ea33e(0x6e6)][_0x3ea33e(0x360)]('hidden'),studentResultArea['classList'][_0x3ea33e(0x367)](_0x3ea33e(0x106));}));});};_0x4e1532();}async function getHintForQuestion(_0xbe4b34){const _0x55998b=_0x15116f,_0x551077=_0x55998b(0x1e9)+_0xbe4b34+_0x55998b(0xbf9),_0x7e9cb7={'type':_0x55998b(0x8c9),'properties':{'hint':{'type':_0x55998b(0x87c)}},'required':[_0x55998b(0x2e5)]};try{const _0x17d144=await callAnalysisApi(_0x551077,_0x7e9cb7);return _0x17d144[_0x55998b(0x2e5)];}catch(_0x4faa8f){return console['error'](_0x55998b(0xc18),_0x4faa8f),_0x55998b(0x651);}}async function extractTextFromPdf(_0x17399b){const _0x5baa71=_0x15116f;pdfjsLib[_0x5baa71(0x754)][_0x5baa71(0x32a)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x59d914=await _0x17399b['arrayBuffer'](),_0x5ee725=await pdfjsLib[_0x5baa71(0x71b)](_0x59d914)['promise'],_0x255691=_0x5ee725[_0x5baa71(0x8f6)];let _0x28beb5='';for(let _0xb56de7=0x1;_0xb56de7<=_0x255691;_0xb56de7++){const _0x1d07f4=await _0x5ee725[_0x5baa71(0xa08)](_0xb56de7),_0xbf9c40=await _0x1d07f4[_0x5baa71(0x564)](),_0x3bfb1d=_0xbf9c40['items'][_0x5baa71(0x217)](_0x517ad4=>_0x517ad4[_0x5baa71(0x2c1)])[_0x5baa71(0x935)]('\x20');_0x28beb5+=_0x3bfb1d+'\x0a\x0a';}return _0x28beb5;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x286f09){const _0x170621=_0x15116f,_0x20d93c=document[_0x170621(0x7a2)]('blueprint-options-container'),_0x3f5672=document[_0x170621(0x7a2)](_0x170621(0xae0)),_0x39e3da=document['getElementById'](_0x170621(0x6f8));_0x20d93c[_0x170621(0x6e6)][_0x170621(0x367)]('hidden'),_0x3f5672[_0x170621(0x322)]=_0x170621(0x739),_0x39e3da[_0x170621(0x6e6)][_0x170621(0x360)](_0x170621(0x106));try{const _0x58c62f='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x286f09+_0x170621(0xc3a),_0x2d175c={'type':_0x170621(0x8c9),'properties':{'gradeLevel':{'type':_0x170621(0x87c)},'curriculum':{'type':_0x170621(0x587),'items':{'type':_0x170621(0x8c9),'properties':{'sara':{'type':_0x170621(0x87c)},'mainTopics':{'type':_0x170621(0x587),'items':{'type':_0x170621(0x8c9),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x170621(0x587),'items':{'type':_0x170621(0x87c)}}},'required':[_0x170621(0xab6),'subTopics']}}},'required':['sara',_0x170621(0x9cc)]}}},'required':[_0x170621(0x5b8),'curriculum']},_0x32af7a=await callAnalysisApi(_0x58c62f,_0x2d175c);if(_0x32af7a&&_0x32af7a['curriculum'])extractedBlueprintData=_0x32af7a,renderBlueprintTopics(_0x32af7a),_0x39e3da[_0x170621(0x6e6)][_0x170621(0x367)](_0x170621(0x106));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x35f35a){console[_0x170621(0x13b)](_0x170621(0xbd9),_0x35f35a),_0x3f5672[_0x170621(0x322)]=_0x170621(0x385);}}function renderBlueprintTopics(_0x517484){const _0x51aaec=_0x15116f,_0xe17c30=document['getElementById'](_0x51aaec(0xae0)),_0xe0da1c=_0x517484[_0x51aaec(0x5b8)],_0x8d048c=_0x51aaec(0x68b)+_0xe0da1c+_0x51aaec(0xa41);let _0x1a4c9c='';_0x517484[_0x51aaec(0x5b7)][_0x51aaec(0x1b7)](_0x5665d8=>{const _0x377007=_0x51aaec;_0x1a4c9c+=_0x377007(0xadb)+_0x5665d8['sara']+_0x377007(0x409),_0x5665d8[_0x377007(0x9cc)][_0x377007(0x1b7)](_0x3378bd=>{const _0x35de82=_0x377007;_0x1a4c9c+=_0x35de82(0x535)+_0x3378bd[_0x35de82(0xab6)]+_0x35de82(0x593),_0x3378bd['subTopics'][_0x35de82(0x1b7)](_0x465a16=>{const _0x19c4fd=_0x35de82;_0x1a4c9c+=_0x19c4fd(0x8a4)+_0x465a16[_0x19c4fd(0x892)](/'/g,'\x5c\x27')+_0x19c4fd(0x999)+_0xe0da1c[_0x19c4fd(0x892)](/'/g,'\x5c\x27')+_0x19c4fd(0xa87)+_0x465a16+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x465a16['replace'](/'/g,'\x5c\x27')+_0x19c4fd(0x362);}),_0x1a4c9c+=_0x35de82(0xa05);}),_0x1a4c9c+=_0x377007(0x5ae);}),_0xe17c30[_0x51aaec(0x322)]=_0x8d048c+_0x1a4c9c;}async function handleGenerateTeachingContent(_0x58ab1d){const _0x3f8e91=_0x15116f,_0x39ef9e=document[_0x3f8e91(0x7a2)]('lesson-plan-modal'),_0xf743f7=document[_0x3f8e91(0x7a2)](_0x3f8e91(0x52a));document[_0x3f8e91(0x7a2)](_0x3f8e91(0x798))['textContent']=_0x3f8e91(0x73c)+_0x58ab1d,_0xf743f7[_0x3f8e91(0x322)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x39ef9e[_0x3f8e91(0x6e6)][_0x3f8e91(0x367)](_0x3f8e91(0x106));try{const _0x51b650=_0x3f8e91(0x316)+_0x58ab1d+_0x3f8e91(0xb19),_0x1124ba={'type':_0x3f8e91(0x8c9),'properties':{'keyConcepts':{'type':_0x3f8e91(0x587),'items':{'type':_0x3f8e91(0x87c)}},'commonMistakes':{'type':_0x3f8e91(0x587),'items':{'type':_0x3f8e91(0x87c)}},'stepByStepExamples':{'type':_0x3f8e91(0x587),'items':{'type':'OBJECT','properties':{'question':{'type':_0x3f8e91(0x87c)},'solution':{'type':_0x3f8e91(0x87c)}},'required':[_0x3f8e91(0x4b4),_0x3f8e91(0x1aa)]}},'teacherTips':{'type':_0x3f8e91(0x587),'items':{'type':_0x3f8e91(0x87c)}}},'required':[_0x3f8e91(0x6e7),_0x3f8e91(0x479),_0x3f8e91(0xbb3),_0x3f8e91(0xbdf)]},_0x5008ce=await callAnalysisApi(_0x51b650,_0x1124ba);displayTeachingContent(_0x5008ce,_0x58ab1d);}catch(_0x158024){console[_0x3f8e91(0x13b)]('Error\x20generating\x20teaching\x20content:',_0x158024),_0xf743f7['innerHTML']=_0x3f8e91(0x35a)+_0x158024['message']+'</p>';}}function displayTeachingContent(_0x507b54,_0x2179d8){const _0x3fb5f3=_0x15116f,_0x2e1701=document['getElementById'](_0x3fb5f3(0x52a));document[_0x3fb5f3(0x7a2)]('lesson-plan-title')[_0x3fb5f3(0x930)]=_0x3fb5f3(0x4dc)+_0x2179d8;const _0x902284='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x507b54['keyConcepts'][_0x3fb5f3(0x217)](_0x567629=>_0x3fb5f3(0x731)+_0x567629+'</li>')[_0x3fb5f3(0x935)]('')+_0x3fb5f3(0x9a6)+_0x507b54[_0x3fb5f3(0x479)][_0x3fb5f3(0x217)](_0x2596b9=>_0x3fb5f3(0x731)+_0x2596b9+_0x3fb5f3(0x4b0))[_0x3fb5f3(0x935)]('')+_0x3fb5f3(0x7c9)+_0x507b54[_0x3fb5f3(0xbb3)][_0x3fb5f3(0x217)](_0x5338e5=>_0x3fb5f3(0x949)+_0x5338e5['question']+_0x3fb5f3(0x858)+_0x5338e5[_0x3fb5f3(0x1aa)]+_0x3fb5f3(0xbfb))['join']('')+_0x3fb5f3(0xb70)+_0x507b54[_0x3fb5f3(0xbdf)][_0x3fb5f3(0x217)](_0x23a7b1=>_0x3fb5f3(0x731)+_0x23a7b1+_0x3fb5f3(0x4b0))[_0x3fb5f3(0x935)]('')+_0x3fb5f3(0x617);_0x2e1701['innerHTML']=_0x902284;if(window[_0x3fb5f3(0x8a8)])MathJax[_0x3fb5f3(0x107)]([_0x2e1701]);}async function generateQuizForSingleTopic(_0x3365ca){const _0x3f5a8f=_0x15116f;console[_0x3f5a8f(0x7d6)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x3365ca+'\x22');const _0xa35b5b=document[_0x3f5a8f(0x7a2)](_0x3f5a8f(0x401)),_0x24e901=_0xa35b5b[_0x3f5a8f(0xb7b)][_0x3f5a8f(0x987)]>0x0?_0xa35b5b[_0x3f5a8f(0xb7b)][0x0]:null;let _0x3646ab=null;if(_0x24e901)try{const _0x41f66e=new FileReader();_0x41f66e[_0x3f5a8f(0xaf1)](_0x24e901);const _0x4f5bba=await new Promise((_0xc482bc,_0x4d8b4a)=>{const _0xa23f0b=_0x3f5a8f;_0x41f66e[_0xa23f0b(0xaf0)]=()=>_0xc482bc(_0x41f66e[_0xa23f0b(0x1e4)][_0xa23f0b(0x4a5)](',')[0x1]),_0x41f66e[_0xa23f0b(0x50d)]=_0x2dced2=>_0x4d8b4a(_0x2dced2);});_0x3646ab=[{'inlineData':{'mimeType':_0x24e901['type'],'data':_0x4f5bba}}];}catch(_0x258e89){console[_0x3f5a8f(0x13b)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x258e89),showMessage(_0x3f5a8f(0x5ad));return;}generateQuiz(_0x3365ca,null,null,_0x3646ab,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x1c9273=null){const _0x20ffc8=_0x15116f,_0x27c508=document[_0x20ffc8(0x7a2)]('loader'),_0x1b57d3=document[_0x20ffc8(0x7a2)](_0x20ffc8(0x91a));let _0x298cfc;if(_0x1c9273)_0x298cfc=_0x1c9273;else{const _0x8d739f=document[_0x20ffc8(0x7a2)](_0x20ffc8(0x69c)),_0x41f554=_0x8d739f[_0x20ffc8(0xb7b)][0x0];if(!_0x41f554){showMessage(_0x20ffc8(0x467));return;}_0x1b57d3[_0x20ffc8(0x930)]=_0x20ffc8(0x2ce);const _0x1015c6=await new Promise((_0x46b207,_0x3c5e56)=>{const _0x46e65d=_0x20ffc8,_0x4896cb=new FileReader();_0x4896cb[_0x46e65d(0xaf1)](_0x41f554),_0x4896cb['onload']=()=>_0x46b207(_0x4896cb[_0x46e65d(0x1e4)]['split'](',')[0x1]),_0x4896cb[_0x46e65d(0x50d)]=_0x3c5e56;});_0x298cfc=[{'text':_0x20ffc8(0x476)},{'inlineData':{'mimeType':_0x41f554[_0x20ffc8(0x20f)],'data':_0x1015c6}}];}const _0x1e2cbd=_0x20ffc8(0x22f),_0x45aa41=_0x20ffc8(0x470),_0x1d8ba6='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x5599cf={'type':_0x20ffc8(0x8c9),'properties':{'questionText':{'type':_0x20ffc8(0x87c)},'questionType':{'type':_0x20ffc8(0x87c),'enum':[_0x20ffc8(0x2ac),_0x20ffc8(0xb64),_0x20ffc8(0x1dd),_0x20ffc8(0xb55)]},'options':{'type':_0x20ffc8(0x587),'items':{'type':_0x20ffc8(0x87c)}},'correctAnswerIndex':{'type':_0x20ffc8(0x421)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x20ffc8(0x6cf)},'explanation':{'type':_0x20ffc8(0x87c)},'imageCode':{'type':'STRING'}},'required':[_0x20ffc8(0x5ac),_0x20ffc8(0x14f)]},_0x4b4ee4={'type':'OBJECT','properties':{'topic':{'type':_0x20ffc8(0x87c)},'questions':{'type':_0x20ffc8(0x587),'items':_0x5599cf}},'required':[_0x20ffc8(0xc63),'questions']};_0x298cfc[0x0][_0x20ffc8(0x9ef)]=_0x1d8ba6,await handleApiCall(_0x298cfc,_0x20ffc8(0x10a),_0x4b4ee4);}function proceedToNextQuestion(_0xab861b){const _0x42479e=_0x15116f;studentAnswersPerQuestion[_0x42479e(0x8e7)](_0xab861b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x42479e(0x72a)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2e3e44,_0x4adea3){const _0x4ff833=_0x15116f,_0x5be409=Object[_0x4ff833(0xc27)](_0x2e3e44['players']||{}),_0x1ac638=_0x5be409[_0x4ff833(0x987)],_0x46db1d=[..._0x5be409][_0x4ff833(0x2ea)]((_0x56e374,_0x3b21f8)=>_0x3b21f8[_0x4ff833(0x24f)]-_0x56e374[_0x4ff833(0x24f)]),_0x2cd474=_0x2e3e44[_0x4ff833(0xb81)];let _0x3b46fa='';const _0x34982e=_0x2e3e44[_0x4ff833(0x4ff)][_0x4ff833(0x72a)],_0x1195b8=_0x34982e[_0x2cd474],_0xb748bb=_0x1b4a56=>String[_0x4ff833(0x3c4)](0x41+_0x1b4a56);let _0x12f56f='',_0x220fc0='';if(_0x1195b8){const _0x3ed850=_0x1195b8[_0x4ff833(0x5ac)]||_0x2e3e44[_0x4ff833(0x4ff)][_0x4ff833(0xbe2)];if(_0x3ed850===_0x4ff833(0x2ac)&&_0x1195b8['options']&&_0x1195b8['correctAnswerIndex']!==undefined){const _0x48da57=_0x1195b8[_0x4ff833(0x4fa)];_0x12f56f=_0x1195b8[_0x4ff833(0xbd3)][_0x48da57],_0x220fc0=_0xb748bb(_0x48da57)+'.';}else{if(_0x3ed850===_0x4ff833(0x1dd)){const _0xb78b55=_0x1195b8[_0x4ff833(0x7b8)]===!![]||String(_0x1195b8[_0x4ff833(0x7b8)])[_0x4ff833(0x53c)]()===_0x4ff833(0x7d1);_0xb78b55?(_0x12f56f='ใช่\x20/\x20ถูก',_0x220fc0='ก.'):(_0x12f56f=_0x4ff833(0x856),_0x220fc0='ข.');}else{if(_0x3ed850==='matching_item')_0x12f56f=_0x1195b8[_0x4ff833(0x76c)]||'-',_0x220fc0='';else _0x3ed850==='short_answer'&&(_0x12f56f=_0x1195b8['idealAnswer']||'-',_0x220fc0='');}}}_0x12f56f&&(_0x3b46fa=_0x4ff833(0x9fe)+(_0x2cd474+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x220fc0+'\x20'+_0x12f56f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x374d79=_0x46db1d[_0x4ff833(0x217)](_0x5eb391=>{const _0x24d055=_0x4ff833;let _0x5ac7a8=![];if(_0x5eb391[_0x24d055(0xc54)]&&_0x2cd474!==-0x1){const _0x19f54f=_0x5eb391[_0x24d055(0xc54)]['find'](_0x128469=>_0x128469[_0x24d055(0x63b)]===_0x2cd474);_0x19f54f&&_0x19f54f['isCorrect']&&(_0x5ac7a8=!![]);}const _0x35c752=_0x5ac7a8?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':'bg-black/20';return _0x24d055(0x136)+_0x35c752+'\x22><span>'+_0x5eb391['name']+_0x24d055(0xa66)+_0x5eb391['score']+_0x24d055(0x51b);})[_0x4ff833(0x935)](''),_0x221584=_0x34982e[_0x4ff833(0x217)]((_0x536691,_0x458e38)=>{const _0x514d9f=_0x4ff833,_0x5cf62a=_0x5be409[_0x514d9f(0x431)](_0x1ffd47=>_0x1ffd47[_0x514d9f(0xc54)]&&_0x1ffd47[_0x514d9f(0xc54)][_0x514d9f(0x22a)](_0x1e281b=>_0x1e281b[_0x514d9f(0x63b)]===_0x458e38&&_0x1e281b[_0x514d9f(0x653)]))[_0x514d9f(0x987)],_0x5bb7d0=_0x458e38===_0x2cd474,_0x1553a6=_0x5bb7d0?_0x514d9f(0x219):_0x514d9f(0xc39);return _0x514d9f(0xa1c)+_0x1553a6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x458e38+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x5cf62a+_0x514d9f(0xaaf)+_0x1ac638+_0x514d9f(0x312);})[_0x4ff833(0x935)]('');let _0x3e6da1='',_0x4c782d='';if(_0x4adea3){const _0x211d96=_0x2e3e44[_0x4ff833(0xb81)]>=_0x34982e['length']-0x1;_0x3e6da1=_0x4ff833(0x5e0)+(_0x211d96?_0x4ff833(0x45b):_0x4ff833(0x2ff))+_0x4ff833(0x490),_0x4c782d=_0x4ff833(0xb1f);}const _0xe1349d=_0x4ff833(0xa06)+_0x2e3e44[_0x4ff833(0x4ff)][_0x4ff833(0xc63)]+_0x4ff833(0x1f1)+_0x4c782d+_0x4ff833(0x3f0)+_0x3b46fa+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x374d79||_0x4ff833(0x6d1))+_0x4ff833(0xb5d)+_0x221584+_0x4ff833(0x9c5)+(_0x4adea3?_0x4ff833(0x785)+_0x3e6da1+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4ff833(0x322)]=_0xe1349d;if(window['MathJax']){const _0x213e4d=document[_0x4ff833(0x7a2)](_0x4ff833(0x9a1));_0x213e4d&&MathJax[_0x4ff833(0x107)]([_0x213e4d]);}if(_0x4adea3){document['getElementById'](_0x4ff833(0x1ac))[_0x4ff833(0x695)]=async()=>{const _0x2199da=_0x4ff833,_0x581295=doc(db,_0x2199da(0xc14)+appId+'/public/data/syncGames',currentLiveGameId),_0x2d1d09=_0x2e3e44[_0x2199da(0xb81)]+0x1;if(_0x2d1d09<_0x34982e['length']){const _0xab3623={};Object['keys'](_0x2e3e44[_0x2199da(0x7c5)])[_0x2199da(0x1b7)](_0x58eead=>{const _0x1d0e7f=_0x2199da;_0xab3623[_0x1d0e7f(0x227)+_0x58eead+'.answered']=![],_0xab3623[_0x1d0e7f(0x227)+_0x58eead+_0x1d0e7f(0x9b2)]=null;}),await updateDoc(_0x581295,{..._0xab3623,'status':_0x2199da(0x4b4),'currentQuestionIndex':_0x2d1d09,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x581295,{'status':_0x2199da(0xa12)});};const _0x239676=document[_0x4ff833(0x7a2)]('end-sync-game-btn');_0x239676&&(_0x239676[_0x4ff833(0x695)]=()=>{const _0x16c9d1=_0x4ff833;showConfirmation(_0x16c9d1(0x986),async()=>{const _0x4486c6=_0x16c9d1,_0x2d4956=doc(db,_0x4486c6(0xc14)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2d4956,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x4fc372){const _0x451893=_0x15116f,_0x29411a=document[_0x451893(0x7a2)](_0x451893(0x3db)),_0x2e0b1f=document[_0x451893(0x7a2)]('project-quizzes-list');_0x2e0b1f['classList'][_0x451893(0x360)](_0x451893(0x106));const _0x560190=_0x451893(0x894)+_0x4fc372[_0x451893(0xc63)]+_0x451893(0x4db);_0x29411a[_0x451893(0x59f)](_0x451893(0x96c),_0x560190);const _0x395a94=document[_0x451893(0x7a2)]('temp-loader-text-results');try{const _0x45b470=_0x4fc372['questions'][_0x451893(0x217)]((_0x25df77,_0x3914cc)=>{const _0x3effe2=_0x451893;let _0xb43222=_0x3914cc+0x1+'.\x20'+(_0x25df77['questionText']||_0x25df77[_0x3effe2(0xa68)])+'\x0a';if(_0x25df77['options'])_0xb43222+=_0x25df77[_0x3effe2(0xbd3)][_0x3effe2(0x217)]((_0x26b2fd,_0x5f2304)=>_0x3effe2(0x7e5)+(_0x5f2304===_0x25df77[_0x3effe2(0x4fa)]?_0x3effe2(0x4aa):'')+'\x20'+_0x26b2fd)[_0x3effe2(0x935)]('\x0a');else _0x25df77[_0x3effe2(0x5ec)]&&(_0xb43222+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x25df77[_0x3effe2(0x5ec)]);return _0xb43222;})[_0x451893(0x935)]('\x0a\x0a');_0x395a94[_0x451893(0x930)]=_0x451893(0x813);const _0x2ea678=_0x451893(0x305)+_0x4fc372[_0x451893(0xc63)]+_0x451893(0x121)+_0x45b470+_0x451893(0x9f2)+simpleMathPrompt+_0x451893(0x3eb),_0x1129b9={'type':_0x451893(0x8c9),'properties':{'questionText':{'type':_0x451893(0x87c)},'questionType':{'type':_0x451893(0x87c),'enum':[_0x451893(0x2ac),'short_answer',_0x451893(0x1dd),_0x451893(0xb55)]},'options':{'type':'ARRAY','items':{'type':_0x451893(0x87c)}},'correctAnswerIndex':{'type':_0x451893(0x421)},'idealAnswer':{'type':_0x451893(0x87c)},'correctAnswer':{'type':_0x451893(0x6cf)},'stem':{'type':_0x451893(0x87c)},'correctResponse':{'type':_0x451893(0x87c)},'allResponses':{'type':_0x451893(0x587),'items':{'type':_0x451893(0x87c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x451893(0x87c)}},'required':[_0x451893(0x5ac),_0x451893(0x14f)]},_0x39570f={'type':_0x451893(0x8c9),'properties':{'topic':{'type':_0x451893(0x87c)},'questions':{'type':_0x451893(0x587),'items':_0x1129b9}},'required':[_0x451893(0xc63),_0x451893(0x72a)]},_0x3dc7ae=await callAnalysisApi(_0x2ea678,_0x39570f),_0x5566b4=_0x3dc7ae[_0x451893(0x72a)][_0x451893(0x217)]((_0x3d466c,_0x576a44)=>({..._0x3d466c,'id':'q_'+Date[_0x451893(0xb20)]()+'_'+_0x576a44})),_0x544b38=_0x451893(0x7ad)+_0x4fc372[_0x451893(0xc63)],_0xc2011={'topic':_0x544b38,'questions':_0x5566b4,'quizType':_0x4fc372[_0x451893(0xbe2)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x4fc372[_0x451893(0xad7)],'quizMode':_0x451893(0x50e),'pairedQuizId':null,'lessonPlan':null};let _0x5454da;while(!![]){_0x5454da=Math['floor'](0x3e8+Math[_0x451893(0xaeb)]()*0x2328)[_0x451893(0x42f)]();const _0x2b70d3=await getDoc(doc(db,_0x451893(0xc14)+appId+'/public/data/quizzes',_0x5454da));if(!_0x2b70d3['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x451893(0x42c),_0x5454da),_0xc2011),showMessage(_0x451893(0x22d));}catch(_0x5cf31b){console[_0x451893(0x13b)](_0x451893(0x56c),_0x5cf31b),showMessage(_0x451893(0x9ee)+_0x5cf31b[_0x451893(0x56e)]);}finally{const _0x4a30cf=document[_0x451893(0x7a2)](_0x451893(0x8fa));_0x4a30cf&&_0x4a30cf[_0x451893(0x367)](),_0x2e0b1f[_0x451893(0x6e6)]['remove']('hidden');}}async function handleGenerateParallelPostTest(_0x4ac704){const _0x2b0f99=_0x15116f,_0x10ef4c=document[_0x2b0f99(0x7a2)](_0x2b0f99(0x3db)),_0x5c5357=document[_0x2b0f99(0x7a2)](_0x2b0f99(0x4c5));_0x5c5357[_0x2b0f99(0x6e6)][_0x2b0f99(0x360)](_0x2b0f99(0x106));const _0xd34e9e=_0x2b0f99(0x3e7);_0x10ef4c[_0x2b0f99(0x59f)](_0x2b0f99(0x96c),_0xd34e9e);try{const _0x4ed8ab=_0x4ac704['questions'][_0x2b0f99(0x217)]((_0x5b80cb,_0x55f1e8)=>{const _0x2c84c9=_0x2b0f99;let _0x3e8917=_0x55f1e8+0x1+'.\x20'+(_0x5b80cb['questionText']||_0x5b80cb[_0x2c84c9(0xa68)]);if(_0x5b80cb[_0x2c84c9(0xbd3)])_0x3e8917+=_0x2c84c9(0xc17)+_0x5b80cb[_0x2c84c9(0xbd3)][_0x2c84c9(0x935)](',\x20');return _0x3e8917;})[_0x2b0f99(0x935)]('\x0a\x0a'),_0x4aacc7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x4ac704['topic']+_0x2b0f99(0xb40)+_0x4ed8ab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2b0f99(0x3eb),_0x58b6fc={'type':_0x2b0f99(0x8c9),'properties':{'topic':{'type':_0x2b0f99(0x87c)},'questions':{'type':_0x2b0f99(0x587),'items':{'type':_0x2b0f99(0x8c9),'properties':{'questionText':{'type':_0x2b0f99(0x87c)},'questionType':{'type':_0x2b0f99(0x87c)},'options':{'type':_0x2b0f99(0x587),'items':{'type':_0x2b0f99(0x87c)}},'correctAnswerIndex':{'type':_0x2b0f99(0x421)},'idealAnswer':{'type':_0x2b0f99(0x87c)},'explanation':{'type':_0x2b0f99(0x87c)}},'required':[_0x2b0f99(0x187),_0x2b0f99(0x14f)]}}},'required':[_0x2b0f99(0xc63),_0x2b0f99(0x72a)]},_0x35efe4=await callAnalysisApi(_0x4aacc7,_0x58b6fc),_0x25fc70=_0x4ac704[_0x2b0f99(0xc63)][_0x2b0f99(0x892)](_0x2b0f99(0x728),'')['trim'](),_0x3d1c17=_0x2b0f99(0x5bb)+_0x25fc70,_0x2d7c6c={..._0x35efe4,'topic':_0x3d1c17,'quizType':_0x4ac704['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2b0f99(0x63c),'settings':_0x4ac704[_0x2b0f99(0xad7)],'quizMode':_0x2b0f99(0x256),'pairedQuizId':_0x4ac704['id']};let _0x12a1b7;while(!![]){_0x12a1b7=Math[_0x2b0f99(0x1c8)](0x3e8+Math['random']()*0x2328)[_0x2b0f99(0x42f)]();const _0x4afb5c=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x12a1b7));if(!_0x4afb5c['exists']())break;}await setDoc(doc(db,_0x2b0f99(0xc14)+appId+_0x2b0f99(0x42c),_0x12a1b7),_0x2d7c6c);const _0x31917b=doc(db,_0x2b0f99(0xc14)+appId+_0x2b0f99(0x42c),_0x4ac704['id']);await updateDoc(_0x31917b,{'pairedQuizId':_0x12a1b7}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x41032d){console[_0x2b0f99(0x13b)](_0x2b0f99(0x831),_0x41032d),showMessage(_0x2b0f99(0x9ee)+_0x41032d['message']);}finally{const _0x513902=document[_0x2b0f99(0x7a2)](_0x2b0f99(0x8fa));if(_0x513902)_0x513902['remove']();_0x5c5357['classList']['remove'](_0x2b0f99(0x106));}}async function handleGenerateParallelTest(_0x500e6f=null){const _0x23a4a1=_0x15116f;let _0x1a541f=_0x500e6f;if(!_0x1a541f){const _0x2d1b57=document['getElementById'](_0x23a4a1(0x4ee));_0x2d1b57[_0x23a4a1(0xb7b)][_0x23a4a1(0x987)]>0x0&&(_0x1a541f=_0x2d1b57[_0x23a4a1(0xb7b)][0x0]);}if(!_0x1a541f){showMessage(_0x23a4a1(0x175));return;}const _0x1a67ca=document[_0x23a4a1(0x7a2)](_0x23a4a1(0x88f)),_0x2f9605=document[_0x23a4a1(0x7a2)](_0x23a4a1(0x91a)),_0x205e76=document[_0x23a4a1(0x7a2)](_0x23a4a1(0x262)),_0x1fa265=document[_0x23a4a1(0x7a2)]('generate-from-parallel-test-btn');_0x1fa265['disabled']=!![],document[_0x23a4a1(0x7a2)]('quiz-generation-area')['classList'][_0x23a4a1(0x367)](_0x23a4a1(0x106)),_0x205e76[_0x23a4a1(0x322)]='',_0x1a67ca[_0x23a4a1(0x6e6)][_0x23a4a1(0x367)](_0x23a4a1(0x106)),_0x2f9605[_0x23a4a1(0x930)]=_0x23a4a1(0x6e9);const _0x166570=new FileReader();_0x166570[_0x23a4a1(0xaf1)](_0x1a541f),_0x166570['onload']=async()=>{const _0x194ef7=_0x23a4a1;try{const _0x4071a6=_0x166570[_0x194ef7(0x1e4)]['split'](',')[0x1],_0x3b0bed=_0x1a541f[_0x194ef7(0x20f)];_0x2f9605['textContent']='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x379003=document[_0x194ef7(0x7a2)](_0x194ef7(0x784))[_0x194ef7(0x8cc)],_0x2ff302=_0x379003?_0x194ef7(0x3e6):'',_0xa33801=_0x194ef7(0x6c6),_0x2661ab={'type':_0x194ef7(0x8c9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x194ef7(0x2ac),_0x194ef7(0xb64)]},'options':{'type':_0x194ef7(0x587),'items':{'type':_0x194ef7(0x87c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x194ef7(0x87c)},'explanation':{'type':_0x194ef7(0x87c)},'imageCode':{'type':_0x194ef7(0x87c)}},'required':[_0x194ef7(0x187),_0x194ef7(0x5ac),_0x194ef7(0x14f)]},_0x2567e9={'type':'OBJECT','properties':{'topic':{'type':_0x194ef7(0x87c)},'questions':{'type':'ARRAY','items':_0x2661ab}},'required':[_0x194ef7(0xc63),_0x194ef7(0x72a)]},_0x24211b=[{'text':_0xa33801},{'inlineData':{'mimeType':_0x3b0bed,'data':_0x4071a6}}];await handleApiCall(_0x24211b,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x2567e9);}catch(_0x5cf156){console[_0x194ef7(0x13b)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x5cf156),showMessage(_0x194ef7(0x9ee)+_0x5cf156[_0x194ef7(0x56e)]),_0x205e76['innerHTML']=_0x194ef7(0x13a);}finally{_0x1a67ca[_0x194ef7(0x6e6)]['add'](_0x194ef7(0x106)),_0x1fa265[_0x194ef7(0xc47)]=![];}},_0x166570[_0x23a4a1(0x50d)]=_0x1d3948=>{const _0x2bdb6a=_0x23a4a1;console['error'](_0x2bdb6a(0x30e),_0x1d3948),showMessage(_0x2bdb6a(0x940)),_0x1a67ca[_0x2bdb6a(0x6e6)][_0x2bdb6a(0x360)](_0x2bdb6a(0x106)),_0x1fa265[_0x2bdb6a(0xc47)]=![];};}async function handleRegenerateQuestionInEditor(_0x34189f){const _0x369c69=_0x15116f;if(currentEditingQuizData===null)return;const _0x2db491=document[_0x369c69(0xba0)](_0x369c69(0x438)+_0x34189f+'\x22]');_0x2db491&&(_0x2db491['innerHTML']=_0x369c69(0xc08));const _0x16ed66=currentEditingQuizData[_0x369c69(0x72a)][_0x34189f],_0x3d4013=currentEditingQuizData[_0x369c69(0xc63)],_0x5ab990=_0x16ed66[_0x369c69(0x5ac)],_0x4d5309={'type':_0x369c69(0x8c9),'properties':{'questionText':{'type':_0x369c69(0x87c)},'options':{'type':_0x369c69(0x587),'items':{'type':_0x369c69(0x87c)}},'correctAnswerIndex':{'type':_0x369c69(0x421)},'explanation':{'type':_0x369c69(0x87c)}},'required':[_0x369c69(0x187),_0x369c69(0xbd3),_0x369c69(0x4fa),'explanation']},_0x1c6f0d={'type':_0x369c69(0x8c9),'properties':{'questionText':{'type':_0x369c69(0x87c)},'idealAnswer':{'type':_0x369c69(0x87c)},'explanation':{'type':_0x369c69(0x87c)}},'required':[_0x369c69(0x187),'idealAnswer','explanation']};let _0x5c7630,_0x567596='';_0x5ab990===_0x369c69(0x2ac)?(_0x5c7630=_0x4d5309,_0x567596=_0x369c69(0x59b)):(_0x5c7630=_0x1c6f0d,_0x567596='แบบเติมคำตอบ');const _0x46f185=_0x369c69(0x2c8)+_0x3d4013+_0x369c69(0xb25)+_0x567596+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x16ed66[_0x369c69(0x187)]||_0x16ed66['stem'])+_0x369c69(0x71a)+simpleMathPrompt;try{const _0x4c613d=await callAnalysisApi(_0x46f185,_0x5c7630);currentEditingQuizData['questions'][_0x34189f]={..._0x16ed66,..._0x4c613d},renderQuizEditor(currentEditingQuizData);}catch(_0x54eec3){console['error'](_0x369c69(0x283),_0x54eec3),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x43f197=_0x15116f,_0x28cec0=document[_0x43f197(0x7a2)]('mode-switcher-btn');currentMode===_0x43f197(0xb56)?(adminPasswordModal[_0x43f197(0x6e6)]['remove'](_0x43f197(0x106)),document[_0x43f197(0x7a2)](_0x43f197(0x4d1))[_0x43f197(0x24e)]()):(currentMode=_0x43f197(0xb56),_0x28cec0[_0x43f197(0x322)]=_0x43f197(0x7e2),_0x28cec0[_0x43f197(0x4a4)]=_0x43f197(0x2ca),showView(_0x43f197(0xb56)));}function handleAdminLogin(){const _0x1708bb=_0x15116f,_0x260d4b=document[_0x1708bb(0x7a2)](_0x1708bb(0x4d1)),_0x2f18db=document[_0x1708bb(0x7a2)](_0x1708bb(0x2fc));if(_0x260d4b[_0x1708bb(0x682)]==='27411472'){adminPasswordModal[_0x1708bb(0x6e6)][_0x1708bb(0x360)](_0x1708bb(0x106)),_0x260d4b[_0x1708bb(0x682)]='',_0x2f18db['classList']['add'](_0x1708bb(0x106)),currentMode='admin';const _0x1bb788=document[_0x1708bb(0x7a2)](_0x1708bb(0x483));_0x1bb788[_0x1708bb(0x322)]=_0x1708bb(0xa4c),_0x1bb788[_0x1708bb(0x4a4)]='สลับไปโหมดนักเรียน',showView(_0x1708bb(0xc46));}else _0x2f18db[_0x1708bb(0x6e6)][_0x1708bb(0x367)](_0x1708bb(0x106)),_0x260d4b[_0x1708bb(0x682)]='';}function switchProjectTab(_0x29f79e){const _0x4219ac=_0x15116f;[_0x4219ac(0xb49),_0x4219ac(0x128),_0x4219ac(0xc28)][_0x4219ac(0x1b7)](_0x45a8d8=>{const _0x297107=_0x4219ac;document[_0x297107(0x7a2)](_0x45a8d8+_0x297107(0x2c7))[_0x297107(0x6e6)][_0x297107(0x367)](_0x297107(0x63c)),document['getElementById'](_0x45a8d8+_0x297107(0x641))[_0x297107(0x6e6)][_0x297107(0x360)](_0x297107(0x106));}),document[_0x4219ac(0x7a2)](_0x29f79e+_0x4219ac(0x2c7))[_0x4219ac(0x6e6)][_0x4219ac(0x360)](_0x4219ac(0x63c)),document[_0x4219ac(0x7a2)](_0x29f79e+'-tab-content')[_0x4219ac(0x6e6)][_0x4219ac(0x367)]('hidden');}function switchQuizDetailTab(_0x5a095c){const _0x408834=_0x15116f,_0x92a446={'analytics':{'btn':_0x408834(0x108),'content':_0x408834(0x32e)},'scores':{'btn':_0x408834(0x602),'content':_0x408834(0x485)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x408834(0x778),'content':'behavior-log-tab-content'}};for(const _0x35f62a in _0x92a446){document['getElementById'](_0x92a446[_0x35f62a][_0x408834(0x807)])[_0x408834(0x6e6)][_0x408834(0x367)](_0x408834(0x63c)),document[_0x408834(0x7a2)](_0x92a446[_0x35f62a][_0x408834(0x2c0)])['classList'][_0x408834(0x360)](_0x408834(0x106));}document[_0x408834(0x7a2)](_0x92a446[_0x5a095c][_0x408834(0x807)])['classList']['add'](_0x408834(0x63c)),document[_0x408834(0x7a2)](_0x92a446[_0x5a095c]['content'])['classList']['remove'](_0x408834(0x106));}function showMessage(_0x4fb7c1,_0x206ca8=null){const _0x4dc165=_0x15116f;modalMessage[_0x4dc165(0x930)]=_0x4fb7c1,modalConfirmAction=_0x206ca8,messageModal['classList'][_0x4dc165(0x367)](_0x4dc165(0x106));}function showConfirmation(_0x291e46,_0x185c50){const _0x48a632=_0x15116f;document[_0x48a632(0x7a2)](_0x48a632(0xc66))[_0x48a632(0x930)]=_0x291e46,document['getElementById'](_0x48a632(0xa62))[_0x48a632(0xba0)]('h3')[_0x48a632(0x930)]='ยืนยันการกระทำ',confirmAction=_0x185c50,confirmationModal['classList']['remove'](_0x48a632(0x106));}function listenForProjects(){const _0x181bbf=_0x15116f,_0x1997a0=doc(db,_0x181bbf(0x466),_0x181bbf(0x37d));onSnapshot(_0x1997a0,_0x3db17a=>{const _0x375a63=_0x181bbf;if(_0x3db17a[_0x375a63(0xfc)]()){const _0x28fefc=_0x3db17a[_0x375a63(0xc6b)]();globalDashboardSettings[_0x375a63(0x116)]=_0x28fefc[_0x375a63(0x116)]||'date_desc',globalDashboardSettings[_0x375a63(0x7fc)]=_0x28fefc[_0x375a63(0x7fc)]||[],globalDashboardSettings['projectOrder']=_0x28fefc['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x5f3638=collection(db,_0x181bbf(0xc14)+appId+_0x181bbf(0x5cb));unsubscribeProjectsListener=onSnapshot(_0x5f3638,_0x5cadb7=>{const _0x57d729=_0x181bbf;allProjects=_0x5cadb7[_0x57d729(0x610)][_0x57d729(0x217)](_0x1ae289=>({'id':_0x1ae289['id'],..._0x1ae289[_0x57d729(0xc6b)]()})),renderProjects();},_0x2b0a88=>{const _0x574457=_0x181bbf;console[_0x574457(0x13b)](_0x574457(0xbff),_0x2b0a88),showMessage(_0x574457(0x9d7));});}function showColorPalette(_0x539a17,_0x5b95ae){const _0xf23d06=_0x15116f;document['querySelectorAll']('.color-palette-popup')[_0xf23d06(0x1b7)](_0xe4c31a=>_0xe4c31a['remove']());const _0x26549b=[_0xf23d06(0x365),_0xf23d06(0x93a),_0xf23d06(0x19f),'#D1FAE5','#DBEAFE','#E0E7FF',_0xf23d06(0xb9e),_0xf23d06(0x95c),_0xf23d06(0x2f0)],_0x9e0fce=document[_0xf23d06(0x870)](_0xf23d06(0xad3));_0x9e0fce[_0xf23d06(0x6fb)]=_0xf23d06(0x38d),_0x26549b['forEach'](_0x41dfdc=>{const _0x4a93a0=_0xf23d06,_0x4e4d9d=document[_0x4a93a0(0x870)](_0x4a93a0(0xad3));_0x4e4d9d['className']=_0x4a93a0(0x3b7),_0x4e4d9d[_0x4a93a0(0x1af)][_0x4a93a0(0x609)]=_0x41dfdc,_0x4e4d9d[_0x4a93a0(0x6d5)]('click',()=>{handleProjectColorChange(_0x5b95ae,_0x41dfdc),_0x9e0fce['remove']();}),_0x9e0fce[_0x4a93a0(0xc10)](_0x4e4d9d);}),document['body'][_0xf23d06(0xc10)](_0x9e0fce);const _0x862be6=_0x539a17[_0xf23d06(0xadf)]();_0x9e0fce['style']['top']=_0x862be6[_0xf23d06(0xc2c)]+window['scrollY']+'px',_0x9e0fce[_0xf23d06(0x1af)][_0xf23d06(0x15a)]=_0x862be6[_0xf23d06(0x15a)]+window[_0xf23d06(0x733)]-_0x9e0fce[_0xf23d06(0x1cd)]/0x2+'px';}async function handleProjectColorChange(_0x263874,_0x3e87af){const _0xb8fcee=_0x15116f,_0x1691ac=doc(db,'artifacts/'+appId+_0xb8fcee(0x5cb),_0x263874);try{await updateDoc(_0x1691ac,{'color':_0x3e87af});}catch(_0x2f3200){console[_0xb8fcee(0x13b)](_0xb8fcee(0xa64),_0x2f3200),showMessage(_0xb8fcee(0xbd0));}}async function renderProjects(){const _0x3503c0=_0x15116f,_0x2f1ccf=globalDashboardSettings['projectSort']||_0x3503c0(0x939),_0x4d9861=new Set(globalDashboardSettings[_0x3503c0(0x7fc)]||[]),_0x55122e=globalDashboardSettings[_0x3503c0(0x658)]||_0x3503c0(0x2e1),_0x102fa1=document[_0x3503c0(0x7a2)]('grid-view-btn'),_0x5efde5=document[_0x3503c0(0x7a2)](_0x3503c0(0x472));_0x102fa1[_0x3503c0(0x6e6)][_0x3503c0(0xb38)](_0x3503c0(0x63c),_0x55122e===_0x3503c0(0x2e1)),_0x5efde5['classList'][_0x3503c0(0xb38)](_0x3503c0(0x63c),_0x55122e==='list'),document[_0x3503c0(0x7a2)](_0x3503c0(0x5e8))[_0x3503c0(0x682)]=_0x2f1ccf;const _0x4ee242=document['getElementById'](_0x3503c0(0x93e))['value'][_0x3503c0(0x53c)]();let _0x5be8ee=allProjects[_0x3503c0(0x431)](_0xf8dd1=>_0xf8dd1[_0x3503c0(0x208)][_0x3503c0(0x53c)]()['includes'](_0x4ee242));const _0x45873f=_0x5be8ee['filter'](_0x5eb34f=>_0x4d9861['has'](_0x5eb34f['id'])),_0xb3f9fc=_0x5be8ee[_0x3503c0(0x431)](_0x47b1a5=>!_0x4d9861[_0x3503c0(0x1f4)](_0x47b1a5['id'])),_0x305cc2=(_0x134d88,_0x54c2fa)=>{const _0x117f52=_0x3503c0;switch(_0x2f1ccf){case _0x117f52(0x11f):return _0x134d88['projectName'][_0x117f52(0xb43)](_0x54c2fa[_0x117f52(0x208)],'th');case _0x117f52(0x664):return _0x54c2fa['projectName'][_0x117f52(0xb43)](_0x134d88['projectName'],'th');case _0x117f52(0x78b):return new Date(_0x134d88[_0x117f52(0x376)])-new Date(_0x54c2fa[_0x117f52(0x376)]);default:return new Date(_0x54c2fa[_0x117f52(0x376)])-new Date(_0x134d88[_0x117f52(0x376)]);}};_0x45873f[_0x3503c0(0x2ea)](_0x305cc2),_0xb3f9fc[_0x3503c0(0x2ea)](_0x305cc2);const _0x44f414=[..._0x45873f,..._0xb3f9fc],_0x2a9413=globalDashboardSettings['projectOrder']||[];_0x2a9413[_0x3503c0(0x987)]>0x0&&_0x55122e==='grid'&&_0x44f414[_0x3503c0(0x2ea)]((_0x69e512,_0x516ad4)=>{const _0x445fcd=_0x3503c0,_0x4343a6=_0x2a9413[_0x445fcd(0xb0f)](_0x69e512['id']),_0x1c264e=_0x2a9413[_0x445fcd(0xb0f)](_0x516ad4['id']);if(_0x4343a6===-0x1)return 0x1;if(_0x1c264e===-0x1)return-0x1;return _0x4343a6-_0x1c264e;});const _0x248867={};await Promise[_0x3503c0(0x458)](_0x44f414[_0x3503c0(0x217)](async _0x565e3a=>{const _0x5c09de=_0x3503c0,_0x349585=query(collection(db,_0x5c09de(0xc14)+appId+'/public/data/quizzes'),where(_0x5c09de(0xb9b),'==',_0x565e3a['id'])),_0xa0efd7=await getDocs(_0x349585);_0x248867[_0x565e3a['id']]=_0xa0efd7[_0x5c09de(0x84a)];}));const _0xd04328=document['getElementById']('project-list');let _0xb38b6='';if(_0x55122e===_0x3503c0(0x2e1)){_0xd04328[_0x3503c0(0x6fb)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x4ee242===''){const _0x44a710=starredQuizzes['map'](_0x34ad91=>{const _0x450049=_0x3503c0,_0x4af4e1=allProjects[_0x450049(0x22a)](_0x4cc71e=>_0x4cc71e['id']===_0x34ad91[_0x450049(0xb9b)]);return{..._0x34ad91,'projectName':_0x4af4e1?_0x4af4e1[_0x450049(0x208)]:_0x450049(0xaee)};});_0xb38b6+=_0x3503c0(0x720)+_0x44a710['map'](_0x4d5114=>_0x3503c0(0x496)+_0x4d5114[_0x3503c0(0xc63)]+'\x22>'+_0x4d5114[_0x3503c0(0xc63)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x4d5114['projectName']+'\x22>จาก:\x20'+_0x4d5114[_0x3503c0(0x208)]+_0x3503c0(0x105))[_0x3503c0(0x935)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x3503c0(0x987)]+_0x3503c0(0x413);}_0x44f414[_0x3503c0(0x1b7)](_0x31ccc4=>{const _0x246d33=_0x3503c0,_0x5c1363=_0x248867[_0x31ccc4['id']]??0x0,_0x1a2253=_0x4d9861[_0x246d33(0x1f4)](_0x31ccc4['id']),_0x48239b=_0x31ccc4['color']||'#FFFFFF',_0x576a4d=parseInt(_0x48239b[_0x246d33(0x84c)](0x1,0x3),0x10)*0.299+parseInt(_0x48239b[_0x246d33(0x84c)](0x3,0x5),0x10)*0.587+parseInt(_0x48239b[_0x246d33(0x84c)](0x5,0x7),0x10)*0.114<0xba,_0x5a58b4=_0x576a4d?'text-white':_0x246d33(0x741),_0x102614=_0x576a4d?_0x246d33(0x599):_0x246d33(0x19c);_0xb38b6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x1a2253?_0x246d33(0x49e):_0x246d33(0x552))+_0x246d33(0x555)+_0x48239b+_0x246d33(0x6c4)+_0x31ccc4['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x31ccc4['id']+_0x246d33(0x29d)+(_0x576a4d?_0x246d33(0x4ba):_0x246d33(0xa82))+_0x246d33(0xbb8)+_0x31ccc4['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x576a4d?_0x246d33(0x4ba):_0x246d33(0xa82))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x1a2253?_0x576a4d?'text-yellow-300':_0x246d33(0x9c8):'')+_0x246d33(0x10f)+_0x31ccc4['id']+_0x246d33(0x59d)+_0x5a58b4+_0x246d33(0x7d8)+_0x31ccc4[_0x246d33(0x208)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x102614+_0x246d33(0xbfc)+new Date(_0x31ccc4[_0x246d33(0x376)])[_0x246d33(0x9e3)]('th-TH')+_0x246d33(0x757)+(_0x576a4d?_0x246d33(0x6cb):_0x246d33(0x67b))+_0x246d33(0x5e3)+_0x5c1363+_0x246d33(0x611)+_0x31ccc4['id']+_0x246d33(0x34e)+_0x31ccc4[_0x246d33(0x208)]+_0x246d33(0x8a5)+(_0x576a4d?_0x246d33(0xc1d):_0x246d33(0xc29))+_0x246d33(0xa2c);});}else _0xd04328[_0x3503c0(0x6fb)]=_0x3503c0(0x969),starredQuizzes[_0x3503c0(0x987)]>0x0&&_0x4ee242===''&&(_0xb38b6+=_0x3503c0(0x90b)+starredQuizzes[_0x3503c0(0x987)]+_0x3503c0(0x2ab)),_0xb38b6+=_0x3503c0(0x6ca),_0x44f414['forEach'](_0x580478=>{const _0x5c7f57=_0x3503c0,_0x5e699c=_0x248867[_0x580478['id']]??0x0,_0x3d7d4e=_0x4d9861[_0x5c7f57(0x1f4)](_0x580478['id']);_0xb38b6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x580478[_0x5c7f57(0x596)]||'#E5E7EB')+_0x5c7f57(0xaed)+_0x580478['id']+_0x5c7f57(0x4b6)+_0x580478[_0x5c7f57(0x208)]+_0x5c7f57(0xa94)+_0x5e699c+_0x5c7f57(0xabd)+new Date(_0x580478[_0x5c7f57(0x376)])[_0x5c7f57(0x6a4)](_0x5c7f57(0x78d))+_0x5c7f57(0x871)+_0x580478['id']+_0x5c7f57(0xabf)+(_0x3d7d4e?_0x5c7f57(0x9c8):'')+_0x5c7f57(0x523)+_0x580478['id']+_0x5c7f57(0x34e)+_0x580478[_0x5c7f57(0x208)]+_0x5c7f57(0xbed);});projectList[_0x3503c0(0x322)]=_0xb38b6,noProjectsMsg[_0x3503c0(0x6e6)][_0x3503c0(0xb38)](_0x3503c0(0x106),_0xb38b6[_0x3503c0(0x987)]>0x0);}document[_0x15116f(0x7a2)](_0x15116f(0x74e))[_0x15116f(0x6d5)](_0x15116f(0x22c),async()=>{const _0x59f41d=_0x15116f,_0x301182=document[_0x59f41d(0x7a2)](_0x59f41d(0x436)),_0xbd01f5=_0x301182[_0x59f41d(0x682)]['trim']();if(!_0xbd01f5){showMessage(_0x59f41d(0x257));return;}try{const _0x13917f=doc(collection(db,_0x59f41d(0xc14)+appId+_0x59f41d(0x5cb)));await setDoc(_0x13917f,{'projectName':_0xbd01f5,'students':[],'settings':{'resultsDisplay':_0x59f41d(0x3e9),'shuffleSetting':_0x59f41d(0x799),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x59f41d(0x799),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x59f41d(0x25b)]()}),_0x301182['value']='',createProjectModal[_0x59f41d(0x6e6)][_0x59f41d(0x360)](_0x59f41d(0x106)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x18566c){console[_0x59f41d(0x13b)]('Error\x20creating\x20project:',_0x18566c),showMessage(_0x59f41d(0x90d));}}),projectList['addEventListener'](_0x15116f(0x22c),async _0x50d0d7=>{const _0x464446=_0x15116f,_0x911460=_0x50d0d7[_0x464446(0x4c1)]['closest']('.project-card-content'),_0x2c5ef1=_0x50d0d7[_0x464446(0x4c1)][_0x464446(0x38e)](_0x464446(0x239)),_0x48dc43=_0x50d0d7['target'][_0x464446(0x38e)](_0x464446(0xa57)),_0x1b1ef5=_0x50d0d7[_0x464446(0x4c1)][_0x464446(0x38e)](_0x464446(0xb9f));if(_0x48dc43){const _0x31e133=_0x48dc43[_0x464446(0xb1e)]['id'],_0x23627b=doc(db,_0x464446(0x466),_0x464446(0x37d)),_0x2be5cf=globalDashboardSettings[_0x464446(0x7fc)];let _0x16d302;_0x2be5cf[_0x464446(0x679)](_0x31e133)?_0x16d302=_0x2be5cf['filter'](_0x169150=>_0x169150!==_0x31e133):_0x16d302=[..._0x2be5cf,_0x31e133];try{await setDoc(_0x23627b,{'pinnedProjects':_0x16d302},{'merge':!![]});}catch(_0x15c14c){console[_0x464446(0x13b)](_0x464446(0xac3),_0x15c14c),showMessage(_0x464446(0x98a));}}else{if(_0x1b1ef5){const _0x4edc28=_0x1b1ef5[_0x464446(0xb1e)]['id'];showColorPalette(_0x1b1ef5,_0x4edc28);}else{if(_0x911460){const _0x3fcdbf=_0x911460['dataset']['id'];_0x3fcdbf===_0x464446(0x4d6)?showStarredProjectView():(currentProjectId=_0x3fcdbf,await loadProjectDetails(currentProjectId),showView(_0x464446(0x4e2)));}else{if(_0x2c5ef1){const _0x231578=_0x2c5ef1['dataset']['id'],_0x308a21=_0x2c5ef1['dataset']['name'];showConfirmation(_0x464446(0xbee)+_0x308a21+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x231578));}}}}}),projectList[_0x15116f(0x6d5)](_0x15116f(0x865),_0x2716ca=>{const _0x22861f=_0x15116f,_0x1cab65=_0x2716ca[_0x22861f(0x4c1)][_0x22861f(0x38e)](_0x22861f(0x676));_0x1cab65&&_0x1cab65[_0x22861f(0x6e6)][_0x22861f(0x360)](_0x22861f(0x146));}),projectList[_0x15116f(0x6d5)](_0x15116f(0x35f),_0x38fd86=>{const _0xce29f5=_0x15116f,_0x5cf193=_0x38fd86['target'][_0xce29f5(0x38e)](_0xce29f5(0x676));_0x5cf193&&_0x5cf193['classList']['remove'](_0xce29f5(0x146));}),projectList['addEventListener'](_0x15116f(0x33b),_0x30997b=>{const _0x255aec=_0x15116f;_0x30997b['preventDefault']();const _0x4744aa=document[_0x255aec(0xba0)](_0x255aec(0x4a3));if(!_0x4744aa)return;const _0x838351=getDragAfterElement(projectList,_0x30997b[_0x255aec(0x5ee)]);_0x838351==null?projectList[_0x255aec(0xc10)](_0x4744aa):projectList[_0x255aec(0x491)](_0x4744aa,_0x838351);}),projectList['addEventListener']('drop',_0x19a9ca=>{const _0x59dbdb=_0x15116f;_0x19a9ca['preventDefault']();const _0x729950=[...projectList['querySelectorAll'](_0x59dbdb(0xb26))][_0x59dbdb(0x217)](_0x4ff738=>_0x4ff738[_0x59dbdb(0xb1e)]['id']);saveProjectOrder(_0x729950);});function renderBehaviorLog(_0x33c7c7){const _0x218c7b=_0x15116f,_0x5a09e0=document[_0x218c7b(0x7a2)]('behavior-log-container');if(!_0x5a09e0)return;const _0x38d777=_0x33c7c7['filter'](_0x3d7de8=>_0x3d7de8[_0x218c7b(0x5e2)]&&_0x3d7de8[_0x218c7b(0x5e2)][_0x218c7b(0x987)]>0x0);if(_0x38d777[_0x218c7b(0x987)]===0x0){_0x5a09e0['innerHTML']=_0x218c7b(0x642);return;}let _0x3a63af='';_0x38d777[_0x218c7b(0x1b7)](_0x2a1e2a=>{const _0x221c6d=_0x218c7b;_0x3a63af+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2a1e2a['studentName']+_0x221c6d(0x530),_0x2a1e2a[_0x221c6d(0x5e2)][_0x221c6d(0x2ea)]((_0x3e32e5,_0x23ec00)=>new Date(_0x23ec00[_0x221c6d(0x9fa)])-new Date(_0x3e32e5['timestamp']))['forEach'](_0x307c48=>{const _0x1e0db9=_0x221c6d,_0x2fc972=new Date(_0x307c48[_0x1e0db9(0x9fa)])['toLocaleString'](_0x1e0db9(0x78d),{'dateStyle':'short','timeStyle':_0x1e0db9(0xbfd)});_0x3a63af+=_0x1e0db9(0x7c0)+_0x307c48[_0x1e0db9(0x42d)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x2fc972+_0x1e0db9(0x529);}),_0x3a63af+=_0x221c6d(0xbc6);}),_0x5a09e0[_0x218c7b(0x322)]=_0x3a63af;}function getDragAfterElement(_0xd5a1f,_0x35b547){const _0x48a65d=_0x15116f,_0x192d07=[..._0xd5a1f[_0x48a65d(0x17a)](_0x48a65d(0x743))];return _0x192d07['reduce']((_0x28efb8,_0x2030c9)=>{const _0x42c911=_0x48a65d,_0x450693=_0x2030c9[_0x42c911(0xadf)](),_0x250c00=_0x35b547-_0x450693[_0x42c911(0x6e5)]-_0x450693[_0x42c911(0x965)]/0x2;return _0x250c00<0x0&&_0x250c00>_0x28efb8[_0x42c911(0x9d8)]?{'offset':_0x250c00,'element':_0x2030c9}:_0x28efb8;},{'offset':Number[_0x48a65d(0x95f)]})[_0x48a65d(0x698)];}async function saveProjectOrder(_0x3f6713){const _0x32de3d=_0x15116f,_0x2415a9=doc(db,_0x32de3d(0x466),'dashboardConfig');try{await setDoc(_0x2415a9,{'projectOrder':_0x3f6713},{'merge':!![]});}catch(_0x292876){console['error'](_0x32de3d(0x278),_0x292876),showMessage(_0x32de3d(0x48b));}}async function logBehaviorEvent(_0x5ae94c,_0x497764={}){const _0x435534=_0x15116f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x435534(0x9d6)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x20b52f=doc(db,'artifacts/'+appId+_0x435534(0x6b0)+currentQuizData['id']+_0x435534(0x68c),currentStudentName),_0x5c69d0={'event':_0x5ae94c,'timestamp':new Date()[_0x435534(0x25b)](),..._0x497764};try{await updateDoc(_0x20b52f,{'behaviorLog':arrayUnion(_0x5c69d0)}),console[_0x435534(0x7d6)](_0x435534(0x904)+currentStudentName+_0x435534(0x30b));}catch(_0x578c1e){_0x578c1e[_0x435534(0x8b0)]===_0x435534(0x39a)?console['warn'](_0x435534(0x7df)+currentStudentName+_0x435534(0x270)):console[_0x435534(0x13b)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x578c1e);}}function calculateMeanAndStdDev(_0x45e416){const _0x281afa=_0x15116f;if(_0x45e416[_0x281afa(0x987)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x22f0d8=_0x45e416[_0x281afa(0x366)]((_0x589334,_0x7ef614)=>_0x589334+_0x7ef614,0x0)/_0x45e416['length'];if(_0x45e416['length']===0x1)return{'mean':_0x22f0d8,'stdDev':0x0};const _0x38de9b=Math['sqrt'](_0x45e416[_0x281afa(0x217)](_0x2268ed=>Math[_0x281afa(0xa55)](_0x2268ed-_0x22f0d8,0x2))[_0x281afa(0x366)]((_0x40d7e2,_0x3e3b60)=>_0x40d7e2+_0x3e3b60,0x0)/(_0x45e416[_0x281afa(0x987)]-0x1));return{'mean':_0x22f0d8,'stdDev':_0x38de9b};}function calculateZScore(_0x31d770,_0x3d97d0,_0x1d50bb){if(_0x1d50bb===0x0)return 0x0;return(_0x31d770-_0x3d97d0)/_0x1d50bb;}function calculateTScore(_0x34af79){return 0xa*_0x34af79+0x32;}function showStarredProjectView(){const _0x57c23d=_0x15116f;currentProjectId=_0x57c23d(0x4b5),currentProjectData=null,projectTitle[_0x57c23d(0x930)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x57c23d(0x930)]='pinned-items',showView(_0x57c23d(0x4e2)),manageTab['classList'][_0x57c23d(0x360)](_0x57c23d(0x106)),leaderboardTab[_0x57c23d(0x6e6)][_0x57c23d(0x360)](_0x57c23d(0x106)),switchProjectTab(_0x57c23d(0x128)),renderQuizzes();}async function loadProjectDetails(_0x72ed84){const _0x15c59c=_0x15116f,_0x10fb98=doc(db,_0x15c59c(0xc14)+appId+_0x15c59c(0x5cb),_0x72ed84),_0xa4f3d=await getDoc(_0x10fb98);if(_0xa4f3d['exists']()){manageTab[_0x15c59c(0x6e6)]['remove']('hidden'),leaderboardTab['classList'][_0x15c59c(0x367)]('hidden'),currentProjectData=_0xa4f3d['data'](),projectTitle[_0x15c59c(0x930)]=currentProjectData[_0x15c59c(0x208)],projectIdDisplay[_0x15c59c(0x930)]=_0x72ed84;const _0x3efa75=currentProjectData[_0x15c59c(0xad7)]||{};document[_0x15c59c(0x7a2)](_0x15c59c(0x7cc))['value']=_0x3efa75[_0x15c59c(0x2dd)]||_0x15c59c(0x799);const _0x86d4e9=document['getElementById'](_0x15c59c(0xac9));_0x86d4e9['checked']=_0x3efa75[_0x15c59c(0x918)]!==![];const _0x51305b=document[_0x15c59c(0x7a2)](_0x15c59c(0x40a)),_0x10cb28=document['getElementById']('passcode-input-container'),_0x21639d=document[_0x15c59c(0x7a2)](_0x15c59c(0x7b1)),_0x13f40f=_0x3efa75[_0x15c59c(0x562)]||![];_0x51305b['checked']=_0x13f40f,_0x21639d['value']=_0x3efa75[_0x15c59c(0x209)]||'',_0x10cb28[_0x15c59c(0x6e6)]['toggle'](_0x15c59c(0x106),!_0x13f40f),_0x51305b[_0x15c59c(0x8e2)]=()=>{const _0x167e05=_0x15c59c;_0x10cb28[_0x167e05(0x6e6)]['toggle'](_0x167e05(0x106),!_0x51305b['checked']);},document[_0x15c59c(0x7a2)]('confidence-scoring-checkbox')[_0x15c59c(0x8cc)]=_0x3efa75[_0x15c59c(0x1e0)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x72ed84),listenForProjectQuizzes(_0x72ed84),listenForStudentProfiles(_0x72ed84);}else showMessage(_0x15c59c(0x4d8)),showView(_0x15c59c(0xc46));}async function handleResetProjectOrder(){const _0x26a4f8=_0x15116f,_0x3854e6=doc(db,_0x26a4f8(0x466),'dashboardConfig');try{await setDoc(_0x3854e6,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x26a4f8(0x65b));}catch(_0x209e05){console['error'](_0x26a4f8(0x39e),_0x209e05),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x5f1cca){const _0xe6cea3=_0x15116f;if(!_0x5f1cca)return;const _0x4d1f69=doc(db,_0xe6cea3(0xc14)+appId+_0xe6cea3(0x5cb),_0x5f1cca);try{const _0x5562db=await getDoc(_0x4d1f69);if(_0x5562db[_0xe6cea3(0xfc)]()){const _0x351100=_0x5562db[_0xe6cea3(0xc6b)]()['isPinned']||![];await updateDoc(_0x4d1f69,{'isPinned':!_0x351100});}}catch(_0x4506b0){console[_0xe6cea3(0x13b)](_0xe6cea3(0xb0c),_0x4506b0),showMessage(_0xe6cea3(0x98a));}}async function handleDeleteProject(_0x2b5d4f){const _0x349396=_0x15116f;try{const _0x25fab8=writeBatch(db),_0xf8c94b=collection(db,_0x349396(0xc14)+appId+_0x349396(0x42c)),_0x16f943=query(_0xf8c94b,where(_0x349396(0xb9b),'==',_0x2b5d4f)),_0x20d2e8=await getDocs(_0x16f943);for(const _0x4c511c of _0x20d2e8[_0x349396(0x610)]){const _0xf19587=collection(db,_0x349396(0xc14)+appId+_0x349396(0x6b0)+_0x4c511c['id']+_0x349396(0x68c)),_0x1bfd7f=await getDocs(_0xf19587);_0x1bfd7f[_0x349396(0x1b7)](_0x4ae668=>{const _0x3bbf29=_0x349396;_0x25fab8[_0x3bbf29(0x48f)](_0x4ae668[_0x3bbf29(0x560)]);}),_0x25fab8[_0x349396(0x48f)](_0x4c511c[_0x349396(0x560)]);}const _0x5c2138=collection(db,_0x349396(0xc14)+appId+_0x349396(0x459)+_0x2b5d4f+_0x349396(0x880)),_0x1ed5ef=await getDocs(_0x5c2138);_0x1ed5ef[_0x349396(0x1b7)](_0x1264f3=>{const _0x48fe41=_0x349396;_0x25fab8['delete'](_0x1264f3[_0x48fe41(0x560)]);});const _0x2d3870=doc(db,_0x349396(0xc14)+appId+_0x349396(0x5cb),_0x2b5d4f);_0x25fab8['delete'](_0x2d3870),await _0x25fab8[_0x349396(0x18c)](),showMessage(_0x349396(0x5ca)),showView(_0x349396(0xc46));}catch(_0x2b156f){console[_0x349396(0x13b)](_0x349396(0x944),_0x2b156f),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x15116f(0x7a2)]('save-settings-btn')[_0x15116f(0x6d5)](_0x15116f(0x22c),async()=>{const _0x2b023a=_0x15116f;if(!currentProjectId)return;const _0x4fa542={'defaultNumQuestions':parseInt(document[_0x2b023a(0x7a2)](_0x2b023a(0x7c3))[_0x2b023a(0x682)]),'defaultNumChoices':parseInt(document[_0x2b023a(0x7a2)](_0x2b023a(0x888))[_0x2b023a(0x682)]),'defaultPassingScore':parseInt(document[_0x2b023a(0x7a2)]('passing-score-input')['value']),'resultsDisplay':document['getElementById'](_0x2b023a(0x247))[_0x2b023a(0x682)],'shuffleSetting':document[_0x2b023a(0x7a2)](_0x2b023a(0x7cc))[_0x2b023a(0x682)],'timerMode':document[_0x2b023a(0x7a2)](_0x2b023a(0x4e7))[_0x2b023a(0x682)],'timerDuration':parseInt(document[_0x2b023a(0x7a2)](_0x2b023a(0xba1))[_0x2b023a(0x682)]),'isConfidenceScoringEnabled':document[_0x2b023a(0x7a2)]('confidence-scoring-checkbox')[_0x2b023a(0x8cc)],'confidenceMode':document[_0x2b023a(0x7a2)](_0x2b023a(0xf7))[_0x2b023a(0x682)]};try{const _0x117b45=doc(db,_0x2b023a(0xc14)+appId+_0x2b023a(0x5cb),currentProjectId);await updateDoc(_0x117b45,{'settings':_0x4fa542}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5e7c3d){console[_0x2b023a(0x13b)](_0x2b023a(0xbe5),_0x5e7c3d),showMessage(_0x2b023a(0xc2a));}});function listenForStudents(_0x399ca2){const _0x5d97ac=_0x15116f,_0x3fb30d=doc(db,_0x5d97ac(0xc14)+appId+_0x5d97ac(0x5cb),_0x399ca2);unsubscribeStudentsListener=onSnapshot(_0x3fb30d,_0x19dbee=>{const _0x4baa13=_0x5d97ac;if(_0x19dbee['exists']()){const _0x44a8c6=_0x19dbee['data']();currentProjectData=_0x44a8c6,renderStudentList(_0x44a8c6[_0x4baa13(0x8ad)]||[]);}});}function renderStudentList(_0x53ae14){const _0x1516bf=_0x15116f,_0x589854=document[_0x1516bf(0x7a2)]('delete-all-students-btn');_0x53ae14['length']===0x0?(studentList[_0x1516bf(0x322)]=_0x1516bf(0xad4),_0x589854[_0x1516bf(0x6e6)]['add'](_0x1516bf(0x106))):(studentList[_0x1516bf(0x322)]=_0x53ae14[_0x1516bf(0x217)](_0x1adf7a=>_0x1516bf(0x21c)+_0x1adf7a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1adf7a+_0x1516bf(0xb0a))[_0x1516bf(0x935)](''),_0x589854['classList'][_0x1516bf(0x367)](_0x1516bf(0x106)));}document[_0x15116f(0x7a2)](_0x15116f(0x79f))['addEventListener'](_0x15116f(0x22c),async()=>{const _0x2bb0c9=_0x15116f;if(!currentProjectId)return;const _0x65e3e4=document[_0x2bb0c9(0x7a2)](_0x2bb0c9(0x5c6)),_0x53de66=_0x65e3e4[_0x2bb0c9(0x682)][_0x2bb0c9(0x6ad)]();if(!_0x53de66){showMessage(_0x2bb0c9(0x382));return;}const _0x14be84=_0x53de66['split']('\x0a')[_0x2bb0c9(0x217)](_0x43ab56=>_0x43ab56[_0x2bb0c9(0x6ad)]())[_0x2bb0c9(0x431)](_0x3961c2=>_0x3961c2);if(_0x14be84['length']===0x0)return;try{const _0x2d5765=doc(db,_0x2bb0c9(0xc14)+appId+_0x2bb0c9(0x5cb),currentProjectId),_0x525259=await getDoc(_0x2d5765);if(_0x525259['exists']()){const _0xbe5235=_0x525259[_0x2bb0c9(0xc6b)]()[_0x2bb0c9(0x8ad)]||[],_0x2b876f=[...new Set([..._0xbe5235,..._0x14be84])];await updateDoc(_0x2d5765,{'students':_0x2b876f}),_0x65e3e4[_0x2bb0c9(0x682)]='';}}catch(_0x5300ce){console['error']('Error\x20adding\x20students:',_0x5300ce),showMessage(_0x2bb0c9(0x44f));}});async function handleManualQuizPairing(_0x2e25f1){const _0x3f676a=_0x15116f,_0x1bc451=document['getElementById'](_0x3f676a(0xa56)),_0x1038d7=document[_0x3f676a(0x7a2)]('move-quiz-project-select'),_0x27eaef=_0x1bc451[_0x3f676a(0xba0)]('h3'),_0xe6b77c=document[_0x3f676a(0x7a2)]('confirm-move-quiz-btn'),_0x5dc286=document[_0x3f676a(0x7a2)](_0x3f676a(0x546));_0x27eaef[_0x3f676a(0x930)]='จับคู่เพื่อเปรียบเทียบผล',_0x1038d7['innerHTML']=_0x3f676a(0x874),_0xe6b77c[_0x3f676a(0x930)]=_0x3f676a(0x7d3),_0x1bc451[_0x3f676a(0x6e6)][_0x3f676a(0x367)](_0x3f676a(0x106));const _0x30ec37=allQuizzes['filter'](_0x46eb1c=>_0x46eb1c['id']!==_0x2e25f1);_0x30ec37[_0x3f676a(0x987)]===0x0?(_0x1038d7['innerHTML']=_0x3f676a(0xad1),_0xe6b77c[_0x3f676a(0xc47)]=!![]):(_0x1038d7[_0x3f676a(0x322)]=_0x3f676a(0x5db)+_0x30ec37['map'](_0x449c16=>_0x3f676a(0x559)+_0x449c16['id']+'\x22>'+_0x449c16[_0x3f676a(0xc63)]+_0x3f676a(0x76d))[_0x3f676a(0x935)](''),_0xe6b77c[_0x3f676a(0xc47)]=![]);const _0x2127a6=async()=>{const _0x4790ba=_0x3f676a,_0x3baec7=_0x1038d7[_0x4790ba(0x682)];if(!_0x3baec7){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0xe6b77c['disabled']=!![],_0xe6b77c[_0x4790ba(0x930)]=_0x4790ba(0x54b);try{const _0x5aa521=doc(db,_0x4790ba(0xc14)+appId+_0x4790ba(0x42c),_0x2e25f1),_0x50ae06=doc(db,'artifacts/'+appId+_0x4790ba(0x42c),_0x3baec7),_0x2a26c3=writeBatch(db);_0x2a26c3[_0x4790ba(0x296)](_0x5aa521,{'pairedQuizId':_0x3baec7}),_0x2a26c3[_0x4790ba(0x296)](_0x50ae06,{'pairedQuizId':_0x2e25f1}),await _0x2a26c3['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x1bc451[_0x4790ba(0x6e6)][_0x4790ba(0x360)](_0x4790ba(0x106));}catch(_0xe5047f){console[_0x4790ba(0x13b)](_0x4790ba(0xc07),_0xe5047f),showMessage(_0x4790ba(0xb66));}finally{_0x27eaef[_0x4790ba(0x930)]=_0x4790ba(0xb3d),_0xe6b77c[_0x4790ba(0x930)]=_0x4790ba(0x3a7),_0xe6b77c[_0x4790ba(0xc47)]=![],_0xe6b77c[_0x4790ba(0x770)](_0x4790ba(0x22c),_0x2127a6),_0x5dc286[_0x4790ba(0x770)](_0x4790ba(0x22c),_0x4cd5df);}},_0x4cd5df=()=>{const _0x3dd253=_0x3f676a;_0x1bc451['classList'][_0x3dd253(0x360)]('hidden'),_0x27eaef[_0x3dd253(0x930)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xe6b77c[_0x3dd253(0x930)]=_0x3dd253(0x3a7),_0xe6b77c['removeEventListener'](_0x3dd253(0x22c),_0x2127a6),_0x5dc286[_0x3dd253(0x770)](_0x3dd253(0x22c),_0x4cd5df);};_0xe6b77c[_0x3f676a(0x6d5)](_0x3f676a(0x22c),_0x2127a6),_0x5dc286[_0x3f676a(0x6d5)]('click',_0x4cd5df);}function handleDeleteStudent(_0x3f5576){const _0x364308=_0x15116f;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x3f5576+_0x364308(0x71f),async()=>{const _0x4fa80b=_0x364308;if(!currentProjectId||!currentProjectData)return;const _0x4de1ea=currentProjectData['students'][_0x4fa80b(0x431)](_0x342368=>_0x342368!==_0x3f5576);try{const _0x278d10=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x477fbb=doc(db,_0x4fa80b(0xc14)+appId+_0x4fa80b(0x459)+currentProjectId+_0x4fa80b(0x880),_0x3f5576),_0x5c4176=writeBatch(db);_0x5c4176[_0x4fa80b(0x296)](_0x278d10,{'students':_0x4de1ea}),_0x5c4176['delete'](_0x477fbb),await _0x5c4176[_0x4fa80b(0x18c)]();}catch(_0x5b8fca){console[_0x4fa80b(0x13b)]('Error\x20deleting\x20student:',_0x5b8fca),showMessage(_0x4fa80b(0x4ad));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1af8c9=_0x1996;if(!currentProjectId)return;try{const _0x2e9a83=doc(db,_0x1af8c9(0xc14)+appId+_0x1af8c9(0x5cb),currentProjectId),_0x4ac786=collection(db,_0x1af8c9(0xc14)+appId+_0x1af8c9(0x459)+currentProjectId+_0x1af8c9(0x880)),_0x266ae3=await getDocs(_0x4ac786),_0x28730b=writeBatch(db);_0x28730b[_0x1af8c9(0x296)](_0x2e9a83,{'students':[]}),_0x266ae3[_0x1af8c9(0x1b7)](_0x2e4a24=>_0x28730b['delete'](_0x2e4a24[_0x1af8c9(0x560)])),await _0x28730b[_0x1af8c9(0x18c)]();}catch(_0x188acf){console[_0x1af8c9(0x13b)](_0x1af8c9(0x441),_0x188acf),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x478fa8){const _0x596f59=_0x15116f,_0xe91d25=document[_0x596f59(0x7a2)](_0x596f59(0xbdd)),_0x36500c=document['getElementById'](_0x596f59(0x27a));_0xe91d25[_0x596f59(0x6e6)]['remove'](_0x596f59(0x106)),_0x36500c[_0x596f59(0x322)]=_0x596f59(0xaa9);try{const _0x5ad4b5=new FileReader();_0x5ad4b5[_0x596f59(0xaf1)](_0x478fa8),await new Promise((_0x36e6da,_0x4196ee)=>{const _0x1d5222=_0x596f59;_0x5ad4b5[_0x1d5222(0xaf0)]=()=>{const _0x2d6e8f=_0x1d5222;fileDataBase64=_0x5ad4b5[_0x2d6e8f(0x1e4)]['split'](',')[0x1],fileMimeType=_0x478fa8[_0x2d6e8f(0x20f)],_0x36e6da();},_0x5ad4b5['onerror']=_0x5ce6db=>_0x4196ee(_0x5ce6db);});if(!fileDataBase64)throw new Error(_0x596f59(0x5da));const _0x8c7fcd=_0x596f59(0x820),_0xfeb81e={'type':_0x596f59(0x8c9),'properties':{'topics':{'type':_0x596f59(0x587),'items':{'type':_0x596f59(0x87c)}}},'required':['topics']},_0x3ed5ce=[{'text':_0x8c7fcd},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x21ab38=await handleApiCall(_0x3ed5ce,_0x596f59(0x47a),_0xfeb81e,null,![]);if(_0x21ab38&&_0x21ab38[_0x596f59(0x9d1)])extractedFileTopics=_0x21ab38[_0x596f59(0x9d1)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x1cfe88){console['error'](_0x596f59(0x85d),_0x1cfe88),_0x36500c[_0x596f59(0x322)]=_0x596f59(0xaa2)+_0x1cfe88[_0x596f59(0x56e)]+_0x596f59(0x7db);}}function renderFileTopics(){const _0x4f7271=_0x15116f,_0xb60e22=document[_0x4f7271(0x7a2)]('file-topics-list');if(extractedFileTopics[_0x4f7271(0x987)]===0x0){_0xb60e22[_0x4f7271(0x322)]=_0x4f7271(0x292);return;}_0xb60e22[_0x4f7271(0x322)]=extractedFileTopics['map'](_0x300433=>_0x4f7271(0x65c)+_0x300433+_0x4f7271(0xb6f)+escape(_0x300433)+_0x4f7271(0x83f)+escape(_0x300433)+_0x4f7271(0xb2b))[_0x4f7271(0x935)]('');}async function generateHybridQuizForTopic(_0x21298e){const _0xb4315=_0x15116f,_0x4530c2=parseInt(document[_0xb4315(0x7a2)](_0xb4315(0x7c3))['value'],0xa),_0x355111=document['getElementById'](_0xb4315(0x6a1))[_0xb4315(0x682)],_0x38f43b=document[_0xb4315(0x7a2)]('num-choices')['value'],_0xd18f16=document['getElementById'](_0xb4315(0x784))[_0xb4315(0x8cc)],_0xe85b24=_0xd18f16?_0xb4315(0x6d8):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x5108e9='',_0x2b2758;const _0x23a885={'type':'OBJECT','properties':{'questionText':{'type':_0xb4315(0x87c)},'options':{'type':'ARRAY','items':{'type':_0xb4315(0x87c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xb4315(0x87c)},'imageCode':{'type':_0xb4315(0x87c)}},'required':['questionText','options',_0xb4315(0x4fa),_0xb4315(0x14f)]},_0x347a59={'type':_0xb4315(0x8c9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb4315(0x87c)}},'required':['questionText',_0xb4315(0x7b8),_0xb4315(0x14f)]},_0x568bab={'type':'OBJECT','properties':{'questionText':{'type':_0xb4315(0x87c)},'idealAnswer':{'type':_0xb4315(0x87c)},'explanation':{'type':_0xb4315(0x87c)},'imageCode':{'type':_0xb4315(0x87c)}},'required':[_0xb4315(0x187),_0xb4315(0x5ec),'explanation']},_0x600f9c={'type':_0xb4315(0x8c9),'properties':{'questionType':{'type':_0xb4315(0x87c),'enum':[_0xb4315(0xb55)]},'stem':{'type':_0xb4315(0x87c)},'correctResponse':{'type':_0xb4315(0x87c)},'allResponses':{'type':'ARRAY','items':{'type':_0xb4315(0x87c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb4315(0x87c)}},'required':[_0xb4315(0x5ac),'stem','correctResponse',_0xb4315(0xa84),_0xb4315(0x14f)]};switch(_0x355111){case _0xb4315(0x2ac):_0x5108e9=_0xb4315(0x48d)+_0x38f43b+'\x20ตัวเลือก)',_0x2b2758=_0x23a885;break;case'true_false':_0x5108e9=_0xb4315(0x6b1),_0x2b2758=_0x347a59;break;case _0xb4315(0x1f3):_0x5108e9='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x2b2758=_0x568bab;break;case _0xb4315(0x23f):_0x5108e9='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x2b2758=_0x600f9c;break;case _0xb4315(0x931):_0x5108e9='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x38f43b+_0xb4315(0x1b1),_0x2b2758=_0x23a885;break;default:_0x5108e9='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x38f43b+_0xb4315(0x1b1),_0x2b2758=_0x23a885;break;}const _0x44462c=_0xb4315(0xa16),_0x4ca9f1=document['getElementById']('loader'),_0x13ce74=document[_0xb4315(0x7a2)](_0xb4315(0x91a)),_0x2c6dd2=document[_0xb4315(0x7a2)](_0xb4315(0x262));document[_0xb4315(0x7a2)](_0xb4315(0x2f6))['classList'][_0xb4315(0x367)](_0xb4315(0x106)),_0x2c6dd2['innerHTML']='',_0x4ca9f1[_0xb4315(0x6e6)][_0xb4315(0x367)]('hidden'),_0x13ce74[_0xb4315(0x930)]=_0xb4315(0x4f7)+_0x21298e+_0xb4315(0x60c)+_0x4530c2+_0xb4315(0x1d7);try{const _0x4b1d49='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x4e8cb2=_0xb4315(0x53a)+_0x21298e+_0xb4315(0x74c)+_0x4530c2+_0xb4315(0x117)+_0x21298e+_0xb4315(0x8c6)+_0x4530c2+_0xb4315(0x9cf)+_0xe85b24+_0xb4315(0x308)+_0x5108e9+_0xb4315(0x7cd)+_0x44462c+_0xb4315(0x929)+_0x4b1d49+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xb4315(0x3eb),_0xfbbac4={'type':_0xb4315(0x8c9),'properties':{'topic':{'type':_0xb4315(0x87c)},'questions':{'type':_0xb4315(0x587),'items':_0x2b2758}},'required':[_0xb4315(0xc63),'questions']},_0xe60e72=[{'text':_0x4e8cb2},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0xe60e72,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x21298e+_0xb4315(0xa9f),_0xfbbac4);}catch(_0x251358){console['error'](_0xb4315(0x868),_0x251358),showMessage(_0xb4315(0x9ee)+_0x251358[_0xb4315(0x56e)]),_0x2c6dd2['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x4ca9f1[_0xb4315(0x6e6)][_0xb4315(0x360)](_0xb4315(0x106));}}async function handleGenerateFromFileClick(){const _0x2cee98=_0x15116f;if(!selectedFile){showMessage(_0x2cee98(0x907));return;}const _0xd17272=document[_0x2cee98(0x7a2)](_0x2cee98(0x88f)),_0x3877f9=document['getElementById'](_0x2cee98(0x91a)),_0xa56231=document[_0x2cee98(0x7a2)](_0x2cee98(0x262)),_0x5b689b=document[_0x2cee98(0x7a2)]('generate-from-file-btn');_0x5b689b[_0x2cee98(0xc47)]=!![],document['getElementById']('quiz-generation-area')[_0x2cee98(0x6e6)][_0x2cee98(0x367)](_0x2cee98(0x106)),_0xa56231[_0x2cee98(0x322)]='',_0xd17272['classList']['remove'](_0x2cee98(0x106)),_0x3877f9[_0x2cee98(0x930)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x73ba7d=await new Promise((_0x5cd935,_0x548dab)=>{const _0x30aa6a=_0x2cee98,_0x52a110=new FileReader();_0x52a110[_0x30aa6a(0xaf1)](selectedFile),_0x52a110['onload']=()=>_0x5cd935(_0x52a110['result'][_0x30aa6a(0x4a5)](',')[0x1]),_0x52a110['onerror']=_0x1e6607=>_0x548dab(_0x1e6607);});await generateQuizFromFile(selectedFile[_0x2cee98(0x20f)],_0x73ba7d);}catch(_0x1ea3a5){console['error'](_0x2cee98(0x5b0),_0x1ea3a5),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x1ea3a5[_0x2cee98(0x56e)]),_0xd17272['classList']['add'](_0x2cee98(0x106)),_0x5b689b['disabled']=![];}}function autoFormatMath(_0x55fe22){const _0x53e3b6=_0x15116f;if(typeof _0x55fe22!==_0x53e3b6(0x1db)||!_0x55fe22)return _0x55fe22;const _0x55a036=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3289cc=_0x55fe22[_0x53e3b6(0x892)](_0x55a036,_0x350607=>{const _0x5b03e0=_0x53e3b6;return'$'+_0x350607[_0x5b03e0(0x6ad)]()+'$';});return _0x3289cc;}function sanitizeQuizData(_0x345397){const _0x3ff6d2=_0x15116f;if(!_0x345397||!_0x345397[_0x3ff6d2(0x72a)])return _0x345397;const _0x527f19={'imes':_0x3ff6d2(0x85f),'div':_0x3ff6d2(0x495)},_0x19a7e5=_0x3c77a2=>{const _0x5a23c7=_0x3ff6d2;if(typeof _0x3c77a2!==_0x5a23c7(0x1db))return _0x3c77a2;let _0x5c884f=_0x3c77a2;for(const [_0x43118b,_0x4d33d8]of Object[_0x5a23c7(0x73b)](_0x527f19)){const _0x4a52f2=new RegExp('\x5cb'+_0x43118b+'\x5cb','g');_0x5c884f=_0x5c884f[_0x5a23c7(0x892)](_0x4a52f2,_0x4d33d8);}return _0x5c884f=_0x5c884f[_0x5a23c7(0x892)](/\\\//g,_0x5a23c7(0x495)),_0x5c884f=_0x5c884f[_0x5a23c7(0x892)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5a23c7(0x495))[_0x5a23c7(0x892)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x5a23c7(0x892)](/÷/g,'\x5cdiv')[_0x5a23c7(0x892)](/×/g,_0x5a23c7(0x85f)),_0x5c884f=_0x5c884f[_0x5a23c7(0x892)](/(\d)(\\frac)/g,_0x5a23c7(0x920)),_0x5c884f=autoFormatMath(_0x5c884f),_0x5c884f;};return _0x345397[_0x3ff6d2(0xc63)]&&(_0x345397['topic']=_0x19a7e5(_0x345397[_0x3ff6d2(0xc63)])),_0x345397[_0x3ff6d2(0x72a)][_0x3ff6d2(0x1b7)](_0x9e2143=>{const _0x24928e=_0x3ff6d2;_0x9e2143[_0x24928e(0x187)]=_0x19a7e5(_0x9e2143['questionText']),_0x9e2143[_0x24928e(0xbd3)]&&(_0x9e2143[_0x24928e(0xbd3)]=_0x9e2143[_0x24928e(0xbd3)]['map'](_0x19a7e5)),_0x9e2143[_0x24928e(0x14f)]&&(_0x9e2143[_0x24928e(0x14f)]=_0x19a7e5(_0x9e2143[_0x24928e(0x14f)])),_0x9e2143['stem']&&(_0x9e2143[_0x24928e(0xa68)]=_0x19a7e5(_0x9e2143[_0x24928e(0xa68)])),_0x9e2143[_0x24928e(0x76c)]&&(_0x9e2143[_0x24928e(0x76c)]=_0x19a7e5(_0x9e2143['correctResponse'])),_0x9e2143[_0x24928e(0xa84)]&&(_0x9e2143[_0x24928e(0xa84)]=_0x9e2143[_0x24928e(0xa84)][_0x24928e(0x217)](_0x19a7e5));}),_0x345397;}const simpleMathPrompt=_0x15116f(0x595);async function handleGenerateFromLink(){const _0x294032=_0x15116f,_0x2fa33c=document[_0x294032(0x7a2)](_0x294032(0x230)),_0x1f8ec=document['getElementById']('link-topic-input'),_0x20010e=_0x2fa33c[_0x294032(0x682)]['trim'](),_0xe8c8b9=_0x1f8ec[_0x294032(0x682)][_0x294032(0x6ad)]();if(!_0x20010e){showMessage(_0x294032(0x9c4));return;}const _0x1122d8=document[_0x294032(0x7a2)]('loader'),_0x308bff=document[_0x294032(0x7a2)](_0x294032(0x91a)),_0x296b11=document[_0x294032(0x7a2)](_0x294032(0x262)),_0x4c14c6=document[_0x294032(0x7a2)]('generate-from-link-btn');document[_0x294032(0x7a2)](_0x294032(0x2f6))[_0x294032(0x6e6)]['remove'](_0x294032(0x106)),_0x296b11[_0x294032(0x322)]='',_0x1122d8[_0x294032(0x6e6)][_0x294032(0x367)]('hidden'),_0x308bff['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x4c14c6[_0x294032(0xc47)]=!![];try{const _0x3fb2d2='https://corsproxy.io/?'+encodeURIComponent(_0x20010e),_0x550531=await fetch(_0x3fb2d2);if(!_0x550531['ok'])throw new Error(_0x294032(0x53b)+_0x550531[_0x294032(0x55a)]+')');const _0x37092c=await _0x550531['text'](),_0x5e6768=extractTextFromHtml(_0x37092c);if(!_0x5e6768||_0x5e6768[_0x294032(0x987)]<0x64)throw new Error(_0x294032(0x16a));await generateQuiz(_0xe8c8b9,_0x5e6768);}catch(_0xc62776){console[_0x294032(0x13b)](_0x294032(0x1b0),_0xc62776),showMessage(_0x294032(0x9ee)+_0xc62776[_0x294032(0x56e)]),_0x296b11[_0x294032(0x322)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x1122d8[_0x294032(0x6e6)]['add'](_0x294032(0x106)),_0x4c14c6[_0x294032(0xc47)]=![];}}function extractTextFromHtml(_0x552d3c){const _0x43caa1=_0x15116f,_0x397c69=new DOMParser()['parseFromString'](_0x552d3c,_0x43caa1(0x788));return _0x397c69['querySelectorAll'](_0x43caa1(0xa1a))[_0x43caa1(0x1b7)](_0x5089d3=>_0x5089d3[_0x43caa1(0x367)]()),_0x397c69[_0x43caa1(0x2e6)][_0x43caa1(0x930)]||'';}document[_0x15116f(0x7a2)](_0x15116f(0xa59))[_0x15116f(0x6d5)](_0x15116f(0x22c),()=>{const _0x59ebdb=_0x15116f,_0xe859c8=document[_0x59ebdb(0x7a2)](_0x59ebdb(0xc33))[_0x59ebdb(0x682)][_0x59ebdb(0x6ad)]();generateQuiz(_0xe859c8,null);}),document[_0x15116f(0x7a2)]('generate-from-text-btn')['addEventListener'](_0x15116f(0x22c),()=>{const _0xf31c9b=_0x15116f,_0x4e28b9=document['getElementById'](_0xf31c9b(0x42e))['value'][_0xf31c9b(0x6ad)]();if(!_0x4e28b9){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x35f3d3=document['getElementById'](_0xf31c9b(0xc33))['value']['trim']();generateQuiz(_0x35f3d3,_0x4e28b9);});async function generateQuiz(_0x1d6da9,_0x732c0a,_0x45edaf=null,_0x4e7719=null,_0x479979=![],_0x2503ce=null,_0x31d58d=null,_0x3a5b6f=![]){const _0x560b8d=_0x15116f;let _0x20a097={};if(_0x479979&&blueprintPageSettings)console[_0x560b8d(0x7d6)](_0x560b8d(0x711)),_0x20a097=blueprintPageSettings;else{console[_0x560b8d(0x7d6)]('Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.');const _0x274ff4=document[_0x560b8d(0x17a)](_0x560b8d(0x4f8));_0x20a097={'quizType':document[_0x560b8d(0x7a2)](_0x560b8d(0x6a1))['value'],'numQuestions':document[_0x560b8d(0x7a2)](_0x560b8d(0x7c3))[_0x560b8d(0x682)],'numChoices':document[_0x560b8d(0x7a2)]('num-choices')[_0x560b8d(0x682)],'includeImages':document['getElementById'](_0x560b8d(0x784))[_0x560b8d(0x8cc)],'isNormalTopic':document[_0x560b8d(0x7a2)](_0x560b8d(0x4df))[_0x560b8d(0x8cc)],'difficultyValue':document[_0x560b8d(0x7a2)](_0x560b8d(0x20a))[_0x560b8d(0x682)],'complexityValue':document[_0x560b8d(0x7a2)](_0x560b8d(0x8a9))[_0x560b8d(0x682)],'selectedTopicNames':Array[_0x560b8d(0x636)](_0x274ff4)['map'](_0x436c09=>_0x436c09[_0x560b8d(0x682)])};}const _0x4e4482=_0x20a097[_0x560b8d(0x3ce)]?'':_0x560b8d(0xef),_0x2ef2ab=_0x20a097[_0x560b8d(0x5f5)]!==_0x560b8d(0x37f)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x20a097[_0x560b8d(0x5f5)]+'\x22':'',_0x220e63=_0x20a097[_0x560b8d(0x43b)]!==_0x560b8d(0xb95)?_0x560b8d(0x2e7)+_0x20a097['complexityValue']+_0x560b8d(0x289):'';let _0x3ecdb6='';_0x20a097[_0x560b8d(0x538)]&&_0x20a097[_0x560b8d(0x538)]['length']>0x0&&(_0x3ecdb6=_0x560b8d(0xa92)+_0x20a097['selectedTopicNames'][_0x560b8d(0x935)](',\x20')+'.');let _0x36b61a='';_0x4e7719&&(_0x36b61a='โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย');let _0xb7e2c='',_0x38a33f='',_0x3f220f,_0xefbf07=_0x560b8d(0x6b7)+_0x1d6da9+'\x22';if(!_0x1d6da9&&_0x732c0a)_0xefbf07='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x1d6da9&&!_0x732c0a&&(_0xefbf07=_0x560b8d(0x689));const _0x705ac5={'type':_0x560b8d(0x8c9),'properties':{'questionText':{'type':_0x560b8d(0x87c)},'options':{'type':_0x560b8d(0x587),'items':{'type':_0x560b8d(0x87c)}},'correctAnswerIndex':{'type':_0x560b8d(0x421)},'explanation':{'type':_0x560b8d(0x87c)},'imageCode':{'type':'STRING'}},'required':[_0x560b8d(0x187),_0x560b8d(0xbd3),_0x560b8d(0x4fa),_0x560b8d(0x14f)]},_0x733ee8={'type':_0x560b8d(0x8c9),'properties':{'questionText':{'type':_0x560b8d(0x87c)},'idealAnswer':{'type':_0x560b8d(0x87c)},'explanation':{'type':_0x560b8d(0x87c)},'imageCode':{'type':_0x560b8d(0x87c)}},'required':['questionText',_0x560b8d(0x5ec),'explanation']},_0x37a51f={'type':_0x560b8d(0x8c9),'properties':{'questionText':{'type':_0x560b8d(0x87c)},'questionType':{'type':_0x560b8d(0x87c),'enum':[_0x560b8d(0x2ac),_0x560b8d(0xb64)]},'options':{'type':_0x560b8d(0x587),'items':{'type':_0x560b8d(0x87c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x560b8d(0x87c)},'imageCode':{'type':_0x560b8d(0x87c)}},'required':[_0x560b8d(0x187),'questionType','explanation']},_0x33194c={'type':_0x560b8d(0x8c9),'properties':{'questionText':{'type':_0x560b8d(0x87c)},'correctAnswer':{'type':_0x560b8d(0x6cf)},'explanation':{'type':_0x560b8d(0x87c)},'imageCode':{'type':_0x560b8d(0x87c)}},'required':[_0x560b8d(0x187),'correctAnswer',_0x560b8d(0x14f)]},_0x3e8947={'type':_0x560b8d(0x8c9),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x560b8d(0x87c)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x560b8d(0x587),'items':{'type':_0x560b8d(0x87c)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x560b8d(0x87c)}},'required':[_0x560b8d(0x5ac),_0x560b8d(0xa68),_0x560b8d(0x76c),_0x560b8d(0xa84),_0x560b8d(0x14f)]};let _0x286225;if(_0x45edaf!==null){const _0x197755=currentQuizData[_0x560b8d(0x72a)][_0x45edaf][_0x560b8d(0x5ac)],_0x56d260=_0x20a097['includeImages']?_0x560b8d(0x281):'';_0xb7e2c='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+_0x560b8d(0x1f9)+_0x56d260+'\x20'+simpleMathPrompt;if(_0x197755===_0x560b8d(0x2ac))_0x3f220f=_0x705ac5;else{if(_0x197755===_0x560b8d(0xb55))_0x3f220f={'type':'OBJECT','properties':{'questionType':{'type':_0x560b8d(0x87c),'enum':[_0x560b8d(0xb55)]},'stem':{'type':_0x560b8d(0x87c)},'correctResponse':{'type':_0x560b8d(0x87c)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x560b8d(0x5ac),'stem',_0x560b8d(0x76c),_0x560b8d(0x14f)]};else _0x3f220f=_0x733ee8;}_0x286225=_0x3f220f;}else{const _0xd5378d=_0x20a097['includeImages']?_0x560b8d(0x423):'';switch(_0x20a097[_0x560b8d(0xbe2)]){case _0x560b8d(0x2ac):_0xb7e2c=_0x560b8d(0x8c1)+_0x4e4482+'\x20'+_0x20a097[_0x560b8d(0xb4f)]+_0x560b8d(0x29b)+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0x762)+_0x20a097[_0x560b8d(0x449)]+_0x560b8d(0x83b)+_0xd5378d+'\x20'+simpleMathPrompt,_0x3f220f=_0x705ac5;break;case _0x560b8d(0x931):_0xb7e2c=_0x560b8d(0xc67)+_0x4e4482+'\x20'+_0x20a097[_0x560b8d(0xb4f)]+'\x20ข้อ\x20'+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0x3d0)+_0x20a097['numChoices']+_0x560b8d(0x669)+_0xd5378d+'\x20'+simpleMathPrompt,_0x3f220f=_0x705ac5;break;case _0x560b8d(0x1f3):_0xb7e2c=_0x560b8d(0xc67)+_0x4e4482+'\x20'+_0x20a097[_0x560b8d(0xb4f)]+_0x560b8d(0x29b)+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0x75b)+_0xd5378d+'\x20'+simpleMathPrompt,_0x3f220f=_0x733ee8;break;case _0x560b8d(0xb95):_0xb7e2c=_0x560b8d(0x702)+_0x4e4482+'\x20'+_0x20a097['numQuestions']+_0x560b8d(0x29b)+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0xb35)+_0x20a097[_0x560b8d(0x449)]+_0x560b8d(0xb80)+_0xd5378d+'\x20'+simpleMathPrompt+'.',_0x3f220f=_0x37a51f;break;case'true_false':_0xb7e2c=_0x560b8d(0xa33)+_0x4e4482+'\x20'+_0x20a097[_0x560b8d(0xb4f)]+_0x560b8d(0x29b)+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0xa0a)+_0xd5378d+'\x20'+simpleMathPrompt,_0x3f220f=_0x33194c;break;case'matching':_0xb7e2c=_0x560b8d(0x957)+_0x4e4482+'\x20'+_0x20a097[_0x560b8d(0xb4f)]+_0x560b8d(0x9b0)+_0xefbf07+'\x20'+_0x3ecdb6+'\x20'+_0x2ef2ab+'\x20'+_0x220e63+'\x20'+_0x36b61a+_0x560b8d(0xa71)+_0xd5378d+'\x20'+simpleMathPrompt,_0x3f220f=_0x3e8947;break;}_0x286225={'type':_0x560b8d(0x8c9),'properties':{'topic':{'type':_0x560b8d(0x87c)},'questions':{'type':'ARRAY','items':_0x3f220f}},'required':[_0x560b8d(0xc63),'questions']};}const _0x11355c=_0x560b8d(0x70a);_0x732c0a?(_0x3a5b6f?_0xb7e2c=_0x560b8d(0xc16)+_0x732c0a+_0x560b8d(0x881)+_0xb7e2c+_0x11355c:_0xb7e2c=_0x560b8d(0xc16)+_0x732c0a+_0x560b8d(0x881)+_0xb7e2c,_0x38a33f=_0x560b8d(0x195)):(_0x3a5b6f&&(_0xb7e2c+=_0x11355c),_0x38a33f='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x35576f;return _0x4e7719?_0x35576f=[{'text':_0xb7e2c},..._0x4e7719]:_0x35576f=_0xb7e2c,handleApiCall(_0x35576f,_0x38a33f,_0x286225,_0x45edaf,!![],_0x2503ce,_0x31d58d);}async function generateQuizFromFile(_0x4948a4,_0x2bfe69){const _0x16344b=_0x15116f,_0x7438f6=document[_0x16344b(0x7a2)](_0x16344b(0x524))[_0x16344b(0x682)][_0x16344b(0x6ad)](),_0x45d2ac=document[_0x16344b(0x7a2)](_0x16344b(0x6a1))[_0x16344b(0x682)],_0x1b958f=document[_0x16344b(0x7a2)](_0x16344b(0x7c3))[_0x16344b(0x682)],_0x2ed642=document[_0x16344b(0x7a2)]('num-choices')[_0x16344b(0x682)],_0x301894=document[_0x16344b(0x7a2)](_0x16344b(0x784))[_0x16344b(0x8cc)],_0x2eb78c=document[_0x16344b(0x7a2)](_0x16344b(0x4df))[_0x16344b(0x8cc)],_0x50c4f6=_0x2eb78c?'':_0x16344b(0xef),_0x577ea9=document['getElementById'](_0x16344b(0x474))[_0x16344b(0x8cc)];let _0x18cd1e='',_0x539559;const _0x3e4279=_0x301894?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x577ea9)_0x18cd1e=_0x16344b(0x79d)+_0x3e4279+'\x0a'+simpleMathPrompt+'\x0a',_0x539559={'type':_0x16344b(0x8c9),'properties':{'questionText':{'type':_0x16344b(0x87c)},'questionType':{'type':_0x16344b(0x87c),'enum':['multiple_choice',_0x16344b(0xb64),'true_false',_0x16344b(0xb55)]},'options':{'type':'ARRAY','items':{'type':_0x16344b(0x87c)}},'correctAnswerIndex':{'type':_0x16344b(0x421)},'idealAnswer':{'type':_0x16344b(0x87c)},'correctAnswer':{'type':_0x16344b(0x6cf)},'stem':{'type':_0x16344b(0x87c)},'correctResponse':{'type':_0x16344b(0x87c)},'allResponses':{'type':_0x16344b(0x587),'items':{'type':_0x16344b(0x87c)}},'explanation':{'type':_0x16344b(0x87c)},'imageCode':{'type':_0x16344b(0x87c)}},'required':['questionType',_0x16344b(0x14f)]};else{let _0x5b1ab2='เกี่ยวกับหัวข้อ\x20\x22'+_0x7438f6+'\x22';!_0x7438f6&&(_0x5b1ab2='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x45d2ac){case _0x16344b(0x2ac):_0x18cd1e=_0x16344b(0x8c1)+_0x50c4f6+'\x20'+_0x1b958f+_0x16344b(0x29b)+_0x5b1ab2+'.\x20แต่ละข้อมี\x20'+_0x2ed642+_0x16344b(0x83b)+_0x3e4279+'\x20'+simpleMathPrompt,_0x539559={'type':_0x16344b(0x8c9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x16344b(0x587),'items':{'type':_0x16344b(0x87c)}},'correctAnswerIndex':{'type':_0x16344b(0x421)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x16344b(0x187),_0x16344b(0xbd3),_0x16344b(0x4fa),_0x16344b(0x14f)]};break;case'fill_in_with_choices':_0x18cd1e=_0x16344b(0xc67)+_0x50c4f6+'\x20'+_0x1b958f+_0x16344b(0x29b)+_0x5b1ab2+_0x16344b(0x3d0)+_0x2ed642+_0x16344b(0x669)+_0x3e4279+'\x20'+simpleMathPrompt,_0x539559={'type':_0x16344b(0x8c9),'properties':{'questionText':{'type':_0x16344b(0x87c)},'options':{'type':_0x16344b(0x587),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x16344b(0x421)},'explanation':{'type':_0x16344b(0x87c)},'imageCode':{'type':'STRING'}},'required':[_0x16344b(0x187),_0x16344b(0xbd3),_0x16344b(0x4fa),_0x16344b(0x14f)]};break;case _0x16344b(0x1f3):_0x18cd1e=_0x16344b(0xc67)+_0x50c4f6+'\x20'+_0x1b958f+'\x20ข้อ\x20'+_0x5b1ab2+_0x16344b(0x89e)+_0x3e4279+'\x20'+simpleMathPrompt,_0x539559={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x16344b(0x87c)},'explanation':{'type':_0x16344b(0x87c)},'imageCode':{'type':'STRING'}},'required':[_0x16344b(0x187),_0x16344b(0x5ec),_0x16344b(0x14f)]};break;case _0x16344b(0xb95):_0x18cd1e='สร้างแบบทดสอบ'+_0x50c4f6+'\x20'+_0x1b958f+_0x16344b(0x29b)+_0x5b1ab2+_0x16344b(0xa53)+_0x2ed642+_0x16344b(0x7a4)+_0x3e4279+'\x20'+simpleMathPrompt+_0x16344b(0x11d),_0x539559={'type':_0x16344b(0x8c9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x16344b(0x87c),'enum':['multiple_choice',_0x16344b(0xb64)]},'options':{'type':_0x16344b(0x587),'items':{'type':_0x16344b(0x87c)}},'correctAnswerIndex':{'type':_0x16344b(0x421)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x16344b(0x87c)},'imageCode':{'type':_0x16344b(0x87c)}},'required':[_0x16344b(0x187),_0x16344b(0x5ac),_0x16344b(0x14f)]};break;case _0x16344b(0x1dd):_0x18cd1e=_0x16344b(0xa33)+_0x50c4f6+'\x20'+_0x1b958f+_0x16344b(0x29b)+_0x5b1ab2+_0x16344b(0x8bf)+_0x3e4279+'\x20'+simpleMathPrompt,_0x539559={'type':_0x16344b(0x8c9),'properties':{'questionText':{'type':_0x16344b(0x87c)},'correctAnswer':{'type':_0x16344b(0x6cf)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x16344b(0x187),_0x16344b(0x7b8),_0x16344b(0x14f)]};break;case _0x16344b(0x23f):_0x18cd1e='สร้างชุดคำถามจับคู่'+_0x50c4f6+'\x20'+_0x1b958f+_0x16344b(0x9b0)+_0x5b1ab2+_0x16344b(0x616)+_0x1b958f+_0x16344b(0x779)+_0x3e4279+'\x20'+simpleMathPrompt,_0x539559={'type':'OBJECT','properties':{'questionType':{'type':_0x16344b(0x87c),'enum':['matching_item']},'stem':{'type':_0x16344b(0x87c)},'correctResponse':{'type':_0x16344b(0x87c)},'allResponses':{'type':_0x16344b(0x587),'items':{'type':_0x16344b(0x87c)}},'explanation':{'type':_0x16344b(0x87c)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x16344b(0xa68),_0x16344b(0x76c),'allResponses',_0x16344b(0x14f)]};break;}}const _0x546148={'type':'OBJECT','properties':{'topic':{'type':_0x16344b(0x87c)},'questions':{'type':_0x16344b(0x587),'items':_0x539559}},'required':[_0x16344b(0xc63),'questions']},_0x5c6090=_0x16344b(0x1c7)+_0x18cd1e,_0x3ea62e={'contents':[{'parts':[{'text':_0x5c6090},{'inlineData':{'mimeType':_0x4948a4,'data':_0x2bfe69}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x546148}};return handleApiCall(_0x3ea62e[_0x16344b(0x486)][0x0][_0x16344b(0x4e9)],_0x16344b(0x77a),_0x546148);}async function handleApiCall(_0x45a349,_0xbb5e58,_0x54bbd5,_0x37ea64=null,_0x3ee9b3=!![],_0x553c4e=null,_0x366a5d=null){const _0x31d47d=_0x15116f,_0x570eb8=document['getElementById'](_0x31d47d(0x2f6)),_0x57e65f=document[_0x31d47d(0x7a2)](_0x31d47d(0x88f)),_0x747438=document[_0x31d47d(0x7a2)](_0x31d47d(0x91a)),_0x8392b9=document[_0x31d47d(0x7a2)](_0x31d47d(0x262));_0x570eb8[_0x31d47d(0x6e6)]['remove']('hidden');_0x37ea64===null&&_0x3ee9b3&&(_0x8392b9['innerHTML']='');_0x57e65f[_0x31d47d(0x6e6)][_0x31d47d(0x367)](_0x31d47d(0x106)),_0x747438[_0x31d47d(0x930)]=_0xbb5e58,document[_0x31d47d(0x7a2)](_0x31d47d(0xa59))['disabled']=!![],document[_0x31d47d(0x7a2)](_0x31d47d(0x540))[_0x31d47d(0xc47)]=!![],document['getElementById'](_0x31d47d(0xb44))[_0x31d47d(0xc47)]=!![];const _0x3ef555=document[_0x31d47d(0x7a2)](_0x31d47d(0xc4a));if(_0x3ef555)_0x3ef555[_0x31d47d(0xc47)]=!![];const _0x5ae47a=document[_0x31d47d(0x7a2)]('generate-from-blueprint-btn');if(_0x5ae47a)_0x5ae47a['disabled']=!![];const _0x511e01=document['getElementById'](_0x31d47d(0xab0));if(_0x511e01)_0x511e01[_0x31d47d(0xc47)]=!![];try{const _0x4805e5={'responseMimeType':_0x31d47d(0xa8a),'responseSchema':_0x54bbd5},_0x41ab72=Array[_0x31d47d(0xbeb)](_0x45a349)?_0x45a349:[{'text':_0x45a349}],_0x2a45e7={'contents':[{'role':_0x31d47d(0xc05),'parts':_0x41ab72}],'generationConfig':_0x4805e5},_0x35fff0=_0x31d47d(0xac4),_0x5d09aa='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x35fff0,_0x121bbc=await fetch(_0x5d09aa,{'method':'POST','headers':{'Content-Type':_0x31d47d(0xa8a)},'body':JSON[_0x31d47d(0x352)](_0x2a45e7)});if(!_0x121bbc['ok']){const _0xd7583=await _0x121bbc[_0x31d47d(0x9ef)]();console[_0x31d47d(0x13b)](_0x31d47d(0x275),_0xd7583);throw new Error(_0x31d47d(0x177)+_0x121bbc['status']);}const _0x27c650=await _0x121bbc[_0x31d47d(0x1a7)]();if(_0x27c650['candidates']?.[0x0]?.['content']?.[_0x31d47d(0x4e9)]?.[0x0]){let _0x52fbc5=_0x27c650[_0x31d47d(0x9b4)][0x0][_0x31d47d(0x2c0)][_0x31d47d(0x4e9)][0x0][_0x31d47d(0x9ef)];if(_0x52fbc5['startsWith'](_0x31d47d(0x624)))_0x52fbc5=_0x52fbc5[_0x31d47d(0x84c)](0x7,_0x52fbc5[_0x31d47d(0x987)]-0x3)[_0x31d47d(0x6ad)]();else _0x52fbc5['startsWith'](_0x31d47d(0x7de))&&(_0x52fbc5=_0x52fbc5[_0x31d47d(0x84c)](0x3,_0x52fbc5[_0x31d47d(0x987)]-0x3)[_0x31d47d(0x6ad)]());let _0x10a9c1=JSON['parse'](_0x52fbc5);if(_0x3ee9b3){if(_0x37ea64!==null){if(_0x10a9c1[_0x31d47d(0x5ac)]==='matching_item'){const _0x431d70=currentQuizData[_0x31d47d(0x72a)]['map'](_0x4f5845=>_0x4f5845[_0x31d47d(0x76c)]);_0x10a9c1[_0x31d47d(0xa84)]=_0x431d70;const _0x4361ad=currentQuizData[_0x31d47d(0x72a)][_0x37ea64][_0x31d47d(0x76c)],_0x3166ba=_0x431d70[_0x31d47d(0xb0f)](_0x4361ad);_0x3166ba>-0x1&&(_0x431d70[_0x3166ba]=_0x10a9c1[_0x31d47d(0x76c)]),currentQuizData['questions'][_0x31d47d(0x1b7)](_0x20983b=>{const _0x30ea45=_0x31d47d;if(_0x20983b['questionType']==='matching_item')_0x20983b[_0x30ea45(0xa84)]=_0x431d70;});}currentQuizData[_0x31d47d(0x72a)][_0x37ea64]=_0x10a9c1,displayGeneratedQuiz(currentQuizData,_0x553c4e,_0x366a5d);}else{currentQuizData=_0x10a9c1;const _0x174188=document[_0x31d47d(0x7a2)](_0x31d47d(0x6a1))[_0x31d47d(0x682)];currentQuizData[_0x31d47d(0xbe2)]=_0x174188,currentQuizData[_0x31d47d(0x72a)]&&currentQuizData[_0x31d47d(0x72a)][_0x31d47d(0x1b7)](_0x1b802c=>{const _0x410e7d=_0x31d47d;if(!_0x1b802c[_0x410e7d(0x5ac)]){if(_0x174188===_0x410e7d(0x931))_0x1b802c[_0x410e7d(0x5ac)]=_0x410e7d(0x2ac);else{if(_0x174188===_0x410e7d(0x1f3))_0x1b802c[_0x410e7d(0x5ac)]=_0x410e7d(0xb64);else _0x1b802c[_0x410e7d(0x5ac)]=_0x174188;}}}),displayGeneratedQuiz(currentQuizData,_0x553c4e,_0x366a5d);}}return _0x10a9c1;}else{let _0xe10f59=_0x31d47d(0xa52);if(_0x27c650[_0x31d47d(0xb74)]?.[_0x31d47d(0x1f2)])_0xe10f59=_0x31d47d(0x783)+_0x27c650['promptFeedback'][_0x31d47d(0x1f2)]+'.';else _0x27c650[_0x31d47d(0x9b4)]?.[0x0]?.['finishReason']&&_0x27c650['candidates'][0x0][_0x31d47d(0x233)]!=='STOP'&&(_0xe10f59=_0x31d47d(0x4ef)+_0x27c650[_0x31d47d(0x9b4)][0x0][_0x31d47d(0x233)]+'.');console['error'](_0xe10f59,JSON['stringify'](_0x27c650));throw new Error(_0xe10f59);}}catch(_0xa1c3f5){console[_0x31d47d(0x13b)](_0x31d47d(0x8fe),_0xa1c3f5),showMessage(_0x31d47d(0xa38)+_0xa1c3f5[_0x31d47d(0x56e)]);_0x37ea64===null&&_0x3ee9b3&&(_0x8392b9[_0x31d47d(0x322)]=_0x31d47d(0xa19));throw _0xa1c3f5;}finally{_0x57e65f[_0x31d47d(0x6e6)]['add'](_0x31d47d(0x106)),document[_0x31d47d(0x7a2)]('generate-from-topic-btn')[_0x31d47d(0xc47)]=![],document[_0x31d47d(0x7a2)](_0x31d47d(0x540))[_0x31d47d(0xc47)]=![],document[_0x31d47d(0x7a2)](_0x31d47d(0xb44))[_0x31d47d(0xc47)]=![];if(_0x3ef555)_0x3ef555[_0x31d47d(0xc47)]=![];if(_0x5ae47a)_0x5ae47a[_0x31d47d(0xc47)]=![];if(_0x511e01)_0x511e01[_0x31d47d(0xc47)]=![];}}function exitFullscreen(){const _0x560faf=_0x15116f;if(document[_0x560faf(0x633)])document['exitFullscreen']()[_0x560faf(0xa6b)](_0x54bcc6=>console[_0x560faf(0x13b)](_0x54bcc6));else{if(document[_0x560faf(0xbf5)])document[_0x560faf(0xbf5)]();else document[_0x560faf(0xa46)]&&document[_0x560faf(0xa46)]();}}function enterFullscreen(){const _0x544310=_0x15116f,_0x3c8214=document[_0x544310(0xaaa)];if(_0x3c8214[_0x544310(0x250)])_0x3c8214['requestFullscreen']()[_0x544310(0xa6b)](_0x32b165=>{const _0x5bebc0=_0x544310;console[_0x5bebc0(0x13b)](_0x5bebc0(0x238)+_0x32b165[_0x5bebc0(0x56e)]+'\x20('+_0x32b165[_0x5bebc0(0x947)]+')');});else{if(_0x3c8214[_0x544310(0xa26)])_0x3c8214[_0x544310(0xa26)]();else _0x3c8214[_0x544310(0xbcf)]&&_0x3c8214[_0x544310(0xbcf)]();}}function handleCheatingEvent(){const _0x578224=_0x15116f;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x578224(0x6c9),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x578224(0xb21)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById'](_0x578224(0x277))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x578224(0x847),handleVisibilityChange),document[_0x578224(0x770)](_0x578224(0x285),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x578224(0xbcb),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x191174=_0x15116f;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x191174(0x650)]===_0x191174(0x106))handleCheatingEvent();else document[_0x191174(0x650)]==='visible'&&(console['log'](_0x191174(0x9bb)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x8568c3=_0x15116f;if(currentMode===_0x8568c3(0x23d)||!isQuizActive)return;!document[_0x8568c3(0xa32)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2d15da,_0xb1437=null,_0x42e1f3=null){const _0x117c17=_0x15116f,_0x2b222b=document[_0x117c17(0x7a2)](_0x117c17(0x262));let _0x7bb23f='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2d15da[_0x117c17(0xc63)]+_0x117c17(0xa41);_0x2d15da[_0x117c17(0x72a)][_0x117c17(0x1b7)]((_0x19402d,_0x70d16c)=>{const _0x2c229f=_0x117c17;!_0x19402d['id']&&(_0x19402d['id']='q_'+Date[_0x2c229f(0xb20)]()+'_'+_0x70d16c);const _0x485e00=_0x19402d[_0x2c229f(0x5ac)]||_0x2d15da['quizType'];_0x7bb23f+=_0x2c229f(0x1f5)+_0x70d16c+_0x2c229f(0xa76)+_0x70d16c+_0x2c229f(0x6bb)+_0x70d16c+_0x2c229f(0x76e);switch(_0x485e00){case _0x2c229f(0xb55):_0x7bb23f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x70d16c+'\x22>'+(_0x70d16c+0x1)+'.\x20'+_0x19402d[_0x2c229f(0xa68)]+_0x2c229f(0x7db);_0x19402d[_0x2c229f(0x8b6)]&&(_0x7bb23f+=_0x2c229f(0x964)+_0x70d16c+_0x2c229f(0x5a6)+_0x19402d['imageCode']+_0x2c229f(0x5ae));_0x7bb23f+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x70d16c+'\x22>'+_0x19402d['correctResponse']+_0x2c229f(0x310),_0x7bb23f+=_0x2c229f(0x39d)+_0x70d16c+'\x22>'+_0x19402d[_0x2c229f(0x14f)]+'</span></div>';break;case _0x2c229f(0xb64):_0x7bb23f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x70d16c+'\x22>'+(_0x70d16c+0x1)+'.\x20'+_0x19402d['questionText']+_0x2c229f(0x7db);_0x19402d[_0x2c229f(0x8b6)]&&(_0x7bb23f+=_0x2c229f(0x964)+_0x70d16c+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x19402d[_0x2c229f(0x8b6)]+_0x2c229f(0x5ae));_0x7bb23f+=_0x2c229f(0x62a)+_0x70d16c+'\x22>'+_0x19402d[_0x2c229f(0x5ec)]+_0x2c229f(0x310),_0x7bb23f+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x70d16c+'\x22>'+_0x19402d[_0x2c229f(0x14f)]+_0x2c229f(0x310);break;case _0x2c229f(0x1dd):_0x7bb23f+=_0x2c229f(0x455)+_0x70d16c+'\x22>'+(_0x70d16c+0x1)+'.\x20'+_0x19402d[_0x2c229f(0x187)]+'</p>';_0x19402d['imageCode']&&(_0x7bb23f+=_0x2c229f(0x964)+_0x70d16c+_0x2c229f(0x5a6)+_0x19402d[_0x2c229f(0x8b6)]+_0x2c229f(0x5ae));_0x7bb23f+=_0x2c229f(0x251)+(_0x19402d[_0x2c229f(0x7b8)]===!![]?_0x2c229f(0x65d):'')+_0x2c229f(0xa54)+(_0x19402d[_0x2c229f(0x7b8)]===![]?'text-green-600\x20font-bold':'')+_0x2c229f(0x802),_0x7bb23f+=_0x2c229f(0x39d)+_0x70d16c+'\x22>'+_0x19402d[_0x2c229f(0x14f)]+_0x2c229f(0x310);break;case _0x2c229f(0x9a8):case _0x2c229f(0x2ac):default:_0x7bb23f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x70d16c+'\x22>'+(_0x70d16c+0x1)+'.\x20'+_0x19402d[_0x2c229f(0x187)]+_0x2c229f(0x7db);_0x19402d[_0x2c229f(0x8b6)]&&(_0x7bb23f+=_0x2c229f(0x964)+_0x70d16c+_0x2c229f(0x5a6)+_0x19402d['imageCode']+'</div>');_0x7bb23f+=_0x2c229f(0x6aa)+_0x70d16c+_0x2c229f(0x875)+(_0x19402d['options']||[])[_0x2c229f(0x217)]((_0x3a39c5,_0x4592c2)=>_0x2c229f(0x32f)+(_0x4592c2===_0x19402d['correctAnswerIndex']?_0x2c229f(0x65d):'')+'\x22>'+_0x3a39c5+'</li>')['join']('')+_0x2c229f(0x1b3),_0x7bb23f+=_0x2c229f(0x39d)+_0x70d16c+'\x22>'+_0x19402d[_0x2c229f(0x14f)]+_0x2c229f(0x310);break;}_0x7bb23f+=_0x2c229f(0x5ae);}),_0x7bb23f+=_0x117c17(0x3e1),_0x2b222b[_0x117c17(0x322)]=_0x7bb23f,document[_0x117c17(0x17a)](_0x117c17(0x119))[_0x117c17(0x1b7)](_0x56c7a8=>_0x56c7a8[_0x117c17(0x6d5)](_0x117c17(0x22c),handleEditQuestion)),document[_0x117c17(0x17a)](_0x117c17(0x19d))[_0x117c17(0x1b7)](_0x575929=>_0x575929[_0x117c17(0x6d5)]('click',handleRegenerateQuestion)),document[_0x117c17(0x7a2)]('export-worksheet-pdf-btn')[_0x117c17(0x6d5)](_0x117c17(0x22c),exportQuizAsWorksheetPDF),document[_0x117c17(0x7a2)](_0x117c17(0x2f9))[_0x117c17(0x6d5)]('click',handleVerifyAnswers);const _0x37e7d5=document[_0x117c17(0x7a2)](_0x117c17(0x665));if(_0x37e7d5){const _0x5983c6=_0xb1437||currentProjectId;_0x37e7d5[_0x117c17(0x6d5)](_0x117c17(0x22c),()=>saveQuiz(_0x5983c6,_0x42e1f3));}if(window[_0x117c17(0x8a8)])window[_0x117c17(0x8a8)]['typesetPromise']([_0x2b222b]);}function handleRegenerateQuestion(_0x3b6b8b){const _0x402ff8=_0x15116f,_0x586e8f=_0x3b6b8b[_0x402ff8(0x5f1)][_0x402ff8(0xb1e)]['index'],_0x79aed0=currentQuizData[_0x402ff8(0xc63)];showMessage(_0x402ff8(0x926)+(parseInt(_0x586e8f)+0x1)+'\x20ใหม่...'),generateQuiz(_0x79aed0,null,parseInt(_0x586e8f));}function getPointerPosition(_0x536104,_0x1ada62){const _0x1e8cfe=_0x15116f,_0x44493a=_0x536104[_0x1e8cfe(0x61a)]();let _0x2c0688,_0x43dec6;return _0x1ada62[_0x1e8cfe(0x103)]&&_0x1ada62[_0x1e8cfe(0x103)][_0x1e8cfe(0x987)]>0x0?(_0x2c0688=_0x1ada62['touches'][0x0][_0x1e8cfe(0x96d)],_0x43dec6=_0x1ada62[_0x1e8cfe(0x103)][0x0][_0x1e8cfe(0x5ee)]):(_0x2c0688=_0x1ada62[_0x1e8cfe(0x96d)],_0x43dec6=_0x1ada62[_0x1e8cfe(0x5ee)]),{'x':(_0x2c0688-_0x44493a['e'])/_0x44493a['a'],'y':(_0x43dec6-_0x44493a['f'])/_0x44493a['d']};}function startDrag(_0x420314){const _0x4623c5=_0x15116f;_0x420314['type']===_0x4623c5(0x38f)&&_0x420314['preventDefault']();const _0x1ad447=_0x420314[_0x4623c5(0x4c1)]['closest']('.draggable-text');if(_0x1ad447){draggedSvgElement=_0x1ad447;const _0x9d1a79=draggedSvgElement[_0x4623c5(0x705)],_0x5cada8=getPointerPosition(_0x9d1a79,_0x420314);svgOffset['x']=_0x5cada8['x']-parseFloat(draggedSvgElement[_0x4623c5(0xa00)](null,'x')),svgOffset['y']=_0x5cada8['y']-parseFloat(draggedSvgElement[_0x4623c5(0xa00)](null,'y'));}}function calculateItemAnalysis(_0x52316e,_0x66d941){const _0x50f424=_0x15116f,_0x5f33ef={};if(_0x66d941[_0x50f424(0x987)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x5eed35=[..._0x66d941][_0x50f424(0x2ea)]((_0x350751,_0xc09b1b)=>{const _0x432f16=_0x50f424,_0x29e51a=_0xc09b1b[_0x432f16(0x801)]-_0x350751[_0x432f16(0x801)];if(_0x29e51a!==0x0)return _0x29e51a;const _0x227fe1=_0x350751[_0x432f16(0x7a1)]?.[_0x432f16(0x987)]||0x1,_0x10b4fe=_0xc09b1b[_0x432f16(0x7a1)]?.['length']||0x1,_0x111ce5=_0x227fe1-_0x10b4fe;if(_0x111ce5!==0x0)return _0x111ce5;const _0x2058cb=new Date(_0x350751[_0x432f16(0x95d)]),_0x315860=new Date(_0xc09b1b[_0x432f16(0x95d)]),_0x1a356e=_0x2058cb-_0x315860;if(_0x1a356e!==0x0)return _0x1a356e;return _0x350751['studentName'][_0x432f16(0xb43)](_0xc09b1b[_0x432f16(0xb82)],'th');}),_0x306249=_0x5eed35[_0x50f424(0x987)],_0x3f8620=Math[_0x50f424(0x829)](0x1,Math[_0x50f424(0x1c8)](_0x306249*0.33));if(_0x3f8620===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xaab9ee=_0x5eed35[_0x50f424(0xf9)](0x0,_0x3f8620),_0x13bc96=_0x5eed35['slice'](-_0x3f8620),_0x24b336=_0xaab9ee[_0x50f424(0x217)](_0x5efdb0=>_0x5efdb0[_0x50f424(0xb82)]),_0x57aece=_0x13bc96[_0x50f424(0x217)](_0x205751=>_0x205751['studentName']);return _0x52316e['questions']['forEach']((_0x5e99a4,_0x34d60f)=>{const _0x9d3f98=_0x50f424,_0x461b85=_0x5e99a4['stem']||_0x5e99a4['questionText'];let _0x2930bc=0x0,_0x2d85fe=0x0,_0x283e80=0x0;const _0x32b4e9=[],_0x305f4e=[];_0xaab9ee['forEach'](_0x2627d4=>{const _0x3cf315=_0x1996,_0xcfa914=_0x2627d4[_0x3cf315(0x7a1)][_0x2627d4[_0x3cf315(0x7a1)][_0x3cf315(0x987)]-0x1],_0x5d7d78=_0xcfa914[_0x3cf315(0xc54)][_0x3cf315(0x22a)](_0x14c16b=>_0x14c16b['originalQuestionText']===_0x461b85);_0x32b4e9[_0x3cf315(0x8e7)]({'name':_0x2627d4[_0x3cf315(0xb82)],'isCorrect':_0x5d7d78?_0x5d7d78['isCorrect']:![]}),_0x5d7d78&&_0x5d7d78[_0x3cf315(0x653)]&&_0x2d85fe++;}),_0x13bc96[_0x9d3f98(0x1b7)](_0x3d7964=>{const _0x53e8c7=_0x9d3f98,_0x14fbab=_0x3d7964[_0x53e8c7(0x7a1)][_0x3d7964[_0x53e8c7(0x7a1)]['length']-0x1],_0x355468=_0x14fbab['answers']['find'](_0x489680=>_0x489680['originalQuestionText']===_0x461b85);_0x305f4e[_0x53e8c7(0x8e7)]({'name':_0x3d7964[_0x53e8c7(0xb82)],'isCorrect':_0x355468?_0x355468[_0x53e8c7(0x653)]:![]}),_0x355468&&_0x355468[_0x53e8c7(0x653)]&&_0x283e80++;}),_0x66d941['forEach'](_0x272c34=>{const _0x296c03=_0x9d3f98,_0x41b702=_0x272c34[_0x296c03(0x7a1)][_0x272c34['attempts'][_0x296c03(0x987)]-0x1],_0x495c83=_0x41b702[_0x296c03(0xc54)][_0x296c03(0x22a)](_0x3c039b=>_0x3c039b[_0x296c03(0x549)]===_0x461b85);_0x495c83&&_0x495c83[_0x296c03(0x653)]&&_0x2930bc++;});const _0x586010=_0x306249>0x0?_0x2930bc/_0x306249:0x0,_0x4f6556=_0x3f8620>0x0?_0x2d85fe/_0x3f8620-_0x283e80/_0x3f8620:0x0;_0x5f33ef[_0x34d60f]={'p':_0x586010,'r':_0x4f6556,'upperGroupResponders':_0x32b4e9,'lowerGroupResponders':_0x305f4e};}),{'perQuestionStats':_0x5f33ef,'overallGroups':{'upperGroupNames':_0x24b336,'lowerGroupNames':_0x57aece}};}function drag(_0x4783cb){const _0x49d92b=_0x15116f;if(draggedSvgElement){_0x4783cb[_0x49d92b(0x623)]();const _0x4f4d93=draggedSvgElement[_0x49d92b(0x705)],_0x32047a=getPointerPosition(_0x4f4d93,_0x4783cb),_0x105b51=_0x4f4d93[_0x49d92b(0x402)][_0x49d92b(0x9d4)];let _0x91d41e=_0x32047a['x']-svgOffset['x'],_0x59af53=_0x32047a['y']-svgOffset['y'];const _0x5ab26c=draggedSvgElement[_0x49d92b(0x89f)]();_0x91d41e=Math[_0x49d92b(0x829)](_0x105b51['x'],Math['min'](_0x91d41e,_0x105b51['x']+_0x105b51[_0x49d92b(0x21b)]-_0x5ab26c[_0x49d92b(0x21b)])),_0x59af53=Math['max'](_0x105b51['y'],Math[_0x49d92b(0xa0f)](_0x59af53,_0x105b51['y']+_0x105b51[_0x49d92b(0x965)]-_0x5ab26c['height'])),draggedSvgElement[_0x49d92b(0x903)](null,'x',_0x91d41e),draggedSvgElement[_0x49d92b(0x903)](null,'y',_0x59af53);}}function endDrag(_0x3502eb){draggedSvgElement=null;}function handleSvgEditClick(_0x4cb1ae){const _0x7f97ec=_0x15116f;if(_0x4cb1ae[_0x7f97ec(0x4c1)]['classList'][_0x7f97ec(0x7f1)](_0x7f97ec(0xadc))){const _0x4521ea=_0x4cb1ae[_0x7f97ec(0x4c1)][_0x7f97ec(0xb1e)][_0x7f97ec(0x214)],_0x284e31=_0x4cb1ae['currentTarget'],_0x5acdcb=_0x284e31['querySelector']('#'+_0x4521ea);_0x5acdcb&&_0x5acdcb[_0x7f97ec(0x367)](),_0x4cb1ae[_0x7f97ec(0x4c1)][_0x7f97ec(0x367)]();}}function handleEditQuestion(_0x2f3e3d){const _0xf8d8f9=_0x15116f,_0x32cf9f=_0x2f3e3d['currentTarget'],_0x5c7077=_0x32cf9f[_0xf8d8f9(0xb1e)][_0xf8d8f9(0xad0)],_0x3f8e5e=currentQuizData[_0xf8d8f9(0x72a)][_0x5c7077],_0x1feb35=document[_0xf8d8f9(0x7a2)](_0xf8d8f9(0x899)+_0x5c7077),_0x53a1f8=document[_0xf8d8f9(0x7a2)](_0xf8d8f9(0x8d6)+_0x5c7077),_0x53774e=document[_0xf8d8f9(0x7a2)](_0xf8d8f9(0xa9c)+_0x5c7077);if(_0x32cf9f[_0xf8d8f9(0x322)]['includes'](_0xf8d8f9(0x1a0))){_0x32cf9f[_0xf8d8f9(0x322)]=_0xf8d8f9(0xb7e),_0x32cf9f[_0xf8d8f9(0x4a4)]=_0xf8d8f9(0x487);if(_0x1feb35)_0x1feb35[_0xf8d8f9(0x73a)]=!![];if(_0x53a1f8)_0x53a1f8['contentEditable']=!![];if(_0x53774e){const _0x4b2248=_0x53774e['querySelector'](_0xf8d8f9(0x772));if(_0x4b2248){const _0x196880=_0x4b2248[_0xf8d8f9(0x17a)](_0xf8d8f9(0x9ef));_0x196880[_0xf8d8f9(0x1b7)]((_0x9568ae,_0x1072e0)=>{const _0x4435a4=_0xf8d8f9,_0x407fda=_0x4435a4(0xc48)+_0x5c7077+'-'+_0x1072e0;_0x9568ae['id']=_0x407fda,_0x9568ae['classList']['add'](_0x4435a4(0x454)),_0x9568ae[_0x4435a4(0x1af)][_0x4435a4(0x7af)]=_0x4435a4(0x6d6);const _0x534091=document[_0x4435a4(0x323)](_0x4435a4(0x619),_0x4435a4(0xc56)),_0x379c28=_0x9568ae['getBBox']();_0x534091[_0x4435a4(0x2eb)]('cx',String(_0x379c28['x']+_0x379c28[_0x4435a4(0x21b)]+0x5)),_0x534091[_0x4435a4(0x2eb)]('cy',String(_0x379c28['y']+_0x379c28[_0x4435a4(0x965)]/0x2-0x5)),_0x534091[_0x4435a4(0x2eb)]('r','5'),_0x534091[_0x4435a4(0x2eb)](_0x4435a4(0x5c8),_0x4435a4(0x54d)),_0x534091[_0x4435a4(0x2eb)](_0x4435a4(0x332),_0x4435a4(0xadc)),_0x534091[_0x4435a4(0xb1e)][_0x4435a4(0x214)]=_0x407fda,_0x9568ae['after'](_0x534091);}),_0x4b2248[_0xf8d8f9(0x6d5)](_0xf8d8f9(0xaa3),startDrag),_0x4b2248['addEventListener'](_0xf8d8f9(0x418),drag),_0x4b2248[_0xf8d8f9(0x6d5)](_0xf8d8f9(0x766),endDrag),_0x4b2248[_0xf8d8f9(0x6d5)](_0xf8d8f9(0x9e4),endDrag),_0x4b2248[_0xf8d8f9(0x6d5)]('touchstart',startDrag,{'passive':![]}),_0x4b2248[_0xf8d8f9(0x6d5)](_0xf8d8f9(0x554),drag,{'passive':![]}),_0x4b2248['addEventListener'](_0xf8d8f9(0x93b),endDrag),_0x4b2248['addEventListener']('touchcancel',endDrag),_0x4b2248[_0xf8d8f9(0x6d5)]('click',handleSvgEditClick);}}if(_0x1feb35)_0x1feb35[_0xf8d8f9(0x24e)]();}else{_0x32cf9f['innerHTML']=_0xf8d8f9(0x5f3),_0x32cf9f['title']=_0xf8d8f9(0x515);if(_0x1feb35){_0x1feb35['contentEditable']=![];const _0x3da0f0=_0x3f8e5e['questionType']||currentQuizData['quizType'];_0x3da0f0===_0xf8d8f9(0xb55)?_0x3f8e5e[_0xf8d8f9(0xa68)]=_0x1feb35['innerText']['substring'](_0x1feb35['innerText'][_0xf8d8f9(0xb0f)]('.')+0x2)[_0xf8d8f9(0x6ad)]():_0x3f8e5e['questionText']=_0x1feb35[_0xf8d8f9(0x589)][_0xf8d8f9(0x84c)](_0x1feb35['innerText'][_0xf8d8f9(0xb0f)]('.')+0x2)[_0xf8d8f9(0x6ad)]();}_0x53a1f8&&(_0x53a1f8[_0xf8d8f9(0x73a)]=![],_0x3f8e5e[_0xf8d8f9(0x14f)]=_0x53a1f8[_0xf8d8f9(0x589)]);if(_0x53774e){const _0x2d6938=_0x53774e['querySelector'](_0xf8d8f9(0x772));if(_0x2d6938){const _0x1d4b8c=_0x2d6938[_0xf8d8f9(0x9f4)](!![]);_0x1d4b8c[_0xf8d8f9(0x17a)]('.delete-svg-btn')[_0xf8d8f9(0x1b7)](_0x14da63=>_0x14da63[_0xf8d8f9(0x367)]()),_0x1d4b8c[_0xf8d8f9(0x17a)](_0xf8d8f9(0x753))[_0xf8d8f9(0x1b7)](_0x2cde95=>{const _0x50f24b=_0xf8d8f9;_0x2cde95[_0x50f24b(0x6e6)][_0x50f24b(0x367)](_0x50f24b(0x454)),_0x2cde95[_0x50f24b(0x1af)][_0x50f24b(0x7af)]='default',_0x2cde95[_0x50f24b(0x248)]('id');}),_0x3f8e5e[_0xf8d8f9(0x8b6)]=_0x1d4b8c['outerHTML'],_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0xaa3),startDrag),_0x2d6938[_0xf8d8f9(0x770)]('mousemove',drag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x766),endDrag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x9e4),endDrag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x38f),startDrag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x554),drag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x93b),endDrag),_0x2d6938['removeEventListener'](_0xf8d8f9(0x4eb),endDrag),_0x2d6938[_0xf8d8f9(0x770)](_0xf8d8f9(0x22c),handleSvgEditClick),_0x2d6938[_0xf8d8f9(0x17a)](_0xf8d8f9(0xb5e))[_0xf8d8f9(0x1b7)](_0x1554d6=>_0x1554d6[_0xf8d8f9(0x367)]()),_0x2d6938['querySelectorAll'](_0xf8d8f9(0x753))[_0xf8d8f9(0x1b7)](_0x356adf=>{const _0x19a31e=_0xf8d8f9;_0x356adf[_0x19a31e(0x6e6)][_0x19a31e(0x367)](_0x19a31e(0x454)),_0x356adf[_0x19a31e(0x1af)][_0x19a31e(0x7af)]=_0x19a31e(0x86b);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x11ce14){const _0x1016de=_0x15116f,_0x44b6ed=document[_0x1016de(0x7a2)](_0x1016de(0xb85)),_0x3f5094=document['getElementById'](_0x1016de(0x21f));_0x3f5094[_0x1016de(0x322)]=_0x1016de(0x9b9),_0x44b6ed[_0x1016de(0x6e6)]['remove']('hidden');try{const _0x377e06=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x11ce14),_0xe6e5b4=await getDoc(_0x377e06);if(!_0xe6e5b4[_0x1016de(0xfc)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x11ce14,..._0xe6e5b4[_0x1016de(0xc6b)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5ca661){console['error']('Error\x20opening\x20quiz\x20editor:',_0x5ca661),showMessage(_0x1016de(0x2c9)),_0x44b6ed[_0x1016de(0x6e6)]['add'](_0x1016de(0x106));}}function renderQuizEditor(_0x2efb1b){const _0x2f3cf2=_0x15116f;document['getElementById']('editor-quiz-topic')[_0x2f3cf2(0x682)]=_0x2efb1b[_0x2f3cf2(0xc63)];const _0x8f9bc2=document[_0x2f3cf2(0x7a2)](_0x2f3cf2(0x21f));let _0x2f9354=_0x2efb1b[_0x2f3cf2(0x72a)][_0x2f3cf2(0x217)]((_0x321c5e,_0xd1d111)=>{const _0x287470=_0x2f3cf2;let _0xdc36='';const _0x308355=_0x321c5e[_0x287470(0x5ac)]||_0x2efb1b[_0x287470(0xbe2)];switch(_0x308355){case _0x287470(0x2ac):const _0x3ff627=(_0x321c5e[_0x287470(0xbd3)]||[])[_0x287470(0x217)]((_0x6d0b93,_0x40c57b)=>_0x287470(0x315)+_0xd1d111+_0x287470(0x41f)+_0x40c57b+'\x22\x20'+(_0x40c57b===_0x321c5e[_0x287470(0x4fa)]?_0x287470(0x8cc):'')+_0x287470(0x812)+_0x6d0b93+_0x287470(0x767))[_0x287470(0x935)]('');_0xdc36=_0x287470(0x6c1)+_0x3ff627+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x287470(0xb64):_0xdc36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x321c5e[_0x287470(0x5ec)]||'')+_0x287470(0xa31);break;case _0x287470(0x1dd):_0xdc36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xd1d111+_0x287470(0x9fb)+(_0x321c5e['correctAnswer']===!![]?_0x287470(0x8cc):'')+_0x287470(0x74a)+_0xd1d111+_0x287470(0x391)+(_0x321c5e['correctAnswer']===![]?_0x287470(0x8cc):'')+_0x287470(0x14e);break;case _0x287470(0xb55):_0xdc36=_0x287470(0x1e6)+(_0x321c5e[_0x287470(0x76c)]||'')+_0x287470(0x2bb);break;}const _0x4c0f10=_0x321c5e[_0x287470(0x187)]||_0x321c5e[_0x287470(0xa68)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0xd1d111+'\x22\x20data-q-type=\x22'+_0x308355+_0x287470(0x878)+(_0xd1d111+0x1)+'\x20('+_0x308355+_0x287470(0x859)+_0x4c0f10+_0x287470(0xab2)+_0xdc36+_0x287470(0xb0e);})[_0x2f3cf2(0x935)]('');_0x8f9bc2['innerHTML']=_0x2f9354,_0x8f9bc2[_0x2f3cf2(0x17a)]('.ai-fix-question-btn')[_0x2f3cf2(0x1b7)](_0x424d7e=>{const _0x42da6a=_0x2f3cf2;_0x424d7e[_0x42da6a(0x6d5)](_0x42da6a(0x22c),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1463c0){const _0x46bf46=_0x15116f,_0x2c9777=_0x1463c0['currentTarget'],_0x479e1b=_0x2c9777[_0x46bf46(0x38e)](_0x46bf46(0xa79));if(!_0x479e1b)return;const _0x23706e=parseInt(_0x479e1b['dataset']['qIndex'],0xa);if(isNaN(_0x23706e)||!currentEditingQuizData[_0x46bf46(0x72a)][_0x23706e]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x5112f0=currentEditingQuizData[_0x46bf46(0x72a)][_0x23706e];_0x2c9777[_0x46bf46(0x322)]=_0x46bf46(0xb8a),_0x2c9777[_0x46bf46(0xc47)]=!![];const _0x55f006='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x46bf46(0x352)](_0x5112f0)+_0x46bf46(0x569);let _0x51d0b;const _0x21b134=_0x5112f0[_0x46bf46(0x5ac)]||currentEditingQuizData[_0x46bf46(0xbe2)];switch(_0x21b134){case _0x46bf46(0xb64):_0x51d0b={'type':_0x46bf46(0x8c9),'properties':{'questionText':{'type':_0x46bf46(0x87c)},'idealAnswer':{'type':_0x46bf46(0x87c)},'explanation':{'type':_0x46bf46(0x87c)},'imageCode':{'type':_0x46bf46(0x87c)}},'required':['questionText',_0x46bf46(0x5ec),'explanation']};break;case _0x46bf46(0x2ac):default:_0x51d0b={'type':_0x46bf46(0x8c9),'properties':{'questionText':{'type':_0x46bf46(0x87c)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x46bf46(0x421)},'explanation':{'type':_0x46bf46(0x87c)},'imageCode':{'type':_0x46bf46(0x87c)}},'required':['questionText',_0x46bf46(0xbd3),_0x46bf46(0x4fa),_0x46bf46(0x14f)]};break;}try{let _0x228a0c=await callAnalysisApi(_0x55f006,_0x51d0b);_0x228a0c[_0x46bf46(0xbd3)]&&Array[_0x46bf46(0xbeb)](_0x228a0c[_0x46bf46(0xbd3)])&&(_0x228a0c[_0x46bf46(0xbd3)]=_0x228a0c['options'][_0x46bf46(0x217)](_0x3bae54=>typeof _0x3bae54===_0x46bf46(0x1db)?_0x3bae54['replace'](/S(\s*[\d_]+?\s*)S/g,_0x46bf46(0xc24)):_0x3bae54)),_0x5112f0[_0x46bf46(0x8b6)]&&_0x5112f0[_0x46bf46(0x8b6)]['includes'](_0x46bf46(0x630))&&(_0x228a0c[_0x46bf46(0x8b6)]=''),currentEditingQuizData[_0x46bf46(0x72a)][_0x23706e]={..._0x5112f0,..._0x228a0c},renderQuizEditor(currentEditingQuizData),showMessage(_0x46bf46(0xb69));}catch(_0x4d7401){console[_0x46bf46(0x13b)]('AI\x20Fix\x20Error:',_0x4d7401),showMessage(_0x46bf46(0xb32)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x517494=_0x15116f,_0x4d837b=document[_0x517494(0x7a2)](_0x517494(0x63e));_0x4d837b[_0x517494(0xc47)]=!![],_0x4d837b[_0x517494(0x322)]=_0x517494(0x84d);try{const _0x2e8ba6=document[_0x517494(0x7a2)](_0x517494(0x3bc))[_0x517494(0x682)],_0x34d144=document[_0x517494(0x17a)](_0x517494(0xa79));let _0x4336fe=[];const _0x116c7a=Array[_0x517494(0x636)](_0x34d144)[_0x517494(0x217)]((_0x5cf819,_0x5f4db5)=>{const _0x128b6d=_0x517494,_0x185118=_0x5cf819['dataset'][_0x128b6d(0x44d)],_0x56424c=_0x5cf819['querySelector'](_0x128b6d(0x9c3))[_0x128b6d(0x682)][_0x128b6d(0x892)](/\n/g,_0x128b6d(0x398));let _0x535a0e={'questionType':_0x185118};const _0x360bf0=currentEditingQuizData[_0x128b6d(0x72a)][_0x5f4db5];switch(_0x185118){case _0x128b6d(0x2ac):_0x535a0e[_0x128b6d(0x187)]=_0x56424c;const _0x5100d7=_0x5cf819[_0x128b6d(0x17a)]('input[type=\x22text\x22]');_0x535a0e[_0x128b6d(0xbd3)]=Array[_0x128b6d(0x636)](_0x5100d7)[_0x128b6d(0x217)](_0x3420b6=>_0x3420b6['value']);const _0xc1487e=_0x5cf819[_0x128b6d(0xba0)](_0x128b6d(0x3f7));_0x535a0e[_0x128b6d(0x4fa)]=_0xc1487e?parseInt(_0xc1487e[_0x128b6d(0x682)]):0x0;break;case _0x128b6d(0xb64):_0x535a0e[_0x128b6d(0x187)]=_0x56424c,_0x535a0e[_0x128b6d(0x5ec)]=_0x5cf819['querySelector']('.ideal-answer-input')['value'];break;case'true_false':_0x535a0e['questionText']=_0x56424c;const _0x1b3f5e=_0x5cf819[_0x128b6d(0xba0)]('input[type=\x22radio\x22]:checked');_0x535a0e[_0x128b6d(0x7b8)]=_0x1b3f5e?_0x1b3f5e['value']===_0x128b6d(0x7d1):!![];break;case _0x128b6d(0xb55):_0x535a0e[_0x128b6d(0xa68)]=_0x56424c;const _0x3b8b2c=_0x5cf819[_0x128b6d(0xba0)](_0x128b6d(0x2ee));_0x535a0e['correctResponse']=_0x3b8b2c?_0x3b8b2c[_0x128b6d(0x682)]:'',_0x4336fe[_0x128b6d(0x8e7)](_0x535a0e[_0x128b6d(0x76c)]);break;default:_0x535a0e[_0x128b6d(0x187)]=_0x56424c;break;}return{..._0x360bf0,..._0x535a0e};});_0x4336fe[_0x517494(0x987)]>0x0&&_0x116c7a[_0x517494(0x1b7)](_0x54128e=>{const _0x5ca7cc=_0x517494;_0x54128e['questionType']===_0x5ca7cc(0xb55)&&(_0x54128e[_0x5ca7cc(0xa84)]=_0x4336fe);});const _0x2587d6=currentEditingQuizData['id'],_0x2b45bc=doc(db,_0x517494(0xc14)+appId+_0x517494(0x42c),_0x2587d6);await updateDoc(_0x2b45bc,{'topic':_0x2e8ba6,'questions':_0x116c7a}),document['getElementById'](_0x517494(0xb85))[_0x517494(0x6e6)][_0x517494(0x360)](_0x517494(0x106)),showMessage(_0x517494(0x110),()=>initiateReGradeProcess(_0x2587d6));}catch(_0x3e5154){console['error'](_0x517494(0x893),_0x3e5154),showMessage(_0x517494(0xbb4));}finally{_0x4d837b[_0x517494(0xc47)]=![],_0x4d837b[_0x517494(0x322)]=_0x517494(0x6ea);}}async function initiateReGradeProcess(_0x214c8e){const _0x1111a4=_0x15116f;showMessage(_0x1111a4(0x1fc));try{const _0x4d8e6a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x214c8e),_0x215a19=await getDoc(_0x4d8e6a);if(!_0x215a19[_0x1111a4(0xfc)]())throw new Error(_0x1111a4(0xc0a));const _0xedbc66={'id':_0x214c8e,..._0x215a19[_0x1111a4(0xc6b)]()},_0x11b469=collection(db,_0x1111a4(0xc14)+appId+_0x1111a4(0x42c),_0x214c8e,_0x1111a4(0x261)),_0x2d8f12=await getDocs(_0x11b469);if(_0x2d8f12[_0x1111a4(0x615)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x30114c=_0x2d8f12['docs'][_0x1111a4(0x217)](_0x20ac70=>reGradeSingleSubmission(_0x20ac70,_0xedbc66));await Promise[_0x1111a4(0x458)](_0x30114c);if(_0xedbc66['projectId']){const _0x17b634=doc(db,'artifacts/'+appId+'/public/data/projects',_0xedbc66[_0x1111a4(0xb9b)]),_0x5166bb=await getDoc(_0x17b634);if(_0x5166bb[_0x1111a4(0xfc)]()&&_0x5166bb[_0x1111a4(0xc6b)]()[_0x1111a4(0x8ad)]){const _0x958e04=_0x5166bb[_0x1111a4(0xc6b)]()['students'][_0x1111a4(0x217)](_0x4ba2ef=>updateStudentProfile(_0xedbc66[_0x1111a4(0xb9b)],_0x4ba2ef));await Promise['all'](_0x958e04);}}showMessage(_0x1111a4(0xa7b)+_0x2d8f12[_0x1111a4(0x84a)]+_0x1111a4(0xa9b));}catch(_0x38e406){console[_0x1111a4(0x13b)](_0x1111a4(0x428),_0x38e406),showMessage(_0x1111a4(0xac1)+_0x38e406['message']);}}async function reGradeSingleSubmission(_0xd89218,_0x46f061){const _0x301063=_0x15116f,_0x52f32f=_0xd89218[_0x301063(0xc6b)](),_0xb886ef=_0x52f32f[_0x301063(0xb82)],_0x3c86a3=_0x52f32f['attempts']||[],_0x92c246=[];for(const _0x34cace of _0x3c86a3){let _0x3faf12=0x0,_0x30f1aa=[],_0x274fc8=0x0;const _0x2e07dd=[];for(const _0x3a4f12 of _0x34cace['answers']){let _0x225d12;_0x3a4f12[_0x301063(0x153)]&&(_0x225d12=_0x46f061[_0x301063(0x72a)][_0x301063(0x22a)](_0x4b3f4a=>_0x4b3f4a['id']===_0x3a4f12[_0x301063(0x153)]));!_0x225d12&&_0x3a4f12[_0x301063(0x549)]&&(_0x225d12=_0x46f061['questions'][_0x301063(0x22a)](_0x30368b=>(_0x30368b[_0x301063(0xa68)]||_0x30368b[_0x301063(0x187)])===_0x3a4f12[_0x301063(0x549)]));let _0x4b27e4=![];if(_0x225d12){const _0x10fafe=_0x225d12['questionType']||_0x46f061[_0x301063(0xbe2)];switch(_0x10fafe){case _0x301063(0x2ac):if(_0x225d12[_0x301063(0xbd3)]&&_0x225d12[_0x301063(0x4fa)]<_0x225d12[_0x301063(0xbd3)][_0x301063(0x987)]){const _0x241940=_0x225d12[_0x301063(0xbd3)][_0x225d12[_0x301063(0x4fa)]];_0x4b27e4=_0x3a4f12[_0x301063(0x50c)]===_0x241940;}break;case _0x301063(0x1dd):const _0x539bb1=_0x3a4f12[_0x301063(0x796)]===!![]||_0x3a4f12[_0x301063(0x796)]==='true';_0x4b27e4=_0x539bb1===_0x225d12[_0x301063(0x7b8)];break;case'matching_item':_0x4b27e4=_0x3a4f12[_0x301063(0x796)]===_0x225d12[_0x301063(0x76c)];break;case'short_answer':_0x4b27e4=await gradeShortAnswer(_0x3a4f12[_0x301063(0x796)],_0x225d12);break;default:_0x4b27e4=_0x3a4f12[_0x301063(0x653)];break;}}if(_0x4b27e4){_0x3faf12++,_0x274fc8++;if(_0x274fc8===0x3)_0x30f1aa[_0x301063(0x8e7)](BADGES[_0x301063(0x2aa)]['id']);}else _0x274fc8=0x0;_0x2e07dd[_0x301063(0x8e7)]({..._0x3a4f12,'isCorrect':_0x4b27e4});}let _0x2e00aa=_0x3faf12*0xa;_0x3faf12===_0x46f061['questions']['length']&&(_0x2e00aa+=0x32,_0x30f1aa[_0x301063(0x8e7)](BADGES[_0x301063(0xc4c)]['id'])),_0x92c246['push']({..._0x34cace,'score':_0x3faf12,'points':_0x2e00aa,'badges':Array['from'](new Set(_0x30f1aa)),'answers':_0x2e07dd});}const _0x2931ac=_0x92c246[_0x301063(0x987)]>0x0?_0x92c246[0x0]['score']:0x0,_0x2fa358=Math[_0x301063(0x829)](..._0x92c246[_0x301063(0x217)](_0x48dca9=>_0x48dca9[_0x301063(0x24f)])),_0x2f5acb=_0x92c246['length']>0x0?_0x92c246[_0x92c246[_0x301063(0x987)]-0x1][_0x301063(0x24f)]:0x0,_0x2c3959=_0x92c246[_0x301063(0x987)]>0x0?_0x92c246[_0x92c246[_0x301063(0x987)]-0x1][_0x301063(0xa15)]:0x0,_0x3e72a5=doc(db,_0x301063(0xc14)+appId+_0x301063(0x6b0)+_0x46f061['id']+'/submissions',_0xb886ef);await updateDoc(_0x3e72a5,{'attempts':_0x92c246,'firstScore':_0x2931ac,'bestScore':_0x2fa358,'latestScore':_0x2f5acb,'points':_0x2c3959});}function cleanupQuizOptions(_0x42382e){const _0x4b8a72=_0x15116f,_0x150678=(_0x19ee1f,_0x562263)=>_0x562263===0x0?_0x19ee1f:_0x150678(_0x562263,_0x19ee1f%_0x562263),_0x14af2f=_0x38f46a=>{const _0x14ed41=_0x1996;if(typeof _0x38f46a!=='string')return null;_0x38f46a=_0x38f46a[_0x14ed41(0x6ad)]();const _0x14e6be=_0x38f46a['split'](/[ /]/)['filter'](_0x4eecc6=>_0x4eecc6!=='');if(_0x14e6be[_0x14ed41(0x987)]===0x3)return parseInt(_0x14e6be[0x0])+parseInt(_0x14e6be[0x1])/parseInt(_0x14e6be[0x2]);else{if(_0x14e6be['length']===0x2)return parseInt(_0x14e6be[0x0])/parseInt(_0x14e6be[0x1]);else{if(_0x14e6be['length']===0x1&&!isNaN(_0x14e6be[0x0]))return parseFloat(_0x14e6be[0x0]);}}return null;},_0x55bf52=_0x431a04=>{const _0x276b07=_0x1996;if(typeof _0x431a04!==_0x276b07(0x1db))return _0x431a04;const _0x4c1f31=_0x431a04[_0x276b07(0x9b1)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4c1f31){const _0x5020d5=parseInt(_0x4c1f31[0x1]);let _0x2a3a03=parseInt(_0x4c1f31[0x2]),_0x22fee5=parseInt(_0x4c1f31[0x3]);const _0x254c1a=_0x150678(_0x2a3a03,_0x22fee5);_0x2a3a03/=_0x254c1a,_0x22fee5/=_0x254c1a;if(_0x22fee5===0x1)return(_0x5020d5+_0x2a3a03)[_0x276b07(0x42f)]();return _0x5020d5+'\x20'+_0x2a3a03+'/'+_0x22fee5;}return _0x431a04;};return _0x42382e&&_0x42382e['questions']&&_0x42382e[_0x4b8a72(0x72a)]['forEach'](_0x19884f=>{const _0x3103ea=_0x4b8a72;if(_0x19884f[_0x3103ea(0x5ac)]===_0x3103ea(0x2ac)&&_0x19884f[_0x3103ea(0xbd3)]){const _0x1533fd=new Map(),_0x31986c=_0x19884f[_0x3103ea(0xbd3)][_0x19884f[_0x3103ea(0x4fa)]];_0x19884f[_0x3103ea(0xbd3)][_0x3103ea(0x1b7)](_0x6dbab8=>{const _0x1a5b70=_0x3103ea,_0xda1ea7=_0x55bf52(_0x6dbab8),_0x186975=_0x14af2f(_0xda1ea7);_0x186975!==null&&!_0x1533fd[_0x1a5b70(0x1f4)](_0x186975)&&_0x1533fd[_0x1a5b70(0x145)](_0x186975,_0xda1ea7);}),_0x19884f[_0x3103ea(0xbd3)]=Array[_0x3103ea(0x636)](_0x1533fd[_0x3103ea(0xc27)]());const _0x43e812=_0x19884f[_0x3103ea(0xbd3)][_0x3103ea(0xc2b)](_0x51438e=>_0x51438e===_0x55bf52(_0x31986c));_0x19884f['correctAnswerIndex']=_0x43e812!==-0x1?_0x43e812:0x0;}}),_0x42382e;}function showGameStartConfirmationModal(_0x17d5c1,_0x1bd32b,_0x31d3c6){const _0x258f32=_0x15116f,_0x364b01=document[_0x258f32(0x7a2)](_0x258f32(0xc4e));document['getElementById'](_0x258f32(0x883))[_0x258f32(0x930)]=_0x258f32(0x974)+_0x31d3c6,document[_0x258f32(0x7a2)](_0x258f32(0xc38))['value']=_0x17d5c1,document['getElementById']('game-start-mode')['value']=_0x1bd32b,document['getElementById'](_0x258f32(0x185))['checked']=!![],_0x364b01[_0x258f32(0x6e6)][_0x258f32(0x367)]('hidden');}async function saveGameResultsAsSubmissions(_0x4ef127){const _0x490d94=_0x15116f;console[_0x490d94(0x7d6)](_0x490d94(0xc44),_0x4ef127);const _0xb2dab=_0x4ef127[_0x490d94(0x502)];let _0x17894f=[];if(_0x4ef127[_0x490d94(0x7c5)])_0x17894f=Object[_0x490d94(0x73b)](_0x4ef127[_0x490d94(0x7c5)])['map'](([_0x2d72b0,_0x388f29])=>({'name':_0x2d72b0,..._0x388f29}));else{if(_0x4ef127[_0x490d94(0x36f)])Object[_0x490d94(0xc27)](_0x4ef127[_0x490d94(0x36f)])[_0x490d94(0x1b7)](_0x5b105c=>{const _0x51b407=_0x490d94;_0x5b105c['members'][_0x51b407(0x1b7)](_0x3f6421=>{const _0x3bcc96=_0x51b407;_0x17894f[_0x3bcc96(0x8e7)]({'name':_0x3f6421,'score':_0x5b105c[_0x3bcc96(0x24f)],'answers':_0x5b105c[_0x3bcc96(0xc54)]});});});else _0x4ef127[_0x490d94(0x5f2)]&&Object[_0x490d94(0x73b)](_0x4ef127[_0x490d94(0x5f2)])[_0x490d94(0x1b7)](([_0x2bcf68,_0x433311])=>{const _0x20bf16=_0x490d94;_0x17894f[_0x20bf16(0x8e7)]({'name':_0x2bcf68,..._0x433311});});}if(_0x17894f[_0x490d94(0x987)]===0x0){console[_0x490d94(0x7d6)](_0x490d94(0x914));return;}const _0x4168d3=_0x4ef127[_0x490d94(0x4ff)]?.[_0x490d94(0x72a)][_0x490d94(0x987)]||currentQuizData[_0x490d94(0x72a)]['length'],_0x18644b=writeBatch(db);for(const _0x46ce9a of _0x17894f){const _0x48d4c6=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0xb2dab+'/submissions',_0x46ce9a['name']),_0x582985=(_0x46ce9a['answers']||[])[_0x490d94(0x431)](_0x7a3235=>_0x7a3235['isCorrect'])[_0x490d94(0x987)];let _0x5b7013=_0x582985;_0x4ef127[_0x490d94(0x1e0)]&&_0x46ce9a[_0x490d94(0xc54)]&&_0x46ce9a['answers'][_0x490d94(0x1b7)](_0xa45ec7=>{const _0x150ba9=_0x490d94;if(_0xa45ec7[_0x150ba9(0x653)]&&(_0xa45ec7[_0x150ba9(0x98b)]===!![]||_0xa45ec7['wasConfident']==='confident'))_0x5b7013+=0x1;else!_0xa45ec7[_0x150ba9(0x653)]&&(_0xa45ec7['wasConfident']===!![]||_0xa45ec7[_0x150ba9(0x98b)]===_0x150ba9(0x6fd))&&(_0x5b7013-=0x1);});_0x4168d3>0x0&&_0x582985===_0x4168d3&&(_0x5b7013+=0x1);const _0xac392e={'score':_0x582985,'points':_0x5b7013,'badges':_0x46ce9a[_0x490d94(0x457)]||[],'submittedAt':new Date()[_0x490d94(0x25b)](),'answers':(_0x46ce9a[_0x490d94(0xc54)]||[])['map'](_0x465b91=>({'questionId':_0x465b91[_0x490d94(0x153)],'answer':_0x465b91['answer'],'answerText':_0x465b91[_0x490d94(0x50c)],'isCorrect':_0x465b91['isCorrect'],'originalQuestionText':_0x465b91[_0x490d94(0x549)],'wasConfident':_0x465b91['wasConfident']}))},_0x29325b=await getDoc(_0x48d4c6),_0x45282e=_0x29325b[_0x490d94(0xfc)]()?_0x29325b[_0x490d94(0xc6b)]():{},_0x16740e=_0x45282e['bestScore']||0x0,_0x5c2a3b=_0x45282e[_0x490d94(0x7a1)]||[],_0x2b3bf4={'studentName':_0x46ce9a[_0x490d94(0x947)],'totalQuestions':_0x4168d3,'attempts':arrayUnion(_0xac392e),'latestScore':_0x582985,'points':_0x5b7013,'latestSubmittedAt':_0xac392e[_0x490d94(0xad8)],'bestScore':Math[_0x490d94(0x829)](_0x16740e,_0x582985),'firstScore':_0x5c2a3b[_0x490d94(0x987)]===0x0?_0x582985:_0x45282e[_0x490d94(0x8de)]||0x0};_0x18644b[_0x490d94(0x145)](_0x48d4c6,_0x2b3bf4,{'merge':!![]});}try{await _0x18644b[_0x490d94(0x18c)](),showMessage(_0x490d94(0x719)+_0x17894f['length']+_0x490d94(0x12a));const _0x4259cd=_0x4ef127[_0x490d94(0x4ff)]?.['projectId']||currentQuizData?.[_0x490d94(0xb9b)]||currentProjectId;if(_0x4259cd){const _0x5eb24b=[...new Set(_0x17894f[_0x490d94(0x217)](_0x5d60f0=>_0x5d60f0[_0x490d94(0x947)]))];for(const _0x40aa8f of _0x5eb24b){await updateStudentProfile(_0x4259cd,_0x40aa8f);}}}catch(_0x3a57e8){console[_0x490d94(0x13b)](_0x490d94(0x60f),_0x3a57e8),showMessage(_0x490d94(0x749));}}async function saveQuiz(_0x17023e=null,_0x19c605=null){const _0x2b7fcd=_0x15116f,_0x40ebec=_0x17023e||currentProjectId;if(!_0x40ebec){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2b7fcd(0x72a)]||!userId){showMessage(_0x2b7fcd(0xba9));return;}const _0x3c33d7=document[_0x2b7fcd(0x7a2)]('save-quiz-btn');_0x3c33d7[_0x2b7fcd(0xc47)]=!![],_0x3c33d7[_0x2b7fcd(0x322)]=_0x2b7fcd(0x84d);const _0x4022fe=document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x848))['checked'];let _0x3db07b=document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x23a))['innerText'][_0x2b7fcd(0x6ad)]();_0x4022fe&&!_0x3db07b[_0x2b7fcd(0xaae)]('(ก่อนเรียน)')&&(_0x3db07b='(ก่อนเรียน)\x20'+_0x3db07b);try{const _0x4d144d={'resultsDisplay':document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x247))[_0x2b7fcd(0x682)],'shuffle':document[_0x2b7fcd(0x7a2)]('shuffle-setting-select')['value'],'timerMode':document[_0x2b7fcd(0x7a2)]('timer-mode-select')[_0x2b7fcd(0x682)],'timerDuration':parseInt(document[_0x2b7fcd(0x7a2)]('timer-duration-input')[_0x2b7fcd(0x682)])||0xa,'passingScore':parseInt(document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x259))[_0x2b7fcd(0x682)])||0x0,'isAdaptive':document['getElementById'](_0x2b7fcd(0xee))['checked'],'loopUntilPass':document['getElementById'](_0x2b7fcd(0x976))['checked']},_0x39b7cf=(currentQuizData['questions']||[])[_0x2b7fcd(0x217)]((_0xc039bc,_0x1300e2)=>{const _0x3ce82a=_0x2b7fcd,_0x51e0fe=document[_0x3ce82a(0x7a2)](_0x3ce82a(0x6a1))[_0x3ce82a(0x682)],_0x4e2581={'id':'q_'+Date[_0x3ce82a(0xb20)]()+'_'+_0x1300e2,'questionText':_0xc039bc[_0x3ce82a(0x187)]||'','explanation':_0xc039bc[_0x3ce82a(0x14f)]||_0x3ce82a(0x6de),'questionType':_0xc039bc[_0x3ce82a(0x5ac)]||_0x51e0fe,'imageCode':_0xc039bc[_0x3ce82a(0x8b6)]||null};return(_0x4e2581[_0x3ce82a(0x5ac)]===_0x3ce82a(0x2ac)||_0x4e2581[_0x3ce82a(0x5ac)]==='fill_in_with_choices'||_0x4e2581[_0x3ce82a(0x5ac)]==='mixed'&&_0xc039bc[_0x3ce82a(0xbd3)])&&(_0x4e2581['options']=_0xc039bc[_0x3ce82a(0xbd3)]||[],_0x4e2581[_0x3ce82a(0x4fa)]=_0xc039bc[_0x3ce82a(0x4fa)]!==undefined?_0xc039bc[_0x3ce82a(0x4fa)]:0x0),(_0x4e2581[_0x3ce82a(0x5ac)]===_0x3ce82a(0xb64)||_0x4e2581[_0x3ce82a(0x5ac)]===_0x3ce82a(0x1f3)||_0x4e2581['questionType']===_0x3ce82a(0xb95)&&_0xc039bc[_0x3ce82a(0x5ec)])&&(_0x4e2581['idealAnswer']=_0xc039bc[_0x3ce82a(0x5ec)]||''),_0x4e2581[_0x3ce82a(0x5ac)]===_0x3ce82a(0x1dd)&&(_0x4e2581['correctAnswer']=_0xc039bc[_0x3ce82a(0x7b8)]===!![]),_0x4e2581['questionType']===_0x3ce82a(0xb55)&&(_0x4e2581[_0x3ce82a(0xa68)]=_0xc039bc['stem']||'',_0x4e2581[_0x3ce82a(0x76c)]=_0xc039bc[_0x3ce82a(0x76c)]||'',_0x4e2581[_0x3ce82a(0xa84)]=_0xc039bc['allResponses']||[]),_0x4e2581;}),_0x1cad1e={'topic':_0x3db07b,'quizType':currentQuizData[_0x2b7fcd(0xbe2)]||_0x2b7fcd(0x2ac),'questions':_0x39b7cf,'projectId':_0x40ebec,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2b7fcd(0x63c),'settings':_0x4d144d,'quizMode':_0x4022fe?_0x2b7fcd(0x2a8):_0x2b7fcd(0x50e),'pairedQuizId':null,'lessonPlan':null};let _0x237de3;while(!![]){_0x237de3=Math[_0x2b7fcd(0x1c8)](0x3e8+Math[_0x2b7fcd(0xaeb)]()*0x2328)[_0x2b7fcd(0x42f)]();const _0x36b9e5=await getDoc(doc(db,_0x2b7fcd(0xc14)+appId+_0x2b7fcd(0x42c),_0x237de3));if(!_0x36b9e5[_0x2b7fcd(0xfc)]())break;}await setDoc(doc(db,_0x2b7fcd(0xc14)+appId+_0x2b7fcd(0x42c),_0x237de3),_0x1cad1e);if(_0x19c605&&currentBlueprintProjectId){console[_0x2b7fcd(0x7d6)](_0x2b7fcd(0x797)+_0x237de3+_0x2b7fcd(0x8c8)+_0x19c605);try{const _0x294d2e=doc(db,_0x2b7fcd(0xc14)+appId+_0x2b7fcd(0x41d),currentBlueprintProjectId);await updateDoc(_0x294d2e,{['topics.'+_0x19c605+_0x2b7fcd(0xa04)]:arrayUnion(_0x237de3)});}catch(_0x2c91bc){console[_0x2b7fcd(0x13b)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x2c91bc);}}currentQuizData[_0x2b7fcd(0xad7)]=_0x4d144d,currentQuizData['id']=_0x237de3;const _0x25cfe9=document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x3d3));_0x25cfe9[_0x2b7fcd(0x322)]=_0x2b7fcd(0x3f6)+_0x237de3+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0xb5c))['addEventListener'](_0x2b7fcd(0x22c),()=>copyTextToClipboard(_0x237de3,_0x2b7fcd(0x339))),document[_0x2b7fcd(0x7a2)]('start-live-race-generated-btn')[_0x2b7fcd(0x6d5)]('click',()=>handleStartLiveRace(_0x237de3)),document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x8df))[_0x2b7fcd(0x6d5)](_0x2b7fcd(0x22c),()=>startPresentation(currentQuizData)),document[_0x2b7fcd(0x7a2)](_0x2b7fcd(0x1ef))[_0x2b7fcd(0x6d5)](_0x2b7fcd(0x22c),startAdminTest),showMessage(_0x2b7fcd(0xb65));}catch(_0x360c12){console[_0x2b7fcd(0x13b)]('Error\x20saving\x20quiz:',_0x360c12),showMessage(_0x2b7fcd(0x3c8));}finally{_0x3c33d7[_0x2b7fcd(0xc47)]=![],_0x3c33d7['innerHTML']=_0x2b7fcd(0xb6c);}}function promptForProjectAndSave(){const _0x86ac0f=_0x15116f,_0x22d61a=document['getElementById'](_0x86ac0f(0xa56)),_0x3da0ee=document['getElementById'](_0x86ac0f(0xa9e)),_0x3f1679=_0x22d61a[_0x86ac0f(0xba0)]('h3'),_0xf5c5fa=document[_0x86ac0f(0x7a2)](_0x86ac0f(0x20b));_0x3f1679[_0x86ac0f(0x930)]=_0x86ac0f(0x6c8),_0xf5c5fa[_0x86ac0f(0x930)]='เลือกและบันทึก';allProjects[_0x86ac0f(0x987)]===0x0?(_0x3da0ee[_0x86ac0f(0x322)]=_0x86ac0f(0x655),_0xf5c5fa[_0x86ac0f(0xc47)]=!![]):(_0x3da0ee[_0x86ac0f(0x322)]=allProjects['map'](_0x277489=>_0x86ac0f(0x559)+_0x277489['id']+'\x22>'+_0x277489[_0x86ac0f(0x208)]+_0x86ac0f(0x76d))[_0x86ac0f(0x935)](''),_0xf5c5fa[_0x86ac0f(0xc47)]=![]);_0x22d61a[_0x86ac0f(0x6e6)]['remove']('hidden');const _0x4d2e4d=()=>{const _0x1142d6=_0x86ac0f,_0x129943=_0x3da0ee[_0x1142d6(0x682)];_0x129943?(currentProjectId=_0x129943,_0x22d61a[_0x1142d6(0x6e6)][_0x1142d6(0x360)](_0x1142d6(0x106)),saveQuiz(),_0x3f1679['textContent']=_0x1142d6(0xb3d),_0xf5c5fa['textContent']=_0x1142d6(0x3a7),_0xf5c5fa[_0x1142d6(0x770)](_0x1142d6(0x22c),_0x4d2e4d),_0xf5c5fa[_0x1142d6(0x6d5)](_0x1142d6(0x22c),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0xf5c5fa[_0x86ac0f(0x770)](_0x86ac0f(0x22c),confirmMoveQuiz),_0xf5c5fa[_0x86ac0f(0x6d5)]('click',_0x4d2e4d);}function copyTextToClipboard(_0x1c7567,_0x4a83cf){const _0x4dcfde=_0x15116f,_0x5a7918=document[_0x4dcfde(0x870)](_0x4dcfde(0x9c3));_0x5a7918[_0x4dcfde(0x682)]=_0x1c7567,_0x5a7918[_0x4dcfde(0x1af)][_0x4dcfde(0x3b6)]='fixed',_0x5a7918[_0x4dcfde(0x1af)][_0x4dcfde(0x9c1)]='0',document['body'][_0x4dcfde(0xc10)](_0x5a7918),_0x5a7918[_0x4dcfde(0x24e)](),_0x5a7918[_0x4dcfde(0x579)]();try{const _0x45e291=document['execCommand'](_0x4dcfde(0x8a6));showMessage(_0x45e291?_0x4a83cf:_0x4dcfde(0x7d0));}catch(_0x475954){showMessage(_0x4dcfde(0x7d0)),console[_0x4dcfde(0x13b)](_0x4dcfde(0x48c),_0x475954);}document['body'][_0x4dcfde(0x962)](_0x5a7918);}function listenForProjectQuizzes(_0x5781e7){const _0x5d5f6a=_0x15116f,_0x38c8d6=collection(db,_0x5d5f6a(0xc14)+appId+_0x5d5f6a(0x42c)),_0x1b67f1=query(_0x38c8d6,where(_0x5d5f6a(0xb9b),'==',_0x5781e7));unsubscribeQuizzesListener=onSnapshot(_0x1b67f1,async _0x14f8ed=>{const _0x2e7ade=_0x5d5f6a;allQuizzes=_0x14f8ed[_0x2e7ade(0x610)][_0x2e7ade(0x217)](_0x3adf05=>({'id':_0x3adf05['id'],..._0x3adf05[_0x2e7ade(0xc6b)]()})),renderQuizzes();},_0x57a2d6=>{const _0x42d65c=_0x5d5f6a;console['error'](_0x42d65c(0x740),_0x57a2d6),document[_0x42d65c(0x7a2)](_0x42d65c(0x4c5))['innerHTML']=_0x42d65c(0xaab);});}async function renderQuizzes(){const _0x2b80f1=_0x15116f,_0x432839=document[_0x2b80f1(0x7a2)](_0x2b80f1(0x4c5)),_0x192042=document[_0x2b80f1(0x7a2)](_0x2b80f1(0x543))[_0x2b80f1(0x682)]['toLowerCase']();let _0xa09cff;currentProjectId===_0x2b80f1(0x4b5)?_0xa09cff=starredQuizzes:_0xa09cff=allQuizzes;let _0x2ce845=_0xa09cff[_0x2b80f1(0x431)](_0x134cda=>_0x134cda[_0x2b80f1(0xc63)][_0x2b80f1(0x53c)]()[_0x2b80f1(0x679)](_0x192042));_0x2ce845[_0x2b80f1(0x2ea)]((_0x335312,_0x5627a8)=>new Date(_0x5627a8[_0x2b80f1(0x376)])-new Date(_0x335312[_0x2b80f1(0x376)]));if(_0x2ce845[_0x2b80f1(0x987)]===0x0){_0x432839[_0x2b80f1(0x322)]=_0x2b80f1(0x6a3);return;}const _0x922d0a={},_0x1d6e6c=_0x2ce845[_0x2b80f1(0x217)](async _0x1cf3fc=>{const _0x594f54=_0x2b80f1,_0x30e290=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1cf3fc['id']+_0x594f54(0x68c)),_0x37b874=await getDocs(_0x30e290);_0x922d0a[_0x1cf3fc['id']]=_0x37b874[_0x594f54(0x84a)];});await Promise[_0x2b80f1(0x458)](_0x1d6e6c);let _0x76129d='';_0x2ce845['forEach'](_0x333d0e=>{const _0x52ead2=_0x2b80f1,_0xd4ccb2=_0x922d0a[_0x333d0e['id']]||0x0,_0x39a341=_0x333d0e['status']||_0x52ead2(0x63c),_0x4d7eaa=_0x333d0e[_0x52ead2(0xad7)]?.[_0x52ead2(0xc3e)]||_0x52ead2(0x799);let _0x211a72='',_0x130314='';const _0x5e2e75=new Date();let _0x20aeb4=_0x39a341;if(_0x39a341===_0x52ead2(0x156)){const _0x31c58b=_0x333d0e[_0x52ead2(0x992)]?new Date(_0x333d0e['startTime']):null,_0x1c9bfb=_0x333d0e[_0x52ead2(0x9bd)]?new Date(_0x333d0e[_0x52ead2(0x9bd)]):null;if(_0x1c9bfb&&_0x5e2e75>_0x1c9bfb)_0x20aeb4=_0x52ead2(0x1c1);else _0x31c58b&&_0x5e2e75<_0x31c58b?_0x20aeb4=_0x52ead2(0xb93):_0x20aeb4=_0x52ead2(0x63c);}switch(_0x20aeb4){case _0x52ead2(0x1c1):_0x211a72='ปิดใช้งาน',_0x130314=_0x52ead2(0x528);break;case _0x52ead2(0xb93):_0x211a72=_0x52ead2(0x163),_0x130314=_0x52ead2(0x452);break;case _0x52ead2(0x63c):_0x211a72=_0x4d7eaa!==_0x52ead2(0x799)?_0x52ead2(0x3cc):'เปิดใช้งาน',_0x130314=_0x52ead2(0x411);break;default:_0x211a72='ตั้งเวลา\x20(เปิด)',_0x130314=_0x52ead2(0x411);break;}let _0x32359f='';const _0x14a9c3={'day':_0x52ead2(0xb24),'month':_0x52ead2(0xb24),'year':_0x52ead2(0x220),'hour':_0x52ead2(0xb24),'minute':_0x52ead2(0xb24),'hour12':![]};if(_0x39a341===_0x52ead2(0x156)){if(_0x333d0e[_0x52ead2(0x992)])_0x32359f+=_0x52ead2(0x2d3)+new Date(_0x333d0e[_0x52ead2(0x992)])[_0x52ead2(0x6a4)](_0x52ead2(0x78d),_0x14a9c3)+_0x52ead2(0x7db);if(_0x333d0e[_0x52ead2(0x9bd)])_0x32359f+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x333d0e[_0x52ead2(0x9bd)])[_0x52ead2(0x6a4)](_0x52ead2(0x78d),_0x14a9c3)+'</p>';}let _0x31f729='';if(_0x333d0e['pairedQuizId']){const _0x4fc327=allQuizzes[_0x52ead2(0x22a)](_0x3dc41b=>_0x3dc41b['id']===_0x333d0e['pairedQuizId']);if(_0x4fc327){let _0x41d32f,_0x4cb66c;new Date(_0x333d0e[_0x52ead2(0x376)])<new Date(_0x4fc327['createdAt'])?(_0x41d32f=_0x333d0e['id'],_0x4cb66c=_0x4fc327['id']):(_0x41d32f=_0x4fc327['id'],_0x4cb66c=_0x333d0e['id']),_0x31f729+=_0x52ead2(0xa3f)+_0x4cb66c+_0x52ead2(0x211)+_0x41d32f+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x333d0e['quizMode']===_0x52ead2(0x2a8)&&(_0x31f729+=_0x52ead2(0xa17)+_0x333d0e['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x333d0e[_0x52ead2(0x221)]===_0x52ead2(0x2a8)&&_0xd4ccb2>0x0)_0x31f729+=_0x52ead2(0xa17)+_0x333d0e['id']+_0x52ead2(0x37a);else!_0x333d0e[_0x52ead2(0x98f)]&&_0x333d0e[_0x52ead2(0x221)]!==_0x52ead2(0x2a8)&&_0xd4ccb2>0x0&&(_0x31f729+=_0x52ead2(0xa17)+_0x333d0e['id']+_0x52ead2(0x1a6));let _0x3a95c1='';_0x333d0e[_0x52ead2(0x98f)]?_0x3a95c1=_0x52ead2(0x819)+_0x333d0e['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x3a95c1=_0x52ead2(0x819)+_0x333d0e['id']+_0x52ead2(0x333),_0x76129d+=_0x52ead2(0xc5f)+_0x333d0e['id']+_0x52ead2(0x82d)+_0x333d0e[_0x52ead2(0xc63)]+_0x52ead2(0x722)+_0x333d0e[_0x52ead2(0x72a)][_0x52ead2(0x987)]+_0x52ead2(0xa44)+new Date(_0x333d0e[_0x52ead2(0x376)])[_0x52ead2(0x6a4)]('th-TH')+_0x52ead2(0xaa0)+_0xd4ccb2+_0x52ead2(0x828)+_0x32359f+_0x52ead2(0x7d2)+_0x130314+'\x22>'+_0x211a72+_0x52ead2(0x9a7)+_0x333d0e['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x333d0e['id']+_0x52ead2(0x873)+(_0x333d0e['isStarred']?_0x52ead2(0x4c7):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31f729+_0x52ead2(0x6c2)+_0x333d0e['id']+_0x52ead2(0x9f5)+_0x333d0e['id']+_0x52ead2(0xbab)+_0x333d0e['id']+_0x52ead2(0x5b1)+_0x333d0e['id']+_0x52ead2(0x4e5)+_0x333d0e['id']+_0x52ead2(0x1bb)+_0x333d0e['id']+_0x52ead2(0xaf8)+_0x333d0e['id']+_0x52ead2(0x258)+_0x333d0e[_0x52ead2(0xc63)]+_0x52ead2(0x5a4)+_0x333d0e['id']+_0x52ead2(0x988)+_0x333d0e['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a95c1+_0x52ead2(0x840)+_0x333d0e['id']+_0x52ead2(0x43f)+_0x333d0e['id']+_0x52ead2(0x775)+_0x333d0e['id']+_0x52ead2(0xbf0)+_0x333d0e['id']+_0x52ead2(0x771)+_0x333d0e['id']+_0x52ead2(0x8e9)+_0x333d0e['id']+_0x52ead2(0x60d)+_0x333d0e['id']+_0x52ead2(0x607)+_0x333d0e['id']+_0x52ead2(0x258)+_0x333d0e['topic']+_0x52ead2(0x7a5)+_0x333d0e['id']+_0x52ead2(0xc68);}),_0x432839['innerHTML']=_0x76129d,document[_0x2b80f1(0x17a)]('.quiz-result-card')[_0x2b80f1(0x1b7)](_0x5ec4cb=>{const _0x4f421c=_0x2b80f1;_0x5ec4cb[_0x4f421c(0x6d5)](_0x4f421c(0x22c),()=>{const _0x3a4aca=_0x4f421c,_0x4e109b=_0x5ec4cb[_0x3a4aca(0xb1e)][_0x3a4aca(0x502)];showQuizDetailView(_0x4e109b);});});}async function handleUnpairQuiz(_0x5ef435){const _0x339641=_0x15116f,_0x235663=allQuizzes[_0x339641(0x22a)](_0x7f13ce=>_0x7f13ce['id']===_0x5ef435);if(!_0x235663||!_0x235663[_0x339641(0x98f)]){showMessage(_0x339641(0xb7f));return;}showConfirmation(_0x339641(0xc53),async()=>{const _0x522e73=_0x339641;try{const _0x17210d=doc(db,'artifacts/'+appId+_0x522e73(0x42c),_0x5ef435),_0x4537a1=doc(db,_0x522e73(0xc14)+appId+_0x522e73(0x42c),_0x235663['pairedQuizId']),_0x352d9f=writeBatch(db);_0x352d9f[_0x522e73(0x296)](_0x17210d,{'pairedQuizId':null}),_0x352d9f[_0x522e73(0x296)](_0x4537a1,{'pairedQuizId':null}),await _0x352d9f['commit'](),showMessage(_0x522e73(0xbc7));}catch(_0x38a0c0){console[_0x522e73(0x13b)]('Error\x20unpairing\x20quizzes:',_0x38a0c0),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x1bfe0d,_0x5a5730){const _0x5bd74f=_0x15116f,_0x1088bc=window[_0x5bd74f(0x9f1)]('','_blank'),_0x3f6c4a=_0x5bd74f(0x1bc)+_0x5a5730[_0x5bd74f(0xc63)]+_0x5bd74f(0x81c)+_0x5a5730[_0x5bd74f(0xc63)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bfe0d[_0x5bd74f(0x328)]['map'](_0x32894b=>_0x5bd74f(0x731)+_0x32894b+_0x5bd74f(0x4b0))[_0x5bd74f(0x935)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x1bfe0d[_0x5bd74f(0x675)]+_0x5bd74f(0x864)+_0x1bfe0d['practiceProblems'][_0x5bd74f(0x217)](_0x2132ba=>_0x5bd74f(0x5ba)+_0x2132ba[_0x5bd74f(0x4b4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x2132ba[_0x5bd74f(0x1aa)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5bd74f(0x935)]('')+_0x5bd74f(0x320);_0x1088bc['document'][_0x5bd74f(0x5c1)](_0x3f6c4a),_0x1088bc['document'][_0x5bd74f(0xb34)](),_0x1088bc[_0x5bd74f(0xaf0)]=function(){setTimeout(()=>{const _0xefec5b=_0x1996;_0x1088bc[_0xefec5b(0x388)]();},0x3e8);};}async function handleAiFixFormula(_0x3fdf47){const _0x33eaca=_0x15116f,_0x571685=document[_0x33eaca(0xba0)]('.question-editor-item[data-q-index=\x22'+_0x3fdf47+'\x22]');if(!_0x571685)return;const _0x38dda7=_0x571685[_0x33eaca(0xb1e)][_0x33eaca(0x44d)],_0x323e3f=_0x571685[_0x33eaca(0xba0)]('.ai-fix-formula-btn');let _0xbd6a47={'question':_0x571685[_0x33eaca(0xba0)](_0x33eaca(0x9c3))[_0x33eaca(0x682)]};switch(_0x38dda7){case'multiple_choice':_0xbd6a47[_0x33eaca(0xbd3)]=Array['from'](_0x571685['querySelectorAll'](_0x33eaca(0x6ec)))[_0x33eaca(0x217)](_0x3cb69d=>_0x3cb69d[_0x33eaca(0x682)]);break;case _0x33eaca(0xb64):_0xbd6a47[_0x33eaca(0x5ec)]=_0x571685[_0x33eaca(0xba0)](_0x33eaca(0xc4b))[_0x33eaca(0x682)];break;case _0x33eaca(0xb55):_0xbd6a47[_0x33eaca(0x76c)]=_0x571685[_0x33eaca(0xba0)](_0x33eaca(0x2ee))[_0x33eaca(0x682)];break;}_0x323e3f[_0x33eaca(0x322)]=_0x33eaca(0xb8a),_0x323e3f['disabled']=!![];try{const _0x2c91c6=_0x33eaca(0x142)+JSON[_0x33eaca(0x352)](_0xbd6a47)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x57440d={'type':_0x33eaca(0x8c9),'properties':{'fixedData':{'type':_0x33eaca(0x8c9),'properties':{'question':{'type':_0x33eaca(0x87c)},'options':{'type':_0x33eaca(0x587),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x33eaca(0x87c)},'correctResponse':{'type':_0x33eaca(0x87c)}},'required':['question']}},'required':[_0x33eaca(0x2b0)]},_0x237f68=await callAnalysisApi(_0x2c91c6,_0x57440d);if(_0x237f68&&_0x237f68[_0x33eaca(0x2b0)]){const _0x35c674=_0x237f68['fixedData'];_0x571685[_0x33eaca(0xba0)](_0x33eaca(0x9c3))[_0x33eaca(0x682)]=_0x35c674['question']||_0xbd6a47[_0x33eaca(0x4b4)];switch(_0x38dda7){case'multiple_choice':_0x35c674[_0x33eaca(0xbd3)]&&_0x35c674['options']['length']>0x0&&_0x571685[_0x33eaca(0x17a)](_0x33eaca(0x6ec))[_0x33eaca(0x1b7)]((_0x561277,_0x158387)=>{const _0x4ac235=_0x33eaca;_0x561277[_0x4ac235(0x682)]=_0x35c674[_0x4ac235(0xbd3)][_0x158387]||_0xbd6a47[_0x4ac235(0xbd3)][_0x158387];});break;case _0x33eaca(0xb64):_0x571685[_0x33eaca(0xba0)](_0x33eaca(0xc4b))['value']=_0x35c674[_0x33eaca(0x5ec)]||_0xbd6a47['idealAnswer'];break;case'matching_item':_0x571685[_0x33eaca(0xba0)](_0x33eaca(0x2ee))[_0x33eaca(0x682)]=_0x35c674[_0x33eaca(0x76c)]||_0xbd6a47[_0x33eaca(0x76c)];break;}if(_0xbd6a47[_0x33eaca(0x4b4)]!==_0x35c674[_0x33eaca(0x4b4)])try{const _0xa03b48=collection(db,'artifacts/'+appId+_0x33eaca(0xacf));await addDoc(_0xa03b48,{'broken':_0xbd6a47[_0x33eaca(0x4b4)],'fixed':_0x35c674[_0x33eaca(0x4b4)],'createdAt':serverTimestamp()});}catch(_0x2ad2e0){console[_0x33eaca(0x13b)](_0x33eaca(0x936),_0x2ad2e0);}showMessage(_0x33eaca(0x4c8));}else throw new Error(_0x33eaca(0x341));}catch(_0x3025ce){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x3025ce),showMessage(_0x33eaca(0x36e));}finally{_0x323e3f[_0x33eaca(0x322)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x323e3f['disabled']=![];}}async function handleGenerateLessonPlan(_0x54099b){const _0xe898fb=_0x15116f;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x3054c9=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x54099b),_0x77bf45=await getDoc(_0x3054c9);if(!_0x77bf45['exists']())throw new Error(_0xe898fb(0xc0a));const _0x4936d5={'id':_0x54099b,..._0x77bf45[_0xe898fb(0xc6b)]()},_0x1b58b0=collection(db,_0xe898fb(0xc14)+appId+_0xe898fb(0x42c),_0x54099b,'submissions'),_0x1b679c=await getDocs(_0x1b58b0),_0x37e0bc=_0x1b679c[_0xe898fb(0x610)]['map'](_0x465016=>_0x465016['data']());if(_0x37e0bc[_0xe898fb(0x987)]===0x0)throw new Error(_0xe898fb(0xb45));const _0x6c1434=calculateItemAnalysis(_0x4936d5,_0x37e0bc)[_0xe898fb(0x183)],_0x5afd77=calculateDistractorAnalysis(_0x4936d5,_0x37e0bc),_0x13f74b=_0x15ff30=>{const _0x38df22=_0xe898fb;if(!_0x15ff30)return'';return _0x15ff30[_0x38df22(0x892)](/\\/g,'\x5c\x5c')[_0x38df22(0x892)](/"/g,'\x5c\x22')[_0x38df22(0x892)](/\n/g,'\x5cn');};let _0x5e8789=_0xe898fb(0xb6b);_0x4936d5[_0xe898fb(0x72a)][_0xe898fb(0x1b7)]((_0x5e7f8e,_0x2a237e)=>{const _0x46bb83=_0xe898fb,_0x668c56=_0x6c1434[_0x2a237e]?.['p'][_0x46bb83(0xab4)](0x2)||_0x46bb83(0xaee),_0x8750e7=_0x6c1434[_0x2a237e]?.['r'][_0x46bb83(0xab4)](0x2)||_0x46bb83(0xaee),_0x4141f4=_0x13f74b(_0x5e7f8e[_0x46bb83(0x187)]||_0x5e7f8e[_0x46bb83(0xa68)]);_0x5e8789+=_0x46bb83(0x6c5)+(_0x2a237e+0x1)+_0x46bb83(0x3de)+_0x668c56+_0x46bb83(0x5be)+_0x8750e7+_0x46bb83(0x911)+_0x4141f4+'\x5cn';if(_0x5e7f8e['questionType']===_0x46bb83(0x2ac)&&_0x5afd77[_0x2a237e]){const _0x13da0f=_0x5afd77[_0x2a237e],_0x173bb8=Object[_0x46bb83(0x377)](_0x13da0f)[_0x46bb83(0x431)](_0x2bfddc=>parseInt(_0x2bfddc)!==_0x5e7f8e[_0x46bb83(0x4fa)])[_0x46bb83(0x2ea)]((_0x5594a0,_0xd527da)=>_0x13da0f[_0xd527da][_0x46bb83(0x8be)]-_0x13da0f[_0x5594a0][_0x46bb83(0x8be)])[0x0];if(_0x173bb8&&_0x13da0f[_0x173bb8][_0x46bb83(0x8be)]>0x0){const _0x5ad14c=_0x13f74b(_0x13da0f[_0x173bb8][_0x46bb83(0x9ef)]);_0x5e8789+=_0x46bb83(0xb46)+_0x5ad14c+'\x22\x5cn';}}});const _0x28505f=_0xe898fb(0x3d2)+_0x4936d5[_0xe898fb(0xc63)]+_0xe898fb(0x786)+_0x5e8789+_0xe898fb(0xa25),_0x4e49a7={'type':_0xe898fb(0x8c9),'properties':{'learningGaps':{'type':_0xe898fb(0x587),'items':{'type':_0xe898fb(0x87c)}},'teachingContent':{'type':_0xe898fb(0x87c)},'practiceProblems':{'type':_0xe898fb(0x587),'items':{'type':_0xe898fb(0x8c9),'properties':{'question':{'type':'STRING'},'solution':{'type':_0xe898fb(0x87c)}}}}},'required':[_0xe898fb(0x328),_0xe898fb(0x675),_0xe898fb(0xc64)]},_0x4aecf6=await callAnalysisApi(_0x28505f,_0x4e49a7);await updateDoc(_0x3054c9,{'lessonPlan':_0x4aecf6});const _0x4cd01b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x4936d5[_0xe898fb(0xc63)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x4aecf6['learningGaps'][_0xe898fb(0x217)](_0x1da6fd=>_0xe898fb(0x731)+_0x1da6fd+_0xe898fb(0x4b0))[_0xe898fb(0x935)]('')+_0xe898fb(0x26c)+_0x4aecf6[_0xe898fb(0x675)]+_0xe898fb(0x7b7)+_0x4aecf6[_0xe898fb(0xc64)][_0xe898fb(0x217)](_0x318b7c=>_0xe898fb(0x8a1)+_0x318b7c[_0xe898fb(0x4b4)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x318b7c[_0xe898fb(0x1aa)]+_0xe898fb(0xa1d))[_0xe898fb(0x935)]('')+_0xe898fb(0xbd5);document[_0xe898fb(0x7a2)](_0xe898fb(0x798))[_0xe898fb(0x930)]=_0xe898fb(0x3c1)+_0x4936d5[_0xe898fb(0xc63)],document[_0xe898fb(0x7a2)](_0xe898fb(0x52a))[_0xe898fb(0x322)]=_0x4cd01b,document[_0xe898fb(0x7a2)]('lesson-plan-modal')[_0xe898fb(0x6e6)][_0xe898fb(0x367)](_0xe898fb(0x106));if(window[_0xe898fb(0x8a8)])MathJax[_0xe898fb(0x107)]();messageModal[_0xe898fb(0x6e6)]['add']('hidden');}catch(_0x5bf9e5){console[_0xe898fb(0x13b)](_0xe898fb(0x81d),_0x5bf9e5),showMessage(_0xe898fb(0x9ee)+_0x5bf9e5[_0xe898fb(0x56e)]);}}async function handleDuplicateQuiz(_0x1db2a7){const _0x323a5d=_0x15116f;try{const _0x28e86=doc(db,'artifacts/'+appId+_0x323a5d(0x42c),_0x1db2a7),_0x4c3111=await getDoc(_0x28e86);if(_0x4c3111[_0x323a5d(0xfc)]()){const _0x4d1f4b=_0x4c3111['data']();let _0x1131d5='',_0x274b71=_0x323a5d(0x50e),_0x4ee0ca=null;if(_0x4d1f4b[_0x323a5d(0x221)]==='pre-test'){let _0x3f51f2=_0x4d1f4b[_0x323a5d(0xc63)][_0x323a5d(0x892)](_0x323a5d(0x728),'')[_0x323a5d(0x6ad)]();_0x1131d5=_0x323a5d(0x5bb)+_0x3f51f2,_0x274b71=_0x323a5d(0x256),_0x4ee0ca=_0x1db2a7;}else _0x1131d5=_0x323a5d(0x282)+_0x4d1f4b[_0x323a5d(0xc63)];const _0x28f43a={..._0x4d1f4b,'topic':_0x1131d5,'createdAt':new Date()[_0x323a5d(0x25b)](),'quizMode':_0x274b71,'pairedQuizId':_0x4ee0ca};let _0x232396;while(!![]){_0x232396=Math[_0x323a5d(0x1c8)](0x3e8+Math[_0x323a5d(0xaeb)]()*0x2328)[_0x323a5d(0x42f)]();const _0x2813ee=await getDoc(doc(db,'artifacts/'+appId+_0x323a5d(0x42c),_0x232396));if(!_0x2813ee[_0x323a5d(0xfc)]())break;}const _0x1937f1=doc(db,'artifacts/'+appId+_0x323a5d(0x42c),_0x232396);await setDoc(_0x1937f1,_0x28f43a),_0x28f43a[_0x323a5d(0x221)]===_0x323a5d(0x256)&&await updateDoc(_0x28e86,{'pairedQuizId':_0x232396}),showMessage(_0x323a5d(0x3fc));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0xf9eb7a){console[_0x323a5d(0x13b)](_0x323a5d(0x4cb),_0xf9eb7a),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2a88c8,_0x3a988a=!![]){const _0x15eed0=_0x15116f;try{const _0x220b31=writeBatch(db),_0x549b46=collection(db,_0x15eed0(0xc14)+appId+_0x15eed0(0x6b0)+_0x2a88c8+_0x15eed0(0x68c)),_0xe1b4af=await getDocs(_0x549b46);_0xe1b4af[_0x15eed0(0x1b7)](_0x47fbf0=>{const _0x31aec2=_0x15eed0;_0x220b31[_0x31aec2(0x48f)](doc(_0x549b46,_0x47fbf0['id']));});const _0xf23f3c=doc(db,'artifacts/'+appId+_0x15eed0(0x42c),_0x2a88c8);_0x220b31[_0x15eed0(0x48f)](_0xf23f3c),await _0x220b31[_0x15eed0(0x18c)]();try{console['log']('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x2a88c8+_0x15eed0(0x89c));const _0x4ba8e0=collection(db,_0x15eed0(0xc14)+appId+_0x15eed0(0x41d)),_0x4616ed=await getDocs(_0x4ba8e0),_0xfcb49f=[];_0x4616ed[_0x15eed0(0x1b7)](_0x42c542=>{const _0x508811=_0x15eed0,_0x484e8d=_0x42c542[_0x508811(0xc6b)](),_0x151abe=_0x484e8d['topics']||{};let _0x56b3ad=![];for(const _0x33d4be in _0x151abe){const _0xba1607=_0x151abe[_0x33d4be];if(_0xba1607[_0x508811(0x97c)]&&_0xba1607[_0x508811(0x97c)][_0x508811(0x679)](_0x2a88c8)){_0x56b3ad=!![];const _0xd3a5f4=doc(db,'artifacts/'+appId+_0x508811(0x41d),_0x42c542['id']),_0x23b6b0=updateDoc(_0xd3a5f4,{[_0x508811(0x6d3)+_0x33d4be+_0x508811(0xa04)]:arrayRemove(_0x2a88c8)});_0xfcb49f[_0x508811(0x8e7)](_0x23b6b0);}}}),_0xfcb49f[_0x15eed0(0x987)]>0x0&&(await Promise['all'](_0xfcb49f),console[_0x15eed0(0x7d6)](_0x15eed0(0x147)+_0xfcb49f[_0x15eed0(0x987)]+_0x15eed0(0xb53)+_0x2a88c8+'.'));}catch(_0x7b3d69){console[_0x15eed0(0x13b)](_0x15eed0(0x652),_0x7b3d69);}_0x3a988a&&showMessage(_0x15eed0(0xbe1));}catch(_0x2328e6){console[_0x15eed0(0x13b)](_0x15eed0(0x817),_0x2328e6),_0x3a988a&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x2a1a0b){const _0x12ee58=_0x15116f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x12ee58(0x31b));try{const _0x48a8ff=doc(db,_0x12ee58(0xc14)+appId+'/public/data/quizzes',_0x2a1a0b),_0x322e7c=await getDoc(_0x48a8ff);if(!_0x322e7c[_0x12ee58(0xfc)]()){showMessage(_0x12ee58(0xc0a));return;}const _0x4ed81a={'id':_0x322e7c['id'],..._0x322e7c[_0x12ee58(0xc6b)]()};currentQuizData=_0x4ed81a;const _0x49ccb2=doc(db,_0x12ee58(0xc14)+appId+_0x12ee58(0x5cb),_0x4ed81a[_0x12ee58(0xb9b)]),_0x25785a=await getDoc(_0x49ccb2);_0x25785a[_0x12ee58(0xfc)]()?(currentProjectData=_0x25785a[_0x12ee58(0xc6b)](),currentProjectId=_0x4ed81a[_0x12ee58(0xb9b)]):(currentProjectData={'students':[]},currentProjectId=_0x4ed81a['projectId']);document[_0x12ee58(0x7a2)]('results-quiz-title')[_0x12ee58(0x930)]=_0x4ed81a[_0x12ee58(0xc63)],document[_0x12ee58(0x7a2)](_0x12ee58(0xa58))[_0x12ee58(0x930)]=_0x2a1a0b;const _0x10fbcf=collection(db,_0x12ee58(0xc14)+appId+'/public/data/quizzes',_0x2a1a0b,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x10fbcf,_0x48046e=>{const _0x40fdc4=_0x12ee58,_0x28dd30=_0x48046e[_0x40fdc4(0x610)]['map'](_0xe5669c=>({'id':_0xe5669c['id'],..._0xe5669c[_0x40fdc4(0xc6b)]()}));currentSubmissions=_0x28dd30;const _0x361975=_0x28dd30[_0x40fdc4(0x431)](_0x2d9f28=>_0x2d9f28['attempts']&&_0x2d9f28['attempts'][_0x40fdc4(0x987)]>0x0);renderBehaviorLog(_0x28dd30),renderAnswerGrid(currentProjectData['students'],_0x361975,_0x4ed81a),renderAnalytics(_0x4ed81a,_0x361975),renderQuizResultsTable(currentProjectData['students'],_0x28dd30,_0x4ed81a),renderQuizLeaderboard(_0x361975,_0x4ed81a,'quiz-leaderboard-table-body');}),showView(_0x12ee58(0xc58));}catch(_0x1a3592){console['error'](_0x12ee58(0x52d),_0x1a3592),showMessage(_0x12ee58(0x67c));}}function renderAnswerGrid(_0x5dd3ff,_0x290f58,_0x157068){const _0x363e0e=_0x15116f,_0x243fd1=document['getElementById'](_0x363e0e(0x49a));if(!_0x243fd1)return;if(!_0x5dd3ff||_0x5dd3ff[_0x363e0e(0x987)]===0x0){_0x243fd1[_0x363e0e(0x322)]=_0x363e0e(0xbc4);return;}const _0x4609db=_0x157068[_0x363e0e(0x72a)],_0x2f11ab=_0x290f58[_0x363e0e(0x366)]((_0x379851,_0x386466)=>{const _0x22ac0f=_0x363e0e;return _0x379851[_0x386466[_0x22ac0f(0xb82)]]=_0x386466,_0x379851;},{}),_0x2358f0=_0x338b31=>String[_0x363e0e(0x3c4)](0x41+_0x338b31),_0x239ff1=_0x440ca0=>{const _0x1fe409=_0x363e0e,_0x35781b=_0x440ca0[_0x1fe409(0x5ac)]||_0x157068['quizType'];switch(_0x35781b){case'multiple_choice':return _0x440ca0[_0x1fe409(0xbd3)]&&_0x440ca0['options'][_0x1fe409(0x987)]>_0x440ca0['correctAnswerIndex']?_0x2358f0(_0x440ca0[_0x1fe409(0x4fa)]):'-';case _0x1fe409(0x1dd):const _0x41db31=_0x440ca0[_0x1fe409(0x7b8)]===!![]||String(_0x440ca0[_0x1fe409(0x7b8)])[_0x1fe409(0x53c)]()===_0x1fe409(0x7d1);return _0x41db31?_0x1fe409(0x158):_0x1fe409(0x513);case _0x1fe409(0xb55):return _0x440ca0[_0x1fe409(0x76c)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x5ed8ba=(_0xb20804,_0x1f778e)=>{const _0x11f3e5=_0x363e0e;if(_0x1f778e[_0x11f3e5(0x796)]===null||_0x1f778e['answer']===undefined)return'-';const _0x5657aa=_0xb20804[_0x11f3e5(0x5ac)]||_0x157068[_0x11f3e5(0xbe2)];switch(_0x5657aa){case _0x11f3e5(0x2ac):const _0x4f55a3=_0xb20804[_0x11f3e5(0xbd3)][_0x11f3e5(0xc2b)](_0x4a09da=>_0x4a09da===_0x1f778e[_0x11f3e5(0x50c)]);return _0x4f55a3!==-0x1?_0x2358f0(_0x4f55a3):_0x1f778e[_0x11f3e5(0x50c)]||'-';case'true_false':if(_0x1f778e[_0x11f3e5(0x796)]=='0'||_0x1f778e[_0x11f3e5(0x796)]===!![]||_0x1f778e['answer']===_0x11f3e5(0x7d1))return _0x11f3e5(0x158);return _0x11f3e5(0x513);default:return _0x1f778e['answer'];}};let _0x286243=_0x363e0e(0x73d)+_0x4609db[_0x363e0e(0x217)]((_0x13a5a2,_0x3db591)=>_0x363e0e(0x656)+(_0x3db591+0x1)+_0x363e0e(0x15f))[_0x363e0e(0x935)]('')+_0x363e0e(0x10e)+_0x4609db[_0x363e0e(0x217)](_0x2cac16=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x239ff1(_0x2cac16)+_0x363e0e(0x135))[_0x363e0e(0x935)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x5dd3ff[_0x363e0e(0x1b7)](_0xbb09b8=>{const _0x1a3a76=_0x363e0e;_0x286243+=_0x1a3a76(0x1d4),_0x286243+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0xbb09b8+'</td>';const _0x69460=_0x2f11ab[_0xbb09b8];if(_0x69460){const _0x5c83c8=_0x69460[_0x1a3a76(0x7a1)][_0x69460['attempts'][_0x1a3a76(0x987)]-0x1];_0x4609db[_0x1a3a76(0x1b7)]((_0x10fbf7,_0x21ed93)=>{const _0x557499=_0x1a3a76,_0x5bf7c4=_0x5c83c8[_0x557499(0xc54)][_0x557499(0x22a)](_0x1960dd=>_0x1960dd[_0x557499(0x153)]===_0x10fbf7['id']);if(_0x5bf7c4){let _0x3fb77a='';const _0x5b15d2=_0x5bf7c4[_0x557499(0x653)]===!![],_0x1ee714=_0x5bf7c4[_0x557499(0x98b)]===!![]||_0x5bf7c4[_0x557499(0x98b)]===_0x557499(0x6fd);_0x1ee714?_0x3fb77a=_0x5b15d2?_0x557499(0x104):_0x557499(0xbe3):_0x3fb77a=_0x5b15d2?_0x557499(0x2a3):_0x557499(0x5c9),_0x286243+=_0x557499(0x3a3)+_0x3fb77a+'\x22>'+_0x5ed8ba(_0x10fbf7,_0x5bf7c4)+'</td>';}else _0x286243+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x286243+=_0x4609db[_0x1a3a76(0x217)](()=>_0x1a3a76(0x69a))['join']('');_0x286243+=_0x1a3a76(0x2a1);}),_0x286243+=_0x363e0e(0x62b),_0x243fd1[_0x363e0e(0x322)]=_0x286243;}function renderQuizResultsTable(_0x10c8b5,_0x1aa47a,_0x53f324){const _0x157bc1=_0x15116f,_0x193f69=_0x1aa47a[_0x157bc1(0x366)]((_0x3b5c02,_0x4821f3)=>{const _0x2b6790=_0x157bc1;return _0x3b5c02[_0x4821f3[_0x2b6790(0xb82)]]=_0x4821f3,_0x3b5c02;},{}),_0x298774=document[_0x157bc1(0xba0)]('#results-table\x20thead\x20tr');_0x298774&&!_0x298774[_0x157bc1(0x322)][_0x157bc1(0x679)](_0x157bc1(0x948))&&(_0x298774['innerHTML']+=_0x157bc1(0xb4b));const _0xa263f5=document[_0x157bc1(0x7a2)](_0x157bc1(0x12b));if(!_0x10c8b5||_0x10c8b5['length']===0x0){_0xa263f5[_0x157bc1(0x322)]=_0x157bc1(0x7a0);return;}const _0x1a4bd2=_0x53f324[_0x157bc1(0x12e)]===!![],_0xd6675a=_0x53f324[_0x157bc1(0xad7)]?.[_0x157bc1(0x1d0)]??-0x1;let _0x1e3ee8='';_0x10c8b5['forEach'](_0x4c096b=>{const _0x20925b=_0x157bc1,_0x2cba21=_0x193f69[_0x4c096b];let _0xce8d4d='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x1a4bd2?_0x20925b(0x129):_0x20925b(0x3ec))+'\x22>'+(_0x1a4bd2?_0x20925b(0x8b9):'สอบปกติ')+_0x20925b(0x302);if(_0x2cba21){if(_0x2cba21[_0x20925b(0x7a1)]&&_0x2cba21[_0x20925b(0x7a1)][_0x20925b(0x987)]>0x0){let _0x48be71=_0x1a4bd2?_0x2cba21['bestScore']===_0x2cba21[_0x20925b(0x3ba)]:_0xd6675a!==-0x1&&_0x2cba21[_0x20925b(0x886)]>=_0xd6675a;const _0x224e07=_0x48be71?_0x20925b(0x81b):_0x20925b(0x2b3),_0x1ce145=_0x48be71?'ผ่าน':_0x20925b(0xbd1),_0x34199e='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x224e07+'\x22>'+_0x1ce145+_0x20925b(0x302),_0x18565e=_0x20925b(0x1e1)+(_0x2cba21['attempts']?.[_0x20925b(0x987)]||0x1)+_0x20925b(0x435);_0x1e3ee8+=_0x20925b(0x3f9)+_0x4c096b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x2cba21[_0x20925b(0x886)]+_0x20925b(0xaaf)+_0x2cba21[_0x20925b(0x3ba)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34199e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xce8d4d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x2cba21[_0x20925b(0x8de)]+'\x20/\x20'+_0x2cba21[_0x20925b(0x3ba)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x2cba21['latestScore']+_0x20925b(0xaaf)+_0x2cba21['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x2cba21[_0x20925b(0xa15)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18565e+_0x20925b(0x2d5)+new Date(_0x2cba21[_0x20925b(0x95d)])['toLocaleString'](_0x20925b(0x78d))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x4c096b+_0x20925b(0x260);}else{const _0x3487be=_0x20925b(0x4e6);_0x1e3ee8+=_0x20925b(0x8cf)+_0x4c096b+_0x20925b(0xb8f)+_0xce8d4d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3487be+_0x20925b(0x2d5)+new Date(_0x2cba21[_0x20925b(0x2ba)])[_0x20925b(0x6a4)](_0x20925b(0x78d))+_0x20925b(0x985)+_0x4c096b+_0x20925b(0x260);}}else{const _0x24b0fa=_0x20925b(0x8ef);_0x1e3ee8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4c096b+_0x20925b(0x31f)+_0xce8d4d+_0x20925b(0x621)+_0x24b0fa+_0x20925b(0x844);}}),_0xa263f5['innerHTML']=_0x1e3ee8;}async function confirmRenameQuiz(){const _0x5234e0=_0x15116f,_0x18aa55=document['getElementById']('rename-quiz-input')[_0x5234e0(0x682)][_0x5234e0(0x6ad)]();if(!_0x18aa55){showMessage(_0x5234e0(0x30d));return;}if(!actionTargetId)return;const _0x197225=doc(db,_0x5234e0(0xc14)+appId+_0x5234e0(0x42c),actionTargetId);try{await updateDoc(_0x197225,{'topic':_0x18aa55}),showMessage(_0x5234e0(0xbe0)),renameQuizModal[_0x5234e0(0x6e6)]['add']('hidden'),actionTargetId=null;}catch(_0xe06fe3){console[_0x5234e0(0x13b)]('Error\x20renaming\x20quiz:',_0xe06fe3),showMessage(_0x5234e0(0xf3));}}async function handleMoveQuiz(_0x470949){const _0x468b38=_0x15116f;actionTargetId=_0x470949;const _0x584860=document[_0x468b38(0x7a2)](_0x468b38(0xa9e));_0x584860[_0x468b38(0x322)]=_0x468b38(0x95b),moveQuizModal['classList'][_0x468b38(0x367)]('hidden');try{const _0x25fb76=collection(db,_0x468b38(0xc14)+appId+_0x468b38(0x5cb)),_0x6974e4=await getDocs(_0x25fb76),_0x1777d1=_0x6974e4[_0x468b38(0x610)][_0x468b38(0x217)](_0xe79480=>({'id':_0xe79480['id'],..._0xe79480[_0x468b38(0xc6b)]()})),_0x273a5c=_0x1777d1['filter'](_0x3de8f3=>_0x3de8f3['id']!==currentProjectId);if(_0x273a5c['length']===0x0){_0x584860['innerHTML']=_0x468b38(0xbf7),document[_0x468b38(0x7a2)](_0x468b38(0x20b))['disabled']=!![];return;}_0x584860['innerHTML']=_0x273a5c['map'](_0x2cdd47=>'<option\x20value=\x22'+_0x2cdd47['id']+'\x22>'+_0x2cdd47[_0x468b38(0x208)]+_0x468b38(0x76d))[_0x468b38(0x935)](''),document[_0x468b38(0x7a2)]('confirm-move-quiz-btn')[_0x468b38(0xc47)]=![];}catch(_0x2e0bc4){console[_0x468b38(0x13b)]('Error\x20fetching\x20projects\x20for\x20move:',_0x2e0bc4),showMessage(_0x468b38(0x6d4)),moveQuizModal['classList'][_0x468b38(0x360)](_0x468b38(0x106));}}async function confirmMoveQuiz(){const _0x389b9a=_0x15116f,_0x32f71c=document[_0x389b9a(0x7a2)]('move-quiz-project-select')[_0x389b9a(0x682)];if(!_0x32f71c){showMessage(_0x389b9a(0x387));return;}if(!actionTargetId)return;const _0x236dc2=doc(db,_0x389b9a(0xc14)+appId+_0x389b9a(0x42c),actionTargetId);try{await updateDoc(_0x236dc2,{'projectId':_0x32f71c}),showMessage(_0x389b9a(0x508)),moveQuizModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x44575e){console['error'](_0x389b9a(0x30c),_0x44575e),showMessage(_0x389b9a(0x832));}}async function handleQuizSettings(_0x24be78){const _0x2833c7=_0x15116f;actionTargetId=_0x24be78;const _0x3c63d3=doc(db,_0x2833c7(0xc14)+appId+'/public/data/quizzes',_0x24be78);try{const _0x44779a=await getDoc(_0x3c63d3);if(_0x44779a[_0x2833c7(0xfc)]()){const _0x377068=_0x44779a[_0x2833c7(0xc6b)](),_0x1a5949=_0x377068[_0x2833c7(0xad7)]||{},_0x5f1ed3=_0x377068[_0x2833c7(0x72a)][_0x2833c7(0x987)];document['getElementById'](_0x2833c7(0x123))[_0x2833c7(0x682)]=_0x1a5949[_0x2833c7(0x661)]||_0x2833c7(0x799),document['getElementById'](_0x2833c7(0x6e3))['value']=_0x1a5949[_0x2833c7(0xb83)]||_0x2833c7(0x3e9),document['getElementById'](_0x2833c7(0x7ed))[_0x2833c7(0x682)]=_0x1a5949[_0x2833c7(0xc3e)]||_0x2833c7(0x799),document['getElementById'](_0x2833c7(0xb11))['value']=_0x1a5949['timerDuration']||0xa,document[_0x2833c7(0x7a2)](_0x2833c7(0x8e8))[_0x2833c7(0x682)]=_0x1a5949[_0x2833c7(0x1d0)]||Math[_0x2833c7(0x1c8)](_0x5f1ed3/0x2),document[_0x2833c7(0x7a2)](_0x2833c7(0x8e8))[_0x2833c7(0x829)]=_0x5f1ed3,document['getElementById']('modal-adaptive-quiz-checkbox')['checked']=_0x1a5949['isAdaptive']||![],document[_0x2833c7(0x7a2)]('modal-loop-until-pass-checkbox')[_0x2833c7(0x8cc)]=_0x1a5949[_0x2833c7(0x188)]||![];const _0x508611=_0x1a5949['isConfidenceScoringEnabled']||![];document[_0x2833c7(0x7a2)](_0x2833c7(0xa65))[_0x2833c7(0x8cc)]=_0x508611,document['getElementById']('modal-confidence-mode-select')[_0x2833c7(0x682)]=_0x1a5949[_0x2833c7(0x5cf)]||'checkbox';const _0xd56d37=document[_0x2833c7(0x7a2)](_0x2833c7(0x249));_0xd56d37['classList'][_0x2833c7(0xb38)](_0x2833c7(0x106),!_0x508611),document[_0x2833c7(0x7a2)](_0x2833c7(0x7ed))[_0x2833c7(0x68d)](new Event(_0x2833c7(0x19b))),quizSettingsModal[_0x2833c7(0x6e6)][_0x2833c7(0x367)](_0x2833c7(0x106));}else showMessage(_0x2833c7(0xc0a));}catch(_0x2526ff){console[_0x2833c7(0x13b)](_0x2833c7(0x88a),_0x2526ff),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x2a9c5e=_0x15116f;if(!actionTargetId)return;const _0x17dc08=doc(db,_0x2a9c5e(0xc14)+appId+_0x2a9c5e(0x42c),actionTargetId),_0x301411={'shuffle':document['getElementById'](_0x2a9c5e(0x123))[_0x2a9c5e(0x682)],'resultsDisplay':document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x6e3))[_0x2a9c5e(0x682)],'timerMode':document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x7ed))[_0x2a9c5e(0x682)],'timerDuration':parseInt(document['getElementById'](_0x2a9c5e(0xb11))[_0x2a9c5e(0x682)])||0xa,'passingScore':parseInt(document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x8e8))[_0x2a9c5e(0x682)])||0x0,'isAdaptive':document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x231))[_0x2a9c5e(0x8cc)],'loopUntilPass':document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x937))[_0x2a9c5e(0x8cc)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x2a9c5e(0x7a2)](_0x2a9c5e(0x301))['value']};try{await updateDoc(_0x17dc08,{'settings':_0x301411}),showMessage(_0x2a9c5e(0xbea)),quizSettingsModal['classList'][_0x2a9c5e(0x360)](_0x2a9c5e(0x106)),actionTargetId=null;}catch(_0x5db910){console['error'](_0x2a9c5e(0x822),_0x5db910),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x58c7d9=_0x15116f;if(!actionTargetId)return;const _0x21b914=doc(db,_0x58c7d9(0xc14)+appId+_0x58c7d9(0x42c),actionTargetId),_0x32fbe7=document[_0x58c7d9(0xba0)](_0x58c7d9(0xc51));if(!_0x32fbe7){showMessage('กรุณาเลือกสถานะ');return;}const _0x1a2447=_0x32fbe7[_0x58c7d9(0x682)];let _0x2b2bf1={};if(_0x1a2447==='active'||_0x1a2447==='inactive')_0x2b2bf1={'status':_0x1a2447,'startTime':null,'endTime':null};else{if(_0x1a2447===_0x58c7d9(0x9e6)){const _0x513fbb=document['getElementById'](_0x58c7d9(0x6bc))[_0x58c7d9(0x682)],_0x3d14c4=document[_0x58c7d9(0x7a2)](_0x58c7d9(0x297))[_0x58c7d9(0x682)];if(!_0x513fbb&&!_0x3d14c4){showMessage(_0x58c7d9(0x1b4));return;}_0x2b2bf1={'status':_0x58c7d9(0x156),'startTime':_0x513fbb?new Date(_0x513fbb)['toISOString']():null,'endTime':_0x3d14c4?new Date(_0x3d14c4)[_0x58c7d9(0x25b)]():null};}}try{await updateDoc(_0x21b914,_0x2b2bf1),showMessage(_0x58c7d9(0x2f3)),quizStatusModal[_0x58c7d9(0x6e6)][_0x58c7d9(0x360)](_0x58c7d9(0x106)),actionTargetId=null;}catch(_0x236a23){console[_0x58c7d9(0x13b)](_0x58c7d9(0x3c5),_0x236a23),showMessage(_0x58c7d9(0x3c0));}}function listenForStudentProfiles(_0x4ffd4f){const _0x2b7339=_0x15116f,_0x271b48=collection(db,'artifacts/'+appId+_0x2b7339(0x459)+_0x4ffd4f+_0x2b7339(0x880));unsubscribeStudentProfilesListener=onSnapshot(_0x271b48,_0x3003fb=>{const _0x5b00d6=_0x2b7339,_0x2f0a2a=_0x3003fb[_0x5b00d6(0x610)][_0x5b00d6(0x217)](_0x377b8c=>_0x377b8c[_0x5b00d6(0xc6b)]());renderLeaderboard(_0x2f0a2a,_0x5b00d6(0x4be));},_0x4bfa46=>{const _0x2a2ce9=_0x2b7339;console['error'](_0x2a2ce9(0x4bb),_0x4bfa46),document['getElementById'](_0x2a2ce9(0x4be))['innerHTML']=_0x2a2ce9(0x1c3);});}function renderLeaderboard(_0x4912a8,_0x179cae){const _0x1082ff=_0x15116f,_0x29ccdf=document[_0x1082ff(0x7a2)](_0x179cae);if(!_0x4912a8||_0x4912a8[_0x1082ff(0x987)]===0x0){_0x29ccdf[_0x1082ff(0x322)]=_0x1082ff(0x400);return;}_0x4912a8[_0x1082ff(0x2ea)]((_0x42dafb,_0x330de2)=>{const _0x3b68b5=_0x1082ff,_0x16e564=(_0x330de2[_0x3b68b5(0x79a)]||0x0)-(_0x42dafb[_0x3b68b5(0x79a)]||0x0);if(_0x16e564!==0x0)return _0x16e564;const _0x5a0300=(_0x330de2['badgesCount']?.[_0x3b68b5(0xa9a)]||0x0)-(_0x42dafb[_0x3b68b5(0x19a)]?.['specialist']||0x0);if(_0x5a0300!==0x0)return _0x5a0300;const _0x38e4cd=(_0x330de2[_0x3b68b5(0x19a)]?.[_0x3b68b5(0x47b)]||0x0)-(_0x42dafb['badgesCount']?.[_0x3b68b5(0x47b)]||0x0);if(_0x38e4cd!==0x0)return _0x38e4cd;const _0x252b20=(_0x330de2[_0x3b68b5(0x19a)]?.['perfect_score']||0x0)-(_0x42dafb[_0x3b68b5(0x19a)]?.['perfect_score']||0x0);if(_0x252b20!==0x0)return _0x252b20;const _0x5d97a1=(_0x330de2['badgesCount']?.['quick_thinker']||0x0)-(_0x42dafb[_0x3b68b5(0x19a)]?.[_0x3b68b5(0x9f3)]||0x0);if(_0x5d97a1!==0x0)return _0x5d97a1;return _0x42dafb[_0x3b68b5(0xb82)]['localeCompare'](_0x330de2[_0x3b68b5(0xb82)],'th');});let _0x93ffac='';_0x4912a8[_0x1082ff(0x1b7)]((_0x58b5c2,_0x464b97)=>{const _0x5259a3=_0x1082ff,_0x4163fb=_0x464b97+0x1,_0x269233=_0x58b5c2[_0x5259a3(0x19a)]||{};let _0x4ae27d='';const _0x510ccf=[_0x5259a3(0xa9a),'perfect_score',_0x5259a3(0x47b),_0x5259a3(0x9f3)];_0x510ccf[_0x5259a3(0x1b7)](_0x45fa4e=>{const _0x5f029a=_0x5259a3;if(_0x269233[_0x45fa4e]>0x0){const _0x2ff67a=Object['values'](BADGES)[_0x5f029a(0x22a)](_0x41dbde=>_0x41dbde['id']===_0x45fa4e);_0x2ff67a&&(_0x45fa4e===_0x5f029a(0xa9a)?_0x4ae27d+=_0x5f029a(0x9da)+_0x2ff67a[_0x5f029a(0x947)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2ff67a[_0x5f029a(0x7fa)]+_0x5f029a(0x63f):_0x4ae27d+=_0x5f029a(0x9da)+_0x2ff67a[_0x5f029a(0x947)]+'\x20('+_0x269233[_0x45fa4e]+_0x5f029a(0x701)+_0x2ff67a[_0x5f029a(0x7fa)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x269233[_0x45fa4e]+_0x5f029a(0x6ee));}}),_0x93ffac+=_0x5259a3(0x2e0)+_0x4163fb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x58b5c2[_0x5259a3(0xb82)]+_0x5259a3(0x17c)+(_0x58b5c2[_0x5259a3(0x79a)]||0x0)+_0x5259a3(0xbd7)+(_0x4ae27d||'-')+_0x5259a3(0x955);}),_0x29ccdf[_0x1082ff(0x322)]=_0x93ffac;}function displayLoopScreen(_0x404d44,_0x55883e,_0x2e795d){const _0x274135=_0x15116f;let _0x5530b2='';_0x2e795d!==_0x274135(0x80b)&&(_0x5530b2=_0x274135(0x50b)+_0x404d44+_0x274135(0xaaf)+_0x55883e+_0x274135(0x9ad));const _0x30a88d=_0x274135(0x68e)+_0x5530b2+_0x274135(0x8d3);studentResultArea[_0x274135(0x322)]=_0x30a88d,studentResultArea[_0x274135(0x6e6)][_0x274135(0x367)]('hidden'),studentQuizArea['classList'][_0x274135(0x360)](_0x274135(0x106)),document[_0x274135(0x7a2)](_0x274135(0x4d0))['addEventListener'](_0x274135(0x22c),()=>{const _0x118988=_0x274135;studentResultArea[_0x118988(0x6e6)][_0x118988(0x360)](_0x118988(0x106)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2e7a59,_0x4f07ae,_0x2fcff1){const _0x504e28=_0x15116f,_0x328c9e=document[_0x504e28(0x7a2)](_0x2fcff1),_0x2309fd=_0x2fcff1===_0x504e28(0xc1f),_0x82d391=_0x4f07ae[_0x504e28(0x72a)][_0x504e28(0x987)],_0xcd951d=document[_0x504e28(0x7a2)](_0x2fcff1)[_0x504e28(0x38e)]('table');if(_0xcd951d&&!_0x2309fd){const _0x4c3925=_0xcd951d[_0x504e28(0xba0)](_0x504e28(0xbd4));_0x4c3925[_0x504e28(0x322)]=_0x504e28(0xc55);}if(!_0x2e7a59||_0x2e7a59[_0x504e28(0x987)]===0x0){_0x328c9e[_0x504e28(0x322)]=_0x504e28(0x77c)+(_0x2309fd?0x6:0x8)+_0x504e28(0xb1c);return;}const _0x2c189d=[..._0x2e7a59];_0x2c189d[_0x504e28(0x2ea)]((_0x3b8a77,_0x356ba7)=>{const _0x2f28d8=_0x504e28;let _0x3115ac,_0x2b37db;switch(quizLeaderboardSortBy){case _0x2f28d8(0xb82):_0x3115ac=_0x3b8a77['studentName']||'',_0x2b37db=_0x356ba7['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x3115ac[_0x2f28d8(0xb43)](_0x2b37db,'th'):_0x2b37db[_0x2f28d8(0xb43)](_0x3115ac,'th');case'points':_0x3115ac=_0x3b8a77[_0x2f28d8(0xa15)]||0x0,_0x2b37db=_0x356ba7[_0x2f28d8(0xa15)]||0x0;break;case _0x2f28d8(0x7a1):_0x3115ac=_0x3b8a77['attempts']?.[_0x2f28d8(0x987)]||0x1,_0x2b37db=_0x356ba7['attempts']?.['length']||0x1;break;case _0x2f28d8(0x95d):_0x3115ac=new Date(_0x3b8a77['latestSubmittedAt']),_0x2b37db=new Date(_0x356ba7[_0x2f28d8(0x95d)]);break;case'bestScore':default:_0x3115ac=_0x3b8a77['bestScore'],_0x2b37db=_0x356ba7[_0x2f28d8(0x886)];break;}if(_0x3115ac<_0x2b37db)return quizLeaderboardSortOrder===_0x2f28d8(0xb12)?-0x1:0x1;if(_0x3115ac>_0x2b37db)return quizLeaderboardSortOrder===_0x2f28d8(0xb12)?0x1:-0x1;return 0x0;});const _0x25a737=_0x4f07ae['isRemedial']===!![],_0x36a30d=_0x4f07ae[_0x504e28(0xad7)]?.['passingScore']??-0x1;let _0xb4170f='';_0x2c189d['forEach']((_0x338ce0,_0x4150fb)=>{const _0x475666=_0x504e28,_0x35babf=_0x4150fb+0x1;let _0x30b69a=_0x475666(0xb09);if(_0x25a737||_0x36a30d!==-0x1){let _0x37f8be=_0x25a737?_0x338ce0[_0x475666(0x886)]===_0x82d391:_0x338ce0['bestScore']>=_0x36a30d;const _0x5e0091=_0x37f8be?_0x475666(0x81b):_0x475666(0x2b3),_0x20457d=_0x37f8be?_0x475666(0x240):'ไม่ผ่าน';_0x30b69a=_0x475666(0x97a)+_0x5e0091+'\x22>'+_0x20457d+_0x475666(0x302);}const _0x646863=_0x338ce0[_0x475666(0x7a1)][_0x338ce0[_0x475666(0x7a1)]['length']-0x1],_0x44cf99=(_0x646863[_0x475666(0x457)]||[])[_0x475666(0x217)](_0x3c31ed=>{const _0x30913e=_0x475666,_0x50d492=Object[_0x30913e(0xc27)](BADGES)[_0x30913e(0x22a)](_0x55a64d=>_0x55a64d['id']===_0x3c31ed);return _0x50d492?_0x30913e(0x2be)+_0x50d492[_0x30913e(0x947)]+_0x30913e(0x97f)+_0x50d492[_0x30913e(0x7fa)]+_0x30913e(0x243):'';})[_0x475666(0x935)]('');_0xb4170f+=_0x475666(0x2c2)+_0x35babf+_0x475666(0x109)+_0x338ce0[_0x475666(0xb82)]+_0x475666(0x905)+_0x338ce0[_0x475666(0x886)]+_0x475666(0xaaf)+_0x82d391+_0x475666(0x46f)+_0x30b69a+_0x475666(0xb71)+(_0x338ce0[_0x475666(0xa15)]||0x0)+_0x475666(0x46f)+(_0x2309fd?'':_0x475666(0x1ab)+(_0x338ce0[_0x475666(0x7a1)]?.[_0x475666(0x987)]||0x1)+_0x475666(0x135))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2309fd?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x338ce0[_0x475666(0x95d)])[_0x475666(0x6a4)]('th-TH')+_0x475666(0x135))+_0x475666(0x50f)+(_0x44cf99||'-')+_0x475666(0xa8c);}),_0x328c9e[_0x504e28(0x322)]=_0xb4170f,_0xcd951d&&!_0x2309fd&&_0xcd951d['querySelectorAll'](_0x504e28(0x67d))[_0x504e28(0x1b7)](_0x3ab9cd=>{const _0x4db1ba=_0x504e28,_0x488a6f=_0x3ab9cd[_0x4db1ba(0xba0)]('.sort-indicator');if(_0x488a6f)_0x488a6f['remove']();_0x3ab9cd[_0x4db1ba(0xb1e)][_0x4db1ba(0x2ea)]===quizLeaderboardSortBy&&(_0x3ab9cd[_0x4db1ba(0x322)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x359ac0){const _0x143ee0=_0x15116f;if(!currentQuizData||!currentQuizData['id']||!_0x359ac0){showMessage(_0x143ee0(0x2a0));return;}showConfirmation(_0x143ee0(0x2e3)+_0x359ac0+_0x143ee0(0x730),async()=>{const _0x26327e=_0x143ee0,_0x1ab041=currentQuizData['id'],_0x47aea8=doc(db,_0x26327e(0xc14)+appId+'/public/data/quizzes/'+_0x1ab041+'/submissions',_0x359ac0);try{await deleteDoc(_0x47aea8),showMessage('ลบผลสอบของ\x20'+_0x359ac0+_0x26327e(0x30b));}catch(_0x38f8c7){console[_0x26327e(0x13b)]('Error\x20deleting\x20submission:',_0x38f8c7),showMessage(_0x26327e(0x99d));}});}async function handleLoadQuiz(){const _0x23561c=_0x15116f,_0x4734dc=document[_0x23561c(0x7a2)]('quiz-id-input'),_0x1745f2=_0x4734dc[_0x23561c(0x682)][_0x23561c(0x6ad)]();if(!_0x1745f2){showMessage(_0x23561c(0x94c));return;}loadQuizBtn[_0x23561c(0xc47)]=!![],loadQuizBtn[_0x23561c(0x322)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x8115b5=doc(db,_0x23561c(0xc14)+appId+_0x23561c(0x42c),_0x1745f2),_0x1fd784=await getDoc(_0x8115b5);if(!_0x1fd784[_0x23561c(0xfc)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x1fd784['id'],..._0x1fd784[_0x23561c(0xc6b)]()};const _0x1a3781=currentQuizData[_0x23561c(0x55a)]||_0x23561c(0x63c),_0x494840=new Date();if(_0x1a3781===_0x23561c(0x1c1)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1a3781===_0x23561c(0x156)){const _0x17edc5=currentQuizData[_0x23561c(0x992)]?new Date(currentQuizData['startTime']):null,_0x428730=currentQuizData[_0x23561c(0x9bd)]?new Date(currentQuizData[_0x23561c(0x9bd)]):null;if(_0x17edc5&&_0x494840<_0x17edc5){showMessage(_0x23561c(0x321)+_0x17edc5[_0x23561c(0x6a4)](_0x23561c(0x78d),{'hour12':![]}));return;}if(_0x428730&&_0x494840>_0x428730){showMessage(_0x23561c(0x94f));return;}}const _0x488838=currentQuizData['projectId'];currentProjectId=_0x488838;const _0x88b28d=doc(db,_0x23561c(0xc14)+appId+'/public/data/projects',_0x488838),_0xcc8193=await getDoc(_0x88b28d);if(!_0xcc8193[_0x23561c(0xfc)]()){showMessage(_0x23561c(0x24b));return;}const _0x25a832=_0xcc8193[_0x23561c(0xc6b)]();currentStudentProjectData=_0x25a832,displayStudentNameSelector(_0x25a832['students'],currentQuizData['topic']);}catch(_0x14066a){console[_0x23561c(0x13b)]('Error\x20loading\x20quiz\x20for\x20student:',_0x14066a),showMessage(_0x23561c(0x473));}finally{loadQuizBtn[_0x23561c(0xc47)]=![],loadQuizBtn[_0x23561c(0x322)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x52daf6=_0x15116f,_0x5c64fb=document[_0x52daf6(0x7a2)](_0x52daf6(0xa51)),_0x2aaf89=document[_0x52daf6(0x7a2)](_0x52daf6(0x97d)),_0x3516b5=document[_0x52daf6(0x7a2)](_0x52daf6(0x3dc)),_0x2674e5=_0x5c64fb['value']['trim'](),_0x5587fc=_0x2aaf89[_0x52daf6(0x682)][_0x52daf6(0x6ad)]();if(!_0x2674e5||!_0x5587fc){showMessage(_0x52daf6(0x837));return;}_0x3516b5[_0x52daf6(0xc47)]=!![],_0x3516b5[_0x52daf6(0x322)]=_0x52daf6(0x6f7);try{const _0x4b72e2=collection(db,_0x52daf6(0xc14)+appId+'/public/data/liveGames'),_0x13996d=query(_0x4b72e2,where(_0x52daf6(0xae5),'==',_0x2674e5),where(_0x52daf6(0x55a),'in',[_0x52daf6(0x72d),_0x52daf6(0x4b4)])),_0xe3ab3d=await getDocs(_0x13996d);if(_0xe3ab3d[_0x52daf6(0x615)]){showMessage(_0x52daf6(0x970));return;}const _0x5e691c=_0xe3ab3d['docs'][0x0],_0x22db0a=_0x5e691c[_0x52daf6(0xc6b)]();currentLiveGameId=_0x5e691c['id'];const _0x16cf66=_0x22db0a[_0x52daf6(0x502)],_0x3962a0=doc(db,_0x52daf6(0xc14)+appId+_0x52daf6(0x42c),_0x16cf66),_0x3e373d=await getDoc(_0x3962a0);if(!_0x3e373d['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x3e373d['id'],..._0x3e373d[_0x52daf6(0xc6b)]()};if(_0x22db0a[_0x52daf6(0x7c5)]&&_0x22db0a[_0x52daf6(0x7c5)][_0x5587fc]){const _0x15aca2=_0x22db0a['players'][_0x5587fc];if(_0x15aca2[_0x52daf6(0x55a)]===_0x52daf6(0x1c1)){_0x3516b5[_0x52daf6(0x322)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x2219e4={};_0x2219e4['players.'+_0x5587fc+'.status']=_0x52daf6(0x63c),await updateDoc(doc(db,_0x52daf6(0xc14)+appId+_0x52daf6(0x69b),currentLiveGameId),_0x2219e4),showView(_0x52daf6(0xa89)),currentStudentName=_0x5587fc,listenForLiveGameUpdates();return;}else{showMessage(_0x52daf6(0x6bf));return;}}if(_0x22db0a['status']!==_0x52daf6(0x72d)){showMessage(_0x52daf6(0x1a2));return;}_0x3516b5['innerHTML']=_0x52daf6(0xb8d);const _0x46019e={};_0x46019e[_0x52daf6(0x227)+_0x5587fc]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x52daf6(0x63c)},await updateDoc(doc(db,_0x52daf6(0xc14)+appId+'/public/data/liveGames',currentLiveGameId),_0x46019e),currentStudentName=_0x5587fc,listenForLiveGameUpdates();}catch(_0x5880bb){console[_0x52daf6(0x13b)](_0x52daf6(0x144),_0x5880bb),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x3516b5[_0x52daf6(0xc47)]=![],_0x3516b5[_0x52daf6(0x322)]=_0x52daf6(0x44a);}}function displayStudentNameSelector(_0x29cf8b,_0x538fe0){const _0x4c68be=_0x15116f,_0x3725e3=document[_0x4c68be(0x7a2)](_0x4c68be(0x3b3));document[_0x4c68be(0x7a2)](_0x4c68be(0x1ec))[_0x4c68be(0x930)]='แบบทดสอบ:\x20'+_0x538fe0,!_0x29cf8b||_0x29cf8b['length']===0x0?(_0x3725e3[_0x4c68be(0x322)]=_0x4c68be(0x9db),startQuizBtn[_0x4c68be(0xc47)]=!![]):(_0x3725e3[_0x4c68be(0x322)]=_0x4c68be(0x9c7),_0x29cf8b[_0x4c68be(0x1b7)](_0x301322=>{const _0xac2d9f=_0x4c68be,_0x303f22=document[_0xac2d9f(0x870)](_0xac2d9f(0x26f));_0x303f22[_0xac2d9f(0x682)]=_0x301322,_0x303f22['textContent']=_0x301322,_0x3725e3[_0xac2d9f(0xc10)](_0x303f22);}),startQuizBtn['disabled']=![]),studentInitialView['classList'][_0x4c68be(0x360)](_0x4c68be(0x106)),studentNameSelectionView['classList'][_0x4c68be(0x367)]('hidden');}function shuffleArray(_0x467731){const _0x544ef8=_0x15116f;for(let _0x5c27a4=_0x467731[_0x544ef8(0x987)]-0x1;_0x5c27a4>0x0;_0x5c27a4--){const _0x123f3b=Math[_0x544ef8(0x1c8)](Math['random']()*(_0x5c27a4+0x1));[_0x467731[_0x5c27a4],_0x467731[_0x123f3b]]=[_0x467731[_0x123f3b],_0x467731[_0x5c27a4]];}}function getShuffledQuiz(_0x4a7f24){const _0x321a81=_0x15116f;let _0x4eb49d=JSON[_0x321a81(0x877)](JSON[_0x321a81(0x352)](_0x4a7f24));const _0x535627=_0x4eb49d[_0x321a81(0xad7)]?.[_0x321a81(0x661)]||_0x321a81(0x799);if(_0x535627==='none')return _0x4eb49d;return(_0x535627===_0x321a81(0x12d)||_0x535627===_0x321a81(0x769))&&shuffleArray(_0x4eb49d[_0x321a81(0x72a)]),(_0x535627===_0x321a81(0x4bd)||_0x535627==='both')&&_0x4eb49d[_0x321a81(0x72a)][_0x321a81(0x1b7)](_0x3106e1=>{const _0x84ac7a=_0x321a81,_0x50595d=_0x3106e1[_0x84ac7a(0x5ac)]||_0x4eb49d[_0x84ac7a(0xbe2)];if(_0x3106e1['options']){let _0x5868a7=_0x3106e1[_0x84ac7a(0xbd3)][_0x84ac7a(0x217)]((_0x11330f,_0x2e82d7)=>({'text':_0x11330f,'isCorrect':_0x2e82d7===_0x3106e1[_0x84ac7a(0x4fa)]}));shuffleArray(_0x5868a7),_0x3106e1['options']=_0x5868a7[_0x84ac7a(0x217)](_0x265cf7=>_0x265cf7[_0x84ac7a(0x9ef)]),_0x3106e1[_0x84ac7a(0x4fa)]=_0x5868a7[_0x84ac7a(0xc2b)](_0xab593a=>_0xab593a[_0x84ac7a(0x653)]);}_0x50595d===_0x84ac7a(0xb55)&&_0x3106e1[_0x84ac7a(0xa84)]&&shuffleArray(_0x3106e1['allResponses']);}),_0x4eb49d;}function displayQuizForStudent(_0x17d1c1){const _0x319008=_0x15116f;studentQuizArea[_0x319008(0x6e6)][_0x319008(0x367)](_0x319008(0x106)),currentDisplayedQuiz=getShuffledQuiz(_0x17d1c1);currentMode!==_0x319008(0x23d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x319008(0x6d5)](_0x319008(0x285),handleFullscreenChange),document[_0x319008(0x6d5)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x319008(0x6d5)]('mousemove',resetDimTimer),window[_0x319008(0x6d5)](_0x319008(0xaa3),resetDimTimer),window[_0x319008(0x6d5)]('touchstart',resetDimTimer),window[_0x319008(0x6d5)]('keydown',resetDimTimer),resetDimTimer());const _0x27cda3=currentDisplayedQuiz[_0x319008(0xad7)]?.[_0x319008(0xc3e)]||_0x319008(0x799);if(_0x27cda3===_0x319008(0x350))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x319008(0xad7)][_0x319008(0x171)]);else _0x27cda3==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x68e340=_0x15116f,_0x40c6a5=currentDisplayedQuiz[_0x68e340(0xad7)]?.[_0x68e340(0x1e0)]===!![],_0x5f2199=currentDisplayedQuiz['settings']?.[_0x68e340(0x5cf)]||_0x68e340(0x975);let _0x43dc06=_0x68e340(0xb00)+currentDisplayedQuiz['topic']+_0x68e340(0x544)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x68e340(0x898);currentDisplayedQuiz[_0x68e340(0x72a)][_0x68e340(0x1b7)]((_0x5b1c40,_0x29db80)=>{const _0x2893ad=_0x68e340,_0x8e40f6=_0x5b1c40[_0x2893ad(0x5ac)]||currentDisplayedQuiz[_0x2893ad(0xbe2)];_0x43dc06+=_0x2893ad(0x537);if(_0x8e40f6==='matching_item'){}else _0x43dc06+=_0x2893ad(0x294)+(_0x29db80+0x1)+'.\x20'+(_0x5b1c40[_0x2893ad(0x3d9)]||_0x5b1c40[_0x2893ad(0x187)])+_0x2893ad(0x7db),_0x5b1c40['imageCode']&&(_0x43dc06+=_0x2893ad(0xb50)+_0x5b1c40[_0x2893ad(0x8b6)]+_0x2893ad(0x5ae));_0x43dc06+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x8e40f6){case _0x2893ad(0xb64):_0x43dc06+=_0x2893ad(0x570)+_0x29db80+_0x2893ad(0x9aa);break;case _0x2893ad(0x1dd):_0x43dc06+=_0x2893ad(0xa01)+_0x29db80+_0x2893ad(0x342)+_0x29db80+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x29db80+_0x2893ad(0x787),_0x43dc06+=_0x2893ad(0xa01)+_0x29db80+_0x2893ad(0x64b)+_0x29db80+_0x2893ad(0xb9a)+_0x29db80+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x2893ad(0xb55):_0x43dc06+=_0x2893ad(0x1b8)+_0x5b1c40['stem']+_0x2893ad(0x3aa)+_0x29db80+_0x2893ad(0xb6e)+_0x5b1c40[_0x2893ad(0xa84)][_0x2893ad(0x217)](_0x9afaff=>_0x2893ad(0x559)+_0x9afaff+'\x22>'+_0x9afaff+_0x2893ad(0x76d))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x43dc06+=_0x5b1c40['options'][_0x2893ad(0x217)]((_0x20661e,_0x8f3094)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x29db80+_0x2893ad(0x202)+_0x8f3094+_0x2893ad(0x7b3)+_0x29db80+'\x22\x20value=\x22'+_0x8f3094+_0x2893ad(0x2da)+_0x29db80+'_opt'+_0x8f3094+'\x22>'+_0x20661e+_0x2893ad(0x7ec))[_0x2893ad(0x935)]('');break;}_0x43dc06+=_0x2893ad(0x5ae),_0x40c6a5&&(_0x43dc06+=_0x2893ad(0x9d2),_0x5f2199===_0x2893ad(0xa74)?_0x43dc06+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x29db80+_0x2893ad(0x65e)+_0x29db80+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x29db80+_0x2893ad(0x850)+_0x29db80+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x43dc06+=_0x2893ad(0x254)+_0x29db80+_0x2893ad(0x65e)+_0x29db80+_0x2893ad(0x11e)+_0x29db80+_0x2893ad(0x42a),_0x43dc06+=_0x2893ad(0x5ae)),_0x43dc06+='</div>';}),_0x43dc06+=_0x68e340(0x526),_0x43dc06+='</form>',studentQuizArea[_0x68e340(0x322)]=_0x43dc06;if(currentMode===_0x68e340(0x23d)){const _0xdd1b5d=document[_0x68e340(0x7a2)](_0x68e340(0x45d));if(_0xdd1b5d)_0xdd1b5d[_0x68e340(0x6d5)](_0x68e340(0x22c),cancelAdminTest);}const _0x59729a=document[_0x68e340(0x7a2)](_0x68e340(0x277));_0x59729a&&(_0x59729a[_0x68e340(0x6d5)](_0x68e340(0x8c7),handleSubmitQuiz),_0x59729a[_0x68e340(0x6d5)](_0x68e340(0x22c),_0x5c4ab5=>{const _0x5be3ae=_0x68e340;if(_0x5c4ab5[_0x5be3ae(0x4c1)][_0x5be3ae(0x6e6)][_0x5be3ae(0x7f1)](_0x5be3ae(0x9be))){const _0x34e5b8=_0x5c4ab5['target'],_0x3e34f6=_0x34e5b8[_0x5be3ae(0xb1e)][_0x5be3ae(0x63b)],_0x348fcd=_0x34e5b8[_0x5be3ae(0xb1e)][_0x5be3ae(0x682)];document[_0x5be3ae(0x7a2)](_0x5be3ae(0x8bb)+_0x3e34f6)[_0x5be3ae(0x682)]=_0x348fcd;const _0x3eb52e=_0x34e5b8[_0x5be3ae(0x5f7)];_0x3eb52e['querySelectorAll']('.confidence-choice-btn')['forEach'](_0x1425a=>_0x1425a['classList'][_0x5be3ae(0x367)]('active')),_0x34e5b8[_0x5be3ae(0x6e6)][_0x5be3ae(0x360)](_0x5be3ae(0x63c));}}));if(window[_0x68e340(0x8a8)])window[_0x68e340(0x8a8)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x5f3dd2){const _0x326b72=_0x15116f;if(_0x5f3dd2)_0x5f3dd2[_0x326b72(0x623)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xbbd6b1=document['getElementById'](_0x326b72(0x277));if(!_0xbbd6b1)return;const _0x54c33f=currentDisplayedQuiz[_0x326b72(0xad7)]?.['isConfidenceScoringEnabled']===!![],_0x5af556=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x326b72(0x975);if(_0x54c33f&&_0x5af556==='mandatory'){let _0x3f756d=!![];for(let _0x4bba80=0x0;_0x4bba80<currentDisplayedQuiz[_0x326b72(0x72a)]['length'];_0x4bba80++){const _0x2d44df=_0xbbd6b1[_0x326b72(0xba0)](_0x326b72(0x6f6)+_0x4bba80);if(!_0x2d44df||_0x2d44df['value']===''){_0x3f756d=![];break;}}if(!_0x3f756d){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x1f4b2d=_0xbbd6b1['querySelector'](_0x326b72(0x494)),_0x5087bc=currentDisplayedQuiz['questions'][_0x326b72(0x1a9)](_0x1c7041=>_0x1c7041[_0x326b72(0x5ac)]==='short_answer');_0x1f4b2d&&(_0x1f4b2d[_0x326b72(0xc47)]=!![],_0x1f4b2d['innerHTML']=_0x5087bc?_0x326b72(0x16b):_0x326b72(0x53e));const _0x33455d=new FormData(_0xbbd6b1),_0x351868=currentDisplayedQuiz[_0x326b72(0x72a)][_0x326b72(0x217)]((_0x19a9cf,_0x3c1c42)=>{const _0x552648=_0x326b72,_0x2886b0=_0x33455d[_0x552648(0x6cd)](_0x552648(0x4b4)+_0x3c1c42);let _0x4b4ded;_0x5af556===_0x552648(0xa74)?_0x4b4ded=_0x33455d[_0x552648(0x6cd)]('confidence'+_0x3c1c42):_0x4b4ded=_0x33455d[_0x552648(0x6cd)]('confidence'+_0x3c1c42)==='on';let _0x4deba2=null;if(_0x2886b0!==null&&_0x2886b0!==undefined){const _0x21f0e4=_0x19a9cf[_0x552648(0x5ac)]||currentDisplayedQuiz[_0x552648(0xbe2)];_0x21f0e4===_0x552648(0x2ac)||_0x21f0e4===_0x552648(0x9a8)?_0x4deba2=parseInt(_0x2886b0):_0x4deba2=_0x2886b0;}return{'answer':_0x4deba2,'wasConfident':_0x4b4ded};}),_0x52aca4=currentQuizData['id'],_0x4c400f=doc(db,'artifacts/'+appId+_0x326b72(0x6b0)+_0x52aca4+_0x326b72(0x68c),currentStudentName),_0x6494bc=await getDoc(_0x4c400f),_0x2478c8=_0x6494bc['exists']()?_0x6494bc[_0x326b72(0xc6b)]():{},_0x29f7ce=_0x2478c8[_0x326b72(0x7a1)]||[];await processAndSubmitAnswers(_0x351868,_0x29f7ce);}async function gradeShortAnswerWithAI(_0x3023e2,_0x682147){const _0x27bd2a=_0x15116f;if(!_0x3023e2||!_0x682147)return![];try{const _0x596428='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x3023e2+_0x27bd2a(0x4c2)+_0x682147+_0x27bd2a(0x36d),_0x174add={'contents':[{'role':_0x27bd2a(0xc05),'parts':[{'text':_0x596428}]}]},_0x5ae733=_0x27bd2a(0xac4),_0x9d84eb=_0x27bd2a(0xa3c)+_0x5ae733,_0x5d7963=await fetch(_0x9d84eb,{'method':_0x27bd2a(0x654),'headers':{'Content-Type':_0x27bd2a(0xa8a)},'body':JSON[_0x27bd2a(0x352)](_0x174add)});if(!_0x5d7963['ok'])throw new Error(_0x27bd2a(0xc57));const _0x2a6472=await _0x5d7963['json'](),_0x47ec9c=_0x2a6472['candidates'][0x0]['content'][_0x27bd2a(0x4e9)][0x0][_0x27bd2a(0x9ef)][_0x27bd2a(0x6ad)]()[_0x27bd2a(0x53c)]();return _0x47ec9c===_0x27bd2a(0x7d1);}catch(_0x1b2470){return console[_0x27bd2a(0x13b)](_0x27bd2a(0x7cb),_0x1b2470),![];}}async function processAndSubmitAnswers(_0x26ce39,_0x10936e){const _0xdf50e9=_0x15116f;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0xdf50e9(0x285),handleFullscreenChange),document[_0xdf50e9(0x770)](_0xdf50e9(0x847),handleVisibilityChange);let _0x1d3472=0x0;const _0x512931=[],_0x45ce69=currentDisplayedQuiz[_0xdf50e9(0x72a)]['length'];let _0x9541b5=0x0,_0x107aa1=[];const _0x22b1bf=currentDisplayedQuiz[_0xdf50e9(0x72a)];for(let _0x560e02=0x0;_0x560e02<_0x22b1bf['length'];_0x560e02++){const _0x42de1c=_0x22b1bf[_0x560e02],_0x5b285f=_0x26ce39[_0x560e02],_0x13aa79=_0x5b285f?_0x5b285f['answer']:null,_0x2c1fdf=_0x5b285f?_0x5b285f[_0xdf50e9(0x98b)]:null;let _0x3ec2b2=![],_0x4e9cd6=0x0;if(_0x13aa79!==null&&_0x13aa79!==''){const _0x86e411=_0x42de1c['questionType']||currentDisplayedQuiz['quizType'];switch(_0x86e411){case _0xdf50e9(0xb55):_0x3ec2b2=_0x13aa79===_0x42de1c[_0xdf50e9(0x76c)];break;case _0xdf50e9(0x1dd):const _0x595af6=_0x13aa79===!![]||_0x13aa79==='true';_0x3ec2b2=_0x595af6===_0x42de1c[_0xdf50e9(0x7b8)];break;case _0xdf50e9(0xb64):_0x3ec2b2=await gradeShortAnswer(_0x13aa79,_0x42de1c);break;case'multiple_choice':default:_0x3ec2b2=Number(_0x13aa79)===_0x42de1c[_0xdf50e9(0x4fa)];break;}}if(currentDisplayedQuiz[_0xdf50e9(0xad7)]?.[_0xdf50e9(0x1e0)]){const _0x45ed6f=_0x5b285f?_0x5b285f['wasConfident']:null;if(_0x3ec2b2&&(_0x45ed6f===!![]||_0x45ed6f==='confident'))_0x4e9cd6=0x2;else{if(_0x3ec2b2)_0x4e9cd6=0x1;else{if(!_0x3ec2b2&&(_0x45ed6f===![]||_0x45ed6f===_0xdf50e9(0xbe9)||_0x45ed6f===null))_0x4e9cd6=0x0;else!_0x3ec2b2&&(_0x45ed6f===!![]||_0x45ed6f===_0xdf50e9(0x6fd))&&(_0x4e9cd6=-0x1);}}}else _0x4e9cd6=_0x3ec2b2?0x1:0x0;_0x1d3472+=_0x4e9cd6;if(_0x3ec2b2){_0x9541b5++;if(_0x9541b5===0x3)_0x107aa1['push'](BADGES[_0xdf50e9(0x2aa)]['id']);}else _0x9541b5=0x0;let _0x15c998=null;_0x42de1c[_0xdf50e9(0xbd3)]&&_0x13aa79!==null&&(_0x15c998=_0x42de1c[_0xdf50e9(0xbd3)][_0x13aa79]),_0x512931[_0xdf50e9(0x8e7)]({'questionId':_0x42de1c['id'],'answer':_0x13aa79,'answerText':_0x15c998,'isCorrect':_0x3ec2b2,'wasConfident':_0x2c1fdf,'pointsAwarded':_0x4e9cd6,'originalQuestionText':_0x42de1c[_0xdf50e9(0xa68)]||_0x42de1c[_0xdf50e9(0x187)]});}const _0x2a3da6=_0x512931[_0xdf50e9(0x431)](_0x3f8e86=>_0x3f8e86['isCorrect'])[_0xdf50e9(0x987)],_0x42798a=currentDisplayedQuiz[_0xdf50e9(0xad7)]?.[_0xdf50e9(0x1d0)]??Math['floor'](_0x45ce69/0x2);_0x2a3da6===_0x45ce69&&_0x45ce69>0x0&&!currentDisplayedQuiz[_0xdf50e9(0x12e)]&&_0x107aa1[_0xdf50e9(0x8e7)](BADGES['PERFECT_SCORE']['id']);const _0x509261=currentDisplayedQuiz[_0xdf50e9(0xad7)]?.['timerMode'];if(_0x509261==='whole_quiz'&&quizStartTime){const _0x2965df=(new Date()-quizStartTime)/0x3e8,_0x4325ba=currentDisplayedQuiz[_0xdf50e9(0xad7)][_0xdf50e9(0x171)]*0x3c;_0x2a3da6>=_0x42798a&&_0x2965df<_0x4325ba/0x2&&_0x107aa1[_0xdf50e9(0x8e7)](BADGES['QUICK_THINKER']['id']);}_0x10936e[_0xdf50e9(0x987)]===0x0&&_0x2a3da6===_0x45ce69&&_0x45ce69>0x0&&_0x107aa1[_0xdf50e9(0x8e7)](BADGES[_0xdf50e9(0x61d)]['id']);if(_0x10936e['length']>0x0){const _0x4accb1=_0x10936e[0x0]['score'];if(_0x4accb1<_0x42798a&&_0x2a3da6>=_0x42798a){const _0x4c6af7=_0x10936e[_0xdf50e9(0x1a9)](_0x50ea0c=>(_0x50ea0c[_0xdf50e9(0x457)]||[])[_0xdf50e9(0x679)](BADGES[_0xdf50e9(0xb37)]['id']));!_0x4c6af7&&_0x107aa1[_0xdf50e9(0x8e7)](BADGES[_0xdf50e9(0xb37)]['id']);}}_0x10936e[_0xdf50e9(0x987)]===0x4&&_0x107aa1[_0xdf50e9(0x8e7)](BADGES[_0xdf50e9(0x47c)]['id']);const _0x5c0d80=currentDisplayedQuiz[_0xdf50e9(0xad7)][_0xdf50e9(0xb83)];if(currentMode==='admin-testing'){handleResultDisplay(_0x5c0d80,_0x2a3da6,_0x1d3472,_0x107aa1,_0x512931,_0x45ce69);return;}const _0x5ebc53=currentQuizData['id'],_0xce80d9=doc(db,_0xdf50e9(0xc14)+appId+'/public/data/quizzes/'+_0x5ebc53+_0xdf50e9(0x68c),currentStudentName);try{const _0x3c4024=[..._0x10936e],_0x5a79c5={'score':_0x2a3da6,'points':_0x1d3472,'badges':Array[_0xdf50e9(0x636)](new Set(_0x107aa1)),'submittedAt':new Date()['toISOString'](),'answers':_0x512931};_0x3c4024[_0xdf50e9(0x8e7)](_0x5a79c5);const _0x167f2e=_0x10936e[_0xdf50e9(0x987)]===0x0?_0x2a3da6:_0x10936e[0x0][_0xdf50e9(0x24f)]||0x0,_0xdba610=Math['max'](..._0x3c4024[_0xdf50e9(0x217)](_0x5bb553=>_0x5bb553[_0xdf50e9(0x24f)]));await setDoc(_0xce80d9,{'studentName':currentStudentName,'totalQuestions':_0x45ce69,'attempts':_0x3c4024,'firstScore':_0x167f2e,'bestScore':_0xdba610,'latestScore':_0x2a3da6,'points':_0x1d3472,'latestSubmittedAt':_0x5a79c5[_0xdf50e9(0xad8)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xdf50e9(0xb9b)],currentStudentName),handleResultDisplay(_0x5c0d80,_0x2a3da6,_0x1d3472,_0x107aa1,_0x512931,_0x45ce69);}catch(_0x366435){console[_0xdf50e9(0x13b)](_0xdf50e9(0x7ab),_0x366435),showMessage(_0xdf50e9(0x7b0));}}async function updateStudentProfile(_0x2c1315,_0x4d6ba3){const _0x1f008a=_0x15116f,_0x3f671a=doc(db,_0x1f008a(0xc14)+appId+_0x1f008a(0x459)+_0x2c1315+_0x1f008a(0x880),_0x4d6ba3);try{const _0xf97943=query(collection(db,'artifacts/'+appId+_0x1f008a(0x42c)),where(_0x1f008a(0xb9b),'==',_0x2c1315)),_0x13664f=await getDocs(_0xf97943),_0x266d6c=new Map(_0x13664f[_0x1f008a(0x610)][_0x1f008a(0x217)](_0x3203cd=>[_0x3203cd['id'],_0x3203cd['data']()])),_0x87ff11=Array[_0x1f008a(0x636)](_0x266d6c[_0x1f008a(0x377)]());await runTransaction(db,async _0x2ab1a7=>{const _0x251e6c=_0x1f008a;let _0x3ac3b1=0x0;const _0x3fe623={};let _0x1d5c47=!![],_0x3a2634=0x0,_0x6db98b=0x0;for(const _0x45965d of _0x87ff11){const _0x4b9c96=_0x266d6c[_0x251e6c(0x6cd)](_0x45965d),_0x20d31c=doc(db,_0x251e6c(0xc14)+appId+_0x251e6c(0x6b0)+_0x45965d+_0x251e6c(0x68c),_0x4d6ba3),_0x40ac53=await _0x2ab1a7[_0x251e6c(0x6cd)](_0x20d31c);if(_0x40ac53[_0x251e6c(0xfc)]()){const _0x542d83=_0x40ac53[_0x251e6c(0xc6b)](),_0x4a9419=_0x542d83[_0x251e6c(0x7a1)]||[];if(_0x4a9419[_0x251e6c(0x987)]>0x0){const _0x8d2cab=_0x4a9419[_0x251e6c(0x366)]((_0x2ec341,_0x18c02f)=>{const _0x241b0c=_0x251e6c;if(_0x18c02f[_0x241b0c(0x24f)]>_0x2ec341[_0x241b0c(0x24f)])return _0x18c02f;if(_0x18c02f[_0x241b0c(0x24f)]===_0x2ec341[_0x241b0c(0x24f)])return(_0x18c02f[_0x241b0c(0xa15)]||0x0)>(_0x2ec341['points']||0x0)?_0x18c02f:_0x2ec341;return _0x2ec341;},{'score':-0x1,'points':-0x1});_0x8d2cab[_0x251e6c(0x24f)]>-0x1&&(_0x3ac3b1+=_0x8d2cab['points']||0x0,(_0x8d2cab['badges']||[])['forEach'](_0x3dd112=>{_0x3fe623[_0x3dd112]=(_0x3fe623[_0x3dd112]||0x0)+0x1;}));}}if(_0x4b9c96[_0x251e6c(0xc63)]!=='แบบทดสอบซ่อมเสริม'){_0x6db98b++;if(_0x40ac53[_0x251e6c(0xfc)]()){_0x3a2634++;const _0xfb5a11=_0x40ac53[_0x251e6c(0xc6b)]();_0xfb5a11[_0x251e6c(0x886)]!==_0xfb5a11[_0x251e6c(0x3ba)]&&(_0x1d5c47=![]);}else _0x1d5c47=![];}}_0x6db98b>0x0&&_0x3a2634===_0x6db98b&&_0x1d5c47?_0x3fe623['specialist']=0x1:_0x3fe623[_0x251e6c(0xa9a)]=0x0,_0x2ab1a7[_0x251e6c(0x145)](_0x3f671a,{'studentName':_0x4d6ba3,'totalPoints':_0x3ac3b1,'unlockedBadges':Object[_0x251e6c(0x377)](_0x3fe623)[_0x251e6c(0x431)](_0x1cabb4=>_0x3fe623[_0x1cabb4]>0x0),'badgesCount':_0x3fe623},{'merge':!![]});});}catch(_0x6bc66e){console[_0x1f008a(0x13b)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x6bc66e),showMessage(_0x1f008a(0xb3c));}}function startAdminTest(){const _0x1ee30e=_0x15116f;if(!currentQuizData){showMessage(_0x1ee30e(0xa3e));return;}let _0x135b56=JSON[_0x1ee30e(0x877)](JSON['stringify'](currentQuizData));currentMode=_0x1ee30e(0x23d),currentStudentName=_0x1ee30e(0x1f7),adminView['classList'][_0x1ee30e(0x360)]('hidden'),studentView[_0x1ee30e(0x6e6)][_0x1ee30e(0x367)](_0x1ee30e(0x106)),studentInitialView[_0x1ee30e(0x6e6)][_0x1ee30e(0x360)](_0x1ee30e(0x106)),studentNameSelectionView[_0x1ee30e(0x6e6)][_0x1ee30e(0x360)](_0x1ee30e(0x106)),studentResultArea['classList'][_0x1ee30e(0x360)](_0x1ee30e(0x106)),studentQuizArea['classList'][_0x1ee30e(0x367)](_0x1ee30e(0x106)),quizStartTime=new Date(),displayQuizForStudent(_0x135b56);}function handleResultDisplay(_0x445501,_0x42547a,_0x4c4eb3,_0x3b5c81,_0x424990,_0x4f91d1){const _0x359969=_0x15116f;if(_0x445501===_0x359969(0xbf6)){displaySubmissionConfirmation();return;}const _0x1ffe3b=currentDisplayedQuiz[_0x359969(0xad7)]?.[_0x359969(0x1d0)]??Math['floor'](_0x4f91d1/0x2),_0xa97737=currentDisplayedQuiz[_0x359969(0xad7)]?.[_0x359969(0x148)]??![],_0x59ba70=currentDisplayedQuiz['settings']?.[_0x359969(0x188)]===!![],_0x162951=_0x42547a<_0x1ffe3b,_0x3d60c9=_0x445501===_0x359969(0x628)||_0x445501===_0x359969(0x392);if(_0x59ba70&&_0x162951&&!_0x3d60c9){_0x445501===_0x359969(0x3e9)?displayResultsWithAnswers(_0x42547a,_0x4c4eb3,_0x3b5c81,_0x424990,_0x4f91d1,!![]):displayLoopScreen(_0x42547a,_0x4f91d1,_0x445501);return;}if(_0xa97737&&_0x162951){startAdaptiveFlow(_0x424990,_0x42547a,_0x4f91d1);return;}switch(_0x445501){case _0x359969(0x3e9):displayResultsWithAnswers(_0x42547a,_0x4c4eb3,_0x3b5c81,_0x424990,_0x4f91d1);break;case'show_results_only':displayResultsScoreOnly(_0x42547a,_0x4c4eb3,_0x3b5c81,_0x4f91d1);break;case _0x359969(0x80b):displayPassFailOnly(_0x42547a,_0x4f91d1);break;case _0x359969(0x628):displayHalfMarkResult(_0x42547a,_0x4f91d1);break;case _0x359969(0x392):displayPerfectScoreResult(_0x42547a,_0x4f91d1);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1f0ff8){const _0x26efb4=_0x15116f;studentReadingArea[_0x26efb4(0x322)]=_0x26efb4(0x990);const _0x11898c=_0x26efb4(0x577)+_0x1f0ff8+_0x26efb4(0x52f)+simpleMathPrompt+_0x26efb4(0x225),_0x2c78ea={'type':_0x26efb4(0x8c9),'properties':{'questionText':{'type':_0x26efb4(0x87c)},'options':{'type':_0x26efb4(0x587),'items':{'type':_0x26efb4(0x87c)}},'correctAnswerIndex':{'type':_0x26efb4(0x421)},'explanation':{'type':_0x26efb4(0x87c)}},'required':[_0x26efb4(0x187),_0x26efb4(0xbd3),'correctAnswerIndex','explanation']},_0x59ba39={'type':_0x26efb4(0x8c9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x26efb4(0x587),'items':_0x2c78ea}},'required':['topic','questions']};try{const _0x969da2=await callAnalysisApi(_0x11898c,_0x59ba39);_0x969da2[_0x26efb4(0x12e)]=!![],studentReadingArea['classList'][_0x26efb4(0x360)]('hidden');const _0x28f3d5={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x969da2['settings']=_0x28f3d5,displayQuizForStudent(_0x969da2);}catch(_0xf02941){console[_0x26efb4(0x13b)](_0x26efb4(0x326),_0xf02941),showMessage(_0x26efb4(0x8db)),showView('student');}}function displayPassFailOnly(_0x46b366,_0x95be57){const _0x239566=_0x15116f,_0xe35d1f=currentDisplayedQuiz['settings']?.[_0x239566(0x1d0)]??-0x1,_0x3f3306=currentDisplayedQuiz[_0x239566(0x12e)]===!![];let _0x4a8884='',_0x5e4886=![];if(_0x3f3306||_0xe35d1f!==-0x1){_0x5e4886=_0x3f3306?_0x46b366===_0x95be57:_0x46b366>=_0xe35d1f;const _0x501cd3=_0x5e4886?'bg-green-100\x20text-green-800':_0x239566(0x2b3),_0x2f5b4f=_0x5e4886?_0x239566(0x240):_0x239566(0xbd1);_0x4a8884=_0x239566(0xacb)+_0x501cd3+'\x22>'+_0x2f5b4f+_0x239566(0x310);}else _0x4a8884=_0x239566(0x9b5);let _0x4974c2=_0x239566(0x2fa)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a8884+_0x239566(0x241);studentResultArea[_0x239566(0x322)]=_0x4974c2,studentResultArea[_0x239566(0x6e6)]['remove'](_0x239566(0x106)),studentQuizArea[_0x239566(0x6e6)]['add'](_0x239566(0x106)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5e4886});}function cancelAdminTest(){const _0x41d1a8=_0x15116f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x41d1a8(0x285),handleFullscreenChange),document[_0x41d1a8(0x770)](_0x41d1a8(0x847),handleVisibilityChange),currentMode=_0x41d1a8(0x18b),studentView[_0x41d1a8(0x6e6)][_0x41d1a8(0x360)](_0x41d1a8(0x106)),adminView[_0x41d1a8(0x6e6)][_0x41d1a8(0x367)](_0x41d1a8(0x106)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x2ff45e){const _0x15599e=_0x15116f,_0x3adda5={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2ff45e};if(_0x3adda5[_0x15599e(0xc61)]){const _0x1f1176=_0x15599e(0x913);studentResultArea[_0x15599e(0x59f)](_0x15599e(0x96c),_0x1f1176),document[_0x15599e(0x7a2)](_0x15599e(0x4d0))[_0x15599e(0x6d5)](_0x15599e(0x22c),()=>{const _0x4b76b1=_0x15599e;studentResultArea['classList'][_0x4b76b1(0x360)](_0x4b76b1(0x106)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x394018=_0x15599e(0xbaf),_0x2e826f=currentMode===_0x15599e(0x23d),_0xa54531=_0x2e826f?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x15599e(0x134);let _0x1e6823='';_0x3adda5[_0x15599e(0x90c)]&&(_0x1e6823+=_0x15599e(0x7aa));let _0x222c33=_0x3adda5[_0x15599e(0x54f)];_0x222c33===undefined&&(_0x222c33=_0x3adda5[_0x15599e(0x24f)]<_0x3adda5['totalQuestions']);_0x222c33&&(_0x1e6823+=_0x15599e(0x85e));_0x1e6823+='<button\x20id=\x22'+_0x394018+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0xa54531+_0x15599e(0x550);const _0x24e65e=_0x15599e(0x9fc)+_0x1e6823+_0x15599e(0x5ae);studentResultArea[_0x15599e(0x59f)](_0x15599e(0x96c),_0x24e65e),studentResultArea[_0x15599e(0xba0)](_0x15599e(0x8b4))?.['addEventListener'](_0x15599e(0x22c),handleShowStudentRankings);const _0x357769=studentResultArea['querySelector'](_0x15599e(0x3ac));_0x357769&&_0x357769[_0x15599e(0x6d5)](_0x15599e(0x22c),()=>{const _0x499336=_0x15599e;studentResultArea[_0x499336(0x6e6)][_0x499336(0x360)](_0x499336(0x106)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x15599e(0x7a2)](_0x394018)[_0x15599e(0x6d5)](_0x15599e(0x22c),()=>{const _0x55750d=_0x15599e;_0x2e826f?(currentMode=_0x55750d(0x18b),studentView['classList']['add'](_0x55750d(0x106)),adminView[_0x55750d(0x6e6)][_0x55750d(0x367)]('hidden'),showView('project-detail')):(showView(_0x55750d(0xb56)),document[_0x55750d(0x7a2)](_0x55750d(0x673))[_0x55750d(0x682)]='');});}function displayResultsWithAnswers(_0xeb96d1,_0x1f595a,_0x5a0c48,_0x2ecfd0,_0x48ad16,_0x1b6d64=![]){const _0x27cdaa=_0x15116f,_0x55d8da=_0x48ad16>0x0?_0xeb96d1/_0x48ad16*0x64:0x0,_0x4414e1=currentDisplayedQuiz[_0x27cdaa(0xad7)]?.[_0x27cdaa(0x1d0)]??-0x1,_0x355387=currentDisplayedQuiz[_0x27cdaa(0x12e)]===!![];let _0x444c6e='';if(_0x355387||_0x4414e1!==-0x1){let _0x475130=_0x355387?_0xeb96d1===_0x48ad16:_0xeb96d1>=_0x4414e1;const _0x3f025b=_0x475130?_0x27cdaa(0x81b):_0x27cdaa(0x2b3),_0x14834e=_0x475130?_0x27cdaa(0x240):_0x27cdaa(0xbd1);_0x444c6e='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3f025b+'\x22>'+_0x14834e+_0x27cdaa(0x7db);}let _0x46c74d=_0x27cdaa(0xb2e)+currentStudentName+_0x27cdaa(0x57a)+_0xeb96d1+_0x27cdaa(0x348)+_0x48ad16+_0x27cdaa(0x3c2)+_0x444c6e+_0x27cdaa(0x94b)+_0x1f595a+_0x27cdaa(0x9cb)+_0x55d8da[_0x27cdaa(0xab4)](0x0)+_0x27cdaa(0xa2d);currentDisplayedQuiz[_0x27cdaa(0x72a)][_0x27cdaa(0x1b7)]((_0x118633,_0xfa4ee1)=>{const _0x4eb945=_0x27cdaa,_0x363c44=_0x2ecfd0[_0xfa4ee1],_0x4c6fce=_0x363c44[_0x4eb945(0x796)],_0x26b84a=_0x363c44['isCorrect'],_0x423569=_0x118633[_0x4eb945(0x5ac)]||currentDisplayedQuiz[_0x4eb945(0xbe2)];_0x46c74d+=_0x4eb945(0x704)+(_0x26b84a?_0x4eb945(0x71c):'border-red-300\x20bg-red-50')+_0x4eb945(0x6ae)+(_0xfa4ee1+0x1)+'.\x20'+(_0x118633['stem']||_0x118633[_0x4eb945(0x187)])+_0x4eb945(0x21d);switch(_0x423569){case _0x4eb945(0xb55):const _0x2f5750=_0x4c6fce||_0x4eb945(0x28a),_0x70ee4a=_0x118633[_0x4eb945(0x76c)];_0x46c74d+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x26b84a?_0x4eb945(0x5dc):'')+'\x22>'+_0x2f5750+_0x4eb945(0xa3d);!_0x26b84a&&(_0x46c74d+=_0x4eb945(0x809)+_0x70ee4a+_0x4eb945(0x7db));break;case _0x4eb945(0xb64):_0x46c74d+=_0x4eb945(0x37e)+(_0x4c6fce||'ไม่ได้ตอบ')+_0x4eb945(0x7db),_0x46c74d+=_0x4eb945(0x659)+_0x118633[_0x4eb945(0x5ec)]+_0x4eb945(0x7db);break;case'true_false':_0x46c74d+=_0x4eb945(0xa72)+(_0x118633[_0x4eb945(0x7b8)]===!![]?_0x4eb945(0x703):'')+'\x20'+(_0x4c6fce===_0x4eb945(0x7d1)&&!_0x26b84a?_0x4eb945(0x5dc):'')+_0x4eb945(0x814),_0x46c74d+='<p\x20class=\x22'+(_0x118633['correctAnswer']===![]?_0x4eb945(0x703):'')+'\x20'+(_0x4c6fce===_0x4eb945(0x4d3)&&!_0x26b84a?'line-through\x20text-red-700':'')+_0x4eb945(0x364);break;default:_0x46c74d+=_0x118633['options']['map']((_0x204fd6,_0x433c7a)=>{const _0x339253=_0x4eb945;let _0x273e25='',_0xada8d9='';if(_0x433c7a===_0x118633[_0x339253(0x4fa)])_0x273e25=_0x339253(0x703),_0xada8d9=_0x339253(0x79c);else _0x433c7a===_0x4c6fce&&(_0x273e25=_0x339253(0x9a9),_0xada8d9=_0x339253(0x99c));return'<div\x20class=\x22'+_0x273e25+'\x22>'+_0xada8d9+_0x204fd6+_0x339253(0x5ae);})[_0x4eb945(0x935)]('');break;}_0x46c74d+=_0x4eb945(0x6a7)+(_0x118633[_0x4eb945(0x14f)]||'ไม่มีคำอธิบาย')+_0x4eb945(0x5ae);if(!_0x26b84a){const _0x1b0ee2=_0x118633[_0x4eb945(0xa68)]||_0x118633['questionText'];_0x46c74d+=_0x4eb945(0x3b4)+escape(_0x1b0ee2)+_0x4eb945(0xb0d);}_0x46c74d+='</div>';}),studentResultArea[_0x27cdaa(0x322)]=_0x46c74d,renderEarnedBadges(_0x5a0c48,_0x27cdaa(0x9ea)),studentResultArea['classList'][_0x27cdaa(0x367)](_0x27cdaa(0x106)),studentQuizArea[_0x27cdaa(0x6e6)]['add'](_0x27cdaa(0x106)),setupResultScreenBackButton({'isLooping':_0x1b6d64,'score':_0xeb96d1,'totalQuestions':_0x48ad16,'showRankings':!![]});if(window[_0x27cdaa(0x8a8)])window['MathJax'][_0x27cdaa(0x107)]([studentResultArea]);}function displayResultsScoreOnly(_0x179411,_0x2b0b88,_0x240d2c,_0x1a2ddf){const _0x415ee5=_0x15116f,_0x302d0b=_0x1a2ddf>0x0?_0x179411/_0x1a2ddf*0x64:0x0,_0x26824a=currentDisplayedQuiz[_0x415ee5(0xad7)]?.[_0x415ee5(0x1d0)]??-0x1,_0x346f2b=currentDisplayedQuiz[_0x415ee5(0x12e)]===!![];let _0x4fb4e0='';if(_0x346f2b||_0x26824a!==-0x1){let _0x15b371=_0x346f2b?_0x179411===_0x1a2ddf:_0x179411>=_0x26824a;const _0x125de9=_0x15b371?_0x415ee5(0x81b):_0x415ee5(0x2b3),_0xac8aad=_0x15b371?_0x415ee5(0x240):_0x415ee5(0xbd1);_0x4fb4e0=_0x415ee5(0xb97)+_0x125de9+'\x22>'+_0xac8aad+_0x415ee5(0x7db);}let _0x524e0c=_0x415ee5(0x2fa)+currentStudentName+_0x415ee5(0xc69)+_0x179411+_0x415ee5(0x3bb)+_0x1a2ddf+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fb4e0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2b0b88+_0x415ee5(0xaa5)+_0x302d0b['toFixed'](0x0)+_0x415ee5(0x130);studentResultArea[_0x415ee5(0x322)]=_0x524e0c,renderEarnedBadges(_0x240d2c,_0x415ee5(0x9ea)),studentResultArea[_0x415ee5(0x6e6)][_0x415ee5(0x367)](_0x415ee5(0x106)),studentQuizArea[_0x415ee5(0x6e6)][_0x415ee5(0x360)](_0x415ee5(0x106)),setupResultScreenBackButton({'score':_0x179411,'totalQuestions':_0x1a2ddf,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x52aa20=_0x15116f;let _0x35d5bc=_0x52aa20(0x8e0)+currentStudentName+_0x52aa20(0x542);studentResultArea[_0x52aa20(0x322)]=_0x35d5bc,studentResultArea[_0x52aa20(0x6e6)][_0x52aa20(0x367)](_0x52aa20(0x106)),studentQuizArea[_0x52aa20(0x6e6)][_0x52aa20(0x360)](_0x52aa20(0x106)),document[_0x52aa20(0x7a2)](_0x52aa20(0x713))[_0x52aa20(0x6d5)](_0x52aa20(0x22c),()=>{const _0x24fcc4=_0x52aa20;showView(_0x24fcc4(0xb56)),document[_0x24fcc4(0x7a2)](_0x24fcc4(0x673))['value']='';});}function renderEarnedBadges(_0x46b5e5,_0x9a4300){const _0x271436=_0x15116f,_0x2c1646=document[_0x271436(0x7a2)](_0x9a4300);if(!_0x2c1646||!_0x46b5e5||_0x46b5e5[_0x271436(0x987)]===0x0)return;let _0xb81eb7='';_0x46b5e5[_0x271436(0x1b7)]((_0x2affb2,_0x331ea3)=>{const _0x13ce3d=_0x271436,_0x4a73ba=Object['values'](BADGES)['find'](_0x5b3369=>_0x5b3369['id']===_0x2affb2);_0x4a73ba&&(_0xb81eb7+=_0x13ce3d(0x72c)+_0x331ea3*0.2+'s;\x22\x20title=\x22'+_0x4a73ba[_0x13ce3d(0xc62)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4a73ba[_0x13ce3d(0x7fa)]+_0x13ce3d(0x700)+_0x4a73ba[_0x13ce3d(0x947)]+_0x13ce3d(0x372));}),_0x2c1646['innerHTML']=_0xb81eb7;}function startPresentation(_0x54f9fc){const _0x50e8ac=_0x15116f;currentQuizData=getShuffledQuiz(_0x54f9fc),currentPresentationSlide=0x0,presentationModal[_0x50e8ac(0x1af)][_0x50e8ac(0xbdc)]=_0x50e8ac(0x963),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xc8d9b=_0x15116f;document[_0xc8d9b(0xa32)]&&document['exitFullscreen'](),presentationModal['style'][_0xc8d9b(0xbdc)]=_0xc8d9b(0x799);}function renderPresentationSlide(_0x106051){const _0x472e36=_0x15116f,_0x36f4d5=document[_0x472e36(0x7a2)](_0x472e36(0x198));if(!currentQuizData||!currentQuizData[_0x472e36(0x72a)]||!currentQuizData[_0x472e36(0x72a)][_0x106051]){_0x36f4d5[_0x472e36(0x322)]=_0x472e36(0x9c2);return;}const _0x67086b=currentQuizData[_0x472e36(0x72a)][_0x106051],_0x2a2156=_0x67086b['questionType']||currentQuizData[_0x472e36(0xbe2)];_0x36f4d5['innerHTML']='';let _0x47c3d6=_0x472e36(0x47d)+(_0x67086b['imageCode']?_0x472e36(0xb50)+_0x67086b[_0x472e36(0x8b6)]+_0x472e36(0x5ae):'')+_0x472e36(0x725)+(_0x106051+0x1)+'.\x20'+(_0x67086b[_0x472e36(0xa68)]||_0x67086b[_0x472e36(0x187)])+_0x472e36(0x2c4);switch(_0x2a2156){case'matching_item':_0x47c3d6+=_0x67086b['allResponses'][_0x472e36(0x217)](_0x24e910=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24e910+_0x472e36(0x519))[_0x472e36(0x935)]('');break;case _0x472e36(0x1dd):_0x47c3d6+=_0x472e36(0x35c),_0x47c3d6+=_0x472e36(0x3b2);break;case _0x472e36(0x1f3):case _0x472e36(0xb64):_0x47c3d6+=_0x472e36(0x82a);break;case _0x472e36(0x9a8):case _0x472e36(0x2ac):default:_0x47c3d6+=_0x67086b[_0x472e36(0xbd3)]['map']((_0x3c5980,_0x396e01)=>_0x472e36(0x1e7)+_0x396e01+_0x472e36(0x9bf)+_0x3c5980+_0x472e36(0x519))[_0x472e36(0x935)]('');break;}_0x47c3d6+=_0x472e36(0x56b)+(_0x67086b[_0x472e36(0x14f)]||_0x472e36(0x6de))+_0x472e36(0x80a),_0x36f4d5[_0x472e36(0x322)]=_0x47c3d6;if(window[_0x472e36(0x8a8)])window[_0x472e36(0x8a8)][_0x472e36(0x107)]([_0x36f4d5]);let _0x5a5035=[];switch(_0x2a2156){case _0x472e36(0xb55):_0x5a5035=_0x67086b['allResponses']||[];break;case _0x472e36(0x1dd):_0x5a5035=[_0x472e36(0x158),_0x472e36(0x513)];break;default:_0x5a5035=_0x67086b[_0x472e36(0xbd3)]||[];break;}const _0x19e43f=document['getElementById'](_0x472e36(0x857));_0x19e43f&&(_0x19e43f[_0x472e36(0x695)]=()=>{openScratchpad(_0x67086b,_0x5a5035);});document[_0x472e36(0x17a)]('.presentation-option')['forEach'](_0x71b678=>{const _0x1dec56=_0x472e36;_0x71b678[_0x1dec56(0x6d5)](_0x1dec56(0x22c),_0x5e748b=>revealAnswerForPresentation(_0x106051,_0x5e748b[_0x1dec56(0x5f1)]));});const _0x1ea3b5=document[_0x472e36(0x7a2)](_0x472e36(0x87b));_0x1ea3b5&&_0x1ea3b5['addEventListener'](_0x472e36(0x22c),()=>checkShortAnswerForPresentation(_0x106051)),document[_0x472e36(0x7a2)]('slide-counter')[_0x472e36(0x930)]=_0x472e36(0x696)+(_0x106051+0x1)+_0x472e36(0xaaf)+currentQuizData[_0x472e36(0x72a)]['length'],document[_0x472e36(0x7a2)]('prev-question-btn')[_0x472e36(0xc47)]=_0x106051===0x0,document[_0x472e36(0x7a2)](_0x472e36(0x63a))['disabled']=_0x106051===currentQuizData[_0x472e36(0x72a)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x21a073){const _0x224a13=_0x15116f,_0x26a6cd=currentQuizData[_0x224a13(0x72a)][_0x21a073],_0x403986=document['getElementById'](_0x224a13(0x961)),_0x319201=document[_0x224a13(0x7a2)]('check-presentation-answer-btn'),_0x16763e=document[_0x224a13(0x7a2)](_0x224a13(0x60e)),_0x2adf6f=document[_0x224a13(0x7a2)](_0x224a13(0x29c));if(!_0x403986||!_0x319201||!_0x16763e||!_0x2adf6f)return;const _0x2c82db=_0x403986[_0x224a13(0x682)][_0x224a13(0x6ad)]();if(_0x2c82db==='')return;_0x319201[_0x224a13(0xc47)]=!![],_0x319201[_0x224a13(0x322)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x403986[_0x224a13(0xc47)]=!![];const _0x4d26ac=await gradeShortAnswer(_0x2c82db,_0x26a6cd);_0x4d26ac?_0x16763e[_0x224a13(0x322)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x16763e[_0x224a13(0x322)]=_0x224a13(0x979)+_0x26a6cd[_0x224a13(0x5ec)]+')',_0x16763e[_0x224a13(0x6e6)][_0x224a13(0x367)](_0x224a13(0x106)),_0x2adf6f[_0x224a13(0x6e6)][_0x224a13(0x367)](_0x224a13(0x106)),_0x319201[_0x224a13(0x6e6)][_0x224a13(0x360)](_0x224a13(0x106));}function revealAnswerForPresentation(_0x59db71,_0x45d162){const _0x1fc4b4=_0x15116f,_0x54e6ea=currentQuizData[_0x1fc4b4(0x72a)][_0x59db71],_0x325c35=_0x54e6ea[_0x1fc4b4(0x5ac)]||currentQuizData[_0x1fc4b4(0xbe2)];document[_0x1fc4b4(0x17a)](_0x1fc4b4(0x594))[_0x1fc4b4(0x1b7)](_0x1d8a8d=>{const _0x243495=_0x1fc4b4;_0x1d8a8d[_0x243495(0xc47)]=!![],_0x1d8a8d['classList'][_0x243495(0x367)]('hover:bg-indigo-100');let _0x5c63bc=![];if(_0x325c35==='multiple_choice'||_0x325c35==='fill_in_the_blank'){const _0x952f82=parseInt(_0x1d8a8d[_0x243495(0xb1e)][_0x243495(0xad0)]);_0x5c63bc=_0x952f82===_0x54e6ea['correctAnswerIndex'];}else{if(_0x325c35===_0x243495(0x1dd)){const _0x260823=_0x1d8a8d[_0x243495(0xb1e)][_0x243495(0x796)]===_0x243495(0x7d1);_0x5c63bc=_0x260823===_0x54e6ea[_0x243495(0x7b8)];}else _0x325c35===_0x243495(0xb55)&&(_0x5c63bc=_0x1d8a8d['textContent'][_0x243495(0x6ad)]()===_0x54e6ea[_0x243495(0x76c)]);}_0x5c63bc?_0x1d8a8d[_0x243495(0x6e6)][_0x243495(0x360)](_0x243495(0x456),'text-white','border-green-700'):_0x1d8a8d[_0x243495(0x6e6)][_0x243495(0x360)](_0x243495(0x146));}),_0x45d162[_0x1fc4b4(0x6e6)][_0x1fc4b4(0x367)]('opacity-50');let _0x5244e7=![];if(_0x325c35===_0x1fc4b4(0x2ac))_0x5244e7=parseInt(_0x45d162[_0x1fc4b4(0xb1e)]['index'])===_0x54e6ea[_0x1fc4b4(0x4fa)];else{if(_0x325c35==='true_false')_0x5244e7=_0x45d162[_0x1fc4b4(0xb1e)][_0x1fc4b4(0x796)]===_0x1fc4b4(0x7d1)===_0x54e6ea[_0x1fc4b4(0x7b8)];else _0x325c35==='matching_item'&&(_0x5244e7=_0x45d162[_0x1fc4b4(0x930)][_0x1fc4b4(0x6ad)]()===_0x54e6ea['correctResponse']);}!_0x5244e7&&_0x45d162[_0x1fc4b4(0x6e6)][_0x1fc4b4(0x360)](_0x1fc4b4(0xa78),_0x1fc4b4(0x3f4),_0x1fc4b4(0xa61)),document[_0x1fc4b4(0x7a2)]('presentation-explanation')[_0x1fc4b4(0x6e6)][_0x1fc4b4(0x367)]('hidden');}function startWholeQuizTimer(_0x3d3a34){const _0xccfe59=_0x15116f,_0x2582c9=document[_0xccfe59(0x7a2)](_0xccfe59(0x3b5));if(!_0x2582c9)return;const _0x2bf760=Date[_0xccfe59(0xb20)]()+_0x3d3a34*0x3c*0x3e8;_0x2582c9['innerHTML']=_0xccfe59(0x902);const _0xfae9a3=document[_0xccfe59(0x7a2)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0xedb666=_0xccfe59,_0x21a0e0=_0x2bf760-Date['now']();if(_0x21a0e0<=0x0)clearInterval(quizTimerInterval),_0xfae9a3[_0xedb666(0x930)]='00:00',showMessage(_0xedb666(0x138)),handleSubmitQuiz(null);else{const _0x347c58=Math[_0xedb666(0x1c8)](_0x21a0e0/0x3e8/0x3c%0x3c)[_0xedb666(0x42f)]()[_0xedb666(0x9f8)](0x2,'0'),_0x1ef72e=Math[_0xedb666(0x1c8)](_0x21a0e0/0x3e8%0x3c)[_0xedb666(0x42f)]()[_0xedb666(0x9f8)](0x2,'0');_0xfae9a3[_0xedb666(0x930)]=_0x347c58+':'+_0x1ef72e;}},0x3e8);}function renderPerQuestionView(){const _0x2c2f1c=_0x15116f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x172701=currentDisplayedQuiz[_0x2c2f1c(0x72a)][currentQuestionIndex],_0x3d5f31=_0x172701[_0x2c2f1c(0x5ac)]||currentDisplayedQuiz['quizType'],_0x2cbd08=currentDisplayedQuiz[_0x2c2f1c(0xad7)]?.['isConfidenceScoringEnabled']===!![];let _0x4cada9=_0x2c2f1c(0x748)+(currentQuestionIndex+0x1)+_0x2c2f1c(0x27e)+currentDisplayedQuiz[_0x2c2f1c(0x72a)][_0x2c2f1c(0x987)]+_0x2c2f1c(0x7f7)+(currentMode===_0x2c2f1c(0x23d)?_0x2c2f1c(0x207):'')+_0x2c2f1c(0xfd)+currentDisplayedQuiz['topic']+_0x2c2f1c(0x77e);studentQuizArea[_0x2c2f1c(0x322)]=_0x4cada9;let _0x33cf0b=_0x172701[_0x2c2f1c(0xa68)]||_0x172701[_0x2c2f1c(0x187)];_0x172701[_0x2c2f1c(0x8b6)]&&(_0x33cf0b+=_0x2c2f1c(0xb50)+_0x172701['imageCode']+'</div>');let _0x290a98='';switch(_0x3d5f31){case _0x2c2f1c(0xb64):case _0x2c2f1c(0x1f3):_0x290a98=_0x2c2f1c(0x87d);break;case _0x2c2f1c(0x1dd):_0x290a98=_0x2c2f1c(0xb87);break;case _0x2c2f1c(0xb55):_0x290a98='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x172701[_0x2c2f1c(0xa84)]||[])[_0x2c2f1c(0x217)](_0x590312=>_0x2c2f1c(0x559)+_0x590312+'\x22>'+_0x590312+_0x2c2f1c(0x76d))['join']('')+_0x2c2f1c(0x566);break;default:_0x172701[_0x2c2f1c(0xbd3)]&&(_0x290a98=_0x172701[_0x2c2f1c(0xbd3)][_0x2c2f1c(0x217)]((_0x356b87,_0x5d5fd7)=>_0x2c2f1c(0x88c)+_0x5d5fd7+_0x2c2f1c(0x3d8)+_0x5d5fd7+_0x2c2f1c(0x8a3)+_0x5d5fd7+'\x22>'+_0x356b87+_0x2c2f1c(0x876))[_0x2c2f1c(0x935)](''));break;}document['getElementById'](_0x2c2f1c(0x995))[_0x2c2f1c(0x322)]=_0x33cf0b,document[_0x2c2f1c(0x7a2)](_0x2c2f1c(0x168))[_0x2c2f1c(0x322)]=_0x290a98;const _0xbc48da=currentDisplayedQuiz[_0x2c2f1c(0xad7)]?.[_0x2c2f1c(0x1e0)]===!![],_0x1fc984=currentDisplayedQuiz[_0x2c2f1c(0xad7)]?.['confidenceMode']||'checkbox';if(_0xbc48da&&_0x1fc984==='checkbox'){const _0x2d5903=_0x2c2f1c(0x86a);studentQuizArea['querySelector']('.mb-6.p-4')['insertAdjacentHTML'](_0x2c2f1c(0x96c),_0x2d5903);}studentQuizArea[_0x2c2f1c(0x59f)](_0x2c2f1c(0x96c),_0x2c2f1c(0xbef)+(currentQuestionIndex===currentDisplayedQuiz[_0x2c2f1c(0x72a)]['length']-0x1?_0x2c2f1c(0xb14):'คำถามถัดไป')+_0x2c2f1c(0xa77));currentMode===_0x2c2f1c(0x23d)&&document[_0x2c2f1c(0x7a2)](_0x2c2f1c(0x45d))?.['addEventListener'](_0x2c2f1c(0x22c),cancelAdminTest);document[_0x2c2f1c(0x7a2)](_0x2c2f1c(0xc1e))[_0x2c2f1c(0x6d5)](_0x2c2f1c(0x22c),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2c2f1c(0x8a8)])window['MathJax'][_0x2c2f1c(0x107)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x2c2f1c(0xc3e)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2d94b7=_0x15116f,_0x38e6a3=currentDisplayedQuiz[_0x2d94b7(0xad7)][_0x2d94b7(0x171)],_0x1a549f=document[_0x2d94b7(0x7a2)]('per-question-timer-container');if(!_0x1a549f)return;let _0x2fabc8=_0x38e6a3;_0x1a549f[_0x2d94b7(0x322)]=_0x2d94b7(0x9b7)+_0x2fabc8+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0xc9b78b=document[_0x2d94b7(0x7a2)](_0x2d94b7(0x5d3)),_0x18298c=document['getElementById'](_0x2d94b7(0x699));perQuestionTimerInterval=setInterval(()=>{const _0x5c1f26=_0x2d94b7;_0x2fabc8--;const _0x163c2e=_0x2fabc8/_0x38e6a3*0x64;_0xc9b78b[_0x5c1f26(0x1af)]['width']=_0x163c2e+'%',_0x18298c[_0x5c1f26(0x930)]=_0x2fabc8,_0x2fabc8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x43f80d=![]){const _0xda1ebf=_0x15116f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4692bd=null,_0x25121a=![];if(!_0x43f80d){const _0x57b8d2=currentDisplayedQuiz[_0xda1ebf(0x72a)][currentQuestionIndex],_0x5b2a26=_0x57b8d2[_0xda1ebf(0x5ac)]||currentDisplayedQuiz[_0xda1ebf(0xbe2)];if(_0x5b2a26===_0xda1ebf(0xb64)||_0x5b2a26===_0xda1ebf(0x1f3))_0x4692bd=document[_0xda1ebf(0xba0)](_0xda1ebf(0x434))?.[_0xda1ebf(0x682)][_0xda1ebf(0x6ad)]()??'';else{if(_0x5b2a26==='matching_item')_0x4692bd=document[_0xda1ebf(0xba0)]('select[name=\x22question_single\x22]')?.[_0xda1ebf(0x682)]??'';else{const _0x120d68=document[_0xda1ebf(0xba0)](_0xda1ebf(0xb04));_0x120d68&&(_0x4692bd=_0x120d68[_0xda1ebf(0x682)]);}}if(_0x4692bd===null||_0x4692bd===''){showMessage(_0xda1ebf(0x33e)),startPerQuestionTimer();return;}const _0xe4bfb=currentDisplayedQuiz['settings']?.[_0xda1ebf(0x1e0)]===!![],_0x27d669=currentDisplayedQuiz[_0xda1ebf(0xad7)]?.[_0xda1ebf(0x5cf)]||'checkbox';if(_0xe4bfb&&_0x27d669===_0xda1ebf(0xa74)){document['getElementById'](_0xda1ebf(0x327))['dataset'][_0xda1ebf(0xc49)]=_0xda1ebf(0x4a9),document[_0xda1ebf(0x7a2)]('selected-answer-index-hidden')[_0xda1ebf(0x682)]=_0x4692bd,document['getElementById'](_0xda1ebf(0x327))[_0xda1ebf(0x6e6)]['remove'](_0xda1ebf(0x106));return;}const _0x2feae2=document['getElementById'](_0xda1ebf(0x113));_0x2feae2&&(_0x25121a=_0x2feae2[_0xda1ebf(0x8cc)]);}const _0x524ecb={'answer':_0x4692bd,'wasConfident':_0x25121a};proceedToNextQuestion(_0x524ecb);}async function finalizePerQuestionQuiz(){const _0x1ea134=_0x15116f,_0x17b085=currentDisplayedQuiz[_0x1ea134(0x72a)]['some'](_0x41437c=>_0x41437c[_0x1ea134(0x5ac)]===_0x1ea134(0xb64));_0x17b085?showMessage(_0x1ea134(0x51f)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x5b09f0=currentQuizData['id'],_0x26b3c9=doc(db,_0x1ea134(0xc14)+appId+'/public/data/quizzes/'+_0x5b09f0+'/submissions',currentStudentName),_0x588d8d=await getDoc(_0x26b3c9),_0x1a7a4a=_0x588d8d[_0x1ea134(0xfc)]()?_0x588d8d[_0x1ea134(0xc6b)]():{},_0x4fc073=_0x1a7a4a[_0x1ea134(0x7a1)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4fc073);}function getResultsFilename(){const _0x292608=_0x15116f,_0x2efb0d=document[_0x292608(0x7a2)](_0x292608(0x471))[_0x292608(0x930)][_0x292608(0x892)](/[^a-z0-9]/gi,'_')[_0x292608(0x53c)]();return _0x292608(0xb6d)+(_0x2efb0d||_0x292608(0xc6c));}function exportResultsAsImage(){const _0x40a9b2=_0x15116f,_0x12777c=document[_0x40a9b2(0x7a2)](_0x40a9b2(0xb1a));showMessage(_0x40a9b2(0x592)),html2canvas(_0x12777c)[_0x40a9b2(0x346)](_0x8c9bb4=>{const _0x37c090=_0x40a9b2,_0x2889b4=document['createElement']('a');_0x2889b4[_0x37c090(0x950)]=getResultsFilename()+_0x37c090(0x684),_0x2889b4['href']=_0x8c9bb4[_0x37c090(0xa14)](_0x37c090(0x541)),_0x2889b4[_0x37c090(0x22c)](),messageModal[_0x37c090(0x6e6)][_0x37c090(0x360)](_0x37c090(0x106));});}function exportResultsAsPDF(){const _0x24e21c=_0x15116f,{jsPDF:_0x155a26}=window[_0x24e21c(0x4ae)],_0x5b6a57=new _0x155a26();_0x5b6a57[_0x24e21c(0x314)](_0x24e21c(0x1d1),_0x24e21c(0x189)),_0x5b6a57['autoTable']({'html':_0x24e21c(0x7f8)}),_0x5b6a57[_0x24e21c(0xa1f)](getResultsFilename()+_0x24e21c(0x47e));}function exportResultsAsWord(){const _0x5f49c0=_0x15116f,_0x3f8173='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x5f49c0(0x85a)+_0x5f49c0(0x484)+_0x5f49c0(0x28e),_0x48ff99='</body></html>',_0x419dad=_0x3f8173+document[_0x5f49c0(0x7a2)](_0x5f49c0(0xb1a))[_0x5f49c0(0x322)]+_0x48ff99,_0x17c734=_0x5f49c0(0x8e5)+encodeURIComponent(_0x419dad),_0x1b619e=document[_0x5f49c0(0x870)]('a');document[_0x5f49c0(0x2e6)][_0x5f49c0(0xc10)](_0x1b619e),_0x1b619e[_0x5f49c0(0xaf7)]=_0x17c734,_0x1b619e[_0x5f49c0(0x950)]=getResultsFilename()+_0x5f49c0(0xa5f),_0x1b619e['click'](),document[_0x5f49c0(0x2e6)][_0x5f49c0(0x962)](_0x1b619e);}function exportResultsAsExcel(){const _0x244e21=_0x15116f,_0x1c5b85=document[_0x244e21(0x7a2)](_0x244e21(0x6cc));let _0x498a6c=[];for(let _0x12295a=0x0;_0x12295a<_0x1c5b85[_0x244e21(0x2d8)][_0x244e21(0x987)];_0x12295a++){let _0x3927c5=[],_0x22c94f=_0x1c5b85['rows'][_0x12295a]['querySelectorAll'](_0x244e21(0x3a0));for(let _0x1ac42f=0x0;_0x1ac42f<_0x22c94f[_0x244e21(0x987)];_0x1ac42f++){_0x3927c5[_0x244e21(0x8e7)]('\x22'+_0x22c94f[_0x1ac42f]['innerText'][_0x244e21(0x892)](/"/g,'\x22\x22')+'\x22');}_0x498a6c['push'](_0x3927c5[_0x244e21(0x935)](','));}const _0x28077f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x498a6c[_0x244e21(0x935)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x4219ba=document[_0x244e21(0x870)]('a');_0x4219ba[_0x244e21(0xaf7)]=URL['createObjectURL'](_0x28077f),_0x4219ba[_0x244e21(0x950)]=getResultsFilename()+_0x244e21(0x14c),_0x4219ba[_0x244e21(0x22c)]();}function exportTableAsImage(_0x587fe9,_0x90bcfd){const _0x4b6921=_0x15116f,_0x41f07f=document[_0x4b6921(0x7a2)](_0x587fe9);if(!_0x41f07f){showMessage(_0x4b6921(0x386));return;}showMessage(_0x4b6921(0x592)),html2canvas(_0x41f07f)[_0x4b6921(0x346)](_0x5e55e3=>{const _0x1c3858=_0x4b6921,_0x1e2d2c=document[_0x1c3858(0x870)]('a');_0x1e2d2c[_0x1c3858(0x950)]=_0x90bcfd+'.png',_0x1e2d2c['href']=_0x5e55e3[_0x1c3858(0xa14)](_0x1c3858(0x541)),_0x1e2d2c[_0x1c3858(0x22c)](),messageModal[_0x1c3858(0x6e6)][_0x1c3858(0x360)](_0x1c3858(0x106));});}function exportTableAsPDF(_0x4122a5,_0x3bf358){const _0x28a159=_0x15116f,{jsPDF:_0x4783c3}=window['jspdf'],_0x5dc6fc=new _0x4783c3();_0x5dc6fc[_0x28a159(0x314)](_0x28a159(0x1d1),'normal'),_0x5dc6fc[_0x28a159(0x197)]({'html':'#'+_0x4122a5}),_0x5dc6fc[_0x28a159(0xa1f)](_0x3bf358+_0x28a159(0x47e));}function exportTableAsWord(_0x2ba571,_0x430ffe){const _0x5d28ce=_0x15116f,_0x4c1a28=document[_0x5d28ce(0x7a2)](_0x2ba571);if(!_0x4c1a28){showMessage(_0x5d28ce(0x386));return;}const _0x47f0bb=_0x5d28ce(0x9a0)+_0x5d28ce(0x85a)+_0x5d28ce(0x484)+_0x5d28ce(0x28e),_0x1bd2d7=_0x5d28ce(0x2d6),_0x36c5ee=_0x47f0bb+_0x4c1a28[_0x5d28ce(0x322)]+_0x1bd2d7,_0x2261b2=_0x5d28ce(0x8e5)+encodeURIComponent(_0x36c5ee),_0x3bb302=document[_0x5d28ce(0x870)]('a');document[_0x5d28ce(0x2e6)][_0x5d28ce(0xc10)](_0x3bb302),_0x3bb302[_0x5d28ce(0xaf7)]=_0x2261b2,_0x3bb302[_0x5d28ce(0x950)]=_0x430ffe+_0x5d28ce(0xa5f),_0x3bb302[_0x5d28ce(0x22c)](),document[_0x5d28ce(0x2e6)][_0x5d28ce(0x962)](_0x3bb302);}function exportTableAsExcel(_0x3b96f0,_0x315cb4){const _0x184b07=_0x15116f,_0x24726c=document['getElementById'](_0x3b96f0);if(!_0x24726c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x504ad4=[];for(let _0xa116da=0x0;_0xa116da<_0x24726c[_0x184b07(0x2d8)][_0x184b07(0x987)];_0xa116da++){let _0x231336=[],_0xd4dbe6=_0x24726c[_0x184b07(0x2d8)][_0xa116da][_0x184b07(0x17a)](_0x184b07(0x3a0));for(let _0x2ffc20=0x0;_0x2ffc20<_0xd4dbe6[_0x184b07(0x987)];_0x2ffc20++){_0x231336[_0x184b07(0x8e7)]('\x22'+_0xd4dbe6[_0x2ffc20][_0x184b07(0x589)][_0x184b07(0x892)](/"/g,'\x22\x22')+'\x22');}_0x504ad4[_0x184b07(0x8e7)](_0x231336[_0x184b07(0x935)](','));}const _0x1598ac=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x504ad4[_0x184b07(0x935)]('\x0a')],{'type':_0x184b07(0xa99)}),_0x22c7e0=document[_0x184b07(0x870)]('a');_0x22c7e0['href']=URL[_0x184b07(0x574)](_0x1598ac),_0x22c7e0[_0x184b07(0x950)]=_0x315cb4+_0x184b07(0x14c),_0x22c7e0[_0x184b07(0x22c)]();}function renderAnalytics(_0x5c464d,_0x2289ec){const _0x37feda=_0x15116f,_0x549962=_0x2289ec[_0x37feda(0x431)](_0x20cd2f=>_0x20cd2f[_0x37feda(0x801)]!==undefined),_0x23ca46=currentProjectData['students']['length'],_0x2ca248=_0x549962['length'],_0x3819d8=_0x23ca46-_0x2ca248,_0x601e9a=_0x23ca46>0x0?_0x2ca248/_0x23ca46*0x64:0x0,_0x1e49c4=_0x549962[_0x37feda(0x217)](_0x2d726f=>_0x2d726f[_0x37feda(0x801)]),_0x35de3e=_0x1e49c4['length']>0x0?_0x1e49c4[_0x37feda(0x366)]((_0xe7a017,_0x34a7ff)=>_0xe7a017+_0x34a7ff,0x0)/_0x1e49c4[_0x37feda(0x987)]:0x0,_0x183e23=_0x5c464d[_0x37feda(0x72a)][_0x37feda(0x987)],_0x2d4186=_0x183e23>0x0?_0x35de3e/_0x183e23*0x64:0x0,_0x49aef9=calculateItemAnalysis(_0x5c464d,_0x549962),_0x5590cf=calculateReliabilityKR20(_0x5c464d,_0x549962,_0x49aef9[_0x37feda(0x183)]);let _0x39d9ae='';if(_0x5590cf!==null){let _0x285aa0='';if(_0x5590cf>=0.9)_0x285aa0='ยอดเยี่ยม';else{if(_0x5590cf>=0.8)_0x285aa0=_0x37feda(0x4e3);else{if(_0x5590cf>=0.7)_0x285aa0='ดี';else{if(_0x5590cf>=0.6)_0x285aa0=_0x37feda(0x46b);else _0x285aa0='ควรปรับปรุง';}}}_0x39d9ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x5590cf[_0x37feda(0xab4)](0x2)+_0x37feda(0x410)+_0x285aa0+_0x37feda(0x2f4);}const _0x45ddcc=document['getElementById']('analytics-summary-cards');_0x45ddcc['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x601e9a[_0x37feda(0xab4)](0x0)+_0x37feda(0x640)+_0x2ca248+'/'+_0x23ca46+_0x37feda(0xa2f)+_0x35de3e['toFixed'](0x2)+_0x37feda(0x598)+_0x2d4186[_0x37feda(0xab4)](0x0)+_0x37feda(0x13c)+(_0x1e49c4[_0x37feda(0x987)]>0x0?Math[_0x37feda(0x829)](..._0x1e49c4):_0x37feda(0xaee))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x1e49c4[_0x37feda(0x987)]>0x0?Math[_0x37feda(0xa0f)](..._0x1e49c4):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39d9ae+_0x37feda(0x225);const _0x5e02c5=document[_0x37feda(0x7a2)](_0x37feda(0x1fa));_0x5e02c5&&_0x5e02c5['remove']();const _0x42384e=_0x37feda(0xc35);_0x45ddcc[_0x37feda(0x59f)](_0x37feda(0x263),_0x42384e);const _0x39b7b9=currentProjectData[_0x37feda(0x8ad)]||[];renderSubmissionChart(_0x2ca248,_0x3819d8,_0x549962,_0x39b7b9),renderScoreDistributionChart(_0x549962,_0x183e23),renderQuestionAnalytics(_0x5c464d,_0x549962,_0x39b7b9),renderInterestingStats(_0x5c464d,_0x549962);}async function handleExportLessonPDF(){const _0x2303a4=_0x15116f,_0x46b2e=document['getElementById'](_0x2303a4(0x52a)),_0x3f0cab=document['getElementById'](_0x2303a4(0x798))[_0x2303a4(0x930)],_0x1d1db0=window[_0x2303a4(0x9f1)]('',_0x2303a4(0x75c)),_0x50ea6d=_0x2303a4(0x5ab)+_0x3f0cab+_0x2303a4(0x9c0)+_0x46b2e[_0x2303a4(0x322)]+_0x2303a4(0x1e5);_0x1d1db0[_0x2303a4(0x79e)][_0x2303a4(0x5c1)](_0x50ea6d),_0x1d1db0[_0x2303a4(0x79e)][_0x2303a4(0xb34)](),_0x1d1db0['onload']=function(){setTimeout(()=>{const _0x19c92c=_0x1996;_0x1d1db0[_0x19c92c(0x388)]();},0x5dc);};}function renderInterestingStats(_0xe4ea1b,_0x18d654){const _0x4d029c=_0x15116f,_0x5292ff=document[_0x4d029c(0x7a2)](_0x4d029c(0x71e));if(!_0x5292ff)return;if(_0x18d654['length']===0x0){_0x5292ff[_0x4d029c(0x322)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x2e5265=_0xe4ea1b[_0x4d029c(0x72a)]['map']((_0x2f2b78,_0x199d6e)=>({'index':_0x199d6e+0x1,'text':_0x2f2b78[_0x4d029c(0x187)]||_0x2f2b78[_0x4d029c(0xa68)],'correct':0x0}));_0x18d654['forEach'](_0x103efb=>{const _0x8c7699=_0x4d029c,_0x2e4c2a=_0x103efb[_0x8c7699(0x7a1)][_0x103efb['attempts']['length']-0x1];_0x2e4c2a&&_0x2e4c2a[_0x8c7699(0xc54)]&&_0x2e4c2a['answers'][_0x8c7699(0x1b7)](_0x4ae7ee=>{const _0x364c8e=_0x8c7699,_0x144f86=_0x2e5265[_0x364c8e(0x22a)](_0x14983e=>_0x14983e[_0x364c8e(0x9ef)]===_0x4ae7ee['originalQuestionText']);_0x4ae7ee[_0x364c8e(0x653)]&&_0x144f86&&_0x144f86[_0x364c8e(0x480)]++;});});const _0x5ccfc0=_0x18d654[_0x4d029c(0x987)],_0x1c11c5=Math[_0x4d029c(0x829)](..._0x2e5265[_0x4d029c(0x217)](_0x48a70e=>_0x48a70e[_0x4d029c(0x480)])),_0x2f04ea=Math['min'](..._0x2e5265['map'](_0x1a8e48=>_0x1a8e48[_0x4d029c(0x480)])),_0x52a4be=_0x2e5265['filter'](_0x5ad92b=>_0x5ad92b['correct']===_0x1c11c5)[_0x4d029c(0x217)](_0x3b296b=>_0x4d029c(0x78f)+_0x3b296b[_0x4d029c(0xad0)]),_0x550fe4=_0x2e5265[_0x4d029c(0x431)](_0xb9f7f4=>_0xb9f7f4['correct']===_0x2f04ea)[_0x4d029c(0x217)](_0x3fcc9c=>_0x4d029c(0x78f)+_0x3fcc9c[_0x4d029c(0xad0)]),_0x513f49=_0x18d654[_0x4d029c(0x2ea)]((_0x560893,_0x21440e)=>_0x21440e[_0x4d029c(0x801)]-_0x560893['latestScore'])[_0x4d029c(0x431)]((_0x134227,_0x108860,_0x3748fb)=>_0x134227['latestScore']===_0x3748fb[0x0]['latestScore']),_0x41ab35=_0x18d654[_0x4d029c(0x2ea)]((_0x46e1f6,_0xc16c8d)=>_0x46e1f6[_0x4d029c(0x801)]-_0xc16c8d[_0x4d029c(0x801)])[_0x4d029c(0x431)]((_0x31089d,_0x2f12f8,_0x4bd77b)=>_0x31089d[_0x4d029c(0x801)]===_0x4bd77b[0x0]['latestScore']),_0xbedce9=_0x4d029c(0xb07)+_0x52a4be[_0x4d029c(0x935)](',\x20')+_0x4d029c(0xb79)+_0x1c11c5+'\x20/\x20'+_0x5ccfc0+_0x4d029c(0x746)+_0x550fe4[_0x4d029c(0x935)](',\x20')+_0x4d029c(0xb79)+(_0x5ccfc0-_0x2f04ea)+_0x4d029c(0xaaf)+_0x5ccfc0+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x513f49[_0x4d029c(0x217)](_0x5e8ec0=>_0x5e8ec0['studentName'])['join'](',\x20')+_0x4d029c(0xc0c)+_0x513f49[0x0]['latestScore']+_0x4d029c(0x3a6)+_0x41ab35['map'](_0x5b6de1=>_0x5b6de1[_0x4d029c(0xb82)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x41ab35[0x0][_0x4d029c(0x801)]+_0x4d029c(0x66f);_0x5292ff['innerHTML']=_0xbedce9;}function renderSubmissionChart(_0x5c80a5,_0x332373,_0x47053b,_0x24831e){const _0x5d6fc6=_0x15116f,_0x5b17b8=document[_0x5d6fc6(0x7a2)](_0x5d6fc6(0x246))[_0x5d6fc6(0xfb)]('2d'),_0x364f56=_0x47053b[_0x5d6fc6(0x217)](_0x26bccc=>_0x26bccc[_0x5d6fc6(0xb82)]),_0x5a96c0=_0x24831e['filter'](_0x4fd7f3=>!_0x364f56[_0x5d6fc6(0x679)](_0x4fd7f3));chartInstances[_0x5d6fc6(0x7c4)]&&chartInstances[_0x5d6fc6(0x7c4)][_0x5d6fc6(0x921)](),chartInstances[_0x5d6fc6(0x7c4)]=new Chart(_0x5b17b8,{'type':'doughnut','data':{'labels':[_0x5d6fc6(0xb3b),'ยังไม่ส่ง'],'datasets':[{'data':[_0x5c80a5,_0x332373],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x5d6fc6(0x2f7),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5d6fc6(0xc2c)},'tooltip':{'callbacks':{'label':function(_0x2d488d){const _0x1a57ff=_0x5d6fc6;let _0x1fb1ea=_0x2d488d['label']||'';return _0x1fb1ea&&(_0x1fb1ea+=':\x20'),_0x1fb1ea+=_0x2d488d[_0x1a57ff(0xbe6)],_0x1fb1ea;},'afterLabel':function(_0x57bbff){const _0x37ac1a=_0x5d6fc6;let _0x21d459;return _0x57bbff['dataIndex']===0x0?_0x21d459=_0x364f56:_0x21d459=_0x5a96c0,_0x21d459[_0x37ac1a(0x987)]>0x0?_0x21d459[_0x37ac1a(0x935)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x3ca3da,_0x1aae75){const _0x12ec28=_0x15116f,_0x430cef=document[_0x12ec28(0x7a2)](_0x12ec28(0xb5a))[_0x12ec28(0xfb)]('2d'),_0x46e8ab={};for(let _0x4d942c=0x0;_0x4d942c<=_0x1aae75;_0x4d942c++){_0x46e8ab[_0x4d942c]=0x0;}_0x3ca3da[_0x12ec28(0x1b7)](_0x5b8f86=>{const _0x844d64=_0x12ec28;_0x46e8ab[_0x5b8f86[_0x844d64(0x801)]]!==undefined&&_0x46e8ab[_0x5b8f86[_0x844d64(0x801)]]++;}),chartInstances['score']&&chartInstances[_0x12ec28(0x24f)]['destroy'](),chartInstances[_0x12ec28(0x24f)]=new Chart(_0x430cef,{'type':_0x12ec28(0x433),'data':{'labels':Object[_0x12ec28(0x377)](_0x46e8ab),'datasets':[{'label':_0x12ec28(0xa7e),'data':Object[_0x12ec28(0xc27)](_0x46e8ab),'backgroundColor':_0x12ec28(0x444),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x12ec28(0x98e)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x50a4f7){const _0x2a8279=_0x12ec28,_0x36bb46=_0x50a4f7[_0x2a8279(0x96a)],_0x427f43=_0x3ca3da[_0x2a8279(0x431)](_0x4b81bb=>_0x4b81bb[_0x2a8279(0x801)]==_0x36bb46)[_0x2a8279(0x217)](_0x462920=>_0x462920['studentName']);return _0x427f43[_0x2a8279(0x987)]>0x0?_0x427f43[_0x2a8279(0x935)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xddcc52,_0x1ab285,_0xe0f28f){const _0x4c9c56=_0x15116f,_0x2bc676=document[_0x4c9c56(0x7a2)](_0x4c9c56(0x71d));if(_0xe0f28f['length']===0x0){_0x2bc676[_0x4c9c56(0x322)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0xcc016f=calculateItemAnalysis(_0xddcc52,_0x1ab285),_0x5645a3=calculateDistractorAnalysis(_0xddcc52,_0x1ab285);let _0x14fed4='';_0xcc016f[_0x4c9c56(0xc30)]&&(_0x14fed4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0xcc016f['overallGroups'][_0x4c9c56(0x20e)][_0x4c9c56(0x987)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcc016f[_0x4c9c56(0xc30)]['upperGroupNames'][_0x4c9c56(0x217)](_0x57737c=>'<li>'+_0x57737c+_0x4c9c56(0x4b0))[_0x4c9c56(0x935)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xcc016f[_0x4c9c56(0xc30)][_0x4c9c56(0x70f)][_0x4c9c56(0x987)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcc016f['overallGroups'][_0x4c9c56(0x70f)][_0x4c9c56(0x217)](_0x34aebc=>_0x4c9c56(0x731)+_0x34aebc+_0x4c9c56(0x4b0))[_0x4c9c56(0x935)]('')+_0x4c9c56(0x1ce));let _0x400271='';const _0x60ff6e=_0x1ab285[_0x4c9c56(0x217)](_0xcf89a6=>_0xcf89a6[_0x4c9c56(0xb82)]),_0x5df59f=_0x203c0c=>{const _0x4db33e=_0x4c9c56;if(_0x203c0c>=0.8)return _0x4db33e(0x38b);if(_0x203c0c>=0.6)return _0x4db33e(0xb48);if(_0x203c0c>=0.4)return _0x4db33e(0x36a);if(_0x203c0c>=0.2)return _0x4db33e(0x922);return _0x4db33e(0xa5a);},_0x17402a=_0x1ab0d5=>{const _0x1bc59f=_0x4c9c56;if(_0x1ab0d5<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x1ab0d5>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x1ab0d5>=0.3)return _0x1bc59f(0x330);if(_0x1ab0d5>=0.2)return _0x1bc59f(0x4d2);return _0x1bc59f(0xa75);},_0x949939=_0x4e542c=>{const _0x66b05c=_0x4c9c56,_0x4453ae=_0x4e542c[_0x66b05c(0xab4)](0x0);if(parseFloat(_0x4453ae)===0x64)return _0x66b05c(0x40b)+_0x4453ae+'%</span>';if(_0x4e542c>=0x32)return _0x66b05c(0x1c6)+_0x4453ae+'%</span>';return _0x66b05c(0x635)+_0x4453ae+'%</span>';};_0xddcc52[_0x4c9c56(0x72a)][_0x4c9c56(0x1b7)]((_0x5a621a,_0xc2d9b1)=>{const _0x529ae9=_0x4c9c56,_0x3118e9=_0xcc016f['perQuestionStats'][_0xc2d9b1],_0x1e77b5=_0x5645a3[_0xc2d9b1],_0x3aafa4=_0x5a621a[_0x529ae9(0xa68)]||_0x5a621a[_0x529ae9(0x187)]||_0x5a621a['instructions'];let _0x16d413=0x0;const _0x19ea57=[],_0x59b807=[];_0x1ab285[_0x529ae9(0x1b7)](_0x5ecdc9=>{const _0x1bd8d1=_0x529ae9,_0x3e295d=_0x5ecdc9[_0x1bd8d1(0x7a1)][_0x5ecdc9[_0x1bd8d1(0x7a1)][_0x1bd8d1(0x987)]-0x1];if(_0x3e295d&&_0x3e295d[_0x1bd8d1(0xc54)]){const _0x3bc235=_0x3e295d[_0x1bd8d1(0xc54)][_0x1bd8d1(0x22a)](_0xad818d=>_0xad818d['originalQuestionText']===_0x3aafa4)??_0x3e295d[_0x1bd8d1(0xc54)][_0xc2d9b1]??null;_0x3bc235&&(_0x3bc235['isCorrect']?(_0x16d413++,_0x19ea57[_0x1bd8d1(0x8e7)](_0x5ecdc9[_0x1bd8d1(0xb82)])):_0x59b807[_0x1bd8d1(0x8e7)](_0x5ecdc9[_0x1bd8d1(0xb82)]));}});const _0xfdeed0=_0x1ab285[_0x529ae9(0x987)]>0x0?_0x16d413/_0x1ab285[_0x529ae9(0x987)]*0x64:0x0,_0x4902d4=_0xe0f28f[_0x529ae9(0x431)](_0x480176=>!_0x60ff6e[_0x529ae9(0x679)](_0x480176)),_0x82bc90=_0x3118e9?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x3118e9['p'][_0x529ae9(0xab4)](0x2)+_0x529ae9(0x25f)+_0x5df59f(_0x3118e9['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x3118e9['r'][_0x529ae9(0xab4)](0x2)+'</p><div>'+_0x17402a(_0x3118e9['r'])+_0x529ae9(0xafe)+_0x949939(_0xfdeed0)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x12ea06='';_0x1e77b5&&(_0x12ea06=_0x529ae9(0x503)+Object['keys'](_0x1e77b5)[_0x529ae9(0x217)](_0x9b5208=>{const _0x5afd9b=_0x529ae9,_0x30c2f5=_0x1e77b5[_0x9b5208],_0x33fd32=parseInt(_0x9b5208)===_0x5a621a[_0x5afd9b(0x4fa)],_0x16b8f3=!_0x33fd32&&_0x30c2f5[_0x5afd9b(0x2df)]>_0x30c2f5[_0x5afd9b(0x205)];return'<tr\x20class=\x22'+(_0x33fd32?_0x5afd9b(0x896):'')+_0x5afd9b(0x885)+(_0x33fd32?'✔\x20':'')+_0x30c2f5[_0x5afd9b(0x9ef)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x30c2f5[_0x5afd9b(0x205)]+_0x5afd9b(0x8b5)+_0x30c2f5[_0x5afd9b(0x2df)]+'\x20'+(_0x16b8f3?'👍':'')+_0x5afd9b(0x8b5)+_0x30c2f5[_0x5afd9b(0x8be)]+_0x5afd9b(0x62d);})[_0x529ae9(0x935)]('')+_0x529ae9(0x625));let _0x10d667='';_0x3118e9&&_0x3118e9[_0x529ae9(0x900)]&&(_0x10d667=_0x529ae9(0x1e3)+_0x3118e9[_0x529ae9(0x900)]['length']+_0x529ae9(0xb92)+_0x3118e9['upperGroupResponders']['map'](_0x49db24=>'<li>'+(_0x49db24['isCorrect']?_0x529ae9(0x4e1):_0x529ae9(0x954))+'\x20'+_0x49db24[_0x529ae9(0x947)]+_0x529ae9(0x4b0))['join']('')+_0x529ae9(0xbc8)+_0x3118e9[_0x529ae9(0x3e8)]['length']+_0x529ae9(0xb92)+_0x3118e9[_0x529ae9(0x3e8)][_0x529ae9(0x217)](_0x7c7953=>_0x529ae9(0x731)+(_0x7c7953[_0x529ae9(0x653)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x529ae9(0x954))+'\x20'+_0x7c7953['name']+_0x529ae9(0x4b0))['join']('')+_0x529ae9(0x77b)),_0x400271+=_0x529ae9(0x34b)+(_0xc2d9b1+0x1)+':\x20'+_0x3aafa4+_0x529ae9(0x764)+_0x82bc90+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3aafa4+_0x529ae9(0x102)+_0x16d413+_0x529ae9(0x27e)+_0x1ab285[_0x529ae9(0x987)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0xfdeed0['toFixed'](0x0)+_0x529ae9(0x7e8)+_0x19ea57['length']+_0x529ae9(0x51d)+(_0x19ea57[_0x529ae9(0x987)]>0x0?_0x19ea57[_0x529ae9(0x935)](',\x20'):_0x529ae9(0x1a3))+_0x529ae9(0x4e0)+_0x59b807[_0x529ae9(0x987)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x59b807['length']>0x0?_0x59b807['join'](',\x20'):_0x529ae9(0x1a3))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x4902d4[_0x529ae9(0x987)]+_0x529ae9(0x51d)+(_0x4902d4[_0x529ae9(0x987)]>0x0?_0x4902d4['join'](',\x20'):_0x529ae9(0x1a3))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12ea06+_0x529ae9(0x420)+_0x10d667+_0x529ae9(0x734);}),_0x2bc676[_0x4c9c56(0x322)]=_0x14fed4+_0x400271;try{window[_0x4c9c56(0x8a8)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x2bc676]);}catch(_0x1b8143){console[_0x4c9c56(0x13b)](_0x4c9c56(0xc1a),_0x1b8143);}}function _0x1996(_0x3ecb20,_0x199487){const _0x3b6ff9=_0x3b6f();return _0x1996=function(_0x199691,_0x46cf34){_0x199691=_0x199691-0xed;let _0x1a61ab=_0x3b6ff9[_0x199691];return _0x1a61ab;},_0x1996(_0x3ecb20,_0x199487);}function calculateDistractorAnalysis(_0x413932,_0x28e124){const _0x68f58d=_0x15116f,_0x3e7e50={};if(_0x28e124[_0x68f58d(0x987)]<0x2)return _0x3e7e50;const _0x5675b7=[..._0x28e124][_0x68f58d(0x2ea)]((_0xcd92f8,_0x1f72ad)=>{const _0xb594e4=_0x68f58d,_0x4e3307=_0x1f72ad[_0xb594e4(0x801)]-_0xcd92f8[_0xb594e4(0x801)];if(_0x4e3307!==0x0)return _0x4e3307;const _0x106591=_0xcd92f8[_0xb594e4(0x7a1)]?.['length']||0x1,_0x2b1fc4=_0x1f72ad['attempts']?.[_0xb594e4(0x987)]||0x1,_0x217b4d=_0x106591-_0x2b1fc4;if(_0x217b4d!==0x0)return _0x217b4d;const _0x1b16e8=new Date(_0xcd92f8['latestSubmittedAt']),_0x1ec9ae=new Date(_0x1f72ad['latestSubmittedAt']),_0x452b35=_0x1b16e8-_0x1ec9ae;if(_0x452b35!==0x0)return _0x452b35;return _0xcd92f8['studentName'][_0xb594e4(0xb43)](_0x1f72ad['studentName'],'th');}),_0x1b668c=_0x5675b7[_0x68f58d(0x987)],_0x5f4721=Math[_0x68f58d(0x829)](0x1,Math['floor'](_0x1b668c*0.33)),_0x26bf0a=_0x5675b7['slice'](0x0,_0x5f4721),_0x5b59bb=_0x5675b7[_0x68f58d(0xf9)](-_0x5f4721);return _0x413932[_0x68f58d(0x72a)][_0x68f58d(0x1b7)]((_0x1e95f8,_0x76580c)=>{const _0xde5658=_0x68f58d;if(_0x1e95f8[_0xde5658(0x5ac)]!==_0xde5658(0x2ac)||!_0x1e95f8[_0xde5658(0xbd3)])return;const _0xf4ff5c=_0x1e95f8[_0xde5658(0x187)],_0x253fa2={};_0x1e95f8[_0xde5658(0xbd3)][_0xde5658(0x1b7)]((_0x12fe59,_0x2f87fc)=>{_0x253fa2[_0x2f87fc]={'text':_0x12fe59,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5675b7['forEach'](_0x16bb48=>{const _0x10c69a=_0xde5658,_0x4b66f4=_0x16bb48[_0x10c69a(0x7a1)][_0x16bb48[_0x10c69a(0x7a1)][_0x10c69a(0x987)]-0x1],_0x4dfca7=_0x4b66f4[_0x10c69a(0xc54)][_0x10c69a(0x22a)](_0x13012b=>_0x13012b[_0x10c69a(0x549)]===_0xf4ff5c);if(_0x4dfca7&&_0x4dfca7[_0x10c69a(0x796)]!==null){const _0x27b9b4=_0x1e95f8[_0x10c69a(0xbd3)][_0x10c69a(0xc2b)](_0x481c9d=>_0x481c9d===_0x4dfca7[_0x10c69a(0x50c)]);_0x27b9b4!==-0x1&&_0x253fa2[_0x27b9b4]&&(_0x253fa2[_0x27b9b4]['total']++,_0x26bf0a[_0x10c69a(0x679)](_0x16bb48)&&_0x253fa2[_0x27b9b4][_0x10c69a(0x205)]++,_0x5b59bb[_0x10c69a(0x679)](_0x16bb48)&&_0x253fa2[_0x27b9b4][_0x10c69a(0x2df)]++);}}),_0x3e7e50[_0x76580c]=_0x253fa2;}),_0x3e7e50;}function calculateReliabilityKR20(_0x450ea8,_0x3b8808,_0x119a3e){const _0x5894b3=_0x15116f,_0x3607c2=_0x450ea8[_0x5894b3(0x72a)][_0x5894b3(0x987)];if(_0x3607c2<0x2||_0x3b8808[_0x5894b3(0x987)]<0x2)return null;const _0x56d5a7=_0x3b8808[_0x5894b3(0x217)](_0x507463=>_0x507463[_0x5894b3(0x801)]),_0x5e30ea=_0x56d5a7[_0x5894b3(0x366)]((_0x3f63e8,_0x2f4ad9)=>_0x3f63e8+_0x2f4ad9,0x0)/_0x56d5a7['length'],_0x34716c=_0x56d5a7[_0x5894b3(0x217)](_0x47f705=>Math[_0x5894b3(0xa55)](_0x47f705-_0x5e30ea,0x2))[_0x5894b3(0x366)]((_0x3f0e49,_0x4a998f)=>_0x3f0e49+_0x4a998f,0x0)/_0x56d5a7['length'];if(_0x34716c===0x0)return null;let _0x5d0b71=0x0;for(let _0x509f45=0x0;_0x509f45<_0x3607c2;_0x509f45++){const _0x31ed58=_0x119a3e[_0x509f45]?.['p'];if(_0x31ed58===undefined)continue;const _0x3a798e=0x1-_0x31ed58;_0x5d0b71+=_0x31ed58*_0x3a798e;}if(_0x5d0b71===0x0)return null;const _0x64ecfe=_0x3607c2/(_0x3607c2-0x1)*(0x1-_0x5d0b71/_0x34716c);if(_0x64ecfe>0x1)return null;return _0x64ecfe;}async function handleAnalyzeClass(){const _0x28c53e=_0x15116f;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x28c53e(0x417));return;}const _0x172df5=collection(db,_0x28c53e(0xc14)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x28c53e(0x68c)),_0x458fdc=await getDocs(_0x172df5),_0x2bf740=_0x458fdc[_0x28c53e(0x610)][_0x28c53e(0x217)](_0x49bdca=>_0x49bdca[_0x28c53e(0xc6b)]());if(_0x2bf740['length']<0x2){showMessage(_0x28c53e(0x872));return;}const _0x1f4e5d=document[_0x28c53e(0x7a2)](_0x28c53e(0x64c));_0x1f4e5d[_0x28c53e(0x322)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById']('analyze-strengths-btn')[_0x28c53e(0xc47)]=!![];const _0x3d162b=_0x2bf740[_0x28c53e(0x217)]((_0x446392,_0x5af73e)=>{const _0xcc2eb6=_0x28c53e,_0x486526=_0x446392[_0xcc2eb6(0x7a1)][_0x446392['attempts'][_0xcc2eb6(0x987)]-0x1];if(!_0x486526)return'';return _0xcc2eb6(0xb60)+(_0x5af73e+0x1)+'\x20('+_0x446392[_0xcc2eb6(0xb82)]+_0xcc2eb6(0x9eb)+_0x486526['score']+'/'+_0x446392['totalQuestions']+_0xcc2eb6(0x45e)+JSON['stringify'](_0x486526['answers'])+_0xcc2eb6(0x3eb);})[_0x28c53e(0x935)]('\x0a---\x0a'),_0x535586=_0x28c53e(0xb33)+currentQuizData[_0x28c53e(0xc63)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d162b+_0x28c53e(0x48e),_0x50f6db={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x28c53e(0x87c)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x28c53e(0x87c)}}},'required':['classStrengths',_0x28c53e(0x951),_0x28c53e(0x7c8)]};try{const _0xfd83a7=await callAnalysisApi(_0x535586,_0x50f6db);displayClassAnalysis(_0xfd83a7);}catch(_0x3d121f){console[_0x28c53e(0x13b)](_0x28c53e(0xa96),_0x3d121f),_0x1f4e5d['innerHTML']=_0x28c53e(0x830)+_0x3d121f[_0x28c53e(0x56e)]+'</p></div>';}finally{document['getElementById'](_0x28c53e(0xbbe))[_0x28c53e(0xc47)]=![];}}function displayClassAnalysis(_0x2eff5a){const _0x1cfd47=_0x15116f,_0x5c31ca=document[_0x1cfd47(0x7a2)](_0x1cfd47(0x64c));if(!_0x2eff5a){_0x5c31ca[_0x1cfd47(0x322)]=_0x1cfd47(0x718);return;}_0x5c31ca[_0x1cfd47(0x322)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2eff5a[_0x1cfd47(0x4c9)][_0x1cfd47(0x217)](_0x2e94ea=>'<li>'+_0x2e94ea+'</li>')[_0x1cfd47(0x935)]('')+_0x1cfd47(0x7c6)+_0x2eff5a[_0x1cfd47(0x951)]['map'](_0x459461=>_0x1cfd47(0x731)+_0x459461+_0x1cfd47(0x4b0))[_0x1cfd47(0x935)]('')+_0x1cfd47(0x5af)+_0x2eff5a[_0x1cfd47(0x7c8)][_0x1cfd47(0x217)](_0x1fb7c6=>_0x1cfd47(0x731)+_0x1fb7c6+_0x1cfd47(0x4b0))[_0x1cfd47(0x935)]('')+_0x1cfd47(0x8e6);}function formatAndPrintWorksheet(_0x1a7e13,_0x4a331f){const _0x355adb=_0x15116f,_0xea9bf0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1a7e13[_0x355adb(0xc63)]+_0x355adb(0x846)+_0x1a7e13[_0x355adb(0xc63)]+_0x355adb(0xace)+_0x1a7e13[_0x355adb(0x72a)][_0x355adb(0x217)]((_0xb58d93,_0x230ee7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x230ee7+0x1)+'.\x20'+_0xb58d93[_0x355adb(0x187)]+_0x355adb(0x99b)+(_0xb58d93[_0x355adb(0x8b6)]?_0x355adb(0x357)+_0xb58d93[_0x355adb(0x8b6)]+_0x355adb(0x5ae):'')+_0x355adb(0x172))[_0x355adb(0x935)]('')+_0x355adb(0x6df);_0x4a331f['document']['write'](_0xea9bf0),_0x4a331f[_0x355adb(0x79e)][_0x355adb(0xb34)](),_0x4a331f['onload']=function(){setTimeout(()=>{const _0x39f71c=_0x1996;_0x4a331f[_0x39f71c(0x388)]();},0x3e8);};}async function generateWorksheet(){const _0xdc9cf3=_0x15116f,_0x2421dc=document['getElementById']('worksheet-topic-input')[_0xdc9cf3(0x682)][_0xdc9cf3(0x6ad)]();if(!_0x2421dc){showMessage(_0xdc9cf3(0x51a));return;}const _0x2a1dfa=document['getElementById'](_0xdc9cf3(0x4df))[_0xdc9cf3(0x8cc)],_0x3ee28f=_0x2a1dfa?'':_0xdc9cf3(0xef),_0x517b67=window['open']('',_0xdc9cf3(0x75c));_0x517b67['document'][_0xdc9cf3(0x5c1)](_0xdc9cf3(0xbb2));const _0x160995=parseInt(document[_0xdc9cf3(0x7a2)](_0xdc9cf3(0x7c3))[_0xdc9cf3(0x682)]),_0x6c8290=document['getElementById'](_0xdc9cf3(0x784))[_0xdc9cf3(0x8cc)],_0x4e91b9=_0x6c8290?_0xdc9cf3(0x9f6):'',_0x3488e1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x3ee28f+_0xdc9cf3(0xc00)+_0x160995+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x2421dc+_0xdc9cf3(0x1cc)+_0x4e91b9+_0xdc9cf3(0x1c5)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x11acf4={'type':_0xdc9cf3(0x8c9),'properties':{'topic':{'type':_0xdc9cf3(0x87c)},'questions':{'type':_0xdc9cf3(0x587),'items':{'type':_0xdc9cf3(0x8c9),'properties':{'questionText':{'type':_0xdc9cf3(0x87c)},'imageCode':{'type':_0xdc9cf3(0x87c)}},'required':[_0xdc9cf3(0x187)]}}},'required':['topic',_0xdc9cf3(0x72a)]};document['getElementById'](_0xdc9cf3(0x91a))[_0xdc9cf3(0x930)]='',document[_0xdc9cf3(0x7a2)](_0xdc9cf3(0x88f))[_0xdc9cf3(0x6e6)]['remove'](_0xdc9cf3(0x106)),document[_0xdc9cf3(0x7a2)](_0xdc9cf3(0x2f6))['classList'][_0xdc9cf3(0x367)](_0xdc9cf3(0x106)),generateWorksheetBtn[_0xdc9cf3(0xc47)]=!![];try{const _0x2d6e50=await callAnalysisApi(_0x3488e1,_0x11acf4);formatAndPrintWorksheet(_0x2d6e50,_0x517b67);}catch(_0x384ee9){console[_0xdc9cf3(0x13b)](_0xdc9cf3(0x38a),_0x384ee9);if(_0x517b67)_0x517b67[_0xdc9cf3(0xb34)]();showMessage(_0xdc9cf3(0x64e));}finally{document['getElementById'](_0xdc9cf3(0x88f))[_0xdc9cf3(0x6e6)][_0xdc9cf3(0x360)](_0xdc9cf3(0x106)),document['getElementById']('quiz-generation-area')[_0xdc9cf3(0x6e6)][_0xdc9cf3(0x360)](_0xdc9cf3(0x106)),generateWorksheetBtn[_0xdc9cf3(0xc47)]=![];}}async function callAnalysisApi(_0xcc3c8b,_0x46ea59){const _0x50a25e=_0x15116f,_0x2639c1={'contents':[{'role':_0x50a25e(0xc05),'parts':[{'text':_0xcc3c8b}]}],'generationConfig':{'responseMimeType':_0x50a25e(0xa8a),'responseSchema':_0x46ea59}},_0x4e15e7=_0x50a25e(0xac4),_0x4ae417=_0x50a25e(0xa3c)+_0x4e15e7,_0x458e33=await fetch(_0x4ae417,{'method':_0x50a25e(0x654),'headers':{'Content-Type':_0x50a25e(0xa8a)},'body':JSON[_0x50a25e(0x352)](_0x2639c1)});if(!_0x458e33['ok'])throw new Error(_0x50a25e(0x177)+_0x458e33[_0x50a25e(0x55a)]);const _0x310079=await _0x458e33[_0x50a25e(0x1a7)]();if(_0x310079[_0x50a25e(0x9b4)]?.[0x0]?.[_0x50a25e(0x2c0)]?.[_0x50a25e(0x4e9)]?.[0x0])return JSON[_0x50a25e(0x877)](_0x310079[_0x50a25e(0x9b4)][0x0][_0x50a25e(0x2c0)][_0x50a25e(0x4e9)][0x0][_0x50a25e(0x9ef)]);else{let _0x5250d3='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x310079[_0x50a25e(0xb74)]?.['blockReason'])_0x5250d3=_0x50a25e(0x783)+_0x310079['promptFeedback'][_0x50a25e(0x1f2)]+'.';else _0x310079[_0x50a25e(0x9b4)]?.[0x0]?.[_0x50a25e(0x233)]&&_0x310079['candidates'][0x0][_0x50a25e(0x233)]!==_0x50a25e(0x5fe)&&(_0x5250d3='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x310079[_0x50a25e(0x9b4)][0x0][_0x50a25e(0x233)]+'.');console['error'](_0x5250d3,JSON[_0x50a25e(0x352)](_0x310079));throw new Error(_0x5250d3);}}async function handleStartSyncMode(_0x1ea1f7,_0x5a7c88=![]){const _0x2d45b7=_0x15116f,_0x4782b8=allQuizzes[_0x2d45b7(0x22a)](_0x5c1d2a=>_0x5c1d2a['id']===_0x1ea1f7)||allQuizzesGlobal[_0x2d45b7(0x22a)](_0x5327c3=>_0x5327c3['id']===_0x1ea1f7);if(!_0x4782b8){showMessage(_0x2d45b7(0xc0a));return;}currentQuizData=getShuffledQuiz(_0x4782b8);const _0x3f4cbe=Math[_0x2d45b7(0x1c8)](0x3e8+Math[_0x2d45b7(0xaeb)]()*0x2328)[_0x2d45b7(0x42f)]();try{const _0x3c80fc=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x4782b8['id'],'pin':_0x3f4cbe,'status':_0x2d45b7(0x72d),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5a7c88,'players':{}});currentLiveGameId=_0x3c80fc['id'],showView(_0x2d45b7(0xa89)),renderSyncLobbyView(_0x3f4cbe,_0x4782b8[_0x2d45b7(0xc63)]),listenForSyncGameUpdates();}catch(_0x15b4e6){console[_0x2d45b7(0x13b)](_0x2d45b7(0x8c0),_0x15b4e6),showMessage(_0x2d45b7(0x761));}}function calculateFinalPodiumScores(_0xd4ba48){const _0x3863de=_0x15116f;if(!_0xd4ba48||!_0xd4ba48[_0x3863de(0x4ff)]||!_0xd4ba48[_0x3863de(0x7c5)])return _0xd4ba48[_0x3863de(0x7c5)]||{};const _0x64656a=_0xd4ba48[_0x3863de(0x4ff)][_0x3863de(0x72a)][_0x3863de(0x987)],_0x539028=JSON['parse'](JSON[_0x3863de(0x352)](_0xd4ba48[_0x3863de(0x7c5)]));return Object[_0x3863de(0xc27)](_0x539028)[_0x3863de(0x1b7)](_0x59a316=>{const _0x40045f=_0x3863de,_0x3f6073=_0x59a316[_0x40045f(0x24f)];let _0x4774a3=_0x3f6073,_0x21b50c=0x0;_0xd4ba48[_0x40045f(0x1e0)]&&_0x59a316[_0x40045f(0xc54)]&&_0x59a316[_0x40045f(0xc54)][_0x40045f(0x1b7)](_0x47b38e=>{const _0x5d312f=_0x40045f;if(_0x47b38e[_0x5d312f(0x653)]&&(_0x47b38e[_0x5d312f(0x98b)]===!![]||_0x47b38e[_0x5d312f(0x98b)]===_0x5d312f(0x6fd)))_0x21b50c+=0x1;else!_0x47b38e[_0x5d312f(0x653)]&&(_0x47b38e[_0x5d312f(0x98b)]===!![]||_0x47b38e[_0x5d312f(0x98b)]===_0x5d312f(0x6fd))&&(_0x21b50c-=0x1);}),_0x4774a3+=_0x21b50c,_0x64656a>0x0&&_0x3f6073===_0x64656a&&(_0x4774a3+=0x1,_0x59a316['hasPerfectScoreBonus']=!![]),_0x59a316['score']=_0x4774a3;}),_0x539028;}function listenForSyncGameUpdates(){const _0x17b9e7=_0x15116f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x20eb2b=doc(db,'artifacts/'+appId+_0x17b9e7(0x13d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x20eb2b,_0xca2a9b=>{const _0x2b8356=_0x17b9e7;if(!_0xca2a9b['exists']()){sessionStorage[_0x2b8356(0x19e)](_0x2b8356(0x9fd));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x2b8356(0x437));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2b8356(0x18b)?showView(_0x2b8356(0x4e2)):showView(_0x2b8356(0xb56));return;}const _0x47bd87=_0xca2a9b[_0x2b8356(0xc6b)]();currentMode==='admin'?updateAdminSyncView(_0x47bd87):updateStudentSyncView(_0x47bd87);});}function renderSyncLobbyView(_0x5213da,_0x160a4e){const _0x1ebf99=_0x15116f;liveGameView[_0x1ebf99(0x322)]=_0x1ebf99(0x291)+_0x160a4e+_0x1ebf99(0x6db)+_0x5213da+_0x1ebf99(0x841);const _0xf5222c=document[_0x1ebf99(0x7a2)](_0x1ebf99(0x539)),_0x385f27=document['getElementById'](_0x1ebf99(0x86e));_0xf5222c[_0x1ebf99(0x6d5)]('change',()=>{const _0x3b80bd=_0x1ebf99;_0x385f27['style'][_0x3b80bd(0xbdc)]=_0xf5222c[_0x3b80bd(0x8cc)]?'block':_0x3b80bd(0x799);}),document[_0x1ebf99(0x7a2)](_0x1ebf99(0x8ca))[_0x1ebf99(0x6d5)](_0x1ebf99(0x22c),async()=>{const _0x465143=_0x1ebf99,_0x374b66=doc(db,_0x465143(0xc14)+appId+_0x465143(0x13d),currentLiveGameId),_0x15faa9=document[_0x465143(0x7a2)](_0x465143(0x539))[_0x465143(0x8cc)];await updateDoc(_0x374b66,{'status':_0x465143(0x4b4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x15faa9});});}function updateAdminSyncView(_0x576788){const _0x52b250=_0x15116f;switch(_0x576788[_0x52b250(0x55a)]){case _0x52b250(0x72d):renderSyncLobbyView(_0x576788['pin'],_0x576788[_0x52b250(0x4ff)][_0x52b250(0xc63)]);const _0xb17ef2=Object[_0x52b250(0x73b)](_0x576788[_0x52b250(0x7c5)]||{})[_0x52b250(0x431)](([_0x3fbdd3,_0x558995])=>_0x558995[_0x52b250(0x55a)]!==_0x52b250(0x1c1));document[_0x52b250(0x7a2)]('player-count')[_0x52b250(0x930)]=_0xb17ef2[_0x52b250(0x987)],document[_0x52b250(0x7a2)](_0x52b250(0x588))[_0x52b250(0x322)]=_0xb17ef2[_0x52b250(0x217)](([_0x5496fc,_0x1c5173])=>_0x52b250(0x22e)+_0x5496fc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5496fc+_0x52b250(0x632))[_0x52b250(0x935)]('')||_0x52b250(0x309),document[_0x52b250(0x7a2)](_0x52b250(0x8ca))[_0x52b250(0xc47)]=_0xb17ef2[_0x52b250(0x987)]===0x0;break;case _0x52b250(0x4b4):const _0x989df3=Object[_0x52b250(0xc27)](_0x576788[_0x52b250(0x7c5)]||{})[_0x52b250(0x431)](_0x1fd971=>_0x1fd971['status']!=='inactive'),_0x15d844=_0x989df3[_0x52b250(0x431)](_0x1ce446=>_0x1ce446[_0x52b250(0x235)])[_0x52b250(0x987)],_0x166270=_0x15d844===_0x989df3[_0x52b250(0x987)]&&_0x989df3[_0x52b250(0x987)]>0x0;if(_0x166270&&_0x576788['status']==='question'){const _0x6232ff=doc(db,'artifacts/'+appId+_0x52b250(0x13d),currentLiveGameId);updateDoc(_0x6232ff,{'status':'summary'});}else{if(document['getElementById'](_0x52b250(0xa27))===null)renderAdminSyncQuestionView(_0x576788);else{const _0x52453d=document[_0x52b250(0x7a2)]('answer-counter');_0x52453d&&(_0x52453d[_0x52b250(0x930)]=_0x15d844+'/'+_0x989df3['length']);const _0x245e30=document[_0x52b250(0x7a2)](_0x52b250(0x427));_0x245e30&&(_0x245e30['innerHTML']=_0x989df3[_0x52b250(0x217)](_0x50b133=>{const _0x1dce47=_0x52b250,_0x32452d=_0x50b133[_0x1dce47(0x235)]?'bg-green-500':'bg-gray-500',_0x1e346c=_0x50b133[_0x1dce47(0x235)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1dce47(0x765);return _0x1dce47(0x849)+_0x32452d+_0x1dce47(0x5f9)+_0x1e346c+_0x1dce47(0x9b3)+_0x50b133[_0x1dce47(0x947)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x50b133[_0x1dce47(0x947)]+_0x1dce47(0x5a0);})[_0x52b250(0x935)](''));}}break;case'summary':const _0x2392ca=_0x576788[_0x52b250(0xb81)],_0xf09562=_0x576788[_0x52b250(0x4ff)][_0x52b250(0x72a)][_0x2392ca];renderSyncSummaryView(_0x576788,_0xf09562,!![]);break;case'results':renderAdminSyncDashboard(_0x576788,!![]);break;case _0x52b250(0xa12):_0x576788[_0x52b250(0xa8d)]&&saveGameResultsAsSubmissions(_0x576788);sessionStorage[_0x52b250(0x19e)](_0x52b250(0x9fd));const _0xf6923a=calculateFinalPodiumScores(_0x576788);showPodiumView(_0xf6923a,'sync');break;}}function renderAdminSyncQuestionView(_0x3a99c6){const _0x3f153f=_0x15116f,_0x37b8ac=_0x3a99c6[_0x3f153f(0xb81)],_0x1fcb39=_0x3a99c6[_0x3f153f(0x4ff)][_0x3f153f(0x72a)][_0x37b8ac],_0x9b419d=_0x3a99c6['shuffledQuiz'][_0x3f153f(0x72a)][_0x3f153f(0x987)],_0x4a9d56=Object[_0x3f153f(0xc27)](_0x3a99c6[_0x3f153f(0x7c5)]||{})[_0x3f153f(0x431)](_0x5237cb=>_0x5237cb[_0x3f153f(0x55a)]!==_0x3f153f(0x1c1)),_0x262f30=_0x4a9d56[_0x3f153f(0x431)](_0x45173a=>_0x45173a[_0x3f153f(0x235)])[_0x3f153f(0x987)],_0x512f63=_0x262f30===_0x4a9d56[_0x3f153f(0x987)]&&_0x4a9d56['length']>0x0,_0x442b17=(_0x1fcb39['options']||[])[_0x3f153f(0x217)](_0x4f118a=>_0x3f153f(0x274)+_0x4f118a+_0x3f153f(0x5ae))[_0x3f153f(0x935)]('');liveGameView[_0x3f153f(0x322)]=_0x3f153f(0x980)+(_0x37b8ac+0x1)+_0x3f153f(0xaaf)+_0x9b419d+_0x3f153f(0x416)+_0x262f30+'/'+_0x4a9d56['length']+_0x3f153f(0x742)+_0x1fcb39[_0x3f153f(0x187)]+_0x3f153f(0x942)+_0x442b17+_0x3f153f(0x3b8)+(!_0x512f63?_0x3f153f(0xc47):'')+_0x3f153f(0x8f8);if(window['MathJax'])MathJax[_0x3f153f(0x107)]();document['getElementById']('show-results-btn')[_0x3f153f(0x6d5)](_0x3f153f(0x22c),async()=>{const _0x44effc=_0x3f153f,_0x559ad3=doc(db,_0x44effc(0xc14)+appId+_0x44effc(0x13d),currentLiveGameId);await updateDoc(_0x559ad3,{'status':'results'});}),document[_0x3f153f(0x7a2)](_0x3f153f(0x7f3))[_0x3f153f(0x695)]=()=>{const _0x3c0af1=_0x3f153f;openScratchpad(_0x1fcb39,_0x1fcb39[_0x3c0af1(0xbd3)]||[]);},document[_0x3f153f(0x7a2)]('sync-manage-players-btn')['addEventListener'](_0x3f153f(0x22c),()=>{const _0x34efc9=_0x3f153f;document[_0x34efc9(0x7a2)]('sync-player-management')[_0x34efc9(0x6e6)][_0x34efc9(0xb38)](_0x34efc9(0x106));});}function renderSyncLeaderboardView(_0x3b2b09,_0x211104){const _0x42b9e9=_0x15116f,_0x3a4fff=Object[_0x42b9e9(0xc27)](_0x3b2b09[_0x42b9e9(0x7c5)]||{});_0x3a4fff[_0x42b9e9(0x2ea)]((_0x532e35,_0x1c0045)=>_0x1c0045['score']-_0x532e35[_0x42b9e9(0x24f)]);const _0x530b02=_0x3a4fff['slice'](0x0,0x5);let _0x31c37a='';if(_0x211104){const _0x1acbde=_0x3b2b09[_0x42b9e9(0xb81)]>=_0x3b2b09[_0x42b9e9(0x4ff)][_0x42b9e9(0x72a)][_0x42b9e9(0x987)]-0x1;_0x31c37a='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x1acbde?_0x42b9e9(0x45b):_0x42b9e9(0x2ff))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x31c37a='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x42b9e9(0x322)]=_0x42b9e9(0x432)+_0x530b02['map']((_0x3c2f14,_0x10ce0)=>_0x42b9e9(0xbca)+(_0x10ce0+0x1)+'.\x20'+_0x3c2f14[_0x42b9e9(0x947)]+_0x42b9e9(0xa66)+_0x3c2f14[_0x42b9e9(0x24f)]+_0x42b9e9(0x310))[_0x42b9e9(0x935)]('')+_0x42b9e9(0xbc0)+_0x31c37a+_0x42b9e9(0x241),_0x211104&&document[_0x42b9e9(0x7a2)](_0x42b9e9(0x1ac))[_0x42b9e9(0x6d5)](_0x42b9e9(0x22c),async()=>{const _0x8ed4bf=_0x42b9e9,_0x31cfd6=doc(db,_0x8ed4bf(0xc14)+appId+_0x8ed4bf(0x13d),currentLiveGameId),_0x12af91=_0x3b2b09['currentQuestionIndex']+0x1;if(_0x12af91<_0x3b2b09[_0x8ed4bf(0x4ff)][_0x8ed4bf(0x72a)][_0x8ed4bf(0x987)]){const _0x247989={};Object[_0x8ed4bf(0x377)](_0x3b2b09[_0x8ed4bf(0x7c5)])['forEach'](_0x50a778=>{_0x247989['players.'+_0x50a778+'.answered']=![];}),await updateDoc(_0x31cfd6,{..._0x247989,'status':_0x8ed4bf(0x4b4),'currentQuestionIndex':_0x12af91,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x31cfd6,{'status':_0x8ed4bf(0xa12)});});}async function handleJoinSyncGame(){const _0x5c2bfe=_0x15116f,_0x4d6055=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x4d6055||_0x4d6055[_0x5c2bfe(0x6ad)]()[_0x5c2bfe(0x987)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x238c4f=collection(db,'artifacts/'+appId+_0x5c2bfe(0x13d)),_0xa0caad=query(_0x238c4f,where(_0x5c2bfe(0xbd2),'==',_0x4d6055[_0x5c2bfe(0x6ad)]()),where('status','==',_0x5c2bfe(0x72d))),_0x3d22ea=await getDocs(_0xa0caad);if(_0x3d22ea[_0x5c2bfe(0x615)]){showMessage(_0x5c2bfe(0x64d));return;}const _0x396518=_0x3d22ea[_0x5c2bfe(0x610)][0x0];currentLiveGameId=_0x396518['id'];const _0x258d48=_0x396518[_0x5c2bfe(0xc6b)](),_0xf501dc=doc(db,_0x5c2bfe(0xc14)+appId+_0x5c2bfe(0x42c),_0x258d48[_0x5c2bfe(0x502)]),_0x54d91c=await getDoc(_0xf501dc);if(!_0x54d91c[_0x5c2bfe(0xfc)]())throw new Error(_0x5c2bfe(0x9e2));const _0x310f95=_0x54d91c['data'](),_0x5d1328=doc(db,_0x5c2bfe(0xc14)+appId+_0x5c2bfe(0x5cb),_0x310f95[_0x5c2bfe(0xb9b)]),_0x3b95f6=await getDoc(_0x5d1328);if(!_0x3b95f6[_0x5c2bfe(0xfc)]())throw new Error(_0x5c2bfe(0x166));currentQuizData=_0x258d48['shuffledQuiz'];const _0x19c47b=_0x3b95f6[_0x5c2bfe(0xc6b)]();showView('student-team-join'),showTeamPlayerSelection(_0x19c47b[_0x5c2bfe(0x8ad)],_0x310f95['topic']);const _0x3ad85c=document['getElementById']('confirm-team-players-btn');_0x3ad85c[_0x5c2bfe(0x695)]=confirmAndJoinSyncGame;}catch(_0x255a92){console[_0x5c2bfe(0x13b)]('Error\x20joining\x20sync\x20game:',_0x255a92),showMessage(_0x5c2bfe(0x9ee)+_0x255a92[_0x5c2bfe(0x56e)]);}}function updateStudentSyncView(_0x124c4c){const _0x48de7a=_0x15116f,_0x2f4033=_0x124c4c[_0x48de7a(0x7c5)][localTeamPlayers[0x0]];switch(_0x124c4c[_0x48de7a(0x55a)]){case _0x48de7a(0x72d):showView(_0x48de7a(0xa89)),liveGameView[_0x48de7a(0x322)]=_0x48de7a(0x565);break;case'question':const _0x9d06d6=localTeamPlayers[_0x48de7a(0xa03)](_0x4d20b9=>_0x124c4c[_0x48de7a(0x7c5)][_0x4d20b9]?.['answered']===!![]);_0x9d06d6?liveGameView[_0x48de7a(0x322)]=_0x48de7a(0x5e4):renderStudentSyncQuestionView(_0x124c4c);break;case _0x48de7a(0x2e8):liveGameView[_0x48de7a(0x322)]=_0x48de7a(0x460);break;case _0x48de7a(0x128):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x124c4c);break;case _0x48de7a(0xa12):sessionStorage[_0x48de7a(0x19e)](_0x48de7a(0x9fd));const _0x469c5b=calculateFinalPodiumScores(_0x124c4c);showPodiumView(_0x469c5b,_0x48de7a(0x3ee));break;}}function renderStudentSyncResultsView(_0x33a82a){const _0x12e507=_0x15116f,_0x3891ea=localTeamPlayers['map'](_0x3d89ee=>_0x33a82a[_0x12e507(0x7c5)][_0x3d89ee])[_0x12e507(0x431)](Boolean);_0x3891ea[_0x12e507(0x2ea)]((_0x1f4711,_0x22e8c5)=>(_0x22e8c5[_0x12e507(0x24f)]||0x0)-(_0x1f4711['score']||0x0));const _0x4ae387=_0x33a82a[_0x12e507(0xb81)]>=_0x33a82a['shuffledQuiz']['questions'][_0x12e507(0x987)]-0x1;let _0x495aed='';_0x4ae387?_0x495aed='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x495aed=_0x12e507(0x80c);const _0x5380bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3891ea['map']((_0x5a90ed,_0x29882a)=>_0x12e507(0x9e1)+(_0x29882a+0x1)+_0x12e507(0x507)+_0x5a90ed[_0x12e507(0x947)]+_0x12e507(0x9d5)+_0x5a90ed[_0x12e507(0x24f)]+_0x12e507(0xaff))['join']('')+_0x12e507(0xc13)+_0x495aed+_0x12e507(0x806);liveGameView[_0x12e507(0x322)]=_0x5380bb;}function renderStudentSyncQuestionView(_0x59b32d){const _0xc5a9fc=_0x15116f;while(localPlayerTurnIndex<localTeamPlayers[_0xc5a9fc(0x987)]&&_0x59b32d[_0xc5a9fc(0x7c5)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xc5a9fc(0x235)]===!![]){localPlayerTurnIndex++;}const _0x1fd5ad=localTeamPlayers[localPlayerTurnIndex];if(!_0x1fd5ad)return;const _0xe2737=_0x59b32d[_0xc5a9fc(0xb81)],_0x4b0eb2=_0x59b32d['shuffledQuiz'][_0xc5a9fc(0x72a)]['length'],_0x16a70d=_0x59b32d[_0xc5a9fc(0x4ff)][_0xc5a9fc(0x72a)][_0xe2737],_0x13f94d=_0x16a70d['questionType']||_0x59b32d['shuffledQuiz'][_0xc5a9fc(0xbe2)];let _0xb7904d='',_0xb5e3d5=![];switch(_0x13f94d){case'true_false':_0xb7904d=_0xc5a9fc(0xb5f);break;case _0xc5a9fc(0xb64):case _0xc5a9fc(0x1f3):_0xb5e3d5=!![],_0xb7904d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xc5a9fc(0xb55):_0xb5e3d5=!![],_0xb7904d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16a70d[_0xc5a9fc(0xa84)]||[])[_0xc5a9fc(0x217)](_0x3ed8a1=>_0xc5a9fc(0x559)+_0x3ed8a1+'\x22>'+_0x3ed8a1+'</option>')[_0xc5a9fc(0x935)]('')+_0xc5a9fc(0x816);break;case'multiple_choice':default:_0xb7904d=(_0x16a70d[_0xc5a9fc(0xbd3)]||[])[_0xc5a9fc(0x217)]((_0x266b22,_0x19fed5)=>_0xc5a9fc(0x55c)+_0x19fed5+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x266b22+'</button>')[_0xc5a9fc(0x935)]('');break;}liveGameView['innerHTML']=_0xc5a9fc(0x2b2)+(_0xe2737+0x1)+_0xc5a9fc(0xaaf)+_0x4b0eb2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x1fd5ad+_0xc5a9fc(0xaf3)+(_0x16a70d[_0xc5a9fc(0x187)]||_0x16a70d[_0xc5a9fc(0xa68)])+_0xc5a9fc(0x81a)+_0xb7904d+_0xc5a9fc(0xb7a);if(window[_0xc5a9fc(0x8a8)])MathJax[_0xc5a9fc(0x107)]();function _0x5119b6(_0x984a5c,_0x2e525e,_0x5426f9,_0x36a668){const _0xdce8f2=_0xc5a9fc,_0x22c947=_0x5426f9['isConfidenceScoringEnabled']===!![];if(_0x22c947){document[_0xdce8f2(0x7a2)]('confidence-modal')['dataset'][_0xdce8f2(0xc49)]=_0xdce8f2(0x3ee);const _0x9b246=document[_0xdce8f2(0x7a2)](_0xdce8f2(0x1ca));_0x9b246['dataset'][_0xdce8f2(0x717)]=_0x984a5c,_0x9b246['dataset'][_0xdce8f2(0x4b4)]=JSON[_0xdce8f2(0x352)](_0x2e525e),_0x9b246['dataset'][_0xdce8f2(0x24d)]=JSON[_0xdce8f2(0x352)](_0x5426f9),_0x9b246[_0xdce8f2(0xb1e)][_0xdce8f2(0x7ac)]=_0x36a668,document[_0xdce8f2(0x7a2)](_0xdce8f2(0x327))['classList'][_0xdce8f2(0x367)](_0xdce8f2(0x106));}else handleSyncAnswerSubmit(_0x984a5c,_0x2e525e,_0x5426f9,_0x36a668,![]);}_0xb5e3d5?document[_0xc5a9fc(0x7a2)](_0xc5a9fc(0xc37))['addEventListener'](_0xc5a9fc(0x22c),()=>{const _0x3f9915=_0xc5a9fc,_0x331fb3=document[_0x3f9915(0x7a2)]('sync-short-answer-input')||document[_0x3f9915(0x7a2)]('sync-matching-select');if(_0x331fb3[_0x3f9915(0x682)][_0x3f9915(0x6ad)]()===''){showMessage(_0x3f9915(0x68a));return;}_0x5119b6(_0x331fb3[_0x3f9915(0x682)],_0x16a70d,_0x59b32d,_0x1fd5ad);}):document[_0xc5a9fc(0x17a)](_0xc5a9fc(0x915))[_0xc5a9fc(0x1b7)](_0x506de2=>{const _0x50ced1=_0xc5a9fc;_0x506de2[_0x50ced1(0x6d5)]('click',()=>{const _0x419dba=_0x50ced1;_0x5119b6(_0x506de2[_0x419dba(0xb1e)][_0x419dba(0x682)],_0x16a70d,_0x59b32d,_0x1fd5ad);});});}async function handleSyncAnswerSubmit(_0x58e56a,_0x51b836,_0x4fccf3,_0xdc9550,_0x361acd){const _0xd92d79=_0x15116f;document[_0xd92d79(0x17a)](_0xd92d79(0x173))['forEach'](_0x518d3b=>_0x518d3b[_0xd92d79(0xc47)]=!![]);const _0x383598=_0x51b836[_0xd92d79(0x5ac)]||_0x4fccf3[_0xd92d79(0x4ff)][_0xd92d79(0xbe2)];let _0x365151=![],_0x1de92d=_0x58e56a;switch(_0x383598){case _0xd92d79(0x1dd):const _0x63c0b3=parseInt(_0x58e56a),_0x4eb6e4=_0x51b836['correctAnswer']===!![]||String(_0x51b836[_0xd92d79(0x7b8)])[_0xd92d79(0x53c)]()===_0xd92d79(0x7d1);_0x365151=_0x63c0b3===0x0&&_0x4eb6e4||_0x63c0b3===0x1&&!_0x4eb6e4,_0x1de92d=_0x63c0b3===0x0?'ใช่\x20/\x20ถูก':_0xd92d79(0x856);break;case _0xd92d79(0xb64):case _0xd92d79(0x1f3):_0x365151=await gradeShortAnswer(_0x58e56a,_0x51b836);break;case'matching_item':_0x365151=_0x58e56a===_0x51b836[_0xd92d79(0x76c)];break;case _0xd92d79(0x2ac):default:const _0x1f0c96=parseInt(_0x58e56a);_0x365151=_0x1f0c96===_0x51b836[_0xd92d79(0x4fa)];_0x51b836[_0xd92d79(0xbd3)]&&_0x51b836[_0xd92d79(0xbd3)][_0x1f0c96]&&(_0x1de92d=_0x51b836[_0xd92d79(0xbd3)][_0x1f0c96]);break;}const _0x4a6f05=_0x365151?0x1:0x0,_0x34b28e=doc(db,_0xd92d79(0xc14)+appId+'/public/data/syncGames',currentLiveGameId),_0x21784a={};_0x21784a[_0xd92d79(0x227)+_0xdc9550+_0xd92d79(0x548)]=increment(_0x4a6f05),_0x21784a[_0xd92d79(0x227)+_0xdc9550+_0xd92d79(0x374)]=!![];let _0x5c7d1a=null;(_0x383598==='multiple_choice'||_0x383598==='true_false'||_0x383598===_0xd92d79(0x931))&&(_0x5c7d1a=parseInt(_0x58e56a));_0x21784a['players.'+_0xdc9550+_0xd92d79(0x9b2)]=_0x5c7d1a;const _0x41a050={'questionIndex':_0x4fccf3[_0xd92d79(0xb81)],'questionId':_0x51b836['id'],'answer':_0x58e56a,'answerText':_0x1de92d,'isCorrect':_0x365151,'originalQuestionText':_0x51b836['questionText']||_0x51b836[_0xd92d79(0xa68)],'wasConfident':_0x361acd};_0x21784a[_0xd92d79(0x227)+_0xdc9550+_0xd92d79(0x267)]=arrayUnion(_0x41a050),await updateDoc(_0x34b28e,_0x21784a);}initialize();
