const _0x11059a=_0x3c65;(function(_0x154284,_0x405e67){const _0x274723=_0x3c65,_0x1dccd6=_0x154284();while(!![]){try{const _0x30f526=-parseInt(_0x274723(0x3d0))/0x1*(-parseInt(_0x274723(0x3fa))/0x2)+parseInt(_0x274723(0x477))/0x3*(-parseInt(_0x274723(0xd5))/0x4)+-parseInt(_0x274723(0xd7))/0x5*(parseInt(_0x274723(0x32a))/0x6)+-parseInt(_0x274723(0x3de))/0x7+-parseInt(_0x274723(0x289))/0x8*(parseInt(_0x274723(0x3ea))/0x9)+parseInt(_0x274723(0x2b8))/0xa*(parseInt(_0x274723(0x10b))/0xb)+-parseInt(_0x274723(0x139))/0xc;if(_0x30f526===_0x405e67)break;else _0x1dccd6['push'](_0x1dccd6['shift']());}catch(_0x82fb6e){_0x1dccd6['push'](_0x1dccd6['shift']());}}}(_0x72c2,0x25068));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let db,auth,userId,currentMode=_0x11059a(0x45f),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x11059a(0x41d),'name':_0x11059a(0x441),'description':_0x11059a(0x110),'icon':_0x11059a(0x280)},'QUICK_THINKER':{'id':_0x11059a(0x4d5),'name':_0x11059a(0x31e),'description':_0x11059a(0x3c3),'icon':_0x11059a(0x2d0)},'ON_FIRE':{'id':_0x11059a(0x273),'name':_0x11059a(0x1a6),'description':_0x11059a(0xb6),'icon':_0x11059a(0x391)},'FIRST_TRY_ACE':{'id':_0x11059a(0xfa),'name':_0x11059a(0x465),'description':_0x11059a(0x2af),'icon':_0x11059a(0x2b7)},'COMEBACK_KING':{'id':_0x11059a(0x2d2),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x11059a(0x1a5)},'SPECIALIST':{'id':_0x11059a(0x427),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x11059a(0xef)},'PERSEVERANCE':{'id':_0x11059a(0x2aa),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x11059a(0x305),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x11059a(0x183),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x11059a(0x323),'appId':_0x11059a(0x14c),'measurementId':_0x11059a(0x1b0)},appId=typeof __app_id!==_0x11059a(0x389)?__app_id:_0x11059a(0x46d),adminView=document[_0x11059a(0x3e8)](_0x11059a(0x38b)),studentView=document['getElementById'](_0x11059a(0x4b7)),projectDashboardView=document[_0x11059a(0x3e8)](_0x11059a(0x449)),projectDetailView=document[_0x11059a(0x3e8)](_0x11059a(0x249)),quizResultsView=document[_0x11059a(0x3e8)](_0x11059a(0x18e)),projectList=document['getElementById'](_0x11059a(0x39e)),noProjectsMsg=document[_0x11059a(0x3e8)]('no-projects-msg'),projectTitle=document[_0x11059a(0x3e8)](_0x11059a(0x3d1)),projectIdDisplay=document['getElementById'](_0x11059a(0x29d)),studentList=document[_0x11059a(0x3e8)](_0x11059a(0x169)),messageModal=document[_0x11059a(0x3e8)]('message-modal'),modalMessage=document[_0x11059a(0x3e8)]('modal-message'),createProjectModal=document[_0x11059a(0x3e8)](_0x11059a(0x261)),adminPasswordModal=document[_0x11059a(0x3e8)](_0x11059a(0x221)),confirmationModal=document[_0x11059a(0x3e8)](_0x11059a(0x308)),userIdDisplay=document['getElementById'](_0x11059a(0x288)),topicTab=document[_0x11059a(0x3e8)]('topic-tab'),textTab=document['getElementById'](_0x11059a(0x51a)),topicInputArea=document['getElementById'](_0x11059a(0x101)),textInputArea=document[_0x11059a(0x3e8)](_0x11059a(0x1e0)),manageTab=document[_0x11059a(0x3e8)](_0x11059a(0x10c)),resultsTab=document[_0x11059a(0x3e8)](_0x11059a(0x43b)),leaderboardTab=document['getElementById'](_0x11059a(0x3f3)),manageTabContent=document['getElementById'](_0x11059a(0x1d4)),resultsTabContent=document[_0x11059a(0x3e8)](_0x11059a(0x154)),leaderboardTabContent=document[_0x11059a(0x3e8)]('leaderboard-tab-content'),projectQuizzesList=document[_0x11059a(0x3e8)](_0x11059a(0x21e)),fileTab=document['getElementById'](_0x11059a(0x318)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x11059a(0x3e8)]('file-upload-input'),worksheetTab=document['getElementById'](_0x11059a(0x4df)),worksheetInputArea=document[_0x11059a(0x3e8)](_0x11059a(0x27c)),generateWorksheetBtn=document[_0x11059a(0x3e8)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x11059a(0x122)),studentNameSelectionView=document[_0x11059a(0x3e8)](_0x11059a(0x439)),studentQuizArea=document['getElementById'](_0x11059a(0x1f1)),studentResultArea=document[_0x11059a(0x3e8)](_0x11059a(0x315)),studentReadingArea=document[_0x11059a(0x3e8)](_0x11059a(0xdb)),loadQuizBtn=document[_0x11059a(0x3e8)]('load-quiz-btn'),startQuizBtn=document[_0x11059a(0x3e8)](_0x11059a(0x502)),studentJoinGameView=document[_0x11059a(0x3e8)](_0x11059a(0x349)),presentationModal=document['getElementById'](_0x11059a(0x2fa)),renameQuizModal=document[_0x11059a(0x3e8)](_0x11059a(0x243)),moveQuizModal=document[_0x11059a(0x3e8)](_0x11059a(0x1b9)),quizSettingsModal=document[_0x11059a(0x3e8)](_0x11059a(0x4cc)),quizStatusModal=document[_0x11059a(0x3e8)](_0x11059a(0xa8)),liveGameView=document[_0x11059a(0x3e8)](_0x11059a(0x3f2));async function initialize(){const _0x206717=_0x11059a;try{const _0x1028e7=initializeApp(firebaseConfig);db=getFirestore(_0x1028e7),auth=getAuth(_0x1028e7),setupAuthListener(),setupEventListeners(),showView(_0x206717(0x45f));}catch(_0xa053e9){console[_0x206717(0xba)](_0x206717(0x50a),_0xa053e9),showMessage(_0x206717(0x404));}}function compareNumericalAnswers(_0x40e085,_0x5db2d1){const _0x7e22ed=_0x11059a,_0x3a52ae=String(_0x40e085)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x7e22ed(0x2fe)](),_0x3a54a0=String(_0x5db2d1)[_0x7e22ed(0x358)](',','.')['replace'](/[^\d.-]/g,'')[_0x7e22ed(0x2fe)]();if(_0x3a52ae===''||_0x3a54a0==='')return![];const _0xcf5bdb=parseFloat(_0x3a52ae),_0x36c4d1=parseFloat(_0x3a54a0);if(isNaN(_0xcf5bdb)||isNaN(_0x36c4d1))return![];return Math['abs'](_0xcf5bdb-_0x36c4d1)<0.001;}async function gradeShortAnswer(_0x49df5f,_0x426a44){const _0x101d8f=_0x11059a,_0x141522=_0x426a44[_0x101d8f(0x2a8)];if(String(_0x49df5f)['trim']()[_0x101d8f(0x32b)]()===String(_0x141522)[_0x101d8f(0x2fe)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x49df5f,_0x141522))return!![];return console[_0x101d8f(0x142)](_0x101d8f(0x322)),await gradeShortAnswerWithAI(_0x49df5f,_0x141522);}async function revealAnswerForAdmin(_0x5f0a97,_0x29610a){const _0x295360=_0x11059a;if(document[_0x295360(0x3e8)](_0x295360(0x244)))return;const _0x5d60b4=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5d60b4,{'questionStatus':_0x295360(0x4f8)});const _0xe4dac9=liveGameView[_0x295360(0x296)](_0x295360(0x161));_0xe4dac9&&(_0xe4dac9[_0x295360(0x1b3)][_0x295360(0x422)](_0x295360(0x486)),_0xe4dac9['classList']['add']('bg-green-300',_0x295360(0x40b),_0x295360(0x3c2),_0x295360(0x4d9),'border-green-500'),_0xe4dac9['innerHTML']=_0x295360(0x286)+_0xe4dac9[_0x295360(0x43c)]);const _0x2053e2=document[_0x295360(0x3e8)](_0x295360(0x284));_0x2053e2&&(_0x2053e2['innerHTML']=_0x295360(0x2f6)+(_0x5f0a97+0x1===_0x29610a?_0x295360(0x4ff):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x295360(0x3e8)](_0x295360(0x244))[_0x295360(0x368)](_0x295360(0x189),async()=>{const _0x5aafbc=_0x295360,_0x53f6d9=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x5cc6cb=await getDoc(_0x53f6d9);if(!_0x5cc6cb[_0x5aafbc(0x384)]())return;const _0x2b9786=_0x5cc6cb[_0x5aafbc(0x41f)](),_0x4a1b76={};if(_0x2b9786[_0x5aafbc(0x42e)])for(const _0x1bc798 in _0x2b9786['players']){_0x4a1b76[_0x5aafbc(0x171)+_0x1bc798+'.answeredCurrentQuestion']=![];}const _0x4af580=_0x5f0a97+0x1;_0x4af580<_0x29610a?(_0x4a1b76[_0x5aafbc(0x281)]=_0x4af580,_0x4a1b76[_0x5aafbc(0x3b4)]=serverTimestamp(),_0x4a1b76[_0x5aafbc(0x127)]=_0x5aafbc(0x3cf),await updateDoc(_0x53f6d9,_0x4a1b76)):await updateDoc(_0x53f6d9,{'status':_0x5aafbc(0x180)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x2e70bb=>{const _0x54144b=_0x3c65;if(_0x2e70bb){userId=_0x2e70bb[_0x54144b(0x2f3)],userIdDisplay[_0x54144b(0x373)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x54d5f7){const _0x279ddc=_0x11059a,_0x4924ed=Object['entries'](_0x54d5f7)[_0x279ddc(0x13c)](([_0x320ce6,_0xf5d95b])=>({'name':_0x320ce6,'score':_0xf5d95b[_0x279ddc(0x2bb)]||0x0,'badges':_0xf5d95b[_0x279ddc(0x4d2)]||[]}));_0x4924ed[_0x279ddc(0x259)]((_0x14dbeb,_0x5849d9)=>{const _0x34486e=_0x279ddc,_0x4f052a=_0x5849d9['score']-_0x14dbeb[_0x34486e(0x2bb)];if(_0x4f052a!==0x0)return _0x4f052a;return(_0x5849d9[_0x34486e(0x4d2)][_0x34486e(0x164)]||0x0)-(_0x14dbeb[_0x34486e(0x4d2)]['length']||0x0);});const _0x3c8cf6=_0x164478=>{const _0x3ee0bd=_0x279ddc;if(!_0x164478||_0x164478[_0x3ee0bd(0x164)]===0x0)return'';const _0x486c03={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x164478['map'](_0x147e90=>_0x486c03[_0x147e90]||'')[_0x3ee0bd(0x1eb)]('')+_0x3ee0bd(0x3e3);},_0x149287=_0x4924ed[_0x279ddc(0x4ed)](0x3),_0x1f858d=_0x149287['length']>0x0?_0x279ddc(0x3c9)+_0x149287[_0x279ddc(0x13c)]((_0x3989d0,_0x1edc13)=>_0x279ddc(0xc8)+(_0x1edc13+0x4)+_0x279ddc(0x4bb)+_0x3989d0[_0x279ddc(0x307)]+_0x279ddc(0x136)+_0x3989d0['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x279ddc(0x1eb)]('')+_0x279ddc(0xd9):'',_0x398534=_0x279ddc(0x16b)+(_0x4924ed[0x1]?_0x279ddc(0x4c9)+_0x4924ed[0x1][_0x279ddc(0x307)]+_0x279ddc(0x475)+_0x3c8cf6(_0x4924ed[0x1]['badges'])+_0x279ddc(0xbf)+_0x4924ed[0x1]['score']+_0x279ddc(0xb9):_0x279ddc(0x398))+_0x279ddc(0x1a2)+(_0x4924ed[0x0]?_0x279ddc(0x4a4)+_0x4924ed[0x0][_0x279ddc(0x307)]+_0x279ddc(0x475)+_0x3c8cf6(_0x4924ed[0x0]['badges'])+_0x279ddc(0x19b)+_0x4924ed[0x0][_0x279ddc(0x2bb)]+_0x279ddc(0x14e):_0x279ddc(0x398))+_0x279ddc(0x1a2)+(_0x4924ed[0x2]?_0x279ddc(0x10a)+_0x4924ed[0x2][_0x279ddc(0x307)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c8cf6(_0x4924ed[0x2][_0x279ddc(0x4d2)])+_0x279ddc(0xbf)+_0x4924ed[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x279ddc(0x398))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f858d+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x279ddc(0x525)?_0x279ddc(0xfb):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x398534,currentMode===_0x279ddc(0x525)&&document[_0x279ddc(0x3e8)]('close-game-final-btn')['addEventListener']('click',async()=>{const _0x437395=_0x279ddc,_0x480eb4=doc(db,_0x437395(0x2a0)+appId+_0x437395(0x388),currentLiveGameId);await deleteDoc(_0x480eb4),showView(_0x437395(0x24b));});}async function handleStartLiveRace(_0x58a308){const _0x30e45a=_0x11059a;let _0x2d45a6=allQuizzes['find'](_0x12583a=>_0x12583a['id']===_0x58a308);if(!_0x2d45a6){const _0x37b841=doc(db,'artifacts/'+appId+_0x30e45a(0x3b8),_0x58a308),_0x408344=await getDoc(_0x37b841);if(!_0x408344['exists']()){showMessage(_0x30e45a(0x40d));return;}_0x2d45a6={'id':_0x408344['id'],..._0x408344[_0x30e45a(0x41f)]()};}currentQuizData=getShuffledQuiz(_0x2d45a6);const _0xfcdb56=_0x2d45a6[_0x30e45a(0xee)]||currentProjectId||null,_0x19bb78=Math['floor'](0x3e8+Math[_0x30e45a(0x2c4)]()*0x2328)[_0x30e45a(0x22d)]();currentLiveGamePin=_0x19bb78;try{const _0x3803b9=await addDoc(collection(db,_0x30e45a(0x2a0)+appId+_0x30e45a(0x388)),{'quizId':_0x58a308,'projectId':_0xfcdb56,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x19bb78,'createdAt':serverTimestamp()});currentLiveGameId=_0x3803b9['id'],showAdminLobbyView(_0x19bb78,_0x2d45a6['topic']),listenForLiveGameUpdates();}catch(_0x1e15cf){console[_0x30e45a(0xba)](_0x30e45a(0x264),_0x1e15cf),showMessage(_0x30e45a(0x3aa));}}async function handleShowStudentRankings(){const _0x4bc0fd=_0x11059a,_0x454cd7=document['querySelector'](_0x4bc0fd(0x317));_0x454cd7&&(_0x454cd7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x128b9f=document[_0x4bc0fd(0x296)](_0x4bc0fd(0x32e));_0x128b9f&&(_0x128b9f[_0x4bc0fd(0x43c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x24ad48=document[_0x4bc0fd(0x3e8)](_0x4bc0fd(0x196));_0x24ad48[_0x4bc0fd(0x1b3)]['remove']('hidden'),document['getElementById'](_0x4bc0fd(0x3d8))['onclick']=()=>_0x24ad48[_0x4bc0fd(0x1b3)][_0x4bc0fd(0x2d6)](_0x4bc0fd(0x149));const _0x60623=document[_0x4bc0fd(0x3e8)](_0x4bc0fd(0x1c0)),_0x51e618=document[_0x4bc0fd(0x3e8)](_0x4bc0fd(0x44a)),_0x1cd677=document[_0x4bc0fd(0x3e8)](_0x4bc0fd(0x453)),_0x5ac05a=document[_0x4bc0fd(0x3e8)](_0x4bc0fd(0x234));_0x60623[_0x4bc0fd(0x35a)]=()=>{const _0x5a397c=_0x4bc0fd;_0x60623[_0x5a397c(0x1b3)][_0x5a397c(0x2d6)](_0x5a397c(0x120)),_0x51e618[_0x5a397c(0x1b3)][_0x5a397c(0x422)](_0x5a397c(0x120)),_0x1cd677['classList']['remove'](_0x5a397c(0x149)),_0x5ac05a[_0x5a397c(0x1b3)][_0x5a397c(0x2d6)](_0x5a397c(0x149));},_0x51e618['onclick']=()=>{const _0x21f1ff=_0x4bc0fd;_0x51e618[_0x21f1ff(0x1b3)][_0x21f1ff(0x2d6)]('active'),_0x60623[_0x21f1ff(0x1b3)][_0x21f1ff(0x422)](_0x21f1ff(0x120)),_0x5ac05a[_0x21f1ff(0x1b3)]['remove'](_0x21f1ff(0x149)),_0x1cd677[_0x21f1ff(0x1b3)][_0x21f1ff(0x2d6)]('hidden');};try{const _0x56e666=collection(db,_0x4bc0fd(0x2a0)+appId+_0x4bc0fd(0x134)+currentQuizData['id']+_0x4bc0fd(0x219)),_0x3b9e25=await getDocs(_0x56e666),_0x299204=_0x3b9e25[_0x4bc0fd(0x301)][_0x4bc0fd(0x13c)](_0x4f81ef=>_0x4f81ef[_0x4bc0fd(0x41f)]());renderQuizLeaderboard(_0x299204,currentQuizData,_0x4bc0fd(0xdc));const _0x78d364=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x4bc0fd(0x1d7)),_0x3dec42=await getDocs(_0x78d364),_0x4b9603=_0x3dec42[_0x4bc0fd(0x301)][_0x4bc0fd(0x13c)](_0x3a1edc=>_0x3a1edc[_0x4bc0fd(0x41f)]());renderLeaderboard(_0x4b9603,_0x4bc0fd(0x3d5));}catch(_0x396237){console[_0x4bc0fd(0xba)]('Error\x20fetching\x20student\x20rankings:',_0x396237),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x35757a){const _0x521435=_0x11059a,_0x26eeed=_0x35757a[_0x521435(0x1ff)],_0x2f0fe4=_0x26eeed['dataset'][_0x521435(0x1b1)],_0x245b37=currentQuizData['questions'][_0x2f0fe4];if(!userId){showMessage(_0x521435(0x528));return;}try{const _0x459643={..._0x245b37,'originalTopic':currentQuizData[_0x521435(0x2c5)],'savedAt':serverTimestamp()},_0x5c74c6=collection(db,'artifacts/'+appId+_0x521435(0x3ec)+userId+_0x521435(0x1b4));await addDoc(_0x5c74c6,_0x459643),showMessage(_0x521435(0x395)),_0x26eeed[_0x521435(0x1b3)][_0x521435(0x422)]('text-purple-600'),_0x26eeed[_0x521435(0x1b3)][_0x521435(0x2d6)](_0x521435(0x2d5)),_0x26eeed[_0x521435(0x33a)]=!![];}catch(_0x48c889){console[_0x521435(0xba)](_0x521435(0xa6),_0x48c889),showMessage(_0x521435(0x263));}}function listenForStarredQuizzes(){const _0x52b27a=_0x11059a;if(!userId)return;const _0xb078b2=collection(db,_0x52b27a(0x2a0)+appId+'/public/data/quizzes'),_0x1cf91c=query(_0xb078b2,where(_0x52b27a(0x3a2),'==',!![]));onSnapshot(_0x1cf91c,_0x5754b0=>{const _0x41fd04=_0x52b27a;starredQuizzes=_0x5754b0[_0x41fd04(0x301)][_0x41fd04(0x13c)](_0x5e019=>({'id':_0x5e019['id'],..._0x5e019['data']()})),renderProjects();},_0x3296e5=>{const _0xb28724=_0x52b27a;console[_0xb28724(0xba)](_0xb28724(0x50b),_0x3296e5);});}async function handleToggleStarQuiz(_0x567bcb){const _0x41e957=_0x11059a,_0x23c865=doc(db,_0x41e957(0x2a0)+appId+_0x41e957(0x3b8),_0x567bcb);try{const _0x5d09c8=await getDoc(_0x23c865);if(_0x5d09c8[_0x41e957(0x384)]()){const _0x54dfe2=_0x5d09c8[_0x41e957(0x41f)]()[_0x41e957(0x3a2)]||![];await updateDoc(_0x23c865,{'isStarred':!_0x54dfe2});}}catch(_0x3a36c0){console[_0x41e957(0xba)](_0x41e957(0x3ae),_0x3a36c0),showMessage(_0x41e957(0x295));}}async function displayQuestionBank(){const _0x2578d5=_0x11059a,_0x22a6ca=document['getElementById'](_0x2578d5(0x2a3));_0x22a6ca[_0x2578d5(0x43c)]=_0x2578d5(0x3bc);try{const _0x2bbb67=collection(db,'artifacts/'+appId+_0x2578d5(0x3ec)+userId+_0x2578d5(0x1b4)),_0x2e3cad=query(_0x2bbb67),_0x246531=await getDocs(_0x2e3cad);if(_0x246531[_0x2578d5(0x346)]){_0x22a6ca['innerHTML']=_0x2578d5(0x491);return;}let _0x3b98d8=_0x246531[_0x2578d5(0x301)][_0x2578d5(0x13c)](_0x3a2d93=>{const _0xb88da=_0x2578d5,_0x256965=_0x3a2d93[_0xb88da(0x41f)](),_0x2d42d=_0x3a2d93['id'];return _0xb88da(0x220)+JSON['stringify'](_0x256965)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x256965[_0xb88da(0x4dd)]||_0x256965['stem'])+_0xb88da(0x517)+_0x256965[_0xb88da(0x18d)]+_0xb88da(0x432);})[_0x2578d5(0x1eb)]('');_0x22a6ca['innerHTML']=_0x2578d5(0x3cc)+_0x3b98d8+_0x2578d5(0x4f1),document['getElementById'](_0x2578d5(0x34b))[_0x2578d5(0x368)](_0x2578d5(0x189),createQuizFromBank);}catch(_0x1bd6f1){console[_0x2578d5(0xba)]('Error\x20displaying\x20question\x20bank:',_0x1bd6f1),_0x22a6ca[_0x2578d5(0x43c)]=_0x2578d5(0xd2);}}function showAdminLiveQuestionView(_0xf40bbc,_0x225b7a,_0x34511e){const _0x539f4f=_0x11059a,_0x270014=_0xf40bbc[_0x539f4f(0x31d)]||currentQuizData[_0x539f4f(0x17d)];let _0xe605a5='';if(_0x270014===_0x539f4f(0x2d7)||_0x270014===_0x539f4f(0xe0)){const _0x5e2f1e=_0x270014==='true_false'?[_0x539f4f(0x237),_0x539f4f(0x21a)]:_0xf40bbc['options'],_0x30465c=_0x270014===_0x539f4f(0xe0)?_0xf40bbc[_0x539f4f(0x462)]?0x0:0x1:_0xf40bbc[_0x539f4f(0x1f7)];_0xe605a5=_0x5e2f1e[_0x539f4f(0x13c)]((_0x6872ea,_0x5201ec)=>_0x539f4f(0x335)+(_0x5201ec===_0x30465c)+_0x539f4f(0x138)+_0x6872ea+_0x539f4f(0x36c))[_0x539f4f(0x1eb)]('');}else{if(_0x270014===_0x539f4f(0x107)){const _0x56e485=_0xf40bbc[_0x539f4f(0x24d)]||[];_0xe605a5=_0x56e485[_0x539f4f(0x13c)](_0x2dd795=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x2dd795===_0xf40bbc[_0x539f4f(0x11b)])+_0x539f4f(0x138)+_0x2dd795+_0x539f4f(0x36c))[_0x539f4f(0x1eb)]('');}}const _0x3dc726=_0xf40bbc[_0x539f4f(0x49a)]||_0xf40bbc['questionText'],_0x17300e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x225b7a+0x1)+_0x539f4f(0x44f)+_0x34511e+_0x539f4f(0x17b)+_0x3dc726+_0x539f4f(0x28d)+_0xe605a5+_0x539f4f(0x488);liveGameView[_0x539f4f(0x43c)]=_0x17300e;window[_0x539f4f(0x1c8)]&&MathJax[_0x539f4f(0x37d)]&&MathJax[_0x539f4f(0x37d)]([liveGameView]);const _0x14f522=document[_0x539f4f(0x3e8)](_0x539f4f(0x284));document['getElementById'](_0x539f4f(0x4de))[_0x539f4f(0x368)]('click',async()=>{const _0x15f20d=_0x539f4f,_0x55ac2b=doc(db,_0x15f20d(0x2a0)+appId+_0x15f20d(0x388),currentLiveGameId);await updateDoc(_0x55ac2b,{'questionStatus':_0x15f20d(0x4f8)});const _0x4b296b=liveGameView[_0x15f20d(0x296)](_0x15f20d(0x161));_0x4b296b&&(_0x4b296b[_0x15f20d(0x1b3)][_0x15f20d(0x422)](_0x15f20d(0x486)),_0x4b296b[_0x15f20d(0x1b3)][_0x15f20d(0x2d6)](_0x15f20d(0x216),_0x15f20d(0x40b),_0x15f20d(0x3c2),_0x15f20d(0x4d9),_0x15f20d(0x4a5)),_0x4b296b[_0x15f20d(0x43c)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x4b296b['innerHTML']),_0x14f522[_0x15f20d(0x43c)]=_0x15f20d(0x2f6)+(_0x225b7a+0x1===_0x34511e?_0x15f20d(0x4ff):_0x15f20d(0x12e))+_0x15f20d(0x1a3),document[_0x15f20d(0x3e8)](_0x15f20d(0x244))[_0x15f20d(0x368)]('click',async()=>{const _0xe45745=_0x15f20d,_0x489453=doc(db,_0xe45745(0x2a0)+appId+_0xe45745(0x388),currentLiveGameId),_0x129c56=await getDoc(_0x489453);if(!_0x129c56[_0xe45745(0x384)]())return;const _0x5cd854=_0x129c56[_0xe45745(0x41f)](),_0x316768={};if(_0x5cd854[_0xe45745(0x42e)])for(const _0x16e0c3 in _0x5cd854['players']){_0x316768['players.'+_0x16e0c3+'.answeredCurrentQuestion']=![];}const _0x431c44=_0x225b7a+0x1;_0x431c44<_0x34511e?(_0x316768[_0xe45745(0x281)]=_0x431c44,_0x316768[_0xe45745(0x3b4)]=serverTimestamp(),_0x316768[_0xe45745(0x127)]=_0xe45745(0x3cf),await updateDoc(_0x489453,_0x316768)):await updateDoc(_0x489453,{'status':_0xe45745(0x180)});});}),document[_0x539f4f(0x3e8)](_0x539f4f(0x30e))[_0x539f4f(0x368)](_0x539f4f(0x189),async()=>{const _0xb9f670=_0x539f4f,_0x51276a=doc(db,_0xb9f670(0x2a0)+appId+_0xb9f670(0x388),currentLiveGameId);await deleteDoc(_0x51276a),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x36a7eb,_0x123957,_0x140b42){const _0x1912a1=_0x11059a,_0x431d6b=_0x36a7eb['questionType']||currentQuizData[_0x1912a1(0x17d)];let _0x36920b='';if(_0x431d6b==='multiple_choice'||_0x431d6b==='true_false'){const _0x4ced8a=_0x431d6b===_0x1912a1(0xe0)?[_0x1912a1(0x237),_0x1912a1(0x21a)]:_0x36a7eb[_0x1912a1(0x34c)];_0x36920b=_0x4ced8a['map']((_0x33eacf,_0x314c50)=>_0x1912a1(0x499)+_0x314c50+_0x1912a1(0x3e9)+_0x33eacf+_0x1912a1(0x3d3))[_0x1912a1(0x1eb)]('');}else{if(_0x431d6b===_0x1912a1(0x107)){const _0x379d2c=_0x36a7eb['allResponses']||[];_0x36920b=_0x379d2c[_0x1912a1(0x13c)]((_0x44bd99,_0x4df0ce)=>_0x1912a1(0x499)+_0x4df0ce+_0x1912a1(0x3e9)+_0x44bd99+_0x1912a1(0x3d3))['join']('');}else _0x431d6b===_0x1912a1(0x3c5)&&(_0x36920b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x2b8a20=_0x36a7eb['stem']||_0x36a7eb[_0x1912a1(0x4dd)],_0x541b37=_0x1912a1(0x484)+(_0x123957+0x1)+_0x1912a1(0x44f)+_0x140b42+_0x1912a1(0x222)+_0x2b8a20+_0x1912a1(0x4c3)+_0x36920b+_0x1912a1(0x468);liveGameView[_0x1912a1(0x43c)]=_0x541b37;window[_0x1912a1(0x1c8)]&&MathJax[_0x1912a1(0x37d)]&&MathJax[_0x1912a1(0x37d)]([liveGameView]);const _0x36a729=document[_0x1912a1(0x3e8)](_0x1912a1(0x178));_0x36a729&&_0x36a729[_0x1912a1(0x368)](_0x1912a1(0x189),()=>{const _0x5dd144=_0x1912a1,_0x5624db=document[_0x5dd144(0x3e8)](_0x5dd144(0x118))[_0x5dd144(0x43e)];handleLiveAnswer(_0x5624db,_0x36a7eb);}),document[_0x1912a1(0x3e8)](_0x1912a1(0x399))[_0x1912a1(0x368)](_0x1912a1(0x189),_0x4edf42=>{const _0x494c08=_0x1912a1,_0x6afd98=_0x4edf42[_0x494c08(0x1d2)][_0x494c08(0x114)](_0x494c08(0x150));if(_0x6afd98){const _0x5028e5=parseInt(_0x6afd98[_0x494c08(0x2e0)][_0x494c08(0x1b1)]);handleLiveAnswer(_0x5028e5,_0x36a7eb);}});}async function handleLiveAnswer(_0x5d579a,_0x260e31){const _0x4bc604=_0x11059a;document[_0x4bc604(0x4b4)](_0x4bc604(0x38f))[_0x4bc604(0x1e9)](_0xa63982=>_0xa63982[_0x4bc604(0x33a)]=!![]);const _0x263428=_0x260e31[_0x4bc604(0x31d)]||currentQuizData[_0x4bc604(0x17d)];let _0x3aee6c=![];if(_0x263428==='short_answer'){const _0x4c162e=(_0x5d579a||'')[_0x4bc604(0x22d)]();_0x3aee6c=await gradeShortAnswer(_0x4c162e,_0x260e31);}else{if(_0x263428===_0x4bc604(0x2d7))_0x3aee6c=_0x5d579a===_0x260e31['correctAnswerIndex'];else{if(_0x263428==='true_false'){const _0x331a6c=_0x260e31['correctAnswer'];_0x3aee6c=_0x5d579a===0x0&&_0x331a6c||_0x5d579a===0x1&&!_0x331a6c;}else{if(_0x263428==='matching_item'){const _0x332a3a=_0x260e31[_0x4bc604(0x24d)][_0x5d579a];_0x3aee6c=_0x332a3a===_0x260e31[_0x4bc604(0x11b)];}}}}const _0x46c712=doc(db,_0x4bc604(0x2a0)+appId+_0x4bc604(0x388),currentLiveGameId),_0x493868=await getDoc(_0x46c712);if(!_0x493868[_0x4bc604(0x384)]())return;const _0x4c47fa=_0x493868[_0x4bc604(0x41f)](),_0x22fa9c=_0x4c47fa[_0x4bc604(0x42e)][currentStudentName];let _0x2e047e=_0x22fa9c[_0x4bc604(0x4d2)]||[],_0x255566=_0x22fa9c[_0x4bc604(0x37a)]||0x0;const _0x4a6586={};let _0x1f5a53=0x0;if(_0x4c47fa['questionDisplayedAt']){const _0x59c7ff=_0x4c47fa['questionDisplayedAt'][_0x4bc604(0xfd)](),_0x190031=new Date()-_0x59c7ff;if(_0x3aee6c){const _0x285431=0x3e8,_0x185000=0x1f4,_0x361ffc=0x4e20;let _0x150cb5=_0x190031/_0x361ffc;if(_0x150cb5>0x1)_0x150cb5=0x1;const _0x55a0fd=Math[_0x4bc604(0x141)](_0x150cb5*_0x185000);_0x1f5a53=_0x285431-_0x55a0fd,_0x190031<=0x1388&&!_0x2e047e[_0x4bc604(0x4c1)](_0x4bc604(0x4d5))&&_0x2e047e[_0x4bc604(0x1cd)]('quick_thinker');}}_0x3aee6c?(_0x255566++,_0x255566===0x3&&!_0x2e047e['includes'](_0x4bc604(0x273))&&(_0x2e047e[_0x4bc604(0x1cd)]('on_fire'),_0x255566=0x0)):_0x255566=0x0,_0x3aee6c&&(_0x4a6586[_0x4bc604(0x171)+currentStudentName+_0x4bc604(0x239)]=increment(_0x1f5a53)),_0x4a6586[_0x4bc604(0x171)+currentStudentName+'.badges']=_0x2e047e,_0x4a6586[_0x4bc604(0x171)+currentStudentName+'.correctStreak']=_0x255566,_0x4a6586[_0x4bc604(0x171)+currentStudentName+_0x4bc604(0x480)]=!![],_0x4a6586['players.'+currentStudentName+_0x4bc604(0x230)]=_0x3aee6c,_0x4a6586[_0x4bc604(0x171)+currentStudentName+'.pointsLastQuestion']=_0x1f5a53,await updateDoc(_0x46c712,_0x4a6586),liveGameView[_0x4bc604(0x43c)]=_0x4bc604(0x50d);}function createQuizFromBank(){const _0x124cc3=_0x11059a,_0x4f0fc2=document[_0x124cc3(0x4b4)](_0x124cc3(0x4d8));if(_0x4f0fc2[_0x124cc3(0x164)]===0x0){showMessage(_0x124cc3(0x3bd));return;}const _0x55d351=[];_0x4f0fc2[_0x124cc3(0x1e9)](_0x3d5da5=>{const _0x3dec37=_0x124cc3;_0x55d351[_0x3dec37(0x1cd)](JSON['parse'](_0x3d5da5[_0x3dec37(0x43e)]));});const _0x394afe={'topic':_0x124cc3(0x257),'questions':_0x55d351};displayGeneratedQuiz(_0x394afe);}function showAdminLobbyView(_0x25b11e,_0x354abc){const _0xe697be=_0x11059a;showView(_0xe697be(0x385));const _0x520d6e=_0xe697be(0x382)+_0x354abc+_0xe697be(0x4c5)+_0x25b11e+_0xe697be(0x3b5);liveGameView[_0xe697be(0x43c)]=_0x520d6e,document[_0xe697be(0x3e8)](_0xe697be(0x3a3))['addEventListener']('click',async()=>{const _0x1ec1bb=_0xe697be;if(!currentQuizData||!currentQuizData[_0x1ec1bb(0xde)]||currentQuizData[_0x1ec1bb(0xde)][_0x1ec1bb(0x164)]===0x0){showMessage(_0x1ec1bb(0x27a));return;}try{const _0x375df0=doc(db,_0x1ec1bb(0x2a0)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x375df0,{'status':_0x1ec1bb(0x452),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2c79d9=currentQuizData[_0x1ec1bb(0xde)][0x0],_0x4c5e58=currentQuizData[_0x1ec1bb(0xde)][_0x1ec1bb(0x164)];showAdminLiveQuestionView(_0x2c79d9,0x0,_0x4c5e58);}catch(_0x346a68){console[_0x1ec1bb(0xba)]('Error\x20starting\x20game:',_0x346a68),showMessage(_0x1ec1bb(0x28f));}});}async function openGlobalLiveModal(){const _0x576976=_0x11059a;if(allQuizzesGlobal['length']===0x0){const _0xe56917=await getDocs(collection(db,'artifacts/'+appId+_0x576976(0x3b8)));allQuizzesGlobal=_0xe56917['docs']['map'](_0x3f98cb=>({'id':_0x3f98cb['id'],..._0x3f98cb[_0x576976(0x41f)]()}));}renderGlobalQuizList(''),document[_0x576976(0x3e8)](_0x576976(0x3bf))['classList'][_0x576976(0x422)](_0x576976(0x149));}function renderGlobalQuizList(_0x56561c=''){const _0x530558=_0x11059a,_0x2fbe2c=document['getElementById'](_0x530558(0x16e)),_0x16800d=_0x56561c[_0x530558(0x32b)]()[_0x530558(0x2fe)](),_0x49e47a=allQuizzesGlobal[_0x530558(0x13c)](_0x8d534f=>({..._0x8d534f,'projectName':allProjects[_0x530558(0x2ca)](_0x53db63=>_0x53db63['id']===_0x8d534f[_0x530558(0xee)])?.[_0x530558(0xd8)]||_0x8d534f['projectId']}))[_0x530558(0x45b)](_0x1baf72=>(_0x1baf72['topic']||'')[_0x530558(0x32b)]()[_0x530558(0x4c1)](_0x16800d)||(_0x1baf72[_0x530558(0xd8)]||'')[_0x530558(0x32b)]()['includes'](_0x16800d));_0x2fbe2c[_0x530558(0x43c)]=_0x49e47a[_0x530558(0x164)]?_0x49e47a[_0x530558(0x13c)](_0xe9f02f=>_0x530558(0x33f)+_0xe9f02f['id']+_0x530558(0x51b)+(_0xe9f02f['topic']||_0x530558(0xca))+_0x530558(0xec)+(_0xe9f02f['questions']?.[_0x530558(0x164)]||0x0)+_0x530558(0x3ca)+_0xe9f02f[_0x530558(0xd8)]+_0x530558(0x170))['join'](''):_0x530558(0x362),selectedGlobalQuizId=null,document['getElementById']('confirm-global-live-btn')['disabled']=!![],_0x2fbe2c[_0x530558(0x4b4)](_0x530558(0x43f))[_0x530558(0x1e9)](_0x12d9ea=>{const _0x757441=_0x530558;_0x12d9ea[_0x757441(0x368)](_0x757441(0x189),()=>{const _0x48c576=_0x757441;selectedGlobalQuizId=_0x12d9ea[_0x48c576(0x2e0)]['id'],_0x2fbe2c['querySelectorAll'](_0x48c576(0x44e))[_0x48c576(0x1e9)](_0x5bdc4c=>_0x5bdc4c[_0x48c576(0x1b3)]['remove']('bg-purple-50','ring-2','ring-purple-400')),_0x12d9ea[_0x48c576(0x1b3)][_0x48c576(0x2d6)](_0x48c576(0x2f7),_0x48c576(0x3fc),'ring-purple-400'),document[_0x48c576(0x3e8)](_0x48c576(0x1b2))[_0x48c576(0x33a)]=![];});});}function listenForLiveGameUpdates(){const _0x2f7eed=_0x11059a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x303c90=doc(db,_0x2f7eed(0x2a0)+appId+_0x2f7eed(0x388),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x303c90,_0x49a33f=>{const _0x4349c4=_0x2f7eed;if(!_0x49a33f['exists']()){showMessage(_0x4349c4(0xcf)),showView(currentMode);return;}const _0x278270=_0x49a33f[_0x4349c4(0x41f)]();!currentQuizData&&_0x278270[_0x4349c4(0x133)]&&((async()=>{const _0xa3ffa3=_0x4349c4;try{const _0x2a6a82=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x278270[_0xa3ffa3(0x133)]),_0x27bb7f=await getDoc(_0x2a6a82);_0x27bb7f[_0xa3ffa3(0x384)]()&&(currentQuizData={'id':_0x27bb7f['id'],..._0x27bb7f[_0xa3ffa3(0x41f)]()});}catch(_0x1af009){console[_0xa3ffa3(0xba)](_0xa3ffa3(0x20b),_0x1af009);}})());switch(_0x278270[_0x4349c4(0x3cb)]){case _0x4349c4(0x429):if(currentMode==='admin'){const _0x288473=_0x278270[_0x4349c4(0x42e)]?Object[_0x4349c4(0x431)](_0x278270[_0x4349c4(0x42e)]):[];document[_0x4349c4(0x3e8)](_0x4349c4(0x4b8))[_0x4349c4(0x373)]=_0x288473[_0x4349c4(0x164)],document['getElementById']('player-list-lobby')[_0x4349c4(0x43c)]=_0x288473['map'](_0x199ae0=>_0x4349c4(0x24e)+_0x199ae0+'</span>')['join']('');const _0x131d58=document[_0x4349c4(0x3e8)](_0x4349c4(0x3a3));_0x131d58&&(_0x131d58['disabled']=_0x288473['length']===0x0);}else showView(_0x4349c4(0x385)),liveGameView[_0x4349c4(0x43c)]=_0x4349c4(0x236)+currentStudentName+_0x4349c4(0x3c8);break;case _0x4349c4(0x452):const _0x228cd6=_0x278270[_0x4349c4(0x281)];if(currentQuizData&&currentQuizData[_0x4349c4(0xde)][_0x228cd6]){const _0x4c48b8=currentQuizData[_0x4349c4(0xde)][_0x228cd6],_0x33de6c=currentQuizData[_0x4349c4(0xde)][_0x4349c4(0x164)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x228cd6&&(showAdminLiveQuestionView(_0x4c48b8,_0x228cd6,_0x33de6c),lastRenderedAdminQuestionIndex=_0x228cd6);const _0x339f7c=document[_0x4349c4(0x3e8)](_0x4349c4(0x476));if(_0x339f7c&&_0x278270[_0x4349c4(0x42e)]){const _0x51752a=Object['keys'](_0x278270[_0x4349c4(0x42e)])[_0x4349c4(0x164)],_0x5be561=Object[_0x4349c4(0x2a7)](_0x278270[_0x4349c4(0x42e)])[_0x4349c4(0x45b)](_0x50d95f=>_0x50d95f[_0x4349c4(0x472)]===!![])[_0x4349c4(0x164)];_0x339f7c['textContent']=_0x5be561+'/'+_0x51752a,_0x51752a>0x0&&_0x5be561===_0x51752a&&_0x278270[_0x4349c4(0x127)]!==_0x4349c4(0x4f8)&&revealAnswerForAdmin(_0x228cd6,_0x33de6c);}}else{const _0x3ceaf1=_0x278270[_0x4349c4(0x42e)][currentStudentName];if(_0x278270[_0x4349c4(0x127)]==='revealed'){if(_0x3ceaf1[_0x4349c4(0x472)]){const _0x1e3717=_0x3ceaf1[_0x4349c4(0x481)],_0x398f13=_0x3ceaf1[_0x4349c4(0x1c1)]||0x0,_0x5aa3e4=_0x1e3717?_0x4349c4(0x394)+_0x398f13+_0x4349c4(0xa5):_0x4349c4(0x386);liveGameView[_0x4349c4(0x43c)]=_0x4349c4(0x3a5)+_0x5aa3e4+_0x4349c4(0x275);}else liveGameView[_0x4349c4(0x43c)]=_0x4349c4(0x48a);}else!_0x3ceaf1[_0x4349c4(0x472)]&&showStudentLiveQuestionView(_0x4c48b8,_0x228cd6,_0x33de6c);}}break;case _0x4349c4(0x180):showPodiumView(_0x278270[_0x4349c4(0x42e)]);break;}});}async function authenticateUser(){const _0x2b2a02=_0x11059a;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x55dcbf){console[_0x2b2a02(0xba)](_0x2b2a02(0x29c),_0x55dcbf),showMessage(_0x2b2a02(0x458));}}function showView(_0x4c8536){const _0x449ffe=_0x11059a,_0x481d89=[_0x449ffe(0x38b),_0x449ffe(0x4b7),_0x449ffe(0x449),_0x449ffe(0x249),_0x449ffe(0x18e),_0x449ffe(0x3f2)];_0x481d89[_0x449ffe(0x1e9)](_0x1780f6=>document[_0x449ffe(0x3e8)](_0x1780f6)?.[_0x449ffe(0x1b3)]['add'](_0x449ffe(0x149)));if(_0x4c8536===_0x449ffe(0x24b))adminView[_0x449ffe(0x1b3)][_0x449ffe(0x422)](_0x449ffe(0x149)),projectDashboardView[_0x449ffe(0x1b3)][_0x449ffe(0x422)](_0x449ffe(0x149));else{if(_0x4c8536===_0x449ffe(0x45f))studentView['classList'][_0x449ffe(0x422)](_0x449ffe(0x149)),studentInitialView[_0x449ffe(0x1b3)]['remove']('hidden'),studentNameSelectionView[_0x449ffe(0x1b3)][_0x449ffe(0x2d6)]('hidden'),studentQuizArea[_0x449ffe(0x1b3)][_0x449ffe(0x2d6)](_0x449ffe(0x149)),studentResultArea[_0x449ffe(0x1b3)]['add']('hidden'),studentReadingArea[_0x449ffe(0x1b3)][_0x449ffe(0x2d6)](_0x449ffe(0x149)),studentJoinGameView[_0x449ffe(0x1b3)][_0x449ffe(0x2d6)](_0x449ffe(0x149));else{if(_0x4c8536===_0x449ffe(0x28a))adminView[_0x449ffe(0x1b3)][_0x449ffe(0x422)](_0x449ffe(0x149)),projectDetailView['classList']['remove'](_0x449ffe(0x149));else{if(_0x4c8536===_0x449ffe(0x2ac))adminView['classList'][_0x449ffe(0x422)](_0x449ffe(0x149)),quizResultsView['classList'][_0x449ffe(0x422)](_0x449ffe(0x149));else _0x4c8536===_0x449ffe(0x385)&&liveGameView['classList']['remove'](_0x449ffe(0x149));}}}}function showJoinGameView(){const _0x30328a=_0x11059a;studentInitialView['classList'][_0x30328a(0x2d6)](_0x30328a(0x149)),studentJoinGameView[_0x30328a(0x1b3)][_0x30328a(0x422)](_0x30328a(0x149));}function setupEventListeners(){const _0x38df21=_0x11059a;document[_0x38df21(0x3e8)](_0x38df21(0x24c))['addEventListener']('click',handleModeSwitch),document[_0x38df21(0x3e8)]('back-to-dashboard-btn')[_0x38df21(0x368)]('click',()=>{const _0x4eedeb=_0x38df21;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x4eedeb(0x24b));}),document[_0x38df21(0x3e8)](_0x38df21(0x18a))[_0x38df21(0x368)]('click',()=>{const _0x341b3a=_0x38df21;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x341b3a(0x28a));}),document[_0x38df21(0x3e8)]('back-to-dashboard-from-results-btn')[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x513c18=_0x38df21;showView(_0x513c18(0x24b));}),document['getElementById'](_0x38df21(0x14d))[_0x38df21(0x368)](_0x38df21(0x189),()=>messageModal[_0x38df21(0x1b3)][_0x38df21(0x2d6)](_0x38df21(0x149))),document[_0x38df21(0x3e8)]('create-project-btn')['addEventListener']('click',()=>createProjectModal['classList'][_0x38df21(0x422)]('hidden')),document['getElementById'](_0x38df21(0x226))[_0x38df21(0x368)](_0x38df21(0x189),()=>createProjectModal['classList'][_0x38df21(0x2d6)]('hidden')),document['getElementById'](_0x38df21(0x2ff))[_0x38df21(0x368)](_0x38df21(0x189),()=>adminPasswordModal['classList'][_0x38df21(0x2d6)](_0x38df21(0x149))),document[_0x38df21(0x3e8)]('confirm-admin-login-btn')[_0x38df21(0x368)](_0x38df21(0x189),handleAdminLogin),document[_0x38df21(0x3e8)](_0x38df21(0x4f7))[_0x38df21(0x368)](_0x38df21(0x360),_0x179dc2=>{const _0x459725=_0x38df21;if(_0x179dc2[_0x459725(0x1de)]===_0x459725(0x126))handleAdminLogin();}),document[_0x38df21(0x3e8)](_0x38df21(0x30b))[_0x38df21(0x368)]('click',()=>{const _0x1343ab=_0x38df21;confirmationModal[_0x1343ab(0x1b3)][_0x1343ab(0x2d6)](_0x1343ab(0x149)),confirmAction=null;}),document[_0x38df21(0x3e8)](_0x38df21(0x3ad))[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x474d88=_0x38df21;confirmAction&&confirmAction(),confirmationModal[_0x474d88(0x1b3)][_0x474d88(0x2d6)](_0x474d88(0x149)),confirmAction=null;}),document[_0x38df21(0x3e8)](_0x38df21(0x4d7))[_0x38df21(0x368)]('click',()=>renameQuizModal['classList'][_0x38df21(0x2d6)](_0x38df21(0x149))),document['getElementById'](_0x38df21(0x33b))[_0x38df21(0x368)](_0x38df21(0x189),confirmRenameQuiz),document[_0x38df21(0x3e8)](_0x38df21(0x2b6))['addEventListener'](_0x38df21(0x189),()=>moveQuizModal[_0x38df21(0x1b3)][_0x38df21(0x2d6)](_0x38df21(0x149))),document[_0x38df21(0x3e8)]('confirm-move-quiz-btn')[_0x38df21(0x368)](_0x38df21(0x189),confirmMoveQuiz),document['getElementById'](_0x38df21(0x292))[_0x38df21(0x368)]('click',()=>quizSettingsModal[_0x38df21(0x1b3)][_0x38df21(0x2d6)](_0x38df21(0x149))),document['getElementById'](_0x38df21(0x4e0))['addEventListener'](_0x38df21(0x189),confirmQuizSettings),document[_0x38df21(0x3e8)](_0x38df21(0x487))[_0x38df21(0x368)]('click',()=>quizStatusModal[_0x38df21(0x1b3)]['add'](_0x38df21(0x149))),document[_0x38df21(0x3e8)](_0x38df21(0x294))[_0x38df21(0x368)](_0x38df21(0x189),confirmQuizStatus),document[_0x38df21(0x3e8)]('open-global-live-btn')[_0x38df21(0x368)]('click',openGlobalLiveModal),document[_0x38df21(0x3e8)](_0x38df21(0x515))[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0xc9aa12=_0x38df21;document[_0xc9aa12(0x3e8)]('global-live-game-modal')['classList']['add']('hidden'),selectedGlobalQuizId=null;}),document['getElementById']('global-quiz-search-input')[_0x38df21(0x368)]('input',_0x29b145=>renderGlobalQuizList(_0x29b145[_0x38df21(0x1d2)]['value'])),document[_0x38df21(0x3e8)]('confirm-global-live-btn')[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x2ae31a=_0x38df21,_0x5409dc=selectedGlobalQuizId;if(!_0x5409dc)return;document[_0x2ae31a(0x3e8)]('global-live-game-modal')[_0x2ae31a(0x1b3)][_0x2ae31a(0x2d6)](_0x2ae31a(0x149)),handleStartLiveRace(_0x5409dc);}),document['getElementById'](_0x38df21(0x3f1))[_0x38df21(0x368)](_0x38df21(0x51e),renderProjects),document[_0x38df21(0x3e8)](_0x38df21(0x19e))[_0x38df21(0x368)](_0x38df21(0x4cb),renderProjects),document[_0x38df21(0x3e8)](_0x38df21(0x1ea))['addEventListener'](_0x38df21(0x51e),renderQuizzes),manageTab[_0x38df21(0x368)](_0x38df21(0x189),()=>switchProjectTab(_0x38df21(0x48f))),resultsTab[_0x38df21(0x368)]('click',()=>switchProjectTab(_0x38df21(0x1e7))),leaderboardTab[_0x38df21(0x368)]('click',()=>switchProjectTab(_0x38df21(0x41c))),document[_0x38df21(0x3e8)]('analytics-tab-btn')[_0x38df21(0x368)]('click',()=>switchQuizDetailTab(_0x38df21(0x2d4))),document[_0x38df21(0x3e8)](_0x38df21(0xcd))['addEventListener']('click',()=>switchQuizDetailTab(_0x38df21(0x1cc))),document[_0x38df21(0x3e8)](_0x38df21(0x203))[_0x38df21(0x368)](_0x38df21(0x189),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x38df21(0x3e8)]('analyze-strengths-btn')['addEventListener'](_0x38df21(0x189),handleAnalyzeClass),generateWorksheetBtn[_0x38df21(0x368)](_0x38df21(0x189),generateWorksheet);const _0x339f21=document['getElementById'](_0x38df21(0x247)),_0x53590f=document[_0x38df21(0x3e8)]('link-input-area');topicTab[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x3fc15b=_0x38df21;topicTab[_0x3fc15b(0x1b3)][_0x3fc15b(0x2d6)](_0x3fc15b(0x120)),textTab['classList'][_0x3fc15b(0x422)](_0x3fc15b(0x120)),fileTab[_0x3fc15b(0x1b3)]['remove'](_0x3fc15b(0x120)),worksheetTab[_0x3fc15b(0x1b3)]['remove']('active');if(_0x339f21)_0x339f21[_0x3fc15b(0x1b3)][_0x3fc15b(0x422)](_0x3fc15b(0x120));topicInputArea[_0x3fc15b(0x1b3)][_0x3fc15b(0x422)](_0x3fc15b(0x149)),textInputArea[_0x3fc15b(0x1b3)][_0x3fc15b(0x2d6)](_0x3fc15b(0x149)),fileInputArea['classList'][_0x3fc15b(0x2d6)]('hidden'),worksheetInputArea[_0x3fc15b(0x1b3)][_0x3fc15b(0x2d6)](_0x3fc15b(0x149));if(_0x53590f)_0x53590f[_0x3fc15b(0x1b3)]['add'](_0x3fc15b(0x149));}),textTab[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x58967e=_0x38df21;textTab[_0x58967e(0x1b3)][_0x58967e(0x2d6)](_0x58967e(0x120)),topicTab[_0x58967e(0x1b3)][_0x58967e(0x422)]('active'),fileTab[_0x58967e(0x1b3)]['remove'](_0x58967e(0x120)),worksheetTab[_0x58967e(0x1b3)]['remove'](_0x58967e(0x120));if(_0x339f21)_0x339f21[_0x58967e(0x1b3)][_0x58967e(0x422)](_0x58967e(0x120));textInputArea['classList'][_0x58967e(0x422)](_0x58967e(0x149)),topicInputArea[_0x58967e(0x1b3)][_0x58967e(0x2d6)](_0x58967e(0x149)),fileInputArea['classList']['add'](_0x58967e(0x149)),worksheetInputArea[_0x58967e(0x1b3)][_0x58967e(0x2d6)](_0x58967e(0x149));if(_0x53590f)_0x53590f[_0x58967e(0x1b3)][_0x58967e(0x2d6)](_0x58967e(0x149));}),fileTab[_0x38df21(0x368)]('click',()=>{const _0x1b1fb4=_0x38df21;fileTab[_0x1b1fb4(0x1b3)]['add']('active'),topicTab[_0x1b1fb4(0x1b3)]['remove'](_0x1b1fb4(0x120)),textTab[_0x1b1fb4(0x1b3)][_0x1b1fb4(0x422)]('active'),worksheetTab['classList'][_0x1b1fb4(0x422)](_0x1b1fb4(0x120));if(_0x339f21)_0x339f21['classList']['remove']('active');fileInputArea['classList'][_0x1b1fb4(0x422)](_0x1b1fb4(0x149)),topicInputArea['classList'][_0x1b1fb4(0x2d6)](_0x1b1fb4(0x149)),textInputArea[_0x1b1fb4(0x1b3)]['add'](_0x1b1fb4(0x149)),worksheetInputArea['classList'][_0x1b1fb4(0x2d6)](_0x1b1fb4(0x149));if(_0x53590f)_0x53590f[_0x1b1fb4(0x1b3)][_0x1b1fb4(0x2d6)](_0x1b1fb4(0x149));}),worksheetTab[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x1fbf4c=_0x38df21;worksheetTab['classList'][_0x1fbf4c(0x2d6)](_0x1fbf4c(0x120)),topicTab[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x422)]('active'),textTab[_0x1fbf4c(0x1b3)]['remove'](_0x1fbf4c(0x120)),fileTab[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x422)]('active');if(_0x339f21)_0x339f21[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x422)](_0x1fbf4c(0x120));worksheetInputArea[_0x1fbf4c(0x1b3)]['remove'](_0x1fbf4c(0x149)),topicInputArea[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x2d6)]('hidden'),textInputArea[_0x1fbf4c(0x1b3)]['add'](_0x1fbf4c(0x149)),fileInputArea[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x2d6)](_0x1fbf4c(0x149));if(_0x53590f)_0x53590f[_0x1fbf4c(0x1b3)][_0x1fbf4c(0x2d6)]('hidden');});const _0x1a1314=document['getElementById'](_0x38df21(0x25d)),_0x3a4453=document['getElementById'](_0x38df21(0x2a3));_0x1a1314&&_0x1a1314[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0xf952ff=_0x38df21;topicTab[_0xf952ff(0x1b3)][_0xf952ff(0x422)](_0xf952ff(0x120)),textTab[_0xf952ff(0x1b3)][_0xf952ff(0x422)](_0xf952ff(0x120)),fileTab[_0xf952ff(0x1b3)]['remove'](_0xf952ff(0x120)),worksheetTab['classList']['remove'](_0xf952ff(0x120));if(_0x339f21)_0x339f21['classList'][_0xf952ff(0x422)](_0xf952ff(0x120));_0x1a1314[_0xf952ff(0x1b3)]['add'](_0xf952ff(0x120)),topicInputArea[_0xf952ff(0x1b3)][_0xf952ff(0x2d6)]('hidden'),textInputArea[_0xf952ff(0x1b3)][_0xf952ff(0x2d6)](_0xf952ff(0x149)),fileInputArea[_0xf952ff(0x1b3)][_0xf952ff(0x2d6)](_0xf952ff(0x149)),worksheetInputArea[_0xf952ff(0x1b3)]['add'](_0xf952ff(0x149));if(_0x53590f)_0x53590f[_0xf952ff(0x1b3)][_0xf952ff(0x2d6)]('hidden');_0x3a4453[_0xf952ff(0x1b3)][_0xf952ff(0x422)](_0xf952ff(0x149)),displayQuestionBank();});_0x339f21&&(_0x339f21[_0x38df21(0x368)]('click',()=>{const _0x59c4c1=_0x38df21;topicTab[_0x59c4c1(0x1b3)][_0x59c4c1(0x422)]('active'),textTab['classList'][_0x59c4c1(0x422)]('active'),fileTab[_0x59c4c1(0x1b3)][_0x59c4c1(0x422)](_0x59c4c1(0x120)),worksheetTab[_0x59c4c1(0x1b3)]['remove']('active'),_0x339f21['classList'][_0x59c4c1(0x2d6)](_0x59c4c1(0x120)),topicInputArea[_0x59c4c1(0x1b3)]['add']('hidden'),textInputArea[_0x59c4c1(0x1b3)][_0x59c4c1(0x2d6)](_0x59c4c1(0x149)),fileInputArea[_0x59c4c1(0x1b3)][_0x59c4c1(0x2d6)](_0x59c4c1(0x149)),worksheetInputArea[_0x59c4c1(0x1b3)][_0x59c4c1(0x2d6)](_0x59c4c1(0x149)),_0x53590f[_0x59c4c1(0x1b3)][_0x59c4c1(0x422)]('hidden');}),document[_0x38df21(0x3e8)]('generate-from-link-btn')[_0x38df21(0x368)](_0x38df21(0x189),handleGenerateFromLink));loadQuizBtn[_0x38df21(0x368)](_0x38df21(0x189),handleLoadQuiz),startQuizBtn[_0x38df21(0x368)]('click',()=>{const _0x1ef3f1=_0x38df21,_0x4002e4=document['getElementById'](_0x1ef3f1(0x459));currentStudentName=_0x4002e4[_0x1ef3f1(0x43e)];if(!currentStudentName){showMessage(_0x1ef3f1(0x1d0));return;}studentNameSelectionView[_0x1ef3f1(0x1b3)][_0x1ef3f1(0x2d6)](_0x1ef3f1(0x149)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x38df21(0x3e8)](_0x38df21(0x32c))[_0x38df21(0x368)]('click',showJoinGameView),document['getElementById'](_0x38df21(0xad))[_0x38df21(0x368)](_0x38df21(0x189),handleJoinLiveGame),document[_0x38df21(0x3e8)](_0x38df21(0x4ea))[_0x38df21(0x368)](_0x38df21(0x189),()=>showView(_0x38df21(0x45f)));const _0x2b2fb8=()=>{const _0x5a4a7d=_0x38df21,_0x4cb6e4=document[_0x5a4a7d(0x3e8)]('results-quiz-title')[_0x5a4a7d(0x373)][_0x5a4a7d(0x358)](/[^a-z0-9]/gi,'_')[_0x5a4a7d(0x32b)]();return _0x5a4a7d(0x18b)+(_0x4cb6e4||_0x5a4a7d(0x4da));};document[_0x38df21(0x3e8)](_0x38df21(0x9f))[_0x38df21(0x368)]('click',()=>exportTableAsImage('results-table-container',_0x2b2fb8())),document['getElementById'](_0x38df21(0x303))['addEventListener'](_0x38df21(0x189),()=>exportTableAsPDF(_0x38df21(0xa1),_0x2b2fb8())),document[_0x38df21(0x3e8)](_0x38df21(0x4b0))[_0x38df21(0x368)](_0x38df21(0x189),()=>exportTableAsWord(_0x38df21(0x1ca),_0x2b2fb8())),document[_0x38df21(0x3e8)](_0x38df21(0x2f9))[_0x38df21(0x368)]('click',()=>exportTableAsExcel(_0x38df21(0xa1),_0x2b2fb8()));const _0x383ebf=()=>{const _0x3894d1=_0x38df21,_0x90466e=document[_0x3894d1(0x3e8)](_0x3894d1(0xbe))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x3894d1(0x32b)]();return _0x3894d1(0x19c)+(_0x90466e||_0x3894d1(0x4da));};document[_0x38df21(0x3e8)](_0x38df21(0x352))['addEventListener'](_0x38df21(0x189),()=>exportTableAsImage(_0x38df21(0x214),_0x383ebf())),document[_0x38df21(0x3e8)](_0x38df21(0x12a))[_0x38df21(0x368)](_0x38df21(0x189),()=>exportTableAsPDF('quiz-leaderboard-table',_0x383ebf())),document[_0x38df21(0x3e8)](_0x38df21(0x328))[_0x38df21(0x368)]('click',()=>exportTableAsWord(_0x38df21(0x214),_0x383ebf())),document[_0x38df21(0x3e8)](_0x38df21(0x38c))['addEventListener'](_0x38df21(0x189),()=>exportTableAsExcel(_0x38df21(0x4e6),_0x383ebf())),projectQuizzesList[_0x38df21(0x368)](_0x38df21(0x189),async _0xcf4016=>{const _0x20704d=_0x38df21,_0x51e05e=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)]('.star-quiz-btn'),_0x3f58ec=_0xcf4016[_0x20704d(0x1d2)]['closest'](_0x20704d(0x313)),_0x571c4c=_0xcf4016['target']['closest'](_0x20704d(0x252)),_0x33c359=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)]('.start-presentation-list-btn'),_0x2ac445=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)](_0x20704d(0x2a4)),_0xa88a8b=_0xcf4016['target'][_0x20704d(0x114)](_0x20704d(0x412)),_0x269f52=_0xcf4016['target'][_0x20704d(0x114)](_0x20704d(0x1fd)),_0x4e6dd7=_0xcf4016['target'][_0x20704d(0x114)]('.quiz-settings-btn'),_0x42cd56=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)](_0x20704d(0x256)),_0x5e0825=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)](_0x20704d(0x521)),_0x18db92=_0xcf4016['target'][_0x20704d(0x114)]('.start-live-race-btn'),_0x362621=_0xcf4016[_0x20704d(0x1d2)][_0x20704d(0x114)]('.edit-quiz-btn');if(_0x362621){const _0x5dca91=_0x362621[_0x20704d(0x2e0)][_0x20704d(0x133)];handleOpenQuizEditor(_0x5dca91);}else{if(_0x51e05e){const _0x2d1f43=_0x51e05e['dataset'][_0x20704d(0x133)];handleToggleStarQuiz(_0x2d1f43);}else{if(_0x18db92){const _0x5f4953=_0x18db92[_0x20704d(0x2e0)][_0x20704d(0x133)];handleStartLiveRace(_0x5f4953);}else{if(_0x3f58ec){const _0x58be26=_0x3f58ec[_0x20704d(0x2e0)][_0x20704d(0x133)],_0x96ad01=_0x3f58ec[_0x20704d(0x2e0)]['topic'];showConfirmation(_0x20704d(0x27b)+_0x96ad01+_0x20704d(0x27f),()=>handleDeleteQuiz(_0x58be26));}else{if(_0x571c4c){const _0x2015e3=_0x571c4c[_0x20704d(0x2e0)][_0x20704d(0x133)];copyTextToClipboard(_0x2015e3,_0x20704d(0x4dc));}else{if(_0x33c359){const _0x5df9e6=_0x33c359[_0x20704d(0x2e0)][_0x20704d(0x133)],_0x124e6c=doc(db,'artifacts/'+appId+_0x20704d(0x3b8),_0x5df9e6),_0x456426=await getDoc(_0x124e6c);if(_0x456426[_0x20704d(0x384)]()){const _0x4df764=sanitizeQuizData({'id':_0x456426['id'],..._0x456426[_0x20704d(0x41f)]()});startPresentation(_0x4df764);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x2ac445){const _0x1d3ab0=_0x2ac445['dataset'][_0x20704d(0x133)],_0x2a6282=doc(db,_0x20704d(0x2a0)+appId+'/public/data/quizzes',_0x1d3ab0),_0x5284ca=await getDoc(_0x2a6282);_0x5284ca[_0x20704d(0x384)]()?(currentQuizData=sanitizeQuizData({'id':_0x5284ca['id'],..._0x5284ca[_0x20704d(0x41f)]()}),startAdminTest()):showMessage(_0x20704d(0x40d));}else{if(_0xa88a8b){const _0x55eef3=_0xa88a8b[_0x20704d(0x2e0)]['quizId'],_0x20f4a6=_0xa88a8b[_0x20704d(0x2e0)]['topic'];handleRenameQuiz(_0x55eef3,_0x20f4a6);}else{if(_0x269f52){const _0xaacca7=_0x269f52[_0x20704d(0x2e0)][_0x20704d(0x133)];handleMoveQuiz(_0xaacca7);}else{if(_0x4e6dd7){const _0x3457b2=_0x4e6dd7['dataset'][_0x20704d(0x133)];handleQuizSettings(_0x3457b2);}else{if(_0x42cd56){const _0x5edcec=_0x42cd56[_0x20704d(0x2e0)][_0x20704d(0x133)];handleQuizStatus(_0x5edcec);}else{if(_0x5e0825){const _0x4d836d=_0x5e0825[_0x20704d(0x2e0)]['quizId'];handleDuplicateQuiz(_0x4d836d);}}}}}}}}}}}}}),document[_0x38df21(0x3e8)](_0x38df21(0x36a))[_0x38df21(0x368)](_0x38df21(0x189),closePresentation),document[_0x38df21(0x3e8)]('prev-question-btn')['addEventListener']('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x38df21(0x3e8)]('next-question-btn')['addEventListener'](_0x38df21(0x189),()=>{const _0x2c2c6c=_0x38df21;currentQuizData[_0x2c2c6c(0xde)]&&currentPresentationSlide<currentQuizData['questions'][_0x2c2c6c(0x164)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x2ee09c=_0x38df21;!document[_0x2ee09c(0x40e)]&&(presentationModal[_0x2ee09c(0x397)][_0x2ee09c(0x4c8)]='none');}),document['getElementById']('delete-all-students-btn')[_0x38df21(0x368)](_0x38df21(0x189),handleDeleteAllStudents),studentList[_0x38df21(0x368)]('click',_0x55593d=>{const _0x3036ac=_0x38df21,_0x480892=_0x55593d[_0x3036ac(0x1d2)][_0x3036ac(0x114)](_0x3036ac(0x2f2));if(_0x480892){const _0x3ad5a7=_0x480892[_0x3036ac(0x2e0)]['studentName'];handleDeleteStudent(_0x3ad5a7);}}),fileUploadInput['addEventListener'](_0x38df21(0x4cb),handleFileUpload),document[_0x38df21(0x3e8)](_0x38df21(0x3c1))[_0x38df21(0x368)](_0x38df21(0x4cb),_0x5290d2=>{const _0x4b3c75=_0x38df21,_0x4ba95d=document['getElementById']('timer-duration-container'),_0x2cb087=document['getElementById'](_0x4b3c75(0x37f)),_0x5b9ac0=document[_0x4b3c75(0x3e8)](_0x4b3c75(0x40a));_0x5290d2[_0x4b3c75(0x1d2)][_0x4b3c75(0x43e)]===_0x4b3c75(0x17e)?_0x4ba95d['classList'][_0x4b3c75(0x2d6)]('hidden'):(_0x4ba95d['classList'][_0x4b3c75(0x422)](_0x4b3c75(0x149)),_0x5290d2[_0x4b3c75(0x1d2)][_0x4b3c75(0x43e)]===_0x4b3c75(0x350)?(_0x2cb087[_0x4b3c75(0x373)]=_0x4b3c75(0x4d1),_0x5b9ac0[_0x4b3c75(0x43e)]='10'):(_0x2cb087[_0x4b3c75(0x373)]=_0x4b3c75(0x25a),_0x5b9ac0[_0x4b3c75(0x43e)]='30'));}),document[_0x38df21(0x3e8)](_0x38df21(0xc2))[_0x38df21(0x368)]('change',_0x46e638=>{const _0x6a7507=_0x38df21,_0x40cfea=document[_0x6a7507(0x3e8)](_0x6a7507(0x2e7)),_0x45d3d8=_0x46e638[_0x6a7507(0x1d2)][_0x6a7507(0x43e)],_0xb26227=document[_0x6a7507(0x296)](_0x6a7507(0x3b3)),_0x5f3cc5=document[_0x6a7507(0x3e8)](_0x6a7507(0x245)),_0x1c9506=document[_0x6a7507(0x3e8)](_0x6a7507(0x37c));_0x45d3d8==='matching'?_0xb26227['textContent']=_0x6a7507(0x342):_0xb26227[_0x6a7507(0x373)]='จำนวนข้อ:',_0x45d3d8===_0x6a7507(0x2d7)||_0x45d3d8==='fill_in_with_choices'||_0x45d3d8===_0x6a7507(0x4e4)?_0x40cfea[_0x6a7507(0x1b3)][_0x6a7507(0x422)]('hidden'):_0x40cfea['classList'][_0x6a7507(0x2d6)](_0x6a7507(0x149)),_0x5f3cc5['max']=_0x1c9506[_0x6a7507(0x43e)];}),document[_0x38df21(0x3e8)]('num-questions')[_0x38df21(0x368)](_0x38df21(0x51e),_0x1f073a=>{const _0x43d357=_0x38df21;document[_0x43d357(0x3e8)](_0x43d357(0x245))[_0x43d357(0xac)]=_0x1f073a[_0x43d357(0x1d2)][_0x43d357(0x43e)];}),document[_0x38df21(0x3e8)](_0x38df21(0x151))[_0x38df21(0x368)](_0x38df21(0x4cb),_0x13f788=>{const _0x121bce=_0x38df21,_0x1794cf=document[_0x121bce(0x3e8)]('modal-timer-duration-container'),_0x39ab2f=document[_0x121bce(0x3e8)]('modal-timer-duration-label'),_0x43eae3=document['getElementById']('modal-timer-duration-input');_0x13f788[_0x121bce(0x1d2)][_0x121bce(0x43e)]==='none'?_0x1794cf[_0x121bce(0x1b3)][_0x121bce(0x2d6)](_0x121bce(0x149)):(_0x1794cf[_0x121bce(0x1b3)][_0x121bce(0x422)](_0x121bce(0x149)),_0x13f788[_0x121bce(0x1d2)]['value']==='whole_quiz'?_0x39ab2f[_0x121bce(0x373)]=_0x121bce(0x4d1):_0x39ab2f['textContent']=_0x121bce(0x25a));}),document['getElementById'](_0x38df21(0x3b1))[_0x38df21(0x368)]('click',()=>{const _0x35fa7a=_0x38df21;document[_0x35fa7a(0x3e8)]('quiz-editor-modal')['classList'][_0x35fa7a(0x2d6)](_0x35fa7a(0x149));}),document[_0x38df21(0x3e8)](_0x38df21(0x334))[_0x38df21(0x368)](_0x38df21(0x189),()=>{const _0x332cc6=_0x38df21;document[_0x332cc6(0x3e8)](_0x332cc6(0x2c7))[_0x332cc6(0x1b3)][_0x332cc6(0x2d6)](_0x332cc6(0x149));}),document[_0x38df21(0x3e8)](_0x38df21(0x379))[_0x38df21(0x368)]('click',()=>{const _0x17e7d5=_0x38df21;document[_0x17e7d5(0x3e8)](_0x17e7d5(0x2c7))['classList'][_0x17e7d5(0x2d6)](_0x17e7d5(0x149)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);});}function handleModeSwitch(){const _0x4259a9=_0x11059a,_0x623603=document[_0x4259a9(0x3e8)](_0x4259a9(0x24c));currentMode===_0x4259a9(0x45f)?(adminPasswordModal['classList'][_0x4259a9(0x422)](_0x4259a9(0x149)),document['getElementById'](_0x4259a9(0x4f7))[_0x4259a9(0x35c)]()):(currentMode=_0x4259a9(0x45f),_0x623603[_0x4259a9(0x43c)]=_0x4259a9(0x38a),_0x623603[_0x4259a9(0x215)]='สลับไปโหมดผู้ควบคุม',showView(_0x4259a9(0x45f)));}function handleAdminLogin(){const _0x149734=_0x11059a,_0x56ccc0=document[_0x149734(0x3e8)](_0x149734(0x4f7)),_0x342c0a=document[_0x149734(0x3e8)](_0x149734(0x132));if(_0x56ccc0[_0x149734(0x43e)]===_0x149734(0x20d)){adminPasswordModal['classList'][_0x149734(0x2d6)]('hidden'),_0x56ccc0[_0x149734(0x43e)]='',_0x342c0a['classList']['add'](_0x149734(0x149)),currentMode='admin';const _0x23fc46=document[_0x149734(0x3e8)](_0x149734(0x24c));_0x23fc46[_0x149734(0x43c)]=_0x149734(0x35b),_0x23fc46[_0x149734(0x215)]=_0x149734(0x242),showView('admin-dashboard');}else _0x342c0a['classList'][_0x149734(0x422)](_0x149734(0x149)),_0x56ccc0[_0x149734(0x43e)]='';}function switchProjectTab(_0x57bc41){const _0x49153e=_0x11059a;[_0x49153e(0x48f),_0x49153e(0x1e7),_0x49153e(0x41c)][_0x49153e(0x1e9)](_0x2e426b=>{const _0x508ec1=_0x49153e;document['getElementById'](_0x2e426b+'-tab')[_0x508ec1(0x1b3)][_0x508ec1(0x422)]('active'),document[_0x508ec1(0x3e8)](_0x2e426b+_0x508ec1(0x447))[_0x508ec1(0x1b3)][_0x508ec1(0x2d6)](_0x508ec1(0x149));}),document['getElementById'](_0x57bc41+_0x49153e(0x2b3))[_0x49153e(0x1b3)][_0x49153e(0x2d6)](_0x49153e(0x120)),document[_0x49153e(0x3e8)](_0x57bc41+_0x49153e(0x447))[_0x49153e(0x1b3)][_0x49153e(0x422)](_0x49153e(0x149));}function switchQuizDetailTab(_0x2e5dc3){const _0x4ccf9a=_0x11059a,_0x76aa02={'analytics':{'btn':_0x4ccf9a(0x3be),'content':_0x4ccf9a(0x4d4)},'scores':{'btn':_0x4ccf9a(0xcd),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x4ccf9a(0x203),'content':_0x4ccf9a(0x353)}};for(const _0x48218b in _0x76aa02){document[_0x4ccf9a(0x3e8)](_0x76aa02[_0x48218b][_0x4ccf9a(0x3da)])['classList'][_0x4ccf9a(0x422)](_0x4ccf9a(0x120)),document[_0x4ccf9a(0x3e8)](_0x76aa02[_0x48218b][_0x4ccf9a(0x20c)])['classList']['add']('hidden');}document[_0x4ccf9a(0x3e8)](_0x76aa02[_0x2e5dc3]['btn'])[_0x4ccf9a(0x1b3)]['add'](_0x4ccf9a(0x120)),document[_0x4ccf9a(0x3e8)](_0x76aa02[_0x2e5dc3][_0x4ccf9a(0x20c)])[_0x4ccf9a(0x1b3)][_0x4ccf9a(0x422)](_0x4ccf9a(0x149));}function _0x3c65(_0x86ba8d,_0x5a1f6d){const _0x72c223=_0x72c2();return _0x3c65=function(_0x3c6514,_0x4ef27f){_0x3c6514=_0x3c6514-0x9e;let _0x3f8dba=_0x72c223[_0x3c6514];return _0x3f8dba;},_0x3c65(_0x86ba8d,_0x5a1f6d);}function showMessage(_0x6bfd87){const _0x47d5dc=_0x11059a;modalMessage[_0x47d5dc(0x373)]=_0x6bfd87,messageModal[_0x47d5dc(0x1b3)]['remove'](_0x47d5dc(0x149));}function showConfirmation(_0x5bea84,_0x4ea7d8){const _0x56e743=_0x11059a;document[_0x56e743(0x3e8)](_0x56e743(0x2bc))[_0x56e743(0x373)]=_0x5bea84,document[_0x56e743(0x3e8)](_0x56e743(0x308))['querySelector']('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x4ea7d8,confirmationModal[_0x56e743(0x1b3)]['remove'](_0x56e743(0x149));}function listenForProjects(){const _0x591d64=_0x11059a,_0x36681b=collection(db,'artifacts/'+appId+_0x591d64(0x332));unsubscribeProjectsListener=onSnapshot(_0x36681b,_0x379686=>{const _0x4dcd4d=_0x591d64;allProjects=_0x379686[_0x4dcd4d(0x301)][_0x4dcd4d(0x13c)](_0x525a8e=>({'id':_0x525a8e['id'],..._0x525a8e[_0x4dcd4d(0x41f)]()})),renderProjects();},_0x1350b4=>{const _0xa7e5cb=_0x591d64;console[_0xa7e5cb(0xba)]('Error\x20listening\x20for\x20projects:',_0x1350b4),showMessage(_0xa7e5cb(0x383));});}async function renderProjects(){const _0xd80e17=_0x11059a,_0x17d7e1=document[_0xd80e17(0x3e8)]('project-search-input')['value'][_0xd80e17(0x32b)](),_0x4c2ad7=document[_0xd80e17(0x3e8)](_0xd80e17(0x19e))[_0xd80e17(0x43e)];let _0xa9084a=allProjects[_0xd80e17(0x45b)](_0x7ae098=>_0x7ae098[_0xd80e17(0xd8)][_0xd80e17(0x32b)]()[_0xd80e17(0x4c1)](_0x17d7e1));_0xa9084a[_0xd80e17(0x259)]((_0x2e57f1,_0x181ff2)=>{const _0x3e5e54=_0xd80e17;switch(_0x4c2ad7){case _0x3e5e54(0x2b5):return _0x2e57f1[_0x3e5e54(0xd8)][_0x3e5e54(0x48b)](_0x181ff2[_0x3e5e54(0xd8)],'th');case'name_desc':return _0x181ff2[_0x3e5e54(0xd8)]['localeCompare'](_0x2e57f1[_0x3e5e54(0xd8)],'th');case'date_asc':return new Date(_0x2e57f1[_0x3e5e54(0x33d)])-new Date(_0x181ff2[_0x3e5e54(0x33d)]);case'date_desc':default:return new Date(_0x181ff2[_0x3e5e54(0x33d)])-new Date(_0x2e57f1['createdAt']);}});const _0x4f8efc={};await Promise['all'](_0xa9084a['map'](async _0x1e43fc=>{const _0xcaed62=_0xd80e17,_0x46357d=query(collection(db,_0xcaed62(0x2a0)+appId+'/public/data/quizzes'),where(_0xcaed62(0xee),'==',_0x1e43fc['id'])),_0x2fbcaa=await getDocs(_0x46357d);_0x4f8efc[_0x1e43fc['id']]=_0x2fbcaa[_0xcaed62(0x527)];}));let _0x2e9c31='';starredQuizzes[_0xd80e17(0x164)]>0x0&&(_0x2e9c31+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+starredQuizzes[_0xd80e17(0x164)]+_0xd80e17(0x3ff)),_0xa9084a[_0xd80e17(0x1e9)](_0x40e02f=>{const _0x8ba97d=_0xd80e17,_0x1aae60=_0x4f8efc[_0x40e02f['id']]??0x0;_0x2e9c31+=_0x8ba97d(0x474)+_0x40e02f['id']+_0x8ba97d(0x2a9)+_0x40e02f[_0x8ba97d(0xd8)]+_0x8ba97d(0x15c)+new Date(_0x40e02f[_0x8ba97d(0x33d)])[_0x8ba97d(0x409)](_0x8ba97d(0x26b))+_0x8ba97d(0x1bb)+_0x1aae60+_0x8ba97d(0x345)+_0x40e02f['id']+_0x8ba97d(0x4fd)+_0x40e02f[_0x8ba97d(0xd8)]+_0x8ba97d(0x522);}),projectList[_0xd80e17(0x43c)]=_0x2e9c31,noProjectsMsg[_0xd80e17(0x1b3)][_0xd80e17(0x18c)](_0xd80e17(0x149),_0x2e9c31[_0xd80e17(0x164)]>0x0);}document[_0x11059a(0x3e8)](_0x11059a(0x23f))[_0x11059a(0x368)]('click',async()=>{const _0x37d8bf=_0x11059a,_0x3a1661=document[_0x37d8bf(0x3e8)](_0x37d8bf(0xe9)),_0x192238=_0x3a1661[_0x37d8bf(0x43e)][_0x37d8bf(0x2fe)]();if(!_0x192238){showMessage(_0x37d8bf(0x430));return;}try{const _0x8fd732=doc(collection(db,_0x37d8bf(0x2a0)+appId+_0x37d8bf(0x332)));await setDoc(_0x8fd732,{'projectName':_0x192238,'students':[],'settings':{'resultsDisplay':_0x37d8bf(0x4e1),'shuffleSetting':_0x37d8bf(0x17e),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x37d8bf(0x17e),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x37d8bf(0x30f)]()}),_0x3a1661['value']='',createProjectModal[_0x37d8bf(0x1b3)][_0x37d8bf(0x2d6)](_0x37d8bf(0x149)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x5ed954){console['error'](_0x37d8bf(0x327),_0x5ed954),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x11059a(0x368)](_0x11059a(0x189),async _0x4dba17=>{const _0xc011c0=_0x11059a,_0x508949=_0x4dba17[_0xc011c0(0x1d2)]['closest'](_0xc011c0(0x21c)),_0x4de228=_0x4dba17[_0xc011c0(0x1d2)][_0xc011c0(0x114)]('.delete-project-btn');if(_0x508949){const _0x24a68e=_0x508949[_0xc011c0(0x2e0)]['id'];_0x24a68e===_0xc011c0(0x217)?showStarredProjectView():(currentProjectId=_0x24a68e,await loadProjectDetails(currentProjectId),showView(_0xc011c0(0x28a)));}else{if(_0x4de228){const _0x461356=_0x4de228[_0xc011c0(0x2e0)]['id'],_0x313017=_0x4de228[_0xc011c0(0x2e0)][_0xc011c0(0x307)];showConfirmation(_0xc011c0(0x156)+_0x313017+_0xc011c0(0x351),()=>handleDeleteProject(_0x461356));}}});function showStarredProjectView(){const _0x2109b5=_0x11059a;currentProjectId=_0x2109b5(0x31f),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x2109b5(0x373)]='pinned-items',showView('project-detail'),manageTab[_0x2109b5(0x1b3)][_0x2109b5(0x2d6)](_0x2109b5(0x149)),leaderboardTab['classList']['add']('hidden'),switchProjectTab(_0x2109b5(0x1e7)),renderQuizzes();}async function loadProjectDetails(_0x552c1c){const _0x59b266=_0x11059a,_0x361a82=doc(db,'artifacts/'+appId+_0x59b266(0x332),_0x552c1c),_0x914710=await getDoc(_0x361a82);if(_0x914710['exists']()){manageTab['classList'][_0x59b266(0x422)](_0x59b266(0x149)),leaderboardTab[_0x59b266(0x1b3)][_0x59b266(0x422)](_0x59b266(0x149)),currentProjectData=_0x914710[_0x59b266(0x41f)](),projectTitle['textContent']=currentProjectData[_0x59b266(0xd8)],projectIdDisplay[_0x59b266(0x373)]=_0x552c1c;const _0x3169d9=currentProjectData[_0x59b266(0x467)]||{};document['getElementById']('num-questions')[_0x59b266(0x43e)]=_0x3169d9[_0x59b266(0x16f)]||0x5,document[_0x59b266(0x3e8)](_0x59b266(0x44b))['value']=_0x3169d9[_0x59b266(0x41a)]||0x4,document[_0x59b266(0x3e8)]('passing-score-input')[_0x59b266(0x43e)]=_0x3169d9[_0x59b266(0x402)]||Math[_0x59b266(0x4bf)]((_0x3169d9[_0x59b266(0x16f)]||0x5)/0x2),document[_0x59b266(0x3e8)](_0x59b266(0x245))[_0x59b266(0xac)]=_0x3169d9[_0x59b266(0x16f)]||0x5,document[_0x59b266(0x3e8)]('results-display-select')[_0x59b266(0x43e)]=_0x3169d9['resultsDisplay']||'show_results_and_answers',document[_0x59b266(0x3e8)](_0x59b266(0x2c3))['value']=_0x3169d9[_0x59b266(0x1b5)]||_0x59b266(0x17e);const _0x4643a5=_0x3169d9[_0x59b266(0x39f)]||_0x59b266(0x17e),_0x4e00c2=_0x3169d9[_0x59b266(0x277)]||0xa,_0x362e10=document['getElementById'](_0x59b266(0x3c1)),_0x26d81d=document[_0x59b266(0x3e8)](_0x59b266(0xf6)),_0x2182d6=document[_0x59b266(0x3e8)](_0x59b266(0x40a));_0x362e10[_0x59b266(0x43e)]=_0x4643a5,_0x2182d6[_0x59b266(0x43e)]=_0x4e00c2;_0x4643a5===_0x59b266(0x17e)?_0x26d81d['classList'][_0x59b266(0x2d6)]('hidden'):_0x26d81d[_0x59b266(0x1b3)][_0x59b266(0x422)](_0x59b266(0x149));_0x362e10[_0x59b266(0x130)](new Event(_0x59b266(0x4cb)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x552c1c),listenForProjectQuizzes(_0x552c1c),listenForStudentProfiles(_0x552c1c);}else showMessage(_0x59b266(0x333)),showView(_0x59b266(0x24b));}async function handleDeleteProject(_0x3bf777){const _0x545f48=_0x11059a;try{const _0x2e5ae4=writeBatch(db),_0x2f678e=collection(db,'artifacts/'+appId+_0x545f48(0x3b8)),_0x1c7319=query(_0x2f678e,where('projectId','==',_0x3bf777)),_0x5b097b=await getDocs(_0x1c7319);for(const _0x47ab04 of _0x5b097b['docs']){const _0x2500b6=collection(db,_0x545f48(0x2a0)+appId+_0x545f48(0x134)+_0x47ab04['id']+_0x545f48(0x219)),_0x3200a0=await getDocs(_0x2500b6);_0x3200a0[_0x545f48(0x1e9)](_0x3545a0=>{const _0x206dcb=_0x545f48;_0x2e5ae4['delete'](_0x3545a0[_0x206dcb(0x400)]);}),_0x2e5ae4[_0x545f48(0x148)](_0x47ab04[_0x545f48(0x400)]);}const _0x19f822=collection(db,_0x545f48(0x2a0)+appId+_0x545f48(0x370)+_0x3bf777+_0x545f48(0x1d7)),_0x2e2661=await getDocs(_0x19f822);_0x2e2661[_0x545f48(0x1e9)](_0x28bb95=>{const _0x2a3879=_0x545f48;_0x2e5ae4['delete'](_0x28bb95[_0x2a3879(0x400)]);});const _0x212d0f=doc(db,_0x545f48(0x2a0)+appId+_0x545f48(0x332),_0x3bf777);_0x2e5ae4[_0x545f48(0x148)](_0x212d0f),await _0x2e5ae4[_0x545f48(0xab)](),showMessage(_0x545f48(0xc0)),showView(_0x545f48(0x24b));}catch(_0x3ca848){console[_0x545f48(0xba)](_0x545f48(0x40f),_0x3ca848),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x11059a(0x3e8)](_0x11059a(0x1ae))['addEventListener'](_0x11059a(0x189),async()=>{const _0x486b4c=_0x11059a;if(!currentProjectId)return;const _0x16bace={'defaultNumQuestions':parseInt(document[_0x486b4c(0x3e8)]('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x486b4c(0x3e8)](_0x486b4c(0x44b))['value']),'defaultPassingScore':parseInt(document[_0x486b4c(0x3e8)](_0x486b4c(0x245))[_0x486b4c(0x43e)]),'resultsDisplay':document[_0x486b4c(0x3e8)](_0x486b4c(0x3b2))[_0x486b4c(0x43e)],'shuffleSetting':document[_0x486b4c(0x3e8)](_0x486b4c(0x2c3))[_0x486b4c(0x43e)],'timerMode':document[_0x486b4c(0x3e8)](_0x486b4c(0x3c1))[_0x486b4c(0x43e)],'timerDuration':parseInt(document[_0x486b4c(0x3e8)](_0x486b4c(0x40a))[_0x486b4c(0x43e)])};try{const _0x4bcd4d=doc(db,'artifacts/'+appId+_0x486b4c(0x332),currentProjectId);await updateDoc(_0x4bcd4d,{'settings':_0x16bace}),showMessage(_0x486b4c(0x451));}catch(_0x11f368){console[_0x486b4c(0xba)]('Error\x20saving\x20settings:',_0x11f368),showMessage(_0x486b4c(0x28b));}});function listenForStudents(_0x15925c){const _0x23fb12=_0x11059a,_0x3019b1=doc(db,_0x23fb12(0x2a0)+appId+_0x23fb12(0x332),_0x15925c);unsubscribeStudentsListener=onSnapshot(_0x3019b1,_0x3f6bee=>{const _0x16c5c0=_0x23fb12;if(_0x3f6bee[_0x16c5c0(0x384)]()){const _0x4615e6=_0x3f6bee[_0x16c5c0(0x41f)]();currentProjectData=_0x4615e6,renderStudentList(_0x4615e6[_0x16c5c0(0x2d9)]||[]);}});}function renderStudentList(_0x2372c4){const _0x4513fe=_0x11059a,_0x5080a6=document[_0x4513fe(0x3e8)](_0x4513fe(0x319));_0x2372c4[_0x4513fe(0x164)]===0x0?(studentList[_0x4513fe(0x43c)]=_0x4513fe(0x112),_0x5080a6[_0x4513fe(0x1b3)][_0x4513fe(0x2d6)]('hidden')):(studentList[_0x4513fe(0x43c)]=_0x2372c4[_0x4513fe(0x13c)](_0x17aead=>_0x4513fe(0x268)+_0x17aead+_0x4513fe(0x473)+_0x17aead+_0x4513fe(0x39c))[_0x4513fe(0x1eb)](''),_0x5080a6['classList'][_0x4513fe(0x422)](_0x4513fe(0x149)));}document['getElementById']('add-student-btn')['addEventListener'](_0x11059a(0x189),async()=>{const _0x4376f6=_0x11059a;if(!currentProjectId)return;const _0x27e50f=document[_0x4376f6(0x3e8)](_0x4376f6(0x356)),_0x5e869f=_0x27e50f[_0x4376f6(0x43e)][_0x4376f6(0x2fe)]();if(!_0x5e869f){showMessage(_0x4376f6(0x103));return;}const _0x558717=_0x5e869f['split']('\x0a')[_0x4376f6(0x13c)](_0x144786=>_0x144786[_0x4376f6(0x2fe)]())[_0x4376f6(0x45b)](_0x3db342=>_0x3db342);if(_0x558717['length']===0x0)return;try{const _0x2ebb31=doc(db,_0x4376f6(0x2a0)+appId+'/public/data/projects',currentProjectId),_0x173b80=await getDoc(_0x2ebb31);if(_0x173b80[_0x4376f6(0x384)]()){const _0x26d97b=_0x173b80[_0x4376f6(0x41f)]()[_0x4376f6(0x2d9)]||[],_0x268c4e=[...new Set([..._0x26d97b,..._0x558717])];await updateDoc(_0x2ebb31,{'students':_0x268c4e}),_0x27e50f[_0x4376f6(0x43e)]='';}}catch(_0x440d3a){console[_0x4376f6(0xba)](_0x4376f6(0x248),_0x440d3a),showMessage(_0x4376f6(0x2d1));}});function handleDeleteStudent(_0x2816e2){const _0x1a225a=_0x11059a;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x2816e2+_0x1a225a(0x36b),async()=>{const _0x31e5b8=_0x1a225a;if(!currentProjectId||!currentProjectData)return;const _0x46917f=currentProjectData['students'][_0x31e5b8(0x45b)](_0x1f9c1c=>_0x1f9c1c!==_0x2816e2);try{const _0x55f69a=doc(db,_0x31e5b8(0x2a0)+appId+'/public/data/projects',currentProjectId),_0x3a6e43=doc(db,_0x31e5b8(0x2a0)+appId+'/public/data/projects/'+currentProjectId+_0x31e5b8(0x1d7),_0x2816e2),_0x5aa391=writeBatch(db);_0x5aa391[_0x31e5b8(0x282)](_0x55f69a,{'students':_0x46917f}),_0x5aa391[_0x31e5b8(0x148)](_0x3a6e43),await _0x5aa391[_0x31e5b8(0xab)]();}catch(_0x275ce4){console['error'](_0x31e5b8(0x3db),_0x275ce4),showMessage(_0x31e5b8(0xbb));}});}function handleDeleteAllStudents(){const _0x3c601f=_0x11059a;showConfirmation(_0x3c601f(0x3f5),async()=>{const _0x5b4c05=_0x3c601f;if(!currentProjectId)return;try{const _0x15afdb=doc(db,_0x5b4c05(0x2a0)+appId+'/public/data/projects',currentProjectId),_0x4be182=collection(db,_0x5b4c05(0x2a0)+appId+_0x5b4c05(0x370)+currentProjectId+'/studentProfiles'),_0x386a13=await getDocs(_0x4be182),_0xc4fa64=writeBatch(db);_0xc4fa64[_0x5b4c05(0x282)](_0x15afdb,{'students':[]}),_0x386a13[_0x5b4c05(0x1e9)](_0x47d578=>_0xc4fa64[_0x5b4c05(0x148)](_0x47d578[_0x5b4c05(0x400)])),await _0xc4fa64[_0x5b4c05(0xab)]();}catch(_0x306c2b){console['error']('Error\x20deleting\x20all\x20students:',_0x306c2b),showMessage(_0x5b4c05(0x4be));}});}async function handleFileUpload(_0x44cc70){const _0x1bac42=_0x11059a,_0x503266=_0x44cc70['target'][_0x1bac42(0x495)][0x0];if(!_0x503266)return;if(_0x503266[_0x1bac42(0x159)]!==_0x1bac42(0x1fa)&&!_0x503266['name'][_0x1bac42(0x16a)]('.docx')){showMessage('รูปแบบไฟล์ไม่รองรับ\x20กรุณาเลือก\x20PDF\x20หรือ\x20.docx'),_0x44cc70[_0x1bac42(0x1d2)][_0x1bac42(0x43e)]='';return;}const _0x9b2968=document[_0x1bac42(0x3e8)](_0x1bac42(0x51d)),_0xd031b8=document['getElementById'](_0x1bac42(0x444)),_0x2378e2=document[_0x1bac42(0x3e8)](_0x1bac42(0x285));document[_0x1bac42(0x3e8)](_0x1bac42(0x207))[_0x1bac42(0x1b3)][_0x1bac42(0x422)](_0x1bac42(0x149)),_0x2378e2['innerHTML']='',_0x9b2968[_0x1bac42(0x1b3)]['remove'](_0x1bac42(0x149)),_0xd031b8[_0x1bac42(0x373)]='กำลังอ่านและเตรียมไฟล์...';const _0x4a8982=new FileReader();_0x4a8982[_0x1bac42(0x1ec)](_0x503266),_0x4a8982['onload']=async()=>{const _0x2e3580=_0x1bac42;try{const _0x1d8386=_0x4a8982[_0x2e3580(0x11d)][_0x2e3580(0x406)](',')[0x1],_0x2e3149=_0x503266['type'];await generateQuizFromFile(_0x2e3149,_0x1d8386);}catch(_0x530b63){console[_0x2e3580(0xba)]('Error\x20processing\x20file\x20for\x20AI:',_0x530b63),showMessage(_0x2e3580(0x454)+_0x530b63[_0x2e3580(0x414)]),_0x9b2968[_0x2e3580(0x1b3)][_0x2e3580(0x2d6)](_0x2e3580(0x149));}finally{_0x44cc70['target'][_0x2e3580(0x43e)]='';}},_0x4a8982[_0x1bac42(0x321)]=_0x90b93=>{const _0x32cb48=_0x1bac42;console[_0x32cb48(0xba)]('FileReader\x20error:',_0x90b93),showMessage(_0x32cb48(0x145)),_0x9b2968['classList'][_0x32cb48(0x2d6)]('hidden');};}function sanitizeQuizData(_0xecee82){const _0xb55096=_0x11059a;if(!_0xecee82||!_0xecee82[_0xb55096(0xde)])return _0xecee82;const _0x71a94f={'imes':_0xb55096(0x3ef),'div':_0xb55096(0x30d)},_0x273e58=_0x10df9e=>{const _0x358345=_0xb55096;if(typeof _0x10df9e!=='string')return _0x10df9e;let _0xf4c993=_0x10df9e;for(const [_0xc720f,_0x562cbf]of Object[_0x358345(0x4a8)](_0x71a94f)){const _0x5411b0=new RegExp('\x5cb'+_0xc720f+'\x5cb','g');_0xf4c993=_0xf4c993[_0x358345(0x358)](_0x5411b0,_0x562cbf);}return _0xf4c993;};return _0xecee82['topic']&&(_0xecee82[_0xb55096(0x2c5)]=_0x273e58(_0xecee82[_0xb55096(0x2c5)])),_0xecee82[_0xb55096(0xde)][_0xb55096(0x1e9)](_0x23d5d3=>{const _0x24ebce=_0xb55096;_0x23d5d3['questionText']=_0x273e58(_0x23d5d3[_0x24ebce(0x4dd)]),_0x23d5d3[_0x24ebce(0x34c)]&&(_0x23d5d3[_0x24ebce(0x34c)]=_0x23d5d3[_0x24ebce(0x34c)][_0x24ebce(0x13c)](_0x273e58)),_0x23d5d3[_0x24ebce(0xf5)]&&(_0x23d5d3['explanation']=_0x273e58(_0x23d5d3[_0x24ebce(0xf5)])),_0x23d5d3[_0x24ebce(0x49a)]&&(_0x23d5d3['stem']=_0x273e58(_0x23d5d3[_0x24ebce(0x49a)])),_0x23d5d3[_0x24ebce(0x11b)]&&(_0x23d5d3[_0x24ebce(0x11b)]=_0x273e58(_0x23d5d3['correctResponse'])),_0x23d5d3[_0x24ebce(0x24d)]&&(_0x23d5d3[_0x24ebce(0x24d)]=_0x23d5d3[_0x24ebce(0x24d)][_0x24ebce(0x13c)](_0x273e58));}),_0xecee82;}const mathPromptInstruction=_0x11059a(0x2ec);async function handleGenerateFromLink(){const _0x260552=_0x11059a,_0x2f659c=document[_0x260552(0x3e8)]('link-url-input'),_0x5bd509=document[_0x260552(0x3e8)]('link-topic-input'),_0x18f0b2=_0x2f659c['value']['trim'](),_0x337f5d=_0x5bd509[_0x260552(0x43e)]['trim']();if(!_0x18f0b2){showMessage(_0x260552(0x415));return;}const _0x5a2141=document[_0x260552(0x3e8)](_0x260552(0x51d)),_0x3781ad=document[_0x260552(0x3e8)]('loader-text'),_0x47b097=document['getElementById'](_0x260552(0x285)),_0x50badb=document['getElementById']('generate-from-link-btn');document[_0x260552(0x3e8)](_0x260552(0x207))[_0x260552(0x1b3)]['remove'](_0x260552(0x149)),_0x47b097[_0x260552(0x43c)]='',_0x5a2141[_0x260552(0x1b3)][_0x260552(0x422)](_0x260552(0x149)),_0x3781ad[_0x260552(0x373)]=_0x260552(0x19d),_0x50badb['disabled']=!![];try{const _0x49b542=_0x260552(0x505)+encodeURIComponent(_0x18f0b2),_0x4cde1b=await fetch(_0x49b542);if(!_0x4cde1b['ok'])throw new Error(_0x260552(0x10d)+_0x4cde1b[_0x260552(0x3cb)]+')');const _0x580876=await _0x4cde1b[_0x260552(0x456)](),_0x3aa17e=extractTextFromHtml(_0x580876);if(!_0x3aa17e||_0x3aa17e[_0x260552(0x164)]<0x64)throw new Error(_0x260552(0xc1));await generateQuiz(_0x337f5d,_0x3aa17e);}catch(_0x304992){console['error'](_0x260552(0x177),_0x304992),showMessage(_0x260552(0xb5)+_0x304992['message']),_0x47b097[_0x260552(0x43c)]=_0x260552(0x44d);}finally{_0x5a2141[_0x260552(0x1b3)]['add'](_0x260552(0x149)),_0x50badb[_0x260552(0x33a)]=![];}}function extractTextFromHtml(_0x5e47d8){const _0x3e8668=_0x11059a,_0x12ed78=new DOMParser()[_0x3e8668(0x300)](_0x5e47d8,'text/html');return _0x12ed78[_0x3e8668(0x4b4)](_0x3e8668(0x482))[_0x3e8668(0x1e9)](_0x228c86=>_0x228c86[_0x3e8668(0x422)]()),_0x12ed78['body'][_0x3e8668(0x373)]||'';}document[_0x11059a(0x3e8)](_0x11059a(0x13a))[_0x11059a(0x368)](_0x11059a(0x189),()=>{const _0x3f0fb2=_0x11059a,_0x24d4db=document['getElementById'](_0x3f0fb2(0x1b8))['value'][_0x3f0fb2(0x2fe)]();if(!_0x24d4db){showMessage(_0x3f0fb2(0x1a0));return;}generateQuiz(_0x24d4db,null);}),document[_0x11059a(0x3e8)](_0x11059a(0x425))[_0x11059a(0x368)](_0x11059a(0x189),()=>{const _0x19a2b0=_0x11059a,_0x1d5d7e=document[_0x19a2b0(0x3e8)](_0x19a2b0(0x4ec))[_0x19a2b0(0x43e)][_0x19a2b0(0x2fe)]();if(!_0x1d5d7e){showMessage(_0x19a2b0(0x2c1));return;}generateQuiz(null,_0x1d5d7e);});async function generateQuiz(_0x2b6980,_0x35cb02,_0x4c2e29=null){const _0x5d35ee=_0x11059a,_0x442b62=document[_0x5d35ee(0x3e8)](_0x5d35ee(0x34d))[_0x5d35ee(0x3f9)],_0x413360=document[_0x5d35ee(0x3e8)](_0x5d35ee(0xc2))['value'],_0x3b5527=document[_0x5d35ee(0x3e8)]('num-questions')[_0x5d35ee(0x43e)],_0x1d3f8f=document['getElementById'](_0x5d35ee(0x44b))[_0x5d35ee(0x43e)];let _0x34ae8d='',_0x161d73='',_0x3bbd01,_0x25c0be=_0x5d35ee(0x2a2)+_0x2b6980+'\x22';if(!_0x2b6980&&_0x35cb02)_0x25c0be=_0x5d35ee(0x3fe);else!_0x2b6980&&!_0x35cb02&&(_0x25c0be=_0x5d35ee(0x1d6));const _0x206787={'type':_0x5d35ee(0x108),'properties':{'questionText':{'type':_0x5d35ee(0x2be)},'options':{'type':_0x5d35ee(0x212),'items':{'type':_0x5d35ee(0x2be)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5d35ee(0x2be)},'imageCode':{'type':_0x5d35ee(0x2be)}},'required':[_0x5d35ee(0x4dd),_0x5d35ee(0x34c),_0x5d35ee(0x1f7),_0x5d35ee(0xf5)]},_0x3144a3={'type':_0x5d35ee(0x108),'properties':{'questionText':{'type':_0x5d35ee(0x2be)},'idealAnswer':{'type':_0x5d35ee(0x2be)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5d35ee(0x4dd),_0x5d35ee(0x2a8),'explanation']},_0xe4d0da={'type':_0x5d35ee(0x108),'properties':{'questionText':{'type':_0x5d35ee(0x2be)},'questionType':{'type':'STRING','enum':[_0x5d35ee(0x2d7),_0x5d35ee(0x3c5)]},'options':{'type':'ARRAY','items':{'type':_0x5d35ee(0x2be)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5d35ee(0x2be)},'explanation':{'type':_0x5d35ee(0x2be)},'imageCode':{'type':_0x5d35ee(0x2be)}},'required':[_0x5d35ee(0x4dd),_0x5d35ee(0x31d),_0x5d35ee(0xf5)]},_0x33bf6f={'type':_0x5d35ee(0x108),'properties':{'questionText':{'type':_0x5d35ee(0x2be)},'correctAnswer':{'type':_0x5d35ee(0x1c7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d35ee(0x2be)}},'required':[_0x5d35ee(0x4dd),_0x5d35ee(0x462),'explanation']},_0xe0bc31={'type':_0x5d35ee(0x108),'properties':{'questionType':{'type':_0x5d35ee(0x2be),'enum':[_0x5d35ee(0x107)]},'stem':{'type':_0x5d35ee(0x2be)},'correctResponse':{'type':_0x5d35ee(0x2be)},'allResponses':{'type':_0x5d35ee(0x212),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5d35ee(0x31d),_0x5d35ee(0x49a),_0x5d35ee(0x11b),'allResponses',_0x5d35ee(0xf5)]};let _0x3199d1;if(_0x4c2e29!==null){const _0x43fc83=currentQuizData['questions'][_0x4c2e29][_0x5d35ee(0x31d)],_0x17eecf=_0x442b62?_0x5d35ee(0x348):'';if(_0x43fc83===_0x5d35ee(0x2d7))_0x34ae8d=_0x5d35ee(0xb1)+_0x25c0be+_0x5d35ee(0x357)+_0x1d3f8f+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x17eecf+'\x20'+mathPromptInstruction,_0x3bbd01=_0x206787;else _0x43fc83===_0x5d35ee(0x107)?(_0x34ae8d=_0x5d35ee(0x152)+_0x25c0be+_0x5d35ee(0x4f6)+_0x17eecf+'\x20'+mathPromptInstruction,_0x3bbd01={'type':_0x5d35ee(0x108),'properties':{'questionType':{'type':'STRING','enum':[_0x5d35ee(0x107)]},'stem':{'type':_0x5d35ee(0x2be)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x5d35ee(0x2be)},'imageCode':{'type':_0x5d35ee(0x2be)}},'required':[_0x5d35ee(0x31d),_0x5d35ee(0x49a),_0x5d35ee(0x11b),'explanation']}):(_0x34ae8d=_0x5d35ee(0x46f)+_0x25c0be+_0x5d35ee(0x42f)+_0x17eecf+'\x20'+mathPromptInstruction,_0x3bbd01=_0x3144a3);_0x3199d1=_0x3bbd01;}else{const _0x4f3305=_0x442b62?_0x5d35ee(0x4ae):'';switch(_0x413360){case _0x5d35ee(0x2d7):_0x34ae8d='สร้างแบบทดสอบปรนัย\x20'+_0x3b5527+_0x5d35ee(0x372)+_0x25c0be+_0x5d35ee(0x2d8)+_0x1d3f8f+_0x5d35ee(0x443)+_0x4f3305+'\x20'+mathPromptInstruction,_0x3bbd01=_0x206787;break;case _0x5d35ee(0x4fc):_0x34ae8d=_0x5d35ee(0x478)+_0x3b5527+_0x5d35ee(0x372)+_0x25c0be+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1d3f8f+_0x5d35ee(0xe3)+_0x4f3305+'\x20'+mathPromptInstruction,_0x3bbd01=_0x206787;break;case'fill_in_no_choices':_0x34ae8d=_0x5d35ee(0x478)+_0x3b5527+_0x5d35ee(0x372)+_0x25c0be+_0x5d35ee(0x4e2)+_0x4f3305+'\x20'+mathPromptInstruction,_0x3bbd01=_0x3144a3;break;case _0x5d35ee(0x4e4):_0x34ae8d='สร้างแบบทดสอบ\x20'+_0x3b5527+_0x5d35ee(0x372)+_0x25c0be+_0x5d35ee(0x17f)+_0x1d3f8f+'\x20ตัวเลือก.\x20'+_0x4f3305+'\x20'+mathPromptInstruction+_0x5d35ee(0x520),_0x3bbd01=_0xe4d0da;break;case _0x5d35ee(0xe0):_0x34ae8d=_0x5d35ee(0x258)+_0x3b5527+'\x20ข้อ\x20'+_0x25c0be+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4f3305+'\x20'+mathPromptInstruction,_0x3bbd01=_0x33bf6f;break;case _0x5d35ee(0x509):_0x34ae8d='สร้างชุดคำถามจับคู่\x20'+_0x3b5527+_0x5d35ee(0x3ba)+_0x25c0be+_0x5d35ee(0x45a)+_0x3b5527+_0x5d35ee(0x27e)+_0x4f3305+'\x20'+mathPromptInstruction,_0x3bbd01=_0xe0bc31;break;}_0x3199d1={'type':_0x5d35ee(0x108),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5d35ee(0x212),'items':_0x3bbd01}},'required':[_0x5d35ee(0x2c5),_0x5d35ee(0xde)]};}return _0x35cb02?(_0x34ae8d=_0x5d35ee(0x378)+_0x35cb02+'\x22,\x20'+_0x34ae8d,_0x161d73='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x161d73=_0x5d35ee(0x100),handleApiCall(_0x34ae8d,_0x161d73,_0x3199d1,_0x4c2e29);}async function generateQuizFromFile(_0x13eb8c,_0x20ae32){const _0x252bab=_0x11059a,_0x57cd4f=document[_0x252bab(0x3e8)](_0x252bab(0xc2))['value'],_0x3b3028=document['getElementById']('num-questions')['value'],_0x2fc72f=document[_0x252bab(0x3e8)]('num-choices')[_0x252bab(0x43e)],_0x5ee4a7=document[_0x252bab(0x3e8)](_0x252bab(0x34d))['checked'];let _0x5ce32b='',_0x18e339;const _0x2d24a4=_0x5ee4a7?_0x252bab(0x4ae):'';switch(_0x57cd4f){case'multiple_choice':_0x5ce32b=_0x252bab(0x376)+_0x3b3028+_0x252bab(0x435)+_0x2fc72f+_0x252bab(0x443)+_0x2d24a4+'\x20'+mathPromptInstruction,_0x18e339={'type':_0x252bab(0x108),'properties':{'questionText':{'type':_0x252bab(0x2be)},'options':{'type':_0x252bab(0x212),'items':{'type':_0x252bab(0x2be)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':'STRING'}},'required':[_0x252bab(0x4dd),_0x252bab(0x34c),_0x252bab(0x1f7),'explanation']};break;case _0x252bab(0x4fc):_0x5ce32b=_0x252bab(0x478)+_0x3b3028+_0x252bab(0x445)+_0x2fc72f+_0x252bab(0xe3)+_0x2d24a4+'\x20'+mathPromptInstruction,_0x18e339={'type':_0x252bab(0x108),'properties':{'questionText':{'type':_0x252bab(0x2be)},'options':{'type':_0x252bab(0x212),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x252bab(0x20a)},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':_0x252bab(0x2be)}},'required':[_0x252bab(0x4dd),_0x252bab(0x34c),_0x252bab(0x1f7),_0x252bab(0xf5)]};break;case'fill_in_no_choices':_0x5ce32b=_0x252bab(0x478)+_0x3b3028+'\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d24a4+'\x20'+mathPromptInstruction,_0x18e339={'type':_0x252bab(0x108),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x252bab(0x2be)},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':_0x252bab(0x2be)}},'required':[_0x252bab(0x4dd),'idealAnswer',_0x252bab(0xf5)]};break;case _0x252bab(0x4e4):_0x5ce32b=_0x252bab(0x276)+_0x3b3028+_0x252bab(0xe2)+_0x2fc72f+_0x252bab(0x2e5)+_0x2d24a4+'\x20'+mathPromptInstruction+_0x252bab(0x520),_0x18e339={'type':'OBJECT','properties':{'questionText':{'type':_0x252bab(0x2be)},'questionType':{'type':_0x252bab(0x2be),'enum':['multiple_choice',_0x252bab(0x3c5)]},'options':{'type':_0x252bab(0x212),'items':{'type':_0x252bab(0x2be)}},'correctAnswerIndex':{'type':_0x252bab(0x20a)},'idealAnswer':{'type':_0x252bab(0x2be)},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':_0x252bab(0x2be)}},'required':[_0x252bab(0x4dd),_0x252bab(0x31d),_0x252bab(0xf5)]};break;case _0x252bab(0xe0):_0x5ce32b=_0x252bab(0x258)+_0x3b3028+_0x252bab(0x416)+_0x2d24a4+'\x20'+mathPromptInstruction,_0x18e339={'type':_0x252bab(0x108),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x252bab(0x1c7)},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x252bab(0x462),_0x252bab(0xf5)]};break;case _0x252bab(0x509):_0x5ce32b='สร้างชุดคำถามจับคู่\x20'+_0x3b3028+_0x252bab(0x3ed)+_0x3b3028+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2d24a4+'\x20'+mathPromptInstruction,_0x18e339={'type':_0x252bab(0x108),'properties':{'questionType':{'type':'STRING','enum':[_0x252bab(0x107)]},'stem':{'type':_0x252bab(0x2be)},'correctResponse':{'type':_0x252bab(0x2be)},'allResponses':{'type':_0x252bab(0x212),'items':{'type':_0x252bab(0x2be)}},'explanation':{'type':_0x252bab(0x2be)},'imageCode':{'type':_0x252bab(0x2be)}},'required':['questionType','stem',_0x252bab(0x11b),_0x252bab(0x24d),_0x252bab(0xf5)]};break;}const _0x4c05fd={'type':_0x252bab(0x108),'properties':{'topic':{'type':_0x252bab(0x2be)},'questions':{'type':_0x252bab(0x212),'items':_0x18e339}},'required':[_0x252bab(0x2c5),_0x252bab(0xde)]},_0x25acf5=_0x252bab(0x485)+_0x5ce32b,_0x5470ac={'contents':[{'parts':[{'text':_0x25acf5},{'inlineData':{'mimeType':_0x13eb8c,'data':_0x20ae32}}]}],'generationConfig':{'responseMimeType':_0x252bab(0x262),'responseSchema':_0x4c05fd}};return handleApiCall(_0x5470ac['contents'][0x0][_0x252bab(0x250)],_0x252bab(0x469),_0x4c05fd);}async function handleApiCall(_0x5a0d0e,_0x343e92,_0x4e4611,_0x15fef1=null){const _0x59d4ec=_0x11059a,_0x32d172=document[_0x59d4ec(0x3e8)](_0x59d4ec(0x207)),_0x557f1b=document[_0x59d4ec(0x3e8)](_0x59d4ec(0x51d)),_0xc82487=document[_0x59d4ec(0x3e8)](_0x59d4ec(0x444)),_0xdedc54=document[_0x59d4ec(0x3e8)]('generated-quiz-container');_0x32d172[_0x59d4ec(0x1b3)][_0x59d4ec(0x422)](_0x59d4ec(0x149));_0x15fef1===null&&(_0xdedc54[_0x59d4ec(0x43c)]='');_0x557f1b[_0x59d4ec(0x1b3)][_0x59d4ec(0x422)](_0x59d4ec(0x149)),_0xc82487[_0x59d4ec(0x373)]=_0x343e92,document[_0x59d4ec(0x3e8)](_0x59d4ec(0x13a))[_0x59d4ec(0x33a)]=!![],document[_0x59d4ec(0x3e8)](_0x59d4ec(0x425))[_0x59d4ec(0x33a)]=!![],document[_0x59d4ec(0x3e8)](_0x59d4ec(0x266))[_0x59d4ec(0x33a)]=!![];try{const _0xb7edd={'responseMimeType':_0x59d4ec(0x262),'responseSchema':_0x4e4611},_0x1779eb=Array['isArray'](_0x5a0d0e)?_0x5a0d0e:[{'text':_0x5a0d0e}],_0x2a8a57={'contents':[{'role':_0x59d4ec(0x26c),'parts':_0x1779eb}],'generationConfig':_0xb7edd},_0x5e7560='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x244c12=_0x59d4ec(0x2e3)+_0x5e7560,_0xaa6b9d=await fetch(_0x244c12,{'method':_0x59d4ec(0x2ad),'headers':{'Content-Type':_0x59d4ec(0x262)},'body':JSON[_0x59d4ec(0x123)](_0x2a8a57)});if(!_0xaa6b9d['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0xaa6b9d[_0x59d4ec(0x3cb)]);const _0x192c40=await _0xaa6b9d[_0x59d4ec(0x191)]();if(_0x192c40[_0x59d4ec(0x330)]?.[0x0]?.[_0x59d4ec(0x20c)]?.['parts']?.[0x0]){let _0x186c8a=_0x192c40['candidates'][0x0][_0x59d4ec(0x20c)][_0x59d4ec(0x250)][0x0][_0x59d4ec(0x456)],_0x536bd1;try{if(_0x186c8a['startsWith'](_0x59d4ec(0x3f7)))_0x186c8a=_0x186c8a['substring'](0x7,_0x186c8a[_0x59d4ec(0x164)]-0x3)['trim']();else _0x186c8a[_0x59d4ec(0x461)](_0x59d4ec(0x238))&&(_0x186c8a=_0x186c8a[_0x59d4ec(0xe5)](0x3,_0x186c8a[_0x59d4ec(0x164)]-0x3)['trim']());_0x536bd1=JSON[_0x59d4ec(0x438)](_0x186c8a);}catch(_0x58fe7e){console[_0x59d4ec(0xba)](_0x59d4ec(0x2ce),_0x58fe7e,_0x186c8a);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x15fef1!==null){if(_0x536bd1[_0x59d4ec(0x31d)]===_0x59d4ec(0x107)){const _0x2ecc9d=currentQuizData[_0x59d4ec(0xde)][_0x59d4ec(0x13c)](_0x47d07d=>_0x47d07d[_0x59d4ec(0x11b)]);_0x536bd1[_0x59d4ec(0x24d)]=_0x2ecc9d;const _0x5cf6e2=currentQuizData[_0x59d4ec(0xde)][_0x15fef1][_0x59d4ec(0x11b)],_0x212159=_0x2ecc9d[_0x59d4ec(0x4c7)](_0x5cf6e2);_0x212159>-0x1&&(_0x2ecc9d[_0x212159]=_0x536bd1[_0x59d4ec(0x11b)]),currentQuizData[_0x59d4ec(0xde)]['forEach'](_0x198778=>{const _0x2e4472=_0x59d4ec;if(_0x198778['questionType']===_0x2e4472(0x107))_0x198778['allResponses']=_0x2ecc9d;});}currentQuizData['questions'][_0x15fef1]=_0x536bd1,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=sanitizeQuizData(_0x536bd1);const _0x4fe6bb=document[_0x59d4ec(0x3e8)](_0x59d4ec(0xc2))[_0x59d4ec(0x43e)];currentQuizData[_0x59d4ec(0x17d)]=_0x4fe6bb,currentQuizData['questions']&&currentQuizData[_0x59d4ec(0xde)][_0x59d4ec(0x1e9)](_0x158047=>{const _0xafb2d1=_0x59d4ec;if(!_0x158047[_0xafb2d1(0x31d)]){if(_0x4fe6bb===_0xafb2d1(0x4fc))_0x158047['questionType']='multiple_choice';else _0x4fe6bb===_0xafb2d1(0x9e)?_0x158047[_0xafb2d1(0x31d)]=_0xafb2d1(0x3c5):_0x158047[_0xafb2d1(0x31d)]=_0x4fe6bb;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x59d4ec(0xba)](_0x59d4ec(0x224),JSON[_0x59d4ec(0x123)](_0x192c40));throw new Error(_0x59d4ec(0x2c9));}}catch(_0x15380b){console[_0x59d4ec(0xba)](_0x59d4ec(0xaa),_0x15380b),showMessage(_0x59d4ec(0x387)),_0x15fef1===null&&(_0xdedc54[_0x59d4ec(0x43c)]=_0x59d4ec(0x11f));}finally{_0x557f1b[_0x59d4ec(0x1b3)][_0x59d4ec(0x2d6)](_0x59d4ec(0x149)),document[_0x59d4ec(0x3e8)](_0x59d4ec(0x13a))['disabled']=![],document[_0x59d4ec(0x3e8)](_0x59d4ec(0x425))['disabled']=![],document[_0x59d4ec(0x3e8)](_0x59d4ec(0x266))['disabled']=![];}}function displayGeneratedQuiz(_0x30760e){const _0x5de8c8=_0x11059a,_0x566c62=document[_0x5de8c8(0x3e8)](_0x5de8c8(0x285));let _0x362d68=_0x5de8c8(0x143)+_0x30760e[_0x5de8c8(0x2c5)]+_0x5de8c8(0x29a);_0x30760e[_0x5de8c8(0xde)]['forEach']((_0xf8ef77,_0x50b487)=>{const _0x3ccf30=_0x5de8c8,_0x4c52be=_0xf8ef77[_0x3ccf30(0x31d)]||_0x30760e['quizType'];_0x362d68+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x50b487+_0x3ccf30(0x28c)+_0x50b487+_0x3ccf30(0x274)+_0x50b487+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x4c52be){case'matching_item':_0x362d68+=_0x3ccf30(0x14b)+_0x50b487+'\x22>'+(_0x50b487+0x1)+'.\x20'+_0xf8ef77[_0x3ccf30(0x49a)]+'</p>';_0xf8ef77['imageCode']&&(_0x362d68+=_0x3ccf30(0x26d)+_0x50b487+_0x3ccf30(0x1c9)+_0xf8ef77['imageCode']+_0x3ccf30(0x3e3));_0x362d68+=_0x3ccf30(0x2e4)+_0x50b487+'\x22>'+_0xf8ef77[_0x3ccf30(0x11b)]+_0x3ccf30(0x1f0),_0x362d68+=_0x3ccf30(0x205)+_0x50b487+'\x22>'+_0xf8ef77[_0x3ccf30(0xf5)]+_0x3ccf30(0x1f0);break;case'short_answer':_0x362d68+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x50b487+'\x22>'+(_0x50b487+0x1)+'.\x20'+_0xf8ef77[_0x3ccf30(0x4dd)]+'</p>';_0xf8ef77[_0x3ccf30(0xb2)]&&(_0x362d68+=_0x3ccf30(0x26d)+_0x50b487+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xf8ef77[_0x3ccf30(0xb2)]+_0x3ccf30(0x3e3));_0x362d68+=_0x3ccf30(0x185)+_0x50b487+'\x22>'+_0xf8ef77[_0x3ccf30(0x2a8)]+_0x3ccf30(0x1f0),_0x362d68+=_0x3ccf30(0x205)+_0x50b487+'\x22>'+_0xf8ef77[_0x3ccf30(0xf5)]+'</span></div>';break;case _0x3ccf30(0xe0):_0x362d68+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x50b487+'\x22>'+(_0x50b487+0x1)+'.\x20'+_0xf8ef77[_0x3ccf30(0x4dd)]+_0x3ccf30(0x316);_0xf8ef77['imageCode']&&(_0x362d68+='<div\x20id=\x22q-image-container-'+_0x50b487+_0x3ccf30(0x1c9)+_0xf8ef77[_0x3ccf30(0xb2)]+_0x3ccf30(0x3e3));_0x362d68+=_0x3ccf30(0x131)+(_0xf8ef77[_0x3ccf30(0x462)]===!![]?_0x3ccf30(0x34f):'')+_0x3ccf30(0x519)+(_0xf8ef77[_0x3ccf30(0x462)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x362d68+=_0x3ccf30(0x205)+_0x50b487+'\x22>'+_0xf8ef77['explanation']+_0x3ccf30(0x1f0);break;case _0x3ccf30(0x2cb):case _0x3ccf30(0x2d7):default:_0x362d68+=_0x3ccf30(0x14b)+_0x50b487+'\x22>'+(_0x50b487+0x1)+'.\x20'+_0xf8ef77[_0x3ccf30(0x4dd)]+_0x3ccf30(0x316);_0xf8ef77[_0x3ccf30(0xb2)]&&(_0x362d68+='<div\x20id=\x22q-image-container-'+_0x50b487+_0x3ccf30(0x1c9)+_0xf8ef77[_0x3ccf30(0xb2)]+_0x3ccf30(0x3e3));_0x362d68+=_0x3ccf30(0x4af)+_0x50b487+_0x3ccf30(0x4e8)+_0xf8ef77[_0x3ccf30(0x34c)]['map']((_0x414037,_0x233da4)=>'<li\x20class=\x22'+(_0x233da4===_0xf8ef77[_0x3ccf30(0x1f7)]?_0x3ccf30(0x34f):'')+'\x22>'+_0x414037+_0x3ccf30(0x12b))[_0x3ccf30(0x1eb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x362d68+=_0x3ccf30(0x205)+_0x50b487+'\x22>'+_0xf8ef77['explanation']+_0x3ccf30(0x1f0);break;}_0x362d68+=_0x3ccf30(0x3e3);}),_0x362d68+=_0x5de8c8(0xf1),_0x566c62['innerHTML']=_0x362d68,document[_0x5de8c8(0x4b4)](_0x5de8c8(0x3d4))[_0x5de8c8(0x1e9)](_0x54e6f9=>_0x54e6f9[_0x5de8c8(0x368)]('click',handleEditQuestion)),document[_0x5de8c8(0x4b4)](_0x5de8c8(0x2e6))[_0x5de8c8(0x1e9)](_0x242794=>_0x242794['addEventListener'](_0x5de8c8(0x189),handleRegenerateQuestion)),document[_0x5de8c8(0x4b4)]('.save-to-bank-btn')[_0x5de8c8(0x1e9)](_0xa64b1b=>_0xa64b1b[_0x5de8c8(0x368)]('click',handleSaveToBank)),document[_0x5de8c8(0x3e8)](_0x5de8c8(0x51f))[_0x5de8c8(0x368)](_0x5de8c8(0x189),saveQuiz);if(window['MathJax'])window['MathJax'][_0x5de8c8(0x37d)]([_0x566c62]);}function handleRegenerateQuestion(_0x5f1352){const _0xa68073=_0x11059a,_0x390be7=_0x5f1352['currentTarget']['dataset']['index'],_0x2b3a00=currentQuizData[_0xa68073(0x2c5)];showMessage(_0xa68073(0x2e2)+(parseInt(_0x390be7)+0x1)+_0xa68073(0x1e1)),generateQuiz(_0x2b3a00,null,parseInt(_0x390be7));}function getPointerPosition(_0x42b017,_0x301935){const _0x1b19d9=_0x11059a,_0x2762cb=_0x42b017[_0x1b19d9(0x210)]();let _0x813196,_0x49dc02;return _0x301935['touches']&&_0x301935[_0x1b19d9(0x3a0)][_0x1b19d9(0x164)]>0x0?(_0x813196=_0x301935['touches'][0x0][_0x1b19d9(0x4a9)],_0x49dc02=_0x301935['touches'][0x0]['clientY']):(_0x813196=_0x301935['clientX'],_0x49dc02=_0x301935[_0x1b19d9(0x146)]),{'x':(_0x813196-_0x2762cb['e'])/_0x2762cb['a'],'y':(_0x49dc02-_0x2762cb['f'])/_0x2762cb['d']};}function startDrag(_0x11da4b){const _0x31b53a=_0x11059a;_0x11da4b[_0x31b53a(0x159)]===_0x31b53a(0xe8)&&_0x11da4b['preventDefault']();const _0x3091ef=_0x11da4b[_0x31b53a(0x1d2)][_0x31b53a(0x114)](_0x31b53a(0x325));if(_0x3091ef){draggedSvgElement=_0x3091ef;const _0x14dda4=draggedSvgElement['ownerSVGElement'],_0x104266=getPointerPosition(_0x14dda4,_0x11da4b);svgOffset['x']=_0x104266['x']-parseFloat(draggedSvgElement[_0x31b53a(0x13e)](null,'x')),svgOffset['y']=_0x104266['y']-parseFloat(draggedSvgElement[_0x31b53a(0x13e)](null,'y'));}}function drag(_0x25f5b6){const _0x2e4142=_0x11059a;if(draggedSvgElement){_0x25f5b6[_0x2e4142(0x3ac)]();const _0x3babf7=draggedSvgElement[_0x2e4142(0x314)],_0x3983ab=getPointerPosition(_0x3babf7,_0x25f5b6),_0x1cf167=_0x3babf7[_0x2e4142(0x343)][_0x2e4142(0x3a7)];let _0xcb857d=_0x3983ab['x']-svgOffset['x'],_0x36c78c=_0x3983ab['y']-svgOffset['y'];const _0x57483d=draggedSvgElement[_0x2e4142(0x407)]();_0xcb857d=Math[_0x2e4142(0xac)](_0x1cf167['x'],Math['min'](_0xcb857d,_0x1cf167['x']+_0x1cf167[_0x2e4142(0x457)]-_0x57483d[_0x2e4142(0x457)])),_0x36c78c=Math[_0x2e4142(0xac)](_0x1cf167['y'],Math[_0x2e4142(0x40c)](_0x36c78c,_0x1cf167['y']+_0x1cf167[_0x2e4142(0x492)]-_0x57483d[_0x2e4142(0x492)])),draggedSvgElement[_0x2e4142(0x4ef)](null,'x',_0xcb857d),draggedSvgElement[_0x2e4142(0x4ef)](null,'y',_0x36c78c);}}function endDrag(_0x27a404){draggedSvgElement=null;}function handleSvgEditClick(_0x36c510){const _0x5bd060=_0x11059a;if(_0x36c510[_0x5bd060(0x1d2)]['classList'][_0x5bd060(0x512)](_0x5bd060(0x22e))){const _0x4c974c=_0x36c510[_0x5bd060(0x1d2)][_0x5bd060(0x2e0)]['targetId'],_0x3ebdf9=_0x36c510[_0x5bd060(0x1ff)],_0x3ce310=_0x3ebdf9[_0x5bd060(0x296)]('#'+_0x4c974c);_0x3ce310&&_0x3ce310['remove'](),_0x36c510[_0x5bd060(0x1d2)][_0x5bd060(0x422)]();}}function handleEditQuestion(_0x118032){const _0x54c0d1=_0x11059a,_0x148daa=_0x118032[_0x54c0d1(0x1ff)],_0xa2485c=_0x148daa[_0x54c0d1(0x2e0)][_0x54c0d1(0x1b1)],_0x2d9227=currentQuizData['questions'][_0xa2485c],_0x7a0fb7=document[_0x54c0d1(0x3e8)](_0x54c0d1(0x42c)+_0xa2485c),_0xf856f5=document['getElementById'](_0x54c0d1(0x260)+_0xa2485c),_0xe322b=document[_0x54c0d1(0x3e8)](_0x54c0d1(0x1db)+_0xa2485c);if(_0x148daa['innerHTML'][_0x54c0d1(0x4c1)](_0x54c0d1(0x29e))){_0x148daa[_0x54c0d1(0x43c)]=_0x54c0d1(0x418),_0x148daa[_0x54c0d1(0x215)]=_0x54c0d1(0x3d6);if(_0x7a0fb7)_0x7a0fb7[_0x54c0d1(0x1f9)]=!![];if(_0xf856f5)_0xf856f5[_0x54c0d1(0x1f9)]=!![];if(_0xe322b){const _0xed258b=_0xe322b[_0x54c0d1(0x296)](_0x54c0d1(0x42b));if(_0xed258b){const _0x2fdbcd=_0xed258b[_0x54c0d1(0x4b4)](_0x54c0d1(0x456));_0x2fdbcd[_0x54c0d1(0x1e9)]((_0xed0554,_0x4a3f9e)=>{const _0x3797ec=_0x54c0d1,_0x5b1aba=_0x3797ec(0x410)+_0xa2485c+'-'+_0x4a3f9e;_0xed0554['id']=_0x5b1aba,_0xed0554[_0x3797ec(0x1b3)]['add']('draggable-text'),_0xed0554[_0x3797ec(0x397)][_0x3797ec(0x3f4)]=_0x3797ec(0x4fb);const _0x236fba=document[_0x3797ec(0xa3)](_0x3797ec(0x121),'circle'),_0x1d0414=_0xed0554[_0x3797ec(0x407)]();_0x236fba[_0x3797ec(0x36f)]('cx',String(_0x1d0414['x']+_0x1d0414[_0x3797ec(0x457)]+0x5)),_0x236fba[_0x3797ec(0x36f)]('cy',String(_0x1d0414['y']+_0x1d0414[_0x3797ec(0x492)]/0x2-0x5)),_0x236fba[_0x3797ec(0x36f)]('r','5'),_0x236fba[_0x3797ec(0x36f)](_0x3797ec(0x34a),_0x3797ec(0x1fe)),_0x236fba[_0x3797ec(0x36f)](_0x3797ec(0x36e),'delete-svg-btn'),_0x236fba[_0x3797ec(0x2e0)][_0x3797ec(0x41b)]=_0x5b1aba,_0xed0554[_0x3797ec(0x1a9)](_0x236fba);}),_0xed258b[_0x54c0d1(0x368)](_0x54c0d1(0x158),startDrag),_0xed258b[_0x54c0d1(0x368)](_0x54c0d1(0x198),drag),_0xed258b[_0x54c0d1(0x368)](_0x54c0d1(0x347),endDrag),_0xed258b[_0x54c0d1(0x368)]('mouseleave',endDrag),_0xed258b['addEventListener'](_0x54c0d1(0xe8),startDrag,{'passive':![]}),_0xed258b[_0x54c0d1(0x368)]('touchmove',drag,{'passive':![]}),_0xed258b[_0x54c0d1(0x368)](_0x54c0d1(0x25f),endDrag),_0xed258b[_0x54c0d1(0x368)](_0x54c0d1(0x380),endDrag),_0xed258b['addEventListener']('click',handleSvgEditClick);}}if(_0x7a0fb7)_0x7a0fb7['focus']();}else{_0x148daa[_0x54c0d1(0x43c)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x148daa[_0x54c0d1(0x215)]='แก้ไขข้อนี้';if(_0x7a0fb7){_0x7a0fb7['contentEditable']=![];const _0x440e74=_0x2d9227[_0x54c0d1(0x31d)]||currentQuizData[_0x54c0d1(0x17d)];_0x440e74===_0x54c0d1(0x107)?_0x2d9227[_0x54c0d1(0x49a)]=_0x7a0fb7[_0x54c0d1(0x489)][_0x54c0d1(0xe5)](_0x7a0fb7['innerText']['indexOf']('.')+0x2)[_0x54c0d1(0x2fe)]():_0x2d9227[_0x54c0d1(0x4dd)]=_0x7a0fb7[_0x54c0d1(0x489)][_0x54c0d1(0xe5)](_0x7a0fb7['innerText'][_0x54c0d1(0x4c7)]('.')+0x2)[_0x54c0d1(0x2fe)]();}_0xf856f5&&(_0xf856f5[_0x54c0d1(0x1f9)]=![],_0x2d9227['explanation']=_0xf856f5[_0x54c0d1(0x489)]);if(_0xe322b){const _0x53413c=_0xe322b[_0x54c0d1(0x296)](_0x54c0d1(0x42b));if(_0x53413c){const _0x3ef81e=_0x53413c['cloneNode'](!![]);_0x3ef81e[_0x54c0d1(0x4b4)]('.delete-svg-btn')[_0x54c0d1(0x1e9)](_0xb43af1=>_0xb43af1['remove']()),_0x3ef81e[_0x54c0d1(0x4b4)](_0x54c0d1(0x325))[_0x54c0d1(0x1e9)](_0x20eb72=>{const _0x49e988=_0x54c0d1;_0x20eb72[_0x49e988(0x1b3)][_0x49e988(0x422)](_0x49e988(0x167)),_0x20eb72[_0x49e988(0x397)][_0x49e988(0x3f4)]=_0x49e988(0xa0),_0x20eb72[_0x49e988(0x464)]('id');}),_0x2d9227[_0x54c0d1(0xb2)]=_0x3ef81e['outerHTML'],_0x53413c['removeEventListener'](_0x54c0d1(0x158),startDrag),_0x53413c[_0x54c0d1(0x290)]('mousemove',drag),_0x53413c[_0x54c0d1(0x290)](_0x54c0d1(0x347),endDrag),_0x53413c['removeEventListener'](_0x54c0d1(0x1f3),endDrag),_0x53413c[_0x54c0d1(0x290)]('touchstart',startDrag),_0x53413c['removeEventListener']('touchmove',drag),_0x53413c['removeEventListener'](_0x54c0d1(0x25f),endDrag),_0x53413c[_0x54c0d1(0x290)](_0x54c0d1(0x380),endDrag),_0x53413c[_0x54c0d1(0x290)](_0x54c0d1(0x189),handleSvgEditClick),_0x53413c[_0x54c0d1(0x4b4)](_0x54c0d1(0xbd))[_0x54c0d1(0x1e9)](_0x4621cd=>_0x4621cd[_0x54c0d1(0x422)]()),_0x53413c[_0x54c0d1(0x4b4)]('.draggable-text')[_0x54c0d1(0x1e9)](_0x877602=>{const _0x5f2173=_0x54c0d1;_0x877602[_0x5f2173(0x1b3)][_0x5f2173(0x422)]('draggable-text'),_0x877602[_0x5f2173(0x397)]['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2b8b0){const _0x24b265=_0x11059a,_0x54dd76=document[_0x24b265(0x3e8)](_0x24b265(0x2c7)),_0x1a4ce5=document['getElementById']('quiz-editor-questions-container');_0x1a4ce5[_0x24b265(0x43c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x54dd76[_0x24b265(0x1b3)][_0x24b265(0x422)](_0x24b265(0x149));try{const _0x2501c9=doc(db,_0x24b265(0x2a0)+appId+_0x24b265(0x3b8),_0x2b8b0),_0x3930fa=await getDoc(_0x2501c9);if(!_0x3930fa[_0x24b265(0x384)]())throw new Error(_0x24b265(0x471));currentEditingQuizData={'id':_0x2b8b0,..._0x3930fa['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x3c5ef5){console[_0x24b265(0xba)]('Error\x20opening\x20quiz\x20editor:',_0x3c5ef5),showMessage(_0x24b265(0x47e)),_0x54dd76[_0x24b265(0x1b3)][_0x24b265(0x2d6)]('hidden');}}function renderQuizEditor(_0x4537e9){const _0xc10c87=_0x11059a;document[_0xc10c87(0x3e8)](_0xc10c87(0x4f3))[_0xc10c87(0x43e)]=_0x4537e9[_0xc10c87(0x2c5)];const _0x2c974e=document[_0xc10c87(0x3e8)](_0xc10c87(0x377));let _0x93f33f=_0x4537e9['questions'][_0xc10c87(0x13c)]((_0x23af66,_0x3c6c05)=>{const _0x11e535=_0xc10c87;let _0x5df688='';const _0x250c4b=_0x23af66[_0x11e535(0x31d)]||_0x4537e9[_0x11e535(0x17d)];switch(_0x250c4b){case _0x11e535(0x2d7):const _0x41bf94=(_0x23af66[_0x11e535(0x34c)]||[])[_0x11e535(0x13c)]((_0x1e50ed,_0x3aa913)=>_0x11e535(0x516)+_0x3c6c05+_0x11e535(0x304)+_0x3aa913+'\x22\x20'+(_0x3aa913===_0x23af66['correctAnswerIndex']?_0x11e535(0x3f9):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x1e50ed+_0x11e535(0x104))[_0x11e535(0x1eb)]('');_0x5df688=_0x11e535(0x2b0)+_0x41bf94+_0x11e535(0x35f);break;case'short_answer':_0x5df688='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x23af66['idealAnswer']||'')+_0x11e535(0x2cd);break;case'true_false':_0x5df688='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3c6c05+'\x22\x20value=\x22true\x22\x20'+(_0x23af66[_0x11e535(0x462)]===!![]?'checked':'')+_0x11e535(0x4d0)+_0x3c6c05+_0x11e535(0x117)+(_0x23af66[_0x11e535(0x462)]===![]?'checked':'')+_0x11e535(0x10e);break;case _0x11e535(0x107):_0x5df688=_0x11e535(0x240)+(_0x23af66['correctResponse']||'')+_0x11e535(0x47f);break;}const _0x205e33=_0x23af66[_0x11e535(0x4dd)]||_0x23af66[_0x11e535(0x49a)]||'';return _0x11e535(0x3fd)+_0x250c4b+_0x11e535(0x3e1)+(_0x3c6c05+0x1)+'\x20('+_0x250c4b+_0x11e535(0x41e)+_0x205e33+_0x11e535(0x381)+_0x5df688+_0x11e535(0x31c);})[_0xc10c87(0x1eb)]('');_0x2c974e['innerHTML']=_0x93f33f;}async function handleSaveChanges(){const _0x4e154e=_0x11059a,_0x309019=document[_0x4e154e(0x3e8)](_0x4e154e(0x379));_0x309019[_0x4e154e(0x33a)]=!![],_0x309019[_0x4e154e(0x43c)]=_0x4e154e(0x33c);try{const _0x4436ba=document[_0x4e154e(0x3e8)]('editor-quiz-topic')[_0x4e154e(0x43e)],_0x33614a=document['querySelectorAll']('.question-editor-item');let _0xf76c31=[];const _0x46f8fa=Array[_0x4e154e(0x125)](_0x33614a)[_0x4e154e(0x13c)]((_0x40f8b0,_0x6c8cdd)=>{const _0x42183d=_0x4e154e,_0x126def=_0x40f8b0[_0x42183d(0x2e0)][_0x42183d(0x35d)],_0x1961e8=_0x40f8b0[_0x42183d(0x296)](_0x42183d(0xf2))[_0x42183d(0x43e)];let _0xa5e708={'questionType':_0x126def};const _0x47a86f=currentEditingQuizData[_0x42183d(0xde)][_0x6c8cdd];switch(_0x126def){case'multiple_choice':_0xa5e708[_0x42183d(0x4dd)]=_0x1961e8;const _0x5b169b=_0x40f8b0[_0x42183d(0x4b4)](_0x42183d(0x3ce));_0xa5e708[_0x42183d(0x34c)]=Array[_0x42183d(0x125)](_0x5b169b)[_0x42183d(0x13c)](_0x37a4d3=>_0x37a4d3[_0x42183d(0x43e)]);const _0x289071=_0x40f8b0[_0x42183d(0x296)]('input[type=\x22radio\x22]:checked');_0xa5e708[_0x42183d(0x1f7)]=_0x289071?parseInt(_0x289071['value']):0x0;break;case _0x42183d(0x3c5):_0xa5e708['questionText']=_0x1961e8,_0xa5e708[_0x42183d(0x2a8)]=_0x40f8b0['querySelector'](_0x42183d(0x504))[_0x42183d(0x43e)];break;case _0x42183d(0xe0):_0xa5e708['questionText']=_0x1961e8;const _0x3cfec7=_0x40f8b0['querySelector'](_0x42183d(0x253));_0xa5e708['correctAnswer']=_0x3cfec7?_0x3cfec7['value']==='true':!![];break;case'matching_item':_0xa5e708[_0x42183d(0x49a)]=_0x1961e8;const _0x1bbf8e=_0x40f8b0['querySelector']('.correct-response-input');_0xa5e708[_0x42183d(0x11b)]=_0x1bbf8e?_0x1bbf8e[_0x42183d(0x43e)]:'',_0xf76c31[_0x42183d(0x1cd)](_0xa5e708[_0x42183d(0x11b)]);break;default:_0xa5e708['questionText']=_0x1961e8;break;}return{..._0x47a86f,..._0xa5e708};});_0xf76c31[_0x4e154e(0x164)]>0x0&&_0x46f8fa[_0x4e154e(0x1e9)](_0x37e607=>{const _0x3663d7=_0x4e154e;_0x37e607[_0x3663d7(0x31d)]===_0x3663d7(0x107)&&(_0x37e607[_0x3663d7(0x24d)]=_0xf76c31);});const _0x576467=doc(db,_0x4e154e(0x2a0)+appId+_0x4e154e(0x3b8),currentEditingQuizData['id']);await updateDoc(_0x576467,{'topic':_0x4436ba,'questions':_0x46f8fa}),showMessage(_0x4e154e(0x34e)),document[_0x4e154e(0x3e8)](_0x4e154e(0x2c7))[_0x4e154e(0x1b3)][_0x4e154e(0x2d6)](_0x4e154e(0x149));}catch(_0x27f490){console['error']('Error\x20saving\x20quiz\x20edits:',_0x27f490),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x309019[_0x4e154e(0x33a)]=![],_0x309019[_0x4e154e(0x43c)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function saveQuiz(){const _0x1b3031=_0x11059a;if(!currentQuizData||!currentQuizData[_0x1b3031(0xde)]||!userId||!currentProjectId){showMessage(_0x1b3031(0x493));return;}const _0x48e58d=document['getElementById'](_0x1b3031(0x51f));_0x48e58d[_0x1b3031(0x33a)]=!![],_0x48e58d[_0x1b3031(0x43c)]=_0x1b3031(0x33c),currentQuizData[_0x1b3031(0x2c5)]=document[_0x1b3031(0x3e8)](_0x1b3031(0x17a))[_0x1b3031(0x489)];try{const _0x579213={'resultsDisplay':document['getElementById'](_0x1b3031(0x3b2))[_0x1b3031(0x43e)],'shuffle':document[_0x1b3031(0x3e8)]('shuffle-setting-select')[_0x1b3031(0x43e)],'timerMode':document[_0x1b3031(0x3e8)](_0x1b3031(0x3c1))[_0x1b3031(0x43e)],'timerDuration':parseInt(document[_0x1b3031(0x3e8)](_0x1b3031(0x40a))['value'])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')['value'])||0x0,'passingScore':parseInt(document[_0x1b3031(0x3e8)](_0x1b3031(0x245))['value'])||0x0,'isAdaptive':document[_0x1b3031(0x3e8)](_0x1b3031(0xe1))['checked']},_0x558a9c=(currentQuizData[_0x1b3031(0xde)]||[])['map'](_0x3e4965=>{const _0x1a49d0=_0x1b3031,_0x1616dc=document[_0x1a49d0(0x3e8)]('quiz-type-select')[_0x1a49d0(0x43e)],_0x241a1f={'questionText':_0x3e4965[_0x1a49d0(0x4dd)]||'','explanation':_0x3e4965[_0x1a49d0(0xf5)]||'ไม่มีคำอธิบาย','questionType':_0x3e4965[_0x1a49d0(0x31d)]||_0x1616dc,'imageCode':_0x3e4965['imageCode']||null};return(_0x241a1f[_0x1a49d0(0x31d)]===_0x1a49d0(0x2d7)||_0x241a1f[_0x1a49d0(0x31d)]===_0x1a49d0(0x4fc)||_0x241a1f[_0x1a49d0(0x31d)]==='mixed'&&_0x3e4965[_0x1a49d0(0x34c)])&&(_0x241a1f['options']=_0x3e4965[_0x1a49d0(0x34c)]||[],_0x241a1f[_0x1a49d0(0x1f7)]=_0x3e4965[_0x1a49d0(0x1f7)]!==undefined?_0x3e4965[_0x1a49d0(0x1f7)]:0x0),(_0x241a1f[_0x1a49d0(0x31d)]===_0x1a49d0(0x3c5)||_0x241a1f[_0x1a49d0(0x31d)]===_0x1a49d0(0x9e)||_0x241a1f[_0x1a49d0(0x31d)]==='mixed'&&_0x3e4965[_0x1a49d0(0x2a8)])&&(_0x241a1f[_0x1a49d0(0x2a8)]=_0x3e4965['idealAnswer']||''),_0x241a1f[_0x1a49d0(0x31d)]==='true_false'&&(_0x241a1f['correctAnswer']=_0x3e4965[_0x1a49d0(0x462)]===!![]),_0x241a1f[_0x1a49d0(0x31d)]==='matching_item'&&(_0x241a1f['stem']=_0x3e4965[_0x1a49d0(0x49a)]||'',_0x241a1f[_0x1a49d0(0x11b)]=_0x3e4965['correctResponse']||'',_0x241a1f[_0x1a49d0(0x24d)]=_0x3e4965[_0x1a49d0(0x24d)]||[]),_0x241a1f;}),_0xff0b7a={'topic':currentQuizData[_0x1b3031(0x2c5)]||_0x1b3031(0x23c),'quizType':currentQuizData[_0x1b3031(0x17d)]||_0x1b3031(0x2d7),'questions':_0x558a9c,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x1b3031(0x120),'settings':_0x579213};let _0x4aba13;while(!![]){_0x4aba13=Math[_0x1b3031(0x4bf)](0x3e8+Math['random']()*0x2328)[_0x1b3031(0x22d)]();const _0x5aa2ac=await getDoc(doc(db,_0x1b3031(0x2a0)+appId+_0x1b3031(0x3b8),_0x4aba13));if(!_0x5aa2ac[_0x1b3031(0x384)]())break;}await setDoc(doc(db,_0x1b3031(0x2a0)+appId+_0x1b3031(0x3b8),_0x4aba13),_0xff0b7a),currentQuizData[_0x1b3031(0x467)]=_0x579213,currentQuizData['id']=_0x4aba13;const _0x8644eb=document['getElementById'](_0x1b3031(0x1c3));_0x8644eb[_0x1b3031(0x43c)]=_0x1b3031(0x105)+_0x4aba13+_0x1b3031(0x3b6),document[_0x1b3031(0x3e8)](_0x1b3031(0xbc))[_0x1b3031(0x368)](_0x1b3031(0x189),()=>copyTextToClipboard(_0x4aba13,'คัดลอกรหัสแล้ว!')),document['getElementById'](_0x1b3031(0x18f))[_0x1b3031(0x368)]('click',()=>handleStartLiveRace(_0x4aba13)),document[_0x1b3031(0x3e8)]('start-presentation-btn')[_0x1b3031(0x368)](_0x1b3031(0x189),()=>startPresentation(currentQuizData)),document[_0x1b3031(0x3e8)](_0x1b3031(0x4d3))['addEventListener']('click',startAdminTest),showMessage(_0x1b3031(0xe4));}catch(_0x163edd){console[_0x1b3031(0xba)](_0x1b3031(0x396),_0x163edd),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x48e58d[_0x1b3031(0x33a)]=![],_0x48e58d[_0x1b3031(0x43c)]=_0x1b3031(0x339);}}function copyTextToClipboard(_0x16a822,_0x2c76d0){const _0x3fff68=_0x11059a,_0x3ef62c=document[_0x3fff68(0x4cf)](_0x3fff68(0xf2));_0x3ef62c['value']=_0x16a822,_0x3ef62c['style'][_0x3fff68(0x3a9)]='fixed',_0x3ef62c[_0x3fff68(0x397)]['opacity']='0',document[_0x3fff68(0x12f)][_0x3fff68(0xa7)](_0x3ef62c),_0x3ef62c['focus'](),_0x3ef62c[_0x3fff68(0x4e3)]();try{const _0x5c568a=document[_0x3fff68(0x4e5)](_0x3fff68(0xc4));showMessage(_0x5c568a?_0x2c76d0:_0x3fff68(0x24a));}catch(_0x2e8733){showMessage(_0x3fff68(0x24a)),console[_0x3fff68(0xba)](_0x3fff68(0x42d),_0x2e8733);}document[_0x3fff68(0x12f)]['removeChild'](_0x3ef62c);}function listenForProjectQuizzes(_0x29c7b5){const _0x1f4994=_0x11059a,_0x343b2f=collection(db,_0x1f4994(0x2a0)+appId+'/public/data/quizzes'),_0x4d3e6e=query(_0x343b2f,where(_0x1f4994(0xee),'==',_0x29c7b5));unsubscribeQuizzesListener=onSnapshot(_0x4d3e6e,async _0xcdebd5=>{const _0x81626d=_0x1f4994;allQuizzes=_0xcdebd5[_0x81626d(0x301)][_0x81626d(0x13c)](_0x8c4522=>({'id':_0x8c4522['id'],..._0x8c4522[_0x81626d(0x41f)]()})),renderQuizzes();},_0x4b43a7=>{const _0x4aae53=_0x1f4994;console[_0x4aae53(0xba)](_0x4aae53(0x11c),_0x4b43a7),document['getElementById']('project-quizzes-list')[_0x4aae53(0x43c)]=_0x4aae53(0x1fc);});}async function renderQuizzes(){const _0x11a825=_0x11059a,_0x47e371=document['getElementById'](_0x11a825(0x21e)),_0x56afd8=document[_0x11a825(0x3e8)](_0x11a825(0x1ea))['value'][_0x11a825(0x32b)]();let _0x5cd852;currentProjectId==='starred'?_0x5cd852=starredQuizzes:_0x5cd852=allQuizzes;let _0x752e08=_0x5cd852[_0x11a825(0x45b)](_0x2f7eb5=>_0x2f7eb5['topic'][_0x11a825(0x32b)]()[_0x11a825(0x4c1)](_0x56afd8));_0x752e08['sort']((_0x36add7,_0x8ed7c6)=>new Date(_0x8ed7c6[_0x11a825(0x33d)])-new Date(_0x36add7[_0x11a825(0x33d)]));if(_0x752e08[_0x11a825(0x164)]===0x0){_0x47e371[_0x11a825(0x43c)]=_0x11a825(0x326);return;}const _0x47783c={},_0x4f2336=_0x752e08['map'](async _0x46de7f=>{const _0x4d66ee=_0x11a825,_0xf41626=collection(db,_0x4d66ee(0x2a0)+appId+'/public/data/quizzes/'+_0x46de7f['id']+_0x4d66ee(0x219)),_0x42b8c8=await getDocs(_0xf41626);_0x47783c[_0x46de7f['id']]=_0x42b8c8[_0x4d66ee(0x527)];});await Promise[_0x11a825(0x155)](_0x4f2336);let _0x29c4c5='';_0x752e08['forEach'](_0x440cc2=>{const _0x378e3a=_0x11a825,_0x9c06be=_0x47783c[_0x440cc2['id']]||0x0,_0x26811c=_0x440cc2[_0x378e3a(0x3cb)]||'active',_0x550a14=_0x440cc2[_0x378e3a(0x467)]?.[_0x378e3a(0x39f)]||_0x378e3a(0x17e);let _0x5c2a6f='',_0x223acd='';const _0x56e056=new Date();let _0x3cc552=_0x26811c;if(_0x26811c===_0x378e3a(0x50c)){const _0x18d8ea=_0x440cc2['startTime']?new Date(_0x440cc2['startTime']):null,_0x359185=_0x440cc2['endTime']?new Date(_0x440cc2[_0x378e3a(0x2a6)]):null;if(_0x359185&&_0x56e056>_0x359185)_0x3cc552=_0x378e3a(0x43a);else _0x18d8ea&&_0x56e056<_0x18d8ea?_0x3cc552=_0x378e3a(0x3e0):_0x3cc552=_0x378e3a(0x120);}switch(_0x3cc552){case'inactive':_0x5c2a6f='ปิดใช้งาน',_0x223acd=_0x378e3a(0x3e6);break;case _0x378e3a(0x3e0):_0x5c2a6f='รอเปิด',_0x223acd=_0x378e3a(0x213);break;case _0x378e3a(0x120):_0x5c2a6f=_0x550a14!==_0x378e3a(0x17e)?_0x378e3a(0x324):_0x378e3a(0x49e),_0x223acd=_0x378e3a(0x2da);break;default:_0x5c2a6f=_0x378e3a(0x192),_0x223acd=_0x378e3a(0x2da);}let _0x1a4dad='';const _0x1806a2={'day':_0x378e3a(0x11a),'month':_0x378e3a(0x11a),'year':_0x378e3a(0xa9),'hour':'2-digit','minute':_0x378e3a(0x11a),'hour12':![]};_0x26811c===_0x378e3a(0x50c)&&(_0x440cc2[_0x378e3a(0x37b)]&&(_0x1a4dad+=_0x378e3a(0x501)+new Date(_0x440cc2['startTime'])[_0x378e3a(0x4ab)](_0x378e3a(0x26b),_0x1806a2)+_0x378e3a(0x316)),_0x440cc2[_0x378e3a(0x2a6)]&&(_0x1a4dad+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x440cc2[_0x378e3a(0x2a6)])[_0x378e3a(0x4ab)](_0x378e3a(0x26b),_0x1806a2)+'</p>')),_0x29c4c5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x440cc2['id']+_0x378e3a(0x4f5)+_0x440cc2[_0x378e3a(0x2c5)]+_0x378e3a(0x162)+_0x440cc2[_0x378e3a(0xde)]['length']+_0x378e3a(0x14f)+new Date(_0x440cc2[_0x378e3a(0x33d)])['toLocaleString'](_0x378e3a(0x26b))+_0x378e3a(0x47b)+_0x9c06be+_0x378e3a(0x3c0)+_0x1a4dad+_0x378e3a(0x1f8)+_0x223acd+'\x22>'+_0x5c2a6f+_0x378e3a(0x306)+_0x440cc2['id']+_0x378e3a(0x341)+_0x440cc2['id']+_0x378e3a(0x50e)+(_0x440cc2[_0x378e3a(0x3a2)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x378e3a(0x254)+_0x440cc2['id']+_0x378e3a(0x2cc)+_0x440cc2['id']+'\x22\x20data-topic=\x22'+_0x440cc2[_0x378e3a(0x2c5)]+_0x378e3a(0xae)+_0x440cc2['id']+_0x378e3a(0xa4)+_0x440cc2['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x440cc2['id']+_0x378e3a(0x470)+_0x440cc2['id']+_0x378e3a(0x175)+_0x440cc2['id']+_0x378e3a(0x47c)+_0x440cc2['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x440cc2['id']+_0x378e3a(0x194)+_0x440cc2['id']+_0x378e3a(0x503)+_0x440cc2[_0x378e3a(0x2c5)]+_0x378e3a(0x3c7);}),_0x47e371[_0x11a825(0x43c)]=_0x29c4c5,document['querySelectorAll'](_0x11a825(0x269))[_0x11a825(0x1e9)](_0x38981f=>{const _0x242df9=_0x11a825;_0x38981f[_0x242df9(0x368)](_0x242df9(0x189),()=>{const _0x19c267=_0x242df9,_0x3680e5=_0x38981f[_0x19c267(0x2e0)]['quizId'];showQuizDetailView(_0x3680e5);});});}async function handleDuplicateQuiz(_0x14af12){const _0x4db137=_0x11059a;try{const _0x3ee3fe=doc(db,_0x4db137(0x2a0)+appId+'/public/data/quizzes',_0x14af12),_0xa6e3ea=await getDoc(_0x3ee3fe);if(_0xa6e3ea[_0x4db137(0x384)]()){const _0x3120f5=_0xa6e3ea['data'](),_0x55a6fb={..._0x3120f5,'topic':_0x4db137(0x208)+_0x3120f5[_0x4db137(0x2c5)],'createdAt':new Date()['toISOString']()};await addDoc(collection(db,_0x4db137(0x2a0)+appId+_0x4db137(0x3b8)),_0x55a6fb),showMessage(_0x4db137(0xea));}else throw new Error(_0x4db137(0x2cf));}catch(_0x19efc1){console[_0x4db137(0xba)](_0x4db137(0x49b),_0x19efc1),showMessage(_0x4db137(0x42a));}}async function handleDeleteQuiz(_0x55f412,_0x25765a=!![]){const _0x622c65=_0x11059a;try{const _0x4b7749=writeBatch(db),_0x5d8c5f=collection(db,_0x622c65(0x2a0)+appId+_0x622c65(0x134)+_0x55f412+_0x622c65(0x219)),_0x4971a0=await getDocs(_0x5d8c5f);_0x4971a0['forEach'](_0xff58a9=>{const _0x18b4a2=_0x622c65;_0x4b7749[_0x18b4a2(0x148)](doc(_0x5d8c5f,_0xff58a9['id']));});const _0x4187e6=doc(db,_0x622c65(0x2a0)+appId+_0x622c65(0x3b8),_0x55f412);_0x4b7749['delete'](_0x4187e6),await _0x4b7749['commit'](),_0x25765a&&showMessage(_0x622c65(0x320));}catch(_0x154ed5){console[_0x622c65(0xba)](_0x622c65(0xf4),_0x154ed5),_0x25765a&&showMessage(_0x622c65(0x3e4));}}async function showQuizDetailView(_0x1842de){const _0x2bea33=_0x11059a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2bea33(0x2d4));try{const _0xb6920=doc(db,_0x2bea33(0x2a0)+appId+_0x2bea33(0x3b8),_0x1842de),_0x241799=await getDoc(_0xb6920);if(!_0x241799[_0x2bea33(0x384)]()){showMessage(_0x2bea33(0x40d));return;}const _0x14f4db={'id':_0x241799['id'],..._0x241799[_0x2bea33(0x41f)]()};currentQuizData=_0x14f4db;const _0x5c3cf5=doc(db,_0x2bea33(0x2a0)+appId+'/public/data/projects',_0x14f4db[_0x2bea33(0xee)]),_0x2199cd=await getDoc(_0x5c3cf5);_0x2199cd[_0x2bea33(0x384)]()?(currentProjectData=_0x2199cd['data'](),currentProjectId=_0x14f4db[_0x2bea33(0xee)]):(currentProjectData={'students':[]},currentProjectId=_0x14f4db[_0x2bea33(0xee)]);document['getElementById'](_0x2bea33(0xbe))[_0x2bea33(0x373)]=_0x14f4db['topic'],document[_0x2bea33(0x3e8)](_0x2bea33(0xf3))[_0x2bea33(0x373)]=_0x1842de;const _0x841746=collection(db,'artifacts/'+appId+_0x2bea33(0x3b8),_0x1842de,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x841746,_0x30c2af=>{const _0x5922f5=_0x2bea33,_0x41eef8=_0x30c2af[_0x5922f5(0x301)][_0x5922f5(0x13c)](_0x5c1575=>({'id':_0x5c1575['id'],..._0x5c1575[_0x5922f5(0x41f)]()}));renderAnalytics(_0x14f4db,_0x41eef8),renderQuizResultsTable(currentProjectData['students'],_0x41eef8,_0x14f4db),renderQuizLeaderboard(_0x41eef8,_0x14f4db,'quiz-leaderboard-table-body');}),showView(_0x2bea33(0x2ac));}catch(_0x4c1d71){console[_0x2bea33(0xba)](_0x2bea33(0x144),_0x4c1d71),showMessage(_0x2bea33(0x16d));}}function renderQuizResultsTable(_0xa2cbad,_0x4a8c2c,_0x5c6624){const _0x2b70f9=_0x11059a,_0x15c1c0=_0x4a8c2c[_0x2b70f9(0xe6)]((_0x357c3c,_0x44ccd8)=>{const _0x47b4a5=_0x2b70f9;return _0x357c3c[_0x44ccd8[_0x47b4a5(0x30c)]]=_0x44ccd8,_0x357c3c;},{}),_0x1af224=document['getElementById'](_0x2b70f9(0x1e8));if(!_0xa2cbad||_0xa2cbad['length']===0x0){_0x1af224[_0x2b70f9(0x43c)]=_0x2b70f9(0x2fd);return;}const _0x1f2585=_0x5c6624[_0x2b70f9(0x3d7)]===!![],_0xb10417=_0x5c6624['settings']?.['passingScore']??-0x1;let _0x2d78fb='';_0xa2cbad[_0x2b70f9(0x1e9)](_0xddd200=>{const _0x2b6ec7=_0x2b70f9,_0x486e3f=_0x15c1c0[_0xddd200];let _0xa03b5c=_0x2b6ec7(0x511),_0x4b3ec9=_0x2b6ec7(0x182)+(_0x1f2585?_0x2b6ec7(0x49d):_0x2b6ec7(0x12c))+'\x22>'+(_0x1f2585?_0x2b6ec7(0x2ed):_0x2b6ec7(0x102))+_0x2b6ec7(0x2b9);if(_0x486e3f){let _0x189af7;_0x1f2585?_0x189af7=_0x486e3f[_0x2b6ec7(0x4b9)]===_0x486e3f['totalQuestions']:_0x189af7=_0xb10417!==-0x1&&_0x486e3f[_0x2b6ec7(0x4b9)]>=_0xb10417;if(_0x1f2585||_0xb10417!==-0x1){const _0x91e15f=_0x189af7?_0x2b6ec7(0x4a7):'bg-red-100\x20text-red-800',_0x404ceb=_0x189af7?_0x2b6ec7(0x375):_0x2b6ec7(0xff);_0xa03b5c=_0x2b6ec7(0x26a)+_0x91e15f+'\x22>'+_0x404ceb+_0x2b6ec7(0x2b9);}const _0x227769=_0x2b6ec7(0x45c)+(_0x486e3f['attempts']?.[_0x2b6ec7(0x164)]||0x1)+_0x2b6ec7(0x3af);_0x2d78fb+=_0x2b6ec7(0x2ea)+_0xddd200+_0x2b6ec7(0x229)+_0x486e3f[_0x2b6ec7(0x4b9)]+_0x2b6ec7(0x44f)+_0x486e3f[_0x2b6ec7(0xcc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa03b5c+_0x2b6ec7(0xd4)+_0x4b3ec9+_0x2b6ec7(0x1d9)+_0x486e3f[_0x2b6ec7(0x3c4)]+_0x2b6ec7(0x44f)+_0x486e3f[_0x2b6ec7(0xcc)]+_0x2b6ec7(0x22f)+_0x486e3f['latestScore']+_0x2b6ec7(0x3fb)+(_0x486e3f[_0x2b6ec7(0x25e)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x227769+_0x2b6ec7(0x255)+new Date(_0x486e3f[_0x2b6ec7(0x3a6)])['toLocaleString'](_0x2b6ec7(0x26b))+_0x2b6ec7(0x1ee);}else{const _0x5c4791='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2d78fb+=_0x2b6ec7(0x2ea)+_0xddd200+_0x2b6ec7(0xb4)+_0x4b3ec9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c4791+_0x2b6ec7(0x174);}}),_0x1af224[_0x2b70f9(0x43c)]=_0x2d78fb;}function handleRenameQuiz(_0x9a51b6,_0x5951aa){const _0x347a76=_0x11059a;actionTargetId=_0x9a51b6,document[_0x347a76(0x3e8)]('rename-quiz-input')[_0x347a76(0x43e)]=_0x5951aa,renameQuizModal['classList'][_0x347a76(0x422)]('hidden');}async function confirmRenameQuiz(){const _0x8880e0=_0x11059a,_0x5b696a=document[_0x8880e0(0x3e8)](_0x8880e0(0x4ca))[_0x8880e0(0x43e)][_0x8880e0(0x2fe)]();if(!_0x5b696a){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x4b89cc=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x4b89cc,{'topic':_0x5b696a}),showMessage(_0x8880e0(0x119)),renameQuizModal['classList'][_0x8880e0(0x2d6)](_0x8880e0(0x149)),actionTargetId=null;}catch(_0x12cbdd){console[_0x8880e0(0xba)](_0x8880e0(0x426),_0x12cbdd),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0xc07cff){const _0x3b2b3b=_0x11059a;actionTargetId=_0xc07cff;const _0x248d1c=document[_0x3b2b3b(0x3e8)]('move-quiz-project-select');_0x248d1c[_0x3b2b3b(0x43c)]=_0x3b2b3b(0x3e7),moveQuizModal['classList'][_0x3b2b3b(0x422)]('hidden');try{const _0x5d352c=collection(db,_0x3b2b3b(0x2a0)+appId+_0x3b2b3b(0x332)),_0x50a666=await getDocs(_0x5d352c),_0xbf36bc=_0x50a666[_0x3b2b3b(0x301)][_0x3b2b3b(0x13c)](_0x2dd9b8=>({'id':_0x2dd9b8['id'],..._0x2dd9b8[_0x3b2b3b(0x41f)]()})),_0x432c5d=_0xbf36bc['filter'](_0x4a9ee2=>_0x4a9ee2['id']!==currentProjectId);if(_0x432c5d['length']===0x0){_0x248d1c[_0x3b2b3b(0x43c)]=_0x3b2b3b(0x1ad),document[_0x3b2b3b(0x3e8)](_0x3b2b3b(0x4ad))[_0x3b2b3b(0x33a)]=!![];return;}_0x248d1c[_0x3b2b3b(0x43c)]=_0x432c5d[_0x3b2b3b(0x13c)](_0x44040e=>_0x3b2b3b(0x17c)+_0x44040e['id']+'\x22>'+_0x44040e[_0x3b2b3b(0xd8)]+_0x3b2b3b(0x186))[_0x3b2b3b(0x1eb)](''),document[_0x3b2b3b(0x3e8)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x38fa9f){console[_0x3b2b3b(0xba)](_0x3b2b3b(0x46b),_0x38fa9f),showMessage(_0x3b2b3b(0x1f4)),moveQuizModal[_0x3b2b3b(0x1b3)][_0x3b2b3b(0x2d6)](_0x3b2b3b(0x149));}}async function confirmMoveQuiz(){const _0x5c25c4=_0x11059a,_0x50e77c=document[_0x5c25c4(0x3e8)](_0x5c25c4(0x3ab))[_0x5c25c4(0x43e)];if(!_0x50e77c){showMessage(_0x5c25c4(0xb8));return;}if(!actionTargetId)return;const _0x1cdbfa=doc(db,_0x5c25c4(0x2a0)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1cdbfa,{'projectId':_0x50e77c}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x5c25c4(0x1b3)][_0x5c25c4(0x2d6)](_0x5c25c4(0x149)),actionTargetId=null;}catch(_0xf2411a){console[_0x5c25c4(0xba)](_0x5c25c4(0x420),_0xf2411a),showMessage(_0x5c25c4(0xcb));}}async function handleQuizSettings(_0x385bf8){const _0x1c99ea=_0x11059a;actionTargetId=_0x385bf8;const _0x1f6cd4=doc(db,_0x1c99ea(0x2a0)+appId+_0x1c99ea(0x3b8),_0x385bf8);try{const _0x48af68=await getDoc(_0x1f6cd4);if(_0x48af68[_0x1c99ea(0x384)]()){const _0x246654=_0x48af68[_0x1c99ea(0x41f)](),_0x61de43=_0x246654['settings']||{},_0x5721d6=_0x246654[_0x1c99ea(0xde)][_0x1c99ea(0x164)];document['getElementById'](_0x1c99ea(0x361))[_0x1c99ea(0x43e)]=_0x61de43[_0x1c99ea(0x309)]||_0x1c99ea(0x17e),document[_0x1c99ea(0x3e8)]('modal-results-display-select')[_0x1c99ea(0x43e)]=_0x61de43[_0x1c99ea(0x310)]||_0x1c99ea(0x4e1),document[_0x1c99ea(0x3e8)](_0x1c99ea(0x151))[_0x1c99ea(0x43e)]=_0x61de43[_0x1c99ea(0x39f)]||_0x1c99ea(0x17e),document['getElementById'](_0x1c99ea(0x206))[_0x1c99ea(0x43e)]=_0x61de43[_0x1c99ea(0x277)]||0xa,document['getElementById'](_0x1c99ea(0x187))['value']=_0x61de43['passingScore']||Math[_0x1c99ea(0x4bf)](_0x5721d6/0x2),document[_0x1c99ea(0x3e8)]('modal-passing-score-input')[_0x1c99ea(0xac)]=_0x5721d6,document[_0x1c99ea(0x3e8)]('modal-adaptive-quiz-checkbox')[_0x1c99ea(0x3f9)]=_0x61de43[_0x1c99ea(0x202)]||![],document[_0x1c99ea(0x3e8)](_0x1c99ea(0x151))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x1c99ea(0x1b3)][_0x1c99ea(0x422)](_0x1c99ea(0x149));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x13ab37){console[_0x1c99ea(0xba)](_0x1c99ea(0xed),_0x13ab37),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}function _0x72c2(){const _0x4f6bb3=['\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','project-list','timerMode','touches','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','latestSubmittedAt','baseVal','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','position','เกิดข้อผิดพลาดในการสร้างห้องเกม','move-quiz-project-select','preventDefault','confirm-delete-btn','Error\x20toggling\x20star\x20status:','\x20ครั้ง)</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn','results-display-select','label[for=\x22num-questions\x22]','questionDisplayedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>','/public/data/quizzes','classWeaknesses','\x20คู่\x20','submission','<div\x20class=\x22loader\x20mx-auto\x22></div>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','analytics-tab-btn','global-live-game-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-mode-select','font-bold','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','firstScore','short_answer','icon','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','input[type=\x22text\x22]','answering','14759VaZmQH','project-title','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-question-btn','student-project-leaderboard-table-body','บันทึกการแก้ไข','isRemedial','close-student-rankings-btn','originalQuestion','btn','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','Error\x20updating\x20quiz\x20status:','1409597ZiIzsz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','scheduled_pending','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ข้อที่\x20','</div>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','label','text-red-700\x20bg-red-100','<option>กำลังโหลดโปรเจค...</option>','getElementById','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1065888xTWgIe','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','/users/','\x20คู่.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','แบบทดสอบซ่อมเสริม','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-search-input','live-game-view','leaderboard-tab','cursor','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','```json','<textarea\x20name=\x22question','checked','40mgWcYu','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ring-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','removeChild','defaultPassingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','ON_FIRE','split','getBBox','Error\x20generating\x20worksheet:','toLocaleDateString','timer-duration-input','text-green-900','min','ไม่พบข้อมูลแบบทดสอบ','fullscreenElement','Error\x20deleting\x20project:','editable-text-','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.rename-quiz-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','message','กรุณาวาง\x20URL\x20ของบทความก่อน','\x20ข้อ.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<i\x20class=\x22fas\x20fa-save\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x20\x20\x20\x20','defaultNumChoices','targetId','leaderboard','perfect_score','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','data','Error\x20moving\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','remove','quiz-status-options','กรุณาเลือกสถานะ','generate-from-text-btn','Error\x20renaming\x20quiz:','specialist','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','lobby','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','svg','q-text-','Copy\x20command\x20failed','players','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','กรุณาใส่ชื่อโปรเจค','keys','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-remedial-quiz-btn','border-red-300\x20bg-red-50','\x20ข้อ.\x20แต่ละข้อมี\x20','findIndex','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','parse','student-name-selection-view','inactive','results-tab','innerHTML','getContext','value','button[data-id]','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','คะแนนเต็ม','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','loader-text','\x20ข้อ.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','s;\x22\x20title=\x22','-tab-content','quiz-form','project-dashboard-view','student-project-leaderboard-tab','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','button','\x20/\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','บันทึกการตั้งค่าแล้ว','question','student-quiz-leaderboard-content','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','worksheet-topic-input','text','width','การยืนยันตัวตนล้มเหลว','student-name-select','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','filter','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','_opt','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','student','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','startsWith','correctAnswer','dataIndex','removeAttribute','ผ่านฉลุย','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20during\x20class\x20analysis:','Error\x20fetching\x20projects\x20for\x20move:','_opt0\x22\x20name=\x22question','ai-quiz-generator-v3','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','สร้างคำถามแบบเติมคำในช่องว่าง\x201\x20ข้อ\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบแบบทดสอบ','answeredCurrentQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','168iwiGmi','สร้างคำถามแบบเติมคำในช่องว่าง\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','normal','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','lastAnswerCorrect','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','จากไฟล์ที่แนบมานี้,\x20','bg-white/30','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','localeCompare','PERFECT_SCORE','AI\x20กำลังสร้างใบงาน...','write','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','height','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','แบบทดสอบ:\x20','files','คะแนน','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','stem','Error\x20duplicating\x20quiz:','check-presentation-answer-btn','bg-amber-100\x20text-amber-800','เปิดใช้งาน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','</body></html>','badgesCount','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','border-green-500','quiz-start-time','bg-green-100\x20text-green-800','entries','clientX','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','questions_only','confirm-move-quiz-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','export-word-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','setFont','per-question-timer-container','querySelectorAll','remedialContent','อัปเดตสถานะสำเร็จ','student-view','player-count','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ส่งแล้ว','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','floor','bg-red-500','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','indexOf','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','rename-quiz-input','change','quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','createElement','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ระยะเวลา\x20(นาที):','badges','admin-try-quiz-btn','analytics-tab-content','quick_thinker','print','cancel-rename-quiz-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','border-4','quiz','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','คัดลอกรหัสแล้ว!','questionText','reveal-answer-btn','worksheet-tab','confirm-quiz-settings-btn','show_results_and_answers','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','select','mixed','execCommand','quiz-leaderboard-table','per_question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.csv','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-content-input','slice','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','editor-quiz-topic','#results-table','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20สร้างคำถามจับคู่\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20','admin-password-input','revealed','submission-status-chart','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','move','fill_in_with_choices','\x22\x20data-name=\x22','instructions','ดูสรุปผล','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','start-quiz-btn','\x22\x20data-topic=\x22','.ideal-answer-input','https://corsproxy.io/?','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','some','matching','Firebase\x20initialization\x20failed:','Error\x20listening\x20for\x20starred\x20quizzes:','scheduled','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','<div\x20class=\x22','Adaptive\x20flow\x20failed:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','contains','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','text-tab','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','hover:bg-indigo-100','loader','input','save-quiz-btn','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.duplicate-quiz-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','beforeend','admin','passingScore','size','ไม่พบข้อมูลผู้ใช้','line-through\x20text-red-700','analytics-summary-cards','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','fill_in_no_choices','export-image-btn','default','results-table','</span></p>','createElementNS','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คะแนน','Error\x20saving\x20to\x20question\x20bank:','appendChild','quiz-status-modal','numeric','Error\x20generating\x20quiz:','commit','max','confirm-join-game-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','classStrengths','สร้างแบบทดสอบปรนัย\x201\x20ข้อ\x20','imageCode','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','\x22><i\x20class=\x22fas\x20','กรุณาเลือกโปรเจคปลายทาง','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','เกิดข้อผิดพลาดในการลบนักเรียน','copy-quiz-id-btn','.delete-svg-btn','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','ลบโปรเจคสำเร็จแล้ว','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','quiz-type-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','copy','bg-green-500','ไม่พบตารางสำหรับ\x20Export','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','(ไม่มีชื่อ)','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','totalQuestions','scores-tab-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','เกมสิ้นสุดลงแล้ว','next-question-timed-btn','COMEBACK_KING','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','176hXLegn','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','5jCzpnD','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','student-quiz-leaderboard-table-body','font-bold\x20text-red-700\x20line-through','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','true_false','adaptive-quiz-checkbox','\x20ข้อ,\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','substring','reduce','td,\x20th','touchstart','project-name-input','คัดลอกแบบทดสอบสำเร็จ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20fetching\x20quiz\x20settings:','projectId','fa-user-astronaut\x20text-blue-700','quiz-schedule-start-container','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','textarea','results-quiz-id-display','Error\x20deleting\x20quiz:','explanation','timer-duration-container','toFixed','insertAdjacentHTML','submit','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','toDate','score-distribution-chart','ไม่ผ่าน','กำลังสร้างแบบทดสอบจากหัวข้อ...','topic-input-area','สอบปกติ','กรุณาใส่ชื่อนักเรียน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','18931xFCCvF','manage-tab','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','manual_release','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','blockReason','closest','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','live-short-answer-input','เปลี่ยนชื่อแบบทดสอบสำเร็จ','2-digit','correctResponse','Error\x20fetching\x20project\x20quizzes:','result','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','active','http://www.w3.org/2000/svg','student-initial-view','stringify','บันทึกการตั้งค่าสำเร็จ','from','Enter','questionStatus','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','finishReason','export-leaderboard-pdf-btn','</li>','bg-blue-100\x20text-blue-800','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ข้อต่อไป','body','dispatchEvent','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','password-error-msg','quizId','/public/data/quizzes/','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','FIRST_TRY_ACE','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','691200frDkyK','generate-from-topic-btn','raw','map','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','bg-green-200\x20text-green-800','.doc','round','log','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','Error\x20showing\x20quiz\x20detail\x20view:','เกิดข้อผิดพลาดในการอ่านไฟล์','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','hidden','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','1:274192258111:web:4120c9118229b5644dd48a','modal-close-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.live-answer-btn','modal-timer-mode-select','จากหัวข้อ\x20','font-bold\x20text-green-700','results-tab-content','all','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','mousedown','type','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','prev-question-btn','[data-is-correct=\x22true\x22]','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','QUICK_THINKER','length','input[name=\x22status-option\x22]','text/csv;charset=utf-8;','draggable-text','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','global-quiz-list','defaultNumQuestions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','players.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','live-submit-short-answer-btn','true','editable-quiz-topic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<option\x20value=\x22','quizType','none',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','podium','teacherSuggestions','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ai-quiz-app-aefee','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</option>','modal-passing-score-input','ไม่มี','click','back-to-project-btn','results_','toggle','originalTopic','quiz-results-view','start-live-race-generated-btn','<p><strong>คำตอบของคุณ:</strong>\x20','json','ตั้งเวลา\x20(เปิด)','document','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','mousemove','.png','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','leaderboard_','กำลังดึงข้อมูลจากลิงก์...','project-sort-select','N/A','กรุณาป้อนหัวข้อก่อน','presentation-slide-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','ท็อปฟอร์ม','button[type=\x22submit\x22]','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','after','next-question-btn','latestScore','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','save-settings-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','G-V90KRM0L63','index','confirm-global-live-btn','classList','/questionBank','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','topic-input','move-quiz-modal','bar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','set','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','student-quiz-leaderboard-tab','pointsLastQuestion','ไม่มีคำอธิบาย','generated-quiz-actions','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','slide-counter','<p\x20class=\x22','BOOLEAN','MathJax','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','results-table-container','helvetica','scores','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','กรุณาเลือกชื่อของคุณ','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','target','exitFullscreen','manage-tab-content','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','/studentProfiles','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','timer-container','q-image-container-','option','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','key','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','text-input-area','\x20ใหม่...','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','get','results','quiz-results-table-body','forEach','quiz-search-input','join','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','</span></div>','student-quiz-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','mouseleave','ไม่สามารถโหลดรายการโปรเจคได้','<p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','contentEditable','application/pdf','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','.move-quiz-btn','red','currentTarget','\x20จาก\x20','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','isAdaptive','leaderboard-quiz-tab-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','modal-timer-duration-input','quiz-generation-area','(คัดลอก)\x20','Error\x20listening\x20for\x20student\x20profiles:','NUMBER','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','content','2741','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','#F59E0B','getScreenCTM','presentation-short-answer-input','ARRAY','text-blue-700\x20bg-blue-100','quiz-leaderboard-table-container','title','bg-green-300','starred-project','nickname-input','/submissions','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงานที่พิมพ์ได้\x20จำนวน\x20','project-quizzes-list','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','admin-password-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ยังไม่ส่ง','Invalid\x20response\x20structure\x20from\x20AI:','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-create-project-btn','presentation-explanation','_opt1\x22\x20name=\x22question','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','00:00','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','</td>','toString','delete-svg-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','border-green-300\x20bg-green-50','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','student-project-leaderboard-content','cancel-test-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ใช่','```','.score','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','แบบทดสอบไม่มีชื่อ','toDataURL','leaderboard-table-body','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','สลับไปโหมดนักเรียน','rename-quiz-modal','next-live-question-btn','passing-score-input','Error\x20fetching\x20quiz\x20status:','link-tab','Error\x20adding\x20students:','project-detail-view','คัดลอกไม่สำเร็จ','admin-dashboard','mode-switcher-btn','allResponses','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','parts','href','.copy-quiz-id-list-btn','input[type=\x22radio\x22]:checked','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.quiz-status-btn','แบบทดสอบจากคลังส่วนตัว','สร้างคำถามแบบใช่/ไม่ใช่\x20','sort','ระยะเวลา\x20(วินาที):','opacity-50','หมดเวลาสำหรับข้อนี้!','bank-tab','points','touchend','q-explanation-','create-project-modal','application/json','เกิดข้อผิดพลาดในการบันทึก','Error\x20starting\x20live\x20race:','_opt1\x22>ไม่ใช่</label></div>','generate-from-link-btn','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.quiz-result-card','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','th-TH','user','<div\x20id=\x22q-image-container-','MathJax\x20typeset\x20error\x20(analytics):','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','#10B981','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','on_fire','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','สร้างแบบทดสอบ\x20','timerDuration','quiz-id-input','.pdf','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','worksheet-input-area','<h1></h1>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','fa-crown\x20text-yellow-500','currentQuestionIndex','update','isCorrect','admin-action-buttons','generated-quiz-container','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','8ECrmxf','project-detail','ไม่สามารถบันทึกการตั้งค่าได้','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','ไม่สามารถเริ่มเกมได้','removeEventListener','onload','cancel-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','confirm-quiz-status-btn','เกิดข้อผิดพลาดในการติดดาว','querySelector','admin-testing','totalPoints','\x22\x20name=\x22question','</h3>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','Authentication\x20failed:','project-id-display','fa-pen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','analyze-strengths-btn','เกี่ยวกับหัวข้อ\x20\x22','bank-input-area','.admin-try-quiz-list-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','endTime','values','idealAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','perseverance','Error\x20loading\x20quiz\x20for\x20student:','quiz-results','POST','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','schedule','เกิดข้อผิดพลาดในการสร้างใบงาน','-tab','<li>','name_asc','cancel-move-quiz-btn','fa-rocket\x20text-purple-500','1460oAqYWl','</span></td>','\x22.\x20Ideal\x20Answer:\x20\x22','score','confirmation-message','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','now','กรุณาวางเนื้อหาก่อน','#ffffff','shuffle-setting-select','random','topic','</div><div\x20class=\x22space-y-2\x22>','quiz-editor-modal','destroy','Invalid\x20response\x20structure\x20from\x20AI.','find','fill_in_the_blank','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','Original\x20quiz\x20not\x20found','fa-bolt\x20text-blue-500','ไม่สามารถเพิ่มนักเรียนได้','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','analytics','text-green-600','add','multiple_choice','.\x20แต่ละข้อมี\x20','students','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','API\x20call\x20failed','back-to-home-manual-release','dataset','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','กำลังสร้างคำถามข้อ\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x20ตัวเลือก.\x20','.regenerate-question-btn','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว\x20ตัวอย่างเช่น\x20\x27ผลลัพธ์ของ\x20$3^2\x20\x5ctimes\x203^4$\x20คืออะไร\x27\x20หรือ\x20\x27คำตอบคือ\x20$3^{2+4}\x20=\x203^6$\x27\x20กฎเพิ่มเติม:\x201.\x20ใช้\x20`\x5ctimes`\x20สำหรับการคูณ\x20และ\x20`\x5cdiv`\x20สำหรับการหารเสมอ\x20ห้ามใช้คำอื่น\x202.\x20ตรวจสอบให้แน่ใจว่าวงเล็บปีกกา\x20`{}`\x20ทั้งหมดมีการเปิดและปิดที่ถูกต้อง\x203.\x20ห้ามใส่เครื่องหมายดอลลาร์ซ้อนกันหรือครอบแต่ละสัญลักษณ์เด็ดขาด\x20ให้ครอบทั้งนิพจน์เท่านั้น','สอบซ่อม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','ไม่พบแบบทดสอบสำหรับรหัสนี้','ส่งคำตอบ','.delete-student-btn','uid','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-50','countdown-display','export-excel-btn','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','trim','cancel-admin-login-btn','parseFromString','docs','_blank','export-pdf-btn','\x22\x20value=\x22','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','name','confirmation-modal','shuffle','presentation-ai-result','cancel-delete-btn','studentName','\x5cdiv','end-game-btn','toISOString','resultsDisplay','Error\x20saving\x20submission:','attempts','.delete-quiz-btn','ownerSVGElement','student-result-area','</p>','#student-quiz-leaderboard-content\x20thead','file-tab','delete-all-students-btn','#per-question-options\x20select','rgba(79,\x2070,\x20229,\x200.8)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','เซียนสมองไว','starred','ลบแบบทดสอบสำเร็จแล้ว','onerror','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','274192258111','เปิด\x20(จับเวลา)','.draggable-text','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','Error\x20creating\x20project:','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','89538YSJrPO','toLowerCase','join-live-game-btn','</form>','#student-project-leaderboard-content\x20thead','แบบทดสอบนี้หมดเวลาแล้ว','candidates','กรุณาป้อนรหัสแบบทดสอบ','/public/data/projects','ไม่พบโปรเจค','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','disabled','confirm-rename-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','createdAt','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนคู่:','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','empty','mouseup','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','student-join-game-view','fill','create-from-bank-btn','options','include-images-checkbox','บันทึกการแก้ไขสำเร็จ','text-green-600\x20font-bold','whole_quiz','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','export-leaderboard-image-btn','leaderboard-quiz-tab-content','jspdf','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','.\x20ให้มี\x20','replace','strength-weakness-analysis-container','onclick','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','focus','qType','answer','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyup','modal-shuffle-select','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','game-pin-input','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','false','text-white','addEventListener','\x22\x20name=\x22question_single\x22\x20value=\x22','close-presentation-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','class','setAttribute','/public/data/projects/','\x0a---\x0a','\x20ข้อ\x20','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','ผ่าน','สร้างแบบทดสอบปรนัย\x20','quiz-editor-questions-container','จากเนื้อหาต่อไปนี้:\x20\x22','save-quiz-edits-btn','correctStreak','startTime','num-questions','typesetPromise','rows','timer-duration-label','touchcancel','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','exists','live-game','คำตอบผิด','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','/public/data/liveGames','undefined','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','admin-view','export-leaderboard-excel-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-end-container','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22>ไม่ใช่</p>','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','originalQuestionText','คำตอบถูกต้อง!\x20+','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','Error\x20saving\x20quiz:','style','<div\x20class=\x22flex-1\x22></div>','live-options-container','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','promptFeedback'];_0x72c2=function(){return _0x4f6bb3;};return _0x72c2();}async function confirmQuizSettings(){const _0x3631de=_0x11059a;if(!actionTargetId)return;const _0x44eed4=doc(db,'artifacts/'+appId+_0x3631de(0x3b8),actionTargetId),_0xf39d70={'shuffle':document[_0x3631de(0x3e8)](_0x3631de(0x361))[_0x3631de(0x43e)],'resultsDisplay':document['getElementById']('modal-results-display-select')['value'],'timerMode':document[_0x3631de(0x3e8)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x3631de(0x3e8)]('modal-timer-duration-input')[_0x3631de(0x43e)])||0xa,'passingScore':parseInt(document['getElementById'](_0x3631de(0x187))[_0x3631de(0x43e)])||0x0,'passingScore':parseInt(document['getElementById'](_0x3631de(0x187))[_0x3631de(0x43e)])||0x0,'isAdaptive':document[_0x3631de(0x3e8)]('modal-adaptive-quiz-checkbox')[_0x3631de(0x3f9)]};try{await updateDoc(_0x44eed4,{'settings':_0xf39d70}),showMessage(_0x3631de(0x124)),quizSettingsModal[_0x3631de(0x1b3)][_0x3631de(0x2d6)](_0x3631de(0x149)),actionTargetId=null;}catch(_0x35733d){console[_0x3631de(0xba)]('Error\x20updating\x20quiz\x20settings:',_0x35733d),showMessage(_0x3631de(0x263));}}async function handleQuizStatus(_0x1545b2){const _0x1194c5=_0x11059a;actionTargetId=_0x1545b2;const _0xa9695=doc(db,_0x1194c5(0x2a0)+appId+'/public/data/quizzes',_0x1545b2);try{const _0xf6d7fe=await getDoc(_0xa9695);if(_0xf6d7fe['exists']()){const _0x2d646b=_0xf6d7fe[_0x1194c5(0x41f)](),_0x1ee68a=_0x2d646b[_0x1194c5(0x3cb)]||'active',_0x38fc73=document[_0x1194c5(0x3e8)](_0x1194c5(0x423)),_0x52f816=document['getElementById'](_0x1194c5(0xf0)),_0x571d00=document[_0x1194c5(0x3e8)](_0x1194c5(0x38e));let _0x226005=_0x1194c5(0x109)+(_0x1ee68a===_0x1194c5(0x120)?_0x1194c5(0x3f9):'')+_0x1194c5(0x21f)+(_0x1ee68a==='inactive'?_0x1194c5(0x3f9):'')+_0x1194c5(0x3d2)+(_0x1ee68a===_0x1194c5(0x50c)?'checked':'')+_0x1194c5(0x225);_0x38fc73[_0x1194c5(0x43c)]=_0x226005;const _0x59d9d5=_0x1ee68a===_0x1194c5(0x50c);_0x52f816[_0x1194c5(0x1b3)]['toggle'](_0x1194c5(0x149),!_0x59d9d5),_0x571d00['classList'][_0x1194c5(0x18c)]('hidden',!_0x59d9d5),document['getElementById'](_0x1194c5(0x4a6))[_0x1194c5(0x43e)]=_0x2d646b[_0x1194c5(0x37b)]?_0x2d646b[_0x1194c5(0x37b)][_0x1194c5(0xe5)](0x0,0x10):'',document[_0x1194c5(0x3e8)]('quiz-end-time')[_0x1194c5(0x43e)]=_0x2d646b[_0x1194c5(0x2a6)]?_0x2d646b[_0x1194c5(0x2a6)][_0x1194c5(0xe5)](0x0,0x10):'',_0x38fc73[_0x1194c5(0x4b4)](_0x1194c5(0x165))['forEach'](_0x2a91c4=>{const _0x890c5b=_0x1194c5;_0x2a91c4[_0x890c5b(0x368)](_0x890c5b(0x4cb),_0x4e156f=>{const _0xb82336=_0x890c5b,_0x3e42ea=_0x4e156f[_0xb82336(0x1d2)][_0xb82336(0x43e)]===_0xb82336(0x2b1);_0x52f816['classList']['toggle']('hidden',!_0x3e42ea),_0x571d00[_0xb82336(0x1b3)]['toggle']('hidden',!_0x3e42ea);});}),quizStatusModal[_0x1194c5(0x1b3)][_0x1194c5(0x422)]('hidden');}}catch(_0x44abc){console[_0x1194c5(0xba)](_0x1194c5(0x246),_0x44abc),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x2e1b0c=_0x11059a;if(!actionTargetId)return;const _0x219b3b=doc(db,_0x2e1b0c(0x2a0)+appId+_0x2e1b0c(0x3b8),actionTargetId),_0x3ef05c=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x3ef05c){showMessage(_0x2e1b0c(0x424));return;}const _0xdaa7eb=_0x3ef05c[_0x2e1b0c(0x43e)];let _0xdaf1ec={};if(_0xdaa7eb===_0x2e1b0c(0x120)||_0xdaa7eb==='inactive')_0xdaf1ec={'status':_0xdaa7eb,'startTime':null,'endTime':null};else{if(_0xdaa7eb==='schedule'){const _0x51c6fa=document[_0x2e1b0c(0x3e8)]('quiz-start-time')[_0x2e1b0c(0x43e)],_0x50a22e=document[_0x2e1b0c(0x3e8)]('quiz-end-time')[_0x2e1b0c(0x43e)];if(!_0x51c6fa&&!_0x50a22e){showMessage(_0x2e1b0c(0x1d1));return;}_0xdaf1ec={'status':_0x2e1b0c(0x50c),'startTime':_0x51c6fa?new Date(_0x51c6fa)[_0x2e1b0c(0x30f)]():null,'endTime':_0x50a22e?new Date(_0x50a22e)[_0x2e1b0c(0x30f)]():null};}}try{await updateDoc(_0x219b3b,_0xdaf1ec),showMessage(_0x2e1b0c(0x4b6)),quizStatusModal[_0x2e1b0c(0x1b3)][_0x2e1b0c(0x2d6)](_0x2e1b0c(0x149)),actionTargetId=null;}catch(_0x31a993){console[_0x2e1b0c(0xba)](_0x2e1b0c(0x3dd),_0x31a993),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x487052){const _0x5dead4=_0x11059a,_0x1ff7f6=collection(db,_0x5dead4(0x2a0)+appId+_0x5dead4(0x370)+_0x487052+_0x5dead4(0x1d7));unsubscribeStudentProfilesListener=onSnapshot(_0x1ff7f6,_0xb54b3a=>{const _0x21f66a=_0x5dead4,_0x99afc8=_0xb54b3a[_0x21f66a(0x301)][_0x21f66a(0x13c)](_0x56c9f4=>_0x56c9f4['data']());renderLeaderboard(_0x99afc8,_0x21f66a(0x23e));},_0x481b50=>{const _0x3ef0aa=_0x5dead4;console[_0x3ef0aa(0xba)](_0x3ef0aa(0x209),_0x481b50),document['getElementById'](_0x3ef0aa(0x23e))[_0x3ef0aa(0x43c)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x3ee9f3,_0x38e3f6){const _0xd4da97=_0x11059a,_0x3dfabc=document['getElementById'](_0x38e3f6);if(!_0x3ee9f3||_0x3ee9f3[_0xd4da97(0x164)]===0x0){_0x3dfabc[_0xd4da97(0x43c)]=_0xd4da97(0x1af);return;}_0x3ee9f3[_0xd4da97(0x259)]((_0x141cea,_0x588981)=>{const _0x1cafe0=_0xd4da97,_0x148a8a=(_0x588981[_0x1cafe0(0x298)]||0x0)-(_0x141cea[_0x1cafe0(0x298)]||0x0);if(_0x148a8a!==0x0)return _0x148a8a;const _0x4bfdf2=(_0x588981[_0x1cafe0(0x4a1)]?.[_0x1cafe0(0x427)]||0x0)-(_0x141cea[_0x1cafe0(0x4a1)]?.[_0x1cafe0(0x427)]||0x0);if(_0x4bfdf2!==0x0)return _0x4bfdf2;const _0x1f262d=(_0x588981[_0x1cafe0(0x4a1)]?.[_0x1cafe0(0xfa)]||0x0)-(_0x141cea['badgesCount']?.[_0x1cafe0(0xfa)]||0x0);if(_0x1f262d!==0x0)return _0x1f262d;const _0x24a07e=(_0x588981[_0x1cafe0(0x4a1)]?.['perfect_score']||0x0)-(_0x141cea['badgesCount']?.[_0x1cafe0(0x41d)]||0x0);if(_0x24a07e!==0x0)return _0x24a07e;const _0xf154af=(_0x588981['badgesCount']?.[_0x1cafe0(0x4d5)]||0x0)-(_0x141cea[_0x1cafe0(0x4a1)]?.[_0x1cafe0(0x4d5)]||0x0);if(_0xf154af!==0x0)return _0xf154af;return _0x141cea['studentName']['localeCompare'](_0x588981[_0x1cafe0(0x30c)],'th');});let _0x97f24d='';_0x3ee9f3['forEach']((_0xef40a5,_0x521df4)=>{const _0x44381a=_0xd4da97,_0x1d2046=_0x521df4+0x1,_0xb56597=_0xef40a5[_0x44381a(0x4a1)]||{};let _0x22c89b='';const _0x5bf452=['specialist',_0x44381a(0x41d),_0x44381a(0xfa),_0x44381a(0x4d5)];_0x5bf452[_0x44381a(0x1e9)](_0x4ce866=>{const _0x297647=_0x44381a;if(_0xb56597[_0x4ce866]>0x0){const _0x35f96a=Object['values'](BADGES)[_0x297647(0x2ca)](_0x3c1273=>_0x3c1273['id']===_0x4ce866);_0x35f96a&&(_0x4ce866===_0x297647(0x427)?_0x22c89b+=_0x297647(0x490)+_0x35f96a['name']+_0x297647(0x1f2)+_0x35f96a['icon']+_0x297647(0x14a):_0x22c89b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x35f96a[_0x297647(0x307)]+'\x20('+_0xb56597[_0x4ce866]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x35f96a['icon']+_0x297647(0x26f)+_0xb56597[_0x4ce866]+_0x297647(0x1e3));}}),_0x97f24d+=_0x44381a(0x403)+_0x1d2046+_0x44381a(0x4f0)+_0xef40a5[_0x44381a(0x30c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0xef40a5[_0x44381a(0x298)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x22c89b||'-')+_0x44381a(0x13d);}),_0x3dfabc['innerHTML']=_0x97f24d;}function renderQuizLeaderboard(_0x3e7e1,_0x55512d,_0x2a2cd5){const _0x3a2c7e=_0x11059a,_0x33d898=document[_0x3a2c7e(0x3e8)](_0x2a2cd5),_0x54fe13=_0x2a2cd5===_0x3a2c7e(0xdc),_0x4fc87c=_0x55512d['questions'][_0x3a2c7e(0x164)];if(!_0x3e7e1||_0x3e7e1[_0x3a2c7e(0x164)]===0x0){_0x33d898[_0x3a2c7e(0x43c)]='<tr><td\x20colspan=\x22'+(_0x54fe13?0x6:0x8)+_0x3a2c7e(0x24f);return;}_0x3e7e1[_0x3a2c7e(0x259)]((_0x2e5052,_0x3ca29d)=>{const _0xc97967=_0x3a2c7e;if(_0x3ca29d[_0xc97967(0x4b9)]!==_0x2e5052['bestScore'])return _0x3ca29d['bestScore']-_0x2e5052[_0xc97967(0x4b9)];return new Date(_0x2e5052[_0xc97967(0x3a6)])-new Date(_0x3ca29d[_0xc97967(0x3a6)]);});const _0x43e383=_0x55512d[_0x3a2c7e(0x3d7)]===!![],_0x2ab5ec=_0x55512d['settings']?.[_0x3a2c7e(0x526)]??-0x1;let _0x147b2d='';_0x3e7e1[_0x3a2c7e(0x1e9)]((_0x4a7962,_0x29f500)=>{const _0x39d2b=_0x3a2c7e,_0x5b6852=_0x29f500+0x1;let _0x563875=_0x39d2b(0x1dd);if(_0x43e383||_0x2ab5ec!==-0x1){let _0x14a278;_0x43e383?_0x14a278=_0x4a7962[_0x39d2b(0x4b9)]===_0x4fc87c:_0x14a278=_0x4a7962[_0x39d2b(0x4b9)]>=_0x2ab5ec;const _0xcf193c=_0x14a278?_0x39d2b(0x4a7):_0x39d2b(0x4a3),_0xf6d8f2=_0x14a278?'ผ่าน':'ไม่ผ่าน';_0x563875=_0x39d2b(0x411)+_0xcf193c+'\x22>'+_0xf6d8f2+_0x39d2b(0x2b9);}const _0x5cccdc=_0x4a7962[_0x39d2b(0x312)][_0x4a7962[_0x39d2b(0x312)][_0x39d2b(0x164)]-0x1],_0x255009=(_0x5cccdc['badges']||[])[_0x39d2b(0x13c)](_0x1ba5d7=>{const _0x2b4b38=_0x39d2b,_0x12f1f8=Object[_0x2b4b38(0x2a7)](BADGES)[_0x2b4b38(0x2ca)](_0x20f657=>_0x20f657['id']===_0x1ba5d7);return _0x12f1f8?'<span\x20title=\x22'+_0x12f1f8[_0x2b4b38(0x307)]+_0x2b4b38(0xb7)+_0x12f1f8[_0x2b4b38(0x3c6)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x147b2d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5b6852+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4a7962[_0x39d2b(0x30c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x4a7962[_0x39d2b(0x4b9)]+_0x39d2b(0x44f)+_0x4fc87c+_0x39d2b(0x15e)+_0x563875+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x4a7962[_0x39d2b(0x25e)]||0x0)+_0x39d2b(0x15e)+(_0x54fe13?'':_0x39d2b(0x1ac)+(_0x4a7962[_0x39d2b(0x312)]?.[_0x39d2b(0x164)]||0x1)+_0x39d2b(0x22c))+_0x39d2b(0x2db)+(_0x54fe13?'':_0x39d2b(0x2fc)+new Date(_0x4a7962[_0x39d2b(0x3a6)])[_0x39d2b(0x4ab)]('th-TH')+_0x39d2b(0x22c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x255009||'-')+_0x39d2b(0x13d);}),_0x33d898['innerHTML']=_0x147b2d;}async function handleLoadQuiz(){const _0x17bbdc=_0x11059a,_0x328f78=document['getElementById'](_0x17bbdc(0x278)),_0x3f6b57=_0x328f78[_0x17bbdc(0x43e)][_0x17bbdc(0x2fe)]();if(!_0x3f6b57){showMessage(_0x17bbdc(0x331));return;}loadQuizBtn[_0x17bbdc(0x33a)]=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x563758=doc(db,_0x17bbdc(0x2a0)+appId+_0x17bbdc(0x3b8),_0x3f6b57),_0x3e7a0d=await getDoc(_0x563758);if(!_0x3e7a0d[_0x17bbdc(0x384)]()){showMessage(_0x17bbdc(0x2f0));return;}currentQuizData=sanitizeQuizData({'id':_0x3e7a0d['id'],..._0x3e7a0d[_0x17bbdc(0x41f)]()});const _0x54f64b=currentQuizData[_0x17bbdc(0x3cb)]||'active',_0x442029=new Date();if(_0x54f64b==='inactive'){showMessage(_0x17bbdc(0x33e));return;}if(_0x54f64b==='scheduled'){const _0x203afc=currentQuizData[_0x17bbdc(0x37b)]?new Date(currentQuizData['startTime']):null,_0x861bf5=currentQuizData[_0x17bbdc(0x2a6)]?new Date(currentQuizData['endTime']):null;if(_0x203afc&&_0x442029<_0x203afc){showMessage(_0x17bbdc(0x1f6)+_0x203afc[_0x17bbdc(0x4ab)]('th-TH',{'hour12':![]}));return;}if(_0x861bf5&&_0x442029>_0x861bf5){showMessage(_0x17bbdc(0x32f));return;}}const _0x420abe=currentQuizData[_0x17bbdc(0xee)];currentProjectId=_0x420abe;const _0x2db4d2=doc(db,'artifacts/'+appId+'/public/data/projects',_0x420abe),_0x42f255=await getDoc(_0x2db4d2);if(!_0x42f255[_0x17bbdc(0x384)]()){showMessage(_0x17bbdc(0x2ae));return;}const _0x1cfc71=_0x42f255[_0x17bbdc(0x41f)]();currentStudentProjectData=_0x1cfc71,displayStudentNameSelector(_0x1cfc71['students'],currentQuizData[_0x17bbdc(0x2c5)]);}catch(_0x603186){console[_0x17bbdc(0xba)](_0x17bbdc(0x2ab),_0x603186),showMessage(_0x17bbdc(0x1e2));}finally{loadQuizBtn[_0x17bbdc(0x33a)]=![],loadQuizBtn[_0x17bbdc(0x43c)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x2e7f9a=_0x11059a,_0x304d22=document[_0x2e7f9a(0x3e8)](_0x2e7f9a(0x364)),_0x5c36f3=document[_0x2e7f9a(0x3e8)](_0x2e7f9a(0x218)),_0x4bcf88=document[_0x2e7f9a(0x3e8)](_0x2e7f9a(0xad)),_0x2b3100=_0x304d22[_0x2e7f9a(0x43e)][_0x2e7f9a(0x2fe)](),_0x33cf3d=_0x5c36f3[_0x2e7f9a(0x43e)][_0x2e7f9a(0x2fe)]();if(!_0x2b3100||!_0x33cf3d){showMessage(_0x2e7f9a(0x272));return;}_0x4bcf88[_0x2e7f9a(0x33a)]=!![],_0x4bcf88[_0x2e7f9a(0x43c)]=_0x2e7f9a(0x4a2);try{const _0x134a9b=collection(db,'artifacts/'+appId+_0x2e7f9a(0x388)),_0x18e7d1=query(_0x134a9b,where('gamePin','==',_0x2b3100),where(_0x2e7f9a(0x3cb),'==','lobby')),_0x37c398=await getDocs(_0x18e7d1);if(_0x37c398[_0x2e7f9a(0x346)]){showMessage(_0x2e7f9a(0x52b));return;}const _0x24b28a=_0x37c398[_0x2e7f9a(0x301)][0x0],_0x3e57ec=_0x24b28a[_0x2e7f9a(0x41f)]();currentLiveGameId=_0x24b28a['id'];const _0x4cc479=_0x3e57ec[_0x2e7f9a(0x133)],_0x15d17e=doc(db,_0x2e7f9a(0x2a0)+appId+_0x2e7f9a(0x3b8),_0x4cc479),_0x44278b=await getDoc(_0x15d17e);if(!_0x44278b[_0x2e7f9a(0x384)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData=sanitizeQuizData({'id':_0x44278b['id'],..._0x44278b[_0x2e7f9a(0x41f)]()});if(_0x3e57ec[_0x2e7f9a(0x42e)]&&_0x3e57ec[_0x2e7f9a(0x42e)][_0x33cf3d]){showMessage(_0x2e7f9a(0xd6));return;}const _0x3d1284={};_0x3d1284[_0x2e7f9a(0x171)+_0x33cf3d]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x2e7f9a(0x388),currentLiveGameId),_0x3d1284),currentStudentName=_0x33cf3d,listenForLiveGameUpdates();}catch(_0x3be241){console[_0x2e7f9a(0xba)](_0x2e7f9a(0x498),_0x3be241),showMessage(_0x2e7f9a(0x29b));}finally{_0x4bcf88[_0x2e7f9a(0x33a)]=![],_0x4bcf88[_0x2e7f9a(0x43c)]=_0x2e7f9a(0x233);}}function displayStudentNameSelector(_0x5b23b1,_0x3c1601){const _0x1aef2e=_0x11059a,_0x450b75=document[_0x1aef2e(0x3e8)]('student-name-select');document[_0x1aef2e(0x3e8)](_0x1aef2e(0x15a))[_0x1aef2e(0x373)]=_0x1aef2e(0x494)+_0x3c1601,!_0x5b23b1||_0x5b23b1[_0x1aef2e(0x164)]===0x0?(_0x450b75[_0x1aef2e(0x43c)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x1aef2e(0x33a)]=!![]):(_0x450b75[_0x1aef2e(0x43c)]=_0x1aef2e(0x2e1),_0x5b23b1[_0x1aef2e(0x1e9)](_0x1c6b6e=>{const _0x5e0409=_0x1aef2e,_0xed75e9=document[_0x5e0409(0x4cf)](_0x5e0409(0x1dc));_0xed75e9[_0x5e0409(0x43e)]=_0x1c6b6e,_0xed75e9[_0x5e0409(0x373)]=_0x1c6b6e,_0x450b75[_0x5e0409(0xa7)](_0xed75e9);}),startQuizBtn['disabled']=![]),studentInitialView[_0x1aef2e(0x1b3)][_0x1aef2e(0x2d6)](_0x1aef2e(0x149)),studentNameSelectionView['classList'][_0x1aef2e(0x422)](_0x1aef2e(0x149));}function shuffleArray(_0x1a2848){const _0x4cd153=_0x11059a;for(let _0x15f3a6=_0x1a2848['length']-0x1;_0x15f3a6>0x0;_0x15f3a6--){const _0xfff203=Math[_0x4cd153(0x4bf)](Math[_0x4cd153(0x2c4)]()*(_0x15f3a6+0x1));[_0x1a2848[_0x15f3a6],_0x1a2848[_0xfff203]]=[_0x1a2848[_0xfff203],_0x1a2848[_0x15f3a6]];}}function getShuffledQuiz(_0x46c212){const _0x23b981=_0x11059a;let _0x5549a=JSON[_0x23b981(0x438)](JSON[_0x23b981(0x123)](_0x46c212));const _0x74e3dd=_0x5549a['settings']?.[_0x23b981(0x309)]||_0x23b981(0x17e);if(_0x74e3dd==='none')return _0x5549a;return(_0x74e3dd===_0x23b981(0x4ac)||_0x74e3dd==='both')&&shuffleArray(_0x5549a[_0x23b981(0xde)]),(_0x74e3dd==='choices_only'||_0x74e3dd==='both')&&_0x5549a['questions'][_0x23b981(0x1e9)](_0x50faf9=>{const _0xb7c12d=_0x23b981,_0x22786e=_0x50faf9['questionType']||_0x5549a['quizType'];if(_0x50faf9[_0xb7c12d(0x34c)]){let _0x1e9835=_0x50faf9[_0xb7c12d(0x34c)][_0xb7c12d(0x13c)]((_0x5c7e18,_0x2bd046)=>({'text':_0x5c7e18,'isCorrect':_0x2bd046===_0x50faf9[_0xb7c12d(0x1f7)]}));shuffleArray(_0x1e9835),_0x50faf9[_0xb7c12d(0x34c)]=_0x1e9835[_0xb7c12d(0x13c)](_0x10bb3e=>_0x10bb3e[_0xb7c12d(0x456)]),_0x50faf9[_0xb7c12d(0x1f7)]=_0x1e9835[_0xb7c12d(0x436)](_0xc89055=>_0xc89055['isCorrect']);}_0x22786e===_0xb7c12d(0x107)&&_0x50faf9['allResponses']&&shuffleArray(_0x50faf9['allResponses']);}),_0x5549a;}function displayQuizForStudent(_0xa89d04){const _0x2ca3eb=_0x11059a;studentQuizArea[_0x2ca3eb(0x1b3)][_0x2ca3eb(0x422)](_0x2ca3eb(0x149)),currentDisplayedQuiz=getShuffledQuiz(_0xa89d04);const _0x560374=currentDisplayedQuiz[_0x2ca3eb(0x467)]?.[_0x2ca3eb(0x39f)]||_0x2ca3eb(0x17e);if(_0x560374===_0x2ca3eb(0x350))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2ca3eb(0x467)][_0x2ca3eb(0x277)]);else _0x560374===_0x2ca3eb(0x4e7)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1cc387=_0x11059a;let _0x432da5=_0x1cc387(0x2bf)+currentDisplayedQuiz['topic']+_0x1cc387(0x168)+(currentMode==='admin-testing'?_0x1cc387(0x417):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x1cc387(0xde)][_0x1cc387(0x1e9)]((_0x445e63,_0x114c10)=>{const _0x2f6b5d=_0x1cc387,_0xb88178=_0x445e63['questionType']||currentDisplayedQuiz[_0x2f6b5d(0x17d)];_0x432da5+=_0x2f6b5d(0x21b);_0xb88178===_0x2f6b5d(0x107)?_0x432da5+=_0x2f6b5d(0x1d5)+(_0x114c10+0x1)+'.\x20'+_0x445e63[_0x2f6b5d(0x49a)]+_0x2f6b5d(0x2a5)+_0x114c10+_0x2f6b5d(0x204)+_0x445e63['allResponses']['map'](_0x41e584=>_0x2f6b5d(0x17c)+_0x41e584+'\x22>'+_0x41e584+_0x2f6b5d(0x186))[_0x2f6b5d(0x1eb)]('')+_0x2f6b5d(0x231):(_0x432da5+=_0x2f6b5d(0x1f5)+(_0x114c10+0x1)+'.\x20'+(_0x445e63['instructions']||_0x445e63[_0x2f6b5d(0x4dd)])+_0x2f6b5d(0x316),_0x445e63[_0x2f6b5d(0xb2)]&&(_0x432da5+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x445e63['imageCode']+'</div>'));_0x432da5+=_0x2f6b5d(0x2c6);switch(_0xb88178){case'short_answer':_0x432da5+=_0x2f6b5d(0x3f8)+_0x114c10+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x2f6b5d(0xe0):_0x432da5+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x114c10+_0x2f6b5d(0x46c)+_0x114c10+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x114c10+_0x2f6b5d(0x4f2),_0x432da5+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x114c10+_0x2f6b5d(0x228)+_0x114c10+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x114c10+_0x2f6b5d(0x265);break;case _0x2f6b5d(0x107):break;case'fill_in_the_blank':case _0x2f6b5d(0x2d7):default:_0x432da5+=_0x445e63[_0x2f6b5d(0x34c)][_0x2f6b5d(0x13c)]((_0x4f5892,_0x1a890c)=>_0x2f6b5d(0x392)+_0x114c10+_0x2f6b5d(0x45d)+_0x1a890c+_0x2f6b5d(0x299)+_0x114c10+'\x22\x20value=\x22'+_0x1a890c+_0x2f6b5d(0x450)+_0x114c10+_0x2f6b5d(0x45d)+_0x1a890c+'\x22>'+_0x4f5892+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x2f6b5d(0x1eb)]('');break;}_0x432da5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x432da5+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x432da5+=_0x1cc387(0x32d),studentQuizArea[_0x1cc387(0x43c)]=_0x432da5;if(currentMode==='admin-testing'){const _0x4eead5=document['getElementById'](_0x1cc387(0x235));if(_0x4eead5)_0x4eead5['addEventListener'](_0x1cc387(0x189),cancelAdminTest);}document[_0x1cc387(0x3e8)](_0x1cc387(0x448))['addEventListener'](_0x1cc387(0xf9),handleSubmitQuiz);if(window[_0x1cc387(0x1c8)])window[_0x1cc387(0x1c8)][_0x1cc387(0x37d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4cdf45){const _0x556a73=_0x11059a;if(_0x4cdf45)_0x4cdf45[_0x556a73(0x3ac)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2f3d1a=document[_0x556a73(0x3e8)](_0x556a73(0x448));if(!_0x2f3d1a)return;const _0x42d692=_0x2f3d1a['querySelector'](_0x556a73(0x1a7)),_0x2025ec=currentDisplayedQuiz['questions'][_0x556a73(0x508)](_0x41c335=>_0x41c335[_0x556a73(0x31d)]===_0x556a73(0x3c5));_0x42d692&&(_0x42d692['disabled']=!![],_0x2025ec?_0x42d692['innerHTML']=_0x556a73(0x4db):_0x42d692[_0x556a73(0x43c)]=_0x556a73(0x428));const _0x350b70=new FormData(_0x2f3d1a),_0x2840d3=currentDisplayedQuiz[_0x556a73(0xde)][_0x556a73(0x13c)]((_0x485be5,_0x36b7cd)=>{const _0x30d58e=_0x556a73,_0x1a420d=_0x485be5[_0x30d58e(0x31d)]||currentDisplayedQuiz[_0x30d58e(0x17d)],_0x3cbbbb=_0x350b70[_0x30d58e(0x1e6)](_0x30d58e(0x452)+_0x36b7cd);if(_0x3cbbbb!==null&&_0x3cbbbb!==undefined){if(_0x1a420d===_0x30d58e(0x2d7)||_0x1a420d===_0x30d58e(0x2cb))return parseInt(_0x3cbbbb);return _0x3cbbbb;}return null;}),_0x1885dc=currentQuizData['id'],_0x442a88=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1885dc+_0x556a73(0x219),currentStudentName),_0x5dfe31=await getDoc(_0x442a88),_0x217241=_0x5dfe31[_0x556a73(0x384)]()?_0x5dfe31['data']():{},_0x3dcf1d=_0x217241[_0x556a73(0x312)]||[];await processAndSubmitAnswers(_0x2840d3,_0x3dcf1d);}async function gradeShortAnswerWithAI(_0x31639a,_0x1ed043){const _0x4cbe91=_0x11059a;if(!_0x31639a||!_0x1ed043)return![];try{const _0xe54438=_0x4cbe91(0x1bf)+_0x31639a+_0x4cbe91(0x2ba)+_0x1ed043+_0x4cbe91(0x507),_0x1990af={'contents':[{'role':_0x4cbe91(0x26c),'parts':[{'text':_0xe54438}]}]},_0x181998=_0x4cbe91(0x3f6),_0x3f99a9=_0x4cbe91(0x2e3)+_0x181998,_0x4f8cb1=await fetch(_0x3f99a9,{'method':_0x4cbe91(0x2ad),'headers':{'Content-Type':_0x4cbe91(0x262)},'body':JSON[_0x4cbe91(0x123)](_0x1990af)});if(!_0x4f8cb1['ok'])throw new Error(_0x4cbe91(0x2de));const _0x51af3a=await _0x4f8cb1['json'](),_0x2715e7=_0x51af3a[_0x4cbe91(0x330)][0x0][_0x4cbe91(0x20c)][_0x4cbe91(0x250)][0x0][_0x4cbe91(0x456)][_0x4cbe91(0x2fe)]()[_0x4cbe91(0x32b)]();return _0x2715e7===_0x4cbe91(0x179);}catch(_0x3a3e75){return console[_0x4cbe91(0xba)]('AI\x20grading\x20failed:',_0x3a3e75),![];}}async function processAndSubmitAnswers(_0x208840,_0x353b36){const _0x66cacb=_0x11059a;let _0x13d1c1=0x0,_0x2eeb7c=0x0,_0x29f221=[];const _0x36cc2c=[],_0x5a9ae6=currentDisplayedQuiz[_0x66cacb(0xde)][_0x66cacb(0x164)];let _0x410913=0x0;const _0x2d6ee3=currentDisplayedQuiz[_0x66cacb(0xde)];for(let _0x2a722c=0x0;_0x2a722c<_0x2d6ee3['length'];_0x2a722c++){const _0x1f8333=_0x2d6ee3[_0x2a722c],_0x10e385=_0x208840[_0x2a722c],_0x7ae8a5=_0x1f8333[_0x66cacb(0x31d)]||currentDisplayedQuiz['quizType'];let _0x18eb17=![];if(_0x10e385!==null&&_0x10e385!=='')switch(_0x7ae8a5){case _0x66cacb(0x107):_0x18eb17=_0x10e385===_0x1f8333[_0x66cacb(0x11b)];break;case _0x66cacb(0xe0):const _0x497e84=_0x10e385===!![]||_0x10e385===_0x66cacb(0x179);_0x18eb17=_0x497e84===_0x1f8333[_0x66cacb(0x462)];break;case _0x66cacb(0x2cb):case _0x66cacb(0x2d7):default:_0x18eb17=Number(_0x10e385)===_0x1f8333[_0x66cacb(0x1f7)];break;case _0x66cacb(0x3c5):_0x18eb17=await gradeShortAnswer(_0x10e385,_0x1f8333);break;}_0x18eb17?(_0x13d1c1++,_0x410913++,_0x410913===0x3&&(_0x29f221[_0x66cacb(0x1cd)](BADGES[_0x66cacb(0x405)]['id']),_0x410913=0x0)):_0x410913=0x0,_0x36cc2c[_0x66cacb(0x1cd)]({'answer':_0x10e385,'isCorrect':_0x18eb17,'originalQuestionText':_0x1f8333[_0x66cacb(0x49a)]||_0x1f8333[_0x66cacb(0x4dd)]});}_0x2eeb7c=_0x13d1c1*0xa;_0x13d1c1===_0x5a9ae6&&_0x5a9ae6>0x0&&!currentDisplayedQuiz[_0x66cacb(0x3d7)]&&(_0x2eeb7c+=0x32,_0x29f221[_0x66cacb(0x1cd)](BADGES[_0x66cacb(0x48c)]['id']));const _0x123747=currentDisplayedQuiz[_0x66cacb(0x467)]?.['passingScore']??Math[_0x66cacb(0x4bf)](_0x5a9ae6/0x2),_0x262534=currentDisplayedQuiz[_0x66cacb(0x467)]?.['timerMode'];if(_0x262534===_0x66cacb(0x350)&&quizStartTime){const _0x425a89=(new Date()-quizStartTime)/0x3e8,_0x114941=currentDisplayedQuiz['settings'][_0x66cacb(0x277)]*0x3c;_0x13d1c1>=_0x123747&&_0x425a89<_0x114941/0x2&&(_0x2eeb7c+=0x14,_0x29f221['push'](BADGES[_0x66cacb(0x163)]['id']));}_0x353b36[_0x66cacb(0x164)]===0x0&&_0x13d1c1===_0x5a9ae6&&_0x5a9ae6>0x0&&_0x29f221[_0x66cacb(0x1cd)](BADGES[_0x66cacb(0x137)]['id']);if(_0x353b36[_0x66cacb(0x164)]>0x0){const _0xeb5d3e=_0x353b36[0x0][_0x66cacb(0x2bb)];if(_0xeb5d3e<_0x123747&&_0x13d1c1>=_0x123747){const _0x5af61d=_0x353b36[_0x66cacb(0x508)](_0x5747c5=>(_0x5747c5['badges']||[])['includes'](BADGES[_0x66cacb(0xd1)]['id']));!_0x5af61d&&_0x29f221['push'](BADGES[_0x66cacb(0xd1)]['id']);}}_0x353b36['length']===0x4&&_0x29f221[_0x66cacb(0x1cd)](BADGES['PERSEVERANCE']['id']);const _0x44bf21=currentDisplayedQuiz['settings'][_0x66cacb(0x310)];if(currentMode===_0x66cacb(0x297)){handleResultDisplay(_0x44bf21,_0x13d1c1,_0x2eeb7c,_0x29f221,_0x36cc2c,_0x5a9ae6);return;}const _0x5b4f46=currentQuizData['id'],_0x446682=doc(db,'artifacts/'+appId+_0x66cacb(0x134)+_0x5b4f46+_0x66cacb(0x219),currentStudentName);try{const _0x1ef11b=[..._0x353b36],_0x17d502={'score':_0x13d1c1,'points':_0x2eeb7c,'badges':_0x29f221,'submittedAt':new Date()['toISOString'](),'answers':_0x36cc2c};_0x1ef11b[_0x66cacb(0x1cd)](_0x17d502);const _0x3856ce=_0x1ef11b[0x0][_0x66cacb(0x2bb)],_0x1eebd7=Math['max'](..._0x1ef11b[_0x66cacb(0x13c)](_0x265b7d=>_0x265b7d[_0x66cacb(0x2bb)])),_0x1dcda1=_0x13d1c1,_0x1a0e9d=_0x17d502['submittedAt'];await setDoc(_0x446682,{'studentName':currentStudentName,'totalQuestions':_0x5a9ae6,'attempts':_0x1ef11b,'firstScore':_0x3856ce,'bestScore':_0x1eebd7,'latestScore':_0x1dcda1,'points':_0x2eeb7c,'latestSubmittedAt':_0x1a0e9d}),await updateStudentProfile(currentQuizData[_0x66cacb(0xee)],currentStudentName),handleResultDisplay(_0x44bf21,_0x13d1c1,_0x2eeb7c,_0x29f221,_0x36cc2c,_0x5a9ae6);}catch(_0x24c653){console['error'](_0x66cacb(0x311),_0x24c653),showMessage(_0x66cacb(0x518));}}async function updateStudentProfile(_0x4c23a0,_0x228a9c){const _0x3d87fa=_0x11059a,_0x360170=doc(db,'artifacts/'+appId+_0x3d87fa(0x370)+_0x4c23a0+_0x3d87fa(0x1d7),_0x228a9c);try{const _0x2e1d0c=query(collection(db,'artifacts/'+appId+_0x3d87fa(0x3b8)),where(_0x3d87fa(0xee),'==',_0x4c23a0)),_0x2df6c6=await getDocs(_0x2e1d0c),_0x323bc6=new Map(_0x2df6c6[_0x3d87fa(0x301)]['map'](_0xe64202=>[_0xe64202['id'],_0xe64202[_0x3d87fa(0x41f)]()])),_0x510a78=Array['from'](_0x323bc6[_0x3d87fa(0x431)]());await runTransaction(db,async _0x351444=>{const _0x40b0a3=_0x3d87fa;let _0x167933=0x0;const _0x1adce3={};let _0xf65c57=!![],_0x15a147=0x0,_0x4c8b75=0x0;for(const _0x58503e of _0x510a78){const _0x449f01=_0x323bc6[_0x40b0a3(0x1e6)](_0x58503e),_0x23217b=doc(db,_0x40b0a3(0x2a0)+appId+_0x40b0a3(0x134)+_0x58503e+_0x40b0a3(0x219),_0x228a9c),_0x553d8d=await _0x351444[_0x40b0a3(0x1e6)](_0x23217b);if(_0x553d8d[_0x40b0a3(0x384)]()){const _0x55284a=_0x553d8d[_0x40b0a3(0x41f)](),_0x27d3eb=_0x55284a[_0x40b0a3(0x312)]||[];if(_0x27d3eb[_0x40b0a3(0x164)]>0x0){const _0x1af838=_0x27d3eb[_0x40b0a3(0xe6)]((_0xa88c50,_0x1886c7)=>{const _0x23f4f8=_0x40b0a3;if(_0x1886c7['score']>_0xa88c50[_0x23f4f8(0x2bb)])return _0x1886c7;if(_0x1886c7[_0x23f4f8(0x2bb)]===_0xa88c50[_0x23f4f8(0x2bb)])return(_0x1886c7[_0x23f4f8(0x25e)]||0x0)>(_0xa88c50[_0x23f4f8(0x25e)]||0x0)?_0x1886c7:_0xa88c50;return _0xa88c50;},{'score':-0x1,'points':-0x1});_0x1af838[_0x40b0a3(0x2bb)]>-0x1&&(_0x167933+=_0x1af838[_0x40b0a3(0x25e)]||0x0,(_0x1af838['badges']||[])[_0x40b0a3(0x1e9)](_0x253de3=>{_0x1adce3[_0x253de3]=(_0x1adce3[_0x253de3]||0x0)+0x1;}));}}if(_0x449f01[_0x40b0a3(0x2c5)]!==_0x40b0a3(0x3ee)){_0x4c8b75++;if(_0x553d8d[_0x40b0a3(0x384)]()){_0x15a147++;const _0x1e297c=_0x553d8d[_0x40b0a3(0x41f)]();_0x1e297c['bestScore']!==_0x1e297c['totalQuestions']&&(_0xf65c57=![]);}else _0xf65c57=![];}}_0x4c8b75>0x0&&_0x15a147===_0x4c8b75&&_0xf65c57?_0x1adce3['specialist']=0x1:_0x1adce3[_0x40b0a3(0x427)]=0x0,_0x351444[_0x40b0a3(0x1bd)](_0x360170,{'studentName':_0x228a9c,'totalPoints':_0x167933,'unlockedBadges':Object[_0x40b0a3(0x431)](_0x1adce3)[_0x40b0a3(0x45b)](_0xce87f9=>_0x1adce3[_0xce87f9]>0x0),'badgesCount':_0x1adce3},{'merge':!![]});});}catch(_0x522e43){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x522e43),showMessage(_0x3d87fa(0x1b7));}}function startAdminTest(){const _0x14d149=_0x11059a;if(!currentQuizData){showMessage(_0x14d149(0x1e5));return;}let _0x3b31d4=JSON[_0x14d149(0x438)](JSON[_0x14d149(0x123)](currentQuizData));currentMode=_0x14d149(0x297),currentStudentName=_0x14d149(0x2e9),adminView[_0x14d149(0x1b3)][_0x14d149(0x2d6)]('hidden'),studentView[_0x14d149(0x1b3)]['remove'](_0x14d149(0x149)),studentInitialView[_0x14d149(0x1b3)][_0x14d149(0x2d6)](_0x14d149(0x149)),studentNameSelectionView[_0x14d149(0x1b3)]['add']('hidden'),studentResultArea['classList'][_0x14d149(0x2d6)](_0x14d149(0x149)),studentQuizArea[_0x14d149(0x1b3)][_0x14d149(0x422)](_0x14d149(0x149)),quizStartTime=new Date(),displayQuizForStudent(_0x3b31d4);}function handleResultDisplay(_0x498af4,_0x203428,_0x416449,_0x34453e,_0x4483d3,_0x576a09){const _0x4fb37c=_0x11059a,_0x192bf1=currentDisplayedQuiz[_0x4fb37c(0x467)]?.[_0x4fb37c(0x526)]??Math['floor'](_0x576a09/0x2),_0x33f836=currentDisplayedQuiz[_0x4fb37c(0x467)]?.[_0x4fb37c(0x202)]??![];if(_0x33f836&&_0x203428<_0x192bf1){startAdaptiveFlow(_0x4483d3,_0x203428,_0x576a09);return;}switch(_0x498af4){case _0x4fb37c(0x4e1):displayResultsWithAnswers(_0x203428,_0x416449,_0x34453e,_0x4483d3,_0x576a09);break;case'show_results_only':displayResultsScoreOnly(_0x203428,_0x416449,_0x34453e,_0x576a09);break;case _0x4fb37c(0x111):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x41e2e0,_0xfddbcd,_0x34631f){const _0x351146=_0x11059a,_0x576c48=_0x41e2e0['map']((_0x461b00,_0x5cf43e)=>({..._0x461b00,'originalQuestion':currentDisplayedQuiz[_0x351146(0xde)][_0x5cf43e]}))[_0x351146(0x45b)](_0x9d3b29=>!_0x9d3b29['isCorrect']&&_0x9d3b29[_0x351146(0x3d9)][_0x351146(0xf5)])[_0x351146(0x13c)](_0x22e899=>'-\x20'+_0x22e899[_0x351146(0x3d9)][_0x351146(0xf5)])['join']('\x0a');if(!_0x576c48){displayResultsScoreOnly(_0xfddbcd,0x0,[],_0x34631f);return;}studentQuizArea[_0x351146(0x1b3)][_0x351146(0x2d6)](_0x351146(0x149)),studentReadingArea[_0x351146(0x1b3)]['remove'](_0x351146(0x149)),studentReadingArea[_0x351146(0x43c)]=_0x351146(0x2d3);const _0x221e1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22'+currentDisplayedQuiz[_0x351146(0x2c5)]+_0x351146(0x355)+_0x576c48+_0x351146(0x523),_0xb7e87={'type':'OBJECT','properties':{'remedialContent':{'type':_0x351146(0x2be)}},'required':[_0x351146(0x4b5)]};try{const _0x28f2ee=await callAnalysisApi(_0x221e1f,_0xb7e87),_0xf1abd5=_0x28f2ee['remedialContent'];studentReadingArea[_0x351146(0x43c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0xf1abd5[_0x351146(0x358)](/\n/g,'<br>')+_0x351146(0x421),document[_0x351146(0x3e8)](_0x351146(0x433))[_0x351146(0x368)]('click',()=>generateRemedialQuiz(_0x576c48));}catch(_0x42e9b5){console[_0x351146(0xba)](_0x351146(0x510),_0x42e9b5),showMessage(_0x351146(0x1be)),displayResultsScoreOnly(_0xfddbcd,0x0,[],_0x34631f);}}async function generateRemedialQuiz(_0x5d5bf6){const _0x482aec=_0x11059a;studentReadingArea['innerHTML']=_0x482aec(0x3f0);const _0x19e432=_0x482aec(0xda)+_0x5d5bf6+_0x482aec(0x419),_0x52c3ac={'type':_0x482aec(0x108),'properties':{'questionText':{'type':_0x482aec(0x2be)},'options':{'type':'ARRAY','items':{'type':_0x482aec(0x2be)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x482aec(0x2be)}},'required':[_0x482aec(0x4dd),'options','correctAnswerIndex','explanation']},_0x1f7d0e={'type':_0x482aec(0x108),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x52c3ac}},'required':['topic','questions']};try{const _0x5d2a0a=await callAnalysisApi(_0x19e432,_0x1f7d0e);_0x5d2a0a[_0x482aec(0x3d7)]=!![],studentReadingArea[_0x482aec(0x1b3)][_0x482aec(0x2d6)](_0x482aec(0x149));const _0x134941={...currentDisplayedQuiz[_0x482aec(0x467)],'isAdaptive':![],'resultsDisplay':_0x482aec(0x4e1)};_0x5d2a0a[_0x482aec(0x467)]=_0x134941,displayQuizForStudent(_0x5d2a0a);}catch(_0x2e540e){console[_0x482aec(0xba)]('Remedial\x20quiz\x20generation\x20failed:',_0x2e540e),showMessage(_0x482aec(0xce)),showView('student');}}function cancelAdminTest(){const _0x362e59=_0x11059a;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x362e59(0x525),studentView['classList'][_0x362e59(0x2d6)](_0x362e59(0x149)),adminView[_0x362e59(0x1b3)]['remove'](_0x362e59(0x149)),showView('project-detail');}function setupResultScreenBackButton(){const _0x51ba51=_0x11059a,_0x181eb0='back-from-results-btn',_0x18729f=currentMode===_0x51ba51(0x297),_0x56f317=_0x18729f?_0x51ba51(0x157):_0x51ba51(0x39d),_0x49504d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x181eb0+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56f317+_0x51ba51(0x116);studentResultArea[_0x51ba51(0xf8)](_0x51ba51(0x524),_0x49504d),studentResultArea['querySelector'](_0x51ba51(0x483))['addEventListener']('click',handleShowStudentRankings),document[_0x51ba51(0x3e8)](_0x181eb0)[_0x51ba51(0x368)]('click',()=>{const _0x271785=_0x51ba51;_0x18729f?(currentMode=_0x271785(0x525),studentView['classList'][_0x271785(0x2d6)](_0x271785(0x149)),adminView['classList'][_0x271785(0x422)](_0x271785(0x149)),showView(_0x271785(0x28a))):(showView('student'),document[_0x271785(0x3e8)]('quiz-id-input')[_0x271785(0x43e)]='');});}function displayResultsWithAnswers(_0x5a74fc,_0x19ecd7,_0x249af0,_0xfc653e,_0x27e160){const _0x501d6d=_0x11059a,_0x1f21c1=_0x27e160>0x0?_0x5a74fc/_0x27e160*0x64:0x0,_0x54c175=currentDisplayedQuiz['settings']?.[_0x501d6d(0x526)]??-0x1,_0x1345fb=currentDisplayedQuiz[_0x501d6d(0x3d7)]===!![];let _0x37b380='';if(_0x1345fb||_0x54c175!==-0x1){let _0x3a152a=_0x1345fb?_0x5a74fc===_0x27e160:_0x5a74fc>=_0x54c175;const _0x258477=_0x3a152a?_0x501d6d(0x4a7):_0x501d6d(0x4a3),_0x1dbc9a=_0x3a152a?_0x501d6d(0x375):_0x501d6d(0xff);_0x37b380=_0x501d6d(0x135)+_0x258477+'\x22>'+_0x1dbc9a+_0x501d6d(0x316);}let _0x4a790d=_0x501d6d(0x44c)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x5a74fc+_0x501d6d(0x440)+_0x27e160+_0x501d6d(0x11e)+_0x37b380+_0x501d6d(0x197)+_0x19ecd7+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x1f21c1['toFixed'](0x0)+_0x501d6d(0x10f);currentDisplayedQuiz[_0x501d6d(0xde)]['forEach']((_0x3be690,_0x42c4fc)=>{const _0x58b7dc=_0x501d6d,_0x44c65d=_0xfc653e[_0x42c4fc],_0xe5f748=_0x44c65d[_0x58b7dc(0x35e)],_0x250beb=_0x44c65d[_0x58b7dc(0x283)],_0x3ea913=_0x3be690['questionType']||currentDisplayedQuiz[_0x58b7dc(0x17d)];_0x4a790d+=_0x58b7dc(0x1ed)+(_0x250beb?_0x58b7dc(0x232):_0x58b7dc(0x434))+_0x58b7dc(0x2f4)+(_0x42c4fc+0x1)+'.\x20'+(_0x3be690['stem']||_0x3be690[_0x58b7dc(0x4dd)])+_0x58b7dc(0x4ee);switch(_0x3ea913){case _0x58b7dc(0x107):const _0x5a6710=_0xe5f748||_0x58b7dc(0x2dc),_0xcac946=_0x3be690['correctResponse'];_0x4a790d+=_0x58b7dc(0x513)+(!_0x250beb?'line-through\x20text-red-700':'')+'\x22>'+_0x5a6710+_0x58b7dc(0xa2);!_0x250beb&&(_0x4a790d+=_0x58b7dc(0x2eb)+_0xcac946+_0x58b7dc(0x316));break;case'short_answer':_0x4a790d+=_0x58b7dc(0x190)+(_0xe5f748||_0x58b7dc(0x2dc))+_0x58b7dc(0x316),_0x4a790d+=_0x58b7dc(0x437)+_0x3be690[_0x58b7dc(0x2a8)]+_0x58b7dc(0x316);break;case _0x58b7dc(0xe0):_0x4a790d+=_0x58b7dc(0x1c6)+(_0x3be690[_0x58b7dc(0x462)]===!![]?_0x58b7dc(0x153):'')+'\x20'+(_0xe5f748===_0x58b7dc(0x179)&&!_0x250beb?_0x58b7dc(0x529):'')+_0x58b7dc(0x3b7),_0x4a790d+=_0x58b7dc(0x1c6)+(_0x3be690[_0x58b7dc(0x462)]===![]?_0x58b7dc(0x153):'')+'\x20'+(_0xe5f748===_0x58b7dc(0x366)&&!_0x250beb?_0x58b7dc(0x529):'')+_0x58b7dc(0x390);break;case _0x58b7dc(0x2cb):case _0x58b7dc(0x2d7):default:_0x4a790d+=_0x3be690[_0x58b7dc(0x34c)][_0x58b7dc(0x13c)]((_0x73ceb5,_0x4f3cee)=>{const _0x2c7d6c=_0x58b7dc;let _0x2b2f1d='',_0x36e8e4='';if(_0x4f3cee===_0x3be690['correctAnswerIndex'])_0x2b2f1d='font-bold\x20text-green-700',_0x36e8e4=_0x2c7d6c(0x184);else _0x4f3cee===_0xe5f748&&(_0x2b2f1d=_0x2c7d6c(0xdd),_0x36e8e4=_0x2c7d6c(0x460));return _0x2c7d6c(0x50f)+_0x2b2f1d+'\x22>'+_0x36e8e4+_0x73ceb5+'</div>';})[_0x58b7dc(0x1eb)]('');break;}_0x4a790d+=_0x58b7dc(0x3dc)+(_0x3be690[_0x58b7dc(0xf5)]||'ไม่มีคำอธิบาย')+_0x58b7dc(0x4c2);}),studentResultArea[_0x501d6d(0x43c)]=_0x4a790d,renderEarnedBadges(_0x249af0,_0x501d6d(0x1ef)),studentResultArea[_0x501d6d(0x1b3)][_0x501d6d(0x422)](_0x501d6d(0x149)),studentQuizArea[_0x501d6d(0x1b3)]['add'](_0x501d6d(0x149)),setupResultScreenBackButton();if(window[_0x501d6d(0x1c8)])window[_0x501d6d(0x1c8)][_0x501d6d(0x37d)]([studentResultArea]);}function displayResultsScoreOnly(_0x492089,_0x519410,_0x19cf46,_0xe4a546){const _0x28207f=_0x11059a,_0x599ee7=_0xe4a546>0x0?_0x492089/_0xe4a546*0x64:0x0,_0x3f53d2=currentDisplayedQuiz[_0x28207f(0x467)]?.[_0x28207f(0x526)]??-0x1,_0x4b7086=currentDisplayedQuiz[_0x28207f(0x3d7)]===!![];let _0x5d055d='';if(_0x4b7086||_0x3f53d2!==-0x1){let _0x25cdc3;_0x4b7086?_0x25cdc3=_0x492089===_0xe4a546:_0x25cdc3=_0x492089>=_0x3f53d2;const _0x36ff7a=_0x25cdc3?_0x28207f(0x4a7):'bg-red-100\x20text-red-800',_0x12a176=_0x25cdc3?_0x28207f(0x375):_0x28207f(0xff);_0x5d055d=_0x28207f(0x135)+_0x36ff7a+'\x22>'+_0x12a176+'</p>';}let _0xaf17c2=_0x28207f(0x3df)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x492089+_0x28207f(0x22b)+_0xe4a546+_0x28207f(0x11e)+_0x5d055d+_0x28207f(0x197)+_0x519410+_0x28207f(0x1bc)+_0x599ee7[_0x28207f(0xf7)](0x0)+_0x28207f(0x128);studentResultArea['innerHTML']=_0xaf17c2,renderEarnedBadges(_0x19cf46,_0x28207f(0x1ef)),studentResultArea[_0x28207f(0x1b3)][_0x28207f(0x422)](_0x28207f(0x149)),studentQuizArea['classList']['add'](_0x28207f(0x149)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x56c1d2=_0x11059a;let _0xe1b06=_0x56c1d2(0x4cd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x56c1d2(0x43c)]=_0xe1b06,studentResultArea[_0x56c1d2(0x1b3)]['remove']('hidden'),studentQuizArea[_0x56c1d2(0x1b3)][_0x56c1d2(0x2d6)](_0x56c1d2(0x149)),document[_0x56c1d2(0x3e8)](_0x56c1d2(0x2df))[_0x56c1d2(0x368)](_0x56c1d2(0x189),()=>{const _0x4579b0=_0x56c1d2;showView(_0x4579b0(0x45f)),document[_0x4579b0(0x3e8)](_0x4579b0(0x278))[_0x4579b0(0x43e)]='';});}function renderEarnedBadges(_0x51538a,_0x264481){const _0x11ee8b=_0x11059a,_0x16fcc2=document[_0x11ee8b(0x3e8)](_0x264481);if(!_0x16fcc2||!_0x51538a||_0x51538a[_0x11ee8b(0x164)]===0x0)return;let _0x443ca5='';_0x51538a[_0x11ee8b(0x1e9)]((_0xb67bdd,_0x234578)=>{const _0x79b2ad=_0x11ee8b,_0x13ca89=Object[_0x79b2ad(0x2a7)](BADGES)[_0x79b2ad(0x2ca)](_0x21d520=>_0x21d520['id']===_0xb67bdd);_0x13ca89&&(_0x443ca5+=_0x79b2ad(0x338)+_0x234578*0.2+_0x79b2ad(0x446)+_0x13ca89['description']+_0x79b2ad(0x172)+_0x13ca89[_0x79b2ad(0x3c6)]+_0x79b2ad(0x2dd)+_0x13ca89[_0x79b2ad(0x307)]+_0x79b2ad(0x3b0));}),_0x16fcc2[_0x11ee8b(0x43c)]=_0x443ca5;}function startPresentation(_0x475359){const _0x571b32=_0x11059a;currentQuizData=getShuffledQuiz(_0x475359),currentPresentationSlide=0x0,presentationModal[_0x571b32(0x397)][_0x571b32(0x4c8)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x23b4b5=_0x11059a;document[_0x23b4b5(0x40e)]&&document[_0x23b4b5(0x1d3)](),presentationModal['style'][_0x23b4b5(0x4c8)]='none';}function renderPresentationSlide(_0x3a5acd){const _0x39b530=_0x11059a,_0x2bac6e=document[_0x39b530(0x3e8)](_0x39b530(0x1a1));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x3a5acd]){_0x2bac6e[_0x39b530(0x43c)]=_0x39b530(0x506);return;}const _0x16edae=currentQuizData[_0x39b530(0xde)][_0x3a5acd],_0x245118=_0x16edae['questionType']||currentQuizData['quizType'];_0x2bac6e[_0x39b530(0x43c)]='';let _0x30f121=_0x39b530(0x4ba)+(_0x16edae[_0x39b530(0xb2)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x16edae[_0x39b530(0xb2)]+_0x39b530(0x3e3):'')+_0x39b530(0x2fb)+(_0x3a5acd+0x1)+'.\x20'+(_0x16edae[_0x39b530(0x49a)]||_0x16edae['questionText'])+_0x39b530(0x2ee);switch(_0x245118){case _0x39b530(0x107):_0x30f121+=_0x16edae['allResponses'][_0x39b530(0x13c)](_0x53cac1=>_0x39b530(0x36d)+_0x53cac1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case'true_false':_0x30f121+=_0x39b530(0x4ce),_0x30f121+=_0x39b530(0x500);break;case _0x39b530(0x9e):case'short_answer':_0x30f121+=_0x39b530(0x287);break;case _0x39b530(0x2cb):case _0x39b530(0x2d7):default:_0x30f121+=_0x16edae[_0x39b530(0x34c)][_0x39b530(0x13c)]((_0x1a6801,_0x2b3891)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2b3891+_0x39b530(0x38d)+_0x1a6801+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x39b530(0x1eb)]('');break;}_0x30f121+=_0x39b530(0x1b6)+(_0x16edae[_0x39b530(0xf5)]||_0x39b530(0x1c2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2bac6e[_0x39b530(0x43c)]=_0x30f121;if(window[_0x39b530(0x1c8)])window[_0x39b530(0x1c8)][_0x39b530(0x37d)]([_0x2bac6e]);document[_0x39b530(0x4b4)](_0x39b530(0x4c4))[_0x39b530(0x1e9)](_0x33c95a=>{const _0x4329b9=_0x39b530;_0x33c95a[_0x4329b9(0x368)](_0x4329b9(0x189),_0x1593ce=>revealAnswerForPresentation(_0x3a5acd,_0x1593ce[_0x4329b9(0x1ff)]));});const _0x1fcb36=document['getElementById'](_0x39b530(0x49c));_0x1fcb36&&_0x1fcb36[_0x39b530(0x368)](_0x39b530(0x189),()=>checkShortAnswerForPresentation(_0x3a5acd)),document[_0x39b530(0x3e8)](_0x39b530(0x1c5))[_0x39b530(0x373)]=_0x39b530(0x3e2)+(_0x3a5acd+0x1)+_0x39b530(0x44f)+currentQuizData['questions'][_0x39b530(0x164)],document[_0x39b530(0x3e8)](_0x39b530(0x160))[_0x39b530(0x33a)]=_0x3a5acd===0x0,document[_0x39b530(0x3e8)](_0x39b530(0x1aa))[_0x39b530(0x33a)]=_0x3a5acd===currentQuizData[_0x39b530(0xde)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x3fbaf9){const _0x4fefee=_0x11059a,_0x32b2de=currentQuizData[_0x4fefee(0xde)][_0x3fbaf9],_0x14b24e=document[_0x4fefee(0x3e8)](_0x4fefee(0x211)),_0x21d506=document[_0x4fefee(0x3e8)](_0x4fefee(0x49c)),_0x27e98f=document[_0x4fefee(0x3e8)](_0x4fefee(0x30a)),_0x5de32e=document[_0x4fefee(0x3e8)]('presentation-explanation');if(!_0x14b24e||!_0x21d506||!_0x27e98f||!_0x5de32e)return;const _0x5564e3=_0x14b24e['value'][_0x4fefee(0x2fe)]();if(_0x5564e3==='')return;_0x21d506['disabled']=!![],_0x21d506['innerHTML']=_0x4fefee(0xeb),_0x14b24e[_0x4fefee(0x33a)]=!![];const _0x596e18=await gradeShortAnswer(_0x5564e3,_0x32b2de);_0x596e18?_0x27e98f[_0x4fefee(0x43c)]=_0x4fefee(0x45e):_0x27e98f[_0x4fefee(0x43c)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x32b2de[_0x4fefee(0x2a8)]+')',_0x27e98f[_0x4fefee(0x1b3)][_0x4fefee(0x422)](_0x4fefee(0x149)),_0x5de32e[_0x4fefee(0x1b3)]['remove']('hidden'),_0x21d506[_0x4fefee(0x1b3)][_0x4fefee(0x2d6)]('hidden');}function revealAnswerForPresentation(_0x29905f,_0x15a090){const _0x1ffd49=_0x11059a,_0x122ce1=currentQuizData[_0x1ffd49(0xde)][_0x29905f],_0x534505=_0x122ce1['questionType']||currentQuizData[_0x1ffd49(0x17d)];document[_0x1ffd49(0x4b4)](_0x1ffd49(0x4c4))[_0x1ffd49(0x1e9)](_0x5eb610=>{const _0x2a4b0d=_0x1ffd49;_0x5eb610[_0x2a4b0d(0x33a)]=!![],_0x5eb610[_0x2a4b0d(0x1b3)][_0x2a4b0d(0x422)](_0x2a4b0d(0x51c));let _0x519e16=![];if(_0x534505===_0x2a4b0d(0x2d7)||_0x534505===_0x2a4b0d(0x2cb)){const _0x7bfa4c=parseInt(_0x5eb610[_0x2a4b0d(0x2e0)]['index']);_0x519e16=_0x7bfa4c===_0x122ce1[_0x2a4b0d(0x1f7)];}else{if(_0x534505===_0x2a4b0d(0xe0)){const _0x339a34=_0x5eb610[_0x2a4b0d(0x2e0)][_0x2a4b0d(0x35e)]===_0x2a4b0d(0x179);_0x519e16=_0x339a34===_0x122ce1[_0x2a4b0d(0x462)];}else _0x534505===_0x2a4b0d(0x107)&&(_0x519e16=_0x5eb610[_0x2a4b0d(0x373)][_0x2a4b0d(0x2fe)]()===_0x122ce1[_0x2a4b0d(0x11b)]);}_0x519e16?_0x5eb610['classList'][_0x2a4b0d(0x2d6)](_0x2a4b0d(0xc5),_0x2a4b0d(0x367),_0x2a4b0d(0x1e4)):_0x5eb610['classList'][_0x2a4b0d(0x2d6)](_0x2a4b0d(0x25b));}),_0x15a090[_0x1ffd49(0x1b3)][_0x1ffd49(0x422)](_0x1ffd49(0x25b));let _0x38596d=![];if(_0x534505==='multiple_choice')_0x38596d=parseInt(_0x15a090['dataset']['index'])===_0x122ce1[_0x1ffd49(0x1f7)];else{if(_0x534505==='true_false')_0x38596d=_0x15a090['dataset'][_0x1ffd49(0x35e)]===_0x1ffd49(0x179)===_0x122ce1[_0x1ffd49(0x462)];else _0x534505==='matching_item'&&(_0x38596d=_0x15a090[_0x1ffd49(0x373)]['trim']()===_0x122ce1[_0x1ffd49(0x11b)]);}!_0x38596d&&_0x15a090['classList']['add'](_0x1ffd49(0x4c0),'text-white','border-red-700'),document[_0x1ffd49(0x3e8)](_0x1ffd49(0x227))['classList'][_0x1ffd49(0x422)](_0x1ffd49(0x149));}function startWholeQuizTimer(_0x38e92e){const _0x17128f=_0x11059a,_0x4a8eaa=document[_0x17128f(0x3e8)](_0x17128f(0x1da));if(!_0x4a8eaa)return;const _0x537aa0=Date[_0x17128f(0x2c0)]()+_0x38e92e*0x3c*0x3e8;_0x4a8eaa['innerHTML']=_0x17128f(0x147);const _0x244f04=document['getElementById'](_0x17128f(0x2f8));quizTimerInterval=setInterval(()=>{const _0x5bb781=_0x17128f,_0x1d240f=_0x537aa0-Date[_0x5bb781(0x2c0)]();if(_0x1d240f<=0x0)clearInterval(quizTimerInterval),_0x244f04[_0x5bb781(0x373)]=_0x5bb781(0x22a),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x395dc5=Math[_0x5bb781(0x4bf)](_0x1d240f/0x3e8/0x3c%0x3c)[_0x5bb781(0x22d)]()['padStart'](0x2,'0'),_0x3a39ca=Math['floor'](_0x1d240f/0x3e8%0x3c)[_0x5bb781(0x22d)]()['padStart'](0x2,'0');_0x244f04[_0x5bb781(0x373)]=_0x395dc5+':'+_0x3a39ca;}},0x3e8);}function renderPerQuestionView(){const _0x182a34=_0x11059a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xb24274=currentDisplayedQuiz[_0x182a34(0xde)][currentQuestionIndex],_0x7b406=_0xb24274['questionType']||currentDisplayedQuiz[_0x182a34(0x17d)];let _0x58df91=_0x182a34(0x23b)+(currentQuestionIndex+0x1)+_0x182a34(0x200)+currentDisplayedQuiz[_0x182a34(0xde)][_0x182a34(0x164)]+_0x182a34(0x3a1)+(currentMode===_0x182a34(0x297)?_0x182a34(0x417):'')+_0x182a34(0xdf)+currentDisplayedQuiz[_0x182a34(0x2c5)]+_0x182a34(0x4aa)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x182a34(0x2f1):'คำถามถัดไป')+_0x182a34(0x363);studentQuizArea[_0x182a34(0x43c)]=_0x58df91;let _0x1e306b='',_0x39d22d='';switch(_0x7b406){case'matching_item':_0x1e306b=currentQuestionIndex+0x1+'.\x20'+_0xb24274['stem'],_0x39d22d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb24274[_0x182a34(0x24d)][_0x182a34(0x13c)](_0x3f0e5d=>_0x182a34(0x17c)+_0x3f0e5d+'\x22>'+_0x3f0e5d+_0x182a34(0x186))['join']('')+_0x182a34(0x2e8);break;case _0x182a34(0xe0):_0x1e306b=currentQuestionIndex+0x1+'.\x20'+_0xb24274[_0x182a34(0x4dd)],_0x39d22d=_0x182a34(0x514);break;case _0x182a34(0x3c5):case'fill_in_no_choices':_0x1e306b=currentQuestionIndex+0x1+'.\x20'+_0xb24274['questionText'],_0x39d22d=_0x182a34(0x270);break;case'multiple_choice':case _0x182a34(0x4fc):default:_0x1e306b=currentQuestionIndex+0x1+'.\x20'+_0xb24274[_0x182a34(0x4dd)],_0x39d22d=_0xb24274[_0x182a34(0x34c)]['map']((_0xea1184,_0x3c444b)=>_0x182a34(0x47a)+_0x3c444b+_0x182a34(0x369)+_0x3c444b+_0x182a34(0x1fb)+_0x3c444b+'\x22>'+_0xea1184+_0x182a34(0x2bd))[_0x182a34(0x1eb)]('');break;}_0xb24274[_0x182a34(0xb2)]&&(_0x1e306b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xb24274[_0x182a34(0xb2)]+'</div>');document['getElementById']('per-question-text')['innerHTML']=_0x1e306b,document[_0x182a34(0x3e8)](_0x182a34(0x2f5))[_0x182a34(0x43c)]=_0x39d22d;if(currentMode===_0x182a34(0x297)){const _0x15f56b=document[_0x182a34(0x3e8)](_0x182a34(0x235));if(_0x15f56b)_0x15f56b[_0x182a34(0x368)](_0x182a34(0x189),cancelAdminTest);}document[_0x182a34(0x3e8)](_0x182a34(0xd0))[_0x182a34(0x368)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x182a34(0x1c8)])window[_0x182a34(0x1c8)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x313996=_0x11059a,_0x2609c5=currentDisplayedQuiz[_0x313996(0x467)]['timerDuration'],_0x5e65d5=document[_0x313996(0x3e8)](_0x313996(0x4b3));if(!_0x5e65d5)return;let _0x24e1ae=_0x2609c5;_0x5e65d5[_0x313996(0x43c)]=_0x313996(0x15d)+_0x24e1ae+_0x313996(0x1a4);const _0x1cc2d8=document[_0x313996(0x3e8)]('timer-bar'),_0x1c78ed=document[_0x313996(0x3e8)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x3ab861=_0x313996;_0x24e1ae--;const _0xf06645=_0x24e1ae/_0x2609c5*0x64;_0x1cc2d8[_0x3ab861(0x397)][_0x3ab861(0x457)]=_0xf06645+'%',_0x1c78ed['textContent']=_0x24e1ae,_0x24e1ae<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3ab861(0x25c)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5caa6d=![]){const _0x3faf26=_0x11059a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5374d1=null;if(!_0x5caa6d){const _0x184665=currentDisplayedQuiz[_0x3faf26(0xde)][currentQuestionIndex],_0x1b5ad8=_0x184665[_0x3faf26(0x31d)]||currentDisplayedQuiz[_0x3faf26(0x17d)];if(_0x1b5ad8===_0x3faf26(0x3c5)||_0x1b5ad8===_0x3faf26(0x9e)){const _0x7941e5=document[_0x3faf26(0x296)]('#per-question-options\x20textarea');_0x5374d1=_0x7941e5?_0x7941e5[_0x3faf26(0x43e)][_0x3faf26(0x2fe)]():'';}else{if(_0x1b5ad8==='matching_item'){const _0x39c727=document[_0x3faf26(0x296)](_0x3faf26(0x31a));_0x5374d1=_0x39c727?_0x39c727[_0x3faf26(0x43e)]:'';}else{const _0x2a9264=document[_0x3faf26(0x296)]('input[name=\x22question_single\x22]:checked');if(_0x2a9264){const _0x5b0cc5=_0x2a9264[_0x3faf26(0x43e)];_0x5374d1=!isNaN(parseInt(_0x5b0cc5,0xa))&&_0x5b0cc5[_0x3faf26(0x2fe)]()!==''?parseInt(_0x5b0cc5,0xa):_0x5b0cc5;}}}}studentAnswersPerQuestion[_0x3faf26(0x1cd)](_0x5374d1),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3faf26(0xde)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1b243a=_0x11059a,_0x45318d=currentDisplayedQuiz['questions']['some'](_0x51403b=>_0x51403b[_0x1b243a(0x31d)]==='short_answer');_0x45318d?showMessage(_0x1b243a(0x442)):showMessage(_0x1b243a(0x20e));const _0x30d763=currentQuizData['id'],_0x27ee3d=doc(db,_0x1b243a(0x2a0)+appId+_0x1b243a(0x134)+_0x30d763+_0x1b243a(0x219),currentStudentName),_0x5a0003=await getDoc(_0x27ee3d),_0x2a8388=_0x5a0003[_0x1b243a(0x384)]()?_0x5a0003[_0x1b243a(0x41f)]():{},_0x1c566a=_0x2a8388[_0x1b243a(0x312)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1c566a);}function getResultsFilename(){const _0x159be6=_0x11059a,_0x3c74e6=document[_0x159be6(0x3e8)](_0x159be6(0xbe))[_0x159be6(0x373)][_0x159be6(0x358)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x159be6(0x18b)+(_0x3c74e6||_0x159be6(0x4da));}function exportResultsAsImage(){const _0x4055a0=_0x11059a,_0x11c6f8=document[_0x4055a0(0x3e8)](_0x4055a0(0x1ca));showMessage(_0x4055a0(0xd3)),html2canvas(_0x11c6f8)['then'](_0x52bac6=>{const _0x48d292=_0x4055a0,_0x233cf5=document[_0x48d292(0x4cf)]('a');_0x233cf5[_0x48d292(0x16c)]=getResultsFilename()+_0x48d292(0x199),_0x233cf5['href']=_0x52bac6[_0x48d292(0x23d)]('image/png'),_0x233cf5[_0x48d292(0x189)](),messageModal[_0x48d292(0x1b3)][_0x48d292(0x2d6)](_0x48d292(0x149));});}function exportResultsAsPDF(){const _0xc92186=_0x11059a,{jsPDF:_0x224298}=window[_0xc92186(0x354)],_0x4bef56=new _0x224298();_0x4bef56[_0xc92186(0x4b2)](_0xc92186(0x1cb),_0xc92186(0x47d)),_0x4bef56[_0xc92186(0x15f)]({'html':_0xc92186(0x4f4)}),_0x4bef56['save'](getResultsFilename()+_0xc92186(0x279));}function exportResultsAsWord(){const _0xfe34ff=_0x11059a,_0x2b4095=_0xfe34ff(0x497)+_0xfe34ff(0x12d)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xfe34ff(0x195),_0x5d5da1=_0xfe34ff(0x4a0),_0xc0bed8=_0x2b4095+document[_0xfe34ff(0x3e8)](_0xfe34ff(0x1ca))['innerHTML']+_0x5d5da1,_0x44de1c='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xc0bed8),_0x29c181=document['createElement']('a');document[_0xfe34ff(0x12f)][_0xfe34ff(0xa7)](_0x29c181),_0x29c181[_0xfe34ff(0x251)]=_0x44de1c,_0x29c181[_0xfe34ff(0x16c)]=getResultsFilename()+_0xfe34ff(0x140),_0x29c181[_0xfe34ff(0x189)](),document[_0xfe34ff(0x12f)]['removeChild'](_0x29c181);}function exportResultsAsExcel(){const _0x3a683f=_0x11059a,_0x81bb7c=document[_0x3a683f(0x3e8)](_0x3a683f(0xa1));let _0x1475d7=[];for(let _0x405642=0x0;_0x405642<_0x81bb7c[_0x3a683f(0x37e)]['length'];_0x405642++){let _0x3fd7da=[],_0x7b14e0=_0x81bb7c['rows'][_0x405642][_0x3a683f(0x4b4)](_0x3a683f(0xe7));for(let _0x3a4e9d=0x0;_0x3a4e9d<_0x7b14e0[_0x3a683f(0x164)];_0x3a4e9d++){_0x3fd7da[_0x3a683f(0x1cd)]('\x22'+_0x7b14e0[_0x3a4e9d]['innerText'][_0x3a683f(0x358)](/"/g,'\x22\x22')+'\x22');}_0x1475d7[_0x3a683f(0x1cd)](_0x3fd7da[_0x3a683f(0x1eb)](','));}const _0x367be5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1475d7[_0x3a683f(0x1eb)]('\x0a')],{'type':_0x3a683f(0x166)}),_0x12de80=document[_0x3a683f(0x4cf)]('a');_0x12de80[_0x3a683f(0x251)]=URL[_0x3a683f(0x23a)](_0x367be5),_0x12de80[_0x3a683f(0x16c)]=getResultsFilename()+_0x3a683f(0x4e9),_0x12de80[_0x3a683f(0x189)]();}function exportTableAsImage(_0x5f50b0,_0x1dffe4){const _0x39d977=_0x11059a,_0x500ee3=document['getElementById'](_0x5f50b0);if(!_0x500ee3){showMessage(_0x39d977(0xc6));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x500ee3)['then'](_0x4b8f50=>{const _0x36c1d9=_0x39d977,_0x1456fa=document[_0x36c1d9(0x4cf)]('a');_0x1456fa[_0x36c1d9(0x16c)]=_0x1dffe4+_0x36c1d9(0x199),_0x1456fa['href']=_0x4b8f50[_0x36c1d9(0x23d)](_0x36c1d9(0x2ef)),_0x1456fa[_0x36c1d9(0x189)](),messageModal[_0x36c1d9(0x1b3)][_0x36c1d9(0x2d6)](_0x36c1d9(0x149));});}function exportTableAsPDF(_0x4cf7e3,_0x5d2cdc){const _0xa23a8d=_0x11059a,{jsPDF:_0x3b0eb3}=window[_0xa23a8d(0x354)],_0x401181=new _0x3b0eb3();_0x401181['setFont'](_0xa23a8d(0x1cb),_0xa23a8d(0x47d)),_0x401181[_0xa23a8d(0x15f)]({'html':'#'+_0x4cf7e3}),_0x401181['save'](_0x5d2cdc+_0xa23a8d(0x279));}function exportTableAsWord(_0x5d0279,_0x319a3e){const _0x141924=_0x11059a,_0x1ef20f=document[_0x141924(0x3e8)](_0x5d0279);if(!_0x1ef20f){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x5142f7=_0x141924(0x497)+_0x141924(0x12d)+_0x141924(0x241)+_0x141924(0x195),_0x15e292='</body></html>',_0x201b59=_0x5142f7+_0x1ef20f[_0x141924(0x43c)]+_0x15e292,_0x35b900=_0x141924(0x1d8)+encodeURIComponent(_0x201b59),_0x223546=document[_0x141924(0x4cf)]('a');document[_0x141924(0x12f)][_0x141924(0xa7)](_0x223546),_0x223546[_0x141924(0x251)]=_0x35b900,_0x223546[_0x141924(0x16c)]=_0x319a3e+_0x141924(0x140),_0x223546['click'](),document['body'][_0x141924(0x401)](_0x223546);}function exportTableAsExcel(_0x236a89,_0x4e447f){const _0x2caebf=_0x11059a,_0x4d6181=document[_0x2caebf(0x3e8)](_0x236a89);if(!_0x4d6181){showMessage(_0x2caebf(0xc6));return;}let _0x24d2a0=[];for(let _0xd9bf32=0x0;_0xd9bf32<_0x4d6181[_0x2caebf(0x37e)][_0x2caebf(0x164)];_0xd9bf32++){let _0x4ac8f7=[],_0x18812d=_0x4d6181[_0x2caebf(0x37e)][_0xd9bf32]['querySelectorAll'](_0x2caebf(0xe7));for(let _0x31ce1a=0x0;_0x31ce1a<_0x18812d[_0x2caebf(0x164)];_0x31ce1a++){_0x4ac8f7['push']('\x22'+_0x18812d[_0x31ce1a][_0x2caebf(0x489)][_0x2caebf(0x358)](/"/g,'\x22\x22')+'\x22');}_0x24d2a0[_0x2caebf(0x1cd)](_0x4ac8f7[_0x2caebf(0x1eb)](','));}const _0x347c72=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x24d2a0[_0x2caebf(0x1eb)]('\x0a')],{'type':_0x2caebf(0x166)}),_0x540cb8=document[_0x2caebf(0x4cf)]('a');_0x540cb8[_0x2caebf(0x251)]=URL[_0x2caebf(0x23a)](_0x347c72),_0x540cb8[_0x2caebf(0x16c)]=_0x4e447f+_0x2caebf(0x4e9),_0x540cb8[_0x2caebf(0x189)]();}function renderAnalytics(_0x268f92,_0x5e00d3){const _0x1fd6ff=_0x11059a,_0x3ccc4f=currentProjectData[_0x1fd6ff(0x2d9)][_0x1fd6ff(0x164)],_0x5f4a73=_0x5e00d3[_0x1fd6ff(0x164)],_0x1e3778=_0x3ccc4f-_0x5f4a73,_0x15d7cb=_0x3ccc4f>0x0?_0x5f4a73/_0x3ccc4f*0x64:0x0,_0x1266d9=_0x5e00d3[_0x1fd6ff(0x13c)](_0x2b0e21=>_0x2b0e21[_0x1fd6ff(0x1ab)]),_0x587194=_0x1266d9[_0x1fd6ff(0x164)]>0x0?_0x1266d9[_0x1fd6ff(0xe6)]((_0xeb5ea1,_0x5c465b)=>_0xeb5ea1+_0x5c465b,0x0)/_0x1266d9[_0x1fd6ff(0x164)]:0x0,_0x1e6027=_0x268f92[_0x1fd6ff(0xde)][_0x1fd6ff(0x164)],_0x16cc42=_0x1e6027>0x0?_0x587194/_0x1e6027*0x64:0x0,_0x2be5eb=document[_0x1fd6ff(0x3e8)](_0x1fd6ff(0x52a));_0x2be5eb[_0x1fd6ff(0x43c)]=_0x1fd6ff(0x374)+_0x15d7cb[_0x1fd6ff(0xf7)](0x0)+_0x1fd6ff(0xc9)+_0x5f4a73+'/'+_0x3ccc4f+_0x1fd6ff(0x336)+_0x587194['toFixed'](0x2)+_0x1fd6ff(0x479)+_0x16cc42['toFixed'](0x0)+_0x1fd6ff(0x466)+(_0x1266d9[_0x1fd6ff(0x164)]>0x0?Math['max'](..._0x1266d9):_0x1fd6ff(0x19f))+_0x1fd6ff(0xfc)+(_0x1266d9['length']>0x0?Math[_0x1fd6ff(0x40c)](..._0x1266d9):_0x1fd6ff(0x19f))+_0x1fd6ff(0x29f);const _0x423edc=currentProjectData[_0x1fd6ff(0x2d9)]||[];renderSubmissionChart(_0x5f4a73,_0x1e3778,_0x5e00d3,_0x423edc),renderScoreDistributionChart(_0x5e00d3,_0x1e6027),renderQuestionAnalytics(_0x268f92,_0x5e00d3,_0x423edc);}function renderSubmissionChart(_0x49dcfd,_0x235fc5,_0x4e21dd,_0x430765){const _0xf6f4ee=_0x11059a,_0x29fc86=document[_0xf6f4ee(0x3e8)](_0xf6f4ee(0x4f9))[_0xf6f4ee(0x43d)]('2d'),_0x217b16=_0x4e21dd[_0xf6f4ee(0x13c)](_0x209071=>_0x209071[_0xf6f4ee(0x30c)]),_0x36d75d=_0x430765[_0xf6f4ee(0x45b)](_0x1fd0dd=>!_0x217b16[_0xf6f4ee(0x4c1)](_0x1fd0dd));chartInstances[_0xf6f4ee(0x3bb)]&&chartInstances['submission'][_0xf6f4ee(0x2c8)](),chartInstances[_0xf6f4ee(0x3bb)]=new Chart(_0x29fc86,{'type':'doughnut','data':{'labels':[_0xf6f4ee(0x4bd),_0xf6f4ee(0x223)],'datasets':[{'data':[_0x49dcfd,_0x235fc5],'backgroundColor':[_0xf6f4ee(0x271),_0xf6f4ee(0x20f)],'borderColor':[_0xf6f4ee(0x2c2),_0xf6f4ee(0x2c2)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xf6f4ee(0x1cf)},'tooltip':{'callbacks':{'label':function(_0x1b7913){const _0x173145=_0xf6f4ee;let _0x4b4f60=_0x1b7913[_0x173145(0x3e5)]||'';return _0x4b4f60&&(_0x4b4f60+=':\x20'),_0x4b4f60+=_0x1b7913[_0x173145(0x13b)],_0x4b4f60;},'afterLabel':function(_0x3b750e){const _0x187207=_0xf6f4ee;let _0xd198de;return _0x3b750e[_0x187207(0x463)]===0x0?_0xd198de=_0x217b16:_0xd198de=_0x36d75d,_0xd198de[_0x187207(0x164)]>0x0?_0xd198de[_0x187207(0x1eb)]('\x0a'):_0x187207(0x188);}}}}}});}function renderScoreDistributionChart(_0x5ae885,_0x41c7a3){const _0x324766=_0x11059a,_0x2c767e=document[_0x324766(0x3e8)](_0x324766(0xfe))['getContext']('2d'),_0x41dcdc={};for(let _0x3208a4=0x0;_0x3208a4<=_0x41c7a3;_0x3208a4++){_0x41dcdc[_0x3208a4]=0x0;}_0x5ae885[_0x324766(0x1e9)](_0x46f6ff=>{const _0x22a31b=_0x324766;_0x41dcdc[_0x46f6ff[_0x22a31b(0x1ab)]]!==undefined&&_0x41dcdc[_0x46f6ff[_0x22a31b(0x1ab)]]++;}),chartInstances[_0x324766(0x2bb)]&&chartInstances[_0x324766(0x2bb)]['destroy'](),chartInstances[_0x324766(0x2bb)]=new Chart(_0x2c767e,{'type':_0x324766(0x1ba),'data':{'labels':Object[_0x324766(0x431)](_0x41dcdc),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x324766(0x2a7)](_0x41dcdc),'backgroundColor':_0x324766(0x31b),'borderColor':_0x324766(0x28e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x324766(0x496)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2eebe0){const _0x51a5e5=_0x324766,_0x4e00b5=_0x2eebe0['label'],_0x3e1431=_0x5ae885['filter'](_0x2e13a5=>_0x2e13a5['latestScore']==_0x4e00b5)[_0x51a5e5(0x13c)](_0x551add=>_0x551add[_0x51a5e5(0x30c)]);return _0x3e1431['length']>0x0?_0x3e1431[_0x51a5e5(0x1eb)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4908ee,_0x493cff,_0x3e9c5f){const _0x25d565=_0x11059a,_0x446f72=document[_0x25d565(0x3e8)](_0x25d565(0x115));if(_0x3e9c5f[_0x25d565(0x164)]===0x0){_0x446f72[_0x25d565(0x43c)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}let _0xc6e8cf='';const _0x3775a0=_0x493cff[_0x25d565(0x13c)](_0x2428a5=>_0x2428a5[_0x25d565(0x30c)]);_0x4908ee[_0x25d565(0xde)]['forEach']((_0x17c5dd,_0x4d37a3)=>{const _0x1fcf62=_0x25d565;let _0x23bbfa=0x0;const _0x347581=[],_0x26fc63=[],_0x30e92d=_0x17c5dd[_0x1fcf62(0x49a)]||_0x17c5dd[_0x1fcf62(0x4dd)]||_0x17c5dd[_0x1fcf62(0x4fe)];_0x493cff[_0x1fcf62(0x1e9)](_0x59c7be=>{const _0x473ed4=_0x1fcf62,_0x160dcf=_0x59c7be['attempts'][_0x59c7be['attempts'][_0x473ed4(0x164)]-0x1];if(_0x160dcf&&_0x160dcf[_0x473ed4(0x267)]){const _0x2e1a71=_0x160dcf[_0x473ed4(0x267)]['find'](_0xc81a8a=>_0xc81a8a[_0x473ed4(0x393)]===_0x30e92d);_0x2e1a71&&(_0x2e1a71['isCorrect']?(_0x23bbfa++,_0x347581[_0x473ed4(0x1cd)](_0x59c7be[_0x473ed4(0x30c)])):_0x26fc63[_0x473ed4(0x1cd)](_0x59c7be[_0x473ed4(0x30c)]));}});const _0x2d48ab=_0x3e9c5f[_0x1fcf62(0x45b)](_0x57a42f=>!_0x3775a0['includes'](_0x57a42f)),_0x4a74bb=_0x493cff[_0x1fcf62(0x164)]>0x0?_0x23bbfa/_0x493cff[_0x1fcf62(0x164)]*0x64:0x0;_0xc6e8cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20'+(_0x4d37a3+0x1)+':\x20'+_0x30e92d+_0x1fcf62(0x4c6)+(_0x4a74bb>=0x46?_0x1fcf62(0x13f):_0x4a74bb>=0x28?'bg-yellow-200\x20text-yellow-800':'bg-red-200\x20text-red-800')+_0x1fcf62(0x4b1)+_0x4a74bb['toFixed'](0x0)+_0x1fcf62(0x4fa)+_0x30e92d+_0x1fcf62(0xc3)+_0x23bbfa+_0x1fcf62(0x200)+_0x493cff[_0x1fcf62(0x164)]+_0x1fcf62(0x201)+_0x347581['length']+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x347581['length']>0x0?_0x347581[_0x1fcf62(0x1eb)](',\x20'):_0x1fcf62(0x188))+_0x1fcf62(0x293)+_0x26fc63[_0x1fcf62(0x164)]+_0x1fcf62(0x3eb)+(_0x26fc63[_0x1fcf62(0x164)]>0x0?_0x26fc63['join'](',\x20'):'ไม่มี')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x2d48ab[_0x1fcf62(0x164)]+_0x1fcf62(0x3eb)+(_0x2d48ab[_0x1fcf62(0x164)]>0x0?_0x2d48ab['join'](',\x20'):_0x1fcf62(0x188))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x446f72[_0x25d565(0x43c)]=_0xc6e8cf;try{window[_0x25d565(0x1c8)]&&MathJax[_0x25d565(0x37d)]&&MathJax['typesetPromise']([_0x446f72]);}catch(_0x532a2b){console[_0x25d565(0xba)](_0x25d565(0x26e),_0x532a2b);}}async function handleAnalyzeClass(){const _0x34bf26=_0x11059a;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x34bf26(0x365));return;}const _0x183ea8=collection(db,_0x34bf26(0x2a0)+appId+_0x34bf26(0x134)+currentQuizData['id']+_0x34bf26(0x219)),_0xe80f40=await getDocs(_0x183ea8),_0x19c9b3=_0xe80f40[_0x34bf26(0x301)][_0x34bf26(0x13c)](_0x58fc16=>_0x58fc16[_0x34bf26(0x41f)]());if(_0x19c9b3[_0x34bf26(0x164)]<0x2){showMessage(_0x34bf26(0x3a8));return;}const _0x190194=document[_0x34bf26(0x3e8)]('strength-weakness-analysis-container');_0x190194['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x34bf26(0x3e8)](_0x34bf26(0x2a1))['disabled']=!![];const _0x4cdf5d=_0x19c9b3[_0x34bf26(0x13c)]((_0x902f69,_0x5f0291)=>{const _0x12ef23=_0x34bf26,_0x3bfc1f=_0x902f69['attempts'][_0x902f69[_0x12ef23(0x312)][_0x12ef23(0x164)]-0x1];if(!_0x3bfc1f)return'';return _0x12ef23(0xaf)+(_0x5f0291+0x1)+'\x20('+_0x902f69[_0x12ef23(0x30c)]+_0x12ef23(0x46e)+_0x3bfc1f[_0x12ef23(0x2bb)]+'/'+_0x902f69[_0x12ef23(0xcc)]+_0x12ef23(0x15b)+JSON[_0x12ef23(0x123)](_0x3bfc1f[_0x12ef23(0x267)])+_0x12ef23(0x329);})[_0x34bf26(0x1eb)](_0x34bf26(0x371)),_0x5367e3=_0x34bf26(0x4bc)+currentQuizData['topic']+_0x34bf26(0x3cd)+JSON[_0x34bf26(0x123)](currentQuizData[_0x34bf26(0xde)])+_0x34bf26(0x1a8)+_0x4cdf5d+_0x34bf26(0x1df),_0x1a7ff8={'type':_0x34bf26(0x108),'properties':{'classStrengths':{'type':_0x34bf26(0x212),'items':{'type':_0x34bf26(0x2be)}},'classWeaknesses':{'type':_0x34bf26(0x212),'items':{'type':_0x34bf26(0x2be)}},'teacherSuggestions':{'type':_0x34bf26(0x212),'items':{'type':_0x34bf26(0x2be)}}},'required':[_0x34bf26(0xb0),_0x34bf26(0x3b9),_0x34bf26(0x181)]};try{const _0x58af88=await callAnalysisApi(_0x5367e3,_0x1a7ff8);displayClassAnalysis(_0x58af88);}catch(_0x7d3ea4){console[_0x34bf26(0xba)](_0x34bf26(0x46a),_0x7d3ea4),_0x190194[_0x34bf26(0x43c)]=_0x34bf26(0x39a)+_0x7d3ea4[_0x34bf26(0x414)]+'</p></div>';}finally{document[_0x34bf26(0x3e8)]('analyze-strengths-btn')[_0x34bf26(0x33a)]=![];}}function displayClassAnalysis(_0xcfea9f){const _0x4d43a4=_0x11059a,_0x1dafaf=document[_0x4d43a4(0x3e8)](_0x4d43a4(0x359));if(!_0xcfea9f){_0x1dafaf[_0x4d43a4(0x43c)]=_0x4d43a4(0x1c4);return;}_0x1dafaf['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcfea9f[_0x4d43a4(0xb0)][_0x4d43a4(0x13c)](_0x5d5a39=>_0x4d43a4(0x2b4)+_0x5d5a39+_0x4d43a4(0x12b))['join']('')+_0x4d43a4(0x4eb)+_0xcfea9f[_0x4d43a4(0x3b9)][_0x4d43a4(0x13c)](_0x3e9e90=>_0x4d43a4(0x2b4)+_0x3e9e90+'</li>')['join']('')+_0x4d43a4(0x1ce)+_0xcfea9f[_0x4d43a4(0x181)]['map'](_0x199361=>_0x4d43a4(0x2b4)+_0x199361+_0x4d43a4(0x12b))['join']('')+_0x4d43a4(0x337);}function formatAndPrintWorksheet(_0x1af959,_0x1967db){const _0x3cd0d8=_0x11059a,_0x3e92b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1af959[_0x3cd0d8(0x2c5)]+_0x3cd0d8(0x49f)+_0x1af959[_0x3cd0d8(0x2c5)]+_0x3cd0d8(0xc7)+_0x1af959[_0x3cd0d8(0xde)][_0x3cd0d8(0x13c)]((_0x3e06a5,_0x4cd60d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x4cd60d+0x1)+'.\x20'+_0x3e06a5[_0x3cd0d8(0x4dd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e06a5[_0x3cd0d8(0xb2)]?_0x3cd0d8(0x173)+_0x3e06a5[_0x3cd0d8(0xb2)]+'</div>':'')+_0x3cd0d8(0x344))['join']('')+_0x3cd0d8(0x3a4);_0x1967db[_0x3cd0d8(0x193)][_0x3cd0d8(0x48e)](_0x3e92b4),_0x1967db['document'][_0x3cd0d8(0x19a)](),_0x1967db[_0x3cd0d8(0x291)]=function(){const _0x1eed70=_0x3cd0d8;_0x1967db[_0x1eed70(0x4d6)]();};}async function generateWorksheet(){const _0x4a3eec=_0x11059a,_0x58308f=document[_0x4a3eec(0x3e8)](_0x4a3eec(0x455))['value'][_0x4a3eec(0x2fe)]();if(!_0x58308f){showMessage(_0x4a3eec(0x340));return;}const _0x29a622=window['open']('',_0x4a3eec(0x302));_0x29a622[_0x4a3eec(0x193)][_0x4a3eec(0x48e)](_0x4a3eec(0x27d));const _0x41d8de=parseInt(document[_0x4a3eec(0x3e8)](_0x4a3eec(0x37c))['value']),_0x1c9226=document[_0x4a3eec(0x3e8)](_0x4a3eec(0x34d))[_0x4a3eec(0x3f9)],_0x13e291=_0x1c9226?_0x4a3eec(0x413):'',_0x5062f5=_0x4a3eec(0x21d)+_0x41d8de+_0x4a3eec(0xb3)+_0x58308f+_0x4a3eec(0x106)+_0x13e291+_0x4a3eec(0x176),_0x41ff3a={'type':_0x4a3eec(0x108),'properties':{'topic':{'type':_0x4a3eec(0x2be)},'questions':{'type':_0x4a3eec(0x212),'items':{'type':_0x4a3eec(0x108),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4a3eec(0x4dd)]}}},'required':[_0x4a3eec(0x2c5),'questions']};document[_0x4a3eec(0x3e8)](_0x4a3eec(0x444))[_0x4a3eec(0x373)]=_0x4a3eec(0x48d),document[_0x4a3eec(0x3e8)]('loader')[_0x4a3eec(0x1b3)][_0x4a3eec(0x422)](_0x4a3eec(0x149)),document['getElementById']('quiz-generation-area')['classList'][_0x4a3eec(0x422)](_0x4a3eec(0x149)),generateWorksheetBtn[_0x4a3eec(0x33a)]=!![];try{const _0xdda70f=await callAnalysisApi(_0x5062f5,_0x41ff3a);formatAndPrintWorksheet(_0xdda70f,_0x29a622);}catch(_0x215333){console['error'](_0x4a3eec(0x408),_0x215333);if(_0x29a622)_0x29a622[_0x4a3eec(0x19a)]();showMessage(_0x4a3eec(0x2b2));}finally{document[_0x4a3eec(0x3e8)](_0x4a3eec(0x51d))[_0x4a3eec(0x1b3)][_0x4a3eec(0x2d6)](_0x4a3eec(0x149)),document['getElementById']('quiz-generation-area')[_0x4a3eec(0x1b3)][_0x4a3eec(0x2d6)](_0x4a3eec(0x149)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x45c454,_0x2600a7){const _0x28080b=_0x11059a,_0x36fe04={'contents':[{'role':'user','parts':[{'text':_0x45c454}]}],'generationConfig':{'responseMimeType':_0x28080b(0x262),'responseSchema':_0x2600a7}},_0x3b2868='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xa2f928=_0x28080b(0x2e3)+_0x3b2868,_0x25941=await fetch(_0xa2f928,{'method':_0x28080b(0x2ad),'headers':{'Content-Type':_0x28080b(0x262)},'body':JSON[_0x28080b(0x123)](_0x36fe04)});if(!_0x25941['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x25941[_0x28080b(0x3cb)]);const _0x312865=await _0x25941['json']();if(_0x312865[_0x28080b(0x330)]?.[0x0]?.[_0x28080b(0x20c)]?.[_0x28080b(0x250)]?.[0x0])return JSON[_0x28080b(0x438)](_0x312865['candidates'][0x0]['content']['parts'][0x0][_0x28080b(0x456)]);else{let _0x48526c=_0x28080b(0x2c9);if(_0x312865['promptFeedback']?.['blockReason'])_0x48526c='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x312865[_0x28080b(0x39b)][_0x28080b(0x113)]+'.';else _0x312865[_0x28080b(0x330)]?.[0x0]?.['finishReason']&&_0x312865['candidates'][0x0][_0x28080b(0x129)]!=='STOP'&&(_0x48526c='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x312865['candidates'][0x0][_0x28080b(0x129)]+'.');console['error'](_0x48526c,JSON[_0x28080b(0x123)](_0x312865));throw new Error(_0x48526c);}}initialize();
