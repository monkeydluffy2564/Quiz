const _0x2a65e7=_0x2fd9;(function(_0xe28527,_0x315f13){const _0x15ac52=_0x2fd9,_0x177a02=_0xe28527();while(!![]){try{const _0x55da15=-parseInt(_0x15ac52(0x349))/0x1+-parseInt(_0x15ac52(0x105))/0x2+parseInt(_0x15ac52(0x78c))/0x3*(parseInt(_0x15ac52(0x6db))/0x4)+parseInt(_0x15ac52(0x48a))/0x5+parseInt(_0x15ac52(0x291))/0x6+parseInt(_0x15ac52(0x2de))/0x7+parseInt(_0x15ac52(0x755))/0x8*(-parseInt(_0x15ac52(0x7a4))/0x9);if(_0x55da15===_0x315f13)break;else _0x177a02['push'](_0x177a02['shift']());}catch(_0x4a71f0){_0x177a02['push'](_0x177a02['shift']());}}}(_0x5006,0x9e927));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2a65e7(0x28c),'pinnedProjects':[],'projectView':_0x2a65e7(0x157)};const allMathTopics=[{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x730)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x796)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x3fa)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x26e)},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x6af)},{'category':_0x2a65e7(0x493),'name':'การคูณ'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x5a1)},{'category':'จำนวนและการดำเนินการ','name':_0x2a65e7(0x28b)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x692)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x482)},{'category':_0x2a65e7(0x493),'name':'ค่าสัมบูรณ์'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x579)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x31c)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x5d9)},{'category':'จำนวนและการดำเนินการ','name':_0x2a65e7(0x2fc)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x16b)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x2a65e7(0x493),'name':'การบวกเศษส่วน'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x6a9)},{'category':_0x2a65e7(0x493),'name':'การคูณเศษส่วน'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x709)},{'category':_0x2a65e7(0x493),'name':'จำนวนคละ'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x27f)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x460)},{'category':'จำนวนและการดำเนินการ','name':_0x2a65e7(0x361)},{'category':'จำนวนและการดำเนินการ','name':_0x2a65e7(0x52e)},{'category':_0x2a65e7(0x493),'name':'การหารทศนิยม'},{'category':_0x2a65e7(0x493),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x2a65e7(0x493),'name':'ร้อยละพื้นฐาน'},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x112)},{'category':'จำนวนและการดำเนินการ','name':_0x2a65e7(0x790)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x6ef)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x540)},{'category':_0x2a65e7(0x493),'name':_0x2a65e7(0x729)},{'category':_0x2a65e7(0x493),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x7f2)},{'category':_0x2a65e7(0x2d2),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x2a65e7(0x2d2),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x74e)},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x18b)},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x115)},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x2d9)},{'category':_0x2a65e7(0x2d2),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x93)},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x6be)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x2a65e7(0x2d2),'name':'มุมและการวัดมุม'},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x10f)},{'category':_0x2a65e7(0x2d2),'name':_0x2a65e7(0x134)},{'category':'เรขาคณิต','name':_0x2a65e7(0xd5)},{'category':_0x2a65e7(0x619),'name':'ความสัมพันธ์ของมุม'},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x17b)},{'category':_0x2a65e7(0x619),'name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x2a65e7(0x6ba)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x50b)},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x578)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x237)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x229)},{'category':'เรขาคณิต','name':_0x2a65e7(0x2ad)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x2d5)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x71d)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x4cd)},{'category':_0x2a65e7(0x619),'name':_0x2a65e7(0x6c1)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x546)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x65a)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x5ed)},{'category':_0x2a65e7(0x4c3),'name':'การแยกตัวประกอบ'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x419)},{'category':_0x2a65e7(0x4c3),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x68e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2a65e7(0x661)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2a65e7(0x7a7)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x687)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x25c)},{'category':_0x2a65e7(0x4c3),'name':'สมการยกกำลัง'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x7a2)},{'category':_0x2a65e7(0x4c3),'name':'อสมการเชิงเส้น'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x438)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x571)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x185)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x270)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2a65e7(0x567)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x26c)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x25a)},{'category':_0x2a65e7(0x4c3),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x2a65e7(0x4c3),'name':'ฟังก์ชันพหุนาม'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x673)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x7a5)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x346)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันยกกำลัง'},{'category':_0x2a65e7(0x4c3),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x2a65e7(0x4c3),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x2eb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2a65e7(0x232)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x283)},{'category':_0x2a65e7(0x4c3),'name':_0x2a65e7(0x707)},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x37c)},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x6d7)},{'category':_0x2a65e7(0x6ee),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x6a3)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x27b)},{'category':_0x2a65e7(0x6ee),'name':'พาราโบลา'},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x639)},{'category':_0x2a65e7(0x6ee),'name':_0x2a65e7(0x2cd)},{'category':_0x2a65e7(0x532),'name':_0x2a65e7(0x73f)},{'category':_0x2a65e7(0x532),'name':_0x2a65e7(0x7d3)},{'category':'ตรีโกณมิติ','name':_0x2a65e7(0x5b1)},{'category':_0x2a65e7(0x532),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x2a65e7(0x532),'name':'กฎของไซน์'},{'category':_0x2a65e7(0x532),'name':_0x2a65e7(0x204)},{'category':_0x2a65e7(0x532),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x2a65e7(0x532),'name':_0x2a65e7(0x797)},{'category':_0x2a65e7(0x532),'name':'สมการตรีโกณมิติ'},{'category':'ตรีโกณมิติ','name':_0x2a65e7(0x3ad)},{'category':_0x2a65e7(0x532),'name':_0x2a65e7(0x37a)},{'category':_0x2a65e7(0x20c),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x2a65e7(0x20c),'name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x594)},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x511)},{'category':_0x2a65e7(0x20c),'name':'ฮิสโตแกรม'},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x69f)},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x126)},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x568)},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x49d)},{'category':_0x2a65e7(0x20c),'name':'พิสัย'},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x44a)},{'category':_0x2a65e7(0x20c),'name':'ความแปรปรวน'},{'category':_0x2a65e7(0x20c),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x2a65e7(0x20c),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x160)},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x808)},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x6bf)},{'category':_0x2a65e7(0x20c),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x2fd)},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x288)},{'category':'สถิติและความน่าจะเป็น','name':_0x2a65e7(0x7e2)},{'category':_0x2a65e7(0x20c),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x2a65e7(0x20c),'name':_0x2a65e7(0x7d7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2a65e7(0x696)},{'category':_0x2a65e7(0x43d),'name':_0x2a65e7(0x56c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2a65e7(0x7b8)},{'category':_0x2a65e7(0x43d),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2a65e7(0x12e)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x2a65e7(0x43d),'name':'ความชันเส้นสัมผัส'},{'category':_0x2a65e7(0x43d),'name':_0x2a65e7(0x39b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2a65e7(0x451)},{'category':_0x2a65e7(0x43d),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2a65e7(0x54a)},{'category':_0x2a65e7(0x43d),'name':_0x2a65e7(0x5d1)},{'category':_0x2a65e7(0x43d),'name':_0x2a65e7(0x309)},{'category':_0x2a65e7(0x37b),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2a65e7(0xfb)},{'category':_0x2a65e7(0x37b),'name':_0x2a65e7(0xe7)},{'category':_0x2a65e7(0x37b),'name':_0x2a65e7(0x193)},{'category':_0x2a65e7(0x37b),'name':_0x2a65e7(0x168)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2a65e7(0x6ff)},{'category':_0x2a65e7(0x72e),'name':_0x2a65e7(0x49f)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x2a65e7(0x72e),'name':_0x2a65e7(0x7d4)},{'category':_0x2a65e7(0x72e),'name':_0x2a65e7(0x484)},{'category':_0x2a65e7(0x368),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x2a65e7(0x368),'name':_0x2a65e7(0x300)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x2752ea=_0x2a65e7,_0x217394=document[_0x2752ea(0x337)](_0x2752ea(0x728));if(!_0x217394)return;const _0x5aa38d=allMathTopics,_0xda04e3=customMathTopics[_0x2752ea(0x657)](_0x46a75f=>({'id':_0x46a75f['id'],'category':_0x2752ea(0x4ba),'name':_0x46a75f[_0x2752ea(0x2c3)]})),_0x3dd2cd=[..._0x5aa38d,..._0xda04e3],_0x146b97=_0x3dd2cd[_0x2752ea(0x5fb)]((_0x330d37,_0x55edbc)=>{const _0x4c5af2=_0x2752ea;return!_0x330d37[_0x55edbc[_0x4c5af2(0x4cc)]]&&(_0x330d37[_0x55edbc[_0x4c5af2(0x4cc)]]=[]),_0x330d37[_0x55edbc['category']]['push'](_0x55edbc),_0x330d37;},{});let _0x54e124='';const _0x233451=[_0x2752ea(0x4ba),...Object[_0x2752ea(0x668)](_0x146b97)[_0x2752ea(0x3fd)](_0x5e48a2=>_0x5e48a2!==_0x2752ea(0x4ba))];for(const _0x32b1f8 of _0x233451){if(_0x146b97[_0x32b1f8]){const _0x2876fc=_0x32b1f8==='หัวข้อที่สร้างเอง',_0x2d4d2b=_0x2876fc?_0x2752ea(0x2c2):'fas\x20fa-bookmark',_0x3745af=_0x2876fc?_0x2752ea(0xe0):_0x2752ea(0x8b);_0x54e124+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x54e124+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x3745af+_0x2752ea(0x4d7)+_0x2d4d2b+_0x2752ea(0x6bd)+_0x32b1f8+_0x2752ea(0x621),_0x146b97[_0x32b1f8][_0x2752ea(0x785)](_0x4d60fb=>{const _0x5b96bf=_0x2752ea,_0xfb851a=!!_0x4d60fb['id'],_0x54e063=_0xfb851a?_0x5b96bf(0x736)+_0x4d60fb['id']+_0x5b96bf(0x199)+_0x4d60fb['id']+_0x5b96bf(0x35f)+_0x4d60fb['id']+_0x5b96bf(0x650)+_0x4d60fb['id']+_0x5b96bf(0x350):'';_0x54e124+=_0x5b96bf(0x780)+(_0x4d60fb['id']||'')+_0x5b96bf(0x1b2)+_0x4d60fb[_0x5b96bf(0x2c3)]+_0x5b96bf(0xfe)+_0x4d60fb[_0x5b96bf(0x2c3)]+_0x5b96bf(0x761)+(_0xfb851a?_0x5b96bf(0x7c4)+_0x4d60fb[_0x5b96bf(0x2c3)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54e063+_0x5b96bf(0x600);}),_0x54e124+=_0x2752ea(0x6f);}}_0x217394[_0x2752ea(0x78a)]=_0x54e124||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x217394[_0x2752ea(0x196)](_0x2752ea(0x139),updateSelectedTopicsCount),_0x217394['addEventListener'](_0x2752ea(0x139),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1f3fc2,_0x3507c0){const _0x420017=_0x2a65e7;if(!_0x1f3fc2||!_0x3507c0[_0x420017(0x65d)]()){showMessage(_0x420017(0x27e));return;}try{const _0x3b2702=doc(db,_0x420017(0x374)+appId+_0x420017(0x2f9),_0x1f3fc2);await updateDoc(_0x3b2702,{'name':_0x3507c0[_0x420017(0x65d)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x407007){console[_0x420017(0x227)](_0x420017(0x198),_0x407007),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0xfb1b7f,_0xceea1e){const _0xe98690=_0x2a65e7;if(!_0xfb1b7f)return;const _0x4a66fb=_0xfb1b7f['querySelector'](_0xe98690(0x3be)),_0x122cf7=_0xfb1b7f[_0xe98690(0x66a)](_0xe98690(0x7c2)),_0x10d1ef=_0xfb1b7f[_0xe98690(0x66a)](_0xe98690(0x2c6)),_0x53d65a=_0xfb1b7f[_0xe98690(0x66a)]('.topic-actions-edit');_0x4a66fb[_0xe98690(0x51a)][_0xe98690(0x726)]('hidden',_0xceea1e),_0x122cf7['classList'][_0xe98690(0x726)](_0xe98690(0x7b3),!_0xceea1e),_0x10d1ef[_0xe98690(0x51a)][_0xe98690(0x726)](_0xe98690(0x7b3),_0xceea1e),_0x53d65a['classList']['toggle']('hidden',!_0xceea1e),_0xceea1e&&(_0x122cf7[_0xe98690(0x2a6)](),_0x122cf7[_0xe98690(0x5c3)]());}function updateSelectedTopicsCount(){const _0x47305c=_0x2a65e7,_0x4a8b2f=document[_0x47305c(0x337)](_0x47305c(0x728)),_0x45beeb=_0x4a8b2f[_0x47305c(0x4a9)](_0x47305c(0x629))['length'],_0x33fffe=document[_0x47305c(0x337)]('selected-topics-count');_0x45beeb>0x0?_0x33fffe[_0x47305c(0x8c)]=_0x47305c(0x4e9)+_0x45beeb+_0x47305c(0x189):_0x33fffe[_0x47305c(0x8c)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2a65e7(0x26d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2a65e7(0x64d),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x2a65e7(0xef),'name':_0x2a65e7(0x735),'description':_0x2a65e7(0x76),'icon':_0x2a65e7(0x7f1)},'QUICK_THINKER':{'id':_0x2a65e7(0x15b),'name':_0x2a65e7(0x313),'description':_0x2a65e7(0x36a),'icon':_0x2a65e7(0x6e0)},'ON_FIRE':{'id':_0x2a65e7(0x305),'name':_0x2a65e7(0x12b),'description':_0x2a65e7(0x53c),'icon':_0x2a65e7(0x655)},'FIRST_TRY_ACE':{'id':_0x2a65e7(0x1d1),'name':_0x2a65e7(0x52b),'description':_0x2a65e7(0xed),'icon':_0x2a65e7(0x6ce)},'COMEBACK_KING':{'id':_0x2a65e7(0x395),'name':_0x2a65e7(0x631),'description':_0x2a65e7(0x333),'icon':_0x2a65e7(0x516)},'SPECIALIST':{'id':_0x2a65e7(0x6c2),'name':_0x2a65e7(0x6e4),'description':_0x2a65e7(0x426),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x2a65e7(0x590)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x2a65e7(0x3cb),'storageBucket':_0x2a65e7(0x6c),'messagingSenderId':_0x2a65e7(0x4af),'appId':_0x2a65e7(0x549),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x2a65e7(0x662)?__app_id:_0x2a65e7(0x69a),adminView=document[_0x2a65e7(0x337)](_0x2a65e7(0xb2)),studentView=document[_0x2a65e7(0x337)](_0x2a65e7(0x7e7)),projectDashboardView=document[_0x2a65e7(0x337)](_0x2a65e7(0x474)),projectDetailView=document['getElementById'](_0x2a65e7(0x461)),quizResultsView=document[_0x2a65e7(0x337)](_0x2a65e7(0x7ff)),projectList=document[_0x2a65e7(0x337)](_0x2a65e7(0x69)),noProjectsMsg=document['getElementById'](_0x2a65e7(0x1cb)),projectTitle=document[_0x2a65e7(0x337)](_0x2a65e7(0x6a2)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x2a65e7(0x337)](_0x2a65e7(0x598)),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0x2a65e7(0x337)](_0x2a65e7(0x3db)),createProjectModal=document[_0x2a65e7(0x337)]('create-project-modal'),adminPasswordModal=document['getElementById'](_0x2a65e7(0x52a)),confirmationModal=document[_0x2a65e7(0x337)]('confirmation-modal'),userIdDisplay=document[_0x2a65e7(0x337)]('user-id-display'),topicTab=document[_0x2a65e7(0x337)](_0x2a65e7(0xa3)),textTab=document[_0x2a65e7(0x337)](_0x2a65e7(0x131)),topicInputArea=document[_0x2a65e7(0x337)]('topic-input-area'),textInputArea=document[_0x2a65e7(0x337)](_0x2a65e7(0x167)),manageTab=document[_0x2a65e7(0x337)](_0x2a65e7(0x5f5)),resultsTab=document['getElementById'](_0x2a65e7(0x1ba)),leaderboardTab=document[_0x2a65e7(0x337)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x2a65e7(0x543)),resultsTabContent=document[_0x2a65e7(0x337)]('results-tab-content'),leaderboardTabContent=document[_0x2a65e7(0x337)](_0x2a65e7(0x738)),projectQuizzesList=document[_0x2a65e7(0x337)](_0x2a65e7(0x3bd)),fileTab=document[_0x2a65e7(0x337)](_0x2a65e7(0x2ab)),fileInputArea=document[_0x2a65e7(0x337)](_0x2a65e7(0x16c)),fileUploadInput=document['getElementById'](_0x2a65e7(0x66f)),worksheetTab=document[_0x2a65e7(0x337)](_0x2a65e7(0x250)),worksheetInputArea=document[_0x2a65e7(0x337)](_0x2a65e7(0xae)),generateWorksheetBtn=document['getElementById'](_0x2a65e7(0x1ec)),studentInitialView=document[_0x2a65e7(0x337)](_0x2a65e7(0x4ca)),studentNameSelectionView=document[_0x2a65e7(0x337)](_0x2a65e7(0xc4)),studentQuizArea=document[_0x2a65e7(0x337)](_0x2a65e7(0x660)),studentResultArea=document[_0x2a65e7(0x337)]('student-result-area'),studentReadingArea=document[_0x2a65e7(0x337)](_0x2a65e7(0x413)),loadQuizBtn=document[_0x2a65e7(0x337)](_0x2a65e7(0x1b6)),startQuizBtn=document['getElementById'](_0x2a65e7(0xa7)),studentJoinGameView=document[_0x2a65e7(0x337)](_0x2a65e7(0x6fc)),presentationModal=document[_0x2a65e7(0x337)](_0x2a65e7(0x676)),renameQuizModal=document[_0x2a65e7(0x337)](_0x2a65e7(0x618)),moveQuizModal=document['getElementById'](_0x2a65e7(0x605)),quizSettingsModal=document[_0x2a65e7(0x337)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x2a65e7(0x1fe)),liveGameView=document[_0x2a65e7(0x337)]('live-game-view');function handleAutoFixLatex(){const _0x564401=_0x2a65e7,_0x3865f7=document[_0x564401(0x337)](_0x564401(0xe8))||document,_0x3f461a=_0x3865f7[_0x564401(0x4a9)]([_0x564401(0x25d),_0x564401(0x1d0),'[contenteditable=\x22true\x22]',_0x564401(0x5c7),_0x564401(0x402),'label',_0x564401(0x63b),_0x564401(0x3e6),_0x564401(0xa8)][_0x564401(0x57e)](','));let _0x5f1dd7=0x0;const _0x331337=_0x114254=>_0x564401(0x3d3)in _0x114254?String(_0x114254['value']):_0x114254['innerText']!==undefined?_0x114254[_0x564401(0x4f1)]:_0x114254[_0x564401(0x8c)]||'',_0x3954af=(_0x3e5b33,_0x2e1193)=>{const _0x3cdc3d=_0x564401;if('value'in _0x3e5b33){_0x3e5b33[_0x3cdc3d(0x3d3)]=_0x2e1193;return;}if(_0x3e5b33['querySelector']&&_0x3e5b33[_0x3cdc3d(0x66a)]('mjx-container'))return;if(_0x3e5b33[_0x3cdc3d(0x4f1)]!==undefined)_0x3e5b33[_0x3cdc3d(0x4f1)]=_0x2e1193;else _0x3e5b33[_0x3cdc3d(0x8c)]=_0x2e1193;},_0x22bd87=_0x47c934=>_0x47c934[_0x564401(0x700)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x564401(0x700)](/\r\n?/g,'\x0a'),_0x584e76=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x319f62=_0x5d8835=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x564401(0x1b5)](_0x5d8835),_0x157783=_0x337b8b=>{const _0x5d9073=_0x564401,_0x55ba06=(_0x337b8b['match'](/\{/g)||[])[_0x5d9073(0x6ea)],_0x6cf94c=(_0x337b8b[_0x5d9073(0x1ab)](/\}/g)||[])['length'];if(_0x55ba06>_0x6cf94c)_0x337b8b=_0x337b8b+'}'[_0x5d9073(0x25f)](_0x55ba06-_0x6cf94c);return _0x337b8b;},_0x112c25=_0x3b7110=>{const _0x871640=_0x564401;let _0x3f9aac=_0x3b7110[_0x871640(0x65d)]();const _0x120120=[_0x871640(0x54f),_0x871640(0x382),_0x871640(0x2f1),_0x871640(0x7d2),_0x871640(0x47c),_0x871640(0x774),_0x871640(0x764),_0x871640(0x644),_0x871640(0x48e),_0x871640(0x401),'le','ge',_0x871640(0x1d4),'pm',_0x871640(0x425),'sin',_0x871640(0x306),_0x871640(0x1d9),_0x871640(0x7ca),'ln','sum','prod',_0x871640(0x290),_0x871640(0x4e0),_0x871640(0x29a),'overline',_0x871640(0x7b0),_0x871640(0x72b),_0x871640(0x747)];_0x3f9aac=_0x3f9aac[_0x871640(0x700)](new RegExp(_0x871640(0x5a8)+_0x120120[_0x871640(0x57e)]('|')+_0x871640(0x119),'g'),'\x5c'),_0x120120[_0x871640(0x785)](_0x2d8119=>{const _0x2e4160=_0x871640;_0x3f9aac=_0x3f9aac[_0x2e4160(0x700)](new RegExp(_0x2e4160(0x59c)+_0x2d8119+'\x5cb','g'),(_0x26d7f7,_0x5d573e)=>_0x5d573e+'\x5c'+_0x2d8119);});const _0x55f720=[[/×/g,_0x871640(0x3e1)],[/·/g,_0x871640(0x21b)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,_0x871640(0x4b3)],[/≠/g,_0x871640(0x1db)],[/±/g,_0x871640(0x6e5)],[/∑/g,_0x871640(0x3e4)],[/−/g,'-']];_0x55f720[_0x871640(0x785)](([_0x2020f0,_0x5ca9a2])=>{_0x3f9aac=_0x3f9aac['replace'](_0x2020f0,_0x5ca9a2);}),_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/√\s*\(([^)]*)\)/g,_0x871640(0x5d8)),_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/√\s*([A-Za-z0-9]+)/g,_0x871640(0x5d8)),_0x3f9aac=_0x3f9aac['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x871640(0x700)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x871640(0x7ef))[_0x871640(0x700)](/(^|[^\\])ext\{/g,_0x871640(0x265))[_0x871640(0x700)](/(^|[^\\])ext\(/g,_0x871640(0x80))[_0x871640(0x700)](/\\text\(([^)]*)\)/g,_0x871640(0x223))[_0x871640(0x700)](/\s\\frac/g,'\x5cfrac'),_0x3f9aac=_0x3f9aac['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x52cf1c,_0x41c142,_0x5de15b,_0xc36d93)=>_0x41c142+_0x871640(0x3b2)+_0x5de15b+'}{'+_0xc36d93+'}'),_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x871640(0x398))[_0x871640(0x700)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x871640(0x398))[_0x871640(0x700)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x871640(0x398)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x871640(0x6e3)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x871640(0x6e3)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x871640(0x6e3)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x871640(0x6e3)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x871640(0x6e3)],[/(\d+)\s*°\s*C/g,_0x871640(0x6e3)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x871640(0x210)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x871640(0x6e3)]][_0x871640(0x785)](([_0x508195,_0xe44b02])=>{const _0x4a514e=_0x871640;_0x3f9aac=_0x3f9aac[_0x4a514e(0x700)](_0x508195,_0xe44b02);}),_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/(\d+)\s*%/g,_0x871640(0x720)),_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x871640(0x775))[_0x871640(0x700)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x871640(0x700)](/\{\{([^\{\}]+)\}\}/g,_0x871640(0x54e)),['sin',_0x871640(0x306),_0x871640(0x1d9),_0x871640(0x7ca),'ln'][_0x871640(0x785)](_0x1ce2d2=>{const _0x45af7d=_0x871640;_0x3f9aac=_0x3f9aac[_0x45af7d(0x700)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x1ce2d2+_0x45af7d(0x601),'g'),(_0x3d0c5c,_0x3af33b)=>_0x3af33b+'\x5c'+_0x1ce2d2+'(');});const _0x257b4f=(_0x3f9aac['match'](/\\left\b/g)||[])[_0x871640(0x6ea)],_0x8bf08d=(_0x3f9aac[_0x871640(0x1ab)](/\\right\b/g)||[])['length'];if(_0x257b4f!==_0x8bf08d)_0x3f9aac=_0x3f9aac[_0x871640(0x700)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x3f9aac=_0x157783(_0x3f9aac),_0x3f9aac;},_0x2dac20=_0x1c6f16=>{const _0x55ba3d=_0x564401;if(/\$|\\\(|\\\[/[_0x55ba3d(0x1b5)](_0x1c6f16))return _0x1c6f16;if(!_0x584e76[_0x55ba3d(0x1b5)](_0x1c6f16))return _0x1c6f16;const _0x216d49=_0x1c6f16[_0x55ba3d(0x1ab)](/^\s*/)[0x0],_0x4bab99=_0x1c6f16[_0x55ba3d(0x1ab)](/\s*$/)[0x0],_0x3e7d4d=_0x1c6f16['trim']();return _0x216d49+'$'+_0x112c25(_0x3e7d4d)+'$'+_0x4bab99;},_0x4786c0=_0x4e39d3=>_0x4e39d3[_0x564401(0x1c5)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x3f461a[_0x564401(0x785)](_0x379473=>{const _0x159429=_0x564401;if(_0x379473[_0x159429(0x66a)]&&_0x379473[_0x159429(0x66a)](_0x159429(0x695)))return;const _0x1c27ff=_0x331337(_0x379473);let _0x5b4ad7=_0x22bd87(_0x1c27ff);_0x5b4ad7=_0x5b4ad7[_0x159429(0x700)](/\$\$([\s\S]*?)\$\$/g,(_0x35f649,_0x426343)=>'$$'+_0x112c25(_0x426343)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x4e8267,_0x1e57b1)=>'$'+_0x112c25(_0x1e57b1)+'$')[_0x159429(0x700)](/\\\(([\s\S]*?)\\\)/g,(_0x52a37c,_0x4047dc)=>'\x5c('+_0x112c25(_0x4047dc)+'\x5c)')[_0x159429(0x700)](/\\\[([\s\S]*?)\\\]/g,(_0x15781d,_0x56d1ff)=>'\x5c['+_0x112c25(_0x56d1ff)+'\x5c]');let _0x29b92c=_0x5b4ad7,_0x19fdf5=0x0;const _0x59ea62=_0x3a5cd9=>_0x3a5cd9['replace'](/S([^S]{0,2000}?)S/g,(_0x4d009d,_0x4d500d)=>_0x584e76[_0x159429(0x1b5)](_0x4d500d)?'$'+_0x112c25(_0x4d500d)+'$':_0x4d009d);while(_0x19fdf5++<0x14){const _0x39ea0a=_0x59ea62(_0x29b92c);if(_0x39ea0a===_0x29b92c)break;_0x29b92c=_0x39ea0a;}_0x5b4ad7=_0x29b92c,_0x5b4ad7=_0x5b4ad7[_0x159429(0x1c5)]('\x0a')[_0x159429(0x657)](_0x583711=>{const _0x2d4765=_0x159429;if(!(/[,\u3001，;；]/[_0x2d4765(0x1b5)](_0x583711)||/\s(?:และ|หรือ)\s/['test'](_0x583711))||!_0x584e76[_0x2d4765(0x1b5)](_0x583711))return _0x583711;return _0x4786c0(_0x583711)[_0x2d4765(0x657)](_0x15fe76=>{const _0x44793c=_0x2d4765;if(/^\s(?:และ|หรือ)\s$/[_0x44793c(0x1b5)](_0x15fe76)||/^[,\u3001，;；]$/[_0x44793c(0x1b5)](_0x15fe76))return _0x15fe76;return _0x2dac20(_0x15fe76);})[_0x2d4765(0x57e)]('');})['join']('\x0a'),_0x5b4ad7=_0x5b4ad7[_0x159429(0x1c5)]('\x0a')[_0x159429(0x657)](_0x485a8f=>{const _0x4726d5=_0x159429,_0x55a99a=_0x485a8f[_0x4726d5(0x65d)]();if(!_0x55a99a)return _0x485a8f;const _0x2d0907=/\$|\\\(|\\\[/[_0x4726d5(0x1b5)](_0x55a99a),_0x13bfe2=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x55a99a);if(_0x2d0907||!_0x13bfe2||_0x319f62(_0x55a99a))return _0x485a8f;return _0x485a8f[_0x4726d5(0x700)](_0x55a99a,'$'+_0x112c25(_0x55a99a)+'$');})[_0x159429(0x57e)]('\x0a'),_0x5b4ad7=_0x5b4ad7['replace'](/(\d+)\s*°\s*C\b/g,(_0x2e63e9,_0x347f4a,_0x35c077,_0x795f39)=>{const _0xd38ae7=_0x795f39[_0x35c077-0x1];if(_0xd38ae7==='$'||_0xd38ae7==='S'||_0xd38ae7==='\x5c')return _0x2e63e9;return'$'+_0x347f4a+'^{\x5ccirc}\x5ctext{C}$';})[_0x159429(0x700)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x43e5c7,_0x21c980,_0x23e113,_0x4dcec1)=>{const _0x41736e=_0x159429,_0x3fd421=_0x4dcec1[_0x23e113-0x1];if(_0x3fd421==='$'||_0x3fd421==='S'||_0x3fd421==='\x5c')return _0x43e5c7;return'$'+_0x21c980+_0x41736e(0x57a);})[_0x159429(0x700)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x383432,_0x546c3e,_0xa4e2b0,_0x522436)=>{const _0x362c70=_0x159429,_0x1b3ac6=_0x522436[_0xa4e2b0-0x1];if(_0x1b3ac6==='$'||_0x1b3ac6==='S'||_0x1b3ac6==='\x5c')return _0x383432;return'$'+_0x546c3e+_0x362c70(0x57a);}),_0x5b4ad7=_0x5b4ad7[_0x159429(0x700)](/\$\s*\$/g,'$$'),_0x5b4ad7!==_0x1c27ff&&(_0x3954af(_0x379473,_0x5b4ad7),_0x5f1dd7++);});if(_0x5f1dd7>0x0){showMessage(_0x564401(0x254)+_0x5f1dd7+_0x564401(0x7e9));try{if(window[_0x564401(0x7e6)]&&MathJax[_0x564401(0x1a9)])MathJax[_0x564401(0x1a9)]();window[_0x564401(0x23b)]&&typeof renderMathInElement===_0x564401(0x531)&&renderMathInElement(_0x3865f7,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x416040){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x3bd166=_0x2a65e7,_0x1a5791=collection(db,_0x3bd166(0x374)+appId+'/public/data/customMathTopics');onSnapshot(_0x1a5791,_0x15e8d1=>{const _0x3babe7=_0x3bd166;customMathTopics=_0x15e8d1['docs'][_0x3babe7(0x657)](_0xf61d92=>({'id':_0xf61d92['id'],..._0xf61d92[_0x3babe7(0x1c7)]()})),renderTopicCheckboxes();},_0x5aa86c=>{const _0x5eac0d=_0x3bd166;console[_0x5eac0d(0x227)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x5aa86c);});}function handleSelectAllTopics(){const _0x1baf49=_0x2a65e7,_0x500aa4=document['getElementById'](_0x1baf49(0x728)),_0x4e1fca=_0x500aa4[_0x1baf49(0x4a9)]('input[type=\x22checkbox\x22]');_0x4e1fca['forEach'](_0x2e7128=>{const _0x419900=_0x1baf49;_0x2e7128[_0x419900(0x635)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5c92ac=_0x2a65e7,_0x1dff26=document[_0x5c92ac(0x337)](_0x5c92ac(0x728)),_0x5d5dc9=_0x1dff26['querySelectorAll'](_0x5c92ac(0x49e));_0x5d5dc9[_0x5c92ac(0x785)](_0x19bd1d=>{const _0x28798c=_0x5c92ac;_0x19bd1d[_0x28798c(0x635)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x218b75){const _0x39f7a7=_0x2a65e7;if(!_0x218b75)return;try{const _0x5e0287=doc(db,_0x39f7a7(0x374)+appId+'/public/data/customMathTopics',_0x218b75);await deleteDoc(_0x5e0287),showMessage(_0x39f7a7(0x18e));}catch(_0x41cf72){console['error'](_0x39f7a7(0x2e9),_0x41cf72),showMessage(_0x39f7a7(0x69b));}}async function handleAddCustomMathTopic(){const _0xee3939=_0x2a65e7,_0x115b1b=document['getElementById'](_0xee3939(0x5bc)),_0x5c0201=_0x115b1b[_0xee3939(0x3d3)][_0xee3939(0x65d)]();if(!_0x5c0201){showMessage(_0xee3939(0x400));return;}if(!userId){showMessage(_0xee3939(0x312));return;}try{const _0x27d637=collection(db,_0xee3939(0x374)+appId+_0xee3939(0x2f9));await addDoc(_0x27d637,{'name':_0x5c0201,'createdAt':serverTimestamp()}),_0x115b1b[_0xee3939(0x3d3)]='',showMessage(_0xee3939(0xb9)+_0x5c0201+_0xee3939(0x710));}catch(_0x4316db){console[_0xee3939(0x227)](_0xee3939(0x9c),_0x4316db),showMessage(_0xee3939(0x3da));}}async function initialize(){const _0x5cb038=_0x2a65e7;try{const _0x5bb099=initializeApp(firebaseConfig);db=getFirestore(_0x5bb099),auth=getAuth(_0x5bb099),setupAuthListener(),setupEventListeners(),showView(_0x5cb038(0x26d)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x3777a2){console[_0x5cb038(0x227)](_0x5cb038(0x1b7),_0x3777a2),showMessage(_0x5cb038(0x6ca));}}function compareNumericalAnswers(_0x10ef45,_0x121b6d){const _0x264cfa=_0x2a65e7,_0xf4f0a4=String(_0x10ef45)[_0x264cfa(0x700)](',','.')[_0x264cfa(0x700)](/[^\d.-]/g,'')['trim'](),_0x18ad0c=String(_0x121b6d)['replace'](',','.')[_0x264cfa(0x700)](/[^\d.-]/g,'')[_0x264cfa(0x65d)]();if(_0xf4f0a4===''||_0x18ad0c==='')return![];const _0x4a4aa4=parseFloat(_0xf4f0a4),_0x5308b4=parseFloat(_0x18ad0c);if(isNaN(_0x4a4aa4)||isNaN(_0x5308b4))return![];return Math[_0x264cfa(0x411)](_0x4a4aa4-_0x5308b4)<0.001;}async function gradeShortAnswer(_0x20d8ca,_0x5dbf2d){const _0x364a7f=_0x2a65e7,_0x1fc5ea=_0x5dbf2d[_0x364a7f(0x226)];if(String(_0x20d8ca)['trim']()['toLowerCase']()===String(_0x1fc5ea)[_0x364a7f(0x65d)]()[_0x364a7f(0x22f)]())return!![];if(compareNumericalAnswers(_0x20d8ca,_0x1fc5ea))return!![];return console['log'](_0x364a7f(0x75e)),await gradeShortAnswerWithAI(_0x20d8ca,_0x1fc5ea);}async function revealAnswerForAdmin(_0x5d9444,_0x305d87){const _0x1ce748=_0x2a65e7;if(document['getElementById']('next-live-question-btn'))return;const _0x987904=doc(db,'artifacts/'+appId+_0x1ce748(0x1af),currentLiveGameId);await updateDoc(_0x987904,{'questionStatus':_0x1ce748(0x4cf)});const _0x1a5f97=liveGameView[_0x1ce748(0x66a)]('[data-is-correct=\x22true\x22]');_0x1a5f97&&(_0x1a5f97[_0x1ce748(0x51a)][_0x1ce748(0x5a5)](_0x1ce748(0x6e9)),_0x1a5f97[_0x1ce748(0x51a)][_0x1ce748(0x57f)](_0x1ce748(0x519),_0x1ce748(0x14a),_0x1ce748(0x42f),_0x1ce748(0x339),_0x1ce748(0x1f7)),_0x1a5f97[_0x1ce748(0x78a)]=_0x1ce748(0x771)+_0x1a5f97[_0x1ce748(0x78a)]);const _0x26c94b=document[_0x1ce748(0x337)](_0x1ce748(0x804));_0x26c94b&&(_0x26c94b[_0x1ce748(0x78a)]=_0x1ce748(0x194)+(_0x5d9444+0x1===_0x305d87?_0x1ce748(0x77):_0x1ce748(0x718))+_0x1ce748(0x3cf),document[_0x1ce748(0x337)]('next-live-question-btn')[_0x1ce748(0x60b)]('click',async()=>{const _0x2c93ca=_0x1ce748,_0x2e2217=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x25523c=await getDoc(_0x2e2217);if(!_0x25523c[_0x2c93ca(0x5b6)]())return;const _0x3ea5ff=_0x25523c[_0x2c93ca(0x1c7)](),_0x3c6836={};if(_0x3ea5ff[_0x2c93ca(0x58e)])for(const _0x4d054f in _0x3ea5ff[_0x2c93ca(0x58e)]){_0x3c6836[_0x2c93ca(0x565)+_0x4d054f+_0x2c93ca(0x7d6)]=![];}const _0x4c3e53=_0x5d9444+0x1;_0x4c3e53<_0x305d87?(_0x3c6836[_0x2c93ca(0x1e4)]=_0x4c3e53,_0x3c6836[_0x2c93ca(0x175)]=serverTimestamp(),_0x3c6836[_0x2c93ca(0x7cb)]=_0x2c93ca(0x2e4),await updateDoc(_0x2e2217,_0x3c6836)):await updateDoc(_0x2e2217,{'status':_0x2c93ca(0x108)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x7fa69d=>{const _0x2487e2=_0x2fd9;if(_0x7fa69d){userId=_0x7fa69d[_0x2487e2(0x179)],userIdDisplay[_0x2487e2(0x8c)]=userId;const _0x3cb4af=await loadUserPreferences();_0x3cb4af['projectSortOrder']&&(document[_0x2487e2(0x337)](_0x2487e2(0x186))['value']=_0x3cb4af['projectSortOrder']);globalDashboardSettings['projectView']=_0x3cb4af[_0x2487e2(0x64c)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0xd1f3cb,_0x1eeefb){const _0x9a2f5d=_0x2a65e7;if(!userId)return;try{const _0x3eb666=doc(db,_0x9a2f5d(0x374)+appId+_0x9a2f5d(0x613)+userId+_0x9a2f5d(0x805)),_0x5b099d={};_0x5b099d[_0xd1f3cb]=_0x1eeefb,await setDoc(_0x3eb666,_0x5b099d,{'merge':!![]});}catch(_0x11f31d){console[_0x9a2f5d(0x227)]('Error\x20saving\x20user\x20preference:',_0x11f31d);}}async function loadUserPreferences(){const _0x494542=_0x2a65e7;if(!userId)return{};try{const _0x2cad3b=doc(db,_0x494542(0x374)+appId+_0x494542(0x613)+userId+'/preferences/main'),_0x520615=await getDoc(_0x2cad3b);if(_0x520615[_0x494542(0x5b6)]())return _0x520615[_0x494542(0x1c7)]();return{};}catch(_0x548c25){return console[_0x494542(0x227)]('Error\x20loading\x20user\x20preferences:',_0x548c25),{};}}function showPodiumView(_0xb50985){const _0x53d727=_0x2a65e7,_0x5ae451=Object[_0x53d727(0x5ce)](_0xb50985)[_0x53d727(0x657)](([_0x55e824,_0xa03e43])=>({'name':_0x55e824,'score':_0xa03e43[_0x53d727(0x17a)]||0x0,'badges':_0xa03e43[_0x53d727(0x5c0)]||[]}));_0x5ae451[_0x53d727(0x48f)]((_0x1b108a,_0x75ab56)=>{const _0xeef62f=_0x53d727,_0x3fa0a9=_0x75ab56['score']-_0x1b108a[_0xeef62f(0x17a)];if(_0x3fa0a9!==0x0)return _0x3fa0a9;return(_0x75ab56['badges']['length']||0x0)-(_0x1b108a[_0xeef62f(0x5c0)]['length']||0x0);});const _0x16ba7b=_0x27a4ef=>{const _0x384f7d=_0x53d727;if(!_0x27a4ef||_0x27a4ef[_0x384f7d(0x6ea)]===0x0)return'';const _0x475b58={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x27a4ef[_0x384f7d(0x657)](_0x3504f6=>_0x475b58[_0x3504f6]||'')[_0x384f7d(0x57e)]('')+_0x384f7d(0x6f);},_0x5c3e96=_0x5ae451[_0x53d727(0x612)](0x3),_0x488aeb=_0x5c3e96['length']>0x0?_0x53d727(0x4e1)+_0x5c3e96[_0x53d727(0x657)]((_0x46371e,_0x28a877)=>_0x53d727(0x768)+(_0x28a877+0x4)+_0x53d727(0x776)+_0x46371e[_0x53d727(0x2c3)]+_0x53d727(0x109)+_0x46371e[_0x53d727(0x17a)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x53d727(0x57e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x2338ea=_0x53d727(0x62a)+(_0x5ae451[0x1]?_0x53d727(0x708)+_0x5ae451[0x1][_0x53d727(0x2c3)]+_0x53d727(0x335)+_0x16ba7b(_0x5ae451[0x1][_0x53d727(0x5c0)])+_0x53d727(0x8a)+_0x5ae451[0x1]['score']+_0x53d727(0x7e5):'<div\x20class=\x22flex-1\x22></div>')+_0x53d727(0x56e)+(_0x5ae451[0x0]?_0x53d727(0x773)+_0x5ae451[0x0][_0x53d727(0x2c3)]+_0x53d727(0x335)+_0x16ba7b(_0x5ae451[0x0][_0x53d727(0x5c0)])+_0x53d727(0x10b)+_0x5ae451[0x0][_0x53d727(0x17a)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x53d727(0xe1))+_0x53d727(0x56e)+(_0x5ae451[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x5ae451[0x2][_0x53d727(0x2c3)]+_0x53d727(0x335)+_0x16ba7b(_0x5ae451[0x2]['badges'])+_0x53d727(0x8a)+_0x5ae451[0x2][_0x53d727(0x17a)]+_0x53d727(0x61c):'<div\x20class=\x22flex-1\x22></div>')+_0x53d727(0x51b)+_0x488aeb+_0x53d727(0x645)+(currentMode===_0x53d727(0x500)?_0x53d727(0x6b0):_0x53d727(0x184))+_0x53d727(0x6f5);liveGameView[_0x53d727(0x78a)]=_0x2338ea,currentMode==='admin'&&document[_0x53d727(0x337)](_0x53d727(0x129))['addEventListener'](_0x53d727(0x78f),async()=>{const _0x3e8396=_0x53d727,_0x31c999=doc(db,_0x3e8396(0x374)+appId+_0x3e8396(0x1af),currentLiveGameId);await deleteDoc(_0x31c999),showView(_0x3e8396(0x293));});}async function handleStartLiveRace(_0x40b92a){const _0x4828d1=_0x2a65e7;let _0x5a70d2=allQuizzes['find'](_0x5c553d=>_0x5c553d['id']===_0x40b92a);if(!_0x5a70d2){const _0xda30f7=doc(db,'artifacts/'+appId+_0x4828d1(0x78d),_0x40b92a),_0x5d72be=await getDoc(_0xda30f7);if(!_0x5d72be[_0x4828d1(0x5b6)]()){showMessage(_0x4828d1(0x4a2));return;}_0x5a70d2={'id':_0x5d72be['id'],..._0x5d72be[_0x4828d1(0x1c7)]()};}currentQuizData=getShuffledQuiz(_0x5a70d2);const _0x7f7096=_0x5a70d2[_0x4828d1(0x658)]||currentProjectId||null,_0xfcb03=Math[_0x4828d1(0x20b)](0x3e8+Math[_0x4828d1(0x418)]()*0x2328)[_0x4828d1(0x42c)]();currentLiveGamePin=_0xfcb03;try{const _0x597ba9=await addDoc(collection(db,_0x4828d1(0x374)+appId+_0x4828d1(0x1af)),{'quizId':_0x40b92a,'projectId':_0x7f7096,'status':_0x4828d1(0x146),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0xfcb03,'createdAt':serverTimestamp()});currentLiveGameId=_0x597ba9['id'],showAdminLobbyView(_0xfcb03,_0x5a70d2[_0x4828d1(0x4f5)]),listenForLiveGameUpdates();}catch(_0x61bbfa){console[_0x4828d1(0x227)]('Error\x20starting\x20live\x20race:',_0x61bbfa),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x7c3e41=_0x2a65e7,_0x26fdbb=document[_0x7c3e41(0x66a)](_0x7c3e41(0x67d));_0x26fdbb&&(_0x26fdbb[_0x7c3e41(0x78a)]=_0x7c3e41(0x7ee));const _0x411b74=document[_0x7c3e41(0x66a)](_0x7c3e41(0x276));_0x411b74&&(_0x411b74[_0x7c3e41(0x78a)]=_0x7c3e41(0x56a));const _0x3981df=document[_0x7c3e41(0x337)](_0x7c3e41(0x51d));_0x3981df[_0x7c3e41(0x51a)][_0x7c3e41(0x5a5)](_0x7c3e41(0x7b3)),document[_0x7c3e41(0x337)]('close-student-rankings-btn')[_0x7c3e41(0x116)]=()=>_0x3981df[_0x7c3e41(0x51a)][_0x7c3e41(0x57f)](_0x7c3e41(0x7b3));const _0x372f90=document[_0x7c3e41(0x337)](_0x7c3e41(0x132)),_0x5f39b3=document[_0x7c3e41(0x337)]('student-project-leaderboard-tab'),_0x19b840=document[_0x7c3e41(0x337)](_0x7c3e41(0x4f7)),_0x5713f9=document['getElementById'](_0x7c3e41(0x13c));_0x372f90['onclick']=()=>{const _0x1a6971=_0x7c3e41;_0x372f90['classList']['add'](_0x1a6971(0x303)),_0x5f39b3[_0x1a6971(0x51a)]['remove'](_0x1a6971(0x303)),_0x19b840[_0x1a6971(0x51a)]['remove'](_0x1a6971(0x7b3)),_0x5713f9[_0x1a6971(0x51a)][_0x1a6971(0x57f)](_0x1a6971(0x7b3));},_0x5f39b3[_0x7c3e41(0x116)]=()=>{const _0x139e61=_0x7c3e41;_0x5f39b3[_0x139e61(0x51a)][_0x139e61(0x57f)]('active'),_0x372f90[_0x139e61(0x51a)][_0x139e61(0x5a5)](_0x139e61(0x303)),_0x5713f9[_0x139e61(0x51a)]['remove'](_0x139e61(0x7b3)),_0x19b840[_0x139e61(0x51a)][_0x139e61(0x57f)](_0x139e61(0x7b3));};try{const _0x3f7507=collection(db,_0x7c3e41(0x374)+appId+_0x7c3e41(0x5de)+currentQuizData['id']+'/submissions'),_0x4ce719=await getDocs(_0x3f7507),_0x429a16=_0x4ce719['docs'][_0x7c3e41(0x657)](_0x4b91b0=>_0x4b91b0['data']());renderQuizLeaderboard(_0x429a16,currentQuizData,'student-quiz-leaderboard-table-body');const _0x88c0a=collection(db,'artifacts/'+appId+_0x7c3e41(0xb0)+currentQuizData[_0x7c3e41(0x658)]+_0x7c3e41(0x5ff)),_0xa08f36=await getDocs(_0x88c0a),_0x188789=_0xa08f36['docs'][_0x7c3e41(0x657)](_0x297b58=>_0x297b58[_0x7c3e41(0x1c7)]());renderLeaderboard(_0x188789,'student-project-leaderboard-table-body');}catch(_0x4886fe){console[_0x7c3e41(0x227)](_0x7c3e41(0x219),_0x4886fe),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x1c5bed){const _0x399958=_0x2a65e7,_0x12edc8=_0x1c5bed[_0x399958(0x136)],_0x1adc61=_0x12edc8[_0x399958(0x301)]['index'],_0x41fe72=currentQuizData['questions'][_0x1adc61];if(!userId){showMessage(_0x399958(0xa2));return;}try{const _0x3e7fd3={..._0x41fe72,'originalTopic':currentQuizData[_0x399958(0x4f5)],'savedAt':serverTimestamp()},_0x437c0e=collection(db,_0x399958(0x374)+appId+_0x399958(0x613)+userId+'/questionBank');await addDoc(_0x437c0e,_0x3e7fd3),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x12edc8['classList'][_0x399958(0x5a5)](_0x399958(0x74b)),_0x12edc8[_0x399958(0x51a)][_0x399958(0x57f)](_0x399958(0x1a3)),_0x12edc8[_0x399958(0x7d9)]=!![];}catch(_0xa04ca7){console[_0x399958(0x227)](_0x399958(0x172),_0xa04ca7),showMessage(_0x399958(0x191));}}function listenForStarredQuizzes(){const _0x50823f=_0x2a65e7;if(!userId)return;const _0x5e054b=collection(db,'artifacts/'+appId+_0x50823f(0x78d)),_0x200aed=query(_0x5e054b,where(_0x50823f(0x99),'==',!![]));onSnapshot(_0x200aed,_0x1414e1=>{const _0xb3ef82=_0x50823f;starredQuizzes=_0x1414e1[_0xb3ef82(0x7dc)]['map'](_0x470d52=>({'id':_0x470d52['id'],..._0x470d52['data']()})),currentProjectId===_0xb3ef82(0x1f2)?renderQuizzes():renderProjects();},_0x2f141c=>{const _0x39756c=_0x50823f;console['error'](_0x39756c(0x2b2),_0x2f141c);});}function exportQuizAsWorksheetPDF(){const _0xefbceb=_0x2a65e7;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4bf68b=currentQuizData,_0x4625fb=window[_0xefbceb(0x526)]('',_0xefbceb(0x51c)),_0x2eeb04=_0x46e4bc=>String[_0xefbceb(0x5f2)](0x41+_0x46e4bc),_0x3065da=_0xefbceb(0x2b4)+_0x4bf68b[_0xefbceb(0x4f5)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x4bf68b[_0xefbceb(0x4f5)]+_0xefbceb(0x534)+_0x4bf68b[_0xefbceb(0xbb)][_0xefbceb(0x657)]((_0x4f12ef,_0x2ad34a)=>{const _0x256879=_0xefbceb;let _0x589735='';const _0x4e8d4d=_0x4f12ef['questionType']||_0x4bf68b[_0x256879(0x58a)];switch(_0x4e8d4d){case _0x256879(0x45b):case'fill_in_with_choices':_0x589735=_0x256879(0x61d)+_0x4f12ef[_0x256879(0x11a)][_0x256879(0x657)]((_0x50a9b4,_0x3b43ec)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2eeb04(_0x3b43ec)+'.\x20'+_0x50a9b4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x256879(0x569))+_0x256879(0x6f);break;case _0x256879(0x4f6):_0x589735=_0x256879(0x542);break;default:_0x589735='<div\x20class=\x22answer-space\x22></div>';break;}return _0x256879(0x1fd)+(_0x2ad34a+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4f12ef[_0x256879(0x514)]||_0x4f12ef['questionText'])+_0x256879(0x584)+(_0x4f12ef[_0x256879(0x2f0)]?_0x256879(0x544)+_0x4f12ef[_0x256879(0x2f0)]+'</div>':'')+_0x256879(0x121)+_0x589735+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xefbceb(0x57e)]('')+_0xefbceb(0x348);_0x4625fb[_0xefbceb(0xc9)][_0xefbceb(0x7b5)](_0x3065da),_0x4625fb[_0xefbceb(0xc9)][_0xefbceb(0x4ff)](),_0x4625fb[_0xefbceb(0x659)]=function(){setTimeout(()=>{const _0x409e58=_0x2fd9;_0x4625fb[_0x409e58(0x553)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x50667d=_0x2a65e7;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x5460ee=currentQuizData,_0x41baa1=window[_0x50667d(0x526)]('',_0x50667d(0x51c)),_0x43b80a=_0x30a3f8=>String[_0x50667d(0x5f2)](0x41+_0x30a3f8),_0xe88586=_0x50667d(0x3f9)+_0x5460ee[_0x50667d(0x4f5)]+_0x50667d(0x792)+_0x5460ee[_0x50667d(0xbb)][_0x50667d(0x657)]((_0x12148f,_0x55ade9)=>{const _0x261548=_0x50667d;let _0x29ec11='';const _0x1bf2dd=_0x12148f['questionType']||_0x5460ee['quizType'];switch(_0x1bf2dd){case _0x261548(0x45b):case _0x261548(0x427):_0x29ec11=_0x261548(0x31a)+_0x12148f[_0x261548(0x11a)][_0x261548(0x657)]((_0x2ddfa1,_0x1a33db)=>_0x261548(0x29f)+_0x43b80a(_0x1a33db)+'.\x20'+_0x2ddfa1+_0x261548(0x66e))['join'](_0x261548(0x569))+_0x261548(0x63c);break;case'true_false':_0x29ec11=_0x261548(0x279);break;default:_0x29ec11='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x5460ee['topic']+_0x261548(0x85)+(_0x55ade9+0x1)+_0x261548(0x5ae)+(_0x12148f[_0x261548(0x514)]||_0x12148f[_0x261548(0x55d)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x12148f[_0x261548(0x2f0)]?_0x261548(0x2b7)+_0x12148f[_0x261548(0x2f0)]+_0x261548(0x6f):'')+_0x261548(0x121)+_0x29ec11+_0x261548(0x4d5);})[_0x50667d(0x57e)]('')+_0x50667d(0x476);_0x41baa1[_0x50667d(0xc9)]['write'](_0xe88586),_0x41baa1['document']['close'](),_0x41baa1[_0x50667d(0x659)]=function(){setTimeout(()=>{const _0x2ac082=_0x2fd9;_0x41baa1[_0x2ac082(0x553)]();},0x5dc);};}function _0x2fd9(_0x2f146e,_0x251b2c){const _0x500600=_0x5006();return _0x2fd9=function(_0x2fd91c,_0xb63747){_0x2fd91c=_0x2fd91c-0x68;let _0x1a3335=_0x500600[_0x2fd91c];return _0x1a3335;},_0x2fd9(_0x2f146e,_0x251b2c);}async function handleToggleStarQuiz(_0x13f20d){const _0x1bac73=_0x2a65e7,_0x31260f=doc(db,_0x1bac73(0x374)+appId+_0x1bac73(0x78d),_0x13f20d);try{const _0x56e951=await getDoc(_0x31260f);if(_0x56e951[_0x1bac73(0x5b6)]()){const _0x50b676=_0x56e951[_0x1bac73(0x1c7)]()[_0x1bac73(0x99)]||![];await updateDoc(_0x31260f,{'isStarred':!_0x50b676});}}catch(_0x2e78a6){console[_0x1bac73(0x227)](_0x1bac73(0xaa),_0x2e78a6),showMessage(_0x1bac73(0x2a5));}}async function displayQuestionBank(){const _0xeda99b=_0x2a65e7,_0x48150b=document[_0xeda99b(0x337)]('bank-input-area');_0x48150b[_0xeda99b(0x78a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1657c3=collection(db,_0xeda99b(0x374)+appId+_0xeda99b(0x613)+userId+_0xeda99b(0x471)),_0x23f262=query(_0x1657c3),_0x1baf55=await getDocs(_0x23f262);if(_0x1baf55['empty']){_0x48150b['innerHTML']=_0xeda99b(0xe9);return;}let _0x47dd83=_0x1baf55[_0xeda99b(0x7dc)][_0xeda99b(0x657)](_0x13f0f0=>{const _0x3e7d0c=_0xeda99b,_0x349913=_0x13f0f0['data'](),_0x35aed8=_0x13f0f0['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON['stringify'](_0x349913)+_0x3e7d0c(0x68b)+(_0x349913[_0x3e7d0c(0x55d)]||_0x349913[_0x3e7d0c(0x514)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x349913[_0x3e7d0c(0x2aa)]+_0x3e7d0c(0x604);})['join']('');_0x48150b[_0xeda99b(0x78a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x47dd83+_0xeda99b(0x379),document[_0xeda99b(0x337)]('create-from-bank-btn')[_0xeda99b(0x60b)]('click',createQuizFromBank);}catch(_0x1d629d){console[_0xeda99b(0x227)](_0xeda99b(0x684),_0x1d629d),_0x48150b[_0xeda99b(0x78a)]=_0xeda99b(0x3e5);}}function showAdminLiveQuestionView(_0x340aa9,_0xa8e8e2,_0x3d34af){const _0x530023=_0x2a65e7,_0xb98177=_0x340aa9[_0x530023(0x4f9)]||currentQuizData['quizType'];let _0x107fac='';if(_0xb98177==='multiple_choice'||_0xb98177===_0x530023(0x4f6)){const _0x3b9404=_0xb98177===_0x530023(0x4f6)?['ใช่',_0x530023(0x11f)]:_0x340aa9[_0x530023(0x11a)],_0x11d813=_0xb98177===_0x530023(0x4f6)?_0x340aa9[_0x530023(0x685)]?0x0:0x1:_0x340aa9['correctAnswerIndex'];_0x107fac=_0x3b9404[_0x530023(0x657)]((_0x162310,_0x2a77f4)=>_0x530023(0x79e)+(_0x2a77f4===_0x11d813)+_0x530023(0x1dc)+_0x162310+_0x530023(0x147))[_0x530023(0x57e)]('');}else{if(_0xb98177===_0x530023(0x3b4)){const _0x2da686=_0x340aa9[_0x530023(0x7bc)]||[];_0x107fac=_0x2da686[_0x530023(0x657)](_0x134899=>_0x530023(0x79e)+(_0x134899===_0x340aa9[_0x530023(0x457)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x134899+_0x530023(0x147))['join']('');}}const _0x4b27ff=_0x340aa9[_0x530023(0x514)]||_0x340aa9[_0x530023(0x55d)],_0x42de8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0xa8e8e2+0x1)+'\x20/\x20'+_0x3d34af+_0x530023(0x4c0)+_0x4b27ff+_0x530023(0x130)+_0x107fac+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x530023(0x78a)]=_0x42de8d;window['MathJax']&&MathJax[_0x530023(0x1a9)]&&MathJax['typesetPromise']([liveGameView]);const _0x57b337=document[_0x530023(0x337)](_0x530023(0x804));document['getElementById'](_0x530023(0x140))[_0x530023(0x60b)](_0x530023(0x78f),async()=>{const _0x368c96=_0x530023,_0x4cbb46=doc(db,_0x368c96(0x374)+appId+_0x368c96(0x1af),currentLiveGameId);await updateDoc(_0x4cbb46,{'questionStatus':'revealed'});const _0x1d61e2=liveGameView[_0x368c96(0x66a)](_0x368c96(0x53e));_0x1d61e2&&(_0x1d61e2[_0x368c96(0x51a)]['remove'](_0x368c96(0x6e9)),_0x1d61e2['classList'][_0x368c96(0x57f)]('bg-green-300',_0x368c96(0x14a),_0x368c96(0x42f),_0x368c96(0x339),_0x368c96(0x1f7)),_0x1d61e2[_0x368c96(0x78a)]=_0x368c96(0x771)+_0x1d61e2['innerHTML']),_0x57b337[_0x368c96(0x78a)]=_0x368c96(0x194)+(_0xa8e8e2+0x1===_0x3d34af?_0x368c96(0x77):_0x368c96(0x718))+_0x368c96(0x3cf),document['getElementById']('next-live-question-btn')['addEventListener']('click',async()=>{const _0x27d5d2=_0x368c96,_0x213bcb=doc(db,'artifacts/'+appId+_0x27d5d2(0x1af),currentLiveGameId),_0x4af5b8=await getDoc(_0x213bcb);if(!_0x4af5b8[_0x27d5d2(0x5b6)]())return;const _0x4e5c1c=_0x4af5b8[_0x27d5d2(0x1c7)](),_0x509de2={};if(_0x4e5c1c[_0x27d5d2(0x58e)])for(const _0x12128d in _0x4e5c1c[_0x27d5d2(0x58e)]){_0x509de2['players.'+_0x12128d+_0x27d5d2(0x7d6)]=![];}const _0x30167c=_0xa8e8e2+0x1;_0x30167c<_0x3d34af?(_0x509de2['currentQuestionIndex']=_0x30167c,_0x509de2['questionDisplayedAt']=serverTimestamp(),_0x509de2[_0x27d5d2(0x7cb)]='answering',await updateDoc(_0x213bcb,_0x509de2)):await updateDoc(_0x213bcb,{'status':'podium'});});}),document[_0x530023(0x337)]('end-game-btn')['addEventListener'](_0x530023(0x78f),async()=>{const _0x515e87=_0x530023,_0x52e14a=doc(db,_0x515e87(0x374)+appId+_0x515e87(0x1af),currentLiveGameId);await deleteDoc(_0x52e14a),showView(_0x515e87(0x293));});}function showStudentLiveQuestionView(_0x5311f9,_0x588f53,_0x4d5d89){const _0x34499d=_0x2a65e7,_0x3d924c=_0x5311f9[_0x34499d(0x4f9)]||currentQuizData[_0x34499d(0x58a)];let _0x4c0a2e='';if(_0x3d924c===_0x34499d(0x45b)||_0x3d924c===_0x34499d(0x4f6)){const _0x45ef86=_0x3d924c==='true_false'?[_0x34499d(0x7a6),'ไม่ใช่']:_0x5311f9[_0x34499d(0x11a)];_0x4c0a2e=_0x45ef86[_0x34499d(0x657)]((_0x4aea91,_0x2a68a8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2a68a8+_0x34499d(0x83)+_0x4aea91+_0x34499d(0x41c))[_0x34499d(0x57e)]('');}else{if(_0x3d924c==='matching_item'){const _0x32e6da=_0x5311f9[_0x34499d(0x7bc)]||[];_0x4c0a2e=_0x32e6da[_0x34499d(0x657)]((_0x46e6a9,_0x398ecf)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x398ecf+_0x34499d(0x83)+_0x46e6a9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x34499d(0x57e)]('');}else _0x3d924c===_0x34499d(0x2cc)&&(_0x4c0a2e=_0x34499d(0x7dd));}const _0x352d5d=_0x5311f9[_0x34499d(0x514)]||_0x5311f9[_0x34499d(0x55d)],_0x442179='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x588f53+0x1)+_0x34499d(0x6c7)+_0x4d5d89+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x352d5d+_0x34499d(0x268)+_0x4c0a2e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x34499d(0x78a)]=_0x442179;window[_0x34499d(0x7e6)]&&MathJax['typesetPromise']&&MathJax[_0x34499d(0x1a9)]([liveGameView]);const _0x2eaea1=document[_0x34499d(0x337)](_0x34499d(0x6b7));_0x2eaea1&&_0x2eaea1['addEventListener'](_0x34499d(0x78f),()=>{const _0xb25c=_0x34499d,_0x497938=document[_0xb25c(0x337)](_0xb25c(0x593))[_0xb25c(0x3d3)];handleLiveAnswer(_0x497938,_0x5311f9);}),document['getElementById'](_0x34499d(0x458))['addEventListener'](_0x34499d(0x78f),_0x274efe=>{const _0x5a53e3=_0x34499d,_0x483513=_0x274efe[_0x5a53e3(0x706)][_0x5a53e3(0x6d2)]('.live-answer-btn');if(_0x483513){const _0x39b6a4=parseInt(_0x483513[_0x5a53e3(0x301)]['index']);handleLiveAnswer(_0x39b6a4,_0x5311f9);}});}async function handleLiveAnswer(_0x1af026,_0x11c65f){const _0x25eb95=_0x2a65e7;document['querySelectorAll'](_0x25eb95(0x1ee))[_0x25eb95(0x785)](_0x11f3d0=>_0x11f3d0[_0x25eb95(0x7d9)]=!![]);const _0x53b8c3=_0x11c65f[_0x25eb95(0x4f9)]||currentQuizData['quizType'];let _0x16dbeb=![];if(_0x53b8c3===_0x25eb95(0x2cc)){const _0x1b8756=(_0x1af026||'')[_0x25eb95(0x42c)]();_0x16dbeb=await gradeShortAnswer(_0x1b8756,_0x11c65f);}else{if(_0x53b8c3===_0x25eb95(0x45b))_0x16dbeb=_0x1af026===_0x11c65f[_0x25eb95(0x539)];else{if(_0x53b8c3===_0x25eb95(0x4f6)){const _0x54fbc0=_0x11c65f['correctAnswer'];_0x16dbeb=_0x1af026===0x0&&_0x54fbc0||_0x1af026===0x1&&!_0x54fbc0;}else{if(_0x53b8c3===_0x25eb95(0x3b4)){const _0x5363df=_0x11c65f[_0x25eb95(0x7bc)][_0x1af026];_0x16dbeb=_0x5363df===_0x11c65f[_0x25eb95(0x457)];}}}}const _0x514789=doc(db,_0x25eb95(0x374)+appId+_0x25eb95(0x1af),currentLiveGameId),_0x524bc1=await getDoc(_0x514789);if(!_0x524bc1[_0x25eb95(0x5b6)]())return;const _0x514f6c=_0x524bc1['data'](),_0x3f2edd=_0x514f6c[_0x25eb95(0x58e)][currentStudentName];let _0x33d0b5=_0x3f2edd[_0x25eb95(0x5c0)]||[],_0x197628=_0x3f2edd[_0x25eb95(0x492)]||0x0;const _0x3312ab={};let _0x43cba4=0x0;if(_0x514f6c['questionDisplayedAt']){const _0x4927b5=_0x514f6c[_0x25eb95(0x175)][_0x25eb95(0x682)](),_0x4aedb9=new Date()-_0x4927b5;if(_0x16dbeb){const _0x2a24d9=0x3e8,_0x1c2abb=0x1f4,_0x26a921=0x4e20;let _0x495167=_0x4aedb9/_0x26a921;if(_0x495167>0x1)_0x495167=0x1;const _0x290096=Math[_0x25eb95(0x632)](_0x495167*_0x1c2abb);_0x43cba4=_0x2a24d9-_0x290096,_0x4aedb9<=0x1388&&!_0x33d0b5[_0x25eb95(0x714)](_0x25eb95(0x15b))&&_0x33d0b5[_0x25eb95(0x50e)]('quick_thinker');}}_0x16dbeb?(_0x197628++,_0x197628===0x3&&!_0x33d0b5[_0x25eb95(0x714)](_0x25eb95(0x305))&&(_0x33d0b5[_0x25eb95(0x50e)](_0x25eb95(0x305)),_0x197628=0x0)):_0x197628=0x0,_0x16dbeb&&(_0x3312ab[_0x25eb95(0x565)+currentStudentName+_0x25eb95(0x466)]=increment(_0x43cba4)),_0x3312ab[_0x25eb95(0x565)+currentStudentName+_0x25eb95(0x742)]=_0x33d0b5,_0x3312ab[_0x25eb95(0x565)+currentStudentName+_0x25eb95(0xea)]=_0x197628,_0x3312ab[_0x25eb95(0x565)+currentStudentName+_0x25eb95(0x7d6)]=!![],_0x3312ab['players.'+currentStudentName+'.lastAnswerCorrect']=_0x16dbeb,_0x3312ab[_0x25eb95(0x565)+currentStudentName+_0x25eb95(0x3a2)]=_0x43cba4,await updateDoc(_0x514789,_0x3312ab),liveGameView[_0x25eb95(0x78a)]=_0x25eb95(0x3a9);}function createQuizFromBank(){const _0x2cba3f=_0x2a65e7,_0x4ffcd8=document[_0x2cba3f(0x4a9)](_0x2cba3f(0x59b));if(_0x4ffcd8[_0x2cba3f(0x6ea)]===0x0){showMessage(_0x2cba3f(0x70c));return;}const _0x3b98f5=[];_0x4ffcd8[_0x2cba3f(0x785)](_0x541c9a=>{const _0x4ec635=_0x2cba3f;_0x3b98f5[_0x4ec635(0x50e)](JSON[_0x4ec635(0x2e0)](_0x541c9a[_0x4ec635(0x3d3)]));});const _0x7fabf0={'topic':_0x2cba3f(0x6b2),'questions':_0x3b98f5};displayGeneratedQuiz(_0x7fabf0);}function showAdminLobbyView(_0xfe191c,_0x59c9f1){const _0x211a82=_0x2a65e7;showView(_0x211a82(0x667));const _0x4c00b1=_0x211a82(0x74f)+_0x59c9f1+_0x211a82(0x79d)+_0xfe191c+_0x211a82(0x561);liveGameView[_0x211a82(0x78a)]=_0x4c00b1,document['getElementById'](_0x211a82(0x6b1))['addEventListener']('click',async()=>{const _0x5c0dfc=_0x211a82;if(!currentQuizData||!currentQuizData[_0x5c0dfc(0xbb)]||currentQuizData['questions'][_0x5c0dfc(0x6ea)]===0x0){showMessage(_0x5c0dfc(0x502));return;}try{const _0x42491a=doc(db,'artifacts/'+appId+_0x5c0dfc(0x1af),currentLiveGameId);await updateDoc(_0x42491a,{'status':_0x5c0dfc(0x358),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2bdea0=currentQuizData[_0x5c0dfc(0xbb)][0x0],_0x46846f=currentQuizData['questions'][_0x5c0dfc(0x6ea)];showAdminLiveQuestionView(_0x2bdea0,0x0,_0x46846f);}catch(_0x1709d5){console[_0x5c0dfc(0x227)]('Error\x20starting\x20game:',_0x1709d5),showMessage(_0x5c0dfc(0x231));}});}async function openGlobalLiveModal(){const _0x5c5d21=_0x2a65e7;if(allQuizzesGlobal[_0x5c5d21(0x6ea)]===0x0){const _0x2433c3=await getDocs(collection(db,'artifacts/'+appId+_0x5c5d21(0x78d)));allQuizzesGlobal=_0x2433c3['docs'][_0x5c5d21(0x657)](_0x2eeca8=>({'id':_0x2eeca8['id'],..._0x2eeca8[_0x5c5d21(0x1c7)]()}));}renderGlobalQuizList(''),document[_0x5c5d21(0x337)](_0x5c5d21(0x1c9))[_0x5c5d21(0x51a)][_0x5c5d21(0x5a5)](_0x5c5d21(0x7b3));}async function openQuizBankModal(){const _0x372f06=_0x2a65e7;if(allQuizzesGlobal[_0x372f06(0x6ea)]===0x0){const _0x33ed57=await getDocs(collection(db,_0x372f06(0x374)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x33ed57['docs'][_0x372f06(0x657)](_0x4f4501=>({'id':_0x4f4501['id'],..._0x4f4501[_0x372f06(0x1c7)]()}));}renderQuizBankList(''),document[_0x372f06(0x337)](_0x372f06(0x67e))[_0x372f06(0x51a)][_0x372f06(0x5a5)]('hidden');}function renderQuizBankList(_0x53cd02=''){const _0x456b9e=_0x2a65e7,_0x5246f1=document['getElementById'](_0x456b9e(0x7e1)),_0x3f4eb4=_0x53cd02['toLowerCase']()['trim'](),_0x43c598=allQuizzesGlobal[_0x456b9e(0x657)](_0x1a4820=>({..._0x1a4820,'projectName':allProjects[_0x456b9e(0x282)](_0x15115d=>_0x15115d['id']===_0x1a4820['projectId'])?.['projectName']||_0x456b9e(0x20f)}))[_0x456b9e(0x3fd)](_0x174d5e=>(_0x174d5e['topic']||'')['toLowerCase']()['includes'](_0x3f4eb4)||(_0x174d5e[_0x456b9e(0x4ad)]||'')[_0x456b9e(0x22f)]()[_0x456b9e(0x714)](_0x3f4eb4)||_0x174d5e['id'][_0x456b9e(0x42c)]()[_0x456b9e(0x714)](_0x3f4eb4));document[_0x456b9e(0x337)](_0x456b9e(0x77c))['textContent']='('+_0x43c598['length']+_0x456b9e(0x1a6),_0x5246f1[_0x456b9e(0x78a)]=_0x43c598[_0x456b9e(0x6ea)]?_0x43c598[_0x456b9e(0x657)](_0x1d6f83=>_0x456b9e(0x340)+_0x1d6f83['id']+_0x456b9e(0x420)+(_0x1d6f83['topic']||_0x456b9e(0x2a9))+_0x456b9e(0x2f5)+(_0x1d6f83[_0x456b9e(0xbb)]?.['length']||0x0)+_0x456b9e(0x63f)+_0x1d6f83[_0x456b9e(0x4ad)]+_0x456b9e(0x4f3)+_0x1d6f83['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d6f83['id']+_0x456b9e(0x520)+_0x1d6f83['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d6f83['id']+_0x456b9e(0x22d))['join'](''):_0x456b9e(0x778),_0x5246f1[_0x456b9e(0x4a9)]('.quiz-bank-item')[_0x456b9e(0x785)](_0x5f454a=>{const _0x2c79eb=_0x456b9e;_0x5f454a[_0x2c79eb(0x60b)]('click',()=>{const _0x38fe78=_0x2c79eb,_0xc33d58=_0x5f454a[_0x38fe78(0x301)]['id'];document['getElementById'](_0x38fe78(0x67e))[_0x38fe78(0x51a)][_0x38fe78(0x57f)](_0x38fe78(0x7b3)),showQuizDetailView(_0xc33d58);});}),_0x5246f1[_0x456b9e(0x4a9)](_0x456b9e(0x7a0))['forEach'](_0x1ee01b=>{const _0x5ba987=_0x456b9e;_0x1ee01b[_0x5ba987(0x60b)]('click',_0x4fc884=>{const _0xf9ec8e=_0x5ba987;_0x4fc884[_0xf9ec8e(0x6d0)]();const _0xcb77ee=_0x1ee01b[_0xf9ec8e(0x301)]['id'],_0xb0751c=allQuizzesGlobal['find'](_0x3d4100=>_0x3d4100['id']===_0xcb77ee);_0xb0751c?(currentQuizData=_0xb0751c,document[_0xf9ec8e(0x337)](_0xf9ec8e(0x67e))[_0xf9ec8e(0x51a)][_0xf9ec8e(0x57f)](_0xf9ec8e(0x7b3)),startAdminTest()):showMessage(_0xf9ec8e(0x4a2));});}),_0x5246f1[_0x456b9e(0x4a9)](_0x456b9e(0x68a))['forEach'](_0x52d618=>{const _0x2960fc=_0x456b9e;_0x52d618[_0x2960fc(0x60b)](_0x2960fc(0x78f),_0x31727b=>{const _0x3e8f2e=_0x2960fc;_0x31727b[_0x3e8f2e(0x6d0)]();const _0x11b34d=_0x52d618['dataset']['id'],_0x5e7c02=allQuizzesGlobal['find'](_0x55de41=>_0x55de41['id']===_0x11b34d);_0x5e7c02?(document[_0x3e8f2e(0x337)](_0x3e8f2e(0x67e))[_0x3e8f2e(0x51a)]['add'](_0x3e8f2e(0x7b3)),handleGenerateParallelFromBank(_0x5e7c02)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5246f1[_0x456b9e(0x4a9)](_0x456b9e(0x46a))[_0x456b9e(0x785)](_0x10eb93=>{const _0x273656=_0x456b9e;_0x10eb93[_0x273656(0x60b)]('click',_0x4030ba=>{const _0x4cf0f7=_0x273656;_0x4030ba['stopPropagation']();const _0x1e72b3=_0x10eb93[_0x4cf0f7(0x301)]['id'],_0x22726e=allQuizzesGlobal[_0x4cf0f7(0x282)](_0x5273cc=>_0x5273cc['id']===_0x1e72b3);_0x22726e?(document[_0x4cf0f7(0x337)](_0x4cf0f7(0x67e))[_0x4cf0f7(0x51a)][_0x4cf0f7(0x57f)]('hidden'),startPresentation(_0x22726e)):showMessage(_0x4cf0f7(0x4a2));});});}async function handleCompareResults(_0x3cce8a,_0x230112,_0x5a270d=null){const _0x2a3485=_0x2a65e7,_0x510900=document[_0x2a3485(0x337)]('comparison-modal'),_0x35fbcb=document['getElementById'](_0x2a3485(0x1fc)),_0x2ad42f=document[_0x2a3485(0x337)](_0x2a3485(0x1b1));document[_0x2a3485(0x337)](_0x2a3485(0x47f))['classList'][_0x2a3485(0x57f)]('active'),document[_0x2a3485(0x337)](_0x2a3485(0xe6))[_0x2a3485(0x51a)]['remove'](_0x2a3485(0x303)),_0x35fbcb[_0x2a3485(0x51a)]['remove']('hidden'),_0x2ad42f[_0x2a3485(0x51a)]['add'](_0x2a3485(0x7b3)),_0x35fbcb[_0x2a3485(0x78a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2ad42f['innerHTML']='',_0x510900['classList'][_0x2a3485(0x5a5)](_0x2a3485(0x7b3));try{const _0xce6455=doc(db,_0x2a3485(0x374)+appId+_0x2a3485(0x78d),_0x3cce8a),_0x21205a=await getDoc(_0xce6455);if(!_0x21205a[_0x2a3485(0x5b6)]())throw new Error(_0x2a3485(0x195));const _0x34982c=_0x21205a['data'](),_0x4a7fec=_0x34982c[_0x2a3485(0xbb)][_0x2a3485(0x6ea)],_0x1387f0=collection(db,_0x2a3485(0x374)+appId+'/public/data/quizzes/'+_0x230112+_0x2a3485(0x443)),_0x3c5b99=collection(db,_0x2a3485(0x374)+appId+_0x2a3485(0x5de)+_0x3cce8a+_0x2a3485(0x443)),[_0x5056e4,_0x5b62e9]=await Promise[_0x2a3485(0x760)]([getDocs(_0x1387f0),getDocs(_0x3c5b99)]),_0xb52863=_0x5056e4[_0x2a3485(0x7dc)][_0x2a3485(0x657)](_0x37a127=>_0x37a127[_0x2a3485(0x1c7)]()),_0x57b6f2=_0x5b62e9[_0x2a3485(0x7dc)][_0x2a3485(0x657)](_0x370d93=>_0x370d93[_0x2a3485(0x1c7)]()),_0x2e849b=_0xb52863['map'](_0x3fa1c8=>_0x3fa1c8[_0x2a3485(0x5a6)]),_0x3121f6=_0x57b6f2[_0x2a3485(0x657)](_0x25fa2a=>_0x25fa2a[_0x2a3485(0x5a6)]),_0x228589=calculateMeanAndStdDev(_0x2e849b),_0x4418dc=calculateMeanAndStdDev(_0x3121f6),_0xba87df=_0x228589[_0x2a3485(0x576)],_0x539b7e=_0x4418dc['mean'],_0x4479f9=_0x539b7e-_0xba87df;let _0x1db8ad=_0x2a3485(0x1a4)+_0xba87df[_0x2a3485(0x2bd)](0x2)+_0x2a3485(0x78e)+_0x539b7e[_0x2a3485(0x2bd)](0x2)+_0x2a3485(0x7d)+(_0x4479f9>=0x0?_0x2a3485(0x47e):_0x2a3485(0x694))+_0x2a3485(0x4cb)+(_0x4479f9>=0x0?_0x2a3485(0x6aa):_0x2a3485(0xd9))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x4479f9>=0x0?_0x2a3485(0x597):_0x2a3485(0x3c8))+'\x22>'+(_0x4479f9>=0x0?'+':'')+_0x4479f9[_0x2a3485(0x2bd)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x35fbcb[_0x2a3485(0x78a)]=_0x1db8ad;const _0x70bba3=document[_0x2a3485(0x337)](_0x2a3485(0x4b2))[_0x2a3485(0x2ce)]('2d');if(chartInstances['comparison'])chartInstances[_0x2a3485(0xbe)][_0x2a3485(0x96)]();chartInstances[_0x2a3485(0xbe)]=new Chart(_0x70bba3,{'type':_0x2a3485(0x4f4),'data':{'labels':[_0x2a3485(0x465)],'datasets':[{'label':'ก่อนเรียน','data':[_0xba87df],'backgroundColor':_0x2a3485(0x4bc)},{'label':_0x2a3485(0x39a),'data':[_0x539b7e],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4a7fec}}}});const _0x16b181=_0x5a270d||currentProjectData[_0x2a3485(0x2f3)]||[],_0x1d644b=_0x16b181[_0x2a3485(0x657)](_0x3c7179=>{const _0x19074b=_0x2a3485,_0x27f0cb=_0xb52863[_0x19074b(0x282)](_0x2957e7=>_0x2957e7['studentName']===_0x3c7179),_0x2982d2=_0x57b6f2[_0x19074b(0x282)](_0xfc5b1c=>_0xfc5b1c['studentName']===_0x3c7179),_0x49fe4e=_0x27f0cb?_0x27f0cb[_0x19074b(0x5a6)]:null,_0x15e60f=_0x2982d2?_0x2982d2['latestScore']:null,_0x5435ee=_0x49fe4e!==null&&_0x15e60f!==null?_0x15e60f-_0x49fe4e:null,_0x3d15ad=_0x49fe4e!==null?calculateZScore(_0x49fe4e,_0x228589['mean'],_0x228589[_0x19074b(0x225)]):null,_0x5ec525=_0x15e60f!==null?calculateZScore(_0x15e60f,_0x4418dc[_0x19074b(0x576)],_0x4418dc[_0x19074b(0x225)]):null,_0x1a580d=_0x3d15ad!==null?calculateTScore(_0x3d15ad):null,_0x6c1698=_0x5ec525!==null?calculateTScore(_0x5ec525):null,_0x33fc88=_0x1a580d!==null&&_0x6c1698!==null?_0x6c1698-_0x1a580d:null;return{'name':_0x3c7179,'preScore':_0x49fe4e,'postScore':_0x15e60f,'gain':_0x5435ee,'preTScore':_0x1a580d,'postTScore':_0x6c1698,'tGain':_0x33fc88};});renderIndividualComparisonTable(_0x1d644b,_0x2ad42f);}catch(_0x2f9a3d){console['error'](_0x2a3485(0x324),_0x2f9a3d),_0x35fbcb[_0x2a3485(0x78a)]=_0x2a3485(0x24a);}}function renderIndividualComparisonTable(_0x5c28e0,_0x172545){const _0x1fa106=_0x2a65e7;_0x5c28e0[_0x1fa106(0x48f)]((_0x3137b1,_0x23c6ba)=>(_0x23c6ba[_0x1fa106(0x524)]??-Infinity)-(_0x3137b1[_0x1fa106(0x524)]??-Infinity));let _0x3ff5c0=_0x1fa106(0x55f);_0x5c28e0[_0x1fa106(0x6ea)]===0x0?_0x3ff5c0+=_0x1fa106(0x13f):_0x5c28e0[_0x1fa106(0x785)]((_0x2af2ce,_0x33c708)=>{const _0xe8b11b=_0x1fa106;let _0x5e0b1c='-',_0x3fa786='';if(_0x2af2ce[_0xe8b11b(0x4eb)]!==null){const _0x4d347c=_0x2af2ce[_0xe8b11b(0x4eb)]>0x0?_0xe8b11b(0x1a3):_0x2af2ce[_0xe8b11b(0x4eb)]<0x0?'text-red-600':_0xe8b11b(0x1c4),_0x49bb45=_0x2af2ce['gain']>0x0?'+':'';_0x5e0b1c='<span\x20class=\x22font-bold\x20'+_0x4d347c+'\x22>'+_0x49bb45+_0x2af2ce[_0xe8b11b(0x4eb)]+_0xe8b11b(0x66e);if(_0x2af2ce['gain']>0x0)_0x3fa786=_0xe8b11b(0x133);else _0x2af2ce[_0xe8b11b(0x4eb)]<0x0?_0x3fa786=_0xe8b11b(0x450):_0x3fa786=_0xe8b11b(0x388);}let _0x2796c9='-';if(_0x2af2ce[_0xe8b11b(0x524)]!==null){const _0x4a2395=_0x2af2ce[_0xe8b11b(0x524)]>0x0?'text-green-600':_0x2af2ce[_0xe8b11b(0x524)]<0x0?_0xe8b11b(0x351):'text-gray-500',_0x4ea206=_0x2af2ce[_0xe8b11b(0x524)]>0x0?'+':'';_0x2796c9=_0xe8b11b(0x59f)+_0x4a2395+'\x22>'+_0x4ea206+_0x2af2ce[_0xe8b11b(0x524)][_0xe8b11b(0x2bd)](0x2)+'</span>';}_0x3ff5c0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x33c708+0x1)+_0xe8b11b(0x653)+_0x2af2ce[_0xe8b11b(0x2c3)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2af2ce['preScore']??'-')+_0xe8b11b(0x5b4)+(_0x2af2ce[_0xe8b11b(0x87)]??'-')+_0xe8b11b(0x277)+_0x5e0b1c+_0xe8b11b(0x7be)+_0x3fa786+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2af2ce['preTScore']?.[_0xe8b11b(0x2bd)](0x2)??'-')+_0xe8b11b(0x772)+(_0x2af2ce['postTScore']?.[_0xe8b11b(0x2bd)](0x2)??'-')+_0xe8b11b(0x277)+_0x2796c9+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3ff5c0+=_0x1fa106(0x723),_0x172545[_0x1fa106(0x78a)]=_0x3ff5c0;}function handleRenameQuiz(_0x4cc41c,_0x522ac2){const _0x271d56=_0x2a65e7;actionTargetId=_0x4cc41c,document['getElementById'](_0x271d56(0x38a))[_0x271d56(0x3d3)]=_0x522ac2,renameQuizModal[_0x271d56(0x51a)][_0x271d56(0x5a5)](_0x271d56(0x7b3));}function setupComparisonModalTabs(){const _0x29fcc1=_0x2a65e7,_0x423946=document[_0x29fcc1(0x337)](_0x29fcc1(0x47f)),_0x2f2ee7=document['getElementById']('comparison-individual-tab'),_0x2a512c=document[_0x29fcc1(0x337)](_0x29fcc1(0x1fc)),_0x2c4dfb=document[_0x29fcc1(0x337)](_0x29fcc1(0x1b1));_0x423946[_0x29fcc1(0x60b)]('click',()=>{const _0x149e3d=_0x29fcc1;_0x423946[_0x149e3d(0x51a)][_0x149e3d(0x57f)](_0x149e3d(0x303)),_0x2f2ee7['classList'][_0x149e3d(0x5a5)](_0x149e3d(0x303)),_0x2a512c[_0x149e3d(0x51a)][_0x149e3d(0x5a5)](_0x149e3d(0x7b3)),_0x2c4dfb[_0x149e3d(0x51a)][_0x149e3d(0x57f)](_0x149e3d(0x7b3));}),_0x2f2ee7[_0x29fcc1(0x60b)](_0x29fcc1(0x78f),()=>{const _0x53cbea=_0x29fcc1;_0x2f2ee7[_0x53cbea(0x51a)][_0x53cbea(0x57f)](_0x53cbea(0x303)),_0x423946[_0x53cbea(0x51a)][_0x53cbea(0x5a5)]('active'),_0x2c4dfb[_0x53cbea(0x51a)][_0x53cbea(0x5a5)](_0x53cbea(0x7b3)),_0x2a512c['classList'][_0x53cbea(0x57f)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x3cfffb=''){const _0x4cb9bb=_0x2a65e7,_0x3cea55=document[_0x4cb9bb(0x337)](_0x4cb9bb(0x22a)),_0x2e39d8=_0x3cfffb['toLowerCase']()[_0x4cb9bb(0x65d)](),_0x5a5d43=allQuizzesGlobal['map'](_0x5cb1f6=>({..._0x5cb1f6,'projectName':allProjects['find'](_0x438f01=>_0x438f01['id']===_0x5cb1f6['projectId'])?.[_0x4cb9bb(0x4ad)]||_0x5cb1f6[_0x4cb9bb(0x658)]}))[_0x4cb9bb(0x3fd)](_0x2a6b71=>(_0x2a6b71[_0x4cb9bb(0x4f5)]||'')[_0x4cb9bb(0x22f)]()[_0x4cb9bb(0x714)](_0x2e39d8)||(_0x2a6b71[_0x4cb9bb(0x4ad)]||'')[_0x4cb9bb(0x22f)]()[_0x4cb9bb(0x714)](_0x2e39d8));document[_0x4cb9bb(0x337)]('global-live-game-count')[_0x4cb9bb(0x8c)]='('+_0x5a5d43[_0x4cb9bb(0x6ea)]+'\x20ชุด)',_0x3cea55[_0x4cb9bb(0x78a)]=_0x5a5d43[_0x4cb9bb(0x6ea)]?_0x5a5d43['map'](_0xf27fd2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf27fd2['id']+_0x4cb9bb(0x7fc)+(_0xf27fd2[_0x4cb9bb(0x4f5)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xf27fd2[_0x4cb9bb(0xbb)]?.[_0x4cb9bb(0x6ea)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0xf27fd2[_0x4cb9bb(0x4ad)]+_0x4cb9bb(0x236))[_0x4cb9bb(0x57e)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x4cb9bb(0x337)](_0x4cb9bb(0x43b))[_0x4cb9bb(0x7d9)]=!![],_0x3cea55[_0x4cb9bb(0x4a9)](_0x4cb9bb(0x485))[_0x4cb9bb(0x785)](_0x4ab8cb=>{const _0x282846=_0x4cb9bb;_0x4ab8cb[_0x282846(0x60b)](_0x282846(0x78f),()=>{const _0x5e1a12=_0x282846;selectedGlobalQuizId=_0x4ab8cb[_0x5e1a12(0x301)]['id'],_0x3cea55[_0x5e1a12(0x4a9)](_0x5e1a12(0x30d))[_0x5e1a12(0x785)](_0x1bec8a=>_0x1bec8a['classList'][_0x5e1a12(0x5a5)]('bg-purple-50',_0x5e1a12(0x4fb),_0x5e1a12(0x7d5))),_0x4ab8cb[_0x5e1a12(0x51a)][_0x5e1a12(0x57f)](_0x5e1a12(0x6d5),'ring-2',_0x5e1a12(0x7d5)),document[_0x5e1a12(0x337)](_0x5e1a12(0x43b))[_0x5e1a12(0x7d9)]=![];});});}function listenForLiveGameUpdates(){const _0x10e5f0=_0x2a65e7;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x218011=doc(db,'artifacts/'+appId+_0x10e5f0(0x1af),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x218011,_0x35a390=>{const _0x3809ea=_0x10e5f0;if(!_0x35a390[_0x3809ea(0x5b6)]()){showMessage(_0x3809ea(0x577)),showView(currentMode);return;}const _0x5c86e1=_0x35a390['data']();!currentQuizData&&_0x5c86e1[_0x3809ea(0x756)]&&((async()=>{const _0x5867b3=_0x3809ea;try{const _0x38242b=doc(db,_0x5867b3(0x374)+appId+_0x5867b3(0x78d),_0x5c86e1['quizId']),_0x36302d=await getDoc(_0x38242b);_0x36302d[_0x5867b3(0x5b6)]()&&(currentQuizData={'id':_0x36302d['id'],..._0x36302d[_0x5867b3(0x1c7)]()});}catch(_0x35b25c){console[_0x5867b3(0x227)](_0x5867b3(0x28a),_0x35b25c);}})());switch(_0x5c86e1[_0x3809ea(0x354)]){case _0x3809ea(0x146):if(currentMode===_0x3809ea(0x500)){const _0x446077=_0x5c86e1['players']?Object[_0x3809ea(0x668)](_0x5c86e1['players']):[];document['getElementById']('player-count')[_0x3809ea(0x8c)]=_0x446077[_0x3809ea(0x6ea)],document[_0x3809ea(0x337)](_0x3809ea(0x3c6))[_0x3809ea(0x78a)]=_0x446077[_0x3809ea(0x657)](_0x56f62d=>_0x3809ea(0x674)+_0x56f62d+_0x3809ea(0x66e))['join']('');const _0x511603=document[_0x3809ea(0x337)](_0x3809ea(0x6b1));_0x511603&&(_0x511603['disabled']=_0x446077['length']===0x0);}else showView(_0x3809ea(0x667)),liveGameView[_0x3809ea(0x78a)]=_0x3809ea(0x6e1)+currentStudentName+_0x3809ea(0x4d9);break;case'question':const _0x461823=_0x5c86e1[_0x3809ea(0x1e4)];if(currentQuizData&&currentQuizData[_0x3809ea(0xbb)][_0x461823]){const _0x2658f7=currentQuizData[_0x3809ea(0xbb)][_0x461823],_0x374328=currentQuizData[_0x3809ea(0xbb)][_0x3809ea(0x6ea)];if(currentMode===_0x3809ea(0x500)){lastRenderedAdminQuestionIndex!==_0x461823&&(showAdminLiveQuestionView(_0x2658f7,_0x461823,_0x374328),lastRenderedAdminQuestionIndex=_0x461823);const _0x2dca9c=document[_0x3809ea(0x337)](_0x3809ea(0x4e7));if(_0x2dca9c&&_0x5c86e1['players']){const _0x26ed81=Object[_0x3809ea(0x668)](_0x5c86e1[_0x3809ea(0x58e)])[_0x3809ea(0x6ea)],_0x1cd131=Object[_0x3809ea(0x188)](_0x5c86e1[_0x3809ea(0x58e)])[_0x3809ea(0x3fd)](_0x1d3fb9=>_0x1d3fb9['answeredCurrentQuestion']===!![])[_0x3809ea(0x6ea)];_0x2dca9c['textContent']=_0x1cd131+'/'+_0x26ed81,_0x26ed81>0x0&&_0x1cd131===_0x26ed81&&_0x5c86e1[_0x3809ea(0x7cb)]!=='revealed'&&revealAnswerForAdmin(_0x461823,_0x374328);}}else{const _0x42086a=_0x5c86e1['players'][currentStudentName];if(_0x5c86e1[_0x3809ea(0x7cb)]===_0x3809ea(0x4cf)){if(_0x42086a['answeredCurrentQuestion']){const _0x502d5c=_0x42086a[_0x3809ea(0x158)],_0x9f905d=_0x42086a[_0x3809ea(0x1ae)]||0x0,_0x229525=_0x502d5c?_0x3809ea(0x380)+_0x9f905d+_0x3809ea(0x14e):_0x3809ea(0x538);liveGameView[_0x3809ea(0x78a)]=_0x3809ea(0x4d1)+_0x229525+_0x3809ea(0x3e0);}else liveGameView[_0x3809ea(0x78a)]=_0x3809ea(0x5b3);}else!_0x42086a[_0x3809ea(0x123)]&&showStudentLiveQuestionView(_0x2658f7,_0x461823,_0x374328);}}break;case'podium':showPodiumView(_0x5c86e1[_0x3809ea(0x58e)]);break;}});}async function authenticateUser(){const _0x2d2a7b=_0x2a65e7;try{typeof __initial_auth_token!==_0x2d2a7b(0x662)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3b9cde){console[_0x2d2a7b(0x227)](_0x2d2a7b(0x1dd),_0x3b9cde),showMessage(_0x2d2a7b(0x399));}}function showView(_0x2ac1fd){const _0x46dade=_0x2a65e7,_0x35a95c=[_0x46dade(0xb2),_0x46dade(0x7e7),_0x46dade(0x474),'project-detail-view',_0x46dade(0x7ff),'live-game-view','student-progress-view'];_0x35a95c[_0x46dade(0x785)](_0x567814=>document[_0x46dade(0x337)](_0x567814)?.[_0x46dade(0x51a)][_0x46dade(0x57f)]('hidden'));if(_0x2ac1fd===_0x46dade(0x293))adminView[_0x46dade(0x51a)]['remove'](_0x46dade(0x7b3)),projectDashboardView['classList'][_0x46dade(0x5a5)](_0x46dade(0x7b3));else{if(_0x2ac1fd==='student')studentView[_0x46dade(0x51a)][_0x46dade(0x5a5)](_0x46dade(0x7b3)),studentInitialView['classList'][_0x46dade(0x5a5)](_0x46dade(0x7b3)),studentNameSelectionView[_0x46dade(0x51a)]['add'](_0x46dade(0x7b3)),studentQuizArea['classList'][_0x46dade(0x57f)](_0x46dade(0x7b3)),studentResultArea['classList'][_0x46dade(0x57f)](_0x46dade(0x7b3)),studentReadingArea[_0x46dade(0x51a)][_0x46dade(0x57f)](_0x46dade(0x7b3)),studentJoinGameView[_0x46dade(0x51a)]['add'](_0x46dade(0x7b3));else{if(_0x2ac1fd===_0x46dade(0x248))adminView['classList'][_0x46dade(0x5a5)](_0x46dade(0x7b3)),projectDetailView[_0x46dade(0x51a)]['remove'](_0x46dade(0x7b3));else{if(_0x2ac1fd===_0x46dade(0x5e7))adminView[_0x46dade(0x51a)]['remove'](_0x46dade(0x7b3)),quizResultsView['classList'][_0x46dade(0x5a5)](_0x46dade(0x7b3));else _0x2ac1fd===_0x46dade(0x667)&&liveGameView[_0x46dade(0x51a)][_0x46dade(0x5a5)](_0x46dade(0x7b3));}}}}function showJoinGameView(){const _0x570122=_0x2a65e7;studentInitialView[_0x570122(0x51a)][_0x570122(0x57f)](_0x570122(0x7b3)),studentJoinGameView[_0x570122(0x51a)][_0x570122(0x5a5)]('hidden');}async function handleSaveVisibilitySettings(){const _0x488c44=_0x2a65e7;if(!currentProjectId)return;const _0x57cd25=doc(db,_0x488c44(0x374)+appId+_0x488c44(0x174),currentProjectId);try{await updateDoc(_0x57cd25,{'settings.showInStudentDashboard':document[_0x488c44(0x337)](_0x488c44(0x2e7))[_0x488c44(0x635)],'settings.isPasscodeEnabled':document[_0x488c44(0x337)](_0x488c44(0x1eb))[_0x488c44(0x635)],'settings.passcode':document[_0x488c44(0x337)](_0x488c44(0x6df))[_0x488c44(0x3d3)][_0x488c44(0x65d)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0xd5140c){console[_0x488c44(0x227)](_0x488c44(0x788),_0xd5140c),showMessage(_0x488c44(0x191));}}function setupEventListeners(){const _0x56c72e=_0x2a65e7;document[_0x56c72e(0x337)]('quiz-results-view')['addEventListener'](_0x56c72e(0x78f),async _0x2c46aa=>{const _0x3c44cf=_0x56c72e,_0xefd9be=_0x2c46aa['target'][_0x3c44cf(0x6d2)](_0x3c44cf(0x56b));if(_0xefd9be)try{const _0x2ea6b0=_0xefd9be[_0x3c44cf(0x301)][_0x3c44cf(0xce)],_0x23d081=_0xefd9be[_0x3c44cf(0x301)][_0x3c44cf(0x3f8)];if(!_0x2ea6b0||!_0x23d081)return;showMessage('กำลังเตรียมข้อมูลกลุ่มเป้าหมาย...');const _0x1be8bc=doc(db,_0x3c44cf(0x374)+appId+_0x3c44cf(0x78d),_0x2ea6b0),_0x5e744b=collection(db,_0x3c44cf(0x374)+appId+'/public/data/quizzes/'+_0x2ea6b0+'/submissions'),[_0xd96d5f,_0x46abe8]=await Promise[_0x3c44cf(0x760)]([getDoc(_0x1be8bc),getDocs(_0x5e744b)]);if(!_0xd96d5f[_0x3c44cf(0x5b6)]()){showMessage(_0x3c44cf(0x91));return;}const _0x570748=_0xd96d5f['data'](),_0x40acbf=_0x46abe8[_0x3c44cf(0x7dc)]['map'](_0x427c21=>_0x427c21['data']()),_0x31151c=_0x570748[_0x3c44cf(0x61f)]?.[_0x3c44cf(0x640)],_0x171023=_0x40acbf[_0x3c44cf(0x3fd)](_0x105b5f=>_0x105b5f[_0x3c44cf(0x406)]<_0x31151c)[_0x3c44cf(0x657)](_0x4a83cf=>_0x4a83cf[_0x3c44cf(0x582)]);if(_0x171023[_0x3c44cf(0x6ea)]===0x0){showMessage(_0x3c44cf(0x1bb));return;}handleCompareResults(_0x23d081,_0x2ea6b0,_0x171023);}catch(_0x25e8b1){console[_0x3c44cf(0x227)](_0x3c44cf(0x61b),_0x25e8b1),showMessage(_0x3c44cf(0x47a));}finally{const _0x5cd5c3=document[_0x3c44cf(0x337)](_0x3c44cf(0x64e));!_0x5cd5c3[_0x3c44cf(0x51a)]['contains'](_0x3c44cf(0x7b3))&&_0x5cd5c3[_0x3c44cf(0x51a)][_0x3c44cf(0x57f)](_0x3c44cf(0x7b3));}}),document[_0x56c72e(0x337)](_0x56c72e(0x2f4))[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleModeSwitch),document[_0x56c72e(0x337)]('reset-project-order-btn')[_0x56c72e(0x60b)]('click',handleResetProjectOrder),document[_0x56c72e(0x337)]('save-visibility-settings-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleSaveVisibilitySettings),document[_0x56c72e(0x337)]('add-custom-math-topic-btn')[_0x56c72e(0x60b)]('click',handleAddCustomMathTopic),document[_0x56c72e(0x337)]('select-all-topics-btn')['addEventListener']('click',handleSelectAllTopics),document[_0x56c72e(0x337)]('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0x56c72e(0x337)](_0x56c72e(0x10c))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x56c72e(0x337)](_0x56c72e(0x46e))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x56c72e(0x337)](_0x56c72e(0xee))['addEventListener']('click',()=>{const _0x265300=_0x56c72e;showView(_0x265300(0x293));}),document[_0x56c72e(0x337)]('modal-close-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x1e7512=_0x56c72e;messageModal[_0x1e7512(0x51a)][_0x1e7512(0x57f)](_0x1e7512(0x7b3)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x56c72e(0x337)]('create-project-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>createProjectModal[_0x56c72e(0x51a)]['remove'](_0x56c72e(0x7b3))),document['getElementById'](_0x56c72e(0x60f))['addEventListener'](_0x56c72e(0x78f),()=>createProjectModal['classList'][_0x56c72e(0x57f)]('hidden')),document[_0x56c72e(0x337)](_0x56c72e(0x34f))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>adminPasswordModal['classList']['add']('hidden')),document['getElementById'](_0x56c72e(0x559))['addEventListener'](_0x56c72e(0x78f),handleAdminLogin),document[_0x56c72e(0x337)](_0x56c72e(0x7bf))['addEventListener'](_0x56c72e(0x76d),_0x497e40=>{const _0x21ebb5=_0x56c72e;if(_0x497e40['key']===_0x21ebb5(0x3b9))handleAdminLogin();}),document[_0x56c72e(0x337)](_0x56c72e(0x169))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x4692b1=_0x56c72e;confirmationModal[_0x4692b1(0x51a)][_0x4692b1(0x57f)](_0x4692b1(0x7b3)),confirmAction=null;}),document[_0x56c72e(0x337)](_0x56c72e(0x705))[_0x56c72e(0x60b)]('click',()=>{const _0x37cd74=_0x56c72e;confirmAction&&confirmAction(),confirmationModal[_0x37cd74(0x51a)]['add'](_0x37cd74(0x7b3)),confirmAction=null;}),document[_0x56c72e(0x337)](_0x56c72e(0x6ae))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>renameQuizModal['classList'][_0x56c72e(0x57f)](_0x56c72e(0x7b3))),document['getElementById'](_0x56c72e(0x574))['addEventListener'](_0x56c72e(0x78f),confirmRenameQuiz),document[_0x56c72e(0x337)]('cancel-move-quiz-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>moveQuizModal[_0x56c72e(0x51a)][_0x56c72e(0x57f)](_0x56c72e(0x7b3))),document[_0x56c72e(0x337)](_0x56c72e(0x72))['addEventListener'](_0x56c72e(0x78f),confirmMoveQuiz),document[_0x56c72e(0x337)](_0x56c72e(0x6f2))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>quizSettingsModal['classList'][_0x56c72e(0x57f)](_0x56c72e(0x7b3))),document[_0x56c72e(0x337)]('confirm-quiz-settings-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),confirmQuizSettings),document[_0x56c72e(0x337)](_0x56c72e(0x462))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>quizStatusModal[_0x56c72e(0x51a)][_0x56c72e(0x57f)](_0x56c72e(0x7b3))),document[_0x56c72e(0x337)](_0x56c72e(0xf2))[_0x56c72e(0x60b)](_0x56c72e(0x78f),confirmQuizStatus);const _0x33a7f5=document[_0x56c72e(0x337)]('export-pdf-modal');document[_0x56c72e(0x337)](_0x56c72e(0x748))[_0x56c72e(0x60b)]('click',()=>{const _0x469e21=_0x56c72e;_0x33a7f5[_0x469e21(0x51a)][_0x469e21(0x57f)](_0x469e21(0x7b3));}),document['getElementById'](_0x56c72e(0x557))['addEventListener'](_0x56c72e(0x78f),async()=>{const _0x37780a=_0x56c72e,_0x418e95=allQuizzes[_0x37780a(0x282)](_0x427390=>_0x427390['id']===actionTargetId);_0x418e95?(currentQuizData=_0x418e95,exportQuizAsWorksheetPDF()):showMessage(_0x37780a(0x4a2)),_0x33a7f5[_0x37780a(0x51a)][_0x37780a(0x57f)]('hidden');}),document[_0x56c72e(0x337)](_0x56c72e(0x437))['addEventListener'](_0x56c72e(0x78f),async()=>{const _0x8d8fdc=_0x56c72e,_0x770d12=allQuizzes[_0x8d8fdc(0x282)](_0x383659=>_0x383659['id']===actionTargetId);_0x770d12?(currentQuizData=_0x770d12,exportQuizAsTutorPDF()):showMessage(_0x8d8fdc(0x4a2)),_0x33a7f5['classList'][_0x8d8fdc(0x57f)](_0x8d8fdc(0x7b3));}),document[_0x56c72e(0x337)]('open-global-live-btn')[_0x56c72e(0x60b)]('click',openGlobalLiveModal),document[_0x56c72e(0x337)]('cancel-global-live-btn')[_0x56c72e(0x60b)]('click',()=>{const _0x663d6d=_0x56c72e;document['getElementById'](_0x663d6d(0x1c9))[_0x663d6d(0x51a)][_0x663d6d(0x57f)](_0x663d6d(0x7b3)),selectedGlobalQuizId=null;}),document[_0x56c72e(0x337)](_0x56c72e(0x74d))[_0x56c72e(0x60b)](_0x56c72e(0x5ad),_0x2f2b33=>renderGlobalQuizList(_0x2f2b33[_0x56c72e(0x706)][_0x56c72e(0x3d3)])),document['getElementById'](_0x56c72e(0x43b))[_0x56c72e(0x60b)]('click',()=>{const _0x5e5567=_0x56c72e,_0x122326=selectedGlobalQuizId;if(!_0x122326)return;document[_0x5e5567(0x337)](_0x5e5567(0x1c9))['classList']['add'](_0x5e5567(0x7b3)),handleStartLiveRace(_0x122326);}),document[_0x56c72e(0x337)]('project-search-input')['addEventListener'](_0x56c72e(0x5ad),renderProjects),document[_0x56c72e(0x337)](_0x56c72e(0x186))[_0x56c72e(0x60b)](_0x56c72e(0x139),async()=>{const _0x572eea=_0x56c72e,_0x108d1e=document[_0x572eea(0x337)]('project-sort-select')[_0x572eea(0x3d3)],_0x206e2c=doc(db,_0x572eea(0x208),_0x572eea(0x137));try{await setDoc(_0x206e2c,{'projectSort':_0x108d1e},{'merge':!![]});}catch(_0x1e587b){console[_0x572eea(0x227)](_0x572eea(0x120),_0x1e587b),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x56c72e(0x337)](_0x56c72e(0x3a4))[_0x56c72e(0x60b)](_0x56c72e(0x5ad),renderQuizzes),document['getElementById'](_0x56c72e(0x32d))['addEventListener'](_0x56c72e(0x78f),()=>{const _0x2b2a5e=_0x56c72e;globalDashboardSettings[_0x2b2a5e(0x64c)]='grid',saveUserPreference('projectView',_0x2b2a5e(0x157)),renderProjects();}),document[_0x56c72e(0x337)](_0x56c72e(0x475))[_0x56c72e(0x60b)]('click',()=>{const _0x3baa61=_0x56c72e;globalDashboardSettings['projectView']=_0x3baa61(0x4dc),saveUserPreference(_0x3baa61(0x64c),'list'),renderProjects();}),manageTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>switchProjectTab(_0x56c72e(0x5f1))),resultsTab['addEventListener']('click',()=>switchProjectTab(_0x56c72e(0x6c3))),leaderboardTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>switchProjectTab(_0x56c72e(0xb8))),document[_0x56c72e(0x337)]('analytics-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x56c72e(0x36f))),document[_0x56c72e(0x337)]('scores-tab-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>switchQuizDetailTab(_0x56c72e(0x284))),document['getElementById'](_0x56c72e(0x5be))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>switchQuizDetailTab(_0x56c72e(0x478))),document['getElementById']('behavior-log-tab-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>switchQuizDetailTab(_0x56c72e(0x3c1))),document[_0x56c72e(0x337)](_0x56c72e(0x3c7))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x56c72e(0x60b)](_0x56c72e(0x78f),generateWorksheet);const _0x21ed43=document[_0x56c72e(0x337)](_0x56c72e(0x18d)),_0x280f43=document['getElementById']('link-input-area'),_0x2ce3ce=document[_0x56c72e(0x337)]('blueprint-tab'),_0x26e459=document[_0x56c72e(0x337)]('blueprint-input-area'),_0x577e19=document[_0x56c72e(0x337)](_0x56c72e(0xeb)),_0x483249=document[_0x56c72e(0x337)](_0x56c72e(0x50c));topicTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x131128=_0x56c72e;topicTab[_0x131128(0x51a)]['add'](_0x131128(0x303)),textTab[_0x131128(0x51a)]['remove'](_0x131128(0x303)),fileTab[_0x131128(0x51a)][_0x131128(0x5a5)](_0x131128(0x303)),worksheetTab[_0x131128(0x51a)][_0x131128(0x5a5)](_0x131128(0x303));if(_0x21ed43)_0x21ed43[_0x131128(0x51a)][_0x131128(0x5a5)](_0x131128(0x303));if(_0x2ce3ce)_0x2ce3ce['classList'][_0x131128(0x5a5)](_0x131128(0x303));if(_0x577e19)_0x577e19[_0x131128(0x51a)][_0x131128(0x5a5)](_0x131128(0x303));topicInputArea['classList'][_0x131128(0x5a5)](_0x131128(0x7b3)),textInputArea[_0x131128(0x51a)]['add'](_0x131128(0x7b3)),fileInputArea['classList'][_0x131128(0x57f)](_0x131128(0x7b3)),worksheetInputArea[_0x131128(0x51a)][_0x131128(0x57f)](_0x131128(0x7b3));if(_0x280f43)_0x280f43['classList'][_0x131128(0x57f)](_0x131128(0x7b3));if(_0x26e459)_0x26e459[_0x131128(0x51a)][_0x131128(0x57f)](_0x131128(0x7b3));if(_0x483249)_0x483249[_0x131128(0x51a)][_0x131128(0x57f)](_0x131128(0x7b3));}),textTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x27b294=_0x56c72e;textTab[_0x27b294(0x51a)][_0x27b294(0x57f)]('active'),topicTab['classList'][_0x27b294(0x5a5)](_0x27b294(0x303)),fileTab[_0x27b294(0x51a)][_0x27b294(0x5a5)](_0x27b294(0x303)),worksheetTab[_0x27b294(0x51a)][_0x27b294(0x5a5)](_0x27b294(0x303));if(_0x21ed43)_0x21ed43['classList'][_0x27b294(0x5a5)](_0x27b294(0x303));if(_0x2ce3ce)_0x2ce3ce[_0x27b294(0x51a)][_0x27b294(0x5a5)](_0x27b294(0x303));if(_0x577e19)_0x577e19[_0x27b294(0x51a)][_0x27b294(0x5a5)]('active');textInputArea[_0x27b294(0x51a)]['remove'](_0x27b294(0x7b3)),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x27b294(0x51a)][_0x27b294(0x57f)](_0x27b294(0x7b3)),worksheetInputArea[_0x27b294(0x51a)][_0x27b294(0x57f)](_0x27b294(0x7b3));if(_0x280f43)_0x280f43['classList'][_0x27b294(0x57f)](_0x27b294(0x7b3));if(_0x26e459)_0x26e459['classList']['add']('hidden');if(_0x483249)_0x483249['classList']['add'](_0x27b294(0x7b3));}),fileTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x40e1fd=_0x56c72e;fileTab[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)](_0x40e1fd(0x303)),topicTab[_0x40e1fd(0x51a)]['remove'](_0x40e1fd(0x303)),textTab['classList'][_0x40e1fd(0x5a5)]('active'),worksheetTab[_0x40e1fd(0x51a)]['remove'](_0x40e1fd(0x303));if(_0x21ed43)_0x21ed43[_0x40e1fd(0x51a)][_0x40e1fd(0x5a5)](_0x40e1fd(0x303));if(_0x2ce3ce)_0x2ce3ce['classList']['remove'](_0x40e1fd(0x303));if(_0x577e19)_0x577e19[_0x40e1fd(0x51a)][_0x40e1fd(0x5a5)](_0x40e1fd(0x303));fileInputArea[_0x40e1fd(0x51a)][_0x40e1fd(0x5a5)](_0x40e1fd(0x7b3)),topicInputArea['classList'][_0x40e1fd(0x57f)](_0x40e1fd(0x7b3)),textInputArea[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)]('hidden'),worksheetInputArea[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)](_0x40e1fd(0x7b3));if(_0x280f43)_0x280f43[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)](_0x40e1fd(0x7b3));if(_0x26e459)_0x26e459[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)](_0x40e1fd(0x7b3));if(_0x483249)_0x483249[_0x40e1fd(0x51a)][_0x40e1fd(0x57f)](_0x40e1fd(0x7b3));}),worksheetTab[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x239066=_0x56c72e;worksheetTab[_0x239066(0x51a)][_0x239066(0x57f)](_0x239066(0x303)),topicTab[_0x239066(0x51a)][_0x239066(0x5a5)](_0x239066(0x303)),textTab['classList'][_0x239066(0x5a5)](_0x239066(0x303)),fileTab[_0x239066(0x51a)][_0x239066(0x5a5)](_0x239066(0x303));if(_0x21ed43)_0x21ed43['classList']['remove']('active');if(_0x2ce3ce)_0x2ce3ce[_0x239066(0x51a)][_0x239066(0x5a5)](_0x239066(0x303));if(_0x577e19)_0x577e19[_0x239066(0x51a)][_0x239066(0x5a5)]('active');worksheetInputArea[_0x239066(0x51a)][_0x239066(0x5a5)]('hidden'),topicInputArea[_0x239066(0x51a)][_0x239066(0x57f)](_0x239066(0x7b3)),textInputArea[_0x239066(0x51a)]['add']('hidden'),fileInputArea[_0x239066(0x51a)][_0x239066(0x57f)](_0x239066(0x7b3));if(_0x280f43)_0x280f43[_0x239066(0x51a)][_0x239066(0x57f)]('hidden');if(_0x26e459)_0x26e459[_0x239066(0x51a)][_0x239066(0x57f)](_0x239066(0x7b3));if(_0x483249)_0x483249[_0x239066(0x51a)]['add'](_0x239066(0x7b3));});const _0x36d050=document[_0x56c72e(0x337)](_0x56c72e(0x243)),_0x1e2d8a=document['getElementById'](_0x56c72e(0x2ed));_0x36d050&&_0x36d050[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x3358e7=_0x56c72e;topicTab[_0x3358e7(0x51a)][_0x3358e7(0x5a5)](_0x3358e7(0x303)),textTab[_0x3358e7(0x51a)][_0x3358e7(0x5a5)]('active'),fileTab[_0x3358e7(0x51a)][_0x3358e7(0x5a5)]('active'),worksheetTab[_0x3358e7(0x51a)][_0x3358e7(0x5a5)](_0x3358e7(0x303));if(_0x21ed43)_0x21ed43[_0x3358e7(0x51a)]['remove'](_0x3358e7(0x303));if(_0x2ce3ce)_0x2ce3ce[_0x3358e7(0x51a)][_0x3358e7(0x5a5)](_0x3358e7(0x303));if(_0x577e19)_0x577e19['classList']['remove'](_0x3358e7(0x303));_0x36d050[_0x3358e7(0x51a)][_0x3358e7(0x57f)](_0x3358e7(0x303)),topicInputArea['classList'][_0x3358e7(0x57f)](_0x3358e7(0x7b3)),textInputArea['classList'][_0x3358e7(0x57f)](_0x3358e7(0x7b3)),fileInputArea[_0x3358e7(0x51a)]['add'](_0x3358e7(0x7b3)),worksheetInputArea[_0x3358e7(0x51a)][_0x3358e7(0x57f)](_0x3358e7(0x7b3));if(_0x280f43)_0x280f43[_0x3358e7(0x51a)][_0x3358e7(0x57f)]('hidden');if(_0x26e459)_0x26e459[_0x3358e7(0x51a)][_0x3358e7(0x57f)](_0x3358e7(0x7b3));if(_0x483249)_0x483249[_0x3358e7(0x51a)][_0x3358e7(0x57f)](_0x3358e7(0x7b3));_0x1e2d8a[_0x3358e7(0x51a)]['remove']('hidden'),displayQuestionBank();});_0x21ed43&&(_0x21ed43[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x57218f=_0x56c72e;_0x21ed43[_0x57218f(0x51a)][_0x57218f(0x57f)](_0x57218f(0x303)),topicTab[_0x57218f(0x51a)][_0x57218f(0x5a5)](_0x57218f(0x303)),textTab[_0x57218f(0x51a)]['remove'](_0x57218f(0x303)),fileTab[_0x57218f(0x51a)][_0x57218f(0x5a5)](_0x57218f(0x303)),worksheetTab['classList'][_0x57218f(0x5a5)]('active');if(_0x2ce3ce)_0x2ce3ce[_0x57218f(0x51a)][_0x57218f(0x5a5)](_0x57218f(0x303));if(_0x577e19)_0x577e19[_0x57218f(0x51a)][_0x57218f(0x5a5)](_0x57218f(0x303));_0x280f43[_0x57218f(0x51a)]['remove'](_0x57218f(0x7b3)),topicInputArea[_0x57218f(0x51a)][_0x57218f(0x57f)](_0x57218f(0x7b3)),textInputArea[_0x57218f(0x51a)]['add']('hidden'),fileInputArea['classList'][_0x57218f(0x57f)]('hidden'),worksheetInputArea[_0x57218f(0x51a)][_0x57218f(0x57f)](_0x57218f(0x7b3));if(_0x26e459)_0x26e459[_0x57218f(0x51a)][_0x57218f(0x57f)](_0x57218f(0x7b3));if(_0x483249)_0x483249[_0x57218f(0x51a)][_0x57218f(0x57f)](_0x57218f(0x7b3));}),document['getElementById']('generate-from-link-btn')[_0x56c72e(0x60b)]('click',handleGenerateFromLink));_0x2ce3ce&&_0x2ce3ce[_0x56c72e(0x60b)]('click',()=>{const _0x68c83e=_0x56c72e;_0x2ce3ce[_0x68c83e(0x51a)][_0x68c83e(0x57f)](_0x68c83e(0x303)),topicTab[_0x68c83e(0x51a)]['remove'](_0x68c83e(0x303)),textTab[_0x68c83e(0x51a)]['remove'](_0x68c83e(0x303)),fileTab[_0x68c83e(0x51a)][_0x68c83e(0x5a5)](_0x68c83e(0x303)),worksheetTab[_0x68c83e(0x51a)]['remove'](_0x68c83e(0x303));if(_0x21ed43)_0x21ed43['classList'][_0x68c83e(0x5a5)](_0x68c83e(0x303));if(_0x36d050)_0x36d050[_0x68c83e(0x51a)][_0x68c83e(0x5a5)](_0x68c83e(0x303));if(_0x577e19)_0x577e19[_0x68c83e(0x51a)]['remove'](_0x68c83e(0x303));_0x26e459[_0x68c83e(0x51a)][_0x68c83e(0x5a5)](_0x68c83e(0x7b3)),topicInputArea[_0x68c83e(0x51a)][_0x68c83e(0x57f)](_0x68c83e(0x7b3)),textInputArea[_0x68c83e(0x51a)][_0x68c83e(0x57f)](_0x68c83e(0x7b3)),fileInputArea['classList'][_0x68c83e(0x57f)]('hidden'),worksheetInputArea[_0x68c83e(0x51a)][_0x68c83e(0x57f)]('hidden');if(_0x280f43)_0x280f43[_0x68c83e(0x51a)][_0x68c83e(0x57f)]('hidden');if(_0x1e2d8a)_0x1e2d8a[_0x68c83e(0x51a)][_0x68c83e(0x57f)]('hidden');if(_0x483249)_0x483249['classList']['add']('hidden');});_0x577e19&&_0x577e19[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x3bb72b=_0x56c72e;_0x577e19[_0x3bb72b(0x51a)][_0x3bb72b(0x57f)](_0x3bb72b(0x303)),topicTab['classList'][_0x3bb72b(0x5a5)](_0x3bb72b(0x303)),textTab['classList'][_0x3bb72b(0x5a5)](_0x3bb72b(0x303)),fileTab['classList'][_0x3bb72b(0x5a5)](_0x3bb72b(0x303)),worksheetTab['classList'][_0x3bb72b(0x5a5)](_0x3bb72b(0x303));if(_0x21ed43)_0x21ed43['classList'][_0x3bb72b(0x5a5)](_0x3bb72b(0x303));if(_0x2ce3ce)_0x2ce3ce[_0x3bb72b(0x51a)][_0x3bb72b(0x5a5)](_0x3bb72b(0x303));if(_0x36d050)_0x36d050[_0x3bb72b(0x51a)]['remove'](_0x3bb72b(0x303));_0x483249[_0x3bb72b(0x51a)]['remove']('hidden'),topicInputArea['classList'][_0x3bb72b(0x57f)](_0x3bb72b(0x7b3)),textInputArea[_0x3bb72b(0x51a)][_0x3bb72b(0x57f)](_0x3bb72b(0x7b3)),fileInputArea[_0x3bb72b(0x51a)][_0x3bb72b(0x57f)]('hidden'),worksheetInputArea[_0x3bb72b(0x51a)]['add'](_0x3bb72b(0x7b3));if(_0x280f43)_0x280f43[_0x3bb72b(0x51a)]['add'](_0x3bb72b(0x7b3));if(_0x26e459)_0x26e459[_0x3bb72b(0x51a)][_0x3bb72b(0x57f)](_0x3bb72b(0x7b3));if(_0x1e2d8a)_0x1e2d8a[_0x3bb72b(0x51a)][_0x3bb72b(0x57f)](_0x3bb72b(0x7b3));});const _0x156949=document['getElementById'](_0x56c72e(0x592)),_0x1666d2=document[_0x56c72e(0x337)](_0x56c72e(0xd1));_0x156949&&_0x156949['addEventListener'](_0x56c72e(0x139),_0x569da3=>{const _0x5db44a=_0x56c72e;_0x569da3[_0x5db44a(0x706)][_0x5db44a(0x70d)]['length']>0x0?_0x1666d2[_0x5db44a(0x7d9)]=![]:_0x1666d2['disabled']=!![];});_0x1666d2&&_0x1666d2[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleGenerateFromBlueprint);const _0x43a9ad=document['getElementById'](_0x56c72e(0x4df)),_0x2babcd=document[_0x56c72e(0x337)](_0x56c72e(0xde));_0x43a9ad&&_0x43a9ad['addEventListener'](_0x56c72e(0x139),_0x4cb29f=>{const _0x119d1d=_0x56c72e;_0x2babcd[_0x119d1d(0x7d9)]=_0x4cb29f[_0x119d1d(0x706)][_0x119d1d(0x70d)]['length']===0x0;});_0x2babcd&&_0x2babcd[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x56c72e(0x78f),handleLoadQuiz),startQuizBtn[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x90659c=_0x56c72e,_0x13f744=document[_0x90659c(0x337)](_0x90659c(0x299));currentStudentName=_0x13f744[_0x90659c(0x3d3)];if(!currentStudentName){showMessage(_0x90659c(0x94));return;}studentNameSelectionView[_0x90659c(0x51a)][_0x90659c(0x57f)](_0x90659c(0x7b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x56c72e(0x211))['addEventListener'](_0x56c72e(0x78f),showJoinGameView),document[_0x56c72e(0x337)](_0x56c72e(0x343))['addEventListener'](_0x56c72e(0x78f),handleJoinLiveGame),document[_0x56c72e(0x337)](_0x56c72e(0x24e))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>showView('student'));const _0x431ff6=()=>{const _0x27192f=_0x56c72e,_0x5514d9=document[_0x27192f(0x337)](_0x27192f(0x510))[_0x27192f(0x8c)][_0x27192f(0x700)](/[^a-z0-9]/gi,'_')[_0x27192f(0x22f)]();return _0x27192f(0x2ba)+(_0x5514d9||_0x27192f(0x2f6));},_0x43530d=document[_0x56c72e(0x337)](_0x56c72e(0x5c8));_0x43530d&&_0x43530d[_0x56c72e(0x60b)](_0x56c72e(0x5ad),_0x378782=>{const _0x3838be=_0x56c72e,_0x1a25cb=_0x378782[_0x3838be(0x706)]['value'][_0x3838be(0x22f)]()[_0x3838be(0x65d)](),_0x4371e2=document[_0x3838be(0x337)](_0x3838be(0x728)),_0xfd4b44=_0x4371e2[_0x3838be(0x4a9)]('.topic-category');_0xfd4b44[_0x3838be(0x785)](_0xfc0f7f=>{const _0x134d26=_0x3838be;let _0x1d765f=![];const _0x2556fa=_0xfc0f7f[_0x134d26(0x4a9)](_0x134d26(0x62c));_0x2556fa['forEach'](_0x53a971=>{const _0x5ebc89=_0x134d26,_0x13bcec=_0x53a971[_0x5ebc89(0x66a)]('.topic-name-display')[_0x5ebc89(0x8c)]['toLowerCase']();_0x13bcec[_0x5ebc89(0x714)](_0x1a25cb)?(_0x53a971[_0x5ebc89(0x13d)]['display']='flex',_0x1d765f=!![]):_0x53a971['style'][_0x5ebc89(0x573)]=_0x5ebc89(0x3ea);}),_0x1d765f?_0xfc0f7f[_0x134d26(0x13d)]['display']='block':_0xfc0f7f[_0x134d26(0x13d)][_0x134d26(0x573)]=_0x134d26(0x3ea);});});document[_0x56c72e(0x337)](_0x56c72e(0x2a0))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>exportTableAsImage(_0x56c72e(0x6f9),_0x431ff6())),document[_0x56c72e(0x337)](_0x56c72e(0x2b3))['addEventListener']('click',()=>exportTableAsPDF(_0x56c72e(0x73c),_0x431ff6())),document[_0x56c72e(0x337)](_0x56c72e(0x435))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>exportTableAsWord(_0x56c72e(0x6f9),_0x431ff6())),document[_0x56c72e(0x337)]('export-excel-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>exportTableAsExcel(_0x56c72e(0x73c),_0x431ff6()));const _0x4c3a0e=()=>{const _0x49a4f0=_0x56c72e,_0x145dfe=document[_0x49a4f0(0x337)]('results-quiz-title')[_0x49a4f0(0x8c)][_0x49a4f0(0x700)](/[^a-z0-9]/gi,'_')[_0x49a4f0(0x22f)]();return _0x49a4f0(0x102)+(_0x145dfe||_0x49a4f0(0x2f6));};document[_0x56c72e(0x337)]('export-leaderboard-image-btn')[_0x56c72e(0x60b)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4c3a0e())),document[_0x56c72e(0x337)](_0x56c72e(0x7fd))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>exportTableAsPDF(_0x56c72e(0x5ef),_0x4c3a0e())),document[_0x56c72e(0x337)](_0x56c72e(0xf5))['addEventListener'](_0x56c72e(0x78f),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4c3a0e())),document[_0x56c72e(0x337)](_0x56c72e(0x57d))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>exportTableAsExcel(_0x56c72e(0x5ef),_0x4c3a0e())),projectQuizzesList[_0x56c72e(0x60b)](_0x56c72e(0x78f),async _0x32d55d=>{const _0x1586e7=_0x56c72e,_0x142dbf=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x1a7)),_0x54f9a4=_0x32d55d[_0x1586e7(0x706)]['closest']('.generate-post-test-btn'),_0xdae865=_0x32d55d[_0x1586e7(0x706)]['closest']('.compare-results-btn'),_0x366ee8=_0x32d55d['target'][_0x1586e7(0x6d2)]('.generate-lesson-btn'),_0x5e5250=_0x32d55d[_0x1586e7(0x706)]['closest'](_0x1586e7(0x141)),_0x20ae01=_0x32d55d[_0x1586e7(0x706)]['closest']('.copy-quiz-id-list-btn'),_0x3b096b=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)]('.edit-quiz-btn'),_0x1219cb=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x163)),_0x388b2e=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0xdc)),_0x56b1d1=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x663)),_0x4df547=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x564)),_0x1ada2b=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x3d2)),_0x5e2cfd=_0x32d55d[_0x1586e7(0x706)]['closest'](_0x1586e7(0x499)),_0x2650af=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x364)),_0x2cb49e=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x68c)),_0x567cf4=_0x32d55d['target']['closest'](_0x1586e7(0x7f9)),_0x17876b=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x266)),_0x51d5b4=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x76c)),_0x2ff741=_0x32d55d['target'][_0x1586e7(0x6d2)]('.delete-quiz-btn'),_0x242d4e=_0x32d55d[_0x1586e7(0x706)]['closest'](_0x1586e7(0x148)),_0x3a7611=_0x32d55d[_0x1586e7(0x706)][_0x1586e7(0x6d2)](_0x1586e7(0x651));if(_0x3a7611){const _0x4f58c5=_0x3a7611[_0x1586e7(0x301)][_0x1586e7(0x756)],_0x2050be=document[_0x1586e7(0x337)](_0x1586e7(0x7b)+_0x4f58c5);_0x2050be&&_0x2050be[_0x1586e7(0x51a)][_0x1586e7(0x726)](_0x1586e7(0x7b3));}else{if(_0x54f9a4){const _0x4334fb=_0x54f9a4[_0x1586e7(0x301)][_0x1586e7(0x756)],_0x5784f8=allQuizzes[_0x1586e7(0x282)](_0x417070=>_0x417070['id']===_0x4334fb);_0x5784f8&&handleGenerateParallelPostTest(_0x5784f8);}else{if(_0xdae865)handleCompareResults(_0xdae865[_0x1586e7(0x301)]['quizId'],_0xdae865[_0x1586e7(0x301)][_0x1586e7(0xce)]);else{if(_0x366ee8){const _0x5accf4=_0x366ee8[_0x1586e7(0x301)]['quizId'],_0x3e2893=allQuizzes[_0x1586e7(0x282)](_0x485a73=>_0x485a73['id']===_0x5accf4);_0x3e2893&&_0x3e2893[_0x1586e7(0x78b)]?(displayLessonPlan(_0x3e2893[_0x1586e7(0x78b)],_0x3e2893),showConfirmation(_0x1586e7(0x3a0),()=>handleGenerateLessonPlan(_0x5accf4)),document[_0x1586e7(0x337)](_0x1586e7(0x4c5))[_0x1586e7(0x66a)]('h3')[_0x1586e7(0x8c)]=_0x1586e7(0xa0),document[_0x1586e7(0x337)](_0x1586e7(0x705))['textContent']=_0x1586e7(0x98)):handleGenerateLessonPlan(_0x5accf4);}else{if(_0x5e5250)handleToggleStarQuiz(_0x5e5250[_0x1586e7(0x301)][_0x1586e7(0x756)]);else{if(_0x20ae01)copyTextToClipboard(_0x20ae01[_0x1586e7(0x301)][_0x1586e7(0x756)],'คัดลอกรหัสแล้ว!');else{if(_0x3b096b)handleOpenQuizEditor(_0x3b096b['dataset'][_0x1586e7(0x756)]);else{if(_0x1219cb)handleQuizSettings(_0x1219cb['dataset'][_0x1586e7(0x756)]);else{if(_0x388b2e)handleDuplicateQuiz(_0x388b2e[_0x1586e7(0x301)][_0x1586e7(0x756)]);else{if(_0x56b1d1)handleRenameQuiz(_0x56b1d1[_0x1586e7(0x301)]['quizId'],_0x56b1d1['dataset'][_0x1586e7(0x4f5)]);else{if(_0x4df547){const _0x4238b2=_0x4df547['dataset'][_0x1586e7(0x756)],_0x8edace=allQuizzes[_0x1586e7(0x282)](_0x1c757f=>_0x1c757f['id']===_0x4238b2);_0x8edace&&handleGenerateParallelFromBank(_0x8edace);}else{if(_0x1ada2b)handleMoveQuiz(_0x1ada2b[_0x1586e7(0x301)]['quizId']);else{if(_0x5e2cfd)handleManualQuizPairing(_0x5e2cfd['dataset'][_0x1586e7(0x756)]);else{if(_0x2650af)handleUnpairQuiz(_0x2650af[_0x1586e7(0x301)][_0x1586e7(0x756)]);else{if(_0x2cb49e){const _0x394c94=_0x2cb49e[_0x1586e7(0x301)]['quizId'],_0x17fdeb=allQuizzes[_0x1586e7(0x282)](_0x5d519a=>_0x5d519a['id']===_0x394c94);if(_0x17fdeb)startPresentation(_0x17fdeb);}else{if(_0x567cf4){const _0x694487=_0x567cf4['dataset'][_0x1586e7(0x756)],_0x4f43da=allQuizzes[_0x1586e7(0x282)](_0x58e627=>_0x58e627['id']===_0x694487);_0x4f43da&&(currentQuizData=_0x4f43da,startAdminTest());}else{if(_0x17876b)handleStartLiveRace(_0x17876b['dataset']['quizId']);else{if(_0x51d5b4)actionTargetId=_0x51d5b4[_0x1586e7(0x301)][_0x1586e7(0x756)],document[_0x1586e7(0x337)]('export-pdf-modal')['classList']['remove'](_0x1586e7(0x7b3));else{if(_0x2ff741)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2ff741[_0x1586e7(0x301)][_0x1586e7(0x4f5)]+_0x1586e7(0x583),()=>handleDeleteQuiz(_0x2ff741[_0x1586e7(0x301)][_0x1586e7(0x756)]));else{if(_0x242d4e)handleQuizStatus(_0x242d4e[_0x1586e7(0x301)]['quizId']);else _0x142dbf&&showQuizDetailView(_0x142dbf[_0x1586e7(0x301)][_0x1586e7(0x756)]);}}}}}}}}}}}}}}}}}}}}),document[_0x56c72e(0x337)]('quiz-leaderboard-table')[_0x56c72e(0x66a)]('thead')['addEventListener'](_0x56c72e(0x78f),_0x405cd1=>{const _0xe530b4=_0x56c72e,_0x56c2e8=_0x405cd1[_0xe530b4(0x706)][_0xe530b4(0x6d2)]('.sortable-header');if(!_0x56c2e8||!_0x56c2e8[_0xe530b4(0x301)][_0xe530b4(0x48f)])return;const _0x3db9aa=_0x56c2e8['dataset'][_0xe530b4(0x48f)];if(quizLeaderboardSortBy===_0x3db9aa)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xe530b4(0x7a8)?_0xe530b4(0x64d):_0xe530b4(0x7a8);else{quizLeaderboardSortBy=_0x3db9aa;const _0x4c0a3e=['studentName'];quizLeaderboardSortOrder=_0x4c0a3e[_0xe530b4(0x714)](_0x3db9aa)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xe530b4(0x51e));}),document[_0x56c72e(0x337)](_0x56c72e(0x3f2))['addEventListener'](_0x56c72e(0x78f),closePresentation),document[_0x56c72e(0x337)]('prev-question-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x56c72e(0x337)](_0x56c72e(0x4ea))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x1a4f7c=_0x56c72e;currentQuizData[_0x1a4f7c(0xbb)]&&currentPresentationSlide<currentQuizData[_0x1a4f7c(0xbb)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x56c72e(0x60b)](_0x56c72e(0xbd),()=>{const _0x535c86=_0x56c72e;!document['fullscreenElement']&&(presentationModal[_0x535c86(0x13d)][_0x535c86(0x573)]=_0x535c86(0x3ea));}),document['getElementById'](_0x56c72e(0x255))[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleDeleteAllStudents),studentList[_0x56c72e(0x60b)](_0x56c72e(0x78f),_0x2f11d5=>{const _0x30f456=_0x56c72e,_0x484179=_0x2f11d5[_0x30f456(0x706)][_0x30f456(0x6d2)](_0x30f456(0x506));if(_0x484179){const _0x404d1d=_0x484179['dataset']['studentName'];handleDeleteStudent(_0x404d1d);}}),document[_0x56c72e(0x337)]('generate-from-file-btn')['addEventListener'](_0x56c72e(0x78f),handleGenerateFromFileClick),fileUploadInput[_0x56c72e(0x60b)](_0x56c72e(0x139),_0x3e870b=>{const _0x1ca1bc=_0x56c72e,_0x463016=_0x3e870b[_0x1ca1bc(0x706)][_0x1ca1bc(0x70d)][0x0],_0x134897=document[_0x1ca1bc(0x337)](_0x1ca1bc(0x7d1));_0x463016?(selectedFile=_0x463016,_0x134897['disabled']=![]):(selectedFile=null,_0x134897[_0x1ca1bc(0x7d9)]=!![]);}),document['getElementById'](_0x56c72e(0x9b))[_0x56c72e(0x60b)]('change',_0x3624c5=>{const _0xe3c9f9=_0x56c72e,_0x55f79c=document[_0xe3c9f9(0x337)](_0xe3c9f9(0x725)),_0x12793a=document[_0xe3c9f9(0x337)](_0xe3c9f9(0x3a1)),_0x27c67f=document['getElementById']('timer-duration-input');_0x3624c5[_0xe3c9f9(0x706)]['value']===_0xe3c9f9(0x3ea)?_0x55f79c[_0xe3c9f9(0x51a)][_0xe3c9f9(0x57f)](_0xe3c9f9(0x7b3)):(_0x55f79c[_0xe3c9f9(0x51a)][_0xe3c9f9(0x5a5)]('hidden'),_0x3624c5[_0xe3c9f9(0x706)][_0xe3c9f9(0x3d3)]===_0xe3c9f9(0x741)?(_0x12793a[_0xe3c9f9(0x8c)]=_0xe3c9f9(0x25b),_0x27c67f[_0xe3c9f9(0x3d3)]='10'):(_0x12793a[_0xe3c9f9(0x8c)]='ระยะเวลา\x20(วินาที):',_0x27c67f['value']='30'));}),document[_0x56c72e(0x337)](_0x56c72e(0x3e7))['addEventListener'](_0x56c72e(0x139),_0x2bdf8b=>{const _0x2015f=_0x56c72e,_0x2ccfbd=document['getElementById']('num-choices-container'),_0x4d89c6=_0x2bdf8b['target'][_0x2015f(0x3d3)],_0x23a99b=document[_0x2015f(0x66a)](_0x2015f(0x6a)),_0x55d574=document[_0x2015f(0x337)]('passing-score-input'),_0x5a01ff=document[_0x2015f(0x337)](_0x2015f(0x800));_0x4d89c6===_0x2015f(0x656)?_0x23a99b[_0x2015f(0x8c)]='จำนวนคู่:':_0x23a99b[_0x2015f(0x8c)]=_0x2015f(0x740),_0x4d89c6===_0x2015f(0x45b)||_0x4d89c6===_0x2015f(0x427)||_0x4d89c6===_0x2015f(0x4b9)?_0x2ccfbd[_0x2015f(0x51a)][_0x2015f(0x5a5)]('hidden'):_0x2ccfbd[_0x2015f(0x51a)][_0x2015f(0x57f)](_0x2015f(0x7b3)),_0x55d574[_0x2015f(0x23f)]=_0x5a01ff[_0x2015f(0x3d3)];}),document[_0x56c72e(0x337)](_0x56c72e(0x800))[_0x56c72e(0x60b)](_0x56c72e(0x5ad),_0x5b63d1=>{const _0x9f770d=_0x56c72e;document[_0x9f770d(0x337)]('passing-score-input')[_0x9f770d(0x23f)]=_0x5b63d1[_0x9f770d(0x706)][_0x9f770d(0x3d3)];}),document[_0x56c72e(0x337)](_0x56c72e(0x381))[_0x56c72e(0x60b)](_0x56c72e(0x139),_0x4450a6=>{const _0x37d39f=_0x56c72e,_0x3f60f5=document[_0x37d39f(0x337)](_0x37d39f(0x5a9)),_0x1db6d2=document[_0x37d39f(0x337)]('modal-timer-duration-label'),_0x2da299=document[_0x37d39f(0x337)](_0x37d39f(0xf3));_0x4450a6[_0x37d39f(0x706)][_0x37d39f(0x3d3)]===_0x37d39f(0x3ea)?_0x3f60f5['classList'][_0x37d39f(0x57f)](_0x37d39f(0x7b3)):(_0x3f60f5[_0x37d39f(0x51a)][_0x37d39f(0x5a5)]('hidden'),_0x4450a6[_0x37d39f(0x706)][_0x37d39f(0x3d3)]===_0x37d39f(0x741)?_0x1db6d2[_0x37d39f(0x8c)]=_0x37d39f(0x25b):_0x1db6d2[_0x37d39f(0x8c)]=_0x37d39f(0x1ed));}),document['getElementById'](_0x56c72e(0x154))[_0x56c72e(0x60b)]('click',()=>{const _0x3aaecf=_0x56c72e;document['getElementById'](_0x3aaecf(0x3de))['classList'][_0x3aaecf(0x57f)](_0x3aaecf(0x7b3));}),document[_0x56c72e(0x337)](_0x56c72e(0x4ac))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x55405d=_0x56c72e;document['getElementById'](_0x55405d(0x3de))[_0x55405d(0x51a)][_0x55405d(0x57f)](_0x55405d(0x7b3));}),document[_0x56c72e(0x337)]('save-quiz-edits-btn')['addEventListener']('click',()=>{const _0x140f17=_0x56c72e;document[_0x140f17(0x337)](_0x140f17(0x3de))[_0x140f17(0x51a)][_0x140f17(0x57f)](_0x140f17(0x7b3)),showConfirmation(_0x140f17(0xf6),handleSaveChanges);}),document[_0x56c72e(0x337)](_0x56c72e(0x392))[_0x56c72e(0x60b)]('click',handleAutoFixLatex);const _0x431481=document[_0x56c72e(0x337)](_0x56c72e(0xe8));_0x431481&&_0x431481['addEventListener']('click',_0x413a0e=>{const _0x110037=_0x56c72e,_0x30ac37=_0x413a0e[_0x110037(0x706)][_0x110037(0x6d2)](_0x110037(0x37d));if(_0x30ac37){const _0xaeef63=_0x30ac37[_0x110037(0x6d2)](_0x110037(0x2a7)),_0x5ace33=parseInt(_0xaeef63[_0x110037(0x301)][_0x110037(0x138)],0xa);handleRegenerateQuestionInEditor(_0x5ace33);}});document[_0x56c72e(0x337)](_0x56c72e(0x6fb))['addEventListener'](_0x56c72e(0x78f),openQuizBankModal),document[_0x56c72e(0x337)]('cancel-quiz-bank-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0xd97f0b=_0x56c72e;document[_0xd97f0b(0x337)](_0xd97f0b(0x67e))[_0xd97f0b(0x51a)]['add'](_0xd97f0b(0x7b3));}),document['getElementById']('bank-quiz-search-input')[_0x56c72e(0x60b)](_0x56c72e(0x5ad),_0x56f930=>renderQuizBankList(_0x56f930['target'][_0x56c72e(0x3d3)]));const _0x2ada2f=document[_0x56c72e(0x337)]('math-topics-checkbox-container');if(_0x2ada2f){let _0x54295d=null;_0x2ada2f[_0x56c72e(0x60b)](_0x56c72e(0x78f),_0x3e19ea=>{const _0x2d91aa=_0x56c72e,_0x36a65c=_0x3e19ea[_0x2d91aa(0x706)],_0xca86c=_0x36a65c[_0x2d91aa(0x6d2)](_0x2d91aa(0x48d)),_0x55d130=_0x36a65c[_0x2d91aa(0x6d2)](_0x2d91aa(0x3c5)),_0xd5322c=_0x36a65c[_0x2d91aa(0x6d2)](_0x2d91aa(0x156)),_0x141a43=_0x36a65c[_0x2d91aa(0x6d2)](_0x2d91aa(0x397));if(_0x55d130){_0x3e19ea[_0x2d91aa(0x3cd)]();const _0x23a1e6=_0x55d130['dataset']['id'],_0x458d33=_0x55d130['closest']('.group')['querySelector'](_0x2d91aa(0x3be))[_0x2d91aa(0x8c)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x458d33+'\x22?',()=>handleDeleteCustomTopic(_0x23a1e6));}else{if(_0xca86c){_0x3e19ea[_0x2d91aa(0x3cd)]();_0x54295d&&toggleTopicEditMode(_0x54295d,![]);const _0x35c4a5=_0xca86c[_0x2d91aa(0x6d2)](_0x2d91aa(0xac));_0x54295d=_0x35c4a5,toggleTopicEditMode(_0x35c4a5,!![]);}else{if(_0xd5322c){_0x3e19ea[_0x2d91aa(0x3cd)]();const _0x5bc347=_0xd5322c[_0x2d91aa(0x301)]['id'],_0x428b1e=_0xd5322c[_0x2d91aa(0x6d2)](_0x2d91aa(0xac)),_0x299939=_0x428b1e[_0x2d91aa(0x66a)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0x5bc347,_0x299939),_0x54295d=null;}else{if(_0x141a43){_0x3e19ea[_0x2d91aa(0x3cd)]();const _0x426c30=_0x141a43[_0x2d91aa(0x6d2)](_0x2d91aa(0xac));toggleTopicEditMode(_0x426c30,![]),_0x54295d=null;}}}}}),document[_0x56c72e(0x337)](_0x56c72e(0x54b))[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x397186=_0x56c72e;document[_0x397186(0x337)](_0x397186(0x2ee))[_0x397186(0x51a)][_0x397186(0x57f)](_0x397186(0x7b3));}),document[_0x56c72e(0x337)](_0x56c72e(0x50d))['addEventListener'](_0x56c72e(0x78f),()=>{const _0x4d1eb6=_0x56c72e;document['getElementById'](_0x4d1eb6(0x2ee))['classList']['add'](_0x4d1eb6(0x7b3));}),document[_0x56c72e(0x337)](_0x56c72e(0x599))[_0x56c72e(0x60b)](_0x56c72e(0x78f),handleExportLessonPDF);}document[_0x56c72e(0x337)](_0x56c72e(0x580))['addEventListener'](_0x56c72e(0x78f),()=>{const _0x4121db=_0x56c72e;document[_0x4121db(0x337)](_0x4121db(0x1e5))['classList'][_0x4121db(0x57f)](_0x4121db(0x7b3));}),document[_0x56c72e(0x337)]('close-comparison-modal-footer-btn')[_0x56c72e(0x60b)](_0x56c72e(0x78f),()=>{const _0x71504c=_0x56c72e;document[_0x71504c(0x337)]('comparison-modal')[_0x71504c(0x51a)][_0x71504c(0x57f)](_0x71504c(0x7b3));}),setupComparisonModalTabs(),document[_0x56c72e(0x3ee)][_0x56c72e(0x60b)]('click',function(_0x3d50c0){const _0xf5bae9=_0x56c72e;if(_0x3d50c0[_0xf5bae9(0x706)][_0xf5bae9(0x51a)][_0xf5bae9(0x3ce)](_0xf5bae9(0x367))){const _0x529cd5=unescape(_0x3d50c0[_0xf5bae9(0x706)][_0xf5bae9(0x301)][_0xf5bae9(0x4f5)]);startSkillPractice(_0x529cd5);}}),document[_0x56c72e(0x337)](_0x56c72e(0x387))[_0x56c72e(0x60b)](_0x56c72e(0x78f),_0x37a763=>{const _0x35a1f5=_0x56c72e,_0x51d3a8=_0x37a763[_0x35a1f5(0x706)][_0x35a1f5(0x6d2)](_0x35a1f5(0x15d));if(_0x51d3a8){const _0x5e1db6=_0x51d3a8[_0x35a1f5(0x301)][_0x35a1f5(0x582)];handleDeleteSubmission(_0x5e1db6);}});}async function showStudentProgressView(){const _0x398953=_0x2a65e7;studentInitialView[_0x398953(0x51a)][_0x398953(0x57f)](_0x398953(0x7b3)),document[_0x398953(0x337)](_0x398953(0x2d4))[_0x398953(0x51a)]['remove'](_0x398953(0x7b3));const _0x2c3076=document[_0x398953(0x337)](_0x398953(0x809)),_0x3314e2=document[_0x398953(0x337)](_0x398953(0x3aa)),_0x2f7256=document[_0x398953(0x337)](_0x398953(0x53d));_0x2f7256['innerHTML']=_0x398953(0xd6),_0x3314e2[_0x398953(0x78a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x3314e2[_0x398953(0x7d9)]=!![],_0x2c3076[_0x398953(0x78a)]=_0x398953(0x5df);if(allProjects['length']===0x0){const _0xee3089=collection(db,_0x398953(0x374)+appId+_0x398953(0x174)),_0x281724=await getDocs(_0xee3089);allProjects=_0x281724[_0x398953(0x7dc)][_0x398953(0x657)](_0x40f767=>({'id':_0x40f767['id'],..._0x40f767[_0x398953(0x1c7)]()}));}const _0x45e887=allProjects[_0x398953(0x3fd)](_0xc26db3=>_0xc26db3[_0x398953(0x61f)]?.[_0x398953(0x6b4)]!==![]);_0x45e887['sort']((_0x3e64d5,_0x551886)=>_0x3e64d5[_0x398953(0x4ad)][_0x398953(0x33b)](_0x551886[_0x398953(0x4ad)],'th')),_0x2c3076[_0x398953(0x78a)]=_0x398953(0x558)+_0x45e887[_0x398953(0x657)](_0x1c4621=>_0x398953(0x453)+_0x1c4621['id']+'\x22>'+_0x1c4621[_0x398953(0x4ad)]+_0x398953(0x4b4))['join'](''),_0x2c3076[_0x398953(0x2b8)]=()=>{const _0x3317fa=_0x398953,_0xf1268b=_0x3314e2[_0x3317fa(0x3d3)],_0x4c0d82=_0x2c3076['value'];_0x3314e2[_0x3317fa(0x7d9)]=!![],_0x3314e2[_0x3317fa(0x78a)]=_0x3317fa(0x686),_0x2f7256[_0x3317fa(0x78a)]=_0x3317fa(0x19d);if(!_0x4c0d82)return;const _0x1affa1=allProjects[_0x3317fa(0x282)](_0x517bc0=>_0x517bc0['id']===_0x4c0d82);if(!_0x1affa1||!_0x1affa1[_0x3317fa(0x2f3)])return;const _0x59e5ff=()=>{const _0x439bdf=_0x3317fa;_0x3314e2[_0x439bdf(0x78a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1affa1['students'][_0x439bdf(0x657)](_0x1ce86b=>'<option\x20value=\x22'+_0x1ce86b+'\x22>'+_0x1ce86b+_0x439bdf(0x4b4))['join'](''),_0x3314e2[_0x439bdf(0x7d9)]=![];const _0x577490=Array[_0x439bdf(0x352)](_0x3314e2['options'])[_0x439bdf(0x657)](_0x54311d=>_0x54311d['value']);if(_0xf1268b&&_0x577490['includes'](_0xf1268b))_0x3314e2['value']=_0xf1268b,_0x3314e2[_0x439bdf(0x307)](new Event('change'));else _0x1affa1[_0x439bdf(0x2f3)][_0x439bdf(0x6ea)]===0x1&&(_0x3314e2['value']=_0x1affa1[_0x439bdf(0x2f3)][0x0],_0x3314e2['dispatchEvent'](new Event(_0x439bdf(0x139))));};if(_0x1affa1[_0x3317fa(0x61f)]?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x3317fa(0x127)+_0x4c0d82)===_0x3317fa(0x28d)){_0x59e5ff();return;}const _0x3060c7=document[_0x3317fa(0x337)](_0x3317fa(0x445)),_0x127a1a=document[_0x3317fa(0x337)](_0x3317fa(0x187)),_0x2e2efe=document[_0x3317fa(0x337)](_0x3317fa(0x3ef)),_0x302c4c=document[_0x3317fa(0x337)](_0x3317fa(0x68d)),_0x2265c0=document[_0x3317fa(0x337)](_0x3317fa(0x215));document[_0x3317fa(0x337)](_0x3317fa(0x1d2))[_0x3317fa(0x8c)]=_0x3317fa(0x371)+_0x1affa1[_0x3317fa(0x4ad)],_0x302c4c[_0x3317fa(0x3d3)]='',_0x2265c0[_0x3317fa(0x51a)][_0x3317fa(0x57f)](_0x3317fa(0x7b3)),_0x3060c7[_0x3317fa(0x51a)]['remove'](_0x3317fa(0x7b3));const _0x15bae8=()=>{const _0x2c84a9=_0x3317fa,_0x44646b=_0x302c4c['value']['trim']();_0x44646b===_0x1affa1[_0x2c84a9(0x61f)][_0x2c84a9(0x2be)]?(sessionStorage[_0x2c84a9(0x14d)](_0x2c84a9(0x127)+_0x4c0d82,_0x2c84a9(0x28d)),_0x3060c7[_0x2c84a9(0x51a)][_0x2c84a9(0x57f)]('hidden'),_0x59e5ff(),_0x127a1a['removeEventListener'](_0x2c84a9(0x78f),_0x15bae8)):_0x2265c0[_0x2c84a9(0x51a)]['remove']('hidden');};_0x127a1a[_0x3317fa(0x116)]=_0x15bae8,_0x2e2efe[_0x3317fa(0x116)]=()=>{const _0x5b8ad3=_0x3317fa;_0x3060c7['classList'][_0x5b8ad3(0x57f)](_0x5b8ad3(0x7b3)),_0x2c3076[_0x5b8ad3(0x3d3)]='',_0x127a1a[_0x5b8ad3(0x196)](_0x5b8ad3(0x78f),_0x15bae8);};}else _0x59e5ff();},_0x3314e2['onchange']=()=>{const _0x9f0c71=_0x398953,_0x3a3c65=_0x2c3076[_0x9f0c71(0x3d3)],_0x39459e=_0x3314e2[_0x9f0c71(0x3d3)];_0x3a3c65&&_0x39459e&&renderStudentProgressDashboard(_0x3a3c65,_0x39459e);};}async function renderStudentProgressDashboard(_0x21e90e,_0x877203){const _0x178490=_0x2a65e7,_0x59fa77=document[_0x178490(0x337)](_0x178490(0x53d));_0x59fa77['innerHTML']=_0x178490(0x280);try{const _0xcd7f79=collection(db,'artifacts/'+appId+_0x178490(0x78d)),_0x56d08b=query(_0xcd7f79,where(_0x178490(0x658),'==',_0x21e90e)),_0x201a7b=await getDocs(_0x56d08b),_0x5d44ac=_0x201a7b[_0x178490(0x7dc)][_0x178490(0x657)](_0x2a9bb4=>({'id':_0x2a9bb4['id'],..._0x2a9bb4[_0x178490(0x1c7)]()})),_0x40c1a6=_0x5d44ac[_0x178490(0x657)](_0x5b9fbe=>getDoc(doc(db,_0x178490(0x374)+appId+'/public/data/quizzes/'+_0x5b9fbe['id']+_0x178490(0x443),_0x877203))),_0x3349dc=await Promise[_0x178490(0x760)](_0x40c1a6),_0x127fb3=_0x3349dc[_0x178490(0x3fd)](_0x441620=>_0x441620['exists']())[_0x178490(0x657)](_0x48169d=>({'quizId':_0x48169d[_0x178490(0x45a)]['parent'][_0x178490(0x228)]['id'],..._0x48169d[_0x178490(0x1c7)]()}));if(_0x127fb3[_0x178490(0x6ea)]===0x0){_0x59fa77[_0x178490(0x78a)]=_0x178490(0x113);return;}let _0xed76b3=_0x178490(0x6a7);_0x127fb3[_0x178490(0x785)](_0x3f95a6=>{const _0x8751b=_0x178490,_0x345106=_0x5d44ac[_0x8751b(0x282)](_0x95b8e0=>_0x95b8e0['id']===_0x3f95a6['quizId']),_0x1d4d1e=_0x345106['settings']?.[_0x8751b(0x20d)]||_0x8751b(0x38c),_0x4e2279=_0x345106[_0x8751b(0x61f)]?.[_0x8751b(0x640)]??0x0,_0x587e62=_0x3f95a6['bestScore']>=_0x4e2279;let _0xb8fa80='',_0x46ab13='bg-gray-50';switch(_0x1d4d1e){case _0x8751b(0x38c):case _0x8751b(0x52d):_0x46ab13=_0x587e62?_0x8751b(0x6cb):'bg-red-50',_0xb8fa80=_0x8751b(0x527)+(_0x587e62?'text-green-700':_0x8751b(0x203))+'\x22>'+_0x3f95a6['bestScore']+'\x20/\x20'+_0x3f95a6[_0x8751b(0x31b)]+_0x8751b(0x257)+(_0x587e62?_0x8751b(0x7b6):_0x8751b(0x1f4))+'\x22>'+(_0x587e62?_0x8751b(0x56d):_0x8751b(0x336))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x8751b(0x7aa):_0x46ab13=_0x587e62?_0x8751b(0x6cb):'bg-red-50',_0xb8fa80='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x587e62?_0x8751b(0x7b6):_0x8751b(0x1f4))+'\x22>'+(_0x587e62?_0x8751b(0x56d):_0x8751b(0x336))+_0x8751b(0x62d);break;case _0x8751b(0x2c4):_0x46ab13=_0x8751b(0x467),_0xb8fa80=_0x8751b(0x807);break;}_0xed76b3+=_0x8751b(0x41d)+_0x46ab13+_0x8751b(0x535)+_0x345106[_0x8751b(0x4f5)]+_0x8751b(0x239)+_0x3f95a6[_0x8751b(0x7b7)]['length']+_0x8751b(0x15f)+new Date(_0x3f95a6[_0x8751b(0x637)])[_0x8751b(0x489)](_0x8751b(0x5d3))+_0x8751b(0x665)+_0xb8fa80+_0x8751b(0x681);}),_0xed76b3+=_0x178490(0x6f),_0x59fa77['innerHTML']=_0xed76b3;}catch(_0x1f1c41){console[_0x178490(0x227)](_0x178490(0x515),_0x1f1c41),_0x59fa77['innerHTML']=_0x178490(0x752);}}function setupStudentProgressListeners(){const _0x3b0181=_0x2a65e7;document[_0x3b0181(0x337)]('view-my-progress-btn')['addEventListener'](_0x3b0181(0x78f),showStudentProgressView),document[_0x3b0181(0x337)](_0x3b0181(0xd3))[_0x3b0181(0x60b)](_0x3b0181(0x78f),()=>{const _0x4ef5c8=_0x3b0181;document[_0x4ef5c8(0x337)](_0x4ef5c8(0x2d4))['classList'][_0x4ef5c8(0x57f)]('hidden'),document[_0x4ef5c8(0x337)](_0x4ef5c8(0x4ca))[_0x4ef5c8(0x51a)][_0x4ef5c8(0x5a5)]('hidden');});}async function startSkillPractice(_0x3b2741){const _0x30673a=_0x2a65e7;studentResultArea['classList'][_0x30673a(0x57f)](_0x30673a(0x7b3)),studentQuizArea['innerHTML']=_0x30673a(0x373),studentQuizArea['classList']['remove'](_0x30673a(0x7b3));try{const _0x156ca5=await getStandardizedTopic(_0x3b2741);console[_0x30673a(0x7ca)](_0x30673a(0x2b1)+_0x3b2741+_0x30673a(0x319)+_0x156ca5+'\x22'),studentQuizArea[_0x30673a(0x66a)]('p')[_0x30673a(0x8c)]=_0x30673a(0x394)+_0x156ca5+_0x30673a(0x6c9);const _0x7c2512=collection(db,_0x30673a(0x374)+appId+_0x30673a(0x7bd)),_0x13a6f3=query(_0x7c2512,where(_0x30673a(0x4f5),'==',_0x156ca5)),_0x181cda=await getDocs(_0x13a6f3);if(_0x181cda['docs']['length']>=0x3){console[_0x30673a(0x7ca)](_0x30673a(0x3cc)+_0x181cda[_0x30673a(0x7dc)][_0x30673a(0x6ea)]+_0x30673a(0x525)+_0x156ca5+_0x30673a(0x19f));let _0x299fa5=_0x181cda[_0x30673a(0x7dc)][_0x30673a(0x657)](_0x238c8b=>_0x238c8b[_0x30673a(0x1c7)]());shuffleArray(_0x299fa5);const _0x4506d8={'topic':_0x156ca5,'questions':_0x299fa5[_0x30673a(0x612)](0x0,0x3)};displaySkillPracticeDrill(_0x4506d8);}else{console['log'](_0x30673a(0x40b)+_0x156ca5+_0x30673a(0x18f));const _0x50ff5e=await generatePracticeQuestions(_0x156ca5);await saveDrillToPracticeBank(_0x50ff5e,_0x156ca5),displaySkillPracticeDrill(_0x50ff5e);}}catch(_0x5155ff){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x5155ff),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x30673a(0x51a)]['add'](_0x30673a(0x7b3)),studentResultArea[_0x30673a(0x51a)][_0x30673a(0x5a5)](_0x30673a(0x7b3));}}async function saveDrillToPracticeBank(_0x1a7424,_0x4a6f10){const _0x12e027=_0x2a65e7,_0x4cdb28=collection(db,_0x12e027(0x374)+appId+_0x12e027(0x7bd)),_0x4bb2a8=writeBatch(db);_0x1a7424[_0x12e027(0xbb)][_0x12e027(0x785)](_0x8feb3d=>{const _0x55f4fc=_0x12e027,_0x10f031=doc(_0x4cdb28);_0x4bb2a8[_0x55f4fc(0x4f2)](_0x10f031,{'topic':_0x4a6f10,'questionText':_0x8feb3d['questionText'],'options':_0x8feb3d[_0x55f4fc(0x11a)],'correctAnswerIndex':_0x8feb3d[_0x55f4fc(0x539)],'explanation':_0x8feb3d[_0x55f4fc(0x294)],'createdAt':serverTimestamp()});});try{await _0x4bb2a8[_0x12e027(0x182)](),console[_0x12e027(0x7ca)](_0x12e027(0x286)+_0x1a7424[_0x12e027(0xbb)][_0x12e027(0x6ea)]+_0x12e027(0x4e8));}catch(_0x27abb0){console[_0x12e027(0x227)](_0x12e027(0x42a),_0x27abb0);}}async function getStandardizedTopic(_0x1804ee){const _0xb219ff=_0x2a65e7,_0x1c1e30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x1804ee+_0xb219ff(0x41e),_0x483646={'type':_0xb219ff(0x104),'properties':{'standardTopic':{'type':_0xb219ff(0x11e)}},'required':[_0xb219ff(0x68f)]};try{const _0x28e3ba=await callAnalysisApi(_0x1c1e30,_0x483646);return _0x28e3ba[_0xb219ff(0x68f)];}catch(_0x3a3cbd){return console[_0xb219ff(0x227)](_0xb219ff(0x1cf),_0x3a3cbd),_0x1804ee;}}async function generatePracticeQuestions(_0xef35c){const _0xf51714=_0x2a65e7,_0x3d10f5=_0xf51714(0x71c)+_0xef35c+_0xf51714(0x473)+simpleMathPrompt+_0xf51714(0x3bf),_0x497aa7={'type':_0xf51714(0x104),'properties':{'questionText':{'type':_0xf51714(0x11e)},'options':{'type':_0xf51714(0x27d),'items':{'type':_0xf51714(0x11e)}},'correctAnswerIndex':{'type':_0xf51714(0x63e)},'explanation':{'type':_0xf51714(0x11e)}},'required':[_0xf51714(0x55d),_0xf51714(0x11a),_0xf51714(0x539),_0xf51714(0x294)]},_0x372150={'type':_0xf51714(0x104),'properties':{'topic':{'type':_0xf51714(0x11e)},'questions':{'type':'ARRAY','items':_0x497aa7}},'required':[_0xf51714(0x4f5),'questions']};return await callAnalysisApi(_0x3d10f5,_0x372150);}function displayLessonPlan(_0xd298dd,_0x5cb599){const _0x56b7cd=_0x2a65e7,_0x4c842a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x5cb599[_0x56b7cd(0x4f5)]+_0x56b7cd(0x70a)+_0xd298dd[_0x56b7cd(0x680)][_0x56b7cd(0x657)](_0x1ecbea=>_0x56b7cd(0x285)+_0x1ecbea+'</li>')[_0x56b7cd(0x57e)]('')+_0x56b7cd(0x162)+_0xd298dd[_0x56b7cd(0x7c1)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xd298dd['practiceProblems'][_0x56b7cd(0x657)](_0x381dde=>_0x56b7cd(0x801)+_0x381dde['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x381dde['solution']+_0x56b7cd(0x4c7))[_0x56b7cd(0x57e)]('')+_0x56b7cd(0x678);document[_0x56b7cd(0x337)](_0x56b7cd(0x1d8))[_0x56b7cd(0x8c)]=_0x56b7cd(0x151)+_0x5cb599[_0x56b7cd(0x4f5)],document[_0x56b7cd(0x337)](_0x56b7cd(0x164))[_0x56b7cd(0x78a)]=_0x4c842a,document[_0x56b7cd(0x337)]('lesson-plan-modal')[_0x56b7cd(0x51a)][_0x56b7cd(0x5a5)](_0x56b7cd(0x7b3));if(window[_0x56b7cd(0x7e6)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x38a113){const _0xf138f5=_0x2a65e7;let _0x2ebe51=0x0;const _0xbb9816=_0x38a113[_0xf138f5(0xbb)],_0x468c74=()=>{const _0x5437f3=_0xf138f5,_0x31789e=_0xbb9816[_0x2ebe51],_0x1d552c=_0x5437f3(0x7fe)+(_0x2ebe51+0x1)+_0x5437f3(0x6c7)+_0xbb9816[_0x5437f3(0x6ea)]+_0x5437f3(0x365)+_0x31789e[_0x5437f3(0x55d)]+_0x5437f3(0x42e)+_0x31789e['options'][_0x5437f3(0x657)]((_0x53739b,_0x2c13af)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x2c13af+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x2c13af+_0x5437f3(0x783)+_0x2c13af+'\x22>'+_0x53739b+_0x5437f3(0x3e2))[_0x5437f3(0x57e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x5437f3(0x78a)]=_0x1d552c;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x5437f3(0x337)](_0x5437f3(0x722))['addEventListener'](_0x5437f3(0x78f),async()=>{const _0x30ac72=await getHintForQuestion(_0x31789e['questionText']);showMessage(_0x30ac72);}),document[_0x5437f3(0x337)]('check-answer-btn')[_0x5437f3(0x60b)]('click',()=>{const _0x36e226=_0x5437f3,_0x416511=document[_0x36e226(0x66a)]('input[name=\x22drill_answer\x22]:checked');if(!_0x416511){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x10f74c=document[_0x36e226(0x337)]('drill-feedback'),_0x35e1d7=parseInt(_0x416511['value'])===_0x31789e[_0x36e226(0x539)];_0x35e1d7?(_0x10f74c[_0x36e226(0x67c)]=_0x36e226(0x7e0),_0x10f74c[_0x36e226(0x78a)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x31789e[_0x36e226(0x294)]):(_0x10f74c['className']=_0x36e226(0x170),_0x10f74c['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x31789e[_0x36e226(0x294)]);_0x10f74c[_0x36e226(0x51a)]['remove'](_0x36e226(0x7b3));if(window[_0x36e226(0x7e6)])MathJax[_0x36e226(0x1a9)]([_0x10f74c]);document[_0x36e226(0x337)]('check-answer-btn')[_0x36e226(0x51a)][_0x36e226(0x57f)](_0x36e226(0x7b3)),document['getElementById'](_0x36e226(0x722))['classList']['add'](_0x36e226(0x7b3)),document['getElementById'](_0x36e226(0x5f6))[_0x36e226(0x51a)][_0x36e226(0x5a5)](_0x36e226(0x7b3));}),document[_0x5437f3(0x337)](_0x5437f3(0x5f6))[_0x5437f3(0x60b)]('click',()=>{const _0x5d1c45=_0x5437f3;_0x2ebe51++,_0x2ebe51<_0xbb9816[_0x5d1c45(0x6ea)]?_0x468c74():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5d1c45(0x337)](_0x5d1c45(0x541))['addEventListener'](_0x5d1c45(0x78f),()=>{const _0x285268=_0x5d1c45;studentQuizArea['classList'][_0x285268(0x57f)]('hidden'),studentResultArea[_0x285268(0x51a)][_0x285268(0x5a5)](_0x285268(0x7b3));}));});};_0x468c74();}async function getHintForQuestion(_0x5bf446){const _0x550d81=_0x2a65e7,_0x2c9e55=_0x550d81(0x5e2)+_0x5bf446+_0x550d81(0x412),_0x4fd4b7={'type':_0x550d81(0x104),'properties':{'hint':{'type':_0x550d81(0x11e)}},'required':['hint']};try{const _0x55cf78=await callAnalysisApi(_0x2c9e55,_0x4fd4b7);return _0x55cf78['hint'];}catch(_0xbd67b2){return console[_0x550d81(0x227)](_0x550d81(0x5f9),_0xbd67b2),_0x550d81(0x183);}}async function extractTextFromPdf(_0x55bd9a){const _0x575d5d=_0x2a65e7;pdfjsLib[_0x575d5d(0x607)][_0x575d5d(0x20e)]=_0x575d5d(0x57b);const _0x8a1866=await _0x55bd9a[_0x575d5d(0x4b1)](),_0xbda797=await pdfjsLib[_0x575d5d(0x76a)](_0x8a1866)['promise'],_0x396eba=_0xbda797[_0x575d5d(0x16e)];let _0x116721='';for(let _0x2c7012=0x1;_0x2c7012<=_0x396eba;_0x2c7012++){const _0x26dae5=await _0xbda797[_0x575d5d(0x90)](_0x2c7012),_0x5ce615=await _0x26dae5[_0x575d5d(0x701)](),_0x570738=_0x5ce615['items']['map'](_0x589be8=>_0x589be8[_0x575d5d(0x106)])['join']('\x20');_0x116721+=_0x570738+'\x0a\x0a';}return _0x116721;}async function handleGenerateFromBlueprint(){const _0x396bcb=_0x2a65e7,_0x419ec8=document['getElementById'](_0x396bcb(0x592)),_0x514c57=document['getElementById'](_0x396bcb(0x71a)),_0xa4265a=_0x419ec8[_0x396bcb(0x70d)][0x0],_0x45cd03=_0x514c57[_0x396bcb(0x70d)][_0x396bcb(0x6ea)]>0x0?_0x514c57['files'][0x0]:null;if(!_0xa4265a){showMessage(_0x396bcb(0x3dd));return;}const _0x584bea=document[_0x396bcb(0x337)](_0x396bcb(0x1c6)),_0x5d7c49=document[_0x396bcb(0x337)](_0x396bcb(0x17e)),_0x114183=document[_0x396bcb(0x337)](_0x396bcb(0x61e)),_0x51ba1e=document[_0x396bcb(0x337)](_0x396bcb(0xd1));_0x51ba1e['disabled']=!![],document[_0x396bcb(0x337)]('quiz-generation-area')[_0x396bcb(0x51a)][_0x396bcb(0x5a5)](_0x396bcb(0x7b3)),_0x114183[_0x396bcb(0x78a)]='',_0x584bea[_0x396bcb(0x51a)][_0x396bcb(0x5a5)](_0x396bcb(0x7b3));try{_0x5d7c49['textContent']=_0x396bcb(0x46d);const _0xa9b8af=await extractTextFromPdf(_0xa4265a);if(!_0xa9b8af[_0x396bcb(0x65d)]())throw new Error(_0x396bcb(0x2c1));let _0xfae376='';_0x45cd03&&(_0x5d7c49[_0x396bcb(0x8c)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0xfae376=await extractTextFromPdf(_0x45cd03));_0x5d7c49[_0x396bcb(0x8c)]=_0x396bcb(0x297);const _0x3bbf02=document['getElementById'](_0x396bcb(0x491))[_0x396bcb(0x635)],_0x3a1c91=_0x3bbf02?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x57a7a5=_0xfae376?_0x396bcb(0xca)+_0xfae376+_0x396bcb(0x15e):'',_0x1222bd=_0x396bcb(0x669)+(_0xfae376?_0x396bcb(0x6f4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa9b8af+_0x396bcb(0x15e)+_0x57a7a5+_0x396bcb(0x2fe)+_0x3a1c91+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x396bcb(0x22b),_0x5c59f8={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x396bcb(0x11e),'enum':[_0x396bcb(0x45b),_0x396bcb(0x2cc)]},'options':{'type':_0x396bcb(0x27d),'items':{'type':_0x396bcb(0x11e)}},'correctAnswerIndex':{'type':_0x396bcb(0x63e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x396bcb(0x11e)},'imageCode':{'type':_0x396bcb(0x11e)}},'required':['questionText',_0x396bcb(0x4f9),_0x396bcb(0x294)]},_0x7e80c7={'type':_0x396bcb(0x104),'properties':{'topic':{'type':_0x396bcb(0x11e)},'questions':{'type':'ARRAY','items':_0x5c59f8}},'required':[_0x396bcb(0x4f5),_0x396bcb(0xbb)]};await handleApiCall(_0x1222bd,_0x396bcb(0xb1),_0x7e80c7);}catch(_0x329708){console[_0x396bcb(0x227)](_0x396bcb(0x2ef),_0x329708),showMessage(_0x396bcb(0x570)+_0x329708[_0x396bcb(0x409)]),_0x114183['innerHTML']=_0x396bcb(0x271);}finally{_0x584bea[_0x396bcb(0x51a)]['add'](_0x396bcb(0x7b3)),_0x51ba1e[_0x396bcb(0x7d9)]=![];}}async function handleGenerateParallelFromBank(_0x2d6810){const _0x39070e=_0x2a65e7,_0x186f62=document[_0x39070e(0x337)]('results-tab-content'),_0x577c23=document['getElementById'](_0x39070e(0x3bd));_0x577c23[_0x39070e(0x51a)][_0x39070e(0x57f)](_0x39070e(0x7b3));const _0x24d9e3=_0x39070e(0x3ed)+_0x2d6810[_0x39070e(0x4f5)]+_0x39070e(0x261);_0x186f62[_0x39070e(0x2db)](_0x39070e(0x2c8),_0x24d9e3);const _0x3e7b45=document[_0x39070e(0x337)]('temp-loader-text-results');try{const _0x40cde4=_0x2d6810[_0x39070e(0xbb)][_0x39070e(0x657)]((_0x5c79d3,_0x5de4ae)=>{const _0x28a2ac=_0x39070e;let _0x310b15=_0x5de4ae+0x1+'.\x20'+(_0x5c79d3[_0x28a2ac(0x55d)]||_0x5c79d3['stem'])+'\x0a';if(_0x5c79d3['options'])_0x310b15+=_0x5c79d3[_0x28a2ac(0x11a)][_0x28a2ac(0x657)]((_0xaf1c75,_0x12acf5)=>'\x20\x20\x20-\x20'+(_0x12acf5===_0x5c79d3[_0x28a2ac(0x539)]?'[*]':'')+'\x20'+_0xaf1c75)[_0x28a2ac(0x57e)]('\x0a');else _0x5c79d3[_0x28a2ac(0x226)]&&(_0x310b15+=_0x28a2ac(0x320)+_0x5c79d3['idealAnswer']);return _0x310b15;})['join']('\x0a\x0a');_0x3e7b45[_0x39070e(0x8c)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3637d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x2d6810[_0x39070e(0x4f5)]+_0x39070e(0x7df)+_0x40cde4+_0x39070e(0x3b1)+simpleMathPrompt+_0x39070e(0x22b),_0x283a2e={'type':_0x39070e(0x104),'properties':{'questionText':{'type':_0x39070e(0x11e)},'questionType':{'type':_0x39070e(0x11e),'enum':[_0x39070e(0x45b),'short_answer','true_false','matching_item']},'options':{'type':_0x39070e(0x27d),'items':{'type':_0x39070e(0x11e)}},'correctAnswerIndex':{'type':_0x39070e(0x63e)},'idealAnswer':{'type':_0x39070e(0x11e)},'correctAnswer':{'type':_0x39070e(0x41a)},'stem':{'type':_0x39070e(0x11e)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x39070e(0x27d),'items':{'type':_0x39070e(0x11e)}},'explanation':{'type':_0x39070e(0x11e)},'imageCode':{'type':_0x39070e(0x11e)}},'required':[_0x39070e(0x4f9),_0x39070e(0x294)]},_0x3b637d={'type':_0x39070e(0x104),'properties':{'topic':{'type':_0x39070e(0x11e)},'questions':{'type':'ARRAY','items':_0x283a2e}},'required':['topic',_0x39070e(0xbb)]},_0x1183ac=await callAnalysisApi(_0x3637d7,_0x3b637d),_0x5266e5='(คู่ขนาน)\x20'+_0x2d6810[_0x39070e(0x4f5)],_0x644eee={'topic':_0x5266e5,'questions':_0x1183ac[_0x39070e(0xbb)],'quizType':_0x2d6810[_0x39070e(0x58a)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x39070e(0x1a1)](),'status':_0x39070e(0x303),'settings':_0x2d6810[_0x39070e(0x61f)],'quizMode':_0x39070e(0x5cf),'pairedQuizId':null,'lessonPlan':null};let _0x7441e;while(!![]){_0x7441e=Math[_0x39070e(0x20b)](0x3e8+Math[_0x39070e(0x418)]()*0x2328)[_0x39070e(0x42c)]();const _0x52ac65=await getDoc(doc(db,_0x39070e(0x374)+appId+_0x39070e(0x78d),_0x7441e));if(!_0x52ac65[_0x39070e(0x5b6)]())break;}await setDoc(doc(db,_0x39070e(0x374)+appId+_0x39070e(0x78d),_0x7441e),_0x644eee),showMessage(_0x39070e(0x4fd));}catch(_0x33bf5a){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x33bf5a),showMessage(_0x39070e(0x570)+_0x33bf5a[_0x39070e(0x409)]);}finally{const _0x47dce3=document[_0x39070e(0x337)](_0x39070e(0x555));_0x47dce3&&_0x47dce3['remove'](),_0x577c23[_0x39070e(0x51a)][_0x39070e(0x5a5)](_0x39070e(0x7b3));}}async function handleGenerateParallelPostTest(_0x4ec032){const _0x2a86db=_0x2a65e7,_0x522c53=document[_0x2a86db(0x337)](_0x2a86db(0x456)),_0x942616=document[_0x2a86db(0x337)](_0x2a86db(0x3bd));_0x942616[_0x2a86db(0x51a)][_0x2a86db(0x57f)](_0x2a86db(0x7b3));const _0x2d4d9f=_0x2a86db(0x79b);_0x522c53[_0x2a86db(0x2db)](_0x2a86db(0x2c8),_0x2d4d9f);try{const _0x2e2b5f=_0x4ec032[_0x2a86db(0xbb)][_0x2a86db(0x657)]((_0x17fe35,_0x240ce8)=>{const _0x491c06=_0x2a86db;let _0x57e45f=_0x240ce8+0x1+'.\x20'+(_0x17fe35[_0x491c06(0x55d)]||_0x17fe35['stem']);if(_0x17fe35[_0x491c06(0x11a)])_0x57e45f+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x17fe35[_0x491c06(0x11a)][_0x491c06(0x57e)](',\x20');return _0x57e45f;})[_0x2a86db(0x57e)]('\x0a\x0a'),_0x3ebe67=_0x2a86db(0x36c)+_0x4ec032[_0x2a86db(0x4f5)]+_0x2a86db(0x11b)+_0x2e2b5f+_0x2a86db(0x213)+simpleMathPrompt+_0x2a86db(0x22b),_0xdeb2a8={'type':'OBJECT','properties':{'topic':{'type':_0x2a86db(0x11e)},'questions':{'type':_0x2a86db(0x27d),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x2a86db(0x11e)},'questionType':{'type':'STRING'},'options':{'type':_0x2a86db(0x27d),'items':{'type':_0x2a86db(0x11e)}},'correctAnswerIndex':{'type':_0x2a86db(0x63e)},'idealAnswer':{'type':_0x2a86db(0x11e)},'explanation':{'type':_0x2a86db(0x11e)}},'required':[_0x2a86db(0x55d),'explanation']}}},'required':[_0x2a86db(0x4f5),_0x2a86db(0xbb)]},_0x4eeb48=await callAnalysisApi(_0x3ebe67,_0xdeb2a8),_0x231948=_0x4ec032['topic'][_0x2a86db(0x700)]('(ก่อนเรียน)','')[_0x2a86db(0x65d)](),_0xabc52e='(หลังเรียน)\x20'+_0x231948,_0x562480={..._0x4eeb48,'topic':_0xabc52e,'quizType':_0x4ec032[_0x2a86db(0x58a)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2a86db(0x1a1)](),'status':_0x2a86db(0x303),'settings':_0x4ec032[_0x2a86db(0x61f)],'quizMode':_0x2a86db(0x1ca),'pairedQuizId':_0x4ec032['id']};let _0x4eba91;while(!![]){_0x4eba91=Math[_0x2a86db(0x20b)](0x3e8+Math[_0x2a86db(0x418)]()*0x2328)['toString']();const _0x498f27=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4eba91));if(!_0x498f27[_0x2a86db(0x5b6)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2a86db(0x78d),_0x4eba91),_0x562480);const _0x5b690a=doc(db,_0x2a86db(0x374)+appId+_0x2a86db(0x78d),_0x4ec032['id']);await updateDoc(_0x5b690a,{'pairedQuizId':_0x4eba91}),showMessage(_0x2a86db(0x12a));}catch(_0x569ee1){console[_0x2a86db(0x227)]('Error\x20generating\x20parallel\x20post-test:',_0x569ee1),showMessage(_0x2a86db(0x570)+_0x569ee1[_0x2a86db(0x409)]);}finally{const _0xeb8dab=document[_0x2a86db(0x337)](_0x2a86db(0x555));if(_0xeb8dab)_0xeb8dab['remove']();_0x942616[_0x2a86db(0x51a)]['remove'](_0x2a86db(0x7b3));}}async function handleGenerateParallelTest(){const _0x10fc84=_0x2a65e7,_0x34bf85=document[_0x10fc84(0x337)](_0x10fc84(0x4df)),_0x112ef5=_0x34bf85[_0x10fc84(0x70d)][0x0];if(!_0x112ef5){showMessage(_0x10fc84(0x155));return;}const _0xb54653=document[_0x10fc84(0x337)](_0x10fc84(0x1c6)),_0x39f0d8=document[_0x10fc84(0x337)](_0x10fc84(0x17e)),_0x34b2f3=document[_0x10fc84(0x337)](_0x10fc84(0x61e)),_0x59a8af=document[_0x10fc84(0x337)]('generate-from-parallel-test-btn');_0x59a8af[_0x10fc84(0x7d9)]=!![],document[_0x10fc84(0x337)](_0x10fc84(0x415))[_0x10fc84(0x51a)]['remove'](_0x10fc84(0x7b3)),_0x34b2f3[_0x10fc84(0x78a)]='',_0xb54653['classList'][_0x10fc84(0x5a5)]('hidden'),_0x39f0d8[_0x10fc84(0x8c)]=_0x10fc84(0x1a8);try{const _0x3ce8ed=await extractTextFromPdf(_0x112ef5);if(!_0x3ce8ed[_0x10fc84(0x65d)]())throw new Error(_0x10fc84(0x251));_0x39f0d8['textContent']='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x2c5637=document[_0x10fc84(0x337)]('include-images-checkbox')['checked'],_0x3f3449=_0x2c5637?_0x10fc84(0x180):'',_0x65d4d4=_0x10fc84(0x1f9)+_0x3ce8ed+_0x10fc84(0x3ab)+_0x3f3449+_0x10fc84(0x7ce)+simpleMathPrompt+_0x10fc84(0x22b),_0xc57fd3={'type':_0x10fc84(0x104),'properties':{'questionText':{'type':_0x10fc84(0x11e)},'questionType':{'type':'STRING','enum':[_0x10fc84(0x45b),_0x10fc84(0x2cc)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x10fc84(0x11e)},'explanation':{'type':_0x10fc84(0x11e)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x10fc84(0x4f9),_0x10fc84(0x294)]},_0xc46a29={'type':_0x10fc84(0x104),'properties':{'topic':{'type':_0x10fc84(0x11e)},'questions':{'type':_0x10fc84(0x27d),'items':_0xc57fd3}},'required':[_0x10fc84(0x4f5),_0x10fc84(0xbb)]};await handleApiCall(_0x65d4d4,_0x10fc84(0x444),_0xc46a29);}catch(_0x3de546){console[_0x10fc84(0x227)](_0x10fc84(0x88),_0x3de546),showMessage(_0x10fc84(0x570)+_0x3de546[_0x10fc84(0x409)]),_0x34b2f3['innerHTML']=_0x10fc84(0x59a);}finally{_0xb54653[_0x10fc84(0x51a)][_0x10fc84(0x57f)](_0x10fc84(0x7b3)),_0x59a8af['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x14ec0b){const _0x349b0b=_0x2a65e7;if(currentEditingQuizData===null)return;const _0x40e399=document[_0x349b0b(0x66a)]('.question-editor-item[data-q-index=\x22'+_0x14ec0b+'\x22]');_0x40e399&&(_0x40e399[_0x349b0b(0x78a)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x3ce754=currentEditingQuizData[_0x349b0b(0xbb)][_0x14ec0b],_0x42c8df=currentEditingQuizData['topic'],_0x538f3f=_0x3ce754[_0x349b0b(0x4f9)],_0x2c678b={'type':'OBJECT','properties':{'questionText':{'type':_0x349b0b(0x11e)},'options':{'type':_0x349b0b(0x27d),'items':{'type':_0x349b0b(0x11e)}},'correctAnswerIndex':{'type':_0x349b0b(0x63e)},'explanation':{'type':_0x349b0b(0x11e)}},'required':[_0x349b0b(0x55d),_0x349b0b(0x11a),_0x349b0b(0x539),'explanation']},_0x1b6953={'type':'OBJECT','properties':{'questionText':{'type':_0x349b0b(0x11e)},'idealAnswer':{'type':_0x349b0b(0x11e)},'explanation':{'type':_0x349b0b(0x11e)}},'required':[_0x349b0b(0x55d),_0x349b0b(0x226),_0x349b0b(0x294)]};let _0x5af15c,_0x3123e6='';_0x538f3f===_0x349b0b(0x45b)?(_0x5af15c=_0x2c678b,_0x3123e6=_0x349b0b(0x376)):(_0x5af15c=_0x1b6953,_0x3123e6=_0x349b0b(0x3c0));const _0x2795ad='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x42c8df+_0x349b0b(0x3fc)+_0x3123e6+_0x349b0b(0x1b8)+(_0x3ce754[_0x349b0b(0x55d)]||_0x3ce754['stem'])+_0x349b0b(0x275)+simpleMathPrompt;try{const _0x37f3e8=await callAnalysisApi(_0x2795ad,_0x5af15c);currentEditingQuizData[_0x349b0b(0xbb)][_0x14ec0b]={..._0x3ce754,..._0x37f3e8},renderQuizEditor(currentEditingQuizData);}catch(_0xaa16b4){console['error'](_0x349b0b(0x135),_0xaa16b4),showMessage(_0x349b0b(0x6f1)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xf8ff3f=_0x2a65e7,_0x30bf50=document[_0xf8ff3f(0x337)]('mode-switcher-btn');currentMode===_0xf8ff3f(0x26d)?(adminPasswordModal[_0xf8ff3f(0x51a)][_0xf8ff3f(0x5a5)](_0xf8ff3f(0x7b3)),document[_0xf8ff3f(0x337)](_0xf8ff3f(0x7bf))[_0xf8ff3f(0x2a6)]()):(currentMode='student',_0x30bf50[_0xf8ff3f(0x78a)]=_0xf8ff3f(0x60a),_0x30bf50[_0xf8ff3f(0x4a6)]=_0xf8ff3f(0x7fa),showView(_0xf8ff3f(0x26d)));}function handleAdminLogin(){const _0x58adb4=_0x2a65e7,_0x570226=document['getElementById'](_0x58adb4(0x7bf)),_0x57eca2=document['getElementById'](_0x58adb4(0x369));if(_0x570226[_0x58adb4(0x3d3)]===_0x58adb4(0x690)){adminPasswordModal[_0x58adb4(0x51a)][_0x58adb4(0x57f)](_0x58adb4(0x7b3)),_0x570226[_0x58adb4(0x3d3)]='',_0x57eca2[_0x58adb4(0x51a)][_0x58adb4(0x57f)]('hidden'),currentMode=_0x58adb4(0x500);const _0x429a2a=document[_0x58adb4(0x337)](_0x58adb4(0x2f4));_0x429a2a[_0x58adb4(0x78a)]=_0x58adb4(0x2e5),_0x429a2a['title']=_0x58adb4(0x4c6),showView('admin-dashboard');}else _0x57eca2[_0x58adb4(0x51a)][_0x58adb4(0x5a5)]('hidden'),_0x570226[_0x58adb4(0x3d3)]='';}function switchProjectTab(_0x326c4a){const _0x5cd53c=_0x2a65e7;[_0x5cd53c(0x5f1),_0x5cd53c(0x6c3),'leaderboard'][_0x5cd53c(0x785)](_0x1c2299=>{const _0x32bab8=_0x5cd53c;document['getElementById'](_0x1c2299+_0x32bab8(0x595))[_0x32bab8(0x51a)]['remove'](_0x32bab8(0x303)),document['getElementById'](_0x1c2299+_0x32bab8(0x3ae))['classList'][_0x32bab8(0x57f)]('hidden');}),document[_0x5cd53c(0x337)](_0x326c4a+_0x5cd53c(0x595))[_0x5cd53c(0x51a)][_0x5cd53c(0x57f)]('active'),document[_0x5cd53c(0x337)](_0x326c4a+_0x5cd53c(0x3ae))[_0x5cd53c(0x51a)]['remove']('hidden');}function switchQuizDetailTab(_0xaf1f35){const _0x34d58d=_0x2a65e7,_0x492e15={'analytics':{'btn':_0x34d58d(0x4ab),'content':_0x34d58d(0x27a)},'scores':{'btn':_0x34d58d(0x3d1),'content':_0x34d58d(0x387)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x34d58d(0x22e),'content':_0x34d58d(0x6ab)}};for(const _0x4b2e82 in _0x492e15){document['getElementById'](_0x492e15[_0x4b2e82]['btn'])['classList'][_0x34d58d(0x5a5)]('active'),document[_0x34d58d(0x337)](_0x492e15[_0x4b2e82][_0x34d58d(0x86)])[_0x34d58d(0x51a)]['add'](_0x34d58d(0x7b3));}document['getElementById'](_0x492e15[_0xaf1f35][_0x34d58d(0x79c)])['classList'][_0x34d58d(0x57f)](_0x34d58d(0x303)),document[_0x34d58d(0x337)](_0x492e15[_0xaf1f35][_0x34d58d(0x86)])['classList'][_0x34d58d(0x5a5)]('hidden');}function showMessage(_0x5d82eb,_0x5f3471=null){const _0x5358ab=_0x2a65e7;modalMessage['textContent']=_0x5d82eb,modalConfirmAction=_0x5f3471,messageModal[_0x5358ab(0x51a)][_0x5358ab(0x5a5)](_0x5358ab(0x7b3));}function showConfirmation(_0x4a27cc,_0x2a59f8){const _0x3876e2=_0x2a65e7;document[_0x3876e2(0x337)](_0x3876e2(0x40c))[_0x3876e2(0x8c)]=_0x4a27cc,document[_0x3876e2(0x337)](_0x3876e2(0x4c5))[_0x3876e2(0x66a)]('h3')['textContent']=_0x3876e2(0xdf),confirmAction=_0x2a59f8,confirmationModal[_0x3876e2(0x51a)][_0x3876e2(0x5a5)]('hidden');}function listenForProjects(){const _0x44d6ac=_0x2a65e7,_0x58726c=doc(db,_0x44d6ac(0x208),_0x44d6ac(0x137));onSnapshot(_0x58726c,_0x4079e5=>{const _0x40602f=_0x44d6ac;if(_0x4079e5[_0x40602f(0x5b6)]()){const _0x134208=_0x4079e5[_0x40602f(0x1c7)]();globalDashboardSettings[_0x40602f(0x26b)]=_0x134208[_0x40602f(0x26b)]||_0x40602f(0x28c),globalDashboardSettings[_0x40602f(0x7ab)]=_0x134208['pinnedProjects']||[],globalDashboardSettings[_0x40602f(0x23c)]=_0x134208['projectOrder']||[];}allProjects[_0x40602f(0x6ea)]>0x0&&renderProjects();});const _0x3c5652=collection(db,_0x44d6ac(0x374)+appId+_0x44d6ac(0x174));unsubscribeProjectsListener=onSnapshot(_0x3c5652,_0x52d9b9=>{const _0x226a50=_0x44d6ac;allProjects=_0x52d9b9['docs']['map'](_0x188c36=>({'id':_0x188c36['id'],..._0x188c36[_0x226a50(0x1c7)]()})),renderProjects();},_0x1c717b=>{const _0xd8ecf=_0x44d6ac;console['error'](_0xd8ecf(0x372),_0x1c717b),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x29735f,_0x1fa611){const _0x20bb06=_0x2a65e7;document[_0x20bb06(0x4a9)](_0x20bb06(0x4a3))[_0x20bb06(0x785)](_0x571e37=>_0x571e37[_0x20bb06(0x5a5)]());const _0x4b45b2=[_0x20bb06(0x2f2),_0x20bb06(0x5c1),_0x20bb06(0x3ec),_0x20bb06(0x767),_0x20bb06(0x9d),_0x20bb06(0x100),_0x20bb06(0x317),_0x20bb06(0x6d6),_0x20bb06(0xe4)],_0x4ad2d3=document['createElement']('div');_0x4ad2d3[_0x20bb06(0x67c)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x4b45b2[_0x20bb06(0x785)](_0x2a056c=>{const _0x2abfdd=_0x20bb06,_0x90cc8b=document[_0x2abfdd(0x6e7)](_0x2abfdd(0x644));_0x90cc8b['className']=_0x2abfdd(0x67b),_0x90cc8b[_0x2abfdd(0x13d)][_0x2abfdd(0x623)]=_0x2a056c,_0x90cc8b['addEventListener'](_0x2abfdd(0x78f),()=>{const _0x453ad8=_0x2abfdd;handleProjectColorChange(_0x1fa611,_0x2a056c),_0x4ad2d3[_0x453ad8(0x5a5)]();}),_0x4ad2d3[_0x2abfdd(0x58d)](_0x90cc8b);}),document[_0x20bb06(0x3ee)][_0x20bb06(0x58d)](_0x4ad2d3);const _0x5ac4c6=_0x29735f[_0x20bb06(0x5aa)]();_0x4ad2d3[_0x20bb06(0x13d)][_0x20bb06(0x201)]=_0x5ac4c6[_0x20bb06(0x7c3)]+window[_0x20bb06(0x586)]+'px',_0x4ad2d3['style']['left']=_0x5ac4c6['left']+window[_0x20bb06(0x699)]-_0x4ad2d3['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x204796,_0x591d29){const _0x974eab=_0x2a65e7,_0x31ac06=doc(db,_0x974eab(0x374)+appId+'/public/data/projects',_0x204796);try{await updateDoc(_0x31ac06,{'color':_0x591d29});}catch(_0x47cf3){console[_0x974eab(0x227)](_0x974eab(0xf8),_0x47cf3),showMessage(_0x974eab(0x6cd));}}async function renderProjects(){const _0x3015ad=_0x2a65e7,_0x2f374a=globalDashboardSettings[_0x3015ad(0x26b)]||_0x3015ad(0x28c),_0x1719d1=new Set(globalDashboardSettings[_0x3015ad(0x7ab)]||[]),_0x4c435a=globalDashboardSettings[_0x3015ad(0x64c)]||'grid',_0x261268=document[_0x3015ad(0x337)](_0x3015ad(0x32d)),_0x527eff=document['getElementById'](_0x3015ad(0x475));_0x261268[_0x3015ad(0x51a)][_0x3015ad(0x726)](_0x3015ad(0x303),_0x4c435a===_0x3015ad(0x157)),_0x527eff[_0x3015ad(0x51a)][_0x3015ad(0x726)](_0x3015ad(0x303),_0x4c435a===_0x3015ad(0x4dc)),document[_0x3015ad(0x337)](_0x3015ad(0x186))[_0x3015ad(0x3d3)]=_0x2f374a;const _0x4634f1=document[_0x3015ad(0x337)](_0x3015ad(0x2c9))[_0x3015ad(0x3d3)][_0x3015ad(0x22f)]();let _0x3ab65f=allProjects[_0x3015ad(0x3fd)](_0x5b9f4d=>_0x5b9f4d[_0x3015ad(0x4ad)]['toLowerCase']()[_0x3015ad(0x714)](_0x4634f1));const _0x35d4c2=_0x3ab65f['filter'](_0x2a30ad=>_0x1719d1['has'](_0x2a30ad['id'])),_0x2b65b9=_0x3ab65f['filter'](_0x100580=>!_0x1719d1['has'](_0x100580['id'])),_0x927d82=(_0x20d076,_0xaaf26e)=>{const _0x208ef8=_0x3015ad;switch(_0x2f374a){case'name_asc':return _0x20d076[_0x208ef8(0x4ad)][_0x208ef8(0x33b)](_0xaaf26e[_0x208ef8(0x4ad)],'th');case _0x208ef8(0x258):return _0xaaf26e[_0x208ef8(0x4ad)][_0x208ef8(0x33b)](_0x20d076[_0x208ef8(0x4ad)],'th');case _0x208ef8(0x7ad):return new Date(_0x20d076[_0x208ef8(0x446)])-new Date(_0xaaf26e[_0x208ef8(0x446)]);default:return new Date(_0xaaf26e[_0x208ef8(0x446)])-new Date(_0x20d076['createdAt']);}};_0x35d4c2[_0x3015ad(0x48f)](_0x927d82),_0x2b65b9[_0x3015ad(0x48f)](_0x927d82);const _0x4f456f=[..._0x35d4c2,..._0x2b65b9],_0x116a9e=globalDashboardSettings[_0x3015ad(0x23c)]||[];_0x116a9e['length']>0x0&&_0x4c435a==='grid'&&_0x4f456f[_0x3015ad(0x48f)]((_0x51a3d0,_0x2d0873)=>{const _0x3b9b89=_0x3015ad,_0x64d6ea=_0x116a9e[_0x3b9b89(0x620)](_0x51a3d0['id']),_0x16ee65=_0x116a9e[_0x3b9b89(0x620)](_0x2d0873['id']);if(_0x64d6ea===-0x1)return 0x1;if(_0x16ee65===-0x1)return-0x1;return _0x64d6ea-_0x16ee65;});const _0x4196ef={};await Promise[_0x3015ad(0x760)](_0x4f456f['map'](async _0x2a4c65=>{const _0x2b08ab=_0x3015ad,_0x13b67f=query(collection(db,_0x2b08ab(0x374)+appId+_0x2b08ab(0x78d)),where(_0x2b08ab(0x658),'==',_0x2a4c65['id'])),_0x556696=await getDocs(_0x13b67f);_0x4196ef[_0x2a4c65['id']]=_0x556696[_0x2b08ab(0x4f0)];}));const _0x43e124=document['getElementById'](_0x3015ad(0x69));let _0x4df094='';if(_0x4c435a===_0x3015ad(0x157)){_0x43e124['className']=_0x3015ad(0x89);if(starredQuizzes['length']>0x0&&_0x4634f1===''){const _0x410fc5=starredQuizzes[_0x3015ad(0x657)](_0x1205b2=>{const _0x41c69d=_0x3015ad,_0x535d9a=allProjects['find'](_0x4dc2be=>_0x4dc2be['id']===_0x1205b2[_0x41c69d(0x658)]);return{..._0x1205b2,'projectName':_0x535d9a?_0x535d9a[_0x41c69d(0x4ad)]:_0x41c69d(0x20f)};});_0x4df094+=_0x3015ad(0x679)+_0x410fc5[_0x3015ad(0x657)](_0x41be8c=>_0x3015ad(0x38f)+_0x41be8c[_0x3015ad(0x4f5)]+'\x22>'+_0x41be8c[_0x3015ad(0x4f5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x41be8c[_0x3015ad(0x4ad)]+_0x3015ad(0x64b)+_0x41be8c[_0x3015ad(0x4ad)]+_0x3015ad(0x749))[_0x3015ad(0x57e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x3015ad(0x6ea)]+_0x3015ad(0x523);}_0x4f456f[_0x3015ad(0x785)](_0x120be2=>{const _0x45936c=_0x3015ad,_0x5b861f=_0x4196ef[_0x120be2['id']]??0x0,_0x4b852a=_0x1719d1[_0x45936c(0x5bf)](_0x120be2['id']),_0x3118ce=_0x120be2[_0x45936c(0x7c8)]||_0x45936c(0x2f2),_0x21a775=parseInt(_0x3118ce[_0x45936c(0x518)](0x1,0x3),0x10)*0.299+parseInt(_0x3118ce['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x3118ce[_0x45936c(0x518)](0x5,0x7),0x10)*0.114<0xba,_0x7ab287=_0x21a775?_0x45936c(0x95):_0x45936c(0x38b),_0x31f59d=_0x21a775?'text-gray-200':'text-gray-500';_0x4df094+=_0x45936c(0x6fd)+(_0x4b852a?_0x45936c(0x144):'border-gray-200')+_0x45936c(0x5dd)+_0x3118ce+_0x45936c(0x1ff)+_0x120be2['id']+_0x45936c(0x6b)+_0x120be2['id']+_0x45936c(0x69d)+(_0x21a775?_0x45936c(0x6d4):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x120be2['id']+_0x45936c(0x59e)+(_0x21a775?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x45936c(0x19a)+(_0x4b852a?_0x21a775?_0x45936c(0x704):'text-indigo-600':'')+_0x45936c(0x70e)+_0x120be2['id']+_0x45936c(0x71)+_0x7ab287+_0x45936c(0x5d7)+_0x120be2[_0x45936c(0x4ad)]+_0x45936c(0x3fe)+_0x31f59d+_0x45936c(0x6b8)+new Date(_0x120be2[_0x45936c(0x446)])[_0x45936c(0x489)](_0x45936c(0x5d3))+_0x45936c(0x292)+(_0x21a775?_0x45936c(0x345):_0x45936c(0x490))+_0x45936c(0x235)+_0x5b861f+_0x45936c(0x624)+_0x120be2['id']+_0x45936c(0x551)+_0x120be2[_0x45936c(0x4ad)]+_0x45936c(0x5b7)+(_0x21a775?_0x45936c(0x5ba):_0x45936c(0x3eb))+_0x45936c(0x55c);});}else _0x43e124[_0x3015ad(0x67c)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x4634f1===''&&(_0x4df094+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x3015ad(0x6ea)]+_0x3015ad(0x697)),_0x4df094+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4f456f[_0x3015ad(0x785)](_0x463506=>{const _0x3c84cc=_0x3015ad,_0x3d7d13=_0x4196ef[_0x463506['id']]??0x0,_0x5a78a1=_0x1719d1[_0x3c84cc(0x5bf)](_0x463506['id']);_0x4df094+=_0x3c84cc(0x4e4)+(_0x463506[_0x3c84cc(0x7c8)]||_0x3c84cc(0xe4))+_0x3c84cc(0x12f)+_0x463506['id']+_0x3c84cc(0x7c0)+_0x463506['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x3d7d13+_0x3c84cc(0x6ed)+new Date(_0x463506[_0x3c84cc(0x446)])[_0x3c84cc(0x3ba)](_0x3c84cc(0x5d3))+_0x3c84cc(0x454)+_0x463506['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5a78a1?_0x3c84cc(0x362):'')+_0x3c84cc(0x486)+_0x463506['id']+'\x22\x20data-name=\x22'+_0x463506['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x3015ad(0x78a)]=_0x4df094,noProjectsMsg[_0x3015ad(0x51a)][_0x3015ad(0x726)](_0x3015ad(0x7b3),_0x4df094[_0x3015ad(0x6ea)]>0x0);}document[_0x2a65e7(0x337)](_0x2a65e7(0x272))['addEventListener'](_0x2a65e7(0x78f),async()=>{const _0x474057=_0x2a65e7,_0x26db1f=document[_0x474057(0x337)](_0x474057(0x751)),_0x224c75=_0x26db1f[_0x474057(0x3d3)][_0x474057(0x65d)]();if(!_0x224c75){showMessage(_0x474057(0x5b8));return;}try{const _0x3b6d07=doc(collection(db,_0x474057(0x374)+appId+'/public/data/projects'));await setDoc(_0x3b6d07,{'projectName':_0x224c75,'students':[],'settings':{'resultsDisplay':_0x474057(0x38c),'shuffleSetting':_0x474057(0x3ea),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x474057(0x3ea),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x474057(0x1a1)]()}),_0x26db1f[_0x474057(0x3d3)]='',createProjectModal[_0x474057(0x51a)][_0x474057(0x57f)](_0x474057(0x7b3)),showMessage(_0x474057(0x6eb));}catch(_0xb18402){console[_0x474057(0x227)](_0x474057(0x509),_0xb18402),showMessage(_0x474057(0x7ac));}}),projectList[_0x2a65e7(0x60b)](_0x2a65e7(0x78f),async _0x467a01=>{const _0x45b050=_0x2a65e7,_0x296b41=_0x467a01[_0x45b050(0x706)]['closest'](_0x45b050(0x55a)),_0x7047df=_0x467a01[_0x45b050(0x706)]['closest'](_0x45b050(0x4b0)),_0x6ea693=_0x467a01[_0x45b050(0x706)][_0x45b050(0x6d2)](_0x45b050(0x677)),_0x149c93=_0x467a01['target'][_0x45b050(0x6d2)](_0x45b050(0x79));if(_0x6ea693){const _0x5011e1=_0x6ea693['dataset']['id'],_0x1d995e=doc(db,_0x45b050(0x208),_0x45b050(0x137)),_0x4cce12=globalDashboardSettings[_0x45b050(0x7ab)];let _0x15ac90;_0x4cce12[_0x45b050(0x714)](_0x5011e1)?_0x15ac90=_0x4cce12['filter'](_0x44f0f3=>_0x44f0f3!==_0x5011e1):_0x15ac90=[..._0x4cce12,_0x5011e1];try{await setDoc(_0x1d995e,{'pinnedProjects':_0x15ac90},{'merge':!![]});}catch(_0x584277){console[_0x45b050(0x227)]('Error\x20updating\x20pin\x20status:',_0x584277),showMessage(_0x45b050(0x212));}}else{if(_0x149c93){const _0x58268c=_0x149c93[_0x45b050(0x301)]['id'];showColorPalette(_0x149c93,_0x58268c);}else{if(_0x296b41){const _0x44fdc3=_0x296b41[_0x45b050(0x301)]['id'];_0x44fdc3==='starred-project'?showStarredProjectView():(currentProjectId=_0x44fdc3,await loadProjectDetails(currentProjectId),showView(_0x45b050(0x248)));}else{if(_0x7047df){const _0x442e50=_0x7047df[_0x45b050(0x301)]['id'],_0xccd211=_0x7047df[_0x45b050(0x301)][_0x45b050(0x2c3)];showConfirmation(_0x45b050(0x77a)+_0xccd211+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x442e50));}}}}}),projectList['addEventListener']('dragstart',_0x45d4c9=>{const _0x40c7fe=_0x2a65e7,_0x2f0f52=_0x45d4c9['target']['closest'](_0x40c7fe(0x128));_0x2f0f52&&_0x2f0f52[_0x40c7fe(0x51a)]['add'](_0x40c7fe(0x2e2));}),projectList[_0x2a65e7(0x60b)](_0x2a65e7(0x70f),_0xe03fa7=>{const _0x28247c=_0x2a65e7,_0x380f04=_0xe03fa7['target'][_0x28247c(0x6d2)](_0x28247c(0x128));_0x380f04&&_0x380f04[_0x28247c(0x51a)]['remove'](_0x28247c(0x2e2));}),projectList[_0x2a65e7(0x60b)](_0x2a65e7(0x347),_0xbf1e53=>{const _0x9d8eb9=_0x2a65e7;_0xbf1e53[_0x9d8eb9(0x3cd)]();const _0x46635d=document['querySelector'](_0x9d8eb9(0x642));if(!_0x46635d)return;const _0x2ed965=getDragAfterElement(projectList,_0xbf1e53[_0x9d8eb9(0x197)]);_0x2ed965==null?projectList[_0x9d8eb9(0x58d)](_0x46635d):projectList[_0x9d8eb9(0x529)](_0x46635d,_0x2ed965);}),projectList[_0x2a65e7(0x60b)]('drop',_0x489e6d=>{const _0x53196f=_0x2a65e7;_0x489e6d[_0x53196f(0x3cd)]();const _0x43d41f=[...projectList[_0x53196f(0x4a9)](_0x53196f(0x537))][_0x53196f(0x657)](_0x2b2a26=>_0x2b2a26[_0x53196f(0x301)]['id']);saveProjectOrder(_0x43d41f);});function renderBehaviorLog(_0x24c88e){const _0x55239f=_0x2a65e7,_0x4a5435=document[_0x55239f(0x337)](_0x55239f(0x6d8));if(!_0x4a5435)return;const _0x3869a0=_0x24c88e['filter'](_0x3094b9=>_0x3094b9[_0x55239f(0x39e)]&&_0x3094b9[_0x55239f(0x39e)][_0x55239f(0x6ea)]>0x0);if(_0x3869a0[_0x55239f(0x6ea)]===0x0){_0x4a5435[_0x55239f(0x78a)]=_0x55239f(0x10e);return;}let _0x47b2f0='';_0x3869a0[_0x55239f(0x785)](_0xa4b348=>{const _0x5ba87e=_0x55239f;_0x47b2f0+=_0x5ba87e(0x34e)+_0xa4b348[_0x5ba87e(0x582)]+_0x5ba87e(0xba),_0xa4b348[_0x5ba87e(0x39e)]['sort']((_0x9c247b,_0x351fed)=>new Date(_0x351fed['timestamp'])-new Date(_0x9c247b[_0x5ba87e(0x2a1)]))[_0x5ba87e(0x785)](_0x3703a9=>{const _0x18b614=_0x5ba87e,_0x1f329f=new Date(_0x3703a9['timestamp'])[_0x18b614(0x3ba)](_0x18b614(0x5d3),{'dateStyle':_0x18b614(0x1bd),'timeStyle':'medium'});_0x47b2f0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x3703a9[_0x18b614(0x7c)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x1f329f+_0x18b614(0x2ca);}),_0x47b2f0+=_0x5ba87e(0x521);}),_0x4a5435['innerHTML']=_0x47b2f0;}function getDragAfterElement(_0x529ba7,_0xbffd35){const _0x2c6216=_0x2a65e7,_0x1c5182=[..._0x529ba7[_0x2c6216(0x4a9)](_0x2c6216(0x79a))];return _0x1c5182[_0x2c6216(0x5fb)]((_0x1e1c61,_0x4d4bd4)=>{const _0x4e7566=_0x2c6216,_0xc1918c=_0x4d4bd4[_0x4e7566(0x5aa)](),_0x1696db=_0xbffd35-_0xc1918c[_0x4e7566(0x201)]-_0xc1918c[_0x4e7566(0x318)]/0x2;return _0x1696db<0x0&&_0x1696db>_0x1e1c61[_0x4e7566(0x65f)]?{'offset':_0x1696db,'element':_0x4d4bd4}:_0x1e1c61;},{'offset':Number[_0x2c6216(0x1f3)]})[_0x2c6216(0x386)];}async function saveProjectOrder(_0x40beeb){const _0x5a05ea=_0x2a65e7,_0x456675=doc(db,'globalSettings',_0x5a05ea(0x137));try{await setDoc(_0x456675,{'projectOrder':_0x40beeb},{'merge':!![]});}catch(_0x2c76b1){console[_0x5a05ea(0x227)](_0x5a05ea(0x253),_0x2c76b1),showMessage(_0x5a05ea(0x501));}}async function logBehaviorEvent(_0x4e8993,_0x42bd4d={}){const _0x7b0e4d=_0x2a65e7;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x7b0e4d(0x429)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x1d6452=doc(db,_0x7b0e4d(0x374)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x7b0e4d(0x443),currentStudentName),_0xf7e8e3={'event':_0x4e8993,'timestamp':new Date()['toISOString'](),..._0x42bd4d};try{await setDoc(_0x1d6452,{'behaviorLog':arrayUnion(_0xf7e8e3)},{'merge':!![]}),console['log'](_0x7b0e4d(0x2e8)+currentStudentName+'\x20สำเร็จ:\x20'+_0x4e8993);}catch(_0x16a016){console['error'](_0x7b0e4d(0x5f8),_0x16a016);}}function calculateMeanAndStdDev(_0x37a7f9){const _0x24e70b=_0x2a65e7;if(_0x37a7f9['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x149c42=_0x37a7f9[_0x24e70b(0x5fb)]((_0xd212e9,_0x450fc9)=>_0xd212e9+_0x450fc9,0x0)/_0x37a7f9[_0x24e70b(0x6ea)];if(_0x37a7f9[_0x24e70b(0x6ea)]===0x1)return{'mean':_0x149c42,'stdDev':0x0};const _0x2477ed=Math[_0x24e70b(0x7d2)](_0x37a7f9['map'](_0x403978=>Math[_0x24e70b(0x1f6)](_0x403978-_0x149c42,0x2))['reduce']((_0x3e654a,_0x1e3a21)=>_0x3e654a+_0x1e3a21,0x0)/(_0x37a7f9[_0x24e70b(0x6ea)]-0x1));return{'mean':_0x149c42,'stdDev':_0x2477ed};}function calculateZScore(_0x548a64,_0x5159e6,_0x38bd0f){if(_0x38bd0f===0x0)return 0x0;return(_0x548a64-_0x5159e6)/_0x38bd0f;}function calculateTScore(_0x1b1d4a){return 0xa*_0x1b1d4a+0x32;}function showStarredProjectView(){const _0x9dfce2=_0x2a65e7;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x9dfce2(0x65b),projectIdDisplay[_0x9dfce2(0x8c)]=_0x9dfce2(0x563),showView('project-detail'),manageTab[_0x9dfce2(0x51a)]['add'](_0x9dfce2(0x7b3)),leaderboardTab[_0x9dfce2(0x51a)][_0x9dfce2(0x57f)]('hidden'),switchProjectTab(_0x9dfce2(0x6c3)),renderQuizzes();}async function loadProjectDetails(_0x58570f){const _0x14202b=_0x2a65e7,_0x37decc=doc(db,_0x14202b(0x374)+appId+_0x14202b(0x174),_0x58570f),_0x4ba8bb=await getDoc(_0x37decc);if(_0x4ba8bb[_0x14202b(0x5b6)]()){manageTab[_0x14202b(0x51a)][_0x14202b(0x5a5)](_0x14202b(0x7b3)),leaderboardTab[_0x14202b(0x51a)][_0x14202b(0x5a5)](_0x14202b(0x7b3)),currentProjectData=_0x4ba8bb[_0x14202b(0x1c7)](),projectTitle[_0x14202b(0x8c)]=currentProjectData[_0x14202b(0x4ad)],projectIdDisplay[_0x14202b(0x8c)]=_0x58570f;const _0x68191f=currentProjectData[_0x14202b(0x61f)]||{};document['getElementById']('shuffle-setting-select')[_0x14202b(0x3d3)]=_0x68191f[_0x14202b(0x26a)]||'none';const _0x305db3=document[_0x14202b(0x337)](_0x14202b(0x2e7));_0x305db3['checked']=_0x68191f[_0x14202b(0x6b4)]!==![];const _0x18a231=document[_0x14202b(0x337)]('enable-passcode-checkbox'),_0x79511e=document[_0x14202b(0x337)](_0x14202b(0x432)),_0x334974=document['getElementById'](_0x14202b(0x6df)),_0x1d9030=_0x68191f['isPasscodeEnabled']||![];_0x18a231[_0x14202b(0x635)]=_0x1d9030,_0x334974[_0x14202b(0x3d3)]=_0x68191f['passcode']||'',_0x79511e[_0x14202b(0x51a)][_0x14202b(0x726)](_0x14202b(0x7b3),!_0x1d9030),_0x18a231[_0x14202b(0x2b8)]=()=>{const _0x287f11=_0x14202b;_0x79511e['classList']['toggle'](_0x287f11(0x7b3),!_0x18a231[_0x287f11(0x635)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x58570f),listenForProjectQuizzes(_0x58570f),listenForStudentProfiles(_0x58570f);}else showMessage(_0x14202b(0x6ec)),showView(_0x14202b(0x293));}async function handleResetProjectOrder(){const _0x41f9e3=_0x2a65e7,_0x51e3fa=doc(db,_0x41f9e3(0x208),_0x41f9e3(0x137));try{await setDoc(_0x51e3fa,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x41f9e3(0x7f7));}catch(_0x258d50){console['error']('Error\x20resetting\x20project\x20order:',_0x258d50),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x1bb5ae){const _0xcb0595=_0x2a65e7;if(!_0x1bb5ae)return;const _0x45eb14=doc(db,_0xcb0595(0x374)+appId+_0xcb0595(0x174),_0x1bb5ae);try{const _0x383c0b=await getDoc(_0x45eb14);if(_0x383c0b[_0xcb0595(0x5b6)]()){const _0x4fe223=_0x383c0b['data']()[_0xcb0595(0x43f)]||![];await updateDoc(_0x45eb14,{'isPinned':!_0x4fe223});}}catch(_0x514127){console[_0xcb0595(0x227)]('Error\x20toggling\x20pin\x20status:',_0x514127),showMessage(_0xcb0595(0x212));}}async function handleDeleteProject(_0x612a25){const _0x2fd11c=_0x2a65e7;try{const _0x54249f=writeBatch(db),_0x449a3c=collection(db,_0x2fd11c(0x374)+appId+_0x2fd11c(0x78d)),_0x5ae455=query(_0x449a3c,where(_0x2fd11c(0x658),'==',_0x612a25)),_0x41a311=await getDocs(_0x5ae455);for(const _0x30505e of _0x41a311[_0x2fd11c(0x7dc)]){const _0x504238=collection(db,_0x2fd11c(0x374)+appId+_0x2fd11c(0x5de)+_0x30505e['id']+_0x2fd11c(0x443)),_0x2b1b39=await getDocs(_0x504238);_0x2b1b39[_0x2fd11c(0x785)](_0x44773f=>{const _0x1d0205=_0x2fd11c;_0x54249f[_0x1d0205(0x6dd)](_0x44773f[_0x1d0205(0x45a)]);}),_0x54249f['delete'](_0x30505e['ref']);}const _0x4acff9=collection(db,_0x2fd11c(0x374)+appId+_0x2fd11c(0xb0)+_0x612a25+_0x2fd11c(0x5ff)),_0x33baa7=await getDocs(_0x4acff9);_0x33baa7[_0x2fd11c(0x785)](_0x11a29d=>{const _0x243cc4=_0x2fd11c;_0x54249f[_0x243cc4(0x6dd)](_0x11a29d[_0x243cc4(0x45a)]);});const _0xf7559c=doc(db,_0x2fd11c(0x374)+appId+_0x2fd11c(0x174),_0x612a25);_0x54249f[_0x2fd11c(0x6dd)](_0xf7559c),await _0x54249f['commit'](),showMessage(_0x2fd11c(0x316)),showView(_0x2fd11c(0x293));}catch(_0x35076b){console[_0x2fd11c(0x227)](_0x2fd11c(0x222),_0x35076b),showMessage(_0x2fd11c(0x498));}}document[_0x2a65e7(0x337)](_0x2a65e7(0x7f5))[_0x2a65e7(0x60b)](_0x2a65e7(0x78f),async()=>{const _0x47c87b=_0x2a65e7;if(!currentProjectId)return;const _0x22b98d={'defaultNumQuestions':parseInt(document['getElementById'](_0x47c87b(0x800))['value']),'defaultNumChoices':parseInt(document['getElementById']('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x47c87b(0x337)](_0x47c87b(0x14c))[_0x47c87b(0x3d3)]),'resultsDisplay':document[_0x47c87b(0x337)](_0x47c87b(0x5ac))[_0x47c87b(0x3d3)],'shuffleSetting':document[_0x47c87b(0x337)]('shuffle-setting-select')[_0x47c87b(0x3d3)],'timerMode':document['getElementById']('timer-mode-select')[_0x47c87b(0x3d3)],'timerDuration':parseInt(document[_0x47c87b(0x337)]('timer-duration-input')[_0x47c87b(0x3d3)])};try{const _0x2dd0b0=doc(db,_0x47c87b(0x374)+appId+_0x47c87b(0x174),currentProjectId);await updateDoc(_0x2dd0b0,{'settings':_0x22b98d}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x242906){console[_0x47c87b(0x227)](_0x47c87b(0x4de),_0x242906),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x8d2513){const _0x487696=_0x2a65e7,_0x4cb611=doc(db,_0x487696(0x374)+appId+'/public/data/projects',_0x8d2513);unsubscribeStudentsListener=onSnapshot(_0x4cb611,_0x296aac=>{const _0xa5ceb5=_0x487696;if(_0x296aac[_0xa5ceb5(0x5b6)]()){const _0x432afd=_0x296aac[_0xa5ceb5(0x1c7)]();currentProjectData=_0x432afd,renderStudentList(_0x432afd[_0xa5ceb5(0x2f3)]||[]);}});}function renderStudentList(_0x2e1881){const _0x5bec6a=_0x2a65e7,_0x4387cc=document['getElementById'](_0x5bec6a(0x255));_0x2e1881[_0x5bec6a(0x6ea)]===0x0?(studentList['innerHTML']=_0x5bec6a(0x622),_0x4387cc[_0x5bec6a(0x51a)]['add']('hidden')):(studentList[_0x5bec6a(0x78a)]=_0x2e1881[_0x5bec6a(0x657)](_0x2ce09b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2ce09b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2ce09b+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5bec6a(0x57e)](''),_0x4387cc[_0x5bec6a(0x51a)][_0x5bec6a(0x5a5)](_0x5bec6a(0x7b3)));}document['getElementById'](_0x2a65e7(0x3f4))[_0x2a65e7(0x60b)](_0x2a65e7(0x78f),async()=>{const _0x47c5a2=_0x2a65e7;if(!currentProjectId)return;const _0x542c3d=document[_0x47c5a2(0x337)](_0x47c5a2(0x33a)),_0xcc698=_0x542c3d[_0x47c5a2(0x3d3)][_0x47c5a2(0x65d)]();if(!_0xcc698){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x344a26=_0xcc698['split']('\x0a')[_0x47c5a2(0x657)](_0x9a55ba=>_0x9a55ba[_0x47c5a2(0x65d)]())['filter'](_0x35770b=>_0x35770b);if(_0x344a26[_0x47c5a2(0x6ea)]===0x0)return;try{const _0xff7fd4=doc(db,_0x47c5a2(0x374)+appId+_0x47c5a2(0x174),currentProjectId),_0x23a340=await getDoc(_0xff7fd4);if(_0x23a340[_0x47c5a2(0x5b6)]()){const _0x5c5406=_0x23a340[_0x47c5a2(0x1c7)]()[_0x47c5a2(0x2f3)]||[],_0xf0bf8a=[...new Set([..._0x5c5406,..._0x344a26])];await updateDoc(_0xff7fd4,{'students':_0xf0bf8a}),_0x542c3d[_0x47c5a2(0x3d3)]='';}}catch(_0x491f9a){console[_0x47c5a2(0x227)](_0x47c5a2(0x332),_0x491f9a),showMessage(_0x47c5a2(0x2ea));}});async function handleManualQuizPairing(_0x373d93){const _0x1f7408=_0x2a65e7,_0x5a2a9d=document[_0x1f7408(0x337)](_0x1f7408(0x605)),_0x414339=document[_0x1f7408(0x337)](_0x1f7408(0x62f)),_0x4e376a=_0x5a2a9d[_0x1f7408(0x66a)]('h3'),_0x23a725=document[_0x1f7408(0x337)]('confirm-move-quiz-btn'),_0x42ea73=document[_0x1f7408(0x337)](_0x1f7408(0x3bc));_0x4e376a[_0x1f7408(0x8c)]=_0x1f7408(0x7a9),_0x414339['innerHTML']=_0x1f7408(0x3a5),_0x23a725[_0x1f7408(0x8c)]='ยืนยันการจับคู่',_0x5a2a9d['classList'][_0x1f7408(0x5a5)]('hidden');const _0x6c01a1=allQuizzes[_0x1f7408(0x3fd)](_0x46a027=>_0x46a027['id']!==_0x373d93);_0x6c01a1[_0x1f7408(0x6ea)]===0x0?(_0x414339['innerHTML']=_0x1f7408(0x646),_0x23a725['disabled']=!![]):(_0x414339[_0x1f7408(0x78a)]=_0x1f7408(0x1df)+_0x6c01a1[_0x1f7408(0x657)](_0x189c3f=>_0x1f7408(0x453)+_0x189c3f['id']+'\x22>'+_0x189c3f[_0x1f7408(0x4f5)]+_0x1f7408(0x4b4))[_0x1f7408(0x57e)](''),_0x23a725['disabled']=![]);const _0x3f9159=async()=>{const _0x23a6f6=_0x1f7408,_0x597b30=_0x414339[_0x23a6f6(0x3d3)];if(!_0x597b30){showMessage(_0x23a6f6(0x74c));return;}_0x23a725[_0x23a6f6(0x7d9)]=!![],_0x23a725[_0x23a6f6(0x8c)]=_0x23a6f6(0x46c);try{const _0x138d45=doc(db,'artifacts/'+appId+_0x23a6f6(0x78d),_0x373d93),_0x4e2a90=doc(db,_0x23a6f6(0x374)+appId+'/public/data/quizzes',_0x597b30),_0x4a4bc7=writeBatch(db);_0x4a4bc7[_0x23a6f6(0x122)](_0x138d45,{'pairedQuizId':_0x597b30}),_0x4a4bc7[_0x23a6f6(0x122)](_0x4e2a90,{'pairedQuizId':_0x373d93}),await _0x4a4bc7[_0x23a6f6(0x182)](),showMessage(_0x23a6f6(0x672)),_0x5a2a9d[_0x23a6f6(0x51a)]['add'](_0x23a6f6(0x7b3));}catch(_0x464c1e){console[_0x23a6f6(0x227)]('Error\x20pairing\x20quizzes:',_0x464c1e),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x4e376a[_0x23a6f6(0x8c)]=_0x23a6f6(0x5a2),_0x23a725['textContent']=_0x23a6f6(0x2f8),_0x23a725[_0x23a6f6(0x7d9)]=![],_0x23a725['removeEventListener'](_0x23a6f6(0x78f),_0x3f9159),_0x42ea73['removeEventListener'](_0x23a6f6(0x78f),_0x45a7ad);}},_0x45a7ad=()=>{const _0x486f8a=_0x1f7408;_0x5a2a9d[_0x486f8a(0x51a)][_0x486f8a(0x57f)]('hidden'),_0x4e376a[_0x486f8a(0x8c)]=_0x486f8a(0x5a2),_0x23a725['textContent']='ย้าย',_0x23a725[_0x486f8a(0x196)](_0x486f8a(0x78f),_0x3f9159),_0x42ea73[_0x486f8a(0x196)](_0x486f8a(0x78f),_0x45a7ad);};_0x23a725['addEventListener']('click',_0x3f9159),_0x42ea73[_0x1f7408(0x60b)](_0x1f7408(0x78f),_0x45a7ad);}function handleDeleteStudent(_0x24d325){const _0x1441e2=_0x2a65e7;showConfirmation(_0x1441e2(0x59d)+_0x24d325+_0x1441e2(0x7b4),async()=>{const _0x482b62=_0x1441e2;if(!currentProjectId||!currentProjectData)return;const _0x10ce92=currentProjectData[_0x482b62(0x2f3)][_0x482b62(0x3fd)](_0xe0e711=>_0xe0e711!==_0x24d325);try{const _0x238f2f=doc(db,'artifacts/'+appId+_0x482b62(0x174),currentProjectId),_0x338912=doc(db,_0x482b62(0x374)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x24d325),_0x14d313=writeBatch(db);_0x14d313[_0x482b62(0x122)](_0x238f2f,{'students':_0x10ce92}),_0x14d313[_0x482b62(0x6dd)](_0x338912),await _0x14d313[_0x482b62(0x182)]();}catch(_0x215549){console['error'](_0x482b62(0x1ce),_0x215549),showMessage(_0x482b62(0x2a8));}});}function handleDeleteAllStudents(){const _0x50479b=_0x2a65e7;showConfirmation(_0x50479b(0x448),async()=>{const _0x5a94a4=_0x50479b;if(!currentProjectId)return;try{const _0x13b3c6=doc(db,_0x5a94a4(0x374)+appId+_0x5a94a4(0x174),currentProjectId),_0x17df92=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x5a94a4(0x5ff)),_0x48e1f4=await getDocs(_0x17df92),_0x1649ee=writeBatch(db);_0x1649ee[_0x5a94a4(0x122)](_0x13b3c6,{'students':[]}),_0x48e1f4[_0x5a94a4(0x785)](_0x405b9c=>_0x1649ee[_0x5a94a4(0x6dd)](_0x405b9c[_0x5a94a4(0x45a)])),await _0x1649ee[_0x5a94a4(0x182)]();}catch(_0x5a6007){console[_0x5a94a4(0x227)](_0x5a94a4(0x19b),_0x5a6007),showMessage(_0x5a94a4(0x214));}});}async function handleGenerateFromFileClick(){const _0x2edcec=_0x2a65e7;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x374e2f=document['getElementById'](_0x2edcec(0x1c6)),_0x2daeef=document[_0x2edcec(0x337)](_0x2edcec(0x17e)),_0x2292d7=document[_0x2edcec(0x337)](_0x2edcec(0x61e)),_0x5dc33d=document[_0x2edcec(0x337)](_0x2edcec(0x7d1));_0x5dc33d[_0x2edcec(0x7d9)]=!![],document[_0x2edcec(0x337)](_0x2edcec(0x415))[_0x2edcec(0x51a)][_0x2edcec(0x5a5)](_0x2edcec(0x7b3)),_0x2292d7[_0x2edcec(0x78a)]='',_0x374e2f[_0x2edcec(0x51a)][_0x2edcec(0x5a5)](_0x2edcec(0x7b3)),_0x2daeef[_0x2edcec(0x8c)]='กำลังอ่านและเตรียมไฟล์...';const _0x1da835=new FileReader();_0x1da835[_0x2edcec(0x50f)](selectedFile),_0x1da835['onload']=async()=>{const _0x5a8927=_0x2edcec;try{const _0x7618b7=_0x1da835[_0x5a8927(0x528)][_0x5a8927(0x1c5)](',')[0x1],_0x58d0c9=selectedFile[_0x5a8927(0x23d)];await generateQuizFromFile(_0x58d0c9,_0x7618b7);}catch(_0x483328){console[_0x5a8927(0x227)](_0x5a8927(0x1a5),_0x483328),showMessage(_0x5a8927(0x698)+_0x483328[_0x5a8927(0x409)]),_0x374e2f[_0x5a8927(0x51a)][_0x5a8927(0x57f)](_0x5a8927(0x7b3));}finally{}},_0x1da835[_0x2edcec(0x6b6)]=_0x5f1795=>{const _0x34dc40=_0x2edcec;console[_0x34dc40(0x227)](_0x34dc40(0x464),_0x5f1795),showMessage(_0x34dc40(0x6a1)),_0x374e2f[_0x34dc40(0x51a)][_0x34dc40(0x57f)]('hidden'),_0x5dc33d['disabled']=![];};}function autoFormatMath(_0x274be3){const _0xe0e258=_0x2a65e7;if(typeof _0x274be3!==_0xe0e258(0x353)||!_0x274be3)return _0x274be3;const _0x2ba8be=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x260f34=_0x274be3['replace'](_0x2ba8be,_0xb0a211=>{const _0x4b69d3=_0xe0e258;return'$'+_0xb0a211[_0x4b69d3(0x65d)]()+'$';});return _0x260f34;}function sanitizeQuizData(_0x3d906){const _0x1fdd79=_0x2a65e7;if(!_0x3d906||!_0x3d906[_0x1fdd79(0xbb)])return _0x3d906;const _0x1ca057={'imes':_0x1fdd79(0x3e1),'div':'\x5cdiv'},_0x4afcf1=_0x2e33f4=>{const _0x2f9e33=_0x1fdd79;if(typeof _0x2e33f4!==_0x2f9e33(0x353))return _0x2e33f4;let _0x5ab9a9=_0x2e33f4;for(const [_0x4b80dd,_0x5537da]of Object[_0x2f9e33(0x5ce)](_0x1ca057)){const _0x918db3=new RegExp('\x5cb'+_0x4b80dd+'\x5cb','g');_0x5ab9a9=_0x5ab9a9[_0x2f9e33(0x700)](_0x918db3,_0x5537da);}return _0x5ab9a9=_0x5ab9a9[_0x2f9e33(0x700)](/\\\//g,_0x2f9e33(0x15c)),_0x5ab9a9=_0x5ab9a9['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x2f9e33(0x15c))[_0x2f9e33(0x700)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2f9e33(0x3e1))[_0x2f9e33(0x700)](/÷/g,_0x2f9e33(0x15c))[_0x2f9e33(0x700)](/×/g,_0x2f9e33(0x3e1)),_0x5ab9a9=_0x5ab9a9[_0x2f9e33(0x700)](/(\d)(\\frac)/g,_0x2f9e33(0x60d)),_0x5ab9a9=autoFormatMath(_0x5ab9a9),_0x5ab9a9;};return _0x3d906['topic']&&(_0x3d906[_0x1fdd79(0x4f5)]=_0x4afcf1(_0x3d906[_0x1fdd79(0x4f5)])),_0x3d906[_0x1fdd79(0xbb)][_0x1fdd79(0x785)](_0x431f78=>{const _0x38b822=_0x1fdd79;_0x431f78['questionText']=_0x4afcf1(_0x431f78['questionText']),_0x431f78[_0x38b822(0x11a)]&&(_0x431f78[_0x38b822(0x11a)]=_0x431f78['options']['map'](_0x4afcf1)),_0x431f78[_0x38b822(0x294)]&&(_0x431f78[_0x38b822(0x294)]=_0x4afcf1(_0x431f78[_0x38b822(0x294)])),_0x431f78[_0x38b822(0x514)]&&(_0x431f78[_0x38b822(0x514)]=_0x4afcf1(_0x431f78[_0x38b822(0x514)])),_0x431f78[_0x38b822(0x457)]&&(_0x431f78[_0x38b822(0x457)]=_0x4afcf1(_0x431f78[_0x38b822(0x457)])),_0x431f78[_0x38b822(0x7bc)]&&(_0x431f78[_0x38b822(0x7bc)]=_0x431f78[_0x38b822(0x7bc)][_0x38b822(0x657)](_0x4afcf1));}),_0x3d906;}const simpleMathPrompt=_0x2a65e7(0x220);async function handleGenerateFromLink(){const _0x35cc7a=_0x2a65e7,_0x320d2f=document[_0x35cc7a(0x337)](_0x35cc7a(0x440)),_0x37bfab=document[_0x35cc7a(0x337)]('link-topic-input'),_0x276250=_0x320d2f[_0x35cc7a(0x3d3)]['trim'](),_0x849daa=_0x37bfab[_0x35cc7a(0x3d3)]['trim']();if(!_0x276250){showMessage(_0x35cc7a(0x2b5));return;}const _0x242ad0=document['getElementById'](_0x35cc7a(0x1c6)),_0x402339=document['getElementById']('loader-text'),_0x2862c5=document[_0x35cc7a(0x337)](_0x35cc7a(0x61e)),_0x35a055=document[_0x35cc7a(0x337)](_0x35cc7a(0x29c));document[_0x35cc7a(0x337)](_0x35cc7a(0x415))[_0x35cc7a(0x51a)][_0x35cc7a(0x5a5)](_0x35cc7a(0x7b3)),_0x2862c5[_0x35cc7a(0x78a)]='',_0x242ad0[_0x35cc7a(0x51a)]['remove'](_0x35cc7a(0x7b3)),_0x402339[_0x35cc7a(0x8c)]='กำลังดึงข้อมูลจากลิงก์...',_0x35a055[_0x35cc7a(0x7d9)]=!![];try{const _0x2afaae=_0x35cc7a(0x6b5)+encodeURIComponent(_0x276250),_0x3a5ac2=await fetch(_0x2afaae);if(!_0x3a5ac2['ok'])throw new Error(_0x35cc7a(0x32e)+_0x3a5ac2[_0x35cc7a(0x354)]+')');const _0x543f3c=await _0x3a5ac2['text'](),_0x194eb7=extractTextFromHtml(_0x543f3c);if(!_0x194eb7||_0x194eb7[_0x35cc7a(0x6ea)]<0x64)throw new Error(_0x35cc7a(0x421));await generateQuiz(_0x849daa,_0x194eb7);}catch(_0x3a8f7a){console[_0x35cc7a(0x227)](_0x35cc7a(0x10d),_0x3a8f7a),showMessage(_0x35cc7a(0x570)+_0x3a8f7a[_0x35cc7a(0x409)]),_0x2862c5['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x242ad0[_0x35cc7a(0x51a)][_0x35cc7a(0x57f)]('hidden'),_0x35a055[_0x35cc7a(0x7d9)]=![];}}function extractTextFromHtml(_0x20b8b1){const _0x1d4541=_0x2a65e7,_0x2c8506=new DOMParser()['parseFromString'](_0x20b8b1,_0x1d4541(0xcb));return _0x2c8506['querySelectorAll'](_0x1d4541(0x57c))[_0x1d4541(0x785)](_0x38adf3=>_0x38adf3[_0x1d4541(0x5a5)]()),_0x2c8506[_0x1d4541(0x3ee)]['textContent']||'';}document[_0x2a65e7(0x337)]('generate-from-topic-btn')[_0x2a65e7(0x60b)](_0x2a65e7(0x78f),()=>{const _0x549b08=_0x2a65e7,_0x4f05e4=document['getElementById'](_0x549b08(0x18c))['value']['trim']();generateQuiz(_0x4f05e4,null);}),document['getElementById'](_0x2a65e7(0x7f8))['addEventListener'](_0x2a65e7(0x78f),()=>{const _0x2d7a68=_0x2a65e7,_0x50b793=document[_0x2d7a68(0x337)](_0x2d7a68(0x602))[_0x2d7a68(0x3d3)][_0x2d7a68(0x65d)]();if(!_0x50b793){showMessage(_0x2d7a68(0x29b));return;}const _0x39baff=document[_0x2d7a68(0x337)]('topic-input')[_0x2d7a68(0x3d3)][_0x2d7a68(0x65d)]();generateQuiz(_0x39baff,_0x50b793);});async function generateQuiz(_0x34c116,_0x515291,_0x56f1db=null){const _0x4024d7=_0x2a65e7,_0x5abcb1=document[_0x4024d7(0x337)](_0x4024d7(0x491))[_0x4024d7(0x635)],_0x7104a3=document[_0x4024d7(0x337)](_0x4024d7(0x3e7))['value'],_0x3bf0b7=document[_0x4024d7(0x337)]('num-questions')[_0x4024d7(0x3d3)],_0xa0eb74=document[_0x4024d7(0x337)]('num-choices')[_0x4024d7(0x3d3)],_0x7cd2ee=document[_0x4024d7(0x337)]('force-math-checkbox')[_0x4024d7(0x635)],_0x49cc40=_0x7cd2ee?'':'คณิตศาสตร์',_0x7aa21e=document[_0x4024d7(0x337)]('difficulty-level-select'),_0x53c2e0=_0x7aa21e[_0x4024d7(0x3d3)];let _0x4f1936='';_0x53c2e0!==_0x4024d7(0xbf)&&(_0x4f1936=_0x4024d7(0x508)+_0x53c2e0+'\x22');const _0x509033=document[_0x4024d7(0x337)](_0x4024d7(0x218)),_0x2c37f8=_0x509033[_0x4024d7(0x3d3)];let _0x1e2d9a='';_0x2c37f8!==_0x4024d7(0x4b9)&&(_0x1e2d9a=_0x4024d7(0x44c)+_0x2c37f8+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x1f58a1=document[_0x4024d7(0x4a9)]('#math-topics-checkbox-container\x20input:checked'),_0x4f21a5=Array[_0x4024d7(0x352)](_0x1f58a1)['map'](_0x3bc95d=>_0x3bc95d[_0x4024d7(0x3d3)]);let _0x325f14='';_0x4f21a5[_0x4024d7(0x6ea)]>0x0&&(_0x325f14='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x4f21a5[_0x4024d7(0x57e)](',\x20')+_0x4024d7(0x1aa));let _0x42f5fc='',_0x104ecb='',_0x32aac3,_0x315ac5=_0x4024d7(0x414)+_0x34c116+'\x22';if(!_0x34c116&&_0x515291)_0x315ac5=_0x4024d7(0x30c);else!_0x34c116&&!_0x515291&&(_0x315ac5=_0x4024d7(0x7c9));const _0x14bdfb={'type':_0x4024d7(0x104),'properties':{'questionText':{'type':_0x4024d7(0x11e)},'options':{'type':_0x4024d7(0x27d),'items':{'type':_0x4024d7(0x11e)}},'correctAnswerIndex':{'type':_0x4024d7(0x63e)},'explanation':{'type':_0x4024d7(0x11e)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x4024d7(0x11a),'correctAnswerIndex',_0x4024d7(0x294)]},_0xcb94a3={'type':_0x4024d7(0x104),'properties':{'questionText':{'type':_0x4024d7(0x11e)},'idealAnswer':{'type':_0x4024d7(0x11e)},'explanation':{'type':_0x4024d7(0x11e)},'imageCode':{'type':_0x4024d7(0x11e)}},'required':[_0x4024d7(0x55d),_0x4024d7(0x226),'explanation']},_0x3fcea8={'type':_0x4024d7(0x104),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4024d7(0x11e),'enum':[_0x4024d7(0x45b),_0x4024d7(0x2cc)]},'options':{'type':_0x4024d7(0x27d),'items':{'type':_0x4024d7(0x11e)}},'correctAnswerIndex':{'type':_0x4024d7(0x63e)},'idealAnswer':{'type':_0x4024d7(0x11e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4024d7(0x11e)}},'required':[_0x4024d7(0x55d),_0x4024d7(0x4f9),'explanation']},_0x282a57={'type':_0x4024d7(0x104),'properties':{'questionText':{'type':_0x4024d7(0x11e)},'correctAnswer':{'type':_0x4024d7(0x41a)},'explanation':{'type':_0x4024d7(0x11e)},'imageCode':{'type':_0x4024d7(0x11e)}},'required':[_0x4024d7(0x55d),_0x4024d7(0x685),'explanation']},_0xd05989={'type':_0x4024d7(0x104),'properties':{'questionType':{'type':'STRING','enum':[_0x4024d7(0x3b4)]},'stem':{'type':_0x4024d7(0x11e)},'correctResponse':{'type':_0x4024d7(0x11e)},'allResponses':{'type':_0x4024d7(0x27d),'items':{'type':_0x4024d7(0x11e)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4024d7(0x11e)}},'required':[_0x4024d7(0x4f9),_0x4024d7(0x514),'correctResponse',_0x4024d7(0x7bc),_0x4024d7(0x294)]};let _0x3c4995;if(_0x56f1db!==null){const _0x11707e=currentQuizData[_0x4024d7(0xbb)][_0x56f1db][_0x4024d7(0x4f9)],_0x5c80fa=_0x5abcb1?_0x4024d7(0x5b2):'';_0x42f5fc='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+_0x4024d7(0x75f)+_0x5c80fa+'\x20'+simpleMathPrompt;if(_0x11707e===_0x4024d7(0x45b))_0x32aac3=_0x14bdfb;else{if(_0x11707e===_0x4024d7(0x3b4))_0x32aac3={'type':_0x4024d7(0x104),'properties':{'questionType':{'type':_0x4024d7(0x11e),'enum':[_0x4024d7(0x3b4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4024d7(0x11e)}},'required':['questionType',_0x4024d7(0x514),_0x4024d7(0x457),_0x4024d7(0x294)]};else _0x32aac3=_0xcb94a3;}_0x3c4995=_0x32aac3;}else{const _0x430cc8=_0x5abcb1?_0x4024d7(0x634):'',_0x221649=_0x4024d7(0x497);switch(_0x7104a3){case _0x4024d7(0x45b):_0x42f5fc='สร้างแบบทดสอบปรนัย'+_0x49cc40+'\x20'+_0x3bf0b7+_0x4024d7(0x787)+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+'.\x20แต่ละข้อมี\x20'+_0xa0eb74+_0x4024d7(0x7f3)+_0x430cc8+'\x20'+simpleMathPrompt,_0x32aac3=_0x14bdfb;break;case'fill_in_with_choices':_0x42f5fc=_0x4024d7(0x739)+_0x49cc40+'\x20'+_0x3bf0b7+'\x20ข้อ\x20'+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+_0x4024d7(0x5c6)+_0xa0eb74+_0x4024d7(0x75)+_0x430cc8+'\x20'+simpleMathPrompt,_0x32aac3=_0x14bdfb;break;case _0x4024d7(0x512):_0x42f5fc=_0x4024d7(0x739)+_0x49cc40+'\x20'+_0x3bf0b7+_0x4024d7(0x787)+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+_0x4024d7(0x1a0)+_0x430cc8+'\x20'+simpleMathPrompt,_0x32aac3=_0xcb94a3;break;case _0x4024d7(0x4b9):_0x42f5fc=_0x4024d7(0x753)+_0x49cc40+'\x20'+_0x3bf0b7+'\x20ข้อ\x20'+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0xa0eb74+_0x4024d7(0x150)+_0x430cc8+'\x20'+simpleMathPrompt+'.',_0x32aac3=_0x3fcea8;break;case _0x4024d7(0x4f6):_0x42f5fc=_0x4024d7(0x721)+_0x49cc40+'\x20'+_0x3bf0b7+'\x20ข้อ\x20'+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x430cc8+'\x20'+simpleMathPrompt,_0x32aac3=_0x282a57;break;case _0x4024d7(0x656):_0x42f5fc='สร้างชุดคำถามจับคู่'+_0x49cc40+'\x20'+_0x3bf0b7+'\x20คู่\x20'+_0x315ac5+'\x20'+_0x325f14+'\x20'+_0x4f1936+'\x20'+_0x1e2d9a+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x430cc8+'\x20'+simpleMathPrompt,_0x32aac3=_0xd05989;break;}_0x3c4995={'type':_0x4024d7(0x104),'properties':{'topic':{'type':_0x4024d7(0x11e)},'questions':{'type':_0x4024d7(0x27d),'items':_0x32aac3}},'required':['topic',_0x4024d7(0xbb)]};}return _0x515291?(_0x42f5fc='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x515291+'\x22,\x20'+_0x42f5fc,_0x104ecb=_0x4024d7(0x233)):_0x104ecb=_0x4024d7(0x6f6),handleApiCall(_0x42f5fc,_0x104ecb,_0x3c4995,_0x56f1db);}async function generateQuizFromFile(_0x33a3c2,_0x48ee0a){const _0x157916=_0x2a65e7,_0x3ee9e3=document['getElementById'](_0x157916(0x436))[_0x157916(0x3d3)][_0x157916(0x65d)](),_0x1340eb=document[_0x157916(0x337)](_0x157916(0x3e7))[_0x157916(0x3d3)],_0x1fc692=document[_0x157916(0x337)](_0x157916(0x800))[_0x157916(0x3d3)],_0x1b341d=document[_0x157916(0x337)](_0x157916(0x41f))[_0x157916(0x3d3)],_0x35deee=document['getElementById'](_0x157916(0x491))[_0x157916(0x635)],_0x2bc893=document[_0x157916(0x337)](_0x157916(0x4c8))[_0x157916(0x635)],_0x1afc14=_0x2bc893?'':_0x157916(0x77e);let _0x69e259='',_0x45f2e6,_0x1a4af7=_0x157916(0x414)+_0x3ee9e3+'\x22';!_0x3ee9e3&&(_0x1a4af7='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x23656f=_0x35deee?_0x157916(0x634):'';switch(_0x1340eb){case _0x157916(0x45b):_0x69e259=_0x157916(0x49c)+_0x1afc14+'\x20'+_0x1fc692+_0x157916(0x787)+_0x1a4af7+_0x157916(0x6b3)+_0x1b341d+_0x157916(0x7f3)+_0x23656f+'\x20'+simpleMathPrompt,_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionText':{'type':_0x157916(0x11e)},'options':{'type':_0x157916(0x27d),'items':{'type':_0x157916(0x11e)}},'correctAnswerIndex':{'type':_0x157916(0x63e)},'explanation':{'type':_0x157916(0x11e)},'imageCode':{'type':_0x157916(0x11e)}},'required':['questionText',_0x157916(0x11a),_0x157916(0x539),_0x157916(0x294)]};break;case'fill_in_with_choices':_0x69e259=_0x157916(0x739)+_0x1afc14+'\x20'+_0x1fc692+'\x20ข้อ\x20'+_0x1a4af7+_0x157916(0x5c6)+_0x1b341d+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x23656f+'\x20'+simpleMathPrompt,_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionText':{'type':_0x157916(0x11e)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x157916(0x63e)},'explanation':{'type':_0x157916(0x11e)},'imageCode':{'type':_0x157916(0x11e)}},'required':[_0x157916(0x55d),'options',_0x157916(0x539),_0x157916(0x294)]};break;case'fill_in_no_choices':_0x69e259=_0x157916(0x739)+_0x1afc14+'\x20'+_0x1fc692+_0x157916(0x787)+_0x1a4af7+_0x157916(0x1a0)+_0x23656f+'\x20'+simpleMathPrompt,_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionText':{'type':_0x157916(0x11e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x157916(0x55d),'idealAnswer',_0x157916(0x294)]};break;case _0x157916(0x4b9):_0x69e259=_0x157916(0x753)+_0x1afc14+'\x20'+_0x1fc692+'\x20ข้อ\x20'+_0x1a4af7+_0x157916(0x560)+_0x1b341d+_0x157916(0x150)+_0x23656f+'\x20'+simpleMathPrompt+_0x157916(0x638),_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionText':{'type':_0x157916(0x11e)},'questionType':{'type':_0x157916(0x11e),'enum':[_0x157916(0x45b),_0x157916(0x2cc)]},'options':{'type':_0x157916(0x27d),'items':{'type':_0x157916(0x11e)}},'correctAnswerIndex':{'type':_0x157916(0x63e)},'idealAnswer':{'type':_0x157916(0x11e)},'explanation':{'type':_0x157916(0x11e)},'imageCode':{'type':_0x157916(0x11e)}},'required':['questionText',_0x157916(0x4f9),'explanation']};break;case _0x157916(0x4f6):_0x69e259='สร้างคำถามแบบใช่/ไม่ใช่'+_0x1afc14+'\x20'+_0x1fc692+_0x157916(0x787)+_0x1a4af7+_0x157916(0x15a)+_0x23656f+'\x20'+simpleMathPrompt,_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionText':{'type':_0x157916(0x11e)},'correctAnswer':{'type':_0x157916(0x41a)},'explanation':{'type':_0x157916(0x11e)},'imageCode':{'type':_0x157916(0x11e)}},'required':[_0x157916(0x55d),_0x157916(0x685),'explanation']};break;case'matching':_0x69e259=_0x157916(0x61a)+_0x1afc14+'\x20'+_0x1fc692+'\x20คู่\x20'+_0x1a4af7+_0x157916(0x407)+_0x1fc692+_0x157916(0x643)+_0x23656f+'\x20'+simpleMathPrompt,_0x45f2e6={'type':_0x157916(0x104),'properties':{'questionType':{'type':_0x157916(0x11e),'enum':['matching_item']},'stem':{'type':_0x157916(0x11e)},'correctResponse':{'type':_0x157916(0x11e)},'allResponses':{'type':'ARRAY','items':{'type':_0x157916(0x11e)}},'explanation':{'type':_0x157916(0x11e)},'imageCode':{'type':_0x157916(0x11e)}},'required':[_0x157916(0x4f9),_0x157916(0x514),_0x157916(0x457),_0x157916(0x7bc),'explanation']};break;}const _0x124532={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x157916(0x27d),'items':_0x45f2e6}},'required':['topic',_0x157916(0xbb)]},_0x2d1602=_0x157916(0x4b7)+_0x69e259,_0x1a67d3={'contents':[{'parts':[{'text':_0x2d1602},{'inlineData':{'mimeType':_0x33a3c2,'data':_0x48ee0a}}]}],'generationConfig':{'responseMimeType':_0x157916(0x1c8),'responseSchema':_0x124532}};return handleApiCall(_0x1a67d3['contents'][0x0][_0x157916(0x4a8)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x124532);}async function handleApiCall(_0x31de57,_0x4895f7,_0x594fd4,_0x50cba6=null){const _0x5382f2=_0x2a65e7,_0x16537d=document['getElementById']('quiz-generation-area'),_0x5036d8=document['getElementById'](_0x5382f2(0x1c6)),_0x12ea44=document[_0x5382f2(0x337)](_0x5382f2(0x17e)),_0x417296=document[_0x5382f2(0x337)](_0x5382f2(0x61e));_0x16537d['classList'][_0x5382f2(0x5a5)](_0x5382f2(0x7b3));_0x50cba6===null&&(_0x417296['innerHTML']='');_0x5036d8[_0x5382f2(0x51a)][_0x5382f2(0x5a5)](_0x5382f2(0x7b3)),_0x12ea44[_0x5382f2(0x8c)]=_0x4895f7,document[_0x5382f2(0x337)](_0x5382f2(0x5e0))['disabled']=!![],document['getElementById'](_0x5382f2(0x7f8))[_0x5382f2(0x7d9)]=!![],document[_0x5382f2(0x337)](_0x5382f2(0x29c))[_0x5382f2(0x7d9)]=!![];try{const _0x38df29={'responseMimeType':_0x5382f2(0x1c8),'responseSchema':_0x594fd4},_0x30cbe9=Array[_0x5382f2(0x55e)](_0x31de57)?_0x31de57:[{'text':_0x31de57}],_0xb523c4={'contents':[{'role':_0x5382f2(0x422),'parts':_0x30cbe9}],'generationConfig':_0x38df29},_0x1e3298=_0x5382f2(0x2f7),_0x7813f9=_0x5382f2(0x383)+_0x1e3298,_0x3119a0=await fetch(_0x7813f9,{'method':_0x5382f2(0x3d4),'headers':{'Content-Type':_0x5382f2(0x1c8)},'body':JSON[_0x5382f2(0x633)](_0xb523c4)});if(!_0x3119a0['ok'])throw new Error(_0x5382f2(0x263)+_0x3119a0[_0x5382f2(0x354)]);const _0x3d3d12=await _0x3119a0[_0x5382f2(0x517)]();if(_0x3d3d12[_0x5382f2(0x302)]?.[0x0]?.[_0x5382f2(0x86)]?.['parts']?.[0x0]){let _0x3b6631=_0x3d3d12['candidates'][0x0][_0x5382f2(0x86)][_0x5382f2(0x4a8)][0x0][_0x5382f2(0x47c)],_0x2f6075;try{if(_0x3b6631[_0x5382f2(0x554)](_0x5382f2(0x64f)))_0x3b6631=_0x3b6631['substring'](0x7,_0x3b6631[_0x5382f2(0x6ea)]-0x3)[_0x5382f2(0x65d)]();else _0x3b6631[_0x5382f2(0x554)](_0x5382f2(0x72a))&&(_0x3b6631=_0x3b6631[_0x5382f2(0x518)](0x3,_0x3b6631[_0x5382f2(0x6ea)]-0x3)['trim']());_0x2f6075=JSON[_0x5382f2(0x2e0)](_0x3b6631);}catch(_0x5055dd){console[_0x5382f2(0x227)](_0x5382f2(0x449),_0x5055dd,_0x3b6631);throw new Error(_0x5382f2(0x28f));}if(_0x50cba6!==null){if(_0x2f6075[_0x5382f2(0x4f9)]===_0x5382f2(0x3b4)){const _0x25bb62=currentQuizData['questions'][_0x5382f2(0x657)](_0x55e6b9=>_0x55e6b9['correctResponse']);_0x2f6075[_0x5382f2(0x7bc)]=_0x25bb62;const _0x35cf7c=currentQuizData[_0x5382f2(0xbb)][_0x50cba6][_0x5382f2(0x457)],_0x26d821=_0x25bb62[_0x5382f2(0x620)](_0x35cf7c);_0x26d821>-0x1&&(_0x25bb62[_0x26d821]=_0x2f6075[_0x5382f2(0x457)]),currentQuizData[_0x5382f2(0xbb)]['forEach'](_0x33feae=>{const _0x561db8=_0x5382f2;if(_0x33feae['questionType']===_0x561db8(0x3b4))_0x33feae['allResponses']=_0x25bb62;});}currentQuizData[_0x5382f2(0xbb)][_0x50cba6]=_0x2f6075,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2f6075;const _0x7a58ed=document['getElementById'](_0x5382f2(0x3e7))['value'];currentQuizData['quizType']=_0x7a58ed,currentQuizData['questions']&&currentQuizData[_0x5382f2(0xbb)][_0x5382f2(0x785)](_0x3c1f92=>{const _0x5a203c=_0x5382f2;if(!_0x3c1f92[_0x5a203c(0x4f9)]){if(_0x7a58ed===_0x5a203c(0x427))_0x3c1f92['questionType']=_0x5a203c(0x45b);else _0x7a58ed===_0x5a203c(0x512)?_0x3c1f92[_0x5a203c(0x4f9)]=_0x5a203c(0x2cc):_0x3c1f92[_0x5a203c(0x4f9)]=_0x7a58ed;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x5382f2(0x227)](_0x5382f2(0x259),JSON[_0x5382f2(0x633)](_0x3d3d12));throw new Error(_0x5382f2(0x28f));}}catch(_0x3a8a64){console[_0x5382f2(0x227)](_0x5382f2(0x16f),_0x3a8a64),showMessage(_0x5382f2(0x758)),_0x50cba6===null&&(_0x417296[_0x5382f2(0x78a)]=_0x5382f2(0x4da));}finally{_0x5036d8['classList']['add'](_0x5382f2(0x7b3)),document[_0x5382f2(0x337)]('generate-from-topic-btn')[_0x5382f2(0x7d9)]=![],document[_0x5382f2(0x337)]('generate-from-text-btn')[_0x5382f2(0x7d9)]=![],document[_0x5382f2(0x337)](_0x5382f2(0x29c))[_0x5382f2(0x7d9)]=![];const _0x453eb1=document['getElementById'](_0x5382f2(0x7d1));_0x453eb1&&(_0x453eb1[_0x5382f2(0x7d9)]=![]);}}function enterFullscreen(){const _0x24b3d5=_0x2a65e7,_0x1e205f=document[_0x24b3d5(0x4d0)];if(_0x1e205f[_0x24b3d5(0x483)])_0x1e205f[_0x24b3d5(0x483)]()[_0x24b3d5(0x45c)](_0x4686da=>{const _0x143160=_0x24b3d5;console[_0x143160(0x227)](_0x143160(0x73d)+_0x4686da[_0x143160(0x409)]+'\x20('+_0x4686da[_0x143160(0x2c3)]+')');});else{if(_0x1e205f[_0x24b3d5(0x58c)])_0x1e205f[_0x24b3d5(0x58c)]();else _0x1e205f[_0x24b3d5(0x1e7)]&&_0x1e205f['msRequestFullscreen']();}}function handleFullscreenChange(){const _0x1b418d=_0x2a65e7;!document[_0x1b418d(0x533)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x1b418d(0x8e),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1b418d(0x72c)+maxCheatAttempts+_0x1b418d(0x107)),document[_0x1b418d(0x337)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1b418d(0x196)](_0x1b418d(0xbd),handleFullscreenChange)):showMessage(_0x1b418d(0x469)+cheatAttempts+'/'+maxCheatAttempts+_0x1b418d(0x6f8),enterFullscreen));}function displayGeneratedQuiz(_0x22b973){const _0x524a23=_0x2a65e7,_0xb08a1c=document[_0x524a23(0x337)](_0x524a23(0x61e));let _0x991ec2=_0x524a23(0x70b)+_0x22b973['topic']+_0x524a23(0x689);_0x22b973[_0x524a23(0xbb)][_0x524a23(0x785)]((_0x51bc73,_0x5f32d9)=>{const _0x2ab40c=_0x524a23,_0x4911de=_0x51bc73[_0x2ab40c(0x4f9)]||_0x22b973[_0x2ab40c(0x58a)];_0x991ec2+=_0x2ab40c(0xb5)+_0x5f32d9+_0x2ab40c(0x1d6)+_0x5f32d9+_0x2ab40c(0x766)+_0x5f32d9+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x4911de){case _0x2ab40c(0x3b4):_0x991ec2+=_0x2ab40c(0x16a)+_0x5f32d9+'\x22>'+(_0x5f32d9+0x1)+'.\x20'+_0x51bc73['stem']+'</p>';_0x51bc73[_0x2ab40c(0x2f0)]&&(_0x991ec2+=_0x2ab40c(0x66d)+_0x5f32d9+_0x2ab40c(0x4fc)+_0x51bc73[_0x2ab40c(0x2f0)]+_0x2ab40c(0x6f));_0x991ec2+=_0x2ab40c(0x5f3)+_0x5f32d9+'\x22>'+_0x51bc73[_0x2ab40c(0x457)]+'</span></div>',_0x991ec2+=_0x2ab40c(0x21d)+_0x5f32d9+'\x22>'+_0x51bc73['explanation']+_0x2ab40c(0x161);break;case'short_answer':_0x991ec2+=_0x2ab40c(0x16a)+_0x5f32d9+'\x22>'+(_0x5f32d9+0x1)+'.\x20'+_0x51bc73[_0x2ab40c(0x55d)]+'</p>';_0x51bc73[_0x2ab40c(0x2f0)]&&(_0x991ec2+=_0x2ab40c(0x66d)+_0x5f32d9+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x51bc73[_0x2ab40c(0x2f0)]+_0x2ab40c(0x6f));_0x991ec2+=_0x2ab40c(0x28e)+_0x5f32d9+'\x22>'+_0x51bc73[_0x2ab40c(0x226)]+_0x2ab40c(0x161),_0x991ec2+=_0x2ab40c(0x21d)+_0x5f32d9+'\x22>'+_0x51bc73['explanation']+_0x2ab40c(0x161);break;case _0x2ab40c(0x4f6):_0x991ec2+=_0x2ab40c(0x16a)+_0x5f32d9+'\x22>'+(_0x5f32d9+0x1)+'.\x20'+_0x51bc73[_0x2ab40c(0x55d)]+_0x2ab40c(0x621);_0x51bc73[_0x2ab40c(0x2f0)]&&(_0x991ec2+=_0x2ab40c(0x66d)+_0x5f32d9+_0x2ab40c(0x4fc)+_0x51bc73[_0x2ab40c(0x2f0)]+_0x2ab40c(0x6f));_0x991ec2+=_0x2ab40c(0x296)+(_0x51bc73[_0x2ab40c(0x685)]===!![]?_0x2ab40c(0xf0):'')+_0x2ab40c(0x66c)+(_0x51bc73[_0x2ab40c(0x685)]===![]?_0x2ab40c(0xf0):'')+_0x2ab40c(0x221),_0x991ec2+=_0x2ab40c(0x21d)+_0x5f32d9+'\x22>'+_0x51bc73[_0x2ab40c(0x294)]+_0x2ab40c(0x161);break;case'fill_in_the_blank':case _0x2ab40c(0x45b):default:_0x991ec2+=_0x2ab40c(0x16a)+_0x5f32d9+'\x22>'+(_0x5f32d9+0x1)+'.\x20'+_0x51bc73['questionText']+'</p>';_0x51bc73[_0x2ab40c(0x2f0)]&&(_0x991ec2+='<div\x20id=\x22q-image-container-'+_0x5f32d9+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x51bc73['imageCode']+_0x2ab40c(0x6f));_0x991ec2+=_0x2ab40c(0x209)+_0x5f32d9+_0x2ab40c(0x2af)+_0x51bc73['options']['map']((_0x192f57,_0x5a199a)=>'<li\x20class=\x22'+(_0x5a199a===_0x51bc73[_0x2ab40c(0x539)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x192f57+_0x2ab40c(0x2fa))[_0x2ab40c(0x57e)]('')+_0x2ab40c(0x799),_0x991ec2+=_0x2ab40c(0x21d)+_0x5f32d9+'\x22>'+_0x51bc73['explanation']+'</span></div>';break;}_0x991ec2+=_0x2ab40c(0x6f);}),_0x991ec2+=_0x524a23(0x70),_0xb08a1c[_0x524a23(0x78a)]=_0x991ec2,document[_0x524a23(0x4a9)]('.edit-question-btn')[_0x524a23(0x785)](_0x52c324=>_0x52c324['addEventListener']('click',handleEditQuestion)),document['querySelectorAll'](_0x524a23(0x4be))['forEach'](_0x452857=>_0x452857[_0x524a23(0x60b)](_0x524a23(0x78f),handleRegenerateQuestion)),document[_0x524a23(0x4a9)](_0x524a23(0x628))[_0x524a23(0x785)](_0x2dcd4c=>_0x2dcd4c[_0x524a23(0x60b)](_0x524a23(0x78f),handleSaveToBank)),document[_0x524a23(0x337)](_0x524a23(0x20a))[_0x524a23(0x60b)](_0x524a23(0x78f),exportQuizAsWorksheetPDF),document['getElementById'](_0x524a23(0x6fe))[_0x524a23(0x60b)](_0x524a23(0x78f),saveQuiz);if(window[_0x524a23(0x7e6)])window[_0x524a23(0x7e6)]['typesetPromise']([_0xb08a1c]);}function handleRegenerateQuestion(_0x5dcac9){const _0x3c4d0e=_0x2a65e7,_0x2418d9=_0x5dcac9[_0x3c4d0e(0x136)][_0x3c4d0e(0x301)]['index'],_0x2ba910=currentQuizData[_0x3c4d0e(0x4f5)];showMessage(_0x3c4d0e(0x2e3)+(parseInt(_0x2418d9)+0x1)+_0x3c4d0e(0x71e)),generateQuiz(_0x2ba910,null,parseInt(_0x2418d9));}function getPointerPosition(_0x10570f,_0x3d600a){const _0x2474e7=_0x2a65e7,_0x20600d=_0x10570f[_0x2474e7(0x330)]();let _0x4892c5,_0x5345dd;return _0x3d600a[_0x2474e7(0x6d1)]&&_0x3d600a[_0x2474e7(0x6d1)][_0x2474e7(0x6ea)]>0x0?(_0x4892c5=_0x3d600a[_0x2474e7(0x6d1)][0x0][_0x2474e7(0x1c1)],_0x5345dd=_0x3d600a[_0x2474e7(0x6d1)][0x0]['clientY']):(_0x4892c5=_0x3d600a['clientX'],_0x5345dd=_0x3d600a[_0x2474e7(0x197)]),{'x':(_0x4892c5-_0x20600d['e'])/_0x20600d['a'],'y':(_0x5345dd-_0x20600d['f'])/_0x20600d['d']};}function startDrag(_0x3431ee){const _0x2587c0=_0x2a65e7;_0x3431ee[_0x2587c0(0x23d)]===_0x2587c0(0x356)&&_0x3431ee['preventDefault']();const _0x543d9d=_0x3431ee[_0x2587c0(0x706)][_0x2587c0(0x6d2)]('.draggable-text');if(_0x543d9d){draggedSvgElement=_0x543d9d;const _0x36995a=draggedSvgElement['ownerSVGElement'],_0x23e7da=getPointerPosition(_0x36995a,_0x3431ee);svgOffset['x']=_0x23e7da['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x23e7da['y']-parseFloat(draggedSvgElement[_0x2587c0(0x334)](null,'y'));}}function calculateItemAnalysis(_0x32ac65,_0x481543){const _0x4b1397=_0x2a65e7,_0x41581a={};if(_0x481543[_0x4b1397(0x6ea)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xeb5021=[..._0x481543][_0x4b1397(0x48f)]((_0x30c25f,_0x2830db)=>{const _0x13b59f=_0x4b1397,_0x3ca0c5=_0x2830db['latestScore']-_0x30c25f[_0x13b59f(0x5a6)];if(_0x3ca0c5!==0x0)return _0x3ca0c5;const _0x465bbc=_0x30c25f[_0x13b59f(0x7b7)]?.[_0x13b59f(0x6ea)]||0x1,_0x1b6568=_0x2830db[_0x13b59f(0x7b7)]?.['length']||0x1,_0xf23d64=_0x465bbc-_0x1b6568;if(_0xf23d64!==0x0)return _0xf23d64;const _0x413985=new Date(_0x30c25f[_0x13b59f(0x637)]),_0x43e8dd=new Date(_0x2830db['latestSubmittedAt']),_0x129bb5=_0x413985-_0x43e8dd;if(_0x129bb5!==0x0)return _0x129bb5;return _0x30c25f[_0x13b59f(0x582)][_0x13b59f(0x33b)](_0x2830db[_0x13b59f(0x582)],'th');}),_0x291409=_0xeb5021[_0x4b1397(0x6ea)],_0x5e9bf3=Math[_0x4b1397(0x23f)](0x1,Math[_0x4b1397(0x20b)](_0x291409*0.33));if(_0x5e9bf3===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2091f2=_0xeb5021['slice'](0x0,_0x5e9bf3),_0x207d4e=_0xeb5021[_0x4b1397(0x612)](-_0x5e9bf3),_0x3cdb36=_0x2091f2[_0x4b1397(0x657)](_0x1c6f1b=>_0x1c6f1b[_0x4b1397(0x582)]),_0x1d8f18=_0x207d4e['map'](_0x10ea53=>_0x10ea53[_0x4b1397(0x582)]);return _0x32ac65['questions']['forEach']((_0x1c74eb,_0x317f5d)=>{const _0x3e4ae8=_0x4b1397,_0x666381=_0x1c74eb[_0x3e4ae8(0x514)]||_0x1c74eb['questionText'];let _0x1fbac3=0x0,_0x4854d3=0x0,_0x4c8b55=0x0;const _0x1dc023=[],_0x18cb13=[];_0x2091f2[_0x3e4ae8(0x785)](_0x2fb68a=>{const _0x67fea4=_0x3e4ae8,_0x30ccab=_0x2fb68a[_0x67fea4(0x7b7)][_0x2fb68a[_0x67fea4(0x7b7)][_0x67fea4(0x6ea)]-0x1],_0x1948c1=_0x30ccab[_0x67fea4(0x4ce)][_0x67fea4(0x282)](_0x928605=>_0x928605['originalQuestionText']===_0x666381);_0x1dc023[_0x67fea4(0x50e)]({'name':_0x2fb68a['studentName'],'isCorrect':_0x1948c1?_0x1948c1['isCorrect']:![]}),_0x1948c1&&_0x1948c1[_0x67fea4(0x1da)]&&_0x4854d3++;}),_0x207d4e['forEach'](_0x197926=>{const _0x14019b=_0x3e4ae8,_0x48080f=_0x197926['attempts'][_0x197926[_0x14019b(0x7b7)]['length']-0x1],_0x45eef6=_0x48080f[_0x14019b(0x4ce)]['find'](_0x3a6bc4=>_0x3a6bc4[_0x14019b(0x40a)]===_0x666381);_0x18cb13[_0x14019b(0x50e)]({'name':_0x197926[_0x14019b(0x582)],'isCorrect':_0x45eef6?_0x45eef6['isCorrect']:![]}),_0x45eef6&&_0x45eef6[_0x14019b(0x1da)]&&_0x4c8b55++;}),_0x481543[_0x3e4ae8(0x785)](_0x263660=>{const _0x284f53=_0x3e4ae8,_0x29adc4=_0x263660[_0x284f53(0x7b7)][_0x263660[_0x284f53(0x7b7)]['length']-0x1],_0x46db02=_0x29adc4[_0x284f53(0x4ce)][_0x284f53(0x282)](_0x3df6f0=>_0x3df6f0['originalQuestionText']===_0x666381);_0x46db02&&_0x46db02['isCorrect']&&_0x1fbac3++;});const _0x3c2094=_0x291409>0x0?_0x1fbac3/_0x291409:0x0,_0x2f80f9=_0x5e9bf3>0x0?_0x4854d3/_0x5e9bf3-_0x4c8b55/_0x5e9bf3:0x0;_0x41581a[_0x317f5d]={'p':_0x3c2094,'r':_0x2f80f9,'upperGroupResponders':_0x1dc023,'lowerGroupResponders':_0x18cb13};}),{'perQuestionStats':_0x41581a,'overallGroups':{'upperGroupNames':_0x3cdb36,'lowerGroupNames':_0x1d8f18}};}function drag(_0x1630cd){const _0x1503de=_0x2a65e7;if(draggedSvgElement){_0x1630cd['preventDefault']();const _0x42f874=draggedSvgElement[_0x1503de(0x575)],_0x2f0f20=getPointerPosition(_0x42f874,_0x1630cd),_0x33ed3a=_0x42f874[_0x1503de(0x2ae)]['baseVal'];let _0x5cdd21=_0x2f0f20['x']-svgOffset['x'],_0x59ea94=_0x2f0f20['y']-svgOffset['y'];const _0x5f002c=draggedSvgElement['getBBox']();_0x5cdd21=Math[_0x1503de(0x23f)](_0x33ed3a['x'],Math[_0x1503de(0x79f)](_0x5cdd21,_0x33ed3a['x']+_0x33ed3a[_0x1503de(0x33d)]-_0x5f002c[_0x1503de(0x33d)])),_0x59ea94=Math[_0x1503de(0x23f)](_0x33ed3a['y'],Math[_0x1503de(0x79f)](_0x59ea94,_0x33ed3a['y']+_0x33ed3a[_0x1503de(0x318)]-_0x5f002c[_0x1503de(0x318)])),draggedSvgElement[_0x1503de(0x627)](null,'x',_0x5cdd21),draggedSvgElement['setAttributeNS'](null,'y',_0x59ea94);}}function _0x5006(){const _0x15ccee=['ข้อต่อไป','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reference-pdf-upload','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','สมมาตร\x20(แกน/จุด)','\x20ใหม่...','.csv','$1\x5c%','สร้างคำถามแบบใช่/ไม่ใช่','hint-btn','</tbody></table></div>','Error\x20showing\x20quiz\x20detail\x20view:','timer-duration-container','toggle','\x22\x20data-pre-test-id=\x22','math-topics-checkbox-container','รูปสแควร์รูท\x20(surd)','```','circ','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','mousemove','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การนับ','(คัดลอก)\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','q-explanation-','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-table-body','leaderboard-tab-content','สร้างคำถามแบบเติมคำในช่องว่าง','lowerGroupResponders','Error\x20generating\x20lesson\x20plan:','results-table','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','Original\x20quiz\x20not\x20found','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','จำนวนข้อ:','whole_quiz','.badges','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','numeric','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','blockReason','deg','cancel-export-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','text-purple-600','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','global-quiz-search-input','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','project-name-input','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','104jSrsCv','quizId','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<p\x20class=\x22','แบบทดสอบ:\x20','start-presentation-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','all','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไข','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','cdot','createObjectURL','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','getDocument','เกิดข้อผิดพลาดในการสร้างใบงาน','.export-pdf-list-btn','keyup','(ก่อนเรียน)','</span></td>','%\x20(','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','times','$1^{$2}','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ข้อ\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','#per-question-options\x20textarea','quiz-bank-count','แบบทดสอบซ่อมเสริม','คณิตศาสตร์','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','removeAttribute','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','points','forEach','copy','\x20ข้อ\x20','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','lessonPlan','9OCeqke','/public/data/quizzes','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','click','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','เปิด\x20(จับเวลา)','ระบบเลขและค่าประจำหลัก','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','.project-card-container:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','min','.quiz-bank-try-btn','quizMode','สมการลอการิทึม','pa-goal-tracker-container','326277JhyKsu','ฟังก์ชันค่าสัมบูรณ์','ใช่','สมการค่าสัมบูรณ์','asc','จับคู่เพื่อเปรียบเทียบผล','show_pass_fail_only','pinnedProjects','ไม่สามารถสร้างโปรเจคได้','date_asc','</strong></p>','mouseup','underline','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','answer','hidden','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','write','bg-green-200\x20text-green-800','attempts','อนุพันธ์:\x20กฎพื้นฐาน','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','allResponses','/public/data/practiceBank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','admin-password-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','teachingContent','.topic-name-input','bottom','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','</tr>','color','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','log','questionStatus','fill_in_the_blank','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','answerText','generate-from-file-btn','sqrt','มุมพิเศษ\x2030°-60°-90°','ค่าเสื่อมราคา','ring-purple-400','.answeredCurrentQuestion','ความคาดหมาย\x20(Expected\x20value)','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-goal-tracker-container\x22\x20class=\x22col-span-2\x20md:col-span-4\x20bg-indigo-50\x20p-4\x20rounded-lg\x20border\x20border-indigo-200\x22></div>\x0a\x20\x20\x20\x20','พิมพ์ตอบ','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','bank-quiz-list','การจัดหมู่\x20(Combination)','ไม่มีคำอธิบาย','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','student-view','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x20ช่อง','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','$1\x5cfrac','Error\x20saving\x20quiz:','fa-crown\x20text-yellow-500','หน่วยความยาวและการแปลง','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','#results-table\x20thead\x20tr','save-settings-btn','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','รีเซ็ตลำดับโปรเจคแล้ว','generate-from-text-btn','.admin-try-quiz-list-btn','สลับไปโหมดผู้ควบคุม','bg-red-100\x20text-red-800','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','export-leaderboard-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','quiz-results-view','num-questions','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','admin-action-buttons','/preferences/main','fa-pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','progress-project-select','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','project-list','label[for=\x22num-questions\x22]','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ai-quiz-app-aefee.appspot.com','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','</div>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','confirm-move-quiz-btn','presentation-explanation','</form>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','ดูสรุปผล','\x22\x20value=\x22true\x22\x20','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','attemptNumber','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20','back-to-home-manual-release','$1\x5ctext(','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','content','postScore','Error\x20generating\x20from\x20parallel\x20test\x20file:','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','text-indigo-700','textContent','(ก่อนเรียน)\x20','exited_fullscreen','Error\x20renaming\x20quiz:','getPage','ไม่พบข้อมูลข้อสอบก่อนเรียน','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','กรุณาเลือกชื่อของคุณ','text-white','destroy','classStrengths','สร้างใหม่','isStarred','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timer-mode-select','Error\x20adding\x20custom\x20topic:','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','แผนการสอน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ไม่พบข้อมูลผู้ใช้','topic-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','start-quiz-btn','.answer-text','เลือกโปรเจคเพื่อบันทึก','Error\x20toggling\x20star\x20status:','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','[data-topic-container-id]','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','worksheet-input-area','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','/public/data/projects/','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','admin-view','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','leaderboard','เพิ่มหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questions','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','comparison','auto','thead\x20.sortable-header','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','upperGroupResponders','finishReason','student-name-selection-view','pre-test','quiz-schedule-end-container','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/html','</th>','shuffle','preTestId','MathJax\x20typeset\x20error\x20(analytics):','ผู้ควบคุม\x20(ทดสอบ)','generate-from-blueprint-btn','targetId','back-to-student-home-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','จุด\x20เส้น\x20ระนาบ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<tr>','text-red-800','</td></tr>','isRemedial','.duplicate-quiz-btn','touchcancel','generate-from-parallel-test-btn','ยืนยันการกระทำ','text-blue-700','<div\x20class=\x22flex-1\x22></div>','perQuestionStats','\x22\x20value=\x22','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','comparison-individual-tab','การประยุกต์เวกเตอร์พื้นฐาน','quiz-editor-questions-container','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','.correctStreak','parallel-test-tab','\x22\x20value=\x22false\x22\x20','ทำคะแนนเต็มในการทำครั้งแรก','back-to-dashboard-from-results-btn','perfect_score','text-green-600\x20font-bold','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','confirm-quiz-status-btn','modal-timer-duration-input','submittedAt','export-leaderboard-word-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','overallGroups','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','#E0E7FF','after','leaderboard_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','OBJECT','499408uOOJSv','str','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','podium','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','back-to-dashboard-btn','Error\x20generating\x20from\x20link:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','API\x20call\x20failed','ปรับเพิ่ม/ลดเป็นร้อยละ','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','delete-svg-btn','เส้นรอบรูป','onclick','qType','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>',')\x5cb)','options','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','quiz-start-time','STRING','ไม่ใช่','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','answeredCurrentQuestion','label','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ค่าเฉลี่ย','authed_project_','.project-card-container','close-game-final-btn','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ท็อปฟอร์ม','far\x20fa-star','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','student-quiz-leaderboard-tab','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ค่าคลาดเคลื่อนของการวัด','Error\x20regenerating\x20question\x20in\x20editor:','currentTarget','dashboardConfig','qIndex','change','<i\x20class=\x22fas\x20fa-save\x22></i>','bg-green-100\x20text-green-800','student-project-leaderboard-content','style','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','reveal-answer-btn','.star-quiz-btn','คัดลอกแบบทดสอบสำเร็จ','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','border-indigo-400\x20ring-2\x20ring-indigo-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','):\x20','text-green-900','mouseleave','passing-score-input','setItem','\x20คะแนน','text-green-700\x20bg-green-100','\x20ตัวเลือก.\x20','แผนการสอน:\x20','thead','Error\x20moving\x20quiz:','cancel-quiz-edits-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','.save-custom-topic-btn','grid','lastAnswerCorrect','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','quick_thinker','\x5cdiv','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','</span></div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.quiz-settings-btn','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','อินเวอร์สของเมทริกซ์','cancel-delete-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','อัตราส่วนและสัดส่วน','file-input-area','strength-weakness-analysis-container','numPages','Error\x20generating\x20quiz:','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','Error\x20saving\x20to\x20question\x20bank:','.doc','/public/data/projects','questionDisplayedAt','ตรวจคะแนนใหม่\x20','practiceProblems','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','uid','score','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','scheduled_pending','loader-text','#view-rankings-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','_opt0\x22\x20name=\x22question','commit','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','project-sort-select','confirm-passcode-btn','values','\x20หัวข้อ)','คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)','อุณหภูมิและการแปลง','topic-input','link-tab','ลบหัวข้อสำเร็จ','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึก','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','removeEventListener','clientY','Error\x20updating\x20custom\x20topic:','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','Error\x20deleting\x20all\x20students:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','admin-try-quiz-btn','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20processing\x20file\x20for\x20AI:','\x20ชุด)','.quiz-result-card','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','typesetPromise','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','match','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','raw','pointsLastQuestion','/public/data/liveGames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','text-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','test','load-quiz-btn','Firebase\x20initialization\x20failed:','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','get','results-tab','ไม่พบนักเรียนในกลุ่มเป้าหมาย\x20(อาจสอบผ่านทุกคนในครั้งแรก)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','clientX','#F59E0B','draggable-text','text-gray-500','split','loader','data','application/json','global-live-game-modal','post-test','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','Error\x20deleting\x20student:','Failed\x20to\x20get\x20standardized\x20topic:','input[type=\x22text\x22]','first_try_ace','passcode-prompt-message','pairedQuizId','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','lesson-plan-title','tan','isCorrect','\x5cneq','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Authentication\x20failed:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','removeChild','getBBox','gamePin','currentQuestionIndex','comparison-modal','back-from-results-btn','msRequestFullscreen','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500','enable-passcode-checkbox','generate-worksheet-btn','ระยะเวลา\x20(วินาที):','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','starred','NEGATIVE_INFINITY','bg-red-200\x20text-red-800','Error\x20deleting\x20quiz:','pow','border-green-500','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','quiz-status-modal',';\x22\x20data-id=\x22','normal','top','button[type=\x22submit\x22]','text-red-700','กฎของโคไซน์','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','modal-loop-until-pass-checkbox','%</span>','globalSettings','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','export-worksheet-pdf-btn','floor','สถิติและความน่าจะเป็น','resultsDisplay','workerSrc','N/A','$1^{\x5ccirc}','join-live-game-btn','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','passcode-error-msg','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','question-complexity-select','Error\x20fetching\x20student\x20rankings:','schedule','\x5ccdot','ON_FIRE','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20','nickname-input','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20project:','\x5ctext{$1}','<button\x20data-quiz-id=\x22','stdDev','idealAnswer','error','parent','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','global-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','behavior-log-tab-btn','toLowerCase','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','ไม่สามารถเริ่มเกมได้','ผลรวมอนุกรม\x20(Σ)','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','บันทึกการแก้ไขสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Error\x20fetching\x20quiz\x20settings:','katex','projectOrder','type','ข้อที่\x20','max','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','upper_group_count','scheduled','bank-tab','fill','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-detail','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','back-to-student-initial-btn','retake-quiz-loop-btn','worksheet-tab','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Error\x20saving\x20project\x20order:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','delete-all-students-btn','startTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','name_desc','Invalid\x20response\x20structure\x20from\x20AI:','ฟังก์ชันเชิงเส้นและกราฟ','ระยะเวลา\x20(นาที):','สมการราก\x20(radical)','textarea','AI\x20request\x20was\x20blocked.\x20Reason:\x20','repeat','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20worksheet:','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','$1\x5ctext{','.start-live-race-btn','จำนวนนักเรียน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','COMEBACK_KING','shuffleSetting','projectSort','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','student','ลำดับการดำเนินการ\x20(PEMDAS)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','โดเมนและเรนจ์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','confirm-create-project-btn','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22.\x20','#student-project-leaderboard-content\x20thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','analytics-tab-content','วงกลม:\x20สมการและสมบัติ','กรุณาเลือกโปรเจคปลายทาง','ARRAY','ชื่อหัวข้อห้ามว่าง','ทศนิยม\x20(ค่าประจำหลัก)','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','find','ทฤษฎีทวินาม\x20(เบื้องต้น)','scores','<li>','บันทึกคำถามใหม่\x20','text/csv;charset=utf-8;','การเรียงสับเปลี่ยน\x20(Permutation)','border-green-700','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','จำนวนเต็มบวก','date_desc','true','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','Invalid\x20response\x20structure\x20from\x20AI.','binom','687522vNCvvV','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','admin-dashboard','explanation','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','student-name-select','right','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','generate-from-link-btn','หมดเวลาสำหรับข้อนี้!','\x0a\x20\x20\x20\x20(ปัจจุบัน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','export-image-btn','timestamp','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','execCommand','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','focus','.question-editor-item','เกิดข้อผิดพลาดในการลบนักเรียน','(ไม่มีชื่อ)','originalTopic','file-tab','ไม่ได้ตอบ','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','viewBox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','คำถามดิบ:\x20\x22','Error\x20listening\x20for\x20starred\x20quizzes:','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<div\x20class=\x22my-6\x22>','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','results_','เลือกและบันทึก','.delete-svg-btn','toFixed','passcode','isAdaptive','<span\x20title=\x22','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','fas\x20fa-user-edit','name','manual_release','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','.topic-actions-view','_opt0\x22>ใช่</label></div>','beforeend','project-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','short_answer','ไฮเพอร์โบลา','getContext','question-analytics-container','helvetica','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','การวัด','บันทึกแบบทดสอบสำเร็จแล้ว!','student-progress-view','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','false','แบบทดสอบนี้หมดเวลาแล้ว','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','insertAdjacentHTML','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','Leaderboard\x20update\x20transaction\x20failed:\x20','5679849pkCTYe','generated-quiz-actions','parse','#results-table','opacity-50','กำลังสร้างคำถามข้อ\x20','answering','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','show-in-student-dashboard-checkbox','บันทึกพฤติกรรมสำหรับ\x20','Error\x20deleting\x20custom\x20topic:','ไม่สามารถเพิ่มนักเรียนได้','ลำดับเรขาคณิต\x20(GP)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','lesson-plan-modal','Error\x20generating\x20from\x20blueprint:','imageCode','tfrac','#FFFFFF','students','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','quiz','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ย้าย','/public/data/customMathTopics','</li>','editable-text-','ค.ร.น.\x20(LCM)','ความเป็นอิสระของเหตุการณ์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','รูปแบบการให้เหตุผล','dataset','candidates','active','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','on_fire','cos','dispatchEvent','timer-duration-input','พื้นที่ใต้กราฟ/ระหว่างกราฟ','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x22>ไม่ใช่</p>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','button','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','เซียนสมองไว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','ลบโปรเจคสำเร็จแล้ว','#F3E8FF','height','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','totalQuestions','ตัวประกอบและตัวประกอบเฉพาะ','font-bold\x20text-green-700','2-digit','ปิดใช้งาน','\x20\x20\x20-\x20คำตอบ:\x20','dataIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','Error\x20comparing\x20results:','lowerGroupNames','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','promptFeedback','total','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','text-red-700\x20bg-red-100','grid-view-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','อัปเดตสถานะสำเร็จ','getScreenCTM','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Error\x20adding\x20students:','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','getAttributeNS','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','border-4','student-name-input','localeCompare','save-quiz-edits-btn','width','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','input[name=\x22status-option\x22]','quiz-id-input','confirm-join-game-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','text-gray-100','ฟังก์ชันแบบชิ้นส่วน','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22pa-details-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-60\x20flex\x20items-center\x20justify-center\x20hidden\x20z-50\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-6\x20rounded-lg\x20shadow-xl\x20max-w-2xl\x20w-full\x20h-[80vh]\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x20border-b\x20pb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20id=\x22pa-modal-title\x22\x20class=\x22text-xl\x20font-bold\x20text-indigo-700\x22>รายละเอียดเป้าหมาย\x20(PA)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-btn\x22\x20class=\x22text-gray-500\x20hover:text-red-600\x20text-3xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-modal-content\x22\x20class=\x22flex-grow\x20overflow-y-auto\x20bg-gray-50\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20flex\x20justify-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-footer-btn\x22\x20class=\x22bg-gray-200\x20text-gray-800\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-300\x22>ปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','1007381dVLXcF','per-question-text','earned-badges-container','solution','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','cancel-admin-login-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-600','from','string','status','both','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','question','<span\x20class=\x22font-bold\x20text-green-700\x22>บรรลุเป้าหมาย</span>','Copy\x20command\x20failed','editor-quiz-topic','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','adaptive-quiz-checkbox','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','การลบทศนิยม','text-indigo-600','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','practice-topic-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','password-error-msg','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','analytics','red','สำหรับโปรเจค:\x20','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','artifacts/','setAttribute','แบบปรนัย\x204\x20ตัวเลือก','submission-status-chart','ส่งแล้ว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','เวกเตอร์และเมทริกซ์\x20(เสริม)','ระยะทางและจุดกึ่งกลาง','.regenerate-question-editor-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','คำตอบถูกต้อง!\x20+','modal-timer-mode-select','dfrac','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','pre-test-checkbox','save','element','scores-tab-content','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','modal-results-display-select','rename-quiz-input','text-indigo-800','show_results_and_answers','opacity','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','quiz-end-time','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','auto-fix-latex-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','comeback_king','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','.cancel-edit-topic-btn','\x5cfrac{$1}{$2}','การยืนยันตัวตนล้มเหลว','หลังเรียน','อัตราการเปลี่ยนแปลงทันที','\x20คน\x20จากนักเรียนกลุ่มเสี่ยง\x20','quiz-form','behaviorLog','bg-green-100\x20font-bold','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','timer-duration-label','.pointsLastQuestion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','quiz-search-input','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20deleting\x20submission:','ควรปรับปรุง','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','00:00','กราฟฟังก์ชันตรีโกณ','-tab-content','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','matching_item','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','.png','timerDuration','Enter','toLocaleString','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-move-quiz-btn','project-quizzes-list','.topic-name-display','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','แบบเติมคำตอบ','behavior-log','กรุณาเลือกสถานะ','empty','_opt1\x22\x20name=\x22question','.delete-custom-topic-btn','player-list-lobby','analyze-strengths-btn','text-red-900','fas\x20fa-star\x20text-yellow-500','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ai-quiz-app-aefee','พบข้อสอบ\x20','preventDefault','contains','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','scores-tab-btn','.move-quiz-btn','value','POST','\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','quiz-status-options','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','default','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','modal-message','\x22.\x20Ideal\x20Answer:\x20\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','quiz-editor-modal','กรุณาป้อนรหัสแบบทดสอบ','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x5ctimes','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csum','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','.option-text','quiz-type-select','\x22\x20name=\x22question','</p><p><strong>เฉลย:</strong>\x20','none','text-red-500\x20hover:text-red-700','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','body','cancel-passcode-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','add-student-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','postTestId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','การปัดเศษและประมาณค่า','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ให้เป็นคำถามประเภท\x20\x22','filter','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','geq','.ql-editor','<h1></h1>','#ffffff','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','firstScore','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20<b>สถานะ:</b>\x20','message','originalQuestionText','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','confirmation-message','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','.sort-indicator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','touchend','abs','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','student-reading-area','เกี่ยวกับหัวข้อ\x20\x22','quiz-generation-area','Error\x20loading\x20quiz\x20for\x20student:','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','สมการเชิงเส้นตัวแปรเดียว','BOOLEAN','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','num-choices','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','approx','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','fill_in_with_choices','<span\x20class=\x22font-bold\x20text-yellow-700\x22>ยังไม่บรรลุเป้าหมาย</span>','warn','Error\x20saving\x20questions\x20to\x20practice\x20bank:','correct','toString','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','passcode-input-container','quiz-results-table-body','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','export-word-btn','file-topic-input','export-tutor-pdf-btn','อสมการค่าสัมบูรณ์','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','จัดการ','confirm-global-live-btn','border-red-700','แคลคูลัสเบื้องต้น','\x22\x5cn','isPinned','link-url-input','ไม่พบแบบทดสอบ','interesting-stats-wrapper','/submissions','กำลังสร้างแบบทดสอบคู่ขนาน...','project-passcode-modal','createdAt','teacherSuggestions','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Failed\x20to\x20parse\x20JSON\x20from\x20AI','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','.presentation-option','student-quiz-topic','<h4\x20class=\x22font-bold\x20text-indigo-800\x20mb-2\x22>📊\x20การวิเคราะห์เป้าหมายตามข้อตกลง\x20(PA)</h4>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<option\x20value=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','results-tab-content','correctResponse','live-options-container','cancel-test-btn','ref','multiple_choice','catch','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div><div\x20class=\x22space-y-2\x22>',',\x20r=','การบวกทศนิยม','project-detail-view','cancel-quiz-status-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','คะแนนเฉลี่ย','.score','bg-yellow-50','setFont','คำเตือน\x20(','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','กำลังจับคู่...','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','back-to-project-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20','/questionBank','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-dashboard-view','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','leaderboard-quiz','choices_only','เกิดข้อผิดพลาดในการแสดงผลเปรียบเทียบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','text','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','bg-emerald-100','comparison-overall-tab','timerMode','-\x20ข้อ\x20','ศูนย์','requestFullscreen','ร้อยละประยุกต์','button[data-id]','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-green-100','\x22><i\x20class=\x22fas\x20','toLocaleDateString','5222905cSLGfX','flex','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.edit-custom-topic-btn','leq','sort','text-gray-700','include-images-checkbox','correctStreak','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','move','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','.pair-quiz-btn','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','ฐานนิยม','input[type=\x22checkbox\x22]','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','countdown-display','ไม่พบข้อมูลแบบทดสอบ','.color-palette-popup','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</p><div>','title','td,\x20th','parts','querySelectorAll','\x22\x20data-q-type=\x22','analytics-tab-btn','cancel-quiz-edits-btn-footer','projectName','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','274192258111','.delete-project-btn','arrayBuffer','comparison-chart','\x5cge','</option>','index','</td>','จากไฟล์ที่แนบมานี้,\x20','text-yellow-500','mixed','หัวข้อที่สร้างเอง','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','rgba(59,\x20130,\x20246,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','.regenerate-question-btn','Error\x20unpairing\x20quizzes:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช่,\x20ตรวจใหม่','พีชคณิตและฟังก์ชัน','contentEditable','confirmation-modal','สลับไปโหมดนักเรียน','</p></div>','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','category','การสร้างรูปด้วยวงเวียน–สันตรง','answers','revealed','documentElement','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','_opt','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามถัดไป','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x20คน\x20จากนักเรียนทั้งหมด\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','answer-grid-container','list','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','Error\x20saving\x20settings:','parallel-test-upload-input','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x20คน))\x0a</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','(เลือกแล้ว\x20','next-question-btn','gain','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','</body></html>','Error\x20fetching\x20projects\x20for\x20move:','size','innerText','set','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','bar','topic','true_false','student-quiz-leaderboard-content','กำลังสร้างรูปภาพ...','questionType','svg','ring-2','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','description','close','admin','เกิดข้อผิดพลาดในการบันทึกลำดับ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ความคล้ายของรูป','parallel-test-input-area','close-lesson-plan-modal-footer-btn','push','readAsDataURL','results-quiz-title','กราฟแท่ง\x20กราฟเส้น','fill_in_no_choices','STOP','stem','Error\x20rendering\x20student\x20progress:','fa-shield-alt\x20text-gray-600','json','substring','bg-green-300','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','student-rankings-modal','quiz-leaderboard-table-body','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tGain','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','result','insertBefore','admin-password-modal','ผ่านฉลุย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','การคูณทศนิยม','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<p\x20class=\x22text-sm\x20text-red-600\x22>ยังไม่ได้ตั้งค่า\x20\x22คะแนนที่ผ่าน\x22\x20สำหรับแบบทดสอบนี้\x20ทำให้ไม่สามารถวิเคราะห์เป้าหมาย\x20PA\x20ได้</p>','function','ตรีโกณมิติ','fullscreenElement','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เปิดใช้งาน','.project-card-container[data-id]','คำตอบผิด','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ตอบถูก\x203\x20ข้อติดต่อกัน','student-progress-content','[data-is-correct=\x22true\x22]','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รากที่สองและที่สาม','back-to-results-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','manage-tab-content','<div\x20class=\x22my-2\x22>','per-q-countdown','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','.ideal-answer-input','1:274192258111:web:4120c9118229b5644dd48a','ปริพันธ์จำกัด','close-lesson-plan-modal-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','jspdf','{$1}','frac','เกิดข้อผิดพลาดในการลบผลสอบ','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','startsWith','temp-loader-results','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','export-compact-pdf-btn','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','confirm-admin-login-btn','.project-card-content','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionText','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์จากการทำข้อสอบชุดนี้ซ้ำ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pinned-items','.parallel-quiz-btn','players.','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ฟังก์ชันผกผัน','มัธยฐาน','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.pa-goal-details-btn','ความต่อเนื่อง','ผ่าน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDataURL','เกิดข้อผิดพลาด:\x20','ระบบอสมการ','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','display','confirm-rename-quiz-btn','ownerSVGElement','mean','เกมสิ้นสุดลงแล้ว','รูปหลายเหลี่ยมและมุมภายใน','เส้นจำนวน','^{\x5ccirc}\x5ctext{C}$','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','export-leaderboard-excel-btn','join','add','close-comparison-modal-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','studentName','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','สอบซ่อม','ที่พิมพ์ได้\x20จำนวน\x20','quizType','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','webkitRequestFullscreen','appendChild','players','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fa-dumbbell\x20text-gray-700','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','blueprint-upload-input','live-short-answer-input','ตารางความถี่','-tab','</tbody></table>','text-emerald-900','student-list','export-lesson-pdf-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','(^|[^\x5c\x5c])\x5cb','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20class=\x22pin-project-btn\x20','<span\x20class=\x22font-bold\x20','submission','การหาร','ย้ายแบบทดสอบไปโปรเจคอื่น','\x22>ใช่</p>','Error\x20fetching\x20project\x20quizzes:','remove','latestScore','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x5c\x5c\x5c\x5c(?=(','modal-timer-duration-container','getBoundingClientRect','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-display-select','input','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Error\x20updating\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</label>\x0a\x20\x20\x20\x20</div>\x0a','exists','\x22\x20class=\x22delete-project-btn\x20','กรุณาใส่ชื่อโปรเจค','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','text-red-300\x20hover:text-red-100','icon','custom-math-topic-input','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','leaderboard-quiz-tab-btn','has','badges','#FEE2E2','modal-passing-score-input','select','ยังไม่ส่ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','[role=\x22textbox\x22]','math-topic-search-input','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x20คน))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์โดยเทียบผลกับข้อสอบก่อนเรียน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','standard','quiz-schedule-start-container','ทฤษฎีบทพื้นฐานของแคลคูลัส','input[name=\x22question_single\x22]:checked','th-TH','download','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','afterend','\x20pointer-events-none\x22>','\x5csqrt{$1}','ห.ร.ม.\x20(GCD)','PERFECT_SCORE','<textarea\x20name=\x22question','line-through\x20text-red-700','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','/public/data/quizzes/','<option\x20value=\x22\x22>กำลังโหลด...</option>','generate-from-topic-btn','ยังไม่มีนักเรียนส่งงาน','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','bg-red-500','per_question','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','พอใช้','quiz-results','some','autoTable','(หลังเรียน)\x20','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','manage','fromCharCode','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manage-tab','next-drill-btn','presentation-slide-container','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','Failed\x20to\x20get\x20hint:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','reduce','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cs*\x5c(','text-content-input','option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','ส่งคำตอบ','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','addEventListener','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','$1\x20\x5cfrac','worksheet-topic-input','cancel-create-project-btn','class','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','slice','/users/','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','timer-container','inactive','rename-quiz-modal','เรขาคณิต','สร้างชุดคำถามจับคู่','Error\x20preparing\x20filtered\x20comparison:','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','generated-quiz-container','settings','indexOf','</p>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','backgroundColor','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x20จาก\x20','setAttributeNS','.save-to-bank-btn','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.topic-row','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','move-quiz-project-select','endTime','ราชาคัมแบ็ก','round','stringify','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','latestSubmittedAt','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','วงรี','bg-amber-100\x20text-amber-800','.choice-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','NUMBER','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','passingScore','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container.opacity-50','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','div','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','per-question-options','table','mousedown','\x22>จาก:\x20','projectView','desc','message-modal','```json','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.toggle-actions-btn','\x22\x20name=\x22question_single\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','text-blue-700\x20bg-blue-100','fa-fire\x20text-orange-500','matching','map','projectId','onload','การกระจายและการจัดหมู่','แบบทดสอบที่ติดดาว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','trim','กรุณาใส่ชื่อใหม่','offset','student-quiz-area','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','undefined','.rename-quiz-btn','\x22\x20data-topic=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','live-game','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<div\x20id=\x22q-image-container-','</span>','file-upload-input','Re-grade\x20process\x20failed:','per-question-timer-container','จับคู่แบบทดสอบสำเร็จ!','ฟังก์ชันสัมพัทธ์\x20(rational)','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','admin-testing','presentation-modal','.pin-project-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','className','#student-quiz-leaderboard-content\x20thead','quiz-bank-modal','rgba(79,\x2070,\x20229,\x201)','learningGaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20displaying\x20question\x20bank:','correctAnswer','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','สมการเหตุผล\x20(rational)','findIndex','</h3>','.quiz-bank-parallel-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.start-presentation-list-btn','student-passcode-input','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','standardTopic','27411472','<p>','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','bg-red-100','mjx-container','ลิมิต','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','scrollX','ai-quiz-generator-v3','เกิดข้อผิดพลาดในการลบหัวข้อ','presentation-short-answer-input','\x22\x20class=\x22color-palette-btn\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพกล่อง\x20(box\x20plot)','input[name=\x22status-option\x22]:checked','เกิดข้อผิดพลาดในการอ่านไฟล์','project-title','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','circle','การลบเศษส่วน','text-emerald-800','behavior-log-tab-content','badgesCount','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','cancel-rename-quiz-btn','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','แบบทดสอบจากคลังส่วนตัว','.\x20แต่ละข้อมี\x20','showInStudentDashboard','https://corsproxy.io/?','onerror','live-submit-short-answer-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','href','ความเท่ากันทุกประการของสามเหลี่ยม','<p><strong>คำตอบของคุณ:</strong>\x20','rgba(79,\x2070,\x20229,\x200.8)','\x20mr-2\x22></i>','พื้นที่ผิวรูปทรงสามมิติ','แผนภาพเวนน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20rounded-md\x20hover:bg-indigo-100\x20cursor-pointer\x20pa-goal-details-btn\x22\x20data-pre-test-id=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','specialist','results','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','\x20/\x20','.correct-response-input','\x22...','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','bg-green-50','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','fa-rocket\x20text-purple-500','results-quiz-id-display','stopPropagation','touches','closest','then','text-gray-300\x20hover:text-white','bg-purple-50','#FCE7F3','ความชันและเส้นตรง','behavior-log-container','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','543080kbyESX','\x0a\x20\x20\x20\x20','delete','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','fa-bolt\x20text-blue-500','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','copy-quiz-id-btn','$1^{\x5ccirc}\x5ctext{C}','ผู้เชี่ยวชาญ','\x5cpm','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','createElement','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-white/30','length','สร้างโปรเจคสำเร็จ!','ไม่พบโปรเจค','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','เรขาคณิตวิเคราะห์','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','cancel-quiz-settings-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','ย้ายแบบทดสอบสำเร็จ','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','results-table-container','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','open-quiz-bank-btn','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','save-quiz-btn','แก้ระบบสมการด้วยเมทริกซ์','replace','getTextContent','Error\x20during\x20class\x20analysis:','next-question-timed-btn','text-yellow-300','confirm-delete-btn','target','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','การหารเศษส่วน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','files','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','dragend','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','<tr\x20class=\x22','lower_group_count','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>'];_0x5006=function(){return _0x15ccee;};return _0x5006();}function endDrag(_0x1b910f){draggedSvgElement=null;}function handleSvgEditClick(_0x384237){const _0x5a7853=_0x2a65e7;if(_0x384237[_0x5a7853(0x706)][_0x5a7853(0x51a)][_0x5a7853(0x3ce)](_0x5a7853(0x114))){const _0x44b31d=_0x384237['target'][_0x5a7853(0x301)][_0x5a7853(0xd2)],_0x20fb12=_0x384237[_0x5a7853(0x136)],_0x4ec76f=_0x20fb12[_0x5a7853(0x66a)]('#'+_0x44b31d);_0x4ec76f&&_0x4ec76f[_0x5a7853(0x5a5)](),_0x384237[_0x5a7853(0x706)][_0x5a7853(0x5a5)]();}}function handleEditQuestion(_0x1f2521){const _0x4d9f45=_0x2a65e7,_0x39f2c6=_0x1f2521['currentTarget'],_0x28e5de=_0x39f2c6['dataset'][_0x4d9f45(0x4b5)],_0x5eee4a=currentQuizData['questions'][_0x28e5de],_0x58ecc9=document[_0x4d9f45(0x337)]('q-text-'+_0x28e5de),_0x6faffc=document['getElementById'](_0x4d9f45(0x734)+_0x28e5de),_0x536a46=document[_0x4d9f45(0x337)]('q-image-container-'+_0x28e5de);if(_0x39f2c6[_0x4d9f45(0x78a)][_0x4d9f45(0x714)](_0x4d9f45(0x806))){_0x39f2c6[_0x4d9f45(0x78a)]=_0x4d9f45(0x13a),_0x39f2c6[_0x4d9f45(0x4a6)]=_0x4d9f45(0x762);if(_0x58ecc9)_0x58ecc9[_0x4d9f45(0x4c4)]=!![];if(_0x6faffc)_0x6faffc[_0x4d9f45(0x4c4)]=!![];if(_0x536a46){const _0x12b68e=_0x536a46[_0x4d9f45(0x66a)](_0x4d9f45(0x4fa));if(_0x12b68e){const _0xc9313a=_0x12b68e[_0x4d9f45(0x4a9)](_0x4d9f45(0x47c));_0xc9313a[_0x4d9f45(0x785)]((_0xef0c36,_0x22b403)=>{const _0x34995d=_0x4d9f45,_0x500b46=_0x34995d(0x2fb)+_0x28e5de+'-'+_0x22b403;_0xef0c36['id']=_0x500b46,_0xef0c36[_0x34995d(0x51a)][_0x34995d(0x57f)]('draggable-text'),_0xef0c36[_0x34995d(0x13d)][_0x34995d(0x712)]=_0x34995d(0x496);const _0x515298=document[_0x34995d(0x34d)]('http://www.w3.org/2000/svg',_0x34995d(0x6a8)),_0x5b6e09=_0xef0c36[_0x34995d(0x1e2)]();_0x515298[_0x34995d(0x375)]('cx',String(_0x5b6e09['x']+_0x5b6e09[_0x34995d(0x33d)]+0x5)),_0x515298['setAttribute']('cy',String(_0x5b6e09['y']+_0x5b6e09['height']/0x2-0x5)),_0x515298[_0x34995d(0x375)]('r','5'),_0x515298[_0x34995d(0x375)](_0x34995d(0x244),_0x34995d(0x370)),_0x515298[_0x34995d(0x375)](_0x34995d(0x610),'delete-svg-btn'),_0x515298['dataset'][_0x34995d(0xd2)]=_0x500b46,_0xef0c36[_0x34995d(0x101)](_0x515298);}),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0x64a),startDrag),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0x72d),drag),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0x7af),endDrag),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0x14b),endDrag),_0x12b68e['addEventListener'](_0x4d9f45(0x356),startDrag,{'passive':![]}),_0x12b68e[_0x4d9f45(0x60b)]('touchmove',drag,{'passive':![]}),_0x12b68e['addEventListener'](_0x4d9f45(0x410),endDrag),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0xdd),endDrag),_0x12b68e[_0x4d9f45(0x60b)](_0x4d9f45(0x78f),handleSvgEditClick);}}if(_0x58ecc9)_0x58ecc9['focus']();}else{_0x39f2c6[_0x4d9f45(0x78a)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x39f2c6['title']='แก้ไขข้อนี้';if(_0x58ecc9){_0x58ecc9[_0x4d9f45(0x4c4)]=![];const _0xb667b5=_0x5eee4a['questionType']||currentQuizData['quizType'];_0xb667b5===_0x4d9f45(0x3b4)?_0x5eee4a[_0x4d9f45(0x514)]=_0x58ecc9[_0x4d9f45(0x4f1)][_0x4d9f45(0x518)](_0x58ecc9[_0x4d9f45(0x4f1)]['indexOf']('.')+0x2)[_0x4d9f45(0x65d)]():_0x5eee4a[_0x4d9f45(0x55d)]=_0x58ecc9[_0x4d9f45(0x4f1)][_0x4d9f45(0x518)](_0x58ecc9[_0x4d9f45(0x4f1)][_0x4d9f45(0x620)]('.')+0x2)['trim']();}_0x6faffc&&(_0x6faffc[_0x4d9f45(0x4c4)]=![],_0x5eee4a[_0x4d9f45(0x294)]=_0x6faffc[_0x4d9f45(0x4f1)]);if(_0x536a46){const _0x4a58e3=_0x536a46[_0x4d9f45(0x66a)](_0x4d9f45(0x4fa));if(_0x4a58e3){const _0x2a1389=_0x4a58e3['cloneNode'](!![]);_0x2a1389[_0x4d9f45(0x4a9)](_0x4d9f45(0x2bc))[_0x4d9f45(0x785)](_0x5ac2be=>_0x5ac2be[_0x4d9f45(0x5a5)]()),_0x2a1389[_0x4d9f45(0x4a9)](_0x4d9f45(0x49a))[_0x4d9f45(0x785)](_0xcf6aeb=>{const _0x17f437=_0x4d9f45;_0xcf6aeb[_0x17f437(0x51a)]['remove'](_0x17f437(0x1c3)),_0xcf6aeb[_0x17f437(0x13d)]['cursor']=_0x17f437(0x3d8),_0xcf6aeb[_0x17f437(0x781)]('id');}),_0x5eee4a[_0x4d9f45(0x2f0)]=_0x2a1389[_0x4d9f45(0x3b6)],_0x4a58e3[_0x4d9f45(0x196)]('mousedown',startDrag),_0x4a58e3['removeEventListener']('mousemove',drag),_0x4a58e3[_0x4d9f45(0x196)](_0x4d9f45(0x7af),endDrag),_0x4a58e3[_0x4d9f45(0x196)]('mouseleave',endDrag),_0x4a58e3[_0x4d9f45(0x196)](_0x4d9f45(0x356),startDrag),_0x4a58e3[_0x4d9f45(0x196)](_0x4d9f45(0x315),drag),_0x4a58e3[_0x4d9f45(0x196)](_0x4d9f45(0x410),endDrag),_0x4a58e3[_0x4d9f45(0x196)]('touchcancel',endDrag),_0x4a58e3['removeEventListener']('click',handleSvgEditClick),_0x4a58e3[_0x4d9f45(0x4a9)](_0x4d9f45(0x2bc))[_0x4d9f45(0x785)](_0x3960fa=>_0x3960fa['remove']()),_0x4a58e3[_0x4d9f45(0x4a9)](_0x4d9f45(0x49a))[_0x4d9f45(0x785)](_0x878783=>{const _0xf56936=_0x4d9f45;_0x878783[_0xf56936(0x51a)][_0xf56936(0x5a5)](_0xf56936(0x1c3)),_0x878783[_0xf56936(0x13d)][_0xf56936(0x712)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x541ad2){const _0x10f14c=_0x2a65e7,_0xc72c=document['getElementById']('quiz-editor-modal'),_0x39ac1f=document[_0x10f14c(0x337)](_0x10f14c(0xe8));_0x39ac1f['innerHTML']=_0x10f14c(0x280),_0xc72c[_0x10f14c(0x51a)][_0x10f14c(0x5a5)](_0x10f14c(0x7b3));try{const _0x4ae871=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x541ad2),_0x1fed39=await getDoc(_0x4ae871);if(!_0x1fed39[_0x10f14c(0x5b6)]())throw new Error(_0x10f14c(0x441));currentEditingQuizData={'id':_0x541ad2,..._0x1fed39[_0x10f14c(0x1c7)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xface06){console[_0x10f14c(0x227)](_0x10f14c(0x7ed),_0xface06),showMessage(_0x10f14c(0x1f8)),_0xc72c['classList'][_0x10f14c(0x57f)](_0x10f14c(0x7b3));}}function renderQuizEditor(_0x316316){const _0x31bcf=_0x2a65e7;document[_0x31bcf(0x337)]('editor-quiz-topic')[_0x31bcf(0x3d3)]=_0x316316[_0x31bcf(0x4f5)];const _0x205703=document[_0x31bcf(0x337)](_0x31bcf(0xe8));let _0x3f2e5e=_0x316316['questions']['map']((_0x411ea4,_0x4c5251)=>{const _0x595a53=_0x31bcf;let _0x4016f5='';const _0x42c8ff=_0x411ea4[_0x595a53(0x4f9)]||_0x316316['quizType'];switch(_0x42c8ff){case _0x595a53(0x45b):const _0x4f023f=(_0x411ea4['options']||[])['map']((_0x116c80,_0x5c3e24)=>_0x595a53(0x264)+_0x4c5251+_0x595a53(0xe3)+_0x5c3e24+'\x22\x20'+(_0x5c3e24===_0x411ea4['correctAnswerIndex']?_0x595a53(0x635):'')+_0x595a53(0x3ca)+_0x116c80+_0x595a53(0x802))['join']('');_0x4016f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x4f023f+_0x595a53(0x314);break;case _0x595a53(0x2cc):_0x4016f5=_0x595a53(0x754)+(_0x411ea4[_0x595a53(0x226)]||'')+_0x595a53(0x2a4);break;case _0x595a53(0x4f6):_0x4016f5=_0x595a53(0x217)+_0x4c5251+_0x595a53(0x78)+(_0x411ea4['correctAnswer']===!![]?_0x595a53(0x635):'')+_0x595a53(0x2e6)+_0x4c5251+_0x595a53(0xec)+(_0x411ea4['correctAnswer']===![]?_0x595a53(0x635):'')+_0x595a53(0x30f);break;case _0x595a53(0x3b4):_0x4016f5=_0x595a53(0x1a2)+(_0x411ea4['correctResponse']||'')+_0x595a53(0x463);break;}const _0x4f3eae=_0x411ea4[_0x595a53(0x55d)]||_0x411ea4[_0x595a53(0x514)]||'';return _0x595a53(0x615)+_0x4c5251+_0x595a53(0x4aa)+_0x42c8ff+_0x595a53(0x647)+(_0x4c5251+0x1)+'\x20('+_0x42c8ff+_0x595a53(0x30a)+_0x4f3eae+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x4016f5+_0x595a53(0x6e8);})[_0x31bcf(0x57e)]('');_0x205703[_0x31bcf(0x78a)]=_0x3f2e5e;}async function handleSaveChanges(){const _0x2ccec9=_0x2a65e7,_0x5e101b=document[_0x2ccec9(0x337)](_0x2ccec9(0x33c));_0x5e101b[_0x2ccec9(0x7d9)]=!![],_0x5e101b[_0x2ccec9(0x78a)]=_0x2ccec9(0x3d9);try{const _0x5e362f=document[_0x2ccec9(0x337)](_0x2ccec9(0x35b))['value'],_0x181ad9=document[_0x2ccec9(0x4a9)](_0x2ccec9(0x2a7));let _0x1ed4df=[];const _0x435fec=Array[_0x2ccec9(0x352)](_0x181ad9)[_0x2ccec9(0x657)]((_0x15bd5a,_0x1cbe2d)=>{const _0x2ebc1e=_0x2ccec9,_0x17a53d=_0x15bd5a['dataset'][_0x2ebc1e(0x117)],_0x59cea4=_0x15bd5a[_0x2ebc1e(0x66a)]('textarea')[_0x2ebc1e(0x3d3)];let _0x27d830={'questionType':_0x17a53d};const _0x169e51=currentEditingQuizData['questions'][_0x1cbe2d];switch(_0x17a53d){case _0x2ebc1e(0x45b):_0x27d830['questionText']=_0x59cea4;const _0x55256c=_0x15bd5a[_0x2ebc1e(0x4a9)](_0x2ebc1e(0x1d0));_0x27d830['options']=Array[_0x2ebc1e(0x352)](_0x55256c)['map'](_0x480698=>_0x480698['value']);const _0x9bd7ed=_0x15bd5a[_0x2ebc1e(0x66a)](_0x2ebc1e(0x74a));_0x27d830[_0x2ebc1e(0x539)]=_0x9bd7ed?parseInt(_0x9bd7ed['value']):0x0;break;case _0x2ebc1e(0x2cc):_0x27d830[_0x2ebc1e(0x55d)]=_0x59cea4,_0x27d830[_0x2ebc1e(0x226)]=_0x15bd5a[_0x2ebc1e(0x66a)](_0x2ebc1e(0x548))[_0x2ebc1e(0x3d3)];break;case'true_false':_0x27d830[_0x2ebc1e(0x55d)]=_0x59cea4;const _0x5abe59=_0x15bd5a['querySelector'](_0x2ebc1e(0x74a));_0x27d830[_0x2ebc1e(0x685)]=_0x5abe59?_0x5abe59[_0x2ebc1e(0x3d3)]===_0x2ebc1e(0x28d):!![];break;case'matching_item':_0x27d830[_0x2ebc1e(0x514)]=_0x59cea4;const _0x764710=_0x15bd5a[_0x2ebc1e(0x66a)](_0x2ebc1e(0x6c8));_0x27d830[_0x2ebc1e(0x457)]=_0x764710?_0x764710[_0x2ebc1e(0x3d3)]:'',_0x1ed4df[_0x2ebc1e(0x50e)](_0x27d830[_0x2ebc1e(0x457)]);break;default:_0x27d830[_0x2ebc1e(0x55d)]=_0x59cea4;break;}return{..._0x169e51,..._0x27d830};});_0x1ed4df['length']>0x0&&_0x435fec[_0x2ccec9(0x785)](_0x5686e5=>{const _0x27de62=_0x2ccec9;_0x5686e5[_0x27de62(0x4f9)]===_0x27de62(0x3b4)&&(_0x5686e5[_0x27de62(0x7bc)]=_0x1ed4df);});const _0x23a7a0=currentEditingQuizData['id'],_0x4c4caf=doc(db,'artifacts/'+appId+_0x2ccec9(0x78d),_0x23a7a0);await updateDoc(_0x4c4caf,{'topic':_0x5e362f,'questions':_0x435fec}),showMessage(_0x2ccec9(0x238)),document['getElementById']('quiz-editor-modal')[_0x2ccec9(0x51a)]['add']('hidden'),showConfirmation(_0x2ccec9(0x18a),()=>initiateReGradeProcess(_0x23a7a0)),document[_0x2ccec9(0x337)]('confirmation-modal')['querySelector']('h3')[_0x2ccec9(0x8c)]='ตรวจคะแนนใหม่',document['getElementById'](_0x2ccec9(0x705))['textContent']=_0x2ccec9(0x4c2);}catch(_0x2114f3){console['error'](_0x2ccec9(0x3d0),_0x2114f3),showMessage(_0x2ccec9(0x191));}finally{_0x5e101b[_0x2ccec9(0x7d9)]=![],_0x5e101b[_0x2ccec9(0x78a)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x183e55){const _0x4a3ad0=_0x2a65e7;showMessage(_0x4a3ad0(0x363));try{const _0x56f2fc=doc(db,_0x4a3ad0(0x374)+appId+'/public/data/quizzes',_0x183e55),_0x4e4c90=await getDoc(_0x56f2fc);if(!_0x4e4c90[_0x4a3ad0(0x5b6)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x43aa70={'id':_0x183e55,..._0x4e4c90[_0x4a3ad0(0x1c7)]()},_0x39af4e=collection(db,'artifacts/'+appId+_0x4a3ad0(0x78d),_0x183e55,'submissions'),_0x4bdeab=await getDocs(_0x39af4e);if(_0x4bdeab['empty']){showMessage(_0x4a3ad0(0x37f));return;}const _0x2b71ba=_0x4bdeab[_0x4a3ad0(0x7dc)][_0x4a3ad0(0x657)](_0x227a35=>reGradeSingleSubmission(_0x227a35,_0x43aa70));await Promise[_0x4a3ad0(0x760)](_0x2b71ba);if(_0x43aa70[_0x4a3ad0(0x658)]){const _0x216c97=doc(db,_0x4a3ad0(0x374)+appId+'/public/data/projects',_0x43aa70[_0x4a3ad0(0x658)]),_0x259773=await getDoc(_0x216c97);if(_0x259773['exists']()&&_0x259773[_0x4a3ad0(0x1c7)]()['students']){const _0x1df5eb=_0x259773[_0x4a3ad0(0x1c7)]()['students'][_0x4a3ad0(0x657)](_0x171f58=>updateStudentProfile(_0x43aa70[_0x4a3ad0(0x658)],_0x171f58));await Promise[_0x4a3ad0(0x760)](_0x1df5eb);}}showMessage(_0x4a3ad0(0x176)+_0x4bdeab[_0x4a3ad0(0x4f0)]+_0x4a3ad0(0x3ff));}catch(_0x59f44f){console[_0x4a3ad0(0x227)](_0x4a3ad0(0x670),_0x59f44f),showMessage(_0x4a3ad0(0x6ad)+_0x59f44f['message']);}}async function reGradeSingleSubmission(_0x50176a,_0x33c97b){const _0x1d0d21=_0x2a65e7,_0xb87a9b=_0x50176a[_0x1d0d21(0x1c7)](),_0x4978b9=_0xb87a9b[_0x1d0d21(0x582)],_0x569d2f=_0xb87a9b['attempts']||[],_0x15f286=[];for(const _0x7799db of _0x569d2f){let _0x2d109a=0x0,_0x1e9317=[],_0x4e8842=0x0;const _0x57f231=[];for(const _0x1d93ef of _0x7799db[_0x1d0d21(0x4ce)]){const _0x33a33e=_0x33c97b[_0x1d0d21(0xbb)][_0x1d0d21(0x282)](_0x3ac4a2=>(_0x3ac4a2['questionText']||_0x3ac4a2[_0x1d0d21(0x514)])===_0x1d93ef['originalQuestionText']);let _0x18b163=![];if(_0x33a33e){const _0x3983b1=_0x33a33e[_0x1d0d21(0x4f9)]||_0x33c97b[_0x1d0d21(0x58a)];switch(_0x3983b1){case _0x1d0d21(0x45b):if(_0x33a33e[_0x1d0d21(0x11a)]&&_0x33a33e[_0x1d0d21(0x539)]<_0x33a33e[_0x1d0d21(0x11a)][_0x1d0d21(0x6ea)]){const _0x46f0a4=_0x33a33e[_0x1d0d21(0x11a)][_0x33a33e['correctAnswerIndex']];_0x18b163=_0x1d93ef[_0x1d0d21(0x7d0)]===_0x46f0a4;}break;case _0x1d0d21(0x4f6):const _0x1660bc=_0x1d93ef[_0x1d0d21(0x7b2)]===!![]||_0x1d93ef[_0x1d0d21(0x7b2)]==='true';_0x18b163=_0x1660bc===_0x33a33e['correctAnswer'];break;case _0x1d0d21(0x3b4):_0x18b163=_0x1d93ef['answer']===_0x33a33e[_0x1d0d21(0x457)];break;case _0x1d0d21(0x2cc):_0x18b163=await gradeShortAnswer(_0x1d93ef[_0x1d0d21(0x7b2)],_0x33a33e);break;default:_0x18b163=_0x1d93ef['isCorrect'];break;}}if(_0x18b163){_0x2d109a++,_0x4e8842++;if(_0x4e8842===0x3)_0x1e9317[_0x1d0d21(0x50e)](BADGES[_0x1d0d21(0x21c)]['id']);}else _0x4e8842=0x0;_0x57f231[_0x1d0d21(0x50e)]({..._0x1d93ef,'isCorrect':_0x18b163});}let _0x5b564c=_0x2d109a*0xa;_0x2d109a===_0x33c97b['questions'][_0x1d0d21(0x6ea)]&&(_0x5b564c+=0x32,_0x1e9317[_0x1d0d21(0x50e)](BADGES[_0x1d0d21(0x5da)]['id'])),_0x15f286[_0x1d0d21(0x50e)]({..._0x7799db,'score':_0x2d109a,'points':_0x5b564c,'badges':Array[_0x1d0d21(0x352)](new Set(_0x1e9317)),'answers':_0x57f231});}const _0x54b26d=_0x15f286[_0x1d0d21(0x6ea)]>0x0?_0x15f286[0x0][_0x1d0d21(0x17a)]:0x0,_0x2aa15e=Math[_0x1d0d21(0x23f)](..._0x15f286[_0x1d0d21(0x657)](_0x28f195=>_0x28f195[_0x1d0d21(0x17a)])),_0x19d844=_0x15f286[_0x1d0d21(0x6ea)]>0x0?_0x15f286[_0x15f286[_0x1d0d21(0x6ea)]-0x1][_0x1d0d21(0x17a)]:0x0,_0x9a9f4c=_0x15f286['length']>0x0?_0x15f286[_0x15f286[_0x1d0d21(0x6ea)]-0x1][_0x1d0d21(0x784)]:0x0,_0x8abc76=doc(db,_0x1d0d21(0x374)+appId+_0x1d0d21(0x5de)+_0x33c97b['id']+_0x1d0d21(0x443),_0x4978b9);await updateDoc(_0x8abc76,{'attempts':_0x15f286,'firstScore':_0x54b26d,'bestScore':_0x2aa15e,'latestScore':_0x19d844,'points':_0x9a9f4c});}function cleanupQuizOptions(_0xf8c4a5){const _0x174422=_0x2a65e7,_0x211eb6=(_0x2a6302,_0x3cfbc5)=>_0x3cfbc5===0x0?_0x2a6302:_0x211eb6(_0x3cfbc5,_0x2a6302%_0x3cfbc5),_0x580aa3=_0x2dbace=>{const _0x4fb75b=_0x2fd9;if(typeof _0x2dbace!==_0x4fb75b(0x353))return null;_0x2dbace=_0x2dbace[_0x4fb75b(0x65d)]();const _0x934d3f=_0x2dbace[_0x4fb75b(0x1c5)](/[ /]/)[_0x4fb75b(0x3fd)](_0x54502b=>_0x54502b!=='');if(_0x934d3f[_0x4fb75b(0x6ea)]===0x3)return parseInt(_0x934d3f[0x0])+parseInt(_0x934d3f[0x1])/parseInt(_0x934d3f[0x2]);else{if(_0x934d3f[_0x4fb75b(0x6ea)]===0x2)return parseInt(_0x934d3f[0x0])/parseInt(_0x934d3f[0x1]);else{if(_0x934d3f[_0x4fb75b(0x6ea)]===0x1&&!isNaN(_0x934d3f[0x0]))return parseFloat(_0x934d3f[0x0]);}}return null;},_0x53541f=_0x207f8b=>{const _0x18d2db=_0x2fd9;if(typeof _0x207f8b!=='string')return _0x207f8b;const _0x4d5580=_0x207f8b[_0x18d2db(0x1ab)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4d5580){const _0x2cab70=parseInt(_0x4d5580[0x1]);let _0x40d8e3=parseInt(_0x4d5580[0x2]),_0x559f76=parseInt(_0x4d5580[0x3]);const _0x30b32b=_0x211eb6(_0x40d8e3,_0x559f76);_0x40d8e3/=_0x30b32b,_0x559f76/=_0x30b32b;if(_0x559f76===0x1)return(_0x2cab70+_0x40d8e3)[_0x18d2db(0x42c)]();return _0x2cab70+'\x20'+_0x40d8e3+'/'+_0x559f76;}return _0x207f8b;};return _0xf8c4a5&&_0xf8c4a5[_0x174422(0xbb)]&&_0xf8c4a5[_0x174422(0xbb)]['forEach'](_0x2fffac=>{const _0x3715ff=_0x174422;if(_0x2fffac[_0x3715ff(0x4f9)]==='multiple_choice'&&_0x2fffac[_0x3715ff(0x11a)]){const _0x55bfb8=new Map(),_0xac4d55=_0x2fffac['options'][_0x2fffac['correctAnswerIndex']];_0x2fffac[_0x3715ff(0x11a)][_0x3715ff(0x785)](_0x3af9ac=>{const _0x3cb8dc=_0x53541f(_0x3af9ac),_0x5b4f41=_0x580aa3(_0x3cb8dc);_0x5b4f41!==null&&!_0x55bfb8['has'](_0x5b4f41)&&_0x55bfb8['set'](_0x5b4f41,_0x3cb8dc);}),_0x2fffac['options']=Array[_0x3715ff(0x352)](_0x55bfb8[_0x3715ff(0x188)]());const _0x4b522f=_0x2fffac[_0x3715ff(0x11a)]['findIndex'](_0x67bca9=>_0x67bca9===_0x53541f(_0xac4d55));_0x2fffac[_0x3715ff(0x539)]=_0x4b522f!==-0x1?_0x4b522f:0x0;}}),_0xf8c4a5;}async function saveQuiz(){const _0xb5b392=_0x2a65e7;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xb5b392(0xbb)]||!userId){showMessage(_0xb5b392(0x143));return;}const _0x373992=document[_0xb5b392(0x337)](_0xb5b392(0x6fe));_0x373992['disabled']=!![],_0x373992[_0xb5b392(0x78a)]=_0xb5b392(0x3d9);const _0x333f19=document['getElementById'](_0xb5b392(0x384))[_0xb5b392(0x635)];let _0x55ecd6=document['getElementById'](_0xb5b392(0x4e3))[_0xb5b392(0x4f1)][_0xb5b392(0x65d)]();_0x333f19&&!_0x55ecd6[_0xb5b392(0x554)]('(ก่อนเรียน)')&&(_0x55ecd6=_0xb5b392(0x8d)+_0x55ecd6);try{const _0x17860c={'resultsDisplay':document[_0xb5b392(0x337)](_0xb5b392(0x5ac))[_0xb5b392(0x3d3)],'shuffle':document[_0xb5b392(0x337)]('shuffle-setting-select')[_0xb5b392(0x3d3)],'timerMode':document[_0xb5b392(0x337)](_0xb5b392(0x9b))[_0xb5b392(0x3d3)],'timerDuration':parseInt(document['getElementById'](_0xb5b392(0x308))[_0xb5b392(0x3d3)])||0xa,'passingScore':parseInt(document[_0xb5b392(0x337)](_0xb5b392(0x14c))['value'])||0x0,'isAdaptive':document[_0xb5b392(0x337)](_0xb5b392(0x35d))[_0xb5b392(0x635)],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')[_0xb5b392(0x635)]},_0x5e9955=(currentQuizData['questions']||[])['map'](_0x5a3cab=>{const _0x536b6d=_0xb5b392,_0x5d626b=document['getElementById']('quiz-type-select')[_0x536b6d(0x3d3)],_0x387424={'questionText':_0x5a3cab[_0x536b6d(0x55d)]||'','explanation':_0x5a3cab[_0x536b6d(0x294)]||_0x536b6d(0x7e3),'questionType':_0x5a3cab[_0x536b6d(0x4f9)]||_0x5d626b,'imageCode':_0x5a3cab[_0x536b6d(0x2f0)]||null};return(_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x45b)||_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x427)||_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x4b9)&&_0x5a3cab[_0x536b6d(0x11a)])&&(_0x387424[_0x536b6d(0x11a)]=_0x5a3cab[_0x536b6d(0x11a)]||[],_0x387424['correctAnswerIndex']=_0x5a3cab['correctAnswerIndex']!==undefined?_0x5a3cab['correctAnswerIndex']:0x0),(_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x2cc)||_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x512)||_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x4b9)&&_0x5a3cab[_0x536b6d(0x226)])&&(_0x387424['idealAnswer']=_0x5a3cab[_0x536b6d(0x226)]||''),_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x4f6)&&(_0x387424['correctAnswer']=_0x5a3cab[_0x536b6d(0x685)]===!![]),_0x387424[_0x536b6d(0x4f9)]===_0x536b6d(0x3b4)&&(_0x387424[_0x536b6d(0x514)]=_0x5a3cab['stem']||'',_0x387424[_0x536b6d(0x457)]=_0x5a3cab[_0x536b6d(0x457)]||'',_0x387424[_0x536b6d(0x7bc)]=_0x5a3cab[_0x536b6d(0x7bc)]||[]),_0x387424;}),_0x3f6eaa={'topic':_0x55ecd6,'quizType':currentQuizData[_0xb5b392(0x58a)]||_0xb5b392(0x45b),'questions':_0x5e9955,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xb5b392(0x1a1)](),'status':_0xb5b392(0x303),'settings':_0x17860c,'quizMode':_0x333f19?'pre-test':_0xb5b392(0x5cf),'pairedQuizId':null,'lessonPlan':null};let _0x563be1;while(!![]){_0x563be1=Math[_0xb5b392(0x20b)](0x3e8+Math['random']()*0x2328)[_0xb5b392(0x42c)]();const _0x46bbe3=await getDoc(doc(db,'artifacts/'+appId+_0xb5b392(0x78d),_0x563be1));if(!_0x46bbe3[_0xb5b392(0x5b6)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xb5b392(0x78d),_0x563be1),_0x3f6eaa),currentQuizData['settings']=_0x17860c,currentQuizData['id']=_0x563be1;const _0x240fb7=document[_0xb5b392(0x337)](_0xb5b392(0x2df));_0x240fb7[_0xb5b392(0x78a)]=_0xb5b392(0xe5)+_0x563be1+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0xb5b392(0x337)](_0xb5b392(0x6e2))[_0xb5b392(0x60b)](_0xb5b392(0x78f),()=>copyTextToClipboard(_0x563be1,'คัดลอกรหัสแล้ว!')),document[_0xb5b392(0x337)](_0xb5b392(0x216))[_0xb5b392(0x60b)](_0xb5b392(0x78f),()=>handleStartLiveRace(_0x563be1)),document[_0xb5b392(0x337)](_0xb5b392(0x75c))['addEventListener'](_0xb5b392(0x78f),()=>startPresentation(currentQuizData)),document[_0xb5b392(0x337)](_0xb5b392(0x19e))['addEventListener'](_0xb5b392(0x78f),startAdminTest),showMessage(_0xb5b392(0x2d3));}catch(_0x27f607){console[_0xb5b392(0x227)](_0xb5b392(0x7f0),_0x27f607),showMessage(_0xb5b392(0x2cb)),_0x373992[_0xb5b392(0x7d9)]=![],_0x373992[_0xb5b392(0x78a)]=_0xb5b392(0x743);}}function promptForProjectAndSave(){const _0x27aa1c=_0x2a65e7,_0x3a9f58=document[_0x27aa1c(0x337)]('move-quiz-modal'),_0x2e13f2=document[_0x27aa1c(0x337)](_0x27aa1c(0x62f)),_0x595586=_0x3a9f58['querySelector']('h3'),_0x4f4a0e=document['getElementById'](_0x27aa1c(0x72));_0x595586['textContent']=_0x27aa1c(0xa9),_0x4f4a0e['textContent']=_0x27aa1c(0x2bb);allProjects[_0x27aa1c(0x6ea)]===0x0?(_0x2e13f2[_0x27aa1c(0x78a)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x4f4a0e[_0x27aa1c(0x7d9)]=!![]):(_0x2e13f2[_0x27aa1c(0x78a)]=allProjects[_0x27aa1c(0x657)](_0x2061f7=>_0x27aa1c(0x453)+_0x2061f7['id']+'\x22>'+_0x2061f7[_0x27aa1c(0x4ad)]+'</option>')[_0x27aa1c(0x57e)](''),_0x4f4a0e[_0x27aa1c(0x7d9)]=![]);_0x3a9f58['classList']['remove'](_0x27aa1c(0x7b3));const _0x4753f6=()=>{const _0x53959f=_0x27aa1c,_0x5b931b=_0x2e13f2[_0x53959f(0x3d3)];_0x5b931b?(currentProjectId=_0x5b931b,_0x3a9f58[_0x53959f(0x51a)]['add'](_0x53959f(0x7b3)),saveQuiz(),_0x595586['textContent']=_0x53959f(0x5a2),_0x4f4a0e[_0x53959f(0x8c)]=_0x53959f(0x2f8),_0x4f4a0e[_0x53959f(0x196)]('click',_0x4753f6),_0x4f4a0e[_0x53959f(0x60b)](_0x53959f(0x78f),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x4f4a0e[_0x27aa1c(0x196)](_0x27aa1c(0x78f),confirmMoveQuiz),_0x4f4a0e['addEventListener'](_0x27aa1c(0x78f),_0x4753f6);}function copyTextToClipboard(_0x583535,_0x302088){const _0x4478a8=_0x2a65e7,_0x44a75f=document[_0x4478a8(0x6e7)](_0x4478a8(0x25d));_0x44a75f[_0x4478a8(0x3d3)]=_0x583535,_0x44a75f[_0x4478a8(0x13d)][_0x4478a8(0x1e8)]='fixed',_0x44a75f[_0x4478a8(0x13d)][_0x4478a8(0x38d)]='0',document[_0x4478a8(0x3ee)][_0x4478a8(0x58d)](_0x44a75f),_0x44a75f['focus'](),_0x44a75f[_0x4478a8(0x5c3)]();try{const _0x130a3f=document[_0x4478a8(0x2a3)](_0x4478a8(0x786));showMessage(_0x130a3f?_0x302088:'คัดลอกไม่สำเร็จ');}catch(_0x59fb60){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4478a8(0x227)](_0x4478a8(0x35a),_0x59fb60);}document[_0x4478a8(0x3ee)][_0x4478a8(0x1e1)](_0x44a75f);}function listenForProjectQuizzes(_0x4b9563){const _0x34ec22=_0x2a65e7,_0x1222cd=collection(db,_0x34ec22(0x374)+appId+_0x34ec22(0x78d)),_0x1b1319=query(_0x1222cd,where('projectId','==',_0x4b9563));unsubscribeQuizzesListener=onSnapshot(_0x1b1319,async _0x32856e=>{const _0x2f2735=_0x34ec22;allQuizzes=_0x32856e['docs'][_0x2f2735(0x657)](_0x51ba17=>({'id':_0x51ba17['id'],..._0x51ba17[_0x2f2735(0x1c7)]()})),renderQuizzes();},_0x187e11=>{const _0x1ec217=_0x34ec22;console[_0x1ec217(0x227)](_0x1ec217(0x5a4),_0x187e11),document['getElementById'](_0x1ec217(0x3bd))[_0x1ec217(0x78a)]=_0x1ec217(0x732);});}async function renderQuizzes(){const _0x4b8f66=_0x2a65e7,_0x268bc8=document[_0x4b8f66(0x337)]('project-quizzes-list'),_0x1af58f=document[_0x4b8f66(0x337)](_0x4b8f66(0x3a4))[_0x4b8f66(0x3d3)]['toLowerCase']();let _0x60ff67;currentProjectId===_0x4b8f66(0x1f2)?_0x60ff67=starredQuizzes:_0x60ff67=allQuizzes;let _0x54455f=_0x60ff67[_0x4b8f66(0x3fd)](_0x2f20f4=>_0x2f20f4[_0x4b8f66(0x4f5)]['toLowerCase']()[_0x4b8f66(0x714)](_0x1af58f));_0x54455f['sort']((_0x2a3452,_0x3a04be)=>new Date(_0x3a04be[_0x4b8f66(0x446)])-new Date(_0x2a3452[_0x4b8f66(0x446)]));if(_0x54455f[_0x4b8f66(0x6ea)]===0x0){_0x268bc8[_0x4b8f66(0x78a)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2fd69e={},_0x331947=_0x54455f[_0x4b8f66(0x657)](async _0x134eb5=>{const _0x5e6545=_0x4b8f66,_0x1b033a=collection(db,_0x5e6545(0x374)+appId+_0x5e6545(0x5de)+_0x134eb5['id']+_0x5e6545(0x443)),_0x512fa9=await getDocs(_0x1b033a);_0x2fd69e[_0x134eb5['id']]=_0x512fa9[_0x5e6545(0x4f0)];});await Promise[_0x4b8f66(0x760)](_0x331947);let _0x40d424='';_0x54455f[_0x4b8f66(0x785)](_0x3a4150=>{const _0xeab576=_0x4b8f66,_0x51805b=_0x2fd69e[_0x3a4150['id']]||0x0,_0x346137=_0x3a4150['status']||'active',_0x4302d9=_0x3a4150[_0xeab576(0x61f)]?.[_0xeab576(0x480)]||_0xeab576(0x3ea);let _0x26821c='',_0x5b869c='';const _0x2e6692=new Date();let _0x4d82f9=_0x346137;if(_0x346137===_0xeab576(0x242)){const _0x279a47=_0x3a4150['startTime']?new Date(_0x3a4150[_0xeab576(0x256)]):null,_0x2be7eb=_0x3a4150[_0xeab576(0x630)]?new Date(_0x3a4150[_0xeab576(0x630)]):null;if(_0x2be7eb&&_0x2e6692>_0x2be7eb)_0x4d82f9='inactive';else _0x279a47&&_0x2e6692<_0x279a47?_0x4d82f9=_0xeab576(0x17d):_0x4d82f9=_0xeab576(0x303);}switch(_0x4d82f9){case'inactive':_0x26821c=_0xeab576(0x31f),_0x5b869c=_0xeab576(0x32c);break;case'scheduled_pending':_0x26821c='รอเปิด',_0x5b869c=_0xeab576(0x654);break;case'active':_0x26821c=_0x4302d9!==_0xeab576(0x3ea)?_0xeab576(0x795):_0xeab576(0x536),_0x5b869c='text-green-700\x20bg-green-100';break;default:_0x26821c=_0xeab576(0x4d4),_0x5b869c=_0xeab576(0x14f);break;}let _0x31f4c4='';const _0x51bbda={'day':_0xeab576(0x31e),'month':'2-digit','year':_0xeab576(0x744),'hour':_0xeab576(0x31e),'minute':'2-digit','hour12':![]};if(_0x346137===_0xeab576(0x242)){if(_0x3a4150[_0xeab576(0x256)])_0x31f4c4+=_0xeab576(0x35e)+new Date(_0x3a4150[_0xeab576(0x256)])[_0xeab576(0x3ba)](_0xeab576(0x5d3),_0x51bbda)+'</p>';if(_0x3a4150[_0xeab576(0x630)])_0x31f4c4+=_0xeab576(0x7c5)+new Date(_0x3a4150[_0xeab576(0x630)])['toLocaleString'](_0xeab576(0x5d3),_0x51bbda)+'</p>';}let _0x200539='';if(_0x3a4150['pairedQuizId']){const _0x483472=allQuizzes['find'](_0x287e56=>_0x287e56['id']===_0x3a4150[_0xeab576(0x1d3)]);if(_0x483472){let _0x2d92f5,_0x5d90df;new Date(_0x3a4150[_0xeab576(0x446)])<new Date(_0x483472['createdAt'])?(_0x2d92f5=_0x3a4150['id'],_0x5d90df=_0x483472['id']):(_0x2d92f5=_0x483472['id'],_0x5d90df=_0x3a4150['id']),_0x200539+=_0xeab576(0x36d)+_0x5d90df+_0xeab576(0x727)+_0x2d92f5+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x3a4150['quizMode']===_0xeab576(0xc5)&&(_0x200539+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a4150['id']+_0xeab576(0x5c9));if(_0x3a4150['quizMode']==='pre-test'&&_0x51805b>0x0)_0x200539+=_0xeab576(0x733)+_0x3a4150['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3a4150[_0xeab576(0x1d3)]&&_0x3a4150[_0xeab576(0x7a1)]!==_0xeab576(0xc5)&&_0x51805b>0x0&&(_0x200539+=_0xeab576(0x733)+_0x3a4150['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0xb6725a='';_0x3a4150[_0xeab576(0x1d3)]?_0xb6725a=_0xeab576(0x224)+_0x3a4150['id']+_0xeab576(0x5a7):_0xb6725a=_0xeab576(0x224)+_0x3a4150['id']+_0xeab576(0x782),_0x40d424+=_0xeab576(0x4a0)+_0x3a4150['id']+_0xeab576(0x311)+_0x3a4150[_0xeab576(0x4f5)]+_0xeab576(0x6f3)+_0x3a4150[_0xeab576(0xbb)][_0xeab576(0x6ea)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3a4150[_0xeab576(0x446)])['toLocaleString'](_0xeab576(0x5d3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x51805b+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31f4c4+_0xeab576(0xf9)+_0x5b869c+'\x22>'+_0x26821c+_0xeab576(0x5f4)+_0x3a4150['id']+_0xeab576(0x48c)+_0x3a4150['id']+_0xeab576(0x32a)+(_0x3a4150[_0xeab576(0x99)]?_0xeab576(0x3c9):_0xeab576(0x12c))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x200539+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a4150['id']+_0xeab576(0x763)+_0x3a4150['id']+_0xeab576(0x1ac)+_0x3a4150['id']+_0xeab576(0x58f)+_0x3a4150['id']+_0xeab576(0x53f)+_0x3a4150['id']+_0xeab576(0x581)+_0x3a4150['id']+_0xeab576(0x719)+_0x3a4150['id']+_0xeab576(0x664)+_0x3a4150['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a4150['id']+_0xeab576(0x3bb)+_0x3a4150['id']+_0xeab576(0x92)+_0xb6725a+_0xeab576(0x503)+_0x3a4150['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a4150['id']+_0xeab576(0x3fb)+_0x3a4150['id']+_0xeab576(0x9a)+_0x3a4150['id']+_0xeab576(0x72f)+_0x3a4150['id']+'\x22\x20data-topic=\x22'+_0x3a4150['topic']+_0xeab576(0x6cc);}),_0x268bc8['innerHTML']=_0x40d424,document[_0x4b8f66(0x4a9)](_0x4b8f66(0x1a7))[_0x4b8f66(0x785)](_0xe22917=>{const _0x44b5ab=_0x4b8f66;_0xe22917[_0x44b5ab(0x60b)](_0x44b5ab(0x78f),()=>{const _0xa4a64=_0x44b5ab,_0x3b44b5=_0xe22917[_0xa4a64(0x301)][_0xa4a64(0x756)];showQuizDetailView(_0x3b44b5);});});}async function handleUnpairQuiz(_0x59e075){const _0x3fe623=_0x2a65e7,_0x7383c6=allQuizzes['find'](_0x2cda73=>_0x2cda73['id']===_0x59e075);if(!_0x7383c6||!_0x7383c6['pairedQuizId']){showMessage(_0x3fe623(0x614));return;}showConfirmation(_0x3fe623(0x36e),async()=>{const _0x226b3d=_0x3fe623;try{const _0x942c6e=doc(db,_0x226b3d(0x374)+appId+'/public/data/quizzes',_0x59e075),_0x4ae2fc=doc(db,_0x226b3d(0x374)+appId+_0x226b3d(0x78d),_0x7383c6['pairedQuizId']),_0x5cf6ba=writeBatch(db);_0x5cf6ba[_0x226b3d(0x122)](_0x942c6e,{'pairedQuizId':null}),_0x5cf6ba[_0x226b3d(0x122)](_0x4ae2fc,{'pairedQuizId':null}),await _0x5cf6ba[_0x226b3d(0x182)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x3dd08b){console[_0x226b3d(0x227)](_0x226b3d(0x4bf),_0x3dd08b),showMessage(_0x226b3d(0x249));}});}function formatAndPrintLessonPlan(_0x3b7a24,_0x125c7f){const _0x19ccf0=_0x2a65e7,_0x173713=window[_0x19ccf0(0x526)]('',_0x19ccf0(0x51c)),_0x37bd23=_0x19ccf0(0x274)+_0x125c7f[_0x19ccf0(0x4f5)]+_0x19ccf0(0x1fb)+_0x125c7f['topic']+_0x19ccf0(0x19c)+_0x3b7a24[_0x19ccf0(0x680)]['map'](_0x55b2c2=>'<li>'+_0x55b2c2+_0x19ccf0(0x2fa))[_0x19ccf0(0x57e)]('')+_0x19ccf0(0x636)+_0x3b7a24[_0x19ccf0(0x7c1)]+_0x19ccf0(0x1b0)+_0x3b7a24[_0x19ccf0(0x177)][_0x19ccf0(0x657)](_0x5e6ef0=>_0x19ccf0(0x338)+_0x5e6ef0[_0x19ccf0(0x358)]+_0x19ccf0(0x65c)+_0x5e6ef0[_0x19ccf0(0x34c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x19ccf0(0x62b);_0x173713[_0x19ccf0(0xc9)]['write'](_0x37bd23),_0x173713['document'][_0x19ccf0(0x4ff)](),_0x173713[_0x19ccf0(0x659)]=function(){setTimeout(()=>{const _0x6c12e8=_0x2fd9;_0x173713[_0x6c12e8(0x553)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x324871){const _0xb22232=_0x2a65e7;showMessage(_0xb22232(0x178));try{const _0x1e3c5a=doc(db,'artifacts/'+appId+_0xb22232(0x78d),_0x324871),_0xa8d960=await getDoc(_0x1e3c5a);if(!_0xa8d960[_0xb22232(0x5b6)]())throw new Error(_0xb22232(0x4a2));const _0x57e2f5={'id':_0x324871,..._0xa8d960['data']()},_0x49a118=collection(db,_0xb22232(0x374)+appId+_0xb22232(0x78d),_0x324871,_0xb22232(0x273)),_0xf386e8=await getDocs(_0x49a118),_0x28f27c=_0xf386e8[_0xb22232(0x7dc)][_0xb22232(0x657)](_0x1be876=>_0x1be876[_0xb22232(0x1c7)]());if(_0x28f27c[_0xb22232(0x6ea)]===0x0)throw new Error(_0xb22232(0x5e1));const _0x22776b=calculateItemAnalysis(_0x57e2f5,_0x28f27c)['perQuestionStats'],_0xb48c44=calculateDistractorAnalysis(_0x57e2f5,_0x28f27c),_0x3d0c26=_0x5ba3f9=>{const _0x25382a=_0xb22232;if(!_0x5ba3f9)return'';return _0x5ba3f9['replace'](/\\/g,'\x5c\x5c')[_0x25382a(0x700)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x3f71e4='สรุปผลการวิเคราะห์:\x5cn';_0x57e2f5[_0xb22232(0xbb)][_0xb22232(0x785)]((_0x58f39a,_0x2d9d85)=>{const _0x221c23=_0xb22232,_0x4694bb=_0x22776b[_0x2d9d85]?.['p'][_0x221c23(0x2bd)](0x2)||_0x221c23(0x20f),_0x309904=_0x22776b[_0x2d9d85]?.['r'][_0x221c23(0x2bd)](0x2)||_0x221c23(0x20f),_0x252736=_0x3d0c26(_0x58f39a[_0x221c23(0x55d)]||_0x58f39a['stem']);_0x3f71e4+=_0x221c23(0x481)+(_0x2d9d85+0x1)+'\x20(p='+_0x4694bb+_0x221c23(0x45f)+_0x309904+_0x221c23(0x149)+_0x252736+'\x5cn';if(_0x58f39a[_0x221c23(0x4f9)]===_0x221c23(0x45b)&&_0xb48c44[_0x2d9d85]){const _0x701624=_0xb48c44[_0x2d9d85],_0x4af7af=Object[_0x221c23(0x668)](_0x701624)['filter'](_0x368faa=>parseInt(_0x368faa)!==_0x58f39a[_0x221c23(0x539)])[_0x221c23(0x48f)]((_0x224394,_0x3f8cc0)=>_0x701624[_0x3f8cc0][_0x221c23(0x329)]-_0x701624[_0x224394][_0x221c23(0x329)])[0x0];if(_0x4af7af&&_0x701624[_0x4af7af][_0x221c23(0x329)]>0x0){const _0x17f8ba=_0x3d0c26(_0x701624[_0x4af7af][_0x221c23(0x47c)]);_0x3f71e4+=_0x221c23(0x6a4)+_0x17f8ba+_0x221c23(0x43e);}}});const _0x5ce6db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x57e2f5[_0xb22232(0x4f5)]+_0xb22232(0x55b)+_0x3f71e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x356cf4={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0xb22232(0x11e)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0xb22232(0x27d),'items':{'type':_0xb22232(0x104),'properties':{'question':{'type':_0xb22232(0x11e)},'solution':{'type':'STRING'}}}}},'required':[_0xb22232(0x680),_0xb22232(0x7c1),'practiceProblems']},_0x1f411e=await callAnalysisApi(_0x5ce6db,_0x356cf4);await updateDoc(_0x1e3c5a,{'lessonPlan':_0x1f411e});const _0x42d0ac=_0xb22232(0x1b4)+_0x57e2f5[_0xb22232(0x4f5)]+_0xb22232(0x7e8)+_0x1f411e['learningGaps']['map'](_0x53dd29=>_0xb22232(0x285)+_0x53dd29+_0xb22232(0x2fa))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1f411e['teachingContent']+_0xb22232(0x5e5)+_0x1f411e[_0xb22232(0x177)]['map'](_0x32d56e=>_0xb22232(0x801)+_0x32d56e[_0xb22232(0x358)]+_0xb22232(0x3e9)+_0x32d56e['solution']+_0xb22232(0x4c7))[_0xb22232(0x57e)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xb22232(0x337)](_0xb22232(0x1d8))[_0xb22232(0x8c)]=_0xb22232(0x151)+_0x57e2f5[_0xb22232(0x4f5)],document[_0xb22232(0x337)]('lesson-plan-content')[_0xb22232(0x78a)]=_0x42d0ac,document[_0xb22232(0x337)](_0xb22232(0x2ee))[_0xb22232(0x51a)][_0xb22232(0x5a5)]('hidden');if(window[_0xb22232(0x7e6)])MathJax[_0xb22232(0x1a9)]();messageModal[_0xb22232(0x51a)][_0xb22232(0x57f)]('hidden');}catch(_0x281204){console['error'](_0xb22232(0x73b),_0x281204),showMessage(_0xb22232(0x570)+_0x281204['message']);}}async function handleDuplicateQuiz(_0x44b9ce){const _0x32a6fa=_0x2a65e7;try{const _0x48e03c=doc(db,_0x32a6fa(0x374)+appId+'/public/data/quizzes',_0x44b9ce),_0x1f26c1=await getDoc(_0x48e03c);if(_0x1f26c1[_0x32a6fa(0x5b6)]()){const _0x5cd3d8=_0x1f26c1[_0x32a6fa(0x1c7)]();let _0x4d6089='',_0x583afc=_0x32a6fa(0x5cf),_0x2e0380=null;if(_0x5cd3d8[_0x32a6fa(0x7a1)]===_0x32a6fa(0xc5)){let _0x30510c=_0x5cd3d8['topic'][_0x32a6fa(0x700)](_0x32a6fa(0x76e),'')[_0x32a6fa(0x65d)]();_0x4d6089=_0x32a6fa(0x5ea)+_0x30510c,_0x583afc=_0x32a6fa(0x1ca),_0x2e0380=_0x44b9ce;}else _0x4d6089=_0x32a6fa(0x731)+_0x5cd3d8['topic'];const _0x1510dd={..._0x5cd3d8,'topic':_0x4d6089,'createdAt':new Date()[_0x32a6fa(0x1a1)](),'quizMode':_0x583afc,'pairedQuizId':_0x2e0380};let _0x13a695;while(!![]){_0x13a695=Math[_0x32a6fa(0x20b)](0x3e8+Math[_0x32a6fa(0x418)]()*0x2328)[_0x32a6fa(0x42c)]();const _0x3a29c8=await getDoc(doc(db,_0x32a6fa(0x374)+appId+'/public/data/quizzes',_0x13a695));if(!_0x3a29c8[_0x32a6fa(0x5b6)]())break;}const _0x52cf92=doc(db,_0x32a6fa(0x374)+appId+_0x32a6fa(0x78d),_0x13a695);await setDoc(_0x52cf92,_0x1510dd),_0x1510dd[_0x32a6fa(0x7a1)]===_0x32a6fa(0x1ca)&&await updateDoc(_0x48e03c,{'pairedQuizId':_0x13a695}),showMessage(_0x32a6fa(0x142));}else throw new Error(_0x32a6fa(0x73e));}catch(_0x54138a){console[_0x32a6fa(0x227)](_0x32a6fa(0x24d),_0x54138a),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x50a915,_0x3186f5=!![]){const _0x422e1d=_0x2a65e7;try{const _0x5d9965=writeBatch(db),_0x4c771b=collection(db,_0x422e1d(0x374)+appId+_0x422e1d(0x5de)+_0x50a915+'/submissions'),_0x2c0deb=await getDocs(_0x4c771b);_0x2c0deb[_0x422e1d(0x785)](_0x2879c9=>{_0x5d9965['delete'](doc(_0x4c771b,_0x2879c9['id']));});const _0x124cff=doc(db,'artifacts/'+appId+_0x422e1d(0x78d),_0x50a915);_0x5d9965[_0x422e1d(0x6dd)](_0x124cff),await _0x5d9965[_0x422e1d(0x182)](),_0x3186f5&&showMessage(_0x422e1d(0x24b));}catch(_0x5c6600){console[_0x422e1d(0x227)](_0x422e1d(0x1f5),_0x5c6600),_0x3186f5&&showMessage(_0x422e1d(0x323));}}async function showQuizDetailView(_0x52564b){const _0xfeea65=_0x2a65e7;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xfeea65(0x36f));try{const _0x38888b=doc(db,'artifacts/'+appId+_0xfeea65(0x78d),_0x52564b),_0x4131ac=await getDoc(_0x38888b);if(!_0x4131ac['exists']()){showMessage(_0xfeea65(0x4a2));return;}const _0xb5dd29={'id':_0x4131ac['id'],..._0x4131ac['data']()};currentQuizData=_0xb5dd29;const _0x301d9a=doc(db,_0xfeea65(0x374)+appId+_0xfeea65(0x174),_0xb5dd29['projectId']),_0x4fd4e7=await getDoc(_0x301d9a);_0x4fd4e7[_0xfeea65(0x5b6)]()?(currentProjectData=_0x4fd4e7['data'](),currentProjectId=_0xb5dd29['projectId']):(currentProjectData={'students':[]},currentProjectId=_0xb5dd29[_0xfeea65(0x658)]);document['getElementById']('results-quiz-title')['textContent']=_0xb5dd29['topic'],document[_0xfeea65(0x337)](_0xfeea65(0x6cf))['textContent']=_0x52564b;const _0x5e19ce=collection(db,_0xfeea65(0x374)+appId+_0xfeea65(0x78d),_0x52564b,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x5e19ce,_0x289d84=>{const _0x2c3afe=_0xfeea65,_0x8ebf09=_0x289d84[_0x2c3afe(0x7dc)][_0x2c3afe(0x657)](_0x1df600=>({'id':_0x1df600['id'],..._0x1df600['data']()}));currentSubmissions=_0x8ebf09,renderBehaviorLog(_0x8ebf09),renderAnswerGrid(currentProjectData[_0x2c3afe(0x2f3)],_0x8ebf09,_0xb5dd29),renderAnalytics(_0xb5dd29,_0x8ebf09),renderQuizResultsTable(currentProjectData[_0x2c3afe(0x2f3)],_0x8ebf09,_0xb5dd29),renderQuizLeaderboard(_0x8ebf09,_0xb5dd29,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x1e22f2){console['error'](_0xfeea65(0x724),_0x1e22f2),showMessage(_0xfeea65(0x405));}}function renderAnswerGrid(_0x163545,_0x313cca,_0x3c1cc1){const _0xdb369=_0x2a65e7,_0x20db33=document['getElementById'](_0xdb369(0x4db));if(!_0x20db33)return;if(!_0x163545||_0x163545[_0xdb369(0x6ea)]===0x0){_0x20db33[_0xdb369(0x78a)]=_0xdb369(0x60c);return;}const _0x976e4=_0x3c1cc1[_0xdb369(0xbb)],_0x5c3006=_0x313cca[_0xdb369(0x5fb)]((_0x21d852,_0x1753b7)=>{const _0x231dc1=_0xdb369;return _0x21d852[_0x1753b7[_0x231dc1(0x582)]]=_0x1753b7,_0x21d852;},{}),_0x986df4=_0x1e9faa=>String[_0xdb369(0x5f2)](0x41+_0x1e9faa),_0x1308d6=_0xf7eb51=>{const _0x3909e2=_0xdb369,_0x457e37=_0xf7eb51[_0x3909e2(0x4f9)]||_0x3c1cc1['quizType'];switch(_0x457e37){case _0x3909e2(0x45b):return _0xf7eb51[_0x3909e2(0x11a)]&&_0xf7eb51[_0x3909e2(0x11a)][_0x3909e2(0x6ea)]>_0xf7eb51[_0x3909e2(0x539)]?_0x986df4(_0xf7eb51['correctAnswerIndex']):'-';case'true_false':return _0xf7eb51[_0x3909e2(0x685)]?_0x3909e2(0x7a6):'ไม่ใช่';case _0x3909e2(0x3b4):return _0xf7eb51[_0x3909e2(0x457)]||'-';case _0x3909e2(0x2cc):return _0x3909e2(0x7db);default:return'-';}},_0x4ab201=(_0x5ad401,_0x149447)=>{const _0xd90d51=_0xdb369;if(_0x149447[_0xd90d51(0x7b2)]===null||_0x149447['answer']===undefined)return'-';const _0x42af3d=_0x5ad401['questionType']||_0x3c1cc1['quizType'];switch(_0x42af3d){case _0xd90d51(0x45b):const _0x389c68=_0x5ad401['options'][_0xd90d51(0x688)](_0x5f54ce=>_0x5f54ce===_0x149447[_0xd90d51(0x7d0)]);return _0x389c68!==-0x1?_0x986df4(_0x389c68):_0x149447[_0xd90d51(0x7d0)]||'-';case _0xd90d51(0x4f6):return _0x149447[_0xd90d51(0x7b2)]==='true'||_0x149447[_0xd90d51(0x7b2)]===!![]?'ใช่':_0xd90d51(0x11f);default:return _0x149447[_0xd90d51(0x7b2)];}};let _0x1ffc0b=_0xdb369(0x49b)+_0x976e4[_0xdb369(0x657)]((_0x1816af,_0x4a89b7)=>_0xdb369(0x1bf)+(_0x4a89b7+0x1)+_0xdb369(0xcc))[_0xdb369(0x57e)]('')+_0xdb369(0x3f6)+_0x976e4[_0xdb369(0x657)](_0x279f63=>_0xdb369(0x344)+_0x1308d6(_0x279f63)+'</td>')[_0xdb369(0x57e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x163545[_0xdb369(0x785)](_0x1cd6a3=>{const _0x787849=_0xdb369;_0x1ffc0b+=_0x787849(0xd8),_0x1ffc0b+=_0x787849(0xd7)+_0x1cd6a3+_0x787849(0x4b6);const _0x9105f7=_0x5c3006[_0x1cd6a3];if(_0x9105f7){const _0x113507=_0x9105f7[_0x787849(0x7b7)][_0x9105f7['attempts'][_0x787849(0x6ea)]-0x1];_0x976e4[_0x787849(0x785)]((_0x81d51f,_0x3226e7)=>{const _0x244e0c=_0x787849,_0x519d92=_0x113507[_0x244e0c(0x4ce)]['find'](_0x51b3b5=>_0x51b3b5[_0x244e0c(0x40a)]===(_0x81d51f[_0x244e0c(0x514)]||_0x81d51f[_0x244e0c(0x55d)]));if(_0x519d92){let _0x281d71=![];const _0x39e804=_0x81d51f[_0x244e0c(0x4f9)]||_0x3c1cc1[_0x244e0c(0x58a)];if(_0x519d92['answer']!==null&&_0x519d92[_0x244e0c(0x7b2)]!==undefined)switch(_0x39e804){case _0x244e0c(0x45b):const _0x421723=_0x81d51f[_0x244e0c(0x11a)][_0x81d51f[_0x244e0c(0x539)]];_0x281d71=_0x519d92[_0x244e0c(0x7d0)]===_0x421723;break;case _0x244e0c(0x4f6):const _0x575fee=_0x519d92[_0x244e0c(0x7b2)]===!![]||_0x519d92['answer']==='true';_0x281d71=_0x575fee===_0x81d51f[_0x244e0c(0x685)];break;case _0x244e0c(0x3b4):_0x281d71=_0x519d92[_0x244e0c(0x7b2)]===_0x81d51f[_0x244e0c(0x457)];break;default:_0x281d71=_0x519d92[_0x244e0c(0x1da)];break;}const _0x3372e1=_0x281d71?_0x244e0c(0x487):_0x244e0c(0x694);_0x1ffc0b+=_0x244e0c(0xc1)+_0x3372e1+'\x22>'+_0x4ab201(_0x81d51f,_0x519d92)+_0x244e0c(0x4b6);}else _0x1ffc0b+=_0x244e0c(0x240);});}else _0x1ffc0b+=_0x976e4['map'](()=>_0x787849(0x5d5))['join']('');_0x1ffc0b+=_0x787849(0x7c7);}),_0x1ffc0b+=_0xdb369(0x596),_0x20db33[_0xdb369(0x78a)]=_0x1ffc0b;}function renderQuizResultsTable(_0x3f7809,_0xbf1ee4,_0x14e7c0){const _0x584b56=_0x2a65e7,_0x3f8962=_0xbf1ee4[_0x584b56(0x5fb)]((_0x5f2001,_0x2de612)=>{const _0x55ad91=_0x584b56;return _0x5f2001[_0x2de612[_0x55ad91(0x582)]]=_0x2de612,_0x5f2001;},{}),_0x12d1fb=document['querySelector'](_0x584b56(0x7f4));_0x12d1fb&&!_0x12d1fb['innerHTML'][_0x584b56(0x714)](_0x584b56(0x43a))&&(_0x12d1fb[_0x584b56(0x78a)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x222444=document['getElementById'](_0x584b56(0x433));if(!_0x3f7809||_0x3f7809[_0x584b56(0x6ea)]===0x0){_0x222444[_0x584b56(0x78a)]=_0x584b56(0x2ff);return;}const _0x1b08ce=_0x14e7c0['isRemedial']===!![],_0x1bde09=_0x14e7c0[_0x584b56(0x61f)]?.['passingScore']??-0x1;let _0x59f8f6='';_0x3f7809[_0x584b56(0x785)](_0x5bfff4=>{const _0x636836=_0x584b56,_0x2a8ea4=_0x3f8962[_0x5bfff4];let _0x4ef50b=_0x636836(0x3d7),_0x15e823=_0x636836(0x13e)+(_0x1b08ce?_0x636836(0x63a):_0x636836(0x41b))+'\x22>'+(_0x1b08ce?_0x636836(0x588):'สอบปกติ')+_0x636836(0x76f);if(_0x2a8ea4){let _0x5179a8=_0x1b08ce?_0x2a8ea4['bestScore']===_0x2a8ea4[_0x636836(0x31b)]:_0x1bde09!==-0x1&&_0x2a8ea4['bestScore']>=_0x1bde09;if(_0x1b08ce||_0x1bde09!==-0x1){const _0x32b213=_0x5179a8?_0x636836(0x13b):'bg-red-100\x20text-red-800',_0x2b5392=_0x5179a8?_0x636836(0x56d):_0x636836(0x336);_0x4ef50b=_0x636836(0x505)+_0x32b213+'\x22>'+_0x2b5392+_0x636836(0x76f);}const _0x68c63b=_0x636836(0x3f5)+(_0x2a8ea4[_0x636836(0x7b7)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x59f8f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5bfff4+_0x636836(0x4a4)+_0x2a8ea4[_0x636836(0x585)]+_0x636836(0x6c7)+_0x2a8ea4[_0x636836(0x31b)]+_0x636836(0x322)+_0x4ef50b+_0x636836(0x789)+_0x15e823+_0x636836(0x63d)+_0x2a8ea4[_0x636836(0x406)]+_0x636836(0x6c7)+_0x2a8ea4[_0x636836(0x31b)]+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x2a8ea4['latestScore']+_0x636836(0x6c7)+_0x2a8ea4[_0x636836(0x31b)]+_0x636836(0x759)+(_0x2a8ea4[_0x636836(0x784)]||0x0)+_0x636836(0x322)+_0x68c63b+_0x636836(0x2b9)+new Date(_0x2a8ea4[_0x636836(0x637)])[_0x636836(0x3ba)]('th-TH')+_0x636836(0x1d7)+_0x5bfff4+_0x636836(0x7d8);}else{const _0x55fac4=_0x636836(0x33e);_0x59f8f6+=_0x636836(0x423)+_0x5bfff4+_0x636836(0x5ee)+_0x15e823+_0x636836(0x552)+_0x55fac4+_0x636836(0x10a);}}),_0x222444[_0x584b56(0x78a)]=_0x59f8f6;}async function confirmRenameQuiz(){const _0x495669=_0x2a65e7,_0x122116=document[_0x495669(0x337)](_0x495669(0x38a))['value'][_0x495669(0x65d)]();if(!_0x122116){showMessage(_0x495669(0x65e));return;}if(!actionTargetId)return;const _0x401b10=doc(db,_0x495669(0x374)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x401b10,{'topic':_0x122116}),showMessage(_0x495669(0x504)),renameQuizModal[_0x495669(0x51a)][_0x495669(0x57f)](_0x495669(0x7b3)),actionTargetId=null;}catch(_0x18d3c7){console['error'](_0x495669(0x8f),_0x18d3c7),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x2176d3){const _0x22f7d3=_0x2a65e7;actionTargetId=_0x2176d3;const _0x3ae654=document[_0x22f7d3(0x337)](_0x22f7d3(0x62f));_0x3ae654['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x22f7d3(0x51a)][_0x22f7d3(0x5a5)]('hidden');try{const _0xbafee9=collection(db,_0x22f7d3(0x374)+appId+_0x22f7d3(0x174)),_0x3edf59=await getDocs(_0xbafee9),_0x220022=_0x3edf59[_0x22f7d3(0x7dc)][_0x22f7d3(0x657)](_0x39fc27=>({'id':_0x39fc27['id'],..._0x39fc27['data']()})),_0x82295c=_0x220022[_0x22f7d3(0x3fd)](_0x34dbf4=>_0x34dbf4['id']!==currentProjectId);if(_0x82295c[_0x22f7d3(0x6ea)]===0x0){_0x3ae654[_0x22f7d3(0x78a)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x22f7d3(0x337)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x3ae654[_0x22f7d3(0x78a)]=_0x82295c[_0x22f7d3(0x657)](_0x586e30=>_0x22f7d3(0x453)+_0x586e30['id']+'\x22>'+_0x586e30[_0x22f7d3(0x4ad)]+_0x22f7d3(0x4b4))['join'](''),document['getElementById'](_0x22f7d3(0x72))[_0x22f7d3(0x7d9)]=![];}catch(_0x4d2ad9){console[_0x22f7d3(0x227)](_0x22f7d3(0x4ef),_0x4d2ad9),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0x22f7d3(0x57f)]('hidden');}}async function confirmMoveQuiz(){const _0x2380dd=_0x2a65e7,_0x443f52=document[_0x2380dd(0x337)](_0x2380dd(0x62f))[_0x2380dd(0x3d3)];if(!_0x443f52){showMessage(_0x2380dd(0x27c));return;}if(!actionTargetId)return;const _0x40c27b=doc(db,_0x2380dd(0x374)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x40c27b,{'projectId':_0x443f52}),showMessage(_0x2380dd(0x6f7)),moveQuizModal[_0x2380dd(0x51a)][_0x2380dd(0x57f)](_0x2380dd(0x7b3)),actionTargetId=null;}catch(_0x55cf0f){console[_0x2380dd(0x227)](_0x2380dd(0x153),_0x55cf0f),showMessage(_0x2380dd(0x477));}}async function handleQuizSettings(_0x3df241){const _0x5ed5f5=_0x2a65e7;actionTargetId=_0x3df241;const _0x5251a5=doc(db,_0x5ed5f5(0x374)+appId+_0x5ed5f5(0x78d),_0x3df241);try{const _0x2d9a84=await getDoc(_0x5251a5);if(_0x2d9a84['exists']()){const _0x33fa10=_0x2d9a84[_0x5ed5f5(0x1c7)](),_0x4fc850=_0x33fa10['settings']||{},_0x56148f=_0x33fa10[_0x5ed5f5(0xbb)][_0x5ed5f5(0x6ea)];document['getElementById']('modal-shuffle-select')['value']=_0x4fc850[_0x5ed5f5(0xcd)]||_0x5ed5f5(0x3ea),document[_0x5ed5f5(0x337)](_0x5ed5f5(0x389))[_0x5ed5f5(0x3d3)]=_0x4fc850[_0x5ed5f5(0x20d)]||_0x5ed5f5(0x38c),document[_0x5ed5f5(0x337)](_0x5ed5f5(0x381))[_0x5ed5f5(0x3d3)]=_0x4fc850[_0x5ed5f5(0x480)]||'none',document[_0x5ed5f5(0x337)]('modal-timer-duration-input')[_0x5ed5f5(0x3d3)]=_0x4fc850['timerDuration']||0xa,document[_0x5ed5f5(0x337)](_0x5ed5f5(0x5c2))['value']=_0x4fc850['passingScore']||Math[_0x5ed5f5(0x20b)](_0x56148f/0x2),document[_0x5ed5f5(0x337)]('modal-passing-score-input')[_0x5ed5f5(0x23f)]=_0x56148f,document[_0x5ed5f5(0x337)](_0x5ed5f5(0xb4))[_0x5ed5f5(0x635)]=_0x4fc850[_0x5ed5f5(0x2bf)]||![],document[_0x5ed5f5(0x337)](_0x5ed5f5(0x206))[_0x5ed5f5(0x635)]=_0x4fc850[_0x5ed5f5(0x1cd)]||![],document[_0x5ed5f5(0x337)](_0x5ed5f5(0x381))[_0x5ed5f5(0x307)](new Event(_0x5ed5f5(0x139))),quizSettingsModal['classList'][_0x5ed5f5(0x5a5)](_0x5ed5f5(0x7b3));}else showMessage(_0x5ed5f5(0x4a2));}catch(_0x122597){console[_0x5ed5f5(0x227)](_0x5ed5f5(0x23a),_0x122597),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x2f8631=_0x2a65e7;if(!actionTargetId)return;const _0x102d37=doc(db,_0x2f8631(0x374)+appId+_0x2f8631(0x78d),actionTargetId),_0x28b35e={'shuffle':document[_0x2f8631(0x337)]('modal-shuffle-select')[_0x2f8631(0x3d3)],'resultsDisplay':document[_0x2f8631(0x337)](_0x2f8631(0x389))[_0x2f8631(0x3d3)],'timerMode':document[_0x2f8631(0x337)](_0x2f8631(0x381))[_0x2f8631(0x3d3)],'timerDuration':parseInt(document[_0x2f8631(0x337)](_0x2f8631(0xf3))[_0x2f8631(0x3d3)])||0xa,'passingScore':parseInt(document[_0x2f8631(0x337)](_0x2f8631(0x5c2))[_0x2f8631(0x3d3)])||0x0,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x2f8631(0x3d3)])||0x0,'isAdaptive':document[_0x2f8631(0x337)](_0x2f8631(0xb4))[_0x2f8631(0x635)],'loopUntilPass':document[_0x2f8631(0x337)](_0x2f8631(0x206))[_0x2f8631(0x635)]};try{await updateDoc(_0x102d37,{'settings':_0x28b35e}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x2f8631(0x57f)](_0x2f8631(0x7b3)),actionTargetId=null;}catch(_0x4c93a2){console[_0x2f8631(0x227)](_0x2f8631(0x5af),_0x4c93a2),showMessage(_0x2f8631(0x191));}}async function handleQuizStatus(_0x371ba9){const _0x612596=_0x2a65e7;actionTargetId=_0x371ba9;const _0x21b7df=doc(db,_0x612596(0x374)+appId+'/public/data/quizzes',_0x371ba9);try{const _0x10bff2=await getDoc(_0x21b7df);if(_0x10bff2[_0x612596(0x5b6)]()){const _0x12eead=_0x10bff2[_0x612596(0x1c7)](),_0x5ae701=_0x12eead[_0x612596(0x354)]||_0x612596(0x303),_0x34a19c=document[_0x612596(0x337)](_0x612596(0x3d6)),_0x1359bb=document[_0x612596(0x337)](_0x612596(0x5d0)),_0x28313d=document['getElementById'](_0x612596(0xc6));let _0x131849=_0x612596(0x40f)+(_0x5ae701===_0x612596(0x303)?_0x612596(0x635):'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x5ae701===_0x612596(0x617)?_0x612596(0x635):'')+_0x612596(0x7f6)+(_0x5ae701===_0x612596(0x242)?_0x612596(0x635):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x34a19c[_0x612596(0x78a)]=_0x131849;const _0x344594=_0x5ae701===_0x612596(0x242);_0x1359bb[_0x612596(0x51a)][_0x612596(0x726)](_0x612596(0x7b3),!_0x344594),_0x28313d['classList'][_0x612596(0x726)]('hidden',!_0x344594),document['getElementById'](_0x612596(0x11d))[_0x612596(0x3d3)]=_0x12eead['startTime']?_0x12eead[_0x612596(0x256)]['substring'](0x0,0x10):'',document[_0x612596(0x337)](_0x612596(0x390))[_0x612596(0x3d3)]=_0x12eead[_0x612596(0x630)]?_0x12eead[_0x612596(0x630)]['substring'](0x0,0x10):'',_0x34a19c['querySelectorAll'](_0x612596(0x341))[_0x612596(0x785)](_0x44401c=>{const _0x1f157b=_0x612596;_0x44401c[_0x1f157b(0x60b)](_0x1f157b(0x139),_0x159fb5=>{const _0x4b6122=_0x1f157b,_0x2a846f=_0x159fb5[_0x4b6122(0x706)]['value']==='schedule';_0x1359bb[_0x4b6122(0x51a)][_0x4b6122(0x726)](_0x4b6122(0x7b3),!_0x2a846f),_0x28313d['classList'][_0x4b6122(0x726)]('hidden',!_0x2a846f);});}),quizStatusModal[_0x612596(0x51a)][_0x612596(0x5a5)](_0x612596(0x7b3));}}catch(_0x448332){console[_0x612596(0x227)]('Error\x20fetching\x20quiz\x20status:',_0x448332),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x3ef2cf=_0x2a65e7;if(!actionTargetId)return;const _0x551986=doc(db,_0x3ef2cf(0x374)+appId+_0x3ef2cf(0x78d),actionTargetId),_0x2f0e93=document[_0x3ef2cf(0x66a)](_0x3ef2cf(0x6a0));if(!_0x2f0e93){showMessage(_0x3ef2cf(0x3c2));return;}const _0x3c1b43=_0x2f0e93[_0x3ef2cf(0x3d3)];let _0x3c3490={};if(_0x3c1b43===_0x3ef2cf(0x303)||_0x3c1b43===_0x3ef2cf(0x617))_0x3c3490={'status':_0x3c1b43,'startTime':null,'endTime':null};else{if(_0x3c1b43===_0x3ef2cf(0x21a)){const _0x102805=document[_0x3ef2cf(0x337)]('quiz-start-time')[_0x3ef2cf(0x3d3)],_0x367ac4=document[_0x3ef2cf(0x337)](_0x3ef2cf(0x390))[_0x3ef2cf(0x3d3)];if(!_0x102805&&!_0x367ac4){showMessage(_0x3ef2cf(0x7bb));return;}_0x3c3490={'status':_0x3ef2cf(0x242),'startTime':_0x102805?new Date(_0x102805)[_0x3ef2cf(0x1a1)]():null,'endTime':_0x367ac4?new Date(_0x367ac4)[_0x3ef2cf(0x1a1)]():null};}}try{await updateDoc(_0x551986,_0x3c3490),showMessage(_0x3ef2cf(0x32f)),quizStatusModal[_0x3ef2cf(0x51a)][_0x3ef2cf(0x57f)](_0x3ef2cf(0x7b3)),actionTargetId=null;}catch(_0x51f722){console['error']('Error\x20updating\x20quiz\x20status:',_0x51f722),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x136871){const _0x3c515c=_0x2a65e7,_0x29d8e3=collection(db,_0x3c515c(0x374)+appId+'/public/data/projects/'+_0x136871+_0x3c515c(0x5ff));unsubscribeStudentProfilesListener=onSnapshot(_0x29d8e3,_0x4cd1b6=>{const _0x5ee827=_0x3c515c,_0x3c78b8=_0x4cd1b6[_0x5ee827(0x7dc)][_0x5ee827(0x657)](_0x56a649=>_0x56a649[_0x5ee827(0x1c7)]());renderLeaderboard(_0x3c78b8,'leaderboard-table-body');},_0x4664ed=>{const _0x4e0f83=_0x3c515c;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x4664ed),document[_0x4e0f83(0x337)](_0x4e0f83(0x737))['innerHTML']=_0x4e0f83(0x205);});}function renderLeaderboard(_0x48844e,_0x155938){const _0x464f3d=_0x2a65e7,_0x179542=document[_0x464f3d(0x337)](_0x155938);if(!_0x48844e||_0x48844e[_0x464f3d(0x6ea)]===0x0){_0x179542[_0x464f3d(0x78a)]=_0x464f3d(0x360);return;}_0x48844e[_0x464f3d(0x48f)]((_0x5c8a38,_0x278b6c)=>{const _0x15e587=_0x464f3d,_0x35383b=(_0x278b6c[_0x15e587(0x793)]||0x0)-(_0x5c8a38[_0x15e587(0x793)]||0x0);if(_0x35383b!==0x0)return _0x35383b;const _0x4fec5c=(_0x278b6c[_0x15e587(0x6ac)]?.[_0x15e587(0x6c2)]||0x0)-(_0x5c8a38[_0x15e587(0x6ac)]?.[_0x15e587(0x6c2)]||0x0);if(_0x4fec5c!==0x0)return _0x4fec5c;const _0x2dc716=(_0x278b6c[_0x15e587(0x6ac)]?.[_0x15e587(0x1d1)]||0x0)-(_0x5c8a38[_0x15e587(0x6ac)]?.[_0x15e587(0x1d1)]||0x0);if(_0x2dc716!==0x0)return _0x2dc716;const _0x340a44=(_0x278b6c[_0x15e587(0x6ac)]?.['perfect_score']||0x0)-(_0x5c8a38[_0x15e587(0x6ac)]?.[_0x15e587(0xef)]||0x0);if(_0x340a44!==0x0)return _0x340a44;const _0x556f5b=(_0x278b6c['badgesCount']?.[_0x15e587(0x15b)]||0x0)-(_0x5c8a38[_0x15e587(0x6ac)]?.['quick_thinker']||0x0);if(_0x556f5b!==0x0)return _0x556f5b;return _0x5c8a38[_0x15e587(0x582)][_0x15e587(0x33b)](_0x278b6c[_0x15e587(0x582)],'th');});let _0xe9f57a='';_0x48844e[_0x464f3d(0x785)]((_0x259869,_0x195d2b)=>{const _0xa51d31=_0x464f3d,_0x5d7101=_0x195d2b+0x1,_0x11e00f=_0x259869['badgesCount']||{};let _0x1a9868='';const _0x1e9134=[_0xa51d31(0x6c2),_0xa51d31(0xef),_0xa51d31(0x1d1),_0xa51d31(0x15b)];_0x1e9134[_0xa51d31(0x785)](_0x4af55a=>{const _0x5a11b1=_0xa51d31;if(_0x11e00f[_0x4af55a]>0x0){const _0x25b2b0=Object[_0x5a11b1(0x188)](BADGES)[_0x5a11b1(0x282)](_0x1707e8=>_0x1707e8['id']===_0x4af55a);_0x25b2b0&&(_0x4af55a===_0x5a11b1(0x6c2)?_0x1a9868+=_0x5a11b1(0x1d5)+_0x25b2b0[_0x5a11b1(0x2c3)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x25b2b0[_0x5a11b1(0x5bb)]+_0x5a11b1(0x7b9):_0x1a9868+=_0x5a11b1(0x1d5)+_0x25b2b0['name']+'\x20('+_0x11e00f[_0x4af55a]+_0x5a11b1(0xaf)+_0x25b2b0[_0x5a11b1(0x5bb)]+_0x5a11b1(0x4bb)+_0x11e00f[_0x4af55a]+_0x5a11b1(0x472));}}),_0xe9f57a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5d7101+_0xa51d31(0x3a6)+_0x259869[_0xa51d31(0x582)]+_0xa51d31(0x3a3)+(_0x259869[_0xa51d31(0x793)]||0x0)+_0xa51d31(0x3a6)+(_0x1a9868||'-')+_0xa51d31(0xa4);}),_0x179542[_0x464f3d(0x78a)]=_0xe9f57a;}function displayLoopScreen(_0x4fbce5,_0x11e1dc,_0x1db723){const _0x2622c2=_0x2a65e7;let _0x4c58a0='';_0x1db723!==_0x2622c2(0x7aa)&&(_0x4c58a0=_0x2622c2(0x396)+_0x4fbce5+_0x2622c2(0x6c7)+_0x11e1dc+_0x2622c2(0x7ae));const _0x11e061=_0x2622c2(0x5b0)+_0x4c58a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2622c2(0x78a)]=_0x11e061,studentResultArea[_0x2622c2(0x51a)][_0x2622c2(0x5a5)](_0x2622c2(0x7b3)),studentQuizArea[_0x2622c2(0x51a)][_0x2622c2(0x57f)](_0x2622c2(0x7b3)),document[_0x2622c2(0x337)](_0x2622c2(0x24f))[_0x2622c2(0x60b)](_0x2622c2(0x78f),()=>{const _0x29b204=_0x2622c2;studentResultArea[_0x29b204(0x51a)][_0x29b204(0x57f)](_0x29b204(0x7b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x246c4f,_0xb0fb6,_0xb8e939){const _0x272b8a=_0x2a65e7,_0x2c9a0=document['getElementById'](_0xb8e939),_0x1bbfba=_0xb8e939==='student-quiz-leaderboard-table-body',_0x10e102=_0xb0fb6[_0x272b8a(0xbb)][_0x272b8a(0x6ea)],_0x2c9d19=document[_0x272b8a(0x337)](_0xb8e939)[_0x272b8a(0x6d2)](_0x272b8a(0x649));if(_0x2c9d19&&!_0x1bbfba){const _0xd303e9=_0x2c9d19[_0x272b8a(0x66a)](_0x272b8a(0x152));_0xd303e9['innerHTML']=_0x272b8a(0x166);}if(!_0x246c4f||_0x246c4f['length']===0x0){_0x2c9a0[_0x272b8a(0x78a)]='<tr><td\x20colspan=\x22'+(_0x1bbfba?0x6:0x8)+_0x272b8a(0x77f);return;}const _0x34a8fd=[..._0x246c4f];_0x34a8fd[_0x272b8a(0x48f)]((_0x37eb54,_0x120d06)=>{const _0x460b26=_0x272b8a;let _0x5fe688,_0x243d76;switch(quizLeaderboardSortBy){case _0x460b26(0x582):_0x5fe688=_0x37eb54[_0x460b26(0x582)]||'',_0x243d76=_0x120d06[_0x460b26(0x582)]||'';return quizLeaderboardSortOrder==='asc'?_0x5fe688['localeCompare'](_0x243d76,'th'):_0x243d76[_0x460b26(0x33b)](_0x5fe688,'th');case _0x460b26(0x784):_0x5fe688=_0x37eb54[_0x460b26(0x784)]||0x0,_0x243d76=_0x120d06[_0x460b26(0x784)]||0x0;break;case _0x460b26(0x7b7):_0x5fe688=_0x37eb54['attempts']?.['length']||0x1,_0x243d76=_0x120d06[_0x460b26(0x7b7)]?.[_0x460b26(0x6ea)]||0x1;break;case _0x460b26(0x637):_0x5fe688=new Date(_0x37eb54[_0x460b26(0x637)]),_0x243d76=new Date(_0x120d06[_0x460b26(0x637)]);break;case _0x460b26(0x585):default:_0x5fe688=_0x37eb54[_0x460b26(0x585)],_0x243d76=_0x120d06['bestScore'];break;}if(_0x5fe688<_0x243d76)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x5fe688>_0x243d76)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x574e31=_0xb0fb6[_0x272b8a(0xdb)]===!![],_0x272495=_0xb0fb6[_0x272b8a(0x61f)]?.[_0x272b8a(0x640)]??-0x1;let _0x180cfd='';_0x34a8fd[_0x272b8a(0x785)]((_0x583f42,_0x1811dd)=>{const _0xa273bd=_0x272b8a,_0x4fdd41=_0x1811dd+0x1;let _0x3d82f3=_0xa273bd(0x46f);if(_0x574e31||_0x272495!==-0x1){let _0x3df949=_0x574e31?_0x583f42['bestScore']===_0x10e102:_0x583f42[_0xa273bd(0x585)]>=_0x272495;const _0x2d37cf=_0x3df949?_0xa273bd(0x13b):_0xa273bd(0x7fb),_0x1cf5bf=_0x3df949?_0xa273bd(0x56d):_0xa273bd(0x336);_0x3d82f3=_0xa273bd(0x757)+_0x2d37cf+'\x22>'+_0x1cf5bf+_0xa273bd(0x76f);}const _0x676809=_0x583f42[_0xa273bd(0x7b7)][_0x583f42['attempts']['length']-0x1],_0x14b3bb=(_0x676809['badges']||[])[_0xa273bd(0x657)](_0x54168e=>{const _0x194d67=_0xa273bd,_0x40af4f=Object[_0x194d67(0x188)](BADGES)[_0x194d67(0x282)](_0x2b4c02=>_0x2b4c02['id']===_0x54168e);return _0x40af4f?_0x194d67(0x2c0)+_0x40af4f['name']+_0x194d67(0x488)+_0x40af4f[_0x194d67(0x5bb)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0xa273bd(0x57e)]('');_0x180cfd+=_0xa273bd(0x494)+_0x4fdd41+_0xa273bd(0x4ec)+_0x583f42[_0xa273bd(0x582)]+_0xa273bd(0x7de)+_0x583f42['bestScore']+_0xa273bd(0x6c7)+_0x10e102+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d82f3+_0xa273bd(0x7ec)+(_0x583f42[_0xa273bd(0x784)]||0x0)+_0xa273bd(0x5fd)+(_0x1bbfba?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x583f42['attempts']?.['length']||0x1)+'</td>')+_0xa273bd(0x711)+(_0x1bbfba?'':_0xa273bd(0xa1)+new Date(_0x583f42['latestSubmittedAt'])[_0xa273bd(0x3ba)](_0xa273bd(0x5d3))+_0xa273bd(0x4b6))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x14b3bb||'-')+_0xa273bd(0x69e);}),_0x2c9a0[_0x272b8a(0x78a)]=_0x180cfd,_0x2c9d19&&!_0x1bbfba&&_0x2c9d19[_0x272b8a(0x4a9)](_0x272b8a(0xc0))[_0x272b8a(0x785)](_0x432c8a=>{const _0x3c3b0d=_0x272b8a,_0x47a2f3=_0x432c8a[_0x3c3b0d(0x66a)](_0x3c3b0d(0x40e));if(_0x47a2f3)_0x47a2f3['remove']();_0x432c8a[_0x3c3b0d(0x301)]['sort']===quizLeaderboardSortBy&&(_0x432c8a[_0x3c3b0d(0x78a)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x3c3b0d(0x66e));});}async function handleDeleteSubmission(_0x3c6004){const _0x8a368a=_0x2a65e7;if(!currentQuizData||!currentQuizData['id']||!_0x3c6004){showMessage(_0x8a368a(0x495));return;}showConfirmation(_0x8a368a(0x230)+_0x3c6004+_0x8a368a(0x769),async()=>{const _0x173177=_0x8a368a,_0x404b05=currentQuizData['id'],_0x1be7b0=doc(db,'artifacts/'+appId+_0x173177(0x5de)+_0x404b05+'/submissions',_0x3c6004);try{await deleteDoc(_0x1be7b0),showMessage('ลบผลสอบของ\x20'+_0x3c6004+'\x20สำเร็จ');}catch(_0x22d29a){console[_0x173177(0x227)](_0x173177(0x3a7),_0x22d29a),showMessage(_0x173177(0x550));}});}async function handleLoadQuiz(){const _0x1b8c92=_0x2a65e7,_0x211f71=document[_0x1b8c92(0x337)](_0x1b8c92(0x342)),_0x4bf682=_0x211f71[_0x1b8c92(0x3d3)][_0x1b8c92(0x65d)]();if(!_0x4bf682){showMessage(_0x1b8c92(0x3df));return;}loadQuizBtn[_0x1b8c92(0x7d9)]=!![],loadQuizBtn[_0x1b8c92(0x78a)]=_0x1b8c92(0x6f0);try{const _0x306e2d=doc(db,_0x1b8c92(0x374)+appId+_0x1b8c92(0x78d),_0x4bf682),_0x1e36a7=await getDoc(_0x306e2d);if(!_0x1e36a7[_0x1b8c92(0x5b6)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x1e36a7['id'],..._0x1e36a7[_0x1b8c92(0x1c7)]()};const _0x1bc71a=currentQuizData[_0x1b8c92(0x354)]||'active',_0xba279d=new Date();if(_0x1bc71a===_0x1b8c92(0x617)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1bc71a===_0x1b8c92(0x242)){const _0x5e51d4=currentQuizData[_0x1b8c92(0x256)]?new Date(currentQuizData[_0x1b8c92(0x256)]):null,_0x51c4c0=currentQuizData['endTime']?new Date(currentQuizData[_0x1b8c92(0x630)]):null;if(_0x5e51d4&&_0xba279d<_0x5e51d4){showMessage(_0x1b8c92(0x234)+_0x5e51d4['toLocaleString'](_0x1b8c92(0x5d3),{'hour12':![]}));return;}if(_0x51c4c0&&_0xba279d>_0x51c4c0){showMessage(_0x1b8c92(0x2d8));return;}}const _0x1401c3=currentQuizData[_0x1b8c92(0x658)];currentProjectId=_0x1401c3;const _0x88bbaf=doc(db,_0x1b8c92(0x374)+appId+_0x1b8c92(0x174),_0x1401c3),_0x1409c8=await getDoc(_0x88bbaf);if(!_0x1409c8[_0x1b8c92(0x5b6)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x3a8bba=_0x1409c8[_0x1b8c92(0x1c7)]();currentStudentProjectData=_0x3a8bba,displayStudentNameSelector(_0x3a8bba[_0x1b8c92(0x2f3)],currentQuizData[_0x1b8c92(0x4f5)]);}catch(_0x262627){console[_0x1b8c92(0x227)](_0x1b8c92(0x416),_0x262627),showMessage(_0x1b8c92(0x366));}finally{loadQuizBtn[_0x1b8c92(0x7d9)]=![],loadQuizBtn[_0x1b8c92(0x78a)]=_0x1b8c92(0x4d2);}}async function handleJoinLiveGame(){const _0xa75b8a=_0x2a65e7,_0x5df9b7=document[_0xa75b8a(0x337)]('game-pin-input'),_0x436a64=document[_0xa75b8a(0x337)](_0xa75b8a(0x21f)),_0x4524a2=document[_0xa75b8a(0x337)]('confirm-join-game-btn'),_0x960169=_0x5df9b7['value']['trim'](),_0x1afe43=_0x436a64[_0xa75b8a(0x3d3)][_0xa75b8a(0x65d)]();if(!_0x960169||!_0x1afe43){showMessage(_0xa75b8a(0x2d6));return;}_0x4524a2[_0xa75b8a(0x7d9)]=!![],_0x4524a2[_0xa75b8a(0x78a)]=_0xa75b8a(0xff);try{const _0x454f6a=collection(db,_0xa75b8a(0x374)+appId+'/public/data/liveGames'),_0x589e65=query(_0x454f6a,where(_0xa75b8a(0x1e3),'==',_0x960169),where(_0xa75b8a(0x354),'==',_0xa75b8a(0x146))),_0x4f8611=await getDocs(_0x589e65);if(_0x4f8611[_0xa75b8a(0x3c3)]){showMessage(_0xa75b8a(0x666));return;}const _0x4acb57=_0x4f8611[_0xa75b8a(0x7dc)][0x0],_0x5a1021=_0x4acb57[_0xa75b8a(0x1c7)]();currentLiveGameId=_0x4acb57['id'];const _0x5ac340=_0x5a1021['quizId'],_0x590798=doc(db,_0xa75b8a(0x374)+appId+_0xa75b8a(0x78d),_0x5ac340),_0x135a12=await getDoc(_0x590798);if(!_0x135a12[_0xa75b8a(0x5b6)]()){showMessage(_0xa75b8a(0x1e0));return;}currentQuizData={'id':_0x135a12['id'],..._0x135a12[_0xa75b8a(0x1c7)]()};if(_0x5a1021[_0xa75b8a(0x58e)]&&_0x5a1021[_0xa75b8a(0x58e)][_0x1afe43]){showMessage(_0xa75b8a(0x5eb));return;}const _0x49207e={};_0x49207e[_0xa75b8a(0x565)+_0x1afe43]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0xa75b8a(0x374)+appId+_0xa75b8a(0x1af),currentLiveGameId),_0x49207e),currentStudentName=_0x1afe43,listenForLiveGameUpdates();}catch(_0x4fd3ba){console['error']('Error\x20joining\x20live\x20game:',_0x4fd3ba),showMessage(_0xa75b8a(0x159));}finally{_0x4524a2[_0xa75b8a(0x7d9)]=![],_0x4524a2[_0xa75b8a(0x78a)]=_0xa75b8a(0x522);}}function displayStudentNameSelector(_0x33c90f,_0x4fe5a0){const _0x28f2e7=_0x2a65e7,_0x5725fb=document['getElementById'](_0x28f2e7(0x299));document[_0x28f2e7(0x337)](_0x28f2e7(0x44e))[_0x28f2e7(0x8c)]=_0x28f2e7(0x75b)+_0x4fe5a0,!_0x33c90f||_0x33c90f[_0x28f2e7(0x6ea)]===0x0?(_0x5725fb[_0x28f2e7(0x78a)]=_0x28f2e7(0x7e4),startQuizBtn[_0x28f2e7(0x7d9)]=!![]):(_0x5725fb[_0x28f2e7(0x78a)]=_0x28f2e7(0x439),_0x33c90f[_0x28f2e7(0x785)](_0x55ba48=>{const _0xa5ddf5=_0x28f2e7,_0xa87a6d=document['createElement'](_0xa5ddf5(0x603));_0xa87a6d[_0xa5ddf5(0x3d3)]=_0x55ba48,_0xa87a6d[_0xa5ddf5(0x8c)]=_0x55ba48,_0x5725fb['appendChild'](_0xa87a6d);}),startQuizBtn[_0x28f2e7(0x7d9)]=![]),studentInitialView[_0x28f2e7(0x51a)][_0x28f2e7(0x57f)](_0x28f2e7(0x7b3)),studentNameSelectionView['classList'][_0x28f2e7(0x5a5)](_0x28f2e7(0x7b3));}function shuffleArray(_0x5727b9){const _0x3f8e34=_0x2a65e7;for(let _0x398d97=_0x5727b9[_0x3f8e34(0x6ea)]-0x1;_0x398d97>0x0;_0x398d97--){const _0x15783e=Math[_0x3f8e34(0x20b)](Math[_0x3f8e34(0x418)]()*(_0x398d97+0x1));[_0x5727b9[_0x398d97],_0x5727b9[_0x15783e]]=[_0x5727b9[_0x15783e],_0x5727b9[_0x398d97]];}}function getShuffledQuiz(_0x453d6f){const _0x45246b=_0x2a65e7;let _0x29093e=JSON['parse'](JSON['stringify'](_0x453d6f));const _0x55277f=_0x29093e[_0x45246b(0x61f)]?.['shuffle']||_0x45246b(0x3ea);if(_0x55277f===_0x45246b(0x3ea))return _0x29093e;return(_0x55277f==='questions_only'||_0x55277f===_0x45246b(0x355))&&shuffleArray(_0x29093e[_0x45246b(0xbb)]),(_0x55277f===_0x45246b(0x479)||_0x55277f===_0x45246b(0x355))&&_0x29093e[_0x45246b(0xbb)][_0x45246b(0x785)](_0x42f628=>{const _0x48cd08=_0x45246b,_0xf61bc4=_0x42f628['questionType']||_0x29093e[_0x48cd08(0x58a)];if(_0x42f628[_0x48cd08(0x11a)]){let _0x35ef4e=_0x42f628[_0x48cd08(0x11a)][_0x48cd08(0x657)]((_0x4704a0,_0xcd1456)=>({'text':_0x4704a0,'isCorrect':_0xcd1456===_0x42f628[_0x48cd08(0x539)]}));shuffleArray(_0x35ef4e),_0x42f628[_0x48cd08(0x11a)]=_0x35ef4e[_0x48cd08(0x657)](_0x127955=>_0x127955[_0x48cd08(0x47c)]),_0x42f628['correctAnswerIndex']=_0x35ef4e[_0x48cd08(0x688)](_0x1282c0=>_0x1282c0['isCorrect']);}_0xf61bc4==='matching_item'&&_0x42f628[_0x48cd08(0x7bc)]&&shuffleArray(_0x42f628['allResponses']);}),_0x29093e;}function displayQuizForStudent(_0x57777f){const _0x232790=_0x2a65e7;studentQuizArea[_0x232790(0x51a)][_0x232790(0x5a5)](_0x232790(0x7b3)),currentDisplayedQuiz=getShuffledQuiz(_0x57777f),isQuizActive=!![],cheatAttempts=0x0,document[_0x232790(0x60b)](_0x232790(0xbd),handleFullscreenChange),enterFullscreen();const _0x25e2cb=currentDisplayedQuiz[_0x232790(0x61f)]?.['timerMode']||_0x232790(0x3ea);if(_0x25e2cb===_0x232790(0x741))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x232790(0x61f)][_0x232790(0x3b8)]);else _0x25e2cb===_0x232790(0x5e4)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x372791=_0x2a65e7;let _0x286df8=_0x372791(0x298)+currentDisplayedQuiz[_0x372791(0x4f5)]+_0x372791(0x5ab)+(currentMode===_0x372791(0x675)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x372791(0x713);currentDisplayedQuiz[_0x372791(0xbb)]['forEach']((_0x46467d,_0x32f99e)=>{const _0x2a516c=_0x372791,_0x53e848=_0x46467d[_0x2a516c(0x4f9)]||currentDisplayedQuiz[_0x2a516c(0x58a)];_0x286df8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x53e848===_0x2a516c(0x3b4)?_0x286df8+=_0x2a516c(0x3b3)+(_0x32f99e+0x1)+'.\x20'+_0x46467d[_0x2a516c(0x514)]+_0x2a516c(0x171)+_0x32f99e+_0x2a516c(0x1ef)+_0x46467d[_0x2a516c(0x7bc)][_0x2a516c(0x657)](_0x4ca32a=>_0x2a516c(0x453)+_0x4ca32a+'\x22>'+_0x4ca32a+_0x2a516c(0x4b4))[_0x2a516c(0x57e)]('')+_0x2a516c(0x6c6):(_0x286df8+=_0x2a516c(0x691)+(_0x32f99e+0x1)+'.\x20'+(_0x46467d['instructions']||_0x46467d['questionText'])+_0x2a516c(0x621),_0x46467d[_0x2a516c(0x2f0)]&&(_0x286df8+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x46467d['imageCode']+_0x2a516c(0x6f)));_0x286df8+=_0x2a516c(0x45e);switch(_0x53e848){case _0x2a516c(0x2cc):_0x286df8+=_0x2a516c(0x5db)+_0x32f99e+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x2a516c(0x4f6):_0x286df8+=_0x2a516c(0x84)+_0x32f99e+_0x2a516c(0x181)+_0x32f99e+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x32f99e+_0x2a516c(0x2c7),_0x286df8+=_0x2a516c(0x84)+_0x32f99e+_0x2a516c(0x3c4)+_0x32f99e+_0x2a516c(0x556)+_0x32f99e+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x2a516c(0x3b4):break;case _0x2a516c(0x7cc):case'multiple_choice':default:_0x286df8+=_0x46467d['options']['map']((_0x3b0dae,_0x174fd9)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x32f99e+_0x2a516c(0x4d3)+_0x174fd9+_0x2a516c(0x3e8)+_0x32f99e+_0x2a516c(0xe3)+_0x174fd9+_0x2a516c(0x37e)+_0x32f99e+_0x2a516c(0x4d3)+_0x174fd9+'\x22>'+_0x3b0dae+_0x2a516c(0x5b5))[_0x2a516c(0x57e)]('');break;}_0x286df8+=_0x2a516c(0x606);}),_0x286df8+=_0x372791(0x40d),_0x286df8+=_0x372791(0x74),studentQuizArea['innerHTML']=_0x286df8;if(currentMode==='admin-testing'){const _0x13d896=document['getElementById'](_0x372791(0x459));if(_0x13d896)_0x13d896[_0x372791(0x60b)](_0x372791(0x78f),cancelAdminTest);}document[_0x372791(0x337)](_0x372791(0x39d))['addEventListener']('submit',handleSubmitQuiz);if(window[_0x372791(0x7e6)])window[_0x372791(0x7e6)][_0x372791(0x1a9)]([studentQuizArea]);}async function handleSubmitQuiz(_0x503f12){const _0x5836b4=_0x2a65e7;if(_0x503f12)_0x503f12[_0x5836b4(0x3cd)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3408d8=document[_0x5836b4(0x337)](_0x5836b4(0x39d));if(!_0x3408d8)return;const _0x5db521=_0x3408d8[_0x5836b4(0x66a)](_0x5836b4(0x202)),_0x4c6a42=currentDisplayedQuiz[_0x5836b4(0xbb)][_0x5836b4(0x5e8)](_0x17c651=>_0x17c651[_0x5836b4(0x4f9)]===_0x5836b4(0x2cc));_0x5db521&&(_0x5db521[_0x5836b4(0x7d9)]=!![],_0x4c6a42?_0x5db521['innerHTML']=_0x5836b4(0x4ed):_0x5db521[_0x5836b4(0x78a)]=_0x5836b4(0x745));const _0x27b6eb=new FormData(_0x3408d8),_0x5b52de=currentDisplayedQuiz[_0x5836b4(0xbb)][_0x5836b4(0x657)]((_0x53f938,_0x22e079)=>{const _0x93ffa=_0x5836b4,_0x3cd542=_0x53f938[_0x93ffa(0x4f9)]||currentDisplayedQuiz[_0x93ffa(0x58a)],_0x1e6607=_0x27b6eb['get'](_0x93ffa(0x358)+_0x22e079);if(_0x1e6607!==null&&_0x1e6607!==undefined){if(_0x3cd542===_0x93ffa(0x45b)||_0x3cd542===_0x93ffa(0x7cc))return parseInt(_0x1e6607);return _0x1e6607;}return null;}),_0x21b4da=currentQuizData['id'],_0x32d63c=doc(db,_0x5836b4(0x374)+appId+_0x5836b4(0x5de)+_0x21b4da+_0x5836b4(0x443),currentStudentName),_0x4a6917=await getDoc(_0x32d63c),_0x39205f=_0x4a6917['exists']()?_0x4a6917['data']():{},_0xb38c14=_0x39205f['attempts']||[];await processAndSubmitAnswers(_0x5b52de,_0xb38c14);}async function gradeShortAnswerWithAI(_0x81fdff,_0x575fb){const _0x1daad3=_0x2a65e7;if(!_0x81fdff||!_0x575fb)return![];try{const _0x4fdc37=_0x1daad3(0xf1)+_0x81fdff+_0x1daad3(0x3dc)+_0x575fb+_0x1daad3(0x6fa),_0x1c6910={'contents':[{'role':_0x1daad3(0x422),'parts':[{'text':_0x4fdc37}]}]},_0x21960d='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xf4d20e=_0x1daad3(0x383)+_0x21960d,_0x5239c6=await fetch(_0xf4d20e,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x1daad3(0x633)](_0x1c6910)});if(!_0x5239c6['ok'])throw new Error(_0x1daad3(0x111));const _0x46dcf7=await _0x5239c6[_0x1daad3(0x517)](),_0x35433c=_0x46dcf7[_0x1daad3(0x302)][0x0][_0x1daad3(0x86)][_0x1daad3(0x4a8)][0x0][_0x1daad3(0x47c)][_0x1daad3(0x65d)]()['toLowerCase']();return _0x35433c===_0x1daad3(0x28d);}catch(_0x5a8b8a){return console['error']('AI\x20grading\x20failed:',_0x5a8b8a),![];}}async function processAndSubmitAnswers(_0x40e19e,_0x2268b1){const _0x56b80c=_0x2a65e7;isQuizActive=![],document[_0x56b80c(0x196)](_0x56b80c(0xbd),handleFullscreenChange);let _0x4125cc=0x0,_0x5eafe4=0x0,_0x3a47df=[];const _0x3e1050=[],_0x4543dc=currentDisplayedQuiz[_0x56b80c(0xbb)][_0x56b80c(0x6ea)];let _0x4a20ff=0x0;const _0xefe5bc=currentDisplayedQuiz[_0x56b80c(0xbb)];for(let _0x474edd=0x0;_0x474edd<_0xefe5bc[_0x56b80c(0x6ea)];_0x474edd++){const _0x143afc=_0xefe5bc[_0x474edd],_0x54f3b2=_0x40e19e[_0x474edd],_0x38d2bc=_0x143afc[_0x56b80c(0x4f9)]||currentDisplayedQuiz[_0x56b80c(0x58a)];let _0xfbb810=![];if(_0x54f3b2!==null&&_0x54f3b2!=='')switch(_0x38d2bc){case'matching_item':_0xfbb810=_0x54f3b2===_0x143afc['correctResponse'];break;case _0x56b80c(0x4f6):const _0x12e78b=_0x54f3b2===!![]||_0x54f3b2===_0x56b80c(0x28d);_0xfbb810=_0x12e78b===_0x143afc[_0x56b80c(0x685)];break;case _0x56b80c(0x7cc):case'multiple_choice':default:_0xfbb810=Number(_0x54f3b2)===_0x143afc['correctAnswerIndex'];break;case _0x56b80c(0x2cc):_0xfbb810=await gradeShortAnswer(_0x54f3b2,_0x143afc);break;}_0xfbb810?(_0x4125cc++,_0x4a20ff++,_0x4a20ff===0x3&&(_0x3a47df[_0x56b80c(0x50e)](BADGES['ON_FIRE']['id']),_0x4a20ff=0x0)):_0x4a20ff=0x0;let _0x1be54d=null;_0x143afc[_0x56b80c(0x11a)]&&_0x54f3b2!==null&&(_0x1be54d=_0x143afc['options'][_0x54f3b2]),_0x3e1050[_0x56b80c(0x50e)]({'answer':_0x54f3b2,'answerText':_0x1be54d,'isCorrect':_0xfbb810,'originalQuestionText':_0x143afc[_0x56b80c(0x514)]||_0x143afc[_0x56b80c(0x55d)]});}_0x5eafe4=_0x4125cc*0xa;_0x4125cc===_0x4543dc&&_0x4543dc>0x0&&!currentDisplayedQuiz[_0x56b80c(0xdb)]&&(_0x5eafe4+=0x32,_0x3a47df[_0x56b80c(0x50e)](BADGES['PERFECT_SCORE']['id']));const _0x12a50b=currentDisplayedQuiz[_0x56b80c(0x61f)]?.[_0x56b80c(0x640)]??Math['floor'](_0x4543dc/0x2),_0x53231a=currentDisplayedQuiz[_0x56b80c(0x61f)]?.['timerMode'];if(_0x53231a===_0x56b80c(0x741)&&quizStartTime){const _0x4f875c=(new Date()-quizStartTime)/0x3e8,_0x5b9a35=currentDisplayedQuiz[_0x56b80c(0x61f)][_0x56b80c(0x3b8)]*0x3c;_0x4125cc>=_0x12a50b&&_0x4f875c<_0x5b9a35/0x2&&(_0x5eafe4+=0x14,_0x3a47df[_0x56b80c(0x50e)](BADGES['QUICK_THINKER']['id']));}_0x2268b1[_0x56b80c(0x6ea)]===0x0&&_0x4125cc===_0x4543dc&&_0x4543dc>0x0&&_0x3a47df['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x2268b1[_0x56b80c(0x6ea)]>0x0){const _0x5abf34=_0x2268b1[0x0][_0x56b80c(0x17a)];if(_0x5abf34<_0x12a50b&&_0x4125cc>=_0x12a50b){const _0x97c1bd=_0x2268b1[_0x56b80c(0x5e8)](_0x154203=>(_0x154203[_0x56b80c(0x5c0)]||[])[_0x56b80c(0x714)](BADGES['COMEBACK_KING']['id']));!_0x97c1bd&&_0x3a47df[_0x56b80c(0x50e)](BADGES[_0x56b80c(0x269)]['id']);}}_0x2268b1[_0x56b80c(0x6ea)]===0x4&&_0x3a47df[_0x56b80c(0x50e)](BADGES['PERSEVERANCE']['id']);const _0x339015=currentDisplayedQuiz[_0x56b80c(0x61f)][_0x56b80c(0x20d)];if(currentMode===_0x56b80c(0x675)){handleResultDisplay(_0x339015,_0x4125cc,_0x5eafe4,_0x3a47df,_0x3e1050,_0x4543dc);return;}const _0x4ba268=currentQuizData['id'],_0x59e45c=doc(db,_0x56b80c(0x374)+appId+_0x56b80c(0x5de)+_0x4ba268+_0x56b80c(0x443),currentStudentName);try{const _0x2d7e94=[..._0x2268b1],_0x46edbf={'score':_0x4125cc,'points':_0x5eafe4,'badges':_0x3a47df,'submittedAt':new Date()[_0x56b80c(0x1a1)](),'answers':_0x3e1050};_0x2d7e94[_0x56b80c(0x50e)](_0x46edbf);const _0x347641=_0x2d7e94[0x0][_0x56b80c(0x17a)],_0x2c754d=Math[_0x56b80c(0x23f)](..._0x2d7e94['map'](_0xe807e3=>_0xe807e3[_0x56b80c(0x17a)])),_0x5d481c=_0x4125cc,_0x4d602e=_0x46edbf[_0x56b80c(0xf4)];await setDoc(_0x59e45c,{'studentName':currentStudentName,'totalQuestions':_0x4543dc,'attempts':_0x2d7e94,'firstScore':_0x347641,'bestScore':_0x2c754d,'latestScore':_0x5d481c,'points':_0x5eafe4,'latestSubmittedAt':_0x4d602e},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x56b80c(0x658)],currentStudentName),handleResultDisplay(_0x339015,_0x4125cc,_0x5eafe4,_0x3a47df,_0x3e1050,_0x4543dc);}catch(_0x1d8f0b){console[_0x56b80c(0x227)](_0x56b80c(0x3b0),_0x1d8f0b),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x3d608f,_0x272f93){const _0x468937=_0x2a65e7,_0x15c70e=doc(db,_0x468937(0x374)+appId+'/public/data/projects/'+_0x3d608f+_0x468937(0x5ff),_0x272f93);try{const _0x4bcfc0=query(collection(db,_0x468937(0x374)+appId+_0x468937(0x78d)),where(_0x468937(0x658),'==',_0x3d608f)),_0x4ea78e=await getDocs(_0x4bcfc0),_0x55eda8=new Map(_0x4ea78e[_0x468937(0x7dc)][_0x468937(0x657)](_0x4f2c64=>[_0x4f2c64['id'],_0x4f2c64[_0x468937(0x1c7)]()])),_0x3acdaf=Array[_0x468937(0x352)](_0x55eda8[_0x468937(0x668)]());await runTransaction(db,async _0x42094f=>{const _0x2a8b79=_0x468937;let _0x3e2988=0x0;const _0x349df4={};let _0x4f23e7=!![],_0x171662=0x0,_0x586a8c=0x0;for(const _0x55e306 of _0x3acdaf){const _0xe432c2=_0x55eda8[_0x2a8b79(0x1b9)](_0x55e306),_0x3a76a9=doc(db,_0x2a8b79(0x374)+appId+'/public/data/quizzes/'+_0x55e306+_0x2a8b79(0x443),_0x272f93),_0x3ca5c2=await _0x42094f[_0x2a8b79(0x1b9)](_0x3a76a9);if(_0x3ca5c2[_0x2a8b79(0x5b6)]()){const _0x5c6c82=_0x3ca5c2[_0x2a8b79(0x1c7)](),_0x3deff8=_0x5c6c82[_0x2a8b79(0x7b7)]||[];if(_0x3deff8['length']>0x0){const _0x3cf759=_0x3deff8[_0x2a8b79(0x5fb)]((_0x2854a5,_0x4fc5cd)=>{const _0x231cb0=_0x2a8b79;if(_0x4fc5cd[_0x231cb0(0x17a)]>_0x2854a5[_0x231cb0(0x17a)])return _0x4fc5cd;if(_0x4fc5cd[_0x231cb0(0x17a)]===_0x2854a5[_0x231cb0(0x17a)])return(_0x4fc5cd[_0x231cb0(0x784)]||0x0)>(_0x2854a5[_0x231cb0(0x784)]||0x0)?_0x4fc5cd:_0x2854a5;return _0x2854a5;},{'score':-0x1,'points':-0x1});_0x3cf759[_0x2a8b79(0x17a)]>-0x1&&(_0x3e2988+=_0x3cf759[_0x2a8b79(0x784)]||0x0,(_0x3cf759[_0x2a8b79(0x5c0)]||[])['forEach'](_0x248df6=>{_0x349df4[_0x248df6]=(_0x349df4[_0x248df6]||0x0)+0x1;}));}}if(_0xe432c2[_0x2a8b79(0x4f5)]!==_0x2a8b79(0x77d)){_0x586a8c++;if(_0x3ca5c2[_0x2a8b79(0x5b6)]()){_0x171662++;const _0x1e3558=_0x3ca5c2['data']();_0x1e3558[_0x2a8b79(0x585)]!==_0x1e3558[_0x2a8b79(0x31b)]&&(_0x4f23e7=![]);}else _0x4f23e7=![];}}_0x586a8c>0x0&&_0x171662===_0x586a8c&&_0x4f23e7?_0x349df4[_0x2a8b79(0x6c2)]=0x1:_0x349df4[_0x2a8b79(0x6c2)]=0x0,_0x42094f[_0x2a8b79(0x4f2)](_0x15c70e,{'studentName':_0x272f93,'totalPoints':_0x3e2988,'unlockedBadges':Object[_0x2a8b79(0x668)](_0x349df4)[_0x2a8b79(0x3fd)](_0x2df559=>_0x349df4[_0x2df559]>0x0),'badgesCount':_0x349df4},{'merge':!![]});});}catch(_0x5c3070){console[_0x468937(0x227)](_0x468937(0x2dd),_0x5c3070),showMessage(_0x468937(0xab));}}function startAdminTest(){const _0x407ac3=_0x2a65e7;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x282c9f=JSON['parse'](JSON[_0x407ac3(0x633)](currentQuizData));currentMode=_0x407ac3(0x675),currentStudentName=_0x407ac3(0xd0),adminView[_0x407ac3(0x51a)][_0x407ac3(0x57f)](_0x407ac3(0x7b3)),studentView[_0x407ac3(0x51a)][_0x407ac3(0x5a5)](_0x407ac3(0x7b3)),studentInitialView['classList'][_0x407ac3(0x57f)](_0x407ac3(0x7b3)),studentNameSelectionView['classList']['add'](_0x407ac3(0x7b3)),studentResultArea[_0x407ac3(0x51a)]['add'](_0x407ac3(0x7b3)),studentQuizArea['classList'][_0x407ac3(0x5a5)](_0x407ac3(0x7b3)),quizStartTime=new Date(),displayQuizForStudent(_0x282c9f);}function handleResultDisplay(_0x1f00f1,_0x1dcb1d,_0x1b06be,_0x1a8568,_0x229cb6,_0x140da1){const _0x53d26b=_0x2a65e7;if(_0x1f00f1===_0x53d26b(0x2c4)){displaySubmissionConfirmation();return;}const _0xc9c993=currentDisplayedQuiz['settings']?.[_0x53d26b(0x640)]??Math[_0x53d26b(0x20b)](_0x140da1/0x2),_0x2cac51=currentDisplayedQuiz[_0x53d26b(0x61f)]?.[_0x53d26b(0x2bf)]??![],_0x3f6fdc=currentDisplayedQuiz[_0x53d26b(0x61f)]?.[_0x53d26b(0x1cd)]===!![],_0x2e815d=_0x1dcb1d<_0xc9c993;if(_0x3f6fdc&&_0x2e815d){_0x1f00f1===_0x53d26b(0x38c)?displayResultsWithAnswers(_0x1dcb1d,_0x1b06be,_0x1a8568,_0x229cb6,_0x140da1,!![]):displayLoopScreen(_0x1dcb1d,_0x140da1,_0x1f00f1);return;}if(_0x2cac51&&_0x2e815d){startAdaptiveFlow(_0x229cb6,_0x1dcb1d,_0x140da1);return;}switch(_0x1f00f1){case _0x53d26b(0x38c):displayResultsWithAnswers(_0x1dcb1d,_0x1b06be,_0x1a8568,_0x229cb6,_0x140da1);break;case _0x53d26b(0x52d):displayResultsScoreOnly(_0x1dcb1d,_0x1b06be,_0x1a8568,_0x140da1);break;case _0x53d26b(0x7aa):displayPassFailOnly(_0x1dcb1d,_0x140da1);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1398bf){const _0x1c6f14=_0x2a65e7;studentReadingArea[_0x1c6f14(0x78a)]=_0x1c6f14(0x7eb);const _0x407682=_0x1c6f14(0x357)+_0x1398bf+_0x1c6f14(0x2a2)+simpleMathPrompt+_0x1c6f14(0x6dc),_0x304dc1={'type':_0x1c6f14(0x104),'properties':{'questionText':{'type':_0x1c6f14(0x11e)},'options':{'type':_0x1c6f14(0x27d),'items':{'type':_0x1c6f14(0x11e)}},'correctAnswerIndex':{'type':_0x1c6f14(0x63e)},'explanation':{'type':_0x1c6f14(0x11e)}},'required':[_0x1c6f14(0x55d),'options','correctAnswerIndex',_0x1c6f14(0x294)]},_0x3ce2f6={'type':_0x1c6f14(0x104),'properties':{'topic':{'type':_0x1c6f14(0x11e)},'questions':{'type':_0x1c6f14(0x27d),'items':_0x304dc1}},'required':[_0x1c6f14(0x4f5),_0x1c6f14(0xbb)]};try{const _0x4766be=await callAnalysisApi(_0x407682,_0x3ce2f6);_0x4766be[_0x1c6f14(0xdb)]=!![],studentReadingArea[_0x1c6f14(0x51a)][_0x1c6f14(0x57f)](_0x1c6f14(0x7b3));const _0x96f2a0={...currentDisplayedQuiz[_0x1c6f14(0x61f)],'isAdaptive':![],'resultsDisplay':_0x1c6f14(0x38c)};_0x4766be[_0x1c6f14(0x61f)]=_0x96f2a0,displayQuizForStudent(_0x4766be);}catch(_0x2c5f17){console['error'](_0x1c6f14(0x11c),_0x2c5f17),showMessage(_0x1c6f14(0x5fc)),showView(_0x1c6f14(0x26d));}}function displayPassFailOnly(_0x1f466d,_0x25ede7){const _0x26a6a6=_0x2a65e7,_0x4f1b03=currentDisplayedQuiz[_0x26a6a6(0x61f)]?.[_0x26a6a6(0x640)]??-0x1,_0x2586cc=currentDisplayedQuiz[_0x26a6a6(0xdb)]===!![];let _0x507d4a='';if(_0x2586cc||_0x4f1b03!==-0x1){let _0x58b263;_0x2586cc?_0x58b263=_0x1f466d===_0x25ede7:_0x58b263=_0x1f466d>=_0x4f1b03;const _0x46b755=_0x58b263?_0x26a6a6(0x13b):'bg-red-100\x20text-red-800',_0x1b5e75=_0x58b263?_0x26a6a6(0x56d):_0x26a6a6(0x336);_0x507d4a=_0x26a6a6(0xad)+_0x46b755+'\x22>'+_0x1b5e75+'</span></div>';}else _0x507d4a='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x164a4b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x507d4a+_0x26a6a6(0x6f5);studentResultArea['innerHTML']=_0x164a4b,studentResultArea[_0x26a6a6(0x51a)]['remove'](_0x26a6a6(0x7b3)),studentQuizArea[_0x26a6a6(0x51a)]['add'](_0x26a6a6(0x7b3));const _0x4ea961=_0x26a6a6(0x1e6),_0x5dd41e=currentMode==='admin-testing',_0x4a6a78=_0x5dd41e?_0x26a6a6(0x54c):_0x26a6a6(0x609),_0x388f58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x4ea961+_0x26a6a6(0x417)+_0x4a6a78+_0x26a6a6(0x1e9);studentResultArea[_0x26a6a6(0x2db)](_0x26a6a6(0x2c8),_0x388f58),document[_0x26a6a6(0x337)](_0x4ea961)[_0x26a6a6(0x60b)](_0x26a6a6(0x78f),()=>{const _0x437494=_0x26a6a6;_0x5dd41e?(currentMode='admin',studentView[_0x437494(0x51a)][_0x437494(0x57f)](_0x437494(0x7b3)),adminView[_0x437494(0x51a)][_0x437494(0x5a5)](_0x437494(0x7b3)),showView('project-detail')):(showView('student'),document[_0x437494(0x337)](_0x437494(0x342))[_0x437494(0x3d3)]='');});}function cancelAdminTest(){const _0x41502c=_0x2a65e7;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode='admin',studentView[_0x41502c(0x51a)]['add'](_0x41502c(0x7b3)),adminView[_0x41502c(0x51a)][_0x41502c(0x5a5)](_0x41502c(0x7b3)),showView(_0x41502c(0x248));}function setupResultScreenBackButton(_0x3f2a1=![]){const _0x1ebbfa=_0x2a65e7;if(_0x3f2a1){const _0x5eafab=_0x1ebbfa(0x507);studentResultArea[_0x1ebbfa(0x2db)]('beforeend',_0x5eafab),document['getElementById'](_0x1ebbfa(0x24f))[_0x1ebbfa(0x60b)](_0x1ebbfa(0x78f),()=>{const _0x244e8e=_0x1ebbfa;studentResultArea[_0x244e8e(0x51a)][_0x244e8e(0x57f)](_0x244e8e(0x7b3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x489cf4=_0x1ebbfa(0x1e6),_0x4b9009=currentMode===_0x1ebbfa(0x675),_0x363a32=_0x4b9009?_0x1ebbfa(0x54c):_0x1ebbfa(0x609),_0x53c6b9=_0x1ebbfa(0x5ca)+_0x489cf4+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x363a32+_0x1ebbfa(0x4c1);studentResultArea['insertAdjacentHTML']('beforeend',_0x53c6b9),studentResultArea[_0x1ebbfa(0x66a)](_0x1ebbfa(0x17f))[_0x1ebbfa(0x60b)](_0x1ebbfa(0x78f),handleShowStudentRankings),document[_0x1ebbfa(0x337)](_0x489cf4)[_0x1ebbfa(0x60b)](_0x1ebbfa(0x78f),()=>{const _0x849433=_0x1ebbfa;_0x4b9009?(currentMode=_0x849433(0x500),studentView['classList'][_0x849433(0x57f)](_0x849433(0x7b3)),adminView['classList'][_0x849433(0x5a5)](_0x849433(0x7b3)),showView(_0x849433(0x248))):(showView('student'),document[_0x849433(0x337)]('quiz-id-input')[_0x849433(0x3d3)]='');});}function displayResultsWithAnswers(_0x2f101e,_0x584625,_0x529a8c,_0x52247a,_0x4075f2,_0x20f545=![]){const _0x420df8=_0x2a65e7,_0x166da8=_0x4075f2>0x0?_0x2f101e/_0x4075f2*0x64:0x0,_0x41c737=currentDisplayedQuiz['settings']?.[_0x420df8(0x640)]??-0x1,_0x5bb18c=currentDisplayedQuiz[_0x420df8(0xdb)]===!![];let _0x4bc8e5='';if(_0x5bb18c||_0x41c737!==-0x1){let _0xbf22df=_0x5bb18c?_0x2f101e===_0x4075f2:_0x2f101e>=_0x41c737;const _0x1345e9=_0xbf22df?_0x420df8(0x13b):'bg-red-100\x20text-red-800',_0x30426d=_0xbf22df?_0x420df8(0x56d):_0x420df8(0x336);_0x4bc8e5='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x1345e9+'\x22>'+_0x30426d+'</p>';}let _0x38a03e=_0x420df8(0x693)+currentStudentName+_0x420df8(0x1bc)+_0x2f101e+_0x420df8(0x455)+_0x4075f2+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bc8e5+_0x420df8(0x110)+_0x584625+_0x420df8(0x125)+_0x166da8[_0x420df8(0x2bd)](0x0)+_0x420df8(0x2c5);currentDisplayedQuiz[_0x420df8(0xbb)][_0x420df8(0x785)]((_0x427c3e,_0x1395f9)=>{const _0x196fee=_0x420df8,_0x54177c=_0x52247a[_0x1395f9],_0x12a655=_0x54177c[_0x196fee(0x7b2)],_0x21188e=_0x54177c[_0x196fee(0x1da)],_0x141efe=_0x427c3e['questionType']||currentDisplayedQuiz['quizType'];_0x38a03e+=_0x196fee(0x424)+(_0x21188e?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x1395f9+0x1)+'.\x20'+(_0x427c3e[_0x196fee(0x514)]||_0x427c3e[_0x196fee(0x55d)])+_0x196fee(0x1f1);switch(_0x141efe){case _0x196fee(0x3b4):const _0x5411d5=_0x12a655||_0x196fee(0x2ac),_0x1482b3=_0x427c3e['correctResponse'];_0x38a03e+=_0x196fee(0x3f1)+(!_0x21188e?'line-through\x20text-red-700':'')+'\x22>'+_0x5411d5+'</span></p>';!_0x21188e&&(_0x38a03e+=_0x196fee(0x750)+_0x1482b3+_0x196fee(0x621));break;case _0x196fee(0x2cc):_0x38a03e+=_0x196fee(0x6bb)+(_0x12a655||_0x196fee(0x2ac))+_0x196fee(0x621),_0x38a03e+=_0x196fee(0x9f)+_0x427c3e[_0x196fee(0x226)]+_0x196fee(0x621);break;case _0x196fee(0x4f6):_0x38a03e+=_0x196fee(0x75a)+(_0x427c3e['correctAnswer']===!![]?_0x196fee(0x31d):'')+'\x20'+(_0x12a655===_0x196fee(0x28d)&&!_0x21188e?'line-through\x20text-red-700':'')+_0x196fee(0x5a3),_0x38a03e+=_0x196fee(0x75a)+(_0x427c3e['correctAnswer']===![]?_0x196fee(0x31d):'')+'\x20'+(_0x12a655===_0x196fee(0x2d7)&&!_0x21188e?_0x196fee(0x5dc):'')+_0x196fee(0x30b);break;default:_0x38a03e+=_0x427c3e['options'][_0x196fee(0x657)]((_0x112c4d,_0x5a1371)=>{const _0x3ef525=_0x196fee;let _0x507ea5='',_0x4e590a='';if(_0x5a1371===_0x427c3e[_0x3ef525(0x539)])_0x507ea5=_0x3ef525(0x31d),_0x4e590a='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x5a1371===_0x12a655&&(_0x507ea5=_0x3ef525(0xa5),_0x4e590a=_0x3ef525(0x791));return'<div\x20class=\x22'+_0x507ea5+'\x22>'+_0x4e590a+_0x112c4d+'</div>';})[_0x196fee(0x57e)]('');break;}_0x38a03e+=_0x196fee(0x7c6)+(_0x427c3e['explanation']||_0x196fee(0x7e3))+_0x196fee(0x6f);if(!_0x21188e){const _0x4c84cb=_0x427c3e[_0x196fee(0x514)]||_0x427c3e['questionText'];_0x38a03e+=_0x196fee(0x22c)+escape(_0x4c84cb)+_0x196fee(0x5bd);}_0x38a03e+=_0x196fee(0x6f);}),studentResultArea[_0x420df8(0x78a)]=_0x38a03e,renderEarnedBadges(_0x529a8c,_0x420df8(0x34b)),studentResultArea[_0x420df8(0x51a)][_0x420df8(0x5a5)](_0x420df8(0x7b3)),studentQuizArea[_0x420df8(0x51a)][_0x420df8(0x57f)](_0x420df8(0x7b3)),setupResultScreenBackButton(_0x20f545);if(window[_0x420df8(0x7e6)])window[_0x420df8(0x7e6)][_0x420df8(0x1a9)]([studentResultArea]);}function displayResultsScoreOnly(_0x5e7c68,_0x2d2b6c,_0x209aaa,_0x9a98c8){const _0x299f92=_0x2a65e7,_0x1bbaba=_0x9a98c8>0x0?_0x5e7c68/_0x9a98c8*0x64:0x0,_0x17e247=currentDisplayedQuiz['settings']?.[_0x299f92(0x640)]??-0x1,_0x7db5fc=currentDisplayedQuiz[_0x299f92(0xdb)]===!![];let _0x259772='';if(_0x7db5fc||_0x17e247!==-0x1){let _0x227ada;_0x7db5fc?_0x227ada=_0x5e7c68===_0x9a98c8:_0x227ada=_0x5e7c68>=_0x17e247;const _0x470079=_0x227ada?'bg-green-100\x20text-green-800':_0x299f92(0x7fb),_0x3bd204=_0x227ada?_0x299f92(0x56d):'ไม่ผ่าน';_0x259772=_0x299f92(0x5ec)+_0x470079+'\x22>'+_0x3bd204+_0x299f92(0x621);}let _0x16b246='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x299f92(0x6c4)+_0x5e7c68+_0x299f92(0x431)+_0x9a98c8+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x259772+_0x299f92(0x110)+_0x2d2b6c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x1bbaba[_0x299f92(0x2bd)](0x0)+_0x299f92(0x295);studentResultArea[_0x299f92(0x78a)]=_0x16b246,renderEarnedBadges(_0x209aaa,_0x299f92(0x34b)),studentResultArea[_0x299f92(0x51a)][_0x299f92(0x5a5)]('hidden'),studentQuizArea[_0x299f92(0x51a)][_0x299f92(0x57f)](_0x299f92(0x7b3)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x18da00=_0x2a65e7;let _0x32ce09=_0x18da00(0x50a)+currentStudentName+_0x18da00(0x45d);studentResultArea[_0x18da00(0x78a)]=_0x32ce09,studentResultArea[_0x18da00(0x51a)][_0x18da00(0x5a5)]('hidden'),studentQuizArea['classList'][_0x18da00(0x57f)](_0x18da00(0x7b3)),document[_0x18da00(0x337)](_0x18da00(0x7f))[_0x18da00(0x60b)](_0x18da00(0x78f),()=>{const _0x2dbd09=_0x18da00;showView(_0x2dbd09(0x26d)),document[_0x2dbd09(0x337)]('quiz-id-input')[_0x2dbd09(0x3d3)]='';});}function renderEarnedBadges(_0x1753cb,_0x5cd856){const _0x1100af=_0x2a65e7,_0x446fdb=document[_0x1100af(0x337)](_0x5cd856);if(!_0x446fdb||!_0x1753cb||_0x1753cb[_0x1100af(0x6ea)]===0x0)return;let _0x4eec26='';_0x1753cb[_0x1100af(0x785)]((_0x268731,_0x395365)=>{const _0x4771d8=_0x1100af,_0x449041=Object[_0x4771d8(0x188)](BADGES)[_0x4771d8(0x282)](_0x1616d8=>_0x1616d8['id']===_0x268731);_0x449041&&(_0x4eec26+=_0x4771d8(0x777)+_0x395365*0.2+_0x4771d8(0x6c5)+_0x449041[_0x4771d8(0x4fe)]+_0x4771d8(0x683)+_0x449041[_0x4771d8(0x5bb)]+_0x4771d8(0x75d)+_0x449041[_0x4771d8(0x2c3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x446fdb[_0x1100af(0x78a)]=_0x4eec26;}function startPresentation(_0x13e982){const _0x55351d=_0x2a65e7;currentQuizData=getShuffledQuiz(_0x13e982),currentPresentationSlide=0x0,presentationModal[_0x55351d(0x13d)][_0x55351d(0x573)]=_0x55351d(0x48b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2947d0=_0x2a65e7;document[_0x2947d0(0x533)]&&document['exitFullscreen'](),presentationModal[_0x2947d0(0x13d)][_0x2947d0(0x573)]=_0x2947d0(0x3ea);}function renderPresentationSlide(_0x1e4998){const _0x1355d8=_0x2a65e7,_0x42d300=document[_0x1355d8(0x337)](_0x1355d8(0x5f7));if(!currentQuizData||!currentQuizData[_0x1355d8(0xbb)]||!currentQuizData['questions'][_0x1e4998]){_0x42d300[_0x1355d8(0x78a)]=_0x1355d8(0x6e6);return;}const _0x370c46=currentQuizData['questions'][_0x1e4998],_0x262d90=_0x370c46[_0x1355d8(0x4f9)]||currentQuizData[_0x1355d8(0x58a)];_0x42d300['innerHTML']='';let _0x5b946a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x370c46['imageCode']?_0x1355d8(0x393)+_0x370c46['imageCode']+_0x1355d8(0x6f):'')+_0x1355d8(0x103)+(_0x1e4998+0x1)+'.\x20'+(_0x370c46[_0x1355d8(0x514)]||_0x370c46[_0x1355d8(0x55d)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x262d90){case'matching_item':_0x5b946a+=_0x370c46[_0x1355d8(0x7bc)][_0x1355d8(0x657)](_0x3e37de=>_0x1355d8(0x36b)+_0x3e37de+_0x1355d8(0x82))[_0x1355d8(0x57e)]('');break;case _0x1355d8(0x4f6):_0x5b946a+=_0x1355d8(0x566),_0x5b946a+=_0x1355d8(0x33f);break;case _0x1355d8(0x512):case'short_answer':_0x5b946a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x1355d8(0x45b):default:_0x5b946a+=_0x370c46[_0x1355d8(0x11a)]['map']((_0x3d4436,_0x3f7e6a)=>_0x1355d8(0x1c0)+_0x3f7e6a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d4436+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1355d8(0x57e)]('');break;}_0x5b946a+=_0x1355d8(0x547)+(_0x370c46[_0x1355d8(0x294)]||_0x1355d8(0x7e3))+_0x1355d8(0x681),_0x42d300[_0x1355d8(0x78a)]=_0x5b946a;if(window[_0x1355d8(0x7e6)])window[_0x1355d8(0x7e6)]['typesetPromise']([_0x42d300]);document[_0x1355d8(0x4a9)](_0x1355d8(0x44d))[_0x1355d8(0x785)](_0x158ae1=>{const _0x195c16=_0x1355d8;_0x158ae1['addEventListener'](_0x195c16(0x78f),_0x44a58e=>revealAnswerForPresentation(_0x1e4998,_0x44a58e[_0x195c16(0x136)]));});const _0x275ddb=document[_0x1355d8(0x337)](_0x1355d8(0x5fe));_0x275ddb&&_0x275ddb[_0x1355d8(0x60b)]('click',()=>checkShortAnswerForPresentation(_0x1e4998)),document[_0x1355d8(0x337)]('slide-counter')['textContent']=_0x1355d8(0x23e)+(_0x1e4998+0x1)+_0x1355d8(0x6c7)+currentQuizData[_0x1355d8(0xbb)][_0x1355d8(0x6ea)],document[_0x1355d8(0x337)](_0x1355d8(0x246))['disabled']=_0x1e4998===0x0,document[_0x1355d8(0x337)]('next-question-btn')[_0x1355d8(0x7d9)]=_0x1e4998===currentQuizData[_0x1355d8(0xbb)][_0x1355d8(0x6ea)]-0x1;}async function checkShortAnswerForPresentation(_0x4ace52){const _0x4a7bf2=_0x2a65e7,_0x55c8ac=currentQuizData[_0x4a7bf2(0xbb)][_0x4ace52],_0x362439=document[_0x4a7bf2(0x337)](_0x4a7bf2(0x69c)),_0x294f5e=document[_0x4a7bf2(0x337)](_0x4a7bf2(0x5fe)),_0xcff803=document['getElementById']('presentation-ai-result'),_0x6ff1d2=document[_0x4a7bf2(0x337)](_0x4a7bf2(0x73));if(!_0x362439||!_0x294f5e||!_0xcff803||!_0x6ff1d2)return;const _0x3649f1=_0x362439[_0x4a7bf2(0x3d3)][_0x4a7bf2(0x65d)]();if(_0x3649f1==='')return;_0x294f5e[_0x4a7bf2(0x7d9)]=!![],_0x294f5e[_0x4a7bf2(0x78a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x362439[_0x4a7bf2(0x7d9)]=!![];const _0x5232c0=await gradeShortAnswer(_0x3649f1,_0x55c8ac);_0x5232c0?_0xcff803[_0x4a7bf2(0x78a)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0xcff803[_0x4a7bf2(0x78a)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x55c8ac[_0x4a7bf2(0x226)]+')',_0xcff803['classList'][_0x4a7bf2(0x5a5)](_0x4a7bf2(0x7b3)),_0x6ff1d2['classList']['remove']('hidden'),_0x294f5e[_0x4a7bf2(0x51a)]['add'](_0x4a7bf2(0x7b3));}function revealAnswerForPresentation(_0x26baa0,_0x228492){const _0x4dfe40=_0x2a65e7,_0x7a9e0d=currentQuizData[_0x4dfe40(0xbb)][_0x26baa0],_0x1cf435=_0x7a9e0d[_0x4dfe40(0x4f9)]||currentQuizData[_0x4dfe40(0x58a)];document[_0x4dfe40(0x4a9)](_0x4dfe40(0x44d))[_0x4dfe40(0x785)](_0x3902e3=>{const _0x51d726=_0x4dfe40;_0x3902e3[_0x51d726(0x7d9)]=!![],_0x3902e3[_0x51d726(0x51a)]['remove']('hover:bg-indigo-100');let _0x2ca13a=![];if(_0x1cf435==='multiple_choice'||_0x1cf435===_0x51d726(0x7cc)){const _0x2cc283=parseInt(_0x3902e3['dataset']['index']);_0x2ca13a=_0x2cc283===_0x7a9e0d['correctAnswerIndex'];}else{if(_0x1cf435===_0x51d726(0x4f6)){const _0x5c0da3=_0x3902e3['dataset'][_0x51d726(0x7b2)]===_0x51d726(0x28d);_0x2ca13a=_0x5c0da3===_0x7a9e0d['correctAnswer'];}else _0x1cf435==='matching_item'&&(_0x2ca13a=_0x3902e3[_0x51d726(0x8c)]['trim']()===_0x7a9e0d[_0x51d726(0x457)]);}_0x2ca13a?_0x3902e3[_0x51d726(0x51a)]['add'](_0x51d726(0x1ea),'text-white',_0x51d726(0x289)):_0x3902e3['classList']['add'](_0x51d726(0x2e2));}),_0x228492[_0x4dfe40(0x51a)]['remove'](_0x4dfe40(0x2e2));let _0x31f491=![];if(_0x1cf435===_0x4dfe40(0x45b))_0x31f491=parseInt(_0x228492[_0x4dfe40(0x301)][_0x4dfe40(0x4b5)])===_0x7a9e0d[_0x4dfe40(0x539)];else{if(_0x1cf435==='true_false')_0x31f491=_0x228492['dataset'][_0x4dfe40(0x7b2)]===_0x4dfe40(0x28d)===_0x7a9e0d['correctAnswer'];else _0x1cf435==='matching_item'&&(_0x31f491=_0x228492[_0x4dfe40(0x8c)][_0x4dfe40(0x65d)]()===_0x7a9e0d['correctResponse']);}!_0x31f491&&_0x228492[_0x4dfe40(0x51a)][_0x4dfe40(0x57f)](_0x4dfe40(0x5e3),_0x4dfe40(0x95),_0x4dfe40(0x43c)),document[_0x4dfe40(0x337)](_0x4dfe40(0x73))['classList'][_0x4dfe40(0x5a5)](_0x4dfe40(0x7b3));}function startWholeQuizTimer(_0x5bae66){const _0x31ac01=_0x2a65e7,_0x53e6ec=document[_0x31ac01(0x337)](_0x31ac01(0x616));if(!_0x53e6ec)return;const _0x120cd2=Date['now']()+_0x5bae66*0x3c*0x3e8;_0x53e6ec['innerHTML']=_0x31ac01(0x165);const _0x3c5319=document[_0x31ac01(0x337)](_0x31ac01(0x4a1));quizTimerInterval=setInterval(()=>{const _0x1c9463=_0x31ac01,_0x4f604b=_0x120cd2-Date['now']();if(_0x4f604b<=0x0)clearInterval(quizTimerInterval),_0x3c5319[_0x1c9463(0x8c)]=_0x1c9463(0x3ac),showMessage(_0x1c9463(0x1f0)),handleSubmitQuiz(null);else{const _0x4ec7de=Math[_0x1c9463(0x20b)](_0x4f604b/0x3e8/0x3c%0x3c)[_0x1c9463(0x42c)]()['padStart'](0x2,'0'),_0x523178=Math[_0x1c9463(0x20b)](_0x4f604b/0x3e8%0x3c)[_0x1c9463(0x42c)]()['padStart'](0x2,'0');_0x3c5319[_0x1c9463(0x8c)]=_0x4ec7de+':'+_0x523178;}},0x3e8);}function renderPerQuestionView(){const _0x179b37=_0x2a65e7;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x56cdad=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x11373d=_0x56cdad[_0x179b37(0x4f9)]||currentDisplayedQuiz[_0x179b37(0x58a)];let _0x27276f=_0x179b37(0x17c)+(currentQuestionIndex+0x1)+_0x179b37(0x626)+currentDisplayedQuiz[_0x179b37(0xbb)]['length']+_0x179b37(0x5c5)+(currentMode==='admin-testing'?_0x179b37(0x5b9):'')+_0x179b37(0x452)+currentDisplayedQuiz[_0x179b37(0x4f5)]+_0x179b37(0x3b5)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x179b37(0x6ea)]-0x1?_0x179b37(0x608):_0x179b37(0x4d6))+_0x179b37(0x794);studentQuizArea[_0x179b37(0x78a)]=_0x27276f;let _0x4a3a4e='',_0x161577='';switch(_0x11373d){case'matching_item':_0x4a3a4e=currentQuestionIndex+0x1+'.\x20'+_0x56cdad[_0x179b37(0x514)],_0x161577=_0x179b37(0xb6)+_0x56cdad['allResponses'][_0x179b37(0x657)](_0x3b71fd=>'<option\x20value=\x22'+_0x3b71fd+'\x22>'+_0x3b71fd+_0x179b37(0x4b4))[_0x179b37(0x57e)]('')+_0x179b37(0x53a);break;case'true_false':_0x4a3a4e=currentQuestionIndex+0x1+'.\x20'+_0x56cdad[_0x179b37(0x55d)],_0x161577='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x179b37(0x512):_0x4a3a4e=currentQuestionIndex+0x1+'.\x20'+_0x56cdad['questionText'],_0x161577=_0x179b37(0x260);break;case'multiple_choice':case _0x179b37(0x427):default:_0x4a3a4e=currentQuestionIndex+0x1+'.\x20'+_0x56cdad[_0x179b37(0x55d)],_0x161577=_0x56cdad[_0x179b37(0x11a)]['map']((_0x419bc8,_0xe9464b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0xe9464b+_0x179b37(0x652)+_0xe9464b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0xe9464b+'\x22>'+_0x419bc8+_0x179b37(0x3e3))['join']('');break;}_0x56cdad['imageCode']&&(_0x4a3a4e+=_0x179b37(0x393)+_0x56cdad[_0x179b37(0x2f0)]+_0x179b37(0x6f));document[_0x179b37(0x337)](_0x179b37(0x34a))[_0x179b37(0x78a)]=_0x4a3a4e,document[_0x179b37(0x337)](_0x179b37(0x648))['innerHTML']=_0x161577;if(currentMode===_0x179b37(0x675)){const _0x3f1a34=document['getElementById']('cancel-test-btn');if(_0x3f1a34)_0x3f1a34['addEventListener'](_0x179b37(0x78f),cancelAdminTest);}document[_0x179b37(0x337)](_0x179b37(0x703))[_0x179b37(0x60b)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x179b37(0x7e6)])window[_0x179b37(0x7e6)][_0x179b37(0x1a9)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2c5cd5=_0x2a65e7,_0x20e636=currentDisplayedQuiz[_0x2c5cd5(0x61f)]['timerDuration'],_0x520f8b=document[_0x2c5cd5(0x337)](_0x2c5cd5(0x671));if(!_0x520f8b)return;let _0x30edbf=_0x20e636;_0x520f8b[_0x2c5cd5(0x78a)]=_0x2c5cd5(0x6da)+_0x30edbf+_0x2c5cd5(0x5cc);const _0x28625d=document[_0x2c5cd5(0x337)]('timer-bar'),_0x17e7b8=document['getElementById'](_0x2c5cd5(0x545));perQuestionTimerInterval=setInterval(()=>{const _0x18e088=_0x2c5cd5;_0x30edbf--;const _0x1314c2=_0x30edbf/_0x20e636*0x64;_0x28625d[_0x18e088(0x13d)][_0x18e088(0x33d)]=_0x1314c2+'%',_0x17e7b8[_0x18e088(0x8c)]=_0x30edbf,_0x30edbf<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x18e088(0x29d)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3d0b58=![]){const _0x29e999=_0x2a65e7;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x915421=null;if(!_0x3d0b58){const _0x21189b=currentDisplayedQuiz[_0x29e999(0xbb)][currentQuestionIndex],_0x2529c7=_0x21189b[_0x29e999(0x4f9)]||currentDisplayedQuiz[_0x29e999(0x58a)];if(_0x2529c7===_0x29e999(0x2cc)||_0x2529c7===_0x29e999(0x512)){const _0x5883cf=document[_0x29e999(0x66a)](_0x29e999(0x77b));_0x915421=_0x5883cf?_0x5883cf['value']['trim']():'';}else{if(_0x2529c7===_0x29e999(0x3b4)){const _0x571fd5=document[_0x29e999(0x66a)]('#per-question-options\x20select');_0x915421=_0x571fd5?_0x571fd5[_0x29e999(0x3d3)]:'';}else{const _0x5aa205=document[_0x29e999(0x66a)](_0x29e999(0x5d2));if(_0x5aa205){const _0x3a3b94=_0x5aa205[_0x29e999(0x3d3)];_0x915421=!isNaN(parseInt(_0x3a3b94,0xa))&&_0x3a3b94[_0x29e999(0x65d)]()!==''?parseInt(_0x3a3b94,0xa):_0x3a3b94;}}}}studentAnswersPerQuestion[_0x29e999(0x50e)](_0x915421),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x29e999(0xbb)][_0x29e999(0x6ea)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x42754c=_0x2a65e7,_0xfb0cdd=currentDisplayedQuiz[_0x42754c(0xbb)][_0x42754c(0x5e8)](_0x42ce5f=>_0x42ce5f[_0x42754c(0x4f9)]==='short_answer');_0xfb0cdd?showMessage(_0x42754c(0x245)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x405529=currentQuizData['id'],_0x288f72=doc(db,_0x42754c(0x374)+appId+'/public/data/quizzes/'+_0x405529+_0x42754c(0x443),currentStudentName),_0x153335=await getDoc(_0x288f72),_0x26539e=_0x153335[_0x42754c(0x5b6)]()?_0x153335[_0x42754c(0x1c7)]():{},_0x5abdf6=_0x26539e[_0x42754c(0x7b7)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5abdf6);}function getResultsFilename(){const _0x17547a=_0x2a65e7,_0x50f06c=document['getElementById']('results-quiz-title')[_0x17547a(0x8c)][_0x17547a(0x700)](/[^a-z0-9]/gi,'_')[_0x17547a(0x22f)]();return'results_'+(_0x50f06c||'quiz');}function exportResultsAsImage(){const _0x1df696=_0x2a65e7,_0x959968=document['getElementById'](_0x1df696(0x6f9));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x959968)[_0x1df696(0x6d3)](_0x255073=>{const _0x4a8deb=_0x1df696,_0x7689e1=document[_0x4a8deb(0x6e7)]('a');_0x7689e1['download']=getResultsFilename()+_0x4a8deb(0x3b7),_0x7689e1[_0x4a8deb(0x6b9)]=_0x255073['toDataURL'](_0x4a8deb(0x326)),_0x7689e1[_0x4a8deb(0x78f)](),messageModal[_0x4a8deb(0x51a)][_0x4a8deb(0x57f)]('hidden');});}function exportResultsAsPDF(){const _0x2d49d9=_0x2a65e7,{jsPDF:_0x395b08}=window['jspdf'],_0x27b891=new _0x395b08();_0x27b891[_0x2d49d9(0x468)](_0x2d49d9(0x2d0),'normal'),_0x27b891[_0x2d49d9(0x5e9)]({'html':_0x2d49d9(0x2e1)}),_0x27b891[_0x2d49d9(0x385)](getResultsFilename()+_0x2d49d9(0x6d9));}function exportResultsAsWord(){const _0x90c3f=_0x2a65e7,_0x4e04eb=_0x90c3f(0x30e)+_0x90c3f(0x58b)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x19e635=_0x90c3f(0x4ee),_0x56e9d7=_0x4e04eb+document['getElementById']('results-table-container')['innerHTML']+_0x19e635,_0x5f0a37=_0x90c3f(0x7ea)+encodeURIComponent(_0x56e9d7),_0x4d3f91=document[_0x90c3f(0x6e7)]('a');document[_0x90c3f(0x3ee)]['appendChild'](_0x4d3f91),_0x4d3f91[_0x90c3f(0x6b9)]=_0x5f0a37,_0x4d3f91['download']=getResultsFilename()+'.doc',_0x4d3f91[_0x90c3f(0x78f)](),document[_0x90c3f(0x3ee)][_0x90c3f(0x1e1)](_0x4d3f91);}function exportResultsAsExcel(){const _0x5702b1=_0x2a65e7,_0xf24e75=document[_0x5702b1(0x337)]('results-table');let _0x48742e=[];for(let _0x10ff95=0x0;_0x10ff95<_0xf24e75['rows'][_0x5702b1(0x6ea)];_0x10ff95++){let _0x19f012=[],_0x8b0e26=_0xf24e75[_0x5702b1(0x7ba)][_0x10ff95][_0x5702b1(0x4a9)](_0x5702b1(0x4a7));for(let _0x418775=0x0;_0x418775<_0x8b0e26['length'];_0x418775++){_0x19f012[_0x5702b1(0x50e)]('\x22'+_0x8b0e26[_0x418775][_0x5702b1(0x4f1)][_0x5702b1(0x700)](/"/g,'\x22\x22')+'\x22');}_0x48742e[_0x5702b1(0x50e)](_0x19f012[_0x5702b1(0x57e)](','));}const _0x482bf3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x48742e['join']('\x0a')],{'type':_0x5702b1(0x287)}),_0x4bf24d=document[_0x5702b1(0x6e7)]('a');_0x4bf24d[_0x5702b1(0x6b9)]=URL[_0x5702b1(0x765)](_0x482bf3),_0x4bf24d[_0x5702b1(0x5d4)]=getResultsFilename()+_0x5702b1(0x71f),_0x4bf24d[_0x5702b1(0x78f)]();}function exportTableAsImage(_0x2efae8,_0xc5f22d){const _0x280e11=_0x2a65e7,_0x54c9a8=document['getElementById'](_0x2efae8);if(!_0x54c9a8){showMessage(_0x280e11(0x803));return;}showMessage(_0x280e11(0x4f8)),html2canvas(_0x54c9a8)[_0x280e11(0x6d3)](_0x536035=>{const _0x389dda=_0x280e11,_0xda809=document[_0x389dda(0x6e7)]('a');_0xda809[_0x389dda(0x5d4)]=_0xc5f22d+_0x389dda(0x3b7),_0xda809[_0x389dda(0x6b9)]=_0x536035[_0x389dda(0x56f)]('image/png'),_0xda809[_0x389dda(0x78f)](),messageModal[_0x389dda(0x51a)][_0x389dda(0x57f)](_0x389dda(0x7b3));});}function exportTableAsPDF(_0x3e7708,_0x377e31){const _0x2782d6=_0x2a65e7,{jsPDF:_0x5749f6}=window[_0x2782d6(0x54d)],_0x32fd40=new _0x5749f6();_0x32fd40[_0x2782d6(0x468)]('helvetica',_0x2782d6(0x200)),_0x32fd40[_0x2782d6(0x5e9)]({'html':'#'+_0x3e7708}),_0x32fd40[_0x2782d6(0x385)](_0x377e31+_0x2782d6(0x6d9));}function exportTableAsWord(_0x30a1dd,_0xf8ebc5){const _0x5e32e2=_0x2a65e7,_0x3f9a50=document[_0x5e32e2(0x337)](_0x30a1dd);if(!_0x3f9a50){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x4ed89d=_0x5e32e2(0x30e)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x289f86=_0x5e32e2(0x4ee),_0x5cca3c=_0x4ed89d+_0x3f9a50['innerHTML']+_0x289f86,_0x1d2a34=_0x5e32e2(0x7ea)+encodeURIComponent(_0x5cca3c),_0x159df5=document[_0x5e32e2(0x6e7)]('a');document[_0x5e32e2(0x3ee)][_0x5e32e2(0x58d)](_0x159df5),_0x159df5['href']=_0x1d2a34,_0x159df5[_0x5e32e2(0x5d4)]=_0xf8ebc5+_0x5e32e2(0x173),_0x159df5[_0x5e32e2(0x78f)](),document['body'][_0x5e32e2(0x1e1)](_0x159df5);}function exportTableAsExcel(_0x4f1d9f,_0x53f387){const _0x1cb57b=_0x2a65e7,_0x310e91=document['getElementById'](_0x4f1d9f);if(!_0x310e91){showMessage(_0x1cb57b(0x803));return;}let _0x2977e9=[];for(let _0x23d009=0x0;_0x23d009<_0x310e91[_0x1cb57b(0x7ba)]['length'];_0x23d009++){let _0x2f6eba=[],_0x139836=_0x310e91[_0x1cb57b(0x7ba)][_0x23d009][_0x1cb57b(0x4a9)]('td,\x20th');for(let _0x4fe130=0x0;_0x4fe130<_0x139836[_0x1cb57b(0x6ea)];_0x4fe130++){_0x2f6eba['push']('\x22'+_0x139836[_0x4fe130]['innerText'][_0x1cb57b(0x700)](/"/g,'\x22\x22')+'\x22');}_0x2977e9[_0x1cb57b(0x50e)](_0x2f6eba[_0x1cb57b(0x57e)](','));}const _0x3d57a6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2977e9[_0x1cb57b(0x57e)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2e4660=document['createElement']('a');_0x2e4660[_0x1cb57b(0x6b9)]=URL['createObjectURL'](_0x3d57a6),_0x2e4660[_0x1cb57b(0x5d4)]=_0x53f387+_0x1cb57b(0x71f),_0x2e4660[_0x1cb57b(0x78f)]();}async function renderAnalytics(_0x5d3396,_0x31e8a9){const _0x5b6b40=_0x2a65e7,_0x58fe4c=currentProjectData[_0x5b6b40(0x2f3)][_0x5b6b40(0x6ea)],_0x29779b=_0x31e8a9[_0x5b6b40(0x6ea)],_0x34d78f=_0x58fe4c-_0x29779b,_0x55c9ab=_0x58fe4c>0x0?_0x29779b/_0x58fe4c*0x64:0x0,_0xfbba33=_0x31e8a9['map'](_0x4314d0=>_0x4314d0[_0x5b6b40(0x5a6)]),_0x579a13=_0xfbba33[_0x5b6b40(0x6ea)]>0x0?_0xfbba33[_0x5b6b40(0x5fb)]((_0x2088ef,_0x446646)=>_0x2088ef+_0x446646,0x0)/_0xfbba33[_0x5b6b40(0x6ea)]:0x0,_0x390475=_0x5d3396['questions'][_0x5b6b40(0x6ea)],_0x2ee961=_0x390475>0x0?_0x579a13/_0x390475*0x64:0x0,_0x530c6c=calculateItemAnalysis(_0x5d3396,_0x31e8a9),_0x6ffdef=calculateReliabilityKR20(_0x5d3396,_0x31e8a9,_0x530c6c[_0x5b6b40(0xe2)]);let _0x220a9e='';if(_0x6ffdef!==null){let _0x585dec='';if(_0x6ffdef>=0.9)_0x585dec='ยอดเยี่ยม';else{if(_0x6ffdef>=0.8)_0x585dec=_0x5b6b40(0x1fa);else{if(_0x6ffdef>=0.7)_0x585dec='ดี';else{if(_0x6ffdef>=0.6)_0x585dec=_0x5b6b40(0x5e6);else _0x585dec=_0x5b6b40(0x3a8);}}}_0x220a9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x6ffdef['toFixed'](0x2)+_0x5b6b40(0x4bd)+_0x585dec+_0x5b6b40(0x52c);}const _0x2c84ff=document['getElementById'](_0x5b6b40(0x71b));_0x2c84ff[_0x5b6b40(0x78a)]=_0x5b6b40(0x1be)+_0x55c9ab[_0x5b6b40(0x2bd)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x29779b+'/'+_0x58fe4c+_0x5b6b40(0xc7)+_0x579a13[_0x5b6b40(0x2bd)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x2ee961[_0x5b6b40(0x2bd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0xfbba33[_0x5b6b40(0x6ea)]>0x0?Math['max'](..._0xfbba33):'N/A')+_0x5b6b40(0xfd)+(_0xfbba33[_0x5b6b40(0x6ea)]>0x0?Math[_0x5b6b40(0x79f)](..._0xfbba33):_0x5b6b40(0x20f))+_0x5b6b40(0x611)+_0x220a9e+_0x5b6b40(0x7da);const _0x288a5a=document['getElementById'](_0x5b6b40(0x7a3));let _0x3fbe94=_0x5b6b40(0x44f);const _0x4a4bd8=_0x5d3396['settings']?.['passingScore'];if(_0x4a4bd8===undefined||_0x4a4bd8===null)_0x3fbe94+=_0x5b6b40(0x530);else{const _0x4071f6=_0x31e8a9[_0x5b6b40(0x3fd)](_0x1ba29c=>_0x1ba29c['latestScore']>=_0x4a4bd8)[_0x5b6b40(0x6ea)],_0x50b2bd=_0x58fe4c>0x0?_0x4071f6/_0x58fe4c*0x64:0x0,_0x3ecc87=_0x50b2bd>=0x46;_0x3fbe94+=_0x5b6b40(0x6e)+(_0x3ecc87?_0x5b6b40(0x1b3):_0x5b6b40(0x4b8))+_0x5b6b40(0x6de)+(_0x3ecc87?_0x5b6b40(0x52f):_0x5b6b40(0xb3))+_0x5b6b40(0x408)+(_0x3ecc87?_0x5b6b40(0x359):_0x5b6b40(0x428))+_0x5b6b40(0x29e)+_0x50b2bd[_0x5b6b40(0x2bd)](0x1)+_0x5b6b40(0x770)+_0x4071f6+_0x5b6b40(0x4d8)+_0x58fe4c+_0x5b6b40(0x4e6);if(_0x5d3396['quizMode']===_0x5b6b40(0x1ca)&&_0x5d3396[_0x5b6b40(0x1d3)]){const _0x313c80=doc(db,_0x5b6b40(0x374)+appId+_0x5b6b40(0x78d),_0x5d3396[_0x5b6b40(0x1d3)]),_0x6317b2=collection(db,_0x5b6b40(0x374)+appId+'/public/data/quizzes/'+_0x5d3396['pairedQuizId']+_0x5b6b40(0x443)),[_0x1e0d4a,_0x1502f5]=await Promise[_0x5b6b40(0x760)]([getDoc(_0x313c80),getDocs(_0x6317b2)]);if(_0x1e0d4a[_0x5b6b40(0x5b6)]()){const _0x52fb56=_0x1e0d4a[_0x5b6b40(0x1c7)](),_0xfafb40=_0x1502f5[_0x5b6b40(0x7dc)][_0x5b6b40(0x657)](_0x12033e=>_0x12033e['data']()),_0x2c5c35=_0x52fb56[_0x5b6b40(0x61f)]?.[_0x5b6b40(0x640)],_0xc00abc=_0xfafb40[_0x5b6b40(0x3fd)](_0xcf4639=>_0xcf4639[_0x5b6b40(0x406)]<_0x2c5c35)[_0x5b6b40(0x657)](_0x527595=>_0x527595[_0x5b6b40(0x582)]),_0x5266af=_0xc00abc[_0x5b6b40(0x6ea)],_0x58505e=_0x31e8a9['filter'](_0x23913f=>_0xc00abc[_0x5b6b40(0x714)](_0x23913f[_0x5b6b40(0x582)])&&_0x23913f[_0x5b6b40(0x5a6)]>=_0x4a4bd8)[_0x5b6b40(0x6ea)],_0x4887cc=_0x5266af>0x0?_0x58505e/_0x5266af*0x64:0x0,_0x364eb7=_0x4887cc>=0x46;_0x3fbe94+=_0x5b6b40(0x6c0)+_0x5d3396[_0x5b6b40(0x1d3)]+'\x22\x20data-post-test-id=\x22'+_0x5d3396['id']+_0x5b6b40(0x3d5)+(_0x364eb7?_0x5b6b40(0x1b3):_0x5b6b40(0x4b8))+_0x5b6b40(0x6de)+(_0x364eb7?_0x5b6b40(0x52f):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>')+_0x5b6b40(0x7e)+(_0x364eb7?_0x5b6b40(0x359):_0x5b6b40(0x428))+_0x5b6b40(0x21e)+_0x4887cc['toFixed'](0x1)+'%\x20('+_0x58505e+_0x5b6b40(0x39c)+_0x5266af+_0x5b6b40(0x5cb);}}else{const _0x3d0312=_0x31e8a9[_0x5b6b40(0x3fd)](_0x5bbf13=>_0x5bbf13['firstScore']<_0x4a4bd8),_0x58b23e=_0x3d0312[_0x5b6b40(0x3fd)](_0x37002b=>_0x37002b['bestScore']>=_0x4a4bd8)[_0x5b6b40(0x6ea)],_0x22103d=_0x3d0312[_0x5b6b40(0x6ea)]>0x0?_0x58b23e/_0x3d0312['length']*0x64:0x0,_0xa6d3a=_0x22103d>=0x46;_0x3fbe94+=_0x5b6b40(0x44b)+(_0xa6d3a?_0x5b6b40(0x1b3):_0x5b6b40(0x4b8))+_0x5b6b40(0x2ec)+(_0xa6d3a?_0x5b6b40(0x52f):_0x5b6b40(0xb3))+_0x5b6b40(0x470)+(_0xa6d3a?_0x5b6b40(0x359):_0x5b6b40(0x428))+_0x5b6b40(0xfc)+_0x22103d[_0x5b6b40(0x2bd)](0x1)+_0x5b6b40(0x770)+_0x58b23e+_0x5b6b40(0x39c)+_0x3d0312[_0x5b6b40(0x6ea)]+_0x5b6b40(0x562);}}_0x288a5a['innerHTML']=_0x3fbe94;const _0xbea2=document[_0x5b6b40(0x337)](_0x5b6b40(0x442));_0xbea2&&_0xbea2[_0x5b6b40(0x5a5)]();const _0x20f883=_0x5b6b40(0x247);_0x2c84ff[_0x5b6b40(0x2db)](_0x5b6b40(0x5d6),_0x20f883);const _0x5eee6b=currentProjectData[_0x5b6b40(0x2f3)]||[];renderSubmissionChart(_0x29779b,_0x34d78f,_0x31e8a9,_0x5eee6b),renderScoreDistributionChart(_0x31e8a9,_0x390475),renderQuestionAnalytics(_0x5d3396,_0x31e8a9,_0x5eee6b),renderInterestingStats(_0x5d3396,_0x31e8a9);}async function handleExportLessonPDF(){const _0x17cf15=_0x2a65e7,_0x467e5c=document[_0x17cf15(0x337)]('lesson-plan-content'),_0x1ded10=document[_0x17cf15(0x337)](_0x17cf15(0x1d8))[_0x17cf15(0x8c)],_0x22bd6c=window['open']('','_blank'),_0x27e263=_0x17cf15(0x587)+_0x1ded10+_0x17cf15(0xbc)+_0x467e5c['innerHTML']+_0x17cf15(0x7b1);_0x22bd6c[_0x17cf15(0xc9)][_0x17cf15(0x7b5)](_0x27e263),_0x22bd6c['document'][_0x17cf15(0x4ff)](),_0x22bd6c[_0x17cf15(0x659)]=function(){setTimeout(()=>{const _0x151f75=_0x2fd9;_0x22bd6c[_0x151f75(0x553)]();},0x5dc);};}function renderInterestingStats(_0x2862e3,_0x41bff3){const _0x1f8ba8=_0x2a65e7,_0xaa82c2=document['getElementById']('interesting-stats-container');if(!_0xaa82c2)return;if(_0x41bff3[_0x1f8ba8(0x6ea)]===0x0){_0xaa82c2[_0x1f8ba8(0x78a)]=_0x1f8ba8(0x591);return;}const _0x96ffdb=_0x2862e3[_0x1f8ba8(0xbb)][_0x1f8ba8(0x657)]((_0x60aa97,_0xde91f4)=>({'index':_0xde91f4+0x1,'text':_0x60aa97[_0x1f8ba8(0x55d)]||_0x60aa97[_0x1f8ba8(0x514)],'correct':0x0}));_0x41bff3[_0x1f8ba8(0x785)](_0x1090f5=>{const _0xaac09f=_0x1f8ba8,_0x1f97db=_0x1090f5['attempts'][_0x1090f5['attempts'][_0xaac09f(0x6ea)]-0x1];_0x1f97db&&_0x1f97db[_0xaac09f(0x4ce)]&&_0x1f97db[_0xaac09f(0x4ce)][_0xaac09f(0x785)](_0x2f57fe=>{const _0x3d631=_0xaac09f,_0x2db7ff=_0x96ffdb[_0x3d631(0x282)](_0x51a52a=>_0x51a52a[_0x3d631(0x47c)]===_0x2f57fe[_0x3d631(0x40a)]);_0x2f57fe[_0x3d631(0x1da)]&&_0x2db7ff&&_0x2db7ff[_0x3d631(0x42b)]++;});});const _0x143c51=_0x41bff3[_0x1f8ba8(0x6ea)],_0x5b147a=Math[_0x1f8ba8(0x23f)](..._0x96ffdb[_0x1f8ba8(0x657)](_0x5c3162=>_0x5c3162['correct'])),_0x36b1bf=Math['min'](..._0x96ffdb[_0x1f8ba8(0x657)](_0x289de1=>_0x289de1[_0x1f8ba8(0x42b)])),_0x31ca4a=_0x96ffdb[_0x1f8ba8(0x3fd)](_0x390f16=>_0x390f16[_0x1f8ba8(0x42b)]===_0x5b147a)['map'](_0x15a25f=>_0x1f8ba8(0x779)+_0x15a25f[_0x1f8ba8(0x4b5)]),_0x1d410e=_0x96ffdb[_0x1f8ba8(0x3fd)](_0x18782c=>_0x18782c[_0x1f8ba8(0x42b)]===_0x36b1bf)[_0x1f8ba8(0x657)](_0x54e926=>'ข้อ\x20'+_0x54e926[_0x1f8ba8(0x4b5)]),_0x1553f8=_0x41bff3[_0x1f8ba8(0x48f)]((_0x49b410,_0x247876)=>_0x247876[_0x1f8ba8(0x5a6)]-_0x49b410[_0x1f8ba8(0x5a6)])[_0x1f8ba8(0x3fd)]((_0x50d772,_0x2ad40a,_0x27c34f)=>_0x50d772[_0x1f8ba8(0x5a6)]===_0x27c34f[0x0][_0x1f8ba8(0x5a6)]),_0xd25092=_0x41bff3[_0x1f8ba8(0x48f)]((_0x263e81,_0x3d8e08)=>_0x263e81['latestScore']-_0x3d8e08['latestScore'])[_0x1f8ba8(0x3fd)]((_0x2cc526,_0x5183c2,_0x579c58)=>_0x2cc526[_0x1f8ba8(0x5a6)]===_0x579c58[0x0][_0x1f8ba8(0x5a6)]),_0xe2b338=_0x1f8ba8(0x3f7)+_0x31ca4a[_0x1f8ba8(0x57e)](',\x20')+_0x1f8ba8(0xd4)+_0x5b147a+_0x1f8ba8(0x6c7)+_0x143c51+_0x1f8ba8(0x3f0)+_0x1d410e[_0x1f8ba8(0x57e)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x143c51-_0x36b1bf)+'\x20/\x20'+_0x143c51+_0x1f8ba8(0x2b6)+_0x1553f8[_0x1f8ba8(0x657)](_0x4b8047=>_0x4b8047[_0x1f8ba8(0x582)])[_0x1f8ba8(0x57e)](',\x20')+_0x1f8ba8(0x304)+_0x1553f8[0x0][_0x1f8ba8(0x5a6)]+_0x1f8ba8(0x32b)+_0xd25092[_0x1f8ba8(0x657)](_0x492c42=>_0x492c42[_0x1f8ba8(0x582)])['join'](',\x20')+_0x1f8ba8(0x304)+_0xd25092[0x0]['latestScore']+_0x1f8ba8(0x190);_0xaa82c2['innerHTML']=_0xe2b338;}function renderSubmissionChart(_0xfddb6,_0xfe1ff1,_0x3071fd,_0x54d356){const _0x2cc1da=_0x2a65e7,_0x2e07db=document[_0x2cc1da(0x337)](_0x2cc1da(0x377))[_0x2cc1da(0x2ce)]('2d'),_0x58fadb=_0x3071fd['map'](_0x201e14=>_0x201e14[_0x2cc1da(0x582)]),_0x571e60=_0x54d356[_0x2cc1da(0x3fd)](_0x243776=>!_0x58fadb['includes'](_0x243776));chartInstances[_0x2cc1da(0x5a0)]&&chartInstances['submission'][_0x2cc1da(0x96)](),chartInstances[_0x2cc1da(0x5a0)]=new Chart(_0x2e07db,{'type':'doughnut','data':{'labels':[_0x2cc1da(0x378),_0x2cc1da(0x5c4)],'datasets':[{'data':[_0xfddb6,_0xfe1ff1],'backgroundColor':['#10B981',_0x2cc1da(0x1c2)],'borderColor':['#ffffff',_0x2cc1da(0x404)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2cc1da(0x7c3)},'tooltip':{'callbacks':{'label':function(_0x1b3eb7){const _0x577b39=_0x2cc1da;let _0x18bc00=_0x1b3eb7[_0x577b39(0x124)]||'';return _0x18bc00&&(_0x18bc00+=':\x20'),_0x18bc00+=_0x1b3eb7[_0x577b39(0x1ad)],_0x18bc00;},'afterLabel':function(_0x1fb2ac){const _0x369496=_0x2cc1da;let _0x2ae414;return _0x1fb2ac[_0x369496(0x321)]===0x0?_0x2ae414=_0x58fadb:_0x2ae414=_0x571e60,_0x2ae414['length']>0x0?_0x2ae414[_0x369496(0x57e)]('\x0a'):_0x369496(0x7cf);}}}}}});}function renderScoreDistributionChart(_0x5e9179,_0x35ac08){const _0x53a6fd=_0x2a65e7,_0x4558d2=document[_0x53a6fd(0x337)]('score-distribution-chart')['getContext']('2d'),_0x32448a={};for(let _0x34a391=0x0;_0x34a391<=_0x35ac08;_0x34a391++){_0x32448a[_0x34a391]=0x0;}_0x5e9179['forEach'](_0x413d80=>{const _0x540535=_0x53a6fd;_0x32448a[_0x413d80[_0x540535(0x5a6)]]!==undefined&&_0x32448a[_0x413d80[_0x540535(0x5a6)]]++;}),chartInstances[_0x53a6fd(0x17a)]&&chartInstances[_0x53a6fd(0x17a)][_0x53a6fd(0x96)](),chartInstances[_0x53a6fd(0x17a)]=new Chart(_0x4558d2,{'type':_0x53a6fd(0x4f4),'data':{'labels':Object[_0x53a6fd(0x668)](_0x32448a),'datasets':[{'label':_0x53a6fd(0x267),'data':Object['values'](_0x32448a),'backgroundColor':_0x53a6fd(0x6bc),'borderColor':_0x53a6fd(0x67f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x33006c){const _0x1d35e8=_0x53a6fd,_0x5c18da=_0x33006c['label'],_0x1e6fcf=_0x5e9179[_0x1d35e8(0x3fd)](_0x358443=>_0x358443[_0x1d35e8(0x5a6)]==_0x5c18da)[_0x1d35e8(0x657)](_0x2d76d3=>_0x2d76d3['studentName']);return _0x1e6fcf[_0x1d35e8(0x6ea)]>0x0?_0x1e6fcf[_0x1d35e8(0x57e)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xfcdd45,_0x5c4fef,_0x4c4969){const _0xa8d649=_0x2a65e7,_0x137696=document[_0xa8d649(0x337)](_0xa8d649(0x2cf));if(_0x4c4969[_0xa8d649(0x6ea)]===0x0){_0x137696[_0xa8d649(0x78a)]=_0xa8d649(0x4ae);return;}const _0x7b9601=calculateItemAnalysis(_0xfcdd45,_0x5c4fef),_0x137498=calculateDistractorAnalysis(_0xfcdd45,_0x5c4fef);let _0x13bd91='';_0x7b9601['overallGroups']&&(_0x13bd91=_0xa8d649(0x625)+_0x7b9601[_0xa8d649(0xfa)]['upperGroupNames']['length']+_0xa8d649(0x5cd)+_0x7b9601[_0xa8d649(0xfa)][_0xa8d649(0x67a)][_0xa8d649(0x657)](_0x273fdd=>'<li>'+_0x273fdd+_0xa8d649(0x2fa))[_0xa8d649(0x57e)]('')+_0xa8d649(0x47b)+_0x7b9601[_0xa8d649(0xfa)]['lowerGroupNames'][_0xa8d649(0x6ea)]+_0xa8d649(0x5cd)+_0x7b9601[_0xa8d649(0xfa)][_0xa8d649(0x325)][_0xa8d649(0x657)](_0x3cf7c0=>_0xa8d649(0x285)+_0x3cf7c0+_0xa8d649(0x2fa))[_0xa8d649(0x57e)]('')+_0xa8d649(0x4c9));let _0x3152f8='';const _0x5b62c7=_0x5c4fef['map'](_0x471ad6=>_0x471ad6[_0xa8d649(0x582)]),_0x51675c=_0x714784=>{const _0x322d8f=_0xa8d649;if(_0x714784>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x714784>=0.6)return _0x322d8f(0xa6);if(_0x714784>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x714784>=0.2)return _0x322d8f(0xb7);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x2a4035=_0x2e777d=>{const _0xcb62a6=_0xa8d649;if(_0x2e777d<0x0)return _0xcb62a6(0x118);if(_0x2e777d>=0.4)return _0xcb62a6(0x53b);if(_0x2e777d>=0.3)return _0xcb62a6(0x68);if(_0x2e777d>=0.2)return _0xcb62a6(0x4dd);return _0xcb62a6(0x7cd);},_0x4d432c=_0x54c810=>{const _0x4b34d4=_0xa8d649,_0x531df5=_0x54c810[_0x4b34d4(0x2bd)](0x0);if(parseFloat(_0x531df5)===0x64)return _0x4b34d4(0x2d1)+_0x531df5+_0x4b34d4(0x207);if(_0x54c810>=0x32)return _0x4b34d4(0x12d)+_0x531df5+_0x4b34d4(0x207);return _0x4b34d4(0x42d)+_0x531df5+_0x4b34d4(0x207);};_0xfcdd45[_0xa8d649(0xbb)][_0xa8d649(0x785)]((_0x3fbcfb,_0x4aa2d1)=>{const _0x31e489=_0xa8d649,_0x314e71=_0x7b9601['perQuestionStats'][_0x4aa2d1],_0x3d39cd=_0x137498[_0x4aa2d1],_0x4a88b2=_0x3fbcfb['stem']||_0x3fbcfb[_0x31e489(0x55d)]||_0x3fbcfb['instructions'];let _0x198065=0x0;const _0x3e3035=[],_0x80c064=[];_0x5c4fef[_0x31e489(0x785)](_0x5ebddd=>{const _0x5ac8df=_0x31e489,_0x459d64=_0x5ebddd[_0x5ac8df(0x7b7)][_0x5ebddd[_0x5ac8df(0x7b7)][_0x5ac8df(0x6ea)]-0x1];if(_0x459d64&&_0x459d64[_0x5ac8df(0x4ce)]){const _0x366b03=_0x459d64['answers']['find'](_0x31c508=>_0x31c508[_0x5ac8df(0x40a)]===_0x4a88b2)??_0x459d64[_0x5ac8df(0x4ce)][_0x4aa2d1]??null;_0x366b03&&(_0x366b03['isCorrect']?(_0x198065++,_0x3e3035[_0x5ac8df(0x50e)](_0x5ebddd[_0x5ac8df(0x582)])):_0x80c064[_0x5ac8df(0x50e)](_0x5ebddd[_0x5ac8df(0x582)]));}});const _0x2753bf=_0x5c4fef['length']>0x0?_0x198065/_0x5c4fef[_0x31e489(0x6ea)]*0x64:0x0,_0x167826=_0x4c4969[_0x31e489(0x3fd)](_0x26b914=>!_0x5b62c7['includes'](_0x26b914)),_0x178891=_0x314e71?_0x31e489(0x3f3)+_0x314e71['p'][_0x31e489(0x2bd)](0x2)+'</p><div>'+_0x51675c(_0x314e71['p'])+_0x31e489(0x434)+_0x314e71['r']['toFixed'](0x2)+_0x31e489(0x4a5)+_0x2a4035(_0x314e71['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d432c(_0x2753bf)+_0x31e489(0x281):'';let _0x5dae97='';_0x3d39cd&&(_0x5dae97='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x31e489(0x668)](_0x3d39cd)['map'](_0x9b96c4=>{const _0x49ae4f=_0x31e489,_0x20e9c6=_0x3d39cd[_0x9b96c4],_0x481a83=parseInt(_0x9b96c4)===_0x3fbcfb[_0x49ae4f(0x539)],_0x488906=!_0x481a83&&_0x20e9c6[_0x49ae4f(0x716)]>_0x20e9c6[_0x49ae4f(0x241)];return _0x49ae4f(0x715)+(_0x481a83?_0x49ae4f(0x39f):'')+_0x49ae4f(0x192)+(_0x481a83?'✔\x20':'')+_0x20e9c6['text']+_0x49ae4f(0x3af)+_0x20e9c6['upper_group_count']+_0x49ae4f(0x3af)+_0x20e9c6[_0x49ae4f(0x716)]+'\x20'+(_0x488906?'👍':'')+_0x49ae4f(0x3af)+_0x20e9c6[_0x49ae4f(0x329)]+_0x49ae4f(0xda);})['join']('')+_0x31e489(0x4e5));let _0x1e32f4='';_0x314e71&&_0x314e71['upperGroupResponders']&&(_0x1e32f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x314e71[_0x31e489(0xc2)][_0x31e489(0x6ea)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x314e71['upperGroupResponders'][_0x31e489(0x657)](_0x2f6efd=>'<li>'+(_0x2f6efd['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x31e489(0x717))+'\x20'+_0x2f6efd[_0x31e489(0x2c3)]+_0x31e489(0x2fa))['join']('')+_0x31e489(0x81)+_0x314e71[_0x31e489(0x73a)]['length']+_0x31e489(0x252)+_0x314e71[_0x31e489(0x73a)][_0x31e489(0x657)](_0x3f5b30=>_0x31e489(0x285)+(_0x3f5b30['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x31e489(0x717))+'\x20'+_0x3f5b30[_0x31e489(0x2c3)]+_0x31e489(0x2fa))[_0x31e489(0x57e)]('')+_0x31e489(0x62e)),_0x3152f8+=_0x31e489(0x5f0)+(_0x4aa2d1+0x1)+':\x20'+_0x4a88b2+_0x31e489(0xf7)+_0x178891+_0x31e489(0x572)+_0x4a88b2+_0x31e489(0x26f)+_0x198065+_0x31e489(0x626)+_0x5c4fef[_0x31e489(0x6ea)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x2753bf[_0x31e489(0x2bd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x3e3035[_0x31e489(0x6ea)]+_0x31e489(0x5fa)+(_0x3e3035[_0x31e489(0x6ea)]>0x0?_0x3e3035['join'](',\x20'):_0x31e489(0x7cf))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x80c064['length']+_0x31e489(0x5fa)+(_0x80c064[_0x31e489(0x6ea)]>0x0?_0x80c064[_0x31e489(0x57e)](',\x20'):_0x31e489(0x7cf))+_0x31e489(0x2dc)+_0x167826[_0x31e489(0x6ea)]+_0x31e489(0x5fa)+(_0x167826[_0x31e489(0x6ea)]>0x0?_0x167826[_0x31e489(0x57e)](',\x20'):_0x31e489(0x7cf))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dae97+_0x31e489(0x789)+_0x1e32f4+_0x31e489(0x1cc);}),_0x137696[_0xa8d649(0x78a)]=_0x13bd91+_0x3152f8;try{window[_0xa8d649(0x7e6)]&&MathJax['typesetPromise']&&MathJax[_0xa8d649(0x1a9)]([_0x137696]);}catch(_0x4a6fc3){console[_0xa8d649(0x227)](_0xa8d649(0xcf),_0x4a6fc3);}}function calculateDistractorAnalysis(_0x4bb955,_0x413dea){const _0x5d803e=_0x2a65e7,_0x1ba26c={};if(_0x413dea[_0x5d803e(0x6ea)]<0x2)return _0x1ba26c;const _0x3cd64a=[..._0x413dea][_0x5d803e(0x48f)]((_0x379542,_0x502c9a)=>{const _0x493369=_0x5d803e,_0x41381a=_0x502c9a[_0x493369(0x5a6)]-_0x379542['latestScore'];if(_0x41381a!==0x0)return _0x41381a;const _0x1c14ea=_0x379542[_0x493369(0x7b7)]?.['length']||0x1,_0x1a94c6=_0x502c9a['attempts']?.[_0x493369(0x6ea)]||0x1,_0x4648d2=_0x1c14ea-_0x1a94c6;if(_0x4648d2!==0x0)return _0x4648d2;const _0x188c3e=new Date(_0x379542['latestSubmittedAt']),_0x5f333f=new Date(_0x502c9a['latestSubmittedAt']),_0x5a4ff0=_0x188c3e-_0x5f333f;if(_0x5a4ff0!==0x0)return _0x5a4ff0;return _0x379542[_0x493369(0x582)]['localeCompare'](_0x502c9a[_0x493369(0x582)],'th');}),_0x4e1f4a=_0x3cd64a[_0x5d803e(0x6ea)],_0x50e8e0=Math[_0x5d803e(0x23f)](0x1,Math['floor'](_0x4e1f4a*0.33)),_0x55ded4=_0x3cd64a[_0x5d803e(0x612)](0x0,_0x50e8e0),_0xcee6af=_0x3cd64a[_0x5d803e(0x612)](-_0x50e8e0);return _0x4bb955[_0x5d803e(0xbb)][_0x5d803e(0x785)]((_0x3298ed,_0x47e62a)=>{const _0x168231=_0x5d803e;if(_0x3298ed['questionType']!=='multiple_choice'||!_0x3298ed['options'])return;const _0x2fb798=_0x3298ed[_0x168231(0x55d)],_0x452719={};_0x3298ed[_0x168231(0x11a)]['forEach']((_0x2a5b6f,_0x1f6964)=>{_0x452719[_0x1f6964]={'text':_0x2a5b6f,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3cd64a[_0x168231(0x785)](_0x380fcf=>{const _0x2b763e=_0x168231,_0x581f75=_0x380fcf[_0x2b763e(0x7b7)][_0x380fcf[_0x2b763e(0x7b7)]['length']-0x1],_0x47b2f9=_0x581f75[_0x2b763e(0x4ce)][_0x2b763e(0x282)](_0x29055c=>_0x29055c[_0x2b763e(0x40a)]===_0x2fb798);if(_0x47b2f9&&_0x47b2f9[_0x2b763e(0x7b2)]!==null){const _0x4dc929=_0x3298ed[_0x2b763e(0x11a)][_0x2b763e(0x688)](_0x1295e6=>_0x1295e6===_0x47b2f9[_0x2b763e(0x7d0)]);_0x4dc929!==-0x1&&_0x452719[_0x4dc929]&&(_0x452719[_0x4dc929][_0x2b763e(0x329)]++,_0x55ded4['includes'](_0x380fcf)&&_0x452719[_0x4dc929][_0x2b763e(0x241)]++,_0xcee6af[_0x2b763e(0x714)](_0x380fcf)&&_0x452719[_0x4dc929]['lower_group_count']++);}}),_0x1ba26c[_0x47e62a]=_0x452719;}),_0x1ba26c;}function calculateReliabilityKR20(_0x141deb,_0x54b078,_0x4cf6fa){const _0x464cb5=_0x2a65e7,_0xeeea14=_0x141deb[_0x464cb5(0xbb)][_0x464cb5(0x6ea)];if(_0xeeea14<0x2||_0x54b078['length']<0x2)return null;const _0x3d8d96=_0x54b078[_0x464cb5(0x657)](_0x2c83c3=>_0x2c83c3[_0x464cb5(0x5a6)]),_0x199693=_0x3d8d96[_0x464cb5(0x5fb)]((_0x3a10f9,_0x4c4ed8)=>_0x3a10f9+_0x4c4ed8,0x0)/_0x3d8d96['length'],_0x25d8f8=_0x3d8d96[_0x464cb5(0x657)](_0x16684e=>Math[_0x464cb5(0x1f6)](_0x16684e-_0x199693,0x2))[_0x464cb5(0x5fb)]((_0x80d6ea,_0xa950d0)=>_0x80d6ea+_0xa950d0,0x0)/_0x3d8d96[_0x464cb5(0x6ea)];if(_0x25d8f8===0x0)return null;let _0x14aa7f=0x0;for(let _0x593477=0x0;_0x593477<_0xeeea14;_0x593477++){const _0x5543e1=_0x4cf6fa[_0x593477]?.['p'];if(_0x5543e1===undefined)continue;const _0x36dcca=0x1-_0x5543e1;_0x14aa7f+=_0x5543e1*_0x36dcca;}if(_0x14aa7f===0x0)return null;const _0x4cc12c=_0xeeea14/(_0xeeea14-0x1)*(0x1-_0x14aa7f/_0x25d8f8);if(_0x4cc12c>0x1)return null;return _0x4cc12c;}async function handleAnalyzeClass(){const _0x54bcc0=_0x2a65e7;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x54bcc0(0x310));return;}const _0xed6e6a=collection(db,_0x54bcc0(0x374)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x2d396c=await getDocs(_0xed6e6a),_0x4e5364=_0x2d396c['docs'][_0x54bcc0(0x657)](_0xf2ccae=>_0xf2ccae[_0x54bcc0(0x1c7)]());if(_0x4e5364[_0x54bcc0(0x6ea)]<0x2){showMessage(_0x54bcc0(0x331));return;}const _0x26367f=document[_0x54bcc0(0x337)](_0x54bcc0(0x16d));_0x26367f[_0x54bcc0(0x78a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x54bcc0(0x337)](_0x54bcc0(0x3c7))['disabled']=!![];const _0x277473=_0x4e5364[_0x54bcc0(0x657)]((_0x186138,_0x55f56e)=>{const _0x1feb3d=_0x54bcc0,_0x51387a=_0x186138['attempts'][_0x186138[_0x1feb3d(0x7b7)]['length']-0x1];if(!_0x51387a)return'';return _0x1feb3d(0x2da)+(_0x55f56e+0x1)+'\x20('+_0x186138['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x51387a[_0x1feb3d(0x17a)]+'/'+_0x186138[_0x1feb3d(0x31b)]+_0x1feb3d(0x798)+JSON[_0x1feb3d(0x633)](_0x51387a['answers'])+_0x1feb3d(0x22b);})[_0x54bcc0(0x57e)]('\x0a---\x0a'),_0xd407e2=_0x54bcc0(0x145)+currentQuizData[_0x54bcc0(0x4f5)]+_0x54bcc0(0x391)+JSON['stringify'](currentQuizData[_0x54bcc0(0xbb)])+_0x54bcc0(0x641)+_0x277473+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x2d4c5c={'type':_0x54bcc0(0x104),'properties':{'classStrengths':{'type':_0x54bcc0(0x27d),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x54bcc0(0x11e)}},'teacherSuggestions':{'type':_0x54bcc0(0x27d),'items':{'type':_0x54bcc0(0x11e)}}},'required':[_0x54bcc0(0x97),_0x54bcc0(0x38e),_0x54bcc0(0x447)]};try{const _0x5f25fa=await callAnalysisApi(_0xd407e2,_0x2d4c5c);displayClassAnalysis(_0x5f25fa);}catch(_0x3f37c6){console['error'](_0x54bcc0(0x702),_0x3f37c6),_0x26367f[_0x54bcc0(0x78a)]=_0x54bcc0(0xc8)+_0x3f37c6[_0x54bcc0(0x409)]+_0x54bcc0(0x4c7);}finally{document[_0x54bcc0(0x337)]('analyze-strengths-btn')[_0x54bcc0(0x7d9)]=![];}}function displayClassAnalysis(_0x1be768){const _0x32c874=_0x2a65e7,_0xc873d5=document[_0x32c874(0x337)](_0x32c874(0x16d));if(!_0x1be768){_0xc873d5[_0x32c874(0x78a)]=_0x32c874(0x278);return;}_0xc873d5[_0x32c874(0x78a)]=_0x32c874(0x7a)+_0x1be768['classStrengths']['map'](_0x2d27bd=>_0x32c874(0x285)+_0x2d27bd+_0x32c874(0x2fa))[_0x32c874(0x57e)]('')+_0x32c874(0x9e)+_0x1be768[_0x32c874(0x38e)][_0x32c874(0x657)](_0x53f0d3=>_0x32c874(0x285)+_0x53f0d3+_0x32c874(0x2fa))[_0x32c874(0x57e)]('')+_0x32c874(0x4e2)+_0x1be768[_0x32c874(0x447)][_0x32c874(0x657)](_0x42f338=>_0x32c874(0x285)+_0x42f338+_0x32c874(0x2fa))[_0x32c874(0x57e)]('')+_0x32c874(0x24c);}function formatAndPrintWorksheet(_0x57c5df,_0xde26f4){const _0x3c351c=_0x2a65e7,_0x54354a=_0x3c351c(0x327)+_0x57c5df[_0x3c351c(0x4f5)]+_0x3c351c(0x430)+_0x57c5df[_0x3c351c(0x4f5)]+_0x3c351c(0x1de)+_0x57c5df[_0x3c351c(0xbb)][_0x3c351c(0x657)]((_0x6bb284,_0x48e9b4)=>_0x3c351c(0x46b)+(_0x48e9b4+0x1)+'.\x20'+_0x6bb284[_0x3c351c(0x55d)]+_0x3c351c(0x6a6)+(_0x6bb284[_0x3c351c(0x2f0)]?_0x3c351c(0x47d)+_0x6bb284[_0x3c351c(0x2f0)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3c351c(0x57e)]('')+_0x3c351c(0x6a5);_0xde26f4[_0x3c351c(0xc9)][_0x3c351c(0x7b5)](_0x54354a),_0xde26f4[_0x3c351c(0xc9)][_0x3c351c(0x4ff)](),_0xde26f4['onload']=function(){setTimeout(()=>{_0xde26f4['print']();},0x3e8);};}async function generateWorksheet(){const _0x386e30=_0x2a65e7,_0x2d00b9=document[_0x386e30(0x337)](_0x386e30(0x60e))['value']['trim']();if(!_0x2d00b9){showMessage(_0x386e30(0x2b0));return;}const _0x3ac11b=document['getElementById'](_0x386e30(0x4c8))[_0x386e30(0x635)],_0x37565c=_0x3ac11b?'':_0x386e30(0x77e),_0x49e081=window[_0x386e30(0x526)]('',_0x386e30(0x51c));_0x49e081['document'][_0x386e30(0x7b5)](_0x386e30(0x403));const _0x3bf21f=parseInt(document[_0x386e30(0x337)]('num-questions')[_0x386e30(0x3d3)]),_0x15419a=document[_0x386e30(0x337)]('include-images-checkbox')[_0x386e30(0x635)],_0x83c4e=_0x15419a?_0x386e30(0x51f):'',_0x31615d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x37565c+_0x386e30(0x589)+_0x3bf21f+_0x386e30(0x35c)+_0x2d00b9+_0x386e30(0x66b)+_0x83c4e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x386e30(0x6d),_0x564621={'type':_0x386e30(0x104),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x386e30(0x27d),'items':{'type':_0x386e30(0x104),'properties':{'questionText':{'type':_0x386e30(0x11e)},'imageCode':{'type':'STRING'}},'required':[_0x386e30(0x55d)]}}},'required':[_0x386e30(0x4f5),'questions']};document[_0x386e30(0x337)](_0x386e30(0x17e))['textContent']='',document[_0x386e30(0x337)](_0x386e30(0x1c6))['classList'][_0x386e30(0x5a5)](_0x386e30(0x7b3)),document[_0x386e30(0x337)](_0x386e30(0x415))[_0x386e30(0x51a)][_0x386e30(0x5a5)](_0x386e30(0x7b3)),generateWorksheetBtn[_0x386e30(0x7d9)]=!![];try{const _0x30119b=await callAnalysisApi(_0x31615d,_0x564621);formatAndPrintWorksheet(_0x30119b,_0x49e081);}catch(_0x31a6fd){console['error'](_0x386e30(0x262),_0x31a6fd);if(_0x49e081)_0x49e081[_0x386e30(0x4ff)]();showMessage(_0x386e30(0x76b));}finally{document[_0x386e30(0x337)]('loader')['classList'][_0x386e30(0x57f)](_0x386e30(0x7b3)),document[_0x386e30(0x337)](_0x386e30(0x415))[_0x386e30(0x51a)]['add'](_0x386e30(0x7b3)),generateWorksheetBtn[_0x386e30(0x7d9)]=![];}}async function callAnalysisApi(_0x2e800f,_0x400780){const _0x5989f8=_0x2a65e7,_0x43d7fd={'contents':[{'role':'user','parts':[{'text':_0x2e800f}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x400780}},_0x50660b=_0x5989f8(0x2f7),_0x3e0b89=_0x5989f8(0x383)+_0x50660b,_0x194ea8=await fetch(_0x3e0b89,{'method':_0x5989f8(0x3d4),'headers':{'Content-Type':_0x5989f8(0x1c8)},'body':JSON['stringify'](_0x43d7fd)});if(!_0x194ea8['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x194ea8[_0x5989f8(0x354)]);const _0x462def=await _0x194ea8[_0x5989f8(0x517)]();if(_0x462def[_0x5989f8(0x302)]?.[0x0]?.[_0x5989f8(0x86)]?.[_0x5989f8(0x4a8)]?.[0x0])return JSON[_0x5989f8(0x2e0)](_0x462def['candidates'][0x0][_0x5989f8(0x86)]['parts'][0x0][_0x5989f8(0x47c)]);else{let _0x124d4d=_0x5989f8(0x28f);if(_0x462def[_0x5989f8(0x328)]?.[_0x5989f8(0x746)])_0x124d4d=_0x5989f8(0x25e)+_0x462def[_0x5989f8(0x328)][_0x5989f8(0x746)]+'.';else _0x462def[_0x5989f8(0x302)]?.[0x0]?.[_0x5989f8(0xc3)]&&_0x462def[_0x5989f8(0x302)][0x0][_0x5989f8(0xc3)]!==_0x5989f8(0x513)&&(_0x124d4d='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x462def[_0x5989f8(0x302)][0x0]['finishReason']+'.');console['error'](_0x124d4d,JSON[_0x5989f8(0x633)](_0x462def));throw new Error(_0x124d4d);}}initialize();
