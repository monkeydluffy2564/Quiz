const _0x230ac1=_0x1143;(function(_0x1b839f,_0x1e639b){const _0x5636dc=_0x1143,_0x1aa732=_0x1b839f();while(!![]){try{const _0x14f26c=parseInt(_0x5636dc(0xabe))/0x1*(parseInt(_0x5636dc(0x474))/0x2)+parseInt(_0x5636dc(0xe3c))/0x3*(parseInt(_0x5636dc(0xdce))/0x4)+-parseInt(_0x5636dc(0x5e4))/0x5+-parseInt(_0x5636dc(0x624))/0x6*(parseInt(_0x5636dc(0x2fd))/0x7)+parseInt(_0x5636dc(0x928))/0x8+-parseInt(_0x5636dc(0x452))/0x9*(-parseInt(_0x5636dc(0x70f))/0xa)+-parseInt(_0x5636dc(0xdc0))/0xb*(parseInt(_0x5636dc(0xeb4))/0xc);if(_0x14f26c===_0x1e639b)break;else _0x1aa732['push'](_0x1aa732['shift']());}catch(_0x5d54be){_0x1aa732['push'](_0x1aa732['shift']());}}}(_0x2b6e,0x27a5c));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x230ac1(0x214),_0x230ac1(0xe73),'เหมียวขี้เซา',_0x230ac1(0x8db),_0x230ac1(0xb4e),_0x230ac1(0x6f2),'สิงโตยิ้ม',_0x230ac1(0xeae),'จิงโจ้สโลว์ไลฟ์',_0x230ac1(0x367),_0x230ac1(0x6f9),_0x230ac1(0xeaa),'สายลมแห่งโชคชะตา',_0x230ac1(0x686),'จอมเวทย์ขนมหวาน',_0x230ac1(0x2fb),_0x230ac1(0x912),'โจรสลัดอวกาศ',_0x230ac1(0x457),_0x230ac1(0x8d9),_0x230ac1(0x383),'ปลาทูคะนอง',_0x230ac1(0x704),_0x230ac1(0x46f),_0x230ac1(0xaa5),_0x230ac1(0xd46),_0x230ac1(0xc1f),_0x230ac1(0x411),_0x230ac1(0xc64),'ยอดนักสืบ',_0x230ac1(0x368),_0x230ac1(0x299),_0x230ac1(0x6fc),'ยูทูปเบอร์ฝึกหัด',_0x230ac1(0x426),_0x230ac1(0xa5f),'อินฟลูเอนเซอร์','เน็ตไอดอล',_0x230ac1(0x20f),'กาแฟขม',_0x230ac1(0x475),_0x230ac1(0xec8),_0x230ac1(0x209),'ไอติมทอด',_0x230ac1(0xa0f),_0x230ac1(0x46a),_0x230ac1(0xa45),_0x230ac1(0x47e),_0x230ac1(0xcc5),'สายตาสั้น',_0x230ac1(0xf21),_0x230ac1(0x598),_0x230ac1(0x25c),_0x230ac1(0x1ad),_0x230ac1(0xae5),'เน็ตช้า',_0x230ac1(0x806),_0x230ac1(0xb31),'กองดอง',_0x230ac1(0x433),'ตะวันฉาย',_0x230ac1(0x78f),_0x230ac1(0x7d1),_0x230ac1(0x50c),'ท้องฟ้า',_0x230ac1(0xeb8),_0x230ac1(0x6e9),_0x230ac1(0xa03),'แม่น้ำ',_0x230ac1(0x4e4),'ช่างภาพ','เกมเมอร์',_0x230ac1(0xca0),_0x230ac1(0x42b),_0x230ac1(0x4dc),_0x230ac1(0x266),'นักประดิษฐ์',_0x230ac1(0x550),'ครูใหญ่',_0x230ac1(0xf13),'ปล่อยพลัง',_0x230ac1(0x40a),_0x230ac1(0xc0e),_0x230ac1(0x468),'คาถาแยกเงาพันร่าง','ธอร์ค้อนบิน','ไอรอนแมน',_0x230ac1(0x518),'ฮัลค์',_0x230ac1(0xbd6),_0x230ac1(0xe87),_0x230ac1(0x995),_0x230ac1(0x3f0),_0x230ac1(0xede),'คู่จิ้น',_0x230ac1(0xa51),_0x230ac1(0x3a0),_0x230ac1(0xb70),_0x230ac1(0x9e9)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x230ac1(0x4ad),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x230ac1(0x4ad),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x230ac1(0x4ad),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x5d0099=_0x230ac1;if(_0x5d0099(0xd5f)in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x5d0099(0x9d3)),console[_0x5d0099(0x1cf)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x5d0099(0x414),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x156442){console[_0x5d0099(0x1b6)](_0x5d0099(0x254)+_0x156442[_0x5d0099(0xcc9)]+',\x20'+_0x156442[_0x5d0099(0xb95)]);}else console[_0x5d0099(0x86a)](_0x5d0099(0x277));},releaseWakeLock=async()=>{const _0x1efcc3=_0x230ac1;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x1efcc3(0x1cf)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5e4026=_0x230ac1;if(!document[_0x5e4026(0x87e)]['classList'][_0x5e4026(0x65d)](_0x5e4026(0xb89))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3e5e4b=_0x5e4026;document['body'][_0x3e5e4b(0xeac)][_0x3e5e4b(0x4db)]('dimmed'),console['log'](_0x3e5e4b(0x4c6));},inactivityTime);}}function wakeUpScreen(_0x46a72f){const _0xa0ab8b=_0x230ac1;_0x46a72f&&(_0x46a72f['stopPropagation'](),_0x46a72f[_0xa0ab8b(0x896)]());document['body'][_0xa0ab8b(0xeac)]['remove']('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3aa0ad=_0xa0ab8b;document[_0x3aa0ad(0x87e)][_0x3aa0ad(0xeac)][_0x3aa0ad(0x4db)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x3e6f24=_0x230ac1;if(dimTimer)clearTimeout(dimTimer);document[_0x3e6f24(0x87e)][_0x3e6f24(0xeac)][_0x3e6f24(0xb0b)]('dimmed'),window[_0x3e6f24(0x8d5)](_0x3e6f24(0xcc6),resetDimTimer),window[_0x3e6f24(0x8d5)]('mousedown',resetDimTimer),window[_0x3e6f24(0x8d5)](_0x3e6f24(0xec9),resetDimTimer),window['removeEventListener'](_0x3e6f24(0x3fc),resetDimTimer),console[_0x3e6f24(0x1cf)](_0x3e6f24(0x1ed));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4f4125,_0x229f55=![]){const _0x2fdf19=_0x230ac1,_0x59a55d=allQuizzes[_0x2fdf19(0x5eb)](_0x575f03=>_0x575f03['id']===_0x4f4125)||allQuizzesGlobal[_0x2fdf19(0x5eb)](_0x20fcf8=>_0x20fcf8['id']===_0x4f4125);if(!_0x59a55d){showMessage(_0x2fdf19(0x66e));return;}currentQuizData=getShuffledQuiz(_0x59a55d);const _0x233a10=Math[_0x2fdf19(0x599)](0x3e8+Math[_0x2fdf19(0x88b)]()*0x2328)['toString']();try{const _0x35142d=await addDoc(collection(db,_0x2fdf19(0x884)+appId+_0x2fdf19(0x706)),{'quizId':_0x59a55d['id'],'projectId':_0x59a55d[_0x2fdf19(0x791)],'status':_0x2fdf19(0x768),'pin':_0x233a10,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x229f55});currentTeamQuizId=_0x35142d['id'],showView(_0x2fdf19(0xb32)),renderAdminTeamQuizDashboard(_0x233a10,_0x59a55d['topic']),listenForTeamQuizUpdates();}catch(_0x2707af){console[_0x2fdf19(0x1b6)](_0x2fdf19(0x58f),_0x2707af),showMessage(_0x2fdf19(0xe98));}}function renderAdminTeamQuizDashboard(_0x145e3f,_0x442bde,_0x9996b=_0x230ac1(0xe71)){const _0x1b713c=_0x230ac1,_0x2aebf1=_0x9996b==='group'?_0x1b713c(0x38e):'Team\x20Quiz';liveGameView[_0x1b713c(0x63b)]=_0x1b713c(0xd9d)+_0x2aebf1+':\x20'+_0x442bde+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x145e3f+_0x1b713c(0x60c),document[_0x1b713c(0x815)](_0x1b713c(0x767))[_0x1b713c(0x7b7)](_0x1b713c(0x7a5),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x3fd81a=_0x1143;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x3fd81a(0x884)+appId+_0x3fd81a(0x706),currentTeamQuizId)),showView(_0x3fd81a(0x3e4));});});}function listenForTeamQuizUpdates(){const _0x2fbce1=_0x230ac1;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x583b43=doc(db,_0x2fbce1(0x884)+appId+_0x2fbce1(0x706),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x583b43,_0x19964f=>{const _0x5714c6=_0x2fbce1;if(!_0x19964f[_0x5714c6(0x939)]()){sessionStorage[_0x5714c6(0x43f)](_0x5714c6(0xa26));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5714c6(0x961));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5714c6(0x4fe)?showView(_0x5714c6(0x3e4)):showView(_0x5714c6(0x974));return;}const _0xa8176e=_0x19964f[_0x5714c6(0xdad)]();if(currentMode===_0x5714c6(0x4fe)){if(_0xa8176e[_0x5714c6(0x517)]===_0x5714c6(0x53a)&&_0xa8176e['status']!==_0x5714c6(0x451)&&_0xa8176e['status']!=='finished'){const _0x553be8=Object['values'](_0xa8176e['groups']||{});if(_0x553be8[_0x5714c6(0xe93)]>0x0){const _0x27c406=_0x553be8[_0x5714c6(0xc3b)](_0x11842d=>_0x11842d['isFinished']===!![]);_0x27c406&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0xa8176e);}else{if(_0xa8176e[_0x5714c6(0xc71)]===_0x5714c6(0x451)||_0xa8176e[_0x5714c6(0xc71)]===_0x5714c6(0xd55)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0xa8176e['mode']==='group'){const _0x2c0217=_0xa8176e[_0x5714c6(0x893)][userId];(!_0x2c0217||!_0x2c0217['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x406686){const _0x888911=_0x230ac1;console[_0x888911(0x1cf)](_0x888911(0x82e));const _0x27f4b6=doc(db,_0x888911(0x884)+appId+_0x888911(0x706),_0x406686);try{const _0x1235b7=await getDoc(_0x27f4b6);if(_0x1235b7['exists']()){const _0x1fb56c=_0x1235b7[_0x888911(0xdad)]();_0x1fb56c[_0x888911(0x448)]&&await saveGameResultsAsSubmissions(_0x1fb56c);}await updateDoc(_0x27f4b6,{'status':_0x888911(0x451)});}catch(_0x594048){console['error'](_0x888911(0x3ab),_0x594048);}}function updateAdminTeamDashboard(_0x588919){const _0x482c68=_0x230ac1,_0x5d088a=document['getElementById'](_0x482c68(0x906));if(!_0x5d088a)return;const _0xb79cd3=_0x588919['mode']||_0x482c68(0xe71),_0x12de8f=currentQuizData[_0x482c68(0x746)][_0x482c68(0xe93)];if(_0xb79cd3==='group'){const _0x472e69=Object[_0x482c68(0xdf2)](_0x588919['groups']||{});if(_0x472e69[_0x482c68(0xe93)]===0x0){_0x5d088a[_0x482c68(0x63b)]=_0x482c68(0x954);return;}const _0x1ddfb9=[..._0x472e69][_0x482c68(0xa6f)]((_0x5aa922,_0x407d35)=>_0x407d35[_0x482c68(0x6b9)]-_0x5aa922[_0x482c68(0x6b9)]),_0x332393=_0x1ddfb9[_0x482c68(0xe07)]((_0xee6ab5,_0x2125df)=>{const _0x5d940d=_0x482c68,_0x375903=_0xee6ab5[_0x5d940d(0x7d9)]?.[_0x5d940d(0xe93)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x2125df+0x1)+_0x5d940d(0x6f3)+_0xee6ab5[_0x5d940d(0x4fa)][_0x5d940d(0x885)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x375903+'/'+_0x12de8f+_0x5d940d(0x350)+_0xee6ab5[_0x5d940d(0x6b9)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x482c68(0x885)](''),_0x175c0b=currentQuizData['questions'][_0x482c68(0xe07)]((_0x2029f5,_0x87c1e0)=>{const _0x98212a=_0x482c68;let _0x3f8016=0x0,_0x48596f=0x0;_0x472e69[_0x98212a(0xdec)](_0x39835e=>{const _0x50ea37=_0x98212a,_0x46b5a9=_0x39835e[_0x50ea37(0x7d9)]?.[_0x50ea37(0x5eb)](_0x405062=>_0x405062[_0x50ea37(0xeb9)]===_0x87c1e0);if(_0x46b5a9){_0x48596f++;if(_0x46b5a9[_0x50ea37(0x6d1)])_0x3f8016++;}});const _0x265b9e=_0x48596f>0x0&&_0x48596f===_0x472e69['length'],_0x4b9903=_0x265b9e?_0x98212a(0xca9):_0x98212a(0x293),_0x947c41=_0x265b9e?_0x98212a(0x8b8):'';return _0x98212a(0x6ea)+_0x4b9903+_0x98212a(0xb11)+(_0x87c1e0+0x1)+':</span><span>'+_0x947c41+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x3f8016+'/'+_0x472e69['length']+_0x98212a(0x223);})[_0x482c68(0x885)]('');_0x5d088a['innerHTML']=_0x482c68(0x77f)+_0x332393+_0x482c68(0x5ee)+_0x175c0b+'</div></div></div>';return;}const _0x5ca951=_0x588919[_0x482c68(0x276)]||{},_0x330bcd=Object[_0x482c68(0x251)](_0x5ca951);if(_0x330bcd[_0x482c68(0xe93)]===0x0){_0x5d088a['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x457705=_0x330bcd[_0x482c68(0xe07)](_0x1998bb=>({'name':_0x1998bb,'score':_0x5ca951[_0x1998bb]['score']||0x0}))[_0x482c68(0xa6f)]((_0x852288,_0x16c56d)=>_0x16c56d['score']-_0x852288[_0x482c68(0x6b9)]),_0xd68980=_0x457705[_0x482c68(0xe07)](_0x5def3a=>{const _0x3c9bcd=_0x482c68,_0xee9b74=_0x5ca951[_0x5def3a[_0x3c9bcd(0xcc9)]]?.[_0x3c9bcd(0x7d9)]?.['length']||0x0,_0x1ebc90=Math[_0x3c9bcd(0x852)](_0x12de8f/_0x330bcd[_0x3c9bcd(0xe93)]);return _0x3c9bcd(0xba3)+_0x5def3a[_0x3c9bcd(0xcc9)]+_0x3c9bcd(0x6b6)+_0xee9b74+'/'+_0x1ebc90+_0x3c9bcd(0x351)+_0x5def3a[_0x3c9bcd(0x6b9)]+_0x3c9bcd(0x78e);})[_0x482c68(0x885)](''),_0x52e467=_0x330bcd['reduce']((_0x3d0653,_0x2492b9)=>_0x3d0653+(_0x5ca951[_0x2492b9][_0x482c68(0x7d9)]?.[_0x482c68(0xe93)]||0x0),0x0),_0x15557b=currentQuizData[_0x482c68(0x746)][_0x482c68(0xe07)]((_0x3848fd,_0x3ffca6)=>{const _0x4deafa=_0x482c68;let _0x348e5f=null,_0x28926c=null;for(const _0x51405c of _0x330bcd){const _0x52eda8=_0x5ca951[_0x51405c]['answers']?.[_0x4deafa(0x5eb)](_0x65fdbd=>_0x65fdbd[_0x4deafa(0xeb9)]===_0x3ffca6);if(_0x52eda8){_0x348e5f=_0x52eda8,_0x28926c=_0x51405c;break;}}const _0x458066=!!_0x348e5f,_0x3b40bc=_0x458066&&_0x348e5f[_0x4deafa(0x6d1)],_0xe0289=(Math[_0x4deafa(0x599)](_0x3ffca6/_0x330bcd[_0x4deafa(0xe93)])+0x1)*_0x330bcd[_0x4deafa(0xe93)],_0x2a2edd=_0x52e467>=_0xe0289,_0x55346a=_0x2a2edd?_0x4deafa(0x497):_0x4deafa(0x293),_0x3b773d=_0x2a2edd?_0x4deafa(0x8b8):'';let _0x2443e9=_0x4deafa(0xe7c);return _0x458066&&(_0x2443e9=_0x28926c+_0x4deafa(0xbb0)+(_0x3b40bc?'ถูก':_0x4deafa(0x68c))),_0x4deafa(0x6ea)+_0x55346a+_0x4deafa(0xb11)+(_0x3ffca6+0x1)+_0x4deafa(0x441)+_0x3b773d+_0x4deafa(0x8c7)+_0x2443e9+_0x4deafa(0xd6a);})['join']('');_0x5d088a[_0x482c68(0x63b)]=_0x482c68(0x537)+_0xd68980+_0x482c68(0xbc4)+_0x15557b+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x5b41bc=_0x230ac1,_0x1036c9=prompt(_0x5b41bc(0x493));if(!_0x1036c9||_0x1036c9[_0x5b41bc(0x99f)]()[_0x5b41bc(0xe93)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0xabd4fb=collection(db,_0x5b41bc(0x884)+appId+_0x5b41bc(0x706)),_0x573a10=query(_0xabd4fb,where('pin','==',_0x1036c9['trim']()),where(_0x5b41bc(0xc71),'==','lobby')),_0x58149c=await getDocs(_0x573a10);if(_0x58149c[_0x5b41bc(0x58b)]){showMessage(_0x5b41bc(0xe8b));return;}const _0x4e01b9=_0x58149c['docs'][0x0];currentTeamQuizId=_0x4e01b9['id'];const _0x9733c8=_0x4e01b9[_0x5b41bc(0xdad)](),_0x47f917=doc(db,_0x5b41bc(0x884)+appId+_0x5b41bc(0xb81),_0x9733c8[_0x5b41bc(0x791)]),_0x19c4a5=doc(db,_0x5b41bc(0x884)+appId+_0x5b41bc(0x8a2),_0x9733c8[_0x5b41bc(0x6b4)]),[_0x343883,_0x4ea5cd]=await Promise[_0x5b41bc(0x4ad)]([getDoc(_0x47f917),getDoc(_0x19c4a5)]);if(!_0x343883[_0x5b41bc(0x939)]()||!_0x4ea5cd[_0x5b41bc(0x939)]())throw new Error(_0x5b41bc(0xad5));currentQuizData=getShuffledQuiz({'id':_0x4ea5cd['id'],..._0x4ea5cd['data']()});const _0xfed9c7=_0x343883[_0x5b41bc(0xdad)]();showTeamPlayerSelection(_0xfed9c7[_0x5b41bc(0xa2f)],currentQuizData[_0x5b41bc(0xbdd)]);}catch(_0x533d6f){console[_0x5b41bc(0x1b6)](_0x5b41bc(0xb8b),_0x533d6f),showMessage(_0x5b41bc(0x36f)+_0x533d6f['message']);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x504949=_0x230ac1;currentInputPin='',updatePinDisplay(),document[_0x504949(0x815)](_0x504949(0xbd3))['classList'][_0x504949(0xb0b)](_0x504949(0xcc2));}function updatePinDisplay(){const _0xff3669=_0x230ac1,_0x3154ec=document[_0xff3669(0x8c8)]('.pin-digit-box');_0x3154ec['forEach']((_0x197a8a,_0x479aa5)=>{const _0x16fe73=_0xff3669;_0x479aa5<currentInputPin[_0x16fe73(0xe93)]?(_0x197a8a['textContent']=currentInputPin[_0x479aa5],_0x197a8a['classList']['add']('border-indigo-500',_0x16fe73(0x8ce)),_0x197a8a[_0x16fe73(0xeac)]['remove'](_0x16fe73(0xbc8),_0x16fe73(0xabb))):(_0x197a8a[_0x16fe73(0x587)]='',_0x197a8a[_0x16fe73(0xeac)][_0x16fe73(0xb0b)](_0x16fe73(0x502),_0x16fe73(0x8ce)),_0x197a8a[_0x16fe73(0xeac)][_0x16fe73(0x4db)]('border-gray-300',_0x16fe73(0xabb)));});}async function handlePinKeyPress(_0x5b87e3){const _0x377901=_0x230ac1;if(_0x5b87e3==='backspace')currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin[_0x377901(0xe93)]<0x4&&(currentInputPin+=_0x5b87e3);updatePinDisplay(),currentInputPin[_0x377901(0xe93)]===0x4&&setTimeout(async()=>{const _0x2a576b=_0x377901;document[_0x2a576b(0x815)](_0x2a576b(0xbd3))['classList'][_0x2a576b(0x4db)]('hidden'),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x4866d2){const _0x1b7f5b=_0x230ac1,_0x40bad8=_0x4866d2[_0x1b7f5b(0x99f)]();showMessage(_0x1b7f5b(0xd36));try{const _0x5b766a=collection(db,_0x1b7f5b(0x884)+appId+_0x1b7f5b(0x706)),_0x299562=query(_0x5b766a,where(_0x1b7f5b(0xac4),'==',_0x40bad8),where(_0x1b7f5b(0xc71),'==',_0x1b7f5b(0x768))),_0x43754e=await getDocs(_0x299562);if(!_0x43754e[_0x1b7f5b(0x58b)]){console[_0x1b7f5b(0x1cf)](_0x1b7f5b(0x3f4)),await proceedWithTeamQuizJoin(_0x43754e[_0x1b7f5b(0xcf8)][0x0]);return;}const _0x1e6111=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x121009=query(_0x1e6111,where(_0x1b7f5b(0xac4),'==',_0x40bad8),where(_0x1b7f5b(0xc71),'in',['lobby',_0x1b7f5b(0xc56),_0x1b7f5b(0x976),_0x1b7f5b(0x8b4)])),_0x3f6b83=await getDocs(_0x121009);if(!_0x3f6b83[_0x1b7f5b(0x58b)]){console[_0x1b7f5b(0x1cf)](_0x1b7f5b(0x6d2)),await proceedWithSyncQuizJoin(_0x3f6b83[_0x1b7f5b(0xcf8)][0x0]);return;}showMessage(_0x1b7f5b(0x331));}catch(_0x153519){console[_0x1b7f5b(0x1b6)](_0x1b7f5b(0x8ad),_0x153519),showMessage(_0x1b7f5b(0x854)+_0x153519['message']);}}async function proceedWithTeamQuizJoin(_0x23be34){const _0x3af368=_0x230ac1;currentTeamQuizId=_0x23be34['id'];const _0x45e15a=_0x23be34[_0x3af368(0xdad)](),_0x35c60f=doc(db,_0x3af368(0x884)+appId+'/public/data/projects',_0x45e15a[_0x3af368(0x791)]),_0x315680=doc(db,'artifacts/'+appId+_0x3af368(0x8a2),_0x45e15a[_0x3af368(0x6b4)]),[_0x590ab8,_0x1c40f2]=await Promise[_0x3af368(0x4ad)]([getDoc(_0x35c60f),getDoc(_0x315680)]);if(!_0x590ab8[_0x3af368(0x939)]()||!_0x1c40f2[_0x3af368(0x939)]())throw new Error(_0x3af368(0xad5));currentQuizData=getShuffledQuiz({'id':_0x1c40f2['id'],..._0x1c40f2[_0x3af368(0xdad)]()}),showTeamPlayerSelection(_0x590ab8[_0x3af368(0xdad)]()[_0x3af368(0xa2f)],currentQuizData[_0x3af368(0xbdd)],_0x45e15a[_0x3af368(0x517)]||_0x3af368(0xe71)),messageModal[_0x3af368(0xeac)]['add'](_0x3af368(0xcc2));}async function proceedWithSyncQuizJoin(_0x2f9fe8){const _0x4ecf44=_0x230ac1;currentLiveGameId=_0x2f9fe8['id'];const _0x152914=_0x2f9fe8[_0x4ecf44(0xdad)](),_0x4dde8e=doc(db,'artifacts/'+appId+_0x4ecf44(0x8a2),_0x152914[_0x4ecf44(0x6b4)]),_0x3ef114=await getDoc(_0x4dde8e);if(!_0x3ef114['exists']())throw new Error(_0x4ecf44(0x66e));const _0xb36f47=_0x3ef114[_0x4ecf44(0xdad)](),_0x2860a2=doc(db,_0x4ecf44(0x884)+appId+_0x4ecf44(0xb81),_0xb36f47['projectId']),_0x46afc1=await getDoc(_0x2860a2);if(!_0x46afc1[_0x4ecf44(0x939)]())throw new Error(_0x4ecf44(0xc10));currentQuizData=_0x152914[_0x4ecf44(0xde5)],showView(_0x4ecf44(0x6ca)),showTeamPlayerSelection(_0x46afc1[_0x4ecf44(0xdad)]()[_0x4ecf44(0xa2f)],_0xb36f47[_0x4ecf44(0xbdd)],_0x4ecf44(0x4e6));const _0x36b250=document[_0x4ecf44(0x815)](_0x4ecf44(0x1e6)),_0x564c38=_0x36b250[_0x4ecf44(0x878)](!![]);_0x36b250[_0x4ecf44(0xd40)][_0x4ecf44(0xbf3)](_0x564c38,_0x36b250),_0x564c38[_0x4ecf44(0x7c5)]=confirmAndJoinSyncGame,messageModal[_0x4ecf44(0xeac)][_0x4ecf44(0x4db)]('hidden');}function getCleanApplicationHTML(){const _0x266948=_0x230ac1,_0x1e0995=document[_0x266948(0x815)](_0x266948(0x71f));if(!_0x1e0995)return'';const _0xcd7b14=_0x1e0995[_0x266948(0x878)](!![]);return _0xcd7b14['querySelectorAll'](_0x266948(0x357))['forEach'](_0x134198=>{const _0x260140=_0x266948;_0x134198[_0x260140(0xeac)][_0x260140(0xb0b)]('correct',_0x260140(0x9c5)),_0x134198[_0x260140(0x44b)]=![];}),_0xcd7b14[_0x266948(0x63b)];}function showTeamPlayerSelection(_0x12a99f,_0x29f198,_0x4ffbff=_0x230ac1(0xe71)){const _0xa589b3=_0x230ac1;studentInitialView[_0xa589b3(0xeac)]['add'](_0xa589b3(0xcc2)),studentJoinGameView[_0xa589b3(0xeac)][_0xa589b3(0x4db)](_0xa589b3(0xcc2)),document[_0xa589b3(0x815)](_0xa589b3(0xe4b))['classList'][_0xa589b3(0xb0b)](_0xa589b3(0xcc2));let _0x2211d4=_0xa589b3(0xd02);if(_0x4ffbff==='group')_0x2211d4=_0xa589b3(0x38e);else _0x4ffbff===_0xa589b3(0x4e6)&&(_0x2211d4=_0xa589b3(0x85a));document[_0xa589b3(0x815)](_0xa589b3(0x911))[_0xa589b3(0x587)]=_0x2211d4+':\x20'+_0x29f198;const _0xf9e517=document[_0xa589b3(0x815)](_0xa589b3(0x30d));if(!_0x12a99f||_0x12a99f[_0xa589b3(0xe93)]===0x0){_0xf9e517[_0xa589b3(0x63b)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0xa589b3(0x815)](_0xa589b3(0x1e6))[_0xa589b3(0x44b)]=!![];return;}_0xf9e517[_0xa589b3(0x63b)]=_0x12a99f[_0xa589b3(0xe07)](_0x2d3029=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2d3029+_0xa589b3(0x4f2)+_0x2d3029+_0xa589b3(0x263))[_0xa589b3(0x885)](''),document['getElementById'](_0xa589b3(0x1e6))[_0xa589b3(0x44b)]=![];}async function confirmAndStartTeamQuiz(){const _0x1a5159=_0x230ac1,_0x2db95d=Array[_0x1a5159(0x488)](document[_0x1a5159(0x8c8)](_0x1a5159(0xe61)))[_0x1a5159(0xe07)](_0x131a0d=>_0x131a0d[_0x1a5159(0xdd7)]);if(_0x2db95d[_0x1a5159(0xe93)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x2db95d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x20c872=doc(db,_0x1a5159(0x884)+appId+_0x1a5159(0x706),currentTeamQuizId);try{const _0x8ad43c=await getDoc(_0x20c872);if(!_0x8ad43c['exists']())throw new Error(_0x1a5159(0xcea));const _0x48ab5a=_0x8ad43c['data']();if(_0x48ab5a['mode']===_0x1a5159(0x53a)){const _0x243a1e={[_0x1a5159(0xdbe)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x20c872,_0x243a1e);}else{const _0x1e5df9=_0x48ab5a[_0x1a5159(0x276)]||{};localTeamPlayers[_0x1a5159(0xdec)](_0x4b6943=>{!_0x1e5df9[_0x4b6943]&&(_0x1e5df9[_0x4b6943]={'score':0x0,'answers':[]});}),await updateDoc(_0x20c872,{'responses':_0x1e5df9});}document[_0x1a5159(0x815)]('student-team-selection-view')[_0x1a5159(0xeac)][_0x1a5159(0x4db)]('hidden'),renderTeamQuizQuestion();const _0x4ea947={'gameId':currentTeamQuizId,'mode':_0x48ab5a[_0x1a5159(0x517)]||_0x1a5159(0xe71),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1a5159(0x337)]('activeGameSession',JSON[_0x1a5159(0xd0a)](_0x4ea947)),listenForTeamQuizUpdates();}catch(_0x3be5ac){console['error'](_0x1a5159(0x682),_0x3be5ac),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x56fae9=_0x230ac1;if(localQuestionIndex>=currentQuizData[_0x56fae9(0x746)][_0x56fae9(0xe93)]){displayTeamQuizFinalResults();return;}const _0x40f84e=currentQuizData[_0x56fae9(0x746)][localQuestionIndex],_0x5dfe02=localTeamPlayers[localPlayerIndex],_0xb8e3aa=_0x40f84e['questionType']||currentQuizData['quizType'];let _0x4a5881=_0x40f84e['stem']||_0x40f84e['questionText'],_0x4d6c7a='';switch(_0xb8e3aa){case _0x56fae9(0x653):case _0x56fae9(0xd8e):_0x4d6c7a=_0x40f84e[_0x56fae9(0xa9c)]['map']((_0xe4a3f3,_0x3dba81)=>_0x56fae9(0x1ba)+_0x3dba81+_0x56fae9(0xeca)+_0x3dba81+_0x56fae9(0x311)+_0x3dba81+'\x22>'+_0xe4a3f3+_0x56fae9(0x9fb))[_0x56fae9(0x885)]('');break;case _0x56fae9(0xcba):_0x4d6c7a=_0x56fae9(0x28d);break;case _0x56fae9(0x270):case _0x56fae9(0x934):_0x4d6c7a='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x56fae9(0x52a):_0x4d6c7a=_0x56fae9(0xd5a)+_0x40f84e[_0x56fae9(0x787)][_0x56fae9(0xe07)](_0x352490=>_0x56fae9(0x3a8)+_0x352490+'\x22>'+_0x352490+'</option>')[_0x56fae9(0x885)]('')+_0x56fae9(0x4f0);break;default:_0x4d6c7a=_0x56fae9(0xbaf);break;}studentQuizArea[_0x56fae9(0x63b)]=_0x56fae9(0x93b)+(localQuestionIndex+0x1)+_0x56fae9(0xe75)+currentQuizData['questions'][_0x56fae9(0xe93)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x5dfe02+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x4a5881+_0x56fae9(0x89d)+(_0x40f84e['imageCode']?_0x56fae9(0x8ae)+_0x40f84e[_0x56fae9(0x74b)]+_0x56fae9(0xcb3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4d6c7a+_0x56fae9(0x9cf),studentQuizArea[_0x56fae9(0xeac)][_0x56fae9(0xb0b)](_0x56fae9(0xcc2));if(window[_0x56fae9(0x67a)])MathJax['typesetPromise']([studentQuizArea]);document[_0x56fae9(0x815)](_0x56fae9(0x77e))[_0x56fae9(0x7b7)](_0x56fae9(0x7a5),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3c8449=_0x230ac1,_0x47b743=currentQuizData['questions'][localQuestionIndex],_0xbfb12=_0x47b743[_0x3c8449(0x1f4)]||currentQuizData['quizType'];let _0x555da0=null,_0x414b24=![];if(_0xbfb12===_0x3c8449(0x270)||_0xbfb12==='fill_in_no_choices'){const _0x231198=document[_0x3c8449(0xd27)]('textarea[name=\x22team_answer\x22]');if(!_0x231198||!_0x231198['value']['trim']()){showMessage(_0x3c8449(0x8e7));return;}_0x555da0=_0x231198[_0x3c8449(0xdd7)]['trim'](),_0x414b24=await gradeShortAnswer(_0x555da0,_0x47b743);}else{const _0x33bcb1=document[_0x3c8449(0xd27)](_0x3c8449(0x4d4));if(!_0x33bcb1||_0x33bcb1['value']===''){showMessage(_0x3c8449(0x830));return;}_0x555da0=_0x33bcb1[_0x3c8449(0xdd7)];switch(_0xbfb12){case'true_false':_0x414b24=_0x555da0===_0x3c8449(0x2f8)===_0x47b743[_0x3c8449(0x68b)];break;case _0x3c8449(0x52a):_0x414b24=_0x555da0===_0x47b743['correctResponse'];break;default:_0x414b24=parseInt(_0x555da0)===_0x47b743[_0x3c8449(0xdfa)];break;}}const _0x59710f={'questionIndex':localQuestionIndex,'isCorrect':_0x414b24},_0xabb24e=userId,_0x517a1a={[_0x3c8449(0xdbe)+_0xabb24e+_0x3c8449(0xd28)]:arrayUnion(_0x59710f)};_0x414b24&&(_0x517a1a[_0x3c8449(0xdbe)+_0xabb24e+_0x3c8449(0xb71)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x3c8449(0x706),currentTeamQuizId),_0x517a1a),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x3c8449(0x746)][_0x3c8449(0xe93)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5c6999){console[_0x3c8449(0x1b6)](_0x3c8449(0x1af),_0x5c6999),showMessage(_0x3c8449(0x4a0));}}async function handleTeamAnswerSubmit(){const _0xabfbb4=_0x230ac1,_0x4f2a14=await getDoc(doc(db,_0xabfbb4(0x884)+appId+_0xabfbb4(0x706),currentTeamQuizId));if(!_0x4f2a14[_0xabfbb4(0x939)]())return;const _0x1b892a=_0x4f2a14[_0xabfbb4(0xdad)]();if(_0x1b892a[_0xabfbb4(0x517)]===_0xabfbb4(0x53a)){handleGroupAnswerSubmit();return;}const _0x3b344f=localTeamPlayers[localPlayerIndex],_0x54f0db=currentQuizData[_0xabfbb4(0x746)][localQuestionIndex],_0xf2ffe2=_0x54f0db['questionType']||currentQuizData[_0xabfbb4(0x1c2)];let _0x38373a=null,_0x178b24=![];if(_0xf2ffe2===_0xabfbb4(0x270)||_0xf2ffe2==='fill_in_no_choices'){const _0x37f743=document[_0xabfbb4(0xd27)]('textarea[name=\x22team_answer\x22]');if(!_0x37f743||!_0x37f743[_0xabfbb4(0xdd7)][_0xabfbb4(0x99f)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x38373a=_0x37f743[_0xabfbb4(0xdd7)][_0xabfbb4(0x99f)](),_0x178b24=await gradeShortAnswer(_0x38373a,_0x54f0db);}else{const _0x340130=document[_0xabfbb4(0xd27)](_0xabfbb4(0x4d4));if(!_0x340130||_0x340130['value']===''){showMessage(_0xabfbb4(0x371));return;}_0x38373a=_0x340130[_0xabfbb4(0xdd7)];switch(_0xf2ffe2){case'true_false':_0x178b24=_0x38373a===_0xabfbb4(0x2f8)===_0x54f0db['correctAnswer'];break;case _0xabfbb4(0x52a):_0x178b24=_0x38373a===_0x54f0db['correctResponse'];break;default:_0x178b24=parseInt(_0x38373a)===_0x54f0db[_0xabfbb4(0xdfa)];break;}}const _0x479061={'questionIndex':localQuestionIndex,'isCorrect':_0x178b24,'answerValue':_0x38373a},_0x236794={['responses.'+_0x3b344f+_0xabfbb4(0xd28)]:arrayUnion(_0x479061)};_0x178b24&&(_0x236794[_0xabfbb4(0xc86)+_0x3b344f+_0xabfbb4(0xb71)]=increment(0x1));try{await updateDoc(doc(db,_0xabfbb4(0x884)+appId+_0xabfbb4(0x706),currentTeamQuizId),_0x236794),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x4310ff){console[_0xabfbb4(0x1b6)](_0xabfbb4(0x4cf),_0x4310ff),showMessage(_0xabfbb4(0x4a0));}}async function displayTeamQuizFinalResults(){const _0x10b3cd=_0x230ac1;studentQuizArea[_0x10b3cd(0xeac)][_0x10b3cd(0x4db)](_0x10b3cd(0xcc2)),studentResultArea[_0x10b3cd(0xeac)]['remove'](_0x10b3cd(0xcc2));const _0x12c9fa=doc(db,_0x10b3cd(0x884)+appId+_0x10b3cd(0x706),currentTeamQuizId),_0x549fb0=await getDoc(_0x12c9fa);if(!_0x549fb0[_0x10b3cd(0x939)]()){studentResultArea[_0x10b3cd(0x63b)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x2d48d4=_0x549fb0[_0x10b3cd(0xdad)]();let _0x38bbdd=[];const _0x4c8a09=_0x2d48d4['mode']||_0x10b3cd(0xe71);if(_0x4c8a09===_0x10b3cd(0x53a)){const _0x53f9ae=_0x2d48d4[_0x10b3cd(0x893)][userId];_0x53f9ae?_0x38bbdd=[{'name':_0x10b3cd(0xaca)+localTeamPlayers[_0x10b3cd(0x885)](',\x20'),'score':_0x53f9ae[_0x10b3cd(0x6b9)]||0x0}]:_0x38bbdd=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x38bbdd=localTeamPlayers[_0x10b3cd(0xe07)](_0x4dee3b=>({'name':_0x4dee3b,'score':_0x2d48d4[_0x10b3cd(0x276)][_0x4dee3b]?.[_0x10b3cd(0x6b9)]||0x0}))['sort']((_0xbaca6a,_0x2b7465)=>_0x2b7465[_0x10b3cd(0x6b9)]-_0xbaca6a['score']);studentResultArea[_0x10b3cd(0x63b)]=_0x10b3cd(0x3ef)+_0x38bbdd['map'](_0x28c7ea=>_0x10b3cd(0xa0d)+_0x28c7ea[_0x10b3cd(0xcc9)]+_0x10b3cd(0xe28)+_0x28c7ea['score']+_0x10b3cd(0xdcc))[_0x10b3cd(0x885)]('')+_0x10b3cd(0xd25),sessionStorage[_0x10b3cd(0x43f)](_0x10b3cd(0xa26)),currentMode===_0x10b3cd(0x4fe)&&currentTeamQuizId&&setTimeout(()=>{const _0x92df3c=_0x10b3cd;deleteDoc(doc(db,_0x92df3c(0x884)+appId+_0x92df3c(0x706),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x230ac1(0x41a),'pinnedProjects':[],'projectView':_0x230ac1(0x57e)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':'การนับ'},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x9a0)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0xd41)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0xa9d)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x2b2)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0xe5f)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x5e8)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x230ac1(0x1cb),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x36e)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0xc38)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x681)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x632)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x310)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x1c7)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0xed7)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x8f9)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x5e5)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x42c)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0xc32)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x697)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x5e0)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x58d)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x655)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x8dc)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x21e)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0xe2d)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x855)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x84f)},{'category':'จำนวนและการดำเนินการ','name':_0x230ac1(0x759)},{'category':_0x230ac1(0x1cb),'name':'ร้อยละพื้นฐาน'},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x8a3)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0xb5d)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0xb73)},{'category':_0x230ac1(0x1cb),'name':_0x230ac1(0x7b0)},{'category':_0x230ac1(0x1cb),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0xac9)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x6f6)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x82c)},{'category':_0x230ac1(0x93d),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x230ac1(0x93d),'name':'อุณหภูมิและการแปลง'},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x6b0)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0xa44)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x69c)},{'category':'การวัด','name':_0x230ac1(0xce5)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x88c)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x763)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0xb04)},{'category':_0x230ac1(0x93d),'name':_0x230ac1(0x7ee)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0x4ec)},{'category':'เรขาคณิต','name':_0x230ac1(0x303)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0x9c1)},{'category':_0x230ac1(0xb9f),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0x680)},{'category':'เรขาคณิต','name':_0x230ac1(0x639)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0xa94)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0xc54)},{'category':_0x230ac1(0xb9f),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':'เรขาคณิต','name':_0x230ac1(0xd16)},{'category':'เรขาคณิต','name':_0x230ac1(0x723)},{'category':'เรขาคณิต','name':_0x230ac1(0x213)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0x56a)},{'category':'เรขาคณิต','name':_0x230ac1(0xcb2)},{'category':_0x230ac1(0xb9f),'name':_0x230ac1(0xc9e)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xe9a)},{'category':_0x230ac1(0x6d6),'name':'การกระจายและการจัดหมู่'},{'category':_0x230ac1(0x6d6),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x230ac1(0x6d6),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0x93f)},{'category':_0x230ac1(0x6d6),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0xbc1)},{'category':_0x230ac1(0x6d6),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x865)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x40e)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xb8d)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xe80)},{'category':_0x230ac1(0x6d6),'name':'สมการลอการิทึม'},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xc4f)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x224)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xdee)},{'category':_0x230ac1(0x6d6),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x230ac1(0x6d6),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0xb82)},{'category':_0x230ac1(0x6d6),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0x2e6)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x2e3)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xcbc)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0xa0b)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x36b)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x1b0)},{'category':_0x230ac1(0x6d6),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0xdfc)},{'category':_0x230ac1(0x6d6),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x230ac1(0xcfe)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x9ff)},{'category':_0x230ac1(0x6d6),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x33a)},{'category':_0x230ac1(0x6d6),'name':_0x230ac1(0x946)},{'category':_0x230ac1(0x6d6),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x230ac1(0xa1f),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x230ac1(0xa1f),'name':_0x230ac1(0xbe4)},{'category':'เรขาคณิตวิเคราะห์','name':_0x230ac1(0x2be)},{'category':_0x230ac1(0xa1f),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x230ac1(0xa1f),'name':_0x230ac1(0xd9c)},{'category':_0x230ac1(0xa1f),'name':_0x230ac1(0x538)},{'category':_0x230ac1(0xa1f),'name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x230ac1(0xa1f),'name':'ไฮเพอร์โบลา'},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x4da)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x870)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0xaa8)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x729)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x95d)},{'category':_0x230ac1(0x633),'name':'กฎของโคไซน์'},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x635)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x23b)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x1c6)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0xec4)},{'category':_0x230ac1(0x633),'name':_0x230ac1(0x7cc)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x1ef)},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0x6da)},{'category':_0x230ac1(0xd22),'name':'ตารางความถี่'},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x1dc)},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0xd18)},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0xb15)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x37a)},{'category':_0x230ac1(0xd22),'name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0x9b0)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x7f8)},{'category':_0x230ac1(0xd22),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x230ac1(0xd22),'name':'ความแปรปรวน'},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x3f6)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0xe1c)},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0x428)},{'category':_0x230ac1(0xd22),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0xab9)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x9da)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x75d)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0xd9b)},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x6df)},{'category':'สถิติและความน่าจะเป็น','name':_0x230ac1(0x540)},{'category':_0x230ac1(0xd22),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x230ac1(0xd22),'name':_0x230ac1(0x7dc)},{'category':_0x230ac1(0x847),'name':_0x230ac1(0x783)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x230ac1(0x847),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x230ac1(0x847),'name':_0x230ac1(0x6c6)},{'category':_0x230ac1(0x847),'name':_0x230ac1(0x535)},{'category':_0x230ac1(0x847),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x230ac1(0x847),'name':'ความชันเส้นสัมผัส'},{'category':_0x230ac1(0x847),'name':_0x230ac1(0xaa9)},{'category':_0x230ac1(0x847),'name':_0x230ac1(0xeb1)},{'category':_0x230ac1(0x847),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x230ac1(0x847),'name':_0x230ac1(0x4ff)},{'category':_0x230ac1(0x847),'name':_0x230ac1(0x848)},{'category':_0x230ac1(0x847),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x230ac1(0xb45),'name':_0x230ac1(0xe36)},{'category':_0x230ac1(0xb45),'name':_0x230ac1(0xaaf)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x230ac1(0xb45),'name':_0x230ac1(0xbb4)},{'category':_0x230ac1(0xb45),'name':_0x230ac1(0x4b7)},{'category':_0x230ac1(0xb45),'name':'ดีเทอร์มิแนนต์'},{'category':_0x230ac1(0xb45),'name':_0x230ac1(0x4dd)},{'category':_0x230ac1(0x4ee),'name':_0x230ac1(0x922)},{'category':_0x230ac1(0x4ee),'name':_0x230ac1(0x7d3)},{'category':_0x230ac1(0x4ee),'name':_0x230ac1(0x202)},{'category':_0x230ac1(0x4ee),'name':_0x230ac1(0x792)},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':_0x230ac1(0xd77),'name':_0x230ac1(0x8c4)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x230ac1(0x229)},{'category':_0x230ac1(0xd77),'name':_0x230ac1(0xb7d)}];function renderTopicCheckboxes(){const _0x239c8c=_0x230ac1,_0xcb735=document['getElementById']('math-topics-checkbox-container');if(!_0xcb735)return;const _0x4304f=allMathTopics,_0x3077c4=customMathTopics[_0x239c8c(0xe07)](_0x3baa8f=>({'id':_0x3baa8f['id'],'category':_0x239c8c(0x4d5),'name':_0x3baa8f[_0x239c8c(0xcc9)]})),_0x53dc96=[..._0x4304f,..._0x3077c4],_0x2b5e7e=_0x53dc96[_0x239c8c(0xa56)]((_0x409300,_0x575552)=>{const _0x1add2a=_0x239c8c;return!_0x409300[_0x575552[_0x1add2a(0xd2e)]]&&(_0x409300[_0x575552[_0x1add2a(0xd2e)]]=[]),_0x409300[_0x575552[_0x1add2a(0xd2e)]][_0x1add2a(0xacf)](_0x575552),_0x409300;},{});let _0x44a037='';const _0x79d59f=['หัวข้อที่สร้างเอง',...Object[_0x239c8c(0x251)](_0x2b5e7e)[_0x239c8c(0x320)](_0x2e3837=>_0x2e3837!==_0x239c8c(0x4d5))];for(const _0x290a2e of _0x79d59f){if(_0x2b5e7e[_0x290a2e]){const _0x3bf9d5=_0x290a2e===_0x239c8c(0x4d5),_0x33a3f6=_0x3bf9d5?'fas\x20fa-user-edit':_0x239c8c(0x374),_0xd4d4f5=_0x3bf9d5?_0x239c8c(0x3fd):_0x239c8c(0xabf);_0x44a037+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x44a037+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0xd4d4f5+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x33a3f6+_0x239c8c(0x565)+_0x290a2e+_0x239c8c(0x1fb),_0x2b5e7e[_0x290a2e]['forEach'](_0x6cfe0b=>{const _0x42246c=_0x239c8c,_0x2eea16=!!_0x6cfe0b['id'],_0x155f62=_0x2eea16?_0x42246c(0x32d)+_0x6cfe0b['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6cfe0b['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6cfe0b['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6cfe0b['id']+_0x42246c(0xb55):'';_0x44a037+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x6cfe0b['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x6cfe0b[_0x42246c(0xcc9)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x6cfe0b[_0x42246c(0xcc9)]+_0x42246c(0x2aa)+(_0x2eea16?_0x42246c(0xc34)+_0x6cfe0b[_0x42246c(0xcc9)]+'\x22>':'')+_0x42246c(0x66b)+_0x155f62+_0x42246c(0x56e);}),_0x44a037+='</div>';}}_0xcb735['innerHTML']=_0x44a037||_0x239c8c(0x7f0),_0xcb735['removeEventListener']('change',updateSelectedTopicsCount),_0xcb735[_0x239c8c(0x7b7)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4154c9,_0x4bab23){const _0x46a7c5=_0x230ac1;if(!_0x4154c9||!_0x4bab23[_0x46a7c5(0x99f)]()){showMessage(_0x46a7c5(0xcca));return;}try{const _0x491bea=doc(db,_0x46a7c5(0x884)+appId+'/public/data/customMathTopics',_0x4154c9);await updateDoc(_0x491bea,{'name':_0x4bab23['trim']()}),showMessage(_0x46a7c5(0x203));}catch(_0x593fde){console[_0x46a7c5(0x1b6)](_0x46a7c5(0x957),_0x593fde),showMessage(_0x46a7c5(0x208));}}function toggleTopicEditMode(_0x1acaa3,_0x262f86){const _0x477d4c=_0x230ac1;if(!_0x1acaa3)return;const _0xd44cf9=_0x1acaa3[_0x477d4c(0xd27)](_0x477d4c(0x427)),_0x2389d8=_0x1acaa3[_0x477d4c(0xd27)](_0x477d4c(0xd93)),_0x123ff8=_0x1acaa3[_0x477d4c(0xd27)](_0x477d4c(0x442)),_0x417904=_0x1acaa3[_0x477d4c(0xd27)](_0x477d4c(0x3ca));_0xd44cf9[_0x477d4c(0xeac)][_0x477d4c(0x334)]('hidden',_0x262f86),_0x2389d8[_0x477d4c(0xeac)][_0x477d4c(0x334)](_0x477d4c(0xcc2),!_0x262f86),_0x123ff8[_0x477d4c(0xeac)][_0x477d4c(0x334)](_0x477d4c(0xcc2),_0x262f86),_0x417904[_0x477d4c(0xeac)][_0x477d4c(0x334)](_0x477d4c(0xcc2),!_0x262f86),_0x262f86&&(_0x2389d8[_0x477d4c(0xca2)](),_0x2389d8[_0x477d4c(0x96e)]());}async function handleStartLiveRace(_0x1b7d61){const _0x6afc91=_0x230ac1;let _0x4c40a6=allQuizzes[_0x6afc91(0x5eb)](_0x36fe12=>_0x36fe12['id']===_0x1b7d61);if(!_0x4c40a6){const _0x192151=doc(db,_0x6afc91(0x884)+appId+_0x6afc91(0x8a2),_0x1b7d61),_0x55d3d8=await getDoc(_0x192151);if(!_0x55d3d8[_0x6afc91(0x939)]()){showMessage(_0x6afc91(0x66e));return;}_0x4c40a6={'id':_0x55d3d8['id'],..._0x55d3d8[_0x6afc91(0xdad)]()};}const _0x5e0a16=getShuffledQuiz(_0x4c40a6);currentQuizData=_0x5e0a16;const _0x4a8c7a=_0x4c40a6['projectId']||currentProjectId||null,_0x19cd8f=Math[_0x6afc91(0x599)](0x3e8+Math[_0x6afc91(0x88b)]()*0x2328)[_0x6afc91(0xefe)]();currentLiveGamePin=_0x19cd8f;try{const _0x2f1a25=await addDoc(collection(db,_0x6afc91(0x884)+appId+'/public/data/liveGames'),{'quizId':_0x1b7d61,'projectId':_0x4a8c7a,'status':_0x6afc91(0x768),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x19cd8f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5e0a16});currentLiveGameId=_0x2f1a25['id'],showAdminLobbyView(_0x19cd8f,_0x4c40a6[_0x6afc91(0xbdd)]),listenForLiveGameUpdates();}catch(_0x5cbc86){console['error'](_0x6afc91(0x28f),_0x5cbc86),showMessage(_0x6afc91(0x6f4));}}function updateSelectedTopicsCount(){const _0x3d7fe8=_0x230ac1,_0x428844=document['getElementById'](_0x3d7fe8(0x280)),_0x19adae=_0x428844[_0x3d7fe8(0x8c8)]('input[type=\x22checkbox\x22]:checked')['length'],_0x2bb7be=document['getElementById'](_0x3d7fe8(0x3df));_0x19adae>0x0?_0x2bb7be[_0x3d7fe8(0x587)]=_0x3d7fe8(0xba5)+_0x19adae+_0x3d7fe8(0xd06):_0x2bb7be['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x230ac1(0x974),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x230ac1(0x286),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x230ac1(0x9fd),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x230ac1(0xb9c),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3d17fe,_0x3c0da0){const _0x46e1b4=_0x230ac1;return Math['sqrt'](Math['pow'](_0x3d17fe['x']-_0x3c0da0['x'],0x2)+Math[_0x46e1b4(0x7c3)](_0x3d17fe['y']-_0x3c0da0['y'],0x2));}function getMidpoint(_0x149706,_0x73daf1){return{'x':(_0x149706['x']+_0x73daf1['x'])/0x2,'y':(_0x149706['y']+_0x73daf1['y'])/0x2};}function getTransformedPoint(_0xf1a5c0,_0x25615a){return{'x':(_0xf1a5c0-scratchpadOffset['x'])/scratchpadScale,'y':(_0x25615a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x44c52e=_0x230ac1;if(!scratchpadCtx)return;const _0x5c0a0b=scratchpadCtx[_0x44c52e(0x7b9)],_0x42694b=window[_0x44c52e(0xd2b)]||0x1,_0x46cf4b=document[_0x44c52e(0x815)](_0x44c52e(0xe6c));_0x46cf4b&&(_0x46cf4b[_0x44c52e(0x205)][_0x44c52e(0x2d0)]=_0x44c52e(0xed8),_0x46cf4b[_0x44c52e(0x205)][_0x44c52e(0x958)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x44c52e(0x359)](),scratchpadCtx['setTransform'](_0x42694b,0x0,0x0,_0x42694b,0x0,0x0),scratchpadCtx[_0x44c52e(0x45a)](0x0,0x0,_0x5c0a0b[_0x44c52e(0x26c)],_0x5c0a0b[_0x44c52e(0x329)]),scratchpadCtx[_0x44c52e(0x466)](),scratchpadCtx[_0x44c52e(0x359)](),scratchpadCtx[_0x44c52e(0x3d8)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x44c52e(0xdec)](_0x1c9163=>{drawStroke(_0x1c9163);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x44c52e(0x466)]();}function renderGroupModeQuestion(){const _0xdf66b4=_0x230ac1;if(localQuestionIndex>=currentQuizData[_0xdf66b4(0x746)][_0xdf66b4(0xe93)]){displayTeamQuizFinalResults();return;}const _0x204668=currentQuizData[_0xdf66b4(0x746)][localQuestionIndex],_0x1721f2=_0x204668[_0xdf66b4(0x1f4)]||currentQuizData[_0xdf66b4(0x1c2)];let _0xcd8595=_0x204668[_0xdf66b4(0x212)]||_0x204668[_0xdf66b4(0xef8)],_0x399748='';switch(_0x1721f2){case'multiple_choice':case'fill_in_with_choices':_0x399748=_0x204668[_0xdf66b4(0xa9c)][_0xdf66b4(0xe07)]((_0x213fef,_0x579c6d)=>_0xdf66b4(0x1ba)+_0x579c6d+_0xdf66b4(0xeca)+_0x579c6d+_0xdf66b4(0x311)+_0x579c6d+'\x22>'+_0x213fef+_0xdf66b4(0x9fb))['join']('');break;case'true_false':_0x399748=_0xdf66b4(0x28d);break;case _0xdf66b4(0x270):case'fill_in_no_choices':_0x399748='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0xdf66b4(0x52a):_0x399748='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x204668['allResponses'][_0xdf66b4(0xe07)](_0x322e2b=>'<option\x20value=\x22'+_0x322e2b+'\x22>'+_0x322e2b+_0xdf66b4(0x817))[_0xdf66b4(0x885)]('')+_0xdf66b4(0x4f0);break;default:_0x399748=_0xdf66b4(0xbaf);break;}studentQuizArea[_0xdf66b4(0x63b)]=_0xdf66b4(0x93b)+(localQuestionIndex+0x1)+_0xdf66b4(0xe75)+currentQuizData['questions'][_0xdf66b4(0xe93)]+_0xdf66b4(0xde6)+localTeamPlayers[_0xdf66b4(0x885)](',\x20')+_0xdf66b4(0xe45)+(localQuestionIndex+0x1)+'.\x20'+_0xcd8595+_0xdf66b4(0x89d)+(_0x204668[_0xdf66b4(0x74b)]?_0xdf66b4(0x8ae)+_0x204668['imageCode']+_0xdf66b4(0xcb3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x399748+_0xdf66b4(0xbd5),studentQuizArea[_0xdf66b4(0xeac)]['remove'](_0xdf66b4(0xcc2));if(window['MathJax'])MathJax[_0xdf66b4(0x40b)]([studentQuizArea]);document[_0xdf66b4(0x815)](_0xdf66b4(0x45f))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x650e90,_0x1bc652=null,_0x4c6d70,_0x3c1e9d=null,_0x32e641=![],_0x2a243a=null){const _0x1612ee=_0x230ac1,_0x2414d7=document['getElementById'](_0x1612ee(0x601));_0x2414d7&&_0x2414d7[_0x1612ee(0x984)]({'behavior':'smooth','block':_0x1612ee(0xc2a)}),generateQuiz(_0x650e90,_0x1bc652,null,_0x2a243a,!![],_0x4c6d70,_0x3c1e9d,_0x32e641);}function handleGenerateAndShowLesson(_0x2c5b16,_0x11b64e){const _0x5a35f2=_0x230ac1,_0x5c8eb0=document[_0x5a35f2(0x815)](_0x5a35f2(0x2de)),_0x5b786d=document['getElementById'](_0x5a35f2(0x90c)),_0x4482d9=document[_0x5a35f2(0x815)](_0x5a35f2(0xe6d)),_0x27e996=document[_0x5a35f2(0x815)]('lesson-sections-container');[_0x5a35f2(0xd7c),_0x5a35f2(0x745),_0x5a35f2(0x71f),'summaryContent'][_0x5a35f2(0xdec)](_0x83d59d=>{const _0x451399=_0x5a35f2,_0x1fb13a=document[_0x451399(0x815)](_0x83d59d)[_0x451399(0xaa0)];_0x1fb13a&&(_0x1fb13a[_0x451399(0x205)][_0x451399(0xdd3)]=_0x451399(0x46b));}),_0x5b786d[_0x5a35f2(0x587)]=_0x5a35f2(0xa9e)+_0x2c5b16,_0x27e996[_0x5a35f2(0xeac)][_0x5a35f2(0x4db)](_0x5a35f2(0xcc2)),_0x4482d9[_0x5a35f2(0xeac)]['remove']('hidden'),_0x5c8eb0[_0x5a35f2(0xeac)][_0x5a35f2(0xb0b)]('hidden'),generateLesson(_0x2c5b16,_0x11b64e)[_0x5a35f2(0xb5c)](_0x2c0eb9=>{const _0xf4ffa2=_0x5a35f2;console[_0xf4ffa2(0x1b6)]('Failed\x20to\x20generate\x20lesson:',_0x2c0eb9),showMessage(_0xf4ffa2(0x32e)),_0x5c8eb0['classList']['add']('hidden');});}function handlePointerDown(_0xad604d){const _0x4fe52e=_0x230ac1;_0xad604d['preventDefault']();const _0x54004c=scratchpadCtx[_0x4fe52e(0x7b9)],_0x144b3b=_0x54004c[_0x4fe52e(0xe69)](),_0x482a43=_0xad604d['pointerType']||(_0xad604d[_0x4fe52e(0x76e)]?'touch':'mouse');if(_0x482a43===_0x4fe52e(0x923)||_0x482a43===_0x4fe52e(0xc4c)){if(_0xad604d[_0x4fe52e(0x7d7)]===_0x4fe52e(0xc4c)&&_0xad604d[_0x4fe52e(0xb99)]!==0x0){_0xad604d[_0x4fe52e(0xb99)]===0x1&&(isMousePanning=!![],panStart={'x':_0xad604d[_0x4fe52e(0x5d4)],'y':_0xad604d[_0x4fe52e(0x6e2)]},_0x54004c['style'][_0x4fe52e(0x4f8)]=_0x4fe52e(0x390));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1f243a=getTransformedPoint(_0xad604d[_0x4fe52e(0x5d4)]-_0x144b3b[_0x4fe52e(0xa3b)],_0xad604d['clientY']-_0x144b3b[_0x4fe52e(0xad4)]);let _0x128df9={'tool':activeTool,'points':[_0x1f243a]};if(activeTool===_0x4fe52e(0x923))_0x128df9[_0x4fe52e(0x9fe)]=scratchpadPenColor,_0x128df9[_0x4fe52e(0xc1c)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x128df9['color']=scratchpadPenColor,_0x128df9[_0x4fe52e(0xc1c)]=scratchpadEraserSize;else{if(activeTool===_0x4fe52e(0x6b7))_0x128df9[_0x4fe52e(0x9fe)]=scratchpadHighlighterColor,_0x128df9['size']=scratchpadHighlighterSize;else activeTool===_0x4fe52e(0x87d)&&(_0x128df9[_0x4fe52e(0x9fe)]=scratchpadPenColor,_0x128df9[_0x4fe52e(0xc1c)]=scratchpadPenSize);}}currentStroke=_0x128df9;}else _0xad604d[_0x4fe52e(0x76e)]&&(_0xad604d[_0x4fe52e(0x76e)][_0x4fe52e(0xe93)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xad604d['touches'][0x0][_0x4fe52e(0x5d4)],'y':_0xad604d['touches'][0x0][_0x4fe52e(0x6e2)]},{'x':_0xad604d['touches'][0x1][_0x4fe52e(0x5d4)],'y':_0xad604d[_0x4fe52e(0x76e)][0x1][_0x4fe52e(0x6e2)]}),initialPinchDistance=getDistance({'x':_0xad604d[_0x4fe52e(0x76e)][0x0][_0x4fe52e(0x5d4)],'y':_0xad604d[_0x4fe52e(0x76e)][0x0][_0x4fe52e(0x6e2)]},{'x':_0xad604d[_0x4fe52e(0x76e)][0x1][_0x4fe52e(0x5d4)],'y':_0xad604d[_0x4fe52e(0x76e)][0x1][_0x4fe52e(0x6e2)]})));}function animateTrail(){const _0x61e978=_0x230ac1,_0x3d7f5d=Date['now']();let _0x238f58=![];for(let _0x2dc1df=strokes['length']-0x1;_0x2dc1df>=0x0;_0x2dc1df--){const _0x50501a=strokes[_0x2dc1df];if(_0x50501a[_0x61e978(0x467)]===_0x61e978(0x87d)&&_0x50501a[_0x61e978(0x4c8)]){const _0x366c33=_0x3d7f5d-_0x50501a[_0x61e978(0x4c8)];_0x366c33>=TRAIL_DURATION?strokes[_0x61e978(0x913)](_0x2dc1df,0x1):(_0x50501a[_0x61e978(0xce7)]=0x1-_0x366c33/TRAIL_DURATION,_0x238f58=!![]);}}redrawScratchpad(),_0x238f58?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x97b00d){const _0x92722b=_0x230ac1;if(!_0x97b00d||_0x97b00d[_0x92722b(0x8f1)]['length']<0x1)return;scratchpadCtx[_0x92722b(0x359)](),scratchpadCtx[_0x92722b(0xbd7)]=_0x92722b(0x803),scratchpadCtx[_0x92722b(0xe52)]=_0x92722b(0x803);if(_0x97b00d[_0x92722b(0x467)]===_0x92722b(0x87d)){const _0x814112=_0x97b00d['size']/scratchpadScale;scratchpadCtx[_0x92722b(0xdc5)]=_0x97b00d['opacity']??0x1,scratchpadCtx['shadowColor']=_0x92722b(0xe6a),scratchpadCtx[_0x92722b(0xae2)]=_0x814112*0x3,scratchpadCtx[_0x92722b(0x5a3)]=_0x92722b(0x2b7),scratchpadCtx['lineWidth']=_0x814112*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x92722b(0xa6e)](_0x97b00d['points'][0x0]['x'],_0x97b00d['points'][0x0]['y']);for(let _0x1a315a=0x1;_0x1a315a<_0x97b00d[_0x92722b(0x8f1)][_0x92722b(0xe93)]-0x1;_0x1a315a++){const _0x5e2d78=getMidpoint(_0x97b00d[_0x92722b(0x8f1)][_0x1a315a],_0x97b00d[_0x92722b(0x8f1)][_0x1a315a+0x1]);scratchpadCtx[_0x92722b(0xebe)](_0x97b00d[_0x92722b(0x8f1)][_0x1a315a]['x'],_0x97b00d[_0x92722b(0x8f1)][_0x1a315a]['y'],_0x5e2d78['x'],_0x5e2d78['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x92722b(0x564)]=_0x92722b(0x2d4),scratchpadCtx[_0x92722b(0xae2)]=0x0,scratchpadCtx[_0x92722b(0x5a3)]=_0x92722b(0x1b3),scratchpadCtx['lineWidth']=_0x814112,scratchpadCtx[_0x92722b(0x4e2)](),scratchpadCtx[_0x92722b(0xdd5)]();}else{if(_0x97b00d[_0x92722b(0x467)]==='highlighter'){scratchpadCtx[_0x92722b(0xadf)]=_0x92722b(0xd98),scratchpadCtx['strokeStyle']=_0x97b00d[_0x92722b(0x9fe)],scratchpadCtx['lineWidth']=_0x97b00d[_0x92722b(0xc1c)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x92722b(0xa6e)](_0x97b00d[_0x92722b(0x8f1)][0x0]['x'],_0x97b00d['points'][0x0]['y']);for(let _0x1f53ae=0x1;_0x1f53ae<_0x97b00d[_0x92722b(0x8f1)][_0x92722b(0xe93)]-0x1;_0x1f53ae++){const _0x46758a=getMidpoint(_0x97b00d[_0x92722b(0x8f1)][_0x1f53ae],_0x97b00d[_0x92722b(0x8f1)][_0x1f53ae+0x1]);scratchpadCtx['quadraticCurveTo'](_0x97b00d[_0x92722b(0x8f1)][_0x1f53ae]['x'],_0x97b00d['points'][_0x1f53ae]['y'],_0x46758a['x'],_0x46758a['y']);}scratchpadCtx[_0x92722b(0x4e2)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x97b00d[_0x92722b(0x467)]==='eraser'?'destination-out':_0x92722b(0x8a8),scratchpadCtx['strokeStyle']=_0x97b00d[_0x92722b(0x9fe)],scratchpadCtx[_0x92722b(0x5a8)]=_0x97b00d['size'],scratchpadCtx[_0x92722b(0xcf3)](),scratchpadCtx[_0x92722b(0xa6e)](_0x97b00d[_0x92722b(0x8f1)][0x0]['x'],_0x97b00d[_0x92722b(0x8f1)][0x0]['y']);for(let _0x187756=0x1;_0x187756<_0x97b00d['points'][_0x92722b(0xe93)]-0x1;_0x187756++){const _0x5a8776=getMidpoint(_0x97b00d[_0x92722b(0x8f1)][_0x187756],_0x97b00d[_0x92722b(0x8f1)][_0x187756+0x1]);scratchpadCtx[_0x92722b(0xebe)](_0x97b00d[_0x92722b(0x8f1)][_0x187756]['x'],_0x97b00d[_0x92722b(0x8f1)][_0x187756]['y'],_0x5a8776['x'],_0x5a8776['y']);}scratchpadCtx[_0x92722b(0x4e2)](),scratchpadCtx[_0x92722b(0xdd5)]();}}scratchpadCtx[_0x92722b(0x466)]();}function handlePointerMove(_0x19b769){const _0x2c4d33=_0x230ac1;_0x19b769[_0x2c4d33(0x896)]();const _0x3816af=scratchpadCtx[_0x2c4d33(0x7b9)],_0x319457=_0x3816af[_0x2c4d33(0xe69)]();if(_0x19b769['touches']){if(_0x19b769['touches'][_0x2c4d33(0xe93)]===0x1&&isDrawingOnScratchpad){const _0x17150d=getTransformedPoint(_0x19b769[_0x2c4d33(0x76e)][0x0]['clientX']-_0x319457[_0x2c4d33(0xa3b)],_0x19b769['touches'][0x0][_0x2c4d33(0x6e2)]-_0x319457[_0x2c4d33(0xad4)]);currentStroke[_0x2c4d33(0x8f1)]['push'](_0x17150d),redrawScratchpad();}else{if(_0x19b769[_0x2c4d33(0x76e)][_0x2c4d33(0xe93)]===0x2&&isPanning){const _0x5460b6=getDistance({'x':_0x19b769['touches'][0x0]['clientX'],'y':_0x19b769[_0x2c4d33(0x76e)][0x0][_0x2c4d33(0x6e2)]},{'x':_0x19b769[_0x2c4d33(0x76e)][0x1][_0x2c4d33(0x5d4)],'y':_0x19b769[_0x2c4d33(0x76e)][0x1][_0x2c4d33(0x6e2)]}),_0x5159bf=getMidpoint({'x':_0x19b769['touches'][0x0][_0x2c4d33(0x5d4)],'y':_0x19b769[_0x2c4d33(0x76e)][0x0][_0x2c4d33(0x6e2)]},{'x':_0x19b769[_0x2c4d33(0x76e)][0x1]['clientX'],'y':_0x19b769['touches'][0x1][_0x2c4d33(0x6e2)]}),_0xe3e925=_0x5460b6/ initialPinchDistance,_0x3ba863=Math[_0x2c4d33(0x4f5)](Math[_0x2c4d33(0x526)](scratchpadScale*_0xe3e925,MIN_SCALE),MAX_SCALE),_0x463222=_0x5159bf['x']-panStart['x'],_0x16c10b=_0x5159bf['y']-panStart['y'];scratchpadOffset['x']=_0x5159bf['x']-(_0x5159bf['x']-scratchpadOffset['x'])*(_0x3ba863/scratchpadScale),scratchpadOffset['y']=_0x5159bf['y']-(_0x5159bf['y']-scratchpadOffset['y'])*(_0x3ba863/scratchpadScale),scratchpadOffset['x']+=_0x463222,scratchpadOffset['y']+=_0x16c10b,scratchpadScale=_0x3ba863,initialPinchDistance=_0x5460b6,panStart=_0x5159bf,redrawScratchpad();}}}else{if(isMousePanning){const _0xbef4b1=_0x19b769[_0x2c4d33(0x5d4)]-panStart['x'],_0x5c488d=_0x19b769[_0x2c4d33(0x6e2)]-panStart['y'];scratchpadOffset['x']+=_0xbef4b1,scratchpadOffset['y']+=_0x5c488d,panStart={'x':_0x19b769[_0x2c4d33(0x5d4)],'y':_0x19b769['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3aeaeb=getTransformedPoint(_0x19b769[_0x2c4d33(0x5d4)]-_0x319457[_0x2c4d33(0xa3b)],_0x19b769[_0x2c4d33(0x6e2)]-_0x319457['top']);currentStroke[_0x2c4d33(0x8f1)][_0x2c4d33(0xacf)](_0x3aeaeb),redrawScratchpad();}}}}function handlePointerUp(_0x578a9){const _0x164fa9=_0x230ac1;_0x578a9['preventDefault']();const _0x42dfa7=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x42dfa7[_0x164fa9(0x205)][_0x164fa9(0x4f8)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x164fa9(0xe93)]>0x1&&(strokes[_0x164fa9(0xacf)](currentStroke),currentStroke[_0x164fa9(0x467)]===_0x164fa9(0x87d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3ae61b=_0x164fa9,_0xdb496c=strokes['filter'](_0x431d02=>_0x431d02['tool']===_0x3ae61b(0x87d)&&!_0x431d02[_0x3ae61b(0x4c8)]);if(_0xdb496c[_0x3ae61b(0xe93)]>0x0){const _0x1d7b1a=Date[_0x3ae61b(0x7be)]();_0xdb496c[_0x3ae61b(0xdec)](_0x188492=>_0x188492[_0x3ae61b(0x4c8)]=_0x1d7b1a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x412b99){const _0x39455b=_0x230ac1;_0x412b99['preventDefault']();const _0x5db31f=_0x412b99[_0x39455b(0x824)]*-0.005,_0x1d81f0=Math[_0x39455b(0x4f5)](Math[_0x39455b(0x526)](scratchpadScale+_0x5db31f,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x412b99['clientX']-(_0x412b99[_0x39455b(0x5d4)]-scratchpadOffset['x'])*(_0x1d81f0/scratchpadScale),scratchpadOffset['y']=_0x412b99[_0x39455b(0x6e2)]-(_0x412b99[_0x39455b(0x6e2)]-scratchpadOffset['y'])*(_0x1d81f0/scratchpadScale),scratchpadScale=_0x1d81f0,redrawScratchpad();}function undo(){const _0x542f7a=_0x230ac1;strokes['length']>0x0&&(redoStrokes[_0x542f7a(0xacf)](strokes[_0x542f7a(0xee2)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x8d9662=_0x230ac1;redoStrokes[_0x8d9662(0xe93)]>0x0&&(strokes[_0x8d9662(0xacf)](redoStrokes[_0x8d9662(0xee2)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x318fee=_0x230ac1;document['getElementById'](_0x318fee(0x7fe))['disabled']=strokes[_0x318fee(0xe93)]===0x0,document[_0x318fee(0x815)](_0x318fee(0xcdd))[_0x318fee(0x44b)]=redoStrokes[_0x318fee(0xe93)]===0x0;}function openScratchpad(_0x5251b0,_0x3b29ae){const _0x23fabe=_0x230ac1,_0x4ed931=document[_0x23fabe(0x815)](_0x23fabe(0xa23)),_0x36269c=document[_0x23fabe(0x815)](_0x23fabe(0x6c5)),_0xd75658=document[_0x23fabe(0x815)](_0x23fabe(0x642)),_0x1b05f8=document[_0x23fabe(0x815)](_0x23fabe(0x7d8));_0x36269c[_0x23fabe(0x63b)]=_0x5251b0[_0x23fabe(0x212)]||_0x5251b0[_0x23fabe(0xef8)],_0xd75658[_0x23fabe(0x63b)]=_0x3b29ae[_0x23fabe(0xe07)]((_0x30ef6a,_0x381302)=>_0x23fabe(0xa91)+String['fromCharCode'](0x41+_0x381302)+'.\x20'+_0x30ef6a+_0x23fabe(0xcb3))[_0x23fabe(0x885)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4ed931[_0x23fabe(0xeac)][_0x23fabe(0xb0b)](_0x23fabe(0xcc2)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x23fabe(0x67a)])MathJax['typesetPromise']([_0x36269c,_0xd75658]);}function openBlueprintQuizSettings(){const _0x26d13b=_0x230ac1,_0x91fca=document[_0x26d13b(0x815)](_0x26d13b(0xbf8)),_0x118bca=blueprintPageSettings||(currentProjectData?currentProjectData[_0x26d13b(0x22d)]:{})||{};document['getElementById'](_0x26d13b(0x4cb))[_0x26d13b(0xdd7)]=_0x118bca[_0x26d13b(0x1c2)]||document[_0x26d13b(0x815)](_0x26d13b(0xa7e))[_0x26d13b(0xdd7)],document[_0x26d13b(0x815)](_0x26d13b(0x28c))[_0x26d13b(0x63b)]=document[_0x26d13b(0x815)](_0x26d13b(0xadc))['innerHTML'],document[_0x26d13b(0x815)](_0x26d13b(0x28c))[_0x26d13b(0xdd7)]=_0x118bca['difficultyValue']||document[_0x26d13b(0x815)](_0x26d13b(0xadc))[_0x26d13b(0xdd7)],document[_0x26d13b(0x815)](_0x26d13b(0x835))['innerHTML']=document[_0x26d13b(0x815)]('question-complexity-select')[_0x26d13b(0x63b)],document[_0x26d13b(0x815)](_0x26d13b(0x835))[_0x26d13b(0xdd7)]=_0x118bca[_0x26d13b(0x512)]||document[_0x26d13b(0x815)](_0x26d13b(0xf0f))['value'],document['getElementById']('bp-modal-num-questions')[_0x26d13b(0xdd7)]=_0x118bca[_0x26d13b(0x3ae)]||document[_0x26d13b(0x815)]('num-questions')[_0x26d13b(0xdd7)],document[_0x26d13b(0x815)](_0x26d13b(0x22e))['value']=_0x118bca[_0x26d13b(0x59f)]||document[_0x26d13b(0x815)](_0x26d13b(0x6e6))['value'],document['getElementById'](_0x26d13b(0xe8d))[_0x26d13b(0xdd7)]=_0x118bca[_0x26d13b(0x8f6)]||document['getElementById'](_0x26d13b(0x8bb))[_0x26d13b(0xdd7)],document[_0x26d13b(0x815)](_0x26d13b(0x4a7))['value']=_0x118bca[_0x26d13b(0x23d)]||document[_0x26d13b(0x815)]('shuffle-setting-select')[_0x26d13b(0xdd7)],document[_0x26d13b(0x815)](_0x26d13b(0xaea))[_0x26d13b(0xdaf)]=_0x118bca['includeImages']||document[_0x26d13b(0x815)](_0x26d13b(0xb9e))[_0x26d13b(0xdaf)],_0x91fca['classList'][_0x26d13b(0xb0b)](_0x26d13b(0xcc2));}function handleSaveBlueprintPageSettings(){const _0x591e97=_0x230ac1;blueprintPageSettings={'quizType':document[_0x591e97(0x815)]('bp-modal-quiz-type-select')[_0x591e97(0xdd7)],'difficultyValue':document['getElementById'](_0x591e97(0x28c))[_0x591e97(0xdd7)],'complexityValue':document[_0x591e97(0x815)](_0x591e97(0x835))[_0x591e97(0xdd7)],'numQuestions':document['getElementById'](_0x591e97(0x513))[_0x591e97(0xdd7)],'passingScore':document['getElementById'](_0x591e97(0x22e))['value'],'numChoices':document[_0x591e97(0x815)](_0x591e97(0xe8d))[_0x591e97(0xdd7)],'shuffle':document['getElementById']('bp-modal-shuffle-setting-select')[_0x591e97(0xdd7)],'includeImages':document[_0x591e97(0x815)]('bp-modal-include-images-checkbox')['checked']},showMessage(_0x591e97(0x217)),document[_0x591e97(0x815)](_0x591e97(0xbf8))[_0x591e97(0xeac)][_0x591e97(0x4db)]('hidden');}function listenForParallelTestShortcuts(){const _0x21ea68=_0x230ac1,_0x4856bd=doc(db,_0x21ea68(0xdbd),_0x21ea68(0xa20));onSnapshot(_0x4856bd,_0x5178a8=>{const _0x3a9150=_0x21ea68;let _0x28093b=[],_0x1e4985=[],_0x5611dd={};if(_0x5178a8['exists']()){const _0x1c2c57=_0x5178a8[_0x3a9150(0xdad)]();_0x28093b=_0x1c2c57[_0x3a9150(0xb8c)]||[],_0x1e4985=_0x1c2c57[_0x3a9150(0x2d1)]||[],_0x5611dd=_0x1c2c57[_0x3a9150(0xc25)]||{};}!_0x1e4985['find'](_0x4e5968=>_0x4e5968['id']===_0x3a9150(0x4ad))&&_0x1e4985['unshift']({'id':_0x3a9150(0x4ad),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x28093b[_0x3a9150(0x5eb)](_0xcbfee8=>_0xcbfee8['id']===_0x3a9150(0xdcf))&&_0x28093b[_0x3a9150(0x9bf)]({'id':_0x3a9150(0xdcf),'name':_0x3a9150(0x3d3),'url':'','isDefault':!![]}),!_0x28093b['find'](_0x5c9c83=>_0x5c9c83['id']===_0x3a9150(0xd45))&&_0x28093b['unshift']({'id':'parallel-default-2','name':_0x3a9150(0x58e),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x28093b,parallelShortcutTabs=_0x1e4985,parallelShortcutOrder=_0x5611dd,renderParallelTestShortcuts(),!document[_0x3a9150(0x815)](_0x3a9150(0x691))[_0x3a9150(0xeac)][_0x3a9150(0x65d)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x217e81=_0x230ac1,_0x1e8603=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0x1e8603,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x251ada){console[_0x217e81(0x1b6)](_0x217e81(0x465),_0x251ada);}}function renderAdditionalParallelShortcutsModal(){const _0x3815e5=_0x230ac1,_0x456b16=document['getElementById'](_0x3815e5(0x35f)),_0x4fa02f=document[_0x3815e5(0x815)](_0x3815e5(0x9ab));if(!_0x456b16||!_0x4fa02f)return;_0x456b16['innerHTML']=parallelShortcutTabs[_0x3815e5(0xe07)](_0x36fef2=>{const _0x1b0222=_0x3815e5,_0x44aa40=_0x36fef2['id']===activeParallelShortcutTabId;return _0x1b0222(0xe35)+_0x36fef2['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x44aa40?_0x1b0222(0x7b2):_0x1b0222(0xa58))+_0x1b0222(0x6e1)+_0x36fef2['name']+_0x1b0222(0xc3d)+_0x36fef2[_0x1b0222(0xcc9)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x36fef2['isDefault']?'<button\x20data-tab-id=\x22'+_0x36fef2['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x1b0222(0xa33);})[_0x3815e5(0x885)]('');const _0x5819c8=parallelShortcutTabs[_0x3815e5(0x5eb)](_0xb994d6=>_0xb994d6['id']===activeParallelShortcutTabId);let _0x5e17c9=_0x5819c8?.[_0x3815e5(0x9a6)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x3815e5(0x320)](_0x4d506d=>(_0x5819c8?.[_0x3815e5(0xc8f)]||[])['includes'](_0x4d506d['id']));const _0xe1bda5=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5e17c9[_0x3815e5(0xa6f)]((_0x197478,_0x3ff922)=>{const _0x2eae94=_0x3815e5,_0x51f67c=_0xe1bda5[_0x2eae94(0x73c)](_0x197478['id']),_0x33833d=_0xe1bda5[_0x2eae94(0x73c)](_0x3ff922['id']);return(_0x51f67c===-0x1?Infinity:_0x51f67c)-(_0x33833d===-0x1?Infinity:_0x33833d);}),_0x4fa02f[_0x3815e5(0x63b)]=_0x5e17c9['map'](_0x10dc97=>{const _0x331596=_0x3815e5,_0x7974e6=_0x10dc97['url']?'🔁':'🔗',_0x35d009=parallelShortcutTabs['filter'](_0x1e51a0=>!_0x1e51a0[_0x331596(0x9a6)]),_0x7d1c86=_0x5819c8[_0x331596(0x9a6)]&&_0x35d009[_0x331596(0xe93)]>0x0?_0x331596(0xb75)+_0x35d009[_0x331596(0xe07)](_0x20134f=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x10dc97['id']+_0x331596(0x2c3)+_0x20134f['id']+'\x22>'+_0x20134f['name']+_0x331596(0x365))[_0x331596(0x885)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x331596(0x1d7)+_0x10dc97['id']+_0x331596(0xae9)+_0x7974e6+'\x20'+_0x10dc97[_0x331596(0xcc9)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x10dc97['id']+_0x331596(0xab1)+_0x10dc97['id']+_0x331596(0x3c7)+(!_0x10dc97[_0x331596(0x9a6)]?'<button\x20data-id=\x22'+_0x10dc97['id']+_0x331596(0x764):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5819c8['isDefault']?_0x331596(0xae6)+_0x10dc97['id']+_0x331596(0x3d5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7d1c86+_0x331596(0xc90);})[_0x3815e5(0x885)]('')||_0x3815e5(0x674),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4a58e4=_0x230ac1;document['querySelectorAll'](_0x4a58e4(0xe53))['forEach'](_0x83454=>{const _0x36cf16=_0x4a58e4;_0x83454[_0x36cf16(0x7c5)]=_0x5c2d6c=>{const _0x395522=_0x36cf16;activeParallelShortcutTabId=_0x5c2d6c['currentTarget'][_0x395522(0x5ff)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x83454[_0x36cf16(0x67c)]=_0x366a3b=>{const _0x584d50=_0x36cf16,_0x493856=_0x366a3b['currentTarget'][_0x584d50(0xd27)]('.tab-name-input');_0x366a3b[_0x584d50(0xda1)][_0x584d50(0xd27)]('.tab-name-display')[_0x584d50(0xeac)][_0x584d50(0x4db)]('hidden'),_0x493856[_0x584d50(0xeac)][_0x584d50(0xb0b)](_0x584d50(0xcc2)),_0x493856[_0x584d50(0xca2)](),_0x493856[_0x584d50(0x96e)]();};}),document[_0x4a58e4(0x8c8)](_0x4a58e4(0x3b9))[_0x4a58e4(0xdec)](_0x364a39=>{const _0x3058a6=_0x4a58e4,_0x340519=()=>{const _0x5cfdfa=_0x1143,_0x1fead7=_0x364a39[_0x5cfdfa(0xa28)](_0x5cfdfa(0xe53))['dataset']['tabId'],_0x3ae015=parallelShortcutTabs[_0x5cfdfa(0x5eb)](_0x45ead6=>_0x45ead6['id']===_0x1fead7);_0x3ae015&&(_0x3ae015[_0x5cfdfa(0xcc9)]=_0x364a39[_0x5cfdfa(0xdd7)][_0x5cfdfa(0x99f)]()||_0x3ae015[_0x5cfdfa(0xcc9)],saveParallelShortcutConfig());};_0x364a39[_0x3058a6(0xf0a)]=_0x340519,_0x364a39[_0x3058a6(0x6ae)]=_0x5bdcfd=>{const _0x22f6ce=_0x3058a6;if(_0x5bdcfd['key']==='Enter')_0x364a39[_0x22f6ce(0x843)]();};}),document[_0x4a58e4(0x8c8)](_0x4a58e4(0x57f))[_0x4a58e4(0xdec)](_0x5e1db5=>_0x5e1db5['onclick']=_0x1d4079=>{const _0x3dfa1f=_0x4a58e4,_0x2f8d9a=_0x1d4079[_0x3dfa1f(0xda1)][_0x3dfa1f(0x5ff)][_0x3dfa1f(0xb7b)];showConfirmation(_0x3dfa1f(0x5bf),()=>{const _0x3e1eb1=_0x3dfa1f;parallelShortcutTabs=parallelShortcutTabs[_0x3e1eb1(0x320)](_0x153d7=>_0x153d7['id']!==_0x2f8d9a),delete parallelShortcutOrder[_0x2f8d9a];if(activeParallelShortcutTabId===_0x2f8d9a)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x4a58e4(0x8c8)](_0x4a58e4(0x29a))[_0x4a58e4(0xdec)](_0x236a9f=>_0x236a9f[_0x4a58e4(0x7c5)]=_0x38d5a3=>{const _0x1a430a=_0x4a58e4;_0x38d5a3[_0x1a430a(0x896)]();const {shortcutId:_0x1e1eb8,targetTabId:_0x5ba275}=_0x38d5a3[_0x1a430a(0xda1)][_0x1a430a(0x5ff)],_0x2e215a=parallelShortcutTabs['find'](_0x36b135=>_0x36b135['id']===_0x5ba275);_0x2e215a&&!_0x2e215a[_0x1a430a(0xc8f)][_0x1a430a(0x8f3)](_0x1e1eb8)&&(_0x2e215a[_0x1a430a(0xc8f)][_0x1a430a(0xacf)](_0x1e1eb8),saveParallelShortcutConfig());}),document[_0x4a58e4(0x8c8)](_0x4a58e4(0xef4))[_0x4a58e4(0xdec)](_0x1d10d3=>_0x1d10d3[_0x4a58e4(0x7c5)]=_0x555056=>{const _0x10f907=_0x4a58e4,_0x4a43fb=_0x555056[_0x10f907(0xda1)]['dataset'][_0x10f907(0xdf5)],_0x245db3=parallelShortcutTabs[_0x10f907(0x5eb)](_0xf02d82=>_0xf02d82['id']===activeParallelShortcutTabId);_0x245db3&&!_0x245db3[_0x10f907(0x9a6)]&&(_0x245db3['shortcutIds']=_0x245db3[_0x10f907(0xc8f)][_0x10f907(0x320)](_0x48db74=>_0x48db74!==_0x4a43fb),saveParallelShortcutConfig());}),document[_0x4a58e4(0x8c8)](_0x4a58e4(0xa2e))[_0x4a58e4(0xdec)](_0x21bd69=>_0x21bd69[_0x4a58e4(0x7c5)]=_0x1ecefa=>{const _0x1962a7=_0x4a58e4;_0x1ecefa[_0x1962a7(0xe4a)]();const _0x1f492d=_0x1ecefa[_0x1962a7(0xda1)][_0x1962a7(0x1b7)];document[_0x1962a7(0x8c8)](_0x1962a7(0x360))['forEach'](_0x367166=>_0x367166[_0x1962a7(0xeac)][_0x1962a7(0x4db)](_0x1962a7(0xcc2))),_0x1f492d['classList'][_0x1962a7(0xb0b)](_0x1962a7(0xcc2));});const _0x1a6443=document[_0x4a58e4(0x815)](_0x4a58e4(0x9ab));let _0x298504=null;_0x1a6443[_0x4a58e4(0x8e0)]=_0x2e0b45=>{const _0x2ddde3=_0x4a58e4;_0x298504=_0x2e0b45[_0x2ddde3(0x3d1)][_0x2ddde3(0xa28)](_0x2ddde3(0xd90));if(_0x298504)setTimeout(()=>_0x298504['classList'][_0x2ddde3(0x4db)](_0x2ddde3(0x919)),0x0);},_0x1a6443[_0x4a58e4(0x967)]=()=>{const _0x3c6e7d=_0x4a58e4;_0x298504&&(_0x298504[_0x3c6e7d(0xeac)]['remove'](_0x3c6e7d(0x919)),_0x298504=null);},_0x1a6443[_0x4a58e4(0xb83)]=_0x4de78d=>{const _0x210000=_0x4a58e4;_0x4de78d[_0x210000(0x896)]();},_0x1a6443[_0x4a58e4(0x54d)]=_0x5a68b9=>{const _0x3a6f44=_0x4a58e4;_0x5a68b9['preventDefault']();if(_0x298504){const _0x292d39=[..._0x1a6443[_0x3a6f44(0x8c8)](_0x3a6f44(0x4a3))][_0x3a6f44(0xa56)]((_0x5eed1f,_0x4155cd)=>{const _0x4bca19=_0x3a6f44,_0x3b4a00=_0x4155cd[_0x4bca19(0xe69)](),_0x539bdd=_0x5a68b9[_0x4bca19(0x6e2)]-_0x3b4a00[_0x4bca19(0xad4)]-_0x3b4a00[_0x4bca19(0x329)]/0x2;return _0x539bdd<0x0&&_0x539bdd>_0x5eed1f[_0x4bca19(0xc5d)]?{'offset':_0x539bdd,'element':_0x4155cd}:_0x5eed1f;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3a6f44(0x46c)];_0x292d39==null?_0x1a6443[_0x3a6f44(0x2f2)](_0x298504):_0x1a6443['insertBefore'](_0x298504,_0x292d39);const _0x2b8176=[..._0x1a6443[_0x3a6f44(0x8c8)]('.shortcut-list-item')]['map'](_0x2f99b0=>_0x2f99b0[_0x3a6f44(0x5ff)][_0x3a6f44(0xdf5)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2b8176,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x146fb6=_0x230ac1,_0x371236=prompt(_0x146fb6(0xcd2),_0x146fb6(0x9d0));_0x371236&&_0x371236[_0x146fb6(0x99f)]()&&(parallelShortcutTabs[_0x146fb6(0xacf)]({'id':_0x146fb6(0x2ea)+Date[_0x146fb6(0x7be)](),'name':_0x371236[_0x146fb6(0x99f)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xa2573=_0x230ac1,_0x190093=document[_0xa2573(0x815)]('parallel-shortcut-container'),_0x6ba3cf=document[_0xa2573(0x815)](_0xa2573(0x9ab)),_0x1cddd3=document[_0xa2573(0x815)]('parallel-shortcuts-loading-msg');if(_0x1cddd3)_0x1cddd3[_0xa2573(0xeac)][_0xa2573(0x4db)](_0xa2573(0xcc2));if(!_0x190093||!_0x6ba3cf)return;const _0x443bb3=parallelTestShortcuts[_0xa2573(0xc26)](0x0,0x4),_0x334fd0=parallelTestShortcuts[_0xa2573(0xc26)](0x4);_0x190093[_0xa2573(0x63b)]=_0x443bb3['map'](_0x455b7e=>{const _0x1f3007=_0xa2573,_0x57d221=_0x455b7e[_0x1f3007(0xd86)]&&_0x455b7e[_0x1f3007(0xd86)][_0x1f3007(0x99f)]()!=='',_0x2d51a4=_0x57d221?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x1f3007(0x9c9),_0x36ac7c=_0x57d221?'🔁':'🔗',_0x15a817=!_0x455b7e[_0x1f3007(0x9a6)]?_0x1f3007(0x86d)+_0x455b7e['id']+_0x1f3007(0x3ba):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x455b7e['id']+_0x1f3007(0x3ec)+_0x2d51a4+_0x1f3007(0xcfd)+_0x36ac7c+'\x20'+_0x455b7e[_0x1f3007(0xcc9)]+_0x1f3007(0xa43)+_0x455b7e['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15a817+_0x1f3007(0xd58);})[_0xa2573(0x885)](''),_0x334fd0[_0xa2573(0xe93)]>0x0&&(_0x190093[_0xa2573(0x63b)]+=_0xa2573(0xf1c)),_0x334fd0[_0xa2573(0xe93)]>0x0?_0x6ba3cf[_0xa2573(0x63b)]=_0x334fd0[_0xa2573(0xe07)](_0x3d592c=>_0xa2573(0xb80)+(_0x3d592c[_0xa2573(0xd86)]?'🔁':'🔗')+'\x20'+_0x3d592c[_0xa2573(0xcc9)]+_0xa2573(0x385)+_0x3d592c['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3d592c['id']+_0xa2573(0xbae)+(!_0x3d592c[_0xa2573(0x9a6)]?_0xa2573(0x86d)+_0x3d592c['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xa2573(0x21b))[_0xa2573(0x885)](''):_0x6ba3cf[_0xa2573(0x63b)]=_0xa2573(0x5b0);}function openParallelTestShortcutEditor(_0x382dbc=null){const _0x3b9fe0=_0x230ac1,_0x195f4b=document[_0x3b9fe0(0x815)](_0x3b9fe0(0x291)),_0x507720=document[_0x3b9fe0(0x815)](_0x3b9fe0(0x947)),_0x762447=document[_0x3b9fe0(0x815)](_0x3b9fe0(0xb65)),_0x115171=document[_0x3b9fe0(0x815)](_0x3b9fe0(0xed3)),_0x57200d=document[_0x3b9fe0(0x815)](_0x3b9fe0(0x74c));if(_0x382dbc){const _0xc8c618=parallelTestShortcuts[_0x3b9fe0(0x5eb)](_0x22c0e9=>_0x22c0e9['id']===_0x382dbc);if(!_0xc8c618)return;_0x507720[_0x3b9fe0(0x587)]=_0x3b9fe0(0x5fd),_0x762447['value']=_0xc8c618['id'],_0x115171['value']=_0xc8c618[_0x3b9fe0(0xcc9)],_0x57200d[_0x3b9fe0(0xdd7)]=_0xc8c618[_0x3b9fe0(0xd86)]||'';}else _0x507720[_0x3b9fe0(0x587)]=_0x3b9fe0(0xca3),_0x762447[_0x3b9fe0(0xdd7)]='',_0x115171[_0x3b9fe0(0xdd7)]='',_0x57200d[_0x3b9fe0(0xdd7)]='';_0x195f4b['classList']['remove'](_0x3b9fe0(0xcc2));}async function saveParallelTestShortcutChanges(){const _0x443284=_0x230ac1,_0x59afb1=document[_0x443284(0x815)](_0x443284(0xb65))['value'],_0xe58f0e=document['getElementById']('parallel-shortcut-name-input')['value']['trim'](),_0x3de33b=document['getElementById'](_0x443284(0x74c))[_0x443284(0xdd7)][_0x443284(0x99f)]();if(!_0xe58f0e){showMessage(_0x443284(0xb85));return;}const _0x4c5307={'id':_0x59afb1||'parallel-shortcut_'+Date['now'](),'name':_0xe58f0e,'url':_0x3de33b,'isDefault':_0x59afb1[_0x443284(0xef1)](_0x443284(0x802))};let _0x14aa30;_0x59afb1?_0x14aa30=parallelTestShortcuts['map'](_0x1b3597=>_0x1b3597['id']===_0x59afb1?_0x4c5307:_0x1b3597):_0x14aa30=[...parallelTestShortcuts,_0x4c5307];try{const _0x27c2f9=doc(db,_0x443284(0xdbd),_0x443284(0xa20));await setDoc(_0x27c2f9,{'shortcuts':_0x14aa30},{'merge':!![]}),document[_0x443284(0x815)](_0x443284(0x291))['classList'][_0x443284(0x4db)](_0x443284(0xcc2));}catch(_0x3d129e){console[_0x443284(0x1b6)]('Error\x20saving\x20parallel\x20shortcut:',_0x3d129e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x69803f){const _0x35dc18=_0x230ac1,_0x54b6e2=parallelTestShortcuts[_0x35dc18(0x5eb)](_0x40a412=>_0x40a412['id']===_0x69803f);if(!_0x54b6e2)return;if(!_0x54b6e2[_0x35dc18(0xd86)]||_0x54b6e2[_0x35dc18(0xd86)][_0x35dc18(0x99f)]()===''){openParallelTestShortcutEditor(_0x69803f);return;}const _0x382a90=document['getElementById'](_0x35dc18(0xb68)),_0x3ca948=document[_0x35dc18(0x815)]('loader-text');document[_0x35dc18(0x815)](_0x35dc18(0x601))[_0x35dc18(0xeac)][_0x35dc18(0xb0b)](_0x35dc18(0xcc2)),document[_0x35dc18(0x815)](_0x35dc18(0xa48))[_0x35dc18(0x63b)]='',_0x382a90[_0x35dc18(0xeac)][_0x35dc18(0xb0b)](_0x35dc18(0xcc2)),_0x3ca948[_0x35dc18(0x587)]=_0x35dc18(0xaa4);try{let _0x5d949d;_0x54b6e2[_0x35dc18(0xd86)][_0x35dc18(0xaec)]()[_0x35dc18(0x8f3)]('.txt')?_0x5d949d=_0x35dc18(0x4df):_0x5d949d=_0x35dc18(0x612);const _0x2dff93=await fetchFileFromUrl(_0x54b6e2[_0x35dc18(0xd86)],_0x5d949d);await handleGenerateParallelTest(_0x2dff93);}catch(_0x199a99){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x199a99),showMessage('เกิดข้อผิดพลาด:\x20'+_0x199a99[_0x35dc18(0xb95)]),_0x382a90['classList'][_0x35dc18(0x4db)](_0x35dc18(0xcc2));}}function initializeScratchpadCanvas(){const _0x310cc4=_0x230ac1,_0x3a1c51=document[_0x310cc4(0x815)](_0x310cc4(0x2e1)),_0x263ffe=document['querySelector']('.scratchpad-content-wrapper');if(!_0x3a1c51||!_0x263ffe)return;scratchpadCtx=_0x3a1c51[_0x310cc4(0xf18)]('2d',{'willReadFrequently':!![]});const _0x2451e6=window[_0x310cc4(0xd2b)]||0x1,_0x101015=_0x263ffe[_0x310cc4(0xe69)]();_0x3a1c51[_0x310cc4(0x26c)]=_0x101015[_0x310cc4(0x26c)]*_0x2451e6,_0x3a1c51[_0x310cc4(0x329)]=_0x101015[_0x310cc4(0x329)]*_0x2451e6,_0x3a1c51[_0x310cc4(0x205)][_0x310cc4(0x26c)]=_0x101015[_0x310cc4(0x26c)]+'px',_0x3a1c51[_0x310cc4(0x205)][_0x310cc4(0x329)]=_0x101015[_0x310cc4(0x329)]+'px',scratchpadCtx['scale'](_0x2451e6,_0x2451e6),scratchpadCtx[_0x310cc4(0xbd7)]=_0x310cc4(0x803),scratchpadCtx[_0x310cc4(0xe52)]=_0x310cc4(0x803),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0xc57),handlePointerDown),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0x47a),handlePointerMove),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0x9ce),handlePointerUp),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0x2e8),handlePointerUp),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0xd01),handleWheel),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0xec9),handlePointerDown),_0x3a1c51[_0x310cc4(0x8d5)]('touchmove',handlePointerMove),_0x3a1c51[_0x310cc4(0x8d5)](_0x310cc4(0x5d9),handlePointerUp),_0x3a1c51[_0x310cc4(0x7b7)](_0x310cc4(0xc57),handlePointerDown),_0x3a1c51['addEventListener'](_0x310cc4(0x47a),handlePointerMove),_0x3a1c51['addEventListener'](_0x310cc4(0x9ce),handlePointerUp),_0x3a1c51['addEventListener'](_0x310cc4(0x2e8),handlePointerUp),_0x3a1c51[_0x310cc4(0x7b7)](_0x310cc4(0xd01),handleWheel,{'passive':![]}),_0x3a1c51[_0x310cc4(0x7b7)](_0x310cc4(0xec9),handlePointerDown,{'passive':![]}),_0x3a1c51['addEventListener'](_0x310cc4(0x3d2),handlePointerMove,{'passive':![]}),_0x3a1c51['addEventListener'](_0x310cc4(0x5d9),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4b162b=_0x230ac1,_0xdd5e2c=document['getElementById'](_0x4b162b(0xa23)),_0xccad37=document[_0x4b162b(0x815)](_0x4b162b(0x7d8));_0xccad37['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x4b162b(0x434);const _0x102cd6=document[_0x4b162b(0x815)]('pen-tool-btn'),_0x3d9226=document[_0x4b162b(0x815)](_0x4b162b(0x3c6)),_0x4ca4d4=document['getElementById'](_0x4b162b(0x8c1)),_0x46f9d2=document[_0x4b162b(0x815)](_0x4b162b(0x4ca)),_0x4c5750=document['getElementById'](_0x4b162b(0x35b)),_0x496981=document[_0x4b162b(0x815)]('highlighter-tools-group'),_0x33e2b4=document['getElementById']('eraser-tools-group'),_0x52fe53=[_0x102cd6,_0x3d9226,_0x4ca4d4,_0x46f9d2];document[_0x4b162b(0x815)](_0x4b162b(0xc2d))[_0x4b162b(0x7b7)]('click',()=>_0xdd5e2c[_0x4b162b(0xeac)]['add']('hidden')),document[_0x4b162b(0x815)](_0x4b162b(0x827))[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4b162b(0x815)](_0x4b162b(0x2cb))[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4b162b(0x815)](_0x4b162b(0x7fe))[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),undo),document['getElementById'](_0x4b162b(0xcdd))[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),redo);const _0x22f0cb=_0x5d8ac5=>{const _0xf1d85a=_0x4b162b;_0x52fe53[_0xf1d85a(0xdec)](_0x133647=>_0x133647[_0xf1d85a(0xeac)][_0xf1d85a(0xb0b)](_0xf1d85a(0xb0a))),_0x5d8ac5['classList'][_0xf1d85a(0x4db)]('active'),_0x4c5750[_0xf1d85a(0xeac)]['add'](_0xf1d85a(0xcc2)),_0x496981['classList']['add'](_0xf1d85a(0xcc2)),_0x33e2b4[_0xf1d85a(0xeac)][_0xf1d85a(0x4db)](_0xf1d85a(0xcc2));if(activeTool===_0xf1d85a(0x923)||activeTool===_0xf1d85a(0x87d))_0x4c5750['classList'][_0xf1d85a(0xb0b)](_0xf1d85a(0xcc2));else{if(activeTool==='highlighter')_0x496981[_0xf1d85a(0xeac)][_0xf1d85a(0xb0b)](_0xf1d85a(0xcc2));else activeTool===_0xf1d85a(0x687)&&_0x33e2b4[_0xf1d85a(0xeac)][_0xf1d85a(0xb0b)](_0xf1d85a(0xcc2));}};_0x102cd6[_0x4b162b(0x7b7)]('click',()=>{const _0x18e770=_0x4b162b;activeTool=_0x18e770(0x923),_0x22f0cb(_0x102cd6);}),_0x3d9226[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),()=>{const _0x12156c=_0x4b162b;activeTool=_0x12156c(0x687),_0x22f0cb(_0x3d9226);}),_0x4ca4d4['addEventListener']('click',()=>{const _0xfa351c=_0x4b162b;activeTool=_0xfa351c(0x87d),_0x22f0cb(_0x4ca4d4);}),_0x46f9d2[_0x4b162b(0x7b7)](_0x4b162b(0x7a5),()=>{activeTool='highlighter',_0x22f0cb(_0x46f9d2);}),_0x4c5750[_0x4b162b(0x8c8)]('.pen-size-btn')[_0x4b162b(0xdec)](_0x2c4d77=>{_0x2c4d77['addEventListener']('click',_0xcfd3e1=>{const _0x348a47=_0x1143;scratchpadPenSize=parseInt(_0xcfd3e1[_0x348a47(0x3d1)]['dataset']['size'],0xa),_0x4c5750[_0x348a47(0x8c8)](_0x348a47(0x529))[_0x348a47(0xdec)](_0x196692=>_0x196692['classList'][_0x348a47(0xb0b)]('active')),_0xcfd3e1[_0x348a47(0x3d1)][_0x348a47(0xeac)][_0x348a47(0x4db)](_0x348a47(0xb0a));});}),_0x33e2b4[_0x4b162b(0x8c8)]('.eraser-size-btn')[_0x4b162b(0xdec)](_0x2516ac=>{const _0x28770c=_0x4b162b;_0x2516ac[_0x28770c(0x7b7)]('click',_0x3a0948=>{const _0x21ffb8=_0x28770c,_0x4b7ab5=_0x3a0948['currentTarget'];scratchpadEraserSize=parseInt(_0x4b7ab5[_0x21ffb8(0x5ff)][_0x21ffb8(0xc1c)],0xa),_0x33e2b4[_0x21ffb8(0x8c8)](_0x21ffb8(0xc8e))[_0x21ffb8(0xdec)](_0x50ce4=>_0x50ce4['classList'][_0x21ffb8(0xb0b)]('active')),_0x4b7ab5['classList'][_0x21ffb8(0x4db)](_0x21ffb8(0xb0a));});}),_0x4c5750[_0x4b162b(0x8c8)]('.pen-color-btn')[_0x4b162b(0xdec)](_0x411577=>{const _0x41612b=_0x4b162b;_0x411577[_0x41612b(0x7b7)](_0x41612b(0x7a5),_0x5eca23=>{const _0x558ccd=_0x41612b;scratchpadPenColor=_0x5eca23[_0x558ccd(0x3d1)]['dataset'][_0x558ccd(0x9fe)],_0x4c5750[_0x558ccd(0x8c8)](_0x558ccd(0x3cd))[_0x558ccd(0xdec)](_0x40a105=>_0x40a105['classList'][_0x558ccd(0xb0b)](_0x558ccd(0xb0a))),_0x5eca23[_0x558ccd(0x3d1)][_0x558ccd(0xeac)][_0x558ccd(0x4db)]('active');});}),_0x496981[_0x4b162b(0x8c8)]('.highlighter-color-btn')[_0x4b162b(0xdec)](_0x2a0f43=>{const _0x52bb5d=_0x4b162b;_0x2a0f43[_0x52bb5d(0x7b7)](_0x52bb5d(0x7a5),_0x5bdb36=>{const _0x50e30a=_0x52bb5d;scratchpadHighlighterColor=_0x5bdb36[_0x50e30a(0x3d1)][_0x50e30a(0x5ff)]['color'],_0x496981['querySelectorAll'](_0x50e30a(0xb96))[_0x50e30a(0xdec)](_0x53817c=>_0x53817c[_0x50e30a(0xeac)]['remove']('active')),_0x5bdb36[_0x50e30a(0x3d1)][_0x50e30a(0xeac)][_0x50e30a(0x4db)]('active');});});const _0x1a513e=document['getElementById'](_0x4b162b(0x620)),_0x3ab2a8=document[_0x4b162b(0x815)](_0x4b162b(0xce9));_0x1a513e[_0x4b162b(0x7b7)](_0x4b162b(0xa61),_0x50911a=>{const _0x5d89d4=_0x4b162b,_0x314d8f=parseInt(_0x50911a[_0x5d89d4(0x3d1)][_0x5d89d4(0xdd7)],0xa);scratchpadHighlighterSize=_0x314d8f,_0x3ab2a8['textContent']=_0x314d8f;}),window[_0x4b162b(0x7b7)](_0x4b162b(0x236),()=>{const _0xab558d=_0x4b162b;!_0xdd5e2c['classList'][_0xab558d(0x65d)](_0xab558d(0xcc2))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x230ac1(0x719),'name':_0x230ac1(0x95e),'description':_0x230ac1(0x78a),'icon':_0x230ac1(0x1cc)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x230ac1(0xafe),'icon':_0x230ac1(0x604)},'ON_FIRE':{'id':_0x230ac1(0x786),'name':_0x230ac1(0xb6a),'description':_0x230ac1(0x399),'icon':_0x230ac1(0x9e2)},'FIRST_TRY_ACE':{'id':_0x230ac1(0xd68),'name':_0x230ac1(0x6c8),'description':_0x230ac1(0x52f),'icon':_0x230ac1(0x37c)},'COMEBACK_KING':{'id':_0x230ac1(0xda5),'name':_0x230ac1(0x623),'description':_0x230ac1(0x269),'icon':_0x230ac1(0x41b)},'SPECIALIST':{'id':_0x230ac1(0xa08),'name':_0x230ac1(0x935),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x230ac1(0xc87)},'PERSEVERANCE':{'id':_0x230ac1(0x891),'name':'ผู้ไม่ยอมแพ้','description':_0x230ac1(0x611),'icon':_0x230ac1(0x495)}},firebaseConfig={'apiKey':_0x230ac1(0xeee),'authDomain':_0x230ac1(0xe78),'projectId':'ai-quiz-app-aefee','storageBucket':_0x230ac1(0x89c),'messagingSenderId':_0x230ac1(0xc27),'appId':_0x230ac1(0x701),'measurementId':_0x230ac1(0x9a9)},appId=typeof __app_id!==_0x230ac1(0xe9f)?__app_id:_0x230ac1(0xb35),adminView=document[_0x230ac1(0x815)](_0x230ac1(0x32f)),studentView=document[_0x230ac1(0x815)](_0x230ac1(0x1c0)),projectDashboardView=document[_0x230ac1(0x815)](_0x230ac1(0x4c5)),projectDetailView=document[_0x230ac1(0x815)](_0x230ac1(0x36c)),quizResultsView=document[_0x230ac1(0x815)]('quiz-results-view'),projectList=document[_0x230ac1(0x815)]('project-list'),noProjectsMsg=document[_0x230ac1(0x815)]('no-projects-msg'),projectTitle=document['getElementById'](_0x230ac1(0x486)),projectIdDisplay=document['getElementById'](_0x230ac1(0x8f5)),studentList=document[_0x230ac1(0x815)](_0x230ac1(0xb9d)),messageModal=document[_0x230ac1(0x815)](_0x230ac1(0xd61)),modalMessage=document[_0x230ac1(0x815)](_0x230ac1(0x1ec)),createProjectModal=document[_0x230ac1(0x815)](_0x230ac1(0xc24)),adminPasswordModal=document[_0x230ac1(0x815)](_0x230ac1(0xb12)),confirmationModal=document['getElementById'](_0x230ac1(0x839)),userIdDisplay=document[_0x230ac1(0x815)]('user-id-display'),topicTab=document[_0x230ac1(0x815)](_0x230ac1(0x65c)),textTab=document['getElementById']('text-tab'),topicInputArea=document[_0x230ac1(0x815)](_0x230ac1(0x8a1)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x230ac1(0x815)](_0x230ac1(0x6d0)),resultsTab=document[_0x230ac1(0x815)](_0x230ac1(0x3fa)),leaderboardTab=document['getElementById'](_0x230ac1(0xdbc)),manageTabContent=document[_0x230ac1(0x815)]('manage-tab-content'),resultsTabContent=document[_0x230ac1(0x815)](_0x230ac1(0xc63)),leaderboardTabContent=document['getElementById'](_0x230ac1(0xe67)),projectQuizzesList=document['getElementById'](_0x230ac1(0x737)),fileTab=document[_0x230ac1(0x815)](_0x230ac1(0x35a)),fileInputArea=document[_0x230ac1(0x815)](_0x230ac1(0xe2c)),fileUploadInput=document[_0x230ac1(0x815)](_0x230ac1(0x4b1)),worksheetTab=document['getElementById'](_0x230ac1(0x546)),worksheetInputArea=document[_0x230ac1(0x815)](_0x230ac1(0x3c1)),generateWorksheetBtn=document['getElementById'](_0x230ac1(0x4f4)),studentInitialView=document['getElementById'](_0x230ac1(0x71b)),studentNameSelectionView=document[_0x230ac1(0x815)]('student-name-selection-view'),studentQuizArea=document['getElementById'](_0x230ac1(0x558)),studentResultArea=document[_0x230ac1(0x815)]('student-result-area'),studentReadingArea=document[_0x230ac1(0x815)]('student-reading-area'),loadQuizBtn=document['getElementById'](_0x230ac1(0xb5a)),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x230ac1(0x815)](_0x230ac1(0x820)),presentationModal=document[_0x230ac1(0x815)]('presentation-modal'),renameQuizModal=document[_0x230ac1(0x815)](_0x230ac1(0xda0)),moveQuizModal=document[_0x230ac1(0x815)](_0x230ac1(0x6ba)),quizSettingsModal=document[_0x230ac1(0x815)](_0x230ac1(0xb3f)),quizStatusModal=document[_0x230ac1(0x815)](_0x230ac1(0x943)),liveGameView=document[_0x230ac1(0x815)](_0x230ac1(0xaee));function handleFixLessonLatex(){const _0x2408d0=_0x230ac1,_0x49264d=document['getElementById'](_0x2408d0(0xb2a));if(!_0x49264d){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x14037c=_0x49264d[_0x2408d0(0x8c8)]([_0x2408d0(0xc05),_0x2408d0(0x283),_0x2408d0(0x707),_0x2408d0(0x7fd),_0x2408d0(0x7c8)][_0x2408d0(0x885)](','));let _0x30a635=0x0;const _0x4d7ff0=_0x523197=>_0x523197[_0x2408d0(0x587)]||'',_0x2554a6=(_0x3a3935,_0x127577)=>{const _0x127db3=_0x2408d0;if(_0x3a3935['querySelector']&&_0x3a3935['querySelector'](_0x127db3(0xb88)))return;_0x3a3935[_0x127db3(0x587)]=_0x127577;},_0x48264a=_0x39934a=>_0x39934a[_0x2408d0(0xeef)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x2408d0(0xeef)](/\r\n?/g,'\x0a'),_0x1dba34=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x21225b=_0x1bbc4b=>{const _0x523456=_0x2408d0;let _0x106642=_0x1bbc4b['trim']();const _0x4868b=[_0x523456(0x1cd),_0x523456(0x773),_0x523456(0xd24),_0x523456(0x8e1),_0x523456(0x317),'times',_0x523456(0xb7a),_0x523456(0x5c6),_0x523456(0x392),_0x523456(0x80a),'le','ge',_0x523456(0x314),'pm',_0x523456(0xe97),_0x523456(0xdf8),_0x523456(0x7c9),'tan','log','ln','sum',_0x523456(0x55c),_0x523456(0x897),_0x523456(0xa3b),_0x523456(0x5ef),'overline',_0x523456(0x654),_0x523456(0x3bd),_0x523456(0x295)];_0x4868b['forEach'](_0x1758c5=>{const _0x1da814=_0x523456;_0x106642=_0x106642[_0x1da814(0xeef)](new RegExp(_0x1da814(0x872)+_0x1758c5+'\x5cb','g'),(_0x3031ee,_0x5e8233)=>_0x5e8233+'\x5c'+_0x1758c5);});const _0x5411a7=[[/×/g,_0x523456(0x6be)],[/·/g,_0x523456(0x2b5)],[/÷/g,_0x523456(0xcf1)],[/≤/g,_0x523456(0xf20)],[/≥/g,_0x523456(0xa4f)],[/≠/g,'\x5cneq'],[/±/g,_0x523456(0x548)],[/∑/g,_0x523456(0x4a2)],[/−/g,'-']];return _0x5411a7['forEach'](([_0x5d73c4,_0x2b34ba])=>{const _0x11e618=_0x523456;_0x106642=_0x106642[_0x11e618(0xeef)](_0x5d73c4,_0x2b34ba);}),_0x106642=_0x106642[_0x523456(0xeef)](/√\s*([A-Za-z0-9]+)/g,_0x523456(0x65e)),_0x106642=_0x106642['replace'](/(\d+)\s*%/g,_0x523456(0x547)),_0x106642;},_0xfb0a57=_0x533ea8=>{const _0x403fed=_0x2408d0;if(/\$|\\\(|\\\[/[_0x403fed(0x2d3)](_0x533ea8))return _0x533ea8;if(!_0x1dba34[_0x403fed(0x2d3)](_0x533ea8))return _0x533ea8;const _0x16c7c2=_0x533ea8['match'](/^\s*/)[0x0],_0x57691f=_0x533ea8['match'](/\s*$/)[0x0],_0x39f9c6=_0x533ea8['trim']();return _0x16c7c2+'$'+_0x21225b(_0x39f9c6)+'$'+_0x57691f;};_0x14037c[_0x2408d0(0xdec)](_0x4ce43b=>{const _0x5b2f46=_0x2408d0,_0x32da12=_0x4d7ff0(_0x4ce43b);let _0x4936bc=_0x48264a(_0x32da12);_0x4936bc=_0x4936bc[_0x5b2f46(0xeef)](/\$([^$]*?)\$/g,(_0xa8f485,_0x2d5bcc)=>'$'+_0x21225b(_0x2d5bcc)+'$');const _0x3827f2=_0x4936bc[_0x5b2f46(0x356)](/(\s+)/),_0x5135bc=_0x3827f2['map'](_0x1456a1=>{const _0x474be8=_0x5b2f46;if(/\s+/[_0x474be8(0x2d3)](_0x1456a1))return _0x1456a1;return _0xfb0a57(_0x1456a1);});_0x4936bc=_0x5135bc['join'](''),_0x4936bc!==_0x32da12&&(_0x2554a6(_0x4ce43b,_0x4936bc),_0x30a635++);});if(_0x30a635>0x0){showMessage(_0x2408d0(0x87c)+_0x30a635+_0x2408d0(0xc55));try{window[_0x2408d0(0x67a)]&&MathJax[_0x2408d0(0x40b)]&&MathJax[_0x2408d0(0x40b)]([_0x49264d]);}catch(_0x2ed8e4){console['error'](_0x2408d0(0x2d2),_0x2ed8e4);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x37847a=_0x230ac1,_0xd3724c=document[_0x37847a(0x815)]('quiz-editor-questions-container')||document,_0x535d25=_0xd3724c[_0x37847a(0x8c8)](_0x37847a(0x255));let _0x1b499c=0x0;const _0x78d2fe=_0x2cb7d1=>_0x37847a(0xdd7)in _0x2cb7d1?String(_0x2cb7d1[_0x37847a(0xdd7)]):_0x2cb7d1[_0x37847a(0xc52)]!==undefined?_0x2cb7d1['innerText']:_0x2cb7d1['textContent']||'',_0x33b774=(_0x28f180,_0x47ca29)=>{const _0x54a928=_0x37847a;if('value'in _0x28f180){_0x28f180[_0x54a928(0xdd7)]=_0x47ca29;return;}if(_0x28f180[_0x54a928(0xd27)]&&_0x28f180[_0x54a928(0xd27)]('mjx-container'))return;if(_0x28f180[_0x54a928(0xc52)]!==undefined)_0x28f180[_0x54a928(0xc52)]=_0x47ca29;else _0x28f180[_0x54a928(0x587)]=_0x47ca29;},_0x283846=_0x6dc95d=>_0x6dc95d[_0x37847a(0xeef)](/\u00A0/g,'\x20')[_0x37847a(0xeef)](/\u200B/g,'')[_0x37847a(0xeef)](/\r\n?/g,'\x0a'),_0x360a0b=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x41b7d0=_0x521b0e=>{const _0x3fbef0=_0x37847a;let _0x3015c1=_0x521b0e['trim']();_0x3015c1=_0x3015c1[_0x3fbef0(0xeef)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x3fbef0(0x775)),_0x3015c1=_0x3015c1[_0x3fbef0(0xeef)](/\bfrac(\d)(\d)/g,_0x3fbef0(0x775));const _0x182052=[_0x3fbef0(0x1cd),_0x3fbef0(0x8e1),'times',_0x3fbef0(0xb7a),_0x3fbef0(0x5c6),'leq',_0x3fbef0(0x80a),_0x3fbef0(0x314),'pm','sin','cos',_0x3fbef0(0x972),'log','ln'];_0x182052[_0x3fbef0(0xdec)](_0x2648f7=>{const _0x46ef67=_0x3fbef0;_0x3015c1=_0x3015c1[_0x46ef67(0xeef)](new RegExp(_0x46ef67(0x872)+_0x2648f7+'\x5cb','g'),(_0x14328e,_0x1f1116)=>_0x1f1116+'\x5c'+_0x2648f7);});const _0x3f7a8d=[[/×/g,_0x3fbef0(0x6be)],[/·/g,_0x3fbef0(0x2b5)],[/÷/g,_0x3fbef0(0xcf1)],[/≤/g,'\x5cle'],[/≥/g,_0x3fbef0(0xa4f)],[/≠/g,_0x3fbef0(0xb2f)],[/±/g,_0x3fbef0(0x548)]];return _0x3f7a8d[_0x3fbef0(0xdec)](([_0x4deb77,_0x2f5257])=>{_0x3015c1=_0x3015c1['replace'](_0x4deb77,_0x2f5257);}),_0x3015c1;},_0xbcefe5=_0x437d16=>{const _0x139ada=_0x37847a;if(/\$|\\\(|\\\[/[_0x139ada(0x2d3)](_0x437d16))return _0x437d16;if(!_0x360a0b[_0x139ada(0x2d3)](_0x437d16))return _0x437d16;const _0x4ba937=_0x437d16[_0x139ada(0x79c)](/^\s*/)[0x0],_0x551852=_0x437d16['match'](/\s*$/)[0x0],_0x26f61b=_0x437d16[_0x139ada(0x99f)]();return _0x4ba937+'$'+_0x41b7d0(_0x26f61b)+'$'+_0x551852;};_0x535d25[_0x37847a(0xdec)](_0x3a429f=>{const _0x595fe5=_0x37847a,_0x1d9ad9=_0x78d2fe(_0x3a429f);let _0x39c8d8=_0x283846(_0x1d9ad9);_0x39c8d8=_0x39c8d8['replace'](/\$([^$]*?)\$/g,(_0x11c30f,_0x5726a2)=>'$'+_0x41b7d0(_0x5726a2)+'$');const _0x8829f7=_0x39c8d8[_0x595fe5(0x356)](/(\s+)/),_0x2643e8=_0x8829f7[_0x595fe5(0xe07)](_0x10b8df=>/\s+/[_0x595fe5(0x2d3)](_0x10b8df)?_0x10b8df:_0xbcefe5(_0x10b8df));_0x39c8d8=_0x2643e8[_0x595fe5(0x885)](''),_0x39c8d8!==_0x1d9ad9&&(_0x33b774(_0x3a429f,_0x39c8d8),_0x1b499c++);});if(_0x1b499c>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x1b499c+_0x37847a(0x62b));try{if(window[_0x37847a(0x67a)]&&MathJax[_0x37847a(0x40b)])MathJax[_0x37847a(0x40b)]();}catch(_0x20c37a){}}else showMessage(_0x37847a(0x7d2));}async function listenForCustomMathTopics(){const _0xe037f5=_0x230ac1,_0x250cb9=collection(db,_0xe037f5(0x884)+appId+_0xe037f5(0x1dd));onSnapshot(_0x250cb9,_0x479b52=>{const _0x24d950=_0xe037f5;customMathTopics=_0x479b52['docs'][_0x24d950(0xe07)](_0x28031b=>({'id':_0x28031b['id'],..._0x28031b[_0x24d950(0xdad)]()})),renderTopicCheckboxes();},_0x5e306e=>{const _0xee9c9e=_0xe037f5;console['error'](_0xee9c9e(0xc0f),_0x5e306e);});}function handleSelectAllTopics(){const _0x347028=_0x230ac1,_0x34f5e3=document[_0x347028(0x815)](_0x347028(0x280)),_0x96eeeb=_0x34f5e3[_0x347028(0x8c8)](_0x347028(0x1ee));_0x96eeeb[_0x347028(0xdec)](_0x1d657b=>{const _0x556c77=_0x347028;_0x1d657b[_0x556c77(0xdaf)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5d2c7b=_0x230ac1,_0x2abed3=document['getElementById'](_0x5d2c7b(0x280)),_0x81c489=_0x2abed3['querySelectorAll'](_0x5d2c7b(0x1ee));_0x81c489[_0x5d2c7b(0xdec)](_0x1ba7c9=>{const _0x3ed702=_0x5d2c7b;_0x1ba7c9[_0x3ed702(0xdaf)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x5c77c3){const _0x3f1fdd=_0x230ac1;if(!_0x5c77c3)return;try{const _0x11542f=doc(db,_0x3f1fdd(0x884)+appId+_0x3f1fdd(0x1dd),_0x5c77c3);await deleteDoc(_0x11542f),showMessage(_0x3f1fdd(0x71a));}catch(_0x18880e){console['error'](_0x3f1fdd(0x666),_0x18880e),showMessage(_0x3f1fdd(0xd79));}}async function handleAddCustomMathTopic(){const _0x3b570d=_0x230ac1,_0x122df8=document['getElementById'](_0x3b570d(0x2c9)),_0x49c7b1=_0x122df8[_0x3b570d(0xdd7)]['trim']();if(!_0x49c7b1){showMessage(_0x3b570d(0xc22));return;}if(!userId){showMessage(_0x3b570d(0x4ce));return;}try{const _0x34b0e3=collection(db,_0x3b570d(0x884)+appId+_0x3b570d(0x1dd));await addDoc(_0x34b0e3,{'name':_0x49c7b1,'createdAt':serverTimestamp()}),_0x122df8['value']='',showMessage(_0x3b570d(0xd4d)+_0x49c7b1+_0x3b570d(0x97f));}catch(_0x2d6899){console[_0x3b570d(0x1b6)](_0x3b570d(0xb74),_0x2d6899),showMessage(_0x3b570d(0xa19));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x4759e6=_0x1143,_0x2ef35f=document[_0x4759e6(0x815)](_0x4759e6(0xb68)),_0x41de36=document[_0x4759e6(0x815)]('loader-text'),_0x2aab63=_0x41de36[_0x4759e6(0x587)];_0x2ef35f[_0x4759e6(0xeac)][_0x4759e6(0xb0b)]('hidden'),_0x41de36[_0x4759e6(0x587)]=_0x4759e6(0x9c7);try{const _0x43ac56=collection(db,_0x4759e6(0x884)+appId+_0x4759e6(0x8a2)),_0x2ce8c1=await getDocs(_0x43ac56);if(_0x2ce8c1[_0x4759e6(0x58b)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x28cbde=writeBatch(db);let _0x391e8d=0x0;_0x2ce8c1['forEach'](_0x3ff7d5=>{const _0x2c6778=_0x4759e6,_0x325ea3=_0x3ff7d5[_0x2c6778(0xdad)](),_0x1357a4=_0x3ff7d5['id'];if(_0x325ea3[_0x2c6778(0x746)]&&_0x325ea3[_0x2c6778(0x746)]['length']>0x0&&!_0x325ea3[_0x2c6778(0x746)][0x0][_0x2c6778(0x39a)]('id')){console[_0x2c6778(0x1cf)](_0x2c6778(0x4ed)+_0x1357a4+'\x20('+_0x325ea3['topic']+')'),_0x391e8d++;const _0x4cc45c=_0x325ea3['questions'][_0x2c6778(0xe07)]((_0x30f61c,_0x301079)=>{const _0x22d8e3=_0x2c6778;return{..._0x30f61c,'id':_0x30f61c['id']||'q_'+Date[_0x22d8e3(0x7be)]()+'_'+_0x1357a4+'_'+_0x301079};}),_0x25a83b=doc(db,_0x2c6778(0x884)+appId+_0x2c6778(0x8a2),_0x1357a4);_0x28cbde['update'](_0x25a83b,{'questions':_0x4cc45c});}}),_0x391e8d>0x0?(_0x41de36[_0x4759e6(0x587)]=_0x4759e6(0x5ed)+_0x391e8d+_0x4759e6(0x5c9),await _0x28cbde[_0x4759e6(0x944)](),showMessage(_0x4759e6(0xdeb)+_0x391e8d+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x35d4ac){console[_0x4759e6(0x1b6)](_0x4759e6(0xd3b),_0x35d4ac),showMessage(_0x4759e6(0x859)+_0x35d4ac['message']);}finally{_0x2ef35f[_0x4759e6(0xeac)]['add'](_0x4759e6(0xcc2)),_0x41de36[_0x4759e6(0x587)]=_0x2aab63;}});}async function handleBulkUpdateQuizSettings(){const _0x2f7045=_0x230ac1,_0x189387={'shuffle':document[_0x2f7045(0x815)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x2f7045(0x815)](_0x2f7045(0x5a9))['value'],'loopUntilPass':document[_0x2f7045(0x815)](_0x2f7045(0xc7c))[_0x2f7045(0xdaf)],'isConfidenceScoringEnabled':document[_0x2f7045(0x815)](_0x2f7045(0xe4e))[_0x2f7045(0xdaf)],'confidenceMode':document[_0x2f7045(0x815)](_0x2f7045(0xd7a))[_0x2f7045(0xdd7)]};try{showMessage(_0x2f7045(0xb49));const _0x404902=await getDocs(collection(db,'artifacts/'+appId+_0x2f7045(0x8a2))),_0xcf5b7e=_0x404902[_0x2f7045(0xcf8)]['map'](_0x3620ec=>({'id':_0x3620ec['id'],'data':_0x3620ec[_0x2f7045(0xdad)]()})),_0x615145=_0xcf5b7e[_0x2f7045(0xe93)];showConfirmation(_0x2f7045(0x713)+_0x615145+_0x2f7045(0x41d),async()=>{const _0x3cc1a9=_0x2f7045,_0x3e9b3e=document[_0x3cc1a9(0x815)](_0x3cc1a9(0xe5c));_0x3e9b3e[_0x3cc1a9(0x44b)]=!![],_0x3e9b3e[_0x3cc1a9(0x63b)]=_0x3cc1a9(0x895);try{const _0x14edde=writeBatch(db);_0xcf5b7e[_0x3cc1a9(0xdec)](_0x5739b3=>{const _0x514c1c=_0x3cc1a9,_0x5cebff=doc(db,'artifacts/'+appId+_0x514c1c(0x8a2),_0x5739b3['id']),_0x57a761={..._0x5739b3['data']['settings']||{},..._0x189387};_0x14edde[_0x514c1c(0x482)](_0x5cebff,{'settings':_0x57a761});}),await _0x14edde[_0x3cc1a9(0x944)](),document[_0x3cc1a9(0x815)](_0x3cc1a9(0x8ef))[_0x3cc1a9(0xeac)]['add'](_0x3cc1a9(0xcc2)),showMessage(_0x3cc1a9(0x665)+_0x615145+_0x3cc1a9(0xe1a));}catch(_0xf63c29){console[_0x3cc1a9(0x1b6)](_0x3cc1a9(0xd7e),_0xf63c29),showMessage(_0x3cc1a9(0x61e));}finally{_0x3e9b3e[_0x3cc1a9(0x44b)]=![],_0x3e9b3e[_0x3cc1a9(0x63b)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x888920){console['error'](_0x2f7045(0x797),_0x888920),showMessage(_0x2f7045(0x699));}}async function handleSaveProjectName(){const _0x4c52c8=_0x230ac1,_0xbfac83=document[_0x4c52c8(0x815)]('project-title'),_0x337e66=document[_0x4c52c8(0x815)](_0x4c52c8(0x2c1)),_0x67e4f6=_0xbfac83[_0x4c52c8(0x587)]['trim']();if(!_0x67e4f6||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0xbfac83['textContent']=currentProjectData[_0x4c52c8(0x98b)];return;}_0x337e66[_0x4c52c8(0x44b)]=!![],_0x337e66['innerHTML']=_0x4c52c8(0xa9b);try{const _0x932c92=doc(db,'artifacts/'+appId+_0x4c52c8(0xb81),currentProjectId);await updateDoc(_0x932c92,{'projectName':_0x67e4f6}),currentProjectData&&(currentProjectData[_0x4c52c8(0x98b)]=_0x67e4f6),showMessage(_0x4c52c8(0xa6a));}catch(_0x47c198){console[_0x4c52c8(0x1b6)](_0x4c52c8(0xd14),_0x47c198),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0xbfac83[_0x4c52c8(0x587)]=currentProjectData[_0x4c52c8(0x98b)];}finally{_0x337e66['classList'][_0x4c52c8(0x4db)](_0x4c52c8(0xcc2)),_0x337e66[_0x4c52c8(0x44b)]=![],_0x337e66['innerHTML']=_0x4c52c8(0xb47);}}function handleGeneratePracticeTest(_0x2b97f2,_0x222947){const _0x179b55=_0x230ac1,_0x1f6e64=document[_0x179b55(0x815)](_0x179b55(0x2de)),_0x4b59c0=document['getElementById'](_0x179b55(0x90c)),_0xc0da40=document[_0x179b55(0x815)](_0x179b55(0xe6d)),_0x204f3c=document[_0x179b55(0x815)](_0x179b55(0xd9a));_0x4b59c0[_0x179b55(0x587)]=_0x179b55(0xb41)+_0x2b97f2,_0x204f3c[_0x179b55(0xeac)][_0x179b55(0x4db)](_0x179b55(0xcc2)),_0xc0da40[_0x179b55(0xeac)]['remove'](_0x179b55(0xcc2)),_0x1f6e64[_0x179b55(0xeac)][_0x179b55(0xb0b)](_0x179b55(0xcc2)),generatePracticeTest(_0x2b97f2,_0x222947)[_0x179b55(0xb5c)](_0x194a3e=>{const _0x2c17b5=_0x179b55;console['error'](_0x2c17b5(0x5fc),_0x194a3e),showMessage(_0x2c17b5(0x771)),_0x1f6e64[_0x2c17b5(0xeac)]['add'](_0x2c17b5(0xcc2));});}async function generatePracticeTest(_0x8ef8ed,_0x4aa338){const _0x3701df=_0x230ac1;[_0x3701df(0xd7c),_0x3701df(0x745),_0x3701df(0x71f),_0x3701df(0xe3a)][_0x3701df(0xdec)](_0x5d0fca=>{const _0x6dec5c=_0x3701df,_0x49199e=document[_0x6dec5c(0x815)](_0x5d0fca)[_0x6dec5c(0xaa0)];_0x49199e&&(_0x49199e['style'][_0x6dec5c(0xdd3)]=_0x6dec5c(0x1e2));});try{const _0x1dd6e6='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x17093d=_0x3701df(0x50b)+_0x4aa338+_0x3701df(0x8cd)+_0x8ef8ed+_0x3701df(0x260),_0x2f2607=await callGemini(_0x17093d,!![]),_0x46f5f8=document[_0x3701df(0x815)](_0x3701df(0x90c)),_0x139bfc=document[_0x3701df(0x815)]('lesson-loader'),_0x189644=document['getElementById'](_0x3701df(0xd9a)),_0x554204=document[_0x3701df(0x815)](_0x3701df(0x71f))[_0x3701df(0xaa0)];_0x46f5f8['innerText']=_0x3701df(0x3b0)+_0x8ef8ed['replace'](/•\s/g,'')+_0x3701df(0xa5d)+_0x4aa338+')',currentApplicationData=JSON[_0x3701df(0x74f)](_0x2f2607);const _0xb618ac=document[_0x3701df(0x815)](_0x3701df(0x71f));_0xb618ac[_0x3701df(0x63b)]=currentApplicationData[_0x3701df(0xe07)]((_0x4fefb1,_0x49f07b)=>_0x3701df(0x88f)+(_0x49f07b+0x1)+'.\x20'+marked[_0x3701df(0xedb)](_0x4fefb1[_0x3701df(0xc56)])+_0x3701df(0x76a)+_0x49f07b+_0x3701df(0x5c0)+_0x4fefb1[_0x3701df(0xa9c)][_0x3701df(0xe07)]((_0x199019,_0x5e2cd0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x49f07b+',\x20'+_0x5e2cd0+_0x3701df(0xa14)+String['fromCharCode'](0x61+_0x5e2cd0)+'.\x20'+marked['parseInline'](_0x199019)+_0x3701df(0x290))[_0x3701df(0x885)]('')+_0x3701df(0x21b))['join'](''),window[_0x3701df(0x67a)]&&MathJax[_0x3701df(0x40b)]([_0xb618ac]),_0x554204&&(_0x554204['style'][_0x3701df(0xdd3)]=_0x3701df(0x46b)),_0x139bfc[_0x3701df(0xeac)][_0x3701df(0x4db)]('hidden'),_0x189644[_0x3701df(0xeac)][_0x3701df(0xb0b)](_0x3701df(0xcc2));}catch(_0x27f945){console[_0x3701df(0x1b6)](_0x27f945);throw _0x27f945;}}async function callGemini(_0x50a18e,_0x23f180=![]){const _0x4a7203=_0x230ac1,_0x1cc938='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x3bb512=_0x4a7203(0xd30)+_0x1cc938,_0x2cecc1={'contents':[{'parts':[{'text':_0x50a18e}]}]};_0x23f180&&(_0x2cecc1['generationConfig']={'responseMimeType':_0x4a7203(0x717)},_0x50a18e['includes'](_0x4a7203(0xa64))?_0x2cecc1[_0x4a7203(0xb8e)][_0x4a7203(0xbb3)]={'type':_0x4a7203(0x1eb),'properties':{'gradeLevel':{'type':_0x4a7203(0x324)},'curriculum':{'type':_0x4a7203(0x2df),'items':{'type':_0x4a7203(0x1eb),'properties':{'sara':{'type':_0x4a7203(0x324)},'mainTopics':{'type':_0x4a7203(0x2df),'items':{'type':_0x4a7203(0x1eb),'properties':{'topicName':{'type':_0x4a7203(0x324)},'subTopics':{'type':_0x4a7203(0x2df),'items':{'type':'STRING'}}},'required':[_0x4a7203(0xb63),_0x4a7203(0xab6)]}}},'required':[_0x4a7203(0xe0b),'mainTopics']}}},'required':[_0x4a7203(0xf25),_0x4a7203(0x66d)]}:_0x2cecc1[_0x4a7203(0xb8e)][_0x4a7203(0xbb3)]={'type':_0x4a7203(0x2df),'items':{'type':_0x4a7203(0x1eb),'properties':{'question':{'type':_0x4a7203(0x324)},'options':{'type':_0x4a7203(0x2df),'items':{'type':_0x4a7203(0x324)}},'answer':{'type':'NUMBER'}},'required':[_0x4a7203(0xc56),_0x4a7203(0xa9c),_0x4a7203(0x8cc)]}});try{const _0x5d7b2d=await fetch(_0x3bb512,{'method':_0x4a7203(0x757),'headers':{'Content-Type':_0x4a7203(0x717)},'body':JSON['stringify'](_0x2cecc1)});if(!_0x5d7b2d['ok']){const _0x2da175=await _0x5d7b2d['text']();console[_0x4a7203(0x1b6)](_0x4a7203(0x508),_0x2da175);throw new Error(_0x4a7203(0x38f)+_0x5d7b2d[_0x4a7203(0xc71)]);}const _0x5c59d6=await _0x5d7b2d[_0x4a7203(0xaf8)]();if(_0x5c59d6[_0x4a7203(0xe70)]&&_0x5c59d6[_0x4a7203(0xe70)][0x0][_0x4a7203(0xf14)]&&_0x5c59d6[_0x4a7203(0xe70)][0x0][_0x4a7203(0xf14)][_0x4a7203(0x5b8)][0x0])return _0x5c59d6[_0x4a7203(0xe70)][0x0][_0x4a7203(0xf14)]['parts'][0x0][_0x4a7203(0x317)];else{console[_0x4a7203(0x1b6)]('Unexpected\x20API\x20response\x20structure:',_0x5c59d6);if(_0x5c59d6[_0x4a7203(0xe70)]&&_0x5c59d6[_0x4a7203(0xe70)][0x0][_0x4a7203(0x472)]==='SAFETY')return JSON['stringify']({'error':_0x4a7203(0x34d)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x3152e4){console[_0x4a7203(0x1b6)](_0x4a7203(0x3b3),_0x3152e4);throw _0x3152e4;}}async function generateLesson(_0x2093da=null,_0x11ffb6=null){const _0x5d945=_0x230ac1,_0xc47815=_0x2093da,_0x124d5a=_0x11ffb6||_0x5d945(0x30b),_0x2a1108=document[_0x5d945(0x815)](_0x5d945(0xe6d)),_0x2e3e2e=document[_0x5d945(0x815)](_0x5d945(0xac6));_0x2e3e2e['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0xc47815+_0x5d945(0x728);try{let _0x31265c=[];const _0x54b8cf=document[_0x5d945(0x815)](_0x5d945(0x758))?.[_0x5d945(0xdd7)]['trim']();if(_0x54b8cf)try{_0x2e3e2e[_0x5d945(0x587)]=_0x5d945(0x871);const _0x11d846=await fetchFileFromUrl(_0x54b8cf,'reference_onet.pdf'),_0x5091c6=await new Promise((_0x525ded,_0x5c6d12)=>{const _0x3199f2=_0x5d945,_0x3eea86=new FileReader();_0x3eea86[_0x3199f2(0x8e6)](_0x11d846),_0x3eea86['onload']=()=>_0x525ded(_0x3eea86[_0x3199f2(0xbdb)][_0x3199f2(0x356)](',')[0x1]),_0x3eea86[_0x3199f2(0x284)]=_0x5c6d12;});_0x31265c[_0x5d945(0xacf)]({'inlineData':{'mimeType':_0x11d846[_0x5d945(0x444)],'data':_0x5091c6}});}catch(_0x4c39d9){console[_0x5d945(0x1b6)](_0x5d945(0xccb),_0x4c39d9),showMessage(_0x5d945(0xbde));}const _0x3c590c=_0x5d945(0x3a2)+_0xc47815+_0x5d945(0xc47)+_0xc47815+_0x5d945(0x312);_0x2e3e2e[_0x5d945(0x587)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0xc47815+_0x5d945(0x728);const _0x427c8f=_0x5d945(0xad0)+_0x124d5a+_0x5d945(0x8cd)+_0xc47815+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x3c590c+_0x5d945(0x258),_0xad4a4f='สำหรับหัวข้อ\x20\x27'+_0xc47815+_0x5d945(0x496)+_0x124d5a+_0x5d945(0xefa)+_0x3c590c+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x387191=_0x5d945(0xd85),_0x1c516e=_0x5d945(0x50b)+_0x124d5a+_0x5d945(0x8cd)+_0xc47815+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c590c+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x387191+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x245250=_0x5d945(0xbff)+_0xc47815+_0x5d945(0x892)+_0x124d5a+_0x5d945(0xa6d)+_0x3c590c+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x117252={'type':_0x5d945(0x2df),'items':{'type':_0x5d945(0x1eb),'properties':{'question':{'type':_0x5d945(0x324)},'options':{'type':_0x5d945(0x2df),'items':{'type':_0x5d945(0x324)}},'answer':{'type':_0x5d945(0xc97)}},'required':[_0x5d945(0xc56),_0x5d945(0xa9c),_0x5d945(0x8cc)]}},[_0x130f26,_0x6676c3,_0x57b5dd,_0x47c88c]=await Promise[_0x5d945(0x4ad)]([handleApiCall([{'text':_0x427c8f},..._0x31265c],'...',null,null,![]),handleApiCall([{'text':_0xad4a4f},..._0x31265c],_0x5d945(0x3e6),null,null,![]),handleApiCall([{'text':_0x1c516e},..._0x31265c],_0x5d945(0x3e6),_0x117252,null,![]),handleApiCall([{'text':_0x245250},..._0x31265c],_0x5d945(0x3e6),null,null,![])]),_0x257215=JSON[_0x5d945(0xd0a)](_0x57b5dd||[]),_0x343a0b=document[_0x5d945(0x815)](_0x5d945(0x90c)),_0x33a5bf=document[_0x5d945(0x815)](_0x5d945(0xd9a));_0x343a0b[_0x5d945(0xc52)]=_0x5d945(0x54b)+_0xc47815[_0x5d945(0xeef)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x124d5a+')',['pointContent','memoryContent','summaryContent'][_0x5d945(0xdec)](_0x370fb0=>{const _0x142262=_0x5d945;document[_0x142262(0x815)](_0x370fb0)['innerHTML']='';}),document[_0x5d945(0x815)](_0x5d945(0xd7c))['innerHTML']=_0x130f26?marked[_0x5d945(0x74f)](_0x130f26):_0x5d945(0x5c1),document[_0x5d945(0x815)](_0x5d945(0x745))[_0x5d945(0x63b)]=_0x6676c3?marked[_0x5d945(0x74f)](_0x6676c3):_0x5d945(0x5c1),document[_0x5d945(0x815)]('summaryContent')[_0x5d945(0x63b)]=_0x47c88c?marked[_0x5d945(0x74f)](_0x47c88c):_0x5d945(0x5c1),currentApplicationData=JSON['parse'](_0x257215);const _0x2ce9a2=document[_0x5d945(0x815)](_0x5d945(0x71f));_0x2ce9a2[_0x5d945(0x63b)]=(currentApplicationData||[])['map']((_0x198f06,_0x54cf60)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x54cf60+0x1)+'.\x20'+marked[_0x5d945(0xedb)](_0x198f06[_0x5d945(0xc56)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x54cf60+_0x5d945(0x5c0)+(_0x198f06[_0x5d945(0xa9c)]||[])[_0x5d945(0xe07)]((_0x10ffbc,_0x95c44b)=>_0x5d945(0xc42)+_0x54cf60+',\x20'+_0x95c44b+_0x5d945(0xa14)+String[_0x5d945(0x869)](0x61+_0x95c44b)+'.\x20'+marked[_0x5d945(0xedb)](_0x10ffbc||'')+_0x5d945(0x290))['join']('')+_0x5d945(0x21b))[_0x5d945(0x885)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x5d945(0x67a)]&&MathJax[_0x5d945(0x40b)]([_0x33a5bf]),_0x2a1108[_0x5d945(0xeac)][_0x5d945(0x4db)](_0x5d945(0xcc2)),_0x33a5bf[_0x5d945(0xeac)][_0x5d945(0xb0b)]('hidden');}catch(_0x4f6071){console[_0x5d945(0x1b6)](_0x4f6071);throw _0x4f6071;}}function checkAnswer(_0x2df760,_0xbcaf){const _0x49122f=_0x230ac1,_0x4f5194=currentApplicationData[_0x2df760],_0x3a3bfe=document[_0x49122f(0x815)]('q'+_0x2df760+_0x49122f(0x7ff)),_0x88ac1c=_0x3a3bfe[_0x49122f(0xb4b)](_0x49122f(0xb99));for(let _0x237f7d of _0x88ac1c){_0x237f7d[_0x49122f(0x44b)]=!![];}_0xbcaf===_0x4f5194['answer']?_0x88ac1c[_0xbcaf][_0x49122f(0xeac)][_0x49122f(0x4db)](_0x49122f(0x76b)):(_0x88ac1c[_0xbcaf][_0x49122f(0xeac)][_0x49122f(0x4db)](_0x49122f(0x9c5)),_0x88ac1c[_0x4f5194['answer']][_0x49122f(0xeac)][_0x49122f(0x4db)](_0x49122f(0x76b)));}window[_0x230ac1(0xd2f)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x230ac1(0xde9)]=handleGeneratePracticeTest,window[_0x230ac1(0x473)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function startCropper(_0x48ec8e){const _0xb6b199=_0x230ac1,_0x2d719f=document[_0xb6b199(0x815)](_0xb6b199(0x883)),_0x394662=document[_0xb6b199(0x815)](_0xb6b199(0x9a4)),_0x1f05d4=new FileReader();_0x1f05d4['onload']=_0x4a0ed4=>{const _0x4f7006=_0xb6b199;_0x394662[_0x4f7006(0xa55)]=_0x4a0ed4[_0x4f7006(0x3d1)]['result'],_0x2d719f['classList']['remove']('hidden'),cropperInstance&&cropperInstance[_0x4f7006(0x801)](),cropperInstance=new Cropper(_0x394662,{'viewMode':0x1,'dragMode':_0x4f7006(0x9af),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x1f05d4['readAsDataURL'](_0x48ec8e);}async function handleScanImageForText(_0xe83864){const _0x399416=_0x230ac1,_0x2c4e2b=document[_0x399416(0x815)](_0x399416(0xac1)),_0x5ce49f=document['getElementById'](_0x399416(0x6d5));if(!_0xe83864)return;_0x5ce49f[_0x399416(0x44b)]=!![],_0x5ce49f['innerHTML']=_0x399416(0x8e8),_0x2c4e2b[_0x399416(0x989)]='AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...';try{const _0x14a5d1=await new Promise((_0x2eb342,_0x266de8)=>{const _0x44927a=_0x399416,_0x307733=new FileReader();_0x307733['readAsDataURL'](_0xe83864),_0x307733[_0x44927a(0x5f8)]=()=>_0x2eb342(_0x307733[_0x44927a(0xbdb)][_0x44927a(0x356)](',')[0x1]),_0x307733[_0x44927a(0x284)]=_0x266de8;}),_0x54bfa4=_0x399416(0xb29),_0x5e0f43=[{'text':_0x54bfa4},{'inlineData':{'mimeType':_0xe83864[_0x399416(0x444)],'data':_0x14a5d1}}],_0x3fe95b=await handleApiCall(_0x5e0f43,'AI\x20กำลังสแกนข้อความ...',null,null,![]);if(_0x3fe95b){const _0x321dac=_0x2c4e2b['value'][_0x399416(0x99f)]();_0x2c4e2b['value']=_0x321dac?_0x321dac+'\x0a\x0a'+_0x3fe95b:_0x3fe95b,showMessage(_0x399416(0xeda));}else throw new Error(_0x399416(0xcf7));}catch(_0x30cb30){console[_0x399416(0x1b6)](_0x399416(0x4bf),_0x30cb30),showMessage(_0x399416(0x230)+_0x30cb30[_0x399416(0xb95)]);}finally{_0x5ce49f[_0x399416(0x44b)]=![],_0x5ce49f['innerHTML']=_0x399416(0x924),document[_0x399416(0x815)](_0x399416(0xed2))[_0x399416(0xdd7)]='';}}async function initialize(){const _0x164dbf=_0x230ac1;try{const _0x5a12c6=initializeApp(firebaseConfig);db=getFirestore(_0x5a12c6),auth=getAuth(_0x5a12c6),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x6cfdac){console[_0x164dbf(0x1b6)](_0x164dbf(0x4cd),_0x6cfdac),showMessage(_0x164dbf(0x81e));}}async function handleVerifyAnswersInEditor(){const _0x5a5605=_0x230ac1,_0xca02f1=document[_0x5a5605(0x815)](_0x5a5605(0x309));if(!_0xca02f1)return;const _0x94374d=document[_0x5a5605(0x815)]('verify-answers-editor-btn');_0x94374d[_0x5a5605(0x44b)]=!![],_0x94374d[_0x5a5605(0x63b)]=_0x5a5605(0x2f6);try{const _0x2ab07d=_0xca02f1['querySelectorAll'](_0x5a5605(0xbbb)),_0x4d7093=Array[_0x5a5605(0x488)](_0x2ab07d)[_0x5a5605(0xe07)]((_0x32f3c5,_0x29e40f)=>{const _0x2ee5dc=_0x5a5605,_0x276f1c=_0x32f3c5[_0x2ee5dc(0x5ff)][_0x2ee5dc(0x898)],_0x5c58f0=_0x32f3c5[_0x2ee5dc(0xd27)](_0x2ee5dc(0xc5b))[_0x2ee5dc(0xdd7)];let _0x16d509=null,_0x471acd='';switch(_0x276f1c){case _0x2ee5dc(0x653):const _0x492fa3=_0x32f3c5[_0x2ee5dc(0x8c8)](_0x2ee5dc(0xc68));_0x16d509=Array[_0x2ee5dc(0x488)](_0x492fa3)[_0x2ee5dc(0xe07)](_0x3e4fa2=>_0x3e4fa2[_0x2ee5dc(0xdd7)]);const _0x5668b4=_0x32f3c5[_0x2ee5dc(0xd27)]('input[type=\x22radio\x22]:checked');_0x5668b4&&(_0x471acd=_0x16d509[parseInt(_0x5668b4[_0x2ee5dc(0xdd7)])]);break;case _0x2ee5dc(0x270):_0x16d509=[],_0x471acd=_0x32f3c5[_0x2ee5dc(0xd27)](_0x2ee5dc(0xa10))['value'];break;case'true_false':_0x16d509=['true','false'];const _0x2405da=_0x32f3c5[_0x2ee5dc(0xd27)](_0x2ee5dc(0x489));_0x471acd=_0x2405da?_0x2405da[_0x2ee5dc(0xdd7)]:'';break;case _0x2ee5dc(0x52a):_0x16d509=[],_0x471acd=_0x32f3c5[_0x2ee5dc(0xd27)]('.correct-response-input')['value'];break;}return{'question':_0x5c58f0,'options':_0x16d509,'proposedAnswer':_0x471acd};}),_0x425f7c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x4d7093)+_0x5a5605(0xe81),_0x3e3c8a={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x5a5605(0xc97)},'isCorrect':{'type':_0x5a5605(0x3e2)},'justification':{'type':_0x5a5605(0x324)},'correctOptionExists':{'type':_0x5a5605(0x3e2)},'suggestedAnswer':{'type':_0x5a5605(0x324)},'newOptionsPayload':{'type':_0x5a5605(0x1eb),'properties':{'newOptions':{'type':_0x5a5605(0x2df),'items':{'type':_0x5a5605(0x324)}},'newCorrectIndex':{'type':_0x5a5605(0xc97)}}}},'required':[_0x5a5605(0xeb9),_0x5a5605(0x6d1),'justification']}},_0x405afd=await callAnalysisApi(_0x425f7c,{'type':_0x5a5605(0x1eb),'properties':{'result':_0x3e3c8a},'required':[_0x5a5605(0xbdb)]});displayVerificationResultsInEditor(_0x405afd[_0x5a5605(0xbdb)]);}catch(_0x4420e4){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x4420e4),showMessage(_0x5a5605(0xed1));}finally{_0x94374d[_0x5a5605(0x44b)]=![],_0x94374d['innerHTML']=_0x5a5605(0x987);}}function displayVerificationResultsInEditor(_0x105441){const _0x3ef6db=_0x230ac1;_0x105441[_0x3ef6db(0xdec)](_0x59e8f0=>{const _0xefcce4=_0x3ef6db,_0x552df9=document['querySelector'](_0xefcce4(0xa87)+_0x59e8f0[_0xefcce4(0xeb9)]+'\x22]');if(!_0x552df9)return;const _0x457c8b=_0x552df9[_0xefcce4(0xd27)](_0xefcce4(0xc69));if(_0x457c8b)_0x457c8b[_0xefcce4(0xb0b)]();let _0x226846='';if(_0x59e8f0[_0xefcce4(0x80c)]&&_0x59e8f0[_0xefcce4(0x80c)][_0xefcce4(0x6a0)]){const _0x5b0b29=_0x59e8f0['newOptionsPayload'][_0xefcce4(0x6a0)],_0x139fc2=_0x59e8f0[_0xefcce4(0x80c)][_0xefcce4(0x506)],_0x180923=_0x552df9['dataset'][_0xefcce4(0x898)];if(_0x180923===_0xefcce4(0x653)){const _0x3f5681=_0x552df9[_0xefcce4(0x8c8)]('input[type=\x22text\x22]');_0x3f5681[_0xefcce4(0xdec)]((_0x2c710f,_0x358f8c)=>{const _0x319cd5=_0xefcce4;_0x5b0b29[_0x358f8c]?_0x2c710f[_0x319cd5(0xdd7)]=_0x5b0b29[_0x358f8c]:_0x2c710f[_0x319cd5(0xdd7)]=_0x319cd5(0x7e0);});const _0x1ef6b2=_0x552df9[_0xefcce4(0xd27)](_0xefcce4(0x2cd)+_0x139fc2+'\x22]');_0x1ef6b2&&(_0x1ef6b2[_0xefcce4(0xdaf)]=!![]),_0x226846=_0xefcce4(0x2a6),_0x552df9[_0xefcce4(0xeac)][_0xefcce4(0x4db)]('bg-yellow-200',_0xefcce4(0xc1d),_0xefcce4(0x82f)),setTimeout(()=>{_0x552df9['classList']['remove']('bg-yellow-200');},0x9c4);}}else{if(!_0x59e8f0[_0xefcce4(0x6d1)]&&_0x59e8f0[_0xefcce4(0xc75)]){const _0x23bb0e=_0x59e8f0[_0xefcce4(0xc75)]?_0xefcce4(0x2ae):'';_0x226846='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x23bb0e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x59e8f0[_0xefcce4(0x988)]+_0xefcce4(0x8d0)+(_0x59e8f0[_0xefcce4(0xc75)]?_0xefcce4(0xa35)+_0x59e8f0[_0xefcce4(0xc75)]+_0xefcce4(0x1fb):'')+_0xefcce4(0xb69);const _0x400541=_0x552df9[_0xefcce4(0x5ff)][_0xefcce4(0x898)],_0x9692ef=_0x1f7442=>{const _0x354d07=_0xefcce4;if(!_0x1f7442)return;_0x1f7442[_0x354d07(0xeac)][_0x354d07(0x4db)](_0x354d07(0x91f),_0x354d07(0xc1d),_0x354d07(0x82f)),setTimeout(()=>{const _0x26e964=_0x354d07;_0x1f7442[_0x26e964(0xeac)][_0x26e964(0xb0b)](_0x26e964(0x91f));},0x9c4);};if(_0x400541==='multiple_choice'){const _0x4f8979=Array[_0xefcce4(0x488)](_0x552df9[_0xefcce4(0x8c8)]('input[type=\x22text\x22]')),_0xa6cba1=_0x4f8979['findIndex'](_0x236326=>_0x236326[_0xefcce4(0xdd7)][_0xefcce4(0x99f)]()[_0xefcce4(0xaec)]()===_0x59e8f0[_0xefcce4(0xc75)][_0xefcce4(0x99f)]()[_0xefcce4(0xaec)]());if(_0xa6cba1!==-0x1){const _0x115070=_0x552df9[_0xefcce4(0xd27)]('input[type=\x22radio\x22][value=\x22'+_0xa6cba1+'\x22]');_0x115070&&(_0x115070[_0xefcce4(0xdaf)]=!![],_0x9692ef(_0x115070['closest'](_0xefcce4(0x5c6))));}}else{if(_0x400541===_0xefcce4(0x270)||_0x400541===_0xefcce4(0x52a)){const _0xb36b6e=_0x552df9['querySelector'](_0xefcce4(0x372));_0xb36b6e&&(_0xb36b6e[_0xefcce4(0xdd7)]=_0x59e8f0['suggestedAnswer'],_0x9692ef(_0xb36b6e));}else{if(_0x400541===_0xefcce4(0xcba)){const _0x3e4455=_0x59e8f0[_0xefcce4(0xc75)][_0xefcce4(0x99f)]()[_0xefcce4(0xaec)](),_0x23c881=_0x552df9[_0xefcce4(0xd27)]('input[type=\x22radio\x22][value=\x22'+_0x3e4455+'\x22]');_0x23c881&&(_0x23c881[_0xefcce4(0xdaf)]=!![],_0x9692ef(_0x23c881[_0xefcce4(0xa28)](_0xefcce4(0x5c6))));}}}}else _0x59e8f0['isCorrect']&&(_0x226846=_0xefcce4(0x715));}_0x552df9['insertAdjacentHTML']('beforeend',_0x226846);}),showMessage(_0x3ef6db(0xad6));}async function handleVerifyAnswers(){const _0x5b7552=_0x230ac1;if(!currentQuizData||!currentQuizData[_0x5b7552(0x746)]){showMessage(_0x5b7552(0xb94));return;}const _0x26d24a=document[_0x5b7552(0x815)](_0x5b7552(0x9d1));_0x26d24a[_0x5b7552(0x44b)]=!![],_0x26d24a['innerHTML']=_0x5b7552(0x2f6);try{const _0x3211df=currentQuizData[_0x5b7552(0x746)][_0x5b7552(0xe07)]((_0x3c23ca,_0x22038a)=>{const _0x1da3e9=_0x5b7552;let _0x47576d='';const _0x1d8297=_0x3c23ca[_0x1da3e9(0x1f4)]||currentQuizData[_0x1da3e9(0x1c2)];switch(_0x1d8297){case _0x1da3e9(0x653):_0x47576d=_0x3c23ca['options'][_0x3c23ca[_0x1da3e9(0xdfa)]];break;case _0x1da3e9(0x270):_0x47576d=_0x3c23ca[_0x1da3e9(0x46d)];break;case _0x1da3e9(0xcba):_0x47576d=_0x3c23ca[_0x1da3e9(0x68b)]['toString']();break;case'matching_item':_0x47576d=_0x3c23ca['correctResponse'];break;}return{'question':_0x3c23ca['stem']||_0x3c23ca[_0x1da3e9(0xef8)],'options':_0x3c23ca[_0x1da3e9(0xa9c)]||null,'proposedAnswer':_0x47576d};}),_0x5664c8=_0x5b7552(0xa77)+JSON[_0x5b7552(0xd0a)](_0x3211df)+_0x5b7552(0xbca),_0x549063={'type':_0x5b7552(0x2df),'items':{'type':_0x5b7552(0x1eb),'properties':{'questionIndex':{'type':_0x5b7552(0xc97)},'isCorrect':{'type':_0x5b7552(0x3e2)},'justification':{'type':_0x5b7552(0x324)},'suggestedAnswer':{'type':_0x5b7552(0x324)}},'required':[_0x5b7552(0xeb9),'isCorrect',_0x5b7552(0x988)]}},_0xc93d96=await callAnalysisApi(_0x5664c8,{'type':_0x5b7552(0x1eb),'properties':{'result':_0x549063},'required':[_0x5b7552(0xbdb)]});displayVerificationResults(_0xc93d96['result']);}catch(_0x3b5086){console[_0x5b7552(0x1b6)]('Error\x20verifying\x20answers:',_0x3b5086),showMessage(_0x5b7552(0xed1));}finally{_0x26d24a['disabled']=![],_0x26d24a[_0x5b7552(0x63b)]=_0x5b7552(0xc0c);}}function displayVerificationResults(_0x3e1328){const _0x30dc8c=_0x230ac1;_0x3e1328[_0x30dc8c(0xdec)](_0xb8e6d9=>{const _0x141954=_0x30dc8c,_0x2fd9d3=document[_0x141954(0xd27)]('div[data-question-index=\x22'+_0xb8e6d9['questionIndex']+'\x22]');if(_0x2fd9d3){const _0x1ad771=_0x2fd9d3[_0x141954(0xd27)](_0x141954(0x6f5));if(_0x1ad771)_0x1ad771[_0x141954(0xb0b)]();let _0x56911d='';_0xb8e6d9['isCorrect']?_0x56911d=_0x141954(0x592):_0x56911d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0xb8e6d9[_0x141954(0x988)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb8e6d9[_0x141954(0xc75)]?_0x141954(0xa35)+_0xb8e6d9[_0x141954(0xc75)]+_0x141954(0x1fb):'')+_0x141954(0x856),_0x2fd9d3[_0x141954(0xe94)]('beforeend',_0x56911d);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x221514,_0x4587c1){const _0x3a37a9=_0x230ac1,_0x43e4f2=String(_0x221514)[_0x3a37a9(0xeef)](',','.')['replace'](/[^\d.-]/g,'')[_0x3a37a9(0x99f)](),_0x508735=String(_0x4587c1)[_0x3a37a9(0xeef)](',','.')[_0x3a37a9(0xeef)](/[^\d.-]/g,'')[_0x3a37a9(0x99f)]();if(_0x43e4f2===''||_0x508735==='')return![];const _0x2b3532=parseFloat(_0x43e4f2),_0x2af9e4=parseFloat(_0x508735);if(isNaN(_0x2b3532)||isNaN(_0x2af9e4))return![];return Math[_0x3a37a9(0xb16)](_0x2b3532-_0x2af9e4)<0.001;}function isPotentiallyNumeric(_0x43e7e9){const _0x568afb=_0x230ac1;if(typeof _0x43e7e9!==_0x568afb(0x96c)&&typeof _0x43e7e9!=='number')return![];const _0x474249=String(_0x43e7e9)[_0x568afb(0xeef)](',','.')[_0x568afb(0x99f)]();return _0x474249!==''&&!isNaN(parseFloat(_0x474249))&&isFinite(_0x474249);}async function gradeShortAnswer(_0x443c94,_0x4edb6f){const _0x5ebdc2=_0x230ac1,_0x3bc9c4=_0x4edb6f['idealAnswer'],_0x1a2445=String(_0x443c94)[_0x5ebdc2(0xeef)](/\$/g,'')[_0x5ebdc2(0x99f)](),_0x1ae33a=String(_0x3bc9c4)['replace'](/\$/g,'')[_0x5ebdc2(0x99f)]();if(_0x1a2445['toLowerCase']()===_0x1ae33a[_0x5ebdc2(0xaec)]())return!![];if(isPotentiallyNumeric(_0x1a2445)&&isPotentiallyNumeric(_0x1ae33a)){if(compareNumericalAnswers(_0x1a2445,_0x1ae33a))return!![];}return console['log'](_0x5ebdc2(0xa85)),![];}async function revealAnswerForAdmin(_0x84e73,_0x9ee281){const _0x433639=_0x230ac1,_0x54fe91=doc(db,_0x433639(0x884)+appId+_0x433639(0x7c2),currentLiveGameId);await updateDoc(_0x54fe91,{'questionStatus':_0x433639(0xe0f)});}function showTop5LeaderboardView(_0x1e143c){const _0x500738=_0x230ac1,_0x2252cd=Object[_0x500738(0xdf2)](_0x1e143c[_0x500738(0x9f8)]||{})[_0x500738(0x320)](_0x3fb5d4=>_0x3fb5d4[_0x500738(0xc71)]===_0x500738(0xb0a));_0x2252cd[_0x500738(0xa6f)]((_0x43d124,_0xe06dca)=>_0xe06dca['score']-_0x43d124[_0x500738(0x6b9)]);const _0x73f366=_0x2252cd[_0x500738(0xc26)](0x0,0x5),_0x208c23=_0x500738(0x438)+_0x73f366[_0x500738(0xe07)]((_0x4652fa,_0x3ef9b9)=>_0x500738(0x710)+(_0x3ef9b9+0x1)+'.\x20'+(_0x4652fa['name']||Object[_0x500738(0x251)](_0x1e143c[_0x500738(0x9f8)])['find'](_0x50cebf=>_0x1e143c[_0x500738(0x9f8)][_0x50cebf]===_0x4652fa))+_0x500738(0x9aa)+_0x4652fa[_0x500738(0x6b9)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x500738(0x885)]('')+_0x500738(0x7ea)+(_0x1e143c[_0x500738(0xf23)]+0x1===currentQuizData[_0x500738(0x746)]['length']?_0x500738(0x344):_0x500738(0xb05))+_0x500738(0xa53);liveGameView[_0x500738(0x63b)]=_0x208c23,document[_0x500738(0x815)](_0x500738(0x51b))['addEventListener']('click',async()=>{const _0x301c74=_0x500738,_0x32f5af=doc(db,_0x301c74(0x884)+appId+'/public/data/liveGames',currentLiveGameId),_0x17a7ea=_0x1e143c[_0x301c74(0xf23)]+0x1;if(_0x17a7ea<currentQuizData[_0x301c74(0x746)]['length']){const _0x4fb9f8={'currentQuestionIndex':_0x17a7ea,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x301c74(0x78b)};Object['keys'](_0x1e143c[_0x301c74(0x9f8)])['forEach'](_0x2eb449=>{const _0x3b8b6b=_0x301c74;_0x4fb9f8[_0x3b8b6b(0x8d8)+_0x2eb449+_0x3b8b6b(0x8cf)]=![];}),await updateDoc(_0x32f5af,_0x4fb9f8);}else await updateDoc(_0x32f5af,{'status':_0x301c74(0x451)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2d4ce5=>{const _0x1501c6=_0x1143;if(_0x2d4ce5){userId=_0x2d4ce5[_0x1501c6(0xbe3)],userIdDisplay[_0x1501c6(0x587)]=userId;const _0x40f42f=await loadUserPreferences();_0x40f42f['projectSortOrder']&&(document[_0x1501c6(0x815)](_0x1501c6(0x8f4))[_0x1501c6(0xdd7)]=_0x40f42f[_0x1501c6(0xd0c)]);globalDashboardSettings[_0x1501c6(0x6e7)]=_0x40f42f[_0x1501c6(0x6e7)]||_0x1501c6(0x57e);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x593c89,_0x512fae){const _0xb7fa62=_0x230ac1;if(!userId)return;try{const _0x4579f1=doc(db,_0xb7fa62(0x884)+appId+_0xb7fa62(0x95f)+userId+_0xb7fa62(0xa2c)),_0x3656a9={};_0x3656a9[_0x593c89]=_0x512fae,await setDoc(_0x4579f1,_0x3656a9,{'merge':!![]});}catch(_0x103879){console['error'](_0xb7fa62(0xc96),_0x103879);}}async function loadUserPreferences(){const _0x13aaae=_0x230ac1;if(!userId)return{};try{const _0x572f0c=doc(db,_0x13aaae(0x884)+appId+_0x13aaae(0x95f)+userId+_0x13aaae(0xa2c)),_0x1de192=await getDoc(_0x572f0c);if(_0x1de192[_0x13aaae(0x939)]())return _0x1de192['data']();return{};}catch(_0x540818){return console[_0x13aaae(0x1b6)](_0x13aaae(0xb22),_0x540818),{};}}function parseIndentedBlueprint(_0x2b4856){const _0x25941e=_0x230ac1,_0x24355e=_0x2b4856[_0x25941e(0x356)]('\x0a')[_0x25941e(0x320)](_0x1eb4aa=>_0x1eb4aa[_0x25941e(0x99f)]()!==''),_0x15ce7b=[];let _0x16eb27=null,_0x10293f=null;return _0x24355e[_0x25941e(0xdec)](_0x440d79=>{const _0x38b2f8=_0x25941e,_0x130583=_0x440d79['match'](/^\s*/)[0x0][_0x38b2f8(0xe93)],_0x3ac0f1=_0x440d79[_0x38b2f8(0x99f)]();if(_0x130583===0x0)_0x16eb27={'sara':_0x3ac0f1,'mainTopics':[]},_0x15ce7b[_0x38b2f8(0xacf)](_0x16eb27),_0x10293f=null;else{if(_0x130583>0x0&&_0x130583<0x8&&_0x16eb27)_0x10293f={'topicName':_0x3ac0f1,'subTopics':[]},_0x16eb27[_0x38b2f8(0xd82)][_0x38b2f8(0xacf)](_0x10293f);else _0x130583>=0x8&&_0x10293f&&_0x10293f[_0x38b2f8(0xab6)][_0x38b2f8(0xacf)](_0x3ac0f1);}}),{'curriculum':_0x15ce7b};}async function handleManualBlueprintSave(){const _0x54b58d=_0x230ac1,_0x52cd73=document[_0x54b58d(0x815)](_0x54b58d(0x7a8))[_0x54b58d(0xdd7)][_0x54b58d(0x99f)](),_0x16c165=document[_0x54b58d(0x815)]('manual-bp-grade-level')[_0x54b58d(0xdd7)][_0x54b58d(0x99f)](),_0x36a525=document[_0x54b58d(0x815)](_0x54b58d(0xcf9))[_0x54b58d(0xdd7)];if(!_0x52cd73||!_0x16c165||!_0x36a525){showMessage(_0x54b58d(0x938));return;}const _0x2cb040=parseIndentedBlueprint(_0x36a525);if(!_0x2cb040[_0x54b58d(0x66d)]||_0x2cb040['curriculum'][_0x54b58d(0xe93)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x5716e8={};let _0x2f90b2=0x0;_0x2cb040[_0x54b58d(0x66d)][_0x54b58d(0xdec)](_0x5bd214=>{const _0x35be36=_0x54b58d;_0x5bd214[_0x35be36(0xd82)][_0x35be36(0xdec)](_0x4db874=>{const _0x1a9532=_0x35be36;_0x4db874[_0x1a9532(0xab6)][_0x1a9532(0xdec)](_0x563c7a=>{const _0x5b69fc=_0x1a9532,_0x5ec72f=_0x5b69fc(0xcd7)+Date[_0x5b69fc(0x7be)]()+Math['random']()['toString'](0x24)['substr'](0x2,0x9);_0x5716e8[_0x5ec72f]={'sara':_0x5bd214['sara'],'mainTopic':_0x4db874[_0x5b69fc(0xb63)],'subTopic':_0x563c7a,'status':'not_generated','lessonContent':null,'order':_0x2f90b2++};});});});try{const _0x30e737=collection(db,_0x54b58d(0x884)+appId+'/public/data/blueprintProjects');await addDoc(_0x30e737,{'projectName':_0x52cd73,'gradeLevel':_0x16c165,'topics':_0x5716e8,'createdAt':serverTimestamp()}),showMessage(_0x54b58d(0x3f7)+_0x52cd73+_0x54b58d(0xd1f)),document[_0x54b58d(0x815)](_0x54b58d(0xce2))[_0x54b58d(0xeac)][_0x54b58d(0x4db)](_0x54b58d(0xcc2));}catch(_0x8f49aa){console['error']('Error\x20saving\x20manual\x20blueprint\x20project:',_0x8f49aa),showMessage(_0x54b58d(0x2bb));}}function handleClearAllLinksForTopic(_0x3a82fe){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x393813=_0x1143;try{const _0x138ba5=doc(db,_0x393813(0x884)+appId+_0x393813(0x689),currentBlueprintProjectId);await updateDoc(_0x138ba5,{[_0x393813(0xa7c)+_0x3a82fe+_0x393813(0xa32)]:[]}),showMessage(_0x393813(0x610)),openTopicQuizBank(_0x3a82fe),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x189813){console['error'](_0x393813(0xe44),_0x189813),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x58f41e,_0x36ea5d=_0x230ac1(0x8c9),_0x33c51e=null){const _0x3d7160=_0x230ac1,_0x2cacc7=_0x33c51e?.['isBlackMarketEnabled']===!![],_0x2db212=Object[_0x3d7160(0x626)](_0x58f41e)[_0x3d7160(0xe07)](([_0x53046d,_0xa8e850])=>({'name':_0x53046d,'realScore':_0xa8e850['realScore']||_0xa8e850[_0x3d7160(0x6b9)]||0x0,'totalPoints':_0xa8e850[_0x3d7160(0xa92)]||0x0,'badges':_0xa8e850[_0x3d7160(0x200)]||[],'hasPerfectScoreBonus':_0xa8e850[_0x3d7160(0xdb1)]||![]})),_0x542d4f=Math[_0x3d7160(0x526)](..._0x2db212[_0x3d7160(0xe07)](_0xe44f4=>_0xe44f4['totalPoints']),-Infinity),_0x4a21b2=Math[_0x3d7160(0x526)](..._0x2db212[_0x3d7160(0xe07)](_0x807fac=>_0x807fac[_0x3d7160(0x545)]),-Infinity);_0x2db212['sort']((_0x2aa7db,_0x132291)=>{const _0x111d11=_0x3d7160;if(_0x2cacc7){const _0xa4e3e3=_0x132291[_0x111d11(0xa92)]-_0x2aa7db['totalPoints'];if(_0xa4e3e3!==0x0)return _0xa4e3e3;const _0x517bef=_0x132291[_0x111d11(0x545)]-_0x2aa7db[_0x111d11(0x545)];if(_0x517bef!==0x0)return _0x517bef;return _0x2aa7db[_0x111d11(0xcc9)][_0x111d11(0xdc1)](_0x132291['name'],'th');}else{const _0x186150=_0x132291[_0x111d11(0xa92)]-_0x2aa7db[_0x111d11(0xa92)];if(_0x186150!==0x0)return _0x186150;return _0x132291['realScore']-_0x2aa7db['realScore'];}});const _0xd55416=_0x178914=>{const _0x2f33b3=_0x3d7160;if(!_0x178914||_0x178914[_0x2f33b3(0xe93)]===0x0)return'';const _0x4b8da5={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2f33b3(0x73d)+_0x178914[_0x2f33b3(0xe07)](_0x42a621=>_0x4b8da5[_0x42a621]||'')['join']('')+_0x2f33b3(0xcb3);},_0x2621ac=_0xd82916=>{const _0x4d648a=_0x3d7160;let _0x1850be='';if(_0x2cacc7){if(_0xd82916[_0x4d648a(0xa92)]===_0x542d4f&&_0x542d4f>0x0)_0x1850be+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0xd82916[_0x4d648a(0x545)]===_0x4a21b2&&_0x4a21b2>0x0)_0x1850be+=_0x4d648a(0xa69);}else{if(_0xd82916['hasPerfectScoreBonus'])_0x1850be=_0x4d648a(0x94e);}if(_0x2cacc7){const _0x19a18d=_0xd82916['totalPoints']>=0x0?'(+'+_0xd82916[_0x4d648a(0xa92)][_0x4d648a(0x63a)]()+')':'('+_0xd82916['totalPoints']['toLocaleString']()+')';return _0x4d648a(0xefc)+_0xd82916['realScore']+_0x4d648a(0xcd8)+_0x19a18d+'\x20'+_0x1850be+_0x4d648a(0x1fb);}else return'<p\x20class=\x22text-xl\x22>'+_0xd82916[_0x4d648a(0xa92)][_0x4d648a(0x63a)]()+_0x4d648a(0xcd8)+_0x1850be+_0x4d648a(0x1fb);},_0x16c23a=_0x2db212[_0x3d7160(0xc26)](0x3),_0x1f8df0=_0x16c23a[_0x3d7160(0xe93)]>0x0?_0x3d7160(0xb34)+_0x16c23a[_0x3d7160(0xe07)]((_0x3ee54b,_0xe06450)=>{const _0x38dc09=_0x3d7160;return _0x38dc09(0x3f8)+(_0xe06450+0x4)+_0x38dc09(0xbfa)+_0x3ee54b[_0x38dc09(0xcc9)]+_0x38dc09(0x5d8)+_0x2621ac(_0x3ee54b)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3d7160(0x885)]('')+_0x3d7160(0xa73):'',_0x1cef6b=_0x3d7160(0xc91)+(_0x2db212[0x1]?_0x3d7160(0x92f)+_0x2db212[0x1][_0x3d7160(0xcc9)]+'</p>'+_0xd55416(_0x2db212[0x1]['badges'])+_0x2621ac(_0x2db212[0x1])+_0x3d7160(0xc6e):'<div\x20class=\x22flex-1\x22></div>')+_0x3d7160(0xe81)+(_0x2db212[0x0]?_0x3d7160(0x821)+_0x2db212[0x0]['name']+_0x3d7160(0x1fb)+_0xd55416(_0x2db212[0x0][_0x3d7160(0x200)])+_0x2621ac(_0x2db212[0x0])+_0x3d7160(0x772):_0x3d7160(0x7e9))+_0x3d7160(0xe81)+(_0x2db212[0x2]?_0x3d7160(0x69e)+_0x2db212[0x2][_0x3d7160(0xcc9)]+_0x3d7160(0x1fb)+_0xd55416(_0x2db212[0x2][_0x3d7160(0x200)])+_0x2621ac(_0x2db212[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x3d7160(0x7e9))+_0x3d7160(0x72b)+_0x1f8df0+_0x3d7160(0xa57)+(currentMode===_0x3d7160(0x4fe)?_0x3d7160(0xade):_0x3d7160(0x779))+_0x3d7160(0x6bc);liveGameView[_0x3d7160(0x63b)]=_0x1cef6b,currentMode===_0x3d7160(0x4fe)?document[_0x3d7160(0x815)](_0x3d7160(0xe02))[_0x3d7160(0x7b7)](_0x3d7160(0x7a5),async()=>{const _0x51ba8a=_0x3d7160;let _0x13eb4d;_0x36ea5d===_0x51ba8a(0x4e6)?_0x13eb4d=doc(db,'artifacts/'+appId+_0x51ba8a(0x3ce),currentLiveGameId):_0x13eb4d=doc(db,_0x51ba8a(0x884)+appId+_0x51ba8a(0x7c2),currentLiveGameId),await deleteDoc(_0x13eb4d);}):document[_0x3d7160(0x815)]('student-back-to-home-btn')?.[_0x3d7160(0x7b7)](_0x3d7160(0x7a5),()=>{const _0x1419d9=_0x3d7160;showView(_0x1419d9(0x974));});}function renderSyncSummaryView(_0x310fd6,_0x92999,_0x4f4b77){const _0x5724ae=_0x230ac1,_0xfd85fe=_0x310fd6[_0x5724ae(0x7b6)]||_0x5724ae(0x831),_0x2a9785=(_0xfd85fe===_0x5724ae(0xe18)||_0xfd85fe==='anonymous_reveal_end')&&_0x310fd6[_0x5724ae(0x381)]===![],_0x47a855=_0xfd85fe===_0x5724ae(0x90b)||_0xfd85fe===_0x5724ae(0xf2e),_0x3d3ad2=_0x310fd6[_0x5724ae(0xde5)][_0x5724ae(0x746)],_0x313751=_0x92999[_0x5724ae(0x1f4)]||_0x310fd6['shuffledQuiz']['quizType'],_0x53f2ab=_0x313751==='short_answer'||_0x313751==='fill_in_no_choices';let _0x244503='';if(_0x53f2ab){let _0x52f2d8=0x0,_0x160bea=0x0;const _0x7e6544=[],_0x422ddf=[];Object[_0x5724ae(0x626)](_0x310fd6[_0x5724ae(0x9f8)]||{})[_0x5724ae(0xdec)](([_0x5f4a52,_0x363a27])=>{const _0x4db024=_0x5724ae,_0xefa854=(_0x363a27['answers']||[])[_0x4db024(0x5eb)](_0x1ce6ca=>_0x1ce6ca[_0x4db024(0xeb9)]===_0x310fd6['currentQuestionIndex']);if(_0x363a27[_0x4db024(0xc71)]!==_0x4db024(0xd7d)&&_0xefa854){const _0x389d1b=_0xefa854[_0x4db024(0xb20)],_0x7cd3a1=_0x2a9785?_0x310fd6[_0x4db024(0xef5)][_0x5f4a52]||_0x4db024(0x4aa):_0x5f4a52;_0xefa854[_0x4db024(0x6d1)]?(_0x52f2d8++,_0x7e6544[_0x4db024(0xacf)](_0x7cd3a1)):(_0x160bea++,_0x422ddf[_0x4db024(0xacf)](_0x4db024(0x776)+_0x7cd3a1+_0x4db024(0x777)+(_0x389d1b||'(ไม่ตอบ)')));}}),_0x244503='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x52f2d8+_0x5724ae(0x9b6)+(_0x7e6544['length']>0x0?_0x7e6544['join'](',\x20'):'-')+_0x5724ae(0x6f8)+_0x160bea+_0x5724ae(0x651)+(_0x422ddf[_0x5724ae(0xe93)]>0x0?_0x422ddf[_0x5724ae(0x885)](_0x5724ae(0x5ea)):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x7a0b17=[];_0x313751===_0x5724ae(0xcba)?_0x7a0b17=['ใช่\x20/\x20ถูก',_0x5724ae(0x249)]:_0x7a0b17=_0x92999['options']||[];const _0x30d622=new Array(_0x7a0b17[_0x5724ae(0xe93)])[_0x5724ae(0x88d)](0x0),_0x39d2c4={};_0x7a0b17[_0x5724ae(0xdec)]((_0x395f61,_0x48d3d0)=>{_0x39d2c4[_0x48d3d0]=[];}),Object[_0x5724ae(0x626)](_0x310fd6[_0x5724ae(0x9f8)]||{})[_0x5724ae(0xdec)](([_0x34a235,_0x27d67a])=>{const _0x538514=_0x5724ae,_0x57fcf5=(_0x27d67a['answers']||[])[_0x538514(0x5eb)](_0xce1ad0=>_0xce1ad0['questionIndex']===_0x310fd6[_0x538514(0xf23)]);if(_0x27d67a['status']!==_0x538514(0xd7d)&&_0x57fcf5&&_0x57fcf5[_0x538514(0x8cc)]!==null){const _0x5c9f80=parseInt(_0x57fcf5[_0x538514(0x8cc)]);if(!isNaN(_0x5c9f80)&&_0x39d2c4[_0x5c9f80]!==undefined){const _0x5929db=_0x2a9785?_0x310fd6['playerNicknames'][_0x34a235]||_0x538514(0x4aa):_0x34a235;_0x39d2c4[_0x5c9f80][_0x538514(0xacf)](_0x5929db),_0x30d622[_0x5c9f80]++;}}}),_0x244503='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30d622[_0x5724ae(0xe07)]((_0x4fcb38,_0xb4e743)=>{const _0x9d3d2e=_0x5724ae,_0x2452bb=_0x39d2c4[_0xb4e743][_0x9d3d2e(0xe93)]>0x0?_0x39d2c4[_0xb4e743][_0x9d3d2e(0x885)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x4612c5='#6366F1';return _0x9d3d2e(0x6ab)+_0x4fcb38+_0x9d3d2e(0xe65)+_0x4612c5+_0x9d3d2e(0xb0e)+_0xb4e743+_0x9d3d2e(0xbc0)+_0x7a0b17[_0xb4e743]+_0x9d3d2e(0xc9d)+_0xb4e743+_0x9d3d2e(0xe03)+_0x2452bb+_0x9d3d2e(0xc3f);})[_0x5724ae(0x885)]('')+_0x5724ae(0x933);}let _0x392e50='';const _0x54a71c=_0x310fd6['currentQuestionIndex']>=_0x3d3ad2[_0x5724ae(0xe93)]-0x1;_0x4f4b77?_0x47a855?_0x54a71c?_0x392e50=_0x5724ae(0xf12):_0x392e50=_0x5724ae(0x376):_0x392e50=_0x5724ae(0x4c3):_0x47a855?_0x392e50=_0x5724ae(0x6a7):_0x392e50=_0x5724ae(0xc30);const _0x62f382=_0x4f4b77?_0x5724ae(0x74e)+_0x310fd6[_0x5724ae(0xac4)]+_0x5724ae(0xdff):'',_0x49b15b=_0x5724ae(0xab2)+_0x62f382+_0x5724ae(0x755)+(_0x92999[_0x5724ae(0xef8)]||_0x92999[_0x5724ae(0x212)]||'')+_0x5724ae(0x90e)+_0x244503+_0x5724ae(0xbf4)+_0x392e50+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5724ae(0x63b)]=_0x49b15b;if(window['MathJax'])MathJax[_0x5724ae(0x40b)]();if(_0x4f4b77){const _0x2258c6=doc(db,_0x5724ae(0x884)+appId+_0x5724ae(0x3ce),currentLiveGameId);document[_0x5724ae(0x815)](_0x5724ae(0x785))?.[_0x5724ae(0x7b7)]('click',async()=>{const _0x21f6a9=_0x5724ae,_0xe9f094=Object[_0x21f6a9(0xdf2)](_0x310fd6[_0x21f6a9(0x9f8)]||{})[_0x21f6a9(0xe07)](_0xb9d4f0=>({'name':_0xb9d4f0[_0x21f6a9(0xcc9)],'score':_0xb9d4f0[_0x21f6a9(0x6b9)]||0x0,'totalPoints':_0xb9d4f0[_0x21f6a9(0xa92)]||0x0,'pointsLastRound':_0xb9d4f0[_0x21f6a9(0xb1d)]||0x0,'answers':_0xb9d4f0[_0x21f6a9(0x7d9)]||[],'correctStreak':_0xb9d4f0[_0x21f6a9(0xce0)]||0x0}));await updateDoc(_0x2258c6,{'status':_0x21f6a9(0x8b4),'publicLeaderboard':_0xe9f094});}),document[_0x5724ae(0x815)]('open-sync-scratchpad-btn')?.[_0x5724ae(0x7b7)]('click',()=>{const _0x34445b=_0x5724ae;openScratchpad(_0x92999,_0x92999[_0x34445b(0xa9c)]||[]);}),document[_0x5724ae(0x815)]('next-sync-question-btn')?.[_0x5724ae(0x7b7)](_0x5724ae(0x7a5),async()=>{const _0x75d82e=_0x5724ae,_0x45781b=_0x310fd6[_0x75d82e(0xf23)]+0x1;await updateDoc(_0x2258c6,{'status':_0x75d82e(0xc56),'currentQuestionIndex':_0x45781b,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x5724ae(0x815)](_0x5724ae(0x483))?.[_0x5724ae(0x7b7)](_0x5724ae(0x7a5),async()=>{const _0x297acd=_0x5724ae,_0x39d212=Object['values'](_0x310fd6[_0x297acd(0x9f8)]||{})[_0x297acd(0xe07)](_0x1533c9=>({'name':_0x1533c9[_0x297acd(0xcc9)],'score':_0x1533c9['score']||0x0,'totalPoints':_0x1533c9[_0x297acd(0xa92)]||0x0,'pointsLastRound':_0x1533c9[_0x297acd(0xb1d)]||0x0,'answers':_0x1533c9['answers']||[],'correctStreak':_0x1533c9[_0x297acd(0xce0)]||0x0}));await updateDoc(_0x2258c6,{'status':_0x297acd(0x8b4),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x39d212});});}}function renderAnonymousStudentResultsView(_0x105bd2){const _0x3bf729=_0x230ac1,_0x19a9fc=_0x105bd2['currentQuestionIndex']>=_0x105bd2['shuffledQuiz'][_0x3bf729(0x746)][_0x3bf729(0xe93)]-0x1;let _0x1e5db5='';if(_0x105bd2[_0x3bf729(0x381)]===!![]){const _0x2aecbb=_0x105bd2[_0x3bf729(0x9f8)][localTeamPlayers[0x0]],_0x2a266d=_0x2aecbb[_0x3bf729(0xcc9)],_0x3e39e8=_0x2aecbb[_0x3bf729(0x6b9)];_0x1e5db5=_0x3bf729(0x39e)+_0x2a266d+_0x3bf729(0xba4)+_0x3e39e8+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x1e5db5=_0x3bf729(0x252)+(_0x19a9fc?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x3bf729(0x24d))+_0x3bf729(0x1e5);const _0x3514d3=_0x3bf729(0x73e)+_0x1e5db5+_0x3bf729(0x3b6);liveGameView[_0x3bf729(0x63b)]=_0x3514d3;}async function handleShowStudentRankings(){const _0x504249=_0x230ac1,_0x9f35af=document[_0x504249(0xd27)](_0x504249(0xae8));_0x9f35af&&(_0x9f35af['innerHTML']=_0x504249(0x994));const _0x3e7dbc=document[_0x504249(0xd27)](_0x504249(0xd56));_0x3e7dbc&&(_0x3e7dbc[_0x504249(0x63b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x53480b=document['getElementById'](_0x504249(0xa83));_0x53480b[_0x504249(0xeac)]['remove'](_0x504249(0xcc2)),document[_0x504249(0x815)]('close-student-rankings-btn')[_0x504249(0x7c5)]=()=>_0x53480b[_0x504249(0xeac)][_0x504249(0x4db)](_0x504249(0xcc2));const _0x58d782=document[_0x504249(0x815)](_0x504249(0xdc8)),_0x38d9ce=document[_0x504249(0x815)](_0x504249(0xd3c)),_0x3e8aed=document['getElementById'](_0x504249(0x4f9)),_0x2f02b8=document[_0x504249(0x815)](_0x504249(0x418));_0x58d782[_0x504249(0x7c5)]=()=>{const _0x5b51f6=_0x504249;_0x58d782['classList']['add'](_0x5b51f6(0xb0a)),_0x38d9ce[_0x5b51f6(0xeac)][_0x5b51f6(0xb0b)](_0x5b51f6(0xb0a)),_0x3e8aed[_0x5b51f6(0xeac)][_0x5b51f6(0xb0b)](_0x5b51f6(0xcc2)),_0x2f02b8['classList']['add'](_0x5b51f6(0xcc2));},_0x38d9ce[_0x504249(0x7c5)]=()=>{const _0x37d794=_0x504249;_0x38d9ce[_0x37d794(0xeac)][_0x37d794(0x4db)](_0x37d794(0xb0a)),_0x58d782[_0x37d794(0xeac)][_0x37d794(0xb0b)](_0x37d794(0xb0a)),_0x2f02b8[_0x37d794(0xeac)][_0x37d794(0xb0b)](_0x37d794(0xcc2)),_0x3e8aed[_0x37d794(0xeac)][_0x37d794(0x4db)](_0x37d794(0xcc2));};try{const _0x113d77=collection(db,_0x504249(0x884)+appId+_0x504249(0xa60)+currentQuizData['id']+_0x504249(0xb77)),_0x36c476=await getDocs(_0x113d77),_0x489dc0=_0x36c476['docs'][_0x504249(0xe07)](_0x4f830e=>_0x4f830e[_0x504249(0xdad)]());renderQuizLeaderboard(_0x489dc0,currentQuizData,_0x504249(0x2e0));const _0x1e531a=collection(db,_0x504249(0x884)+appId+_0x504249(0xa9f)+currentQuizData[_0x504249(0x791)]+_0x504249(0x7fc)),_0x31e07d=await getDocs(_0x1e531a),_0x509bc4=_0x31e07d[_0x504249(0xcf8)][_0x504249(0xe07)](_0x696419=>_0x696419[_0x504249(0xdad)]());renderLeaderboard(_0x509bc4,_0x504249(0x3f5));}catch(_0x247470){console['error']('Error\x20fetching\x20student\x20rankings:',_0x247470),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x28379d){const _0x4b1d08=_0x230ac1,_0x987559=_0x28379d['currentTarget'],_0x1bb9f9=_0x987559['dataset']['index'],_0x496624=currentQuizData[_0x4b1d08(0x746)][_0x1bb9f9];if(!userId){showMessage(_0x4b1d08(0xad9));return;}try{const _0x5a0f54={..._0x496624,'originalTopic':currentQuizData[_0x4b1d08(0xbdd)],'savedAt':serverTimestamp()},_0xdeccc6=collection(db,_0x4b1d08(0x884)+appId+_0x4b1d08(0x95f)+userId+_0x4b1d08(0x273));await addDoc(_0xdeccc6,_0x5a0f54),showMessage(_0x4b1d08(0xe05)),_0x987559[_0x4b1d08(0xeac)][_0x4b1d08(0xb0b)](_0x4b1d08(0x590)),_0x987559[_0x4b1d08(0xeac)][_0x4b1d08(0x4db)](_0x4b1d08(0x43e)),_0x987559[_0x4b1d08(0x44b)]=!![];}catch(_0x532acf){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x532acf),showMessage(_0x4b1d08(0x840));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4c743d,_0x3a363e=null,_0x2d5bbe=null,_0xea9745=![]){const _0x58506a=_0x230ac1;cameFromBlueprint=!![];const _0x4a5317=document['getElementById'](_0x58506a(0x758))?.[_0x58506a(0xdd7)][_0x58506a(0x99f)]();let _0x779107=null;if(_0x4a5317){showMessage(_0x58506a(0x871));try{const _0x1ed1c6=await fetchFileFromUrl(_0x4a5317,_0x58506a(0xe8c)),_0x29a82f=await new Promise((_0x51af09,_0x401073)=>{const _0x5abe09=_0x58506a,_0x114b3d=new FileReader();_0x114b3d['readAsDataURL'](_0x1ed1c6),_0x114b3d[_0x5abe09(0x5f8)]=()=>_0x51af09(_0x114b3d[_0x5abe09(0xbdb)][_0x5abe09(0x356)](',')[0x1]),_0x114b3d[_0x5abe09(0x284)]=_0x401073;});_0x779107=[{'inlineData':{'mimeType':_0x1ed1c6[_0x58506a(0x444)],'data':_0x29a82f}}],messageModal[_0x58506a(0xeac)]['add'](_0x58506a(0xcc2));}catch(_0x2bea12){console[_0x58506a(0x1b6)](_0x58506a(0x643),_0x2bea12),showMessage(_0x58506a(0x33b));}}const _0x32caad=document[_0x58506a(0x815)](_0x58506a(0x6ba)),_0x28bcd=document['getElementById'](_0x58506a(0xc07)),_0xb582b4=_0x32caad[_0x58506a(0xd27)]('h3'),_0x28483b=document[_0x58506a(0x815)](_0x58506a(0x646)),_0x48d3cc=document['getElementById'](_0x58506a(0x484));_0xb582b4[_0x58506a(0x587)]=_0x58506a(0xb6e),_0x28483b[_0x58506a(0x587)]=_0x58506a(0xdd0),_0x28483b[_0x58506a(0x44b)]=!![];allProjects[_0x58506a(0xe93)]===0x0?_0x28bcd[_0x58506a(0x63b)]=_0x58506a(0x4fd):(_0x28bcd[_0x58506a(0x63b)]=_0x58506a(0x56f)+allProjects[_0x58506a(0xe07)](_0x16ccff=>'<option\x20value=\x22'+_0x16ccff['id']+'\x22>'+_0x16ccff[_0x58506a(0x98b)]+_0x58506a(0x817))['join'](''),_0x28483b[_0x58506a(0x44b)]=![]);_0x32caad[_0x58506a(0xeac)][_0x58506a(0xb0b)](_0x58506a(0xcc2));const _0x523737=async()=>{const _0x5b75d6=_0x58506a,_0x3e6349=_0x28bcd[_0x5b75d6(0xdd7)];if(!_0x3e6349){showMessage(_0x5b75d6(0xe10));return;}_0x32caad[_0x5b75d6(0xeac)][_0x5b75d6(0x4db)](_0x5b75d6(0xcc2)),document[_0x5b75d6(0x815)](_0x5b75d6(0x439))[_0x5b75d6(0xeac)]['add']('hidden'),await loadProjectDetails(_0x3e6349),showView(_0x5b75d6(0x3e4)),handleGenerateQuizFromBlueprintTopic(_0x4c743d,_0x3a363e,_0x3e6349,_0x2d5bbe,_0xea9745,_0x779107),_0x556c1b();},_0x556c1b=()=>{const _0x1ee8fb=_0x58506a;_0xb582b4[_0x1ee8fb(0x587)]=_0x1ee8fb(0x49f),_0x28483b[_0x1ee8fb(0x587)]='ย้าย',_0x28483b['removeEventListener'](_0x1ee8fb(0x7a5),_0x523737),_0x48d3cc[_0x1ee8fb(0x8d5)](_0x1ee8fb(0x7a5),_0x556c1b),_0x28483b[_0x1ee8fb(0x7b7)]('click',confirmMoveQuiz);};_0x28483b[_0x58506a(0x8d5)](_0x58506a(0x7a5),confirmMoveQuiz),_0x28483b['addEventListener'](_0x58506a(0x7a5),_0x523737),_0x48d3cc[_0x58506a(0x7b7)](_0x58506a(0x7a5),_0x556c1b);}function listenForStarredQuizzes(){const _0x1d3820=_0x230ac1;if(!userId)return;const _0x27c78c=collection(db,'artifacts/'+appId+_0x1d3820(0x8a2)),_0xaddf13=query(_0x27c78c,where(_0x1d3820(0xcfc),'==',!![]));onSnapshot(_0xaddf13,_0x1ceb45=>{const _0x13a67e=_0x1d3820;starredQuizzes=_0x1ceb45[_0x13a67e(0xcf8)][_0x13a67e(0xe07)](_0x3af464=>({'id':_0x3af464['id'],..._0x3af464[_0x13a67e(0xdad)]()})),currentProjectId===_0x13a67e(0x627)?renderQuizzes():renderProjects();},_0x30e27b=>{const _0x57fa3f=_0x1d3820;console['error'](_0x57fa3f(0xcf2),_0x30e27b);});}function listenForFileShortcuts(){const _0x44868f=_0x230ac1,_0x49a2ec=doc(db,_0x44868f(0xdbd),_0x44868f(0x87f));onSnapshot(_0x49a2ec,_0x16d9bc=>{const _0x293ba8=_0x44868f;let _0x46cbb0=[],_0x597d1b=[],_0x1789a7={};if(_0x16d9bc[_0x293ba8(0x939)]()){const _0x43579d=_0x16d9bc['data']();_0x46cbb0=_0x43579d[_0x293ba8(0xb8c)]||[],_0x597d1b=_0x43579d[_0x293ba8(0xe34)]||[],_0x1789a7=_0x43579d[_0x293ba8(0xa80)]||{};}!_0x597d1b[_0x293ba8(0x5eb)](_0x18862e=>_0x18862e['id']===_0x293ba8(0x4ad))&&_0x597d1b[_0x293ba8(0x9bf)]({'id':_0x293ba8(0x4ad),'name':_0x293ba8(0x51a),'isDefault':!![]}),!_0x46cbb0[_0x293ba8(0x5eb)](_0x469233=>_0x469233['id']===_0x293ba8(0xf0b))&&_0x46cbb0[_0x293ba8(0x9bf)]({'id':_0x293ba8(0xf0b),'name':_0x293ba8(0x62f),'url':'','isDefault':!![]}),!_0x46cbb0[_0x293ba8(0x5eb)](_0x22a120=>_0x22a120['id']==='file-default-2')&&_0x46cbb0[_0x293ba8(0x9bf)]({'id':'file-default-2','name':_0x293ba8(0xae3),'url':'','isDefault':!![]}),fileShortcuts=_0x46cbb0,fileShortcutTabs=_0x597d1b,fileShortcutOrder=_0x1789a7,renderFileShortcuts(),!document[_0x293ba8(0x815)]('additional-file-shortcuts-modal')['classList'][_0x293ba8(0x65d)](_0x293ba8(0xcc2))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4cbec7=_0x230ac1,_0x48c028=doc(db,_0x4cbec7(0xdbd),_0x4cbec7(0x87f));try{await setDoc(_0x48c028,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x25e736){console['error']('Error\x20saving\x20file\x20shortcut\x20config:',_0x25e736);}}function renderAdditionalFileShortcutsModal(){const _0x595632=_0x230ac1,_0x530ec3=document[_0x595632(0x815)](_0x595632(0xc9c)),_0x4a4f81=document[_0x595632(0x815)](_0x595632(0x8a6));if(!_0x530ec3||!_0x4a4f81)return;_0x530ec3[_0x595632(0x63b)]=fileShortcutTabs[_0x595632(0xe07)](_0x5c11fa=>{const _0x486daa=_0x595632,_0x10ae8a=_0x5c11fa['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5c11fa['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x10ae8a?_0x486daa(0x7b2):_0x486daa(0xa58))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x5c11fa[_0x486daa(0xcc9)]+_0x486daa(0xc3d)+_0x5c11fa[_0x486daa(0xcc9)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5c11fa[_0x486daa(0x9a6)]?_0x486daa(0xd54)+_0x5c11fa['id']+_0x486daa(0x86b):'')+_0x486daa(0xa33);})[_0x595632(0x885)]('');const _0x3543dc=fileShortcutTabs[_0x595632(0x5eb)](_0x2ec579=>_0x2ec579['id']===activeFileShortcutTabId);let _0x1e808d=_0x3543dc?.[_0x595632(0x9a6)]?[...fileShortcuts]:fileShortcuts[_0x595632(0x320)](_0x5589f6=>(_0x3543dc?.[_0x595632(0xc8f)]||[])[_0x595632(0x8f3)](_0x5589f6['id']));const _0x3f5c10=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1e808d['sort']((_0x417742,_0x5f6d40)=>{const _0x2ad136=_0x595632,_0x91dfad=_0x3f5c10[_0x2ad136(0x73c)](_0x417742['id']),_0x4c2f77=_0x3f5c10[_0x2ad136(0x73c)](_0x5f6d40['id']);return(_0x91dfad===-0x1?Infinity:_0x91dfad)-(_0x4c2f77===-0x1?Infinity:_0x4c2f77);}),_0x4a4f81[_0x595632(0x63b)]=_0x1e808d[_0x595632(0xe07)](_0xf0790a=>{const _0x44cc9=_0x595632,_0x430b93=_0xf0790a[_0x44cc9(0xd86)]?'📄':'🔗',_0x155727=fileShortcutTabs[_0x44cc9(0x320)](_0x701bc=>!_0x701bc[_0x44cc9(0x9a6)]),_0x1c048c=_0x3543dc['isDefault']&&_0x155727[_0x44cc9(0xe93)]>0x0?_0x44cc9(0x56d)+_0x155727[_0x44cc9(0xe07)](_0x5a811c=>_0x44cc9(0xd65)+_0xf0790a['id']+_0x44cc9(0x2c3)+_0x5a811c['id']+'\x22>'+_0x5a811c[_0x44cc9(0xcc9)]+_0x44cc9(0x365))['join']('')+_0x44cc9(0x92a):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0xf0790a['id']+_0x44cc9(0x2ed)+_0x430b93+'\x20'+_0xf0790a[_0x44cc9(0xcc9)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf0790a['id']+_0x44cc9(0x24e)+_0xf0790a['id']+_0x44cc9(0x21a)+(!_0xf0790a[_0x44cc9(0x9a6)]?_0x44cc9(0x86d)+_0xf0790a['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x44cc9(0xa8c)+(!_0x3543dc['isDefault']?_0x44cc9(0xae6)+_0xf0790a['id']+_0x44cc9(0x8c0):'')+_0x44cc9(0xa8c)+_0x1c048c+_0x44cc9(0xc90);})['join']('')||_0x595632(0x674),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x5c6258=_0x230ac1;document['querySelectorAll']('.file-shortcut-tab-btn')[_0x5c6258(0xdec)](_0x161691=>{const _0x443a03=_0x5c6258;_0x161691[_0x443a03(0x7c5)]=_0x232363=>{const _0x1888b5=_0x443a03;activeFileShortcutTabId=_0x232363[_0x1888b5(0xda1)][_0x1888b5(0x5ff)][_0x1888b5(0xb7b)],renderAdditionalFileShortcutsModal();},_0x161691[_0x443a03(0x67c)]=_0x285888=>{const _0x564de9=_0x443a03,_0x30d361=_0x285888['currentTarget'][_0x564de9(0xd27)]('.tab-name-input');_0x285888[_0x564de9(0xda1)][_0x564de9(0xd27)]('.tab-name-display')[_0x564de9(0xeac)]['add'](_0x564de9(0xcc2)),_0x30d361['classList'][_0x564de9(0xb0b)](_0x564de9(0xcc2)),_0x30d361[_0x564de9(0xca2)](),_0x30d361['select']();};}),document[_0x5c6258(0x8c8)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x5c6258(0xdec)](_0x57c8f=>{const _0x430f21=_0x5c6258,_0x10f613=()=>{const _0x362e99=_0x1143,_0x2dd210=_0x57c8f[_0x362e99(0xa28)](_0x362e99(0xdc2))[_0x362e99(0x5ff)][_0x362e99(0xb7b)],_0x40b1af=fileShortcutTabs[_0x362e99(0x5eb)](_0x5e344b=>_0x5e344b['id']===_0x2dd210);_0x40b1af&&(_0x40b1af['name']=_0x57c8f[_0x362e99(0xdd7)][_0x362e99(0x99f)]()||_0x40b1af['name'],saveFileShortcutConfig());};_0x57c8f['onblur']=_0x10f613,_0x57c8f[_0x430f21(0x6ae)]=_0xf6d4d9=>{const _0x148ac6=_0x430f21;if(_0xf6d4d9[_0x148ac6(0x79d)]===_0x148ac6(0xafc))_0x57c8f[_0x148ac6(0x843)]();};}),document[_0x5c6258(0x8c8)]('.delete-file-shortcut-tab-btn')[_0x5c6258(0xdec)](_0x45304f=>_0x45304f[_0x5c6258(0x7c5)]=_0x3ea953=>{const _0x27d37b=_0x5c6258,_0x2c0fcb=_0x3ea953[_0x27d37b(0xda1)][_0x27d37b(0x5ff)][_0x27d37b(0xb7b)];showConfirmation(_0x27d37b(0x5bf),()=>{fileShortcutTabs=fileShortcutTabs['filter'](_0x5789a8=>_0x5789a8['id']!==_0x2c0fcb),delete fileShortcutOrder[_0x2c0fcb];if(activeFileShortcutTabId===_0x2c0fcb)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x5c6258(0x8c8)]('.move-file-shortcut-item')[_0x5c6258(0xdec)](_0x471a18=>_0x471a18[_0x5c6258(0x7c5)]=_0x28b962=>{const _0x400259=_0x5c6258;_0x28b962[_0x400259(0x896)]();const {shortcutId:_0x307da8,targetTabId:_0x1b05e3}=_0x28b962[_0x400259(0xda1)][_0x400259(0x5ff)],_0x35c877=fileShortcutTabs[_0x400259(0x5eb)](_0x163b4a=>_0x163b4a['id']===_0x1b05e3);_0x35c877&&!_0x35c877[_0x400259(0xc8f)][_0x400259(0x8f3)](_0x307da8)&&(_0x35c877[_0x400259(0xc8f)][_0x400259(0xacf)](_0x307da8),saveFileShortcutConfig());}),document[_0x5c6258(0x8c8)](_0x5c6258(0xd71))[_0x5c6258(0xdec)](_0x50b5a3=>_0x50b5a3[_0x5c6258(0x7c5)]=_0x23e11e=>{const _0x1f10f8=_0x5c6258,_0x25165f=_0x23e11e['currentTarget'][_0x1f10f8(0x5ff)][_0x1f10f8(0xdf5)],_0x36a975=fileShortcutTabs[_0x1f10f8(0x5eb)](_0xce6496=>_0xce6496['id']===activeFileShortcutTabId);_0x36a975&&!_0x36a975[_0x1f10f8(0x9a6)]&&(_0x36a975[_0x1f10f8(0xc8f)]=_0x36a975[_0x1f10f8(0xc8f)]['filter'](_0x13f65d=>_0x13f65d!==_0x25165f),saveFileShortcutConfig());}),document[_0x5c6258(0x8c8)](_0x5c6258(0x6f0))[_0x5c6258(0xdec)](_0x54ddf3=>_0x54ddf3['onclick']=_0x5a0634=>{const _0x335606=_0x5c6258;_0x5a0634['stopPropagation']();const _0x553428=_0x5a0634[_0x335606(0xda1)][_0x335606(0x1b7)];document['querySelectorAll'](_0x335606(0x81b))['forEach'](_0x532b22=>_0x532b22[_0x335606(0xeac)]['add']('hidden')),_0x553428[_0x335606(0xeac)]['remove'](_0x335606(0xcc2));});const _0x33492c=document[_0x5c6258(0x815)](_0x5c6258(0x8a6));let _0x3859de=null;_0x33492c[_0x5c6258(0x8e0)]=_0xb8e1ae=>{const _0x5628f6=_0x5c6258;_0x3859de=_0xb8e1ae['target']['closest'](_0x5628f6(0xd90));if(_0x3859de)setTimeout(()=>_0x3859de[_0x5628f6(0xeac)][_0x5628f6(0x4db)](_0x5628f6(0x919)),0x0);},_0x33492c[_0x5c6258(0x967)]=()=>{const _0x10dd5d=_0x5c6258;_0x3859de&&(_0x3859de['classList'][_0x10dd5d(0xb0b)](_0x10dd5d(0x919)),_0x3859de=null);},_0x33492c['ondragover']=_0x2672f8=>{const _0x104666=_0x5c6258;_0x2672f8[_0x104666(0x896)]();},_0x33492c[_0x5c6258(0x54d)]=_0x5a702b=>{const _0x35eb2e=_0x5c6258;_0x5a702b[_0x35eb2e(0x896)]();if(_0x3859de){const _0x435e5e=[..._0x33492c[_0x35eb2e(0x8c8)](_0x35eb2e(0x4a3))][_0x35eb2e(0xa56)]((_0x2c85cc,_0x2d9523)=>{const _0x50727c=_0x35eb2e,_0x595a11=_0x2d9523[_0x50727c(0xe69)](),_0xe0989c=_0x5a702b['clientY']-_0x595a11[_0x50727c(0xad4)]-_0x595a11[_0x50727c(0x329)]/0x2;return _0xe0989c<0x0&&_0xe0989c>_0x2c85cc[_0x50727c(0xc5d)]?{'offset':_0xe0989c,'element':_0x2d9523}:_0x2c85cc;},{'offset':Number[_0x35eb2e(0xb4f)]})[_0x35eb2e(0x46c)];_0x435e5e==null?_0x33492c['appendChild'](_0x3859de):_0x33492c[_0x35eb2e(0xefb)](_0x3859de,_0x435e5e);const _0xc6c4ea=[..._0x33492c[_0x35eb2e(0x8c8)]('.shortcut-list-item')][_0x35eb2e(0xe07)](_0x5d5e66=>_0x5d5e66['dataset'][_0x35eb2e(0xdf5)]);fileShortcutOrder[activeFileShortcutTabId]=_0xc6c4ea,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3c51dd=_0x230ac1,_0x3bfd2d=prompt(_0x3c51dd(0xcd2),_0x3c51dd(0x9d0));_0x3bfd2d&&_0x3bfd2d[_0x3c51dd(0x99f)]()&&(fileShortcutTabs[_0x3c51dd(0xacf)]({'id':_0x3c51dd(0x2ea)+Date[_0x3c51dd(0x7be)](),'name':_0x3bfd2d[_0x3c51dd(0x99f)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4fd124=_0x230ac1,_0x372d24=document[_0x4fd124(0x815)]('file-shortcut-container'),_0x54b42d=document['getElementById'](_0x4fd124(0x8a6)),_0x388a11=document[_0x4fd124(0x815)](_0x4fd124(0xac7));if(_0x388a11)_0x388a11[_0x4fd124(0xeac)]['add'](_0x4fd124(0xcc2));if(!_0x372d24||!_0x54b42d)return;const _0x2c0294=fileShortcuts[_0x4fd124(0xc26)](0x0,0x4),_0x5dc8ca=fileShortcuts[_0x4fd124(0xc26)](0x4);_0x372d24['innerHTML']=_0x2c0294['map'](_0x5c9f70=>{const _0x19b7f1=_0x4fd124,_0x363985=_0x5c9f70[_0x19b7f1(0xd86)]&&_0x5c9f70['url'][_0x19b7f1(0x99f)]()!=='',_0x372aee=selectedFile&&selectedFile[_0x19b7f1(0xdf5)]===_0x5c9f70['id'];let _0x145094=_0x19b7f1(0x9c9),_0x40c8ab='🔗';if(_0x372aee)_0x145094=_0x19b7f1(0xa41),_0x40c8ab=_0x19b7f1(0x73b);else _0x363985&&(_0x145094=_0x19b7f1(0x930),_0x40c8ab='📄');const _0x29203d=!_0x5c9f70[_0x19b7f1(0x9a6)]?_0x19b7f1(0x86d)+_0x5c9f70['id']+_0x19b7f1(0xbc7):'';return _0x19b7f1(0xa2b)+_0x5c9f70['id']+_0x19b7f1(0x386)+_0x145094+_0x19b7f1(0x84c)+_0x40c8ab+_0x19b7f1(0xe79)+_0x5c9f70[_0x19b7f1(0xcc9)]+_0x19b7f1(0xe14)+_0x5c9f70['id']+_0x19b7f1(0x7f9)+_0x29203d+_0x19b7f1(0xd58);})[_0x4fd124(0x885)](''),_0x5dc8ca[_0x4fd124(0xe93)]>0x0&&(_0x372d24[_0x4fd124(0x63b)]+=_0x4fd124(0xc49)),_0x5dc8ca[_0x4fd124(0xe93)]>0x0?_0x54b42d[_0x4fd124(0x63b)]=_0x5dc8ca[_0x4fd124(0xe07)](_0x10f642=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x10f642[_0x4fd124(0xd86)]?'📄':'🔗')+'\x20'+_0x10f642[_0x4fd124(0xcc9)]+_0x4fd124(0x385)+_0x10f642['id']+_0x4fd124(0x93e)+_0x10f642['id']+_0x4fd124(0x7d4)+(!_0x10f642['isDefault']?_0x4fd124(0x86d)+_0x10f642['id']+_0x4fd124(0x35c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x54b42d[_0x4fd124(0x63b)]=_0x4fd124(0x5b0);}function openFileShortcutEditor(_0x44b215=null){const _0x4cddc2=_0x230ac1,_0x38699f=document[_0x4cddc2(0x815)](_0x4cddc2(0xbb2)),_0xc6ba08=document[_0x4cddc2(0x815)](_0x4cddc2(0x5d0)),_0x495e82=document[_0x4cddc2(0x815)](_0x4cddc2(0xabc)),_0x497982=document['getElementById'](_0x4cddc2(0x34e)),_0xb20ccf=document[_0x4cddc2(0x815)](_0x4cddc2(0xbc3));if(_0x44b215){const _0x57a7ee=fileShortcuts['find'](_0x32e071=>_0x32e071['id']===_0x44b215);if(!_0x57a7ee)return;_0xc6ba08[_0x4cddc2(0x587)]=_0x4cddc2(0x9eb),_0x495e82[_0x4cddc2(0xdd7)]=_0x57a7ee['id'],_0x497982['value']=_0x57a7ee[_0x4cddc2(0xcc9)],_0xb20ccf[_0x4cddc2(0xdd7)]=_0x57a7ee[_0x4cddc2(0xd86)]||'';}else _0xc6ba08[_0x4cddc2(0x587)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x495e82[_0x4cddc2(0xdd7)]='',_0x497982[_0x4cddc2(0xdd7)]='',_0xb20ccf[_0x4cddc2(0xdd7)]='';_0x38699f['classList'][_0x4cddc2(0xb0b)](_0x4cddc2(0xcc2));}async function saveFileShortcutChanges(){const _0x21fd14=_0x230ac1,_0xcd645f=document[_0x21fd14(0x815)](_0x21fd14(0xabc))[_0x21fd14(0xdd7)],_0x48c76e=document[_0x21fd14(0x815)](_0x21fd14(0x34e))[_0x21fd14(0xdd7)]['trim'](),_0x3e3ed5=document['getElementById'](_0x21fd14(0xbc3))['value']['trim']();if(!_0x48c76e){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x5ca933={'id':_0xcd645f||_0x21fd14(0x583)+Date['now'](),'name':_0x48c76e,'url':_0x3e3ed5,'isDefault':_0xcd645f['startsWith'](_0x21fd14(0xeaf))};let _0x385d42;_0xcd645f?_0x385d42=fileShortcuts[_0x21fd14(0xe07)](_0x50c593=>_0x50c593['id']===_0xcd645f?_0x5ca933:_0x50c593):_0x385d42=[...fileShortcuts,_0x5ca933];try{const _0x1eb683=doc(db,_0x21fd14(0xdbd),_0x21fd14(0x87f));await setDoc(_0x1eb683,{'shortcuts':_0x385d42},{'merge':!![]}),document['getElementById'](_0x21fd14(0xbb2))[_0x21fd14(0xeac)][_0x21fd14(0x4db)](_0x21fd14(0xcc2));}catch(_0x247cbd){console[_0x21fd14(0x1b6)](_0x21fd14(0x89e),_0x247cbd),showMessage(_0x21fd14(0x840));}}async function handleFileShortcutClick(_0x3a4b90){const _0x67a18e=_0x230ac1,_0x4accc2=fileShortcuts['find'](_0x10ec7b=>_0x10ec7b['id']===_0x3a4b90);if(!_0x4accc2)return;if(!_0x4accc2['url']||_0x4accc2[_0x67a18e(0xd86)][_0x67a18e(0x99f)]()===''){openFileShortcutEditor(_0x3a4b90);return;}const _0x34e0b3=document['querySelector'](_0x67a18e(0x2b3)+_0x3a4b90+'\x22]');if(_0x34e0b3){const _0x3112c6=_0x34e0b3[_0x67a18e(0x63b)];_0x34e0b3['innerHTML']=_0x67a18e(0x60d),_0x34e0b3['disabled']=!![];}document[_0x67a18e(0x8c8)]('.file-shortcut-btn')[_0x67a18e(0xdec)](_0x4575dc=>{const _0x10c4ea=_0x67a18e;if(_0x4575dc[_0x10c4ea(0x5ff)]['id']!==_0x3a4b90)_0x4575dc[_0x10c4ea(0xeac)][_0x10c4ea(0x4db)](_0x10c4ea(0x919),_0x10c4ea(0xa5c));});try{const _0x2a2ba3=new URL(_0x4accc2[_0x67a18e(0xd86)])[_0x67a18e(0x92b)],_0x54c8b4=_0x2a2ba3['substring'](_0x2a2ba3[_0x67a18e(0x3f9)]('/')+0x1)||(_0x4accc2['url'][_0x67a18e(0x8f3)](_0x67a18e(0x949))?_0x67a18e(0x6d3):_0x67a18e(0xcfb)),_0x51c6bd=await fetchFileFromUrl(_0x4accc2['url'],_0x54c8b4);_0x51c6bd[_0x67a18e(0xdf5)]=_0x3a4b90,selectedFile=_0x51c6bd,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x67a18e(0x815)](_0x67a18e(0xe2c))[_0x67a18e(0x984)]({'behavior':'smooth','block':_0x67a18e(0xc2a)});}catch(_0x166542){console[_0x67a18e(0x1b6)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x166542),showMessage(_0x67a18e(0x5d5)+_0x166542[_0x67a18e(0xb95)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x67a18e(0x41f))[_0x67a18e(0xdec)](_0x42f515=>{const _0x266b9e=_0x67a18e;_0x42f515[_0x266b9e(0xeac)][_0x266b9e(0xb0b)]('opacity-50',_0x266b9e(0xa5c)),_0x42f515[_0x266b9e(0x44b)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2e7038=_0x230ac1;if(allQuizzesGlobal[_0x2e7038(0xe93)]>0x0)return;console[_0x2e7038(0x1cf)](_0x2e7038(0x8ec)),showMessage(_0x2e7038(0xd9f));try{const _0x16b991=await getDocs(collection(db,_0x2e7038(0x884)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x16b991[_0x2e7038(0xcf8)]['map'](_0x4c7d76=>({'id':_0x4c7d76['id'],..._0x4c7d76[_0x2e7038(0xdad)]()})),console[_0x2e7038(0x1cf)]('Loaded\x20'+allQuizzesGlobal[_0x2e7038(0xe93)]+_0x2e7038(0xd34)),messageModal[_0x2e7038(0xeac)]['add'](_0x2e7038(0xcc2));}catch(_0x3c4452){console[_0x2e7038(0x1b6)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x3c4452),messageModal['classList']['add'](_0x2e7038(0xcc2));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x52b773=_0x230ac1;if(!currentQuizData||!currentQuizData[_0x52b773(0x746)]){showMessage(_0x52b773(0xba0));return;}const _0x1b3ddc=currentQuizData,_0x19af58=window['open']('',_0x52b773(0x59d)),_0x522224=_0x28323a=>String['fromCharCode'](0x41+_0x28323a),_0x1e7fd1=_0x52b773(0x9bc)+_0x1b3ddc[_0x52b773(0xbdd)]+_0x52b773(0xf2c)+_0x1b3ddc[_0x52b773(0xbdd)]+_0x52b773(0x478)+_0x1b3ddc[_0x52b773(0x746)][_0x52b773(0xe07)]((_0x50dd57,_0x192aed)=>{const _0x2d39d0=_0x52b773;let _0x4406ce='';const _0x125569=_0x50dd57[_0x2d39d0(0x1f4)]||_0x1b3ddc[_0x2d39d0(0x1c2)];switch(_0x125569){case _0x2d39d0(0x653):case _0x2d39d0(0xd8e):_0x4406ce='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x50dd57[_0x2d39d0(0xa9c)][_0x2d39d0(0xe07)]((_0x2f8fb6,_0x1bc309)=>_0x2d39d0(0xad8)+_0x522224(_0x1bc309)+'.\x20'+_0x2f8fb6+_0x2d39d0(0xf05))['join'](_0x2d39d0(0x5ea))+'</div>';break;case _0x2d39d0(0xcba):_0x4406ce='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4406ce=_0x2d39d0(0x6ed);break;}return _0x2d39d0(0x3db)+(_0x192aed+0x1)+_0x2d39d0(0x30c)+(_0x50dd57[_0x2d39d0(0x212)]||_0x50dd57[_0x2d39d0(0xef8)])+_0x2d39d0(0x6eb)+(_0x50dd57['imageCode']?_0x2d39d0(0xa17)+_0x50dd57[_0x2d39d0(0x74b)]+_0x2d39d0(0xcb3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4406ce+_0x2d39d0(0x1d5);})[_0x52b773(0x885)]('')+_0x52b773(0x2ec);_0x19af58[_0x52b773(0x2f7)][_0x52b773(0x9df)](_0x1e7fd1),_0x19af58[_0x52b773(0x2f7)][_0x52b773(0x5c7)](),_0x19af58[_0x52b773(0x5f8)]=function(){setTimeout(()=>{const _0x170fc6=_0x1143;_0x19af58[_0x170fc6(0x9d9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x24ddbd=_0x230ac1;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3b2bd6=currentQuizData,_0x180579=window[_0x24ddbd(0xa40)]('','_blank'),_0x1b43b2=_0x1fd305=>String[_0x24ddbd(0x869)](0x41+_0x1fd305),_0x1cfe77=_0x24ddbd(0xedd)+_0x3b2bd6['topic']+_0x24ddbd(0xce6)+_0x3b2bd6[_0x24ddbd(0x746)][_0x24ddbd(0xe07)]((_0x1bdbdf,_0x5a7dc7)=>{const _0x4cd3c9=_0x24ddbd;let _0x111947='';const _0x87fc90=_0x1bdbdf[_0x4cd3c9(0x1f4)]||_0x3b2bd6[_0x4cd3c9(0x1c2)];switch(_0x87fc90){case _0x4cd3c9(0x653):case _0x4cd3c9(0xd8e):_0x111947='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1bdbdf[_0x4cd3c9(0xa9c)][_0x4cd3c9(0xe07)]((_0xf630a2,_0x5be134)=>_0x4cd3c9(0x784)+_0x1b43b2(_0x5be134)+'.\x20'+_0xf630a2+_0x4cd3c9(0x3af))[_0x4cd3c9(0x885)](_0x4cd3c9(0x5ea))+_0x4cd3c9(0xb69);break;case _0x4cd3c9(0xcba):_0x111947=_0x4cd3c9(0xea1);break;default:_0x111947='';break;}return _0x4cd3c9(0xb3a)+_0x3b2bd6[_0x4cd3c9(0xbdd)]+_0x4cd3c9(0xe47)+(_0x5a7dc7+0x1)+_0x4cd3c9(0x75c)+(_0x1bdbdf[_0x4cd3c9(0x212)]||_0x1bdbdf[_0x4cd3c9(0xef8)])+_0x4cd3c9(0x6eb)+(_0x1bdbdf[_0x4cd3c9(0x74b)]?_0x4cd3c9(0x5d3)+_0x1bdbdf[_0x4cd3c9(0x74b)]+_0x4cd3c9(0xcb3):'')+_0x4cd3c9(0x5cb)+_0x111947+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x24ddbd(0x885)]('')+_0x24ddbd(0xd62);_0x180579[_0x24ddbd(0x2f7)][_0x24ddbd(0x9df)](_0x1cfe77),_0x180579[_0x24ddbd(0x2f7)][_0x24ddbd(0x5c7)](),_0x180579[_0x24ddbd(0x5f8)]=function(){setTimeout(()=>{const _0x20253b=_0x1143;_0x180579[_0x20253b(0x9d9)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2c55ee){const _0x1c2032=_0x230ac1,_0x336112=doc(db,_0x1c2032(0x884)+appId+_0x1c2032(0x8a2),_0x2c55ee);try{const _0x8bc125=await getDoc(_0x336112);if(_0x8bc125[_0x1c2032(0x939)]()){const _0x460864=_0x8bc125[_0x1c2032(0xdad)]()[_0x1c2032(0xcfc)]||![];await updateDoc(_0x336112,{'isStarred':!_0x460864});}}catch(_0x5d4569){console['error'](_0x1c2032(0x1d3),_0x5d4569),showMessage(_0x1c2032(0x907));}}async function displayQuestionBank(){const _0x740523=_0x230ac1,_0x37fc69=document[_0x740523(0x815)](_0x740523(0xc8c));_0x37fc69[_0x740523(0x63b)]=_0x740523(0x4b8);try{const _0x6f1a68=collection(db,_0x740523(0x884)+appId+_0x740523(0x95f)+userId+_0x740523(0x273)),_0x4ac009=query(_0x6f1a68),_0x53c14f=await getDocs(_0x4ac009);if(_0x53c14f[_0x740523(0x58b)]){_0x37fc69['innerHTML']=_0x740523(0xea9);return;}let _0x5272aa=_0x53c14f[_0x740523(0xcf8)][_0x740523(0xe07)](_0x38e656=>{const _0x2ef9a3=_0x740523,_0x4ad938=_0x38e656[_0x2ef9a3(0xdad)](),_0x459d96=_0x38e656['id'];return _0x2ef9a3(0x9c8)+JSON[_0x2ef9a3(0xd0a)](_0x4ad938)+_0x2ef9a3(0xe32)+(_0x4ad938[_0x2ef9a3(0xef8)]||_0x4ad938[_0x2ef9a3(0x212)])+_0x2ef9a3(0x503)+_0x4ad938[_0x2ef9a3(0x4f6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x740523(0x885)]('');_0x37fc69[_0x740523(0x63b)]=_0x740523(0x5bd)+_0x5272aa+_0x740523(0x6f7),document[_0x740523(0x815)](_0x740523(0xb14))[_0x740523(0x7b7)]('click',createQuizFromBank);}catch(_0x5b6f8f){console['error']('Error\x20displaying\x20question\x20bank:',_0x5b6f8f),_0x37fc69[_0x740523(0x63b)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x1021bd=_0x230ac1,_0x80e432=document['getElementById'](_0x1021bd(0xd9a)),_0x5eca97=document[_0x1021bd(0x815)](_0x1021bd(0x90c))[_0x1021bd(0x587)]||_0x1021bd(0x419);if(!_0x80e432){showMessage(_0x1021bd(0x6e4));return;}const _0x355924=window[_0x1021bd(0xa40)]('','_blank'),_0x7b1e17='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5eca97+_0x1021bd(0x498)+_0x5eca97+_0x1021bd(0xe37)+_0x80e432['innerHTML']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x355924[_0x1021bd(0x2f7)][_0x1021bd(0x9df)](_0x7b1e17),_0x355924[_0x1021bd(0x2f7)][_0x1021bd(0x5c7)](),_0x355924[_0x1021bd(0x5f8)]=function(){setTimeout(()=>{const _0x25e95a=_0x1143;_0x355924[_0x25e95a(0x9d9)]();},0x7d0);};}function showAdminLiveQuestionView(_0xea9b91,_0x43e427,_0x503997){const _0x3f9aab=_0x230ac1,_0x4f53e5=_0xea9b91[_0x3f9aab(0x1f4)]||currentQuizData[_0x3f9aab(0x1c2)];let _0x1ade24='';if(_0x4f53e5===_0x3f9aab(0x653)||_0x4f53e5==='true_false'){const _0x3b68fe=_0x4f53e5===_0x3f9aab(0xcba)?[_0x3f9aab(0x863),_0x3f9aab(0x313)]:_0xea9b91[_0x3f9aab(0xa9c)],_0x11be5d=_0x4f53e5===_0x3f9aab(0xcba)?_0xea9b91[_0x3f9aab(0x68b)]?0x0:0x1:_0xea9b91[_0x3f9aab(0xdfa)];_0x1ade24=_0x3b68fe[_0x3f9aab(0xe07)]((_0x4c8818,_0x1a5c2e)=>_0x3f9aab(0xd8f)+(_0x1a5c2e===_0x11be5d)+_0x3f9aab(0xc50)+_0x4c8818+_0x3f9aab(0xd58))[_0x3f9aab(0x885)]('');}else{if(_0x4f53e5===_0x3f9aab(0x52a)){const _0x440abd=_0xea9b91[_0x3f9aab(0x787)]||[];_0x1ade24=_0x440abd[_0x3f9aab(0xe07)](_0x12f666=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x12f666===_0xea9b91[_0x3f9aab(0xa50)])+_0x3f9aab(0xc50)+_0x12f666+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x5f3185=_0xea9b91[_0x3f9aab(0x212)]||_0xea9b91[_0x3f9aab(0xef8)],_0x1b3c49='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x43e427+0x1)+'\x20/\x20'+_0x503997+_0x3f9aab(0xd8c)+currentLiveGamePin+_0x3f9aab(0x6cf)+_0x5f3185+_0x3f9aab(0x52d)+_0x1ade24+_0x3f9aab(0x68f);liveGameView[_0x3f9aab(0x63b)]=_0x1b3c49,window['MathJax']&&MathJax[_0x3f9aab(0x40b)]&&MathJax[_0x3f9aab(0x40b)]([liveGameView]),document[_0x3f9aab(0x815)](_0x3f9aab(0x237))[_0x3f9aab(0x7b7)](_0x3f9aab(0x7a5),()=>revealAnswerForAdmin(_0x43e427,_0x503997)),document['getElementById'](_0x3f9aab(0x6bb))[_0x3f9aab(0x7b7)](_0x3f9aab(0x7a5),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x302fbe=_0x1143,_0x48fa5f=doc(db,_0x302fbe(0x884)+appId+_0x302fbe(0x7c2),currentLiveGameId);await updateDoc(_0x48fa5f,{'status':_0x302fbe(0x451)});});}),document[_0x3f9aab(0x815)](_0x3f9aab(0x980))[_0x3f9aab(0x7b7)](_0x3f9aab(0x7a5),()=>{const _0x2bd259=_0x3f9aab;document['getElementById'](_0x2bd259(0x756))[_0x2bd259(0xeac)][_0x2bd259(0x334)](_0x2bd259(0xcc2));});}function promptForProjectBeforeGenerating(_0x3320b9){const _0x54f5a9=_0x230ac1,_0x1702d1=document[_0x54f5a9(0x815)](_0x54f5a9(0x6ba)),_0x590c1a=document['getElementById'](_0x54f5a9(0xc07)),_0x533c49=_0x1702d1[_0x54f5a9(0xd27)]('h3'),_0x13d059=document[_0x54f5a9(0x815)]('confirm-move-quiz-btn'),_0x19191f=document[_0x54f5a9(0x815)](_0x54f5a9(0x484));_0x533c49[_0x54f5a9(0x587)]=_0x54f5a9(0xb6e),_0x13d059[_0x54f5a9(0x587)]='เลือกและเริ่มสร้าง',_0x13d059[_0x54f5a9(0x44b)]=!![];allProjects[_0x54f5a9(0xe93)]===0x0?_0x590c1a[_0x54f5a9(0x63b)]=_0x54f5a9(0x4fd):(_0x590c1a[_0x54f5a9(0x63b)]=_0x54f5a9(0x56f)+allProjects['map'](_0xc56e56=>'<option\x20value=\x22'+_0xc56e56['id']+'\x22>'+_0xc56e56['projectName']+_0x54f5a9(0x817))[_0x54f5a9(0x885)](''),_0x13d059[_0x54f5a9(0x44b)]=![]);_0x1702d1[_0x54f5a9(0xeac)]['remove'](_0x54f5a9(0xcc2));const _0x3beeb5=async()=>{const _0xb1347=_0x54f5a9,_0x5cdc29=_0x590c1a[_0xb1347(0xdd7)];if(!_0x5cdc29){showMessage(_0xb1347(0xe10));return;}_0x1702d1[_0xb1347(0xeac)][_0xb1347(0x4db)](_0xb1347(0xcc2)),await loadProjectDetails(_0x5cdc29),showView(_0xb1347(0x3e4)),handleGenerateQuizFromBlueprintTopic(_0x3320b9),_0x49ebdc();},_0x49ebdc=()=>{const _0x2040f5=_0x54f5a9;_0x533c49[_0x2040f5(0x587)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x13d059[_0x2040f5(0x587)]=_0x2040f5(0x619),_0x13d059['removeEventListener'](_0x2040f5(0x7a5),_0x3beeb5),_0x19191f['removeEventListener']('click',_0x49ebdc),_0x13d059['addEventListener'](_0x2040f5(0x7a5),confirmMoveQuiz);};_0x13d059['removeEventListener'](_0x54f5a9(0x7a5),confirmMoveQuiz),_0x13d059[_0x54f5a9(0x7b7)](_0x54f5a9(0x7a5),_0x3beeb5),_0x19191f[_0x54f5a9(0x7b7)](_0x54f5a9(0x7a5),_0x49ebdc);}function showStudentLiveQuestionView(_0x5c1250,_0x1c1ded,_0x9367f0){const _0x2d7db8=_0x230ac1,_0x37d0c5=_0x5c1250['questionType']||currentQuizData['quizType'];let _0x5f0406='';if(_0x37d0c5===_0x2d7db8(0x653)||_0x37d0c5===_0x2d7db8(0xcba)){const _0x36f7b5=_0x37d0c5===_0x2d7db8(0xcba)?[_0x2d7db8(0x863),'ไม่ใช่']:_0x5c1250[_0x2d7db8(0xa9c)];_0x5f0406=_0x36f7b5[_0x2d7db8(0xe07)]((_0x4ec976,_0x12540e)=>_0x2d7db8(0x5b6)+_0x12540e+_0x2d7db8(0x2a1)+_0x4ec976+_0x2d7db8(0xe89))[_0x2d7db8(0x885)]('');}else{if(_0x37d0c5===_0x2d7db8(0x52a)){const _0x26a430=_0x5c1250[_0x2d7db8(0x787)]||[];_0x5f0406=_0x26a430['map']((_0x376e69,_0x3b68a5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3b68a5+_0x2d7db8(0x2a1)+_0x376e69+_0x2d7db8(0xe89))[_0x2d7db8(0x885)]('');}else _0x37d0c5===_0x2d7db8(0x270)&&(_0x5f0406=_0x2d7db8(0xab3));}const _0x38bb6a=_0x5c1250[_0x2d7db8(0x212)]||_0x5c1250[_0x2d7db8(0xef8)],_0x350c04=_0x2d7db8(0x27b)+(_0x1c1ded+0x1)+_0x2d7db8(0xe75)+_0x9367f0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x38bb6a+_0x2d7db8(0xd1e)+_0x5f0406+_0x2d7db8(0x78c);liveGameView[_0x2d7db8(0x63b)]=_0x350c04;window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x2d7db8(0x40b)]([liveGameView]);const _0x5ad5c0=document[_0x2d7db8(0x815)](_0x2d7db8(0xbda));_0x5ad5c0&&_0x5ad5c0[_0x2d7db8(0x7b7)]('click',()=>{const _0x5337e0=_0x2d7db8,_0x556802=document[_0x5337e0(0x815)](_0x5337e0(0xcad))[_0x5337e0(0xdd7)];handleLiveAnswer(_0x556802,_0x5c1250);}),document['getElementById'](_0x2d7db8(0x6b5))[_0x2d7db8(0x7b7)]('click',_0x4c404f=>{const _0xa8d84f=_0x2d7db8,_0x32bea2=_0x4c404f['target'][_0xa8d84f(0xa28)]('.live-answer-btn');if(_0x32bea2){const _0x4dcb2f=parseInt(_0x32bea2[_0xa8d84f(0x5ff)][_0xa8d84f(0x677)]);handleLiveAnswer(_0x4dcb2f,_0x5c1250);}});}function listenForBlueprintShortcuts(){const _0x584d6e=_0x230ac1,_0x33bd81=doc(db,_0x584d6e(0xdbd),_0x584d6e(0x7e6));onSnapshot(_0x33bd81,_0x35ede7=>{const _0x5d6a04=_0x584d6e;let _0x5957f8=[],_0x1617f4=[],_0x4e5e61={};if(_0x35ede7[_0x5d6a04(0x939)]()){const _0x4078d5=_0x35ede7[_0x5d6a04(0xdad)]();_0x5957f8=_0x4078d5[_0x5d6a04(0x6a4)]||[],_0x1617f4=_0x4078d5[_0x5d6a04(0x2f4)]||[],_0x4e5e61=_0x4078d5['shortcutOrder']||{};}!_0x1617f4[_0x5d6a04(0x5eb)](_0x37b91d=>_0x37b91d['id']==='all')&&_0x1617f4[_0x5d6a04(0x9bf)]({'id':_0x5d6a04(0x4ad),'name':_0x5d6a04(0xc6c),'isDefault':!![]}),!_0x5957f8[_0x5d6a04(0x5eb)](_0x12fb15=>_0x12fb15['id']===_0x5d6a04(0x4bd))&&_0x5957f8[_0x5d6a04(0x9bf)]({'id':'default-1','name':_0x5d6a04(0x857),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5957f8['find'](_0x30715e=>_0x30715e['id']===_0x5d6a04(0xd94))&&_0x5957f8[_0x5d6a04(0x9bf)]({'id':'default-2','name':_0x5d6a04(0xd81),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5957f8,shortcutTabs=_0x1617f4,shortcutOrder=_0x4e5e61,renderBlueprintShortcuts(),!document[_0x5d6a04(0x815)](_0x5d6a04(0xa90))[_0x5d6a04(0xeac)][_0x5d6a04(0x65d)](_0x5d6a04(0xcc2))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4eeb5b=_0x230ac1,_0x27f5fe=document['getElementById'](_0x4eeb5b(0xdd2)),_0x2728e3=document[_0x4eeb5b(0x815)](_0x4eeb5b(0x667));if(!_0x27f5fe||!_0x2728e3)return;_0x27f5fe[_0x4eeb5b(0x63b)]=shortcutTabs[_0x4eeb5b(0xe07)](_0x15afec=>{const _0x193815=_0x4eeb5b,_0x40fed9=_0x15afec['id']===activeShortcutTabId,_0x146524='border-indigo-500\x20text-indigo-600',_0x53c0ec='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x193815(0xe01)+_0x15afec['id']+_0x193815(0xb6d)+(_0x40fed9?_0x146524:_0x53c0ec)+_0x193815(0x3b7)+_0x15afec[_0x193815(0xcc9)]+_0x193815(0x7e2)+_0x15afec[_0x193815(0xcc9)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x15afec['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x15afec['id']+_0x193815(0xb87):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4eeb5b(0x885)]('');const _0x451c51=shortcutTabs[_0x4eeb5b(0x5eb)](_0x5a39a7=>_0x5a39a7['id']===activeShortcutTabId);let _0x335f2f=[];if(_0x451c51){if(_0x451c51[_0x4eeb5b(0x9a6)])_0x335f2f=[...blueprintShortcuts];else{const _0x4396f7=_0x451c51[_0x4eeb5b(0xc8f)]||[];_0x335f2f=blueprintShortcuts[_0x4eeb5b(0x320)](_0x46cf94=>_0x4396f7[_0x4eeb5b(0x8f3)](_0x46cf94['id']));}}const _0xd6604f=shortcutOrder[activeShortcutTabId]||[];_0x335f2f[_0x4eeb5b(0xa6f)]((_0x2c2b30,_0x19eb18)=>{const _0x37d345=_0x4eeb5b,_0x2c0321=_0xd6604f[_0x37d345(0x73c)](_0x2c2b30['id']),_0xdd1f81=_0xd6604f[_0x37d345(0x73c)](_0x19eb18['id']);if(_0x2c0321===-0x1)return 0x1;if(_0xdd1f81===-0x1)return-0x1;return _0x2c0321-_0xdd1f81;}),_0x2728e3[_0x4eeb5b(0x63b)]=_0x335f2f[_0x4eeb5b(0xe93)]>0x0?_0x335f2f[_0x4eeb5b(0xe07)](_0x45ea6c=>{const _0x53ca7f=_0x4eeb5b;let _0x5e62c2='🧩';if(_0x45ea6c[_0x53ca7f(0x5c2)]&&_0x45ea6c[_0x53ca7f(0xdd4)])_0x5e62c2='📗';else{if(_0x45ea6c[_0x53ca7f(0x5c2)])_0x5e62c2='📘';}const _0x118e05=shortcutTabs[_0x53ca7f(0x320)](_0x225db3=>!_0x225db3[_0x53ca7f(0x9a6)]),_0x4a289e=_0x451c51[_0x53ca7f(0x9a6)]&&_0x118e05[_0x53ca7f(0xe93)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x118e05[_0x53ca7f(0xe07)](_0x4ec5bc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x45ea6c['id']+'\x22\x20data-target-tab-id=\x22'+_0x4ec5bc['id']+'\x22>'+_0x4ec5bc['name']+_0x53ca7f(0x82d))[_0x53ca7f(0x885)]('')+_0x53ca7f(0x1b2):'';return _0x53ca7f(0xa97)+_0x45ea6c['id']+_0x53ca7f(0x226)+_0x5e62c2+'\x20'+_0x45ea6c[_0x53ca7f(0xcc9)]+_0x53ca7f(0xbbd)+_0x45ea6c['id']+_0x53ca7f(0x613)+_0x45ea6c['id']+_0x53ca7f(0x829)+(!_0x45ea6c[_0x53ca7f(0x9a6)]?_0x53ca7f(0x86d)+_0x45ea6c['id']+_0x53ca7f(0xf1d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x451c51[_0x53ca7f(0x9a6)]?_0x53ca7f(0xae6)+_0x45ea6c['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x53ca7f(0x5c4)+_0x4a289e+_0x53ca7f(0x2c4);})[_0x4eeb5b(0x885)](''):_0x4eeb5b(0x674),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5e7f88=_0x230ac1;document[_0x5e7f88(0x8c8)](_0x5e7f88(0x64d))[_0x5e7f88(0xdec)](_0x47ac8e=>{const _0x42b493=_0x5e7f88;_0x47ac8e[_0x42b493(0x7b7)](_0x42b493(0x7a5),_0x5d42a0=>{const _0xe8c579=_0x42b493;activeShortcutTabId=_0x5d42a0[_0xe8c579(0xda1)][_0xe8c579(0x5ff)][_0xe8c579(0xb7b)],renderAdditionalShortcutsModal();}),_0x47ac8e[_0x42b493(0x7b7)](_0x42b493(0x761),_0x361e7a=>{const _0x180e5d=_0x42b493,_0x47820d=_0x361e7a[_0x180e5d(0xda1)];_0x47820d[_0x180e5d(0xd27)]('.tab-name-display')['classList'][_0x180e5d(0x4db)](_0x180e5d(0xcc2));const _0x396ca6=_0x47820d[_0x180e5d(0xd27)](_0x180e5d(0x22a));_0x396ca6[_0x180e5d(0xeac)][_0x180e5d(0xb0b)](_0x180e5d(0xcc2)),_0x396ca6[_0x180e5d(0xca2)](),_0x396ca6[_0x180e5d(0x96e)]();});}),document[_0x5e7f88(0x8c8)](_0x5e7f88(0x22a))[_0x5e7f88(0xdec)](_0x393bd2=>{const _0x16809f=_0x5e7f88,_0xd1d81d=()=>{const _0x20b2dc=_0x1143,_0x18a1f5=_0x393bd2['closest'](_0x20b2dc(0x64d))[_0x20b2dc(0x5ff)][_0x20b2dc(0xb7b)];handleRenameShortcutTab(_0x18a1f5,_0x393bd2['value']);};_0x393bd2[_0x16809f(0x7b7)](_0x16809f(0x843),_0xd1d81d),_0x393bd2[_0x16809f(0x7b7)](_0x16809f(0x3fc),_0x50fe7f=>{const _0x3c9ca7=_0x16809f;if(_0x50fe7f[_0x3c9ca7(0x79d)]===_0x3c9ca7(0xafc))_0x393bd2['blur']();});}),document[_0x5e7f88(0x8c8)](_0x5e7f88(0xaf7))[_0x5e7f88(0xdec)](_0x4e7810=>{const _0x4ef40c=_0x5e7f88;_0x4e7810[_0x4ef40c(0x7b7)](_0x4ef40c(0x7a5),_0xb5c5b3=>handleDeleteShortcutTab(_0xb5c5b3[_0x4ef40c(0xda1)]['dataset']['tabId']));}),document[_0x5e7f88(0x8c8)](_0x5e7f88(0x71e))[_0x5e7f88(0xdec)](_0x1042bc=>{_0x1042bc['addEventListener']('click',_0x498be1=>{const _0x2d66e9=_0x1143;_0x498be1[_0x2d66e9(0x896)]();const {shortcutId:_0x1e7180,targetTabId:_0x4255e2}=_0x498be1[_0x2d66e9(0xda1)]['dataset'];handleMoveShortcutToTab(_0x1e7180,_0x4255e2);});}),document[_0x5e7f88(0x8c8)]('.remove-shortcut-from-tab-btn')[_0x5e7f88(0xdec)](_0x3c9be0=>{const _0x131a76=_0x5e7f88;_0x3c9be0[_0x131a76(0x7b7)](_0x131a76(0x7a5),_0x49b6b0=>{const _0x18ffa0=_0x131a76;handleRemoveShortcutFromTab(_0x49b6b0['currentTarget'][_0x18ffa0(0x5ff)][_0x18ffa0(0xdf5)],activeShortcutTabId);});});const _0x2845b4=document[_0x5e7f88(0x815)](_0x5e7f88(0x667));_0x2845b4['querySelectorAll'](_0x5e7f88(0x232))['forEach'](_0x63837d=>{const _0x3cba08=_0x5e7f88;_0x63837d['addEventListener'](_0x3cba08(0x7a5),()=>{const _0x286e2d=_0x3cba08;document[_0x286e2d(0x815)](_0x286e2d(0xa90))[_0x286e2d(0xeac)][_0x286e2d(0x4db)]('hidden'),handleShortcutClick(_0x63837d[_0x286e2d(0x5ff)]['id']);});});let _0x5729ff=null;_0x2845b4[_0x5e7f88(0x7b7)]('dragstart',_0xf44fad=>{const _0x3bc8bb=_0x5e7f88;_0x5729ff=_0xf44fad[_0x3bc8bb(0x3d1)][_0x3bc8bb(0xa28)](_0x3bc8bb(0xd90)),_0x5729ff&&setTimeout(()=>_0x5729ff['classList'][_0x3bc8bb(0x4db)](_0x3bc8bb(0x919)),0x0);}),_0x2845b4[_0x5e7f88(0x7b7)]('dragend',()=>{const _0x4c6c12=_0x5e7f88;_0x5729ff&&(_0x5729ff[_0x4c6c12(0xeac)]['remove'](_0x4c6c12(0x919)),_0x5729ff=null);}),_0x2845b4[_0x5e7f88(0x7b7)](_0x5e7f88(0x7b8),_0x5d2932=>{const _0x3aae4d=_0x5e7f88;_0x5d2932[_0x3aae4d(0x896)]();const _0x3b07d5=[..._0x2845b4[_0x3aae4d(0x8c8)](_0x3aae4d(0x4a3))][_0x3aae4d(0xa56)]((_0xc7a07f,_0x2a7a8b)=>{const _0x402bfc=_0x3aae4d,_0x314382=_0x2a7a8b[_0x402bfc(0xe69)](),_0x43e6df=_0x5d2932['clientY']-_0x314382[_0x402bfc(0xad4)]-_0x314382[_0x402bfc(0x329)]/0x2;return _0x43e6df<0x0&&_0x43e6df>_0xc7a07f[_0x402bfc(0xc5d)]?{'offset':_0x43e6df,'element':_0x2a7a8b}:_0xc7a07f;},{'offset':Number[_0x3aae4d(0xb4f)]})[_0x3aae4d(0x46c)];_0x3b07d5==null?_0x2845b4['appendChild'](_0x5729ff):_0x2845b4[_0x3aae4d(0xefb)](_0x5729ff,_0x3b07d5);}),_0x2845b4[_0x5e7f88(0x7b7)](_0x5e7f88(0x47d),_0x5b3035=>{const _0xbb50c2=_0x5e7f88;_0x5b3035[_0xbb50c2(0x896)]();if(_0x5729ff){const _0x55dcfd=[..._0x2845b4[_0xbb50c2(0x8c8)](_0xbb50c2(0xd90))]['map'](_0x38bef4=>_0x38bef4[_0xbb50c2(0x5ff)][_0xbb50c2(0xdf5)]);handleShortcutOrderChange(activeShortcutTabId,_0x55dcfd);}}),document[_0x5e7f88(0x8c8)](_0x5e7f88(0xbfc))[_0x5e7f88(0xdec)](_0x4a6fb8=>{const _0x57b602=_0x5e7f88;_0x4a6fb8['addEventListener'](_0x57b602(0x7a5),_0x4160e5=>{const _0x490d24=_0x57b602;_0x4160e5[_0x490d24(0xe4a)]();const _0x340b26=_0x4160e5[_0x490d24(0xda1)][_0x490d24(0x1b7)],_0x58f6f4=_0x340b26[_0x490d24(0xeac)]['contains'](_0x490d24(0xcc2));document['querySelectorAll'](_0x490d24(0xd88))[_0x490d24(0xdec)](_0x2c20e7=>_0x2c20e7[_0x490d24(0xeac)][_0x490d24(0x4db)](_0x490d24(0xcc2))),_0x58f6f4&&_0x340b26[_0x490d24(0xeac)]['remove'](_0x490d24(0xcc2));});});}document[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),_0x41f274=>{const _0x12b276=_0x230ac1;!_0x41f274[_0x12b276(0x3d1)][_0x12b276(0xa28)]('.group\x5c/dropdown')&&document[_0x12b276(0x8c8)](_0x12b276(0xd88))[_0x12b276(0xdec)](_0x2bde3e=>_0x2bde3e[_0x12b276(0xeac)][_0x12b276(0x4db)]('hidden'));});async function saveShortcutConfig(){const _0x31a670=_0x230ac1,_0xa6056d=doc(db,_0x31a670(0xdbd),'dashboardConfig');try{await setDoc(_0xa6056d,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x785742){console['error'](_0x31a670(0x9b4),_0x785742);}}async function handleAddShortcutTab(){const _0x2c4f2c=_0x230ac1,_0x5e59db=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x5e59db||_0x5e59db[_0x2c4f2c(0x99f)]()==='')return;shortcutTabs['push']({'id':_0x2c4f2c(0x2ea)+Date[_0x2c4f2c(0x7be)](),'name':_0x5e59db[_0x2c4f2c(0x99f)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x592f18,_0x4b07b5){const _0x5659aa=_0x230ac1,_0xf22ebb=shortcutTabs[_0x5659aa(0x5eb)](_0x31dc96=>_0x31dc96['id']===_0x592f18);_0xf22ebb&&_0x4b07b5['trim']()!==''&&(_0xf22ebb['name']=_0x4b07b5[_0x5659aa(0x99f)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x1a084b){const _0xd291ac=_0x230ac1,_0x29265c=shortcutTabs[_0xd291ac(0x5eb)](_0x2a240f=>_0x2a240f['id']===_0x1a084b);_0x29265c&&!_0x29265c['isDefault']&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x29265c[_0xd291ac(0xcc9)]+_0xd291ac(0x26a),async()=>{const _0x4d0f77=_0xd291ac;shortcutTabs=shortcutTabs[_0x4d0f77(0x320)](_0x232a5a=>_0x232a5a['id']!==_0x1a084b),delete shortcutOrder[_0x1a084b];if(activeShortcutTabId===_0x1a084b)activeShortcutTabId=_0x4d0f77(0x4ad);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x5c32db,_0x55b865){const _0x180c36=_0x230ac1,_0xc883df=shortcutTabs[_0x180c36(0x5eb)](_0x45fc17=>_0x45fc17['id']===_0x55b865);_0xc883df&&!_0xc883df[_0x180c36(0xc8f)]['includes'](_0x5c32db)&&(_0xc883df[_0x180c36(0xc8f)][_0x180c36(0xacf)](_0x5c32db),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x207b3e,_0x2bae37){const _0x4232c7=_0x230ac1,_0x358a5f=shortcutTabs[_0x4232c7(0x5eb)](_0x514540=>_0x514540['id']===_0x2bae37);_0x358a5f&&!_0x358a5f[_0x4232c7(0x9a6)]&&(_0x358a5f[_0x4232c7(0xc8f)]=_0x358a5f[_0x4232c7(0xc8f)][_0x4232c7(0x320)](_0xa87129=>_0xa87129!==_0x207b3e),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4ca2bd,_0x2ecc2c){shortcutOrder[_0x4ca2bd]=_0x2ecc2c,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x129c56=_0x230ac1,_0x162271=document['getElementById'](_0x129c56(0x27d)),_0x294bf5=document[_0x129c56(0x815)](_0x129c56(0x667)),_0x2f44ed=document[_0x129c56(0x815)](_0x129c56(0xaf5));_0x2f44ed&&_0x2f44ed[_0x129c56(0xeac)]['add'](_0x129c56(0xcc2));if(!_0x162271||!_0x294bf5)return;const _0x41fb96=blueprintShortcuts[_0x129c56(0xc26)](0x0,0x4),_0xd8a84d=blueprintShortcuts['slice'](0x4);_0x162271['innerHTML']=_0x41fb96[_0x129c56(0xe07)](_0x54fcb1=>{const _0x5b5429=_0x129c56;let _0x5713b8=_0x5b5429(0x9c9),_0x354bee='🧩';if(_0x54fcb1[_0x5b5429(0x5c2)]&&_0x54fcb1['referenceUrl'])_0x5713b8=_0x5b5429(0x656),_0x354bee='📗';else _0x54fcb1[_0x5b5429(0x5c2)]&&(_0x5713b8=_0x5b5429(0x930),_0x354bee='📘');const _0xbfe0e1=!_0x54fcb1[_0x5b5429(0x9a6)]?_0x5b5429(0x86d)+_0x54fcb1['id']+_0x5b5429(0xc04):'';return _0x5b5429(0xa2b)+_0x54fcb1['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x5713b8+_0x5b5429(0xcfd)+_0x354bee+'\x20'+_0x54fcb1[_0x5b5429(0xcc9)]+_0x5b5429(0xa43)+_0x54fcb1['id']+_0x5b5429(0x5fa)+_0xbfe0e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x129c56(0x885)](''),_0xd8a84d[_0x129c56(0xe93)]>0x0&&(_0x162271[_0x129c56(0x63b)]+=_0x129c56(0xd10)),_0xd8a84d[_0x129c56(0xe93)]>0x0?_0x294bf5[_0x129c56(0x63b)]=_0xd8a84d[_0x129c56(0xe07)](_0x42c2a3=>{const _0x3b8566=_0x129c56;let _0x1b078b='🧩';if(_0x42c2a3['blueprintUrl']&&_0x42c2a3[_0x3b8566(0xdd4)])_0x1b078b='📗';else _0x42c2a3[_0x3b8566(0x5c2)]&&(_0x1b078b='📘');return _0x3b8566(0x55d)+_0x1b078b+'\x20'+_0x42c2a3[_0x3b8566(0xcc9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x42c2a3['id']+_0x3b8566(0x613)+_0x42c2a3['id']+_0x3b8566(0x829)+(!_0x42c2a3[_0x3b8566(0x9a6)]?_0x3b8566(0x86d)+_0x42c2a3['id']+_0x3b8566(0xf1d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x129c56(0x885)](''):_0x294bf5[_0x129c56(0x63b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x6f0161){const _0x558276=_0x230ac1,_0x18099b=_0x6f0161['split']('.')[_0x558276(0xee2)]()['toLowerCase']();switch(_0x18099b){case _0x558276(0x2c2):return _0x558276(0xe62);case _0x558276(0xd96):return _0x558276(0x5f6);default:return _0x558276(0xe62);}}function openShortcutEditor(_0x360649=null){const _0x32ea5e=_0x230ac1,_0x470347=document[_0x32ea5e(0x815)](_0x32ea5e(0x6dc)),_0x435e49=document[_0x32ea5e(0x815)]('shortcut-modal-title'),_0x27ebc8=document['getElementById'](_0x32ea5e(0x8bc)),_0x1f7c76=document[_0x32ea5e(0x815)]('shortcut-name-input'),_0x59a389=document[_0x32ea5e(0x815)](_0x32ea5e(0x85f)),_0x2348ce=document[_0x32ea5e(0x815)](_0x32ea5e(0xd26));if(_0x360649){const _0x5d82dd=blueprintShortcuts['find'](_0x5a84ed=>_0x5a84ed['id']===_0x360649);if(!_0x5d82dd)return;_0x435e49[_0x32ea5e(0x587)]=_0x32ea5e(0x788),_0x27ebc8['value']=_0x5d82dd['id'],_0x1f7c76['value']=_0x5d82dd[_0x32ea5e(0xcc9)],_0x59a389[_0x32ea5e(0xdd7)]=_0x5d82dd[_0x32ea5e(0x5c2)]||'',_0x2348ce[_0x32ea5e(0xdd7)]=_0x5d82dd[_0x32ea5e(0xdd4)]||'';}else _0x435e49['textContent']=_0x32ea5e(0x2d6),_0x27ebc8[_0x32ea5e(0xdd7)]='',_0x1f7c76['value']='',_0x59a389[_0x32ea5e(0xdd7)]='',_0x2348ce[_0x32ea5e(0xdd7)]='';_0x470347[_0x32ea5e(0xeac)]['remove']('hidden');}async function saveShortcutChanges(){const _0x354c8c=_0x230ac1,_0x563b14=document[_0x354c8c(0x815)](_0x354c8c(0x8bc))[_0x354c8c(0xdd7)],_0x10e320=document[_0x354c8c(0x815)](_0x354c8c(0xc11))[_0x354c8c(0xdd7)][_0x354c8c(0x99f)](),_0xf8bc4e=document[_0x354c8c(0x815)](_0x354c8c(0x85f))[_0x354c8c(0xdd7)][_0x354c8c(0x99f)]();if(!_0x10e320||!_0xf8bc4e){showMessage(_0x354c8c(0x3a4));return;}const _0x4cfac5={'id':_0x563b14||_0x354c8c(0x238)+Date['now'](),'name':_0x10e320,'blueprintUrl':_0xf8bc4e,'referenceUrl':document['getElementById'](_0x354c8c(0xd26))[_0x354c8c(0xdd7)][_0x354c8c(0x99f)](),'isDefault':_0x563b14[_0x354c8c(0xef1)](_0x354c8c(0x29e))};let _0x41f2ec;_0x563b14?_0x41f2ec=blueprintShortcuts[_0x354c8c(0xe07)](_0x4dc5ef=>_0x4dc5ef['id']===_0x563b14?_0x4cfac5:_0x4dc5ef):_0x41f2ec=[...blueprintShortcuts,_0x4cfac5];try{const _0x3a816f=doc(db,_0x354c8c(0xdbd),'dashboardConfig');await setDoc(_0x3a816f,{'blueprintShortcuts':_0x41f2ec},{'merge':!![]}),document[_0x354c8c(0x815)](_0x354c8c(0x6dc))[_0x354c8c(0xeac)][_0x354c8c(0x4db)](_0x354c8c(0xcc2));}catch(_0x2942b0){console[_0x354c8c(0x1b6)](_0x354c8c(0xaf9),_0x2942b0),showMessage(_0x354c8c(0x840));}}async function handleShortcutClick(_0x5d6246){const _0x3212f3=_0x230ac1,_0x1f9b36=blueprintShortcuts[_0x3212f3(0x5eb)](_0xe0dc6a=>_0xe0dc6a['id']===_0x5d6246);if(!_0x1f9b36||!_0x1f9b36[_0x3212f3(0x5c2)])return;document['getElementById'](_0x3212f3(0x429))[_0x3212f3(0xeac)][_0x3212f3(0x4db)](_0x3212f3(0xcc2)),document[_0x3212f3(0x815)](_0x3212f3(0x5f7))[_0x3212f3(0x44b)]=!![];const _0x27ca58=document[_0x3212f3(0x815)](_0x3212f3(0xb68)),_0x475cfe=document[_0x3212f3(0x815)]('loader-text');document[_0x3212f3(0x815)](_0x3212f3(0x601))['classList']['remove']('hidden'),document[_0x3212f3(0x815)](_0x3212f3(0xa48))[_0x3212f3(0x63b)]='',_0x27ca58[_0x3212f3(0xeac)]['remove'](_0x3212f3(0xcc2));try{_0x475cfe[_0x3212f3(0x587)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x14bd02=await fetchFileFromUrl(_0x1f9b36[_0x3212f3(0x5c2)],_0x3212f3(0xc40));let _0x341c9d=null;if(_0x1f9b36[_0x3212f3(0xdd4)]){_0x475cfe[_0x3212f3(0x587)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x267e29=_0x1f9b36[_0x3212f3(0xdd4)][_0x3212f3(0xaec)]()['endsWith'](_0x3212f3(0x949))?_0x3212f3(0x7e5):_0x3212f3(0x542);_0x341c9d=await fetchFileFromUrl(_0x1f9b36[_0x3212f3(0xdd4)],_0x267e29);}await handleGenerateFromBlueprintWithFiles(_0x14bd02,_0x341c9d);}catch(_0x546d44){console[_0x3212f3(0x1b6)](_0x3212f3(0x708),_0x546d44),showMessage(_0x3212f3(0x36f)+_0x546d44[_0x3212f3(0xb95)]),_0x27ca58[_0x3212f3(0xeac)]['add'](_0x3212f3(0xcc2));}}function getDirectDownloadUrl(_0x2b714e){const _0x24ad6a=_0x230ac1,_0x17881c=_0x2b714e['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x17881c&&_0x17881c[0x1])return _0x24ad6a(0x905)+_0x17881c[0x1];return _0x2b714e;}async function fetchFileFromUrl(_0x3002b5,_0x54863c){const _0x4d5801=_0x230ac1,_0x2c85b9=getDirectDownloadUrl(_0x3002b5),_0x1cd911=_0x4d5801(0x4cc)+encodeURIComponent(_0x2c85b9),_0x3f62a4=await fetch(_0x1cd911);if(!_0x3f62a4['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x3f62a4[_0x4d5801(0xc71)]+')');const _0x3eb2fc=await _0x3f62a4[_0x4d5801(0x321)](),_0x770d7c=await new Promise((_0x358b6a,_0x521dd6)=>{const _0x3ab1e8=_0x4d5801,_0x1d2786=new FileReader();_0x1d2786['onloadend']=()=>_0x358b6a(new Uint8Array(_0x1d2786[_0x3ab1e8(0xbdb)])),_0x1d2786['onerror']=_0x521dd6,_0x1d2786[_0x3ab1e8(0x711)](_0x3eb2fc[_0x3ab1e8(0xc26)](0x0,0x4));});let _0x2442f2='';const _0x12f222=new TextDecoder()[_0x4d5801(0x81c)](_0x770d7c);return _0x12f222===_0x4d5801(0xd5d)?(_0x2442f2='application/pdf',console[_0x4d5801(0x1cf)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x2442f2=_0x4d5801(0x5f6),console['log'](_0x4d5801(0xac8))),new File([_0x3eb2fc],_0x54863c,{'type':_0x2442f2});}async function handleGenerateFromBlueprintWithFiles(_0x11ef8e,_0x377b20=null){const _0x16a228=_0x230ac1;if(!_0x11ef8e){showMessage(_0x16a228(0xd75));return;}const _0x1447f7=document[_0x16a228(0x815)](_0x16a228(0xb68)),_0x5adc3b=document[_0x16a228(0x815)](_0x16a228(0x5f3));_0x1447f7[_0x16a228(0xeac)][_0x16a228(0xb0b)]('hidden'),document['getElementById']('quiz-generation-area')['classList'][_0x16a228(0xb0b)](_0x16a228(0xcc2)),document[_0x16a228(0x815)]('generated-quiz-container')[_0x16a228(0x63b)]='';try{_0x5adc3b[_0x16a228(0x587)]=_0x16a228(0x5b4);const _0x5d49f4=await new Promise((_0x45ba0d,_0x9ac1fe)=>{const _0x18baff=_0x16a228,_0x228fb8=new FileReader();_0x228fb8[_0x18baff(0x8e6)](_0x11ef8e),_0x228fb8[_0x18baff(0x5f8)]=()=>_0x45ba0d(_0x228fb8[_0x18baff(0xbdb)][_0x18baff(0x356)](',')[0x1]),_0x228fb8['onerror']=_0x9ac1fe;}),_0x8d78e6=[];if(_0x377b20){_0x5adc3b['textContent']=_0x16a228(0x9db);const _0x5ef663=await _0x377b20['text']();_0x8d78e6['push']({'text':_0x16a228(0xe21)+_0x5ef663});}const _0xbb8a4=[{'text':'...'},{'inlineData':{'mimeType':_0x11ef8e[_0x16a228(0x444)],'data':_0x5d49f4}},..._0x8d78e6];await handleGenerateFromBlueprint(_0xbb8a4);}catch(_0x3bad3f){console['error'](_0x16a228(0xf22),_0x3bad3f),showMessage(_0x16a228(0x36f)+_0x3bad3f[_0x16a228(0xb95)]),_0x1447f7[_0x16a228(0xeac)]['add'](_0x16a228(0xcc2));}}async function handleLiveAnswer(_0x133032,_0x11316e){const _0x15d489=_0x230ac1;document[_0x15d489(0x8c8)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x15d489(0xdec)](_0x228515=>_0x228515[_0x15d489(0x44b)]=!![]);const _0x41a48d=_0x11316e[_0x15d489(0x1f4)]||currentQuizData[_0x15d489(0x1c2)];let _0x476839=![],_0x233b3a=_0x133032;if(_0x41a48d==='short_answer'){const _0x451a1a=(_0x133032||'')[_0x15d489(0xefe)]();_0x476839=await gradeShortAnswer(_0x451a1a,_0x11316e);}else{if(_0x41a48d===_0x15d489(0x653))_0x476839=_0x133032===_0x11316e[_0x15d489(0xdfa)];else{if(_0x41a48d===_0x15d489(0xcba)){const _0x2362ed=_0x11316e[_0x15d489(0x68b)];_0x476839=_0x133032===0x0&&_0x2362ed||_0x133032===0x1&&!_0x2362ed;}else{if(_0x41a48d===_0x15d489(0x52a)){const _0x44954c=_0x11316e[_0x15d489(0x787)][_0x133032];_0x476839=_0x44954c===_0x11316e[_0x15d489(0xa50)],_0x233b3a=_0x44954c;}}}}const _0x252a8b=doc(db,_0x15d489(0x884)+appId+_0x15d489(0x7c2),currentLiveGameId),_0x38ad46={};_0x38ad46[_0x15d489(0x8d8)+currentStudentName+_0x15d489(0x8cf)]=!![],_0x38ad46[_0x15d489(0x8d8)+currentStudentName+_0x15d489(0x762)]=_0x476839,_0x38ad46[_0x15d489(0x8d8)+currentStudentName+_0x15d489(0x3ad)]=_0x41a48d===_0x15d489(0x270)||_0x41a48d===_0x15d489(0x52a)?null:_0x133032,_0x38ad46[_0x15d489(0x8d8)+currentStudentName+_0x15d489(0x463)]=_0x233b3a,_0x38ad46[_0x15d489(0x8d8)+currentStudentName+_0x15d489(0x2ee)]=serverTimestamp(),_0x38ad46[_0x15d489(0x8d8)+currentStudentName+'.isScored']=![],await updateDoc(_0x252a8b,_0x38ad46),liveGameView[_0x15d489(0x63b)]=_0x15d489(0x2e5);}function showAdminSummaryView(_0x312d25,_0x467767){const _0x123fd5=_0x230ac1,_0x427876=Object[_0x123fd5(0xdf2)](_0x312d25[_0x123fd5(0x9f8)]||{}),_0x223e8d=_0x467767[_0x123fd5(0x1f4)]||currentQuizData['quizType'],_0xf9f943=_0x223e8d===_0x123fd5(0xcba)?[_0x123fd5(0x863),_0x123fd5(0x313)]:_0x467767[_0x123fd5(0xa9c)]||_0x467767['allResponses']||[],_0x3d246b={},_0x52a9a4=new Array(_0xf9f943[_0x123fd5(0xe93)])[_0x123fd5(0x88d)](0x0);_0xf9f943['forEach']((_0x3bee6f,_0x1f5dd7)=>{_0x3d246b[_0x1f5dd7]=[];}),Object['entries'](_0x312d25[_0x123fd5(0x9f8)]||{})['forEach'](([_0x511e31,_0x4218a3])=>{const _0x35fc78=_0x123fd5;if(_0x4218a3['status']==='active'&&_0x4218a3[_0x35fc78(0x218)]!==undefined){const _0x169c60=_0x4218a3['lastAnswerIndex'];_0x3d246b[_0x169c60]&&(_0x3d246b[_0x169c60]['push'](_0x511e31),_0x52a9a4[_0x169c60]++);}});const _0x485c02=Math[_0x123fd5(0x526)](..._0x52a9a4,0x1),_0x5d2226=_0x123fd5(0x2a5)+(_0x467767[_0x123fd5(0x212)]||_0x467767[_0x123fd5(0xef8)])+_0x123fd5(0x24c)+_0x52a9a4[_0x123fd5(0xe07)]((_0x3679d1,_0x3cac2b)=>{const _0x2ff42c=_0x123fd5,_0x43779d=_0x3d246b[_0x3cac2b]['length']>0x0?_0x3d246b[_0x3cac2b][_0x2ff42c(0x885)](',\x20'):_0x2ff42c(0xefd);let _0x5e6649=![];if(_0x223e8d===_0x2ff42c(0x653))_0x5e6649=_0x3cac2b===_0x467767['correctAnswerIndex'];else{if(_0x223e8d===_0x2ff42c(0xcba)){const _0x5878e5=_0x467767[_0x2ff42c(0x68b)];_0x5e6649=_0x5878e5&&_0x3cac2b===0x0||!_0x5878e5&&_0x3cac2b===0x1;}else _0x223e8d==='matching_item'&&(_0x5e6649=_0xf9f943[_0x3cac2b]===_0x467767['correctResponse']);}const _0x5bcac6=_0x5e6649?'#26890c':_0x2ff42c(0x9e4);return _0x2ff42c(0x7a2)+_0x3679d1+_0x2ff42c(0xaaa)+_0x5bcac6+_0x2ff42c(0x81f)+_0x3cac2b+_0x2ff42c(0x7e4)+_0xf9f943[_0x3cac2b]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x3cac2b+_0x2ff42c(0x555)+_0x43779d+_0x2ff42c(0xc3f);})[_0x123fd5(0x885)]('')+_0x123fd5(0xe59);liveGameView[_0x123fd5(0x63b)]=_0x5d2226;if(window['MathJax'])MathJax['typesetPromise']();document['getElementById'](_0x123fd5(0xa5b))[_0x123fd5(0x7b7)](_0x123fd5(0x7a5),async()=>{const _0x2d7145=_0x123fd5,_0x4a423c=doc(db,_0x2d7145(0x884)+appId+_0x2d7145(0x7c2),currentLiveGameId);await updateDoc(_0x4a423c,{'questionStatus':_0x2d7145(0x5aa)});}),document['getElementById']('open-scratchpad-btn')[_0x123fd5(0x7b7)](_0x123fd5(0x7a5),()=>{openScratchpad(_0x467767,_0xf9f943);});}function showPlayerSummaryView(_0x2a899d,_0xa10da3){const _0x3246f2=_0x230ac1,_0x4d52bf=Object[_0x3246f2(0xdf2)](_0x2a899d[_0x3246f2(0x9f8)]||{}),_0x2e8a45=_0x2a899d[_0x3246f2(0x9f8)][_0xa10da3],_0x27911a=_0x4d52bf[_0x3246f2(0x320)](_0x159826=>_0x159826[_0x3246f2(0xc71)]===_0x3246f2(0xb0a))[_0x3246f2(0xa6f)]((_0x345fbe,_0x3d4b35)=>_0x3d4b35[_0x3246f2(0x6b9)]-_0x345fbe[_0x3246f2(0x6b9)]),_0x520f79=_0x27911a[_0x3246f2(0x7cd)](_0x244877=>_0x244877===_0x2e8a45)+0x1,_0x2bcd66=_0x2e8a45[_0x3246f2(0x638)]?_0x3246f2(0x809):_0x3246f2(0x68c),_0x401fde=_0x2e8a45[_0x3246f2(0x638)]?_0x3246f2(0xe7d):_0x3246f2(0xeba),_0x4d6a4c=_0x2e8a45['pointsLastQuestion']||0x0,_0x45e5b6=_0x3246f2(0xd59),_0x4091a3=_0x3246f2(0x435)+_0x45e5b6+_0x3246f2(0xe7f)+_0x401fde+_0x3246f2(0x533)+_0x2bcd66+_0x3246f2(0x793)+_0x4d6a4c+_0x3246f2(0xd74)+(_0x520f79>0x0?_0x520f79:'-')+_0x3246f2(0xca6);liveGameView['innerHTML']=_0x4091a3;}function createQuizFromBank(){const _0x2a31c2=_0x230ac1,_0x14537c=document[_0x2a31c2(0x8c8)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x14537c['length']===0x0){showMessage(_0x2a31c2(0x9a8));return;}const _0x36aa32=[];_0x14537c[_0x2a31c2(0xdec)](_0x18fa79=>{const _0x11eb00=_0x2a31c2;_0x36aa32[_0x11eb00(0xacf)](JSON[_0x11eb00(0x74f)](_0x18fa79[_0x11eb00(0xdd7)]));});const _0x2edc76={'topic':_0x2a31c2(0x245),'questions':_0x36aa32};displayGeneratedQuiz(_0x2edc76);}function showAdminLobbyView(_0x41b773,_0x4082f4){const _0x55ca0c=_0x230ac1;showView(_0x55ca0c(0xb32));const _0x14e487=_0x55ca0c(0x73f)+_0x4082f4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x41b773+_0x55ca0c(0xd38);liveGameView['innerHTML']=_0x14e487,document[_0x55ca0c(0x815)](_0x55ca0c(0x384))[_0x55ca0c(0x7b7)](_0x55ca0c(0x7a5),async()=>{const _0xea96da=_0x55ca0c;if(!currentQuizData||!currentQuizData[_0xea96da(0x746)]||currentQuizData[_0xea96da(0x746)]['length']===0x0){showMessage(_0xea96da(0x78d));return;}try{const _0x52e238=doc(db,_0xea96da(0x884)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x52e238,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4ca3b5=currentQuizData['questions'][0x0],_0x5f4152=currentQuizData[_0xea96da(0x746)][_0xea96da(0xe93)];showAdminLiveQuestionView(_0x4ca3b5,0x0,_0x5f4152);}catch(_0x180cc9){console[_0xea96da(0x1b6)](_0xea96da(0x387),_0x180cc9),showMessage(_0xea96da(0xc7e));}});}async function openQuizBankModal(){const _0x2425dc=_0x230ac1;if(allQuizzesGlobal[_0x2425dc(0xe93)]===0x0){const _0x3da320=await getDocs(collection(db,_0x2425dc(0x884)+appId+_0x2425dc(0x8a2)));allQuizzesGlobal=_0x3da320[_0x2425dc(0xcf8)][_0x2425dc(0xe07)](_0x16f44d=>({'id':_0x16f44d['id'],..._0x16f44d[_0x2425dc(0xdad)]()}));}renderQuizBankList(''),document[_0x2425dc(0x815)](_0x2425dc(0x98a))[_0x2425dc(0xeac)]['remove']('hidden');}function renderQuizBankList(_0x532b21='',_0x324adc=![]){const _0x370f89=_0x230ac1,_0x4fe8d0=document['getElementById'](_0x370f89(0x66a)),_0x26ea90=_0x532b21[_0x370f89(0xaec)]()[_0x370f89(0x99f)](),_0x3092f9=allQuizzesGlobal['map'](_0x3b37e6=>({..._0x3b37e6,'projectName':allProjects[_0x370f89(0x5eb)](_0x41cf4e=>_0x41cf4e['id']===_0x3b37e6[_0x370f89(0x791)])?.[_0x370f89(0x98b)]||_0x370f89(0x8df)}))[_0x370f89(0x320)](_0x288805=>(_0x288805['topic']||'')[_0x370f89(0xaec)]()[_0x370f89(0x8f3)](_0x26ea90)||(_0x288805['projectName']||'')[_0x370f89(0xaec)]()['includes'](_0x26ea90)||_0x288805['id'][_0x370f89(0xefe)]()[_0x370f89(0x8f3)](_0x26ea90));document['getElementById'](_0x370f89(0x4fc))[_0x370f89(0x587)]='('+_0x3092f9[_0x370f89(0xe93)]+_0x370f89(0x69b),_0x4fe8d0[_0x370f89(0x63b)]=_0x3092f9['length']?_0x3092f9[_0x370f89(0xe07)](_0xb4d39f=>{const _0x483b44=_0x370f89,_0x266b65=!_0x324adc?_0x483b44(0x407)+_0xb4d39f['id']+_0x483b44(0x818)+_0xb4d39f['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb4d39f['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb4d39f['id']+_0x483b44(0x364)+_0xb4d39f['id']+_0x483b44(0xdea)+_0xb4d39f['id']+_0x483b44(0xd72)+_0xb4d39f[_0x483b44(0xbdd)]+_0x483b44(0x9f9):'';return _0x483b44(0x240)+_0xb4d39f['id']+_0x483b44(0xaef)+(_0xb4d39f[_0x483b44(0xbdd)]||_0x483b44(0x93c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xb4d39f[_0x483b44(0x746)]?.[_0x483b44(0xe93)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0xb4d39f[_0x483b44(0x98b)]+_0x483b44(0x5dd)+_0xb4d39f['id']+_0x483b44(0x774)+_0x266b65+_0x483b44(0x8f0);})[_0x370f89(0x885)](''):_0x370f89(0x2b8),!_0x324adc&&(_0x4fe8d0['querySelectorAll'](_0x370f89(0x606))[_0x370f89(0xdec)](_0x326234=>{const _0x19cf7f=_0x370f89;_0x326234[_0x19cf7f(0x7b7)](_0x19cf7f(0x7a5),()=>{const _0x383580=_0x19cf7f,_0x555a66=_0x326234['dataset']['id'];document[_0x383580(0x815)](_0x383580(0x98a))[_0x383580(0xeac)][_0x383580(0x4db)](_0x383580(0xcc2)),showQuizDetailView(_0x555a66);});}),_0x4fe8d0[_0x370f89(0x8c8)](_0x370f89(0xa3c))[_0x370f89(0xdec)](_0x1f1350=>{const _0x444e20=_0x370f89;_0x1f1350[_0x444e20(0x7b7)]('click',_0xa5fd09=>{const _0x79dae4=_0x444e20;_0xa5fd09[_0x79dae4(0xe4a)]();const _0x463c14=_0x1f1350['dataset']['id'],_0x53431a=allQuizzesGlobal[_0x79dae4(0x5eb)](_0x4bfd53=>_0x4bfd53['id']===_0x463c14);_0x53431a?(currentQuizData=_0x53431a,document[_0x79dae4(0x815)](_0x79dae4(0x98a))['classList'][_0x79dae4(0x4db)](_0x79dae4(0xcc2)),startAdminTest()):showMessage(_0x79dae4(0x66e));});}),_0x4fe8d0[_0x370f89(0x8c8)](_0x370f89(0xc0d))[_0x370f89(0xdec)](_0x1cd549=>{const _0x5c7466=_0x370f89;_0x1cd549['addEventListener'](_0x5c7466(0x7a5),_0x11bebb=>{const _0x3bd833=_0x5c7466;_0x11bebb[_0x3bd833(0xe4a)]();const _0x24801c=_0x1cd549['dataset']['id'],_0x5d19bd=allQuizzesGlobal['find'](_0x4731a4=>_0x4731a4['id']===_0x24801c);_0x5d19bd?(document[_0x3bd833(0x815)]('quiz-bank-modal')[_0x3bd833(0xeac)]['add'](_0x3bd833(0xcc2)),handleGenerateParallelFromBank(_0x5d19bd)):showMessage(_0x3bd833(0x66e));});}),_0x4fe8d0[_0x370f89(0x8c8)](_0x370f89(0xe41))[_0x370f89(0xdec)](_0x7cfe78=>{const _0x119e10=_0x370f89;_0x7cfe78[_0x119e10(0x7b7)]('click',_0x124b5c=>{const _0x32bfd1=_0x119e10;_0x124b5c[_0x32bfd1(0xe4a)]();const _0x21d004=_0x7cfe78[_0x32bfd1(0x5ff)]['id'],_0x48b8b4=allQuizzesGlobal['find'](_0x2b5a3a=>_0x2b5a3a['id']===_0x21d004);_0x48b8b4?(document['getElementById'](_0x32bfd1(0x98a))[_0x32bfd1(0xeac)][_0x32bfd1(0x4db)](_0x32bfd1(0xcc2)),startPresentation(_0x48b8b4)):showMessage(_0x32bfd1(0x66e));});}),_0x4fe8d0[_0x370f89(0x8c8)](_0x370f89(0x74d))[_0x370f89(0xdec)](_0x364c4d=>{const _0x48648e=_0x370f89;_0x364c4d['addEventListener'](_0x48648e(0x7a5),_0x5b3604=>{const _0x3043bd=_0x48648e;_0x5b3604['stopPropagation']();const _0x14e4b6=_0x364c4d[_0x3043bd(0x5ff)]['id'];document[_0x3043bd(0x815)](_0x3043bd(0x98a))[_0x3043bd(0xeac)][_0x3043bd(0x4db)](_0x3043bd(0xcc2)),handleMoveQuiz(_0x14e4b6);});}),_0x4fe8d0[_0x370f89(0x8c8)]('.quiz-bank-settings-btn')[_0x370f89(0xdec)](_0x44330d=>{const _0x56f47e=_0x370f89;_0x44330d[_0x56f47e(0x7b7)](_0x56f47e(0x7a5),_0x44024c=>{const _0x546580=_0x56f47e;_0x44024c[_0x546580(0xe4a)]();const _0x4659e7=_0x44330d[_0x546580(0x5ff)]['id'];document['getElementById'](_0x546580(0x98a))[_0x546580(0xeac)][_0x546580(0x4db)](_0x546580(0xcc2)),handleQuizSettings(_0x4659e7);});}),_0x4fe8d0[_0x370f89(0x8c8)]('.quiz-bank-delete-btn')[_0x370f89(0xdec)](_0x53ef50=>{const _0x176e6e=_0x370f89;_0x53ef50[_0x176e6e(0x7b7)](_0x176e6e(0x7a5),_0xe462b7=>{const _0x254232=_0x176e6e;_0xe462b7[_0x254232(0xe4a)]();const _0x4cb29e=_0x53ef50[_0x254232(0x5ff)]['id'],_0x404e52=_0x53ef50[_0x254232(0x5ff)][_0x254232(0xbdd)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x404e52+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x4cb29e));});}));}async function handleCompareResults(_0x335b68,_0x3b0d1a){const _0x263afe=_0x230ac1,_0x6ee3dc=document[_0x263afe(0x815)]('comparison-modal'),_0x4604f8=document['getElementById'](_0x263afe(0x51d)),_0x1fc8b9=document['getElementById'](_0x263afe(0xf08));document[_0x263afe(0x815)](_0x263afe(0xc77))['classList'][_0x263afe(0x4db)](_0x263afe(0xb0a)),document['getElementById'](_0x263afe(0xc44))[_0x263afe(0xeac)]['remove'](_0x263afe(0xb0a)),_0x4604f8[_0x263afe(0xeac)][_0x263afe(0xb0b)](_0x263afe(0xcc2)),_0x1fc8b9['classList'][_0x263afe(0x4db)](_0x263afe(0xcc2)),_0x4604f8[_0x263afe(0x63b)]=_0x263afe(0x4b8),_0x1fc8b9['innerHTML']='',_0x6ee3dc['classList'][_0x263afe(0xb0b)]('hidden');try{const _0x1cb6e3=doc(db,_0x263afe(0x884)+appId+_0x263afe(0x8a2),_0x335b68),_0x5bcc39=await getDoc(_0x1cb6e3);if(!_0x5bcc39[_0x263afe(0x939)]())throw new Error(_0x263afe(0x1f3));const _0x168fb3=_0x5bcc39[_0x263afe(0xdad)](),_0x57d7e8=_0x168fb3['questions'][_0x263afe(0xe93)],_0x591d01=collection(db,_0x263afe(0x884)+appId+_0x263afe(0xa60)+_0x3b0d1a+_0x263afe(0xb77)),_0xeb682e=collection(db,'artifacts/'+appId+_0x263afe(0xa60)+_0x335b68+'/submissions'),[_0x5249e5,_0x3c439b]=await Promise[_0x263afe(0x4ad)]([getDocs(_0x591d01),getDocs(_0xeb682e)]),_0x3b5336=_0x5249e5[_0x263afe(0xcf8)][_0x263afe(0xe07)](_0x4f4c9a=>_0x4f4c9a[_0x263afe(0xdad)]()),_0x4944f6=_0x3c439b[_0x263afe(0xcf8)][_0x263afe(0xe07)](_0x1cfd42=>_0x1cfd42[_0x263afe(0xdad)]()),_0x32c1b1=_0x3b5336[_0x263afe(0xe07)](_0x38a914=>_0x38a914[_0x263afe(0xcd5)]),_0x416465=_0x4944f6['map'](_0x31f245=>_0x31f245[_0x263afe(0xcd5)]),_0xe2cfb3=calculateMeanAndStdDev(_0x32c1b1),_0x296d95=calculateMeanAndStdDev(_0x416465),_0x2c1df0=_0xe2cfb3[_0x263afe(0x305)],_0x59d760=_0x296d95[_0x263afe(0x305)],_0x19da77=_0x59d760-_0x2c1df0;let _0x2f369=_0x263afe(0x864)+_0x2c1df0['toFixed'](0x2)+_0x263afe(0xb01)+_0x59d760['toFixed'](0x2)+_0x263afe(0xbbe)+(_0x19da77>=0x0?_0x263afe(0x23e):_0x263afe(0x1de))+_0x263afe(0xaa6)+(_0x19da77>=0x0?_0x263afe(0x580):_0x263afe(0x709))+_0x263afe(0xe7e)+(_0x19da77>=0x0?_0x263afe(0x70c):_0x263afe(0x3c3))+'\x22>'+(_0x19da77>=0x0?'+':'')+_0x19da77[_0x263afe(0x422)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x4604f8[_0x263afe(0x63b)]=_0x2f369;const _0x4c8515=document['getElementById']('comparison-chart')[_0x263afe(0xf18)]('2d');if(chartInstances[_0x263afe(0x39b)])chartInstances[_0x263afe(0x39b)][_0x263afe(0x801)]();chartInstances['comparison']=new Chart(_0x4c8515,{'type':_0x263afe(0x714),'data':{'labels':[_0x263afe(0xc67)],'datasets':[{'label':'ก่อนเรียน','data':[_0x2c1df0],'backgroundColor':_0x263afe(0xc8d)},{'label':_0x263afe(0x65f),'data':[_0x59d760],'backgroundColor':_0x263afe(0x7ca)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x57d7e8}}}});const _0x2407ef=currentProjectData[_0x263afe(0xa2f)]||[],_0x6f64af=_0x2407ef[_0x263afe(0xe07)](_0x1e957e=>{const _0x36c8a7=_0x263afe,_0x5cabe5=_0x3b5336[_0x36c8a7(0x5eb)](_0x1025b9=>_0x1025b9[_0x36c8a7(0x455)]===_0x1e957e),_0x568a1f=_0x4944f6['find'](_0x46cc5d=>_0x46cc5d['studentName']===_0x1e957e),_0x539cc3=_0x5cabe5?_0x5cabe5[_0x36c8a7(0xcd5)]:null,_0x4c1b4b=_0x568a1f?_0x568a1f[_0x36c8a7(0xcd5)]:null,_0x5a7607=_0x539cc3!==null&&_0x4c1b4b!==null?_0x4c1b4b-_0x539cc3:null,_0x1aca2a=_0x539cc3!==null?calculateZScore(_0x539cc3,_0xe2cfb3[_0x36c8a7(0x305)],_0xe2cfb3[_0x36c8a7(0x3eb)]):null,_0x44942a=_0x4c1b4b!==null?calculateZScore(_0x4c1b4b,_0x296d95[_0x36c8a7(0x305)],_0x296d95['stdDev']):null,_0x4176a7=_0x1aca2a!==null?calculateTScore(_0x1aca2a):null,_0x4553f9=_0x44942a!==null?calculateTScore(_0x44942a):null,_0x2acd6b=_0x4176a7!==null&&_0x4553f9!==null?_0x4553f9-_0x4176a7:null;return{'name':_0x1e957e,'preScore':_0x539cc3,'postScore':_0x4c1b4b,'gain':_0x5a7607,'preTScore':_0x4176a7,'postTScore':_0x4553f9,'tGain':_0x2acd6b};});renderIndividualComparisonTable(_0x6f64af,_0x1fc8b9);}catch(_0x5daf32){console['error'](_0x263afe(0x4d2),_0x5daf32),_0x4604f8[_0x263afe(0x63b)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x5ebb80=_0x230ac1;if(!extractedBlueprintData||!extractedBlueprintData[_0x5ebb80(0x66d)]){showMessage(_0x5ebb80(0x453));return;}const _0x2c039a=prompt(_0x5ebb80(0x765),'Blueprint\x20O-NET\x20ป.6');if(!_0x2c039a||_0x2c039a[_0x5ebb80(0x99f)]()==='')return;const _0x53143a={};extractedBlueprintData[_0x5ebb80(0x66d)][_0x5ebb80(0xdec)](_0x2d2f85=>{const _0x458820=_0x5ebb80;_0x2d2f85[_0x458820(0xd82)]['forEach'](_0x4e0c20=>{const _0x48e495=_0x458820;_0x4e0c20['subTopics'][_0x48e495(0xdec)](_0x97836=>{const _0x14092c=_0x48e495,_0x367a96='topic_'+Date[_0x14092c(0x7be)]()+Math[_0x14092c(0x88b)]()['toString'](0x24)[_0x14092c(0xcb6)](0x2,0x9);_0x53143a[_0x367a96]={'sara':_0x2d2f85[_0x14092c(0xe0b)],'mainTopic':_0x4e0c20[_0x14092c(0xb63)],'subTopic':_0x97836,'status':_0x14092c(0x516),'lessonContent':null};});});});try{const _0x35ee06=collection(db,_0x5ebb80(0x884)+appId+_0x5ebb80(0x689));await addDoc(_0x35ee06,{'projectName':_0x2c039a[_0x5ebb80(0x99f)](),'gradeLevel':extractedBlueprintData[_0x5ebb80(0xf25)],'topics':_0x53143a,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x2c039a[_0x5ebb80(0x99f)]()+_0x5ebb80(0xd1f)),document['getElementById'](_0x5ebb80(0x6ef))[_0x5ebb80(0xeac)][_0x5ebb80(0x4db)](_0x5ebb80(0xcc2));}catch(_0x192675){console[_0x5ebb80(0x1b6)](_0x5ebb80(0x5db),_0x192675),showMessage(_0x5ebb80(0x2bb));}}async function showBlueprintProjects(){const _0x53365c=_0x230ac1,_0x539efc=document[_0x53365c(0x815)]('blueprint-projects-modal'),_0x4a7849=document['getElementById'](_0x53365c(0xd67));_0x4a7849[_0x53365c(0x63b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x539efc[_0x53365c(0xeac)][_0x53365c(0xb0b)](_0x53365c(0xcc2));try{const _0x488d51=collection(db,_0x53365c(0x884)+appId+_0x53365c(0x689)),_0x5843f6=await getDocs(_0x488d51);if(_0x5843f6[_0x53365c(0x58b)]){_0x4a7849['innerHTML']=_0x53365c(0x3ff);return;}const _0x47eb5b=_0x5843f6['docs']['map'](_0x5b2e00=>({'id':_0x5b2e00['id'],..._0x5b2e00[_0x53365c(0xdad)]()}));_0x47eb5b[_0x53365c(0xa6f)]((_0x114d85,_0x2d1502)=>_0x114d85[_0x53365c(0x98b)][_0x53365c(0xdc1)](_0x2d1502[_0x53365c(0x98b)],'th')),_0x4a7849[_0x53365c(0x63b)]=_0x47eb5b['map'](_0x9537c2=>_0x53365c(0x440)+_0x9537c2['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x9537c2[_0x53365c(0xf25)]+_0x53365c(0x5c8)+Object['keys'](_0x9537c2['topics'])[_0x53365c(0xe93)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9537c2['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9537c2['id']+_0x53365c(0x215))[_0x53365c(0x885)]('');}catch(_0x97a16){console[_0x53365c(0x1b6)](_0x53365c(0x5a0),_0x97a16),_0x4a7849[_0x53365c(0x63b)]=_0x53365c(0x39d);}}async function displayBlueprintProjectManager(_0xb87ec){const _0xce0fd7=_0x230ac1;currentBlueprintProjectId=_0xb87ec,document[_0xce0fd7(0x815)]('blueprint-projects-modal')[_0xce0fd7(0xeac)][_0xce0fd7(0x4db)]('hidden'),showView(_0xce0fd7(0x9d2)),projectDashboardView[_0xce0fd7(0xeac)][_0xce0fd7(0x4db)](_0xce0fd7(0xcc2));const _0x3f21d6=document[_0xce0fd7(0x815)](_0xce0fd7(0x439));_0x3f21d6[_0xce0fd7(0xeac)][_0xce0fd7(0xb0b)](_0xce0fd7(0xcc2)),document[_0xce0fd7(0x815)](_0xce0fd7(0x7d6))[_0xce0fd7(0x63b)]=_0xce0fd7(0x4b8);try{const _0x22c639=doc(db,_0xce0fd7(0x884)+appId+_0xce0fd7(0x689),_0xb87ec),_0x9220ab=await getDoc(_0x22c639);if(!_0x9220ab[_0xce0fd7(0x939)]())throw new Error(_0xce0fd7(0x49a));const _0x581a5f={'id':_0x9220ab['id'],..._0x9220ab['data']()};document[_0xce0fd7(0x815)](_0xce0fd7(0x96a))['textContent']=_0x581a5f[_0xce0fd7(0x98b)],document[_0xce0fd7(0x815)](_0xce0fd7(0x758))[_0xce0fd7(0xdd7)]=_0x581a5f['referenceFileUrl']||'',renderBlueprintTopicManager(_0x581a5f);}catch(_0x256718){console[_0xce0fd7(0x1b6)](_0xce0fd7(0xc2b),_0x256718),showMessage(_0x256718[_0xce0fd7(0xb95)]),showView(_0xce0fd7(0x9d2));}}function renderBlueprintTopicManager(_0x2b336a){const _0x37349a=_0x230ac1,_0x52b0b6=document[_0x37349a(0x815)](_0x37349a(0x7d6)),_0x85d8b0=_0x2b336a[_0x37349a(0xccf)]||{};if(Object[_0x37349a(0x251)](_0x85d8b0)[_0x37349a(0xe93)]===0x0){_0x52b0b6['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x519c4f=Object['entries'](_0x85d8b0)[_0x37349a(0xe07)](([_0xd76de5,_0x244fed])=>({'id':_0xd76de5,..._0x244fed}))['sort']((_0x2bed49,_0x5c1e1e)=>(_0x2bed49['order']??Infinity)-(_0x5c1e1e[_0x37349a(0x41c)]??Infinity)),_0x309d74={};_0x519c4f[_0x37349a(0xdec)](_0x181537=>{const _0x3ff94e=_0x37349a,{sara:_0x1c1f8e,mainTopic:_0x473cc2}=_0x181537;!_0x309d74[_0x1c1f8e]&&(_0x309d74[_0x1c1f8e]={}),!_0x309d74[_0x1c1f8e][_0x473cc2]&&(_0x309d74[_0x1c1f8e][_0x473cc2]=[]),_0x309d74[_0x1c1f8e][_0x473cc2][_0x3ff94e(0xacf)](_0x181537);});let _0x444860='';for(const _0x201b63 in _0x309d74){_0x444860+=_0x37349a(0x523)+_0x201b63+_0x37349a(0x4a5);for(const _0x4a26a4 in _0x309d74[_0x201b63]){_0x444860+=_0x37349a(0x42f)+_0x4a26a4+_0x37349a(0xd84),_0x309d74[_0x201b63][_0x4a26a4][_0x37349a(0xdec)](_0x15c95e=>{const _0x59426a=_0x37349a,_0x1defa2=_0x15c95e['id'],_0x30d05f=_0x15c95e[_0x59426a(0x99a)]||[],_0x171a7f=_0x30d05f[_0x59426a(0xe93)]>0x0,_0x567b11=_0x15c95e[_0x59426a(0xc71)]===_0x59426a(0xd1c);let _0x56d5e9='';_0x171a7f?_0x56d5e9='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x30d05f['length']+_0x59426a(0xcdb):_0x56d5e9=_0x59426a(0x58c)+(_0x567b11?_0x59426a(0xd20):_0x59426a(0x1bb))+'\x22>'+(_0x567b11?_0x59426a(0x296):_0x59426a(0x259))+_0x59426a(0x3af);const _0x22a9b9=!_0x567b11?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x2adc2d=!_0x567b11?'กรุณาสร้างบทเรียนก่อน':'';let _0x112747=_0x567b11?_0x59426a(0xa11):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x444860+=_0x59426a(0x380)+_0x1defa2+_0x59426a(0x2ef)+_0x15c95e[_0x59426a(0x1e3)]+_0x59426a(0xa2a)+_0x56d5e9+_0x59426a(0xf04)+_0x22a9b9+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x2adc2d+_0x59426a(0x2da)+_0x112747+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x444860+=_0x37349a(0xebd);}_0x444860+='</div>';}_0x52b0b6[_0x37349a(0x63b)]=_0x444860;}async function handleDeepDeleteBlueprintProject(_0x10ece9){const _0x265471=_0x230ac1,_0x49b86e=doc(db,_0x265471(0x884)+appId+_0x265471(0x689),_0x10ece9),_0x23923d=await getDoc(_0x49b86e);if(!_0x23923d['exists']()){showMessage(_0x265471(0xbb5));return;}const _0x1950c7=_0x23923d[_0x265471(0xdad)]()['projectName'];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x1950c7+_0x265471(0x4ea),async()=>{const _0x5f258f=_0x265471;showMessage(_0x5f258f(0xc16));try{const _0x4a92c1=writeBatch(db),_0x49d4ff=_0x23923d[_0x5f258f(0xdad)](),_0x57b706=_0x49d4ff[_0x5f258f(0xccf)]||{};for(const _0x3f5683 in _0x57b706){const _0x4f754f=doc(db,_0x5f258f(0x884)+appId+_0x5f258f(0xa3d)+_0x10ece9+_0x5f258f(0xa42),_0x3f5683);_0x4a92c1[_0x5f258f(0x35d)](_0x4f754f);}const _0x330dd2=new Set();for(const _0x4791ea in _0x57b706){_0x57b706[_0x4791ea][_0x5f258f(0x99a)]&&_0x57b706[_0x4791ea][_0x5f258f(0x99a)][_0x5f258f(0xdec)](_0x192d89=>_0x330dd2[_0x5f258f(0x4db)](_0x192d89));}for(const _0x522abe of _0x330dd2){await handleDeleteQuiz(_0x522abe,![]);}_0x4a92c1[_0x5f258f(0x35d)](_0x49b86e),await _0x4a92c1[_0x5f258f(0x944)](),showMessage(_0x5f258f(0x7cb)+_0x1950c7+_0x5f258f(0xe19)),showBlueprintProjects();}catch(_0x29a664){console[_0x5f258f(0x1b6)](_0x5f258f(0xcc1),_0x29a664),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x3f483c){const _0x39df90=_0x230ac1,_0x1c409b=document['getElementById']('topic-quiz-bank-modal'),_0x38bf03=document[_0x39df90(0x815)]('topic-bank-list'),_0x37a8ab=document[_0x39df90(0x815)](_0x39df90(0xeeb));try{await ensureGlobalQuizzesLoaded();const _0x4311ab=doc(db,'artifacts/'+appId+_0x39df90(0x689),currentBlueprintProjectId),_0x237756=await getDoc(_0x4311ab);if(!_0x237756['exists']())return;const _0x2c3bf2=_0x237756[_0x39df90(0xdad)](),_0x498e61=_0x2c3bf2[_0x39df90(0xccf)][_0x3f483c];document[_0x39df90(0x815)](_0x39df90(0x6a3))['textContent']=_0x498e61[_0x39df90(0x1e3)];const _0x3a6138=_0x498e61[_0x39df90(0x99a)]||[];_0x37a8ab[_0x39df90(0xeac)][_0x39df90(0x334)](_0x39df90(0xcc2),_0x3a6138[_0x39df90(0xe93)]===0x0),_0x37a8ab[_0x39df90(0x7c5)]=()=>handleClearAllLinksForTopic(_0x3f483c);if(_0x3a6138[_0x39df90(0xe93)]===0x0)_0x38bf03['innerHTML']=_0x39df90(0x480);else{const _0x171b5a=allQuizzesGlobal[_0x39df90(0x320)](_0x2b5ba1=>_0x3a6138[_0x39df90(0x8f3)](_0x2b5ba1['id']));_0x38bf03[_0x39df90(0x63b)]=_0x171b5a[_0x39df90(0xe07)](_0x2a028e=>_0x39df90(0xacc)+_0x2a028e['id']+_0x39df90(0x2ab)+_0x2a028e[_0x39df90(0xbdd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x2a028e['id']+_0x39df90(0x5c8)+_0x2a028e[_0x39df90(0x746)][_0x39df90(0xe93)]+_0x39df90(0xcd1)+_0x2a028e['id']+_0x39df90(0xc01)+_0x2a028e['id']+_0x39df90(0xe60)+_0x2a028e['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x2a028e['id']+_0x39df90(0x83c)+_0x3f483c+_0x39df90(0x24a)+_0x2a028e['id']+_0x39df90(0x8d7))[_0x39df90(0x885)]('');}document['getElementById'](_0x39df90(0x395))[_0x39df90(0x7c5)]=()=>{openQuizSelectorForBlueprint(_0x3f483c);},document['getElementById'](_0x39df90(0x57c))[_0x39df90(0x7c5)]=()=>_0x1c409b[_0x39df90(0xeac)]['add'](_0x39df90(0xcc2)),_0x1c409b[_0x39df90(0xeac)]['remove'](_0x39df90(0xcc2));}catch(_0x421647){showMessage(_0x421647['message']);}}async function openQuizSelectorForBlueprint(_0x16555f){const _0x2cdf91=_0x230ac1,_0x5e800f=document['getElementById'](_0x2cdf91(0x98a)),_0x288dea=document[_0x2cdf91(0x815)](_0x2cdf91(0x300));_0x288dea[_0x2cdf91(0xeac)]['add'](_0x2cdf91(0xcc2)),document[_0x2cdf91(0x815)](_0x2cdf91(0x492))?.[_0x2cdf91(0xb0b)]();const _0x40ae70=document[_0x2cdf91(0xbdf)](_0x2cdf91(0xb99));_0x40ae70['id']=_0x2cdf91(0x492),_0x40ae70['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x40ae70[_0x2cdf91(0x587)]=_0x2cdf91(0x563),_0x40ae70['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x5e800f[_0x2cdf91(0xeac)]['remove'](_0x2cdf91(0xcc2)),renderQuizBankListForMultiSelect(''),document[_0x2cdf91(0x815)]('bulk-quiz-settings-btn')[_0x2cdf91(0x205)][_0x2cdf91(0xdd3)]='none',_0x5e800f['querySelector'](_0x2cdf91(0x417))[_0x2cdf91(0x2f2)](_0x40ae70);const _0x85a8fe=(_0x4e1f0a=![])=>{const _0x245392=_0x2cdf91;_0x5e800f[_0x245392(0xeac)]['add'](_0x245392(0xcc2)),document[_0x245392(0x815)](_0x245392(0x43d))[_0x245392(0x205)][_0x245392(0xdd3)]=_0x245392(0x91d),_0x40ae70['remove'](),_0x4e1f0a&&openTopicQuizBank(_0x16555f);};_0x40ae70['onclick']=async()=>{const _0x4a206c=_0x2cdf91,_0x2104b9=Array[_0x4a206c(0x488)](document['querySelectorAll'](_0x4a206c(0x485)))['map'](_0x5552c5=>_0x5552c5[_0x4a206c(0xdd7)]);if(_0x2104b9[_0x4a206c(0xe93)]===0x0)return;try{const _0x4851af=doc(db,_0x4a206c(0x884)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x52ae20=(await getDoc(_0x4851af))[_0x4a206c(0xdad)](),_0x5761c9=_0x52ae20[_0x4a206c(0xccf)][_0x16555f][_0x4a206c(0x99a)]||[],_0x34fedf=[...new Set([..._0x5761c9,..._0x2104b9])];await updateDoc(_0x4851af,{[_0x4a206c(0xa7c)+_0x16555f+_0x4a206c(0xa32)]:_0x34fedf}),showMessage('เพิ่ม\x20'+_0x2104b9[_0x4a206c(0xe93)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x85a8fe(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x402545){console[_0x4a206c(0x1b6)]('Error\x20linking\x20quizzes:',_0x402545);}},document[_0x2cdf91(0x815)](_0x2cdf91(0xecb))[_0x2cdf91(0x7c5)]=()=>_0x85a8fe(!![]);}catch(_0xcba9e6){showMessage(_0xcba9e6[_0x2cdf91(0xb95)]),_0x288dea['classList']['remove'](_0x2cdf91(0xcc2));}}function handleClearLinkedQuiz(_0x46bb5f){const _0x21a7e6=_0x230ac1;showConfirmation(_0x21a7e6(0x5b2),async()=>{const _0x1e607e=_0x21a7e6;try{const _0x32f39a=doc(db,'artifacts/'+appId+_0x1e607e(0x689),currentBlueprintProjectId);await updateDoc(_0x32f39a,{['topics.'+_0x46bb5f+_0x1e607e(0x44f)]:deleteField()}),showMessage(_0x1e607e(0xe55)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a849b){console[_0x1e607e(0x1b6)]('Error\x20clearing\x20linked\x20quiz:',_0x2a849b),showMessage(_0x1e607e(0xab0));}});}async function addTopicToProject(){const _0x4bd1bc=_0x230ac1,_0x3043e0=prompt(_0x4bd1bc(0xa71));if(!_0x3043e0||_0x3043e0[_0x4bd1bc(0x99f)]()==='')return;const _0x3ab23a=prompt(_0x4bd1bc(0x5bc),_0x4bd1bc(0x476)),_0xf052e1=prompt(_0x4bd1bc(0x282),'หัวข้อหลักใหม่'),_0x5035f9=_0x4bd1bc(0xcd7)+Date[_0x4bd1bc(0x7be)]()+Math[_0x4bd1bc(0x88b)]()['toString'](0x24)[_0x4bd1bc(0xcb6)](0x2,0x9),_0x5ee20c={'sara':_0x3ab23a,'mainTopic':_0xf052e1,'subTopic':_0x3043e0[_0x4bd1bc(0x99f)](),'status':_0x4bd1bc(0x516),'lessonContent':null};try{const _0x4f52f3=doc(db,_0x4bd1bc(0x884)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4f52f3,{['topics.'+_0x5035f9]:_0x5ee20c}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x54e587){console['error'](_0x4bd1bc(0xe5b),_0x54e587),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}function _0x1143(_0x38bfa0,_0x1d66ca){const _0x2b6ed5=_0x2b6e();return _0x1143=function(_0x114398,_0x232058){_0x114398=_0x114398-0x1ac;let _0x3d3381=_0x2b6ed5[_0x114398];return _0x3d3381;},_0x1143(_0x38bfa0,_0x1d66ca);}async function editTopicInProject(_0x15304f){const _0xed68f3=_0x230ac1,_0x3422be=document['querySelector'](_0xed68f3(0xc6f)+_0x15304f+'\x22]'),_0x337d82=_0x3422be[_0xed68f3(0xd27)](_0xed68f3(0x5b7)),_0x2aa4ba=_0x337d82[_0xed68f3(0x587)],_0x10f593=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2aa4ba);if(!_0x10f593||_0x10f593[_0xed68f3(0x99f)]()===''||_0x10f593[_0xed68f3(0x99f)]()===_0x2aa4ba)return;try{const _0x3b58c3=doc(db,'artifacts/'+appId+_0xed68f3(0x689),currentBlueprintProjectId);await updateDoc(_0x3b58c3,{[_0xed68f3(0xa7c)+_0x15304f+_0xed68f3(0xd9e)]:_0x10f593['trim']()}),_0x337d82[_0xed68f3(0x587)]=_0x10f593[_0xed68f3(0x99f)](),showMessage(_0xed68f3(0x203));}catch(_0x3d8444){console['error'](_0xed68f3(0x55e),_0x3d8444),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x4e712b){const _0xcb3b2a=_0x230ac1;if(!confirm(_0xcb3b2a(0x256)))return;try{const _0x535a7b=doc(db,_0xcb3b2a(0x884)+appId+_0xcb3b2a(0x689),currentBlueprintProjectId);await updateDoc(_0x535a7b,{[_0xcb3b2a(0xa7c)+_0x4e712b]:deleteField()}),document[_0xcb3b2a(0xd27)](_0xcb3b2a(0xc6f)+_0x4e712b+'\x22]')[_0xcb3b2a(0xb0b)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x2dd311){console['error'](_0xcb3b2a(0x500),_0x2dd311),showMessage(_0xcb3b2a(0xf11));}}async function generateAndSaveLessonForBlueprint(_0x22fffd,_0x148f83,_0x22c9dd){handleGenerateAndShowLesson(_0x148f83,_0x22c9dd);const _0x14eb48=setInterval(async()=>{const _0x5b4fb0=_0x1143,_0x47ce07=document[_0x5b4fb0(0x815)](_0x5b4fb0(0x2de)),_0x258e39=_0x47ce07['classList'][_0x5b4fb0(0x65d)](_0x5b4fb0(0xcc2));if(_0x258e39){clearInterval(_0x14eb48);if(currentApplicationData&&currentApplicationData[_0x5b4fb0(0xe93)]>0x0){const _0x4bef04={'point':document[_0x5b4fb0(0x815)]('pointContent')[_0x5b4fb0(0x63b)],'memory':document[_0x5b4fb0(0x815)](_0x5b4fb0(0x745))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x5b4fb0(0xe3a))['innerHTML']};try{const _0x1cd94a=doc(db,_0x5b4fb0(0x884)+appId+_0x5b4fb0(0x689),currentBlueprintProjectId),_0x4b7d5f=doc(db,'artifacts/'+appId+_0x5b4fb0(0xa3d)+currentBlueprintProjectId+'/lessons',_0x22fffd),_0x20698b=writeBatch(db);_0x20698b[_0x5b4fb0(0xb1f)](_0x4b7d5f,{'content':_0x4bef04}),_0x20698b[_0x5b4fb0(0x482)](_0x1cd94a,{['topics.'+_0x22fffd+_0x5b4fb0(0xb53)]:'generated'}),await _0x20698b[_0x5b4fb0(0x944)](),console['log'](_0x5b4fb0(0x76c)+_0x22fffd+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4deb4a){console[_0x5b4fb0(0x1b6)](_0x5b4fb0(0x790),_0x4deb4a);}}}},0x3e8);}function displayHalfMarkResult(_0x2c19c6,_0x215997){const _0x1c706e=_0x230ac1,_0x978271=_0x2c19c6>=_0x215997/0x2,_0x460103=_0x978271?_0x1c706e(0x34f):_0x1c706e(0x1de),_0x326af8=_0x978271?_0x1c706e(0x725):_0x1c706e(0x90a),_0x4033e3=_0x978271?_0x1c706e(0x965):'text-red-800',_0x3a496b=_0x978271?'ทำคะแนนได้เกินครึ่ง':_0x1c706e(0xe5a),_0x3eb1d8=_0x978271?_0x1c706e(0x9f3):_0x1c706e(0xb4c);let _0x509753=_0x1c706e(0x44a)+_0x460103+_0x1c706e(0x670)+_0x326af8+_0x1c706e(0x50d)+_0x4033e3+_0x1c706e(0xa1c)+_0x3a496b+_0x1c706e(0xed9)+_0x3eb1d8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1c706e(0x63b)]=_0x509753,studentResultArea[_0x1c706e(0xeac)][_0x1c706e(0xb0b)](_0x1c706e(0xcc2)),studentQuizArea['classList'][_0x1c706e(0x4db)](_0x1c706e(0xcc2)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x978271});}function displayPerfectScoreResult(_0x2f1422,_0x59df27){const _0xe4a6c8=_0x230ac1,_0x54645c=_0x2f1422===_0x59df27,_0x29bcd=_0x54645c?_0xe4a6c8(0x275):'bg-blue-100',_0x3be0e5=_0x54645c?_0xe4a6c8(0x27f):_0xe4a6c8(0x888),_0x645279=_0x54645c?_0xe4a6c8(0xa01):'text-blue-800',_0xa2f1c5=_0x54645c?_0xe4a6c8(0x7f6):'ยังไม่เต็มนะ',_0x5eb30c=_0x54645c?_0xe4a6c8(0x59b):_0xe4a6c8(0xda7);let _0x440249=_0xe4a6c8(0x44a)+_0x29bcd+_0xe4a6c8(0x670)+_0x3be0e5+_0xe4a6c8(0x50d)+_0x645279+_0xe4a6c8(0xa1c)+_0xa2f1c5+_0xe4a6c8(0xed9)+_0x5eb30c+_0xe4a6c8(0x9ba);studentResultArea[_0xe4a6c8(0x63b)]=_0x440249,studentResultArea[_0xe4a6c8(0xeac)][_0xe4a6c8(0xb0b)](_0xe4a6c8(0xcc2)),studentQuizArea['classList'][_0xe4a6c8(0x4db)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2f1422,'totalQuestions':_0x59df27});}function renderIndividualComparisonTable(_0x53c2d2,_0x39db72){const _0xc749b1=_0x230ac1;_0x53c2d2[_0xc749b1(0xa6f)]((_0x3e67d2,_0x56b9e8)=>(_0x56b9e8['tGain']??-Infinity)-(_0x3e67d2['tGain']??-Infinity));let _0x23c34e=_0xc749b1(0x9ea);_0x53c2d2[_0xc749b1(0xe93)]===0x0?_0x23c34e+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x53c2d2[_0xc749b1(0xdec)]((_0x17fa1f,_0x317b50)=>{const _0x33a468=_0xc749b1;let _0x100805='-',_0x4979a3='';if(_0x17fa1f[_0x33a468(0x692)]!==null){const _0x39e247=_0x17fa1f['gain']>0x0?_0x33a468(0x43e):_0x17fa1f[_0x33a468(0x692)]<0x0?_0x33a468(0x850):_0x33a468(0x65b),_0x1e995f=_0x17fa1f[_0x33a468(0x692)]>0x0?'+':'';_0x100805=_0x33a468(0xc78)+_0x39e247+'\x22>'+_0x1e995f+_0x17fa1f['gain']+_0x33a468(0x3af);if(_0x17fa1f[_0x33a468(0x692)]>0x0)_0x4979a3=_0x33a468(0x9d8);else _0x17fa1f[_0x33a468(0x692)]<0x0?_0x4979a3=_0x33a468(0x668):_0x4979a3='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x36999f='-';if(_0x17fa1f['tGain']!==null){const _0x1d5915=_0x17fa1f[_0x33a468(0xaf4)]>0x0?_0x33a468(0x43e):_0x17fa1f[_0x33a468(0xaf4)]<0x0?_0x33a468(0x850):_0x33a468(0x65b),_0x2db359=_0x17fa1f[_0x33a468(0xaf4)]>0x0?'+':'';_0x36999f=_0x33a468(0xc78)+_0x1d5915+'\x22>'+_0x2db359+_0x17fa1f['tGain'][_0x33a468(0x422)](0x2)+_0x33a468(0x3af);}_0x23c34e+=_0x33a468(0x551)+(_0x317b50+0x1)+_0x33a468(0xb9a)+_0x17fa1f[_0x33a468(0xcc9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x17fa1f[_0x33a468(0x721)]??'-')+_0x33a468(0xe91)+(_0x17fa1f[_0x33a468(0x5de)]??'-')+_0x33a468(0xe16)+_0x100805+_0x33a468(0x7ae)+_0x4979a3+_0x33a468(0x39f)+(_0x17fa1f[_0x33a468(0x27a)]?.[_0x33a468(0x422)](0x2)??'-')+_0x33a468(0x6a8)+(_0x17fa1f[_0x33a468(0xc0b)]?.[_0x33a468(0x422)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x36999f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x23c34e+='</tbody></table></div>',_0x39db72[_0xc749b1(0x63b)]=_0x23c34e;}function handleRenameQuiz(_0x28cece,_0x14fd4c){const _0x53811b=_0x230ac1;actionTargetId=_0x28cece,document[_0x53811b(0x815)]('rename-quiz-input')[_0x53811b(0xdd7)]=_0x14fd4c,renameQuizModal[_0x53811b(0xeac)][_0x53811b(0xb0b)](_0x53811b(0xcc2));}function setupComparisonModalTabs(){const _0x517aab=_0x230ac1,_0x350831=document[_0x517aab(0x815)]('comparison-overall-tab'),_0x2a3dc3=document[_0x517aab(0x815)]('comparison-individual-tab'),_0x353b16=document[_0x517aab(0x815)](_0x517aab(0x51d)),_0x142949=document[_0x517aab(0x815)](_0x517aab(0xf08));_0x350831[_0x517aab(0x7b7)]('click',()=>{const _0x1e32b2=_0x517aab;_0x350831['classList'][_0x1e32b2(0x4db)](_0x1e32b2(0xb0a)),_0x2a3dc3['classList'][_0x1e32b2(0xb0b)](_0x1e32b2(0xb0a)),_0x353b16['classList'][_0x1e32b2(0xb0b)]('hidden'),_0x142949[_0x1e32b2(0xeac)][_0x1e32b2(0x4db)](_0x1e32b2(0xcc2));}),_0x2a3dc3[_0x517aab(0x7b7)](_0x517aab(0x7a5),()=>{const _0x3aa166=_0x517aab;_0x2a3dc3[_0x3aa166(0xeac)][_0x3aa166(0x4db)](_0x3aa166(0xb0a)),_0x350831[_0x3aa166(0xeac)][_0x3aa166(0xb0b)]('active'),_0x142949[_0x3aa166(0xeac)][_0x3aa166(0xb0b)](_0x3aa166(0xcc2)),_0x353b16[_0x3aa166(0xeac)][_0x3aa166(0x4db)](_0x3aa166(0xcc2));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x17a393=_0x230ac1;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2dd0ad=doc(db,_0x17a393(0x884)+appId+_0x17a393(0x7c2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2dd0ad,_0xb7590f=>{const _0x4dde9c=_0x17a393;if(!_0xb7590f[_0x4dde9c(0x939)]()){showMessage(_0x4dde9c(0xa7b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4dde9c(0x4fe)?showView(_0x4dde9c(0x3e4)):showView(_0x4dde9c(0x974));return;}const _0x240512=_0xb7590f[_0x4dde9c(0xdad)]();_0x240512['shuffledQuiz']&&(currentQuizData=_0x240512[_0x4dde9c(0xde5)]);!currentQuizData&&_0x240512[_0x4dde9c(0x6b4)]&&((async()=>{const _0x45ed44=_0x4dde9c;try{const _0x47dd56=doc(db,_0x45ed44(0x884)+appId+_0x45ed44(0x8a2),_0x240512[_0x45ed44(0x6b4)]),_0x3674fb=await getDoc(_0x47dd56);_0x3674fb[_0x45ed44(0x939)]()&&(currentQuizData={'id':_0x3674fb['id'],..._0x3674fb[_0x45ed44(0xdad)]()});}catch(_0x2003ec){console[_0x45ed44(0x1b6)](_0x45ed44(0xc92),_0x2003ec);}})());switch(_0x240512[_0x4dde9c(0xc71)]){case _0x4dde9c(0x768):if(currentMode===_0x4dde9c(0x4fe)){const _0x445b9c=_0x240512[_0x4dde9c(0x9f8)]?Object[_0x4dde9c(0x626)](_0x240512[_0x4dde9c(0x9f8)]):[],_0x51da46=_0x445b9c[_0x4dde9c(0x320)](([_0x4536bf,_0x3bbafd])=>_0x3bbafd[_0x4dde9c(0xc71)]===_0x4dde9c(0xb0a)),_0xefc39a=document[_0x4dde9c(0x815)](_0x4dde9c(0xe74));if(_0xefc39a)_0xefc39a['textContent']=_0x51da46[_0x4dde9c(0xe93)];const _0x528d3d=document[_0x4dde9c(0x815)]('player-list-lobby');_0x528d3d&&(_0x528d3d['innerHTML']=_0x51da46[_0x4dde9c(0xe07)](([_0x112589,_0x1cb9c2])=>_0x4dde9c(0x5e9)+_0x112589+_0x4dde9c(0x3a3)+_0x112589+_0x4dde9c(0x80d))[_0x4dde9c(0x885)](''));const _0x22a129=document[_0x4dde9c(0x815)](_0x4dde9c(0x384));_0x22a129&&(_0x22a129['disabled']=_0x51da46[_0x4dde9c(0xe93)]===0x0);}else showView(_0x4dde9c(0xb32)),liveGameView[_0x4dde9c(0x63b)]=_0x4dde9c(0x4b5)+currentStudentName+_0x4dde9c(0xe0e);break;case _0x4dde9c(0xc56):const _0x1b7b19=_0x240512[_0x4dde9c(0xf23)];if(currentQuizData&&currentQuizData[_0x4dde9c(0x746)][_0x1b7b19]){const _0x57795d=currentQuizData[_0x4dde9c(0x746)][_0x1b7b19],_0x4b68bf=_0x240512[_0x4dde9c(0xacb)]||'answering';switch(_0x4b68bf){case _0x4dde9c(0xe0f):currentMode===_0x4dde9c(0x4fe)?showAdminSummaryView(_0x240512,_0x57795d):showPlayerSummaryView(_0x240512,currentStudentName);break;case _0x4dde9c(0x5aa):currentMode===_0x4dde9c(0x4fe)&&showTop5LeaderboardView(_0x240512);break;case _0x4dde9c(0x78b):default:if(currentMode===_0x4dde9c(0x4fe)){const _0x2c989e=writeBatch(db);let _0x2d1204=![];Object[_0x4dde9c(0x626)](_0x240512[_0x4dde9c(0x9f8)])['forEach'](([_0x35cea8,_0x291289])=>{const _0x1df348=_0x4dde9c;if(_0x291289['status']===_0x1df348(0xb0a)&&_0x291289[_0x1df348(0x519)]&&!_0x291289[_0x1df348(0xec2)]){_0x2d1204=!![];const _0x4b0e83=_0x291289['submittedAt'][_0x1df348(0xbb7)]()-_0x240512['questionDisplayedAt']['toDate']();let _0x20ebbc=0x0;if(_0x291289['lastAnswerCorrect']){const _0x4dc215=0x3e8,_0xf9c7f2=0x1f4,_0x2dba06=0x4e20;let _0x3b4ce2=_0x4b0e83/_0x2dba06;if(_0x3b4ce2>0x1)_0x3b4ce2=0x1;const _0x11f307=Math[_0x1df348(0x803)](_0x3b4ce2*_0xf9c7f2);_0x20ebbc=_0x4dc215-_0x11f307;}const _0x5063db=doc(db,_0x1df348(0x884)+appId+_0x1df348(0x7c2),currentLiveGameId);_0x2c989e['update'](_0x5063db,{[_0x1df348(0x8d8)+_0x35cea8+_0x1df348(0xb71)]:increment(_0x20ebbc),['players.'+_0x35cea8+_0x1df348(0xb79)]:_0x20ebbc,[_0x1df348(0x8d8)+_0x35cea8+_0x1df348(0xa65)]:!![]});}});_0x2d1204&&_0x2c989e['commit']()[_0x4dde9c(0xb5c)](_0x375f6e=>console[_0x4dde9c(0x1b6)](_0x4dde9c(0xb57),_0x375f6e));lastRenderedAdminQuestionIndex!==_0x1b7b19&&(showAdminLiveQuestionView(_0x57795d,_0x1b7b19,currentQuizData['questions'][_0x4dde9c(0xe93)]),lastRenderedAdminQuestionIndex=_0x1b7b19);const _0x3ed8f3=_0x240512[_0x4dde9c(0x9f8)]||{},_0x5c57e8=Object[_0x4dde9c(0xdf2)](_0x3ed8f3)[_0x4dde9c(0x320)](_0x44380f=>_0x44380f['status']===_0x4dde9c(0xb0a)),_0x169eb2=_0x5c57e8[_0x4dde9c(0xe93)],_0x582344=_0x5c57e8[_0x4dde9c(0x320)](_0x5378d1=>_0x5378d1[_0x4dde9c(0xe42)]===!![])[_0x4dde9c(0xe93)],_0x5f267e=document[_0x4dde9c(0x815)](_0x4dde9c(0x306));if(_0x5f267e)_0x5f267e[_0x4dde9c(0x587)]=_0x582344+'/'+_0x169eb2;const _0x3a4713=document[_0x4dde9c(0x815)](_0x4dde9c(0xdba));if(_0x3a4713){let _0x1d894d=Object['entries'](_0x3ed8f3)['filter'](([_0x2ae8d0,_0x527b91])=>_0x527b91['status']===_0x4dde9c(0xb0a))[_0x4dde9c(0xe07)](([_0xedc57b,_0x2d5d71])=>{const _0x1ef43a=_0x4dde9c,_0x1d343e=_0x2d5d71[_0x1ef43a(0xe42)]===!![],_0x5cc332=_0x1d343e?'bg-green-500':_0x1ef43a(0xaf3),_0x25c798=_0x1d343e?_0x1ef43a(0x73b):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x1ef43a(0xc3c)+_0x5cc332+_0x1ef43a(0xe09)+_0x25c798+_0x1ef43a(0x1c4)+_0xedc57b+_0x1ef43a(0x7e7)+_0xedc57b+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x3a4713[_0x4dde9c(0x63b)]=_0x1d894d||_0x4dde9c(0x977);}_0x169eb2>0x0&&_0x582344===_0x169eb2&&revealAnswerForAdmin(_0x1b7b19,currentQuizData[_0x4dde9c(0x746)][_0x4dde9c(0xe93)]);}else{const _0x31d950=_0x240512['players'][currentStudentName];_0x31d950&&!_0x31d950[_0x4dde9c(0xe42)]&&showStudentLiveQuestionView(_0x57795d,_0x1b7b19,currentQuizData[_0x4dde9c(0x746)][_0x4dde9c(0xe93)]);}break;}}break;case _0x4dde9c(0x451):showPodiumView(_0x240512['players'],_0x4dde9c(0x8c9));break;}});}async function openGlobalActivityModal(){const _0x17c1de=_0x230ac1;if(allQuizzesGlobal['length']===0x0){const _0x528df9=await getDocs(collection(db,'artifacts/'+appId+_0x17c1de(0x8a2)));allQuizzesGlobal=_0x528df9['docs']['map'](_0x3c3336=>({'id':_0x3c3336['id'],..._0x3c3336[_0x17c1de(0xdad)]()}));}renderGlobalActivityList(''),document[_0x17c1de(0x815)]('global-activity-modal')['classList']['remove'](_0x17c1de(0xcc2));}function renderGlobalActivityList(_0x996d4e=''){const _0x1a3f48=_0x230ac1,_0x3d03f8=document[_0x1a3f48(0x815)]('global-activity-quiz-list'),_0x32d072=_0x996d4e['toLowerCase']()[_0x1a3f48(0x99f)](),_0x5e3c96=allQuizzesGlobal[_0x1a3f48(0xe07)](_0x277571=>({..._0x277571,'projectName':allProjects[_0x1a3f48(0x5eb)](_0x3fa0b6=>_0x3fa0b6['id']===_0x277571[_0x1a3f48(0x791)])?.['projectName']||'N/A'}))[_0x1a3f48(0x320)](_0x4f5aa5=>(_0x4f5aa5[_0x1a3f48(0xbdd)]||'')[_0x1a3f48(0xaec)]()[_0x1a3f48(0x8f3)](_0x32d072)||(_0x4f5aa5['projectName']||'')[_0x1a3f48(0xaec)]()[_0x1a3f48(0x8f3)](_0x32d072));document[_0x1a3f48(0x815)](_0x1a3f48(0xdb3))[_0x1a3f48(0x587)]='('+_0x5e3c96[_0x1a3f48(0xe93)]+_0x1a3f48(0x69b),_0x3d03f8[_0x1a3f48(0x63b)]=_0x5e3c96['length']?_0x5e3c96[_0x1a3f48(0xe07)](_0x1d6fca=>_0x1a3f48(0x67e)+(_0x1d6fca['topic']||'(ไม่มีชื่อ)')+_0x1a3f48(0xec5)+(_0x1d6fca[_0x1a3f48(0x746)]?.[_0x1a3f48(0xe93)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1d6fca[_0x1a3f48(0x98b)]+_0x1a3f48(0x959)+_0x1d6fca['id']+_0x1a3f48(0xb4d)+_0x1d6fca['id']+_0x1a3f48(0xb58))[_0x1a3f48(0x885)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x475bc1){const _0x235baa=_0x230ac1;if(!currentLiveGameId||!_0x475bc1)return;const _0x8c363=doc(db,_0x235baa(0x884)+appId+_0x235baa(0x7c2),currentLiveGameId),_0x114983={};_0x114983[_0x235baa(0x8d8)+_0x475bc1+_0x235baa(0xb53)]=_0x235baa(0xd7d);try{await updateDoc(_0x8c363,_0x114983);}catch(_0x276944){console[_0x235baa(0x1b6)](_0x235baa(0x39c)+_0x475bc1+':',_0x276944),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x48e87c=_0x230ac1;try{typeof __initial_auth_token!==_0x48e87c(0xe9f)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5da1b0){console[_0x48e87c(0x1b6)]('Authentication\x20failed:',_0x5da1b0),showMessage(_0x48e87c(0xc82));}}function showView(_0x47a367){const _0x761be5=_0x230ac1;adminView['classList']['add'](_0x761be5(0xcc2)),studentView[_0x761be5(0xeac)][_0x761be5(0x4db)](_0x761be5(0xcc2)),projectDashboardView[_0x761be5(0xeac)][_0x761be5(0x4db)](_0x761be5(0xcc2)),projectDetailView[_0x761be5(0xeac)][_0x761be5(0x4db)](_0x761be5(0xcc2)),quizResultsView[_0x761be5(0xeac)]['add'](_0x761be5(0xcc2)),liveGameView[_0x761be5(0xeac)]['add'](_0x761be5(0xcc2)),document['getElementById'](_0x761be5(0x439))[_0x761be5(0xeac)]['add'](_0x761be5(0xcc2)),studentInitialView[_0x761be5(0xeac)][_0x761be5(0x4db)](_0x761be5(0xcc2)),studentJoinGameView[_0x761be5(0xeac)]['add'](_0x761be5(0xcc2)),studentNameSelectionView[_0x761be5(0xeac)][_0x761be5(0x4db)]('hidden'),studentQuizArea['classList'][_0x761be5(0x4db)](_0x761be5(0xcc2)),studentResultArea[_0x761be5(0xeac)][_0x761be5(0x4db)]('hidden'),studentReadingArea[_0x761be5(0xeac)][_0x761be5(0x4db)](_0x761be5(0xcc2));const _0x2372a1=document[_0x761be5(0x815)](_0x761be5(0xe4b)),_0x1abf7d=document[_0x761be5(0x815)]('student-progress-view');if(_0x2372a1)_0x2372a1[_0x761be5(0xeac)][_0x761be5(0x4db)]('hidden');if(_0x1abf7d)_0x1abf7d[_0x761be5(0xeac)]['add'](_0x761be5(0xcc2));switch(_0x47a367){case'admin-dashboard':adminView[_0x761be5(0xeac)][_0x761be5(0xb0b)]('hidden'),projectDashboardView[_0x761be5(0xeac)][_0x761be5(0xb0b)]('hidden');break;case _0x761be5(0x3e4):adminView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2)),projectDetailView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));break;case'quiz-results':adminView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2)),quizResultsView['classList'][_0x761be5(0xb0b)]('hidden');break;case _0x761be5(0x974):studentView[_0x761be5(0xeac)]['remove'](_0x761be5(0xcc2)),studentInitialView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));break;case'live-game':liveGameView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));break;case'student-team-join':studentView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));if(_0x2372a1)_0x2372a1[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));break;case _0x761be5(0xdf3):studentView['classList'][_0x761be5(0xb0b)](_0x761be5(0xcc2));if(_0x1abf7d)_0x1abf7d[_0x761be5(0xeac)][_0x761be5(0xb0b)]('hidden');break;default:studentView[_0x761be5(0xeac)][_0x761be5(0xb0b)]('hidden'),studentInitialView[_0x761be5(0xeac)][_0x761be5(0xb0b)](_0x761be5(0xcc2));break;}}function showJoinGameView(){const _0x31cdc4=_0x230ac1;studentInitialView[_0x31cdc4(0xeac)][_0x31cdc4(0x4db)](_0x31cdc4(0xcc2)),studentJoinGameView[_0x31cdc4(0xeac)]['remove'](_0x31cdc4(0xcc2));}async function handleSaveVisibilitySettings(){const _0x20f2bc=_0x230ac1;if(!currentProjectId)return;const _0x1a1e22=doc(db,_0x20f2bc(0x884)+appId+_0x20f2bc(0xb81),currentProjectId);try{await updateDoc(_0x1a1e22,{'settings.showInStudentDashboard':document[_0x20f2bc(0x815)](_0x20f2bc(0x2b6))[_0x20f2bc(0xdaf)],'settings.isPasscodeEnabled':document[_0x20f2bc(0x815)]('enable-passcode-checkbox')['checked'],'settings.passcode':document['getElementById']('project-passcode-input')[_0x20f2bc(0xdd7)]['trim']()}),showMessage(_0x20f2bc(0x3dc));}catch(_0x5b6ffa){console[_0x20f2bc(0x1b6)](_0x20f2bc(0xb30),_0x5b6ffa),showMessage(_0x20f2bc(0x840));}}function setupEventListeners(){const _0x352ebb=_0x230ac1;document[_0x352ebb(0x7b7)](_0x352ebb(0x813),()=>{const _0x308437=_0x352ebb,_0x57f74a=document[_0x308437(0x815)](_0x308437(0xc76)),_0x1edcc2=document[_0x308437(0x815)](_0x308437(0xb3c)),_0x26b727=document['getElementById']('confirm-crop-btn'),_0x5df09f=document['getElementById'](_0x308437(0x228)),_0x585ac6=document[_0x308437(0x815)](_0x308437(0x883));_0x1edcc2&&_0x57f74a&&(_0x1edcc2[_0x308437(0x7b7)](_0x308437(0x7a5),()=>{const _0xa8f051=_0x308437;_0x57f74a[_0xa8f051(0xdd7)]='',_0x57f74a[_0xa8f051(0x7a5)]();}),_0x57f74a[_0x308437(0x7b7)](_0x308437(0x99b),_0x4344a3=>{const _0x1f4c54=_0x308437;_0x4344a3[_0x1f4c54(0x3d1)]['files']&&_0x4344a3[_0x1f4c54(0x3d1)][_0x1f4c54(0x6a2)][_0x1f4c54(0xe93)]>0x0&&startCropper(_0x4344a3[_0x1f4c54(0x3d1)][_0x1f4c54(0x6a2)][0x0]);})),_0x26b727&&_0x26b727[_0x308437(0x7b7)](_0x308437(0x7a5),()=>{const _0x1d5e9d=_0x308437;if(!cropperInstance)return;const _0x4a8a4f=_0x26b727[_0x1d5e9d(0x63b)];_0x26b727[_0x1d5e9d(0x63b)]=_0x1d5e9d(0xb6b),_0x26b727[_0x1d5e9d(0x44b)]=!![],cropperInstance[_0x1d5e9d(0x85d)]()[_0x1d5e9d(0x247)](async _0x163006=>{const _0x3f4830=_0x1d5e9d;_0x585ac6[_0x3f4830(0xeac)]['add']('hidden');const _0x10374c=new File([_0x163006],_0x3f4830(0x1bd),{'type':_0x3f4830(0x5a1)});await handleScanImageForText(_0x10374c),_0x26b727[_0x3f4830(0x63b)]=_0x4a8a4f,_0x26b727[_0x3f4830(0x44b)]=![],cropperInstance[_0x3f4830(0x801)](),cropperInstance=null;},_0x1d5e9d(0x5a1));}),_0x5df09f&&_0x5df09f['addEventListener'](_0x308437(0x7a5),()=>{const _0x12dd7e=_0x308437;_0x585ac6[_0x12dd7e(0xeac)][_0x12dd7e(0x4db)](_0x12dd7e(0xcc2)),cropperInstance&&(cropperInstance[_0x12dd7e(0x801)](),cropperInstance=null),document['getElementById']('camera-input')[_0x12dd7e(0xdd7)]='';});});const _0x1a9730=document[_0x352ebb(0x815)](_0x352ebb(0xed2)),_0x7945e2=document['getElementById'](_0x352ebb(0x6d5));_0x1a9730&&_0x7945e2&&(_0x7945e2[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>_0x1a9730[_0x352ebb(0x7a5)]()),_0x1a9730[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x4a4528=>{const _0x589e37=_0x352ebb;_0x4a4528[_0x589e37(0x3d1)][_0x589e37(0x6a2)][_0x589e37(0xe93)]>0x0&&handleScanImageForText(_0x4a4528[_0x589e37(0x3d1)][_0x589e37(0x6a2)][0x0]);}));const _0x13b49b=document[_0x352ebb(0x815)](_0x352ebb(0xe7a));_0x13b49b&&_0x13b49b[_0x352ebb(0x7b7)]('click',()=>{const _0x9699b1=_0x352ebb,_0x675df4=document[_0x9699b1(0x815)](_0x9699b1(0xbef)),_0x5898e4=document[_0x9699b1(0x815)]('wager-amount-display');_0x675df4&&(_0x675df4[_0x9699b1(0xdd7)]=_0x675df4['max'],_0x5898e4&&(_0x5898e4[_0x9699b1(0x587)]=_0x675df4[_0x9699b1(0xdd7)],_0x5898e4[_0x9699b1(0xeac)][_0x9699b1(0xb0b)](_0x9699b1(0xcd3)),void _0x5898e4[_0x9699b1(0xb02)],_0x5898e4[_0x9699b1(0xeac)][_0x9699b1(0x4db)]('transform','transition-transform',_0x9699b1(0xcd3),_0x9699b1(0x850)),setTimeout(()=>_0x5898e4[_0x9699b1(0xeac)]['remove'](_0x9699b1(0xcd3),_0x9699b1(0x850)),0xc8)));});document['getElementById'](_0x352ebb(0xbb9))[_0x352ebb(0x7b7)]('click',()=>{const _0x144019=_0x352ebb;document['getElementById'](_0x144019(0x89a))[_0x144019(0xeac)][_0x144019(0x4db)](_0x144019(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x5e1))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x24e050=_0x352ebb,_0x4b9059=document['getElementById'](_0x24e050(0x89a)),_0x31d279=document[_0x24e050(0x815)](_0x24e050(0xb60)),_0x4a4108=document[_0x24e050(0x815)](_0x24e050(0xbef))[_0x24e050(0xdd7)],_0x31d817=_0x31d279[_0x24e050(0x5ff)][_0x24e050(0x74a)],_0x4e6b53=JSON[_0x24e050(0x74f)](_0x31d279[_0x24e050(0x5ff)][_0x24e050(0xc56)]),_0x14e6a2=JSON[_0x24e050(0x74f)](_0x31d279[_0x24e050(0x5ff)][_0x24e050(0xe43)]),_0xb0e46d=_0x31d279['dataset'][_0x24e050(0xe9e)];_0x4b9059['classList'][_0x24e050(0x4db)](_0x24e050(0xcc2)),handleSyncAnswerSubmit(_0x31d817,_0x4e6b53,_0x14e6a2,_0xb0e46d,![],_0x4a4108);}),document['querySelectorAll'](_0x352ebb(0xa09))['forEach'](_0x194a67=>{const _0x1c6f51=_0x352ebb;_0x194a67[_0x1c6f51(0x7b7)](_0x1c6f51(0x99b),_0x40678d=>{const _0x2f5abb=_0x1c6f51,_0x3ca516=document[_0x2f5abb(0x815)](_0x2f5abb(0xa78));_0x40678d[_0x2f5abb(0x3d1)][_0x2f5abb(0xdd7)]===_0x2f5abb(0xe18)?_0x3ca516[_0x2f5abb(0xeac)][_0x2f5abb(0xb0b)](_0x2f5abb(0xcc2)):_0x3ca516[_0x2f5abb(0xeac)]['add'](_0x2f5abb(0xcc2));});}),document[_0x352ebb(0x815)](_0x352ebb(0x568))[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x3931b5=>{const _0x5c8980=_0x352ebb;document[_0x5c8980(0x815)](_0x5c8980(0x560))[_0x5c8980(0xeac)][_0x5c8980(0x334)](_0x5c8980(0xcc2),!_0x3931b5[_0x5c8980(0x3d1)][_0x5c8980(0xdaf)]);});const _0x105a1b=document[_0x352ebb(0x815)]('cancel-confidence-btn'),_0x54f32a=document['getElementById'](_0x352ebb(0xc13));_0x105a1b&&_0x54f32a&&_0x105a1b[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x58ebd4=_0x352ebb;_0x54f32a['classList'][_0x58ebd4(0x4db)](_0x58ebd4(0xcc2)),_0x54f32a[_0x58ebd4(0x5ff)][_0x58ebd4(0x7b4)]='';});const _0x26a391=document[_0x352ebb(0x815)](_0x352ebb(0x9cd));_0x26a391&&(_0x26a391[_0x352ebb(0x7b7)](_0x352ebb(0xdbb),wakeUpScreen),_0x26a391[_0x352ebb(0x7b7)](_0x352ebb(0xec9),wakeUpScreen));document[_0x352ebb(0x815)]('save-bp-reference-btn')['addEventListener'](_0x352ebb(0x7a5),async()=>{const _0x3becba=_0x352ebb;if(!currentBlueprintProjectId)return;const _0x5024b7=document[_0x3becba(0x815)](_0x3becba(0x758))['value'][_0x3becba(0x99f)](),_0x5b5ebc=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x5b5ebc,{'referenceFileUrl':_0x5024b7}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x20a8d4){console[_0x3becba(0x1b6)]('Error\x20saving\x20reference\x20URL:',_0x20a8d4),showMessage(_0x3becba(0x840));}}),document[_0x352ebb(0x815)](_0x352ebb(0x3de))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleAddParallelShortcutTab),document[_0x352ebb(0x815)]('parallel-test-input-area')['addEventListener'](_0x352ebb(0x7a5),_0x3454ee=>{const _0x2d1ee4=_0x352ebb;_0x3454ee[_0x2d1ee4(0x3d1)]['closest'](_0x2d1ee4(0x3cf))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x2d1ee4(0x815)](_0x2d1ee4(0x691))[_0x2d1ee4(0xeac)][_0x2d1ee4(0xb0b)]('hidden'));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x352ebb(0x7b7)]('click',()=>{const _0x111bc3=_0x352ebb;document['getElementById'](_0x111bc3(0x691))[_0x111bc3(0xeac)][_0x111bc3(0x4db)](_0x111bc3(0xcc2));}),document[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x46d8dc=>{const _0xec4a1e=_0x352ebb;!_0x46d8dc['target'][_0xec4a1e(0xa28)](_0xec4a1e(0x63c))&&document[_0xec4a1e(0x8c8)](_0xec4a1e(0x360))[_0xec4a1e(0xdec)](_0x1d80b3=>_0x1d80b3[_0xec4a1e(0xeac)]['add'](_0xec4a1e(0xcc2)));}),document[_0x352ebb(0x815)](_0x352ebb(0x5ec))['addEventListener'](_0x352ebb(0x7a5),handleAddFileShortcutTab),document[_0x352ebb(0x815)](_0x352ebb(0xe2c))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x49e05e=>{const _0x35f920=_0x352ebb;_0x49e05e[_0x35f920(0x3d1)][_0x35f920(0xa28)](_0x35f920(0xbe0))&&(activeFileShortcutTabId=_0x35f920(0x4ad),renderAdditionalFileShortcutsModal(),document[_0x35f920(0x815)]('additional-file-shortcuts-modal')[_0x35f920(0xeac)][_0x35f920(0xb0b)](_0x35f920(0xcc2)));}),document['getElementById']('close-additional-file-shortcuts-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x21f5f0=_0x352ebb;document[_0x21f5f0(0x815)](_0x21f5f0(0x481))[_0x21f5f0(0xeac)][_0x21f5f0(0x4db)](_0x21f5f0(0xcc2));}),document[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x904d67=>{const _0x1e41f7=_0x352ebb;!_0x904d67[_0x1e41f7(0x3d1)][_0x1e41f7(0xa28)](_0x1e41f7(0x993))&&document[_0x1e41f7(0x8c8)](_0x1e41f7(0x81b))[_0x1e41f7(0xdec)](_0x4c1bd8=>_0x4c1bd8[_0x1e41f7(0xeac)]['add'](_0x1e41f7(0xcc2)));}),document[_0x352ebb(0x815)]('add-shortcut-tab-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleAddShortcutTab),document[_0x352ebb(0x815)]('parallel-shortcut-container')['addEventListener'](_0x352ebb(0x7a5),_0x4e7471=>{const _0x331371=_0x352ebb,_0x31844d=_0x4e7471[_0x331371(0x3d1)][_0x331371(0xa28)](_0x331371(0x63e)),_0x5a49a2=_0x4e7471[_0x331371(0x3d1)][_0x331371(0xa28)](_0x331371(0xedc)),_0x19fb8a=_0x4e7471['target'][_0x331371(0xa28)]('.delete-parallel-shortcut-btn');if(_0x5a49a2)openParallelTestShortcutEditor(_0x5a49a2[_0x331371(0x5ff)]['id']);else{if(_0x19fb8a){const _0x53c0d7=_0x19fb8a[_0x331371(0x5ff)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x14405a=_0x331371,_0x474020=parallelTestShortcuts['filter'](_0x483a87=>_0x483a87['id']!==_0x53c0d7),_0x484458=doc(db,_0x14405a(0xdbd),'parallelTestShortcutsConfig');await setDoc(_0x484458,{'shortcuts':_0x474020},{'merge':!![]});});}else _0x31844d&&handleParallelTestShortcutClick(_0x31844d[_0x331371(0x5ff)]['id']);}}),document[_0x352ebb(0x815)](_0x352ebb(0x1fc))['addEventListener']('click',()=>openParallelTestShortcutEditor(null)),document['getElementById']('cancel-parallel-shortcut-edit-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x1d61c7=_0x352ebb;document[_0x1d61c7(0x815)]('parallel-shortcut-editor-modal')[_0x1d61c7(0xeac)][_0x1d61c7(0x4db)](_0x1d61c7(0xcc2));}),document['getElementById'](_0x352ebb(0xaa3))['addEventListener'](_0x352ebb(0x7a5),saveParallelTestShortcutChanges),document['getElementById'](_0x352ebb(0x2e2))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x4fe517=>{const _0x455cec=_0x352ebb;_0x4fe517[_0x455cec(0x3d1)][_0x455cec(0xa28)](_0x455cec(0x3cf))&&document[_0x455cec(0x815)](_0x455cec(0x691))['classList'][_0x455cec(0xb0b)](_0x455cec(0xcc2));}),document['getElementById'](_0x352ebb(0xdca))[_0x352ebb(0x7b7)]('click',()=>{const _0x94dc7e=_0x352ebb;document[_0x94dc7e(0x815)]('additional-parallel-shortcuts-modal')[_0x94dc7e(0xeac)]['add'](_0x94dc7e(0xcc2));}),document['getElementById'](_0x352ebb(0x9ab))[_0x352ebb(0x7b7)]('click',_0x275575=>{const _0x213722=_0x352ebb,_0x4a5eaf=document[_0x213722(0x815)]('additional-parallel-shortcuts-modal'),_0x3fab35=_0x275575[_0x213722(0x3d1)][_0x213722(0xa28)](_0x213722(0x9d6)),_0x217e45=_0x275575[_0x213722(0x3d1)]['closest'](_0x213722(0xc65)),_0x4526ac=_0x275575[_0x213722(0x3d1)]['closest'](_0x213722(0x68a));if(_0x3fab35)_0x4a5eaf[_0x213722(0xeac)][_0x213722(0x4db)](_0x213722(0xcc2)),handleParallelTestShortcutClick(_0x3fab35[_0x213722(0x5ff)]['id']);else{if(_0x217e45)_0x4a5eaf[_0x213722(0xeac)]['add'](_0x213722(0xcc2)),openParallelTestShortcutEditor(_0x217e45[_0x213722(0x5ff)]['id']);else{if(_0x4526ac){const _0x2770b4=_0x4526ac[_0x213722(0x5ff)]['id'];showConfirmation(_0x213722(0x7e1),async()=>{const _0x1aae78=_0x213722,_0x22e448=parallelTestShortcuts[_0x1aae78(0x320)](_0x1e849d=>_0x1e849d['id']!==_0x2770b4),_0x5c8052=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x5c8052,{'shortcuts':_0x22e448},{'merge':!![]});});}}}}),document[_0x352ebb(0x815)](_0x352ebb(0xf03))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x3b7df6=>{const _0x385c06=_0x352ebb,_0x5a8c27=_0x3b7df6[_0x385c06(0x3d1)][_0x385c06(0xa28)](_0x385c06(0x41f)),_0x384657=_0x3b7df6['target'][_0x385c06(0xa28)](_0x385c06(0xe49)),_0x23ecc0=_0x3b7df6[_0x385c06(0x3d1)][_0x385c06(0xa28)](_0x385c06(0x47c));if(_0x384657)openFileShortcutEditor(_0x384657[_0x385c06(0x5ff)]['id']);else{if(_0x23ecc0){const _0x3498f6=_0x23ecc0['dataset']['id'];showConfirmation(_0x385c06(0x7e1),async()=>{const _0x1ccc8b=_0x385c06,_0x3857fe=fileShortcuts[_0x1ccc8b(0x320)](_0x161dba=>_0x161dba['id']!==_0x3498f6),_0x23546=doc(db,_0x1ccc8b(0xdbd),_0x1ccc8b(0x87f));await setDoc(_0x23546,{'shortcuts':_0x3857fe},{'merge':!![]});});}else _0x5a8c27&&handleFileShortcutClick(_0x5a8c27[_0x385c06(0x5ff)]['id']);}}),document[_0x352ebb(0x815)](_0x352ebb(0x804))['addEventListener']('click',()=>openFileShortcutEditor(null)),document[_0x352ebb(0x815)](_0x352ebb(0x1f6))['addEventListener']('click',()=>{const _0x15e96c=_0x352ebb;document[_0x15e96c(0x815)](_0x15e96c(0xbb2))[_0x15e96c(0xeac)][_0x15e96c(0x4db)](_0x15e96c(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x748))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),saveFileShortcutChanges),document['getElementById'](_0x352ebb(0xe2c))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0xa29e7e=>{const _0x7f80c6=_0x352ebb;_0xa29e7e[_0x7f80c6(0x3d1)][_0x7f80c6(0xa28)](_0x7f80c6(0xbe0))&&document[_0x7f80c6(0x815)](_0x7f80c6(0x481))[_0x7f80c6(0xeac)][_0x7f80c6(0xb0b)](_0x7f80c6(0xcc2));}),document['getElementById'](_0x352ebb(0x534))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x49e3e7=_0x352ebb;document[_0x49e3e7(0x815)]('additional-file-shortcuts-modal')['classList'][_0x49e3e7(0x4db)]('hidden');}),document['getElementById'](_0x352ebb(0x8a6))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x4bb71a=>{const _0x48b652=_0x352ebb,_0x1cdc12=document[_0x48b652(0x815)](_0x48b652(0x481)),_0x4b4d6a=_0x4bb71a[_0x48b652(0x3d1)][_0x48b652(0xa28)](_0x48b652(0x4be)),_0x3c79b3=_0x4bb71a['target'][_0x48b652(0xa28)](_0x48b652(0x335)),_0x56049c=_0x4bb71a[_0x48b652(0x3d1)][_0x48b652(0xa28)](_0x48b652(0xea2));if(_0x4b4d6a)_0x1cdc12['classList']['add']('hidden'),handleFileShortcutClick(_0x4b4d6a[_0x48b652(0x5ff)]['id']);else{if(_0x3c79b3)_0x1cdc12[_0x48b652(0xeac)][_0x48b652(0x4db)](_0x48b652(0xcc2)),openFileShortcutEditor(_0x3c79b3['dataset']['id']);else{if(_0x56049c){const _0x208397=_0x56049c[_0x48b652(0x5ff)]['id'];showConfirmation(_0x48b652(0x7e1),async()=>{const _0x319a59=_0x48b652,_0xd1acc1=fileShortcuts['filter'](_0x3fc396=>_0x3fc396['id']!==_0x208397),_0x19268b=doc(db,_0x319a59(0xdbd),_0x319a59(0x87f));await setDoc(_0x19268b,{'shortcuts':_0xd1acc1},{'merge':!![]});});}}}}),document[_0x352ebb(0x815)](_0x352ebb(0x409))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x306935=>{const _0x36c38d=_0x352ebb;_0x306935[_0x36c38d(0x3d1)]['closest'](_0x36c38d(0xce1))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x36c38d(0x815)](_0x36c38d(0xa90))[_0x36c38d(0xeac)][_0x36c38d(0xb0b)](_0x36c38d(0xcc2)));}),document['getElementById'](_0x352ebb(0x1ea))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x18bb2c=_0x352ebb;document[_0x18bb2c(0x815)](_0x18bb2c(0xa90))[_0x18bb2c(0xeac)][_0x18bb2c(0x4db)](_0x18bb2c(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x667))['addEventListener'](_0x352ebb(0x7a5),_0x14f0bc=>{const _0x51e9c4=_0x352ebb,_0x44b597=_0x14f0bc[_0x51e9c4(0x3d1)][_0x51e9c4(0xa28)]('.use-hidden-shortcut-btn'),_0x4a95d5=_0x14f0bc[_0x51e9c4(0x3d1)][_0x51e9c4(0xa28)]('.edit-hidden-shortcut-btn'),_0x306ba8=_0x14f0bc['target']['closest']('.delete-hidden-shortcut-btn'),_0x596e69=document[_0x51e9c4(0x815)]('additional-shortcuts-modal');if(_0x44b597)_0x596e69[_0x51e9c4(0xeac)][_0x51e9c4(0x4db)]('hidden'),handleShortcutClick(_0x44b597[_0x51e9c4(0x5ff)]['id']);else{if(_0x4a95d5)_0x596e69[_0x51e9c4(0xeac)][_0x51e9c4(0x4db)](_0x51e9c4(0xcc2)),openShortcutEditor(_0x4a95d5[_0x51e9c4(0x5ff)]['id']);else{if(_0x306ba8){const _0x3ad1d5=_0x306ba8['dataset']['id'],_0x288bc2=blueprintShortcuts[_0x51e9c4(0x5eb)](_0x1f018f=>_0x1f018f['id']===_0x3ad1d5)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x288bc2+'\x22?',async()=>{const _0x4943d8=_0x51e9c4,_0x513856=blueprintShortcuts[_0x4943d8(0x320)](_0x96bfe9=>_0x96bfe9['id']!==_0x3ad1d5);try{const _0x8ca22b=doc(db,_0x4943d8(0xdbd),_0x4943d8(0x7e6));await setDoc(_0x8ca22b,{'blueprintShortcuts':_0x513856},{'merge':!![]});}catch(_0x5e19d4){console[_0x4943d8(0x1b6)](_0x4943d8(0x91b),_0x5e19d4);}});}}}}),document[_0x352ebb(0x815)](_0x352ebb(0x27d))['addEventListener'](_0x352ebb(0x7a5),_0x410f15=>{const _0xa07a71=_0x352ebb,_0x1c033e=_0x410f15[_0xa07a71(0x3d1)][_0xa07a71(0xa28)]('.shortcut-btn'),_0x41ca88=_0x410f15[_0xa07a71(0x3d1)][_0xa07a71(0xa28)](_0xa07a71(0x1ca)),_0x38db8f=_0x410f15['target'][_0xa07a71(0xa28)](_0xa07a71(0x4d6));if(_0x41ca88)openShortcutEditor(_0x41ca88[_0xa07a71(0x5ff)]['id']);else{if(_0x38db8f){const _0x58de56=_0x38db8f['dataset']['id'],_0x529787=blueprintShortcuts[_0xa07a71(0x5eb)](_0x41d41a=>_0x41d41a['id']===_0x58de56)?.[_0xa07a71(0xcc9)];showConfirmation(_0xa07a71(0x9b2)+_0x529787+'\x22?',async()=>{const _0x8e5005=_0xa07a71,_0x8463cf=blueprintShortcuts[_0x8e5005(0x320)](_0x11d302=>_0x11d302['id']!==_0x58de56);try{const _0x253cf5=doc(db,'globalSettings',_0x8e5005(0x7e6));await setDoc(_0x253cf5,{'blueprintShortcuts':_0x8463cf},{'merge':!![]});}catch(_0x5de8a3){console[_0x8e5005(0x1b6)]('Error\x20deleting\x20shortcut:',_0x5de8a3);}});}else _0x1c033e&&handleShortcutClick(_0x1c033e['dataset']['id']);}}),document[_0x352ebb(0x815)]('add-shortcut-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>openShortcutEditor(null)),document[_0x352ebb(0x815)]('cancel-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x29e41b=_0x352ebb;document[_0x29e41b(0x815)](_0x29e41b(0x6dc))[_0x29e41b(0xeac)][_0x29e41b(0x4db)](_0x29e41b(0xcc2));}),document['getElementById'](_0x352ebb(0x479))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),saveShortcutChanges),document[_0x352ebb(0x815)]('generate-from-blueprint-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),async()=>{const _0x16f3c4=_0x352ebb,_0x2e6f4a=document[_0x16f3c4(0x815)]('blueprint-upload-input'),_0x390b7f=document[_0x16f3c4(0x815)]('reference-pdf-upload');_0x2e6f4a['files'][_0x16f3c4(0xe93)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2e6f4a['files'][0x0],_0x390b7f[_0x16f3c4(0x6a2)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x352ebb(0x815)](_0x352ebb(0x300))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),async _0x5bea06=>{const _0x1805fb=_0x352ebb,_0x1e1c8d=document[_0x1805fb(0x815)]('topic-quiz-bank-modal'),_0x1bcefd=_0x5bea06[_0x1805fb(0x3d1)][_0x1805fb(0xa28)]('.bp-view-analysis-btn'),_0x5315b6=_0x5bea06['target'][_0x1805fb(0xa28)](_0x1805fb(0x963)),_0x1e3ed2=_0x5bea06[_0x1805fb(0x3d1)][_0x1805fb(0xa28)](_0x1805fb(0xd69)),_0x49fe25=_0x5bea06[_0x1805fb(0x3d1)]['closest'](_0x1805fb(0xed4)),_0x5ad787=_0x5bea06[_0x1805fb(0x3d1)][_0x1805fb(0xa28)]('.bp-live-btn'),_0x30d0ef=_0x5bea06[_0x1805fb(0x3d1)][_0x1805fb(0xa28)]('.bp-game-btn');if(_0x1bcefd){cameFromBlueprint=!![];const _0x2777d8=_0x1bcefd[_0x1805fb(0x5ff)]['quizId'];showQuizDetailView(_0x2777d8),_0x1e1c8d[_0x1805fb(0xeac)][_0x1805fb(0x4db)](_0x1805fb(0xcc2));}else{if(_0x5315b6){const _0x4c1177=_0x5315b6[_0x1805fb(0x5ff)][_0x1805fb(0xe25)],_0x3a4448=_0x5315b6[_0x1805fb(0x5ff)][_0x1805fb(0x6b4)],_0x4da0b7=allQuizzesGlobal['find'](_0x29b4c8=>_0x29b4c8['id']===_0x3a4448),_0x97aba=_0x4da0b7?_0x4da0b7[_0x1805fb(0xbdd)]:_0x1805fb(0xd6e);showConfirmation(_0x1805fb(0xac3)+_0x97aba+_0x1805fb(0x1b1),async()=>{const _0x372237=_0x1805fb;try{const _0x45e095=doc(db,_0x372237(0x884)+appId+_0x372237(0x689),currentBlueprintProjectId);await updateDoc(_0x45e095,{[_0x372237(0xa7c)+_0x4c1177+_0x372237(0xa32)]:arrayRemove(_0x3a4448)}),showMessage(_0x372237(0xc43)),openTopicQuizBank(_0x4c1177),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1ead8f){console[_0x372237(0x1b6)](_0x372237(0x6b1),_0x1ead8f),showMessage(_0x372237(0x7a4));}});}else{if(_0x1e3ed2){cameFromBlueprint=!![];const _0x4a0fe3=_0x1e3ed2[_0x1805fb(0x5ff)][_0x1805fb(0x6b4)],_0x30d12d=allQuizzesGlobal[_0x1805fb(0x5eb)](_0x220fda=>_0x220fda['id']===_0x4a0fe3);_0x30d12d&&(startPresentation(_0x30d12d),_0x1e1c8d[_0x1805fb(0xeac)][_0x1805fb(0x4db)](_0x1805fb(0xcc2)));}else{if(_0x49fe25){cameFromBlueprint=!![];const _0x1231e3=_0x49fe25[_0x1805fb(0x5ff)][_0x1805fb(0x6b4)],_0xea54cf=allQuizzesGlobal['find'](_0x26e84f=>_0x26e84f['id']===_0x1231e3);_0xea54cf&&(currentQuizData=_0xea54cf,startAdminTest(),_0x1e1c8d['classList'][_0x1805fb(0x4db)](_0x1805fb(0xcc2)));}else{if(_0x5ad787)cameFromBlueprint=!![],handleStartLiveRace(_0x5ad787[_0x1805fb(0x5ff)]['quizId']),_0x1e1c8d[_0x1805fb(0xeac)][_0x1805fb(0x4db)](_0x1805fb(0xcc2));else{if(_0x30d0ef){cameFromBlueprint=!![];const _0x590a54=_0x30d0ef[_0x1805fb(0x5ff)][_0x1805fb(0x6b4)],_0x2526ee=_0x30d0ef[_0x1805fb(0x5ff)][_0x1805fb(0x517)],_0x20fcbb=allQuizzesGlobal['find'](_0x5f7e6c=>_0x5f7e6c['id']===_0x590a54);_0x20fcbb&&(showGameStartConfirmationModal(_0x590a54,_0x2526ee,_0x20fcbb[_0x1805fb(0xbdd)]),_0x1e1c8d['classList'][_0x1805fb(0x4db)](_0x1805fb(0xcc2)));}}}}}}}),document[_0x352ebb(0x815)](_0x352ebb(0x85b))['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x2566e1=_0x352ebb;document['getElementById']('manual-blueprint-modal')[_0x2566e1(0xeac)]['remove'](_0x2566e1(0xcc2)),document[_0x2566e1(0x815)]('manual-bp-project-name')[_0x2566e1(0xdd7)]='',document[_0x2566e1(0x815)](_0x2566e1(0xcdc))[_0x2566e1(0xdd7)]='',document['getElementById']('manual-bp-content')[_0x2566e1(0xdd7)]='';}),document[_0x352ebb(0x815)](_0x352ebb(0xbf0))[_0x352ebb(0x7b7)]('click',()=>{const _0x485344=_0x352ebb;document[_0x485344(0x815)](_0x485344(0xce2))[_0x485344(0xeac)][_0x485344(0x4db)]('hidden');}),document[_0x352ebb(0x815)](_0x352ebb(0x3da))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleManualBlueprintSave),document[_0x352ebb(0x815)](_0x352ebb(0x4af))[_0x352ebb(0x7b7)]('click',()=>document[_0x352ebb(0x815)]('blueprint-settings-modal')[_0x352ebb(0xeac)][_0x352ebb(0x4db)](_0x352ebb(0xcc2))),document[_0x352ebb(0x815)](_0x352ebb(0xd2a))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleSaveBlueprintPageSettings),document[_0x352ebb(0x815)]('bp-quiz-settings-btn')[_0x352ebb(0x7b7)]('click',openBlueprintQuizSettings),document[_0x352ebb(0x815)](_0x352ebb(0x6ef))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),saveBlueprintProject),document[_0x352ebb(0x815)](_0x352ebb(0x726))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),showBlueprintProjects),document[_0x352ebb(0x815)](_0x352ebb(0x2a8))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x44359f=_0x352ebb;document[_0x44359f(0x815)](_0x44359f(0xe26))['classList'][_0x44359f(0x4db)](_0x44359f(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0xd67))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x11dcef=>{const _0x4e9661=_0x352ebb,_0x14c2cf=_0x11dcef['target']['closest'](_0x4e9661(0xae0)),_0x5d63eb=_0x11dcef[_0x4e9661(0x3d1)]['closest'](_0x4e9661(0xdbf));if(_0x14c2cf)displayBlueprintProjectManager(_0x14c2cf['dataset']['id']);else _0x5d63eb&&handleDeepDeleteBlueprintProject(_0x5d63eb[_0x4e9661(0x5ff)]['id']);}),document[_0x352ebb(0x815)](_0x352ebb(0xbdc))['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x29c37c=_0x352ebb;currentBlueprintProjectId=null,currentProjectId=null,document[_0x29c37c(0x815)]('blueprint-project-manager-view')[_0x29c37c(0xeac)][_0x29c37c(0x4db)](_0x29c37c(0xcc2)),showView('admin-dashboard');}),document[_0x352ebb(0x815)]('bp-add-topic-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),addTopicToProject),document[_0x352ebb(0x815)](_0x352ebb(0x7d6))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),async _0x1a438e=>{const _0x190846=_0x352ebb,_0x5ec26f=_0x1a438e['target']['closest'](_0x190846(0x98c));if(!_0x5ec26f)return;const _0x29e46b=_0x5ec26f[_0x190846(0x5ff)]['topicId'],_0x1666a4=_0x1a438e[_0x190846(0x3d1)]['closest'](_0x190846(0xb10)),_0x8c6d87=_0x1a438e[_0x190846(0x3d1)]['closest'](_0x190846(0x44e)),_0x5ee21b=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0x6e8)),_0x41bd39=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0x84b)),_0x50ed45=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0x9f1)),_0x1e7f0c=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0x22b)),_0x5412c8=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0xdac)),_0x59aea3=_0x1a438e[_0x190846(0x3d1)][_0x190846(0xa28)](_0x190846(0xc9f)),_0x1dc4ef=_0x4e2018=>{const _0xfb1219=_0x190846,_0x5a269b=_0x4e2018['querySelector'](_0xfb1219(0x5b7))[_0xfb1219(0x587)][_0xfb1219(0x99f)](),_0x1b53f5=_0x4e2018[_0xfb1219(0xa28)](_0xfb1219(0xbc5))[_0xfb1219(0xae4)],_0x22359a=_0x1b53f5?_0x1b53f5[_0xfb1219(0x587)]['trim']():'';return _0x22359a+':\x20'+_0x5a269b;};if(_0x41bd39)openTopicQuizBank(_0x29e46b);else{if(_0x1666a4){const _0x563649=_0x1dc4ef(_0x5ec26f);selectProjectAndGenerateBlueprintQuiz(_0x563649,null,_0x29e46b,!![]);}else{if(_0x8c6d87){const _0x30a321=_0x1dc4ef(_0x5ec26f);try{const _0x13bd7b=doc(db,_0x190846(0x884)+appId+_0x190846(0xa3d)+currentBlueprintProjectId+_0x190846(0xa42),_0x29e46b),_0x41ede2=await getDoc(_0x13bd7b);if(_0x41ede2[_0x190846(0x939)]()){const _0x384930=_0x41ede2[_0x190846(0xdad)]()[_0x190846(0xf14)],_0x4b0dcb=document['createElement']('div'),_0x29779f=_0x5ba1e6=>{const _0x625993=_0x190846;if(!_0x5ba1e6)return'';return _0x4b0dcb[_0x625993(0x63b)]=_0x5ba1e6,_0x4b0dcb[_0x625993(0x587)]||_0x4b0dcb[_0x625993(0xc52)]||'';},_0x5af1d5=(_0x29779f(_0x384930[_0x190846(0xb52)])+'\x20'+_0x29779f(_0x384930['memory'])+'\x20'+_0x29779f(_0x384930[_0x190846(0x976)]))[_0x190846(0x99f)]();selectProjectAndGenerateBlueprintQuiz(_0x30a321,_0x5af1d5,_0x29e46b,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x1f62e5){console[_0x190846(0x1b6)](_0x190846(0xea4),_0x1f62e5),showMessage(_0x190846(0xd7f));}}else{if(_0x5ee21b){const _0x2606b3=_0x1dc4ef(_0x5ec26f);selectProjectAndGenerateBlueprintQuiz(_0x2606b3,null,_0x29e46b,![]);}else{if(_0x50ed45){const _0x2d75fc=doc(db,_0x190846(0x884)+appId+_0x190846(0x689),currentBlueprintProjectId),_0x53f052=await getDoc(_0x2d75fc);if(_0x53f052[_0x190846(0x939)]()){const _0x38e1e4=_0x53f052[_0x190846(0xdad)](),_0xee0f1c=_0x38e1e4[_0x190846(0xccf)][_0x29e46b];if(_0xee0f1c&&_0xee0f1c[_0x190846(0xc71)]===_0x190846(0xd1c))try{const _0x2550c8=doc(db,_0x190846(0x884)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x190846(0xa42),_0x29e46b),_0x1f4eb7=await getDoc(_0x2550c8);if(_0x1f4eb7[_0x190846(0x939)]()){const _0x36e71f=_0x1f4eb7[_0x190846(0xdad)]()[_0x190846(0xf14)];document['getElementById'](_0x190846(0x90c))[_0x190846(0x587)]=_0x190846(0x54b)+_0x1dc4ef(_0x5ec26f),document[_0x190846(0x815)](_0x190846(0xd7c))[_0x190846(0x63b)]=_0x36e71f['point'],document['getElementById'](_0x190846(0x745))['innerHTML']=_0x36e71f[_0x190846(0x617)],document[_0x190846(0x815)](_0x190846(0xe3a))[_0x190846(0x63b)]=_0x36e71f[_0x190846(0x976)];const _0x33e956=document['getElementById'](_0x190846(0x71f));_0x36e71f[_0x190846(0x8e2)]?(currentApplicationData=_0x36e71f['applicationData'],_0x33e956[_0x190846(0x63b)]=currentApplicationData[_0x190846(0xe07)]((_0x35a1d3,_0x4fe793)=>_0x190846(0x261)+(_0x4fe793+0x1)+'.\x20'+marked['parseInline'](_0x35a1d3[_0x190846(0xc56)])+_0x190846(0x799)+_0x4fe793+_0x190846(0xdb8)+_0x35a1d3[_0x190846(0xa9c)][_0x190846(0xe07)]((_0x13f061,_0x530026)=>_0x190846(0x536)+_0x4fe793+',\x20'+_0x530026+_0x190846(0xa14)+String[_0x190846(0x869)](0x61+_0x530026)+'.\x20'+marked[_0x190846(0xedb)](_0x13f061)+_0x190846(0x753))[_0x190846(0x885)]('')+_0x190846(0xebd))[_0x190846(0x885)]('')):(currentApplicationData=[],_0x33e956[_0x190846(0x63b)]=_0x36e71f[_0x190846(0xc09)]||_0x36e71f[_0x190846(0x413)]),document[_0x190846(0x815)]('lesson-loader')['classList'][_0x190846(0x4db)](_0x190846(0xcc2)),document[_0x190846(0x815)](_0x190846(0xd9a))['classList'][_0x190846(0xb0b)](_0x190846(0xcc2)),document[_0x190846(0x815)](_0x190846(0x2de))[_0x190846(0xeac)]['remove'](_0x190846(0xcc2)),window[_0x190846(0x67a)]&&MathJax['typesetPromise']([document[_0x190846(0x815)]('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x53cf85){console[_0x190846(0x1b6)](_0x190846(0x925),_0x53cf85),showMessage(_0x190846(0xa30));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x1e7f0c){const _0x128810=_0x1dc4ef(_0x5ec26f),_0x3efc8e=doc(db,_0x190846(0x884)+appId+_0x190846(0x689),currentBlueprintProjectId),_0x504977=await getDoc(_0x3efc8e);if(_0x504977[_0x190846(0x939)]()){const _0x45498d=_0x504977[_0x190846(0xdad)]();generateAndSaveLessonForBlueprint(_0x29e46b,_0x128810,_0x45498d[_0x190846(0xf25)]);}}else{if(_0x5412c8)editTopicInProject(_0x29e46b);else _0x59aea3&&deleteTopicFromProject(_0x29e46b);}}}}}}}),document[_0x352ebb(0x815)](_0x352ebb(0x5d6))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleFixLessonLatex),document[_0x352ebb(0x815)](_0x352ebb(0x747))['addEventListener']('click',handleExportLessonToPDF),document['getElementById'](_0x352ebb(0xb1c))[_0x352ebb(0x7b7)]('click',()=>{const _0x3e0683=_0x352ebb;document[_0x3e0683(0x815)](_0x3e0683(0x2de))[_0x3e0683(0xeac)]['add']('hidden');});const _0x1131cb=document['getElementById']('bulk-confidence-scoring-checkbox'),_0x426e83=document['getElementById']('bulk-confidence-mode-container');_0x1131cb['addEventListener'](_0x352ebb(0x99b),()=>{const _0x5be305=_0x352ebb;_0x426e83[_0x5be305(0xeac)]['toggle']('hidden',!_0x1131cb[_0x5be305(0xdaf)]);});const _0x59ec7c=document[_0x352ebb(0x815)](_0x352ebb(0x8b7)),_0x251cb6=document[_0x352ebb(0x815)]('confidence-mode-container');_0x59ec7c['addEventListener'](_0x352ebb(0x99b),()=>{const _0x21c7d0=_0x352ebb;_0x251cb6[_0x21c7d0(0xeac)][_0x21c7d0(0x334)](_0x21c7d0(0xcc2),!_0x59ec7c[_0x21c7d0(0xdaf)]);});const _0x30081a=document[_0x352ebb(0x815)]('modal-confidence-scoring-checkbox'),_0x4cd5cf=document['getElementById'](_0x352ebb(0x89b));_0x30081a[_0x352ebb(0x7b7)](_0x352ebb(0x99b),()=>{const _0x20c0b5=_0x352ebb;_0x4cd5cf['classList'][_0x20c0b5(0x334)](_0x20c0b5(0xcc2),!_0x30081a[_0x20c0b5(0xdaf)]);});const _0x241c1f=document[_0x352ebb(0x815)](_0x352ebb(0xc13)),_0x12e4f3=async _0x43e891=>{const _0x4624d7=_0x352ebb,_0x821dc6=document[_0x4624d7(0x815)](_0x4624d7(0xc13)),_0x39f681=_0x821dc6[_0x4624d7(0x5ff)][_0x4624d7(0x7b4)],_0x3f4af9=document['getElementById'](_0x4624d7(0x3bf));_0x821dc6[_0x4624d7(0xeac)]['add'](_0x4624d7(0xcc2));if(_0x39f681===_0x4624d7(0x77d)){const _0x361adf=_0x3f4af9[_0x4624d7(0xdd7)],_0x398a60={'answer':_0x361adf,'wasConfident':_0x43e891};proceedToNextQuestion(_0x398a60);}else{if(_0x39f681===_0x4624d7(0x4e6)){const _0x42a95f=_0x3f4af9[_0x4624d7(0x5ff)][_0x4624d7(0x74a)],_0x440e85=JSON[_0x4624d7(0x74f)](_0x3f4af9[_0x4624d7(0x5ff)][_0x4624d7(0xc56)]),_0x2bc9b7=JSON[_0x4624d7(0x74f)](_0x3f4af9[_0x4624d7(0x5ff)][_0x4624d7(0xe43)]),_0xd626db=_0x3f4af9[_0x4624d7(0x5ff)][_0x4624d7(0xe9e)];handleSyncAnswerSubmit(_0x42a95f,_0x440e85,_0x2bc9b7,_0xd626db,_0x43e891);}}_0x821dc6['dataset'][_0x4624d7(0x7b4)]='';};document[_0x352ebb(0x815)]('confirm-confident')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>_0x12e4f3(!![])),document['getElementById'](_0x352ebb(0x739))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>_0x12e4f3(![])),liveGameView[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x38c99d=>{const _0x3eadf8=_0x352ebb,_0x425bc2=_0x38c99d[_0x3eadf8(0x3d1)]['closest']('.kick-player-btn-sync');if(_0x425bc2){const _0x5b15f7=_0x425bc2['dataset'][_0x3eadf8(0xe9e)];_0x5b15f7&&handleKickPlayerSync(_0x5b15f7);}});const _0x48e080=document[_0x352ebb(0x815)](_0x352ebb(0x326)),_0x112f69=document[_0x352ebb(0x815)]('cancel-game-start-btn');_0x112f69[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x51a16b=_0x352ebb;document[_0x51a16b(0x815)](_0x51a16b(0x866))['classList']['add'](_0x51a16b(0xcc2));}),_0x48e080[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x1ef91f=_0x352ebb,_0x449b67=document[_0x1ef91f(0x815)](_0x1ef91f(0x608))[_0x1ef91f(0xdd7)],_0x5a19bc=document['getElementById']('game-start-mode')[_0x1ef91f(0xdd7)],_0x27b9dd=document[_0x1ef91f(0x815)]('save-game-results-checkbox')[_0x1ef91f(0xdaf)];document[_0x1ef91f(0x815)](_0x1ef91f(0x866))[_0x1ef91f(0xeac)][_0x1ef91f(0x4db)](_0x1ef91f(0xcc2));switch(_0x5a19bc){case _0x1ef91f(0x8c9):handleStartLiveRace(_0x449b67,_0x27b9dd);break;case _0x1ef91f(0xe71):handleStartTeamQuiz(_0x449b67,_0x27b9dd);break;case _0x1ef91f(0x53a):handleStartGroupMode(_0x449b67,_0x27b9dd);break;case _0x1ef91f(0x4e6):const _0x57c504=document[_0x1ef91f(0xd27)](_0x1ef91f(0x67d))[_0x1ef91f(0xdd7)]||_0x1ef91f(0x831);handleStartSyncMode(_0x449b67,_0x27b9dd,_0x57c504);break;}}),document['getElementById'](_0x352ebb(0xc4d))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleJoinGroupActivity),liveGameView[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x3273a9=>{const _0x1c1524=_0x352ebb,_0x5db3d2=_0x3273a9[_0x1c1524(0x3d1)][_0x1c1524(0xa28)](_0x1c1524(0x846));document['querySelectorAll'](_0x1c1524(0x5a2))['forEach'](_0x259d54=>{const _0x1e3879=_0x1c1524;(!_0x5db3d2||_0x259d54['id']!==_0x5db3d2[_0x1e3879(0x5ff)][_0x1e3879(0xa54)])&&_0x259d54[_0x1e3879(0xeac)]['remove']('visible');});if(!_0x5db3d2)return;const _0xb1afca=_0x5db3d2['dataset'][_0x1c1524(0xa54)],_0x4ded1d=document[_0x1c1524(0x815)](_0xb1afca);_0x4ded1d&&_0x4ded1d['classList'][_0x1c1524(0x334)](_0x1c1524(0x1be));}),liveGameView[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x2233e7=>{const _0x1a71e4=_0x352ebb;if(_0x2233e7[_0x1a71e4(0x3d1)][_0x1a71e4(0xeac)][_0x1a71e4(0x65d)](_0x1a71e4(0x588))){const _0x5e13c2=_0x2233e7[_0x1a71e4(0x3d1)][_0x1a71e4(0x5ff)][_0x1a71e4(0xe9e)];_0x5e13c2&&handleKickPlayer(_0x5e13c2);}}),document[_0x352ebb(0x815)](_0x352ebb(0x486))[_0x352ebb(0x7b7)](_0x352ebb(0xca2),()=>document[_0x352ebb(0x815)](_0x352ebb(0x2c1))['classList'][_0x352ebb(0xb0b)]('hidden')),document[_0x352ebb(0x815)](_0x352ebb(0x2c1))[_0x352ebb(0x7b7)]('click',handleSaveProjectName),document[_0x352ebb(0x815)](_0x352ebb(0x486))[_0x352ebb(0x7b7)](_0x352ebb(0x3fc),_0x4e5f29=>{const _0x1688a0=_0x352ebb;_0x4e5f29[_0x1688a0(0x79d)]===_0x1688a0(0xafc)&&(_0x4e5f29[_0x1688a0(0x896)](),_0x4e5f29[_0x1688a0(0x3d1)]['blur'](),handleSaveProjectName());}),document[_0x352ebb(0x815)](_0x352ebb(0x43d))['addEventListener']('click',()=>{const _0x4b3209=_0x352ebb;document[_0x4b3209(0x815)](_0x4b3209(0x8ef))['classList'][_0x4b3209(0xb0b)](_0x4b3209(0xcc2));}),document['getElementById']('cancel-bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x496942=_0x352ebb;document['getElementById'](_0x496942(0x8ef))[_0x496942(0xeac)][_0x496942(0x4db)](_0x496942(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0xe5c))['addEventListener'](_0x352ebb(0x7a5),handleBulkUpdateQuizSettings),document['getElementById'](_0x352ebb(0xecc))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleModeSwitch),document[_0x352ebb(0x815)]('update-old-quizzes-btn')['addEventListener'](_0x352ebb(0x7a5),handleUpdateOldQuizzes),document[_0x352ebb(0x815)](_0x352ebb(0xa67))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleResetProjectOrder),document[_0x352ebb(0x815)](_0x352ebb(0x211))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleSaveVisibilitySettings),document['getElementById'](_0x352ebb(0xe2f))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleAddCustomMathTopic),document['getElementById'](_0x352ebb(0x736))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleSelectAllTopics),document[_0x352ebb(0x815)](_0x352ebb(0x297))[_0x352ebb(0x7b7)]('click',handleDeselectAllTopics),document[_0x352ebb(0x815)](_0x352ebb(0x29c))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x16eb8a=_0x352ebb;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x16eb8a(0x9d2));}}),document[_0x352ebb(0x815)](_0x352ebb(0xab8))[_0x352ebb(0x7b7)]('click',()=>{const _0x3dff54=_0x352ebb;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3dff54(0x3e4));}}),document[_0x352ebb(0x815)]('back-to-dashboard-from-results-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x37e3a5=_0x352ebb;showView(_0x37e3a5(0x9d2));}),document[_0x352ebb(0x815)](_0x352ebb(0x25e))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x536fec=_0x352ebb;messageModal['classList'][_0x536fec(0x4db)]('hidden'),typeof modalConfirmAction===_0x536fec(0xdb2)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x352ebb(0xa9a))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>createProjectModal[_0x352ebb(0xeac)][_0x352ebb(0xb0b)](_0x352ebb(0xcc2))),document[_0x352ebb(0x815)]('cancel-create-project-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>createProjectModal[_0x352ebb(0xeac)][_0x352ebb(0x4db)]('hidden')),document['getElementById'](_0x352ebb(0xb91))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>adminPasswordModal[_0x352ebb(0xeac)][_0x352ebb(0x4db)]('hidden')),document[_0x352ebb(0x815)](_0x352ebb(0xd19))['addEventListener']('click',handleAdminLogin),document[_0x352ebb(0x815)](_0x352ebb(0xb7e))[_0x352ebb(0x7b7)](_0x352ebb(0x57a),_0x260da2=>{const _0x19d15f=_0x352ebb;if(_0x260da2[_0x19d15f(0x79d)]==='Enter')handleAdminLogin();}),document[_0x352ebb(0x815)](_0x352ebb(0xd5b))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x5f316c=_0x352ebb;confirmationModal[_0x5f316c(0xeac)][_0x5f316c(0x4db)]('hidden'),typeof cancelAction==='function'&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x352ebb(0x815)](_0x352ebb(0x5cd))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x29e6c5=_0x352ebb;confirmAction&&confirmAction(),confirmationModal[_0x29e6c5(0xeac)][_0x29e6c5(0x4db)]('hidden'),confirmAction=null,cancelAction=null;}),document[_0x352ebb(0x815)](_0x352ebb(0x9b5))[_0x352ebb(0x7b7)]('click',()=>renameQuizModal[_0x352ebb(0xeac)][_0x352ebb(0x4db)](_0x352ebb(0xcc2))),document[_0x352ebb(0x815)]('confirm-rename-quiz-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),confirmRenameQuiz),document[_0x352ebb(0x815)](_0x352ebb(0x484))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>moveQuizModal[_0x352ebb(0xeac)][_0x352ebb(0x4db)](_0x352ebb(0xcc2))),document['getElementById'](_0x352ebb(0x646))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),confirmMoveQuiz),document[_0x352ebb(0x815)](_0x352ebb(0xaf6))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>quizSettingsModal[_0x352ebb(0xeac)][_0x352ebb(0x4db)](_0x352ebb(0xcc2))),document['getElementById'](_0x352ebb(0x4e0))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),confirmQuizSettings),document[_0x352ebb(0x815)](_0x352ebb(0x50e))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>quizStatusModal[_0x352ebb(0xeac)]['add'](_0x352ebb(0xcc2))),document[_0x352ebb(0x815)](_0x352ebb(0x248))[_0x352ebb(0x7b7)]('click',confirmQuizStatus);const _0x508c94=document['getElementById'](_0x352ebb(0x366));document[_0x352ebb(0x815)](_0x352ebb(0xe33))[_0x352ebb(0x7b7)]('click',()=>{const _0x3dfb25=_0x352ebb;_0x508c94['classList'][_0x3dfb25(0x4db)](_0x3dfb25(0xcc2));}),document[_0x352ebb(0x815)]('export-compact-pdf-btn')['addEventListener'](_0x352ebb(0x7a5),async()=>{const _0x561df1=_0x352ebb,_0x8ea133=allQuizzes[_0x561df1(0x5eb)](_0x58b507=>_0x58b507['id']===actionTargetId);_0x8ea133?(currentQuizData=_0x8ea133,exportQuizAsWorksheetPDF()):showMessage(_0x561df1(0x66e)),_0x508c94['classList'][_0x561df1(0x4db)](_0x561df1(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x9ed))['addEventListener'](_0x352ebb(0x7a5),async()=>{const _0x4443c9=_0x352ebb,_0x2d1224=allQuizzes[_0x4443c9(0x5eb)](_0x2d609d=>_0x2d609d['id']===actionTargetId);_0x2d1224?(currentQuizData=_0x2d1224,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x508c94[_0x4443c9(0xeac)][_0x4443c9(0x4db)](_0x4443c9(0xcc2));});const _0x3ea03b=document[_0x352ebb(0x815)](_0x352ebb(0x8ea));_0x3ea03b['innerHTML']=_0x352ebb(0xf10),_0x3ea03b['addEventListener']('click',openGlobalActivityModal),document[_0x352ebb(0x815)]('cancel-global-activity-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0xd8606b=_0x352ebb;document['getElementById']('global-activity-modal')[_0xd8606b(0xeac)]['add']('hidden');}),document[_0x352ebb(0x815)](_0x352ebb(0xecd))[_0x352ebb(0x7b7)](_0x352ebb(0xa61),_0x532f25=>{const _0x2d4d2a=_0x352ebb;renderGlobalActivityList(_0x532f25[_0x2d4d2a(0x3d1)][_0x2d4d2a(0xdd7)]);}),document['getElementById'](_0x352ebb(0x56b))[_0x352ebb(0x7b7)]('click',_0x4f0040=>{const _0x46c4d8=_0x352ebb,_0x412258=_0x4f0040[_0x46c4d8(0x3d1)][_0x46c4d8(0xa28)](_0x46c4d8(0xd53));if(!_0x412258)return;const _0x7783ff=_0x412258[_0x46c4d8(0x5ff)]['id'],_0x7f8b68=_0x412258[_0x46c4d8(0x5ff)][_0x46c4d8(0x517)],_0x3ba101=allQuizzesGlobal['find'](_0x21de7a=>_0x21de7a['id']===_0x7783ff);_0x3ba101&&(document[_0x46c4d8(0x815)](_0x46c4d8(0x8be))['classList'][_0x46c4d8(0x4db)]('hidden'),_0x7f8b68==='live-race'?handleStartLiveRace(_0x7783ff):showGameStartConfirmationModal(_0x7783ff,_0x7f8b68,_0x3ba101[_0x46c4d8(0xbdd)]));}),document[_0x352ebb(0x815)](_0x352ebb(0x4b3))[_0x352ebb(0x7b7)](_0x352ebb(0xa61),renderProjects),document[_0x352ebb(0x815)](_0x352ebb(0x8f4))[_0x352ebb(0x7b7)]('change',async()=>{const _0x590931=_0x352ebb,_0x40152d=document[_0x590931(0x815)](_0x590931(0x8f4))[_0x590931(0xdd7)],_0x37602d=doc(db,_0x590931(0xdbd),_0x590931(0x7e6));try{await setDoc(_0x37602d,{'projectSort':_0x40152d},{'merge':!![]});}catch(_0x32723d){console[_0x590931(0x1b6)](_0x590931(0x5ab),_0x32723d),showMessage(_0x590931(0x2e7));}}),document[_0x352ebb(0x815)](_0x352ebb(0x430))[_0x352ebb(0x7b7)](_0x352ebb(0xa61),renderQuizzes),document[_0x352ebb(0x815)]('grid-view-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x3f53e2=_0x352ebb;globalDashboardSettings['projectView']=_0x3f53e2(0x57e),saveUserPreference(_0x3f53e2(0x6e7),_0x3f53e2(0x57e)),renderProjects();}),document[_0x352ebb(0x815)](_0x352ebb(0x410))['addEventListener'](_0x352ebb(0x7a5),()=>{const _0xc709d9=_0x352ebb;globalDashboardSettings[_0xc709d9(0x6e7)]='list',saveUserPreference(_0xc709d9(0x6e7),'list'),renderProjects();}),manageTab[_0x352ebb(0x7b7)]('click',()=>switchProjectTab('manage')),resultsTab[_0x352ebb(0x7b7)]('click',()=>switchProjectTab(_0x352ebb(0x8b4))),leaderboardTab[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>switchProjectTab('leaderboard')),document['getElementById'](_0x352ebb(0x915))[_0x352ebb(0x7b7)]('click',()=>switchQuizDetailTab(_0x352ebb(0xe64))),document['getElementById'](_0x352ebb(0x9fc))[_0x352ebb(0x7b7)]('click',()=>switchQuizDetailTab(_0x352ebb(0x4bc))),document[_0x352ebb(0x815)](_0x352ebb(0xa47))['addEventListener'](_0x352ebb(0x7a5),()=>switchQuizDetailTab(_0x352ebb(0x51f))),document[_0x352ebb(0x815)]('behavior-log-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x352ebb(0xe1e))),document['getElementById'](_0x352ebb(0xc5e))[_0x352ebb(0x7b7)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),generateWorksheet);const _0x5b6cd6=document[_0x352ebb(0x815)](_0x352ebb(0x2ad)),_0x47d20b=document[_0x352ebb(0x815)](_0x352ebb(0x678)),_0x4708ca=document[_0x352ebb(0x815)](_0x352ebb(0x614)),_0x1edf00=document['getElementById'](_0x352ebb(0x409)),_0x45ebbf=document[_0x352ebb(0x815)](_0x352ebb(0x86e)),_0x338980=document[_0x352ebb(0x815)](_0x352ebb(0x2e2));topicTab[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x14c383=_0x352ebb;topicTab['classList'][_0x14c383(0x4db)]('active'),textTab[_0x14c383(0xeac)]['remove']('active'),fileTab[_0x14c383(0xeac)][_0x14c383(0xb0b)](_0x14c383(0xb0a)),worksheetTab['classList'][_0x14c383(0xb0b)](_0x14c383(0xb0a));if(_0x5b6cd6)_0x5b6cd6[_0x14c383(0xeac)]['remove']('active');if(_0x4708ca)_0x4708ca[_0x14c383(0xeac)][_0x14c383(0xb0b)](_0x14c383(0xb0a));if(_0x45ebbf)_0x45ebbf[_0x14c383(0xeac)][_0x14c383(0xb0b)](_0x14c383(0xb0a));topicInputArea[_0x14c383(0xeac)]['remove'](_0x14c383(0xcc2)),textInputArea[_0x14c383(0xeac)][_0x14c383(0x4db)](_0x14c383(0xcc2)),fileInputArea[_0x14c383(0xeac)][_0x14c383(0x4db)](_0x14c383(0xcc2)),worksheetInputArea[_0x14c383(0xeac)][_0x14c383(0x4db)](_0x14c383(0xcc2));if(_0x47d20b)_0x47d20b[_0x14c383(0xeac)]['add'](_0x14c383(0xcc2));if(_0x1edf00)_0x1edf00[_0x14c383(0xeac)][_0x14c383(0x4db)](_0x14c383(0xcc2));if(_0x338980)_0x338980[_0x14c383(0xeac)][_0x14c383(0x4db)](_0x14c383(0xcc2));}),textTab[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x455ce5=_0x352ebb;textTab['classList'][_0x455ce5(0x4db)](_0x455ce5(0xb0a)),topicTab[_0x455ce5(0xeac)][_0x455ce5(0xb0b)]('active'),fileTab[_0x455ce5(0xeac)][_0x455ce5(0xb0b)](_0x455ce5(0xb0a)),worksheetTab[_0x455ce5(0xeac)][_0x455ce5(0xb0b)](_0x455ce5(0xb0a));if(_0x5b6cd6)_0x5b6cd6['classList'][_0x455ce5(0xb0b)]('active');if(_0x4708ca)_0x4708ca['classList'][_0x455ce5(0xb0b)](_0x455ce5(0xb0a));if(_0x45ebbf)_0x45ebbf[_0x455ce5(0xeac)][_0x455ce5(0xb0b)](_0x455ce5(0xb0a));textInputArea[_0x455ce5(0xeac)][_0x455ce5(0xb0b)](_0x455ce5(0xcc2)),topicInputArea[_0x455ce5(0xeac)][_0x455ce5(0x4db)](_0x455ce5(0xcc2)),fileInputArea[_0x455ce5(0xeac)][_0x455ce5(0x4db)]('hidden'),worksheetInputArea[_0x455ce5(0xeac)]['add']('hidden');if(_0x47d20b)_0x47d20b[_0x455ce5(0xeac)]['add']('hidden');if(_0x1edf00)_0x1edf00['classList'][_0x455ce5(0x4db)]('hidden');if(_0x338980)_0x338980[_0x455ce5(0xeac)][_0x455ce5(0x4db)](_0x455ce5(0xcc2));}),fileTab[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x55b282=_0x352ebb;fileTab[_0x55b282(0xeac)][_0x55b282(0x4db)](_0x55b282(0xb0a)),topicTab[_0x55b282(0xeac)][_0x55b282(0xb0b)]('active'),textTab['classList']['remove'](_0x55b282(0xb0a)),worksheetTab['classList'][_0x55b282(0xb0b)]('active');if(_0x5b6cd6)_0x5b6cd6[_0x55b282(0xeac)][_0x55b282(0xb0b)](_0x55b282(0xb0a));if(_0x4708ca)_0x4708ca[_0x55b282(0xeac)][_0x55b282(0xb0b)](_0x55b282(0xb0a));if(_0x45ebbf)_0x45ebbf['classList'][_0x55b282(0xb0b)](_0x55b282(0xb0a));fileInputArea[_0x55b282(0xeac)][_0x55b282(0xb0b)](_0x55b282(0xcc2)),topicInputArea[_0x55b282(0xeac)]['add'](_0x55b282(0xcc2)),textInputArea[_0x55b282(0xeac)][_0x55b282(0x4db)]('hidden'),worksheetInputArea[_0x55b282(0xeac)][_0x55b282(0x4db)](_0x55b282(0xcc2));if(_0x47d20b)_0x47d20b[_0x55b282(0xeac)]['add']('hidden');if(_0x1edf00)_0x1edf00[_0x55b282(0xeac)][_0x55b282(0x4db)](_0x55b282(0xcc2));if(_0x338980)_0x338980[_0x55b282(0xeac)]['add'](_0x55b282(0xcc2));}),worksheetTab[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x4559bf=_0x352ebb;worksheetTab[_0x4559bf(0xeac)]['add'](_0x4559bf(0xb0a)),topicTab['classList'][_0x4559bf(0xb0b)](_0x4559bf(0xb0a)),textTab[_0x4559bf(0xeac)][_0x4559bf(0xb0b)](_0x4559bf(0xb0a)),fileTab[_0x4559bf(0xeac)][_0x4559bf(0xb0b)](_0x4559bf(0xb0a));if(_0x5b6cd6)_0x5b6cd6[_0x4559bf(0xeac)]['remove'](_0x4559bf(0xb0a));if(_0x4708ca)_0x4708ca[_0x4559bf(0xeac)][_0x4559bf(0xb0b)](_0x4559bf(0xb0a));if(_0x45ebbf)_0x45ebbf[_0x4559bf(0xeac)][_0x4559bf(0xb0b)](_0x4559bf(0xb0a));worksheetInputArea[_0x4559bf(0xeac)][_0x4559bf(0xb0b)]('hidden'),topicInputArea[_0x4559bf(0xeac)][_0x4559bf(0x4db)](_0x4559bf(0xcc2)),textInputArea[_0x4559bf(0xeac)][_0x4559bf(0x4db)](_0x4559bf(0xcc2)),fileInputArea[_0x4559bf(0xeac)][_0x4559bf(0x4db)](_0x4559bf(0xcc2));if(_0x47d20b)_0x47d20b[_0x4559bf(0xeac)]['add']('hidden');if(_0x1edf00)_0x1edf00[_0x4559bf(0xeac)]['add']('hidden');if(_0x338980)_0x338980[_0x4559bf(0xeac)][_0x4559bf(0x4db)]('hidden');});const _0x462bbb=document[_0x352ebb(0x815)](_0x352ebb(0x661)),_0x2c8712=document['getElementById'](_0x352ebb(0xc8c));_0x462bbb&&_0x462bbb[_0x352ebb(0x7b7)]('click',()=>{const _0x3eae90=_0x352ebb;topicTab[_0x3eae90(0xeac)]['remove'](_0x3eae90(0xb0a)),textTab[_0x3eae90(0xeac)][_0x3eae90(0xb0b)](_0x3eae90(0xb0a)),fileTab[_0x3eae90(0xeac)][_0x3eae90(0xb0b)](_0x3eae90(0xb0a)),worksheetTab['classList']['remove']('active');if(_0x5b6cd6)_0x5b6cd6[_0x3eae90(0xeac)]['remove']('active');if(_0x4708ca)_0x4708ca[_0x3eae90(0xeac)]['remove'](_0x3eae90(0xb0a));if(_0x45ebbf)_0x45ebbf[_0x3eae90(0xeac)][_0x3eae90(0xb0b)]('active');_0x462bbb[_0x3eae90(0xeac)][_0x3eae90(0x4db)](_0x3eae90(0xb0a)),topicInputArea[_0x3eae90(0xeac)]['add'](_0x3eae90(0xcc2)),textInputArea[_0x3eae90(0xeac)][_0x3eae90(0x4db)](_0x3eae90(0xcc2)),fileInputArea['classList'][_0x3eae90(0x4db)](_0x3eae90(0xcc2)),worksheetInputArea[_0x3eae90(0xeac)]['add'](_0x3eae90(0xcc2));if(_0x47d20b)_0x47d20b[_0x3eae90(0xeac)][_0x3eae90(0x4db)](_0x3eae90(0xcc2));if(_0x1edf00)_0x1edf00[_0x3eae90(0xeac)]['add'](_0x3eae90(0xcc2));if(_0x338980)_0x338980[_0x3eae90(0xeac)][_0x3eae90(0x4db)]('hidden');_0x2c8712[_0x3eae90(0xeac)][_0x3eae90(0xb0b)](_0x3eae90(0xcc2)),displayQuestionBank();});_0x5b6cd6&&(_0x5b6cd6[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x36d90f=_0x352ebb;_0x5b6cd6[_0x36d90f(0xeac)][_0x36d90f(0x4db)](_0x36d90f(0xb0a)),topicTab[_0x36d90f(0xeac)]['remove']('active'),textTab[_0x36d90f(0xeac)][_0x36d90f(0xb0b)](_0x36d90f(0xb0a)),fileTab[_0x36d90f(0xeac)][_0x36d90f(0xb0b)](_0x36d90f(0xb0a)),worksheetTab[_0x36d90f(0xeac)][_0x36d90f(0xb0b)](_0x36d90f(0xb0a));if(_0x4708ca)_0x4708ca[_0x36d90f(0xeac)][_0x36d90f(0xb0b)](_0x36d90f(0xb0a));if(_0x45ebbf)_0x45ebbf[_0x36d90f(0xeac)][_0x36d90f(0xb0b)](_0x36d90f(0xb0a));_0x47d20b[_0x36d90f(0xeac)]['remove'](_0x36d90f(0xcc2)),topicInputArea['classList'][_0x36d90f(0x4db)](_0x36d90f(0xcc2)),textInputArea['classList'][_0x36d90f(0x4db)](_0x36d90f(0xcc2)),fileInputArea[_0x36d90f(0xeac)][_0x36d90f(0x4db)]('hidden'),worksheetInputArea[_0x36d90f(0xeac)]['add'](_0x36d90f(0xcc2));if(_0x1edf00)_0x1edf00[_0x36d90f(0xeac)]['add']('hidden');if(_0x338980)_0x338980[_0x36d90f(0xeac)][_0x36d90f(0x4db)](_0x36d90f(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x1d1))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleGenerateFromLink));_0x4708ca&&_0x4708ca[_0x352ebb(0x7b7)]('click',()=>{const _0xb8837f=_0x352ebb;_0x4708ca['classList'][_0xb8837f(0x4db)](_0xb8837f(0xb0a)),topicTab[_0xb8837f(0xeac)][_0xb8837f(0xb0b)](_0xb8837f(0xb0a)),textTab[_0xb8837f(0xeac)][_0xb8837f(0xb0b)](_0xb8837f(0xb0a)),fileTab[_0xb8837f(0xeac)]['remove'](_0xb8837f(0xb0a)),worksheetTab[_0xb8837f(0xeac)]['remove'](_0xb8837f(0xb0a));if(_0x5b6cd6)_0x5b6cd6['classList']['remove'](_0xb8837f(0xb0a));if(_0x462bbb)_0x462bbb['classList'][_0xb8837f(0xb0b)](_0xb8837f(0xb0a));if(_0x45ebbf)_0x45ebbf[_0xb8837f(0xeac)][_0xb8837f(0xb0b)](_0xb8837f(0xb0a));_0x1edf00[_0xb8837f(0xeac)][_0xb8837f(0xb0b)](_0xb8837f(0xcc2)),topicInputArea[_0xb8837f(0xeac)]['add'](_0xb8837f(0xcc2)),textInputArea[_0xb8837f(0xeac)][_0xb8837f(0x4db)]('hidden'),fileInputArea[_0xb8837f(0xeac)]['add'](_0xb8837f(0xcc2)),worksheetInputArea[_0xb8837f(0xeac)]['add'](_0xb8837f(0xcc2));if(_0x47d20b)_0x47d20b[_0xb8837f(0xeac)]['add'](_0xb8837f(0xcc2));if(_0x2c8712)_0x2c8712[_0xb8837f(0xeac)][_0xb8837f(0x4db)](_0xb8837f(0xcc2));if(_0x338980)_0x338980[_0xb8837f(0xeac)][_0xb8837f(0x4db)]('hidden');});_0x45ebbf&&_0x45ebbf['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x988367=_0x352ebb;_0x45ebbf[_0x988367(0xeac)][_0x988367(0x4db)](_0x988367(0xb0a)),topicTab[_0x988367(0xeac)]['remove']('active'),textTab[_0x988367(0xeac)][_0x988367(0xb0b)]('active'),fileTab['classList']['remove'](_0x988367(0xb0a)),worksheetTab[_0x988367(0xeac)][_0x988367(0xb0b)](_0x988367(0xb0a));if(_0x5b6cd6)_0x5b6cd6[_0x988367(0xeac)][_0x988367(0xb0b)](_0x988367(0xb0a));if(_0x4708ca)_0x4708ca[_0x988367(0xeac)][_0x988367(0xb0b)](_0x988367(0xb0a));if(_0x462bbb)_0x462bbb[_0x988367(0xeac)]['remove'](_0x988367(0xb0a));_0x338980[_0x988367(0xeac)]['remove'](_0x988367(0xcc2)),topicInputArea['classList'][_0x988367(0x4db)](_0x988367(0xcc2)),textInputArea[_0x988367(0xeac)][_0x988367(0x4db)](_0x988367(0xcc2)),fileInputArea[_0x988367(0xeac)][_0x988367(0x4db)](_0x988367(0xcc2)),worksheetInputArea['classList'][_0x988367(0x4db)]('hidden');if(_0x47d20b)_0x47d20b[_0x988367(0xeac)]['add'](_0x988367(0xcc2));if(_0x1edf00)_0x1edf00[_0x988367(0xeac)]['add'](_0x988367(0xcc2));if(_0x2c8712)_0x2c8712['classList'][_0x988367(0x4db)](_0x988367(0xcc2));});const _0x5a9f87=document[_0x352ebb(0x815)](_0x352ebb(0x2fa)),_0x26e841=document['getElementById'](_0x352ebb(0x5f7));if(_0x5a9f87){const _0x2a3677=document['getElementById']('blueprint-upload-input'),_0x1a3a72=document[_0x352ebb(0x815)](_0x352ebb(0x5f7)),_0x272e99=document[_0x352ebb(0x815)](_0x352ebb(0x429)),_0x570882=document[_0x352ebb(0x815)]('separate-by-content-checkbox'),_0xf15bbe=document[_0x352ebb(0x815)](_0x352ebb(0xd73)),_0x4d07e3=document[_0x352ebb(0x815)](_0x352ebb(0xa6c));_0x2a3677&&_0x2a3677[_0x352ebb(0x7b7)](_0x352ebb(0x99b),async _0x39dc56=>{const _0x4e459f=_0x352ebb;_0x272e99[_0x4e459f(0xeac)][_0x4e459f(0x4db)](_0x4e459f(0xcc2)),_0xf15bbe['classList'][_0x4e459f(0x4db)](_0x4e459f(0xcc2)),_0x570882[_0x4e459f(0xdaf)]=![],_0x1a3a72[_0x4e459f(0x44b)]=!![];const _0x145e2c=_0x39dc56[_0x4e459f(0x3d1)][_0x4e459f(0x6a2)][0x0];if(_0x145e2c){_0x1a3a72[_0x4e459f(0x44b)]=![];try{const _0x5dc700=await extractTextFromPdf(_0x145e2c);await analyzeBlueprintForTopics(_0x5dc700);}catch(_0x14eeaf){showMessage(_0x4e459f(0x9cc)),_0x272e99[_0x4e459f(0xeac)][_0x4e459f(0x4db)](_0x4e459f(0xcc2));}}}),_0x570882&&_0x570882[_0x352ebb(0x7b7)]('change',_0x4626c5=>{const _0x213171=_0x352ebb,_0x5ab981=_0x4626c5[_0x213171(0x3d1)][_0x213171(0xdaf)];_0xf15bbe['classList']['toggle'](_0x213171(0xcc2),!_0x5ab981),_0x1a3a72[_0x213171(0x44b)]=_0x5ab981;}),_0x4d07e3&&(_0x4d07e3&&_0x4d07e3['addEventListener'](_0x352ebb(0x7a5),_0x43e710=>{const _0x57c3e8=_0x352ebb,_0x241dd7=_0x43e710[_0x57c3e8(0x3d1)][_0x57c3e8(0xa28)](_0x57c3e8(0x8ba)),_0x21a12b=_0x43e710['target'][_0x57c3e8(0xa28)](_0x57c3e8(0xc19));if(_0x241dd7){const _0x1e9023=unescape(_0x241dd7['dataset']['topic']);generateQuizForSingleTopic(_0x1e9023);}else{if(_0x21a12b){const _0x16660b=unescape(_0x21a12b[_0x57c3e8(0x5ff)][_0x57c3e8(0xbdd)]);handleGenerateTeachingContent(_0x16660b);}}}));}_0x26e841&&_0x26e841[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleGenerateFromBlueprint);const _0x369fae=document[_0x352ebb(0x815)](_0x352ebb(0x2a9)),_0x2db00b=document[_0x352ebb(0x815)](_0x352ebb(0xc35));_0x369fae&&_0x369fae[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x3df8d6=>{const _0x125bd2=_0x352ebb;_0x2db00b[_0x125bd2(0x44b)]=_0x3df8d6[_0x125bd2(0x3d1)][_0x125bd2(0x6a2)]['length']===0x0;});_0x2db00b&&_0x2db00b[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x352ebb(0x7b7)]('click',handleLoadQuiz),startQuizBtn[_0x352ebb(0x7b7)]('click',async()=>{const _0x38116=_0x352ebb,_0x1dbe80=document[_0x38116(0x815)](_0x38116(0x581));currentStudentName=_0x1dbe80[_0x38116(0xdd7)];if(!currentStudentName){showMessage(_0x38116(0xd89));return;}try{const _0xd1a7ee=currentQuizData['id'],_0x1571c4=doc(db,'artifacts/'+appId+_0x38116(0xa60)+_0xd1a7ee+'/submissions',currentStudentName),_0x20e5f6=await getDoc(_0x1571c4);!_0x20e5f6['exists']()?await setDoc(_0x1571c4,{'studentName':currentStudentName,'startedAt':new Date()[_0x38116(0x464)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1571c4,{'startedAt':new Date()[_0x38116(0x464)]()});}catch(_0x4a4cc7){console[_0x38116(0x1b6)](_0x38116(0xb00),_0x4a4cc7),showMessage(_0x38116(0xd76));return;}studentNameSelectionView[_0x38116(0xeac)]['add'](_0x38116(0xcc2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x352ebb(0x815)](_0x352ebb(0x487))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),showJoinGameView),document[_0x352ebb(0x815)](_0x352ebb(0x8eb))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleJoinLiveGame),document['getElementById'](_0x352ebb(0xdc6))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>showView(_0x352ebb(0x974)));const _0xc36a9a=()=>{const _0x37777c=_0x352ebb,_0x124e91=document[_0x37777c(0x815)]('results-quiz-title')[_0x37777c(0x587)][_0x37777c(0xeef)](/[^a-z0-9]/gi,'_')[_0x37777c(0xaec)]();return'results_'+(_0x124e91||_0x37777c(0x9a5));},_0x5a733b=document['getElementById'](_0x352ebb(0xd32));_0x5a733b&&_0x5a733b[_0x352ebb(0x7b7)]('input',_0x56c200=>{const _0x175940=_0x352ebb,_0x44f11a=_0x56c200[_0x175940(0x3d1)][_0x175940(0xdd7)]['toLowerCase']()[_0x175940(0x99f)](),_0x388b38=document[_0x175940(0x815)](_0x175940(0x280)),_0x2cce94=_0x388b38[_0x175940(0x8c8)](_0x175940(0xc2f));_0x2cce94['forEach'](_0x2ae142=>{const _0x2193c0=_0x175940;let _0x2f8d42=![];const _0x32423e=_0x2ae142[_0x2193c0(0x8c8)](_0x2193c0(0x48d));_0x32423e['forEach'](_0xe02864=>{const _0x2d5712=_0x2193c0,_0x51ee6c=_0xe02864[_0x2d5712(0xd27)](_0x2d5712(0x427))[_0x2d5712(0x587)][_0x2d5712(0xaec)]();_0x51ee6c[_0x2d5712(0x8f3)](_0x44f11a)?(_0xe02864[_0x2d5712(0x205)][_0x2d5712(0xdd3)]='flex',_0x2f8d42=!![]):_0xe02864[_0x2d5712(0x205)]['display']=_0x2d5712(0x1e2);}),_0x2f8d42?_0x2ae142[_0x2193c0(0x205)][_0x2193c0(0xdd3)]=_0x2193c0(0x46b):_0x2ae142[_0x2193c0(0x205)][_0x2193c0(0xdd3)]=_0x2193c0(0x1e2);});});document[_0x352ebb(0x815)](_0x352ebb(0x8b9))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>exportTableAsImage(_0x352ebb(0xbce),_0xc36a9a())),document[_0x352ebb(0x815)](_0x352ebb(0x48f))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>exportTableAsPDF(_0x352ebb(0xc72),_0xc36a9a())),document[_0x352ebb(0x815)](_0x352ebb(0x60b))[_0x352ebb(0x7b7)]('click',()=>exportTableAsWord(_0x352ebb(0xbce),_0xc36a9a())),document['getElementById'](_0x352ebb(0xb1e))[_0x352ebb(0x7b7)]('click',()=>exportTableAsExcel(_0x352ebb(0xc72),_0xc36a9a()));const _0x3e8fce=()=>{const _0x42ede3=_0x352ebb,_0x584b47=document[_0x42ede3(0x815)](_0x42ede3(0x9b8))[_0x42ede3(0x587)][_0x42ede3(0xeef)](/[^a-z0-9]/gi,'_')[_0x42ede3(0xaec)]();return _0x42ede3(0xc74)+(_0x584b47||_0x42ede3(0x9a5));};document['getElementById']('export-leaderboard-image-btn')[_0x352ebb(0x7b7)]('click',()=>exportTableAsImage(_0x352ebb(0x343),_0x3e8fce())),document[_0x352ebb(0x815)](_0x352ebb(0x8fe))[_0x352ebb(0x7b7)]('click',()=>exportTableAsPDF(_0x352ebb(0x25d),_0x3e8fce())),document[_0x352ebb(0x815)](_0x352ebb(0xe17))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>exportTableAsWord(_0x352ebb(0x343),_0x3e8fce())),document[_0x352ebb(0x815)](_0x352ebb(0x971))['addEventListener'](_0x352ebb(0x7a5),()=>exportTableAsExcel(_0x352ebb(0x25d),_0x3e8fce())),projectQuizzesList[_0x352ebb(0x7b7)]('click',async _0x140d74=>{const _0x1434ef=_0x352ebb,_0x4f4eda=_0x140d74[_0x1434ef(0x3d1)]['closest'](_0x1434ef(0xcee)),_0xdc652c=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.generate-post-test-btn'),_0x43a38a=_0x140d74['target'][_0x1434ef(0xa28)](_0x1434ef(0xa5e)),_0xf527c5=_0x140d74[_0x1434ef(0x3d1)]['closest'](_0x1434ef(0x398)),_0x15d2c9=_0x140d74['target'][_0x1434ef(0xa28)](_0x1434ef(0x693)),_0x298240=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0x9b9)),_0x5df92d=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0xd63)),_0x5514fe=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0x9e5)),_0x852f79=_0x140d74['target']['closest'](_0x1434ef(0x3e0)),_0xb9a614=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.rename-quiz-btn'),_0x3d8baa=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.parallel-quiz-btn'),_0x307e9d=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.move-quiz-btn'),_0x3015bf=_0x140d74['target'][_0x1434ef(0xa28)](_0x1434ef(0x3e9)),_0x198179=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.unpair-quiz-btn'),_0x2857e2=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)]('.start-presentation-list-btn'),_0x3bec87=_0x140d74[_0x1434ef(0x3d1)]['closest'](_0x1434ef(0x6f1)),_0x11c475=_0x140d74[_0x1434ef(0x3d1)]['closest']('.export-pdf-list-btn'),_0x4090d9=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0x1f9)),_0x54387b=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0xda6)),_0xf76955=_0x140d74[_0x1434ef(0x3d1)]['closest'](_0x1434ef(0x294)),_0x4d26f9=_0x140d74[_0x1434ef(0x3d1)]['closest']('.generate-easy-version-btn'),_0x52eb31=_0x140d74['target'][_0x1434ef(0xa28)](_0x1434ef(0x9ef)),_0x2e8b74=_0x140d74[_0x1434ef(0x3d1)][_0x1434ef(0xa28)](_0x1434ef(0x823));if(_0x52eb31){const _0x1fbcb8=_0x52eb31[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0x220b9d=_0x52eb31[_0x1434ef(0x5ff)]['mode'],_0x561661=allQuizzes[_0x1434ef(0x5eb)](_0x22a8ff=>_0x22a8ff['id']===_0x1fbcb8);_0x561661&&showGameStartConfirmationModal(_0x1fbcb8,_0x220b9d,_0x561661[_0x1434ef(0xbdd)]);}else{if(_0x2e8b74){const _0x5103f7=_0x2e8b74[_0x1434ef(0x5ff)]['quizId'];handleStartLiveRace(_0x5103f7);}else{if(_0xf76955){const _0x30c56f=_0xf76955[_0x1434ef(0x5ff)]['quizId'],_0x5063fc=document['getElementById'](_0x1434ef(0x1d6)+_0x30c56f);_0x5063fc&&_0x5063fc[_0x1434ef(0xeac)][_0x1434ef(0x334)](_0x1434ef(0xcc2));}else{if(_0xdc652c){const _0x5d6224=_0xdc652c[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0x405dcb=allQuizzes[_0x1434ef(0x5eb)](_0x379495=>_0x379495['id']===_0x5d6224);_0x405dcb&&handleGenerateParallelPostTest(_0x405dcb);}else{if(_0x43a38a)handleCompareResults(_0x43a38a[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0x43a38a[_0x1434ef(0x5ff)]['preTestId']);else{if(_0xf527c5){const _0x41b66f=_0xf527c5['dataset'][_0x1434ef(0x6b4)],_0x127cf3=allQuizzes[_0x1434ef(0x5eb)](_0x231c40=>_0x231c40['id']===_0x41b66f);_0x127cf3&&_0x127cf3[_0x1434ef(0x477)]?(displayLessonPlan(_0x127cf3[_0x1434ef(0x477)],_0x127cf3),showConfirmation(_0x1434ef(0xbd8),()=>handleGenerateLessonPlan(_0x41b66f)),document['getElementById']('confirmation-modal')[_0x1434ef(0xd27)]('h3')['textContent']=_0x1434ef(0xaba),document[_0x1434ef(0x815)]('confirm-delete-btn')[_0x1434ef(0x587)]=_0x1434ef(0x539)):handleGenerateLessonPlan(_0x41b66f);}else{if(_0x15d2c9)handleToggleStarQuiz(_0x15d2c9[_0x1434ef(0x5ff)]['quizId']);else{if(_0x298240)copyTextToClipboard(_0x298240[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],'คัดลอกรหัสแล้ว!');else{if(_0x5df92d)handleOpenQuizEditor(_0x5df92d[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)]);else{if(_0x5514fe)handleQuizSettings(_0x5514fe[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)]);else{if(_0x852f79)handleDuplicateQuiz(_0x852f79[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)]);else{if(_0xb9a614)handleRenameQuiz(_0xb9a614[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0xb9a614[_0x1434ef(0x5ff)]['topic']);else{if(_0x3d8baa){const _0x45f839=_0x3d8baa[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0x3de7a4=allQuizzes[_0x1434ef(0x5eb)](_0x3d3eda=>_0x3d3eda['id']===_0x45f839);_0x3de7a4&&handleGenerateParallelFromBank(_0x3de7a4);}else{if(_0x307e9d)handleMoveQuiz(_0x307e9d[_0x1434ef(0x5ff)]['quizId']);else{if(_0x3015bf)handleManualQuizPairing(_0x3015bf['dataset'][_0x1434ef(0x6b4)]);else{if(_0x198179)handleUnpairQuiz(_0x198179['dataset'][_0x1434ef(0x6b4)]);else{if(_0x2857e2){const _0x4bdffa=_0x2857e2[_0x1434ef(0x5ff)]['quizId'],_0x2145cf=allQuizzes[_0x1434ef(0x5eb)](_0x1b7deb=>_0x1b7deb['id']===_0x4bdffa);if(_0x2145cf)startPresentation(_0x2145cf);}else{if(_0x3bec87){const _0x523a51=_0x3bec87[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)],_0x2c313b=allQuizzes[_0x1434ef(0x5eb)](_0x5194d5=>_0x5194d5['id']===_0x523a51);_0x2c313b&&(currentQuizData=_0x2c313b,startAdminTest());}else{if(_0x11c475)actionTargetId=_0x11c475[_0x1434ef(0x5ff)]['quizId'],document[_0x1434ef(0x815)]('export-pdf-modal')[_0x1434ef(0xeac)][_0x1434ef(0xb0b)](_0x1434ef(0xcc2));else{if(_0x4090d9)showConfirmation(_0x1434ef(0x7a0)+_0x4090d9['dataset']['topic']+_0x1434ef(0x96b),()=>handleDeleteQuiz(_0x4090d9['dataset']['quizId']));else{if(_0x54387b)handleQuizStatus(_0x54387b[_0x1434ef(0x5ff)]['quizId']);else{if(_0x4d26f9)handleGenerateEasyVersionQuiz(_0x4d26f9['dataset']['quizId']);else _0x4f4eda&&showQuizDetailView(_0x4f4eda[_0x1434ef(0x5ff)][_0x1434ef(0x6b4)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x352ebb(0x815)](_0x352ebb(0xbd2))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>showView(_0x352ebb(0x974))),document['getElementById']('confirm-team-players-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),confirmAndStartTeamQuiz),document[_0x352ebb(0x815)](_0x352ebb(0x25d))[_0x352ebb(0xd27)](_0x352ebb(0x937))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x4fd621=>{const _0x12dcdb=_0x352ebb,_0x59ed8a=_0x4fd621[_0x12dcdb(0x3d1)][_0x12dcdb(0xa28)](_0x12dcdb(0xbe9));if(!_0x59ed8a||!_0x59ed8a[_0x12dcdb(0x5ff)][_0x12dcdb(0xa6f)])return;const _0xc1accc=_0x59ed8a[_0x12dcdb(0x5ff)]['sort'];if(quizLeaderboardSortBy===_0xc1accc)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x12dcdb(0x328)?_0x12dcdb(0xc93):_0x12dcdb(0x328);else{quizLeaderboardSortBy=_0xc1accc;const _0x55c792=['studentName'];quizLeaderboardSortOrder=_0x55c792[_0x12dcdb(0x8f3)](_0xc1accc)?_0x12dcdb(0x328):_0x12dcdb(0xc93);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x12dcdb(0x6fb));}),document[_0x352ebb(0x815)](_0x352ebb(0x375))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),closePresentation),document['getElementById']('prev-question-btn')[_0x352ebb(0x7b7)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x352ebb(0x815)](_0x352ebb(0xa25))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x53a9b1=_0x352ebb;currentQuizData[_0x53a9b1(0x746)]&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x352ebb(0x7b7)](_0x352ebb(0x377),()=>{const _0x4977cb=_0x352ebb;!document['fullscreenElement']&&(presentationModal[_0x4977cb(0x205)][_0x4977cb(0xdd3)]=_0x4977cb(0x1e2));}),document[_0x352ebb(0x815)](_0x352ebb(0x3cb))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleDeleteAllStudents),studentList[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x307db8=>{const _0x2a4430=_0x352ebb,_0x24bcf8=_0x307db8['target'][_0x2a4430(0xa28)](_0x2a4430(0xb7c));if(_0x24bcf8){const _0x3cb317=_0x24bcf8[_0x2a4430(0x5ff)][_0x2a4430(0x455)];handleDeleteStudent(_0x3cb317);}}),document[_0x352ebb(0x815)](_0x352ebb(0x5da))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleGenerateFromFileClick),fileUploadInput[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x51103c=>{const _0x2e8034=_0x352ebb,_0x4465e9=_0x51103c[_0x2e8034(0x3d1)][_0x2e8034(0x6a2)][0x0],_0x3689d1=document['getElementById'](_0x2e8034(0x5da)),_0x297f22=document[_0x2e8034(0x815)](_0x2e8034(0x1d8)),_0x3acb8b=document[_0x2e8034(0x815)](_0x2e8034(0x880));_0x4465e9?(selectedFile=_0x4465e9,_0x3acb8b[_0x2e8034(0xdaf)]?(_0x3689d1[_0x2e8034(0x44b)]=!![],analyzeFileForTopics(_0x4465e9)):(_0x3689d1[_0x2e8034(0x44b)]=![],_0x297f22[_0x2e8034(0xeac)]['add']('hidden'))):(selectedFile=null,_0x3689d1[_0x2e8034(0x44b)]=!![],_0x297f22[_0x2e8034(0xeac)][_0x2e8034(0x4db)](_0x2e8034(0xcc2)));}),document['getElementById'](_0x352ebb(0x880))[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x4586d8=>{const _0x5cf507=_0x352ebb,_0x1b56d4=_0x4586d8[_0x5cf507(0x3d1)][_0x5cf507(0xdaf)],_0x2f26cf=document[_0x5cf507(0x815)](_0x5cf507(0x5da)),_0x1e4998=document[_0x5cf507(0x815)](_0x5cf507(0x1d8));_0x1b56d4?(_0x2f26cf['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x1e4998[_0x5cf507(0xeac)][_0x5cf507(0xb0b)]('hidden'),document[_0x5cf507(0x815)]('file-topics-list')['innerHTML']=_0x5cf507(0x7b3))):(_0x1e4998['classList'][_0x5cf507(0x4db)](_0x5cf507(0xcc2)),_0x2f26cf[_0x5cf507(0x44b)]=!selectedFile);}),document[_0x352ebb(0x815)](_0x352ebb(0x1d8))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x254bf3=>{const _0x4f2ca3=_0x352ebb,_0x4a37ab=_0x254bf3[_0x4f2ca3(0x3d1)][_0x4f2ca3(0xa28)](_0x4f2ca3(0x42d)),_0x578070=_0x254bf3[_0x4f2ca3(0x3d1)][_0x4f2ca3(0xa28)](_0x4f2ca3(0xc19));if(_0x4a37ab){const _0x5535e2=unescape(_0x4a37ab[_0x4f2ca3(0x5ff)][_0x4f2ca3(0xbdd)]);generateHybridQuizForTopic(_0x5535e2);}else{if(_0x578070){const _0x360114=unescape(_0x578070[_0x4f2ca3(0x5ff)][_0x4f2ca3(0xbdd)]),_0x22a258=document[_0x4f2ca3(0x815)](_0x4f2ca3(0xadc))[_0x4f2ca3(0xdd7)];handleGenerateAndShowLesson(_0x360114,_0x22a258);}}}),document[_0x352ebb(0x815)](_0x352ebb(0xd08))[_0x352ebb(0x7b7)]('change',_0x58ea83=>{const _0x465071=_0x352ebb,_0x3d1334=document[_0x465071(0x815)](_0x465071(0xe58)),_0x20cea6=document['getElementById']('timer-duration-label'),_0x122a23=document[_0x465071(0x815)](_0x465071(0xb39));_0x58ea83[_0x465071(0x3d1)][_0x465071(0xdd7)]==='none'?_0x3d1334[_0x465071(0xeac)][_0x465071(0x4db)](_0x465071(0xcc2)):(_0x3d1334[_0x465071(0xeac)][_0x465071(0xb0b)]('hidden'),_0x58ea83[_0x465071(0x3d1)][_0x465071(0xdd7)]===_0x465071(0xcb1)?(_0x20cea6['textContent']=_0x465071(0x61c),_0x122a23[_0x465071(0xdd7)]='10'):(_0x20cea6[_0x465071(0x587)]=_0x465071(0xc53),_0x122a23['value']='30'));}),document[_0x352ebb(0x815)](_0x352ebb(0xa7e))[_0x352ebb(0x7b7)](_0x352ebb(0x99b),_0x580f1a=>{const _0x2d0f43=_0x352ebb,_0x3dbd67=document[_0x2d0f43(0x815)](_0x2d0f43(0x921)),_0x1e8c39=_0x580f1a[_0x2d0f43(0x3d1)][_0x2d0f43(0xdd7)],_0xd6af0c=document[_0x2d0f43(0xd27)]('label[for=\x22num-questions\x22]'),_0x265980=document['getElementById'](_0x2d0f43(0x6e6)),_0x53c365=document[_0x2d0f43(0x815)]('num-questions');_0x1e8c39===_0x2d0f43(0xb42)?_0xd6af0c[_0x2d0f43(0x587)]=_0x2d0f43(0x936):_0xd6af0c[_0x2d0f43(0x587)]=_0x2d0f43(0x805),_0x1e8c39===_0x2d0f43(0x653)||_0x1e8c39==='fill_in_with_choices'||_0x1e8c39===_0x2d0f43(0x6a6)?_0x3dbd67['classList'][_0x2d0f43(0xb0b)](_0x2d0f43(0xcc2)):_0x3dbd67[_0x2d0f43(0xeac)][_0x2d0f43(0x4db)](_0x2d0f43(0xcc2)),_0x265980[_0x2d0f43(0x526)]=_0x53c365[_0x2d0f43(0xdd7)];}),document[_0x352ebb(0x815)](_0x352ebb(0x629))[_0x352ebb(0x7b7)]('input',_0x5d5567=>{const _0x47cea0=_0x352ebb;document[_0x47cea0(0x815)](_0x47cea0(0x6e6))[_0x47cea0(0x526)]=_0x5d5567[_0x47cea0(0x3d1)][_0x47cea0(0xdd7)];}),document[_0x352ebb(0x815)](_0x352ebb(0x507))[_0x352ebb(0x7b7)]('change',_0x1e19d3=>{const _0x2e5769=_0x352ebb,_0x240b9f=document['getElementById'](_0x2e5769(0xaed)),_0x4a1aa3=document[_0x2e5769(0x815)](_0x2e5769(0x8c6)),_0x105d76=document['getElementById'](_0x2e5769(0x8a5));_0x1e19d3[_0x2e5769(0x3d1)][_0x2e5769(0xdd7)]===_0x2e5769(0x1e2)?_0x240b9f[_0x2e5769(0xeac)][_0x2e5769(0x4db)]('hidden'):(_0x240b9f[_0x2e5769(0xeac)]['remove'](_0x2e5769(0xcc2)),_0x1e19d3['target'][_0x2e5769(0xdd7)]===_0x2e5769(0xcb1)?_0x4a1aa3[_0x2e5769(0x587)]=_0x2e5769(0x61c):_0x4a1aa3[_0x2e5769(0x587)]=_0x2e5769(0xc53));}),document[_0x352ebb(0x815)]('cancel-quiz-edits-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x2f8210=_0x352ebb;document['getElementById'](_0x2f8210(0x309))[_0x2f8210(0xeac)]['add']('hidden');}),document['getElementById'](_0x352ebb(0x4e9))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x4e60bb=_0x352ebb;document[_0x4e60bb(0x815)](_0x4e60bb(0x309))[_0x4e60bb(0xeac)][_0x4e60bb(0x4db)](_0x4e60bb(0xcc2));}),document[_0x352ebb(0x815)](_0x352ebb(0x6c1))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),handleVerifyAnswersInEditor),document[_0x352ebb(0x815)](_0x352ebb(0x408))['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x10960b=_0x352ebb;document[_0x10960b(0x815)](_0x10960b(0x309))[_0x10960b(0xeac)][_0x10960b(0x4db)](_0x10960b(0xcc2)),showConfirmation(_0x10960b(0xa89),handleSaveChanges);}),document[_0x352ebb(0x815)]('auto-fix-latex-btn')[_0x352ebb(0x7b7)]('click',handleAutoFixLatex);const _0x55d38b=document[_0x352ebb(0x815)]('quiz-editor-questions-container');_0x55d38b&&_0x55d38b[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x3e790d=>{const _0x276061=_0x352ebb,_0x271e9c=_0x3e790d[_0x276061(0x3d1)][_0x276061(0xa28)](_0x276061(0x421));if(_0x271e9c){const _0x324252=_0x271e9c[_0x276061(0xa28)](_0x276061(0xbbb)),_0x4db5af=parseInt(_0x324252['dataset'][_0x276061(0x449)],0xa);handleRegenerateQuestionInEditor(_0x4db5af);return;}const _0x2e3dbc=_0x3e790d[_0x276061(0x3d1)][_0x276061(0xa28)](_0x276061(0x5ae));if(_0x2e3dbc){const _0x49663a=_0x2e3dbc[_0x276061(0xa28)]('.question-editor-item'),_0x1c080d=parseInt(_0x49663a[_0x276061(0x5ff)][_0x276061(0x449)],0xa);handleDeleteQuestionInEditor(_0x1c080d);return;}const _0x5227ba=_0x3e790d['target'][_0x276061(0xa28)](_0x276061(0x471));if(_0x5227ba){handleAddQuestionInEditor();return;}});document[_0x352ebb(0x815)](_0x352ebb(0xcd4))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),openQuizBankModal),document['getElementById']('cancel-quiz-bank-btn')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x35cc99=_0x352ebb;document[_0x35cc99(0x815)](_0x35cc99(0x98a))[_0x35cc99(0xeac)][_0x35cc99(0x4db)](_0x35cc99(0xcc2));}),document[_0x352ebb(0x815)]('bank-quiz-search-input')[_0x352ebb(0x7b7)](_0x352ebb(0xa61),_0x402e35=>renderQuizBankList(_0x402e35['target'][_0x352ebb(0xdd7)]));const _0x56c6a7=document['getElementById']('math-topics-checkbox-container');if(_0x56c6a7){let _0x32461b=null;_0x56c6a7[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x44146e=>{const _0xe6f4dc=_0x352ebb,_0x4f0c91=_0x44146e[_0xe6f4dc(0x3d1)],_0x4041=_0x4f0c91[_0xe6f4dc(0xa28)]('.edit-custom-topic-btn'),_0x1d47a7=_0x4f0c91[_0xe6f4dc(0xa28)](_0xe6f4dc(0xbcc)),_0x3ed0b2=_0x4f0c91[_0xe6f4dc(0xa28)](_0xe6f4dc(0x206)),_0x3df516=_0x4f0c91[_0xe6f4dc(0xa28)](_0xe6f4dc(0x278));if(_0x1d47a7){_0x44146e[_0xe6f4dc(0x896)]();const _0x386bf1=_0x1d47a7['dataset']['id'],_0x3a126d=_0x1d47a7['closest'](_0xe6f4dc(0x3c2))[_0xe6f4dc(0xd27)](_0xe6f4dc(0x427))[_0xe6f4dc(0x587)];showConfirmation(_0xe6f4dc(0xc45)+_0x3a126d+'\x22?',()=>handleDeleteCustomTopic(_0x386bf1));}else{if(_0x4041){_0x44146e['preventDefault']();_0x32461b&&toggleTopicEditMode(_0x32461b,![]);const _0x4f940f=_0x4041['closest'](_0xe6f4dc(0x2cf));_0x32461b=_0x4f940f,toggleTopicEditMode(_0x4f940f,!![]);}else{if(_0x3ed0b2){_0x44146e['preventDefault']();const _0x21a5d4=_0x3ed0b2[_0xe6f4dc(0x5ff)]['id'],_0x13f16f=_0x3ed0b2[_0xe6f4dc(0xa28)]('[data-topic-container-id]'),_0x1d74ae=_0x13f16f['querySelector']('.topic-name-input')[_0xe6f4dc(0xdd7)];handleUpdateCustomTopic(_0x21a5d4,_0x1d74ae),_0x32461b=null;}else{if(_0x3df516){_0x44146e['preventDefault']();const _0x375f5b=_0x3df516[_0xe6f4dc(0xa28)](_0xe6f4dc(0x2cf));toggleTopicEditMode(_0x375f5b,![]),_0x32461b=null;}}}}}),document[_0x352ebb(0x815)](_0x352ebb(0xb17))['addEventListener'](_0x352ebb(0x7a5),()=>{const _0xd0a6d=_0x352ebb;document['getElementById'](_0xd0a6d(0x688))[_0xd0a6d(0xeac)][_0xd0a6d(0x4db)](_0xd0a6d(0xcc2));}),document[_0x352ebb(0x815)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x379faf=_0x352ebb;document[_0x379faf(0x815)](_0x379faf(0x688))[_0x379faf(0xeac)][_0x379faf(0x4db)]('hidden');}),document['getElementById']('export-lesson-pdf-btn')['addEventListener'](_0x352ebb(0x7a5),handleExportLessonPDF);}document[_0x352ebb(0x815)](_0x352ebb(0x80b))[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{const _0x3caf2f=_0x352ebb;document[_0x3caf2f(0x815)](_0x3caf2f(0x531))['classList'][_0x3caf2f(0x4db)](_0x3caf2f(0xcc2));}),document[_0x352ebb(0x815)]('close-comparison-modal-footer-btn')[_0x352ebb(0x7b7)]('click',()=>{const _0x538191=_0x352ebb;document[_0x538191(0x815)](_0x538191(0x531))[_0x538191(0xeac)][_0x538191(0x4db)](_0x538191(0xcc2));}),setupComparisonModalTabs(),document[_0x352ebb(0x87e)][_0x352ebb(0x7b7)](_0x352ebb(0x7a5),function(_0x655b2f){const _0x1ea4c9=_0x352ebb;if(_0x655b2f['target'][_0x1ea4c9(0xeac)]['contains']('practice-topic-btn')){const _0x5b76f0=unescape(_0x655b2f['target'][_0x1ea4c9(0x5ff)][_0x1ea4c9(0xbdd)]);startSkillPractice(_0x5b76f0);}}),document[_0x352ebb(0x815)]('scores-tab-content')[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),_0x2ee416=>{const _0x534d87=_0x352ebb,_0x5791d1=_0x2ee416[_0x534d87(0x3d1)][_0x534d87(0xa28)](_0x534d87(0xa0a));if(_0x5791d1){const _0x1663b4=_0x5791d1[_0x534d87(0x5ff)]['studentName'];handleDeleteSubmission(_0x1663b4);return;}const _0x3da265=_0x2ee416[_0x534d87(0x3d1)][_0x534d87(0xa28)](_0x534d87(0x67f));if(_0x3da265){const _0x9f4626=_0x3da265[_0x534d87(0x5ff)][_0x534d87(0x455)],_0x368786=_0x3da265[_0x534d87(0x5ff)][_0x534d87(0xb08)],_0x5c984b=prompt(_0x534d87(0x4a1)+_0x9f4626+_0x534d87(0x6c9),_0x368786);if(_0x5c984b!==null&&_0x5c984b[_0x534d87(0x99f)]()!==''){const _0x13938f=parseInt(_0x5c984b,0xa);!isNaN(_0x13938f)?handleManualEditPoints(_0x9f4626,_0x13938f):alert(_0x534d87(0x685));}}}),document['getElementById'](_0x352ebb(0x389))?.['addEventListener'](_0x352ebb(0x7a5),()=>{const _0x309c94=_0x352ebb;document['getElementById'](_0x309c94(0xbd3))[_0x309c94(0xeac)][_0x309c94(0x4db)](_0x309c94(0xcc2));}),document[_0x352ebb(0x8c8)](_0x352ebb(0x9dc))[_0x352ebb(0xdec)](_0x454bb5=>{const _0x589061=_0x352ebb;_0x454bb5['addEventListener'](_0x589061(0x7a5),()=>{handlePinKeyPress(_0x454bb5['dataset']['val']);});}),document['getElementById']('pin-backspace-btn')?.[_0x352ebb(0x7b7)](_0x352ebb(0x7a5),()=>{handlePinKeyPress('backspace');});}async function handleStartGroupMode(_0x163a46,_0x76304=![]){const _0x434201=_0x230ac1,_0x33d3db=allQuizzes[_0x434201(0x5eb)](_0x40b7e2=>_0x40b7e2['id']===_0x163a46)||allQuizzesGlobal[_0x434201(0x5eb)](_0x225595=>_0x225595['id']===_0x163a46);if(!_0x33d3db){showMessage(_0x434201(0x66e));return;}currentQuizData=getShuffledQuiz(_0x33d3db);const _0x54b160=Math['floor'](0x3e8+Math[_0x434201(0x88b)]()*0x2328)['toString']();try{const _0x32372f=await addDoc(collection(db,_0x434201(0x884)+appId+_0x434201(0x706)),{'quizId':_0x33d3db['id'],'projectId':_0x33d3db[_0x434201(0x791)],'status':_0x434201(0x768),'pin':_0x54b160,'mode':_0x434201(0x53a),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x76304});currentTeamQuizId=_0x32372f['id'],showView(_0x434201(0xb32)),renderAdminTeamQuizDashboard(_0x54b160,_0x33d3db[_0x434201(0xbdd)],_0x434201(0x53a)),listenForTeamQuizUpdates();}catch(_0x3cbaec){console['error'](_0x434201(0xa82),_0x3cbaec),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x4ca0d0=_0x230ac1;studentInitialView[_0x4ca0d0(0xeac)][_0x4ca0d0(0x4db)](_0x4ca0d0(0xcc2)),document[_0x4ca0d0(0x815)](_0x4ca0d0(0x29f))[_0x4ca0d0(0xeac)]['remove'](_0x4ca0d0(0xcc2));const _0xf03b24=document[_0x4ca0d0(0x815)](_0x4ca0d0(0x982)),_0x45bb2d=document[_0x4ca0d0(0x815)](_0x4ca0d0(0xb37)),_0x1f79ec=document[_0x4ca0d0(0x815)](_0x4ca0d0(0xe4f));_0x1f79ec[_0x4ca0d0(0x63b)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x45bb2d['innerHTML']=_0x4ca0d0(0x412),_0x45bb2d['disabled']=!![],_0xf03b24[_0x4ca0d0(0x63b)]=_0x4ca0d0(0x44c);if(allProjects[_0x4ca0d0(0xe93)]===0x0){const _0x5d5d96=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x239f10=await getDocs(_0x5d5d96);allProjects=_0x239f10[_0x4ca0d0(0xcf8)][_0x4ca0d0(0xe07)](_0x2aa15e=>({'id':_0x2aa15e['id'],..._0x2aa15e[_0x4ca0d0(0xdad)]()}));}const _0x66e75=allProjects['filter'](_0x1db196=>_0x1db196['settings']?.[_0x4ca0d0(0x76d)]!==![]);_0x66e75['sort']((_0x4ec7c6,_0x2c50f7)=>_0x4ec7c6[_0x4ca0d0(0x98b)][_0x4ca0d0(0xdc1)](_0x2c50f7[_0x4ca0d0(0x98b)],'th')),_0xf03b24[_0x4ca0d0(0x63b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x66e75[_0x4ca0d0(0xe07)](_0x291fdc=>_0x4ca0d0(0x3a8)+_0x291fdc['id']+'\x22>'+_0x291fdc[_0x4ca0d0(0x98b)]+_0x4ca0d0(0x817))[_0x4ca0d0(0x885)](''),_0xf03b24[_0x4ca0d0(0xd8b)]=()=>{const _0x17cb49=_0x4ca0d0,_0x43e2b1=_0x45bb2d[_0x17cb49(0xdd7)],_0x3ed79d=_0xf03b24[_0x17cb49(0xdd7)];_0x45bb2d['disabled']=!![],_0x45bb2d['innerHTML']=_0x17cb49(0x412),_0x1f79ec[_0x17cb49(0x63b)]=_0x17cb49(0x98d);if(!_0x3ed79d)return;const _0x367e02=allProjects[_0x17cb49(0x5eb)](_0x50d1b7=>_0x50d1b7['id']===_0x3ed79d);if(!_0x367e02||!_0x367e02['students'])return;const _0x40f28e=()=>{const _0x42c011=_0x17cb49;_0x45bb2d[_0x42c011(0x63b)]=_0x42c011(0x412)+_0x367e02['students']['map'](_0x3d21b0=>_0x42c011(0x3a8)+_0x3d21b0+'\x22>'+_0x3d21b0+_0x42c011(0x817))[_0x42c011(0x885)](''),_0x45bb2d[_0x42c011(0x44b)]=![];const _0x3843e3=Array[_0x42c011(0x488)](_0x45bb2d[_0x42c011(0xa9c)])[_0x42c011(0xe07)](_0x13c865=>_0x13c865[_0x42c011(0xdd7)]);if(_0x43e2b1&&_0x3843e3[_0x42c011(0x8f3)](_0x43e2b1))_0x45bb2d[_0x42c011(0xdd7)]=_0x43e2b1,_0x45bb2d[_0x42c011(0x8a4)](new Event(_0x42c011(0x99b)));else _0x367e02[_0x42c011(0xa2f)]['length']===0x1&&(_0x45bb2d[_0x42c011(0xdd7)]=_0x367e02[_0x42c011(0xa2f)][0x0],_0x45bb2d[_0x42c011(0x8a4)](new Event('change')));};if(_0x367e02[_0x17cb49(0x22d)]?.[_0x17cb49(0x62e)]){if(sessionStorage[_0x17cb49(0xc99)]('authed_project_'+_0x3ed79d)===_0x17cb49(0x2f8)){_0x40f28e();return;}const _0xe7e9aa=document[_0x17cb49(0x815)](_0x17cb49(0x21d)),_0x5405f2=document[_0x17cb49(0x815)]('confirm-passcode-btn'),_0x124446=document[_0x17cb49(0x815)]('cancel-passcode-btn'),_0x595411=document[_0x17cb49(0x815)](_0x17cb49(0xee9)),_0x1c38d4=document['getElementById']('passcode-error-msg');document[_0x17cb49(0x815)](_0x17cb49(0xe23))[_0x17cb49(0x587)]='สำหรับโปรเจค:\x20'+_0x367e02[_0x17cb49(0x98b)],_0x595411[_0x17cb49(0xdd7)]='',_0x1c38d4['classList'][_0x17cb49(0x4db)]('hidden'),_0xe7e9aa[_0x17cb49(0xeac)][_0x17cb49(0xb0b)](_0x17cb49(0xcc2));const _0x310a4d=()=>{const _0x5983ec=_0x17cb49,_0xe4eca4=_0x595411[_0x5983ec(0xdd7)]['trim']();_0xe4eca4===_0x367e02[_0x5983ec(0x22d)][_0x5983ec(0xebb)]?(sessionStorage['setItem'](_0x5983ec(0xf2a)+_0x3ed79d,_0x5983ec(0x2f8)),_0xe7e9aa[_0x5983ec(0xeac)]['add']('hidden'),_0x40f28e(),_0x5405f2[_0x5983ec(0x8d5)]('click',_0x310a4d)):_0x1c38d4['classList'][_0x5983ec(0xb0b)](_0x5983ec(0xcc2));};_0x5405f2[_0x17cb49(0x7c5)]=_0x310a4d,_0x124446[_0x17cb49(0x7c5)]=()=>{const _0x5328b5=_0x17cb49;_0xe7e9aa['classList'][_0x5328b5(0x4db)](_0x5328b5(0xcc2)),_0xf03b24['value']='',_0x5405f2['removeEventListener'](_0x5328b5(0x7a5),_0x310a4d);};}else _0x40f28e();},_0x45bb2d['onchange']=()=>{const _0x22a875=_0x4ca0d0,_0xdca7b6=_0xf03b24[_0x22a875(0xdd7)],_0x21d5db=_0x45bb2d[_0x22a875(0xdd7)];_0xdca7b6&&_0x21d5db&&renderStudentProgressDashboard(_0xdca7b6,_0x21d5db);};}async function confirmAndJoinSyncGame(){const _0x333fa3=_0x230ac1;lastSeenQuestionIndex=-0x1,sessionStorage[_0x333fa3(0x43f)](_0x333fa3(0xa8f)),sessionStorage[_0x333fa3(0x43f)](_0x333fa3(0xe88)),Object[_0x333fa3(0x251)](sessionStorage)[_0x333fa3(0xdec)](_0xa49da4=>{const _0x3da37f=_0x333fa3;(_0xa49da4[_0x3da37f(0xef1)](_0x3da37f(0xc36))||_0xa49da4[_0x3da37f(0xef1)](_0x3da37f(0x826))||_0xa49da4[_0x3da37f(0xef1)](_0x3da37f(0x2d8)))&&sessionStorage[_0x3da37f(0x43f)](_0xa49da4);});const _0x58efef=Array['from'](document['querySelectorAll'](_0x333fa3(0xe61)))[_0x333fa3(0xe07)](_0x1201b4=>_0x1201b4[_0x333fa3(0xdd7)]);if(_0x58efef[_0x333fa3(0xe93)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x58efef,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x36b711=writeBatch(db),_0x4854f1=serverTimestamp();_0x58efef[_0x333fa3(0xdec)](_0x412e3c=>{const _0x100d55=_0x333fa3,_0x9454da=doc(db,_0x100d55(0x884)+appId+_0x100d55(0xde8)+currentLiveGameId+_0x100d55(0x950),_0x412e3c),_0x19f94f={'name':_0x412e3c,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x100d55(0xb0a),'answers':[],'joinedAt':_0x4854f1,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x36b711[_0x100d55(0xb1f)](_0x9454da,_0x19f94f,{'merge':!![]});}),await _0x36b711['commit'](),showView('live-game'),document[_0x333fa3(0x815)](_0x333fa3(0xe4b))[_0x333fa3(0xeac)][_0x333fa3(0x4db)](_0x333fa3(0xcc2)),currentStudentName=_0x58efef[0x0],listenForSyncGameUpdates();const _0x41a707={'gameId':currentLiveGameId,'mode':_0x333fa3(0x4e6),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x333fa3(0x337)](_0x333fa3(0xa26),JSON[_0x333fa3(0xd0a)](_0x41a707)),currentMode!==_0x333fa3(0xb1b)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x333fa3(0x377),handleFullscreenChange),document[_0x333fa3(0x7b7)](_0x333fa3(0x36a),handleVisibilityChange),enterFullscreen(),window[_0x333fa3(0x7b7)](_0x333fa3(0xcc6),resetDimTimer),window[_0x333fa3(0x7b7)](_0x333fa3(0xdbb),resetDimTimer),window['addEventListener'](_0x333fa3(0xec9),resetDimTimer),window[_0x333fa3(0x7b7)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x150ef6){console[_0x333fa3(0x1b6)](_0x333fa3(0x307),_0x150ef6),showMessage(_0x333fa3(0x7f5)+_0x150ef6[_0x333fa3(0xb95)]);}}async function resumeActiveGameSession(){const _0x364386=_0x230ac1,_0x338adc=sessionStorage[_0x364386(0xc99)](_0x364386(0xa26));if(!_0x338adc)return;const _0xdba392=JSON[_0x364386(0x74f)](_0x338adc),{gameId:_0x1dd461,mode:_0x470b12,role:_0x452ffd,players:_0x27f924,turnIndex:_0x1e7c13}=_0xdba392;try{if(_0x452ffd==='admin'&&_0x470b12==='sync'){const _0x595b99=doc(db,_0x364386(0x884)+appId+'/public/data/syncGames',_0x1dd461),_0x13167a=await getDoc(_0x595b99);if(!_0x13167a['exists']()||_0x13167a[_0x364386(0xdad)]()[_0x364386(0xc71)]===_0x364386(0x451)||_0x13167a[_0x364386(0xdad)]()[_0x364386(0xc71)]===_0x364386(0xd55)){sessionStorage[_0x364386(0x43f)](_0x364386(0xa26));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x1dd461+')'),currentMode=_0x364386(0x4fe),currentLiveGameId=_0x1dd461,currentQuizData=_0x13167a['data']()[_0x364386(0xde5)],showView(_0x364386(0xb32)),listenForSyncGameUpdates();}else{if(_0x470b12===_0x364386(0x4e6)&&_0x27f924){const _0x27dbe8=doc(db,_0x364386(0x884)+appId+_0x364386(0x3ce),_0x1dd461),_0x1b1a2b=await getDoc(_0x27dbe8);if(!_0x1b1a2b[_0x364386(0x939)]()||_0x1b1a2b['data']()[_0x364386(0xc71)]==='podium'||_0x1b1a2b['data']()[_0x364386(0xc71)]===_0x364386(0xd55)){sessionStorage['removeItem'](_0x364386(0xa26));return;}console['log'](_0x364386(0x645)+_0x1dd461+')'),currentLiveGameId=_0x1dd461,currentStudentName=_0x27f924[0x0],localTeamPlayers=_0x27f924,showView(_0x364386(0xb32)),listenForSyncGameUpdates();}else{if((_0x470b12==='team'||_0x470b12===_0x364386(0x53a))&&_0x27f924){const _0x5e50e9=doc(db,_0x364386(0x884)+appId+'/public/data/teamQuizzes',_0x1dd461),_0x26cbe6=await getDoc(_0x5e50e9);if(!_0x26cbe6[_0x364386(0x939)]()||_0x26cbe6['data']()[_0x364386(0xc71)]===_0x364386(0x451)||_0x26cbe6[_0x364386(0xdad)]()[_0x364386(0xc71)]===_0x364386(0xd55)){sessionStorage['removeItem'](_0x364386(0xa26));return;}console[_0x364386(0x1cf)](_0x364386(0x657)+_0x470b12+_0x364386(0xcf0)+_0x1dd461+')'),currentTeamQuizId=_0x1dd461,localTeamPlayers=_0x27f924,localQuestionIndex=_0xdba392['questionIndex']||0x0,localPlayerIndex=_0xdba392['playerIndex']||0x0;const _0x5f1bc4=_0x26cbe6[_0x364386(0xdad)](),_0x2dfa38=doc(db,_0x364386(0x884)+appId+_0x364386(0x8a2),_0x5f1bc4['quizId']),_0x739acd=await getDoc(_0x2dfa38);_0x739acd[_0x364386(0x939)]()&&(currentQuizData=getShuffledQuiz({'id':_0x739acd['id'],..._0x739acd[_0x364386(0xdad)]()}),showView(_0x364386(0x974)),studentInitialView[_0x364386(0xeac)]['add'](_0x364386(0xcc2)),_0x470b12==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x323bb9){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x323bb9),sessionStorage[_0x364386(0x43f)](_0x364386(0xa26));}}async function handleUsePowerup(_0x7ffad0,_0x231a22,_0x4d93c5,_0x88e832,_0x783f23){const _0x554e86=_0x230ac1,_0x39b60d=_0x88e832[_0x554e86(0xf23)],_0x2d6269='powerupUsed_q'+_0x39b60d+'_p'+_0x7ffad0,_0x4bc23a=sessionStorage['getItem'](_0x2d6269);if(_0x4bc23a&&_0x231a22!==_0x554e86(0x7a9)&&_0x231a22!=='strategyScan'){showMessage(_0x554e86(0xb46));const _0x5af38f=document[_0x554e86(0x815)](_0x554e86(0x64b)+_0x231a22);if(_0x5af38f)_0x5af38f[_0x554e86(0x44b)]=![];return;}if(_0x231a22===_0x554e86(0x3e1)){sessionStorage[_0x554e86(0x337)](_0x2d6269,_0x231a22),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x88e832);return;}const _0x105065=doc(db,_0x554e86(0x884)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x554e86(0x950),_0x7ffad0);try{await runTransaction(db,async _0x4fda60=>{const _0x49ea33=_0x554e86,_0x40e1d1=await _0x4fda60[_0x49ea33(0x837)](_0x105065);if(!_0x40e1d1[_0x49ea33(0x939)]())throw _0x49ea33(0xe38);const _0x5e2e9a=_0x40e1d1[_0x49ea33(0xdad)](),_0x3d53b0=_0x5e2e9a[_0x49ea33(0xaae)]||{},_0x417ca1=_0x3d53b0[_0x231a22]||0x0;if(_0x417ca1<=0x0)throw _0x49ea33(0x7af);const _0x54eece={};_0x54eece[_0x49ea33(0xc51)+_0x231a22]=increment(-0x1);_0x231a22!==_0x49ea33(0x3e1)&&(_0x54eece[_0x49ea33(0xce0)]=0x0);if(_0x231a22==='buyTime'){const _0x44a042=(_0x88e832['timerDuration']||0xf0)*0x3e8,_0x530f0e=_0x44a042*0.25;_0x54eece[_0x49ea33(0x339)]=increment(_0x530f0e);}_0x4fda60[_0x49ea33(0x482)](_0x105065,_0x54eece);}),_0x231a22===_0x554e86(0x6ee)&&sessionStorage[_0x554e86(0x337)](_0x554e86(0xa8f),_0x554e86(0x2f8)),_0x231a22!==_0x554e86(0x7a9)&&_0x231a22!==_0x554e86(0xb26)&&sessionStorage[_0x554e86(0x337)](_0x2d6269,_0x231a22),playSystemSound('powerup'),applyPowerupEffect(_0x7ffad0,_0x231a22,_0x4d93c5,_0x88e832,_0x783f23),(_0x231a22===_0x554e86(0xb5e)||_0x231a22===_0x554e86(0x69a)||_0x231a22==='insurance'||_0x231a22==='revealOptions')&&renderStudentSyncQuestionView(_0x88e832),_0x231a22!==_0x554e86(0x3e1)&&_0x783f23[_0x554e86(0xce0)]>0x0&&showMessage(_0x554e86(0x48b)+_0x231a22+_0x554e86(0x8cb));}catch(_0x2ea061){console[_0x554e86(0x1b6)]('Powerup\x20use\x20failed:',_0x2ea061),showMessage(typeof _0x2ea061===_0x554e86(0x96c)?_0x2ea061:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x53faed=document['getElementById'](_0x554e86(0x64b)+_0x231a22);if(_0x53faed)_0x53faed[_0x554e86(0x44b)]=![];}}async function getCachedOtherPlayers(_0x2988ee,_0x253ede){const _0x1ecac4=_0x230ac1,_0x39f72a=_0x2988ee[_0x1ecac4(0xf23)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x39f72a)return console['log'](_0x1ecac4(0xf27)),cachedOtherPlayersForQuestion;console[_0x1ecac4(0x1cf)](_0x1ecac4(0x342));const _0x101422=collection(db,'artifacts/'+appId+_0x1ecac4(0xde8)+currentLiveGameId+'/players'),_0x5486a1=query(_0x101422,where(_0x1ecac4(0xc71),'==',_0x1ecac4(0xb0a))),_0xc1e1ca=await getDocs(_0x5486a1),_0x16c9a1=[];return _0xc1e1ca['forEach'](_0x6f882=>{const _0x24a3a9=_0x1ecac4,_0xb9d58c=_0x6f882[_0x24a3a9(0xdad)]();_0x16c9a1['push'](_0xb9d58c);}),cachedOtherPlayersForQuestion=_0x16c9a1,cachedQuestionIndexForPlayers=_0x39f72a,_0x16c9a1;}async function applyPowerupEffect(_0x2f45d2,_0x3b77c3,_0x397db6,_0x36c2fb,_0x5b1df0){const _0x331dbd=_0x230ac1,_0x4b9950=_0x397db6,_0x591d30=_0x36c2fb[_0x331dbd(0xf23)];switch(_0x3b77c3){case'wagerMultiplier':showMessage(_0x331dbd(0x40d));break;case'secondChance':showMessage(_0x331dbd(0xbf2));break;case _0x331dbd(0x7a9):const _0x9f94ce=(_0x36c2fb[_0x331dbd(0x849)]||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x9f94ce+_0x331dbd(0x696));break;case _0x331dbd(0xb5e):case _0x331dbd(0x69a):const _0x14b321=document[_0x331dbd(0x8c8)](_0x331dbd(0x754));if(_0x14b321[_0x331dbd(0xe93)]===0x0){showMessage('❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ');return;}const _0x44cf2e='hiddenOptions_q'+_0x591d30+'_p'+_0x2f45d2,_0x637a82=JSON[_0x331dbd(0x74f)](sessionStorage[_0x331dbd(0xc99)](_0x44cf2e)||'[]');let _0x19566d;const _0x4a15a3=_0x4b9950[_0x331dbd(0x1f4)]||_0x36c2fb[_0x331dbd(0xde5)][_0x331dbd(0x1c2)];_0x4a15a3==='true_false'?_0x19566d=String(_0x4b9950[_0x331dbd(0x68b)])['toLowerCase']()===_0x331dbd(0x2f8)?0x0:0x1:_0x19566d=_0x4b9950[_0x331dbd(0xdfa)];const _0x2b7539=Array[_0x331dbd(0x488)](_0x14b321)[_0x331dbd(0x320)](_0x22ca85=>parseInt(_0x22ca85['dataset'][_0x331dbd(0xdd7)])!==_0x19566d&&!_0x637a82[_0x331dbd(0x8f3)](_0x22ca85[_0x331dbd(0x5ff)][_0x331dbd(0xdd7)]));if(_0x2b7539[_0x331dbd(0xe93)]===0x0){showMessage(_0x331dbd(0x34b));return;}shuffleArray(_0x2b7539);const _0x2ba5ae=_0x3b77c3===_0x331dbd(0xb5e)?0x1:0x2,_0x551472=[];for(let _0x4be55c=0x0;_0x4be55c<_0x2ba5ae;_0x4be55c++){_0x2b7539[_0x4be55c]&&(_0x2b7539[_0x4be55c]['classList'][_0x331dbd(0x4db)](_0x331dbd(0xcc2)),_0x551472[_0x331dbd(0xacf)](_0x2b7539[_0x4be55c][_0x331dbd(0x5ff)][_0x331dbd(0xdd7)]));}const _0x359855=[..._0x637a82,..._0x551472];sessionStorage[_0x331dbd(0x337)](_0x44cf2e,JSON['stringify'](_0x359855)),showMessage(_0x3b77c3===_0x331dbd(0xb5e)?_0x331dbd(0x33f):_0x331dbd(0x1bf));break;default:showMessage(_0x331dbd(0x909)+_0x3b77c3+_0x331dbd(0xea6));}}async function handleForceConfident(_0x456331,_0x58a81d){const _0x10c56c=_0x230ac1;if(!currentLiveGameId||!_0x456331)return;const _0x311685=doc(db,_0x10c56c(0x884)+appId+_0x10c56c(0xde8)+currentLiveGameId+_0x10c56c(0x950),_0x456331);try{await updateDoc(_0x311685,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x58a81d+_0x10c56c(0x56c));}catch(_0x4dc220){console[_0x10c56c(0x1b6)](_0x10c56c(0xb19),_0x4dc220),showMessage(_0x10c56c(0x978));}}async function handleRefundPowerup(_0x20e60e,_0x20d6ae){const _0x34d625=_0x230ac1,_0x2f91f2=doc(db,_0x34d625(0x884)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x34d625(0x950),_0x20e60e);try{const _0x344195={};_0x344195[_0x34d625(0xc51)+_0x20d6ae]=increment(0x1),await updateDoc(_0x2f91f2,_0x344195),console['log'](_0x34d625(0xa4b)+_0x20d6ae+_0x34d625(0xe99)+_0x20e60e);}catch(_0x2bdad0){console[_0x34d625(0x1b6)]('Failed\x20to\x20refund\x20powerup:',_0x2bdad0);}}async function handleApplyJinx(_0x554da6,_0x113a1e){const _0x19316d=_0x230ac1;if(!currentLiveGameId||!_0x554da6)return;const _0x59d014=doc(db,_0x19316d(0x884)+appId+_0x19316d(0xde8)+currentLiveGameId+_0x19316d(0x950),_0x554da6);try{await updateDoc(_0x59d014,{'isJinxed':!![]}),showMessage(_0x19316d(0xd6b)+_0x113a1e+_0x19316d(0x56c));}catch(_0x7e9a41){console[_0x19316d(0x1b6)](_0x19316d(0x27e),_0x7e9a41),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x5f07b8=_0x230ac1,_0x371acb=document[_0x5f07b8(0x815)](_0x5f07b8(0x5da)),_0x27886f=document[_0x5f07b8(0x815)](_0x5f07b8(0x1d8)),_0x1ef263=document[_0x5f07b8(0x815)](_0x5f07b8(0x880));selectedFile?_0x1ef263[_0x5f07b8(0xdaf)]?(_0x371acb[_0x5f07b8(0x44b)]=!![],analyzeFileForTopics(selectedFile)):(_0x371acb['disabled']=![],_0x27886f['classList'][_0x5f07b8(0x4db)](_0x5f07b8(0xcc2))):(_0x371acb[_0x5f07b8(0x44b)]=!![],_0x27886f[_0x5f07b8(0xeac)]['add'](_0x5f07b8(0xcc2)));}async function handleKickPlayerSync(_0x5a866c){const _0x8c294f=_0x230ac1;if(!currentLiveGameId||!_0x5a866c)return;const _0x451a21=doc(db,_0x8c294f(0x884)+appId+_0x8c294f(0xde8)+currentLiveGameId+_0x8c294f(0x950),_0x5a866c);try{await updateDoc(_0x451a21,{'status':_0x8c294f(0xd7d)});}catch(_0x232a73){console[_0x8c294f(0x1b6)]('Failed\x20to\x20kick\x20player\x20'+_0x5a866c+':',_0x232a73),showMessage(_0x8c294f(0x8d1));}}async function renderStudentProgressDashboard(_0x2f165a,_0x350e57){const _0x53ed88=_0x230ac1,_0x4a6820=document[_0x53ed88(0x815)](_0x53ed88(0xe4f));_0x4a6820[_0x53ed88(0x63b)]=_0x53ed88(0x4b8);try{const _0x54f6de=collection(db,_0x53ed88(0x884)+appId+_0x53ed88(0x8a2)),_0x417d45=query(_0x54f6de,where(_0x53ed88(0x791),'==',_0x2f165a)),_0x51e04d=await getDocs(_0x417d45),_0x4d70be=_0x51e04d['docs'][_0x53ed88(0xe07)](_0x68ec11=>({'id':_0x68ec11['id'],..._0x68ec11[_0x53ed88(0xdad)]()})),_0x3cdb30=_0x4d70be[_0x53ed88(0xe07)](_0x3acffc=>getDoc(doc(db,_0x53ed88(0x884)+appId+'/public/data/quizzes/'+_0x3acffc['id']+_0x53ed88(0xb77),_0x350e57))),_0x3188a6=await Promise['all'](_0x3cdb30),_0x189a68=_0x3188a6['filter'](_0x253ff2=>_0x253ff2[_0x53ed88(0x939)]())['map'](_0x8221e0=>({'quizId':_0x8221e0[_0x53ed88(0x5e6)][_0x53ed88(0x979)]['parent']['id'],..._0x8221e0['data']()}));if(_0x189a68[_0x53ed88(0xe93)]===0x0){_0x4a6820[_0x53ed88(0x63b)]=_0x53ed88(0x244);return;}let _0x42f211=_0x53ed88(0xbf7);_0x189a68[_0x53ed88(0xdec)](_0x35cadd=>{const _0x35a798=_0x53ed88,_0x2ef841=_0x4d70be[_0x35a798(0x5eb)](_0x266eea=>_0x266eea['id']===_0x35cadd[_0x35a798(0x6b4)]),_0x377ab2=_0x2ef841[_0x35a798(0x22d)]?.[_0x35a798(0xbcf)]||_0x35a798(0x596),_0x5c8e84=_0x2ef841[_0x35a798(0x22d)]?.[_0x35a798(0x59f)]??0x0,_0x86256f=_0x35cadd[_0x35a798(0x286)]>=_0x5c8e84;let _0x3befc3='',_0x7bff3a=_0x35a798(0xabb);switch(_0x377ab2){case _0x35a798(0x596):case _0x35a798(0x97b):_0x7bff3a=_0x86256f?'bg-green-50':'bg-red-50',_0x3befc3=_0x35a798(0xea5)+(_0x86256f?_0x35a798(0x575):_0x35a798(0x2e9))+'\x22>'+_0x35cadd[_0x35a798(0x286)]+_0x35a798(0xe75)+_0x35cadd[_0x35a798(0xddd)]+_0x35a798(0x5b1)+(_0x86256f?_0x35a798(0xd20):_0x35a798(0x3c5))+'\x22>'+(_0x86256f?'ผ่าน':'ไม่ผ่าน')+_0x35a798(0x89d);break;case _0x35a798(0x6a9):_0x7bff3a=_0x86256f?_0x35a798(0x347):_0x35a798(0xf09),_0x3befc3=_0x35a798(0x7df)+(_0x86256f?_0x35a798(0xd20):_0x35a798(0x3c5))+'\x22>'+(_0x86256f?'ผ่าน':_0x35a798(0xac0))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x35a798(0xb50):_0x7bff3a=_0x35a798(0x42e),_0x3befc3=_0x35a798(0xef2);break;}_0x42f211+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x7bff3a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x2ef841[_0x35a798(0xbdd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x35cadd['attempts'][_0x35a798(0xe93)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x35cadd[_0x35a798(0x9ee)])[_0x35a798(0xbba)](_0x35a798(0x27c))+_0x35a798(0xcb8)+_0x3befc3+_0x35a798(0xce8);}),_0x42f211+=_0x53ed88(0xcb3),_0x4a6820[_0x53ed88(0x63b)]=_0x42f211;}catch(_0xeebc3e){console[_0x53ed88(0x1b6)](_0x53ed88(0x1ce),_0xeebc3e),_0x4a6820[_0x53ed88(0x63b)]=_0x53ed88(0x683);}}function renderQuizBankListForMultiSelect(_0x230ee2=''){const _0xc1c35f=_0x230ac1,_0x3af01a=document[_0xc1c35f(0x815)](_0xc1c35f(0x66a)),_0x4f8a95=_0x230ee2[_0xc1c35f(0xaec)]()[_0xc1c35f(0x99f)](),_0x200a4a=allQuizzesGlobal['map'](_0x544d1f=>({..._0x544d1f,'projectName':allProjects['find'](_0x1c9ade=>_0x1c9ade['id']===_0x544d1f['projectId'])?.[_0xc1c35f(0x98b)]||_0xc1c35f(0x8df)}))[_0xc1c35f(0x320)](_0x7d1d57=>(_0x7d1d57['topic']||'')[_0xc1c35f(0xaec)]()[_0xc1c35f(0x8f3)](_0x4f8a95)||(_0x7d1d57['projectName']||'')['toLowerCase']()[_0xc1c35f(0x8f3)](_0x4f8a95)||_0x7d1d57['id'][_0xc1c35f(0xefe)]()[_0xc1c35f(0x8f3)](_0x4f8a95));_0x3af01a[_0xc1c35f(0x63b)]=_0x200a4a[_0xc1c35f(0xe93)]?_0x200a4a[_0xc1c35f(0xe07)](_0x391f8c=>_0xc1c35f(0x75b)+_0x391f8c['id']+_0xc1c35f(0x7aa)+(_0x391f8c[_0xc1c35f(0xbdd)]||_0xc1c35f(0x93c))+_0xc1c35f(0x6a1)+_0x391f8c[_0xc1c35f(0x98b)]+_0xc1c35f(0x9c0)+_0x391f8c['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xc1c35f(0x885)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x3af01a[_0xc1c35f(0xd8b)]=()=>{const _0x3972a0=_0xc1c35f,_0xcca46=document[_0x3972a0(0xd27)](_0x3972a0(0x485));document['getElementById'](_0x3972a0(0x492))[_0x3972a0(0x44b)]=!_0xcca46;};}function setupStudentProgressListeners(){const _0x247c67=_0x230ac1;document[_0x247c67(0x815)](_0x247c67(0x6cd))['addEventListener'](_0x247c67(0x7a5),showStudentProgressView),document[_0x247c67(0x815)](_0x247c67(0x4b9))['addEventListener'](_0x247c67(0x7a5),()=>{const _0xfb176a=_0x247c67;document[_0xfb176a(0x815)](_0xfb176a(0x29f))['classList'][_0xfb176a(0x4db)](_0xfb176a(0xcc2)),document[_0xfb176a(0x815)](_0xfb176a(0x71b))['classList'][_0xfb176a(0xb0b)]('hidden');});}async function startSkillPractice(_0x21da4e){const _0x45fecb=_0x230ac1;studentResultArea[_0x45fecb(0xeac)][_0x45fecb(0x4db)](_0x45fecb(0xcc2)),studentQuizArea[_0x45fecb(0x63b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x45fecb(0xeac)][_0x45fecb(0xb0b)](_0x45fecb(0xcc2));try{const _0x4cd967=await getStandardizedTopic(_0x21da4e);console['log'](_0x45fecb(0x7d5)+_0x21da4e+_0x45fecb(0x720)+_0x4cd967+'\x22'),studentQuizArea[_0x45fecb(0xd27)]('p')[_0x45fecb(0x587)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x4cd967+_0x45fecb(0x728);const _0x3b9eee=collection(db,_0x45fecb(0x884)+appId+_0x45fecb(0x521)),_0x5affd0=query(_0x3b9eee,where(_0x45fecb(0xbdd),'==',_0x4cd967)),_0x1cfee9=await getDocs(_0x5affd0);if(_0x1cfee9[_0x45fecb(0xcf8)][_0x45fecb(0xe93)]>=0x3){console[_0x45fecb(0x1cf)](_0x45fecb(0xa66)+_0x1cfee9[_0x45fecb(0xcf8)]['length']+_0x45fecb(0x4b0)+_0x4cd967+_0x45fecb(0x4f7));let _0x28740b=_0x1cfee9[_0x45fecb(0xcf8)][_0x45fecb(0xe07)](_0x150e65=>_0x150e65[_0x45fecb(0xdad)]());shuffleArray(_0x28740b);const _0x456569={'topic':_0x4cd967,'questions':_0x28740b[_0x45fecb(0xc26)](0x0,0x3)};displaySkillPracticeDrill(_0x456569);}else{console['log'](_0x45fecb(0xd8a)+_0x4cd967+_0x45fecb(0xacd));const _0x3bafaa=await generatePracticeQuestions(_0x4cd967);await saveDrillToPracticeBank(_0x3bafaa,_0x4cd967),displaySkillPracticeDrill(_0x3bafaa);}}catch(_0x544150){console[_0x45fecb(0x1b6)](_0x45fecb(0xd4b),_0x544150),showMessage(_0x45fecb(0x2eb)),studentQuizArea[_0x45fecb(0xeac)][_0x45fecb(0x4db)]('hidden'),studentResultArea[_0x45fecb(0xeac)][_0x45fecb(0xb0b)](_0x45fecb(0xcc2));}}async function saveDrillToPracticeBank(_0x259b06,_0x9ada75){const _0x135a77=_0x230ac1,_0x22820f=collection(db,_0x135a77(0x884)+appId+_0x135a77(0x521)),_0x573a31=writeBatch(db);_0x259b06[_0x135a77(0x746)][_0x135a77(0xdec)](_0x354199=>{const _0x3af3be=_0x135a77,_0x346f5d=doc(_0x22820f);_0x573a31[_0x3af3be(0xb1f)](_0x346f5d,{'topic':_0x9ada75,'questionText':_0x354199[_0x3af3be(0xef8)],'options':_0x354199['options'],'correctAnswerIndex':_0x354199[_0x3af3be(0xdfa)],'explanation':_0x354199[_0x3af3be(0xc14)],'createdAt':serverTimestamp()});});try{await _0x573a31['commit'](),console[_0x135a77(0x1cf)](_0x135a77(0x48e)+_0x259b06['questions'][_0x135a77(0xe93)]+_0x135a77(0xa6b));}catch(_0x4698b7){console[_0x135a77(0x1b6)](_0x135a77(0xe63),_0x4698b7);}}async function getStandardizedTopic(_0x381835){const _0x5edf0b=_0x230ac1,_0x236fb3=_0x5edf0b(0xb98)+_0x381835+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x182225={'type':_0x5edf0b(0x1eb),'properties':{'standardTopic':{'type':_0x5edf0b(0x324)}},'required':[_0x5edf0b(0x5b9)]};try{const _0x2475ac=await callAnalysisApi(_0x236fb3,_0x182225);return _0x2475ac['standardTopic'];}catch(_0x4df3d7){return console[_0x5edf0b(0x1b6)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x4df3d7),_0x381835;}}async function handleGenerateEasyVersionQuiz(_0x203620){const _0x3b47d3=_0x230ac1,_0x44e236=document[_0x3b47d3(0x815)](_0x3b47d3(0xc63)),_0x58286b=document[_0x3b47d3(0x815)]('project-quizzes-list');_0x58286b['classList'][_0x3b47d3(0x4db)](_0x3b47d3(0xcc2));const _0x6219be=_0x3b47d3(0xf28);_0x44e236[_0x3b47d3(0xe94)](_0x3b47d3(0xe04),_0x6219be);try{const _0x240faf=allQuizzes[_0x3b47d3(0x5eb)](_0x289351=>_0x289351['id']===_0x203620);if(!_0x240faf)throw new Error(_0x3b47d3(0xc31));const _0x301d9d=_0x3b47d3(0x93a)+JSON[_0x3b47d3(0xd0a)](_0x240faf[_0x3b47d3(0x746)])+_0x3b47d3(0x2a7),_0x324264={'type':_0x3b47d3(0x1eb),'properties':{'questionText':{'type':_0x3b47d3(0x324)},'questionType':{'type':_0x3b47d3(0x324)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3b47d3(0x324)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3b47d3(0x324)}},'required':[_0x3b47d3(0xef8),_0x3b47d3(0x1f4),_0x3b47d3(0xc14)]},_0x55e444={'type':'OBJECT','properties':{'questions':{'type':_0x3b47d3(0x2df),'items':_0x324264}},'required':[_0x3b47d3(0x746)]},_0x221e0e=await callAnalysisApi(_0x301d9d,_0x55e444);_0x221e0e&&_0x221e0e[_0x3b47d3(0x746)]&&_0x221e0e[_0x3b47d3(0x746)][_0x3b47d3(0xdec)](_0x59ef91=>{const _0x1ffb8c=_0x3b47d3;if(_0x59ef91['hasOwnProperty'](_0x1ffb8c(0x74b))){const _0x3cb5e3=String(_0x59ef91[_0x1ffb8c(0x74b)])[_0x1ffb8c(0x99f)]();(_0x3cb5e3===''||_0x3cb5e3[_0x1ffb8c(0xaec)]()===_0x1ffb8c(0x808)||!_0x3cb5e3[_0x1ffb8c(0xef1)](_0x1ffb8c(0x8ab)))&&delete _0x59ef91[_0x1ffb8c(0x74b)];}});if(!_0x221e0e||!_0x221e0e[_0x3b47d3(0x746)]||_0x221e0e[_0x3b47d3(0x746)][_0x3b47d3(0xe93)]===0x0)throw new Error(_0x3b47d3(0xb62));const _0x375094=_0x221e0e['questions'][_0x3b47d3(0xe07)]((_0x5b6cbb,_0x246755)=>({..._0x5b6cbb,'id':'q_'+Date[_0x3b47d3(0x7be)]()+'_'+_0x246755})),_0x3a71af={'projectId':_0x240faf[_0x3b47d3(0x791)],'quizType':_0x240faf[_0x3b47d3(0x1c2)],'settings':_0x240faf[_0x3b47d3(0x22d)],'createdBy':_0x240faf[_0x3b47d3(0xe86)],'status':'active','topic':_0x3b47d3(0x9be)+_0x240faf['topic'],'questions':_0x375094,'createdAt':new Date()['toISOString'](),'quizMode':'standard','pairedQuizId':null};let _0x221d47;while(!![]){_0x221d47=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x3b47d3(0xefe)]();const _0x60518c=await getDoc(doc(db,_0x3b47d3(0x884)+appId+_0x3b47d3(0x8a2),_0x221d47));if(!_0x60518c[_0x3b47d3(0x939)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3b47d3(0x8a2),_0x221d47),_0x3a71af),showMessage(_0x3b47d3(0xe3e));}catch(_0x43f7ac){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x43f7ac),showMessage(_0x3b47d3(0x36f)+_0x43f7ac[_0x3b47d3(0xb95)]);}finally{const _0x532490=document['getElementById'](_0x3b47d3(0xc18));_0x532490&&_0x532490[_0x3b47d3(0xb0b)](),_0x58286b[_0x3b47d3(0xeac)][_0x3b47d3(0xb0b)](_0x3b47d3(0xcc2));}}async function generatePracticeQuestions(_0x15be90){const _0x9f2b67=_0x230ac1,_0x4a9fb6=_0x9f2b67(0x6af)+_0x15be90+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x9f2b67(0xe46),_0x267c79={'type':'OBJECT','properties':{'questionText':{'type':_0x9f2b67(0x324)},'options':{'type':_0x9f2b67(0x2df),'items':{'type':_0x9f2b67(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x9f2b67(0xef8),_0x9f2b67(0xa9c),_0x9f2b67(0xdfa),_0x9f2b67(0xc14)]},_0xbae143={'type':_0x9f2b67(0x1eb),'properties':{'topic':{'type':_0x9f2b67(0x324)},'questions':{'type':_0x9f2b67(0x2df),'items':_0x267c79}},'required':[_0x9f2b67(0xbdd),_0x9f2b67(0x746)]};return await callAnalysisApi(_0x4a9fb6,_0xbae143);}function displayLessonPlan(_0x3baf95,_0x30177f){const _0x23f18d=_0x230ac1,_0x239f19=_0x23f18d(0xc00)+_0x30177f[_0x23f18d(0xbdd)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3baf95['learningGaps'][_0x23f18d(0xe07)](_0x4fe11b=>_0x23f18d(0x3b4)+_0x4fe11b+_0x23f18d(0x23c))[_0x23f18d(0x885)]('')+_0x23f18d(0x7f2)+_0x3baf95[_0x23f18d(0x874)]+_0x23f18d(0x932)+_0x3baf95['practiceProblems']['map'](_0x4291bd=>_0x23f18d(0x602)+_0x4291bd[_0x23f18d(0xc56)]+_0x23f18d(0x879)+_0x4291bd['solution']+_0x23f18d(0xd6a))[_0x23f18d(0x885)]('')+_0x23f18d(0x9dd);document[_0x23f18d(0x815)](_0x23f18d(0xd17))[_0x23f18d(0x587)]=_0x23f18d(0xa86)+_0x30177f['topic'],document[_0x23f18d(0x815)](_0x23f18d(0x2fc))[_0x23f18d(0x63b)]=_0x239f19,document[_0x23f18d(0x815)]('lesson-plan-modal')[_0x23f18d(0xeac)]['remove']('hidden');if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x5284f2){const _0xc06287=_0x230ac1;let _0x618e4d=0x0;const _0x14987d=_0x5284f2[_0xc06287(0x746)],_0x1673b2=()=>{const _0x3d9f20=_0xc06287,_0x2c376a=_0x14987d[_0x618e4d],_0xb2c89e=_0x3d9f20(0x36d)+(_0x618e4d+0x1)+_0x3d9f20(0xe75)+_0x14987d[_0x3d9f20(0xe93)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x2c376a['questionText']+_0x3d9f20(0xe57)+_0x2c376a[_0x3d9f20(0xa9c)][_0x3d9f20(0xe07)]((_0x5eb19f,_0x2328a3)=>_0x3d9f20(0x7cf)+_0x2328a3+_0x3d9f20(0xc03)+_0x2328a3+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x2328a3+'\x22>'+_0x5eb19f+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d9f20(0x885)]('')+_0x3d9f20(0xbc6);studentQuizArea[_0x3d9f20(0x63b)]=_0xb2c89e;if(window[_0x3d9f20(0x67a)])MathJax[_0x3d9f20(0x40b)]([studentQuizArea]);document[_0x3d9f20(0x815)](_0x3d9f20(0xa3a))[_0x3d9f20(0x7b7)](_0x3d9f20(0x7a5),async()=>{const _0x3a64fa=_0x3d9f20,_0x42e944=await getHintForQuestion(_0x2c376a[_0x3a64fa(0xef8)]);showMessage(_0x42e944);}),document[_0x3d9f20(0x815)]('check-answer-btn')[_0x3d9f20(0x7b7)](_0x3d9f20(0x7a5),()=>{const _0x3fcbc0=_0x3d9f20,_0x53fa45=document[_0x3fcbc0(0xd27)](_0x3fcbc0(0xb0f));if(!_0x53fa45){showMessage(_0x3fcbc0(0xc59));return;}const _0x256ac0=document[_0x3fcbc0(0x815)]('drill-feedback'),_0x2f36cf=parseInt(_0x53fa45[_0x3fcbc0(0xdd7)])===_0x2c376a[_0x3fcbc0(0xdfa)];_0x2f36cf?(_0x256ac0[_0x3fcbc0(0x900)]=_0x3fcbc0(0xb21),_0x256ac0[_0x3fcbc0(0x63b)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x2c376a[_0x3fcbc0(0xc14)]):(_0x256ac0[_0x3fcbc0(0x900)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x256ac0['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x2c376a[_0x3fcbc0(0xc14)]);_0x256ac0[_0x3fcbc0(0xeac)][_0x3fcbc0(0xb0b)](_0x3fcbc0(0xcc2));if(window[_0x3fcbc0(0x67a)])MathJax[_0x3fcbc0(0x40b)]([_0x256ac0]);document[_0x3fcbc0(0x815)]('check-answer-btn')[_0x3fcbc0(0xeac)][_0x3fcbc0(0x4db)](_0x3fcbc0(0xcc2)),document[_0x3fcbc0(0x815)](_0x3fcbc0(0xa3a))['classList'][_0x3fcbc0(0x4db)](_0x3fcbc0(0xcc2)),document[_0x3fcbc0(0x815)](_0x3fcbc0(0x509))['classList'][_0x3fcbc0(0xb0b)](_0x3fcbc0(0xcc2));}),document['getElementById'](_0x3d9f20(0x509))[_0x3d9f20(0x7b7)](_0x3d9f20(0x7a5),()=>{const _0x34ba74=_0x3d9f20;_0x618e4d++,_0x618e4d<_0x14987d['length']?_0x1673b2():(studentQuizArea[_0x34ba74(0x63b)]=_0x34ba74(0x53c),document[_0x34ba74(0x815)]('back-to-results-btn')[_0x34ba74(0x7b7)](_0x34ba74(0x7a5),()=>{const _0x2669a8=_0x34ba74;studentQuizArea[_0x2669a8(0xeac)][_0x2669a8(0x4db)]('hidden'),studentResultArea[_0x2669a8(0xeac)][_0x2669a8(0xb0b)]('hidden');}));});};_0x1673b2();}async function getHintForQuestion(_0x940e11){const _0x19e458=_0x230ac1,_0x3401fb=_0x19e458(0xabd)+_0x940e11+_0x19e458(0x903),_0x3550a2={'type':_0x19e458(0x1eb),'properties':{'hint':{'type':'STRING'}},'required':[_0x19e458(0x88a)]};try{const _0x22ec4d=await callAnalysisApi(_0x3401fb,_0x3550a2);return _0x22ec4d[_0x19e458(0x88a)];}catch(_0x99506a){return console['error'](_0x19e458(0xbfe),_0x99506a),_0x19e458(0xb48);}}async function extractTextFromPdf(_0x826b42){const _0x30f87a=_0x230ac1;pdfjsLib['GlobalWorkerOptions'][_0x30f87a(0x554)]=_0x30f87a(0xb4a);const _0x2be80f=await _0x826b42['arrayBuffer'](),_0x300444=await pdfjsLib[_0x30f87a(0x271)](_0x2be80f)['promise'],_0x34e923=_0x300444['numPages'];let _0x1a3a99='';for(let _0x9986f2=0x1;_0x9986f2<=_0x34e923;_0x9986f2++){const _0x2cc3e4=await _0x300444[_0x30f87a(0x7fb)](_0x9986f2),_0x269384=await _0x2cc3e4['getTextContent'](),_0x456473=_0x269384[_0x30f87a(0x9fa)][_0x30f87a(0xe07)](_0x137ee0=>_0x137ee0[_0x30f87a(0x9c6)])[_0x30f87a(0x885)]('\x20');_0x1a3a99+=_0x456473+'\x0a\x0a';}return _0x1a3a99;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1f023b){const _0x130e1c=_0x230ac1,_0x1190d8=document[_0x130e1c(0x815)](_0x130e1c(0x429)),_0x1d5142=document[_0x130e1c(0x815)](_0x130e1c(0xa6c)),_0x2b16a0=document['getElementById'](_0x130e1c(0x6ef));_0x1190d8[_0x130e1c(0xeac)][_0x130e1c(0xb0b)](_0x130e1c(0xcc2)),_0x1d5142[_0x130e1c(0x63b)]=_0x130e1c(0xeec),_0x2b16a0[_0x130e1c(0xeac)][_0x130e1c(0x4db)](_0x130e1c(0xcc2));try{const _0x26a89a=_0x130e1c(0x953)+_0x1f023b+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x5b9ba1={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x130e1c(0x324)},'curriculum':{'type':_0x130e1c(0x2df),'items':{'type':_0x130e1c(0x1eb),'properties':{'sara':{'type':_0x130e1c(0x324)},'mainTopics':{'type':_0x130e1c(0x2df),'items':{'type':_0x130e1c(0x1eb),'properties':{'topicName':{'type':_0x130e1c(0x324)},'subTopics':{'type':_0x130e1c(0x2df),'items':{'type':_0x130e1c(0x324)}}},'required':[_0x130e1c(0xb63),_0x130e1c(0xab6)]}}},'required':[_0x130e1c(0xe0b),_0x130e1c(0xd82)]}}},'required':[_0x130e1c(0xf25),_0x130e1c(0x66d)]},_0x584574=await callAnalysisApi(_0x26a89a,_0x5b9ba1);if(_0x584574&&_0x584574[_0x130e1c(0x66d)])extractedBlueprintData=_0x584574,renderBlueprintTopics(_0x584574),_0x2b16a0[_0x130e1c(0xeac)][_0x130e1c(0xb0b)]('hidden');else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x3bc365){console[_0x130e1c(0x1b6)](_0x130e1c(0x225),_0x3bc365),_0x1d5142[_0x130e1c(0x63b)]=_0x130e1c(0x38b);}}function renderBlueprintTopics(_0x34856c){const _0x23f8a4=_0x230ac1,_0x2f3ad2=document['getElementById'](_0x23f8a4(0xa6c)),_0x467d2e=_0x34856c['gradeLevel'],_0x1d98db=_0x23f8a4(0x20d)+_0x467d2e+_0x23f8a4(0x7da);let _0x33d619='';_0x34856c[_0x23f8a4(0x66d)][_0x23f8a4(0xdec)](_0x13dab5=>{const _0x32f740=_0x23f8a4;_0x33d619+=_0x32f740(0xeb5)+_0x13dab5[_0x32f740(0xe0b)]+_0x32f740(0x4a5),_0x13dab5[_0x32f740(0xd82)]['forEach'](_0x33d5d6=>{const _0x4a6061=_0x32f740;_0x33d619+=_0x4a6061(0xc4a)+_0x33d5d6[_0x4a6061(0xb63)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x33d5d6['subTopics']['forEach'](_0x4a6a4a=>{const _0x2bd60e=_0x4a6061;_0x33d619+=_0x2bd60e(0xcb4)+_0x4a6a4a['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x467d2e[_0x2bd60e(0xeef)](/'/g,'\x5c\x27')+_0x2bd60e(0xae1)+_0x4a6a4a+_0x2bd60e(0x9e3)+_0x4a6a4a[_0x2bd60e(0xeef)](/'/g,'\x5c\x27')+_0x2bd60e(0xdcd);}),_0x33d619+=_0x4a6061(0xebd);}),_0x33d619+=_0x32f740(0xcb3);}),_0x2f3ad2[_0x23f8a4(0x63b)]=_0x1d98db+_0x33d619;}async function handleGenerateTeachingContent(_0x419743){const _0xeb35ff=_0x230ac1,_0x4519d8=document[_0xeb35ff(0x815)](_0xeb35ff(0x688)),_0xe707f9=document[_0xeb35ff(0x815)](_0xeb35ff(0x2fc));document[_0xeb35ff(0x815)]('lesson-plan-title')['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x419743,_0xe707f9['innerHTML']=_0xeb35ff(0x851),_0x4519d8[_0xeb35ff(0xeac)]['remove']('hidden');try{const _0x5377b9=_0xeb35ff(0x60f)+_0x419743+_0xeb35ff(0x7c4),_0x358bf0={'type':'OBJECT','properties':{'keyConcepts':{'type':_0xeb35ff(0x2df),'items':{'type':_0xeb35ff(0x324)}},'commonMistakes':{'type':_0xeb35ff(0x2df),'items':{'type':_0xeb35ff(0x324)}},'stepByStepExamples':{'type':_0xeb35ff(0x2df),'items':{'type':_0xeb35ff(0x1eb),'properties':{'question':{'type':_0xeb35ff(0x324)},'solution':{'type':_0xeb35ff(0x324)}},'required':[_0xeb35ff(0xc56),_0xeb35ff(0x1f7)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0xeb35ff(0x324)}}},'required':['keyConcepts','commonMistakes',_0xeb35ff(0x459),_0xeb35ff(0xad2)]},_0x33ac8a=await callAnalysisApi(_0x5377b9,_0x358bf0);displayTeachingContent(_0x33ac8a,_0x419743);}catch(_0x1cf41b){console[_0xeb35ff(0x1b6)](_0xeb35ff(0xd52),_0x1cf41b),_0xe707f9[_0xeb35ff(0x63b)]=_0xeb35ff(0x221)+_0x1cf41b[_0xeb35ff(0xb95)]+'</p>';}}function _0x2b6e(){const _0x304409=['กรุณาป้อนหัวข้อสำหรับใบงาน','checked','คัดลอกไม่สำเร็จ','hasPerfectScoreBonus','function','global-quiz-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20adding\x20students:','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','-options\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-list','mousedown','leaderboard-tab','globalSettings','groups.','.delete-bp-project-btn','34826aiFOya','localeCompare','.file-shortcut-tab-btn','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','globalAlpha','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-quiz-leaderboard-tab','mouseleave','close-additional-parallel-shortcuts-btn','\x20ชิ้น)','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','4604McxSqA','parallel-default-1','เลือกและเริ่มสร้าง','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-tabs-nav','display','referenceUrl','closePath','button[type=\x22submit\x22]','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','toggleMathDropdown','firstElementChild','\x20P)','totalQuestions','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isArray','รายงานผลคะแนน','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ซื้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffledQuiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','helvetica','/public/data/syncGames/','handleGeneratePracticeTest','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อัปเดตแบบทดสอบเก่า\x20','forEach','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบอสมการ','isAdaptive','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','text-gray-300\x20hover:text-white','values','student-progress','quiz-id-input','shortcutId','\x20ทำงานอยู่!</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','sin','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','correctAnswerIndex','wager-amount-display','ฟังก์ชันแบบชิ้นส่วน','บันทึกการตั้งค่าแล้ว','สร้างคำถามแบบใช่/ไม่ใช่','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','close-game-final-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','beforeend','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','original-mode-checkbox','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','sara','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','summary_chart','กรุณาเลือกโปรเจคก่อน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','label','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','export-leaderboard-word-btn','anonymous','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','\x20ชุดสำเร็จ!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','behavior-log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','code','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','FileReader\x20error:','passcode-prompt-message','main-correct-answer-display','topicId','blueprint-projects-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20style=\x22','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','file-input-area','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','cancel-export-pdf-btn','fileShortcutTabs','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','summaryContent','Error\x20unpairing\x20quizzes:','129rplGnz','</span></td>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x20คู่\x20','.quiz-bank-present-btn','answeredCurrentQuestion','gameData','Error\x20clearing\x20all\x20links:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>',')\x22><span\x20style=\x22','.edit-file-shortcut-btn','stopPropagation','student-team-selection-view','open-sync-scratchpad-btn','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','bulk-confidence-scoring-checkbox','student-progress-content','checkbox','ที่พิมพ์ได้\x20จำนวน\x20','lineCap','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ยกเลิกการเชื่อมโยงสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','Error\x20adding\x20topic:','confirm-bulk-quiz-settings-btn','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','<button\x20data-value=\x22','การลบ','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','input[name=\x22team_player\x22]:checked','application/pdf','Error\x20saving\x20questions\x20to\x20practice\x20bank:','analytics','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','isPinned','leaderboard-tab-content','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','getBoundingClientRect','rgba(239,\x2068,\x2068,\x200.9)','<span\x20title=\x22โดนบังคับ\x22>👻</span>','scratchpad-header','lesson-loader','✂️\x20ตัด\x201\x20ตัวเลือก','รีเซ็ตลำดับโปรเจคแล้ว','candidates','team','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','เทพทรู','player-count','\x20/\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','ai-quiz-app-aefee.firebaseapp.com','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','wager-all-in-btn','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รอ...','bg-green-500','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','.project-card-container.opacity-50','next-sync-question-btn','เลือกโปรเจคเพื่อบันทึก','createdBy','คนโสด','onSecondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','reference_onet.pdf','bp-modal-num-choices','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','minHeight','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x22\x20name=\x22question_single\x22\x20value=\x22','length','insertAdjacentHTML','เกิดข้อผิดพลาดในการเข้าตลาดมืด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','approx','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x20to\x20','ตัวแปรและนิพจน์','เปิดใช้งาน','red','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','playerName','undefined','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-hidden-file-shortcut-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x20แล้ว!','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','เงาปริศนา','questionDisplayedAt','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพนกวินไฟ','file-default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','เลือกและบันทึก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','876ePZOCd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','bg-yellow-300\x20text-yellow-900\x20font-bold','ทะเล','questionIndex','bg-red-500','passcode','เกิดข้อผิดพลาดในการปักหมุด','</div></div>','quadraticCurveTo','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','(กำลังไล่ตาม)','isScored','after','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','จำนวนนักเรียน','100px','ส้มตำปูปลาร้า','touchstart','\x22\x20name=\x22team_answer\x22\x20value=\x22','cancel-quiz-bank-btn','mode-switcher-btn','global-quiz-search-input','บันทึกการตั้งค่าสำเร็จ','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','scan-text-image-input','parallel-shortcut-name-input','.bp-try-btn','แบบทดสอบนี้ปิดใช้งานอยู่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ค.ร.น.\x20(LCM)','0\x200','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','parseInline','.edit-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เพื่อนสนิท','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','presentation-scratchpad-btn','rows','pop','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','Error\x20renaming\x20quiz:','---\x20[คำถามใหม่]\x20---','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-passcode-input','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clear-all-links-btn','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','replace','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F59E0B','.remove-parallel-shortcut-from-tab-btn','playerNicknames','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','เกิดข้อผิดพลาดในการสร้าง:\x20','questionText','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','insertBefore','<p\x20class=\x22text-xl\x22>','ไม่มีผู้ตอบตัวเลือกนี้','toString','getBBox','submission-status-chart','sync-timer-bar','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','file-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','สร้างโปรเจคสำเร็จ!','comparison-individual-content','bg-red-50','onblur','file-default-1','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','question-complexity-select','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','เกิดข้อผิดพลาดในการลบ','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','พลังคลื่นเต่า','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','mandatory','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cle','ปวดหลัง','Error\x20in\x20generating\x20from\x20files:','currentQuestionIndex','earned-badges-container','gradeLevel','ไม่พบเอกสารการส่งงานของ\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','createdAt','authed_project_','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','.png','anonymous_reveal_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ติดซีรีส์','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','Error\x20submitting\x20group\x20answer:','ฟังก์ชันราก\x20(root)','\x22\x20ออกจากคลังนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','use-powerup-revealOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','error','nextElementSibling','selectedTopicNames','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','bg-gray-200\x20text-gray-700','triangle','cropped_image.png','visible','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','student-view','some','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20generating\x20worksheet:','สมการตรีโกณมิติ','ห.ร.ม.\x20(GCD)','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','text/csv;charset=utf-8;','.edit-shortcut-btn','จำนวนและการดำเนินการ','fa-crown\x20text-yellow-500','frac','Error\x20rendering\x20student\x20progress:','log','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','generate-from-link-btn',')</button>','Error\x20toggling\x20star\x20status:','timestamp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','file-topics-list-container','<button\x20data-quiz-id=\x22','attempts','.regenerate-question-btn','กราฟแท่ง\x20กราฟเส้น','/public/data/customMathTopics','bg-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','answer-grid-container','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','none','subTopic','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','กรุณาใส่ชื่อโปรเจค','close-additional-shortcuts-btn','OBJECT','modal-message','หยุดระบบจับเวลาหรี่หน้าจอ','input[type=\x22checkbox\x22]','ชนิดของข้อมูลและการเก็บข้อมูล','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','maxHeight','bg-green-400\x20text-white\x20font-bold','ไม่พบข้อมูลข้อสอบหลังเรียน','questionType','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','cancel-file-shortcut-edit-btn','solution','md:col-span-1','.delete-quiz-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','</p>','add-parallel-shortcut-btn','wasJinxed','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','</span></div>','badges','exponentialRampToValueAtTime','เงินงวด\x20(อนุกรมเงินงวด)','แก้ไขหัวข้อสำเร็จ','docChanges','style','.save-custom-topic-btn','line-height:\x201.3;\x20min-width:\x200;','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','พิซซ่าหน้าทุเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','icon','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','.buy-time-confirm-btn','ดาวสภา','เปลี่ยนชื่อแบบทดสอบสำเร็จ','save-visibility-settings-btn','stem','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','บักแตงโม','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','lastAnswerIndex','force-math-checkbox','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(พยายามอยู่)','project-passcode-modal','การบวกทศนิยม','dataIndex','createGain','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','อสมการค่าสัมบูรณ์','Error\x20analyzing\x20blueprint\x20topics:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','cancel-crop-btn','รูปแบบการให้เหตุผล','.tab-name-input','.bp-generate-lesson-btn','text-yellow-300','settings','bp-modal-passing-score-input','removeAttribute','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','input[name=\x22status-option\x22]:checked','resize','reveal-answer-btn','shortcut_','ตรวจคะแนนใหม่\x20','Error\x20saving\x20submission:','การแปลงรูปอัตลักษณ์','</li>','shuffle','bg-emerald-100','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ตรวจพบการออกจากหน้าจอครบ\x20','schedule','Copy\x20command\x20failed','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','แบบทดสอบจากคลังส่วนตัว','retake-quiz-loop-btn','toBlob','confirm-quiz-status-btn','ไม่ใช่\x20/\x20ผิด','\x22\x20data-quiz-id=\x22','confidence-input-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอผู้ควบคุมไปข้อต่อไป...','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x20คนที่ส่ง\x20ตอบถูก\x20(','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerup','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x20link(s)\x20for\x20quiz\x20ID:\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','ยังไม่สร้าง','\x22><i\x20class=\x22fas\x20','กำลังสร้างแบบทดสอบ\x20\x22','นอนไม่พอ','quiz-leaderboard-table','modal-close-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','bottom','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','bg-green-100\x20text-green-800','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','นักวิทยาศาสตร์','insurance','[id^=\x22dropdown-list-\x22]','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','export-worksheet-pdf-btn','width','back-from-results-btn','0\x20(รอโบนัส)','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','short_answer','getDocument','เกิดข้อผิดพลาดในการซื้อ','/questionBank','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','bg-yellow-100','responses','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','.cancel-edit-topic-btn','save-quiz-btn','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','th-TH','blueprint-shortcut-container','Failed\x20to\x20apply\x20jinx:','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','math-topics-checkbox-container','sync-manage-players-btn','อยู่ในหัวข้อหลักใด:','.ai-content\x20li','onerror','dropdown-list-','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','upper_group_count','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','bp-modal-difficulty-level-select','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','100%','Error\x20starting\x20live\x20race:','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','bg-black/10','.toggle-actions-btn','deg','สร้างแล้ว','deselect-all-topics-btn','class','คนดีศรีสยาม','.move-parallel-shortcut-item','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','default-','student-progress-view','#retake-for-improvement-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-blueprint-projects-btn','parallel-test-upload-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','link-tab','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','<h1></h1>','กำลังวิเคราะห์หัวข้อ...','doughnut','การบวก','.file-shortcut-btn[data-id=\x22','visibilityState','\x5ccdot','show-in-student-dashboard-checkbox','rgba(239,\x2068,\x2068,\x200.7)','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','getScreenCTM','ดูผลสรุปสุดท้าย','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','เส้นตรง:\x20รูปแบบสมการ','fontWeight','analytics-tab-content','save-project-name-btn','pdf','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','zIndex','กรุณาเลือกโปรเจคที่ต้องการบันทึก','#confidence-input-','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','custom-math-topic-input','กรุณาป้อนรหัสแบบทดสอบ','scratchpad-clear-btn','.pointsLastRound','input[type=\x22radio\x22][value=\x22','\x22\x20value=\x22false\x22\x20','[data-topic-container-id]','transformOrigin','parallelShortcutTabs','MathJax\x20re-render\x20failed:','test','transparent','จากเนื้อหาต่อไปนี้:\x20\x22','เพิ่มปุ่มลัดใหม่','publicLeaderboard','hiddenOptions_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','doc','confidenceMode','lesson-view-modal','ARRAY','student-quiz-leaderboard-table-body','scratchpad-canvas','parallel-test-input-area','ฟังก์ชันเชิงเส้นและกราฟ','Original\x20quiz\x20not\x20found','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','pointercancel','text-red-700','tab_','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','.submittedAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','project-passcode-input','appendChild','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','document','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','นินจาชาเขียว','lesson-plan-content','2499TLVCJN','oninput','startedAt','topic-quiz-bank-modal','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','ความสัมพันธ์ของมุม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','mean','answer-counter','Error\x20joining\x20sync\x20game:','editable-quiz-topic','quiz-editor-modal','slide-counter','ไม่ระบุ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','ตัวประกอบและตัวประกอบเฉพาะ','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','neq','commonMistakes','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','text','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','กำลังเตรียมไฟล์อ้างอิง...','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x22>ไม่ใช่</p>','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','300','filter','blob','q-text-','half_mark_status','STRING','user','confirm-game-start-btn','projectSort','asc','height','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','admin-view','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','reviewQuestionIndex','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','toggle','.edit-hidden-file-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setItem','bg-indigo-600\x20hover:bg-indigo-700','timeBonusThisQuestion','ผลรวมอนุกรม\x20(Σ)','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','frequency','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x22><span\x20style=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','quiz-leaderboard-table-container','สรุปผลสุดท้าย','results-display-select','submission','bg-green-50','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','includeImages','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','file-shortcut-name-input','bg-green-100','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','จัดการ','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','บันทึกผลการเรียนของนักเรียน\x20','split','.application-options\x20button','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','save','file-tab','pen-tools-group','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','delete','learningGaps','parallel-shortcut-tabs-nav','.move-parallel-shortcut-dropdown','.confidence-choice-btn','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</a>','export-pdf-modal','ผู้พิชิตดาว','สายลับจับบ้านเล็ก','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','visibilitychange','ฟังก์ชันสัมพัทธ์\x20(rational)','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','จำนวนเต็มลบ','เกิดข้อผิดพลาด:\x20','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','กรุณาเลือกคำตอบ','.ideal-answer-input,\x20.correct-response-input','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','fas\x20fa-bookmark','close-presentation-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','fullscreenchange','ข้อที่\x20','\x0a\x20\x20\x20\x20','ค่าเฉลี่ย','copy','fa-rocket\x20text-purple-500','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','isAnonymousRevealed','Error\x20generating\x20parallel\x20test\x20from\x20bank:','แมวเก้าชีวิต','start-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','Error\x20starting\x20game:','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-pin-modal-btn','<li\x20class=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','leaderboard-table-body','\x22\x20class=\x22pin-project-btn\x20','Group\x20Mode','API\x20call\x20failed\x20with\x20status:\x20','grabbing','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','leq','download','</tr>','add-from-global-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','.generate-lesson-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','hasOwnProperty','comparison','Failed\x20to\x20kick\x20player\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','คนคุย','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','ไม่พบแบบทดสอบ','student-name-input','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<option\x20value=\x22','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','.lastAnswerIndex','numQuestions','</span>','แบบทดสอบฝึกฝนเรื่อง:\x20','linearRampToValueAtTime','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20calling\x20Gemini\x20API:','<li>','add-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','circ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','selected-answer-index-hidden','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','worksheet-input-area','.group','text-red-900','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','bg-red-200\x20text-red-800','eraser-tool-btn','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.topic-actions-edit','delete-all-students-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','/public/data/syncGames','#open-additional-parallel-shortcuts-btn','_opt0\x22\x20name=\x22question','target','touchmove','ต้นฉบับ\x201','submissions','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','translate','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','add-parallel-shortcut-tab-btn','selected-topics-count','.duplicate-quiz-btn','wagerMultiplier','BOOLEAN','setValueAtTime','project-detail','score-distribution-chart','...','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.pair-quiz-btn','Error\x20fetching\x20project\x20quizzes:','stdDev','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','perfect_score_status','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อกหัก','fixedData','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','สร้างแบบทดสอบปรนัย','พบ\x20Team\x20Quiz!','student-project-leaderboard-table-body','ส่วนเบี่ยงเบนมาตรฐาน','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','lastIndexOf','results-tab','price','keydown','text-blue-700','documentElement','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','ตลาดมืด\x20(-1\x20P)','<span\x20title=\x22ใช้\x20','secondChance','API\x20call\x20failed','\x22>(','อัปเดตสถานะสำเร็จ','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-quiz-edits-btn','blueprint-input-area','แปลงร่าง','typesetPromise','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','list-view-btn','ม้าดีดกะโหลก','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','application','release','ตัวเลือก\x20ก','#ffffff','.flex.justify-between.items-center','student-project-leaderboard-content','บทเรียน','date_desc','fa-shield-alt\x20text-gray-600','order','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','added','.file-shortcut-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.regenerate-question-editor-btn','toFixed','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<tr\x20class=\x22','CEOพันล้าน','.topic-name-display','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','blueprint-options-container','perQuestionStats','นักดนตรี','เศษส่วน\x20(ย่อ/ขยาย)','.file-topic-selection-btn','bg-yellow-50','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จันทร์เจ้า','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-manager-view','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','ใช่\x20/\x20ถูก','bulk-quiz-settings-btn','text-green-600','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>',':</span><span>','.topic-actions-view','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','type','fontFamily','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','powerupUsed','shouldSaveResults','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','disabled','<option\x20value=\x22\x22>กำลังโหลด...</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-create-content-quiz-btn','.linkedQuizId','passcode-input-container','podium','1231947uyPLQr','ไม่พบข้อมูลหัวข้อที่จะบันทึก','competition','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','มังกรกินจุ','</p><div>','stepByStepExamples','clearRect','บันทึกการแก้ไข','\x20(p=','starred-project','-tab-content','submit-group-answer-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','results-quiz-id-display','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','.lastAnswerValue','toISOString','Error\x20saving\x20parallel\x20shortcut\x20config:','restore','tool','ดาบพิฆาตอสูร','svg','หมูกระทะจะเยียวยาทุกสิ่ง','block','element','idealAnswer','AI\x20Fix\x20Error:','กุ้งเต้นแร้งกา','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','#add-question-editor-btn','finishReason','handleGenerateQuizFromBlueprintTopic','10354vMpjYS','ชาไข่มุก','สาระที่\x201','lessonPlan','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-shortcut-btn','pointermove','อัปเดตพฤติกรรมสำหรับ\x20','.delete-file-shortcut-btn','drop','ชีสเค้ก','td,\x20th','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','additional-file-shortcuts-modal','update','show-final-results-btn','cancel-move-quiz-btn','.quiz-bank-checkbox:checked','project-title','join-live-game-btn','from','input[type=\x22radio\x22]:checked','.project-card-container','คุณใช้ตัวช่วย\x20\x22','\x22\x20จำนวน\x20','.topic-row','บันทึกคำถามใหม่\x20','export-pdf-btn','\x20in\x20all\x20blueprint\x20projects.','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-link-quiz-btn','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fa-dumbbell\x20text-gray-700','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','bg-green-200\x20text-green-900','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ไม่พบโปรเจค','\x22.\x20','bg-gray-400','ส่งคำตอบ','quizMode','ย้ายแบบทดสอบไปโปรเจคอื่น','เกิดข้อผิดพลาดในการส่งคำตอบ','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','\x5csum','.shortcut-list-item:not(.opacity-50)','instantWager','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','bp-modal-shuffle-setting-select','เกิดข้อผิดพลาดในการลบนักเรียน','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','???','AI\x20ไม่สามารถประมวลผลข้อมูลได้','strength-weakness-analysis-container','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','cancel-bp-settings-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-search-input','\x22\x20data-name=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ตลาดมืด\x20(0\x20P)','อินเวอร์สของเมทริกซ์','<div\x20class=\x22loader\x20mx-auto\x22></div>','back-to-student-home-btn','player-list-lobby','Auto-linking\x20new\x20quiz\x20','scores','default-1','.use-hidden-file-shortcut-btn','OCR\x20Error:','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','scores-tab-content','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-ai-result','project-dashboard-view','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','fadeStartTime','not_confident','highlighter-tool-btn','bp-modal-quiz-type-select','https://corsproxy.io/?','Firebase\x20initialization\x20failed:','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','Error\x20submitting\x20team\x20answer:','editor-quiz-topic','outerHTML','Error\x20comparing\x20results:','.color-palette-popup','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','หัวข้อที่สร้างเอง','.delete-shortcut-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<div\x20style=\x22','สร้างคำถามใหม่\x201\x20ข้อ\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','add','นักเขียน','แก้ระบบสมการด้วยเมทริกซ์','PROMPT_PLACEHOLDER','source_document.txt','confirm-quiz-settings-btn','\x20\x0a\x20\x20\x20\x20','stroke','bg-[#DCFCE7]\x20text-green-900','นักเดินทาง','text-red-300\x20hover:text-red-100','sync','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','resultsSaved','cancel-quiz-edits-btn-footer','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','adaptive-quiz-checkbox','จุด\x20เส้น\x20ระนาบ','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','คณิตการเงิน/บูรณาการ','has','</select>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','shuffleSetting','generate-worksheet-btn','min','originalTopic','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','cursor','student-quiz-leaderboard-content','members','ข้อ\x20','quiz-bank-count','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','admin','ปริพันธ์จำกัด','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','Error\x20in\x20handleApiCall:','newCorrectIndex','modal-timer-mode-select','API\x20Error\x20Body:','next-drill-btn','%</span>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','ดวงดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','cancel-quiz-status-btn','stop','<span>','\x22\x20id=\x22input-','complexityValue','bp-modal-num-questions','.option-input','</th>','not_generated','mode','กัปตัน','submittedAt','ไฟล์ทั้งหมด','goto-next-question-btn','name_desc','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','leaderboard-quiz','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','/public/data/practiceBank','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','setFont','bg-black/20','max','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','.pen-size-btn','matching_item','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','ทำคะแนนเต็มในการทำครั้งแรก','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','comparison-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','close-additional-file-shortcuts-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','วงกลม:\x20สมการและสมบัติ','สร้างใหม่','group','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','สร้างแบบทดสอบ','จับคู่แบบทดสอบสำเร็จ!','การจัดหมู่\x20(Combination)','ดีมาก','reference.pdf','raw','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','realScore','worksheet-tab','$1\x5c%','\x5cpm','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20quiz:','บทเรียนเรื่อง:\x20','far\x20fa-star','ondrop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','ไม่มีคำอธิบาย','นักกีฬา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','copy-quiz-id-btn','Error\x20resetting\x20project\x20order:','workerSrc','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','\x20จาก\x20','student-quiz-area','\x27Sarabun\x27,\x20sans-serif','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20editing\x20topic:','not-found','sync-timer-duration-container','Error\x20duplicating\x20quiz:',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เพิ่มรายการที่เลือก','shadowColor','\x20mr-2\x22></i>','then','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-timer-enable-checkbox','upperGroupResponders','สมมาตร\x20(แกน/จุด)','global-activity-quiz-list','\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','wasForced','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','text-green-700','option','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','keyup','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','close-topic-bank-btn','กำลังเตรียมไฟล์...','grid','.delete-parallel-shortcut-tab-btn','text-emerald-800','student-name-select','#4338ca','file-shortcut_','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','kick-player-btn','http://www.w3.org/2000/svg','padStart','empty','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','การหารเศษส่วน','ต้นฉบับ\x202','Error\x20starting\x20team\x20quiz:','text-purple-600','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','state','ย้ายแบบทดสอบสำเร็จ','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','show_results_and_answers','จากไฟล์ที่แนบมานี้,\x20','ออฟฟิศซินโดรม','floor','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','_blank','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','passingScore','Error\x20loading\x20blueprint\x20projects:','image/png','.live-summary-tooltip.visible','strokeStyle','เนื้อหาสำหรับสอน:\x20','ผ่าน','enable-black-market-checkbox','(หลังเรียน)\x20','lineWidth','bulk-results-display-select','leaderboard','Error\x20updating\x20sort\x20preference:','choices_only','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.delete-question-editor-btn','connect','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','ผู้เล่น\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','behavior-log-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','[data-field=\x22subTopic\x22]','parts','standardTopic','word-break:\x20break-all;','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คุณแน่ใจว่าต้องการลบแท็บนี้?','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','blueprintUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','div','close','\x20|\x20','\x20รายการ...','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','#results-table\x20thead\x20tr','quiz-end-time','file-shortcut-modal-title','กำลังสร้างรูปภาพ...','ไม่ได้ตอบ','<div\x20class=\x22my-6\x22>','clientX','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','fix-lesson-latex-btn','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','touchend','generate-from-file-btn','Error\x20saving\x20blueprint\x20project:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','postScore','👁️','การคูณเศษส่วน','confirm-wager-btn','fontSize','<i\x20class=\x22fas\x20fa-save\x22></i>','866205DxSBoE','อัตราและอัตราหน่วย','ref','pre-test','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<br>','find','add-file-shortcut-tab-btn','กำลังอัปเดตแบบทดสอบ\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','right','<tr><td\x20colspan=\x22','selectMathOption','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','loader-text','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','</td></tr>','text/plain','generate-from-blueprint-btn','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Failed\x20to\x20generate\x20practice\x20test:','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','dataset','anon-show-answer-toggle','quiz-generation-area','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.quiz-bank-item','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','game-start-quiz-id','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','source_document.pdf','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','memory','afterend','ย้าย','เกิดข้อผิดพลาดในการลบผลสอบ','Error\x20opening\x20quiz\x20editor:','ระยะเวลา\x20(นาที):','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ราชาคัมแบ็ก','2946tYqpBL','classStrengths','entries','starred','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','num-questions','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x20จุด','Attempting\x20to\x20save\x20game\x20results...','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','isPasscodeEnabled','ไฟล์ลัด\x201','black-market-settings-container','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เส้นจำนวน','ตรีโกณมิติ','createOscillator','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','แบบทดสอบนี้หมดเวลาแล้ว','lastAnswerCorrect','ความคล้ายของรูป','toLocaleString','innerHTML','.group\x5c/dropdown-parallel','Error\x20creating\x20project:','.parallel-shortcut-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','powerupUsedThisTurn','scratchpad-options','Could\x20not\x20fetch\x20reference\x20file:','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','confirm-move-quiz-btn','\x22\x5cn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','input[name=\x22syncVariant\x22][value=\x22','use-powerup-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','multiple_choice','underline','จำนวนคละ','bg-green-500\x20hover:bg-green-600\x20text-white','กำลังกลับเข้าสู่เกม\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','text-gray-500','topic-tab','contains','\x5csqrt{$1}','หลังเรียน','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','bank-tab','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','lower_group_count','อัปเดตการตั้งค่าของแบบทดสอบ\x20','Error\x20deleting\x20custom\x20topic:','additional-shortcuts-list','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','curriculum','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','FIRST_TRY_ACE','overflowY','index','link-input-area','.answered','MathJax','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','ondblclick','input[name=\x22syncVariant\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.edit-points-btn','ความเท่ากันทุกประการของสามเหลี่ยม','ค่าสัมบูรณ์','Error\x20confirming\x20players:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','scrollY','กรุณากรอกเป็นตัวเลขเท่านั้น','อัศวินรัตติกาล','eraser','lesson-plan-modal','/public/data/blueprintProjects','.delete-hidden-parallel-shortcut-btn','correctAnswer','ผิด','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','additional-parallel-shortcuts-modal','gain','.star-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','\x20วินาที','การลบเศษส่วน','Matching\x20options\x20synced:','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','fiftyFifty','\x20ชุด)','พื้นที่วงกลม/ส่วนของวงกลม','เกิดข้อผิดพลาดในการเปลี่ยนสี','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','default','newOptions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','files','topic-bank-subtopic-name','blueprintShortcuts','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','mixed','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','show_pass_fail_only','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','#math-topics-checkbox-container\x20input:checked','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','เส้นรอบรูป','Error\x20unlinking\x20quiz:','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','quizId','live-options-container','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','highlighter','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','score','move-quiz-modal','end-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','คัดลอกแบบทดสอบสำเร็จ','\x5ctimes','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','คำถามถัดไป','verify-answers-editor-btn','originalQuestionText','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','bg-red-700\x20text-white\x20font-bold','scratchpad-question','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ผ่านฉลุย','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','student-team-join','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','</span>\x20','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','manage-tab','isCorrect','พบ\x20Sync\x20Game!','file.txt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scan-text-image-btn','พีชคณิตและฟังก์ชัน','มี\x20Points\x20ไม่เพียงพอ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','การจัดกลุ่มข้อมูล','toDataURL','shortcut-editor-modal','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</span><span\x20class=\x22font-bold\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','clientY','สลับไปโหมดผู้ควบคุม','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','setAttribute','passing-score-input','projectView','.bp-create-topic-quiz-btn','ภูเขา','<div\x20class=\x22p-2\x20rounded-md\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-wagerMultiplier','<div\x20class=\x22answer-space\x22></div>','poll','save-blueprint-as-project-btn','.move-file-shortcut-menu-btn','.admin-try-quiz-list-btn','โลมาบิน','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','.verification-result','หน่วยมวล/น้ำหนักและการแปลง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','มือปราบสายรุ้ง','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','ดาวTikTok','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','createElementNS','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','1:274192258111:web:4120c9118229b5644dd48a','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','position','ไก่ฟ้าพญาลอ','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','/public/data/teamQuizzes','.ai-content\x20blockquote','Error\x20processing\x20shortcut\x20click:','text-red-800','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ไม่สามารถโหลดรายการโปรเจคได้','text-emerald-900','ลบโปรเจคสำเร็จแล้ว','getTime','10bbaMEu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','readAsArrayBuffer','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','application/json','Remedial\x20quiz\x20generation\x20failed:','perfect_score','ลบหัวข้อสำเร็จ','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','.move-shortcut-item','applicationContent','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','preScore','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','open-blueprint-projects-btn','ON_FIRE','\x22...','เรเดียนและการแปลงหน่วย','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','select-all-topics-btn','project-quizzes-list','msRequestFullscreen','confirm-not-confident','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','indexOf','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','memoryContent','questions','export-lesson-to-pdf-btn','save-file-shortcut-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','answerValue','imageCode','parallel-shortcut-url-input','.quiz-bank-move-btn','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','parse','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','removeChild','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</button>','.live-answer-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','live-player-management','POST','bp-reference-file-url','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ความน่าจะเป็นแบบมีเงื่อนไข',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','dblclick','.lastAnswerCorrect','มุมและการวัดมุม','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','text-indigo-600','end-team-quiz-btn','lobby','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','correct','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','showInStudentDashboard','touches','แก้ไขข้อนี้','ตลาดมืด\x20(','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','dfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','</span>:\x20','teacherSuggestions','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','execCommand','timed','submit-team-answer-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</td>','ลิมิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','show-results-btn','on_fire','allResponses','แก้ไขปุ่มลัด','<span\x20class=\x22block\x20text-sm\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x20คะแนน</span></div>','สายหมอก','Error\x20saving\x20lesson\x20to\x20project:','projectId','ค่าเสื่อมราคา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','New\x20question\x20detected.\x20Cleaning\x20up.','loopUntilPass','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','modal-shuffle-select','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','ownerSVGElement','match','key','sync-submit-btn','webkitAudioContext','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','isNormalTopic','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','click','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-project-name','buyTime','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','รูปสแควร์รูท\x20(surd)','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','border-indigo-500\x20text-indigo-600','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','currentMode','modified','gameVariant','addEventListener','dragover','canvas','link-topic-input','</tbody></table>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','now','เกิดข้อผิดพลาดในการเข้าร่วมเกม','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','pow','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onclick','.toggle-hidden-options-btn','\x20สำเร็จ','.ai-content\x20h3','cos','rgba(16,\x20185,\x20129,\x200.7)','ลบโปรเจค\x20\x22','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ก้อนเมฆ','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ดอกเบี้ยทบต้น','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','bp-topic-list-container','pointerType','scratchpad-controls','answers','</h3>','temp-loader-text-results','ความคาดหมาย\x20(Expected\x20value)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scheduled','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','reference.txt','dashboardConfig','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ค่าคลาดเคลื่อนของการวัด','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','ไม่มี','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','href','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','คะแนนเต็ม!','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','พิสัย','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','getPage','/studentProfiles','.ai-content\x20td','undo-btn','-options','Error\x20generating\x20parallel\x20post-test:','destroy','parallel-default-','round','add-file-shortcut-btn','จำนวนข้อ:','โหลดนาน','start','null','ถูกต้อง!','geq','close-comparison-modal-btn','newOptionsPayload','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.question-editor-item:last-of-type','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','DOMContentLoaded','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','getElementById','font-bold\x20text-green-700','</option>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isForcedConfident','.move-file-shortcut-dropdown','decode','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','student-join-game-view','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.start-live-race-btn','deltaY','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','powerupUsed_q','reset-view-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','duration-300','กรุณาเลือกคำตอบของกลุ่ม','classic','project-name-input','\x22\x20name=\x22question','post-test','bp-modal-question-complexity-select','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','get','<div\x20class=\x22space-y-2\x22>','confirmation-modal','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','🚀\x20คุณเดิมพันหมดหน้าตัก!','textarea[name=\x22question_single\x22]','start-presentation-btn','เกิดข้อผิดพลาดในการบันทึก','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','blur','#FEF3C7','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','.summary-bar-item','แคลคูลัสเบื้องต้น','ทฤษฎีบทพื้นฐานของแคลคูลัส','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-open-topic-bank-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','.pdf','isLooping','การหารทศนิยม','text-red-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ceil','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x201','เกี่ยวกับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการอัปเดต:\x20','Sync\x20Mode','manual-create-blueprint-btn','bg-blue-100\x20text-blue-800','getCroppedCanvas','save-settings-btn','shortcut-blueprint-url-input','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','(คู่ขนาน)\x20','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','สมการค่าสัมบูรณ์','confirm-game-start-modal','Error\x20updating\x20quiz\x20status:','line-through\x20text-red-700','fromCharCode','warn','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','.sort-indicator','<button\x20data-id=\x22','parallel-test-tab','use-powerup-cutOne','มุมพิเศษ\x2030°-60°-90°','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','(^|[^\x5c\x5c])\x5cb','presentation-explanation','teachingContent','instructions','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','bg-[#EF4444]\x20text-white\x20font-bold','cloneNode','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','black-market-modal','แก้ไขสูตรคณิตศาสตร์\x20','trail','body','fileShortcutsConfig','separate-by-content-from-file-checkbox','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cropper-modal','artifacts/','join','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','/3</span></div>','hint','random','ปริมาตรรูปทรงสามมิติ','fill','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20listening\x20for\x20projects:','perseverance','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','preventDefault','binom','qType','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','wager-modal','modal-confidence-mode-container','ai-quiz-app-aefee.firebasestorage.app','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20file\x20shortcut:','loop-until-pass-checkbox','text-gray-100','topic-input-area','/public/data/quizzes','ปรับเพิ่ม/ลดเป็นร้อยละ','dispatchEvent','modal-timer-duration-input','additional-file-shortcuts-list','เกิดข้อผิดพลาดในการลบโปรเจค','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<svg','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','Error\x20joining\x20activity:','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','20px','bg-red-100\x20text-red-900','_new','confidence-scoring-description','results','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.presentation-option','confidence-scoring-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','export-image-btn','.topic-selection-btn','num-choices','shortcut-id-input','shuffle-setting-select','global-activity-modal','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','trail-tool-btn','bold','draggable-text','ค่าความจริง/ตารางค่าความจริง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','modal-timer-duration-label','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','querySelectorAll','live-race','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','answer','\x27\x20ในหัวข้อ\x20\x27','bg-white','.answeredCurrentQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','lowerGroupNames','smooth','removeEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players.','หมีขั้วโลกใต้','dragend','นกฮูกกลางวัน','ทศนิยม\x20(ค่าประจำหลัก)','title','wasConfident','N/A','ondragstart','sqrt','applicationData','close-market-btn','use-powerup-insurance','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','readAsDataURL','กรุณาพิมพ์คำตอบของกลุ่ม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-global-live-btn','confirm-join-game-btn','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20</div>','points','classWeaknesses','includes','project-sort-select','project-id-display','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','bg-gray-100\x20opacity-70','อัตราส่วนและสัดส่วน','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','textAlign','lowerGroupResponders','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','export-leaderboard-pdf-btn','wager-max-points','className','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไข\x20Points\x20ของ\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x20to\x20blueprint\x20topic\x20','https://drive.google.com/uc?export=download&id=','team-player-status-grid','เกิดข้อผิดพลาดในการติดดาว','แบบทดสอบที่ติดดาว','ใช้ไอเทม\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','reveal_at_end','lesson-view-title','editable-text-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','md:col-span-3','team-quiz-topic','ซามูไรสายเดี่ยว','splice','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','analytics-tab-btn','isBlackMarketEnabled','market-timer-bar','marginBottom','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','flex','.ai-fix-formula-btn','bg-green-200','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','num-choices-container','ดอกเบี้ยอย่างง่าย','pen','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','Error\x20fetching\x20lesson\x20content:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','2250280ruewPZ','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pathname','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','overallGroups','.doc','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','bg-blue-500\x20hover:bg-blue-600\x20text-white','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fill_in_no_choices','ผู้เชี่ยวชาญ','จำนวนคู่:','thead','กรุณากรอกข้อมูลให้ครบทุกช่อง','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','(ไม่มีชื่อ)','การวัด','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สมการเชิงเส้นตัวแปรเดียว','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','Market\x20entry\x20payment\x20failed:','\x20ใหม่...','quiz-status-modal','commit','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','parallel-shortcut-modal-title','quiz-start-time','.txt','.live-answer-btn,\x20#sync-submit-btn','scoresCalculated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','usedBuyTime','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','/players','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','_opt0\x22>ใช่</label></div>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','Error\x20saving\x20settings:','Error\x20updating\x20custom\x20topic:','transform','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','กฎของไซน์','คะแนนเต็ม','/users/','timer-bar','กิจกรรมสิ้นสุดลงแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','.bp-unlink-quiz-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','text-green-800','กรุณาใส่ชื่อใหม่','ondragend','เกิดข้อผิดพลาดในการอัปเดตสถานะ','prev-question-btn','bp-project-title','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','string','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select',')</span></div>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','export-leaderboard-excel-btn','tan','market-current-points','student','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','summary','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','เกิดข้อผิดพลาดในการใช้ไอเทม','parent','timerMode','show_results_only','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.project-card-content','\x22\x20สำเร็จ','manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','progress-project-select','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','scrollIntoView','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','timer-container','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','justification','placeholder','quiz-bank-modal','projectName','[data-topic-id]','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','both','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.group\x5c/dropdown-file','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','แอบชอบ','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','interesting-stats-container','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','linkedQuizIds','change','\x20คน\x20เรียบร้อยแล้ว!','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500\x20text-white\x20font-bold','trim','ระบบเลขและค่าประจำหลัก','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image-to-crop','quiz','isDefault','destination','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','G-V90KRM0L63','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','additional-parallel-shortcuts-list','confirm-create-project-btn','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','(ก่อนเรียน)','move','ฐานนิยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','คำอธิบาย...','Error\x20saving\x20shortcut\x20config:','cancel-rename-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','results-quiz-title','.copy-quiz-id-list-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','(ฉบับง่าย)\x20','unshift','\x20|\x20ID:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Error\x20fetching\x20quiz\x20settings:','Error\x20deleting\x20all\x20students:','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','incorrect','str','กำลังสแกนหาแบบทดสอบเก่า...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','fa-pen','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','dim-overlay','pointerup','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แท็บใหม่','verify-answers-btn','admin-dashboard','screen','practiceProblems','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','print','แผนภาพเวนน์','กำลังอ่านไฟล์อ้างอิง...','.pin-key','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','start-sync-game-btn','write','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','#e21b3c','.quiz-settings-btn','fix\x20the\x20option','AI\x20did\x20not\x20return\x20any\x20content.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มูเตลู','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','แก้ไขปุ่มลัดจากไฟล์','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','export-tutor-pdf-btn','latestSubmittedAt','.start-game-btn','.csv','.view-bp-lesson-btn','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยอดเยี่ยม!','total','<tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','players','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','items','</label></div>','scores-tab-btn','rgba(255,\x20255,\x200,\x200.5)','color','ลำดับเลขคณิต\x20(AP)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','text-yellow-800','quiz-results','ป่าไม้','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','กำลังสร้างแบบทดสอบจากหัวข้อ...','specialist','input[name=\x22syncVariant\x22]','.delete-submission-btn','ฟังก์ชันพหุนาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ข้าวมันไก่พิเศษ','.ideal-answer-input','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','requestFullscreen',')\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','getAttributeNS','<div\x20class=\x22my-2\x22>','reference-pdf-upload','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','thead\x20.sortable-header','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x20mb-2\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','เรขาคณิตวิเคราะห์','parallelTestShortcutsConfig','use-powerup-wagerMultiplier-instant','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','scratchpad-modal',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','next-question-btn','activeGameSession','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','closest','.hidden-option-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','/preferences/main','manage','.move-parallel-shortcut-menu-btn','students','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการอ่านไฟล์','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','blockReason','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','left','.quiz-bank-try-btn','/public/data/blueprintProjects/','กำลังอ่านและเตรียมไฟล์...','modal-adaptive-quiz-checkbox','open','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','/lessons','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พื้นที่สามเหลี่ยม','ครัวซองต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','generated-quiz-container','Leaderboard\x20update\x20transaction\x20failed:\x20','use-powerup-fiftyFifty','Refunded\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','per-question-timer-container','date_asc','\x5cge','correctResponse','แฟนทิพย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tooltipTarget','src','reduce','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','targetId','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','show-leaderboard-btn','pointer-events-none','\x20(สำหรับ\x20','.compare-results-btn','เศรษฐีดูไบ','/public/data/quizzes/','input','bg-[#4ADE80]\x20text-green-900\x20font-bold','pairedQuizId','Test\x20Blueprint','.isScored','พบข้อสอบ\x20','reset-project-order-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','blueprint-topics-list','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','moveTo','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ควรปรับปรุง','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','anon-settings-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมสิ้นสุดลงแล้ว','topics.','MathJax\x20typeset\x20error\x20(analytics):','quiz-type-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20group\x20quiz:','student-rankings-modal','leaderboard-quiz-tab-content','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','แผนการสอน:\x20','.question-editor-item[data-q-index=\x22','Error\x20generating\x20from\x20parallel\x20test\x20file:','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','pollUsedThisTurn','additional-shortcuts-modal','<div>','totalPoints','back-to-home-manual-release','รูปสี่เหลี่ยมและสมบัติ','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','isConfidenceScoringEnabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','options','ลำดับการดำเนินการ\x20(PEMDAS)','กำลังสร้างบทเรียน:\x20','/public/data/projects/','parentElement','confidence-choice-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','save-parallel-shortcut-btn','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','หมาป่าเดียวดาย','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','delete-svg-btn','มุมพิเศษ\x2045°-45°-90°','อัตราการเปลี่ยนแปลงทันที','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','</span></p>','powerups','ดอทโปรดักต์\x20(dot)','เกิดข้อผิดพลาด','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','answered','subTopics','sync-matching-select','back-to-project-btn','กฎบวกและกฎคูณ','แผนการสอน','bg-gray-50','file-shortcut-id-input','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','53OXkUaH','text-indigo-700','ไม่ผ่าน','text-content-input','\x22\x20data-index=\x22','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','pin','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','lesson-loader-text','file-shortcuts-loading-msg','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','หน่วยความยาวและการแปลง','กลุ่ม:\x20','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ตัวเลือก\x20ง','push','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','teacherTips','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','top','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','ตรวจทานเฉลยเสร็จสิ้น!','เกิดข้อผิดพลาดในการบันทึกคะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลผู้ใช้','sync-short-answer-input','.text-indigo-200','difficulty-level-select','pre-test-checkbox','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','globalCompositeOperation','.open-bp-project-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','shadowBlur','ไฟล์ลัด\x202','previousElementSibling','แบตหมด','<button\x20data-shortcut-id=\x22','คัดลอกรหัสแล้ว!','#student-quiz-leaderboard-content\x20thead','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','bp-modal-include-images-checkbox','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','toLowerCase','modal-timer-duration-container','live-game-view','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.correct-response-input','Error\x20showing\x20quiz\x20detail\x20view:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','bg-gray-500','tGain','shortcuts-loading-msg','cancel-quiz-settings-btn','.delete-shortcut-tab-btn','json','Error\x20saving\x20shortcut:','💰\x20โหมดเดิมพันทำงานอยู่!','scrollX','Enter','ยังไม่ส่ง','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','Failed\x20to\x20create/update\x20submission\x20record:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','offsetWidth','</body></html>','สเกลและแผนที่','ข้อต่อไป','\x20(\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','currentPoints','rgba(79,\x2070,\x20229,\x200.8)','active','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(',';\x22\x20data-tooltip-target=\x22tooltip-','input[name=\x22drill_answer\x22]:checked','.bp-create-onet-quiz-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','admin-password-modal','28px','create-from-bank-btn','แผนภาพกล่อง\x20(box\x20plot)','abs','close-lesson-plan-modal-btn','ส่งแล้ว','Failed\x20to\x20apply\x20forceConfident:','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','admin-testing','close-lesson-view-btn','pointsLastRound','export-excel-btn','set','answerText','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','Error\x20loading\x20user\x20preferences:','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','s;\x22\x20title=\x22','end-sync-game-btn','strategyScan','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','createObjectURL','showAnswerInAnonymous','use-powerup-secondChance','\x5cneq','Error\x20saving\x20visibility\x20settings:','404\x20Not\x20Found','live-game','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-generator-v3','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','camera-crop-btn','open-market-btn','behaviorLog','quiz-settings-modal','suspended','กำลังสร้างแบบทดสอบ:\x20','matching','select[name=\x22question_single\x22]','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','เวกเตอร์และเมทริกซ์\x20(เสริม)','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','getElementsByTagName','สู้ๆ\x20ลองอีกครั้งนะ','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เต่าสายฟ้า','NEGATIVE_INFINITY','manual_release','<option>กำลังโหลดโปรเจค...</option>','point','.status','เกิดข้อผิดพลาดในการจับคู่','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','Error\x20committing\x20score\x20updates:','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','load-quiz-btn','modal-confidence-mode-select','catch','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','cutOne','สร้างชุดคำถามจับคู่','selected-answer-index-hidden-wager','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','topicName','-9999px','parallel-shortcut-id-input','ซื้อ\x20(','submit','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ท็อปฟอร์ม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','firstScore','สถานะไม่ชัดเจน','.score','.buy-item-btn','รากที่สองและที่สาม','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','/submissions','endTime','.pointsLastQuestion','cdot','tabId','.delete-student-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','admin-password-input','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','/public/data/projects','องค์ประกอบของฟังก์ชัน','ondragover','text-gray-200','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','text-green-600\x20font-bold','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mjx-container','dimmed','sync-timer-countdown','Error\x20joining\x20team\x20quiz:','shortcuts','สมการราก\x20(radical)','generationConfig','ไม่สามารถบันทึกการตั้งค่าได้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','cancel-admin-login-btn','ผู้ควบคุม\x20(ทดสอบ)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','message','.highlighter-color-btn','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','button','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','question-analytics-container','#000000','student-list','include-images-checkbox','เรขาคณิต','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x22\x20ให้เป็นคำถามประเภท\x20\x22','STOP','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','(เลือกแล้ว\x20','quiz-form','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','webkitRequestFullscreen','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','สร้างคำถามแบบเติมคำในช่องว่าง','confident','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x20ตอบ','isJinxed','file-shortcut-editor-modal','responseSchema','เมทริกซ์:\x20บวก/คูณ','ไม่พบโปรเจคที่ต้องการลบ','questions_only','toDate','isSyncGame','cancel-wager-btn','toLocaleDateString','.question-editor-item','overflow','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','text-white','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-url-input','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','.space-y-1.pl-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','border-gray-300','substring','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','.delete-custom-topic-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','results-table-container','resultsDisplay','text-gray-300','modal-passing-score-input','cancel-team-selection-btn','pin-entry-modal','ตัวเลือก\x20ข','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รักแรกพบ','lineJoin','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','showRankings','live-submit-short-answer-btn','result','back-to-dashboard-from-bp-btn','topic','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','createElement','#open-additional-file-shortcuts-btn','game-pin-input','\x22\x20class=\x22delete-project-btn\x20','uid','ความชันและเส้นตรง','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-toggle','exitFullscreen','Auto-cleanup\x20failed:','.sortable-header','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','analytics-summary-cards','\x22\x20name=\x22confidence','2-digit','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','wager-slider','cancel-manual-bp-btn','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','replaceChild','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','คณิตศาสตร์','\x22,\x20','<div\x20class=\x22space-y-4\x22>','blueprint-settings-modal','promptFeedback','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','.move-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.ai-content\x20p','.color-palette-btn','move-quiz-project-select','short','applicationHTML','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','postTScore','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','.quiz-bank-parallel-btn','ตัวแทนแห่งดวงจันทร์','Error\x20listening\x20for\x20custom\x20math\x20topics:','ไม่พบข้อมูลโปรเจค','shortcut-name-input','กำลังจับคู่...','confidence-modal','explanation','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','temp-loader-results','.generate-content-btn','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','ไม่พบตารางสำหรับ\x20Export','size','transition-all','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','เสือซ่อนเล็บ','Error\x20deleting\x20quiz:','\x22\x20value=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','สอบปกติ','create-project-modal','parallelShortcutOrder','slice','274192258111','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20x','center','Error\x20displaying\x20blueprint\x20project:','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','scratchpad-close-btn','rename-quiz-input','.topic-category','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','การบวกเศษส่วน','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','generate-from-parallel-test-btn','freeMarketEntryUsed_q','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ศูนย์','🛡️','ยืนยันการกระทำ','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint.pdf','removed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','นำแบบทดสอบออกจากคลังนี้แล้ว','comparison-individual-tab','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','file-topic-input','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','สรุปผลการวิเคราะห์:\x5cn','mouse','join-group-activity-btn','\x22\x20title=\x22','อสมการเชิงเส้น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerups.','innerText','ระยะเวลา\x20(วินาที):','รูปหลายเหลี่ยมและมุมภายใน','\x20จุดเรียบร้อยแล้ว','question','pointerdown','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','new-question-type-select','textarea','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','offset','analyze-strengths-btn','Error\x20during\x20class\x20analysis:','grid-view-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','backgroundColor','results-tab-content','หนอนหนังสือ','.edit-hidden-parallel-shortcut-btn','quiz-editor-questions-container','คะแนนเฉลี่ย','input[type=\x22text\x22]','.verification-result-editor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','results-table','Error\x20submitting\x20answer:','leaderboard_','suggestedAnswer','camera-input','comparison-overall-tab','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','screen_exit','fas\x20fa-star\x20text-yellow-500','bulk-loop-until-pass-checkbox','<div\x20class=\x22','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','การยืนยันตัวตนล้มเหลว','per-question-text','<div><input\x20type=\x22radio\x22\x20id=\x22q','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','responses.','fa-user-astronaut\x20text-blue-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','API\x20Error\x20Response:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','bank-input-area','rgba(59,\x20130,\x20246,\x200.7)','.eraser-size-btn','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','desc','modal-results-display-select','difficultyValue','Error\x20saving\x20user\x20preference:','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','getItem','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.custom-math-dropdown','file-shortcut-tabs-nav','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','ทฤษฎีบทพีทาโกรัสและการประยุกต์','.bp-delete-topic-btn','ศิลปิน','sine','focus','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','medium','คำถาม...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','-tab','bg-green-200\x20text-green-900\x20font-bold','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','สอบซ่อม','live-short-answer-input','confidence',',\x20r=','keyConcepts','whole_quiz','การสร้างรูปด้วยวงเวียน–สันตรง','</div>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','Error\x20regenerating\x20question\x20in\x20editor:','substr','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','true_false','bg-green-100\x20font-bold','ฟังก์ชันกำลังสองและกราฟ','AudioContext','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','Error\x20during\x20deep\x20delete:','hidden','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ลาเต้ไม่หวาน','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','quick_thinker','name','ชื่อหัวข้อห้ามว่าง','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','Error\x20during\x20blueprint\x20link\x20cleanup:','transition','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics','use-powerup-buyTime','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาตั้งชื่อแท็บใหม่:','scale-125','open-quiz-bank-btn','latestScore','ยืนยันการจับคู่','topic_','\x20คะแนน\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-duration-input','\x20ชุด)</span>','manual-bp-grade-level','redo-btn','contentEditable','file-topics-list','correctStreak','#open-additional-shortcuts-btn','manual-blueprint-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','modal-loop-until-pass-checkbox','พื้นที่ผิวรูปทรงสามมิติ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-value','ไม่พบข้อมูลเกม','mouseup','(รอคะแนน)','.delete-svg-btn','.quiz-result-card','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20(Player)\x20(ID:\x20','\x5cdiv','Error\x20listening\x20for\x20starred\x20quizzes:','beginPath','presentation-slide-container','topic-input','text-red-500\x20hover:text-red-700','AI\x20ไม่สามารถอ่านข้อความได้','docs','manual-bp-content','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','file.pdf','isStarred','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ฟังก์ชันลอการิทึม','Error\x20updating\x20quiz\x20settings:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','wheel','Team\x20Quiz','sync-player-list','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','1000px','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','timer-mode-select','isRemedial','stringify','fill_in_the_blank','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','⏳\x20ซื้อเวลา','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pinned-items','<span\x20class=\x22sort-indicator\x20ml-2\x22>','Error\x20updating\x20project\x20name:','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','lesson-plan-title','ฮิสโตแกรม','confirm-admin-login-btn','per_question','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated','<span\x20title=\x22โดนคำสาป\x22>😈</span>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ!','bg-green-200\x20text-green-800','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','สถิติและความน่าจะเป็น','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shortcut-reference-url-input','querySelector','.answers','bg-red-100\x20text-red-800','save-bp-settings-btn','devicePixelRatio','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','category','handleGenerateAndShowLesson','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','\x20เป็น\x20','math-topic-search-input','bg-white\x20text-gray-800','\x20quizzes\x20into\x20global\x20cache.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังค้นหากิจกรรม...','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','Error\x20updating\x20old\x20quizzes:','student-project-leaderboard-tab','student-quiz-topic','sync-variant-selector','AI\x20Formula\x20Fix\x20Error:','parentNode','การปัดเศษและประมาณค่า','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','parallel-default-2','กระต่ายตื่นตูม','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','revealOptions','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','คำเตือน\x20(','เพิ่มหัวข้อ\x20\x22','):\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','Error\x20generating\x20teaching\x20content:','.game-start-btn','<button\x20data-tab-id=\x22','finished','#student-project-leaderboard-content\x20thead','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','cancel-delete-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','%PDF','startTime','wakeLock','questionId','message-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.edit-quiz-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','contents','blueprint-project-list','first_try_ace','.bp-present-btn','</p></div>','ใช้\x20\x22คำสาป\x22\x20กับ\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','กำลังดึงข้อมูลจากลิงก์...','รายการนี้','next-review-question-btn','behavior-log-tab-btn','.remove-file-shortcut-from-tab-btn','\x22\x20data-topic=\x22','blueprint-topics-list-container','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ไม่พบไฟล์\x20Test\x20Blueprint','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','bulk-confidence-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointContent','inactive','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','แบบปรนัย\x204\x20ตัวเลือก','Blueprint\x202','mainTopics','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','url','upperGroupNames','.move-shortcut-dropdown','กรุณาเลือกชื่อของคุณ','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','onchange','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.shortcut-list-item','p-2\x20bg-black/10\x20rounded-md','\x22\x20data-pre-test-id=\x22','.topic-name-input','default-2','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','txt','</strong></p>','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','lesson-sections-container','ความเป็นอิสระของเหตุการณ์','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','.subTopic','กำลังโหลดคลังข้อสอบทั้งหมด...','rename-quiz-modal','currentTarget','Game\x20results\x20already\x20saved.\x20Skipping.','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','confidence-mode-select','comeback_king','.quiz-status-btn','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ปิดใช้งาน','$$$1$','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-edit-topic-btn','data'];_0x2b6e=function(){return _0x304409;};return _0x2b6e();}function displayTeachingContent(_0x1abf6f,_0x246d6c){const _0x4ec201=_0x230ac1,_0x4ded5a=document['getElementById'](_0x4ec201(0x2fc));document[_0x4ec201(0x815)](_0x4ec201(0xd17))[_0x4ec201(0x587)]=_0x4ec201(0x5a4)+_0x246d6c;const _0x43d351='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1abf6f[_0x4ec201(0xcb0)][_0x4ec201(0xe07)](_0x32ed45=>_0x4ec201(0x3b4)+_0x32ed45+_0x4ec201(0x23c))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1abf6f[_0x4ec201(0x315)][_0x4ec201(0xe07)](_0xfd86fb=>_0x4ec201(0x3b4)+_0xfd86fb+_0x4ec201(0x23c))[_0x4ec201(0x885)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x1abf6f['stepByStepExamples'][_0x4ec201(0xe07)](_0x168ecf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x168ecf[_0x4ec201(0xc56)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x168ecf[_0x4ec201(0x1f7)]+_0x4ec201(0xe27))[_0x4ec201(0x885)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1abf6f['teacherTips'][_0x4ec201(0xe07)](_0x2d3de0=>'<li>'+_0x2d3de0+_0x4ec201(0x23c))[_0x4ec201(0x885)]('')+_0x4ec201(0x631);_0x4ded5a['innerHTML']=_0x43d351;if(window[_0x4ec201(0x67a)])MathJax[_0x4ec201(0x40b)]([_0x4ded5a]);}async function generateQuizForSingleTopic(_0x31b59a){const _0x321e9a=_0x230ac1;console[_0x321e9a(0x1cf)](_0x321e9a(0x32b)+_0x31b59a+'\x22');const _0x244e8b=document[_0x321e9a(0x815)](_0x321e9a(0xa18)),_0x3a9fcb=_0x244e8b[_0x321e9a(0x6a2)]['length']>0x0?_0x244e8b[_0x321e9a(0x6a2)][0x0]:null;let _0x3e6632=null;if(_0x3a9fcb)try{const _0x4bb84a=new FileReader();_0x4bb84a[_0x321e9a(0x8e6)](_0x3a9fcb);const _0x306cf7=await new Promise((_0x1ee80a,_0x3cc3aa)=>{const _0x4b4b13=_0x321e9a;_0x4bb84a['onload']=()=>_0x1ee80a(_0x4bb84a[_0x4b4b13(0xbdb)][_0x4b4b13(0x356)](',')[0x1]),_0x4bb84a[_0x4b4b13(0x284)]=_0x287d94=>_0x3cc3aa(_0x287d94);});_0x3e6632=[{'inlineData':{'mimeType':_0x3a9fcb[_0x321e9a(0x444)],'data':_0x306cf7}}];}catch(_0x2406ca){console[_0x321e9a(0x1b6)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x2406ca),showMessage(_0x321e9a(0x6d9));return;}generateQuiz(_0x31b59a,null,null,_0x3e6632,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x71136d=null){const _0x301e47=_0x230ac1,_0xd99cf6=document[_0x301e47(0x815)](_0x301e47(0xb68)),_0xca1054=document[_0x301e47(0x815)]('loader-text');let _0x3f89f2,_0x103f56=[];if(_0x71136d)_0x3f89f2=_0x71136d,_0x103f56=_0x3f89f2['slice'](0x2);else{const _0x59c357=document[_0x301e47(0x815)]('blueprint-upload-input'),_0x7f693a=document[_0x301e47(0x815)](_0x301e47(0xa18)),_0x5e77e5=_0x59c357[_0x301e47(0x6a2)][0x0];if(!_0x5e77e5){showMessage(_0x301e47(0x997));return;}_0xca1054[_0x301e47(0x587)]=_0x301e47(0x57d);const _0x1613d5=await new Promise((_0x59c003,_0x4b9df4)=>{const _0x4d05b8=_0x301e47,_0x28cc55=new FileReader();_0x28cc55[_0x4d05b8(0x8e6)](_0x5e77e5),_0x28cc55['onload']=()=>_0x59c003(_0x28cc55[_0x4d05b8(0xbdb)][_0x4d05b8(0x356)](',')[0x1]),_0x28cc55[_0x4d05b8(0x284)]=_0x4b9df4;});_0x3f89f2=[{'text':_0x301e47(0x4de)},{'inlineData':{'mimeType':_0x5e77e5[_0x301e47(0x444)],'data':_0x1613d5}}];if(_0x7f693a[_0x301e47(0x6a2)][_0x301e47(0xe93)]>0x0){const _0x30f0f2=_0x7f693a[_0x301e47(0x6a2)][0x0];_0xca1054['textContent']=_0x301e47(0x319);const _0xf3159b=await new Promise((_0x3dace8,_0x43b327)=>{const _0x169cd1=_0x301e47,_0x55bd60=new FileReader();_0x55bd60[_0x169cd1(0x8e6)](_0x30f0f2),_0x55bd60[_0x169cd1(0x5f8)]=()=>_0x3dace8(_0x55bd60['result'][_0x169cd1(0x356)](',')[0x1]),_0x55bd60[_0x169cd1(0x284)]=_0x43b327;}),_0x434ded={'inlineData':{'mimeType':_0x30f0f2['type'],'data':_0xf3159b}};_0x3f89f2[_0x301e47(0xacf)](_0x434ded),_0x103f56[_0x301e47(0xacf)](_0x434ded);}}const _0x2f0f52=_0x301e47(0xd37),_0x52b39d=_0x301e47(0x579);let _0x27aed2='';_0x103f56&&_0x103f56['length']>0x0?_0x27aed2=_0x2f0f52:_0x27aed2=_0x52b39d;const _0x1fe234=_0x301e47(0xe15)+_0x27aed2+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x32c0b1={'type':'OBJECT','properties':{'questionText':{'type':_0x301e47(0x324)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x301e47(0x270),_0x301e47(0xcba),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x301e47(0x324)}},'correctAnswerIndex':{'type':_0x301e47(0xc97)},'idealAnswer':{'type':_0x301e47(0x324)},'correctAnswer':{'type':_0x301e47(0x3e2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x301e47(0x324)}},'required':[_0x301e47(0x1f4),'explanation']},_0x148589={'type':_0x301e47(0x1eb),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x32c0b1}},'required':[_0x301e47(0xbdd),_0x301e47(0x746)]};_0x3f89f2[0x0][_0x301e47(0x317)]=_0x1fe234,await handleApiCall(_0x3f89f2,_0x301e47(0x60e),_0x148589);}function proceedToNextQuestion(_0x520e03){const _0x26c249=_0x230ac1;studentAnswersPerQuestion[_0x26c249(0xacf)](_0x520e03),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x26c249(0x746)][_0x26c249(0xe93)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4c76d2,_0x3b1a85,_0x13ae6a){const _0x59c55c=_0x230ac1,_0xab27a7=Object[_0x59c55c(0xdf2)](_0x4c76d2['players']||{}),_0xc49947=_0xab27a7[_0x59c55c(0xe93)],_0x403210=_0x13ae6a,_0xf1836c=_0x4c76d2['gameVariant']||_0x59c55c(0x831),_0xa9850=_0xf1836c===_0x59c55c(0xe18)||_0xf1836c==='anonymous_reveal_end',_0x308c11=_0xf1836c==='reveal_at_end'||_0xf1836c===_0x59c55c(0xf2e),_0xf8f952=_0x4c76d2[_0x59c55c(0x381)]===!![],_0x508b16=_0xf1836c===_0x59c55c(0x454),_0xc73ed6=_0x4c76d2['shuffledQuiz'][_0x59c55c(0x746)],_0x21c16c=_0xc73ed6[_0x403210],_0xd6fbfd=_0x15b82b=>String[_0x59c55c(0x869)](0x41+_0x15b82b),_0x4a2831=_0xab27a7[_0x59c55c(0xe07)](_0x62dfc2=>{const _0xc41261=_0x59c55c,_0x243d5b=(_0x62dfc2[_0xc41261(0x7d9)]||[])[_0xc41261(0x320)](_0x5e26c5=>{if(_0x308c11)return _0x5e26c5['questionIndex']<=_0x403210;return!![];});let _0x4b5296=0x0,_0x2e1b45=0x0;_0x308c11?(_0x4b5296=_0x243d5b[_0xc41261(0x320)](_0x15cdb6=>_0x15cdb6[_0xc41261(0x6d1)])[_0xc41261(0xe93)],_0x2e1b45=_0x243d5b[_0xc41261(0xa56)]((_0x4a57d6,_0x5e4ee1)=>_0x4a57d6+(_0x5e4ee1[_0xc41261(0x1e4)]||0x0),0x0)):(_0x4b5296=_0x62dfc2[_0xc41261(0x6b9)]||0x0,_0x2e1b45=_0x62dfc2['totalPoints']||0x0);const _0x39a684=[..._0x243d5b][_0xc41261(0xa6f)]((_0x1cc536,_0x3302b3)=>_0x1cc536[_0xc41261(0xeb9)]-_0x3302b3['questionIndex']);let _0x3fe910=0x0;return _0x39a684[_0xc41261(0xdec)](_0x3de74b=>{const _0x310631=_0xc41261,_0xe711b7=_0x3de74b[_0x310631(0x447)]&&_0x3de74b['powerupUsed']!=='wagerMultiplier'||_0x3de74b['usedBuyTime'];_0x3de74b[_0x310631(0x6d1)]?_0xe711b7?_0x3fe910=0x0:_0x3fe910++:_0x3fe910=0x0;}),{..._0x62dfc2,'realScore':_0x4b5296,'totalPoints':_0x2e1b45,'answers':_0x243d5b,'correctStreak':_0x3fe910};}),_0x3092f4=Math[_0x59c55c(0x526)](..._0x4a2831[_0x59c55c(0xe07)](_0x1f8141=>_0x1f8141[_0x59c55c(0xa92)]),-Infinity),_0x8ec9fd=Math[_0x59c55c(0x526)](..._0x4a2831[_0x59c55c(0xe07)](_0x58bd97=>_0x58bd97['realScore']),-Infinity),_0xc7ec1d=_0x4c76d2[_0x59c55c(0x916)]===!![],_0x7b0250=[..._0x4a2831][_0x59c55c(0xa6f)]((_0x27c25c,_0x4001b4)=>{const _0x5e625e=_0x59c55c;if(_0xc7ec1d){const _0x29285d=_0x4001b4['totalPoints']-_0x27c25c['totalPoints'];if(_0x29285d!==0x0)return _0x29285d;const _0x8670ed=_0x4001b4['realScore']-_0x27c25c[_0x5e625e(0x545)];if(_0x8670ed!==0x0)return _0x8670ed;return(_0x27c25c[_0x5e625e(0xcc9)]||'')['localeCompare'](_0x4001b4[_0x5e625e(0xcc9)]||'','th');}else{const _0x2f9f00=_0x4001b4[_0x5e625e(0xa92)]-_0x27c25c[_0x5e625e(0xa92)];if(_0x2f9f00!==0x0)return _0x2f9f00;const _0x2a3b7a=_0x4001b4['realScore']-_0x27c25c[_0x5e625e(0x545)];if(_0x2a3b7a!==0x0)return _0x2a3b7a;return(_0x27c25c[_0x5e625e(0xcc9)]||'')[_0x5e625e(0xdc1)](_0x4001b4[_0x5e625e(0xcc9)]||'','th');}});let _0x45aca3='';const _0x121493=!_0x508b16&&!(_0xa9850&&_0x4c76d2[_0x59c55c(0xb2d)]===![]);if(_0x21c16c&&_0x121493){let _0x6ceaf4='',_0x4d48dc='';const _0x1d8b66=_0x21c16c[_0x59c55c(0x1f4)]||_0x4c76d2[_0x59c55c(0xde5)][_0x59c55c(0x1c2)];if(_0x1d8b66===_0x59c55c(0x653)&&_0x21c16c['options']){const _0x500222=_0x21c16c[_0x59c55c(0xdfa)];_0x6ceaf4=_0x21c16c[_0x59c55c(0xa9c)][_0x500222],_0x4d48dc=_0xd6fbfd(_0x500222)+'.';}else{if(_0x1d8b66===_0x59c55c(0xcba)){const _0x267238=String(_0x21c16c[_0x59c55c(0x68b)])[_0x59c55c(0xaec)]()==='true';_0x6ceaf4=_0x267238?_0x59c55c(0x43c):_0x59c55c(0x249),_0x4d48dc=_0x267238?'ก.':'ข.';}else{if(_0x1d8b66==='matching_item')_0x6ceaf4=_0x21c16c[_0x59c55c(0xa50)]||'-';else(_0x1d8b66===_0x59c55c(0x270)||_0x1d8b66===_0x59c55c(0x934))&&(_0x6ceaf4=_0x21c16c[_0x59c55c(0x46d)]||'-');}}_0x6ceaf4&&(_0x45aca3=_0x59c55c(0x431)+(_0x403210+0x1)+_0x59c55c(0x37f)+_0x4d48dc+'\x20'+_0x6ceaf4+_0x59c55c(0xd4f));}const _0x400c59=_0x7b0250[_0x59c55c(0xe07)]((_0x555407,_0x54f907)=>{const _0x502492=_0x59c55c,_0x32af70=_0x555407[_0x502492(0x545)],_0x3cd1e5=_0x555407[_0x502492(0xa92)],_0xbffe81=(_0x555407['answers']||[])[_0x502492(0x5eb)](_0x1184b6=>_0x1184b6[_0x502492(0xeb9)]===_0x13ae6a),_0x1bb86a=_0x555407[_0x502492(0x7d9)]['length'];let _0x14fb4e='';if(_0xbffe81){if(_0xbffe81[_0x502492(0x573)])_0x14fb4e+=_0x502492(0x73a);if(_0xbffe81[_0x502492(0x1fd)])_0x14fb4e+=_0x502492(0xd1d);if(_0xbffe81['usedBuyTime'])_0x14fb4e+=_0x502492(0x1e8);const _0x42d8bd=_0xbffe81[_0x502492(0x447)];if(_0x42d8bd){const _0x4994fe={'poll':'📊','cutOne':'✂️','insurance':_0x502492(0xc39),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x502492(0x5df)};if(_0x4994fe[_0x42d8bd])_0x14fb4e+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x4994fe[_0x42d8bd]+_0x502492(0x3af);}}let _0x43bdc9='';const _0x401a67=_0x555407[_0x502492(0xce0)]||0x0,_0x202e76=_0xbffe81&&_0xbffe81[_0x502492(0x94d)],_0x35b014=_0xbffe81&&_0xbffe81[_0x502492(0x447)]&&_0xbffe81[_0x502492(0x447)]!=='wagerMultiplier';!_0x508b16&&_0x401a67>=0x3&&!_0x202e76&&!_0x35b014&&(_0x43bdc9+='\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x'+_0x401a67+_0x502492(0x3af));if(!_0x508b16&&_0x1bb86a>0x0){if(_0xc7ec1d){if(_0x3cd1e5===_0x3092f4&&_0x3092f4>0x0)_0x43bdc9+=_0x502492(0x702);if(_0x32af70===_0x8ec9fd&&_0x8ec9fd>0x0)_0x43bdc9+=_0x502492(0xe5d);}else{const _0x41e05c=_0x555407[_0x502492(0x545)]===_0x13ae6a+0x1;if(_0x41e05c)_0x43bdc9+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x43bdc9===''&&_0x3cd1e5<0x0)_0x43bdc9+=_0x502492(0x743);}let _0x51bf8e='bg-black/20',_0x2b9da4=![],_0x4ddefc=![];if(!_0x508b16){const _0x20415a=(_0x555407[_0x502492(0x7d9)]||[])[_0x502492(0x5eb)](_0x256c32=>_0x256c32[_0x502492(0xeb9)]===_0x403210);if(_0x20415a){const _0x588bda=_0x20415a[_0x502492(0x6d1)],_0x5920a5=_0x20415a[_0x502492(0x8de)]===!![]||_0x20415a['wasConfident']===_0x502492(0xbad),_0x371b26=_0x20415a[_0x502492(0x447)];if(_0x371b26===_0x502492(0x3e1))_0x588bda?(_0x51bf8e=_0x502492(0xeb7),_0x2b9da4=!![]):(_0x51bf8e=_0x502492(0x6c4),_0x4ddefc=!![]);else{if(_0x5920a5)_0x51bf8e=_0x588bda?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x502492(0x877);else _0x588bda&&(_0x51bf8e='bg-[#DCFCE7]\x20text-green-900');}}}let _0x132c9b='';const _0x7e9b1b=_0x555407['name'],_0x1b92c9=_0x4c76d2[_0x502492(0xef5)][_0x555407[_0x502492(0xcc9)]]||_0x502492(0x4aa),_0x288b76='line-height:\x201.3;\x20min-width:\x200;',_0x296733=_0x502492(0x5ba),_0x1fc018=_0x2b9da4?_0x502492(0xa01):_0x502492(0xbd0);let _0xb0cfb4='';const _0x4ca246=_0x3cd1e5>=0x0?'(+'+_0x3cd1e5[_0x502492(0x63a)]()+')':'('+_0x3cd1e5['toLocaleString']()+')',_0x834fc3=_0x502492(0x7f4)+_0x32af70+_0x502492(0xcd8)+_0x4ca246+'</span>';if(_0x3b1a85){if(_0xa9850&&!_0xf8f952)_0x4ddefc?_0x132c9b=_0x502492(0x4d8)+_0x288b76+_0x502492(0xc4e)+_0x7e9b1b+'\x20('+_0x1b92c9+')\x22><span\x20style=\x22'+_0x296733+'\x22>'+_0x7e9b1b+'</span>\x20'+_0x14fb4e+'\x20'+_0x43bdc9+_0x502492(0x789)+_0x1fc018+_0x502492(0xe29)+_0x296733+_0x502492(0x404)+_0x1b92c9+_0x502492(0x96f):_0x132c9b='<div\x20style=\x22'+_0x288b76+_0x502492(0xc4e)+_0x1b92c9+_0x502492(0x340)+_0x296733+'\x22>'+_0x1b92c9+_0x502492(0x6cc)+_0x14fb4e+'\x20'+_0x43bdc9+_0x502492(0xcb3),_0xb0cfb4=_0x834fc3;else{if(_0xa9850&&_0xf8f952)_0x132c9b=_0x502492(0x4d8)+_0x288b76+'\x22\x20title=\x22'+_0x7e9b1b+_0x502492(0x340)+_0x296733+'\x22>'+_0x7e9b1b+'</span>\x20'+_0x14fb4e+'\x20'+_0x43bdc9+'<span\x20class=\x22block\x20text-sm\x20'+_0x1fc018+_0x502492(0xe29)+_0x296733+'\x22>('+_0x1b92c9+')</span></div>',_0xb0cfb4=_0x834fc3;else _0x508b16?(_0x132c9b='<div\x20style=\x22'+_0x288b76+_0x502492(0xc4e)+_0x7e9b1b+'\x22><span\x20style=\x22'+_0x296733+'\x22>'+_0x7e9b1b+_0x502492(0x6cc)+_0x14fb4e+'\x20'+_0x43bdc9+'</div>',_0xb0cfb4=''):(_0x132c9b=_0x502492(0x4d8)+_0x288b76+_0x502492(0xc4e)+_0x7e9b1b+_0x502492(0x340)+_0x296733+'\x22>'+_0x7e9b1b+_0x502492(0x6cc)+_0x14fb4e+'\x20'+_0x43bdc9+_0x502492(0xcb3),_0xb0cfb4=_0x834fc3);}}return _0x502492(0x5f9)+_0x51bf8e+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+(_0x54f907+0x1)+_0x502492(0xc15)+_0x132c9b+_0x502492(0x56e)+_0xb0cfb4+_0x502492(0x933);})[_0x59c55c(0x885)](''),_0x3d9d83=_0xc73ed6['map']((_0x45fad0,_0x2bd982)=>{const _0x3571b6=_0x59c55c;if(_0x308c11&&_0x2bd982>_0x403210||_0x508b16)return'';const _0x204702=_0x4a2831[_0x3571b6(0x320)](_0x5c73c7=>_0x5c73c7[_0x3571b6(0x7d9)]&&_0x5c73c7[_0x3571b6(0x7d9)][_0x3571b6(0x5eb)](_0x32451c=>_0x32451c[_0x3571b6(0xeb9)]===_0x2bd982&&_0x32451c['isCorrect']))[_0x3571b6(0xe93)],_0x177fd5=_0x2bd982===_0x403210,_0x4d73c8=_0x177fd5?_0x3571b6(0x970):_0x3571b6(0xd91);return _0x3571b6(0x4ae)+_0x4d73c8+_0x3571b6(0xda8)+(_0x2bd982+0x1)+_0x3571b6(0x75e)+_0x204702+_0x3571b6(0xe75)+_0xc49947+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x3d0bf1='',_0x84970a='';if(_0x3b1a85){const _0x5eb4b7=_0xf1836c===_0x59c55c(0x831)&&_0x4c76d2['currentQuestionIndex']>=_0xc73ed6[_0x59c55c(0xe93)]-0x1,_0x7d4c94=_0x308c11&&_0x4c76d2[_0x59c55c(0x332)]>=_0xc73ed6[_0x59c55c(0xe93)]-0x1,_0x16b33c=_0xf1836c===_0x59c55c(0x454)&&_0x4c76d2[_0x59c55c(0xf23)]>=_0xc73ed6[_0x59c55c(0xe93)]-0x1,_0x239a6c=_0xa9850&&!_0x308c11&&_0x4c76d2[_0x59c55c(0xf23)]>=_0xc73ed6[_0x59c55c(0xe93)]-0x1;if(_0x308c11)_0x7d4c94?_0xa9850&&!_0xf8f952?_0x3d0bf1=_0x59c55c(0xd3a):_0x3d0bf1=_0x59c55c(0xd00):_0x3d0bf1='<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';else _0x5eb4b7||_0x16b33c||_0x239a6c?_0xa9850&&!_0xf8f952?_0x3d0bf1=_0x59c55c(0xd3a):_0x3d0bf1=_0x59c55c(0xd00):_0x3d0bf1='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';_0x84970a=_0x59c55c(0x996);}const _0x9b75e7=_0x508b16||_0xa9850&&!_0x4c76d2[_0x59c55c(0xb2d)]?'':_0x59c55c(0x6a5)+_0x3d9d83+_0x59c55c(0xebd),_0x5b1d9f=_0x508b16||_0xa9850&&!_0x4c76d2[_0x59c55c(0xb2d)]?_0x59c55c(0x910):_0x59c55c(0x1f8),_0x514a5f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x4c76d2['shuffledQuiz'][_0x59c55c(0xbdd)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x4c76d2[_0x59c55c(0xac4)]+_0x59c55c(0x43a)+_0x84970a+_0x59c55c(0x72b)+_0x45aca3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x5b1d9f+_0x59c55c(0x663)+(_0x400c59||_0x59c55c(0xa1d))+_0x59c55c(0xc9a)+_0x9b75e7+_0x59c55c(0xe30)+(_0x3b1a85?_0x59c55c(0x29b)+_0x3d0bf1+_0x59c55c(0xcb3):'')+_0x59c55c(0x3b6);liveGameView[_0x59c55c(0x63b)]=_0x514a5f;if(window[_0x59c55c(0x67a)]){const _0x468443=document['getElementById'](_0x59c55c(0xe24));_0x468443&&MathJax[_0x59c55c(0x40b)]([_0x468443]);}if(_0x3b1a85){const _0x19c2b4=document['getElementById'](_0x59c55c(0xe84));_0x19c2b4&&(_0x19c2b4[_0x59c55c(0x7c5)]=async()=>{const _0x13e601=_0x59c55c,_0x3b23ec=doc(db,_0x13e601(0x884)+appId+_0x13e601(0x3ce),currentLiveGameId),_0x443dd2=_0x4c76d2[_0x13e601(0xf23)]+0x1,_0x552c39=_0x4c76d2[_0x13e601(0xde5)][_0x13e601(0x746)][_0x13e601(0xe93)];!_0x308c11&&_0x443dd2<_0x552c39?await updateDoc(_0x3b23ec,{'status':_0x13e601(0xc56),'currentQuestionIndex':_0x443dd2,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x3b23ec,{'status':_0x13e601(0x451)});});const _0x3477d7=document[_0x59c55c(0x815)](_0x59c55c(0xd6f));_0x3477d7&&(_0x3477d7[_0x59c55c(0x7c5)]=async()=>{const _0x355a9c=_0x59c55c,_0x27b3fd=doc(db,_0x355a9c(0x884)+appId+_0x355a9c(0x3ce),currentLiveGameId);await updateDoc(_0x27b3fd,{'reviewQuestionIndex':increment(0x1)});});document['getElementById']('reveal-names-btn')?.[_0x59c55c(0x7b7)](_0x59c55c(0x7a5),async()=>{const _0xeefc84=_0x59c55c;await updateDoc(doc(db,'artifacts/'+appId+_0xeefc84(0x3ce),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x35adde=document[_0x59c55c(0x815)](_0x59c55c(0xb25));_0x35adde&&(_0x35adde[_0x59c55c(0x7c5)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x4f0cbb=_0x1143;await updateDoc(doc(db,_0x4f0cbb(0x884)+appId+_0x4f0cbb(0x3ce),currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x351997){const _0x5475e3=_0x230ac1,_0x486cd9=document[_0x5475e3(0x815)]('results-tab-content'),_0x31314a=document[_0x5475e3(0x815)](_0x5475e3(0x737));_0x31314a[_0x5475e3(0xeac)][_0x5475e3(0x4db)](_0x5475e3(0xcc2));const _0x20de76='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x351997[_0x5475e3(0xbdd)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x486cd9['insertAdjacentHTML'](_0x5475e3(0xe04),_0x20de76);const _0x26f5c3=document[_0x5475e3(0x815)](_0x5475e3(0x7db));try{const _0x193cfe=_0x351997['questions'][_0x5475e3(0xe07)]((_0x5d197b,_0x5089ef)=>{const _0x13d620=_0x5475e3;let _0xbf1182=_0x5089ef+0x1+'.\x20'+(_0x5d197b['questionText']||_0x5d197b[_0x13d620(0x212)])+'\x0a';if(_0x5d197b[_0x13d620(0xa9c)])_0xbf1182+=_0x5d197b[_0x13d620(0xa9c)]['map']((_0x75013c,_0xc964bd)=>_0x13d620(0x53b)+(_0xc964bd===_0x5d197b[_0x13d620(0xdfa)]?'[*]':'')+'\x20'+_0x75013c)['join']('\x0a');else _0x5d197b[_0x13d620(0x46d)]&&(_0xbf1182+=_0x13d620(0xbaa)+_0x5d197b['idealAnswer']);return _0xbf1182;})[_0x5475e3(0x885)]('\x0a\x0a');_0x26f5c3[_0x5475e3(0x587)]=_0x5475e3(0xde1);const _0xd863eb=_0x5475e3(0xa05)+_0x351997['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x193cfe+_0x5475e3(0x2d9)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5cd249={'type':'OBJECT','properties':{'questionText':{'type':_0x5475e3(0x324)},'questionType':{'type':_0x5475e3(0x324),'enum':[_0x5475e3(0x653),_0x5475e3(0x270),_0x5475e3(0xcba),_0x5475e3(0x52a)]},'options':{'type':'ARRAY','items':{'type':_0x5475e3(0x324)}},'correctAnswerIndex':{'type':_0x5475e3(0xc97)},'idealAnswer':{'type':_0x5475e3(0x324)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x5475e3(0x324)},'correctResponse':{'type':_0x5475e3(0x324)},'allResponses':{'type':_0x5475e3(0x2df),'items':{'type':_0x5475e3(0x324)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5475e3(0x324)}},'required':[_0x5475e3(0x1f4),_0x5475e3(0xc14)]},_0x2c8322={'type':_0x5475e3(0x1eb),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5475e3(0x2df),'items':_0x5cd249}},'required':[_0x5475e3(0xbdd),_0x5475e3(0x746)]},_0x3c68f3=await callAnalysisApi(_0xd863eb,_0x2c8322),_0x59b652=_0x3c68f3[_0x5475e3(0x746)][_0x5475e3(0xe07)]((_0x4974fa,_0x445612)=>({..._0x4974fa,'id':'q_'+Date['now']()+'_'+_0x445612})),_0x1fe872=_0x5475e3(0x862)+_0x351997[_0x5475e3(0xbdd)],_0x13bdb1={'topic':_0x1fe872,'questions':_0x59b652,'quizType':_0x351997[_0x5475e3(0x1c2)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x5475e3(0xb0a),'settings':_0x351997[_0x5475e3(0x22d)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x2255be;while(!![]){_0x2255be=Math[_0x5475e3(0x599)](0x3e8+Math[_0x5475e3(0x88b)]()*0x2328)[_0x5475e3(0xefe)]();const _0x3d382b=await getDoc(doc(db,_0x5475e3(0x884)+appId+_0x5475e3(0x8a2),_0x2255be));if(!_0x3d382b['exists']())break;}await setDoc(doc(db,_0x5475e3(0x884)+appId+_0x5475e3(0x8a2),_0x2255be),_0x13bdb1),showMessage(_0x5475e3(0x3c8));}catch(_0x2822db){console[_0x5475e3(0x1b6)](_0x5475e3(0x382),_0x2822db),showMessage(_0x5475e3(0x36f)+_0x2822db[_0x5475e3(0xb95)]);}finally{const _0x3035ed=document[_0x5475e3(0x815)](_0x5475e3(0xc18));_0x3035ed&&_0x3035ed[_0x5475e3(0xb0b)](),_0x31314a[_0x5475e3(0xeac)]['remove'](_0x5475e3(0xcc2));}}async function handleGenerateParallelPostTest(_0x41b431){const _0x34465d=_0x230ac1,_0x54a24a=document[_0x34465d(0x815)](_0x34465d(0xc63)),_0x2b74fc=document[_0x34465d(0x815)](_0x34465d(0x737));_0x2b74fc[_0x34465d(0xeac)][_0x34465d(0x4db)](_0x34465d(0xcc2));const _0x35f04a=_0x34465d(0xdd8);_0x54a24a[_0x34465d(0xe94)]('beforeend',_0x35f04a);try{const _0x4d3881=_0x41b431[_0x34465d(0x746)][_0x34465d(0xe07)]((_0x3af3b2,_0x639459)=>{const _0x5c6323=_0x34465d;let _0x70039f=_0x639459+0x1+'.\x20'+(_0x3af3b2[_0x5c6323(0xef8)]||_0x3af3b2[_0x5c6323(0x212)]);if(_0x3af3b2[_0x5c6323(0xa9c)])_0x70039f+=_0x5c6323(0xeb6)+_0x3af3b2[_0x5c6323(0xa9c)]['join'](',\x20');return _0x70039f;})[_0x34465d(0x885)]('\x0a\x0a'),_0x4df733=_0x34465d(0xa8e)+_0x41b431[_0x34465d(0xbdd)]+_0x34465d(0xeea)+_0x4d3881+_0x34465d(0x82a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xc7a0f={'type':_0x34465d(0x1eb),'properties':{'topic':{'type':_0x34465d(0x324)},'questions':{'type':_0x34465d(0x2df),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x34465d(0x324)},'questionType':{'type':_0x34465d(0x324)},'options':{'type':_0x34465d(0x2df),'items':{'type':_0x34465d(0x324)}},'correctAnswerIndex':{'type':_0x34465d(0xc97)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x34465d(0xef8),_0x34465d(0xc14)]}}},'required':[_0x34465d(0xbdd),_0x34465d(0x746)]},_0x5a4de2=await callAnalysisApi(_0x4df733,_0xc7a0f),_0x7e173d=_0x41b431[_0x34465d(0xbdd)][_0x34465d(0xeef)](_0x34465d(0x9ae),'')['trim'](),_0x3dfcc2=_0x34465d(0x5a7)+_0x7e173d,_0x473ff2={..._0x5a4de2,'topic':_0x3dfcc2,'quizType':_0x41b431['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x34465d(0x464)](),'status':_0x34465d(0xb0a),'settings':_0x41b431[_0x34465d(0x22d)],'quizMode':_0x34465d(0x834),'pairedQuizId':_0x41b431['id']};let _0x308417;while(!![]){_0x308417=Math[_0x34465d(0x599)](0x3e8+Math[_0x34465d(0x88b)]()*0x2328)[_0x34465d(0xefe)]();const _0x46ff70=await getDoc(doc(db,_0x34465d(0x884)+appId+_0x34465d(0x8a2),_0x308417));if(!_0x46ff70[_0x34465d(0x939)]())break;}await setDoc(doc(db,_0x34465d(0x884)+appId+'/public/data/quizzes',_0x308417),_0x473ff2);const _0x397e07=doc(db,_0x34465d(0x884)+appId+_0x34465d(0x8a2),_0x41b431['id']);await updateDoc(_0x397e07,{'pairedQuizId':_0x308417}),showMessage(_0x34465d(0x7eb));}catch(_0x29b5a3){console[_0x34465d(0x1b6)](_0x34465d(0x800),_0x29b5a3),showMessage('เกิดข้อผิดพลาด:\x20'+_0x29b5a3[_0x34465d(0xb95)]);}finally{const _0x464969=document['getElementById'](_0x34465d(0xc18));if(_0x464969)_0x464969[_0x34465d(0xb0b)]();_0x2b74fc[_0x34465d(0xeac)][_0x34465d(0xb0b)](_0x34465d(0xcc2));}}async function handleGenerateParallelTest(_0x16b3ee=null){const _0x55e46a=_0x230ac1;let _0x354c4c=_0x16b3ee;if(!_0x354c4c){const _0x31079d=document[_0x55e46a(0x815)](_0x55e46a(0x2a9));_0x31079d['files'][_0x55e46a(0xe93)]>0x0&&(_0x354c4c=_0x31079d[_0x55e46a(0x6a2)][0x0]);}if(!_0x354c4c){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x27b3c8=document['getElementById'](_0x55e46a(0xb68)),_0x438f42=document[_0x55e46a(0x815)](_0x55e46a(0x5f3)),_0x597f6b=document[_0x55e46a(0x815)]('generated-quiz-container'),_0x4aa9c6=document['getElementById'](_0x55e46a(0xc35));_0x4aa9c6[_0x55e46a(0x44b)]=!![],document[_0x55e46a(0x815)](_0x55e46a(0x601))[_0x55e46a(0xeac)][_0x55e46a(0xb0b)](_0x55e46a(0xcc2)),_0x597f6b[_0x55e46a(0x63b)]='',_0x27b3c8[_0x55e46a(0xeac)][_0x55e46a(0xb0b)]('hidden'),_0x438f42[_0x55e46a(0x587)]=_0x55e46a(0x8fd);const _0x85c686=new FileReader();_0x85c686[_0x55e46a(0x8e6)](_0x354c4c),_0x85c686[_0x55e46a(0x5f8)]=async()=>{const _0x462567=_0x55e46a;try{const _0x166e78=_0x85c686[_0x462567(0xbdb)][_0x462567(0x356)](',')[0x1],_0x22ee04=_0x354c4c[_0x462567(0x444)];_0x438f42['textContent']='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x268d40=document[_0x462567(0x815)](_0x462567(0xb9e))[_0x462567(0xdaf)],_0x100598=_0x268d40?_0x462567(0xd44):'',_0x34df42='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xf5e155={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x462567(0x653),_0x462567(0x270)]},'options':{'type':_0x462567(0x2df),'items':{'type':_0x462567(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x462567(0x324)},'explanation':{'type':_0x462567(0x324)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType','explanation']},_0x2b2706={'type':'OBJECT','properties':{'topic':{'type':_0x462567(0x324)},'questions':{'type':_0x462567(0x2df),'items':_0xf5e155}},'required':[_0x462567(0xbdd),_0x462567(0x746)]},_0x5c3f50=[{'text':_0x34df42},{'inlineData':{'mimeType':_0x22ee04,'data':_0x166e78}}];await handleApiCall(_0x5c3f50,_0x462567(0xa8a),_0x2b2706);}catch(_0x451f99){console[_0x462567(0x1b6)](_0x462567(0xa88),_0x451f99),showMessage(_0x462567(0x36f)+_0x451f99[_0x462567(0xb95)]),_0x597f6b[_0x462567(0x63b)]=_0x462567(0x6e0);}finally{_0x27b3c8[_0x462567(0xeac)][_0x462567(0x4db)](_0x462567(0xcc2)),_0x4aa9c6[_0x462567(0x44b)]=![];}},_0x85c686['onerror']=_0x26d76f=>{const _0x4d625b=_0x55e46a;console[_0x4d625b(0x1b6)](_0x4d625b(0xe22),_0x26d76f),showMessage(_0x4d625b(0xa34)),_0x27b3c8[_0x4d625b(0xeac)]['add'](_0x4d625b(0xcc2)),_0x4aa9c6[_0x4d625b(0x44b)]=![];};}async function handleRegenerateQuestionInEditor(_0x3e248f){const _0x393906=_0x230ac1;if(currentEditingQuizData===null)return;const _0x55b8bf=document['querySelector'](_0x393906(0xa87)+_0x3e248f+'\x22]');_0x55b8bf&&(_0x55b8bf[_0x393906(0x63b)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x24a724=currentEditingQuizData[_0x393906(0x746)][_0x3e248f],_0x3933c0=currentEditingQuizData[_0x393906(0xbdd)],_0x56f65c=_0x24a724[_0x393906(0x1f4)],_0x229346={'type':_0x393906(0x1eb),'properties':{'questionText':{'type':_0x393906(0x324)},'options':{'type':_0x393906(0x2df),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x393906(0xc97)},'explanation':{'type':'STRING'}},'required':[_0x393906(0xef8),_0x393906(0xa9c),_0x393906(0xdfa),'explanation']},_0x51a56b={'type':_0x393906(0x1eb),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x393906(0x324)},'explanation':{'type':_0x393906(0x324)}},'required':[_0x393906(0xef8),'idealAnswer',_0x393906(0xc14)]};let _0x8593bf,_0x2e3b5f='';_0x56f65c===_0x393906(0x653)?(_0x8593bf=_0x229346,_0x2e3b5f=_0x393906(0xd80)):(_0x8593bf=_0x51a56b,_0x2e3b5f=_0x393906(0x732));const _0x2f0c94=_0x393906(0xbee)+_0x3933c0+_0x393906(0xba1)+_0x2e3b5f+_0x393906(0x9d5)+(_0x24a724[_0x393906(0xef8)]||_0x24a724['stem'])+_0x393906(0x49b)+simpleMathPrompt;try{const _0x1df936=await callAnalysisApi(_0x2f0c94,_0x8593bf);currentEditingQuizData[_0x393906(0x746)][_0x3e248f]={..._0x24a724,..._0x1df936},renderQuizEditor(currentEditingQuizData);}catch(_0x30d6b3){console[_0x393906(0x1b6)](_0x393906(0xcb5),_0x30d6b3),showMessage(_0x393906(0xf0c)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x133144=_0x230ac1,_0x116428=document[_0x133144(0x815)]('mode-switcher-btn');currentMode===_0x133144(0x974)?(adminPasswordModal['classList'][_0x133144(0xb0b)](_0x133144(0xcc2)),document[_0x133144(0x815)]('admin-password-input')[_0x133144(0xca2)]()):(currentMode=_0x133144(0x974),_0x116428['innerHTML']=_0x133144(0x527),_0x116428['title']=_0x133144(0x6e3),showView(_0x133144(0x974)));}function handleAdminLogin(){const _0x168bdd=_0x230ac1,_0x1fe0cd=document[_0x168bdd(0x815)](_0x168bdd(0xb7e)),_0x37a730=document[_0x168bdd(0x815)]('password-error-msg');if(_0x1fe0cd['value']==='27411472'){adminPasswordModal[_0x168bdd(0xeac)]['add'](_0x168bdd(0xcc2)),_0x1fe0cd['value']='',_0x37a730['classList'][_0x168bdd(0x4db)](_0x168bdd(0xcc2)),currentMode='admin';const _0x18e326=document[_0x168bdd(0x815)]('mode-switcher-btn');_0x18e326[_0x168bdd(0x63b)]=_0x168bdd(0x7ef),_0x18e326[_0x168bdd(0x8dd)]=_0x168bdd(0x7ac),showView(_0x168bdd(0x9d2));}else _0x37a730['classList'][_0x168bdd(0xb0b)](_0x168bdd(0xcc2)),_0x1fe0cd[_0x168bdd(0xdd7)]='';}function switchProjectTab(_0x21745a){const _0x52c0d6=_0x230ac1;[_0x52c0d6(0xa2d),'results',_0x52c0d6(0x5aa)][_0x52c0d6(0xdec)](_0x114d55=>{const _0x3b2ace=_0x52c0d6;document[_0x3b2ace(0x815)](_0x114d55+_0x3b2ace(0xca8))[_0x3b2ace(0xeac)][_0x3b2ace(0xb0b)](_0x3b2ace(0xb0a)),document[_0x3b2ace(0x815)](_0x114d55+_0x3b2ace(0x45e))['classList'][_0x3b2ace(0x4db)](_0x3b2ace(0xcc2));}),document[_0x52c0d6(0x815)](_0x21745a+_0x52c0d6(0xca8))['classList']['add'](_0x52c0d6(0xb0a)),document[_0x52c0d6(0x815)](_0x21745a+_0x52c0d6(0x45e))[_0x52c0d6(0xeac)][_0x52c0d6(0xb0b)](_0x52c0d6(0xcc2));}function switchQuizDetailTab(_0x229d0f){const _0x1f71e2=_0x230ac1,_0x15883d={'analytics':{'btn':_0x1f71e2(0x915),'content':_0x1f71e2(0x2c0)},'scores':{'btn':'scores-tab-btn','content':_0x1f71e2(0x4c1)},'leaderboard-quiz':{'btn':_0x1f71e2(0xa47),'content':_0x1f71e2(0xa84)},'behavior-log':{'btn':_0x1f71e2(0xd70),'content':'behavior-log-tab-content'}};for(const _0x131fcf in _0x15883d){document[_0x1f71e2(0x815)](_0x15883d[_0x131fcf]['btn'])[_0x1f71e2(0xeac)]['remove']('active'),document[_0x1f71e2(0x815)](_0x15883d[_0x131fcf][_0x1f71e2(0xf14)])[_0x1f71e2(0xeac)][_0x1f71e2(0x4db)]('hidden');}document[_0x1f71e2(0x815)](_0x15883d[_0x229d0f][_0x1f71e2(0x68e)])[_0x1f71e2(0xeac)][_0x1f71e2(0x4db)]('active'),document[_0x1f71e2(0x815)](_0x15883d[_0x229d0f][_0x1f71e2(0xf14)])[_0x1f71e2(0xeac)][_0x1f71e2(0xb0b)](_0x1f71e2(0xcc2));}function showMessage(_0x36c030,_0x461f72=null){const _0x220975=_0x230ac1;modalMessage['innerHTML']=_0x36c030['replace'](/\n/g,_0x220975(0x5ea)),modalConfirmAction=_0x461f72,messageModal[_0x220975(0xeac)]['remove'](_0x220975(0xcc2));}function showConfirmation(_0x2fbef6,_0x3c14fe,_0x150126=null){const _0x2ef0e2=_0x230ac1;document[_0x2ef0e2(0x815)]('confirmation-message')['textContent']=_0x2fbef6,document[_0x2ef0e2(0x815)](_0x2ef0e2(0x839))[_0x2ef0e2(0xd27)]('h3')[_0x2ef0e2(0x587)]=_0x2ef0e2(0xc3a),confirmAction=_0x3c14fe,cancelAction=_0x150126,confirmationModal[_0x2ef0e2(0xeac)][_0x2ef0e2(0xb0b)](_0x2ef0e2(0xcc2));}function listenForProjects(){const _0x35366d=_0x230ac1,_0x29ef1a=doc(db,_0x35366d(0xdbd),_0x35366d(0x7e6));onSnapshot(_0x29ef1a,_0x150bd9=>{const _0x22eea3=_0x35366d;if(_0x150bd9['exists']()){const _0x38e304=_0x150bd9[_0x22eea3(0xdad)]();globalDashboardSettings[_0x22eea3(0x327)]=_0x38e304['projectSort']||'date_desc',globalDashboardSettings['pinnedProjects']=_0x38e304[_0x22eea3(0x2a2)]||[],globalDashboardSettings['projectOrder']=_0x38e304[_0x22eea3(0x90f)]||[];}allProjects[_0x22eea3(0xe93)]>0x0&&renderProjects();});const _0x40bc70=collection(db,_0x35366d(0x884)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x40bc70,_0x420939=>{const _0x16fd96=_0x35366d;allProjects=_0x420939[_0x16fd96(0xcf8)]['map'](_0x213d80=>({'id':_0x213d80['id'],..._0x213d80['data']()})),renderProjects();},_0x3ff776=>{const _0x5b18cb=_0x35366d;console['error'](_0x5b18cb(0x890),_0x3ff776),showMessage(_0x5b18cb(0xd6c));});}function showColorPalette(_0x4533ed,_0x5945d2){const _0x378509=_0x230ac1;document[_0x378509(0x8c8)](_0x378509(0x4d3))[_0x378509(0xdec)](_0x4219f9=>_0x4219f9[_0x378509(0xb0b)]());const _0x19c054=['#FFFFFF','#FEE2E2',_0x378509(0x844),'#D1FAE5','#DBEAFE','#E0E7FF',_0x378509(0x6aa),'#FCE7F3',_0x378509(0xe8e)],_0x2c47c0=document[_0x378509(0xbdf)](_0x378509(0x5c6));_0x2c47c0[_0x378509(0x900)]=_0x378509(0x1ae),_0x19c054[_0x378509(0xdec)](_0x536ea1=>{const _0x481de6=_0x378509,_0x5381f2=document['createElement']('div');_0x5381f2[_0x481de6(0x900)]=_0x481de6(0x640),_0x5381f2[_0x481de6(0x205)][_0x481de6(0xc62)]=_0x536ea1,_0x5381f2[_0x481de6(0x7b7)]('click',()=>{handleProjectColorChange(_0x5945d2,_0x536ea1),_0x2c47c0['remove']();}),_0x2c47c0[_0x481de6(0x2f2)](_0x5381f2);}),document[_0x378509(0x87e)][_0x378509(0x2f2)](_0x2c47c0);const _0x349a34=_0x4533ed[_0x378509(0xe69)]();_0x2c47c0[_0x378509(0x205)]['top']=_0x349a34[_0x378509(0x262)]+window[_0x378509(0x684)]+'px',_0x2c47c0[_0x378509(0x205)][_0x378509(0xa3b)]=_0x349a34[_0x378509(0xa3b)]+window[_0x378509(0xafb)]-_0x2c47c0['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x2b8dea,_0x38d4c3){const _0x2574b2=_0x230ac1,_0x17428e=doc(db,_0x2574b2(0x884)+appId+_0x2574b2(0xb81),_0x2b8dea);try{await updateDoc(_0x17428e,{'color':_0x38d4c3});}catch(_0x2014d3){console[_0x2574b2(0x1b6)]('Error\x20updating\x20project\x20color:',_0x2014d3),showMessage(_0x2574b2(0x69d));}}async function renderProjects(){const _0x550ac5=_0x230ac1,_0x268d81=globalDashboardSettings[_0x550ac5(0x327)]||_0x550ac5(0x41a),_0x1eb15c=new Set(globalDashboardSettings[_0x550ac5(0x2a2)]||[]),_0x5ae3c2=globalDashboardSettings['projectView']||'grid',_0xdb53b0=document[_0x550ac5(0x815)](_0x550ac5(0xc60)),_0x3c1e40=document['getElementById'](_0x550ac5(0x410));_0xdb53b0[_0x550ac5(0xeac)][_0x550ac5(0x334)](_0x550ac5(0xb0a),_0x5ae3c2===_0x550ac5(0x57e)),_0x3c1e40[_0x550ac5(0xeac)][_0x550ac5(0x334)](_0x550ac5(0xb0a),_0x5ae3c2==='list'),document[_0x550ac5(0x815)]('project-sort-select')['value']=_0x268d81;const _0x1a76f0=document[_0x550ac5(0x815)](_0x550ac5(0x4b3))['value']['toLowerCase']();let _0x37481a=allProjects[_0x550ac5(0x320)](_0x5c58e7=>_0x5c58e7['projectName'][_0x550ac5(0xaec)]()[_0x550ac5(0x8f3)](_0x1a76f0));const _0x4b03db=_0x37481a['filter'](_0x3cbe4c=>_0x1eb15c[_0x550ac5(0x4ef)](_0x3cbe4c['id'])),_0x38cb6e=_0x37481a['filter'](_0x400146=>!_0x1eb15c[_0x550ac5(0x4ef)](_0x400146['id'])),_0x95f7e9=(_0x491c9b,_0x266ba4)=>{const _0x10058f=_0x550ac5;switch(_0x268d81){case'name_asc':return _0x491c9b['projectName'][_0x10058f(0xdc1)](_0x266ba4[_0x10058f(0x98b)],'th');case _0x10058f(0x51c):return _0x266ba4[_0x10058f(0x98b)][_0x10058f(0xdc1)](_0x491c9b[_0x10058f(0x98b)],'th');case _0x10058f(0xa4e):return new Date(_0x491c9b[_0x10058f(0xf29)])-new Date(_0x266ba4[_0x10058f(0xf29)]);default:return new Date(_0x266ba4[_0x10058f(0xf29)])-new Date(_0x491c9b['createdAt']);}};_0x4b03db[_0x550ac5(0xa6f)](_0x95f7e9),_0x38cb6e[_0x550ac5(0xa6f)](_0x95f7e9);const _0x3b1938=[..._0x4b03db,..._0x38cb6e],_0xe20eee=globalDashboardSettings['projectOrder']||[];_0xe20eee[_0x550ac5(0xe93)]>0x0&&_0x5ae3c2===_0x550ac5(0x57e)&&_0x3b1938[_0x550ac5(0xa6f)]((_0x50c093,_0xadae7b)=>{const _0x1166f8=_0x550ac5,_0x43a4f6=_0xe20eee[_0x1166f8(0x73c)](_0x50c093['id']),_0x8a8edd=_0xe20eee[_0x1166f8(0x73c)](_0xadae7b['id']);if(_0x43a4f6===-0x1)return 0x1;if(_0x8a8edd===-0x1)return-0x1;return _0x43a4f6-_0x8a8edd;});const _0x50c578={};await Promise['all'](_0x3b1938[_0x550ac5(0xe07)](async _0x10f9ea=>{const _0x5870e2=_0x550ac5,_0x42a56e=query(collection(db,_0x5870e2(0x884)+appId+'/public/data/quizzes'),where(_0x5870e2(0x791),'==',_0x10f9ea['id'])),_0x8f8bf6=await getDocs(_0x42a56e);_0x50c578[_0x10f9ea['id']]=_0x8f8bf6[_0x5870e2(0xc1c)];}));const _0x44736c=document[_0x550ac5(0x815)](_0x550ac5(0xc48));let _0x13f457='';if(_0x5ae3c2===_0x550ac5(0x57e)){_0x44736c['className']=_0x550ac5(0x63f);if(starredQuizzes[_0x550ac5(0xe93)]>0x0&&_0x1a76f0===''){const _0x1a76bb=starredQuizzes[_0x550ac5(0xe07)](_0x1b154f=>{const _0xc55f09=_0x550ac5,_0x544e8b=allProjects[_0xc55f09(0x5eb)](_0x49e15b=>_0x49e15b['id']===_0x1b154f[_0xc55f09(0x791)]);return{..._0x1b154f,'projectName':_0x544e8b?_0x544e8b[_0xc55f09(0x98b)]:_0xc55f09(0x8df)};});_0x13f457+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a76bb[_0x550ac5(0xe07)](_0x4074ad=>_0x550ac5(0x66c)+_0x4074ad[_0x550ac5(0xbdd)]+'\x22>'+_0x4074ad[_0x550ac5(0xbdd)]+_0x550ac5(0x760)+_0x4074ad[_0x550ac5(0x98b)]+'\x22>จาก:\x20'+_0x4074ad[_0x550ac5(0x98b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x550ac5(0x885)]('')+_0x550ac5(0xe8f)+starredQuizzes[_0x550ac5(0xe93)]+_0x550ac5(0x59e);}_0x3b1938['forEach'](_0x57756a=>{const _0x520c2e=_0x550ac5,_0x422418=_0x50c578[_0x57756a['id']]??0x0,_0x49e077=_0x1eb15c[_0x520c2e(0x4ef)](_0x57756a['id']),_0x10fff8=_0x57756a[_0x520c2e(0x9fe)]||_0x520c2e(0x1b3),_0x2a6fd5=parseInt(_0x10fff8[_0x520c2e(0xbc9)](0x1,0x3),0x10)*0.299+parseInt(_0x10fff8['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x10fff8[_0x520c2e(0xbc9)](0x5,0x7),0x10)*0.114<0xba,_0x29c2b2=_0x2a6fd5?_0x520c2e(0xbbf):'text-indigo-800',_0x260889=_0x2a6fd5?_0x520c2e(0xb84):_0x520c2e(0x65b);_0x13f457+=_0x520c2e(0x574)+(_0x49e077?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x520c2e(0x616)+_0x10fff8+';\x22\x20data-id=\x22'+_0x57756a['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x57756a['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2a6fd5?_0x520c2e(0xdf1):_0x520c2e(0x37d))+_0x520c2e(0xdde)+_0x57756a['id']+_0x520c2e(0x38d)+(_0x2a6fd5?_0x520c2e(0xdf1):_0x520c2e(0x37d))+_0x520c2e(0xa5a)+(_0x49e077?_0x2a6fd5?_0x520c2e(0x22c):_0x520c2e(0x766):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x57756a['id']+_0x520c2e(0x92c)+_0x29c2b2+_0x520c2e(0x5c5)+_0x57756a[_0x520c2e(0x98b)]+_0x520c2e(0x97d)+_0x260889+_0x520c2e(0xd64)+new Date(_0x57756a['createdAt'])[_0x520c2e(0xbba)]('th-TH')+_0x520c2e(0x57b)+(_0x2a6fd5?_0x520c2e(0x8a0):_0x520c2e(0x8ed))+_0x520c2e(0x369)+_0x422418+_0x520c2e(0x644)+_0x57756a['id']+_0x520c2e(0x4b4)+_0x57756a['projectName']+_0x520c2e(0xbe2)+(_0x2a6fd5?_0x520c2e(0x4e5):_0x520c2e(0xcf6))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x44736c[_0x550ac5(0x900)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x550ac5(0xe93)]>0x0&&_0x1a76f0===''&&(_0x13f457+=_0x550ac5(0xc79)+starredQuizzes[_0x550ac5(0xe93)]+_0x550ac5(0x9f2)),_0x13f457+=_0x550ac5(0x8e9),_0x3b1938[_0x550ac5(0xdec)](_0x1c8b60=>{const _0x24b17d=_0x550ac5,_0x248f4d=_0x50c578[_0x1c8b60['id']]??0x0,_0xd23f2e=_0x1eb15c['has'](_0x1c8b60['id']);_0x13f457+=_0x24b17d(0x71c)+(_0x1c8b60[_0x24b17d(0x9fe)]||_0x24b17d(0xe8e))+_0x24b17d(0x4d7)+_0x1c8b60['id']+_0x24b17d(0xe76)+_0x1c8b60[_0x24b17d(0x98b)]+_0x24b17d(0x740)+_0x248f4d+_0x24b17d(0x1d0)+new Date(_0x1c8b60[_0x24b17d(0xf29)])[_0x24b17d(0x63a)]('th-TH')+_0x24b17d(0xce3)+_0x1c8b60['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0xd23f2e?_0x24b17d(0x766):'')+_0x24b17d(0x3bc)+_0x1c8b60['id']+_0x24b17d(0x4b4)+_0x1c8b60[_0x24b17d(0x98b)]+_0x24b17d(0x882);});projectList[_0x550ac5(0x63b)]=_0x13f457,noProjectsMsg['classList'][_0x550ac5(0x334)]('hidden',_0x13f457['length']>0x0);}document[_0x230ac1(0x815)](_0x230ac1(0x9ac))[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),async()=>{const _0x1993ef=_0x230ac1,_0xc52d67=document[_0x1993ef(0x815)](_0x1993ef(0x832)),_0x5842ff=_0xc52d67['value'][_0x1993ef(0x99f)]();if(!_0x5842ff){showMessage(_0x1993ef(0x1e9));return;}try{const _0x2f3cc5=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x2f3cc5,{'projectName':_0x5842ff,'students':[],'settings':{'resultsDisplay':_0x1993ef(0x596),'shuffleSetting':_0x1993ef(0x1e2),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1993ef(0x1e2),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1993ef(0x464)]()}),_0xc52d67[_0x1993ef(0xdd7)]='',createProjectModal[_0x1993ef(0xeac)][_0x1993ef(0x4db)](_0x1993ef(0xcc2)),showMessage(_0x1993ef(0xf07));}catch(_0x28b9b5){console[_0x1993ef(0x1b6)](_0x1993ef(0x63d),_0x28b9b5),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),async _0x2a6a2b=>{const _0x257a2a=_0x230ac1,_0x595d41=_0x2a6a2b['target'][_0x257a2a(0xa28)](_0x257a2a(0x97e)),_0x548f01=_0x2a6a2b[_0x257a2a(0x3d1)]['closest']('.delete-project-btn'),_0x16daf5=_0x2a6a2b[_0x257a2a(0x3d1)][_0x257a2a(0xa28)](_0x257a2a(0x3a1)),_0x56898d=_0x2a6a2b['target']['closest'](_0x257a2a(0xc06));if(_0x16daf5){const _0x594706=_0x16daf5[_0x257a2a(0x5ff)]['id'],_0x5406f4=doc(db,_0x257a2a(0xdbd),_0x257a2a(0x7e6)),_0x4d46f1=globalDashboardSettings['pinnedProjects'];let _0x5b56a5;_0x4d46f1['includes'](_0x594706)?_0x5b56a5=_0x4d46f1[_0x257a2a(0x320)](_0x206a34=>_0x206a34!==_0x594706):_0x5b56a5=[..._0x4d46f1,_0x594706];try{await setDoc(_0x5406f4,{'pinnedProjects':_0x5b56a5},{'merge':!![]});}catch(_0x53a4ce){console[_0x257a2a(0x1b6)](_0x257a2a(0xd0f),_0x53a4ce),showMessage(_0x257a2a(0xebc));}}else{if(_0x56898d){const _0xae42f9=_0x56898d[_0x257a2a(0x5ff)]['id'];showColorPalette(_0x56898d,_0xae42f9);}else{if(_0x595d41){const _0x47a97b=_0x595d41[_0x257a2a(0x5ff)]['id'];_0x47a97b===_0x257a2a(0x45d)?showStarredProjectView():(currentProjectId=_0x47a97b,await loadProjectDetails(currentProjectId),showView(_0x257a2a(0x3e4)));}else{if(_0x548f01){const _0x3c5914=_0x548f01['dataset']['id'],_0x2eea9e=_0x548f01['dataset'][_0x257a2a(0xcc9)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x2eea9e+_0x257a2a(0x96b),()=>handleDeleteProject(_0x3c5914));}}}}}),projectList[_0x230ac1(0x7b7)]('dragstart',_0x5f377f=>{const _0x39c6ef=_0x230ac1,_0x5cadb0=_0x5f377f[_0x39c6ef(0x3d1)][_0x39c6ef(0xa28)](_0x39c6ef(0x48a));_0x5cadb0&&_0x5cadb0['classList'][_0x39c6ef(0x4db)](_0x39c6ef(0x919));}),projectList[_0x230ac1(0x7b7)](_0x230ac1(0x8da),_0xfcba89=>{const _0x5c4d87=_0x230ac1,_0x1466b5=_0xfcba89[_0x5c4d87(0x3d1)][_0x5c4d87(0xa28)](_0x5c4d87(0x48a));_0x1466b5&&_0x1466b5[_0x5c4d87(0xeac)][_0x5c4d87(0xb0b)](_0x5c4d87(0x919));}),projectList[_0x230ac1(0x7b7)]('dragover',_0x2bb5bb=>{const _0x15c0e5=_0x230ac1;_0x2bb5bb[_0x15c0e5(0x896)]();const _0xb8d702=document[_0x15c0e5(0xd27)](_0x15c0e5(0xe83));if(!_0xb8d702)return;const _0xccac47=getDragAfterElement(projectList,_0x2bb5bb[_0x15c0e5(0x6e2)]);_0xccac47==null?projectList[_0x15c0e5(0x2f2)](_0xb8d702):projectList['insertBefore'](_0xb8d702,_0xccac47);}),projectList[_0x230ac1(0x7b7)]('drop',_0x8dd8a=>{const _0x4838fd=_0x230ac1;_0x8dd8a[_0x4838fd(0x896)]();const _0x4fd58e=[...projectList[_0x4838fd(0x8c8)](_0x4838fd(0x927))]['map'](_0x3b65f0=>_0x3b65f0['dataset']['id']);saveProjectOrder(_0x4fd58e);});function renderBehaviorLog(_0x2aade5){const _0x2f4e36=_0x230ac1,_0x41c499=document[_0x2f4e36(0x815)](_0x2f4e36(0x5b5));if(!_0x41c499)return;const _0x4947e3=_0x2aade5[_0x2f4e36(0x320)](_0xe53414=>_0xe53414[_0x2f4e36(0xb3e)]&&_0xe53414[_0x2f4e36(0xb3e)][_0x2f4e36(0xe93)]>0x0);if(_0x4947e3[_0x2f4e36(0xe93)]===0x0){_0x41c499['innerHTML']=_0x2f4e36(0x1c8);return;}let _0x4eb297='';_0x4947e3[_0x2f4e36(0xdec)](_0x51035e=>{const _0x20b8c6=_0x2f4e36;_0x4eb297+=_0x20b8c6(0x94c)+_0x51035e[_0x20b8c6(0x455)]+_0x20b8c6(0xd7b),_0x51035e[_0x20b8c6(0xb3e)][_0x20b8c6(0xa6f)]((_0x2c15d3,_0xc0752c)=>new Date(_0xc0752c[_0x20b8c6(0x1d4)])-new Date(_0x2c15d3[_0x20b8c6(0x1d4)]))[_0x20b8c6(0xdec)](_0x4dc0e1=>{const _0x1e0302=_0x20b8c6,_0x348a15=new Date(_0x4dc0e1[_0x1e0302(0x1d4)])[_0x1e0302(0x63a)](_0x1e0302(0x27c),{'dateStyle':_0x1e0302(0xc08),'timeStyle':_0x1e0302(0xca4)});_0x4eb297+=_0x1e0302(0x955)+_0x4dc0e1['attemptNumber']+_0x1e0302(0x31b)+_0x348a15+_0x1e0302(0xc02);}),_0x4eb297+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x41c499[_0x2f4e36(0x63b)]=_0x4eb297;}function getDragAfterElement(_0x57214f,_0x3f94a5){const _0x5c6a70=_0x230ac1,_0x3065a0=[..._0x57214f[_0x5c6a70(0x8c8)]('.project-card-container:not(.opacity-50)')];return _0x3065a0[_0x5c6a70(0xa56)]((_0x15dee7,_0xbd2121)=>{const _0x4662e0=_0x5c6a70,_0x459124=_0xbd2121['getBoundingClientRect'](),_0x492e00=_0x3f94a5-_0x459124[_0x4662e0(0xad4)]-_0x459124[_0x4662e0(0x329)]/0x2;return _0x492e00<0x0&&_0x492e00>_0x15dee7[_0x4662e0(0xc5d)]?{'offset':_0x492e00,'element':_0xbd2121}:_0x15dee7;},{'offset':Number[_0x5c6a70(0xb4f)]})[_0x5c6a70(0x46c)];}async function saveProjectOrder(_0x373d6a){const _0x144513=_0x230ac1,_0x3aabb0=doc(db,_0x144513(0xdbd),_0x144513(0x7e6));try{await setDoc(_0x3aabb0,{'projectOrder':_0x373d6a},{'merge':!![]});}catch(_0x9ba415){console[_0x144513(0x1b6)]('Error\x20saving\x20project\x20order:',_0x9ba415),showMessage(_0x144513(0x1fa));}}async function logBehaviorEvent(_0x2197d5,_0x51ce3b={}){const _0x278c43=_0x230ac1;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x278c43(0x86a)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x39b8e1=doc(db,'artifacts/'+appId+_0x278c43(0xa60)+currentQuizData['id']+_0x278c43(0xb77),currentStudentName),_0xb12ceb={'event':_0x2197d5,'timestamp':new Date()[_0x278c43(0x464)](),..._0x51ce3b};try{await updateDoc(_0x39b8e1,{'behaviorLog':arrayUnion(_0xb12ceb)}),console[_0x278c43(0x1cf)](_0x278c43(0x47b)+currentStudentName+_0x278c43(0x7c7));}catch(_0x26f33d){_0x26f33d[_0x278c43(0xe20)]===_0x278c43(0x55f)?console[_0x278c43(0x86a)](_0x278c43(0xf26)+currentStudentName+_0x278c43(0xa22)):console[_0x278c43(0x1b6)](_0x278c43(0xb97),_0x26f33d);}}function getScoreTier(_0x27b18d,_0x4cc7a0){const _0x92c0a1=_0x230ac1;if(_0x4cc7a0===0x0){if(_0x27b18d===0x0)return{'text':_0x92c0a1(0xcec),'icon':'⏳'};return{'text':_0x92c0a1(0x21c),'icon':'😥'};}const _0x573779=_0x27b18d/(_0x4cc7a0===0x0?0x1:_0x4cc7a0);if(_0x573779===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x573779>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x573779>=0.4)return{'text':_0x92c0a1(0xec1),'icon':'🏃'};return{'text':_0x92c0a1(0x21c),'icon':'😥'};}function calculateMeanAndStdDev(_0x35fbe2){const _0x58c368=_0x230ac1;if(_0x35fbe2[_0x58c368(0xe93)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x66aa5a=_0x35fbe2[_0x58c368(0xa56)]((_0x4ef95a,_0x3ab8ad)=>_0x4ef95a+_0x3ab8ad,0x0)/_0x35fbe2[_0x58c368(0xe93)];if(_0x35fbe2[_0x58c368(0xe93)]===0x1)return{'mean':_0x66aa5a,'stdDev':0x0};const _0x93ddf3=Math['sqrt'](_0x35fbe2['map'](_0x2a9f9b=>Math['pow'](_0x2a9f9b-_0x66aa5a,0x2))[_0x58c368(0xa56)]((_0x11e771,_0x1586b9)=>_0x11e771+_0x1586b9,0x0)/(_0x35fbe2[_0x58c368(0xe93)]-0x1));return{'mean':_0x66aa5a,'stdDev':_0x93ddf3};}function calculateZScore(_0x5aa5ce,_0x261226,_0x25bf74){if(_0x25bf74===0x0)return 0x0;return(_0x5aa5ce-_0x261226)/_0x25bf74;}function calculateTScore(_0x3e9c23){return 0xa*_0x3e9c23+0x32;}function showStarredProjectView(){const _0x6c5a6a=_0x230ac1;currentProjectId=_0x6c5a6a(0x627),currentProjectData=null,projectTitle['textContent']=_0x6c5a6a(0x908),projectIdDisplay[_0x6c5a6a(0x587)]=_0x6c5a6a(0xd12),showView(_0x6c5a6a(0x3e4)),manageTab[_0x6c5a6a(0xeac)][_0x6c5a6a(0x4db)](_0x6c5a6a(0xcc2)),leaderboardTab[_0x6c5a6a(0xeac)]['add'](_0x6c5a6a(0xcc2)),switchProjectTab(_0x6c5a6a(0x8b4)),renderQuizzes();}async function loadProjectDetails(_0x3afd95){const _0x238878=_0x230ac1,_0x5b901d=doc(db,_0x238878(0x884)+appId+'/public/data/projects',_0x3afd95),_0x3b470b=await getDoc(_0x5b901d);if(_0x3b470b[_0x238878(0x939)]()){manageTab['classList']['remove'](_0x238878(0xcc2)),leaderboardTab['classList'][_0x238878(0xb0b)](_0x238878(0xcc2)),currentProjectData=_0x3b470b[_0x238878(0xdad)](),projectTitle['textContent']=currentProjectData[_0x238878(0x98b)],projectIdDisplay[_0x238878(0x587)]=_0x3afd95;const _0x14deb3=currentProjectData[_0x238878(0x22d)]||{};document[_0x238878(0x815)]('shuffle-setting-select')['value']=_0x14deb3[_0x238878(0x4f3)]||_0x238878(0x1e2);const _0x2021fa=document['getElementById'](_0x238878(0x2b6));_0x2021fa[_0x238878(0xdaf)]=_0x14deb3['showInStudentDashboard']!==![];const _0x5d50a4=document['getElementById']('enable-passcode-checkbox'),_0x496aef=document[_0x238878(0x815)](_0x238878(0x450)),_0x45f13f=document[_0x238878(0x815)](_0x238878(0x2f1)),_0x247e67=_0x14deb3['isPasscodeEnabled']||![];_0x5d50a4[_0x238878(0xdaf)]=_0x247e67,_0x45f13f[_0x238878(0xdd7)]=_0x14deb3['passcode']||'',_0x496aef[_0x238878(0xeac)][_0x238878(0x334)](_0x238878(0xcc2),!_0x247e67),_0x5d50a4[_0x238878(0xd8b)]=()=>{const _0xcb4b51=_0x238878;_0x496aef['classList'][_0xcb4b51(0x334)]('hidden',!_0x5d50a4[_0xcb4b51(0xdaf)]);},document[_0x238878(0x815)](_0x238878(0x8b7))[_0x238878(0xdaf)]=_0x14deb3[_0x238878(0xa98)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3afd95),listenForProjectQuizzes(_0x3afd95),listenForStudentProfiles(_0x3afd95);}else showMessage('ไม่พบโปรเจค'),showView(_0x238878(0x9d2));}async function handleResetProjectOrder(){const _0x3ab866=_0x230ac1,_0x1686fe=doc(db,_0x3ab866(0xdbd),_0x3ab866(0x7e6));try{await setDoc(_0x1686fe,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3ab866(0xe6f));}catch(_0x43b7bf){console[_0x3ab866(0x1b6)](_0x3ab866(0x553),_0x43b7bf),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x5d9e87){const _0x164f2b=_0x230ac1;if(!_0x5d9e87)return;const _0x5657b3=doc(db,_0x164f2b(0x884)+appId+_0x164f2b(0xb81),_0x5d9e87);try{const _0x210444=await getDoc(_0x5657b3);if(_0x210444[_0x164f2b(0x939)]()){const _0x2251ec=_0x210444[_0x164f2b(0xdad)]()[_0x164f2b(0xe66)]||![];await updateDoc(_0x5657b3,{'isPinned':!_0x2251ec});}}catch(_0x4aefd2){console[_0x164f2b(0x1b6)](_0x164f2b(0x362),_0x4aefd2),showMessage(_0x164f2b(0xebc));}}async function handleDeleteProject(_0x56803c){const _0x59482c=_0x230ac1;try{const _0x119f6b=writeBatch(db),_0x51d819=collection(db,_0x59482c(0x884)+appId+_0x59482c(0x8a2)),_0x4bf2b4=query(_0x51d819,where(_0x59482c(0x791),'==',_0x56803c)),_0x156a4a=await getDocs(_0x4bf2b4);for(const _0x195f50 of _0x156a4a[_0x59482c(0xcf8)]){const _0x263b58=collection(db,_0x59482c(0x884)+appId+_0x59482c(0xa60)+_0x195f50['id']+'/submissions'),_0x36dffa=await getDocs(_0x263b58);_0x36dffa[_0x59482c(0xdec)](_0x17b3e0=>{const _0x2f6971=_0x59482c;_0x119f6b[_0x2f6971(0x35d)](_0x17b3e0[_0x2f6971(0x5e6)]);}),_0x119f6b['delete'](_0x195f50[_0x59482c(0x5e6)]);}const _0x4cd4b6=collection(db,_0x59482c(0x884)+appId+_0x59482c(0xa9f)+_0x56803c+'/studentProfiles'),_0x2e8948=await getDocs(_0x4cd4b6);_0x2e8948[_0x59482c(0xdec)](_0x248ef0=>{_0x119f6b['delete'](_0x248ef0['ref']);});const _0x27856d=doc(db,_0x59482c(0x884)+appId+_0x59482c(0xb81),_0x56803c);_0x119f6b[_0x59482c(0x35d)](_0x27856d),await _0x119f6b[_0x59482c(0x944)](),showMessage(_0x59482c(0x70d)),showView(_0x59482c(0x9d2));}catch(_0x543db8){console[_0x59482c(0x1b6)](_0x59482c(0x2a4),_0x543db8),showMessage(_0x59482c(0x8a7));}}document[_0x230ac1(0x815)](_0x230ac1(0x85e))[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),async()=>{const _0x35a721=_0x230ac1;if(!currentProjectId)return;const _0x2b467b={'defaultNumQuestions':parseInt(document[_0x35a721(0x815)](_0x35a721(0x629))[_0x35a721(0xdd7)]),'defaultNumChoices':parseInt(document['getElementById'](_0x35a721(0x8bb))[_0x35a721(0xdd7)]),'defaultPassingScore':parseInt(document[_0x35a721(0x815)](_0x35a721(0x6e6))[_0x35a721(0xdd7)]),'resultsDisplay':document['getElementById'](_0x35a721(0x345))['value'],'shuffleSetting':document[_0x35a721(0x815)](_0x35a721(0x8bd))[_0x35a721(0xdd7)],'timerMode':document[_0x35a721(0x815)](_0x35a721(0xd08))[_0x35a721(0xdd7)],'timerDuration':parseInt(document[_0x35a721(0x815)](_0x35a721(0xb39))['value']),'isConfidenceScoringEnabled':document[_0x35a721(0x815)](_0x35a721(0x8b7))[_0x35a721(0xdaf)],'confidenceMode':document[_0x35a721(0x815)](_0x35a721(0xda4))['value']};try{const _0x4f1fd3=doc(db,_0x35a721(0x884)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x4f1fd3,{'settings':_0x2b467b}),showMessage(_0x35a721(0xdfd));}catch(_0x464d17){console[_0x35a721(0x1b6)](_0x35a721(0x956),_0x464d17),showMessage(_0x35a721(0xb8f));}});function listenForStudents(_0x220c87){const _0x8ed409=_0x230ac1,_0x30f443=doc(db,_0x8ed409(0x884)+appId+_0x8ed409(0xb81),_0x220c87);unsubscribeStudentsListener=onSnapshot(_0x30f443,_0x13811a=>{const _0x2c6e8f=_0x8ed409;if(_0x13811a[_0x2c6e8f(0x939)]()){const _0x3a3b46=_0x13811a[_0x2c6e8f(0xdad)]();currentProjectData=_0x3a3b46,renderStudentList(_0x3a3b46['students']||[]);}});}function renderStudentList(_0xcac0f6){const _0x4e177e=_0x230ac1,_0x54da02=document['getElementById']('delete-all-students-btn');_0xcac0f6[_0x4e177e(0xe93)]===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x54da02[_0x4e177e(0xeac)][_0x4e177e(0x4db)](_0x4e177e(0xcc2))):(studentList['innerHTML']=_0xcac0f6[_0x4e177e(0xe07)](_0x403c09=>_0x4e177e(0x456)+_0x403c09+_0x4e177e(0x420)+_0x403c09+_0x4e177e(0x7ab))['join'](''),_0x54da02['classList'][_0x4e177e(0xb0b)](_0x4e177e(0xcc2)));}document[_0x230ac1(0x815)](_0x230ac1(0x3b5))[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),async()=>{const _0x152a16=_0x230ac1;if(!currentProjectId)return;const _0x2313ae=document[_0x152a16(0x815)](_0x152a16(0x3a6)),_0x58aa80=_0x2313ae[_0x152a16(0xdd7)][_0x152a16(0x99f)]();if(!_0x58aa80){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x4dab1f=_0x58aa80[_0x152a16(0x356)]('\x0a')[_0x152a16(0xe07)](_0x58e86b=>_0x58e86b[_0x152a16(0x99f)]())[_0x152a16(0x320)](_0x569dc0=>_0x569dc0);if(_0x4dab1f[_0x152a16(0xe93)]===0x0)return;try{const _0x5ab329=doc(db,_0x152a16(0x884)+appId+_0x152a16(0xb81),currentProjectId),_0x3f01a5=await getDoc(_0x5ab329);if(_0x3f01a5['exists']()){const _0x41741e=_0x3f01a5[_0x152a16(0xdad)]()[_0x152a16(0xa2f)]||[],_0x4f2abc=[...new Set([..._0x41741e,..._0x4dab1f])];await updateDoc(_0x5ab329,{'students':_0x4f2abc}),_0x2313ae[_0x152a16(0xdd7)]='';}}catch(_0x48779e){console[_0x152a16(0x1b6)](_0x152a16(0xdb6),_0x48779e),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x192e25){const _0xf630ab=_0x230ac1,_0x3fee34=document['getElementById'](_0xf630ab(0x6ba)),_0x15f640=document['getElementById'](_0xf630ab(0xc07)),_0x2f3728=_0x3fee34[_0xf630ab(0xd27)]('h3'),_0x449ba7=document[_0xf630ab(0x815)](_0xf630ab(0x646)),_0x41cb9b=document[_0xf630ab(0x815)](_0xf630ab(0x484));_0x2f3728['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x15f640[_0xf630ab(0x63b)]=_0xf630ab(0x391),_0x449ba7[_0xf630ab(0x587)]=_0xf630ab(0xcd6),_0x3fee34[_0xf630ab(0xeac)][_0xf630ab(0xb0b)]('hidden');const _0x5371d3=allQuizzes[_0xf630ab(0x320)](_0x178f99=>_0x178f99['id']!==_0x192e25);_0x5371d3[_0xf630ab(0xe93)]===0x0?(_0x15f640['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x449ba7[_0xf630ab(0x44b)]=!![]):(_0x15f640['innerHTML']=_0xf630ab(0x9c4)+_0x5371d3[_0xf630ab(0xe07)](_0x3c270b=>_0xf630ab(0x3a8)+_0x3c270b['id']+'\x22>'+_0x3c270b[_0xf630ab(0xbdd)]+'</option>')['join'](''),_0x449ba7['disabled']=![]);const _0x5956ba=async()=>{const _0x4b2eb3=_0xf630ab,_0x5cf6c5=_0x15f640[_0x4b2eb3(0xdd7)];if(!_0x5cf6c5){showMessage(_0x4b2eb3(0x7a6));return;}_0x449ba7['disabled']=!![],_0x449ba7[_0x4b2eb3(0x587)]=_0x4b2eb3(0xc12);try{const _0x5545fd=doc(db,_0x4b2eb3(0x884)+appId+_0x4b2eb3(0x8a2),_0x192e25),_0x7feff6=doc(db,_0x4b2eb3(0x884)+appId+_0x4b2eb3(0x8a2),_0x5cf6c5),_0x593596=writeBatch(db);_0x593596['update'](_0x5545fd,{'pairedQuizId':_0x5cf6c5}),_0x593596[_0x4b2eb3(0x482)](_0x7feff6,{'pairedQuizId':_0x192e25}),await _0x593596[_0x4b2eb3(0x944)](),showMessage(_0x4b2eb3(0x53f)),_0x3fee34[_0x4b2eb3(0xeac)][_0x4b2eb3(0x4db)](_0x4b2eb3(0xcc2));}catch(_0x2614ac){console[_0x4b2eb3(0x1b6)]('Error\x20pairing\x20quizzes:',_0x2614ac),showMessage(_0x4b2eb3(0xb54));}finally{_0x2f3728[_0x4b2eb3(0x587)]=_0x4b2eb3(0x49f),_0x449ba7[_0x4b2eb3(0x587)]=_0x4b2eb3(0x619),_0x449ba7[_0x4b2eb3(0x44b)]=![],_0x449ba7[_0x4b2eb3(0x8d5)](_0x4b2eb3(0x7a5),_0x5956ba),_0x41cb9b['removeEventListener'](_0x4b2eb3(0x7a5),_0x489c23);}},_0x489c23=()=>{const _0x28e4b3=_0xf630ab;_0x3fee34['classList'][_0x28e4b3(0x4db)](_0x28e4b3(0xcc2)),_0x2f3728[_0x28e4b3(0x587)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x449ba7[_0x28e4b3(0x587)]=_0x28e4b3(0x619),_0x449ba7[_0x28e4b3(0x8d5)]('click',_0x5956ba),_0x41cb9b[_0x28e4b3(0x8d5)](_0x28e4b3(0x7a5),_0x489c23);};_0x449ba7[_0xf630ab(0x7b7)](_0xf630ab(0x7a5),_0x5956ba),_0x41cb9b[_0xf630ab(0x7b7)](_0xf630ab(0x7a5),_0x489c23);}function handleDeleteStudent(_0x589235){const _0x1d796d=_0x230ac1;showConfirmation(_0x1d796d(0xb33)+_0x589235+_0x1d796d(0x669),async()=>{const _0x55b727=_0x1d796d;if(!currentProjectId||!currentProjectData)return;const _0x330016=currentProjectData[_0x55b727(0xa2f)][_0x55b727(0x320)](_0x4506e2=>_0x4506e2!==_0x589235);try{const _0x3055e2=doc(db,_0x55b727(0x884)+appId+_0x55b727(0xb81),currentProjectId),_0x24409c=doc(db,_0x55b727(0x884)+appId+_0x55b727(0xa9f)+currentProjectId+_0x55b727(0x7fc),_0x589235),_0x432ce3=writeBatch(db);_0x432ce3[_0x55b727(0x482)](_0x3055e2,{'students':_0x330016}),_0x432ce3[_0x55b727(0x35d)](_0x24409c),await _0x432ce3[_0x55b727(0x944)]();}catch(_0x16bf53){console[_0x55b727(0x1b6)]('Error\x20deleting\x20student:',_0x16bf53),showMessage(_0x55b727(0x4a8));}});}function handleDeleteAllStudents(){const _0x2ddada=_0x230ac1;showConfirmation(_0x2ddada(0x95b),async()=>{const _0x5e8227=_0x2ddada;if(!currentProjectId)return;try{const _0x4c12b1=doc(db,_0x5e8227(0x884)+appId+_0x5e8227(0xb81),currentProjectId),_0x2de4dd=collection(db,'artifacts/'+appId+_0x5e8227(0xa9f)+currentProjectId+'/studentProfiles'),_0x30b41c=await getDocs(_0x2de4dd),_0x3e1295=writeBatch(db);_0x3e1295[_0x5e8227(0x482)](_0x4c12b1,{'students':[]}),_0x30b41c[_0x5e8227(0xdec)](_0x423885=>_0x3e1295[_0x5e8227(0x35d)](_0x423885[_0x5e8227(0x5e6)])),await _0x3e1295[_0x5e8227(0x944)]();}catch(_0x3d7064){console[_0x5e8227(0x1b6)](_0x5e8227(0x9c3),_0x3d7064),showMessage(_0x5e8227(0x499));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x1388ff){const _0x3fdcac=_0x230ac1,_0x18cb0c=document[_0x3fdcac(0x815)]('file-topics-list-container'),_0x516af5=document['getElementById'](_0x3fdcac(0xcdf));_0x18cb0c[_0x3fdcac(0xeac)][_0x3fdcac(0xb0b)]('hidden'),_0x516af5[_0x3fdcac(0x63b)]=_0x3fdcac(0x333);try{const _0x237d8a=new FileReader();_0x237d8a['readAsDataURL'](_0x1388ff),await new Promise((_0x3cbe9d,_0x3b9ba7)=>{_0x237d8a['onload']=()=>{const _0x12562a=_0x1143;fileDataBase64=_0x237d8a[_0x12562a(0xbdb)]['split'](',')[0x1],fileMimeType=_0x1388ff[_0x12562a(0x444)],_0x3cbe9d();},_0x237d8a['onerror']=_0x1c3690=>_0x3b9ba7(_0x1c3690);});if(!fileDataBase64)throw new Error(_0x3fdcac(0xd49));const _0x402f18=_0x3fdcac(0x7bc),_0xd5e1f8={'type':_0x3fdcac(0x1eb),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x3fdcac(0x324)}}},'required':['topics']},_0x163b6e=[{'text':_0x402f18},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xd54163=await handleApiCall(_0x163b6e,_0x3fdcac(0x2b0),_0xd5e1f8,null,![]);if(_0xd54163&&_0xd54163[_0x3fdcac(0xccf)])extractedFileTopics=_0xd54163[_0x3fdcac(0xccf)],renderFileTopics();else throw new Error(_0x3fdcac(0x302));}catch(_0x6e5149){console[_0x3fdcac(0x1b6)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x6e5149),_0x516af5[_0x3fdcac(0x63b)]=_0x3fdcac(0xc8a)+_0x6e5149['message']+_0x3fdcac(0x1fb);}}function renderFileTopics(){const _0x16227a=_0x230ac1,_0x1ce82f=document[_0x16227a(0x815)](_0x16227a(0xcdf));if(extractedFileTopics[_0x16227a(0xe93)]===0x0){_0x1ce82f[_0x16227a(0x63b)]=_0x16227a(0x7b1);return;}_0x1ce82f[_0x16227a(0x63b)]=extractedFileTopics[_0x16227a(0xe07)](_0x3572de=>_0x16227a(0x671)+_0x3572de+_0x16227a(0x80f)+escape(_0x3572de)+_0x16227a(0x825)+escape(_0x3572de)+_0x16227a(0x336))[_0x16227a(0x885)]('');}async function generateHybridQuizForTopic(_0x4ef80a){const _0x20199a=_0x230ac1,_0x4d998f=parseInt(document[_0x20199a(0x815)](_0x20199a(0x629))['value'],0xa),_0x25054a=document[_0x20199a(0x815)](_0x20199a(0xa7e))['value'],_0x53e90f=document[_0x20199a(0x815)](_0x20199a(0x8bb))[_0x20199a(0xdd7)],_0x3bb5b3=document[_0x20199a(0x815)](_0x20199a(0xb9e))[_0x20199a(0xdaf)],_0x43c210=_0x3bb5b3?_0x20199a(0x750):_0x20199a(0x700);let _0x4cf928='',_0x15ac65;const _0x6831c1={'type':_0x20199a(0x1eb),'properties':{'questionText':{'type':_0x20199a(0x324)},'options':{'type':_0x20199a(0x2df),'items':{'type':_0x20199a(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x20199a(0x324)},'imageCode':{'type':'STRING'}},'required':[_0x20199a(0xef8),_0x20199a(0xa9c),'correctAnswerIndex',_0x20199a(0xc14)]},_0x3b4a5e={'type':_0x20199a(0x1eb),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x20199a(0x3e2)},'explanation':{'type':_0x20199a(0x324)},'imageCode':{'type':'STRING'}},'required':[_0x20199a(0xef8),'correctAnswer',_0x20199a(0xc14)]},_0x396a4b={'type':_0x20199a(0x1eb),'properties':{'questionText':{'type':_0x20199a(0x324)},'idealAnswer':{'type':_0x20199a(0x324)},'explanation':{'type':_0x20199a(0x324)},'imageCode':{'type':_0x20199a(0x324)}},'required':[_0x20199a(0xef8),_0x20199a(0x46d),_0x20199a(0xc14)]},_0x2b8b9a={'type':_0x20199a(0x1eb),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x20199a(0x324)},'correctResponse':{'type':_0x20199a(0x324)},'allResponses':{'type':_0x20199a(0x2df),'items':{'type':_0x20199a(0x324)}},'explanation':{'type':_0x20199a(0x324)},'imageCode':{'type':_0x20199a(0x324)}},'required':[_0x20199a(0x1f4),'stem',_0x20199a(0xa50),_0x20199a(0x787),'explanation']};switch(_0x25054a){case'multiple_choice':const _0x30078b=_0x20199a(0x65a);prompt=_0x20199a(0x3f3)+subjectPrefix+'\x20'+settings[_0x20199a(0x3ae)]+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+settings[_0x20199a(0x8f6)]+_0x20199a(0x60a)+_0x30078b+_0x20199a(0xf19)+_0x43c210+'\x20'+simpleMathPrompt,schema=_0x6831c1;break;case'true_false':_0x4cf928='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x15ac65=_0x3b4a5e;break;case _0x20199a(0x934):_0x4cf928='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x15ac65=_0x396a4b;break;case _0x20199a(0xb42):_0x4cf928=_0x20199a(0x9bd),_0x15ac65=_0x2b8b9a;break;case _0x20199a(0xd8e):_0x4cf928=_0x20199a(0x8e5)+_0x53e90f+'\x20ตัวเลือก)',_0x15ac65=_0x6831c1;break;default:_0x4cf928=_0x20199a(0xac5)+_0x53e90f+'\x20ตัวเลือก)',_0x15ac65=_0x6831c1;break;}const _0x4c6d48='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0xa8547c=document[_0x20199a(0x815)](_0x20199a(0xb68)),_0x181a0c=document[_0x20199a(0x815)]('loader-text'),_0x6a0ac7=document['getElementById'](_0x20199a(0xa48));document[_0x20199a(0x815)]('quiz-generation-area')['classList'][_0x20199a(0xb0b)](_0x20199a(0xcc2)),_0x6a0ac7[_0x20199a(0x63b)]='',_0xa8547c[_0x20199a(0xeac)][_0x20199a(0xb0b)](_0x20199a(0xcc2)),_0x181a0c[_0x20199a(0x587)]=_0x20199a(0xb76)+_0x4ef80a+_0x20199a(0x48c)+_0x4d998f+'\x20ข้อ...';try{const _0x545ad7=_0x20199a(0x3c9),_0x2ab3f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x4ef80a+_0x20199a(0x845)+_0x4d998f+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x4ef80a+_0x20199a(0xea3)+_0x4d998f+_0x20199a(0x975)+_0x43c210+_0x20199a(0xa4c)+_0x4cf928+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x4c6d48+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x545ad7+_0x20199a(0x66f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c508e={'type':_0x20199a(0x1eb),'properties':{'topic':{'type':_0x20199a(0x324)},'questions':{'type':_0x20199a(0x2df),'items':_0x15ac65}},'required':[_0x20199a(0xbdd),_0x20199a(0x746)]},_0x9699b3=[{'text':_0x2ab3f5},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x9699b3,_0x20199a(0x25b)+_0x4ef80a+_0x20199a(0x728),_0x2c508e);}catch(_0x57ca6d){console[_0x20199a(0x1b6)]('Error\x20generating\x20hybrid\x20quiz:',_0x57ca6d),showMessage(_0x20199a(0x36f)+_0x57ca6d[_0x20199a(0xb95)]),_0x6a0ac7[_0x20199a(0x63b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0xa8547c[_0x20199a(0xeac)][_0x20199a(0x4db)](_0x20199a(0xcc2));}}async function handleGenerateFromFileClick(){const _0x53a40d=_0x230ac1;if(!selectedFile){showMessage(_0x53a40d(0x861));return;}const _0x17f71a=document[_0x53a40d(0x815)]('loader'),_0x29232b=document[_0x53a40d(0x815)](_0x53a40d(0x5f3)),_0xff6e4a=document[_0x53a40d(0x815)](_0x53a40d(0xa48)),_0x1db909=document[_0x53a40d(0x815)](_0x53a40d(0x5da));_0x1db909[_0x53a40d(0x44b)]=!![],document[_0x53a40d(0x815)](_0x53a40d(0x601))[_0x53a40d(0xeac)]['remove'](_0x53a40d(0xcc2)),_0xff6e4a[_0x53a40d(0x63b)]='',_0x17f71a[_0x53a40d(0xeac)][_0x53a40d(0xb0b)](_0x53a40d(0xcc2)),_0x29232b[_0x53a40d(0x587)]=_0x53a40d(0xa3e);try{const _0x2d6663=await new Promise((_0x9ab9f7,_0x45ba7f)=>{const _0x421451=_0x53a40d,_0x219d13=new FileReader();_0x219d13[_0x421451(0x8e6)](selectedFile),_0x219d13['onload']=()=>_0x9ab9f7(_0x219d13[_0x421451(0xbdb)][_0x421451(0x356)](',')[0x1]),_0x219d13['onerror']=_0x159433=>_0x45ba7f(_0x159433);});await generateQuizFromFile(selectedFile['type'],_0x2d6663);}catch(_0x22c2f8){console[_0x53a40d(0x1b6)]('Error\x20processing\x20file\x20for\x20AI:',_0x22c2f8),showMessage(_0x53a40d(0xbab)+_0x22c2f8[_0x53a40d(0xb95)]),_0x17f71a[_0x53a40d(0xeac)][_0x53a40d(0x4db)](_0x53a40d(0xcc2)),_0x1db909[_0x53a40d(0x44b)]=![];}}function autoFormatMath(_0x4629ca){const _0x4d227d=_0x230ac1;if(typeof _0x4629ca!=='string'||!_0x4629ca)return _0x4629ca;const _0x260667=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x268686=_0x4629ca[_0x4d227d(0xeef)](_0x260667,_0x4d013e=>{const _0x59e6af=_0x4d227d;return'$'+_0x4d013e[_0x59e6af(0x99f)]()+'$';});return _0x268686;}function sanitizeQuizData(_0xa375fa){const _0x2c7587=_0x230ac1;if(!_0xa375fa||!_0xa375fa[_0x2c7587(0x746)])return _0xa375fa;const _0x102c2c=_0x99a1cf=>{const _0x5bd03f=_0x2c7587;if(typeof _0x99a1cf!==_0x5bd03f(0x96c))return _0x99a1cf;let _0x7b7465=_0x99a1cf;_0x7b7465=_0x7b7465[_0x5bd03f(0xeef)](/\\\(/g,'$')[_0x5bd03f(0xeef)](/\\\)/g,'$'),_0x7b7465=_0x7b7465[_0x5bd03f(0xeef)](/\\\[/g,'$$')[_0x5bd03f(0xeef)](/\\\]/g,'$$'),_0x7b7465=_0x7b7465[_0x5bd03f(0xeef)](/\\?imes\b/g,'\x5ctimes');const _0x52f683=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x7b7465=_0x7b7465[_0x5bd03f(0xeef)](_0x52f683,_0x48873f=>{const _0xeff193=_0x5bd03f;return'$'+_0x48873f[_0xeff193(0x99f)]()+'$';}),_0x7b7465;};return _0xa375fa[_0x2c7587(0xbdd)]&&(_0xa375fa[_0x2c7587(0xbdd)]=_0x102c2c(_0xa375fa[_0x2c7587(0xbdd)])),_0xa375fa[_0x2c7587(0x746)][_0x2c7587(0xdec)](_0x39e3d5=>{const _0x1ee97b=_0x2c7587;_0x39e3d5[_0x1ee97b(0xef8)]=_0x102c2c(_0x39e3d5[_0x1ee97b(0xef8)]),_0x39e3d5[_0x1ee97b(0x212)]=_0x102c2c(_0x39e3d5[_0x1ee97b(0x212)]),_0x39e3d5[_0x1ee97b(0xa9c)]&&(_0x39e3d5['options']=_0x39e3d5[_0x1ee97b(0xa9c)][_0x1ee97b(0xe07)](_0x381c57=>_0x102c2c(_0x381c57))),_0x39e3d5[_0x1ee97b(0xc14)]&&(_0x39e3d5[_0x1ee97b(0xc14)]=_0x102c2c(_0x39e3d5['explanation'])),_0x39e3d5['correctResponse']&&(_0x39e3d5[_0x1ee97b(0xa50)]=_0x102c2c(_0x39e3d5[_0x1ee97b(0xa50)])),_0x39e3d5['allResponses']&&(_0x39e3d5[_0x1ee97b(0x787)]=_0x39e3d5[_0x1ee97b(0x787)][_0x1ee97b(0xe07)](_0x319412=>_0x102c2c(_0x319412))),_0x39e3d5['idealAnswer']&&(_0x39e3d5[_0x1ee97b(0x46d)]=_0x102c2c(_0x39e3d5[_0x1ee97b(0x46d)]));}),_0xa375fa;}const simpleMathPrompt=_0x230ac1(0x876);async function handleGenerateFromLink(){const _0x9d5c83=_0x230ac1,_0x302b5c=document[_0x9d5c83(0x815)]('link-url-input'),_0x115eec=document[_0x9d5c83(0x815)](_0x9d5c83(0x7ba)),_0x479a53=_0x302b5c[_0x9d5c83(0xdd7)][_0x9d5c83(0x99f)](),_0x37faeb=_0x115eec[_0x9d5c83(0xdd7)][_0x9d5c83(0x99f)]();if(!_0x479a53){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x5b6d05=document[_0x9d5c83(0x815)](_0x9d5c83(0xb68)),_0x10c3d0=document['getElementById'](_0x9d5c83(0x5f3)),_0x95bc99=document[_0x9d5c83(0x815)]('generated-quiz-container'),_0x4d1b58=document['getElementById'](_0x9d5c83(0x1d1));document[_0x9d5c83(0x815)]('quiz-generation-area')[_0x9d5c83(0xeac)]['remove']('hidden'),_0x95bc99[_0x9d5c83(0x63b)]='',_0x5b6d05['classList'][_0x9d5c83(0xb0b)](_0x9d5c83(0xcc2)),_0x10c3d0[_0x9d5c83(0x587)]=_0x9d5c83(0xd6d),_0x4d1b58[_0x9d5c83(0x44b)]=!![];try{const _0x570e15=_0x9d5c83(0x4cc)+encodeURIComponent(_0x479a53),_0x53b090=await fetch(_0x570e15);if(!_0x53b090['ok'])throw new Error(_0x9d5c83(0xc61)+_0x53b090[_0x9d5c83(0xc71)]+')');const _0xa10d7=await _0x53b090[_0x9d5c83(0x317)](),_0x4523b9=extractTextFromHtml(_0xa10d7);if(!_0x4523b9||_0x4523b9[_0x9d5c83(0xe93)]<0x64)throw new Error(_0x9d5c83(0xcbe));await generateQuiz(_0x37faeb,_0x4523b9);}catch(_0x8409f1){console[_0x9d5c83(0x1b6)]('Error\x20generating\x20from\x20link:',_0x8409f1),showMessage(_0x9d5c83(0x36f)+_0x8409f1[_0x9d5c83(0xb95)]),_0x95bc99['innerHTML']=_0x9d5c83(0x20c);}finally{_0x5b6d05['classList'][_0x9d5c83(0x4db)](_0x9d5c83(0xcc2)),_0x4d1b58[_0x9d5c83(0x44b)]=![];}}function extractTextFromHtml(_0x22a576){const _0x8d7e3b=_0x230ac1,_0x55805f=new DOMParser()[_0x8d7e3b(0xd57)](_0x22a576,'text/html');return _0x55805f[_0x8d7e3b(0x8c8)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x8d7e3b(0xdec)](_0x304390=>_0x304390[_0x8d7e3b(0xb0b)]()),_0x55805f[_0x8d7e3b(0x87e)][_0x8d7e3b(0x587)]||'';}document[_0x230ac1(0x815)]('generate-from-topic-btn')[_0x230ac1(0x7b7)](_0x230ac1(0x7a5),()=>{const _0x753ef1=_0x230ac1,_0x3ed6f5=document[_0x753ef1(0x815)](_0x753ef1(0xcf5))[_0x753ef1(0xdd7)][_0x753ef1(0x99f)]();generateQuiz(_0x3ed6f5,null);}),document[_0x230ac1(0x815)](_0x230ac1(0x7c0))['addEventListener']('click',()=>{const _0x21ac5e=_0x230ac1,_0x4bfeeb=document[_0x21ac5e(0x815)]('text-content-input')[_0x21ac5e(0xdd7)][_0x21ac5e(0x99f)]();if(!_0x4bfeeb){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x18ee0a=document[_0x21ac5e(0x815)](_0x21ac5e(0xcf5))[_0x21ac5e(0xdd7)][_0x21ac5e(0x99f)]();generateQuiz(_0x18ee0a,_0x4bfeeb);});async function generateQuiz(_0x458c8f,_0x57bb42,_0x358209=null,_0x51651b=null,_0x3527dc=![],_0x43bbe7=null,_0x2d3068=null,_0x51c205=![]){const _0x5739b4=_0x230ac1;let _0xe3735d={};if(_0x3527dc&&blueprintPageSettings)_0xe3735d=blueprintPageSettings;else{const _0x1f3a14=document['querySelectorAll'](_0x5739b4(0x6ac));_0xe3735d={'quizType':document['getElementById']('quiz-type-select')[_0x5739b4(0xdd7)],'numQuestions':document[_0x5739b4(0x815)](_0x5739b4(0x629))[_0x5739b4(0xdd7)],'numChoices':document[_0x5739b4(0x815)](_0x5739b4(0x8bb))[_0x5739b4(0xdd7)],'includeImages':document[_0x5739b4(0x815)](_0x5739b4(0xb9e))['checked'],'isNormalTopic':document[_0x5739b4(0x815)]('force-math-checkbox')[_0x5739b4(0xdaf)],'difficultyValue':document[_0x5739b4(0x815)]('difficulty-level-select')['value'],'complexityValue':document[_0x5739b4(0x815)](_0x5739b4(0xf0f))[_0x5739b4(0xdd7)],'selectedTopicNames':Array[_0x5739b4(0x488)](_0x1f3a14)[_0x5739b4(0xe07)](_0x3751eb=>_0x3751eb[_0x5739b4(0xdd7)])};}const _0x448f29=_0xe3735d[_0x5739b4(0x7a3)]?'':_0x5739b4(0xbf5),_0x4cec13=_0xe3735d[_0x5739b4(0xc95)]!=='auto'?_0x5739b4(0x9a2)+_0xe3735d[_0x5739b4(0xc95)]+'\x22':'',_0x129bb8=_0xe3735d[_0x5739b4(0x512)]!==_0x5739b4(0x6a6)?_0x5739b4(0xf0d)+_0xe3735d[_0x5739b4(0x512)]+_0x5739b4(0x951):'';let _0x28cb98='';_0xe3735d[_0x5739b4(0x1b8)]&&_0xe3735d['selectedTopicNames']['length']>0x0&&(_0x28cb98='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0xe3735d[_0x5739b4(0x1b8)][_0x5739b4(0x885)](',\x20')+'.');let _0x5ecdf4='';_0x51651b&&(_0x5ecdf4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x59a4cc='',_0x38e0c3='',_0x5af9e5,_0x33561e=_0x5739b4(0x858)+_0x458c8f+'\x22';if(!_0x458c8f&&_0x57bb42)_0x33561e='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x458c8f&&!_0x57bb42&&(_0x33561e=_0x5739b4(0x62d));const _0x34a9f5={'type':_0x5739b4(0x1eb),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x5739b4(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5739b4(0x324)},'imageCode':{'type':_0x5739b4(0x324)}},'required':[_0x5739b4(0xef8),'options',_0x5739b4(0xdfa),_0x5739b4(0xc14)]},_0x1e8ed6={'type':_0x5739b4(0x1eb),'properties':{'questionText':{'type':_0x5739b4(0x324)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5739b4(0x324)},'imageCode':{'type':_0x5739b4(0x324)}},'required':[_0x5739b4(0xef8),_0x5739b4(0x46d),_0x5739b4(0xc14)]},_0x399c12={'type':_0x5739b4(0x1eb),'properties':{'questionText':{'type':_0x5739b4(0x324)},'questionType':{'type':_0x5739b4(0x324),'enum':[_0x5739b4(0x653),_0x5739b4(0x270)]},'options':{'type':_0x5739b4(0x2df),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5739b4(0xc97)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5739b4(0x324)},'imageCode':{'type':'STRING'}},'required':[_0x5739b4(0xef8),_0x5739b4(0x1f4),_0x5739b4(0xc14)]},_0x2a8870={'type':_0x5739b4(0x1eb),'properties':{'questionText':{'type':_0x5739b4(0x324)},'correctAnswer':{'type':_0x5739b4(0x3e2)},'explanation':{'type':_0x5739b4(0x324)},'imageCode':{'type':_0x5739b4(0x324)}},'required':[_0x5739b4(0xef8),_0x5739b4(0x68b),_0x5739b4(0xc14)]},_0xad1f32={'type':_0x5739b4(0x1eb),'properties':{'questionType':{'type':_0x5739b4(0x324),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5739b4(0x324)},'allResponses':{'type':_0x5739b4(0x2df),'items':{'type':_0x5739b4(0x324)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5739b4(0x324)}},'required':[_0x5739b4(0x1f4),'stem','correctResponse','allResponses','explanation']};let _0x1e1aed;if(_0x358209!==null){const _0x3e0e27=currentQuizData[_0x5739b4(0x746)][_0x358209][_0x5739b4(0x1f4)],_0x1ad1f7=_0xe3735d[_0x5739b4(0x34a)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x59a4cc=_0x5739b4(0x4d9)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x1ad1f7+'\x20'+simpleMathPrompt;if(_0x3e0e27==='multiple_choice')_0x5af9e5=_0x34a9f5;else{if(_0x3e0e27===_0x5739b4(0x52a))_0x5af9e5={'type':'OBJECT','properties':{'questionType':{'type':_0x5739b4(0x324),'enum':['matching_item']},'stem':{'type':_0x5739b4(0x324)},'correctResponse':{'type':_0x5739b4(0x324)},'explanation':{'type':_0x5739b4(0x324)},'imageCode':{'type':_0x5739b4(0x324)}},'required':['questionType',_0x5739b4(0x212),_0x5739b4(0xa50),_0x5739b4(0xc14)]};else _0x5af9e5=_0x1e8ed6;}_0x1e1aed=_0x5af9e5;}else{const _0x1764a8=_0xe3735d[_0x5739b4(0x34a)]?_0x5739b4(0x991):'';switch(_0xe3735d['quizType']){case _0x5739b4(0x653):const _0x454bd2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';_0x59a4cc=_0x5739b4(0x3f3)+_0x448f29+'\x20'+_0xe3735d[_0x5739b4(0x3ae)]+_0x5739b4(0x64f)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+_0xe3735d[_0x5739b4(0x8f6)]+_0x5739b4(0x60a)+_0x454bd2+_0x5739b4(0xf19)+_0x1764a8+'\x20'+simpleMathPrompt,_0x5af9e5=_0x34a9f5;break;case'fill_in_with_choices':_0x59a4cc=_0x5739b4(0xbac)+_0x448f29+'\x20'+_0xe3735d['numQuestions']+_0x5739b4(0x64f)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+_0x5739b4(0x6c3)+_0xe3735d[_0x5739b4(0x8f6)]+_0x5739b4(0xa68)+_0x1764a8+'\x20'+simpleMathPrompt,_0x5af9e5=_0x34a9f5;break;case _0x5739b4(0x934):_0x59a4cc=_0x5739b4(0xbac)+_0x448f29+'\x20'+_0xe3735d[_0x5739b4(0x3ae)]+_0x5739b4(0x64f)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+_0x5739b4(0x6bf)+_0x1764a8+'\x20'+simpleMathPrompt,_0x5af9e5=_0x1e8ed6;break;case _0x5739b4(0x6a6):_0x59a4cc=_0x5739b4(0x53e)+_0x448f29+'\x20'+_0xe3735d[_0x5739b4(0x3ae)]+_0x5739b4(0x64f)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+_0x5739b4(0xa24)+_0xe3735d[_0x5739b4(0x8f6)]+'\x20ตัวเลือก.\x20'+_0x1764a8+'\x20'+simpleMathPrompt+'.',_0x5af9e5=_0x399c12;break;case _0x5739b4(0xcba):_0x59a4cc=_0x5739b4(0xdfe)+_0x448f29+'\x20'+_0xe3735d['numQuestions']+'\x20ข้อ\x20'+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+_0x5739b4(0xc37)+_0x1764a8+'\x20'+simpleMathPrompt,_0x5af9e5=_0x2a8870;break;case _0x5739b4(0xb42):_0x59a4cc=_0x5739b4(0xb5f)+_0x448f29+'\x20'+_0xe3735d[_0x5739b4(0x3ae)]+_0x5739b4(0xe40)+_0x33561e+'\x20'+_0x28cb98+'\x20'+_0x4cec13+'\x20'+_0x129bb8+'\x20'+_0x5ecdf4+_0x5739b4(0xdc4)+_0x1764a8+'\x20'+simpleMathPrompt,_0x5af9e5=_0xad1f32;break;}_0x1e1aed={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5739b4(0x2df),'items':_0x5af9e5}},'required':['topic',_0x5739b4(0x746)]};}const _0xb52285='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a';_0x57bb42?(_0x51c205?_0x59a4cc=_0x5739b4(0x2d5)+_0x57bb42+_0x5739b4(0xbf6)+_0x59a4cc+_0xb52285:_0x59a4cc=_0x5739b4(0x2d5)+_0x57bb42+_0x5739b4(0xbf6)+_0x59a4cc,_0x38e0c3=_0x5739b4(0x744)):(_0x51c205&&(_0x59a4cc+=_0xb52285),_0x38e0c3=_0x5739b4(0xa07));let _0x1aa2cf;return _0x51651b?(_0x1aa2cf=[{'text':_0x59a4cc},..._0x51651b],_0x38e0c3='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x1aa2cf=_0x59a4cc,handleApiCall(_0x1aa2cf,_0x38e0c3,_0x1e1aed,_0x358209,!![],_0x43bbe7,_0x2d3068);}async function generateQuizFromFile(_0x3d0ac7,_0x197d8e){const _0x25e9a1=_0x230ac1,_0x5796b0=document['getElementById'](_0x25e9a1(0xc46))[_0x25e9a1(0xdd7)]['trim'](),_0x903700=document[_0x25e9a1(0x815)](_0x25e9a1(0xa7e))[_0x25e9a1(0xdd7)],_0x574e4c=document[_0x25e9a1(0x815)](_0x25e9a1(0x629))[_0x25e9a1(0xdd7)],_0x34dcdd=document[_0x25e9a1(0x815)](_0x25e9a1(0x8bb))['value'],_0x67a0f7=document['getElementById'](_0x25e9a1(0xb9e))['checked'],_0x295133=document[_0x25e9a1(0x815)](_0x25e9a1(0x219))[_0x25e9a1(0xdaf)],_0x324a5f=_0x295133?'':_0x25e9a1(0xbf5),_0x4850aa=document['getElementById'](_0x25e9a1(0xe06))[_0x25e9a1(0xdaf)];let _0x396a1f='',_0x1a40cf;const _0x188e6f=_0x67a0f7?_0x25e9a1(0x991):'';if(_0x4850aa)_0x396a1f='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x188e6f+'\x0a'+simpleMathPrompt+'\x0a',_0x1a40cf={'type':'OBJECT','properties':{'questionText':{'type':_0x25e9a1(0x324)},'questionType':{'type':_0x25e9a1(0x324),'enum':[_0x25e9a1(0x653),_0x25e9a1(0x270),'true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0x25e9a1(0x324)}},'correctAnswerIndex':{'type':_0x25e9a1(0xc97)},'idealAnswer':{'type':_0x25e9a1(0x324)},'correctAnswer':{'type':_0x25e9a1(0x3e2)},'stem':{'type':_0x25e9a1(0x324)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x25e9a1(0x324)}},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':[_0x25e9a1(0x1f4),_0x25e9a1(0xc14)]};else{let _0x35288f=_0x25e9a1(0x858)+_0x5796b0+'\x22';!_0x5796b0&&(_0x35288f=_0x25e9a1(0x595));switch(_0x903700){case'multiple_choice':const _0x18653a=_0x25e9a1(0x3b8);_0x396a1f=_0x25e9a1(0x3f3)+_0x324a5f+'\x20'+_0x574e4c+_0x25e9a1(0x64f)+_0x35288f+_0x25e9a1(0x352)+_0x34dcdd+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x18653a+_0x25e9a1(0x5bb)+_0x188e6f+'\x20'+simpleMathPrompt,_0x1a40cf={'type':_0x25e9a1(0x1eb),'properties':{'questionText':{'type':_0x25e9a1(0x324)},'options':{'type':'ARRAY','items':{'type':_0x25e9a1(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x25e9a1(0xa9c),_0x25e9a1(0xdfa),_0x25e9a1(0xc14)]};break;case _0x25e9a1(0xd8e):_0x396a1f=_0x25e9a1(0xbac)+_0x324a5f+'\x20'+_0x574e4c+_0x25e9a1(0x64f)+_0x35288f+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x34dcdd+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x188e6f+'\x20'+simpleMathPrompt,_0x1a40cf={'type':_0x25e9a1(0x1eb),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x25e9a1(0x2df),'items':{'type':_0x25e9a1(0x324)}},'correctAnswerIndex':{'type':_0x25e9a1(0xc97)},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':[_0x25e9a1(0xef8),_0x25e9a1(0xa9c),_0x25e9a1(0xdfa),_0x25e9a1(0xc14)]};break;case _0x25e9a1(0x934):_0x396a1f=_0x25e9a1(0xbac)+_0x324a5f+'\x20'+_0x574e4c+'\x20ข้อ\x20'+_0x35288f+_0x25e9a1(0xb93)+_0x188e6f+'\x20'+simpleMathPrompt,_0x1a40cf={'type':'OBJECT','properties':{'questionText':{'type':_0x25e9a1(0x324)},'idealAnswer':{'type':_0x25e9a1(0x324)},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':[_0x25e9a1(0xef8),'idealAnswer',_0x25e9a1(0xc14)]};break;case _0x25e9a1(0x6a6):_0x396a1f='สร้างแบบทดสอบ'+_0x324a5f+'\x20'+_0x574e4c+_0x25e9a1(0x64f)+_0x35288f+_0x25e9a1(0x562)+_0x34dcdd+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x188e6f+'\x20'+simpleMathPrompt+_0x25e9a1(0x3e7),_0x1a40cf={'type':_0x25e9a1(0x1eb),'properties':{'questionText':{'type':_0x25e9a1(0x324)},'questionType':{'type':_0x25e9a1(0x324),'enum':[_0x25e9a1(0x653),_0x25e9a1(0x270)]},'options':{'type':'ARRAY','items':{'type':_0x25e9a1(0x324)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x25e9a1(0x324)},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':['questionText',_0x25e9a1(0x1f4),_0x25e9a1(0xc14)]};break;case'true_false':_0x396a1f=_0x25e9a1(0xdfe)+_0x324a5f+'\x20'+_0x574e4c+_0x25e9a1(0x64f)+_0x35288f+_0x25e9a1(0x62a)+_0x188e6f+'\x20'+simpleMathPrompt,_0x1a40cf={'type':_0x25e9a1(0x1eb),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':[_0x25e9a1(0xef8),_0x25e9a1(0x68b),_0x25e9a1(0xc14)]};break;case'matching':_0x396a1f=_0x25e9a1(0xb5f)+_0x324a5f+'\x20'+_0x574e4c+'\x20คู่\x20'+_0x35288f+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x574e4c+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x188e6f+'\x20'+simpleMathPrompt,_0x1a40cf={'type':_0x25e9a1(0x1eb),'properties':{'questionType':{'type':'STRING','enum':[_0x25e9a1(0x52a)]},'stem':{'type':_0x25e9a1(0x324)},'correctResponse':{'type':_0x25e9a1(0x324)},'allResponses':{'type':_0x25e9a1(0x2df),'items':{'type':'STRING'}},'explanation':{'type':_0x25e9a1(0x324)},'imageCode':{'type':_0x25e9a1(0x324)}},'required':[_0x25e9a1(0x1f4),'stem',_0x25e9a1(0xa50),_0x25e9a1(0x787),_0x25e9a1(0xc14)]};break;}}const _0x101757={'type':_0x25e9a1(0x1eb),'properties':{'topic':{'type':_0x25e9a1(0x324)},'questions':{'type':_0x25e9a1(0x2df),'items':_0x1a40cf}},'required':[_0x25e9a1(0xbdd),'questions']},_0x4dc429=_0x25e9a1(0x597)+_0x396a1f,_0x222c2f={'contents':[{'parts':[{'text':_0x4dc429},{'inlineData':{'mimeType':_0x3d0ac7,'data':_0x197d8e}}]}],'generationConfig':{'responseMimeType':_0x25e9a1(0x717),'responseSchema':_0x101757}};return handleApiCall(_0x222c2f[_0x25e9a1(0xd66)][0x0]['parts'],_0x25e9a1(0x234),_0x101757);}async function handleApiCall(_0x4f1019,_0x10d66f,_0x22e101,_0x198306=null,_0x20f139=!![],_0x31d1e2=null,_0xebd56d=null){const _0x74c7ff=_0x230ac1,_0x37c76a=document[_0x74c7ff(0x815)]('quiz-generation-area'),_0x23bd54=document[_0x74c7ff(0x815)](_0x74c7ff(0xb68)),_0x88ad90=document['getElementById'](_0x74c7ff(0x5f3)),_0x24a912=document[_0x74c7ff(0x815)](_0x74c7ff(0xa48));_0x37c76a[_0x74c7ff(0xeac)][_0x74c7ff(0xb0b)](_0x74c7ff(0xcc2));_0x198306===null&&_0x20f139&&(_0x24a912['innerHTML']='');_0x23bd54[_0x74c7ff(0xeac)][_0x74c7ff(0xb0b)]('hidden'),_0x88ad90[_0x74c7ff(0x587)]=_0x10d66f,document[_0x74c7ff(0x815)]('generate-from-topic-btn')[_0x74c7ff(0x44b)]=!![],document[_0x74c7ff(0x815)](_0x74c7ff(0x7c0))[_0x74c7ff(0x44b)]=!![],document[_0x74c7ff(0x815)](_0x74c7ff(0x1d1))['disabled']=!![];const _0x302e03=document[_0x74c7ff(0x815)](_0x74c7ff(0x5da));if(_0x302e03)_0x302e03['disabled']=!![];const _0x4bf78f=document['getElementById'](_0x74c7ff(0x5f7));if(_0x4bf78f)_0x4bf78f[_0x74c7ff(0x44b)]=!![];const _0x4b344b=document[_0x74c7ff(0x815)]('generate-from-parallel-test-btn');if(_0x4b344b)_0x4b344b[_0x74c7ff(0x44b)]=!![];try{const _0x2b96a4=Array[_0x74c7ff(0xddf)](_0x4f1019)?_0x4f1019:[{'text':_0x4f1019}],_0x1d1628={'contents':[{'role':_0x74c7ff(0x325),'parts':_0x2b96a4}]};_0x22e101&&(_0x1d1628['generationConfig']={'responseMimeType':_0x74c7ff(0x717),'responseSchema':_0x22e101});const _0x2c5318=_0x74c7ff(0x769),_0x44242a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x2c5318,_0x2778b3=await fetch(_0x44242a,{'method':'POST','headers':{'Content-Type':_0x74c7ff(0x717)},'body':JSON['stringify'](_0x1d1628)});if(!_0x2778b3['ok']){const _0xf22d71=await _0x2778b3[_0x74c7ff(0x317)]();console[_0x74c7ff(0x1b6)](_0x74c7ff(0xc89),_0xf22d71);throw new Error(_0x74c7ff(0x38f)+_0x2778b3[_0x74c7ff(0xc71)]);}const _0x2084db=await _0x2778b3[_0x74c7ff(0xaf8)]();if(!_0x2084db[_0x74c7ff(0xe70)]||_0x2084db[_0x74c7ff(0xe70)][_0x74c7ff(0xe93)]===0x0){let _0x1f7bab=_0x74c7ff(0x9e7);return _0x2084db['promptFeedback']?.[_0x74c7ff(0xa37)]&&(_0x1f7bab='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x2084db[_0x74c7ff(0xbf9)][_0x74c7ff(0xa37)]+'.'),console[_0x74c7ff(0x1b6)](_0x1f7bab,JSON[_0x74c7ff(0xd0a)](_0x2084db)),null;}const _0x3214b6=_0x2084db[_0x74c7ff(0xe70)][0x0][_0x74c7ff(0xf14)][_0x74c7ff(0x5b8)][0x0][_0x74c7ff(0x317)];if(_0x22e101){let _0x373979=_0x3214b6;if(_0x373979['startsWith']('```json'))_0x373979=_0x373979[_0x74c7ff(0xbc9)](0x7,_0x373979[_0x74c7ff(0xe93)]-0x3)['trim']();else _0x373979['startsWith']('```')&&(_0x373979=_0x373979[_0x74c7ff(0xbc9)](0x3,_0x373979[_0x74c7ff(0xe93)]-0x3)[_0x74c7ff(0x99f)]());let _0x14c2e4=JSON[_0x74c7ff(0x74f)](_0x373979);if(_0x14c2e4['questions']&&Array['isArray'](_0x14c2e4[_0x74c7ff(0x746)])){const _0x2f3f92=_0x14c2e4[_0x74c7ff(0x746)][_0x74c7ff(0x320)](_0x173612=>_0x173612[_0x74c7ff(0x1f4)]==='matching_item');if(_0x2f3f92['length']>0x1){const _0x54c9ea=_0x2f3f92[_0x74c7ff(0xe07)](_0xd0a86c=>_0xd0a86c[_0x74c7ff(0xa50)])['filter'](_0x34b8e0=>_0x34b8e0&&_0x34b8e0[_0x74c7ff(0x99f)]()!=='');shuffleArray(_0x54c9ea),_0x2f3f92[_0x74c7ff(0xdec)](_0x2fd586=>{const _0xd61ff8=_0x74c7ff;_0x2fd586[_0xd61ff8(0x787)]=[..._0x54c9ea];}),console[_0x74c7ff(0x1cf)](_0x74c7ff(0x698),_0x54c9ea);}}if(_0x20f139){if(_0x198306!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x74c7ff(0x746)]){}}else currentQuizData=_0x14c2e4,displayGeneratedQuiz(currentQuizData,_0x31d1e2,_0xebd56d);}return _0x14c2e4;}else return _0x3214b6;}catch(_0x4c4cae){console[_0x74c7ff(0x1b6)](_0x74c7ff(0x505),_0x4c4cae),showMessage(_0x74c7ff(0xef7)+_0x4c4cae[_0x74c7ff(0xb95)]);_0x20f139&&(_0x24a912['innerHTML']=_0x74c7ff(0x572));throw _0x4c4cae;}finally{_0x23bd54['classList']['add'](_0x74c7ff(0xcc2)),document[_0x74c7ff(0x815)]('generate-from-topic-btn')[_0x74c7ff(0x44b)]=![],document[_0x74c7ff(0x815)](_0x74c7ff(0x7c0))[_0x74c7ff(0x44b)]=![],document[_0x74c7ff(0x815)]('generate-from-link-btn')[_0x74c7ff(0x44b)]=![];if(_0x302e03)_0x302e03[_0x74c7ff(0x44b)]=![];if(_0x4bf78f)_0x4bf78f[_0x74c7ff(0x44b)]=![];if(_0x4b344b)_0x4b344b['disabled']=![];}}function exitFullscreen(){const _0x43d720=_0x230ac1;if(document[_0x43d720(0xbe7)])document[_0x43d720(0xbe7)]()[_0x43d720(0xb5c)](_0x28c6d1=>console[_0x43d720(0x1b6)](_0x28c6d1));else{if(document[_0x43d720(0x348)])document[_0x43d720(0x348)]();else document[_0x43d720(0xb7f)]&&document[_0x43d720(0xb7f)]();}}function enterFullscreen(){const _0xafd41e=_0x230ac1,_0x4f2ad7=document[_0xafd41e(0x3fe)];if(_0x4f2ad7['requestFullscreen'])_0x4f2ad7[_0xafd41e(0xa13)]()['catch'](_0x525449=>{const _0x15e19a=_0xafd41e;console[_0x15e19a(0x1b6)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x525449[_0x15e19a(0xb95)]+'\x20('+_0x525449[_0x15e19a(0xcc9)]+')');});else{if(_0x4f2ad7[_0xafd41e(0xba8)])_0x4f2ad7['webkitRequestFullscreen']();else _0x4f2ad7[_0xafd41e(0x738)]&&_0x4f2ad7['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x9a2506=_0x230ac1;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x9a2506(0xc7a),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x9a2506(0x241)+maxCheatAttempts+_0x9a2506(0x5dc)),document[_0x9a2506(0x815)](_0x9a2506(0xba6))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x9a2506(0x8d5)](_0x9a2506(0x36a),handleVisibilityChange),document[_0x9a2506(0x8d5)](_0x9a2506(0x377),handleFullscreenChange)):showMessage(_0x9a2506(0xd4c)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x58b518=_0x230ac1;if(currentMode===_0x58b518(0xb1b)||!isQuizActive)return;if(document[_0x58b518(0x2b4)]==='hidden')handleCheatingEvent();else document[_0x58b518(0x2b4)]==='visible'&&(console[_0x58b518(0x1cf)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x319df3,_0x4b02d5=null,_0x11f77e=null){const _0x406284=_0x230ac1,_0xae9920=document['getElementById']('generated-quiz-container');let _0x2d1b18='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x319df3[_0x406284(0xbdd)]+_0x406284(0x7da);_0x319df3[_0x406284(0x746)][_0x406284(0xdec)]((_0x57ce5d,_0x5e048e)=>{const _0x5b8abb=_0x406284;!_0x57ce5d['id']&&(_0x57ce5d['id']='q_'+Date[_0x5b8abb(0x7be)]()+'_'+_0x5e048e);const _0x5d40eb=_0x57ce5d[_0x5b8abb(0x1f4)]||_0x319df3[_0x5b8abb(0x1c2)];_0x2d1b18+=_0x5b8abb(0x349)+_0x5e048e+_0x5b8abb(0xc17)+_0x5e048e+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5e048e+_0x5b8abb(0x61d);_0x5d40eb===_0x5b8abb(0x52a)?_0x2d1b18+=_0x5b8abb(0xdb7)+_0x5e048e+'\x22>'+(_0x5e048e+0x1)+'.\x20'+_0x57ce5d[_0x5b8abb(0x212)]+_0x5b8abb(0x1fb):_0x2d1b18+=_0x5b8abb(0xdb7)+_0x5e048e+'\x22>'+(_0x5e048e+0x1)+'.\x20'+_0x57ce5d[_0x5b8abb(0xef8)]+_0x5b8abb(0x1fb);_0x57ce5d['imageCode']&&(_0x2d1b18+='<div\x20id=\x22q-image-container-'+_0x5e048e+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x57ce5d[_0x5b8abb(0x74b)]+_0x5b8abb(0xcb3));if(_0x57ce5d[_0x5b8abb(0xa9c)]&&Array[_0x5b8abb(0xddf)](_0x57ce5d[_0x5b8abb(0xa9c)])&&_0x57ce5d[_0x5b8abb(0xa9c)][_0x5b8abb(0xe93)]>0x0)_0x2d1b18+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x5e048e+_0x5b8abb(0xb6c)+_0x57ce5d[_0x5b8abb(0xa9c)][_0x5b8abb(0xe07)]((_0x3ce845,_0x4b652e)=>_0x5b8abb(0x38a)+(_0x4b652e===_0x57ce5d[_0x5b8abb(0xdfa)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x3ce845+_0x5b8abb(0x23c))[_0x5b8abb(0x885)]('')+_0x5b8abb(0xb0c);else{if(_0x5d40eb===_0x5b8abb(0x52a)||_0x57ce5d['correctResponse'])_0x2d1b18+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x5e048e+'\x22>'+_0x57ce5d[_0x5b8abb(0xa50)]+_0x5b8abb(0x1ff);else{if(_0x5d40eb===_0x5b8abb(0xcba)||typeof _0x57ce5d[_0x5b8abb(0x68b)]==='boolean')_0x2d1b18+=_0x5b8abb(0xc6b)+(_0x57ce5d[_0x5b8abb(0x68b)]===!![]?_0x5b8abb(0xb86):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x57ce5d[_0x5b8abb(0x68b)]===![]?'text-green-600\x20font-bold':'')+_0x5b8abb(0x742);else _0x57ce5d['idealAnswer']?_0x2d1b18+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x5e048e+'\x22>'+_0x57ce5d[_0x5b8abb(0x46d)]+_0x5b8abb(0x1ff):_0x2d1b18+=_0x5b8abb(0xea0);}}_0x2d1b18+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5e048e+'\x22>'+_0x57ce5d['explanation']+_0x5b8abb(0x1ff),_0x2d1b18+=_0x5b8abb(0xcb3);}),_0x2d1b18+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0xae9920[_0x406284(0x63b)]=_0x2d1b18,document[_0x406284(0x8c8)]('.edit-question-btn')[_0x406284(0xdec)](_0x5982b5=>_0x5982b5[_0x406284(0x7b7)](_0x406284(0x7a5),handleEditQuestion)),document['querySelectorAll'](_0x406284(0x1db))['forEach'](_0x59881b=>_0x59881b[_0x406284(0x7b7)](_0x406284(0x7a5),handleRegenerateQuestion)),document[_0x406284(0x815)](_0x406284(0x26b))['addEventListener'](_0x406284(0x7a5),exportQuizAsWorksheetPDF),document[_0x406284(0x815)](_0x406284(0x9d1))['addEventListener'](_0x406284(0x7a5),handleVerifyAnswers);const _0xdbe442=document['getElementById'](_0x406284(0x279));if(_0xdbe442){const _0x336d24=_0x4b02d5||currentProjectId;_0xdbe442[_0x406284(0x7b7)](_0x406284(0x7a5),()=>saveQuiz(_0x336d24,_0x11f77e));}if(window[_0x406284(0x67a)])window[_0x406284(0x67a)]['typesetPromise']([_0xae9920]);}function handleRegenerateQuestion(_0x415661){const _0x576f85=_0x230ac1,_0x120760=_0x415661['currentTarget'][_0x576f85(0x5ff)][_0x576f85(0x677)],_0x2d85bf=currentQuizData[_0x576f85(0xbdd)];showMessage(_0x576f85(0x98f)+(parseInt(_0x120760)+0x1)+_0x576f85(0x942)),generateQuiz(_0x2d85bf,null,parseInt(_0x120760));}function getPointerPosition(_0x3ad3db,_0x3289b9){const _0x2f912f=_0x230ac1,_0x4e66fe=_0x3ad3db[_0x2f912f(0x2b9)]();let _0x470ba6,_0x5de154;return _0x3289b9['touches']&&_0x3289b9[_0x2f912f(0x76e)][_0x2f912f(0xe93)]>0x0?(_0x470ba6=_0x3289b9[_0x2f912f(0x76e)][0x0][_0x2f912f(0x5d4)],_0x5de154=_0x3289b9[_0x2f912f(0x76e)][0x0][_0x2f912f(0x6e2)]):(_0x470ba6=_0x3289b9[_0x2f912f(0x5d4)],_0x5de154=_0x3289b9[_0x2f912f(0x6e2)]),{'x':(_0x470ba6-_0x4e66fe['e'])/_0x4e66fe['a'],'y':(_0x5de154-_0x4e66fe['f'])/_0x4e66fe['d']};}function startDrag(_0x276f03){const _0x2a19e8=_0x230ac1;_0x276f03[_0x2a19e8(0x444)]==='touchstart'&&_0x276f03[_0x2a19e8(0x896)]();const _0x66f43=_0x276f03[_0x2a19e8(0x3d1)][_0x2a19e8(0xa28)](_0x2a19e8(0x52b));if(_0x66f43){draggedSvgElement=_0x66f43;const _0x4fd896=draggedSvgElement['ownerSVGElement'],_0x2f2097=getPointerPosition(_0x4fd896,_0x276f03);svgOffset['x']=_0x2f2097['x']-parseFloat(draggedSvgElement[_0x2a19e8(0xa16)](null,'x')),svgOffset['y']=_0x2f2097['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x3ec346,_0x581908){const _0x57c796=_0x230ac1,_0x58b7f4={};if(_0x581908['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2cfb67=[..._0x581908][_0x57c796(0xa6f)]((_0x55de44,_0x233ac5)=>{const _0x224586=_0x57c796,_0x31a7b1=_0x233ac5['latestScore']-_0x55de44['latestScore'];if(_0x31a7b1!==0x0)return _0x31a7b1;const _0xb10bf4=_0x55de44[_0x224586(0x1da)]?.[_0x224586(0xe93)]||0x1,_0x3b9514=_0x233ac5[_0x224586(0x1da)]?.[_0x224586(0xe93)]||0x1,_0x327f21=_0xb10bf4-_0x3b9514;if(_0x327f21!==0x0)return _0x327f21;const _0x4da9de=new Date(_0x55de44[_0x224586(0x9ee)]),_0x4d6b48=new Date(_0x233ac5['latestSubmittedAt']),_0x4e17ba=_0x4da9de-_0x4d6b48;if(_0x4e17ba!==0x0)return _0x4e17ba;return _0x55de44[_0x224586(0x455)][_0x224586(0xdc1)](_0x233ac5[_0x224586(0x455)],'th');}),_0x31d801=_0x2cfb67[_0x57c796(0xe93)],_0x4960e4=Math[_0x57c796(0x526)](0x1,Math[_0x57c796(0x599)](_0x31d801*0.33));if(_0x4960e4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5d29d9=_0x2cfb67['slice'](0x0,_0x4960e4),_0x5a44b8=_0x2cfb67[_0x57c796(0xc26)](-_0x4960e4),_0x24adcb=_0x5d29d9[_0x57c796(0xe07)](_0xadb616=>_0xadb616[_0x57c796(0x455)]),_0x3a234f=_0x5a44b8['map'](_0x49371e=>_0x49371e['studentName']);return _0x3ec346[_0x57c796(0x746)][_0x57c796(0xdec)]((_0x3ed57b,_0x47908c)=>{const _0x5a8c57=_0x57c796,_0x496382=_0x3ed57b[_0x5a8c57(0x212)]||_0x3ed57b['questionText'];let _0x53e80f=0x0,_0x53b009=0x0,_0x285410=0x0;const _0x42c41e=[],_0x1bfb59=[];_0x5d29d9[_0x5a8c57(0xdec)](_0x4191f8=>{const _0x34fdfe=_0x5a8c57,_0x5e582a=_0x4191f8[_0x34fdfe(0x1da)][_0x4191f8[_0x34fdfe(0x1da)][_0x34fdfe(0xe93)]-0x1],_0x578af3=_0x5e582a[_0x34fdfe(0x7d9)][_0x34fdfe(0x5eb)](_0x3c073c=>_0x3c073c[_0x34fdfe(0x6c2)]===_0x496382);_0x42c41e[_0x34fdfe(0xacf)]({'name':_0x4191f8[_0x34fdfe(0x455)],'isCorrect':_0x578af3?_0x578af3[_0x34fdfe(0x6d1)]:![]}),_0x578af3&&_0x578af3[_0x34fdfe(0x6d1)]&&_0x53b009++;}),_0x5a44b8[_0x5a8c57(0xdec)](_0x16c74f=>{const _0x34261e=_0x5a8c57,_0x3ede86=_0x16c74f['attempts'][_0x16c74f[_0x34261e(0x1da)][_0x34261e(0xe93)]-0x1],_0x2bc901=_0x3ede86[_0x34261e(0x7d9)][_0x34261e(0x5eb)](_0x4924f3=>_0x4924f3[_0x34261e(0x6c2)]===_0x496382);_0x1bfb59[_0x34261e(0xacf)]({'name':_0x16c74f[_0x34261e(0x455)],'isCorrect':_0x2bc901?_0x2bc901[_0x34261e(0x6d1)]:![]}),_0x2bc901&&_0x2bc901[_0x34261e(0x6d1)]&&_0x285410++;}),_0x581908[_0x5a8c57(0xdec)](_0x2b2e70=>{const _0x55ce5d=_0x5a8c57,_0x43e4a1=_0x2b2e70[_0x55ce5d(0x1da)][_0x2b2e70[_0x55ce5d(0x1da)]['length']-0x1],_0x192b0c=_0x43e4a1[_0x55ce5d(0x7d9)][_0x55ce5d(0x5eb)](_0x2d6646=>_0x2d6646[_0x55ce5d(0x6c2)]===_0x496382);_0x192b0c&&_0x192b0c[_0x55ce5d(0x6d1)]&&_0x53e80f++;});const _0x54bf52=_0x31d801>0x0?_0x53e80f/_0x31d801:0x0,_0x5ef3be=_0x4960e4>0x0?_0x53b009/_0x4960e4-_0x285410/_0x4960e4:0x0;_0x58b7f4[_0x47908c]={'p':_0x54bf52,'r':_0x5ef3be,'upperGroupResponders':_0x42c41e,'lowerGroupResponders':_0x1bfb59};}),{'perQuestionStats':_0x58b7f4,'overallGroups':{'upperGroupNames':_0x24adcb,'lowerGroupNames':_0x3a234f}};}function drag(_0x55e07f){const _0x48aed6=_0x230ac1;if(draggedSvgElement){_0x55e07f[_0x48aed6(0x896)]();const _0x182421=draggedSvgElement[_0x48aed6(0x79b)],_0x1c21e5=getPointerPosition(_0x182421,_0x55e07f),_0x2c01a2=_0x182421['viewBox'][_0x48aed6(0x556)];let _0x86eada=_0x1c21e5['x']-svgOffset['x'],_0x330136=_0x1c21e5['y']-svgOffset['y'];const _0x17f759=draggedSvgElement[_0x48aed6(0xeff)]();_0x86eada=Math[_0x48aed6(0x526)](_0x2c01a2['x'],Math[_0x48aed6(0x4f5)](_0x86eada,_0x2c01a2['x']+_0x2c01a2[_0x48aed6(0x26c)]-_0x17f759[_0x48aed6(0x26c)])),_0x330136=Math[_0x48aed6(0x526)](_0x2c01a2['y'],Math['min'](_0x330136,_0x2c01a2['y']+_0x2c01a2[_0x48aed6(0x329)]-_0x17f759[_0x48aed6(0x329)])),draggedSvgElement[_0x48aed6(0x30f)](null,'x',_0x86eada),draggedSvgElement[_0x48aed6(0x30f)](null,'y',_0x330136);}}function endDrag(_0x40e5ea){draggedSvgElement=null;}function handleSvgEditClick(_0x37c70d){const _0x419f25=_0x230ac1;if(_0x37c70d[_0x419f25(0x3d1)]['classList']['contains'](_0x419f25(0xaa7))){const _0x31c00a=_0x37c70d[_0x419f25(0x3d1)][_0x419f25(0x5ff)][_0x419f25(0xa59)],_0x4eba35=_0x37c70d['currentTarget'],_0x3d6d5d=_0x4eba35[_0x419f25(0xd27)]('#'+_0x31c00a);_0x3d6d5d&&_0x3d6d5d[_0x419f25(0xb0b)](),_0x37c70d[_0x419f25(0x3d1)]['remove']();}}function handleEditQuestion(_0x1a8c32){const _0x53e1d8=_0x230ac1,_0x57e407=_0x1a8c32[_0x53e1d8(0xda1)],_0x435e8a=_0x57e407['dataset'][_0x53e1d8(0x677)],_0x201609=currentQuizData['questions'][_0x435e8a],_0x3f470a=document[_0x53e1d8(0x815)](_0x53e1d8(0x322)+_0x435e8a),_0xca5e3f=document[_0x53e1d8(0x815)]('q-explanation-'+_0x435e8a),_0x4631dc=document['getElementById'](_0x53e1d8(0xca7)+_0x435e8a);if(_0x57e407['innerHTML'][_0x53e1d8(0x8f3)](_0x53e1d8(0x9cb))){_0x57e407[_0x53e1d8(0x63b)]=_0x53e1d8(0x5e3),_0x57e407[_0x53e1d8(0x8dd)]=_0x53e1d8(0x45b);if(_0x3f470a)_0x3f470a['contentEditable']=!![];if(_0xca5e3f)_0xca5e3f[_0x53e1d8(0xcde)]=!![];if(_0x4631dc){const _0x48751c=_0x4631dc[_0x53e1d8(0xd27)]('svg');if(_0x48751c){const _0x105508=_0x48751c[_0x53e1d8(0x8c8)](_0x53e1d8(0x317));_0x105508[_0x53e1d8(0xdec)]((_0x55e985,_0x16ca9c)=>{const _0x4840a8=_0x53e1d8,_0x4bc221=_0x4840a8(0x90d)+_0x435e8a+'-'+_0x16ca9c;_0x55e985['id']=_0x4bc221,_0x55e985[_0x4840a8(0xeac)][_0x4840a8(0x4db)](_0x4840a8(0x8c3)),_0x55e985['style'][_0x4840a8(0x4f8)]=_0x4840a8(0x9af);const _0x15b433=document[_0x4840a8(0x6ff)](_0x4840a8(0x589),'circle'),_0x38f680=_0x55e985[_0x4840a8(0xeff)]();_0x15b433['setAttribute']('cx',String(_0x38f680['x']+_0x38f680[_0x4840a8(0x26c)]+0x5)),_0x15b433[_0x4840a8(0x6e5)]('cy',String(_0x38f680['y']+_0x38f680[_0x4840a8(0x329)]/0x2-0x5)),_0x15b433[_0x4840a8(0x6e5)]('r','5'),_0x15b433['setAttribute'](_0x4840a8(0x88d),_0x4840a8(0xe9c)),_0x15b433[_0x4840a8(0x6e5)](_0x4840a8(0x298),_0x4840a8(0xaa7)),_0x15b433[_0x4840a8(0x5ff)][_0x4840a8(0xa59)]=_0x4bc221,_0x55e985[_0x4840a8(0xec3)](_0x15b433);}),_0x48751c[_0x53e1d8(0x7b7)](_0x53e1d8(0xdbb),startDrag),_0x48751c[_0x53e1d8(0x7b7)](_0x53e1d8(0xcc6),drag),_0x48751c[_0x53e1d8(0x7b7)](_0x53e1d8(0xceb),endDrag),_0x48751c[_0x53e1d8(0x7b7)](_0x53e1d8(0xdc9),endDrag),_0x48751c[_0x53e1d8(0x7b7)]('touchstart',startDrag,{'passive':![]}),_0x48751c[_0x53e1d8(0x7b7)]('touchmove',drag,{'passive':![]}),_0x48751c['addEventListener'](_0x53e1d8(0x5d9),endDrag),_0x48751c[_0x53e1d8(0x7b7)]('touchcancel',endDrag),_0x48751c[_0x53e1d8(0x7b7)](_0x53e1d8(0x7a5),handleSvgEditClick);}}if(_0x3f470a)_0x3f470a[_0x53e1d8(0xca2)]();}else{_0x57e407['innerHTML']='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x57e407[_0x53e1d8(0x8dd)]=_0x53e1d8(0x76f);if(_0x3f470a){_0x3f470a['contentEditable']=![];const _0x359b2a=_0x201609[_0x53e1d8(0x1f4)]||currentQuizData[_0x53e1d8(0x1c2)];_0x359b2a===_0x53e1d8(0x52a)?_0x201609[_0x53e1d8(0x212)]=_0x3f470a[_0x53e1d8(0xc52)][_0x53e1d8(0xbc9)](_0x3f470a[_0x53e1d8(0xc52)][_0x53e1d8(0x73c)]('.')+0x2)['trim']():_0x201609['questionText']=_0x3f470a[_0x53e1d8(0xc52)][_0x53e1d8(0xbc9)](_0x3f470a[_0x53e1d8(0xc52)]['indexOf']('.')+0x2)['trim']();}_0xca5e3f&&(_0xca5e3f[_0x53e1d8(0xcde)]=![],_0x201609[_0x53e1d8(0xc14)]=_0xca5e3f['innerText']);if(_0x4631dc){const _0x4d5732=_0x4631dc[_0x53e1d8(0xd27)](_0x53e1d8(0x469));if(_0x4d5732){const _0xed256a=_0x4d5732[_0x53e1d8(0x878)](!![]);_0xed256a[_0x53e1d8(0x8c8)](_0x53e1d8(0xced))[_0x53e1d8(0xdec)](_0x5b7469=>_0x5b7469[_0x53e1d8(0xb0b)]()),_0xed256a[_0x53e1d8(0x8c8)](_0x53e1d8(0x52b))[_0x53e1d8(0xdec)](_0x402865=>{const _0x325e01=_0x53e1d8;_0x402865[_0x325e01(0xeac)][_0x325e01(0xb0b)](_0x325e01(0x8c3)),_0x402865[_0x325e01(0x205)][_0x325e01(0x4f8)]=_0x325e01(0x69f),_0x402865[_0x325e01(0x22f)]('id');}),_0x201609[_0x53e1d8(0x74b)]=_0xed256a[_0x53e1d8(0x4d1)],_0x4d5732['removeEventListener']('mousedown',startDrag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0xcc6),drag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0xceb),endDrag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0xdc9),endDrag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0xec9),startDrag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0x3d2),drag),_0x4d5732[_0x53e1d8(0x8d5)](_0x53e1d8(0x5d9),endDrag),_0x4d5732[_0x53e1d8(0x8d5)]('touchcancel',endDrag),_0x4d5732[_0x53e1d8(0x8d5)]('click',handleSvgEditClick),_0x4d5732[_0x53e1d8(0x8c8)](_0x53e1d8(0xced))['forEach'](_0x37af95=>_0x37af95[_0x53e1d8(0xb0b)]()),_0x4d5732['querySelectorAll'](_0x53e1d8(0x52b))[_0x53e1d8(0xdec)](_0x26b86c=>{const _0x54d835=_0x53e1d8;_0x26b86c[_0x54d835(0xeac)]['remove'](_0x54d835(0x8c3)),_0x26b86c['style'][_0x54d835(0x4f8)]=_0x54d835(0x69f);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x203c6c){const _0x9f7fc=_0x230ac1,_0x4b5ccf=document[_0x9f7fc(0x815)](_0x9f7fc(0x309)),_0x19583c=document['getElementById'](_0x9f7fc(0xc66));_0x19583c[_0x9f7fc(0x63b)]=_0x9f7fc(0x4b8),_0x4b5ccf[_0x9f7fc(0xeac)][_0x9f7fc(0xb0b)](_0x9f7fc(0xcc2));try{const _0x46174f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x203c6c),_0xf6c51e=await getDoc(_0x46174f);if(!_0xf6c51e['exists']())throw new Error(_0x9f7fc(0x3a5));currentEditingQuizData={'id':_0x203c6c,..._0xf6c51e['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x589954){console['error'](_0x9f7fc(0x61b),_0x589954),showMessage(_0x9f7fc(0xa1e)),_0x4b5ccf[_0x9f7fc(0xeac)][_0x9f7fc(0x4db)]('hidden');}}function renderQuizEditor(_0x3b94cb){const _0x37507f=_0x230ac1;document['getElementById'](_0x37507f(0x4d0))['value']=_0x3b94cb[_0x37507f(0xbdd)];const _0xbbfc46=document[_0x37507f(0x815)]('quiz-editor-questions-container');let _0x312bb6=_0x3b94cb[_0x37507f(0x746)][_0x37507f(0xe07)]((_0x56eb85,_0x2eaf21)=>{const _0x5a874c=_0x37507f;let _0x3c4008='';const _0x3a32fb=_0x56eb85['questionType']||_0x3b94cb['quizType'],_0x493558=(_0x3a32fb===_0x5a874c(0x270)||_0x3a32fb===_0x5a874c(0x934))&&_0x56eb85[_0x5a874c(0xa9c)]&&_0x56eb85[_0x5a874c(0xa9c)][_0x5a874c(0xe93)]>0x0;switch(_0x3a32fb){case _0x5a874c(0x653):const _0x3767dc=(_0x56eb85[_0x5a874c(0xa9c)]||[])['map']((_0x3a7e0e,_0x55573a)=>_0x5a874c(0xc81)+_0x2eaf21+_0x5a874c(0xc21)+_0x55573a+'\x22\x20'+(_0x55573a===_0x56eb85[_0x5a874c(0xdfa)]?'checked':'')+_0x5a874c(0xcef)+_0x3a7e0e+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a874c(0x885)]('');_0x3c4008=_0x5a874c(0x233)+_0x3767dc+_0x5a874c(0xd8d);break;case _0x5a874c(0x934):case'short_answer':_0x3c4008='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x56eb85['idealAnswer']||'')+_0x5a874c(0x945);if(_0x493558){const _0x2c6787=(_0x56eb85[_0x5a874c(0xa9c)]||[])[_0x5a874c(0xe07)]((_0x3026e1,_0x57f95b)=>_0x5a874c(0xe08)+_0x2eaf21+_0x5a874c(0xc21)+_0x57f95b+'\x22\x20'+(_0x57f95b===_0x56eb85[_0x5a874c(0xdfa)]?_0x5a874c(0xdaf):'')+_0x5a874c(0x40c)+_0x3026e1+_0x5a874c(0xcbf))['join']('');_0x3c4008+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>'+_0x2c6787+_0x5a874c(0xa7f);}break;case'true_false':_0x3c4008='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2eaf21+_0x5a874c(0x5ca)+(_0x56eb85[_0x5a874c(0x68b)]===!![]?_0x5a874c(0xdaf):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2eaf21+_0x5a874c(0x2ce)+(_0x56eb85['correctAnswer']===![]?_0x5a874c(0xdaf):'')+_0x5a874c(0x72c);break;case _0x5a874c(0x52a):_0x3c4008=_0x5a874c(0x621)+(_0x56eb85['correctResponse']||'')+_0x5a874c(0x648);break;}let _0x4e6a7e=_0x56eb85[_0x5a874c(0xef8)]||_0x56eb85['stem']||'';_0x4e6a7e=_0x4e6a7e[_0x5a874c(0xeef)](/<br\s*\/?>/gi,'\x0a');let _0x43059d='';if(_0x3a32fb==='multiple_choice')_0x43059d='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';else _0x493558&&(_0x43059d=_0x5a874c(0x3c0));return _0x5a874c(0xeb0)+_0x2eaf21+_0x5a874c(0xa72)+_0x3a32fb+_0x5a874c(0x99d)+_0x43059d+_0x5a874c(0x9f7)+(_0x2eaf21+0x1)+'\x20('+_0x3a32fb+_0x5a874c(0x716)+_0x4e6a7e+_0x5a874c(0xc1e)+_0x3c4008+_0x5a874c(0x9b1);})[_0x37507f(0x885)]('');_0xbbfc46[_0x37507f(0x63b)]=_0x312bb6;const _0x3364ce=_0x37507f(0x396);_0xbbfc46[_0x37507f(0xe94)](_0x37507f(0xe04),_0x3364ce),_0xbbfc46[_0x37507f(0x8c8)]('.auto-resize-textarea')[_0x37507f(0xdec)](_0x528c13=>{const _0x11e76f=_0x37507f;_0x528c13['style'][_0x11e76f(0x676)]=_0x11e76f(0xcc2),_0x528c13['style'][_0x11e76f(0xe90)]=_0x11e76f(0xec7),_0x528c13[_0x11e76f(0xee1)]=0x4;const _0x42d957=()=>{const _0xbfc97=_0x11e76f;_0x528c13['style'][_0xbfc97(0x329)]='auto',_0x528c13['style']['height']=_0x528c13[_0xbfc97(0xd42)]+'px';};_0x528c13[_0x11e76f(0x7b7)](_0x11e76f(0xa61),_0x42d957),_0x42d957();}),_0xbbfc46[_0x37507f(0x8c8)]('.ai-fix-question-btn')[_0x37507f(0xdec)](_0x27ef8e=>{const _0x1b83f7=_0x37507f;_0x27ef8e['addEventListener'](_0x1b83f7(0x7a5),handleAiFixQuestion);}),_0xbbfc46['querySelectorAll'](_0x37507f(0x91e))[_0x37507f(0xdec)](_0x35ff91=>{const _0x4325ee=_0x37507f;_0x35ff91['addEventListener'](_0x4325ee(0x7a5),_0x158af9=>{const _0x15be55=_0x4325ee,_0x569c69=parseInt(_0x158af9[_0x15be55(0xda1)][_0x15be55(0xa28)](_0x15be55(0xbbb))[_0x15be55(0x5ff)][_0x15be55(0x449)],0xa);handleAiFixFormula(_0x569c69);});}),_0xbbfc46[_0x37507f(0x8c8)](_0x37507f(0x7c6))[_0x37507f(0xdec)](_0x3728e4=>{const _0x5c810d=_0x37507f;_0x3728e4[_0x5c810d(0x7b7)](_0x5c810d(0x7a5),_0x13672d=>{const _0x355eec=_0x5c810d,_0xc95ce7=parseInt(_0x13672d[_0x355eec(0xda1)][_0x355eec(0xa28)](_0x355eec(0xbbb))[_0x355eec(0x5ff)][_0x355eec(0x449)],0xa);handleToggleHiddenOptions(_0xc95ce7);});});}function handleToggleHiddenOptions(_0x1eac6a){const _0x32a618=_0x230ac1;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x1eac6a])return;const _0xc90420=currentEditingQuizData[_0x32a618(0x746)][_0x1eac6a],_0x59c0e0=_0xc90420[_0x32a618(0x1f4)]||_0x32a618(0x653),_0x5e418d=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x1eac6a+'\x22]');if(_0x5e418d){_0xc90420[_0x32a618(0xef8)]=_0x5e418d[_0x32a618(0xd27)](_0x32a618(0xc5b))[_0x32a618(0xdd7)];if(_0x59c0e0==='multiple_choice'){const _0x45ca56=_0x5e418d[_0x32a618(0x8c8)](_0x32a618(0x514));_0xc90420['options']=Array[_0x32a618(0x488)](_0x45ca56)[_0x32a618(0xe07)](_0x59d9ab=>_0x59d9ab['value']);const _0x55c314=_0x5e418d[_0x32a618(0xd27)](_0x32a618(0x489));if(_0x55c314)_0xc90420[_0x32a618(0xdfa)]=parseInt(_0x55c314[_0x32a618(0xdd7)]);}else{if(_0x59c0e0==='short_answer'||_0x59c0e0===_0x32a618(0x934)){const _0x25a3d2=_0x5e418d['querySelector'](_0x32a618(0xa10));if(_0x25a3d2)_0xc90420[_0x32a618(0x46d)]=_0x25a3d2[_0x32a618(0xdd7)];const _0xd7ea89=_0x5e418d['querySelectorAll'](_0x32a618(0xa29));_0xd7ea89[_0x32a618(0xe93)]>0x0&&(_0xc90420[_0x32a618(0xa9c)]=Array[_0x32a618(0x488)](_0xd7ea89)[_0x32a618(0xe07)](_0x1c7489=>_0x1c7489[_0x32a618(0xdd7)]));}}}_0x59c0e0===_0x32a618(0x653)?(_0xc90420[_0x32a618(0x1f4)]=_0x32a618(0x270),_0xc90420[_0x32a618(0xa9c)]&&_0xc90420['correctAnswerIndex']!==undefined&&(_0xc90420[_0x32a618(0x46d)]=_0xc90420[_0x32a618(0xa9c)][_0xc90420[_0x32a618(0xdfa)]]||'')):_0xc90420['questionType']=_0x32a618(0x653),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0xf26fed){const _0x1dd3a9=_0x230ac1;if(!currentEditingQuizData||!currentEditingQuizData[_0x1dd3a9(0x746)][_0xf26fed])return;const _0x3862b2=currentEditingQuizData[_0x1dd3a9(0x746)][_0xf26fed][_0x1dd3a9(0xef8)]||currentEditingQuizData[_0x1dd3a9(0x746)][_0xf26fed]['stem'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0xf26fed+0x1)+_0x1dd3a9(0xb06)+_0x3862b2[_0x1dd3a9(0xbc9)](0x0,0x14)+'...\x22)?',()=>{const _0x23604d=_0x1dd3a9;currentEditingQuizData['questions'][_0x23604d(0x913)](_0xf26fed,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x111fdf=_0x230ac1;if(!currentEditingQuizData)return;const _0x3d1a55=document[_0x111fdf(0x815)](_0x111fdf(0xc5a)),_0x183026=_0x3d1a55?_0x3d1a55['value']:_0x111fdf(0x653);let _0x3f5717={'id':'q_'+Date[_0x111fdf(0x7be)]()+_0x111fdf(0x8b2),'questionType':_0x183026,'questionText':_0x111fdf(0xee6),'explanation':_0x111fdf(0x9b3)};switch(_0x183026){case'multiple_choice':_0x3f5717['options']=[_0x111fdf(0x415),_0x111fdf(0xbd4),'ตัวเลือก\x20ค',_0x111fdf(0xace)],_0x3f5717['correctAnswerIndex']=0x0;break;case _0x111fdf(0x270):case'fill_in_no_choices':_0x3f5717[_0x111fdf(0x46d)]='คำตอบที่ถูกต้อง';break;case _0x111fdf(0xcba):_0x3f5717[_0x111fdf(0x68b)]=!![];break;case _0x111fdf(0x52a):_0x3f5717[_0x111fdf(0x212)]=_0x111fdf(0xca5),_0x3f5717['correctResponse']='คู่คำตอบ...',_0x3f5717[_0x111fdf(0xef8)]=_0x111fdf(0xca5);break;}currentEditingQuizData['questions']['push'](_0x3f5717),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0xce1b19=_0x111fdf,_0x16354a=document[_0xce1b19(0xd27)](_0xce1b19(0x810));if(_0x16354a){_0x16354a[_0xce1b19(0x984)]({'behavior':_0xce1b19(0x8d4),'block':_0xce1b19(0xc2a)});const _0x297dcd=_0x16354a['querySelector'](_0xce1b19(0xc5b));if(_0x297dcd)_0x297dcd[_0xce1b19(0xca2)]();}},0x64);}async function handleAiFixQuestion(_0x2dc9b7){const _0x56b9af=_0x230ac1,_0x85f4e=_0x2dc9b7[_0x56b9af(0xda1)],_0x27e47e=_0x85f4e[_0x56b9af(0xa28)](_0x56b9af(0xbbb));if(!_0x27e47e)return;const _0x37e78c=parseInt(_0x27e47e[_0x56b9af(0x5ff)][_0x56b9af(0x449)],0xa);if(isNaN(_0x37e78c)||!currentEditingQuizData['questions'][_0x37e78c]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x318f2e=currentEditingQuizData[_0x56b9af(0x746)][_0x37e78c];_0x85f4e['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x85f4e[_0x56b9af(0x44b)]=!![];const _0x393fed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x56b9af(0xd0a)](_0x318f2e)+_0x56b9af(0x781);let _0x2adb3b;const _0x413491=_0x318f2e['questionType']||currentEditingQuizData['quizType'];switch(_0x413491){case'short_answer':_0x2adb3b={'type':_0x56b9af(0x1eb),'properties':{'questionText':{'type':_0x56b9af(0x324)},'idealAnswer':{'type':_0x56b9af(0x324)},'explanation':{'type':_0x56b9af(0x324)},'imageCode':{'type':_0x56b9af(0x324)}},'required':[_0x56b9af(0xef8),'idealAnswer',_0x56b9af(0xc14)]};break;case'multiple_choice':default:_0x2adb3b={'type':'OBJECT','properties':{'questionText':{'type':_0x56b9af(0x324)},'options':{'type':_0x56b9af(0x2df),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x56b9af(0x324)}},'required':[_0x56b9af(0xef8),'options','correctAnswerIndex','explanation']};break;}try{let _0xb88155=await callAnalysisApi(_0x393fed,_0x2adb3b);_0xb88155[_0x56b9af(0xa9c)]&&Array[_0x56b9af(0xddf)](_0xb88155[_0x56b9af(0xa9c)])&&(_0xb88155['options']=_0xb88155[_0x56b9af(0xa9c)][_0x56b9af(0xe07)](_0x1a7228=>typeof _0x1a7228===_0x56b9af(0x96c)?_0x1a7228[_0x56b9af(0xeef)](/S(\s*[\d_]+?\s*)S/g,_0x56b9af(0xdaa)):_0x1a7228)),_0x318f2e[_0x56b9af(0x74b)]&&_0x318f2e[_0x56b9af(0x74b)][_0x56b9af(0x8f3)](_0x56b9af(0x9e6))&&(_0xb88155['imageCode']=''),currentEditingQuizData[_0x56b9af(0x746)][_0x37e78c]={..._0x318f2e,..._0xb88155},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x3413ac){console[_0x56b9af(0x1b6)](_0x56b9af(0x46e),_0x3413ac),showMessage(_0x56b9af(0x443)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x29301e=_0x230ac1,_0x146570=document['getElementById'](_0x29301e(0x408));_0x146570['disabled']=!![],_0x146570[_0x29301e(0x63b)]=_0x29301e(0x6b8);try{const _0x4120aa=document[_0x29301e(0x815)](_0x29301e(0x4d0))[_0x29301e(0xdd7)],_0x194d2e=document[_0x29301e(0x8c8)]('.question-editor-item');let _0x422ea9=[];const _0x5333f7=Array[_0x29301e(0x488)](_0x194d2e)[_0x29301e(0xe07)]((_0x59d972,_0x4954c3)=>{const _0x541ff3=_0x29301e,_0xb9ec9=_0x59d972[_0x541ff3(0x5ff)][_0x541ff3(0x898)],_0x185645=_0x59d972['querySelector'](_0x541ff3(0xc5b))[_0x541ff3(0xdd7)][_0x541ff3(0xeef)](/\n/g,_0x541ff3(0x5ea));let _0x40a623={'questionType':_0xb9ec9};const _0xadfbba=currentEditingQuizData[_0x541ff3(0x746)][_0x4954c3]||{};switch(_0xb9ec9){case'multiple_choice':_0x40a623[_0x541ff3(0xef8)]=_0x185645;const _0x56e460=_0x59d972[_0x541ff3(0x8c8)](_0x541ff3(0x514));_0x40a623[_0x541ff3(0xa9c)]=Array[_0x541ff3(0x488)](_0x56e460)[_0x541ff3(0xe07)](_0x3cf966=>_0x3cf966[_0x541ff3(0xdd7)]);const _0x1956ae=_0x59d972['querySelector'](_0x541ff3(0x489));_0x40a623[_0x541ff3(0xdfa)]=_0x1956ae?parseInt(_0x1956ae['value']):0x0;break;case _0x541ff3(0x934):case _0x541ff3(0x270):_0x40a623[_0x541ff3(0xef8)]=_0x185645,_0x40a623[_0x541ff3(0x46d)]=_0x59d972[_0x541ff3(0xd27)](_0x541ff3(0xa10))['value'];const _0x2cd57a=_0x59d972[_0x541ff3(0x8c8)](_0x541ff3(0xa29));_0x2cd57a['length']>0x0?(_0x40a623[_0x541ff3(0xa9c)]=Array['from'](_0x2cd57a)['map'](_0x4b829c=>_0x4b829c[_0x541ff3(0xdd7)]),_0xadfbba[_0x541ff3(0xdfa)]!==undefined?_0x40a623[_0x541ff3(0xdfa)]=_0xadfbba['correctAnswerIndex']:_0x40a623[_0x541ff3(0xdfa)]=0x0):(delete _0x40a623[_0x541ff3(0xa9c)],delete _0x40a623[_0x541ff3(0xdfa)]);break;case _0x541ff3(0xcba):_0x40a623[_0x541ff3(0xef8)]=_0x185645;const _0x53b90a=_0x59d972['querySelector'](_0x541ff3(0x489));_0x40a623[_0x541ff3(0x68b)]=_0x53b90a?_0x53b90a[_0x541ff3(0xdd7)]===_0x541ff3(0x2f8):!![];break;case'matching_item':_0x40a623[_0x541ff3(0x212)]=_0x185645;const _0x5b806f=_0x59d972[_0x541ff3(0xd27)]('.correct-response-input');_0x40a623[_0x541ff3(0xa50)]=_0x5b806f?_0x5b806f[_0x541ff3(0xdd7)]:'',_0x422ea9[_0x541ff3(0xacf)](_0x40a623['correctResponse']);break;default:_0x40a623['questionText']=_0x185645;break;}return{..._0xadfbba,..._0x40a623};});_0x422ea9[_0x29301e(0xe93)]>0x0&&_0x5333f7[_0x29301e(0xdec)](_0x2c49d4=>{const _0x251e25=_0x29301e;_0x2c49d4['questionType']===_0x251e25(0x52a)&&(_0x2c49d4[_0x251e25(0x787)]=_0x422ea9);});const _0x215409=currentEditingQuizData['id'],_0x18a034=doc(db,_0x29301e(0x884)+appId+_0x29301e(0x8a2),_0x215409);await updateDoc(_0x18a034,{'topic':_0x4120aa,'questions':_0x5333f7}),document[_0x29301e(0x815)](_0x29301e(0x309))[_0x29301e(0xeac)][_0x29301e(0x4db)](_0x29301e(0xcc2)),showMessage(_0x29301e(0xb1a),()=>initiateReGradeProcess(_0x215409));}catch(_0x3d0204){console[_0x29301e(0x1b6)]('Error\x20saving\x20quiz\x20edits:',_0x3d0204),showMessage(_0x29301e(0x840));}finally{_0x146570[_0x29301e(0x44b)]=![],_0x146570['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x2f5d3d){const _0x473213=_0x230ac1;showMessage(_0x473213(0x274));try{const _0x243e4c=doc(db,'artifacts/'+appId+_0x473213(0x8a2),_0x2f5d3d),_0xc43f9e=await getDoc(_0x243e4c);if(!_0xc43f9e[_0x473213(0x939)]())throw new Error(_0x473213(0x66e));const _0x29c5aa={'id':_0x2f5d3d,..._0xc43f9e[_0x473213(0xdad)]()},_0x111128=collection(db,'artifacts/'+appId+_0x473213(0x8a2),_0x2f5d3d,_0x473213(0x3d4)),_0x5d3a20=await getDocs(_0x111128);if(_0x5d3a20[_0x473213(0x58b)]){showMessage(_0x473213(0xe0a));return;}const _0x427faf=_0x5d3a20[_0x473213(0xcf8)][_0x473213(0xe07)](_0x20e600=>reGradeSingleSubmission(_0x20e600,_0x29c5aa));await Promise['all'](_0x427faf);if(_0x29c5aa[_0x473213(0x791)]){const _0x3fb734=doc(db,_0x473213(0x884)+appId+'/public/data/projects',_0x29c5aa[_0x473213(0x791)]),_0x3d6e29=await getDoc(_0x3fb734);if(_0x3d6e29['exists']()&&_0x3d6e29['data']()['students']){const _0x592672=_0x3d6e29['data']()[_0x473213(0xa2f)][_0x473213(0xe07)](_0x209b3e=>updateStudentProfile(_0x29c5aa[_0x473213(0x791)],_0x209b3e));await Promise[_0x473213(0x4ad)](_0x592672);}}showMessage(_0x473213(0x239)+_0x5d3a20[_0x473213(0xc1c)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x237ad0){console[_0x473213(0x1b6)](_0x473213(0xa04),_0x237ad0),showMessage(_0x473213(0x1fe)+_0x237ad0[_0x473213(0xb95)]);}}async function reGradeSingleSubmission(_0x2cda2c,_0x4bbf0d){const _0x14c0e0=_0x230ac1,_0x4422c8=_0x2cda2c[_0x14c0e0(0xdad)](),_0x1792be=_0x4422c8[_0x14c0e0(0x455)],_0x46332c=_0x4422c8['attempts']||[],_0x141746=[];for(const _0x1702e9 of _0x46332c){let _0x2b67e7=0x0,_0x3accbb=[],_0x47228e=0x0;const _0x200f74=[];for(const _0x3d300b of _0x1702e9['answers']){let _0x2a4569;_0x3d300b['questionId']&&(_0x2a4569=_0x4bbf0d[_0x14c0e0(0x746)][_0x14c0e0(0x5eb)](_0xdbfafd=>_0xdbfafd['id']===_0x3d300b[_0x14c0e0(0xd60)]));!_0x2a4569&&_0x3d300b[_0x14c0e0(0x6c2)]&&(_0x2a4569=_0x4bbf0d[_0x14c0e0(0x746)][_0x14c0e0(0x5eb)](_0x5572ee=>(_0x5572ee[_0x14c0e0(0x212)]||_0x5572ee['questionText'])===_0x3d300b[_0x14c0e0(0x6c2)]));let _0x30b178=![];if(_0x2a4569){const _0x37aaf1=_0x2a4569[_0x14c0e0(0x1f4)]||_0x4bbf0d[_0x14c0e0(0x1c2)];switch(_0x37aaf1){case _0x14c0e0(0x653):if(_0x2a4569[_0x14c0e0(0xa9c)]&&_0x2a4569[_0x14c0e0(0xdfa)]<_0x2a4569['options'][_0x14c0e0(0xe93)]){const _0xa76511=_0x2a4569['options'][_0x2a4569[_0x14c0e0(0xdfa)]];_0x30b178=_0x3d300b[_0x14c0e0(0xb20)]===_0xa76511;}break;case _0x14c0e0(0xcba):const _0x3fd986=_0x3d300b[_0x14c0e0(0x8cc)]===!![]||_0x3d300b['answer']===_0x14c0e0(0x2f8);_0x30b178=_0x3fd986===_0x2a4569[_0x14c0e0(0x68b)];break;case'matching_item':_0x30b178=_0x3d300b['answer']===_0x2a4569[_0x14c0e0(0xa50)];break;case _0x14c0e0(0x270):_0x30b178=await gradeShortAnswer(_0x3d300b[_0x14c0e0(0x8cc)],_0x2a4569);break;default:_0x30b178=_0x3d300b[_0x14c0e0(0x6d1)];break;}}if(_0x30b178){_0x2b67e7++,_0x47228e++;if(_0x47228e===0x3)_0x3accbb[_0x14c0e0(0xacf)](BADGES[_0x14c0e0(0x727)]['id']);}else _0x47228e=0x0;_0x200f74[_0x14c0e0(0xacf)]({..._0x3d300b,'isCorrect':_0x30b178});}let _0x4ec99e=0x0;const _0x5a0cd7=_0x1702e9[_0x14c0e0(0xbb8)]===!![]||_0x1702e9[_0x14c0e0(0x8f1)]>_0x4bbf0d[_0x14c0e0(0x746)]['length']*0x14;_0x5a0cd7?_0x4ec99e=_0x1702e9[_0x14c0e0(0x8f1)]:(_0x4ec99e=_0x2b67e7*0xa,_0x2b67e7===_0x4bbf0d[_0x14c0e0(0x746)][_0x14c0e0(0xe93)]&&(_0x4ec99e+=0x32,_0x3accbb[_0x14c0e0(0xacf)](BADGES['PERFECT_SCORE']['id']))),_0x141746['push']({..._0x1702e9,'score':_0x2b67e7,'points':_0x4ec99e,'badges':Array['from'](new Set(_0x3accbb)),'answers':_0x200f74});}const _0x49f6e2=_0x141746[_0x14c0e0(0xe93)]>0x0?_0x141746[0x0]['score']:0x0,_0x47b0ef=Math[_0x14c0e0(0x526)](..._0x141746['map'](_0x2c979c=>_0x2c979c[_0x14c0e0(0x6b9)])),_0x27b58d=_0x141746[_0x14c0e0(0xe93)]>0x0?_0x141746[_0x141746[_0x14c0e0(0xe93)]-0x1][_0x14c0e0(0x6b9)]:0x0,_0x41f1cb=_0x141746[_0x14c0e0(0xe93)]>0x0?_0x141746[_0x141746[_0x14c0e0(0xe93)]-0x1]['points']:0x0,_0x2b080d=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4bbf0d['id']+_0x14c0e0(0xb77),_0x1792be);await updateDoc(_0x2b080d,{'attempts':_0x141746,'firstScore':_0x49f6e2,'bestScore':_0x47b0ef,'latestScore':_0x27b58d,'points':_0x41f1cb});}function cleanupQuizOptions(_0x2bcd9c){const _0x101d49=_0x230ac1,_0x2f74be=(_0x1877d9,_0x18140d)=>_0x18140d===0x0?_0x1877d9:_0x2f74be(_0x18140d,_0x1877d9%_0x18140d),_0x205bc5=_0x584f96=>{const _0x2f3212=_0x1143;if(typeof _0x584f96!==_0x2f3212(0x96c))return null;_0x584f96=_0x584f96[_0x2f3212(0x99f)]();const _0x1c0ec6=_0x584f96[_0x2f3212(0x356)](/[ /]/)['filter'](_0x55670f=>_0x55670f!=='');if(_0x1c0ec6[_0x2f3212(0xe93)]===0x3)return parseInt(_0x1c0ec6[0x0])+parseInt(_0x1c0ec6[0x1])/parseInt(_0x1c0ec6[0x2]);else{if(_0x1c0ec6['length']===0x2)return parseInt(_0x1c0ec6[0x0])/parseInt(_0x1c0ec6[0x1]);else{if(_0x1c0ec6[_0x2f3212(0xe93)]===0x1&&!isNaN(_0x1c0ec6[0x0]))return parseFloat(_0x1c0ec6[0x0]);}}return null;},_0x2daf2c=_0x4f0857=>{const _0x46455f=_0x1143;if(typeof _0x4f0857!==_0x46455f(0x96c))return _0x4f0857;const _0x4c1af0=_0x4f0857[_0x46455f(0x79c)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4c1af0){const _0x5bd25e=parseInt(_0x4c1af0[0x1]);let _0x59db1d=parseInt(_0x4c1af0[0x2]),_0x524d25=parseInt(_0x4c1af0[0x3]);const _0xd13fd6=_0x2f74be(_0x59db1d,_0x524d25);_0x59db1d/=_0xd13fd6,_0x524d25/=_0xd13fd6;if(_0x524d25===0x1)return(_0x5bd25e+_0x59db1d)[_0x46455f(0xefe)]();return _0x5bd25e+'\x20'+_0x59db1d+'/'+_0x524d25;}return _0x4f0857;};return _0x2bcd9c&&_0x2bcd9c[_0x101d49(0x746)]&&_0x2bcd9c[_0x101d49(0x746)][_0x101d49(0xdec)](_0x38aedd=>{const _0x398075=_0x101d49;if(_0x38aedd[_0x398075(0x1f4)]===_0x398075(0x653)&&_0x38aedd['options']){const _0x4f3371=new Map(),_0x381b56=_0x38aedd[_0x398075(0xa9c)][_0x38aedd['correctAnswerIndex']];_0x38aedd[_0x398075(0xa9c)]['forEach'](_0xa3e2a7=>{const _0x43a867=_0x398075,_0x486c4c=_0x2daf2c(_0xa3e2a7),_0x4c48b3=_0x205bc5(_0x486c4c);_0x4c48b3!==null&&!_0x4f3371[_0x43a867(0x4ef)](_0x4c48b3)&&_0x4f3371['set'](_0x4c48b3,_0x486c4c);}),_0x38aedd[_0x398075(0xa9c)]=Array[_0x398075(0x488)](_0x4f3371[_0x398075(0xdf2)]());const _0x2ae7e7=_0x38aedd[_0x398075(0xa9c)][_0x398075(0x7cd)](_0x534e7e=>_0x534e7e===_0x2daf2c(_0x381b56));_0x38aedd[_0x398075(0xdfa)]=_0x2ae7e7!==-0x1?_0x2ae7e7:0x0;}}),_0x2bcd9c;}function showGameStartConfirmationModal(_0x4bc5fb,_0xbc6f7d,_0x3ba4f7){const _0x2f41a2=_0x230ac1,_0x1c8898=document[_0x2f41a2(0x815)](_0x2f41a2(0x866));document[_0x2f41a2(0x815)]('game-start-modal-title')[_0x2f41a2(0x587)]='เริ่มกิจกรรม:\x20'+_0x3ba4f7,document['getElementById'](_0x2f41a2(0x608))[_0x2f41a2(0xdd7)]=_0x4bc5fb,document['getElementById']('game-start-mode')['value']=_0xbc6f7d,document['getElementById']('save-game-results-checkbox')['checked']=!![];const _0xd43c2d=document['getElementById'](_0x2f41a2(0xd3e)),_0x17d0dc=document[_0x2f41a2(0x815)](_0x2f41a2(0x568)),_0x1d8b25=document[_0x2f41a2(0x815)](_0x2f41a2(0x560)),_0x540e63=document[_0x2f41a2(0x815)](_0x2f41a2(0x630)),_0x10cb9b=document[_0x2f41a2(0x815)](_0x2f41a2(0xa78));if(_0xbc6f7d===_0x2f41a2(0x4e6)){_0xd43c2d[_0x2f41a2(0xeac)]['remove']('hidden');const _0x34bc6d='anonymous';document['querySelector'](_0x2f41a2(0x64a)+_0x34bc6d+'\x22]')[_0x2f41a2(0xdaf)]=!![];if(_0x10cb9b)_0x10cb9b['classList'][_0x2f41a2(0xb0b)](_0x2f41a2(0xcc2));_0x17d0dc[_0x2f41a2(0xdaf)]=!![],_0x1d8b25['classList'][_0x2f41a2(0xb0b)](_0x2f41a2(0xcc2)),document[_0x2f41a2(0x815)](_0x2f41a2(0xcda))[_0x2f41a2(0xdd7)]=_0x2f41a2(0x31f),_0x540e63['classList']['remove'](_0x2f41a2(0xcc2)),document['getElementById']('enable-black-market-checkbox')[_0x2f41a2(0xdaf)]=!![];}else{_0xd43c2d[_0x2f41a2(0xeac)]['add']('hidden');if(_0x10cb9b)_0x10cb9b[_0x2f41a2(0xeac)][_0x2f41a2(0x4db)](_0x2f41a2(0xcc2));_0x17d0dc[_0x2f41a2(0xdaf)]=![],_0x1d8b25['classList'][_0x2f41a2(0x4db)]('hidden'),_0x540e63[_0x2f41a2(0xeac)][_0x2f41a2(0x4db)](_0x2f41a2(0xcc2));}_0x1c8898['classList']['remove'](_0x2f41a2(0xcc2));}async function saveGameResultsAsSubmissions(_0xb56362){const _0x25b49b=_0x230ac1;if(_0xb56362[_0x25b49b(0x4e8)]){console[_0x25b49b(0x1cf)](_0x25b49b(0xda2));return;}console[_0x25b49b(0x1cf)](_0x25b49b(0x62c),_0xb56362);const _0x46993a=_0xb56362[_0x25b49b(0x6b4)];let _0x18a0fe=[];if(_0xb56362[_0x25b49b(0x9f8)])_0x18a0fe=Object[_0x25b49b(0x626)](_0xb56362[_0x25b49b(0x9f8)])[_0x25b49b(0xe07)](([_0x2593d6,_0x420d0f])=>({'name':_0x2593d6,..._0x420d0f}));else{if(_0xb56362['groups'])Object[_0x25b49b(0xdf2)](_0xb56362[_0x25b49b(0x893)])['forEach'](_0x26f8a5=>{const _0x100166=_0x25b49b;_0x26f8a5[_0x100166(0x4fa)][_0x100166(0xdec)](_0x4f6744=>{const _0x240b5d=_0x100166;_0x18a0fe['push']({'name':_0x4f6744,'score':_0x26f8a5['score'],'answers':_0x26f8a5[_0x240b5d(0x7d9)]});});});else _0xb56362[_0x25b49b(0x276)]&&Object[_0x25b49b(0x626)](_0xb56362[_0x25b49b(0x276)])[_0x25b49b(0xdec)](([_0x75c5dc,_0x1c8e95])=>{_0x18a0fe['push']({'name':_0x75c5dc,..._0x1c8e95});});}if(_0x18a0fe[_0x25b49b(0xe93)]===0x0){console[_0x25b49b(0x86a)]('No\x20players\x20data\x20found\x20to\x20save\x20yet.');return;}const _0x54e04d=_0xb56362[_0x25b49b(0xde5)]?.['questions'][_0x25b49b(0xe93)]||currentQuizData[_0x25b49b(0x746)][_0x25b49b(0xe93)],_0x205336=writeBatch(db);for(const _0x5059ba of _0x18a0fe){const _0x20d0af=doc(db,'artifacts/'+appId+_0x25b49b(0xa60)+_0x46993a+'/submissions',_0x5059ba[_0x25b49b(0xcc9)]),_0x2d6c44=(_0x5059ba[_0x25b49b(0x7d9)]||[])[_0x25b49b(0x320)](_0x2e7352=>_0x2e7352['isCorrect'])[_0x25b49b(0xe93)];let _0x2a2992=_0x5059ba[_0x25b49b(0xa92)]!==undefined?_0x5059ba[_0x25b49b(0xa92)]:_0x2d6c44,_0xee4c98=_0x5059ba['badges']||[];_0x2d6c44===_0x54e04d&&_0x54e04d>0x0&&(!_0xee4c98[_0x25b49b(0x8f3)](_0x25b49b(0x719))&&_0xee4c98[_0x25b49b(0xacf)](_0x25b49b(0x719)));const _0x3860db={'score':_0x2d6c44,'points':_0x2a2992,'badges':_0xee4c98,'submittedAt':new Date()[_0x25b49b(0x464)](),'isSyncGame':!![],'answers':(_0x5059ba['answers']||[])[_0x25b49b(0xe07)](_0x3e9161=>({'questionId':_0x3e9161[_0x25b49b(0xd60)],'answer':_0x3e9161[_0x25b49b(0x8cc)],'answerText':_0x3e9161[_0x25b49b(0xb20)],'isCorrect':_0x3e9161[_0x25b49b(0x6d1)],'originalQuestionText':_0x3e9161['originalQuestionText'],'wasConfident':_0x3e9161[_0x25b49b(0x8de)],'powerupUsed':_0x3e9161[_0x25b49b(0x447)]||null}))},_0x583269=await getDoc(_0x20d0af),_0x484fe4=_0x583269[_0x25b49b(0x939)]()?_0x583269[_0x25b49b(0xdad)]():{},_0x4cf77f=_0x484fe4['bestScore']||0x0,_0x1bb9e0=_0x484fe4[_0x25b49b(0x1da)]||[];_0x1bb9e0[_0x25b49b(0xe93)]===0x0&&_0x2d6c44===_0x54e04d&&_0x54e04d>0x0&&(!_0x3860db['badges'][_0x25b49b(0x8f3)]('first_try_ace')&&_0x3860db['badges'][_0x25b49b(0xacf)]('first_try_ace'));const _0x120809={'studentName':_0x5059ba[_0x25b49b(0xcc9)],'totalQuestions':_0x54e04d,'attempts':arrayUnion(_0x3860db),'latestScore':_0x2d6c44,'points':_0x2a2992,'latestSubmittedAt':_0x3860db['submittedAt'],'bestScore':Math[_0x25b49b(0x526)](_0x4cf77f,_0x2d6c44),'firstScore':_0x1bb9e0[_0x25b49b(0xe93)]===0x0?_0x2d6c44:_0x484fe4[_0x25b49b(0xb6f)]||0x0};_0x205336[_0x25b49b(0xb1f)](_0x20d0af,_0x120809,{'merge':!![]});}try{if(currentLiveGameId){const _0xb4a287=doc(db,_0x25b49b(0x884)+appId+_0x25b49b(0x3ce),currentLiveGameId);_0x205336[_0x25b49b(0x482)](_0xb4a287,{'resultsSaved':!![]});}await _0x205336[_0x25b49b(0x944)](),showMessage(_0x25b49b(0x355)+_0x18a0fe[_0x25b49b(0xe93)]+_0x25b49b(0x99c));const _0x3d0a70=_0xb56362[_0x25b49b(0xde5)]?.[_0x25b49b(0x791)]||currentQuizData?.[_0x25b49b(0x791)]||currentProjectId;if(_0x3d0a70){const _0x4e46b8=[...new Set(_0x18a0fe[_0x25b49b(0xe07)](_0x112315=>_0x112315[_0x25b49b(0xcc9)]))];for(const _0x32634a of _0x4e46b8){await updateStudentProfile(_0x3d0a70,_0x32634a);}}}catch(_0x3b3633){console['error'](_0x25b49b(0xa8d),_0x3b3633),showMessage(_0x25b49b(0xef9));}}async function saveQuiz(_0x45824d=null,_0x32f1d7=null){const _0x2a5d8f=_0x230ac1,_0x141c0c=_0x45824d||currentProjectId;if(!_0x141c0c){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x2a5d8f(0x628));return;}const _0x1a433e=document[_0x2a5d8f(0x815)](_0x2a5d8f(0x279));_0x1a433e['disabled']=!![],_0x1a433e['innerHTML']=_0x2a5d8f(0x6b8);const _0x3fcb5c=document[_0x2a5d8f(0x815)](_0x2a5d8f(0xadd))['checked'];let _0x112209=document['getElementById'](_0x2a5d8f(0x308))[_0x2a5d8f(0xc52)]['trim']();_0x3fcb5c&&!_0x112209[_0x2a5d8f(0xef1)](_0x2a5d8f(0x9ae))&&(_0x112209='(ก่อนเรียน)\x20'+_0x112209);try{const _0x1e0e61={'resultsDisplay':document[_0x2a5d8f(0x815)]('results-display-select')[_0x2a5d8f(0xdd7)],'shuffle':document[_0x2a5d8f(0x815)](_0x2a5d8f(0x8bd))[_0x2a5d8f(0xdd7)],'timerMode':document['getElementById'](_0x2a5d8f(0xd08))[_0x2a5d8f(0xdd7)],'timerDuration':parseInt(document[_0x2a5d8f(0x815)](_0x2a5d8f(0xb39))[_0x2a5d8f(0xdd7)])||0xa,'passingScore':parseInt(document[_0x2a5d8f(0x815)](_0x2a5d8f(0x6e6))[_0x2a5d8f(0xdd7)])||0x0,'isAdaptive':document[_0x2a5d8f(0x815)](_0x2a5d8f(0x4eb))[_0x2a5d8f(0xdaf)],'loopUntilPass':document[_0x2a5d8f(0x815)](_0x2a5d8f(0x89f))[_0x2a5d8f(0xdaf)]},_0x59d3ac=(currentQuizData[_0x2a5d8f(0x746)]||[])['map']((_0x2c2a68,_0x18bb84)=>{const _0x3af321=_0x2a5d8f,_0x592822=document['getElementById'](_0x3af321(0xa7e))[_0x3af321(0xdd7)],_0x4c3c3f={'id':'q_'+Date[_0x3af321(0x7be)]()+'_'+_0x18bb84,'questionText':_0x2c2a68['questionText']||'','explanation':_0x2c2a68[_0x3af321(0xc14)]||_0x3af321(0x54f),'questionType':_0x2c2a68[_0x3af321(0x1f4)]||_0x592822,'imageCode':_0x2c2a68[_0x3af321(0x74b)]||null};return(_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0x653)||_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0xd8e)||_0x4c3c3f['questionType']===_0x3af321(0x6a6)&&_0x2c2a68['options'])&&(_0x4c3c3f[_0x3af321(0xa9c)]=_0x2c2a68[_0x3af321(0xa9c)]||[],_0x4c3c3f[_0x3af321(0xdfa)]=_0x2c2a68['correctAnswerIndex']!==undefined?_0x2c2a68[_0x3af321(0xdfa)]:0x0),(_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0x270)||_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0x934)||_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0x6a6)&&_0x2c2a68[_0x3af321(0x46d)])&&(_0x4c3c3f['idealAnswer']=_0x2c2a68[_0x3af321(0x46d)]||''),_0x4c3c3f[_0x3af321(0x1f4)]===_0x3af321(0xcba)&&(_0x4c3c3f[_0x3af321(0x68b)]=_0x2c2a68['correctAnswer']===!![]),_0x4c3c3f[_0x3af321(0x1f4)]==='matching_item'&&(_0x4c3c3f[_0x3af321(0x212)]=_0x2c2a68[_0x3af321(0x212)]||'',_0x4c3c3f['correctResponse']=_0x2c2a68[_0x3af321(0xa50)]||'',_0x4c3c3f['allResponses']=_0x2c2a68[_0x3af321(0x787)]||[]),_0x4c3c3f;}),_0x1ad35b={'topic':_0x112209,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x59d3ac,'projectId':_0x141c0c,'createdBy':userId,'createdAt':new Date()[_0x2a5d8f(0x464)](),'status':_0x2a5d8f(0xb0a),'settings':_0x1e0e61,'quizMode':_0x3fcb5c?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x247ea1;while(!![]){_0x247ea1=Math['floor'](0x3e8+Math[_0x2a5d8f(0x88b)]()*0x2328)[_0x2a5d8f(0xefe)]();const _0x3e0f67=await getDoc(doc(db,_0x2a5d8f(0x884)+appId+_0x2a5d8f(0x8a2),_0x247ea1));if(!_0x3e0f67[_0x2a5d8f(0x939)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x247ea1),_0x1ad35b);if(_0x32f1d7&&currentBlueprintProjectId){console[_0x2a5d8f(0x1cf)](_0x2a5d8f(0x4bb)+_0x247ea1+_0x2a5d8f(0x904)+_0x32f1d7);try{const _0xb290d3=doc(db,_0x2a5d8f(0x884)+appId+_0x2a5d8f(0x689),currentBlueprintProjectId);await updateDoc(_0xb290d3,{[_0x2a5d8f(0xa7c)+_0x32f1d7+_0x2a5d8f(0xa32)]:arrayUnion(_0x247ea1)});}catch(_0x186c59){console[_0x2a5d8f(0x1b6)](_0x2a5d8f(0x591),_0x186c59);}}currentQuizData[_0x2a5d8f(0x22d)]=_0x1e0e61,currentQuizData['id']=_0x247ea1;const _0x22eca6=document[_0x2a5d8f(0x815)](_0x2a5d8f(0xa75));_0x22eca6[_0x2a5d8f(0x63b)]=_0x2a5d8f(0x436)+_0x247ea1+_0x2a5d8f(0x5fb),document[_0x2a5d8f(0x815)](_0x2a5d8f(0x552))[_0x2a5d8f(0x7b7)](_0x2a5d8f(0x7a5),()=>copyTextToClipboard(_0x247ea1,_0x2a5d8f(0xae7))),document[_0x2a5d8f(0x815)]('start-live-race-generated-btn')[_0x2a5d8f(0x7b7)]('click',()=>handleStartLiveRace(_0x247ea1)),document[_0x2a5d8f(0x815)](_0x2a5d8f(0x83f))[_0x2a5d8f(0x7b7)](_0x2a5d8f(0x7a5),()=>startPresentation(currentQuizData)),document[_0x2a5d8f(0x815)](_0x2a5d8f(0xcb9))[_0x2a5d8f(0x7b7)](_0x2a5d8f(0x7a5),startAdminTest),showMessage(_0x2a5d8f(0x406));}catch(_0x38811d){console[_0x2a5d8f(0x1b6)](_0x2a5d8f(0x54a),_0x38811d),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x1a433e[_0x2a5d8f(0x44b)]=![],_0x1a433e[_0x2a5d8f(0x63b)]=_0x2a5d8f(0x31a);}}function promptForProjectAndSave(){const _0x32a70e=_0x230ac1,_0x484957=document['getElementById'](_0x32a70e(0x6ba)),_0x5b5340=document[_0x32a70e(0x815)](_0x32a70e(0xc07)),_0x5907ce=_0x484957[_0x32a70e(0xd27)]('h3'),_0xcc0148=document['getElementById']('confirm-move-quiz-btn');_0x5907ce[_0x32a70e(0x587)]=_0x32a70e(0xe85),_0xcc0148['textContent']=_0x32a70e(0xeb2);allProjects['length']===0x0?(_0x5b5340['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0xcc0148[_0x32a70e(0x44b)]=!![]):(_0x5b5340[_0x32a70e(0x63b)]=allProjects[_0x32a70e(0xe07)](_0xcf9644=>_0x32a70e(0x3a8)+_0xcf9644['id']+'\x22>'+_0xcf9644[_0x32a70e(0x98b)]+'</option>')['join'](''),_0xcc0148['disabled']=![]);_0x484957[_0x32a70e(0xeac)][_0x32a70e(0xb0b)](_0x32a70e(0xcc2));const _0x559895=()=>{const _0x5623ca=_0x32a70e,_0x3b1c9d=_0x5b5340[_0x5623ca(0xdd7)];_0x3b1c9d?(currentProjectId=_0x3b1c9d,_0x484957[_0x5623ca(0xeac)][_0x5623ca(0x4db)](_0x5623ca(0xcc2)),saveQuiz(),_0x5907ce['textContent']=_0x5623ca(0x49f),_0xcc0148['textContent']=_0x5623ca(0x619),_0xcc0148[_0x5623ca(0x8d5)](_0x5623ca(0x7a5),_0x559895),_0xcc0148['addEventListener'](_0x5623ca(0x7a5),confirmMoveQuiz)):showMessage(_0x5623ca(0x2c6));};_0xcc0148[_0x32a70e(0x8d5)](_0x32a70e(0x7a5),confirmMoveQuiz),_0xcc0148[_0x32a70e(0x7b7)]('click',_0x559895);}function copyTextToClipboard(_0x2fa7d6,_0x39f758){const _0x59d73a=_0x230ac1,_0xa1136f=document[_0x59d73a(0xbdf)](_0x59d73a(0xc5b));_0xa1136f['value']=_0x2fa7d6,_0xa1136f[_0x59d73a(0x205)]['position']=_0x59d73a(0x72e),_0xa1136f[_0x59d73a(0x205)][_0x59d73a(0xce7)]='0',document[_0x59d73a(0x87e)][_0x59d73a(0x2f2)](_0xa1136f),_0xa1136f[_0x59d73a(0xca2)](),_0xa1136f[_0x59d73a(0x96e)]();try{const _0x12a04a=document[_0x59d73a(0x77c)](_0x59d73a(0x37b));showMessage(_0x12a04a?_0x39f758:_0x59d73a(0xdb0));}catch(_0x342133){showMessage('คัดลอกไม่สำเร็จ'),console['error'](_0x59d73a(0x243),_0x342133);}document[_0x59d73a(0x87e)][_0x59d73a(0x751)](_0xa1136f);}function listenForProjectQuizzes(_0x2b6966){const _0x25ad7a=_0x230ac1,_0xa06df2=collection(db,_0x25ad7a(0x884)+appId+'/public/data/quizzes'),_0x185b48=query(_0xa06df2,where(_0x25ad7a(0x791),'==',_0x2b6966));unsubscribeQuizzesListener=onSnapshot(_0x185b48,async _0x8684a8=>{const _0x10ffa7=_0x25ad7a;allQuizzes=_0x8684a8[_0x10ffa7(0xcf8)][_0x10ffa7(0xe07)](_0x5028aa=>({'id':_0x5028aa['id'],..._0x5028aa[_0x10ffa7(0xdad)]()})),renderQuizzes();},_0x2d99ab=>{const _0x15dfd9=_0x25ad7a;console[_0x15dfd9(0x1b6)](_0x15dfd9(0x3ea),_0x2d99ab),document['getElementById']('project-quizzes-list')[_0x15dfd9(0x63b)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0xa2fde6=_0x230ac1,_0x2df6db=document[_0xa2fde6(0x815)](_0xa2fde6(0x737)),_0x3372d0=document[_0xa2fde6(0x815)](_0xa2fde6(0x430))[_0xa2fde6(0xdd7)]['toLowerCase']();let _0x406d6d;currentProjectId===_0xa2fde6(0x627)?_0x406d6d=starredQuizzes:_0x406d6d=allQuizzes;let _0xf87084=_0x406d6d[_0xa2fde6(0x320)](_0x26c393=>_0x26c393[_0xa2fde6(0xbdd)][_0xa2fde6(0xaec)]()[_0xa2fde6(0x8f3)](_0x3372d0));_0xf87084[_0xa2fde6(0xa6f)]((_0x5e3e9d,_0x276108)=>new Date(_0x276108[_0xa2fde6(0xf29)])-new Date(_0x5e3e9d[_0xa2fde6(0xf29)]));if(_0xf87084[_0xa2fde6(0xe93)]===0x0){_0x2df6db['innerHTML']=_0xa2fde6(0x9ec);return;}const _0x30a109={},_0x333724=_0xf87084[_0xa2fde6(0xe07)](async _0x1391a5=>{const _0x41afa0=_0xa2fde6,_0x9383bc=collection(db,_0x41afa0(0x884)+appId+_0x41afa0(0xa60)+_0x1391a5['id']+_0x41afa0(0xb77)),_0x37203e=await getDocs(_0x9383bc);_0x30a109[_0x1391a5['id']]=_0x37203e[_0x41afa0(0xc1c)];});await Promise[_0xa2fde6(0x4ad)](_0x333724);let _0x1299e8='';_0xf87084[_0xa2fde6(0xdec)](_0x40b067=>{const _0x3d49dd=_0xa2fde6,_0x4aca2a=_0x30a109[_0x40b067['id']]||0x0,_0x1d4211=_0x40b067['status']||_0x3d49dd(0xb0a),_0x5c6265=_0x40b067[_0x3d49dd(0x22d)]?.['timerMode']||_0x3d49dd(0x1e2);let _0x46f1d5='',_0x19e5a7='';const _0x5f3cf7=new Date();let _0x5dd573=_0x1d4211;if(_0x1d4211===_0x3d49dd(0x7e3)){const _0x247838=_0x40b067[_0x3d49dd(0xd5e)]?new Date(_0x40b067['startTime']):null,_0x33f47e=_0x40b067[_0x3d49dd(0xb78)]?new Date(_0x40b067[_0x3d49dd(0xb78)]):null;if(_0x33f47e&&_0x5f3cf7>_0x33f47e)_0x5dd573=_0x3d49dd(0xd7d);else _0x247838&&_0x5f3cf7<_0x247838?_0x5dd573=_0x3d49dd(0x437):_0x5dd573=_0x3d49dd(0xb0a);}switch(_0x5dd573){case _0x3d49dd(0xd7d):_0x46f1d5=_0x3d49dd(0xda9),_0x19e5a7='text-red-700\x20bg-red-100';break;case'scheduled_pending':_0x46f1d5='รอเปิด',_0x19e5a7='text-blue-700\x20bg-blue-100';break;case _0x3d49dd(0xb0a):_0x46f1d5=_0x5c6265!==_0x3d49dd(0x1e2)?'เปิด\x20(จับเวลา)':_0x3d49dd(0xe9b),_0x19e5a7=_0x3d49dd(0xe2a);break;default:_0x46f1d5=_0x3d49dd(0xe82),_0x19e5a7=_0x3d49dd(0xe2a);break;}let _0x41239a='';const _0x367a10={'day':_0x3d49dd(0xbed),'month':_0x3d49dd(0xbed),'year':'numeric','hour':'2-digit','minute':'2-digit','hour12':![]};if(_0x1d4211==='scheduled'){if(_0x40b067[_0x3d49dd(0xd5e)])_0x41239a+=_0x3d49dd(0xdf0)+new Date(_0x40b067['startTime'])[_0x3d49dd(0x63a)](_0x3d49dd(0x27c),_0x367a10)+_0x3d49dd(0x1fb);if(_0x40b067[_0x3d49dd(0xb78)])_0x41239a+=_0x3d49dd(0x9e0)+new Date(_0x40b067[_0x3d49dd(0xb78)])[_0x3d49dd(0x63a)](_0x3d49dd(0x27c),_0x367a10)+_0x3d49dd(0x1fb);}let _0x3920fb='';if(_0x40b067[_0x3d49dd(0xa63)]){const _0xbe0f51=allQuizzes[_0x3d49dd(0x5eb)](_0x5b79ff=>_0x5b79ff['id']===_0x40b067['pairedQuizId']);if(_0xbe0f51){let _0x1bcace,_0x315422;new Date(_0x40b067[_0x3d49dd(0xf29)])<new Date(_0xbe0f51[_0x3d49dd(0xf29)])?(_0x1bcace=_0x40b067['id'],_0x315422=_0xbe0f51['id']):(_0x1bcace=_0xbe0f51['id'],_0x315422=_0x40b067['id']),_0x3920fb+=_0x3d49dd(0x981)+_0x315422+_0x3d49dd(0xd92)+_0x1bcace+_0x3d49dd(0xdab);}}else _0x40b067['quizMode']==='pre-test'&&(_0x3920fb+=_0x3d49dd(0x52c)+_0x40b067['id']+_0x3d49dd(0x2f3));if(_0x40b067['quizMode']===_0x3d49dd(0x5e7)&&_0x4aca2a>0x0)_0x3920fb+=_0x3d49dd(0x52c)+_0x40b067['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x40b067[_0x3d49dd(0xa63)]&&_0x40b067[_0x3d49dd(0x49e)]!==_0x3d49dd(0x5e7)&&_0x4aca2a>0x0&&(_0x3920fb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40b067['id']+_0x3d49dd(0xc58));let _0x2f0466='';_0x40b067[_0x3d49dd(0xa63)]?_0x2f0466=_0x3d49dd(0x1d9)+_0x40b067['id']+_0x3d49dd(0x5fe):_0x2f0466=_0x3d49dd(0x1d9)+_0x40b067['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0xb91d1a=_0x3d49dd(0xdc7)+_0x40b067['id']+_0x3d49dd(0xdd1);_0x1299e8+=_0x3d49dd(0xdf7)+_0x40b067['id']+_0x3d49dd(0x304)+_0x40b067[_0x3d49dd(0xbdd)]+_0x3d49dd(0x301)+_0x40b067[_0x3d49dd(0x746)]['length']+_0x3d49dd(0x5be)+new Date(_0x40b067[_0x3d49dd(0xf29)])['toLocaleString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x4aca2a+_0x3d49dd(0x491)+_0x41239a+_0x3d49dd(0x8ee)+_0x19e5a7+'\x22>'+_0x46f1d5+_0x3d49dd(0x672)+_0x40b067['id']+_0x3d49dd(0xe7b)+_0x40b067['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x40b067[_0x3d49dd(0xcfc)]?_0x3d49dd(0xc7b):_0x3d49dd(0x54c))+_0x3d49dd(0x5cc)+_0x3920fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb91d1a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40b067['id']+_0x3d49dd(0x730)+_0x40b067['id']+_0x3d49dd(0x1f0)+_0x40b067['id']+_0x3d49dd(0x59a)+_0x40b067['id']+_0x3d49dd(0xba7)+_0x40b067['id']+_0x3d49dd(0x91c)+_0x40b067['id']+_0x3d49dd(0x494)+_0x40b067['id']+_0x3d49dd(0xd72)+_0x40b067[_0x3d49dd(0xbdd)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40b067['id']+_0x3d49dd(0x899)+_0x40b067['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f0466+_0x3d49dd(0x424)+_0x40b067['id']+_0x3d49dd(0x388)+_0x40b067['id']+_0x3d49dd(0xef0)+_0x40b067['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40b067['id']+_0x3d49dd(0x25f)+_0x40b067['id']+_0x3d49dd(0xd72)+_0x40b067[_0x3d49dd(0xbdd)]+_0x3d49dd(0x567)+_0x40b067['id']+_0x3d49dd(0x853);}),_0x2df6db['innerHTML']=_0x1299e8,document[_0xa2fde6(0x8c8)](_0xa2fde6(0xcee))[_0xa2fde6(0xdec)](_0x337e97=>{const _0x4ec69e=_0xa2fde6;_0x337e97[_0x4ec69e(0x7b7)](_0x4ec69e(0x7a5),()=>{const _0x3e1d47=_0x4ec69e,_0x234ce6=_0x337e97['dataset'][_0x3e1d47(0x6b4)];showQuizDetailView(_0x234ce6);});});}async function handleUnpairQuiz(_0x44399c){const _0x4c4fdc=_0x230ac1,_0x13856b=allQuizzes['find'](_0xd5615d=>_0xd5615d['id']===_0x44399c);if(!_0x13856b||!_0x13856b[_0x4c4fdc(0xa63)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x4c4fdc(0x929),async()=>{const _0x4efee7=_0x4c4fdc;try{const _0x3e3957=doc(db,_0x4efee7(0x884)+appId+_0x4efee7(0x8a2),_0x44399c),_0x4f5463=doc(db,_0x4efee7(0x884)+appId+_0x4efee7(0x8a2),_0x13856b[_0x4efee7(0xa63)]),_0x46bff9=writeBatch(db);_0x46bff9[_0x4efee7(0x482)](_0x3e3957,{'pairedQuizId':null}),_0x46bff9['update'](_0x4f5463,{'pairedQuizId':null}),await _0x46bff9['commit'](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x176802){console[_0x4efee7(0x1b6)](_0x4efee7(0xe3b),_0x176802),showMessage(_0x4efee7(0x6ad));}});}function formatAndPrintLessonPlan(_0xc406ab,_0x4bf6bb){const _0x2bbdef=_0x230ac1,_0x2411ec=window[_0x2bbdef(0xa40)]('',_0x2bbdef(0x59d)),_0x4e644e=_0x2bbdef(0x6b3)+_0x4bf6bb['topic']+_0x2bbdef(0xa00)+_0x4bf6bb[_0x2bbdef(0xbdd)]+_0x2bbdef(0x231)+_0xc406ab[_0x2bbdef(0x35e)]['map'](_0x44c6b3=>_0x2bbdef(0x3b4)+_0x44c6b3+_0x2bbdef(0x23c))[_0x2bbdef(0x885)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0xc406ab[_0x2bbdef(0x874)]+_0x2bbdef(0xcce)+_0xc406ab[_0x2bbdef(0x9d4)][_0x2bbdef(0xe07)](_0x3934d4=>_0x2bbdef(0x894)+_0x3934d4['question']+_0x2bbdef(0xe1f)+_0x3934d4[_0x2bbdef(0x1f7)]+_0x2bbdef(0xa99))['join']('')+_0x2bbdef(0x5f2);_0x2411ec[_0x2bbdef(0x2f7)]['write'](_0x4e644e),_0x2411ec[_0x2bbdef(0x2f7)]['close'](),_0x2411ec['onload']=function(){setTimeout(()=>{const _0x1756ce=_0x1143;_0x2411ec[_0x1756ce(0x9d9)]();},0x3e8);};}async function handleAiFixFormula(_0x2f858b){const _0x13c682=_0x230ac1,_0x423edc=document[_0x13c682(0xd27)](_0x13c682(0xa87)+_0x2f858b+'\x22]');if(!_0x423edc)return;const _0x28e4e9=_0x423edc[_0x13c682(0x5ff)][_0x13c682(0x898)],_0x391c39=_0x423edc['querySelector']('.ai-fix-formula-btn');let _0x191220={'question':_0x423edc[_0x13c682(0xd27)](_0x13c682(0xc5b))[_0x13c682(0xdd7)]};switch(_0x28e4e9){case _0x13c682(0x653):_0x191220[_0x13c682(0xa9c)]=Array[_0x13c682(0x488)](_0x423edc[_0x13c682(0x8c8)](_0x13c682(0xc68)))[_0x13c682(0xe07)](_0x2b8a3c=>_0x2b8a3c[_0x13c682(0xdd7)]);break;case'fill_in_no_choices':case _0x13c682(0x270):_0x191220['idealAnswer']=_0x423edc['querySelector'](_0x13c682(0xa10))[_0x13c682(0xdd7)];break;case _0x13c682(0x52a):_0x191220[_0x13c682(0xa50)]=_0x423edc[_0x13c682(0xd27)](_0x13c682(0xaf0))[_0x13c682(0xdd7)];break;}_0x391c39[_0x13c682(0x63b)]=_0x13c682(0xa9b),_0x391c39[_0x13c682(0x44b)]=!![];try{const _0x437d90=_0x13c682(0x8a9)+JSON[_0x13c682(0xd0a)](_0x191220)+_0x13c682(0xbfd),_0xcd8171={'type':_0x13c682(0x1eb),'properties':{'fixedData':{'type':_0x13c682(0x1eb),'properties':{'question':{'type':'STRING'},'options':{'type':_0x13c682(0x2df),'items':{'type':_0x13c682(0x324)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x13c682(0x324)}},'required':[_0x13c682(0xc56)]}},'required':['fixedData']},_0x3e5b3c=await callAnalysisApi(_0x437d90,_0xcd8171);if(_0x3e5b3c&&_0x3e5b3c[_0x13c682(0x3f1)]){const _0x271fee=_0x3e5b3c['fixedData'];_0x423edc[_0x13c682(0xd27)](_0x13c682(0xc5b))[_0x13c682(0xdd7)]=_0x271fee['question']||_0x191220['question'];switch(_0x28e4e9){case'multiple_choice':_0x271fee[_0x13c682(0xa9c)]&&_0x271fee[_0x13c682(0xa9c)][_0x13c682(0xe93)]>0x0&&_0x423edc[_0x13c682(0x8c8)](_0x13c682(0xc68))[_0x13c682(0xdec)]((_0x26be2f,_0x181663)=>{const _0x23ddb7=_0x13c682;_0x26be2f[_0x23ddb7(0xdd7)]=_0x271fee[_0x23ddb7(0xa9c)][_0x181663]||_0x191220[_0x23ddb7(0xa9c)][_0x181663];});break;case _0x13c682(0x934):case'short_answer':_0x423edc['querySelector'](_0x13c682(0xa10))[_0x13c682(0xdd7)]=_0x271fee[_0x13c682(0x46d)]||_0x191220['idealAnswer'];break;case _0x13c682(0x52a):_0x423edc[_0x13c682(0xd27)](_0x13c682(0xaf0))[_0x13c682(0xdd7)]=_0x271fee[_0x13c682(0xa50)]||_0x191220['correctResponse'];break;}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x13c682(0x4ab));}catch(_0x3b8168){console[_0x13c682(0x1b6)](_0x13c682(0xd3f),_0x3b8168),showMessage(_0x13c682(0xea7));}finally{_0x391c39[_0x13c682(0x63b)]=_0x13c682(0x914),_0x391c39[_0x13c682(0x44b)]=![];}}async function handleGenerateLessonPlan(_0x256b8b){const _0x3c06dc=_0x230ac1;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x5eebb0=doc(db,_0x3c06dc(0x884)+appId+_0x3c06dc(0x8a2),_0x256b8b),_0x4d6c06=await getDoc(_0x5eebb0);if(!_0x4d6c06[_0x3c06dc(0x939)]())throw new Error(_0x3c06dc(0x66e));const _0x494de4={'id':_0x256b8b,..._0x4d6c06[_0x3c06dc(0xdad)]()},_0x71d3c=collection(db,_0x3c06dc(0x884)+appId+_0x3c06dc(0x8a2),_0x256b8b,_0x3c06dc(0x3d4)),_0x425c6d=await getDocs(_0x71d3c),_0x35835c=_0x425c6d[_0x3c06dc(0xcf8)]['map'](_0x1860bb=>_0x1860bb[_0x3c06dc(0xdad)]());if(_0x35835c[_0x3c06dc(0xe93)]===0x0)throw new Error(_0x3c06dc(0x578));const _0x288340=calculateItemAnalysis(_0x494de4,_0x35835c)[_0x3c06dc(0x42a)],_0x5450dc=calculateDistractorAnalysis(_0x494de4,_0x35835c),_0x43203c=_0x3dfc7d=>{const _0x1568ab=_0x3c06dc;if(!_0x3dfc7d)return'';return _0x3dfc7d['replace'](/\\/g,'\x5c\x5c')[_0x1568ab(0xeef)](/"/g,'\x5c\x22')[_0x1568ab(0xeef)](/\n/g,'\x5cn');};let _0x1e6f6d=_0x3c06dc(0xc4b);_0x494de4['questions'][_0x3c06dc(0xdec)]((_0x5ee22c,_0x51e864)=>{const _0x479612=_0x3c06dc,_0xd29ae1=_0x288340[_0x51e864]?.['p'][_0x479612(0x422)](0x2)||'N/A',_0xd662b4=_0x288340[_0x51e864]?.['r']['toFixed'](0x2)||_0x479612(0x8df),_0x1a4043=_0x43203c(_0x5ee22c[_0x479612(0xef8)]||_0x5ee22c[_0x479612(0x212)]);_0x1e6f6d+='-\x20ข้อ\x20'+(_0x51e864+0x1)+_0x479612(0x45c)+_0xd29ae1+_0x479612(0xcaf)+_0xd662b4+_0x479612(0xd4e)+_0x1a4043+'\x5cn';if(_0x5ee22c[_0x479612(0x1f4)]===_0x479612(0x653)&&_0x5450dc[_0x51e864]){const _0x134c60=_0x5450dc[_0x51e864],_0x544f69=Object['keys'](_0x134c60)[_0x479612(0x320)](_0x177589=>parseInt(_0x177589)!==_0x5ee22c[_0x479612(0xdfa)])['sort']((_0x32e6ec,_0x3c09e5)=>_0x134c60[_0x3c09e5][_0x479612(0x9f4)]-_0x134c60[_0x32e6ec][_0x479612(0x9f4)])[0x0];if(_0x544f69&&_0x134c60[_0x544f69][_0x479612(0x9f4)]>0x0){const _0x1fa3a4=_0x43203c(_0x134c60[_0x544f69][_0x479612(0x317)]);_0x1e6f6d+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x1fa3a4+_0x479612(0x647);}}});const _0x598fe9=_0x3c06dc(0xbfb)+_0x494de4['topic']+_0x3c06dc(0x860)+_0x1e6f6d+_0x3c06dc(0x7ce),_0x22e3b7={'type':_0x3c06dc(0x1eb),'properties':{'learningGaps':{'type':_0x3c06dc(0x2df),'items':{'type':_0x3c06dc(0x324)}},'teachingContent':{'type':_0x3c06dc(0x324)},'practiceProblems':{'type':_0x3c06dc(0x2df),'items':{'type':_0x3c06dc(0x1eb),'properties':{'question':{'type':_0x3c06dc(0x324)},'solution':{'type':_0x3c06dc(0x324)}}}}},'required':['learningGaps',_0x3c06dc(0x874),_0x3c06dc(0x9d4)]},_0x5ab75b=await callAnalysisApi(_0x598fe9,_0x22e3b7);await updateDoc(_0x5eebb0,{'lessonPlan':_0x5ab75b});const _0x260d0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x494de4[_0x3c06dc(0xbdd)]+_0x3c06dc(0x97c)+_0x5ab75b['learningGaps'][_0x3c06dc(0xe07)](_0x2cba53=>_0x3c06dc(0x3b4)+_0x2cba53+'</li>')['join']('')+_0x3c06dc(0x3e8)+_0x5ab75b[_0x3c06dc(0x874)]+_0x3c06dc(0x822)+_0x5ab75b[_0x3c06dc(0x9d4)][_0x3c06dc(0xe07)](_0x5068ed=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x5068ed[_0x3c06dc(0xc56)]+_0x3c06dc(0x879)+_0x5068ed[_0x3c06dc(0x1f7)]+'</p></div>')[_0x3c06dc(0x885)]('')+_0x3c06dc(0x33c);document[_0x3c06dc(0x815)](_0x3c06dc(0xd17))[_0x3c06dc(0x587)]=_0x3c06dc(0xa86)+_0x494de4[_0x3c06dc(0xbdd)],document[_0x3c06dc(0x815)](_0x3c06dc(0x2fc))[_0x3c06dc(0x63b)]=_0x260d0b,document[_0x3c06dc(0x815)]('lesson-plan-modal')[_0x3c06dc(0xeac)][_0x3c06dc(0xb0b)](_0x3c06dc(0xcc2));if(window['MathJax'])MathJax[_0x3c06dc(0x40b)]();messageModal[_0x3c06dc(0xeac)][_0x3c06dc(0x4db)](_0x3c06dc(0xcc2));}catch(_0x57f233){console[_0x3c06dc(0x1b6)]('Error\x20generating\x20lesson\x20plan:',_0x57f233),showMessage(_0x3c06dc(0x36f)+_0x57f233[_0x3c06dc(0xb95)]);}}async function handleDuplicateQuiz(_0x37a3d3){const _0x4530e5=_0x230ac1;try{const _0x5ebd00=doc(db,_0x4530e5(0x884)+appId+_0x4530e5(0x8a2),_0x37a3d3),_0x30c6e5=await getDoc(_0x5ebd00);if(_0x30c6e5[_0x4530e5(0x939)]()){const _0x4686b3=_0x30c6e5[_0x4530e5(0xdad)]();let _0x51b552='',_0x37a252='standard',_0x376a5a=null;if(_0x4686b3[_0x4530e5(0x49e)]===_0x4530e5(0x5e7)){let _0x27824c=_0x4686b3[_0x4530e5(0xbdd)][_0x4530e5(0xeef)](_0x4530e5(0x9ae),'')[_0x4530e5(0x99f)]();_0x51b552=_0x4530e5(0x5a7)+_0x27824c,_0x37a252='post-test',_0x376a5a=_0x37a3d3;}else _0x51b552='(คัดลอก)\x20'+_0x4686b3['topic'];const _0x5d0ecc={..._0x4686b3,'topic':_0x51b552,'createdAt':new Date()[_0x4530e5(0x464)](),'quizMode':_0x37a252,'pairedQuizId':_0x376a5a};let _0x342766;while(!![]){_0x342766=Math[_0x4530e5(0x599)](0x3e8+Math[_0x4530e5(0x88b)]()*0x2328)[_0x4530e5(0xefe)]();const _0x5011c0=await getDoc(doc(db,_0x4530e5(0x884)+appId+_0x4530e5(0x8a2),_0x342766));if(!_0x5011c0['exists']())break;}const _0x39b83e=doc(db,_0x4530e5(0x884)+appId+'/public/data/quizzes',_0x342766);await setDoc(_0x39b83e,_0x5d0ecc),_0x5d0ecc[_0x4530e5(0x49e)]===_0x4530e5(0x834)&&await updateDoc(_0x5ebd00,{'pairedQuizId':_0x342766}),showMessage(_0x4530e5(0x6bd));}else throw new Error(_0x4530e5(0x2e4));}catch(_0x4b249d){console[_0x4530e5(0x1b6)](_0x4530e5(0x561),_0x4b249d),showMessage(_0x4530e5(0x609));}}async function handleDeleteQuiz(_0x55af72,_0x324625=!![]){const _0xa16447=_0x230ac1;try{const _0x2cdbd5=writeBatch(db),_0x1deff5=collection(db,_0xa16447(0x884)+appId+_0xa16447(0xa60)+_0x55af72+_0xa16447(0xb77)),_0x353183=await getDocs(_0x1deff5);_0x353183[_0xa16447(0xdec)](_0x224d30=>{const _0x343bcd=_0xa16447;_0x2cdbd5[_0x343bcd(0x35d)](doc(_0x1deff5,_0x224d30['id']));});const _0x4c3028=doc(db,_0xa16447(0x884)+appId+'/public/data/quizzes',_0x55af72);_0x2cdbd5[_0xa16447(0x35d)](_0x4c3028),await _0x2cdbd5[_0xa16447(0x944)]();try{console[_0xa16447(0x1cf)](_0xa16447(0x373)+_0x55af72+_0xa16447(0x490));const _0x10e9a2=collection(db,_0xa16447(0x884)+appId+_0xa16447(0x689)),_0x16630d=await getDocs(_0x10e9a2),_0x4ea92a=[];_0x16630d[_0xa16447(0xdec)](_0x17bbd6=>{const _0x598f66=_0xa16447,_0x1e143d=_0x17bbd6['data'](),_0x426b5e=_0x1e143d[_0x598f66(0xccf)]||{};let _0x12eaf4=![];for(const _0x30d8dd in _0x426b5e){const _0x33595a=_0x426b5e[_0x30d8dd];if(_0x33595a['linkedQuizIds']&&_0x33595a[_0x598f66(0x99a)][_0x598f66(0x8f3)](_0x55af72)){_0x12eaf4=!![];const _0x48dd8f=doc(db,'artifacts/'+appId+_0x598f66(0x689),_0x17bbd6['id']),_0x244fa8=updateDoc(_0x48dd8f,{['topics.'+_0x30d8dd+_0x598f66(0xa32)]:arrayRemove(_0x55af72)});_0x4ea92a[_0x598f66(0xacf)](_0x244fa8);}}}),_0x4ea92a[_0xa16447(0xe93)]>0x0&&(await Promise[_0xa16447(0x4ad)](_0x4ea92a),console['log'](_0xa16447(0xc3e)+_0x4ea92a[_0xa16447(0xe93)]+_0xa16447(0x257)+_0x55af72+'.'));}catch(_0x1b55a5){console[_0xa16447(0x1b6)](_0xa16447(0xccc),_0x1b55a5);}_0x324625&&showMessage(_0xa16447(0x8bf));}catch(_0x44b873){console[_0xa16447(0x1b6)](_0xa16447(0xc20),_0x44b873),_0x324625&&showMessage(_0xa16447(0xf1a));}}async function showQuizDetailView(_0x4a76d2){const _0x28476c=_0x230ac1;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x28476c(0xe64));try{const _0x10e9c2=doc(db,'artifacts/'+appId+_0x28476c(0x8a2),_0x4a76d2),_0x2b259d=await getDoc(_0x10e9c2);if(!_0x2b259d[_0x28476c(0x939)]()){showMessage(_0x28476c(0x66e));return;}const _0x566e47={'id':_0x2b259d['id'],..._0x2b259d[_0x28476c(0xdad)]()};currentQuizData=_0x566e47;const _0x2514bc=doc(db,_0x28476c(0x884)+appId+_0x28476c(0xb81),_0x566e47[_0x28476c(0x791)]),_0x1d4d40=await getDoc(_0x2514bc);_0x1d4d40[_0x28476c(0x939)]()?(currentProjectData=_0x1d4d40[_0x28476c(0xdad)](),currentProjectId=_0x566e47[_0x28476c(0x791)]):(currentProjectData={'students':[]},currentProjectId=_0x566e47['projectId']);document[_0x28476c(0x815)](_0x28476c(0x9b8))[_0x28476c(0x587)]=_0x566e47[_0x28476c(0xbdd)],document[_0x28476c(0x815)](_0x28476c(0x461))['textContent']=_0x4a76d2;const _0x34a27a=collection(db,'artifacts/'+appId+_0x28476c(0x8a2),_0x4a76d2,_0x28476c(0x3d4));unsubscribeSubmissionsListener=onSnapshot(_0x34a27a,_0x5c64f3=>{const _0x20cb89=_0x28476c,_0xaee5cd=_0x5c64f3[_0x20cb89(0xcf8)][_0x20cb89(0xe07)](_0x27e09c=>({'id':_0x27e09c['id'],..._0x27e09c[_0x20cb89(0xdad)]()}));currentSubmissions=_0xaee5cd;const _0x16500f=_0xaee5cd[_0x20cb89(0x320)](_0x27f452=>_0x27f452[_0x20cb89(0x1da)]&&_0x27f452['attempts'][_0x20cb89(0xe93)]>0x0);renderBehaviorLog(_0xaee5cd),renderAnswerGrid(currentProjectData[_0x20cb89(0xa2f)],_0x16500f,_0x566e47),renderAnalytics(_0x566e47,_0x16500f),renderQuizResultsTable(currentProjectData[_0x20cb89(0xa2f)],_0xaee5cd,_0x566e47),renderQuizLeaderboard(_0x16500f,_0x566e47,'quiz-leaderboard-table-body');}),showView(_0x28476c(0xa02));}catch(_0x505053){console[_0x28476c(0x1b6)](_0x28476c(0xaf1),_0x505053),showMessage(_0x28476c(0x658));}}function renderAnswerGrid(_0x202fae,_0x8c4419,_0x52ffc4){const _0x147652=_0x230ac1,_0x4d3c2f=document[_0x147652(0x815)](_0x147652(0x1e0));if(!_0x4d3c2f)return;if(!_0x202fae||_0x202fae[_0x147652(0xe93)]===0x0){_0x4d3c2f[_0x147652(0x63b)]=_0x147652(0xd95);return;}const _0x5e0e41=_0x52ffc4[_0x147652(0x746)],_0x262e99=_0x8c4419['reduce']((_0x1d6744,_0x272eae)=>{const _0x233432=_0x147652;return _0x1d6744[_0x272eae[_0x233432(0x455)]]=_0x272eae,_0x1d6744;},{}),_0x226be2=_0x26a9c8=>String[_0x147652(0x869)](0x41+_0x26a9c8),_0x49f7d7=_0xf99734=>{const _0x5c5086=_0x147652,_0x5799d7=_0xf99734[_0x5c5086(0x1f4)]||_0x52ffc4[_0x5c5086(0x1c2)];switch(_0x5799d7){case _0x5c5086(0x653):return _0xf99734['options']&&_0xf99734[_0x5c5086(0xa9c)][_0x5c5086(0xe93)]>_0xf99734[_0x5c5086(0xdfa)]?_0x226be2(_0xf99734['correctAnswerIndex']):'-';case _0x5c5086(0xcba):const _0x3f5097=_0xf99734[_0x5c5086(0x68b)]===!![]||String(_0xf99734[_0x5c5086(0x68b)])[_0x5c5086(0xaec)]()===_0x5c5086(0x2f8);return _0x3f5097?_0x5c5086(0x863):_0x5c5086(0x313);case'matching_item':return _0xf99734['correctResponse']||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0xc01eb6=(_0x2c2cba,_0x1237c9)=>{const _0x5365bd=_0x147652;if(_0x1237c9[_0x5365bd(0x8cc)]===null||_0x1237c9[_0x5365bd(0x8cc)]===undefined)return'-';const _0x555b74=_0x2c2cba[_0x5365bd(0x1f4)]||_0x52ffc4['quizType'];switch(_0x555b74){case _0x5365bd(0x653):const _0x30bc36=_0x2c2cba[_0x5365bd(0xa9c)][_0x5365bd(0x7cd)](_0x24dd96=>_0x24dd96===_0x1237c9[_0x5365bd(0xb20)]);return _0x30bc36!==-0x1?_0x226be2(_0x30bc36):_0x1237c9[_0x5365bd(0xb20)]||'-';case _0x5365bd(0xcba):if(_0x1237c9[_0x5365bd(0x8cc)]=='0'||_0x1237c9['answer']===!![]||_0x1237c9[_0x5365bd(0x8cc)]==='true')return _0x5365bd(0x863);return _0x5365bd(0x313);default:return _0x1237c9[_0x5365bd(0x8cc)];}};let _0x473c29=_0x147652(0xdb9)+_0x5e0e41[_0x147652(0xe07)]((_0x10209d,_0xeda9e8)=>_0x147652(0xa27)+(_0xeda9e8+0x1)+_0x147652(0x515))[_0x147652(0x885)]('')+_0x147652(0x7d0)+_0x5e0e41[_0x147652(0xe07)](_0x1b747a=>_0x147652(0xd2c)+_0x49f7d7(_0x1b747a)+_0x147652(0x782))[_0x147652(0x885)]('')+_0x147652(0x292);_0x202fae[_0x147652(0xdec)](_0x4a4350=>{const _0x1000fb=_0x147652;_0x473c29+=_0x1000fb(0x9f5),_0x473c29+=_0x1000fb(0xa36)+_0x4a4350+_0x1000fb(0x782);const _0x228bed=_0x262e99[_0x4a4350];if(_0x228bed){const _0x324418=_0x228bed[_0x1000fb(0x1da)][_0x228bed[_0x1000fb(0x1da)][_0x1000fb(0xe93)]-0x1];_0x5e0e41['forEach']((_0x100723,_0x109464)=>{const _0x3611f5=_0x1000fb,_0x11566e=_0x324418[_0x3611f5(0x7d9)]['find'](_0x4d1d76=>_0x4d1d76[_0x3611f5(0xd60)]===_0x100723['id']);if(_0x11566e){let _0xecd567='';const _0x2b9d0f=_0x11566e['isCorrect']===!![],_0x119deb=_0x11566e[_0x3611f5(0x8de)]===!![]||_0x11566e[_0x3611f5(0x8de)]==='confident',_0x596af6=_0x11566e[_0x3611f5(0x447)];if(_0x596af6===_0x3611f5(0x3e1))_0x2b9d0f?_0xecd567=_0x3611f5(0xeb7):_0xecd567=_0x3611f5(0x6c4);else _0x119deb?_0xecd567=_0x2b9d0f?_0x3611f5(0x1f2):_0x3611f5(0x99e):_0xecd567=_0x2b9d0f?_0x3611f5(0x264):_0x3611f5(0xd29);_0x473c29+=_0x3611f5(0x607)+_0xecd567+'\x22>'+_0xc01eb6(_0x100723,_0x11566e)+_0x3611f5(0x782);}else _0x473c29+=_0x3611f5(0x2bc);});}else _0x473c29+=_0x5e0e41[_0x1000fb(0xe07)](()=>_0x1000fb(0x6d8))['join']('');_0x473c29+=_0x1000fb(0x394);}),_0x473c29+=_0x147652(0x7bb),_0x4d3c2f[_0x147652(0x63b)]=_0x473c29;}function renderQuizResultsTable(_0x42ff33,_0x1b7f36,_0x155822){const _0x7bea64=_0x230ac1,_0x358f81=_0x1b7f36[_0x7bea64(0xa56)]((_0x289f91,_0x2692ca)=>{const _0x2206cb=_0x7bea64;return _0x289f91[_0x2692ca[_0x2206cb(0x455)]]=_0x2692ca,_0x289f91;},{}),_0x40d46b=document[_0x7bea64(0xd27)](_0x7bea64(0x5ce));_0x40d46b&&!_0x40d46b[_0x7bea64(0x63b)][_0x7bea64(0x8f3)](_0x7bea64(0x353))&&(_0x40d46b[_0x7bea64(0x63b)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x101302=document['getElementById']('quiz-results-table-body');if(!_0x42ff33||_0x42ff33[_0x7bea64(0xe93)]===0x0){_0x101302[_0x7bea64(0x63b)]=_0x7bea64(0x886);return;}const _0x409547=_0x155822[_0x7bea64(0xd09)]===!![],_0x581398=_0x155822[_0x7bea64(0x22d)]?.[_0x7bea64(0x59f)]??-0x1;let _0x4285fe='';_0x42ff33[_0x7bea64(0xdec)](_0xa12515=>{const _0x70285e=_0x7bea64,_0x270f91=_0x358f81[_0xa12515];let _0x3394ab=_0x70285e(0xf02)+(_0x409547?'bg-amber-100\x20text-amber-800':_0x70285e(0x85c))+'\x22>'+(_0x409547?_0x70285e(0xcac):_0x70285e(0xc23))+_0x70285e(0xe3d);if(_0x270f91){if(_0x270f91[_0x70285e(0x1da)]&&_0x270f91[_0x70285e(0x1da)]['length']>0x0){let _0x46d4a7=_0x409547?_0x270f91[_0x70285e(0x286)]===_0x270f91['totalQuestions']:_0x581398!==-0x1&&_0x270f91['bestScore']>=_0x581398;const _0xfed58e=_0x46d4a7?_0x70285e(0x264):'bg-red-100\x20text-red-800',_0x2192b0=_0x46d4a7?'ผ่าน':_0x70285e(0xac0),_0x4e0054='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xfed58e+'\x22>'+_0x2192b0+'</span></td>',_0x1486a2='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x270f91[_0x70285e(0x1da)]?.[_0x70285e(0xe93)]||0x1)+'\x20ครั้ง)</span></td>',_0x55ed89=_0x70285e(0x397)+(_0x270f91[_0x70285e(0x8f1)]||0x0)['toLocaleString']()+_0x70285e(0x794)+_0xa12515+_0x70285e(0x358)+(_0x270f91[_0x70285e(0x8f1)]||0x0)+_0x70285e(0x926);_0x4285fe+=_0x70285e(0xa76)+_0xa12515+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x270f91[_0x70285e(0x286)]+_0x70285e(0xe75)+_0x270f91[_0x70285e(0xddd)]+_0x70285e(0x7ec)+_0x4e0054+_0x70285e(0xa8c)+_0x3394ab+_0x70285e(0x4a6)+_0x270f91[_0x70285e(0xb6f)]+'\x20/\x20'+_0x270f91[_0x70285e(0xddd)]+_0x70285e(0xaa2)+_0x270f91[_0x70285e(0xcd5)]+_0x70285e(0xe75)+_0x270f91[_0x70285e(0xddd)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x55ed89+_0x70285e(0x7ec)+_0x1486a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x270f91[_0x70285e(0x9ee)])[_0x70285e(0x63a)](_0x70285e(0x27c))+_0x70285e(0x64c)+_0xa12515+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x4dccf6=_0x70285e(0xad1);_0x4285fe+=_0x70285e(0xee8)+_0xa12515+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3394ab+_0x70285e(0x91a)+_0x4dccf6+_0x70285e(0xd43)+new Date(_0x270f91[_0x70285e(0x2ff)])[_0x70285e(0x63a)](_0x70285e(0x27c))+_0x70285e(0x1df)+_0xa12515+_0x70285e(0x1b9);}}else{const _0x57e9d4=_0x70285e(0x749);_0x4285fe+=_0x70285e(0xea8)+_0xa12515+_0x70285e(0x9bb)+_0x3394ab+_0x70285e(0x501)+_0x57e9d4+_0x70285e(0x7a7);}}),_0x101302['innerHTML']=_0x4285fe;}async function confirmRenameQuiz(){const _0x1c2391=_0x230ac1,_0x3e7f88=document[_0x1c2391(0x815)](_0x1c2391(0xc2e))[_0x1c2391(0xdd7)][_0x1c2391(0x99f)]();if(!_0x3e7f88){showMessage(_0x1c2391(0x966));return;}if(!actionTargetId)return;const _0x25d5ca=doc(db,_0x1c2391(0x884)+appId+_0x1c2391(0x8a2),actionTargetId);try{await updateDoc(_0x25d5ca,{'topic':_0x3e7f88}),showMessage(_0x1c2391(0x210)),renameQuizModal[_0x1c2391(0xeac)][_0x1c2391(0x4db)]('hidden'),actionTargetId=null;}catch(_0x559c20){console[_0x1c2391(0x1b6)](_0x1c2391(0xee5),_0x559c20),showMessage(_0x1c2391(0x8b5));}}async function handleMoveQuiz(_0x2ac116){const _0x48629a=_0x230ac1;actionTargetId=_0x2ac116;const _0x49caac=document['getElementById'](_0x48629a(0xc07));_0x49caac[_0x48629a(0x63b)]=_0x48629a(0xb51),moveQuizModal['classList'][_0x48629a(0xb0b)]('hidden');try{const _0xab4c41=collection(db,_0x48629a(0x884)+appId+'/public/data/projects'),_0x412975=await getDocs(_0xab4c41),_0x360e53=_0x412975[_0x48629a(0xcf8)][_0x48629a(0xe07)](_0x175933=>({'id':_0x175933['id'],..._0x175933[_0x48629a(0xdad)]()})),_0x564788=_0x360e53[_0x48629a(0x320)](_0x360c97=>_0x360c97['id']!==currentProjectId);if(_0x564788[_0x48629a(0xe93)]===0x0){_0x49caac[_0x48629a(0x63b)]=_0x48629a(0x3c4),document[_0x48629a(0x815)](_0x48629a(0x646))['disabled']=!![];return;}_0x49caac['innerHTML']=_0x564788[_0x48629a(0xe07)](_0x44c094=>_0x48629a(0x3a8)+_0x44c094['id']+'\x22>'+_0x44c094['projectName']+_0x48629a(0x817))[_0x48629a(0x885)](''),document['getElementById'](_0x48629a(0x646))[_0x48629a(0x44b)]=![];}catch(_0x17fbd1){console[_0x48629a(0x1b6)](_0x48629a(0x7a1),_0x17fbd1),showMessage(_0x48629a(0x70b)),moveQuizModal[_0x48629a(0xeac)][_0x48629a(0x4db)](_0x48629a(0xcc2));}}async function confirmMoveQuiz(){const _0x4279f2=_0x230ac1,_0x3a4385=document[_0x4279f2(0x815)](_0x4279f2(0xc07))[_0x4279f2(0xdd7)];if(!_0x3a4385){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x2942d6=doc(db,_0x4279f2(0x884)+appId+_0x4279f2(0x8a2),actionTargetId);try{await updateDoc(_0x2942d6,{'projectId':_0x3a4385}),showMessage(_0x4279f2(0x594)),moveQuizModal['classList'][_0x4279f2(0x4db)](_0x4279f2(0xcc2)),actionTargetId=null;}catch(_0x5a8381){console['error'](_0x4279f2(0x423),_0x5a8381),showMessage(_0x4279f2(0xc80));}}async function handleQuizSettings(_0x5aeb82){const _0x2d2b53=_0x230ac1;actionTargetId=_0x5aeb82;const _0x302678=doc(db,_0x2d2b53(0x884)+appId+_0x2d2b53(0x8a2),_0x5aeb82);try{const _0x597c96=await getDoc(_0x302678);if(_0x597c96[_0x2d2b53(0x939)]()){const _0x4adefa=_0x597c96['data'](),_0x1e8dfc=_0x4adefa[_0x2d2b53(0x22d)]||{},_0x3b7ea9=_0x4adefa[_0x2d2b53(0x746)][_0x2d2b53(0xe93)];document['getElementById']('modal-shuffle-select')[_0x2d2b53(0xdd7)]=_0x1e8dfc[_0x2d2b53(0x23d)]||'none',document[_0x2d2b53(0x815)]('modal-results-display-select')[_0x2d2b53(0xdd7)]=_0x1e8dfc[_0x2d2b53(0xbcf)]||_0x2d2b53(0x596),document[_0x2d2b53(0x815)](_0x2d2b53(0x507))[_0x2d2b53(0xdd7)]=_0x1e8dfc[_0x2d2b53(0x97a)]||'none',document[_0x2d2b53(0x815)](_0x2d2b53(0x8a5))[_0x2d2b53(0xdd7)]=_0x1e8dfc[_0x2d2b53(0x849)]||0xa,document[_0x2d2b53(0x815)](_0x2d2b53(0xbd1))[_0x2d2b53(0xdd7)]=_0x1e8dfc['passingScore']||Math[_0x2d2b53(0x599)](_0x3b7ea9/0x2),document['getElementById']('modal-passing-score-input')[_0x2d2b53(0x526)]=_0x3b7ea9,document[_0x2d2b53(0x815)](_0x2d2b53(0xa3f))[_0x2d2b53(0xdaf)]=_0x1e8dfc[_0x2d2b53(0xdef)]||![],document[_0x2d2b53(0x815)](_0x2d2b53(0xce4))[_0x2d2b53(0xdaf)]=_0x1e8dfc[_0x2d2b53(0x796)]||![];const _0x1ff47c=_0x1e8dfc[_0x2d2b53(0xa98)]||![];document[_0x2d2b53(0x815)]('modal-confidence-scoring-checkbox')[_0x2d2b53(0xdaf)]=_0x1ff47c,document['getElementById'](_0x2d2b53(0xb5b))[_0x2d2b53(0xdd7)]=_0x1e8dfc[_0x2d2b53(0x2dd)]||_0x2d2b53(0xe50);const _0xe2bb32=document[_0x2d2b53(0x815)](_0x2d2b53(0x89b));_0xe2bb32['classList'][_0x2d2b53(0x334)](_0x2d2b53(0xcc2),!_0x1ff47c),document[_0x2d2b53(0x815)](_0x2d2b53(0x507))['dispatchEvent'](new Event(_0x2d2b53(0x99b))),quizSettingsModal[_0x2d2b53(0xeac)]['remove']('hidden');}else showMessage(_0x2d2b53(0x66e));}catch(_0xfcfbd){console[_0x2d2b53(0x1b6)](_0x2d2b53(0x9c2),_0xfcfbd),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x34fd8b=_0x230ac1;if(!actionTargetId)return;const _0x2835c6=doc(db,_0x34fd8b(0x884)+appId+_0x34fd8b(0x8a2),actionTargetId),_0x17c9d5={'shuffle':document[_0x34fd8b(0x815)](_0x34fd8b(0x798))[_0x34fd8b(0xdd7)],'resultsDisplay':document[_0x34fd8b(0x815)](_0x34fd8b(0xc94))['value'],'timerMode':document['getElementById'](_0x34fd8b(0x507))[_0x34fd8b(0xdd7)],'timerDuration':parseInt(document['getElementById'](_0x34fd8b(0x8a5))[_0x34fd8b(0xdd7)])||0xa,'passingScore':parseInt(document[_0x34fd8b(0x815)](_0x34fd8b(0xbd1))[_0x34fd8b(0xdd7)])||0x0,'isAdaptive':document[_0x34fd8b(0x815)](_0x34fd8b(0xa3f))[_0x34fd8b(0xdaf)],'loopUntilPass':document[_0x34fd8b(0x815)](_0x34fd8b(0xce4))[_0x34fd8b(0xdaf)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x34fd8b(0x815)](_0x34fd8b(0xb5b))['value']};try{await updateDoc(_0x2835c6,{'settings':_0x17c9d5}),showMessage(_0x34fd8b(0xece)),quizSettingsModal[_0x34fd8b(0xeac)][_0x34fd8b(0x4db)]('hidden'),actionTargetId=null;}catch(_0x1117bf){console[_0x34fd8b(0x1b6)](_0x34fd8b(0xcff),_0x1117bf),showMessage(_0x34fd8b(0x840));}}async function confirmQuizStatus(){const _0x924af9=_0x230ac1;if(!actionTargetId)return;const _0x3cbce4=doc(db,'artifacts/'+appId+_0x924af9(0x8a2),actionTargetId),_0x5afeae=document[_0x924af9(0xd27)](_0x924af9(0x235));if(!_0x5afeae){showMessage('กรุณาเลือกสถานะ');return;}const _0x5e7632=_0x5afeae[_0x924af9(0xdd7)];let _0x26cd70={};if(_0x5e7632===_0x924af9(0xb0a)||_0x5e7632===_0x924af9(0xd7d))_0x26cd70={'status':_0x5e7632,'startTime':null,'endTime':null};else{if(_0x5e7632===_0x924af9(0x242)){const _0x418d75=document[_0x924af9(0x815)](_0x924af9(0x948))[_0x924af9(0xdd7)],_0x5c0b97=document['getElementById'](_0x924af9(0x5cf))[_0x924af9(0xdd7)];if(!_0x418d75&&!_0x5c0b97){showMessage(_0x924af9(0x983));return;}_0x26cd70={'status':_0x924af9(0x7e3),'startTime':_0x418d75?new Date(_0x418d75)['toISOString']():null,'endTime':_0x5c0b97?new Date(_0x5c0b97)[_0x924af9(0x464)]():null};}}try{await updateDoc(_0x3cbce4,_0x26cd70),showMessage(_0x924af9(0x405)),quizStatusModal[_0x924af9(0xeac)]['add'](_0x924af9(0xcc2)),actionTargetId=null;}catch(_0x415670){console[_0x924af9(0x1b6)](_0x924af9(0x867),_0x415670),showMessage(_0x924af9(0x968));}}function listenForStudentProfiles(_0xba15aa){const _0x5e209b=_0x230ac1,_0x36eecd=collection(db,_0x5e209b(0x884)+appId+'/public/data/projects/'+_0xba15aa+_0x5e209b(0x7fc));unsubscribeStudentProfilesListener=onSnapshot(_0x36eecd,_0xed9ba3=>{const _0x4f5886=_0x5e209b,_0x30c7fc=_0xed9ba3[_0x4f5886(0xcf8)]['map'](_0x54ee1b=>_0x54ee1b[_0x4f5886(0xdad)]());renderLeaderboard(_0x30c7fc,'leaderboard-table-body');},_0x33e425=>{const _0x2b73d6=_0x5e209b;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x33e425),document[_0x2b73d6(0x815)](_0x2b73d6(0x38c))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x52a3f3,_0x5afbaf){const _0x14388b=_0x230ac1,_0x1f9b8d=document['getElementById'](_0x5afbaf);if(!_0x52a3f3||_0x52a3f3[_0x14388b(0xe93)]===0x0){_0x1f9b8d[_0x14388b(0x63b)]=_0x14388b(0xee3);return;}_0x52a3f3[_0x14388b(0xa6f)]((_0x21d47f,_0x670e81)=>{const _0x363281=_0x14388b,_0x31be87=(_0x670e81['totalPoints']||0x0)-(_0x21d47f[_0x363281(0xa92)]||0x0);if(_0x31be87!==0x0)return _0x31be87;const _0x3df158=(_0x670e81['badgesCount']?.[_0x363281(0xa08)]||0x0)-(_0x21d47f[_0x363281(0x72d)]?.[_0x363281(0xa08)]||0x0);if(_0x3df158!==0x0)return _0x3df158;const _0x1f5f87=(_0x670e81[_0x363281(0x72d)]?.[_0x363281(0xd68)]||0x0)-(_0x21d47f[_0x363281(0x72d)]?.[_0x363281(0xd68)]||0x0);if(_0x1f5f87!==0x0)return _0x1f5f87;const _0x50225a=(_0x670e81[_0x363281(0x72d)]?.[_0x363281(0x719)]||0x0)-(_0x21d47f['badgesCount']?.[_0x363281(0x719)]||0x0);if(_0x50225a!==0x0)return _0x50225a;const _0x2558bb=(_0x670e81[_0x363281(0x72d)]?.['quick_thinker']||0x0)-(_0x21d47f[_0x363281(0x72d)]?.[_0x363281(0xcc8)]||0x0);if(_0x2558bb!==0x0)return _0x2558bb;return _0x21d47f[_0x363281(0x455)][_0x363281(0xdc1)](_0x670e81['studentName'],'th');});let _0x298e59='';_0x52a3f3[_0x14388b(0xdec)]((_0x346e62,_0x533489)=>{const _0x5370cb=_0x14388b,_0x46c10a=_0x533489+0x1,_0x98dfb2=_0x346e62[_0x5370cb(0x72d)]||{};let _0x123234='';const _0x3cf2fe=[_0x5370cb(0xa08),_0x5370cb(0x719),_0x5370cb(0xd68),_0x5370cb(0xcc8)];_0x3cf2fe[_0x5370cb(0xdec)](_0x1da65b=>{const _0x2023e8=_0x5370cb;if(_0x98dfb2[_0x1da65b]>0x0){const _0x5b6039=Object[_0x2023e8(0xdf2)](BADGES)[_0x2023e8(0x5eb)](_0x4a35ef=>_0x4a35ef['id']===_0x1da65b);_0x5b6039&&(_0x1da65b==='specialist'?_0x123234+=_0x2023e8(0x3aa)+_0x5b6039['name']+_0x2023e8(0xcc4)+_0x5b6039[_0x2023e8(0x20b)]+_0x2023e8(0x96d):_0x123234+=_0x2023e8(0x3aa)+_0x5b6039[_0x2023e8(0xcc9)]+'\x20('+_0x98dfb2[_0x1da65b]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5b6039[_0x2023e8(0x20b)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x98dfb2[_0x1da65b]+_0x2023e8(0x532));}}),_0x298e59+=_0x5370cb(0x9d7)+_0x46c10a+_0x5370cb(0x7ad)+_0x346e62['studentName']+_0x5370cb(0xe11)+(_0x346e62[_0x5370cb(0xa92)]||0x0)[_0x5370cb(0x63a)]()+_0x5370cb(0x7ad)+(_0x123234||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1f9b8d['innerHTML']=_0x298e59;}function displayLoopScreen(_0x129379,_0x333d5e,_0x57ab14){const _0x15f01c=_0x230ac1;let _0xef991a='';_0x57ab14!=='show_pass_fail_only'&&(_0xef991a=_0x15f01c(0xcaa)+_0x129379+_0x15f01c(0xe75)+_0x333d5e+_0x15f01c(0xd97));const _0x2f7649=_0x15f01c(0x2f9)+_0xef991a+_0x15f01c(0xd11);studentResultArea['innerHTML']=_0x2f7649,studentResultArea[_0x15f01c(0xeac)][_0x15f01c(0xb0b)]('hidden'),studentQuizArea['classList'][_0x15f01c(0x4db)](_0x15f01c(0xcc2)),document[_0x15f01c(0x815)]('retake-quiz-loop-btn')[_0x15f01c(0x7b7)]('click',()=>{const _0x20a042=_0x15f01c;studentResultArea['classList'][_0x20a042(0x4db)](_0x20a042(0xcc2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x32113c,_0x5414ca,_0x8a9921){const _0xc6c699=_0x230ac1,_0x11f281=document['getElementById'](_0x8a9921),_0x108783=_0x8a9921===_0xc6c699(0x2e0),_0x3db991=_0x5414ca['questions']['length'],_0x54c6ea=document[_0xc6c699(0x815)](_0x8a9921)[_0xc6c699(0xa28)]('table');if(_0x54c6ea&&!_0x108783){const _0x26ba84=_0x54c6ea[_0xc6c699(0xd27)](_0xc6c699(0x937));_0x26ba84['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x32113c||_0x32113c[_0xc6c699(0xe93)]===0x0){_0x11f281[_0xc6c699(0x63b)]=_0xc6c699(0x5f0)+(_0x108783?0x6:0x8)+_0xc6c699(0xad3);return;}const _0x3f4017=[..._0x32113c];_0x3f4017[_0xc6c699(0xa6f)]((_0x478828,_0x2f4917)=>{const _0x32b09a=_0xc6c699;let _0x176e35,_0x31297b;switch(quizLeaderboardSortBy){case _0x32b09a(0x455):_0x176e35=_0x478828[_0x32b09a(0x455)]||'',_0x31297b=_0x2f4917[_0x32b09a(0x455)]||'';return quizLeaderboardSortOrder===_0x32b09a(0x328)?_0x176e35[_0x32b09a(0xdc1)](_0x31297b,'th'):_0x31297b[_0x32b09a(0xdc1)](_0x176e35,'th');case _0x32b09a(0x8f1):_0x176e35=_0x478828[_0x32b09a(0x8f1)]||0x0,_0x31297b=_0x2f4917[_0x32b09a(0x8f1)]||0x0;break;case'attempts':_0x176e35=_0x478828['attempts']?.[_0x32b09a(0xe93)]||0x1,_0x31297b=_0x2f4917['attempts']?.[_0x32b09a(0xe93)]||0x1;break;case _0x32b09a(0x9ee):_0x176e35=new Date(_0x478828[_0x32b09a(0x9ee)]),_0x31297b=new Date(_0x2f4917[_0x32b09a(0x9ee)]);break;case _0x32b09a(0x286):default:_0x176e35=_0x478828['bestScore'],_0x31297b=_0x2f4917['bestScore'];break;}if(_0x176e35<_0x31297b)return quizLeaderboardSortOrder===_0x32b09a(0x328)?-0x1:0x1;if(_0x176e35>_0x31297b)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x259f80=_0x5414ca[_0xc6c699(0xd09)]===!![],_0x44a8d7=_0x5414ca[_0xc6c699(0x22d)]?.[_0xc6c699(0x59f)]??-0x1;let _0xc5e76f='';_0x3f4017[_0xc6c699(0xdec)]((_0x4e4f88,_0x209d81)=>{const _0x50bfd7=_0xc6c699,_0xc0bb8f=_0x209d81+0x1;let _0x536579=_0x50bfd7(0x712);if(_0x259f80||_0x44a8d7!==-0x1){let _0x22a698=_0x259f80?_0x4e4f88['bestScore']===_0x3db991:_0x4e4f88[_0x50bfd7(0x286)]>=_0x44a8d7;const _0x1a5f16=_0x22a698?'bg-green-100\x20text-green-800':_0x50bfd7(0xd29),_0x537687=_0x22a698?_0x50bfd7(0x5a5):_0x50bfd7(0xac0);_0x536579=_0x50bfd7(0xc28)+_0x1a5f16+'\x22>'+_0x537687+_0x50bfd7(0xe3d);}const _0x56a137=_0x4e4f88['attempts'][_0x4e4f88[_0x50bfd7(0x1da)][_0x50bfd7(0xe93)]-0x1],_0x41edd0=(_0x56a137[_0x50bfd7(0x200)]||[])[_0x50bfd7(0xe07)](_0x1a3716=>{const _0x3d2fbe=_0x50bfd7,_0x1ee54d=Object['values'](BADGES)['find'](_0x4abe0b=>_0x4abe0b['id']===_0x1a3716);return _0x1ee54d?'<span\x20title=\x22'+_0x1ee54d['name']+_0x3d2fbe(0x25a)+_0x1ee54d[_0x3d2fbe(0x20b)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x50bfd7(0x885)]('');_0xc5e76f+=_0x50bfd7(0x51e)+_0xc0bb8f+_0x50bfd7(0x8d6)+_0x4e4f88[_0x50bfd7(0x455)]+_0x50bfd7(0xc88)+_0x4e4f88[_0x50bfd7(0x286)]+'\x20/\x20'+_0x3db991+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x536579+_0x50bfd7(0x8c5)+(_0x4e4f88[_0x50bfd7(0x8f1)]||0x0)['toLocaleString']()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x108783?'':_0x50bfd7(0x694)+(_0x4e4f88[_0x50bfd7(0x1da)]?.[_0x50bfd7(0xe93)]||0x1)+_0x50bfd7(0x782))+_0x50bfd7(0xe81)+(_0x108783?'':_0x50bfd7(0xa0e)+new Date(_0x4e4f88[_0x50bfd7(0x9ee)])[_0x50bfd7(0x63a)]('th-TH')+_0x50bfd7(0x782))+_0x50bfd7(0xe54)+(_0x41edd0||'-')+_0x50bfd7(0x9e8);}),_0x11f281['innerHTML']=_0xc5e76f,_0x54c6ea&&!_0x108783&&_0x54c6ea[_0xc6c699(0x8c8)](_0xc6c699(0xa1a))[_0xc6c699(0xdec)](_0x121380=>{const _0x3dca16=_0xc6c699,_0x37df36=_0x121380[_0x3dca16(0xd27)](_0x3dca16(0x86c));if(_0x37df36)_0x37df36[_0x3dca16(0xb0b)]();_0x121380[_0x3dca16(0x5ff)][_0x3dca16(0xa6f)]===quizLeaderboardSortBy&&(_0x121380['innerHTML']+=_0x3dca16(0xd13)+(quizLeaderboardSortOrder===_0x3dca16(0x328)?'▲':'▼')+_0x3dca16(0x3af));});}async function handleDeleteSubmission(_0x2fff45){const _0x18fefa=_0x230ac1;if(!currentQuizData||!currentQuizData['id']||!_0x2fff45){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x18fefa(0x341)+_0x2fff45+_0x18fefa(0x530),async()=>{const _0x340c81=_0x18fefa,_0x25abc8=currentQuizData['id'],_0x2d5baf=doc(db,'artifacts/'+appId+_0x340c81(0xa60)+_0x25abc8+_0x340c81(0xb77),_0x2fff45);try{await deleteDoc(_0x2d5baf),showMessage(_0x340c81(0xcc0)+_0x2fff45+_0x340c81(0x7c7));}catch(_0x3a5ef1){console[_0x340c81(0x1b6)]('Error\x20deleting\x20submission:',_0x3a5ef1),showMessage(_0x340c81(0x61a));}});}async function handleLoadQuiz(){const _0x565523=_0x230ac1,_0x2c8f8c=document['getElementById']('quiz-id-input'),_0x3f0107=_0x2c8f8c[_0x565523(0xdd7)][_0x565523(0x99f)]();if(!_0x3f0107){showMessage(_0x565523(0x2ca));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x5859c5=doc(db,_0x565523(0x884)+appId+_0x565523(0x8a2),_0x3f0107),_0x525227=await getDoc(_0x5859c5);if(!_0x525227[_0x565523(0x939)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x525227['id'],..._0x525227[_0x565523(0xdad)]()};const _0x28bcde=currentQuizData[_0x565523(0xc71)]||_0x565523(0xb0a),_0xbce1bd=new Date();if(_0x28bcde==='inactive'){showMessage(_0x565523(0xed5));return;}if(_0x28bcde===_0x565523(0x7e3)){const _0x56aee8=currentQuizData['startTime']?new Date(currentQuizData['startTime']):null,_0x1aee3e=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0x56aee8&&_0xbce1bd<_0x56aee8){showMessage(_0x565523(0x265)+_0x56aee8[_0x565523(0x63a)](_0x565523(0x27c),{'hour12':![]}));return;}if(_0x1aee3e&&_0xbce1bd>_0x1aee3e){showMessage(_0x565523(0x637));return;}}const _0x1ce0c3=currentQuizData[_0x565523(0x791)];currentProjectId=_0x1ce0c3;const _0x493447=doc(db,_0x565523(0x884)+appId+_0x565523(0xb81),_0x1ce0c3),_0xbf62cd=await getDoc(_0x493447);if(!_0xbf62cd[_0x565523(0x939)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x27a522=_0xbf62cd[_0x565523(0xdad)]();currentStudentProjectData=_0x27a522,displayStudentNameSelector(_0x27a522[_0x565523(0xa2f)],currentQuizData[_0x565523(0xbdd)]);}catch(_0x843946){console[_0x565523(0x1b6)]('Error\x20loading\x20quiz\x20for\x20student:',_0x843946),showMessage(_0x565523(0xf16));}finally{loadQuizBtn[_0x565523(0x44b)]=![],loadQuizBtn['innerHTML']=_0x565523(0x2bd);}}async function handleManualEditPoints(_0x5173c8,_0x1b4a4b){const _0x6db3b3=_0x230ac1;if(!currentQuizData||!currentQuizData['id'])return;const _0x72d5f3=currentQuizData['id'],_0xf451dd=doc(db,_0x6db3b3(0x884)+appId+_0x6db3b3(0xa60)+_0x72d5f3+_0x6db3b3(0xb77),_0x5173c8);try{const _0x5ae222=await getDoc(_0xf451dd);if(!_0x5ae222['exists']())return;const _0x41bbe8=_0x5ae222[_0x6db3b3(0xdad)](),_0x12f417=_0x41bbe8[_0x6db3b3(0x1da)]||[];_0x12f417[_0x6db3b3(0xe93)]>0x0&&(_0x12f417[_0x12f417['length']-0x1][_0x6db3b3(0x8f1)]=_0x1b4a4b,_0x12f417[_0x12f417[_0x6db3b3(0xe93)]-0x1][_0x6db3b3(0xbb8)]=!![]),await updateDoc(_0xf451dd,{'points':_0x1b4a4b,'attempts':_0x12f417}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x5173c8),showMessage(_0x6db3b3(0x902)+_0x5173c8+_0x6db3b3(0xd31)+_0x1b4a4b+_0x6db3b3(0x56c));}catch(_0x4cee16){console[_0x6db3b3(0x1b6)]('Error\x20updating\x20points:',_0x4cee16),showMessage(_0x6db3b3(0xad7));}}async function handleJoinLiveGame(){const _0x20a45b=_0x230ac1,_0x4b2162=document[_0x20a45b(0x815)](_0x20a45b(0xbe1)),_0x22eb86=document[_0x20a45b(0x815)]('nickname-input'),_0x373e2c=document[_0x20a45b(0x815)]('confirm-join-game-btn'),_0x203e45=_0x4b2162[_0x20a45b(0xdd7)][_0x20a45b(0x99f)](),_0x15613d=_0x22eb86['value'][_0x20a45b(0x99f)]();if(!_0x203e45||!_0x15613d){showMessage(_0x20a45b(0x28b));return;}_0x373e2c[_0x20a45b(0x44b)]=!![],_0x373e2c['innerHTML']=_0x20a45b(0xcc3);try{const _0x5d1be5=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x21be78=query(_0x5d1be5,where('gamePin','==',_0x203e45),where('status','in',[_0x20a45b(0x768),_0x20a45b(0xc56)])),_0x574799=await getDocs(_0x21be78);if(_0x574799[_0x20a45b(0x58b)]){showMessage(_0x20a45b(0x3a7));return;}const _0xe6fd71=_0x574799[_0x20a45b(0xcf8)][0x0],_0x6f18f8=_0xe6fd71[_0x20a45b(0xdad)]();currentLiveGameId=_0xe6fd71['id'];const _0x1d03fa=_0x6f18f8[_0x20a45b(0x6b4)],_0x2ea4e4=doc(db,_0x20a45b(0x884)+appId+'/public/data/quizzes',_0x1d03fa),_0x3835ac=await getDoc(_0x2ea4e4);if(!_0x3835ac[_0x20a45b(0x939)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x3835ac['id'],..._0x3835ac[_0x20a45b(0xdad)]()};if(_0x6f18f8[_0x20a45b(0x9f8)]&&_0x6f18f8[_0x20a45b(0x9f8)][_0x15613d]){const _0x1e25eb=_0x6f18f8['players'][_0x15613d];if(_0x1e25eb[_0x20a45b(0xc71)]===_0x20a45b(0xd7d)){_0x373e2c[_0x20a45b(0x63b)]=_0x20a45b(0x4e7);const _0x5b0420={};_0x5b0420['players.'+_0x15613d+_0x20a45b(0xb53)]='active',await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x5b0420),showView(_0x20a45b(0xb32)),currentStudentName=_0x15613d,listenForLiveGameUpdates();return;}else{showMessage(_0x20a45b(0x289));return;}}if(_0x6f18f8[_0x20a45b(0xc71)]!=='lobby'){showMessage(_0x20a45b(0x2f5));return;}_0x373e2c[_0x20a45b(0x63b)]=_0x20a45b(0x9e1);const _0x346f1a={};_0x346f1a[_0x20a45b(0x8d8)+_0x15613d]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x20a45b(0x7c2),currentLiveGameId),_0x346f1a),currentStudentName=_0x15613d,listenForLiveGameUpdates();}catch(_0x4bc1c8){console[_0x20a45b(0x1b6)]('Error\x20joining\x20live\x20game:',_0x4bc1c8),showMessage(_0x20a45b(0x7bf));}finally{_0x373e2c['disabled']=![],_0x373e2c[_0x20a45b(0x63b)]=_0x20a45b(0x31c);}}function displayStudentNameSelector(_0x497ad6,_0x141e1c){const _0x382e38=_0x230ac1,_0x17ca9e=document[_0x382e38(0x815)](_0x382e38(0x581));document[_0x382e38(0x815)](_0x382e38(0xd3d))['textContent']='แบบทดสอบ:\x20'+_0x141e1c,!_0x497ad6||_0x497ad6[_0x382e38(0xe93)]===0x0?(_0x17ca9e[_0x382e38(0x63b)]=_0x382e38(0x7e8),startQuizBtn[_0x382e38(0x44b)]=!![]):(_0x17ca9e[_0x382e38(0x63b)]=_0x382e38(0xb44),_0x497ad6[_0x382e38(0xdec)](_0x463d87=>{const _0x10a853=_0x382e38,_0x50b1ee=document['createElement'](_0x10a853(0x576));_0x50b1ee[_0x10a853(0xdd7)]=_0x463d87,_0x50b1ee['textContent']=_0x463d87,_0x17ca9e[_0x10a853(0x2f2)](_0x50b1ee);}),startQuizBtn[_0x382e38(0x44b)]=![]),studentInitialView[_0x382e38(0xeac)][_0x382e38(0x4db)]('hidden'),studentNameSelectionView[_0x382e38(0xeac)][_0x382e38(0xb0b)]('hidden');}function shuffleArray(_0x23e074){const _0x178f1b=_0x230ac1;for(let _0x3d2439=_0x23e074[_0x178f1b(0xe93)]-0x1;_0x3d2439>0x0;_0x3d2439--){const _0x2748bd=Math[_0x178f1b(0x599)](Math['random']()*(_0x3d2439+0x1));[_0x23e074[_0x3d2439],_0x23e074[_0x2748bd]]=[_0x23e074[_0x2748bd],_0x23e074[_0x3d2439]];}}function getShuffledQuiz(_0x16760e){const _0x579ff8=_0x230ac1;let _0x217e10=JSON[_0x579ff8(0x74f)](JSON[_0x579ff8(0xd0a)](_0x16760e));const _0x5457f2=_0x217e10[_0x579ff8(0x22d)]?.['shuffle']||'none';if(_0x5457f2===_0x579ff8(0x1e2))return _0x217e10;return(_0x5457f2===_0x579ff8(0xbb6)||_0x5457f2===_0x579ff8(0x990))&&shuffleArray(_0x217e10[_0x579ff8(0x746)]),(_0x5457f2===_0x579ff8(0x5ac)||_0x5457f2===_0x579ff8(0x990))&&_0x217e10[_0x579ff8(0x746)]['forEach'](_0x1a2feb=>{const _0x4490b7=_0x579ff8,_0x1cf6aa=_0x1a2feb['questionType']||_0x217e10[_0x4490b7(0x1c2)];if(_0x1a2feb[_0x4490b7(0xa9c)]){let _0x4bff5c=_0x1a2feb[_0x4490b7(0xa9c)][_0x4490b7(0xe07)]((_0x2914e4,_0x32fb2f)=>({'text':_0x2914e4,'isCorrect':_0x32fb2f===_0x1a2feb[_0x4490b7(0xdfa)]}));shuffleArray(_0x4bff5c),_0x1a2feb[_0x4490b7(0xa9c)]=_0x4bff5c[_0x4490b7(0xe07)](_0x80893f=>_0x80893f[_0x4490b7(0x317)]),_0x1a2feb[_0x4490b7(0xdfa)]=_0x4bff5c[_0x4490b7(0x7cd)](_0x4396c5=>_0x4396c5['isCorrect']);}_0x1cf6aa==='matching_item'&&_0x1a2feb[_0x4490b7(0x787)]&&shuffleArray(_0x1a2feb[_0x4490b7(0x787)]);}),_0x217e10;}function displayQuizForStudent(_0x54deeb){const _0x505f2c=_0x230ac1;studentQuizArea['classList'][_0x505f2c(0xb0b)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x54deeb);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x505f2c(0x7b7)](_0x505f2c(0x377),handleFullscreenChange),document[_0x505f2c(0x7b7)](_0x505f2c(0x36a),handleVisibilityChange),enterFullscreen(),window[_0x505f2c(0x7b7)](_0x505f2c(0xcc6),resetDimTimer),window[_0x505f2c(0x7b7)](_0x505f2c(0xdbb),resetDimTimer),window['addEventListener'](_0x505f2c(0xec9),resetDimTimer),window['addEventListener'](_0x505f2c(0x3fc),resetDimTimer),resetDimTimer());const _0x529d11=currentDisplayedQuiz['settings']?.[_0x505f2c(0x97a)]||_0x505f2c(0x1e2);if(_0x529d11===_0x505f2c(0xcb1))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x505f2c(0x22d)]['timerDuration']);else _0x529d11===_0x505f2c(0xd1a)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x230ac1(0xdda)]=function(_0x1c66dd){const _0x2c56ba=_0x230ac1,_0x2f8b09=document['getElementById'](_0x2c56ba(0x285)+_0x1c66dd),_0x5046f9=document['querySelectorAll']('[id^=\x22dropdown-list-\x22]');_0x5046f9['forEach'](_0x632ba7=>{const _0xe64751=_0x2c56ba;if(_0x632ba7['id']!=='dropdown-list-'+_0x1c66dd)_0x632ba7[_0xe64751(0xeac)]['add'](_0xe64751(0xcc2));});if(_0x2f8b09)_0x2f8b09[_0x2c56ba(0xeac)][_0x2c56ba(0x334)](_0x2c56ba(0xcc2));},window[_0x230ac1(0x5f1)]=function(_0x5ce780,_0x48af95){const _0x306fb8=_0x230ac1,_0x19d393=currentDisplayedQuiz;if(!_0x19d393)return;const _0x8b82fd=_0x19d393[_0x306fb8(0x746)][_0x5ce780],_0x54f4f7=_0x8b82fd['allResponses'][_0x48af95],_0x517bb1=document[_0x306fb8(0x815)]('input-'+_0x5ce780);if(_0x517bb1)_0x517bb1[_0x306fb8(0xdd7)]=_0x54f4f7;const _0xc0e3e1=document[_0x306fb8(0x815)]('selected-text-'+_0x5ce780);if(_0xc0e3e1){_0xc0e3e1[_0x306fb8(0x63b)]=_0x54f4f7;if(window[_0x306fb8(0x67a)])MathJax[_0x306fb8(0x40b)]([_0xc0e3e1]);_0xc0e3e1[_0x306fb8(0xeac)]['add'](_0x306fb8(0xabf),'font-bold');}const _0x3cfc52=document['getElementById']('dropdown-list-'+_0x5ce780);if(_0x3cfc52)_0x3cfc52[_0x306fb8(0xeac)][_0x306fb8(0x4db)](_0x306fb8(0xcc2));},document[_0x230ac1(0x7b7)]('click',_0x4f65de=>{const _0x1b693a=_0x230ac1;!_0x4f65de['target'][_0x1b693a(0xa28)](_0x1b693a(0xc9b))&&document[_0x1b693a(0x8c8)](_0x1b693a(0x268))[_0x1b693a(0xdec)](_0x3cf256=>_0x3cf256['classList'][_0x1b693a(0x4db)]('hidden'));});function renderFullQuizForm(){const _0x3384a7=_0x230ac1,_0x22420a=currentDisplayedQuiz[_0x3384a7(0x22d)]?.[_0x3384a7(0xa98)]===!![],_0x5bff9d=currentDisplayedQuiz[_0x3384a7(0x22d)]?.['confidenceMode']||'checkbox';let _0x4d18b5=![],_0x12289b=_0x3384a7(0x6c7)+currentDisplayedQuiz[_0x3384a7(0xbdd)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3384a7(0xb1b)?_0x3384a7(0xa06):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x3384a7(0x746)][_0x3384a7(0xdec)]((_0x2b1e79,_0x4ba245)=>{const _0x5a47ac=_0x3384a7,_0x16febe=_0x2b1e79['questionType']||currentDisplayedQuiz[_0x5a47ac(0x1c2)],_0x3abe97='z-index:\x20'+(0x64-_0x4ba245)+';';_0x16febe==='matching_item'&&!_0x4d18b5&&(_0x12289b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4d18b5=!![]);_0x12289b+=_0x5a47ac(0x660)+_0x3abe97+'\x22>';_0x16febe!==_0x5a47ac(0x52a)&&(_0x12289b+=_0x5a47ac(0x1b5)+(_0x4ba245+0x1)+'.\x20'+(_0x2b1e79[_0x5a47ac(0x875)]||_0x2b1e79['questionText'])+_0x5a47ac(0x89d)+(_0x2b1e79[_0x5a47ac(0x74b)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2b1e79['imageCode']+_0x5a47ac(0xcb3):'')+_0x5a47ac(0x659));_0x12289b+=_0x5a47ac(0x838);if(_0x16febe===_0x5a47ac(0x52a)&&_0x2b1e79[_0x5a47ac(0x787)])_0x12289b+=_0x5a47ac(0x2f0)+(_0x4ba245+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x2b1e79['stem']+_0x5a47ac(0x962)+_0x4ba245+_0x5a47ac(0x511)+_0x4ba245+_0x5a47ac(0xc2c)+_0x4ba245+_0x5a47ac(0x3d7)+_0x4ba245+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x4ba245+_0x5a47ac(0xbc2)+_0x2b1e79[_0x5a47ac(0x787)]['map']((_0x3e950c,_0x45f34f)=>_0x5a47ac(0x5c3)+_0x4ba245+',\x20'+_0x45f34f+_0x5a47ac(0xa7a)+_0x3e950c+_0x5a47ac(0x33e))[_0x5a47ac(0x885)]('')+_0x5a47ac(0xc70);else{if(_0x16febe===_0x5a47ac(0xcba))_0x12289b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x4ba245+_0x5a47ac(0x3d0)+_0x4ba245+_0x5a47ac(0xb36)+_0x4ba245+_0x5a47ac(0x952),_0x12289b+=_0x5a47ac(0xc84)+_0x4ba245+'_opt1\x22\x20name=\x22question'+_0x4ba245+_0x5a47ac(0xaeb)+_0x4ba245+'_opt1\x22>ไม่ใช่</label></div>';else _0x2b1e79[_0x5a47ac(0xa9c)]&&Array[_0x5a47ac(0xddf)](_0x2b1e79[_0x5a47ac(0xa9c)])&&_0x2b1e79[_0x5a47ac(0xa9c)]['length']>0x0?_0x12289b+=_0x2b1e79[_0x5a47ac(0xa9c)][_0x5a47ac(0xe07)]((_0x4e32ab,_0x466d82)=>_0x5a47ac(0xb2b)+_0x4ba245+_0x5a47ac(0x4c2)+_0x466d82+_0x5a47ac(0x833)+_0x4ba245+'\x22\x20value=\x22'+_0x466d82+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x4ba245+_0x5a47ac(0x4c2)+_0x466d82+'\x22>'+_0x4e32ab+_0x5a47ac(0xd1b))[_0x5a47ac(0x885)](''):_0x12289b+='<textarea\x20name=\x22question'+_0x4ba245+_0x5a47ac(0x3d9);}_0x12289b+=_0x5a47ac(0xcb3),_0x22420a&&(_0x12289b+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x5bff9d===_0x5a47ac(0xf17)?_0x12289b+=_0x5a47ac(0xe2e)+_0x4ba245+_0x5a47ac(0xbec)+_0x4ba245+_0x5a47ac(0x522)+_0x4ba245+_0x5a47ac(0x662)+_0x4ba245+_0x5a47ac(0xba9):_0x12289b+=_0x5a47ac(0x72f)+_0x4ba245+_0x5a47ac(0xbec)+_0x4ba245+_0x5a47ac(0xe0c)+_0x4ba245+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x12289b+='</div>'),_0x12289b+=_0x5a47ac(0xcb3);}),_0x12289b+=_0x3384a7(0x836),_0x12289b+='</form>',studentQuizArea['innerHTML']=_0x12289b;if(currentMode===_0x3384a7(0xb1b)){const _0x5a19fb=document[_0x3384a7(0x815)](_0x3384a7(0x88e));if(_0x5a19fb)_0x5a19fb[_0x3384a7(0x7b7)](_0x3384a7(0x7a5),cancelAdminTest);}const _0x35d16c=document[_0x3384a7(0x815)](_0x3384a7(0xba6));_0x35d16c&&(_0x35d16c[_0x3384a7(0x7b7)](_0x3384a7(0xb67),handleSubmitQuiz),_0x35d16c[_0x3384a7(0x7b7)](_0x3384a7(0x7a5),_0x450dd3=>{const _0x448f73=_0x3384a7;if(_0x450dd3[_0x448f73(0x3d1)]['classList'][_0x448f73(0x65d)](_0x448f73(0xaa1))){const _0x482724=_0x450dd3['target'],_0x1bf362=_0x482724[_0x448f73(0x5ff)][_0x448f73(0xeb9)],_0x18d6e3=_0x482724[_0x448f73(0x5ff)][_0x448f73(0xdd7)];document[_0x448f73(0x815)](_0x448f73(0x24b)+_0x1bf362)[_0x448f73(0xdd7)]=_0x18d6e3;const _0x21ccdc=_0x482724[_0x448f73(0xaa0)];_0x21ccdc['querySelectorAll'](_0x448f73(0x361))[_0x448f73(0xdec)](_0x5e696f=>_0x5e696f[_0x448f73(0xeac)][_0x448f73(0xb0b)](_0x448f73(0xb0a))),_0x482724[_0x448f73(0xeac)][_0x448f73(0x4db)](_0x448f73(0xb0a));}})),window['MathJax']&&setTimeout(()=>{const _0x268e1b=_0x3384a7;window[_0x268e1b(0x67a)][_0x268e1b(0x40b)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x25ff8d){const _0x24c947=_0x230ac1;if(_0x25ff8d)_0x25ff8d['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1ce818=document[_0x24c947(0x815)](_0x24c947(0xba6));if(!_0x1ce818)return;const _0x58661a=currentDisplayedQuiz[_0x24c947(0x22d)]?.['isConfidenceScoringEnabled']===!![],_0x5d1062=currentDisplayedQuiz['settings']?.[_0x24c947(0x2dd)]||_0x24c947(0xe50);if(_0x58661a&&_0x5d1062===_0x24c947(0xf17)){let _0xb79603=!![];for(let _0x14f134=0x0;_0x14f134<currentDisplayedQuiz[_0x24c947(0x746)][_0x24c947(0xe93)];_0x14f134++){const _0x308528=_0x1ce818['querySelector'](_0x24c947(0x2c7)+_0x14f134);if(!_0x308528||_0x308528[_0x24c947(0xdd7)]===''){_0xb79603=![];break;}}if(!_0xb79603){showMessage(_0x24c947(0xab4));return;}}const _0x5164a2=_0x1ce818['querySelector'](_0x24c947(0xdd6)),_0x1e7346=currentDisplayedQuiz['questions'][_0x24c947(0x1c1)](_0xf5e843=>_0xf5e843['questionType']==='short_answer');_0x5164a2&&(_0x5164a2[_0x24c947(0x44b)]=!![],_0x5164a2[_0x24c947(0x63b)]=_0x1e7346?_0x24c947(0xeb3):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x15f2aa=new FormData(_0x1ce818),_0x52706b=currentDisplayedQuiz[_0x24c947(0x746)]['map']((_0x5cdc1f,_0x2d524a)=>{const _0x57e060=_0x24c947,_0x386afd=_0x15f2aa[_0x57e060(0x837)](_0x57e060(0xc56)+_0x2d524a);let _0x4e09eb;_0x5d1062==='mandatory'?_0x4e09eb=_0x15f2aa[_0x57e060(0x837)](_0x57e060(0xcae)+_0x2d524a):_0x4e09eb=_0x15f2aa[_0x57e060(0x837)]('confidence'+_0x2d524a)==='on';let _0x29987a=null;if(_0x386afd!==null&&_0x386afd!==undefined){const _0x2d380e=_0x5cdc1f['questionType']||currentDisplayedQuiz[_0x57e060(0x1c2)];_0x2d380e===_0x57e060(0x653)||_0x2d380e===_0x57e060(0xd0b)?_0x29987a=parseInt(_0x386afd):_0x29987a=_0x386afd;}return{'answer':_0x29987a,'wasConfident':_0x4e09eb};}),_0x3e9d5e=currentQuizData['id'],_0xa20481=doc(db,_0x24c947(0x884)+appId+'/public/data/quizzes/'+_0x3e9d5e+_0x24c947(0xb77),currentStudentName),_0x33141e=await getDoc(_0xa20481),_0x2cd26c=_0x33141e[_0x24c947(0x939)]()?_0x33141e[_0x24c947(0xdad)]():{},_0x410b12=_0x2cd26c['attempts']||[];await processAndSubmitAnswers(_0x52706b,_0x410b12);}async function gradeShortAnswerWithAI(_0x2f2430,_0x4de8ec){const _0x2a2900=_0x230ac1;if(!_0x2f2430||!_0x4de8ec)return![];try{const _0x428f61=_0x2a2900(0x570)+_0x2f2430+_0x2a2900(0x216)+_0x4de8ec+_0x2a2900(0x992),_0x1a182c={'contents':[{'role':'user','parts':[{'text':_0x428f61}]}]},_0x50c1f3=_0x2a2900(0x769),_0x30f1c1='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x50c1f3,_0x5cd8a0=await fetch(_0x30f1c1,{'method':_0x2a2900(0x757),'headers':{'Content-Type':_0x2a2900(0x717)},'body':JSON['stringify'](_0x1a182c)});if(!_0x5cd8a0['ok'])throw new Error(_0x2a2900(0x403));const _0x37bd8b=await _0x5cd8a0[_0x2a2900(0xaf8)](),_0x2dc0f3=_0x37bd8b[_0x2a2900(0xe70)][0x0][_0x2a2900(0xf14)][_0x2a2900(0x5b8)][0x0][_0x2a2900(0x317)][_0x2a2900(0x99f)]()[_0x2a2900(0xaec)]();return _0x2dc0f3===_0x2a2900(0x2f8);}catch(_0x460297){return console[_0x2a2900(0x1b6)](_0x2a2900(0x75a),_0x460297),![];}}async function processAndSubmitAnswers(_0x52bdbf,_0x5828de){const _0x3007d8=_0x230ac1;releaseWakeLock(),stopDimTimer();try{document[_0x3007d8(0xf06)]&&await document[_0x3007d8(0xbe7)]();}catch(_0x77bb49){console[_0x3007d8(0x86a)]('Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):',_0x77bb49);}isQuizActive=![],document['removeEventListener'](_0x3007d8(0x377),handleFullscreenChange),document[_0x3007d8(0x8d5)](_0x3007d8(0x36a),handleVisibilityChange);let _0x5b764e=0x0;const _0x34f325=[],_0x1d406b=currentDisplayedQuiz['questions'][_0x3007d8(0xe93)];let _0x5698c0=0x0,_0x297251=[];const _0x5db66b=currentDisplayedQuiz[_0x3007d8(0x746)];for(let _0x550e3e=0x0;_0x550e3e<_0x5db66b[_0x3007d8(0xe93)];_0x550e3e++){const _0x3428e0=_0x5db66b[_0x550e3e],_0x224719=_0x52bdbf[_0x550e3e],_0xe64083=_0x224719?_0x224719[_0x3007d8(0x8cc)]:null,_0x388eb8=_0x224719?_0x224719[_0x3007d8(0x8de)]:null;let _0x4db8f8=![],_0x398424=0x0;if(_0xe64083!==null&&_0xe64083!==''){const _0xca204=_0x3428e0[_0x3007d8(0x1f4)]||currentDisplayedQuiz[_0x3007d8(0x1c2)];switch(_0xca204){case _0x3007d8(0x52a):_0x4db8f8=_0xe64083===_0x3428e0['correctResponse'];break;case _0x3007d8(0xcba):const _0x18fd20=_0xe64083===!![]||_0xe64083===_0x3007d8(0x2f8);_0x4db8f8=_0x18fd20===_0x3428e0[_0x3007d8(0x68b)];break;case'fill_in_no_choices':case _0x3007d8(0x270):_0x4db8f8=await gradeShortAnswer(_0xe64083,_0x3428e0);break;case _0x3007d8(0x653):case _0x3007d8(0xd8e):default:_0x4db8f8=Number(_0xe64083)===_0x3428e0[_0x3007d8(0xdfa)];break;}}if(currentDisplayedQuiz[_0x3007d8(0x22d)]?.['isConfidenceScoringEnabled']){const _0x23bcda=_0x224719?_0x224719['wasConfident']:null;if(_0x4db8f8&&(_0x23bcda===!![]||_0x23bcda===_0x3007d8(0xbad)))_0x398424=0x2;else{if(_0x4db8f8)_0x398424=0x1;else{if(!_0x4db8f8&&(_0x23bcda===![]||_0x23bcda===_0x3007d8(0x4c9)||_0x23bcda===null))_0x398424=0x0;else!_0x4db8f8&&(_0x23bcda===!![]||_0x23bcda===_0x3007d8(0xbad))&&(_0x398424=-0x1);}}}else _0x398424=_0x4db8f8?0x1:0x0;_0x5b764e+=_0x398424;if(_0x4db8f8){_0x5698c0++;if(_0x5698c0===0x3)_0x297251[_0x3007d8(0xacf)](BADGES[_0x3007d8(0x727)]['id']);}else _0x5698c0=0x0;let _0x3e6dab=null;_0x3428e0[_0x3007d8(0xa9c)]&&(_0x3428e0[_0x3007d8(0x1f4)]===_0x3007d8(0x653)||_0x3428e0[_0x3007d8(0x1f4)]===_0x3007d8(0xd8e))&&_0xe64083!==null?_0x3e6dab=_0x3428e0[_0x3007d8(0xa9c)][_0xe64083]:_0x3e6dab=_0xe64083,_0x34f325[_0x3007d8(0xacf)]({'questionId':_0x3428e0['id'],'answer':_0xe64083,'answerText':_0x3e6dab,'isCorrect':_0x4db8f8,'wasConfident':_0x388eb8,'pointsAwarded':_0x398424,'originalQuestionText':_0x3428e0[_0x3007d8(0x212)]||_0x3428e0['questionText']});}const _0x3ba8cd=_0x34f325[_0x3007d8(0x320)](_0x3a7eef=>_0x3a7eef['isCorrect'])['length'],_0x3d5eee=currentDisplayedQuiz['settings']?.[_0x3007d8(0x59f)]??Math[_0x3007d8(0x599)](_0x1d406b/0x2);_0x3ba8cd===_0x1d406b&&_0x1d406b>0x0&&!currentDisplayedQuiz[_0x3007d8(0xd09)]&&_0x297251[_0x3007d8(0xacf)](BADGES['PERFECT_SCORE']['id']);const _0x26eea0=currentDisplayedQuiz[_0x3007d8(0x22d)]?.['timerMode'];if(_0x26eea0==='whole_quiz'&&quizStartTime){const _0x17a543=(new Date()-quizStartTime)/0x3e8,_0x21e96c=currentDisplayedQuiz[_0x3007d8(0x22d)]['timerDuration']*0x3c;_0x3ba8cd>=_0x3d5eee&&_0x17a543<_0x21e96c/0x2&&_0x297251[_0x3007d8(0xacf)](BADGES['QUICK_THINKER']['id']);}_0x5828de[_0x3007d8(0xe93)]===0x0&&_0x3ba8cd===_0x1d406b&&_0x1d406b>0x0&&_0x297251['push'](BADGES[_0x3007d8(0x675)]['id']);if(_0x5828de[_0x3007d8(0xe93)]>0x0){const _0x1d13fe=_0x5828de[0x0][_0x3007d8(0x6b9)];if(_0x1d13fe<_0x3d5eee&&_0x3ba8cd>=_0x3d5eee){const _0x4ae324=_0x5828de[_0x3007d8(0x1c1)](_0x140cb1=>(_0x140cb1[_0x3007d8(0x200)]||[])['includes'](BADGES[_0x3007d8(0xf1e)]['id']));!_0x4ae324&&_0x297251[_0x3007d8(0xacf)](BADGES[_0x3007d8(0xf1e)]['id']);}}_0x5828de['length']===0x4&&_0x297251[_0x3007d8(0xacf)](BADGES['PERSEVERANCE']['id']);const _0x2f1349=currentDisplayedQuiz[_0x3007d8(0x22d)]['resultsDisplay'];if(currentMode===_0x3007d8(0xb1b)){handleResultDisplay(_0x2f1349,_0x3ba8cd,_0x5b764e,_0x297251,_0x34f325,_0x1d406b);return;}const _0x6d6a3d=currentQuizData['id'],_0x519b62=doc(db,_0x3007d8(0x884)+appId+'/public/data/quizzes/'+_0x6d6a3d+_0x3007d8(0xb77),currentStudentName);try{const _0x582657=[..._0x5828de],_0xbf82c0={'score':_0x3ba8cd,'points':_0x5b764e,'badges':Array[_0x3007d8(0x488)](new Set(_0x297251)),'submittedAt':new Date()['toISOString'](),'answers':_0x34f325};_0x582657[_0x3007d8(0xacf)](_0xbf82c0);const _0x1f3799=_0x5828de[_0x3007d8(0xe93)]===0x0?_0x3ba8cd:_0x5828de[0x0][_0x3007d8(0x6b9)]||0x0,_0x450946=Math[_0x3007d8(0x526)](..._0x582657[_0x3007d8(0xe07)](_0x4c75af=>_0x4c75af['score']));await setDoc(_0x519b62,{'studentName':currentStudentName,'totalQuestions':_0x1d406b,'attempts':_0x582657,'firstScore':_0x1f3799,'bestScore':_0x450946,'latestScore':_0x3ba8cd,'points':_0x5b764e,'latestSubmittedAt':_0xbf82c0['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3007d8(0x791)],currentStudentName),handleResultDisplay(_0x2f1349,_0x3ba8cd,_0x5b764e,_0x297251,_0x34f325,_0x1d406b);}catch(_0x124647){console[_0x3007d8(0x1b6)](_0x3007d8(0x23a),_0x124647),showMessage(_0x3007d8(0xe9d));}}async function updateStudentProfile(_0xaff92e,_0x6adfa0){const _0x3ccef8=_0x230ac1,_0x310541=doc(db,'artifacts/'+appId+_0x3ccef8(0xa9f)+_0xaff92e+_0x3ccef8(0x7fc),_0x6adfa0);try{const _0xc57866=query(collection(db,'artifacts/'+appId+_0x3ccef8(0x8a2)),where(_0x3ccef8(0x791),'==',_0xaff92e)),_0x4bbec0=await getDocs(_0xc57866),_0x564b1f=new Map(_0x4bbec0['docs'][_0x3ccef8(0xe07)](_0x420c54=>[_0x420c54['id'],_0x420c54[_0x3ccef8(0xdad)]()])),_0x5bf08c=Array[_0x3ccef8(0x488)](_0x564b1f[_0x3ccef8(0x251)]());await runTransaction(db,async _0x4f13b3=>{const _0x111f9b=_0x3ccef8;let _0x1041a0=0x0;const _0x208100={};let _0x3f6ac7=!![],_0x3b2e06=0x0,_0x5847ac=0x0;for(const _0x3e188b of _0x5bf08c){const _0x4d406d=_0x564b1f[_0x111f9b(0x837)](_0x3e188b),_0xda2fdd=doc(db,_0x111f9b(0x884)+appId+_0x111f9b(0xa60)+_0x3e188b+_0x111f9b(0xb77),_0x6adfa0),_0x582ed0=await _0x4f13b3['get'](_0xda2fdd);if(_0x582ed0[_0x111f9b(0x939)]()){const _0x516c78=_0x582ed0['data'](),_0x2f7c15=_0x516c78[_0x111f9b(0x1da)]||[];if(_0x2f7c15[_0x111f9b(0xe93)]>0x0){const _0x2e905a=_0x2f7c15[_0x111f9b(0xa56)]((_0x1f3e5e,_0x3c5873)=>{const _0x32428e=_0x111f9b;if(_0x3c5873[_0x32428e(0x6b9)]>_0x1f3e5e[_0x32428e(0x6b9)])return _0x3c5873;if(_0x3c5873['score']===_0x1f3e5e[_0x32428e(0x6b9)])return(_0x3c5873[_0x32428e(0x8f1)]||0x0)>(_0x1f3e5e[_0x32428e(0x8f1)]||0x0)?_0x3c5873:_0x1f3e5e;return _0x1f3e5e;},{'score':-0x1,'points':-0x1});_0x2e905a[_0x111f9b(0x6b9)]>-0x1&&(_0x1041a0+=_0x2e905a[_0x111f9b(0x8f1)]||0x0,(_0x2e905a[_0x111f9b(0x200)]||[])[_0x111f9b(0xdec)](_0x3c8a09=>{_0x208100[_0x3c8a09]=(_0x208100[_0x3c8a09]||0x0)+0x1;}));}}if(_0x4d406d[_0x111f9b(0xbdd)]!=='แบบทดสอบซ่อมเสริม'){_0x5847ac++;if(_0x582ed0[_0x111f9b(0x939)]()){_0x3b2e06++;const _0x24b3a0=_0x582ed0['data']();_0x24b3a0[_0x111f9b(0x286)]!==_0x24b3a0['totalQuestions']&&(_0x3f6ac7=![]);}else _0x3f6ac7=![];}}_0x5847ac>0x0&&_0x3b2e06===_0x5847ac&&_0x3f6ac7?_0x208100[_0x111f9b(0xa08)]=0x1:_0x208100['specialist']=0x0,_0x4f13b3[_0x111f9b(0xb1f)](_0x310541,{'studentName':_0x6adfa0,'totalPoints':_0x1041a0,'unlockedBadges':Object['keys'](_0x208100)[_0x111f9b(0x320)](_0x1caed7=>_0x208100[_0x1caed7]>0x0),'badgesCount':_0x208100},{'merge':!![]});});}catch(_0x28e725){console['error'](_0x3ccef8(0xa49),_0x28e725),showMessage(_0x3ccef8(0xb61));}}function startAdminTest(){const _0x4ef4da=_0x230ac1;if(!currentQuizData){showMessage(_0x4ef4da(0x2ac));return;}let _0x2d2daa=JSON[_0x4ef4da(0x74f)](JSON[_0x4ef4da(0xd0a)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x4ef4da(0xb92),adminView[_0x4ef4da(0xeac)][_0x4ef4da(0x4db)](_0x4ef4da(0xcc2)),studentView['classList'][_0x4ef4da(0xb0b)]('hidden'),studentInitialView[_0x4ef4da(0xeac)][_0x4ef4da(0x4db)](_0x4ef4da(0xcc2)),studentNameSelectionView['classList'][_0x4ef4da(0x4db)](_0x4ef4da(0xcc2)),studentResultArea[_0x4ef4da(0xeac)][_0x4ef4da(0x4db)](_0x4ef4da(0xcc2)),studentQuizArea[_0x4ef4da(0xeac)][_0x4ef4da(0xb0b)](_0x4ef4da(0xcc2)),quizStartTime=new Date(),displayQuizForStudent(_0x2d2daa);}function handleResultDisplay(_0x2a9302,_0x8b2ce0,_0x336c54,_0x43ccfd,_0x41ab72,_0x55eb1f){const _0x35ffd1=_0x230ac1;if(_0x2a9302==='manual_release'){displaySubmissionConfirmation();return;}const _0x57dd5f=currentDisplayedQuiz['settings']?.[_0x35ffd1(0x59f)]??Math[_0x35ffd1(0x599)](_0x55eb1f/0x2),_0x16916f=currentDisplayedQuiz[_0x35ffd1(0x22d)]?.[_0x35ffd1(0xdef)]??![],_0x3d89b8=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0x16df9b=_0x8b2ce0<_0x57dd5f,_0x2538f4=_0x2a9302==='half_mark_status'||_0x2a9302===_0x35ffd1(0x3ed);if(_0x3d89b8&&_0x16df9b&&!_0x2538f4){_0x2a9302==='show_results_and_answers'?displayResultsWithAnswers(_0x8b2ce0,_0x336c54,_0x43ccfd,_0x41ab72,_0x55eb1f,!![]):displayLoopScreen(_0x8b2ce0,_0x55eb1f,_0x2a9302);return;}if(_0x16916f&&_0x16df9b){startAdaptiveFlow(_0x41ab72,_0x8b2ce0,_0x55eb1f);return;}switch(_0x2a9302){case _0x35ffd1(0x596):displayResultsWithAnswers(_0x8b2ce0,_0x336c54,_0x43ccfd,_0x41ab72,_0x55eb1f);break;case'show_results_only':displayResultsScoreOnly(_0x8b2ce0,_0x336c54,_0x43ccfd,_0x55eb1f);break;case'show_pass_fail_only':displayPassFailOnly(_0x8b2ce0,_0x55eb1f);break;case _0x35ffd1(0x323):displayHalfMarkResult(_0x8b2ce0,_0x55eb1f);break;case _0x35ffd1(0x3ed):displayPerfectScoreResult(_0x8b2ce0,_0x55eb1f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5a277f){const _0x4be8ea=_0x230ac1;studentReadingArea['innerHTML']=_0x4be8ea(0x287);const _0x1a0163='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a277f+_0x4be8ea(0x636)+simpleMathPrompt+_0x4be8ea(0x379),_0x46e76d={'type':_0x4be8ea(0x1eb),'properties':{'questionText':{'type':_0x4be8ea(0x324)},'options':{'type':_0x4be8ea(0x2df),'items':{'type':_0x4be8ea(0x324)}},'correctAnswerIndex':{'type':_0x4be8ea(0xc97)},'explanation':{'type':_0x4be8ea(0x324)}},'required':[_0x4be8ea(0xef8),'options',_0x4be8ea(0xdfa),_0x4be8ea(0xc14)]},_0x35a731={'type':'OBJECT','properties':{'topic':{'type':_0x4be8ea(0x324)},'questions':{'type':_0x4be8ea(0x2df),'items':_0x46e76d}},'required':[_0x4be8ea(0xbdd),_0x4be8ea(0x746)]};try{const _0x535def=await callAnalysisApi(_0x1a0163,_0x35a731);_0x535def[_0x4be8ea(0xd09)]=!![],studentReadingArea[_0x4be8ea(0xeac)][_0x4be8ea(0x4db)]('hidden');const _0x3e0598={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4be8ea(0x596)};_0x535def[_0x4be8ea(0x22d)]=_0x3e0598,displayQuizForStudent(_0x535def);}catch(_0x1d1a5d){console[_0x4be8ea(0x1b6)](_0x4be8ea(0x718),_0x1d1a5d),showMessage(_0x4be8ea(0xaf2)),showView(_0x4be8ea(0x974));}}function displayPassFailOnly(_0xe2e331,_0x3f2871){const _0xb96a9e=_0x230ac1,_0x52d9e6=currentDisplayedQuiz[_0xb96a9e(0x22d)]?.[_0xb96a9e(0x59f)]??-0x1,_0x5b1bce=currentDisplayedQuiz[_0xb96a9e(0xd09)]===!![];let _0x145943='',_0x3821a1=![];if(_0x5b1bce||_0x52d9e6!==-0x1){_0x3821a1=_0x5b1bce?_0xe2e331===_0x3f2871:_0xe2e331>=_0x52d9e6;const _0x4faa49=_0x3821a1?_0xb96a9e(0x264):_0xb96a9e(0xd29),_0x50a7cd=_0x3821a1?_0xb96a9e(0x5a5):_0xb96a9e(0xac0);_0x145943=_0xb96a9e(0xe1d)+_0x4faa49+'\x22>'+_0x50a7cd+_0xb96a9e(0x1ff);}else _0x145943=_0xb96a9e(0x6dd);let _0x5eaa0d=_0xb96a9e(0x724)+currentStudentName+_0xb96a9e(0x81d)+_0x145943+_0xb96a9e(0x3b6);studentResultArea[_0xb96a9e(0x63b)]=_0x5eaa0d,studentResultArea['classList'][_0xb96a9e(0xb0b)](_0xb96a9e(0xcc2)),studentQuizArea['classList'][_0xb96a9e(0x4db)](_0xb96a9e(0xcc2)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3821a1});}function cancelAdminTest(){const _0x3748c6=_0x230ac1;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3748c6(0x8d5)](_0x3748c6(0x377),handleFullscreenChange),document[_0x3748c6(0x8d5)]('visibilitychange',handleVisibilityChange),currentMode=_0x3748c6(0x4fe),studentView['classList'][_0x3748c6(0x4db)](_0x3748c6(0xcc2)),adminView[_0x3748c6(0xeac)]['remove'](_0x3748c6(0xcc2)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x3748c6(0x3e4));}function setupResultScreenBackButton(_0x7021ad){const _0x47c84c=_0x230ac1,_0x283291={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x7021ad};if(_0x283291[_0x47c84c(0x84e)]){const _0x30526e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML']('beforeend',_0x30526e),document[_0x47c84c(0x815)](_0x47c84c(0x246))[_0x47c84c(0x7b7)](_0x47c84c(0x7a5),()=>{const _0x5c8aee=_0x47c84c;studentResultArea[_0x5c8aee(0xeac)][_0x5c8aee(0x4db)](_0x5c8aee(0xcc2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xc8c12b=_0x47c84c(0x26d),_0x357396=currentMode==='admin-testing',_0x366ed9=_0x357396?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x47c84c(0x8ac);let _0x12c98b='';_0x283291[_0x47c84c(0xbd9)]&&(_0x12c98b+=_0x47c84c(0xeed));let _0x474fe1=_0x283291['showImproveButton'];_0x474fe1===undefined&&(_0x474fe1=_0x283291[_0x47c84c(0x6b9)]<_0x283291[_0x47c84c(0xddd)]);_0x474fe1&&(_0x12c98b+=_0x47c84c(0xc5c));_0x12c98b+='<button\x20id=\x22'+_0xc8c12b+_0x47c84c(0xee7)+_0x366ed9+_0x47c84c(0x753);const _0x663368=_0x47c84c(0x722)+_0x12c98b+'</div>';studentResultArea['insertAdjacentHTML'](_0x47c84c(0xe04),_0x663368),studentResultArea[_0x47c84c(0xd27)]('#view-rankings-btn')?.[_0x47c84c(0x7b7)](_0x47c84c(0x7a5),handleShowStudentRankings);const _0x162991=studentResultArea[_0x47c84c(0xd27)](_0x47c84c(0x2a0));_0x162991&&_0x162991[_0x47c84c(0x7b7)](_0x47c84c(0x7a5),()=>{const _0x5c0ba5=_0x47c84c;studentResultArea[_0x5c0ba5(0xeac)][_0x5c0ba5(0x4db)](_0x5c0ba5(0xcc2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x47c84c(0x815)](_0xc8c12b)['addEventListener']('click',()=>{const _0x4bf24b=_0x47c84c;_0x357396?(currentMode=_0x4bf24b(0x4fe),studentView[_0x4bf24b(0xeac)][_0x4bf24b(0x4db)]('hidden'),adminView[_0x4bf24b(0xeac)][_0x4bf24b(0xb0b)]('hidden'),showView(_0x4bf24b(0x3e4))):(showView(_0x4bf24b(0x974)),document[_0x4bf24b(0x815)](_0x4bf24b(0xdf4))[_0x4bf24b(0xdd7)]='');});}function displayResultsWithAnswers(_0x2582ef,_0x1ae07d,_0x25b411,_0x23dae1,_0x264785,_0x317bff=![]){const _0x2b3859=_0x230ac1,_0x1bd80d=_0x264785>0x0?_0x2582ef/_0x264785*0x64:0x0,_0x17f2b2=currentDisplayedQuiz[_0x2b3859(0x22d)]?.[_0x2b3859(0x59f)]??-0x1,_0x50b9b1=currentDisplayedQuiz[_0x2b3859(0xd09)]===!![];let _0x1706f9='';if(_0x50b9b1||_0x17f2b2!==-0x1){let _0xae763d=_0x50b9b1?_0x2582ef===_0x264785:_0x2582ef>=_0x17f2b2;const _0x3998c6=_0xae763d?'bg-green-100\x20text-green-800':_0x2b3859(0xd29),_0xa0e449=_0xae763d?_0x2b3859(0x5a5):_0x2b3859(0xac0);_0x1706f9=_0x2b3859(0x752)+_0x3998c6+'\x22>'+_0xa0e449+_0x2b3859(0x1fb);}let _0x12c5cf=_0x2b3859(0xd35)+currentStudentName+_0x2b3859(0xd5c)+_0x2582ef+_0x2b3859(0x3f2)+_0x264785+_0x2b3859(0xded)+_0x1706f9+_0x2b3859(0x77a)+_0x1ae07d+_0x2b3859(0x3bb)+_0x1bd80d['toFixed'](0x0)+_0x2b3859(0xcb7);currentDisplayedQuiz[_0x2b3859(0x746)]['forEach']((_0x2ac5df,_0x424d08)=>{const _0x3023af=_0x2b3859,_0x37aa8e=_0x23dae1[_0x424d08],_0x5644a8=_0x37aa8e[_0x3023af(0x8cc)],_0x5257f9=_0x37aa8e[_0x3023af(0x6d1)],_0x1a6088=_0x2ac5df['questionType']||currentDisplayedQuiz[_0x3023af(0x1c2)];_0x12c5cf+=_0x3023af(0x920)+(_0x5257f9?'border-green-300\x20bg-green-50':_0x3023af(0x72a))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x424d08+0x1)+'.\x20'+(_0x2ac5df[_0x3023af(0x212)]||_0x2ac5df[_0x3023af(0xef8)])+_0x3023af(0x24f);switch(_0x1a6088){case'matching_item':const _0x422d9c=_0x5644a8||_0x3023af(0x5d2),_0x47627c=_0x2ac5df[_0x3023af(0xa50)];_0x12c5cf+=_0x3023af(0xb27)+(!_0x5257f9?_0x3023af(0x868):'')+'\x22>'+_0x422d9c+_0x3023af(0xaad);!_0x5257f9&&(_0x12c5cf+=_0x3023af(0x7de)+_0x47627c+'</p>');break;case _0x3023af(0x934):case _0x3023af(0x270):_0x12c5cf+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x5644a8||'ไม่ได้ตอบ')+_0x3023af(0x1fb),_0x12c5cf+=_0x3023af(0xa1b)+_0x2ac5df['idealAnswer']+_0x3023af(0x1fb);break;case _0x3023af(0xcba):_0x12c5cf+=_0x3023af(0x2db)+(_0x2ac5df[_0x3023af(0x68b)]===!![]?_0x3023af(0x816):'')+'\x20'+(_0x5644a8===_0x3023af(0x2f8)&&!_0x5257f9?_0x3023af(0x868):'')+_0x3023af(0x6b2),_0x12c5cf+=_0x3023af(0x2db)+(_0x2ac5df[_0x3023af(0x68b)]===![]?_0x3023af(0x816):'')+'\x20'+(_0x5644a8==='false'&&!_0x5257f9?_0x3023af(0x868):'')+_0x3023af(0x31d);break;case'multiple_choice':case _0x3023af(0xd8e):default:if(_0x2ac5df[_0x3023af(0xa9c)]&&Array['isArray'](_0x2ac5df[_0x3023af(0xa9c)]))_0x12c5cf+=_0x2ac5df['options'][_0x3023af(0xe07)]((_0x278966,_0x1bb1f0)=>{const _0x58eb10=_0x3023af;let _0x236ca4='',_0x50e7bb='';if(_0x1bb1f0===_0x2ac5df[_0x58eb10(0xdfa)])_0x236ca4='font-bold\x20text-green-700',_0x50e7bb=_0x58eb10(0x32a);else _0x1bb1f0===_0x5644a8&&(_0x236ca4='font-bold\x20text-red-700\x20line-through',_0x50e7bb='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x58eb10(0xc7d)+_0x236ca4+'\x22>'+_0x50e7bb+_0x278966+_0x58eb10(0xcb3);})[_0x3023af(0x885)]('');else{_0x12c5cf+=_0x3023af(0x695)+(_0x5644a8||_0x3023af(0x5d2))+_0x3023af(0x1fb);if(!_0x5257f9)_0x12c5cf+=_0x3023af(0x1e7);}break;}_0x12c5cf+=_0x3023af(0xe4d)+(_0x2ac5df['explanation']||_0x3023af(0x54f))+_0x3023af(0xcb3);if(!_0x5257f9){const _0xc75799=_0x2ac5df[_0x3023af(0x212)]||_0x2ac5df[_0x3023af(0xef8)];_0x12c5cf+=_0x3023af(0xbcb)+escape(_0xc75799)+_0x3023af(0x462);}_0x12c5cf+=_0x3023af(0xcb3);}),studentResultArea[_0x2b3859(0x63b)]=_0x12c5cf,renderEarnedBadges(_0x25b411,'earned-badges-container'),studentResultArea[_0x2b3859(0xeac)][_0x2b3859(0xb0b)]('hidden'),studentQuizArea[_0x2b3859(0xeac)][_0x2b3859(0x4db)](_0x2b3859(0xcc2)),setupResultScreenBackButton({'isLooping':_0x317bff,'score':_0x2582ef,'totalQuestions':_0x264785,'showRankings':!![]});if(window[_0x2b3859(0x67a)])window[_0x2b3859(0x67a)][_0x2b3859(0x40b)]([studentResultArea]);}function displayResultsScoreOnly(_0x8c0ba5,_0x255d46,_0x5592e8,_0x56dcdc){const _0x5ebdf7=_0x230ac1,_0x3dca05=_0x56dcdc>0x0?_0x8c0ba5/_0x56dcdc*0x64:0x0,_0x5d4b44=currentDisplayedQuiz['settings']?.[_0x5ebdf7(0x59f)]??-0x1,_0x11b364=currentDisplayedQuiz['isRemedial']===!![];let _0x27cb7e='';if(_0x11b364||_0x5d4b44!==-0x1){let _0xfd141b=_0x11b364?_0x8c0ba5===_0x56dcdc:_0x8c0ba5>=_0x5d4b44;const _0x435930=_0xfd141b?_0x5ebdf7(0x264):_0x5ebdf7(0xd29),_0x2dc3ef=_0xfd141b?_0x5ebdf7(0x5a5):'ไม่ผ่าน';_0x27cb7e=_0x5ebdf7(0x752)+_0x435930+'\x22>'+_0x2dc3ef+_0x5ebdf7(0x1fb);}let _0x2bc18c=_0x5ebdf7(0x724)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x8c0ba5+_0x5ebdf7(0xaac)+_0x56dcdc+_0x5ebdf7(0xded)+_0x27cb7e+_0x5ebdf7(0x77a)+_0x255d46+_0x5ebdf7(0xee4)+_0x3dca05[_0x5ebdf7(0x422)](0x0)+_0x5ebdf7(0xf2b);studentResultArea[_0x5ebdf7(0x63b)]=_0x2bc18c,renderEarnedBadges(_0x5592e8,_0x5ebdf7(0xf24)),studentResultArea[_0x5ebdf7(0xeac)][_0x5ebdf7(0xb0b)](_0x5ebdf7(0xcc2)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'score':_0x8c0ba5,'totalQuestions':_0x56dcdc,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x37b820=_0x230ac1;let _0x46dcc4=_0x37b820(0x7ed)+currentStudentName+_0x37b820(0x44d);studentResultArea[_0x37b820(0x63b)]=_0x46dcc4,studentResultArea[_0x37b820(0xeac)][_0x37b820(0xb0b)]('hidden'),studentQuizArea['classList'][_0x37b820(0x4db)](_0x37b820(0xcc2)),document[_0x37b820(0x815)](_0x37b820(0xa93))['addEventListener'](_0x37b820(0x7a5),()=>{const _0x56ebc6=_0x37b820;showView('student'),document[_0x56ebc6(0x815)](_0x56ebc6(0xdf4))[_0x56ebc6(0xdd7)]='';});}function renderEarnedBadges(_0x18aabd,_0x2a0f9b){const _0x3e76fa=_0x230ac1,_0x3aa460=document[_0x3e76fa(0x815)](_0x2a0f9b);if(!_0x3aa460||!_0x18aabd||_0x18aabd[_0x3e76fa(0xe93)]===0x0)return;let _0x624f0c='';_0x18aabd['forEach']((_0x4b4efe,_0x231d6b)=>{const _0x427248=_0x3e76fa,_0x25e8c3=Object[_0x427248(0xdf2)](BADGES)[_0x427248(0x5eb)](_0x137034=>_0x137034['id']===_0x4b4efe);_0x25e8c3&&(_0x624f0c+=_0x427248(0x4c7)+_0x231d6b*0.2+_0x427248(0xb24)+_0x25e8c3['description']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x25e8c3[_0x427248(0x20b)]+_0x427248(0x940)+_0x25e8c3['name']+_0x427248(0xe56));}),_0x3aa460[_0x3e76fa(0x63b)]=_0x624f0c;}function startPresentation(_0x4b33ca){const _0x40bdaf=_0x230ac1;currentQuizData=getShuffledQuiz(_0x4b33ca),currentPresentationSlide=0x0,presentationModal[_0x40bdaf(0x205)][_0x40bdaf(0xdd3)]=_0x40bdaf(0x91d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x40c615=_0x230ac1;document['fullscreenElement']&&document[_0x40c615(0xbe7)](),presentationModal[_0x40c615(0x205)]['display']=_0x40c615(0x1e2);}function renderPresentationSlide(_0x3861b5){const _0xa9f6b6=_0x230ac1,_0x20d576=document[_0xa9f6b6(0x815)](_0xa9f6b6(0xcf4));if(!currentQuizData||!currentQuizData[_0xa9f6b6(0x746)]||!currentQuizData[_0xa9f6b6(0x746)][_0x3861b5]){_0x20d576[_0xa9f6b6(0x63b)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x223aee=currentQuizData['questions'][_0x3861b5],_0x58c3e2=_0x223aee[_0xa9f6b6(0x1f4)]||currentQuizData[_0xa9f6b6(0x1c2)];_0x20d576[_0xa9f6b6(0x63b)]='';let _0x4afe16=_0xa9f6b6(0xa70)+(_0x223aee['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x223aee[_0xa9f6b6(0x74b)]+_0xa9f6b6(0xcb3):'')+_0xa9f6b6(0x8f7)+(_0x3861b5+0x1)+'.\x20'+(_0x223aee[_0xa9f6b6(0x212)]||_0x223aee[_0xa9f6b6(0xef8)])+_0xa9f6b6(0x603);switch(_0x58c3e2){case'matching_item':_0x4afe16+=_0x223aee[_0xa9f6b6(0x787)][_0xa9f6b6(0xe07)](_0x3126c6=>_0xa9f6b6(0x84a)+_0x3126c6+_0xa9f6b6(0x37e))[_0xa9f6b6(0x885)]('');break;case _0xa9f6b6(0xcba):_0x4afe16+=_0xa9f6b6(0x673),_0x4afe16+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0xa9f6b6(0x934):case'short_answer':_0x4afe16+=_0xa9f6b6(0x30e);break;case _0xa9f6b6(0xd0b):case'multiple_choice':default:_0x4afe16+=_0x223aee[_0xa9f6b6(0xa9c)][_0xa9f6b6(0xe07)]((_0x498933,_0x3d8552)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x3d8552+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x498933+_0xa9f6b6(0x37e))[_0xa9f6b6(0x885)]('');break;}_0x4afe16+=_0xa9f6b6(0x54e)+(_0x223aee[_0xa9f6b6(0xc14)]||_0xa9f6b6(0x54f))+_0xa9f6b6(0xce8),_0x20d576['innerHTML']=_0x4afe16;if(window[_0xa9f6b6(0x67a)])window[_0xa9f6b6(0x67a)]['typesetPromise']([_0x20d576]);let _0x1342ac=[];switch(_0x58c3e2){case _0xa9f6b6(0x52a):_0x1342ac=_0x223aee[_0xa9f6b6(0x787)]||[];break;case _0xa9f6b6(0xcba):_0x1342ac=[_0xa9f6b6(0x863),_0xa9f6b6(0x313)];break;default:_0x1342ac=_0x223aee[_0xa9f6b6(0xa9c)]||[];break;}const _0x5b7ced=document[_0xa9f6b6(0x815)](_0xa9f6b6(0xee0));_0x5b7ced&&(_0x5b7ced[_0xa9f6b6(0x7c5)]=()=>{openScratchpad(_0x223aee,_0x1342ac);});document['querySelectorAll'](_0xa9f6b6(0x8b6))['forEach'](_0x5bba43=>{const _0x252fd1=_0xa9f6b6;_0x5bba43[_0x252fd1(0x7b7)]('click',_0x55759e=>revealAnswerForPresentation(_0x3861b5,_0x55759e[_0x252fd1(0xda1)]));});const _0x18b134=document['getElementById']('check-presentation-answer-btn');_0x18b134&&_0x18b134[_0xa9f6b6(0x7b7)](_0xa9f6b6(0x7a5),()=>checkShortAnswerForPresentation(_0x3861b5)),document[_0xa9f6b6(0x815)](_0xa9f6b6(0x30a))[_0xa9f6b6(0x587)]=_0xa9f6b6(0x378)+(_0x3861b5+0x1)+_0xa9f6b6(0xe75)+currentQuizData['questions'][_0xa9f6b6(0xe93)],document['getElementById'](_0xa9f6b6(0x969))[_0xa9f6b6(0x44b)]=_0x3861b5===0x0,document[_0xa9f6b6(0x815)](_0xa9f6b6(0xa25))[_0xa9f6b6(0x44b)]=_0x3861b5===currentQuizData[_0xa9f6b6(0x746)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x58a43f){const _0x5ba7b6=_0x230ac1,_0x3050fc=currentQuizData['questions'][_0x58a43f],_0x542a8a=document[_0x5ba7b6(0x815)]('presentation-short-answer-input'),_0x35ce06=document[_0x5ba7b6(0x815)](_0x5ba7b6(0x43b)),_0x521eab=document['getElementById'](_0x5ba7b6(0x4c4)),_0x434b8f=document[_0x5ba7b6(0x815)](_0x5ba7b6(0x873));if(!_0x542a8a||!_0x35ce06||!_0x521eab||!_0x434b8f)return;const _0x270fd2=_0x542a8a[_0x5ba7b6(0xdd7)][_0x5ba7b6(0x99f)]();if(_0x270fd2==='')return;_0x35ce06[_0x5ba7b6(0x44b)]=!![],_0x35ce06['innerHTML']=_0x5ba7b6(0xed6),_0x542a8a[_0x5ba7b6(0x44b)]=!![];const _0xb984de=await gradeShortAnswer(_0x270fd2,_0x3050fc);_0xb984de?_0x521eab[_0x5ba7b6(0x63b)]=_0x5ba7b6(0x8d2):_0x521eab[_0x5ba7b6(0x63b)]=_0x5ba7b6(0x4c0)+_0x3050fc['idealAnswer']+')',_0x521eab[_0x5ba7b6(0xeac)]['remove'](_0x5ba7b6(0xcc2)),_0x434b8f[_0x5ba7b6(0xeac)][_0x5ba7b6(0xb0b)](_0x5ba7b6(0xcc2)),_0x35ce06[_0x5ba7b6(0xeac)][_0x5ba7b6(0x4db)]('hidden');}function revealAnswerForPresentation(_0x241621,_0x4e55a0){const _0x1a20e5=_0x230ac1,_0x39c8b1=currentQuizData[_0x1a20e5(0x746)][_0x241621],_0x17759e=_0x39c8b1[_0x1a20e5(0x1f4)]||currentQuizData[_0x1a20e5(0x1c2)];document['querySelectorAll'](_0x1a20e5(0x8b6))['forEach'](_0x346c98=>{const _0x5a7dd0=_0x1a20e5;_0x346c98[_0x5a7dd0(0x44b)]=!![],_0x346c98[_0x5a7dd0(0xeac)][_0x5a7dd0(0xb0b)]('hover:bg-indigo-100');let _0x4c6a0d=![];if(_0x17759e===_0x5a7dd0(0x653)||_0x17759e===_0x5a7dd0(0xd0b)){const _0x4fc62d=parseInt(_0x346c98[_0x5a7dd0(0x5ff)]['index']);_0x4c6a0d=_0x4fc62d===_0x39c8b1[_0x5a7dd0(0xdfa)];}else{if(_0x17759e==='true_false'){const _0x30b509=_0x346c98[_0x5a7dd0(0x5ff)][_0x5a7dd0(0x8cc)]===_0x5a7dd0(0x2f8);_0x4c6a0d=_0x30b509===_0x39c8b1['correctAnswer'];}else _0x17759e===_0x5a7dd0(0x52a)&&(_0x4c6a0d=_0x346c98['textContent'][_0x5a7dd0(0x99f)]()===_0x39c8b1[_0x5a7dd0(0xa50)]);}_0x4c6a0d?_0x346c98[_0x5a7dd0(0xeac)][_0x5a7dd0(0x4db)](_0x5a7dd0(0xe7d),_0x5a7dd0(0xbbf),'border-green-700'):_0x346c98[_0x5a7dd0(0xeac)][_0x5a7dd0(0x4db)](_0x5a7dd0(0x919));}),_0x4e55a0[_0x1a20e5(0xeac)][_0x1a20e5(0xb0b)](_0x1a20e5(0x919));let _0x54988c=![];if(_0x17759e===_0x1a20e5(0x653))_0x54988c=parseInt(_0x4e55a0['dataset'][_0x1a20e5(0x677)])===_0x39c8b1['correctAnswerIndex'];else{if(_0x17759e===_0x1a20e5(0xcba))_0x54988c=_0x4e55a0[_0x1a20e5(0x5ff)][_0x1a20e5(0x8cc)]===_0x1a20e5(0x2f8)===_0x39c8b1[_0x1a20e5(0x68b)];else _0x17759e===_0x1a20e5(0x52a)&&(_0x54988c=_0x4e55a0['textContent'][_0x1a20e5(0x99f)]()===_0x39c8b1[_0x1a20e5(0xa50)]);}!_0x54988c&&_0x4e55a0[_0x1a20e5(0xeac)][_0x1a20e5(0x4db)](_0x1a20e5(0xeba),'text-white','border-red-700'),document[_0x1a20e5(0x815)](_0x1a20e5(0x873))[_0x1a20e5(0xeac)][_0x1a20e5(0xb0b)](_0x1a20e5(0xcc2));}function startWholeQuizTimer(_0x39b2e8){const _0xd555d0=_0x230ac1,_0x2e73aa=document[_0xd555d0(0x815)](_0xd555d0(0x986));if(!_0x2e73aa)return;const _0x3b32df=Date['now']()+_0x39b2e8*0x3c*0x3e8;_0x2e73aa[_0xd555d0(0x63b)]=_0xd555d0(0x586);const _0x496e63=document[_0xd555d0(0x815)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x3955d4=_0xd555d0,_0x213df2=_0x3b32df-Date[_0x3955d4(0x7be)]();if(_0x213df2<=0x0)clearInterval(quizTimerInterval),_0x496e63[_0x3955d4(0x587)]=_0x3955d4(0xa96),showMessage(_0x3955d4(0x80e)),handleSubmitQuiz(null);else{const _0x2c8d7a=Math[_0x3955d4(0x599)](_0x213df2/0x3e8/0x3c%0x3c)[_0x3955d4(0xefe)]()[_0x3955d4(0x58a)](0x2,'0'),_0x352834=Math[_0x3955d4(0x599)](_0x213df2/0x3e8%0x3c)[_0x3955d4(0xefe)]()[_0x3955d4(0x58a)](0x2,'0');_0x496e63[_0x3955d4(0x587)]=_0x2c8d7a+':'+_0x352834;}},0x3e8);}function renderPerQuestionView(){const _0x49e77d=_0x230ac1;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4b4964=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4527ea=_0x4b4964['questionType']||currentDisplayedQuiz[_0x49e77d(0x1c2)],_0x4c5536=currentDisplayedQuiz['settings']?.[_0x49e77d(0xa98)]===!![];let _0x235327=_0x49e77d(0x615)+(currentQuestionIndex+0x1)+_0x49e77d(0x557)+currentDisplayedQuiz[_0x49e77d(0x746)][_0x49e77d(0xe93)]+_0x49e77d(0xb3b)+(currentMode==='admin-testing'?_0x49e77d(0xa06):'')+_0x49e77d(0x733)+currentDisplayedQuiz[_0x49e77d(0xbdd)]+_0x49e77d(0x98e);studentQuizArea['innerHTML']=_0x235327;let _0x327214=_0x4b4964['stem']||_0x4b4964[_0x49e77d(0xef8)];_0x4b4964[_0x49e77d(0x74b)]&&(_0x327214+=_0x49e77d(0x8ae)+_0x4b4964[_0x49e77d(0x74b)]+_0x49e77d(0xcb3));let _0x3a297c='';switch(_0x4527ea){case _0x49e77d(0x270):case'fill_in_no_choices':_0x3a297c=_0x49e77d(0x520);break;case'true_false':_0x3a297c=_0x49e77d(0x705);break;case'matching_item':_0x3a297c=_0x49e77d(0xbe5)+(_0x4b4964[_0x49e77d(0x787)]||[])[_0x49e77d(0xe07)](_0x241a41=>_0x49e77d(0x3a8)+_0x241a41+'\x22>'+_0x241a41+_0x49e77d(0x817))[_0x49e77d(0x885)]('')+_0x49e77d(0xf1b);break;default:_0x4b4964[_0x49e77d(0xa9c)]&&(_0x3a297c=_0x4b4964[_0x49e77d(0xa9c)][_0x49e77d(0xe07)]((_0x24a482,_0x1b5344)=>_0x49e77d(0x985)+_0x1b5344+_0x49e77d(0xe92)+_0x1b5344+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x1b5344+'\x22>'+_0x24a482+_0x49e77d(0x9fb))['join'](''));break;}document[_0x49e77d(0x815)](_0x49e77d(0xc83))[_0x49e77d(0x63b)]=_0x327214,document[_0x49e77d(0x815)]('per-question-options')[_0x49e77d(0x63b)]=_0x3a297c;const _0x5e0026=currentDisplayedQuiz['settings']?.[_0x49e77d(0xa98)]===!![],_0x4cdf92=currentDisplayedQuiz[_0x49e77d(0x22d)]?.[_0x49e77d(0x2dd)]||_0x49e77d(0xe50);if(_0x5e0026&&_0x4cdf92===_0x49e77d(0xe50)){const _0x34a0e7=_0x49e77d(0xdb5);studentQuizArea[_0x49e77d(0xd27)]('.mb-6.p-4')[_0x49e77d(0xe94)](_0x49e77d(0xe04),_0x34a0e7);}studentQuizArea[_0x49e77d(0xe94)](_0x49e77d(0xe04),_0x49e77d(0x64e)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x49e77d(0x49d):_0x49e77d(0x6c0))+_0x49e77d(0xd50));currentMode===_0x49e77d(0xb1b)&&document[_0x49e77d(0x815)](_0x49e77d(0x88e))?.['addEventListener']('click',cancelAdminTest);document[_0x49e77d(0x815)]('next-question-timed-btn')[_0x49e77d(0x7b7)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x49e77d(0x67a)][_0x49e77d(0x40b)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x49e77d(0x97a)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x413176=_0x230ac1,_0x46e74a=currentDisplayedQuiz[_0x413176(0x22d)]['timerDuration'],_0x545624=document[_0x413176(0x815)](_0x413176(0xa4d));if(!_0x545624)return;let _0x48c905=_0x46e74a;_0x545624[_0x413176(0x63b)]=_0x413176(0x20a)+_0x48c905+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x433f97=document[_0x413176(0x815)](_0x413176(0x960)),_0x7f5978=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x48a893=_0x413176;_0x48c905--;const _0x485f12=_0x48c905/_0x46e74a*0x64;_0x433f97[_0x48a893(0x205)][_0x48a893(0x26c)]=_0x485f12+'%',_0x7f5978['textContent']=_0x48c905,_0x48c905<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x48a893(0x7fa)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3d990f=![]){const _0x1c51ed=_0x230ac1;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0xb6a6b1=null,_0x415cf9=![];if(!_0x3d990f){const _0x1af27a=currentDisplayedQuiz[_0x1c51ed(0x746)][currentQuestionIndex],_0x5cfa7b=_0x1af27a[_0x1c51ed(0x1f4)]||currentDisplayedQuiz['quizType'];if(_0x5cfa7b===_0x1c51ed(0x270)||_0x5cfa7b===_0x1c51ed(0x934))_0xb6a6b1=document[_0x1c51ed(0xd27)](_0x1c51ed(0x83e))?.['value'][_0x1c51ed(0x99f)]()??'';else{if(_0x5cfa7b===_0x1c51ed(0x52a))_0xb6a6b1=document[_0x1c51ed(0xd27)](_0x1c51ed(0xb43))?.[_0x1c51ed(0xdd7)]??'';else{const _0x4c8061=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x4c8061&&(_0xb6a6b1=_0x4c8061[_0x1c51ed(0xdd7)]);}}if(_0xb6a6b1===null||_0xb6a6b1===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x1f19eb=currentDisplayedQuiz[_0x1c51ed(0x22d)]?.['isConfidenceScoringEnabled']===!![],_0x1d2662=currentDisplayedQuiz[_0x1c51ed(0x22d)]?.[_0x1c51ed(0x2dd)]||_0x1c51ed(0xe50);if(_0x1f19eb&&_0x1d2662===_0x1c51ed(0xf17)){document[_0x1c51ed(0x815)]('confidence-modal')[_0x1c51ed(0x5ff)][_0x1c51ed(0x7b4)]=_0x1c51ed(0x77d),document[_0x1c51ed(0x815)](_0x1c51ed(0x3bf))[_0x1c51ed(0xdd7)]=_0xb6a6b1,document['getElementById'](_0x1c51ed(0xc13))['classList'][_0x1c51ed(0xb0b)](_0x1c51ed(0xcc2));return;}const _0x48ace4=document[_0x1c51ed(0x815)]('confidence_single');_0x48ace4&&(_0x415cf9=_0x48ace4[_0x1c51ed(0xdaf)]);}const _0x1049b9={'answer':_0xb6a6b1,'wasConfident':_0x415cf9};proceedToNextQuestion(_0x1049b9);}async function finalizePerQuestionQuiz(){const _0x17b9ab=_0x230ac1,_0x592055=currentDisplayedQuiz[_0x17b9ab(0x746)][_0x17b9ab(0x1c1)](_0x574096=>_0x574096[_0x17b9ab(0x1f4)]===_0x17b9ab(0x270));_0x592055?showMessage(_0x17b9ab(0x811)):showMessage(_0x17b9ab(0x71d));const _0x4bc5f2=currentQuizData['id'],_0x274189=doc(db,_0x17b9ab(0x884)+appId+_0x17b9ab(0xa60)+_0x4bc5f2+_0x17b9ab(0xb77),currentStudentName),_0x4bbcd0=await getDoc(_0x274189),_0x346d7d=_0x4bbcd0[_0x17b9ab(0x939)]()?_0x4bbcd0[_0x17b9ab(0xdad)]():{},_0x45f01e=_0x346d7d[_0x17b9ab(0x1da)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x45f01e);}function getResultsFilename(){const _0x273f62=_0x230ac1,_0x4cd683=document['getElementById']('results-quiz-title')[_0x273f62(0x587)][_0x273f62(0xeef)](/[^a-z0-9]/gi,'_')[_0x273f62(0xaec)]();return'results_'+(_0x4cd683||_0x273f62(0x9a5));}function exportResultsAsImage(){const _0x3deaa1=_0x230ac1,_0x6b7ae0=document[_0x3deaa1(0x815)](_0x3deaa1(0xbce));showMessage(_0x3deaa1(0x5d1)),html2canvas(_0x6b7ae0)[_0x3deaa1(0x566)](_0x5afcd2=>{const _0x4a351f=_0x3deaa1,_0x49c587=document[_0x4a351f(0xbdf)]('a');_0x49c587[_0x4a351f(0x393)]=getResultsFilename()+'.png',_0x49c587[_0x4a351f(0x7f3)]=_0x5afcd2[_0x4a351f(0x6db)]('image/png'),_0x49c587[_0x4a351f(0x7a5)](),messageModal['classList'][_0x4a351f(0x4db)](_0x4a351f(0xcc2));});}function exportResultsAsPDF(){const _0x2ac82c=_0x230ac1,{jsPDF:_0x49d0ca}=window['jspdf'],_0x3fee53=new _0x49d0ca();_0x3fee53[_0x2ac82c(0x524)](_0x2ac82c(0xde7),_0x2ac82c(0xb28)),_0x3fee53['autoTable']({'html':'#results-table'}),_0x3fee53['save'](getResultsFilename()+_0x2ac82c(0x84d));}function exportResultsAsWord(){const _0x404f45=_0x230ac1,_0x1a2b05='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x404f45(0x3ee)+_0x404f45(0x95a)+_0x404f45(0xa95),_0x4fbdf2='</body></html>',_0x175d1f=_0x1a2b05+document[_0x404f45(0x815)](_0x404f45(0xbce))[_0x404f45(0x63b)]+_0x4fbdf2,_0x513489='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x175d1f),_0x43706b=document[_0x404f45(0xbdf)]('a');document[_0x404f45(0x87e)]['appendChild'](_0x43706b),_0x43706b['href']=_0x513489,_0x43706b[_0x404f45(0x393)]=getResultsFilename()+_0x404f45(0x92e),_0x43706b['click'](),document[_0x404f45(0x87e)]['removeChild'](_0x43706b);}function exportResultsAsExcel(){const _0x187475=_0x230ac1,_0x44c34f=document[_0x187475(0x815)](_0x187475(0xc72));let _0x72da3a=[];for(let _0x104e81=0x0;_0x104e81<_0x44c34f['rows']['length'];_0x104e81++){let _0xa81124=[],_0x31ade1=_0x44c34f[_0x187475(0xee1)][_0x104e81][_0x187475(0x8c8)](_0x187475(0x47f));for(let _0x3cb731=0x0;_0x3cb731<_0x31ade1[_0x187475(0xe93)];_0x3cb731++){_0xa81124[_0x187475(0xacf)]('\x22'+_0x31ade1[_0x3cb731][_0x187475(0xc52)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x72da3a[_0x187475(0xacf)](_0xa81124[_0x187475(0x885)](','));}const _0x5ed49f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x72da3a['join']('\x0a')],{'type':_0x187475(0x1c9)}),_0x238bb8=document[_0x187475(0xbdf)]('a');_0x238bb8['href']=URL[_0x187475(0xb2c)](_0x5ed49f),_0x238bb8[_0x187475(0x393)]=getResultsFilename()+'.csv',_0x238bb8[_0x187475(0x7a5)]();}function exportTableAsImage(_0x265fb0,_0x4e6f70){const _0x57a794=_0x230ac1,_0x476394=document[_0x57a794(0x815)](_0x265fb0),_0x398fe3=document['getElementById']('results-quiz-title');if(!_0x476394){showMessage(_0x57a794(0xc1b));return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x11775e=document[_0x57a794(0xbdf)](_0x57a794(0x5c6));_0x11775e['style'][_0x57a794(0xc62)]=_0x57a794(0x416),_0x11775e[_0x57a794(0x205)]['padding']='30px',_0x11775e['style']['width']=_0x57a794(0xd05),_0x11775e[_0x57a794(0x205)][_0x57a794(0x703)]=_0x57a794(0x72e),_0x11775e['style']['left']=_0x57a794(0xb64),_0x11775e[_0x57a794(0x205)][_0x57a794(0xad4)]='0',_0x11775e[_0x57a794(0x205)][_0x57a794(0x2c5)]='-1';const _0x36b9ca=document['createElement']('h1');_0x36b9ca[_0x57a794(0xc52)]=_0x398fe3?_0x398fe3[_0x57a794(0xc52)]:_0x57a794(0xde0),_0x36b9ca[_0x57a794(0x205)][_0x57a794(0x8fb)]=_0x57a794(0xc2a),_0x36b9ca[_0x57a794(0x205)][_0x57a794(0x445)]=_0x57a794(0x559),_0x36b9ca[_0x57a794(0x205)][_0x57a794(0x5e2)]=_0x57a794(0xb13),_0x36b9ca[_0x57a794(0x205)][_0x57a794(0x2bf)]=_0x57a794(0x8c2),_0x36b9ca['style']['color']=_0x57a794(0x582),_0x36b9ca[_0x57a794(0x205)][_0x57a794(0x918)]=_0x57a794(0x8b0);const _0x4439ef=_0x476394[_0x57a794(0x878)](!![]);_0x4439ef[_0x57a794(0x205)][_0x57a794(0x1f1)]=_0x57a794(0x1e2),_0x4439ef['style'][_0x57a794(0xbbc)]=_0x57a794(0x1be);const _0xb69e33=_0x4439ef[_0x57a794(0x8c8)]('th');let _0xb72d86=-0x1;_0xb69e33['forEach']((_0x7c2a62,_0x1e9631)=>{const _0x5b653a=_0x57a794;_0x7c2a62[_0x5b653a(0x587)][_0x5b653a(0x99f)]()==='ผล'&&(_0x7c2a62[_0x5b653a(0x205)][_0x5b653a(0xdd3)]=_0x5b653a(0x1e2),_0xb72d86=_0x1e9631);});if(_0xb72d86!==-0x1){const _0x4d1c8c=_0x4439ef['querySelectorAll']('tr');_0x4d1c8c[_0x57a794(0xdec)](_0x22f53c=>{const _0x5a28c8=_0x57a794,_0x113885=_0x22f53c[_0x5a28c8(0x8c8)]('td');_0x113885[_0x5a28c8(0xe93)]>_0xb72d86&&(_0x113885[_0xb72d86][_0x5a28c8(0x205)][_0x5a28c8(0xdd3)]=_0x5a28c8(0x1e2));});}_0x11775e[_0x57a794(0x2f2)](_0x36b9ca),_0x11775e[_0x57a794(0x2f2)](_0x4439ef),document[_0x57a794(0x87e)]['appendChild'](_0x11775e),html2canvas(_0x11775e,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x57a794(0x416)})['then'](_0x330132=>{const _0x7da098=_0x57a794,_0x533a23=document[_0x7da098(0xbdf)]('a');_0x533a23[_0x7da098(0x393)]=_0x4e6f70+_0x7da098(0xf2d),_0x533a23['href']=_0x330132[_0x7da098(0x6db)](_0x7da098(0x5a1)),_0x533a23['click'](),document[_0x7da098(0x87e)][_0x7da098(0x751)](_0x11775e),messageModal[_0x7da098(0xeac)][_0x7da098(0x4db)](_0x7da098(0xcc2));})['catch'](_0x534448=>{const _0x50db20=_0x57a794;console[_0x50db20(0x1b6)]('Export\x20Image\x20Error:',_0x534448),document[_0x50db20(0x87e)][_0x50db20(0x751)](_0x11775e),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x3d834b,_0x1c31af){const _0x515ab2=_0x230ac1,{jsPDF:_0x4864c0}=window['jspdf'],_0x1a9a41=new _0x4864c0();_0x1a9a41['setFont']('helvetica',_0x515ab2(0xb28)),_0x1a9a41[_0x515ab2(0xb56)]({'html':'#'+_0x3d834b}),_0x1a9a41[_0x515ab2(0x359)](_0x1c31af+'.pdf');}function exportTableAsWord(_0xf23e7b,_0x11548a){const _0xc4949e=_0x230ac1,_0x3408f0=document[_0xc4949e(0x815)](_0xf23e7b);if(!_0x3408f0){showMessage(_0xc4949e(0xc1b));return;}const _0x167450='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0xc4949e(0x3ee)+_0xc4949e(0x95a)+_0xc4949e(0xa95),_0x3d584d=_0xc4949e(0xb03),_0x538378=_0x167450+_0x3408f0[_0xc4949e(0x63b)]+_0x3d584d,_0x43e14e='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x538378),_0x36e989=document['createElement']('a');document[_0xc4949e(0x87e)][_0xc4949e(0x2f2)](_0x36e989),_0x36e989[_0xc4949e(0x7f3)]=_0x43e14e,_0x36e989[_0xc4949e(0x393)]=_0x11548a+_0xc4949e(0x92e),_0x36e989[_0xc4949e(0x7a5)](),document[_0xc4949e(0x87e)]['removeChild'](_0x36e989);}function exportTableAsExcel(_0x5d0448,_0x15c4e5){const _0x2ceec1=_0x230ac1,_0x4d75c8=document[_0x2ceec1(0x815)](_0x5d0448);if(!_0x4d75c8){showMessage(_0x2ceec1(0xc1b));return;}let _0x28ec92=[];for(let _0x445aad=0x0;_0x445aad<_0x4d75c8[_0x2ceec1(0xee1)][_0x2ceec1(0xe93)];_0x445aad++){let _0x48d2e8=[],_0x137cc8=_0x4d75c8[_0x2ceec1(0xee1)][_0x445aad][_0x2ceec1(0x8c8)]('td,\x20th');for(let _0x79d6dc=0x0;_0x79d6dc<_0x137cc8['length'];_0x79d6dc++){_0x48d2e8[_0x2ceec1(0xacf)]('\x22'+_0x137cc8[_0x79d6dc][_0x2ceec1(0xc52)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x28ec92[_0x2ceec1(0xacf)](_0x48d2e8['join'](','));}const _0x49cd75=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x28ec92[_0x2ceec1(0x885)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x532210=document[_0x2ceec1(0xbdf)]('a');_0x532210[_0x2ceec1(0x7f3)]=URL[_0x2ceec1(0xb2c)](_0x49cd75),_0x532210[_0x2ceec1(0x393)]=_0x15c4e5+_0x2ceec1(0x9f0),_0x532210[_0x2ceec1(0x7a5)]();}function renderAnalytics(_0x5ab60a,_0x1fffb9){const _0x13b930=_0x230ac1,_0x119ba7=_0x1fffb9[_0x13b930(0x320)](_0x32f06e=>_0x32f06e[_0x13b930(0xcd5)]!==undefined),_0x2ae6c3=currentProjectData[_0x13b930(0xa2f)]['length'],_0x1c67a1=_0x119ba7['length'],_0x29a354=_0x2ae6c3-_0x1c67a1,_0x3269cd=_0x2ae6c3>0x0?_0x1c67a1/_0x2ae6c3*0x64:0x0,_0x31de8b=_0x119ba7[_0x13b930(0xe07)](_0x59244c=>_0x59244c[_0x13b930(0xcd5)]),_0x506d3e=_0x31de8b[_0x13b930(0xe93)]>0x0?_0x31de8b[_0x13b930(0xa56)]((_0x542364,_0x42eb6f)=>_0x542364+_0x42eb6f,0x0)/_0x31de8b['length']:0x0,_0x575d04=_0x5ab60a[_0x13b930(0x746)][_0x13b930(0xe93)],_0x2908ee=_0x575d04>0x0?_0x506d3e/_0x575d04*0x64:0x0,_0x502d19=calculateItemAnalysis(_0x5ab60a,_0x119ba7),_0x342e63=calculateReliabilityKR20(_0x5ab60a,_0x119ba7,_0x502d19['perQuestionStats']);let _0x52a0e0='';if(_0x342e63!==null){let _0xdb5979='';if(_0x342e63>=0.9)_0xdb5979=_0x13b930(0x52e);else{if(_0x342e63>=0.8)_0xdb5979=_0x13b930(0x541);else{if(_0x342e63>=0.7)_0xdb5979='ดี';else{if(_0x342e63>=0.6)_0xdb5979='พอใช้';else _0xdb5979=_0x13b930(0xa74);}}}_0x52a0e0=_0x13b930(0xcc7)+_0x342e63[_0x13b930(0x422)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0xdb5979+_0x13b930(0x2a3);}const _0x3d2d72=document[_0x13b930(0x815)](_0x13b930(0xbeb));_0x3d2d72['innerHTML']=_0x13b930(0xc7f)+_0x3269cd[_0x13b930(0x422)](0x0)+_0x13b930(0x316)+_0x1c67a1+'/'+_0x2ae6c3+_0x13b930(0xe72)+_0x506d3e[_0x13b930(0x422)](0x2)+_0x13b930(0x814)+_0x2908ee[_0x13b930(0x422)](0x0)+_0x13b930(0x55a)+(_0x31de8b[_0x13b930(0xe93)]>0x0?Math[_0x13b930(0x526)](..._0x31de8b):_0x13b930(0x8df))+_0x13b930(0xdb4)+(_0x31de8b[_0x13b930(0xe93)]>0x0?Math[_0x13b930(0x4f5)](..._0x31de8b):_0x13b930(0x8df))+_0x13b930(0x774)+_0x52a0e0+_0x13b930(0x379);const _0x1d26f7=document['getElementById']('interesting-stats-wrapper');_0x1d26f7&&_0x1d26f7['remove']();const _0x414ee6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3d2d72[_0x13b930(0xe94)](_0x13b930(0x618),_0x414ee6);const _0x3a3b3c=currentProjectData[_0x13b930(0xa2f)]||[];renderSubmissionChart(_0x1c67a1,_0x29a354,_0x119ba7,_0x3a3b3c),renderScoreDistributionChart(_0x119ba7,_0x575d04),renderQuestionAnalytics(_0x5ab60a,_0x119ba7,_0x3a3b3c),renderInterestingStats(_0x5ab60a,_0x119ba7);}async function handleExportLessonPDF(){const _0x2833d4=_0x230ac1,_0x1f6169=document[_0x2833d4(0x815)]('lesson-plan-content'),_0x19bb37=document[_0x2833d4(0x815)]('lesson-plan-title')[_0x2833d4(0x587)],_0x2f16e9=window['open']('',_0x2833d4(0x59d)),_0x1d22d3=_0x2833d4(0x649)+_0x19bb37+_0x2833d4(0x8af)+_0x1f6169['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2f16e9[_0x2833d4(0x2f7)]['write'](_0x1d22d3),_0x2f16e9[_0x2833d4(0x2f7)]['close'](),_0x2f16e9[_0x2833d4(0x5f8)]=function(){setTimeout(()=>{_0x2f16e9['print']();},0x5dc);};}function renderInterestingStats(_0x4645c8,_0x4eae0f){const _0x241eaa=_0x230ac1,_0x2f2e5=document[_0x241eaa(0x815)](_0x241eaa(0x998));if(!_0x2f2e5)return;if(_0x4eae0f[_0x241eaa(0xe93)]===0x0){_0x2f2e5['innerHTML']=_0x241eaa(0xb59);return;}const _0xf0e151=_0x4645c8[_0x241eaa(0x746)][_0x241eaa(0xe07)]((_0x586d40,_0x7d569)=>({'index':_0x7d569+0x1,'text':_0x586d40[_0x241eaa(0xef8)]||_0x586d40[_0x241eaa(0x212)],'correct':0x0}));_0x4eae0f[_0x241eaa(0xdec)](_0x4c4199=>{const _0x355cde=_0x241eaa,_0x8e78a3=_0x4c4199[_0x355cde(0x1da)][_0x4c4199['attempts'][_0x355cde(0xe93)]-0x1];_0x8e78a3&&_0x8e78a3[_0x355cde(0x7d9)]&&_0x8e78a3[_0x355cde(0x7d9)][_0x355cde(0xdec)](_0x5c9030=>{const _0x279da3=_0x355cde,_0x45c9d4=_0xf0e151[_0x279da3(0x5eb)](_0x51647f=>_0x51647f['text']===_0x5c9030[_0x279da3(0x6c2)]);_0x5c9030[_0x279da3(0x6d1)]&&_0x45c9d4&&_0x45c9d4[_0x279da3(0x76b)]++;});});const _0xfd36be=_0x4eae0f[_0x241eaa(0xe93)],_0x382fc8=Math[_0x241eaa(0x526)](..._0xf0e151[_0x241eaa(0xe07)](_0x200912=>_0x200912[_0x241eaa(0x76b)])),_0x594ee4=Math[_0x241eaa(0x4f5)](..._0xf0e151['map'](_0x1d8cb1=>_0x1d8cb1[_0x241eaa(0x76b)])),_0x38bd25=_0xf0e151[_0x241eaa(0x320)](_0xeb5d14=>_0xeb5d14[_0x241eaa(0x76b)]===_0x382fc8)[_0x241eaa(0xe07)](_0x13b656=>_0x241eaa(0x4fb)+_0x13b656[_0x241eaa(0x677)]),_0x2887c1=_0xf0e151[_0x241eaa(0x320)](_0x500085=>_0x500085[_0x241eaa(0x76b)]===_0x594ee4)[_0x241eaa(0xe07)](_0x837161=>_0x241eaa(0x4fb)+_0x837161[_0x241eaa(0x677)]),_0x45617e=_0x4eae0f[_0x241eaa(0xa6f)]((_0x32c06f,_0x1d958b)=>_0x1d958b['latestScore']-_0x32c06f[_0x241eaa(0xcd5)])[_0x241eaa(0x320)]((_0x4c91ce,_0x73e4e1,_0x57fcef)=>_0x4c91ce[_0x241eaa(0xcd5)]===_0x57fcef[0x0][_0x241eaa(0xcd5)]),_0x20bcfd=_0x4eae0f['sort']((_0x2b538f,_0x5cc7ee)=>_0x2b538f['latestScore']-_0x5cc7ee['latestScore'])[_0x241eaa(0x320)]((_0x1fbab6,_0x2889e1,_0x5e5de3)=>_0x1fbab6[_0x241eaa(0xcd5)]===_0x5e5de3[0x0]['latestScore']),_0x5a046e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x38bd25['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x382fc8+_0x241eaa(0xe75)+_0xfd36be+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2887c1[_0x241eaa(0x885)](',\x20')+_0x241eaa(0xb0d)+(_0xfd36be-_0x594ee4)+_0x241eaa(0xe75)+_0xfd36be+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x45617e['map'](_0x32c8c9=>_0x32c8c9['studentName'])[_0x241eaa(0x885)](',\x20')+_0x241eaa(0xcab)+_0x45617e[0x0][_0x241eaa(0xcd5)]+_0x241eaa(0x504)+_0x20bcfd['map'](_0x3ed192=>_0x3ed192[_0x241eaa(0x455)])[_0x241eaa(0x885)](',\x20')+_0x241eaa(0xcab)+_0x20bcfd[0x0][_0x241eaa(0xcd5)]+_0x241eaa(0x446);_0x2f2e5[_0x241eaa(0x63b)]=_0x5a046e;}function renderSubmissionChart(_0x2b00de,_0x3cf1bc,_0x55aad1,_0x3c329a){const _0x530bbf=_0x230ac1,_0x14d792=document[_0x530bbf(0x815)](_0x530bbf(0xf00))[_0x530bbf(0xf18)]('2d'),_0x1192b=_0x55aad1[_0x530bbf(0xe07)](_0x3f2bc2=>_0x3f2bc2[_0x530bbf(0x455)]),_0x252ff8=_0x3c329a[_0x530bbf(0x320)](_0x1bed38=>!_0x1192b[_0x530bbf(0x8f3)](_0x1bed38));chartInstances[_0x530bbf(0x346)]&&chartInstances[_0x530bbf(0x346)][_0x530bbf(0x801)](),chartInstances[_0x530bbf(0x346)]=new Chart(_0x14d792,{'type':_0x530bbf(0x2b1),'data':{'labels':[_0x530bbf(0xb18),_0x530bbf(0xafd)],'datasets':[{'data':[_0x2b00de,_0x3cf1bc],'backgroundColor':[_0x530bbf(0x83a),_0x530bbf(0xef3)],'borderColor':[_0x530bbf(0x416),_0x530bbf(0x416)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x530bbf(0x262)},'tooltip':{'callbacks':{'label':function(_0x9c834){const _0x2007b8=_0x530bbf;let _0x294f2d=_0x9c834[_0x2007b8(0xe13)]||'';return _0x294f2d&&(_0x294f2d+=':\x20'),_0x294f2d+=_0x9c834[_0x2007b8(0x543)],_0x294f2d;},'afterLabel':function(_0x321151){const _0x4782f7=_0x530bbf;let _0xcfa1d9;return _0x321151[_0x4782f7(0x21f)]===0x0?_0xcfa1d9=_0x1192b:_0xcfa1d9=_0x252ff8,_0xcfa1d9[_0x4782f7(0xe93)]>0x0?_0xcfa1d9[_0x4782f7(0x885)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x13dfbe,_0x5c30bc){const _0x596827=_0x230ac1,_0x50ca06=document[_0x596827(0x815)](_0x596827(0x3e5))[_0x596827(0xf18)]('2d'),_0x3bb484={};for(let _0x45715c=0x0;_0x45715c<=_0x5c30bc;_0x45715c++){_0x3bb484[_0x45715c]=0x0;}_0x13dfbe[_0x596827(0xdec)](_0x4103fd=>{const _0x20471e=_0x596827;_0x3bb484[_0x4103fd['latestScore']]!==undefined&&_0x3bb484[_0x4103fd[_0x20471e(0xcd5)]]++;}),chartInstances[_0x596827(0x6b9)]&&chartInstances[_0x596827(0x6b9)][_0x596827(0x801)](),chartInstances['score']=new Chart(_0x50ca06,{'type':_0x596827(0x714),'data':{'labels':Object[_0x596827(0x251)](_0x3bb484),'datasets':[{'label':_0x596827(0xec6),'data':Object[_0x596827(0xdf2)](_0x3bb484),'backgroundColor':_0x596827(0xb09),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xc5e28e){const _0x41391a=_0x596827,_0x416f00=_0xc5e28e[_0x41391a(0xe13)],_0x387a0c=_0x13dfbe[_0x41391a(0x320)](_0x22a206=>_0x22a206[_0x41391a(0xcd5)]==_0x416f00)[_0x41391a(0xe07)](_0x380e92=>_0x380e92[_0x41391a(0x455)]);return _0x387a0c[_0x41391a(0xe93)]>0x0?_0x387a0c['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x265ad1,_0x358fcb,_0x8deb0a){const _0xcf32d8=_0x230ac1,_0x52c67e=document[_0xcf32d8(0x815)](_0xcf32d8(0xb9b));if(_0x8deb0a['length']===0x0){_0x52c67e[_0xcf32d8(0x63b)]=_0xcf32d8(0x812);return;}const _0x526c5e=calculateItemAnalysis(_0x265ad1,_0x358fcb),_0x578cfa=calculateDistractorAnalysis(_0x265ad1,_0x358fcb);let _0x2ab353='';_0x526c5e[_0xcf32d8(0x92d)]&&(_0x2ab353=_0xcf32d8(0xd07)+_0x526c5e[_0xcf32d8(0x92d)][_0xcf32d8(0xd87)]['length']+_0xcf32d8(0xcd9)+_0x526c5e['overallGroups']['upperGroupNames'][_0xcf32d8(0xe07)](_0x49f493=>_0xcf32d8(0x3b4)+_0x49f493+_0xcf32d8(0x23c))[_0xcf32d8(0x885)]('')+_0xcf32d8(0xc98)+_0x526c5e[_0xcf32d8(0x92d)]['lowerGroupNames'][_0xcf32d8(0xe93)]+_0xcf32d8(0xcd9)+_0x526c5e[_0xcf32d8(0x92d)][_0xcf32d8(0x8d3)][_0xcf32d8(0xe07)](_0xa13489=>_0xcf32d8(0x3b4)+_0xa13489+_0xcf32d8(0x23c))[_0xcf32d8(0x885)]('')+_0xcf32d8(0x7c1));let _0x5aa589='';const _0x297c61=_0x358fcb[_0xcf32d8(0xe07)](_0x11d10a=>_0x11d10a['studentName']),_0x2cf305=_0x16a5b6=>{const _0x1c982f=_0xcf32d8;if(_0x16a5b6>=0.8)return _0x1c982f(0xe8a);if(_0x16a5b6>=0.6)return _0x1c982f(0x881);if(_0x16a5b6>=0.4)return _0x1c982f(0xdf9);if(_0x16a5b6>=0.2)return _0x1c982f(0x227);return _0x1c982f(0x8ca);},_0x61b29c=_0x492f98=>{const _0x44bdab=_0xcf32d8;if(_0x492f98<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x492f98>=0.4)return _0x44bdab(0xd83);if(_0x492f98>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x492f98>=0.2)return _0x44bdab(0xa31);return _0x44bdab(0x70a);},_0x276955=_0x1dc4b9=>{const _0xa1533f=_0xcf32d8,_0x3fa1bd=_0x1dc4b9['toFixed'](0x0);if(parseFloat(_0x3fa1bd)===0x64)return _0xa1533f(0x931)+_0x3fa1bd+_0xa1533f(0x50a);if(_0x1dc4b9>=0x32)return _0xa1533f(0x5d7)+_0x3fa1bd+_0xa1533f(0x50a);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3fa1bd+'%</span>';};_0x265ad1[_0xcf32d8(0x746)][_0xcf32d8(0xdec)]((_0x4edcdb,_0x564ce0)=>{const _0x163991=_0xcf32d8,_0x545ada=_0x526c5e['perQuestionStats'][_0x564ce0],_0x4531d6=_0x578cfa[_0x564ce0],_0x528b54=_0x4edcdb[_0x163991(0x212)]||_0x4edcdb[_0x163991(0xef8)]||_0x4edcdb[_0x163991(0x875)];let _0x31c7d5=0x0;const _0x5cc1da=[],_0x57007e=[];_0x358fcb[_0x163991(0xdec)](_0x571a09=>{const _0x37dc65=_0x163991,_0x270f59=_0x571a09['attempts'][_0x571a09[_0x37dc65(0x1da)]['length']-0x1];if(_0x270f59&&_0x270f59[_0x37dc65(0x7d9)]){const _0x556738=_0x270f59[_0x37dc65(0x7d9)][_0x37dc65(0x5eb)](_0x583366=>_0x583366[_0x37dc65(0x6c2)]===_0x528b54)??_0x270f59[_0x37dc65(0x7d9)][_0x564ce0]??null;_0x556738&&(_0x556738[_0x37dc65(0x6d1)]?(_0x31c7d5++,_0x5cc1da[_0x37dc65(0xacf)](_0x571a09[_0x37dc65(0x455)])):_0x57007e[_0x37dc65(0xacf)](_0x571a09[_0x37dc65(0x455)]));}});const _0x368d9d=_0x358fcb[_0x163991(0xe93)]>0x0?_0x31c7d5/_0x358fcb[_0x163991(0xe93)]*0x64:0x0,_0x31b58d=_0x8deb0a[_0x163991(0x320)](_0x8bb368=>!_0x297c61[_0x163991(0x8f3)](_0x8bb368)),_0x3f6906=_0x545ada?_0x163991(0xd78)+_0x545ada['p'][_0x163991(0x422)](0x2)+_0x163991(0x458)+_0x2cf305(_0x545ada['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x545ada['r']['toFixed'](0x2)+_0x163991(0x458)+_0x61b29c(_0x545ada['r'])+_0x163991(0x6d4)+_0x276955(_0x368d9d)+_0x163991(0x1c3):'';let _0x4bf9fc='';_0x4531d6&&(_0x4bf9fc=_0x163991(0x79a)+Object[_0x163991(0x251)](_0x4531d6)['map'](_0x42f27a=>{const _0x1dae36=_0x163991,_0x15a9f0=_0x4531d6[_0x42f27a],_0x46fad2=parseInt(_0x42f27a)===_0x4edcdb[_0x1dae36(0xdfa)],_0x515a6c=!_0x46fad2&&_0x15a9f0[_0x1dae36(0x664)]>_0x15a9f0[_0x1dae36(0x28a)];return _0x1dae36(0x425)+(_0x46fad2?_0x1dae36(0xcbb):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x46fad2?'✔\x20':'')+_0x15a9f0[_0x1dae36(0x317)]+_0x1dae36(0x652)+_0x15a9f0[_0x1dae36(0x28a)]+_0x1dae36(0x652)+_0x15a9f0[_0x1dae36(0x664)]+'\x20'+(_0x515a6c?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x15a9f0[_0x1dae36(0x9f4)]+_0x1dae36(0x5f5);})[_0x163991(0x885)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x918d08='';_0x545ada&&_0x545ada[_0x163991(0x569)]&&(_0x918d08='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x545ada[_0x163991(0x569)][_0x163991(0xe93)]+_0x163991(0x2c8)+_0x545ada[_0x163991(0x569)]['map'](_0x122082=>_0x163991(0x3b4)+(_0x122082[_0x163991(0x6d1)]?_0x163991(0x4f1):_0x163991(0x1f5))+'\x20'+_0x122082[_0x163991(0xcc9)]+'</li>')[_0x163991(0x885)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x545ada[_0x163991(0x8fc)][_0x163991(0xe93)]+_0x163991(0x2c8)+_0x545ada[_0x163991(0x8fc)]['map'](_0x39b8d9=>_0x163991(0x3b4)+(_0x39b8d9[_0x163991(0x6d1)]?_0x163991(0x4f1):_0x163991(0x1f5))+'\x20'+_0x39b8d9[_0x163991(0xcc9)]+_0x163991(0x23c))[_0x163991(0x885)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x5aa589+=_0x163991(0xb38)+(_0x564ce0+0x1)+':\x20'+_0x528b54+_0x163991(0x59c)+_0x3f6906+_0x163991(0xef6)+_0x528b54+_0x163991(0x605)+_0x31c7d5+'\x20จาก\x20'+_0x358fcb[_0x163991(0xe93)]+_0x163991(0x250)+_0x368d9d[_0x163991(0x422)](0x0)+_0x163991(0xec0)+_0x5cc1da['length']+_0x163991(0x460)+(_0x5cc1da[_0x163991(0xe93)]>0x0?_0x5cc1da[_0x163991(0x885)](',\x20'):'ไม่มี')+_0x163991(0x3b2)+_0x57007e[_0x163991(0xe93)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x57007e[_0x163991(0xe93)]>0x0?_0x57007e[_0x163991(0x885)](',\x20'):_0x163991(0x7f1))+_0x163991(0xedf)+_0x31b58d[_0x163991(0xe93)]+_0x163991(0x460)+(_0x31b58d['length']>0x0?_0x31b58d[_0x163991(0x885)](',\x20'):_0x163991(0x7f1))+_0x163991(0x544)+_0x4bf9fc+_0x163991(0x5c4)+_0x918d08+_0x163991(0xead);}),_0x52c67e['innerHTML']=_0x2ab353+_0x5aa589;try{window[_0xcf32d8(0x67a)]&&MathJax['typesetPromise']&&MathJax[_0xcf32d8(0x40b)]([_0x52c67e]);}catch(_0x26f469){console[_0xcf32d8(0x1b6)](_0xcf32d8(0xa7d),_0x26f469);}}function calculateDistractorAnalysis(_0xaf6e,_0xf16696){const _0x139ed9=_0x230ac1,_0x5b144a={};if(_0xf16696[_0x139ed9(0xe93)]<0x2)return _0x5b144a;const _0x1d43c6=[..._0xf16696][_0x139ed9(0xa6f)]((_0x496ffb,_0x336d14)=>{const _0x5bc887=_0x139ed9,_0x26321c=_0x336d14[_0x5bc887(0xcd5)]-_0x496ffb[_0x5bc887(0xcd5)];if(_0x26321c!==0x0)return _0x26321c;const _0x47f36a=_0x496ffb[_0x5bc887(0x1da)]?.['length']||0x1,_0x533dd9=_0x336d14[_0x5bc887(0x1da)]?.[_0x5bc887(0xe93)]||0x1,_0x16e376=_0x47f36a-_0x533dd9;if(_0x16e376!==0x0)return _0x16e376;const _0x21ba9f=new Date(_0x496ffb['latestSubmittedAt']),_0x1bd8aa=new Date(_0x336d14[_0x5bc887(0x9ee)]),_0x740296=_0x21ba9f-_0x1bd8aa;if(_0x740296!==0x0)return _0x740296;return _0x496ffb[_0x5bc887(0x455)]['localeCompare'](_0x336d14[_0x5bc887(0x455)],'th');}),_0x3faad3=_0x1d43c6['length'],_0x36e3db=Math[_0x139ed9(0x526)](0x1,Math[_0x139ed9(0x599)](_0x3faad3*0.33)),_0x3bd38c=_0x1d43c6[_0x139ed9(0xc26)](0x0,_0x36e3db),_0x178ec2=_0x1d43c6[_0x139ed9(0xc26)](-_0x36e3db);return _0xaf6e[_0x139ed9(0x746)][_0x139ed9(0xdec)]((_0x6c8612,_0x119779)=>{const _0x5e392f=_0x139ed9;if(_0x6c8612[_0x5e392f(0x1f4)]!==_0x5e392f(0x653)||!_0x6c8612[_0x5e392f(0xa9c)])return;const _0x2238bc=_0x6c8612[_0x5e392f(0xef8)],_0x2f895f={};_0x6c8612['options'][_0x5e392f(0xdec)]((_0x2ab49d,_0x305833)=>{_0x2f895f[_0x305833]={'text':_0x2ab49d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1d43c6['forEach'](_0x1ff975=>{const _0xbc58fa=_0x5e392f,_0x4da2d6=_0x1ff975['attempts'][_0x1ff975[_0xbc58fa(0x1da)][_0xbc58fa(0xe93)]-0x1],_0x36b1d5=_0x4da2d6[_0xbc58fa(0x7d9)]['find'](_0x218130=>_0x218130[_0xbc58fa(0x6c2)]===_0x2238bc);if(_0x36b1d5&&_0x36b1d5['answer']!==null){const _0x1ff1b2=_0x6c8612['options'][_0xbc58fa(0x7cd)](_0x3e9dd1=>_0x3e9dd1===_0x36b1d5[_0xbc58fa(0xb20)]);_0x1ff1b2!==-0x1&&_0x2f895f[_0x1ff1b2]&&(_0x2f895f[_0x1ff1b2]['total']++,_0x3bd38c[_0xbc58fa(0x8f3)](_0x1ff975)&&_0x2f895f[_0x1ff1b2][_0xbc58fa(0x28a)]++,_0x178ec2[_0xbc58fa(0x8f3)](_0x1ff975)&&_0x2f895f[_0x1ff1b2]['lower_group_count']++);}}),_0x5b144a[_0x119779]=_0x2f895f;}),_0x5b144a;}function calculateReliabilityKR20(_0x45599d,_0x61cc9d,_0x3fcfb8){const _0x28c44e=_0x230ac1,_0xaf05c7=_0x45599d[_0x28c44e(0x746)][_0x28c44e(0xe93)];if(_0xaf05c7<0x2||_0x61cc9d[_0x28c44e(0xe93)]<0x2)return null;const _0x3664e8=_0x61cc9d[_0x28c44e(0xe07)](_0x5430cb=>_0x5430cb[_0x28c44e(0xcd5)]),_0x3711bf=_0x3664e8[_0x28c44e(0xa56)]((_0x47360d,_0xa51cda)=>_0x47360d+_0xa51cda,0x0)/_0x3664e8[_0x28c44e(0xe93)],_0x50f1cd=_0x3664e8[_0x28c44e(0xe07)](_0xfc9e17=>Math[_0x28c44e(0x7c3)](_0xfc9e17-_0x3711bf,0x2))['reduce']((_0x4b0726,_0x10a1e7)=>_0x4b0726+_0x10a1e7,0x0)/_0x3664e8[_0x28c44e(0xe93)];if(_0x50f1cd===0x0)return null;let _0x325512=0x0;for(let _0x2612bb=0x0;_0x2612bb<_0xaf05c7;_0x2612bb++){const _0xbb229c=_0x3fcfb8[_0x2612bb]?.['p'];if(_0xbb229c===undefined)continue;const _0x50a989=0x1-_0xbb229c;_0x325512+=_0xbb229c*_0x50a989;}if(_0x325512===0x0)return null;const _0x3ee660=_0xaf05c7/(_0xaf05c7-0x1)*(0x1-_0x325512/_0x50f1cd);if(_0x3ee660>0x1)return null;return _0x3ee660;}async function handleAnalyzeClass(){const _0x47979d=_0x230ac1;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x47979d(0x571));return;}const _0xb4ecb0=collection(db,_0x47979d(0x884)+appId+_0x47979d(0xa60)+currentQuizData['id']+_0x47979d(0xb77)),_0x1da7d5=await getDocs(_0xb4ecb0),_0x54da33=_0x1da7d5[_0x47979d(0xcf8)][_0x47979d(0xe07)](_0x27fd04=>_0x27fd04[_0x47979d(0xdad)]());if(_0x54da33[_0x47979d(0xe93)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x39895c=document['getElementById']('strength-weakness-analysis-container');_0x39895c[_0x47979d(0x63b)]=_0x47979d(0x29d),document[_0x47979d(0x815)](_0x47979d(0xc5e))[_0x47979d(0x44b)]=!![];const _0x149bb=_0x54da33[_0x47979d(0xe07)]((_0x17fc4b,_0x173945)=>{const _0x1fb171=_0x47979d,_0x4c1a03=_0x17fc4b[_0x1fb171(0x1da)][_0x17fc4b[_0x1fb171(0x1da)]['length']-0x1];if(!_0x4c1a03)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x173945+0x1)+'\x20('+_0x17fc4b['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x4c1a03['score']+'/'+_0x17fc4b['totalQuestions']+_0x1fb171(0xb07)+JSON[_0x1fb171(0xd0a)](_0x4c1a03[_0x1fb171(0x7d9)])+_0x1fb171(0x8aa);})[_0x47979d(0x885)]('\x0a---\x0a'),_0x30d8b0=_0x47979d(0x75f)+currentQuizData[_0x47979d(0xbdd)]+_0x47979d(0x964)+JSON['stringify'](currentQuizData[_0x47979d(0x746)])+_0x47979d(0xa39)+_0x149bb+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x44fa7c={'type':_0x47979d(0x1eb),'properties':{'classStrengths':{'type':_0x47979d(0x2df),'items':{'type':_0x47979d(0x324)}},'classWeaknesses':{'type':_0x47979d(0x2df),'items':{'type':_0x47979d(0x324)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x47979d(0x625),_0x47979d(0x8f2),'teacherSuggestions']};try{const _0x2fb289=await callAnalysisApi(_0x30d8b0,_0x44fa7c);displayClassAnalysis(_0x2fb289);}catch(_0x137407){console['error'](_0x47979d(0xc5f),_0x137407),_0x39895c[_0x47979d(0x63b)]=_0x47979d(0xa15)+_0x137407[_0x47979d(0xb95)]+_0x47979d(0xd6a);}finally{document['getElementById'](_0x47979d(0xc5e))[_0x47979d(0x44b)]=![];}}function displayClassAnalysis(_0x195190){const _0x1d5799=_0x230ac1,_0x40306f=document[_0x1d5799(0x815)](_0x1d5799(0x4ac));if(!_0x195190){_0x40306f[_0x1d5799(0x63b)]=_0x1d5799(0xd2d);return;}_0x40306f['innerHTML']=_0x1d5799(0x222)+_0x195190[_0x1d5799(0x625)][_0x1d5799(0xe07)](_0x43a83c=>_0x1d5799(0x3b4)+_0x43a83c+'</li>')[_0x1d5799(0x885)]('')+_0x1d5799(0xf1f)+_0x195190[_0x1d5799(0x8f2)][_0x1d5799(0xe07)](_0x492e56=>_0x1d5799(0x3b4)+_0x492e56+_0x1d5799(0x23c))[_0x1d5799(0x885)]('')+_0x1d5799(0x83b)+_0x195190[_0x1d5799(0x778)][_0x1d5799(0xe07)](_0x5bd241=>_0x1d5799(0x3b4)+_0x5bd241+_0x1d5799(0x23c))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x6472d1,_0x5c9178){const _0xb89a4b=_0x230ac1,_0x39b951=_0xb89a4b(0x3ac)+_0x6472d1[_0xb89a4b(0xbdd)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x6472d1['topic']+_0xb89a4b(0xd47)+_0x6472d1[_0xb89a4b(0x746)][_0xb89a4b(0xe07)]((_0x41d32d,_0x57aa9f)=>_0xb89a4b(0x9f6)+(_0x57aa9f+0x1)+'.\x20'+_0x41d32d[_0xb89a4b(0xef8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x41d32d[_0xb89a4b(0x74b)]?_0xb89a4b(0xd21)+_0x41d32d['imageCode']+_0xb89a4b(0xcb3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xb89a4b(0x885)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5c9178[_0xb89a4b(0x2f7)][_0xb89a4b(0x9df)](_0x39b951),_0x5c9178[_0xb89a4b(0x2f7)][_0xb89a4b(0x5c7)](),_0x5c9178[_0xb89a4b(0x5f8)]=function(){setTimeout(()=>{const _0x522c4b=_0x1143;_0x5c9178[_0x522c4b(0x9d9)]();},0x3e8);};}async function generateWorksheet(){const _0x166633=_0x230ac1,_0x309e74=document[_0x166633(0x815)](_0x166633(0x7bd))[_0x166633(0xdd7)][_0x166633(0x99f)]();if(!_0x309e74){showMessage(_0x166633(0xdae));return;}const _0x2382f6=document[_0x166633(0x815)](_0x166633(0x219))[_0x166633(0xdaf)],_0x2e36b9=_0x2382f6?'':_0x166633(0xbf5),_0x4122b5=window[_0x166633(0xa40)]('',_0x166633(0x59d));_0x4122b5[_0x166633(0x2f7)][_0x166633(0x9df)](_0x166633(0x2af));const _0x419375=parseInt(document[_0x166633(0x815)](_0x166633(0x629))[_0x166633(0xdd7)]),_0x2ee135=document[_0x166633(0x815)](_0x166633(0xb9e))['checked'],_0x3ca5c1=_0x2ee135?_0x166633(0xc8b):'',_0x5e9649=_0x166633(0xc6d)+_0x2e36b9+_0x166633(0xe51)+_0x419375+_0x166633(0xf0e)+_0x309e74+_0x166633(0x3d6)+_0x3ca5c1+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x166633(0x4e1),_0xe7a185={'type':_0x166633(0x1eb),'properties':{'topic':{'type':_0x166633(0x324)},'questions':{'type':_0x166633(0x2df),'items':{'type':_0x166633(0x1eb),'properties':{'questionText':{'type':_0x166633(0x324)},'imageCode':{'type':_0x166633(0x324)}},'required':[_0x166633(0xef8)]}}},'required':[_0x166633(0xbdd),'questions']};document[_0x166633(0x815)](_0x166633(0x5f3))[_0x166633(0x587)]='',document[_0x166633(0x815)]('loader')['classList'][_0x166633(0xb0b)](_0x166633(0xcc2)),document[_0x166633(0x815)](_0x166633(0x601))[_0x166633(0xeac)][_0x166633(0xb0b)]('hidden'),generateWorksheetBtn[_0x166633(0x44b)]=!![];try{const _0x1d8311=await callAnalysisApi(_0x5e9649,_0xe7a185);formatAndPrintWorksheet(_0x1d8311,_0x4122b5);}catch(_0x3dfa50){console['error'](_0x166633(0x1c5),_0x3dfa50);if(_0x4122b5)_0x4122b5['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x166633(0x815)](_0x166633(0xb68))[_0x166633(0xeac)][_0x166633(0x4db)](_0x166633(0xcc2)),document[_0x166633(0x815)](_0x166633(0x601))[_0x166633(0xeac)][_0x166633(0x4db)]('hidden'),generateWorksheetBtn[_0x166633(0x44b)]=![];}}async function callAnalysisApi(_0xc78e38,_0x1d9cf1){const _0x281b6c=_0x230ac1,_0x2e2218={'contents':[{'role':_0x281b6c(0x325),'parts':[{'text':_0xc78e38}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1d9cf1}},_0x5c4455=_0x281b6c(0x769),_0x33b1d8=_0x281b6c(0xd30)+_0x5c4455,_0x359563=await fetch(_0x33b1d8,{'method':_0x281b6c(0x757),'headers':{'Content-Type':_0x281b6c(0x717)},'body':JSON['stringify'](_0x2e2218)});if(!_0x359563['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x359563[_0x281b6c(0xc71)]);const _0x31505a=await _0x359563['json']();if(_0x31505a[_0x281b6c(0xe70)]?.[0x0]?.[_0x281b6c(0xf14)]?.[_0x281b6c(0x5b8)]?.[0x0])return JSON[_0x281b6c(0x74f)](_0x31505a[_0x281b6c(0xe70)][0x0]['content']['parts'][0x0][_0x281b6c(0x317)]);else{let _0xb39a37='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x31505a[_0x281b6c(0xbf9)]?.[_0x281b6c(0xa37)])_0xb39a37=_0x281b6c(0x622)+_0x31505a[_0x281b6c(0xbf9)][_0x281b6c(0xa37)]+'.';else _0x31505a[_0x281b6c(0xe70)]?.[0x0]?.['finishReason']&&_0x31505a[_0x281b6c(0xe70)][0x0][_0x281b6c(0x472)]!==_0x281b6c(0xba2)&&(_0xb39a37=_0x281b6c(0x5ad)+_0x31505a[_0x281b6c(0xe70)][0x0][_0x281b6c(0x472)]+'.');console[_0x281b6c(0x1b6)](_0xb39a37,JSON[_0x281b6c(0xd0a)](_0x31505a));throw new Error(_0xb39a37);}}async function handleStartSyncMode(_0x5d1ca8,_0x353e90=![],_0x31054d='classic'){const _0x5274bd=_0x230ac1,_0x4ae2ac=allQuizzes[_0x5274bd(0x5eb)](_0x3e1910=>_0x3e1910['id']===_0x5d1ca8)||allQuizzesGlobal[_0x5274bd(0x5eb)](_0x5b98f0=>_0x5b98f0['id']===_0x5d1ca8);if(!_0x4ae2ac){showMessage(_0x5274bd(0x66e));return;}currentQuizData=getShuffledQuiz(_0x4ae2ac);const _0x3320d1=Math['floor'](0x3e8+Math[_0x5274bd(0x88b)]()*0x2328)['toString'](),_0x20aa7=doc(db,_0x5274bd(0x884)+appId+_0x5274bd(0xb81),_0x4ae2ac[_0x5274bd(0x791)]),_0x3801c1=await getDoc(_0x20aa7);if(!_0x3801c1[_0x5274bd(0x939)]()){showMessage(_0x5274bd(0x8fa));return;}const _0x402e2d=_0x3801c1[_0x5274bd(0xdad)]()[_0x5274bd(0xa2f)]||[],_0xc1d619={};if(_0x31054d===_0x5274bd(0xe18)||_0x31054d===_0x5274bd(0xf2e)){const _0x42e4b9=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x5274bd(0x88b)]());_0x402e2d[_0x5274bd(0xdec)]((_0x36ced4,_0x1316d6)=>{const _0x42392a=_0x5274bd;_0xc1d619[_0x36ced4]=_0x42e4b9[_0x1316d6]||_0x42392a(0x5b3)+(_0x1316d6+0x1);});}const _0x2fdf39=document['getElementById'](_0x5274bd(0x568))[_0x5274bd(0xdaf)],_0x24b4a7=parseInt(document[_0x5274bd(0x815)](_0x5274bd(0xcda))['value'],0xa);let _0x2758e5={'timerMode':_0x5274bd(0x1e2),'timerDuration':0x0};_0x2fdf39&&(_0x2758e5['timerMode']=_0x5274bd(0xd1a),_0x2758e5[_0x5274bd(0x849)]=_0x24b4a7||0xf0);const _0x3a92f3=document[_0x5274bd(0x815)](_0x5274bd(0x600))[_0x5274bd(0xdaf)],_0xfacc57=document[_0x5274bd(0x815)](_0x5274bd(0x5a6))[_0x5274bd(0xdaf)];try{const _0x37ee98=await addDoc(collection(db,_0x5274bd(0x884)+appId+_0x5274bd(0x3ce)),{'quizId':_0x4ae2ac['id'],'pin':_0x3320d1,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x353e90,'players':{},'gameVariant':_0x31054d,'reviewQuestionIndex':0x0,'playerNicknames':_0xc1d619,'isAnonymousRevealed':![],..._0x2758e5,'showAnswerInAnonymous':_0x3a92f3,'isBlackMarketEnabled':_0xfacc57});currentLiveGameId=_0x37ee98['id'],showView('live-game'),renderSyncLobbyView(_0x3320d1,_0x4ae2ac[_0x5274bd(0xbdd)]),listenForSyncGameUpdates();const _0x72b1d7={'gameId':currentLiveGameId,'mode':_0x5274bd(0x4e6),'role':_0x5274bd(0x4fe)};sessionStorage['setItem'](_0x5274bd(0xa26),JSON[_0x5274bd(0xd0a)](_0x72b1d7));}catch(_0x50d9dc){console['error']('Error\x20starting\x20sync\x20game:',_0x50d9dc),showMessage(_0x5274bd(0x26f));}}function calculateFinalPodiumScores(_0x5c1e4a){const _0x5d2ddf=_0x230ac1;if(!_0x5c1e4a||!_0x5c1e4a[_0x5d2ddf(0xde5)]||!_0x5c1e4a[_0x5d2ddf(0x9f8)])return _0x5c1e4a[_0x5d2ddf(0x9f8)]||{};const _0x5833ed=_0x5c1e4a[_0x5d2ddf(0xde5)][_0x5d2ddf(0x746)][_0x5d2ddf(0xe93)],_0x255284=JSON['parse'](JSON[_0x5d2ddf(0xd0a)](_0x5c1e4a[_0x5d2ddf(0x9f8)]));return Object['values'](_0x255284)[_0x5d2ddf(0xdec)](_0x456b1f=>{const _0x1b2b34=_0x5d2ddf,_0x1a3908=_0x456b1f[_0x1b2b34(0x6b9)]||0x0,_0x4b2186=_0x456b1f[_0x1b2b34(0xa92)]||0x0;_0x5833ed>0x0&&_0x1a3908===_0x5833ed?_0x456b1f[_0x1b2b34(0xdb1)]=!![]:_0x456b1f['hasPerfectScoreBonus']=![],_0x456b1f[_0x1b2b34(0x545)]=_0x1a3908,_0x456b1f[_0x1b2b34(0xa92)]=_0x4b2186;}),_0x255284;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x14141f=_0x230ac1;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x2d1814=doc(db,_0x14141f(0x884)+appId+_0x14141f(0x3ce),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2d1814,_0x2581a4=>{const _0x410188=_0x14141f;if(!_0x2581a4[_0x410188(0x939)]()){sessionStorage['removeItem'](_0x410188(0xa26)),showMessage(_0x410188(0x961));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x410188(0x4fe)?showView('project-detail'):showView(_0x410188(0x974));return;}cachedGameData=_0x2581a4[_0x410188(0xdad)](),cachedGameData[_0x410188(0xde5)]&&(currentQuizData=cachedGameData[_0x410188(0xde5)]),syncDataAndRender();});const _0xde2e60=collection(db,_0x14141f(0x884)+appId+_0x14141f(0xde8)+currentLiveGameId+_0x14141f(0x950));if(currentMode===_0x14141f(0x4fe))unsubscribePlayersCollectionListener=onSnapshot(_0xde2e60,_0x2d2c59=>{const _0x46a672=_0x14141f;_0x2d2c59[_0x46a672(0x204)]()[_0x46a672(0xdec)](_0x4e7a42=>{const _0x1547b7=_0x46a672;if(_0x4e7a42[_0x1547b7(0x444)]===_0x1547b7(0x41e)||_0x4e7a42['type']==='modified')cachedPlayerData[_0x4e7a42['doc']['id']]=_0x4e7a42[_0x1547b7(0x2dc)][_0x1547b7(0xdad)]();else _0x4e7a42[_0x1547b7(0x444)]===_0x1547b7(0xc41)&&delete cachedPlayerData[_0x4e7a42[_0x1547b7(0x2dc)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x14141f(0xe93)]>0x0){const _0x3188f5=query(_0xde2e60,where(_0x14141f(0xcc9),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x3188f5,_0x484a9c=>{const _0x108323=_0x14141f;_0x484a9c[_0x108323(0x204)]()[_0x108323(0xdec)](_0x21cba3=>{const _0x525bc0=_0x108323;(_0x21cba3[_0x525bc0(0x444)]===_0x525bc0(0x41e)||_0x21cba3[_0x525bc0(0x444)]===_0x525bc0(0x7b5))&&(cachedPlayerData[_0x21cba3[_0x525bc0(0x2dc)]['id']]=_0x21cba3[_0x525bc0(0x2dc)][_0x525bc0(0xdad)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x33e626=_0x230ac1;if(!cachedGameData)return;const _0x5c2710={},_0x44bd6e=cachedGameData['currentQuestionIndex'];Object[_0x33e626(0x251)](cachedPlayerData)[_0x33e626(0xdec)](_0x26f597=>{const _0x2487b0=_0x33e626,_0x5efde6=cachedPlayerData[_0x26f597],_0x4fd772=_0x5efde6[_0x2487b0(0x7d9)]&&_0x5efde6[_0x2487b0(0x7d9)]['some'](_0x268e71=>_0x268e71[_0x2487b0(0xeb9)]===_0x44bd6e);_0x5c2710[_0x26f597]={..._0x5efde6,'answered':_0x4fd772};});const _0x446f6b={...cachedGameData,'players':_0x5c2710};currentMode==='admin'?updateAdminSyncView(_0x446f6b):updateStudentSyncView(_0x446f6b);}function renderSyncLobbyView(_0x500324,_0x14ab23){const _0x322194=_0x230ac1;liveGameView[_0x322194(0x63b)]=_0x322194(0xed0)+_0x14ab23+_0x322194(0xb90)+_0x500324+_0x322194(0xde4);const _0x3b2fab=document[_0x322194(0x815)]('confidence-scoring-toggle'),_0x3fde0b=document[_0x322194(0x815)](_0x322194(0x8b3));_0x3b2fab[_0x322194(0x7b7)]('change',()=>{const _0x254ec5=_0x322194;_0x3fde0b[_0x254ec5(0x205)][_0x254ec5(0xdd3)]=_0x3b2fab[_0x254ec5(0xdaf)]?_0x254ec5(0x46b):_0x254ec5(0x1e2);}),document[_0x322194(0x815)](_0x322194(0x9de))['addEventListener']('click',async()=>{const _0x1496b2=_0x322194,_0x57a485=doc(db,_0x1496b2(0x884)+appId+_0x1496b2(0x3ce),currentLiveGameId),_0x5d9f4c=document['getElementById'](_0x1496b2(0xbe6))[_0x1496b2(0xdaf)];await updateDoc(_0x57a485,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5d9f4c});});}function updateAdminSyncView(_0x4444fe){const _0x26b623=_0x230ac1;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4444fe['status']){case _0x26b623(0x768):renderSyncLobbyView(_0x4444fe[_0x26b623(0xac4)],_0x4444fe['shuffledQuiz'][_0x26b623(0xbdd)]);const _0x4fbb9b=Object['entries'](_0x4444fe[_0x26b623(0x9f8)]||{})[_0x26b623(0x320)](([_0x210cab,_0x31a0a5])=>_0x31a0a5[_0x26b623(0xc71)]!==_0x26b623(0xd7d));document['getElementById'](_0x26b623(0xe74))[_0x26b623(0x587)]=_0x4fbb9b['length'],document[_0x26b623(0x815)](_0x26b623(0x4ba))[_0x26b623(0x63b)]=_0x4fbb9b['map'](([_0x39cd39,_0x41baf5])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x39cd39+_0x26b623(0xc6a)+_0x39cd39+_0x26b623(0x6fa))['join']('')||_0x26b623(0x842),document[_0x26b623(0x815)](_0x26b623(0x9de))['disabled']=_0x4fbb9b['length']===0x0;break;case _0x26b623(0xc56):const _0x49d4a6=Object[_0x26b623(0xdf2)](_0x4444fe['players']||{})[_0x26b623(0x320)](_0x49744a=>_0x49744a[_0x26b623(0xc71)]!==_0x26b623(0xd7d)),_0x21fe48=_0x49d4a6[_0x26b623(0x320)](_0x3bb2f7=>_0x3bb2f7[_0x26b623(0xab5)])[_0x26b623(0xe93)],_0x5b6220=_0x21fe48===_0x49d4a6[_0x26b623(0xe93)]&&_0x49d4a6['length']>0x0;if(_0x5b6220&&_0x4444fe[_0x26b623(0xc71)]==='question'){const _0x63987c=doc(db,_0x26b623(0x884)+appId+_0x26b623(0x3ce),currentLiveGameId);updateDoc(_0x63987c,{'status':_0x26b623(0x976)});return;}if(document[_0x26b623(0x815)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x4444fe);else{const _0x5bb2e6=document[_0x26b623(0x815)](_0x26b623(0x306));_0x5bb2e6&&(_0x5bb2e6[_0x26b623(0x587)]=_0x21fe48+'/'+_0x49d4a6[_0x26b623(0xe93)]);const _0xa2b9a4=document['getElementById'](_0x26b623(0xd03));_0xa2b9a4&&(_0xa2b9a4[_0x26b623(0x63b)]=_0x49d4a6[_0x26b623(0xe07)](_0x4cd5c7=>{const _0x111e99=_0x26b623,_0x26ea10=_0x4cd5c7['answered']?_0x111e99(0xe7d):_0x111e99(0xaf3),_0x3adae1=_0x4cd5c7[_0x111e99(0xab5)]?_0x111e99(0x73b):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x111e99(0xd04)+_0x26ea10+'\x22>'+_0x3adae1+_0x111e99(0x510)+_0x4cd5c7[_0x111e99(0xcc9)]+'</span><button\x20data-player-name=\x22'+_0x4cd5c7[_0x111e99(0xcc9)]+_0x111e99(0x34c);})['join'](''));}const _0x12138a=_0x4444fe[_0x26b623(0x97a)]==='per_question'&&_0x4444fe[_0x26b623(0xeab)];if(_0x12138a){const _0x495bd4=_0x4444fe[_0x26b623(0xeab)]['toDate']()[_0x26b623(0x70e)](),_0x484150=_0x4444fe['timerDuration']*0x3e8,_0x5c9dc0=_0x495bd4+_0x484150,_0x450a66=document[_0x26b623(0x815)](_0x26b623(0xf01)),_0x4dc19c=document['getElementById'](_0x26b623(0xb8a));syncQuestionTimerInterval=setInterval(()=>{const _0x1266d2=_0x26b623,_0x25d769=Date['now'](),_0x2e95c1=_0x49d4a6['length']>0x0&&_0x49d4a6['every'](_0x102e81=>{const _0x33a472=_0x1143;if(_0x102e81['answered'])return!![];const _0x479283=_0x102e81[_0x33a472(0x339)]||0x0;return _0x25d769>=_0x495bd4+_0x484150+_0x479283;});if(_0x2e95c1){clearInterval(syncQuestionTimerInterval);const _0x477a7a=doc(db,_0x1266d2(0x884)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x477a7a,{'status':_0x1266d2(0x976)});return;}const _0x3e12a8=_0x5c9dc0-_0x25d769;if(_0x3e12a8<=0x0){if(_0x450a66)_0x450a66[_0x1266d2(0x205)][_0x1266d2(0x26c)]='0%';if(_0x4dc19c)_0x4dc19c[_0x1266d2(0x587)]=_0x1266d2(0x26e);}else{if(_0x450a66&&_0x4dc19c){const _0x15529c=_0x3e12a8/_0x484150*0x64;_0x450a66[_0x1266d2(0x205)][_0x1266d2(0x26c)]=_0x15529c+'%',_0x4dc19c[_0x1266d2(0x587)]=Math['ceil'](_0x3e12a8/0x3e8);}}},0x1f4);}break;case'summary':const _0x3c8bd1=_0x4444fe['currentQuestionIndex'],_0x5bb300=_0x4444fe[_0x26b623(0xde5)][_0x26b623(0x746)][_0x3c8bd1];renderSyncSummaryView(_0x4444fe,_0x5bb300,!![]);break;case'results':const _0x5d42a8=_0x4444fe[_0x26b623(0x7b6)]||_0x26b623(0x831);_0x5d42a8==='reveal_at_end'||_0x5d42a8===_0x26b623(0xf2e)?renderAdminSyncDashboard(_0x4444fe,!![],_0x4444fe['reviewQuestionIndex']):(_0x4444fe['status']===_0x26b623(0x8b4)&&!_0x4444fe[_0x26b623(0x94b)]&&((async()=>{const _0x427bbb=_0x26b623;try{const _0x397a61=doc(db,_0x427bbb(0x884)+appId+_0x427bbb(0x3ce),currentLiveGameId);await updateDoc(_0x397a61,{'scoresCalculated':!![]});const _0x1b15a6=cachedPlayerData||{},_0x40dfd3=_0x4444fe[_0x427bbb(0xde5)][_0x427bbb(0x746)][_0x427bbb(0xe93)],_0x2a193d={};Object[_0x427bbb(0xdf2)](_0x1b15a6)[_0x427bbb(0xdec)](_0x479e5b=>{const _0xaf8422=_0x427bbb;if(_0x479e5b[_0xaf8422(0xc71)]!==_0xaf8422(0xd7d)){const _0x36ffa0=_0x479e5b[_0xaf8422(0xcc9)],_0x25f1de=_0x479e5b['score']||0x0,_0x330aa6=_0x479e5b[_0xaf8422(0xa92)]||0x0;let _0x329a76=_0x330aa6;_0x40dfd3>0x0&&_0x25f1de===_0x40dfd3&&(_0x329a76+=0x1),_0x2a193d[_0xaf8422(0x8d8)+_0x36ffa0+_0xaf8422(0xb71)]=_0x25f1de,_0x2a193d['players.'+_0x36ffa0+'.totalPoints']=_0x329a76,_0x2a193d['players.'+_0x36ffa0+_0xaf8422(0x2cc)]=_0x329a76;}}),await updateDoc(_0x397a61,{..._0x2a193d});}catch(_0x17ea8a){console[_0x427bbb(0x1b6)]('Error\x20calculating\x20final\x20scores:',_0x17ea8a);}})()),renderAdminSyncDashboard(_0x4444fe,!![],_0x4444fe['currentQuestionIndex']));break;case _0x26b623(0x451):const _0x561b9d=Object[_0x26b623(0x251)](_0x4444fe[_0x26b623(0x9f8)]||{})[_0x26b623(0xe93)]>0x0,_0x44cb6f=_0x4444fe['resultsSaved']===!![],_0x489595=_0x4444fe[_0x26b623(0x448)]===!![];_0x489595&&!_0x44cb6f&&_0x561b9d&&saveGameResultsAsSubmissions(_0x4444fe);sessionStorage[_0x26b623(0x43f)](_0x26b623(0xa26));const _0x1c2269=calculateFinalPodiumScores(_0x4444fe);showPodiumView(_0x1c2269,_0x26b623(0x4e6),_0x4444fe);break;}}function renderAdminSyncQuestionView(_0x15a379){const _0x30ce0b=_0x230ac1,_0x3764f5=_0x15a379['currentQuestionIndex'],_0x5aa3dc=_0x15a379[_0x30ce0b(0xde5)][_0x30ce0b(0x746)][_0x3764f5],_0x565d9f=_0x15a379[_0x30ce0b(0xde5)][_0x30ce0b(0x746)][_0x30ce0b(0xe93)],_0xf1c448=Object['values'](_0x15a379[_0x30ce0b(0x9f8)]||{})[_0x30ce0b(0x320)](_0x34cc3a=>_0x34cc3a[_0x30ce0b(0xc71)]!==_0x30ce0b(0xd7d)),_0xddbbb7=_0xf1c448['filter'](_0x391f80=>_0x391f80[_0x30ce0b(0xab5)])[_0x30ce0b(0xe93)],_0x44413d=_0xddbbb7===_0xf1c448[_0x30ce0b(0xe93)]&&_0xf1c448[_0x30ce0b(0xe93)]>0x0,_0x1fdf7b=_0x5aa3dc[_0x30ce0b(0x1f4)]||_0x15a379[_0x30ce0b(0xde5)][_0x30ce0b(0x1c2)],_0xb91bc5=(_0x1fdf7b===_0x30ce0b(0x270)||_0x1fdf7b===_0x30ce0b(0x934))&&_0x5aa3dc[_0x30ce0b(0xa9c)]&&_0x5aa3dc[_0x30ce0b(0xa9c)][_0x30ce0b(0xe93)]>0x0;let _0x1f1f38='';_0xb91bc5?_0x1f1f38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x1f1f38=(_0x5aa3dc['options']||[])[_0x30ce0b(0xe07)](_0xdbb48f=>_0x30ce0b(0x5f4)+_0xdbb48f+_0x30ce0b(0xcb3))[_0x30ce0b(0x885)]('');let _0x4e016c='';_0x15a379[_0x30ce0b(0x97a)]===_0x30ce0b(0xd1a)&&(_0x4e016c=_0x30ce0b(0x6fe)+_0x15a379[_0x30ce0b(0x849)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x30ce0b(0x63b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3764f5+0x1)+'\x20/\x20'+_0x565d9f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x15a379[_0x30ce0b(0xac4)]+_0x30ce0b(0xa0c)+_0xddbbb7+'/'+_0xf1c448[_0x30ce0b(0xe93)]+_0x30ce0b(0xde2)+_0x4e016c+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x5aa3dc['questionText']||_0x5aa3dc['stem'])+_0x30ce0b(0xe3f)+_0x1f1f38+_0x30ce0b(0xbcd)+(!_0x44413d?_0x30ce0b(0x44b):'')+_0x30ce0b(0xa38);if(window[_0x30ce0b(0x67a)])MathJax['typesetPromise']();const _0x5c904a=doc(db,_0x30ce0b(0x884)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x30ce0b(0x815)](_0x30ce0b(0x785))[_0x30ce0b(0x7b7)](_0x30ce0b(0x7a5),async()=>{const _0x4e84ae=_0x30ce0b;await updateDoc(_0x5c904a,{'status':_0x4e84ae(0x976)});}),document[_0x30ce0b(0x815)](_0x30ce0b(0xe4c))[_0x30ce0b(0x7c5)]=()=>{openScratchpad(_0x5aa3dc,_0x5aa3dc['options']||[]);},document[_0x30ce0b(0x815)](_0x30ce0b(0x281))[_0x30ce0b(0x7b7)](_0x30ce0b(0x7a5),()=>{const _0x3d561e=_0x30ce0b;document[_0x3d561e(0x815)]('sync-player-management')[_0x3d561e(0xeac)][_0x3d561e(0x334)](_0x3d561e(0xcc2));});const _0x443e4c=document['getElementById'](_0x30ce0b(0xb25));_0x443e4c&&(_0x443e4c[_0x30ce0b(0x7c5)]=()=>{const _0x1d96cd=_0x30ce0b;showConfirmation(_0x1d96cd(0xc33),async()=>{await updateDoc(_0x5c904a,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x114916,_0x4dafcd){const _0x343a5e=_0x230ac1,_0x25f8b0=Object[_0x343a5e(0xdf2)](_0x114916[_0x343a5e(0x9f8)]||{});_0x25f8b0[_0x343a5e(0xa6f)]((_0x4d9dcc,_0x41ba7e)=>_0x41ba7e[_0x343a5e(0x6b9)]-_0x4d9dcc[_0x343a5e(0x6b9)]);const _0x2ceda2=_0x25f8b0['slice'](0x0,0x5);let _0x22d537='';if(_0x4dafcd){const _0x46cb39=_0x114916[_0x343a5e(0xf23)]>=_0x114916[_0x343a5e(0xde5)][_0x343a5e(0x746)][_0x343a5e(0xe93)]-0x1;_0x22d537=_0x343a5e(0x470)+(_0x46cb39?_0x343a5e(0x2ba):_0x343a5e(0xb05))+_0x343a5e(0x528);}else _0x22d537=_0x343a5e(0x288);liveGameView['innerHTML']=_0x343a5e(0x363)+_0x2ceda2[_0x343a5e(0xe07)]((_0x4bdc86,_0x54d479)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x54d479+0x1)+'.\x20'+_0x4bdc86[_0x343a5e(0xcc9)]+_0x343a5e(0x6de)+_0x4bdc86[_0x343a5e(0x6b9)]+_0x343a5e(0x1ff))[_0x343a5e(0x885)]('')+_0x343a5e(0xe1b)+_0x22d537+_0x343a5e(0x3b6),_0x4dafcd&&document[_0x343a5e(0x815)](_0x343a5e(0xe84))[_0x343a5e(0x7b7)](_0x343a5e(0x7a5),async()=>{const _0x254464=_0x343a5e,_0x520740=doc(db,'artifacts/'+appId+_0x254464(0x3ce),currentLiveGameId),_0x12bf71=_0x114916[_0x254464(0xf23)]+0x1;if(_0x12bf71<_0x114916[_0x254464(0xde5)][_0x254464(0x746)][_0x254464(0xe93)]){const _0x54eeae={};Object['keys'](_0x114916[_0x254464(0x9f8)])[_0x254464(0xdec)](_0x2cf3f6=>{const _0x681e67=_0x254464;_0x54eeae[_0x681e67(0x8d8)+_0x2cf3f6+_0x681e67(0x679)]=![];}),await updateDoc(_0x520740,{'status':_0x254464(0xc56),'currentQuestionIndex':_0x12bf71,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x520740,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x1a4195=_0x230ac1,_0x29a33a=prompt(_0x1a4195(0xc85));if(!_0x29a33a||_0x29a33a['trim']()['length']!==0x2){showMessage(_0x1a4195(0x780));return;}try{const _0x4544aa=collection(db,_0x1a4195(0x884)+appId+'/public/data/syncGames'),_0x242f47=query(_0x4544aa,where(_0x1a4195(0xac4),'==',_0x29a33a[_0x1a4195(0x99f)]()),where(_0x1a4195(0xc71),'==',_0x1a4195(0x768))),_0x551367=await getDocs(_0x242f47);if(_0x551367['empty']){showMessage(_0x1a4195(0xe0d));return;}const _0x395ee0=_0x551367[_0x1a4195(0xcf8)][0x0];currentLiveGameId=_0x395ee0['id'];const _0x32f185=_0x395ee0['data'](),_0x9e5129=doc(db,_0x1a4195(0x884)+appId+'/public/data/quizzes',_0x32f185['quizId']),_0x4f605e=await getDoc(_0x9e5129);if(!_0x4f605e[_0x1a4195(0x939)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x54797c=_0x4f605e[_0x1a4195(0xdad)](),_0x513ed0=doc(db,_0x1a4195(0x884)+appId+_0x1a4195(0xb81),_0x54797c[_0x1a4195(0x791)]),_0xc2ecc1=await getDoc(_0x513ed0);if(!_0xc2ecc1[_0x1a4195(0x939)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x32f185[_0x1a4195(0xde5)];const _0x2655d5=_0xc2ecc1[_0x1a4195(0xdad)]();showView(_0x1a4195(0x6ca)),showTeamPlayerSelection(_0x2655d5[_0x1a4195(0xa2f)],_0x54797c['topic']);const _0x36069f=document[_0x1a4195(0x815)](_0x1a4195(0x1e6));_0x36069f['onclick']=confirmAndJoinSyncGame;}catch(_0x295e48){console[_0x1a4195(0x1b6)](_0x1a4195(0x307),_0x295e48),showMessage(_0x1a4195(0x36f)+_0x295e48[_0x1a4195(0xb95)]);}}function updateStudentSyncView(_0x428cd3){const _0x57cf71=_0x230ac1,_0x57e869=localTeamPlayers[0x0],_0x2dbed4=_0x428cd3['players'][_0x57e869]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x428cd3['status']){case _0x57cf71(0x768):showView(_0x57cf71(0xb32)),liveGameView[_0x57cf71(0x63b)]=_0x57cf71(0xd15);break;case _0x57cf71(0xc56):if(_0x428cd3[_0x57cf71(0xf23)]!==lastSeenQuestionIndex){console[_0x57cf71(0x1cf)](_0x57cf71(0x795)),sessionStorage[_0x57cf71(0x43f)](_0x57cf71(0x641)),sessionStorage[_0x57cf71(0x43f)](_0x57cf71(0xe88)),sessionStorage['removeItem'](_0x57cf71(0xa8f));const _0x2f1c03='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x37bec3=_0x57cf71(0x826)+lastSeenQuestionIndex,_0x194aa7=_0x57cf71(0x2d8)+lastSeenQuestionIndex;Object[_0x57cf71(0x251)](sessionStorage)[_0x57cf71(0xdec)](_0x5ad050=>{const _0x278f5d=_0x57cf71;(_0x5ad050[_0x278f5d(0xef1)](_0x2f1c03)||_0x5ad050[_0x278f5d(0xef1)](_0x37bec3)||_0x5ad050['startsWith'](_0x194aa7))&&sessionStorage[_0x278f5d(0x43f)](_0x5ad050);});if(_0x2dbed4[_0x57cf71(0xbb1)]||_0x2dbed4[_0x57cf71(0x81a)]||(_0x2dbed4['timeBonusThisQuestion']||0x0)>0x0){const _0x564e6f=doc(db,_0x57cf71(0x884)+appId+_0x57cf71(0xde8)+currentLiveGameId+_0x57cf71(0x950),_0x57e869);updateDoc(_0x564e6f,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x57cf71(0xb5c)](_0x5a9a7d=>console['error'](_0x57cf71(0xbe8),_0x5a9a7d));}lastSeenQuestionIndex=_0x428cd3[_0x57cf71(0xf23)];}localPlayerTurnIndex=0x0;const _0x275c93=localTeamPlayers['every'](_0x18f2be=>_0x428cd3[_0x57cf71(0x9f8)][_0x18f2be]?.[_0x57cf71(0xab5)]===!![]);if(_0x275c93)liveGameView[_0x57cf71(0x63b)]=_0x57cf71(0x828);else{renderStudentSyncQuestionView(_0x428cd3);if(_0x428cd3[_0x57cf71(0x97a)]===_0x57cf71(0xd1a)){if(!_0x428cd3[_0x57cf71(0xeab)]){console[_0x57cf71(0x1cf)]('Waiting\x20for\x20server\x20timestamp\x20for\x20timer...');return;}const _0x531de3=_0x428cd3[_0x57cf71(0xeab)]['toDate']()[_0x57cf71(0x70e)](),_0x15617d=_0x428cd3['timerDuration']*0x3e8,_0x507eea=localTeamPlayers[_0x57cf71(0xe07)](_0x364a8f=>_0x428cd3[_0x57cf71(0x9f8)][_0x364a8f]?.[_0x57cf71(0x339)]||0x0),_0x51190b=Math[_0x57cf71(0x526)](..._0x507eea,0x0),_0x2260e5=_0x531de3+_0x15617d+_0x51190b;syncQuestionTimerInterval=setInterval(()=>{const _0x458b75=_0x57cf71,_0x5edbb3=_0x2260e5-Date[_0x458b75(0x7be)](),_0x5acddf=document[_0x458b75(0x815)](_0x458b75(0xf01)),_0x23a5ea=document[_0x458b75(0x815)](_0x458b75(0xb8a));if(_0x5edbb3<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x5acddf)_0x5acddf['style'][_0x458b75(0x26c)]='0%';if(_0x23a5ea)_0x23a5ea[_0x458b75(0x587)]='0';liveGameView[_0x458b75(0x63b)]=_0x458b75(0x9a3);}else{if(_0x5acddf&&_0x23a5ea){const _0x820f=_0x15617d+_0x51190b,_0x5d1717=_0x820f>0x0?_0x5edbb3/_0x820f*0x64:0x0;_0x5acddf['style'][_0x458b75(0x26c)]=_0x5d1717+'%',_0x23a5ea['textContent']=Math['ceil'](_0x5edbb3/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x57cf71(0x63b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'results':localPlayerTurnIndex=0x0;const _0x13b6c4=_0x428cd3['gameVariant']||_0x57cf71(0x831);if(_0x13b6c4==='anonymous'||_0x13b6c4===_0x57cf71(0xf2e))renderStudentAnonymousResultsView(_0x428cd3,_0x428cd3[_0x57cf71(0xf23)]);else _0x13b6c4===_0x57cf71(0x454)?renderStudentCompetitionResultsView(_0x428cd3,_0x428cd3[_0x57cf71(0xf23)]):renderStudentSyncResultsView(_0x428cd3);break;case _0x57cf71(0x451):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x57cf71(0x8d5)](_0x57cf71(0x377),handleFullscreenChange),document[_0x57cf71(0x8d5)](_0x57cf71(0x36a),handleVisibilityChange),sessionStorage[_0x57cf71(0x43f)](_0x57cf71(0xa26));const _0x4bdadc=_0x428cd3[_0x57cf71(0x7b6)]||_0x57cf71(0x831),_0x365b8c=_0x428cd3['shuffledQuiz'][_0x57cf71(0x746)]['length']-0x1;if(_0x4bdadc===_0x57cf71(0xe18)||_0x4bdadc===_0x57cf71(0xf2e))renderStudentAnonymousResultsView(_0x428cd3,_0x365b8c);else _0x4bdadc===_0x57cf71(0x454)?renderStudentCompetitionResultsView(_0x428cd3,_0x365b8c):renderStudentSyncResultsView(_0x428cd3);const _0x4ddd38=liveGameView[_0x57cf71(0xd27)]('.animate-pulse');_0x4ddd38&&(_0x4ddd38[_0x57cf71(0x205)]['display']=_0x57cf71(0x1e2));const _0x577a8d=liveGameView[_0x57cf71(0xd27)](_0x57cf71(0xadb));_0x577a8d&&(_0x577a8d['style'][_0x57cf71(0xdd3)]='none');const _0xce3595=_0x57cf71(0xa81);liveGameView[_0x57cf71(0xddb)]?liveGameView[_0x57cf71(0xddb)]['insertAdjacentHTML'](_0x57cf71(0xe04),_0xce3595):liveGameView[_0x57cf71(0xe94)](_0x57cf71(0xe04),_0xce3595);break;}}function renderStudentSyncResultsView(_0x1f3747){const _0x2ccc30=_0x230ac1;let _0x30415e=[];_0x1f3747[_0x2ccc30(0x2d7)]&&Array[_0x2ccc30(0xddf)](_0x1f3747[_0x2ccc30(0x2d7)])&&_0x1f3747[_0x2ccc30(0x2d7)][_0x2ccc30(0xe93)]>0x0?_0x30415e=_0x1f3747['publicLeaderboard']:_0x30415e=Object[_0x2ccc30(0xdf2)](_0x1f3747[_0x2ccc30(0x9f8)]||{});const _0x1ec554=_0x1f3747[_0x2ccc30(0x7b6)]||_0x2ccc30(0x831),_0x4554b4=_0x1ec554===_0x2ccc30(0x90b)||_0x1ec554===_0x2ccc30(0xf2e),_0x36b876=_0x1f3747[_0x2ccc30(0xde5)][_0x2ccc30(0x746)],_0x4eb3fe=_0x4554b4&&_0x1f3747[_0x2ccc30(0x332)]!==undefined?_0x1f3747['reviewQuestionIndex']:_0x1f3747[_0x2ccc30(0xf23)],_0x1e25a8=_0x4554b4?_0x1f3747[_0x2ccc30(0x332)]:_0x1f3747[_0x2ccc30(0xf23)],_0x3afc2e=_0x30415e[_0x2ccc30(0xe07)](_0x86d30f=>{const _0x2ce41c=_0x2ccc30,_0xcdaed6=(_0x86d30f[_0x2ce41c(0x7d9)]||[])[_0x2ce41c(0x320)](_0x5b7ab7=>_0x5b7ab7[_0x2ce41c(0xeb9)]<=_0x4eb3fe);let _0x44c0ca=0x0,_0x54a917=0x0;_0x4554b4?(_0x44c0ca=_0xcdaed6[_0x2ce41c(0x320)](_0x18334f=>_0x18334f[_0x2ce41c(0x6d1)])['length'],_0x54a917=_0xcdaed6[_0x2ce41c(0xa56)]((_0x510fe9,_0x1cea23)=>_0x510fe9+(_0x1cea23['pointsAwarded']||0x0),0x0)):(_0x44c0ca=_0x86d30f[_0x2ce41c(0x6b9)]||0x0,_0x54a917=_0x86d30f[_0x2ce41c(0xa92)]||0x0);const _0x11b36c=[..._0xcdaed6][_0x2ce41c(0xa6f)]((_0x8b5037,_0x50c643)=>_0x8b5037['questionIndex']-_0x50c643[_0x2ce41c(0xeb9)]);let _0x5bd476=0x0;return _0x11b36c[_0x2ce41c(0xdec)](_0x545f89=>{const _0x5362e0=_0x2ce41c,_0x395a80=_0x545f89['powerupUsed']&&_0x545f89[_0x5362e0(0x447)]!=='wagerMultiplier'||_0x545f89[_0x5362e0(0x94d)];_0x545f89['isCorrect']?_0x5bd476=_0x395a80?0x0:_0x5bd476+0x1:_0x5bd476=0x0;}),{..._0x86d30f,'realScore':_0x44c0ca,'totalPoints':_0x54a917,'answers':_0x86d30f['answers'],'correctStreak':_0x5bd476};}),_0x3a0398=Math['max'](..._0x3afc2e[_0x2ccc30(0xe07)](_0x1ab0f9=>_0x1ab0f9[_0x2ccc30(0xa92)]),-Infinity),_0x29b407=Math[_0x2ccc30(0x526)](..._0x3afc2e[_0x2ccc30(0xe07)](_0x97dd3b=>_0x97dd3b[_0x2ccc30(0x545)]),-Infinity),_0x52b473=_0x1f3747['isBlackMarketEnabled']===!![];let _0x403121=_0x3afc2e[_0x2ccc30(0x320)](_0xd96d31=>localTeamPlayers[_0x2ccc30(0x8f3)](_0xd96d31[_0x2ccc30(0xcc9)]));_0x403121[_0x2ccc30(0xa6f)]((_0x152a38,_0x3a7351)=>(_0x3a7351['totalPoints']||0x0)-(_0x152a38[_0x2ccc30(0xa92)]||0x0));let _0x22fbe3='';const _0x339e59=_0x4554b4?_0x4eb3fe>=_0x36b876[_0x2ccc30(0xe93)]-0x1:_0x1f3747['currentQuestionIndex']>=_0x36b876[_0x2ccc30(0xe93)]-0x1;if(_0x1f3747[_0x2ccc30(0xc71)]===_0x2ccc30(0x451))_0x22fbe3='';else _0x339e59?_0x22fbe3='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x22fbe3='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x1aed97='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x403121[_0x2ccc30(0xe07)]((_0x40c425,_0x184239)=>{const _0x329809=_0x2ccc30;let _0x2a7d7c=_0x329809(0xd33);const _0x57636f=(_0x40c425[_0x329809(0x7d9)]||[])['find'](_0x58d931=>_0x58d931[_0x329809(0xeb9)]===_0x1e25a8);let _0x3f58ea='';if(_0x57636f){if(_0x57636f['wasForced'])_0x3f58ea+=_0x329809(0xe6b);if(_0x57636f[_0x329809(0x1fd)])_0x3f58ea+=_0x329809(0xd1d);if(_0x57636f[_0x329809(0x94d)])_0x3f58ea+=_0x329809(0x735);const _0x33570a=_0x57636f[_0x329809(0x447)];if(_0x33570a){const _0x20d4d7={'poll':'📊','cutOne':'✂️','insurance':_0x329809(0xc39),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x20d4d7[_0x33570a])_0x3f58ea+=_0x329809(0x401)+_0x33570a+'\x22>'+_0x20d4d7[_0x33570a]+_0x329809(0x3af);}}if(_0x57636f){const _0xe88860=_0x57636f[_0x329809(0x6d1)],_0x11f1fd=_0x57636f[_0x329809(0x8de)]===!![]||_0x57636f[_0x329809(0x8de)]==='confident',_0x46ad65=_0x57636f[_0x329809(0x447)];if(_0x46ad65===_0x329809(0x3e1))_0x2a7d7c=_0xe88860?_0x329809(0xeb7):_0x329809(0x6c4);else{if(_0x11f1fd)_0x2a7d7c=_0xe88860?_0x329809(0xa62):_0x329809(0x877);else _0xe88860?_0x2a7d7c=_0x329809(0x4e3):_0x2a7d7c=_0x329809(0x8b1);}}let _0xeb9fd7='';_0x57636f&&_0x57636f[_0x329809(0x447)]==='wagerMultiplier'&&!_0x57636f[_0x329809(0x6d1)]&&(_0xeb9fd7=_0x329809(0x87a));const _0x1f6750=_0x40c425['totalPoints']>=0x0?'(+'+_0x40c425[_0x329809(0xa92)]['toLocaleString']()+')':'('+_0x40c425['totalPoints'][_0x329809(0x63a)]()+')';let _0x337645='';const _0x2df59d=_0x40c425['answers'][_0x329809(0xe93)],_0x2476ee=_0x4eb3fe+0x1;if(_0x2df59d>0x0){_0x52b473?(_0x40c425['totalPoints']===_0x3a0398&&_0x3a0398>0x0&&(_0x337645+=_0x329809(0x3dd)),_0x40c425['realScore']===_0x29b407&&_0x29b407>0x0&&(_0x337645+='<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>')):_0x40c425[_0x329809(0x545)]===_0x2476ee&&(_0x337645+='<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>');const _0x51db68=_0x337645['includes']('👑')||_0x337645[_0x329809(0x8f3)]('🎓')||_0x337645[_0x329809(0x8f3)]('⭐');!_0x51db68&&_0x40c425[_0x329809(0xa92)]<0x0&&(_0x337645+=_0x329809(0x999));}let _0x2f6be6='';const _0x60992=_0x57636f&&_0x57636f[_0x329809(0x94d)],_0x3f7210=_0x57636f&&_0x57636f[_0x329809(0x447)]&&_0x57636f[_0x329809(0x447)]!==_0x329809(0x3e1);if(!_0x60992&&!_0x3f7210){const _0x3f79d6=_0x40c425[_0x329809(0xce0)]||0x0;_0x3f79d6>=0x3&&(_0x2f6be6=_0x329809(0x31e)+_0x3f79d6+_0x329809(0x3af));}return _0x329809(0xa79)+_0x2a7d7c+_0x329809(0x690)+(_0x184239+0x1)+_0x329809(0x1e1)+_0x40c425[_0x329809(0xcc9)]+_0x329809(0x82b)+_0x3f58ea+'\x20'+_0x337645+'\x20'+_0x2f6be6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40c425[_0x329809(0x545)]+_0x329809(0xcd8)+_0x1f6750+_0x329809(0xe00)+_0xeb9fd7+_0x329809(0xa46);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22fbe3+_0x2ccc30(0x549);liveGameView['innerHTML']=_0x1aed97;}function renderStudentAnonymousResultsView(_0xd34142,_0x41a2ce){const _0x195b26=_0x230ac1;let _0x2a92f3=[];_0xd34142[_0x195b26(0x2d7)]?_0x2a92f3=_0xd34142[_0x195b26(0x2d7)]:_0x2a92f3=Object['values'](_0xd34142[_0x195b26(0x9f8)]||{});const _0x2e8f94=_0xd34142[_0x195b26(0x7b6)]||'classic',_0xccbcf9=_0x2e8f94===_0x195b26(0x90b)||_0x2e8f94===_0x195b26(0xf2e),_0x11e999=_0xd34142[_0x195b26(0x381)]===!![],_0x22eb99=_0xd34142[_0x195b26(0xde5)]['questions'],_0x1912e0=_0xccbcf9&&_0xd34142[_0x195b26(0x332)]!==undefined?_0xd34142['reviewQuestionIndex']:_0x41a2ce,_0x10447f=_0x2a92f3[_0x195b26(0xe07)](_0x407f4f=>{const _0x527c12=_0x195b26,_0xd52630=(_0x407f4f[_0x527c12(0x7d9)]||[])[_0x527c12(0x320)](_0x320061=>_0x320061['questionIndex']<=_0x1912e0);let _0xe1ae02=0x0,_0xdcb6c1=0x0;_0xccbcf9?(_0xe1ae02=_0xd52630[_0x527c12(0x320)](_0x4f5c08=>_0x4f5c08[_0x527c12(0x6d1)])[_0x527c12(0xe93)],_0xdcb6c1=_0xd52630['reduce']((_0x509f7c,_0x430e1b)=>_0x509f7c+(_0x430e1b[_0x527c12(0x1e4)]||0x0),0x0)):(_0xe1ae02=_0x407f4f[_0x527c12(0x6b9)]||0x0,_0xdcb6c1=_0x407f4f[_0x527c12(0xa92)]||0x0);const _0x1bd60a=[..._0xd52630][_0x527c12(0xa6f)]((_0x560d66,_0x4259ac)=>_0x560d66[_0x527c12(0xeb9)]-_0x4259ac[_0x527c12(0xeb9)]);let _0x56146e=0x0;return _0x1bd60a[_0x527c12(0xdec)](_0x4881ba=>{const _0x60399e=_0x527c12,_0xd1a101=_0x4881ba[_0x60399e(0x447)]&&_0x4881ba[_0x60399e(0x447)]!=='wagerMultiplier'||_0x4881ba[_0x60399e(0x94d)];_0x4881ba[_0x60399e(0x6d1)]?_0xd1a101?_0x56146e=0x0:_0x56146e++:_0x56146e=0x0;}),{..._0x407f4f,'realScore':_0xe1ae02,'totalPoints':_0xdcb6c1,'answers':_0x407f4f['answers'],'correctStreak':_0x56146e};}),_0x2f3bfa=Math[_0x195b26(0x526)](..._0x10447f[_0x195b26(0xe07)](_0x20652e=>_0x20652e[_0x195b26(0xa92)]),-Infinity),_0x33abbb=Math[_0x195b26(0x526)](..._0x10447f['map'](_0xa9e3e2=>_0xa9e3e2[_0x195b26(0x545)]),-Infinity),_0x40f969=_0xd34142['isBlackMarketEnabled']===!![],_0x20fa2f=[..._0x10447f][_0x195b26(0xa6f)]((_0x417c67,_0x131f26)=>{const _0x28af55=_0x195b26;if(_0x40f969){if(_0x131f26[_0x28af55(0xa92)]!==_0x417c67['totalPoints'])return _0x131f26['totalPoints']-_0x417c67[_0x28af55(0xa92)];if(_0x131f26['realScore']!==_0x417c67['realScore'])return _0x131f26[_0x28af55(0x545)]-_0x417c67[_0x28af55(0x545)];}else{if(_0x131f26[_0x28af55(0xa92)]!==_0x417c67[_0x28af55(0xa92)])return _0x131f26['totalPoints']-_0x417c67[_0x28af55(0xa92)];if(_0x131f26[_0x28af55(0x545)]!==_0x417c67[_0x28af55(0x545)])return _0x131f26['realScore']-_0x417c67[_0x28af55(0x545)];}return(_0x417c67[_0x28af55(0xcc9)]||'')['localeCompare'](_0x131f26[_0x28af55(0xcc9)]||'','th');});let _0x12bad5=null;const _0x3f0b0b=_0x10447f[_0x195b26(0x320)](_0x2bbdf9=>localTeamPlayers[_0x195b26(0x8f3)](_0x2bbdf9['name']));_0x12bad5=_0x3f0b0b['length']>0x0?_0x3f0b0b[_0x195b26(0xa6f)]((_0x111266,_0x3bde8f)=>_0x3bde8f['totalPoints']-_0x111266[_0x195b26(0xa92)])[0x0]:null;if(!_0x12bad5){liveGameView['innerHTML']=_0x195b26(0x330);return;}const _0x16f929=_0x40f969?_0x12bad5[_0x195b26(0xa92)]:_0x12bad5[_0x195b26(0xa92)],_0x3cb0b7=_0x1912e0+0x1,_0x4bb43f=_0x20fa2f[_0x195b26(0xe07)]((_0x1d81c9,_0x3ca9cf)=>{const _0x3ab3bc=_0x195b26,_0x3adf6f=_0x1d81c9[_0x3ab3bc(0x545)],_0xba56ac=_0x1d81c9['totalPoints'],_0x1e4aa7=(_0x1d81c9['answers']||[])['find'](_0x48985d=>_0x48985d[_0x3ab3bc(0xeb9)]===_0x1912e0);let _0x345bcb='';if(_0x1e4aa7){if(_0x1e4aa7['wasForced'])_0x345bcb+=_0x3ab3bc(0x4a9);if(_0x1e4aa7[_0x3ab3bc(0x1fd)])_0x345bcb+=_0x3ab3bc(0x354);if(_0x1e4aa7['usedBuyTime'])_0x345bcb+=_0x3ab3bc(0x1e8);const _0x3ce0ef=_0x1e4aa7['powerupUsed'];if(_0x3ce0ef){const _0x40fd67={'poll':'📊','cutOne':'✂️','insurance':_0x3ab3bc(0xc39),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x3ab3bc(0x5df)};if(_0x40fd67[_0x3ce0ef])_0x345bcb+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x40fd67[_0x3ce0ef]+'</span>';}}let _0x51b0b8='';if(_0x3cb0b7>0x0){if(_0x40f969){if(_0xba56ac===_0x2f3bfa&&_0x2f3bfa>0x0)_0x51b0b8+=_0x3ab3bc(0x702);if(_0x3adf6f===_0x33abbb&&_0x33abbb>0x0)_0x51b0b8+=_0x3ab3bc(0xe5d);}else{const _0x5b969a=_0x1d81c9[_0x3ab3bc(0x545)]===_0x3cb0b7&&_0x3cb0b7>0x0;if(_0x5b969a)_0x51b0b8=_0x3ab3bc(0x9a1);}if(_0x51b0b8===''&&_0xba56ac<0x0)_0x51b0b8=_0x3ab3bc(0x743);}let _0x35c1db='';const _0x3aa6c5=_0x1e4aa7&&_0x1e4aa7[_0x3ab3bc(0x94d)],_0x18bdfc=_0x1e4aa7&&_0x1e4aa7[_0x3ab3bc(0x447)]&&_0x1e4aa7[_0x3ab3bc(0x447)]!=='wagerMultiplier';if(!_0x3aa6c5&&!_0x18bdfc){const _0x24d16f=_0x1d81c9[_0x3ab3bc(0xce0)]||0x0;_0x24d16f>=0x3&&(_0x35c1db='<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x'+_0x24d16f+_0x3ab3bc(0x3af));}let _0x1ddb9d='bg-black/20',_0x1d3f40=![];if(_0x1e4aa7){const _0x27338f=_0x1e4aa7[_0x3ab3bc(0x6d1)],_0x7a8d2c=_0x1e4aa7[_0x3ab3bc(0x8de)]===!![]||_0x1e4aa7[_0x3ab3bc(0x8de)]===_0x3ab3bc(0xbad),_0xc71405=_0x1e4aa7[_0x3ab3bc(0x447)];if(_0xc71405===_0x3ab3bc(0x3e1))_0x27338f?(_0x1ddb9d='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x1d3f40=!![]):_0x1ddb9d=_0x3ab3bc(0x6c4);else{if(_0x7a8d2c)_0x1ddb9d=_0x27338f?_0x3ab3bc(0xa62):_0x3ab3bc(0x877);else _0x27338f&&(_0x1ddb9d=_0x3ab3bc(0x4e3));}}let _0x13a7a9='';const _0x5d2bcb=_0x1d81c9[_0x3ab3bc(0xcc9)],_0x25f986=_0xd34142['playerNicknames'][_0x1d81c9[_0x3ab3bc(0xcc9)]]||'???',_0xcec7e5=_0x3ab3bc(0x207),_0x9891fc=_0x3ab3bc(0x5ba),_0x2f8354=localTeamPlayers[_0x3ab3bc(0x8f3)](_0x5d2bcb),_0x100791=_0x1d3f40?'text-yellow-800':_0x3ab3bc(0xbd0),_0xd02065=_0x40f969?_0x1d81c9['totalPoints']:_0x1d81c9[_0x3ab3bc(0xa92)],_0x37aef9=_0x11e999||_0x2f8354||_0x16f929>_0xd02065;_0x37aef9?_0x13a7a9=_0x3ab3bc(0x4d8)+_0xcec7e5+'\x22\x20title=\x22'+_0x5d2bcb+'\x20('+_0x25f986+_0x3ab3bc(0xe48)+_0x9891fc+'\x22>'+_0x5d2bcb+_0x3ab3bc(0x6cc)+_0x345bcb+'\x20'+_0x51b0b8+'\x20'+_0x35c1db+'<span\x20class=\x22block\x20text-sm\x20'+_0x100791+_0x3ab3bc(0xe29)+_0x9891fc+_0x3ab3bc(0x404)+_0x25f986+_0x3ab3bc(0x96f):_0x13a7a9='<div\x20style=\x22'+_0xcec7e5+_0x3ab3bc(0xc4e)+_0x25f986+_0x3ab3bc(0x340)+_0x9891fc+'\x22>'+_0x25f986+'</span>\x20'+_0x345bcb+'\x20'+_0x51b0b8+'\x20'+_0x35c1db+_0x3ab3bc(0xcb3);_0x2f8354&&(_0x13a7a9=_0x3ab3bc(0x734)+_0x13a7a9+_0x3ab3bc(0xe12));const _0x4d10db=_0xba56ac>=0x0?'(+'+_0xba56ac[_0x3ab3bc(0x63a)]()+')':'('+_0xba56ac[_0x3ab3bc(0x63a)]()+')',_0x450c86='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x3adf6f+_0x3ab3bc(0xcd8)+_0x4d10db+_0x3ab3bc(0x3af);return _0x3ab3bc(0x887)+_0x1ddb9d+_0x3ab3bc(0x577)+(_0x3ca9cf+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x13a7a9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x450c86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x195b26(0x885)]('');let _0x3d9fa7='';const _0x3356d0=_0xccbcf9?_0x1912e0>=_0x22eb99[_0x195b26(0xe93)]-0x1:_0xd34142[_0x195b26(0xf23)]>=_0x22eb99[_0x195b26(0xe93)]-0x1;if(_0xd34142[_0x195b26(0xc71)]===_0x195b26(0x451))_0x3d9fa7='';else _0x3356d0?_0x3d9fa7=_0x195b26(0xaff):_0x3d9fa7=_0x195b26(0x6a7);const _0x514ec6=_0x195b26(0x6ce)+_0x4bb43f+_0x195b26(0xe1b)+_0x3d9fa7+_0x195b26(0x3b6);liveGameView[_0x195b26(0x63b)]=_0x514ec6;}function renderStudentCompetitionResultsView(_0x1624c8,_0x1b57b2){const _0x19aecd=_0x230ac1,_0x22fabc=Object[_0x19aecd(0xdf2)](_0x1624c8[_0x19aecd(0x9f8)]||{}),_0x12e426=_0x1b57b2,_0x4e5d12=_0x1624c8[_0x19aecd(0x7b6)]||_0x19aecd(0x831),_0x52f060=_0x1624c8[_0x19aecd(0xde5)]['questions'],_0x4d60f7=_0x22fabc['map'](_0x3e5e47=>{const _0x337003=_0x19aecd,_0x56340a=_0x3e5e47[_0x337003(0x6b9)]||0x0,_0x959a95=_0x3e5e47[_0x337003(0xa92)]||0x0,_0x26b37a=(_0x3e5e47[_0x337003(0x7d9)]||[])[_0x337003(0x320)](_0x5c7af3=>_0x4e5d12==='reveal_at_end'?_0x5c7af3[_0x337003(0xeb9)]<=_0x12e426:!![]);return{..._0x3e5e47,'realScore':_0x56340a,'totalPoints':_0x959a95,'answers':_0x26b37a};}),_0x277bae=_0x1624c8[_0x19aecd(0x916)]===!![],_0xc473c0=[..._0x4d60f7][_0x19aecd(0xa6f)]((_0x2ca8a1,_0x51111a)=>{const _0x547d12=_0x19aecd;if(_0x277bae){const _0x1245aa=_0x51111a[_0x547d12(0x545)]-_0x2ca8a1['realScore'];if(_0x1245aa!==0x0)return _0x1245aa;const _0x288e87=_0x51111a[_0x547d12(0xa92)]-_0x2ca8a1[_0x547d12(0xa92)];if(_0x288e87!==0x0)return _0x288e87;return(_0x2ca8a1['name']||'')[_0x547d12(0xdc1)](_0x51111a[_0x547d12(0xcc9)]||'','th');}else{const _0x2423ea=_0x51111a[_0x547d12(0xa92)]-_0x2ca8a1['totalPoints'];if(_0x2423ea!==0x0)return _0x2423ea;const _0x9f6617=_0x51111a['realScore']-_0x2ca8a1[_0x547d12(0x545)];if(_0x9f6617!==0x0)return _0x9f6617;return(_0x2ca8a1[_0x547d12(0xcc9)]||'')['localeCompare'](_0x51111a[_0x547d12(0xcc9)]||'','th');}}),_0x31cf5c=_0xc473c0[_0x19aecd(0xe07)]((_0x25622d,_0x3823b9)=>{const _0x11f266=_0x19aecd,_0xfe84d0='';let _0x4607bb=_0x11f266(0x525);const _0x2a4ee9=_0x25622d[_0x11f266(0xcc9)],_0x24363b=_0x11f266(0x207),_0x329d95=_0x11f266(0x5ba),_0x557199=_0x11f266(0x4d8)+_0x24363b+_0x11f266(0xc4e)+_0x2a4ee9+_0x11f266(0x340)+_0x329d95+'\x22>'+_0x2a4ee9+'</span>'+_0xfe84d0+_0x11f266(0xcb3),_0x51caf5='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x4607bb+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x3823b9+0x1)+_0x11f266(0xecf)+_0x557199+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51caf5+_0x11f266(0x933);})[_0x19aecd(0x885)]('');let _0xdb4b2d='';const _0x1a8a9a=_0x4e5d12===_0x19aecd(0x90b)?_0x1624c8[_0x19aecd(0x332)]>=_0x52f060[_0x19aecd(0xe93)]-0x1:_0x1624c8['currentQuestionIndex']>=_0x52f060[_0x19aecd(0xe93)]-0x1;_0x1a8a9a?_0xdb4b2d='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0xdb4b2d='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4128f6=_0x19aecd(0x585)+_0x31cf5c+_0x19aecd(0xe30)+_0xdb4b2d+_0x19aecd(0x3b6);liveGameView[_0x19aecd(0x63b)]=_0x4128f6;}function renderStudentSyncQuestionView(_0x8e402b){const _0x31d499=_0x230ac1;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x8e402b['players'][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x2b8c2e=localTeamPlayers[localPlayerTurnIndex];if(!_0x2b8c2e)return;const _0x448e96=_0x8e402b[_0x31d499(0x9f8)][_0x2b8c2e],_0x1a75f9=_0x8e402b[_0x31d499(0xf23)],_0x141f8c=_0x8e402b[_0x31d499(0xde5)]['questions'][_0x31d499(0xe93)],_0x1c2b18=_0x8e402b[_0x31d499(0xde5)][_0x31d499(0x746)][_0x1a75f9],_0x582c44=_0x1c2b18['questionType']||_0x8e402b[_0x31d499(0xde5)][_0x31d499(0x1c2)];let _0x9a41f1='',_0x28129f=![];const _0x239783=_0x31d499(0x826)+_0x1a75f9+'_p'+_0x2b8c2e,_0xd9c6d=sessionStorage[_0x31d499(0xc99)](_0x239783),_0x52e9f6=_0xd9c6d==='revealOptions',_0x58cc32=_0x31d499(0x2d8)+_0x1a75f9+'_p'+_0x2b8c2e,_0x3754a6=JSON['parse'](sessionStorage[_0x31d499(0xc99)](_0x58cc32)||'[]')[_0x31d499(0xe07)](String);if((_0x582c44===_0x31d499(0x270)||_0x582c44===_0x31d499(0x934))&&_0x52e9f6&&_0x1c2b18[_0x31d499(0xa9c)]&&_0x1c2b18[_0x31d499(0xa9c)]['length']>0x0)_0x9a41f1=_0x1c2b18[_0x31d499(0xa9c)][_0x31d499(0xe07)]((_0x364340,_0x397608)=>{const _0x2b3ea2=_0x31d499;if(_0x3754a6[_0x2b3ea2(0x8f3)](String(_0x397608)))return'';return _0x2b3ea2(0xe5e)+_0x364340+_0x2b3ea2(0xac2)+_0x397608+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>'+_0x364340+'</button>';})[_0x31d499(0x885)]('');else{if(_0x582c44==='short_answer'||_0x582c44===_0x31d499(0x934))_0x28129f=!![],_0x9a41f1=_0x31d499(0x819);else switch(_0x582c44){case'true_false':const _0x4ec61e=_0x3754a6[_0x31d499(0x8f3)]('0')?'':_0x31d499(0x841),_0x390380=_0x3754a6[_0x31d499(0x8f3)]('1')?'':_0x31d499(0xa8b);_0x9a41f1=_0x4ec61e+_0x390380;break;case _0x31d499(0x52a):_0x28129f=!![],_0x9a41f1=_0x31d499(0xe39)+(_0x1c2b18[_0x31d499(0x787)]||[])[_0x31d499(0xe07)](_0xbbb616=>_0x31d499(0x3a8)+_0xbbb616+'\x22>'+_0xbbb616+_0x31d499(0x817))[_0x31d499(0x885)]('')+_0x31d499(0x9ad);break;case'multiple_choice':default:_0x9a41f1=(_0x1c2b18[_0x31d499(0xa9c)]||[])[_0x31d499(0xe07)]((_0x5a5333,_0x2151d5)=>{const _0xd04018=_0x31d499;if(_0x3754a6[_0xd04018(0x8f3)](String(_0x2151d5)))return'';return _0xd04018(0xe5e)+_0x2151d5+_0xd04018(0xac2)+_0x2151d5+_0xd04018(0x53d)+_0x5a5333+_0xd04018(0x753);})['join']('');break;}}let _0x3af59b='';_0x8e402b[_0x31d499(0x97a)]===_0x31d499(0xd1a)&&(_0x3af59b=_0x31d499(0x1ac)+_0x8e402b[_0x31d499(0x849)]+_0x31d499(0x32c));let _0x2585b7='';const _0x17bb9e=_0x8e402b['gameVariant']||_0x31d499(0x831),_0x42a3b1=[_0x31d499(0x90b),'anonymous_reveal_end',_0x31d499(0x454)][_0x31d499(0x8f3)](_0x17bb9e);if(_0x8e402b[_0x31d499(0x916)]===!![]){if(_0x42a3b1)!_0xd9c6d&&(_0x2585b7=_0x31d499(0xd0d));else{const _0xad4309=_0x448e96['totalPoints']||0x0,_0x171a2e=_0x448e96[_0x31d499(0xaae)]||{},_0x10b994=[_0x171a2e[_0x31d499(0x7a9)]>0x0?_0x31d499(0x318)+_0x171a2e[_0x31d499(0x7a9)]+')</button>':'',_0x171a2e[_0x31d499(0xd48)]>0x0?_0x31d499(0xdc3)+_0x171a2e[_0x31d499(0xd48)]+')</button>':'',_0x171a2e[_0x31d499(0xb5e)]>0x0?_0x31d499(0x731)+_0x171a2e[_0x31d499(0xb5e)]+')</button>':'',_0x171a2e['insurance']>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x171a2e['insurance']+_0x31d499(0x1d2):'',_0x171a2e['fiftyFifty']>0x0?_0x31d499(0x7f7)+_0x171a2e[_0x31d499(0x69a)]+')</button>':'',_0x171a2e['secondChance']>0x0?_0x31d499(0xd23)+_0x171a2e[_0x31d499(0x402)]+_0x31d499(0x1d2):''][_0x31d499(0x320)](Boolean)[_0x31d499(0x885)]('\x20'),_0x3f5d24=_0x31d499(0xc36)+_0x1a75f9+'_p'+_0x2b8c2e,_0x5ad631=sessionStorage[_0x31d499(0xc99)](_0x3f5d24)===_0x31d499(0x2f8),_0x4a8e5a=_0xad4309>0x0&&(!_0x5ad631||_0xad4309>=0x1),_0x46067d=_0xad4309===0x0?_0x31d499(0x4b6):_0x5ad631?_0x31d499(0x400):_0x31d499(0x770)+_0xad4309+_0x31d499(0xddc),_0x26a800=_0x4a8e5a?'bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md':_0x31d499(0xe68),_0x241564=_0x4a8e5a?'':'disabled';let _0x30caad='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x26a800+_0x31d499(0x6cb)+_0x241564+_0x31d499(0xcfa)+_0x46067d+_0x31d499(0x753);if(!_0xd9c6d){const _0xc4c12e=_0xad4309>0x0,_0x133e7c=_0xc4c12e?_0x31d499(0x6fd):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x54609f=_0xc4c12e?_0x31d499(0xbea):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x1ede20=_0xc4c12e?'':_0x31d499(0x44b);_0x30caad+=_0x31d499(0x40f)+_0x133e7c+_0x31d499(0xb23)+_0x1ede20+_0x31d499(0x3a9)+_0x54609f+_0x31d499(0xb23)+_0x1ede20+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x2585b7=_0x31d499(0x94f)+_0x30caad+_0x31d499(0xda3)+(_0x10b994||'')+_0x31d499(0xebd);}}let _0x4869e0='';_0x448e96[_0x31d499(0xbb1)]&&(_0x4869e0+=_0x31d499(0xe96));_0x448e96[_0x31d499(0x81a)]&&(_0x4869e0+=_0x31d499(0xa52));(_0x448e96[_0x31d499(0x339)]||0x0)>0x0&&(_0x4869e0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');if(_0xd9c6d){if(_0xd9c6d===_0x31d499(0x3e1)){const _0x161bbe=_0x42a3b1?_0x31d499(0x83d):_0x31d499(0xafa);_0x4869e0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x161bbe+'\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{if(_0xd9c6d===_0x31d499(0xb5e))_0x4869e0+=_0x31d499(0xf15);else{if(_0xd9c6d==='fiftyFifty')_0x4869e0+=_0x31d499(0x4b2);else{if(_0xd9c6d===_0x31d499(0x402))_0x4869e0+=_0x31d499(0x55b);else{if(_0xd9c6d===_0x31d499(0xd48))_0x4869e0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0xd9c6d===_0x31d499(0x267)?_0x4869e0+=_0x31d499(0xd99):_0x4869e0+=_0x31d499(0xd4a)+_0xd9c6d+_0x31d499(0xdf6);}}}}}let _0x54a1e6='';if(!_0x42a3b1){const _0x452c78=_0x448e96[_0x31d499(0xce0)]||0x0;if(_0x452c78>=0x3)_0x54a1e6=_0x31d499(0xdd9)+_0x452c78+_0x31d499(0xd39);else _0x452c78>0x0&&(_0x54a1e6='<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20'+_0x452c78+_0x31d499(0x889));}liveGameView[_0x31d499(0x63b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x1a75f9+0x1)+'\x20/\x20'+_0x141f8c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x2b8c2e+_0x31d499(0xb3b)+_0x54a1e6+'\x20'+_0x3af59b+'\x20'+_0x2585b7+_0x31d499(0x432)+_0x4869e0+_0x31d499(0xe2b)+(_0x1c2b18[_0x31d499(0xef8)]||_0x1c2b18[_0x31d499(0x212)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x9a41f1+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x31d499(0x67a)])MathJax['typesetPromise']();function _0x5229ee(_0x2e477b,_0x52256d,_0x512e0d,_0x1e893d){const _0x4ab715=_0x31d499,_0x58060b=_0x512e0d[_0x4ab715(0xa98)]===!![],_0x4513ab=_0x512e0d[_0x4ab715(0xf23)],_0x5a07b3=_0x4ab715(0x826)+_0x4513ab+'_p'+_0x1e893d,_0x26a777=sessionStorage[_0x4ab715(0xc99)](_0x5a07b3),_0x3b1aea=_0x26a777===_0x4ab715(0x3e1),_0x2883c4=_0x512e0d[_0x4ab715(0x9f8)][_0x1e893d];if(_0x3b1aea){const _0x395ed=sessionStorage['getItem'](_0x4ab715(0x4a4))===_0x4ab715(0x2f8);if(_0x42a3b1||_0x395ed){const _0x376876=_0x2883c4[_0x4ab715(0xa92)]||0x0;sessionStorage[_0x4ab715(0x43f)](_0x4ab715(0x4a4)),handleSyncAnswerSubmit(_0x2e477b,_0x52256d,_0x512e0d,_0x1e893d,![],_0x376876);}else{const _0x5a2c50=document[_0x4ab715(0x815)](_0x4ab715(0x89a)),_0x30264c=document[_0x4ab715(0x815)](_0x4ab715(0xbef)),_0x2289f7=document[_0x4ab715(0x815)](_0x4ab715(0xdfb)),_0x5237c5=document[_0x4ab715(0x815)](_0x4ab715(0x8ff)),_0x3809a9=_0x2883c4[_0x4ab715(0xa92)]||0x0;_0x30264c['max']=_0x3809a9,_0x30264c['value']=_0x3809a9,_0x2289f7[_0x4ab715(0x587)]=_0x3809a9,_0x5237c5[_0x4ab715(0x587)]=_0x3809a9,_0x30264c[_0x4ab715(0x2fe)]=()=>{const _0x23be86=_0x4ab715;_0x2289f7['textContent']=_0x30264c[_0x23be86(0xdd7)];};const _0x44e3bd=document['getElementById'](_0x4ab715(0xb60));_0x44e3bd['dataset']['answerValue']=_0x2e477b,_0x44e3bd[_0x4ab715(0x5ff)][_0x4ab715(0xc56)]=JSON[_0x4ab715(0xd0a)](_0x52256d),_0x44e3bd[_0x4ab715(0x5ff)][_0x4ab715(0xe43)]=JSON[_0x4ab715(0xd0a)](_0x512e0d),_0x44e3bd[_0x4ab715(0x5ff)][_0x4ab715(0xe9e)]=_0x1e893d,_0x5a2c50[_0x4ab715(0xeac)][_0x4ab715(0xb0b)](_0x4ab715(0xcc2));}}else{if(_0x58060b){document['getElementById'](_0x4ab715(0xc13))[_0x4ab715(0x5ff)][_0x4ab715(0x7b4)]=_0x4ab715(0x4e6);const _0x2c86d4=document[_0x4ab715(0x815)](_0x4ab715(0x3bf));_0x2c86d4[_0x4ab715(0x5ff)][_0x4ab715(0x74a)]=_0x2e477b,_0x2c86d4[_0x4ab715(0x5ff)]['question']=JSON['stringify'](_0x52256d),_0x2c86d4['dataset'][_0x4ab715(0xe43)]=JSON[_0x4ab715(0xd0a)](_0x512e0d),_0x2c86d4[_0x4ab715(0x5ff)]['playerName']=_0x1e893d,document[_0x4ab715(0x815)](_0x4ab715(0xc13))[_0x4ab715(0xeac)][_0x4ab715(0xb0b)]('hidden');}else handleSyncAnswerSubmit(_0x2e477b,_0x52256d,_0x512e0d,_0x1e893d,![],0x0);}}_0x28129f?document[_0x31d499(0x815)](_0x31d499(0x79e))[_0x31d499(0x7b7)](_0x31d499(0x7a5),()=>{const _0x5bc878=_0x31d499,_0x401dc6=document[_0x5bc878(0x815)](_0x5bc878(0xada))||document[_0x5bc878(0x815)](_0x5bc878(0xab7));if(_0x401dc6[_0x5bc878(0xdd7)][_0x5bc878(0x99f)]()===''){showMessage(_0x5bc878(0xd51));return;}_0x5229ee(_0x401dc6[_0x5bc878(0xdd7)],_0x1c2b18,_0x8e402b,_0x2b8c2e);}):document[_0x31d499(0x8c8)](_0x31d499(0x754))['forEach'](_0x2e1688=>{const _0x38bddd=_0x31d499;_0x2e1688[_0x38bddd(0x7b7)](_0x38bddd(0x7a5),()=>{const _0x5ca3ce=_0x38bddd;_0x5229ee(_0x2e1688[_0x5ca3ce(0x5ff)][_0x5ca3ce(0xdd7)],_0x1c2b18,_0x8e402b,_0x2b8c2e);});});if(_0x8e402b[_0x31d499(0x916)]===!![]){if(!_0x42a3b1){const _0x283ab7=document['getElementById'](_0x31d499(0xb3d));_0x283ab7&&_0x283ab7[_0x31d499(0x7b7)](_0x31d499(0x7a5),()=>{const _0x1afa1b=_0x31d499,_0x22bd12=_0x1afa1b(0xc36)+_0x1a75f9+'_p'+_0x2b8c2e,_0x1e0e6e=sessionStorage['getItem'](_0x22bd12)===_0x1afa1b(0x2f8);if(!_0x1e0e6e)openBlackMarket(_0x8e402b,_0x448e96),sessionStorage['setItem'](_0x22bd12,_0x1afa1b(0x2f8)),renderStudentSyncQuestionView(_0x8e402b);else{if(_0x448e96['totalPoints']<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)');return;}showConfirmation('เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?',()=>{handlePayForMarketEntry(_0x2b8c2e,_0x8e402b,_0x448e96);});}}),document[_0x31d499(0x815)](_0x31d499(0xcd0))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x51729c=>{const _0x2d54f8=_0x31d499;_0x51729c[_0x2d54f8(0x3d1)][_0x2d54f8(0x44b)]=!![],handleUsePowerup(_0x2b8c2e,'buyTime',_0x1c2b18,_0x8e402b,_0x448e96);}),document[_0x31d499(0x815)](_0x31d499(0x86f))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x425d98=>{const _0x4d656c=_0x31d499;_0x425d98[_0x4d656c(0x3d1)][_0x4d656c(0x44b)]=!![],handleUsePowerup(_0x2b8c2e,_0x4d656c(0xb5e),_0x1c2b18,_0x8e402b,_0x448e96);}),document[_0x31d499(0x815)](_0x31d499(0x8e4))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x3c1b7b=>{const _0x204bf2=_0x31d499;_0x3c1b7b[_0x204bf2(0x3d1)][_0x204bf2(0x44b)]=!![],handleUsePowerup(_0x2b8c2e,_0x204bf2(0x267),_0x1c2b18,_0x8e402b,_0x448e96);}),document['getElementById'](_0x31d499(0xa4a))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x3e3896=>{const _0x1bf925=_0x31d499;_0x3e3896['target']['disabled']=!![],handleUsePowerup(_0x2b8c2e,_0x1bf925(0x69a),_0x1c2b18,_0x8e402b,_0x448e96);}),document[_0x31d499(0x815)](_0x31d499(0xb2e))?.['addEventListener'](_0x31d499(0x7a5),_0x4323d0=>{const _0x9309f=_0x31d499;_0x4323d0['target'][_0x9309f(0x44b)]=!![],handleUsePowerup(_0x2b8c2e,_0x9309f(0x402),_0x1c2b18,_0x8e402b,_0x448e96);}),document[_0x31d499(0x815)](_0x31d499(0x1b4))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x2a43cb=>{const _0x1720ce=_0x31d499;_0x2a43cb[_0x1720ce(0x3d1)][_0x1720ce(0x44b)]=!![],handleUsePowerup(_0x2b8c2e,_0x1720ce(0xd48),_0x1c2b18,_0x8e402b,_0x448e96);}),document[_0x31d499(0x815)](_0x31d499(0x6ec))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x3b2d13=>{const _0x5962ae=_0x31d499;_0x3b2d13['target'][_0x5962ae(0x44b)]=!![],sessionStorage[_0x5962ae(0x337)](_0x5962ae(0x4a4),'false'),handleUsePowerup(_0x2b8c2e,'wagerMultiplier',_0x1c2b18,_0x8e402b,_0x448e96);});}document['getElementById'](_0x31d499(0xa21))?.[_0x31d499(0x7b7)](_0x31d499(0x7a5),_0x1617d8=>{const _0x3230b9=_0x31d499;_0x1617d8['target'][_0x3230b9(0x44b)]=!![],sessionStorage[_0x3230b9(0x337)](_0x3230b9(0x4a4),_0x3230b9(0x2f8)),handleUsePowerup(_0x2b8c2e,_0x3230b9(0x3e1),_0x1c2b18,_0x8e402b,_0x448e96);});}}async function handleSyncAnswerSubmit(_0x1b9e8f,_0x5b2ba5,_0x5ac691,_0x3cd158,_0xeeea29,_0x2078d7=0x0){const _0xb28c50=_0x230ac1;document[_0xb28c50(0x8c8)]('.live-answer-btn,\x20#sync-submit-btn')[_0xb28c50(0xdec)](_0x5157f7=>_0x5157f7[_0xb28c50(0x44b)]=!![]);const _0x246c3d=_0x5ac691[_0xb28c50(0xf23)],_0xbfb39a=_0xb28c50(0x826)+_0x246c3d+'_p'+_0x3cd158,_0x1e676f=sessionStorage[_0xb28c50(0xc99)](_0xbfb39a),_0x3fb1e8=_0x5ac691[_0xb28c50(0x9f8)][_0x3cd158]||{},_0x30a15f=_0x3fb1e8[_0xb28c50(0x81a)]===!![],_0x507387=sessionStorage[_0xb28c50(0xc99)](_0xb28c50(0xe88))===_0xb28c50(0x2f8);let _0x3821b5=_0x3fb1e8[_0xb28c50(0xce0)]||0x0;_0x1e676f&&_0x1e676f!==_0xb28c50(0x3e1)&&(_0x3821b5=0x0);const _0x5b1492=_0x3821b5>=0x3,_0x54e57f=_0x5b2ba5[_0xb28c50(0x1f4)]||_0x5ac691[_0xb28c50(0xde5)][_0xb28c50(0x1c2)];let _0x348cbc=![],_0x27fa79=_0x1b9e8f;switch(_0x54e57f){case _0xb28c50(0xcba):const _0x397262=parseInt(_0x1b9e8f),_0x45dedb=_0x5b2ba5[_0xb28c50(0x68b)]===!![]||String(_0x5b2ba5[_0xb28c50(0x68b)])[_0xb28c50(0xaec)]()===_0xb28c50(0x2f8);_0x348cbc=_0x397262===0x0&&_0x45dedb||_0x397262===0x1&&!_0x45dedb,_0x27fa79=_0x397262===0x0?'ใช่\x20/\x20ถูก':_0xb28c50(0x249);break;case _0xb28c50(0x270):case _0xb28c50(0x934):_0x348cbc=await gradeShortAnswer(_0x1b9e8f,_0x5b2ba5);break;case _0xb28c50(0x52a):_0x348cbc=_0x1b9e8f===_0x5b2ba5[_0xb28c50(0xa50)];break;case _0xb28c50(0x653):default:const _0x1f78f7=parseInt(_0x1b9e8f);_0x348cbc=_0x1f78f7===_0x5b2ba5[_0xb28c50(0xdfa)];_0x5b2ba5['options']&&_0x5b2ba5[_0xb28c50(0xa9c)][_0x1f78f7]&&(_0x27fa79=_0x5b2ba5[_0xb28c50(0xa9c)][_0x1f78f7]);break;}if(!_0x348cbc&&_0x1e676f===_0xb28c50(0x402)&&!_0x507387){sessionStorage[_0xb28c50(0x43f)](_0xbfb39a),sessionStorage[_0xb28c50(0x337)](_0xb28c50(0xe88),_0xb28c50(0x2f8)),showMessage(_0xb28c50(0xbf1)),document[_0xb28c50(0x8c8)](_0xb28c50(0x94a))[_0xb28c50(0xdec)](_0x2eefe2=>{const _0x3e30d8=_0xb28c50;if(!_0x2eefe2[_0x3e30d8(0xeac)][_0x3e30d8(0x65d)](_0x3e30d8(0xcc2)))_0x2eefe2['disabled']=![];});return;}let _0x13bec5=0x0;const _0x1387af=_0x1e676f===_0xb28c50(0x3e1),_0x5a13a6=_0x1e676f===_0xb28c50(0x267),_0x5bf7b7=sessionStorage[_0xb28c50(0xc99)](_0xb28c50(0xa8f))===_0xb28c50(0x2f8),_0x4fa098=_0x3fb1e8[_0xb28c50(0xbb1)]===!![];if(_0x1387af){const _0x526061=parseInt(_0x2078d7,0xa)||0x0;_0x13bec5=_0x348cbc?_0x526061*0x2:-_0x526061;}else{if(_0x5bf7b7&&!_0x348cbc)_0x13bec5=_0xeeea29===!![]||_0xeeea29===_0xb28c50(0xbad)||_0x30a15f?-0x4:-0x2;else{if(_0x30a15f)_0x13bec5=_0x348cbc?0x2:-0x1;else{if(_0x5ac691[_0xb28c50(0xa98)]){if(_0x348cbc&&(_0xeeea29===!![]||_0xeeea29===_0xb28c50(0xbad)))_0x13bec5=0x2;else{if(_0x348cbc)_0x13bec5=0x1;else{if(!_0x348cbc&&(_0xeeea29===![]||_0xeeea29==='not_confident'||_0xeeea29===null))_0x13bec5=0x0;else{if(!_0x348cbc&&(_0xeeea29===!![]||_0xeeea29==='confident'))_0x13bec5=-0x1;}}}}else _0x13bec5=_0x348cbc?0x1:0x0;}}}_0x5b1492&&_0x13bec5>0x0&&(_0x13bec5*=0x2);if(_0x4fa098&&!_0x348cbc&&_0x13bec5<0x0)_0x13bec5*=0x2;if(!_0x348cbc&&_0x5a13a6)_0x13bec5=0x0;const _0x3c00d6=(_0x3fb1e8[_0xb28c50(0x339)]||0x0)>0x0,_0x47f238=_0x1e676f&&_0x1e676f!==_0xb28c50(0x3e1);let _0x1ff8c4=0x0;_0x348cbc&&(_0x1ff8c4=_0x47f238?0x0:_0x3821b5+0x1);const _0x3fba2f={'questionIndex':_0x5ac691[_0xb28c50(0xf23)],'questionId':_0x5b2ba5['id'],'answer':_0x1b9e8f,'answerText':_0x27fa79,'isCorrect':_0x348cbc,'originalQuestionText':_0x5b2ba5[_0xb28c50(0xef8)]||_0x5b2ba5[_0xb28c50(0x212)],'wasConfident':_0x30a15f?_0xb28c50(0xbad):_0xeeea29||![],'pointsAwarded':_0x13bec5,'powerupUsed':_0x1e676f||null,'wasJinxed':_0x4fa098||![],'wasForced':_0x30a15f||![],'usedPoll':_0x5bf7b7||![],'usedBuyTime':_0x3c00d6,'streakActive':_0x5b1492},_0x325d29=doc(db,_0xb28c50(0x884)+appId+_0xb28c50(0xde8)+currentLiveGameId+_0xb28c50(0x950),_0x3cd158),_0x34009e=_0x3fb1e8['answers']||[],_0x4d9eae=_0x34009e['filter'](_0x4b7b8e=>_0x4b7b8e[_0xb28c50(0xeb9)]!==_0x5ac691[_0xb28c50(0xf23)]),_0x3af594=[..._0x4d9eae,_0x3fba2f],_0x510cd2=_0x3af594[_0xb28c50(0x320)](_0x1b33b2=>_0x1b33b2['isCorrect'])[_0xb28c50(0xe93)],_0x278aca={'answers':_0x3af594,'score':_0x510cd2,'totalPoints':increment(_0x13bec5),'answered':!![],'lastAnswerIndex':_0x54e57f===_0xb28c50(0x653)||_0x54e57f==='true_false'?parseInt(_0x1b9e8f):null,'lastAnswerValue':_0x27fa79,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x1ff8c4};if(_0x507387)sessionStorage[_0xb28c50(0x43f)](_0xb28c50(0xe88));try{await updateDoc(_0x325d29,_0x278aca);}catch(_0x3ca493){console[_0xb28c50(0x1b6)](_0xb28c50(0xc73),_0x3ca493),showMessage(_0xb28c50(0x67b)),document[_0xb28c50(0x8c8)]('.live-answer-btn,\x20#sync-submit-btn')[_0xb28c50(0xdec)](_0x4fe023=>_0x4fe023[_0xb28c50(0x44b)]=![]);}}const allMarketItems=[{'id':_0x230ac1(0x7a9),'name':_0x230ac1(0xd0e),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':'cutOne','name':_0x230ac1(0xe6e),'price':0x2,'desc':_0x230ac1(0x77b)},{'id':_0x230ac1(0x69a),'name':'🌗\x2050:50','price':0x5,'desc':_0x230ac1(0x741)},{'id':_0x230ac1(0x402),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x230ac1(0x68d)},{'id':_0x230ac1(0xd48),'name':'👁️\x20เผยตัวเลือก','price':0xc,'desc':_0x230ac1(0x23f)}];function openBlackMarket(_0x36a4eb,_0x526639){const _0x266058=_0x230ac1;let _0x1684c2=null;const _0x1ff6ca=document['getElementById'](_0x266058(0x87b)),_0x11575c=document[_0x266058(0x815)]('market-item-list'),_0x3001bf=document[_0x266058(0x815)](_0x266058(0x973)),_0x5214fb=document[_0x266058(0x815)](_0x266058(0x917)),_0x4018c9=_0x526639[_0x266058(0xa92)]||0x0;_0x3001bf['textContent']=_0x4018c9;const _0x3fcef9=_0x36a4eb[_0x266058(0xf23)],_0x4133e9=_0x36a4eb[_0x266058(0xde5)][_0x266058(0x746)][_0x3fcef9],_0x5d9772=_0x4133e9[_0x266058(0x1f4)]||_0x36a4eb[_0x266058(0xde5)][_0x266058(0x1c2)],_0x1a1eb2=_0x36a4eb[_0x266058(0x97a)]===_0x266058(0xd1a),_0x20ba46=allMarketItems;_0x11575c[_0x266058(0x63b)]=_0x20ba46['map'](_0x5b518e=>{const _0x3df7fe=_0x266058,_0x523e08=_0x4018c9>=_0x5b518e[_0x3df7fe(0x3fb)];if(_0x5b518e['id']===_0x3df7fe(0x7a9)){const _0xaf564b=_0x523e08?Math['floor'](_0x4018c9/_0x5b518e[_0x3df7fe(0x3fb)]):0x0,_0x35f4e4=_0x523e08&&_0x1a1eb2;let _0x4c31bd=_0x3df7fe(0xb66)+_0x5b518e['price']+'P/อัน)',_0x7414cb=_0x35f4e4?_0x3df7fe(0x338):_0x3df7fe(0x49c);return!_0x1a1eb2&&(_0x4c31bd='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x7414cb=_0x3df7fe(0xc1a)),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x35f4e4?_0x3df7fe(0x8f8):'bg-white')+_0x3df7fe(0x650)+_0x5b518e[_0x3df7fe(0xcc9)]+_0x3df7fe(0xe77)+_0x5b518e[_0x3df7fe(0xc93)]+_0x3df7fe(0xa12)+_0xaf564b+'\x22\x20'+(!_0x35f4e4?_0x3df7fe(0x44b):'')+_0x3df7fe(0x584)+_0x7414cb+_0x3df7fe(0x95c)+_0x5b518e['id']+_0x3df7fe(0x7dd)+_0x5b518e['price']+_0x3df7fe(0x3cc)+(!_0x35f4e4?'disabled':'')+_0x3df7fe(0x61f)+_0x4c31bd+_0x3df7fe(0xe31);}else{let _0x36f4ee=!_0x523e08,_0x3c1dd5=_0x523e08?_0x3df7fe(0x338):'bg-gray-400',_0x58d08b=_0x3df7fe(0xb66)+_0x5b518e[_0x3df7fe(0x3fb)]+'P)';if(_0x5b518e['id']==='revealOptions'){const _0x40801a=_0x4133e9[_0x3df7fe(0xa9c)]&&_0x4133e9['options'][_0x3df7fe(0xe93)]>0x0,_0x2078df=_0x5d9772===_0x3df7fe(0x270)||_0x5d9772===_0x3df7fe(0x934);(!_0x40801a||!_0x2078df)&&(_0x36f4ee=!![],_0x3c1dd5='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x58d08b=_0x3df7fe(0xc0a));}if(_0x5b518e['id']===_0x3df7fe(0xb5e)||_0x5b518e['id']===_0x3df7fe(0x69a)){const _0x18397e=_0x5d9772===_0x3df7fe(0x270)||_0x5d9772===_0x3df7fe(0x934),_0x2e18c0=_0x4133e9[_0x3df7fe(0xa9c)]&&_0x4133e9[_0x3df7fe(0xa9c)]['length']>0x0;(_0x18397e||!_0x2e18c0)&&(_0x36f4ee=!![],_0x3c1dd5=_0x3df7fe(0xc1a),_0x58d08b=_0x3df7fe(0xebf));}return _0x3df7fe(0x9ca)+(_0x36f4ee?_0x3df7fe(0x8f8):_0x3df7fe(0x8ce))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x5b518e[_0x3df7fe(0xcc9)]+_0x3df7fe(0xe77)+_0x5b518e[_0x3df7fe(0xc93)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20'+_0x3c1dd5+_0x3df7fe(0x3be)+_0x5b518e['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x5b518e[_0x3df7fe(0x3fb)]+_0x3df7fe(0xaab)+(_0x36f4ee?_0x3df7fe(0x44b):'')+_0x3df7fe(0x901)+_0x58d08b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})[_0x266058(0x885)](''),_0x1ff6ca[_0x266058(0xeac)]['remove']('hidden'),_0x5214fb[_0x266058(0x205)][_0x266058(0xccd)]=_0x266058(0x1e2),_0x5214fb[_0x266058(0x205)][_0x266058(0x26c)]=_0x266058(0x28e),setTimeout(()=>{const _0x324a48=_0x266058;_0x5214fb[_0x324a48(0x205)][_0x324a48(0xccd)]='width\x2060s\x20linear',_0x5214fb['style'][_0x324a48(0x26c)]='0%';},0x32),_0x1684c2=setTimeout(()=>{const _0x19a879=_0x266058;_0x1ff6ca[_0x19a879(0xeac)][_0x19a879(0x4db)](_0x19a879(0xcc2));},0xea60),document['getElementById'](_0x266058(0x8e3))['onclick']=()=>{const _0x354c6e=_0x266058;clearTimeout(_0x1684c2),_0x1ff6ca[_0x354c6e(0xeac)][_0x354c6e(0x4db)](_0x354c6e(0xcc2));},_0x11575c[_0x266058(0x8c8)](_0x266058(0xb72))['forEach'](_0x2997b5=>{const _0x26dbe4=_0x266058;_0x2997b5[_0x26dbe4(0x7c5)]=_0x1c73a8=>{const _0x595c0d=_0x26dbe4,_0x2a9f13=_0x1c73a8[_0x595c0d(0x3d1)]['dataset']['itemId'],_0x496e98=parseInt(_0x1c73a8['target']['dataset'][_0x595c0d(0x3fb)],0xa);clearTimeout(_0x1684c2),_0x1ff6ca[_0x595c0d(0xeac)][_0x595c0d(0x4db)](_0x595c0d(0xcc2)),handleBuyItem(_0x526639[_0x595c0d(0xcc9)],_0x2a9f13,_0x496e98,0x1);};}),_0x11575c[_0x266058(0x8c8)](_0x266058(0x20e))[_0x266058(0xdec)](_0x6c30aa=>{const _0x22d2cb=_0x266058;_0x6c30aa[_0x22d2cb(0x7c5)]=_0x38ad44=>{const _0x12950e=_0x22d2cb,_0x2c2761=_0x38ad44['target'][_0x12950e(0x5ff)]['itemId'],_0x3ea59c=parseInt(_0x38ad44['target'][_0x12950e(0x5ff)][_0x12950e(0x3fb)],0xa),_0x51aaac=document['getElementById']('buy-time-quantity-input'),_0x79f088=parseInt(_0x51aaac[_0x12950e(0xdd7)],0xa),_0x41dea0=parseInt(_0x51aaac[_0x12950e(0x526)],0xa);if(!_0x79f088||_0x79f088<0x1){showMessage(_0x12950e(0x9b7));return;}if(_0x79f088>_0x41dea0){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x41dea0+_0x12950e(0xdcb));return;}clearTimeout(_0x1684c2),_0x1ff6ca[_0x12950e(0xeac)][_0x12950e(0x4db)]('hidden'),handleBuyItem(_0x526639['name'],_0x2c2761,_0x3ea59c,_0x79f088);};});}async function handleBuyItem(_0xab385e,_0x38094e,_0x21fbcb,_0x426b4e=0x1){const _0x49f835=_0x230ac1,_0x6b658b=doc(db,_0x49f835(0x884)+appId+_0x49f835(0xde8)+currentLiveGameId+_0x49f835(0x950),_0xab385e);try{await runTransaction(db,async _0x260bb3=>{const _0x51f9ec=_0x49f835,_0xfb42c7=await _0x260bb3[_0x51f9ec(0x837)](_0x6b658b);if(!_0xfb42c7[_0x51f9ec(0x939)]())throw _0x51f9ec(0xe38);const _0xa9a926=_0xfb42c7[_0x51f9ec(0xdad)]()[_0x51f9ec(0xa92)]||0x0,_0x157fe2=_0x21fbcb*_0x426b4e;if(_0xa9a926<_0x157fe2)throw _0x51f9ec(0x6d7);const _0x889325={};_0x889325[_0x51f9ec(0xa92)]=increment(-_0x157fe2),_0x889325[_0x51f9ec(0xc51)+_0x38094e]=increment(_0x426b4e),_0x260bb3[_0x51f9ec(0x482)](_0x6b658b,_0x889325);}),showMessage(_0x49f835(0xde3)+_0x38094e+_0x49f835(0xc29)+_0x426b4e+_0x49f835(0x56c));}catch(_0x18ac9d){console['error']('Buy\x20Item\x20failed:\x20',_0x18ac9d),showMessage(typeof _0x18ac9d===_0x49f835(0x96c)?_0x18ac9d:_0x49f835(0x272));}}async function handlePayForMarketEntry(_0x3a879d,_0x406010,_0x22276c){const _0x30afe4=_0x230ac1,_0x208db1=doc(db,_0x30afe4(0x884)+appId+_0x30afe4(0xde8)+currentLiveGameId+_0x30afe4(0x950),_0x3a879d);try{await runTransaction(db,async _0x1acc12=>{const _0x2335ac=_0x30afe4,_0x8ea0ba=await _0x1acc12[_0x2335ac(0x837)](_0x208db1);if(!_0x8ea0ba['exists']())throw _0x2335ac(0xe38);const _0x558687=_0x8ea0ba['data']()[_0x2335ac(0xa92)]||0x0;if(_0x558687<0x1)throw _0x2335ac(0x370);const _0x1a7f1d={};_0x1a7f1d['totalPoints']=increment(-0x1),_0x1acc12[_0x2335ac(0x482)](_0x208db1,_0x1a7f1d);});const _0x243a4c={..._0x22276c,'totalPoints':(_0x22276c[_0x30afe4(0xa92)]||0x0)-0x1};openBlackMarket(_0x406010,_0x243a4c);}catch(_0x4ae48a){console[_0x30afe4(0x1b6)](_0x30afe4(0x941),_0x4ae48a),showMessage(typeof _0x4ae48a==='string'?_0x4ae48a:_0x30afe4(0xe95));}}const audioCtx=new(window[(_0x230ac1(0xcbd))]||window[(_0x230ac1(0x79f))])();function playSystemSound(_0x2cf48e){const _0x7e5f2a=_0x230ac1;if(audioCtx[_0x7e5f2a(0x593)]===_0x7e5f2a(0xb40))audioCtx['resume']();const _0x3eb639=audioCtx[_0x7e5f2a(0x634)](),_0x42118a=audioCtx[_0x7e5f2a(0x220)]();_0x3eb639[_0x7e5f2a(0x5af)](_0x42118a),_0x42118a['connect'](audioCtx[_0x7e5f2a(0x9a7)]);const _0x51d04e=audioCtx['currentTime'];if(_0x2cf48e===_0x7e5f2a(0x76b))_0x3eb639[_0x7e5f2a(0x444)]=_0x7e5f2a(0xca1),_0x3eb639[_0x7e5f2a(0x33d)][_0x7e5f2a(0x3e3)](0x258,_0x51d04e),_0x3eb639[_0x7e5f2a(0x33d)][_0x7e5f2a(0x201)](0x4b0,_0x51d04e+0.1),_0x42118a[_0x7e5f2a(0x692)]['setValueAtTime'](0.1,_0x51d04e),_0x42118a[_0x7e5f2a(0x692)][_0x7e5f2a(0x201)](0.01,_0x51d04e+0.5),_0x3eb639[_0x7e5f2a(0x807)](_0x51d04e),_0x3eb639[_0x7e5f2a(0x50f)](_0x51d04e+0.5);else{if(_0x2cf48e===_0x7e5f2a(0x9c5))_0x3eb639[_0x7e5f2a(0x444)]='sawtooth',_0x3eb639[_0x7e5f2a(0x33d)]['setValueAtTime'](0x96,_0x51d04e),_0x3eb639['frequency'][_0x7e5f2a(0x201)](0x64,_0x51d04e+0.2),_0x42118a[_0x7e5f2a(0x692)][_0x7e5f2a(0x3e3)](0.1,_0x51d04e),_0x42118a[_0x7e5f2a(0x692)]['exponentialRampToValueAtTime'](0.01,_0x51d04e+0.3),_0x3eb639[_0x7e5f2a(0x807)](_0x51d04e),_0x3eb639[_0x7e5f2a(0x50f)](_0x51d04e+0.3);else _0x2cf48e===_0x7e5f2a(0x253)&&(_0x3eb639['type']=_0x7e5f2a(0x1bc),_0x3eb639[_0x7e5f2a(0x33d)]['setValueAtTime'](0x12c,_0x51d04e),_0x3eb639[_0x7e5f2a(0x33d)][_0x7e5f2a(0x3b1)](0x258,_0x51d04e+0.1),_0x42118a[_0x7e5f2a(0x692)][_0x7e5f2a(0x3e3)](0.1,_0x51d04e),_0x42118a['gain']['linearRampToValueAtTime'](0.01,_0x51d04e+0.3),_0x3eb639['start'](_0x51d04e),_0x3eb639['stop'](_0x51d04e+0.3));}}initialize();
