const _0x338e4c=_0xb61e;(function(_0x2e43c1,_0x15c32b){const _0x538aa8=_0xb61e,_0x551033=_0x2e43c1();while(!![]){try{const _0x3bc4b0=-parseInt(_0x538aa8(0x8cd))/0x1+parseInt(_0x538aa8(0x522))/0x2*(parseInt(_0x538aa8(0x273))/0x3)+parseInt(_0x538aa8(0x1fc))/0x4*(-parseInt(_0x538aa8(0x584))/0x5)+-parseInt(_0x538aa8(0x383))/0x6*(-parseInt(_0x538aa8(0x1ac))/0x7)+-parseInt(_0x538aa8(0x38b))/0x8*(-parseInt(_0x538aa8(0x3ec))/0x9)+parseInt(_0x538aa8(0x23c))/0xa*(-parseInt(_0x538aa8(0x22d))/0xb)+-parseInt(_0x538aa8(0x626))/0xc;if(_0x3bc4b0===_0x15c32b)break;else _0x551033['push'](_0x551033['shift']());}catch(_0xfd0547){_0x551033['push'](_0x551033['shift']());}}}(_0x4fd4,0xbcf8a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x338e4c(0x5c4),'pinnedProjects':[],'projectView':_0x338e4c(0x447)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':'การนับ'},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x6ec)},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x49b)},{'category':_0x338e4c(0x430),'name':'การบวก'},{'category':_0x338e4c(0x430),'name':'การลบ'},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x470)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x8d0)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x312)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x427)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x1d7)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x896)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x889)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x2e6)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x5fd)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x158)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x5d5)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x39b)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x807)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x224)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x2ef)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x1a5)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x3bc)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x73a)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x747)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x3aa)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x515)},{'category':_0x338e4c(0x430),'name':'การหารทศนิยม'},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x739)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x263)},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x65d)},{'category':'จำนวนและการดำเนินการ','name':_0x338e4c(0x599)},{'category':_0x338e4c(0x430),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x338e4c(0x430),'name':'รากที่สองและที่สาม'},{'category':_0x338e4c(0x430),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x338e4c(0x430),'name':_0x338e4c(0x282)},{'category':_0x338e4c(0x72d),'name':'หน่วยความยาวและการแปลง'},{'category':_0x338e4c(0x72d),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x338e4c(0x72d),'name':_0x338e4c(0x859)},{'category':'การวัด','name':_0x338e4c(0x21e)},{'category':'การวัด','name':_0x338e4c(0x496)},{'category':'การวัด','name':_0x338e4c(0x314)},{'category':'การวัด','name':_0x338e4c(0x8d2)},{'category':_0x338e4c(0x72d),'name':_0x338e4c(0x6ed)},{'category':_0x338e4c(0x72d),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0x338e4c(0x60a)},{'category':_0x338e4c(0x72d),'name':_0x338e4c(0x860)},{'category':_0x338e4c(0x72d),'name':_0x338e4c(0x32f)},{'category':_0x338e4c(0x72d),'name':_0x338e4c(0x709)},{'category':_0x338e4c(0x72d),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x5d4)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x4b1)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x88b)},{'category':_0x338e4c(0x8ac),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x5b5)},{'category':_0x338e4c(0x8ac),'name':'ความคล้ายของรูป'},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x157)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x1f3)},{'category':'เรขาคณิต','name':_0x338e4c(0x72b)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x5bc)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x824)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x331)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x8df)},{'category':_0x338e4c(0x8ac),'name':_0x338e4c(0x54d)},{'category':'เรขาคณิต','name':_0x338e4c(0x573)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x479)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x589)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x49c)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x3a1)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x697)},{'category':_0x338e4c(0x814),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x4ff)},{'category':_0x338e4c(0x814),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x42e)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x2d9)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x7c9)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x8c9)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x77e)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x6c7)},{'category':_0x338e4c(0x814),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x679)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x446)},{'category':_0x338e4c(0x814),'name':'โดเมนและเรนจ์'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x83f)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x3cb)},{'category':_0x338e4c(0x814),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x338e4c(0x814),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x8be)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x829)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x1c9)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x8e5)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x693)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x4d6)},{'category':_0x338e4c(0x814),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x338e4c(0x814),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x213)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x338e4c(0x7f7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x338e4c(0x321)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x5f4)},{'category':_0x338e4c(0x814),'name':_0x338e4c(0x74a)},{'category':_0x338e4c(0x75b),'name':_0x338e4c(0x2b8)},{'category':'เรขาคณิตวิเคราะห์','name':_0x338e4c(0x1b6)},{'category':_0x338e4c(0x75b),'name':_0x338e4c(0x2a6)},{'category':_0x338e4c(0x75b),'name':_0x338e4c(0x78a)},{'category':_0x338e4c(0x75b),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x338e4c(0x47a)},{'category':_0x338e4c(0x75b),'name':_0x338e4c(0x8c8)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x746)},{'category':_0x338e4c(0x726),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x6fa)},{'category':'ตรีโกณมิติ','name':_0x338e4c(0x745)},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x2a1)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x291)},{'category':_0x338e4c(0x726),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x581)},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x5d0)},{'category':_0x338e4c(0x726),'name':_0x338e4c(0x862)},{'category':'สถิติและความน่าจะเป็น','name':_0x338e4c(0x891)},{'category':_0x338e4c(0x798),'name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x338e4c(0x798),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x338e4c(0x798),'name':'ฮิสโตแกรม'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x731)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x751)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x2df)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x70c)},{'category':_0x338e4c(0x798),'name':'พิสัย'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x84f)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x60c)},{'category':_0x338e4c(0x798),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x7f3)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x8d8)},{'category':_0x338e4c(0x798),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x338e4c(0x798),'name':'กฎบวกและกฎคูณ'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x86f)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x895)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x379)},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x73b)},{'category':_0x338e4c(0x798),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x338e4c(0x798),'name':_0x338e4c(0x74f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x338e4c(0x844)},{'category':'แคลคูลัสเบื้องต้น','name':_0x338e4c(0x686)},{'category':_0x338e4c(0x1dc),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x82e)},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x471)},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x272)},{'category':_0x338e4c(0x1dc),'name':'ความชันเส้นสัมผัส'},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x6d7)},{'category':_0x338e4c(0x1dc),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x338e4c(0x1dc),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x338e4c(0x516)},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x850)},{'category':_0x338e4c(0x1dc),'name':_0x338e4c(0x3b6)},{'category':_0x338e4c(0x696),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x338e4c(0x696),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x338e4c(0x696),'name':_0x338e4c(0x8ea)},{'category':_0x338e4c(0x696),'name':_0x338e4c(0x81e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x338e4c(0x7d3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x338e4c(0x762)},{'category':_0x338e4c(0x696),'name':_0x338e4c(0x3df)},{'category':_0x338e4c(0x5d2),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x338e4c(0x5d2),'name':_0x338e4c(0x76a)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x338e4c(0x5d2),'name':_0x338e4c(0x70a)},{'category':_0x338e4c(0x5d2),'name':_0x338e4c(0x31e)},{'category':_0x338e4c(0x2c7),'name':_0x338e4c(0x794)},{'category':_0x338e4c(0x2c7),'name':_0x338e4c(0x558)},{'category':_0x338e4c(0x2c7),'name':_0x338e4c(0x580)}];function renderTopicCheckboxes(){const _0x14ce56=_0x338e4c,_0x2b4558=document[_0x14ce56(0x683)]('math-topics-checkbox-container');if(!_0x2b4558)return;const _0x31c6df=allMathTopics,_0x1c77e3=customMathTopics['map'](_0x5e5dbe=>({'id':_0x5e5dbe['id'],'category':_0x14ce56(0x19a),'name':_0x5e5dbe['name']})),_0x569331=[..._0x31c6df,..._0x1c77e3],_0xb7ef3d=_0x569331[_0x14ce56(0x685)]((_0x305026,_0x42ed09)=>{const _0x5986b4=_0x14ce56;return!_0x305026[_0x42ed09['category']]&&(_0x305026[_0x42ed09[_0x5986b4(0x47f)]]=[]),_0x305026[_0x42ed09['category']][_0x5986b4(0x76d)](_0x42ed09),_0x305026;},{});let _0x41f7ae='';const _0x551b4=[_0x14ce56(0x19a),...Object[_0x14ce56(0x789)](_0xb7ef3d)[_0x14ce56(0x5d7)](_0x34c5a4=>_0x34c5a4!==_0x14ce56(0x19a))];for(const _0x152c7b of _0x551b4){if(_0xb7ef3d[_0x152c7b]){const _0x27b68e=_0x152c7b===_0x14ce56(0x19a),_0xfce36e=_0x27b68e?_0x14ce56(0x233):_0x14ce56(0x61f),_0x547021=_0x27b68e?_0x14ce56(0x179):_0x14ce56(0x5d1);_0x41f7ae+=_0x14ce56(0x302),_0x41f7ae+=_0x14ce56(0x8ca)+_0x547021+_0x14ce56(0x2fe)+_0xfce36e+_0x14ce56(0x681)+_0x152c7b+_0x14ce56(0x73d),_0xb7ef3d[_0x152c7b][_0x14ce56(0x630)](_0x17e1f5=>{const _0x4feaef=_0x14ce56,_0x2557bd=!!_0x17e1f5['id'],_0x2efaa3=_0x2557bd?_0x4feaef(0x394)+_0x17e1f5['id']+_0x4feaef(0x3d0)+_0x17e1f5['id']+_0x4feaef(0x7aa)+_0x17e1f5['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x17e1f5['id']+_0x4feaef(0x7e4):'';_0x41f7ae+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x17e1f5['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x17e1f5['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x17e1f5['name']+_0x4feaef(0x788)+(_0x2557bd?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x17e1f5['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2efaa3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x41f7ae+=_0x14ce56(0x1e9);}}_0x2b4558[_0x14ce56(0x57a)]=_0x41f7ae||_0x14ce56(0x3d9),_0x2b4558[_0x14ce56(0x2b1)](_0x14ce56(0x85d),updateSelectedTopicsCount),_0x2b4558['addEventListener'](_0x14ce56(0x85d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2e8ac4,_0x51a021){const _0x56c2ae=_0x338e4c;if(!_0x2e8ac4||!_0x51a021[_0x56c2ae(0x369)]()){showMessage(_0x56c2ae(0x3a4));return;}try{const _0x18b799=doc(db,_0x56c2ae(0x79b)+appId+'/public/data/customMathTopics',_0x2e8ac4);await updateDoc(_0x18b799,{'name':_0x51a021[_0x56c2ae(0x369)]()}),showMessage(_0x56c2ae(0x267));}catch(_0x301258){console[_0x56c2ae(0x7ad)](_0x56c2ae(0x6ef),_0x301258),showMessage(_0x56c2ae(0x5ec));}}function toggleTopicEditMode(_0x3957a7,_0xa61c9){const _0x1dcbdd=_0x338e4c;if(!_0x3957a7)return;const _0x3677bb=_0x3957a7[_0x1dcbdd(0x26a)](_0x1dcbdd(0x55d)),_0x227c1a=_0x3957a7[_0x1dcbdd(0x26a)](_0x1dcbdd(0x1e7)),_0x340b3a=_0x3957a7['querySelector'](_0x1dcbdd(0x44b)),_0x2bb413=_0x3957a7[_0x1dcbdd(0x26a)]('.topic-actions-edit');_0x3677bb[_0x1dcbdd(0x274)]['toggle']('hidden',_0xa61c9),_0x227c1a[_0x1dcbdd(0x274)][_0x1dcbdd(0x3b0)](_0x1dcbdd(0x8c6),!_0xa61c9),_0x340b3a[_0x1dcbdd(0x274)]['toggle'](_0x1dcbdd(0x8c6),_0xa61c9),_0x2bb413[_0x1dcbdd(0x274)][_0x1dcbdd(0x3b0)](_0x1dcbdd(0x8c6),!_0xa61c9),_0xa61c9&&(_0x227c1a['focus'](),_0x227c1a[_0x1dcbdd(0x306)]());}function updateSelectedTopicsCount(){const _0x436d13=_0x338e4c,_0x49b85e=document[_0x436d13(0x683)](_0x436d13(0x53d)),_0x50fc69=_0x49b85e[_0x436d13(0x51a)](_0x436d13(0x167))[_0x436d13(0x7c4)],_0x2c879e=document['getElementById'](_0x436d13(0x64e));_0x50fc69>0x0?_0x2c879e[_0x436d13(0x603)]=_0x436d13(0x674)+_0x50fc69+_0x436d13(0x4e7):_0x2c879e['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x338e4c(0x3d3),quizLeaderboardSortOrder=_0x338e4c(0x57f),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x338e4c(0x6cc),'name':'คะแนนเต็ม','description':_0x338e4c(0x538),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x338e4c(0x595),'name':'เซียนสมองไว','description':_0x338e4c(0x2b7),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x338e4c(0x4f9),'name':_0x338e4c(0x4be),'description':_0x338e4c(0x1cd),'icon':_0x338e4c(0x76b)},'FIRST_TRY_ACE':{'id':_0x338e4c(0x22e),'name':_0x338e4c(0x237),'description':_0x338e4c(0x451),'icon':_0x338e4c(0x336)},'COMEBACK_KING':{'id':_0x338e4c(0x27b),'name':_0x338e4c(0x472),'description':_0x338e4c(0x736),'icon':_0x338e4c(0x7f1)},'SPECIALIST':{'id':'specialist','name':_0x338e4c(0x290),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x338e4c(0x7ca)},'PERSEVERANCE':{'id':_0x338e4c(0x766),'name':_0x338e4c(0x389),'description':_0x338e4c(0x88e),'icon':_0x338e4c(0x333)}},firebaseConfig={'apiKey':_0x338e4c(0x444),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x338e4c(0x384),'messagingSenderId':_0x338e4c(0x439),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x338e4c(0x683)](_0x338e4c(0x6b1)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x338e4c(0x683)](_0x338e4c(0x7bd)),projectDetailView=document[_0x338e4c(0x683)](_0x338e4c(0x7f0)),quizResultsView=document[_0x338e4c(0x683)](_0x338e4c(0x205)),projectList=document[_0x338e4c(0x683)](_0x338e4c(0x5ac)),noProjectsMsg=document[_0x338e4c(0x683)](_0x338e4c(0x7a0)),projectTitle=document['getElementById'](_0x338e4c(0x8a4)),projectIdDisplay=document['getElementById'](_0x338e4c(0x672)),studentList=document[_0x338e4c(0x683)](_0x338e4c(0x833)),messageModal=document[_0x338e4c(0x683)]('message-modal'),modalMessage=document[_0x338e4c(0x683)](_0x338e4c(0x392)),createProjectModal=document[_0x338e4c(0x683)](_0x338e4c(0x523)),adminPasswordModal=document[_0x338e4c(0x683)](_0x338e4c(0x49e)),confirmationModal=document[_0x338e4c(0x683)](_0x338e4c(0x5c3)),userIdDisplay=document[_0x338e4c(0x683)](_0x338e4c(0x83c)),topicTab=document['getElementById'](_0x338e4c(0x38f)),textTab=document[_0x338e4c(0x683)]('text-tab'),topicInputArea=document[_0x338e4c(0x683)](_0x338e4c(0x8a8)),textInputArea=document[_0x338e4c(0x683)]('text-input-area'),manageTab=document[_0x338e4c(0x683)](_0x338e4c(0x662)),resultsTab=document[_0x338e4c(0x683)]('results-tab'),leaderboardTab=document[_0x338e4c(0x683)](_0x338e4c(0x6fe)),manageTabContent=document[_0x338e4c(0x683)]('manage-tab-content'),resultsTabContent=document['getElementById'](_0x338e4c(0x785)),leaderboardTabContent=document[_0x338e4c(0x683)](_0x338e4c(0x400)),projectQuizzesList=document[_0x338e4c(0x683)](_0x338e4c(0x443)),fileTab=document[_0x338e4c(0x683)](_0x338e4c(0x772)),fileInputArea=document[_0x338e4c(0x683)](_0x338e4c(0x5de)),fileUploadInput=document[_0x338e4c(0x683)](_0x338e4c(0x484)),worksheetTab=document['getElementById'](_0x338e4c(0x428)),worksheetInputArea=document[_0x338e4c(0x683)]('worksheet-input-area'),generateWorksheetBtn=document[_0x338e4c(0x683)](_0x338e4c(0x703)),studentInitialView=document[_0x338e4c(0x683)]('student-initial-view'),studentNameSelectionView=document[_0x338e4c(0x683)](_0x338e4c(0x8a7)),studentQuizArea=document[_0x338e4c(0x683)](_0x338e4c(0x80b)),studentResultArea=document[_0x338e4c(0x683)]('student-result-area'),studentReadingArea=document[_0x338e4c(0x683)](_0x338e4c(0x36b)),loadQuizBtn=document['getElementById'](_0x338e4c(0x588)),startQuizBtn=document['getElementById'](_0x338e4c(0x219)),studentJoinGameView=document['getElementById'](_0x338e4c(0x6e0)),presentationModal=document['getElementById'](_0x338e4c(0x156)),renameQuizModal=document['getElementById'](_0x338e4c(0x346)),moveQuizModal=document['getElementById'](_0x338e4c(0x359)),quizSettingsModal=document[_0x338e4c(0x683)](_0x338e4c(0x570)),quizStatusModal=document[_0x338e4c(0x683)](_0x338e4c(0x1ba)),liveGameView=document[_0x338e4c(0x683)](_0x338e4c(0x614));function handleAutoFixLatex(){const _0xc97eaf=_0x338e4c,_0x27a2c4=document[_0xc97eaf(0x683)](_0xc97eaf(0x23f))||document,_0xa5067e=_0x27a2c4[_0xc97eaf(0x51a)]([_0xc97eaf(0x4d7),_0xc97eaf(0x46b),_0xc97eaf(0x7bc),_0xc97eaf(0x7b2),_0xc97eaf(0x2f2),_0xc97eaf(0x80f),_0xc97eaf(0x40a),_0xc97eaf(0x512),_0xc97eaf(0x29a)][_0xc97eaf(0x8dc)](','));let _0x8392af=0x0;const _0x3ef5b7=_0x47afce=>_0xc97eaf(0x1e4)in _0x47afce?String(_0x47afce['value']):_0x47afce[_0xc97eaf(0x34a)]!==undefined?_0x47afce[_0xc97eaf(0x34a)]:_0x47afce[_0xc97eaf(0x603)]||'',_0x496e7a=(_0x56d04,_0x41505c)=>{const _0xc1293d=_0xc97eaf;if(_0xc1293d(0x1e4)in _0x56d04){_0x56d04[_0xc1293d(0x1e4)]=_0x41505c;return;}if(_0x56d04['querySelector']&&_0x56d04[_0xc1293d(0x26a)](_0xc1293d(0x4d9)))return;if(_0x56d04[_0xc1293d(0x34a)]!==undefined)_0x56d04['innerText']=_0x41505c;else _0x56d04[_0xc1293d(0x603)]=_0x41505c;},_0x4db2e6=_0x1ebfed=>_0x1ebfed[_0xc97eaf(0x631)](/\u00A0/g,'\x20')[_0xc97eaf(0x631)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3d0adb=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x16425=_0x15cbc2=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0xc97eaf(0x619)](_0x15cbc2),_0x3750b4=_0x14ab44=>{const _0x2d5dbf=_0xc97eaf,_0x112cd9=(_0x14ab44[_0x2d5dbf(0x1a8)](/\{/g)||[])['length'],_0x3a427b=(_0x14ab44[_0x2d5dbf(0x1a8)](/\}/g)||[])['length'];if(_0x112cd9>_0x3a427b)_0x14ab44=_0x14ab44+'}'[_0x2d5dbf(0x576)](_0x112cd9-_0x3a427b);return _0x14ab44;},_0xa6f596=_0x5c6f18=>{const _0x2fcade=_0xc97eaf;let _0x5b402e=_0x5c6f18[_0x2fcade(0x369)]();const _0x4d7d6c=['frac',_0x2fcade(0x899),_0x2fcade(0x2d7),_0x2fcade(0x7f8),_0x2fcade(0x1d5),'times',_0x2fcade(0x6ad),_0x2fcade(0x6c4),_0x2fcade(0x4b8),_0x2fcade(0x4a2),'le','ge','neq','pm','approx',_0x2fcade(0x223),_0x2fcade(0x671),_0x2fcade(0x44e),'log','ln','sum','prod',_0x2fcade(0x59b),_0x2fcade(0x1dd),_0x2fcade(0x6a9),_0x2fcade(0x6f0),_0x2fcade(0x42f),_0x2fcade(0x1df),_0x2fcade(0x44d)];_0x5b402e=_0x5b402e[_0x2fcade(0x631)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x4d7d6c['join']('|')+')\x5cb)','g'),'\x5c'),_0x4d7d6c[_0x2fcade(0x630)](_0x26a26c=>{const _0x2f190f=_0x2fcade;_0x5b402e=_0x5b402e[_0x2f190f(0x631)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x26a26c+'\x5cb','g'),(_0x38c1d3,_0x3b36e6)=>_0x3b36e6+'\x5c'+_0x26a26c);});const _0x338d85=[[/×/g,_0x2fcade(0x4e1)],[/·/g,_0x2fcade(0x36d)],[/÷/g,_0x2fcade(0x5e1)],[/≤/g,'\x5cle'],[/≥/g,_0x2fcade(0x2f5)],[/≠/g,_0x2fcade(0x7e3)],[/±/g,'\x5cpm'],[/∑/g,_0x2fcade(0x7ce)],[/−/g,'-']];_0x338d85[_0x2fcade(0x630)](([_0x26a58b,_0x103710])=>{const _0x131637=_0x2fcade;_0x5b402e=_0x5b402e[_0x131637(0x631)](_0x26a58b,_0x103710);}),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/√\s*\(([^)]*)\)/g,_0x2fcade(0x323)),_0x5b402e=_0x5b402e['replace'](/√\s*([A-Za-z0-9]+)/g,_0x2fcade(0x323)),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/(^|[^\\])\bimes\b/g,_0x2fcade(0x571))[_0x2fcade(0x631)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x2fcade(0x631)](/(^|[^\\])ext\{/g,_0x2fcade(0x162))['replace'](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x2fcade(0x631)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x2fcade(0x631)](/\s\\frac/g,_0x2fcade(0x3a2)),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x5c4c7a,_0x29e177,_0x51e718,_0x4baef0)=>_0x29e177+'\x5cfrac{'+_0x51e718+'}{'+_0x4baef0+'}'),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x2fcade(0x631)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2fcade(0x76f)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2fcade(0x76f)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2fcade(0x76f)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2fcade(0x76f)],[/(\d+)\s*°\s*C/g,_0x2fcade(0x76f)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x2fcade(0x630)](([_0x1bac37,_0x34b966])=>{const _0x13e233=_0x2fcade;_0x5b402e=_0x5b402e[_0x13e233(0x631)](_0x1bac37,_0x34b966);}),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/(\d+)\s*%/g,_0x2fcade(0x3a3)),_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x2fcade(0x631)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2fcade(0x4f6))[_0x2fcade(0x631)](/\{\{([^\{\}]+)\}\}/g,_0x2fcade(0x166)),[_0x2fcade(0x223),_0x2fcade(0x671),_0x2fcade(0x44e),'log','ln'][_0x2fcade(0x630)](_0x88404=>{const _0x4b31c9=_0x2fcade;_0x5b402e=_0x5b402e['replace'](new RegExp(_0x4b31c9(0x18b)+_0x88404+_0x4b31c9(0x48f),'g'),(_0x251b65,_0x10796e)=>_0x10796e+'\x5c'+_0x88404+'(');});const _0x21625b=(_0x5b402e[_0x2fcade(0x1a8)](/\\left\b/g)||[])[_0x2fcade(0x7c4)],_0x22e01b=(_0x5b402e[_0x2fcade(0x1a8)](/\\right\b/g)||[])[_0x2fcade(0x7c4)];if(_0x21625b!==_0x22e01b)_0x5b402e=_0x5b402e[_0x2fcade(0x631)](/\\left\b/g,'')[_0x2fcade(0x631)](/\\right\b/g,'');return _0x5b402e=_0x3750b4(_0x5b402e),_0x5b402e;},_0x446e83=_0x54f997=>{const _0x4fd8fd=_0xc97eaf;if(/\$|\\\(|\\\[/[_0x4fd8fd(0x619)](_0x54f997))return _0x54f997;if(!_0x3d0adb['test'](_0x54f997))return _0x54f997;const _0x53520c=_0x54f997['match'](/^\s*/)[0x0],_0x74e2df=_0x54f997['match'](/\s*$/)[0x0],_0x2a20ff=_0x54f997[_0x4fd8fd(0x369)]();return _0x53520c+'$'+_0xa6f596(_0x2a20ff)+'$'+_0x74e2df;},_0xca9689=_0x2d0843=>_0x2d0843['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0xa5067e[_0xc97eaf(0x630)](_0x58107a=>{const _0x1edfe6=_0xc97eaf;if(_0x58107a[_0x1edfe6(0x26a)]&&_0x58107a['querySelector'](_0x1edfe6(0x4d9)))return;const _0x1c1a34=_0x3ef5b7(_0x58107a);let _0xc67c82=_0x4db2e6(_0x1c1a34);_0xc67c82=_0xc67c82['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x52b744,_0x2aa562)=>'$$'+_0xa6f596(_0x2aa562)+'$$')[_0x1edfe6(0x631)](/\$([^$]*?)\$/g,(_0x45f52b,_0x4491ee)=>'$'+_0xa6f596(_0x4491ee)+'$')[_0x1edfe6(0x631)](/\\\(([\s\S]*?)\\\)/g,(_0x1e8486,_0x7605a)=>'\x5c('+_0xa6f596(_0x7605a)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x1fca64,_0xe5a8f0)=>'\x5c['+_0xa6f596(_0xe5a8f0)+'\x5c]');let _0x5f06b0=_0xc67c82,_0x51e557=0x0;const _0x4bc53e=_0x112657=>_0x112657[_0x1edfe6(0x631)](/S([^S]{0,2000}?)S/g,(_0x4892b2,_0x2aafc8)=>_0x3d0adb['test'](_0x2aafc8)?'$'+_0xa6f596(_0x2aafc8)+'$':_0x4892b2);while(_0x51e557++<0x14){const _0x528b76=_0x4bc53e(_0x5f06b0);if(_0x528b76===_0x5f06b0)break;_0x5f06b0=_0x528b76;}_0xc67c82=_0x5f06b0,_0xc67c82=_0xc67c82[_0x1edfe6(0x45a)]('\x0a')[_0x1edfe6(0x5a8)](_0x131447=>{const _0x29b109=_0x1edfe6;if(!(/[,\u3001，;；]/['test'](_0x131447)||/\s(?:และ|หรือ)\s/[_0x29b109(0x619)](_0x131447))||!_0x3d0adb[_0x29b109(0x619)](_0x131447))return _0x131447;return _0xca9689(_0x131447)[_0x29b109(0x5a8)](_0x4bf377=>{const _0x15563c=_0x29b109;if(/^\s(?:และ|หรือ)\s$/[_0x15563c(0x619)](_0x4bf377)||/^[,\u3001，;；]$/[_0x15563c(0x619)](_0x4bf377))return _0x4bf377;return _0x446e83(_0x4bf377);})[_0x29b109(0x8dc)]('');})['join']('\x0a'),_0xc67c82=_0xc67c82[_0x1edfe6(0x45a)]('\x0a')[_0x1edfe6(0x5a8)](_0x1c8645=>{const _0x5410f4=_0x1edfe6,_0x5d60f4=_0x1c8645[_0x5410f4(0x369)]();if(!_0x5d60f4)return _0x1c8645;const _0x7f4b51=/\$|\\\(|\\\[/['test'](_0x5d60f4),_0xe8690e=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x5d60f4);if(_0x7f4b51||!_0xe8690e||_0x16425(_0x5d60f4))return _0x1c8645;return _0x1c8645['replace'](_0x5d60f4,'$'+_0xa6f596(_0x5d60f4)+'$');})[_0x1edfe6(0x8dc)]('\x0a'),_0xc67c82=_0xc67c82[_0x1edfe6(0x631)](/(\d+)\s*°\s*C\b/g,(_0x9df942,_0x30b499,_0x34f98b,_0x1d1689)=>{const _0x51c123=_0x1d1689[_0x34f98b-0x1];if(_0x51c123==='$'||_0x51c123==='S'||_0x51c123==='\x5c')return _0x9df942;return'$'+_0x30b499+'^{\x5ccirc}\x5ctext{C}$';})[_0x1edfe6(0x631)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x305305,_0x1acc29,_0x4f4b78,_0x1b6766)=>{const _0x14f063=_0x1edfe6,_0x5b2d40=_0x1b6766[_0x4f4b78-0x1];if(_0x5b2d40==='$'||_0x5b2d40==='S'||_0x5b2d40==='\x5c')return _0x305305;return'$'+_0x1acc29+_0x14f063(0x7d0);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5e8362,_0x3b9202,_0x144506,_0x641171)=>{const _0x308010=_0x1edfe6,_0x195e20=_0x641171[_0x144506-0x1];if(_0x195e20==='$'||_0x195e20==='S'||_0x195e20==='\x5c')return _0x5e8362;return'$'+_0x3b9202+_0x308010(0x7d0);}),_0xc67c82=_0xc67c82[_0x1edfe6(0x631)](/\$\s*\$/g,'$$'),_0xc67c82!==_0x1c1a34&&(_0x496e7a(_0x58107a,_0xc67c82),_0x8392af++);});if(_0x8392af>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x8392af+_0xc97eaf(0x8a0));try{if(window[_0xc97eaf(0x56d)]&&MathJax[_0xc97eaf(0x190)])MathJax[_0xc97eaf(0x190)]();window['katex']&&typeof renderMathInElement===_0xc97eaf(0x2f6)&&renderMathInElement(_0x27a2c4,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x5d9ffc){}}else showMessage(_0xc97eaf(0x507));}async function listenForCustomMathTopics(){const _0x277563=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x277563,_0x1563fd=>{const _0x2adb77=_0xb61e;customMathTopics=_0x1563fd[_0x2adb77(0x69f)][_0x2adb77(0x5a8)](_0x16a462=>({'id':_0x16a462['id'],..._0x16a462[_0x2adb77(0x7e6)]()})),renderTopicCheckboxes();},_0x15a833=>{const _0x55d281=_0xb61e;console['error'](_0x55d281(0x6d8),_0x15a833);});}function handleSelectAllTopics(){const _0x907096=_0x338e4c,_0x55cb02=document['getElementById'](_0x907096(0x53d)),_0x2fe288=_0x55cb02[_0x907096(0x51a)](_0x907096(0x2bb));_0x2fe288[_0x907096(0x630)](_0x4098ef=>{const _0x25399d=_0x907096;_0x4098ef[_0x25399d(0x800)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2e72a6=_0x338e4c,_0x2f7e2d=document[_0x2e72a6(0x683)](_0x2e72a6(0x53d)),_0x75db2c=_0x2f7e2d[_0x2e72a6(0x51a)](_0x2e72a6(0x2bb));_0x75db2c[_0x2e72a6(0x630)](_0x5d98c7=>{_0x5d98c7['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x14a34c){const _0x31802f=_0x338e4c;if(!_0x14a34c)return;try{const _0x36fbf6=doc(db,_0x31802f(0x79b)+appId+_0x31802f(0x62f),_0x14a34c);await deleteDoc(_0x36fbf6),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x3fd2d8){console[_0x31802f(0x7ad)](_0x31802f(0x3f5),_0x3fd2d8),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x40432f=_0x338e4c,_0x3c07dc=document[_0x40432f(0x683)](_0x40432f(0x34e)),_0x2230a2=_0x3c07dc['value'][_0x40432f(0x369)]();if(!_0x2230a2){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x5ef3b1=collection(db,_0x40432f(0x79b)+appId+_0x40432f(0x62f));await addDoc(_0x5ef3b1,{'name':_0x2230a2,'createdAt':serverTimestamp()}),_0x3c07dc[_0x40432f(0x1e4)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x2230a2+_0x40432f(0x1be));}catch(_0x2c7229){console[_0x40432f(0x7ad)]('Error\x20adding\x20custom\x20topic:',_0x2c7229),showMessage(_0x40432f(0x15e));}}async function initialize(){const _0x946312=_0x338e4c;try{const _0x286cf3=initializeApp(firebaseConfig);db=getFirestore(_0x286cf3),auth=getAuth(_0x286cf3),setupAuthListener(),setupEventListeners(),showView(_0x946312(0x65f)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x95a0b6){console[_0x946312(0x7ad)](_0x946312(0x23b),_0x95a0b6),showMessage(_0x946312(0x62b));}}async function handleVerifyAnswersInEditor(){const _0x4a588d=_0x338e4c,_0x26e38b=document[_0x4a588d(0x683)](_0x4a588d(0x591));if(!_0x26e38b)return;const _0x43d436=document[_0x4a588d(0x683)](_0x4a588d(0x2af));_0x43d436[_0x4a588d(0x442)]=!![],_0x43d436['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x7c8399=_0x26e38b[_0x4a588d(0x51a)](_0x4a588d(0x21f)),_0x3d3028=Array['from'](_0x7c8399)[_0x4a588d(0x5a8)]((_0x44b41b,_0x5f16c5)=>{const _0x20bc2f=_0x4a588d,_0x4a18da=_0x44b41b['dataset'][_0x20bc2f(0x828)],_0x4fd489=_0x44b41b[_0x20bc2f(0x26a)]('textarea')[_0x20bc2f(0x1e4)];let _0x2d17a7=null,_0x36617c='';switch(_0x4a18da){case _0x20bc2f(0x41d):const _0x26450a=_0x44b41b[_0x20bc2f(0x51a)](_0x20bc2f(0x46b));_0x2d17a7=Array[_0x20bc2f(0x459)](_0x26450a)[_0x20bc2f(0x5a8)](_0x4871ce=>_0x4871ce[_0x20bc2f(0x1e4)]);const _0x6d5bbb=_0x44b41b[_0x20bc2f(0x26a)](_0x20bc2f(0x879));_0x6d5bbb&&(_0x36617c=_0x2d17a7[parseInt(_0x6d5bbb['value'])]);break;case _0x20bc2f(0x81d):_0x36617c=_0x44b41b[_0x20bc2f(0x26a)]('.ideal-answer-input')[_0x20bc2f(0x1e4)];break;case'true_false':const _0xc9d46d=_0x44b41b['querySelector']('input[type=\x22radio\x22]:checked');_0x36617c=_0xc9d46d?_0xc9d46d['value']:'';break;case _0x20bc2f(0x526):_0x36617c=_0x44b41b[_0x20bc2f(0x26a)](_0x20bc2f(0x742))['value'];break;}return{'question':_0x4fd489,'options':_0x2d17a7,'proposedAnswer':_0x36617c};}),_0x598c08=_0x4a588d(0x7cd)+JSON[_0x4a588d(0x23a)](_0x3d3028)+_0x4a588d(0x35f),_0x57e6da={'type':_0x4a588d(0x820),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4a588d(0x540)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x4a588d(0x858)}},'required':[_0x4a588d(0x52c),'isCorrect',_0x4a588d(0x8d1)]}},_0x48e8bb=await callAnalysisApi(_0x598c08,{'type':_0x4a588d(0x2db),'properties':{'result':_0x57e6da},'required':[_0x4a588d(0x7e5)]});displayVerificationResultsInEditor(_0x48e8bb['result']);}catch(_0x185c1c){console[_0x4a588d(0x7ad)](_0x4a588d(0x776),_0x185c1c),showMessage(_0x4a588d(0x653));}finally{_0x43d436['disabled']=![],_0x43d436[_0x4a588d(0x57a)]=_0x4a588d(0x3f8);}}function displayVerificationResultsInEditor(_0x39face){const _0x44b975=_0x338e4c;_0x39face[_0x44b975(0x630)](_0x2314aa=>{const _0x5e5791=_0x44b975,_0x4a2613=document['querySelector'](_0x5e5791(0x15c)+_0x2314aa[_0x5e5791(0x52c)]+'\x22]');if(_0x4a2613){const _0x169be7=_0x4a2613[_0x5e5791(0x26a)](_0x5e5791(0x851));if(_0x169be7)_0x169be7['remove']();let _0x2425ca='';_0x2314aa['isCorrect']?_0x2425ca=_0x5e5791(0x5e8):_0x2425ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2314aa['justification']+_0x5e5791(0x3f4)+(_0x2314aa[_0x5e5791(0x239)]?_0x5e5791(0x61c)+_0x2314aa[_0x5e5791(0x239)]+_0x5e5791(0x73d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4a2613[_0x5e5791(0x18f)](_0x5e5791(0x7c8),_0x2425ca);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x6ba09a=_0x338e4c;if(!currentQuizData||!currentQuizData[_0x6ba09a(0x543)]){showMessage(_0x6ba09a(0x7f2));return;}const _0x32d169=document[_0x6ba09a(0x683)]('verify-answers-btn');_0x32d169[_0x6ba09a(0x442)]=!![],_0x32d169['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x40e58b=currentQuizData[_0x6ba09a(0x543)][_0x6ba09a(0x5a8)]((_0x3136d7,_0x2a3261)=>{const _0x1d28e7=_0x6ba09a;let _0x15d1fc='';const _0x4c398d=_0x3136d7[_0x1d28e7(0x878)]||currentQuizData[_0x1d28e7(0x4ad)];switch(_0x4c398d){case _0x1d28e7(0x41d):_0x15d1fc=_0x3136d7[_0x1d28e7(0x4a4)][_0x3136d7['correctAnswerIndex']];break;case'short_answer':_0x15d1fc=_0x3136d7[_0x1d28e7(0x4f0)];break;case'true_false':_0x15d1fc=_0x3136d7[_0x1d28e7(0x2b0)][_0x1d28e7(0x777)]();break;case _0x1d28e7(0x526):_0x15d1fc=_0x3136d7['correctResponse'];break;}return{'question':_0x3136d7[_0x1d28e7(0x2de)]||_0x3136d7[_0x1d28e7(0x66e)],'options':_0x3136d7[_0x1d28e7(0x4a4)]||null,'proposedAnswer':_0x15d1fc};}),_0x10b9a0=_0x6ba09a(0x19d)+JSON[_0x6ba09a(0x23a)](_0x40e58b)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x576297={'type':_0x6ba09a(0x820),'items':{'type':_0x6ba09a(0x2db),'properties':{'questionIndex':{'type':_0x6ba09a(0x540)},'isCorrect':{'type':_0x6ba09a(0x64c)},'justification':{'type':_0x6ba09a(0x858)},'suggestedAnswer':{'type':_0x6ba09a(0x858)}},'required':[_0x6ba09a(0x52c),'isCorrect',_0x6ba09a(0x8d1)]}},_0x2ed678=await callAnalysisApi(_0x10b9a0,{'type':'OBJECT','properties':{'result':_0x576297},'required':[_0x6ba09a(0x7e5)]});displayVerificationResults(_0x2ed678['result']);}catch(_0x5cfabf){console[_0x6ba09a(0x7ad)](_0x6ba09a(0x71c),_0x5cfabf),showMessage(_0x6ba09a(0x653));}finally{_0x32d169[_0x6ba09a(0x442)]=![],_0x32d169['innerHTML']=_0x6ba09a(0x355);}}function displayVerificationResults(_0x1d1479){const _0x33a0eb=_0x338e4c;_0x1d1479[_0x33a0eb(0x630)](_0x3c3a66=>{const _0x32519f=_0x33a0eb,_0x2d1476=document[_0x32519f(0x26a)](_0x32519f(0x1cc)+_0x3c3a66[_0x32519f(0x52c)]+'\x22]');if(_0x2d1476){const _0x2f2fad=_0x2d1476[_0x32519f(0x26a)](_0x32519f(0x832));if(_0x2f2fad)_0x2f2fad[_0x32519f(0x2da)]();let _0x49ffdd='';_0x3c3a66['isCorrect']?_0x49ffdd=_0x32519f(0x698):_0x49ffdd=_0x32519f(0x371)+_0x3c3a66[_0x32519f(0x8d1)]+_0x32519f(0x3f4)+(_0x3c3a66['suggestedAnswer']?_0x32519f(0x61c)+_0x3c3a66[_0x32519f(0x239)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d1476[_0x32519f(0x18f)](_0x32519f(0x7c8),_0x49ffdd);}}),showMessage(_0x33a0eb(0x280));}function compareNumericalAnswers(_0x59499d,_0x1ecb9b){const _0x422b5a=_0x338e4c,_0x374af7=String(_0x59499d)['replace'](',','.')[_0x422b5a(0x631)](/[^\d.-]/g,'')['trim'](),_0x2e2ab3=String(_0x1ecb9b)[_0x422b5a(0x631)](',','.')[_0x422b5a(0x631)](/[^\d.-]/g,'')[_0x422b5a(0x369)]();if(_0x374af7===''||_0x2e2ab3==='')return![];const _0x308ece=parseFloat(_0x374af7),_0x11c999=parseFloat(_0x2e2ab3);if(isNaN(_0x308ece)||isNaN(_0x11c999))return![];return Math[_0x422b5a(0x6be)](_0x308ece-_0x11c999)<0.001;}async function gradeShortAnswer(_0x46c872,_0x134091){const _0x3f0679=_0x338e4c,_0x2edf0d=_0x134091[_0x3f0679(0x4f0)];if(String(_0x46c872)[_0x3f0679(0x369)]()[_0x3f0679(0x797)]()===String(_0x2edf0d)[_0x3f0679(0x369)]()[_0x3f0679(0x797)]())return!![];if(compareNumericalAnswers(_0x46c872,_0x2edf0d))return!![];return console[_0x3f0679(0x3c8)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x46c872,_0x2edf0d);}async function revealAnswerForAdmin(_0x439e2c,_0x5a0819){const _0x5a1450=_0x338e4c;if(document[_0x5a1450(0x683)](_0x5a1450(0x77f)))return;const _0x136fe2=doc(db,_0x5a1450(0x79b)+appId+_0x5a1450(0x86d),currentLiveGameId);await updateDoc(_0x136fe2,{'questionStatus':'revealed'});const _0x1d60bb=liveGameView['querySelector'](_0x5a1450(0x857));_0x1d60bb&&(_0x1d60bb[_0x5a1450(0x274)]['remove'](_0x5a1450(0x250)),_0x1d60bb['classList'][_0x5a1450(0x2e7)](_0x5a1450(0x4fc),_0x5a1450(0x882),'font-bold',_0x5a1450(0x658),_0x5a1450(0x611)),_0x1d60bb[_0x5a1450(0x57a)]=_0x5a1450(0x4eb)+_0x1d60bb['innerHTML']);const _0x193b33=document[_0x5a1450(0x683)]('admin-action-buttons');_0x193b33&&(_0x193b33['innerHTML']=_0x5a1450(0x363)+(_0x439e2c+0x1===_0x5a0819?_0x5a1450(0x609):'ข้อต่อไป')+_0x5a1450(0x25a),document['getElementById'](_0x5a1450(0x77f))[_0x5a1450(0x4aa)]('click',async()=>{const _0x555df5=_0x5a1450,_0x2b0bf0=doc(db,_0x555df5(0x79b)+appId+_0x555df5(0x86d),currentLiveGameId),_0x48f273=await getDoc(_0x2b0bf0);if(!_0x48f273['exists']())return;const _0xe9ac95=_0x48f273['data'](),_0x3df03a={};if(_0xe9ac95[_0x555df5(0x378)])for(const _0x48ef48 in _0xe9ac95['players']){_0x3df03a[_0x555df5(0x3e5)+_0x48ef48+_0x555df5(0x221)]=![];}const _0x310a98=_0x439e2c+0x1;_0x310a98<_0x5a0819?(_0x3df03a[_0x555df5(0x48a)]=_0x310a98,_0x3df03a[_0x555df5(0x769)]=serverTimestamp(),_0x3df03a[_0x555df5(0x375)]=_0x555df5(0x8eb),await updateDoc(_0x2b0bf0,_0x3df03a)):await updateDoc(_0x2b0bf0,{'status':_0x555df5(0x2bf)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x419941=>{const _0x16676b=_0xb61e;if(_0x419941){userId=_0x419941['uid'],userIdDisplay[_0x16676b(0x603)]=userId;const _0x45b7a9=await loadUserPreferences();_0x45b7a9['projectSortOrder']&&(document[_0x16676b(0x683)]('project-sort-select')[_0x16676b(0x1e4)]=_0x45b7a9[_0x16676b(0x796)]);globalDashboardSettings['projectView']=_0x45b7a9[_0x16676b(0x605)]||_0x16676b(0x447);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x41f85b,_0x156fca){const _0x2e4df1=_0x338e4c;if(!userId)return;try{const _0x579b6f=doc(db,_0x2e4df1(0x79b)+appId+_0x2e4df1(0x3bf)+userId+'/preferences/main'),_0x5c7b36={};_0x5c7b36[_0x41f85b]=_0x156fca,await setDoc(_0x579b6f,_0x5c7b36,{'merge':!![]});}catch(_0x58f805){console[_0x2e4df1(0x7ad)](_0x2e4df1(0x23e),_0x58f805);}}async function loadUserPreferences(){const _0x5aa279=_0x338e4c;if(!userId)return{};try{const _0x567d65=doc(db,_0x5aa279(0x79b)+appId+_0x5aa279(0x3bf)+userId+_0x5aa279(0x332)),_0x43a9bc=await getDoc(_0x567d65);if(_0x43a9bc['exists']())return _0x43a9bc[_0x5aa279(0x7e6)]();return{};}catch(_0x198857){return console[_0x5aa279(0x7ad)](_0x5aa279(0x5fe),_0x198857),{};}}function showPodiumView(_0x1277a0){const _0x540e81=_0x338e4c,_0x288a67=Object[_0x540e81(0x86c)](_0x1277a0)[_0x540e81(0x5a8)](([_0x1641ff,_0x2f4c95])=>({'name':_0x1641ff,'score':_0x2f4c95[_0x540e81(0x69c)]||0x0,'badges':_0x2f4c95['badges']||[]}));_0x288a67[_0x540e81(0x53c)]((_0x363056,_0x58afe0)=>{const _0x575ff3=_0x540e81,_0x491fa9=_0x58afe0[_0x575ff3(0x69c)]-_0x363056[_0x575ff3(0x69c)];if(_0x491fa9!==0x0)return _0x491fa9;return(_0x58afe0[_0x575ff3(0x510)][_0x575ff3(0x7c4)]||0x0)-(_0x363056['badges'][_0x575ff3(0x7c4)]||0x0);});const _0x32fa07=_0x29cef5=>{const _0x115af3=_0x540e81;if(!_0x29cef5||_0x29cef5[_0x115af3(0x7c4)]===0x0)return'';const _0xfee72e={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x115af3(0x6e8)+_0x29cef5[_0x115af3(0x5a8)](_0x3982e3=>_0xfee72e[_0x3982e3]||'')[_0x115af3(0x8dc)]('')+_0x115af3(0x1e9);},_0x4a7509=_0x288a67[_0x540e81(0x3c3)](0x3),_0x3c66b4=_0x4a7509[_0x540e81(0x7c4)]>0x0?_0x540e81(0x335)+_0x4a7509[_0x540e81(0x5a8)]((_0xa58003,_0x2c0197)=>_0x540e81(0x2bc)+(_0x2c0197+0x4)+_0x540e81(0x4dd)+_0xa58003[_0x540e81(0x289)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0xa58003[_0x540e81(0x69c)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x540e81(0x8dc)]('')+_0x540e81(0x4df):'',_0x8c7a66='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x288a67[0x1]?_0x540e81(0x63d)+_0x288a67[0x1][_0x540e81(0x289)]+_0x540e81(0x73f)+_0x32fa07(_0x288a67[0x1][_0x540e81(0x510)])+_0x540e81(0x155)+_0x288a67[0x1][_0x540e81(0x69c)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x540e81(0x2ea))+_0x540e81(0x464)+(_0x288a67[0x0]?_0x540e81(0x2a2)+_0x288a67[0x0][_0x540e81(0x289)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32fa07(_0x288a67[0x0][_0x540e81(0x510)])+_0x540e81(0x215)+_0x288a67[0x0]['score']+_0x540e81(0x1d4):_0x540e81(0x2ea))+_0x540e81(0x464)+(_0x288a67[0x2]?_0x540e81(0x8ef)+_0x288a67[0x2][_0x540e81(0x289)]+_0x540e81(0x73f)+_0x32fa07(_0x288a67[0x2]['badges'])+_0x540e81(0x155)+_0x288a67[0x2][_0x540e81(0x69c)]+_0x540e81(0x17e):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c66b4+_0x540e81(0x1e8)+(currentMode===_0x540e81(0x286)?_0x540e81(0x204):_0x540e81(0x4fd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x540e81(0x57a)]=_0x8c7a66,currentMode===_0x540e81(0x286)&&document[_0x540e81(0x683)](_0x540e81(0x825))[_0x540e81(0x4aa)](_0x540e81(0x32a),async()=>{const _0x56e689=_0x540e81,_0x4d37db=doc(db,_0x56e689(0x79b)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x4d37db),showView('admin-dashboard');});}async function handleStartLiveRace(_0x50f8ea){const _0xd1f4a7=_0x338e4c;let _0x7f8a5c=allQuizzes['find'](_0x2eb400=>_0x2eb400['id']===_0x50f8ea);if(!_0x7f8a5c){const _0x3b96c0=doc(db,'artifacts/'+appId+_0xd1f4a7(0x6ca),_0x50f8ea),_0x10a16d=await getDoc(_0x3b96c0);if(!_0x10a16d[_0xd1f4a7(0x837)]()){showMessage(_0xd1f4a7(0x34c));return;}_0x7f8a5c={'id':_0x10a16d['id'],..._0x10a16d[_0xd1f4a7(0x7e6)]()};}currentQuizData=getShuffledQuiz(_0x7f8a5c);const _0x49ab64=_0x7f8a5c[_0xd1f4a7(0x2cc)]||currentProjectId||null,_0x379713=Math['floor'](0x3e8+Math[_0xd1f4a7(0x297)]()*0x2328)[_0xd1f4a7(0x777)]();currentLiveGamePin=_0x379713;try{const _0x576abb=await addDoc(collection(db,_0xd1f4a7(0x79b)+appId+_0xd1f4a7(0x86d)),{'quizId':_0x50f8ea,'projectId':_0x49ab64,'status':_0xd1f4a7(0x50c),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x379713,'createdAt':serverTimestamp()});currentLiveGameId=_0x576abb['id'],showAdminLobbyView(_0x379713,_0x7f8a5c[_0xd1f4a7(0x8af)]),listenForLiveGameUpdates();}catch(_0x247b63){console[_0xd1f4a7(0x7ad)](_0xd1f4a7(0x7b4),_0x247b63),showMessage(_0xd1f4a7(0x732));}}async function handleShowStudentRankings(){const _0x4e50a3=_0x338e4c,_0x36ac3c=document[_0x4e50a3(0x26a)](_0x4e50a3(0x5d6));_0x36ac3c&&(_0x36ac3c[_0x4e50a3(0x57a)]=_0x4e50a3(0x1c8));const _0x3d5437=document[_0x4e50a3(0x26a)](_0x4e50a3(0x8a5));_0x3d5437&&(_0x3d5437[_0x4e50a3(0x57a)]=_0x4e50a3(0x675));const _0x2dafd4=document[_0x4e50a3(0x683)](_0x4e50a3(0x866));_0x2dafd4[_0x4e50a3(0x274)][_0x4e50a3(0x2da)](_0x4e50a3(0x8c6)),document[_0x4e50a3(0x683)](_0x4e50a3(0x64f))['onclick']=()=>_0x2dafd4['classList'][_0x4e50a3(0x2e7)](_0x4e50a3(0x8c6));const _0x417bb7=document[_0x4e50a3(0x683)](_0x4e50a3(0x7e2)),_0x4c68d7=document['getElementById']('student-project-leaderboard-tab'),_0x43bf12=document[_0x4e50a3(0x683)](_0x4e50a3(0x554)),_0x24d260=document['getElementById'](_0x4e50a3(0x82a));_0x417bb7[_0x4e50a3(0x838)]=()=>{const _0x370be4=_0x4e50a3;_0x417bb7['classList'][_0x370be4(0x2e7)](_0x370be4(0x32b)),_0x4c68d7[_0x370be4(0x274)][_0x370be4(0x2da)](_0x370be4(0x32b)),_0x43bf12[_0x370be4(0x274)][_0x370be4(0x2da)](_0x370be4(0x8c6)),_0x24d260['classList'][_0x370be4(0x2e7)](_0x370be4(0x8c6));},_0x4c68d7['onclick']=()=>{const _0x3fa110=_0x4e50a3;_0x4c68d7[_0x3fa110(0x274)][_0x3fa110(0x2e7)]('active'),_0x417bb7['classList'][_0x3fa110(0x2da)](_0x3fa110(0x32b)),_0x24d260[_0x3fa110(0x274)][_0x3fa110(0x2da)](_0x3fa110(0x8c6)),_0x43bf12[_0x3fa110(0x274)][_0x3fa110(0x2e7)]('hidden');};try{const _0x3ea441=collection(db,_0x4e50a3(0x79b)+appId+_0x4e50a3(0x649)+currentQuizData['id']+_0x4e50a3(0x287)),_0x421f19=await getDocs(_0x3ea441),_0x12ea3c=_0x421f19[_0x4e50a3(0x69f)][_0x4e50a3(0x5a8)](_0x237f91=>_0x237f91[_0x4e50a3(0x7e6)]());renderQuizLeaderboard(_0x12ea3c,currentQuizData,_0x4e50a3(0x241));const _0x4a8d86=collection(db,_0x4e50a3(0x79b)+appId+_0x4e50a3(0x4d0)+currentQuizData[_0x4e50a3(0x2cc)]+_0x4e50a3(0x17f)),_0x4e346f=await getDocs(_0x4a8d86),_0x338417=_0x4e346f[_0x4e50a3(0x69f)][_0x4e50a3(0x5a8)](_0x36fccb=>_0x36fccb[_0x4e50a3(0x7e6)]());renderLeaderboard(_0x338417,_0x4e50a3(0x3ba));}catch(_0x4b1137){console['error'](_0x4e50a3(0x21a),_0x4b1137),showMessage(_0x4e50a3(0x2e3));}}async function handleSaveToBank(_0x675c4d){const _0x1cbc98=_0x338e4c,_0x347785=_0x675c4d[_0x1cbc98(0x8ee)],_0x4ab995=_0x347785[_0x1cbc98(0x432)]['index'],_0x5f0668=currentQuizData[_0x1cbc98(0x543)][_0x4ab995];if(!userId){showMessage(_0x1cbc98(0x641));return;}try{const _0x46a062={..._0x5f0668,'originalTopic':currentQuizData[_0x1cbc98(0x8af)],'savedAt':serverTimestamp()},_0x3d50ba=collection(db,_0x1cbc98(0x79b)+appId+_0x1cbc98(0x3bf)+userId+_0x1cbc98(0x18c));await addDoc(_0x3d50ba,_0x46a062),showMessage(_0x1cbc98(0x5b7)),_0x347785[_0x1cbc98(0x274)][_0x1cbc98(0x2da)]('text-purple-600'),_0x347785['classList']['add']('text-green-600'),_0x347785[_0x1cbc98(0x442)]=!![];}catch(_0x487fa5){console[_0x1cbc98(0x7ad)](_0x1cbc98(0x32c),_0x487fa5),showMessage(_0x1cbc98(0x5a4));}}function listenForStarredQuizzes(){const _0xebcd38=_0x338e4c;if(!userId)return;const _0x4bc57a=collection(db,_0xebcd38(0x79b)+appId+'/public/data/quizzes'),_0x1f5a49=query(_0x4bc57a,where('isStarred','==',!![]));onSnapshot(_0x1f5a49,_0x22c318=>{const _0x5b5672=_0xebcd38;starredQuizzes=_0x22c318[_0x5b5672(0x69f)][_0x5b5672(0x5a8)](_0x5d3624=>({'id':_0x5d3624['id'],..._0x5d3624[_0x5b5672(0x7e6)]()})),currentProjectId===_0x5b5672(0x620)?renderQuizzes():renderProjects();},_0x3989c7=>{const _0x53fda3=_0xebcd38;console[_0x53fda3(0x7ad)](_0x53fda3(0x50e),_0x3989c7);});}function exportQuizAsWorksheetPDF(){const _0x4483b2=_0x338e4c;if(!currentQuizData||!currentQuizData[_0x4483b2(0x543)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x47d0f0=currentQuizData,_0x102d89=window['open']('','_blank'),_0x1f4697=_0x432fc6=>String[_0x4483b2(0x15b)](0x41+_0x432fc6),_0x522fd3=_0x4483b2(0x4e8)+_0x47d0f0['topic']+_0x4483b2(0x25d)+_0x47d0f0['topic']+_0x4483b2(0x217)+_0x47d0f0[_0x4483b2(0x543)]['map']((_0x3a5bdb,_0x550735)=>{const _0x2b6c89=_0x4483b2;let _0x1408ee='';const _0xa9645c=_0x3a5bdb[_0x2b6c89(0x878)]||_0x47d0f0[_0x2b6c89(0x4ad)];switch(_0xa9645c){case _0x2b6c89(0x41d):case _0x2b6c89(0x5f0):_0x1408ee='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x3a5bdb[_0x2b6c89(0x4a4)][_0x2b6c89(0x5a8)]((_0x14438f,_0x4956f8)=>_0x2b6c89(0x4b9)+_0x1f4697(_0x4956f8)+'.\x20'+_0x14438f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2b6c89(0x8dc)](_0x2b6c89(0x660))+_0x2b6c89(0x1e9);break;case'true_false':_0x1408ee='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x1408ee=_0x2b6c89(0x880);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x550735+0x1)+_0x2b6c89(0x616)+(_0x3a5bdb[_0x2b6c89(0x2de)]||_0x3a5bdb['questionText'])+_0x2b6c89(0x596)+(_0x3a5bdb['imageCode']?'<div\x20class=\x22my-2\x22>'+_0x3a5bdb[_0x2b6c89(0x45c)]+_0x2b6c89(0x1e9):'')+_0x2b6c89(0x78f)+_0x1408ee+_0x2b6c89(0x40d);})['join']('')+_0x4483b2(0x264);_0x102d89['document'][_0x4483b2(0x17c)](_0x522fd3),_0x102d89[_0x4483b2(0x490)][_0x4483b2(0x266)](),_0x102d89[_0x4483b2(0x189)]=function(){setTimeout(()=>{const _0x448024=_0xb61e;_0x102d89[_0x448024(0x493)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xd84942=_0x338e4c;if(!currentQuizData||!currentQuizData[_0xd84942(0x543)]){showMessage(_0xd84942(0x1a2));return;}const _0x495adc=currentQuizData,_0x147e60=window[_0xd84942(0x39c)]('','_blank'),_0xbd10fd=_0x3c8d24=>String['fromCharCode'](0x41+_0x3c8d24),_0x1d77f1=_0xd84942(0x869)+_0x495adc[_0xd84942(0x8af)]+_0xd84942(0x338)+_0x495adc[_0xd84942(0x543)][_0xd84942(0x5a8)]((_0x2e885b,_0x44026b)=>{const _0x3d71bf=_0xd84942;let _0x117f44='';const _0x537b45=_0x2e885b[_0x3d71bf(0x878)]||_0x495adc[_0x3d71bf(0x4ad)];switch(_0x537b45){case'multiple_choice':case _0x3d71bf(0x5f0):_0x117f44='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x2e885b[_0x3d71bf(0x4a4)][_0x3d71bf(0x5a8)]((_0x4c8f1c,_0x59f65d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xbd10fd(_0x59f65d)+'.\x20'+_0x4c8f1c+_0x3d71bf(0x70e))['join']('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3d71bf(0x743):_0x117f44=_0x3d71bf(0x22b);break;default:_0x117f44='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x495adc[_0x3d71bf(0x8af)]+_0x3d71bf(0x268)+(_0x44026b+0x1)+_0x3d71bf(0x811)+(_0x2e885b[_0x3d71bf(0x2de)]||_0x2e885b[_0x3d71bf(0x66e)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2e885b[_0x3d71bf(0x45c)]?_0x3d71bf(0x8b8)+_0x2e885b[_0x3d71bf(0x45c)]+'</div>':'')+_0x3d71bf(0x78f)+_0x117f44+_0x3d71bf(0x7e0);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x147e60['document'][_0xd84942(0x17c)](_0x1d77f1),_0x147e60[_0xd84942(0x490)][_0xd84942(0x266)](),_0x147e60[_0xd84942(0x189)]=function(){setTimeout(()=>{const _0x38c387=_0xb61e;_0x147e60[_0x38c387(0x493)]();},0x5dc);};}async function handleToggleStarQuiz(_0x399534){const _0x3e9942=_0x338e4c,_0x3a0498=doc(db,_0x3e9942(0x79b)+appId+_0x3e9942(0x6ca),_0x399534);try{const _0x38d4b6=await getDoc(_0x3a0498);if(_0x38d4b6[_0x3e9942(0x837)]()){const _0x310c34=_0x38d4b6[_0x3e9942(0x7e6)]()['isStarred']||![];await updateDoc(_0x3a0498,{'isStarred':!_0x310c34});}}catch(_0x21620c){console[_0x3e9942(0x7ad)](_0x3e9942(0x4f1),_0x21620c),showMessage(_0x3e9942(0x3fa));}}async function displayQuestionBank(){const _0x231098=_0x338e4c,_0x70eaf5=document['getElementById'](_0x231098(0x45b));_0x70eaf5[_0x231098(0x57a)]=_0x231098(0x612);try{const _0x54db4c=collection(db,_0x231098(0x79b)+appId+_0x231098(0x3bf)+userId+_0x231098(0x18c)),_0x5f0a87=query(_0x54db4c),_0x5eaa15=await getDocs(_0x5f0a87);if(_0x5eaa15['empty']){_0x70eaf5[_0x231098(0x57a)]=_0x231098(0x15d);return;}let _0xa589a3=_0x5eaa15[_0x231098(0x69f)][_0x231098(0x5a8)](_0xa82afd=>{const _0x31c19e=_0x231098,_0x30fa70=_0xa82afd[_0x31c19e(0x7e6)](),_0x53b813=_0xa82afd['id'];return _0x31c19e(0x48c)+JSON[_0x31c19e(0x23a)](_0x30fa70)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x30fa70[_0x31c19e(0x66e)]||_0x30fa70[_0x31c19e(0x2de)])+_0x31c19e(0x6e3)+_0x30fa70[_0x31c19e(0x305)]+_0x31c19e(0x24d);})[_0x231098(0x8dc)]('');_0x70eaf5[_0x231098(0x57a)]=_0x231098(0x367)+_0xa589a3+_0x231098(0x846),document['getElementById']('create-from-bank-btn')[_0x231098(0x4aa)](_0x231098(0x32a),createQuizFromBank);}catch(_0x264d2d){console[_0x231098(0x7ad)](_0x231098(0x8e7),_0x264d2d),_0x70eaf5[_0x231098(0x57a)]=_0x231098(0x7ed);}}function showAdminLiveQuestionView(_0x36144b,_0x3fa433,_0x4c2aab){const _0x4c061a=_0x338e4c,_0x1b69ae=_0x36144b[_0x4c061a(0x878)]||currentQuizData['quizType'];let _0x519d9a='';if(_0x1b69ae==='multiple_choice'||_0x1b69ae===_0x4c061a(0x743)){const _0x57c8a8=_0x1b69ae===_0x4c061a(0x743)?['ใช่',_0x4c061a(0x5c8)]:_0x36144b[_0x4c061a(0x4a4)],_0xee8738=_0x1b69ae===_0x4c061a(0x743)?_0x36144b[_0x4c061a(0x2b0)]?0x0:0x1:_0x36144b[_0x4c061a(0x248)];_0x519d9a=_0x57c8a8[_0x4c061a(0x5a8)]((_0x20bab6,_0x216601)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x216601===_0xee8738)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20bab6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4c061a(0x8dc)]('');}else{if(_0x1b69ae==='matching_item'){const _0x3dbb94=_0x36144b[_0x4c061a(0x5a6)]||[];_0x519d9a=_0x3dbb94[_0x4c061a(0x5a8)](_0x474573=>_0x4c061a(0x43b)+(_0x474573===_0x36144b[_0x4c061a(0x328)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x474573+_0x4c061a(0x42a))[_0x4c061a(0x8dc)]('');}}const _0xa71964=_0x36144b['stem']||_0x36144b['questionText'],_0x21e4c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3fa433+0x1)+_0x4c061a(0x827)+_0x4c2aab+_0x4c061a(0x43e)+_0xa71964+_0x4c061a(0x33a)+_0x519d9a+_0x4c061a(0x628);liveGameView[_0x4c061a(0x57a)]=_0x21e4c7;window[_0x4c061a(0x56d)]&&MathJax[_0x4c061a(0x190)]&&MathJax['typesetPromise']([liveGameView]);const _0x2b4f21=document[_0x4c061a(0x683)](_0x4c061a(0x1ea));document[_0x4c061a(0x683)](_0x4c061a(0x55a))['addEventListener']('click',async()=>{const _0x2edcaf=_0x4c061a,_0xc4d002=doc(db,_0x2edcaf(0x79b)+appId+_0x2edcaf(0x86d),currentLiveGameId);await updateDoc(_0xc4d002,{'questionStatus':_0x2edcaf(0x79f)});const _0xe93df0=liveGameView[_0x2edcaf(0x26a)](_0x2edcaf(0x857));_0xe93df0&&(_0xe93df0[_0x2edcaf(0x274)][_0x2edcaf(0x2da)]('bg-white/30'),_0xe93df0[_0x2edcaf(0x274)][_0x2edcaf(0x2e7)](_0x2edcaf(0x4fc),_0x2edcaf(0x882),'font-bold',_0x2edcaf(0x658),'border-green-500'),_0xe93df0[_0x2edcaf(0x57a)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0xe93df0[_0x2edcaf(0x57a)]),_0x2b4f21[_0x2edcaf(0x57a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3fa433+0x1===_0x4c2aab?'ดูสรุปผล':_0x2edcaf(0x714))+_0x2edcaf(0x25a),document[_0x2edcaf(0x683)](_0x2edcaf(0x77f))[_0x2edcaf(0x4aa)]('click',async()=>{const _0x10f6be=_0x2edcaf,_0x1fd830=doc(db,'artifacts/'+appId+_0x10f6be(0x86d),currentLiveGameId),_0x29d4f2=await getDoc(_0x1fd830);if(!_0x29d4f2[_0x10f6be(0x837)]())return;const _0x38f1f6=_0x29d4f2[_0x10f6be(0x7e6)](),_0x58f961={};if(_0x38f1f6['players'])for(const _0x139da7 in _0x38f1f6[_0x10f6be(0x378)]){_0x58f961[_0x10f6be(0x3e5)+_0x139da7+'.answeredCurrentQuestion']=![];}const _0x1316e7=_0x3fa433+0x1;_0x1316e7<_0x4c2aab?(_0x58f961[_0x10f6be(0x48a)]=_0x1316e7,_0x58f961[_0x10f6be(0x769)]=serverTimestamp(),_0x58f961[_0x10f6be(0x375)]=_0x10f6be(0x8eb),await updateDoc(_0x1fd830,_0x58f961)):await updateDoc(_0x1fd830,{'status':_0x10f6be(0x2bf)});});}),document['getElementById'](_0x4c061a(0x600))[_0x4c061a(0x4aa)]('click',async()=>{const _0x439341=_0x4c061a,_0x305e78=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x305e78),showView(_0x439341(0x707));});}function showStudentLiveQuestionView(_0xd3a036,_0x19c0d6,_0x52bf04){const _0x1608bb=_0x338e4c,_0x4fd80d=_0xd3a036['questionType']||currentQuizData[_0x1608bb(0x4ad)];let _0x56b818='';if(_0x4fd80d===_0x1608bb(0x41d)||_0x4fd80d===_0x1608bb(0x743)){const _0x237bde=_0x4fd80d===_0x1608bb(0x743)?['ใช่',_0x1608bb(0x5c8)]:_0xd3a036[_0x1608bb(0x4a4)];_0x56b818=_0x237bde[_0x1608bb(0x5a8)]((_0x196698,_0x2ee89c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2ee89c+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x196698+_0x1608bb(0x382))[_0x1608bb(0x8dc)]('');}else{if(_0x4fd80d===_0x1608bb(0x526)){const _0x139389=_0xd3a036[_0x1608bb(0x5a6)]||[];_0x56b818=_0x139389[_0x1608bb(0x5a8)]((_0x24c7f5,_0xfd993d)=>_0x1608bb(0x55e)+_0xfd993d+_0x1608bb(0x33e)+_0x24c7f5+_0x1608bb(0x382))[_0x1608bb(0x8dc)]('');}else _0x4fd80d===_0x1608bb(0x81d)&&(_0x56b818='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x41584a=_0xd3a036['stem']||_0xd3a036[_0x1608bb(0x66e)],_0x1de463=_0x1608bb(0x39e)+(_0x19c0d6+0x1)+_0x1608bb(0x827)+_0x52bf04+_0x1608bb(0x258)+_0x41584a+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56b818+_0x1608bb(0x4af);liveGameView[_0x1608bb(0x57a)]=_0x1de463;window[_0x1608bb(0x56d)]&&MathJax[_0x1608bb(0x190)]&&MathJax[_0x1608bb(0x190)]([liveGameView]);const _0x120cd0=document[_0x1608bb(0x683)](_0x1608bb(0x4c0));_0x120cd0&&_0x120cd0[_0x1608bb(0x4aa)](_0x1608bb(0x32a),()=>{const _0x30d837=_0x1608bb,_0x2767c9=document[_0x30d837(0x683)]('live-short-answer-input')[_0x30d837(0x1e4)];handleLiveAnswer(_0x2767c9,_0xd3a036);}),document[_0x1608bb(0x683)]('live-options-container')['addEventListener'](_0x1608bb(0x32a),_0x53c49c=>{const _0x418a64=_0x1608bb,_0x40ac79=_0x53c49c['target']['closest']('.live-answer-btn');if(_0x40ac79){const _0x31783a=parseInt(_0x40ac79[_0x418a64(0x432)][_0x418a64(0x806)]);handleLiveAnswer(_0x31783a,_0xd3a036);}});}async function handleLiveAnswer(_0x32b6b8,_0x2bbbb5){const _0x34019d=_0x338e4c;document[_0x34019d(0x51a)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x34019d(0x630)](_0x36c66f=>_0x36c66f[_0x34019d(0x442)]=!![]);const _0xe3e143=_0x2bbbb5[_0x34019d(0x878)]||currentQuizData[_0x34019d(0x4ad)];let _0x445502=![];if(_0xe3e143===_0x34019d(0x81d)){const _0x1c0ad0=(_0x32b6b8||'')[_0x34019d(0x777)]();_0x445502=await gradeShortAnswer(_0x1c0ad0,_0x2bbbb5);}else{if(_0xe3e143===_0x34019d(0x41d))_0x445502=_0x32b6b8===_0x2bbbb5[_0x34019d(0x248)];else{if(_0xe3e143===_0x34019d(0x743)){const _0x3270ae=_0x2bbbb5['correctAnswer'];_0x445502=_0x32b6b8===0x0&&_0x3270ae||_0x32b6b8===0x1&&!_0x3270ae;}else{if(_0xe3e143===_0x34019d(0x526)){const _0x2f2a56=_0x2bbbb5[_0x34019d(0x5a6)][_0x32b6b8];_0x445502=_0x2f2a56===_0x2bbbb5[_0x34019d(0x328)];}}}}const _0x5e619d=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4cf6ed=await getDoc(_0x5e619d);if(!_0x4cf6ed[_0x34019d(0x837)]())return;const _0x127d04=_0x4cf6ed[_0x34019d(0x7e6)](),_0x470fef=_0x127d04['players'][currentStudentName];let _0x1b56db=_0x470fef[_0x34019d(0x510)]||[],_0x111ca2=_0x470fef[_0x34019d(0x564)]||0x0;const _0x30490d={};let _0x1f863b=0x0;if(_0x127d04['questionDisplayedAt']){const _0x569d7c=_0x127d04['questionDisplayedAt'][_0x34019d(0x1f1)](),_0x13565b=new Date()-_0x569d7c;if(_0x445502){const _0x1d13d5=0x3e8,_0x91fa1a=0x1f4,_0x5a6312=0x4e20;let _0x55c25d=_0x13565b/_0x5a6312;if(_0x55c25d>0x1)_0x55c25d=0x1;const _0xb26e02=Math[_0x34019d(0x647)](_0x55c25d*_0x91fa1a);_0x1f863b=_0x1d13d5-_0xb26e02,_0x13565b<=0x1388&&!_0x1b56db['includes'](_0x34019d(0x595))&&_0x1b56db['push'](_0x34019d(0x595));}}_0x445502?(_0x111ca2++,_0x111ca2===0x3&&!_0x1b56db[_0x34019d(0x45f)](_0x34019d(0x4f9))&&(_0x1b56db[_0x34019d(0x76d)]('on_fire'),_0x111ca2=0x0)):_0x111ca2=0x0,_0x445502&&(_0x30490d['players.'+currentStudentName+_0x34019d(0x41a)]=increment(_0x1f863b)),_0x30490d[_0x34019d(0x3e5)+currentStudentName+_0x34019d(0x2ba)]=_0x1b56db,_0x30490d[_0x34019d(0x3e5)+currentStudentName+'.correctStreak']=_0x111ca2,_0x30490d[_0x34019d(0x3e5)+currentStudentName+_0x34019d(0x221)]=!![],_0x30490d[_0x34019d(0x3e5)+currentStudentName+'.lastAnswerCorrect']=_0x445502,_0x30490d[_0x34019d(0x3e5)+currentStudentName+_0x34019d(0x84b)]=_0x1f863b,await updateDoc(_0x5e619d,_0x30490d),liveGameView['innerHTML']=_0x34019d(0x69b);}function createQuizFromBank(){const _0x17ab20=_0x338e4c,_0x45d3cb=document['querySelectorAll'](_0x17ab20(0x252));if(_0x45d3cb[_0x17ab20(0x7c4)]===0x0){showMessage(_0x17ab20(0x65a));return;}const _0x24f592=[];_0x45d3cb[_0x17ab20(0x630)](_0x13f14e=>{const _0xd05119=_0x17ab20;_0x24f592[_0xd05119(0x76d)](JSON[_0xd05119(0x78e)](_0x13f14e['value']));});const _0x5bc0ac={'topic':_0x17ab20(0x311),'questions':_0x24f592};displayGeneratedQuiz(_0x5bc0ac);}function showAdminLobbyView(_0x5438bd,_0x2f2053){const _0xe83d05=_0x338e4c;showView(_0xe83d05(0x495));const _0x5ab21a=_0xe83d05(0x6d4)+_0x2f2053+_0xe83d05(0x244)+_0x5438bd+_0xe83d05(0x61d);liveGameView[_0xe83d05(0x57a)]=_0x5ab21a,document[_0xe83d05(0x683)](_0xe83d05(0x1ca))[_0xe83d05(0x4aa)](_0xe83d05(0x32a),async()=>{const _0xb742d3=_0xe83d05;if(!currentQuizData||!currentQuizData[_0xb742d3(0x543)]||currentQuizData[_0xb742d3(0x543)][_0xb742d3(0x7c4)]===0x0){showMessage(_0xb742d3(0x808));return;}try{const _0xea4e3a=doc(db,_0xb742d3(0x79b)+appId+_0xb742d3(0x86d),currentLiveGameId);await updateDoc(_0xea4e3a,{'status':_0xb742d3(0x898),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xd5f10d=currentQuizData[_0xb742d3(0x543)][0x0],_0x3d4666=currentQuizData[_0xb742d3(0x543)]['length'];showAdminLiveQuestionView(_0xd5f10d,0x0,_0x3d4666);}catch(_0x5a7a89){console['error'](_0xb742d3(0x40b),_0x5a7a89),showMessage(_0xb742d3(0x42c));}});}async function openGlobalLiveModal(){const _0x18ebb6=_0x338e4c;if(allQuizzesGlobal[_0x18ebb6(0x7c4)]===0x0){const _0x243ec4=await getDocs(collection(db,_0x18ebb6(0x79b)+appId+_0x18ebb6(0x6ca)));allQuizzesGlobal=_0x243ec4[_0x18ebb6(0x69f)]['map'](_0x3c60dd=>({'id':_0x3c60dd['id'],..._0x3c60dd[_0x18ebb6(0x7e6)]()}));}renderGlobalQuizList(''),document[_0x18ebb6(0x683)]('global-live-game-modal')['classList'][_0x18ebb6(0x2da)](_0x18ebb6(0x8c6));}async function openQuizBankModal(){const _0x4ca5e6=_0x338e4c;if(allQuizzesGlobal[_0x4ca5e6(0x7c4)]===0x0){const _0x594c77=await getDocs(collection(db,_0x4ca5e6(0x79b)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x594c77[_0x4ca5e6(0x69f)]['map'](_0x58d0b5=>({'id':_0x58d0b5['id'],..._0x58d0b5[_0x4ca5e6(0x7e6)]()}));}renderQuizBankList(''),document[_0x4ca5e6(0x683)](_0x4ca5e6(0x8c1))[_0x4ca5e6(0x274)][_0x4ca5e6(0x2da)](_0x4ca5e6(0x8c6));}function renderQuizBankList(_0x7bcbba=''){const _0x2f4c66=_0x338e4c,_0xfb4ff7=document[_0x2f4c66(0x683)](_0x2f4c66(0x64a)),_0x19da4e=_0x7bcbba[_0x2f4c66(0x797)]()[_0x2f4c66(0x369)](),_0x4b7705=allQuizzesGlobal[_0x2f4c66(0x5a8)](_0x28afa0=>({..._0x28afa0,'projectName':allProjects[_0x2f4c66(0x337)](_0xd4bd3a=>_0xd4bd3a['id']===_0x28afa0['projectId'])?.[_0x2f4c66(0x5f5)]||_0x2f4c66(0x8f4)}))['filter'](_0x2314e9=>(_0x2314e9[_0x2f4c66(0x8af)]||'')[_0x2f4c66(0x797)]()[_0x2f4c66(0x45f)](_0x19da4e)||(_0x2314e9[_0x2f4c66(0x5f5)]||'')[_0x2f4c66(0x797)]()[_0x2f4c66(0x45f)](_0x19da4e)||_0x2314e9['id'][_0x2f4c66(0x777)]()[_0x2f4c66(0x45f)](_0x19da4e));document[_0x2f4c66(0x683)](_0x2f4c66(0x87a))[_0x2f4c66(0x603)]='('+_0x4b7705[_0x2f4c66(0x7c4)]+'\x20ชุด)',_0xfb4ff7['innerHTML']=_0x4b7705[_0x2f4c66(0x7c4)]?_0x4b7705[_0x2f4c66(0x5a8)](_0x2bad9=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2bad9['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2bad9['topic']||'(ไม่มีชื่อ)')+_0x2f4c66(0x43d)+(_0x2bad9[_0x2f4c66(0x543)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x2bad9[_0x2f4c66(0x5f5)]+_0x2f4c66(0x7d7)+_0x2bad9['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2bad9['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2bad9['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2bad9['id']+_0x2f4c66(0x318))[_0x2f4c66(0x8dc)](''):_0x2f4c66(0x803),_0xfb4ff7[_0x2f4c66(0x51a)]('.quiz-bank-item')[_0x2f4c66(0x630)](_0x44ef77=>{const _0x22f7b4=_0x2f4c66;_0x44ef77[_0x22f7b4(0x4aa)](_0x22f7b4(0x32a),()=>{const _0x157190=_0x22f7b4,_0x2056e9=_0x44ef77[_0x157190(0x432)]['id'];document[_0x157190(0x683)]('quiz-bank-modal')[_0x157190(0x274)][_0x157190(0x2e7)](_0x157190(0x8c6)),showQuizDetailView(_0x2056e9);});}),_0xfb4ff7[_0x2f4c66(0x51a)]('.quiz-bank-try-btn')['forEach'](_0x5656d6=>{_0x5656d6['addEventListener']('click',_0x2d749b=>{const _0x22bc0c=_0xb61e;_0x2d749b[_0x22bc0c(0x2c0)]();const _0x3c201f=_0x5656d6[_0x22bc0c(0x432)]['id'],_0x57779a=allQuizzesGlobal[_0x22bc0c(0x337)](_0x5c2587=>_0x5c2587['id']===_0x3c201f);_0x57779a?(currentQuizData=_0x57779a,document['getElementById']('quiz-bank-modal')[_0x22bc0c(0x274)][_0x22bc0c(0x2e7)](_0x22bc0c(0x8c6)),startAdminTest()):showMessage(_0x22bc0c(0x34c));});}),_0xfb4ff7[_0x2f4c66(0x51a)](_0x2f4c66(0x8c4))['forEach'](_0x5a39ae=>{const _0x299ac7=_0x2f4c66;_0x5a39ae[_0x299ac7(0x4aa)](_0x299ac7(0x32a),_0x5deb54=>{const _0x2625b0=_0x299ac7;_0x5deb54[_0x2625b0(0x2c0)]();const _0x4f4f48=_0x5a39ae[_0x2625b0(0x432)]['id'],_0x2f1005=allQuizzesGlobal['find'](_0x38b4ad=>_0x38b4ad['id']===_0x4f4f48);_0x2f1005?(document[_0x2625b0(0x683)]('quiz-bank-modal')[_0x2625b0(0x274)][_0x2625b0(0x2e7)]('hidden'),handleGenerateParallelFromBank(_0x2f1005)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xfb4ff7[_0x2f4c66(0x51a)](_0x2f4c66(0x3f6))[_0x2f4c66(0x630)](_0x279e3c=>{const _0x5d0fd9=_0x2f4c66;_0x279e3c['addEventListener'](_0x5d0fd9(0x32a),_0x159b81=>{const _0x21ec1e=_0x5d0fd9;_0x159b81[_0x21ec1e(0x2c0)]();const _0x1ecc4e=_0x279e3c['dataset']['id'],_0x45ba5e=allQuizzesGlobal['find'](_0x11ce74=>_0x11ce74['id']===_0x1ecc4e);_0x45ba5e?(document['getElementById']('quiz-bank-modal')[_0x21ec1e(0x274)][_0x21ec1e(0x2e7)]('hidden'),startPresentation(_0x45ba5e)):showMessage(_0x21ec1e(0x34c));});});}async function handleCompareResults(_0x3d1262,_0x2b162a){const _0x174731=_0x338e4c,_0x487029=document[_0x174731(0x683)](_0x174731(0x178)),_0x4797fd=document['getElementById']('comparison-overall-content'),_0x16cb80=document[_0x174731(0x683)](_0x174731(0x3ab));document[_0x174731(0x683)](_0x174731(0x3bd))['classList'][_0x174731(0x2e7)](_0x174731(0x32b)),document[_0x174731(0x683)](_0x174731(0x1e1))[_0x174731(0x274)][_0x174731(0x2da)](_0x174731(0x32b)),_0x4797fd[_0x174731(0x274)]['remove']('hidden'),_0x16cb80[_0x174731(0x274)][_0x174731(0x2e7)](_0x174731(0x8c6)),_0x4797fd[_0x174731(0x57a)]=_0x174731(0x612),_0x16cb80[_0x174731(0x57a)]='',_0x487029[_0x174731(0x274)][_0x174731(0x2da)](_0x174731(0x8c6));try{const _0x46ed75=doc(db,_0x174731(0x79b)+appId+_0x174731(0x6ca),_0x3d1262),_0x237800=await getDoc(_0x46ed75);if(!_0x237800[_0x174731(0x837)]())throw new Error(_0x174731(0x8b6));const _0xf8038a=_0x237800[_0x174731(0x7e6)](),_0x1c400b=_0xf8038a[_0x174731(0x543)][_0x174731(0x7c4)],_0x189cea=collection(db,_0x174731(0x79b)+appId+_0x174731(0x649)+_0x2b162a+_0x174731(0x287)),_0x466464=collection(db,_0x174731(0x79b)+appId+_0x174731(0x649)+_0x3d1262+_0x174731(0x287)),[_0x35acf9,_0x57fe83]=await Promise[_0x174731(0x645)]([getDocs(_0x189cea),getDocs(_0x466464)]),_0x4d89f2=_0x35acf9[_0x174731(0x69f)][_0x174731(0x5a8)](_0x937a66=>_0x937a66['data']()),_0x516f66=_0x57fe83[_0x174731(0x69f)]['map'](_0x28b2b8=>_0x28b2b8[_0x174731(0x7e6)]()),_0x57c360=_0x4d89f2[_0x174731(0x5a8)](_0x490d0a=>_0x490d0a[_0x174731(0x541)]),_0x52b072=_0x516f66[_0x174731(0x5a8)](_0x2fabbb=>_0x2fabbb[_0x174731(0x541)]),_0x443f64=calculateMeanAndStdDev(_0x57c360),_0x488855=calculateMeanAndStdDev(_0x52b072),_0x3bea6b=_0x443f64[_0x174731(0x4fa)],_0x17d50f=_0x488855[_0x174731(0x4fa)],_0x2fea18=_0x17d50f-_0x3bea6b;let _0x245b83=_0x174731(0x7e9)+_0x3bea6b[_0x174731(0x7f5)](0x2)+_0x174731(0x790)+_0x17d50f[_0x174731(0x7f5)](0x2)+_0x174731(0x169)+(_0x2fea18>=0x0?_0x174731(0x644):_0x174731(0x883))+_0x174731(0x4c1)+(_0x2fea18>=0x0?_0x174731(0x6f2):'text-red-800')+_0x174731(0x716)+(_0x2fea18>=0x0?'text-emerald-900':_0x174731(0x28c))+'\x22>'+(_0x2fea18>=0x0?'+':'')+_0x2fea18['toFixed'](0x2)+_0x174731(0x36a);_0x4797fd[_0x174731(0x57a)]=_0x245b83;const _0x44cd41=document[_0x174731(0x683)](_0x174731(0x236))['getContext']('2d');if(chartInstances[_0x174731(0x624)])chartInstances['comparison'][_0x174731(0x33d)]();chartInstances[_0x174731(0x624)]=new Chart(_0x44cd41,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x174731(0x35c),'data':[_0x3bea6b],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x174731(0x38d),'data':[_0x17d50f],'backgroundColor':_0x174731(0x7ff)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1c400b}}}});const _0x4c1c6d=currentProjectData[_0x174731(0x203)]||[],_0x365959=_0x4c1c6d[_0x174731(0x5a8)](_0x1f5a52=>{const _0x2aa8f7=_0x174731,_0x376e3f=_0x4d89f2[_0x2aa8f7(0x337)](_0x4cbe88=>_0x4cbe88[_0x2aa8f7(0x2d0)]===_0x1f5a52),_0x4ba7ec=_0x516f66[_0x2aa8f7(0x337)](_0x497b0a=>_0x497b0a['studentName']===_0x1f5a52),_0x4bf60d=_0x376e3f?_0x376e3f[_0x2aa8f7(0x541)]:null,_0x5a2bc0=_0x4ba7ec?_0x4ba7ec['latestScore']:null,_0x1763cb=_0x4bf60d!==null&&_0x5a2bc0!==null?_0x5a2bc0-_0x4bf60d:null,_0xcaa493=_0x4bf60d!==null?calculateZScore(_0x4bf60d,_0x443f64[_0x2aa8f7(0x4fa)],_0x443f64[_0x2aa8f7(0x574)]):null,_0xcbee8a=_0x5a2bc0!==null?calculateZScore(_0x5a2bc0,_0x488855[_0x2aa8f7(0x4fa)],_0x488855[_0x2aa8f7(0x574)]):null,_0x19fa79=_0xcaa493!==null?calculateTScore(_0xcaa493):null,_0x299b28=_0xcbee8a!==null?calculateTScore(_0xcbee8a):null,_0x3d7c5a=_0x19fa79!==null&&_0x299b28!==null?_0x299b28-_0x19fa79:null;return{'name':_0x1f5a52,'preScore':_0x4bf60d,'postScore':_0x5a2bc0,'gain':_0x1763cb,'preTScore':_0x19fa79,'postTScore':_0x299b28,'tGain':_0x3d7c5a};});renderIndividualComparisonTable(_0x365959,_0x16cb80);}catch(_0x442fba){console['error'](_0x174731(0x63e),_0x442fba),_0x4797fd[_0x174731(0x57a)]=_0x174731(0x625);}}function renderIndividualComparisonTable(_0x1911d1,_0x52ba2d){const _0x46f4f3=_0x338e4c;_0x1911d1[_0x46f4f3(0x53c)]((_0x1e7de2,_0x6fad99)=>(_0x6fad99[_0x46f4f3(0x7e7)]??-Infinity)-(_0x1e7de2[_0x46f4f3(0x7e7)]??-Infinity));let _0x1a51fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x1911d1[_0x46f4f3(0x7c4)]===0x0?_0x1a51fa+=_0x46f4f3(0x313):_0x1911d1[_0x46f4f3(0x630)]((_0x266798,_0x1e2d53)=>{const _0xc83443=_0x46f4f3;let _0x4a1cad='-',_0x572103='';if(_0x266798['gain']!==null){const _0x13efeb=_0x266798[_0xc83443(0x462)]>0x0?'text-green-600':_0x266798['gain']<0x0?_0xc83443(0x492):_0xc83443(0x429),_0x1386ba=_0x266798[_0xc83443(0x462)]>0x0?'+':'';_0x4a1cad=_0xc83443(0x4cc)+_0x13efeb+'\x22>'+_0x1386ba+_0x266798[_0xc83443(0x462)]+_0xc83443(0x70e);if(_0x266798[_0xc83443(0x462)]>0x0)_0x572103=_0xc83443(0x4c2);else _0x266798[_0xc83443(0x462)]<0x0?_0x572103=_0xc83443(0x418):_0x572103=_0xc83443(0x1b3);}let _0x79cbe1='-';if(_0x266798[_0xc83443(0x7e7)]!==null){const _0x453b2e=_0x266798[_0xc83443(0x7e7)]>0x0?_0xc83443(0x676):_0x266798[_0xc83443(0x7e7)]<0x0?_0xc83443(0x492):_0xc83443(0x429),_0x3eb225=_0x266798[_0xc83443(0x7e7)]>0x0?'+':'';_0x79cbe1=_0xc83443(0x4cc)+_0x453b2e+'\x22>'+_0x3eb225+_0x266798[_0xc83443(0x7e7)][_0xc83443(0x7f5)](0x2)+_0xc83443(0x70e);}_0x1a51fa+=_0xc83443(0x6bd)+(_0x1e2d53+0x1)+_0xc83443(0x4ea)+_0x266798['name']+_0xc83443(0x468)+(_0x266798['preScore']??'-')+_0xc83443(0x802)+(_0x266798[_0xc83443(0x659)]??'-')+_0xc83443(0x468)+_0x4a1cad+_0xc83443(0x5d3)+_0x572103+_0xc83443(0x687)+(_0x266798[_0xc83443(0x2ed)]?.[_0xc83443(0x7f5)](0x2)??'-')+_0xc83443(0x86b)+(_0x266798['postTScore']?.['toFixed'](0x2)??'-')+_0xc83443(0x468)+_0x79cbe1+_0xc83443(0x298);}),_0x1a51fa+=_0x46f4f3(0x871),_0x52ba2d[_0x46f4f3(0x57a)]=_0x1a51fa;}function handleRenameQuiz(_0x1dd0cb,_0x22bb89){const _0x294b87=_0x338e4c;actionTargetId=_0x1dd0cb,document[_0x294b87(0x683)](_0x294b87(0x830))[_0x294b87(0x1e4)]=_0x22bb89,renameQuizModal[_0x294b87(0x274)][_0x294b87(0x2da)](_0x294b87(0x8c6));}function setupComparisonModalTabs(){const _0xca448e=_0x338e4c,_0xb0f8c3=document['getElementById'](_0xca448e(0x3bd)),_0x2837d9=document[_0xca448e(0x683)](_0xca448e(0x1e1)),_0x3195ae=document['getElementById'](_0xca448e(0x16c)),_0x3b62d9=document[_0xca448e(0x683)](_0xca448e(0x3ab));_0xb0f8c3[_0xca448e(0x4aa)]('click',()=>{const _0x8ec092=_0xca448e;_0xb0f8c3['classList'][_0x8ec092(0x2e7)](_0x8ec092(0x32b)),_0x2837d9[_0x8ec092(0x274)]['remove'](_0x8ec092(0x32b)),_0x3195ae[_0x8ec092(0x274)][_0x8ec092(0x2da)](_0x8ec092(0x8c6)),_0x3b62d9[_0x8ec092(0x274)][_0x8ec092(0x2e7)]('hidden');}),_0x2837d9[_0xca448e(0x4aa)](_0xca448e(0x32a),()=>{const _0x41152b=_0xca448e;_0x2837d9['classList'][_0x41152b(0x2e7)](_0x41152b(0x32b)),_0xb0f8c3['classList'][_0x41152b(0x2da)](_0x41152b(0x32b)),_0x3b62d9[_0x41152b(0x274)]['remove'](_0x41152b(0x8c6)),_0x3195ae['classList'][_0x41152b(0x2e7)](_0x41152b(0x8c6));});}setupComparisonModalTabs();function renderGlobalQuizList(_0xf7bf23=''){const _0x32fe21=_0x338e4c,_0x3416ad=document[_0x32fe21(0x683)](_0x32fe21(0x1b2)),_0x334f83=_0xf7bf23['toLowerCase']()[_0x32fe21(0x369)](),_0x552656=allQuizzesGlobal[_0x32fe21(0x5a8)](_0x44e16c=>({..._0x44e16c,'projectName':allProjects[_0x32fe21(0x337)](_0x4d0b36=>_0x4d0b36['id']===_0x44e16c['projectId'])?.['projectName']||_0x44e16c[_0x32fe21(0x2cc)]}))['filter'](_0xcb75e2=>(_0xcb75e2['topic']||'')[_0x32fe21(0x797)]()[_0x32fe21(0x45f)](_0x334f83)||(_0xcb75e2[_0x32fe21(0x5f5)]||'')['toLowerCase']()['includes'](_0x334f83));document[_0x32fe21(0x683)](_0x32fe21(0x52e))[_0x32fe21(0x603)]='('+_0x552656['length']+_0x32fe21(0x435),_0x3416ad[_0x32fe21(0x57a)]=_0x552656[_0x32fe21(0x7c4)]?_0x552656[_0x32fe21(0x5a8)](_0x168449=>_0x32fe21(0x590)+_0x168449['id']+_0x32fe21(0x6df)+(_0x168449[_0x32fe21(0x8af)]||_0x32fe21(0x61e))+_0x32fe21(0x25e)+(_0x168449[_0x32fe21(0x543)]?.['length']||0x0)+_0x32fe21(0x887)+_0x168449[_0x32fe21(0x5f5)]+_0x32fe21(0x29e))[_0x32fe21(0x8dc)](''):_0x32fe21(0x3b4),selectedGlobalQuizId=null,document[_0x32fe21(0x683)](_0x32fe21(0x535))[_0x32fe21(0x442)]=!![],_0x3416ad[_0x32fe21(0x51a)](_0x32fe21(0x1fb))[_0x32fe21(0x630)](_0xefe096=>{_0xefe096['addEventListener']('click',()=>{const _0x32e1a0=_0xb61e;selectedGlobalQuizId=_0xefe096[_0x32e1a0(0x432)]['id'],_0x3416ad[_0x32e1a0(0x51a)](_0x32e1a0(0x6ae))[_0x32e1a0(0x630)](_0x50f5a1=>_0x50f5a1[_0x32e1a0(0x274)][_0x32e1a0(0x2da)](_0x32e1a0(0x481),'ring-2',_0x32e1a0(0x2c8))),_0xefe096['classList'][_0x32e1a0(0x2e7)]('bg-purple-50',_0x32e1a0(0x4c6),_0x32e1a0(0x2c8)),document[_0x32e1a0(0x683)](_0x32e1a0(0x535))[_0x32e1a0(0x442)]=![];});});}function listenForLiveGameUpdates(){const _0x5e27ba=_0x338e4c;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4bee61=doc(db,_0x5e27ba(0x79b)+appId+_0x5e27ba(0x86d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4bee61,_0xe0f9b4=>{const _0xcba033=_0x5e27ba;if(!_0xe0f9b4[_0xcba033(0x837)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x8f82ec=_0xe0f9b4['data']();!currentQuizData&&_0x8f82ec['quizId']&&((async()=>{const _0x434af1=_0xcba033;try{const _0x353554=doc(db,_0x434af1(0x79b)+appId+_0x434af1(0x6ca),_0x8f82ec[_0x434af1(0x3af)]),_0x5e9d04=await getDoc(_0x353554);_0x5e9d04[_0x434af1(0x837)]()&&(currentQuizData={'id':_0x5e9d04['id'],..._0x5e9d04[_0x434af1(0x7e6)]()});}catch(_0x2402ae){console[_0x434af1(0x7ad)](_0x434af1(0x8b7),_0x2402ae);}})());switch(_0x8f82ec[_0xcba033(0x7c6)]){case _0xcba033(0x50c):if(currentMode===_0xcba033(0x286)){const _0x5e9423=_0x8f82ec[_0xcba033(0x378)]?Object['keys'](_0x8f82ec[_0xcba033(0x378)]):[];document['getElementById']('player-count')[_0xcba033(0x603)]=_0x5e9423[_0xcba033(0x7c4)],document['getElementById'](_0xcba033(0x870))[_0xcba033(0x57a)]=_0x5e9423['map'](_0xd2155=>_0xcba033(0x3d5)+_0xd2155+_0xcba033(0x70e))['join']('');const _0x267f6e=document['getElementById'](_0xcba033(0x1ca));_0x267f6e&&(_0x267f6e['disabled']=_0x5e9423['length']===0x0);}else showView(_0xcba033(0x495)),liveGameView[_0xcba033(0x57a)]=_0xcba033(0x176)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0xcba033(0x898):const _0xa3696b=_0x8f82ec['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0xcba033(0x543)][_0xa3696b]){const _0x588098=currentQuizData[_0xcba033(0x543)][_0xa3696b],_0x34b5a7=currentQuizData[_0xcba033(0x543)][_0xcba033(0x7c4)];if(currentMode===_0xcba033(0x286)){lastRenderedAdminQuestionIndex!==_0xa3696b&&(showAdminLiveQuestionView(_0x588098,_0xa3696b,_0x34b5a7),lastRenderedAdminQuestionIndex=_0xa3696b);const _0x593c7e=document[_0xcba033(0x683)](_0xcba033(0x8e8));if(_0x593c7e&&_0x8f82ec['players']){const _0x402a87=Object[_0xcba033(0x789)](_0x8f82ec[_0xcba033(0x378)])['length'],_0x1acad4=Object['values'](_0x8f82ec['players'])[_0xcba033(0x5d7)](_0x162d4f=>_0x162d4f[_0xcba033(0x482)]===!![])[_0xcba033(0x7c4)];_0x593c7e[_0xcba033(0x603)]=_0x1acad4+'/'+_0x402a87,_0x402a87>0x0&&_0x1acad4===_0x402a87&&_0x8f82ec[_0xcba033(0x375)]!==_0xcba033(0x79f)&&revealAnswerForAdmin(_0xa3696b,_0x34b5a7);}}else{const _0x140a7a=_0x8f82ec[_0xcba033(0x378)][currentStudentName];if(_0x8f82ec['questionStatus']==='revealed'){if(_0x140a7a[_0xcba033(0x482)]){const _0x235a35=_0x140a7a[_0xcba033(0x6b2)],_0x10902f=_0x140a7a[_0xcba033(0x334)]||0x0,_0x18a6cc=_0x235a35?_0xcba033(0x487)+_0x10902f+_0xcba033(0x665):_0xcba033(0x6a8);liveGameView[_0xcba033(0x57a)]=_0xcba033(0x84e)+_0x18a6cc+_0xcba033(0x6e4);}else liveGameView[_0xcba033(0x57a)]=_0xcba033(0x748);}else!_0x140a7a[_0xcba033(0x482)]&&showStudentLiveQuestionView(_0x588098,_0xa3696b,_0x34b5a7);}}break;case _0xcba033(0x2bf):showPodiumView(_0x8f82ec[_0xcba033(0x378)]);break;}});}async function authenticateUser(){const _0x42197f=_0x338e4c;try{typeof __initial_auth_token!==_0x42197f(0x1f7)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x36bb62){console[_0x42197f(0x7ad)](_0x42197f(0x501),_0x36bb62),showMessage(_0x42197f(0x6f4));}}function showView(_0x44ceb3){const _0x295afb=_0x338e4c,_0x3a7755=['admin-view','student-view','project-dashboard-view',_0x295afb(0x7f0),'quiz-results-view','live-game-view',_0x295afb(0x3d7)];_0x3a7755['forEach'](_0x3bf350=>document[_0x295afb(0x683)](_0x3bf350)?.[_0x295afb(0x274)]['add'](_0x295afb(0x8c6)));if(_0x44ceb3==='admin-dashboard')adminView[_0x295afb(0x274)][_0x295afb(0x2da)](_0x295afb(0x8c6)),projectDashboardView[_0x295afb(0x274)]['remove'](_0x295afb(0x8c6));else{if(_0x44ceb3===_0x295afb(0x65f))studentView['classList'][_0x295afb(0x2da)](_0x295afb(0x8c6)),studentInitialView[_0x295afb(0x274)][_0x295afb(0x2da)](_0x295afb(0x8c6)),studentNameSelectionView[_0x295afb(0x274)][_0x295afb(0x2e7)]('hidden'),studentQuizArea[_0x295afb(0x274)][_0x295afb(0x2e7)]('hidden'),studentResultArea[_0x295afb(0x274)][_0x295afb(0x2e7)](_0x295afb(0x8c6)),studentReadingArea[_0x295afb(0x274)][_0x295afb(0x2e7)]('hidden'),studentJoinGameView[_0x295afb(0x274)]['add'](_0x295afb(0x8c6));else{if(_0x44ceb3===_0x295afb(0x3e7))adminView[_0x295afb(0x274)][_0x295afb(0x2da)]('hidden'),projectDetailView[_0x295afb(0x274)][_0x295afb(0x2da)](_0x295afb(0x8c6));else{if(_0x44ceb3===_0x295afb(0x586))adminView['classList'][_0x295afb(0x2da)](_0x295afb(0x8c6)),quizResultsView['classList'][_0x295afb(0x2da)](_0x295afb(0x8c6));else _0x44ceb3===_0x295afb(0x495)&&liveGameView[_0x295afb(0x274)]['remove'](_0x295afb(0x8c6));}}}}function showJoinGameView(){const _0x9e85e5=_0x338e4c;studentInitialView[_0x9e85e5(0x274)][_0x9e85e5(0x2e7)](_0x9e85e5(0x8c6)),studentJoinGameView[_0x9e85e5(0x274)]['remove'](_0x9e85e5(0x8c6));}async function handleSaveVisibilitySettings(){const _0x45ecee=_0x338e4c;if(!currentProjectId)return;const _0x50e0c1=doc(db,_0x45ecee(0x79b)+appId+_0x45ecee(0x7ae),currentProjectId);try{await updateDoc(_0x50e0c1,{'settings.showInStudentDashboard':document[_0x45ecee(0x683)](_0x45ecee(0x370))['checked'],'settings.isPasscodeEnabled':document[_0x45ecee(0x683)](_0x45ecee(0x19f))['checked'],'settings.passcode':document['getElementById'](_0x45ecee(0x4e0))[_0x45ecee(0x1e4)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x34a20b){console[_0x45ecee(0x7ad)](_0x45ecee(0x455),_0x34a20b),showMessage(_0x45ecee(0x5a4));}}function setupEventListeners(){const _0x291ffe=_0x338e4c;document['getElementById'](_0x291ffe(0x6a2))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleModeSwitch),document[_0x291ffe(0x683)](_0x291ffe(0x260))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleResetProjectOrder),document[_0x291ffe(0x683)](_0x291ffe(0x26b))['addEventListener'](_0x291ffe(0x32a),handleSaveVisibilitySettings),document[_0x291ffe(0x683)](_0x291ffe(0x66c))['addEventListener'](_0x291ffe(0x32a),handleAddCustomMathTopic),document[_0x291ffe(0x683)](_0x291ffe(0x350))['addEventListener'](_0x291ffe(0x32a),handleSelectAllTopics),document[_0x291ffe(0x683)](_0x291ffe(0x2cb))[_0x291ffe(0x4aa)]('click',handleDeselectAllTopics),document['getElementById'](_0x291ffe(0x582))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x258988=_0x291ffe;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x258988(0x707));}),document[_0x291ffe(0x683)](_0x291ffe(0x194))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x296d33=_0x291ffe;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x296d33(0x3e7));}),document['getElementById'](_0x291ffe(0x575))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{showView('admin-dashboard');}),document['getElementById']('modal-close-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x339f7f=_0x291ffe;messageModal['classList'][_0x339f7f(0x2e7)](_0x339f7f(0x8c6)),typeof modalConfirmAction===_0x339f7f(0x2f6)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x291ffe(0x7fe))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>createProjectModal['classList']['remove'](_0x291ffe(0x8c6))),document[_0x291ffe(0x683)](_0x291ffe(0x724))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>createProjectModal[_0x291ffe(0x274)][_0x291ffe(0x2e7)](_0x291ffe(0x8c6))),document['getElementById']('cancel-admin-login-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>adminPasswordModal['classList']['add']('hidden')),document[_0x291ffe(0x683)](_0x291ffe(0x7a2))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleAdminLogin),document[_0x291ffe(0x683)](_0x291ffe(0x1b0))[_0x291ffe(0x4aa)](_0x291ffe(0x20b),_0x530207=>{const _0x5daafb=_0x291ffe;if(_0x530207[_0x5daafb(0x886)]===_0x5daafb(0x682))handleAdminLogin();}),document[_0x291ffe(0x683)]('cancel-delete-btn')['addEventListener'](_0x291ffe(0x32a),()=>{const _0x4cc4b7=_0x291ffe;confirmationModal[_0x4cc4b7(0x274)][_0x4cc4b7(0x2e7)](_0x4cc4b7(0x8c6)),confirmAction=null;}),document['getElementById'](_0x291ffe(0x57c))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x463012=_0x291ffe;confirmAction&&confirmAction(),confirmationModal[_0x463012(0x274)][_0x463012(0x2e7)](_0x463012(0x8c6)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>renameQuizModal[_0x291ffe(0x274)]['add'](_0x291ffe(0x8c6))),document[_0x291ffe(0x683)](_0x291ffe(0x200))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),confirmRenameQuiz),document['getElementById'](_0x291ffe(0x177))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>moveQuizModal[_0x291ffe(0x274)][_0x291ffe(0x2e7)](_0x291ffe(0x8c6))),document[_0x291ffe(0x683)](_0x291ffe(0x5aa))[_0x291ffe(0x4aa)]('click',confirmMoveQuiz),document[_0x291ffe(0x683)](_0x291ffe(0x168))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>quizSettingsModal[_0x291ffe(0x274)]['add']('hidden')),document['getElementById'](_0x291ffe(0x4d5))[_0x291ffe(0x4aa)]('click',confirmQuizSettings),document['getElementById'](_0x291ffe(0x809))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>quizStatusModal[_0x291ffe(0x274)][_0x291ffe(0x2e7)](_0x291ffe(0x8c6))),document['getElementById'](_0x291ffe(0x652))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),confirmQuizStatus);const _0x34f64a=document[_0x291ffe(0x683)](_0x291ffe(0x4c3));document[_0x291ffe(0x683)](_0x291ffe(0x6db))['addEventListener'](_0x291ffe(0x32a),()=>{const _0x49d6c1=_0x291ffe;_0x34f64a[_0x49d6c1(0x274)]['add'](_0x49d6c1(0x8c6));}),document[_0x291ffe(0x683)]('export-compact-pdf-btn')[_0x291ffe(0x4aa)]('click',async()=>{const _0x39206c=_0x291ffe,_0x6d36e6=allQuizzes[_0x39206c(0x337)](_0x830335=>_0x830335['id']===actionTargetId);_0x6d36e6?(currentQuizData=_0x6d36e6,exportQuizAsWorksheetPDF()):showMessage(_0x39206c(0x34c)),_0x34f64a[_0x39206c(0x274)][_0x39206c(0x2e7)](_0x39206c(0x8c6));}),document['getElementById'](_0x291ffe(0x757))['addEventListener'](_0x291ffe(0x32a),async()=>{const _0x305a7f=_0x291ffe,_0x20c5eb=allQuizzes['find'](_0x5a7e67=>_0x5a7e67['id']===actionTargetId);_0x20c5eb?(currentQuizData=_0x20c5eb,exportQuizAsTutorPDF()):showMessage(_0x305a7f(0x34c)),_0x34f64a['classList'][_0x305a7f(0x2e7)](_0x305a7f(0x8c6));}),document[_0x291ffe(0x683)]('open-global-live-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),openGlobalLiveModal),document[_0x291ffe(0x683)](_0x291ffe(0x4a0))[_0x291ffe(0x4aa)]('click',()=>{const _0x619fff=_0x291ffe;document[_0x619fff(0x683)](_0x619fff(0x234))[_0x619fff(0x274)][_0x619fff(0x2e7)]('hidden'),selectedGlobalQuizId=null;}),document[_0x291ffe(0x683)]('global-quiz-search-input')[_0x291ffe(0x4aa)](_0x291ffe(0x4ee),_0x4fcdc9=>renderGlobalQuizList(_0x4fcdc9[_0x291ffe(0x7e8)][_0x291ffe(0x1e4)])),document['getElementById']('confirm-global-live-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x1c803a=_0x291ffe,_0x72440f=selectedGlobalQuizId;if(!_0x72440f)return;document['getElementById'](_0x1c803a(0x234))[_0x1c803a(0x274)][_0x1c803a(0x2e7)]('hidden'),handleStartLiveRace(_0x72440f);}),document[_0x291ffe(0x683)](_0x291ffe(0x403))[_0x291ffe(0x4aa)](_0x291ffe(0x4ee),renderProjects),document[_0x291ffe(0x683)](_0x291ffe(0x85a))[_0x291ffe(0x4aa)](_0x291ffe(0x85d),async()=>{const _0xc15152=_0x291ffe,_0x243250=document[_0xc15152(0x683)](_0xc15152(0x85a))[_0xc15152(0x1e4)],_0x1f3d2a=doc(db,_0xc15152(0x579),_0xc15152(0x340));try{await setDoc(_0x1f3d2a,{'projectSort':_0x243250},{'merge':!![]});}catch(_0x32f1eb){console['error'](_0xc15152(0x50b),_0x32f1eb),showMessage(_0xc15152(0x5ed));}}),document[_0x291ffe(0x683)](_0x291ffe(0x4b6))[_0x291ffe(0x4aa)](_0x291ffe(0x4ee),renderQuizzes),document['getElementById'](_0x291ffe(0x767))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x7d3673=_0x291ffe;globalDashboardSettings[_0x7d3673(0x605)]=_0x7d3673(0x447),saveUserPreference(_0x7d3673(0x605),'grid'),renderProjects();}),document[_0x291ffe(0x683)]('list-view-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x2c6c51=_0x291ffe;globalDashboardSettings[_0x2c6c51(0x605)]=_0x2c6c51(0x89e),saveUserPreference(_0x2c6c51(0x605),'list'),renderProjects();}),manageTab['addEventListener'](_0x291ffe(0x32a),()=>switchProjectTab(_0x291ffe(0x7a4))),resultsTab[_0x291ffe(0x4aa)]('click',()=>switchProjectTab(_0x291ffe(0x3e1))),leaderboardTab['addEventListener'](_0x291ffe(0x32a),()=>switchProjectTab(_0x291ffe(0x873))),document[_0x291ffe(0x683)](_0x291ffe(0x54a))[_0x291ffe(0x4aa)]('click',()=>switchQuizDetailTab(_0x291ffe(0x5a0))),document['getElementById']('scores-tab-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>switchQuizDetailTab('scores')),document[_0x291ffe(0x683)](_0x291ffe(0x79c))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x291ffe(0x683)](_0x291ffe(0x8bb))[_0x291ffe(0x4aa)]('click',()=>switchQuizDetailTab(_0x291ffe(0x569))),document[_0x291ffe(0x683)](_0x291ffe(0x54e))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleAnalyzeClass),generateWorksheetBtn[_0x291ffe(0x4aa)]('click',generateWorksheet);const _0x1c7131=document[_0x291ffe(0x683)](_0x291ffe(0x77c)),_0x5be3c1=document[_0x291ffe(0x683)](_0x291ffe(0x8e3)),_0x3ceee7=document[_0x291ffe(0x683)](_0x291ffe(0x890)),_0x344d0b=document[_0x291ffe(0x683)](_0x291ffe(0x58f)),_0xc3257c=document[_0x291ffe(0x683)]('parallel-test-tab'),_0x3baf3c=document['getElementById']('parallel-test-input-area');topicTab[_0x291ffe(0x4aa)]('click',()=>{const _0x44c24e=_0x291ffe;topicTab[_0x44c24e(0x274)]['add'](_0x44c24e(0x32b)),textTab[_0x44c24e(0x274)][_0x44c24e(0x2da)](_0x44c24e(0x32b)),fileTab[_0x44c24e(0x274)][_0x44c24e(0x2da)](_0x44c24e(0x32b)),worksheetTab[_0x44c24e(0x274)][_0x44c24e(0x2da)]('active');if(_0x1c7131)_0x1c7131[_0x44c24e(0x274)][_0x44c24e(0x2da)](_0x44c24e(0x32b));if(_0x3ceee7)_0x3ceee7['classList'][_0x44c24e(0x2da)](_0x44c24e(0x32b));if(_0xc3257c)_0xc3257c['classList'][_0x44c24e(0x2da)](_0x44c24e(0x32b));topicInputArea[_0x44c24e(0x274)][_0x44c24e(0x2da)](_0x44c24e(0x8c6)),textInputArea[_0x44c24e(0x274)][_0x44c24e(0x2e7)](_0x44c24e(0x8c6)),fileInputArea[_0x44c24e(0x274)][_0x44c24e(0x2e7)](_0x44c24e(0x8c6)),worksheetInputArea[_0x44c24e(0x274)][_0x44c24e(0x2e7)](_0x44c24e(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x44c24e(0x274)][_0x44c24e(0x2e7)](_0x44c24e(0x8c6));if(_0x344d0b)_0x344d0b[_0x44c24e(0x274)][_0x44c24e(0x2e7)](_0x44c24e(0x8c6));if(_0x3baf3c)_0x3baf3c[_0x44c24e(0x274)][_0x44c24e(0x2e7)]('hidden');}),textTab[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x539202=_0x291ffe;textTab[_0x539202(0x274)][_0x539202(0x2e7)]('active'),topicTab[_0x539202(0x274)][_0x539202(0x2da)]('active'),fileTab[_0x539202(0x274)][_0x539202(0x2da)](_0x539202(0x32b)),worksheetTab[_0x539202(0x274)]['remove'](_0x539202(0x32b));if(_0x1c7131)_0x1c7131[_0x539202(0x274)]['remove'](_0x539202(0x32b));if(_0x3ceee7)_0x3ceee7['classList'][_0x539202(0x2da)](_0x539202(0x32b));if(_0xc3257c)_0xc3257c[_0x539202(0x274)][_0x539202(0x2da)](_0x539202(0x32b));textInputArea[_0x539202(0x274)][_0x539202(0x2da)](_0x539202(0x8c6)),topicInputArea['classList'][_0x539202(0x2e7)](_0x539202(0x8c6)),fileInputArea[_0x539202(0x274)]['add']('hidden'),worksheetInputArea['classList'][_0x539202(0x2e7)]('hidden');if(_0x5be3c1)_0x5be3c1[_0x539202(0x274)][_0x539202(0x2e7)]('hidden');if(_0x344d0b)_0x344d0b[_0x539202(0x274)][_0x539202(0x2e7)]('hidden');if(_0x3baf3c)_0x3baf3c['classList']['add']('hidden');}),fileTab[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x254c74=_0x291ffe;fileTab[_0x254c74(0x274)]['add'](_0x254c74(0x32b)),topicTab[_0x254c74(0x274)][_0x254c74(0x2da)](_0x254c74(0x32b)),textTab[_0x254c74(0x274)]['remove'](_0x254c74(0x32b)),worksheetTab[_0x254c74(0x274)][_0x254c74(0x2da)](_0x254c74(0x32b));if(_0x1c7131)_0x1c7131['classList'][_0x254c74(0x2da)](_0x254c74(0x32b));if(_0x3ceee7)_0x3ceee7[_0x254c74(0x274)][_0x254c74(0x2da)](_0x254c74(0x32b));if(_0xc3257c)_0xc3257c[_0x254c74(0x274)][_0x254c74(0x2da)]('active');fileInputArea[_0x254c74(0x274)][_0x254c74(0x2da)](_0x254c74(0x8c6)),topicInputArea[_0x254c74(0x274)][_0x254c74(0x2e7)]('hidden'),textInputArea['classList'][_0x254c74(0x2e7)](_0x254c74(0x8c6)),worksheetInputArea['classList'][_0x254c74(0x2e7)](_0x254c74(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x254c74(0x274)][_0x254c74(0x2e7)](_0x254c74(0x8c6));if(_0x344d0b)_0x344d0b[_0x254c74(0x274)][_0x254c74(0x2e7)]('hidden');if(_0x3baf3c)_0x3baf3c['classList'][_0x254c74(0x2e7)](_0x254c74(0x8c6));}),worksheetTab[_0x291ffe(0x4aa)]('click',()=>{const _0x98eada=_0x291ffe;worksheetTab['classList']['add'](_0x98eada(0x32b)),topicTab[_0x98eada(0x274)]['remove'](_0x98eada(0x32b)),textTab[_0x98eada(0x274)][_0x98eada(0x2da)](_0x98eada(0x32b)),fileTab[_0x98eada(0x274)][_0x98eada(0x2da)]('active');if(_0x1c7131)_0x1c7131['classList'][_0x98eada(0x2da)](_0x98eada(0x32b));if(_0x3ceee7)_0x3ceee7['classList'][_0x98eada(0x2da)](_0x98eada(0x32b));if(_0xc3257c)_0xc3257c['classList'][_0x98eada(0x2da)]('active');worksheetInputArea[_0x98eada(0x274)]['remove'](_0x98eada(0x8c6)),topicInputArea[_0x98eada(0x274)]['add'](_0x98eada(0x8c6)),textInputArea[_0x98eada(0x274)][_0x98eada(0x2e7)](_0x98eada(0x8c6)),fileInputArea[_0x98eada(0x274)][_0x98eada(0x2e7)](_0x98eada(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x98eada(0x274)][_0x98eada(0x2e7)](_0x98eada(0x8c6));if(_0x344d0b)_0x344d0b[_0x98eada(0x274)][_0x98eada(0x2e7)](_0x98eada(0x8c6));if(_0x3baf3c)_0x3baf3c[_0x98eada(0x274)][_0x98eada(0x2e7)](_0x98eada(0x8c6));});const _0x196b98=document[_0x291ffe(0x683)]('bank-tab'),_0x461474=document[_0x291ffe(0x683)]('bank-input-area');_0x196b98&&_0x196b98[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x47e3d8=_0x291ffe;topicTab[_0x47e3d8(0x274)][_0x47e3d8(0x2da)](_0x47e3d8(0x32b)),textTab[_0x47e3d8(0x274)][_0x47e3d8(0x2da)](_0x47e3d8(0x32b)),fileTab['classList'][_0x47e3d8(0x2da)](_0x47e3d8(0x32b)),worksheetTab[_0x47e3d8(0x274)]['remove']('active');if(_0x1c7131)_0x1c7131[_0x47e3d8(0x274)][_0x47e3d8(0x2da)](_0x47e3d8(0x32b));if(_0x3ceee7)_0x3ceee7[_0x47e3d8(0x274)][_0x47e3d8(0x2da)](_0x47e3d8(0x32b));if(_0xc3257c)_0xc3257c['classList']['remove'](_0x47e3d8(0x32b));_0x196b98[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)](_0x47e3d8(0x32b)),topicInputArea[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6)),textInputArea[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6)),fileInputArea['classList'][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6)),worksheetInputArea['classList'][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6));if(_0x344d0b)_0x344d0b[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)](_0x47e3d8(0x8c6));if(_0x3baf3c)_0x3baf3c[_0x47e3d8(0x274)][_0x47e3d8(0x2e7)]('hidden');_0x461474['classList']['remove']('hidden'),displayQuestionBank();});_0x1c7131&&(_0x1c7131[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x2ac07c=_0x291ffe;_0x1c7131[_0x2ac07c(0x274)][_0x2ac07c(0x2e7)](_0x2ac07c(0x32b)),topicTab[_0x2ac07c(0x274)]['remove'](_0x2ac07c(0x32b)),textTab['classList'][_0x2ac07c(0x2da)](_0x2ac07c(0x32b)),fileTab['classList'][_0x2ac07c(0x2da)](_0x2ac07c(0x32b)),worksheetTab[_0x2ac07c(0x274)]['remove'](_0x2ac07c(0x32b));if(_0x3ceee7)_0x3ceee7[_0x2ac07c(0x274)][_0x2ac07c(0x2da)](_0x2ac07c(0x32b));if(_0xc3257c)_0xc3257c[_0x2ac07c(0x274)][_0x2ac07c(0x2da)](_0x2ac07c(0x32b));_0x5be3c1[_0x2ac07c(0x274)][_0x2ac07c(0x2da)]('hidden'),topicInputArea['classList']['add'](_0x2ac07c(0x8c6)),textInputArea[_0x2ac07c(0x274)]['add'](_0x2ac07c(0x8c6)),fileInputArea[_0x2ac07c(0x274)][_0x2ac07c(0x2e7)](_0x2ac07c(0x8c6)),worksheetInputArea[_0x2ac07c(0x274)][_0x2ac07c(0x2e7)](_0x2ac07c(0x8c6));if(_0x344d0b)_0x344d0b[_0x2ac07c(0x274)][_0x2ac07c(0x2e7)](_0x2ac07c(0x8c6));if(_0x3baf3c)_0x3baf3c[_0x2ac07c(0x274)]['add'](_0x2ac07c(0x8c6));}),document[_0x291ffe(0x683)](_0x291ffe(0x5ae))['addEventListener'](_0x291ffe(0x32a),handleGenerateFromLink));_0x3ceee7&&_0x3ceee7[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x327b61=_0x291ffe;_0x3ceee7['classList']['add'](_0x327b61(0x32b)),topicTab[_0x327b61(0x274)][_0x327b61(0x2da)](_0x327b61(0x32b)),textTab['classList'][_0x327b61(0x2da)](_0x327b61(0x32b)),fileTab[_0x327b61(0x274)][_0x327b61(0x2da)]('active'),worksheetTab[_0x327b61(0x274)][_0x327b61(0x2da)](_0x327b61(0x32b));if(_0x1c7131)_0x1c7131['classList']['remove'](_0x327b61(0x32b));if(_0x196b98)_0x196b98[_0x327b61(0x274)]['remove']('active');if(_0xc3257c)_0xc3257c[_0x327b61(0x274)]['remove'](_0x327b61(0x32b));_0x344d0b[_0x327b61(0x274)][_0x327b61(0x2da)](_0x327b61(0x8c6)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x327b61(0x274)][_0x327b61(0x2e7)]('hidden'),fileInputArea['classList'][_0x327b61(0x2e7)](_0x327b61(0x8c6)),worksheetInputArea[_0x327b61(0x274)]['add'](_0x327b61(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x327b61(0x274)][_0x327b61(0x2e7)](_0x327b61(0x8c6));if(_0x461474)_0x461474[_0x327b61(0x274)][_0x327b61(0x2e7)]('hidden');if(_0x3baf3c)_0x3baf3c[_0x327b61(0x274)][_0x327b61(0x2e7)]('hidden');});_0xc3257c&&_0xc3257c[_0x291ffe(0x4aa)]('click',()=>{const _0x20fbbf=_0x291ffe;_0xc3257c[_0x20fbbf(0x274)]['add'](_0x20fbbf(0x32b)),topicTab[_0x20fbbf(0x274)][_0x20fbbf(0x2da)](_0x20fbbf(0x32b)),textTab[_0x20fbbf(0x274)][_0x20fbbf(0x2da)]('active'),fileTab[_0x20fbbf(0x274)][_0x20fbbf(0x2da)](_0x20fbbf(0x32b)),worksheetTab[_0x20fbbf(0x274)][_0x20fbbf(0x2da)](_0x20fbbf(0x32b));if(_0x1c7131)_0x1c7131['classList']['remove'](_0x20fbbf(0x32b));if(_0x3ceee7)_0x3ceee7[_0x20fbbf(0x274)][_0x20fbbf(0x2da)](_0x20fbbf(0x32b));if(_0x196b98)_0x196b98[_0x20fbbf(0x274)]['remove'](_0x20fbbf(0x32b));_0x3baf3c['classList'][_0x20fbbf(0x2da)](_0x20fbbf(0x8c6)),topicInputArea[_0x20fbbf(0x274)][_0x20fbbf(0x2e7)]('hidden'),textInputArea[_0x20fbbf(0x274)]['add'](_0x20fbbf(0x8c6)),fileInputArea[_0x20fbbf(0x274)]['add'](_0x20fbbf(0x8c6)),worksheetInputArea[_0x20fbbf(0x274)]['add'](_0x20fbbf(0x8c6));if(_0x5be3c1)_0x5be3c1[_0x20fbbf(0x274)][_0x20fbbf(0x2e7)](_0x20fbbf(0x8c6));if(_0x344d0b)_0x344d0b[_0x20fbbf(0x274)][_0x20fbbf(0x2e7)](_0x20fbbf(0x8c6));if(_0x461474)_0x461474[_0x20fbbf(0x274)]['add']('hidden');});const _0x1aec4c=document[_0x291ffe(0x683)](_0x291ffe(0x437)),_0x3d56a6=document[_0x291ffe(0x683)]('generate-from-blueprint-btn');_0x1aec4c&&_0x1aec4c[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0x297b90=>{const _0x36e7be=_0x291ffe;_0x297b90[_0x36e7be(0x7e8)][_0x36e7be(0x74c)][_0x36e7be(0x7c4)]>0x0?_0x3d56a6[_0x36e7be(0x442)]=![]:_0x3d56a6[_0x36e7be(0x442)]=!![];});_0x3d56a6&&_0x3d56a6[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleGenerateFromBlueprint);const _0x43b24e=document[_0x291ffe(0x683)]('parallel-test-upload-input'),_0x5a0f03=document[_0x291ffe(0x683)](_0x291ffe(0x572));_0x43b24e&&_0x43b24e[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0xf1dce1=>{const _0x5523fa=_0x291ffe;_0x5a0f03['disabled']=_0xf1dce1[_0x5523fa(0x7e8)]['files'][_0x5523fa(0x7c4)]===0x0;});_0x5a0f03&&_0x5a0f03[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleGenerateParallelTest);loadQuizBtn[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleLoadQuiz),startQuizBtn[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x23aec2=_0x291ffe,_0x384255=document[_0x23aec2(0x683)](_0x23aec2(0x3ce));currentStudentName=_0x384255['value'];if(!currentStudentName){showMessage(_0x23aec2(0x4a9));return;}studentNameSelectionView['classList'][_0x23aec2(0x2e7)](_0x23aec2(0x8c6)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x291ffe(0x683)](_0x291ffe(0x810))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleJoinLiveGame),document['getElementById'](_0x291ffe(0x7f4))[_0x291ffe(0x4aa)]('click',()=>showView(_0x291ffe(0x65f)));const _0x24d8bc=()=>{const _0x430423=_0x291ffe,_0x2c8c1e=document[_0x430423(0x683)](_0x430423(0x174))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x430423(0x797)]();return _0x430423(0x2b5)+(_0x2c8c1e||_0x430423(0x7a6));},_0x3fa22f=document[_0x291ffe(0x683)](_0x291ffe(0x718));_0x3fa22f&&_0x3fa22f['addEventListener']('input',_0x290432=>{const _0x3f6e09=_0x291ffe,_0x61d555=_0x290432[_0x3f6e09(0x7e8)]['value']['toLowerCase']()[_0x3f6e09(0x369)](),_0x499bf1=document[_0x3f6e09(0x683)](_0x3f6e09(0x53d)),_0x11cc50=_0x499bf1[_0x3f6e09(0x51a)](_0x3f6e09(0x85e));_0x11cc50[_0x3f6e09(0x630)](_0x2ecfca=>{const _0x5a23a3=_0x3f6e09;let _0x133ee9=![];const _0x3c0508=_0x2ecfca[_0x5a23a3(0x51a)](_0x5a23a3(0x8c2));_0x3c0508['forEach'](_0x1e621d=>{const _0x14c90f=_0x5a23a3,_0x3fb7ef=_0x1e621d[_0x14c90f(0x26a)](_0x14c90f(0x55d))[_0x14c90f(0x603)][_0x14c90f(0x797)]();_0x3fb7ef[_0x14c90f(0x45f)](_0x61d555)?(_0x1e621d['style'][_0x14c90f(0x7b6)]='flex',_0x133ee9=!![]):_0x1e621d[_0x14c90f(0x3fc)][_0x14c90f(0x7b6)]='none';}),_0x133ee9?_0x2ecfca['style'][_0x5a23a3(0x7b6)]=_0x5a23a3(0x29b):_0x2ecfca[_0x5a23a3(0x3fc)][_0x5a23a3(0x7b6)]=_0x5a23a3(0x315);});});document['getElementById'](_0x291ffe(0x567))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>exportTableAsImage('results-table-container',_0x24d8bc())),document[_0x291ffe(0x683)]('export-pdf-btn')[_0x291ffe(0x4aa)]('click',()=>exportTableAsPDF(_0x291ffe(0x88c),_0x24d8bc())),document['getElementById'](_0x291ffe(0x2ce))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>exportTableAsWord(_0x291ffe(0x34f),_0x24d8bc())),document[_0x291ffe(0x683)](_0x291ffe(0x3e9))['addEventListener'](_0x291ffe(0x32a),()=>exportTableAsExcel('results-table',_0x24d8bc()));const _0x2ee00d=()=>{const _0xc6014=_0x291ffe,_0x262166=document['getElementById'](_0xc6014(0x174))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0xc6014(0x797)]();return'leaderboard_'+(_0x262166||_0xc6014(0x7a6));};document['getElementById'](_0x291ffe(0x610))['addEventListener'](_0x291ffe(0x32a),()=>exportTableAsImage(_0x291ffe(0x59f),_0x2ee00d())),document[_0x291ffe(0x683)](_0x291ffe(0x72c))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>exportTableAsPDF(_0x291ffe(0x87f),_0x2ee00d())),document[_0x291ffe(0x683)]('export-leaderboard-word-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>exportTableAsWord(_0x291ffe(0x59f),_0x2ee00d())),document[_0x291ffe(0x683)]('export-leaderboard-excel-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>exportTableAsExcel(_0x291ffe(0x87f),_0x2ee00d())),projectQuizzesList[_0x291ffe(0x4aa)](_0x291ffe(0x32a),async _0x1a2f87=>{const _0x1495ce=_0x291ffe,_0x161c2c=_0x1a2f87['target'][_0x1495ce(0x3fb)](_0x1495ce(0x7fa)),_0x2adf23=_0x1a2f87['target'][_0x1495ce(0x3fb)]('.generate-post-test-btn'),_0x104bd3=_0x1a2f87[_0x1495ce(0x7e8)]['closest'](_0x1495ce(0x5df)),_0x377bb9=_0x1a2f87['target']['closest'](_0x1495ce(0x1d8)),_0x335f4e=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)]('.star-quiz-btn'),_0x4ada72=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x6a7)),_0x4fcf70=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)]('.edit-quiz-btn'),_0x2cba24=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)]('.quiz-settings-btn'),_0x2e7a44=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x897)),_0x47690d=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x226)),_0x39760f=_0x1a2f87['target'][_0x1495ce(0x3fb)](_0x1495ce(0x721)),_0x2d866b=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)]('.move-quiz-btn'),_0x5bc888=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x4cf)),_0x5c74ce=_0x1a2f87[_0x1495ce(0x7e8)]['closest'](_0x1495ce(0x79d)),_0x3488db=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x28b)),_0x3c36c6=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x40f)),_0xa8c7e8=_0x1a2f87['target']['closest']('.start-live-race-btn'),_0x50775b=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)]('.export-pdf-list-btn'),_0x27d9ac=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x532)),_0x4a6664=_0x1a2f87['target'][_0x1495ce(0x3fb)](_0x1495ce(0x75f)),_0xfe2b49=_0x1a2f87[_0x1495ce(0x7e8)][_0x1495ce(0x3fb)](_0x1495ce(0x529));if(_0xfe2b49){const _0x596caa=_0xfe2b49[_0x1495ce(0x432)][_0x1495ce(0x3af)],_0x432d2a=document[_0x1495ce(0x683)]('actions-container-'+_0x596caa);_0x432d2a&&_0x432d2a[_0x1495ce(0x274)]['toggle'](_0x1495ce(0x8c6));}else{if(_0x2adf23){const _0x173407=_0x2adf23[_0x1495ce(0x432)][_0x1495ce(0x3af)],_0x413fb7=allQuizzes['find'](_0x462129=>_0x462129['id']===_0x173407);_0x413fb7&&handleGenerateParallelPostTest(_0x413fb7);}else{if(_0x104bd3)handleCompareResults(_0x104bd3[_0x1495ce(0x432)][_0x1495ce(0x3af)],_0x104bd3['dataset'][_0x1495ce(0x70d)]);else{if(_0x377bb9){const _0x367538=_0x377bb9[_0x1495ce(0x432)]['quizId'],_0x581dd5=allQuizzes['find'](_0x303097=>_0x303097['id']===_0x367538);_0x581dd5&&_0x581dd5[_0x1495ce(0x2e5)]?(displayLessonPlan(_0x581dd5[_0x1495ce(0x2e5)],_0x581dd5),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x367538)),document[_0x1495ce(0x683)]('confirmation-modal')['querySelector']('h3')[_0x1495ce(0x603)]=_0x1495ce(0x1d2),document['getElementById'](_0x1495ce(0x57c))[_0x1495ce(0x603)]=_0x1495ce(0x2c4)):handleGenerateLessonPlan(_0x367538);}else{if(_0x335f4e)handleToggleStarQuiz(_0x335f4e[_0x1495ce(0x432)][_0x1495ce(0x3af)]);else{if(_0x4ada72)copyTextToClipboard(_0x4ada72[_0x1495ce(0x432)][_0x1495ce(0x3af)],_0x1495ce(0x6b4));else{if(_0x4fcf70)handleOpenQuizEditor(_0x4fcf70[_0x1495ce(0x432)]['quizId']);else{if(_0x2cba24)handleQuizSettings(_0x2cba24['dataset'][_0x1495ce(0x3af)]);else{if(_0x2e7a44)handleDuplicateQuiz(_0x2e7a44[_0x1495ce(0x432)]['quizId']);else{if(_0x47690d)handleRenameQuiz(_0x47690d['dataset'][_0x1495ce(0x3af)],_0x47690d['dataset'][_0x1495ce(0x8af)]);else{if(_0x39760f){const _0x11cd21=_0x39760f[_0x1495ce(0x432)][_0x1495ce(0x3af)],_0x48fa8a=allQuizzes[_0x1495ce(0x337)](_0x3ebee3=>_0x3ebee3['id']===_0x11cd21);_0x48fa8a&&handleGenerateParallelFromBank(_0x48fa8a);}else{if(_0x2d866b)handleMoveQuiz(_0x2d866b['dataset']['quizId']);else{if(_0x5bc888)handleManualQuizPairing(_0x5bc888[_0x1495ce(0x432)][_0x1495ce(0x3af)]);else{if(_0x5c74ce)handleUnpairQuiz(_0x5c74ce[_0x1495ce(0x432)][_0x1495ce(0x3af)]);else{if(_0x3488db){const _0x375b78=_0x3488db['dataset']['quizId'],_0x3cef47=allQuizzes[_0x1495ce(0x337)](_0x3dc0a8=>_0x3dc0a8['id']===_0x375b78);if(_0x3cef47)startPresentation(_0x3cef47);}else{if(_0x3c36c6){const _0x50bf4c=_0x3c36c6[_0x1495ce(0x432)]['quizId'],_0x12e286=allQuizzes[_0x1495ce(0x337)](_0xacd467=>_0xacd467['id']===_0x50bf4c);_0x12e286&&(currentQuizData=_0x12e286,startAdminTest());}else{if(_0xa8c7e8)handleStartLiveRace(_0xa8c7e8[_0x1495ce(0x432)][_0x1495ce(0x3af)]);else{if(_0x50775b)actionTargetId=_0x50775b[_0x1495ce(0x432)][_0x1495ce(0x3af)],document[_0x1495ce(0x683)](_0x1495ce(0x4c3))['classList'][_0x1495ce(0x2da)](_0x1495ce(0x8c6));else{if(_0x27d9ac)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x27d9ac[_0x1495ce(0x432)][_0x1495ce(0x8af)]+_0x1495ce(0x2a9),()=>handleDeleteQuiz(_0x27d9ac[_0x1495ce(0x432)][_0x1495ce(0x3af)]));else{if(_0x4a6664)handleQuizStatus(_0x4a6664[_0x1495ce(0x432)][_0x1495ce(0x3af)]);else _0x161c2c&&showQuizDetailView(_0x161c2c[_0x1495ce(0x432)]['quizId']);}}}}}}}}}}}}}}}}}}}}),document[_0x291ffe(0x683)](_0x291ffe(0x87f))['querySelector'](_0x291ffe(0x1c5))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),_0x68dd9e=>{const _0x1db18c=_0x291ffe,_0x42671e=_0x68dd9e['target'][_0x1db18c(0x3fb)](_0x1db18c(0x5dc));if(!_0x42671e||!_0x42671e['dataset'][_0x1db18c(0x53c)])return;const _0x114377=_0x42671e['dataset']['sort'];if(quizLeaderboardSortBy===_0x114377)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1db18c(0x5f9)?_0x1db18c(0x57f):_0x1db18c(0x5f9);else{quizLeaderboardSortBy=_0x114377;const _0x22acb7=[_0x1db18c(0x2d0)];quizLeaderboardSortOrder=_0x22acb7[_0x1db18c(0x45f)](_0x114377)?_0x1db18c(0x5f9):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1db18c(0x53f));}),document[_0x291ffe(0x683)](_0x291ffe(0x154))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),closePresentation),document[_0x291ffe(0x683)](_0x291ffe(0x4a7))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x291ffe(0x683)]('next-question-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x736776=_0x291ffe;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0x736776(0x7c4)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x291ffe(0x4aa)](_0x291ffe(0x819),()=>{const _0x2f1d3d=_0x291ffe;!document[_0x2f1d3d(0x52f)]&&(presentationModal[_0x2f1d3d(0x3fc)]['display']=_0x2f1d3d(0x315));}),document[_0x291ffe(0x683)](_0x291ffe(0x326))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleDeleteAllStudents),studentList[_0x291ffe(0x4aa)](_0x291ffe(0x32a),_0x38d0fe=>{const _0x2a9e93=_0x291ffe,_0x95a5d7=_0x38d0fe[_0x2a9e93(0x7e8)][_0x2a9e93(0x3fb)]('.delete-student-btn');if(_0x95a5d7){const _0x2a88c0=_0x95a5d7['dataset'][_0x2a9e93(0x2d0)];handleDeleteStudent(_0x2a88c0);}}),document[_0x291ffe(0x683)](_0x291ffe(0x852))[_0x291ffe(0x4aa)]('click',handleGenerateFromFileClick),fileUploadInput[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0x5904e0=>{const _0x4b7106=_0x291ffe,_0x3382e0=_0x5904e0[_0x4b7106(0x7e8)][_0x4b7106(0x74c)][0x0],_0x323c56=document[_0x4b7106(0x683)](_0x4b7106(0x852));_0x3382e0?(selectedFile=_0x3382e0,_0x323c56[_0x4b7106(0x442)]=![]):(selectedFile=null,_0x323c56[_0x4b7106(0x442)]=!![]);}),document[_0x291ffe(0x683)](_0x291ffe(0x847))[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0xd750af=>{const _0x9c2b0d=_0x291ffe,_0x43aa24=document['getElementById'](_0x9c2b0d(0x692)),_0x50e49e=document['getElementById'](_0x9c2b0d(0x85c)),_0xf6cbab=document[_0x9c2b0d(0x683)](_0x9c2b0d(0x66b));_0xd750af['target'][_0x9c2b0d(0x1e4)]===_0x9c2b0d(0x315)?_0x43aa24[_0x9c2b0d(0x274)][_0x9c2b0d(0x2e7)]('hidden'):(_0x43aa24[_0x9c2b0d(0x274)][_0x9c2b0d(0x2da)](_0x9c2b0d(0x8c6)),_0xd750af['target']['value']===_0x9c2b0d(0x431)?(_0x50e49e['textContent']=_0x9c2b0d(0x449),_0xf6cbab[_0x9c2b0d(0x1e4)]='10'):(_0x50e49e[_0x9c2b0d(0x603)]=_0x9c2b0d(0x7a7),_0xf6cbab[_0x9c2b0d(0x1e4)]='30'));}),document[_0x291ffe(0x683)](_0x291ffe(0x6c8))[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0x38f346=>{const _0x29f675=_0x291ffe,_0x5bb629=document[_0x29f675(0x683)](_0x29f675(0x705)),_0x3755be=_0x38f346[_0x29f675(0x7e8)][_0x29f675(0x1e4)],_0x3cf876=document[_0x29f675(0x26a)]('label[for=\x22num-questions\x22]'),_0x9d79b9=document[_0x29f675(0x683)](_0x29f675(0x402)),_0xa5a3ac=document['getElementById'](_0x29f675(0x7fd));_0x3755be===_0x29f675(0x6bf)?_0x3cf876['textContent']=_0x29f675(0x5c7):_0x3cf876[_0x29f675(0x603)]=_0x29f675(0x2fa),_0x3755be==='multiple_choice'||_0x3755be==='fill_in_with_choices'||_0x3755be==='mixed'?_0x5bb629[_0x29f675(0x274)][_0x29f675(0x2da)](_0x29f675(0x8c6)):_0x5bb629[_0x29f675(0x274)][_0x29f675(0x2e7)](_0x29f675(0x8c6)),_0x9d79b9[_0x29f675(0x5f7)]=_0xa5a3ac[_0x29f675(0x1e4)];}),document[_0x291ffe(0x683)](_0x291ffe(0x7fd))['addEventListener']('input',_0x3dec4b=>{const _0x5b706e=_0x291ffe;document['getElementById'](_0x5b706e(0x402))[_0x5b706e(0x5f7)]=_0x3dec4b[_0x5b706e(0x7e8)][_0x5b706e(0x1e4)];}),document[_0x291ffe(0x683)](_0x291ffe(0x58c))[_0x291ffe(0x4aa)](_0x291ffe(0x85d),_0x4aaf90=>{const _0xcad615=_0x291ffe,_0x3818d1=document[_0xcad615(0x683)]('modal-timer-duration-container'),_0x5ad2e8=document[_0xcad615(0x683)](_0xcad615(0x627)),_0x5cb2c8=document['getElementById']('modal-timer-duration-input');_0x4aaf90[_0xcad615(0x7e8)][_0xcad615(0x1e4)]===_0xcad615(0x315)?_0x3818d1[_0xcad615(0x274)][_0xcad615(0x2e7)]('hidden'):(_0x3818d1[_0xcad615(0x274)][_0xcad615(0x2da)](_0xcad615(0x8c6)),_0x4aaf90[_0xcad615(0x7e8)][_0xcad615(0x1e4)]==='whole_quiz'?_0x5ad2e8['textContent']=_0xcad615(0x449):_0x5ad2e8[_0xcad615(0x603)]=_0xcad615(0x7a7));}),document[_0x291ffe(0x683)](_0x291ffe(0x822))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x4e69cf=_0x291ffe;document[_0x4e69cf(0x683)](_0x4e69cf(0x591))[_0x4e69cf(0x274)][_0x4e69cf(0x2e7)](_0x4e69cf(0x8c6));}),document[_0x291ffe(0x683)](_0x291ffe(0x22a))['addEventListener'](_0x291ffe(0x32a),()=>{const _0x241ccc=_0x291ffe;document[_0x241ccc(0x683)](_0x241ccc(0x591))[_0x241ccc(0x274)][_0x241ccc(0x2e7)](_0x241ccc(0x8c6));}),document[_0x291ffe(0x683)](_0x291ffe(0x2af))['addEventListener'](_0x291ffe(0x32a),handleVerifyAnswersInEditor),document[_0x291ffe(0x683)](_0x291ffe(0x43a))[_0x291ffe(0x4aa)]('click',()=>{const _0x155432=_0x291ffe;document['getElementById'](_0x155432(0x591))[_0x155432(0x274)][_0x155432(0x2e7)](_0x155432(0x8c6)),showConfirmation(_0x155432(0x6e7),handleSaveChanges);}),document[_0x291ffe(0x683)](_0x291ffe(0x2fb))[_0x291ffe(0x4aa)](_0x291ffe(0x32a),handleAutoFixLatex);const _0x3298cf=document[_0x291ffe(0x683)](_0x291ffe(0x23f));_0x3298cf&&_0x3298cf['addEventListener']('click',_0x2f4965=>{const _0x51ed7f=_0x291ffe,_0x2569f2=_0x2f4965[_0x51ed7f(0x7e8)]['closest']('.regenerate-question-editor-btn');if(_0x2569f2){const _0x29ed27=_0x2569f2[_0x51ed7f(0x3fb)](_0x51ed7f(0x21f)),_0x11ad50=parseInt(_0x29ed27['dataset'][_0x51ed7f(0x1c1)],0xa);handleRegenerateQuestionInEditor(_0x11ad50);}});document[_0x291ffe(0x683)]('open-quiz-bank-btn')[_0x291ffe(0x4aa)]('click',openQuizBankModal),document[_0x291ffe(0x683)]('cancel-quiz-bank-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x52c0f0=_0x291ffe;document['getElementById']('quiz-bank-modal')[_0x52c0f0(0x274)][_0x52c0f0(0x2e7)](_0x52c0f0(0x8c6));}),document['getElementById'](_0x291ffe(0x517))[_0x291ffe(0x4aa)](_0x291ffe(0x4ee),_0x53b144=>renderQuizBankList(_0x53b144[_0x291ffe(0x7e8)][_0x291ffe(0x1e4)]));const _0x91f188=document[_0x291ffe(0x683)](_0x291ffe(0x53d));if(_0x91f188){let _0x3de3c0=null;_0x91f188['addEventListener'](_0x291ffe(0x32a),_0x491911=>{const _0x47692c=_0x291ffe,_0xfa4bdf=_0x491911[_0x47692c(0x7e8)],_0x29ecc6=_0xfa4bdf['closest'](_0x47692c(0x67d)),_0x359045=_0xfa4bdf[_0x47692c(0x3fb)](_0x47692c(0x1bf)),_0x135ded=_0xfa4bdf[_0x47692c(0x3fb)](_0x47692c(0x608)),_0x413ec8=_0xfa4bdf[_0x47692c(0x3fb)]('.cancel-edit-topic-btn');if(_0x359045){_0x491911[_0x47692c(0x646)]();const _0x332798=_0x359045[_0x47692c(0x432)]['id'],_0x170227=_0x359045[_0x47692c(0x3fb)]('.group')[_0x47692c(0x26a)]('.topic-name-display')['textContent'];showConfirmation(_0x47692c(0x18a)+_0x170227+'\x22?',()=>handleDeleteCustomTopic(_0x332798));}else{if(_0x29ecc6){_0x491911[_0x47692c(0x646)]();_0x3de3c0&&toggleTopicEditMode(_0x3de3c0,![]);const _0x14c4a3=_0x29ecc6[_0x47692c(0x3fb)](_0x47692c(0x6c6));_0x3de3c0=_0x14c4a3,toggleTopicEditMode(_0x14c4a3,!![]);}else{if(_0x135ded){_0x491911['preventDefault']();const _0x3fdd2d=_0x135ded[_0x47692c(0x432)]['id'],_0xbcb213=_0x135ded['closest'](_0x47692c(0x6c6)),_0x5332b1=_0xbcb213[_0x47692c(0x26a)](_0x47692c(0x1e7))['value'];handleUpdateCustomTopic(_0x3fdd2d,_0x5332b1),_0x3de3c0=null;}else{if(_0x413ec8){_0x491911[_0x47692c(0x646)]();const _0x3cd558=_0x413ec8[_0x47692c(0x3fb)]('[data-topic-container-id]');toggleTopicEditMode(_0x3cd558,![]),_0x3de3c0=null;}}}}}),document[_0x291ffe(0x683)](_0x291ffe(0x47d))['addEventListener']('click',()=>{const _0x7bc425=_0x291ffe;document['getElementById'](_0x7bc425(0x1e3))[_0x7bc425(0x274)][_0x7bc425(0x2e7)](_0x7bc425(0x8c6));}),document[_0x291ffe(0x683)]('close-lesson-plan-modal-footer-btn')[_0x291ffe(0x4aa)]('click',()=>{const _0x2ac676=_0x291ffe;document[_0x2ac676(0x683)](_0x2ac676(0x1e3))[_0x2ac676(0x274)]['add'](_0x2ac676(0x8c6));}),document['getElementById'](_0x291ffe(0x30a))[_0x291ffe(0x4aa)]('click',handleExportLessonPDF);}document[_0x291ffe(0x683)]('close-comparison-modal-btn')[_0x291ffe(0x4aa)](_0x291ffe(0x32a),()=>{const _0x307d36=_0x291ffe;document[_0x307d36(0x683)](_0x307d36(0x178))[_0x307d36(0x274)][_0x307d36(0x2e7)]('hidden');}),document[_0x291ffe(0x683)]('close-comparison-modal-footer-btn')[_0x291ffe(0x4aa)]('click',()=>{const _0x122527=_0x291ffe;document[_0x122527(0x683)](_0x122527(0x178))[_0x122527(0x274)][_0x122527(0x2e7)](_0x122527(0x8c6));}),setupComparisonModalTabs(),document[_0x291ffe(0x5cb)][_0x291ffe(0x4aa)](_0x291ffe(0x32a),function(_0xd48e){const _0x4a410a=_0x291ffe;if(_0xd48e[_0x4a410a(0x7e8)][_0x4a410a(0x274)][_0x4a410a(0x5dd)](_0x4a410a(0x8ad))){const _0x2775b3=unescape(_0xd48e[_0x4a410a(0x7e8)]['dataset'][_0x4a410a(0x8af)]);startSkillPractice(_0x2775b3);}}),document[_0x291ffe(0x683)](_0x291ffe(0x6d9))[_0x291ffe(0x4aa)]('click',_0x41b3a2=>{const _0x412914=_0x291ffe,_0x3b215b=_0x41b3a2[_0x412914(0x7e8)][_0x412914(0x3fb)](_0x412914(0x6dd));if(_0x3b215b){const _0x358044=_0x3b215b['dataset'][_0x412914(0x2d0)];handleDeleteSubmission(_0x358044);}});}async function showStudentProgressView(){const _0x2c9b67=_0x338e4c;studentInitialView['classList'][_0x2c9b67(0x2e7)](_0x2c9b67(0x8c6)),document[_0x2c9b67(0x683)](_0x2c9b67(0x3d7))[_0x2c9b67(0x274)][_0x2c9b67(0x2da)](_0x2c9b67(0x8c6));const _0x242839=document['getElementById']('progress-project-select'),_0x7b079f=document[_0x2c9b67(0x683)]('progress-student-select'),_0xdeb58d=document[_0x2c9b67(0x683)](_0x2c9b67(0x83d));_0xdeb58d[_0x2c9b67(0x57a)]=_0x2c9b67(0x457),_0x7b079f['innerHTML']=_0x2c9b67(0x69a),_0x7b079f[_0x2c9b67(0x442)]=!![],_0x242839[_0x2c9b67(0x57a)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x4a5ae6=collection(db,_0x2c9b67(0x79b)+appId+_0x2c9b67(0x7ae)),_0x2e7555=await getDocs(_0x4a5ae6);allProjects=_0x2e7555[_0x2c9b67(0x69f)]['map'](_0x23c888=>({'id':_0x23c888['id'],..._0x23c888[_0x2c9b67(0x7e6)]()}));}const _0x3fff0b=allProjects[_0x2c9b67(0x5d7)](_0xb32f21=>_0xb32f21['settings']?.['showInStudentDashboard']!==![]);_0x3fff0b['sort']((_0x5703ca,_0x14aeda)=>_0x5703ca[_0x2c9b67(0x5f5)]['localeCompare'](_0x14aeda[_0x2c9b67(0x5f5)],'th')),_0x242839[_0x2c9b67(0x57a)]=_0x2c9b67(0x42d)+_0x3fff0b[_0x2c9b67(0x5a8)](_0x4aa213=>_0x2c9b67(0x175)+_0x4aa213['id']+'\x22>'+_0x4aa213[_0x2c9b67(0x5f5)]+_0x2c9b67(0x207))[_0x2c9b67(0x8dc)](''),_0x242839[_0x2c9b67(0x7c0)]=()=>{const _0x3cc907=_0x2c9b67,_0x35ff3a=_0x7b079f[_0x3cc907(0x1e4)],_0x3040d7=_0x242839[_0x3cc907(0x1e4)];_0x7b079f[_0x3cc907(0x442)]=!![],_0x7b079f[_0x3cc907(0x57a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0xdeb58d[_0x3cc907(0x57a)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x3040d7)return;const _0x602614=allProjects[_0x3cc907(0x337)](_0x30b8a1=>_0x30b8a1['id']===_0x3040d7);if(!_0x602614||!_0x602614[_0x3cc907(0x203)])return;const _0x4182a1=()=>{const _0x3640fe=_0x3cc907;_0x7b079f[_0x3640fe(0x57a)]=_0x3640fe(0x69a)+_0x602614['students'][_0x3640fe(0x5a8)](_0x48ebd9=>'<option\x20value=\x22'+_0x48ebd9+'\x22>'+_0x48ebd9+_0x3640fe(0x207))['join'](''),_0x7b079f[_0x3640fe(0x442)]=![];const _0x339d15=Array[_0x3640fe(0x459)](_0x7b079f[_0x3640fe(0x4a4)])['map'](_0x1e06bd=>_0x1e06bd[_0x3640fe(0x1e4)]);if(_0x35ff3a&&_0x339d15[_0x3640fe(0x45f)](_0x35ff3a))_0x7b079f[_0x3640fe(0x1e4)]=_0x35ff3a,_0x7b079f[_0x3640fe(0x6d2)](new Event(_0x3640fe(0x85d)));else _0x602614[_0x3640fe(0x203)][_0x3640fe(0x7c4)]===0x1&&(_0x7b079f['value']=_0x602614[_0x3640fe(0x203)][0x0],_0x7b079f[_0x3640fe(0x6d2)](new Event(_0x3640fe(0x85d))));};if(_0x602614[_0x3cc907(0x73c)]?.[_0x3cc907(0x319)]){if(sessionStorage[_0x3cc907(0x414)](_0x3cc907(0x782)+_0x3040d7)===_0x3cc907(0x865)){_0x4182a1();return;}const _0x9df209=document[_0x3cc907(0x683)](_0x3cc907(0x8d9)),_0x93b534=document['getElementById']('confirm-passcode-btn'),_0x4988ee=document['getElementById'](_0x3cc907(0x5b9)),_0x5b782f=document[_0x3cc907(0x683)](_0x3cc907(0x5b8)),_0x136746=document[_0x3cc907(0x683)](_0x3cc907(0x24b));document[_0x3cc907(0x683)](_0x3cc907(0x7cf))[_0x3cc907(0x603)]='สำหรับโปรเจค:\x20'+_0x602614[_0x3cc907(0x5f5)],_0x5b782f['value']='',_0x136746['classList']['add'](_0x3cc907(0x8c6)),_0x9df209[_0x3cc907(0x274)][_0x3cc907(0x2da)](_0x3cc907(0x8c6));const _0x4beb06=()=>{const _0x4f4b65=_0x3cc907,_0x37b9ea=_0x5b782f['value'][_0x4f4b65(0x369)]();_0x37b9ea===_0x602614[_0x4f4b65(0x73c)][_0x4f4b65(0x3c7)]?(sessionStorage[_0x4f4b65(0x56f)](_0x4f4b65(0x782)+_0x3040d7,_0x4f4b65(0x865)),_0x9df209[_0x4f4b65(0x274)]['add'](_0x4f4b65(0x8c6)),_0x4182a1(),_0x93b534[_0x4f4b65(0x2b1)](_0x4f4b65(0x32a),_0x4beb06)):_0x136746[_0x4f4b65(0x274)][_0x4f4b65(0x2da)](_0x4f4b65(0x8c6));};_0x93b534['onclick']=_0x4beb06,_0x4988ee[_0x3cc907(0x838)]=()=>{const _0x50e5e1=_0x3cc907;_0x9df209[_0x50e5e1(0x274)][_0x50e5e1(0x2e7)](_0x50e5e1(0x8c6)),_0x242839[_0x50e5e1(0x1e4)]='',_0x93b534[_0x50e5e1(0x2b1)](_0x50e5e1(0x32a),_0x4beb06);};}else _0x4182a1();},_0x7b079f['onchange']=()=>{const _0x30a076=_0x242839['value'],_0x1bd904=_0x7b079f['value'];_0x30a076&&_0x1bd904&&renderStudentProgressDashboard(_0x30a076,_0x1bd904);};}async function renderStudentProgressDashboard(_0x12e25a,_0xfeafd1){const _0x4aa4bc=_0x338e4c,_0x38269f=document[_0x4aa4bc(0x683)](_0x4aa4bc(0x83d));_0x38269f['innerHTML']=_0x4aa4bc(0x612);try{const _0x17ad37=collection(db,_0x4aa4bc(0x79b)+appId+'/public/data/quizzes'),_0x2c9e30=query(_0x17ad37,where(_0x4aa4bc(0x2cc),'==',_0x12e25a)),_0x4e3d99=await getDocs(_0x2c9e30),_0x585a7a=_0x4e3d99[_0x4aa4bc(0x69f)][_0x4aa4bc(0x5a8)](_0x4f794a=>({'id':_0x4f794a['id'],..._0x4f794a[_0x4aa4bc(0x7e6)]()})),_0x2359cb=_0x585a7a[_0x4aa4bc(0x5a8)](_0xb10cab=>getDoc(doc(db,'artifacts/'+appId+_0x4aa4bc(0x649)+_0xb10cab['id']+'/submissions',_0xfeafd1))),_0x339d79=await Promise['all'](_0x2359cb),_0x49855e=_0x339d79[_0x4aa4bc(0x5d7)](_0x2ed004=>_0x2ed004['exists']())['map'](_0x55be6f=>({'quizId':_0x55be6f[_0x4aa4bc(0x604)]['parent']['parent']['id'],..._0x55be6f['data']()}));if(_0x49855e[_0x4aa4bc(0x7c4)]===0x0){_0x38269f[_0x4aa4bc(0x57a)]=_0x4aa4bc(0x341);return;}let _0xcc7820=_0x4aa4bc(0x8de);_0x49855e[_0x4aa4bc(0x630)](_0x25dac0=>{const _0x2e93f6=_0x4aa4bc,_0x34c396=_0x585a7a['find'](_0x2beead=>_0x2beead['id']===_0x25dac0[_0x2e93f6(0x3af)]),_0x181488=_0x34c396[_0x2e93f6(0x73c)]?.[_0x2e93f6(0x8ce)]||_0x2e93f6(0x230),_0x1eaf17=_0x34c396['settings']?.[_0x2e93f6(0x1a3)]??0x0,_0x3fe77a=_0x25dac0['bestScore']>=_0x1eaf17;let _0x406a9e='',_0x5251a6=_0x2e93f6(0x4ed);switch(_0x181488){case'show_results_and_answers':case _0x2e93f6(0x218):_0x5251a6=_0x3fe77a?'bg-green-50':_0x2e93f6(0x6eb),_0x406a9e=_0x2e93f6(0x5f3)+(_0x3fe77a?_0x2e93f6(0x2ad):'text-red-700')+'\x22>'+_0x25dac0['bestScore']+_0x2e93f6(0x827)+_0x25dac0[_0x2e93f6(0x362)]+_0x2e93f6(0x308)+(_0x3fe77a?_0x2e93f6(0x5cc):_0x2e93f6(0x198))+'\x22>'+(_0x3fe77a?_0x2e93f6(0x6a4):_0x2e93f6(0x594))+_0x2e93f6(0x3c2);break;case _0x2e93f6(0x4fb):_0x5251a6=_0x3fe77a?_0x2e93f6(0x6fd):'bg-red-50',_0x406a9e=_0x2e93f6(0x228)+(_0x3fe77a?_0x2e93f6(0x5cc):_0x2e93f6(0x198))+'\x22>'+(_0x3fe77a?_0x2e93f6(0x6a4):'ไม่ผ่าน')+_0x2e93f6(0x3c2);break;case'manual_release':_0x5251a6=_0x2e93f6(0x165),_0x406a9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0xcc7820+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x5251a6+_0x2e93f6(0x601)+_0x34c396[_0x2e93f6(0x8af)]+_0x2e93f6(0x4a6)+_0x25dac0[_0x2e93f6(0x805)][_0x2e93f6(0x7c4)]+_0x2e93f6(0x33c)+new Date(_0x25dac0[_0x2e93f6(0x78c)])[_0x2e93f6(0x33b)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x406a9e+_0x2e93f6(0x4df);}),_0xcc7820+=_0x4aa4bc(0x1e9),_0x38269f[_0x4aa4bc(0x57a)]=_0xcc7820;}catch(_0x5587cc){console[_0x4aa4bc(0x7ad)]('Error\x20rendering\x20student\x20progress:',_0x5587cc),_0x38269f[_0x4aa4bc(0x57a)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x56f180=_0x338e4c;document[_0x56f180(0x683)](_0x56f180(0x62a))['addEventListener'](_0x56f180(0x32a),showStudentProgressView),document[_0x56f180(0x683)]('back-to-student-home-btn')['addEventListener'](_0x56f180(0x32a),()=>{const _0xe0759f=_0x56f180;document['getElementById']('student-progress-view')['classList'][_0xe0759f(0x2e7)](_0xe0759f(0x8c6)),document[_0xe0759f(0x683)](_0xe0759f(0x2b9))[_0xe0759f(0x274)]['remove'](_0xe0759f(0x8c6));});}async function startSkillPractice(_0x38197b){const _0x2fa5d5=_0x338e4c;studentResultArea[_0x2fa5d5(0x274)]['add']('hidden'),studentQuizArea['innerHTML']=_0x2fa5d5(0x275),studentQuizArea[_0x2fa5d5(0x274)][_0x2fa5d5(0x2da)]('hidden');try{const _0x5b66b3=await getStandardizedTopic(_0x38197b);console['log'](_0x2fa5d5(0x88f)+_0x38197b+_0x2fa5d5(0x560)+_0x5b66b3+'\x22'),studentQuizArea[_0x2fa5d5(0x26a)]('p')['textContent']=_0x2fa5d5(0x749)+_0x5b66b3+'\x22...';const _0x1a497e=collection(db,_0x2fa5d5(0x79b)+appId+_0x2fa5d5(0x821)),_0x1e6687=query(_0x1a497e,where(_0x2fa5d5(0x8af),'==',_0x5b66b3)),_0xe445f5=await getDocs(_0x1e6687);if(_0xe445f5['docs'][_0x2fa5d5(0x7c4)]>=0x3){console[_0x2fa5d5(0x3c8)]('พบข้อสอบ\x20'+_0xe445f5[_0x2fa5d5(0x69f)][_0x2fa5d5(0x7c4)]+_0x2fa5d5(0x1d1)+_0x5b66b3+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x337539=_0xe445f5[_0x2fa5d5(0x69f)][_0x2fa5d5(0x5a8)](_0x288249=>_0x288249[_0x2fa5d5(0x7e6)]());shuffleArray(_0x337539);const _0x46ae63={'topic':_0x5b66b3,'questions':_0x337539[_0x2fa5d5(0x3c3)](0x0,0x3)};displaySkillPracticeDrill(_0x46ae63);}else{console[_0x2fa5d5(0x3c8)](_0x2fa5d5(0x45d)+_0x5b66b3+_0x2fa5d5(0x1fa));const _0x30cbee=await generatePracticeQuestions(_0x5b66b3);await saveDrillToPracticeBank(_0x30cbee,_0x5b66b3),displaySkillPracticeDrill(_0x30cbee);}}catch(_0x4f7afc){console[_0x2fa5d5(0x7ad)](_0x2fa5d5(0x701),_0x4f7afc),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x2fa5d5(0x274)]['add'](_0x2fa5d5(0x8c6)),studentResultArea[_0x2fa5d5(0x274)][_0x2fa5d5(0x2da)](_0x2fa5d5(0x8c6));}}async function saveDrillToPracticeBank(_0x543913,_0x4b6a79){const _0x1b12cd=_0x338e4c,_0x2af4ea=collection(db,_0x1b12cd(0x79b)+appId+_0x1b12cd(0x821)),_0x52d091=writeBatch(db);_0x543913['questions'][_0x1b12cd(0x630)](_0x1d6d52=>{const _0x2da298=_0x1b12cd,_0x25bdaa=doc(_0x2af4ea);_0x52d091[_0x2da298(0x82c)](_0x25bdaa,{'topic':_0x4b6a79,'questionText':_0x1d6d52['questionText'],'options':_0x1d6d52['options'],'correctAnswerIndex':_0x1d6d52[_0x2da298(0x248)],'explanation':_0x1d6d52[_0x2da298(0x188)],'createdAt':serverTimestamp()});});try{await _0x52d091[_0x1b12cd(0x3a9)](),console[_0x1b12cd(0x3c8)]('บันทึกคำถามใหม่\x20'+_0x543913['questions'][_0x1b12cd(0x7c4)]+_0x1b12cd(0x8b0));}catch(_0x547600){console[_0x1b12cd(0x7ad)](_0x1b12cd(0x58e),_0x547600);}}async function getStandardizedTopic(_0x4cf3b9){const _0x416b54=_0x338e4c,_0x86166f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x4cf3b9+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x331e0b={'type':_0x416b54(0x2db),'properties':{'standardTopic':{'type':_0x416b54(0x858)}},'required':['standardTopic']};try{const _0x15d995=await callAnalysisApi(_0x86166f,_0x331e0b);return _0x15d995[_0x416b54(0x7d9)];}catch(_0x47b38f){return console[_0x416b54(0x7ad)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x47b38f),_0x4cf3b9;}}async function generatePracticeQuestions(_0x37f01d){const _0x3ce622=_0x338e4c,_0x119caa=_0x3ce622(0x65b)+_0x37f01d+_0x3ce622(0x1ab)+simpleMathPrompt+_0x3ce622(0x71d),_0x427f6b={'type':_0x3ce622(0x2db),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3ce622(0x820),'items':{'type':_0x3ce622(0x858)}},'correctAnswerIndex':{'type':_0x3ce622(0x540)},'explanation':{'type':'STRING'}},'required':[_0x3ce622(0x66e),_0x3ce622(0x4a4),_0x3ce622(0x248),_0x3ce622(0x188)]},_0x27334d={'type':_0x3ce622(0x2db),'properties':{'topic':{'type':_0x3ce622(0x858)},'questions':{'type':_0x3ce622(0x820),'items':_0x427f6b}},'required':[_0x3ce622(0x8af),'questions']};return await callAnalysisApi(_0x119caa,_0x27334d);}function displayLessonPlan(_0xa58686,_0x4a0beb){const _0x183c90=_0x338e4c,_0x25d9f4=_0x183c90(0x182)+_0x4a0beb['topic']+_0x183c90(0x848)+_0xa58686['learningGaps']['map'](_0x1419c5=>_0x183c90(0x51f)+_0x1419c5+_0x183c90(0x89a))[_0x183c90(0x8dc)]('')+_0x183c90(0x434)+_0xa58686[_0x183c90(0x44c)]+_0x183c90(0x20c)+_0xa58686[_0x183c90(0x6fb)][_0x183c90(0x5a8)](_0x4ea455=>_0x183c90(0x21c)+_0x4ea455[_0x183c90(0x898)]+_0x183c90(0x86e)+_0x4ea455['solution']+_0x183c90(0x307))[_0x183c90(0x8dc)]('')+_0x183c90(0x4b2);document[_0x183c90(0x683)](_0x183c90(0x181))[_0x183c90(0x603)]=_0x183c90(0x453)+_0x4a0beb[_0x183c90(0x8af)],document[_0x183c90(0x683)](_0x183c90(0x720))[_0x183c90(0x57a)]=_0x25d9f4,document[_0x183c90(0x683)](_0x183c90(0x1e3))['classList'][_0x183c90(0x2da)](_0x183c90(0x8c6));if(window[_0x183c90(0x56d)])MathJax[_0x183c90(0x190)]();}function displaySkillPracticeDrill(_0x49e2dd){const _0x1f90d3=_0x338e4c;let _0x419049=0x0;const _0x4cf032=_0x49e2dd[_0x1f90d3(0x543)],_0x49c5f9=()=>{const _0xeb5232=_0x1f90d3,_0x180c28=_0x4cf032[_0x419049],_0x338cae=_0xeb5232(0x47b)+(_0x419049+0x1)+'\x20/\x20'+_0x4cf032[_0xeb5232(0x7c4)]+_0xeb5232(0x1af)+_0x180c28[_0xeb5232(0x66e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x180c28[_0xeb5232(0x4a4)][_0xeb5232(0x5a8)]((_0x5c2820,_0x3eacbf)=>_0xeb5232(0x84d)+_0x3eacbf+_0xeb5232(0x5bd)+_0x3eacbf+_0xeb5232(0x5db)+_0x3eacbf+'\x22>'+_0x5c2820+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0xeb5232(0x2ec);studentQuizArea['innerHTML']=_0x338cae;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0xeb5232(0x518))['addEventListener'](_0xeb5232(0x32a),async()=>{const _0x39d213=_0xeb5232,_0x173749=await getHintForQuestion(_0x180c28[_0x39d213(0x66e)]);showMessage(_0x173749);}),document[_0xeb5232(0x683)](_0xeb5232(0x577))['addEventListener']('click',()=>{const _0x5f3b73=_0xeb5232,_0x41fb9e=document['querySelector']('input[name=\x22drill_answer\x22]:checked');if(!_0x41fb9e){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x20a1ad=document[_0x5f3b73(0x683)](_0x5f3b73(0x87b)),_0x2b8cf6=parseInt(_0x41fb9e[_0x5f3b73(0x1e4)])===_0x180c28['correctAnswerIndex'];_0x2b8cf6?(_0x20a1ad[_0x5f3b73(0x80d)]=_0x5f3b73(0x4cb),_0x20a1ad[_0x5f3b73(0x57a)]=_0x5f3b73(0x1b7)+_0x180c28[_0x5f3b73(0x188)]):(_0x20a1ad[_0x5f3b73(0x80d)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x20a1ad[_0x5f3b73(0x57a)]=_0x5f3b73(0x754)+_0x180c28['explanation']);_0x20a1ad['classList'][_0x5f3b73(0x2da)](_0x5f3b73(0x8c6));if(window[_0x5f3b73(0x56d)])MathJax[_0x5f3b73(0x190)]([_0x20a1ad]);document[_0x5f3b73(0x683)](_0x5f3b73(0x577))[_0x5f3b73(0x274)][_0x5f3b73(0x2e7)](_0x5f3b73(0x8c6)),document[_0x5f3b73(0x683)](_0x5f3b73(0x518))[_0x5f3b73(0x274)][_0x5f3b73(0x2e7)](_0x5f3b73(0x8c6)),document[_0x5f3b73(0x683)]('next-drill-btn')['classList']['remove'](_0x5f3b73(0x8c6));}),document[_0xeb5232(0x683)](_0xeb5232(0x3f3))[_0xeb5232(0x4aa)]('click',()=>{const _0x8fffbb=_0xeb5232;_0x419049++,_0x419049<_0x4cf032[_0x8fffbb(0x7c4)]?_0x49c5f9():(studentQuizArea[_0x8fffbb(0x57a)]=_0x8fffbb(0x520),document[_0x8fffbb(0x683)](_0x8fffbb(0x6e1))[_0x8fffbb(0x4aa)](_0x8fffbb(0x32a),()=>{const _0x27f75e=_0x8fffbb;studentQuizArea['classList'][_0x27f75e(0x2e7)](_0x27f75e(0x8c6)),studentResultArea[_0x27f75e(0x274)][_0x27f75e(0x2da)](_0x27f75e(0x8c6));}));});};_0x49c5f9();}async function getHintForQuestion(_0x27aa94){const _0x3cf643=_0x338e4c,_0x38403a=_0x3cf643(0x172)+_0x27aa94+_0x3cf643(0x322),_0x1f2576={'type':_0x3cf643(0x2db),'properties':{'hint':{'type':'STRING'}},'required':[_0x3cf643(0x1b9)]};try{const _0x3b6d63=await callAnalysisApi(_0x38403a,_0x1f2576);return _0x3b6d63['hint'];}catch(_0x527977){return console[_0x3cf643(0x7ad)](_0x3cf643(0x855),_0x527977),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x36456c){const _0xff6557=_0x338e4c;pdfjsLib[_0xff6557(0x353)][_0xff6557(0x2eb)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x43a9fa=await _0x36456c['arrayBuffer'](),_0xb9093d=await pdfjsLib[_0xff6557(0x62c)](_0x43a9fa)[_0xff6557(0x8cc)],_0x21b17e=_0xb9093d[_0xff6557(0x5ee)];let _0x44f5d0='';for(let _0x466a31=0x1;_0x466a31<=_0x21b17e;_0x466a31++){const _0x308737=await _0xb9093d['getPage'](_0x466a31),_0x11b0e1=await _0x308737[_0xff6557(0x7b0)](),_0x3e9b8d=_0x11b0e1['items']['map'](_0xcb683c=>_0xcb683c[_0xff6557(0x4bb)])[_0xff6557(0x8dc)]('\x20');_0x44f5d0+=_0x3e9b8d+'\x0a\x0a';}return _0x44f5d0;}async function handleGenerateFromBlueprint(){const _0x33a099=_0x338e4c,_0x1dcdd0=document['getElementById']('blueprint-upload-input'),_0x4f4071=document[_0x33a099(0x683)](_0x33a099(0x5e9)),_0x9efe29=_0x1dcdd0[_0x33a099(0x74c)][0x0],_0xd43549=_0x4f4071[_0x33a099(0x74c)][_0x33a099(0x7c4)]>0x0?_0x4f4071[_0x33a099(0x74c)][0x0]:null;if(!_0x9efe29){showMessage(_0x33a099(0x3a0));return;}const _0x4f73a4=document[_0x33a099(0x683)]('loader'),_0x3e1f1f=document[_0x33a099(0x683)]('loader-text'),_0x4e3133=document[_0x33a099(0x683)](_0x33a099(0x80a)),_0x1db6e6=document[_0x33a099(0x683)](_0x33a099(0x826));_0x1db6e6['disabled']=!![],document[_0x33a099(0x683)](_0x33a099(0x467))[_0x33a099(0x274)][_0x33a099(0x2da)](_0x33a099(0x8c6)),_0x4e3133[_0x33a099(0x57a)]='',_0x4f73a4['classList'][_0x33a099(0x2da)](_0x33a099(0x8c6));try{_0x3e1f1f[_0x33a099(0x603)]=_0x33a099(0x633);const _0x1031ec=await extractTextFromPdf(_0x9efe29);if(!_0x1031ec['trim']())throw new Error(_0x33a099(0x285));let _0x3b5153='';_0xd43549&&(_0x3e1f1f[_0x33a099(0x603)]=_0x33a099(0x1a4),_0x3b5153=await extractTextFromPdf(_0xd43549));_0x3e1f1f['textContent']=_0x33a099(0x40c);const _0xa039b4=document[_0x33a099(0x683)](_0x33a099(0x69d))[_0x33a099(0x800)],_0x3081bc=_0xa039b4?_0x33a099(0x54f):'',_0x3cc73c=_0x3b5153?_0x33a099(0x46d)+_0x3b5153+_0x33a099(0x49d):'',_0xb616db=_0x33a099(0x1c4)+(_0x3b5153?_0x33a099(0x7dc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1031ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cc73c+_0x33a099(0x1a1)+_0x3081bc+_0x33a099(0x1f0)+simpleMathPrompt+_0x33a099(0x450),_0x4d4220={'type':'OBJECT','properties':{'questionText':{'type':_0x33a099(0x858)},'questionType':{'type':_0x33a099(0x858),'enum':[_0x33a099(0x41d),_0x33a099(0x81d)]},'options':{'type':_0x33a099(0x820),'items':{'type':_0x33a099(0x858)}},'correctAnswerIndex':{'type':_0x33a099(0x540)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x33a099(0x858)},'imageCode':{'type':'STRING'}},'required':[_0x33a099(0x66e),'questionType',_0x33a099(0x188)]},_0x35babe={'type':'OBJECT','properties':{'topic':{'type':_0x33a099(0x858)},'questions':{'type':_0x33a099(0x820),'items':_0x4d4220}},'required':['topic',_0x33a099(0x543)]};await handleApiCall(_0xb616db,_0x33a099(0x6ac),_0x35babe);}catch(_0x568242){console[_0x33a099(0x7ad)]('Error\x20generating\x20from\x20blueprint:',_0x568242),showMessage('เกิดข้อผิดพลาด:\x20'+_0x568242[_0x33a099(0x6b9)]),_0x4e3133[_0x33a099(0x57a)]=_0x33a099(0x4c8);}finally{_0x4f73a4[_0x33a099(0x274)][_0x33a099(0x2e7)](_0x33a099(0x8c6)),_0x1db6e6[_0x33a099(0x442)]=![];}}async function handleGenerateParallelFromBank(_0x4a3e2d){const _0x5c0bae=_0x338e4c,_0x19fa42=document['getElementById'](_0x5c0bae(0x785)),_0x1c91ba=document[_0x5c0bae(0x683)]('project-quizzes-list');_0x1c91ba[_0x5c0bae(0x274)][_0x5c0bae(0x2e7)](_0x5c0bae(0x8c6));const _0x9679f8=_0x5c0bae(0x5e0)+_0x4a3e2d[_0x5c0bae(0x8af)]+_0x5c0bae(0x62e);_0x19fa42['insertAdjacentHTML'](_0x5c0bae(0x7c8),_0x9679f8);const _0xfdd3f5=document['getElementById'](_0x5c0bae(0x2e1));try{const _0x1fd7ff=_0x4a3e2d[_0x5c0bae(0x543)]['map']((_0xf881c5,_0x7ed9f)=>{const _0x31bb80=_0x5c0bae;let _0x5ac5fd=_0x7ed9f+0x1+'.\x20'+(_0xf881c5['questionText']||_0xf881c5[_0x31bb80(0x2de)])+'\x0a';if(_0xf881c5[_0x31bb80(0x4a4)])_0x5ac5fd+=_0xf881c5['options'][_0x31bb80(0x5a8)]((_0x1d5347,_0x419f80)=>_0x31bb80(0x2f7)+(_0x419f80===_0xf881c5[_0x31bb80(0x248)]?_0x31bb80(0x4d4):'')+'\x20'+_0x1d5347)[_0x31bb80(0x8dc)]('\x0a');else _0xf881c5[_0x31bb80(0x4f0)]&&(_0x5ac5fd+=_0x31bb80(0x214)+_0xf881c5[_0x31bb80(0x4f0)]);return _0x5ac5fd;})[_0x5c0bae(0x8dc)]('\x0a\x0a');_0xfdd3f5[_0x5c0bae(0x603)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x25ea16='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x4a3e2d['topic']+_0x5c0bae(0x410)+_0x1fd7ff+_0x5c0bae(0x655)+simpleMathPrompt+_0x5c0bae(0x450),_0x30e951={'type':_0x5c0bae(0x2db),'properties':{'questionText':{'type':_0x5c0bae(0x858)},'questionType':{'type':_0x5c0bae(0x858),'enum':[_0x5c0bae(0x41d),_0x5c0bae(0x81d),_0x5c0bae(0x743),_0x5c0bae(0x526)]},'options':{'type':_0x5c0bae(0x820),'items':{'type':_0x5c0bae(0x858)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5c0bae(0x858)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x5c0bae(0x858)},'correctResponse':{'type':_0x5c0bae(0x858)},'allResponses':{'type':_0x5c0bae(0x820),'items':{'type':'STRING'}},'explanation':{'type':_0x5c0bae(0x858)},'imageCode':{'type':'STRING'}},'required':[_0x5c0bae(0x878),_0x5c0bae(0x188)]},_0x6a3301={'type':'OBJECT','properties':{'topic':{'type':_0x5c0bae(0x858)},'questions':{'type':_0x5c0bae(0x820),'items':_0x30e951}},'required':[_0x5c0bae(0x8af),_0x5c0bae(0x543)]},_0x2a44d5=await callAnalysisApi(_0x25ea16,_0x6a3301),_0xacb245='(คู่ขนาน)\x20'+_0x4a3e2d[_0x5c0bae(0x8af)],_0x33c51a={'topic':_0xacb245,'questions':_0x2a44d5[_0x5c0bae(0x543)],'quizType':_0x4a3e2d[_0x5c0bae(0x4ad)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5c0bae(0x5f8)](),'status':_0x5c0bae(0x32b),'settings':_0x4a3e2d[_0x5c0bae(0x73c)],'quizMode':_0x5c0bae(0x26f),'pairedQuizId':null,'lessonPlan':null};let _0x37fd81;while(!![]){_0x37fd81=Math[_0x5c0bae(0x3bb)](0x3e8+Math[_0x5c0bae(0x297)]()*0x2328)[_0x5c0bae(0x777)]();const _0x3f64b6=await getDoc(doc(db,_0x5c0bae(0x79b)+appId+_0x5c0bae(0x6ca),_0x37fd81));if(!_0x3f64b6[_0x5c0bae(0x837)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5c0bae(0x6ca),_0x37fd81),_0x33c51a),showMessage(_0x5c0bae(0x24c));}catch(_0x1b3fab){console[_0x5c0bae(0x7ad)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x1b3fab),showMessage(_0x5c0bae(0x70b)+_0x1b3fab[_0x5c0bae(0x6b9)]);}finally{const _0xdfa183=document[_0x5c0bae(0x683)]('temp-loader-results');_0xdfa183&&_0xdfa183['remove'](),_0x1c91ba[_0x5c0bae(0x274)][_0x5c0bae(0x2da)]('hidden');}}async function handleGenerateParallelPostTest(_0x3c29d3){const _0x4a6d7c=_0x338e4c,_0x4f314a=document['getElementById'](_0x4a6d7c(0x785)),_0x5e67db=document[_0x4a6d7c(0x683)](_0x4a6d7c(0x443));_0x5e67db['classList'][_0x4a6d7c(0x2e7)](_0x4a6d7c(0x8c6));const _0x49acd8=_0x4a6d7c(0x16f);_0x4f314a[_0x4a6d7c(0x18f)](_0x4a6d7c(0x7c8),_0x49acd8);try{const _0x1a0b2e=_0x3c29d3['questions'][_0x4a6d7c(0x5a8)]((_0x1fecfc,_0x425d2c)=>{const _0x23afc4=_0x4a6d7c;let _0x981cb1=_0x425d2c+0x1+'.\x20'+(_0x1fecfc[_0x23afc4(0x66e)]||_0x1fecfc[_0x23afc4(0x2de)]);if(_0x1fecfc[_0x23afc4(0x4a4)])_0x981cb1+=_0x23afc4(0x235)+_0x1fecfc[_0x23afc4(0x4a4)][_0x23afc4(0x8dc)](',\x20');return _0x981cb1;})[_0x4a6d7c(0x8dc)]('\x0a\x0a'),_0x278ef8=_0x4a6d7c(0x3f1)+_0x3c29d3[_0x4a6d7c(0x8af)]+_0x4a6d7c(0x270)+_0x1a0b2e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x38d25={'type':'OBJECT','properties':{'topic':{'type':_0x4a6d7c(0x858)},'questions':{'type':_0x4a6d7c(0x820),'items':{'type':_0x4a6d7c(0x2db),'properties':{'questionText':{'type':_0x4a6d7c(0x858)},'questionType':{'type':_0x4a6d7c(0x858)},'options':{'type':_0x4a6d7c(0x820),'items':{'type':_0x4a6d7c(0x858)}},'correctAnswerIndex':{'type':_0x4a6d7c(0x540)},'idealAnswer':{'type':_0x4a6d7c(0x858)},'explanation':{'type':'STRING'}},'required':[_0x4a6d7c(0x66e),_0x4a6d7c(0x188)]}}},'required':['topic',_0x4a6d7c(0x543)]},_0x2b9f3a=await callAnalysisApi(_0x278ef8,_0x38d25),_0x393f67=_0x3c29d3[_0x4a6d7c(0x8af)][_0x4a6d7c(0x631)]('(ก่อนเรียน)','')[_0x4a6d7c(0x369)](),_0x2c9ff3=_0x4a6d7c(0x8b9)+_0x393f67,_0x4d742d={..._0x2b9f3a,'topic':_0x2c9ff3,'quizType':_0x3c29d3[_0x4a6d7c(0x4ad)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4a6d7c(0x5f8)](),'status':'active','settings':_0x3c29d3[_0x4a6d7c(0x73c)],'quizMode':_0x4a6d7c(0x60b),'pairedQuizId':_0x3c29d3['id']};let _0x38e59a;while(!![]){_0x38e59a=Math['floor'](0x3e8+Math[_0x4a6d7c(0x297)]()*0x2328)['toString']();const _0x4582ff=await getDoc(doc(db,'artifacts/'+appId+_0x4a6d7c(0x6ca),_0x38e59a));if(!_0x4582ff[_0x4a6d7c(0x837)]())break;}await setDoc(doc(db,_0x4a6d7c(0x79b)+appId+_0x4a6d7c(0x6ca),_0x38e59a),_0x4d742d);const _0x573a29=doc(db,_0x4a6d7c(0x79b)+appId+'/public/data/quizzes',_0x3c29d3['id']);await updateDoc(_0x573a29,{'pairedQuizId':_0x38e59a}),showMessage(_0x4a6d7c(0x5ce));}catch(_0x50dc95){console[_0x4a6d7c(0x7ad)](_0x4a6d7c(0x1db),_0x50dc95),showMessage('เกิดข้อผิดพลาด:\x20'+_0x50dc95[_0x4a6d7c(0x6b9)]);}finally{const _0x582a8f=document[_0x4a6d7c(0x683)](_0x4a6d7c(0x3cd));if(_0x582a8f)_0x582a8f[_0x4a6d7c(0x2da)]();_0x5e67db[_0x4a6d7c(0x274)][_0x4a6d7c(0x2da)](_0x4a6d7c(0x8c6));}}async function handleGenerateParallelTest(){const _0x7a04f0=_0x338e4c,_0xbebd37=document[_0x7a04f0(0x683)]('parallel-test-upload-input'),_0x4cd6d0=_0xbebd37[_0x7a04f0(0x74c)][0x0];if(!_0x4cd6d0){showMessage(_0x7a04f0(0x5b2));return;}const _0xffb881=document['getElementById'](_0x7a04f0(0x527)),_0x2f8379=document[_0x7a04f0(0x683)](_0x7a04f0(0x404)),_0x1b8829=document[_0x7a04f0(0x683)](_0x7a04f0(0x80a)),_0x2a9238=document['getElementById'](_0x7a04f0(0x572));_0x2a9238[_0x7a04f0(0x442)]=!![],document[_0x7a04f0(0x683)](_0x7a04f0(0x467))['classList']['remove'](_0x7a04f0(0x8c6)),_0x1b8829['innerHTML']='',_0xffb881[_0x7a04f0(0x274)][_0x7a04f0(0x2da)](_0x7a04f0(0x8c6)),_0x2f8379[_0x7a04f0(0x603)]=_0x7a04f0(0x30d);try{const _0x516203=await extractTextFromPdf(_0x4cd6d0);if(!_0x516203['trim']())throw new Error(_0x7a04f0(0x690));_0x2f8379[_0x7a04f0(0x603)]=_0x7a04f0(0x781);const _0x34ff9e=document['getElementById']('include-images-checkbox')[_0x7a04f0(0x800)],_0x1a8b78=_0x34ff9e?_0x7a04f0(0x54f):'',_0x248f86='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x516203+_0x7a04f0(0x86a)+_0x1a8b78+_0x7a04f0(0x1f0)+simpleMathPrompt+_0x7a04f0(0x450),_0x21e917={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x7a04f0(0x41d),_0x7a04f0(0x81d)]},'options':{'type':_0x7a04f0(0x820),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x7a04f0(0x540)},'idealAnswer':{'type':_0x7a04f0(0x858)},'explanation':{'type':_0x7a04f0(0x858)},'imageCode':{'type':_0x7a04f0(0x858)}},'required':[_0x7a04f0(0x66e),_0x7a04f0(0x878),_0x7a04f0(0x188)]},_0x25957b={'type':_0x7a04f0(0x2db),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x21e917}},'required':[_0x7a04f0(0x8af),_0x7a04f0(0x543)]};await handleApiCall(_0x248f86,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x25957b);}catch(_0x3c1614){console[_0x7a04f0(0x7ad)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3c1614),showMessage(_0x7a04f0(0x70b)+_0x3c1614[_0x7a04f0(0x6b9)]),_0x1b8829['innerHTML']=_0x7a04f0(0x7da);}finally{_0xffb881[_0x7a04f0(0x274)][_0x7a04f0(0x2e7)](_0x7a04f0(0x8c6)),_0x2a9238[_0x7a04f0(0x442)]=![];}}async function handleRegenerateQuestionInEditor(_0xbc4053){const _0x399b6f=_0x338e4c;if(currentEditingQuizData===null)return;const _0x585239=document['querySelector'](_0x399b6f(0x15c)+_0xbc4053+'\x22]');_0x585239&&(_0x585239['innerHTML']=_0x399b6f(0x3ff));const _0x451a3a=currentEditingQuizData[_0x399b6f(0x543)][_0xbc4053],_0x18726b=currentEditingQuizData[_0x399b6f(0x8af)],_0x551b64=_0x451a3a[_0x399b6f(0x878)],_0x51894a={'type':_0x399b6f(0x2db),'properties':{'questionText':{'type':_0x399b6f(0x858)},'options':{'type':_0x399b6f(0x820),'items':{'type':_0x399b6f(0x858)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x399b6f(0x858)}},'required':[_0x399b6f(0x66e),_0x399b6f(0x4a4),'correctAnswerIndex',_0x399b6f(0x188)]},_0x14d249={'type':_0x399b6f(0x2db),'properties':{'questionText':{'type':_0x399b6f(0x858)},'idealAnswer':{'type':_0x399b6f(0x858)},'explanation':{'type':_0x399b6f(0x858)}},'required':['questionText',_0x399b6f(0x4f0),'explanation']};let _0x233a2c,_0x346952='';_0x551b64===_0x399b6f(0x41d)?(_0x233a2c=_0x51894a,_0x346952=_0x399b6f(0x21d)):(_0x233a2c=_0x14d249,_0x346952=_0x399b6f(0x76e));const _0x5406f5='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x18726b+_0x399b6f(0x301)+_0x346952+_0x399b6f(0x463)+(_0x451a3a['questionText']||_0x451a3a['stem'])+_0x399b6f(0x816)+simpleMathPrompt;try{const _0x42127f=await callAnalysisApi(_0x5406f5,_0x233a2c);currentEditingQuizData[_0x399b6f(0x543)][_0xbc4053]={..._0x451a3a,..._0x42127f},renderQuizEditor(currentEditingQuizData);}catch(_0x57cc83){console[_0x399b6f(0x7ad)](_0x399b6f(0x875),_0x57cc83),showMessage(_0x399b6f(0x548)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x51b5ca=_0x338e4c,_0x3d68da=document[_0x51b5ca(0x683)]('mode-switcher-btn');currentMode===_0x51b5ca(0x65f)?(adminPasswordModal[_0x51b5ca(0x274)][_0x51b5ca(0x2da)](_0x51b5ca(0x8c6)),document[_0x51b5ca(0x683)](_0x51b5ca(0x1b0))[_0x51b5ca(0x583)]()):(currentMode=_0x51b5ca(0x65f),_0x3d68da[_0x51b5ca(0x57a)]=_0x51b5ca(0x5b0),_0x3d68da[_0x51b5ca(0x4ef)]=_0x51b5ca(0x4dc),showView(_0x51b5ca(0x65f)));}function handleAdminLogin(){const _0x41a179=_0x338e4c,_0x72c3aa=document[_0x41a179(0x683)](_0x41a179(0x1b0)),_0x54cd0e=document[_0x41a179(0x683)](_0x41a179(0x54c));if(_0x72c3aa['value']===_0x41a179(0x325)){adminPasswordModal['classList'][_0x41a179(0x2e7)](_0x41a179(0x8c6)),_0x72c3aa['value']='',_0x54cd0e[_0x41a179(0x274)][_0x41a179(0x2e7)](_0x41a179(0x8c6)),currentMode=_0x41a179(0x286);const _0x273c54=document[_0x41a179(0x683)](_0x41a179(0x6a2));_0x273c54[_0x41a179(0x57a)]=_0x41a179(0x715),_0x273c54[_0x41a179(0x4ef)]=_0x41a179(0x44f),showView(_0x41a179(0x707));}else _0x54cd0e['classList'][_0x41a179(0x2da)](_0x41a179(0x8c6)),_0x72c3aa['value']='';}function switchProjectTab(_0x436d67){const _0x3e4700=_0x338e4c;[_0x3e4700(0x7a4),'results',_0x3e4700(0x873)][_0x3e4700(0x630)](_0x1c1de7=>{const _0x1afab4=_0x3e4700;document[_0x1afab4(0x683)](_0x1c1de7+_0x1afab4(0x8f1))['classList'][_0x1afab4(0x2da)](_0x1afab4(0x32b)),document[_0x1afab4(0x683)](_0x1c1de7+_0x1afab4(0x377))[_0x1afab4(0x274)]['add'](_0x1afab4(0x8c6));}),document[_0x3e4700(0x683)](_0x436d67+_0x3e4700(0x8f1))['classList']['add']('active'),document[_0x3e4700(0x683)](_0x436d67+_0x3e4700(0x377))[_0x3e4700(0x274)][_0x3e4700(0x2da)]('hidden');}function switchQuizDetailTab(_0x26bbe3){const _0x34dc99=_0x338e4c,_0x49f37={'analytics':{'btn':_0x34dc99(0x54a),'content':_0x34dc99(0x37e)},'scores':{'btn':_0x34dc99(0x6a6),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x34dc99(0x8bb),'content':_0x34dc99(0x39f)}};for(const _0x191b4b in _0x49f37){document['getElementById'](_0x49f37[_0x191b4b][_0x34dc99(0x366)])[_0x34dc99(0x274)][_0x34dc99(0x2da)](_0x34dc99(0x32b)),document[_0x34dc99(0x683)](_0x49f37[_0x191b4b][_0x34dc99(0x6f7)])[_0x34dc99(0x274)]['add'](_0x34dc99(0x8c6));}document['getElementById'](_0x49f37[_0x26bbe3]['btn'])[_0x34dc99(0x274)][_0x34dc99(0x2e7)]('active'),document[_0x34dc99(0x683)](_0x49f37[_0x26bbe3][_0x34dc99(0x6f7)])[_0x34dc99(0x274)][_0x34dc99(0x2da)](_0x34dc99(0x8c6));}function showMessage(_0x5e3d66,_0x581fc5=null){const _0x230050=_0x338e4c;modalMessage[_0x230050(0x603)]=_0x5e3d66,modalConfirmAction=_0x581fc5,messageModal[_0x230050(0x274)][_0x230050(0x2da)]('hidden');}function showConfirmation(_0x2833ad,_0x58b312){const _0x42e931=_0x338e4c;document['getElementById'](_0x42e931(0x640))['textContent']=_0x2833ad,document[_0x42e931(0x683)](_0x42e931(0x5c3))[_0x42e931(0x26a)]('h3')[_0x42e931(0x603)]=_0x42e931(0x257),confirmAction=_0x58b312,confirmationModal[_0x42e931(0x274)][_0x42e931(0x2da)]('hidden');}function listenForProjects(){const _0x635037=_0x338e4c,_0x30ae88=doc(db,_0x635037(0x579),_0x635037(0x340));onSnapshot(_0x30ae88,_0x5310ff=>{const _0x54bb7c=_0x635037;if(_0x5310ff[_0x54bb7c(0x837)]()){const _0x1ecb01=_0x5310ff[_0x54bb7c(0x7e6)]();globalDashboardSettings[_0x54bb7c(0x8a9)]=_0x1ecb01[_0x54bb7c(0x8a9)]||'date_desc',globalDashboardSettings['pinnedProjects']=_0x1ecb01[_0x54bb7c(0x2a8)]||[],globalDashboardSettings[_0x54bb7c(0x5a3)]=_0x1ecb01['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x474731=collection(db,_0x635037(0x79b)+appId+_0x635037(0x7ae));unsubscribeProjectsListener=onSnapshot(_0x474731,_0xef369e=>{const _0x382b18=_0x635037;allProjects=_0xef369e['docs']['map'](_0x3e5a7a=>({'id':_0x3e5a7a['id'],..._0x3e5a7a[_0x382b18(0x7e6)]()})),renderProjects();},_0x6c2098=>{const _0x4e9bb5=_0x635037;console['error'](_0x4e9bb5(0x71b),_0x6c2098),showMessage(_0x4e9bb5(0x592));});}function showColorPalette(_0x2da28f,_0x19d7c7){const _0x539011=_0x338e4c;document['querySelectorAll'](_0x539011(0x426))[_0x539011(0x630)](_0x44ae22=>_0x44ae22[_0x539011(0x2da)]());const _0x582d5e=[_0x539011(0x16e),_0x539011(0x8bc),_0x539011(0x537),'#D1FAE5',_0x539011(0x621),_0x539011(0x36f),_0x539011(0x43f),'#FCE7F3',_0x539011(0x256)],_0x2ab10c=document[_0x539011(0x556)](_0x539011(0x6c4));_0x2ab10c[_0x539011(0x80d)]=_0x539011(0x587),_0x582d5e[_0x539011(0x630)](_0x35add0=>{const _0xdd3978=_0x539011,_0x2f7fd6=document['createElement'](_0xdd3978(0x6c4));_0x2f7fd6[_0xdd3978(0x80d)]=_0xdd3978(0x6f1),_0x2f7fd6[_0xdd3978(0x3fc)]['backgroundColor']=_0x35add0,_0x2f7fd6[_0xdd3978(0x4aa)](_0xdd3978(0x32a),()=>{const _0x20982c=_0xdd3978;handleProjectColorChange(_0x19d7c7,_0x35add0),_0x2ab10c[_0x20982c(0x2da)]();}),_0x2ab10c['appendChild'](_0x2f7fd6);}),document[_0x539011(0x5cb)][_0x539011(0x295)](_0x2ab10c);const _0x442b3a=_0x2da28f[_0x539011(0x309)]();_0x2ab10c[_0x539011(0x3fc)][_0x539011(0x744)]=_0x442b3a['bottom']+window[_0x539011(0x283)]+'px',_0x2ab10c[_0x539011(0x3fc)][_0x539011(0x1dd)]=_0x442b3a['left']+window[_0x539011(0x42b)]-_0x2ab10c[_0x539011(0x5fb)]/0x2+'px';}async function handleProjectColorChange(_0x363237,_0x155504){const _0x5943b7=_0x338e4c,_0x424bf4=doc(db,'artifacts/'+appId+_0x5943b7(0x7ae),_0x363237);try{await updateDoc(_0x424bf4,{'color':_0x155504});}catch(_0x16ee8c){console[_0x5943b7(0x7ad)]('Error\x20updating\x20project\x20color:',_0x16ee8c),showMessage(_0x5943b7(0x7b3));}}async function renderProjects(){const _0x1f18e9=_0x338e4c,_0x21ffcb=globalDashboardSettings[_0x1f18e9(0x8a9)]||_0x1f18e9(0x5c4),_0x2624e3=new Set(globalDashboardSettings[_0x1f18e9(0x2a8)]||[]),_0xf8a87d=globalDashboardSettings[_0x1f18e9(0x605)]||_0x1f18e9(0x447),_0x435d26=document['getElementById'](_0x1f18e9(0x767)),_0x404c97=document[_0x1f18e9(0x683)](_0x1f18e9(0x804));_0x435d26['classList'][_0x1f18e9(0x3b0)](_0x1f18e9(0x32b),_0xf8a87d===_0x1f18e9(0x447)),_0x404c97[_0x1f18e9(0x274)][_0x1f18e9(0x3b0)](_0x1f18e9(0x32b),_0xf8a87d===_0x1f18e9(0x89e)),document[_0x1f18e9(0x683)](_0x1f18e9(0x85a))[_0x1f18e9(0x1e4)]=_0x21ffcb;const _0x536385=document[_0x1f18e9(0x683)](_0x1f18e9(0x403))['value'][_0x1f18e9(0x797)]();let _0x3ae724=allProjects['filter'](_0xff5fc1=>_0xff5fc1[_0x1f18e9(0x5f5)]['toLowerCase']()['includes'](_0x536385));const _0x5d71d1=_0x3ae724[_0x1f18e9(0x5d7)](_0x49fc51=>_0x2624e3[_0x1f18e9(0x7d6)](_0x49fc51['id'])),_0x54b059=_0x3ae724['filter'](_0x281eb4=>!_0x2624e3['has'](_0x281eb4['id'])),_0x208613=(_0x39c97b,_0xc6495a)=>{const _0x3f8ab6=_0x1f18e9;switch(_0x21ffcb){case _0x3f8ab6(0x2fc):return _0x39c97b[_0x3f8ab6(0x5f5)][_0x3f8ab6(0x503)](_0xc6495a[_0x3f8ab6(0x5f5)],'th');case _0x3f8ab6(0x877):return _0xc6495a[_0x3f8ab6(0x5f5)][_0x3f8ab6(0x503)](_0x39c97b[_0x3f8ab6(0x5f5)],'th');case _0x3f8ab6(0x4ec):return new Date(_0x39c97b[_0x3f8ab6(0x62d)])-new Date(_0xc6495a[_0x3f8ab6(0x62d)]);default:return new Date(_0xc6495a[_0x3f8ab6(0x62d)])-new Date(_0x39c97b[_0x3f8ab6(0x62d)]);}};_0x5d71d1[_0x1f18e9(0x53c)](_0x208613),_0x54b059[_0x1f18e9(0x53c)](_0x208613);const _0x414d3a=[..._0x5d71d1,..._0x54b059],_0x3132df=globalDashboardSettings[_0x1f18e9(0x5a3)]||[];_0x3132df['length']>0x0&&_0xf8a87d==='grid'&&_0x414d3a[_0x1f18e9(0x53c)]((_0x2220a2,_0x2d96d6)=>{const _0x523831=_0x1f18e9,_0x3f8e7c=_0x3132df[_0x523831(0x6b5)](_0x2220a2['id']),_0x34fdec=_0x3132df[_0x523831(0x6b5)](_0x2d96d6['id']);if(_0x3f8e7c===-0x1)return 0x1;if(_0x34fdec===-0x1)return-0x1;return _0x3f8e7c-_0x34fdec;});const _0x14dbb8={};await Promise['all'](_0x414d3a[_0x1f18e9(0x5a8)](async _0x276a64=>{const _0x5c2a5a=_0x1f18e9,_0x28a760=query(collection(db,_0x5c2a5a(0x79b)+appId+_0x5c2a5a(0x6ca)),where(_0x5c2a5a(0x2cc),'==',_0x276a64['id'])),_0x1696bf=await getDocs(_0x28a760);_0x14dbb8[_0x276a64['id']]=_0x1696bf[_0x5c2a5a(0x1ec)];}));const _0xf9d12f=document[_0x1f18e9(0x683)]('project-list');let _0x323eb1='';if(_0xf8a87d===_0x1f18e9(0x447)){_0xf9d12f[_0x1f18e9(0x80d)]=_0x1f18e9(0x7c2);if(starredQuizzes[_0x1f18e9(0x7c4)]>0x0&&_0x536385===''){const _0x428491=starredQuizzes['map'](_0x26af2f=>{const _0x23d8fd=_0x1f18e9,_0x2d672b=allProjects[_0x23d8fd(0x337)](_0x3590b1=>_0x3590b1['id']===_0x26af2f[_0x23d8fd(0x2cc)]);return{..._0x26af2f,'projectName':_0x2d672b?_0x2d672b[_0x23d8fd(0x5f5)]:_0x23d8fd(0x8f4)};});_0x323eb1+=_0x1f18e9(0x1ed)+_0x428491[_0x1f18e9(0x5a8)](_0x27bd57=>_0x1f18e9(0x343)+_0x27bd57[_0x1f18e9(0x8af)]+'\x22>'+_0x27bd57[_0x1f18e9(0x8af)]+_0x1f18e9(0x763)+_0x27bd57[_0x1f18e9(0x5f5)]+_0x1f18e9(0x27d)+_0x27bd57[_0x1f18e9(0x5f5)]+_0x1f18e9(0x4c4))[_0x1f18e9(0x8dc)]('')+_0x1f18e9(0x2d5)+starredQuizzes[_0x1f18e9(0x7c4)]+_0x1f18e9(0x38c);}_0x414d3a[_0x1f18e9(0x630)](_0x48dace=>{const _0x42bb23=_0x1f18e9,_0xf80327=_0x14dbb8[_0x48dace['id']]??0x0,_0x26942a=_0x2624e3[_0x42bb23(0x7d6)](_0x48dace['id']),_0xaf728f=_0x48dace[_0x42bb23(0x771)]||_0x42bb23(0x16e),_0x13c629=parseInt(_0xaf728f[_0x42bb23(0x735)](0x1,0x3),0x10)*0.299+parseInt(_0xaf728f[_0x42bb23(0x735)](0x3,0x5),0x10)*0.587+parseInt(_0xaf728f[_0x42bb23(0x735)](0x5,0x7),0x10)*0.114<0xba,_0x254434=_0x13c629?_0x42bb23(0x43c):_0x42bb23(0x5fc),_0x2bb61c=_0x13c629?_0x42bb23(0x813):_0x42bb23(0x429);_0x323eb1+=_0x42bb23(0x654)+(_0x26942a?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x42bb23(0x34b)+_0xaf728f+_0x42bb23(0x648)+_0x48dace['id']+_0x42bb23(0x380)+_0x48dace['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x13c629?_0x42bb23(0x555):_0x42bb23(0x413))+_0x42bb23(0x192)+_0x48dace['id']+_0x42bb23(0x761)+(_0x13c629?_0x42bb23(0x555):_0x42bb23(0x413))+_0x42bb23(0x225)+(_0x26942a?_0x13c629?_0x42bb23(0x1f2):_0x42bb23(0x6ea):'')+_0x42bb23(0x67b)+_0x48dace['id']+_0x42bb23(0x1a9)+_0x254434+_0x42bb23(0x303)+_0x48dace[_0x42bb23(0x5f5)]+_0x42bb23(0x16b)+_0x2bb61c+_0x42bb23(0x3e2)+new Date(_0x48dace[_0x42bb23(0x62d)])[_0x42bb23(0x33b)]('th-TH')+_0x42bb23(0x58d)+(_0x13c629?_0x42bb23(0x8bf):_0x42bb23(0x212))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0xf80327+_0x42bb23(0x549)+_0x48dace['id']+_0x42bb23(0x3dc)+_0x48dace['projectName']+_0x42bb23(0x499)+(_0x13c629?_0x42bb23(0x164):_0x42bb23(0x4d8))+_0x42bb23(0x5f1);});}else _0xf9d12f['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0x1f18e9(0x7c4)]>0x0&&_0x536385===''&&(_0x323eb1+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x1f18e9(0x7c4)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x323eb1+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x414d3a['forEach'](_0x335460=>{const _0x459bee=_0x1f18e9,_0x1e7ad5=_0x14dbb8[_0x335460['id']]??0x0,_0x2192f3=_0x2624e3[_0x459bee(0x7d6)](_0x335460['id']);_0x323eb1+=_0x459bee(0x565)+(_0x335460[_0x459bee(0x771)]||_0x459bee(0x256))+_0x459bee(0x712)+_0x335460['id']+_0x459bee(0x680)+_0x335460['projectName']+_0x459bee(0x673)+_0x1e7ad5+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x335460[_0x459bee(0x62d)])['toLocaleString']('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x335460['id']+_0x459bee(0x6c5)+(_0x2192f3?_0x459bee(0x6ea):'')+_0x459bee(0x6d1)+_0x335460['id']+_0x459bee(0x3dc)+_0x335460[_0x459bee(0x5f5)]+_0x459bee(0x387);});projectList[_0x1f18e9(0x57a)]=_0x323eb1,noProjectsMsg[_0x1f18e9(0x274)]['toggle'](_0x1f18e9(0x8c6),_0x323eb1[_0x1f18e9(0x7c4)]>0x0);}document['getElementById'](_0x338e4c(0x28e))['addEventListener'](_0x338e4c(0x32a),async()=>{const _0x598423=_0x338e4c,_0x5963e8=document[_0x598423(0x683)](_0x598423(0x7b7)),_0x48ced3=_0x5963e8[_0x598423(0x1e4)][_0x598423(0x369)]();if(!_0x48ced3){showMessage(_0x598423(0x8ed));return;}try{const _0x2ff138=doc(collection(db,'artifacts/'+appId+_0x598423(0x7ae)));await setDoc(_0x2ff138,{'projectName':_0x48ced3,'students':[],'settings':{'resultsDisplay':_0x598423(0x230),'shuffleSetting':_0x598423(0x315),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x598423(0x315),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x598423(0x5f8)]()}),_0x5963e8[_0x598423(0x1e4)]='',createProjectModal[_0x598423(0x274)][_0x598423(0x2e7)]('hidden'),showMessage(_0x598423(0x78b));}catch(_0x2006d8){console['error'](_0x598423(0x460),_0x2006d8),showMessage(_0x598423(0x34d));}}),projectList[_0x338e4c(0x4aa)](_0x338e4c(0x32a),async _0x1571d2=>{const _0x24fd8d=_0x338e4c,_0x48b809=_0x1571d2[_0x24fd8d(0x7e8)][_0x24fd8d(0x3fb)](_0x24fd8d(0x4bf)),_0x38cd2d=_0x1571d2['target'][_0x24fd8d(0x3fb)]('.delete-project-btn'),_0x2a85f6=_0x1571d2['target'][_0x24fd8d(0x3fb)]('.pin-project-btn'),_0x1bfdc6=_0x1571d2[_0x24fd8d(0x7e8)][_0x24fd8d(0x3fb)](_0x24fd8d(0x393));if(_0x2a85f6){const _0x4d8a16=_0x2a85f6['dataset']['id'],_0x1302d7=doc(db,_0x24fd8d(0x579),'dashboardConfig'),_0xe596a4=globalDashboardSettings[_0x24fd8d(0x2a8)];let _0x405d29;_0xe596a4[_0x24fd8d(0x45f)](_0x4d8a16)?_0x405d29=_0xe596a4[_0x24fd8d(0x5d7)](_0x328d76=>_0x328d76!==_0x4d8a16):_0x405d29=[..._0xe596a4,_0x4d8a16];try{await setDoc(_0x1302d7,{'pinnedProjects':_0x405d29},{'merge':!![]});}catch(_0xe02e7a){console[_0x24fd8d(0x7ad)](_0x24fd8d(0x191),_0xe02e7a),showMessage(_0x24fd8d(0x684));}}else{if(_0x1bfdc6){const _0x3fb45c=_0x1bfdc6[_0x24fd8d(0x432)]['id'];showColorPalette(_0x1bfdc6,_0x3fb45c);}else{if(_0x48b809){const _0x50b1ef=_0x48b809[_0x24fd8d(0x432)]['id'];_0x50b1ef==='starred-project'?showStarredProjectView():(currentProjectId=_0x50b1ef,await loadProjectDetails(currentProjectId),showView(_0x24fd8d(0x3e7)));}else{if(_0x38cd2d){const _0x212bdf=_0x38cd2d[_0x24fd8d(0x432)]['id'],_0x1838ac=_0x38cd2d[_0x24fd8d(0x432)][_0x24fd8d(0x289)];showConfirmation(_0x24fd8d(0x48b)+_0x1838ac+_0x24fd8d(0x2a9),()=>handleDeleteProject(_0x212bdf));}}}}}),projectList['addEventListener'](_0x338e4c(0x329),_0x4038dc=>{const _0x1948ad=_0x338e4c,_0x16febb=_0x4038dc[_0x1948ad(0x7e8)]['closest'](_0x1948ad(0x243));_0x16febb&&_0x16febb[_0x1948ad(0x274)][_0x1948ad(0x2e7)](_0x1948ad(0x6e6));}),projectList[_0x338e4c(0x4aa)](_0x338e4c(0x249),_0x13c6f4=>{const _0x1dc727=_0x338e4c,_0x2dd974=_0x13c6f4[_0x1dc727(0x7e8)][_0x1dc727(0x3fb)](_0x1dc727(0x243));_0x2dd974&&_0x2dd974[_0x1dc727(0x274)][_0x1dc727(0x2da)](_0x1dc727(0x6e6));}),projectList[_0x338e4c(0x4aa)](_0x338e4c(0x2a0),_0x4b1cdb=>{const _0x1fb603=_0x338e4c;_0x4b1cdb[_0x1fb603(0x646)]();const _0x1d6006=document[_0x1fb603(0x26a)]('.project-card-container.opacity-50');if(!_0x1d6006)return;const _0x3e085a=getDragAfterElement(projectList,_0x4b1cdb[_0x1fb603(0x2c3)]);_0x3e085a==null?projectList[_0x1fb603(0x295)](_0x1d6006):projectList[_0x1fb603(0x356)](_0x1d6006,_0x3e085a);}),projectList['addEventListener'](_0x338e4c(0x2d2),_0x468e7c=>{const _0x40a290=_0x338e4c;_0x468e7c[_0x40a290(0x646)]();const _0x328e19=[...projectList[_0x40a290(0x51a)](_0x40a290(0x3b1))][_0x40a290(0x5a8)](_0x29691d=>_0x29691d[_0x40a290(0x432)]['id']);saveProjectOrder(_0x328e19);});function renderBehaviorLog(_0x122cac){const _0x278cf2=_0x338e4c,_0x293022=document['getElementById']('behavior-log-container');if(!_0x293022)return;const _0x19ae6f=_0x122cac[_0x278cf2(0x5d7)](_0x1d277c=>_0x1d277c[_0x278cf2(0x72e)]&&_0x1d277c[_0x278cf2(0x72e)][_0x278cf2(0x7c4)]>0x0);if(_0x19ae6f['length']===0x0){_0x293022['innerHTML']=_0x278cf2(0x6a1);return;}let _0x42a266='';_0x19ae6f['forEach'](_0x3f9fb2=>{const _0x15792c=_0x278cf2;_0x42a266+=_0x15792c(0x36c)+_0x3f9fb2[_0x15792c(0x2d0)]+_0x15792c(0x8e4),_0x3f9fb2[_0x15792c(0x72e)][_0x15792c(0x53c)]((_0x56b1eb,_0x98aa95)=>new Date(_0x98aa95[_0x15792c(0x417)])-new Date(_0x56b1eb['timestamp']))[_0x15792c(0x630)](_0x2c19a1=>{const _0x272571=_0x15792c,_0x5251f8=new Date(_0x2c19a1['timestamp'])[_0x272571(0x19e)](_0x272571(0x59e),{'dateStyle':'short','timeStyle':_0x272571(0x2f4)});_0x42a266+=_0x272571(0x650)+_0x2c19a1[_0x272571(0x508)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x5251f8+_0x272571(0x7c7);}),_0x42a266+=_0x15792c(0x7d5);}),_0x293022['innerHTML']=_0x42a266;}function getDragAfterElement(_0x1ff09c,_0x2eeb49){const _0x1b4bfe=_0x338e4c,_0x2b30c2=[..._0x1ff09c[_0x1b4bfe(0x51a)](_0x1b4bfe(0x4bd))];return _0x2b30c2[_0x1b4bfe(0x685)]((_0x10183a,_0xdfb1f5)=>{const _0xddaf75=_0x1b4bfe,_0x1307b0=_0xdfb1f5['getBoundingClientRect'](),_0x5e5939=_0x2eeb49-_0x1307b0[_0xddaf75(0x744)]-_0x1307b0[_0xddaf75(0x66f)]/0x2;return _0x5e5939<0x0&&_0x5e5939>_0x10183a[_0xddaf75(0x27e)]?{'offset':_0x5e5939,'element':_0xdfb1f5}:_0x10183a;},{'offset':Number[_0x1b4bfe(0x32e)]})[_0x1b4bfe(0x201)];}async function saveProjectOrder(_0x2db593){const _0xcde25=_0x338e4c,_0x4945e2=doc(db,_0xcde25(0x579),_0xcde25(0x340));try{await setDoc(_0x4945e2,{'projectOrder':_0x2db593},{'merge':!![]});}catch(_0x791a2a){console[_0xcde25(0x7ad)](_0xcde25(0x867),_0x791a2a),showMessage(_0xcde25(0x419));}}async function logBehaviorEvent(_0x516442,_0x35f5bb={}){const _0x2c24a2=_0x338e4c;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2c24a2(0x3ac)](_0x2c24a2(0x694));return;}const _0xe3f968=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x426bc3={'event':_0x516442,'timestamp':new Date()['toISOString'](),..._0x35f5bb};try{await setDoc(_0xe3f968,{'behaviorLog':arrayUnion(_0x426bc3)},{'merge':!![]}),console['log'](_0x2c24a2(0x473)+currentStudentName+'\x20สำเร็จ:\x20'+_0x516442);}catch(_0x283153){console[_0x2c24a2(0x7ad)](_0x2c24a2(0x723),_0x283153);}}function calculateMeanAndStdDev(_0x3b93f5){const _0x661dba=_0x338e4c;if(_0x3b93f5[_0x661dba(0x7c4)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1be048=_0x3b93f5[_0x661dba(0x685)]((_0x238b3f,_0x49cf72)=>_0x238b3f+_0x49cf72,0x0)/_0x3b93f5[_0x661dba(0x7c4)];if(_0x3b93f5[_0x661dba(0x7c4)]===0x1)return{'mean':_0x1be048,'stdDev':0x0};const _0x34c2ff=Math[_0x661dba(0x7f8)](_0x3b93f5['map'](_0xf8c94=>Math[_0x661dba(0x8c7)](_0xf8c94-_0x1be048,0x2))[_0x661dba(0x685)]((_0x1a8dc1,_0x23ad1c)=>_0x1a8dc1+_0x23ad1c,0x0)/(_0x3b93f5[_0x661dba(0x7c4)]-0x1));return{'mean':_0x1be048,'stdDev':_0x34c2ff};}function calculateZScore(_0x38ca72,_0x1a604f,_0x41cfbb){if(_0x41cfbb===0x0)return 0x0;return(_0x38ca72-_0x1a604f)/_0x41cfbb;}function calculateTScore(_0x2bcbd2){return 0xa*_0x2bcbd2+0x32;}function showStarredProjectView(){const _0x4cd4a3=_0x338e4c;currentProjectId=_0x4cd4a3(0x620),currentProjectData=null,projectTitle[_0x4cd4a3(0x603)]=_0x4cd4a3(0x557),projectIdDisplay[_0x4cd4a3(0x603)]=_0x4cd4a3(0x15f),showView(_0x4cd4a3(0x3e7)),manageTab[_0x4cd4a3(0x274)][_0x4cd4a3(0x2e7)](_0x4cd4a3(0x8c6)),leaderboardTab[_0x4cd4a3(0x274)][_0x4cd4a3(0x2e7)](_0x4cd4a3(0x8c6)),switchProjectTab(_0x4cd4a3(0x3e1)),renderQuizzes();}async function loadProjectDetails(_0x40edf3){const _0x411a44=_0x338e4c,_0x11f6db=doc(db,'artifacts/'+appId+'/public/data/projects',_0x40edf3),_0x13c281=await getDoc(_0x11f6db);if(_0x13c281[_0x411a44(0x837)]()){manageTab[_0x411a44(0x274)][_0x411a44(0x2da)]('hidden'),leaderboardTab[_0x411a44(0x274)][_0x411a44(0x2da)](_0x411a44(0x8c6)),currentProjectData=_0x13c281[_0x411a44(0x7e6)](),projectTitle[_0x411a44(0x603)]=currentProjectData[_0x411a44(0x5f5)],projectIdDisplay[_0x411a44(0x603)]=_0x40edf3;const _0x5b284f=currentProjectData[_0x411a44(0x73c)]||{};document['getElementById'](_0x411a44(0x1cb))[_0x411a44(0x1e4)]=_0x5b284f['shuffleSetting']||_0x411a44(0x315);const _0x3f2acd=document[_0x411a44(0x683)]('show-in-student-dashboard-checkbox');_0x3f2acd[_0x411a44(0x800)]=_0x5b284f['showInStudentDashboard']!==![];const _0x3f4f99=document['getElementById'](_0x411a44(0x19f)),_0x4c2330=document[_0x411a44(0x683)](_0x411a44(0x41e)),_0x3fc8ec=document[_0x411a44(0x683)](_0x411a44(0x4e0)),_0x4d0bec=_0x5b284f[_0x411a44(0x319)]||![];_0x3f4f99['checked']=_0x4d0bec,_0x3fc8ec[_0x411a44(0x1e4)]=_0x5b284f['passcode']||'',_0x4c2330[_0x411a44(0x274)][_0x411a44(0x3b0)]('hidden',!_0x4d0bec),_0x3f4f99['onchange']=()=>{const _0x4eb12f=_0x411a44;_0x4c2330['classList'][_0x4eb12f(0x3b0)](_0x4eb12f(0x8c6),!_0x3f4f99['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x40edf3),listenForProjectQuizzes(_0x40edf3),listenForStudentProfiles(_0x40edf3);}else showMessage(_0x411a44(0x2e8)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x1dc452=_0x338e4c,_0xc06497=doc(db,'globalSettings',_0x1dc452(0x340));try{await setDoc(_0xc06497,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1dc452(0x41c));}catch(_0x2d8d67){console[_0x1dc452(0x7ad)](_0x1dc452(0x489),_0x2d8d67),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}function _0x4fd4(){const _0x4eba48=['.unpair-quiz-btn','Remedial\x20quiz\x20generation\x20failed:','revealed','no-projects-msg','\x20ใหม่...','confirm-admin-login-btn','isRemedial','manage','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','quiz','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','error','/public/data/projects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','[role=\x22textbox\x22]','เกิดข้อผิดพลาดในการเปลี่ยนสี','Error\x20starting\x20live\x20race:','mousemove','display','project-name-input','</span></p>','false','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','):\x20','[contenteditable=\x22true\x22]','project-dashboard-view','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','onchange','แบบทดสอบนี้หมดเวลาแล้ว','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','mouseleave','length','#results-table','status','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','สมการราก\x20(radical)','fa-user-astronaut\x20text-blue-700','quiz-form','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x5csum','passcode-prompt-message','^{\x5ccirc}\x5ctext{C}$','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','API\x20call\x20failed','อินเวอร์สของเมทริกซ์','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','has','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','standardTopic','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','quiz-results-table-body','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22>ไม่ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','student-quiz-leaderboard-tab','\x5cneq','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','result','data','tGain','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','copy','removeChild','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','border-green-300\x20bg-green-50','project-detail-view','fa-shield-alt\x20text-gray-600','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','การแจกแจงปกติและ\x20z-score','back-to-student-initial-btn','toFixed','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลำดับเรขาคณิต\x20(GP)','sqrt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.quiz-result-card','execCommand','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','num-questions','create-project-btn','rgba(16,\x20185,\x20129,\x200.7)','checked','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','list-view-btn','attempts','index','การบวกเศษส่วน','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','cancel-quiz-status-btn','generated-quiz-container','student-quiz-area','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','className','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','label','join-live-game-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','พีชคณิตและฟังก์ชัน','บันทึกการตั้งค่าแล้ว','\x22.\x20','กรุณาใส่ชื่อนักเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','fullscreenchange','total','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','FileReader\x20error:','short_answer','เมทริกซ์:\x20บวก/คูณ','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ARRAY','/public/data/practiceBank','cancel-quiz-edits-btn','question-complexity-select','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','close-game-final-btn','generate-from-blueprint-btn','\x20/\x20','qType','ฟังก์ชันพหุนาม','student-project-leaderboard-content','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','set','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','อนุพันธ์:\x20กฎลูกโซ่','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','rename-quiz-input','\x20(p=','.verification-result','student-list','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','modal-shuffle-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','onclick','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','user-id-display','student-progress-content','badgesCount','องค์ประกอบของฟังก์ชัน','กรุณาวาง\x20URL\x20ของบทความก่อน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','ลิมิต','results-display-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timer-mode-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','bottom','verify-answers-btn','.pointsLastQuestion','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','ส่วนเบี่ยงเบนเฉลี่ย','ทฤษฎีบทพื้นฐานของแคลคูลัส','.verification-result-editor','generate-from-file-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','[data-is-correct=\x22true\x22]','STRING','หน่วยเวลาและการคำนวณเวลา','project-sort-select','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','change','.topic-category','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ปริมาตรรูปทรงสามมิติ','<p><strong>คำตอบของคุณ:</strong>\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','requestFullscreen','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','true','student-rankings-modal','Error\x20saving\x20project\x20order:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','entries','/public/data/liveGames','</p><p><strong>เฉลย:</strong>\x20','แผนภาพเวนน์','player-list-lobby','</tbody></table></div>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','leaderboard','far\x20fa-star','Error\x20regenerating\x20question\x20in\x20editor:','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','name_desc','questionType','input[type=\x22radio\x22]:checked','quiz-bank-count','drill-feedback','quizMode','setAttribute','<div\x20class=\x22','quiz-leaderboard-table','<div\x20class=\x22answer-space\x22></div>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','text-green-900','bg-red-100','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','key','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','timerMode','เส้นจำนวน','แบบทดสอบซ่อมเสริม','สามเหลี่ยม\x20(ชนิด/สมบัติ)','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','คำถามดิบ:\x20\x22','blueprint-tab','ชนิดของข้อมูลและการเก็บข้อมูล','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','inactive','ความน่าจะเป็นแบบมีเงื่อนไข','ค่าสัมบูรณ์','.duplicate-quiz-btn','question','dfrac','</li>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x20ช่อง','presentation-slide-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','project-title','#student-project-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-selection-view','topic-input-area','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','practice-topic-btn','choices_only','topic','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','href','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','onerror','คณิตศาสตร์','ไม่พบข้อมูลข้อสอบหลังเรียน','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<div\x20class=\x22my-6\x22>','(หลังเรียน)\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','behavior-log-tab-btn','#FEE2E2','delete-svg-btn','ฟังก์ชันกำลังสองและกราฟ','text-gray-100','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-bank-modal','.topic-row','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.quiz-bank-parallel-btn','overallGroups','hidden','pow','พาราโบลา','สมการยกกำลัง','<p\x20class=\x22font-bold\x20text-sm\x20','rgba(79,\x2070,\x20229,\x201)','promise','164394hTEyRn','resultsDisplay','admin-testing','การหาร','justification','พื้นที่สี่เหลี่ยม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Error\x20during\x20class\x20analysis:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','project-passcode-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','join','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<div\x20class=\x22space-y-4\x22>','สมมาตร\x20(แกน/จุด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','difficulty-level-select','link-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันราก\x20(root)','<p\x20class=\x22','Error\x20displaying\x20question\x20bank:','answer-counter','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','การประยุกต์เวกเตอร์พื้นฐาน','answering','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาใส่ชื่อโปรเจค','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','-tab','auto','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','N/A','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','presentation-modal','รูปสี่เหลี่ยมและสมบัติ','อัตราส่วนและสัดส่วน','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','blockReason','fromCharCode','.question-editor-item[data-q-index=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','pinned-items','Error\x20joining\x20live\x20game:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','$1\x5ctext{','Error\x20deleting\x20submission:','text-red-300\x20hover:text-red-100','bg-yellow-50','{$1}','input[type=\x22checkbox\x22]:checked','cancel-quiz-settings-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','comparison-overall-content','raw','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20project:','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</form>','results-quiz-title','<option\x20value=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','cancel-move-quiz-btn','comparison-modal','text-blue-700','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','write','shuffle','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','บันทึกการแก้ไขสำเร็จ','min','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','explanation','onload','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','(^|[^\x5c\x5c])\x5cb','/questionBank','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20fetching\x20quiz\x20settings:','insertAdjacentHTML','typesetPromise','Error\x20updating\x20pin\x20status:','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','schedule','back-to-project-btn','\x22\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่มี','bg-red-200\x20text-red-800','bg-green-100','หัวข้อที่สร้างเอง','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','toLocaleString','enable-passcode-checkbox','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','passingScore','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','การหารเศษส่วน','input[name=\x22status-option\x22]:checked','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','match','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','cancel-test-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','7JTJmCF','.png','mixed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','admin-password-input','contents','global-quiz-list','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','isStarred','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ความชันและเส้นตรง','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','hint','quiz-status-modal','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','afterend','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20สำเร็จ','.delete-custom-topic-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','qIndex','firstScore','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','start-game-btn','shuffle-setting-select','div[data-question-index=\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','visibilityState','_opt1\x22>ไม่ใช่</label></div>','bg-red-100\x20text-red-800','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','แผนการสอน','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ศูนย์','.generate-lesson-btn','num-choices','interesting-stats-wrapper','Error\x20generating\x20parallel\x20post-test:','แคลคูลัสเบื้องต้น','left','webkitExitFullscreen','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-individual-tab','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','lesson-plan-modal','value','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','คำเตือน\x20(','.topic-name-input','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','admin-action-buttons','.doc','size','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','text-yellow-300','รูปหลายเหลี่ยมและมุมภายใน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ตรวจคะแนนใหม่','undefined','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','button[data-id]','51148KbNIiH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','_opt0\x22\x20name=\x22question','values','confirm-rename-quiz-btn','element','(คัดลอก)\x20','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</option>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','keyup','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','back-to-home-manual-release','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</td>','text-gray-700','ลำดับเลขคณิต\x20(AP)','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','start-quiz-btn','Error\x20fetching\x20student\x20rankings:','font-bold\x20text-red-700\x20line-through','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','แบบปรนัย\x204\x20ตัวเลือก','ปริมาตร/ความจุและการแปลง','.question-editor-item','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','.answeredCurrentQuestion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sin','การลบเศษส่วน','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.rename-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','touchstart','cancel-quiz-edits-btn-footer','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','55bdXOZG','first_try_ace','-\x20ข้อ\x20','show_results_and_answers','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-user-edit','global-live-game-modal','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','comparison-chart','ผ่านฉลุย','timerDuration','suggestedAnswer','stringify','Firebase\x20initialization\x20failed:','2447330KTnVVd','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','Error\x20saving\x20user\x20preference:','quiz-editor-questions-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-quiz-leaderboard-table-body','\x22><p\x20class=\x22font-semibold\x22>','.project-card-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','correct','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','correctAnswerIndex','dragend','dataIndex','passcode-error-msg','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<div\x20id=\x22q-image-container-','bg-white/30','quiz-id-input','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','กำลังสร้างรูปภาพ...','ไม่พบแบบทดสอบสำหรับรหัสนี้','totalPoints','#E5E7EB','ยืนยันการกระทำ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ยอดเยี่ยม','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22><i\x20class=\x22fas\x20','reset-project-order-btn','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20data-pre-test-id=\x22','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','close','แก้ไขหัวข้อสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','querySelector','save-visibility-settings-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x22,\x20','standard','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','3HftmQV','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','upperGroupNames','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','comeback_king','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>จาก:\x20','offset','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','scrollY','หมดเวลาสำหรับข้อนี้!','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','admin','/submissions','\x22\x20data-topic=\x22','name','```json','.start-presentation-list-btn','text-red-900','คัดลอกไม่สำเร็จ','confirm-create-project-btn','Error\x20saving\x20settings:','ผู้เชี่ยวชาญ','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','red','setFont','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','appendChild','สร้างแบบทดสอบปรนัย','random','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','.answer-text','block','perQuestionStats','ON_FIRE','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','#results-table\x20thead\x20tr','dragover','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','adaptive-quiz-checkbox','เส้นตรง:\x20รูปแบบสมการ','getAttributeNS','pinnedProjects','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','per-question-text','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</td></tr>','text-green-700','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','verify-answers-editor-btn','correctAnswer','removeEventListener','lowerGroupResponders','classWeaknesses','กำลังดึงข้อมูลจากลิงก์...','results_','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ระยะทางและจุดกึ่งกลาง','student-initial-view','.badges','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','podium','stopPropagation','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','clientY','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></td>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ring-purple-400','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','input[name=\x22question_single\x22]:checked','deselect-all-topics-btn','projectId','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','studentName','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','drop','border-green-700','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tfrac','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','สมการเหตุผล\x20(rational)','remove','OBJECT','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','มัธยฐาน','touchcancel','temp-loader-text-results','ไม่ได้ตอบ','ไม่สามารถโหลดข้อมูลอันดับได้','ที่พิมพ์ได้\x20จำนวน\x20','lessonPlan','ตัวประกอบและตัวประกอบเฉพาะ','add','ไม่พบโปรเจค','opacity','<div\x20class=\x22flex-1\x22></div>','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','Leaderboard\x20update\x20transaction\x20failed:\x20','การคูณเศษส่วน','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ql-editor','สร้างคำถามแบบใช่/ไม่ใช่','medium','\x5cge','function','\x20\x20\x20-\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','auto-fix-latex-btn','name_asc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','bg-green-100\x20text-green-800','move-quiz-project-select','\x22\x20ให้เป็นคำถามประเภท\x20\x22','<div\x20class=\x22mb-3\x20topic-category\x22>','\x20pointer-events-none\x22>','width','originalTopic','select','</p></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','getBoundingClientRect','export-lesson-pdf-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','bg-green-500','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','</label>\x0a\x20\x20\x20\x20</div>\x0a','.delete-svg-btn','Error\x20adding\x20students:','แบบทดสอบจากคลังส่วนตัว','จำนวนเต็มบวก','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','เส้นรอบรูป','none','strength-weakness-analysis-container','จากเนื้อหาต่อไปนี้:\x20\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isPasscodeEnabled','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','image/png','after','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ร้อยละประยุกต์','scheduled_pending','http://www.w3.org/2000/svg','ผลรวมอนุกรม\x20(Σ)','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x5csqrt{$1}','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','27411472','delete-all-students-btn','per-question-timer-container','correctResponse','dragstart','click','active','Error\x20saving\x20to\x20question\x20bank:','json','NEGATIVE_INFINITY','มุมและการวัดมุม','พอใช้','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','/preferences/main','fa-dumbbell\x20text-gray-700','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','find','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circle','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','destroy','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','dashboardConfig','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','.\x20แต่ละข้อมี\x20','rename-quiz-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','innerText','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ไม่พบข้อมูลแบบทดสอบ','ไม่สามารถสร้างโปรเจคได้','custom-math-topic-input','results-table-container','select-all-topics-btn','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','insertBefore','_opt0\x22>ใช่</label></div>','startsWith','move-quiz-modal','ตรวจพบการสลับหน้าจอครบ\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ก่อนเรียน','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-green-600\x20font-bold','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','manual_release','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','classStrengths','trim','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x5ccdot','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','#E0E7FF','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20','questionStatus','baseVal','-tab-content','players','การเรียงสับเปลี่ยน\x20(Permutation)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','save-quiz-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','jspdf','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1496754BwOVTe','ai-quiz-app-aefee.appspot.com','answers','admin-try-quiz-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','ผู้ไม่ยอมแพ้','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','9857184SfrIcV','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หลังเรียน','readAsDataURL','topic-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','modal-message','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','svg','nickname-input','export-worksheet-pdf-btn','setAttributeNS','points','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เศษส่วน\x20(ย่อ/ขยาย)','open','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','behavior-log-tab-content','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','การแยกตัวประกอบ','\x5cfrac','$1\x5c%','ชื่อหัวข้อห้ามว่าง','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','commit','การลบทศนิยม','comparison-individual-content','warn','Error\x20fetching\x20project\x20quizzes:','quiz-start-time','quizId','toggle','.project-card-container[data-id]','Error\x20loading\x20quiz\x20for\x20student:','confirm-join-game-btn','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ย้าย','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','border-red-300\x20bg-red-50','countdown-display','student-project-leaderboard-table-body','floor','จำนวนคละ','comparison-overall-tab','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','/users/','\x20\x0a\x20\x20\x20\x20','exitFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','generate-from-text-btn','\x20ข้อ\x20','.regenerate-question-btn','passcode','log','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<option>กำลังโหลดโปรเจค...</option>','ฟังก์ชันผกผัน','\x20จาก\x20','temp-loader-results','student-name-select','fill_in_the_blank','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','now','#10B981','bestScore','POST','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-progress-view','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','touchend','_opt','แก้ระบบสมการด้วยเมทริกซ์','คำถามถัดไป','results','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','players.','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','project-detail','กำลังสร้างคำถามข้อ\x20','export-excel-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x20ตัวเลือก.\x20','9SwuVUv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','presentation-short-answer-input','next-drill-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','.quiz-bank-present-btn','Error\x20renaming\x20quiz:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','quiz-end-time','เกิดข้อผิดพลาดในการติดดาว','closest','style','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','leaderboard-tab-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','passing-score-input','project-search-input','loader-text','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','bg-amber-100\x20text-amber-800','topic-input','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.choice-text','Error\x20starting\x20game:','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.admin-try-quiz-list-btn','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lower_group_count','กำลังอ่านและเตรียมไฟล์...','text-gray-400\x20hover:text-indigo-600','getItem','learningGaps','\x20mx-1\x20text-lg\x22></i></span>','timestamp','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','เกิดข้อผิดพลาดในการบันทึกลำดับ','.score','analytics-summary-cards','รีเซ็ตลำดับโปรเจคแล้ว','multiple_choice','passcode-input-container','submittedAt','targetId','empty','cursor','numeric','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','จำนวนเต็มลบ','worksheet-tab','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollX','ไม่สามารถเริ่มเกมได้','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','สมการค่าสัมบูรณ์','underline','จำนวนและการดำเนินการ','whole_quiz','dataset','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20ชุด)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','274192258111','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','#F3E8FF','FIRST_TRY_ACE','_blank','disabled','project-quizzes-list','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22\x20value=\x22true\x22\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ระยะเวลา\x20(นาที):','Error\x20processing\x20file\x20for\x20AI:','.topic-actions-view','teachingContent','deg','tan','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนเต็มในการทำครั้งแรก','isPinned','แผนการสอน:\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20saving\x20visibility\x20settings:','\x22\x20data-q-type=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ยังไม่ส่ง','from','split','bank-input-area','imageCode','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','loopUntilPass','includes','Error\x20creating\x20project:','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','gain','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answerText','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','editable-text-','instructions','input[type=\x22text\x22]','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-loop-until-pass-checkbox','\x20ครั้ง)</span></td>','การคูณ','อนุพันธ์:\x20ผลคูณ/ผลหาร','ราชาคัมแบ็ก','บันทึกพฤติกรรมสำหรับ\x20','สรุปผลการวิเคราะห์:\x5cn','กำลังจับคู่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','fas\x20fa-star\x20text-yellow-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','mousedown','close-lesson-plan-modal-btn','.presentation-option','category','fixed','bg-purple-50','answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','file-upload-input','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','คำตอบถูกต้อง!\x20+','removeAttribute','Error\x20resetting\x20project\x20order:','currentQuestionIndex','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','parts','\x5cs*\x5c(','document','bg-red-500','text-red-600','print','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','live-game','อุณหภูมิและการแปลง','PERSEVERANCE','mouseup','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลำดับการดำเนินการ\x20(PEMDAS)','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-modal','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-live-btn','สร้างคำถามแบบเติมคำในช่องว่าง','geq','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','options','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','prev-question-btn','upper_group_count','กรุณาเลือกชื่อของคุณ','addEventListener','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','msExitFullscreen','quizType','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ความสัมพันธ์ของมุม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ดีมาก','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','แก้ไขข้อนี้','quiz-search-input','visibility_hidden','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','str','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.project-card-container:not(.opacity-50)','ท็อปฟอร์ม','.project-card-content','live-submit-short-answer-btn','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','export-pdf-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','ring-2','กรุณาเลือกโปรเจคปลายทาง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','originalQuestionText','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','<span\x20class=\x22font-bold\x20','createObjectURL','กรุณาใส่ชื่อใหม่','.pair-quiz-btn','/public/data/projects/','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','[*]','confirm-quiz-settings-btn','ฟังก์ชันแบบชิ้นส่วน','textarea','text-red-500\x20hover:text-red-700','mjx-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','สลับไปโหมดผู้ควบคุม','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','\x5ctimes','update','อัปเดตสถานะสำเร็จ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ownerSVGElement','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','date_asc','bg-gray-50','input','title','idealAnswer','Error\x20toggling\x20star\x20status:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ข้อ\x20','endTime','rgba(79,\x2070,\x20229,\x200.8)','$1_{$2}','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','on_fire','mean','show_pass_fail_only','bg-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','retake-quiz-loop-btn','Authentication\x20failed:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','00:00','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','attemptNumber','ตรวจคะแนนใหม่\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20sort\x20preference:','lobby','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','Error\x20listening\x20for\x20starred\x20quizzes:','<p>','badges','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','สอบซ่อม','การคูณทศนิยม','ปริพันธ์จำกัด','bank-quiz-search-input','hint-btn','option','querySelectorAll','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','thead\x20.sortable-header','MathJax\x20typeset\x20error\x20(analytics):','<li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','2204602sbKILX','create-project-modal','_opt1\x22\x20name=\x22question','Error\x20deleting\x20quiz:','matching_item','loader','</span></div>','.toggle-actions-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','loop-until-pass-checkbox','questionIndex','ลบโปรเจคสำเร็จแล้ว','global-live-game-count','fullscreenElement','q-image-container-','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','.delete-quiz-btn','ควรปรับปรุง','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','confirm-global-live-btn','เกี่ยวกับหัวข้อ\x20\x22','#FEF3C7','ตอบถูกทุกข้อในแบบทดสอบนี้','padStart','modal-adaptive-quiz-checkbox','fill_in_no_choices','sort','math-topics-checkbox-container','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','quiz-leaderboard-table-body','NUMBER','latestScore','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','save-settings-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','analytics-tab-btn','Re-grade\x20process\x20failed:','password-error-msg','การสร้างรูปด้วยวงเวียน–สันตรง','analyze-strengths-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','visibilitychange','per_question','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contentEditable','student-quiz-leaderboard-content','text-gray-300\x20hover:text-white','createElement','แบบทดสอบที่ติดดาว','รูปแบบการให้เหตุผล','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','reveal-answer-btn','\x22>ใช่</p>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','Error\x20generating\x20worksheet:','<textarea\x20name=\x22question','correctStreak','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ไม่พบแบบทดสอบ','export-image-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','behavior-log','ข้อที่\x20','lowerGroupNames','delete','MathJax',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','setItem','quiz-settings-modal','$1\x5ctimes','generate-from-parallel-test-btn','ทฤษฎีบทพีทาโกรัสและการประยุกต์','stdDev','back-to-dashboard-from-results-btn','repeat','check-answer-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','globalSettings','innerHTML','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','confirm-delete-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','text/csv;charset=utf-8;','desc','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','สมการตรีโกณมิติ','back-to-dashboard-btn','focus','55kbivaZ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','quiz-results','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','load-quiz-btn','การกระจายและการจัดหมู่','\x22\x20name=\x22question_single\x22\x20value=\x22','position','modal-timer-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-editor-modal','เกิดข้อผิดพลาดในการโหลดโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','quick_thinker','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','#view-rankings-btn','binom','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','editor-quiz-topic','th-TH','quiz-leaderboard-table-container','analytics','catch','application/json','projectOrder','เกิดข้อผิดพลาดในการบันทึก','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','some','map','Error\x20updating\x20quiz\x20status:','confirm-move-quiz-btn','เลือกโปรเจคเพื่อบันทึก','project-list','questions_only','generate-from-link-btn','back-from-results-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ความเท่ากันทุกประการของสามเหลี่ยม','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','student-passcode-input','cancel-passcode-btn','flex','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','startTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','question-analytics-container','worksheet-topic-input','confirmation-modal','date_desc','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','จำนวนคู่:','ไม่ใช่','pairedQuizId','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','bg-green-200\x20text-green-800','</div><div\x20class=\x22space-y-2\x22>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','กราฟฟังก์ชันตรีโกณ','text-indigo-700','คณิตการเงิน/บูรณาการ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','จุด\x20เส้น\x20ระนาบ','อัตราและอัตราหน่วย','#student-quiz-leaderboard-content\x20thead','filter','COMEBACK_KING','editable-quiz-topic','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','.sortable-header','contains','file-input-area','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x5cdiv','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<button\x20data-quiz-id=\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','```','teacherSuggestions','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reference-pdf-upload','answer','ส่งแล้ว','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','numPages','<div><input\x20type=\x22radio\x22\x20id=\x22q','fill_in_with_choices','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','projectName','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','max','toISOString','asc','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','offsetWidth','text-indigo-800','ห.ร.ม.\x20(GCD)','Error\x20loading\x20user\x20preferences:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','end-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','cloneNode','textContent','ref','projectView','#ffffff','คะแนน','.save-custom-topic-btn','ดูสรุปผล','พื้นที่ผิวรูปทรงสามมิติ','post-test','ความแปรปรวน','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','หมดเวลา!\x20กำลังส่งคำตอบ...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','export-leaderboard-image-btn','border-green-500','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','live-game-view','getContext','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','candidates','test','getBBox','</p><div>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(ไม่มีชื่อ)','fas\x20fa-bookmark','starred','#DBEAFE','slide-counter','Error\x20toggling\x20pin\x20status:','comparison','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','3373992foVhvR','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','getDocument','createdAt','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/customMathTopics','forEach','replace','next-question-timed-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','ย้ายแบบทดสอบไปโปรเจคอื่น','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','Error\x20comparing\x20results:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','confirmation-message','ไม่พบข้อมูลผู้ใช้','pre-test-checkbox','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','bg-emerald-100','all','preventDefault','round',';\x22\x20data-id=\x22','/public/data/quizzes/','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','BOOLEAN','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','selected-topics-count','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-quiz-status-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','icon','border-4','postScore','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','ปรับเพิ่ม/ลดเป็นร้อยละ','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','student','<br>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','specialist','leaderboard-table-body','\x20คะแนน','ไม่พบตารางสำหรับ\x20Export','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','touchmove','normal','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','timer-duration-input','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','questionText','height','Error\x20generating\x20quiz:','cos','project-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','text-green-600','\x22.\x20Ideal\x20Answer:\x20\x22','submit','ระบบอสมการ','s;\x22\x20title=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.edit-custom-topic-btn','เกิดข้อผิดพลาดในการลบผลสอบ','<tr\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x20mr-2\x22></i>','Enter','getElementById','เกิดข้อผิดพลาดในการปักหมุด','reduce','ความต่อเนื่อง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','สร้างคำถามใหม่\x201\x20ข้อ\x20','download','type','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','results-quiz-id-display','Error\x20pairing\x20quizzes:','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','</body></html>','timer-duration-container','ฟังก์ชันค่าสัมบูรณ์','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เวกเตอร์และเมทริกซ์\x20(เสริม)','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','score','include-images-checkbox','timer-container','docs','สร้างชุดคำถามจับคู่','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','mode-switcher-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','.copy-quiz-id-list-btn','คำตอบผิด','right','scheduled','finishReason','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','cdot','button','\x0a---\x0a','#per-question-options\x20select','admin-view','lastAnswerCorrect','</strong></p>','คัดลอกรหัสแล้ว!','indexOf','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','message','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','both','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','abs','matching','interesting-stats-container','draggable-text','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','div','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','[data-topic-container-id]','อสมการเชิงเส้น','quiz-type-select','ยืนยันการจับคู่','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','perfect_score','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','Error\x20generating\x20from\x20link:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','input[name=\x22status-option\x22]','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dispatchEvent','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','%</span>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','อัตราการเปลี่ยนแปลงทันที','Error\x20listening\x20for\x20custom\x20math\x20topics:','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-export-pdf-btn','rows','.delete-submission-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','student-join-game-view','back-to-results-btn','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','opacity-50','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-indigo-600','bg-red-50','ระบบเลขและค่าประจำหลัก','พื้นที่สามเหลี่ยม','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','overline','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','text-emerald-800','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','การยืนยันตัวตนล้มเหลว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','content','get','Invalid\x20response\x20structure\x20from\x20AI.','มุมพิเศษ\x2045°-45°-90°','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-50','leaderboard-tab','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ใช่','generate-worksheet-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','num-choices-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','admin-dashboard','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','สเกลและแผนที่','ค่าเสื่อมราคา','เกิดข้อผิดพลาด:\x20','ฐานนิยม','preTestId','</span>','default','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','สร้างแบบทดสอบ','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','math-topic-search-input','student-name-input','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20listening\x20for\x20projects:','Error\x20verifying\x20answers:','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','presentation-explanation','outerHTML','lesson-plan-content','.parallel-quiz-btn','clientX','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','cancel-create-project-btn','.csv','ตรีโกณมิติ','สอบปกติ','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','วงกลม:\x20คอร์ดและเส้นสัมผัส','export-leaderboard-pdf-btn','การวัด','behaviorLog','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','แผนภาพกล่อง\x20(box\x20plot)','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x22\x5cn','td,\x20th','substring','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','ลบแบบทดสอบสำเร็จแล้ว','quiz-schedule-start-container','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','ทศนิยม\x20(ค่าประจำหลัก)','การจัดหมู่\x20(Combination)','settings','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','button[type=\x22submit\x22]','.correct-response-input','true_false','top','เรเดียนและการแปลงหน่วย','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','การบวกทศนิยม','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','จำนวนเชิงซ้อน\x20(เสริม)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','files','then','generated-quiz-actions','ความคาดหมาย\x20(Expected\x20value)','Error\x20duplicating\x20quiz:','ค่าเฉลี่ย','กรุณาเลือกโปรเจคที่ต้องการบันทึก','font-bold\x20text-green-700','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','#per-question-options\x20textarea','export-tutor-pdf-btn','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','เรขาคณิตวิเคราะห์','quiz-schedule-end-container','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','touches','.quiz-status-btn','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22pin-project-btn\x20','ดีเทอร์มิแนนต์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','เกิดข้อผิดพลาดในการลบนักเรียน','link-topic-input','perseverance','grid-view-btn','ผู้ควบคุม\x20(ทดสอบ)','questionDisplayedAt','ดอกเบี้ยทบต้น','fa-fire\x20text-orange-500','add-student-btn','push','แบบเติมคำตอบ','$1^{\x5ccirc}\x5ctext{C}','q-explanation-','color','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกแบบทดสอบสำเร็จ','ไม่สามารถบันทึกการตั้งค่าได้','Error\x20verifying\x20answers\x20in\x20editor:','toString','ใช่,\x20ตรวจใหม่','findIndex','text-blue-700\x20bg-blue-100','แบบทดสอบ:\x20','link-tab','generate-from-topic-btn','สมการลอการิทึม','next-live-question-btn','getScreenCTM','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','authed_project_','https://corsproxy.io/?','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','results-tab-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','เส้นตรง:\x20ขนาน/ตั้งฉาก','สร้างโปรเจคสำเร็จ!','latestSubmittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x22\x20value=\x22false\x22\x20','Error\x20saving\x20quiz\x20edits:','upperGroupResponders','ค่าความจริง/ตารางค่าความจริง','submissions','projectSortOrder','toLowerCase','สถิติและความน่าจะเป็น','(ก่อนเรียน)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','artifacts/','leaderboard-quiz-tab-btn'];_0x4fd4=function(){return _0x4eba48;};return _0x4fd4();}async function handleTogglePinProject(_0x17c91f){const _0x3b71de=_0x338e4c;if(!_0x17c91f)return;const _0x41388c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x17c91f);try{const _0x4b8a27=await getDoc(_0x41388c);if(_0x4b8a27[_0x3b71de(0x837)]()){const _0x3bc986=_0x4b8a27[_0x3b71de(0x7e6)]()[_0x3b71de(0x452)]||![];await updateDoc(_0x41388c,{'isPinned':!_0x3bc986});}}catch(_0x35486d){console[_0x3b71de(0x7ad)](_0x3b71de(0x623),_0x35486d),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x582822){const _0x3062d6=_0x338e4c;try{const _0x17d40f=writeBatch(db),_0xd55176=collection(db,_0x3062d6(0x79b)+appId+_0x3062d6(0x6ca)),_0x55fef8=query(_0xd55176,where(_0x3062d6(0x2cc),'==',_0x582822)),_0x4154fa=await getDocs(_0x55fef8);for(const _0x42d3c4 of _0x4154fa[_0x3062d6(0x69f)]){const _0x15b119=collection(db,_0x3062d6(0x79b)+appId+'/public/data/quizzes/'+_0x42d3c4['id']+_0x3062d6(0x287)),_0x23a864=await getDocs(_0x15b119);_0x23a864['forEach'](_0x5ca218=>{const _0x297d34=_0x3062d6;_0x17d40f[_0x297d34(0x56c)](_0x5ca218[_0x297d34(0x604)]);}),_0x17d40f[_0x3062d6(0x56c)](_0x42d3c4[_0x3062d6(0x604)]);}const _0x1ff56e=collection(db,_0x3062d6(0x79b)+appId+_0x3062d6(0x4d0)+_0x582822+'/studentProfiles'),_0x2a7f25=await getDocs(_0x1ff56e);_0x2a7f25[_0x3062d6(0x630)](_0x58f35e=>{const _0x3fa852=_0x3062d6;_0x17d40f[_0x3fa852(0x56c)](_0x58f35e['ref']);});const _0x420de4=doc(db,_0x3062d6(0x79b)+appId+_0x3062d6(0x7ae),_0x582822);_0x17d40f[_0x3062d6(0x56c)](_0x420de4),await _0x17d40f[_0x3062d6(0x3a9)](),showMessage(_0x3062d6(0x52d)),showView(_0x3062d6(0x707));}catch(_0x3da8f2){console['error'](_0x3062d6(0x170),_0x3da8f2),showMessage(_0x3062d6(0x20d));}}document['getElementById'](_0x338e4c(0x546))[_0x338e4c(0x4aa)](_0x338e4c(0x32a),async()=>{const _0x47a439=_0x338e4c;if(!currentProjectId)return;const _0x4e2ee6={'defaultNumQuestions':parseInt(document[_0x47a439(0x683)]('num-questions')[_0x47a439(0x1e4)]),'defaultNumChoices':parseInt(document[_0x47a439(0x683)]('num-choices')[_0x47a439(0x1e4)]),'defaultPassingScore':parseInt(document['getElementById'](_0x47a439(0x402))['value']),'resultsDisplay':document[_0x47a439(0x683)](_0x47a439(0x845))[_0x47a439(0x1e4)],'shuffleSetting':document[_0x47a439(0x683)](_0x47a439(0x1cb))['value'],'timerMode':document[_0x47a439(0x683)]('timer-mode-select')[_0x47a439(0x1e4)],'timerDuration':parseInt(document[_0x47a439(0x683)]('timer-duration-input')[_0x47a439(0x1e4)])};try{const _0x32e17a=doc(db,_0x47a439(0x79b)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x32e17a,{'settings':_0x4e2ee6}),showMessage(_0x47a439(0x815));}catch(_0x995b6e){console['error'](_0x47a439(0x28f),_0x995b6e),showMessage(_0x47a439(0x775));}});function listenForStudents(_0x5226fd){const _0x417566=_0x338e4c,_0x44f241=doc(db,_0x417566(0x79b)+appId+_0x417566(0x7ae),_0x5226fd);unsubscribeStudentsListener=onSnapshot(_0x44f241,_0x2087a7=>{const _0x2adb3b=_0x417566;if(_0x2087a7['exists']()){const _0x30a29d=_0x2087a7[_0x2adb3b(0x7e6)]();currentProjectData=_0x30a29d,renderStudentList(_0x30a29d['students']||[]);}});}function renderStudentList(_0x199f02){const _0x351904=_0x338e4c,_0x28bfd9=document[_0x351904(0x683)](_0x351904(0x326));_0x199f02['length']===0x0?(studentList[_0x351904(0x57a)]=_0x351904(0x454),_0x28bfd9[_0x351904(0x274)][_0x351904(0x2e7)]('hidden')):(studentList['innerHTML']=_0x199f02[_0x351904(0x5a8)](_0x4917a8=>_0x351904(0x89d)+_0x4917a8+_0x351904(0x585)+_0x4917a8+_0x351904(0x758))['join'](''),_0x28bfd9[_0x351904(0x274)][_0x351904(0x2da)](_0x351904(0x8c6)));}document[_0x338e4c(0x683)](_0x338e4c(0x76c))[_0x338e4c(0x4aa)](_0x338e4c(0x32a),async()=>{const _0x1e4709=_0x338e4c;if(!currentProjectId)return;const _0x155a63=document[_0x1e4709(0x683)](_0x1e4709(0x719)),_0x513efa=_0x155a63[_0x1e4709(0x1e4)][_0x1e4709(0x369)]();if(!_0x513efa){showMessage(_0x1e4709(0x817));return;}const _0x308bb0=_0x513efa['split']('\x0a')[_0x1e4709(0x5a8)](_0x13bd59=>_0x13bd59[_0x1e4709(0x369)]())[_0x1e4709(0x5d7)](_0x14876d=>_0x14876d);if(_0x308bb0[_0x1e4709(0x7c4)]===0x0)return;try{const _0x1094e8=doc(db,_0x1e4709(0x79b)+appId+_0x1e4709(0x7ae),currentProjectId),_0x39f258=await getDoc(_0x1094e8);if(_0x39f258[_0x1e4709(0x837)]()){const _0x4d40fe=_0x39f258[_0x1e4709(0x7e6)]()[_0x1e4709(0x203)]||[],_0x1df1d8=[...new Set([..._0x4d40fe,..._0x308bb0])];await updateDoc(_0x1094e8,{'students':_0x1df1d8}),_0x155a63[_0x1e4709(0x1e4)]='';}}catch(_0x2cb67f){console['error'](_0x1e4709(0x310),_0x2cb67f),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x3aa04a){const _0x5e5de8=_0x338e4c,_0x2203e6=document[_0x5e5de8(0x683)](_0x5e5de8(0x359)),_0x36350b=document[_0x5e5de8(0x683)](_0x5e5de8(0x300)),_0x3565a6=_0x2203e6[_0x5e5de8(0x26a)]('h3'),_0x34a4ca=document[_0x5e5de8(0x683)](_0x5e5de8(0x5aa)),_0x4d96ba=document['getElementById']('cancel-move-quiz-btn');_0x3565a6['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x36350b[_0x5e5de8(0x57a)]=_0x5e5de8(0x81f),_0x34a4ca['textContent']=_0x5e5de8(0x6c9),_0x2203e6[_0x5e5de8(0x274)][_0x5e5de8(0x2da)]('hidden');const _0x345b01=allQuizzes[_0x5e5de8(0x5d7)](_0x3d6285=>_0x3d6285['id']!==_0x3aa04a);_0x345b01[_0x5e5de8(0x7c4)]===0x0?(_0x36350b[_0x5e5de8(0x57a)]=_0x5e5de8(0x5e7),_0x34a4ca[_0x5e5de8(0x442)]=!![]):(_0x36350b[_0x5e5de8(0x57a)]=_0x5e5de8(0x80c)+_0x345b01[_0x5e5de8(0x5a8)](_0x1db29e=>_0x5e5de8(0x175)+_0x1db29e['id']+'\x22>'+_0x1db29e[_0x5e5de8(0x8af)]+_0x5e5de8(0x207))[_0x5e5de8(0x8dc)](''),_0x34a4ca[_0x5e5de8(0x442)]=![]);const _0x4775d4=async()=>{const _0x20c137=_0x5e5de8,_0x594e77=_0x36350b[_0x20c137(0x1e4)];if(!_0x594e77){showMessage(_0x20c137(0x6cd));return;}_0x34a4ca[_0x20c137(0x442)]=!![],_0x34a4ca[_0x20c137(0x603)]=_0x20c137(0x475);try{const _0x536361=doc(db,_0x20c137(0x79b)+appId+_0x20c137(0x6ca),_0x3aa04a),_0x48ee51=doc(db,_0x20c137(0x79b)+appId+_0x20c137(0x6ca),_0x594e77),_0xcaaf7=writeBatch(db);_0xcaaf7[_0x20c137(0x4e2)](_0x536361,{'pairedQuizId':_0x594e77}),_0xcaaf7[_0x20c137(0x4e2)](_0x48ee51,{'pairedQuizId':_0x3aa04a}),await _0xcaaf7['commit'](),showMessage(_0x20c137(0x63c)),_0x2203e6[_0x20c137(0x274)]['add']('hidden');}catch(_0x584040){console['error'](_0x20c137(0x68f),_0x584040),showMessage(_0x20c137(0x84c));}finally{_0x3565a6[_0x20c137(0x603)]=_0x20c137(0x634),_0x34a4ca[_0x20c137(0x603)]=_0x20c137(0x3b5),_0x34a4ca[_0x20c137(0x442)]=![],_0x34a4ca[_0x20c137(0x2b1)](_0x20c137(0x32a),_0x4775d4),_0x4d96ba[_0x20c137(0x2b1)](_0x20c137(0x32a),_0x3a1a7e);}},_0x3a1a7e=()=>{const _0x231204=_0x5e5de8;_0x2203e6[_0x231204(0x274)][_0x231204(0x2e7)](_0x231204(0x8c6)),_0x3565a6['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x34a4ca[_0x231204(0x603)]=_0x231204(0x3b5),_0x34a4ca[_0x231204(0x2b1)](_0x231204(0x32a),_0x4775d4),_0x4d96ba['removeEventListener'](_0x231204(0x32a),_0x3a1a7e);};_0x34a4ca['addEventListener'](_0x5e5de8(0x32a),_0x4775d4),_0x4d96ba[_0x5e5de8(0x4aa)]('click',_0x3a1a7e);}function handleDeleteStudent(_0x557676){const _0x59aab1=_0x338e4c;showConfirmation(_0x59aab1(0x710)+_0x557676+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0xa84d05=_0x59aab1;if(!currentProjectId||!currentProjectData)return;const _0xe6b1be=currentProjectData['students'][_0xa84d05(0x5d7)](_0x2f05ee=>_0x2f05ee!==_0x557676);try{const _0x3ebfbd=doc(db,_0xa84d05(0x79b)+appId+_0xa84d05(0x7ae),currentProjectId),_0x24f595=doc(db,'artifacts/'+appId+_0xa84d05(0x4d0)+currentProjectId+_0xa84d05(0x17f),_0x557676),_0x2c2305=writeBatch(db);_0x2c2305[_0xa84d05(0x4e2)](_0x3ebfbd,{'students':_0xe6b1be}),_0x2c2305[_0xa84d05(0x56c)](_0x24f595),await _0x2c2305[_0xa84d05(0x3a9)]();}catch(_0x3e1c62){console[_0xa84d05(0x7ad)]('Error\x20deleting\x20student:',_0x3e1c62),showMessage(_0xa84d05(0x764));}});}function handleDeleteAllStudents(){const _0x40bfeb=_0x338e4c;showConfirmation(_0x40bfeb(0x37a),async()=>{const _0xd32a40=_0x40bfeb;if(!currentProjectId)return;try{const _0x34041c=doc(db,_0xd32a40(0x79b)+appId+_0xd32a40(0x7ae),currentProjectId),_0x41f863=collection(db,_0xd32a40(0x79b)+appId+_0xd32a40(0x4d0)+currentProjectId+_0xd32a40(0x17f)),_0x352618=await getDocs(_0x41f863),_0x4b4a7f=writeBatch(db);_0x4b4a7f[_0xd32a40(0x4e2)](_0x34041c,{'students':[]}),_0x352618[_0xd32a40(0x630)](_0x5bfdc8=>_0x4b4a7f[_0xd32a40(0x56c)](_0x5bfdc8[_0xd32a40(0x604)])),await _0x4b4a7f['commit']();}catch(_0x41dacd){console[_0xd32a40(0x7ad)]('Error\x20deleting\x20all\x20students:',_0x41dacd),showMessage(_0xd32a40(0x18d));}});}async function handleGenerateFromFileClick(){const _0x2f41b2=_0x338e4c;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x12a2f9=document[_0x2f41b2(0x683)](_0x2f41b2(0x527)),_0x4a9792=document[_0x2f41b2(0x683)](_0x2f41b2(0x404)),_0x539861=document[_0x2f41b2(0x683)]('generated-quiz-container'),_0x20434d=document[_0x2f41b2(0x683)]('generate-from-file-btn');_0x20434d['disabled']=!![],document['getElementById'](_0x2f41b2(0x467))['classList']['remove']('hidden'),_0x539861[_0x2f41b2(0x57a)]='',_0x12a2f9[_0x2f41b2(0x274)]['remove'](_0x2f41b2(0x8c6)),_0x4a9792[_0x2f41b2(0x603)]=_0x2f41b2(0x412);const _0x38de06=new FileReader();_0x38de06[_0x2f41b2(0x38e)](selectedFile),_0x38de06['onload']=async()=>{const _0x698359=_0x2f41b2;try{const _0x102c30=_0x38de06['result']['split'](',')[0x1],_0x48402a=selectedFile[_0x698359(0x68c)];await generateQuizFromFile(_0x48402a,_0x102c30);}catch(_0x172da6){console[_0x698359(0x7ad)](_0x698359(0x44a),_0x172da6),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x172da6[_0x698359(0x6b9)]),_0x12a2f9[_0x698359(0x274)][_0x698359(0x2e7)](_0x698359(0x8c6));}finally{}},_0x38de06[_0x2f41b2(0x8b4)]=_0x5a2bc5=>{const _0x51c08b=_0x2f41b2;console[_0x51c08b(0x7ad)](_0x51c08b(0x81c),_0x5a2bc5),showMessage(_0x51c08b(0x8ba)),_0x12a2f9[_0x51c08b(0x274)][_0x51c08b(0x2e7)]('hidden'),_0x20434d[_0x51c08b(0x442)]=![];};}function autoFormatMath(_0x4cf077){const _0x56684c=_0x338e4c;if(typeof _0x4cf077!==_0x56684c(0x4de)||!_0x4cf077)return _0x4cf077;const _0x4ec1b0=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x5cb47b=_0x4cf077['replace'](_0x4ec1b0,_0x36422a=>{const _0x1d6e5d=_0x56684c;return'$'+_0x36422a[_0x1d6e5d(0x369)]()+'$';});return _0x5cb47b;}function sanitizeQuizData(_0x37d9e3){const _0xf741f9=_0x338e4c;if(!_0x37d9e3||!_0x37d9e3[_0xf741f9(0x543)])return _0x37d9e3;const _0x3e895d={'imes':_0xf741f9(0x4e1),'div':_0xf741f9(0x5e1)},_0x3cae13=_0x8c8d5e=>{const _0x494f0b=_0xf741f9;if(typeof _0x8c8d5e!=='string')return _0x8c8d5e;let _0x4799bf=_0x8c8d5e;for(const [_0x278e15,_0x3c8d2b]of Object[_0x494f0b(0x86c)](_0x3e895d)){const _0x1642fc=new RegExp('\x5cb'+_0x278e15+'\x5cb','g');_0x4799bf=_0x4799bf[_0x494f0b(0x631)](_0x1642fc,_0x3c8d2b);}return _0x4799bf=_0x4799bf[_0x494f0b(0x631)](/\\\//g,'\x5cdiv'),_0x4799bf=_0x4799bf[_0x494f0b(0x631)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x494f0b(0x631)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x494f0b(0x631)](/÷/g,_0x494f0b(0x5e1))[_0x494f0b(0x631)](/×/g,'\x5ctimes'),_0x4799bf=_0x4799bf[_0x494f0b(0x631)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x4799bf=autoFormatMath(_0x4799bf),_0x4799bf;};return _0x37d9e3[_0xf741f9(0x8af)]&&(_0x37d9e3[_0xf741f9(0x8af)]=_0x3cae13(_0x37d9e3[_0xf741f9(0x8af)])),_0x37d9e3[_0xf741f9(0x543)][_0xf741f9(0x630)](_0x1965e4=>{const _0x37664b=_0xf741f9;_0x1965e4['questionText']=_0x3cae13(_0x1965e4[_0x37664b(0x66e)]),_0x1965e4[_0x37664b(0x4a4)]&&(_0x1965e4['options']=_0x1965e4[_0x37664b(0x4a4)][_0x37664b(0x5a8)](_0x3cae13)),_0x1965e4['explanation']&&(_0x1965e4['explanation']=_0x3cae13(_0x1965e4['explanation'])),_0x1965e4[_0x37664b(0x2de)]&&(_0x1965e4[_0x37664b(0x2de)]=_0x3cae13(_0x1965e4[_0x37664b(0x2de)])),_0x1965e4[_0x37664b(0x328)]&&(_0x1965e4[_0x37664b(0x328)]=_0x3cae13(_0x1965e4['correctResponse'])),_0x1965e4['allResponses']&&(_0x1965e4[_0x37664b(0x5a6)]=_0x1965e4[_0x37664b(0x5a6)][_0x37664b(0x5a8)](_0x3cae13));}),_0x37d9e3;}const simpleMathPrompt=_0x338e4c(0x80e);async function handleGenerateFromLink(){const _0x13700b=_0x338e4c,_0x2e34d1=document[_0x13700b(0x683)]('link-url-input'),_0x57c6ad=document[_0x13700b(0x683)](_0x13700b(0x765)),_0x2b345d=_0x2e34d1[_0x13700b(0x1e4)]['trim'](),_0x1f7307=_0x57c6ad[_0x13700b(0x1e4)][_0x13700b(0x369)]();if(!_0x2b345d){showMessage(_0x13700b(0x840));return;}const _0x469d4f=document[_0x13700b(0x683)](_0x13700b(0x527)),_0x4120a7=document[_0x13700b(0x683)]('loader-text'),_0x307a2a=document['getElementById'](_0x13700b(0x80a)),_0x125082=document[_0x13700b(0x683)](_0x13700b(0x5ae));document[_0x13700b(0x683)]('quiz-generation-area')[_0x13700b(0x274)]['remove'](_0x13700b(0x8c6)),_0x307a2a[_0x13700b(0x57a)]='',_0x469d4f[_0x13700b(0x274)][_0x13700b(0x2da)]('hidden'),_0x4120a7['textContent']=_0x13700b(0x2b4),_0x125082[_0x13700b(0x442)]=!![];try{const _0x4f14ce=_0x13700b(0x783)+encodeURIComponent(_0x2b345d),_0x19cc0f=await fetch(_0x4f14ce);if(!_0x19cc0f['ok'])throw new Error(_0x13700b(0x16a)+_0x19cc0f[_0x13700b(0x7c6)]+')');const _0x491939=await _0x19cc0f[_0x13700b(0x1d5)](),_0x255632=extractTextFromHtml(_0x491939);if(!_0x255632||_0x255632[_0x13700b(0x7c4)]<0x64)throw new Error(_0x13700b(0x2a4));await generateQuiz(_0x1f7307,_0x255632);}catch(_0x55f694){console['error'](_0x13700b(0x6ce),_0x55f694),showMessage(_0x13700b(0x70b)+_0x55f694[_0x13700b(0x6b9)]),_0x307a2a['innerHTML']=_0x13700b(0x559);}finally{_0x469d4f[_0x13700b(0x274)][_0x13700b(0x2e7)](_0x13700b(0x8c6)),_0x125082[_0x13700b(0x442)]=![];}}function extractTextFromHtml(_0x15c967){const _0x226737=_0x338e4c,_0x2f2bc1=new DOMParser()['parseFromString'](_0x15c967,'text/html');return _0x2f2bc1['querySelectorAll']('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x226737(0x630)](_0x1f27b5=>_0x1f27b5[_0x226737(0x2da)]()),_0x2f2bc1[_0x226737(0x5cb)][_0x226737(0x603)]||'';}document[_0x338e4c(0x683)]('generate-from-topic-btn')[_0x338e4c(0x4aa)]('click',()=>{const _0x37964f=_0x338e4c,_0x47fe27=document[_0x37964f(0x683)](_0x37964f(0x407))[_0x37964f(0x1e4)][_0x37964f(0x369)]();generateQuiz(_0x47fe27,null);}),document['getElementById'](_0x338e4c(0x3c4))[_0x338e4c(0x4aa)](_0x338e4c(0x32a),()=>{const _0x2a38f2=_0x338e4c,_0xbf7a2=document[_0x2a38f2(0x683)]('text-content-input')[_0x2a38f2(0x1e4)][_0x2a38f2(0x369)]();if(!_0xbf7a2){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x5cca9f=document[_0x2a38f2(0x683)]('topic-input')[_0x2a38f2(0x1e4)][_0x2a38f2(0x369)]();generateQuiz(_0x5cca9f,_0xbf7a2);});async function generateQuiz(_0x48f6dd,_0x2ec75d,_0x5724be=null){const _0x5cebd0=_0x338e4c,_0x224172=document[_0x5cebd0(0x683)](_0x5cebd0(0x69d))[_0x5cebd0(0x800)],_0x309bd2=document['getElementById'](_0x5cebd0(0x6c8))[_0x5cebd0(0x1e4)],_0x1a6ead=document[_0x5cebd0(0x683)](_0x5cebd0(0x7fd))[_0x5cebd0(0x1e4)],_0x3932f8=document[_0x5cebd0(0x683)](_0x5cebd0(0x1d9))[_0x5cebd0(0x1e4)],_0x559ea9=document[_0x5cebd0(0x683)]('force-math-checkbox')['checked'],_0x14500f=_0x559ea9?'':_0x5cebd0(0x8b5),_0x2edcb0=document[_0x5cebd0(0x683)](_0x5cebd0(0x8e2)),_0x2bd6d9=_0x2edcb0[_0x5cebd0(0x1e4)];let _0xb7eb5d='';_0x2bd6d9!==_0x5cebd0(0x8f2)&&(_0xb7eb5d='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x2bd6d9+'\x22');const _0x5cf6be=document[_0x5cebd0(0x683)](_0x5cebd0(0x823)),_0x334e63=_0x5cf6be[_0x5cebd0(0x1e4)];let _0x1f04a6='';_0x334e63!==_0x5cebd0(0x1ae)&&(_0x1f04a6=_0x5cebd0(0x4f7)+_0x334e63+_0x5cebd0(0x461));const _0x4222f1=document[_0x5cebd0(0x51a)]('#math-topics-checkbox-container\x20input:checked'),_0xcefc26=Array[_0x5cebd0(0x459)](_0x4222f1)[_0x5cebd0(0x5a8)](_0x4e2ae2=>_0x4e2ae2['value']);let _0x379ba1='';_0xcefc26[_0x5cebd0(0x7c4)]>0x0&&(_0x379ba1=_0x5cebd0(0x82f)+_0xcefc26[_0x5cebd0(0x8dc)](',\x20')+_0x5cebd0(0x26d));let _0x15d038='',_0x33ec64='',_0x5b084c,_0x4dffe0=_0x5cebd0(0x536)+_0x48f6dd+'\x22';if(!_0x48f6dd&&_0x2ec75d)_0x4dffe0=_0x5cebd0(0x52a);else!_0x48f6dd&&!_0x2ec75d&&(_0x4dffe0=_0x5cebd0(0x547));const _0x3699f7={'type':_0x5cebd0(0x2db),'properties':{'questionText':{'type':_0x5cebd0(0x858)},'options':{'type':'ARRAY','items':{'type':_0x5cebd0(0x858)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5cebd0(0x858)},'imageCode':{'type':_0x5cebd0(0x858)}},'required':['questionText',_0x5cebd0(0x4a4),'correctAnswerIndex',_0x5cebd0(0x188)]},_0x1139dd={'type':_0x5cebd0(0x2db),'properties':{'questionText':{'type':_0x5cebd0(0x858)},'idealAnswer':{'type':_0x5cebd0(0x858)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5cebd0(0x858)}},'required':[_0x5cebd0(0x66e),'idealAnswer',_0x5cebd0(0x188)]},_0x43328f={'type':_0x5cebd0(0x2db),'properties':{'questionText':{'type':_0x5cebd0(0x858)},'questionType':{'type':'STRING','enum':[_0x5cebd0(0x41d),'short_answer']},'options':{'type':_0x5cebd0(0x820),'items':{'type':_0x5cebd0(0x858)}},'correctAnswerIndex':{'type':_0x5cebd0(0x540)},'idealAnswer':{'type':_0x5cebd0(0x858)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5cebd0(0x858)}},'required':[_0x5cebd0(0x66e),_0x5cebd0(0x878),_0x5cebd0(0x188)]},_0x1b749f={'type':_0x5cebd0(0x2db),'properties':{'questionText':{'type':_0x5cebd0(0x858)},'correctAnswer':{'type':_0x5cebd0(0x64c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5cebd0(0x858)}},'required':[_0x5cebd0(0x66e),_0x5cebd0(0x2b0),_0x5cebd0(0x188)]},_0x31346f={'type':_0x5cebd0(0x2db),'properties':{'questionType':{'type':_0x5cebd0(0x858),'enum':[_0x5cebd0(0x526)]},'stem':{'type':_0x5cebd0(0x858)},'correctResponse':{'type':_0x5cebd0(0x858)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5cebd0(0x858)},'imageCode':{'type':_0x5cebd0(0x858)}},'required':[_0x5cebd0(0x878),_0x5cebd0(0x2de),_0x5cebd0(0x328),_0x5cebd0(0x5a6),'explanation']};let _0x4b16f3;if(_0x5724be!==null){const _0x41eb68=currentQuizData[_0x5cebd0(0x543)][_0x5724be]['questionType'],_0x307f94=_0x224172?_0x5cebd0(0x881):'';_0x15d038=_0x5cebd0(0x68a)+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+_0x5cebd0(0x4bc)+_0x307f94+'\x20'+simpleMathPrompt;if(_0x41eb68===_0x5cebd0(0x41d))_0x5b084c=_0x3699f7;else{if(_0x41eb68===_0x5cebd0(0x526))_0x5b084c={'type':_0x5cebd0(0x2db),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x5cebd0(0x858)},'imageCode':{'type':'STRING'}},'required':[_0x5cebd0(0x878),'stem',_0x5cebd0(0x328),_0x5cebd0(0x188)]};else _0x5b084c=_0x1139dd;}_0x4b16f3=_0x5b084c;}else{const _0x1af1ab=_0x224172?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x50fad6=_0x5cebd0(0x68d);switch(_0x309bd2){case _0x5cebd0(0x41d):_0x15d038=_0x5cebd0(0x296)+_0x14500f+'\x20'+_0x1a6ead+'\x20ข้อ\x20'+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x345)+_0x3932f8+_0x5cebd0(0x27a)+_0x1af1ab+'\x20'+simpleMathPrompt,_0x5b084c=_0x3699f7;break;case _0x5cebd0(0x5f0):_0x15d038=_0x5cebd0(0x4a1)+_0x14500f+'\x20'+_0x1a6ead+_0x5cebd0(0x3c5)+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x521)+_0x3932f8+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1af1ab+'\x20'+simpleMathPrompt,_0x5b084c=_0x3699f7;break;case'fill_in_no_choices':_0x15d038=_0x5cebd0(0x4a1)+_0x14500f+'\x20'+_0x1a6ead+_0x5cebd0(0x3c5)+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x700)+_0x1af1ab+'\x20'+simpleMathPrompt,_0x5b084c=_0x1139dd;break;case _0x5cebd0(0x1ae):_0x15d038=_0x5cebd0(0x711)+_0x14500f+'\x20'+_0x1a6ead+_0x5cebd0(0x3c5)+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x56e)+_0x3932f8+_0x5cebd0(0x3eb)+_0x1af1ab+'\x20'+simpleMathPrompt+'.',_0x5b084c=_0x43328f;break;case _0x5cebd0(0x743):_0x15d038=_0x5cebd0(0x2f3)+_0x14500f+'\x20'+_0x1a6ead+_0x5cebd0(0x3c5)+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x3fd)+_0x1af1ab+'\x20'+simpleMathPrompt,_0x5b084c=_0x1b749f;break;case _0x5cebd0(0x6bf):_0x15d038=_0x5cebd0(0x6a0)+_0x14500f+'\x20'+_0x1a6ead+'\x20คู่\x20'+_0x4dffe0+'\x20'+_0x379ba1+'\x20'+_0xb7eb5d+'\x20'+_0x1f04a6+_0x5cebd0(0x5e4)+_0x1af1ab+'\x20'+simpleMathPrompt,_0x5b084c=_0x31346f;break;}_0x4b16f3={'type':_0x5cebd0(0x2db),'properties':{'topic':{'type':_0x5cebd0(0x858)},'questions':{'type':'ARRAY','items':_0x5b084c}},'required':[_0x5cebd0(0x8af),_0x5cebd0(0x543)]};}return _0x2ec75d?(_0x15d038=_0x5cebd0(0x317)+_0x2ec75d+_0x5cebd0(0x26e)+_0x15d038,_0x33ec64=_0x5cebd0(0x82d)):_0x33ec64='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x15d038,_0x33ec64,_0x4b16f3,_0x5724be);}async function generateQuizFromFile(_0x559b31,_0x594bce){const _0x279d3e=_0x338e4c,_0x86df9e=document['getElementById']('file-topic-input')[_0x279d3e(0x1e4)][_0x279d3e(0x369)](),_0xb16ffe=document[_0x279d3e(0x683)](_0x279d3e(0x6c8))[_0x279d3e(0x1e4)],_0x39ef76=document['getElementById'](_0x279d3e(0x7fd))[_0x279d3e(0x1e4)],_0x275756=document[_0x279d3e(0x683)](_0x279d3e(0x1d9))[_0x279d3e(0x1e4)],_0x2d22b8=document[_0x279d3e(0x683)]('include-images-checkbox')['checked'],_0x16b572=document[_0x279d3e(0x683)]('force-math-checkbox')['checked'],_0x5b3efa=_0x16b572?'':'คณิตศาสตร์';let _0x5ceff2='',_0x4b74d1,_0x493357=_0x279d3e(0x536)+_0x86df9e+'\x22';!_0x86df9e&&(_0x493357=_0x279d3e(0x65e));const _0x4b338e=_0x2d22b8?_0x279d3e(0x38a):'';switch(_0xb16ffe){case _0x279d3e(0x41d):_0x5ceff2=_0x279d3e(0x296)+_0x5b3efa+'\x20'+_0x39ef76+_0x279d3e(0x3c5)+_0x493357+_0x279d3e(0x345)+_0x275756+_0x279d3e(0x27a)+_0x4b338e+'\x20'+simpleMathPrompt,_0x4b74d1={'type':_0x279d3e(0x2db),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x279d3e(0x820),'items':{'type':_0x279d3e(0x858)}},'correctAnswerIndex':{'type':_0x279d3e(0x540)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x279d3e(0x858)}},'required':['questionText',_0x279d3e(0x4a4),_0x279d3e(0x248),_0x279d3e(0x188)]};break;case'fill_in_with_choices':_0x5ceff2=_0x279d3e(0x4a1)+_0x5b3efa+'\x20'+_0x39ef76+_0x279d3e(0x3c5)+_0x493357+_0x279d3e(0x521)+_0x275756+_0x279d3e(0x424)+_0x4b338e+'\x20'+simpleMathPrompt,_0x4b74d1={'type':_0x279d3e(0x2db),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x279d3e(0x858)}},'correctAnswerIndex':{'type':_0x279d3e(0x540)},'explanation':{'type':_0x279d3e(0x858)},'imageCode':{'type':'STRING'}},'required':[_0x279d3e(0x66e),_0x279d3e(0x4a4),_0x279d3e(0x248),'explanation']};break;case _0x279d3e(0x53b):_0x5ceff2='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5b3efa+'\x20'+_0x39ef76+_0x279d3e(0x3c5)+_0x493357+_0x279d3e(0x700)+_0x4b338e+'\x20'+simpleMathPrompt,_0x4b74d1={'type':'OBJECT','properties':{'questionText':{'type':_0x279d3e(0x858)},'idealAnswer':{'type':_0x279d3e(0x858)},'explanation':{'type':_0x279d3e(0x858)},'imageCode':{'type':_0x279d3e(0x858)}},'required':[_0x279d3e(0x66e),_0x279d3e(0x4f0),_0x279d3e(0x188)]};break;case _0x279d3e(0x1ae):_0x5ceff2='สร้างแบบทดสอบ'+_0x5b3efa+'\x20'+_0x39ef76+_0x279d3e(0x3c5)+_0x493357+_0x279d3e(0x704)+_0x275756+_0x279d3e(0x3eb)+_0x4b338e+'\x20'+simpleMathPrompt+_0x279d3e(0x405),_0x4b74d1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x279d3e(0x858),'enum':['multiple_choice','short_answer']},'options':{'type':_0x279d3e(0x820),'items':{'type':_0x279d3e(0x858)}},'correctAnswerIndex':{'type':_0x279d3e(0x540)},'idealAnswer':{'type':_0x279d3e(0x858)},'explanation':{'type':_0x279d3e(0x858)},'imageCode':{'type':'STRING'}},'required':[_0x279d3e(0x66e),_0x279d3e(0x878),'explanation']};break;case _0x279d3e(0x743):_0x5ceff2=_0x279d3e(0x2f3)+_0x5b3efa+'\x20'+_0x39ef76+'\x20ข้อ\x20'+_0x493357+_0x279d3e(0x4a3)+_0x4b338e+'\x20'+simpleMathPrompt,_0x4b74d1={'type':_0x279d3e(0x2db),'properties':{'questionText':{'type':_0x279d3e(0x858)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x279d3e(0x858)},'imageCode':{'type':_0x279d3e(0x858)}},'required':[_0x279d3e(0x66e),_0x279d3e(0x2b0),_0x279d3e(0x188)]};break;case _0x279d3e(0x6bf):_0x5ceff2='สร้างชุดคำถามจับคู่'+_0x5b3efa+'\x20'+_0x39ef76+'\x20คู่\x20'+_0x493357+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x39ef76+_0x279d3e(0x688)+_0x4b338e+'\x20'+simpleMathPrompt,_0x4b74d1={'type':_0x279d3e(0x2db),'properties':{'questionType':{'type':_0x279d3e(0x858),'enum':[_0x279d3e(0x526)]},'stem':{'type':_0x279d3e(0x858)},'correctResponse':{'type':_0x279d3e(0x858)},'allResponses':{'type':_0x279d3e(0x820),'items':{'type':_0x279d3e(0x858)}},'explanation':{'type':_0x279d3e(0x858)},'imageCode':{'type':_0x279d3e(0x858)}},'required':[_0x279d3e(0x878),_0x279d3e(0x2de),'correctResponse',_0x279d3e(0x5a6),_0x279d3e(0x188)]};break;}const _0x43d0a8={'type':'OBJECT','properties':{'topic':{'type':_0x279d3e(0x858)},'questions':{'type':_0x279d3e(0x820),'items':_0x4b74d1}},'required':[_0x279d3e(0x8af),_0x279d3e(0x543)]},_0x44651f='จากไฟล์ที่แนบมานี้,\x20'+_0x5ceff2,_0x75226f={'contents':[{'parts':[{'text':_0x44651f},{'inlineData':{'mimeType':_0x559b31,'data':_0x594bce}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x43d0a8}};return handleApiCall(_0x75226f[_0x279d3e(0x1b1)][0x0][_0x279d3e(0x48e)],_0x279d3e(0x7ab),_0x43d0a8);}async function handleApiCall(_0x19c6cc,_0x42edea,_0x3e3d02,_0x2b71a7=null){const _0xac37aa=_0x338e4c,_0x26507f=document[_0xac37aa(0x683)](_0xac37aa(0x467)),_0x536975=document['getElementById'](_0xac37aa(0x527)),_0x232ba8=document[_0xac37aa(0x683)](_0xac37aa(0x404)),_0x34eb8d=document[_0xac37aa(0x683)](_0xac37aa(0x80a));_0x26507f[_0xac37aa(0x274)]['remove'](_0xac37aa(0x8c6));_0x2b71a7===null&&(_0x34eb8d['innerHTML']='');_0x536975[_0xac37aa(0x274)][_0xac37aa(0x2da)]('hidden'),_0x232ba8['textContent']=_0x42edea,document[_0xac37aa(0x683)](_0xac37aa(0x77d))[_0xac37aa(0x442)]=!![],document[_0xac37aa(0x683)](_0xac37aa(0x3c4))[_0xac37aa(0x442)]=!![],document[_0xac37aa(0x683)](_0xac37aa(0x5ae))[_0xac37aa(0x442)]=!![];try{const _0xd0e6de={'responseMimeType':_0xac37aa(0x5a2),'responseSchema':_0x3e3d02},_0x21dd28=Array['isArray'](_0x19c6cc)?_0x19c6cc:[{'text':_0x19c6cc}],_0x344830={'contents':[{'role':_0xac37aa(0x72a),'parts':_0x21dd28}],'generationConfig':_0xd0e6de},_0x2897a2=_0xac37aa(0x60d),_0x38d25a=_0xac37aa(0x717)+_0x2897a2,_0x5f18ec=await fetch(_0x38d25a,{'method':'POST','headers':{'Content-Type':_0xac37aa(0x5a2)},'body':JSON[_0xac37aa(0x23a)](_0x344830)});if(!_0x5f18ec['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5f18ec[_0xac37aa(0x7c6)]);const _0x20fd70=await _0x5f18ec[_0xac37aa(0x32d)]();if(_0x20fd70[_0xac37aa(0x618)]?.[0x0]?.[_0xac37aa(0x6f7)]?.[_0xac37aa(0x48e)]?.[0x0]){let _0x4dd9e1=_0x20fd70[_0xac37aa(0x618)][0x0]['content'][_0xac37aa(0x48e)][0x0]['text'],_0x3d0d2b;try{if(_0x4dd9e1['startsWith'](_0xac37aa(0x28a)))_0x4dd9e1=_0x4dd9e1[_0xac37aa(0x735)](0x7,_0x4dd9e1[_0xac37aa(0x7c4)]-0x3)[_0xac37aa(0x369)]();else _0x4dd9e1['startsWith'](_0xac37aa(0x5e5))&&(_0x4dd9e1=_0x4dd9e1[_0xac37aa(0x735)](0x3,_0x4dd9e1['length']-0x3)['trim']());_0x3d0d2b=JSON[_0xac37aa(0x78e)](_0x4dd9e1);}catch(_0x478764){console[_0xac37aa(0x7ad)](_0xac37aa(0x637),_0x478764,_0x4dd9e1);throw new Error(_0xac37aa(0x6f9));}if(_0x2b71a7!==null){if(_0x3d0d2b['questionType']===_0xac37aa(0x526)){const _0x485cde=currentQuizData[_0xac37aa(0x543)][_0xac37aa(0x5a8)](_0x4917b1=>_0x4917b1[_0xac37aa(0x328)]);_0x3d0d2b['allResponses']=_0x485cde;const _0x2634a3=currentQuizData[_0xac37aa(0x543)][_0x2b71a7][_0xac37aa(0x328)],_0x51801b=_0x485cde[_0xac37aa(0x6b5)](_0x2634a3);_0x51801b>-0x1&&(_0x485cde[_0x51801b]=_0x3d0d2b['correctResponse']),currentQuizData['questions']['forEach'](_0x246637=>{const _0x2d9e0c=_0xac37aa;if(_0x246637[_0x2d9e0c(0x878)]===_0x2d9e0c(0x526))_0x246637[_0x2d9e0c(0x5a6)]=_0x485cde;});}currentQuizData['questions'][_0x2b71a7]=_0x3d0d2b,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x3d0d2b;const _0x463835=document[_0xac37aa(0x683)](_0xac37aa(0x6c8))[_0xac37aa(0x1e4)];currentQuizData[_0xac37aa(0x4ad)]=_0x463835,currentQuizData['questions']&&currentQuizData[_0xac37aa(0x543)]['forEach'](_0x5dd715=>{const _0x5ec8f4=_0xac37aa;if(!_0x5dd715[_0x5ec8f4(0x878)]){if(_0x463835==='fill_in_with_choices')_0x5dd715['questionType']=_0x5ec8f4(0x41d);else _0x463835===_0x5ec8f4(0x53b)?_0x5dd715[_0x5ec8f4(0x878)]=_0x5ec8f4(0x81d):_0x5dd715[_0x5ec8f4(0x878)]=_0x463835;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xac37aa(0x7ad)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0xac37aa(0x23a)](_0x20fd70));throw new Error(_0xac37aa(0x6f9));}}catch(_0x8c8d91){console[_0xac37aa(0x7ad)](_0xac37aa(0x670),_0x8c8d91),showMessage(_0xac37aa(0x531)),_0x2b71a7===null&&(_0x34eb8d[_0xac37aa(0x57a)]=_0xac37aa(0x5cf));}finally{_0x536975[_0xac37aa(0x274)][_0xac37aa(0x2e7)](_0xac37aa(0x8c6)),document[_0xac37aa(0x683)](_0xac37aa(0x77d))[_0xac37aa(0x442)]=![],document['getElementById'](_0xac37aa(0x3c4))['disabled']=![],document['getElementById'](_0xac37aa(0x5ae))[_0xac37aa(0x442)]=![];const _0x34106d=document[_0xac37aa(0x683)](_0xac37aa(0x852));_0x34106d&&(_0x34106d[_0xac37aa(0x442)]=![]);}}function exitFullscreen(){const _0x4212af=_0x338e4c;if(document[_0x4212af(0x3c1)])document[_0x4212af(0x3c1)]()[_0x4212af(0x5a1)](_0x3d0384=>console['error'](_0x3d0384));else{if(document[_0x4212af(0x1de)])document[_0x4212af(0x1de)]();else document[_0x4212af(0x4ac)]&&document[_0x4212af(0x4ac)]();}}function enterFullscreen(){const _0x119396=_0x338e4c,_0x512aaa=document['documentElement'];if(_0x512aaa[_0x119396(0x863)])_0x512aaa['requestFullscreen']()['catch'](_0x415003=>{const _0x3518e5=_0x119396;console[_0x3518e5(0x7ad)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x415003[_0x3518e5(0x6b9)]+'\x20('+_0x415003[_0x3518e5(0x289)]+')');});else{if(_0x512aaa[_0x119396(0x638)])_0x512aaa[_0x119396(0x638)]();else _0x512aaa[_0x119396(0x6c2)]&&_0x512aaa[_0x119396(0x6c2)]();}}function handleVisibilityChange(){const _0x2428b6=_0x338e4c;if(currentMode==='admin-testing')return;isQuizActive&&document[_0x2428b6(0x1ce)]===_0x2428b6(0x8c6)&&(cheatAttempts++,logBehaviorEvent(_0x2428b6(0x4b7),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x2428b6(0x35a)+maxCheatAttempts+_0x2428b6(0x30b)),document[_0x2428b6(0x683)](_0x2428b6(0x7cb))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2428b6(0x2b1)]('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x2428b6(0x819),handleFullscreenChange)):showMessage(_0x2428b6(0x1e6)+cheatAttempts+'/'+maxCheatAttempts+_0x2428b6(0x2cd)));}function handleFullscreenChange(){const _0x4baece=_0x338e4c;if(currentMode===_0x4baece(0x8cf))return;!document[_0x4baece(0x52f)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent('exited_fullscreen',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4baece(0x485)+maxCheatAttempts+_0x4baece(0x30b)),document[_0x4baece(0x683)](_0x4baece(0x7cb))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x4baece(0x819),handleFullscreenChange)):showMessage(_0x4baece(0x1e6)+cheatAttempts+'/'+maxCheatAttempts+_0x4baece(0x876),enterFullscreen));}function displayGeneratedQuiz(_0x4348a2){const _0x564e1a=_0x338e4c,_0x51f8fb=document['getElementById'](_0x564e1a(0x80a));let _0x5cbab8=_0x564e1a(0x2ae)+_0x4348a2[_0x564e1a(0x8af)]+'</h3>';_0x4348a2[_0x564e1a(0x543)]['forEach']((_0x30e5e0,_0x30e82d)=>{const _0x4d5848=_0x564e1a;!_0x30e5e0['id']&&(_0x30e5e0['id']='q_'+Date[_0x4d5848(0x3d1)]()+'_'+_0x30e82d);const _0x5e3ac3=_0x30e5e0[_0x4d5848(0x878)]||_0x4348a2[_0x4d5848(0x4ad)];_0x5cbab8+=_0x4d5848(0x438)+_0x30e82d+_0x4d5848(0x20f)+_0x30e82d+_0x4d5848(0x7de)+_0x30e82d+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x30e82d+_0x4d5848(0x50a);switch(_0x5e3ac3){case _0x4d5848(0x526):_0x5cbab8+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x30e82d+'\x22>'+(_0x30e82d+0x1)+'.\x20'+_0x30e5e0[_0x4d5848(0x2de)]+_0x4d5848(0x73d);_0x30e5e0[_0x4d5848(0x45c)]&&(_0x5cbab8+=_0x4d5848(0x24f)+_0x30e82d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x30e5e0[_0x4d5848(0x45c)]+_0x4d5848(0x1e9));_0x5cbab8+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x30e82d+'\x22>'+_0x30e5e0[_0x4d5848(0x328)]+_0x4d5848(0x528),_0x5cbab8+=_0x4d5848(0x348)+_0x30e82d+'\x22>'+_0x30e5e0[_0x4d5848(0x188)]+_0x4d5848(0x528);break;case _0x4d5848(0x81d):_0x5cbab8+=_0x4d5848(0x265)+_0x30e82d+'\x22>'+(_0x30e82d+0x1)+'.\x20'+_0x30e5e0[_0x4d5848(0x66e)]+_0x4d5848(0x73d);_0x30e5e0[_0x4d5848(0x45c)]&&(_0x5cbab8+=_0x4d5848(0x24f)+_0x30e82d+_0x4d5848(0x57b)+_0x30e5e0[_0x4d5848(0x45c)]+_0x4d5848(0x1e9));_0x5cbab8+=_0x4d5848(0x872)+_0x30e82d+'\x22>'+_0x30e5e0[_0x4d5848(0x4f0)]+_0x4d5848(0x528),_0x5cbab8+=_0x4d5848(0x348)+_0x30e82d+'\x22>'+_0x30e5e0['explanation']+'</span></div>';break;case _0x4d5848(0x743):_0x5cbab8+=_0x4d5848(0x265)+_0x30e82d+'\x22>'+(_0x30e82d+0x1)+'.\x20'+_0x30e5e0[_0x4d5848(0x66e)]+_0x4d5848(0x73d);_0x30e5e0[_0x4d5848(0x45c)]&&(_0x5cbab8+='<div\x20id=\x22q-image-container-'+_0x30e82d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x30e5e0[_0x4d5848(0x45c)]+_0x4d5848(0x1e9));_0x5cbab8+=_0x4d5848(0x372)+(_0x30e5e0[_0x4d5848(0x2b0)]===!![]?'text-green-600\x20font-bold':'')+_0x4d5848(0x261)+(_0x30e5e0[_0x4d5848(0x2b0)]===![]?_0x4d5848(0x361):'')+_0x4d5848(0x613),_0x5cbab8+=_0x4d5848(0x348)+_0x30e82d+'\x22>'+_0x30e5e0[_0x4d5848(0x188)]+_0x4d5848(0x528);break;case _0x4d5848(0x3cf):case'multiple_choice':default:_0x5cbab8+=_0x4d5848(0x265)+_0x30e82d+'\x22>'+(_0x30e82d+0x1)+'.\x20'+_0x30e5e0[_0x4d5848(0x66e)]+_0x4d5848(0x73d);_0x30e5e0[_0x4d5848(0x45c)]&&(_0x5cbab8+=_0x4d5848(0x24f)+_0x30e82d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x30e5e0[_0x4d5848(0x45c)]+_0x4d5848(0x1e9));_0x5cbab8+=_0x4d5848(0x3b7)+_0x30e82d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30e5e0[_0x4d5848(0x4a4)][_0x4d5848(0x5a8)]((_0x1fe6a9,_0x3ece7d)=>'<li\x20class=\x22'+(_0x3ece7d===_0x30e5e0[_0x4d5848(0x248)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x1fe6a9+'</li>')[_0x4d5848(0x8dc)]('')+_0x4d5848(0x448),_0x5cbab8+=_0x4d5848(0x348)+_0x30e82d+'\x22>'+_0x30e5e0['explanation']+_0x4d5848(0x528);break;}_0x5cbab8+=_0x4d5848(0x1e9);}),_0x5cbab8+=_0x564e1a(0x294),_0x51f8fb[_0x564e1a(0x57a)]=_0x5cbab8,document[_0x564e1a(0x51a)](_0x564e1a(0x3da))[_0x564e1a(0x630)](_0x59d14c=>_0x59d14c[_0x564e1a(0x4aa)](_0x564e1a(0x32a),handleEditQuestion)),document[_0x564e1a(0x51a)](_0x564e1a(0x3c6))[_0x564e1a(0x630)](_0x18d2c8=>_0x18d2c8[_0x564e1a(0x4aa)](_0x564e1a(0x32a),handleRegenerateQuestion)),document[_0x564e1a(0x51a)]('.save-to-bank-btn')[_0x564e1a(0x630)](_0x22e1a4=>_0x22e1a4[_0x564e1a(0x4aa)](_0x564e1a(0x32a),handleSaveToBank)),document[_0x564e1a(0x683)](_0x564e1a(0x397))['addEventListener'](_0x564e1a(0x32a),exportQuizAsWorksheetPDF),document[_0x564e1a(0x683)]('save-quiz-btn')[_0x564e1a(0x4aa)](_0x564e1a(0x32a),saveQuiz),document[_0x564e1a(0x683)](_0x564e1a(0x84a))['addEventListener'](_0x564e1a(0x32a),handleVerifyAnswers);if(window[_0x564e1a(0x56d)])window['MathJax'][_0x564e1a(0x190)]([_0x51f8fb]);}function handleRegenerateQuestion(_0x1c35b5){const _0x366ad4=_0x338e4c,_0x1a6547=_0x1c35b5[_0x366ad4(0x8ee)]['dataset'][_0x366ad4(0x806)],_0x29dd7a=currentQuizData['topic'];showMessage(_0x366ad4(0x3e8)+(parseInt(_0x1a6547)+0x1)+_0x366ad4(0x7a1)),generateQuiz(_0x29dd7a,null,parseInt(_0x1a6547));}function getPointerPosition(_0x17b36b,_0x24d6fa){const _0x3b0ca1=_0x338e4c,_0x24221c=_0x17b36b[_0x3b0ca1(0x780)]();let _0x457478,_0x4334eb;return _0x24d6fa[_0x3b0ca1(0x75e)]&&_0x24d6fa[_0x3b0ca1(0x75e)]['length']>0x0?(_0x457478=_0x24d6fa[_0x3b0ca1(0x75e)][0x0][_0x3b0ca1(0x722)],_0x4334eb=_0x24d6fa['touches'][0x0]['clientY']):(_0x457478=_0x24d6fa['clientX'],_0x4334eb=_0x24d6fa[_0x3b0ca1(0x2c3)]),{'x':(_0x457478-_0x24221c['e'])/_0x24221c['a'],'y':(_0x4334eb-_0x24221c['f'])/_0x24221c['d']};}function startDrag(_0x59ad8c){const _0x30e2c2=_0x338e4c;_0x59ad8c[_0x30e2c2(0x68c)]===_0x30e2c2(0x229)&&_0x59ad8c['preventDefault']();const _0x435718=_0x59ad8c['target'][_0x30e2c2(0x3fb)](_0x30e2c2(0x4e6));if(_0x435718){draggedSvgElement=_0x435718;const _0x141a9a=draggedSvgElement[_0x30e2c2(0x4e9)],_0x227342=getPointerPosition(_0x141a9a,_0x59ad8c);svgOffset['x']=_0x227342['x']-parseFloat(draggedSvgElement[_0x30e2c2(0x2a7)](null,'x')),svgOffset['y']=_0x227342['y']-parseFloat(draggedSvgElement[_0x30e2c2(0x2a7)](null,'y'));}}function calculateItemAnalysis(_0x4ceed8,_0x3c0ce7){const _0x17bfe4=_0x338e4c,_0x54cfe6={};if(_0x3c0ce7[_0x17bfe4(0x7c4)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4eb589=[..._0x3c0ce7][_0x17bfe4(0x53c)]((_0x46dfe7,_0x3b8c3f)=>{const _0x1fe014=_0x17bfe4,_0x13b21e=_0x3b8c3f[_0x1fe014(0x541)]-_0x46dfe7[_0x1fe014(0x541)];if(_0x13b21e!==0x0)return _0x13b21e;const _0x176c26=_0x46dfe7[_0x1fe014(0x805)]?.[_0x1fe014(0x7c4)]||0x1,_0x10205e=_0x3b8c3f[_0x1fe014(0x805)]?.['length']||0x1,_0x59d059=_0x176c26-_0x10205e;if(_0x59d059!==0x0)return _0x59d059;const _0x307b39=new Date(_0x46dfe7['latestSubmittedAt']),_0x445f78=new Date(_0x3b8c3f[_0x1fe014(0x78c)]),_0xeb89ce=_0x307b39-_0x445f78;if(_0xeb89ce!==0x0)return _0xeb89ce;return _0x46dfe7[_0x1fe014(0x2d0)]['localeCompare'](_0x3b8c3f[_0x1fe014(0x2d0)],'th');}),_0x122d2f=_0x4eb589[_0x17bfe4(0x7c4)],_0x50f0f0=Math['max'](0x1,Math['floor'](_0x122d2f*0.33));if(_0x50f0f0===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x310c2d=_0x4eb589[_0x17bfe4(0x3c3)](0x0,_0x50f0f0),_0x3c8029=_0x4eb589[_0x17bfe4(0x3c3)](-_0x50f0f0),_0x57249a=_0x310c2d[_0x17bfe4(0x5a8)](_0x549113=>_0x549113[_0x17bfe4(0x2d0)]),_0x11105a=_0x3c8029[_0x17bfe4(0x5a8)](_0x20ed95=>_0x20ed95[_0x17bfe4(0x2d0)]);return _0x4ceed8[_0x17bfe4(0x543)][_0x17bfe4(0x630)]((_0x18daa9,_0x46e3ec)=>{const _0x5e3fa2=_0x17bfe4,_0x29af9e=_0x18daa9[_0x5e3fa2(0x2de)]||_0x18daa9[_0x5e3fa2(0x66e)];let _0x13957b=0x0,_0x2b052a=0x0,_0x3c985b=0x0;const _0x454975=[],_0x112798=[];_0x310c2d[_0x5e3fa2(0x630)](_0xc7b421=>{const _0x2926ca=_0x5e3fa2,_0xdf6225=_0xc7b421['attempts'][_0xc7b421[_0x2926ca(0x805)][_0x2926ca(0x7c4)]-0x1],_0x2cbdc1=_0xdf6225[_0x2926ca(0x385)][_0x2926ca(0x337)](_0x1fc2c1=>_0x1fc2c1[_0x2926ca(0x4ca)]===_0x29af9e);_0x454975[_0x2926ca(0x76d)]({'name':_0xc7b421[_0x2926ca(0x2d0)],'isCorrect':_0x2cbdc1?_0x2cbdc1[_0x2926ca(0x4c5)]:![]}),_0x2cbdc1&&_0x2cbdc1[_0x2926ca(0x4c5)]&&_0x2b052a++;}),_0x3c8029[_0x5e3fa2(0x630)](_0x427b2c=>{const _0x19eba1=_0x5e3fa2,_0x977c8d=_0x427b2c[_0x19eba1(0x805)][_0x427b2c[_0x19eba1(0x805)][_0x19eba1(0x7c4)]-0x1],_0x43fc1b=_0x977c8d[_0x19eba1(0x385)][_0x19eba1(0x337)](_0x34d1ca=>_0x34d1ca[_0x19eba1(0x4ca)]===_0x29af9e);_0x112798['push']({'name':_0x427b2c[_0x19eba1(0x2d0)],'isCorrect':_0x43fc1b?_0x43fc1b['isCorrect']:![]}),_0x43fc1b&&_0x43fc1b[_0x19eba1(0x4c5)]&&_0x3c985b++;}),_0x3c0ce7[_0x5e3fa2(0x630)](_0x56c0cb=>{const _0x33650c=_0x5e3fa2,_0x2bdcfe=_0x56c0cb[_0x33650c(0x805)][_0x56c0cb['attempts']['length']-0x1],_0x256e69=_0x2bdcfe[_0x33650c(0x385)][_0x33650c(0x337)](_0x267fea=>_0x267fea[_0x33650c(0x4ca)]===_0x29af9e);_0x256e69&&_0x256e69[_0x33650c(0x4c5)]&&_0x13957b++;});const _0x2775e4=_0x122d2f>0x0?_0x13957b/_0x122d2f:0x0,_0x2c1ac7=_0x50f0f0>0x0?_0x2b052a/_0x50f0f0-_0x3c985b/_0x50f0f0:0x0;_0x54cfe6[_0x46e3ec]={'p':_0x2775e4,'r':_0x2c1ac7,'upperGroupResponders':_0x454975,'lowerGroupResponders':_0x112798};}),{'perQuestionStats':_0x54cfe6,'overallGroups':{'upperGroupNames':_0x57249a,'lowerGroupNames':_0x11105a}};}function drag(_0x54a90d){const _0x4e08a4=_0x338e4c;if(draggedSvgElement){_0x54a90d[_0x4e08a4(0x646)]();const _0x7dd616=draggedSvgElement[_0x4e08a4(0x4e9)],_0x1c21e2=getPointerPosition(_0x7dd616,_0x54a90d),_0x3872f7=_0x7dd616['viewBox'][_0x4e08a4(0x376)];let _0xdea7f8=_0x1c21e2['x']-svgOffset['x'],_0x3ed345=_0x1c21e2['y']-svgOffset['y'];const _0x4a4392=draggedSvgElement[_0x4e08a4(0x61a)]();_0xdea7f8=Math[_0x4e08a4(0x5f7)](_0x3872f7['x'],Math['min'](_0xdea7f8,_0x3872f7['x']+_0x3872f7[_0x4e08a4(0x304)]-_0x4a4392[_0x4e08a4(0x304)])),_0x3ed345=Math[_0x4e08a4(0x5f7)](_0x3872f7['y'],Math[_0x4e08a4(0x184)](_0x3ed345,_0x3872f7['y']+_0x3872f7[_0x4e08a4(0x66f)]-_0x4a4392[_0x4e08a4(0x66f)])),draggedSvgElement[_0x4e08a4(0x398)](null,'x',_0xdea7f8),draggedSvgElement[_0x4e08a4(0x398)](null,'y',_0x3ed345);}}function endDrag(_0x2e1d6d){draggedSvgElement=null;}function handleSvgEditClick(_0xd7b087){const _0x5d3d0b=_0x338e4c;if(_0xd7b087[_0x5d3d0b(0x7e8)][_0x5d3d0b(0x274)][_0x5d3d0b(0x5dd)](_0x5d3d0b(0x8bd))){const _0x26f918=_0xd7b087['target'][_0x5d3d0b(0x432)][_0x5d3d0b(0x420)],_0x148971=_0xd7b087[_0x5d3d0b(0x8ee)],_0x5d01e9=_0x148971[_0x5d3d0b(0x26a)]('#'+_0x26f918);_0x5d01e9&&_0x5d01e9[_0x5d3d0b(0x2da)](),_0xd7b087[_0x5d3d0b(0x7e8)][_0x5d3d0b(0x2da)]();}}function handleEditQuestion(_0x256d4a){const _0x20efec=_0x338e4c,_0x256285=_0x256d4a['currentTarget'],_0x217c5b=_0x256285[_0x20efec(0x432)][_0x20efec(0x806)],_0x133042=currentQuizData[_0x20efec(0x543)][_0x217c5b],_0x2420d8=document[_0x20efec(0x683)]('q-text-'+_0x217c5b),_0x408535=document[_0x20efec(0x683)](_0x20efec(0x770)+_0x217c5b),_0x597a2d=document[_0x20efec(0x683)](_0x20efec(0x530)+_0x217c5b);if(_0x256285[_0x20efec(0x57a)]['includes']('fa-pen')){_0x256285[_0x20efec(0x57a)]=_0x20efec(0x20a),_0x256285[_0x20efec(0x4ef)]='บันทึกการแก้ไข';if(_0x2420d8)_0x2420d8['contentEditable']=!![];if(_0x408535)_0x408535[_0x20efec(0x553)]=!![];if(_0x597a2d){const _0x802e40=_0x597a2d[_0x20efec(0x26a)](_0x20efec(0x395));if(_0x802e40){const _0x7c8fe1=_0x802e40[_0x20efec(0x51a)](_0x20efec(0x1d5));_0x7c8fe1[_0x20efec(0x630)]((_0x396664,_0x8f813d)=>{const _0x233386=_0x20efec,_0x5ce6da=_0x233386(0x469)+_0x217c5b+'-'+_0x8f813d;_0x396664['id']=_0x5ce6da,_0x396664['classList'][_0x233386(0x2e7)](_0x233386(0x6c1)),_0x396664['style'][_0x233386(0x422)]=_0x233386(0x504);const _0x15ccba=document['createElementNS'](_0x233386(0x320),_0x233386(0x339)),_0x2e39b6=_0x396664[_0x233386(0x61a)]();_0x15ccba[_0x233386(0x87d)]('cx',String(_0x2e39b6['x']+_0x2e39b6[_0x233386(0x304)]+0x5)),_0x15ccba[_0x233386(0x87d)]('cy',String(_0x2e39b6['y']+_0x2e39b6[_0x233386(0x66f)]/0x2-0x5)),_0x15ccba[_0x233386(0x87d)]('r','5'),_0x15ccba[_0x233386(0x87d)](_0x233386(0x1ef),_0x233386(0x292)),_0x15ccba[_0x233386(0x87d)]('class',_0x233386(0x8bd)),_0x15ccba[_0x233386(0x432)][_0x233386(0x420)]=_0x5ce6da,_0x396664[_0x233386(0x31c)](_0x15ccba);}),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x47c),startDrag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x7b5),drag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x498),endDrag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x7c3),endDrag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x229),startDrag,{'passive':![]}),_0x802e40['addEventListener'](_0x20efec(0x668),drag,{'passive':![]}),_0x802e40[_0x20efec(0x4aa)]('touchend',endDrag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x2e0),endDrag),_0x802e40[_0x20efec(0x4aa)](_0x20efec(0x32a),handleSvgEditClick);}}if(_0x2420d8)_0x2420d8['focus']();}else{_0x256285[_0x20efec(0x57a)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x256285['title']=_0x20efec(0x4b5);if(_0x2420d8){_0x2420d8[_0x20efec(0x553)]=![];const _0x26d0cb=_0x133042['questionType']||currentQuizData[_0x20efec(0x4ad)];_0x26d0cb===_0x20efec(0x526)?_0x133042[_0x20efec(0x2de)]=_0x2420d8[_0x20efec(0x34a)][_0x20efec(0x735)](_0x2420d8[_0x20efec(0x34a)][_0x20efec(0x6b5)]('.')+0x2)[_0x20efec(0x369)]():_0x133042[_0x20efec(0x66e)]=_0x2420d8[_0x20efec(0x34a)][_0x20efec(0x735)](_0x2420d8[_0x20efec(0x34a)]['indexOf']('.')+0x2)['trim']();}_0x408535&&(_0x408535[_0x20efec(0x553)]=![],_0x133042['explanation']=_0x408535[_0x20efec(0x34a)]);if(_0x597a2d){const _0x17e989=_0x597a2d[_0x20efec(0x26a)]('svg');if(_0x17e989){const _0x33f00c=_0x17e989[_0x20efec(0x602)](!![]);_0x33f00c['querySelectorAll'](_0x20efec(0x30f))[_0x20efec(0x630)](_0x42c2ca=>_0x42c2ca[_0x20efec(0x2da)]()),_0x33f00c[_0x20efec(0x51a)]('.draggable-text')['forEach'](_0x100e37=>{const _0x3d34cd=_0x20efec;_0x100e37['classList'][_0x3d34cd(0x2da)](_0x3d34cd(0x6c1)),_0x100e37[_0x3d34cd(0x3fc)]['cursor']=_0x3d34cd(0x70f),_0x100e37[_0x3d34cd(0x488)]('id');}),_0x133042[_0x20efec(0x45c)]=_0x33f00c[_0x20efec(0x71f)],_0x17e989[_0x20efec(0x2b1)](_0x20efec(0x47c),startDrag),_0x17e989[_0x20efec(0x2b1)](_0x20efec(0x7b5),drag),_0x17e989[_0x20efec(0x2b1)]('mouseup',endDrag),_0x17e989[_0x20efec(0x2b1)](_0x20efec(0x7c3),endDrag),_0x17e989['removeEventListener'](_0x20efec(0x229),startDrag),_0x17e989[_0x20efec(0x2b1)]('touchmove',drag),_0x17e989['removeEventListener'](_0x20efec(0x3dd),endDrag),_0x17e989['removeEventListener']('touchcancel',endDrag),_0x17e989[_0x20efec(0x2b1)](_0x20efec(0x32a),handleSvgEditClick),_0x17e989['querySelectorAll']('.delete-svg-btn')['forEach'](_0x3bd968=>_0x3bd968[_0x20efec(0x2da)]()),_0x17e989[_0x20efec(0x51a)]('.draggable-text')[_0x20efec(0x630)](_0x1b6819=>{const _0x396ffd=_0x20efec;_0x1b6819[_0x396ffd(0x274)]['remove'](_0x396ffd(0x6c1)),_0x1b6819['style'][_0x396ffd(0x422)]=_0x396ffd(0x70f);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xf34d47){const _0x43ed88=_0x338e4c,_0x4d7abd=document[_0x43ed88(0x683)]('quiz-editor-modal'),_0x5bbde8=document[_0x43ed88(0x683)](_0x43ed88(0x23f));_0x5bbde8[_0x43ed88(0x57a)]=_0x43ed88(0x612),_0x4d7abd[_0x43ed88(0x274)][_0x43ed88(0x2da)](_0x43ed88(0x8c6));try{const _0x2e84c5=doc(db,'artifacts/'+appId+_0x43ed88(0x6ca),_0xf34d47),_0x19792d=await getDoc(_0x2e84c5);if(!_0x19792d[_0x43ed88(0x837)]())throw new Error(_0x43ed88(0x566));currentEditingQuizData={'id':_0xf34d47,..._0x19792d['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x592ef4){console[_0x43ed88(0x7ad)]('Error\x20opening\x20quiz\x20editor:',_0x592ef4),showMessage(_0x43ed88(0x206)),_0x4d7abd['classList'][_0x43ed88(0x2e7)](_0x43ed88(0x8c6));}}function renderQuizEditor(_0x4ab5bb){const _0x3ab275=_0x338e4c;document[_0x3ab275(0x683)](_0x3ab275(0x59d))[_0x3ab275(0x1e4)]=_0x4ab5bb[_0x3ab275(0x8af)];const _0x3aa0d8=document[_0x3ab275(0x683)](_0x3ab275(0x23f));let _0x3e3903=_0x4ab5bb['questions'][_0x3ab275(0x5a8)]((_0x5b6cc1,_0x329c19)=>{const _0x25f055=_0x3ab275;let _0x15f118='';const _0x443726=_0x5b6cc1[_0x25f055(0x878)]||_0x4ab5bb[_0x25f055(0x4ad)];switch(_0x443726){case _0x25f055(0x41d):const _0x878a4e=(_0x5b6cc1['options']||[])[_0x25f055(0x5a8)]((_0x1d2ad7,_0x2791b8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x329c19+_0x25f055(0x195)+_0x2791b8+'\x22\x20'+(_0x2791b8===_0x5b6cc1[_0x25f055(0x248)]?_0x25f055(0x800):'')+_0x25f055(0x8c0)+_0x1d2ad7+_0x25f055(0x713))[_0x25f055(0x8dc)]('');_0x15f118=_0x25f055(0x3ed)+_0x878a4e+_0x25f055(0x836);break;case'short_answer':_0x15f118=_0x25f055(0x639)+(_0x5b6cc1['idealAnswer']||'')+_0x25f055(0x1f8);break;case _0x25f055(0x743):_0x15f118=_0x25f055(0x66d)+_0x329c19+_0x25f055(0x445)+(_0x5b6cc1[_0x25f055(0x2b0)]===!![]?_0x25f055(0x800):'')+_0x25f055(0x4f2)+_0x329c19+_0x25f055(0x791)+(_0x5b6cc1[_0x25f055(0x2b0)]===![]?_0x25f055(0x800):'')+_0x25f055(0x3d8);break;case'matching_item':_0x15f118=_0x25f055(0x3f0)+(_0x5b6cc1['correctResponse']||'')+_0x25f055(0x6ba);break;}const _0x3b7265=_0x5b6cc1['questionText']||_0x5b6cc1[_0x25f055(0x2de)]||'';return _0x25f055(0x364)+_0x329c19+_0x25f055(0x456)+_0x443726+_0x25f055(0x89b)+(_0x329c19+0x1)+'\x20('+_0x443726+_0x25f055(0x3a5)+_0x3b7265+_0x25f055(0x391)+_0x15f118+_0x25f055(0x281);})[_0x3ab275(0x8dc)]('');_0x3aa0d8[_0x3ab275(0x57a)]=_0x3e3903;}async function handleSaveChanges(){const _0x2b9c3a=_0x338e4c,_0x45ddd9=document['getElementById'](_0x2b9c3a(0x43a));_0x45ddd9['disabled']=!![],_0x45ddd9[_0x2b9c3a(0x57a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x4aba94=document[_0x2b9c3a(0x683)](_0x2b9c3a(0x59d))[_0x2b9c3a(0x1e4)],_0xeee45d=document['querySelectorAll'](_0x2b9c3a(0x21f));let _0x440ee8=[];const _0x42681d=Array[_0x2b9c3a(0x459)](_0xeee45d)['map']((_0x11b2de,_0x354fe2)=>{const _0x53f45b=_0x2b9c3a,_0x2c1edf=_0x11b2de[_0x53f45b(0x432)][_0x53f45b(0x828)],_0x42d28e=_0x11b2de['querySelector'](_0x53f45b(0x4d7))[_0x53f45b(0x1e4)];let _0x7f9113={'questionType':_0x2c1edf};const _0xc7e9b7=currentEditingQuizData['questions'][_0x354fe2];switch(_0x2c1edf){case _0x53f45b(0x41d):_0x7f9113[_0x53f45b(0x66e)]=_0x42d28e;const _0x231fdc=_0x11b2de[_0x53f45b(0x51a)](_0x53f45b(0x46b));_0x7f9113[_0x53f45b(0x4a4)]=Array[_0x53f45b(0x459)](_0x231fdc)['map'](_0x425616=>_0x425616['value']);const _0x139bbf=_0x11b2de['querySelector']('input[type=\x22radio\x22]:checked');_0x7f9113[_0x53f45b(0x248)]=_0x139bbf?parseInt(_0x139bbf['value']):0x0;break;case _0x53f45b(0x81d):_0x7f9113[_0x53f45b(0x66e)]=_0x42d28e,_0x7f9113[_0x53f45b(0x4f0)]=_0x11b2de[_0x53f45b(0x26a)]('.ideal-answer-input')[_0x53f45b(0x1e4)];break;case _0x53f45b(0x743):_0x7f9113[_0x53f45b(0x66e)]=_0x42d28e;const _0x51ac42=_0x11b2de[_0x53f45b(0x26a)]('input[type=\x22radio\x22]:checked');_0x7f9113[_0x53f45b(0x2b0)]=_0x51ac42?_0x51ac42['value']==='true':!![];break;case _0x53f45b(0x526):_0x7f9113[_0x53f45b(0x2de)]=_0x42d28e;const _0x5c8341=_0x11b2de[_0x53f45b(0x26a)](_0x53f45b(0x742));_0x7f9113[_0x53f45b(0x328)]=_0x5c8341?_0x5c8341[_0x53f45b(0x1e4)]:'',_0x440ee8[_0x53f45b(0x76d)](_0x7f9113['correctResponse']);break;default:_0x7f9113['questionText']=_0x42d28e;break;}return{..._0xc7e9b7,..._0x7f9113};});_0x440ee8['length']>0x0&&_0x42681d['forEach'](_0x382748=>{const _0x33d50e=_0x2b9c3a;_0x382748[_0x33d50e(0x878)]===_0x33d50e(0x526)&&(_0x382748['allResponses']=_0x440ee8);});const _0x11abf7=currentEditingQuizData['id'],_0x1f43d2=doc(db,_0x2b9c3a(0x79b)+appId+_0x2b9c3a(0x6ca),_0x11abf7);await updateDoc(_0x1f43d2,{'topic':_0x4aba94,'questions':_0x42681d}),showMessage(_0x2b9c3a(0x183)),document['getElementById'](_0x2b9c3a(0x591))[_0x2b9c3a(0x274)][_0x2b9c3a(0x2e7)](_0x2b9c3a(0x8c6)),showConfirmation('คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)',()=>initiateReGradeProcess(_0x11abf7)),document[_0x2b9c3a(0x683)](_0x2b9c3a(0x5c3))[_0x2b9c3a(0x26a)]('h3')[_0x2b9c3a(0x603)]=_0x2b9c3a(0x1f6),document[_0x2b9c3a(0x683)](_0x2b9c3a(0x57c))[_0x2b9c3a(0x603)]=_0x2b9c3a(0x778);}catch(_0x20745c){console['error'](_0x2b9c3a(0x792),_0x20745c),showMessage(_0x2b9c3a(0x5a4));}finally{_0x45ddd9['disabled']=![],_0x45ddd9['innerHTML']=_0x2b9c3a(0x7d4);}}async function initiateReGradeProcess(_0x19fff1){const _0x3ff4d6=_0x338e4c;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x35a196=doc(db,_0x3ff4d6(0x79b)+appId+_0x3ff4d6(0x6ca),_0x19fff1),_0x257b86=await getDoc(_0x35a196);if(!_0x257b86[_0x3ff4d6(0x837)]())throw new Error(_0x3ff4d6(0x34c));const _0x43424a={'id':_0x19fff1,..._0x257b86[_0x3ff4d6(0x7e6)]()},_0x141e04=collection(db,_0x3ff4d6(0x79b)+appId+_0x3ff4d6(0x6ca),_0x19fff1,_0x3ff4d6(0x795)),_0x19b085=await getDocs(_0x141e04);if(_0x19b085[_0x3ff4d6(0x421)]){showMessage(_0x3ff4d6(0x834));return;}const _0x1c982e=_0x19b085[_0x3ff4d6(0x69f)][_0x3ff4d6(0x5a8)](_0x301e41=>reGradeSingleSubmission(_0x301e41,_0x43424a));await Promise[_0x3ff4d6(0x645)](_0x1c982e);if(_0x43424a[_0x3ff4d6(0x2cc)]){const _0x30216d=doc(db,_0x3ff4d6(0x79b)+appId+_0x3ff4d6(0x7ae),_0x43424a[_0x3ff4d6(0x2cc)]),_0x1f03de=await getDoc(_0x30216d);if(_0x1f03de[_0x3ff4d6(0x837)]()&&_0x1f03de[_0x3ff4d6(0x7e6)]()[_0x3ff4d6(0x203)]){const _0x45725b=_0x1f03de['data']()[_0x3ff4d6(0x203)][_0x3ff4d6(0x5a8)](_0x25836e=>updateStudentProfile(_0x43424a['projectId'],_0x25836e));await Promise['all'](_0x45725b);}}showMessage(_0x3ff4d6(0x509)+_0x19b085[_0x3ff4d6(0x1ec)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x427ab1){console[_0x3ff4d6(0x7ad)](_0x3ff4d6(0x54b),_0x427ab1),showMessage(_0x3ff4d6(0x8e9)+_0x427ab1[_0x3ff4d6(0x6b9)]);}}async function reGradeSingleSubmission(_0x15adce,_0x1cdc27){const _0x2facd3=_0x338e4c,_0x290073=_0x15adce[_0x2facd3(0x7e6)](),_0x17b4fa=_0x290073['studentName'],_0x457991=_0x290073['attempts']||[],_0x126c29=[];for(const _0x5df216 of _0x457991){let _0x54c9bf=0x0,_0x26c353=[],_0x67a47=0x0;const _0x544acd=[];for(const _0x793638 of _0x5df216[_0x2facd3(0x385)]){const _0x1d06fe=_0x1cdc27[_0x2facd3(0x543)][_0x2facd3(0x337)](_0x28c12=>(_0x28c12[_0x2facd3(0x66e)]||_0x28c12[_0x2facd3(0x2de)])===_0x793638[_0x2facd3(0x4ca)]);let _0x1f88d4=![];if(_0x1d06fe){const _0x16f488=_0x1d06fe['questionType']||_0x1cdc27[_0x2facd3(0x4ad)];switch(_0x16f488){case'multiple_choice':if(_0x1d06fe[_0x2facd3(0x4a4)]&&_0x1d06fe['correctAnswerIndex']<_0x1d06fe[_0x2facd3(0x4a4)][_0x2facd3(0x7c4)]){const _0x5bc666=_0x1d06fe[_0x2facd3(0x4a4)][_0x1d06fe[_0x2facd3(0x248)]];_0x1f88d4=_0x793638[_0x2facd3(0x465)]===_0x5bc666;}break;case _0x2facd3(0x743):const _0x413a8c=_0x793638[_0x2facd3(0x5ea)]===!![]||_0x793638[_0x2facd3(0x5ea)]===_0x2facd3(0x865);_0x1f88d4=_0x413a8c===_0x1d06fe[_0x2facd3(0x2b0)];break;case'matching_item':_0x1f88d4=_0x793638[_0x2facd3(0x5ea)]===_0x1d06fe[_0x2facd3(0x328)];break;case _0x2facd3(0x81d):_0x1f88d4=await gradeShortAnswer(_0x793638[_0x2facd3(0x5ea)],_0x1d06fe);break;default:_0x1f88d4=_0x793638['isCorrect'];break;}}if(_0x1f88d4){_0x54c9bf++,_0x67a47++;if(_0x67a47===0x3)_0x26c353[_0x2facd3(0x76d)](BADGES[_0x2facd3(0x29d)]['id']);}else _0x67a47=0x0;_0x544acd[_0x2facd3(0x76d)]({..._0x793638,'isCorrect':_0x1f88d4});}let _0x7bf256=_0x54c9bf*0xa;_0x54c9bf===_0x1cdc27[_0x2facd3(0x543)][_0x2facd3(0x7c4)]&&(_0x7bf256+=0x32,_0x26c353[_0x2facd3(0x76d)](BADGES['PERFECT_SCORE']['id'])),_0x126c29['push']({..._0x5df216,'score':_0x54c9bf,'points':_0x7bf256,'badges':Array[_0x2facd3(0x459)](new Set(_0x26c353)),'answers':_0x544acd});}const _0x177d5b=_0x126c29[_0x2facd3(0x7c4)]>0x0?_0x126c29[0x0][_0x2facd3(0x69c)]:0x0,_0x258b90=Math[_0x2facd3(0x5f7)](..._0x126c29['map'](_0x3ccbec=>_0x3ccbec[_0x2facd3(0x69c)])),_0x45e1e0=_0x126c29[_0x2facd3(0x7c4)]>0x0?_0x126c29[_0x126c29['length']-0x1]['score']:0x0,_0x406caf=_0x126c29[_0x2facd3(0x7c4)]>0x0?_0x126c29[_0x126c29[_0x2facd3(0x7c4)]-0x1][_0x2facd3(0x399)]:0x0,_0x231a90=doc(db,_0x2facd3(0x79b)+appId+_0x2facd3(0x649)+_0x1cdc27['id']+_0x2facd3(0x287),_0x17b4fa);await updateDoc(_0x231a90,{'attempts':_0x126c29,'firstScore':_0x177d5b,'bestScore':_0x258b90,'latestScore':_0x45e1e0,'points':_0x406caf});}function cleanupQuizOptions(_0x59a78c){const _0x1174ee=_0x338e4c,_0x397016=(_0x4085b8,_0x5ac769)=>_0x5ac769===0x0?_0x4085b8:_0x397016(_0x5ac769,_0x4085b8%_0x5ac769),_0x240381=_0x2f2599=>{const _0x45b090=_0xb61e;if(typeof _0x2f2599!=='string')return null;_0x2f2599=_0x2f2599['trim']();const _0x4c45fa=_0x2f2599[_0x45b090(0x45a)](/[ /]/)[_0x45b090(0x5d7)](_0x29f632=>_0x29f632!=='');if(_0x4c45fa[_0x45b090(0x7c4)]===0x3)return parseInt(_0x4c45fa[0x0])+parseInt(_0x4c45fa[0x1])/parseInt(_0x4c45fa[0x2]);else{if(_0x4c45fa[_0x45b090(0x7c4)]===0x2)return parseInt(_0x4c45fa[0x0])/parseInt(_0x4c45fa[0x1]);else{if(_0x4c45fa['length']===0x1&&!isNaN(_0x4c45fa[0x0]))return parseFloat(_0x4c45fa[0x0]);}}return null;},_0x40fd21=_0x4003f0=>{const _0x59c1c9=_0xb61e;if(typeof _0x4003f0!==_0x59c1c9(0x4de))return _0x4003f0;const _0x492c47=_0x4003f0[_0x59c1c9(0x1a8)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x492c47){const _0x54e8ca=parseInt(_0x492c47[0x1]);let _0x220dd4=parseInt(_0x492c47[0x2]),_0x342c53=parseInt(_0x492c47[0x3]);const _0x3a09a1=_0x397016(_0x220dd4,_0x342c53);_0x220dd4/=_0x3a09a1,_0x342c53/=_0x3a09a1;if(_0x342c53===0x1)return(_0x54e8ca+_0x220dd4)[_0x59c1c9(0x777)]();return _0x54e8ca+'\x20'+_0x220dd4+'/'+_0x342c53;}return _0x4003f0;};return _0x59a78c&&_0x59a78c[_0x1174ee(0x543)]&&_0x59a78c[_0x1174ee(0x543)][_0x1174ee(0x630)](_0x12a4a5=>{const _0x569039=_0x1174ee;if(_0x12a4a5[_0x569039(0x878)]===_0x569039(0x41d)&&_0x12a4a5['options']){const _0x14815d=new Map(),_0xd19b90=_0x12a4a5['options'][_0x12a4a5[_0x569039(0x248)]];_0x12a4a5['options']['forEach'](_0x145b23=>{const _0x5cbf7e=_0x569039,_0x16171a=_0x40fd21(_0x145b23),_0x33f8b9=_0x240381(_0x16171a);_0x33f8b9!==null&&!_0x14815d['has'](_0x33f8b9)&&_0x14815d[_0x5cbf7e(0x82c)](_0x33f8b9,_0x16171a);}),_0x12a4a5['options']=Array['from'](_0x14815d[_0x569039(0x1ff)]());const _0x56506a=_0x12a4a5[_0x569039(0x4a4)]['findIndex'](_0xe53f5=>_0xe53f5===_0x40fd21(_0xd19b90));_0x12a4a5[_0x569039(0x248)]=_0x56506a!==-0x1?_0x56506a:0x0;}}),_0x59a78c;}async function saveQuiz(){const _0x1a03b8=_0x338e4c;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1a03b8(0x543)]||!userId){showMessage(_0x1a03b8(0x8c3));return;}const _0xcef5ee=document[_0x1a03b8(0x683)](_0x1a03b8(0x37b));_0xcef5ee[_0x1a03b8(0x442)]=!![],_0xcef5ee[_0x1a03b8(0x57a)]=_0x1a03b8(0x483);const _0xbcab18=document['getElementById'](_0x1a03b8(0x642))[_0x1a03b8(0x800)];let _0x286605=document['getElementById'](_0x1a03b8(0x5d9))[_0x1a03b8(0x34a)][_0x1a03b8(0x369)]();_0xbcab18&&!_0x286605[_0x1a03b8(0x358)](_0x1a03b8(0x799))&&(_0x286605='(ก่อนเรียน)\x20'+_0x286605);try{const _0x40b621={'resultsDisplay':document[_0x1a03b8(0x683)]('results-display-select')[_0x1a03b8(0x1e4)],'shuffle':document[_0x1a03b8(0x683)](_0x1a03b8(0x1cb))[_0x1a03b8(0x1e4)],'timerMode':document[_0x1a03b8(0x683)](_0x1a03b8(0x847))[_0x1a03b8(0x1e4)],'timerDuration':parseInt(document[_0x1a03b8(0x683)](_0x1a03b8(0x66b))[_0x1a03b8(0x1e4)])||0xa,'passingScore':parseInt(document[_0x1a03b8(0x683)](_0x1a03b8(0x402))[_0x1a03b8(0x1e4)])||0x0,'isAdaptive':document[_0x1a03b8(0x683)](_0x1a03b8(0x2a5))[_0x1a03b8(0x800)],'loopUntilPass':document[_0x1a03b8(0x683)](_0x1a03b8(0x52b))['checked']},_0x4dff06=(currentQuizData[_0x1a03b8(0x543)]||[])['map'](_0x486fa7=>{const _0x3a97bf=_0x1a03b8,_0x50d414=document['getElementById'](_0x3a97bf(0x6c8))[_0x3a97bf(0x1e4)],_0x2c4a82={'questionText':_0x486fa7[_0x3a97bf(0x66e)]||'','explanation':_0x486fa7[_0x3a97bf(0x188)]||_0x3a97bf(0x373),'questionType':_0x486fa7[_0x3a97bf(0x878)]||_0x50d414,'imageCode':_0x486fa7['imageCode']||null};return(_0x2c4a82[_0x3a97bf(0x878)]===_0x3a97bf(0x41d)||_0x2c4a82['questionType']===_0x3a97bf(0x5f0)||_0x2c4a82[_0x3a97bf(0x878)]===_0x3a97bf(0x1ae)&&_0x486fa7['options'])&&(_0x2c4a82[_0x3a97bf(0x4a4)]=_0x486fa7[_0x3a97bf(0x4a4)]||[],_0x2c4a82[_0x3a97bf(0x248)]=_0x486fa7[_0x3a97bf(0x248)]!==undefined?_0x486fa7[_0x3a97bf(0x248)]:0x0),(_0x2c4a82[_0x3a97bf(0x878)]==='short_answer'||_0x2c4a82[_0x3a97bf(0x878)]===_0x3a97bf(0x53b)||_0x2c4a82['questionType']==='mixed'&&_0x486fa7[_0x3a97bf(0x4f0)])&&(_0x2c4a82[_0x3a97bf(0x4f0)]=_0x486fa7['idealAnswer']||''),_0x2c4a82['questionType']===_0x3a97bf(0x743)&&(_0x2c4a82['correctAnswer']=_0x486fa7['correctAnswer']===!![]),_0x2c4a82[_0x3a97bf(0x878)]===_0x3a97bf(0x526)&&(_0x2c4a82[_0x3a97bf(0x2de)]=_0x486fa7['stem']||'',_0x2c4a82[_0x3a97bf(0x328)]=_0x486fa7[_0x3a97bf(0x328)]||'',_0x2c4a82[_0x3a97bf(0x5a6)]=_0x486fa7[_0x3a97bf(0x5a6)]||[]),_0x2c4a82;}),_0x55e67c={'topic':_0x286605,'quizType':currentQuizData[_0x1a03b8(0x4ad)]||_0x1a03b8(0x41d),'questions':_0x4dff06,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1a03b8(0x5f8)](),'status':_0x1a03b8(0x32b),'settings':_0x40b621,'quizMode':_0xbcab18?_0x1a03b8(0x1f9):'standard','pairedQuizId':null,'lessonPlan':null};let _0x5b6084;while(!![]){_0x5b6084=Math['floor'](0x3e8+Math[_0x1a03b8(0x297)]()*0x2328)[_0x1a03b8(0x777)]();const _0x1d3a7f=await getDoc(doc(db,_0x1a03b8(0x79b)+appId+_0x1a03b8(0x6ca),_0x5b6084));if(!_0x1d3a7f['exists']())break;}await setDoc(doc(db,_0x1a03b8(0x79b)+appId+'/public/data/quizzes',_0x5b6084),_0x55e67c),currentQuizData['settings']=_0x40b621,currentQuizData['id']=_0x5b6084;const _0x356b9d=document[_0x1a03b8(0x683)](_0x1a03b8(0x74e));_0x356b9d[_0x1a03b8(0x57a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x5b6084+_0x1a03b8(0x6e9),document[_0x1a03b8(0x683)](_0x1a03b8(0x2f0))[_0x1a03b8(0x4aa)]('click',()=>copyTextToClipboard(_0x5b6084,_0x1a03b8(0x6b4))),document[_0x1a03b8(0x683)]('start-live-race-generated-btn')[_0x1a03b8(0x4aa)](_0x1a03b8(0x32a),()=>handleStartLiveRace(_0x5b6084)),document[_0x1a03b8(0x683)]('start-presentation-btn')['addEventListener'](_0x1a03b8(0x32a),()=>startPresentation(currentQuizData)),document[_0x1a03b8(0x683)](_0x1a03b8(0x386))[_0x1a03b8(0x4aa)](_0x1a03b8(0x32a),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x5d8e4e){console[_0x1a03b8(0x7ad)](_0x1a03b8(0x3a6),_0x5d8e4e),showMessage(_0x1a03b8(0x75a)),_0xcef5ee['disabled']=![],_0xcef5ee[_0x1a03b8(0x57a)]=_0x1a03b8(0x7ec);}}function promptForProjectAndSave(){const _0x4e9ba0=_0x338e4c,_0x1686e8=document[_0x4e9ba0(0x683)]('move-quiz-modal'),_0x16229b=document['getElementById'](_0x4e9ba0(0x300)),_0x536222=_0x1686e8[_0x4e9ba0(0x26a)]('h3'),_0x24d182=document[_0x4e9ba0(0x683)](_0x4e9ba0(0x5aa));_0x536222['textContent']=_0x4e9ba0(0x5ab),_0x24d182[_0x4e9ba0(0x603)]=_0x4e9ba0(0x545);allProjects[_0x4e9ba0(0x7c4)]===0x0?(_0x16229b[_0x4e9ba0(0x57a)]=_0x4e9ba0(0x71a),_0x24d182['disabled']=!![]):(_0x16229b[_0x4e9ba0(0x57a)]=allProjects[_0x4e9ba0(0x5a8)](_0x16092f=>_0x4e9ba0(0x175)+_0x16092f['id']+'\x22>'+_0x16092f[_0x4e9ba0(0x5f5)]+_0x4e9ba0(0x207))['join'](''),_0x24d182[_0x4e9ba0(0x442)]=![]);_0x1686e8['classList'][_0x4e9ba0(0x2da)]('hidden');const _0xa3a16c=()=>{const _0x3715db=_0x4e9ba0,_0x20a499=_0x16229b[_0x3715db(0x1e4)];_0x20a499?(currentProjectId=_0x20a499,_0x1686e8[_0x3715db(0x274)]['add'](_0x3715db(0x8c6)),saveQuiz(),_0x536222[_0x3715db(0x603)]=_0x3715db(0x634),_0x24d182[_0x3715db(0x603)]=_0x3715db(0x3b5),_0x24d182[_0x3715db(0x2b1)](_0x3715db(0x32a),_0xa3a16c),_0x24d182['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x3715db(0x752));};_0x24d182[_0x4e9ba0(0x2b1)]('click',confirmMoveQuiz),_0x24d182['addEventListener'](_0x4e9ba0(0x32a),_0xa3a16c);}function copyTextToClipboard(_0x49676b,_0xa9103a){const _0x2398f0=_0x338e4c,_0x567ee4=document['createElement']('textarea');_0x567ee4[_0x2398f0(0x1e4)]=_0x49676b,_0x567ee4['style'][_0x2398f0(0x58b)]=_0x2398f0(0x480),_0x567ee4[_0x2398f0(0x3fc)][_0x2398f0(0x2e9)]='0',document[_0x2398f0(0x5cb)]['appendChild'](_0x567ee4),_0x567ee4[_0x2398f0(0x583)](),_0x567ee4[_0x2398f0(0x306)]();try{const _0x135136=document[_0x2398f0(0x7fb)](_0x2398f0(0x7ea));showMessage(_0x135136?_0xa9103a:_0x2398f0(0x28d));}catch(_0x3d9fd3){showMessage('คัดลอกไม่สำเร็จ'),console[_0x2398f0(0x7ad)]('Copy\x20command\x20failed',_0x3d9fd3);}document[_0x2398f0(0x5cb)][_0x2398f0(0x7eb)](_0x567ee4);}function listenForProjectQuizzes(_0x212590){const _0x2f9d62=_0x338e4c,_0x5b8e53=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x368fb6=query(_0x5b8e53,where(_0x2f9d62(0x2cc),'==',_0x212590));unsubscribeQuizzesListener=onSnapshot(_0x368fb6,async _0x49516b=>{const _0x4a64eb=_0x2f9d62;allQuizzes=_0x49516b[_0x4a64eb(0x69f)][_0x4a64eb(0x5a8)](_0x56ebb3=>({'id':_0x56ebb3['id'],..._0x56ebb3[_0x4a64eb(0x7e6)]()})),renderQuizzes();},_0xdd2e66=>{const _0x6a2126=_0x2f9d62;console[_0x6a2126(0x7ad)](_0x6a2126(0x3ad),_0xdd2e66),document[_0x6a2126(0x683)](_0x6a2126(0x443))[_0x6a2126(0x57a)]=_0x6a2126(0x755);});}async function renderQuizzes(){const _0x29d8e9=_0x338e4c,_0x579fe9=document[_0x29d8e9(0x683)](_0x29d8e9(0x443)),_0x44887d=document[_0x29d8e9(0x683)]('quiz-search-input')[_0x29d8e9(0x1e4)][_0x29d8e9(0x797)]();let _0x30bda3;currentProjectId===_0x29d8e9(0x620)?_0x30bda3=starredQuizzes:_0x30bda3=allQuizzes;let _0x1b6cf9=_0x30bda3['filter'](_0x430b4d=>_0x430b4d[_0x29d8e9(0x8af)]['toLowerCase']()[_0x29d8e9(0x45f)](_0x44887d));_0x1b6cf9[_0x29d8e9(0x53c)]((_0x3e9910,_0x39ed21)=>new Date(_0x39ed21[_0x29d8e9(0x62d)])-new Date(_0x3e9910['createdAt']));if(_0x1b6cf9[_0x29d8e9(0x7c4)]===0x0){_0x579fe9['innerHTML']=_0x29d8e9(0x324);return;}const _0x1dc9a9={},_0x4661a1=_0x1b6cf9[_0x29d8e9(0x5a8)](async _0x510a6c=>{const _0x3d24e7=_0x29d8e9,_0x4880ff=collection(db,_0x3d24e7(0x79b)+appId+_0x3d24e7(0x649)+_0x510a6c['id']+_0x3d24e7(0x287)),_0x803cf8=await getDocs(_0x4880ff);_0x1dc9a9[_0x510a6c['id']]=_0x803cf8['size'];});await Promise['all'](_0x4661a1);let _0x1fc40f='';_0x1b6cf9[_0x29d8e9(0x630)](_0x4256ca=>{const _0x5c227a=_0x29d8e9,_0x4be7d4=_0x1dc9a9[_0x4256ca['id']]||0x0,_0x5cc5d0=_0x4256ca[_0x5c227a(0x7c6)]||'active',_0x2ebcdb=_0x4256ca[_0x5c227a(0x73c)]?.['timerMode']||'none';let _0x1e4546='',_0x556188='';const _0x398790=new Date();let _0x115cec=_0x5cc5d0;if(_0x5cc5d0===_0x5c227a(0x6aa)){const _0x252fd0=_0x4256ca[_0x5c227a(0x5bf)]?new Date(_0x4256ca[_0x5c227a(0x5bf)]):null,_0x167e4b=_0x4256ca['endTime']?new Date(_0x4256ca['endTime']):null;if(_0x167e4b&&_0x398790>_0x167e4b)_0x115cec=_0x5c227a(0x894);else _0x252fd0&&_0x398790<_0x252fd0?_0x115cec='scheduled_pending':_0x115cec=_0x5c227a(0x32b);}switch(_0x115cec){case _0x5c227a(0x894):_0x1e4546=_0x5c227a(0x2d4),_0x556188='text-red-700\x20bg-red-100';break;case _0x5c227a(0x31f):_0x1e4546='รอเปิด',_0x556188=_0x5c227a(0x77a);break;case _0x5c227a(0x32b):_0x1e4546=_0x2ebcdb!==_0x5c227a(0x315)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x556188=_0x5c227a(0x63a);break;default:_0x1e4546='ตั้งเวลา\x20(เปิด)',_0x556188='text-green-700\x20bg-green-100';break;}let _0x538f3b='';const _0x50330f={'day':_0x5c227a(0x787),'month':_0x5c227a(0x787),'year':_0x5c227a(0x423),'hour':'2-digit','minute':'2-digit','hour12':![]};if(_0x5cc5d0===_0x5c227a(0x6aa)){if(_0x4256ca[_0x5c227a(0x5bf)])_0x538f3b+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x4256ca[_0x5c227a(0x5bf)])[_0x5c227a(0x19e)](_0x5c227a(0x59e),_0x50330f)+_0x5c227a(0x73d);if(_0x4256ca['endTime'])_0x538f3b+=_0x5c227a(0x37c)+new Date(_0x4256ca[_0x5c227a(0x4f4)])[_0x5c227a(0x19e)]('th-TH',_0x50330f)+_0x5c227a(0x73d);}let _0x154ed6='';if(_0x4256ca[_0x5c227a(0x5c9)]){const _0x1cad02=allQuizzes['find'](_0x9be49c=>_0x9be49c['id']===_0x4256ca['pairedQuizId']);if(_0x1cad02){let _0x4cda1b,_0x225c84;new Date(_0x4256ca[_0x5c227a(0x62d)])<new Date(_0x1cad02['createdAt'])?(_0x4cda1b=_0x4256ca['id'],_0x225c84=_0x1cad02['id']):(_0x4cda1b=_0x1cad02['id'],_0x225c84=_0x4256ca['id']),_0x154ed6+=_0x5c227a(0x240)+_0x225c84+_0x5c227a(0x262)+_0x4cda1b+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x4256ca[_0x5c227a(0x87c)]==='pre-test'&&(_0x154ed6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4256ca['id']+_0x5c227a(0x27f));if(_0x4256ca[_0x5c227a(0x87c)]==='pre-test'&&_0x4be7d4>0x0)_0x154ed6+=_0x5c227a(0x3a7)+_0x4256ca['id']+_0x5c227a(0x5a5);else!_0x4256ca[_0x5c227a(0x5c9)]&&_0x4256ca[_0x5c227a(0x87c)]!=='pre-test'&&_0x4be7d4>0x0&&(_0x154ed6+=_0x5c227a(0x3a7)+_0x4256ca['id']+_0x5c227a(0x49f));let _0xda6999='';_0x4256ca['pairedQuizId']?_0xda6999=_0x5c227a(0x5e3)+_0x4256ca['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0xda6999=_0x5c227a(0x5e3)+_0x4256ca['id']+_0x5c227a(0x5b6),_0x1fc40f+=_0x5c227a(0x6cb)+_0x4256ca['id']+_0x5c227a(0x8d3)+_0x4256ca[_0x5c227a(0x8af)]+_0x5c227a(0x568)+_0x4256ca['questions']['length']+_0x5c227a(0x6b7)+new Date(_0x4256ca[_0x5c227a(0x62d)])['toLocaleString'](_0x5c227a(0x59e))+_0x5c227a(0x299)+_0x4be7d4+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x538f3b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x556188+'\x22>'+_0x1e4546+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4256ca['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4256ca['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4256ca[_0x5c227a(0x1b4)]?_0x5c227a(0x477):_0x5c227a(0x874))+_0x5c227a(0x342)+_0x154ed6+_0x5c227a(0x360)+_0x4256ca['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x4256ca['id']+_0x5c227a(0x8ec)+_0x4256ca['id']+_0x5c227a(0x5b1)+_0x4256ca['id']+_0x5c227a(0x7f6)+_0x4256ca['id']+_0x5c227a(0x27c)+_0x4256ca['id']+_0x5c227a(0x35b)+_0x4256ca['id']+'\x22\x20data-topic=\x22'+_0x4256ca['topic']+_0x5c227a(0x6b8)+_0x4256ca['id']+_0x5c227a(0x3d6)+_0x4256ca['id']+_0x5c227a(0x5ca)+_0xda6999+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4256ca['id']+_0x5c227a(0x651)+_0x4256ca['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4256ca['id']+_0x5c227a(0x247)+_0x4256ca['id']+_0x5c227a(0x2b6)+_0x4256ca['id']+_0x5c227a(0x288)+_0x4256ca[_0x5c227a(0x8af)]+_0x5c227a(0x85b);}),_0x579fe9[_0x29d8e9(0x57a)]=_0x1fc40f,document[_0x29d8e9(0x51a)]('.quiz-result-card')[_0x29d8e9(0x630)](_0x5c7655=>{const _0x11beee=_0x29d8e9;_0x5c7655[_0x11beee(0x4aa)]('click',()=>{const _0x4a4b14=_0x11beee,_0x564156=_0x5c7655['dataset'][_0x4a4b14(0x3af)];showQuizDetailView(_0x564156);});});}async function handleUnpairQuiz(_0x143663){const _0x9cd20c=_0x338e4c,_0x3c0736=allQuizzes[_0x9cd20c(0x337)](_0x284763=>_0x284763['id']===_0x143663);if(!_0x3c0736||!_0x3c0736[_0x9cd20c(0x5c9)]){showMessage(_0x9cd20c(0x1c3));return;}showConfirmation(_0x9cd20c(0x511),async()=>{const _0x5bf8b8=_0x9cd20c;try{const _0x53cd9b=doc(db,_0x5bf8b8(0x79b)+appId+_0x5bf8b8(0x6ca),_0x143663),_0x1f5657=doc(db,_0x5bf8b8(0x79b)+appId+_0x5bf8b8(0x6ca),_0x3c0736[_0x5bf8b8(0x5c9)]),_0x3930f2=writeBatch(db);_0x3930f2['update'](_0x53cd9b,{'pairedQuizId':null}),_0x3930f2[_0x5bf8b8(0x4e2)](_0x1f5657,{'pairedQuizId':null}),await _0x3930f2[_0x5bf8b8(0x3a9)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5109ec){console[_0x5bf8b8(0x7ad)]('Error\x20unpairing\x20quizzes:',_0x5109ec),showMessage(_0x5bf8b8(0x7fc));}});}function formatAndPrintLessonPlan(_0x5af311,_0x24aba3){const _0x447bbd=_0x338e4c,_0x297e69=window[_0x447bbd(0x39c)]('',_0x447bbd(0x441)),_0x25a237='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x24aba3['topic']+_0x447bbd(0x436)+_0x24aba3[_0x447bbd(0x8af)]+_0x447bbd(0x4d1)+_0x5af311[_0x447bbd(0x415)]['map'](_0x473481=>_0x447bbd(0x51f)+_0x473481+_0x447bbd(0x89a))['join']('')+_0x447bbd(0x73e)+_0x5af311[_0x447bbd(0x44c)]+_0x447bbd(0x8a2)+_0x5af311[_0x447bbd(0x6fb)]['map'](_0x57c23c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x57c23c[_0x447bbd(0x898)]+_0x447bbd(0x8b3)+_0x57c23c[_0x447bbd(0x351)]+_0x447bbd(0x478))[_0x447bbd(0x8dc)]('')+_0x447bbd(0x5be);_0x297e69[_0x447bbd(0x490)]['write'](_0x25a237),_0x297e69[_0x447bbd(0x490)][_0x447bbd(0x266)](),_0x297e69[_0x447bbd(0x189)]=function(){setTimeout(()=>{_0x297e69['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x5262bb){const _0x4fb42a=_0x338e4c;showMessage(_0x4fb42a(0x33f));try{const _0x57e37d=doc(db,_0x4fb42a(0x79b)+appId+_0x4fb42a(0x6ca),_0x5262bb),_0x3c50c9=await getDoc(_0x57e37d);if(!_0x3c50c9['exists']())throw new Error(_0x4fb42a(0x34c));const _0x3577e6={'id':_0x5262bb,..._0x3c50c9[_0x4fb42a(0x7e6)]()},_0x4a4486=collection(db,_0x4fb42a(0x79b)+appId+_0x4fb42a(0x6ca),_0x5262bb,_0x4fb42a(0x795)),_0x3f7fa6=await getDocs(_0x4a4486),_0x4967d1=_0x3f7fa6[_0x4fb42a(0x69f)]['map'](_0x16ebab=>_0x16ebab[_0x4fb42a(0x7e6)]());if(_0x4967d1[_0x4fb42a(0x7c4)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x157ea4=calculateItemAnalysis(_0x3577e6,_0x4967d1)[_0x4fb42a(0x29c)],_0x3a5726=calculateDistractorAnalysis(_0x3577e6,_0x4967d1),_0x45b062=_0x200be1=>{const _0x453071=_0x4fb42a;if(!_0x200be1)return'';return _0x200be1[_0x453071(0x631)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x453071(0x631)](/\n/g,'\x5cn');};let _0x13f7f5=_0x4fb42a(0x474);_0x3577e6['questions'][_0x4fb42a(0x630)]((_0x2f250e,_0x35d1b8)=>{const _0x3d1e80=_0x4fb42a,_0x36df89=_0x157ea4[_0x35d1b8]?.['p'][_0x3d1e80(0x7f5)](0x2)||_0x3d1e80(0x8f4),_0x5e2c3b=_0x157ea4[_0x35d1b8]?.['r']['toFixed'](0x2)||_0x3d1e80(0x8f4),_0x1e93b1=_0x45b062(_0x2f250e[_0x3d1e80(0x66e)]||_0x2f250e[_0x3d1e80(0x2de)]);_0x13f7f5+=_0x3d1e80(0x22f)+(_0x35d1b8+0x1)+_0x3d1e80(0x831)+_0x36df89+',\x20r='+_0x5e2c3b+_0x3d1e80(0x7bb)+_0x1e93b1+'\x5cn';if(_0x2f250e[_0x3d1e80(0x878)]===_0x3d1e80(0x41d)&&_0x3a5726[_0x35d1b8]){const _0x23c516=_0x3a5726[_0x35d1b8],_0xaba021=Object[_0x3d1e80(0x789)](_0x23c516)['filter'](_0x31b40c=>parseInt(_0x31b40c)!==_0x2f250e['correctAnswerIndex'])[_0x3d1e80(0x53c)]((_0xbc2693,_0x53ae32)=>_0x23c516[_0x53ae32][_0x3d1e80(0x81a)]-_0x23c516[_0xbc2693][_0x3d1e80(0x81a)])[0x0];if(_0xaba021&&_0x23c516[_0xaba021][_0x3d1e80(0x81a)]>0x0){const _0x42ef88=_0x45b062(_0x23c516[_0xaba021][_0x3d1e80(0x1d5)]);_0x13f7f5+=_0x3d1e80(0x708)+_0x42ef88+_0x3d1e80(0x733);}}});const _0x5108be='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x3577e6[_0x4fb42a(0x8af)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13f7f5+_0x4fb42a(0x6a5),_0x2f699d={'type':_0x4fb42a(0x2db),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':_0x4fb42a(0x858)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x4fb42a(0x2db),'properties':{'question':{'type':_0x4fb42a(0x858)},'solution':{'type':_0x4fb42a(0x858)}}}}},'required':[_0x4fb42a(0x415),_0x4fb42a(0x44c),_0x4fb42a(0x6fb)]},_0xf7aab6=await callAnalysisApi(_0x5108be,_0x2f699d);await updateDoc(_0x57e37d,{'lessonPlan':_0xf7aab6});const _0x19b631='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x3577e6[_0x4fb42a(0x8af)]+_0x4fb42a(0x8d6)+_0xf7aab6[_0x4fb42a(0x415)][_0x4fb42a(0x5a8)](_0x1149be=>_0x4fb42a(0x51f)+_0x1149be+'</li>')[_0x4fb42a(0x8dc)]('')+_0x4fb42a(0x409)+_0xf7aab6[_0x4fb42a(0x44c)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xf7aab6[_0x4fb42a(0x6fb)][_0x4fb42a(0x5a8)](_0x3c2d44=>_0x4fb42a(0x21c)+_0x3c2d44[_0x4fb42a(0x898)]+_0x4fb42a(0x86e)+_0x3c2d44[_0x4fb42a(0x351)]+_0x4fb42a(0x307))['join']('')+_0x4fb42a(0x1f4);document['getElementById']('lesson-plan-title')[_0x4fb42a(0x603)]='แผนการสอน:\x20'+_0x3577e6['topic'],document[_0x4fb42a(0x683)](_0x4fb42a(0x720))['innerHTML']=_0x19b631,document[_0x4fb42a(0x683)](_0x4fb42a(0x1e3))['classList'][_0x4fb42a(0x2da)](_0x4fb42a(0x8c6));if(window[_0x4fb42a(0x56d)])MathJax[_0x4fb42a(0x190)]();messageModal['classList'][_0x4fb42a(0x2e7)](_0x4fb42a(0x8c6));}catch(_0x5639f5){console[_0x4fb42a(0x7ad)](_0x4fb42a(0x760),_0x5639f5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5639f5[_0x4fb42a(0x6b9)]);}}async function handleDuplicateQuiz(_0x477568){const _0x531a54=_0x338e4c;try{const _0x322a86=doc(db,_0x531a54(0x79b)+appId+_0x531a54(0x6ca),_0x477568),_0x3ae824=await getDoc(_0x322a86);if(_0x3ae824[_0x531a54(0x837)]()){const _0x5c5905=_0x3ae824[_0x531a54(0x7e6)]();let _0x1fc2f5='',_0x167aff='standard',_0x383e98=null;if(_0x5c5905[_0x531a54(0x87c)]===_0x531a54(0x1f9)){let _0x1e7eb0=_0x5c5905[_0x531a54(0x8af)][_0x531a54(0x631)](_0x531a54(0x799),'')['trim']();_0x1fc2f5=_0x531a54(0x8b9)+_0x1e7eb0,_0x167aff=_0x531a54(0x60b),_0x383e98=_0x477568;}else _0x1fc2f5=_0x531a54(0x202)+_0x5c5905['topic'];const _0x26476e={..._0x5c5905,'topic':_0x1fc2f5,'createdAt':new Date()['toISOString'](),'quizMode':_0x167aff,'pairedQuizId':_0x383e98};let _0x209277;while(!![]){_0x209277=Math[_0x531a54(0x3bb)](0x3e8+Math[_0x531a54(0x297)]()*0x2328)[_0x531a54(0x777)]();const _0x2a6b40=await getDoc(doc(db,_0x531a54(0x79b)+appId+_0x531a54(0x6ca),_0x209277));if(!_0x2a6b40[_0x531a54(0x837)]())break;}const _0x389474=doc(db,_0x531a54(0x79b)+appId+_0x531a54(0x6ca),_0x209277);await setDoc(_0x389474,_0x26476e),_0x26476e['quizMode']==='post-test'&&await updateDoc(_0x322a86,{'pairedQuizId':_0x209277}),showMessage(_0x531a54(0x774));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x599823){console['error'](_0x531a54(0x750),_0x599823),showMessage(_0x531a54(0x8f3));}}async function handleDeleteQuiz(_0x503a37,_0x26fa0e=!![]){const _0x1669cf=_0x338e4c;try{const _0xd3d5d=writeBatch(db),_0x44ffba=collection(db,_0x1669cf(0x79b)+appId+'/public/data/quizzes/'+_0x503a37+'/submissions'),_0x4af9d1=await getDocs(_0x44ffba);_0x4af9d1[_0x1669cf(0x630)](_0x481a48=>{const _0x3f8176=_0x1669cf;_0xd3d5d[_0x3f8176(0x56c)](doc(_0x44ffba,_0x481a48['id']));});const _0x3de9d9=doc(db,_0x1669cf(0x79b)+appId+_0x1669cf(0x6ca),_0x503a37);_0xd3d5d[_0x1669cf(0x56c)](_0x3de9d9),await _0xd3d5d[_0x1669cf(0x3a9)](),_0x26fa0e&&showMessage(_0x1669cf(0x737));}catch(_0x6e9401){console[_0x1669cf(0x7ad)](_0x1669cf(0x525),_0x6e9401),_0x26fa0e&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x46ec03){const _0x44b44b=_0x338e4c;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x4d90ba=doc(db,_0x44b44b(0x79b)+appId+'/public/data/quizzes',_0x46ec03),_0x39afc3=await getDoc(_0x4d90ba);if(!_0x39afc3['exists']()){showMessage(_0x44b44b(0x34c));return;}const _0x110584={'id':_0x39afc3['id'],..._0x39afc3[_0x44b44b(0x7e6)]()};currentQuizData=_0x110584;const _0xa44b8a=doc(db,_0x44b44b(0x79b)+appId+_0x44b44b(0x7ae),_0x110584[_0x44b44b(0x2cc)]),_0x509a8f=await getDoc(_0xa44b8a);_0x509a8f[_0x44b44b(0x837)]()?(currentProjectData=_0x509a8f[_0x44b44b(0x7e6)](),currentProjectId=_0x110584[_0x44b44b(0x2cc)]):(currentProjectData={'students':[]},currentProjectId=_0x110584['projectId']);document[_0x44b44b(0x683)](_0x44b44b(0x174))['textContent']=_0x110584[_0x44b44b(0x8af)],document[_0x44b44b(0x683)](_0x44b44b(0x68e))[_0x44b44b(0x603)]=_0x46ec03;const _0x3ba9db=collection(db,_0x44b44b(0x79b)+appId+_0x44b44b(0x6ca),_0x46ec03,_0x44b44b(0x795));unsubscribeSubmissionsListener=onSnapshot(_0x3ba9db,_0x33dd42=>{const _0x485acc=_0x44b44b,_0x135960=_0x33dd42[_0x485acc(0x69f)][_0x485acc(0x5a8)](_0x1fd260=>({'id':_0x1fd260['id'],..._0x1fd260[_0x485acc(0x7e6)]()}));currentSubmissions=_0x135960,renderBehaviorLog(_0x135960),renderAnswerGrid(currentProjectData[_0x485acc(0x203)],_0x135960,_0x110584),renderAnalytics(_0x110584,_0x135960),renderQuizResultsTable(currentProjectData[_0x485acc(0x203)],_0x135960,_0x110584),renderQuizLeaderboard(_0x135960,_0x110584,_0x485acc(0x53f));}),showView('quiz-results');}catch(_0x22143e){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x22143e),showMessage(_0x44b44b(0x24e));}}function renderAnswerGrid(_0x2237f3,_0x5b4556,_0x4e2e00){const _0x1aef30=_0x338e4c,_0x3b94ad=document[_0x1aef30(0x683)]('answer-grid-container');if(!_0x3b94ad)return;if(!_0x2237f3||_0x2237f3[_0x1aef30(0x7c4)]===0x0){_0x3b94ad[_0x1aef30(0x57a)]=_0x1aef30(0x7ac);return;}const _0x4f3a56=_0x4e2e00[_0x1aef30(0x543)],_0x3ff6d0=_0x5b4556[_0x1aef30(0x685)]((_0x1b75fe,_0x1260d8)=>{const _0x22a697=_0x1aef30;return _0x1b75fe[_0x1260d8[_0x22a697(0x2d0)]]=_0x1260d8,_0x1b75fe;},{}),_0x326906=_0x41035e=>String[_0x1aef30(0x15b)](0x41+_0x41035e),_0x55ea6b=_0x5d58c7=>{const _0x44dac2=_0x1aef30,_0x1e9ec1=_0x5d58c7[_0x44dac2(0x878)]||_0x4e2e00[_0x44dac2(0x4ad)];switch(_0x1e9ec1){case _0x44dac2(0x41d):return _0x5d58c7[_0x44dac2(0x4a4)]&&_0x5d58c7[_0x44dac2(0x4a4)]['length']>_0x5d58c7[_0x44dac2(0x248)]?_0x326906(_0x5d58c7[_0x44dac2(0x248)]):'-';case _0x44dac2(0x743):return _0x5d58c7[_0x44dac2(0x2b0)]?_0x44dac2(0x702):_0x44dac2(0x5c8);case _0x44dac2(0x526):return _0x5d58c7['correctResponse']||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x107b43=(_0x237565,_0x3761a5)=>{const _0x275503=_0x1aef30;if(_0x3761a5['answer']===null||_0x3761a5[_0x275503(0x5ea)]===undefined)return'-';const _0x35c15c=_0x237565[_0x275503(0x878)]||_0x4e2e00['quizType'];switch(_0x35c15c){case _0x275503(0x41d):const _0x1cb7cd=_0x237565['options'][_0x275503(0x779)](_0x411183=>_0x411183===_0x3761a5[_0x275503(0x465)]);return _0x1cb7cd!==-0x1?_0x326906(_0x1cb7cd):_0x3761a5['answerText']||'-';case _0x275503(0x743):return _0x3761a5[_0x275503(0x5ea)]===_0x275503(0x865)||_0x3761a5[_0x275503(0x5ea)]===!![]?_0x275503(0x702):_0x275503(0x5c8);default:return _0x3761a5[_0x275503(0x5ea)];}};let _0x13de68=_0x1aef30(0x425)+_0x4f3a56[_0x1aef30(0x5a8)]((_0x1acf5d,_0x512323)=>_0x1aef30(0x7ee)+(_0x512323+0x1)+'</th>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f3a56[_0x1aef30(0x5a8)](_0x53ef9e=>_0x1aef30(0x1ee)+_0x55ea6b(_0x53ef9e)+'</td>')[_0x1aef30(0x8dc)]('')+_0x1aef30(0x8aa);_0x2237f3[_0x1aef30(0x630)](_0x351fc2=>{const _0x51aa33=_0x1aef30;_0x13de68+='<tr>',_0x13de68+=_0x51aa33(0x3e6)+_0x351fc2+'</td>';const _0x10b29c=_0x3ff6d0[_0x351fc2];if(_0x10b29c){const _0x14e57f=_0x10b29c['attempts'][_0x10b29c['attempts'][_0x51aa33(0x7c4)]-0x1];_0x4f3a56[_0x51aa33(0x630)]((_0x41ca73,_0x12ab43)=>{const _0x46ae99=_0x51aa33,_0x91661d=_0x14e57f[_0x46ae99(0x385)][_0x46ae99(0x337)](_0x255a44=>_0x255a44['originalQuestionText']===(_0x41ca73[_0x46ae99(0x2de)]||_0x41ca73[_0x46ae99(0x66e)]));if(_0x91661d){let _0x13bade=![];const _0x31b117=_0x41ca73[_0x46ae99(0x878)]||_0x4e2e00[_0x46ae99(0x4ad)];if(_0x91661d[_0x46ae99(0x5ea)]!==null&&_0x91661d['answer']!==undefined)switch(_0x31b117){case _0x46ae99(0x41d):const _0x597575=_0x41ca73[_0x46ae99(0x4a4)][_0x41ca73[_0x46ae99(0x248)]];_0x13bade=_0x91661d[_0x46ae99(0x465)]===_0x597575;break;case _0x46ae99(0x743):const _0x532e95=_0x91661d['answer']===!![]||_0x91661d[_0x46ae99(0x5ea)]==='true';_0x13bade=_0x532e95===_0x41ca73['correctAnswer'];break;case _0x46ae99(0x526):_0x13bade=_0x91661d[_0x46ae99(0x5ea)]===_0x41ca73['correctResponse'];break;default:_0x13bade=_0x91661d[_0x46ae99(0x4c5)];break;}const _0x4c1525=_0x13bade?_0x46ae99(0x199):_0x46ae99(0x883);_0x13de68+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x4c1525+'\x22>'+_0x107b43(_0x41ca73,_0x91661d)+_0x46ae99(0x211);}else _0x13de68+=_0x46ae99(0x617);});}else _0x13de68+=_0x4f3a56['map'](()=>_0x51aa33(0x6d6))[_0x51aa33(0x8dc)]('');_0x13de68+='</tr>';}),_0x13de68+='</tbody></table>',_0x3b94ad[_0x1aef30(0x57a)]=_0x13de68;}function renderQuizResultsTable(_0x10d53d,_0x43a383,_0x37a5b2){const _0x4ff3f8=_0x338e4c,_0x3acfe3=_0x43a383[_0x4ff3f8(0x685)]((_0x2e77ec,_0x200c44)=>{const _0x58e013=_0x4ff3f8;return _0x2e77ec[_0x200c44[_0x58e013(0x2d0)]]=_0x200c44,_0x2e77ec;},{}),_0x109771=document[_0x4ff3f8(0x26a)](_0x4ff3f8(0x29f));_0x109771&&!_0x109771['innerHTML'][_0x4ff3f8(0x45f)](_0x4ff3f8(0x277))&&(_0x109771['innerHTML']+=_0x4ff3f8(0x180));const _0x1aed88=document[_0x4ff3f8(0x683)](_0x4ff3f8(0x7db));if(!_0x10d53d||_0x10d53d[_0x4ff3f8(0x7c4)]===0x0){_0x1aed88[_0x4ff3f8(0x57a)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x3212d9=_0x37a5b2[_0x4ff3f8(0x7a3)]===!![],_0xaa906=_0x37a5b2[_0x4ff3f8(0x73c)]?.[_0x4ff3f8(0x1a3)]??-0x1;let _0x57ee56='';_0x10d53d[_0x4ff3f8(0x630)](_0x45555f=>{const _0x20bf8f=_0x4ff3f8,_0x30b2e7=_0x3acfe3[_0x45555f];let _0x3cf5d0=_0x20bf8f(0x4ab),_0x2fd5c7=_0x20bf8f(0x868)+(_0x3212d9?_0x20bf8f(0x406):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x3212d9?_0x20bf8f(0x514):_0x20bf8f(0x727))+_0x20bf8f(0x2c6);if(_0x30b2e7){let _0x35eb46=_0x3212d9?_0x30b2e7[_0x20bf8f(0x3d3)]===_0x30b2e7[_0x20bf8f(0x362)]:_0xaa906!==-0x1&&_0x30b2e7[_0x20bf8f(0x3d3)]>=_0xaa906;if(_0x3212d9||_0xaa906!==-0x1){const _0xfa5fd2=_0x35eb46?_0x20bf8f(0x2ff):'bg-red-100\x20text-red-800',_0x2cc144=_0x35eb46?_0x20bf8f(0x6a4):'ไม่ผ่าน';_0x3cf5d0=_0x20bf8f(0x390)+_0xfa5fd2+'\x22>'+_0x2cc144+_0x20bf8f(0x2c6);}const _0x512cc9=_0x20bf8f(0x74b)+(_0x30b2e7[_0x20bf8f(0x805)]?.['length']||0x1)+_0x20bf8f(0x46f);_0x57ee56+=_0x20bf8f(0x5b4)+_0x45555f+_0x20bf8f(0x818)+_0x30b2e7[_0x20bf8f(0x3d3)]+'\x20/\x20'+_0x30b2e7[_0x20bf8f(0x362)]+_0x20bf8f(0x354)+_0x3cf5d0+_0x20bf8f(0x544)+_0x2fd5c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x30b2e7[_0x20bf8f(0x1c2)]+'\x20/\x20'+_0x30b2e7['totalQuestions']+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x30b2e7[_0x20bf8f(0x541)]+_0x20bf8f(0x827)+_0x30b2e7[_0x20bf8f(0x362)]+_0x20bf8f(0x66a)+(_0x30b2e7['points']||0x0)+_0x20bf8f(0x354)+_0x512cc9+_0x20bf8f(0x1fd)+new Date(_0x30b2e7[_0x20bf8f(0x78c)])[_0x20bf8f(0x19e)]('th-TH')+_0x20bf8f(0x7f9)+_0x45555f+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x4f5917=_0x20bf8f(0x220);_0x57ee56+=_0x20bf8f(0x5b4)+_0x45555f+_0x20bf8f(0x222)+_0x2fd5c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f5917+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x1aed88['innerHTML']=_0x57ee56;}async function confirmRenameQuiz(){const _0x5ba9aa=_0x338e4c,_0x34ca3b=document[_0x5ba9aa(0x683)]('rename-quiz-input')[_0x5ba9aa(0x1e4)][_0x5ba9aa(0x369)]();if(!_0x34ca3b){showMessage(_0x5ba9aa(0x4ce));return;}if(!actionTargetId)return;const _0x5ea8c6=doc(db,_0x5ba9aa(0x79b)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5ea8c6,{'topic':_0x34ca3b}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x5ba9aa(0x2e7)]('hidden'),actionTargetId=null;}catch(_0x1daec6){console[_0x5ba9aa(0x7ad)](_0x5ba9aa(0x3f7),_0x1daec6),showMessage(_0x5ba9aa(0x2d8));}}async function handleMoveQuiz(_0x4c53c4){const _0x247b1d=_0x338e4c;actionTargetId=_0x4c53c4;const _0x58d557=document[_0x247b1d(0x683)]('move-quiz-project-select');_0x58d557[_0x247b1d(0x57a)]=_0x247b1d(0x3ca),moveQuizModal[_0x247b1d(0x274)][_0x247b1d(0x2da)]('hidden');try{const _0x299a85=collection(db,'artifacts/'+appId+_0x247b1d(0x7ae)),_0x20c811=await getDocs(_0x299a85),_0x127a80=_0x20c811['docs']['map'](_0x4a6374=>({'id':_0x4a6374['id'],..._0x4a6374[_0x247b1d(0x7e6)]()})),_0x41e91a=_0x127a80[_0x247b1d(0x5d7)](_0x4ae80b=>_0x4ae80b['id']!==currentProjectId);if(_0x41e91a[_0x247b1d(0x7c4)]===0x0){_0x58d557['innerHTML']=_0x247b1d(0x689),document[_0x247b1d(0x683)](_0x247b1d(0x5aa))[_0x247b1d(0x442)]=!![];return;}_0x58d557[_0x247b1d(0x57a)]=_0x41e91a[_0x247b1d(0x5a8)](_0x2621ee=>_0x247b1d(0x175)+_0x2621ee['id']+'\x22>'+_0x2621ee[_0x247b1d(0x5f5)]+_0x247b1d(0x207))[_0x247b1d(0x8dc)](''),document[_0x247b1d(0x683)]('confirm-move-quiz-btn')[_0x247b1d(0x442)]=![];}catch(_0x185f41){console[_0x247b1d(0x7ad)]('Error\x20fetching\x20projects\x20for\x20move:',_0x185f41),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x247b1d(0x274)][_0x247b1d(0x2e7)](_0x247b1d(0x8c6));}}async function confirmMoveQuiz(){const _0x13a312=_0x338e4c,_0x2b9c8d=document[_0x13a312(0x683)](_0x13a312(0x300))['value'];if(!_0x2b9c8d){showMessage(_0x13a312(0x4c7));return;}if(!actionTargetId)return;const _0x52b935=doc(db,_0x13a312(0x79b)+appId+_0x13a312(0x6ca),actionTargetId);try{await updateDoc(_0x52b935,{'projectId':_0x2b9c8d}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x13a312(0x2e7)]('hidden'),actionTargetId=null;}catch(_0x44f42f){console[_0x13a312(0x7ad)](_0x13a312(0x17b),_0x44f42f),showMessage(_0x13a312(0x63f));}}async function handleQuizSettings(_0x594175){const _0x15cbd2=_0x338e4c;actionTargetId=_0x594175;const _0x5c8c44=doc(db,_0x15cbd2(0x79b)+appId+_0x15cbd2(0x6ca),_0x594175);try{const _0x372bd8=await getDoc(_0x5c8c44);if(_0x372bd8[_0x15cbd2(0x837)]()){const _0x474c52=_0x372bd8[_0x15cbd2(0x7e6)](),_0x5e6989=_0x474c52[_0x15cbd2(0x73c)]||{},_0x47ff52=_0x474c52['questions']['length'];document[_0x15cbd2(0x683)](_0x15cbd2(0x835))[_0x15cbd2(0x1e4)]=_0x5e6989[_0x15cbd2(0x17d)]||_0x15cbd2(0x315),document['getElementById'](_0x15cbd2(0x7a9))[_0x15cbd2(0x1e4)]=_0x5e6989[_0x15cbd2(0x8ce)]||'show_results_and_answers',document[_0x15cbd2(0x683)](_0x15cbd2(0x58c))['value']=_0x5e6989[_0x15cbd2(0x888)]||_0x15cbd2(0x315),document[_0x15cbd2(0x683)]('modal-timer-duration-input')[_0x15cbd2(0x1e4)]=_0x5e6989[_0x15cbd2(0x238)]||0xa,document[_0x15cbd2(0x683)](_0x15cbd2(0x83a))['value']=_0x5e6989['passingScore']||Math[_0x15cbd2(0x3bb)](_0x47ff52/0x2),document[_0x15cbd2(0x683)]('modal-passing-score-input')[_0x15cbd2(0x5f7)]=_0x47ff52,document[_0x15cbd2(0x683)](_0x15cbd2(0x53a))[_0x15cbd2(0x800)]=_0x5e6989['isAdaptive']||![],document[_0x15cbd2(0x683)](_0x15cbd2(0x46e))[_0x15cbd2(0x800)]=_0x5e6989[_0x15cbd2(0x45e)]||![],document[_0x15cbd2(0x683)]('modal-timer-mode-select')[_0x15cbd2(0x6d2)](new Event(_0x15cbd2(0x85d))),quizSettingsModal[_0x15cbd2(0x274)][_0x15cbd2(0x2da)]('hidden');}else showMessage(_0x15cbd2(0x34c));}catch(_0x1653f9){console['error'](_0x15cbd2(0x18e),_0x1653f9),showMessage(_0x15cbd2(0x7bf));}}function _0xb61e(_0x352d94,_0x239d4b){const _0x4fd4c7=_0x4fd4();return _0xb61e=function(_0xb61e70,_0x41195f){_0xb61e70=_0xb61e70-0x154;let _0x499677=_0x4fd4c7[_0xb61e70];return _0x499677;},_0xb61e(_0x352d94,_0x239d4b);}async function confirmQuizSettings(){const _0x3074f0=_0x338e4c;if(!actionTargetId)return;const _0x328ecf=doc(db,_0x3074f0(0x79b)+appId+_0x3074f0(0x6ca),actionTargetId),_0xa423f8={'shuffle':document[_0x3074f0(0x683)](_0x3074f0(0x835))[_0x3074f0(0x1e4)],'resultsDisplay':document['getElementById'](_0x3074f0(0x7a9))[_0x3074f0(0x1e4)],'timerMode':document['getElementById'](_0x3074f0(0x58c))[_0x3074f0(0x1e4)],'timerDuration':parseInt(document[_0x3074f0(0x683)]('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x3074f0(0x83a))[_0x3074f0(0x1e4)])||0x0,'passingScore':parseInt(document[_0x3074f0(0x683)](_0x3074f0(0x83a))['value'])||0x0,'isAdaptive':document['getElementById'](_0x3074f0(0x53a))[_0x3074f0(0x800)],'loopUntilPass':document[_0x3074f0(0x683)]('modal-loop-until-pass-checkbox')['checked']};try{await updateDoc(_0x328ecf,{'settings':_0xa423f8}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x3074f0(0x2e7)](_0x3074f0(0x8c6)),actionTargetId=null;}catch(_0x43607e){console[_0x3074f0(0x7ad)](_0x3074f0(0x597),_0x43607e),showMessage(_0x3074f0(0x5a4));}}async function handleQuizStatus(_0x228ad8){const _0x4288c4=_0x338e4c;actionTargetId=_0x228ad8;const _0x5bce07=doc(db,_0x4288c4(0x79b)+appId+'/public/data/quizzes',_0x228ad8);try{const _0x3d7828=await getDoc(_0x5bce07);if(_0x3d7828[_0x4288c4(0x837)]()){const _0x40a203=_0x3d7828[_0x4288c4(0x7e6)](),_0xaa44d7=_0x40a203['status']||_0x4288c4(0x32b),_0x46a9b6=document[_0x4288c4(0x683)](_0x4288c4(0x884)),_0x270a00=document[_0x4288c4(0x683)](_0x4288c4(0x738)),_0x45d22e=document[_0x4288c4(0x683)](_0x4288c4(0x75c));let _0x2fbc75=_0x4288c4(0x1f5)+(_0xaa44d7===_0x4288c4(0x32b)?_0x4288c4(0x800):'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0xaa44d7===_0x4288c4(0x894)?_0x4288c4(0x800):'')+_0x4288c4(0x6ff)+(_0xaa44d7==='scheduled'?'checked':'')+_0x4288c4(0x854);_0x46a9b6[_0x4288c4(0x57a)]=_0x2fbc75;const _0x54e410=_0xaa44d7===_0x4288c4(0x6aa);_0x270a00['classList'][_0x4288c4(0x3b0)](_0x4288c4(0x8c6),!_0x54e410),_0x45d22e[_0x4288c4(0x274)]['toggle'](_0x4288c4(0x8c6),!_0x54e410),document['getElementById'](_0x4288c4(0x3ae))[_0x4288c4(0x1e4)]=_0x40a203['startTime']?_0x40a203[_0x4288c4(0x5bf)][_0x4288c4(0x735)](0x0,0x10):'',document[_0x4288c4(0x683)](_0x4288c4(0x3f9))[_0x4288c4(0x1e4)]=_0x40a203['endTime']?_0x40a203[_0x4288c4(0x4f4)]['substring'](0x0,0x10):'',_0x46a9b6[_0x4288c4(0x51a)](_0x4288c4(0x6d0))['forEach'](_0x4f478b=>{_0x4f478b['addEventListener']('change',_0xb7f582=>{const _0x4323f5=_0xb61e,_0x31493c=_0xb7f582[_0x4323f5(0x7e8)][_0x4323f5(0x1e4)]===_0x4323f5(0x193);_0x270a00[_0x4323f5(0x274)][_0x4323f5(0x3b0)](_0x4323f5(0x8c6),!_0x31493c),_0x45d22e[_0x4323f5(0x274)]['toggle'](_0x4323f5(0x8c6),!_0x31493c);});}),quizStatusModal[_0x4288c4(0x274)][_0x4288c4(0x2da)](_0x4288c4(0x8c6));}}catch(_0x5cc151){console[_0x4288c4(0x7ad)]('Error\x20fetching\x20quiz\x20status:',_0x5cc151),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x1a3dc9=_0x338e4c;if(!actionTargetId)return;const _0x238345=doc(db,_0x1a3dc9(0x79b)+appId+_0x1a3dc9(0x6ca),actionTargetId),_0x59e5b5=document['querySelector'](_0x1a3dc9(0x1a6));if(!_0x59e5b5){showMessage('กรุณาเลือกสถานะ');return;}const _0x1fb0a2=_0x59e5b5[_0x1a3dc9(0x1e4)];let _0x54f410={};if(_0x1fb0a2===_0x1a3dc9(0x32b)||_0x1fb0a2===_0x1a3dc9(0x894))_0x54f410={'status':_0x1fb0a2,'startTime':null,'endTime':null};else{if(_0x1fb0a2===_0x1a3dc9(0x193)){const _0x3f9ed1=document[_0x1a3dc9(0x683)](_0x1a3dc9(0x3ae))[_0x1a3dc9(0x1e4)],_0x5185f9=document[_0x1a3dc9(0x683)](_0x1a3dc9(0x3f9))['value'];if(!_0x3f9ed1&&!_0x5185f9){showMessage(_0x1a3dc9(0x1d3));return;}_0x54f410={'status':_0x1a3dc9(0x6aa),'startTime':_0x3f9ed1?new Date(_0x3f9ed1)['toISOString']():null,'endTime':_0x5185f9?new Date(_0x5185f9)[_0x1a3dc9(0x5f8)]():null};}}try{await updateDoc(_0x238345,_0x54f410),showMessage(_0x1a3dc9(0x4e3)),quizStatusModal[_0x1a3dc9(0x274)][_0x1a3dc9(0x2e7)]('hidden'),actionTargetId=null;}catch(_0x59039f){console[_0x1a3dc9(0x7ad)](_0x1a3dc9(0x5a9),_0x59039f),showMessage(_0x1a3dc9(0x161));}}function listenForStudentProfiles(_0x46c2a8){const _0x98a0db=_0x338e4c,_0x39b498=collection(db,'artifacts/'+appId+_0x98a0db(0x4d0)+_0x46c2a8+_0x98a0db(0x17f));unsubscribeStudentProfilesListener=onSnapshot(_0x39b498,_0x5e69b6=>{const _0x4a4d1a=_0x98a0db,_0x35e3fd=_0x5e69b6['docs'][_0x4a4d1a(0x5a8)](_0x4b959c=>_0x4b959c[_0x4a4d1a(0x7e6)]());renderLeaderboard(_0x35e3fd,'leaderboard-table-body');},_0x5ca3ef=>{const _0x53e02d=_0x98a0db;console[_0x53e02d(0x7ad)]('Error\x20listening\x20for\x20student\x20profiles:',_0x5ca3ef),document[_0x53e02d(0x683)](_0x53e02d(0x664))[_0x53e02d(0x57a)]=_0x53e02d(0x48d);});}function renderLeaderboard(_0xeaf760,_0x15f890){const _0x2a7a7f=_0x338e4c,_0x35c81d=document[_0x2a7a7f(0x683)](_0x15f890);if(!_0xeaf760||_0xeaf760[_0x2a7a7f(0x7c4)]===0x0){_0x35c81d[_0x2a7a7f(0x57a)]=_0x2a7a7f(0x7d1);return;}_0xeaf760['sort']((_0x17ed73,_0x231fc2)=>{const _0x37f4b3=_0x2a7a7f,_0x421254=(_0x231fc2[_0x37f4b3(0x255)]||0x0)-(_0x17ed73['totalPoints']||0x0);if(_0x421254!==0x0)return _0x421254;const _0x1a2e2f=(_0x231fc2['badgesCount']?.['specialist']||0x0)-(_0x17ed73[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x663)]||0x0);if(_0x1a2e2f!==0x0)return _0x1a2e2f;const _0x34f6c4=(_0x231fc2[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x22e)]||0x0)-(_0x17ed73[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x22e)]||0x0);if(_0x34f6c4!==0x0)return _0x34f6c4;const _0x1a8438=(_0x231fc2[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x6cc)]||0x0)-(_0x17ed73[_0x37f4b3(0x83e)]?.['perfect_score']||0x0);if(_0x1a8438!==0x0)return _0x1a8438;const _0x428d93=(_0x231fc2[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x595)]||0x0)-(_0x17ed73[_0x37f4b3(0x83e)]?.[_0x37f4b3(0x595)]||0x0);if(_0x428d93!==0x0)return _0x428d93;return _0x17ed73['studentName'][_0x37f4b3(0x503)](_0x231fc2[_0x37f4b3(0x2d0)],'th');});let _0x5d1069='';_0xeaf760['forEach']((_0x11afac,_0x3d7ba1)=>{const _0x5d5c04=_0x2a7a7f,_0x254c81=_0x3d7ba1+0x1,_0x48e8b2=_0x11afac['badgesCount']||{};let _0x2dcc14='';const _0x3d4701=['specialist','perfect_score',_0x5d5c04(0x22e),_0x5d5c04(0x595)];_0x3d4701['forEach'](_0x27395c=>{const _0x1ca3bb=_0x5d5c04;if(_0x48e8b2[_0x27395c]>0x0){const _0x245c88=Object[_0x1ca3bb(0x1ff)](BADGES)[_0x1ca3bb(0x337)](_0x26977f=>_0x26977f['id']===_0x27395c);_0x245c88&&(_0x27395c===_0x1ca3bb(0x663)?_0x2dcc14+=_0x1ca3bb(0x88d)+_0x245c88[_0x1ca3bb(0x289)]+_0x1ca3bb(0x706)+_0x245c88[_0x1ca3bb(0x657)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2dcc14+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x245c88['name']+'\x20('+_0x48e8b2[_0x27395c]+_0x1ca3bb(0x19b)+_0x245c88[_0x1ca3bb(0x657)]+_0x1ca3bb(0x667)+_0x48e8b2[_0x27395c]+_0x1ca3bb(0x841));}}),_0x5d1069+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x254c81+_0x5d5c04(0x7cc)+_0x11afac['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x11afac['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x2dcc14||'-')+_0x5d5c04(0x661);}),_0x35c81d[_0x2a7a7f(0x57a)]=_0x5d1069;}function displayLoopScreen(_0x2fa874,_0x5a255a,_0x379368){const _0x3284b3=_0x338e4c;let _0x14b29d='';_0x379368!==_0x3284b3(0x4fb)&&(_0x14b29d='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x2fa874+'\x20/\x20'+_0x5a255a+_0x3284b3(0x6b3));const _0x214bc9=_0x3284b3(0x629)+_0x14b29d+_0x3284b3(0x6fc);studentResultArea[_0x3284b3(0x57a)]=_0x214bc9,studentResultArea[_0x3284b3(0x274)][_0x3284b3(0x2da)](_0x3284b3(0x8c6)),studentQuizArea[_0x3284b3(0x274)][_0x3284b3(0x2e7)](_0x3284b3(0x8c6)),document['getElementById'](_0x3284b3(0x500))[_0x3284b3(0x4aa)](_0x3284b3(0x32a),()=>{const _0x5e49d4=_0x3284b3;studentResultArea[_0x5e49d4(0x274)][_0x5e49d4(0x2e7)](_0x5e49d4(0x8c6)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x102592,_0x1c9850,_0x5ef414){const _0x30f553=_0x338e4c,_0x4417dd=document[_0x30f553(0x683)](_0x5ef414),_0x339c19=_0x5ef414===_0x30f553(0x241),_0x39797a=_0x1c9850[_0x30f553(0x543)][_0x30f553(0x7c4)],_0x512b22=document[_0x30f553(0x683)](_0x5ef414)[_0x30f553(0x3fb)](_0x30f553(0x25b));if(_0x512b22&&!_0x339c19){const _0x43fcff=_0x512b22[_0x30f553(0x26a)](_0x30f553(0x1c5));_0x43fcff[_0x30f553(0x57a)]=_0x30f553(0x2d6);}if(!_0x102592||_0x102592[_0x30f553(0x7c4)]===0x0){_0x4417dd[_0x30f553(0x57a)]='<tr><td\x20colspan=\x22'+(_0x339c19?0x6:0x8)+_0x30f553(0x7be);return;}const _0x3e5882=[..._0x102592];_0x3e5882[_0x30f553(0x53c)]((_0x36610d,_0x2f9262)=>{const _0x24ac27=_0x30f553;let _0xa0603b,_0x55eff8;switch(quizLeaderboardSortBy){case _0x24ac27(0x2d0):_0xa0603b=_0x36610d[_0x24ac27(0x2d0)]||'',_0x55eff8=_0x2f9262['studentName']||'';return quizLeaderboardSortOrder===_0x24ac27(0x5f9)?_0xa0603b[_0x24ac27(0x503)](_0x55eff8,'th'):_0x55eff8[_0x24ac27(0x503)](_0xa0603b,'th');case'points':_0xa0603b=_0x36610d[_0x24ac27(0x399)]||0x0,_0x55eff8=_0x2f9262['points']||0x0;break;case _0x24ac27(0x805):_0xa0603b=_0x36610d['attempts']?.[_0x24ac27(0x7c4)]||0x1,_0x55eff8=_0x2f9262[_0x24ac27(0x805)]?.[_0x24ac27(0x7c4)]||0x1;break;case _0x24ac27(0x78c):_0xa0603b=new Date(_0x36610d[_0x24ac27(0x78c)]),_0x55eff8=new Date(_0x2f9262[_0x24ac27(0x78c)]);break;case _0x24ac27(0x3d3):default:_0xa0603b=_0x36610d[_0x24ac27(0x3d3)],_0x55eff8=_0x2f9262['bestScore'];break;}if(_0xa0603b<_0x55eff8)return quizLeaderboardSortOrder===_0x24ac27(0x5f9)?-0x1:0x1;if(_0xa0603b>_0x55eff8)return quizLeaderboardSortOrder===_0x24ac27(0x5f9)?0x1:-0x1;return 0x0;});const _0x3b1a58=_0x1c9850['isRemedial']===!![],_0x3ed8cc=_0x1c9850[_0x30f553(0x73c)]?.['passingScore']??-0x1;let _0x1033f7='';_0x3e5882[_0x30f553(0x630)]((_0x4071f4,_0x4f6b65)=>{const _0x585d5c=_0x30f553,_0x10918a=_0x4f6b65+0x1;let _0x35b614=_0x585d5c(0x3e4);if(_0x3b1a58||_0x3ed8cc!==-0x1){let _0x482f45=_0x3b1a58?_0x4071f4['bestScore']===_0x39797a:_0x4071f4[_0x585d5c(0x3d3)]>=_0x3ed8cc;const _0x54c13f=_0x482f45?_0x585d5c(0x2ff):'bg-red-100\x20text-red-800',_0x46afa9=_0x482f45?_0x585d5c(0x6a4):'ไม่ผ่าน';_0x35b614=_0x585d5c(0x5ff)+_0x54c13f+'\x22>'+_0x46afa9+_0x585d5c(0x2c6);}const _0x2e4337=_0x4071f4[_0x585d5c(0x805)][_0x4071f4[_0x585d5c(0x805)][_0x585d5c(0x7c4)]-0x1],_0x23818f=(_0x2e4337[_0x585d5c(0x510)]||[])[_0x585d5c(0x5a8)](_0x437b40=>{const _0x34ade9=_0x585d5c,_0x3a5b26=Object[_0x34ade9(0x1ff)](BADGES)[_0x34ade9(0x337)](_0x266853=>_0x266853['id']===_0x437b40);return _0x3a5b26?_0x34ade9(0x271)+_0x3a5b26['name']+_0x34ade9(0x25f)+_0x3a5b26[_0x34ade9(0x657)]+_0x34ade9(0x416):'';})['join']('');_0x1033f7+=_0x585d5c(0x5f2)+_0x10918a+_0x585d5c(0x5c0)+_0x4071f4[_0x585d5c(0x2d0)]+_0x585d5c(0x59c)+_0x4071f4[_0x585d5c(0x3d3)]+_0x585d5c(0x827)+_0x39797a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35b614+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x4071f4[_0x585d5c(0x399)]||0x0)+_0x585d5c(0x593)+(_0x339c19?'':_0x585d5c(0x79a)+(_0x4071f4[_0x585d5c(0x805)]?.[_0x585d5c(0x7c4)]||0x1)+_0x585d5c(0x211))+_0x585d5c(0x7a8)+(_0x339c19?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4071f4['latestSubmittedAt'])[_0x585d5c(0x19e)](_0x585d5c(0x59e))+_0x585d5c(0x211))+_0x585d5c(0x2c5)+(_0x23818f||'-')+_0x585d5c(0x6f5);}),_0x4417dd[_0x30f553(0x57a)]=_0x1033f7,_0x512b22&&!_0x339c19&&_0x512b22[_0x30f553(0x51a)](_0x30f553(0x51d))[_0x30f553(0x630)](_0x166186=>{const _0x3be7cd=_0x30f553,_0x9b3a3f=_0x166186['querySelector'](_0x3be7cd(0x4fe));if(_0x9b3a3f)_0x9b3a3f[_0x3be7cd(0x2da)]();_0x166186[_0x3be7cd(0x432)]['sort']===quizLeaderboardSortBy&&(_0x166186[_0x3be7cd(0x57a)]+=_0x3be7cd(0x8dd)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x3be7cd(0x70e));});}async function handleDeleteSubmission(_0x117eae){const _0x90d94a=_0x338e4c;if(!currentQuizData||!currentQuizData['id']||!_0x117eae){showMessage(_0x90d94a(0x7dd));return;}showConfirmation(_0x90d94a(0x53e)+_0x117eae+_0x90d94a(0x408),async()=>{const _0x407220=_0x90d94a,_0x36dfff=currentQuizData['id'],_0x1eb5a9=doc(db,_0x407220(0x79b)+appId+_0x407220(0x649)+_0x36dfff+_0x407220(0x287),_0x117eae);try{await deleteDoc(_0x1eb5a9),showMessage(_0x407220(0x8db)+_0x117eae+_0x407220(0x6d3));}catch(_0x533ba3){console[_0x407220(0x7ad)](_0x407220(0x163),_0x533ba3),showMessage(_0x407220(0x67e));}});}async function handleLoadQuiz(){const _0x4b5487=_0x338e4c,_0x56a471=document[_0x4b5487(0x683)]('quiz-id-input'),_0x475734=_0x56a471[_0x4b5487(0x1e4)][_0x4b5487(0x369)]();if(!_0x475734){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x4b5487(0x442)]=!![],loadQuizBtn[_0x4b5487(0x57a)]=_0x4b5487(0x578);try{const _0x224d15=doc(db,'artifacts/'+appId+_0x4b5487(0x6ca),_0x475734),_0x177201=await getDoc(_0x224d15);if(!_0x177201[_0x4b5487(0x837)]()){showMessage(_0x4b5487(0x254));return;}currentQuizData={'id':_0x177201['id'],..._0x177201['data']()};const _0x536819=currentQuizData[_0x4b5487(0x7c6)]||_0x4b5487(0x32b),_0x2cc6ce=new Date();if(_0x536819===_0x4b5487(0x894)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x536819===_0x4b5487(0x6aa)){const _0xcdb75=currentQuizData[_0x4b5487(0x5bf)]?new Date(currentQuizData['startTime']):null,_0x1aa40e=currentQuizData['endTime']?new Date(currentQuizData[_0x4b5487(0x4f4)]):null;if(_0xcdb75&&_0x2cc6ce<_0xcdb75){showMessage(_0x4b5487(0x209)+_0xcdb75['toLocaleString'](_0x4b5487(0x59e),{'hour12':![]}));return;}if(_0x1aa40e&&_0x2cc6ce>_0x1aa40e){showMessage(_0x4b5487(0x7c1));return;}}const _0x119b02=currentQuizData['projectId'];currentProjectId=_0x119b02;const _0x41cad5=doc(db,_0x4b5487(0x79b)+appId+_0x4b5487(0x7ae),_0x119b02),_0x1509ee=await getDoc(_0x41cad5);if(!_0x1509ee['exists']()){showMessage(_0x4b5487(0x36e));return;}const _0x48925d=_0x1509ee[_0x4b5487(0x7e6)]();currentStudentProjectData=_0x48925d,displayStudentNameSelector(_0x48925d['students'],currentQuizData[_0x4b5487(0x8af)]);}catch(_0x33f663){console[_0x4b5487(0x7ad)](_0x4b5487(0x3b2),_0x33f663),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x4b5487(0x442)]=![],loadQuizBtn[_0x4b5487(0x57a)]=_0x4b5487(0x5c5);}}async function handleJoinLiveGame(){const _0x2c4a61=_0x338e4c,_0x42c30e=document[_0x2c4a61(0x683)](_0x2c4a61(0x187)),_0xc6c0a4=document[_0x2c4a61(0x683)](_0x2c4a61(0x396)),_0x460bb3=document[_0x2c4a61(0x683)](_0x2c4a61(0x3b3)),_0x18ea52=_0x42c30e['value'][_0x2c4a61(0x369)](),_0xa48646=_0xc6c0a4['value'][_0x2c4a61(0x369)]();if(!_0x18ea52||!_0xa48646){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x460bb3[_0x2c4a61(0x442)]=!![],_0x460bb3[_0x2c4a61(0x57a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x2857be=collection(db,_0x2c4a61(0x79b)+appId+_0x2c4a61(0x86d)),_0x56650a=query(_0x2857be,where(_0x2c4a61(0x1c7),'==',_0x18ea52),where(_0x2c4a61(0x7c6),'==',_0x2c4a61(0x50c))),_0x349c61=await getDocs(_0x56650a);if(_0x349c61[_0x2c4a61(0x421)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x52f8c7=_0x349c61['docs'][0x0],_0x221ca9=_0x52f8c7['data']();currentLiveGameId=_0x52f8c7['id'];const _0x1ce5d3=_0x221ca9[_0x2c4a61(0x3af)],_0x5a8984=doc(db,'artifacts/'+appId+_0x2c4a61(0x6ca),_0x1ce5d3),_0x3b3abe=await getDoc(_0x5a8984);if(!_0x3b3abe[_0x2c4a61(0x837)]()){showMessage(_0x2c4a61(0x3be));return;}currentQuizData={'id':_0x3b3abe['id'],..._0x3b3abe[_0x2c4a61(0x7e6)]()};if(_0x221ca9['players']&&_0x221ca9['players'][_0xa48646]){showMessage(_0x2c4a61(0x5fa));return;}const _0x37b937={};_0x37b937[_0x2c4a61(0x3e5)+_0xa48646]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x2c4a61(0x79b)+appId+'/public/data/liveGames',currentLiveGameId),_0x37b937),currentStudentName=_0xa48646,listenForLiveGameUpdates();}catch(_0x3ba4a7){console['error'](_0x2c4a61(0x160),_0x3ba4a7),showMessage(_0x2c4a61(0x695));}finally{_0x460bb3[_0x2c4a61(0x442)]=![],_0x460bb3[_0x2c4a61(0x57a)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3b7d68,_0x580f8a){const _0x402086=_0x338e4c,_0x4325bd=document['getElementById']('student-name-select');document['getElementById']('student-quiz-topic')[_0x402086(0x603)]=_0x402086(0x77b)+_0x580f8a,!_0x3b7d68||_0x3b7d68[_0x402086(0x7c4)]===0x0?(_0x4325bd['innerHTML']=_0x402086(0x4c9),startQuizBtn[_0x402086(0x442)]=!![]):(_0x4325bd['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3b7d68[_0x402086(0x630)](_0x3b935e=>{const _0x4d9554=_0x402086,_0xf849d1=document[_0x4d9554(0x556)](_0x4d9554(0x519));_0xf849d1[_0x4d9554(0x1e4)]=_0x3b935e,_0xf849d1[_0x4d9554(0x603)]=_0x3b935e,_0x4325bd['appendChild'](_0xf849d1);}),startQuizBtn[_0x402086(0x442)]=![]),studentInitialView[_0x402086(0x274)]['add'](_0x402086(0x8c6)),studentNameSelectionView[_0x402086(0x274)][_0x402086(0x2da)](_0x402086(0x8c6));}function shuffleArray(_0x3f04e){const _0x483c93=_0x338e4c;for(let _0xfb022d=_0x3f04e[_0x483c93(0x7c4)]-0x1;_0xfb022d>0x0;_0xfb022d--){const _0x1f58ac=Math[_0x483c93(0x3bb)](Math[_0x483c93(0x297)]()*(_0xfb022d+0x1));[_0x3f04e[_0xfb022d],_0x3f04e[_0x1f58ac]]=[_0x3f04e[_0x1f58ac],_0x3f04e[_0xfb022d]];}}function getShuffledQuiz(_0x2c7196){const _0x53b758=_0x338e4c;let _0x311c3e=JSON[_0x53b758(0x78e)](JSON[_0x53b758(0x23a)](_0x2c7196));const _0x2e16b4=_0x311c3e[_0x53b758(0x73c)]?.[_0x53b758(0x17d)]||_0x53b758(0x315);if(_0x2e16b4==='none')return _0x311c3e;return(_0x2e16b4===_0x53b758(0x5ad)||_0x2e16b4==='both')&&shuffleArray(_0x311c3e[_0x53b758(0x543)]),(_0x2e16b4===_0x53b758(0x8ae)||_0x2e16b4===_0x53b758(0x6bb))&&_0x311c3e[_0x53b758(0x543)][_0x53b758(0x630)](_0x48d21f=>{const _0x228e94=_0x53b758,_0x6a021e=_0x48d21f[_0x228e94(0x878)]||_0x311c3e[_0x228e94(0x4ad)];if(_0x48d21f[_0x228e94(0x4a4)]){let _0x2b61ac=_0x48d21f[_0x228e94(0x4a4)][_0x228e94(0x5a8)]((_0x2baf62,_0xc2b719)=>({'text':_0x2baf62,'isCorrect':_0xc2b719===_0x48d21f[_0x228e94(0x248)]}));shuffleArray(_0x2b61ac),_0x48d21f[_0x228e94(0x4a4)]=_0x2b61ac[_0x228e94(0x5a8)](_0x2a3923=>_0x2a3923[_0x228e94(0x1d5)]),_0x48d21f[_0x228e94(0x248)]=_0x2b61ac[_0x228e94(0x779)](_0x4e0584=>_0x4e0584[_0x228e94(0x4c5)]);}_0x6a021e==='matching_item'&&_0x48d21f[_0x228e94(0x5a6)]&&shuffleArray(_0x48d21f[_0x228e94(0x5a6)]);}),_0x311c3e;}function displayQuizForStudent(_0x2dc4de){const _0x1bdf0a=_0x338e4c;studentQuizArea[_0x1bdf0a(0x274)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x2dc4de),isQuizActive=!![],cheatAttempts=0x0,document[_0x1bdf0a(0x4aa)](_0x1bdf0a(0x819),handleFullscreenChange),document[_0x1bdf0a(0x4aa)](_0x1bdf0a(0x550),handleVisibilityChange);currentMode!==_0x1bdf0a(0x8cf)&&enterFullscreen();const _0x2c581d=currentDisplayedQuiz[_0x1bdf0a(0x73c)]?.[_0x1bdf0a(0x888)]||'none';if(_0x2c581d===_0x1bdf0a(0x431))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1bdf0a(0x73c)][_0x1bdf0a(0x238)]);else _0x2c581d===_0x1bdf0a(0x551)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x267fa7=_0x338e4c;let _0x4cc851='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x267fa7(0x269):'')+_0x267fa7(0x3db);currentDisplayedQuiz[_0x267fa7(0x543)][_0x267fa7(0x630)]((_0x2fd8d7,_0x5e1678)=>{const _0x26b313=_0x267fa7,_0x9304e9=_0x2fd8d7[_0x26b313(0x878)]||currentDisplayedQuiz[_0x26b313(0x4ad)];_0x4cc851+=_0x26b313(0x8ab);_0x9304e9==='matching_item'?_0x4cc851+=_0x26b313(0x35d)+(_0x5e1678+0x1)+'.\x20'+_0x2fd8d7[_0x26b313(0x2de)]+_0x26b313(0x89f)+_0x5e1678+_0x26b313(0x186)+_0x2fd8d7[_0x26b313(0x5a6)][_0x26b313(0x5a8)](_0x2f3b6c=>'<option\x20value=\x22'+_0x2f3b6c+'\x22>'+_0x2f3b6c+'</option>')[_0x26b313(0x8dc)]('')+_0x26b313(0x1d6):(_0x4cc851+=_0x26b313(0x50f)+(_0x5e1678+0x1)+'.\x20'+(_0x2fd8d7[_0x26b313(0x46a)]||_0x2fd8d7[_0x26b313(0x66e)])+_0x26b313(0x73d),_0x2fd8d7[_0x26b313(0x45c)]&&(_0x4cc851+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2fd8d7[_0x26b313(0x45c)]+'</div>'));_0x4cc851+=_0x26b313(0x5cd);switch(_0x9304e9){case'short_answer':_0x4cc851+=_0x26b313(0x563)+_0x5e1678+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x26b313(0x743):_0x4cc851+=_0x26b313(0x5ef)+_0x5e1678+_0x26b313(0x1fe)+_0x5e1678+_0x26b313(0x1c6)+_0x5e1678+_0x26b313(0x357),_0x4cc851+=_0x26b313(0x5ef)+_0x5e1678+_0x26b313(0x524)+_0x5e1678+_0x26b313(0x656)+_0x5e1678+_0x26b313(0x1cf);break;case _0x26b313(0x526):break;case _0x26b313(0x3cf):case _0x26b313(0x41d):default:_0x4cc851+=_0x2fd8d7[_0x26b313(0x4a4)][_0x26b313(0x5a8)]((_0x244aa8,_0x3f9e6b)=>_0x26b313(0x5b3)+_0x5e1678+'_opt'+_0x3f9e6b+_0x26b313(0x19c)+_0x5e1678+'\x22\x20value=\x22'+_0x3f9e6b+_0x26b313(0x6f3)+_0x5e1678+_0x26b313(0x3de)+_0x3f9e6b+'\x22>'+_0x244aa8+_0x26b313(0x30e))[_0x26b313(0x8dc)]('');break;}_0x4cc851+=_0x26b313(0x2f1);}),_0x4cc851+=_0x267fa7(0x643),_0x4cc851+=_0x267fa7(0x173),studentQuizArea[_0x267fa7(0x57a)]=_0x4cc851;if(currentMode==='admin-testing'){const _0x1cfaec=document['getElementById'](_0x267fa7(0x1aa));if(_0x1cfaec)_0x1cfaec[_0x267fa7(0x4aa)]('click',cancelAdminTest);}document[_0x267fa7(0x683)](_0x267fa7(0x7cb))[_0x267fa7(0x4aa)](_0x267fa7(0x678),handleSubmitQuiz);if(window[_0x267fa7(0x56d)])window[_0x267fa7(0x56d)][_0x267fa7(0x190)]([studentQuizArea]);}async function handleSubmitQuiz(_0x34bbc6){const _0x496664=_0x338e4c;if(_0x34bbc6)_0x34bbc6[_0x496664(0x646)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x554311=document[_0x496664(0x683)](_0x496664(0x7cb));if(!_0x554311)return;const _0x4785f9=_0x554311[_0x496664(0x26a)](_0x496664(0x741)),_0x18a4a2=currentDisplayedQuiz['questions'][_0x496664(0x5a7)](_0x3d1722=>_0x3d1722['questionType']===_0x496664(0x81d));_0x4785f9&&(_0x4785f9[_0x496664(0x442)]=!![],_0x18a4a2?_0x4785f9['innerHTML']=_0x496664(0x35e):_0x4785f9[_0x496664(0x57a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x1deaf7=new FormData(_0x554311),_0x5c8a56=currentDisplayedQuiz[_0x496664(0x543)]['map']((_0x591c28,_0x8fa8c9)=>{const _0x29d3b9=_0x496664,_0x4dfbc8=_0x591c28[_0x29d3b9(0x878)]||currentDisplayedQuiz[_0x29d3b9(0x4ad)],_0x2de6=_0x1deaf7[_0x29d3b9(0x6f8)](_0x29d3b9(0x898)+_0x8fa8c9);if(_0x2de6!==null&&_0x2de6!==undefined){if(_0x4dfbc8===_0x29d3b9(0x41d)||_0x4dfbc8===_0x29d3b9(0x3cf))return parseInt(_0x2de6);return _0x2de6;}return null;}),_0x3f4e61=currentQuizData['id'],_0x2d71fe=doc(db,_0x496664(0x79b)+appId+_0x496664(0x649)+_0x3f4e61+'/submissions',currentStudentName),_0x1e8989=await getDoc(_0x2d71fe),_0x5113ce=_0x1e8989['exists']()?_0x1e8989[_0x496664(0x7e6)]():{},_0x5460bb=_0x5113ce['attempts']||[];await processAndSubmitAnswers(_0x5c8a56,_0x5460bb);}async function gradeShortAnswerWithAI(_0x5ca88e,_0x61661){const _0x46213d=_0x338e4c;if(!_0x5ca88e||!_0x61661)return![];try{const _0x3288d7='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x5ca88e+_0x46213d(0x677)+_0x61661+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x254f76={'contents':[{'role':'user','parts':[{'text':_0x3288d7}]}]},_0xf9a699=_0x46213d(0x60d),_0x444976=_0x46213d(0x717)+_0xf9a699,_0x5cba25=await fetch(_0x444976,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x254f76)});if(!_0x5cba25['ok'])throw new Error(_0x46213d(0x7d2));const _0x335584=await _0x5cba25['json'](),_0x45b659=_0x335584[_0x46213d(0x618)][0x0][_0x46213d(0x6f7)][_0x46213d(0x48e)][0x0][_0x46213d(0x1d5)][_0x46213d(0x369)]()[_0x46213d(0x797)]();return _0x45b659==='true';}catch(_0x337e96){return console[_0x46213d(0x7ad)](_0x46213d(0x6f6),_0x337e96),![];}}async function processAndSubmitAnswers(_0x3dbfb1,_0x5da5e7){const _0x1c0b9e=_0x338e4c;exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x1c0b9e(0x819),handleFullscreenChange),document[_0x1c0b9e(0x2b1)](_0x1c0b9e(0x550),handleVisibilityChange);let _0x5493aa=0x0,_0x303dce=0x0,_0x1fd7c4=[];const _0x5c3b6b=[],_0x2a30c9=currentDisplayedQuiz[_0x1c0b9e(0x543)]['length'];let _0x342c6c=0x0;const _0x339276=currentDisplayedQuiz[_0x1c0b9e(0x543)];for(let _0x31695f=0x0;_0x31695f<_0x339276[_0x1c0b9e(0x7c4)];_0x31695f++){const _0x43f4e4=_0x339276[_0x31695f],_0x20b7d6=_0x3dbfb1[_0x31695f],_0x282921=_0x43f4e4['questionType']||currentDisplayedQuiz[_0x1c0b9e(0x4ad)];let _0x5382a1=![];if(_0x20b7d6!==null&&_0x20b7d6!=='')switch(_0x282921){case _0x1c0b9e(0x526):_0x5382a1=_0x20b7d6===_0x43f4e4[_0x1c0b9e(0x328)];break;case _0x1c0b9e(0x743):const _0x516fa1=_0x20b7d6===!![]||_0x20b7d6===_0x1c0b9e(0x865);_0x5382a1=_0x516fa1===_0x43f4e4['correctAnswer'];break;case _0x1c0b9e(0x3cf):case'multiple_choice':default:_0x5382a1=Number(_0x20b7d6)===_0x43f4e4[_0x1c0b9e(0x248)];break;case _0x1c0b9e(0x81d):_0x5382a1=await gradeShortAnswer(_0x20b7d6,_0x43f4e4);break;}_0x5382a1?(_0x5493aa++,_0x342c6c++,_0x342c6c===0x3&&(_0x1fd7c4['push'](BADGES[_0x1c0b9e(0x29d)]['id']),_0x342c6c=0x0)):_0x342c6c=0x0;let _0x1195cc=null;_0x43f4e4[_0x1c0b9e(0x4a4)]&&_0x20b7d6!==null&&(_0x1195cc=_0x43f4e4[_0x1c0b9e(0x4a4)][_0x20b7d6]),_0x5c3b6b[_0x1c0b9e(0x76d)]({'answer':_0x20b7d6,'answerText':_0x1195cc,'isCorrect':_0x5382a1,'originalQuestionText':_0x43f4e4[_0x1c0b9e(0x2de)]||_0x43f4e4[_0x1c0b9e(0x66e)]});}_0x303dce=_0x5493aa*0xa;_0x5493aa===_0x2a30c9&&_0x2a30c9>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x303dce+=0x32,_0x1fd7c4['push'](BADGES['PERFECT_SCORE']['id']));const _0x94eefa=currentDisplayedQuiz[_0x1c0b9e(0x73c)]?.[_0x1c0b9e(0x1a3)]??Math[_0x1c0b9e(0x3bb)](_0x2a30c9/0x2),_0x44037d=currentDisplayedQuiz[_0x1c0b9e(0x73c)]?.[_0x1c0b9e(0x888)];if(_0x44037d===_0x1c0b9e(0x431)&&quizStartTime){const _0x4fa90e=(new Date()-quizStartTime)/0x3e8,_0x38676e=currentDisplayedQuiz[_0x1c0b9e(0x73c)][_0x1c0b9e(0x238)]*0x3c;_0x5493aa>=_0x94eefa&&_0x4fa90e<_0x38676e/0x2&&(_0x303dce+=0x14,_0x1fd7c4[_0x1c0b9e(0x76d)](BADGES['QUICK_THINKER']['id']));}_0x5da5e7[_0x1c0b9e(0x7c4)]===0x0&&_0x5493aa===_0x2a30c9&&_0x2a30c9>0x0&&_0x1fd7c4[_0x1c0b9e(0x76d)](BADGES[_0x1c0b9e(0x440)]['id']);if(_0x5da5e7[_0x1c0b9e(0x7c4)]>0x0){const _0x394d83=_0x5da5e7[0x0]['score'];if(_0x394d83<_0x94eefa&&_0x5493aa>=_0x94eefa){const _0x2040e4=_0x5da5e7[_0x1c0b9e(0x5a7)](_0x203f17=>(_0x203f17['badges']||[])['includes'](BADGES[_0x1c0b9e(0x5d8)]['id']));!_0x2040e4&&_0x1fd7c4[_0x1c0b9e(0x76d)](BADGES[_0x1c0b9e(0x5d8)]['id']);}}_0x5da5e7[_0x1c0b9e(0x7c4)]===0x4&&_0x1fd7c4[_0x1c0b9e(0x76d)](BADGES[_0x1c0b9e(0x497)]['id']);const _0x36d408=currentDisplayedQuiz[_0x1c0b9e(0x73c)][_0x1c0b9e(0x8ce)];if(currentMode===_0x1c0b9e(0x8cf)){handleResultDisplay(_0x36d408,_0x5493aa,_0x303dce,_0x1fd7c4,_0x5c3b6b,_0x2a30c9);return;}const _0x173f14=currentQuizData['id'],_0x178fc8=doc(db,_0x1c0b9e(0x79b)+appId+_0x1c0b9e(0x649)+_0x173f14+_0x1c0b9e(0x287),currentStudentName);try{const _0x400ba6=[..._0x5da5e7],_0x32a8c2={'score':_0x5493aa,'points':_0x303dce,'badges':_0x1fd7c4,'submittedAt':new Date()[_0x1c0b9e(0x5f8)](),'answers':_0x5c3b6b};_0x400ba6[_0x1c0b9e(0x76d)](_0x32a8c2);const _0x28697=_0x400ba6[0x0][_0x1c0b9e(0x69c)],_0x2bd234=Math[_0x1c0b9e(0x5f7)](..._0x400ba6['map'](_0x70c3e5=>_0x70c3e5[_0x1c0b9e(0x69c)])),_0x30a26d=_0x5493aa,_0xef7f99=_0x32a8c2[_0x1c0b9e(0x41f)];await setDoc(_0x178fc8,{'studentName':currentStudentName,'totalQuestions':_0x2a30c9,'attempts':_0x400ba6,'firstScore':_0x28697,'bestScore':_0x2bd234,'latestScore':_0x30a26d,'points':_0x303dce,'latestSubmittedAt':_0xef7f99},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1c0b9e(0x2cc)],currentStudentName),handleResultDisplay(_0x36d408,_0x5493aa,_0x303dce,_0x1fd7c4,_0x5c3b6b,_0x2a30c9);}catch(_0x19f2d2){console[_0x1c0b9e(0x7ad)]('Error\x20saving\x20submission:',_0x19f2d2),showMessage(_0x1c0b9e(0x1a7));}}async function updateStudentProfile(_0x3dd577,_0x3567d4){const _0x3d02e0=_0x338e4c,_0x3cf0c0=doc(db,_0x3d02e0(0x79b)+appId+_0x3d02e0(0x4d0)+_0x3dd577+'/studentProfiles',_0x3567d4);try{const _0x2812fd=query(collection(db,_0x3d02e0(0x79b)+appId+_0x3d02e0(0x6ca)),where(_0x3d02e0(0x2cc),'==',_0x3dd577)),_0x2026d1=await getDocs(_0x2812fd),_0x2ae1bb=new Map(_0x2026d1[_0x3d02e0(0x69f)][_0x3d02e0(0x5a8)](_0x15b9da=>[_0x15b9da['id'],_0x15b9da[_0x3d02e0(0x7e6)]()])),_0x276250=Array[_0x3d02e0(0x459)](_0x2ae1bb['keys']());await runTransaction(db,async _0xcc15ac=>{const _0x32e05b=_0x3d02e0;let _0x1546a9=0x0;const _0x2da883={};let _0x2187f4=!![],_0x13e5e1=0x0,_0x29a963=0x0;for(const _0x1d078b of _0x276250){const _0xbc0dac=_0x2ae1bb['get'](_0x1d078b),_0x36cf7c=doc(db,_0x32e05b(0x79b)+appId+_0x32e05b(0x649)+_0x1d078b+_0x32e05b(0x287),_0x3567d4),_0x47edd4=await _0xcc15ac[_0x32e05b(0x6f8)](_0x36cf7c);if(_0x47edd4[_0x32e05b(0x837)]()){const _0x16fddb=_0x47edd4['data'](),_0x3048e4=_0x16fddb['attempts']||[];if(_0x3048e4[_0x32e05b(0x7c4)]>0x0){const _0x16b86f=_0x3048e4[_0x32e05b(0x685)]((_0x3d8920,_0x1b81a1)=>{const _0x8af208=_0x32e05b;if(_0x1b81a1[_0x8af208(0x69c)]>_0x3d8920[_0x8af208(0x69c)])return _0x1b81a1;if(_0x1b81a1[_0x8af208(0x69c)]===_0x3d8920[_0x8af208(0x69c)])return(_0x1b81a1['points']||0x0)>(_0x3d8920[_0x8af208(0x399)]||0x0)?_0x1b81a1:_0x3d8920;return _0x3d8920;},{'score':-0x1,'points':-0x1});_0x16b86f[_0x32e05b(0x69c)]>-0x1&&(_0x1546a9+=_0x16b86f[_0x32e05b(0x399)]||0x0,(_0x16b86f[_0x32e05b(0x510)]||[])[_0x32e05b(0x630)](_0x286f8a=>{_0x2da883[_0x286f8a]=(_0x2da883[_0x286f8a]||0x0)+0x1;}));}}if(_0xbc0dac['topic']!==_0x32e05b(0x88a)){_0x29a963++;if(_0x47edd4[_0x32e05b(0x837)]()){_0x13e5e1++;const _0xe73762=_0x47edd4[_0x32e05b(0x7e6)]();_0xe73762['bestScore']!==_0xe73762['totalQuestions']&&(_0x2187f4=![]);}else _0x2187f4=![];}}_0x29a963>0x0&&_0x13e5e1===_0x29a963&&_0x2187f4?_0x2da883['specialist']=0x1:_0x2da883['specialist']=0x0,_0xcc15ac[_0x32e05b(0x82c)](_0x3cf0c0,{'studentName':_0x3567d4,'totalPoints':_0x1546a9,'unlockedBadges':Object[_0x32e05b(0x789)](_0x2da883)[_0x32e05b(0x5d7)](_0x3ba7ce=>_0x2da883[_0x3ba7ce]>0x0),'badgesCount':_0x2da883},{'merge':!![]});});}catch(_0x534c97){console[_0x3d02e0(0x7ad)](_0x3d02e0(0x2ee),_0x534c97),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x3887eb=_0x338e4c;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x4503a1=JSON['parse'](JSON['stringify'](currentQuizData));currentMode=_0x3887eb(0x8cf),currentStudentName=_0x3887eb(0x768),adminView[_0x3887eb(0x274)][_0x3887eb(0x2e7)](_0x3887eb(0x8c6)),studentView[_0x3887eb(0x274)][_0x3887eb(0x2da)](_0x3887eb(0x8c6)),studentInitialView[_0x3887eb(0x274)][_0x3887eb(0x2e7)]('hidden'),studentNameSelectionView['classList']['add'](_0x3887eb(0x8c6)),studentResultArea[_0x3887eb(0x274)]['add'](_0x3887eb(0x8c6)),studentQuizArea[_0x3887eb(0x274)][_0x3887eb(0x2da)](_0x3887eb(0x8c6)),quizStartTime=new Date(),displayQuizForStudent(_0x4503a1);}function handleResultDisplay(_0x1d92c4,_0x2b14ab,_0x4b13c6,_0x4494fa,_0x42e3d4,_0x35f635){const _0x15b0e1=_0x338e4c;if(_0x1d92c4===_0x15b0e1(0x365)){displaySubmissionConfirmation();return;}const _0x2c4bc8=currentDisplayedQuiz[_0x15b0e1(0x73c)]?.[_0x15b0e1(0x1a3)]??Math[_0x15b0e1(0x3bb)](_0x35f635/0x2),_0x291e8f=currentDisplayedQuiz[_0x15b0e1(0x73c)]?.[_0x15b0e1(0x2c1)]??![],_0x3df797=currentDisplayedQuiz[_0x15b0e1(0x73c)]?.[_0x15b0e1(0x45e)]===!![],_0xcfeac4=_0x2b14ab<_0x2c4bc8;if(_0x3df797&&_0xcfeac4){_0x1d92c4==='show_results_and_answers'?displayResultsWithAnswers(_0x2b14ab,_0x4b13c6,_0x4494fa,_0x42e3d4,_0x35f635,!![]):displayLoopScreen(_0x2b14ab,_0x35f635,_0x1d92c4);return;}if(_0x291e8f&&_0xcfeac4){startAdaptiveFlow(_0x42e3d4,_0x2b14ab,_0x35f635);return;}switch(_0x1d92c4){case _0x15b0e1(0x230):displayResultsWithAnswers(_0x2b14ab,_0x4b13c6,_0x4494fa,_0x42e3d4,_0x35f635);break;case _0x15b0e1(0x218):displayResultsScoreOnly(_0x2b14ab,_0x4b13c6,_0x4494fa,_0x35f635);break;case _0x15b0e1(0x4fb):displayPassFailOnly(_0x2b14ab,_0x35f635);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x380085){const _0x9eea76=_0x338e4c;studentReadingArea['innerHTML']=_0x9eea76(0x1e0);const _0x2f8342='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x380085+_0x9eea76(0x6a3)+simpleMathPrompt+_0x9eea76(0x374),_0x2e6a4b={'type':_0x9eea76(0x2db),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x9eea76(0x858)}},'correctAnswerIndex':{'type':_0x9eea76(0x540)},'explanation':{'type':_0x9eea76(0x858)}},'required':[_0x9eea76(0x66e),'options',_0x9eea76(0x248),_0x9eea76(0x188)]},_0x582b41={'type':_0x9eea76(0x2db),'properties':{'topic':{'type':_0x9eea76(0x858)},'questions':{'type':'ARRAY','items':_0x2e6a4b}},'required':[_0x9eea76(0x8af),'questions']};try{const _0x204330=await callAnalysisApi(_0x2f8342,_0x582b41);_0x204330[_0x9eea76(0x7a3)]=!![],studentReadingArea[_0x9eea76(0x274)][_0x9eea76(0x2e7)](_0x9eea76(0x8c6));const _0x5ca1a9={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x204330[_0x9eea76(0x73c)]=_0x5ca1a9,displayQuizForStudent(_0x204330);}catch(_0x2b1c2b){console[_0x9eea76(0x7ad)](_0x9eea76(0x79e),_0x2b1c2b),showMessage(_0x9eea76(0x210)),showView('student');}}function displayPassFailOnly(_0x5f4898,_0xc96c29){const _0x22a946=_0x338e4c,_0x530398=currentDisplayedQuiz[_0x22a946(0x73c)]?.[_0x22a946(0x1a3)]??-0x1,_0x492caf=currentDisplayedQuiz[_0x22a946(0x7a3)]===!![];let _0x541f18='';if(_0x492caf||_0x530398!==-0x1){let _0x1d2e58;_0x492caf?_0x1d2e58=_0x5f4898===_0xc96c29:_0x1d2e58=_0x5f4898>=_0x530398;const _0x5e4e00=_0x1d2e58?_0x22a946(0x2ff):_0x22a946(0x1d0),_0xc25514=_0x1d2e58?'ผ่าน':_0x22a946(0x594);_0x541f18='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x5e4e00+'\x22>'+_0xc25514+'</span></div>';}else _0x541f18=_0x22a946(0x856);let _0x39fcfa=_0x22a946(0x8b1)+currentStudentName+_0x22a946(0x466)+_0x541f18+_0x22a946(0x37f);studentResultArea[_0x22a946(0x57a)]=_0x39fcfa,studentResultArea[_0x22a946(0x274)][_0x22a946(0x2da)](_0x22a946(0x8c6)),studentQuizArea['classList'][_0x22a946(0x2e7)](_0x22a946(0x8c6));const _0x52b26f=_0x22a946(0x5af),_0x4204c5=currentMode==='admin-testing',_0x1ab7e4=_0x4204c5?_0x22a946(0x534):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x31a2d8=_0x22a946(0x513)+_0x52b26f+_0x22a946(0x51b)+_0x1ab7e4+_0x22a946(0x2dd);studentResultArea[_0x22a946(0x18f)](_0x22a946(0x7c8),_0x31a2d8),document[_0x22a946(0x683)](_0x52b26f)[_0x22a946(0x4aa)](_0x22a946(0x32a),()=>{const _0x550672=_0x22a946;_0x4204c5?(currentMode=_0x550672(0x286),studentView[_0x550672(0x274)][_0x550672(0x2e7)](_0x550672(0x8c6)),adminView[_0x550672(0x274)][_0x550672(0x2da)]('hidden'),showView('project-detail')):(showView(_0x550672(0x65f)),document[_0x550672(0x683)](_0x550672(0x251))['value']='');});}function cancelAdminTest(){const _0x19ac9d=_0x338e4c;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);exitFullscreen(),document[_0x19ac9d(0x2b1)](_0x19ac9d(0x819),handleFullscreenChange),document[_0x19ac9d(0x2b1)](_0x19ac9d(0x550),handleVisibilityChange),currentMode=_0x19ac9d(0x286),studentView[_0x19ac9d(0x274)][_0x19ac9d(0x2e7)]('hidden'),adminView[_0x19ac9d(0x274)]['remove']('hidden'),showView(_0x19ac9d(0x3e7));}function setupResultScreenBackButton(_0x590cac=![]){const _0x288726=_0x338e4c;if(_0x590cac){const _0x199571='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x288726(0x18f)](_0x288726(0x7c8),_0x199571),document['getElementById'](_0x288726(0x500))['addEventListener']('click',()=>{const _0x2ac156=_0x288726;studentResultArea[_0x2ac156(0x274)][_0x2ac156(0x2e7)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3af56c=_0x288726(0x5af),_0x5b84dc=currentMode==='admin-testing',_0x15d30c=_0x5b84dc?_0x288726(0x534):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x587692=_0x288726(0x381)+_0x3af56c+_0x288726(0x4d2)+_0x15d30c+_0x288726(0x49a);studentResultArea[_0x288726(0x18f)](_0x288726(0x7c8),_0x587692),studentResultArea[_0x288726(0x26a)](_0x288726(0x59a))['addEventListener']('click',handleShowStudentRankings),document[_0x288726(0x683)](_0x3af56c)['addEventListener']('click',()=>{const _0x44f723=_0x288726;_0x5b84dc?(currentMode='admin',studentView[_0x44f723(0x274)][_0x44f723(0x2e7)]('hidden'),adminView[_0x44f723(0x274)][_0x44f723(0x2da)](_0x44f723(0x8c6)),showView(_0x44f723(0x3e7))):(showView(_0x44f723(0x65f)),document['getElementById'](_0x44f723(0x251))[_0x44f723(0x1e4)]='');});}function displayResultsWithAnswers(_0x254ff9,_0x5312aa,_0x519a18,_0x5ec565,_0x5ce95a,_0x19c29d=![]){const _0x4df4d9=_0x338e4c,_0x25f7b0=_0x5ce95a>0x0?_0x254ff9/_0x5ce95a*0x64:0x0,_0x5b8868=currentDisplayedQuiz[_0x4df4d9(0x73c)]?.[_0x4df4d9(0x1a3)]??-0x1,_0x3a22cf=currentDisplayedQuiz[_0x4df4d9(0x7a3)]===!![];let _0x3a598b='';if(_0x3a22cf||_0x5b8868!==-0x1){let _0x3110da=_0x3a22cf?_0x254ff9===_0x5ce95a:_0x254ff9>=_0x5b8868;const _0x49171b=_0x3110da?'bg-green-100\x20text-green-800':_0x4df4d9(0x1d0),_0x47c600=_0x3110da?_0x4df4d9(0x6a4):_0x4df4d9(0x594);_0x3a598b=_0x4df4d9(0x801)+_0x49171b+'\x22>'+_0x47c600+'</p>';}let _0x47dfc5=_0x4df4d9(0x476)+currentStudentName+_0x4df4d9(0x31d)+_0x254ff9+_0x4df4d9(0x6e2)+_0x5ce95a+_0x4df4d9(0x552)+_0x3a598b+_0x4df4d9(0x7b1)+_0x5312aa+_0x4df4d9(0x3e3)+_0x25f7b0[_0x4df4d9(0x7f5)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x4df4d9(0x543)]['forEach']((_0x3b39a9,_0x115f49)=>{const _0xd001a1=_0x4df4d9,_0x5e07df=_0x5ec565[_0x115f49],_0x1e1fd2=_0x5e07df[_0xd001a1(0x5ea)],_0x625a9a=_0x5e07df[_0xd001a1(0x4c5)],_0x5310e5=_0x3b39a9[_0xd001a1(0x878)]||currentDisplayedQuiz[_0xd001a1(0x4ad)];_0x47dfc5+=_0xd001a1(0x3ee)+(_0x625a9a?_0xd001a1(0x7ef):_0xd001a1(0x3b8))+_0xd001a1(0x242)+(_0x115f49+0x1)+'.\x20'+(_0x3b39a9[_0xd001a1(0x2de)]||_0x3b39a9[_0xd001a1(0x66e)])+_0xd001a1(0x759);switch(_0x5310e5){case _0xd001a1(0x526):const _0x26c20f=_0x1e1fd2||_0xd001a1(0x2e2),_0x14a3dc=_0x3b39a9[_0xd001a1(0x328)];_0x47dfc5+=_0xd001a1(0x216)+(!_0x625a9a?_0xd001a1(0x4d3):'')+'\x22>'+_0x26c20f+_0xd001a1(0x7b8);!_0x625a9a&&(_0x47dfc5+=_0xd001a1(0x864)+_0x14a3dc+_0xd001a1(0x73d));break;case _0xd001a1(0x81d):_0x47dfc5+=_0xd001a1(0x861)+(_0x1e1fd2||_0xd001a1(0x2e2))+_0xd001a1(0x73d),_0x47dfc5+=_0xd001a1(0x839)+_0x3b39a9[_0xd001a1(0x4f0)]+_0xd001a1(0x73d);break;case _0xd001a1(0x743):_0x47dfc5+=_0xd001a1(0x8e6)+(_0x3b39a9[_0xd001a1(0x2b0)]===!![]?_0xd001a1(0x753):'')+'\x20'+(_0x1e1fd2===_0xd001a1(0x865)&&!_0x625a9a?_0xd001a1(0x4d3):'')+_0xd001a1(0x55b),_0x47dfc5+=_0xd001a1(0x8e6)+(_0x3b39a9[_0xd001a1(0x2b0)]===![]?_0xd001a1(0x753):'')+'\x20'+(_0x1e1fd2===_0xd001a1(0x7b9)&&!_0x625a9a?_0xd001a1(0x4d3):'')+_0xd001a1(0x7df);break;default:_0x47dfc5+=_0x3b39a9['options'][_0xd001a1(0x5a8)]((_0x5f5d64,_0x3d4d7d)=>{const _0x279ebc=_0xd001a1;let _0x25d33e='',_0x8a5d66='';if(_0x3d4d7d===_0x3b39a9[_0x279ebc(0x248)])_0x25d33e=_0x279ebc(0x753),_0x8a5d66=_0x279ebc(0x433);else _0x3d4d7d===_0x1e1fd2&&(_0x25d33e=_0x279ebc(0x21b),_0x8a5d66='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x279ebc(0x87e)+_0x25d33e+'\x22>'+_0x8a5d66+_0x5f5d64+_0x279ebc(0x1e9);})[_0xd001a1(0x8dc)]('');break;}_0x47dfc5+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x3b39a9['explanation']||_0xd001a1(0x373))+_0xd001a1(0x1e9);if(!_0x625a9a){const _0x5cb8fb=_0x3b39a9[_0xd001a1(0x2de)]||_0x3b39a9[_0xd001a1(0x66e)];_0x47dfc5+=_0xd001a1(0x82b)+escape(_0x5cb8fb)+_0xd001a1(0x5bb);}_0x47dfc5+=_0xd001a1(0x1e9);}),studentResultArea[_0x4df4d9(0x57a)]=_0x47dfc5,renderEarnedBadges(_0x519a18,_0x4df4d9(0x892)),studentResultArea['classList']['remove'](_0x4df4d9(0x8c6)),studentQuizArea[_0x4df4d9(0x274)][_0x4df4d9(0x2e7)]('hidden'),setupResultScreenBackButton(_0x19c29d);if(window['MathJax'])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x517090,_0x417ee8,_0x1b6c98,_0x52965a){const _0x3b15f3=_0x338e4c,_0x52dea2=_0x52965a>0x0?_0x517090/_0x52965a*0x64:0x0,_0x32290b=currentDisplayedQuiz['settings']?.[_0x3b15f3(0x1a3)]??-0x1,_0x37d360=currentDisplayedQuiz[_0x3b15f3(0x7a3)]===!![];let _0x1d0ca5='';if(_0x37d360||_0x32290b!==-0x1){let _0x30bc6a;_0x37d360?_0x30bc6a=_0x517090===_0x52965a:_0x30bc6a=_0x517090>=_0x32290b;const _0x332c5e=_0x30bc6a?_0x3b15f3(0x2ff):_0x3b15f3(0x1d0),_0x45a54c=_0x30bc6a?'ผ่าน':_0x3b15f3(0x594);_0x1d0ca5=_0x3b15f3(0x801)+_0x332c5e+'\x22>'+_0x45a54c+_0x3b15f3(0x73d);}let _0x4016c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x3b15f3(0x1c0)+_0x517090+_0x3b15f3(0x1b5)+_0x52965a+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d0ca5+_0x3b15f3(0x7b1)+_0x417ee8+_0x3b15f3(0x2bd)+_0x52dea2[_0x3b15f3(0x7f5)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3b15f3(0x57a)]=_0x4016c5,renderEarnedBadges(_0x1b6c98,'earned-badges-container'),studentResultArea['classList'][_0x3b15f3(0x2da)]('hidden'),studentQuizArea[_0x3b15f3(0x274)][_0x3b15f3(0x2e7)](_0x3b15f3(0x8c6)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x17111c=_0x338e4c;let _0x14ddc2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x17111c(0x57a)]=_0x14ddc2,studentResultArea[_0x17111c(0x274)][_0x17111c(0x2da)](_0x17111c(0x8c6)),studentQuizArea[_0x17111c(0x274)]['add'](_0x17111c(0x8c6)),document[_0x17111c(0x683)](_0x17111c(0x20e))['addEventListener']('click',()=>{const _0x33e209=_0x17111c;showView(_0x33e209(0x65f)),document['getElementById'](_0x33e209(0x251))[_0x33e209(0x1e4)]='';});}function renderEarnedBadges(_0x151262,_0x18748c){const _0x165026=_0x338e4c,_0x246a08=document[_0x165026(0x683)](_0x18748c);if(!_0x246a08||!_0x151262||_0x151262[_0x165026(0x7c4)]===0x0)return;let _0x284531='';_0x151262[_0x165026(0x630)]((_0x2b0784,_0x310c48)=>{const _0x17fc8c=_0x165026,_0x1fad38=Object[_0x17fc8c(0x1ff)](BADGES)[_0x17fc8c(0x337)](_0x4dd68c=>_0x4dd68c['id']===_0x2b0784);_0x1fad38&&(_0x284531+=_0x17fc8c(0x4db)+_0x310c48*0.2+_0x17fc8c(0x67a)+_0x1fad38[_0x17fc8c(0x388)]+_0x17fc8c(0x196)+_0x1fad38['icon']+_0x17fc8c(0x75d)+_0x1fad38[_0x17fc8c(0x289)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x246a08[_0x165026(0x57a)]=_0x284531;}function startPresentation(_0x1155c0){const _0x1e8166=_0x338e4c;currentQuizData=getShuffledQuiz(_0x1155c0),currentPresentationSlide=0x0,presentationModal[_0x1e8166(0x3fc)][_0x1e8166(0x7b6)]=_0x1e8166(0x5ba),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x75802c=_0x338e4c;document[_0x75802c(0x52f)]&&document[_0x75802c(0x3c1)](),presentationModal[_0x75802c(0x3fc)][_0x75802c(0x7b6)]='none';}function renderPresentationSlide(_0x2461a6){const _0x35853a=_0x338e4c,_0x29aaf5=document['getElementById'](_0x35853a(0x8a1));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x35853a(0x543)][_0x2461a6]){_0x29aaf5['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x2861f3=currentQuizData['questions'][_0x2461a6],_0xe2c96c=_0x2861f3['questionType']||currentQuizData[_0x35853a(0x4ad)];_0x29aaf5[_0x35853a(0x57a)]='';let _0x2b873b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2861f3['imageCode']?_0x35853a(0x1e5)+_0x2861f3[_0x35853a(0x45c)]+_0x35853a(0x1e9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x2461a6+0x1)+'.\x20'+(_0x2861f3[_0x35853a(0x2de)]||_0x2861f3[_0x35853a(0x66e)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xe2c96c){case'matching_item':_0x2b873b+=_0x2861f3['allResponses'][_0x35853a(0x5a8)](_0x303f64=>_0x35853a(0x6da)+_0x303f64+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35853a(0x8dc)]('');break;case'true_false':_0x2b873b+=_0x35853a(0x1a0),_0x2b873b+=_0x35853a(0x2be);break;case'fill_in_no_choices':case _0x35853a(0x81d):_0x2b873b+=_0x35853a(0x8a6);break;case _0x35853a(0x3cf):case _0x35853a(0x41d):default:_0x2b873b+=_0x2861f3[_0x35853a(0x4a4)][_0x35853a(0x5a8)]((_0x2316ac,_0x35e905)=>_0x35853a(0x3fe)+_0x35e905+_0x35853a(0x786)+_0x2316ac+_0x35853a(0x598))[_0x35853a(0x8dc)]('');break;}_0x2b873b+=_0x35853a(0x22c)+(_0x2861f3[_0x35853a(0x188)]||_0x35853a(0x373))+_0x35853a(0x4df),_0x29aaf5[_0x35853a(0x57a)]=_0x2b873b;if(window['MathJax'])window['MathJax'][_0x35853a(0x190)]([_0x29aaf5]);document[_0x35853a(0x51a)](_0x35853a(0x47e))[_0x35853a(0x630)](_0xe07364=>{const _0xbc81f7=_0x35853a;_0xe07364[_0xbc81f7(0x4aa)](_0xbc81f7(0x32a),_0x23ee29=>revealAnswerForPresentation(_0x2461a6,_0x23ee29[_0xbc81f7(0x8ee)]));});const _0x43f0ca=document[_0x35853a(0x683)]('check-presentation-answer-btn');_0x43f0ca&&_0x43f0ca[_0x35853a(0x4aa)](_0x35853a(0x32a),()=>checkShortAnswerForPresentation(_0x2461a6)),document[_0x35853a(0x683)](_0x35853a(0x622))[_0x35853a(0x603)]=_0x35853a(0x56a)+(_0x2461a6+0x1)+_0x35853a(0x827)+currentQuizData[_0x35853a(0x543)][_0x35853a(0x7c4)],document[_0x35853a(0x683)](_0x35853a(0x4a7))[_0x35853a(0x442)]=_0x2461a6===0x0,document[_0x35853a(0x683)](_0x35853a(0x6bc))[_0x35853a(0x442)]=_0x2461a6===currentQuizData[_0x35853a(0x543)][_0x35853a(0x7c4)]-0x1;}async function checkShortAnswerForPresentation(_0x330e5c){const _0x58d13b=_0x338e4c,_0x43837c=currentQuizData[_0x58d13b(0x543)][_0x330e5c],_0x4f1703=document[_0x58d13b(0x683)](_0x58d13b(0x3f2)),_0x37517a=document[_0x58d13b(0x683)]('check-presentation-answer-btn'),_0x5c9410=document[_0x58d13b(0x683)]('presentation-ai-result'),_0x1fca61=document[_0x58d13b(0x683)](_0x58d13b(0x71e));if(!_0x4f1703||!_0x37517a||!_0x5c9410||!_0x1fca61)return;const _0x58d35e=_0x4f1703[_0x58d13b(0x1e4)][_0x58d13b(0x369)]();if(_0x58d35e==='')return;_0x37517a[_0x58d13b(0x442)]=!![],_0x37517a[_0x58d13b(0x57a)]=_0x58d13b(0x6e5),_0x4f1703[_0x58d13b(0x442)]=!![];const _0x279b2c=await gradeShortAnswer(_0x58d35e,_0x43837c);_0x279b2c?_0x5c9410[_0x58d13b(0x57a)]=_0x58d13b(0x23d):_0x5c9410['innerHTML']=_0x58d13b(0x5c6)+_0x43837c[_0x58d13b(0x4f0)]+')',_0x5c9410[_0x58d13b(0x274)]['remove']('hidden'),_0x1fca61[_0x58d13b(0x274)][_0x58d13b(0x2da)](_0x58d13b(0x8c6)),_0x37517a[_0x58d13b(0x274)][_0x58d13b(0x2e7)](_0x58d13b(0x8c6));}function revealAnswerForPresentation(_0x186da7,_0x1af444){const _0xa7b97e=_0x338e4c,_0x592478=currentQuizData['questions'][_0x186da7],_0x511a92=_0x592478[_0xa7b97e(0x878)]||currentQuizData[_0xa7b97e(0x4ad)];document[_0xa7b97e(0x51a)](_0xa7b97e(0x47e))[_0xa7b97e(0x630)](_0x54094a=>{const _0x252120=_0xa7b97e;_0x54094a[_0x252120(0x442)]=!![],_0x54094a[_0x252120(0x274)][_0x252120(0x2da)]('hover:bg-indigo-100');let _0x5a2a2e=![];if(_0x511a92==='multiple_choice'||_0x511a92===_0x252120(0x3cf)){const _0x351f0c=parseInt(_0x54094a['dataset'][_0x252120(0x806)]);_0x5a2a2e=_0x351f0c===_0x592478[_0x252120(0x248)];}else{if(_0x511a92===_0x252120(0x743)){const _0x247992=_0x54094a[_0x252120(0x432)][_0x252120(0x5ea)]===_0x252120(0x865);_0x5a2a2e=_0x247992===_0x592478[_0x252120(0x2b0)];}else _0x511a92===_0x252120(0x526)&&(_0x5a2a2e=_0x54094a['textContent'][_0x252120(0x369)]()===_0x592478[_0x252120(0x328)]);}_0x5a2a2e?_0x54094a[_0x252120(0x274)]['add'](_0x252120(0x30c),_0x252120(0x43c),_0x252120(0x2d3)):_0x54094a[_0x252120(0x274)][_0x252120(0x2e7)](_0x252120(0x6e6));}),_0x1af444[_0xa7b97e(0x274)][_0xa7b97e(0x2da)](_0xa7b97e(0x6e6));let _0x3b9960=![];if(_0x511a92===_0xa7b97e(0x41d))_0x3b9960=parseInt(_0x1af444[_0xa7b97e(0x432)]['index'])===_0x592478[_0xa7b97e(0x248)];else{if(_0x511a92===_0xa7b97e(0x743))_0x3b9960=_0x1af444[_0xa7b97e(0x432)][_0xa7b97e(0x5ea)]==='true'===_0x592478[_0xa7b97e(0x2b0)];else _0x511a92==='matching_item'&&(_0x3b9960=_0x1af444[_0xa7b97e(0x603)][_0xa7b97e(0x369)]()===_0x592478['correctResponse']);}!_0x3b9960&&_0x1af444['classList'][_0xa7b97e(0x2e7)](_0xa7b97e(0x491),_0xa7b97e(0x43c),'border-red-700'),document[_0xa7b97e(0x683)]('presentation-explanation')[_0xa7b97e(0x274)][_0xa7b97e(0x2da)](_0xa7b97e(0x8c6));}function startWholeQuizTimer(_0x974213){const _0x1376a6=_0x338e4c,_0x1e8b34=document[_0x1376a6(0x683)](_0x1376a6(0x69e));if(!_0x1e8b34)return;const _0x3a56bc=Date[_0x1376a6(0x3d1)]()+_0x974213*0x3c*0x3e8;_0x1e8b34[_0x1376a6(0x57a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1df585=document[_0x1376a6(0x683)](_0x1376a6(0x3b9));quizTimerInterval=setInterval(()=>{const _0x2411f1=_0x1376a6,_0x34786b=_0x3a56bc-Date[_0x2411f1(0x3d1)]();if(_0x34786b<=0x0)clearInterval(quizTimerInterval),_0x1df585[_0x2411f1(0x603)]=_0x2411f1(0x506),showMessage(_0x2411f1(0x60e)),handleSubmitQuiz(null);else{const _0x159762=Math[_0x2411f1(0x3bb)](_0x34786b/0x3e8/0x3c%0x3c)[_0x2411f1(0x777)]()[_0x2411f1(0x539)](0x2,'0'),_0xc38336=Math[_0x2411f1(0x3bb)](_0x34786b/0x3e8%0x3c)[_0x2411f1(0x777)]()[_0x2411f1(0x539)](0x2,'0');_0x1df585[_0x2411f1(0x603)]=_0x159762+':'+_0xc38336;}},0x3e8);}function renderPerQuestionView(){const _0x3c13a6=_0x338e4c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3cf747=currentDisplayedQuiz[_0x3c13a6(0x543)][currentQuestionIndex],_0x571722=_0x3cf747['questionType']||currentDisplayedQuiz['quizType'];let _0x95607f=_0x3c13a6(0x730)+(currentQuestionIndex+0x1)+_0x3c13a6(0x3cc)+currentDisplayedQuiz[_0x3c13a6(0x543)]['length']+_0x3c13a6(0x842)+(currentMode===_0x3c13a6(0x8cf)?_0x3c13a6(0x269):'')+_0x3c13a6(0x885)+currentDisplayedQuiz[_0x3c13a6(0x8af)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x3c13a6(0x7c4)]-0x1?_0x3c13a6(0x740):_0x3c13a6(0x3e0))+_0x3c13a6(0x83b);studentQuizArea[_0x3c13a6(0x57a)]=_0x95607f;let _0x215292='',_0x16a923='';switch(_0x571722){case _0x3c13a6(0x526):_0x215292=currentQuestionIndex+0x1+'.\x20'+_0x3cf747[_0x3c13a6(0x2de)],_0x16a923=_0x3c13a6(0x8d7)+_0x3cf747[_0x3c13a6(0x5a6)][_0x3c13a6(0x5a8)](_0x1da12d=>_0x3c13a6(0x175)+_0x1da12d+'\x22>'+_0x1da12d+_0x3c13a6(0x207))[_0x3c13a6(0x8dc)]('')+_0x3c13a6(0x773);break;case _0x3c13a6(0x743):_0x215292=currentQuestionIndex+0x1+'.\x20'+_0x3cf747[_0x3c13a6(0x66e)],_0x16a923=_0x3c13a6(0x729);break;case _0x3c13a6(0x81d):case _0x3c13a6(0x53b):_0x215292=currentQuestionIndex+0x1+'.\x20'+_0x3cf747['questionText'],_0x16a923='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x3c13a6(0x41d):case _0x3c13a6(0x5f0):default:_0x215292=currentQuestionIndex+0x1+'.\x20'+_0x3cf747[_0x3c13a6(0x66e)],_0x16a923=_0x3cf747[_0x3c13a6(0x4a4)]['map']((_0x1251d0,_0x3da962)=>_0x3c13a6(0x4ba)+_0x3da962+_0x3c13a6(0x58a)+_0x3da962+_0x3c13a6(0x6cf)+_0x3da962+'\x22>'+_0x1251d0+_0x3c13a6(0x2f8))[_0x3c13a6(0x8dc)]('');break;}_0x3cf747[_0x3c13a6(0x45c)]&&(_0x215292+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3cf747['imageCode']+_0x3c13a6(0x1e9));document[_0x3c13a6(0x683)](_0x3c13a6(0x2aa))[_0x3c13a6(0x57a)]=_0x215292,document[_0x3c13a6(0x683)](_0x3c13a6(0x4ae))[_0x3c13a6(0x57a)]=_0x16a923;if(currentMode===_0x3c13a6(0x8cf)){const _0x20dacc=document[_0x3c13a6(0x683)]('cancel-test-btn');if(_0x20dacc)_0x20dacc[_0x3c13a6(0x4aa)](_0x3c13a6(0x32a),cancelAdminTest);}document[_0x3c13a6(0x683)](_0x3c13a6(0x632))[_0x3c13a6(0x4aa)](_0x3c13a6(0x32a),()=>handleNextQuestionInTimedMode(![]));if(window[_0x3c13a6(0x56d)])window['MathJax'][_0x3c13a6(0x190)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x31de57=_0x338e4c,_0x15513c=currentDisplayedQuiz[_0x31de57(0x73c)][_0x31de57(0x238)],_0x1e2598=document['getElementById'](_0x31de57(0x327));if(!_0x1e2598)return;let _0x357eda=_0x15513c;_0x1e2598['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x357eda+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3b8160=document[_0x31de57(0x683)]('timer-bar'),_0x5cf7e3=document[_0x31de57(0x683)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x297493=_0x31de57;_0x357eda--;const _0x13b149=_0x357eda/_0x15513c*0x64;_0x3b8160['style'][_0x297493(0x304)]=_0x13b149+'%',_0x5cf7e3[_0x297493(0x603)]=_0x357eda,_0x357eda<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x297493(0x284)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x41a24e=![]){const _0x4967aa=_0x338e4c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x55fcd7=null;if(!_0x41a24e){const _0x3cd51f=currentDisplayedQuiz[_0x4967aa(0x543)][currentQuestionIndex],_0x428553=_0x3cd51f[_0x4967aa(0x878)]||currentDisplayedQuiz['quizType'];if(_0x428553===_0x4967aa(0x81d)||_0x428553===_0x4967aa(0x53b)){const _0x48e081=document[_0x4967aa(0x26a)](_0x4967aa(0x756));_0x55fcd7=_0x48e081?_0x48e081['value'][_0x4967aa(0x369)]():'';}else{if(_0x428553===_0x4967aa(0x526)){const _0x1e0d46=document[_0x4967aa(0x26a)](_0x4967aa(0x6b0));_0x55fcd7=_0x1e0d46?_0x1e0d46[_0x4967aa(0x1e4)]:'';}else{const _0x2ae901=document[_0x4967aa(0x26a)](_0x4967aa(0x2ca));if(_0x2ae901){const _0x5b3bf1=_0x2ae901[_0x4967aa(0x1e4)];_0x55fcd7=!isNaN(parseInt(_0x5b3bf1,0xa))&&_0x5b3bf1[_0x4967aa(0x369)]()!==''?parseInt(_0x5b3bf1,0xa):_0x5b3bf1;}}}}studentAnswersPerQuestion[_0x4967aa(0x76d)](_0x55fcd7),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4967aa(0x543)][_0x4967aa(0x7c4)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0xd2cbd3=_0x338e4c,_0x335250=currentDisplayedQuiz[_0xd2cbd3(0x543)][_0xd2cbd3(0x5a7)](_0xacc8a0=>_0xacc8a0[_0xd2cbd3(0x878)]===_0xd2cbd3(0x81d));_0x335250?showMessage(_0xd2cbd3(0x208)):showMessage(_0xd2cbd3(0x1bb));const _0x296b2d=currentQuizData['id'],_0x2064ba=doc(db,_0xd2cbd3(0x79b)+appId+_0xd2cbd3(0x649)+_0x296b2d+_0xd2cbd3(0x287),currentStudentName),_0x800e82=await getDoc(_0x2064ba),_0xff1ce5=_0x800e82[_0xd2cbd3(0x837)]()?_0x800e82[_0xd2cbd3(0x7e6)]():{},_0xa68248=_0xff1ce5['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xa68248);}function getResultsFilename(){const _0x4130ed=_0x338e4c,_0x51b5f6=document[_0x4130ed(0x683)](_0x4130ed(0x174))[_0x4130ed(0x603)][_0x4130ed(0x631)](/[^a-z0-9]/gi,'_')[_0x4130ed(0x797)]();return'results_'+(_0x51b5f6||_0x4130ed(0x7a6));}function exportResultsAsImage(){const _0x5d8427=_0x338e4c,_0x330ef5=document['getElementById'](_0x5d8427(0x34f));showMessage(_0x5d8427(0x253)),html2canvas(_0x330ef5)[_0x5d8427(0x74d)](_0x2e7b1b=>{const _0x2226a9=_0x5d8427,_0xf07976=document[_0x2226a9(0x556)]('a');_0xf07976[_0x2226a9(0x68b)]=getResultsFilename()+_0x2226a9(0x1ad),_0xf07976[_0x2226a9(0x8b2)]=_0x2e7b1b[_0x2226a9(0x89c)](_0x2226a9(0x31b)),_0xf07976[_0x2226a9(0x32a)](),messageModal[_0x2226a9(0x274)]['add']('hidden');});}function exportResultsAsPDF(){const _0x19aac6=_0x338e4c,{jsPDF:_0x32eaa1}=window[_0x19aac6(0x37d)],_0x4fc431=new _0x32eaa1();_0x4fc431[_0x19aac6(0x293)]('helvetica',_0x19aac6(0x669)),_0x4fc431[_0x19aac6(0x39d)]({'html':_0x19aac6(0x7c5)}),_0x4fc431[_0x19aac6(0x843)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x38db2d=_0x338e4c,_0x1981e4=_0x38db2d(0x81b)+_0x38db2d(0x6de)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x38db2d(0x542),_0x40bfa7='</body></html>',_0x18e685=_0x1981e4+document[_0x38db2d(0x683)](_0x38db2d(0x34f))[_0x38db2d(0x57a)]+_0x40bfa7,_0x52b656=_0x38db2d(0x51c)+encodeURIComponent(_0x18e685),_0x199664=document['createElement']('a');document[_0x38db2d(0x5cb)]['appendChild'](_0x199664),_0x199664[_0x38db2d(0x8b2)]=_0x52b656,_0x199664[_0x38db2d(0x68b)]=getResultsFilename()+_0x38db2d(0x1eb),_0x199664[_0x38db2d(0x32a)](),document['body'][_0x38db2d(0x7eb)](_0x199664);}function exportResultsAsExcel(){const _0x58d2f0=_0x338e4c,_0xd7ba0=document[_0x58d2f0(0x683)](_0x58d2f0(0x88c));let _0xc509f4=[];for(let _0x54da84=0x0;_0x54da84<_0xd7ba0[_0x58d2f0(0x6dc)][_0x58d2f0(0x7c4)];_0x54da84++){let _0x1819e2=[],_0x567138=_0xd7ba0[_0x58d2f0(0x6dc)][_0x54da84][_0x58d2f0(0x51a)](_0x58d2f0(0x734));for(let _0x55593d=0x0;_0x55593d<_0x567138[_0x58d2f0(0x7c4)];_0x55593d++){_0x1819e2[_0x58d2f0(0x76d)]('\x22'+_0x567138[_0x55593d][_0x58d2f0(0x34a)]['replace'](/"/g,'\x22\x22')+'\x22');}_0xc509f4[_0x58d2f0(0x76d)](_0x1819e2[_0x58d2f0(0x8dc)](','));}const _0x2120ab=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xc509f4[_0x58d2f0(0x8dc)]('\x0a')],{'type':_0x58d2f0(0x57e)}),_0x4c860f=document[_0x58d2f0(0x556)]('a');_0x4c860f[_0x58d2f0(0x8b2)]=URL[_0x58d2f0(0x4cd)](_0x2120ab),_0x4c860f[_0x58d2f0(0x68b)]=getResultsFilename()+_0x58d2f0(0x725),_0x4c860f[_0x58d2f0(0x32a)]();}function exportTableAsImage(_0x5c7101,_0x223ba2){const _0x4099bb=_0x338e4c,_0x39cb53=document[_0x4099bb(0x683)](_0x5c7101);if(!_0x39cb53){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x39cb53)[_0x4099bb(0x74d)](_0x2c24ed=>{const _0x58d744=_0x4099bb,_0x557c3f=document[_0x58d744(0x556)]('a');_0x557c3f[_0x58d744(0x68b)]=_0x223ba2+'.png',_0x557c3f[_0x58d744(0x8b2)]=_0x2c24ed[_0x58d744(0x89c)](_0x58d744(0x31b)),_0x557c3f[_0x58d744(0x32a)](),messageModal[_0x58d744(0x274)][_0x58d744(0x2e7)](_0x58d744(0x8c6));});}function exportTableAsPDF(_0x1fdb4b,_0x33e154){const _0x4d8d54=_0x338e4c,{jsPDF:_0x40a41a}=window[_0x4d8d54(0x37d)],_0x23739b=new _0x40a41a();_0x23739b['setFont']('helvetica','normal'),_0x23739b[_0x4d8d54(0x39d)]({'html':'#'+_0x1fdb4b}),_0x23739b['save'](_0x33e154+'.pdf');}function exportTableAsWord(_0x4caa29,_0x394558){const _0x1b4357=_0x338e4c,_0xaa7ff7=document['getElementById'](_0x4caa29);if(!_0xaa7ff7){showMessage(_0x1b4357(0x666));return;}const _0x81cf50=_0x1b4357(0x81b)+_0x1b4357(0x6de)+_0x1b4357(0x50d)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x418d87=_0x1b4357(0x691),_0x218b78=_0x81cf50+_0xaa7ff7[_0x1b4357(0x57a)]+_0x418d87,_0x48274a=_0x1b4357(0x51c)+encodeURIComponent(_0x218b78),_0x4d0867=document[_0x1b4357(0x556)]('a');document['body'][_0x1b4357(0x295)](_0x4d0867),_0x4d0867['href']=_0x48274a,_0x4d0867[_0x1b4357(0x68b)]=_0x394558+_0x1b4357(0x1eb),_0x4d0867[_0x1b4357(0x32a)](),document[_0x1b4357(0x5cb)][_0x1b4357(0x7eb)](_0x4d0867);}function exportTableAsExcel(_0x5930cf,_0x148ff5){const _0x48de74=_0x338e4c,_0x5f35eb=document[_0x48de74(0x683)](_0x5930cf);if(!_0x5f35eb){showMessage(_0x48de74(0x666));return;}let _0x1294bc=[];for(let _0x243f0e=0x0;_0x243f0e<_0x5f35eb['rows']['length'];_0x243f0e++){let _0x24f07a=[],_0x46f1dc=_0x5f35eb[_0x48de74(0x6dc)][_0x243f0e][_0x48de74(0x51a)]('td,\x20th');for(let _0xc429f9=0x0;_0xc429f9<_0x46f1dc[_0x48de74(0x7c4)];_0xc429f9++){_0x24f07a['push']('\x22'+_0x46f1dc[_0xc429f9][_0x48de74(0x34a)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x1294bc[_0x48de74(0x76d)](_0x24f07a[_0x48de74(0x8dc)](','));}const _0x49cedd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1294bc[_0x48de74(0x8dc)]('\x0a')],{'type':_0x48de74(0x57e)}),_0x402299=document[_0x48de74(0x556)]('a');_0x402299[_0x48de74(0x8b2)]=URL[_0x48de74(0x4cd)](_0x49cedd),_0x402299[_0x48de74(0x68b)]=_0x148ff5+_0x48de74(0x725),_0x402299[_0x48de74(0x32a)]();}function renderAnalytics(_0x3be28c,_0x58969d){const _0x502c31=_0x338e4c,_0x3f1f1d=currentProjectData[_0x502c31(0x203)][_0x502c31(0x7c4)],_0x1d0b1b=_0x58969d['length'],_0x16ea17=_0x3f1f1d-_0x1d0b1b,_0xd5067b=_0x3f1f1d>0x0?_0x1d0b1b/_0x3f1f1d*0x64:0x0,_0x41ba96=_0x58969d[_0x502c31(0x5a8)](_0x16b793=>_0x16b793[_0x502c31(0x541)]),_0x462b0d=_0x41ba96['length']>0x0?_0x41ba96['reduce']((_0x3c56a6,_0x3912d2)=>_0x3c56a6+_0x3912d2,0x0)/_0x41ba96[_0x502c31(0x7c4)]:0x0,_0x56d967=_0x3be28c[_0x502c31(0x543)]['length'],_0x2cb6e6=_0x56d967>0x0?_0x462b0d/_0x56d967*0x64:0x0,_0xad72ef=calculateItemAnalysis(_0x3be28c,_0x58969d),_0x619f4a=calculateReliabilityKR20(_0x3be28c,_0x58969d,_0xad72ef[_0x502c31(0x29c)]);let _0x3d03a5='';if(_0x619f4a!==null){let _0x13fbb5='';if(_0x619f4a>=0.9)_0x13fbb5=_0x502c31(0x259);else{if(_0x619f4a>=0.8)_0x13fbb5=_0x502c31(0x4b3);else{if(_0x619f4a>=0.7)_0x13fbb5='ดี';else{if(_0x619f4a>=0.6)_0x13fbb5=_0x502c31(0x330);else _0x13fbb5=_0x502c31(0x533);}}}_0x3d03a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x619f4a[_0x502c31(0x7f5)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x13fbb5+_0x502c31(0x232);}const _0x31fbf6=document[_0x502c31(0x683)](_0x502c31(0x41b));_0x31fbf6[_0x502c31(0x57a)]=_0x502c31(0x65c)+_0xd5067b[_0x502c31(0x7f5)](0x0)+_0x502c31(0x5f6)+_0x1d0b1b+'/'+_0x3f1f1d+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x462b0d[_0x502c31(0x7f5)](0x2)+_0x502c31(0x7af)+_0x2cb6e6[_0x502c31(0x7f5)](0x0)+_0x502c31(0x2ab)+(_0x41ba96[_0x502c31(0x7c4)]>0x0?Math['max'](..._0x41ba96):'N/A')+_0x502c31(0x2a3)+(_0x41ba96[_0x502c31(0x7c4)]>0x0?Math[_0x502c31(0x184)](..._0x41ba96):_0x502c31(0x8f4))+_0x502c31(0x231)+_0x3d03a5+_0x502c31(0x374);const _0x472fe8=document['getElementById'](_0x502c31(0x1da));_0x472fe8&&_0x472fe8[_0x502c31(0x2da)]();const _0x31dc97='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x31fbf6[_0x502c31(0x18f)](_0x502c31(0x1bc),_0x31dc97);const _0x3f3a95=currentProjectData['students']||[];renderSubmissionChart(_0x1d0b1b,_0x16ea17,_0x58969d,_0x3f3a95),renderScoreDistributionChart(_0x58969d,_0x56d967),renderQuestionAnalytics(_0x3be28c,_0x58969d,_0x3f3a95),renderInterestingStats(_0x3be28c,_0x58969d);}async function handleExportLessonPDF(){const _0x58b648=_0x338e4c,_0x1ef29d=document[_0x58b648(0x683)](_0x58b648(0x720)),_0x12dd38=document[_0x58b648(0x683)]('lesson-plan-title')[_0x58b648(0x603)],_0x49ac3c=window[_0x58b648(0x39c)]('',_0x58b648(0x441)),_0x249492=_0x58b648(0x64b)+_0x12dd38+_0x58b648(0x502)+_0x1ef29d['innerHTML']+_0x58b648(0x159);_0x49ac3c[_0x58b648(0x490)][_0x58b648(0x17c)](_0x249492),_0x49ac3c['document']['close'](),_0x49ac3c[_0x58b648(0x189)]=function(){setTimeout(()=>{_0x49ac3c['print']();},0x5dc);};}function renderInterestingStats(_0x2d3a50,_0x4c2ef8){const _0x2e6d2d=_0x338e4c,_0x2279a1=document[_0x2e6d2d(0x683)](_0x2e6d2d(0x6c0));if(!_0x2279a1)return;if(_0x4c2ef8[_0x2e6d2d(0x7c4)]===0x0){_0x2279a1[_0x2e6d2d(0x57a)]=_0x2e6d2d(0x185);return;}const _0x3e40a5=_0x2d3a50[_0x2e6d2d(0x543)][_0x2e6d2d(0x5a8)]((_0x128032,_0x466352)=>({'index':_0x466352+0x1,'text':_0x128032[_0x2e6d2d(0x66e)]||_0x128032[_0x2e6d2d(0x2de)],'correct':0x0}));_0x4c2ef8[_0x2e6d2d(0x630)](_0x320847=>{const _0x218836=_0x2e6d2d,_0x1d38f3=_0x320847['attempts'][_0x320847['attempts']['length']-0x1];_0x1d38f3&&_0x1d38f3[_0x218836(0x385)]&&_0x1d38f3['answers'][_0x218836(0x630)](_0x46b248=>{const _0x6660f5=_0x218836,_0x230cbb=_0x3e40a5[_0x6660f5(0x337)](_0x6a31b5=>_0x6a31b5[_0x6660f5(0x1d5)]===_0x46b248[_0x6660f5(0x4ca)]);_0x46b248['isCorrect']&&_0x230cbb&&_0x230cbb[_0x6660f5(0x245)]++;});});const _0x46c2f1=_0x4c2ef8[_0x2e6d2d(0x7c4)],_0x34a10c=Math[_0x2e6d2d(0x5f7)](..._0x3e40a5[_0x2e6d2d(0x5a8)](_0x49de0c=>_0x49de0c[_0x2e6d2d(0x245)])),_0x10c722=Math[_0x2e6d2d(0x184)](..._0x3e40a5[_0x2e6d2d(0x5a8)](_0x53296e=>_0x53296e[_0x2e6d2d(0x245)])),_0xcdb7d4=_0x3e40a5[_0x2e6d2d(0x5d7)](_0x1db80e=>_0x1db80e['correct']===_0x34a10c)[_0x2e6d2d(0x5a8)](_0x4eae3a=>_0x2e6d2d(0x4f3)+_0x4eae3a[_0x2e6d2d(0x806)]),_0x92ec87=_0x3e40a5[_0x2e6d2d(0x5d7)](_0x15dff8=>_0x15dff8[_0x2e6d2d(0x245)]===_0x10c722)[_0x2e6d2d(0x5a8)](_0x48b75a=>'ข้อ\x20'+_0x48b75a['index']),_0x4f7180=_0x4c2ef8[_0x2e6d2d(0x53c)]((_0x304947,_0xa3d494)=>_0xa3d494[_0x2e6d2d(0x541)]-_0x304947['latestScore'])[_0x2e6d2d(0x5d7)]((_0x5da787,_0x184523,_0x2d5628)=>_0x5da787[_0x2e6d2d(0x541)]===_0x2d5628[0x0][_0x2e6d2d(0x541)]),_0x43cda1=_0x4c2ef8['sort']((_0x56b61f,_0x4640f2)=>_0x56b61f[_0x2e6d2d(0x541)]-_0x4640f2[_0x2e6d2d(0x541)])['filter']((_0xa6c656,_0x3b71eb,_0x4e44cb)=>_0xa6c656['latestScore']===_0x4e44cb[0x0][_0x2e6d2d(0x541)]),_0x45e7a3=_0x2e6d2d(0x4b0)+_0xcdb7d4[_0x2e6d2d(0x8dc)](',\x20')+_0x2e6d2d(0x344)+_0x34a10c+_0x2e6d2d(0x827)+_0x46c2f1+_0x2e6d2d(0x401)+_0x92ec87[_0x2e6d2d(0x8dc)](',\x20')+_0x2e6d2d(0x344)+(_0x46c2f1-_0x10c722)+'\x20/\x20'+_0x46c2f1+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x4f7180['map'](_0xa89e48=>_0xa89e48[_0x2e6d2d(0x2d0)])[_0x2e6d2d(0x8dc)](',\x20')+_0x2e6d2d(0x78d)+_0x4f7180[0x0][_0x2e6d2d(0x541)]+_0x2e6d2d(0x4e4)+_0x43cda1['map'](_0x5e44b8=>_0x5e44b8[_0x2e6d2d(0x2d0)])[_0x2e6d2d(0x8dc)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x43cda1[0x0][_0x2e6d2d(0x541)]+_0x2e6d2d(0x6ee);_0x2279a1['innerHTML']=_0x45e7a3;}function renderSubmissionChart(_0x1a4c73,_0xf5e489,_0x49c377,_0x5aa713){const _0x31a3df=_0x338e4c,_0x3637e8=document[_0x31a3df(0x683)](_0x31a3df(0x635))['getContext']('2d'),_0x26bfe8=_0x49c377[_0x31a3df(0x5a8)](_0x16b5b5=>_0x16b5b5[_0x31a3df(0x2d0)]),_0x29a7a8=_0x5aa713['filter'](_0x309953=>!_0x26bfe8['includes'](_0x309953));chartInstances['submission']&&chartInstances['submission'][_0x31a3df(0x33d)](),chartInstances['submission']=new Chart(_0x3637e8,{'type':_0x31a3df(0x7e1),'data':{'labels':[_0x31a3df(0x5eb),_0x31a3df(0x458)],'datasets':[{'data':[_0x1a4c73,_0xf5e489],'backgroundColor':[_0x31a3df(0x3d2),'#F59E0B'],'borderColor':[_0x31a3df(0x606),_0x31a3df(0x606)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x31a3df(0x849)},'tooltip':{'callbacks':{'label':function(_0x427c8f){const _0x2fed24=_0x31a3df;let _0x22383c=_0x427c8f['label']||'';return _0x22383c&&(_0x22383c+=':\x20'),_0x22383c+=_0x427c8f[_0x2fed24(0x16d)],_0x22383c;},'afterLabel':function(_0x3a54fb){const _0x26c5d9=_0x31a3df;let _0x34a760;return _0x3a54fb[_0x26c5d9(0x24a)]===0x0?_0x34a760=_0x26bfe8:_0x34a760=_0x29a7a8,_0x34a760[_0x26c5d9(0x7c4)]>0x0?_0x34a760[_0x26c5d9(0x8dc)]('\x0a'):_0x26c5d9(0x197);}}}}}});}function renderScoreDistributionChart(_0x34fd8a,_0x4e99ac){const _0x50954b=_0x338e4c,_0x4d031d=document[_0x50954b(0x683)]('score-distribution-chart')[_0x50954b(0x615)]('2d'),_0x829878={};for(let _0x384517=0x0;_0x384517<=_0x4e99ac;_0x384517++){_0x829878[_0x384517]=0x0;}_0x34fd8a[_0x50954b(0x630)](_0x4317b9=>{const _0x5e930a=_0x50954b;_0x829878[_0x4317b9[_0x5e930a(0x541)]]!==undefined&&_0x829878[_0x4317b9[_0x5e930a(0x541)]]++;}),chartInstances[_0x50954b(0x69c)]&&chartInstances[_0x50954b(0x69c)][_0x50954b(0x33d)](),chartInstances[_0x50954b(0x69c)]=new Chart(_0x4d031d,{'type':_0x50954b(0x46c),'data':{'labels':Object[_0x50954b(0x789)](_0x829878),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x50954b(0x1ff)](_0x829878),'backgroundColor':_0x50954b(0x4f5),'borderColor':_0x50954b(0x8cb),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x50954b(0x607)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x521b3e){const _0x44aa10=_0x50954b,_0x1e0854=_0x521b3e[_0x44aa10(0x80f)],_0x11ba3e=_0x34fd8a['filter'](_0x1ba284=>_0x1ba284[_0x44aa10(0x541)]==_0x1e0854)[_0x44aa10(0x5a8)](_0x4ff6ff=>_0x4ff6ff['studentName']);return _0x11ba3e[_0x44aa10(0x7c4)]>0x0?_0x11ba3e['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x37867b,_0x192bfa,_0x26c7c3){const _0x5242e0=_0x338e4c,_0xd0c359=document[_0x5242e0(0x683)](_0x5242e0(0x5c1));if(_0x26c7c3[_0x5242e0(0x7c4)]===0x0){_0xd0c359[_0x5242e0(0x57a)]=_0x5242e0(0x8f0);return;}const _0x1a6f9d=calculateItemAnalysis(_0x37867b,_0x192bfa),_0x195fdd=calculateDistractorAnalysis(_0x37867b,_0x192bfa);let _0x3794ae='';_0x1a6f9d[_0x5242e0(0x8c5)]&&(_0x3794ae=_0x5242e0(0x1b8)+_0x1a6f9d[_0x5242e0(0x8c5)][_0x5242e0(0x276)]['length']+_0x5242e0(0x812)+_0x1a6f9d[_0x5242e0(0x8c5)][_0x5242e0(0x276)][_0x5242e0(0x5a8)](_0x3db01e=>_0x5242e0(0x51f)+_0x3db01e+_0x5242e0(0x89a))[_0x5242e0(0x8dc)]('')+_0x5242e0(0x8d4)+_0x1a6f9d[_0x5242e0(0x8c5)][_0x5242e0(0x56b)][_0x5242e0(0x7c4)]+_0x5242e0(0x812)+_0x1a6f9d['overallGroups']['lowerGroupNames'][_0x5242e0(0x5a8)](_0x4815bc=>_0x5242e0(0x51f)+_0x4815bc+'</li>')['join']('')+_0x5242e0(0x636));let _0x2df11d='';const _0x44ce67=_0x192bfa[_0x5242e0(0x5a8)](_0x225560=>_0x225560['studentName']),_0x22e9de=_0x20bc3e=>{const _0xdfa7=_0x5242e0;if(_0x20bc3e>=0.8)return _0xdfa7(0x3c9);if(_0x20bc3e>=0.6)return _0xdfa7(0x26c);if(_0x20bc3e>=0.4)return _0xdfa7(0x2d1);if(_0x20bc3e>=0.2)return _0xdfa7(0x39a);return _0xdfa7(0x85f);},_0x18d1ed=_0xd15633=>{const _0x54dba5=_0x5242e0;if(_0xd15633<0x0)return _0x54dba5(0x7a5);if(_0xd15633>=0.4)return _0x54dba5(0x4b4);if(_0xd15633>=0.3)return _0x54dba5(0x699);if(_0xd15633>=0.2)return _0x54dba5(0x55c);return _0x54dba5(0x784);},_0x268e4c=_0x14386b=>{const _0x56db1e=_0x5242e0,_0x33f5cf=_0x14386b[_0x56db1e(0x7f5)](0x0);if(parseFloat(_0x33f5cf)===0x64)return _0x56db1e(0x31a)+_0x33f5cf+'%</span>';if(_0x14386b>=0x32)return _0x56db1e(0x279)+_0x33f5cf+_0x56db1e(0x6d5);return _0x56db1e(0x1e2)+_0x33f5cf+'%</span>';};_0x37867b[_0x5242e0(0x543)]['forEach']((_0x3cff8c,_0x181ca4)=>{const _0x541e88=_0x5242e0,_0x5b7725=_0x1a6f9d['perQuestionStats'][_0x181ca4],_0x237a3d=_0x195fdd[_0x181ca4],_0x4978d1=_0x3cff8c[_0x541e88(0x2de)]||_0x3cff8c[_0x541e88(0x66e)]||_0x3cff8c['instructions'];let _0x487358=0x0;const _0x32e2eb=[],_0x26cbe6=[];_0x192bfa[_0x541e88(0x630)](_0x29b70a=>{const _0x184839=_0x541e88,_0x48cd5d=_0x29b70a['attempts'][_0x29b70a[_0x184839(0x805)][_0x184839(0x7c4)]-0x1];if(_0x48cd5d&&_0x48cd5d[_0x184839(0x385)]){const _0x59c5c9=_0x48cd5d[_0x184839(0x385)]['find'](_0x2311d7=>_0x2311d7[_0x184839(0x4ca)]===_0x4978d1)??_0x48cd5d[_0x184839(0x385)][_0x181ca4]??null;_0x59c5c9&&(_0x59c5c9[_0x184839(0x4c5)]?(_0x487358++,_0x32e2eb[_0x184839(0x76d)](_0x29b70a['studentName'])):_0x26cbe6[_0x184839(0x76d)](_0x29b70a[_0x184839(0x2d0)]));}});const _0x3ca357=_0x192bfa['length']>0x0?_0x487358/_0x192bfa['length']*0x64:0x0,_0x5793e6=_0x26c7c3[_0x541e88(0x5d7)](_0x3e3580=>!_0x44ce67[_0x541e88(0x45f)](_0x3e3580)),_0xacee0a=_0x5b7725?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x5b7725['p'][_0x541e88(0x7f5)](0x2)+_0x541e88(0x61b)+_0x22e9de(_0x5b7725['p'])+_0x541e88(0x64d)+_0x5b7725['r']['toFixed'](0x2)+'</p><div>'+_0x18d1ed(_0x5b7725['r'])+_0x541e88(0x4e5)+_0x268e4c(_0x3ca357)+_0x541e88(0x67c):'';let _0x5a7f07='';_0x237a3d&&(_0x5a7f07=_0x541e88(0x278)+Object[_0x541e88(0x789)](_0x237a3d)[_0x541e88(0x5a8)](_0x4c14a3=>{const _0x25f48e=_0x541e88,_0x28c55f=_0x237a3d[_0x4c14a3],_0x2bb641=parseInt(_0x4c14a3)===_0x3cff8c[_0x25f48e(0x248)],_0x226ef0=!_0x2bb641&&_0x28c55f[_0x25f48e(0x411)]>_0x28c55f[_0x25f48e(0x4a8)];return _0x25f48e(0x67f)+(_0x2bb641?'bg-green-100\x20font-bold':'')+_0x25f48e(0x2dc)+(_0x2bb641?'✔\x20':'')+_0x28c55f[_0x25f48e(0x1d5)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x28c55f[_0x25f48e(0x4a8)]+_0x25f48e(0x6b6)+_0x28c55f[_0x25f48e(0x411)]+'\x20'+(_0x226ef0?'👍':'')+_0x25f48e(0x6b6)+_0x28c55f[_0x25f48e(0x81a)]+_0x25f48e(0x2ac);})[_0x541e88(0x8dc)]('')+_0x541e88(0x6c3));let _0x31cca7='';_0x5b7725&&_0x5b7725[_0x541e88(0x793)]&&(_0x31cca7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x5b7725[_0x541e88(0x793)]['length']+_0x541e88(0x2c9)+_0x5b7725[_0x541e88(0x793)][_0x541e88(0x5a8)](_0x1ee109=>_0x541e88(0x51f)+(_0x1ee109['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1ee109['name']+_0x541e88(0x89a))[_0x541e88(0x8dc)]('')+_0x541e88(0x227)+_0x5b7725[_0x541e88(0x2b2)][_0x541e88(0x7c4)]+_0x541e88(0x2c9)+_0x5b7725[_0x541e88(0x2b2)]['map'](_0x44f48b=>_0x541e88(0x51f)+(_0x44f48b[_0x541e88(0x4c5)]?_0x541e88(0x171):_0x541e88(0x4a5))+'\x20'+_0x44f48b[_0x541e88(0x289)]+_0x541e88(0x89a))[_0x541e88(0x8dc)]('')+_0x541e88(0x40e)),_0x2df11d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x181ca4+0x1)+':\x20'+_0x4978d1+_0x541e88(0x347)+_0xacee0a+_0x541e88(0x5e2)+_0x4978d1+_0x541e88(0x494)+_0x487358+'\x20จาก\x20'+_0x192bfa[_0x541e88(0x7c4)]+_0x541e88(0x5da)+_0x3ca357[_0x541e88(0x7f5)](0x0)+_0x541e88(0x7ba)+_0x32e2eb[_0x541e88(0x7c4)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x32e2eb['length']>0x0?_0x32e2eb[_0x541e88(0x8dc)](',\x20'):_0x541e88(0x197))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x26cbe6[_0x541e88(0x7c4)]+_0x541e88(0x4f8)+(_0x26cbe6[_0x541e88(0x7c4)]>0x0?_0x26cbe6[_0x541e88(0x8dc)](',\x20'):'ไม่มี')+_0x541e88(0x72f)+_0x5793e6[_0x541e88(0x7c4)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5793e6[_0x541e88(0x7c4)]>0x0?_0x5793e6['join'](',\x20'):'ไม่มี')+_0x541e88(0x853)+_0x5a7f07+_0x541e88(0x544)+_0x31cca7+_0x541e88(0x246);}),_0xd0c359[_0x5242e0(0x57a)]=_0x3794ae+_0x2df11d;try{window[_0x5242e0(0x56d)]&&MathJax[_0x5242e0(0x190)]&&MathJax[_0x5242e0(0x190)]([_0xd0c359]);}catch(_0x156865){console['error'](_0x5242e0(0x51e),_0x156865);}}function calculateDistractorAnalysis(_0x53ff81,_0x145a34){const _0xdf3f8a=_0x338e4c,_0x148e38={};if(_0x145a34[_0xdf3f8a(0x7c4)]<0x2)return _0x148e38;const _0x5f0076=[..._0x145a34][_0xdf3f8a(0x53c)]((_0x57fbd2,_0x185c76)=>{const _0x39b314=_0xdf3f8a,_0x47303d=_0x185c76[_0x39b314(0x541)]-_0x57fbd2[_0x39b314(0x541)];if(_0x47303d!==0x0)return _0x47303d;const _0x1f41d5=_0x57fbd2['attempts']?.[_0x39b314(0x7c4)]||0x1,_0x5828cb=_0x185c76[_0x39b314(0x805)]?.[_0x39b314(0x7c4)]||0x1,_0x137744=_0x1f41d5-_0x5828cb;if(_0x137744!==0x0)return _0x137744;const _0x28f78c=new Date(_0x57fbd2[_0x39b314(0x78c)]),_0x37ed21=new Date(_0x185c76[_0x39b314(0x78c)]),_0x3e49c5=_0x28f78c-_0x37ed21;if(_0x3e49c5!==0x0)return _0x3e49c5;return _0x57fbd2[_0x39b314(0x2d0)]['localeCompare'](_0x185c76['studentName'],'th');}),_0x2dd1cd=_0x5f0076['length'],_0x2046ef=Math[_0xdf3f8a(0x5f7)](0x1,Math['floor'](_0x2dd1cd*0.33)),_0x5b7251=_0x5f0076[_0xdf3f8a(0x3c3)](0x0,_0x2046ef),_0x236acb=_0x5f0076['slice'](-_0x2046ef);return _0x53ff81[_0xdf3f8a(0x543)][_0xdf3f8a(0x630)]((_0x20e7b3,_0x1162ef)=>{const _0x488cc9=_0xdf3f8a;if(_0x20e7b3[_0x488cc9(0x878)]!==_0x488cc9(0x41d)||!_0x20e7b3[_0x488cc9(0x4a4)])return;const _0x108d90=_0x20e7b3['questionText'],_0x10fc04={};_0x20e7b3[_0x488cc9(0x4a4)][_0x488cc9(0x630)]((_0x362252,_0x13d73b)=>{_0x10fc04[_0x13d73b]={'text':_0x362252,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5f0076['forEach'](_0x3bbf36=>{const _0xb89097=_0x488cc9,_0x49f63d=_0x3bbf36['attempts'][_0x3bbf36[_0xb89097(0x805)][_0xb89097(0x7c4)]-0x1],_0x492acd=_0x49f63d['answers'][_0xb89097(0x337)](_0x8cd319=>_0x8cd319['originalQuestionText']===_0x108d90);if(_0x492acd&&_0x492acd[_0xb89097(0x5ea)]!==null){const _0x45549d=_0x20e7b3[_0xb89097(0x4a4)]['findIndex'](_0x46ba44=>_0x46ba44===_0x492acd[_0xb89097(0x465)]);_0x45549d!==-0x1&&_0x10fc04[_0x45549d]&&(_0x10fc04[_0x45549d][_0xb89097(0x81a)]++,_0x5b7251['includes'](_0x3bbf36)&&_0x10fc04[_0x45549d][_0xb89097(0x4a8)]++,_0x236acb[_0xb89097(0x45f)](_0x3bbf36)&&_0x10fc04[_0x45549d]['lower_group_count']++);}}),_0x148e38[_0x1162ef]=_0x10fc04;}),_0x148e38;}function calculateReliabilityKR20(_0x17f8cd,_0x91fb00,_0x41dd9b){const _0x2fb31c=_0x338e4c,_0x442c82=_0x17f8cd['questions']['length'];if(_0x442c82<0x2||_0x91fb00[_0x2fb31c(0x7c4)]<0x2)return null;const _0x10abb0=_0x91fb00[_0x2fb31c(0x5a8)](_0x1f04e2=>_0x1f04e2['latestScore']),_0xfed93b=_0x10abb0['reduce']((_0x1df56f,_0x13c8ab)=>_0x1df56f+_0x13c8ab,0x0)/_0x10abb0[_0x2fb31c(0x7c4)],_0x2c6761=_0x10abb0[_0x2fb31c(0x5a8)](_0x59c879=>Math['pow'](_0x59c879-_0xfed93b,0x2))[_0x2fb31c(0x685)]((_0x54836,_0x56e065)=>_0x54836+_0x56e065,0x0)/_0x10abb0[_0x2fb31c(0x7c4)];if(_0x2c6761===0x0)return null;let _0xed6a00=0x0;for(let _0x507bb6=0x0;_0x507bb6<_0x442c82;_0x507bb6++){const _0x92f554=_0x41dd9b[_0x507bb6]?.['p'];if(_0x92f554===undefined)continue;const _0x306a2b=0x1-_0x92f554;_0xed6a00+=_0x92f554*_0x306a2b;}if(_0xed6a00===0x0)return null;const _0x24bea7=_0x442c82/(_0x442c82-0x1)*(0x1-_0xed6a00/_0x2c6761);if(_0x24bea7>0x1)return null;return _0x24bea7;}async function handleAnalyzeClass(){const _0x2cdc91=_0x338e4c;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2cdc91(0x57d));return;}const _0x1de4fe=collection(db,_0x2cdc91(0x79b)+appId+_0x2cdc91(0x649)+currentQuizData['id']+_0x2cdc91(0x287)),_0x43ac3d=await getDocs(_0x1de4fe),_0x413ca4=_0x43ac3d[_0x2cdc91(0x69f)][_0x2cdc91(0x5a8)](_0xe3c1bb=>_0xe3c1bb['data']());if(_0x413ca4[_0x2cdc91(0x7c4)]<0x2){showMessage(_0x2cdc91(0x486));return;}const _0x116760=document['getElementById'](_0x2cdc91(0x316));_0x116760[_0x2cdc91(0x57a)]=_0x2cdc91(0x63b),document[_0x2cdc91(0x683)]('analyze-strengths-btn')['disabled']=!![];const _0x4f2190=_0x413ca4['map']((_0x2cf04d,_0x51851a)=>{const _0x1c6ea8=_0x2cdc91,_0x15f3f9=_0x2cf04d[_0x1c6ea8(0x805)][_0x2cf04d['attempts'][_0x1c6ea8(0x7c4)]-0x1];if(!_0x15f3f9)return'';return _0x1c6ea8(0x7d8)+(_0x51851a+0x1)+'\x20('+_0x2cf04d[_0x1c6ea8(0x2d0)]+_0x1c6ea8(0x349)+_0x15f3f9['score']+'/'+_0x2cf04d[_0x1c6ea8(0x362)]+_0x1c6ea8(0x505)+JSON[_0x1c6ea8(0x23a)](_0x15f3f9['answers'])+_0x1c6ea8(0x450);})[_0x2cdc91(0x8dc)](_0x2cdc91(0x6af)),_0x4eec5b=_0x2cdc91(0x8e1)+currentQuizData[_0x2cdc91(0x8af)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x2cdc91(0x23a)](currentQuizData['questions'])+_0x2cdc91(0x4da)+_0x4f2190+_0x2cdc91(0x2fd),_0x46cc99={'type':'OBJECT','properties':{'classStrengths':{'type':_0x2cdc91(0x820),'items':{'type':_0x2cdc91(0x858)}},'classWeaknesses':{'type':_0x2cdc91(0x820),'items':{'type':_0x2cdc91(0x858)}},'teacherSuggestions':{'type':_0x2cdc91(0x820),'items':{'type':'STRING'}}},'required':['classStrengths',_0x2cdc91(0x2b3),_0x2cdc91(0x5e6)]};try{const _0x174c9b=await callAnalysisApi(_0x4eec5b,_0x46cc99);displayClassAnalysis(_0x174c9b);}catch(_0x1930e9){console[_0x2cdc91(0x7ad)](_0x2cdc91(0x8d5),_0x1930e9),_0x116760[_0x2cdc91(0x57a)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x1930e9[_0x2cdc91(0x6b9)]+'</p></div>';}finally{document[_0x2cdc91(0x683)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x275c47){const _0x310069=_0x338e4c,_0x37cd5d=document[_0x310069(0x683)]('strength-weakness-analysis-container');if(!_0x275c47){_0x37cd5d[_0x310069(0x57a)]=_0x310069(0x3ea);return;}_0x37cd5d[_0x310069(0x57a)]=_0x310069(0x2f9)+_0x275c47[_0x310069(0x368)]['map'](_0x7ab502=>'<li>'+_0x7ab502+_0x310069(0x89a))[_0x310069(0x8dc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x275c47[_0x310069(0x2b3)][_0x310069(0x5a8)](_0x4c5f35=>_0x310069(0x51f)+_0x4c5f35+'</li>')[_0x310069(0x8dc)]('')+_0x310069(0x352)+_0x275c47[_0x310069(0x5e6)][_0x310069(0x5a8)](_0x6e385d=>_0x310069(0x51f)+_0x6e385d+_0x310069(0x89a))['join']('')+_0x310069(0x2c2);}function formatAndPrintWorksheet(_0x35c338,_0x2adc26){const _0xbd622=_0x338e4c,_0x265ec0=_0xbd622(0x2cf)+_0x35c338[_0xbd622(0x8af)]+_0xbd622(0x60f)+_0x35c338[_0xbd622(0x8af)]+_0xbd622(0x17a)+_0x35c338[_0xbd622(0x543)][_0xbd622(0x5a8)]((_0x379b72,_0x25f091)=>_0xbd622(0x893)+(_0x25f091+0x1)+'.\x20'+_0x379b72[_0xbd622(0x66e)]+_0xbd622(0x8e0)+(_0x379b72['imageCode']?_0xbd622(0x561)+_0x379b72[_0xbd622(0x45c)]+_0xbd622(0x1e9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xbd622(0x8dc)]('')+_0xbd622(0x264);_0x2adc26['document']['write'](_0x265ec0),_0x2adc26[_0xbd622(0x490)][_0xbd622(0x266)](),_0x2adc26[_0xbd622(0x189)]=function(){setTimeout(()=>{const _0x4ccdca=_0xb61e;_0x2adc26[_0x4ccdca(0x493)]();},0x3e8);};}async function generateWorksheet(){const _0x2993ec=_0x338e4c,_0x4d4702=document[_0x2993ec(0x683)](_0x2993ec(0x5c2))[_0x2993ec(0x1e4)]['trim']();if(!_0x4d4702){showMessage(_0x2993ec(0x3a8));return;}const _0x1517c5=document[_0x2993ec(0x683)]('force-math-checkbox')[_0x2993ec(0x800)],_0x2fe4ac=_0x1517c5?'':_0x2993ec(0x8b5),_0x33df52=window[_0x2993ec(0x39c)]('','_blank');_0x33df52[_0x2993ec(0x490)]['write']('<h1></h1>');const _0x1b1670=parseInt(document[_0x2993ec(0x683)](_0x2993ec(0x7fd))['value']),_0x5b1fd5=document[_0x2993ec(0x683)](_0x2993ec(0x69d))[_0x2993ec(0x800)],_0x6b7cfa=_0x5b1fd5?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x3f790e=_0x2993ec(0x25c)+_0x2fe4ac+_0x2993ec(0x2e4)+_0x1b1670+_0x2993ec(0x55f)+_0x4d4702+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6b7cfa+_0x2993ec(0x8da)+simpleMathPrompt+_0x2993ec(0x3c0),_0x3b2339={'type':_0x2993ec(0x2db),'properties':{'topic':{'type':_0x2993ec(0x858)},'questions':{'type':_0x2993ec(0x820),'items':{'type':_0x2993ec(0x2db),'properties':{'questionText':{'type':_0x2993ec(0x858)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':['topic','questions']};document[_0x2993ec(0x683)](_0x2993ec(0x404))[_0x2993ec(0x603)]='',document[_0x2993ec(0x683)](_0x2993ec(0x527))['classList'][_0x2993ec(0x2da)](_0x2993ec(0x8c6)),document[_0x2993ec(0x683)](_0x2993ec(0x467))[_0x2993ec(0x274)][_0x2993ec(0x2da)](_0x2993ec(0x8c6)),generateWorksheetBtn[_0x2993ec(0x442)]=!![];try{const _0x16c288=await callAnalysisApi(_0x3f790e,_0x3b2339);formatAndPrintWorksheet(_0x16c288,_0x33df52);}catch(_0x20720e){console['error'](_0x2993ec(0x562),_0x20720e);if(_0x33df52)_0x33df52[_0x2993ec(0x266)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x2993ec(0x683)](_0x2993ec(0x527))['classList'][_0x2993ec(0x2e7)](_0x2993ec(0x8c6)),document[_0x2993ec(0x683)]('quiz-generation-area')['classList'][_0x2993ec(0x2e7)](_0x2993ec(0x8c6)),generateWorksheetBtn[_0x2993ec(0x442)]=![];}}async function callAnalysisApi(_0x506d48,_0x5380d4){const _0x5bd509=_0x338e4c,_0x458f42={'contents':[{'role':'user','parts':[{'text':_0x506d48}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x5380d4}},_0x4236bf=_0x5bd509(0x60d),_0x5b759a=_0x5bd509(0x717)+_0x4236bf,_0x19ba40=await fetch(_0x5b759a,{'method':_0x5bd509(0x3d4),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5bd509(0x23a)](_0x458f42)});if(!_0x19ba40['ok'])throw new Error(_0x5bd509(0x1bd)+_0x19ba40['status']);const _0xc5bf5b=await _0x19ba40['json']();if(_0xc5bf5b[_0x5bd509(0x618)]?.[0x0]?.[_0x5bd509(0x6f7)]?.[_0x5bd509(0x48e)]?.[0x0])return JSON[_0x5bd509(0x78e)](_0xc5bf5b[_0x5bd509(0x618)][0x0][_0x5bd509(0x6f7)][_0x5bd509(0x48e)][0x0][_0x5bd509(0x1d5)]);else{let _0xb4f83d=_0x5bd509(0x6f9);if(_0xc5bf5b[_0x5bd509(0x8a3)]?.['blockReason'])_0xb4f83d='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0xc5bf5b[_0x5bd509(0x8a3)][_0x5bd509(0x15a)]+'.';else _0xc5bf5b[_0x5bd509(0x618)]?.[0x0]?.[_0x5bd509(0x6ab)]&&_0xc5bf5b[_0x5bd509(0x618)][0x0]['finishReason']!==_0x5bd509(0x3ef)&&(_0xb4f83d=_0x5bd509(0x728)+_0xc5bf5b[_0x5bd509(0x618)][0x0]['finishReason']+'.');console['error'](_0xb4f83d,JSON[_0x5bd509(0x23a)](_0xc5bf5b));throw new Error(_0xb4f83d);}}initialize();
