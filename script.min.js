const _0x1b93ee=_0x1173;(function(_0x2bd6ee,_0x499cb0){const _0xdb0ce1=_0x1173,_0x5494cd=_0x2bd6ee();while(!![]){try{const _0x999198=parseInt(_0xdb0ce1(0xa4e))/0x1*(parseInt(_0xdb0ce1(0x763))/0x2)+parseInt(_0xdb0ce1(0x85e))/0x3+parseInt(_0xdb0ce1(0xe6b))/0x4+-parseInt(_0xdb0ce1(0x64b))/0x5*(-parseInt(_0xdb0ce1(0x7de))/0x6)+-parseInt(_0xdb0ce1(0x260))/0x7+-parseInt(_0xdb0ce1(0xb25))/0x8*(parseInt(_0xdb0ce1(0xda1))/0x9)+-parseInt(_0xdb0ce1(0xb44))/0xa;if(_0x999198===_0x499cb0)break;else _0x5494cd['push'](_0x5494cd['shift']());}catch(_0x2cbe1c){_0x5494cd['push'](_0x5494cd['shift']());}}}(_0xbde8,0x246ed));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x1b93ee(0xe2a),_0x1b93ee(0x5a0),_0x1b93ee(0xc40),_0x1b93ee(0x4a4),_0x1b93ee(0xd7a),_0x1b93ee(0xe79),_0x1b93ee(0x569),_0x1b93ee(0x5e3),_0x1b93ee(0x528),_0x1b93ee(0x6ba),_0x1b93ee(0x615),'มือปราบสายรุ้ง',_0x1b93ee(0xbd0),_0x1b93ee(0x1dc),_0x1b93ee(0xd16),_0x1b93ee(0x54e),_0x1b93ee(0xa46),_0x1b93ee(0xe42),'โจรสลัดอวกาศ',_0x1b93ee(0x53a),_0x1b93ee(0x5f2),_0x1b93ee(0xa6d),'ปลาทูคะนอง',_0x1b93ee(0xe57),_0x1b93ee(0xaee),'หมาป่าเดียวดาย','กระต่ายตื่นตูม',_0x1b93ee(0x6fc),_0x1b93ee(0x3b8),'หนอนหนังสือ',_0x1b93ee(0x13d),'สายลับจับบ้านเล็ก','คนดีศรีสยาม','ดาวTikTok','ยูทูปเบอร์ฝึกหัด',_0x1b93ee(0x70e),_0x1b93ee(0xaec),_0x1b93ee(0x4df),_0x1b93ee(0x51b),_0x1b93ee(0x111),'กาแฟขม',_0x1b93ee(0x726),_0x1b93ee(0x7ca),_0x1b93ee(0x8be),_0x1b93ee(0x1e5),_0x1b93ee(0xb2a),_0x1b93ee(0xc2d),_0x1b93ee(0x737),_0x1b93ee(0xa9b),_0x1b93ee(0x1b4),_0x1b93ee(0x7f0),_0x1b93ee(0x91b),_0x1b93ee(0xc3c),_0x1b93ee(0x3d5),'ติดซีรีส์',_0x1b93ee(0xc9f),_0x1b93ee(0xc55),_0x1b93ee(0xc67),_0x1b93ee(0x2a0),_0x1b93ee(0x308),_0x1b93ee(0x174),_0x1b93ee(0x51e),_0x1b93ee(0x9bb),_0x1b93ee(0x30b),'ดวงดาว','ท้องฟ้า',_0x1b93ee(0x598),'ภูเขา',_0x1b93ee(0xcff),_0x1b93ee(0x5ad),_0x1b93ee(0xaa0),'ช่างภาพ',_0x1b93ee(0x465),_0x1b93ee(0x604),_0x1b93ee(0xb90),_0x1b93ee(0xe51),_0x1b93ee(0xc50),_0x1b93ee(0x49a),'นักกีฬา',_0x1b93ee(0xe3e),_0x1b93ee(0x4c8),_0x1b93ee(0xb5d),_0x1b93ee(0x2ac),'ตัวแทนแห่งดวงจันทร์',_0x1b93ee(0x431),_0x1b93ee(0x5cd),'ธอร์ค้อนบิน','ไอรอนแมน',_0x1b93ee(0x15f),_0x1b93ee(0x8d4),_0x1b93ee(0x36c),_0x1b93ee(0x52a),_0x1b93ee(0x228),_0x1b93ee(0x353),_0x1b93ee(0x36e),'คู่จิ้น',_0x1b93ee(0xcbb),_0x1b93ee(0x808),_0x1b93ee(0x979),_0x1b93ee(0x564)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1b93ee(0x10a),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x8b6b71=_0x1b93ee;if(_0x8b6b71(0x5d0)in navigator)try{wakeLock=await navigator['wakeLock'][_0x8b6b71(0x225)]('screen'),console['log'](_0x8b6b71(0x827)),wakeLock[_0x8b6b71(0x5e0)](_0x8b6b71(0x8bd),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x57f136){console[_0x8b6b71(0x75e)](_0x8b6b71(0x386)+_0x57f136['name']+',\x20'+_0x57f136[_0x8b6b71(0x340)]);}else console[_0x8b6b71(0x16e)](_0x8b6b71(0x849));},releaseWakeLock=async()=>{const _0x24cf05=_0x1b93ee;wakeLock!==null&&(await wakeLock[_0x24cf05(0x8bd)](),wakeLock=null,console['log'](_0x24cf05(0x5d2)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2f22c3=_0x1b93ee;if(!document[_0x2f22c3(0xc69)]['classList']['contains'](_0x2f22c3(0x61d))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x38eef9=_0x2f22c3;document[_0x38eef9(0xc69)][_0x38eef9(0x43c)]['add']('dimmed'),console['log'](_0x38eef9(0x462));},inactivityTime);}}function wakeUpScreen(_0x4d7a9b){const _0x31586c=_0x1b93ee;_0x4d7a9b&&(_0x4d7a9b[_0x31586c(0xd72)](),_0x4d7a9b[_0x31586c(0x32c)]());document[_0x31586c(0xc69)][_0x31586c(0x43c)][_0x31586c(0x200)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3f92f9=_0x31586c;document[_0x3f92f9(0xc69)][_0x3f92f9(0x43c)]['add'](_0x3f92f9(0x61d));},inactivityTime);}function stopDimTimer(){const _0x39715b=_0x1b93ee;if(dimTimer)clearTimeout(dimTimer);document[_0x39715b(0xc69)][_0x39715b(0x43c)][_0x39715b(0x200)](_0x39715b(0x61d)),window['removeEventListener'](_0x39715b(0xdcf),resetDimTimer),window[_0x39715b(0x663)]('mousedown',resetDimTimer),window[_0x39715b(0x663)](_0x39715b(0x711),resetDimTimer),window[_0x39715b(0x663)](_0x39715b(0xc35),resetDimTimer),console['log'](_0x39715b(0xac5));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x5eed36,_0x33557f=![]){const _0x597133=_0x1b93ee,_0x5c232a=allQuizzes[_0x597133(0xe69)](_0x51f624=>_0x51f624['id']===_0x5eed36)||allQuizzesGlobal[_0x597133(0xe69)](_0xf69bb9=>_0xf69bb9['id']===_0x5eed36);if(!_0x5c232a){showMessage(_0x597133(0xe1b));return;}currentQuizData=getShuffledQuiz(_0x5c232a);const _0xafc37d=Math[_0x597133(0x567)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x436003=await addDoc(collection(db,_0x597133(0xe45)+appId+_0x597133(0xbf0)),{'quizId':_0x5c232a['id'],'projectId':_0x5c232a[_0x597133(0x3a0)],'status':_0x597133(0xae8),'pin':_0xafc37d,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x33557f});currentTeamQuizId=_0x436003['id'],showView(_0x597133(0xc45)),renderAdminTeamQuizDashboard(_0xafc37d,_0x5c232a[_0x597133(0x669)]),listenForTeamQuizUpdates();}catch(_0x5c235a){console[_0x597133(0x75e)](_0x597133(0x1ae),_0x5c235a),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x354750,_0x396e7a,_0x403dec=_0x1b93ee(0x134)){const _0xb3aee=_0x1b93ee,_0x3bc684=_0x403dec===_0xb3aee(0xa4c)?_0xb3aee(0x4c9):_0xb3aee(0x4b7);liveGameView[_0xb3aee(0xc8c)]=_0xb3aee(0x339)+_0x3bc684+':\x20'+_0x396e7a+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x354750+_0xb3aee(0x953),document[_0xb3aee(0x693)]('end-team-quiz-btn')[_0xb3aee(0x5e0)]('click',async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x548fc4=_0x1173;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x548fc4(0xe45)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x5a713a=_0x1b93ee;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5a4f80=doc(db,_0x5a713a(0xe45)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5a4f80,_0x1b789c=>{const _0x3464ae=_0x5a713a;if(!_0x1b789c[_0x3464ae(0x5a9)]()){sessionStorage[_0x3464ae(0xe44)](_0x3464ae(0xe62));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x3464ae(0x47d));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x3464ae(0x66a)):showView(_0x3464ae(0x5ed));return;}const _0x1f683f=_0x1b789c[_0x3464ae(0x7d4)]();if(currentMode===_0x3464ae(0x23c)){if(_0x1f683f[_0x3464ae(0x444)]===_0x3464ae(0xa4c)&&_0x1f683f[_0x3464ae(0x7f7)]!==_0x3464ae(0x806)&&_0x1f683f[_0x3464ae(0x7f7)]!==_0x3464ae(0x405)){const _0x404880=Object[_0x3464ae(0x8d9)](_0x1f683f[_0x3464ae(0x13e)]||{});if(_0x404880[_0x3464ae(0x357)]>0x0){const _0x1aeb4e=_0x404880[_0x3464ae(0xd82)](_0x45d5b1=>_0x45d5b1[_0x3464ae(0xd58)]===!![]);_0x1aeb4e&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1f683f);}else{if(_0x1f683f['status']===_0x3464ae(0x806)||_0x1f683f[_0x3464ae(0x7f7)]===_0x3464ae(0x405)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1f683f[_0x3464ae(0x444)]===_0x3464ae(0xa4c)){const _0x3dacf0=_0x1f683f[_0x3464ae(0x13e)][userId];(!_0x3dacf0||!_0x3dacf0[_0x3464ae(0xd58)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x478425){const _0x1cca9d=_0x1b93ee;console[_0x1cca9d(0xb20)](_0x1cca9d(0xb6a));const _0x267c05=doc(db,'artifacts/'+appId+_0x1cca9d(0xbf0),_0x478425);try{const _0x2ba966=await getDoc(_0x267c05);if(_0x2ba966[_0x1cca9d(0x5a9)]()){const _0x50a7b5=_0x2ba966[_0x1cca9d(0x7d4)]();_0x50a7b5[_0x1cca9d(0x8c1)]&&await saveGameResultsAsSubmissions(_0x50a7b5);}await updateDoc(_0x267c05,{'status':_0x1cca9d(0x806)});}catch(_0x502756){console[_0x1cca9d(0x75e)](_0x1cca9d(0x295),_0x502756);}}function updateAdminTeamDashboard(_0x1b93f7){const _0x56f8ee=_0x1b93ee,_0x5c4185=document['getElementById']('team-player-status-grid');if(!_0x5c4185)return;const _0x5e93db=_0x1b93f7['mode']||_0x56f8ee(0x134),_0x5f201e=currentQuizData[_0x56f8ee(0x4e6)]['length'];if(_0x5e93db==='group'){const _0x2926de=Object[_0x56f8ee(0x8d9)](_0x1b93f7[_0x56f8ee(0x13e)]||{});if(_0x2926de[_0x56f8ee(0x357)]===0x0){_0x5c4185[_0x56f8ee(0xc8c)]=_0x56f8ee(0x8f6);return;}const _0x49328e=[..._0x2926de]['sort']((_0x13b402,_0x32fff5)=>_0x32fff5[_0x56f8ee(0xe35)]-_0x13b402[_0x56f8ee(0xe35)]),_0x5e2a70=_0x49328e[_0x56f8ee(0x926)]((_0x378055,_0x549839)=>{const _0x5d83ad=_0x56f8ee,_0x462f84=_0x378055[_0x5d83ad(0x7f4)]?.[_0x5d83ad(0x357)]||0x0;return _0x5d83ad(0xa22)+(_0x549839+0x1)+_0x5d83ad(0x20f)+_0x378055[_0x5d83ad(0xa3c)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x462f84+'/'+_0x5f201e+_0x5d83ad(0xd27)+_0x378055['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x56f8ee(0xd7b)](''),_0x29571a=currentQuizData[_0x56f8ee(0x4e6)]['map']((_0xd40b25,_0x3a2935)=>{const _0x2145d6=_0x56f8ee;let _0x42c205=0x0,_0x52941e=0x0;_0x2926de[_0x2145d6(0x242)](_0x2cf743=>{const _0x3c065b=_0x2145d6,_0xbeebea=_0x2cf743[_0x3c065b(0x7f4)]?.[_0x3c065b(0xe69)](_0x341987=>_0x341987[_0x3c065b(0x684)]===_0x3a2935);if(_0xbeebea){_0x52941e++;if(_0xbeebea['isCorrect'])_0x42c205++;}});const _0x3ff460=_0x52941e>0x0&&_0x52941e===_0x2926de[_0x2145d6(0x357)],_0x53c495=_0x3ff460?'bg-green-200\x20text-green-900\x20font-bold':_0x2145d6(0xd06),_0x6fa2e2=_0x3ff460?_0x2145d6(0x7e1):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x53c495+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x3a2935+0x1)+_0x2145d6(0xd81)+_0x6fa2e2+_0x2145d6(0x64d)+_0x42c205+'/'+_0x2926de[_0x2145d6(0x357)]+'\x20กลุ่ม</p></div>';})[_0x56f8ee(0xd7b)]('');_0x5c4185[_0x56f8ee(0xc8c)]=_0x56f8ee(0xb2e)+_0x5e2a70+_0x56f8ee(0xdf9)+_0x29571a+'</div></div></div>';return;}const _0x21fd09=_0x1b93f7[_0x56f8ee(0x77e)]||{},_0x2e0930=Object[_0x56f8ee(0x89a)](_0x21fd09);if(_0x2e0930['length']===0x0){_0x5c4185[_0x56f8ee(0xc8c)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x196077=_0x2e0930[_0x56f8ee(0x926)](_0x281f73=>({'name':_0x281f73,'score':_0x21fd09[_0x281f73]['score']||0x0}))[_0x56f8ee(0xa05)]((_0x34ae6c,_0x7a0178)=>_0x7a0178[_0x56f8ee(0xe35)]-_0x34ae6c[_0x56f8ee(0xe35)]),_0xaacff4=_0x196077[_0x56f8ee(0x926)](_0x8b5a1a=>{const _0x480795=_0x56f8ee,_0x392ae0=_0x21fd09[_0x8b5a1a[_0x480795(0x41d)]]?.[_0x480795(0x7f4)]?.[_0x480795(0x357)]||0x0,_0x41c56=Math[_0x480795(0x45c)](_0x5f201e/_0x2e0930['length']);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x8b5a1a[_0x480795(0x41d)]+_0x480795(0x74a)+_0x392ae0+'/'+_0x41c56+_0x480795(0x659)+_0x8b5a1a[_0x480795(0xe35)]+_0x480795(0xd31);})['join'](''),_0x5e0ba6=_0x2e0930[_0x56f8ee(0xb28)]((_0x2433c0,_0x3f3d82)=>_0x2433c0+(_0x21fd09[_0x3f3d82]['answers']?.['length']||0x0),0x0),_0x5b5559=currentQuizData[_0x56f8ee(0x4e6)][_0x56f8ee(0x926)]((_0x110efc,_0x39cbb2)=>{const _0x4b42a0=_0x56f8ee;let _0x52d6bd=null,_0x32494e=null;for(const _0x979ce6 of _0x2e0930){const _0x35a374=_0x21fd09[_0x979ce6]['answers']?.[_0x4b42a0(0xe69)](_0x5d9fd0=>_0x5d9fd0[_0x4b42a0(0x684)]===_0x39cbb2);if(_0x35a374){_0x52d6bd=_0x35a374,_0x32494e=_0x979ce6;break;}}const _0x2f67bf=!!_0x52d6bd,_0x263ea7=_0x2f67bf&&_0x52d6bd[_0x4b42a0(0x5ce)],_0x36acfc=(Math[_0x4b42a0(0x567)](_0x39cbb2/_0x2e0930[_0x4b42a0(0x357)])+0x1)*_0x2e0930[_0x4b42a0(0x357)],_0x273104=_0x5e0ba6>=_0x36acfc,_0x1bfc93=_0x273104?_0x4b42a0(0x7ee):_0x4b42a0(0xd06),_0x5c0d01=_0x273104?_0x4b42a0(0x7e1):'';let _0x13e3b5=_0x4b42a0(0x94c);return _0x2f67bf&&(_0x13e3b5=_0x32494e+_0x4b42a0(0xdb7)+(_0x263ea7?_0x4b42a0(0xcb0):_0x4b42a0(0x141))),_0x4b42a0(0x932)+_0x1bfc93+_0x4b42a0(0x91f)+(_0x39cbb2+0x1)+':</span><span>'+_0x5c0d01+_0x4b42a0(0xcb7)+_0x13e3b5+_0x4b42a0(0x455);})['join']('');_0x5c4185[_0x56f8ee(0xc8c)]=_0x56f8ee(0x6d4)+_0xaacff4+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x5b5559+_0x56f8ee(0x625);}async function handleJoinTeamQuiz(){const _0x1a65c2=_0x1b93ee,_0x2aa269=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x2aa269||_0x2aa269[_0x1a65c2(0xb6d)]()[_0x1a65c2(0x357)]!==0x4){showMessage(_0x1a65c2(0x18b));return;}try{const _0x122973=collection(db,_0x1a65c2(0xe45)+appId+_0x1a65c2(0xbf0)),_0x196415=query(_0x122973,where(_0x1a65c2(0xb7f),'==',_0x2aa269[_0x1a65c2(0xb6d)]()),where('status','==',_0x1a65c2(0xae8))),_0x5c0958=await getDocs(_0x196415);if(_0x5c0958[_0x1a65c2(0x8c4)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x15a2af=_0x5c0958['docs'][0x0];currentTeamQuizId=_0x15a2af['id'];const _0x4359f6=_0x15a2af[_0x1a65c2(0x7d4)](),_0x3d64e4=doc(db,_0x1a65c2(0xe45)+appId+_0x1a65c2(0xb89),_0x4359f6[_0x1a65c2(0x3a0)]),_0x8580cf=doc(db,_0x1a65c2(0xe45)+appId+'/public/data/quizzes',_0x4359f6[_0x1a65c2(0xbcc)]),[_0x334f51,_0x466e31]=await Promise[_0x1a65c2(0x10a)]([getDoc(_0x3d64e4),getDoc(_0x8580cf)]);if(!_0x334f51['exists']()||!_0x466e31['exists']())throw new Error(_0x1a65c2(0x945));currentQuizData=getShuffledQuiz({'id':_0x466e31['id'],..._0x466e31[_0x1a65c2(0x7d4)]()});const _0x1cd245=_0x334f51[_0x1a65c2(0x7d4)]();showTeamPlayerSelection(_0x1cd245[_0x1a65c2(0xa64)],currentQuizData[_0x1a65c2(0x669)]);}catch(_0x185016){console[_0x1a65c2(0x75e)](_0x1a65c2(0x99b),_0x185016),showMessage(_0x1a65c2(0x48f)+_0x185016[_0x1a65c2(0x340)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x2542bb=_0x1b93ee;currentInputPin='',updatePinDisplay(),document['getElementById']('pin-entry-modal')['classList'][_0x2542bb(0x200)](_0x2542bb(0xa21));}function updatePinDisplay(){const _0x359ca5=_0x1b93ee,_0x5c20ad=document[_0x359ca5(0xe56)]('.pin-digit-box');_0x5c20ad[_0x359ca5(0x242)]((_0xe7924b,_0x4863b7)=>{const _0x70963b=_0x359ca5;_0x4863b7<currentInputPin['length']?(_0xe7924b['textContent']=currentInputPin[_0x4863b7],_0xe7924b[_0x70963b(0x43c)][_0x70963b(0x128)]('border-indigo-500','bg-white'),_0xe7924b[_0x70963b(0x43c)]['remove']('border-gray-300',_0x70963b(0x35c))):(_0xe7924b[_0x70963b(0xc08)]='',_0xe7924b[_0x70963b(0x43c)][_0x70963b(0x200)](_0x70963b(0x3f6),'bg-white'),_0xe7924b[_0x70963b(0x43c)][_0x70963b(0x128)]('border-gray-300',_0x70963b(0x35c)));});}async function handlePinKeyPress(_0x374262){const _0x20d91b=_0x1b93ee;if(_0x374262===_0x20d91b(0x492))currentInputPin=currentInputPin[_0x20d91b(0xaa2)](0x0,-0x1);else currentInputPin[_0x20d91b(0x357)]<0x4&&(currentInputPin+=_0x374262);updatePinDisplay(),currentInputPin[_0x20d91b(0x357)]===0x4&&setTimeout(async()=>{const _0xaf5acd=_0x20d91b;document['getElementById']('pin-entry-modal')['classList'][_0xaf5acd(0x128)]('hidden'),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x2be351){const _0x3f9eac=_0x1b93ee,_0x102f37=_0x2be351[_0x3f9eac(0xb6d)]();showMessage(_0x3f9eac(0xd5d));try{const _0x32b088=collection(db,_0x3f9eac(0xe45)+appId+_0x3f9eac(0xbf0)),_0x38af8e=query(_0x32b088,where(_0x3f9eac(0xb7f),'==',_0x102f37),where(_0x3f9eac(0x7f7),'==','lobby')),_0x35b584=await getDocs(_0x38af8e);if(!_0x35b584[_0x3f9eac(0x8c4)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x35b584[_0x3f9eac(0x34d)][0x0]);return;}const _0x4d3c21=collection(db,_0x3f9eac(0xe45)+appId+_0x3f9eac(0xe74)),_0x27ffa6=query(_0x4d3c21,where(_0x3f9eac(0xb7f),'==',_0x102f37),where(_0x3f9eac(0x7f7),'in',[_0x3f9eac(0xae8),_0x3f9eac(0x776),_0x3f9eac(0x830),_0x3f9eac(0xb88)])),_0x3711f1=await getDocs(_0x27ffa6);if(!_0x3711f1[_0x3f9eac(0x8c4)]){console[_0x3f9eac(0xb20)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x3711f1[_0x3f9eac(0x34d)][0x0]);return;}showMessage(_0x3f9eac(0x925));}catch(_0x461b61){console[_0x3f9eac(0x75e)](_0x3f9eac(0xf4),_0x461b61),showMessage(_0x3f9eac(0xa20)+_0x461b61[_0x3f9eac(0x340)]);}}async function proceedWithTeamQuizJoin(_0x47d546){const _0x1306c5=_0x1b93ee;currentTeamQuizId=_0x47d546['id'];const _0x1399dd=_0x47d546[_0x1306c5(0x7d4)](),_0x56bd0a=doc(db,_0x1306c5(0xe45)+appId+_0x1306c5(0xb89),_0x1399dd[_0x1306c5(0x3a0)]),_0x201ee3=doc(db,_0x1306c5(0xe45)+appId+_0x1306c5(0x868),_0x1399dd['quizId']),[_0x14c940,_0x27185f]=await Promise[_0x1306c5(0x10a)]([getDoc(_0x56bd0a),getDoc(_0x201ee3)]);if(!_0x14c940['exists']()||!_0x27185f[_0x1306c5(0x5a9)]())throw new Error(_0x1306c5(0x945));currentQuizData=getShuffledQuiz({'id':_0x27185f['id'],..._0x27185f['data']()}),showTeamPlayerSelection(_0x14c940['data']()[_0x1306c5(0xa64)],currentQuizData[_0x1306c5(0x669)],_0x1399dd['mode']||_0x1306c5(0x134)),messageModal[_0x1306c5(0x43c)][_0x1306c5(0x128)](_0x1306c5(0xa21));}async function proceedWithSyncQuizJoin(_0xdc13c0){const _0x58a100=_0x1b93ee;currentLiveGameId=_0xdc13c0['id'];const _0x2f2976=_0xdc13c0['data'](),_0x995516=doc(db,_0x58a100(0xe45)+appId+_0x58a100(0x868),_0x2f2976[_0x58a100(0xbcc)]),_0x15ddd1=await getDoc(_0x995516);if(!_0x15ddd1[_0x58a100(0x5a9)]())throw new Error(_0x58a100(0xe1b));const _0x1f706e=_0x15ddd1[_0x58a100(0x7d4)](),_0x2a85c8=doc(db,_0x58a100(0xe45)+appId+_0x58a100(0xb89),_0x1f706e[_0x58a100(0x3a0)]),_0x49f011=await getDoc(_0x2a85c8);if(!_0x49f011[_0x58a100(0x5a9)]())throw new Error(_0x58a100(0x6ab));currentQuizData=_0x2f2976[_0x58a100(0xd4c)],showView(_0x58a100(0x21a)),showTeamPlayerSelection(_0x49f011[_0x58a100(0x7d4)]()[_0x58a100(0xa64)],_0x1f706e[_0x58a100(0x669)],'sync');const _0x29ed98=document['getElementById'](_0x58a100(0x704)),_0xb9d28=_0x29ed98[_0x58a100(0xae2)](!![]);_0x29ed98[_0x58a100(0x5f1)][_0x58a100(0xdf6)](_0xb9d28,_0x29ed98),_0xb9d28['onclick']=confirmAndJoinSyncGame,messageModal[_0x58a100(0x43c)][_0x58a100(0x128)]('hidden');}function getCleanApplicationHTML(){const _0x616bab=_0x1b93ee,_0x2da7d4=document['getElementById']('applicationContent');if(!_0x2da7d4)return'';const _0x1de58a=_0x2da7d4[_0x616bab(0xae2)](!![]);return _0x1de58a[_0x616bab(0xe56)]('.application-options\x20button')[_0x616bab(0x242)](_0x364b01=>{const _0x19cc87=_0x616bab;_0x364b01[_0x19cc87(0x43c)]['remove'](_0x19cc87(0xb04),'incorrect'),_0x364b01[_0x19cc87(0xe12)]=![];}),_0x1de58a[_0x616bab(0xc8c)];}function showTeamPlayerSelection(_0x40f5cc,_0x5f01eb,_0x4af1ab=_0x1b93ee(0x134)){const _0x37227a=_0x1b93ee;studentInitialView['classList'][_0x37227a(0x128)](_0x37227a(0xa21)),studentJoinGameView['classList'][_0x37227a(0x128)]('hidden'),document[_0x37227a(0x693)](_0x37227a(0x8c9))[_0x37227a(0x43c)][_0x37227a(0x200)](_0x37227a(0xa21));let _0x5ab6dc='Team\x20Quiz';if(_0x4af1ab==='group')_0x5ab6dc=_0x37227a(0x4c9);else _0x4af1ab==='sync'&&(_0x5ab6dc='Sync\x20Mode');document[_0x37227a(0x693)]('team-quiz-topic')[_0x37227a(0xc08)]=_0x5ab6dc+':\x20'+_0x5f01eb;const _0x541067=document['getElementById']('team-student-list');if(!_0x40f5cc||_0x40f5cc[_0x37227a(0x357)]===0x0){_0x541067[_0x37227a(0xc8c)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x37227a(0x693)]('confirm-team-players-btn')[_0x37227a(0xe12)]=!![];return;}_0x541067[_0x37227a(0xc8c)]=_0x40f5cc['map'](_0xe09265=>_0x37227a(0x1d9)+_0xe09265+_0x37227a(0xd4d)+_0xe09265+_0x37227a(0xc0a))[_0x37227a(0xd7b)](''),document[_0x37227a(0x693)](_0x37227a(0x704))[_0x37227a(0xe12)]=![];}async function confirmAndStartTeamQuiz(){const _0x5e86d3=_0x1b93ee,_0x170d11=Array['from'](document[_0x5e86d3(0xe56)](_0x5e86d3(0x426)))['map'](_0x2b17c7=>_0x2b17c7[_0x5e86d3(0xc5c)]);if(_0x170d11[_0x5e86d3(0x357)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x170d11,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x5c35e6=doc(db,_0x5e86d3(0xe45)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x5394cc=await getDoc(_0x5c35e6);if(!_0x5394cc[_0x5e86d3(0x5a9)]())throw new Error(_0x5e86d3(0xc8d));const _0x4cd761=_0x5394cc[_0x5e86d3(0x7d4)]();if(_0x4cd761[_0x5e86d3(0x444)]==='group'){const _0x3d2ec4={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x5c35e6,_0x3d2ec4);}else{const _0x5d416c=_0x4cd761[_0x5e86d3(0x77e)]||{};localTeamPlayers[_0x5e86d3(0x242)](_0x4a84c5=>{!_0x5d416c[_0x4a84c5]&&(_0x5d416c[_0x4a84c5]={'score':0x0,'answers':[]});}),await updateDoc(_0x5c35e6,{'responses':_0x5d416c});}document[_0x5e86d3(0x693)](_0x5e86d3(0x8c9))['classList'][_0x5e86d3(0x128)](_0x5e86d3(0xa21)),renderTeamQuizQuestion();const _0x39d53e={'gameId':currentTeamQuizId,'mode':_0x4cd761['mode']||_0x5e86d3(0x134),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5e86d3(0xe62),JSON['stringify'](_0x39d53e)),listenForTeamQuizUpdates();}catch(_0x2ed2e2){console[_0x5e86d3(0x75e)](_0x5e86d3(0x53c),_0x2ed2e2),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x369629=_0x1b93ee;if(localQuestionIndex>=currentQuizData[_0x369629(0x4e6)]['length']){displayTeamQuizFinalResults();return;}const _0x2edb87=currentQuizData[_0x369629(0x4e6)][localQuestionIndex],_0x204d3e=localTeamPlayers[localPlayerIndex],_0x558f67=_0x2edb87[_0x369629(0x994)]||currentQuizData['quizType'];let _0x54bf6e=_0x2edb87[_0x369629(0x87a)]||_0x2edb87[_0x369629(0xd6a)],_0x39ddcc='';switch(_0x558f67){case _0x369629(0x6c4):case _0x369629(0x7fc):_0x39ddcc=_0x2edb87['options']['map']((_0x1ec142,_0x16ea17)=>_0x369629(0xd15)+_0x16ea17+_0x369629(0xdcd)+_0x16ea17+_0x369629(0x3f3)+_0x16ea17+'\x22>'+_0x1ec142+'</label></div>')['join']('');break;case _0x369629(0xa76):_0x39ddcc=_0x369629(0x525);break;case _0x369629(0xbc0):case _0x369629(0x236):_0x39ddcc=_0x369629(0x404);break;case _0x369629(0x1bc):_0x39ddcc='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x2edb87[_0x369629(0xd3d)]['map'](_0x430974=>_0x369629(0x1fe)+_0x430974+'\x22>'+_0x430974+_0x369629(0x280))[_0x369629(0xd7b)]('')+_0x369629(0x657);break;default:_0x39ddcc=_0x369629(0x123);break;}studentQuizArea[_0x369629(0xc8c)]=_0x369629(0xa2c)+(localQuestionIndex+0x1)+_0x369629(0x2c5)+currentQuizData[_0x369629(0x4e6)]['length']+_0x369629(0xb67)+_0x204d3e+_0x369629(0xe3d)+(localQuestionIndex+0x1)+'.\x20'+_0x54bf6e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2edb87[_0x369629(0xabc)]?_0x369629(0x8ee)+_0x2edb87[_0x369629(0xabc)]+_0x369629(0x842):'')+_0x369629(0xb15)+_0x39ddcc+_0x369629(0x119),studentQuizArea['classList'][_0x369629(0x200)](_0x369629(0xa21));if(window[_0x369629(0xad6)])MathJax[_0x369629(0x840)]([studentQuizArea]);document['getElementById'](_0x369629(0xdf7))['addEventListener'](_0x369629(0x2df),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x194f18=_0x1b93ee,_0x25fac7=currentQuizData[_0x194f18(0x4e6)][localQuestionIndex],_0x43526f=_0x25fac7['questionType']||currentQuizData[_0x194f18(0xcd7)];let _0x18feb0=null,_0xf9dba=![];if(_0x43526f===_0x194f18(0xbc0)||_0x43526f===_0x194f18(0x236)){const _0x4a7759=document['querySelector'](_0x194f18(0xa53));if(!_0x4a7759||!_0x4a7759['value'][_0x194f18(0xb6d)]()){showMessage(_0x194f18(0x6a6));return;}_0x18feb0=_0x4a7759[_0x194f18(0xc5c)][_0x194f18(0xb6d)](),_0xf9dba=await gradeShortAnswer(_0x18feb0,_0x25fac7);}else{const _0x36b815=document[_0x194f18(0xbc1)](_0x194f18(0x4db));if(!_0x36b815||_0x36b815[_0x194f18(0xc5c)]===''){showMessage(_0x194f18(0xa72));return;}_0x18feb0=_0x36b815[_0x194f18(0xc5c)];switch(_0x43526f){case'true_false':_0xf9dba=_0x18feb0===_0x194f18(0xe0d)===_0x25fac7[_0x194f18(0xbde)];break;case _0x194f18(0x1bc):_0xf9dba=_0x18feb0===_0x25fac7['correctResponse'];break;default:_0xf9dba=parseInt(_0x18feb0)===_0x25fac7[_0x194f18(0x3b0)];break;}}const _0x3e56fc={'questionIndex':localQuestionIndex,'isCorrect':_0xf9dba},_0x381bf2=userId,_0x560ce6={['groups.'+_0x381bf2+'.answers']:arrayUnion(_0x3e56fc)};_0xf9dba&&(_0x560ce6[_0x194f18(0x652)+_0x381bf2+_0x194f18(0x21e)]=increment(0x1));try{await updateDoc(doc(db,_0x194f18(0xe45)+appId+_0x194f18(0xbf0),currentTeamQuizId),_0x560ce6),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x194f18(0x4e6)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xd46090){console[_0x194f18(0x75e)]('Error\x20submitting\x20group\x20answer:',_0xd46090),showMessage(_0x194f18(0xb69));}}async function handleTeamAnswerSubmit(){const _0x3e7459=_0x1b93ee,_0x300f25=await getDoc(doc(db,_0x3e7459(0xe45)+appId+_0x3e7459(0xbf0),currentTeamQuizId));if(!_0x300f25[_0x3e7459(0x5a9)]())return;const _0x4334a9=_0x300f25[_0x3e7459(0x7d4)]();if(_0x4334a9[_0x3e7459(0x444)]===_0x3e7459(0xa4c)){handleGroupAnswerSubmit();return;}const _0x55ee6a=localTeamPlayers[localPlayerIndex],_0x15bfbf=currentQuizData[_0x3e7459(0x4e6)][localQuestionIndex],_0x3c7465=_0x15bfbf['questionType']||currentQuizData['quizType'];let _0x548ccc=null,_0x59b16b=![];if(_0x3c7465===_0x3e7459(0xbc0)||_0x3c7465===_0x3e7459(0x236)){const _0x7d4688=document[_0x3e7459(0xbc1)]('textarea[name=\x22team_answer\x22]');if(!_0x7d4688||!_0x7d4688[_0x3e7459(0xc5c)][_0x3e7459(0xb6d)]()){showMessage(_0x3e7459(0x76c));return;}_0x548ccc=_0x7d4688[_0x3e7459(0xc5c)][_0x3e7459(0xb6d)](),_0x59b16b=await gradeShortAnswer(_0x548ccc,_0x15bfbf);}else{const _0x44ed2f=document[_0x3e7459(0xbc1)](_0x3e7459(0x4db));if(!_0x44ed2f||_0x44ed2f[_0x3e7459(0xc5c)]===''){showMessage(_0x3e7459(0xc21));return;}_0x548ccc=_0x44ed2f[_0x3e7459(0xc5c)];switch(_0x3c7465){case _0x3e7459(0xa76):_0x59b16b=_0x548ccc===_0x3e7459(0xe0d)===_0x15bfbf[_0x3e7459(0xbde)];break;case'matching_item':_0x59b16b=_0x548ccc===_0x15bfbf[_0x3e7459(0x2e8)];break;default:_0x59b16b=parseInt(_0x548ccc)===_0x15bfbf['correctAnswerIndex'];break;}}const _0x410a3e={'questionIndex':localQuestionIndex,'isCorrect':_0x59b16b,'answerValue':_0x548ccc},_0x5bfb3e={[_0x3e7459(0x299)+_0x55ee6a+_0x3e7459(0x48d)]:arrayUnion(_0x410a3e)};_0x59b16b&&(_0x5bfb3e[_0x3e7459(0x299)+_0x55ee6a+_0x3e7459(0x21e)]=increment(0x1));try{await updateDoc(doc(db,_0x3e7459(0xe45)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5bfb3e),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x285f73){console[_0x3e7459(0x75e)](_0x3e7459(0xb94),_0x285f73),showMessage(_0x3e7459(0xb69));}}async function displayTeamQuizFinalResults(){const _0x2da20c=_0x1b93ee;studentQuizArea[_0x2da20c(0x43c)]['add']('hidden'),studentResultArea[_0x2da20c(0x43c)]['remove']('hidden');const _0x5375b4=doc(db,_0x2da20c(0xe45)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x85adfa=await getDoc(_0x5375b4);if(!_0x85adfa[_0x2da20c(0x5a9)]()){studentResultArea[_0x2da20c(0xc8c)]=_0x2da20c(0xd32);return;}const _0x4c5f30=_0x85adfa[_0x2da20c(0x7d4)]();let _0xea6dc2=[];const _0x4fc75d=_0x4c5f30['mode']||_0x2da20c(0x134);if(_0x4fc75d===_0x2da20c(0xa4c)){const _0x1d91f2=_0x4c5f30[_0x2da20c(0x13e)][userId];_0x1d91f2?_0xea6dc2=[{'name':_0x2da20c(0x375)+localTeamPlayers[_0x2da20c(0xd7b)](',\x20'),'score':_0x1d91f2['score']||0x0}]:_0xea6dc2=[{'name':_0x2da20c(0x3ec),'score':_0x2da20c(0xe7d)}];}else _0xea6dc2=localTeamPlayers[_0x2da20c(0x926)](_0x47b8f3=>({'name':_0x47b8f3,'score':_0x4c5f30[_0x2da20c(0x77e)][_0x47b8f3]?.[_0x2da20c(0xe35)]||0x0}))[_0x2da20c(0xa05)]((_0x4404b2,_0x281b03)=>_0x281b03['score']-_0x4404b2['score']);studentResultArea[_0x2da20c(0xc8c)]=_0x2da20c(0x491)+_0xea6dc2[_0x2da20c(0x926)](_0x2ce561=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x2ce561[_0x2da20c(0x41d)]+_0x2da20c(0xbc2)+_0x2ce561[_0x2da20c(0xe35)]+_0x2da20c(0x121))[_0x2da20c(0xd7b)]('')+_0x2da20c(0xa60),sessionStorage[_0x2da20c(0xe44)](_0x2da20c(0xe62)),currentMode===_0x2da20c(0x23c)&&currentTeamQuizId&&setTimeout(()=>{const _0x3ade6a=_0x2da20c;deleteDoc(doc(db,'artifacts/'+appId+_0x3ade6a(0xbf0),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1b93ee(0xccb),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':'การนับ'},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x1f6)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0x7f1)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x79c)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x1c3)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x593)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x3d1)},{'category':_0x1b93ee(0x133),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0x54c)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x812)},{'category':_0x1b93ee(0x133),'name':'ศูนย์'},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x1db)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x300)},{'category':'จำนวนและการดำเนินการ','name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0xd87)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0x328)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0xc76)},{'category':_0x1b93ee(0x133),'name':'อัตราและอัตราหน่วย'},{'category':_0x1b93ee(0x133),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x8cf)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0xd9a)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x38a)},{'category':_0x1b93ee(0x133),'name':'การหารเศษส่วน'},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x65f)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0xe48)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x896)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x90b)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x170)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0x325)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x347)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0xbae)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x898)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x151)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x597)},{'category':'จำนวนและการดำเนินการ','name':_0x1b93ee(0x64f)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0x521)},{'category':_0x1b93ee(0x133),'name':_0x1b93ee(0xd07)},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x44f)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x929)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x701)},{'category':_0x1b93ee(0xb51),'name':'อุณหภูมิและการแปลง'},{'category':_0x1b93ee(0xb51),'name':'เส้นรอบรูป'},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x203)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x934)},{'category':'การวัด','name':_0x1b93ee(0x887)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x368)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0x78c)},{'category':'การวัด','name':_0x1b93ee(0xe26)},{'category':_0x1b93ee(0xb51),'name':_0x1b93ee(0xcab)},{'category':_0x1b93ee(0xb51),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x2db)},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x24f)},{'category':'เรขาคณิต','name':_0x1b93ee(0x903)},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x934)},{'category':'เรขาคณิต','name':_0x1b93ee(0x3d9)},{'category':_0x1b93ee(0x37b),'name':'ความคล้ายของรูป'},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x905)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x1b93ee(0x37b),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x248)},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0xa16)},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0xe39)},{'category':_0x1b93ee(0x37b),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x1b93ee(0x37b),'name':_0x1b93ee(0x6d5)},{'category':_0x1b93ee(0x37b),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0x988)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0xc44)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x482)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x9aa)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x3af)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0xd8c)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x52f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0x265)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x725)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xe02)},{'category':_0x1b93ee(0x6ae),'name':'สมการยกกำลัง'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x83e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0xaa7)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x5b3)},{'category':_0x1b93ee(0x6ae),'name':'ระบบอสมการ'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xc24)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xafc)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xcbd)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x6c6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0xcf1)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x94b)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xab9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b93ee(0xd6f)},{'category':_0x1b93ee(0x6ae),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xb19)},{'category':_0x1b93ee(0x6ae),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x1b93ee(0x6ae),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x1b93ee(0x6ae),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x1b93ee(0x6ae),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0xb98)},{'category':_0x1b93ee(0x6ae),'name':_0x1b93ee(0x736)},{'category':_0x1b93ee(0x6ae),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b93ee(0x356)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b93ee(0x1bf)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b93ee(0xe85)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x1b93ee(0x244),'name':_0x1b93ee(0xd96)},{'category':_0x1b93ee(0x244),'name':_0x1b93ee(0xc5d)},{'category':_0x1b93ee(0x244),'name':_0x1b93ee(0xc90)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b93ee(0x337)},{'category':_0x1b93ee(0x244),'name':_0x1b93ee(0x7fa)},{'category':_0x1b93ee(0xdba),'name':_0x1b93ee(0xdd5)},{'category':'ตรีโกณมิติ','name':_0x1b93ee(0xb08)},{'category':_0x1b93ee(0xdba),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x1b93ee(0xd44)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x1b93ee(0xdba),'name':'กฎของโคไซน์'},{'category':_0x1b93ee(0xdba),'name':_0x1b93ee(0x94d)},{'category':_0x1b93ee(0xdba),'name':_0x1b93ee(0x59a)},{'category':_0x1b93ee(0xdba),'name':_0x1b93ee(0x673)},{'category':'ตรีโกณมิติ','name':_0x1b93ee(0x1d0)},{'category':_0x1b93ee(0xdba),'name':_0x1b93ee(0x222)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x1b93ee(0x65c)},{'category':_0x1b93ee(0xb2f),'name':'ตารางความถี่'},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x7e5)},{'category':_0x1b93ee(0xb2f),'name':'ฮิสโตแกรม'},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x162)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x9a2)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0xd1e)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0xb8f)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x949)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x1b93ee(0xc22)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x8fa)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0xa48)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b93ee(0x193)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x62b)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b93ee(0xac2)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b93ee(0xdb5)},{'category':_0x1b93ee(0xb2f),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x70b)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0x6f6)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0xbdd)},{'category':_0x1b93ee(0xb2f),'name':_0x1b93ee(0xde6)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0x9cd)},{'category':_0x1b93ee(0xa2e),'name':'ความต่อเนื่อง'},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0x297)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0xbe6)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0xe73)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1b93ee(0x55f)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0x3dc)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0xa54)},{'category':_0x1b93ee(0xa2e),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0x377)},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0xbaa)},{'category':_0x1b93ee(0xa2e),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x1b93ee(0xa2e),'name':_0x1b93ee(0x14e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b93ee(0xbe7)},{'category':_0x1b93ee(0xa77),'name':_0x1b93ee(0x1e0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b93ee(0x5df)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b93ee(0x4eb)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x1b93ee(0xa77),'name':_0x1b93ee(0xc91)},{'category':_0x1b93ee(0x1c9),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1b93ee(0x42b)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1b93ee(0x40c)},{'category':_0x1b93ee(0x1c9),'name':_0x1b93ee(0xdd9)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1b93ee(0x5fa)},{'category':_0x1b93ee(0x336),'name':_0x1b93ee(0x983)},{'category':_0x1b93ee(0x336),'name':_0x1b93ee(0x931)}];function renderTopicCheckboxes(){const _0xca8e13=_0x1b93ee,_0x308fb4=document[_0xca8e13(0x693)]('math-topics-checkbox-container');if(!_0x308fb4)return;const _0x185cbd=allMathTopics,_0x1760f7=customMathTopics[_0xca8e13(0x926)](_0x4d471c=>({'id':_0x4d471c['id'],'category':_0xca8e13(0xc4e),'name':_0x4d471c[_0xca8e13(0x41d)]})),_0x546a36=[..._0x185cbd,..._0x1760f7],_0x520910=_0x546a36['reduce']((_0x500b15,_0x352ede)=>{const _0x88afc=_0xca8e13;return!_0x500b15[_0x352ede[_0x88afc(0xa62)]]&&(_0x500b15[_0x352ede['category']]=[]),_0x500b15[_0x352ede[_0x88afc(0xa62)]][_0x88afc(0xce5)](_0x352ede),_0x500b15;},{});let _0x1dfd24='';const _0x4ad263=[_0xca8e13(0xc4e),...Object[_0xca8e13(0x89a)](_0x520910)[_0xca8e13(0x107)](_0x42c4f7=>_0x42c4f7!==_0xca8e13(0xc4e))];for(const _0x34a9d9 of _0x4ad263){if(_0x520910[_0x34a9d9]){const _0x823ea=_0x34a9d9===_0xca8e13(0xc4e),_0x4a67e8=_0x823ea?_0xca8e13(0x866):_0xca8e13(0x477),_0x14a2e4=_0x823ea?'text-blue-700':_0xca8e13(0x268);_0x1dfd24+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x1dfd24+=_0xca8e13(0xad7)+_0x14a2e4+_0xca8e13(0x5f4)+_0x4a67e8+'\x20mr-2\x22></i>'+_0x34a9d9+_0xca8e13(0x3ee),_0x520910[_0x34a9d9][_0xca8e13(0x242)](_0x2544f1=>{const _0x1e40ee=_0xca8e13,_0x1069b2=!!_0x2544f1['id'],_0x2402c4=_0x1069b2?_0x1e40ee(0x390)+_0x2544f1['id']+_0x1e40ee(0x4d3)+_0x2544f1['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2544f1['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2544f1['id']+_0x1e40ee(0x40e):'';_0x1dfd24+=_0x1e40ee(0x3a2)+(_0x2544f1['id']||'')+_0x1e40ee(0x3e1)+_0x2544f1['name']+_0x1e40ee(0x796)+_0x2544f1[_0x1e40ee(0x41d)]+_0x1e40ee(0xb8e)+(_0x1069b2?_0x1e40ee(0xb05)+_0x2544f1['name']+'\x22>':'')+_0x1e40ee(0x152)+_0x2402c4+_0x1e40ee(0xb5e);}),_0x1dfd24+=_0xca8e13(0x842);}}_0x308fb4[_0xca8e13(0xc8c)]=_0x1dfd24||_0xca8e13(0xad3),_0x308fb4[_0xca8e13(0x663)]('change',updateSelectedTopicsCount),_0x308fb4[_0xca8e13(0x5e0)](_0xca8e13(0xe52),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3fad4,_0x3fccdf){const _0x3a3dc7=_0x1b93ee;if(!_0x3fad4||!_0x3fccdf['trim']()){showMessage(_0x3a3dc7(0x298));return;}try{const _0x3ba3b4=doc(db,_0x3a3dc7(0xe45)+appId+_0x3a3dc7(0x629),_0x3fad4);await updateDoc(_0x3ba3b4,{'name':_0x3fccdf[_0x3a3dc7(0xb6d)]()}),showMessage(_0x3a3dc7(0x675));}catch(_0x84cbdc){console[_0x3a3dc7(0x75e)](_0x3a3dc7(0x55d),_0x84cbdc),showMessage(_0x3a3dc7(0x1ef));}}function toggleTopicEditMode(_0x1895f5,_0x21c63b){const _0x2c2476=_0x1b93ee;if(!_0x1895f5)return;const _0x41a02b=_0x1895f5[_0x2c2476(0xbc1)](_0x2c2476(0x9c7)),_0xaff662=_0x1895f5[_0x2c2476(0xbc1)](_0x2c2476(0x3ac)),_0x6d1f5d=_0x1895f5[_0x2c2476(0xbc1)](_0x2c2476(0x505)),_0x174bd3=_0x1895f5[_0x2c2476(0xbc1)](_0x2c2476(0x760));_0x41a02b[_0x2c2476(0x43c)][_0x2c2476(0xe2c)](_0x2c2476(0xa21),_0x21c63b),_0xaff662['classList'][_0x2c2476(0xe2c)](_0x2c2476(0xa21),!_0x21c63b),_0x6d1f5d['classList'][_0x2c2476(0xe2c)](_0x2c2476(0xa21),_0x21c63b),_0x174bd3[_0x2c2476(0x43c)]['toggle']('hidden',!_0x21c63b),_0x21c63b&&(_0xaff662[_0x2c2476(0x9b3)](),_0xaff662[_0x2c2476(0x414)]());}async function handleStartLiveRace(_0x5b238a){const _0x2b6de3=_0x1b93ee;let _0x4a325d=allQuizzes[_0x2b6de3(0xe69)](_0x259e2=>_0x259e2['id']===_0x5b238a);if(!_0x4a325d){const _0x284865=doc(db,_0x2b6de3(0xe45)+appId+_0x2b6de3(0x868),_0x5b238a),_0x58c91b=await getDoc(_0x284865);if(!_0x58c91b[_0x2b6de3(0x5a9)]()){showMessage(_0x2b6de3(0xe1b));return;}_0x4a325d={'id':_0x58c91b['id'],..._0x58c91b[_0x2b6de3(0x7d4)]()};}const _0x3af2ad=getShuffledQuiz(_0x4a325d);currentQuizData=_0x3af2ad;const _0x33e094=_0x4a325d[_0x2b6de3(0x3a0)]||currentProjectId||null,_0x198689=Math[_0x2b6de3(0x567)](0x3e8+Math[_0x2b6de3(0x281)]()*0x2328)[_0x2b6de3(0x95f)]();currentLiveGamePin=_0x198689;try{const _0xfd4921=await addDoc(collection(db,_0x2b6de3(0xe45)+appId+_0x2b6de3(0x504)),{'quizId':_0x5b238a,'projectId':_0x33e094,'status':_0x2b6de3(0xae8),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x198689,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3af2ad});currentLiveGameId=_0xfd4921['id'],showAdminLobbyView(_0x198689,_0x4a325d[_0x2b6de3(0x669)]),listenForLiveGameUpdates();}catch(_0x3c6556){console['error'](_0x2b6de3(0x291),_0x3c6556),showMessage(_0x2b6de3(0x370));}}function updateSelectedTopicsCount(){const _0x582cfa=_0x1b93ee,_0x29b14a=document[_0x582cfa(0x693)](_0x582cfa(0x58f)),_0x521534=_0x29b14a[_0x582cfa(0xe56)](_0x582cfa(0x407))[_0x582cfa(0x357)],_0x22e0ee=document[_0x582cfa(0x693)](_0x582cfa(0x8c7));_0x521534>0x0?_0x22e0ee[_0x582cfa(0xc08)]='(เลือกแล้ว\x20'+_0x521534+'\x20หัวข้อ)':_0x22e0ee[_0x582cfa(0xc08)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1b93ee(0xda6),quizLeaderboardSortOrder=_0x1b93ee(0xb3f),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1b93ee(0xd41),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1b93ee(0xb7d),scratchpadPenColor=_0x1b93ee(0xa73),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3006cb,_0x2cf8b6){const _0x437346=_0x1b93ee;return Math[_0x437346(0xae0)](Math[_0x437346(0x1c2)](_0x3006cb['x']-_0x2cf8b6['x'],0x2)+Math[_0x437346(0x1c2)](_0x3006cb['y']-_0x2cf8b6['y'],0x2));}function getMidpoint(_0x4ac155,_0x1e048b){return{'x':(_0x4ac155['x']+_0x1e048b['x'])/0x2,'y':(_0x4ac155['y']+_0x1e048b['y'])/0x2};}function getTransformedPoint(_0x3b74ad,_0x36284d){return{'x':(_0x3b74ad-scratchpadOffset['x'])/scratchpadScale,'y':(_0x36284d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x13bda8=_0x1b93ee;if(!scratchpadCtx)return;const _0x501213=scratchpadCtx[_0x13bda8(0x161)],_0x2abad4=window[_0x13bda8(0x113)]||0x1,_0x500480=document['getElementById']('scratchpad-header');_0x500480&&(_0x500480['style'][_0x13bda8(0x759)]=_0x13bda8(0xe72),_0x500480[_0x13bda8(0x77b)][_0x13bda8(0x751)]=_0x13bda8(0x305)+scratchpadOffset['x']+_0x13bda8(0xb13)+scratchpadOffset['y']+_0x13bda8(0x188)+scratchpadScale+')'),scratchpadCtx[_0x13bda8(0x2c0)](),scratchpadCtx[_0x13bda8(0x88d)](_0x2abad4,0x0,0x0,_0x2abad4,0x0,0x0),scratchpadCtx[_0x13bda8(0xca6)](0x0,0x0,_0x501213['width'],_0x501213[_0x13bda8(0x69f)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x13bda8(0x9bf)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x13bda8(0x242)](_0x514285=>{drawStroke(_0x514285);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x13bda8(0x37d)]();}function renderGroupModeQuestion(){const _0x4b175b=_0x1b93ee;if(localQuestionIndex>=currentQuizData[_0x4b175b(0x4e6)]['length']){displayTeamQuizFinalResults();return;}const _0xe1bf3e=currentQuizData[_0x4b175b(0x4e6)][localQuestionIndex],_0x22a30e=_0xe1bf3e[_0x4b175b(0x994)]||currentQuizData[_0x4b175b(0xcd7)];let _0x393cdd=_0xe1bf3e['stem']||_0xe1bf3e['questionText'],_0x4c6317='';switch(_0x22a30e){case _0x4b175b(0x6c4):case'fill_in_with_choices':_0x4c6317=_0xe1bf3e['options'][_0x4b175b(0x926)]((_0x245c3c,_0x1f2595)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x1f2595+_0x4b175b(0xdcd)+_0x1f2595+_0x4b175b(0x3f3)+_0x1f2595+'\x22>'+_0x245c3c+_0x4b175b(0x33b))[_0x4b175b(0xd7b)]('');break;case _0x4b175b(0xa76):_0x4c6317=_0x4b175b(0x525);break;case _0x4b175b(0xbc0):case'fill_in_no_choices':_0x4c6317=_0x4b175b(0xa25);break;case _0x4b175b(0x1bc):_0x4c6317=_0x4b175b(0xa7d)+_0xe1bf3e[_0x4b175b(0xd3d)][_0x4b175b(0x926)](_0x2ee7bb=>'<option\x20value=\x22'+_0x2ee7bb+'\x22>'+_0x2ee7bb+_0x4b175b(0x280))[_0x4b175b(0xd7b)]('')+_0x4b175b(0x657);break;default:_0x4c6317=_0x4b175b(0x123);break;}studentQuizArea[_0x4b175b(0xc8c)]=_0x4b175b(0xa2c)+(localQuestionIndex+0x1)+_0x4b175b(0x2c5)+currentQuizData[_0x4b175b(0x4e6)][_0x4b175b(0x357)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x4b175b(0xd7b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x393cdd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xe1bf3e[_0x4b175b(0xabc)]?_0x4b175b(0x8ee)+_0xe1bf3e[_0x4b175b(0xabc)]+_0x4b175b(0x842):'')+_0x4b175b(0xb15)+_0x4c6317+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4b175b(0x43c)][_0x4b175b(0x200)]('hidden');if(window[_0x4b175b(0xad6)])MathJax['typesetPromise']([studentQuizArea]);document[_0x4b175b(0x693)]('submit-group-answer-btn')[_0x4b175b(0x5e0)](_0x4b175b(0x2df),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x5c54e3,_0x218a5a=null,_0x1d178c,_0x140356=null,_0x29fc31=![],_0x2ab1ef=null){const _0x353375=_0x1b93ee,_0x5ad26c=document[_0x353375(0x693)](_0x353375(0x38d));_0x5ad26c&&_0x5ad26c[_0x353375(0x71a)]({'behavior':_0x353375(0xdbd),'block':_0x353375(0x2b5)}),generateQuiz(_0x5c54e3,_0x218a5a,null,_0x2ab1ef,!![],_0x1d178c,_0x140356,_0x29fc31);}function handleGenerateAndShowLesson(_0x5d7fb8,_0x4277a1){const _0x3eb477=_0x1b93ee,_0x1ca045=document[_0x3eb477(0x693)]('lesson-view-modal'),_0x4d8fef=document[_0x3eb477(0x693)]('lesson-view-title'),_0x51a2da=document[_0x3eb477(0x693)]('lesson-loader'),_0x227924=document[_0x3eb477(0x693)]('lesson-sections-container');['pointContent',_0x3eb477(0x977),_0x3eb477(0x9e3),_0x3eb477(0x718)][_0x3eb477(0x242)](_0x1fe161=>{const _0x23fcaa=_0x3eb477,_0xea4327=document[_0x23fcaa(0x693)](_0x1fe161)[_0x23fcaa(0x851)];_0xea4327&&(_0xea4327['style']['display']=_0x23fcaa(0x621));}),_0x4d8fef[_0x3eb477(0xc08)]=_0x3eb477(0x86d)+_0x5d7fb8,_0x227924[_0x3eb477(0x43c)][_0x3eb477(0x128)](_0x3eb477(0xa21)),_0x51a2da[_0x3eb477(0x43c)][_0x3eb477(0x200)](_0x3eb477(0xa21)),_0x1ca045['classList']['remove'](_0x3eb477(0xa21)),generateLesson(_0x5d7fb8,_0x4277a1)[_0x3eb477(0x792)](_0x5f13b3=>{const _0x1a3c69=_0x3eb477;console[_0x1a3c69(0x75e)](_0x1a3c69(0x304),_0x5f13b3),showMessage(_0x1a3c69(0x5f5)),_0x1ca045[_0x1a3c69(0x43c)][_0x1a3c69(0x128)](_0x1a3c69(0xa21));});}function handlePointerDown(_0x1818ef){const _0x591d27=_0x1b93ee;_0x1818ef['preventDefault']();const _0x5ad1d5=scratchpadCtx[_0x591d27(0x161)],_0x47ec60=_0x5ad1d5[_0x591d27(0x978)](),_0x565f7c=_0x1818ef[_0x591d27(0x55b)]||(_0x1818ef[_0x591d27(0x9f2)]?_0x591d27(0x832):_0x591d27(0x3cd));if(_0x565f7c===_0x591d27(0xb7d)||_0x565f7c===_0x591d27(0x3cd)){if(_0x1818ef[_0x591d27(0x55b)]==='mouse'&&_0x1818ef[_0x591d27(0xb7e)]!==0x0){_0x1818ef[_0x591d27(0xb7e)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1818ef[_0x591d27(0x2a8)],'y':_0x1818ef[_0x591d27(0x566)]},_0x5ad1d5[_0x591d27(0x77b)][_0x591d27(0x8a5)]=_0x591d27(0xb0c));return;}activeTool===_0x591d27(0xacc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x441a11=getTransformedPoint(_0x1818ef['clientX']-_0x47ec60['left'],_0x1818ef['clientY']-_0x47ec60[_0x591d27(0x7f8)]);let _0x10abcb={'tool':activeTool,'points':[_0x441a11]};if(activeTool===_0x591d27(0xb7d))_0x10abcb[_0x591d27(0x8a2)]=scratchpadPenColor,_0x10abcb['size']=scratchpadPenSize;else{if(activeTool===_0x591d27(0x867))_0x10abcb[_0x591d27(0x8a2)]=scratchpadPenColor,_0x10abcb[_0x591d27(0x80b)]=scratchpadEraserSize;else{if(activeTool===_0x591d27(0x95b))_0x10abcb['color']=scratchpadHighlighterColor,_0x10abcb[_0x591d27(0x80b)]=scratchpadHighlighterSize;else activeTool===_0x591d27(0xacc)&&(_0x10abcb[_0x591d27(0x8a2)]=scratchpadPenColor,_0x10abcb['size']=scratchpadPenSize);}}currentStroke=_0x10abcb;}else _0x1818ef[_0x591d27(0x9f2)]&&(_0x1818ef['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1818ef[_0x591d27(0x9f2)][0x0][_0x591d27(0x2a8)],'y':_0x1818ef[_0x591d27(0x9f2)][0x0]['clientY']},{'x':_0x1818ef[_0x591d27(0x9f2)][0x1][_0x591d27(0x2a8)],'y':_0x1818ef['touches'][0x1][_0x591d27(0x566)]}),initialPinchDistance=getDistance({'x':_0x1818ef['touches'][0x0][_0x591d27(0x2a8)],'y':_0x1818ef[_0x591d27(0x9f2)][0x0][_0x591d27(0x566)]},{'x':_0x1818ef[_0x591d27(0x9f2)][0x1][_0x591d27(0x2a8)],'y':_0x1818ef[_0x591d27(0x9f2)][0x1][_0x591d27(0x566)]})));}function animateTrail(){const _0x3a5bf8=_0x1b93ee,_0x22f5d0=Date['now']();let _0x4a373b=![];for(let _0x4a995d=strokes[_0x3a5bf8(0x357)]-0x1;_0x4a995d>=0x0;_0x4a995d--){const _0x572a81=strokes[_0x4a995d];if(_0x572a81[_0x3a5bf8(0x5a8)]===_0x3a5bf8(0xacc)&&_0x572a81[_0x3a5bf8(0x544)]){const _0x2bd4d7=_0x22f5d0-_0x572a81['fadeStartTime'];_0x2bd4d7>=TRAIL_DURATION?strokes['splice'](_0x4a995d,0x1):(_0x572a81[_0x3a5bf8(0x89f)]=0x1-_0x2bd4d7/TRAIL_DURATION,_0x4a373b=!![]);}}redrawScratchpad(),_0x4a373b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x372b6c){const _0x144ce7=_0x1b93ee;if(!_0x372b6c||_0x372b6c[_0x144ce7(0x708)][_0x144ce7(0x357)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x144ce7(0x3dd)]=_0x144ce7(0x758),scratchpadCtx[_0x144ce7(0xbf1)]=_0x144ce7(0x758);if(_0x372b6c[_0x144ce7(0x5a8)]===_0x144ce7(0xacc)){const _0x5a71ad=_0x372b6c[_0x144ce7(0x80b)]/scratchpadScale;scratchpadCtx[_0x144ce7(0x80e)]=_0x372b6c['opacity']??0x1,scratchpadCtx['shadowColor']=_0x144ce7(0x85b),scratchpadCtx[_0x144ce7(0xd71)]=_0x5a71ad*0x3,scratchpadCtx[_0x144ce7(0xd51)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x144ce7(0xbd1)]=_0x5a71ad*2.5,scratchpadCtx[_0x144ce7(0x862)](),scratchpadCtx[_0x144ce7(0xbbd)](_0x372b6c[_0x144ce7(0x708)][0x0]['x'],_0x372b6c[_0x144ce7(0x708)][0x0]['y']);for(let _0x159875=0x1;_0x159875<_0x372b6c[_0x144ce7(0x708)]['length']-0x1;_0x159875++){const _0x37f0c0=getMidpoint(_0x372b6c['points'][_0x159875],_0x372b6c['points'][_0x159875+0x1]);scratchpadCtx['quadraticCurveTo'](_0x372b6c['points'][_0x159875]['x'],_0x372b6c['points'][_0x159875]['y'],_0x37f0c0['x'],_0x37f0c0['y']);}scratchpadCtx[_0x144ce7(0xadd)](),scratchpadCtx[_0x144ce7(0xc18)]=_0x144ce7(0xd73),scratchpadCtx[_0x144ce7(0xd71)]=0x0,scratchpadCtx['strokeStyle']=_0x144ce7(0x8cd),scratchpadCtx[_0x144ce7(0xbd1)]=_0x5a71ad,scratchpadCtx[_0x144ce7(0xadd)](),scratchpadCtx[_0x144ce7(0xa8f)]();}else{if(_0x372b6c[_0x144ce7(0x5a8)]==='highlighter'){scratchpadCtx['globalCompositeOperation']=_0x144ce7(0xde8),scratchpadCtx[_0x144ce7(0xd51)]=_0x372b6c[_0x144ce7(0x8a2)],scratchpadCtx[_0x144ce7(0xbd1)]=_0x372b6c[_0x144ce7(0x80b)],scratchpadCtx[_0x144ce7(0x862)](),scratchpadCtx[_0x144ce7(0xbbd)](_0x372b6c[_0x144ce7(0x708)][0x0]['x'],_0x372b6c[_0x144ce7(0x708)][0x0]['y']);for(let _0x1a89f1=0x1;_0x1a89f1<_0x372b6c[_0x144ce7(0x708)][_0x144ce7(0x357)]-0x1;_0x1a89f1++){const _0x1ef709=getMidpoint(_0x372b6c[_0x144ce7(0x708)][_0x1a89f1],_0x372b6c[_0x144ce7(0x708)][_0x1a89f1+0x1]);scratchpadCtx['quadraticCurveTo'](_0x372b6c['points'][_0x1a89f1]['x'],_0x372b6c[_0x144ce7(0x708)][_0x1a89f1]['y'],_0x1ef709['x'],_0x1ef709['y']);}scratchpadCtx[_0x144ce7(0xadd)](),scratchpadCtx[_0x144ce7(0xa8f)]();}else{scratchpadCtx[_0x144ce7(0x1fc)]=_0x372b6c['tool']===_0x144ce7(0x867)?_0x144ce7(0xa34):_0x144ce7(0xad9),scratchpadCtx['strokeStyle']=_0x372b6c[_0x144ce7(0x8a2)],scratchpadCtx['lineWidth']=_0x372b6c['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x144ce7(0xbbd)](_0x372b6c[_0x144ce7(0x708)][0x0]['x'],_0x372b6c['points'][0x0]['y']);for(let _0x284aff=0x1;_0x284aff<_0x372b6c[_0x144ce7(0x708)][_0x144ce7(0x357)]-0x1;_0x284aff++){const _0x4f91fc=getMidpoint(_0x372b6c[_0x144ce7(0x708)][_0x284aff],_0x372b6c['points'][_0x284aff+0x1]);scratchpadCtx['quadraticCurveTo'](_0x372b6c[_0x144ce7(0x708)][_0x284aff]['x'],_0x372b6c[_0x144ce7(0x708)][_0x284aff]['y'],_0x4f91fc['x'],_0x4f91fc['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x144ce7(0xa8f)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x46d64e){const _0xd67208=_0x1b93ee;_0x46d64e[_0xd67208(0x32c)]();const _0xf7921d=scratchpadCtx[_0xd67208(0x161)],_0x5ef30a=_0xf7921d['getBoundingClientRect']();if(_0x46d64e[_0xd67208(0x9f2)]){if(_0x46d64e[_0xd67208(0x9f2)][_0xd67208(0x357)]===0x1&&isDrawingOnScratchpad){const _0xbd3654=getTransformedPoint(_0x46d64e['touches'][0x0][_0xd67208(0x2a8)]-_0x5ef30a['left'],_0x46d64e[_0xd67208(0x9f2)][0x0]['clientY']-_0x5ef30a['top']);currentStroke[_0xd67208(0x708)]['push'](_0xbd3654),redrawScratchpad();}else{if(_0x46d64e[_0xd67208(0x9f2)][_0xd67208(0x357)]===0x2&&isPanning){const _0x8d1ac5=getDistance({'x':_0x46d64e['touches'][0x0][_0xd67208(0x2a8)],'y':_0x46d64e[_0xd67208(0x9f2)][0x0]['clientY']},{'x':_0x46d64e[_0xd67208(0x9f2)][0x1][_0xd67208(0x2a8)],'y':_0x46d64e[_0xd67208(0x9f2)][0x1][_0xd67208(0x566)]}),_0xc2d838=getMidpoint({'x':_0x46d64e[_0xd67208(0x9f2)][0x0][_0xd67208(0x2a8)],'y':_0x46d64e[_0xd67208(0x9f2)][0x0]['clientY']},{'x':_0x46d64e[_0xd67208(0x9f2)][0x1]['clientX'],'y':_0x46d64e[_0xd67208(0x9f2)][0x1][_0xd67208(0x566)]}),_0x3c98d2=_0x8d1ac5/ initialPinchDistance,_0x49b4ab=Math[_0xd67208(0x8da)](Math[_0xd67208(0x417)](scratchpadScale*_0x3c98d2,MIN_SCALE),MAX_SCALE),_0x433005=_0xc2d838['x']-panStart['x'],_0x1c9afd=_0xc2d838['y']-panStart['y'];scratchpadOffset['x']=_0xc2d838['x']-(_0xc2d838['x']-scratchpadOffset['x'])*(_0x49b4ab/scratchpadScale),scratchpadOffset['y']=_0xc2d838['y']-(_0xc2d838['y']-scratchpadOffset['y'])*(_0x49b4ab/scratchpadScale),scratchpadOffset['x']+=_0x433005,scratchpadOffset['y']+=_0x1c9afd,scratchpadScale=_0x49b4ab,initialPinchDistance=_0x8d1ac5,panStart=_0xc2d838,redrawScratchpad();}}}else{if(isMousePanning){const _0x167590=_0x46d64e[_0xd67208(0x2a8)]-panStart['x'],_0x5b52af=_0x46d64e['clientY']-panStart['y'];scratchpadOffset['x']+=_0x167590,scratchpadOffset['y']+=_0x5b52af,panStart={'x':_0x46d64e[_0xd67208(0x2a8)],'y':_0x46d64e[_0xd67208(0x566)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4c5e5f=getTransformedPoint(_0x46d64e['clientX']-_0x5ef30a[_0xd67208(0x42a)],_0x46d64e['clientY']-_0x5ef30a[_0xd67208(0x7f8)]);currentStroke[_0xd67208(0x708)][_0xd67208(0xce5)](_0x4c5e5f),redrawScratchpad();}}}}function handlePointerUp(_0x520f44){const _0xd28c3b=_0x1b93ee;_0x520f44['preventDefault']();const _0x3c7de2=scratchpadCtx[_0xd28c3b(0x161)];isMousePanning&&(isMousePanning=![],_0x3c7de2[_0xd28c3b(0x77b)][_0xd28c3b(0x8a5)]=_0xd28c3b(0x6b4)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xd28c3b(0x708)][_0xd28c3b(0x357)]>0x1&&(strokes[_0xd28c3b(0xce5)](currentStroke),currentStroke[_0xd28c3b(0x5a8)]===_0xd28c3b(0xacc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x28b34e=_0xd28c3b,_0x1b8ea6=strokes[_0x28b34e(0x107)](_0x3970da=>_0x3970da[_0x28b34e(0x5a8)]===_0x28b34e(0xacc)&&!_0x3970da[_0x28b34e(0x544)]);if(_0x1b8ea6[_0x28b34e(0x357)]>0x0){const _0x10bfb4=Date[_0x28b34e(0xa37)]();_0x1b8ea6['forEach'](_0x441569=>_0x441569[_0x28b34e(0x544)]=_0x10bfb4),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x188e32){const _0x47ce14=_0x1b93ee;_0x188e32[_0x47ce14(0x32c)]();const _0x41ee8d=_0x188e32[_0x47ce14(0x7ba)]*-0.005,_0x12c124=Math[_0x47ce14(0x8da)](Math[_0x47ce14(0x417)](scratchpadScale+_0x41ee8d,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x188e32[_0x47ce14(0x2a8)]-(_0x188e32[_0x47ce14(0x2a8)]-scratchpadOffset['x'])*(_0x12c124/scratchpadScale),scratchpadOffset['y']=_0x188e32[_0x47ce14(0x566)]-(_0x188e32['clientY']-scratchpadOffset['y'])*(_0x12c124/scratchpadScale),scratchpadScale=_0x12c124,redrawScratchpad();}function undo(){const _0x2688de=_0x1b93ee;strokes[_0x2688de(0x357)]>0x0&&(redoStrokes[_0x2688de(0xce5)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x51fde1=_0x1b93ee;redoStrokes[_0x51fde1(0x357)]>0x0&&(strokes[_0x51fde1(0xce5)](redoStrokes[_0x51fde1(0x138)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3365d3=_0x1b93ee;document['getElementById'](_0x3365d3(0xe2f))[_0x3365d3(0xe12)]=strokes[_0x3365d3(0x357)]===0x0,document[_0x3365d3(0x693)](_0x3365d3(0x3c0))[_0x3365d3(0xe12)]=redoStrokes['length']===0x0;}function openScratchpad(_0x2f2d17,_0x35d5a1){const _0x3dac39=_0x1b93ee,_0x46d55a=document[_0x3dac39(0x693)](_0x3dac39(0x12d)),_0x1f0182=document[_0x3dac39(0x693)]('scratchpad-question'),_0x220dd3=document['getElementById'](_0x3dac39(0x430)),_0x191c40=document[_0x3dac39(0x693)](_0x3dac39(0x372));_0x1f0182[_0x3dac39(0xc8c)]=_0x2f2d17['stem']||_0x2f2d17[_0x3dac39(0xd6a)],_0x220dd3[_0x3dac39(0xc8c)]=_0x35d5a1[_0x3dac39(0x926)]((_0x4e5e15,_0x163b0c)=>_0x3dac39(0x425)+String[_0x3dac39(0x1de)](0x41+_0x163b0c)+'.\x20'+_0x4e5e15+'</div>')[_0x3dac39(0xd7b)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x46d55a['classList'][_0x3dac39(0x200)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3dac39(0xad6)])MathJax[_0x3dac39(0x840)]([_0x1f0182,_0x220dd3]);}function openBlueprintQuizSettings(){const _0x15b0c6=_0x1b93ee,_0x3b6183=document['getElementById']('blueprint-settings-modal'),_0x54e942=blueprintPageSettings||(currentProjectData?currentProjectData[_0x15b0c6(0x3f0)]:{})||{};document[_0x15b0c6(0x693)]('bp-modal-quiz-type-select')['value']=_0x54e942[_0x15b0c6(0xcd7)]||document['getElementById'](_0x15b0c6(0x371))[_0x15b0c6(0xc5c)],document[_0x15b0c6(0x693)](_0x15b0c6(0xdcb))['innerHTML']=document['getElementById'](_0x15b0c6(0x789))[_0x15b0c6(0xc8c)],document[_0x15b0c6(0x693)](_0x15b0c6(0xdcb))[_0x15b0c6(0xc5c)]=_0x54e942[_0x15b0c6(0x990)]||document['getElementById'](_0x15b0c6(0x789))[_0x15b0c6(0xc5c)],document[_0x15b0c6(0x693)](_0x15b0c6(0x4d6))[_0x15b0c6(0xc8c)]=document[_0x15b0c6(0x693)](_0x15b0c6(0x696))['innerHTML'],document[_0x15b0c6(0x693)](_0x15b0c6(0x4d6))[_0x15b0c6(0xc5c)]=_0x54e942[_0x15b0c6(0xc17)]||document['getElementById'](_0x15b0c6(0x696))[_0x15b0c6(0xc5c)],document[_0x15b0c6(0x693)](_0x15b0c6(0x46e))[_0x15b0c6(0xc5c)]=_0x54e942['numQuestions']||document['getElementById'](_0x15b0c6(0x30e))['value'],document[_0x15b0c6(0x693)](_0x15b0c6(0x9fb))[_0x15b0c6(0xc5c)]=_0x54e942[_0x15b0c6(0x18e)]||document[_0x15b0c6(0x693)](_0x15b0c6(0x4c6))[_0x15b0c6(0xc5c)],document[_0x15b0c6(0x693)]('bp-modal-num-choices')[_0x15b0c6(0xc5c)]=_0x54e942[_0x15b0c6(0xcef)]||document[_0x15b0c6(0x693)](_0x15b0c6(0x96e))[_0x15b0c6(0xc5c)],document[_0x15b0c6(0x693)]('bp-modal-shuffle-setting-select')[_0x15b0c6(0xc5c)]=_0x54e942[_0x15b0c6(0xe1f)]||document[_0x15b0c6(0x693)](_0x15b0c6(0xc0c))['value'],document[_0x15b0c6(0x693)](_0x15b0c6(0x654))['checked']=_0x54e942[_0x15b0c6(0x502)]||document[_0x15b0c6(0x693)](_0x15b0c6(0x35f))['checked'],_0x3b6183['classList']['remove']('hidden');}function handleSaveBlueprintPageSettings(){const _0x13641b=_0x1b93ee;blueprintPageSettings={'quizType':document[_0x13641b(0x693)](_0x13641b(0x1d1))[_0x13641b(0xc5c)],'difficultyValue':document[_0x13641b(0x693)](_0x13641b(0xdcb))[_0x13641b(0xc5c)],'complexityValue':document[_0x13641b(0x693)](_0x13641b(0x4d6))[_0x13641b(0xc5c)],'numQuestions':document[_0x13641b(0x693)](_0x13641b(0x46e))['value'],'passingScore':document[_0x13641b(0x693)]('bp-modal-passing-score-input')[_0x13641b(0xc5c)],'numChoices':document[_0x13641b(0x693)](_0x13641b(0x264))[_0x13641b(0xc5c)],'shuffle':document['getElementById'](_0x13641b(0x463))[_0x13641b(0xc5c)],'includeImages':document[_0x13641b(0x693)]('bp-modal-include-images-checkbox')['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x13641b(0x693)](_0x13641b(0x876))[_0x13641b(0x43c)][_0x13641b(0x128)](_0x13641b(0xa21));}function listenForParallelTestShortcuts(){const _0x3c2e65=_0x1b93ee,_0x3a5fbd=doc(db,_0x3c2e65(0xe34),'parallelTestShortcutsConfig');onSnapshot(_0x3a5fbd,_0x44db14=>{const _0x20c1b7=_0x3c2e65;let _0x4836ab=[],_0x1e18ad=[],_0x4d50d6={};if(_0x44db14[_0x20c1b7(0x5a9)]()){const _0x3b7673=_0x44db14[_0x20c1b7(0x7d4)]();_0x4836ab=_0x3b7673[_0x20c1b7(0x727)]||[],_0x1e18ad=_0x3b7673[_0x20c1b7(0xa38)]||[],_0x4d50d6=_0x3b7673[_0x20c1b7(0xd9d)]||{};}!_0x1e18ad[_0x20c1b7(0xe69)](_0x416e7c=>_0x416e7c['id']===_0x20c1b7(0x10a))&&_0x1e18ad[_0x20c1b7(0xb30)]({'id':_0x20c1b7(0x10a),'name':_0x20c1b7(0x6d8),'isDefault':!![]}),!_0x4836ab[_0x20c1b7(0xe69)](_0x450ee8=>_0x450ee8['id']===_0x20c1b7(0x7b6))&&_0x4836ab[_0x20c1b7(0xb30)]({'id':'parallel-default-1','name':_0x20c1b7(0x163),'url':'','isDefault':!![]}),!_0x4836ab[_0x20c1b7(0xe69)](_0x1ac5b4=>_0x1ac5b4['id']===_0x20c1b7(0xd5f))&&_0x4836ab['unshift']({'id':_0x20c1b7(0xd5f),'name':_0x20c1b7(0xae7),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x4836ab,parallelShortcutTabs=_0x1e18ad,parallelShortcutOrder=_0x4d50d6,renderParallelTestShortcuts(),!document[_0x20c1b7(0x693)](_0x20c1b7(0x4f7))[_0x20c1b7(0x43c)][_0x20c1b7(0x539)](_0x20c1b7(0xa21))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x5dba29=_0x1b93ee,_0x51339e=doc(db,_0x5dba29(0xe34),_0x5dba29(0x919));try{await setDoc(_0x51339e,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x272c85){console[_0x5dba29(0x75e)](_0x5dba29(0xc9a),_0x272c85);}}function renderAdditionalParallelShortcutsModal(){const _0x31d84f=_0x1b93ee,_0x33d05f=document[_0x31d84f(0x693)]('parallel-shortcut-tabs-nav'),_0x409757=document[_0x31d84f(0x693)]('additional-parallel-shortcuts-list');if(!_0x33d05f||!_0x409757)return;_0x33d05f[_0x31d84f(0xc8c)]=parallelShortcutTabs['map'](_0x2793f1=>{const _0x1ea8a5=_0x31d84f,_0x328dce=_0x2793f1['id']===activeParallelShortcutTabId;return _0x1ea8a5(0x5cb)+_0x2793f1['id']+_0x1ea8a5(0x363)+(_0x328dce?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x1ea8a5(0x660)+_0x2793f1[_0x1ea8a5(0x41d)]+_0x1ea8a5(0x9b2)+_0x2793f1[_0x1ea8a5(0x41d)]+_0x1ea8a5(0x3eb)+(!_0x2793f1[_0x1ea8a5(0xa19)]?_0x1ea8a5(0xa45)+_0x2793f1['id']+_0x1ea8a5(0x401):'')+_0x1ea8a5(0x14c);})[_0x31d84f(0xd7b)]('');const _0x116a21=parallelShortcutTabs['find'](_0xec13d7=>_0xec13d7['id']===activeParallelShortcutTabId);let _0x4e13bc=_0x116a21?.[_0x31d84f(0xa19)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x374ec5=>(_0x116a21?.[_0x31d84f(0x3d2)]||[])[_0x31d84f(0x8bb)](_0x374ec5['id']));const _0x2337f6=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x4e13bc['sort']((_0x360603,_0x1baa1d)=>{const _0x4f1a0b=_0x31d84f,_0x118814=_0x2337f6[_0x4f1a0b(0x76e)](_0x360603['id']),_0x35fd52=_0x2337f6[_0x4f1a0b(0x76e)](_0x1baa1d['id']);return(_0x118814===-0x1?Infinity:_0x118814)-(_0x35fd52===-0x1?Infinity:_0x35fd52);}),_0x409757[_0x31d84f(0xc8c)]=_0x4e13bc[_0x31d84f(0x926)](_0x3cc89e=>{const _0x394588=_0x31d84f,_0x3c3cc8=_0x3cc89e[_0x394588(0x2ad)]?'🔁':'🔗',_0x13c80e=parallelShortcutTabs['filter'](_0x182a06=>!_0x182a06[_0x394588(0xa19)]),_0x46e075=_0x116a21[_0x394588(0xa19)]&&_0x13c80e[_0x394588(0x357)]>0x0?_0x394588(0x554)+_0x13c80e[_0x394588(0x926)](_0xa24f55=>_0x394588(0xbc3)+_0x3cc89e['id']+_0x394588(0x4e5)+_0xa24f55['id']+'\x22>'+_0xa24f55[_0x394588(0x41d)]+_0x394588(0xd66))[_0x394588(0xd7b)]('')+_0x394588(0x7b1):'';return _0x394588(0x823)+_0x3cc89e['id']+_0x394588(0x135)+_0x3c3cc8+'\x20'+_0x3cc89e[_0x394588(0x41d)]+_0x394588(0xca5)+_0x3cc89e['id']+_0x394588(0xb8a)+_0x3cc89e['id']+_0x394588(0x6a0)+(!_0x3cc89e[_0x394588(0xa19)]?'<button\x20data-id=\x22'+_0x3cc89e['id']+_0x394588(0x257):'')+_0x394588(0x31d)+(!_0x116a21[_0x394588(0xa19)]?_0x394588(0x80a)+_0x3cc89e['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x394588(0x31d)+_0x46e075+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x31d84f(0xd7b)]('')||_0x31d84f(0x920),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x53df7b=_0x1b93ee;document[_0x53df7b(0xe56)](_0x53df7b(0xa6f))[_0x53df7b(0x242)](_0x2a3bb6=>{const _0x4de920=_0x53df7b;_0x2a3bb6['onclick']=_0x298c2c=>{const _0x5b337a=_0x1173;activeParallelShortcutTabId=_0x298c2c['currentTarget']['dataset'][_0x5b337a(0x93c)],renderAdditionalParallelShortcutsModal();},_0x2a3bb6[_0x4de920(0x96d)]=_0xa63cf5=>{const _0x13f83a=_0x4de920,_0x46686b=_0xa63cf5['currentTarget'][_0x13f83a(0xbc1)](_0x13f83a(0xb91));_0xa63cf5['currentTarget']['querySelector'](_0x13f83a(0xc26))['classList'][_0x13f83a(0x128)](_0x13f83a(0xa21)),_0x46686b[_0x13f83a(0x43c)][_0x13f83a(0x200)](_0x13f83a(0xa21)),_0x46686b[_0x13f83a(0x9b3)](),_0x46686b[_0x13f83a(0x414)]();};}),document[_0x53df7b(0xe56)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x53df7b(0x242)](_0x53170b=>{const _0x5e9de4=_0x53df7b,_0x35afd6=()=>{const _0x20a019=_0x1173,_0x4d8155=_0x53170b[_0x20a019(0xe11)]('.parallel-shortcut-tab-btn')[_0x20a019(0x43d)]['tabId'],_0x148b7e=parallelShortcutTabs['find'](_0x19b82d=>_0x19b82d['id']===_0x4d8155);_0x148b7e&&(_0x148b7e[_0x20a019(0x41d)]=_0x53170b[_0x20a019(0xc5c)]['trim']()||_0x148b7e['name'],saveParallelShortcutConfig());};_0x53170b[_0x5e9de4(0xdab)]=_0x35afd6,_0x53170b['onkeydown']=_0x3ba259=>{const _0xff50d0=_0x5e9de4;if(_0x3ba259[_0xff50d0(0xd6d)]===_0xff50d0(0x4dc))_0x53170b['blur']();};}),document['querySelectorAll'](_0x53df7b(0x1c4))[_0x53df7b(0x242)](_0x3452a2=>_0x3452a2['onclick']=_0x10c3ff=>{const _0x2988ba=_0x53df7b,_0x113c5c=_0x10c3ff[_0x2988ba(0x5be)]['dataset'][_0x2988ba(0x93c)];showConfirmation(_0x2988ba(0xb7a),()=>{const _0x2c61b6=_0x2988ba;parallelShortcutTabs=parallelShortcutTabs[_0x2c61b6(0x107)](_0x3d49e6=>_0x3d49e6['id']!==_0x113c5c),delete parallelShortcutOrder[_0x113c5c];if(activeParallelShortcutTabId===_0x113c5c)activeParallelShortcutTabId=_0x2c61b6(0x10a);saveParallelShortcutConfig();});}),document[_0x53df7b(0xe56)](_0x53df7b(0xc7f))[_0x53df7b(0x242)](_0x544b7e=>_0x544b7e[_0x53df7b(0x72e)]=_0x5d9c1f=>{const _0x3db2e4=_0x53df7b;_0x5d9c1f[_0x3db2e4(0x32c)]();const {shortcutId:_0x51933c,targetTabId:_0x5ea33f}=_0x5d9c1f[_0x3db2e4(0x5be)][_0x3db2e4(0x43d)],_0xb6a58=parallelShortcutTabs[_0x3db2e4(0xe69)](_0x295c98=>_0x295c98['id']===_0x5ea33f);_0xb6a58&&!_0xb6a58[_0x3db2e4(0x3d2)][_0x3db2e4(0x8bb)](_0x51933c)&&(_0xb6a58[_0x3db2e4(0x3d2)][_0x3db2e4(0xce5)](_0x51933c),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x53df7b(0xd37))[_0x53df7b(0x242)](_0x424321=>_0x424321[_0x53df7b(0x72e)]=_0x4cde11=>{const _0x549028=_0x53df7b,_0xd96d54=_0x4cde11[_0x549028(0x5be)][_0x549028(0x43d)]['shortcutId'],_0x2935ca=parallelShortcutTabs[_0x549028(0xe69)](_0x4e82f4=>_0x4e82f4['id']===activeParallelShortcutTabId);_0x2935ca&&!_0x2935ca['isDefault']&&(_0x2935ca[_0x549028(0x3d2)]=_0x2935ca[_0x549028(0x3d2)]['filter'](_0x2f16f8=>_0x2f16f8!==_0xd96d54),saveParallelShortcutConfig());}),document[_0x53df7b(0xe56)](_0x53df7b(0x459))['forEach'](_0x20fdc3=>_0x20fdc3['onclick']=_0x28f1fb=>{const _0x415635=_0x53df7b;_0x28f1fb[_0x415635(0xd72)]();const _0x1fa742=_0x28f1fb[_0x415635(0x5be)][_0x415635(0x7dc)];document[_0x415635(0xe56)](_0x415635(0x2ca))[_0x415635(0x242)](_0x3a7960=>_0x3a7960['classList'][_0x415635(0x128)](_0x415635(0xa21))),_0x1fa742[_0x415635(0x43c)][_0x415635(0x200)]('hidden');});const _0xb140f2=document[_0x53df7b(0x693)]('additional-parallel-shortcuts-list');let _0x109289=null;_0xb140f2[_0x53df7b(0x9f1)]=_0x51f285=>{const _0x3fdb0f=_0x53df7b;_0x109289=_0x51f285[_0x3fdb0f(0x588)][_0x3fdb0f(0xe11)]('.shortcut-list-item');if(_0x109289)setTimeout(()=>_0x109289['classList'][_0x3fdb0f(0x128)](_0x3fdb0f(0x677)),0x0);},_0xb140f2[_0x53df7b(0x3fb)]=()=>{const _0x2db27f=_0x53df7b;_0x109289&&(_0x109289[_0x2db27f(0x43c)][_0x2db27f(0x200)]('opacity-50'),_0x109289=null);},_0xb140f2[_0x53df7b(0xd59)]=_0x66ddde=>{const _0x5a5a1a=_0x53df7b;_0x66ddde[_0x5a5a1a(0x32c)]();},_0xb140f2[_0x53df7b(0xc98)]=_0x2d518f=>{const _0x8e2335=_0x53df7b;_0x2d518f['preventDefault']();if(_0x109289){const _0x16444a=[..._0xb140f2['querySelectorAll'](_0x8e2335(0x4e7))]['reduce']((_0x34269a,_0x1b4081)=>{const _0x384fc7=_0x8e2335,_0x549169=_0x1b4081[_0x384fc7(0x978)](),_0x30fd71=_0x2d518f[_0x384fc7(0x566)]-_0x549169[_0x384fc7(0x7f8)]-_0x549169[_0x384fc7(0x69f)]/0x2;return _0x30fd71<0x0&&_0x30fd71>_0x34269a[_0x384fc7(0x639)]?{'offset':_0x30fd71,'element':_0x1b4081}:_0x34269a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x8e2335(0xade)];_0x16444a==null?_0xb140f2[_0x8e2335(0x39f)](_0x109289):_0xb140f2['insertBefore'](_0x109289,_0x16444a);const _0x36d2f4=[..._0xb140f2[_0x8e2335(0xe56)](_0x8e2335(0xcb1))][_0x8e2335(0x926)](_0x5391a9=>_0x5391a9[_0x8e2335(0x43d)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x36d2f4,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1669d6=_0x1b93ee,_0x1058ec=prompt(_0x1669d6(0x7ac),_0x1669d6(0xb47));_0x1058ec&&_0x1058ec[_0x1669d6(0xb6d)]()&&(parallelShortcutTabs['push']({'id':'tab_'+Date['now'](),'name':_0x1058ec[_0x1669d6(0xb6d)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3f1fcb=_0x1b93ee,_0x4b3071=document[_0x3f1fcb(0x693)](_0x3f1fcb(0x59e)),_0x1b75ee=document[_0x3f1fcb(0x693)](_0x3f1fcb(0xdeb)),_0x520b28=document[_0x3f1fcb(0x693)](_0x3f1fcb(0x28e));if(_0x520b28)_0x520b28[_0x3f1fcb(0x43c)][_0x3f1fcb(0x128)](_0x3f1fcb(0xa21));if(!_0x4b3071||!_0x1b75ee)return;const _0x5211cb=parallelTestShortcuts[_0x3f1fcb(0xaa2)](0x0,0x4),_0x50cf81=parallelTestShortcuts[_0x3f1fcb(0xaa2)](0x4);_0x4b3071[_0x3f1fcb(0xc8c)]=_0x5211cb[_0x3f1fcb(0x926)](_0x4823c2=>{const _0x1d8a2e=_0x3f1fcb,_0x1509ba=_0x4823c2[_0x1d8a2e(0x2ad)]&&_0x4823c2[_0x1d8a2e(0x2ad)]['trim']()!=='',_0x1c9a83=_0x1509ba?_0x1d8a2e(0x58c):_0x1d8a2e(0x468),_0x4fd6e5=_0x1509ba?'🔁':'🔗',_0x1de098=!_0x4823c2[_0x1d8a2e(0xa19)]?_0x1d8a2e(0x570)+_0x4823c2['id']+_0x1d8a2e(0x6ef):'';return _0x1d8a2e(0x9a0)+_0x4823c2['id']+_0x1d8a2e(0x691)+_0x1c9a83+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x4fd6e5+'\x20'+_0x4823c2[_0x1d8a2e(0x41d)]+_0x1d8a2e(0x8f3)+_0x4823c2['id']+_0x1d8a2e(0x6c9)+_0x1de098+_0x1d8a2e(0xca8);})[_0x3f1fcb(0xd7b)](''),_0x50cf81[_0x3f1fcb(0x357)]>0x0&&(_0x4b3071[_0x3f1fcb(0xc8c)]+=_0x3f1fcb(0x1f3)),_0x50cf81['length']>0x0?_0x1b75ee[_0x3f1fcb(0xc8c)]=_0x50cf81[_0x3f1fcb(0x926)](_0x44a7e8=>_0x3f1fcb(0x697)+(_0x44a7e8[_0x3f1fcb(0x2ad)]?'🔁':'🔗')+'\x20'+_0x44a7e8[_0x3f1fcb(0x41d)]+_0x3f1fcb(0x24a)+_0x44a7e8['id']+_0x3f1fcb(0xd26)+_0x44a7e8['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x44a7e8[_0x3f1fcb(0xa19)]?_0x3f1fcb(0x570)+_0x44a7e8['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x1b75ee['innerHTML']=_0x3f1fcb(0x79d);}function openParallelTestShortcutEditor(_0x28b045=null){const _0x1e4514=_0x1b93ee,_0x59e606=document[_0x1e4514(0x693)]('parallel-shortcut-editor-modal'),_0x1e483c=document[_0x1e4514(0x693)](_0x1e4514(0x320)),_0x22fb83=document[_0x1e4514(0x693)](_0x1e4514(0xc0e)),_0x5a3311=document['getElementById'](_0x1e4514(0x5ac)),_0x30feab=document['getElementById'](_0x1e4514(0xd67));if(_0x28b045){const _0x2f150f=parallelTestShortcuts[_0x1e4514(0xe69)](_0x5af510=>_0x5af510['id']===_0x28b045);if(!_0x2f150f)return;_0x1e483c[_0x1e4514(0xc08)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x22fb83['value']=_0x2f150f['id'],_0x5a3311[_0x1e4514(0xc5c)]=_0x2f150f[_0x1e4514(0x41d)],_0x30feab[_0x1e4514(0xc5c)]=_0x2f150f['url']||'';}else _0x1e483c[_0x1e4514(0xc08)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x22fb83['value']='',_0x5a3311['value']='',_0x30feab[_0x1e4514(0xc5c)]='';_0x59e606[_0x1e4514(0x43c)]['remove'](_0x1e4514(0xa21));}async function saveParallelTestShortcutChanges(){const _0x19bd28=_0x1b93ee,_0x361302=document['getElementById'](_0x19bd28(0xc0e))[_0x19bd28(0xc5c)],_0x99b6aa=document[_0x19bd28(0x693)](_0x19bd28(0x5ac))[_0x19bd28(0xc5c)][_0x19bd28(0xb6d)](),_0xbda47c=document['getElementById']('parallel-shortcut-url-input')[_0x19bd28(0xc5c)][_0x19bd28(0xb6d)]();if(!_0x99b6aa){showMessage(_0x19bd28(0xc16));return;}const _0x7acf30={'id':_0x361302||_0x19bd28(0xe30)+Date['now'](),'name':_0x99b6aa,'url':_0xbda47c,'isDefault':_0x361302['startsWith'](_0x19bd28(0xdb3))};let _0x577c11;_0x361302?_0x577c11=parallelTestShortcuts[_0x19bd28(0x926)](_0x439d4c=>_0x439d4c['id']===_0x361302?_0x7acf30:_0x439d4c):_0x577c11=[...parallelTestShortcuts,_0x7acf30];try{const _0x474db5=doc(db,_0x19bd28(0xe34),_0x19bd28(0x919));await setDoc(_0x474db5,{'shortcuts':_0x577c11},{'merge':!![]}),document[_0x19bd28(0x693)](_0x19bd28(0xe71))[_0x19bd28(0x43c)][_0x19bd28(0x128)](_0x19bd28(0xa21));}catch(_0x5cebc7){console['error'](_0x19bd28(0x4c7),_0x5cebc7),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x367f0e){const _0x569e5a=_0x1b93ee,_0x230d17=parallelTestShortcuts[_0x569e5a(0xe69)](_0x33123a=>_0x33123a['id']===_0x367f0e);if(!_0x230d17)return;if(!_0x230d17['url']||_0x230d17['url'][_0x569e5a(0xb6d)]()===''){openParallelTestShortcutEditor(_0x367f0e);return;}const _0x431072=document['getElementById'](_0x569e5a(0x28c)),_0xb79383=document[_0x569e5a(0x693)](_0x569e5a(0x1a8));document['getElementById'](_0x569e5a(0x38d))[_0x569e5a(0x43c)][_0x569e5a(0x200)](_0x569e5a(0xa21)),document[_0x569e5a(0x693)](_0x569e5a(0x724))[_0x569e5a(0xc8c)]='',_0x431072[_0x569e5a(0x43c)][_0x569e5a(0x200)](_0x569e5a(0xa21)),_0xb79383['textContent']='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x2f0474;_0x230d17[_0x569e5a(0x2ad)][_0x569e5a(0x95a)]()[_0x569e5a(0x8bb)]('.txt')?_0x2f0474=_0x569e5a(0x4f4):_0x2f0474=_0x569e5a(0x3a9);const _0x42fffa=await fetchFileFromUrl(_0x230d17[_0x569e5a(0x2ad)],_0x2f0474);await handleGenerateParallelTest(_0x42fffa);}catch(_0x2d5cfc){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x2d5cfc),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2d5cfc['message']),_0x431072[_0x569e5a(0x43c)]['add'](_0x569e5a(0xa21));}}function initializeScratchpadCanvas(){const _0x5a0bc1=_0x1b93ee,_0x1fb31a=document[_0x5a0bc1(0x693)](_0x5a0bc1(0xab2)),_0x4b36ff=document[_0x5a0bc1(0xbc1)](_0x5a0bc1(0x381));if(!_0x1fb31a||!_0x4b36ff)return;scratchpadCtx=_0x1fb31a[_0x5a0bc1(0x3bd)]('2d',{'willReadFrequently':!![]});const _0x113e4b=window[_0x5a0bc1(0x113)]||0x1,_0x47c32d=_0x4b36ff[_0x5a0bc1(0x978)]();_0x1fb31a['width']=_0x47c32d['width']*_0x113e4b,_0x1fb31a[_0x5a0bc1(0x69f)]=_0x47c32d['height']*_0x113e4b,_0x1fb31a['style'][_0x5a0bc1(0x129)]=_0x47c32d['width']+'px',_0x1fb31a['style'][_0x5a0bc1(0x69f)]=_0x47c32d[_0x5a0bc1(0x69f)]+'px',scratchpadCtx[_0x5a0bc1(0xb70)](_0x113e4b,_0x113e4b),scratchpadCtx['lineJoin']=_0x5a0bc1(0x758),scratchpadCtx[_0x5a0bc1(0xbf1)]='round',_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x875),handlePointerDown),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0xa7b),handlePointerMove),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x32b),handlePointerUp),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x774),handlePointerUp),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x9dc),handleWheel),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x711),handlePointerDown),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x967),handlePointerMove),_0x1fb31a[_0x5a0bc1(0x663)](_0x5a0bc1(0x45a),handlePointerUp),_0x1fb31a[_0x5a0bc1(0x5e0)](_0x5a0bc1(0x875),handlePointerDown),_0x1fb31a[_0x5a0bc1(0x5e0)](_0x5a0bc1(0xa7b),handlePointerMove),_0x1fb31a[_0x5a0bc1(0x5e0)](_0x5a0bc1(0x32b),handlePointerUp),_0x1fb31a[_0x5a0bc1(0x5e0)](_0x5a0bc1(0x774),handlePointerUp),_0x1fb31a[_0x5a0bc1(0x5e0)](_0x5a0bc1(0x9dc),handleWheel,{'passive':![]}),_0x1fb31a['addEventListener']('touchstart',handlePointerDown,{'passive':![]}),_0x1fb31a[_0x5a0bc1(0x5e0)]('touchmove',handlePointerMove,{'passive':![]}),_0x1fb31a['addEventListener'](_0x5a0bc1(0x45a),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x33ed83=_0x1b93ee,_0x24a60b=document[_0x33ed83(0x693)](_0x33ed83(0x12d)),_0x1db832=document['getElementById']('scratchpad-controls');_0x1db832['innerHTML']=_0x33ed83(0x77f)+scratchpadHighlighterSize+_0x33ed83(0x392);const _0xa1a124=document['getElementById'](_0x33ed83(0x5eb)),_0x2a508a=document[_0x33ed83(0x693)](_0x33ed83(0xc87)),_0x26d5e8=document[_0x33ed83(0x693)]('trail-tool-btn'),_0x153fb7=document[_0x33ed83(0x693)](_0x33ed83(0x378)),_0x4e59b8=document['getElementById'](_0x33ed83(0x10d)),_0x176bf0=document[_0x33ed83(0x693)](_0x33ed83(0xd1b)),_0x3b7fb0=document[_0x33ed83(0x693)](_0x33ed83(0xabb)),_0x15c2ae=[_0xa1a124,_0x2a508a,_0x26d5e8,_0x153fb7];document['getElementById'](_0x33ed83(0xc84))[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>_0x24a60b[_0x33ed83(0x43c)]['add'](_0x33ed83(0xa21))),document[_0x33ed83(0x693)](_0x33ed83(0xd98))[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x33ed83(0x693)](_0x33ed83(0xba4))[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x33ed83(0x693)]('undo-btn')[_0x33ed83(0x5e0)]('click',undo),document[_0x33ed83(0x693)](_0x33ed83(0x3c0))['addEventListener'](_0x33ed83(0x2df),redo);const _0x3d30eb=_0x3025e7=>{const _0x12caf3=_0x33ed83;_0x15c2ae[_0x12caf3(0x242)](_0x405655=>_0x405655[_0x12caf3(0x43c)][_0x12caf3(0x200)](_0x12caf3(0x69a))),_0x3025e7['classList'][_0x12caf3(0x128)]('active'),_0x4e59b8[_0x12caf3(0x43c)][_0x12caf3(0x128)]('hidden'),_0x176bf0[_0x12caf3(0x43c)]['add'](_0x12caf3(0xa21)),_0x3b7fb0[_0x12caf3(0x43c)][_0x12caf3(0x128)](_0x12caf3(0xa21));if(activeTool==='pen'||activeTool===_0x12caf3(0xacc))_0x4e59b8[_0x12caf3(0x43c)][_0x12caf3(0x200)](_0x12caf3(0xa21));else{if(activeTool===_0x12caf3(0x95b))_0x176bf0[_0x12caf3(0x43c)][_0x12caf3(0x200)]('hidden');else activeTool===_0x12caf3(0x867)&&_0x3b7fb0['classList']['remove'](_0x12caf3(0xa21));}};_0xa1a124[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>{const _0x192240=_0x33ed83;activeTool=_0x192240(0xb7d),_0x3d30eb(_0xa1a124);}),_0x2a508a[_0x33ed83(0x5e0)]('click',()=>{activeTool='eraser',_0x3d30eb(_0x2a508a);}),_0x26d5e8[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>{const _0x3ee9d3=_0x33ed83;activeTool=_0x3ee9d3(0xacc),_0x3d30eb(_0x26d5e8);}),_0x153fb7[_0x33ed83(0x5e0)](_0x33ed83(0x2df),()=>{activeTool='highlighter',_0x3d30eb(_0x153fb7);}),_0x4e59b8[_0x33ed83(0xe56)](_0x33ed83(0xdaf))[_0x33ed83(0x242)](_0x275f2e=>{const _0x388785=_0x33ed83;_0x275f2e[_0x388785(0x5e0)](_0x388785(0x2df),_0x119fbe=>{const _0x1467fb=_0x388785;scratchpadPenSize=parseInt(_0x119fbe['target']['dataset'][_0x1467fb(0x80b)],0xa),_0x4e59b8['querySelectorAll']('.pen-size-btn')[_0x1467fb(0x242)](_0xe30b04=>_0xe30b04[_0x1467fb(0x43c)][_0x1467fb(0x200)](_0x1467fb(0x69a))),_0x119fbe[_0x1467fb(0x588)]['classList'][_0x1467fb(0x128)](_0x1467fb(0x69a));});}),_0x3b7fb0[_0x33ed83(0xe56)](_0x33ed83(0x533))[_0x33ed83(0x242)](_0x13ac90=>{const _0x37c334=_0x33ed83;_0x13ac90['addEventListener'](_0x37c334(0x2df),_0xbf68d3=>{const _0x1f4919=_0x37c334,_0x59dc69=_0xbf68d3[_0x1f4919(0x5be)];scratchpadEraserSize=parseInt(_0x59dc69[_0x1f4919(0x43d)][_0x1f4919(0x80b)],0xa),_0x3b7fb0[_0x1f4919(0xe56)]('.eraser-size-btn')[_0x1f4919(0x242)](_0x4bd3eb=>_0x4bd3eb[_0x1f4919(0x43c)][_0x1f4919(0x200)](_0x1f4919(0x69a))),_0x59dc69[_0x1f4919(0x43c)][_0x1f4919(0x128)](_0x1f4919(0x69a));});}),_0x4e59b8[_0x33ed83(0xe56)](_0x33ed83(0x284))[_0x33ed83(0x242)](_0x54b3b9=>{const _0x4729cd=_0x33ed83;_0x54b3b9['addEventListener'](_0x4729cd(0x2df),_0x157734=>{const _0x7bb8da=_0x4729cd;scratchpadPenColor=_0x157734[_0x7bb8da(0x588)]['dataset'][_0x7bb8da(0x8a2)],_0x4e59b8[_0x7bb8da(0xe56)](_0x7bb8da(0x284))[_0x7bb8da(0x242)](_0x52dbd6=>_0x52dbd6['classList'][_0x7bb8da(0x200)](_0x7bb8da(0x69a))),_0x157734[_0x7bb8da(0x588)][_0x7bb8da(0x43c)]['add'](_0x7bb8da(0x69a));});}),_0x176bf0['querySelectorAll'](_0x33ed83(0x398))[_0x33ed83(0x242)](_0x36b30c=>{const _0x27c0c8=_0x33ed83;_0x36b30c[_0x27c0c8(0x5e0)](_0x27c0c8(0x2df),_0x2afb9e=>{const _0x4b2304=_0x27c0c8;scratchpadHighlighterColor=_0x2afb9e[_0x4b2304(0x588)][_0x4b2304(0x43d)][_0x4b2304(0x8a2)],_0x176bf0[_0x4b2304(0xe56)]('.highlighter-color-btn')[_0x4b2304(0x242)](_0x4166b0=>_0x4166b0['classList']['remove'](_0x4b2304(0x69a))),_0x2afb9e['target'][_0x4b2304(0x43c)][_0x4b2304(0x128)]('active');});});const _0x476d6c=document['getElementById'](_0x33ed83(0xb3a)),_0x50d984=document[_0x33ed83(0x693)](_0x33ed83(0x266));_0x476d6c[_0x33ed83(0x5e0)]('input',_0x4b0597=>{const _0x54fe13=_0x33ed83,_0x25b044=parseInt(_0x4b0597['target'][_0x54fe13(0xc5c)],0xa);scratchpadHighlighterSize=_0x25b044,_0x50d984[_0x54fe13(0xc08)]=_0x25b044;}),window[_0x33ed83(0x5e0)](_0x33ed83(0x6e6),()=>{const _0x164c93=_0x33ed83;!_0x24a60b[_0x164c93(0x43c)][_0x164c93(0x539)](_0x164c93(0xa21))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x1b93ee(0xa02),'description':_0x1b93ee(0x8dd),'icon':_0x1b93ee(0xab4)},'QUICK_THINKER':{'id':_0x1b93ee(0x2f7),'name':_0x1b93ee(0xe14),'description':_0x1b93ee(0x56e),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x1b93ee(0x68f),'name':_0x1b93ee(0x4d1),'description':_0x1b93ee(0xd48),'icon':_0x1b93ee(0xbf3)},'FIRST_TRY_ACE':{'id':_0x1b93ee(0xbaf),'name':_0x1b93ee(0xa91),'description':_0x1b93ee(0x6e1),'icon':_0x1b93ee(0xdef)},'COMEBACK_KING':{'id':_0x1b93ee(0xdd1),'name':_0x1b93ee(0x1e7),'description':_0x1b93ee(0x719),'icon':_0x1b93ee(0xa30)},'SPECIALIST':{'id':_0x1b93ee(0x403),'name':'ผู้เชี่ยวชาญ','description':_0x1b93ee(0x909),'icon':_0x1b93ee(0x97e)},'PERSEVERANCE':{'id':'perseverance','name':_0x1b93ee(0x4a8),'description':_0x1b93ee(0xdcc),'icon':_0x1b93ee(0xac4)}},firebaseConfig={'apiKey':_0x1b93ee(0x1cd),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x1b93ee(0xcf5),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x1b93ee(0xa52),'appId':_0x1b93ee(0x4e9),'measurementId':_0x1b93ee(0x6f8)},appId=typeof __app_id!==_0x1b93ee(0x183)?__app_id:_0x1b93ee(0xbd5),adminView=document[_0x1b93ee(0x693)]('admin-view'),studentView=document['getElementById'](_0x1b93ee(0x9e2)),projectDashboardView=document[_0x1b93ee(0x693)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0x1b93ee(0x810)),quizResultsView=document[_0x1b93ee(0x693)]('quiz-results-view'),projectList=document['getElementById'](_0x1b93ee(0xfa)),noProjectsMsg=document[_0x1b93ee(0x693)](_0x1b93ee(0xd1a)),projectTitle=document[_0x1b93ee(0x693)]('project-title'),projectIdDisplay=document[_0x1b93ee(0x693)](_0x1b93ee(0x8af)),studentList=document['getElementById'](_0x1b93ee(0x98c)),messageModal=document[_0x1b93ee(0x693)](_0x1b93ee(0xc96)),modalMessage=document['getElementById'](_0x1b93ee(0xe1d)),createProjectModal=document[_0x1b93ee(0x693)]('create-project-modal'),adminPasswordModal=document[_0x1b93ee(0x693)]('admin-password-modal'),confirmationModal=document[_0x1b93ee(0x693)]('confirmation-modal'),userIdDisplay=document[_0x1b93ee(0x693)]('user-id-display'),topicTab=document[_0x1b93ee(0x693)]('topic-tab'),textTab=document['getElementById'](_0x1b93ee(0x126)),topicInputArea=document['getElementById'](_0x1b93ee(0x50f)),textInputArea=document[_0x1b93ee(0x693)](_0x1b93ee(0x4ab)),manageTab=document[_0x1b93ee(0x693)](_0x1b93ee(0xbeb)),resultsTab=document[_0x1b93ee(0x693)](_0x1b93ee(0x249)),leaderboardTab=document[_0x1b93ee(0x693)](_0x1b93ee(0x6e4)),manageTabContent=document[_0x1b93ee(0x693)](_0x1b93ee(0x4fa)),resultsTabContent=document[_0x1b93ee(0x693)](_0x1b93ee(0xe18)),leaderboardTabContent=document[_0x1b93ee(0x693)](_0x1b93ee(0x972)),projectQuizzesList=document[_0x1b93ee(0x693)]('project-quizzes-list'),fileTab=document[_0x1b93ee(0x693)](_0x1b93ee(0x96c)),fileInputArea=document[_0x1b93ee(0x693)]('file-input-area'),fileUploadInput=document[_0x1b93ee(0x693)](_0x1b93ee(0x8a6)),worksheetTab=document[_0x1b93ee(0x693)]('worksheet-tab'),worksheetInputArea=document[_0x1b93ee(0x693)](_0x1b93ee(0xa3b)),generateWorksheetBtn=document[_0x1b93ee(0x693)](_0x1b93ee(0xaef)),studentInitialView=document['getElementById'](_0x1b93ee(0x44e)),studentNameSelectionView=document['getElementById'](_0x1b93ee(0x963)),studentQuizArea=document[_0x1b93ee(0x693)](_0x1b93ee(0x335)),studentResultArea=document[_0x1b93ee(0x693)](_0x1b93ee(0x22f)),studentReadingArea=document[_0x1b93ee(0x693)]('student-reading-area'),loadQuizBtn=document['getElementById'](_0x1b93ee(0xa40)),startQuizBtn=document[_0x1b93ee(0x693)](_0x1b93ee(0x344)),studentJoinGameView=document[_0x1b93ee(0x693)]('student-join-game-view'),presentationModal=document[_0x1b93ee(0x693)](_0x1b93ee(0x541)),renameQuizModal=document[_0x1b93ee(0x693)]('rename-quiz-modal'),moveQuizModal=document[_0x1b93ee(0x693)](_0x1b93ee(0x240)),quizSettingsModal=document[_0x1b93ee(0x693)]('quiz-settings-modal'),quizStatusModal=document[_0x1b93ee(0x693)]('quiz-status-modal'),liveGameView=document[_0x1b93ee(0x693)](_0x1b93ee(0x13f));function handleFixLessonLatex(){const _0x191b4d=_0x1b93ee,_0x2e559e=document[_0x191b4d(0x693)]('lesson-view-content');if(!_0x2e559e){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x3607d1=_0x2e559e[_0x191b4d(0xe56)](['.ai-content\x20p',_0x191b4d(0x818),_0x191b4d(0x9f0),_0x191b4d(0x8a7),_0x191b4d(0x65a)][_0x191b4d(0xd7b)](','));let _0x44dbf7=0x0;const _0x32571c=_0x2e6f21=>_0x2e6f21[_0x191b4d(0xc08)]||'',_0x3fa01c=(_0x43512b,_0x4be8ab)=>{const _0x131d75=_0x191b4d;if(_0x43512b['querySelector']&&_0x43512b[_0x131d75(0xbc1)](_0x131d75(0xe23)))return;_0x43512b[_0x131d75(0xc08)]=_0x4be8ab;},_0x2b9dd0=_0x4670b7=>_0x4670b7[_0x191b4d(0x5cc)](/\u00A0/g,'\x20')[_0x191b4d(0x5cc)](/\u200B/g,'')[_0x191b4d(0x5cc)](/\r\n?/g,'\x0a'),_0x2df953=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x133561=_0x5174c7=>{const _0x54fa92=_0x191b4d;let _0x369e10=_0x5174c7[_0x54fa92(0xb6d)]();const _0x478ca9=[_0x54fa92(0x70f),_0x54fa92(0x731),'tfrac',_0x54fa92(0xae0),'text',_0x54fa92(0x3ab),_0x54fa92(0x29c),_0x54fa92(0x748),_0x54fa92(0x943),'geq','le','ge',_0x54fa92(0x7b0),'pm',_0x54fa92(0xb01),_0x54fa92(0xaf1),_0x54fa92(0x153),_0x54fa92(0x65b),_0x54fa92(0xb20),'ln',_0x54fa92(0x439),_0x54fa92(0x88b),_0x54fa92(0x847),_0x54fa92(0x42a),_0x54fa92(0xb86),_0x54fa92(0xa36),_0x54fa92(0x342),_0x54fa92(0xc0d),_0x54fa92(0x7ad)];_0x478ca9[_0x54fa92(0x242)](_0x3bb0fe=>{const _0x31283f=_0x54fa92;_0x369e10=_0x369e10['replace'](new RegExp(_0x31283f(0x3ef)+_0x3bb0fe+'\x5cb','g'),(_0x8b768c,_0x38f4d7)=>_0x38f4d7+'\x5c'+_0x3bb0fe);});const _0x3e15a7=[[/×/g,_0x54fa92(0x5a6)],[/·/g,_0x54fa92(0x6c0)],[/÷/g,_0x54fa92(0x603)],[/≤/g,_0x54fa92(0x147)],[/≥/g,_0x54fa92(0x9b5)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x3e15a7['forEach'](([_0x5f35a8,_0x562698])=>{_0x369e10=_0x369e10['replace'](_0x5f35a8,_0x562698);}),_0x369e10=_0x369e10['replace'](/√\s*([A-Za-z0-9]+)/g,_0x54fa92(0x971)),_0x369e10=_0x369e10['replace'](/(\d+)\s*%/g,'$1\x5c%'),_0x369e10;},_0x14b8f7=_0x339d23=>{const _0x3203fc=_0x191b4d;if(/\$|\\\(|\\\[/['test'](_0x339d23))return _0x339d23;if(!_0x2df953[_0x3203fc(0x448)](_0x339d23))return _0x339d23;const _0x1bfaf0=_0x339d23['match'](/^\s*/)[0x0],_0x6d9366=_0x339d23[_0x3203fc(0x723)](/\s*$/)[0x0],_0x462370=_0x339d23['trim']();return _0x1bfaf0+'$'+_0x133561(_0x462370)+'$'+_0x6d9366;};_0x3607d1[_0x191b4d(0x242)](_0x80adfb=>{const _0x29c175=_0x191b4d,_0x4f4766=_0x32571c(_0x80adfb);let _0x57e882=_0x2b9dd0(_0x4f4766);_0x57e882=_0x57e882[_0x29c175(0x5cc)](/\$([^$]*?)\$/g,(_0x2581f3,_0x4fa903)=>'$'+_0x133561(_0x4fa903)+'$');const _0x3cd941=_0x57e882[_0x29c175(0x239)](/(\s+)/),_0x4507f4=_0x3cd941['map'](_0x4219b1=>{if(/\s+/['test'](_0x4219b1))return _0x4219b1;return _0x14b8f7(_0x4219b1);});_0x57e882=_0x4507f4[_0x29c175(0xd7b)](''),_0x57e882!==_0x4f4766&&(_0x3fa01c(_0x80adfb,_0x57e882),_0x44dbf7++);});if(_0x44dbf7>0x0){showMessage(_0x191b4d(0xb7c)+_0x44dbf7+_0x191b4d(0xbd6));try{window[_0x191b4d(0xad6)]&&MathJax[_0x191b4d(0x840)]&&MathJax[_0x191b4d(0x840)]([_0x2e559e]);}catch(_0x2a17ea){console[_0x191b4d(0x75e)](_0x191b4d(0xe2e),_0x2a17ea);}}else showMessage(_0x191b4d(0x8d1));}function handleAutoFixLatex(){const _0x3c888a=_0x1b93ee,_0x256ee7=document[_0x3c888a(0x693)](_0x3c888a(0xaf6))||document,_0x1c8a29=_0x256ee7['querySelectorAll'](_0x3c888a(0xcb5));let _0x956407=0x0;const _0xe6a585=_0x3b855f=>'value'in _0x3b855f?String(_0x3b855f[_0x3c888a(0xc5c)]):_0x3b855f[_0x3c888a(0x79a)]!==undefined?_0x3b855f[_0x3c888a(0x79a)]:_0x3b855f[_0x3c888a(0xc08)]||'',_0x1984d2=(_0x3ac088,_0x43064b)=>{const _0x9743a5=_0x3c888a;if(_0x9743a5(0xc5c)in _0x3ac088){_0x3ac088['value']=_0x43064b;return;}if(_0x3ac088['querySelector']&&_0x3ac088[_0x9743a5(0xbc1)](_0x9743a5(0xe23)))return;if(_0x3ac088[_0x9743a5(0x79a)]!==undefined)_0x3ac088[_0x9743a5(0x79a)]=_0x43064b;else _0x3ac088['textContent']=_0x43064b;},_0x46b83f=_0x3aa177=>_0x3aa177[_0x3c888a(0x5cc)](/\u00A0/g,'\x20')[_0x3c888a(0x5cc)](/\u200B/g,'')[_0x3c888a(0x5cc)](/\r\n?/g,'\x0a'),_0x5c7e52=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x91d471=_0x5f2630=>{const _0x510b01=_0x3c888a;let _0x701abf=_0x5f2630[_0x510b01(0xb6d)]();_0x701abf=_0x701abf[_0x510b01(0x5cc)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x510b01(0x139)),_0x701abf=_0x701abf[_0x510b01(0x5cc)](/\bfrac(\d)(\d)/g,_0x510b01(0x139));const _0xa37ef1=[_0x510b01(0x70f),_0x510b01(0xae0),_0x510b01(0x3ab),_0x510b01(0x29c),'div',_0x510b01(0x943),'geq',_0x510b01(0x7b0),'pm',_0x510b01(0xaf1),'cos','tan',_0x510b01(0xb20),'ln'];_0xa37ef1['forEach'](_0x4e055d=>{const _0x2a1f43=_0x510b01;_0x701abf=_0x701abf[_0x2a1f43(0x5cc)](new RegExp(_0x2a1f43(0x3ef)+_0x4e055d+'\x5cb','g'),(_0x4757f2,_0xe83e84)=>_0xe83e84+'\x5c'+_0x4e055d);});const _0x301283=[[/×/g,'\x5ctimes'],[/·/g,_0x510b01(0x6c0)],[/÷/g,_0x510b01(0x603)],[/≤/g,_0x510b01(0x147)],[/≥/g,_0x510b01(0x9b5)],[/≠/g,_0x510b01(0x466)],[/±/g,_0x510b01(0x9d5)]];return _0x301283[_0x510b01(0x242)](([_0x5af1fc,_0x5a87c6])=>{const _0x62a9cf=_0x510b01;_0x701abf=_0x701abf[_0x62a9cf(0x5cc)](_0x5af1fc,_0x5a87c6);}),_0x701abf;},_0x5a9625=_0x37f8ae=>{const _0xf5aaf4=_0x3c888a;if(/\$|\\\(|\\\[/['test'](_0x37f8ae))return _0x37f8ae;if(!_0x5c7e52[_0xf5aaf4(0x448)](_0x37f8ae))return _0x37f8ae;const _0x3f460f=_0x37f8ae[_0xf5aaf4(0x723)](/^\s*/)[0x0],_0x3732a9=_0x37f8ae[_0xf5aaf4(0x723)](/\s*$/)[0x0],_0x1a3967=_0x37f8ae[_0xf5aaf4(0xb6d)]();return _0x3f460f+'$'+_0x91d471(_0x1a3967)+'$'+_0x3732a9;};_0x1c8a29['forEach'](_0x57b505=>{const _0x456930=_0x3c888a,_0x49b4e2=_0xe6a585(_0x57b505);let _0x349ad9=_0x46b83f(_0x49b4e2);_0x349ad9=_0x349ad9[_0x456930(0x5cc)](/\$([^$]*?)\$/g,(_0x38a365,_0x1351c5)=>'$'+_0x91d471(_0x1351c5)+'$');const _0x1042dc=_0x349ad9[_0x456930(0x239)](/(\s+)/),_0x43aaa5=_0x1042dc[_0x456930(0x926)](_0x35a3fa=>/\s+/[_0x456930(0x448)](_0x35a3fa)?_0x35a3fa:_0x5a9625(_0x35a3fa));_0x349ad9=_0x43aaa5[_0x456930(0xd7b)](''),_0x349ad9!==_0x49b4e2&&(_0x1984d2(_0x57b505,_0x349ad9),_0x956407++);});if(_0x956407>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x956407+_0x3c888a(0x999));try{if(window[_0x3c888a(0xad6)]&&MathJax[_0x3c888a(0x840)])MathJax[_0x3c888a(0x840)]();}catch(_0x246ae1){}}else showMessage(_0x3c888a(0xdd3));}async function listenForCustomMathTopics(){const _0x610921=_0x1b93ee,_0x22125e=collection(db,_0x610921(0xe45)+appId+_0x610921(0x629));onSnapshot(_0x22125e,_0x4d7700=>{const _0x30e0a4=_0x610921;customMathTopics=_0x4d7700[_0x30e0a4(0x34d)][_0x30e0a4(0x926)](_0x242a1f=>({'id':_0x242a1f['id'],..._0x242a1f['data']()})),renderTopicCheckboxes();},_0x832c61=>{const _0x5a8642=_0x610921;console[_0x5a8642(0x75e)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x832c61);});}function handleSelectAllTopics(){const _0x1440f7=_0x1b93ee,_0x4fa295=document['getElementById']('math-topics-checkbox-container'),_0x39210c=_0x4fa295[_0x1440f7(0xe56)](_0x1440f7(0x837));_0x39210c[_0x1440f7(0x242)](_0xea5641=>{const _0x5940a0=_0x1440f7;_0xea5641[_0x5940a0(0xb48)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x273b20=_0x1b93ee,_0x304f2f=document[_0x273b20(0x693)](_0x273b20(0x58f)),_0x459109=_0x304f2f[_0x273b20(0xe56)](_0x273b20(0x837));_0x459109[_0x273b20(0x242)](_0x4ef5aa=>{const _0xc3ab59=_0x273b20;_0x4ef5aa[_0xc3ab59(0xb48)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x5bfee6){const _0x30092f=_0x1b93ee;if(!_0x5bfee6)return;try{const _0x4dc221=doc(db,_0x30092f(0xe45)+appId+_0x30092f(0x629),_0x5bfee6);await deleteDoc(_0x4dc221),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4eb332){console['error'](_0x30092f(0x39b),_0x4eb332),showMessage(_0x30092f(0x7b9));}}async function handleAddCustomMathTopic(){const _0x2f8ca3=_0x1b93ee,_0xc49ccc=document[_0x2f8ca3(0x693)](_0x2f8ca3(0xcae)),_0x5856fc=_0xc49ccc[_0x2f8ca3(0xc5c)][_0x2f8ca3(0xb6d)]();if(!_0x5856fc){showMessage(_0x2f8ca3(0x9ed));return;}if(!userId){showMessage(_0x2f8ca3(0x57c));return;}try{const _0xa2954f=collection(db,_0x2f8ca3(0xe45)+appId+_0x2f8ca3(0x629));await addDoc(_0xa2954f,{'name':_0x5856fc,'createdAt':serverTimestamp()}),_0xc49ccc[_0x2f8ca3(0xc5c)]='',showMessage(_0x2f8ca3(0xe78)+_0x5856fc+'\x22\x20สำเร็จ');}catch(_0x2a30af){console[_0x2f8ca3(0x75e)](_0x2f8ca3(0x2bc),_0x2a30af),showMessage(_0x2f8ca3(0x96b));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x925862=_0x1173,_0x36a664=document[_0x925862(0x693)](_0x925862(0x28c)),_0x9fbd7a=document[_0x925862(0x693)](_0x925862(0x1a8)),_0x4f90b5=_0x9fbd7a[_0x925862(0xc08)];_0x36a664[_0x925862(0x43c)][_0x925862(0x200)]('hidden'),_0x9fbd7a['textContent']='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x5437c9=collection(db,_0x925862(0xe45)+appId+'/public/data/quizzes'),_0x2c5956=await getDocs(_0x5437c9);if(_0x2c5956[_0x925862(0x8c4)]){showMessage(_0x925862(0x95e));return;}const _0x42f7bf=writeBatch(db);let _0x537e0c=0x0;_0x2c5956[_0x925862(0x242)](_0x38a974=>{const _0x58ec4d=_0x925862,_0x407911=_0x38a974[_0x58ec4d(0x7d4)](),_0x23b128=_0x38a974['id'];if(_0x407911['questions']&&_0x407911[_0x58ec4d(0x4e6)][_0x58ec4d(0x357)]>0x0&&!_0x407911['questions'][0x0][_0x58ec4d(0x6b5)]('id')){console[_0x58ec4d(0xb20)](_0x58ec4d(0x470)+_0x23b128+'\x20('+_0x407911[_0x58ec4d(0x669)]+')'),_0x537e0c++;const _0x454c8e=_0x407911[_0x58ec4d(0x4e6)]['map']((_0x15de70,_0x49d8aa)=>{const _0x26e8c9=_0x58ec4d;return{..._0x15de70,'id':_0x15de70['id']||'q_'+Date[_0x26e8c9(0xa37)]()+'_'+_0x23b128+'_'+_0x49d8aa};}),_0x281b64=doc(db,_0x58ec4d(0xe45)+appId+_0x58ec4d(0x868),_0x23b128);_0x42f7bf[_0x58ec4d(0x973)](_0x281b64,{'questions':_0x454c8e});}}),_0x537e0c>0x0?(_0x9fbd7a[_0x925862(0xc08)]=_0x925862(0x683)+_0x537e0c+'\x20รายการ...',await _0x42f7bf[_0x925862(0x480)](),showMessage(_0x925862(0xdc9)+_0x537e0c+_0x925862(0x2fa))):showMessage(_0x925862(0x5d8));}catch(_0x74f5d6){console[_0x925862(0x75e)]('Error\x20updating\x20old\x20quizzes:',_0x74f5d6),showMessage(_0x925862(0x250)+_0x74f5d6[_0x925862(0x340)]);}finally{_0x36a664[_0x925862(0x43c)][_0x925862(0x128)]('hidden'),_0x9fbd7a[_0x925862(0xc08)]=_0x4f90b5;}});}async function handleBulkUpdateQuizSettings(){const _0xa313b5=_0x1b93ee,_0x57bf9f={'shuffle':document[_0xa313b5(0x693)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0xa313b5(0x693)](_0xa313b5(0xcbc))[_0xa313b5(0xc5c)],'loopUntilPass':document['getElementById'](_0xa313b5(0xe06))[_0xa313b5(0xb48)],'isConfidenceScoringEnabled':document[_0xa313b5(0x693)](_0xa313b5(0xc1a))[_0xa313b5(0xb48)],'confidenceMode':document[_0xa313b5(0x693)](_0xa313b5(0x553))[_0xa313b5(0xc5c)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x5d52c9=await getDocs(collection(db,_0xa313b5(0xe45)+appId+_0xa313b5(0x868))),_0x496eb5=_0x5d52c9['docs']['map'](_0x52ecc2=>({'id':_0x52ecc2['id'],'data':_0x52ecc2[_0xa313b5(0x7d4)]()})),_0x51fcfc=_0x496eb5[_0xa313b5(0x357)];showConfirmation(_0xa313b5(0x27c)+_0x51fcfc+_0xa313b5(0x981),async()=>{const _0x117875=_0xa313b5,_0x225fd2=document[_0x117875(0x693)](_0x117875(0xb87));_0x225fd2['disabled']=!![],_0x225fd2[_0x117875(0xc8c)]=_0x117875(0x70c);try{const _0x11c5df=writeBatch(db);_0x496eb5['forEach'](_0x187065=>{const _0x18b8be=_0x117875,_0x3ad515=doc(db,'artifacts/'+appId+_0x18b8be(0x868),_0x187065['id']),_0x5aaf13={..._0x187065['data']['settings']||{},..._0x57bf9f};_0x11c5df[_0x18b8be(0x973)](_0x3ad515,{'settings':_0x5aaf13});}),await _0x11c5df[_0x117875(0x480)](),document['getElementById']('bulk-quiz-settings-modal')[_0x117875(0x43c)][_0x117875(0x128)](_0x117875(0xa21)),showMessage(_0x117875(0xa39)+_0x51fcfc+_0x117875(0x8f7));}catch(_0x3b2567){console[_0x117875(0x75e)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x3b2567),showMessage(_0x117875(0x2f8));}finally{_0x225fd2['disabled']=![],_0x225fd2['innerHTML']=_0x117875(0xa1c);}});}catch(_0x30a31b){console[_0xa313b5(0x75e)](_0xa313b5(0x65e),_0x30a31b),showMessage(_0xa313b5(0x145));}}async function handleSaveProjectName(){const _0x3d8cd6=_0x1b93ee,_0x51da3e=document[_0x3d8cd6(0x693)]('project-title'),_0xb93f34=document[_0x3d8cd6(0x693)](_0x3d8cd6(0x682)),_0x8c749a=_0x51da3e['textContent'][_0x3d8cd6(0xb6d)]();if(!_0x8c749a||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x51da3e[_0x3d8cd6(0xc08)]=currentProjectData[_0x3d8cd6(0x21c)];return;}_0xb93f34[_0x3d8cd6(0xe12)]=!![],_0xb93f34[_0x3d8cd6(0xc8c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x2e926b=doc(db,_0x3d8cd6(0xe45)+appId+_0x3d8cd6(0xb89),currentProjectId);await updateDoc(_0x2e926b,{'projectName':_0x8c749a}),currentProjectData&&(currentProjectData[_0x3d8cd6(0x21c)]=_0x8c749a),showMessage(_0x3d8cd6(0x369));}catch(_0xe40cff){console[_0x3d8cd6(0x75e)](_0x3d8cd6(0x4ce),_0xe40cff),showMessage(_0x3d8cd6(0xa04)),_0x51da3e[_0x3d8cd6(0xc08)]=currentProjectData['projectName'];}finally{_0xb93f34[_0x3d8cd6(0x43c)][_0x3d8cd6(0x128)]('hidden'),_0xb93f34['disabled']=![],_0xb93f34[_0x3d8cd6(0xc8c)]=_0x3d8cd6(0x2b9);}}function handleGeneratePracticeTest(_0x4be5ee,_0x2911e9){const _0x156782=_0x1b93ee,_0x29461e=document[_0x156782(0x693)](_0x156782(0xb56)),_0x419dfa=document[_0x156782(0x693)](_0x156782(0xbee)),_0x3caa5c=document[_0x156782(0x693)](_0x156782(0x5c8)),_0x24e8d5=document['getElementById'](_0x156782(0x4b1));_0x419dfa[_0x156782(0xc08)]=_0x156782(0x3bf)+_0x4be5ee,_0x24e8d5[_0x156782(0x43c)][_0x156782(0x128)]('hidden'),_0x3caa5c[_0x156782(0x43c)][_0x156782(0x200)](_0x156782(0xa21)),_0x29461e[_0x156782(0x43c)]['remove'](_0x156782(0xa21)),generatePracticeTest(_0x4be5ee,_0x2911e9)['catch'](_0xb273cc=>{const _0x51beb9=_0x156782;console['error'](_0x51beb9(0xe1e),_0xb273cc),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x29461e[_0x51beb9(0x43c)]['add'](_0x51beb9(0xa21));});}async function generatePracticeTest(_0x179e52,_0x9056d8){const _0x85a5ce=_0x1b93ee;[_0x85a5ce(0x365),_0x85a5ce(0x977),_0x85a5ce(0x9e3),'summaryContent'][_0x85a5ce(0x242)](_0x57908b=>{const _0x2203cc=_0x85a5ce,_0x1ca5db=document['getElementById'](_0x57908b)[_0x2203cc(0x851)];_0x1ca5db&&(_0x1ca5db[_0x2203cc(0x77b)][_0x2203cc(0xb4c)]=_0x2203cc(0x2c6));});try{const _0x5ad6f2=_0x85a5ce(0x739),_0x260d82=_0x85a5ce(0xb37)+_0x9056d8+'\x27\x20ในหัวข้อ\x20\x27'+_0x179e52+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x4c2085=await callGemini(_0x260d82,!![]),_0x531a6c=document[_0x85a5ce(0x693)](_0x85a5ce(0xbee)),_0x255178=document['getElementById'](_0x85a5ce(0x5c8)),_0x313d8e=document[_0x85a5ce(0x693)](_0x85a5ce(0x4b1)),_0x3f4bbf=document[_0x85a5ce(0x693)]('applicationContent')[_0x85a5ce(0x851)];_0x531a6c[_0x85a5ce(0x79a)]=_0x85a5ce(0x2b0)+_0x179e52[_0x85a5ce(0x5cc)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x9056d8+')',currentApplicationData=JSON[_0x85a5ce(0xd84)](_0x4c2085);const _0x5587d1=document[_0x85a5ce(0x693)](_0x85a5ce(0x9e3));_0x5587d1[_0x85a5ce(0xc8c)]=currentApplicationData['map']((_0x4564ac,_0x46960d)=>_0x85a5ce(0x187)+(_0x46960d+0x1)+'.\x20'+marked[_0x85a5ce(0x3e2)](_0x4564ac[_0x85a5ce(0x776)])+_0x85a5ce(0x7a7)+_0x46960d+_0x85a5ce(0xd8d)+_0x4564ac[_0x85a5ce(0x2da)]['map']((_0xd36ebd,_0x2dd93e)=>_0x85a5ce(0x9e5)+_0x46960d+',\x20'+_0x2dd93e+_0x85a5ce(0x1b8)+String[_0x85a5ce(0x1de)](0x61+_0x2dd93e)+'.\x20'+marked[_0x85a5ce(0x3e2)](_0xd36ebd)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x85a5ce(0xd7b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x85a5ce(0xd7b)](''),window[_0x85a5ce(0xad6)]&&MathJax['typesetPromise']([_0x5587d1]),_0x3f4bbf&&(_0x3f4bbf[_0x85a5ce(0x77b)][_0x85a5ce(0xb4c)]=_0x85a5ce(0x621)),_0x255178[_0x85a5ce(0x43c)]['add'](_0x85a5ce(0xa21)),_0x313d8e[_0x85a5ce(0x43c)][_0x85a5ce(0x200)]('hidden');}catch(_0x2ffca9){console[_0x85a5ce(0x75e)](_0x2ffca9);throw _0x2ffca9;}}async function callGemini(_0x22df03,_0x533e53=![]){const _0x1370a1=_0x1b93ee,_0x19b7e8=_0x1370a1(0x58d),_0x24c9cb=_0x1370a1(0xa0f)+_0x19b7e8,_0x1e5768={'contents':[{'parts':[{'text':_0x22df03}]}]};_0x533e53&&(_0x1e5768[_0x1370a1(0xfd)]={'responseMimeType':'application/json'},_0x22df03[_0x1370a1(0x8bb)](_0x1370a1(0x434))?_0x1e5768[_0x1370a1(0xfd)][_0x1370a1(0x534)]={'type':_0x1370a1(0xd69),'properties':{'gradeLevel':{'type':_0x1370a1(0x47c)},'curriculum':{'type':_0x1370a1(0x17d),'items':{'type':_0x1370a1(0xd69),'properties':{'sara':{'type':_0x1370a1(0x47c)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1370a1(0xd69),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1370a1(0x17d),'items':{'type':_0x1370a1(0x47c)}}},'required':[_0x1370a1(0x9e4),'subTopics']}}},'required':[_0x1370a1(0x104),'mainTopics']}}},'required':[_0x1370a1(0x3c2),_0x1370a1(0x42d)]}:_0x1e5768[_0x1370a1(0xfd)]['responseSchema']={'type':_0x1370a1(0x17d),'items':{'type':_0x1370a1(0xd69),'properties':{'question':{'type':_0x1370a1(0x47c)},'options':{'type':_0x1370a1(0x17d),'items':{'type':_0x1370a1(0x47c)}},'answer':{'type':_0x1370a1(0x7a8)}},'required':['question',_0x1370a1(0x2da),_0x1370a1(0xcba)]}});try{const _0x4d2903=await fetch(_0x24c9cb,{'method':'POST','headers':{'Content-Type':_0x1370a1(0x4ea)},'body':JSON[_0x1370a1(0x1f9)](_0x1e5768)});if(!_0x4d2903['ok']){const _0x30deb6=await _0x4d2903['text']();console[_0x1370a1(0x75e)](_0x1370a1(0xcee),_0x30deb6);throw new Error(_0x1370a1(0x215)+_0x4d2903['status']);}const _0x90c002=await _0x4d2903[_0x1370a1(0xc5a)]();if(_0x90c002[_0x1370a1(0x995)]&&_0x90c002[_0x1370a1(0x995)][0x0][_0x1370a1(0xc41)]&&_0x90c002[_0x1370a1(0x995)][0x0][_0x1370a1(0xc41)][_0x1370a1(0xe49)][0x0])return _0x90c002[_0x1370a1(0x995)][0x0]['content'][_0x1370a1(0xe49)][0x0][_0x1370a1(0x2dc)];else{console[_0x1370a1(0x75e)](_0x1370a1(0x73e),_0x90c002);if(_0x90c002['candidates']&&_0x90c002[_0x1370a1(0x995)][0x0]['finishReason']===_0x1370a1(0xb1a))return JSON['stringify']({'error':_0x1370a1(0xbf4)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0xf1bfe9){console[_0x1370a1(0x75e)](_0x1370a1(0xafb),_0xf1bfe9);throw _0xf1bfe9;}}async function generateLesson(_0x16db9e=null,_0x113803=null){const _0x3faff7=_0x1b93ee,_0x3a38bd=_0x16db9e,_0x3e78fd=_0x113803||_0x3faff7(0x99d),_0x3d338d=document['getElementById']('lesson-loader'),_0x26d045=document[_0x3faff7(0x693)]('lesson-loader-text');_0x26d045['textContent']=_0x3faff7(0xb99)+_0x3a38bd+_0x3faff7(0x3fe);try{let _0x314443=[];const _0x11b28f=document[_0x3faff7(0x693)](_0x3faff7(0x51c))?.[_0x3faff7(0xc5c)]['trim']();if(_0x11b28f)try{_0x26d045[_0x3faff7(0xc08)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x3a59b1=await fetchFileFromUrl(_0x11b28f,_0x3faff7(0x1e9)),_0x363525=await new Promise((_0xcd6675,_0xb341c7)=>{const _0x17f25e=_0x3faff7,_0x43ac65=new FileReader();_0x43ac65[_0x17f25e(0x49d)](_0x3a59b1),_0x43ac65[_0x17f25e(0x8f1)]=()=>_0xcd6675(_0x43ac65[_0x17f25e(0xe0a)]['split'](',')[0x1]),_0x43ac65[_0x17f25e(0xd49)]=_0xb341c7;});_0x314443[_0x3faff7(0xce5)]({'inlineData':{'mimeType':_0x3a59b1[_0x3faff7(0xb75)],'data':_0x363525}});}catch(_0xed61eb){console[_0x3faff7(0x75e)](_0x3faff7(0x6a5),_0xed61eb),showMessage(_0x3faff7(0x8b5));}const _0x387f84=_0x3faff7(0x4f9)+_0x3a38bd+_0x3faff7(0x4c4)+_0x3a38bd+_0x3faff7(0x97f);_0x26d045[_0x3faff7(0xc08)]=_0x3faff7(0xb99)+_0x3a38bd+'\x22...';const _0x1679ed=_0x3faff7(0x1ed)+_0x3e78fd+'\x27\x20ในหัวข้อ\x20\x27'+_0x3a38bd+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x387f84+_0x3faff7(0xabe),_0x16a5dd=_0x3faff7(0x49f)+_0x3a38bd+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3e78fd+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x387f84+_0x3faff7(0xcbe),_0x5d3829=_0x3faff7(0xd77),_0x424ece=_0x3faff7(0xb37)+_0x3e78fd+_0x3faff7(0x630)+_0x3a38bd+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x387f84+_0x3faff7(0x784)+_0x5d3829+_0x3faff7(0xbda),_0x1d35c2=_0x3faff7(0x272)+_0x3a38bd+_0x3faff7(0x6bd)+_0x3e78fd+_0x3faff7(0x74d)+_0x387f84+_0x3faff7(0x843),_0x1fa547={'type':_0x3faff7(0x17d),'items':{'type':_0x3faff7(0xd69),'properties':{'question':{'type':'STRING'},'options':{'type':_0x3faff7(0x17d),'items':{'type':'STRING'}},'answer':{'type':_0x3faff7(0x7a8)}},'required':['question','options',_0x3faff7(0xcba)]}},[_0x4bd097,_0x140556,_0x3ff262,_0x3c3939]=await Promise[_0x3faff7(0x10a)]([handleApiCall([{'text':_0x1679ed},..._0x314443],_0x3faff7(0x3bb),null,null,![]),handleApiCall([{'text':_0x16a5dd},..._0x314443],_0x3faff7(0x3bb),null,null,![]),handleApiCall([{'text':_0x424ece},..._0x314443],_0x3faff7(0x3bb),_0x1fa547,null,![]),handleApiCall([{'text':_0x1d35c2},..._0x314443],_0x3faff7(0x3bb),null,null,![])]),_0x366ec2=JSON[_0x3faff7(0x1f9)](_0x3ff262||[]),_0x7171b9=document[_0x3faff7(0x693)](_0x3faff7(0xbee)),_0x1aa71c=document[_0x3faff7(0x693)](_0x3faff7(0x4b1));_0x7171b9['innerText']=_0x3faff7(0x2e6)+_0x3a38bd[_0x3faff7(0x5cc)](/•\s/g,'')+_0x3faff7(0xd56)+_0x3e78fd+')',[_0x3faff7(0x365),_0x3faff7(0x977),_0x3faff7(0x718)][_0x3faff7(0x242)](_0x22f2cc=>{const _0x44a598=_0x3faff7;document[_0x44a598(0x693)](_0x22f2cc)[_0x44a598(0xc8c)]='';}),document['getElementById'](_0x3faff7(0x365))[_0x3faff7(0xc8c)]=_0x4bd097?marked[_0x3faff7(0xd84)](_0x4bd097):_0x3faff7(0x279),document['getElementById']('memoryContent')['innerHTML']=_0x140556?marked[_0x3faff7(0xd84)](_0x140556):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3faff7(0x693)]('summaryContent')['innerHTML']=_0x3c3939?marked[_0x3faff7(0xd84)](_0x3c3939):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x366ec2);const _0x3badc6=document[_0x3faff7(0x693)](_0x3faff7(0x9e3));_0x3badc6[_0x3faff7(0xc8c)]=(currentApplicationData||[])['map']((_0x44e148,_0xcabfe8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xcabfe8+0x1)+'.\x20'+marked[_0x3faff7(0x3e2)](_0x44e148[_0x3faff7(0x776)]||'')+_0x3faff7(0x7a7)+_0xcabfe8+_0x3faff7(0xd8d)+(_0x44e148['options']||[])['map']((_0xfaa9a1,_0x5820d1)=>_0x3faff7(0x9e5)+_0xcabfe8+',\x20'+_0x5820d1+_0x3faff7(0x1b8)+String['fromCharCode'](0x61+_0x5820d1)+'.\x20'+marked[_0x3faff7(0x3e2)](_0xfaa9a1||'')+_0x3faff7(0xdc0))[_0x3faff7(0xd7b)]('')+_0x3faff7(0x3ca))['join']('')||_0x3faff7(0x60d),window['MathJax']&&MathJax[_0x3faff7(0x840)]([_0x1aa71c]),_0x3d338d[_0x3faff7(0x43c)][_0x3faff7(0x128)]('hidden'),_0x1aa71c[_0x3faff7(0x43c)]['remove'](_0x3faff7(0xa21));}catch(_0x4c9a5f){console[_0x3faff7(0x75e)](_0x4c9a5f);throw _0x4c9a5f;}}function checkAnswer(_0xefbe2f,_0x29d317){const _0x564081=_0x1b93ee,_0x4a6605=currentApplicationData[_0xefbe2f],_0xb3dc7=document[_0x564081(0x693)]('q'+_0xefbe2f+'-options'),_0x56d65c=_0xb3dc7[_0x564081(0x519)](_0x564081(0xb7e));for(let _0x28fe19 of _0x56d65c){_0x28fe19[_0x564081(0xe12)]=!![];}_0x29d317===_0x4a6605[_0x564081(0xcba)]?_0x56d65c[_0x29d317][_0x564081(0x43c)][_0x564081(0x128)](_0x564081(0xb04)):(_0x56d65c[_0x29d317]['classList'][_0x564081(0x128)](_0x564081(0x7a6)),_0x56d65c[_0x4a6605[_0x564081(0xcba)]][_0x564081(0x43c)][_0x564081(0x128)]('correct'));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x1b93ee(0x5f3)]=checkAnswer,window[_0x1b93ee(0xda7)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x30c29a=_0x1b93ee;if(document[_0x30c29a(0x693)](_0x30c29a(0x7c0)))return;const _0x2685d7=_0x30c29a(0xd8b);document['body'][_0x30c29a(0xce8)]('beforeend',_0x2685d7),setupCropperButtons();}function setupCropperButtons(){const _0x4ef332=_0x1b93ee;document[_0x4ef332(0x693)]('cancel-crop-btn')[_0x4ef332(0x5e0)](_0x4ef332(0x2df),()=>{const _0x53464b=_0x4ef332;document['getElementById'](_0x53464b(0x7c0))[_0x53464b(0x43c)]['add'](_0x53464b(0xa21)),cropperInstance&&(cropperInstance[_0x53464b(0xce3)](),cropperInstance=null),document[_0x53464b(0x693)](_0x53464b(0x8b3))[_0x53464b(0xc5c)]='';}),document[_0x4ef332(0x693)](_0x4ef332(0xa1d))[_0x4ef332(0x5e0)](_0x4ef332(0x2df),()=>{const _0x5b7ccd=_0x4ef332;if(!cropperInstance)return;const _0x433dd9=document[_0x5b7ccd(0x693)](_0x5b7ccd(0xa1d)),_0x193e6e=_0x433dd9[_0x5b7ccd(0xc8c)];_0x433dd9[_0x5b7ccd(0xc8c)]=_0x5b7ccd(0xda8),_0x433dd9[_0x5b7ccd(0xe12)]=!![],cropperInstance['getCroppedCanvas']()[_0x5b7ccd(0x5c7)](async _0x2845ba=>{const _0x236425=_0x5b7ccd;document['getElementById'](_0x236425(0x7c0))['classList'][_0x236425(0x128)]('hidden');const _0x11b2d0=new File([_0x2845ba],_0x236425(0x354),{'type':_0x236425(0x5b2)});await handleScanImageForText(_0x11b2d0),_0x433dd9['innerHTML']=_0x193e6e,_0x433dd9[_0x236425(0xe12)]=![],cropperInstance[_0x236425(0xce3)](),cropperInstance=null;},_0x5b7ccd(0x5b2));});}function startCropper(_0x413ba2){const _0x1681d5=_0x1b93ee;ensureCropperModalExists();const _0x3d3ce5=document[_0x1681d5(0x693)]('cropper-modal'),_0x1ca5e4=document[_0x1681d5(0x693)](_0x1681d5(0x634)),_0x2f9b4d=new FileReader();_0x2f9b4d[_0x1681d5(0x8f1)]=_0x56422d=>{const _0x49514c=_0x1681d5;_0x1ca5e4[_0x49514c(0x4e2)]=_0x56422d['target'][_0x49514c(0xe0a)],_0x3d3ce5[_0x49514c(0x43c)][_0x49514c(0x200)](_0x49514c(0xa21));if(cropperInstance)cropperInstance[_0x49514c(0xce3)]();cropperInstance=new Cropper(_0x1ca5e4,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x2f9b4d[_0x1681d5(0x49d)](_0x413ba2);}document[_0x1b93ee(0x5e0)](_0x1b93ee(0x195),()=>{const _0x4ac839=_0x1b93ee,_0x5d534c=document[_0x4ac839(0x693)](_0x4ac839(0x8b3)),_0x3bc9d1=document['getElementById'](_0x4ac839(0xd01));_0x3bc9d1&&_0x5d534c&&(_0x3bc9d1['addEventListener'](_0x4ac839(0x2df),()=>{_0x5d534c['value']='',_0x5d534c['click']();}),_0x5d534c[_0x4ac839(0x5e0)]('change',_0x31836b=>{const _0x323786=_0x4ac839;_0x31836b[_0x323786(0x588)][_0x323786(0xf6)]&&_0x31836b[_0x323786(0x588)][_0x323786(0xf6)][_0x323786(0x357)]>0x0&&startCropper(_0x31836b['target'][_0x323786(0xf6)][0x0]);}));});async function handleScanImageForText(_0x54dc22){const _0x560e0f=_0x1b93ee,_0x5dbc47=document[_0x560e0f(0x693)](_0x560e0f(0x7d7)),_0x11a86c=document[_0x560e0f(0x693)]('scan-text-image-btn');if(!_0x54dc22)return;_0x11a86c[_0x560e0f(0xe12)]=!![],_0x11a86c[_0x560e0f(0xc8c)]=_0x560e0f(0xd21),_0x5dbc47[_0x560e0f(0xb57)]=_0x560e0f(0x686);try{const _0x1852f3=await new Promise((_0x418f19,_0x2060a3)=>{const _0x2e99d6=_0x560e0f,_0x279f5c=new FileReader();_0x279f5c[_0x2e99d6(0x49d)](_0x54dc22),_0x279f5c['onload']=()=>_0x418f19(_0x279f5c['result']['split'](',')[0x1]),_0x279f5c[_0x2e99d6(0xd49)]=_0x2060a3;}),_0x2b2dcb=_0x560e0f(0xb8b),_0x478e41=[{'text':_0x2b2dcb},{'inlineData':{'mimeType':_0x54dc22[_0x560e0f(0xb75)],'data':_0x1852f3}}],_0x5836b5=await handleApiCall(_0x478e41,_0x560e0f(0xa4f),null,null,![]);if(_0x5836b5){const _0x1f1cbc=_0x5dbc47[_0x560e0f(0xc5c)]['trim']();_0x5dbc47[_0x560e0f(0xc5c)]=_0x1f1cbc?_0x1f1cbc+'\x0a\x0a'+_0x5836b5:_0x5836b5,showMessage(_0x560e0f(0x11c));}else throw new Error('AI\x20ไม่สามารถอ่านข้อความได้');}catch(_0x424079){console[_0x560e0f(0x75e)](_0x560e0f(0x7c7),_0x424079),showMessage(_0x560e0f(0xd45)+_0x424079[_0x560e0f(0x340)]);}finally{_0x11a86c['disabled']=![],_0x11a86c[_0x560e0f(0xc8c)]=_0x560e0f(0x59f),document[_0x560e0f(0x693)]('scan-text-image-input')[_0x560e0f(0xc5c)]='';}}async function initialize(){const _0x15a20f=_0x1b93ee;try{const _0x51eced=initializeApp(firebaseConfig);db=getFirestore(_0x51eced),auth=getAuth(_0x51eced),setupAuthListener(),setupEventListeners(),showView(_0x15a20f(0x5ed)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0xe5d2b7){console[_0x15a20f(0x75e)](_0x15a20f(0x21b),_0xe5d2b7),showMessage(_0x15a20f(0x7a0));}}async function handleVerifyAnswersInEditor(){const _0x3b6ef8=_0x1b93ee,_0x253476=document[_0x3b6ef8(0x693)]('quiz-editor-modal');if(!_0x253476)return;const _0x3a7d3b=document['getElementById'](_0x3b6ef8(0xd3a));_0x3a7d3b['disabled']=!![],_0x3a7d3b[_0x3b6ef8(0xc8c)]=_0x3b6ef8(0x52e);try{const _0x307767=_0x253476[_0x3b6ef8(0xe56)](_0x3b6ef8(0x880)),_0x4c4edf=Array[_0x3b6ef8(0xb1b)](_0x307767)[_0x3b6ef8(0x926)]((_0x5d4d85,_0x11f987)=>{const _0x5d293b=_0x3b6ef8,_0x273249=_0x5d4d85[_0x5d293b(0x43d)][_0x5d293b(0x991)],_0x45ec38=_0x5d4d85[_0x5d293b(0xbc1)](_0x5d293b(0xced))[_0x5d293b(0xc5c)];let _0x39196a=null,_0x357ae8='';switch(_0x273249){case _0x5d293b(0x6c4):const _0x2949de=_0x5d4d85[_0x5d293b(0xe56)](_0x5d293b(0xafa));_0x39196a=Array[_0x5d293b(0xb1b)](_0x2949de)[_0x5d293b(0x926)](_0x1a3331=>_0x1a3331['value']);const _0x41acd4=_0x5d4d85[_0x5d293b(0xbc1)](_0x5d293b(0x2d7));_0x41acd4&&(_0x357ae8=_0x39196a[parseInt(_0x41acd4[_0x5d293b(0xc5c)])]||'');break;case _0x5d293b(0xbc0):case _0x5d293b(0x236):_0x39196a=[],_0x357ae8=_0x5d4d85[_0x5d293b(0xbc1)](_0x5d293b(0x6d0))['value'];break;case _0x5d293b(0xa76):_0x39196a=[_0x5d293b(0xe0d),_0x5d293b(0xdee)];const _0x365f71=_0x5d4d85[_0x5d293b(0xbc1)](_0x5d293b(0x2d7));_0x357ae8=_0x365f71?_0x365f71[_0x5d293b(0xc5c)]:'';break;case _0x5d293b(0x1bc):_0x39196a=[],_0x357ae8=_0x5d4d85[_0x5d293b(0xbc1)](_0x5d293b(0xe0f))[_0x5d293b(0xc5c)];break;}return{'questionIndex':_0x11f987,'questionType':_0x273249,'question':_0x45ec38,'options':_0x39196a,'proposedAnswer':_0x357ae8};}),_0x15696a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20'+JSON[_0x3b6ef8(0x1f9)](_0x4c4edf)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x37cebe={'type':_0x3b6ef8(0x17d),'items':{'type':_0x3b6ef8(0xd69),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x3b6ef8(0x186)},'justification':{'type':_0x3b6ef8(0x47c)},'correctOptionExists':{'type':_0x3b6ef8(0x186)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x3b6ef8(0xd69),'properties':{'newOptions':{'type':_0x3b6ef8(0x17d),'items':{'type':'STRING'}},'newCorrectIndex':{'type':'NUMBER'}},'required':[_0x3b6ef8(0x55c),_0x3b6ef8(0xc20)]}},'required':[_0x3b6ef8(0x684),_0x3b6ef8(0x5ce),'justification']}},_0x59efde=await callAnalysisApi(_0x15696a,{'type':_0x3b6ef8(0xd69),'properties':{'result':_0x37cebe},'required':[_0x3b6ef8(0xe0a)]});if(_0x59efde&&_0x59efde['result'])displayVerificationResultsInEditor(_0x59efde[_0x3b6ef8(0xe0a)]);else throw new Error('AI\x20ไม่ส่งผลลัพธ์กลับมา');}catch(_0x5d4e55){console['error'](_0x3b6ef8(0xc14),_0x5d4e55),showMessage(_0x3b6ef8(0xc32)+_0x5d4e55[_0x3b6ef8(0x340)]);}finally{_0x3a7d3b[_0x3b6ef8(0xe12)]=![],_0x3a7d3b[_0x3b6ef8(0xc8c)]=_0x3b6ef8(0xe33);}}function displayVerificationResultsInEditor(_0x1f6a41){const _0x4f9be8=_0x1b93ee;_0x1f6a41['forEach'](_0x103c50=>{const _0x442440=_0x1173,_0x58a862=document[_0x442440(0xbc1)](_0x442440(0x2bf)+_0x103c50['questionIndex']+'\x22]');if(!_0x58a862)return;const _0xb66652=_0x58a862[_0x442440(0xbc1)](_0x442440(0x410));if(_0xb66652)_0xb66652[_0x442440(0x200)]();let _0x446576='';if(_0x103c50[_0x442440(0x2d1)]&&_0x103c50['newOptionsPayload'][_0x442440(0x55c)]){const _0x2486ff=_0x103c50[_0x442440(0x2d1)][_0x442440(0x55c)],_0x6488b=_0x103c50[_0x442440(0x2d1)]['newCorrectIndex'],_0x40b887=_0x58a862[_0x442440(0x43d)][_0x442440(0x991)];if(_0x40b887===_0x442440(0x6c4)){const _0x132a47=_0x58a862['querySelectorAll'](_0x442440(0xafa));_0x132a47['forEach']((_0x34fbe3,_0x4523ac)=>{const _0x2cb6b7=_0x442440;_0x2486ff[_0x4523ac]?_0x34fbe3['value']=_0x2486ff[_0x4523ac]:_0x34fbe3[_0x2cb6b7(0xc5c)]=_0x2cb6b7(0x594);});const _0x2f4c0a=_0x58a862[_0x442440(0xbc1)](_0x442440(0xcea)+_0x6488b+'\x22]');_0x2f4c0a&&(_0x2f4c0a[_0x442440(0xb48)]=!![]),_0x446576=_0x442440(0x912),_0x58a862['classList'][_0x442440(0x128)](_0x442440(0x17e),'transition-all',_0x442440(0xd2c)),setTimeout(()=>{const _0x58206e=_0x442440;_0x58a862[_0x58206e(0x43c)]['remove'](_0x58206e(0x17e));},0x9c4);}}else{if(!_0x103c50[_0x442440(0x5ce)]&&_0x103c50[_0x442440(0x85d)]){const _0x5c901c=_0x103c50[_0x442440(0x85d)]?_0x442440(0x2aa):'';_0x446576=_0x442440(0x118)+_0x5c901c+_0x442440(0x86e)+_0x103c50[_0x442440(0xca7)]+_0x442440(0x745)+(_0x103c50['suggestedAnswer']?_0x442440(0xd17)+_0x103c50[_0x442440(0x85d)]+_0x442440(0x3ee):'')+_0x442440(0xbf6);const _0x24442e=_0x58a862['dataset'][_0x442440(0x991)],_0x166a49=_0x49f4d4=>{const _0x25bf0f=_0x442440;if(!_0x49f4d4)return;_0x49f4d4['classList'][_0x25bf0f(0x128)](_0x25bf0f(0xc95),_0x25bf0f(0x1a0),_0x25bf0f(0xd2c)),setTimeout(()=>{const _0x27b1dc=_0x25bf0f;_0x49f4d4[_0x27b1dc(0x43c)]['remove'](_0x27b1dc(0xc95));},0x9c4);};if(_0x24442e===_0x442440(0x6c4)){const _0x576580=Array[_0x442440(0xb1b)](_0x58a862[_0x442440(0xe56)](_0x442440(0xafa))),_0x8b509=_0x576580[_0x442440(0xe37)](_0xe7fd28=>_0xe7fd28[_0x442440(0xc5c)]['trim']()[_0x442440(0x95a)]()===_0x103c50[_0x442440(0x85d)][_0x442440(0xb6d)]()[_0x442440(0x95a)]());if(_0x8b509!==-0x1){const _0x152d60=_0x58a862[_0x442440(0xbc1)]('input[type=\x22radio\x22][value=\x22'+_0x8b509+'\x22]');_0x152d60&&(_0x152d60[_0x442440(0xb48)]=!![],_0x166a49(_0x152d60[_0x442440(0xe11)](_0x442440(0x748))));}}else{if(_0x24442e===_0x442440(0xbc0)||_0x24442e===_0x442440(0x1bc)){const _0x3a5be1=_0x58a862[_0x442440(0xbc1)]('.ideal-answer-input,\x20.correct-response-input');_0x3a5be1&&(_0x3a5be1[_0x442440(0xc5c)]=_0x103c50[_0x442440(0x85d)],_0x166a49(_0x3a5be1));}else{if(_0x24442e===_0x442440(0xa76)){const _0x59659a=_0x103c50[_0x442440(0x85d)][_0x442440(0xb6d)]()[_0x442440(0x95a)](),_0xcb5d39=_0x58a862[_0x442440(0xbc1)](_0x442440(0xcea)+_0x59659a+'\x22]');_0xcb5d39&&(_0xcb5d39['checked']=!![],_0x166a49(_0xcb5d39[_0x442440(0xe11)](_0x442440(0x748))));}}}}else _0x103c50[_0x442440(0x5ce)]&&(_0x446576=_0x442440(0x8ff));}_0x58a862['insertAdjacentHTML'](_0x442440(0xa10),_0x446576);}),showMessage(_0x4f9be8(0xc79));}async function handleVerifyAnswers(){const _0x1a68ae=_0x1b93ee;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x1a68ae(0x4cc));return;}const _0x49854a=document[_0x1a68ae(0x693)](_0x1a68ae(0xd61));_0x49854a[_0x1a68ae(0xe12)]=!![],_0x49854a[_0x1a68ae(0xc8c)]=_0x1a68ae(0x52e);try{const _0x18c186=currentQuizData[_0x1a68ae(0x4e6)][_0x1a68ae(0x926)]((_0x3bf88a,_0x17f910)=>{const _0x2c776b=_0x1a68ae;let _0x3b8016='';const _0x5a233c=_0x3bf88a[_0x2c776b(0x994)]||currentQuizData['quizType'];switch(_0x5a233c){case'multiple_choice':_0x3b8016=_0x3bf88a[_0x2c776b(0x2da)][_0x3bf88a['correctAnswerIndex']];break;case _0x2c776b(0xbc0):_0x3b8016=_0x3bf88a[_0x2c776b(0x9ee)];break;case _0x2c776b(0xa76):_0x3b8016=_0x3bf88a['correctAnswer'][_0x2c776b(0x95f)]();break;case _0x2c776b(0x1bc):_0x3b8016=_0x3bf88a[_0x2c776b(0x2e8)];break;}return{'question':_0x3bf88a[_0x2c776b(0x87a)]||_0x3bf88a[_0x2c776b(0xd6a)],'options':_0x3bf88a[_0x2c776b(0x2da)]||null,'proposedAnswer':_0x3b8016};}),_0x2e43b8=_0x1a68ae(0x329)+JSON[_0x1a68ae(0x1f9)](_0x18c186)+_0x1a68ae(0x3d4),_0x4e752a={'type':_0x1a68ae(0x17d),'items':{'type':_0x1a68ae(0xd69),'properties':{'questionIndex':{'type':_0x1a68ae(0x7a8)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x1a68ae(0x47c)},'suggestedAnswer':{'type':_0x1a68ae(0x47c)}},'required':[_0x1a68ae(0x684),_0x1a68ae(0x5ce),'justification']}},_0x7261c=await callAnalysisApi(_0x2e43b8,{'type':_0x1a68ae(0xd69),'properties':{'result':_0x4e752a},'required':[_0x1a68ae(0xe0a)]});displayVerificationResults(_0x7261c[_0x1a68ae(0xe0a)]);}catch(_0xeea46f){console[_0x1a68ae(0x75e)](_0x1a68ae(0x545),_0xeea46f),showMessage(_0x1a68ae(0x5d6));}finally{_0x49854a[_0x1a68ae(0xe12)]=![],_0x49854a[_0x1a68ae(0xc8c)]=_0x1a68ae(0x576);}}function displayVerificationResults(_0x29b14b){const _0x598e0d=_0x1b93ee;_0x29b14b[_0x598e0d(0x242)](_0x53aee0=>{const _0x43603b=_0x598e0d,_0x1ac3f0=document[_0x43603b(0xbc1)]('div[data-question-index=\x22'+_0x53aee0[_0x43603b(0x684)]+'\x22]');if(_0x1ac3f0){const _0x594160=_0x1ac3f0[_0x43603b(0xbc1)](_0x43603b(0x79b));if(_0x594160)_0x594160[_0x43603b(0x200)]();let _0x5cfb64='';_0x53aee0['isCorrect']?_0x5cfb64=_0x43603b(0x9ac):_0x5cfb64=_0x43603b(0x469)+_0x53aee0[_0x43603b(0xca7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x53aee0[_0x43603b(0x85d)]?_0x43603b(0xd17)+_0x53aee0[_0x43603b(0x85d)]+_0x43603b(0x3ee):'')+_0x43603b(0x411),_0x1ac3f0[_0x43603b(0xce8)](_0x43603b(0xa10),_0x5cfb64);}}),showMessage(_0x598e0d(0xc79));}function compareNumericalAnswers(_0x271b4b,_0x5b9b91){const _0xf1fde6=_0x1b93ee,_0x3e782a=String(_0x271b4b)[_0xf1fde6(0x5cc)](',','.')[_0xf1fde6(0x5cc)](/[^\d.-]/g,'')[_0xf1fde6(0xb6d)](),_0x3ac23d=String(_0x5b9b91)[_0xf1fde6(0x5cc)](',','.')[_0xf1fde6(0x5cc)](/[^\d.-]/g,'')[_0xf1fde6(0xb6d)]();if(_0x3e782a===''||_0x3ac23d==='')return![];const _0x1af7ea=parseFloat(_0x3e782a),_0x5d19d8=parseFloat(_0x3ac23d);if(isNaN(_0x1af7ea)||isNaN(_0x5d19d8))return![];return Math[_0xf1fde6(0x6b0)](_0x1af7ea-_0x5d19d8)<0.001;}function isPotentiallyNumeric(_0x513355){const _0x3d6b8a=_0x1b93ee;if(typeof _0x513355!==_0x3d6b8a(0x6de)&&typeof _0x513355!=='number')return![];const _0x5d0563=String(_0x513355)[_0x3d6b8a(0x5cc)](',','.')[_0x3d6b8a(0xb6d)]();return _0x5d0563!==''&&!isNaN(parseFloat(_0x5d0563))&&isFinite(_0x5d0563);}async function gradeShortAnswer(_0x4ae52b,_0x486e6d){const _0x2f35b1=_0x1b93ee,_0x18cbe8=_0x486e6d[_0x2f35b1(0x9ee)],_0x308359=String(_0x4ae52b)[_0x2f35b1(0x5cc)](/\$/g,'')[_0x2f35b1(0xb6d)](),_0x2dfee1=String(_0x18cbe8)['replace'](/\$/g,'')['trim']();if(_0x308359[_0x2f35b1(0x95a)]()===_0x2dfee1['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x308359)&&isPotentiallyNumeric(_0x2dfee1)){if(compareNumericalAnswers(_0x308359,_0x2dfee1))return!![];}return console[_0x2f35b1(0xb20)](_0x2f35b1(0x220)),![];}async function revealAnswerForAdmin(_0x1b1cb6,_0x1900bd){const _0x3ed4ec=_0x1b93ee,_0xe0a92d=doc(db,_0x3ed4ec(0xe45)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0xe0a92d,{'questionStatus':_0x3ed4ec(0x373)});}function showTop5LeaderboardView(_0x482d1c){const _0x53eeb1=_0x1b93ee,_0x2fe69f=Object[_0x53eeb1(0x8d9)](_0x482d1c['players']||{})[_0x53eeb1(0x107)](_0x4aa4da=>_0x4aa4da[_0x53eeb1(0x7f7)]===_0x53eeb1(0x69a));_0x2fe69f[_0x53eeb1(0xa05)]((_0x2b696f,_0x3a27f4)=>_0x3a27f4['score']-_0x2b696f[_0x53eeb1(0xe35)]);const _0x1e616f=_0x2fe69f['slice'](0x0,0x5),_0x8175e3=_0x53eeb1(0xaf9)+_0x1e616f[_0x53eeb1(0x926)]((_0x1670ac,_0x195c82)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x195c82+0x1)+'.\x20'+(_0x1670ac[_0x53eeb1(0x41d)]||Object['keys'](_0x482d1c[_0x53eeb1(0x18f)])[_0x53eeb1(0xe69)](_0x542233=>_0x482d1c['players'][_0x542233]===_0x1670ac))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x1670ac[_0x53eeb1(0xe35)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x482d1c['currentQuestionIndex']+0x1===currentQuizData[_0x53eeb1(0x4e6)][_0x53eeb1(0x357)]?_0x53eeb1(0x667):_0x53eeb1(0xb4a))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x53eeb1(0xc8c)]=_0x8175e3,document[_0x53eeb1(0x693)](_0x53eeb1(0x26d))[_0x53eeb1(0x5e0)](_0x53eeb1(0x2df),async()=>{const _0x13d17b=_0x53eeb1,_0x29f3a5=doc(db,_0x13d17b(0xe45)+appId+'/public/data/liveGames',currentLiveGameId),_0x16f626=_0x482d1c[_0x13d17b(0x345)]+0x1;if(_0x16f626<currentQuizData['questions'][_0x13d17b(0x357)]){const _0x32a595={'currentQuestionIndex':_0x16f626,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x13d17b(0xb80)};Object['keys'](_0x482d1c[_0x13d17b(0x18f)])['forEach'](_0x37c589=>{const _0x49dbd4=_0x13d17b;_0x32a595[_0x49dbd4(0xcb2)+_0x37c589+_0x49dbd4(0x22d)]=![];}),await updateDoc(_0x29f3a5,_0x32a595);}else await updateDoc(_0x29f3a5,{'status':_0x13d17b(0x806)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xbad679=>{const _0x1f0968=_0x1173;if(_0xbad679){userId=_0xbad679[_0x1f0968(0x591)],userIdDisplay['textContent']=userId;const _0x2b9440=await loadUserPreferences();_0x2b9440[_0x1f0968(0xd97)]&&(document[_0x1f0968(0x693)]('project-sort-select')[_0x1f0968(0xc5c)]=_0x2b9440[_0x1f0968(0xd97)]);globalDashboardSettings[_0x1f0968(0xc2f)]=_0x2b9440[_0x1f0968(0xc2f)]||_0x1f0968(0x232);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2b22a0,_0x229c87){const _0x33e6e1=_0x1b93ee;if(!userId)return;try{const _0x325237=doc(db,'artifacts/'+appId+'/users/'+userId+_0x33e6e1(0xb18)),_0x2f0ad9={};_0x2f0ad9[_0x2b22a0]=_0x229c87,await setDoc(_0x325237,_0x2f0ad9,{'merge':!![]});}catch(_0x256824){console[_0x33e6e1(0x75e)]('Error\x20saving\x20user\x20preference:',_0x256824);}}async function loadUserPreferences(){const _0x1cef03=_0x1b93ee;if(!userId)return{};try{const _0xc8fc83=doc(db,_0x1cef03(0xe45)+appId+_0x1cef03(0x251)+userId+'/preferences/main'),_0x37a018=await getDoc(_0xc8fc83);if(_0x37a018[_0x1cef03(0x5a9)]())return _0x37a018[_0x1cef03(0x7d4)]();return{};}catch(_0x197fe3){return console[_0x1cef03(0x75e)]('Error\x20loading\x20user\x20preferences:',_0x197fe3),{};}}function parseIndentedBlueprint(_0x14d25e){const _0x1c1ed5=_0x1b93ee,_0x23aa75=_0x14d25e[_0x1c1ed5(0x239)]('\x0a')[_0x1c1ed5(0x107)](_0x369479=>_0x369479['trim']()!==''),_0x24c859=[];let _0x4c5218=null,_0x78520d=null;return _0x23aa75[_0x1c1ed5(0x242)](_0x1bb91b=>{const _0x30abe9=_0x1c1ed5,_0x3bc967=_0x1bb91b[_0x30abe9(0x723)](/^\s*/)[0x0][_0x30abe9(0x357)],_0x5c434e=_0x1bb91b[_0x30abe9(0xb6d)]();if(_0x3bc967===0x0)_0x4c5218={'sara':_0x5c434e,'mainTopics':[]},_0x24c859[_0x30abe9(0xce5)](_0x4c5218),_0x78520d=null;else{if(_0x3bc967>0x0&&_0x3bc967<0x8&&_0x4c5218)_0x78520d={'topicName':_0x5c434e,'subTopics':[]},_0x4c5218['mainTopics'][_0x30abe9(0xce5)](_0x78520d);else _0x3bc967>=0x8&&_0x78520d&&_0x78520d['subTopics'][_0x30abe9(0xce5)](_0x5c434e);}}),{'curriculum':_0x24c859};}async function handleManualBlueprintSave(){const _0x2e8286=_0x1b93ee,_0xd8363b=document[_0x2e8286(0x693)]('manual-bp-project-name')['value'][_0x2e8286(0xb6d)](),_0x3a43ab=document['getElementById'](_0x2e8286(0x80f))[_0x2e8286(0xc5c)][_0x2e8286(0xb6d)](),_0x40a7ba=document['getElementById'](_0x2e8286(0x895))[_0x2e8286(0xc5c)];if(!_0xd8363b||!_0x3a43ab||!_0x40a7ba){showMessage(_0x2e8286(0x3ea));return;}const _0x42933a=parseIndentedBlueprint(_0x40a7ba);if(!_0x42933a[_0x2e8286(0x42d)]||_0x42933a[_0x2e8286(0x42d)][_0x2e8286(0x357)]===0x0){showMessage(_0x2e8286(0x6f9));return;}const _0x16f37b={};let _0x1efb99=0x0;_0x42933a[_0x2e8286(0x42d)]['forEach'](_0x3fc7be=>{const _0x4dcc63=_0x2e8286;_0x3fc7be[_0x4dcc63(0x436)][_0x4dcc63(0x242)](_0x312d01=>{const _0x25ec65=_0x4dcc63;_0x312d01['subTopics'][_0x25ec65(0x242)](_0x1c66d5=>{const _0x2b65a9=_0x25ec65,_0x2c4881=_0x2b65a9(0x213)+Date[_0x2b65a9(0xa37)]()+Math[_0x2b65a9(0x281)]()[_0x2b65a9(0x95f)](0x24)['substr'](0x2,0x9);_0x16f37b[_0x2c4881]={'sara':_0x3fc7be[_0x2b65a9(0x104)],'mainTopic':_0x312d01[_0x2b65a9(0x9e4)],'subTopic':_0x1c66d5,'status':_0x2b65a9(0x2ee),'lessonContent':null,'order':_0x1efb99++};});});});try{const _0x1c6e6c=collection(db,_0x2e8286(0xe45)+appId+_0x2e8286(0xe5a));await addDoc(_0x1c6e6c,{'projectName':_0xd8363b,'gradeLevel':_0x3a43ab,'topics':_0x16f37b,'createdAt':serverTimestamp()}),showMessage(_0x2e8286(0x247)+_0xd8363b+_0x2e8286(0x258)),document[_0x2e8286(0x693)](_0x2e8286(0x415))[_0x2e8286(0x43c)][_0x2e8286(0x128)](_0x2e8286(0xa21));}catch(_0x5ea1f3){console['error']('Error\x20saving\x20manual\x20blueprint\x20project:',_0x5ea1f3),showMessage(_0x2e8286(0x172));}}function handleClearAllLinksForTopic(_0x3d0974){const _0x33edd6=_0x1b93ee;showConfirmation(_0x33edd6(0x8e2),async()=>{const _0x30bff5=_0x33edd6;try{const _0x3dbeaf=doc(db,_0x30bff5(0xe45)+appId+_0x30bff5(0xe5a),currentBlueprintProjectId);await updateDoc(_0x3dbeaf,{['topics.'+_0x3d0974+'.linkedQuizIds']:[]}),showMessage(_0x30bff5(0x51a)),openTopicQuizBank(_0x3d0974),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d8a88){console[_0x30bff5(0x75e)](_0x30bff5(0x6ce),_0x2d8a88),showMessage(_0x30bff5(0x245));}});}function showPodiumView(_0x20d769,_0x2ac67f=_0x1b93ee(0x9d8),_0x249f3e=null){const _0x11afbe=_0x1b93ee,_0x4b8096=_0x249f3e?.[_0x11afbe(0x86a)]===!![],_0x30b96a=Object[_0x11afbe(0x7da)](_0x20d769)[_0x11afbe(0x926)](([_0x323047,_0xf4f838])=>({'name':_0x323047,'realScore':_0xf4f838[_0x11afbe(0xcd3)]||_0xf4f838[_0x11afbe(0xe35)]||0x0,'totalPoints':_0xf4f838['totalPoints']||0x0,'badges':_0xf4f838[_0x11afbe(0x55a)]||[],'hasPerfectScoreBonus':_0xf4f838['hasPerfectScoreBonus']||![]})),_0x3672e5=Math[_0x11afbe(0x417)](..._0x30b96a['map'](_0x344050=>_0x344050[_0x11afbe(0x568)]),-Infinity),_0x3e92a6=Math['max'](..._0x30b96a['map'](_0x3e09b7=>_0x3e09b7['realScore']),-Infinity);_0x30b96a[_0x11afbe(0xa05)]((_0x3e09cd,_0x378710)=>{const _0x48b486=_0x11afbe;if(_0x4b8096){const _0x8be0a7=_0x378710[_0x48b486(0x568)]-_0x3e09cd['totalPoints'];if(_0x8be0a7!==0x0)return _0x8be0a7;const _0x4def2c=_0x378710[_0x48b486(0xcd3)]-_0x3e09cd[_0x48b486(0xcd3)];if(_0x4def2c!==0x0)return _0x4def2c;return _0x3e09cd['name']['localeCompare'](_0x378710['name'],'th');}else{const _0x3cc197=_0x378710['totalPoints']-_0x3e09cd[_0x48b486(0x568)];if(_0x3cc197!==0x0)return _0x3cc197;return _0x378710[_0x48b486(0xcd3)]-_0x3e09cd[_0x48b486(0xcd3)];}});const _0x20ea1f=_0x332179=>{const _0x202ffa=_0x11afbe;if(!_0x332179||_0x332179[_0x202ffa(0x357)]===0x0)return'';const _0x4c6448={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x202ffa(0x6c5)+_0x332179[_0x202ffa(0x926)](_0x23220b=>_0x4c6448[_0x23220b]||'')[_0x202ffa(0xd7b)]('')+_0x202ffa(0x842);},_0x4f7ed8=_0x1e648d=>{const _0x4d1d64=_0x11afbe;let _0xb337bf='';if(_0x4b8096){if(_0x1e648d[_0x4d1d64(0x568)]===_0x3672e5&&_0x3672e5>0x0)_0xb337bf+=_0x4d1d64(0x7d9);if(_0x1e648d['realScore']===_0x3e92a6&&_0x3e92a6>0x0)_0xb337bf+=_0x4d1d64(0x56b);}else{if(_0x1e648d[_0x4d1d64(0x80d)])_0xb337bf=_0x4d1d64(0x367);}if(_0x4b8096){const _0x93022a=_0x1e648d[_0x4d1d64(0x568)]>=0x0?'(+'+_0x1e648d['totalPoints'][_0x4d1d64(0x286)]()+')':'('+_0x1e648d[_0x4d1d64(0x568)][_0x4d1d64(0x286)]()+')';return _0x4d1d64(0x109)+_0x1e648d['realScore']+_0x4d1d64(0x786)+_0x93022a+'\x20'+_0xb337bf+_0x4d1d64(0x3ee);}else return'<p\x20class=\x22text-xl\x22>'+_0x1e648d[_0x4d1d64(0x568)][_0x4d1d64(0x286)]()+_0x4d1d64(0x786)+_0xb337bf+_0x4d1d64(0x3ee);},_0x28c1b8=_0x30b96a[_0x11afbe(0xaa2)](0x3),_0x35c03f=_0x28c1b8[_0x11afbe(0x357)]>0x0?_0x11afbe(0xcd2)+_0x28c1b8[_0x11afbe(0x926)]((_0x56b02b,_0x5b6244)=>{const _0x25fcd6=_0x11afbe;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x5b6244+0x4)+_0x25fcd6(0x25d)+_0x56b02b[_0x25fcd6(0x41d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>'+_0x4f7ed8(_0x56b02b)+_0x25fcd6(0xd94);})[_0x11afbe(0xd7b)]('')+_0x11afbe(0x68b):'',_0x1588a0=_0x11afbe(0x6fa)+(_0x30b96a[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x30b96a[0x1][_0x11afbe(0x41d)]+'</p>'+_0x20ea1f(_0x30b96a[0x1][_0x11afbe(0x55a)])+_0x4f7ed8(_0x30b96a[0x1])+_0x11afbe(0x5aa):_0x11afbe(0xb34))+_0x11afbe(0x483)+(_0x30b96a[0x0]?_0x11afbe(0xcc4)+_0x30b96a[0x0][_0x11afbe(0x41d)]+_0x11afbe(0x3ee)+_0x20ea1f(_0x30b96a[0x0][_0x11afbe(0x55a)])+_0x4f7ed8(_0x30b96a[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x11afbe(0x483)+(_0x30b96a[0x2]?_0x11afbe(0x306)+_0x30b96a[0x2][_0x11afbe(0x41d)]+_0x11afbe(0x3ee)+_0x20ea1f(_0x30b96a[0x2]['badges'])+_0x4f7ed8(_0x30b96a[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x11afbe(0xb34))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35c03f+_0x11afbe(0x3c4)+(currentMode===_0x11afbe(0x23c)?_0x11afbe(0xb9e):_0x11afbe(0xba6))+_0x11afbe(0x16c);liveGameView['innerHTML']=_0x1588a0,currentMode==='admin'?document['getElementById']('close-game-final-btn')[_0x11afbe(0x5e0)](_0x11afbe(0x2df),async()=>{const _0x274b27=_0x11afbe;let _0x75fffa;_0x2ac67f==='sync'?_0x75fffa=doc(db,_0x274b27(0xe45)+appId+_0x274b27(0xe74),currentLiveGameId):_0x75fffa=doc(db,'artifacts/'+appId+_0x274b27(0x504),currentLiveGameId),await deleteDoc(_0x75fffa);}):document[_0x11afbe(0x693)](_0x11afbe(0xe65))?.[_0x11afbe(0x5e0)](_0x11afbe(0x2df),()=>{const _0x3f50d8=_0x11afbe;showView(_0x3f50d8(0x5ed));});}function renderSyncSummaryView(_0x1eb195,_0x29be78,_0x5808bd){const _0xf3ed5d=_0x1b93ee,_0x29dad7=_0x1eb195['gameVariant']||_0xf3ed5d(0x2cf),_0x72e883=(_0x29dad7===_0xf3ed5d(0x47a)||_0x29dad7===_0xf3ed5d(0x671))&&_0x1eb195[_0xf3ed5d(0x273)]===![],_0x2c86d6=_0x29dad7===_0xf3ed5d(0xa8b)||_0x29dad7===_0xf3ed5d(0x671),_0x4552be=_0x1eb195['shuffledQuiz'][_0xf3ed5d(0x4e6)],_0x1af2d2=_0x29be78['questionType']||_0x1eb195['shuffledQuiz'][_0xf3ed5d(0xcd7)],_0x61f4e8=_0x1af2d2===_0xf3ed5d(0xbc0)||_0x1af2d2===_0xf3ed5d(0x236);let _0x34cde4='';if(_0x61f4e8){let _0x303265=0x0,_0x12fece=0x0;const _0x27962c=[],_0x303cd5=[];Object['entries'](_0x1eb195[_0xf3ed5d(0x18f)]||{})[_0xf3ed5d(0x242)](([_0x51f2f4,_0x2fd394])=>{const _0x2ff4ee=_0xf3ed5d,_0x359691=(_0x2fd394[_0x2ff4ee(0x7f4)]||[])['find'](_0x27c6cd=>_0x27c6cd[_0x2ff4ee(0x684)]===_0x1eb195[_0x2ff4ee(0x345)]);if(_0x2fd394[_0x2ff4ee(0x7f7)]!=='inactive'&&_0x359691){const _0x90adac=_0x359691[_0x2ff4ee(0x844)],_0x93010c=_0x72e883?_0x1eb195[_0x2ff4ee(0x5a2)][_0x51f2f4]||_0x2ff4ee(0x2b6):_0x51f2f4;_0x359691[_0x2ff4ee(0x5ce)]?(_0x303265++,_0x27962c[_0x2ff4ee(0xce5)](_0x93010c)):(_0x12fece++,_0x303cd5[_0x2ff4ee(0xce5)](_0x2ff4ee(0x596)+_0x93010c+_0x2ff4ee(0x56d)+(_0x90adac||_0x2ff4ee(0x26f))));}}),_0x34cde4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x303265+_0xf3ed5d(0x661)+(_0x27962c[_0xf3ed5d(0x357)]>0x0?_0x27962c[_0xf3ed5d(0xd7b)](',\x20'):'-')+_0xf3ed5d(0x5e1)+_0x12fece+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>'+(_0x303cd5[_0xf3ed5d(0x357)]>0x0?_0x303cd5[_0xf3ed5d(0xd7b)](_0xf3ed5d(0x4fe)):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x1a1270=[];_0x1af2d2===_0xf3ed5d(0xa76)?_0x1a1270=[_0xf3ed5d(0x562),'ไม่ใช่\x20/\x20ผิด']:_0x1a1270=_0x29be78[_0xf3ed5d(0x2da)]||[];const _0x3e48cb=new Array(_0x1a1270[_0xf3ed5d(0x357)])[_0xf3ed5d(0xd14)](0x0),_0x1d7c53={};_0x1a1270['forEach']((_0x236fec,_0x3c224b)=>{_0x1d7c53[_0x3c224b]=[];}),Object[_0xf3ed5d(0x7da)](_0x1eb195['players']||{})[_0xf3ed5d(0x242)](([_0x4af3ff,_0x3a865c])=>{const _0x1ea6af=_0xf3ed5d,_0x297f55=(_0x3a865c[_0x1ea6af(0x7f4)]||[])['find'](_0x4a80c4=>_0x4a80c4[_0x1ea6af(0x684)]===_0x1eb195[_0x1ea6af(0x345)]);if(_0x3a865c[_0x1ea6af(0x7f7)]!==_0x1ea6af(0xe4d)&&_0x297f55&&_0x297f55[_0x1ea6af(0xcba)]!==null){const _0x14fbda=parseInt(_0x297f55[_0x1ea6af(0xcba)]);if(!isNaN(_0x14fbda)&&_0x1d7c53[_0x14fbda]!==undefined){const _0x10e612=_0x72e883?_0x1eb195[_0x1ea6af(0x5a2)][_0x4af3ff]||_0x1ea6af(0x2b6):_0x4af3ff;_0x1d7c53[_0x14fbda][_0x1ea6af(0xce5)](_0x10e612),_0x3e48cb[_0x14fbda]++;}}}),_0x34cde4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e48cb[_0xf3ed5d(0x926)]((_0x5ef405,_0x407368)=>{const _0x505ace=_0xf3ed5d,_0x6cc91f=_0x1d7c53[_0x407368]['length']>0x0?_0x1d7c53[_0x407368][_0x505ace(0xd7b)](',\x20'):_0x505ace(0xc31),_0x4dbc28=_0x505ace(0x43b);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5ef405+_0x505ace(0xc54)+_0x4dbc28+_0x505ace(0x189)+_0x407368+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1a1270[_0x407368]+_0x505ace(0x2a7)+_0x407368+_0x505ace(0xb23)+_0x6cc91f+_0x505ace(0x4fb);})[_0xf3ed5d(0xd7b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}let _0x2fce73='';const _0xe4e26=_0x1eb195['currentQuestionIndex']>=_0x4552be['length']-0x1;_0x5808bd?_0x2c86d6?_0xe4e26?_0x2fce73=_0xf3ed5d(0x5c6):_0x2fce73=_0xf3ed5d(0xa5d):_0x2fce73=_0xf3ed5d(0x681):_0x2c86d6?_0x2fce73='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x2fce73=_0xf3ed5d(0x14b);const _0x476839=_0x5808bd?_0xf3ed5d(0x860)+_0x1eb195['pin']+_0xf3ed5d(0x838):'',_0x4e12aa=_0xf3ed5d(0x38f)+_0x476839+_0xf3ed5d(0x740)+(_0x29be78[_0xf3ed5d(0xd6a)]||_0x29be78[_0xf3ed5d(0x87a)]||'')+_0xf3ed5d(0xd64)+_0x34cde4+_0xf3ed5d(0x6f5)+_0x2fce73+_0xf3ed5d(0x67e);liveGameView[_0xf3ed5d(0xc8c)]=_0x4e12aa;if(window[_0xf3ed5d(0xad6)])MathJax['typesetPromise']();if(_0x5808bd){const _0xf5db53=doc(db,_0xf3ed5d(0xe45)+appId+_0xf3ed5d(0xe74),currentLiveGameId);document[_0xf3ed5d(0x693)](_0xf3ed5d(0xdd7))?.[_0xf3ed5d(0x5e0)](_0xf3ed5d(0x2df),async()=>{const _0x76551a=_0xf3ed5d,_0x19cdc2=Object[_0x76551a(0x8d9)](_0x1eb195[_0x76551a(0x18f)]||{})[_0x76551a(0x926)](_0x12d2b1=>({'name':_0x12d2b1[_0x76551a(0x41d)],'score':_0x12d2b1[_0x76551a(0xe35)]||0x0,'totalPoints':_0x12d2b1['totalPoints']||0x0,'pointsLastRound':_0x12d2b1['pointsLastRound']||0x0,'answers':_0x12d2b1[_0x76551a(0x7f4)]||[],'correctStreak':_0x12d2b1[_0x76551a(0x48c)]||0x0}));await updateDoc(_0xf5db53,{'status':_0x76551a(0xb88),'publicLeaderboard':_0x19cdc2});}),document[_0xf3ed5d(0x693)](_0xf3ed5d(0x4ae))?.[_0xf3ed5d(0x5e0)](_0xf3ed5d(0x2df),()=>{const _0x691645=_0xf3ed5d;openScratchpad(_0x29be78,_0x29be78[_0x691645(0x2da)]||[]);}),document['getElementById'](_0xf3ed5d(0x1cf))?.[_0xf3ed5d(0x5e0)](_0xf3ed5d(0x2df),async()=>{const _0x523cf8=_0xf3ed5d,_0x24fbb0=_0x1eb195[_0x523cf8(0x345)]+0x1;await updateDoc(_0xf5db53,{'status':_0x523cf8(0x776),'currentQuestionIndex':_0x24fbb0,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0xf3ed5d(0x693)](_0xf3ed5d(0x5db))?.[_0xf3ed5d(0x5e0)](_0xf3ed5d(0x2df),async()=>{const _0x541d8c=_0xf3ed5d,_0x4d608f=Object[_0x541d8c(0x8d9)](_0x1eb195[_0x541d8c(0x18f)]||{})[_0x541d8c(0x926)](_0x356a07=>({'name':_0x356a07[_0x541d8c(0x41d)],'score':_0x356a07[_0x541d8c(0xe35)]||0x0,'totalPoints':_0x356a07[_0x541d8c(0x568)]||0x0,'pointsLastRound':_0x356a07[_0x541d8c(0x7d1)]||0x0,'answers':_0x356a07[_0x541d8c(0x7f4)]||[],'correctStreak':_0x356a07[_0x541d8c(0x48c)]||0x0}));await updateDoc(_0xf5db53,{'status':_0x541d8c(0xb88),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x4d608f});});}}function renderAnonymousStudentResultsView(_0x6cf4){const _0x33aeaa=_0x1b93ee,_0x1bd807=_0x6cf4[_0x33aeaa(0x345)]>=_0x6cf4[_0x33aeaa(0xd4c)][_0x33aeaa(0x4e6)]['length']-0x1;let _0x2d69fd='';if(_0x6cf4['isAnonymousRevealed']===!![]){const _0x5d058b=_0x6cf4['players'][localTeamPlayers[0x0]],_0x383abf=_0x5d058b['name'],_0x88227b=_0x5d058b[_0x33aeaa(0xe35)];_0x2d69fd=_0x33aeaa(0x4d0)+_0x383abf+'\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>'+_0x88227b+_0x33aeaa(0xe7a);}else _0x2d69fd=_0x33aeaa(0xbcb)+(_0x1bd807?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x33aeaa(0x76a))+_0x33aeaa(0x80c);const _0x4889b4=_0x33aeaa(0xd5b)+_0x2d69fd+_0x33aeaa(0x54a);liveGameView[_0x33aeaa(0xc8c)]=_0x4889b4;}async function handleShowStudentRankings(){const _0x458580=_0x1b93ee,_0x526286=document[_0x458580(0xbc1)](_0x458580(0x88a));_0x526286&&(_0x526286[_0x458580(0xc8c)]=_0x458580(0xdc1));const _0x42f158=document[_0x458580(0xbc1)]('#student-project-leaderboard-content\x20thead');_0x42f158&&(_0x42f158['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x220cd4=document['getElementById'](_0x458580(0x18d));_0x220cd4['classList']['remove'](_0x458580(0xa21)),document['getElementById']('close-student-rankings-btn')['onclick']=()=>_0x220cd4[_0x458580(0x43c)][_0x458580(0x128)]('hidden');const _0x33498f=document['getElementById'](_0x458580(0x515)),_0x37e63d=document[_0x458580(0x693)]('student-project-leaderboard-tab'),_0x37e9fa=document[_0x458580(0x693)]('student-quiz-leaderboard-content'),_0x123dd2=document[_0x458580(0x693)]('student-project-leaderboard-content');_0x33498f['onclick']=()=>{const _0x4b988c=_0x458580;_0x33498f[_0x4b988c(0x43c)]['add'](_0x4b988c(0x69a)),_0x37e63d[_0x4b988c(0x43c)]['remove']('active'),_0x37e9fa[_0x4b988c(0x43c)]['remove'](_0x4b988c(0xa21)),_0x123dd2[_0x4b988c(0x43c)][_0x4b988c(0x128)](_0x4b988c(0xa21));},_0x37e63d[_0x458580(0x72e)]=()=>{const _0x2cfffc=_0x458580;_0x37e63d[_0x2cfffc(0x43c)][_0x2cfffc(0x128)]('active'),_0x33498f['classList']['remove'](_0x2cfffc(0x69a)),_0x123dd2[_0x2cfffc(0x43c)][_0x2cfffc(0x200)](_0x2cfffc(0xa21)),_0x37e9fa['classList'][_0x2cfffc(0x128)](_0x2cfffc(0xa21));};try{const _0x52e826=collection(db,'artifacts/'+appId+_0x458580(0x449)+currentQuizData['id']+'/submissions'),_0x596808=await getDocs(_0x52e826),_0x4deb7c=_0x596808[_0x458580(0x34d)][_0x458580(0x926)](_0x11b893=>_0x11b893[_0x458580(0x7d4)]());renderQuizLeaderboard(_0x4deb7c,currentQuizData,_0x458580(0xdf8));const _0xd36299=collection(db,_0x458580(0xe45)+appId+_0x458580(0x456)+currentQuizData[_0x458580(0x3a0)]+_0x458580(0x63c)),_0x265330=await getDocs(_0xd36299),_0x118e7b=_0x265330[_0x458580(0x34d)][_0x458580(0x926)](_0x43e48b=>_0x43e48b['data']());renderLeaderboard(_0x118e7b,'student-project-leaderboard-table-body');}catch(_0x4b3b88){console[_0x458580(0x75e)](_0x458580(0x1eb),_0x4b3b88),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5b937d){const _0x466d1e=_0x1b93ee,_0x4cf4ee=_0x5b937d[_0x466d1e(0x5be)],_0x2c2a08=_0x4cf4ee[_0x466d1e(0x43d)][_0x466d1e(0x6ca)],_0x49049a=currentQuizData[_0x466d1e(0x4e6)][_0x2c2a08];if(!userId){showMessage(_0x466d1e(0xbe1));return;}try{const _0x49825f={..._0x49049a,'originalTopic':currentQuizData[_0x466d1e(0x669)],'savedAt':serverTimestamp()},_0x401a00=collection(db,_0x466d1e(0xe45)+appId+_0x466d1e(0x251)+userId+_0x466d1e(0xbd7));await addDoc(_0x401a00,_0x49825f),showMessage(_0x466d1e(0xb58)),_0x4cf4ee[_0x466d1e(0x43c)]['remove']('text-purple-600'),_0x4cf4ee[_0x466d1e(0x43c)][_0x466d1e(0x128)](_0x466d1e(0xdc3)),_0x4cf4ee[_0x466d1e(0xe12)]=!![];}catch(_0x54e685){console[_0x466d1e(0x75e)](_0x466d1e(0x89b),_0x54e685),showMessage(_0x466d1e(0xa04));}}async function selectProjectAndGenerateBlueprintQuiz(_0x148018,_0x37f91b=null,_0x11559d=null,_0x1b430a=![]){const _0x3e7372=_0x1b93ee;cameFromBlueprint=!![];const _0x58d370=document[_0x3e7372(0x693)](_0x3e7372(0x51c))?.[_0x3e7372(0xc5c)][_0x3e7372(0xb6d)]();let _0x50913f=null;if(_0x58d370){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0xeb4e6a=await fetchFileFromUrl(_0x58d370,_0x3e7372(0x1e9)),_0x5411c6=await new Promise((_0x3cbd1c,_0x1ef3e2)=>{const _0x191d7b=_0x3e7372,_0x4497eb=new FileReader();_0x4497eb['readAsDataURL'](_0xeb4e6a),_0x4497eb[_0x191d7b(0x8f1)]=()=>_0x3cbd1c(_0x4497eb[_0x191d7b(0xe0a)][_0x191d7b(0x239)](',')[0x1]),_0x4497eb[_0x191d7b(0xd49)]=_0x1ef3e2;});_0x50913f=[{'inlineData':{'mimeType':_0xeb4e6a[_0x3e7372(0xb75)],'data':_0x5411c6}}],messageModal[_0x3e7372(0x43c)]['add']('hidden');}catch(_0x273a7e){console[_0x3e7372(0x75e)](_0x3e7372(0x592),_0x273a7e),showMessage(_0x3e7372(0xe01));}}const _0x136e14=document[_0x3e7372(0x693)](_0x3e7372(0x240)),_0x3c11c2=document[_0x3e7372(0x693)](_0x3e7372(0x6c8)),_0x282aa2=_0x136e14[_0x3e7372(0xbc1)]('h3'),_0x4bfcec=document[_0x3e7372(0x693)](_0x3e7372(0x69c)),_0x2df17d=document['getElementById']('cancel-move-quiz-btn');_0x282aa2[_0x3e7372(0xc08)]=_0x3e7372(0x8cb),_0x4bfcec[_0x3e7372(0xc08)]=_0x3e7372(0x1ce),_0x4bfcec[_0x3e7372(0xe12)]=!![];allProjects['length']===0x0?_0x3c11c2[_0x3e7372(0xc8c)]=_0x3e7372(0x383):(_0x3c11c2[_0x3e7372(0xc8c)]=_0x3e7372(0x829)+allProjects['map'](_0x19d852=>_0x3e7372(0x1fe)+_0x19d852['id']+'\x22>'+_0x19d852[_0x3e7372(0x21c)]+_0x3e7372(0x280))['join'](''),_0x4bfcec[_0x3e7372(0xe12)]=![]);_0x136e14[_0x3e7372(0x43c)][_0x3e7372(0x200)](_0x3e7372(0xa21));const _0x4bb3df=async()=>{const _0x583354=_0x3e7372,_0x5aec1d=_0x3c11c2[_0x583354(0xc5c)];if(!_0x5aec1d){showMessage(_0x583354(0x1bd));return;}_0x136e14[_0x583354(0x43c)]['add'](_0x583354(0xa21)),document[_0x583354(0x693)](_0x583354(0xbe5))['classList']['add'](_0x583354(0xa21)),await loadProjectDetails(_0x5aec1d),showView(_0x583354(0x66a)),handleGenerateQuizFromBlueprintTopic(_0x148018,_0x37f91b,_0x5aec1d,_0x11559d,_0x1b430a,_0x50913f),_0xa01e89();},_0xa01e89=()=>{const _0x439610=_0x3e7372;_0x282aa2[_0x439610(0xc08)]=_0x439610(0xa0e),_0x4bfcec[_0x439610(0xc08)]='ย้าย',_0x4bfcec[_0x439610(0x663)]('click',_0x4bb3df),_0x2df17d[_0x439610(0x663)](_0x439610(0x2df),_0xa01e89),_0x4bfcec[_0x439610(0x5e0)]('click',confirmMoveQuiz);};_0x4bfcec[_0x3e7372(0x663)](_0x3e7372(0x2df),confirmMoveQuiz),_0x4bfcec[_0x3e7372(0x5e0)](_0x3e7372(0x2df),_0x4bb3df),_0x2df17d[_0x3e7372(0x5e0)](_0x3e7372(0x2df),_0xa01e89);}function listenForStarredQuizzes(){const _0x12cca7=_0x1b93ee;if(!userId)return;const _0x2ce45a=collection(db,_0x12cca7(0xe45)+appId+_0x12cca7(0x868)),_0x4e3a5b=query(_0x2ce45a,where('isStarred','==',!![]));onSnapshot(_0x4e3a5b,_0x7e944b=>{const _0x1177e4=_0x12cca7;starredQuizzes=_0x7e944b['docs'][_0x1177e4(0x926)](_0x5df143=>({'id':_0x5df143['id'],..._0x5df143[_0x1177e4(0x7d4)]()})),currentProjectId===_0x1177e4(0xdbe)?renderQuizzes():renderProjects();},_0x361ddd=>{const _0x25fc45=_0x12cca7;console[_0x25fc45(0x75e)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x361ddd);});}function listenForFileShortcuts(){const _0x424739=_0x1b93ee,_0x5da50a=doc(db,'globalSettings',_0x424739(0x4a6));onSnapshot(_0x5da50a,_0x2ad776=>{const _0x301940=_0x424739;let _0x47d6d1=[],_0x367872=[],_0x1bc93e={};if(_0x2ad776[_0x301940(0x5a9)]()){const _0x22b5e2=_0x2ad776[_0x301940(0x7d4)]();_0x47d6d1=_0x22b5e2[_0x301940(0x727)]||[],_0x367872=_0x22b5e2['fileShortcutTabs']||[],_0x1bc93e=_0x22b5e2[_0x301940(0xb52)]||{};}!_0x367872['find'](_0x5c17cc=>_0x5c17cc['id']===_0x301940(0x10a))&&_0x367872[_0x301940(0xb30)]({'id':_0x301940(0x10a),'name':_0x301940(0x271),'isDefault':!![]}),!_0x47d6d1[_0x301940(0xe69)](_0x7ee73a=>_0x7ee73a['id']===_0x301940(0xd70))&&_0x47d6d1['unshift']({'id':_0x301940(0xd70),'name':_0x301940(0x4b9),'url':'','isDefault':!![]}),!_0x47d6d1[_0x301940(0xe69)](_0x266a79=>_0x266a79['id']===_0x301940(0x605))&&_0x47d6d1[_0x301940(0xb30)]({'id':_0x301940(0x605),'name':_0x301940(0x4c0),'url':'','isDefault':!![]}),fileShortcuts=_0x47d6d1,fileShortcutTabs=_0x367872,fileShortcutOrder=_0x1bc93e,renderFileShortcuts(),!document[_0x301940(0x693)]('additional-file-shortcuts-modal')[_0x301940(0x43c)][_0x301940(0x539)](_0x301940(0xa21))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x2cfbc6=_0x1b93ee,_0x313092=doc(db,'globalSettings','fileShortcutsConfig');try{await setDoc(_0x313092,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x8a8419){console[_0x2cfbc6(0x75e)](_0x2cfbc6(0x9b9),_0x8a8419);}}function renderAdditionalFileShortcutsModal(){const _0x3606ea=_0x1b93ee,_0x4fec46=document[_0x3606ea(0x693)](_0x3606ea(0x2fd)),_0x54e99c=document['getElementById'](_0x3606ea(0xcf7));if(!_0x4fec46||!_0x54e99c)return;_0x4fec46[_0x3606ea(0xc8c)]=fileShortcutTabs[_0x3606ea(0x926)](_0x135e86=>{const _0x44a709=_0x3606ea,_0x4b3d8b=_0x135e86['id']===activeFileShortcutTabId;return _0x44a709(0x5cb)+_0x135e86['id']+_0x44a709(0x241)+(_0x4b3d8b?_0x44a709(0x13a):_0x44a709(0x4de))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x135e86[_0x44a709(0x41d)]+_0x44a709(0x9b2)+_0x135e86[_0x44a709(0x41d)]+_0x44a709(0x3eb)+(!_0x135e86[_0x44a709(0xa19)]?_0x44a709(0xa45)+_0x135e86['id']+_0x44a709(0x3ed):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3606ea(0xd7b)]('');const _0x56615d=fileShortcutTabs[_0x3606ea(0xe69)](_0x2cfd8f=>_0x2cfd8f['id']===activeFileShortcutTabId);let _0x271d31=_0x56615d?.[_0x3606ea(0xa19)]?[...fileShortcuts]:fileShortcuts[_0x3606ea(0x107)](_0x1df500=>(_0x56615d?.['shortcutIds']||[])[_0x3606ea(0x8bb)](_0x1df500['id']));const _0x361edc=fileShortcutOrder[activeFileShortcutTabId]||[];_0x271d31['sort']((_0x1e9d09,_0x5f2ead)=>{const _0x197451=_0x3606ea,_0x16c161=_0x361edc[_0x197451(0x76e)](_0x1e9d09['id']),_0x345773=_0x361edc[_0x197451(0x76e)](_0x5f2ead['id']);return(_0x16c161===-0x1?Infinity:_0x16c161)-(_0x345773===-0x1?Infinity:_0x345773);}),_0x54e99c[_0x3606ea(0xc8c)]=_0x271d31[_0x3606ea(0x926)](_0x195625=>{const _0x519088=_0x3606ea,_0x2c13b4=_0x195625[_0x519088(0x2ad)]?'📄':'🔗',_0x53a0b1=fileShortcutTabs[_0x519088(0x107)](_0x16ce46=>!_0x16ce46[_0x519088(0xa19)]),_0x3bdc2d=_0x56615d[_0x519088(0xa19)]&&_0x53a0b1[_0x519088(0x357)]>0x0?_0x519088(0xc4b)+_0x53a0b1['map'](_0x1955d2=>_0x519088(0x542)+_0x195625['id']+_0x519088(0x4e5)+_0x1955d2['id']+'\x22>'+_0x1955d2[_0x519088(0x41d)]+_0x519088(0xd66))[_0x519088(0xd7b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x519088(0x823)+_0x195625['id']+_0x519088(0xace)+_0x2c13b4+'\x20'+_0x195625['name']+_0x519088(0xca5)+_0x195625['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x195625['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x195625[_0x519088(0xa19)]?'<button\x20data-id=\x22'+_0x195625['id']+_0x519088(0x9eb):'')+_0x519088(0x31d)+(!_0x56615d[_0x519088(0xa19)]?_0x519088(0x80a)+_0x195625['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x519088(0x31d)+_0x3bdc2d+_0x519088(0x93f);})[_0x3606ea(0xd7b)]('')||_0x3606ea(0x920),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0xe72662=_0x1b93ee;document[_0xe72662(0xe56)](_0xe72662(0x397))[_0xe72662(0x242)](_0x450a59=>{const _0xb1ac7b=_0xe72662;_0x450a59[_0xb1ac7b(0x72e)]=_0x2d6ce4=>{const _0x52e24b=_0xb1ac7b;activeFileShortcutTabId=_0x2d6ce4[_0x52e24b(0x5be)][_0x52e24b(0x43d)][_0x52e24b(0x93c)],renderAdditionalFileShortcutsModal();},_0x450a59[_0xb1ac7b(0x96d)]=_0x1ae3f7=>{const _0x31e6f2=_0xb1ac7b,_0x27d28f=_0x1ae3f7[_0x31e6f2(0x5be)][_0x31e6f2(0xbc1)](_0x31e6f2(0xb91));_0x1ae3f7[_0x31e6f2(0x5be)]['querySelector'](_0x31e6f2(0xc26))[_0x31e6f2(0x43c)][_0x31e6f2(0x128)](_0x31e6f2(0xa21)),_0x27d28f[_0x31e6f2(0x43c)]['remove'](_0x31e6f2(0xa21)),_0x27d28f['focus'](),_0x27d28f[_0x31e6f2(0x414)]();};}),document[_0xe72662(0xe56)](_0xe72662(0xc73))[_0xe72662(0x242)](_0x2ee891=>{const _0x37ee47=_0xe72662,_0x5a08a0=()=>{const _0x1c33fa=_0x1173,_0x3a4209=_0x2ee891['closest']('.file-shortcut-tab-btn')[_0x1c33fa(0x43d)][_0x1c33fa(0x93c)],_0x26e952=fileShortcutTabs[_0x1c33fa(0xe69)](_0xbc7f6c=>_0xbc7f6c['id']===_0x3a4209);_0x26e952&&(_0x26e952[_0x1c33fa(0x41d)]=_0x2ee891['value'][_0x1c33fa(0xb6d)]()||_0x26e952['name'],saveFileShortcutConfig());};_0x2ee891[_0x37ee47(0xdab)]=_0x5a08a0,_0x2ee891[_0x37ee47(0x680)]=_0x1c3c24=>{const _0x55e6e0=_0x37ee47;if(_0x1c3c24[_0x55e6e0(0xd6d)]===_0x55e6e0(0x4dc))_0x2ee891[_0x55e6e0(0x2ef)]();};}),document['querySelectorAll']('.delete-file-shortcut-tab-btn')[_0xe72662(0x242)](_0x1577ab=>_0x1577ab[_0xe72662(0x72e)]=_0x1320bb=>{const _0x17116c=_0xe72662,_0x1c9890=_0x1320bb['currentTarget'][_0x17116c(0x43d)][_0x17116c(0x93c)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x18d362=_0x17116c;fileShortcutTabs=fileShortcutTabs[_0x18d362(0x107)](_0x27cbfe=>_0x27cbfe['id']!==_0x1c9890),delete fileShortcutOrder[_0x1c9890];if(activeFileShortcutTabId===_0x1c9890)activeFileShortcutTabId=_0x18d362(0x10a);saveFileShortcutConfig();});}),document['querySelectorAll'](_0xe72662(0xa9c))['forEach'](_0x44750f=>_0x44750f[_0xe72662(0x72e)]=_0x44dccf=>{const _0x3c883d=_0xe72662;_0x44dccf['preventDefault']();const {shortcutId:_0x211d6a,targetTabId:_0x311f1d}=_0x44dccf[_0x3c883d(0x5be)][_0x3c883d(0x43d)],_0x2c86bb=fileShortcutTabs[_0x3c883d(0xe69)](_0x4f3336=>_0x4f3336['id']===_0x311f1d);_0x2c86bb&&!_0x2c86bb[_0x3c883d(0x3d2)][_0x3c883d(0x8bb)](_0x211d6a)&&(_0x2c86bb[_0x3c883d(0x3d2)][_0x3c883d(0xce5)](_0x211d6a),saveFileShortcutConfig());}),document['querySelectorAll'](_0xe72662(0x63e))[_0xe72662(0x242)](_0x4035cc=>_0x4035cc[_0xe72662(0x72e)]=_0x3e4fce=>{const _0x556647=_0xe72662,_0x1cec78=_0x3e4fce['currentTarget']['dataset'][_0x556647(0xbb1)],_0x16e10f=fileShortcutTabs['find'](_0x21d48a=>_0x21d48a['id']===activeFileShortcutTabId);_0x16e10f&&!_0x16e10f['isDefault']&&(_0x16e10f[_0x556647(0x3d2)]=_0x16e10f['shortcutIds'][_0x556647(0x107)](_0x16c786=>_0x16c786!==_0x1cec78),saveFileShortcutConfig());}),document[_0xe72662(0xe56)](_0xe72662(0x9df))[_0xe72662(0x242)](_0x2197ba=>_0x2197ba[_0xe72662(0x72e)]=_0x3267a7=>{const _0x409c70=_0xe72662;_0x3267a7[_0x409c70(0xd72)]();const _0x2e492f=_0x3267a7['currentTarget']['nextElementSibling'];document[_0x409c70(0xe56)](_0x409c70(0x855))[_0x409c70(0x242)](_0x4736bc=>_0x4736bc[_0x409c70(0x43c)][_0x409c70(0x128)](_0x409c70(0xa21))),_0x2e492f[_0x409c70(0x43c)][_0x409c70(0x200)](_0x409c70(0xa21));});const _0x51df00=document[_0xe72662(0x693)]('additional-file-shortcuts-list');let _0x355269=null;_0x51df00[_0xe72662(0x9f1)]=_0x35e211=>{const _0x4cb1e5=_0xe72662;_0x355269=_0x35e211[_0x4cb1e5(0x588)][_0x4cb1e5(0xe11)](_0x4cb1e5(0xcb1));if(_0x355269)setTimeout(()=>_0x355269['classList'][_0x4cb1e5(0x128)]('opacity-50'),0x0);},_0x51df00['ondragend']=()=>{const _0x361783=_0xe72662;_0x355269&&(_0x355269[_0x361783(0x43c)][_0x361783(0x200)]('opacity-50'),_0x355269=null);},_0x51df00['ondragover']=_0x10decb=>{const _0x2b349c=_0xe72662;_0x10decb[_0x2b349c(0x32c)]();},_0x51df00['ondrop']=_0x3b44a1=>{const _0x1b8ab0=_0xe72662;_0x3b44a1[_0x1b8ab0(0x32c)]();if(_0x355269){const _0x3ab55b=[..._0x51df00['querySelectorAll'](_0x1b8ab0(0x4e7))][_0x1b8ab0(0xb28)]((_0x5334b0,_0x1d2944)=>{const _0x24e1eb=_0x1b8ab0,_0x1ed539=_0x1d2944[_0x24e1eb(0x978)](),_0x59be24=_0x3b44a1[_0x24e1eb(0x566)]-_0x1ed539[_0x24e1eb(0x7f8)]-_0x1ed539[_0x24e1eb(0x69f)]/0x2;return _0x59be24<0x0&&_0x59be24>_0x5334b0['offset']?{'offset':_0x59be24,'element':_0x1d2944}:_0x5334b0;},{'offset':Number[_0x1b8ab0(0x816)]})['element'];_0x3ab55b==null?_0x51df00[_0x1b8ab0(0x39f)](_0x355269):_0x51df00[_0x1b8ab0(0x4b4)](_0x355269,_0x3ab55b);const _0x201a40=[..._0x51df00['querySelectorAll']('.shortcut-list-item')][_0x1b8ab0(0x926)](_0x33e402=>_0x33e402[_0x1b8ab0(0x43d)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x201a40,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x1624a9=_0x1b93ee,_0x492ec0=prompt(_0x1624a9(0x7ac),'แท็บใหม่');_0x492ec0&&_0x492ec0['trim']()&&(fileShortcutTabs[_0x1624a9(0xce5)]({'id':_0x1624a9(0x707)+Date['now'](),'name':_0x492ec0[_0x1624a9(0xb6d)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x386dd5=_0x1b93ee,_0x4ae564=document[_0x386dd5(0x693)](_0x386dd5(0x9c5)),_0x56e65d=document['getElementById'](_0x386dd5(0xcf7)),_0x5a5e5d=document[_0x386dd5(0x693)](_0x386dd5(0xd93));if(_0x5a5e5d)_0x5a5e5d[_0x386dd5(0x43c)]['add'](_0x386dd5(0xa21));if(!_0x4ae564||!_0x56e65d)return;const _0x3ee5d8=fileShortcuts[_0x386dd5(0xaa2)](0x0,0x4),_0x4ba524=fileShortcuts[_0x386dd5(0xaa2)](0x4);_0x4ae564[_0x386dd5(0xc8c)]=_0x3ee5d8['map'](_0x55316c=>{const _0x41d8af=_0x386dd5,_0x24b013=_0x55316c[_0x41d8af(0x2ad)]&&_0x55316c['url']['trim']()!=='',_0x45cff6=selectedFile&&selectedFile[_0x41d8af(0xbb1)]===_0x55316c['id'];let _0x18f850='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x276e13='🔗';if(_0x45cff6)_0x18f850='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x276e13=_0x41d8af(0xa4b);else _0x24b013&&(_0x18f850=_0x41d8af(0x169),_0x276e13='📄');const _0x327b7e=!_0x55316c[_0x41d8af(0xa19)]?_0x41d8af(0x570)+_0x55316c['id']+_0x41d8af(0x4dd):'';return _0x41d8af(0x9a0)+_0x55316c['id']+_0x41d8af(0xca4)+_0x18f850+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x276e13+_0x41d8af(0xe27)+_0x55316c[_0x41d8af(0x41d)]+_0x41d8af(0x8aa)+_0x55316c['id']+_0x41d8af(0x700)+_0x327b7e+_0x41d8af(0xca8);})['join'](''),_0x4ba524[_0x386dd5(0x357)]>0x0&&(_0x4ae564[_0x386dd5(0xc8c)]+=_0x386dd5(0x918)),_0x4ba524[_0x386dd5(0x357)]>0x0?_0x56e65d['innerHTML']=_0x4ba524[_0x386dd5(0x926)](_0x3604a9=>_0x386dd5(0x721)+(_0x3604a9[_0x386dd5(0x2ad)]?'📄':'🔗')+'\x20'+_0x3604a9[_0x386dd5(0x41d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3604a9['id']+_0x386dd5(0x68e)+_0x3604a9['id']+_0x386dd5(0xac1)+(!_0x3604a9[_0x386dd5(0xa19)]?'<button\x20data-id=\x22'+_0x3604a9['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x386dd5(0x3ca))[_0x386dd5(0xd7b)](''):_0x56e65d[_0x386dd5(0xc8c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x11e64a=null){const _0x414c82=_0x1b93ee,_0x3b6374=document['getElementById']('file-shortcut-editor-modal'),_0x1594fe=document[_0x414c82(0x693)](_0x414c82(0x798)),_0x4906fd=document[_0x414c82(0x693)](_0x414c82(0x20a)),_0xb20cb5=document[_0x414c82(0x693)](_0x414c82(0x79f)),_0x347dc8=document['getElementById'](_0x414c82(0xa9a));if(_0x11e64a){const _0x1dad0f=fileShortcuts[_0x414c82(0xe69)](_0x3b4a7c=>_0x3b4a7c['id']===_0x11e64a);if(!_0x1dad0f)return;_0x1594fe[_0x414c82(0xc08)]=_0x414c82(0x4aa),_0x4906fd[_0x414c82(0xc5c)]=_0x1dad0f['id'],_0xb20cb5[_0x414c82(0xc5c)]=_0x1dad0f[_0x414c82(0x41d)],_0x347dc8['value']=_0x1dad0f[_0x414c82(0x2ad)]||'';}else _0x1594fe[_0x414c82(0xc08)]=_0x414c82(0xba1),_0x4906fd[_0x414c82(0xc5c)]='',_0xb20cb5[_0x414c82(0xc5c)]='',_0x347dc8[_0x414c82(0xc5c)]='';_0x3b6374[_0x414c82(0x43c)]['remove'](_0x414c82(0xa21));}async function saveFileShortcutChanges(){const _0x582108=_0x1b93ee,_0x5b687a=document[_0x582108(0x693)](_0x582108(0x20a))['value'],_0x2500eb=document[_0x582108(0x693)](_0x582108(0x79f))[_0x582108(0xc5c)][_0x582108(0xb6d)](),_0x10346a=document[_0x582108(0x693)](_0x582108(0xa9a))[_0x582108(0xc5c)][_0x582108(0xb6d)]();if(!_0x2500eb){showMessage(_0x582108(0xc16));return;}const _0x1b4d06={'id':_0x5b687a||_0x582108(0x6b6)+Date[_0x582108(0xa37)](),'name':_0x2500eb,'url':_0x10346a,'isDefault':_0x5b687a[_0x582108(0x3a6)](_0x582108(0xcc5))};let _0x4cca7b;_0x5b687a?_0x4cca7b=fileShortcuts['map'](_0x3190bf=>_0x3190bf['id']===_0x5b687a?_0x1b4d06:_0x3190bf):_0x4cca7b=[...fileShortcuts,_0x1b4d06];try{const _0x4704e7=doc(db,_0x582108(0xe34),_0x582108(0x4a6));await setDoc(_0x4704e7,{'shortcuts':_0x4cca7b},{'merge':!![]}),document[_0x582108(0x693)]('file-shortcut-editor-modal')[_0x582108(0x43c)][_0x582108(0x128)](_0x582108(0xa21));}catch(_0x512417){console[_0x582108(0x75e)](_0x582108(0x922),_0x512417),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x1eceb6){const _0x403ad4=_0x1b93ee,_0x151169=fileShortcuts[_0x403ad4(0xe69)](_0x388770=>_0x388770['id']===_0x1eceb6);if(!_0x151169)return;if(!_0x151169[_0x403ad4(0x2ad)]||_0x151169[_0x403ad4(0x2ad)][_0x403ad4(0xb6d)]()===''){openFileShortcutEditor(_0x1eceb6);return;}const _0x44da92=document[_0x403ad4(0xbc1)](_0x403ad4(0xb55)+_0x1eceb6+'\x22]');if(_0x44da92){const _0x1a1d5e=_0x44da92[_0x403ad4(0xc8c)];_0x44da92[_0x403ad4(0xc8c)]=_0x403ad4(0xcd0),_0x44da92['disabled']=!![];}document[_0x403ad4(0xe56)]('.file-shortcut-btn')[_0x403ad4(0x242)](_0x33d29e=>{const _0x259a01=_0x403ad4;if(_0x33d29e[_0x259a01(0x43d)]['id']!==_0x1eceb6)_0x33d29e[_0x259a01(0x43c)][_0x259a01(0x128)](_0x259a01(0x677),_0x259a01(0xb14));});try{const _0x32b06c=new URL(_0x151169[_0x403ad4(0x2ad)])['pathname'],_0x34ca00=_0x32b06c[_0x403ad4(0x179)](_0x32b06c[_0x403ad4(0x4b0)]('/')+0x1)||(_0x151169[_0x403ad4(0x2ad)][_0x403ad4(0x8bb)](_0x403ad4(0xc27))?_0x403ad4(0xb11):'file.pdf'),_0x278632=await fetchFileFromUrl(_0x151169[_0x403ad4(0x2ad)],_0x34ca00);_0x278632[_0x403ad4(0xbb1)]=_0x1eceb6,selectedFile=_0x278632,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x403ad4(0x693)](_0x403ad4(0xb61))[_0x403ad4(0x71a)]({'behavior':_0x403ad4(0xdbd),'block':_0x403ad4(0x2b5)});}catch(_0x2f2c5b){console[_0x403ad4(0x75e)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x2f2c5b),showMessage(_0x403ad4(0xc2e)+_0x2f2c5b[_0x403ad4(0x340)]),renderFileShortcuts();}finally{document[_0x403ad4(0xe56)](_0x403ad4(0x845))[_0x403ad4(0x242)](_0x475242=>{const _0x1ff7ca=_0x403ad4;_0x475242[_0x1ff7ca(0x43c)][_0x1ff7ca(0x200)](_0x1ff7ca(0x677),_0x1ff7ca(0xb14)),_0x475242['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x120dad=_0x1b93ee;if(allQuizzesGlobal[_0x120dad(0x357)]>0x0)return;console[_0x120dad(0xb20)](_0x120dad(0x636)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x23bcc0=await getDocs(collection(db,'artifacts/'+appId+_0x120dad(0x868)));allQuizzesGlobal=_0x23bcc0[_0x120dad(0x34d)][_0x120dad(0x926)](_0x506033=>({'id':_0x506033['id'],..._0x506033[_0x120dad(0x7d4)]()})),console[_0x120dad(0xb20)](_0x120dad(0x957)+allQuizzesGlobal[_0x120dad(0x357)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal['classList'][_0x120dad(0x128)](_0x120dad(0xa21));}catch(_0x24ef36){console[_0x120dad(0x75e)](_0x120dad(0xb92),_0x24ef36),messageModal[_0x120dad(0x43c)][_0x120dad(0x128)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x5257f4=_0x1b93ee;if(!currentQuizData||!currentQuizData[_0x5257f4(0x4e6)]){showMessage(_0x5257f4(0x387));return;}const _0x21c136=currentQuizData,_0x41b792=window[_0x5257f4(0x5da)]('',_0x5257f4(0x8b0)),_0x38e5cf=_0x42f817=>String['fromCharCode'](0x41+_0x42f817),_0x4e1d5f=_0x5257f4(0x72c)+_0x21c136[_0x5257f4(0x669)]+_0x5257f4(0xb6c)+_0x21c136[_0x5257f4(0x669)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21c136[_0x5257f4(0x4e6)][_0x5257f4(0x926)]((_0x325cdf,_0x24997e)=>{const _0x117084=_0x5257f4;let _0x5d83d3='';const _0x50a6f4=_0x325cdf['questionType']||_0x21c136[_0x117084(0xcd7)];switch(_0x50a6f4){case _0x117084(0x6c4):case _0x117084(0x7fc):_0x5d83d3=_0x117084(0x176)+_0x325cdf[_0x117084(0x2da)][_0x117084(0x926)]((_0x428223,_0x4974c0)=>_0x117084(0x36f)+_0x38e5cf(_0x4974c0)+'.\x20'+_0x428223+_0x117084(0x2e3))[_0x117084(0xd7b)](_0x117084(0x4fe))+_0x117084(0x842);break;case'true_false':_0x5d83d3=_0x117084(0xc39);break;default:_0x5d83d3=_0x117084(0x366);break;}return _0x117084(0xc48)+(_0x24997e+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x325cdf[_0x117084(0x87a)]||_0x325cdf['questionText'])+_0x117084(0xdbf)+(_0x325cdf[_0x117084(0xabc)]?'<div\x20class=\x22my-2\x22>'+_0x325cdf['imageCode']+_0x117084(0x842):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d83d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x5257f4(0x9d4);_0x41b792[_0x5257f4(0x488)][_0x5257f4(0x2d2)](_0x4e1d5f),_0x41b792[_0x5257f4(0x488)][_0x5257f4(0x546)](),_0x41b792['onload']=function(){setTimeout(()=>{const _0x33f800=_0x1173;_0x41b792[_0x33f800(0x4af)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x315d55=_0x1b93ee;if(!currentQuizData||!currentQuizData[_0x315d55(0x4e6)]){showMessage(_0x315d55(0x387));return;}const _0x359936=currentQuizData,_0x3b405d=window[_0x315d55(0x5da)]('',_0x315d55(0x8b0)),_0x2e7d90=_0x576dc2=>String['fromCharCode'](0x41+_0x576dc2),_0x2bcf83=_0x315d55(0x73d)+_0x359936[_0x315d55(0x669)]+_0x315d55(0x3e3)+_0x359936[_0x315d55(0x4e6)][_0x315d55(0x926)]((_0x215521,_0xf756ee)=>{const _0x5eb8e3=_0x315d55;let _0x228c43='';const _0x2bb22d=_0x215521[_0x5eb8e3(0x994)]||_0x359936[_0x5eb8e3(0xcd7)];switch(_0x2bb22d){case _0x5eb8e3(0x6c4):case _0x5eb8e3(0x7fc):_0x228c43=_0x5eb8e3(0xe4f)+_0x215521['options'][_0x5eb8e3(0x926)]((_0x173ff5,_0x16e596)=>_0x5eb8e3(0x211)+_0x2e7d90(_0x16e596)+'.\x20'+_0x173ff5+_0x5eb8e3(0xb46))[_0x5eb8e3(0xd7b)](_0x5eb8e3(0x4fe))+_0x5eb8e3(0xbf6);break;case _0x5eb8e3(0xa76):_0x228c43=_0x5eb8e3(0x960);break;default:_0x228c43='';break;}return _0x5eb8e3(0x230)+_0x359936[_0x5eb8e3(0x669)]+_0x5eb8e3(0xcb8)+(_0xf756ee+0x1)+_0x5eb8e3(0x476)+(_0x215521['stem']||_0x215521[_0x5eb8e3(0xd6a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x215521['imageCode']?_0x5eb8e3(0x53e)+_0x215521[_0x5eb8e3(0xabc)]+_0x5eb8e3(0x842):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x228c43+_0x5eb8e3(0xde9);})[_0x315d55(0xd7b)]('')+_0x315d55(0xb12);_0x3b405d[_0x315d55(0x488)][_0x315d55(0x2d2)](_0x2bcf83),_0x3b405d[_0x315d55(0x488)][_0x315d55(0x546)](),_0x3b405d['onload']=function(){setTimeout(()=>{const _0x4b7428=_0x1173;_0x3b405d[_0x4b7428(0x4af)]();},0x5dc);};}async function handleToggleStarQuiz(_0x294644){const _0x586247=_0x1b93ee,_0x514e4b=doc(db,_0x586247(0xe45)+appId+_0x586247(0x868),_0x294644);try{const _0x40615f=await getDoc(_0x514e4b);if(_0x40615f['exists']()){const _0x58b6a3=_0x40615f[_0x586247(0x7d4)]()[_0x586247(0x34e)]||![];await updateDoc(_0x514e4b,{'isStarred':!_0x58b6a3});}}catch(_0x1f5861){console[_0x586247(0x75e)]('Error\x20toggling\x20star\x20status:',_0x1f5861),showMessage(_0x586247(0x3bc));}}async function displayQuestionBank(){const _0x450fb9=_0x1b93ee,_0xaadf5b=document[_0x450fb9(0x693)](_0x450fb9(0x22c));_0xaadf5b['innerHTML']=_0x450fb9(0x62a);try{const _0x23a82b=collection(db,'artifacts/'+appId+_0x450fb9(0x251)+userId+_0x450fb9(0xbd7)),_0x1edf2c=query(_0x23a82b),_0x35cb6d=await getDocs(_0x1edf2c);if(_0x35cb6d[_0x450fb9(0x8c4)]){_0xaadf5b['innerHTML']=_0x450fb9(0x5b4);return;}let _0xd6bb4c=_0x35cb6d[_0x450fb9(0x34d)][_0x450fb9(0x926)](_0x3eafdf=>{const _0x450841=_0x450fb9,_0x34fe8f=_0x3eafdf[_0x450841(0x7d4)](),_0x5881e7=_0x3eafdf['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x450841(0x1f9)](_0x34fe8f)+_0x450841(0x871)+(_0x34fe8f['questionText']||_0x34fe8f[_0x450841(0x87a)])+_0x450841(0xa18)+_0x34fe8f[_0x450841(0x807)]+_0x450841(0xdd2);})[_0x450fb9(0xd7b)]('');_0xaadf5b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0xd6bb4c+_0x450fb9(0x7e9),document['getElementById']('create-from-bank-btn')[_0x450fb9(0x5e0)]('click',createQuizFromBank);}catch(_0x460772){console[_0x450fb9(0x75e)]('Error\x20displaying\x20question\x20bank:',_0x460772),_0xaadf5b[_0x450fb9(0xc8c)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x21450e=_0x1b93ee,_0x5750a0=document[_0x21450e(0x693)](_0x21450e(0x4b1)),_0x5a0398=document['getElementById']('lesson-view-title')[_0x21450e(0xc08)]||_0x21450e(0x1be);if(!_0x5750a0){showMessage(_0x21450e(0x3f5));return;}const _0x4343f9=window[_0x21450e(0x5da)]('',_0x21450e(0x8b0)),_0x58cb06=_0x21450e(0xd5a)+_0x5a0398+_0x21450e(0x40b)+_0x5a0398+_0x21450e(0x85c)+_0x5750a0[_0x21450e(0xc8c)]+_0x21450e(0xca0);_0x4343f9['document'][_0x21450e(0x2d2)](_0x58cb06),_0x4343f9[_0x21450e(0x488)][_0x21450e(0x546)](),_0x4343f9[_0x21450e(0x8f1)]=function(){setTimeout(()=>{_0x4343f9['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x3df76a,_0x12e08d,_0x547d3c){const _0x1f8ed9=_0x1b93ee,_0x26f439=_0x3df76a[_0x1f8ed9(0x994)]||currentQuizData[_0x1f8ed9(0xcd7)];let _0x43bb5c='';if(_0x26f439===_0x1f8ed9(0x6c4)||_0x26f439==='true_false'){const _0x48235b=_0x26f439===_0x1f8ed9(0xa76)?[_0x1f8ed9(0x4f8),_0x1f8ed9(0x85f)]:_0x3df76a['options'],_0x1f79ff=_0x26f439===_0x1f8ed9(0xa76)?_0x3df76a['correctAnswer']?0x0:0x1:_0x3df76a[_0x1f8ed9(0x3b0)];_0x43bb5c=_0x48235b[_0x1f8ed9(0x926)]((_0x26c813,_0x22e3fb)=>_0x1f8ed9(0x5d9)+(_0x22e3fb===_0x1f79ff)+_0x1f8ed9(0x464)+_0x26c813+_0x1f8ed9(0xca8))[_0x1f8ed9(0xd7b)]('');}else{if(_0x26f439===_0x1f8ed9(0x1bc)){const _0x24815d=_0x3df76a[_0x1f8ed9(0xd3d)]||[];_0x43bb5c=_0x24815d['map'](_0x32136a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x32136a===_0x3df76a[_0x1f8ed9(0x2e8)])+_0x1f8ed9(0x464)+_0x32136a+_0x1f8ed9(0xca8))[_0x1f8ed9(0xd7b)]('');}}const _0x47c44c=_0x3df76a['stem']||_0x3df76a[_0x1f8ed9(0xd6a)],_0x4a8383='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x12e08d+0x1)+_0x1f8ed9(0x2c5)+_0x547d3c+_0x1f8ed9(0x7f9)+currentLiveGamePin+_0x1f8ed9(0x4b5)+_0x47c44c+_0x1f8ed9(0x185)+_0x43bb5c+_0x1f8ed9(0x63a);liveGameView[_0x1f8ed9(0xc8c)]=_0x4a8383,window[_0x1f8ed9(0xad6)]&&MathJax['typesetPromise']&&MathJax[_0x1f8ed9(0x840)]([liveGameView]),document[_0x1f8ed9(0x693)](_0x1f8ed9(0x9bd))['addEventListener'](_0x1f8ed9(0x2df),()=>revealAnswerForAdmin(_0x12e08d,_0x547d3c)),document['getElementById']('end-game-btn')['addEventListener'](_0x1f8ed9(0x2df),async()=>{const _0x4e7c4d=_0x1f8ed9;showConfirmation(_0x4e7c4d(0x360),async()=>{const _0x30ac76=_0x4e7c4d,_0x1f2a16=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1f2a16,{'status':_0x30ac76(0x806)});});}),document[_0x1f8ed9(0x693)](_0x1f8ed9(0x658))[_0x1f8ed9(0x5e0)](_0x1f8ed9(0x2df),()=>{const _0x5e2133=_0x1f8ed9;document[_0x5e2133(0x693)](_0x5e2133(0x6e5))[_0x5e2133(0x43c)][_0x5e2133(0xe2c)](_0x5e2133(0xa21));});}function promptForProjectBeforeGenerating(_0x2ed766){const _0x45ab84=_0x1b93ee,_0x1b8f4e=document[_0x45ab84(0x693)](_0x45ab84(0x240)),_0x383638=document[_0x45ab84(0x693)](_0x45ab84(0x6c8)),_0x2c1ab8=_0x1b8f4e['querySelector']('h3'),_0x1b0db2=document[_0x45ab84(0x693)](_0x45ab84(0x69c)),_0x571497=document[_0x45ab84(0x693)](_0x45ab84(0xc46));_0x2c1ab8[_0x45ab84(0xc08)]=_0x45ab84(0x8cb),_0x1b0db2[_0x45ab84(0xc08)]=_0x45ab84(0x1ce),_0x1b0db2[_0x45ab84(0xe12)]=!![];allProjects[_0x45ab84(0x357)]===0x0?_0x383638[_0x45ab84(0xc8c)]=_0x45ab84(0x383):(_0x383638['innerHTML']=_0x45ab84(0x829)+allProjects[_0x45ab84(0x926)](_0x59a642=>'<option\x20value=\x22'+_0x59a642['id']+'\x22>'+_0x59a642[_0x45ab84(0x21c)]+'</option>')['join'](''),_0x1b0db2[_0x45ab84(0xe12)]=![]);_0x1b8f4e[_0x45ab84(0x43c)]['remove'](_0x45ab84(0xa21));const _0x506e98=async()=>{const _0x4f8a53=_0x45ab84,_0x273fdf=_0x383638['value'];if(!_0x273fdf){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x1b8f4e['classList'][_0x4f8a53(0x128)](_0x4f8a53(0xa21)),await loadProjectDetails(_0x273fdf),showView(_0x4f8a53(0x66a)),handleGenerateQuizFromBlueprintTopic(_0x2ed766),_0x4878e7();},_0x4878e7=()=>{const _0x4fd708=_0x45ab84;_0x2c1ab8[_0x4fd708(0xc08)]=_0x4fd708(0xa0e),_0x1b0db2[_0x4fd708(0xc08)]='ย้าย',_0x1b0db2[_0x4fd708(0x663)](_0x4fd708(0x2df),_0x506e98),_0x571497['removeEventListener'](_0x4fd708(0x2df),_0x4878e7),_0x1b0db2[_0x4fd708(0x5e0)]('click',confirmMoveQuiz);};_0x1b0db2[_0x45ab84(0x663)]('click',confirmMoveQuiz),_0x1b0db2[_0x45ab84(0x5e0)](_0x45ab84(0x2df),_0x506e98),_0x571497[_0x45ab84(0x5e0)]('click',_0x4878e7);}function showStudentLiveQuestionView(_0x1835bc,_0x2fc62b,_0x5581af){const _0x42cec3=_0x1b93ee,_0x22790a=_0x1835bc[_0x42cec3(0x994)]||currentQuizData[_0x42cec3(0xcd7)];let _0x3d286c='';if(_0x22790a===_0x42cec3(0x6c4)||_0x22790a===_0x42cec3(0xa76)){const _0x1bfb96=_0x22790a===_0x42cec3(0xa76)?[_0x42cec3(0x4f8),'ไม่ใช่']:_0x1835bc['options'];_0x3d286c=_0x1bfb96['map']((_0x511461,_0x379506)=>_0x42cec3(0x9cb)+_0x379506+_0x42cec3(0xc29)+_0x511461+_0x42cec3(0x74b))['join']('');}else{if(_0x22790a===_0x42cec3(0x1bc)){const _0x36b458=_0x1835bc[_0x42cec3(0xd3d)]||[];_0x3d286c=_0x36b458[_0x42cec3(0x926)]((_0x1f46f4,_0x570333)=>_0x42cec3(0x9cb)+_0x570333+_0x42cec3(0xc29)+_0x1f46f4+_0x42cec3(0x74b))[_0x42cec3(0xd7b)]('');}else _0x22790a===_0x42cec3(0xbc0)&&(_0x3d286c=_0x42cec3(0xa7e));}const _0x6a0e2a=_0x1835bc[_0x42cec3(0x87a)]||_0x1835bc[_0x42cec3(0xd6a)],_0x301f80=_0x42cec3(0xbcf)+(_0x2fc62b+0x1)+_0x42cec3(0x2c5)+_0x5581af+_0x42cec3(0x389)+_0x6a0e2a+_0x42cec3(0x537)+_0x3d286c+_0x42cec3(0xe38);liveGameView['innerHTML']=_0x301f80;window[_0x42cec3(0xad6)]&&MathJax[_0x42cec3(0x840)]&&MathJax['typesetPromise']([liveGameView]);const _0x559d22=document['getElementById'](_0x42cec3(0xb60));_0x559d22&&_0x559d22[_0x42cec3(0x5e0)](_0x42cec3(0x2df),()=>{const _0x52e1c3=_0x42cec3,_0x1d0428=document[_0x52e1c3(0x693)](_0x52e1c3(0x278))[_0x52e1c3(0xc5c)];handleLiveAnswer(_0x1d0428,_0x1835bc);}),document[_0x42cec3(0x693)](_0x42cec3(0x1d8))['addEventListener'](_0x42cec3(0x2df),_0x4dfe3a=>{const _0x5daee0=_0x42cec3,_0x24e7e9=_0x4dfe3a[_0x5daee0(0x588)][_0x5daee0(0xe11)](_0x5daee0(0x8d5));if(_0x24e7e9){const _0x18bd95=parseInt(_0x24e7e9[_0x5daee0(0x43d)]['index']);handleLiveAnswer(_0x18bd95,_0x1835bc);}});}function listenForBlueprintShortcuts(){const _0x3e1c64=_0x1b93ee,_0x5a7f60=doc(db,'globalSettings',_0x3e1c64(0x8b2));onSnapshot(_0x5a7f60,_0x3a09c4=>{const _0x407a46=_0x3e1c64;let _0xb71348=[],_0xb5e4d0=[],_0x1355aa={};if(_0x3a09c4[_0x407a46(0x5a9)]()){const _0x52ad6f=_0x3a09c4['data']();_0xb71348=_0x52ad6f[_0x407a46(0xfe)]||[],_0xb5e4d0=_0x52ad6f[_0x407a46(0xd04)]||[],_0x1355aa=_0x52ad6f['shortcutOrder']||{};}!_0xb5e4d0[_0x407a46(0xe69)](_0x3a218b=>_0x3a218b['id']===_0x407a46(0x10a))&&_0xb5e4d0[_0x407a46(0xb30)]({'id':_0x407a46(0x10a),'name':_0x407a46(0x2a4),'isDefault':!![]}),!_0xb71348['find'](_0x631569=>_0x631569['id']===_0x407a46(0x359))&&_0xb71348[_0x407a46(0xb30)]({'id':_0x407a46(0x359),'name':_0x407a46(0x84b),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0xb71348[_0x407a46(0xe69)](_0x4c2052=>_0x4c2052['id']===_0x407a46(0x453))&&_0xb71348[_0x407a46(0xb30)]({'id':_0x407a46(0x453),'name':_0x407a46(0x873),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0xb71348,shortcutTabs=_0xb5e4d0,shortcutOrder=_0x1355aa,renderBlueprintShortcuts(),!document[_0x407a46(0x693)](_0x407a46(0x2b2))[_0x407a46(0x43c)][_0x407a46(0x539)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x61c29a=_0x1b93ee,_0x2cadf4=document[_0x61c29a(0x693)](_0x61c29a(0x6a1)),_0x57d38c=document[_0x61c29a(0x693)](_0x61c29a(0x987));if(!_0x2cadf4||!_0x57d38c)return;_0x2cadf4[_0x61c29a(0xc8c)]=shortcutTabs['map'](_0x267469=>{const _0x5c0adf=_0x61c29a,_0x4538ff=_0x267469['id']===activeShortcutTabId,_0x3cbaf2='border-indigo-500\x20text-indigo-600',_0x5cdb01=_0x5c0adf(0x4de);return _0x5c0adf(0xa33)+_0x267469['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4538ff?_0x3cbaf2:_0x5cdb01)+_0x5c0adf(0xa5e)+_0x267469['name']+_0x5c0adf(0xaf0)+_0x267469['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x267469[_0x5c0adf(0xa19)]?_0x5c0adf(0x2bb)+_0x267469['id']+_0x5c0adf(0x28b):'')+_0x5c0adf(0xca8);})[_0x61c29a(0xd7b)]('');const _0xc199c5=shortcutTabs[_0x61c29a(0xe69)](_0x21faf0=>_0x21faf0['id']===activeShortcutTabId);let _0x18162f=[];if(_0xc199c5){if(_0xc199c5[_0x61c29a(0xa19)])_0x18162f=[...blueprintShortcuts];else{const _0x6c9c85=_0xc199c5['shortcutIds']||[];_0x18162f=blueprintShortcuts[_0x61c29a(0x107)](_0x5ce8b7=>_0x6c9c85['includes'](_0x5ce8b7['id']));}}const _0x56c029=shortcutOrder[activeShortcutTabId]||[];_0x18162f[_0x61c29a(0xa05)]((_0x406eab,_0x35fc88)=>{const _0x532c8d=_0x61c29a,_0x573946=_0x56c029[_0x532c8d(0x76e)](_0x406eab['id']),_0x29fd68=_0x56c029[_0x532c8d(0x76e)](_0x35fc88['id']);if(_0x573946===-0x1)return 0x1;if(_0x29fd68===-0x1)return-0x1;return _0x573946-_0x29fd68;}),_0x57d38c['innerHTML']=_0x18162f['length']>0x0?_0x18162f[_0x61c29a(0x926)](_0x1214fc=>{const _0x28a932=_0x61c29a;let _0x295ad4='🧩';if(_0x1214fc['blueprintUrl']&&_0x1214fc[_0x28a932(0x5b5)])_0x295ad4='📗';else{if(_0x1214fc[_0x28a932(0x27d)])_0x295ad4='📘';}const _0x7493ca=shortcutTabs[_0x28a932(0x107)](_0x2e65af=>!_0x2e65af[_0x28a932(0xa19)]),_0x244425=_0xc199c5[_0x28a932(0xa19)]&&_0x7493ca[_0x28a932(0x357)]>0x0?_0x28a932(0x18c)+_0x7493ca[_0x28a932(0x926)](_0x397ec4=>_0x28a932(0x728)+_0x1214fc['id']+_0x28a932(0x4e5)+_0x397ec4['id']+'\x22>'+_0x397ec4[_0x28a932(0x41d)]+_0x28a932(0xc7a))[_0x28a932(0xd7b)]('')+_0x28a932(0x947):'';return _0x28a932(0xb33)+_0x1214fc['id']+_0x28a932(0x549)+_0x295ad4+'\x20'+_0x1214fc[_0x28a932(0x41d)]+_0x28a932(0xa41)+_0x1214fc['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1214fc['id']+_0x28a932(0x1c0)+(!_0x1214fc[_0x28a932(0xa19)]?_0x28a932(0x570)+_0x1214fc['id']+_0x28a932(0xb83):'')+_0x28a932(0x364)+(!_0xc199c5['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x1214fc['id']+_0x28a932(0xa58):'')+_0x28a932(0x364)+_0x244425+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x61c29a(0xd7b)](''):_0x61c29a(0x920),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x51b63a=_0x1b93ee;document[_0x51b63a(0xe56)](_0x51b63a(0xb72))['forEach'](_0x4faa4f=>{const _0xcb2077=_0x51b63a;_0x4faa4f[_0xcb2077(0x5e0)](_0xcb2077(0x2df),_0x3bbdd5=>{const _0xdd391f=_0xcb2077;activeShortcutTabId=_0x3bbdd5[_0xdd391f(0x5be)][_0xdd391f(0x43d)][_0xdd391f(0x93c)],renderAdditionalShortcutsModal();}),_0x4faa4f[_0xcb2077(0x5e0)](_0xcb2077(0x556),_0x3a36e4=>{const _0x45bffc=_0xcb2077,_0x30d4d4=_0x3a36e4[_0x45bffc(0x5be)];_0x30d4d4[_0x45bffc(0xbc1)](_0x45bffc(0xc26))[_0x45bffc(0x43c)][_0x45bffc(0x128)](_0x45bffc(0xa21));const _0x19608c=_0x30d4d4[_0x45bffc(0xbc1)]('.tab-name-input');_0x19608c[_0x45bffc(0x43c)][_0x45bffc(0x200)](_0x45bffc(0xa21)),_0x19608c['focus'](),_0x19608c['select']();});}),document['querySelectorAll'](_0x51b63a(0xb91))[_0x51b63a(0x242)](_0x2f1229=>{const _0x3422f9=_0x51b63a,_0xe42bc9=()=>{const _0xa8a5c8=_0x1173,_0x2fe63f=_0x2f1229[_0xa8a5c8(0xe11)](_0xa8a5c8(0xb72))[_0xa8a5c8(0x43d)]['tabId'];handleRenameShortcutTab(_0x2fe63f,_0x2f1229[_0xa8a5c8(0xc5c)]);};_0x2f1229[_0x3422f9(0x5e0)](_0x3422f9(0x2ef),_0xe42bc9),_0x2f1229[_0x3422f9(0x5e0)](_0x3422f9(0xc35),_0x3124b0=>{const _0x1aae33=_0x3422f9;if(_0x3124b0['key']===_0x1aae33(0x4dc))_0x2f1229[_0x1aae33(0x2ef)]();});}),document[_0x51b63a(0xe56)](_0x51b63a(0x38c))[_0x51b63a(0x242)](_0x124b3f=>{const _0x318a30=_0x51b63a;_0x124b3f[_0x318a30(0x5e0)](_0x318a30(0x2df),_0x38b276=>handleDeleteShortcutTab(_0x38b276[_0x318a30(0x5be)]['dataset'][_0x318a30(0x93c)]));}),document[_0x51b63a(0xe56)](_0x51b63a(0x157))[_0x51b63a(0x242)](_0x353212=>{const _0x5a5afb=_0x51b63a;_0x353212[_0x5a5afb(0x5e0)](_0x5a5afb(0x2df),_0x4ef8c2=>{const _0xe1c33f=_0x5a5afb;_0x4ef8c2[_0xe1c33f(0x32c)]();const {shortcutId:_0x32bf5b,targetTabId:_0x44b52f}=_0x4ef8c2['currentTarget']['dataset'];handleMoveShortcutToTab(_0x32bf5b,_0x44b52f);});}),document[_0x51b63a(0xe56)]('.remove-shortcut-from-tab-btn')[_0x51b63a(0x242)](_0x5a0f05=>{const _0x4e76be=_0x51b63a;_0x5a0f05[_0x4e76be(0x5e0)](_0x4e76be(0x2df),_0x4564e7=>{const _0x1a76be=_0x4e76be;handleRemoveShortcutFromTab(_0x4564e7[_0x1a76be(0x5be)][_0x1a76be(0x43d)]['shortcutId'],activeShortcutTabId);});});const _0x5c3c3a=document[_0x51b63a(0x693)](_0x51b63a(0x987));_0x5c3c3a['querySelectorAll']('.use-hidden-shortcut-btn')[_0x51b63a(0x242)](_0x3322ca=>{const _0x1da0af=_0x51b63a;_0x3322ca[_0x1da0af(0x5e0)](_0x1da0af(0x2df),()=>{const _0x2960de=_0x1da0af;document[_0x2960de(0x693)](_0x2960de(0x2b2))[_0x2960de(0x43c)][_0x2960de(0x128)](_0x2960de(0xa21)),handleShortcutClick(_0x3322ca['dataset']['id']);});});let _0xe121c0=null;_0x5c3c3a[_0x51b63a(0x5e0)]('dragstart',_0x4c6e2b=>{const _0x22eee0=_0x51b63a;_0xe121c0=_0x4c6e2b[_0x22eee0(0x588)][_0x22eee0(0xe11)](_0x22eee0(0xcb1)),_0xe121c0&&setTimeout(()=>_0xe121c0[_0x22eee0(0x43c)][_0x22eee0(0x128)](_0x22eee0(0x677)),0x0);}),_0x5c3c3a[_0x51b63a(0x5e0)]('dragend',()=>{const _0x2de240=_0x51b63a;_0xe121c0&&(_0xe121c0[_0x2de240(0x43c)][_0x2de240(0x200)]('opacity-50'),_0xe121c0=null);}),_0x5c3c3a[_0x51b63a(0x5e0)](_0x51b63a(0x9e0),_0x1e9d16=>{const _0x8cf045=_0x51b63a;_0x1e9d16[_0x8cf045(0x32c)]();const _0x56ca42=[..._0x5c3c3a[_0x8cf045(0xe56)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x42c256,_0x4e7373)=>{const _0x53cc99=_0x8cf045,_0x30fc76=_0x4e7373[_0x53cc99(0x978)](),_0x345676=_0x1e9d16[_0x53cc99(0x566)]-_0x30fc76[_0x53cc99(0x7f8)]-_0x30fc76[_0x53cc99(0x69f)]/0x2;return _0x345676<0x0&&_0x345676>_0x42c256['offset']?{'offset':_0x345676,'element':_0x4e7373}:_0x42c256;},{'offset':Number[_0x8cf045(0x816)]})[_0x8cf045(0xade)];_0x56ca42==null?_0x5c3c3a['appendChild'](_0xe121c0):_0x5c3c3a['insertBefore'](_0xe121c0,_0x56ca42);}),_0x5c3c3a['addEventListener'](_0x51b63a(0xaa4),_0x370da1=>{const _0x408f78=_0x51b63a;_0x370da1[_0x408f78(0x32c)]();if(_0xe121c0){const _0x355845=[..._0x5c3c3a['querySelectorAll'](_0x408f78(0xcb1))][_0x408f78(0x926)](_0x1f87e6=>_0x1f87e6['dataset'][_0x408f78(0xbb1)]);handleShortcutOrderChange(activeShortcutTabId,_0x355845);}}),document['querySelectorAll'](_0x51b63a(0x8a1))['forEach'](_0x3033ef=>{const _0x5a267a=_0x51b63a;_0x3033ef[_0x5a267a(0x5e0)](_0x5a267a(0x2df),_0x3f34ac=>{const _0x14446d=_0x5a267a;_0x3f34ac['stopPropagation']();const _0x3a6360=_0x3f34ac[_0x14446d(0x5be)]['nextElementSibling'],_0x4e1a0f=_0x3a6360[_0x14446d(0x43c)][_0x14446d(0x539)](_0x14446d(0xa21));document[_0x14446d(0xe56)](_0x14446d(0xaa6))[_0x14446d(0x242)](_0x5cd058=>_0x5cd058['classList']['add'](_0x14446d(0xa21))),_0x4e1a0f&&_0x3a6360[_0x14446d(0x43c)][_0x14446d(0x200)]('hidden');});});}document[_0x1b93ee(0x5e0)](_0x1b93ee(0x2df),_0x198a86=>{const _0x1c2aef=_0x1b93ee;!_0x198a86[_0x1c2aef(0x588)]['closest'](_0x1c2aef(0xcc7))&&document[_0x1c2aef(0xe56)](_0x1c2aef(0xaa6))[_0x1c2aef(0x242)](_0x4740de=>_0x4740de[_0x1c2aef(0x43c)][_0x1c2aef(0x128)]('hidden'));});async function saveShortcutConfig(){const _0xf8723=_0x1b93ee,_0x3cca9f=doc(db,_0xf8723(0xe34),'dashboardConfig');try{await setDoc(_0x3cca9f,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x352cc4){console[_0xf8723(0x75e)](_0xf8723(0x770),_0x352cc4);}}async function handleAddShortcutTab(){const _0x41009d=_0x1b93ee,_0x1c7737=prompt(_0x41009d(0x7ac),_0x41009d(0xb47));if(!_0x1c7737||_0x1c7737[_0x41009d(0xb6d)]()==='')return;shortcutTabs[_0x41009d(0xce5)]({'id':_0x41009d(0x707)+Date['now'](),'name':_0x1c7737['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3e1934,_0x1aa5df){const _0x416db9=_0x1b93ee,_0x36b29e=shortcutTabs[_0x416db9(0xe69)](_0x51b053=>_0x51b053['id']===_0x3e1934);_0x36b29e&&_0x1aa5df[_0x416db9(0xb6d)]()!==''&&(_0x36b29e[_0x416db9(0x41d)]=_0x1aa5df['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x342b7f){const _0x440e17=_0x1b93ee,_0x34f5df=shortcutTabs[_0x440e17(0xe69)](_0x34a382=>_0x34a382['id']===_0x342b7f);_0x34f5df&&!_0x34f5df[_0x440e17(0xa19)]&&showConfirmation(_0x440e17(0x9a4)+_0x34f5df[_0x440e17(0x41d)]+_0x440e17(0x427),async()=>{const _0x54d4f2=_0x440e17;shortcutTabs=shortcutTabs[_0x54d4f2(0x107)](_0x4fe576=>_0x4fe576['id']!==_0x342b7f),delete shortcutOrder[_0x342b7f];if(activeShortcutTabId===_0x342b7f)activeShortcutTabId=_0x54d4f2(0x10a);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x409b86,_0x25566d){const _0x38138d=_0x1b93ee,_0x1663c9=shortcutTabs[_0x38138d(0xe69)](_0x2b33b2=>_0x2b33b2['id']===_0x25566d);_0x1663c9&&!_0x1663c9[_0x38138d(0x3d2)][_0x38138d(0x8bb)](_0x409b86)&&(_0x1663c9['shortcutIds'][_0x38138d(0xce5)](_0x409b86),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4e7f4b,_0x363b74){const _0x1b1408=_0x1b93ee,_0x12b173=shortcutTabs[_0x1b1408(0xe69)](_0x5dbb24=>_0x5dbb24['id']===_0x363b74);_0x12b173&&!_0x12b173[_0x1b1408(0xa19)]&&(_0x12b173[_0x1b1408(0x3d2)]=_0x12b173[_0x1b1408(0x3d2)]['filter'](_0x3c7cab=>_0x3c7cab!==_0x4e7f4b),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x569ae1,_0x387eb6){shortcutOrder[_0x569ae1]=_0x387eb6,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x12cbd1=_0x1b93ee,_0x121efc=document[_0x12cbd1(0x693)](_0x12cbd1(0x543)),_0x35ca45=document[_0x12cbd1(0x693)](_0x12cbd1(0x987)),_0xcde82c=document['getElementById'](_0x12cbd1(0x68a));_0xcde82c&&_0xcde82c[_0x12cbd1(0x43c)][_0x12cbd1(0x128)](_0x12cbd1(0xa21));if(!_0x121efc||!_0x35ca45)return;const _0x4671e0=blueprintShortcuts[_0x12cbd1(0xaa2)](0x0,0x4),_0x104dab=blueprintShortcuts[_0x12cbd1(0xaa2)](0x4);_0x121efc['innerHTML']=_0x4671e0['map'](_0xcb346d=>{const _0x151773=_0x12cbd1;let _0x1d77e3=_0x151773(0x468),_0x836a7f='🧩';if(_0xcb346d['blueprintUrl']&&_0xcb346d[_0x151773(0x5b5)])_0x1d77e3=_0x151773(0x8f2),_0x836a7f='📗';else _0xcb346d[_0x151773(0x27d)]&&(_0x1d77e3='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x836a7f='📘');const _0x2964f9=!_0xcb346d['isDefault']?_0x151773(0x570)+_0xcb346d['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x151773(0x9a0)+_0xcb346d['id']+_0x151773(0x1b9)+_0x1d77e3+_0x151773(0x30a)+_0x836a7f+'\x20'+_0xcb346d[_0x151773(0x41d)]+_0x151773(0x8f3)+_0xcb346d['id']+_0x151773(0x8b7)+_0x2964f9+_0x151773(0xca8);})['join'](''),_0x104dab[_0x12cbd1(0x357)]>0x0&&(_0x121efc[_0x12cbd1(0xc8c)]+=_0x12cbd1(0x4f0)),_0x104dab[_0x12cbd1(0x357)]>0x0?_0x35ca45[_0x12cbd1(0xc8c)]=_0x104dab['map'](_0xa26a88=>{const _0x114dd2=_0x12cbd1;let _0x175638='🧩';if(_0xa26a88[_0x114dd2(0x27d)]&&_0xa26a88['referenceUrl'])_0x175638='📗';else _0xa26a88[_0x114dd2(0x27d)]&&(_0x175638='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x175638+'\x20'+_0xa26a88[_0x114dd2(0x41d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa26a88['id']+_0x114dd2(0x645)+_0xa26a88['id']+_0x114dd2(0x1c0)+(!_0xa26a88[_0x114dd2(0xa19)]?'<button\x20data-id=\x22'+_0xa26a88['id']+_0x114dd2(0xb83):'')+_0x114dd2(0xc5b);})[_0x12cbd1(0xd7b)](''):_0x35ca45[_0x12cbd1(0xc8c)]=_0x12cbd1(0x79d);}function getMimeTypeFromFilename(_0x34e489){const _0x442ea3=_0x1b93ee,_0x736d24=_0x34e489['split']('.')[_0x442ea3(0x138)]()[_0x442ea3(0x95a)]();switch(_0x736d24){case'pdf':return _0x442ea3(0xd0a);case _0x442ea3(0x38e):return'text/plain';default:return _0x442ea3(0xd0a);}}function openShortcutEditor(_0x582433=null){const _0x290eff=_0x1b93ee,_0x58946d=document[_0x290eff(0x693)](_0x290eff(0x6d7)),_0x52ff7a=document[_0x290eff(0x693)](_0x290eff(0x9ba)),_0x11b1ed=document[_0x290eff(0x693)](_0x290eff(0x557)),_0x1e295c=document[_0x290eff(0x693)](_0x290eff(0xf2)),_0x1eef7b=document[_0x290eff(0x693)](_0x290eff(0xaa1)),_0x19fd65=document[_0x290eff(0x693)](_0x290eff(0x1ad));if(_0x582433){const _0x4c1295=blueprintShortcuts[_0x290eff(0xe69)](_0x57e275=>_0x57e275['id']===_0x582433);if(!_0x4c1295)return;_0x52ff7a['textContent']=_0x290eff(0x1e2),_0x11b1ed[_0x290eff(0xc5c)]=_0x4c1295['id'],_0x1e295c[_0x290eff(0xc5c)]=_0x4c1295[_0x290eff(0x41d)],_0x1eef7b[_0x290eff(0xc5c)]=_0x4c1295[_0x290eff(0x27d)]||'',_0x19fd65[_0x290eff(0xc5c)]=_0x4c1295[_0x290eff(0x5b5)]||'';}else _0x52ff7a[_0x290eff(0xc08)]='เพิ่มปุ่มลัดใหม่',_0x11b1ed[_0x290eff(0xc5c)]='',_0x1e295c[_0x290eff(0xc5c)]='',_0x1eef7b['value']='',_0x19fd65[_0x290eff(0xc5c)]='';_0x58946d['classList'][_0x290eff(0x200)](_0x290eff(0xa21));}async function saveShortcutChanges(){const _0x52f85c=_0x1b93ee,_0x111662=document[_0x52f85c(0x693)](_0x52f85c(0x557))[_0x52f85c(0xc5c)],_0x23c8bc=document[_0x52f85c(0x693)](_0x52f85c(0xf2))[_0x52f85c(0xc5c)]['trim'](),_0x3d57fa=document[_0x52f85c(0x693)](_0x52f85c(0xaa1))[_0x52f85c(0xc5c)][_0x52f85c(0xb6d)]();if(!_0x23c8bc||!_0x3d57fa){showMessage(_0x52f85c(0x5bf));return;}const _0xb9e919={'id':_0x111662||_0x52f85c(0x656)+Date['now'](),'name':_0x23c8bc,'blueprintUrl':_0x3d57fa,'referenceUrl':document['getElementById'](_0x52f85c(0x1ad))[_0x52f85c(0xc5c)]['trim'](),'isDefault':_0x111662['startsWith']('default-')};let _0x1f1fda;_0x111662?_0x1f1fda=blueprintShortcuts['map'](_0x295ec9=>_0x295ec9['id']===_0x111662?_0xb9e919:_0x295ec9):_0x1f1fda=[...blueprintShortcuts,_0xb9e919];try{const _0x245f96=doc(db,_0x52f85c(0xe34),'dashboardConfig');await setDoc(_0x245f96,{'blueprintShortcuts':_0x1f1fda},{'merge':!![]}),document[_0x52f85c(0x693)](_0x52f85c(0x6d7))[_0x52f85c(0x43c)][_0x52f85c(0x128)]('hidden');}catch(_0x20132a){console[_0x52f85c(0x75e)](_0x52f85c(0x76f),_0x20132a),showMessage(_0x52f85c(0xa04));}}async function handleShortcutClick(_0x4e6d54){const _0x246845=_0x1b93ee,_0x480a36=blueprintShortcuts[_0x246845(0xe69)](_0x233223=>_0x233223['id']===_0x4e6d54);if(!_0x480a36||!_0x480a36[_0x246845(0x27d)])return;document[_0x246845(0x693)](_0x246845(0x715))['classList'][_0x246845(0x128)](_0x246845(0xa21)),document[_0x246845(0x693)](_0x246845(0x579))[_0x246845(0xe12)]=!![];const _0x4d890f=document[_0x246845(0x693)](_0x246845(0x28c)),_0x4bed3f=document[_0x246845(0x693)](_0x246845(0x1a8));document[_0x246845(0x693)]('quiz-generation-area')[_0x246845(0x43c)]['remove'](_0x246845(0xa21)),document[_0x246845(0x693)](_0x246845(0x724))[_0x246845(0xc8c)]='',_0x4d890f[_0x246845(0x43c)][_0x246845(0x200)](_0x246845(0xa21));try{_0x4bed3f[_0x246845(0xc08)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x5f23a6=await fetchFileFromUrl(_0x480a36[_0x246845(0x27d)],_0x246845(0x738));let _0x4766a4=null;if(_0x480a36['referenceUrl']){_0x4bed3f['textContent']=_0x246845(0x155);const _0x16e519=_0x480a36['referenceUrl']['toLowerCase']()[_0x246845(0x781)](_0x246845(0xc27))?_0x246845(0xa55):_0x246845(0x2f4);_0x4766a4=await fetchFileFromUrl(_0x480a36[_0x246845(0x5b5)],_0x16e519);}await handleGenerateFromBlueprintWithFiles(_0x5f23a6,_0x4766a4);}catch(_0x3d5761){console['error']('Error\x20processing\x20shortcut\x20click:',_0x3d5761),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3d5761[_0x246845(0x340)]),_0x4d890f[_0x246845(0x43c)][_0x246845(0x128)](_0x246845(0xa21));}}function getDirectDownloadUrl(_0x3199fc){const _0x4e38bb=_0x1b93ee,_0x2d0281=_0x3199fc[_0x4e38bb(0x723)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x2d0281&&_0x2d0281[0x1])return'https://drive.google.com/uc?export=download&id='+_0x2d0281[0x1];return _0x3199fc;}async function fetchFileFromUrl(_0x1dfe3e,_0x1383b2){const _0x100bca=_0x1b93ee,_0x346713=getDirectDownloadUrl(_0x1dfe3e),_0x185aa9=_0x100bca(0x39d)+encodeURIComponent(_0x346713),_0x5a33ba=await fetch(_0x185aa9);if(!_0x5a33ba['ok'])throw new Error(_0x100bca(0x82e)+_0x5a33ba[_0x100bca(0x7f7)]+')');const _0x8fec7c=await _0x5a33ba[_0x100bca(0x7f3)](),_0x5b3c24=await new Promise((_0x5098d3,_0x150cca)=>{const _0x5d4136=_0x100bca,_0x44bddf=new FileReader();_0x44bddf[_0x5d4136(0x293)]=()=>_0x5098d3(new Uint8Array(_0x44bddf[_0x5d4136(0xe0a)])),_0x44bddf[_0x5d4136(0xd49)]=_0x150cca,_0x44bddf[_0x5d4136(0xb10)](_0x8fec7c[_0x5d4136(0xaa2)](0x0,0x4));});let _0x4d5d61='';const _0x49bdc4=new TextDecoder()['decode'](_0x5b3c24);return _0x49bdc4===_0x100bca(0xc03)?(_0x4d5d61=_0x100bca(0xd0a),console[_0x100bca(0xb20)](_0x100bca(0x29b))):(_0x4d5d61=_0x100bca(0x608),console['log'](_0x100bca(0x31c))),new File([_0x8fec7c],_0x1383b2,{'type':_0x4d5d61});}async function handleGenerateFromBlueprintWithFiles(_0x5c01af,_0x289d14=null){const _0x1359e1=_0x1b93ee;if(!_0x5c01af){showMessage(_0x1359e1(0xb81));return;}const _0x58a120=document[_0x1359e1(0x693)]('loader'),_0x29dc2f=document[_0x1359e1(0x693)](_0x1359e1(0x1a8));_0x58a120[_0x1359e1(0x43c)]['remove'](_0x1359e1(0xa21)),document[_0x1359e1(0x693)](_0x1359e1(0x38d))[_0x1359e1(0x43c)][_0x1359e1(0x200)](_0x1359e1(0xa21)),document[_0x1359e1(0x693)](_0x1359e1(0x724))['innerHTML']='';try{_0x29dc2f[_0x1359e1(0xc08)]=_0x1359e1(0x49c);const _0x3f1d0b=await new Promise((_0x18b746,_0x328502)=>{const _0x41356c=_0x1359e1,_0x1c87a6=new FileReader();_0x1c87a6[_0x41356c(0x49d)](_0x5c01af),_0x1c87a6['onload']=()=>_0x18b746(_0x1c87a6[_0x41356c(0xe0a)][_0x41356c(0x239)](',')[0x1]),_0x1c87a6[_0x41356c(0xd49)]=_0x328502;}),_0x2ad199=[];if(_0x289d14){_0x29dc2f[_0x1359e1(0xc08)]=_0x1359e1(0x48b);const _0xb3224=await _0x289d14['text']();_0x2ad199[_0x1359e1(0xce5)]({'text':_0x1359e1(0xb1f)+_0xb3224});}const _0x579704=[{'text':_0x1359e1(0x3bb)},{'inlineData':{'mimeType':_0x5c01af[_0x1359e1(0xb75)],'data':_0x3f1d0b}},..._0x2ad199];await handleGenerateFromBlueprint(_0x579704);}catch(_0x462e33){console[_0x1359e1(0x75e)]('Error\x20in\x20generating\x20from\x20files:',_0x462e33),showMessage(_0x1359e1(0x48f)+_0x462e33[_0x1359e1(0x340)]),_0x58a120[_0x1359e1(0x43c)]['add'](_0x1359e1(0xa21));}}async function handleLiveAnswer(_0x21ace7,_0x3f915a){const _0x5ad8f2=_0x1b93ee;document[_0x5ad8f2(0xe56)](_0x5ad8f2(0xdce))[_0x5ad8f2(0x242)](_0x10d5e3=>_0x10d5e3['disabled']=!![]);const _0x3f4bd9=_0x3f915a[_0x5ad8f2(0x994)]||currentQuizData[_0x5ad8f2(0xcd7)];let _0x4db33a=![],_0x25545f=_0x21ace7;if(_0x3f4bd9===_0x5ad8f2(0xbc0)){const _0x1b5b9b=(_0x21ace7||'')['toString']();_0x4db33a=await gradeShortAnswer(_0x1b5b9b,_0x3f915a);}else{if(_0x3f4bd9===_0x5ad8f2(0x6c4))_0x4db33a=_0x21ace7===_0x3f915a[_0x5ad8f2(0x3b0)];else{if(_0x3f4bd9===_0x5ad8f2(0xa76)){const _0x4b7f83=_0x3f915a[_0x5ad8f2(0xbde)];_0x4db33a=_0x21ace7===0x0&&_0x4b7f83||_0x21ace7===0x1&&!_0x4b7f83;}else{if(_0x3f4bd9===_0x5ad8f2(0x1bc)){const _0x449740=_0x3f915a['allResponses'][_0x21ace7];_0x4db33a=_0x449740===_0x3f915a['correctResponse'],_0x25545f=_0x449740;}}}}const _0x48b2c6=doc(db,_0x5ad8f2(0xe45)+appId+_0x5ad8f2(0x504),currentLiveGameId),_0xc2f3b0={};_0xc2f3b0['players.'+currentStudentName+_0x5ad8f2(0x22d)]=!![],_0xc2f3b0[_0x5ad8f2(0xcb2)+currentStudentName+'.lastAnswerCorrect']=_0x4db33a,_0xc2f3b0['players.'+currentStudentName+_0x5ad8f2(0x1a6)]=_0x3f4bd9==='short_answer'||_0x3f4bd9===_0x5ad8f2(0x1bc)?null:_0x21ace7,_0xc2f3b0[_0x5ad8f2(0xcb2)+currentStudentName+_0x5ad8f2(0x9e7)]=_0x25545f,_0xc2f3b0[_0x5ad8f2(0xcb2)+currentStudentName+'.submittedAt']=serverTimestamp(),_0xc2f3b0['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x48b2c6,_0xc2f3b0),liveGameView['innerHTML']=_0x5ad8f2(0x84f);}function showAdminSummaryView(_0x3d0403,_0x21389d){const _0x1a25d3=_0x1b93ee,_0xcb78f9=Object[_0x1a25d3(0x8d9)](_0x3d0403[_0x1a25d3(0x18f)]||{}),_0x39d695=_0x21389d['questionType']||currentQuizData['quizType'],_0x5f0798=_0x39d695==='true_false'?[_0x1a25d3(0x4f8),_0x1a25d3(0x85f)]:_0x21389d['options']||_0x21389d[_0x1a25d3(0xd3d)]||[],_0x532e2a={},_0x321c35=new Array(_0x5f0798['length'])[_0x1a25d3(0xd14)](0x0);_0x5f0798[_0x1a25d3(0x242)]((_0x328a56,_0x3d4a6b)=>{_0x532e2a[_0x3d4a6b]=[];}),Object['entries'](_0x3d0403['players']||{})[_0x1a25d3(0x242)](([_0x431a9d,_0x169b7c])=>{const _0x3d1874=_0x1a25d3;if(_0x169b7c[_0x3d1874(0x7f7)]===_0x3d1874(0x69a)&&_0x169b7c[_0x3d1874(0x132)]!==undefined){const _0x440d8c=_0x169b7c[_0x3d1874(0x132)];_0x532e2a[_0x440d8c]&&(_0x532e2a[_0x440d8c]['push'](_0x431a9d),_0x321c35[_0x440d8c]++);}});const _0x2ce445=Math['max'](..._0x321c35,0x1),_0x2c8f4b=_0x1a25d3(0x966)+(_0x21389d[_0x1a25d3(0x87a)]||_0x21389d['questionText'])+_0x1a25d3(0x1cc)+_0x321c35[_0x1a25d3(0x926)]((_0x313465,_0x50b158)=>{const _0x37acdd=_0x1a25d3,_0x477847=_0x532e2a[_0x50b158][_0x37acdd(0x357)]>0x0?_0x532e2a[_0x50b158]['join'](',\x20'):_0x37acdd(0xc31);let _0x34861f=![];if(_0x39d695===_0x37acdd(0x6c4))_0x34861f=_0x50b158===_0x21389d['correctAnswerIndex'];else{if(_0x39d695===_0x37acdd(0xa76)){const _0xc55e9c=_0x21389d['correctAnswer'];_0x34861f=_0xc55e9c&&_0x50b158===0x0||!_0xc55e9c&&_0x50b158===0x1;}else _0x39d695===_0x37acdd(0x1bc)&&(_0x34861f=_0x5f0798[_0x50b158]===_0x21389d[_0x37acdd(0x2e8)]);}const _0x599e93=_0x34861f?'#26890c':_0x37acdd(0x7d3);return _0x37acdd(0x66d)+_0x313465+_0x37acdd(0x443)+_0x599e93+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x50b158+_0x37acdd(0x9ef)+_0x5f0798[_0x50b158]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x50b158+_0x37acdd(0xc83)+_0x477847+_0x37acdd(0x4fb);})[_0x1a25d3(0xd7b)]('')+_0x1a25d3(0x819);liveGameView[_0x1a25d3(0xc8c)]=_0x2c8f4b;if(window[_0x1a25d3(0xad6)])MathJax[_0x1a25d3(0x840)]();document[_0x1a25d3(0x693)]('show-leaderboard-btn')['addEventListener'](_0x1a25d3(0x2df),async()=>{const _0x12c99f=_0x1a25d3,_0x1ec3bf=doc(db,_0x12c99f(0xe45)+appId+_0x12c99f(0x504),currentLiveGameId);await updateDoc(_0x1ec3bf,{'questionStatus':_0x12c99f(0xb96)});}),document['getElementById'](_0x1a25d3(0xe58))['addEventListener'](_0x1a25d3(0x2df),()=>{openScratchpad(_0x21389d,_0x5f0798);});}function showPlayerSummaryView(_0x3d414f,_0x22a301){const _0xae7df9=_0x1b93ee,_0x5393e2=Object[_0xae7df9(0x8d9)](_0x3d414f['players']||{}),_0x5e7c01=_0x3d414f[_0xae7df9(0x18f)][_0x22a301],_0x1d4e0d=_0x5393e2[_0xae7df9(0x107)](_0x1fb3a1=>_0x1fb3a1[_0xae7df9(0x7f7)]===_0xae7df9(0x69a))[_0xae7df9(0xa05)]((_0x5b319e,_0x472799)=>_0x472799[_0xae7df9(0xe35)]-_0x5b319e['score']),_0x414a3e=_0x1d4e0d['findIndex'](_0x44843c=>_0x44843c===_0x5e7c01)+0x1,_0xb93181=_0x5e7c01[_0xae7df9(0x7e4)]?_0xae7df9(0x616):_0xae7df9(0x141),_0x2208d4=_0x5e7c01['lastAnswerCorrect']?_0xae7df9(0x1e1):_0xae7df9(0x67d),_0x489e10=_0x5e7c01[_0xae7df9(0x94e)]||0x0,_0x30686e='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0xa74515=_0xae7df9(0x94a)+_0x30686e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x2208d4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0xb93181+_0xae7df9(0xe75)+_0x489e10+_0xae7df9(0xa84)+(_0x414a3e>0x0?_0x414a3e:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0xae7df9(0xc8c)]=_0xa74515;}function createQuizFromBank(){const _0x2e60cd=_0x1b93ee,_0x3d5e5f=document['querySelectorAll'](_0x2e60cd(0xc0b));if(_0x3d5e5f[_0x2e60cd(0x357)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1a5ea9=[];_0x3d5e5f['forEach'](_0x432f7c=>{const _0x4e8349=_0x2e60cd;_0x1a5ea9[_0x4e8349(0xce5)](JSON[_0x4e8349(0xd84)](_0x432f7c[_0x4e8349(0xc5c)]));});const _0x586ecb={'topic':_0x2e60cd(0x3c8),'questions':_0x1a5ea9};displayGeneratedQuiz(_0x586ecb);}function showAdminLobbyView(_0x22b935,_0xd00ba1){const _0x40dae0=_0x1b93ee;showView(_0x40dae0(0xc45));const _0x4da662=_0x40dae0(0x296)+_0xd00ba1+_0x40dae0(0x9c8)+_0x22b935+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x40dae0(0xc8c)]=_0x4da662,document[_0x40dae0(0x693)](_0x40dae0(0x651))[_0x40dae0(0x5e0)]('click',async()=>{const _0x212262=_0x40dae0;if(!currentQuizData||!currentQuizData[_0x212262(0x4e6)]||currentQuizData['questions'][_0x212262(0x357)]===0x0){showMessage(_0x212262(0xb6f));return;}try{const _0x4c7063=doc(db,_0x212262(0xe45)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4c7063,{'status':_0x212262(0x776),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x46f97b=currentQuizData['questions'][0x0],_0x480674=currentQuizData[_0x212262(0x4e6)][_0x212262(0x357)];showAdminLiveQuestionView(_0x46f97b,0x0,_0x480674);}catch(_0x154e89){console[_0x212262(0x75e)](_0x212262(0x571),_0x154e89),showMessage(_0x212262(0xb5b));}});}async function openQuizBankModal(){const _0x229b49=_0x1b93ee;if(allQuizzesGlobal[_0x229b49(0x357)]===0x0){const _0x4bf72b=await getDocs(collection(db,_0x229b49(0xe45)+appId+_0x229b49(0x868)));allQuizzesGlobal=_0x4bf72b['docs']['map'](_0x46e206=>({'id':_0x46e206['id'],..._0x46e206[_0x229b49(0x7d4)]()}));}renderQuizBankList(''),document[_0x229b49(0x693)](_0x229b49(0x27b))[_0x229b49(0x43c)]['remove'](_0x229b49(0xa21));}function renderQuizBankList(_0x1b36df='',_0x513b08=![]){const _0x124414=_0x1b93ee,_0xbc3dbb=document[_0x124414(0x693)](_0x124414(0x461)),_0x1694a3=_0x1b36df[_0x124414(0x95a)]()[_0x124414(0xb6d)](),_0x521da2=allQuizzesGlobal[_0x124414(0x926)](_0x4297d6=>({..._0x4297d6,'projectName':allProjects[_0x124414(0xe69)](_0x3f191c=>_0x3f191c['id']===_0x4297d6[_0x124414(0x3a0)])?.[_0x124414(0x21c)]||_0x124414(0xe7d)}))[_0x124414(0x107)](_0x8f8294=>(_0x8f8294[_0x124414(0x669)]||'')[_0x124414(0x95a)]()[_0x124414(0x8bb)](_0x1694a3)||(_0x8f8294['projectName']||'')['toLowerCase']()[_0x124414(0x8bb)](_0x1694a3)||_0x8f8294['id'][_0x124414(0x95f)]()[_0x124414(0x8bb)](_0x1694a3));document[_0x124414(0x693)](_0x124414(0xa9d))[_0x124414(0xc08)]='('+_0x521da2['length']+_0x124414(0x229),_0xbc3dbb[_0x124414(0xc8c)]=_0x521da2[_0x124414(0x357)]?_0x521da2[_0x124414(0x926)](_0x4a00f0=>{const _0x159f6e=_0x124414,_0x59aaeb=!_0x513b08?_0x159f6e(0x421)+_0x4a00f0['id']+_0x159f6e(0x494)+_0x4a00f0['id']+_0x159f6e(0xbc7)+_0x4a00f0['id']+_0x159f6e(0xca9)+_0x4a00f0['id']+_0x159f6e(0xba5)+_0x4a00f0['id']+_0x159f6e(0x69b)+_0x4a00f0['id']+_0x159f6e(0x998)+_0x4a00f0[_0x159f6e(0x669)]+_0x159f6e(0x14a):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4a00f0['id']+_0x159f6e(0x355)+(_0x4a00f0[_0x159f6e(0x669)]||'(ไม่มีชื่อ)')+_0x159f6e(0x209)+(_0x4a00f0[_0x159f6e(0x4e6)]?.[_0x159f6e(0x357)]||0x0)+_0x159f6e(0x184)+_0x4a00f0[_0x159f6e(0x21c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x4a00f0['id']+_0x159f6e(0x948)+_0x59aaeb+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x124414(0xd7b)](''):_0x124414(0x535),!_0x513b08&&(_0xbc3dbb[_0x124414(0xe56)](_0x124414(0x861))['forEach'](_0x26160e=>{const _0x1d07d5=_0x124414;_0x26160e[_0x1d07d5(0x5e0)](_0x1d07d5(0x2df),()=>{const _0x44e856=_0x1d07d5,_0x31e416=_0x26160e['dataset']['id'];document[_0x44e856(0x693)](_0x44e856(0x27b))[_0x44e856(0x43c)][_0x44e856(0x128)](_0x44e856(0xa21)),showQuizDetailView(_0x31e416);});}),_0xbc3dbb[_0x124414(0xe56)]('.quiz-bank-try-btn')[_0x124414(0x242)](_0x5492f4=>{const _0x14362e=_0x124414;_0x5492f4[_0x14362e(0x5e0)](_0x14362e(0x2df),_0x78570e=>{const _0x48ba06=_0x14362e;_0x78570e[_0x48ba06(0xd72)]();const _0x470570=_0x5492f4[_0x48ba06(0x43d)]['id'],_0x7b170d=allQuizzesGlobal[_0x48ba06(0xe69)](_0xa03377=>_0xa03377['id']===_0x470570);_0x7b170d?(currentQuizData=_0x7b170d,document[_0x48ba06(0x693)](_0x48ba06(0x27b))[_0x48ba06(0x43c)][_0x48ba06(0x128)](_0x48ba06(0xa21)),startAdminTest()):showMessage(_0x48ba06(0xe1b));});}),_0xbc3dbb['querySelectorAll'](_0x124414(0xe86))[_0x124414(0x242)](_0x591a53=>{const _0x656f9=_0x124414;_0x591a53['addEventListener'](_0x656f9(0x2df),_0x159ff5=>{const _0x20785d=_0x656f9;_0x159ff5[_0x20785d(0xd72)]();const _0x4bcc30=_0x591a53[_0x20785d(0x43d)]['id'],_0x895f37=allQuizzesGlobal[_0x20785d(0xe69)](_0x248fbd=>_0x248fbd['id']===_0x4bcc30);_0x895f37?(document[_0x20785d(0x693)]('quiz-bank-modal')[_0x20785d(0x43c)][_0x20785d(0x128)](_0x20785d(0xa21)),handleGenerateParallelFromBank(_0x895f37)):showMessage(_0x20785d(0xe1b));});}),_0xbc3dbb[_0x124414(0xe56)](_0x124414(0x7c5))[_0x124414(0x242)](_0x45d972=>{const _0x1a4f9f=_0x124414;_0x45d972[_0x1a4f9f(0x5e0)]('click',_0x519def=>{const _0x1606ac=_0x1a4f9f;_0x519def[_0x1606ac(0xd72)]();const _0x2e5d93=_0x45d972[_0x1606ac(0x43d)]['id'],_0xab2468=allQuizzesGlobal['find'](_0x17ee62=>_0x17ee62['id']===_0x2e5d93);_0xab2468?(document[_0x1606ac(0x693)](_0x1606ac(0x27b))[_0x1606ac(0x43c)][_0x1606ac(0x128)](_0x1606ac(0xa21)),startPresentation(_0xab2468)):showMessage(_0x1606ac(0xe1b));});}),_0xbc3dbb[_0x124414(0xe56)]('.quiz-bank-move-btn')[_0x124414(0x242)](_0x160ce8=>{const _0x1b82dc=_0x124414;_0x160ce8[_0x1b82dc(0x5e0)](_0x1b82dc(0x2df),_0x4f9c7d=>{const _0x4a28dc=_0x1b82dc;_0x4f9c7d[_0x4a28dc(0xd72)]();const _0xfbd7e4=_0x160ce8['dataset']['id'];document[_0x4a28dc(0x693)]('quiz-bank-modal')[_0x4a28dc(0x43c)][_0x4a28dc(0x128)](_0x4a28dc(0xa21)),handleMoveQuiz(_0xfbd7e4);});}),_0xbc3dbb[_0x124414(0xe56)](_0x124414(0x481))[_0x124414(0x242)](_0x16436d=>{const _0x4e2a32=_0x124414;_0x16436d['addEventListener'](_0x4e2a32(0x2df),_0x49c968=>{const _0x4b2650=_0x4e2a32;_0x49c968[_0x4b2650(0xd72)]();const _0x45c570=_0x16436d[_0x4b2650(0x43d)]['id'];document[_0x4b2650(0x693)](_0x4b2650(0x27b))[_0x4b2650(0x43c)][_0x4b2650(0x128)](_0x4b2650(0xa21)),handleQuizSettings(_0x45c570);});}),_0xbc3dbb[_0x124414(0xe56)]('.quiz-bank-delete-btn')[_0x124414(0x242)](_0xb1d441=>{const _0x73763b=_0x124414;_0xb1d441[_0x73763b(0x5e0)](_0x73763b(0x2df),_0x3b2957=>{const _0x37962c=_0x73763b;_0x3b2957[_0x37962c(0xd72)]();const _0x324519=_0xb1d441[_0x37962c(0x43d)]['id'],_0x22f163=_0xb1d441['dataset']['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x22f163+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x324519));});}));}async function handleCompareResults(_0x2cb990,_0x29f0db){const _0x112f61=_0x1b93ee,_0x4f9cf7=document[_0x112f61(0x693)]('comparison-modal'),_0x377c3d=document['getElementById'](_0x112f61(0x83f)),_0x247582=document[_0x112f61(0x693)](_0x112f61(0x986));document[_0x112f61(0x693)](_0x112f61(0x2e4))['classList']['add'](_0x112f61(0x69a)),document[_0x112f61(0x693)]('comparison-individual-tab')[_0x112f61(0x43c)][_0x112f61(0x200)]('active'),_0x377c3d['classList'][_0x112f61(0x200)]('hidden'),_0x247582['classList'][_0x112f61(0x128)](_0x112f61(0xa21)),_0x377c3d[_0x112f61(0xc8c)]=_0x112f61(0x62a),_0x247582[_0x112f61(0xc8c)]='',_0x4f9cf7[_0x112f61(0x43c)][_0x112f61(0x200)]('hidden');try{const _0x15b7c7=doc(db,_0x112f61(0xe45)+appId+_0x112f61(0x868),_0x2cb990),_0x351d37=await getDoc(_0x15b7c7);if(!_0x351d37[_0x112f61(0x5a9)]())throw new Error(_0x112f61(0x454));const _0x3b36a4=_0x351d37[_0x112f61(0x7d4)](),_0x5ce4b3=_0x3b36a4[_0x112f61(0x4e6)][_0x112f61(0x357)],_0x1ad658=collection(db,'artifacts/'+appId+_0x112f61(0x449)+_0x29f0db+_0x112f61(0xddf)),_0x25ae09=collection(db,_0x112f61(0xe45)+appId+_0x112f61(0x449)+_0x2cb990+_0x112f61(0xddf)),[_0x19f6e2,_0x59d243]=await Promise[_0x112f61(0x10a)]([getDocs(_0x1ad658),getDocs(_0x25ae09)]),_0x3da688=_0x19f6e2[_0x112f61(0x34d)][_0x112f61(0x926)](_0x22b96e=>_0x22b96e[_0x112f61(0x7d4)]()),_0x22dca0=_0x59d243[_0x112f61(0x34d)][_0x112f61(0x926)](_0x1a7297=>_0x1a7297[_0x112f61(0x7d4)]()),_0x62d8ec=_0x3da688['map'](_0x352642=>_0x352642[_0x112f61(0x3f2)]),_0x4ec519=_0x22dca0[_0x112f61(0x926)](_0x526caf=>_0x526caf[_0x112f61(0x3f2)]),_0x4d6351=calculateMeanAndStdDev(_0x62d8ec),_0x42bd39=calculateMeanAndStdDev(_0x4ec519),_0x4b75c1=_0x4d6351[_0x112f61(0xb5f)],_0x59a6e0=_0x42bd39[_0x112f61(0xb5f)],_0x118cda=_0x59a6e0-_0x4b75c1;let _0x3251cb=_0x112f61(0xe80)+_0x4b75c1[_0x112f61(0x8ed)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x59a6e0[_0x112f61(0x8ed)](0x2)+_0x112f61(0x343)+(_0x118cda>=0x0?_0x112f61(0xa87):_0x112f61(0x27a))+_0x112f61(0x9cc)+(_0x118cda>=0x0?_0x112f61(0x3db):_0x112f61(0xa7c))+_0x112f61(0xbf9)+(_0x118cda>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x118cda>=0x0?'+':'')+_0x118cda['toFixed'](0x2)+_0x112f61(0xa80);_0x377c3d[_0x112f61(0xc8c)]=_0x3251cb;const _0x5ceacf=document[_0x112f61(0x693)](_0x112f61(0x75c))[_0x112f61(0x3bd)]('2d');if(chartInstances[_0x112f61(0x585)])chartInstances[_0x112f61(0x585)][_0x112f61(0xce3)]();chartInstances[_0x112f61(0x585)]=new Chart(_0x5ceacf,{'type':_0x112f61(0xc51),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x4b75c1],'backgroundColor':_0x112f61(0x8e6)},{'label':_0x112f61(0xbbf),'data':[_0x59a6e0],'backgroundColor':_0x112f61(0xcfc)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5ce4b3}}}});const _0x2f0578=currentProjectData['students']||[],_0x3f91fc=_0x2f0578['map'](_0x6b8fe5=>{const _0x12cfab=_0x112f61,_0x1686f9=_0x3da688[_0x12cfab(0xe69)](_0x3ab548=>_0x3ab548[_0x12cfab(0x6df)]===_0x6b8fe5),_0x22d2ba=_0x22dca0[_0x12cfab(0xe69)](_0x455c37=>_0x455c37[_0x12cfab(0x6df)]===_0x6b8fe5),_0x429df0=_0x1686f9?_0x1686f9['latestScore']:null,_0x37e063=_0x22d2ba?_0x22d2ba[_0x12cfab(0x3f2)]:null,_0x523f08=_0x429df0!==null&&_0x37e063!==null?_0x37e063-_0x429df0:null,_0x58f673=_0x429df0!==null?calculateZScore(_0x429df0,_0x4d6351[_0x12cfab(0xb5f)],_0x4d6351[_0x12cfab(0xa85)]):null,_0x488d69=_0x37e063!==null?calculateZScore(_0x37e063,_0x42bd39[_0x12cfab(0xb5f)],_0x42bd39[_0x12cfab(0xa85)]):null,_0x48e3a8=_0x58f673!==null?calculateTScore(_0x58f673):null,_0x521884=_0x488d69!==null?calculateTScore(_0x488d69):null,_0x5e1876=_0x48e3a8!==null&&_0x521884!==null?_0x521884-_0x48e3a8:null;return{'name':_0x6b8fe5,'preScore':_0x429df0,'postScore':_0x37e063,'gain':_0x523f08,'preTScore':_0x48e3a8,'postTScore':_0x521884,'tGain':_0x5e1876};});renderIndividualComparisonTable(_0x3f91fc,_0x247582);}catch(_0x24f1ef){console[_0x112f61(0x75e)]('Error\x20comparing\x20results:',_0x24f1ef),_0x377c3d[_0x112f61(0xc8c)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x489e96=_0x1b93ee;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x489e96(0xe66));return;}const _0x2084c0=prompt(_0x489e96(0x523),_0x489e96(0x7fb));if(!_0x2084c0||_0x2084c0[_0x489e96(0xb6d)]()==='')return;const _0x45aa89={};extractedBlueprintData[_0x489e96(0x42d)][_0x489e96(0x242)](_0x252a11=>{const _0x159e94=_0x489e96;_0x252a11[_0x159e94(0x436)]['forEach'](_0x322fc6=>{const _0x409f85=_0x159e94;_0x322fc6['subTopics'][_0x409f85(0x242)](_0x124552=>{const _0x5bbe33=_0x409f85,_0x597f8d=_0x5bbe33(0x213)+Date[_0x5bbe33(0xa37)]()+Math[_0x5bbe33(0x281)]()[_0x5bbe33(0x95f)](0x24)['substr'](0x2,0x9);_0x45aa89[_0x597f8d]={'sara':_0x252a11[_0x5bbe33(0x104)],'mainTopic':_0x322fc6[_0x5bbe33(0x9e4)],'subTopic':_0x124552,'status':'not_generated','lessonContent':null};});});});try{const _0xf3a323=collection(db,_0x489e96(0xe45)+appId+'/public/data/blueprintProjects');await addDoc(_0xf3a323,{'projectName':_0x2084c0['trim'](),'gradeLevel':extractedBlueprintData[_0x489e96(0x3c2)],'topics':_0x45aa89,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x2084c0[_0x489e96(0xb6d)]()+_0x489e96(0x258)),document[_0x489e96(0x693)](_0x489e96(0x547))[_0x489e96(0x43c)][_0x489e96(0x128)](_0x489e96(0xa21));}catch(_0x42f0de){console[_0x489e96(0x75e)]('Error\x20saving\x20blueprint\x20project:',_0x42f0de),showMessage(_0x489e96(0x172));}}async function showBlueprintProjects(){const _0x122ab7=_0x1b93ee,_0x359d95=document[_0x122ab7(0x693)](_0x122ab7(0x479)),_0x4cb5a9=document[_0x122ab7(0x693)](_0x122ab7(0x33a));_0x4cb5a9[_0x122ab7(0xc8c)]=_0x122ab7(0x529),_0x359d95[_0x122ab7(0x43c)][_0x122ab7(0x200)](_0x122ab7(0xa21));try{const _0x5b658d=collection(db,_0x122ab7(0xe45)+appId+_0x122ab7(0xe5a)),_0x2f0407=await getDocs(_0x5b658d);if(_0x2f0407['empty']){_0x4cb5a9[_0x122ab7(0xc8c)]=_0x122ab7(0xc47);return;}const _0x37b694=_0x2f0407[_0x122ab7(0x34d)][_0x122ab7(0x926)](_0x5db67a=>({'id':_0x5db67a['id'],..._0x5db67a[_0x122ab7(0x7d4)]()}));_0x37b694[_0x122ab7(0xa05)]((_0x3fd018,_0x15d4ee)=>_0x3fd018[_0x122ab7(0x21c)][_0x122ab7(0xb9d)](_0x15d4ee[_0x122ab7(0x21c)],'th')),_0x4cb5a9[_0x122ab7(0xc8c)]=_0x37b694[_0x122ab7(0x926)](_0x14071a=>_0x122ab7(0x182)+_0x14071a[_0x122ab7(0x21c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x14071a[_0x122ab7(0x3c2)]+_0x122ab7(0x221)+Object['keys'](_0x14071a[_0x122ab7(0x413)])['length']+_0x122ab7(0xd8e)+_0x14071a['id']+_0x122ab7(0x2cd)+_0x14071a['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x122ab7(0xd7b)]('');}catch(_0x35efe2){console[_0x122ab7(0x75e)](_0x122ab7(0xa67),_0x35efe2),_0x4cb5a9[_0x122ab7(0xc8c)]=_0x122ab7(0xabd);}}async function displayBlueprintProjectManager(_0x30793a){const _0x590e67=_0x1b93ee;currentBlueprintProjectId=_0x30793a,document[_0x590e67(0x693)](_0x590e67(0x479))[_0x590e67(0x43c)][_0x590e67(0x128)](_0x590e67(0xa21)),showView(_0x590e67(0x393)),projectDashboardView[_0x590e67(0x43c)][_0x590e67(0x128)](_0x590e67(0xa21));const _0x4b8dc4=document[_0x590e67(0x693)]('blueprint-project-manager-view');_0x4b8dc4[_0x590e67(0x43c)]['remove'](_0x590e67(0xa21)),document[_0x590e67(0x693)](_0x590e67(0x275))[_0x590e67(0xc8c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x30dc4e=doc(db,'artifacts/'+appId+_0x590e67(0xe5a),_0x30793a),_0x40aa9e=await getDoc(_0x30dc4e);if(!_0x40aa9e[_0x590e67(0x5a9)]())throw new Error(_0x590e67(0x450));const _0x2014eb={'id':_0x40aa9e['id'],..._0x40aa9e[_0x590e67(0x7d4)]()};document[_0x590e67(0x693)](_0x590e67(0xc1e))[_0x590e67(0xc08)]=_0x2014eb[_0x590e67(0x21c)],document[_0x590e67(0x693)](_0x590e67(0x51c))['value']=_0x2014eb[_0x590e67(0x460)]||'',renderBlueprintTopicManager(_0x2014eb);}catch(_0x2c5b52){console[_0x590e67(0x75e)](_0x590e67(0xa6c),_0x2c5b52),showMessage(_0x2c5b52[_0x590e67(0x340)]),showView(_0x590e67(0x393));}}function renderBlueprintTopicManager(_0x5938d2){const _0x1021d6=_0x1b93ee,_0x191a6a=document[_0x1021d6(0x693)](_0x1021d6(0x275)),_0x376db8=_0x5938d2[_0x1021d6(0x413)]||{};if(Object[_0x1021d6(0x89a)](_0x376db8)['length']===0x0){_0x191a6a[_0x1021d6(0xc8c)]=_0x1021d6(0x900);return;}const _0x29bb94=Object[_0x1021d6(0x7da)](_0x376db8)[_0x1021d6(0x926)](([_0x28ed23,_0x444296])=>({'id':_0x28ed23,..._0x444296}))[_0x1021d6(0xa05)]((_0x55696c,_0x3935d5)=>(_0x55696c[_0x1021d6(0x801)]??Infinity)-(_0x3935d5[_0x1021d6(0x801)]??Infinity)),_0x5ddd89={};_0x29bb94[_0x1021d6(0x242)](_0x1f210d=>{const {sara:_0x4280ae,mainTopic:_0x5d1739}=_0x1f210d;!_0x5ddd89[_0x4280ae]&&(_0x5ddd89[_0x4280ae]={}),!_0x5ddd89[_0x4280ae][_0x5d1739]&&(_0x5ddd89[_0x4280ae][_0x5d1739]=[]),_0x5ddd89[_0x4280ae][_0x5d1739]['push'](_0x1f210d);});let _0x58c9ab='';for(const _0x585fe6 in _0x5ddd89){_0x58c9ab+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x585fe6+_0x1021d6(0xc36);for(const _0x29dd51 in _0x5ddd89[_0x585fe6]){_0x58c9ab+=_0x1021d6(0x42e)+_0x29dd51+_0x1021d6(0xacf),_0x5ddd89[_0x585fe6][_0x29dd51][_0x1021d6(0x242)](_0x3b94e2=>{const _0x150e71=_0x1021d6,_0x513c48=_0x3b94e2['id'],_0x52aa3a=_0x3b94e2[_0x150e71(0x285)]||[],_0x1088b8=_0x52aa3a[_0x150e71(0x357)]>0x0,_0x2b3f3b=_0x3b94e2[_0x150e71(0x7f7)]===_0x150e71(0x11e);let _0x3e2271='';_0x1088b8?_0x3e2271=_0x150e71(0x149)+_0x52aa3a[_0x150e71(0x357)]+_0x150e71(0x6e9):_0x3e2271=_0x150e71(0xbfc)+(_0x2b3f3b?_0x150e71(0x52b):_0x150e71(0x4ec))+'\x22>'+(_0x2b3f3b?_0x150e71(0xe4b):_0x150e71(0x102))+_0x150e71(0xb46);const _0x48094d=!_0x2b3f3b?_0x150e71(0x1a5):'',_0x307440=!_0x2b3f3b?_0x150e71(0xafd):'';let _0x1a351a=_0x2b3f3b?_0x150e71(0x92f):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x58c9ab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x513c48+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x3b94e2[_0x150e71(0xaaf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e2271+_0x150e71(0xb41)+_0x48094d+_0x150e71(0x44c)+_0x307440+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a351a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x58c9ab+='</div></div>';}_0x58c9ab+=_0x1021d6(0x842);}_0x191a6a[_0x1021d6(0xc8c)]=_0x58c9ab;}async function handleDeepDeleteBlueprintProject(_0x3741ff){const _0x19a763=_0x1b93ee,_0x1c0c64=doc(db,_0x19a763(0xe45)+appId+_0x19a763(0xe5a),_0x3741ff),_0xc00e1=await getDoc(_0x1c0c64);if(!_0xc00e1[_0x19a763(0x5a9)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x496824=_0xc00e1[_0x19a763(0x7d4)]()[_0x19a763(0x21c)];showConfirmation(_0x19a763(0x6e7)+_0x496824+_0x19a763(0x206),async()=>{const _0x5dd32c=_0x19a763;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0xa9c7b=writeBatch(db),_0x8c923b=_0xc00e1[_0x5dd32c(0x7d4)](),_0x5d0e74=_0x8c923b[_0x5dd32c(0x413)]||{};for(const _0x4e93ef in _0x5d0e74){const _0x7f9fc0=doc(db,'artifacts/'+appId+_0x5dd32c(0x2ff)+_0x3741ff+_0x5dd32c(0xdc8),_0x4e93ef);_0xa9c7b[_0x5dd32c(0x25a)](_0x7f9fc0);}const _0x2b1d3d=new Set();for(const _0x1112f1 in _0x5d0e74){_0x5d0e74[_0x1112f1][_0x5dd32c(0x285)]&&_0x5d0e74[_0x1112f1]['linkedQuizIds'][_0x5dd32c(0x242)](_0x26ed8b=>_0x2b1d3d[_0x5dd32c(0x128)](_0x26ed8b));}for(const _0x816f31 of _0x2b1d3d){await handleDeleteQuiz(_0x816f31,![]);}_0xa9c7b['delete'](_0x1c0c64),await _0xa9c7b[_0x5dd32c(0x480)](),showMessage(_0x5dd32c(0x27e)+_0x496824+_0x5dd32c(0x78a)),showBlueprintProjects();}catch(_0x16253a){console[_0x5dd32c(0x75e)](_0x5dd32c(0xa42),_0x16253a),showMessage(_0x5dd32c(0x72f));}});}async function openTopicQuizBank(_0x45192b){const _0x2ae9c1=_0x1b93ee,_0x2bb446=document[_0x2ae9c1(0x693)](_0x2ae9c1(0xd95)),_0x20beff=document[_0x2ae9c1(0x693)]('topic-bank-list'),_0xeea394=document[_0x2ae9c1(0x693)](_0x2ae9c1(0x3c5));try{await ensureGlobalQuizzesLoaded();const _0x1fb1cf=doc(db,_0x2ae9c1(0xe45)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xed6d9d=await getDoc(_0x1fb1cf);if(!_0xed6d9d[_0x2ae9c1(0x5a9)]())return;const _0x44726f=_0xed6d9d[_0x2ae9c1(0x7d4)](),_0x1041fd=_0x44726f[_0x2ae9c1(0x413)][_0x45192b];document['getElementById'](_0x2ae9c1(0x6a8))[_0x2ae9c1(0xc08)]=_0x1041fd[_0x2ae9c1(0xaaf)];const _0xfad1d=_0x1041fd[_0x2ae9c1(0x285)]||[];_0xeea394[_0x2ae9c1(0x43c)][_0x2ae9c1(0xe2c)](_0x2ae9c1(0xa21),_0xfad1d[_0x2ae9c1(0x357)]===0x0),_0xeea394['onclick']=()=>handleClearAllLinksForTopic(_0x45192b);if(_0xfad1d[_0x2ae9c1(0x357)]===0x0)_0x20beff[_0x2ae9c1(0xc8c)]=_0x2ae9c1(0x6c2);else{const _0x373b98=allQuizzesGlobal['filter'](_0x18406b=>_0xfad1d[_0x2ae9c1(0x8bb)](_0x18406b['id']));_0x20beff[_0x2ae9c1(0xc8c)]=_0x373b98[_0x2ae9c1(0x926)](_0x419e88=>_0x2ae9c1(0xcb3)+_0x419e88['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x419e88[_0x2ae9c1(0x669)]+_0x2ae9c1(0xd22)+_0x419e88['id']+'\x20|\x20'+_0x419e88['questions'][_0x2ae9c1(0x357)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x419e88['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x419e88['id']+_0x2ae9c1(0x1bb)+_0x419e88['id']+_0x2ae9c1(0x171)+_0x419e88['id']+_0x2ae9c1(0x7c8)+_0x45192b+_0x2ae9c1(0xa08)+_0x419e88['id']+_0x2ae9c1(0x575))[_0x2ae9c1(0xd7b)]('');}document[_0x2ae9c1(0x693)](_0x2ae9c1(0x3b2))[_0x2ae9c1(0x72e)]=()=>{openQuizSelectorForBlueprint(_0x45192b);},document[_0x2ae9c1(0x693)](_0x2ae9c1(0xa06))[_0x2ae9c1(0x72e)]=()=>_0x2bb446[_0x2ae9c1(0x43c)]['add'](_0x2ae9c1(0xa21)),_0x2bb446[_0x2ae9c1(0x43c)][_0x2ae9c1(0x200)]('hidden');}catch(_0x48f08e){showMessage(_0x48f08e['message']);}}async function openQuizSelectorForBlueprint(_0x28c81e){const _0x486990=_0x1b93ee,_0xe26331=document[_0x486990(0x693)](_0x486990(0x27b)),_0x5618d0=document[_0x486990(0x693)](_0x486990(0xd95));_0x5618d0[_0x486990(0x43c)][_0x486990(0x128)](_0x486990(0xa21)),document['getElementById'](_0x486990(0x60c))?.[_0x486990(0x200)]();const _0x53cdf6=document[_0x486990(0x1a7)]('button');_0x53cdf6['id']='confirm-link-quiz-btn',_0x53cdf6[_0x486990(0x17f)]=_0x486990(0x638),_0x53cdf6[_0x486990(0xc08)]='เพิ่มรายการที่เลือก',_0x53cdf6[_0x486990(0xe12)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xe26331[_0x486990(0x43c)]['remove']('hidden'),renderQuizBankListForMultiSelect(''),document[_0x486990(0x693)](_0x486990(0x324))[_0x486990(0x77b)][_0x486990(0xb4c)]='none',_0xe26331['querySelector']('.flex.justify-between.items-center')[_0x486990(0x39f)](_0x53cdf6);const _0x51f5f3=(_0x4385b2=![])=>{const _0x228f25=_0x486990;_0xe26331[_0x228f25(0x43c)][_0x228f25(0x128)](_0x228f25(0xa21)),document['getElementById'](_0x228f25(0x324))[_0x228f25(0x77b)][_0x228f25(0xb4c)]=_0x228f25(0xa50),_0x53cdf6[_0x228f25(0x200)](),_0x4385b2&&openTopicQuizBank(_0x28c81e);};_0x53cdf6[_0x486990(0x72e)]=async()=>{const _0x3a587f=_0x486990,_0x120de7=Array[_0x3a587f(0xb1b)](document['querySelectorAll'](_0x3a587f(0xd0d)))['map'](_0x15ba78=>_0x15ba78[_0x3a587f(0xc5c)]);if(_0x120de7[_0x3a587f(0x357)]===0x0)return;try{const _0xd7aab=doc(db,_0x3a587f(0xe45)+appId+_0x3a587f(0xe5a),currentBlueprintProjectId),_0x1f8dd5=(await getDoc(_0xd7aab))[_0x3a587f(0x7d4)](),_0x26f92b=_0x1f8dd5[_0x3a587f(0x413)][_0x28c81e]['linkedQuizIds']||[],_0x14e41c=[...new Set([..._0x26f92b,..._0x120de7])];await updateDoc(_0xd7aab,{[_0x3a587f(0xdc6)+_0x28c81e+'.linkedQuizIds']:_0x14e41c}),showMessage(_0x3a587f(0xc3e)+_0x120de7[_0x3a587f(0x357)]+_0x3a587f(0x7aa)),_0x51f5f3(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4b35bf){console[_0x3a587f(0x75e)](_0x3a587f(0x159),_0x4b35bf);}},document['getElementById'](_0x486990(0x5b0))[_0x486990(0x72e)]=()=>_0x51f5f3(!![]);}catch(_0x200bae){showMessage(_0x200bae[_0x486990(0x340)]),_0x5618d0['classList']['remove']('hidden');}}function handleClearLinkedQuiz(_0x4c9309){const _0x353a0b=_0x1b93ee;showConfirmation(_0x353a0b(0x33e),async()=>{const _0x2b3a7a=_0x353a0b;try{const _0x2546b6=doc(db,_0x2b3a7a(0xe45)+appId+_0x2b3a7a(0xe5a),currentBlueprintProjectId);await updateDoc(_0x2546b6,{['topics.'+_0x4c9309+_0x2b3a7a(0x8d8)]:deleteField()}),showMessage(_0x2b3a7a(0x84d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x369572){console[_0x2b3a7a(0x75e)]('Error\x20clearing\x20linked\x20quiz:',_0x369572),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x14b6d9=_0x1b93ee,_0x2cf41b=prompt(_0x14b6d9(0x800));if(!_0x2cf41b||_0x2cf41b['trim']()==='')return;const _0x23dc73=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x14b6d9(0x6eb)),_0x3563a1=prompt(_0x14b6d9(0x848),_0x14b6d9(0x1ba)),_0x9e09bb=_0x14b6d9(0x213)+Date[_0x14b6d9(0xa37)]()+Math[_0x14b6d9(0x281)]()[_0x14b6d9(0x95f)](0x24)[_0x14b6d9(0xb9a)](0x2,0x9),_0x4d6f14={'sara':_0x23dc73,'mainTopic':_0x3563a1,'subTopic':_0x2cf41b[_0x14b6d9(0xb6d)](),'status':_0x14b6d9(0x2ee),'lessonContent':null};try{const _0x290f14=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x290f14,{[_0x14b6d9(0xdc6)+_0x9e09bb]:_0x4d6f14}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1aa9bd){console[_0x14b6d9(0x75e)](_0x14b6d9(0x9c4),_0x1aa9bd),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x5a8098){const _0xdab121=_0x1b93ee,_0x3f885b=document[_0xdab121(0xbc1)](_0xdab121(0x9f7)+_0x5a8098+'\x22]'),_0x16def4=_0x3f885b['querySelector'](_0xdab121(0x3b3)),_0x663965=_0x16def4[_0xdab121(0xc08)],_0x45e7fd=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x663965);if(!_0x45e7fd||_0x45e7fd[_0xdab121(0xb6d)]()===''||_0x45e7fd[_0xdab121(0xb6d)]()===_0x663965)return;try{const _0x5cd4af=doc(db,_0xdab121(0xe45)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5cd4af,{[_0xdab121(0xdc6)+_0x5a8098+'.subTopic']:_0x45e7fd[_0xdab121(0xb6d)]()}),_0x16def4[_0xdab121(0xc08)]=_0x45e7fd[_0xdab121(0xb6d)](),showMessage(_0xdab121(0x675));}catch(_0x9b6c74){console[_0xdab121(0x75e)](_0xdab121(0x412),_0x9b6c74),showMessage(_0xdab121(0x256));}}async function deleteTopicFromProject(_0x184adb){const _0x29aa8e=_0x1b93ee;if(!confirm(_0x29aa8e(0xdfa)))return;try{const _0x249255=doc(db,_0x29aa8e(0xe45)+appId+_0x29aa8e(0xe5a),currentBlueprintProjectId);await updateDoc(_0x249255,{[_0x29aa8e(0xdc6)+_0x184adb]:deleteField()}),document[_0x29aa8e(0xbc1)](_0x29aa8e(0x9f7)+_0x184adb+'\x22]')[_0x29aa8e(0x200)](),showMessage(_0x29aa8e(0x551));}catch(_0x48eb5f){console[_0x29aa8e(0x75e)](_0x29aa8e(0xde0),_0x48eb5f),showMessage(_0x29aa8e(0x5e8));}}async function generateAndSaveLessonForBlueprint(_0x38adf2,_0x288517,_0x58d5ab){handleGenerateAndShowLesson(_0x288517,_0x58d5ab);const _0x2e7fcb=setInterval(async()=>{const _0x306438=_0x1173,_0xddd3f0=document[_0x306438(0x693)](_0x306438(0xb56)),_0xf1a954=_0xddd3f0['classList'][_0x306438(0x539)](_0x306438(0xa21));if(_0xf1a954){clearInterval(_0x2e7fcb);if(currentApplicationData&&currentApplicationData[_0x306438(0x357)]>0x0){const _0x3ecd46={'point':document[_0x306438(0x693)](_0x306438(0x365))[_0x306438(0xc8c)],'memory':document[_0x306438(0x693)](_0x306438(0x977))[_0x306438(0xc8c)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x306438(0x718))[_0x306438(0xc8c)]};try{const _0x4f5c58=doc(db,_0x306438(0xe45)+appId+_0x306438(0xe5a),currentBlueprintProjectId),_0x1c288a=doc(db,_0x306438(0xe45)+appId+_0x306438(0x2ff)+currentBlueprintProjectId+_0x306438(0xdc8),_0x38adf2),_0x567a99=writeBatch(db);_0x567a99[_0x306438(0x136)](_0x1c288a,{'content':_0x3ecd46}),_0x567a99['update'](_0x4f5c58,{[_0x306438(0xdc6)+_0x38adf2+_0x306438(0x584)]:_0x306438(0x11e)}),await _0x567a99[_0x306438(0x480)](),console['log'](_0x306438(0xc1f)+_0x38adf2+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x37c858){console[_0x306438(0x75e)](_0x306438(0x441),_0x37c858);}}}},0x3e8);}function displayHalfMarkResult(_0x4d632b,_0x2ef0d5){const _0x1e418b=_0x1b93ee,_0x50b210=_0x4d632b>=_0x2ef0d5/0x2,_0x3d3183=_0x50b210?_0x1e418b(0x1ca):'bg-red-100',_0x1af142=_0x50b210?_0x1e418b(0xae1):_0x1e418b(0xcd9),_0x4b720e=_0x50b210?_0x1e418b(0xa96):_0x1e418b(0xa7c),_0x32f270=_0x50b210?'ทำคะแนนได้เกินครึ่ง':_0x1e418b(0xc25),_0x186ebf=_0x50b210?_0x1e418b(0x653):_0x1e418b(0xd4e);let _0x44cd39=_0x1e418b(0x103)+_0x3d3183+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1af142+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4b720e+_0x1e418b(0xcd1)+_0x32f270+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x186ebf+_0x1e418b(0x1e8);studentResultArea['innerHTML']=_0x44cd39,studentResultArea['classList'][_0x1e418b(0x200)](_0x1e418b(0xa21)),studentQuizArea[_0x1e418b(0x43c)][_0x1e418b(0x128)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x50b210});}function displayPerfectScoreResult(_0x17aaed,_0xfb2961){const _0x2f2acf=_0x1b93ee,_0x946267=_0x17aaed===_0xfb2961,_0x48dbda=_0x946267?'bg-yellow-100':'bg-blue-100',_0x112212=_0x946267?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x2f2acf(0xe67),_0x161e84=_0x946267?'text-yellow-800':_0x2f2acf(0x190),_0x30a8d1=_0x946267?_0x2f2acf(0xdaa):_0x2f2acf(0x231),_0x2393f7=_0x946267?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x2f2acf(0x646);let _0x53a3dc=_0x2f2acf(0x103)+_0x48dbda+_0x2f2acf(0xaeb)+_0x112212+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x161e84+'\x20mb-2\x22>'+_0x30a8d1+_0x2f2acf(0x954)+_0x2393f7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x53a3dc,studentResultArea['classList'][_0x2f2acf(0x200)](_0x2f2acf(0xa21)),studentQuizArea[_0x2f2acf(0x43c)][_0x2f2acf(0x128)](_0x2f2acf(0xa21)),setupResultScreenBackButton({'showRankings':![],'score':_0x17aaed,'totalQuestions':_0xfb2961});}function renderIndividualComparisonTable(_0x2e6be2,_0x39cca8){const _0x595053=_0x1b93ee;_0x2e6be2['sort']((_0x2c96e0,_0xfa1a67)=>(_0xfa1a67[_0x595053(0x499)]??-Infinity)-(_0x2c96e0['tGain']??-Infinity));let _0x10ddc1=_0x595053(0xd54);_0x2e6be2[_0x595053(0x357)]===0x0?_0x10ddc1+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2e6be2[_0x595053(0x242)]((_0x358466,_0x5daeae)=>{const _0x987153=_0x595053;let _0x3f6756='-',_0x11cb6f='';if(_0x358466[_0x987153(0x254)]!==null){const _0x21a743=_0x358466['gain']>0x0?_0x987153(0xdc3):_0x358466['gain']<0x0?'text-red-600':'text-gray-500',_0x38053e=_0x358466[_0x987153(0x254)]>0x0?'+':'';_0x3f6756='<span\x20class=\x22font-bold\x20'+_0x21a743+'\x22>'+_0x38053e+_0x358466[_0x987153(0x254)]+_0x987153(0xb46);if(_0x358466[_0x987153(0x254)]>0x0)_0x11cb6f=_0x987153(0x489);else _0x358466[_0x987153(0x254)]<0x0?_0x11cb6f='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x11cb6f=_0x987153(0x8cc);}let _0x2b0dab='-';if(_0x358466[_0x987153(0x499)]!==null){const _0xf68800=_0x358466[_0x987153(0x499)]>0x0?'text-green-600':_0x358466[_0x987153(0x499)]<0x0?_0x987153(0x86c):'text-gray-500',_0x53d98d=_0x358466[_0x987153(0x499)]>0x0?'+':'';_0x2b0dab=_0x987153(0xad4)+_0xf68800+'\x22>'+_0x53d98d+_0x358466[_0x987153(0x499)][_0x987153(0x8ed)](0x2)+_0x987153(0xb46);}_0x10ddc1+=_0x987153(0xce1)+(_0x5daeae+0x1)+_0x987153(0xe6e)+_0x358466[_0x987153(0x41d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x358466[_0x987153(0x583)]??'-')+_0x987153(0x262)+(_0x358466[_0x987153(0x703)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3f6756+_0x987153(0x66b)+_0x11cb6f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x358466['preTScore']?.[_0x987153(0x8ed)](0x2)??'-')+_0x987153(0x11b)+(_0x358466['postTScore']?.[_0x987153(0x8ed)](0x2)??'-')+_0x987153(0x940)+_0x2b0dab+_0x987153(0x457);}),_0x10ddc1+='</tbody></table></div>',_0x39cca8[_0x595053(0xc8c)]=_0x10ddc1;}function handleRenameQuiz(_0x4aae2f,_0xb91f27){const _0x92ed56=_0x1b93ee;actionTargetId=_0x4aae2f,document[_0x92ed56(0x693)](_0x92ed56(0x884))[_0x92ed56(0xc5c)]=_0xb91f27,renameQuizModal[_0x92ed56(0x43c)][_0x92ed56(0x200)](_0x92ed56(0xa21));}function setupComparisonModalTabs(){const _0x2c2f07=_0x1b93ee,_0x731fed=document[_0x2c2f07(0x693)](_0x2c2f07(0x2e4)),_0x2cdb58=document[_0x2c2f07(0x693)]('comparison-individual-tab'),_0x3d9c1b=document[_0x2c2f07(0x693)](_0x2c2f07(0x83f)),_0x3a0455=document[_0x2c2f07(0x693)](_0x2c2f07(0x986));_0x731fed[_0x2c2f07(0x5e0)](_0x2c2f07(0x2df),()=>{const _0xb856e8=_0x2c2f07;_0x731fed[_0xb856e8(0x43c)][_0xb856e8(0x128)](_0xb856e8(0x69a)),_0x2cdb58['classList'][_0xb856e8(0x200)]('active'),_0x3d9c1b[_0xb856e8(0x43c)][_0xb856e8(0x200)](_0xb856e8(0xa21)),_0x3a0455[_0xb856e8(0x43c)][_0xb856e8(0x128)](_0xb856e8(0xa21));}),_0x2cdb58['addEventListener']('click',()=>{const _0x4577ea=_0x2c2f07;_0x2cdb58[_0x4577ea(0x43c)][_0x4577ea(0x128)](_0x4577ea(0x69a)),_0x731fed['classList'][_0x4577ea(0x200)]('active'),_0x3a0455[_0x4577ea(0x43c)][_0x4577ea(0x200)]('hidden'),_0x3d9c1b[_0x4577ea(0x43c)]['add'](_0x4577ea(0xa21));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3edf9e=_0x1b93ee;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2968cb=doc(db,_0x3edf9e(0xe45)+appId+_0x3edf9e(0x504),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2968cb,_0x336c0d=>{const _0x4999a8=_0x3edf9e;if(!_0x336c0d[_0x4999a8(0x5a9)]()){showMessage(_0x4999a8(0x921));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4999a8(0x23c)?showView(_0x4999a8(0x66a)):showView(_0x4999a8(0x5ed));return;}const _0x55bc64=_0x336c0d[_0x4999a8(0x7d4)]();_0x55bc64[_0x4999a8(0xd4c)]&&(currentQuizData=_0x55bc64[_0x4999a8(0xd4c)]);!currentQuizData&&_0x55bc64[_0x4999a8(0xbcc)]&&((async()=>{const _0x31c21d=_0x4999a8;try{const _0x4010c3=doc(db,'artifacts/'+appId+_0x31c21d(0x868),_0x55bc64['quizId']),_0x49606a=await getDoc(_0x4010c3);_0x49606a[_0x31c21d(0x5a9)]()&&(currentQuizData={'id':_0x49606a['id'],..._0x49606a[_0x31c21d(0x7d4)]()});}catch(_0x2503b1){console[_0x31c21d(0x75e)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x2503b1);}})());switch(_0x55bc64[_0x4999a8(0x7f7)]){case _0x4999a8(0xae8):if(currentMode===_0x4999a8(0x23c)){const _0x599b08=_0x55bc64[_0x4999a8(0x18f)]?Object[_0x4999a8(0x7da)](_0x55bc64[_0x4999a8(0x18f)]):[],_0x3e79fc=_0x599b08[_0x4999a8(0x107)](([_0x18915b,_0x5ab38d])=>_0x5ab38d[_0x4999a8(0x7f7)]===_0x4999a8(0x69a)),_0x3e65ac=document[_0x4999a8(0x693)](_0x4999a8(0x642));if(_0x3e65ac)_0x3e65ac[_0x4999a8(0xc08)]=_0x3e79fc[_0x4999a8(0x357)];const _0x363d15=document['getElementById'](_0x4999a8(0x846));_0x363d15&&(_0x363d15[_0x4999a8(0xc8c)]=_0x3e79fc['map'](([_0x15206c,_0x512706])=>_0x4999a8(0x6f2)+_0x15206c+_0x4999a8(0x9be)+_0x15206c+_0x4999a8(0xa79))[_0x4999a8(0xd7b)](''));const _0x187054=document[_0x4999a8(0x693)](_0x4999a8(0x651));_0x187054&&(_0x187054[_0x4999a8(0xe12)]=_0x3e79fc[_0x4999a8(0x357)]===0x0);}else showView('live-game'),liveGameView[_0x4999a8(0xc8c)]=_0x4999a8(0x814)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x42ca82=_0x55bc64['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x4999a8(0x4e6)][_0x42ca82]){const _0x1b2483=currentQuizData[_0x4999a8(0x4e6)][_0x42ca82],_0x2f6feb=_0x55bc64[_0x4999a8(0x9db)]||_0x4999a8(0xb80);switch(_0x2f6feb){case'summary_chart':currentMode===_0x4999a8(0x23c)?showAdminSummaryView(_0x55bc64,_0x1b2483):showPlayerSummaryView(_0x55bc64,currentStudentName);break;case _0x4999a8(0xb96):currentMode===_0x4999a8(0x23c)&&showTop5LeaderboardView(_0x55bc64);break;case _0x4999a8(0xb80):default:if(currentMode===_0x4999a8(0x23c)){const _0x980e67=writeBatch(db);let _0x20c7b0=![];Object[_0x4999a8(0x7da)](_0x55bc64[_0x4999a8(0x18f)])['forEach'](([_0x223be0,_0x10821b])=>{const _0x5cb674=_0x4999a8;if(_0x10821b[_0x5cb674(0x7f7)]===_0x5cb674(0x69a)&&_0x10821b['submittedAt']&&!_0x10821b[_0x5cb674(0xe5c)]){_0x20c7b0=!![];const _0x211ea3=_0x10821b[_0x5cb674(0x8f0)][_0x5cb674(0x166)]()-_0x55bc64[_0x5cb674(0x78b)][_0x5cb674(0x166)]();let _0x1b6fdb=0x0;if(_0x10821b['lastAnswerCorrect']){const _0x52b299=0x3e8,_0x4bfff1=0x1f4,_0x5c043b=0x4e20;let _0x2af50b=_0x211ea3/_0x5c043b;if(_0x2af50b>0x1)_0x2af50b=0x1;const _0x24a243=Math[_0x5cb674(0x758)](_0x2af50b*_0x4bfff1);_0x1b6fdb=_0x52b299-_0x24a243;}const _0x510f4a=doc(db,_0x5cb674(0xe45)+appId+_0x5cb674(0x504),currentLiveGameId);_0x980e67['update'](_0x510f4a,{[_0x5cb674(0xcb2)+_0x223be0+'.score']:increment(_0x1b6fdb),[_0x5cb674(0xcb2)+_0x223be0+_0x5cb674(0xbb0)]:_0x1b6fdb,['players.'+_0x223be0+_0x5cb674(0x6a4)]:!![]});}});_0x20c7b0&&_0x980e67[_0x4999a8(0x480)]()[_0x4999a8(0x792)](_0x33ac0e=>console[_0x4999a8(0x75e)]('Error\x20committing\x20score\x20updates:',_0x33ac0e));lastRenderedAdminQuestionIndex!==_0x42ca82&&(showAdminLiveQuestionView(_0x1b2483,_0x42ca82,currentQuizData[_0x4999a8(0x4e6)][_0x4999a8(0x357)]),lastRenderedAdminQuestionIndex=_0x42ca82);const _0x8da23b=_0x55bc64['players']||{},_0x400128=Object[_0x4999a8(0x8d9)](_0x8da23b)[_0x4999a8(0x107)](_0xe7425=>_0xe7425['status']==='active'),_0x2a1bcd=_0x400128[_0x4999a8(0x357)],_0x1f8ffa=_0x400128[_0x4999a8(0x107)](_0x443b00=>_0x443b00[_0x4999a8(0x5a1)]===!![])[_0x4999a8(0x357)],_0x4a14b2=document[_0x4999a8(0x693)](_0x4999a8(0x6aa));if(_0x4a14b2)_0x4a14b2[_0x4999a8(0xc08)]=_0x1f8ffa+'/'+_0x2a1bcd;const _0x422b7b=document[_0x4999a8(0x693)](_0x4999a8(0x857));if(_0x422b7b){let _0x329c16=Object['entries'](_0x8da23b)[_0x4999a8(0x107)](([_0x515115,_0x2e2732])=>_0x2e2732[_0x4999a8(0x7f7)]===_0x4999a8(0x69a))['map'](([_0x8f58de,_0x49f98d])=>{const _0x102c48=_0x4999a8,_0x47069b=_0x49f98d[_0x102c48(0x5a1)]===!![],_0x2f0c31=_0x47069b?_0x102c48(0x1e1):'bg-gray-500',_0x11d053=_0x47069b?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x102c48(0x622);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2f0c31+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11d053+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x8f58de+_0x102c48(0xc85)+_0x8f58de+_0x102c48(0xd7e);})[_0x4999a8(0xd7b)]('');_0x422b7b['innerHTML']=_0x329c16||_0x4999a8(0xdda);}_0x2a1bcd>0x0&&_0x1f8ffa===_0x2a1bcd&&revealAnswerForAdmin(_0x42ca82,currentQuizData[_0x4999a8(0x4e6)][_0x4999a8(0x357)]);}else{const _0x19ac03=_0x55bc64[_0x4999a8(0x18f)][currentStudentName];_0x19ac03&&!_0x19ac03['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x1b2483,_0x42ca82,currentQuizData[_0x4999a8(0x4e6)][_0x4999a8(0x357)]);}break;}}break;case _0x4999a8(0x806):showPodiumView(_0x55bc64['players'],'live-race');break;}});}async function openGlobalActivityModal(){const _0x4bc9d6=_0x1b93ee;if(allQuizzesGlobal[_0x4bc9d6(0x357)]===0x0){const _0x36cd72=await getDocs(collection(db,'artifacts/'+appId+_0x4bc9d6(0x868)));allQuizzesGlobal=_0x36cd72[_0x4bc9d6(0x34d)][_0x4bc9d6(0x926)](_0x91b348=>({'id':_0x91b348['id'],..._0x91b348[_0x4bc9d6(0x7d4)]()}));}renderGlobalActivityList(''),document[_0x4bc9d6(0x693)]('global-activity-modal')[_0x4bc9d6(0x43c)]['remove'](_0x4bc9d6(0xa21));}function renderGlobalActivityList(_0x73503d=''){const _0x2417cc=_0x1b93ee,_0x208449=document[_0x2417cc(0x693)]('global-activity-quiz-list'),_0x3d718e=_0x73503d[_0x2417cc(0x95a)]()[_0x2417cc(0xb6d)](),_0x4b4feb=allQuizzesGlobal[_0x2417cc(0x926)](_0x26eb6a=>({..._0x26eb6a,'projectName':allProjects['find'](_0x26bc41=>_0x26bc41['id']===_0x26eb6a['projectId'])?.[_0x2417cc(0x21c)]||'N/A'}))[_0x2417cc(0x107)](_0x54cb5e=>(_0x54cb5e[_0x2417cc(0x669)]||'')['toLowerCase']()[_0x2417cc(0x8bb)](_0x3d718e)||(_0x54cb5e[_0x2417cc(0x21c)]||'')['toLowerCase']()['includes'](_0x3d718e));document['getElementById'](_0x2417cc(0x6b1))[_0x2417cc(0xc08)]='('+_0x4b4feb[_0x2417cc(0x357)]+_0x2417cc(0x229),_0x208449[_0x2417cc(0xc8c)]=_0x4b4feb['length']?_0x4b4feb[_0x2417cc(0x926)](_0x4c413c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4c413c[_0x2417cc(0x669)]||_0x2417cc(0xb63))+_0x2417cc(0x7cc)+(_0x4c413c['questions']?.['length']||0x0)+_0x2417cc(0x4da)+_0x4c413c[_0x2417cc(0x21c)]+_0x2417cc(0x32d)+_0x4c413c['id']+_0x2417cc(0xe04)+_0x4c413c['id']+_0x2417cc(0xc9c))[_0x2417cc(0xd7b)](''):_0x2417cc(0x535);}async function handleKickPlayer(_0x3ec1ae){const _0x4a79b9=_0x1b93ee;if(!currentLiveGameId||!_0x3ec1ae)return;const _0x5d22f1=doc(db,_0x4a79b9(0xe45)+appId+_0x4a79b9(0x504),currentLiveGameId),_0x707360={};_0x707360[_0x4a79b9(0xcb2)+_0x3ec1ae+'.status']='inactive';try{await updateDoc(_0x5d22f1,_0x707360);}catch(_0x42b474){console['error'](_0x4a79b9(0x7c4)+_0x3ec1ae+':',_0x42b474),showMessage(_0x4a79b9(0x10f));}}async function authenticateUser(){const _0x5dde4f=_0x1b93ee;try{typeof __initial_auth_token!==_0x5dde4f(0x183)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5b9f44){console[_0x5dde4f(0x75e)]('Authentication\x20failed:',_0x5b9f44),showMessage(_0x5dde4f(0x572));}}function showView(_0x4266c7){const _0x29c094=_0x1b93ee;adminView[_0x29c094(0x43c)]['add']('hidden'),studentView['classList']['add'](_0x29c094(0xa21)),projectDashboardView[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21)),projectDetailView[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21)),quizResultsView['classList'][_0x29c094(0x128)](_0x29c094(0xa21)),liveGameView[_0x29c094(0x43c)][_0x29c094(0x128)]('hidden'),document[_0x29c094(0x693)](_0x29c094(0xbe5))['classList'][_0x29c094(0x128)](_0x29c094(0xa21)),studentInitialView[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21)),studentJoinGameView[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21)),studentNameSelectionView[_0x29c094(0x43c)]['add'](_0x29c094(0xa21)),studentQuizArea['classList']['add'](_0x29c094(0xa21)),studentResultArea[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21)),studentReadingArea[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21));const _0x5cb131=document[_0x29c094(0x693)](_0x29c094(0x8c9)),_0x4040cc=document[_0x29c094(0x693)]('student-progress-view');if(_0x5cb131)_0x5cb131[_0x29c094(0x43c)][_0x29c094(0x128)](_0x29c094(0xa21));if(_0x4040cc)_0x4040cc['classList'][_0x29c094(0x128)]('hidden');switch(_0x4266c7){case'admin-dashboard':adminView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21)),projectDashboardView[_0x29c094(0x43c)]['remove']('hidden');break;case _0x29c094(0x66a):adminView['classList'][_0x29c094(0x200)](_0x29c094(0xa21)),projectDetailView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));break;case _0x29c094(0xa07):adminView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21)),quizResultsView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));break;case _0x29c094(0x5ed):studentView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21)),studentInitialView['classList']['remove'](_0x29c094(0xa21));break;case'live-game':liveGameView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));break;case'student-team-join':studentView[_0x29c094(0x43c)][_0x29c094(0x200)]('hidden');if(_0x5cb131)_0x5cb131[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));break;case _0x29c094(0x7cd):studentView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));if(_0x4040cc)_0x4040cc['classList'][_0x29c094(0x200)](_0x29c094(0xa21));break;default:studentView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21)),studentInitialView[_0x29c094(0x43c)][_0x29c094(0x200)](_0x29c094(0xa21));break;}}function showJoinGameView(){const _0x574c08=_0x1b93ee;studentInitialView[_0x574c08(0x43c)][_0x574c08(0x128)](_0x574c08(0xa21)),studentJoinGameView[_0x574c08(0x43c)][_0x574c08(0x200)](_0x574c08(0xa21));}async function handleSaveVisibilitySettings(){const _0x23c254=_0x1b93ee;if(!currentProjectId)return;const _0x173464=doc(db,_0x23c254(0xe45)+appId+_0x23c254(0xb89),currentProjectId);try{await updateDoc(_0x173464,{'settings.showInStudentDashboard':document['getElementById'](_0x23c254(0x9da))['checked'],'settings.isPasscodeEnabled':document[_0x23c254(0x693)]('enable-passcode-checkbox')['checked'],'settings.passcode':document['getElementById'](_0x23c254(0x2d6))[_0x23c254(0xc5c)][_0x23c254(0xb6d)]()}),showMessage(_0x23c254(0x7db));}catch(_0x5ed6ab){console['error'](_0x23c254(0x82c),_0x5ed6ab),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x4ccbae=_0x1b93ee,_0x51efbf=document[_0x4ccbae(0x693)](_0x4ccbae(0x783)),_0x14788b=document['getElementById'](_0x4ccbae(0xc00));_0x51efbf&&_0x14788b&&(_0x14788b[_0x4ccbae(0x5e0)]('click',()=>_0x51efbf[_0x4ccbae(0x2df)]()),_0x51efbf[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x207de0=>{const _0x351f14=_0x4ccbae;_0x207de0[_0x351f14(0x588)][_0x351f14(0xf6)][_0x351f14(0x357)]>0x0&&handleScanImageForText(_0x207de0[_0x351f14(0x588)]['files'][0x0]);}));const _0x17b1c0=document['getElementById']('wager-all-in-btn');_0x17b1c0&&_0x17b1c0['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x16bbbb=_0x4ccbae,_0x1a22d7=document[_0x16bbbb(0x693)](_0x16bbbb(0x3e8)),_0xe39503=document[_0x16bbbb(0x693)](_0x16bbbb(0x87e));_0x1a22d7&&(_0x1a22d7[_0x16bbbb(0xc5c)]=_0x1a22d7[_0x16bbbb(0x417)],_0xe39503&&(_0xe39503[_0x16bbbb(0xc08)]=_0x1a22d7[_0x16bbbb(0xc5c)],_0xe39503[_0x16bbbb(0x43c)][_0x16bbbb(0x200)](_0x16bbbb(0x131)),void _0xe39503[_0x16bbbb(0xd05)],_0xe39503['classList']['add'](_0x16bbbb(0x751),'transition-transform',_0x16bbbb(0x131),_0x16bbbb(0x86c)),setTimeout(()=>_0xe39503['classList']['remove'](_0x16bbbb(0x131),_0x16bbbb(0x86c)),0xc8)));});document['getElementById'](_0x4ccbae(0xb5a))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x4ee33a=_0x4ccbae;document[_0x4ee33a(0x693)]('wager-modal')[_0x4ee33a(0x43c)][_0x4ee33a(0x128)](_0x4ee33a(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x96f))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x49fb55=_0x4ccbae,_0x82987b=document[_0x49fb55(0x693)](_0x49fb55(0x234)),_0x35632d=document[_0x49fb55(0x693)](_0x49fb55(0xda9)),_0x47734d=document['getElementById'](_0x49fb55(0x3e8))[_0x49fb55(0xc5c)],_0x5afc16=_0x35632d[_0x49fb55(0x43d)][_0x49fb55(0xd63)],_0x4abf40=JSON['parse'](_0x35632d[_0x49fb55(0x43d)][_0x49fb55(0x776)]),_0x28afbb=JSON[_0x49fb55(0xd84)](_0x35632d[_0x49fb55(0x43d)][_0x49fb55(0x2c7)]),_0x15a0f8=_0x35632d['dataset'][_0x49fb55(0xa88)];_0x82987b[_0x49fb55(0x43c)][_0x49fb55(0x128)](_0x49fb55(0xa21)),handleSyncAnswerSubmit(_0x5afc16,_0x4abf40,_0x28afbb,_0x15a0f8,![],_0x47734d);}),document[_0x4ccbae(0xe56)](_0x4ccbae(0x238))[_0x4ccbae(0x242)](_0x1f3c3b=>{const _0x3b35ac=_0x4ccbae;_0x1f3c3b[_0x3b35ac(0x5e0)](_0x3b35ac(0xe52),_0x4ae0cb=>{const _0x33c513=_0x3b35ac,_0x545320=document['getElementById'](_0x33c513(0xc34));_0x4ae0cb[_0x33c513(0x588)]['value']==='anonymous'?_0x545320[_0x33c513(0x43c)][_0x33c513(0x200)](_0x33c513(0xa21)):_0x545320['classList'][_0x33c513(0x128)](_0x33c513(0xa21));});}),document['getElementById'](_0x4ccbae(0xc60))[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x4d1470=>{const _0x5ca68e=_0x4ccbae;document['getElementById'](_0x5ca68e(0x451))[_0x5ca68e(0x43c)]['toggle'](_0x5ca68e(0xa21),!_0x4d1470[_0x5ca68e(0x588)][_0x5ca68e(0xb48)]);});const _0x3727fc=document['getElementById'](_0x4ccbae(0x8de)),_0xb2f05=document[_0x4ccbae(0x693)](_0x4ccbae(0x5d5));_0x3727fc&&_0xb2f05&&_0x3727fc[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x1d09c6=_0x4ccbae;_0xb2f05[_0x1d09c6(0x43c)][_0x1d09c6(0x128)](_0x1d09c6(0xa21)),_0xb2f05[_0x1d09c6(0x43d)][_0x1d09c6(0x897)]='';});const _0x294a13=document[_0x4ccbae(0x693)](_0x4ccbae(0x5dd));_0x294a13&&(_0x294a13[_0x4ccbae(0x5e0)](_0x4ccbae(0x5ef),wakeUpScreen),_0x294a13[_0x4ccbae(0x5e0)]('touchstart',wakeUpScreen));document['getElementById'](_0x4ccbae(0xbf2))[_0x4ccbae(0x5e0)]('click',async()=>{const _0xeb899d=_0x4ccbae;if(!currentBlueprintProjectId)return;const _0x2c4164=document[_0xeb899d(0x693)](_0xeb899d(0x51c))[_0xeb899d(0xc5c)]['trim'](),_0x2ad6d8=doc(db,_0xeb899d(0xe45)+appId+_0xeb899d(0xe5a),currentBlueprintProjectId);try{await updateDoc(_0x2ad6d8,{'referenceFileUrl':_0x2c4164}),showMessage(_0xeb899d(0x606));}catch(_0x2eae96){console[_0xeb899d(0x75e)](_0xeb899d(0xad2),_0x2eae96),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xe2b))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAddParallelShortcutTab),document[_0x4ccbae(0x693)](_0x4ccbae(0xcf9))[_0x4ccbae(0x5e0)]('click',_0xe2dc32=>{const _0x2c6fe2=_0x4ccbae;_0xe2dc32[_0x2c6fe2(0x588)]['closest'](_0x2c6fe2(0xd7f))&&(activeParallelShortcutTabId=_0x2c6fe2(0x10a),renderAdditionalParallelShortcutsModal(),document[_0x2c6fe2(0x693)]('additional-parallel-shortcuts-modal')[_0x2c6fe2(0x43c)][_0x2c6fe2(0x200)](_0x2c6fe2(0xa21)));}),document['getElementById'](_0x4ccbae(0x5fc))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x1ff954=_0x4ccbae;document[_0x1ff954(0x693)](_0x1ff954(0x4f7))[_0x1ff954(0x43c)]['add'](_0x1ff954(0xa21));}),document[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x5b6f8e=>{const _0xa8ef0f=_0x4ccbae;!_0x5b6f8e[_0xa8ef0f(0x588)][_0xa8ef0f(0xe11)](_0xa8ef0f(0xbc4))&&document['querySelectorAll']('.move-parallel-shortcut-dropdown')[_0xa8ef0f(0x242)](_0x14c977=>_0x14c977[_0xa8ef0f(0x43c)]['add'](_0xa8ef0f(0xa21)));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x8b8))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAddFileShortcutTab),document[_0x4ccbae(0x693)](_0x4ccbae(0xb61))['addEventListener'](_0x4ccbae(0x2df),_0x310289=>{const _0x1a7cee=_0x4ccbae;_0x310289[_0x1a7cee(0x588)]['closest'](_0x1a7cee(0x7b4))&&(activeFileShortcutTabId=_0x1a7cee(0x10a),renderAdditionalFileShortcutsModal(),document[_0x1a7cee(0x693)](_0x1a7cee(0x5ab))[_0x1a7cee(0x43c)][_0x1a7cee(0x200)]('hidden'));}),document['getElementById'](_0x4ccbae(0x5c4))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x2d7c4e=_0x4ccbae;document[_0x2d7c4e(0x693)](_0x2d7c4e(0x5ab))[_0x2d7c4e(0x43c)][_0x2d7c4e(0x128)](_0x2d7c4e(0xa21));}),document[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x4c902e=>{const _0x4a5b2f=_0x4ccbae;!_0x4c902e[_0x4a5b2f(0x588)][_0x4a5b2f(0xe11)](_0x4a5b2f(0xdb1))&&document[_0x4a5b2f(0xe56)](_0x4a5b2f(0x855))['forEach'](_0x3256ab=>_0x3256ab['classList'][_0x4a5b2f(0x128)](_0x4a5b2f(0xa21)));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xbb4))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAddShortcutTab),document[_0x4ccbae(0x693)](_0x4ccbae(0x59e))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x334c2b=>{const _0x215b48=_0x4ccbae,_0x38c164=_0x334c2b[_0x215b48(0x588)][_0x215b48(0xe11)]('.parallel-shortcut-btn'),_0x3f6a84=_0x334c2b[_0x215b48(0x588)][_0x215b48(0xe11)](_0x215b48(0xb27)),_0x2fab25=_0x334c2b[_0x215b48(0x588)][_0x215b48(0xe11)](_0x215b48(0xc5e));if(_0x3f6a84)openParallelTestShortcutEditor(_0x3f6a84[_0x215b48(0x43d)]['id']);else{if(_0x2fab25){const _0x272a26=_0x2fab25[_0x215b48(0x43d)]['id'];showConfirmation(_0x215b48(0x8ec),async()=>{const _0x5ec032=_0x215b48,_0x4830cd=parallelTestShortcuts[_0x5ec032(0x107)](_0xcd2a18=>_0xcd2a18['id']!==_0x272a26),_0x5cbe9f=doc(db,'globalSettings',_0x5ec032(0x919));await setDoc(_0x5cbe9f,{'shortcuts':_0x4830cd},{'merge':!![]});});}else _0x38c164&&handleParallelTestShortcutClick(_0x38c164['dataset']['id']);}}),document['getElementById'](_0x4ccbae(0xe13))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>openParallelTestShortcutEditor(null)),document['getElementById']('cancel-parallel-shortcut-edit-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x5daa3c=_0x4ccbae;document[_0x5daa3c(0x693)](_0x5daa3c(0xe71))[_0x5daa3c(0x43c)][_0x5daa3c(0x128)](_0x5daa3c(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xca1))[_0x4ccbae(0x5e0)]('click',saveParallelTestShortcutChanges),document[_0x4ccbae(0x693)](_0x4ccbae(0xcf9))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x49f81b=>{const _0x166111=_0x4ccbae;_0x49f81b[_0x166111(0x588)][_0x166111(0xe11)]('#open-additional-parallel-shortcuts-btn')&&document[_0x166111(0x693)](_0x166111(0x4f7))[_0x166111(0x43c)][_0x166111(0x200)](_0x166111(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x5fc))[_0x4ccbae(0x5e0)]('click',()=>{const _0x159ab8=_0x4ccbae;document[_0x159ab8(0x693)](_0x159ab8(0x4f7))[_0x159ab8(0x43c)][_0x159ab8(0x128)]('hidden');}),document['getElementById'](_0x4ccbae(0xdeb))['addEventListener'](_0x4ccbae(0x2df),_0x115907=>{const _0x1a944c=_0x4ccbae,_0x12b839=document['getElementById']('additional-parallel-shortcuts-modal'),_0x4af857=_0x115907[_0x1a944c(0x588)][_0x1a944c(0xe11)](_0x1a944c(0x96a)),_0x5ab392=_0x115907[_0x1a944c(0x588)][_0x1a944c(0xe11)](_0x1a944c(0xc68)),_0x2effd6=_0x115907[_0x1a944c(0x588)][_0x1a944c(0xe11)](_0x1a944c(0x8c0));if(_0x4af857)_0x12b839[_0x1a944c(0x43c)]['add'](_0x1a944c(0xa21)),handleParallelTestShortcutClick(_0x4af857[_0x1a944c(0x43d)]['id']);else{if(_0x5ab392)_0x12b839[_0x1a944c(0x43c)][_0x1a944c(0x128)](_0x1a944c(0xa21)),openParallelTestShortcutEditor(_0x5ab392['dataset']['id']);else{if(_0x2effd6){const _0x1dabff=_0x2effd6[_0x1a944c(0x43d)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x480858=_0x1a944c,_0x5ee9fc=parallelTestShortcuts['filter'](_0x2fdd74=>_0x2fdd74['id']!==_0x1dabff),_0x51742a=doc(db,'globalSettings',_0x480858(0x919));await setDoc(_0x51742a,{'shortcuts':_0x5ee9fc},{'merge':!![]});});}}}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x9c5))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x567913=>{const _0x56d542=_0x4ccbae,_0x412a63=_0x567913[_0x56d542(0x588)][_0x56d542(0xe11)](_0x56d542(0x845)),_0x18c66d=_0x567913[_0x56d542(0x588)][_0x56d542(0xe11)](_0x56d542(0xe05)),_0x18d2c8=_0x567913[_0x56d542(0x588)][_0x56d542(0xe11)](_0x56d542(0x956));if(_0x18c66d)openFileShortcutEditor(_0x18c66d['dataset']['id']);else{if(_0x18d2c8){const _0x5ee57e=_0x18d2c8[_0x56d542(0x43d)]['id'];showConfirmation(_0x56d542(0x8ec),async()=>{const _0x4490de=_0x56d542,_0x18ff53=fileShortcuts['filter'](_0x699e35=>_0x699e35['id']!==_0x5ee57e),_0x2fce12=doc(db,_0x4490de(0xe34),'fileShortcutsConfig');await setDoc(_0x2fce12,{'shortcuts':_0x18ff53},{'merge':!![]});});}else _0x412a63&&handleFileShortcutClick(_0x412a63['dataset']['id']);}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xb2c))['addEventListener'](_0x4ccbae(0x2df),()=>openFileShortcutEditor(null)),document[_0x4ccbae(0x693)](_0x4ccbae(0x558))[_0x4ccbae(0x5e0)]('click',()=>{const _0x2afaad=_0x4ccbae;document['getElementById'](_0x2afaad(0x8bc))[_0x2afaad(0x43c)]['add'](_0x2afaad(0xa21));}),document['getElementById'](_0x4ccbae(0x923))['addEventListener'](_0x4ccbae(0x2df),saveFileShortcutChanges),document[_0x4ccbae(0x693)]('file-input-area')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x490033=>{const _0x3787d1=_0x4ccbae;_0x490033[_0x3787d1(0x588)][_0x3787d1(0xe11)](_0x3787d1(0x7b4))&&document[_0x3787d1(0x693)](_0x3787d1(0x5ab))[_0x3787d1(0x43c)][_0x3787d1(0x200)](_0x3787d1(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x5c4))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x3dc36c=_0x4ccbae;document[_0x3dc36c(0x693)]('additional-file-shortcuts-modal')[_0x3dc36c(0x43c)][_0x3dc36c(0x128)](_0x3dc36c(0xa21));}),document[_0x4ccbae(0x693)]('additional-file-shortcuts-list')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x15c7e7=>{const _0x81f124=_0x4ccbae,_0x5ed8ec=document[_0x81f124(0x693)]('additional-file-shortcuts-modal'),_0x30679f=_0x15c7e7[_0x81f124(0x588)]['closest'](_0x81f124(0x54b)),_0x4acdcd=_0x15c7e7['target']['closest'](_0x81f124(0x714)),_0x3c5b8a=_0x15c7e7['target'][_0x81f124(0xe11)](_0x81f124(0x933));if(_0x30679f)_0x5ed8ec['classList'][_0x81f124(0x128)](_0x81f124(0xa21)),handleFileShortcutClick(_0x30679f[_0x81f124(0x43d)]['id']);else{if(_0x4acdcd)_0x5ed8ec[_0x81f124(0x43c)][_0x81f124(0x128)](_0x81f124(0xa21)),openFileShortcutEditor(_0x4acdcd['dataset']['id']);else{if(_0x3c5b8a){const _0x2b832b=_0x3c5b8a['dataset']['id'];showConfirmation(_0x81f124(0x8ec),async()=>{const _0x1f66a3=_0x81f124,_0x5a0416=fileShortcuts[_0x1f66a3(0x107)](_0x1d1b6b=>_0x1d1b6b['id']!==_0x2b832b),_0x2e0063=doc(db,_0x1f66a3(0xe34),'fileShortcutsConfig');await setDoc(_0x2e0063,{'shortcuts':_0x5a0416},{'merge':!![]});});}}}}),document['getElementById'](_0x4ccbae(0x904))[_0x4ccbae(0x5e0)]('click',_0x2853b7=>{const _0x155401=_0x4ccbae;_0x2853b7['target'][_0x155401(0xe11)](_0x155401(0x3f4))&&(activeShortcutTabId=_0x155401(0x10a),renderAdditionalShortcutsModal(),document[_0x155401(0x693)]('additional-shortcuts-modal')[_0x155401(0x43c)][_0x155401(0x200)](_0x155401(0xa21)));}),document[_0x4ccbae(0x693)]('close-additional-shortcuts-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x732563=_0x4ccbae;document['getElementById']('additional-shortcuts-modal')[_0x732563(0x43c)][_0x732563(0x128)](_0x732563(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x987))['addEventListener']('click',_0x2fea09=>{const _0x1b9f05=_0x4ccbae,_0x2119c4=_0x2fea09['target'][_0x1b9f05(0xe11)](_0x1b9f05(0xa6a)),_0x487324=_0x2fea09[_0x1b9f05(0x588)][_0x1b9f05(0xe11)](_0x1b9f05(0x351)),_0x16c641=_0x2fea09[_0x1b9f05(0x588)][_0x1b9f05(0xe11)](_0x1b9f05(0xcdc)),_0x29ba63=document['getElementById'](_0x1b9f05(0x2b2));if(_0x2119c4)_0x29ba63['classList']['add'](_0x1b9f05(0xa21)),handleShortcutClick(_0x2119c4[_0x1b9f05(0x43d)]['id']);else{if(_0x487324)_0x29ba63[_0x1b9f05(0x43c)]['add'](_0x1b9f05(0xa21)),openShortcutEditor(_0x487324[_0x1b9f05(0x43d)]['id']);else{if(_0x16c641){const _0x40150a=_0x16c641[_0x1b9f05(0x43d)]['id'],_0xdfc840=blueprintShortcuts[_0x1b9f05(0xe69)](_0x3be01e=>_0x3be01e['id']===_0x40150a)?.[_0x1b9f05(0x41d)];showConfirmation(_0x1b9f05(0x804)+_0xdfc840+'\x22?',async()=>{const _0x379ac8=_0x1b9f05,_0x5ef3f0=blueprintShortcuts[_0x379ac8(0x107)](_0x530c84=>_0x530c84['id']!==_0x40150a);try{const _0x1ef135=doc(db,_0x379ac8(0xe34),_0x379ac8(0x8b2));await setDoc(_0x1ef135,{'blueprintShortcuts':_0x5ef3f0},{'merge':!![]});}catch(_0x59a232){console[_0x379ac8(0x75e)](_0x379ac8(0xc4a),_0x59a232);}});}}}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x543))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x434d1a=>{const _0xcb8f24=_0x4ccbae,_0x3d101e=_0x434d1a[_0xcb8f24(0x588)][_0xcb8f24(0xe11)](_0xcb8f24(0x12c)),_0xb2adf7=_0x434d1a[_0xcb8f24(0x588)][_0xcb8f24(0xe11)](_0xcb8f24(0xaca)),_0x807cc4=_0x434d1a[_0xcb8f24(0x588)][_0xcb8f24(0xe11)]('.delete-shortcut-btn');if(_0xb2adf7)openShortcutEditor(_0xb2adf7[_0xcb8f24(0x43d)]['id']);else{if(_0x807cc4){const _0x1649bf=_0x807cc4[_0xcb8f24(0x43d)]['id'],_0x92f69a=blueprintShortcuts['find'](_0x25f73d=>_0x25f73d['id']===_0x1649bf)?.['name'];showConfirmation(_0xcb8f24(0x804)+_0x92f69a+'\x22?',async()=>{const _0x5603f8=_0xcb8f24,_0x181f9e=blueprintShortcuts['filter'](_0x2aab06=>_0x2aab06['id']!==_0x1649bf);try{const _0x31094b=doc(db,_0x5603f8(0xe34),'dashboardConfig');await setDoc(_0x31094b,{'blueprintShortcuts':_0x181f9e},{'merge':!![]});}catch(_0x57e5db){console['error'](_0x5603f8(0xc4a),_0x57e5db);}});}else _0x3d101e&&handleShortcutClick(_0x3d101e['dataset']['id']);}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x122))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>openShortcutEditor(null)),document[_0x4ccbae(0x693)](_0x4ccbae(0xc8b))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x52eaeb=_0x4ccbae;document[_0x52eaeb(0x693)](_0x52eaeb(0x6d7))[_0x52eaeb(0x43c)][_0x52eaeb(0x128)]('hidden');}),document['getElementById']('save-shortcut-btn')[_0x4ccbae(0x5e0)]('click',saveShortcutChanges),document[_0x4ccbae(0x693)](_0x4ccbae(0x579))[_0x4ccbae(0x5e0)]('click',async()=>{const _0x2d084c=_0x4ccbae,_0x34f157=document[_0x2d084c(0x693)](_0x2d084c(0x8e8)),_0x48f1f1=document[_0x2d084c(0x693)]('reference-pdf-upload');_0x34f157[_0x2d084c(0xf6)][_0x2d084c(0x357)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x34f157['files'][0x0],_0x48f1f1[_0x2d084c(0xf6)][0x0]||null):showMessage(_0x2d084c(0x1a3));}),document[_0x4ccbae(0x693)]('topic-quiz-bank-modal')[_0x4ccbae(0x5e0)]('click',async _0x1dd6b6=>{const _0x5c5724=_0x4ccbae,_0x2f2cb7=document[_0x5c5724(0x693)](_0x5c5724(0xd95)),_0x58e71d=_0x1dd6b6[_0x5c5724(0x588)][_0x5c5724(0xe11)]('.bp-view-analysis-btn'),_0x2db898=_0x1dd6b6['target']['closest'](_0x5c5724(0x5e5)),_0x427bdc=_0x1dd6b6['target'][_0x5c5724(0xe11)](_0x5c5724(0xab0)),_0x1152f0=_0x1dd6b6['target']['closest'](_0x5c5724(0x95d)),_0x1c29db=_0x1dd6b6['target'][_0x5c5724(0xe11)](_0x5c5724(0x8e1)),_0x42f8fd=_0x1dd6b6[_0x5c5724(0x588)]['closest'](_0x5c5724(0xe82));if(_0x58e71d){cameFromBlueprint=!![];const _0x38d1f8=_0x58e71d[_0x5c5724(0x43d)]['quizId'];showQuizDetailView(_0x38d1f8),_0x2f2cb7[_0x5c5724(0x43c)][_0x5c5724(0x128)](_0x5c5724(0xa21));}else{if(_0x2db898){const _0x788080=_0x2db898[_0x5c5724(0x43d)][_0x5c5724(0xc1b)],_0x38d2c8=_0x2db898[_0x5c5724(0x43d)][_0x5c5724(0xbcc)],_0x3cddcf=allQuizzesGlobal[_0x5c5724(0xe69)](_0xe68485=>_0xe68485['id']===_0x38d2c8),_0x471219=_0x3cddcf?_0x3cddcf[_0x5c5724(0x669)]:_0x5c5724(0x4f2);showConfirmation(_0x5c5724(0x62d)+_0x471219+_0x5c5724(0x8fb),async()=>{const _0x1d7d71=_0x5c5724;try{const _0x994ed3=doc(db,_0x1d7d71(0xe45)+appId+_0x1d7d71(0xe5a),currentBlueprintProjectId);await updateDoc(_0x994ed3,{['topics.'+_0x788080+_0x1d7d71(0x2d8)]:arrayRemove(_0x38d2c8)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x788080),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32b1e1){console[_0x1d7d71(0x75e)]('Error\x20unlinking\x20quiz:',_0x32b1e1),showMessage(_0x1d7d71(0xdfd));}});}else{if(_0x427bdc){cameFromBlueprint=!![];const _0x4ade02=_0x427bdc[_0x5c5724(0x43d)][_0x5c5724(0xbcc)],_0x93aafd=allQuizzesGlobal['find'](_0x5735fa=>_0x5735fa['id']===_0x4ade02);_0x93aafd&&(startPresentation(_0x93aafd),_0x2f2cb7[_0x5c5724(0x43c)][_0x5c5724(0x128)](_0x5c5724(0xa21)));}else{if(_0x1152f0){cameFromBlueprint=!![];const _0x59e790=_0x1152f0[_0x5c5724(0x43d)][_0x5c5724(0xbcc)],_0x5d0164=allQuizzesGlobal[_0x5c5724(0xe69)](_0xcb79d1=>_0xcb79d1['id']===_0x59e790);_0x5d0164&&(currentQuizData=_0x5d0164,startAdminTest(),_0x2f2cb7['classList'][_0x5c5724(0x128)](_0x5c5724(0xa21)));}else{if(_0x1c29db)cameFromBlueprint=!![],handleStartLiveRace(_0x1c29db[_0x5c5724(0x43d)]['quizId']),_0x2f2cb7[_0x5c5724(0x43c)][_0x5c5724(0x128)]('hidden');else{if(_0x42f8fd){cameFromBlueprint=!![];const _0x4e57fe=_0x42f8fd[_0x5c5724(0x43d)][_0x5c5724(0xbcc)],_0x356bbf=_0x42f8fd['dataset'][_0x5c5724(0x444)],_0x361933=allQuizzesGlobal[_0x5c5724(0xe69)](_0x21fd26=>_0x21fd26['id']===_0x4e57fe);_0x361933&&(showGameStartConfirmationModal(_0x4e57fe,_0x356bbf,_0x361933[_0x5c5724(0x669)]),_0x2f2cb7[_0x5c5724(0x43c)]['add'](_0x5c5724(0xa21)));}}}}}}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x318))['addEventListener']('click',()=>{const _0x2c253b=_0x4ccbae;document['getElementById'](_0x2c253b(0x415))[_0x2c253b(0x43c)][_0x2c253b(0x200)]('hidden'),document['getElementById'](_0x2c253b(0x734))[_0x2c253b(0xc5c)]='',document['getElementById'](_0x2c253b(0x80f))[_0x2c253b(0xc5c)]='',document[_0x2c253b(0x693)]('manual-bp-content')[_0x2c253b(0xc5c)]='';}),document[_0x4ccbae(0x693)](_0x4ccbae(0xd3b))[_0x4ccbae(0x5e0)]('click',()=>{const _0x2d7c69=_0x4ccbae;document[_0x2d7c69(0x693)](_0x2d7c69(0x415))['classList'][_0x2d7c69(0x128)](_0x2d7c69(0xa21));}),document['getElementById'](_0x4ccbae(0x7d6))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleManualBlueprintSave),document['getElementById']('cancel-bp-settings-btn')['addEventListener']('click',()=>document[_0x4ccbae(0x693)]('blueprint-settings-modal')[_0x4ccbae(0x43c)]['add'](_0x4ccbae(0xa21))),document[_0x4ccbae(0x693)](_0x4ccbae(0x59b))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleSaveBlueprintPageSettings),document[_0x4ccbae(0x693)](_0x4ccbae(0x746))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),openBlueprintQuizSettings),document[_0x4ccbae(0x693)](_0x4ccbae(0x547))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),saveBlueprintProject),document['getElementById'](_0x4ccbae(0xd18))[_0x4ccbae(0x5e0)]('click',showBlueprintProjects),document['getElementById'](_0x4ccbae(0xa89))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x454f7d=_0x4ccbae;document[_0x454f7d(0x693)](_0x454f7d(0x479))[_0x454f7d(0x43c)][_0x454f7d(0x128)](_0x454f7d(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x33a))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x895bfe=>{const _0xcb1a6a=_0x4ccbae,_0x28449a=_0x895bfe[_0xcb1a6a(0x588)]['closest'](_0xcb1a6a(0x15e)),_0x35fddf=_0x895bfe['target'][_0xcb1a6a(0xe11)](_0xcb1a6a(0xe50));if(_0x28449a)displayBlueprintProjectManager(_0x28449a[_0xcb1a6a(0x43d)]['id']);else _0x35fddf&&handleDeepDeleteBlueprintProject(_0x35fddf['dataset']['id']);}),document[_0x4ccbae(0x693)](_0x4ccbae(0x942))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x47f75c=_0x4ccbae;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x47f75c(0xbe5))[_0x47f75c(0x43c)][_0x47f75c(0x128)]('hidden'),showView(_0x47f75c(0x393));}),document[_0x4ccbae(0x693)]('bp-add-topic-btn')[_0x4ccbae(0x5e0)]('click',addTopicToProject),document[_0x4ccbae(0x693)](_0x4ccbae(0x275))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),async _0x27f2cf=>{const _0x569bbd=_0x4ccbae,_0x282fd2=_0x27f2cf['target'][_0x569bbd(0xe11)](_0x569bbd(0x961));if(!_0x282fd2)return;const _0x1b438=_0x282fd2[_0x569bbd(0x43d)][_0x569bbd(0xc1b)],_0x7d6766=_0x27f2cf['target']['closest'](_0x569bbd(0x292)),_0x5f3f01=_0x27f2cf['target'][_0x569bbd(0xe11)]('.bp-create-content-quiz-btn'),_0x1ff4a6=_0x27f2cf[_0x569bbd(0x588)]['closest'](_0x569bbd(0x2e5)),_0x6c13fa=_0x27f2cf[_0x569bbd(0x588)]['closest'](_0x569bbd(0x98f)),_0x5bdd62=_0x27f2cf[_0x569bbd(0x588)]['closest'](_0x569bbd(0x98e)),_0x140f5c=_0x27f2cf[_0x569bbd(0x588)][_0x569bbd(0xe11)]('.bp-generate-lesson-btn'),_0x1bc2b3=_0x27f2cf[_0x569bbd(0x588)][_0x569bbd(0xe11)](_0x569bbd(0x602)),_0x230a0b=_0x27f2cf[_0x569bbd(0x588)][_0x569bbd(0xe11)](_0x569bbd(0x8ab)),_0x1decab=_0x48f502=>{const _0x2d9261=_0x569bbd,_0x1db205=_0x48f502[_0x2d9261(0xbc1)](_0x2d9261(0x3b3))[_0x2d9261(0xc08)][_0x2d9261(0xb6d)](),_0x26aba7=_0x48f502['closest'](_0x2d9261(0x5ee))[_0x2d9261(0x314)],_0x2f07f1=_0x26aba7?_0x26aba7['textContent'][_0x2d9261(0xb6d)]():'';return _0x2f07f1+':\x20'+_0x1db205;};if(_0x6c13fa)openTopicQuizBank(_0x1b438);else{if(_0x7d6766){const _0x10a4c3=_0x1decab(_0x282fd2);selectProjectAndGenerateBlueprintQuiz(_0x10a4c3,null,_0x1b438,!![]);}else{if(_0x5f3f01){const _0x4db04b=_0x1decab(_0x282fd2);try{const _0x446ff3=doc(db,'artifacts/'+appId+_0x569bbd(0x2ff)+currentBlueprintProjectId+_0x569bbd(0xdc8),_0x1b438),_0x50990f=await getDoc(_0x446ff3);if(_0x50990f[_0x569bbd(0x5a9)]()){const _0x1f21ef=_0x50990f[_0x569bbd(0x7d4)]()[_0x569bbd(0xc41)],_0x109c25=document[_0x569bbd(0x1a7)](_0x569bbd(0x748)),_0x3b5286=_0x5aad91=>{const _0xd2d3ae=_0x569bbd;if(!_0x5aad91)return'';return _0x109c25[_0xd2d3ae(0xc8c)]=_0x5aad91,_0x109c25[_0xd2d3ae(0xc08)]||_0x109c25[_0xd2d3ae(0x79a)]||'';},_0x1ecd0a=(_0x3b5286(_0x1f21ef[_0x569bbd(0x9a9)])+'\x20'+_0x3b5286(_0x1f21ef[_0x569bbd(0xf0)])+'\x20'+_0x3b5286(_0x1f21ef['summary']))[_0x569bbd(0xb6d)]();selectProjectAndGenerateBlueprintQuiz(_0x4db04b,_0x1ecd0a,_0x1b438,![]);}else showMessage(_0x569bbd(0x97b));}catch(_0x59d85f){console['error'](_0x569bbd(0x765),_0x59d85f),showMessage(_0x569bbd(0x9c1));}}else{if(_0x1ff4a6){const _0x276f10=_0x1decab(_0x282fd2);selectProjectAndGenerateBlueprintQuiz(_0x276f10,null,_0x1b438,![]);}else{if(_0x5bdd62){const _0x447fe0=doc(db,_0x569bbd(0xe45)+appId+_0x569bbd(0xe5a),currentBlueprintProjectId),_0x190db4=await getDoc(_0x447fe0);if(_0x190db4[_0x569bbd(0x5a9)]()){const _0x4b6549=_0x190db4[_0x569bbd(0x7d4)](),_0x1522b2=_0x4b6549['topics'][_0x1b438];if(_0x1522b2&&_0x1522b2['status']==='generated')try{const _0x128eda=doc(db,_0x569bbd(0xe45)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x1b438),_0x1f3161=await getDoc(_0x128eda);if(_0x1f3161[_0x569bbd(0x5a9)]()){const _0x2d9d3a=_0x1f3161['data']()['content'];document['getElementById'](_0x569bbd(0xbee))[_0x569bbd(0xc08)]=_0x569bbd(0x2e6)+_0x1decab(_0x282fd2),document[_0x569bbd(0x693)](_0x569bbd(0x365))[_0x569bbd(0xc8c)]=_0x2d9d3a['point'],document[_0x569bbd(0x693)](_0x569bbd(0x977))[_0x569bbd(0xc8c)]=_0x2d9d3a[_0x569bbd(0xf0)],document[_0x569bbd(0x693)]('summaryContent')[_0x569bbd(0xc8c)]=_0x2d9d3a['summary'];const _0x259e0b=document['getElementById'](_0x569bbd(0x9e3));_0x2d9d3a[_0x569bbd(0x664)]?(currentApplicationData=_0x2d9d3a[_0x569bbd(0x664)],_0x259e0b['innerHTML']=currentApplicationData[_0x569bbd(0x926)]((_0x290f0c,_0x345ba4)=>_0x569bbd(0xd19)+(_0x345ba4+0x1)+'.\x20'+marked[_0x569bbd(0x3e2)](_0x290f0c[_0x569bbd(0x776)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x345ba4+_0x569bbd(0x47b)+_0x290f0c[_0x569bbd(0x2da)]['map']((_0x237b89,_0x5b6603)=>_0x569bbd(0xadc)+_0x345ba4+',\x20'+_0x5b6603+')\x22>'+String[_0x569bbd(0x1de)](0x61+_0x5b6603)+'.\x20'+marked['parseInline'](_0x237b89)+_0x569bbd(0x4f3))['join']('')+_0x569bbd(0xbd4))[_0x569bbd(0xd7b)]('')):(currentApplicationData=[],_0x259e0b['innerHTML']=_0x2d9d3a[_0x569bbd(0x747)]||_0x2d9d3a['application']),document[_0x569bbd(0x693)](_0x569bbd(0x5c8))[_0x569bbd(0x43c)][_0x569bbd(0x128)](_0x569bbd(0xa21)),document[_0x569bbd(0x693)](_0x569bbd(0x4b1))['classList'][_0x569bbd(0x200)]('hidden'),document[_0x569bbd(0x693)](_0x569bbd(0xb56))[_0x569bbd(0x43c)][_0x569bbd(0x200)](_0x569bbd(0xa21)),window[_0x569bbd(0xad6)]&&MathJax[_0x569bbd(0x840)]([document[_0x569bbd(0x693)](_0x569bbd(0x712))]);}else showMessage(_0x569bbd(0x3a1));}catch(_0x1eb9cd){console[_0x569bbd(0x75e)](_0x569bbd(0x894),_0x1eb9cd),showMessage(_0x569bbd(0xdae));}else showMessage(_0x569bbd(0xdc4));}}else{if(_0x140f5c){const _0x43c98d=_0x1decab(_0x282fd2),_0x136b93=doc(db,'artifacts/'+appId+_0x569bbd(0xe5a),currentBlueprintProjectId),_0x1e0ce5=await getDoc(_0x136b93);if(_0x1e0ce5[_0x569bbd(0x5a9)]()){const _0x4c7996=_0x1e0ce5[_0x569bbd(0x7d4)]();generateAndSaveLessonForBlueprint(_0x1b438,_0x43c98d,_0x4c7996[_0x569bbd(0x3c2)]);}}else{if(_0x1bc2b3)editTopicInProject(_0x1b438);else _0x230a0b&&deleteTopicFromProject(_0x1b438);}}}}}}}),document['getElementById'](_0x4ccbae(0x26a))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleFixLessonLatex),document[_0x4ccbae(0x693)]('export-lesson-to-pdf-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleExportLessonToPDF),document['getElementById'](_0x4ccbae(0x7ed))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x2a41e4=_0x4ccbae;document[_0x2a41e4(0x693)](_0x2a41e4(0xb56))[_0x2a41e4(0x43c)][_0x2a41e4(0x128)]('hidden');});const _0x19e968=document[_0x4ccbae(0x693)](_0x4ccbae(0xc1a)),_0x2d8e81=document['getElementById'](_0x4ccbae(0x57b));_0x19e968['addEventListener'](_0x4ccbae(0xe52),()=>{const _0x32ab50=_0x4ccbae;_0x2d8e81[_0x32ab50(0x43c)][_0x32ab50(0xe2c)](_0x32ab50(0xa21),!_0x19e968[_0x32ab50(0xb48)]);});const _0x5012c9=document['getElementById'](_0x4ccbae(0x437)),_0x174d38=document[_0x4ccbae(0x693)](_0x4ccbae(0xad0));_0x5012c9[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),()=>{const _0x179454=_0x4ccbae;_0x174d38[_0x179454(0x43c)][_0x179454(0xe2c)]('hidden',!_0x5012c9[_0x179454(0xb48)]);});const _0x3b4e70=document[_0x4ccbae(0x693)](_0x4ccbae(0x8a9)),_0x26048d=document[_0x4ccbae(0x693)](_0x4ccbae(0x204));_0x3b4e70[_0x4ccbae(0x5e0)]('change',()=>{const _0x1bd2b1=_0x4ccbae;_0x26048d['classList'][_0x1bd2b1(0xe2c)](_0x1bd2b1(0xa21),!_0x3b4e70[_0x1bd2b1(0xb48)]);});const _0x4640f0=document['getElementById'](_0x4ccbae(0x5d5)),_0x59abe5=async _0x13aada=>{const _0x372cc7=_0x4ccbae,_0x4e4f0c=document[_0x372cc7(0x693)](_0x372cc7(0x5d5)),_0x4b2a53=_0x4e4f0c[_0x372cc7(0x43d)][_0x372cc7(0x897)],_0xd84f43=document[_0x372cc7(0x693)](_0x372cc7(0x227));_0x4e4f0c['classList'][_0x372cc7(0x128)](_0x372cc7(0xa21));if(_0x4b2a53==='timed'){const _0xbea90f=_0xd84f43[_0x372cc7(0xc5c)],_0x34d5c1={'answer':_0xbea90f,'wasConfident':_0x13aada};proceedToNextQuestion(_0x34d5c1);}else{if(_0x4b2a53===_0x372cc7(0x64a)){const _0x7f14d1=_0xd84f43['dataset'][_0x372cc7(0xd63)],_0xc926cd=JSON[_0x372cc7(0xd84)](_0xd84f43[_0x372cc7(0x43d)][_0x372cc7(0x776)]),_0x3aeb2c=JSON[_0x372cc7(0xd84)](_0xd84f43[_0x372cc7(0x43d)][_0x372cc7(0x2c7)]),_0x567be4=_0xd84f43[_0x372cc7(0x43d)][_0x372cc7(0xa88)];handleSyncAnswerSubmit(_0x7f14d1,_0xc926cd,_0x3aeb2c,_0x567be4,_0x13aada);}}_0x4e4f0c[_0x372cc7(0x43d)][_0x372cc7(0x897)]='';};document['getElementById']('confirm-confident')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>_0x59abe5(!![])),document['getElementById'](_0x4ccbae(0xae5))[_0x4ccbae(0x5e0)]('click',()=>_0x59abe5(![])),liveGameView[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x2e5c22=>{const _0x2293ba=_0x4ccbae,_0x24c1fa=_0x2e5c22[_0x2293ba(0x588)][_0x2293ba(0xe11)](_0x2293ba(0x5e2));if(_0x24c1fa){const _0x4b3da2=_0x24c1fa['dataset'][_0x2293ba(0xa88)];_0x4b3da2&&handleKickPlayerSync(_0x4b3da2);}});const _0x1f0c57=document[_0x4ccbae(0x693)](_0x4ccbae(0xb02)),_0x1a1e4f=document[_0x4ccbae(0x693)]('cancel-game-start-btn');_0x1a1e4f[_0x4ccbae(0x5e0)]('click',()=>{const _0x2fd0d6=_0x4ccbae;document[_0x2fd0d6(0x693)](_0x2fd0d6(0xc09))[_0x2fd0d6(0x43c)][_0x2fd0d6(0x128)](_0x2fd0d6(0xa21));}),_0x1f0c57['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x1445bc=_0x4ccbae,_0x2a3ba7=document[_0x1445bc(0x693)](_0x1445bc(0x769))['value'],_0x191f02=document['getElementById']('game-start-mode')[_0x1445bc(0xc5c)],_0x5bb9d3=document[_0x1445bc(0x693)](_0x1445bc(0x828))[_0x1445bc(0xb48)];document[_0x1445bc(0x693)](_0x1445bc(0xc09))[_0x1445bc(0x43c)][_0x1445bc(0x128)](_0x1445bc(0xa21));switch(_0x191f02){case _0x1445bc(0x9d8):handleStartLiveRace(_0x2a3ba7,_0x5bb9d3);break;case _0x1445bc(0x134):handleStartTeamQuiz(_0x2a3ba7,_0x5bb9d3);break;case _0x1445bc(0xa4c):handleStartGroupMode(_0x2a3ba7,_0x5bb9d3);break;case'sync':const _0x188ee2=document['querySelector'](_0x1445bc(0xae9))['value']||_0x1445bc(0x2cf);handleStartSyncMode(_0x2a3ba7,_0x5bb9d3,_0x188ee2);break;}}),document['getElementById']('join-group-activity-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleJoinGroupActivity),liveGameView[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x311020=>{const _0x58e01a=_0x4ccbae,_0x15ccb7=_0x311020[_0x58e01a(0x588)][_0x58e01a(0xe11)](_0x58e01a(0x552));document[_0x58e01a(0xe56)]('.live-summary-tooltip.visible')[_0x58e01a(0x242)](_0x2ab8af=>{const _0x15eebb=_0x58e01a;(!_0x15ccb7||_0x2ab8af['id']!==_0x15ccb7[_0x15eebb(0x43d)][_0x15eebb(0x219)])&&_0x2ab8af[_0x15eebb(0x43c)][_0x15eebb(0x200)]('visible');});if(!_0x15ccb7)return;const _0x22f5c3=_0x15ccb7[_0x58e01a(0x43d)]['tooltipTarget'],_0x11993b=document[_0x58e01a(0x693)](_0x22f5c3);_0x11993b&&_0x11993b['classList'][_0x58e01a(0xe2c)](_0x58e01a(0xa86));}),liveGameView[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x16db16=>{const _0x506b05=_0x4ccbae;if(_0x16db16[_0x506b05(0x588)][_0x506b05(0x43c)][_0x506b05(0x539)](_0x506b05(0x60a))){const _0x58912f=_0x16db16[_0x506b05(0x588)][_0x506b05(0x43d)]['playerName'];_0x58912f&&handleKickPlayer(_0x58912f);}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x467))[_0x4ccbae(0x5e0)](_0x4ccbae(0x9b3),()=>document['getElementById'](_0x4ccbae(0x682))[_0x4ccbae(0x43c)][_0x4ccbae(0x200)](_0x4ccbae(0xa21))),document[_0x4ccbae(0x693)]('save-project-name-btn')['addEventListener'](_0x4ccbae(0x2df),handleSaveProjectName),document[_0x4ccbae(0x693)](_0x4ccbae(0x467))[_0x4ccbae(0x5e0)](_0x4ccbae(0xc35),_0x3b8b32=>{const _0x415553=_0x4ccbae;_0x3b8b32[_0x415553(0xd6d)]==='Enter'&&(_0x3b8b32[_0x415553(0x32c)](),_0x3b8b32[_0x415553(0x588)][_0x415553(0x2ef)](),handleSaveProjectName());}),document['getElementById'](_0x4ccbae(0x324))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x4aed27=_0x4ccbae;document[_0x4aed27(0x693)]('bulk-quiz-settings-modal')[_0x4aed27(0x43c)][_0x4aed27(0x200)](_0x4aed27(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x144))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x5d3042=_0x4ccbae;document[_0x5d3042(0x693)](_0x5d3042(0x7d0))[_0x5d3042(0x43c)][_0x5d3042(0x128)]('hidden');}),document[_0x4ccbae(0x693)]('confirm-bulk-quiz-settings-btn')['addEventListener'](_0x4ccbae(0x2df),handleBulkUpdateQuizSettings),document[_0x4ccbae(0x693)]('mode-switcher-btn')['addEventListener'](_0x4ccbae(0x2df),handleModeSwitch),document['getElementById'](_0x4ccbae(0xc3a))['addEventListener'](_0x4ccbae(0x2df),handleUpdateOldQuizzes),document[_0x4ccbae(0x693)](_0x4ccbae(0x623))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleResetProjectOrder),document[_0x4ccbae(0x693)](_0x4ccbae(0xb4d))['addEventListener'](_0x4ccbae(0x2df),handleSaveVisibilitySettings),document[_0x4ccbae(0x693)](_0x4ccbae(0x1ff))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAddCustomMathTopic),document[_0x4ccbae(0x693)](_0x4ccbae(0xa00))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleSelectAllTopics),document[_0x4ccbae(0x693)](_0x4ccbae(0x5b1))['addEventListener']('click',handleDeselectAllTopics),document['getElementById'](_0x4ccbae(0x57d))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x3e9f20=_0x4ccbae;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3e9f20(0x393));}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xc75))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x20f914=_0x4ccbae;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x20f914(0x66a));}}),document[_0x4ccbae(0x693)](_0x4ccbae(0x7ec))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{showView('admin-dashboard');}),document['getElementById'](_0x4ccbae(0x73c))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x920df=_0x4ccbae;messageModal[_0x920df(0x43c)][_0x920df(0x128)]('hidden'),typeof modalConfirmAction===_0x920df(0x582)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x4ccbae(0x9ff))[_0x4ccbae(0x5e0)]('click',()=>createProjectModal[_0x4ccbae(0x43c)]['remove'](_0x4ccbae(0xa21))),document['getElementById'](_0x4ccbae(0xd6b))[_0x4ccbae(0x5e0)]('click',()=>createProjectModal[_0x4ccbae(0x43c)][_0x4ccbae(0x128)](_0x4ccbae(0xa21))),document[_0x4ccbae(0x693)]('cancel-admin-login-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>adminPasswordModal[_0x4ccbae(0x43c)][_0x4ccbae(0x128)](_0x4ccbae(0xa21))),document[_0x4ccbae(0x693)](_0x4ccbae(0x48e))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAdminLogin),document['getElementById'](_0x4ccbae(0x6c1))['addEventListener'](_0x4ccbae(0x53f),_0x1bf6d=>{const _0x54f470=_0x4ccbae;if(_0x1bf6d[_0x54f470(0xd6d)]===_0x54f470(0x4dc))handleAdminLogin();}),document[_0x4ccbae(0x693)]('cancel-delete-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x57e105=_0x4ccbae;confirmationModal[_0x57e105(0x43c)][_0x57e105(0x128)](_0x57e105(0xa21)),typeof cancelAction===_0x57e105(0x582)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x4ccbae(0x693)]('confirm-delete-btn')['addEventListener']('click',()=>{const _0x2f801e=_0x4ccbae;confirmAction&&confirmAction(),confirmationModal[_0x2f801e(0x43c)]['add'](_0x2f801e(0xa21)),confirmAction=null,cancelAction=null;}),document[_0x4ccbae(0x693)](_0x4ccbae(0x9ce))[_0x4ccbae(0x5e0)]('click',()=>renameQuizModal[_0x4ccbae(0x43c)][_0x4ccbae(0x128)](_0x4ccbae(0xa21))),document['getElementById'](_0x4ccbae(0x764))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>moveQuizModal['classList']['add']('hidden')),document[_0x4ccbae(0x693)](_0x4ccbae(0x69c))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),confirmMoveQuiz),document[_0x4ccbae(0x693)](_0x4ccbae(0x26c))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>quizSettingsModal[_0x4ccbae(0x43c)][_0x4ccbae(0x128)]('hidden')),document[_0x4ccbae(0x693)]('confirm-quiz-settings-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),confirmQuizSettings),document['getElementById'](_0x4ccbae(0xddd))['addEventListener'](_0x4ccbae(0x2df),()=>quizStatusModal[_0x4ccbae(0x43c)][_0x4ccbae(0x128)](_0x4ccbae(0xa21))),document[_0x4ccbae(0x693)]('confirm-quiz-status-btn')[_0x4ccbae(0x5e0)]('click',confirmQuizStatus);const _0xc5b96f=document[_0x4ccbae(0x693)](_0x4ccbae(0x2c3));document[_0x4ccbae(0x693)](_0x4ccbae(0xc86))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x260796=_0x4ccbae;_0xc5b96f[_0x260796(0x43c)][_0x260796(0x128)](_0x260796(0xa21));}),document[_0x4ccbae(0x693)]('export-compact-pdf-btn')['addEventListener'](_0x4ccbae(0x2df),async()=>{const _0x1802e3=_0x4ccbae,_0x968367=allQuizzes[_0x1802e3(0xe69)](_0x352b5f=>_0x352b5f['id']===actionTargetId);_0x968367?(currentQuizData=_0x968367,exportQuizAsWorksheetPDF()):showMessage(_0x1802e3(0xe1b)),_0xc5b96f[_0x1802e3(0x43c)]['add'](_0x1802e3(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xa2b))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),async()=>{const _0x370359=_0x4ccbae,_0x2b9109=allQuizzes[_0x370359(0xe69)](_0x51c0a9=>_0x51c0a9['id']===actionTargetId);_0x2b9109?(currentQuizData=_0x2b9109,exportQuizAsTutorPDF()):showMessage(_0x370359(0xe1b)),_0xc5b96f[_0x370359(0x43c)][_0x370359(0x128)](_0x370359(0xa21));});const _0x30ea1e=document[_0x4ccbae(0x693)](_0x4ccbae(0x8fd));_0x30ea1e[_0x4ccbae(0xc8c)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x30ea1e[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),openGlobalActivityModal),document['getElementById'](_0x4ccbae(0xc8e))[_0x4ccbae(0x5e0)]('click',()=>{const _0x53d542=_0x4ccbae;document[_0x53d542(0x693)]('global-activity-modal')['classList'][_0x53d542(0x128)](_0x53d542(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x1ea))['addEventListener'](_0x4ccbae(0x3f1),_0x1e4a9d=>{const _0x3bb04e=_0x4ccbae;renderGlobalActivityList(_0x1e4a9d[_0x3bb04e(0x588)][_0x3bb04e(0xc5c)]);}),document['getElementById'](_0x4ccbae(0xbcd))['addEventListener'](_0x4ccbae(0x2df),_0x1c619a=>{const _0x4aef49=_0x4ccbae,_0x252868=_0x1c619a[_0x4aef49(0x588)][_0x4aef49(0xe11)](_0x4aef49(0x7e0));if(!_0x252868)return;const _0x2d7b29=_0x252868[_0x4aef49(0x43d)]['id'],_0x2140d6=_0x252868[_0x4aef49(0x43d)][_0x4aef49(0x444)],_0x2ebd1f=allQuizzesGlobal['find'](_0x179eef=>_0x179eef['id']===_0x2d7b29);_0x2ebd1f&&(document['getElementById'](_0x4aef49(0xc37))[_0x4aef49(0x43c)]['add'](_0x4aef49(0xa21)),_0x2140d6==='live-race'?handleStartLiveRace(_0x2d7b29):showGameStartConfirmationModal(_0x2d7b29,_0x2140d6,_0x2ebd1f[_0x4aef49(0x669)]));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x8bf))['addEventListener'](_0x4ccbae(0x3f1),renderProjects),document['getElementById']('project-sort-select')['addEventListener'](_0x4ccbae(0xe52),async()=>{const _0x231c2c=_0x4ccbae,_0x65ae58=document[_0x231c2c(0x693)](_0x231c2c(0x3be))[_0x231c2c(0xc5c)],_0x55e9ed=doc(db,_0x231c2c(0xe34),_0x231c2c(0x8b2));try{await setDoc(_0x55e9ed,{'projectSort':_0x65ae58},{'merge':!![]});}catch(_0x34b1c1){console['error'](_0x231c2c(0xb29),_0x34b1c1),showMessage(_0x231c2c(0x44d));}}),document['getElementById']('quiz-search-input')['addEventListener']('input',renderQuizzes),document[_0x4ccbae(0x693)](_0x4ccbae(0x385))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x26f295=_0x4ccbae;globalDashboardSettings[_0x26f295(0xc2f)]=_0x26f295(0x232),saveUserPreference(_0x26f295(0xc2f),'grid'),renderProjects();}),document[_0x4ccbae(0x693)](_0x4ccbae(0xa8d))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x3c7a00=_0x4ccbae;globalDashboardSettings[_0x3c7a00(0xc2f)]=_0x3c7a00(0x198),saveUserPreference(_0x3c7a00(0xc2f),_0x3c7a00(0x198)),renderProjects();}),manageTab[_0x4ccbae(0x5e0)]('click',()=>switchProjectTab(_0x4ccbae(0xc2b))),resultsTab[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>switchProjectTab(_0x4ccbae(0xb88))),leaderboardTab[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>switchProjectTab(_0x4ccbae(0xb96))),document[_0x4ccbae(0x693)](_0x4ccbae(0x559))['addEventListener'](_0x4ccbae(0x2df),()=>switchQuizDetailTab('analytics')),document[_0x4ccbae(0x693)](_0x4ccbae(0x26b))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>switchQuizDetailTab(_0x4ccbae(0x7e8))),document[_0x4ccbae(0x693)](_0x4ccbae(0x45d))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x4ccbae(0x693)]('behavior-log-tab-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>switchQuizDetailTab(_0x4ccbae(0x2a5))),document[_0x4ccbae(0x693)](_0x4ccbae(0x8a3))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),generateWorksheet);const _0x26b916=document[_0x4ccbae(0x693)](_0x4ccbae(0x688)),_0x4590c3=document[_0x4ccbae(0x693)]('link-input-area'),_0x27e32b=document[_0x4ccbae(0x693)](_0x4ccbae(0x384)),_0x4d9f8c=document[_0x4ccbae(0x693)](_0x4ccbae(0x904)),_0x1052f6=document[_0x4ccbae(0x693)](_0x4ccbae(0xab3)),_0x33c506=document[_0x4ccbae(0x693)]('parallel-test-input-area');topicTab[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x281997=_0x4ccbae;topicTab[_0x281997(0x43c)][_0x281997(0x128)](_0x281997(0x69a)),textTab[_0x281997(0x43c)][_0x281997(0x200)]('active'),fileTab[_0x281997(0x43c)][_0x281997(0x200)](_0x281997(0x69a)),worksheetTab[_0x281997(0x43c)]['remove']('active');if(_0x26b916)_0x26b916[_0x281997(0x43c)][_0x281997(0x200)]('active');if(_0x27e32b)_0x27e32b['classList']['remove']('active');if(_0x1052f6)_0x1052f6['classList']['remove'](_0x281997(0x69a));topicInputArea['classList']['remove']('hidden'),textInputArea[_0x281997(0x43c)][_0x281997(0x128)](_0x281997(0xa21)),fileInputArea[_0x281997(0x43c)][_0x281997(0x128)]('hidden'),worksheetInputArea['classList'][_0x281997(0x128)](_0x281997(0xa21));if(_0x4590c3)_0x4590c3['classList'][_0x281997(0x128)]('hidden');if(_0x4d9f8c)_0x4d9f8c[_0x281997(0x43c)][_0x281997(0x128)](_0x281997(0xa21));if(_0x33c506)_0x33c506['classList'][_0x281997(0x128)]('hidden');}),textTab[_0x4ccbae(0x5e0)]('click',()=>{const _0x1857e1=_0x4ccbae;textTab[_0x1857e1(0x43c)][_0x1857e1(0x128)](_0x1857e1(0x69a)),topicTab['classList'][_0x1857e1(0x200)]('active'),fileTab[_0x1857e1(0x43c)][_0x1857e1(0x200)](_0x1857e1(0x69a)),worksheetTab[_0x1857e1(0x43c)][_0x1857e1(0x200)](_0x1857e1(0x69a));if(_0x26b916)_0x26b916[_0x1857e1(0x43c)][_0x1857e1(0x200)](_0x1857e1(0x69a));if(_0x27e32b)_0x27e32b[_0x1857e1(0x43c)]['remove'](_0x1857e1(0x69a));if(_0x1052f6)_0x1052f6['classList'][_0x1857e1(0x200)](_0x1857e1(0x69a));textInputArea[_0x1857e1(0x43c)]['remove'](_0x1857e1(0xa21)),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x1857e1(0x43c)]['add']('hidden'),worksheetInputArea[_0x1857e1(0x43c)][_0x1857e1(0x128)](_0x1857e1(0xa21));if(_0x4590c3)_0x4590c3['classList'][_0x1857e1(0x128)](_0x1857e1(0xa21));if(_0x4d9f8c)_0x4d9f8c['classList'][_0x1857e1(0x128)]('hidden');if(_0x33c506)_0x33c506[_0x1857e1(0x43c)][_0x1857e1(0x128)](_0x1857e1(0xa21));}),fileTab[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x5aba5f=_0x4ccbae;fileTab[_0x5aba5f(0x43c)]['add']('active'),topicTab['classList'][_0x5aba5f(0x200)]('active'),textTab[_0x5aba5f(0x43c)][_0x5aba5f(0x200)]('active'),worksheetTab['classList'][_0x5aba5f(0x200)](_0x5aba5f(0x69a));if(_0x26b916)_0x26b916['classList']['remove']('active');if(_0x27e32b)_0x27e32b[_0x5aba5f(0x43c)][_0x5aba5f(0x200)](_0x5aba5f(0x69a));if(_0x1052f6)_0x1052f6[_0x5aba5f(0x43c)]['remove'](_0x5aba5f(0x69a));fileInputArea[_0x5aba5f(0x43c)][_0x5aba5f(0x200)](_0x5aba5f(0xa21)),topicInputArea[_0x5aba5f(0x43c)][_0x5aba5f(0x128)](_0x5aba5f(0xa21)),textInputArea[_0x5aba5f(0x43c)][_0x5aba5f(0x128)](_0x5aba5f(0xa21)),worksheetInputArea[_0x5aba5f(0x43c)][_0x5aba5f(0x128)](_0x5aba5f(0xa21));if(_0x4590c3)_0x4590c3[_0x5aba5f(0x43c)][_0x5aba5f(0x128)]('hidden');if(_0x4d9f8c)_0x4d9f8c[_0x5aba5f(0x43c)][_0x5aba5f(0x128)](_0x5aba5f(0xa21));if(_0x33c506)_0x33c506['classList'][_0x5aba5f(0x128)](_0x5aba5f(0xa21));}),worksheetTab[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x4cb7e2=_0x4ccbae;worksheetTab['classList'][_0x4cb7e2(0x128)](_0x4cb7e2(0x69a)),topicTab[_0x4cb7e2(0x43c)]['remove'](_0x4cb7e2(0x69a)),textTab[_0x4cb7e2(0x43c)]['remove']('active'),fileTab[_0x4cb7e2(0x43c)][_0x4cb7e2(0x200)]('active');if(_0x26b916)_0x26b916['classList'][_0x4cb7e2(0x200)](_0x4cb7e2(0x69a));if(_0x27e32b)_0x27e32b[_0x4cb7e2(0x43c)][_0x4cb7e2(0x200)](_0x4cb7e2(0x69a));if(_0x1052f6)_0x1052f6[_0x4cb7e2(0x43c)][_0x4cb7e2(0x200)](_0x4cb7e2(0x69a));worksheetInputArea[_0x4cb7e2(0x43c)][_0x4cb7e2(0x200)](_0x4cb7e2(0xa21)),topicInputArea[_0x4cb7e2(0x43c)][_0x4cb7e2(0x128)](_0x4cb7e2(0xa21)),textInputArea[_0x4cb7e2(0x43c)]['add'](_0x4cb7e2(0xa21)),fileInputArea[_0x4cb7e2(0x43c)]['add']('hidden');if(_0x4590c3)_0x4590c3[_0x4cb7e2(0x43c)][_0x4cb7e2(0x128)](_0x4cb7e2(0xa21));if(_0x4d9f8c)_0x4d9f8c[_0x4cb7e2(0x43c)][_0x4cb7e2(0x128)]('hidden');if(_0x33c506)_0x33c506['classList'][_0x4cb7e2(0x128)](_0x4cb7e2(0xa21));});const _0x4b417f=document['getElementById']('bank-tab'),_0x4ddda5=document[_0x4ccbae(0x693)](_0x4ccbae(0x22c));_0x4b417f&&_0x4b417f[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0xf5d33e=_0x4ccbae;topicTab['classList'][_0xf5d33e(0x200)](_0xf5d33e(0x69a)),textTab[_0xf5d33e(0x43c)]['remove']('active'),fileTab[_0xf5d33e(0x43c)]['remove']('active'),worksheetTab[_0xf5d33e(0x43c)][_0xf5d33e(0x200)](_0xf5d33e(0x69a));if(_0x26b916)_0x26b916[_0xf5d33e(0x43c)][_0xf5d33e(0x200)](_0xf5d33e(0x69a));if(_0x27e32b)_0x27e32b[_0xf5d33e(0x43c)][_0xf5d33e(0x200)](_0xf5d33e(0x69a));if(_0x1052f6)_0x1052f6[_0xf5d33e(0x43c)][_0xf5d33e(0x200)](_0xf5d33e(0x69a));_0x4b417f['classList']['add'](_0xf5d33e(0x69a)),topicInputArea[_0xf5d33e(0x43c)]['add'](_0xf5d33e(0xa21)),textInputArea[_0xf5d33e(0x43c)][_0xf5d33e(0x128)](_0xf5d33e(0xa21)),fileInputArea[_0xf5d33e(0x43c)][_0xf5d33e(0x128)](_0xf5d33e(0xa21)),worksheetInputArea[_0xf5d33e(0x43c)]['add'](_0xf5d33e(0xa21));if(_0x4590c3)_0x4590c3['classList'][_0xf5d33e(0x128)](_0xf5d33e(0xa21));if(_0x4d9f8c)_0x4d9f8c['classList'][_0xf5d33e(0x128)](_0xf5d33e(0xa21));if(_0x33c506)_0x33c506[_0xf5d33e(0x43c)][_0xf5d33e(0x128)](_0xf5d33e(0xa21));_0x4ddda5[_0xf5d33e(0x43c)][_0xf5d33e(0x200)]('hidden'),displayQuestionBank();});_0x26b916&&(_0x26b916[_0x4ccbae(0x5e0)]('click',()=>{const _0x56f76f=_0x4ccbae;_0x26b916[_0x56f76f(0x43c)][_0x56f76f(0x128)]('active'),topicTab[_0x56f76f(0x43c)][_0x56f76f(0x200)]('active'),textTab[_0x56f76f(0x43c)][_0x56f76f(0x200)](_0x56f76f(0x69a)),fileTab[_0x56f76f(0x43c)][_0x56f76f(0x200)]('active'),worksheetTab[_0x56f76f(0x43c)][_0x56f76f(0x200)]('active');if(_0x27e32b)_0x27e32b[_0x56f76f(0x43c)][_0x56f76f(0x200)](_0x56f76f(0x69a));if(_0x1052f6)_0x1052f6[_0x56f76f(0x43c)][_0x56f76f(0x200)]('active');_0x4590c3['classList']['remove'](_0x56f76f(0xa21)),topicInputArea['classList'][_0x56f76f(0x128)](_0x56f76f(0xa21)),textInputArea['classList'][_0x56f76f(0x128)]('hidden'),fileInputArea['classList'][_0x56f76f(0x128)](_0x56f76f(0xa21)),worksheetInputArea[_0x56f76f(0x43c)][_0x56f76f(0x128)](_0x56f76f(0xa21));if(_0x4d9f8c)_0x4d9f8c[_0x56f76f(0x43c)][_0x56f76f(0x128)]('hidden');if(_0x33c506)_0x33c506[_0x56f76f(0x43c)][_0x56f76f(0x128)]('hidden');}),document[_0x4ccbae(0x693)]('generate-from-link-btn')['addEventListener'](_0x4ccbae(0x2df),handleGenerateFromLink));_0x27e32b&&_0x27e32b[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x101f4c=_0x4ccbae;_0x27e32b['classList']['add'](_0x101f4c(0x69a)),topicTab[_0x101f4c(0x43c)]['remove'](_0x101f4c(0x69a)),textTab[_0x101f4c(0x43c)]['remove'](_0x101f4c(0x69a)),fileTab['classList']['remove'](_0x101f4c(0x69a)),worksheetTab[_0x101f4c(0x43c)]['remove'](_0x101f4c(0x69a));if(_0x26b916)_0x26b916[_0x101f4c(0x43c)][_0x101f4c(0x200)](_0x101f4c(0x69a));if(_0x4b417f)_0x4b417f[_0x101f4c(0x43c)]['remove']('active');if(_0x1052f6)_0x1052f6['classList'][_0x101f4c(0x200)](_0x101f4c(0x69a));_0x4d9f8c[_0x101f4c(0x43c)]['remove']('hidden'),topicInputArea[_0x101f4c(0x43c)][_0x101f4c(0x128)](_0x101f4c(0xa21)),textInputArea[_0x101f4c(0x43c)][_0x101f4c(0x128)](_0x101f4c(0xa21)),fileInputArea[_0x101f4c(0x43c)][_0x101f4c(0x128)](_0x101f4c(0xa21)),worksheetInputArea['classList'][_0x101f4c(0x128)]('hidden');if(_0x4590c3)_0x4590c3[_0x101f4c(0x43c)][_0x101f4c(0x128)]('hidden');if(_0x4ddda5)_0x4ddda5[_0x101f4c(0x43c)]['add'](_0x101f4c(0xa21));if(_0x33c506)_0x33c506[_0x101f4c(0x43c)]['add'](_0x101f4c(0xa21));});_0x1052f6&&_0x1052f6['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x37bdbd=_0x4ccbae;_0x1052f6[_0x37bdbd(0x43c)]['add'](_0x37bdbd(0x69a)),topicTab[_0x37bdbd(0x43c)][_0x37bdbd(0x200)](_0x37bdbd(0x69a)),textTab[_0x37bdbd(0x43c)][_0x37bdbd(0x200)](_0x37bdbd(0x69a)),fileTab[_0x37bdbd(0x43c)][_0x37bdbd(0x200)](_0x37bdbd(0x69a)),worksheetTab[_0x37bdbd(0x43c)][_0x37bdbd(0x200)](_0x37bdbd(0x69a));if(_0x26b916)_0x26b916['classList'][_0x37bdbd(0x200)](_0x37bdbd(0x69a));if(_0x27e32b)_0x27e32b[_0x37bdbd(0x43c)]['remove'](_0x37bdbd(0x69a));if(_0x4b417f)_0x4b417f[_0x37bdbd(0x43c)][_0x37bdbd(0x200)](_0x37bdbd(0x69a));_0x33c506['classList'][_0x37bdbd(0x200)](_0x37bdbd(0xa21)),topicInputArea[_0x37bdbd(0x43c)]['add']('hidden'),textInputArea['classList'][_0x37bdbd(0x128)](_0x37bdbd(0xa21)),fileInputArea[_0x37bdbd(0x43c)][_0x37bdbd(0x128)](_0x37bdbd(0xa21)),worksheetInputArea[_0x37bdbd(0x43c)][_0x37bdbd(0x128)](_0x37bdbd(0xa21));if(_0x4590c3)_0x4590c3[_0x37bdbd(0x43c)][_0x37bdbd(0x128)](_0x37bdbd(0xa21));if(_0x4d9f8c)_0x4d9f8c[_0x37bdbd(0x43c)]['add'](_0x37bdbd(0xa21));if(_0x4ddda5)_0x4ddda5[_0x37bdbd(0x43c)]['add'](_0x37bdbd(0xa21));});const _0x4b5239=document[_0x4ccbae(0x693)](_0x4ccbae(0x8e8)),_0x37bd51=document[_0x4ccbae(0x693)]('generate-from-blueprint-btn');if(_0x4b5239){const _0x415e3c=document[_0x4ccbae(0x693)](_0x4ccbae(0x8e8)),_0x8c543d=document[_0x4ccbae(0x693)]('generate-from-blueprint-btn'),_0x29d90e=document[_0x4ccbae(0x693)]('blueprint-options-container'),_0x5cb0b6=document[_0x4ccbae(0x693)](_0x4ccbae(0xadb)),_0x33a772=document['getElementById'](_0x4ccbae(0xa14)),_0x26614f=document[_0x4ccbae(0x693)](_0x4ccbae(0xa51));_0x415e3c&&_0x415e3c[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),async _0x532b1b=>{const _0x35a5f5=_0x4ccbae;_0x29d90e[_0x35a5f5(0x43c)][_0x35a5f5(0x128)](_0x35a5f5(0xa21)),_0x33a772['classList'][_0x35a5f5(0x128)](_0x35a5f5(0xa21)),_0x5cb0b6[_0x35a5f5(0xb48)]=![],_0x8c543d[_0x35a5f5(0xe12)]=!![];const _0x2b058c=_0x532b1b[_0x35a5f5(0x588)]['files'][0x0];if(_0x2b058c){_0x8c543d['disabled']=![];try{const _0x3b55e8=await extractTextFromPdf(_0x2b058c);await analyzeBlueprintForTopics(_0x3b55e8);}catch(_0x18f603){showMessage(_0x35a5f5(0x690)),_0x29d90e[_0x35a5f5(0x43c)][_0x35a5f5(0x128)](_0x35a5f5(0xa21));}}}),_0x5cb0b6&&_0x5cb0b6[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x223521=>{const _0x40f2f=_0x4ccbae,_0x2d4a9f=_0x223521[_0x40f2f(0x588)]['checked'];_0x33a772[_0x40f2f(0x43c)]['toggle'](_0x40f2f(0xa21),!_0x2d4a9f),_0x8c543d['disabled']=_0x2d4a9f;}),_0x26614f&&(_0x26614f&&_0x26614f['addEventListener'](_0x4ccbae(0x2df),_0x5ccc28=>{const _0x4a3ae0=_0x4ccbae,_0x5dfa90=_0x5ccc28[_0x4a3ae0(0x588)][_0x4a3ae0(0xe11)](_0x4a3ae0(0x935)),_0x3c8d09=_0x5ccc28[_0x4a3ae0(0x588)][_0x4a3ae0(0xe11)](_0x4a3ae0(0x833));if(_0x5dfa90){const _0x210b66=unescape(_0x5dfa90[_0x4a3ae0(0x43d)][_0x4a3ae0(0x669)]);generateQuizForSingleTopic(_0x210b66);}else{if(_0x3c8d09){const _0x3c65a5=unescape(_0x3c8d09[_0x4a3ae0(0x43d)][_0x4a3ae0(0x669)]);handleGenerateTeachingContent(_0x3c65a5);}}}));}_0x37bd51&&_0x37bd51[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleGenerateFromBlueprint);const _0x1176d3=document['getElementById'](_0x4ccbae(0xa8a)),_0x3d388c=document['getElementById']('generate-from-parallel-test-btn');_0x1176d3&&_0x1176d3[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x2516dd=>{const _0x1a136d=_0x4ccbae;_0x3d388c[_0x1a136d(0xe12)]=_0x2516dd[_0x1a136d(0x588)][_0x1a136d(0xf6)][_0x1a136d(0x357)]===0x0;});_0x3d388c&&_0x3d388c[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleLoadQuiz),startQuizBtn[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),async()=>{const _0x2335ae=_0x4ccbae,_0x4181c7=document[_0x2335ae(0x693)]('student-name-select');currentStudentName=_0x4181c7[_0x2335ae(0xc5c)];if(!currentStudentName){showMessage(_0x2335ae(0x10b));return;}try{const _0x3d26e8=currentQuizData['id'],_0x55bcc8=doc(db,_0x2335ae(0xe45)+appId+_0x2335ae(0x449)+_0x3d26e8+_0x2335ae(0xddf),currentStudentName),_0x40817c=await getDoc(_0x55bcc8);!_0x40817c[_0x2335ae(0x5a9)]()?await setDoc(_0x55bcc8,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x55bcc8,{'startedAt':new Date()[_0x2335ae(0xdfc)]()});}catch(_0x341d82){console[_0x2335ae(0x75e)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x341d82),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x2335ae(0x43c)]['add'](_0x2335ae(0xa21)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4ccbae(0x693)](_0x4ccbae(0x2e7))['addEventListener'](_0x4ccbae(0x2df),showJoinGameView),document[_0x4ccbae(0x693)](_0x4ccbae(0x9ab))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleJoinLiveGame),document['getElementById'](_0x4ccbae(0x689))['addEventListener']('click',()=>showView(_0x4ccbae(0x5ed)));const _0x5c55bc=()=>{const _0x367ad9=_0x4ccbae,_0x1e9e16=document['getElementById'](_0x367ad9(0xdd0))['textContent'][_0x367ad9(0x5cc)](/[^a-z0-9]/gi,'_')[_0x367ad9(0x95a)]();return'results_'+(_0x1e9e16||'quiz');},_0x43cd8d=document[_0x4ccbae(0x693)](_0x4ccbae(0x2e2));_0x43cd8d&&_0x43cd8d['addEventListener'](_0x4ccbae(0x3f1),_0x112656=>{const _0x4598e1=_0x4ccbae,_0x1813cf=_0x112656[_0x4598e1(0x588)][_0x4598e1(0xc5c)][_0x4598e1(0x95a)]()[_0x4598e1(0xb6d)](),_0x48d7ae=document[_0x4598e1(0x693)](_0x4598e1(0x58f)),_0x94d8ff=_0x48d7ae['querySelectorAll'](_0x4598e1(0x9a7));_0x94d8ff[_0x4598e1(0x242)](_0x3cf391=>{const _0x5e27ac=_0x4598e1;let _0x32d404=![];const _0x57a916=_0x3cf391[_0x5e27ac(0xe56)]('.topic-row');_0x57a916[_0x5e27ac(0x242)](_0x7021b3=>{const _0x56cba3=_0x5e27ac,_0x1890af=_0x7021b3[_0x56cba3(0xbc1)](_0x56cba3(0x9c7))[_0x56cba3(0xc08)][_0x56cba3(0x95a)]();_0x1890af[_0x56cba3(0x8bb)](_0x1813cf)?(_0x7021b3[_0x56cba3(0x77b)][_0x56cba3(0xb4c)]=_0x56cba3(0xa50),_0x32d404=!![]):_0x7021b3[_0x56cba3(0x77b)][_0x56cba3(0xb4c)]=_0x56cba3(0x2c6);}),_0x32d404?_0x3cf391[_0x5e27ac(0x77b)][_0x5e27ac(0xb4c)]='block':_0x3cf391['style'][_0x5e27ac(0xb4c)]='none';});});document[_0x4ccbae(0x693)]('export-image-btn')[_0x4ccbae(0x5e0)]('click',()=>exportTableAsImage('results-table-container',_0x5c55bc())),document[_0x4ccbae(0x693)](_0x4ccbae(0x676))[_0x4ccbae(0x5e0)]('click',()=>exportTableAsPDF(_0x4ccbae(0x60e),_0x5c55bc())),document[_0x4ccbae(0x693)](_0x4ccbae(0xdfe))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>exportTableAsWord(_0x4ccbae(0xc56),_0x5c55bc())),document[_0x4ccbae(0x693)](_0x4ccbae(0x965))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>exportTableAsExcel(_0x4ccbae(0x60e),_0x5c55bc()));const _0x54ceb1=()=>{const _0x55a597=_0x4ccbae,_0x80277d=document[_0x55a597(0x693)](_0x55a597(0xdd0))[_0x55a597(0xc08)][_0x55a597(0x5cc)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x55a597(0x9f3)+(_0x80277d||_0x55a597(0xc10));};document[_0x4ccbae(0x693)](_0x4ccbae(0x8c2))[_0x4ccbae(0x5e0)]('click',()=>exportTableAsImage(_0x4ccbae(0xdf4),_0x54ceb1())),document['getElementById'](_0x4ccbae(0x32a))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>exportTableAsPDF('quiz-leaderboard-table',_0x54ceb1())),document[_0x4ccbae(0x693)]('export-leaderboard-word-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>exportTableAsWord(_0x4ccbae(0xdf4),_0x54ceb1())),document['getElementById']('export-leaderboard-excel-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>exportTableAsExcel(_0x4ccbae(0x908),_0x54ceb1())),projectQuizzesList[_0x4ccbae(0x5e0)]('click',async _0x590196=>{const _0x2591d6=_0x4ccbae,_0x19ba32=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x7e3)),_0x74b0fa=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)]('.generate-post-test-btn'),_0x4d3c2f=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0xaab)),_0x1b31dc=_0x590196['target'][_0x2591d6(0xe11)](_0x2591d6(0x5e4)),_0x2119e9=_0x590196['target'][_0x2591d6(0xe11)](_0x2591d6(0xfc)),_0x173de9=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)]('.copy-quiz-id-list-btn'),_0xcf9fb6=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x8e7)),_0x59a626=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)]('.quiz-settings-btn'),_0x1e6a65=_0x590196['target'][_0x2591d6(0xe11)](_0x2591d6(0x4d7)),_0x3dee86=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)]('.rename-quiz-btn'),_0x4deb63=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x19e)),_0x593f2d=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x108)),_0x52904b=_0x590196[_0x2591d6(0x588)]['closest'](_0x2591d6(0xa0c)),_0x17bcd2=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x7c3)),_0x197d8a=_0x590196['target'][_0x2591d6(0xe11)](_0x2591d6(0x890)),_0x1b4a22=_0x590196['target'][_0x2591d6(0xe11)]('.admin-try-quiz-list-btn'),_0x2a8065=_0x590196['target'][_0x2591d6(0xe11)](_0x2591d6(0xd89)),_0x35a4c8=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0xe0e)),_0x159a45=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)](_0x2591d6(0x2ec)),_0x27094=_0x590196['target'][_0x2591d6(0xe11)]('.toggle-actions-btn'),_0x29a737=_0x590196[_0x2591d6(0x588)]['closest'](_0x2591d6(0x3ae)),_0x28ee3f=_0x590196[_0x2591d6(0x588)][_0x2591d6(0xe11)]('.start-game-btn'),_0x1ac5ed=_0x590196[_0x2591d6(0x588)]['closest'](_0x2591d6(0x160));if(_0x28ee3f){const _0x2362f8=_0x28ee3f[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],_0x45023d=_0x28ee3f[_0x2591d6(0x43d)][_0x2591d6(0x444)],_0x22a54f=allQuizzes[_0x2591d6(0xe69)](_0x352176=>_0x352176['id']===_0x2362f8);_0x22a54f&&showGameStartConfirmationModal(_0x2362f8,_0x45023d,_0x22a54f[_0x2591d6(0x669)]);}else{if(_0x1ac5ed){const _0x4ad455=_0x1ac5ed[_0x2591d6(0x43d)][_0x2591d6(0xbcc)];handleStartLiveRace(_0x4ad455);}else{if(_0x27094){const _0x54b889=_0x27094[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],_0x659dd1=document[_0x2591d6(0x693)](_0x2591d6(0x511)+_0x54b889);_0x659dd1&&_0x659dd1[_0x2591d6(0x43c)][_0x2591d6(0xe2c)]('hidden');}else{if(_0x74b0fa){const _0x5ad100=_0x74b0fa['dataset'][_0x2591d6(0xbcc)],_0x454d25=allQuizzes[_0x2591d6(0xe69)](_0x1bdd80=>_0x1bdd80['id']===_0x5ad100);_0x454d25&&handleGenerateParallelPostTest(_0x454d25);}else{if(_0x4d3c2f)handleCompareResults(_0x4d3c2f[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],_0x4d3c2f[_0x2591d6(0x43d)][_0x2591d6(0x2b7)]);else{if(_0x1b31dc){const _0x34ebbf=_0x1b31dc[_0x2591d6(0x43d)]['quizId'],_0x32d37a=allQuizzes[_0x2591d6(0xe69)](_0x26cbdd=>_0x26cbdd['id']===_0x34ebbf);_0x32d37a&&_0x32d37a[_0x2591d6(0xac3)]?(displayLessonPlan(_0x32d37a[_0x2591d6(0xac3)],_0x32d37a),showConfirmation(_0x2591d6(0xde1),()=>handleGenerateLessonPlan(_0x34ebbf)),document[_0x2591d6(0x693)](_0x2591d6(0x330))[_0x2591d6(0xbc1)]('h3')[_0x2591d6(0xc08)]=_0x2591d6(0xddc),document[_0x2591d6(0x693)](_0x2591d6(0xd0e))[_0x2591d6(0xc08)]='สร้างใหม่'):handleGenerateLessonPlan(_0x34ebbf);}else{if(_0x2119e9)handleToggleStarQuiz(_0x2119e9['dataset'][_0x2591d6(0xbcc)]);else{if(_0x173de9)copyTextToClipboard(_0x173de9[_0x2591d6(0x43d)]['quizId'],_0x2591d6(0xe55));else{if(_0xcf9fb6)handleOpenQuizEditor(_0xcf9fb6[_0x2591d6(0x43d)][_0x2591d6(0xbcc)]);else{if(_0x59a626)handleQuizSettings(_0x59a626[_0x2591d6(0x43d)][_0x2591d6(0xbcc)]);else{if(_0x1e6a65)handleDuplicateQuiz(_0x1e6a65['dataset']['quizId']);else{if(_0x3dee86)handleRenameQuiz(_0x3dee86[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],_0x3dee86[_0x2591d6(0x43d)][_0x2591d6(0x669)]);else{if(_0x4deb63){const _0x3626c6=_0x4deb63['dataset'][_0x2591d6(0xbcc)],_0x3e8cd6=allQuizzes[_0x2591d6(0xe69)](_0x4f9368=>_0x4f9368['id']===_0x3626c6);_0x3e8cd6&&handleGenerateParallelFromBank(_0x3e8cd6);}else{if(_0x593f2d)handleMoveQuiz(_0x593f2d[_0x2591d6(0x43d)][_0x2591d6(0xbcc)]);else{if(_0x52904b)handleManualQuizPairing(_0x52904b[_0x2591d6(0x43d)]['quizId']);else{if(_0x17bcd2)handleUnpairQuiz(_0x17bcd2[_0x2591d6(0x43d)]['quizId']);else{if(_0x197d8a){const _0x170a6f=_0x197d8a['dataset'][_0x2591d6(0xbcc)],_0x28d3a5=allQuizzes[_0x2591d6(0xe69)](_0x3137e0=>_0x3137e0['id']===_0x170a6f);if(_0x28d3a5)startPresentation(_0x28d3a5);}else{if(_0x1b4a22){const _0x1223ec=_0x1b4a22[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],_0x33d980=allQuizzes[_0x2591d6(0xe69)](_0x2fd189=>_0x2fd189['id']===_0x1223ec);_0x33d980&&(currentQuizData=_0x33d980,startAdminTest());}else{if(_0x2a8065)actionTargetId=_0x2a8065[_0x2591d6(0x43d)][_0x2591d6(0xbcc)],document[_0x2591d6(0x693)](_0x2591d6(0x2c3))[_0x2591d6(0x43c)][_0x2591d6(0x200)](_0x2591d6(0xa21));else{if(_0x35a4c8)showConfirmation(_0x2591d6(0x8b9)+_0x35a4c8[_0x2591d6(0x43d)]['topic']+_0x2591d6(0x627),()=>handleDeleteQuiz(_0x35a4c8[_0x2591d6(0x43d)][_0x2591d6(0xbcc)]));else{if(_0x159a45)handleQuizStatus(_0x159a45['dataset'][_0x2591d6(0xbcc)]);else{if(_0x29a737)handleGenerateEasyVersionQuiz(_0x29a737['dataset']['quizId']);else _0x19ba32&&showQuizDetailView(_0x19ba32[_0x2591d6(0x43d)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xaf4))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>showView(_0x4ccbae(0x5ed))),document[_0x4ccbae(0x693)](_0x4ccbae(0x704))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),confirmAndStartTeamQuiz),document[_0x4ccbae(0x693)]('quiz-leaderboard-table')['querySelector'](_0x4ccbae(0xb24))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x27d4e6=>{const _0x52c7a0=_0x4ccbae,_0x223b8c=_0x27d4e6[_0x52c7a0(0x588)][_0x52c7a0(0xe11)](_0x52c7a0(0x47e));if(!_0x223b8c||!_0x223b8c['dataset'][_0x52c7a0(0xa05)])return;const _0x4671a4=_0x223b8c[_0x52c7a0(0x43d)][_0x52c7a0(0xa05)];if(quizLeaderboardSortBy===_0x4671a4)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x52c7a0(0xb53)?_0x52c7a0(0xb3f):'asc';else{quizLeaderboardSortBy=_0x4671a4;const _0x46caf2=[_0x52c7a0(0x6df)];quizLeaderboardSortOrder=_0x46caf2[_0x52c7a0(0x8bb)](_0x4671a4)?_0x52c7a0(0xb53):_0x52c7a0(0xb3f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x52c7a0(0x420));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xdb8))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),closePresentation),document[_0x4ccbae(0x693)]('prev-question-btn')[_0x4ccbae(0x5e0)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x91a))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0xa1e411=_0x4ccbae;currentQuizData[_0xa1e411(0x4e6)]&&currentPresentationSlide<currentQuizData[_0xa1e411(0x4e6)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4ccbae(0x5e0)](_0x4ccbae(0xc62),()=>{const _0x21e8b5=_0x4ccbae;!document[_0x21e8b5(0x41a)]&&(presentationModal['style'][_0x21e8b5(0xb4c)]=_0x21e8b5(0x2c6));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x7f6))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleDeleteAllStudents),studentList[_0x4ccbae(0x5e0)]('click',_0x545e6b=>{const _0x3ed26=_0x4ccbae,_0x3175e6=_0x545e6b[_0x3ed26(0x588)][_0x3ed26(0xe11)](_0x3ed26(0xc07));if(_0x3175e6){const _0x3fffc2=_0x3175e6[_0x3ed26(0x43d)][_0x3ed26(0x6df)];handleDeleteStudent(_0x3fffc2);}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xaf3))['addEventListener'](_0x4ccbae(0x2df),handleGenerateFromFileClick),fileUploadInput[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x5e37f0=>{const _0x14cf48=_0x4ccbae,_0x51f93e=_0x5e37f0[_0x14cf48(0x588)][_0x14cf48(0xf6)][0x0],_0x1a8459=document[_0x14cf48(0x693)]('generate-from-file-btn'),_0x2b809d=document[_0x14cf48(0x693)]('file-topics-list-container'),_0x490926=document[_0x14cf48(0x693)](_0x14cf48(0x3e5));_0x51f93e?(selectedFile=_0x51f93e,_0x490926[_0x14cf48(0xb48)]?(_0x1a8459[_0x14cf48(0xe12)]=!![],analyzeFileForTopics(_0x51f93e)):(_0x1a8459[_0x14cf48(0xe12)]=![],_0x2b809d[_0x14cf48(0x43c)][_0x14cf48(0x128)](_0x14cf48(0xa21)))):(selectedFile=null,_0x1a8459[_0x14cf48(0xe12)]=!![],_0x2b809d[_0x14cf48(0x43c)][_0x14cf48(0x128)](_0x14cf48(0xa21)));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x3e5))['addEventListener'](_0x4ccbae(0xe52),_0x40e0d5=>{const _0x363c10=_0x4ccbae,_0x2dbff6=_0x40e0d5[_0x363c10(0x588)][_0x363c10(0xb48)],_0x552339=document[_0x363c10(0x693)](_0x363c10(0xaf3)),_0x2c4222=document[_0x363c10(0x693)](_0x363c10(0xb68));_0x2dbff6?(_0x552339[_0x363c10(0xe12)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2c4222[_0x363c10(0x43c)][_0x363c10(0x200)](_0x363c10(0xa21)),document[_0x363c10(0x693)]('file-topics-list')['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x2c4222[_0x363c10(0x43c)][_0x363c10(0x128)]('hidden'),_0x552339[_0x363c10(0xe12)]=!selectedFile);}),document[_0x4ccbae(0x693)](_0x4ccbae(0xb68))['addEventListener'](_0x4ccbae(0x2df),_0x543447=>{const _0x175b34=_0x4ccbae,_0x262c86=_0x543447['target'][_0x175b34(0xe11)](_0x175b34(0x432)),_0x39e9c5=_0x543447[_0x175b34(0x588)][_0x175b34(0xe11)](_0x175b34(0x833));if(_0x262c86){const _0x20ddbf=unescape(_0x262c86[_0x175b34(0x43d)]['topic']);generateHybridQuizForTopic(_0x20ddbf);}else{if(_0x39e9c5){const _0x4c5b26=unescape(_0x39e9c5[_0x175b34(0x43d)][_0x175b34(0x669)]),_0x274071=document[_0x175b34(0x693)](_0x175b34(0x789))['value'];handleGenerateAndShowLesson(_0x4c5b26,_0x274071);}}}),document['getElementById'](_0x4ccbae(0x316))[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x5d8988=>{const _0x4ecd3d=_0x4ccbae,_0xd78a44=document[_0x4ecd3d(0x693)]('timer-duration-container'),_0x32d6a7=document[_0x4ecd3d(0x693)]('timer-duration-label'),_0x5ce68b=document['getElementById'](_0x4ecd3d(0x24b));_0x5d8988[_0x4ecd3d(0x588)][_0x4ecd3d(0xc5c)]===_0x4ecd3d(0x2c6)?_0xd78a44[_0x4ecd3d(0x43c)][_0x4ecd3d(0x128)]('hidden'):(_0xd78a44['classList'][_0x4ecd3d(0x200)]('hidden'),_0x5d8988[_0x4ecd3d(0x588)]['value']===_0x4ecd3d(0x532)?(_0x32d6a7[_0x4ecd3d(0xc08)]=_0x4ecd3d(0x4a1),_0x5ce68b[_0x4ecd3d(0xc5c)]='10'):(_0x32d6a7[_0x4ecd3d(0xc08)]=_0x4ecd3d(0x7b2),_0x5ce68b[_0x4ecd3d(0xc5c)]='30'));}),document[_0x4ccbae(0x693)]('quiz-type-select')[_0x4ccbae(0x5e0)](_0x4ccbae(0xe52),_0x411046=>{const _0x523c34=_0x4ccbae,_0x2446c4=document['getElementById'](_0x523c34(0x7a9)),_0x209198=_0x411046[_0x523c34(0x588)]['value'],_0x5996ea=document[_0x523c34(0xbc1)](_0x523c34(0x3fc)),_0xc4e1bd=document[_0x523c34(0x693)]('passing-score-input'),_0x3e8a78=document[_0x523c34(0x693)](_0x523c34(0x30e));_0x209198===_0x523c34(0x93b)?_0x5996ea[_0x523c34(0xc08)]=_0x523c34(0xcd6):_0x5996ea[_0x523c34(0xc08)]=_0x523c34(0x72a),_0x209198===_0x523c34(0x6c4)||_0x209198===_0x523c34(0x7fc)||_0x209198==='mixed'?_0x2446c4['classList']['remove']('hidden'):_0x2446c4[_0x523c34(0x43c)][_0x523c34(0x128)]('hidden'),_0xc4e1bd[_0x523c34(0x417)]=_0x3e8a78[_0x523c34(0xc5c)];}),document[_0x4ccbae(0x693)](_0x4ccbae(0x30e))[_0x4ccbae(0x5e0)](_0x4ccbae(0x3f1),_0x1208d2=>{const _0x4f3870=_0x4ccbae;document[_0x4f3870(0x693)](_0x4f3870(0x4c6))['max']=_0x1208d2[_0x4f3870(0x588)]['value'];}),document['getElementById'](_0x4ccbae(0xb65))[_0x4ccbae(0x5e0)]('change',_0x53c3b1=>{const _0x3b408d=_0x4ccbae,_0x25376e=document[_0x3b408d(0x693)]('modal-timer-duration-container'),_0x21272b=document[_0x3b408d(0x693)]('modal-timer-duration-label'),_0x1d324f=document[_0x3b408d(0x693)](_0x3b408d(0x6ee));_0x53c3b1[_0x3b408d(0x588)]['value']==='none'?_0x25376e[_0x3b408d(0x43c)][_0x3b408d(0x128)](_0x3b408d(0xa21)):(_0x25376e[_0x3b408d(0x43c)][_0x3b408d(0x200)](_0x3b408d(0xa21)),_0x53c3b1[_0x3b408d(0x588)][_0x3b408d(0xc5c)]===_0x3b408d(0x532)?_0x21272b[_0x3b408d(0xc08)]=_0x3b408d(0x4a1):_0x21272b[_0x3b408d(0xc08)]='ระยะเวลา\x20(วินาที):');}),document[_0x4ccbae(0x693)](_0x4ccbae(0xf7))[_0x4ccbae(0x5e0)]('click',()=>{const _0x4a5db6=_0x4ccbae;document[_0x4a5db6(0x693)](_0x4a5db6(0x644))[_0x4a5db6(0x43c)]['add'](_0x4a5db6(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0x1f8))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x26a7dc=_0x4ccbae;document[_0x26a7dc(0x693)](_0x26a7dc(0x644))[_0x26a7dc(0x43c)][_0x26a7dc(0x128)](_0x26a7dc(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xd3a))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleVerifyAnswersInEditor),document[_0x4ccbae(0x693)](_0x4ccbae(0x99a))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x5f3202=_0x4ccbae;document[_0x5f3202(0x693)](_0x5f3202(0x644))['classList'][_0x5f3202(0x128)](_0x5f3202(0xa21)),showConfirmation(_0x5f3202(0x474),handleSaveChanges);}),document[_0x4ccbae(0x693)]('auto-fix-latex-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleAutoFixLatex);const _0x1fcc19=document[_0x4ccbae(0x693)](_0x4ccbae(0xaf6));_0x1fcc19&&_0x1fcc19[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),_0x43e9f1=>{const _0x4ebb40=_0x4ccbae,_0x23a9a6=_0x43e9f1['target'][_0x4ebb40(0xe11)]('.regenerate-question-editor-btn');if(_0x23a9a6){const _0x5cc9c0=_0x23a9a6[_0x4ebb40(0xe11)](_0x4ebb40(0x880)),_0x148f63=parseInt(_0x5cc9c0['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x148f63);return;}const _0x5acc6a=_0x43e9f1[_0x4ebb40(0x588)][_0x4ebb40(0xe11)](_0x4ebb40(0xc94));if(_0x5acc6a){const _0x54b150=_0x5acc6a[_0x4ebb40(0xe11)](_0x4ebb40(0x880)),_0x195720=parseInt(_0x54b150[_0x4ebb40(0x43d)][_0x4ebb40(0x81d)],0xa);handleDeleteQuestionInEditor(_0x195720);return;}const _0x47d04b=_0x43e9f1[_0x4ebb40(0x588)][_0x4ebb40(0xe11)](_0x4ebb40(0x148));if(_0x47d04b){handleAddQuestionInEditor();return;}});document[_0x4ccbae(0x693)](_0x4ccbae(0x836))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),openQuizBankModal),document['getElementById'](_0x4ccbae(0x5b0))['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x292662=_0x4ccbae;document['getElementById'](_0x292662(0x27b))[_0x292662(0x43c)]['add'](_0x292662(0xa21));}),document['getElementById'](_0x4ccbae(0x6b8))[_0x4ccbae(0x5e0)](_0x4ccbae(0x3f1),_0x46fa6e=>renderQuizBankList(_0x46fa6e[_0x4ccbae(0x588)][_0x4ccbae(0xc5c)]));const _0x167917=document[_0x4ccbae(0x693)](_0x4ccbae(0x58f));if(_0x167917){let _0x1ace1b=null;_0x167917[_0x4ccbae(0x5e0)]('click',_0x5919b1=>{const _0x1f00ba=_0x4ccbae,_0x7d88c9=_0x5919b1[_0x1f00ba(0x588)],_0x446bb1=_0x7d88c9[_0x1f00ba(0xe11)](_0x1f00ba(0x5b8)),_0x1cff10=_0x7d88c9['closest'](_0x1f00ba(0x402)),_0x5e1e26=_0x7d88c9[_0x1f00ba(0xe11)](_0x1f00ba(0xe24)),_0x3b1fc4=_0x7d88c9['closest'](_0x1f00ba(0x61c));if(_0x1cff10){_0x5919b1[_0x1f00ba(0x32c)]();const _0x466787=_0x1cff10[_0x1f00ba(0x43d)]['id'],_0xce0718=_0x1cff10[_0x1f00ba(0xe11)](_0x1f00ba(0x4a9))[_0x1f00ba(0xbc1)](_0x1f00ba(0x9c7))['textContent'];showConfirmation(_0x1f00ba(0x522)+_0xce0718+'\x22?',()=>handleDeleteCustomTopic(_0x466787));}else{if(_0x446bb1){_0x5919b1[_0x1f00ba(0x32c)]();_0x1ace1b&&toggleTopicEditMode(_0x1ace1b,![]);const _0xd110ae=_0x446bb1['closest'](_0x1f00ba(0x82f));_0x1ace1b=_0xd110ae,toggleTopicEditMode(_0xd110ae,!![]);}else{if(_0x5e1e26){_0x5919b1[_0x1f00ba(0x32c)]();const _0x4592bc=_0x5e1e26['dataset']['id'],_0x562acd=_0x5e1e26[_0x1f00ba(0xe11)](_0x1f00ba(0x82f)),_0x46f430=_0x562acd[_0x1f00ba(0xbc1)]('.topic-name-input')[_0x1f00ba(0xc5c)];handleUpdateCustomTopic(_0x4592bc,_0x46f430),_0x1ace1b=null;}else{if(_0x3b1fc4){_0x5919b1[_0x1f00ba(0x32c)]();const _0x5142d0=_0x3b1fc4[_0x1f00ba(0xe11)](_0x1f00ba(0x82f));toggleTopicEditMode(_0x5142d0,![]),_0x1ace1b=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x2bf5a1=_0x4ccbae;document[_0x2bf5a1(0x693)]('lesson-plan-modal')[_0x2bf5a1(0x43c)][_0x2bf5a1(0x128)]('hidden');}),document['getElementById'](_0x4ccbae(0x81e))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x392d0f=_0x4ccbae;document[_0x392d0f(0x693)](_0x392d0f(0x587))[_0x392d0f(0x43c)][_0x392d0f(0x128)](_0x392d0f(0xa21));}),document[_0x4ccbae(0x693)](_0x4ccbae(0xb07))[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x70d626=_0x4ccbae;document['getElementById']('comparison-modal')[_0x70d626(0x43c)][_0x70d626(0x128)](_0x70d626(0xa21));}),document[_0x4ccbae(0x693)]('close-comparison-modal-footer-btn')['addEventListener'](_0x4ccbae(0x2df),()=>{const _0x5d1951=_0x4ccbae;document['getElementById'](_0x5d1951(0xe00))[_0x5d1951(0x43c)][_0x5d1951(0x128)](_0x5d1951(0xa21));}),setupComparisonModalTabs(),document[_0x4ccbae(0xc69)]['addEventListener'](_0x4ccbae(0x2df),function(_0xbecce7){const _0x2ea3f2=_0x4ccbae;if(_0xbecce7[_0x2ea3f2(0x588)][_0x2ea3f2(0x43c)][_0x2ea3f2(0x539)](_0x2ea3f2(0x803))){const _0x58f4dd=unescape(_0xbecce7[_0x2ea3f2(0x588)][_0x2ea3f2(0x43d)]['topic']);startSkillPractice(_0x58f4dd);}}),document[_0x4ccbae(0x693)](_0x4ccbae(0xf5))[_0x4ccbae(0x5e0)]('click',_0x3df58b=>{const _0x15edfc=_0x4ccbae,_0x12e191=_0x3df58b[_0x15edfc(0x588)]['closest'](_0x15edfc(0x1df));if(_0x12e191){const _0x55eef5=_0x12e191[_0x15edfc(0x43d)]['studentName'];handleDeleteSubmission(_0x55eef5);return;}const _0x43688b=_0x3df58b['target'][_0x15edfc(0xe11)](_0x15edfc(0x7c6));if(_0x43688b){const _0x5d8aac=_0x43688b['dataset'][_0x15edfc(0x6df)],_0x9f1a05=_0x43688b['dataset'][_0x15edfc(0x4c3)],_0x514a63=prompt('แก้ไขคะแนน\x20Points\x20ของ\x20\x22'+_0x5d8aac+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x9f1a05);if(_0x514a63!==null&&_0x514a63[_0x15edfc(0xb6d)]()!==''){const _0x406e6a=parseInt(_0x514a63,0xa);!isNaN(_0x406e6a)?handleManualEditPoints(_0x5d8aac,_0x406e6a):alert(_0x15edfc(0xa57));}}}),document['getElementById'](_0x4ccbae(0xe5d))?.[_0x4ccbae(0x5e0)]('click',()=>{const _0x11458d=_0x4ccbae;document['getElementById']('pin-entry-modal')[_0x11458d(0x43c)][_0x11458d(0x128)](_0x11458d(0xa21));}),document[_0x4ccbae(0xe56)]('.pin-key')[_0x4ccbae(0x242)](_0x3bcb72=>{const _0x3f16d6=_0x4ccbae;_0x3bcb72[_0x3f16d6(0x5e0)](_0x3f16d6(0x2df),()=>{const _0x5119c1=_0x3f16d6;handlePinKeyPress(_0x3bcb72['dataset'][_0x5119c1(0xd4f)]);});}),document[_0x4ccbae(0x693)](_0x4ccbae(0xb22))?.[_0x4ccbae(0x5e0)](_0x4ccbae(0x2df),()=>{const _0x1089e1=_0x4ccbae;handlePinKeyPress(_0x1089e1(0x492));});}async function handleStartGroupMode(_0x418022,_0x2dd89f=![]){const _0x55eeb6=_0x1b93ee,_0x520582=allQuizzes['find'](_0x416a2d=>_0x416a2d['id']===_0x418022)||allQuizzesGlobal[_0x55eeb6(0xe69)](_0x8672c=>_0x8672c['id']===_0x418022);if(!_0x520582){showMessage(_0x55eeb6(0xe1b));return;}currentQuizData=getShuffledQuiz(_0x520582);const _0x4b3dec=Math[_0x55eeb6(0x567)](0x3e8+Math[_0x55eeb6(0x281)]()*0x2328)[_0x55eeb6(0x95f)]();try{const _0x2b8fe3=await addDoc(collection(db,_0x55eeb6(0xe45)+appId+_0x55eeb6(0xbf0)),{'quizId':_0x520582['id'],'projectId':_0x520582[_0x55eeb6(0x3a0)],'status':'lobby','pin':_0x4b3dec,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2dd89f});currentTeamQuizId=_0x2b8fe3['id'],showView(_0x55eeb6(0xc45)),renderAdminTeamQuizDashboard(_0x4b3dec,_0x520582[_0x55eeb6(0x669)],_0x55eeb6(0xa4c)),listenForTeamQuizUpdates();}catch(_0x110e97){console[_0x55eeb6(0x75e)](_0x55eeb6(0x361),_0x110e97),showMessage(_0x55eeb6(0xce9));}}async function showStudentProgressView(){const _0x78cbd2=_0x1b93ee;studentInitialView[_0x78cbd2(0x43c)][_0x78cbd2(0x128)](_0x78cbd2(0xa21)),document[_0x78cbd2(0x693)](_0x78cbd2(0xe3b))[_0x78cbd2(0x43c)]['remove'](_0x78cbd2(0xa21));const _0x12e8ea=document[_0x78cbd2(0x693)](_0x78cbd2(0xa32)),_0x21a379=document[_0x78cbd2(0x693)]('progress-student-select'),_0x287672=document[_0x78cbd2(0x693)](_0x78cbd2(0xe60));_0x287672[_0x78cbd2(0xc8c)]=_0x78cbd2(0x3f8),_0x21a379[_0x78cbd2(0xc8c)]=_0x78cbd2(0x5f0),_0x21a379[_0x78cbd2(0xe12)]=!![],_0x12e8ea[_0x78cbd2(0xc8c)]=_0x78cbd2(0x713);if(allProjects[_0x78cbd2(0x357)]===0x0){const _0x5a8562=collection(db,_0x78cbd2(0xe45)+appId+_0x78cbd2(0xb89)),_0x5dce67=await getDocs(_0x5a8562);allProjects=_0x5dce67[_0x78cbd2(0x34d)][_0x78cbd2(0x926)](_0x406642=>({'id':_0x406642['id'],..._0x406642['data']()}));}const _0x5e4a4f=allProjects[_0x78cbd2(0x107)](_0x4b5cf1=>_0x4b5cf1[_0x78cbd2(0x3f0)]?.[_0x78cbd2(0x58b)]!==![]);_0x5e4a4f[_0x78cbd2(0xa05)]((_0x2c7f86,_0x4ac515)=>_0x2c7f86[_0x78cbd2(0x21c)][_0x78cbd2(0xb9d)](_0x4ac515[_0x78cbd2(0x21c)],'th')),_0x12e8ea[_0x78cbd2(0xc8c)]=_0x78cbd2(0x829)+_0x5e4a4f[_0x78cbd2(0x926)](_0xa3a190=>_0x78cbd2(0x1fe)+_0xa3a190['id']+'\x22>'+_0xa3a190['projectName']+_0x78cbd2(0x280))[_0x78cbd2(0xd7b)](''),_0x12e8ea[_0x78cbd2(0x674)]=()=>{const _0x3b06f0=_0x78cbd2,_0x5c82d1=_0x21a379['value'],_0x9bcb5b=_0x12e8ea['value'];_0x21a379[_0x3b06f0(0xe12)]=!![],_0x21a379[_0x3b06f0(0xc8c)]=_0x3b06f0(0x5f0),_0x287672['innerHTML']=_0x3b06f0(0x1d6);if(!_0x9bcb5b)return;const _0x58b017=allProjects['find'](_0x1c0884=>_0x1c0884['id']===_0x9bcb5b);if(!_0x58b017||!_0x58b017[_0x3b06f0(0xa64)])return;const _0x3526a2=()=>{const _0x14a547=_0x3b06f0;_0x21a379['innerHTML']=_0x14a547(0x5f0)+_0x58b017['students']['map'](_0x30667e=>_0x14a547(0x1fe)+_0x30667e+'\x22>'+_0x30667e+_0x14a547(0x280))[_0x14a547(0xd7b)](''),_0x21a379['disabled']=![];const _0xf72c15=Array[_0x14a547(0xb1b)](_0x21a379[_0x14a547(0x2da)])[_0x14a547(0x926)](_0xe576d6=>_0xe576d6['value']);if(_0x5c82d1&&_0xf72c15['includes'](_0x5c82d1))_0x21a379['value']=_0x5c82d1,_0x21a379['dispatchEvent'](new Event(_0x14a547(0xe52)));else _0x58b017[_0x14a547(0xa64)][_0x14a547(0x357)]===0x1&&(_0x21a379['value']=_0x58b017[_0x14a547(0xa64)][0x0],_0x21a379['dispatchEvent'](new Event(_0x14a547(0xe52))));};if(_0x58b017[_0x3b06f0(0x3f0)]?.[_0x3b06f0(0xbb5)]){if(sessionStorage[_0x3b06f0(0x19b)](_0x3b06f0(0x487)+_0x9bcb5b)===_0x3b06f0(0xe0d)){_0x3526a2();return;}const _0x50eb78=document[_0x3b06f0(0x693)](_0x3b06f0(0x7cf)),_0x3ce08a=document[_0x3b06f0(0x693)](_0x3b06f0(0x1e4)),_0x59ff7f=document[_0x3b06f0(0x693)]('cancel-passcode-btn'),_0x44e049=document['getElementById'](_0x3b06f0(0xd7c)),_0x50fd38=document[_0x3b06f0(0x693)](_0x3b06f0(0xb50));document[_0x3b06f0(0x693)](_0x3b06f0(0x3aa))[_0x3b06f0(0xc08)]=_0x3b06f0(0x878)+_0x58b017['projectName'],_0x44e049[_0x3b06f0(0xc5c)]='',_0x50fd38['classList']['add'](_0x3b06f0(0xa21)),_0x50eb78[_0x3b06f0(0x43c)][_0x3b06f0(0x200)](_0x3b06f0(0xa21));const _0x4c3da7=()=>{const _0x5bb995=_0x3b06f0,_0x3d60be=_0x44e049['value'][_0x5bb995(0xb6d)]();_0x3d60be===_0x58b017[_0x5bb995(0x3f0)][_0x5bb995(0xd60)]?(sessionStorage['setItem'](_0x5bb995(0x487)+_0x9bcb5b,_0x5bb995(0xe0d)),_0x50eb78['classList'][_0x5bb995(0x128)](_0x5bb995(0xa21)),_0x3526a2(),_0x3ce08a[_0x5bb995(0x663)](_0x5bb995(0x2df),_0x4c3da7)):_0x50fd38['classList'][_0x5bb995(0x200)](_0x5bb995(0xa21));};_0x3ce08a['onclick']=_0x4c3da7,_0x59ff7f[_0x3b06f0(0x72e)]=()=>{const _0x3e0aca=_0x3b06f0;_0x50eb78[_0x3e0aca(0x43c)][_0x3e0aca(0x128)](_0x3e0aca(0xa21)),_0x12e8ea[_0x3e0aca(0xc5c)]='',_0x3ce08a[_0x3e0aca(0x663)](_0x3e0aca(0x2df),_0x4c3da7);};}else _0x3526a2();},_0x21a379[_0x78cbd2(0x674)]=()=>{const _0x36e98e=_0x78cbd2,_0x37f515=_0x12e8ea['value'],_0x3f458c=_0x21a379[_0x36e98e(0xc5c)];_0x37f515&&_0x3f458c&&renderStudentProgressDashboard(_0x37f515,_0x3f458c);};}async function confirmAndJoinSyncGame(){const _0x554c69=_0x1b93ee;lastSeenQuestionIndex=-0x1,sessionStorage[_0x554c69(0xe44)](_0x554c69(0xdb6)),sessionStorage[_0x554c69(0xe44)]('onSecondChance'),Object[_0x554c69(0x89a)](sessionStorage)[_0x554c69(0x242)](_0x24f506=>{const _0x4c5295=_0x554c69;(_0x24f506[_0x4c5295(0x3a6)](_0x4c5295(0x4a5))||_0x24f506[_0x4c5295(0x3a6)](_0x4c5295(0x156))||_0x24f506[_0x4c5295(0x3a6)]('hiddenOptions_q'))&&sessionStorage[_0x4c5295(0xe44)](_0x24f506);});const _0x47821a=Array[_0x554c69(0xb1b)](document['querySelectorAll'](_0x554c69(0x426)))[_0x554c69(0x926)](_0x4f2127=>_0x4f2127[_0x554c69(0xc5c)]);if(_0x47821a[_0x554c69(0x357)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x47821a,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0xfca51c=writeBatch(db),_0x2a0201=serverTimestamp();_0x47821a[_0x554c69(0x242)](_0x498e00=>{const _0x5070e5=_0x554c69,_0x87250e=doc(db,_0x5070e5(0xe45)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x5070e5(0x224),_0x498e00),_0x16c18e={'name':_0x498e00,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x5070e5(0x69a),'answers':[],'joinedAt':_0x2a0201,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0xfca51c[_0x5070e5(0x136)](_0x87250e,_0x16c18e,{'merge':!![]});}),await _0xfca51c[_0x554c69(0x480)](),showView(_0x554c69(0xc45)),document[_0x554c69(0x693)](_0x554c69(0x8c9))[_0x554c69(0x43c)]['add'](_0x554c69(0xa21)),currentStudentName=_0x47821a[0x0],listenForSyncGameUpdates();const _0x220218={'gameId':currentLiveGameId,'mode':_0x554c69(0x64a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x554c69(0xce7)]('activeGameSession',JSON[_0x554c69(0x1f9)](_0x220218)),currentMode!==_0x554c69(0x68d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x554c69(0x5e0)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x554c69(0x717),handleVisibilityChange),enterFullscreen(),window[_0x554c69(0x5e0)](_0x554c69(0xdcf),resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x554c69(0x5e0)](_0x554c69(0x711),resetDimTimer),window[_0x554c69(0x5e0)](_0x554c69(0xc35),resetDimTimer),resetDimTimer());}catch(_0x7322a2){console[_0x554c69(0x75e)]('Error\x20joining\x20sync\x20game:',_0x7322a2),showMessage(_0x554c69(0xd9e)+_0x7322a2[_0x554c69(0x340)]);}}async function resumeActiveGameSession(){const _0x3e9a7c=_0x1b93ee,_0x3b2537=sessionStorage[_0x3e9a7c(0x19b)](_0x3e9a7c(0xe62));if(!_0x3b2537)return;const _0x2ada06=JSON[_0x3e9a7c(0xd84)](_0x3b2537),{gameId:_0xc210f8,mode:_0x5be250,role:_0x4e51a4,players:_0x2bd311,turnIndex:_0xca6d0c}=_0x2ada06;try{if(_0x4e51a4==='admin'&&_0x5be250===_0x3e9a7c(0x64a)){const _0x3a7d62=doc(db,_0x3e9a7c(0xe45)+appId+_0x3e9a7c(0xe74),_0xc210f8),_0x512322=await getDoc(_0x3a7d62);if(!_0x512322['exists']()||_0x512322[_0x3e9a7c(0x7d4)]()['status']==='podium'||_0x512322[_0x3e9a7c(0x7d4)]()[_0x3e9a7c(0x7f7)]===_0x3e9a7c(0x405)){sessionStorage[_0x3e9a7c(0xe44)](_0x3e9a7c(0xe62));return;}console[_0x3e9a7c(0xb20)]('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0xc210f8+')'),currentMode=_0x3e9a7c(0x23c),currentLiveGameId=_0xc210f8,currentQuizData=_0x512322[_0x3e9a7c(0x7d4)]()[_0x3e9a7c(0xd4c)],showView(_0x3e9a7c(0xc45)),listenForSyncGameUpdates();}else{if(_0x5be250===_0x3e9a7c(0x64a)&&_0x2bd311){const _0x98b87f=doc(db,_0x3e9a7c(0xe45)+appId+_0x3e9a7c(0xe74),_0xc210f8),_0x4e11bc=await getDoc(_0x98b87f);if(!_0x4e11bc[_0x3e9a7c(0x5a9)]()||_0x4e11bc[_0x3e9a7c(0x7d4)]()['status']===_0x3e9a7c(0x806)||_0x4e11bc[_0x3e9a7c(0x7d4)]()[_0x3e9a7c(0x7f7)]===_0x3e9a7c(0x405)){sessionStorage[_0x3e9a7c(0xe44)](_0x3e9a7c(0xe62));return;}console['log'](_0x3e9a7c(0x19c)+_0xc210f8+')'),currentLiveGameId=_0xc210f8,currentStudentName=_0x2bd311[0x0],localTeamPlayers=_0x2bd311,showView(_0x3e9a7c(0xc45)),listenForSyncGameUpdates();}else{if((_0x5be250===_0x3e9a7c(0x134)||_0x5be250===_0x3e9a7c(0xa4c))&&_0x2bd311){const _0x285faa=doc(db,_0x3e9a7c(0xe45)+appId+_0x3e9a7c(0xbf0),_0xc210f8),_0x1c20f9=await getDoc(_0x285faa);if(!_0x1c20f9[_0x3e9a7c(0x5a9)]()||_0x1c20f9['data']()[_0x3e9a7c(0x7f7)]===_0x3e9a7c(0x806)||_0x1c20f9[_0x3e9a7c(0x7d4)]()['status']==='finished'){sessionStorage[_0x3e9a7c(0xe44)]('activeGameSession');return;}console[_0x3e9a7c(0xb20)]('กำลังกลับเข้าสู่เกม\x20'+_0x5be250+_0x3e9a7c(0xe53)+_0xc210f8+')'),currentTeamQuizId=_0xc210f8,localTeamPlayers=_0x2bd311,localQuestionIndex=_0x2ada06[_0x3e9a7c(0x684)]||0x0,localPlayerIndex=_0x2ada06['playerIndex']||0x0;const _0x4abbf3=_0x1c20f9[_0x3e9a7c(0x7d4)](),_0x6c3341=doc(db,_0x3e9a7c(0xe45)+appId+_0x3e9a7c(0x868),_0x4abbf3[_0x3e9a7c(0xbcc)]),_0x477faa=await getDoc(_0x6c3341);_0x477faa['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x477faa['id'],..._0x477faa[_0x3e9a7c(0x7d4)]()}),showView(_0x3e9a7c(0x5ed)),studentInitialView[_0x3e9a7c(0x43c)][_0x3e9a7c(0x128)](_0x3e9a7c(0xa21)),_0x5be250===_0x3e9a7c(0xa4c)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x47737e){console[_0x3e9a7c(0x75e)](_0x3e9a7c(0xaff),_0x47737e),sessionStorage[_0x3e9a7c(0xe44)](_0x3e9a7c(0xe62));}}async function handleUsePowerup(_0x2ab212,_0x4348f5,_0x2b56f3,_0x1005fc,_0x1e43d7){const _0xdfdf88=_0x1b93ee,_0x3a17a9=_0x1005fc[_0xdfdf88(0x345)],_0x400790=_0xdfdf88(0x156)+_0x3a17a9+'_p'+_0x2ab212,_0x5cb9c6=sessionStorage[_0xdfdf88(0x19b)](_0x400790);if(_0x5cb9c6&&_0x4348f5!==_0xdfdf88(0x6d2)&&_0x4348f5!==_0xdfdf88(0x67a)){showMessage(_0xdfdf88(0x2f5));const _0x5b6964=document['getElementById'](_0xdfdf88(0x5c9)+_0x4348f5);if(_0x5b6964)_0x5b6964[_0xdfdf88(0xe12)]=![];return;}if(_0x4348f5===_0xdfdf88(0xa95)){sessionStorage[_0xdfdf88(0xce7)](_0x400790,_0x4348f5),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x1005fc);return;}const _0x26868e=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0xdfdf88(0x224),_0x2ab212);try{await runTransaction(db,async _0x45de6c=>{const _0x440287=_0xdfdf88,_0x52554e=await _0x45de6c['get'](_0x26868e);if(!_0x52554e[_0x440287(0x5a9)]())throw _0x440287(0xe76);const _0x20ee9f=_0x52554e[_0x440287(0x7d4)](),_0x3852ec=_0x20ee9f[_0x440287(0x140)]||{},_0x37190f=_0x3852ec[_0x4348f5]||0x0;if(_0x37190f<=0x0)throw _0x440287(0xa3e);const _0x4a575d={};_0x4a575d[_0x440287(0x8e5)+_0x4348f5]=increment(-0x1);_0x4348f5!==_0x440287(0xa95)&&(_0x4a575d['correctStreak']=0x0);if(_0x4348f5===_0x440287(0x6d2)){const _0x1d6536=(_0x1005fc[_0x440287(0x8d0)]||0xf0)*0x3e8,_0x1ecbcf=_0x1d6536*0.25;_0x4a575d[_0x440287(0x9d2)]=increment(_0x1ecbcf);}_0x45de6c['update'](_0x26868e,_0x4a575d);}),_0x4348f5===_0xdfdf88(0x1ec)&&sessionStorage[_0xdfdf88(0xce7)](_0xdfdf88(0xdb6),_0xdfdf88(0xe0d)),_0x4348f5!==_0xdfdf88(0x6d2)&&_0x4348f5!=='strategyScan'&&sessionStorage[_0xdfdf88(0xce7)](_0x400790,_0x4348f5),playSystemSound('powerup'),applyPowerupEffect(_0x2ab212,_0x4348f5,_0x2b56f3,_0x1005fc,_0x1e43d7),(_0x4348f5===_0xdfdf88(0x565)||_0x4348f5===_0xdfdf88(0x57a)||_0x4348f5===_0xdfdf88(0x3d8)||_0x4348f5==='revealOptions')&&renderStudentSyncQuestionView(_0x1005fc),_0x4348f5!=='wagerMultiplier'&&_0x1e43d7[_0xdfdf88(0x48c)]>0x0&&showMessage(_0xdfdf88(0xc3b)+_0x4348f5+_0xdfdf88(0x962));}catch(_0x38b176){console[_0xdfdf88(0x75e)](_0xdfdf88(0x9bc),_0x38b176),showMessage(typeof _0x38b176==='string'?_0x38b176:_0xdfdf88(0x692));const _0xec5eec=document[_0xdfdf88(0x693)](_0xdfdf88(0x5c9)+_0x4348f5);if(_0xec5eec)_0xec5eec[_0xdfdf88(0xe12)]=![];}}async function getCachedOtherPlayers(_0x3a78fe,_0xb11e1b){const _0x56c742=_0x1b93ee,_0x2ca8aa=_0x3a78fe[_0x56c742(0x345)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x2ca8aa)return console[_0x56c742(0xb20)](_0x56c742(0xab1)),cachedOtherPlayersForQuestion;console[_0x56c742(0xb20)](_0x56c742(0xb95));const _0x3a6d3d=collection(db,'artifacts/'+appId+_0x56c742(0x2be)+currentLiveGameId+_0x56c742(0x224)),_0x10847c=query(_0x3a6d3d,where(_0x56c742(0x7f7),'==',_0x56c742(0x69a))),_0x2eb335=await getDocs(_0x10847c),_0x40c7b2=[];return _0x2eb335[_0x56c742(0x242)](_0xeede8e=>{const _0x52b0fc=_0x56c742,_0x31cda9=_0xeede8e['data']();_0x40c7b2[_0x52b0fc(0xce5)](_0x31cda9);}),cachedOtherPlayersForQuestion=_0x40c7b2,cachedQuestionIndexForPlayers=_0x2ca8aa,_0x40c7b2;}async function applyPowerupEffect(_0x4f4005,_0x28228e,_0x2d6dcb,_0x150e60,_0x371444){const _0x49b96b=_0x1b93ee,_0x177f0f=_0x2d6dcb,_0x3c6670=_0x150e60['currentQuestionIndex'];switch(_0x28228e){case _0x49b96b(0xa95):showMessage(_0x49b96b(0xc42));break;case _0x49b96b(0x267):showMessage(_0x49b96b(0x4b2));break;case _0x49b96b(0x6d2):const _0x52c188=(_0x150e60[_0x49b96b(0x8d0)]||0xf0)*0.25;showMessage(_0x49b96b(0x694)+_0x52c188+_0x49b96b(0x495));break;case _0x49b96b(0x565):case _0x49b96b(0x57a):const _0x4430f6=document[_0x49b96b(0xe56)](_0x49b96b(0x8d5));if(_0x4430f6[_0x49b96b(0x357)]===0x0){showMessage(_0x49b96b(0xe3f));return;}const _0xfd9808=_0x49b96b(0xb35)+_0x3c6670+'_p'+_0x4f4005,_0x1cb2de=JSON[_0x49b96b(0xd84)](sessionStorage[_0x49b96b(0x19b)](_0xfd9808)||'[]');let _0x2a301c;const _0x31cdc0=_0x177f0f['questionType']||_0x150e60[_0x49b96b(0xd4c)][_0x49b96b(0xcd7)];_0x31cdc0===_0x49b96b(0xa76)?_0x2a301c=String(_0x177f0f[_0x49b96b(0xbde)])[_0x49b96b(0x95a)]()===_0x49b96b(0xe0d)?0x0:0x1:_0x2a301c=_0x177f0f[_0x49b96b(0x3b0)];const _0x1bbe02=Array[_0x49b96b(0xb1b)](_0x4430f6)[_0x49b96b(0x107)](_0x1837cf=>parseInt(_0x1837cf[_0x49b96b(0x43d)][_0x49b96b(0xc5c)])!==_0x2a301c&&!_0x1cb2de['includes'](_0x1837cf[_0x49b96b(0x43d)][_0x49b96b(0xc5c)]));if(_0x1bbe02[_0x49b96b(0x357)]===0x0){showMessage(_0x49b96b(0x8ad));return;}shuffleArray(_0x1bbe02);const _0x1c3a7a=_0x28228e===_0x49b96b(0x565)?0x1:0x2,_0x5330b5=[];for(let _0x5e47b0=0x0;_0x5e47b0<_0x1c3a7a;_0x5e47b0++){_0x1bbe02[_0x5e47b0]&&(_0x1bbe02[_0x5e47b0]['classList'][_0x49b96b(0x128)](_0x49b96b(0xa21)),_0x5330b5['push'](_0x1bbe02[_0x5e47b0][_0x49b96b(0x43d)][_0x49b96b(0xc5c)]));}const _0x566fbe=[..._0x1cb2de,..._0x5330b5];sessionStorage['setItem'](_0xfd9808,JSON[_0x49b96b(0x1f9)](_0x566fbe)),showMessage(_0x28228e===_0x49b96b(0x565)?_0x49b96b(0x500):_0x49b96b(0xcb9));break;default:showMessage('ใช้ไอเทม\x20'+_0x28228e+_0x49b96b(0x76d));}}async function handleForceConfident(_0x501a34,_0x6a1890){const _0x4c46da=_0x1b93ee;if(!currentLiveGameId||!_0x501a34)return;const _0x3cd717=doc(db,_0x4c46da(0xe45)+appId+_0x4c46da(0x2be)+currentLiveGameId+_0x4c46da(0x224),_0x501a34);try{await updateDoc(_0x3cd717,{'isForcedConfident':!![]}),showMessage(_0x4c46da(0xdac)+_0x6a1890+_0x4c46da(0x643));}catch(_0x5b6433){console[_0x4c46da(0x75e)](_0x4c46da(0x202),_0x5b6433),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x285f47,_0x20ba07){const _0x3b0577=_0x1b93ee,_0x569111=doc(db,_0x3b0577(0xe45)+appId+_0x3b0577(0x2be)+currentLiveGameId+_0x3b0577(0x224),_0x285f47);try{const _0x418b29={};_0x418b29['powerups.'+_0x20ba07]=increment(0x1),await updateDoc(_0x569111,_0x418b29),console[_0x3b0577(0xb20)](_0x3b0577(0x12b)+_0x20ba07+_0x3b0577(0x2d0)+_0x285f47);}catch(_0x2f4685){console[_0x3b0577(0x75e)](_0x3b0577(0xb16),_0x2f4685);}}async function handleApplyJinx(_0x499135,_0x37fbb8){const _0x110ee9=_0x1b93ee;if(!currentLiveGameId||!_0x499135)return;const _0x538eed=doc(db,_0x110ee9(0xe45)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x110ee9(0x224),_0x499135);try{await updateDoc(_0x538eed,{'isJinxed':!![]}),showMessage(_0x110ee9(0xa1e)+_0x37fbb8+'\x20สำเร็จ!');}catch(_0x26277e){console[_0x110ee9(0x75e)](_0x110ee9(0x7fd),_0x26277e),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0xbcbda2=_0x1b93ee,_0x2465f8=document[_0xbcbda2(0x693)](_0xbcbda2(0xaf3)),_0x5720cd=document[_0xbcbda2(0x693)](_0xbcbda2(0xb68)),_0x573b4d=document['getElementById']('separate-by-content-from-file-checkbox');selectedFile?_0x573b4d[_0xbcbda2(0xb48)]?(_0x2465f8[_0xbcbda2(0xe12)]=!![],analyzeFileForTopics(selectedFile)):(_0x2465f8[_0xbcbda2(0xe12)]=![],_0x5720cd[_0xbcbda2(0x43c)][_0xbcbda2(0x128)](_0xbcbda2(0xa21))):(_0x2465f8[_0xbcbda2(0xe12)]=!![],_0x5720cd[_0xbcbda2(0x43c)][_0xbcbda2(0x128)](_0xbcbda2(0xa21)));}async function handleKickPlayerSync(_0x15efa8){const _0x4d751c=_0x1b93ee;if(!currentLiveGameId||!_0x15efa8)return;const _0x564c6b=doc(db,_0x4d751c(0xe45)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x15efa8);try{await updateDoc(_0x564c6b,{'status':_0x4d751c(0xe4d)});}catch(_0x70efa8){console['error'](_0x4d751c(0x7c4)+_0x15efa8+':',_0x70efa8),showMessage(_0x4d751c(0x10f));}}async function renderStudentProgressDashboard(_0x43b31e,_0x487f53){const _0x1b94b2=_0x1b93ee,_0x1b7e42=document[_0x1b94b2(0x693)](_0x1b94b2(0xe60));_0x1b7e42[_0x1b94b2(0xc8c)]=_0x1b94b2(0x62a);try{const _0x57dc5f=collection(db,'artifacts/'+appId+_0x1b94b2(0x868)),_0x537be8=query(_0x57dc5f,where(_0x1b94b2(0x3a0),'==',_0x43b31e)),_0x10ecee=await getDocs(_0x537be8),_0x321ef1=_0x10ecee[_0x1b94b2(0x34d)]['map'](_0x2d1e78=>({'id':_0x2d1e78['id'],..._0x2d1e78[_0x1b94b2(0x7d4)]()})),_0x272da9=_0x321ef1['map'](_0xaaf611=>getDoc(doc(db,_0x1b94b2(0xe45)+appId+_0x1b94b2(0x449)+_0xaaf611['id']+_0x1b94b2(0xddf),_0x487f53))),_0x53743d=await Promise[_0x1b94b2(0x10a)](_0x272da9),_0x1ae6b6=_0x53743d['filter'](_0x4f6858=>_0x4f6858[_0x1b94b2(0x5a9)]())[_0x1b94b2(0x926)](_0x1784f5=>({'quizId':_0x1784f5['ref'][_0x1b94b2(0xd92)][_0x1b94b2(0xd92)]['id'],..._0x1784f5[_0x1b94b2(0x7d4)]()}));if(_0x1ae6b6[_0x1b94b2(0x357)]===0x0){_0x1b7e42['innerHTML']=_0x1b94b2(0x62e);return;}let _0x3b631c=_0x1b94b2(0x7ea);_0x1ae6b6[_0x1b94b2(0x242)](_0x56c4e3=>{const _0x3058f1=_0x1b94b2,_0x5b09b6=_0x321ef1['find'](_0x59d330=>_0x59d330['id']===_0x56c4e3['quizId']),_0x963434=_0x5b09b6[_0x3058f1(0x3f0)]?.[_0x3058f1(0xc9e)]||_0x3058f1(0xbe0),_0x9dac3b=_0x5b09b6[_0x3058f1(0x3f0)]?.[_0x3058f1(0x18e)]??0x0,_0x452d47=_0x56c4e3[_0x3058f1(0xda6)]>=_0x9dac3b;let _0x25eb4d='',_0x31a965=_0x3058f1(0x35c);switch(_0x963434){case'show_results_and_answers':case _0x3058f1(0xa9f):_0x31a965=_0x452d47?'bg-green-50':_0x3058f1(0x5ec),_0x25eb4d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x452d47?_0x3058f1(0x315):_0x3058f1(0x2ce))+'\x22>'+_0x56c4e3[_0x3058f1(0xda6)]+_0x3058f1(0x2c5)+_0x56c4e3[_0x3058f1(0x67b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x452d47?_0x3058f1(0x52b):_0x3058f1(0x59c))+'\x22>'+(_0x452d47?'ผ่าน':'ไม่ผ่าน')+_0x3058f1(0x31f);break;case _0x3058f1(0x7a3):_0x31a965=_0x452d47?'bg-green-50':_0x3058f1(0x5ec),_0x25eb4d=_0x3058f1(0x84e)+(_0x452d47?_0x3058f1(0x52b):'bg-red-200\x20text-red-800')+'\x22>'+(_0x452d47?_0x3058f1(0x83d):_0x3058f1(0xa2f))+_0x3058f1(0x31f);break;case _0x3058f1(0x930):_0x31a965=_0x3058f1(0xc19),_0x25eb4d=_0x3058f1(0xba7);break;}_0x3b631c+=_0x3058f1(0x8ce)+_0x31a965+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x5b09b6[_0x3058f1(0x669)]+_0x3058f1(0x743)+_0x56c4e3[_0x3058f1(0xb5c)][_0x3058f1(0x357)]+_0x3058f1(0xa82)+new Date(_0x56c4e3[_0x3058f1(0xd13)])[_0x3058f1(0x799)](_0x3058f1(0xda2))+_0x3058f1(0x1dd)+_0x25eb4d+_0x3058f1(0x77d);}),_0x3b631c+=_0x1b94b2(0x842),_0x1b7e42[_0x1b94b2(0xc8c)]=_0x3b631c;}catch(_0x4296f7){console[_0x1b94b2(0x75e)]('Error\x20rendering\x20student\x20progress:',_0x4296f7),_0x1b7e42['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x2278f5=''){const _0xac1873=_0x1b93ee,_0x405f1f=document['getElementById'](_0xac1873(0x461)),_0x47bf27=_0x2278f5[_0xac1873(0x95a)]()[_0xac1873(0xb6d)](),_0x48b174=allQuizzesGlobal[_0xac1873(0x926)](_0x5701d4=>({..._0x5701d4,'projectName':allProjects[_0xac1873(0xe69)](_0x5d2ef8=>_0x5d2ef8['id']===_0x5701d4['projectId'])?.[_0xac1873(0x21c)]||'N/A'}))[_0xac1873(0x107)](_0x5521de=>(_0x5521de['topic']||'')[_0xac1873(0x95a)]()[_0xac1873(0x8bb)](_0x47bf27)||(_0x5521de[_0xac1873(0x21c)]||'')[_0xac1873(0x95a)]()[_0xac1873(0x8bb)](_0x47bf27)||_0x5521de['id']['toString']()['includes'](_0x47bf27));_0x405f1f[_0xac1873(0xc8c)]=_0x48b174[_0xac1873(0x357)]?_0x48b174['map'](_0x16a6f0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x16a6f0['id']+_0xac1873(0xc57)+(_0x16a6f0[_0xac1873(0x669)]||'(ไม่มีชื่อ)')+_0xac1873(0x9fe)+_0x16a6f0[_0xac1873(0x21c)]+_0xac1873(0x4cb)+_0x16a6f0['id']+_0xac1873(0xdad))['join'](''):_0xac1873(0x535),_0x405f1f[_0xac1873(0x674)]=()=>{const _0x4d6f31=_0xac1873,_0x4e7a4f=document[_0x4d6f31(0xbc1)](_0x4d6f31(0xd0d));document[_0x4d6f31(0x693)](_0x4d6f31(0x60c))[_0x4d6f31(0xe12)]=!_0x4e7a4f;};}function setupStudentProgressListeners(){const _0x123bca=_0x1b93ee;document[_0x123bca(0x693)](_0x123bca(0xab7))[_0x123bca(0x5e0)](_0x123bca(0x2df),showStudentProgressView),document[_0x123bca(0x693)](_0x123bca(0x445))[_0x123bca(0x5e0)](_0x123bca(0x2df),()=>{const _0x694330=_0x123bca;document[_0x694330(0x693)]('student-progress-view')[_0x694330(0x43c)]['add'](_0x694330(0xa21)),document['getElementById'](_0x694330(0x44e))['classList'][_0x694330(0x200)](_0x694330(0xa21));});}async function startSkillPractice(_0x426813){const _0x5e3ff9=_0x1b93ee;studentResultArea[_0x5e3ff9(0x43c)][_0x5e3ff9(0x128)](_0x5e3ff9(0xa21)),studentQuizArea[_0x5e3ff9(0xc8c)]=_0x5e3ff9(0x34c),studentQuizArea[_0x5e3ff9(0x43c)]['remove'](_0x5e3ff9(0xa21));try{const _0x41bf63=await getStandardizedTopic(_0x426813);console[_0x5e3ff9(0xb20)](_0x5e3ff9(0x116)+_0x426813+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x41bf63+'\x22'),studentQuizArea[_0x5e3ff9(0xbc1)]('p')[_0x5e3ff9(0xc08)]=_0x5e3ff9(0xe09)+_0x41bf63+_0x5e3ff9(0x3fe);const _0x88ea4=collection(db,_0x5e3ff9(0xe45)+appId+_0x5e3ff9(0x4fc)),_0x2e2eb8=query(_0x88ea4,where(_0x5e3ff9(0x669),'==',_0x41bf63)),_0x2c518f=await getDocs(_0x2e2eb8);if(_0x2c518f['docs'][_0x5e3ff9(0x357)]>=0x3){console['log'](_0x5e3ff9(0x194)+_0x2c518f['docs'][_0x5e3ff9(0x357)]+_0x5e3ff9(0x252)+_0x41bf63+_0x5e3ff9(0x110));let _0x38eb3b=_0x2c518f['docs'][_0x5e3ff9(0x926)](_0x28a2c0=>_0x28a2c0[_0x5e3ff9(0x7d4)]());shuffleArray(_0x38eb3b);const _0x482cfc={'topic':_0x41bf63,'questions':_0x38eb3b[_0x5e3ff9(0xaa2)](0x0,0x3)};displaySkillPracticeDrill(_0x482cfc);}else{console[_0x5e3ff9(0xb20)](_0x5e3ff9(0xdb4)+_0x41bf63+_0x5e3ff9(0xd1d));const _0x15f229=await generatePracticeQuestions(_0x41bf63);await saveDrillToPracticeBank(_0x15f229,_0x41bf63),displaySkillPracticeDrill(_0x15f229);}}catch(_0x631d73){console[_0x5e3ff9(0x75e)](_0x5e3ff9(0xe2d),_0x631d73),showMessage(_0x5e3ff9(0xd24)),studentQuizArea['classList'][_0x5e3ff9(0x128)](_0x5e3ff9(0xa21)),studentResultArea[_0x5e3ff9(0x43c)][_0x5e3ff9(0x200)](_0x5e3ff9(0xa21));}}async function saveDrillToPracticeBank(_0x587389,_0x3e286f){const _0x46fde1=_0x1b93ee,_0x2c194b=collection(db,_0x46fde1(0xe45)+appId+_0x46fde1(0x4fc)),_0x7bf475=writeBatch(db);_0x587389[_0x46fde1(0x4e6)][_0x46fde1(0x242)](_0x16fe95=>{const _0x1233d2=_0x46fde1,_0x4e6af3=doc(_0x2c194b);_0x7bf475['set'](_0x4e6af3,{'topic':_0x3e286f,'questionText':_0x16fe95['questionText'],'options':_0x16fe95[_0x1233d2(0x2da)],'correctAnswerIndex':_0x16fe95[_0x1233d2(0x3b0)],'explanation':_0x16fe95[_0x1233d2(0xad8)],'createdAt':serverTimestamp()});});try{await _0x7bf475[_0x46fde1(0x480)](),console[_0x46fde1(0xb20)](_0x46fde1(0xe6d)+_0x587389[_0x46fde1(0x4e6)][_0x46fde1(0x357)]+_0x46fde1(0x208));}catch(_0x135c70){console[_0x46fde1(0x75e)](_0x46fde1(0xa0b),_0x135c70);}}async function getStandardizedTopic(_0x389463){const _0x20fa63=_0x1b93ee,_0x1de1f4=_0x20fa63(0xa12)+_0x389463+_0x20fa63(0x22e),_0x594c0f={'type':_0x20fa63(0xd69),'properties':{'standardTopic':{'type':_0x20fa63(0x47c)}},'required':['standardTopic']};try{const _0x3f98b6=await callAnalysisApi(_0x1de1f4,_0x594c0f);return _0x3f98b6[_0x20fa63(0x3ad)];}catch(_0x2bfde6){return console['error'](_0x20fa63(0xbfd),_0x2bfde6),_0x389463;}}async function handleGenerateEasyVersionQuiz(_0x23fd7d){const _0x568a02=_0x1b93ee,_0x33e2d=document[_0x568a02(0x693)](_0x568a02(0xe18)),_0x30945f=document[_0x568a02(0x693)](_0x568a02(0x58a));_0x30945f['classList'][_0x568a02(0x128)](_0x568a02(0xa21));const _0x5168da=_0x568a02(0xe5f);_0x33e2d[_0x568a02(0xce8)](_0x568a02(0xa10),_0x5168da);try{const _0x2021d6=allQuizzes[_0x568a02(0xe69)](_0xb0b5ae=>_0xb0b5ae['id']===_0x23fd7d);if(!_0x2021d6)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x4bccc2=_0x568a02(0xa1f)+JSON[_0x568a02(0x1f9)](_0x2021d6[_0x568a02(0x4e6)])+_0x568a02(0xa31),_0x55a6fb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x568a02(0x17d),'items':{'type':_0x568a02(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x568a02(0x47c)},'explanation':{'type':_0x568a02(0x47c)},'imageCode':{'type':_0x568a02(0x47c)}},'required':[_0x568a02(0xd6a),_0x568a02(0x994),_0x568a02(0xad8)]},_0x303d7c={'type':_0x568a02(0xd69),'properties':{'questions':{'type':_0x568a02(0x17d),'items':_0x55a6fb}},'required':['questions']},_0xe0406e=await callAnalysisApi(_0x4bccc2,_0x303d7c);_0xe0406e&&_0xe0406e[_0x568a02(0x4e6)]&&_0xe0406e[_0x568a02(0x4e6)][_0x568a02(0x242)](_0x3d11a8=>{const _0x4ca44f=_0x568a02;if(_0x3d11a8[_0x4ca44f(0x6b5)](_0x4ca44f(0xabc))){const _0x3f70d0=String(_0x3d11a8[_0x4ca44f(0xabc)])['trim']();(_0x3f70d0===''||_0x3f70d0[_0x4ca44f(0x95a)]()===_0x4ca44f(0x2fb)||!_0x3f70d0[_0x4ca44f(0x3a6)](_0x4ca44f(0x1f1)))&&delete _0x3d11a8[_0x4ca44f(0xabc)];}});if(!_0xe0406e||!_0xe0406e['questions']||_0xe0406e['questions'][_0x568a02(0x357)]===0x0)throw new Error(_0x568a02(0x63d));const _0x932490=_0xe0406e[_0x568a02(0x4e6)][_0x568a02(0x926)]((_0x14fdfe,_0x47c87d)=>({..._0x14fdfe,'id':'q_'+Date[_0x568a02(0xa37)]()+'_'+_0x47c87d})),_0x563089={'projectId':_0x2021d6[_0x568a02(0x3a0)],'quizType':_0x2021d6[_0x568a02(0xcd7)],'settings':_0x2021d6['settings'],'createdBy':_0x2021d6[_0x568a02(0x23a)],'status':'active','topic':_0x568a02(0x2f3)+_0x2021d6[_0x568a02(0x669)],'questions':_0x932490,'createdAt':new Date()[_0x568a02(0xdfc)](),'quizMode':_0x568a02(0x90e),'pairedQuizId':null};let _0x76903f;while(!![]){_0x76903f=Math[_0x568a02(0x567)](0x3e8+Math['random']()*0x2328)['toString']();const _0x27e2f1=await getDoc(doc(db,'artifacts/'+appId+_0x568a02(0x868),_0x76903f));if(!_0x27e2f1[_0x568a02(0x5a9)]())break;}await setDoc(doc(db,_0x568a02(0xe45)+appId+'/public/data/quizzes',_0x76903f),_0x563089),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x4e8d2b){console[_0x568a02(0x75e)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x4e8d2b),showMessage(_0x568a02(0x48f)+_0x4e8d2b['message']);}finally{const _0x4540f8=document[_0x568a02(0x693)](_0x568a02(0x795));_0x4540f8&&_0x4540f8[_0x568a02(0x200)](),_0x30945f[_0x568a02(0x43c)][_0x568a02(0x200)]('hidden');}}async function generatePracticeQuestions(_0x1eb26b){const _0x4e28f4=_0x1b93ee,_0x58626a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x1eb26b+_0x4e28f4(0x67f)+simpleMathPrompt+_0x4e28f4(0xac0),_0x18cf0a={'type':_0x4e28f4(0xd69),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4e28f4(0x17d),'items':{'type':_0x4e28f4(0x47c)}},'correctAnswerIndex':{'type':_0x4e28f4(0x7a8)},'explanation':{'type':_0x4e28f4(0x47c)}},'required':['questionText',_0x4e28f4(0x2da),_0x4e28f4(0x3b0),_0x4e28f4(0xad8)]},_0x4bcdb6={'type':_0x4e28f4(0xd69),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4e28f4(0x17d),'items':_0x18cf0a}},'required':[_0x4e28f4(0x669),_0x4e28f4(0x4e6)]};return await callAnalysisApi(_0x58626a,_0x4bcdb6);}function displayLessonPlan(_0x58ce85,_0x4cff8f){const _0x545bb0=_0x1b93ee,_0x2136f3=_0x545bb0(0x7ff)+_0x4cff8f[_0x545bb0(0x669)]+_0x545bb0(0x23b)+_0x58ce85[_0x545bb0(0x7f2)]['map'](_0x4e0ca3=>_0x545bb0(0x39e)+_0x4e0ca3+_0x545bb0(0x7d5))[_0x545bb0(0xd7b)]('')+_0x545bb0(0xcf6)+_0x58ce85[_0x545bb0(0xbdc)]+_0x545bb0(0xdf1)+_0x58ce85[_0x545bb0(0xa93)][_0x545bb0(0x926)](_0x5f4485=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x5f4485[_0x545bb0(0x776)]+_0x545bb0(0xa5b)+_0x5f4485[_0x545bb0(0xb9f)]+'</p></div>')[_0x545bb0(0xd7b)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x545bb0(0x693)]('lesson-plan-title')['textContent']='แผนการสอน:\x20'+_0x4cff8f[_0x545bb0(0x669)],document['getElementById'](_0x545bb0(0x13c))[_0x545bb0(0xc8c)]=_0x2136f3,document['getElementById']('lesson-plan-modal')[_0x545bb0(0x43c)][_0x545bb0(0x200)](_0x545bb0(0xa21));if(window[_0x545bb0(0xad6)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x59394f){const _0x4bae76=_0x1b93ee;let _0x3b14a3=0x0;const _0x4be26c=_0x59394f[_0x4bae76(0x4e6)],_0x15da7f=()=>{const _0x40d51f=_0x4bae76,_0x8c0b1a=_0x4be26c[_0x3b14a3],_0x4e6790=_0x40d51f(0xd9f)+(_0x3b14a3+0x1)+_0x40d51f(0x2c5)+_0x4be26c[_0x40d51f(0x357)]+_0x40d51f(0x56c)+_0x8c0b1a[_0x40d51f(0xd6a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8c0b1a['options'][_0x40d51f(0x926)]((_0x340e63,_0x56f2b7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x56f2b7+_0x40d51f(0x5cf)+_0x56f2b7+_0x40d51f(0x946)+_0x56f2b7+'\x22>'+_0x340e63+_0x40d51f(0x327))['join']('')+_0x40d51f(0x964);studentQuizArea[_0x40d51f(0xc8c)]=_0x4e6790;if(window['MathJax'])MathJax[_0x40d51f(0x840)]([studentQuizArea]);document[_0x40d51f(0x693)](_0x40d51f(0xb66))[_0x40d51f(0x5e0)]('click',async()=>{const _0x4817aa=_0x40d51f,_0x5d6d71=await getHintForQuestion(_0x8c0b1a[_0x4817aa(0xd6a)]);showMessage(_0x5d6d71);}),document[_0x40d51f(0x693)](_0x40d51f(0x74c))[_0x40d51f(0x5e0)](_0x40d51f(0x2df),()=>{const _0x4b701f=_0x40d51f,_0x1ea926=document[_0x4b701f(0xbc1)](_0x4b701f(0x42f));if(!_0x1ea926){showMessage(_0x4b701f(0x35d));return;}const _0xe930c=document[_0x4b701f(0x693)]('drill-feedback'),_0x96777b=parseInt(_0x1ea926[_0x4b701f(0xc5c)])===_0x8c0b1a[_0x4b701f(0x3b0)];_0x96777b?(_0xe930c[_0x4b701f(0x17f)]=_0x4b701f(0x269),_0xe930c[_0x4b701f(0xc8c)]=_0x4b701f(0xa3a)+_0x8c0b1a[_0x4b701f(0xad8)]):(_0xe930c['className']=_0x4b701f(0x2c1),_0xe930c[_0x4b701f(0xc8c)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x8c0b1a[_0x4b701f(0xad8)]);_0xe930c[_0x4b701f(0x43c)]['remove'](_0x4b701f(0xa21));if(window[_0x4b701f(0xad6)])MathJax[_0x4b701f(0x840)]([_0xe930c]);document['getElementById'](_0x4b701f(0x74c))[_0x4b701f(0x43c)][_0x4b701f(0x128)]('hidden'),document[_0x4b701f(0x693)]('hint-btn')[_0x4b701f(0x43c)][_0x4b701f(0x128)](_0x4b701f(0xa21)),document[_0x4b701f(0x693)](_0x4b701f(0x43a))[_0x4b701f(0x43c)][_0x4b701f(0x200)]('hidden');}),document[_0x40d51f(0x693)]('next-drill-btn')[_0x40d51f(0x5e0)](_0x40d51f(0x2df),()=>{const _0x1021fe=_0x40d51f;_0x3b14a3++,_0x3b14a3<_0x4be26c['length']?_0x15da7f():(studentQuizArea[_0x1021fe(0xc8c)]=_0x1021fe(0xadf),document[_0x1021fe(0x693)](_0x1021fe(0xdca))[_0x1021fe(0x5e0)](_0x1021fe(0x2df),()=>{const _0x12f630=_0x1021fe;studentQuizArea[_0x12f630(0x43c)][_0x12f630(0x128)](_0x12f630(0xa21)),studentResultArea['classList'][_0x12f630(0x200)](_0x12f630(0xa21));}));});};_0x15da7f();}async function getHintForQuestion(_0x3193ab){const _0x28c46c=_0x1b93ee,_0x4f891d=_0x28c46c(0x548)+_0x3193ab+_0x28c46c(0xd0f),_0x1934e4={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x28c46c(0xd5e)]};try{const _0x32f981=await callAnalysisApi(_0x4f891d,_0x1934e4);return _0x32f981[_0x28c46c(0xd5e)];}catch(_0x1fd854){return console[_0x28c46c(0x75e)]('Failed\x20to\x20get\x20hint:',_0x1fd854),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x284924){const _0x1f5523=_0x1b93ee;pdfjsLib[_0x1f5523(0x877)][_0x1f5523(0x6c3)]=_0x1f5523(0xd08);const _0x3c75c1=await _0x284924[_0x1f5523(0x28a)](),_0x350549=await pdfjsLib['getDocument'](_0x3c75c1)[_0x1f5523(0x3d3)],_0x5f34e5=_0x350549[_0x1f5523(0x5ae)];let _0x4649b1='';for(let _0x17b93e=0x1;_0x17b93e<=_0x5f34e5;_0x17b93e++){const _0x1fd33f=await _0x350549['getPage'](_0x17b93e),_0x1b63b8=await _0x1fd33f['getTextContent'](),_0x160518=_0x1b63b8[_0x1f5523(0xbca)][_0x1f5523(0x926)](_0x5e8497=>_0x5e8497['str'])[_0x1f5523(0xd7b)]('\x20');_0x4649b1+=_0x160518+'\x0a\x0a';}return _0x4649b1;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x307101){const _0x4c9c78=_0x1b93ee,_0x4d4244=document[_0x4c9c78(0x693)](_0x4c9c78(0x715)),_0x1417d7=document[_0x4c9c78(0x693)](_0x4c9c78(0xa51)),_0x49a09c=document['getElementById'](_0x4c9c78(0x547));_0x4d4244['classList']['remove']('hidden'),_0x1417d7[_0x4c9c78(0xc8c)]=_0x4c9c78(0xb1e),_0x49a09c[_0x4c9c78(0x43c)]['add'](_0x4c9c78(0xa21));try{const _0x54331b=_0x4c9c78(0xc59)+_0x307101+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x3de854={'type':_0x4c9c78(0xd69),'properties':{'gradeLevel':{'type':_0x4c9c78(0x47c)},'curriculum':{'type':_0x4c9c78(0x17d),'items':{'type':_0x4c9c78(0xd69),'properties':{'sara':{'type':_0x4c9c78(0x47c)},'mainTopics':{'type':_0x4c9c78(0x17d),'items':{'type':_0x4c9c78(0xd69),'properties':{'topicName':{'type':_0x4c9c78(0x47c)},'subTopics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x4c9c78(0x9e4),_0x4c9c78(0x54d)]}}},'required':[_0x4c9c78(0x104),'mainTopics']}}},'required':[_0x4c9c78(0x3c2),'curriculum']},_0x51fa22=await callAnalysisApi(_0x54331b,_0x3de854);if(_0x51fa22&&_0x51fa22[_0x4c9c78(0x42d)])extractedBlueprintData=_0x51fa22,renderBlueprintTopics(_0x51fa22),_0x49a09c['classList']['remove'](_0x4c9c78(0xa21));else throw new Error(_0x4c9c78(0xc72));}catch(_0x1c6753){console[_0x4c9c78(0x75e)](_0x4c9c78(0x106),_0x1c6753),_0x1417d7[_0x4c9c78(0xc8c)]=_0x4c9c78(0x1fd);}}function renderBlueprintTopics(_0x528a77){const _0x57bb89=_0x1b93ee,_0x5e631c=document[_0x57bb89(0x693)](_0x57bb89(0xa51)),_0x361742=_0x528a77[_0x57bb89(0x3c2)],_0xfa514b=_0x57bb89(0x70d)+_0x361742+'</h3>';let _0x5d946d='';_0x528a77[_0x57bb89(0x42d)][_0x57bb89(0x242)](_0x173eb6=>{const _0x505b61=_0x57bb89;_0x5d946d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x173eb6[_0x505b61(0x104)]+_0x505b61(0xc36),_0x173eb6[_0x505b61(0x436)][_0x505b61(0x242)](_0x51f96e=>{const _0x4d08cd=_0x505b61;_0x5d946d+=_0x4d08cd(0x5b6)+_0x51f96e[_0x4d08cd(0x9e4)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x51f96e[_0x4d08cd(0x54d)][_0x4d08cd(0x242)](_0x28145a=>{const _0x25d154=_0x4d08cd;_0x5d946d+=_0x25d154(0xdea)+_0x28145a[_0x25d154(0x5cc)](/'/g,'\x5c\x27')+_0x25d154(0x2b3)+_0x361742[_0x25d154(0x5cc)](/'/g,'\x5c\x27')+_0x25d154(0x3e9)+_0x28145a+_0x25d154(0xf9)+_0x28145a[_0x25d154(0x5cc)](/'/g,'\x5c\x27')+_0x25d154(0x46d);}),_0x5d946d+=_0x4d08cd(0xbd4);}),_0x5d946d+='</div>';}),_0x5e631c['innerHTML']=_0xfa514b+_0x5d946d;}async function handleGenerateTeachingContent(_0x41442e){const _0x5c2618=_0x1b93ee,_0xf093c=document[_0x5c2618(0x693)](_0x5c2618(0x587)),_0x3f183f=document[_0x5c2618(0x693)](_0x5c2618(0x13c));document[_0x5c2618(0x693)](_0x5c2618(0xd76))['textContent']=_0x5c2618(0x8e9)+_0x41442e,_0x3f183f['innerHTML']=_0x5c2618(0x2fc),_0xf093c[_0x5c2618(0x43c)]['remove']('hidden');try{const _0x470464='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x41442e+_0x5c2618(0x1c6),_0x2c4c8c={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x5c2618(0x17d),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x5c2618(0x17d),'items':{'type':_0x5c2618(0x47c)}},'stepByStepExamples':{'type':_0x5c2618(0x17d),'items':{'type':_0x5c2618(0xd69),'properties':{'question':{'type':_0x5c2618(0x47c)},'solution':{'type':'STRING'}},'required':[_0x5c2618(0x776),_0x5c2618(0xb9f)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x5c2618(0x47c)}}},'required':[_0x5c2618(0xe32),_0x5c2618(0x2e1),_0x5c2618(0x9cf),_0x5c2618(0x6a9)]},_0x2b74ec=await callAnalysisApi(_0x470464,_0x2c4c8c);displayTeachingContent(_0x2b74ec,_0x41442e);}catch(_0x14afc5){console[_0x5c2618(0x75e)](_0x5c2618(0x406),_0x14afc5),_0x3f183f['innerHTML']=_0x5c2618(0xcaf)+_0x14afc5[_0x5c2618(0x340)]+_0x5c2618(0x3ee);}}function displayTeachingContent(_0x131993,_0x3718c8){const _0x3baaec=_0x1b93ee,_0xf7514b=document[_0x3baaec(0x693)](_0x3baaec(0x13c));document['getElementById'](_0x3baaec(0xd76))[_0x3baaec(0xc08)]='เนื้อหาสำหรับสอน:\x20'+_0x3718c8;const _0x3e7019=_0x3baaec(0x71c)+_0x131993[_0x3baaec(0xe32)][_0x3baaec(0x926)](_0x28140a=>_0x3baaec(0x39e)+_0x28140a+_0x3baaec(0x7d5))['join']('')+_0x3baaec(0x805)+_0x131993['commonMistakes'][_0x3baaec(0x926)](_0x38f0dc=>_0x3baaec(0x39e)+_0x38f0dc+_0x3baaec(0x7d5))['join']('')+_0x3baaec(0x4ba)+_0x131993[_0x3baaec(0x9cf)][_0x3baaec(0x926)](_0x2a8efa=>_0x3baaec(0xcbf)+_0x2a8efa[_0x3baaec(0x776)]+_0x3baaec(0xda4)+_0x2a8efa['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3baaec(0xd7b)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x131993['teacherTips'][_0x3baaec(0x926)](_0x43a87b=>_0x3baaec(0x39e)+_0x43a87b+_0x3baaec(0x7d5))[_0x3baaec(0xd7b)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xf7514b['innerHTML']=_0x3e7019;if(window[_0x3baaec(0xad6)])MathJax[_0x3baaec(0x840)]([_0xf7514b]);}async function generateQuizForSingleTopic(_0x242705){const _0x4c0bcd=_0x1b93ee;console[_0x4c0bcd(0xb20)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x242705+'\x22');const _0x5ea6fe=document['getElementById'](_0x4c0bcd(0x1b1)),_0x1afdf9=_0x5ea6fe[_0x4c0bcd(0xf6)][_0x4c0bcd(0x357)]>0x0?_0x5ea6fe[_0x4c0bcd(0xf6)][0x0]:null;let _0x515d69=null;if(_0x1afdf9)try{const _0x35f051=new FileReader();_0x35f051[_0x4c0bcd(0x49d)](_0x1afdf9);const _0x51b9d1=await new Promise((_0x281238,_0x3e933c)=>{const _0x112e93=_0x4c0bcd;_0x35f051[_0x112e93(0x8f1)]=()=>_0x281238(_0x35f051['result'][_0x112e93(0x239)](',')[0x1]),_0x35f051[_0x112e93(0xd49)]=_0x1ef8e9=>_0x3e933c(_0x1ef8e9);});_0x515d69=[{'inlineData':{'mimeType':_0x1afdf9[_0x4c0bcd(0xb75)],'data':_0x51b9d1}}];}catch(_0x260efa){console[_0x4c0bcd(0x75e)](_0x4c0bcd(0x573),_0x260efa),showMessage(_0x4c0bcd(0x394));return;}generateQuiz(_0x242705,null,null,_0x515d69,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0xa73ecd=null){const _0x323325=_0x1b93ee,_0x5bf628=document['getElementById']('loader'),_0x10cb8e=document[_0x323325(0x693)](_0x323325(0x1a8));let _0x1b09f0,_0x2093c3=[];if(_0xa73ecd)_0x1b09f0=_0xa73ecd,_0x2093c3=_0x1b09f0[_0x323325(0xaa2)](0x2);else{const _0x1f612e=document[_0x323325(0x693)](_0x323325(0x8e8)),_0x420e0b=document[_0x323325(0x693)](_0x323325(0x1b1)),_0x27ce04=_0x1f612e[_0x323325(0xf6)][0x0];if(!_0x27ce04){showMessage(_0x323325(0x8d7));return;}_0x10cb8e[_0x323325(0xc08)]='กำลังเตรียมไฟล์...';const _0x38275e=await new Promise((_0x268dde,_0x33b5ec)=>{const _0x360226=_0x323325,_0x20bff2=new FileReader();_0x20bff2[_0x360226(0x49d)](_0x27ce04),_0x20bff2[_0x360226(0x8f1)]=()=>_0x268dde(_0x20bff2[_0x360226(0xe0a)][_0x360226(0x239)](',')[0x1]),_0x20bff2[_0x360226(0xd49)]=_0x33b5ec;});_0x1b09f0=[{'text':_0x323325(0x146)},{'inlineData':{'mimeType':_0x27ce04['type'],'data':_0x38275e}}];if(_0x420e0b[_0x323325(0xf6)][_0x323325(0x357)]>0x0){const _0x123274=_0x420e0b[_0x323325(0xf6)][0x0];_0x10cb8e[_0x323325(0xc08)]=_0x323325(0x484);const _0x1b3fe3=await new Promise((_0xaf9fcd,_0xfe12f1)=>{const _0x92040e=_0x323325,_0x3047c6=new FileReader();_0x3047c6['readAsDataURL'](_0x123274),_0x3047c6['onload']=()=>_0xaf9fcd(_0x3047c6[_0x92040e(0xe0a)]['split'](',')[0x1]),_0x3047c6[_0x92040e(0xd49)]=_0xfe12f1;}),_0x4a1544={'inlineData':{'mimeType':_0x123274[_0x323325(0xb75)],'data':_0x1b3fe3}};_0x1b09f0[_0x323325(0xce5)](_0x4a1544),_0x2093c3[_0x323325(0xce5)](_0x4a1544);}}const _0x39974a=_0x323325(0xdfb),_0x44eb98=_0x323325(0x82a);let _0x48d051='';_0x2093c3&&_0x2093c3[_0x323325(0x357)]>0x0?_0x48d051=_0x39974a:_0x48d051=_0x44eb98;const _0x5869db='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x48d051+_0x323325(0x60f),_0x37fab3={'type':_0x323325(0xd69),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x323325(0x47c),'enum':[_0x323325(0x6c4),_0x323325(0xbc0),_0x323325(0xa76),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x323325(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x323325(0x47c)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x323325(0x47c)},'imageCode':{'type':_0x323325(0x47c)}},'required':[_0x323325(0x994),_0x323325(0xad8)]},_0x12bd53={'type':_0x323325(0xd69),'properties':{'topic':{'type':_0x323325(0x47c)},'questions':{'type':_0x323325(0x17d),'items':_0x37fab3}},'required':[_0x323325(0x669),_0x323325(0x4e6)]};_0x1b09f0[0x0][_0x323325(0x2dc)]=_0x5869db,await handleApiCall(_0x1b09f0,_0x323325(0xdf2),_0x12bd53);}function proceedToNextQuestion(_0x39f0a5){const _0x4edb48=_0x1b93ee;studentAnswersPerQuestion[_0x4edb48(0xce5)](_0x39f0a5),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4edb48(0x4e6)][_0x4edb48(0x357)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x40c379,_0x51ab43,_0x5629c8){const _0x2c1773=_0x1b93ee,_0x211668=Object[_0x2c1773(0x8d9)](_0x40c379[_0x2c1773(0x18f)]||{}),_0x59f31e=_0x211668[_0x2c1773(0x357)],_0x2f2419=_0x5629c8,_0x278a67=_0x40c379[_0x2c1773(0xd30)]||'classic',_0x288b0c=_0x278a67===_0x2c1773(0x47a)||_0x278a67==='anonymous_reveal_end',_0x5ede12=_0x278a67===_0x2c1773(0xa8b)||_0x278a67==='anonymous_reveal_end',_0x3ca982=_0x40c379[_0x2c1773(0x273)]===!![],_0x36c2a9=_0x278a67===_0x2c1773(0x1f7),_0x29825a=_0x40c379['shuffledQuiz']['questions'],_0xaae6b6=_0x29825a[_0x2f2419],_0x4d4fc4=_0x379ee4=>String[_0x2c1773(0x1de)](0x41+_0x379ee4),_0x58589c=_0x211668['map'](_0x2145db=>{const _0x15e2fa=_0x2c1773,_0x5d2f97=(_0x2145db[_0x15e2fa(0x7f4)]||[])[_0x15e2fa(0x107)](_0x110cbd=>{const _0x4f03bf=_0x15e2fa;if(_0x5ede12)return _0x110cbd[_0x4f03bf(0x684)]<=_0x2f2419;return!![];});let _0x309c33=0x0,_0x34ce0b=0x0;_0x5ede12?(_0x309c33=_0x5d2f97[_0x15e2fa(0x107)](_0x44b9d2=>_0x44b9d2[_0x15e2fa(0x5ce)])['length'],_0x34ce0b=_0x5d2f97['reduce']((_0x4fd00c,_0x55982b)=>_0x4fd00c+(_0x55982b[_0x15e2fa(0x749)]||0x0),0x0)):(_0x309c33=_0x2145db[_0x15e2fa(0xe35)]||0x0,_0x34ce0b=_0x2145db[_0x15e2fa(0x568)]||0x0);const _0x1bf28d=[..._0x5d2f97]['sort']((_0x41ae5f,_0xb9d341)=>_0x41ae5f[_0x15e2fa(0x684)]-_0xb9d341[_0x15e2fa(0x684)]);let _0x68bfdd=0x0;return _0x1bf28d[_0x15e2fa(0x242)](_0x5639d1=>{const _0x2e8ec5=_0x15e2fa,_0x2f833b=_0x5639d1[_0x2e8ec5(0x261)]&&_0x5639d1['powerupUsed']!==_0x2e8ec5(0xa95)||_0x5639d1[_0x2e8ec5(0x46b)];_0x5639d1[_0x2e8ec5(0x5ce)]?_0x2f833b?_0x68bfdd=0x0:_0x68bfdd++:_0x68bfdd=0x0;}),{..._0x2145db,'realScore':_0x309c33,'totalPoints':_0x34ce0b,'answers':_0x5d2f97,'correctStreak':_0x68bfdd};}),_0x18060d=Math['max'](..._0x58589c['map'](_0x40339d=>_0x40339d[_0x2c1773(0x568)]),-Infinity),_0x24f011=Math['max'](..._0x58589c['map'](_0x4dc010=>_0x4dc010['realScore']),-Infinity),_0x28a412=_0x40c379[_0x2c1773(0x86a)]===!![],_0xe4d096=[..._0x58589c][_0x2c1773(0xa05)]((_0x440183,_0x36ef35)=>{const _0xb14afe=_0x2c1773;if(_0x28a412){const _0x3e139c=_0x36ef35[_0xb14afe(0x568)]-_0x440183[_0xb14afe(0x568)];if(_0x3e139c!==0x0)return _0x3e139c;const _0x564860=_0x36ef35['realScore']-_0x440183[_0xb14afe(0xcd3)];if(_0x564860!==0x0)return _0x564860;return(_0x440183[_0xb14afe(0x41d)]||'')[_0xb14afe(0xb9d)](_0x36ef35[_0xb14afe(0x41d)]||'','th');}else{const _0x50cf31=_0x36ef35[_0xb14afe(0x568)]-_0x440183[_0xb14afe(0x568)];if(_0x50cf31!==0x0)return _0x50cf31;const _0x3468de=_0x36ef35['realScore']-_0x440183['realScore'];if(_0x3468de!==0x0)return _0x3468de;return(_0x440183[_0xb14afe(0x41d)]||'')[_0xb14afe(0xb9d)](_0x36ef35[_0xb14afe(0x41d)]||'','th');}});let _0x1a51a9='';const _0x9f19b9=!_0x36c2a9&&!(_0x288b0c&&_0x40c379[_0x2c1773(0xbbc)]===![]);if(_0xaae6b6&&_0x9f19b9){let _0x18786d='',_0x491f6a='';const _0x5704c9=_0xaae6b6[_0x2c1773(0x994)]||_0x40c379[_0x2c1773(0xd4c)][_0x2c1773(0xcd7)];if(_0x5704c9===_0x2c1773(0x6c4)&&_0xaae6b6[_0x2c1773(0x2da)]){const _0x272bb3=_0xaae6b6[_0x2c1773(0x3b0)];_0x18786d=_0xaae6b6[_0x2c1773(0x2da)][_0x272bb3],_0x491f6a=_0x4d4fc4(_0x272bb3)+'.';}else{if(_0x5704c9===_0x2c1773(0xa76)){const _0x7cce20=String(_0xaae6b6[_0x2c1773(0xbde)])[_0x2c1773(0x95a)]()===_0x2c1773(0xe0d);_0x18786d=_0x7cce20?_0x2c1773(0x562):_0x2c1773(0xa09),_0x491f6a=_0x7cce20?'ก.':'ข.';}else{if(_0x5704c9===_0x2c1773(0x1bc))_0x18786d=_0xaae6b6[_0x2c1773(0x2e8)]||'-';else(_0x5704c9===_0x2c1773(0xbc0)||_0x5704c9===_0x2c1773(0x236))&&(_0x18786d=_0xaae6b6[_0x2c1773(0x9ee)]||'-');}}_0x18786d&&(_0x1a51a9=_0x2c1773(0xbb8)+(_0x2f2419+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x491f6a+'\x20'+_0x18786d+_0x2c1773(0x78f));}const _0x2a5caa=_0xe4d096[_0x2c1773(0x926)]((_0xa3461b,_0x69053)=>{const _0x5db65c=_0x2c1773,_0x4a8fef=_0xa3461b[_0x5db65c(0xcd3)],_0x111914=_0xa3461b[_0x5db65c(0x568)],_0x1c811d=(_0xa3461b[_0x5db65c(0x7f4)]||[])[_0x5db65c(0xe69)](_0x10b33b=>_0x10b33b[_0x5db65c(0x684)]===_0x5629c8),_0x1be3a6=_0xa3461b[_0x5db65c(0x7f4)][_0x5db65c(0x357)];let _0x73b724='';if(_0x1c811d){if(_0x1c811d[_0x5db65c(0x4bd)])_0x73b724+=_0x5db65c(0x5ba);if(_0x1c811d[_0x5db65c(0xa1a)])_0x73b724+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x1c811d[_0x5db65c(0x46b)])_0x73b724+=_0x5db65c(0xb71);const _0xf2b48c=_0x1c811d[_0x5db65c(0x261)];if(_0xf2b48c){const _0x22aad9={'poll':'📊','cutOne':'✂️','insurance':_0x5db65c(0x212),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x5db65c(0x289)};if(_0x22aad9[_0xf2b48c])_0x73b724+=_0x5db65c(0xb09)+_0x22aad9[_0xf2b48c]+_0x5db65c(0xb46);}}let _0x3fc442='';const _0x482e7f=_0xa3461b[_0x5db65c(0x48c)]||0x0,_0x4f8070=_0x1c811d&&_0x1c811d[_0x5db65c(0x46b)],_0x3ce572=_0x1c811d&&_0x1c811d['powerupUsed']&&_0x1c811d[_0x5db65c(0x261)]!==_0x5db65c(0xa95);!_0x36c2a9&&_0x482e7f>=0x3&&!_0x4f8070&&!_0x3ce572&&(_0x3fc442+=_0x5db65c(0x71b)+_0x482e7f+'</span>');if(!_0x36c2a9&&_0x1be3a6>0x0){if(_0x28a412){if(_0x111914===_0x18060d&&_0x18060d>0x0)_0x3fc442+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x4a8fef===_0x24f011&&_0x24f011>0x0)_0x3fc442+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>';}else{const _0x1a925b=_0xa3461b[_0x5db65c(0xcd3)]===_0x5629c8+0x1;if(_0x1a925b)_0x3fc442+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x3fc442===''&&_0x111914<0x0)_0x3fc442+=_0x5db65c(0x9c9);}let _0x461463=_0x5db65c(0xd99),_0x45305b=![],_0x3983ae=![];if(!_0x36c2a9){const _0x3b4a95=(_0xa3461b['answers']||[])[_0x5db65c(0xe69)](_0x46ca45=>_0x46ca45[_0x5db65c(0x684)]===_0x2f2419);if(_0x3b4a95){const _0x543268=_0x3b4a95[_0x5db65c(0x5ce)],_0x120e45=_0x3b4a95[_0x5db65c(0x9fa)]===!![]||_0x3b4a95['wasConfident']==='confident',_0x47ef32=_0x3b4a95['powerupUsed'];if(_0x47ef32==='wagerMultiplier')_0x543268?(_0x461463='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x45305b=!![]):(_0x461463=_0x5db65c(0xcc0),_0x3983ae=!![]);else{if(_0x120e45)_0x461463=_0x543268?_0x5db65c(0x4c2):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x543268&&(_0x461463=_0x5db65c(0x97c));}}}let _0x15c89d='';const _0x212a0b=_0xa3461b[_0x5db65c(0x41d)],_0xa8620a=_0x40c379[_0x5db65c(0x5a2)][_0xa3461b[_0x5db65c(0x41d)]]||_0x5db65c(0x2b6),_0xe15608='line-height:\x201.3;\x20min-width:\x200;',_0x35610a='word-break:\x20break-all;',_0x3329f5=_0x45305b?'text-yellow-800':'text-gray-300';let _0x2af9f4='';const _0x5d8eb1=_0x111914>=0x0?'(+'+_0x111914[_0x5db65c(0x286)]()+')':'('+_0x111914[_0x5db65c(0x286)]()+')',_0x124815=_0x5db65c(0x888)+_0x4a8fef+_0x5db65c(0x786)+_0x5d8eb1+_0x5db65c(0xb46);if(_0x51ab43){if(_0x288b0c&&!_0x3ca982)_0x3983ae?_0x15c89d='<div\x20style=\x22'+_0xe15608+_0x5db65c(0xe6a)+_0x212a0b+'\x20('+_0xa8620a+_0x5db65c(0x89d)+_0x35610a+'\x22>'+_0x212a0b+_0x5db65c(0xaf5)+_0x73b724+'\x20'+_0x3fc442+'<span\x20class=\x22block\x20text-sm\x20'+_0x3329f5+_0x5db65c(0x400)+_0x35610a+_0x5db65c(0x982)+_0xa8620a+')</span></div>':_0x15c89d=_0x5db65c(0x7a5)+_0xe15608+'\x22\x20title=\x22'+_0xa8620a+_0x5db65c(0x6b2)+_0x35610a+'\x22>'+_0xa8620a+_0x5db65c(0xaf5)+_0x73b724+'\x20'+_0x3fc442+'</div>',_0x2af9f4=_0x124815;else{if(_0x288b0c&&_0x3ca982)_0x15c89d=_0x5db65c(0x7a5)+_0xe15608+_0x5db65c(0xe6a)+_0x212a0b+_0x5db65c(0x6b2)+_0x35610a+'\x22>'+_0x212a0b+_0x5db65c(0xaf5)+_0x73b724+'\x20'+_0x3fc442+'<span\x20class=\x22block\x20text-sm\x20'+_0x3329f5+_0x5db65c(0x400)+_0x35610a+_0x5db65c(0x982)+_0xa8620a+_0x5db65c(0x90a),_0x2af9f4=_0x124815;else _0x36c2a9?(_0x15c89d=_0x5db65c(0x7a5)+_0xe15608+_0x5db65c(0xe6a)+_0x212a0b+_0x5db65c(0x6b2)+_0x35610a+'\x22>'+_0x212a0b+'</span>\x20'+_0x73b724+'\x20'+_0x3fc442+_0x5db65c(0x842),_0x2af9f4=''):(_0x15c89d=_0x5db65c(0x7a5)+_0xe15608+_0x5db65c(0xe6a)+_0x212a0b+_0x5db65c(0x6b2)+_0x35610a+'\x22>'+_0x212a0b+_0x5db65c(0xaf5)+_0x73b724+'\x20'+_0x3fc442+_0x5db65c(0x842),_0x2af9f4=_0x124815);}}return _0x5db65c(0xf3)+_0x461463+_0x5db65c(0x4d2)+(_0x69053+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15c89d+_0x5db65c(0xb5e)+_0x2af9f4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join'](''),_0x23a1de=_0x29825a[_0x2c1773(0x926)]((_0x50f016,_0x1d1f63)=>{const _0x83e5c2=_0x2c1773;if(_0x5ede12&&_0x1d1f63>_0x2f2419||_0x36c2a9)return'';const _0x5441fe=_0x58589c['filter'](_0x1c76dd=>_0x1c76dd['answers']&&_0x1c76dd[_0x83e5c2(0x7f4)][_0x83e5c2(0xe69)](_0x503629=>_0x503629[_0x83e5c2(0x684)]===_0x1d1f63&&_0x503629[_0x83e5c2(0x5ce)]))[_0x83e5c2(0x357)],_0x42ec70=_0x1d1f63===_0x2f2419,_0x516219=_0x42ec70?_0x83e5c2(0x175):_0x83e5c2(0x678);return _0x83e5c2(0x5d7)+_0x516219+_0x83e5c2(0xc4f)+(_0x1d1f63+0x1)+_0x83e5c2(0x473)+_0x5441fe+'\x20/\x20'+_0x59f31e+_0x83e5c2(0x19a);})[_0x2c1773(0xd7b)]('');let _0x4abbc3='',_0x4d4357='';if(_0x51ab43){const _0x349d13=_0x278a67===_0x2c1773(0x2cf)&&_0x40c379[_0x2c1773(0x345)]>=_0x29825a[_0x2c1773(0x357)]-0x1,_0x2af1dc=_0x5ede12&&_0x40c379[_0x2c1773(0x83b)]>=_0x29825a[_0x2c1773(0x357)]-0x1,_0x4ab101=_0x278a67===_0x2c1773(0x1f7)&&_0x40c379['currentQuestionIndex']>=_0x29825a[_0x2c1773(0x357)]-0x1,_0x4e39e6=_0x288b0c&&!_0x5ede12&&_0x40c379[_0x2c1773(0x345)]>=_0x29825a[_0x2c1773(0x357)]-0x1;if(_0x5ede12)_0x2af1dc?_0x288b0c&&!_0x3ca982?_0x4abbc3=_0x2c1773(0x79e):_0x4abbc3=_0x2c1773(0x1b5):_0x4abbc3=_0x2c1773(0x8c5);else _0x349d13||_0x4ab101||_0x4e39e6?_0x288b0c&&!_0x3ca982?_0x4abbc3=_0x2c1773(0x79e):_0x4abbc3=_0x2c1773(0x1b5):_0x4abbc3=_0x2c1773(0x51f);_0x4d4357=_0x2c1773(0x1cb);}const _0x4e65b8=_0x36c2a9||_0x288b0c&&!_0x40c379[_0x2c1773(0xbbc)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x23a1de+_0x2c1773(0xbd4),_0x9b756=_0x36c2a9||_0x288b0c&&!_0x40c379[_0x2c1773(0xbbc)]?_0x2c1773(0x2d3):'md:col-span-1',_0x31c9f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x40c379[_0x2c1773(0xd4c)][_0x2c1773(0x669)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x40c379[_0x2c1773(0xb7f)]+_0x2c1773(0x418)+_0x4d4357+_0x2c1773(0x40d)+_0x1a51a9+_0x2c1773(0x538)+_0x9b756+_0x2c1773(0xd78)+(_0x2a5caa||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x2c1773(0x1d2)+_0x4e65b8+_0x2c1773(0x17b)+(_0x51ab43?_0x2c1773(0x6af)+_0x4abbc3+_0x2c1773(0x842):'')+_0x2c1773(0x54a);liveGameView[_0x2c1773(0xc8c)]=_0x31c9f9;if(window[_0x2c1773(0xad6)]){const _0x5df5d5=document['getElementById']('main-correct-answer-display');_0x5df5d5&&MathJax[_0x2c1773(0x840)]([_0x5df5d5]);}if(_0x51ab43){const _0x3b3396=document[_0x2c1773(0x693)]('next-sync-question-btn');_0x3b3396&&(_0x3b3396[_0x2c1773(0x72e)]=async()=>{const _0x39bbe2=_0x2c1773,_0x1405fd=doc(db,_0x39bbe2(0xe45)+appId+_0x39bbe2(0xe74),currentLiveGameId),_0x4446ee=_0x40c379['currentQuestionIndex']+0x1,_0x1b6643=_0x40c379[_0x39bbe2(0xd4c)][_0x39bbe2(0x4e6)][_0x39bbe2(0x357)];!_0x5ede12&&_0x4446ee<_0x1b6643?await updateDoc(_0x1405fd,{'status':_0x39bbe2(0x776),'currentQuestionIndex':_0x4446ee,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x1405fd,{'status':_0x39bbe2(0x806)});});const _0x1753c5=document[_0x2c1773(0x693)](_0x2c1773(0x624));_0x1753c5&&(_0x1753c5[_0x2c1773(0x72e)]=async()=>{const _0x441521=_0x2c1773,_0x222d50=doc(db,_0x441521(0xe45)+appId+_0x441521(0xe74),currentLiveGameId);await updateDoc(_0x222d50,{'reviewQuestionIndex':increment(0x1)});});document[_0x2c1773(0x693)]('reveal-names-btn')?.[_0x2c1773(0x5e0)](_0x2c1773(0x2df),async()=>{const _0x2ccc6e=_0x2c1773;await updateDoc(doc(db,_0x2ccc6e(0xe45)+appId+_0x2ccc6e(0xe74),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x217ea2=document[_0x2c1773(0x693)](_0x2c1773(0x33f));_0x217ea2&&(_0x217ea2[_0x2c1773(0x72e)]=()=>{const _0x9e87d9=_0x2c1773;showConfirmation(_0x9e87d9(0x360),async()=>{const _0x2809ff=_0x9e87d9;await updateDoc(doc(db,_0x2809ff(0xe45)+appId+_0x2809ff(0xe74),currentLiveGameId),{'status':_0x2809ff(0x806)});});});}}async function handleGenerateParallelFromBank(_0x45ab83){const _0x5e95c2=_0x1b93ee,_0x2d410f=document['getElementById'](_0x5e95c2(0xe18)),_0x12b4b1=document[_0x5e95c2(0x693)](_0x5e95c2(0x58a));_0x12b4b1[_0x5e95c2(0x43c)]['add'](_0x5e95c2(0xa21));const _0x3edc09=_0x5e95c2(0x9f4)+_0x45ab83[_0x5e95c2(0x669)]+_0x5e95c2(0x2c8);_0x2d410f[_0x5e95c2(0xce8)]('beforeend',_0x3edc09);const _0x3e1379=document[_0x5e95c2(0x693)]('temp-loader-text-results');try{const _0x54a746=_0x45ab83[_0x5e95c2(0x4e6)][_0x5e95c2(0x926)]((_0x3bb142,_0x36dccf)=>{const _0x6583e6=_0x5e95c2;let _0x3cfb0d=_0x36dccf+0x1+'.\x20'+(_0x3bb142[_0x6583e6(0xd6a)]||_0x3bb142[_0x6583e6(0x87a)])+'\x0a';if(_0x3bb142['options'])_0x3cfb0d+=_0x3bb142[_0x6583e6(0x2da)]['map']((_0x3bccb8,_0x5263be)=>_0x6583e6(0xd4b)+(_0x5263be===_0x3bb142['correctAnswerIndex']?_0x6583e6(0x2d5):'')+'\x20'+_0x3bccb8)[_0x6583e6(0xd7b)]('\x0a');else _0x3bb142['idealAnswer']&&(_0x3cfb0d+=_0x6583e6(0xc30)+_0x3bb142[_0x6583e6(0x9ee)]);return _0x3cfb0d;})[_0x5e95c2(0xd7b)]('\x0a\x0a');_0x3e1379[_0x5e95c2(0xc08)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xb0dd2=_0x5e95c2(0x2f0)+_0x45ab83[_0x5e95c2(0x669)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54a746+_0x5e95c2(0x486)+simpleMathPrompt+_0x5e95c2(0x8a0),_0x43f865={'type':_0x5e95c2(0xd69),'properties':{'questionText':{'type':_0x5e95c2(0x47c)},'questionType':{'type':_0x5e95c2(0x47c),'enum':['multiple_choice',_0x5e95c2(0xbc0),_0x5e95c2(0xa76),'matching_item']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5e95c2(0x7a8)},'idealAnswer':{'type':_0x5e95c2(0x47c)},'correctAnswer':{'type':_0x5e95c2(0x186)},'stem':{'type':_0x5e95c2(0x47c)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5e95c2(0x17d),'items':{'type':_0x5e95c2(0x47c)}},'explanation':{'type':_0x5e95c2(0x47c)},'imageCode':{'type':_0x5e95c2(0x47c)}},'required':['questionType',_0x5e95c2(0xad8)]},_0x38f1f7={'type':_0x5e95c2(0xd69),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5e95c2(0x17d),'items':_0x43f865}},'required':[_0x5e95c2(0x669),_0x5e95c2(0x4e6)]},_0x1cdc6d=await callAnalysisApi(_0xb0dd2,_0x38f1f7),_0x388c76=_0x1cdc6d[_0x5e95c2(0x4e6)][_0x5e95c2(0x926)]((_0x3c06ce,_0x571e8e)=>({..._0x3c06ce,'id':'q_'+Date['now']()+'_'+_0x571e8e})),_0x4b0a59=_0x5e95c2(0x9f9)+_0x45ab83[_0x5e95c2(0x669)],_0x5bc018={'topic':_0x4b0a59,'questions':_0x388c76,'quizType':_0x45ab83['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5e95c2(0xdfc)](),'status':_0x5e95c2(0x69a),'settings':_0x45ab83['settings'],'quizMode':_0x5e95c2(0x90e),'pairedQuizId':null,'lessonPlan':null};let _0x347f92;while(!![]){_0x347f92=Math['floor'](0x3e8+Math[_0x5e95c2(0x281)]()*0x2328)[_0x5e95c2(0x95f)]();const _0x60b955=await getDoc(doc(db,_0x5e95c2(0xe45)+appId+_0x5e95c2(0x868),_0x347f92));if(!_0x60b955[_0x5e95c2(0x5a9)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5e95c2(0x868),_0x347f92),_0x5bc018),showMessage(_0x5e95c2(0x3d0));}catch(_0x65c46c){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x65c46c),showMessage(_0x5e95c2(0x48f)+_0x65c46c['message']);}finally{const _0x26f89e=document[_0x5e95c2(0x693)](_0x5e95c2(0x795));_0x26f89e&&_0x26f89e[_0x5e95c2(0x200)](),_0x12b4b1[_0x5e95c2(0x43c)][_0x5e95c2(0x200)](_0x5e95c2(0xa21));}}async function handleGenerateParallelPostTest(_0x1e726b){const _0x58c6ba=_0x1b93ee,_0x20c939=document['getElementById']('results-tab-content'),_0xd2afe8=document[_0x58c6ba(0x693)](_0x58c6ba(0x58a));_0xd2afe8[_0x58c6ba(0x43c)]['add'](_0x58c6ba(0xa21));const _0x2d9d00=_0x58c6ba(0xa11);_0x20c939['insertAdjacentHTML'](_0x58c6ba(0xa10),_0x2d9d00);try{const _0x26da21=_0x1e726b[_0x58c6ba(0x4e6)]['map']((_0x1ffc5d,_0x303d1e)=>{const _0x214b9d=_0x58c6ba;let _0x39a0f1=_0x303d1e+0x1+'.\x20'+(_0x1ffc5d[_0x214b9d(0xd6a)]||_0x1ffc5d[_0x214b9d(0x87a)]);if(_0x1ffc5d[_0x214b9d(0x2da)])_0x39a0f1+=_0x214b9d(0x92d)+_0x1ffc5d[_0x214b9d(0x2da)][_0x214b9d(0xd7b)](',\x20');return _0x39a0f1;})['join']('\x0a\x0a'),_0x96c534=_0x58c6ba(0x23e)+_0x1e726b['topic']+_0x58c6ba(0x3e0)+_0x26da21+_0x58c6ba(0xd79)+simpleMathPrompt+_0x58c6ba(0x8a0),_0x1cd15c={'type':_0x58c6ba(0xd69),'properties':{'topic':{'type':_0x58c6ba(0x47c)},'questions':{'type':'ARRAY','items':{'type':_0x58c6ba(0xd69),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x58c6ba(0x47c)},'options':{'type':_0x58c6ba(0x17d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x58c6ba(0x7a8)},'idealAnswer':{'type':_0x58c6ba(0x47c)},'explanation':{'type':_0x58c6ba(0x47c)}},'required':[_0x58c6ba(0xd6a),_0x58c6ba(0xad8)]}}},'required':[_0x58c6ba(0x669),_0x58c6ba(0x4e6)]},_0x680794=await callAnalysisApi(_0x96c534,_0x1cd15c),_0x4b4d88=_0x1e726b[_0x58c6ba(0x669)]['replace']('(ก่อนเรียน)','')[_0x58c6ba(0xb6d)](),_0x320e7f='(หลังเรียน)\x20'+_0x4b4d88,_0x63be8={..._0x680794,'topic':_0x320e7f,'quizType':_0x1e726b[_0x58c6ba(0xcd7)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x58c6ba(0xdfc)](),'status':_0x58c6ba(0x69a),'settings':_0x1e726b[_0x58c6ba(0x3f0)],'quizMode':_0x58c6ba(0x600),'pairedQuizId':_0x1e726b['id']};let _0x427686;while(!![]){_0x427686=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x58c6ba(0x95f)]();const _0x20bade=await getDoc(doc(db,_0x58c6ba(0xe45)+appId+'/public/data/quizzes',_0x427686));if(!_0x20bade[_0x58c6ba(0x5a9)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x427686),_0x63be8);const _0x541551=doc(db,_0x58c6ba(0xe45)+appId+_0x58c6ba(0x868),_0x1e726b['id']);await updateDoc(_0x541551,{'pairedQuizId':_0x427686}),showMessage(_0x58c6ba(0x8a8));}catch(_0x2c48a4){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x2c48a4),showMessage(_0x58c6ba(0x48f)+_0x2c48a4[_0x58c6ba(0x340)]);}finally{const _0x1023fa=document[_0x58c6ba(0x693)]('temp-loader-results');if(_0x1023fa)_0x1023fa[_0x58c6ba(0x200)]();_0xd2afe8['classList']['remove'](_0x58c6ba(0xa21));}}async function handleGenerateParallelTest(_0x230a9c=null){const _0x1a34ae=_0x1b93ee;let _0x125956=_0x230a9c;if(!_0x125956){const _0x2903f6=document[_0x1a34ae(0x693)](_0x1a34ae(0xa8a));_0x2903f6[_0x1a34ae(0xf6)][_0x1a34ae(0x357)]>0x0&&(_0x125956=_0x2903f6[_0x1a34ae(0xf6)][0x0]);}if(!_0x125956){showMessage(_0x1a34ae(0xae6));return;}const _0x40a105=document[_0x1a34ae(0x693)](_0x1a34ae(0x28c)),_0x2c2035=document[_0x1a34ae(0x693)](_0x1a34ae(0x1a8)),_0x54ec28=document[_0x1a34ae(0x693)](_0x1a34ae(0x724)),_0x1160e2=document[_0x1a34ae(0x693)](_0x1a34ae(0x124));_0x1160e2[_0x1a34ae(0xe12)]=!![],document[_0x1a34ae(0x693)](_0x1a34ae(0x38d))[_0x1a34ae(0x43c)]['remove'](_0x1a34ae(0xa21)),_0x54ec28['innerHTML']='',_0x40a105[_0x1a34ae(0x43c)][_0x1a34ae(0x200)](_0x1a34ae(0xa21)),_0x2c2035[_0x1a34ae(0xc08)]=_0x1a34ae(0xbb7);const _0x48ac32=new FileReader();_0x48ac32['readAsDataURL'](_0x125956),_0x48ac32['onload']=async()=>{const _0x14f4d0=_0x1a34ae;try{const _0x4681bc=_0x48ac32[_0x14f4d0(0xe0a)][_0x14f4d0(0x239)](',')[0x1],_0x65aa57=_0x125956[_0x14f4d0(0xb75)];_0x2c2035['textContent']='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xb0e9b8=document['getElementById'](_0x14f4d0(0x35f))[_0x14f4d0(0xb48)],_0x55fe24=_0xb0e9b8?_0x14f4d0(0x5e7):'',_0x382fa2=_0x14f4d0(0xbe4),_0x5c4aa2={'type':_0x14f4d0(0xd69),'properties':{'questionText':{'type':_0x14f4d0(0x47c)},'questionType':{'type':'STRING','enum':[_0x14f4d0(0x6c4),_0x14f4d0(0xbc0)]},'options':{'type':_0x14f4d0(0x17d),'items':{'type':_0x14f4d0(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x14f4d0(0x47c)},'imageCode':{'type':_0x14f4d0(0x47c)}},'required':[_0x14f4d0(0xd6a),_0x14f4d0(0x994),_0x14f4d0(0xad8)]},_0x4de884={'type':_0x14f4d0(0xd69),'properties':{'topic':{'type':_0x14f4d0(0x47c)},'questions':{'type':_0x14f4d0(0x17d),'items':_0x5c4aa2}},'required':[_0x14f4d0(0x669),'questions']},_0x40718b=[{'text':_0x382fa2},{'inlineData':{'mimeType':_0x65aa57,'data':_0x4681bc}}];await handleApiCall(_0x40718b,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x4de884);}catch(_0x2133fe){console[_0x14f4d0(0x75e)](_0x14f4d0(0x5f9),_0x2133fe),showMessage(_0x14f4d0(0x48f)+_0x2133fe[_0x14f4d0(0x340)]),_0x54ec28[_0x14f4d0(0xc8c)]=_0x14f4d0(0xb0a);}finally{_0x40a105[_0x14f4d0(0x43c)]['add'](_0x14f4d0(0xa21)),_0x1160e2['disabled']=![];}},_0x48ac32['onerror']=_0x594aef=>{const _0x613bb8=_0x1a34ae;console[_0x613bb8(0x75e)](_0x613bb8(0x69d),_0x594aef),showMessage(_0x613bb8(0xb4f)),_0x40a105[_0x613bb8(0x43c)][_0x613bb8(0x128)](_0x613bb8(0xa21)),_0x1160e2['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x13181a){const _0x25e862=_0x1b93ee;if(currentEditingQuizData===null)return;const _0x27073f=document[_0x25e862(0xbc1)](_0x25e862(0x2bf)+_0x13181a+'\x22]');_0x27073f&&(_0x27073f[_0x25e862(0xc8c)]=_0x25e862(0xbfa));const _0x46e253=currentEditingQuizData['questions'][_0x13181a],_0x52f6ad=currentEditingQuizData['topic'],_0x571e7c=_0x46e253['questionType'],_0x52e70e={'type':_0x25e862(0xd69),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x25e862(0x17d),'items':{'type':_0x25e862(0x47c)}},'correctAnswerIndex':{'type':_0x25e862(0x7a8)},'explanation':{'type':_0x25e862(0x47c)}},'required':[_0x25e862(0xd6a),_0x25e862(0x2da),_0x25e862(0x3b0),_0x25e862(0xad8)]},_0x5a5407={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x25e862(0x47c)}},'required':[_0x25e862(0xd6a),_0x25e862(0x9ee),_0x25e862(0xad8)]};let _0x280d98,_0x19f47e='';_0x571e7c===_0x25e862(0x6c4)?(_0x280d98=_0x52e70e,_0x19f47e=_0x25e862(0x88f)):(_0x280d98=_0x5a5407,_0x19f47e=_0x25e862(0xd3f));const _0x38fb17='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x52f6ad+_0x25e862(0x114)+_0x19f47e+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x46e253[_0x25e862(0xd6a)]||_0x46e253['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x7794ff=await callAnalysisApi(_0x38fb17,_0x280d98);currentEditingQuizData[_0x25e862(0x4e6)][_0x13181a]={..._0x46e253,..._0x7794ff},renderQuizEditor(currentEditingQuizData);}catch(_0x22f5eb){console[_0x25e862(0x75e)](_0x25e862(0x655),_0x22f5eb),showMessage(_0x25e862(0xcc1)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4e36c0=_0x1b93ee,_0x2ed3ad=document[_0x4e36c0(0x693)](_0x4e36c0(0x753));currentMode==='student'?(adminPasswordModal['classList'][_0x4e36c0(0x200)](_0x4e36c0(0xa21)),document[_0x4e36c0(0x693)](_0x4e36c0(0x6c1))['focus']()):(currentMode=_0x4e36c0(0x5ed),_0x2ed3ad[_0x4e36c0(0xc8c)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x2ed3ad[_0x4e36c0(0x65d)]=_0x4e36c0(0x5fe),showView(_0x4e36c0(0x5ed)));}function handleAdminLogin(){const _0x49877a=_0x1b93ee,_0x178445=document[_0x49877a(0x693)]('admin-password-input'),_0x3c4bfb=document[_0x49877a(0x693)](_0x49877a(0x8f8));if(_0x178445['value']===_0x49877a(0xe0c)){adminPasswordModal[_0x49877a(0x43c)][_0x49877a(0x128)](_0x49877a(0xa21)),_0x178445['value']='',_0x3c4bfb['classList']['add'](_0x49877a(0xa21)),currentMode=_0x49877a(0x23c);const _0x5b167b=document['getElementById'](_0x49877a(0x753));_0x5b167b[_0x49877a(0xc8c)]=_0x49877a(0x1ab),_0x5b167b[_0x49877a(0x65d)]='สลับไปโหมดนักเรียน',showView(_0x49877a(0x393));}else _0x3c4bfb[_0x49877a(0x43c)][_0x49877a(0x200)]('hidden'),_0x178445[_0x49877a(0xc5c)]='';}function switchProjectTab(_0x2f2186){const _0x205c1f=_0x1b93ee;[_0x205c1f(0xc2b),'results',_0x205c1f(0xb96)]['forEach'](_0x36c617=>{const _0x9e0e57=_0x205c1f;document[_0x9e0e57(0x693)](_0x36c617+_0x9e0e57(0x1d3))[_0x9e0e57(0x43c)][_0x9e0e57(0x200)](_0x9e0e57(0x69a)),document['getElementById'](_0x36c617+_0x9e0e57(0x3c6))['classList']['add'](_0x9e0e57(0xa21));}),document[_0x205c1f(0x693)](_0x2f2186+'-tab')[_0x205c1f(0x43c)][_0x205c1f(0x128)](_0x205c1f(0x69a)),document['getElementById'](_0x2f2186+'-tab-content')[_0x205c1f(0x43c)]['remove']('hidden');}function switchQuizDetailTab(_0x1da978){const _0x1315c2=_0x1b93ee,_0x5daf8a={'analytics':{'btn':'analytics-tab-btn','content':_0x1315c2(0x619)},'scores':{'btn':_0x1315c2(0x26b),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x1315c2(0x45d),'content':_0x1315c2(0x601)},'behavior-log':{'btn':_0x1315c2(0x41c),'content':'behavior-log-tab-content'}};for(const _0x1eb96f in _0x5daf8a){document['getElementById'](_0x5daf8a[_0x1eb96f][_0x1315c2(0xb8c)])['classList'][_0x1315c2(0x200)]('active'),document[_0x1315c2(0x693)](_0x5daf8a[_0x1eb96f]['content'])[_0x1315c2(0x43c)][_0x1315c2(0x128)]('hidden');}document[_0x1315c2(0x693)](_0x5daf8a[_0x1da978]['btn'])['classList']['add']('active'),document[_0x1315c2(0x693)](_0x5daf8a[_0x1da978][_0x1315c2(0xc41)])[_0x1315c2(0x43c)][_0x1315c2(0x200)](_0x1315c2(0xa21));}function showMessage(_0x7fc72f,_0x3ed524=null){const _0x1c9929=_0x1b93ee;modalMessage[_0x1c9929(0xc8c)]=_0x7fc72f['replace'](/\n/g,_0x1c9929(0x4fe)),modalConfirmAction=_0x3ed524,messageModal[_0x1c9929(0x43c)]['remove'](_0x1c9929(0xa21));}function showConfirmation(_0x37d79f,_0x5625d6,_0x179ee6=null){const _0x256edf=_0x1b93ee;document[_0x256edf(0x693)]('confirmation-message')['textContent']=_0x37d79f,document[_0x256edf(0x693)](_0x256edf(0x330))[_0x256edf(0xbc1)]('h3')[_0x256edf(0xc08)]=_0x256edf(0x143),confirmAction=_0x5625d6,cancelAction=_0x179ee6,confirmationModal[_0x256edf(0x43c)][_0x256edf(0x200)](_0x256edf(0xa21));}function listenForProjects(){const _0x3c3481=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x3c3481,_0x56128e=>{const _0x329b3b=_0x1173;if(_0x56128e['exists']()){const _0x5cbc0d=_0x56128e[_0x329b3b(0x7d4)]();globalDashboardSettings[_0x329b3b(0xac6)]=_0x5cbc0d[_0x329b3b(0xac6)]||_0x329b3b(0xccb),globalDashboardSettings[_0x329b3b(0xc28)]=_0x5cbc0d[_0x329b3b(0xc28)]||[],globalDashboardSettings[_0x329b3b(0x41b)]=_0x5cbc0d['projectOrder']||[];}allProjects[_0x329b3b(0x357)]>0x0&&renderProjects();});const _0x4d3936=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x4d3936,_0x312258=>{const _0x850c4e=_0x1173;allProjects=_0x312258[_0x850c4e(0x34d)][_0x850c4e(0x926)](_0x1ba629=>({'id':_0x1ba629['id'],..._0x1ba629[_0x850c4e(0x7d4)]()})),renderProjects();},_0x153aac=>{const _0x45bb75=_0x1173;console['error']('Error\x20listening\x20for\x20projects:',_0x153aac),showMessage(_0x45bb75(0x15c));});}function showColorPalette(_0x3169aa,_0x31ecdc){const _0x3fa4c7=_0x1b93ee;document[_0x3fa4c7(0xe56)]('.color-palette-popup')[_0x3fa4c7(0x242)](_0x270c67=>_0x270c67['remove']());const _0x4fce3a=['#FFFFFF','#FEE2E2',_0x3fa4c7(0x802),_0x3fa4c7(0x735),_0x3fa4c7(0xc81),'#E0E7FF','#F3E8FF','#FCE7F3','#E5E7EB'],_0x25801c=document[_0x3fa4c7(0x1a7)](_0x3fa4c7(0x748));_0x25801c['className']=_0x3fa4c7(0xe3a),_0x4fce3a[_0x3fa4c7(0x242)](_0x339304=>{const _0x261525=_0x3fa4c7,_0x3ac94e=document[_0x261525(0x1a7)](_0x261525(0x748));_0x3ac94e['className']=_0x261525(0x3b5),_0x3ac94e[_0x261525(0x77b)][_0x261525(0xb62)]=_0x339304,_0x3ac94e[_0x261525(0x5e0)](_0x261525(0x2df),()=>{const _0x22bcab=_0x261525;handleProjectColorChange(_0x31ecdc,_0x339304),_0x25801c[_0x22bcab(0x200)]();}),_0x25801c[_0x261525(0x39f)](_0x3ac94e);}),document[_0x3fa4c7(0xc69)][_0x3fa4c7(0x39f)](_0x25801c);const _0x5846c5=_0x3169aa['getBoundingClientRect']();_0x25801c[_0x3fa4c7(0x77b)][_0x3fa4c7(0x7f8)]=_0x5846c5['bottom']+window['scrollY']+'px',_0x25801c['style'][_0x3fa4c7(0x42a)]=_0x5846c5[_0x3fa4c7(0x42a)]+window[_0x3fa4c7(0xbe2)]-_0x25801c['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x34cdb6,_0x41721b){const _0x2a63ae=_0x1b93ee,_0x10ad67=doc(db,_0x2a63ae(0xe45)+appId+_0x2a63ae(0xb89),_0x34cdb6);try{await updateDoc(_0x10ad67,{'color':_0x41721b});}catch(_0x40c1fc){console[_0x2a63ae(0x75e)](_0x2a63ae(0x85a),_0x40c1fc),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x21aa48=_0x1b93ee,_0x5948e7=globalDashboardSettings[_0x21aa48(0xac6)]||_0x21aa48(0xccb),_0x1286dd=new Set(globalDashboardSettings[_0x21aa48(0xc28)]||[]),_0x1fafcc=globalDashboardSettings[_0x21aa48(0xc2f)]||_0x21aa48(0x232),_0x197bb8=document[_0x21aa48(0x693)]('grid-view-btn'),_0x477789=document[_0x21aa48(0x693)](_0x21aa48(0xa8d));_0x197bb8[_0x21aa48(0x43c)]['toggle'](_0x21aa48(0x69a),_0x1fafcc===_0x21aa48(0x232)),_0x477789[_0x21aa48(0x43c)][_0x21aa48(0xe2c)]('active',_0x1fafcc==='list'),document[_0x21aa48(0x693)](_0x21aa48(0x3be))['value']=_0x5948e7;const _0xd9756b=document['getElementById'](_0x21aa48(0x8bf))['value'][_0x21aa48(0x95a)]();let _0x5e304e=allProjects[_0x21aa48(0x107)](_0x15b6db=>_0x15b6db[_0x21aa48(0x21c)][_0x21aa48(0x95a)]()['includes'](_0xd9756b));const _0x142bf9=_0x5e304e[_0x21aa48(0x107)](_0x591dfc=>_0x1286dd['has'](_0x591dfc['id'])),_0x50b509=_0x5e304e['filter'](_0x28c8f2=>!_0x1286dd[_0x21aa48(0x1b0)](_0x28c8f2['id'])),_0x3ec1b4=(_0x39e964,_0x4fb4ad)=>{const _0x59a5e2=_0x21aa48;switch(_0x5948e7){case _0x59a5e2(0xc43):return _0x39e964['projectName'][_0x59a5e2(0xb9d)](_0x4fb4ad['projectName'],'th');case _0x59a5e2(0xaed):return _0x4fb4ad[_0x59a5e2(0x21c)][_0x59a5e2(0xb9d)](_0x39e964[_0x59a5e2(0x21c)],'th');case _0x59a5e2(0xcf8):return new Date(_0x39e964['createdAt'])-new Date(_0x4fb4ad[_0x59a5e2(0x702)]);default:return new Date(_0x4fb4ad[_0x59a5e2(0x702)])-new Date(_0x39e964[_0x59a5e2(0x702)]);}};_0x142bf9[_0x21aa48(0xa05)](_0x3ec1b4),_0x50b509[_0x21aa48(0xa05)](_0x3ec1b4);const _0x20c59e=[..._0x142bf9,..._0x50b509],_0x21190e=globalDashboardSettings['projectOrder']||[];_0x21190e['length']>0x0&&_0x1fafcc===_0x21aa48(0x232)&&_0x20c59e['sort']((_0x5a2ea2,_0x5b746d)=>{const _0x192828=_0x21aa48,_0x381a0e=_0x21190e[_0x192828(0x76e)](_0x5a2ea2['id']),_0x6485a6=_0x21190e[_0x192828(0x76e)](_0x5b746d['id']);if(_0x381a0e===-0x1)return 0x1;if(_0x6485a6===-0x1)return-0x1;return _0x381a0e-_0x6485a6;});const _0x2a8316={};await Promise[_0x21aa48(0x10a)](_0x20c59e['map'](async _0x2e9b68=>{const _0x4380e3=_0x21aa48,_0x5e5894=query(collection(db,'artifacts/'+appId+_0x4380e3(0x868)),where(_0x4380e3(0x3a0),'==',_0x2e9b68['id'])),_0x21d1ea=await getDocs(_0x5e5894);_0x2a8316[_0x2e9b68['id']]=_0x21d1ea[_0x4380e3(0x80b)];}));const _0x1db08b=document['getElementById'](_0x21aa48(0xfa));let _0x2b8f2a='';if(_0x1fafcc==='grid'){_0x1db08b[_0x21aa48(0x17f)]=_0x21aa48(0x2f6);if(starredQuizzes[_0x21aa48(0x357)]>0x0&&_0xd9756b===''){const _0x29a692=starredQuizzes[_0x21aa48(0x926)](_0x4a9381=>{const _0x251223=_0x21aa48,_0x595f5c=allProjects[_0x251223(0xe69)](_0x340196=>_0x340196['id']===_0x4a9381['projectId']);return{..._0x4a9381,'projectName':_0x595f5c?_0x595f5c[_0x251223(0x21c)]:_0x251223(0xe7d)};});_0x2b8f2a+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29a692[_0x21aa48(0x926)](_0x3cc476=>_0x21aa48(0x4f1)+_0x3cc476[_0x21aa48(0x669)]+'\x22>'+_0x3cc476[_0x21aa48(0x669)]+_0x21aa48(0xc82)+_0x3cc476['projectName']+_0x21aa48(0x3ff)+_0x3cc476[_0x21aa48(0x21c)]+_0x21aa48(0x87c))[_0x21aa48(0xd7b)]('')+_0x21aa48(0x81b)+starredQuizzes[_0x21aa48(0x357)]+_0x21aa48(0xca3);}_0x20c59e[_0x21aa48(0x242)](_0x5ab419=>{const _0x6e0b92=_0x21aa48,_0x4e149c=_0x2a8316[_0x5ab419['id']]??0x0,_0x543059=_0x1286dd[_0x6e0b92(0x1b0)](_0x5ab419['id']),_0x1c5e03=_0x5ab419[_0x6e0b92(0x8a2)]||_0x6e0b92(0x8cd),_0x6ce794=parseInt(_0x1c5e03[_0x6e0b92(0x179)](0x1,0x3),0x10)*0.299+parseInt(_0x1c5e03[_0x6e0b92(0x179)](0x3,0x5),0x10)*0.587+parseInt(_0x1c5e03['substring'](0x5,0x7),0x10)*0.114<0xba,_0xc83e11=_0x6ce794?_0x6e0b92(0xba3):'text-indigo-800',_0x1cf602=_0x6ce794?_0x6e0b92(0x9a5):_0x6e0b92(0xc2c);_0x2b8f2a+=_0x6e0b92(0x20b)+(_0x543059?_0x6e0b92(0xcd8):_0x6e0b92(0x893))+_0x6e0b92(0x61f)+_0x1c5e03+_0x6e0b92(0x649)+_0x5ab419['id']+_0x6e0b92(0x282)+_0x5ab419['id']+_0x6e0b92(0xc78)+(_0x6ce794?'text-gray-300\x20hover:text-white':_0x6e0b92(0xc7b))+_0x6e0b92(0x540)+_0x5ab419['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x6ce794?_0x6e0b92(0x589):'text-gray-400\x20hover:text-indigo-600')+_0x6e0b92(0x255)+(_0x543059?_0x6ce794?_0x6e0b92(0x6cc):_0x6e0b92(0x380):'')+_0x6e0b92(0x516)+_0x5ab419['id']+_0x6e0b92(0x6e3)+_0xc83e11+_0x6e0b92(0xa44)+_0x5ab419[_0x6e0b92(0x21c)]+_0x6e0b92(0x4b3)+_0x1cf602+_0x6e0b92(0xbf5)+new Date(_0x5ab419['createdAt'])[_0x6e0b92(0x799)](_0x6e0b92(0xda2))+_0x6e0b92(0x8e3)+(_0x6ce794?_0x6e0b92(0x326):'text-gray-700')+_0x6e0b92(0x853)+_0x4e149c+_0x6e0b92(0x791)+_0x5ab419['id']+_0x6e0b92(0xbd8)+_0x5ab419['projectName']+_0x6e0b92(0x125)+(_0x6ce794?_0x6e0b92(0x2d4):_0x6e0b92(0xafe))+_0x6e0b92(0xe7e);});}else _0x1db08b[_0x21aa48(0x17f)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x21aa48(0x357)]>0x0&&_0xd9756b===''&&(_0x2b8f2a+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x21aa48(0x357)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x2b8f2a+=_0x21aa48(0x2e0),_0x20c59e['forEach'](_0x529883=>{const _0x30d3f9=_0x21aa48,_0x3f764c=_0x2a8316[_0x529883['id']]??0x0,_0x41c523=_0x1286dd[_0x30d3f9(0x1b0)](_0x529883['id']);_0x2b8f2a+=_0x30d3f9(0x72b)+(_0x529883[_0x30d3f9(0x8a2)]||_0x30d3f9(0x902))+_0x30d3f9(0x75f)+_0x529883['id']+_0x30d3f9(0x8c6)+_0x529883[_0x30d3f9(0x21c)]+_0x30d3f9(0xae3)+_0x3f764c+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x529883['createdAt'])[_0x30d3f9(0x286)](_0x30d3f9(0xda2))+_0x30d3f9(0xe59)+_0x529883['id']+_0x30d3f9(0x46c)+(_0x41c523?'text-indigo-600':'')+_0x30d3f9(0x1b3)+_0x529883['id']+_0x30d3f9(0xbd8)+_0x529883['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x21aa48(0xc8c)]=_0x2b8f2a,noProjectsMsg[_0x21aa48(0x43c)]['toggle'](_0x21aa48(0xa21),_0x2b8f2a['length']>0x0);}document[_0x1b93ee(0x693)](_0x1b93ee(0x3a4))['addEventListener'](_0x1b93ee(0x2df),async()=>{const _0x1be819=_0x1b93ee,_0x22b86f=document[_0x1be819(0x693)](_0x1be819(0x917)),_0x307adc=_0x22b86f['value'][_0x1be819(0xb6d)]();if(!_0x307adc){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x4a5c38=doc(collection(db,_0x1be819(0xe45)+appId+_0x1be819(0xb89)));await setDoc(_0x4a5c38,{'projectName':_0x307adc,'students':[],'settings':{'resultsDisplay':_0x1be819(0xbe0),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1be819(0x2c6),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x22b86f[_0x1be819(0xc5c)]='',createProjectModal['classList'][_0x1be819(0x128)]('hidden'),showMessage(_0x1be819(0xdd4));}catch(_0x2a8d0d){console[_0x1be819(0x75e)](_0x1be819(0xd50),_0x2a8d0d),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x1b93ee(0x5e0)](_0x1b93ee(0x2df),async _0x2544fe=>{const _0x22819c=_0x1b93ee,_0x338da9=_0x2544fe['target'][_0x22819c(0xe11)](_0x22819c(0xdff)),_0x480882=_0x2544fe['target'][_0x22819c(0xe11)](_0x22819c(0x937)),_0x35170b=_0x2544fe[_0x22819c(0x588)][_0x22819c(0xe11)]('.pin-project-btn'),_0x4d7530=_0x2544fe['target']['closest'](_0x22819c(0x99e));if(_0x35170b){const _0x3c68d9=_0x35170b[_0x22819c(0x43d)]['id'],_0x2da375=doc(db,_0x22819c(0xe34),_0x22819c(0x8b2)),_0x5b1bcb=globalDashboardSettings['pinnedProjects'];let _0x50f3cd;_0x5b1bcb['includes'](_0x3c68d9)?_0x50f3cd=_0x5b1bcb[_0x22819c(0x107)](_0x85c475=>_0x85c475!==_0x3c68d9):_0x50f3cd=[..._0x5b1bcb,_0x3c68d9];try{await setDoc(_0x2da375,{'pinnedProjects':_0x50f3cd},{'merge':!![]});}catch(_0x5ab438){console[_0x22819c(0x75e)](_0x22819c(0x8ae),_0x5ab438),showMessage(_0x22819c(0x595));}}else{if(_0x4d7530){const _0x206543=_0x4d7530[_0x22819c(0x43d)]['id'];showColorPalette(_0x4d7530,_0x206543);}else{if(_0x338da9){const _0x5de5e9=_0x338da9[_0x22819c(0x43d)]['id'];_0x5de5e9===_0x22819c(0x6be)?showStarredProjectView():(currentProjectId=_0x5de5e9,await loadProjectDetails(currentProjectId),showView(_0x22819c(0x66a)));}else{if(_0x480882){const _0x4daf63=_0x480882[_0x22819c(0x43d)]['id'],_0x10668f=_0x480882['dataset'][_0x22819c(0x41d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x10668f+_0x22819c(0x627),()=>handleDeleteProject(_0x4daf63));}}}}}),projectList[_0x1b93ee(0x5e0)]('dragstart',_0x2bfb85=>{const _0x407175=_0x1b93ee,_0x4448f9=_0x2bfb85[_0x407175(0x588)][_0x407175(0xe11)](_0x407175(0xa5c));_0x4448f9&&_0x4448f9[_0x407175(0x43c)]['add'](_0x407175(0x677));}),projectList[_0x1b93ee(0x5e0)]('dragend',_0x2026a0=>{const _0x1e9559=_0x1b93ee,_0x4c4d61=_0x2026a0[_0x1e9559(0x588)]['closest']('.project-card-container');_0x4c4d61&&_0x4c4d61[_0x1e9559(0x43c)][_0x1e9559(0x200)](_0x1e9559(0x677));}),projectList[_0x1b93ee(0x5e0)](_0x1b93ee(0x9e0),_0x1f99d7=>{const _0xc8fca3=_0x1b93ee;_0x1f99d7[_0xc8fca3(0x32c)]();const _0x31077e=document['querySelector'](_0xc8fca3(0xc0f));if(!_0x31077e)return;const _0x2c9675=getDragAfterElement(projectList,_0x1f99d7['clientY']);_0x2c9675==null?projectList[_0xc8fca3(0x39f)](_0x31077e):projectList['insertBefore'](_0x31077e,_0x2c9675);}),projectList['addEventListener'](_0x1b93ee(0xaa4),_0x3e9380=>{const _0x32d2d3=_0x1b93ee;_0x3e9380['preventDefault']();const _0x17ac4d=[...projectList[_0x32d2d3(0xe56)]('.project-card-container[data-id]')]['map'](_0x4611fb=>_0x4611fb['dataset']['id']);saveProjectOrder(_0x17ac4d);});function renderBehaviorLog(_0x31b9bb){const _0x4be570=_0x1b93ee,_0x4983ac=document[_0x4be570(0x693)]('behavior-log-container');if(!_0x4983ac)return;const _0x45de0b=_0x31b9bb[_0x4be570(0x107)](_0x39976b=>_0x39976b['behaviorLog']&&_0x39976b[_0x4be570(0x98b)][_0x4be570(0x357)]>0x0);if(_0x45de0b[_0x4be570(0x357)]===0x0){_0x4983ac[_0x4be570(0xc8c)]=_0x4be570(0x89e);return;}let _0x1c84ac='';_0x45de0b[_0x4be570(0x242)](_0x189f76=>{const _0x35bbdf=_0x4be570;_0x1c84ac+=_0x35bbdf(0x168)+_0x189f76['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x189f76[_0x35bbdf(0x98b)][_0x35bbdf(0xa05)]((_0x2a81f1,_0x3f5f66)=>new Date(_0x3f5f66[_0x35bbdf(0x32f)])-new Date(_0x2a81f1[_0x35bbdf(0x32f)]))[_0x35bbdf(0x242)](_0x578c7c=>{const _0x5916d7=_0x35bbdf,_0xd3b0af=new Date(_0x578c7c[_0x5916d7(0x32f)])['toLocaleString'](_0x5916d7(0xda2),{'dateStyle':'short','timeStyle':_0x5916d7(0x88e)});_0x1c84ac+=_0x5916d7(0x2ed)+_0x578c7c[_0x5916d7(0xa6b)]+_0x5916d7(0x7eb)+_0xd3b0af+_0x5916d7(0x6bf);}),_0x1c84ac+=_0x35bbdf(0x3ca);}),_0x4983ac[_0x4be570(0xc8c)]=_0x1c84ac;}function getDragAfterElement(_0x43a40c,_0x2b911c){const _0x26e5c7=_0x1b93ee,_0x543ed5=[..._0x43a40c[_0x26e5c7(0xe56)](_0x26e5c7(0x8b1))];return _0x543ed5[_0x26e5c7(0xb28)]((_0x2c4912,_0x337823)=>{const _0x5cea99=_0x26e5c7,_0x457b67=_0x337823[_0x5cea99(0x978)](),_0x576b6f=_0x2b911c-_0x457b67[_0x5cea99(0x7f8)]-_0x457b67[_0x5cea99(0x69f)]/0x2;return _0x576b6f<0x0&&_0x576b6f>_0x2c4912[_0x5cea99(0x639)]?{'offset':_0x576b6f,'element':_0x337823}:_0x2c4912;},{'offset':Number[_0x26e5c7(0x816)]})[_0x26e5c7(0xade)];}async function saveProjectOrder(_0x59f456){const _0x413222=_0x1b93ee,_0x48a0dc=doc(db,_0x413222(0xe34),'dashboardConfig');try{await setDoc(_0x48a0dc,{'projectOrder':_0x59f456},{'merge':!![]});}catch(_0x5bc1fc){console[_0x413222(0x75e)](_0x413222(0xa97),_0x5bc1fc),showMessage(_0x413222(0x9b4));}}async function logBehaviorEvent(_0x439b98,_0xa2b6b={}){const _0x5d3169=_0x1b93ee;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x5d3169(0x16e)](_0x5d3169(0x447));return;}const _0x24cdb8=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x5d3169(0xddf),currentStudentName),_0xa0fe2d={'event':_0x439b98,'timestamp':new Date()['toISOString'](),..._0xa2b6b};try{await updateDoc(_0x24cdb8,{'behaviorLog':arrayUnion(_0xa0fe2d)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x5d3169(0x4e3));}catch(_0xfa4318){_0xfa4318[_0x5d3169(0xceb)]===_0x5d3169(0xaae)?console[_0x5d3169(0x16e)](_0x5d3169(0x6cd)+currentStudentName+_0x5d3169(0x6ac)):console[_0x5d3169(0x75e)](_0x5d3169(0x939),_0xfa4318);}}function getScoreTier(_0x1d1de5,_0x41c279){const _0x20a8c7=_0x1b93ee;if(_0x41c279===0x0){if(_0x1d1de5===0x0)return{'text':_0x20a8c7(0x732),'icon':'⏳'};return{'text':_0x20a8c7(0xa03),'icon':'😥'};}const _0x2dcc07=_0x1d1de5/(_0x41c279===0x0?0x1:_0x41c279);if(_0x2dcc07===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x2dcc07>=0.7)return{'text':_0x20a8c7(0xab8),'icon':'🔥'};if(_0x2dcc07>=0.4)return{'text':_0x20a8c7(0x12a),'icon':'🏃'};return{'text':_0x20a8c7(0xa03),'icon':'😥'};}function calculateMeanAndStdDev(_0x52c895){const _0x41a452=_0x1b93ee;if(_0x52c895['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1e261d=_0x52c895[_0x41a452(0xb28)]((_0x5ec457,_0x49049b)=>_0x5ec457+_0x49049b,0x0)/_0x52c895['length'];if(_0x52c895[_0x41a452(0x357)]===0x1)return{'mean':_0x1e261d,'stdDev':0x0};const _0x5bfc0f=Math[_0x41a452(0xae0)](_0x52c895[_0x41a452(0x926)](_0x4b17e3=>Math[_0x41a452(0x1c2)](_0x4b17e3-_0x1e261d,0x2))[_0x41a452(0xb28)]((_0x573524,_0x2e04a5)=>_0x573524+_0x2e04a5,0x0)/(_0x52c895[_0x41a452(0x357)]-0x1));return{'mean':_0x1e261d,'stdDev':_0x5bfc0f};}function calculateZScore(_0x9cbb6e,_0x5244a5,_0x8275a5){if(_0x8275a5===0x0)return 0x0;return(_0x9cbb6e-_0x5244a5)/_0x8275a5;}function calculateTScore(_0x52f8d8){return 0xa*_0x52f8d8+0x32;}function showStarredProjectView(){const _0x3c6318=_0x1b93ee;currentProjectId=_0x3c6318(0xdbe),currentProjectData=null,projectTitle[_0x3c6318(0xc08)]=_0x3c6318(0xe17),projectIdDisplay[_0x3c6318(0xc08)]=_0x3c6318(0x334),showView(_0x3c6318(0x66a)),manageTab[_0x3c6318(0x43c)][_0x3c6318(0x128)]('hidden'),leaderboardTab[_0x3c6318(0x43c)][_0x3c6318(0x128)]('hidden'),switchProjectTab(_0x3c6318(0xb88)),renderQuizzes();}async function loadProjectDetails(_0x416d13){const _0x58ea15=_0x1b93ee,_0x168dd9=doc(db,'artifacts/'+appId+_0x58ea15(0xb89),_0x416d13),_0x2db594=await getDoc(_0x168dd9);if(_0x2db594[_0x58ea15(0x5a9)]()){manageTab[_0x58ea15(0x43c)][_0x58ea15(0x200)](_0x58ea15(0xa21)),leaderboardTab[_0x58ea15(0x43c)][_0x58ea15(0x200)](_0x58ea15(0xa21)),currentProjectData=_0x2db594['data'](),projectTitle[_0x58ea15(0xc08)]=currentProjectData[_0x58ea15(0x21c)],projectIdDisplay[_0x58ea15(0xc08)]=_0x416d13;const _0x22a53b=currentProjectData[_0x58ea15(0x3f0)]||{};document['getElementById']('shuffle-setting-select')[_0x58ea15(0xc5c)]=_0x22a53b[_0x58ea15(0xd4a)]||_0x58ea15(0x2c6);const _0x298670=document['getElementById'](_0x58ea15(0x9da));_0x298670['checked']=_0x22a53b['showInStudentDashboard']!==![];const _0x1b61c0=document[_0x58ea15(0x693)](_0x58ea15(0x25f)),_0x2ec337=document['getElementById'](_0x58ea15(0xc52)),_0x2a7313=document[_0x58ea15(0x693)](_0x58ea15(0x2d6)),_0x1134f1=_0x22a53b['isPasscodeEnabled']||![];_0x1b61c0['checked']=_0x1134f1,_0x2a7313[_0x58ea15(0xc5c)]=_0x22a53b[_0x58ea15(0xd60)]||'',_0x2ec337[_0x58ea15(0x43c)][_0x58ea15(0xe2c)](_0x58ea15(0xa21),!_0x1134f1),_0x1b61c0[_0x58ea15(0x674)]=()=>{const _0x47fb4a=_0x58ea15;_0x2ec337[_0x47fb4a(0x43c)][_0x47fb4a(0xe2c)]('hidden',!_0x1b61c0[_0x47fb4a(0xb48)]);},document[_0x58ea15(0x693)](_0x58ea15(0x437))['checked']=_0x22a53b['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x416d13),listenForProjectQuizzes(_0x416d13),listenForStudentProfiles(_0x416d13);}else showMessage('ไม่พบโปรเจค'),showView(_0x58ea15(0x393));}async function handleResetProjectOrder(){const _0x5ff3d4=_0x1b93ee,_0x4e97ba=doc(db,_0x5ff3d4(0xe34),_0x5ff3d4(0x8b2));try{await setDoc(_0x4e97ba,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5ff3d4(0xa78));}catch(_0xe00ec9){console[_0x5ff3d4(0x75e)](_0x5ff3d4(0xa5f),_0xe00ec9),showMessage(_0x5ff3d4(0x7be));}}async function handleTogglePinProject(_0xc5a958){const _0x4539f9=_0x1b93ee;if(!_0xc5a958)return;const _0x3a78cb=doc(db,_0x4539f9(0xe45)+appId+_0x4539f9(0xb89),_0xc5a958);try{const _0x32da98=await getDoc(_0x3a78cb);if(_0x32da98[_0x4539f9(0x5a9)]()){const _0x404114=_0x32da98[_0x4539f9(0x7d4)]()[_0x4539f9(0x8ca)]||![];await updateDoc(_0x3a78cb,{'isPinned':!_0x404114});}}catch(_0x92957b){console[_0x4539f9(0x75e)](_0x4539f9(0xd68),_0x92957b),showMessage(_0x4539f9(0x595));}}async function handleDeleteProject(_0x4247a1){const _0x5c0bbf=_0x1b93ee;try{const _0x34b800=writeBatch(db),_0x49e98a=collection(db,_0x5c0bbf(0xe45)+appId+_0x5c0bbf(0x868)),_0x2e2347=query(_0x49e98a,where(_0x5c0bbf(0x3a0),'==',_0x4247a1)),_0x4bf4f1=await getDocs(_0x2e2347);for(const _0x379c90 of _0x4bf4f1['docs']){const _0x80de53=collection(db,'artifacts/'+appId+_0x5c0bbf(0x449)+_0x379c90['id']+_0x5c0bbf(0xddf)),_0x2a131f=await getDocs(_0x80de53);_0x2a131f[_0x5c0bbf(0x242)](_0x4e3633=>{const _0x15e12a=_0x5c0bbf;_0x34b800[_0x15e12a(0x25a)](_0x4e3633['ref']);}),_0x34b800[_0x5c0bbf(0x25a)](_0x379c90[_0x5c0bbf(0x88c)]);}const _0x20ce5d=collection(db,_0x5c0bbf(0xe45)+appId+_0x5c0bbf(0x456)+_0x4247a1+'/studentProfiles'),_0x4fff36=await getDocs(_0x20ce5d);_0x4fff36[_0x5c0bbf(0x242)](_0x2b1081=>{const _0x2bd0b1=_0x5c0bbf;_0x34b800[_0x2bd0b1(0x25a)](_0x2b1081[_0x2bd0b1(0x88c)]);});const _0x4b0cb4=doc(db,'artifacts/'+appId+_0x5c0bbf(0xb89),_0x4247a1);_0x34b800['delete'](_0x4b0cb4),await _0x34b800[_0x5c0bbf(0x480)](),showMessage(_0x5c0bbf(0xdc7)),showView('admin-dashboard');}catch(_0x2c9303){console['error']('Error\x20deleting\x20project:',_0x2c9303),showMessage(_0x5c0bbf(0x6f3));}}document[_0x1b93ee(0x693)](_0x1b93ee(0xdd8))['addEventListener'](_0x1b93ee(0x2df),async()=>{const _0x553085=_0x1b93ee;if(!currentProjectId)return;const _0x11877e={'defaultNumQuestions':parseInt(document[_0x553085(0x693)](_0x553085(0x30e))[_0x553085(0xc5c)]),'defaultNumChoices':parseInt(document[_0x553085(0x693)](_0x553085(0x96e))[_0x553085(0xc5c)]),'defaultPassingScore':parseInt(document[_0x553085(0x693)](_0x553085(0x4c6))[_0x553085(0xc5c)]),'resultsDisplay':document['getElementById'](_0x553085(0x57e))[_0x553085(0xc5c)],'shuffleSetting':document[_0x553085(0x693)](_0x553085(0xc0c))['value'],'timerMode':document['getElementById']('timer-mode-select')[_0x553085(0xc5c)],'timerDuration':parseInt(document[_0x553085(0x693)](_0x553085(0x24b))[_0x553085(0xc5c)]),'isConfidenceScoringEnabled':document[_0x553085(0x693)](_0x553085(0x437))[_0x553085(0xb48)],'confidenceMode':document[_0x553085(0x693)](_0x553085(0xc11))[_0x553085(0xc5c)]};try{const _0x367681=doc(db,_0x553085(0xe45)+appId+_0x553085(0xb89),currentProjectId);await updateDoc(_0x367681,{'settings':_0x11877e}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x472542){console[_0x553085(0x75e)](_0x553085(0x2ae),_0x472542),showMessage(_0x553085(0xb78));}});function listenForStudents(_0x3c2ebd){const _0x1f7e60=_0x1b93ee,_0x209dab=doc(db,_0x1f7e60(0xe45)+appId+_0x1f7e60(0xb89),_0x3c2ebd);unsubscribeStudentsListener=onSnapshot(_0x209dab,_0x20522f=>{const _0x170e8f=_0x1f7e60;if(_0x20522f[_0x170e8f(0x5a9)]()){const _0x2affe8=_0x20522f[_0x170e8f(0x7d4)]();currentProjectData=_0x2affe8,renderStudentList(_0x2affe8[_0x170e8f(0xa64)]||[]);}});}function renderStudentList(_0x5aaac8){const _0x207ec0=_0x1b93ee,_0x54705f=document['getElementById'](_0x207ec0(0x7f6));_0x5aaac8[_0x207ec0(0x357)]===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x54705f[_0x207ec0(0x43c)]['add'](_0x207ec0(0xa21))):(studentList[_0x207ec0(0xc8c)]=_0x5aaac8[_0x207ec0(0x926)](_0x30ebc4=>_0x207ec0(0x974)+_0x30ebc4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x30ebc4+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x54705f[_0x207ec0(0x43c)]['remove'](_0x207ec0(0xa21)));}document[_0x1b93ee(0x693)]('add-student-btn')[_0x1b93ee(0x5e0)]('click',async()=>{const _0x4ac367=_0x1b93ee;if(!currentProjectId)return;const _0x361523=document[_0x4ac367(0x693)](_0x4ac367(0x409)),_0x11ff36=_0x361523[_0x4ac367(0xc5c)][_0x4ac367(0xb6d)]();if(!_0x11ff36){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x19a033=_0x11ff36[_0x4ac367(0x239)]('\x0a')[_0x4ac367(0x926)](_0x1a213a=>_0x1a213a['trim']())['filter'](_0x5092c9=>_0x5092c9);if(_0x19a033[_0x4ac367(0x357)]===0x0)return;try{const _0x47edc0=doc(db,_0x4ac367(0xe45)+appId+_0x4ac367(0xb89),currentProjectId),_0x38899d=await getDoc(_0x47edc0);if(_0x38899d[_0x4ac367(0x5a9)]()){const _0x1ceedb=_0x38899d['data']()[_0x4ac367(0xa64)]||[],_0xf65e20=[...new Set([..._0x1ceedb,..._0x19a033])];await updateDoc(_0x47edc0,{'students':_0xf65e20}),_0x361523['value']='';}}catch(_0xda7ab4){console[_0x4ac367(0x75e)](_0x4ac367(0x90f),_0xda7ab4),showMessage(_0x4ac367(0x3d6));}});async function handleManualQuizPairing(_0x552894){const _0x13601b=_0x1b93ee,_0x4d4027=document['getElementById'](_0x13601b(0x240)),_0x361d1f=document[_0x13601b(0x693)](_0x13601b(0x6c8)),_0x27e1b0=_0x4d4027[_0x13601b(0xbc1)]('h3'),_0x3dec39=document[_0x13601b(0x693)](_0x13601b(0x69c)),_0x1bb4ef=document[_0x13601b(0x693)](_0x13601b(0xc46));_0x27e1b0[_0x13601b(0xc08)]=_0x13601b(0x7b7),_0x361d1f[_0x13601b(0xc8c)]=_0x13601b(0x968),_0x3dec39[_0x13601b(0xc08)]=_0x13601b(0x58e),_0x4d4027[_0x13601b(0x43c)]['remove'](_0x13601b(0xa21));const _0x30d0c1=allQuizzes['filter'](_0x1a16f1=>_0x1a16f1['id']!==_0x552894);_0x30d0c1[_0x13601b(0x357)]===0x0?(_0x361d1f[_0x13601b(0xc8c)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x3dec39[_0x13601b(0xe12)]=!![]):(_0x361d1f[_0x13601b(0xc8c)]=_0x13601b(0x2ba)+_0x30d0c1[_0x13601b(0x926)](_0x4ba0af=>_0x13601b(0x1fe)+_0x4ba0af['id']+'\x22>'+_0x4ba0af[_0x13601b(0x669)]+_0x13601b(0x280))[_0x13601b(0xd7b)](''),_0x3dec39[_0x13601b(0xe12)]=![]);const _0x21d7b8=async()=>{const _0x584a3a=_0x13601b,_0x2c98fd=_0x361d1f[_0x584a3a(0xc5c)];if(!_0x2c98fd){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x3dec39[_0x584a3a(0xe12)]=!![],_0x3dec39[_0x584a3a(0xc08)]=_0x584a3a(0x72d);try{const _0x3b43cc=doc(db,_0x584a3a(0xe45)+appId+'/public/data/quizzes',_0x552894),_0x192f28=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2c98fd),_0x17aefa=writeBatch(db);_0x17aefa[_0x584a3a(0x973)](_0x3b43cc,{'pairedQuizId':_0x2c98fd}),_0x17aefa['update'](_0x192f28,{'pairedQuizId':_0x552894}),await _0x17aefa[_0x584a3a(0x480)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x4d4027[_0x584a3a(0x43c)][_0x584a3a(0x128)]('hidden');}catch(_0x20132c){console['error'](_0x584a3a(0xd6e),_0x20132c),showMessage(_0x584a3a(0xbe8));}finally{_0x27e1b0[_0x584a3a(0xc08)]=_0x584a3a(0xa0e),_0x3dec39[_0x584a3a(0xc08)]=_0x584a3a(0x23f),_0x3dec39[_0x584a3a(0xe12)]=![],_0x3dec39['removeEventListener'](_0x584a3a(0x2df),_0x21d7b8),_0x1bb4ef[_0x584a3a(0x663)](_0x584a3a(0x2df),_0x2edc48);}},_0x2edc48=()=>{const _0x3f799b=_0x13601b;_0x4d4027['classList'][_0x3f799b(0x128)]('hidden'),_0x27e1b0[_0x3f799b(0xc08)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3dec39[_0x3f799b(0xc08)]=_0x3f799b(0x23f),_0x3dec39[_0x3f799b(0x663)](_0x3f799b(0x2df),_0x21d7b8),_0x1bb4ef[_0x3f799b(0x663)]('click',_0x2edc48);};_0x3dec39[_0x13601b(0x5e0)]('click',_0x21d7b8),_0x1bb4ef[_0x13601b(0x5e0)](_0x13601b(0x2df),_0x2edc48);}function handleDeleteStudent(_0x5a0bfe){const _0x3332db=_0x1b93ee;showConfirmation(_0x3332db(0x37f)+_0x5a0bfe+_0x3332db(0x4f6),async()=>{const _0x2fae1c=_0x3332db;if(!currentProjectId||!currentProjectData)return;const _0x1b2d81=currentProjectData[_0x2fae1c(0xa64)][_0x2fae1c(0x107)](_0x4e6831=>_0x4e6831!==_0x5a0bfe);try{const _0x1e7930=doc(db,_0x2fae1c(0xe45)+appId+_0x2fae1c(0xb89),currentProjectId),_0x2e0cf6=doc(db,_0x2fae1c(0xe45)+appId+_0x2fae1c(0x456)+currentProjectId+'/studentProfiles',_0x5a0bfe),_0x109fc5=writeBatch(db);_0x109fc5[_0x2fae1c(0x973)](_0x1e7930,{'students':_0x1b2d81}),_0x109fc5[_0x2fae1c(0x25a)](_0x2e0cf6),await _0x109fc5['commit']();}catch(_0x1aaaca){console[_0x2fae1c(0x75e)]('Error\x20deleting\x20student:',_0x1aaaca),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0xc1cedb=_0x1b93ee;showConfirmation(_0xc1cedb(0xc6d),async()=>{const _0x2ce654=_0xc1cedb;if(!currentProjectId)return;try{const _0x55b582=doc(db,_0x2ce654(0xe45)+appId+_0x2ce654(0xb89),currentProjectId),_0x44e75c=collection(db,'artifacts/'+appId+_0x2ce654(0x456)+currentProjectId+_0x2ce654(0x63c)),_0x381edc=await getDocs(_0x44e75c),_0x3b689e=writeBatch(db);_0x3b689e[_0x2ce654(0x973)](_0x55b582,{'students':[]}),_0x381edc[_0x2ce654(0x242)](_0x4d14bf=>_0x3b689e[_0x2ce654(0x25a)](_0x4d14bf[_0x2ce654(0x88c)])),await _0x3b689e[_0x2ce654(0x480)]();}catch(_0x39be40){console[_0x2ce654(0x75e)](_0x2ce654(0x7ab),_0x39be40),showMessage(_0x2ce654(0xe1a));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4cc857){const _0x1b68f8=_0x1b93ee,_0x56a945=document[_0x1b68f8(0x693)](_0x1b68f8(0xb68)),_0xf17336=document[_0x1b68f8(0x693)](_0x1b68f8(0x78e));_0x56a945[_0x1b68f8(0x43c)][_0x1b68f8(0x200)](_0x1b68f8(0xa21)),_0xf17336[_0x1b68f8(0xc8c)]=_0x1b68f8(0xb0e);try{const _0x497b55=new FileReader();_0x497b55[_0x1b68f8(0x49d)](_0x4cc857),await new Promise((_0x5ad659,_0xac1cbf)=>{const _0x2297dd=_0x1b68f8;_0x497b55[_0x2297dd(0x8f1)]=()=>{const _0x1a708d=_0x2297dd;fileDataBase64=_0x497b55['result'][_0x1a708d(0x239)](',')[0x1],fileMimeType=_0x4cc857[_0x1a708d(0xb75)],_0x5ad659();},_0x497b55[_0x2297dd(0xd49)]=_0x164f4c=>_0xac1cbf(_0x164f4c);});if(!fileDataBase64)throw new Error(_0x1b68f8(0x9a1));const _0x5141ba=_0x1b68f8(0x3da),_0x310e1c={'type':_0x1b68f8(0xd69),'properties':{'topics':{'type':_0x1b68f8(0x17d),'items':{'type':_0x1b68f8(0x47c)}}},'required':[_0x1b68f8(0x413)]},_0x894ec1=[{'text':_0x5141ba},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x370852=await handleApiCall(_0x894ec1,_0x1b68f8(0x243),_0x310e1c,null,![]);if(_0x370852&&_0x370852[_0x1b68f8(0x413)])extractedFileTopics=_0x370852[_0x1b68f8(0x413)],renderFileTopics();else throw new Error(_0x1b68f8(0x507));}catch(_0x419e2c){console[_0x1b68f8(0x75e)](_0x1b68f8(0x936),_0x419e2c),_0xf17336[_0x1b68f8(0xc8c)]=_0x1b68f8(0x9a6)+_0x419e2c[_0x1b68f8(0x340)]+_0x1b68f8(0x3ee);}}function renderFileTopics(){const _0x16b549=_0x1b93ee,_0x4d58f2=document[_0x16b549(0x693)](_0x16b549(0x78e));if(extractedFileTopics[_0x16b549(0x357)]===0x0){_0x4d58f2[_0x16b549(0xc8c)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x4d58f2[_0x16b549(0xc8c)]=extractedFileTopics[_0x16b549(0x926)](_0x32fbeb=>_0x16b549(0x1af)+_0x32fbeb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x32fbeb)+_0x16b549(0x3a5)+escape(_0x32fbeb)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x16b549(0xd7b)]('');}async function generateHybridQuizForTopic(_0x54cc14){const _0xc6ecf2=_0x1b93ee,_0x21751a=parseInt(document[_0xc6ecf2(0x693)]('num-questions')['value'],0xa),_0x4b11b7=document[_0xc6ecf2(0x693)]('quiz-type-select')[_0xc6ecf2(0xc5c)],_0x183c17=document[_0xc6ecf2(0x693)](_0xc6ecf2(0x96e))['value'],_0x56935e=document[_0xc6ecf2(0x693)](_0xc6ecf2(0x35f))[_0xc6ecf2(0xb48)],_0x15bda8=_0x56935e?_0xc6ecf2(0x7e6):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x6e23ca='',_0x1d3936;const _0x25b8fb={'type':'OBJECT','properties':{'questionText':{'type':_0xc6ecf2(0x47c)},'options':{'type':_0xc6ecf2(0x17d),'items':{'type':_0xc6ecf2(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xc6ecf2(0x47c)},'imageCode':{'type':'STRING'}},'required':[_0xc6ecf2(0xd6a),_0xc6ecf2(0x2da),_0xc6ecf2(0x3b0),_0xc6ecf2(0xad8)]},_0x2f1c7d={'type':_0xc6ecf2(0xd69),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0xc6ecf2(0x186)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xc6ecf2(0x47c)}},'required':[_0xc6ecf2(0xd6a),_0xc6ecf2(0xbde),_0xc6ecf2(0xad8)]},_0x295532={'type':_0xc6ecf2(0xd69),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0xc6ecf2(0x47c)},'explanation':{'type':_0xc6ecf2(0x47c)},'imageCode':{'type':_0xc6ecf2(0x47c)}},'required':[_0xc6ecf2(0xd6a),_0xc6ecf2(0x9ee),_0xc6ecf2(0xad8)]},_0xcd8763={'type':_0xc6ecf2(0xd69),'properties':{'questionType':{'type':_0xc6ecf2(0x47c),'enum':[_0xc6ecf2(0x1bc)]},'stem':{'type':_0xc6ecf2(0x47c)},'correctResponse':{'type':_0xc6ecf2(0x47c)},'allResponses':{'type':_0xc6ecf2(0x17d),'items':{'type':_0xc6ecf2(0x47c)}},'explanation':{'type':_0xc6ecf2(0x47c)},'imageCode':{'type':'STRING'}},'required':[_0xc6ecf2(0x994),'stem',_0xc6ecf2(0x2e8),_0xc6ecf2(0xd3d),'explanation']};switch(_0x4b11b7){case _0xc6ecf2(0x6c4):const _0x54985a=_0xc6ecf2(0xac7);prompt=_0xc6ecf2(0xa35)+subjectPrefix+'\x20'+settings['numQuestions']+_0xc6ecf2(0x9d3)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0xc6ecf2(0x35e)+settings[_0xc6ecf2(0xcef)]+_0xc6ecf2(0x510)+_0x54985a+_0xc6ecf2(0x9c3)+_0x15bda8+'\x20'+simpleMathPrompt,schema=_0x25b8fb;break;case _0xc6ecf2(0xa76):_0x6e23ca=_0xc6ecf2(0x40f),_0x1d3936=_0x2f1c7d;break;case _0xc6ecf2(0x236):_0x6e23ca=_0xc6ecf2(0x911),_0x1d3936=_0x295532;break;case _0xc6ecf2(0x93b):_0x6e23ca='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x1d3936=_0xcd8763;break;case _0xc6ecf2(0x7fc):_0x6e23ca=_0xc6ecf2(0x5c3)+_0x183c17+_0xc6ecf2(0x6a3),_0x1d3936=_0x25b8fb;break;default:_0x6e23ca='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x183c17+_0xc6ecf2(0x6a3),_0x1d3936=_0x25b8fb;break;}const _0x100736=_0xc6ecf2(0xa90),_0x112b5f=document[_0xc6ecf2(0x693)](_0xc6ecf2(0x28c)),_0x38b308=document['getElementById']('loader-text'),_0x5087ce=document[_0xc6ecf2(0x693)](_0xc6ecf2(0x724));document[_0xc6ecf2(0x693)]('quiz-generation-area')[_0xc6ecf2(0x43c)][_0xc6ecf2(0x200)](_0xc6ecf2(0xa21)),_0x5087ce[_0xc6ecf2(0xc8c)]='',_0x112b5f['classList']['remove'](_0xc6ecf2(0xa21)),_0x38b308[_0xc6ecf2(0xc08)]=_0xc6ecf2(0xc61)+_0x54cc14+_0xc6ecf2(0x976)+_0x21751a+_0xc6ecf2(0x865);try{const _0x3db6ff='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x5d04ec=_0xc6ecf2(0xcdd)+_0x54cc14+_0xc6ecf2(0x6ad)+_0x21751a+_0xc6ecf2(0x901)+_0x54cc14+_0xc6ecf2(0x788)+_0x21751a+_0xc6ecf2(0x205)+_0x15bda8+_0xc6ecf2(0xddb)+_0x6e23ca+_0xc6ecf2(0x4c5)+_0x100736+_0xc6ecf2(0xcf0)+_0x3db6ff+_0xc6ecf2(0x7bd)+simpleMathPrompt+_0xc6ecf2(0x8a0),_0x32b27a={'type':_0xc6ecf2(0xd69),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xc6ecf2(0x17d),'items':_0x1d3936}},'required':[_0xc6ecf2(0x669),'questions']},_0x4ce8c8=[{'text':_0x5d04ec},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4ce8c8,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x54cc14+'\x22...',_0x32b27a);}catch(_0x355d97){console[_0xc6ecf2(0x75e)](_0xc6ecf2(0x6d1),_0x355d97),showMessage(_0xc6ecf2(0x48f)+_0x355d97[_0xc6ecf2(0x340)]),_0x5087ce[_0xc6ecf2(0xc8c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x112b5f[_0xc6ecf2(0x43c)][_0xc6ecf2(0x128)]('hidden');}}async function handleGenerateFromFileClick(){const _0x4055f3=_0x1b93ee;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x26c2fc=document[_0x4055f3(0x693)](_0x4055f3(0x28c)),_0x42c92b=document['getElementById'](_0x4055f3(0x1a8)),_0x5cd0f2=document[_0x4055f3(0x693)](_0x4055f3(0x724)),_0x5c6854=document['getElementById'](_0x4055f3(0xaf3));_0x5c6854[_0x4055f3(0xe12)]=!![],document['getElementById'](_0x4055f3(0x38d))[_0x4055f3(0x43c)][_0x4055f3(0x200)](_0x4055f3(0xa21)),_0x5cd0f2[_0x4055f3(0xc8c)]='',_0x26c2fc[_0x4055f3(0x43c)][_0x4055f3(0x200)](_0x4055f3(0xa21)),_0x42c92b[_0x4055f3(0xc08)]=_0x4055f3(0x137);try{const _0x24306d=await new Promise((_0x4a5f9c,_0x1c272d)=>{const _0x25c11f=_0x4055f3,_0x13cd49=new FileReader();_0x13cd49[_0x25c11f(0x49d)](selectedFile),_0x13cd49[_0x25c11f(0x8f1)]=()=>_0x4a5f9c(_0x13cd49[_0x25c11f(0xe0a)][_0x25c11f(0x239)](',')[0x1]),_0x13cd49['onerror']=_0x460994=>_0x1c272d(_0x460994);});await generateQuizFromFile(selectedFile['type'],_0x24306d);}catch(_0x2c9a87){console[_0x4055f3(0x75e)]('Error\x20processing\x20file\x20for\x20AI:',_0x2c9a87),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x2c9a87[_0x4055f3(0x340)]),_0x26c2fc[_0x4055f3(0x43c)][_0x4055f3(0x128)](_0x4055f3(0xa21)),_0x5c6854[_0x4055f3(0xe12)]=![];}}function autoFormatMath(_0x23f01c){const _0x4e799d=_0x1b93ee;if(typeof _0x23f01c!==_0x4e799d(0x6de)||!_0x23f01c)return _0x23f01c;const _0x8e6ea1=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x2cd554=_0x23f01c[_0x4e799d(0x5cc)](_0x8e6ea1,_0x1774a4=>{const _0xc3d369=_0x4e799d;return'$'+_0x1774a4[_0xc3d369(0xb6d)]()+'$';});return _0x2cd554;}function sanitizeQuizData(_0xc085c6){const _0xb928d5=_0x1b93ee;if(!_0xc085c6||!_0xc085c6[_0xb928d5(0x4e6)])return _0xc085c6;const _0x20636c=_0x41dc3b=>{const _0x120e00=_0xb928d5;if(typeof _0x41dc3b!==_0x120e00(0x6de))return _0x41dc3b;let _0x340c88=_0x41dc3b;_0x340c88=_0x340c88[_0x120e00(0x5cc)](/\\\(/g,'$')[_0x120e00(0x5cc)](/\\\)/g,'$'),_0x340c88=_0x340c88[_0x120e00(0x5cc)](/\\\[/g,'$$')[_0x120e00(0x5cc)](/\\\]/g,'$$'),_0x340c88=_0x340c88[_0x120e00(0x5cc)](/\\?imes\b/g,_0x120e00(0x5a6));const _0x143273=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x340c88=_0x340c88['replace'](_0x143273,_0xd2558b=>{const _0x488e1c=_0x120e00;return'$'+_0xd2558b[_0x488e1c(0xb6d)]()+'$';}),_0x340c88;};return _0xc085c6['topic']&&(_0xc085c6[_0xb928d5(0x669)]=_0x20636c(_0xc085c6[_0xb928d5(0x669)])),_0xc085c6[_0xb928d5(0x4e6)][_0xb928d5(0x242)](_0x4a8dea=>{const _0x42ef93=_0xb928d5;_0x4a8dea[_0x42ef93(0xd6a)]=_0x20636c(_0x4a8dea[_0x42ef93(0xd6a)]),_0x4a8dea['stem']=_0x20636c(_0x4a8dea['stem']),_0x4a8dea['options']&&(_0x4a8dea[_0x42ef93(0x2da)]=_0x4a8dea[_0x42ef93(0x2da)][_0x42ef93(0x926)](_0xc70c61=>_0x20636c(_0xc70c61))),_0x4a8dea[_0x42ef93(0xad8)]&&(_0x4a8dea[_0x42ef93(0xad8)]=_0x20636c(_0x4a8dea[_0x42ef93(0xad8)])),_0x4a8dea['correctResponse']&&(_0x4a8dea['correctResponse']=_0x20636c(_0x4a8dea[_0x42ef93(0x2e8)])),_0x4a8dea[_0x42ef93(0xd3d)]&&(_0x4a8dea[_0x42ef93(0xd3d)]=_0x4a8dea[_0x42ef93(0xd3d)]['map'](_0x22edbb=>_0x20636c(_0x22edbb))),_0x4a8dea[_0x42ef93(0x9ee)]&&(_0x4a8dea[_0x42ef93(0x9ee)]=_0x20636c(_0x4a8dea[_0x42ef93(0x9ee)]));}),_0xc085c6;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x503e20=_0x1b93ee,_0x8818f6=document['getElementById']('link-url-input'),_0x263ff6=document[_0x503e20(0x693)](_0x503e20(0x992)),_0x421086=_0x8818f6[_0x503e20(0xc5c)][_0x503e20(0xb6d)](),_0x3021da=_0x263ff6['value']['trim']();if(!_0x421086){showMessage(_0x503e20(0xe4e));return;}const _0x23332e=document[_0x503e20(0x693)](_0x503e20(0x28c)),_0x2c87e5=document[_0x503e20(0x693)](_0x503e20(0x1a8)),_0x802602=document[_0x503e20(0x693)]('generated-quiz-container'),_0x50e8b6=document[_0x503e20(0x693)](_0x503e20(0xa63));document['getElementById']('quiz-generation-area')['classList']['remove'](_0x503e20(0xa21)),_0x802602[_0x503e20(0xc8c)]='',_0x23332e[_0x503e20(0x43c)][_0x503e20(0x200)](_0x503e20(0xa21)),_0x2c87e5['textContent']=_0x503e20(0xb93),_0x50e8b6[_0x503e20(0xe12)]=!![];try{const _0x49f0ca=_0x503e20(0x39d)+encodeURIComponent(_0x421086),_0x4a12ee=await fetch(_0x49f0ca);if(!_0x4a12ee['ok'])throw new Error(_0x503e20(0x3f9)+_0x4a12ee[_0x503e20(0x7f7)]+')');const _0x9c2e69=await _0x4a12ee[_0x503e20(0x2dc)](),_0xf54678=extractTextFromHtml(_0x9c2e69);if(!_0xf54678||_0xf54678[_0x503e20(0x357)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x3021da,_0xf54678);}catch(_0x3c9729){console[_0x503e20(0x75e)](_0x503e20(0xa8c),_0x3c9729),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c9729[_0x503e20(0x340)]),_0x802602[_0x503e20(0xc8c)]=_0x503e20(0x28f);}finally{_0x23332e[_0x503e20(0x43c)][_0x503e20(0x128)](_0x503e20(0xa21)),_0x50e8b6[_0x503e20(0xe12)]=![];}}function extractTextFromHtml(_0x19940e){const _0x118ab9=_0x1b93ee,_0x536e46=new DOMParser()[_0x118ab9(0x350)](_0x19940e,_0x118ab9(0x5d4));return _0x536e46[_0x118ab9(0xe56)](_0x118ab9(0x422))[_0x118ab9(0x242)](_0x4b1a31=>_0x4b1a31[_0x118ab9(0x200)]()),_0x536e46[_0x118ab9(0xc69)][_0x118ab9(0xc08)]||'';}document[_0x1b93ee(0x693)](_0x1b93ee(0x8b4))[_0x1b93ee(0x5e0)](_0x1b93ee(0x2df),()=>{const _0x48e480=_0x1b93ee,_0x177f2e=document[_0x48e480(0x693)](_0x48e480(0xd2f))[_0x48e480(0xc5c)][_0x48e480(0xb6d)]();generateQuiz(_0x177f2e,null);}),document[_0x1b93ee(0x693)](_0x1b93ee(0x11a))[_0x1b93ee(0x5e0)](_0x1b93ee(0x2df),()=>{const _0x59c5e0=_0x1b93ee,_0x1c15e1=document[_0x59c5e0(0x693)]('text-content-input')[_0x59c5e0(0xc5c)][_0x59c5e0(0xb6d)]();if(!_0x1c15e1){showMessage(_0x59c5e0(0x610));return;}const _0x2e99d1=document['getElementById'](_0x59c5e0(0xd2f))['value'][_0x59c5e0(0xb6d)]();generateQuiz(_0x2e99d1,_0x1c15e1);});async function generateQuiz(_0x1302f2,_0x504ea6,_0x40ca95=null,_0x1b27ca=null,_0x8d221c=![],_0x1c59bb=null,_0x5dab8a=null,_0x5980dd=![]){const _0x2cc577=_0x1b93ee;let _0xcb7453={};if(_0x8d221c&&blueprintPageSettings)_0xcb7453=blueprintPageSettings;else{const _0x4b9e27=document['querySelectorAll'](_0x2cc577(0xa3f));_0xcb7453={'quizType':document[_0x2cc577(0x693)](_0x2cc577(0x371))[_0x2cc577(0xc5c)],'numQuestions':document[_0x2cc577(0x693)](_0x2cc577(0x30e))[_0x2cc577(0xc5c)],'numChoices':document['getElementById'](_0x2cc577(0x96e))[_0x2cc577(0xc5c)],'includeImages':document[_0x2cc577(0x693)]('include-images-checkbox')[_0x2cc577(0xb48)],'isNormalTopic':document[_0x2cc577(0x693)](_0x2cc577(0x609))['checked'],'difficultyValue':document[_0x2cc577(0x693)](_0x2cc577(0x789))[_0x2cc577(0xc5c)],'complexityValue':document[_0x2cc577(0x693)]('question-complexity-select')[_0x2cc577(0xc5c)],'selectedTopicNames':Array['from'](_0x4b9e27)[_0x2cc577(0x926)](_0x1df6c8=>_0x1df6c8[_0x2cc577(0xc5c)])};}const _0xbc5c63=_0xcb7453[_0x2cc577(0x9c2)]?'':_0x2cc577(0x7df),_0x1ffcd4=_0xcb7453[_0x2cc577(0x990)]!==_0x2cc577(0x8a4)?_0x2cc577(0x39a)+_0xcb7453['difficultyValue']+'\x22':'',_0x348077=_0xcb7453[_0x2cc577(0xc17)]!==_0x2cc577(0xb17)?_0x2cc577(0xbf7)+_0xcb7453[_0x2cc577(0xc17)]+_0x2cc577(0x632):'';let _0x615fc2='';_0xcb7453['selectedTopicNames']&&_0xcb7453[_0x2cc577(0xb3c)][_0x2cc577(0x357)]>0x0&&(_0x615fc2='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0xcb7453[_0x2cc577(0xb3c)][_0x2cc577(0xd7b)](',\x20')+'.');let _0x2fca15='';_0x1b27ca&&(_0x2fca15='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x43dde6='',_0xc9767b='',_0xced36,_0xf1cb68=_0x2cc577(0xc7c)+_0x1302f2+'\x22';if(!_0x1302f2&&_0x504ea6)_0xf1cb68=_0x2cc577(0x4d8);else!_0x1302f2&&!_0x504ea6&&(_0xf1cb68=_0x2cc577(0xdf0));const _0x25d51c={'type':_0x2cc577(0xd69),'properties':{'questionText':{'type':_0x2cc577(0x47c)},'options':{'type':'ARRAY','items':{'type':_0x2cc577(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2cc577(0x47c)},'imageCode':{'type':_0x2cc577(0x47c)}},'required':[_0x2cc577(0xd6a),_0x2cc577(0x2da),_0x2cc577(0x3b0),_0x2cc577(0xad8)]},_0x11fb9d={'type':_0x2cc577(0xd69),'properties':{'questionText':{'type':_0x2cc577(0x47c)},'idealAnswer':{'type':_0x2cc577(0x47c)},'explanation':{'type':_0x2cc577(0x47c)},'imageCode':{'type':_0x2cc577(0x47c)}},'required':[_0x2cc577(0xd6a),'idealAnswer',_0x2cc577(0xad8)]},_0x2f9705={'type':_0x2cc577(0xd69),'properties':{'questionText':{'type':_0x2cc577(0x47c)},'questionType':{'type':_0x2cc577(0x47c),'enum':[_0x2cc577(0x6c4),'short_answer']},'options':{'type':_0x2cc577(0x17d),'items':{'type':_0x2cc577(0x47c)}},'correctAnswerIndex':{'type':_0x2cc577(0x7a8)},'idealAnswer':{'type':_0x2cc577(0x47c)},'explanation':{'type':_0x2cc577(0x47c)},'imageCode':{'type':_0x2cc577(0x47c)}},'required':['questionText',_0x2cc577(0x994),_0x2cc577(0xad8)]},_0x2b6308={'type':_0x2cc577(0xd69),'properties':{'questionText':{'type':_0x2cc577(0x47c)},'correctAnswer':{'type':_0x2cc577(0x186)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cc577(0x47c)}},'required':[_0x2cc577(0xd6a),_0x2cc577(0xbde),_0x2cc577(0xad8)]},_0x287b6a={'type':'OBJECT','properties':{'questionType':{'type':_0x2cc577(0x47c),'enum':[_0x2cc577(0x1bc)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2cc577(0x47c)},'allResponses':{'type':_0x2cc577(0x17d),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cc577(0x47c)}},'required':[_0x2cc577(0x994),_0x2cc577(0x87a),'correctResponse','allResponses',_0x2cc577(0xad8)]};let _0x5501cb;if(_0x40ca95!==null){const _0x9783ce=currentQuizData[_0x2cc577(0x4e6)][_0x40ca95]['questionType'],_0x3f2112=_0xcb7453[_0x2cc577(0x502)]?_0x2cc577(0x1d7):'';_0x43dde6=_0x2cc577(0xd10)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3f2112+'\x20'+simpleMathPrompt;if(_0x9783ce===_0x2cc577(0x6c4))_0xced36=_0x25d51c;else{if(_0x9783ce==='matching_item')_0xced36={'type':_0x2cc577(0xd69),'properties':{'questionType':{'type':_0x2cc577(0x47c),'enum':[_0x2cc577(0x1bc)]},'stem':{'type':_0x2cc577(0x47c)},'correctResponse':{'type':_0x2cc577(0x47c)},'explanation':{'type':_0x2cc577(0x47c)},'imageCode':{'type':_0x2cc577(0x47c)}},'required':[_0x2cc577(0x994),'stem',_0x2cc577(0x2e8),_0x2cc577(0xad8)]};else _0xced36=_0x11fb9d;}_0x5501cb=_0xced36;}else{const _0x538590=_0xcb7453['includeImages']?_0x2cc577(0x2f2):'';switch(_0xcb7453[_0x2cc577(0xcd7)]){case _0x2cc577(0x6c4):const _0x31e237=_0x2cc577(0xac7);_0x43dde6=_0x2cc577(0xa35)+_0xbc5c63+'\x20'+_0xcb7453['numQuestions']+_0x2cc577(0x9d3)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+_0x2cc577(0x35e)+_0xcb7453['numChoices']+_0x2cc577(0x510)+_0x31e237+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x538590+'\x20'+simpleMathPrompt,_0xced36=_0x25d51c;break;case _0x2cc577(0x7fc):_0x43dde6=_0x2cc577(0xe08)+_0xbc5c63+'\x20'+_0xcb7453[_0x2cc577(0x47f)]+_0x2cc577(0x9d3)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0xcb7453['numChoices']+_0x2cc577(0x2e9)+_0x538590+'\x20'+simpleMathPrompt,_0xced36=_0x25d51c;break;case'fill_in_no_choices':_0x43dde6=_0x2cc577(0xe08)+_0xbc5c63+'\x20'+_0xcb7453[_0x2cc577(0x47f)]+_0x2cc577(0x9d3)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+_0x2cc577(0x790)+_0x538590+'\x20'+simpleMathPrompt,_0xced36=_0x11fb9d;break;case _0x2cc577(0xb17):_0x43dde6=_0x2cc577(0xaac)+_0xbc5c63+'\x20'+_0xcb7453['numQuestions']+_0x2cc577(0x9d3)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+_0x2cc577(0x115)+_0xcb7453[_0x2cc577(0xcef)]+_0x2cc577(0xc3d)+_0x538590+'\x20'+simpleMathPrompt+'.',_0xced36=_0x2f9705;break;case _0x2cc577(0xa76):_0x43dde6=_0x2cc577(0x560)+_0xbc5c63+'\x20'+_0xcb7453['numQuestions']+_0x2cc577(0x9d3)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+_0x2cc577(0x428)+_0x538590+'\x20'+simpleMathPrompt,_0xced36=_0x2b6308;break;case _0x2cc577(0x93b):_0x43dde6=_0x2cc577(0x1b6)+_0xbc5c63+'\x20'+_0xcb7453[_0x2cc577(0x47f)]+_0x2cc577(0x277)+_0xf1cb68+'\x20'+_0x615fc2+'\x20'+_0x1ffcd4+'\x20'+_0x348077+'\x20'+_0x2fca15+_0x2cc577(0x433)+_0x538590+'\x20'+simpleMathPrompt,_0xced36=_0x287b6a;break;}_0x5501cb={'type':_0x2cc577(0xd69),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2cc577(0x17d),'items':_0xced36}},'required':[_0x2cc577(0x669),_0x2cc577(0x4e6)]};}const _0x192955=_0x2cc577(0x17a);_0x504ea6?(_0x5980dd?_0x43dde6=_0x2cc577(0x67c)+_0x504ea6+_0x2cc577(0x6fe)+_0x43dde6+_0x192955:_0x43dde6=_0x2cc577(0x67c)+_0x504ea6+'\x22,\x20'+_0x43dde6,_0xc9767b=_0x2cc577(0x16d)):(_0x5980dd&&(_0x43dde6+=_0x192955),_0xc9767b='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x2f57ff;return _0x1b27ca?(_0x2f57ff=[{'text':_0x43dde6},..._0x1b27ca],_0xc9767b='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x2f57ff=_0x43dde6,handleApiCall(_0x2f57ff,_0xc9767b,_0x5501cb,_0x40ca95,!![],_0x1c59bb,_0x5dab8a);}async function generateQuizFromFile(_0x4321da,_0x158bea){const _0x1cf862=_0x1b93ee,_0x3e6b17=document['getElementById'](_0x1cf862(0xc23))[_0x1cf862(0xc5c)][_0x1cf862(0xb6d)](),_0x5df519=document['getElementById']('quiz-type-select')[_0x1cf862(0xc5c)],_0x187032=document[_0x1cf862(0x693)](_0x1cf862(0x30e))[_0x1cf862(0xc5c)],_0x1e3e8e=document[_0x1cf862(0x693)](_0x1cf862(0x96e))[_0x1cf862(0xc5c)],_0x2eeda8=document[_0x1cf862(0x693)](_0x1cf862(0x35f))[_0x1cf862(0xb48)],_0x395dba=document[_0x1cf862(0x693)](_0x1cf862(0x609))[_0x1cf862(0xb48)],_0x536073=_0x395dba?'':'คณิตศาสตร์',_0x2e2c13=document[_0x1cf862(0x693)](_0x1cf862(0x416))[_0x1cf862(0xb48)];let _0x1e50c1='',_0x191937;const _0x4ab15e=_0x2eeda8?_0x1cf862(0x2f2):'';if(_0x2e2c13)_0x1e50c1=_0x1cf862(0x98d)+_0x4ab15e+'\x0a'+simpleMathPrompt+'\x0a',_0x191937={'type':_0x1cf862(0xd69),'properties':{'questionText':{'type':_0x1cf862(0x47c)},'questionType':{'type':_0x1cf862(0x47c),'enum':[_0x1cf862(0x6c4),_0x1cf862(0xbc0),_0x1cf862(0xa76),_0x1cf862(0x1bc)]},'options':{'type':'ARRAY','items':{'type':_0x1cf862(0x47c)}},'correctAnswerIndex':{'type':_0x1cf862(0x7a8)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x1cf862(0x186)},'stem':{'type':_0x1cf862(0x47c)},'correctResponse':{'type':_0x1cf862(0x47c)},'allResponses':{'type':_0x1cf862(0x17d),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1cf862(0x47c)}},'required':[_0x1cf862(0x994),_0x1cf862(0xad8)]};else{let _0x17686d='เกี่ยวกับหัวข้อ\x20\x22'+_0x3e6b17+'\x22';!_0x3e6b17&&(_0x17686d=_0x1cf862(0x631));switch(_0x5df519){case'multiple_choice':const _0x539457=_0x1cf862(0x66f);_0x1e50c1=_0x1cf862(0xa35)+_0x536073+'\x20'+_0x187032+'\x20ข้อ\x20'+_0x17686d+_0x1cf862(0x61b)+_0x1e3e8e+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x539457+_0x1cf862(0x4a3)+_0x4ab15e+'\x20'+simpleMathPrompt,_0x191937={'type':'OBJECT','properties':{'questionText':{'type':_0x1cf862(0x47c)},'options':{'type':'ARRAY','items':{'type':_0x1cf862(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':_0x1cf862(0x47c)}},'required':[_0x1cf862(0xd6a),_0x1cf862(0x2da),_0x1cf862(0x3b0),_0x1cf862(0xad8)]};break;case _0x1cf862(0x7fc):_0x1e50c1=_0x1cf862(0xe08)+_0x536073+'\x20'+_0x187032+'\x20ข้อ\x20'+_0x17686d+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1e3e8e+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4ab15e+'\x20'+simpleMathPrompt,_0x191937={'type':_0x1cf862(0xd69),'properties':{'questionText':{'type':_0x1cf862(0x47c)},'options':{'type':_0x1cf862(0x17d),'items':{'type':_0x1cf862(0x47c)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':_0x1cf862(0x47c)}},'required':[_0x1cf862(0xd6a),_0x1cf862(0x2da),_0x1cf862(0x3b0),_0x1cf862(0xad8)]};break;case'fill_in_no_choices':_0x1e50c1=_0x1cf862(0xe08)+_0x536073+'\x20'+_0x187032+_0x1cf862(0x9d3)+_0x17686d+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x4ab15e+'\x20'+simpleMathPrompt,_0x191937={'type':_0x1cf862(0xd69),'properties':{'questionText':{'type':_0x1cf862(0x47c)},'idealAnswer':{'type':_0x1cf862(0x47c)},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':_0x1cf862(0x47c)}},'required':['questionText',_0x1cf862(0x9ee),'explanation']};break;case _0x1cf862(0xb17):_0x1e50c1='สร้างแบบทดสอบ'+_0x536073+'\x20'+_0x187032+'\x20ข้อ\x20'+_0x17686d+_0x1cf862(0x4bc)+_0x1e3e8e+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x4ab15e+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x191937={'type':_0x1cf862(0xd69),'properties':{'questionText':{'type':_0x1cf862(0x47c)},'questionType':{'type':_0x1cf862(0x47c),'enum':[_0x1cf862(0x6c4),_0x1cf862(0xbc0)]},'options':{'type':_0x1cf862(0x17d),'items':{'type':_0x1cf862(0x47c)}},'correctAnswerIndex':{'type':_0x1cf862(0x7a8)},'idealAnswer':{'type':_0x1cf862(0x47c)},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':'STRING'}},'required':[_0x1cf862(0xd6a),_0x1cf862(0x994),'explanation']};break;case _0x1cf862(0xa76):_0x1e50c1=_0x1cf862(0x560)+_0x536073+'\x20'+_0x187032+_0x1cf862(0x9d3)+_0x17686d+_0x1cf862(0x5f8)+_0x4ab15e+'\x20'+simpleMathPrompt,_0x191937={'type':'OBJECT','properties':{'questionText':{'type':_0x1cf862(0x47c)},'correctAnswer':{'type':_0x1cf862(0x186)},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':_0x1cf862(0x47c)}},'required':[_0x1cf862(0xd6a),_0x1cf862(0xbde),_0x1cf862(0xad8)]};break;case _0x1cf862(0x93b):_0x1e50c1=_0x1cf862(0x1b6)+_0x536073+'\x20'+_0x187032+_0x1cf862(0x277)+_0x17686d+_0x1cf862(0x730)+_0x187032+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x4ab15e+'\x20'+simpleMathPrompt,_0x191937={'type':_0x1cf862(0xd69),'properties':{'questionType':{'type':_0x1cf862(0x47c),'enum':[_0x1cf862(0x1bc)]},'stem':{'type':_0x1cf862(0x47c)},'correctResponse':{'type':_0x1cf862(0x47c)},'allResponses':{'type':_0x1cf862(0x17d),'items':{'type':_0x1cf862(0x47c)}},'explanation':{'type':_0x1cf862(0x47c)},'imageCode':{'type':_0x1cf862(0x47c)}},'required':['questionType',_0x1cf862(0x87a),_0x1cf862(0x2e8),'allResponses',_0x1cf862(0xad8)]};break;}}const _0x2a078c={'type':_0x1cf862(0xd69),'properties':{'topic':{'type':_0x1cf862(0x47c)},'questions':{'type':_0x1cf862(0x17d),'items':_0x191937}},'required':[_0x1cf862(0x669),'questions']},_0x13d17f=_0x1cf862(0xb64)+_0x1e50c1,_0x17163c={'contents':[{'parts':[{'text':_0x13d17f},{'inlineData':{'mimeType':_0x4321da,'data':_0x158bea}}]}],'generationConfig':{'responseMimeType':_0x1cf862(0x4ea),'responseSchema':_0x2a078c}};return handleApiCall(_0x17163c[_0x1cf862(0xd39)][0x0]['parts'],_0x1cf862(0x216),_0x2a078c);}async function handleApiCall(_0x2b9d06,_0x2ca7bd,_0x127fcf,_0x16a9d5=null,_0x5b4e97=!![],_0x260347=null,_0x81a345=null){const _0x53b1e3=_0x1b93ee,_0x245d5b=document[_0x53b1e3(0x693)](_0x53b1e3(0x38d)),_0x18d2d5=document[_0x53b1e3(0x693)](_0x53b1e3(0x28c)),_0x4743e6=document[_0x53b1e3(0x693)](_0x53b1e3(0x1a8)),_0x2347f0=document[_0x53b1e3(0x693)](_0x53b1e3(0x724));_0x245d5b['classList'][_0x53b1e3(0x200)](_0x53b1e3(0xa21));_0x16a9d5===null&&_0x5b4e97&&(_0x2347f0['innerHTML']='');_0x18d2d5[_0x53b1e3(0x43c)][_0x53b1e3(0x200)](_0x53b1e3(0xa21)),_0x4743e6[_0x53b1e3(0xc08)]=_0x2ca7bd,document['getElementById'](_0x53b1e3(0x8b4))[_0x53b1e3(0xe12)]=!![],document[_0x53b1e3(0x693)]('generate-from-text-btn')['disabled']=!![],document[_0x53b1e3(0x693)](_0x53b1e3(0xa63))[_0x53b1e3(0xe12)]=!![];const _0x2fd54f=document[_0x53b1e3(0x693)]('generate-from-file-btn');if(_0x2fd54f)_0x2fd54f[_0x53b1e3(0xe12)]=!![];const _0x13b5aa=document[_0x53b1e3(0x693)]('generate-from-blueprint-btn');if(_0x13b5aa)_0x13b5aa['disabled']=!![];const _0x988156=document[_0x53b1e3(0x693)]('generate-from-parallel-test-btn');if(_0x988156)_0x988156[_0x53b1e3(0xe12)]=!![];try{const _0x35ac18=Array[_0x53b1e3(0x2bd)](_0x2b9d06)?_0x2b9d06:[{'text':_0x2b9d06}],_0x38c98e={'contents':[{'role':'user','parts':_0x35ac18}]};_0x127fcf&&(_0x38c98e[_0x53b1e3(0xfd)]={'responseMimeType':_0x53b1e3(0x4ea),'responseSchema':_0x127fcf});const _0x297f81='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x61df56=_0x53b1e3(0xa0f)+_0x297f81,_0x247272=await fetch(_0x61df56,{'method':'POST','headers':{'Content-Type':_0x53b1e3(0x4ea)},'body':JSON[_0x53b1e3(0x1f9)](_0x38c98e)});if(!_0x247272['ok']){const _0x1c28c3=await _0x247272[_0x53b1e3(0x2dc)]();console[_0x53b1e3(0x75e)](_0x53b1e3(0xc1c),_0x1c28c3);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x247272[_0x53b1e3(0x7f7)]);}const _0x1dc706=await _0x247272[_0x53b1e3(0xc5a)]();if(!_0x1dc706[_0x53b1e3(0x995)]||_0x1dc706['candidates'][_0x53b1e3(0x357)]===0x0){let _0x556170=_0x53b1e3(0x28d);return _0x1dc706[_0x53b1e3(0xda3)]?.['blockReason']&&(_0x556170=_0x53b1e3(0x31a)+_0x1dc706[_0x53b1e3(0xda3)][_0x53b1e3(0x617)]+'.'),console[_0x53b1e3(0x75e)](_0x556170,JSON['stringify'](_0x1dc706)),null;}const _0x3fd257=_0x1dc706[_0x53b1e3(0x995)][0x0][_0x53b1e3(0xc41)][_0x53b1e3(0xe49)][0x0]['text'];if(_0x127fcf){let _0x3dc0b0=_0x3fd257;if(_0x3dc0b0[_0x53b1e3(0x3a6)](_0x53b1e3(0x53d)))_0x3dc0b0=_0x3dc0b0[_0x53b1e3(0x179)](0x7,_0x3dc0b0['length']-0x3)[_0x53b1e3(0xb6d)]();else _0x3dc0b0['startsWith']('```')&&(_0x3dc0b0=_0x3dc0b0[_0x53b1e3(0x179)](0x3,_0x3dc0b0[_0x53b1e3(0x357)]-0x3)[_0x53b1e3(0xb6d)]());let _0x3e171d=JSON['parse'](_0x3dc0b0);if(_0x3e171d[_0x53b1e3(0x4e6)]&&Array[_0x53b1e3(0x2bd)](_0x3e171d[_0x53b1e3(0x4e6)])){const _0x197dea=_0x3e171d['questions'][_0x53b1e3(0x107)](_0x3bcc82=>_0x3bcc82['questionType']===_0x53b1e3(0x1bc));if(_0x197dea[_0x53b1e3(0x357)]>0x1){const _0x3bfbb7=_0x197dea[_0x53b1e3(0x926)](_0x310969=>_0x310969['correctResponse'])[_0x53b1e3(0x107)](_0x4084c4=>_0x4084c4&&_0x4084c4[_0x53b1e3(0xb6d)]()!=='');shuffleArray(_0x3bfbb7),_0x197dea[_0x53b1e3(0x242)](_0x5791f5=>{const _0x57f1d9=_0x53b1e3;_0x5791f5[_0x57f1d9(0xd3d)]=[..._0x3bfbb7];}),console[_0x53b1e3(0xb20)](_0x53b1e3(0x821),_0x3bfbb7);}}if(_0x5b4e97){if(_0x16a9d5!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x53b1e3(0x4e6)]){}}else currentQuizData=_0x3e171d,displayGeneratedQuiz(currentQuizData,_0x260347,_0x81a345);}return _0x3e171d;}else return _0x3fd257;}catch(_0x4826b8){console[_0x53b1e3(0x75e)](_0x53b1e3(0xd2a),_0x4826b8),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x4826b8[_0x53b1e3(0x340)]);_0x5b4e97&&(_0x2347f0['innerHTML']=_0x53b1e3(0xa99));throw _0x4826b8;}finally{_0x18d2d5[_0x53b1e3(0x43c)][_0x53b1e3(0x128)](_0x53b1e3(0xa21)),document[_0x53b1e3(0x693)](_0x53b1e3(0x8b4))['disabled']=![],document[_0x53b1e3(0x693)](_0x53b1e3(0x11a))[_0x53b1e3(0xe12)]=![],document['getElementById']('generate-from-link-btn')[_0x53b1e3(0xe12)]=![];if(_0x2fd54f)_0x2fd54f[_0x53b1e3(0xe12)]=![];if(_0x13b5aa)_0x13b5aa[_0x53b1e3(0xe12)]=![];if(_0x988156)_0x988156[_0x53b1e3(0xe12)]=![];}}function exitFullscreen(){const _0x13c556=_0x1b93ee;if(document[_0x13c556(0xa94)])document[_0x13c556(0xa94)]()[_0x13c556(0x792)](_0x48ecb3=>console['error'](_0x48ecb3));else{if(document[_0x13c556(0x6dd)])document[_0x13c556(0x6dd)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x503bc5=_0x1b93ee,_0x5cd1bf=document['documentElement'];if(_0x5cd1bf[_0x503bc5(0x5b7)])_0x5cd1bf[_0x503bc5(0x5b7)]()[_0x503bc5(0x792)](_0x32a2b4=>{const _0x38166c=_0x503bc5;console['error'](_0x38166c(0xa6e)+_0x32a2b4['message']+'\x20('+_0x32a2b4[_0x38166c(0x41d)]+')');});else{if(_0x5cd1bf[_0x503bc5(0xd55)])_0x5cd1bf[_0x503bc5(0xd55)]();else _0x5cd1bf[_0x503bc5(0xd00)]&&_0x5cd1bf[_0x503bc5(0xd00)]();}}function handleCheatingEvent(){const _0x2ce203=_0x1b93ee;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x2ce203(0x9e9),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x2ce203(0x4a7)+maxCheatAttempts+_0x2ce203(0x1e6)),document[_0x2ce203(0x693)](_0x2ce203(0xb77))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2ce203(0x663)](_0x2ce203(0x717),handleVisibilityChange),document[_0x2ce203(0x663)](_0x2ce203(0xc62),handleFullscreenChange)):showMessage(_0x2ce203(0x985)+cheatAttempts+'/'+maxCheatAttempts+_0x2ce203(0x472),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function _0xbde8(){const _0x545f35=['.shortcut-list-item','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','submission','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','answer','แฟนทิพย์','bulk-results-display-select','ฟังก์ชันผกผัน','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','bg-red-700\x20text-white\x20font-bold','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','bg-gray-500','isSyncGame','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','file-default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','.group\x5c/dropdown','ควรปรับปรุง','\x0a---\x0a','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','date_desc','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','exponentialRampToValueAtTime','confidence-choice-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','realScore','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','.sort-indicator','จำนวนคู่:','quizType','border-indigo-400\x20ring-2\x20ring-indigo-200','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','input[name=\x22question_single\x22]:checked','sync-timer-countdown','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','lowerGroupNames','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','setItem','insertAdjacentHTML','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','input[type=\x22radio\x22][value=\x22','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','textarea','API\x20Error\x20Body:','numChoices','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','jspdf','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ai-quiz-app-aefee','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','additional-file-shortcuts-list','date_asc','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','rgba(16,\x20185,\x20129,\x200.7)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอเปิด','ป่าไม้','msRequestFullscreen','camera-crop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','shortcutTabs','offsetWidth','bg-black/10','สัญกรณ์วิทยาศาสตร์','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/pdf','per_question','Error\x20starting\x20sync\x20game:','.quiz-bank-checkbox:checked','confirm-delete-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','สร้างคำถามใหม่\x201\x20ข้อ\x20','<tr><td\x20colspan=\x22','schedule','latestSubmittedAt','fill','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','อัศวินรัตติกาล','<p><strong>คำตอบที่แนะนำ:</strong>\x20','open-blueprint-projects-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','no-projects-msg','highlighter-tools-group','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','มัธยฐาน','normal','บันทึกการตั้งค่าสำเร็จ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','bg-red-100\x20text-red-800','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','เปิดใช้งาน','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','Error\x20in\x20handleApiCall:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','duration-300','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','Error\x20submitting\x20answer:','topic-input','gameVariant','\x20คะแนน</span></div>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.answered','submissions','.remove-parallel-shortcut-from-tab-btn','setAttribute','contents','verify-answers-editor-btn','cancel-manual-bp-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','allResponses','presentation-ai-result','แบบเติมคำตอบ','cancel-test-btn','rgba(255,\x20255,\x200,\x200.5)','100px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','เรเดียนและการแปลงหน่วย','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score_status','ตอบถูก\x203\x20ข้อติดต่อกัน','onerror','shuffleSetting','\x20\x20\x20-\x20','shuffledQuiz','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','สู้ๆ\x20ลองอีกครั้งนะ','val','Error\x20creating\x20project:','strokeStyle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item:last-of-type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','webkitRequestFullscreen','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','isFinished','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','กำลังค้นหากิจกรรม...','hint','parallel-default-2','passcode','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answerValue','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataIndex','</a>','parallel-shortcut-url-input','Error\x20toggling\x20pin\x20status:','OBJECT','questionText','cancel-create-project-btn','enable-black-market-checkbox','key','Error\x20pairing\x20quizzes:','ฟังก์ชันสัมพัทธ์\x20(rational)','file-default-1','shadowBlur','stopPropagation','transparent','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นกฮูกกลางวัน','join','student-passcode-input','check-presentation-answer-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-parallel-shortcuts-btn','label',':</span><span>','every','_new','parse','Game\x20results\x20already\x20saved.\x20Skipping.','ส่งคำตอบ','ห.ร.ม.\x20(GCD)','total','.export-pdf-list-btn','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','ระบบสมการเชิงเส้นสองตัวแปร','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','outerHTML','start-presentation-btn','parent','file-shortcuts-loading-msg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-quiz-bank-modal','ระยะจากจุดถึงเส้นตรง','projectSortOrder','reset-view-btn','bg-black/20','การลบเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','parallelShortcutOrder','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','Error\x20unpairing\x20quizzes:','9iXzbFY','th-TH','promptFeedback','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','contentEditable','bestScore','handleGeneratePracticeTest','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','selected-answer-index-hidden-wager','คะแนนเต็ม!','onblur','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','.pen-size-btn','game-pin-input','.group\x5c/dropdown-file','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','parallel-default-','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ความน่าจะเป็นแบบมีเงื่อนไข','pollUsedThisTurn','\x20ตอบ','close-presentation-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','ตรีโกณมิติ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','smooth','starred','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','showRankings','text-green-600','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics.','ลบโปรเจคสำเร็จแล้ว','/lessons','อัปเดตแบบทดสอบเก่า\x20','back-to-results-btn','bp-modal-difficulty-level-select','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20name=\x22team_answer\x22\x20value=\x22','.live-answer-btn,\x20#live-submit-short-answer-btn','mousemove','results-quiz-title','comeback_king','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','สร้างโปรเจคสำเร็จ!','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','question-analytics-container','show-results-btn','save-settings-btn','ร้อยละประยุกต์','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','แผนการสอน','cancel-quiz-status-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','Error\x20deleting\x20topic:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ซื้อ\x20(','perQuestionStats','ความคาดหมาย\x20(Expected\x20value)','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','additional-parallel-shortcuts-list','quiz-id-input','ผู้ควบคุม\x20(ทดสอบ)','false','fa-rocket\x20text-purple-500','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','Leaderboard\x20update\x20transaction\x20failed:\x20','quiz-leaderboard-table-container','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replaceChild','submit-team-answer-btn','student-quiz-leaderboard-table-body','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','toISOString','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','export-word-btn','.project-card-content','comparison-modal','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','สมการราก\x20(radical)','isForcedConfident','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.edit-file-shortcut-btn','bulk-loop-until-pass-checkbox','targetId','สร้างคำถามแบบเติมคำในช่องว่าง','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','result','description','27411472','true','.delete-quiz-btn','.correct-response-input','<textarea\x20name=\x22question','closest','disabled','add-parallel-shortcut-btn','เซียนสมองไว','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','แบบทดสอบที่ติดดาว','results-tab-content','market-item-list','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ไม่พบข้อมูลแบบทดสอบ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','modal-message','Failed\x20to\x20generate\x20practice\x20test:','shuffle','close-market-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','move','mjx-container','.save-custom-topic-btn','บันทึกการแก้ไข','มุมและการวัดมุม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x22\x20id=\x22input-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','นักล่าฝัน','add-parallel-shortcut-tab-btn','toggle','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','MathJax\x20re-render\x20failed:','undo-btn','parallel-shortcut_','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','keyConcepts','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','globalSettings','score','</td>','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','ครูใหญ่','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ซามูไรสายเดี่ยว','isJinxed','removeItem','artifacts/','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','market-current-points','ทศนิยม\x20(ค่าประจำหลัก)','parts','AI\x20ไม่สามารถประมวลผลข้อมูลได้','สร้างแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','กรุณาวาง\x20URL\x20ของบทความก่อน','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.delete-bp-project-btn','นักเขียน','change','\x20(Player)\x20(ID:\x20','แบบทดสอบ:\x20','คัดลอกรหัสแล้ว!','querySelectorAll','ไก่ฟ้าพญาลอ','open-scratchpad-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/public/data/blueprintProjects','_opt0\x22\x20name=\x22question','isScored','close-pin-modal-btn','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-progress-content','confidence-input-','activeGameSession','next-question-timed-btn','some','student-back-to-home-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','/3</span></div>','find','\x22\x20title=\x22','952292wbKLdI','ย้ายแบบทดสอบสำเร็จ','บันทึกคำถามใหม่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20x','กรุณาใส่ชื่อใหม่','parallel-shortcut-editor-modal','0\x200','อนุพันธ์:\x20ผลคูณ/ผลหาร','/public/data/syncGames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','ไม่พบข้อมูลผู้เล่น','getTime','เพิ่มหัวข้อ\x20\x22','เต่าสายฟ้า','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20to\x20blueprint\x20topic\x20','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','N/A','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','สอบซ่อม','.bp-game-btn','execCommand','</strong></p>','เส้นตรง:\x20รูปแบบสมการ','.quiz-bank-parallel-btn','memory','user','shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20joining\x20activity:','scores-tab-content','files','cancel-quiz-edits-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','project-list','30px','.star-quiz-btn','generationConfig','blueprintShortcuts','http://www.w3.org/2000/svg','analytics-summary-cards','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','ยังไม่สร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','sara','per-question-text','Error\x20analyzing\x20blueprint\x20topics:','filter','.move-quiz-btn','<p\x20class=\x22text-xl\x22>','all','กรุณาเลือกชื่อของคุณ','</td></tr>','pen-tools-group','lower_group_count','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','ดาวสภา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','devicePixelRatio','\x22\x20ให้เป็นคำถามประเภท\x20\x22',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','คำถามดิบ:\x20\x22','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-text-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','generated','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','<span\x20title=\x22ใช้\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-btn','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','generate-from-parallel-test-btn','\x22\x20class=\x22delete-project-btn\x20','text-tab','ส่งแล้ว','add','width','(กำลังไล่ตาม)','Refunded\x20','.shortcut-btn','scratchpad-modal','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','scale-125','lastAnswerIndex','จำนวนและการดำเนินการ','team','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','set','กำลังอ่านและเตรียมไฟล์...','pop','\x5cfrac{$1}{$2}','border-indigo-500\x20text-indigo-600','ดีมาก','lesson-plan-content','ยอดนักสืบ','groups','live-game-view','powerups','ผิด','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','ยืนยันการกระทำ','cancel-bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','PROMPT_PLACEHOLDER','\x5cle','#add-question-editor-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',')</button>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','bg-green-100\x20text-green-800','กำลังดึงไฟล์อ้างอิงจากลิงก์...','powerupUsed_q','.move-shortcut-item','.delete-svg-btn','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.open-bp-project-btn','กัปตัน','.start-live-race-btn','canvas','แผนภาพกล่อง\x20(box\x20plot)','ต้นฉบับ\x201','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','</span><span\x20class=\x22font-bold\x22>','toDate','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','bg-blue-500\x20hover:bg-blue-600\x20text-white','after','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','warn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','การคูณทศนิยม','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จันทร์เจ้า','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','FIRST_TRY_ACE','คำอธิบาย...','substring','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position','ARRAY','bg-yellow-200','className','เปลี่ยนชื่อแบบทดสอบสำเร็จ','state','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','undefined','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','px)\x20scale(',';\x22\x20data-tooltip-target=\x22tooltip-','submission-status-chart','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-rankings-modal','passingScore','players','text-blue-800','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','พบข้อสอบ\x20','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','💰\x20โหมดเดิมพันทำงานอยู่!','list','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','getItem','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.parallel-quiz-btn','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','transition-all','</body></html>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','disabled\x20bg-gray-400\x20cursor-not-allowed','.lastAnswerIndex','createElement','loader-text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','#confidence-input-','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','lowerGroupResponders','shortcut-reference-url-input','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','has','reference-pdf-upload','get','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลาเต้ไม่หวาน','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','สร้างชุดคำถามจับคู่','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>',')\x22>','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','หัวข้อหลักใหม่','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','matching_item','กรุณาเลือกโปรเจคก่อน','บทเรียน','ความชันและเส้นตรง','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select[name=\x22question_single\x22]','pow','การบวก','.delete-parallel-shortcut-tab-btn','text-green-700\x20bg-green-100','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','#results-table\x20thead\x20tr','คณิตการเงิน/บูรณาการ','bg-green-100','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เลือกและเริ่มสร้าง','next-sync-question-btn','กราฟฟังก์ชันตรีโกณ','bp-modal-quiz-type-select','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ค่าสัมบูรณ์','สายลมแห่งโชคชะตา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','.delete-submission-btn','ดอทโปรดักต์\x20(dot)','bg-green-500','แก้ไขปุ่มลัด','%</span>','confirm-passcode-btn','ไอติมทอด','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','ราชาคัมแบ็ก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reference_onet.pdf','global-quiz-search-input','Error\x20fetching\x20student\x20rankings:','poll','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','.mb-6.p-4','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','<svg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','ระบบเลขและค่าประจำหลัก','competition','cancel-quiz-edits-btn-footer','stringify','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalCompositeOperation','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<option\x20value=\x22','add-custom-math-topic-btn','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','Failed\x20to\x20apply\x20forceConfident:','พื้นที่สี่เหลี่ยม','modal-confidence-mode-container','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','แก้ไขข้อนี้','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','file-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','itemId','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','🛡️','topic_','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','black-market-modal','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','tooltipTarget','student-team-join','Firebase\x20initialization\x20failed:','projectName','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.score','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','\x20|\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','/players','request','setValueAtTime','selected-answer-index-hidden','แอบชอบ','\x20ชุด)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','splice','bank-input-area','.answeredCurrentQuestion','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ยังไม่เต็มนะ','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','wager-modal','ซื้อ\x20\x22','fill_in_no_choices','fa-pen','input[name=\x22syncVariant\x22]','split','createdBy','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','admin','maxHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','ย้าย','move-quiz-modal','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','forEach','กำลังวิเคราะห์หัวข้อ...','เรขาคณิตวิเคราะห์','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกโปรเจค\x20\x22','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','results-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timer-duration-input','start-sync-game-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<tr>','ความสัมพันธ์ของมุม','เกิดข้อผิดพลาดในการอัปเดต:\x20','/users/','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gain','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เกิดข้อผิดพลาดในการแก้ไข','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20สำเร็จ!','</form>','delete','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Market\x20entry\x20payment\x20failed:','enable-passcode-checkbox','2035810QECRnW','powerupUsed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','bp-modal-num-choices','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','highlighter-size-value','secondChance','text-indigo-700','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','fix-lesson-latex-btn','scores-tab-btn','cancel-quiz-settings-btn','goto-next-question-btn','.ai-fix-question-btn','(ไม่ตอบ)','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ไฟล์ทั้งหมด','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','isAnonymousRevealed','instantWager','bp-topic-list-container','bg-red-100\x20text-red-900','\x20คู่\x20','live-short-answer-input','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','bg-red-100','quiz-bank-modal','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','blueprintUrl','ลบโปรเจค\x20\x22','<button\x20id=\x22open-market-btn\x22\x20class=\x22','</option>','random','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','linkedQuizIds','toLocaleString','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','ไม่ได้ตอบ','👁️','arrayBuffer','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','AI\x20did\x20not\x20return\x20any\x20content.','parallel-shortcuts-loading-msg','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Error\x20starting\x20live\x20race:','.bp-create-onet-quiz-btn','onloadend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','อนุพันธ์:\x20กฎพื้นฐาน','ชื่อหัวข้อห้ามว่าง','responses.','new-question-type-select','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','cdot','adaptive-quiz-checkbox','ปิดใช้งาน','.pdf','404\x20Not\x20Found','frequency','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ปุ่มลัดทั้งหมด','behavior-log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','clientX','⏳\x20ซื้อเวลา','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','แปลงร่าง','url','Error\x20saving\x20settings:','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','แบบทดสอบฝึกฝนเรื่อง:\x20','textAlign','additional-shortcuts-modal','\x27,\x20\x27','getBBox','center','???','preTestId','Error\x20fetching\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','Error\x20adding\x20custom\x20topic:','isArray','/public/data/syncGames/','.question-editor-item[data-q-index=\x22','save','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','use-powerup-cutOne','export-pdf-modal','หมดเวลา!\x20กำลังส่งคำตอบ...','\x20/\x20','none','gameData','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20opening\x20quiz\x20editor:','.move-parallel-shortcut-dropdown','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.auto-resize-textarea','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-red-700','classic','\x20to\x20','newOptionsPayload','write','md:col-span-3','text-red-300\x20hover:text-red-100','[*]','project-passcode-input','input[type=\x22radio\x22]:checked','.linkedQuizIds','timerMode','options','จุด\x20เส้น\x20ระนาบ','text','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','removeAttribute','click','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','commonMistakes','math-topic-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-tab','.bp-create-topic-quiz-btn','บทเรียนเรื่อง:\x20','join-live-game-btn','correctResponse','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20value=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','not_generated','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','checkbox','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','(ฉบับง่าย)\x20','reference.pdf','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','quick_thinker','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20รายการสำเร็จ!','null','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/blueprintProjects/','เส้นจำนวน','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Failed\x20to\x20generate\x20lesson:','translate(','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','กองดอง','bg-white\x20text-gray-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ก้อนเมฆ','บันทึกผลการเรียนของนักเรียน\x20','sine','num-questions','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','previousElementSibling','text-green-700','timer-mode-select','ไม่สามารถโหลดรายการโปรเจคได้','manual-create-blueprint-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-from-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-modal-title','setFont','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','bulk-quiz-settings-btn','การหารทศนิยม','text-gray-100','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','export-leaderboard-pdf-btn','pointerup','preventDefault','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกคะแนน','timestamp','confirmation-modal','modal-loop-until-pass-checkbox','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','sync-matching-select','pinned-items','student-quiz-area','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','วงรี','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','blueprint-project-list','</label></div>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ดูผลสรุปสุดท้าย','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','end-sync-game-btn','message','isConfidenceScoringEnabled','underline','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','start-quiz-btn','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','docs','isStarred','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','parseFromString','.edit-hidden-shortcut-btn','เกิดข้อผิดพลาดในการอัปเดตสถานะ','อกหัก','cropped_image.png','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ระยะทางและจุดกึ่งกลาง','length','quizMode','default-1','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','bg-gray-50','กรุณาเลือกคำตอบก่อนครับ','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','include-images-checkbox','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Error\x20starting\x20group\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointContent','<div\x20class=\x22answer-space\x22></div>','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','พื้นที่ผิวรูปทรงสามมิติ','เปลี่ยนชื่อโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','รักแรกพบ','กำลังสร้างคำถามข้อ\x20','เพื่อนสนิท','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการสร้างห้องเกม','quiz-type-select','scratchpad-controls','summary_chart','confidenceMode','กลุ่ม:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','highlighter-tool-btn','<h1></h1>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','เรขาคณิต','removed','restore','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','text-indigo-600','.scratchpad-content-wrapper','start','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','blueprint-tab','grid-view-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-shortcut-tab-btn','quiz-generation-area','txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','New\x20question\x20detected.\x20Cleaning\x20up.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-dashboard','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','<p\x20class=\x22','mandatory','.file-shortcut-tab-btn','.highlighter-color-btn','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','Error\x20deleting\x20custom\x20topic:','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','https://corsproxy.io/?','<li>','appendChild','projectId','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','confirm-create-project-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','publicLeaderboard','source_document.pdf','passcode-prompt-message','times','.topic-name-input','standardTopic','.generate-easy-version-btn','สมการเชิงเส้นตัวแปรเดียว','correctAnswerIndex','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','add-from-global-bank-btn','[data-field=\x22subTopic\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','ม้าดีดกะโหลก','presentation-short-answer-input','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','...','เกิดข้อผิดพลาดในการติดดาว','getContext','project-sort-select','กำลังสร้างแบบทดสอบ:\x20','redo-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','gradeLevel','</span></td>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clear-all-links-btn','-tab-content','\x22>ใช่</p>','แบบทดสอบจากคลังส่วนตัว','fontFamily','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','mouse','_opt0\x22>ใช่</label></div>','revealOptions','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','การคูณ','shortcutIds','promise','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นอนไม่พอ','ไม่สามารถเพิ่มนักเรียนได้','_opt1\x22>ไม่ใช่</label></div>','insurance','ความเท่ากันทุกประการของสามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-800','ความชันเส้นสัมผัส','lineJoin','Error\x20fetching\x20projects\x20for\x20move:','.live-answer-btn,\x20#sync-submit-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','parseInline','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linearRampToValueAtTime','separate-by-content-from-file-checkbox','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','Error\x20updating\x20quiz\x20status:','wager-slider','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่มของคุณ','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</p>','(^|[^\x5c\x5c])\x5cb','settings','input','latestScore','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','#open-additional-shortcuts-btn','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','border-indigo-500','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','resume','ondragend','label[for=\x22num-questions\x22]','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','\x22...','\x22>จาก:\x20','\x22\x20style=\x22','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','.delete-custom-topic-btn','specialist','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','finished','Error\x20generating\x20teaching\x20content:','input[type=\x22checkbox\x22]:checked','upperGroupNames','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20editing\x20topic:','topics','select','manual-blueprint-modal','original-mode-checkbox','max','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','fullscreenElement','projectOrder','behavior-log-tab-btn','name','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','confidence-scoring-toggle','<div>','input[name=\x22team_player\x22]:checked','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','left','ดอกเบี้ยทบต้น','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','curriculum','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','input[name=\x22drill_answer\x22]:checked','scratchpad-options','ดาบพิฆาตอสูร','.file-topic-selection-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','mainTopics','confidence-scoring-checkbox','both','sum','next-drill-btn','#6366F1','classList','dataset','editor-quiz-topic','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Error\x20saving\x20lesson\x20to\x20project:','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','mode','back-to-student-home-btn','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','test','/public/data/quizzes/','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','leaderboard-table-body','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','student-initial-view','หน่วยมวล/น้ำหนักและการแปลง','ไม่พบโปรเจค','sync-timer-duration-container','bg-blue-100\x20text-blue-800','default-2','ไม่พบข้อมูลข้อสอบหลังเรียน','</p></div>','/public/data/projects/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.move-parallel-shortcut-menu-btn','touchend','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','ceil','leaderboard-quiz-tab-btn','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','referenceFileUrl','bank-quiz-list','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','bp-modal-shuffle-setting-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมเมอร์','\x5cneq','project-title','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','usedBuyTime','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','bp-modal-num-questions','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','copy-quiz-id-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','fas\x20fa-bookmark','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','blueprint-projects-modal','anonymous','-options\x22>','STRING','กิจกรรมสิ้นสุดลงแล้ว','.sortable-header','numQuestions','commit','.quiz-bank-settings-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์อ้างอิง...','ตัวเลือก\x20ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','document','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','พิมพ์ตอบ','กำลังอ่านไฟล์อ้างอิง...','correctStreak','.answers','confirm-admin-login-btn','เกิดข้อผิดพลาด:\x20','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backspace','badgesCount','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20วินาที','onSecondChance','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','currentTime','tGain','นักประดิษฐ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','readAsDataURL','20px','สำหรับหัวข้อ\x20\x27','scheduled','ระยะเวลา\x20(นาที):','Copy\x20command\x20failed','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','เหมียวขี้เซา','freeMarketEntryUsed_q','fileShortcutsConfig','ตรวจพบการออกจากหน้าจอครบ\x20','ผู้ไม่ยอมแพ้','.group','แก้ไขปุ่มลัดจากไฟล์','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','padStart','open-sync-scratchpad-btn','print','lastIndexOf','lesson-sections-container','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','word-break:\x20break-all;','Team\x20Quiz','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ไฟล์ลัด\x201','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','results-quiz-id-display',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','wasForced','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x27Sarabun\x27,\x20sans-serif','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','bg-[#4ADE80]\x20text-green-900\x20font-bold','currentPoints','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','passing-score-input','Error\x20saving\x20parallel\x20shortcut:','พลังคลื่นเต่า','Group\x20Mode','sync-short-answer-input','\x20|\x20ID:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Error\x20updating\x20project\x20name:','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','ท็อปฟอร์ม','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-question-complexity-select','.duplicate-quiz-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','bg-yellow-300\x20text-yellow-900\x20font-bold','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','Enter','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','อินฟลูเอนเซอร์','oninput','.hidden-option-input','src','\x20สำเร็จ','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20data-target-tab-id=\x22','questions','.shortcut-list-item:not(.opacity-50)','icon','1:274192258111:web:4120c9118229b5644dd48a','application/json','อินเวอร์สของเมทริกซ์','bg-gray-200\x20text-gray-700','Attempting\x20to\x20save\x20game\x20results...','ไม่มีคำอธิบาย','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','รายการนี้','</button>','source_document.txt','baseVal','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','additional-parallel-shortcuts-modal','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','แก้ไข\x20Points\x20ของ\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','includeImages','half_mark_status','/public/data/liveGames','.topic-actions-view','stop','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','use-powerup-wagerMultiplier-instant','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','score-distribution-chart','\x20ใหม่...','topic-input-area','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','use-powerup-wagerMultiplier','</tr>','ผู้เล่น\x20','student-quiz-leaderboard-tab','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','quiz-end-time','red','getElementsByTagName','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เน็ตไอดอล','bp-reference-file-url','Error\x20duplicating\x20quiz:','ตะวันฉาย','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','text-green-600\x20font-bold','รูปสแควร์รูท\x20(surd)','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','far\x20fa-star','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x20คน\x20เรียบร้อยแล้ว!','🚀\x20คุณเดิมพันหมดหน้าตัก!','เพนกวินไฟ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','คนโสด','bg-green-200\x20text-green-800','timer-container','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','whole_quiz','.eraser-size-btn','responseSchema','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','contains','มังกรกินจุ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','Error\x20confirming\x20players:','```json','<div\x20class=\x22my-6\x22>','keyup','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','presentation-modal','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','blueprint-shortcut-container','fadeStartTime','Error\x20verifying\x20answers:','close','save-blueprint-as-project-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.use-hidden-file-shortcut-btn','จำนวนเต็มบวก','subTopics','จอมเวทย์ขนมหวาน','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','textarea[name=\x22question_single\x22]','ลบหัวข้อสำเร็จ','.summary-bar-item','bulk-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','dblclick','shortcut-id-input','cancel-file-shortcut-edit-btn','analytics-tab-btn','badges','pointerType','newOptions','Error\x20updating\x20custom\x20topic:','คัดลอกไม่สำเร็จ','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','สร้างคำถามแบบใช่/ไม่ใช่','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','มูเตลู','cutOne','clientY','floor','totalPoints','โลมาบิน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</span>:\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<button\x20data-id=\x22','Error\x20starting\x20game:','การยืนยันตัวตนล้มเหลว','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','generate-from-blueprint-btn','fiftyFifty','bulk-confidence-mode-container','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','back-to-dashboard-btn','results-display-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','href','sync-timer-duration-input','function','preScore','.status','comparison','s;\x22\x20title=\x22','lesson-plan-modal','target','text-gray-300\x20hover:text-white','project-quizzes-list','showInStudentDashboard','bg-teal-500\x20hover:bg-teal-600\x20text-white','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','ยืนยันการจับคู่','math-topics-checkbox-container','line-height:\x201.3;\x20min-width:\x200;','uid','Could\x20not\x20fetch\x20reference\x20file:','การลบ','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','เกิดข้อผิดพลาดในการปักหมุด','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ทะเล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การแปลงรูปอัตลักษณ์','save-bp-settings-btn','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','parallel-shortcut-container','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','บักแตงโม','answeredCurrentQuestion','playerNicknames','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','open-market-btn','Error\x20joining\x20live\x20game:','\x5ctimes','กรุณาป้อนหัวข้อสำหรับใบงาน','tool','exists','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','additional-file-shortcuts-modal','parallel-shortcut-name-input','แม่น้ำ','numPages','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','cancel-quiz-bank-btn','deselect-all-topics-btn','image/png','อสมการค่าสัมบูรณ์','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','referenceUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','requestFullscreen','.edit-custom-topic-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','sync-manage-players-btn','market-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','selected-text-','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','close-additional-file-shortcuts-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','toBlob','lesson-loader','use-powerup-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','replace','คาถาแยกเงาพันร่าง','isCorrect','\x22\x20name=\x22drill_answer\x22\x20value=\x22','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/html','confidence-modal','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','open','show-final-results-btn','เกิดข้อผิดพลาดในการเข้าตลาดมืด','dim-overlay','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','เมทริกซ์:\x20บวก/คูณ','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.kick-player-btn-sync','สิงโตยิ้ม','.generate-lesson-btn','.bp-unlink-quiz-btn','\x22><i\x20class=\x22fas\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','เกิดข้อผิดพลาดในการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#4338ca','pen-tool-btn','bg-red-50','student','.space-y-1.pl-4','mousedown','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','parentNode','หมีขั้วโลกใต้','checkAnswer','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','[id^=\x22dropdown-list-\x22]','resultsSaved','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','ค่าความจริง/ตารางค่าความจริง','Error\x20during\x20class\x20analysis:','close-additional-parallel-shortcuts-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','post-test','leaderboard-quiz-tab-content','.bp-edit-topic-btn','\x5cdiv','ศิลปิน','file-default-2','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','draggable-text','text/plain','force-math-checkbox','kick-player-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','confirm-link-quiz-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','results-table','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-index=\x22','perfect_score','ผู้พิชิตดาว','ถูกต้อง!','blockReason','<div\x20class=\x22space-y-2\x22>','analytics-tab-content','(ก่อนเรียน)\x20','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','.cancel-edit-topic-btn','dimmed','student-quiz-topic','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','Error\x20deleting\x20submission:','block','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','reset-project-order-btn','next-review-question-btn','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','100%','/public/data/customMathTopics','<div\x20class=\x22loader\x20mx-auto\x22></div>','กฎบวกและกฎคูณ','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x27\x20ในหัวข้อ\x20\x27','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','AI\x20แก้ไขคำถามสำเร็จ!','image-to-crop','#results-table','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','bg-[#EF4444]\x20text-white\x20font-bold','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','.remove-file-shortcut-from-tab-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','player-count','\x20สำเร็จ!','quiz-editor-modal','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>',';\x22\x20data-id=\x22','sync','5iOCbxD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','รากที่สองและที่สาม','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','start-game-btn','groups.','ยอดเยี่ยม!','bp-modal-include-images-checkbox','Error\x20regenerating\x20question\x20in\x20editor:','shortcut_','</select>','manage-players-btn','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','.ai-content\x20h3','tan','การจัดกลุ่มข้อมูล','title','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','จำนวนคละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','removeEventListener','applicationData','\x20P)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','สรุปผลสุดท้าย','พอใช้','topic','project-detail','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','anonymous_reveal_end','ไม่พบตารางสำหรับ\x20Export','สมการตรีโกณมิติ','onchange','แก้ไขหัวข้อสำเร็จ','export-pdf-btn','opacity-50','p-2\x20bg-black/10\x20rounded-md','\x22\x20data-pre-test-id=\x22','strategyScan','totalQuestions','จากเนื้อหาต่อไปนี้:\x20\x22','bg-red-500','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','กำลังอัปเดตแบบทดสอบ\x20','questionIndex','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','back-to-student-initial-btn','shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','admin-testing','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','on_fire','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','เกิดข้อผิดพลาดในการใช้ตัวช่วย','getElementById','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','game-start-mode','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','.text-indigo-200','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','active','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-move-quiz-btn','FileReader\x20error:','<span\x20class=\x22block\x20text-sm\x20','height','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-tabs-nav','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x20ตัวเลือก)','.isScored','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','กรุณาพิมพ์คำตอบของกลุ่ม','save-quiz-btn','topic-bank-subtopic-name','teacherTips','answer-counter','ไม่พบข้อมูลโปรเจค','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','พีชคณิตและฟังก์ชัน','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','abs','global-quiz-count','\x22><span\x20style=\x22','prev-question-btn','default','hasOwnProperty','file-shortcut_','input[name=\x22syncVariant\x22][value=\x22','bank-quiz-search-input','00:00','จิงโจ้สโลว์ไลฟ์','transition','เกิดข้อผิดพลาดในการลบผลสอบ','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','starred-project','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ccdot','admin-password-input','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','workerSrc','multiple_choice','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','move-quiz-project-select','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','index','Error\x20saving\x20quiz:','text-yellow-300','ไม่พบเอกสารการส่งงานของ\x20','Error\x20clearing\x20all\x20links:','input[name=\x22status-option\x22]:checked','.ideal-answer-input','Error\x20generating\x20hybrid\x20quiz:','buyTime','q-explanation-','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','การสร้างรูปด้วยวงเวียน–สันตรง','🌗\x2050:50','shortcut-editor-modal','ต้นฉบับทั้งหมด','---\x20[คำถามใหม่]\x20---','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','text-yellow-800','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','webkitExitFullscreen','string','studentName','เกิดข้อผิดพลาดในการซื้อ','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','leaderboard-tab','live-player-management','resize','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','Error\x20saving\x20quiz\x20edits:','\x20ชุด)</span>','.confidence-choice-btn','สาระที่\x201','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','modal-timer-duration-input','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ไม่พบแบบทดสอบสำหรับรหัสนี้','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการลบโปรเจค','text/csv;charset=utf-8;','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','การจัดหมู่\x20(Combination)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','G-V90KRM0L63','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','เสือซ่อนเล็บ','answered','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','createdAt','postScore','confirm-team-players-btn','#ffffff','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','tab_','points','$$$1$','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','การเรียงสับเปลี่ยน\x20(Permutation)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','CEOพันล้าน','frac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','touchstart','lesson-view-content','<option\x20value=\x22\x22>กำลังโหลด...</option>','.edit-hidden-file-shortcut-btn','blueprint-options-container','#retake-for-improvement-btn','visibilitychange','summaryContent','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','scrollIntoView','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','questionId','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชิ้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','match','generated-quiz-container','สมการเหตุผล\x20(rational)','ชาไข่มุก','shortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','0\x20(รอโบนัส)','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','กำลังจับคู่...','onclick','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','dfrac','(รอคะแนน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','manual-bp-project-name','#D1FAE5','ทฤษฎีทวินาม\x20(เบื้องต้น)','ครัวซองต์','blueprint.pdf','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','Unexpected\x20API\x20response\x20structure:','สอบปกติ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<span\x20title=\x22โดนบังคับ\x22>👻</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-quiz-settings-btn','applicationHTML','div','pointsAwarded','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','getAttributeNS','Buy\x20Item\x20failed:\x20','transform','</span></div>','mode-switcher-btn','เกิดข้อผิดพลาดในการสร้างใบงาน','bold','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','AudioContext','round','transformOrigin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-chart','ตลาดมืด\x20(0\x20P)','error','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','.topic-actions-edit','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','width\x2060s\x20linear','2qKuhJp','confirm-rename-quiz-btn','Error\x20preparing\x20content\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','...\x22)?','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','game-start-quiz-id','รอผู้ควบคุมไปข้อต่อไป...','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','กรุณาพิมพ์คำตอบ','\x20แล้ว!','indexOf','Error\x20saving\x20shortcut:','Error\x20saving\x20shortcut\x20config:','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','pointercancel','\x20(\x22','question','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','marginBottom','style','🔁\x20โอกาสครั้งที่สอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','เกิดข้อผิดพลาดในการสร้างรูปภาพ','endsWith','use-powerup-fiftyFifty','scan-text-image-input','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x20คะแนน\x20','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','difficulty-level-select','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','questionDisplayedAt','ปริมาตรรูปทรงสามมิติ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','file-topics-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','catch','Invalid\x20response\x20structure\x20from\x20AI.','quiz-start-time','temp-loader-results','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','sync-submit-btn','file-shortcut-modal-title','toLocaleDateString','innerText','.verification-result','ลำดับการดำเนินการ\x20(PEMDAS)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','file-shortcut-name-input','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','presentation-slide-container','startedAt','show_pass_fail_only','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<div\x20style=\x22','incorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','NUMBER','num-choices-container','\x20แบบทดสอบลงในคลังสำเร็จ!','Error\x20deleting\x20all\x20students:','กรุณาตั้งชื่อแท็บใหม่:','deg','.ai-fix-formula-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ระยะเวลา\x20(วินาที):','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','#open-additional-file-shortcuts-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-1','จับคู่เพื่อเปรียบเทียบผล','Error\x20renaming\x20quiz:','เกิดข้อผิดพลาดในการลบหัวข้อ','deltaY','touchcancel','คำถาม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','cropper-modal','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','.unpair-quiz-btn','Failed\x20to\x20kick\x20player\x20','.quiz-bank-present-btn','.edit-points-btn','OCR\x20Error:','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส้มตำปูปลาร้า','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','student-progress','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','project-passcode-modal','bulk-quiz-settings-modal','pointsLastRound','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','#e21b3c','data','</li>','confirm-manual-bp-btn','text-content-input','choices_only','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','entries','บันทึกการตั้งค่าการแสดงผลสำเร็จ','nextElementSibling','startTime','1517208daPVGA','คณิตศาสตร์','.game-start-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.quiz-result-card','lastAnswerCorrect','กราฟแท่ง\x20กราฟเส้น','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','getScreenCTM','scores','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','back-to-dashboard-from-results-btn','close-lesson-view-btn','bg-green-200\x20text-green-900','<div><input\x20type=\x22radio\x22\x20id=\x22q','สายตาสั้น','การปัดเศษและประมาณค่า','learningGaps','blob','answers','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','delete-all-students-btn','status','top','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไฮเพอร์โบลา','Blueprint\x20O-NET\x20ป.6','fill_in_with_choices','Failed\x20to\x20apply\x20jinx:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','order','#FEF3C7','practice-topic-btn','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','podium','originalTopic','คนคุย','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','<button\x20data-shortcut-id=\x22','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hasPerfectScoreBonus','globalAlpha','manual-bp-grade-level','project-detail-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','จำนวนเต็มลบ','\x20link(s)\x20for\x20quiz\x20ID:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','NEGATIVE_INFINITY','loop-until-pass-checkbox','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qIndex','close-lesson-plan-modal-footer-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','Matching\x20options\x20synced:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กรุณาเลือกสถานะ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','save-game-results-checkbox','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','Error\x20saving\x20visibility\x20settings:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','[data-topic-container-id]','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','touch','.generate-content-btn','pairedQuizId','border-green-300\x20bg-green-50','open-quiz-bank-btn','input[type=\x22checkbox\x22]','</strong></div>','font-bold','\x22\x20value=\x22true\x22\x20','reviewQuestionIndex','-\x20ข้อ\x20','ผ่าน','สมการลอการิทึม','comparison-overall-content','typesetPromise','firstElementChild','</div>','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','answerText','.file-shortcut-btn','player-list-lobby','binom','อยู่ในหัวข้อหลักใด:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','z-index:\x20','Blueprint\x201','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ยกเลิกการเชื่อมโยงสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','parentElement','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','modal-shuffle-select','.move-file-shortcut-dropdown','fill_in_the_blank','live-player-list','sync-player-list','</tbody></table>','Error\x20updating\x20project\x20color:','rgba(239,\x2068,\x2068,\x200.9)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','suggestedAnswer','540888vQKeCd','ไม่ใช่','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','.quiz-bank-item','beginPath','<span>','\x20ครั้ง)</span></td>','\x20ข้อ...','fas\x20fa-user-edit','eraser','/public/data/quizzes','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','isBlackMarketEnabled','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-red-600','กำลังสร้างบทเรียน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','MathJax\x20typeset\x20error\x20(analytics):','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','student-name-select','Blueprint\x202','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','pointerdown','blueprint-settings-modal','GlobalWorkerOptions','สำหรับโปรเจค:\x20','confidence','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','wager-amount-display','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','.question-editor-item','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','connect','ยังไม่ส่ง','rename-quiz-input','use-powerup-secondChance','Error\x20updating\x20quiz\x20settings:','พื้นที่วงกลม/ส่วนของวงกลม','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','300','#student-quiz-leaderboard-content\x20thead','prod','ref','setTransform','medium','แบบปรนัย\x204\x20ตัวเลือก','.start-presentation-list-btn','ตลาดมืด\x20(-1\x20P)','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','border-gray-200','Error\x20fetching\x20lesson\x20content:','manual-bp-content','การบวกทศนิยม','currentMode','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','keys','Error\x20saving\x20to\x20question\x20bank:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20',')\x22><span\x20style=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-menu-btn','color','analyze-strengths-btn','auto','cursor','file-upload-input','.ai-content\x20td','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','modal-confidence-scoring-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.bp-delete-topic-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','Error\x20updating\x20pin\x20status:','project-id-display','_blank','.project-card-container:not(.opacity-50)','dashboardConfig','camera-input','generate-from-topic-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-tab-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ตรวจคะแนนใหม่\x20','includes','file-shortcut-editor-modal','release','พิซซ่าหน้าทุเรียน','project-search-input','.delete-hidden-parallel-shortcut-btn','shouldSaveResults','export-leaderboard-image-btn','use-powerup-revealOptions','empty','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','selected-topics-count','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','student-team-selection-view','isPinned','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','การบวกเศษส่วน','timerDuration','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.custom-math-dropdown','ฮัลค์','.live-answer-btn','rgba(79,\x2070,\x20229,\x200.8)','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','.linkedQuizId','values','min','<i\x20class=\x22fas\x20fa-save\x22></i>','quiz-results-table-body','ตอบถูกทุกข้อในแบบทดสอบนี้','cancel-confidence-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','.bp-live-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','powerups.','rgba(59,\x20130,\x20246,\x200.7)','.edit-quiz-btn','blueprint-upload-input','กำลังสร้างเนื้อหา:\x20','doughnut','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','toFixed','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','earned-badges-container','submittedAt','onload','bg-green-500\x20hover:bg-green-600\x20text-white','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','option','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x20ชุดสำเร็จ!','password-error-msg','Re-grade\x20process\x20failed:','ส่วนเบี่ยงเบนมาตรฐาน','\x22\x20ออกจากคลังนี้?','svg','open-global-live-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','#E5E7EB','สามเหลี่ยม\x20(ชนิด/สมบัติ)','blueprint-input-area','รูปสี่เหลี่ยมและสมบัติ','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','quiz-leaderboard-table','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค',')</span></div>','การลบทศนิยม','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20','standard','Error\x20adding\x20students:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','retake-quiz-loop-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','countdown-display','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','next-question-btn','ปวดหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','padding','<span\x20title=\x22','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','เกมสิ้นสุดลงแล้ว','Error\x20saving\x20file\x20shortcut:','save-file-shortcut-btn','Original\x20quiz\x20not\x20found','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','map','fontSize','fas\x20fa-star\x20text-yellow-500','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ON_FIRE','questions_only','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','powerup','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','manual_release','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','<div\x20class=\x22p-2\x20rounded-md\x20','.delete-hidden-file-shortcut-btn','พื้นที่สามเหลี่ยม','.topic-selection-btn','Error\x20analyzing\x20file\x20for\x20topics:','.delete-project-btn','bg-green-400\x20text-white\x20font-bold','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','modal-passing-score-input','matching','tabId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','back-to-dashboard-from-bp-btn','leq','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','ฟังก์ชันกำลังสองและกราฟ','รอ...','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','pointsLastQuestion','</h3>','\x20จาก\x20','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','<tr\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.delete-file-shortcut-btn','Loaded\x20','mouseup','บันทึกแบบทดสอบสำเร็จแล้ว!','toLowerCase','highlighter','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','.bp-try-btn','ไม่พบแบบทดสอบในระบบเลย','toString','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','[data-topic-id]','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','touchmove','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','.use-hidden-parallel-shortcut-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','file-tab','ondblclick','num-choices','confirm-wager-btn','bg-indigo-600\x20hover:bg-indigo-700','\x5csqrt{$1}','leaderboard-tab-content','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fixedData','\x22\x20จำนวน\x20','memoryContent','getBoundingClientRect','สถานะไม่ชัดเจน','isRemedial','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','bg-[#DCFCE7]\x20text-green-900','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','fa-user-astronaut\x20text-blue-700','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500\x20text-white\x20font-bold','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22>(','รูปแบบการให้เหตุผล','Error\x20showing\x20quiz\x20detail\x20view:','คำเตือน\x20(','comparison-individual-content','additional-shortcuts-list','ตัวแปรและนิพจน์','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','.animate-pulse','behaviorLog','student-list','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','.view-bp-lesson-btn','.bp-open-topic-bank-btn','difficultyValue','qType','link-topic-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','questionType','candidates','\x20คนที่ส่ง\x20ตอบถูก\x20(','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22\x20data-topic=\x22','\x20จุด','save-quiz-edits-btn','Error\x20joining\x20team\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ระบุ','.color-palette-btn','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','ค่าเฉลี่ย','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','text-gray-200','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','point','การแยกตัวประกอบ','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','<p><strong>คำตอบของคุณ:</strong>\x20','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','focus','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x5cge','ตลาดมืด\x20(','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','Error\x20saving\x20file\x20shortcut\x20config:','shortcut-modal-title','สายหมอก','Powerup\x20use\x20failed:','reveal-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','translate','font-bold\x20text-green-700','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','isNormalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','Error\x20adding\x20topic:','file-shortcut-container','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.topic-name-display','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ลิมิต','cancel-rename-quiz-btn','stepByStepExamples','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeBonusThisQuestion','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show-in-student-dashboard-checkbox','questionStatus','wheel','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-file-shortcut-menu-btn','dragover','.doc','student-view','applicationContent','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerValue','ตัวเลือก\x20ง','screen_exit','จำนวนนักเรียน','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','toDataURL','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','idealAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.ai-content\x20blockquote','ondragstart','touches','leaderboard_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','fontWeight','modal-confidence-mode-select','[data-topic-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(คู่ขนาน)\x20','wasConfident','bp-modal-passing-score-input','zIndex','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','create-project-btn','select-all-topics-btn','generated-quiz-actions','คะแนนเต็ม','(พยายามอยู่)','เกิดข้อผิดพลาดในการบันทึก','sort','close-topic-bank-btn','quiz-results','\x22\x20data-quiz-id=\x22','ไม่ใช่\x20/\x20ผิด','endTime','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.pair-quiz-btn','bg-white','ย้ายแบบทดสอบไปโปรเจคอื่น','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22\x5cn','blueprint-topics-list-container','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','isDefault','wasJinxed','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','confirm-crop-btn','ใช้\x20\x22คำสาป\x22\x20กับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่มี','worksheet-topic-input','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','finishReason','modified','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x22\x20name=\x22question','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','modal-adaptive-quiz-checkbox','แคลคูลัสเบื้องต้น','ไม่ผ่าน','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','destination-out','สร้างแบบทดสอบปรนัย','overline','now','parallelShortcutTabs','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','worksheet-input-area','members','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','#math-topics-checkbox-container\x20input:checked','load-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20during\x20deep\x20delete:','answer-grid-container','\x20pointer-events-none\x22>','<button\x20data-tab-id=\x22','นินจาชาเขียว','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','ข้อ\x20','\x20in\x20all\x20blueprint\x20projects.','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','group','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','255818ascfxC','AI\x20กำลังสแกนข้อความ...','flex','blueprint-topics-list','274192258111','textarea[name=\x22team_answer\x22]','อัตราการเปลี่ยนแปลงทันที','reference.txt','(คัดลอก)\x20','กรุณากรอกเป็นตัวเลขเท่านั้น','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.buy-item-btn','</p><p><strong>เฉลย:</strong>\x20','.project-card-container','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','Error\x20resetting\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','category','generate-from-link-btn','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','anon-show-answer-toggle','Error\x20loading\x20blueprint\x20projects:','\x20(p=','เกิดข้อผิดพลาดในการเข้าร่วมเกม','.use-hidden-shortcut-btn','attemptNumber','Error\x20displaying\x20blueprint\x20project:','แมวเก้าชีวิต','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','.parallel-shortcut-tab-btn','border-red-300\x20bg-red-50','button[type=\x22submit\x22]','กรุณาเลือกคำตอบของกลุ่ม','#000000','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20เป็น\x20','true_false','เวกเตอร์และเมทริกซ์\x20(เสริม)','รีเซ็ตลำดับโปรเจคแล้ว','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overallGroups','pointermove','text-red-800','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','คัดลอกแบบทดสอบสำเร็จ','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','stdDev','visible','bg-emerald-100','playerName','cancel-blueprint-projects-btn','parallel-test-upload-input','reveal_at_end','Error\x20generating\x20from\x20link:','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','closePath','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','ผ่านฉลุย','bg-gray-100\x20opacity-70','practiceProblems','exitFullscreen','wagerMultiplier','text-green-800','Error\x20saving\x20project\x20order:','upperGroupResponders','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','file-shortcut-url-input','ชีสเค้ก','.move-file-shortcut-item','quiz-bank-count','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','นักเดินทาง','shortcut-blueprint-url-input','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','.move-shortcut-dropdown','อสมการเชิงเส้น','.draggable-text','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','.compare-results-btn','สร้างแบบทดสอบ','(หลังเรียน)\x20','not-found','subTopic','.bp-present-btn','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','scratchpad-canvas','parallel-test-tab','fa-crown\x20text-yellow-500','then','viewBox','view-my-progress-btn','(ตามมาติดๆ)','ฟังก์ชันพหุนาม','Auto-cleanup\x20failed:','eraser-tools-group','imageCode','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','lessonPlan','fa-dumbbell\x20text-gray-700','หยุดระบบจับเวลาหรี่หน้าจอ','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-shortcut-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','trail','.edit-question-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','confidence-mode-container','table','Error\x20saving\x20reference\x20URL:','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<span\x20class=\x22font-bold\x20','ลบผลสอบของ\x20','MathJax','<p\x20class=\x22font-bold\x20text-sm\x20','explanation','source-over','Error\x20listening\x20for\x20student\x20profiles:','separate-by-content-checkbox','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','stroke','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','cloneNode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','confirm-not-confident','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','ต้นฉบับ\x202','lobby','input[name=\x22syncVariant\x22]:checked','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เศรษฐีดูไบ','name_desc','กุ้งเต้นแร้งกา','generate-worksheet-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','generate-from-file-btn','cancel-team-selection-btn','</span>\x20','quiz-editor-questions-container','2-digit','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','Error\x20calling\x20Gemini\x20API:','องค์ประกอบของฟังก์ชัน','กรุณาสร้างบทเรียนก่อน','text-red-500\x20hover:text-red-700','Failed\x20to\x20resume\x20game\x20session:','teacherSuggestions','approx','confirm-game-start-btn','P/อัน)','correct','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','price','export-lesson-pdf-btn','มุมพิเศษ\x2030°-60°-90°','<span\x20title=\x22ใช้ไอเทม\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','No\x20players\x20data\x20found\x20to\x20save\x20yet.','grabbing','slide-counter','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','readAsArrayBuffer','file.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','px,\x20','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','Failed\x20to\x20refund\x20powerup:','mixed','/preferences/main','ฟังก์ชันค่าสัมบูรณ์','SAFETY','from','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','log','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pin-backspace-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','thead','297944JfznqS','#F59E0B','.edit-parallel-shortcut-btn','reduce','Error\x20updating\x20sort\x20preference:','ข้าวมันไก่พิเศษ','Error\x20calculating\x20final\x20scores:','add-file-shortcut-btn','per-question-timer-container','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','สถิติและความน่าจะเป็น','unshift','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','<div\x20class=\x22flex-1\x22></div>','hiddenOptions_q','PERFECT_SCORE','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','autoTable','thead\x20.sortable-header','highlighter-size-slider','input-','selectedTopicNames','visibilityState','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','desc','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','removeChild','sync-timer-bar','4497530hHfCXz','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','</span>','แท็บใหม่','checked','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','ข้อต่อไป','ยอดเยี่ยม','display','save-visibility-settings-btn','admin-try-quiz-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','passcode-error-msg','การวัด','fileShortcutOrder','asc','loopUntilPass','.file-shortcut-btn[data-id=\x22','lesson-view-modal','placeholder','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','analytics','cancel-wager-btn','ไม่สามารถเริ่มเกมได้','attempts','ปล่อยพลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','live-submit-short-answer-btn','file-input-area','backgroundColor','(ไม่มีชื่อ)','จากไฟล์ที่แนบมานี้,\x20','modal-timer-mode-select','hint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','file-topics-list-container','เกิดข้อผิดพลาดในการส่งคำตอบ','All\x20groups\x20have\x20finished.\x20Ending\x20game.','ตัวเลือก\x20ค','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','trim','createObjectURL','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','scale','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','.shortcut-tab-btn','black-market-settings-container','numeric','type','POST','quiz-form','ไม่สามารถบันทึกการตั้งค่าได้','instructions','คุณแน่ใจว่าต้องการลบแท็บนี้?','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','แก้ไขสูตรคณิตศาสตร์\x20','pen','button','pin','answering','ไม่พบไฟล์\x20Test\x20Blueprint','Error\x20fetching\x20project\x20quizzes:','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','✂️\x20ตัด\x201\x20ตัวเลือก','\x22\x20value=\x22false\x22\x20','right','confirm-bulk-quiz-settings-btn','results','/public/data/projects','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','นักดนตรี','.tab-name-input','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','กำลังดึงข้อมูลจากลิงก์...','Error\x20submitting\x20team\x20answer:','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','leaderboard','_opt','ผลรวมอนุกรม\x20(Σ)','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','substr','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','interesting-stats-container','localeCompare','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','solution','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','เพิ่มปุ่มลัดจากไฟล์ใหม่','AI\x20request\x20was\x20blocked.\x20Reason:\x20','text-white','scratchpad-clear-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement',',\x20r=','ปริพันธ์จำกัด','<span\x20title=\x22โดนคำสาป\x22>😈</span>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','buy-time-quantity-input','ร้อยละพื้นฐาน','first_try_ace','.pointsLastQuestion','shortcutId','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','add-shortcut-tab-btn','isPasscodeEnabled','Error\x20saving\x20game\x20results:','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','font-bold\x20text-red-700\x20line-through','Successfully\x20removed\x20','QUICK_THINKER','showAnswerInAnonymous','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หลังเรียน','short_answer','querySelector','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.group\x5c/dropdown-parallel','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการลบแบบทดสอบ','circle','items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','global-activity-quiz-list','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','เงาปริศนา','lineWidth','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<li\x20class=\x22','</div></div>','ai-quiz-generator-v3','\x20จุดเรียบร้อยแล้ว','/questionBank','\x22\x20data-name=\x22','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','doc','teachingContent','การแจกแจงทวินาม\x20(พื้นฐาน)','correctAnswer','td,\x20th','show_results_and_answers','ไม่พบข้อมูลผู้ใช้','scrollX','pre-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-manager-view','อนุพันธ์:\x20กฎลูกโซ่','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','เกิดข้อผิดพลาดในการจับคู่','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','สรุปผลการวิเคราะห์:\x5cn','manage-tab','กรุณาเลือกโปรเจคที่ต้องการบันทึก','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','lesson-view-title','interesting-stats-wrapper','/public/data/teamQuizzes','lineCap','save-bp-reference-btn','fa-fire\x20text-orange-500','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bg-gray-400','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','Failed\x20to\x20get\x20standardized\x20topic:','createElementNS','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','scan-text-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','%PDF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','afterend','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','.delete-student-btn','textContent','confirm-game-start-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','shuffle-setting-select','circ','parallel-shortcut-id-input','.project-card-container.opacity-50','quiz','confidence-mode-select','.regenerate-question-btn','คำถามถัดไป','Error\x20verifying\x20answers\x20in\x20editor:','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','complexityValue','shadowColor','bg-yellow-50','bulk-confidence-scoring-checkbox','topicId','API\x20Error\x20Response:','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','bp-project-title','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','newCorrectIndex','กรุณาเลือกคำตอบ','ความแปรปรวน','file-topic-input','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','คะแนนยังไม่ถึงครึ่ง','.tab-name-display','.txt','pinnedProjects','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','manage','text-gray-500','หมูกระทะจะเยียวยาทุกสิ่ง','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','projectView','\x20\x20\x20-\x20คำตอบ:\x20','ไม่มีผู้ตอบตัวเลือกนี้','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','กรุณาป้อนรหัสแบบทดสอบ','anon-settings-container','keydown','</h4>','global-activity-modal','dispatchEvent','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','update-old-quizzes-btn','คุณใช้ตัวช่วย\x20\x22','ออฟฟิศซินโดรม','\x20ตัวเลือก.\x20','เพิ่ม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เทพทรู','content','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','name_asc','การกระจายและการจัดหมู่','live-game','cancel-move-quiz-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-scratchpad-btn','จัดการ','หัวข้อที่สร้างเอง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','นักวิทยาศาสตร์','bar','passcode-input-container','ไม่พบแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','เน็ตช้า','results-table-container','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','docChanges','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','วงกลม:\x20สมการและสมบัติ','.delete-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','sync-timer-enable-checkbox','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','fullscreenchange','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','Error\x20deleting\x20quiz:','โหลดนาน','.edit-hidden-parallel-shortcut-btn','body','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','modal-results-display-select','confident','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','strength-weakness-analysis-container','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','#file-shortcut-tabs-nav\x20.tab-name-input','#view-rankings-btn','back-to-project-btn','อัตราส่วนและสัดส่วน','editable-quiz-topic','\x22\x20class=\x22color-palette-btn\x20','ตรวจทานเฉลยเสร็จสิ้น!','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','เกี่ยวกับหัวข้อ\x20\x22','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','(ก่อนเรียน)','.move-parallel-shortcut-item','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','#DBEAFE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','cancel-export-pdf-btn','eraser-tool-btn','Export\x20Image\x20Error:','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','overflow','cancel-shortcut-edit-btn','innerHTML','ไม่พบข้อมูลเกม','cancel-global-activity-btn','line-through\x20text-red-700','พาราโบลา','แก้ระบบสมการด้วยเมทริกซ์','rows','webkitAudioContext','.delete-question-editor-btn','bg-green-200','message-modal','text-red-700\x20bg-red-100','ondrop','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Error\x20saving\x20parallel\x20shortcut\x20config:','ข้อที่\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','firstScore','resultsDisplay','แบตหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','save-parallel-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','clearRect','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ไม่ใช่</p>','สเกลและแผนที่','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','dropdown-list-','custom-math-topic-input','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','ถูก'];_0xbde8=function(){return _0x545f35;};return _0xbde8();}function handleVisibilityChange(){const _0x3579e4=_0x1b93ee;if(currentMode===_0x3579e4(0x68d)||!isQuizActive)return;if(document[_0x3579e4(0xb3d)]==='hidden')handleCheatingEvent();else document[_0x3579e4(0xb3d)]==='visible'&&(console[_0x3579e4(0xb20)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x12411a=_0x1b93ee;if(currentMode===_0x12411a(0x68d)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4b6066,_0x5a6f32=null,_0x150d9a=null){const _0x5e9a09=_0x1b93ee,_0xce1567=document[_0x5e9a09(0x693)](_0x5e9a09(0x724));let _0x2af28d='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4b6066[_0x5e9a09(0x669)]+_0x5e9a09(0x94f);_0x4b6066[_0x5e9a09(0x4e6)][_0x5e9a09(0x242)]((_0x8323a7,_0x17639a)=>{const _0x36fc77=_0x5e9a09;!_0x8323a7['id']&&(_0x8323a7['id']='q_'+Date[_0x36fc77(0xa37)]()+'_'+_0x17639a);const _0x23ac1f=_0x8323a7[_0x36fc77(0x994)]||_0x4b6066[_0x36fc77(0xcd7)];_0x2af28d+=_0x36fc77(0x742)+_0x17639a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x17639a+_0x36fc77(0xaf8)+_0x17639a+_0x36fc77(0x301);_0x23ac1f===_0x36fc77(0x1bc)?_0x2af28d+=_0x36fc77(0xe1c)+_0x17639a+'\x22>'+(_0x17639a+0x1)+'.\x20'+_0x8323a7['stem']+_0x36fc77(0x3ee):_0x2af28d+=_0x36fc77(0xe1c)+_0x17639a+'\x22>'+(_0x17639a+0x1)+'.\x20'+_0x8323a7[_0x36fc77(0xd6a)]+_0x36fc77(0x3ee);_0x8323a7[_0x36fc77(0xabc)]&&(_0x2af28d+='<div\x20id=\x22q-image-container-'+_0x17639a+_0x36fc77(0x5fd)+_0x8323a7['imageCode']+_0x36fc77(0x842));if(_0x8323a7[_0x36fc77(0x2da)]&&Array['isArray'](_0x8323a7[_0x36fc77(0x2da)])&&_0x8323a7[_0x36fc77(0x2da)]['length']>0x0)_0x2af28d+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x17639a+_0x36fc77(0x75b)+_0x8323a7[_0x36fc77(0x2da)][_0x36fc77(0x926)]((_0x30c242,_0x30bc50)=>_0x36fc77(0xbd3)+(_0x30bc50===_0x8323a7[_0x36fc77(0x3b0)]?_0x36fc77(0x520):'')+'\x22>'+_0x30c242+_0x36fc77(0x7d5))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x23ac1f==='matching_item'||_0x8323a7[_0x36fc77(0x2e8)])_0x2af28d+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x17639a+'\x22>'+_0x8323a7[_0x36fc77(0x2e8)]+'</span></div>';else{if(_0x23ac1f===_0x36fc77(0xa76)||typeof _0x8323a7['correctAnswer']==='boolean')_0x2af28d+=_0x36fc77(0x9a3)+(_0x8323a7[_0x36fc77(0xbde)]===!![]?_0x36fc77(0x520):'')+_0x36fc77(0xb1c)+(_0x8323a7[_0x36fc77(0xbde)]===![]?_0x36fc77(0x520):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x8323a7['idealAnswer']?_0x2af28d+=_0x36fc77(0x37a)+_0x17639a+'\x22>'+_0x8323a7[_0x36fc77(0x9ee)]+_0x36fc77(0x752):_0x2af28d+=_0x36fc77(0xb49);}}_0x2af28d+=_0x36fc77(0x8df)+_0x17639a+'\x22>'+_0x8323a7[_0x36fc77(0xad8)]+'</span></div>',_0x2af28d+='</div>';}),_0x2af28d+=_0x5e9a09(0xa15),_0xce1567[_0x5e9a09(0xc8c)]=_0x2af28d,document[_0x5e9a09(0xe56)](_0x5e9a09(0xacd))[_0x5e9a09(0x242)](_0x5a4a0f=>_0x5a4a0f[_0x5e9a09(0x5e0)]('click',handleEditQuestion)),document['querySelectorAll'](_0x5e9a09(0xc12))['forEach'](_0x1875a7=>_0x1875a7['addEventListener']('click',handleRegenerateQuestion)),document[_0x5e9a09(0x693)]('export-worksheet-pdf-btn')[_0x5e9a09(0x5e0)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x5e9a09(0xd61))[_0x5e9a09(0x5e0)](_0x5e9a09(0x2df),handleVerifyAnswers);const _0x2151f8=document[_0x5e9a09(0x693)](_0x5e9a09(0x6a7));if(_0x2151f8){const _0x24eda4=_0x5a6f32||currentProjectId;_0x2151f8[_0x5e9a09(0x5e0)]('click',()=>saveQuiz(_0x24eda4,_0x150d9a));}if(window[_0x5e9a09(0xad6)])window[_0x5e9a09(0xad6)][_0x5e9a09(0x840)]([_0xce1567]);}function handleRegenerateQuestion(_0x5b644c){const _0x2405b0=_0x1b93ee,_0x36a0f3=_0x5b644c['currentTarget'][_0x2405b0(0x43d)][_0x2405b0(0x6ca)],_0x74d2f=currentQuizData[_0x2405b0(0x669)];showMessage(_0x2405b0(0x36d)+(parseInt(_0x36a0f3)+0x1)+_0x2405b0(0x50e)),generateQuiz(_0x74d2f,null,parseInt(_0x36a0f3));}function getPointerPosition(_0x5008ef,_0x48724d){const _0x1cc225=_0x1b93ee,_0x1deacd=_0x5008ef[_0x1cc225(0x7e7)]();let _0x1b9e6e,_0x5c2394;return _0x48724d[_0x1cc225(0x9f2)]&&_0x48724d[_0x1cc225(0x9f2)][_0x1cc225(0x357)]>0x0?(_0x1b9e6e=_0x48724d['touches'][0x0][_0x1cc225(0x2a8)],_0x5c2394=_0x48724d['touches'][0x0][_0x1cc225(0x566)]):(_0x1b9e6e=_0x48724d[_0x1cc225(0x2a8)],_0x5c2394=_0x48724d['clientY']),{'x':(_0x1b9e6e-_0x1deacd['e'])/_0x1deacd['a'],'y':(_0x5c2394-_0x1deacd['f'])/_0x1deacd['d']};}function startDrag(_0x599271){const _0x4eca3f=_0x1b93ee;_0x599271[_0x4eca3f(0xb75)]===_0x4eca3f(0x711)&&_0x599271['preventDefault']();const _0x384e05=_0x599271[_0x4eca3f(0x588)]['closest'](_0x4eca3f(0xaa8));if(_0x384e05){draggedSvgElement=_0x384e05;const _0x300f32=draggedSvgElement[_0x4eca3f(0xba8)],_0x4e7a81=getPointerPosition(_0x300f32,_0x599271);svgOffset['x']=_0x4e7a81['x']-parseFloat(draggedSvgElement[_0x4eca3f(0x74f)](null,'x')),svgOffset['y']=_0x4e7a81['y']-parseFloat(draggedSvgElement[_0x4eca3f(0x74f)](null,'y'));}}function calculateItemAnalysis(_0x74ecf0,_0x5d8ddf){const _0xc62183=_0x1b93ee,_0x4f4cba={};if(_0x5d8ddf[_0xc62183(0x357)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x90015f=[..._0x5d8ddf][_0xc62183(0xa05)]((_0x343ff2,_0x2b330d)=>{const _0x127b14=_0xc62183,_0x51ce7e=_0x2b330d['latestScore']-_0x343ff2[_0x127b14(0x3f2)];if(_0x51ce7e!==0x0)return _0x51ce7e;const _0x84239f=_0x343ff2['attempts']?.[_0x127b14(0x357)]||0x1,_0x1bea9a=_0x2b330d[_0x127b14(0xb5c)]?.[_0x127b14(0x357)]||0x1,_0xe864e5=_0x84239f-_0x1bea9a;if(_0xe864e5!==0x0)return _0xe864e5;const _0x3e50cf=new Date(_0x343ff2[_0x127b14(0xd13)]),_0x1d90eb=new Date(_0x2b330d[_0x127b14(0xd13)]),_0x3c04b4=_0x3e50cf-_0x1d90eb;if(_0x3c04b4!==0x0)return _0x3c04b4;return _0x343ff2[_0x127b14(0x6df)][_0x127b14(0xb9d)](_0x2b330d[_0x127b14(0x6df)],'th');}),_0x51fff0=_0x90015f[_0xc62183(0x357)],_0x161833=Math[_0xc62183(0x417)](0x1,Math[_0xc62183(0x567)](_0x51fff0*0.33));if(_0x161833===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x419543=_0x90015f['slice'](0x0,_0x161833),_0x1dbdad=_0x90015f[_0xc62183(0xaa2)](-_0x161833),_0x2f7ca8=_0x419543[_0xc62183(0x926)](_0x75689a=>_0x75689a['studentName']),_0x393d9e=_0x1dbdad[_0xc62183(0x926)](_0x43eefb=>_0x43eefb[_0xc62183(0x6df)]);return _0x74ecf0[_0xc62183(0x4e6)][_0xc62183(0x242)]((_0x17d817,_0x2f60a9)=>{const _0x4636ad=_0xc62183,_0x137c1f=_0x17d817['stem']||_0x17d817[_0x4636ad(0xd6a)];let _0x1d75c1=0x0,_0x553032=0x0,_0x249fd3=0x0;const _0x378c5a=[],_0xe6de76=[];_0x419543[_0x4636ad(0x242)](_0x34c99e=>{const _0x5878dc=_0x4636ad,_0x58043c=_0x34c99e[_0x5878dc(0xb5c)][_0x34c99e['attempts'][_0x5878dc(0x357)]-0x1],_0x3ad36f=_0x58043c['answers'][_0x5878dc(0xe69)](_0xe26886=>_0xe26886[_0x5878dc(0x9ca)]===_0x137c1f);_0x378c5a['push']({'name':_0x34c99e[_0x5878dc(0x6df)],'isCorrect':_0x3ad36f?_0x3ad36f[_0x5878dc(0x5ce)]:![]}),_0x3ad36f&&_0x3ad36f['isCorrect']&&_0x553032++;}),_0x1dbdad[_0x4636ad(0x242)](_0xb34225=>{const _0x410b92=_0x4636ad,_0x70dc6f=_0xb34225[_0x410b92(0xb5c)][_0xb34225['attempts']['length']-0x1],_0x4259b1=_0x70dc6f['answers'][_0x410b92(0xe69)](_0x43fe1e=>_0x43fe1e['originalQuestionText']===_0x137c1f);_0xe6de76[_0x410b92(0xce5)]({'name':_0xb34225[_0x410b92(0x6df)],'isCorrect':_0x4259b1?_0x4259b1[_0x410b92(0x5ce)]:![]}),_0x4259b1&&_0x4259b1['isCorrect']&&_0x249fd3++;}),_0x5d8ddf[_0x4636ad(0x242)](_0x17f681=>{const _0x528017=_0x4636ad,_0x4c9136=_0x17f681[_0x528017(0xb5c)][_0x17f681['attempts'][_0x528017(0x357)]-0x1],_0x203bc7=_0x4c9136[_0x528017(0x7f4)][_0x528017(0xe69)](_0x1b41e6=>_0x1b41e6[_0x528017(0x9ca)]===_0x137c1f);_0x203bc7&&_0x203bc7[_0x528017(0x5ce)]&&_0x1d75c1++;});const _0x453ec8=_0x51fff0>0x0?_0x1d75c1/_0x51fff0:0x0,_0x4bea8f=_0x161833>0x0?_0x553032/_0x161833-_0x249fd3/_0x161833:0x0;_0x4f4cba[_0x2f60a9]={'p':_0x453ec8,'r':_0x4bea8f,'upperGroupResponders':_0x378c5a,'lowerGroupResponders':_0xe6de76};}),{'perQuestionStats':_0x4f4cba,'overallGroups':{'upperGroupNames':_0x2f7ca8,'lowerGroupNames':_0x393d9e}};}function drag(_0x52410b){const _0xb5745c=_0x1b93ee;if(draggedSvgElement){_0x52410b[_0xb5745c(0x32c)]();const _0x1e1622=draggedSvgElement[_0xb5745c(0xba8)],_0x1d6ec1=getPointerPosition(_0x1e1622,_0x52410b),_0x4e4723=_0x1e1622[_0xb5745c(0xab6)][_0xb5745c(0x4f5)];let _0x2e5ca2=_0x1d6ec1['x']-svgOffset['x'],_0x59e7d4=_0x1d6ec1['y']-svgOffset['y'];const _0x1a285d=draggedSvgElement[_0xb5745c(0x2b4)]();_0x2e5ca2=Math['max'](_0x4e4723['x'],Math[_0xb5745c(0x8da)](_0x2e5ca2,_0x4e4723['x']+_0x4e4723[_0xb5745c(0x129)]-_0x1a285d[_0xb5745c(0x129)])),_0x59e7d4=Math[_0xb5745c(0x417)](_0x4e4723['y'],Math[_0xb5745c(0x8da)](_0x59e7d4,_0x4e4723['y']+_0x4e4723[_0xb5745c(0x69f)]-_0x1a285d[_0xb5745c(0x69f)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2e5ca2),draggedSvgElement['setAttributeNS'](null,'y',_0x59e7d4);}}function endDrag(_0xaba49c){draggedSvgElement=null;}function handleSvgEditClick(_0x234c06){const _0x5097e7=_0x1b93ee;if(_0x234c06[_0x5097e7(0x588)][_0x5097e7(0x43c)]['contains']('delete-svg-btn')){const _0x5273fd=_0x234c06[_0x5097e7(0x588)][_0x5097e7(0x43d)][_0x5097e7(0xe07)],_0x3e9a59=_0x234c06[_0x5097e7(0x5be)],_0x8df7e5=_0x3e9a59['querySelector']('#'+_0x5273fd);_0x8df7e5&&_0x8df7e5['remove'](),_0x234c06[_0x5097e7(0x588)][_0x5097e7(0x200)]();}}function handleEditQuestion(_0x12163c){const _0x3b162a=_0x1b93ee,_0x466e0f=_0x12163c[_0x3b162a(0x5be)],_0x45ee7e=_0x466e0f[_0x3b162a(0x43d)][_0x3b162a(0x6ca)],_0x3101c6=currentQuizData[_0x3b162a(0x4e6)][_0x45ee7e],_0x12f4b5=document[_0x3b162a(0x693)](_0x3b162a(0x9af)+_0x45ee7e),_0x52f6d0=document[_0x3b162a(0x693)](_0x3b162a(0x6d3)+_0x45ee7e),_0x17681b=document[_0x3b162a(0x693)]('q-image-container-'+_0x45ee7e);if(_0x466e0f[_0x3b162a(0xc8c)]['includes'](_0x3b162a(0x237))){_0x466e0f[_0x3b162a(0xc8c)]=_0x3b162a(0x8db),_0x466e0f[_0x3b162a(0x65d)]=_0x3b162a(0xe25);if(_0x12f4b5)_0x12f4b5[_0x3b162a(0xda5)]=!![];if(_0x52f6d0)_0x52f6d0[_0x3b162a(0xda5)]=!![];if(_0x17681b){const _0x362545=_0x17681b['querySelector']('svg');if(_0x362545){const _0x428250=_0x362545[_0x3b162a(0xe56)](_0x3b162a(0x2dc));_0x428250['forEach']((_0x18f6d2,_0x474b61)=>{const _0x2d7910=_0x3b162a,_0x4fc3a2='editable-text-'+_0x45ee7e+'-'+_0x474b61;_0x18f6d2['id']=_0x4fc3a2,_0x18f6d2['classList'][_0x2d7910(0x128)](_0x2d7910(0x607)),_0x18f6d2[_0x2d7910(0x77b)]['cursor']=_0x2d7910(0xe22);const _0x4f6a48=document[_0x2d7910(0xbfe)](_0x2d7910(0xff),_0x2d7910(0xbc9)),_0x4dc193=_0x18f6d2[_0x2d7910(0x2b4)]();_0x4f6a48[_0x2d7910(0xd38)]('cx',String(_0x4dc193['x']+_0x4dc193[_0x2d7910(0x129)]+0x5)),_0x4f6a48[_0x2d7910(0xd38)]('cy',String(_0x4dc193['y']+_0x4dc193['height']/0x2-0x5)),_0x4f6a48[_0x2d7910(0xd38)]('r','5'),_0x4f6a48['setAttribute']('fill',_0x2d7910(0x518)),_0x4f6a48[_0x2d7910(0xd38)]('class','delete-svg-btn'),_0x4f6a48[_0x2d7910(0x43d)][_0x2d7910(0xe07)]=_0x4fc3a2,_0x18f6d2[_0x2d7910(0x16a)](_0x4f6a48);}),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0x5ef),startDrag),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0xdcf),drag),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0x958),endDrag),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0x4cf),endDrag),_0x362545['addEventListener'](_0x3b162a(0x711),startDrag,{'passive':![]}),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0x967),drag,{'passive':![]}),_0x362545[_0x3b162a(0x5e0)]('touchend',endDrag),_0x362545['addEventListener'](_0x3b162a(0x7bb),endDrag),_0x362545[_0x3b162a(0x5e0)](_0x3b162a(0x2df),handleSvgEditClick);}}if(_0x12f4b5)_0x12f4b5[_0x3b162a(0x9b3)]();}else{_0x466e0f[_0x3b162a(0xc8c)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x466e0f[_0x3b162a(0x65d)]=_0x3b162a(0x207);if(_0x12f4b5){_0x12f4b5['contentEditable']=![];const _0x5005e2=_0x3101c6[_0x3b162a(0x994)]||currentQuizData['quizType'];_0x5005e2==='matching_item'?_0x3101c6['stem']=_0x12f4b5[_0x3b162a(0x79a)]['substring'](_0x12f4b5['innerText'][_0x3b162a(0x76e)]('.')+0x2)[_0x3b162a(0xb6d)]():_0x3101c6['questionText']=_0x12f4b5[_0x3b162a(0x79a)][_0x3b162a(0x179)](_0x12f4b5[_0x3b162a(0x79a)][_0x3b162a(0x76e)]('.')+0x2)[_0x3b162a(0xb6d)]();}_0x52f6d0&&(_0x52f6d0[_0x3b162a(0xda5)]=![],_0x3101c6[_0x3b162a(0xad8)]=_0x52f6d0[_0x3b162a(0x79a)]);if(_0x17681b){const _0x32e516=_0x17681b[_0x3b162a(0xbc1)](_0x3b162a(0x8fc));if(_0x32e516){const _0x5013d9=_0x32e516[_0x3b162a(0xae2)](!![]);_0x5013d9[_0x3b162a(0xe56)](_0x3b162a(0x158))[_0x3b162a(0x242)](_0x4fcb5b=>_0x4fcb5b[_0x3b162a(0x200)]()),_0x5013d9[_0x3b162a(0xe56)](_0x3b162a(0xaa8))['forEach'](_0x55af29=>{const _0x1d2c02=_0x3b162a;_0x55af29[_0x1d2c02(0x43c)][_0x1d2c02(0x200)]('draggable-text'),_0x55af29['style']['cursor']=_0x1d2c02(0x6b4),_0x55af29[_0x1d2c02(0x2de)]('id');}),_0x3101c6['imageCode']=_0x5013d9[_0x3b162a(0xd90)],_0x32e516[_0x3b162a(0x663)](_0x3b162a(0x5ef),startDrag),_0x32e516[_0x3b162a(0x663)](_0x3b162a(0xdcf),drag),_0x32e516[_0x3b162a(0x663)](_0x3b162a(0x958),endDrag),_0x32e516[_0x3b162a(0x663)](_0x3b162a(0x4cf),endDrag),_0x32e516[_0x3b162a(0x663)]('touchstart',startDrag),_0x32e516['removeEventListener'](_0x3b162a(0x967),drag),_0x32e516[_0x3b162a(0x663)](_0x3b162a(0x45a),endDrag),_0x32e516['removeEventListener'](_0x3b162a(0x7bb),endDrag),_0x32e516[_0x3b162a(0x663)]('click',handleSvgEditClick),_0x32e516[_0x3b162a(0xe56)](_0x3b162a(0x158))[_0x3b162a(0x242)](_0x3bebd0=>_0x3bebd0[_0x3b162a(0x200)]()),_0x32e516[_0x3b162a(0xe56)](_0x3b162a(0xaa8))[_0x3b162a(0x242)](_0x156c39=>{const _0x2b87e7=_0x3b162a;_0x156c39[_0x2b87e7(0x43c)][_0x2b87e7(0x200)](_0x2b87e7(0x607)),_0x156c39[_0x2b87e7(0x77b)][_0x2b87e7(0x8a5)]=_0x2b87e7(0x6b4);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1b229d){const _0x5ac8fd=_0x1b93ee,_0x35fe34=document[_0x5ac8fd(0x693)](_0x5ac8fd(0x644)),_0x5bfda4=document[_0x5ac8fd(0x693)]('quiz-editor-questions-container');_0x5bfda4[_0x5ac8fd(0xc8c)]=_0x5ac8fd(0x62a),_0x35fe34[_0x5ac8fd(0x43c)][_0x5ac8fd(0x200)](_0x5ac8fd(0xa21));try{const _0x539933=doc(db,'artifacts/'+appId+_0x5ac8fd(0x868),_0x1b229d),_0x48b517=await getDoc(_0x539933);if(!_0x48b517[_0x5ac8fd(0x5a9)]())throw new Error(_0x5ac8fd(0xc53));currentEditingQuizData={'id':_0x1b229d,..._0x48b517['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x2e5e13){console[_0x5ac8fd(0x75e)](_0x5ac8fd(0x2c9),_0x2e5e13),showMessage(_0x5ac8fd(0x777)),_0x35fe34[_0x5ac8fd(0x43c)]['add'](_0x5ac8fd(0xa21));}}function renderQuizEditor(_0x3d340f){const _0x49a9a3=_0x1b93ee;document[_0x49a9a3(0x693)](_0x49a9a3(0x43e))[_0x49a9a3(0xc5c)]=_0x3d340f[_0x49a9a3(0x669)];const _0x52931d=document[_0x49a9a3(0x693)](_0x49a9a3(0xaf6));let _0x106ac4=_0x3d340f[_0x49a9a3(0x4e6)]['map']((_0x4af13b,_0x20308c)=>{const _0x3c0ba6=_0x49a9a3;let _0x2854d0='';const _0x1cac10=_0x4af13b[_0x3c0ba6(0x994)]||_0x3d340f[_0x3c0ba6(0xcd7)],_0x383a0e=(_0x1cac10===_0x3c0ba6(0xbc0)||_0x1cac10===_0x3c0ba6(0x236))&&_0x4af13b[_0x3c0ba6(0x2da)]&&_0x4af13b[_0x3c0ba6(0x2da)]['length']>0x0;switch(_0x1cac10){case _0x3c0ba6(0x6c4):const _0x3492e4=(_0x4af13b[_0x3c0ba6(0x2da)]||[])[_0x3c0ba6(0x926)]((_0x485982,_0x1d57d4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x20308c+_0x3c0ba6(0x2ea)+_0x1d57d4+'\x22\x20'+(_0x1d57d4===_0x4af13b[_0x3c0ba6(0x3b0)]?_0x3c0ba6(0xb48):'')+_0x3c0ba6(0xcfb)+_0x485982+_0x3c0ba6(0x9f8))['join']('');_0x2854d0=_0x3c0ba6(0x4ac)+_0x3492e4+_0x3c0ba6(0x93d);break;case _0x3c0ba6(0x236):case _0x3c0ba6(0xbc0):_0x2854d0=_0x3c0ba6(0xc04)+(_0x4af13b[_0x3c0ba6(0x9ee)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x383a0e){const _0x41ac97=(_0x4af13b[_0x3c0ba6(0x2da)]||[])[_0x3c0ba6(0x926)]((_0x237693,_0x2802b4)=>_0x3c0ba6(0x3b7)+_0x20308c+_0x3c0ba6(0x2ea)+_0x2802b4+'\x22\x20'+(_0x2802b4===_0x4af13b[_0x3c0ba6(0x3b0)]?_0x3c0ba6(0xb48):'')+_0x3c0ba6(0x56f)+_0x237693+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3c0ba6(0xd7b)]('');_0x2854d0+=_0x3c0ba6(0x87b)+_0x41ac97+_0x3c0ba6(0x50a);}break;case _0x3c0ba6(0xa76):_0x2854d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x20308c+_0x3c0ba6(0x83a)+(_0x4af13b[_0x3c0ba6(0xbde)]===!![]?_0x3c0ba6(0xb48):'')+_0x3c0ba6(0x19d)+_0x20308c+_0x3c0ba6(0xb85)+(_0x4af13b[_0x3c0ba6(0xbde)]===![]?_0x3c0ba6(0xb48):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x2854d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4af13b[_0x3c0ba6(0x2e8)]||'')+_0x3c0ba6(0x73b);break;}let _0x41b923=_0x4af13b[_0x3c0ba6(0xd6a)]||_0x4af13b[_0x3c0ba6(0x87a)]||'';_0x41b923=_0x41b923[_0x3c0ba6(0x5cc)](/<br\s*\/?>/gi,'\x0a');let _0x467bbd='';if(_0x1cac10===_0x3c0ba6(0x6c4))_0x467bbd=_0x3c0ba6(0x440);else _0x383a0e&&(_0x467bbd=_0x3c0ba6(0x263));return _0x3c0ba6(0x9a8)+_0x20308c+'\x22\x20data-q-type=\x22'+_0x1cac10+_0x3c0ba6(0xce0)+_0x467bbd+'\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x20308c+0x1)+'\x20('+_0x1cac10+_0x3c0ba6(0x99f)+_0x41b923+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x2854d0+_0x3c0ba6(0xd52);})[_0x49a9a3(0xd7b)]('');_0x52931d[_0x49a9a3(0xc8c)]=_0x106ac4;const _0xdb5438=_0x49a9a3(0x5e9);_0x52931d[_0x49a9a3(0xce8)](_0x49a9a3(0xa10),_0xdb5438),_0x52931d['querySelectorAll'](_0x49a9a3(0x2cc))[_0x49a9a3(0x242)](_0x2f37b4=>{const _0x5f16fa=_0x49a9a3;_0x2f37b4[_0x5f16fa(0x77b)]['overflowY']='hidden',_0x2f37b4['style']['minHeight']=_0x5f16fa(0xd42),_0x2f37b4['rows']=0x4;const _0x7f59ae=()=>{const _0x3b5221=_0x5f16fa;_0x2f37b4[_0x3b5221(0x77b)][_0x3b5221(0x69f)]=_0x3b5221(0x8a4),_0x2f37b4['style']['height']=_0x2f37b4[_0x3b5221(0xbb2)]+'px';};_0x2f37b4[_0x5f16fa(0x5e0)](_0x5f16fa(0x3f1),_0x7f59ae),_0x7f59ae();}),_0x52931d[_0x49a9a3(0xe56)](_0x49a9a3(0x26e))['forEach'](_0x21ff43=>{const _0x1567ca=_0x49a9a3;_0x21ff43[_0x1567ca(0x5e0)](_0x1567ca(0x2df),handleAiFixQuestion);}),_0x52931d['querySelectorAll']('.ai-fix-formula-btn')[_0x49a9a3(0x242)](_0x12d6b6=>{const _0x40aaf8=_0x49a9a3;_0x12d6b6[_0x40aaf8(0x5e0)](_0x40aaf8(0x2df),_0x5e034c=>{const _0x218eea=_0x40aaf8,_0x2a5902=parseInt(_0x5e034c['currentTarget'][_0x218eea(0xe11)]('.question-editor-item')[_0x218eea(0x43d)][_0x218eea(0x81d)],0xa);handleAiFixFormula(_0x2a5902);});}),_0x52931d[_0x49a9a3(0xe56)]('.toggle-hidden-options-btn')[_0x49a9a3(0x242)](_0x19803f=>{const _0x2b9f07=_0x49a9a3;_0x19803f[_0x2b9f07(0x5e0)](_0x2b9f07(0x2df),_0x278eb3=>{const _0x167e84=_0x2b9f07,_0x1983e3=parseInt(_0x278eb3[_0x167e84(0x5be)][_0x167e84(0xe11)](_0x167e84(0x880))['dataset'][_0x167e84(0x81d)],0xa);handleToggleHiddenOptions(_0x1983e3);});});}function handleToggleHiddenOptions(_0x40a7be){const _0x1e70f0=_0x1b93ee;if(!currentEditingQuizData||!currentEditingQuizData[_0x1e70f0(0x4e6)][_0x40a7be])return;const _0x3e25cc=currentEditingQuizData['questions'][_0x40a7be],_0x55af37=_0x3e25cc[_0x1e70f0(0x994)]||_0x1e70f0(0x6c4),_0x2e5a1a=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x40a7be+'\x22]');if(_0x2e5a1a){_0x3e25cc[_0x1e70f0(0xd6a)]=_0x2e5a1a[_0x1e70f0(0xbc1)](_0x1e70f0(0xced))[_0x1e70f0(0xc5c)];if(_0x55af37==='multiple_choice'){const _0x397f4e=_0x2e5a1a[_0x1e70f0(0xe56)]('.option-input');_0x3e25cc[_0x1e70f0(0x2da)]=Array['from'](_0x397f4e)[_0x1e70f0(0x926)](_0x156909=>_0x156909[_0x1e70f0(0xc5c)]);const _0x54a659=_0x2e5a1a[_0x1e70f0(0xbc1)]('input[type=\x22radio\x22]:checked');if(_0x54a659)_0x3e25cc['correctAnswerIndex']=parseInt(_0x54a659[_0x1e70f0(0xc5c)]);}else{if(_0x55af37===_0x1e70f0(0xbc0)||_0x55af37==='fill_in_no_choices'){const _0x429837=_0x2e5a1a[_0x1e70f0(0xbc1)](_0x1e70f0(0x6d0));if(_0x429837)_0x3e25cc[_0x1e70f0(0x9ee)]=_0x429837[_0x1e70f0(0xc5c)];const _0x2558e0=_0x2e5a1a[_0x1e70f0(0xe56)](_0x1e70f0(0x4e1));_0x2558e0[_0x1e70f0(0x357)]>0x0&&(_0x3e25cc[_0x1e70f0(0x2da)]=Array[_0x1e70f0(0xb1b)](_0x2558e0)[_0x1e70f0(0x926)](_0x155880=>_0x155880[_0x1e70f0(0xc5c)]));}}}_0x55af37===_0x1e70f0(0x6c4)?(_0x3e25cc[_0x1e70f0(0x994)]=_0x1e70f0(0xbc0),_0x3e25cc['options']&&_0x3e25cc[_0x1e70f0(0x3b0)]!==undefined&&(_0x3e25cc[_0x1e70f0(0x9ee)]=_0x3e25cc[_0x1e70f0(0x2da)][_0x3e25cc[_0x1e70f0(0x3b0)]]||'')):_0x3e25cc[_0x1e70f0(0x994)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x3b6ebd){const _0x10bb6b=_0x1b93ee;if(!currentEditingQuizData||!currentEditingQuizData[_0x10bb6b(0x4e6)][_0x3b6ebd])return;const _0x3f5645=currentEditingQuizData[_0x10bb6b(0x4e6)][_0x3b6ebd][_0x10bb6b(0xd6a)]||currentEditingQuizData[_0x10bb6b(0x4e6)][_0x3b6ebd][_0x10bb6b(0x87a)];showConfirmation(_0x10bb6b(0x3fd)+(_0x3b6ebd+0x1)+_0x10bb6b(0x775)+_0x3f5645[_0x10bb6b(0x179)](0x0,0x14)+_0x10bb6b(0x767),()=>{const _0x31df3c=_0x10bb6b;currentEditingQuizData[_0x31df3c(0x4e6)][_0x31df3c(0x22b)](_0x3b6ebd,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x957c22=_0x1b93ee;if(!currentEditingQuizData)return;const _0x9c77c2=document[_0x957c22(0x693)](_0x957c22(0x29a)),_0x55536a=_0x9c77c2?_0x9c77c2[_0x957c22(0xc5c)]:_0x957c22(0x6c4);let _0x1841a1={'id':'q_'+Date[_0x957c22(0xa37)]()+_0x957c22(0xd83),'questionType':_0x55536a,'questionText':_0x957c22(0x6d9),'explanation':_0x957c22(0x178)};switch(_0x55536a){case _0x957c22(0x6c4):_0x1841a1[_0x957c22(0x2da)]=[_0x957c22(0x485),'ตัวเลือก\x20ข',_0x957c22(0xb6b),_0x957c22(0x9e8)],_0x1841a1['correctAnswerIndex']=0x0;break;case'short_answer':case'fill_in_no_choices':_0x1841a1[_0x957c22(0x9ee)]='คำตอบที่ถูกต้อง';break;case _0x957c22(0xa76):_0x1841a1[_0x957c22(0xbde)]=!![];break;case _0x957c22(0x1bc):_0x1841a1[_0x957c22(0x87a)]=_0x957c22(0x7bc),_0x1841a1[_0x957c22(0x2e8)]='คู่คำตอบ...',_0x1841a1[_0x957c22(0xd6a)]='คำถาม...';break;}currentEditingQuizData[_0x957c22(0x4e6)][_0x957c22(0xce5)](_0x1841a1),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x3e1a1d=_0x957c22,_0x28ce40=document['querySelector'](_0x3e1a1d(0xd53));if(_0x28ce40){_0x28ce40['scrollIntoView']({'behavior':_0x3e1a1d(0xdbd),'block':_0x3e1a1d(0x2b5)});const _0x759155=_0x28ce40[_0x3e1a1d(0xbc1)](_0x3e1a1d(0xced));if(_0x759155)_0x759155['focus']();}},0x64);}async function handleAiFixQuestion(_0x477108){const _0x201b39=_0x1b93ee,_0x26b34f=_0x477108[_0x201b39(0x5be)],_0x3be7ff=_0x26b34f[_0x201b39(0xe11)]('.question-editor-item');if(!_0x3be7ff)return;const _0x5cd50b=parseInt(_0x3be7ff[_0x201b39(0x43d)][_0x201b39(0x81d)],0xa);if(isNaN(_0x5cd50b)||!currentEditingQuizData[_0x201b39(0x4e6)][_0x5cd50b]){showMessage(_0x201b39(0x578));return;}const _0x8b68d0=currentEditingQuizData[_0x201b39(0x4e6)][_0x5cd50b];_0x26b34f[_0x201b39(0xc8c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x26b34f[_0x201b39(0xe12)]=!![];const _0x3b9031=_0x201b39(0x4c1)+JSON[_0x201b39(0x1f9)](_0x8b68d0)+_0x201b39(0xa65);let _0x45cf83;const _0x217eca=_0x8b68d0[_0x201b39(0x994)]||currentEditingQuizData[_0x201b39(0xcd7)];switch(_0x217eca){case'short_answer':_0x45cf83={'type':_0x201b39(0xd69),'properties':{'questionText':{'type':_0x201b39(0x47c)},'idealAnswer':{'type':_0x201b39(0x47c)},'explanation':{'type':_0x201b39(0x47c)},'imageCode':{'type':_0x201b39(0x47c)}},'required':['questionText',_0x201b39(0x9ee),_0x201b39(0xad8)]};break;case _0x201b39(0x6c4):default:_0x45cf83={'type':_0x201b39(0xd69),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x201b39(0x17d),'items':{'type':_0x201b39(0x47c)}},'correctAnswerIndex':{'type':_0x201b39(0x7a8)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x201b39(0x3b0),_0x201b39(0xad8)]};break;}try{let _0x4fbf39=await callAnalysisApi(_0x3b9031,_0x45cf83);_0x4fbf39[_0x201b39(0x2da)]&&Array['isArray'](_0x4fbf39[_0x201b39(0x2da)])&&(_0x4fbf39[_0x201b39(0x2da)]=_0x4fbf39[_0x201b39(0x2da)][_0x201b39(0x926)](_0x2c651e=>typeof _0x2c651e===_0x201b39(0x6de)?_0x2c651e[_0x201b39(0x5cc)](/S(\s*[\d_]+?\s*)S/g,_0x201b39(0x709)):_0x2c651e)),_0x8b68d0[_0x201b39(0xabc)]&&_0x8b68d0[_0x201b39(0xabc)]['includes'](_0x201b39(0x66c))&&(_0x4fbf39[_0x201b39(0xabc)]=''),currentEditingQuizData[_0x201b39(0x4e6)][_0x5cd50b]={..._0x8b68d0,..._0x4fbf39},renderQuizEditor(currentEditingQuizData),showMessage(_0x201b39(0x633));}catch(_0x234744){console[_0x201b39(0x75e)]('AI\x20Fix\x20Error:',_0x234744),showMessage(_0x201b39(0x699)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xc8ff9f=_0x1b93ee,_0x5dd4cc=document[_0xc8ff9f(0x693)]('save-quiz-edits-btn');_0x5dd4cc[_0xc8ff9f(0xe12)]=!![],_0x5dd4cc['innerHTML']=_0xc8ff9f(0x78d);try{const _0x452581=document[_0xc8ff9f(0x693)](_0xc8ff9f(0x43e))['value'],_0x4a94bb=document[_0xc8ff9f(0xe56)](_0xc8ff9f(0x880));let _0x1a369e=[];const _0xd92c5c=Array[_0xc8ff9f(0xb1b)](_0x4a94bb)['map']((_0x36df4c,_0x5228d1)=>{const _0x518b36=_0xc8ff9f,_0x1ac5f9=_0x36df4c[_0x518b36(0x43d)][_0x518b36(0x991)],_0x43074a=_0x36df4c['querySelector'](_0x518b36(0xced))[_0x518b36(0xc5c)][_0x518b36(0x5cc)](/\n/g,'<br>');let _0x3df417={'questionType':_0x1ac5f9};const _0x32b097=currentEditingQuizData[_0x518b36(0x4e6)][_0x5228d1]||{};switch(_0x1ac5f9){case _0x518b36(0x6c4):_0x3df417[_0x518b36(0xd6a)]=_0x43074a;const _0x8ee1c8=_0x36df4c[_0x518b36(0xe56)]('.option-input');_0x3df417[_0x518b36(0x2da)]=Array['from'](_0x8ee1c8)[_0x518b36(0x926)](_0x9fef21=>_0x9fef21[_0x518b36(0xc5c)]);const _0x3144f4=_0x36df4c[_0x518b36(0xbc1)](_0x518b36(0x2d7));_0x3df417[_0x518b36(0x3b0)]=_0x3144f4?parseInt(_0x3144f4[_0x518b36(0xc5c)]):0x0;break;case _0x518b36(0x236):case _0x518b36(0xbc0):_0x3df417[_0x518b36(0xd6a)]=_0x43074a,_0x3df417[_0x518b36(0x9ee)]=_0x36df4c[_0x518b36(0xbc1)](_0x518b36(0x6d0))[_0x518b36(0xc5c)];const _0xd5a0bf=_0x36df4c['querySelectorAll']('.hidden-option-input');_0xd5a0bf[_0x518b36(0x357)]>0x0?(_0x3df417[_0x518b36(0x2da)]=Array[_0x518b36(0xb1b)](_0xd5a0bf)[_0x518b36(0x926)](_0x66ce42=>_0x66ce42[_0x518b36(0xc5c)]),_0x32b097['correctAnswerIndex']!==undefined?_0x3df417[_0x518b36(0x3b0)]=_0x32b097['correctAnswerIndex']:_0x3df417[_0x518b36(0x3b0)]=0x0):(delete _0x3df417[_0x518b36(0x2da)],delete _0x3df417[_0x518b36(0x3b0)]);break;case _0x518b36(0xa76):_0x3df417[_0x518b36(0xd6a)]=_0x43074a;const _0x527756=_0x36df4c['querySelector']('input[type=\x22radio\x22]:checked');_0x3df417['correctAnswer']=_0x527756?_0x527756[_0x518b36(0xc5c)]===_0x518b36(0xe0d):!![];break;case _0x518b36(0x1bc):_0x3df417[_0x518b36(0x87a)]=_0x43074a;const _0x21921d=_0x36df4c['querySelector']('.correct-response-input');_0x3df417[_0x518b36(0x2e8)]=_0x21921d?_0x21921d[_0x518b36(0xc5c)]:'',_0x1a369e['push'](_0x3df417[_0x518b36(0x2e8)]);break;default:_0x3df417['questionText']=_0x43074a;break;}return{..._0x32b097,..._0x3df417};});_0x1a369e[_0xc8ff9f(0x357)]>0x0&&_0xd92c5c['forEach'](_0x2490b8=>{const _0x5a6c06=_0xc8ff9f;_0x2490b8['questionType']===_0x5a6c06(0x1bc)&&(_0x2490b8[_0x5a6c06(0xd3d)]=_0x1a369e);});const _0x3bf93c=currentEditingQuizData['id'],_0x1d86f6=doc(db,_0xc8ff9f(0xe45)+appId+_0xc8ff9f(0x868),_0x3bf93c);await updateDoc(_0x1d86f6,{'topic':_0x452581,'questions':_0xd92c5c}),document[_0xc8ff9f(0x693)](_0xc8ff9f(0x644))['classList'][_0xc8ff9f(0x128)](_0xc8ff9f(0xa21)),showMessage(_0xc8ff9f(0xaa9),()=>initiateReGradeProcess(_0x3bf93c));}catch(_0x3f2eff){console[_0xc8ff9f(0x75e)](_0xc8ff9f(0x6e8),_0x3f2eff),showMessage(_0xc8ff9f(0xa04));}finally{_0x5dd4cc[_0xc8ff9f(0xe12)]=![],_0x5dd4cc[_0xc8ff9f(0xc8c)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}function _0x1173(_0x5c8844,_0xa0e080){const _0xbde89a=_0xbde8();return _0x1173=function(_0x1173b5,_0x557971){_0x1173b5=_0x1173b5-0xf0;let _0x44ba75=_0xbde89a[_0x1173b5];return _0x44ba75;},_0x1173(_0x5c8844,_0xa0e080);}async function initiateReGradeProcess(_0x52515a){const _0x26f412=_0x1b93ee;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x4a0f5a=doc(db,_0x26f412(0xe45)+appId+'/public/data/quizzes',_0x52515a),_0x15130a=await getDoc(_0x4a0f5a);if(!_0x15130a['exists']())throw new Error(_0x26f412(0xe1b));const _0x26146e={'id':_0x52515a,..._0x15130a[_0x26f412(0x7d4)]()},_0x5b40cb=collection(db,'artifacts/'+appId+_0x26f412(0x868),_0x52515a,'submissions'),_0x186064=await getDocs(_0x5b40cb);if(_0x186064['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0xc54a9d=_0x186064[_0x26f412(0x34d)][_0x26f412(0x926)](_0x1bb6d6=>reGradeSingleSubmission(_0x1bb6d6,_0x26146e));await Promise[_0x26f412(0x10a)](_0xc54a9d);if(_0x26146e['projectId']){const _0x1b5e22=doc(db,'artifacts/'+appId+'/public/data/projects',_0x26146e[_0x26f412(0x3a0)]),_0x4c17fb=await getDoc(_0x1b5e22);if(_0x4c17fb[_0x26f412(0x5a9)]()&&_0x4c17fb['data']()[_0x26f412(0xa64)]){const _0x24b824=_0x4c17fb[_0x26f412(0x7d4)]()[_0x26f412(0xa64)][_0x26f412(0x926)](_0x2a9937=>updateStudentProfile(_0x26146e['projectId'],_0x2a9937));await Promise[_0x26f412(0x10a)](_0x24b824);}}showMessage(_0x26f412(0x8ba)+_0x186064[_0x26f412(0x80b)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x206e46){console['error'](_0x26f412(0x8f9),_0x206e46),showMessage(_0x26f412(0xd33)+_0x206e46[_0x26f412(0x340)]);}}async function reGradeSingleSubmission(_0x30ade8,_0x308871){const _0x15fc2b=_0x1b93ee,_0x53e4a2=_0x30ade8[_0x15fc2b(0x7d4)](),_0x5bffcc=_0x53e4a2['studentName'],_0x504209=_0x53e4a2[_0x15fc2b(0xb5c)]||[],_0x387fa5=[];for(const _0x2cbb05 of _0x504209){let _0x3a164c=0x0,_0xbf35aa=[],_0x1ce0a3=0x0;const _0x143aa7=[];for(const _0x488c89 of _0x2cbb05[_0x15fc2b(0x7f4)]){let _0x534ca3;_0x488c89['questionId']&&(_0x534ca3=_0x308871[_0x15fc2b(0x4e6)][_0x15fc2b(0xe69)](_0xf0bf02=>_0xf0bf02['id']===_0x488c89[_0x15fc2b(0x71d)]));!_0x534ca3&&_0x488c89[_0x15fc2b(0x9ca)]&&(_0x534ca3=_0x308871['questions'][_0x15fc2b(0xe69)](_0x38d8ba=>(_0x38d8ba[_0x15fc2b(0x87a)]||_0x38d8ba['questionText'])===_0x488c89[_0x15fc2b(0x9ca)]));let _0x339bdb=![];if(_0x534ca3){const _0x1ab3cd=_0x534ca3[_0x15fc2b(0x994)]||_0x308871[_0x15fc2b(0xcd7)];switch(_0x1ab3cd){case _0x15fc2b(0x6c4):if(_0x534ca3[_0x15fc2b(0x2da)]&&_0x534ca3['correctAnswerIndex']<_0x534ca3[_0x15fc2b(0x2da)][_0x15fc2b(0x357)]){const _0x56d7ac=_0x534ca3['options'][_0x534ca3[_0x15fc2b(0x3b0)]];_0x339bdb=_0x488c89[_0x15fc2b(0x844)]===_0x56d7ac;}break;case _0x15fc2b(0xa76):const _0x5886d1=_0x488c89['answer']===!![]||_0x488c89[_0x15fc2b(0xcba)]===_0x15fc2b(0xe0d);_0x339bdb=_0x5886d1===_0x534ca3[_0x15fc2b(0xbde)];break;case _0x15fc2b(0x1bc):_0x339bdb=_0x488c89[_0x15fc2b(0xcba)]===_0x534ca3[_0x15fc2b(0x2e8)];break;case _0x15fc2b(0xbc0):_0x339bdb=await gradeShortAnswer(_0x488c89['answer'],_0x534ca3);break;default:_0x339bdb=_0x488c89[_0x15fc2b(0x5ce)];break;}}if(_0x339bdb){_0x3a164c++,_0x1ce0a3++;if(_0x1ce0a3===0x3)_0xbf35aa['push'](BADGES['ON_FIRE']['id']);}else _0x1ce0a3=0x0;_0x143aa7[_0x15fc2b(0xce5)]({..._0x488c89,'isCorrect':_0x339bdb});}let _0x476318=0x0;const _0x15eb95=_0x2cbb05[_0x15fc2b(0xcc3)]===!![]||_0x2cbb05[_0x15fc2b(0x708)]>_0x308871['questions'][_0x15fc2b(0x357)]*0x14;_0x15eb95?_0x476318=_0x2cbb05['points']:(_0x476318=_0x3a164c*0xa,_0x3a164c===_0x308871[_0x15fc2b(0x4e6)][_0x15fc2b(0x357)]&&(_0x476318+=0x32,_0xbf35aa[_0x15fc2b(0xce5)](BADGES[_0x15fc2b(0xb36)]['id']))),_0x387fa5[_0x15fc2b(0xce5)]({..._0x2cbb05,'score':_0x3a164c,'points':_0x476318,'badges':Array[_0x15fc2b(0xb1b)](new Set(_0xbf35aa)),'answers':_0x143aa7});}const _0x1e2388=_0x387fa5[_0x15fc2b(0x357)]>0x0?_0x387fa5[0x0]['score']:0x0,_0x3d14da=Math[_0x15fc2b(0x417)](..._0x387fa5[_0x15fc2b(0x926)](_0x398e42=>_0x398e42[_0x15fc2b(0xe35)])),_0x28aa7b=_0x387fa5[_0x15fc2b(0x357)]>0x0?_0x387fa5[_0x387fa5[_0x15fc2b(0x357)]-0x1][_0x15fc2b(0xe35)]:0x0,_0x2deae8=_0x387fa5['length']>0x0?_0x387fa5[_0x387fa5[_0x15fc2b(0x357)]-0x1][_0x15fc2b(0x708)]:0x0,_0x1dbd28=doc(db,'artifacts/'+appId+_0x15fc2b(0x449)+_0x308871['id']+'/submissions',_0x5bffcc);await updateDoc(_0x1dbd28,{'attempts':_0x387fa5,'firstScore':_0x1e2388,'bestScore':_0x3d14da,'latestScore':_0x28aa7b,'points':_0x2deae8});}function cleanupQuizOptions(_0x2505a5){const _0x4d9ace=_0x1b93ee,_0x556ed5=(_0x1087d9,_0x50d517)=>_0x50d517===0x0?_0x1087d9:_0x556ed5(_0x50d517,_0x1087d9%_0x50d517),_0x587645=_0x3d7d49=>{const _0x1b10ac=_0x1173;if(typeof _0x3d7d49!=='string')return null;_0x3d7d49=_0x3d7d49[_0x1b10ac(0xb6d)]();const _0x12bed8=_0x3d7d49[_0x1b10ac(0x239)](/[ /]/)[_0x1b10ac(0x107)](_0x18c33a=>_0x18c33a!=='');if(_0x12bed8[_0x1b10ac(0x357)]===0x3)return parseInt(_0x12bed8[0x0])+parseInt(_0x12bed8[0x1])/parseInt(_0x12bed8[0x2]);else{if(_0x12bed8['length']===0x2)return parseInt(_0x12bed8[0x0])/parseInt(_0x12bed8[0x1]);else{if(_0x12bed8[_0x1b10ac(0x357)]===0x1&&!isNaN(_0x12bed8[0x0]))return parseFloat(_0x12bed8[0x0]);}}return null;},_0x42c272=_0x2ba4db=>{const _0x572ca5=_0x1173;if(typeof _0x2ba4db!==_0x572ca5(0x6de))return _0x2ba4db;const _0x370e30=_0x2ba4db[_0x572ca5(0x723)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x370e30){const _0x10ec34=parseInt(_0x370e30[0x1]);let _0x223e5d=parseInt(_0x370e30[0x2]),_0x362fa7=parseInt(_0x370e30[0x3]);const _0x207281=_0x556ed5(_0x223e5d,_0x362fa7);_0x223e5d/=_0x207281,_0x362fa7/=_0x207281;if(_0x362fa7===0x1)return(_0x10ec34+_0x223e5d)[_0x572ca5(0x95f)]();return _0x10ec34+'\x20'+_0x223e5d+'/'+_0x362fa7;}return _0x2ba4db;};return _0x2505a5&&_0x2505a5[_0x4d9ace(0x4e6)]&&_0x2505a5[_0x4d9ace(0x4e6)][_0x4d9ace(0x242)](_0x464492=>{const _0x21f8d4=_0x4d9ace;if(_0x464492[_0x21f8d4(0x994)]===_0x21f8d4(0x6c4)&&_0x464492[_0x21f8d4(0x2da)]){const _0x18b118=new Map(),_0x6c96ba=_0x464492[_0x21f8d4(0x2da)][_0x464492[_0x21f8d4(0x3b0)]];_0x464492[_0x21f8d4(0x2da)][_0x21f8d4(0x242)](_0xb111a8=>{const _0x4896e6=_0x21f8d4,_0x4220e6=_0x42c272(_0xb111a8),_0x47f660=_0x587645(_0x4220e6);_0x47f660!==null&&!_0x18b118[_0x4896e6(0x1b0)](_0x47f660)&&_0x18b118[_0x4896e6(0x136)](_0x47f660,_0x4220e6);}),_0x464492[_0x21f8d4(0x2da)]=Array[_0x21f8d4(0xb1b)](_0x18b118[_0x21f8d4(0x8d9)]());const _0x192c9c=_0x464492[_0x21f8d4(0x2da)][_0x21f8d4(0xe37)](_0x4c6f00=>_0x4c6f00===_0x42c272(_0x6c96ba));_0x464492[_0x21f8d4(0x3b0)]=_0x192c9c!==-0x1?_0x192c9c:0x0;}}),_0x2505a5;}function showGameStartConfirmationModal(_0x4fe82f,_0x2f4b0f,_0x3c536e){const _0x3c28e7=_0x1b93ee,_0x2b7bb6=document[_0x3c28e7(0x693)](_0x3c28e7(0xc09));document[_0x3c28e7(0x693)]('game-start-modal-title')[_0x3c28e7(0xc08)]='เริ่มกิจกรรม:\x20'+_0x3c536e,document[_0x3c28e7(0x693)](_0x3c28e7(0x769))[_0x3c28e7(0xc5c)]=_0x4fe82f,document[_0x3c28e7(0x693)](_0x3c28e7(0x695))[_0x3c28e7(0xc5c)]=_0x2f4b0f,document[_0x3c28e7(0x693)]('save-game-results-checkbox')['checked']=!![];const _0x4327e0=document[_0x3c28e7(0x693)]('sync-variant-selector'),_0x406826=document[_0x3c28e7(0x693)](_0x3c28e7(0xc60)),_0x38230f=document[_0x3c28e7(0x693)]('sync-timer-duration-container'),_0xbfd535=document[_0x3c28e7(0x693)](_0x3c28e7(0xb73)),_0x3133ee=document[_0x3c28e7(0x693)](_0x3c28e7(0xc34));if(_0x2f4b0f==='sync'){_0x4327e0['classList'][_0x3c28e7(0x200)](_0x3c28e7(0xa21));const _0x3aa75f=_0x3c28e7(0x47a);document[_0x3c28e7(0xbc1)](_0x3c28e7(0x6b7)+_0x3aa75f+'\x22]')[_0x3c28e7(0xb48)]=!![];if(_0x3133ee)_0x3133ee[_0x3c28e7(0x43c)][_0x3c28e7(0x200)](_0x3c28e7(0xa21));_0x406826[_0x3c28e7(0xb48)]=!![],_0x38230f[_0x3c28e7(0x43c)][_0x3c28e7(0x200)](_0x3c28e7(0xa21)),document['getElementById'](_0x3c28e7(0x581))[_0x3c28e7(0xc5c)]=_0x3c28e7(0x889),_0xbfd535[_0x3c28e7(0x43c)][_0x3c28e7(0x200)](_0x3c28e7(0xa21)),document['getElementById']('enable-black-market-checkbox')[_0x3c28e7(0xb48)]=!![];}else{_0x4327e0['classList'][_0x3c28e7(0x128)](_0x3c28e7(0xa21));if(_0x3133ee)_0x3133ee[_0x3c28e7(0x43c)][_0x3c28e7(0x128)](_0x3c28e7(0xa21));_0x406826['checked']=![],_0x38230f[_0x3c28e7(0x43c)][_0x3c28e7(0x128)](_0x3c28e7(0xa21)),_0xbfd535[_0x3c28e7(0x43c)]['add'](_0x3c28e7(0xa21));}_0x2b7bb6[_0x3c28e7(0x43c)][_0x3c28e7(0x200)](_0x3c28e7(0xa21));}async function saveGameResultsAsSubmissions(_0x592581){const _0x4c9188=_0x1b93ee;if(_0x592581[_0x4c9188(0x5f7)]){console[_0x4c9188(0xb20)](_0x4c9188(0xd85));return;}console[_0x4c9188(0xb20)](_0x4c9188(0x4ed),_0x592581);const _0x5d1ebe=_0x592581[_0x4c9188(0xbcc)];let _0x43ed32=[];if(_0x592581['players'])_0x43ed32=Object[_0x4c9188(0x7da)](_0x592581[_0x4c9188(0x18f)])['map'](([_0x22b949,_0x890337])=>({'name':_0x22b949,..._0x890337}));else{if(_0x592581[_0x4c9188(0x13e)])Object[_0x4c9188(0x8d9)](_0x592581[_0x4c9188(0x13e)])[_0x4c9188(0x242)](_0x4cad2e=>{const _0x2b7c38=_0x4c9188;_0x4cad2e[_0x2b7c38(0xa3c)][_0x2b7c38(0x242)](_0x4da9f7=>{const _0x55710c=_0x2b7c38;_0x43ed32[_0x55710c(0xce5)]({'name':_0x4da9f7,'score':_0x4cad2e['score'],'answers':_0x4cad2e['answers']});});});else _0x592581['responses']&&Object[_0x4c9188(0x7da)](_0x592581[_0x4c9188(0x77e)])[_0x4c9188(0x242)](([_0x9f3d72,_0x541af9])=>{const _0x8e0126=_0x4c9188;_0x43ed32[_0x8e0126(0xce5)]({'name':_0x9f3d72,..._0x541af9});});}if(_0x43ed32['length']===0x0){console['warn'](_0x4c9188(0xb0b));return;}const _0x454cb2=_0x592581[_0x4c9188(0xd4c)]?.['questions'][_0x4c9188(0x357)]||currentQuizData['questions'][_0x4c9188(0x357)],_0x21ca44=writeBatch(db);for(const _0x4770ad of _0x43ed32){const _0x1f08d0=doc(db,'artifacts/'+appId+_0x4c9188(0x449)+_0x5d1ebe+_0x4c9188(0xddf),_0x4770ad['name']),_0x1be418=(_0x4770ad[_0x4c9188(0x7f4)]||[])[_0x4c9188(0x107)](_0xe26433=>_0xe26433[_0x4c9188(0x5ce)])[_0x4c9188(0x357)];let _0x19938f=_0x4770ad['totalPoints']!==undefined?_0x4770ad[_0x4c9188(0x568)]:_0x1be418,_0x982a85=_0x4770ad[_0x4c9188(0x55a)]||[];_0x1be418===_0x454cb2&&_0x454cb2>0x0&&(!_0x982a85[_0x4c9188(0x8bb)]('perfect_score')&&_0x982a85[_0x4c9188(0xce5)](_0x4c9188(0x614)));const _0x15eb8c={'score':_0x1be418,'points':_0x19938f,'badges':_0x982a85,'submittedAt':new Date()[_0x4c9188(0xdfc)](),'isSyncGame':!![],'answers':(_0x4770ad[_0x4c9188(0x7f4)]||[])[_0x4c9188(0x926)](_0x44370c=>({'questionId':_0x44370c[_0x4c9188(0x71d)],'answer':_0x44370c[_0x4c9188(0xcba)],'answerText':_0x44370c[_0x4c9188(0x844)],'isCorrect':_0x44370c['isCorrect'],'originalQuestionText':_0x44370c[_0x4c9188(0x9ca)],'wasConfident':_0x44370c['wasConfident'],'powerupUsed':_0x44370c[_0x4c9188(0x261)]||null}))},_0x4578e6=await getDoc(_0x1f08d0),_0x31e3df=_0x4578e6[_0x4c9188(0x5a9)]()?_0x4578e6[_0x4c9188(0x7d4)]():{},_0x131517=_0x31e3df[_0x4c9188(0xda6)]||0x0,_0x493799=_0x31e3df['attempts']||[];_0x493799[_0x4c9188(0x357)]===0x0&&_0x1be418===_0x454cb2&&_0x454cb2>0x0&&(!_0x15eb8c[_0x4c9188(0x55a)][_0x4c9188(0x8bb)](_0x4c9188(0xbaf))&&_0x15eb8c[_0x4c9188(0x55a)][_0x4c9188(0xce5)]('first_try_ace'));const _0x2bf7d1={'studentName':_0x4770ad['name'],'totalQuestions':_0x454cb2,'attempts':arrayUnion(_0x15eb8c),'latestScore':_0x1be418,'points':_0x19938f,'latestSubmittedAt':_0x15eb8c[_0x4c9188(0x8f0)],'bestScore':Math[_0x4c9188(0x417)](_0x131517,_0x1be418),'firstScore':_0x493799['length']===0x0?_0x1be418:_0x31e3df['firstScore']||0x0};_0x21ca44['set'](_0x1f08d0,_0x2bf7d1,{'merge':!![]});}try{if(currentLiveGameId){const _0x29fb49=doc(db,_0x4c9188(0xe45)+appId+'/public/data/syncGames',currentLiveGameId);_0x21ca44['update'](_0x29fb49,{'resultsSaved':!![]});}await _0x21ca44[_0x4c9188(0x480)](),showMessage(_0x4c9188(0x30c)+_0x43ed32[_0x4c9188(0x357)]+_0x4c9188(0x526));const _0x30275b=_0x592581['shuffledQuiz']?.[_0x4c9188(0x3a0)]||currentQuizData?.[_0x4c9188(0x3a0)]||currentProjectId;if(_0x30275b){const _0xe956b1=[...new Set(_0x43ed32['map'](_0xea7b7a=>_0xea7b7a[_0x4c9188(0x41d)]))];for(const _0x410c5d of _0xe956b1){await updateStudentProfile(_0x30275b,_0x410c5d);}}}catch(_0x1bd5ca){console[_0x4c9188(0x75e)](_0x4c9188(0xbb6),_0x1bd5ca),showMessage(_0x4c9188(0x25c));}}async function saveQuiz(_0x38901a=null,_0x49ef71=null){const _0x2210c3=_0x1b93ee,_0x55110d=_0x38901a||currentProjectId;if(!_0x55110d){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2210c3(0x4e6)]||!userId){showMessage(_0x2210c3(0x5de));return;}const _0x4e319c=document[_0x2210c3(0x693)](_0x2210c3(0x6a7));_0x4e319c[_0x2210c3(0xe12)]=!![],_0x4e319c[_0x2210c3(0xc8c)]=_0x2210c3(0x78d);const _0x4d0ba6=document[_0x2210c3(0x693)]('pre-test-checkbox')['checked'];let _0x2d5788=document[_0x2210c3(0x693)](_0x2210c3(0xc77))[_0x2210c3(0x79a)][_0x2210c3(0xb6d)]();_0x4d0ba6&&!_0x2d5788[_0x2210c3(0x3a6)](_0x2210c3(0xc7e))&&(_0x2d5788=_0x2210c3(0x61a)+_0x2d5788);try{const _0x5ade08={'resultsDisplay':document[_0x2210c3(0x693)](_0x2210c3(0x57e))[_0x2210c3(0xc5c)],'shuffle':document[_0x2210c3(0x693)]('shuffle-setting-select')[_0x2210c3(0xc5c)],'timerMode':document[_0x2210c3(0x693)]('timer-mode-select')[_0x2210c3(0xc5c)],'timerDuration':parseInt(document[_0x2210c3(0x693)](_0x2210c3(0x24b))[_0x2210c3(0xc5c)])||0xa,'passingScore':parseInt(document['getElementById'](_0x2210c3(0x4c6))[_0x2210c3(0xc5c)])||0x0,'isAdaptive':document[_0x2210c3(0x693)](_0x2210c3(0x29d))['checked'],'loopUntilPass':document[_0x2210c3(0x693)](_0x2210c3(0x817))[_0x2210c3(0xb48)]},_0x562ad9=(currentQuizData[_0x2210c3(0x4e6)]||[])[_0x2210c3(0x926)]((_0x3e7182,_0x51e819)=>{const _0x5a4d5d=_0x2210c3,_0x4cf90a=document['getElementById'](_0x5a4d5d(0x371))[_0x5a4d5d(0xc5c)],_0x35fd74={'id':'q_'+Date['now']()+'_'+_0x51e819,'questionText':_0x3e7182[_0x5a4d5d(0xd6a)]||'','explanation':_0x3e7182[_0x5a4d5d(0xad8)]||'ไม่มีคำอธิบาย','questionType':_0x3e7182[_0x5a4d5d(0x994)]||_0x4cf90a,'imageCode':_0x3e7182[_0x5a4d5d(0xabc)]||null};return(_0x35fd74[_0x5a4d5d(0x994)]===_0x5a4d5d(0x6c4)||_0x35fd74[_0x5a4d5d(0x994)]===_0x5a4d5d(0x7fc)||_0x35fd74['questionType']==='mixed'&&_0x3e7182['options'])&&(_0x35fd74[_0x5a4d5d(0x2da)]=_0x3e7182[_0x5a4d5d(0x2da)]||[],_0x35fd74[_0x5a4d5d(0x3b0)]=_0x3e7182[_0x5a4d5d(0x3b0)]!==undefined?_0x3e7182[_0x5a4d5d(0x3b0)]:0x0),(_0x35fd74[_0x5a4d5d(0x994)]===_0x5a4d5d(0xbc0)||_0x35fd74['questionType']===_0x5a4d5d(0x236)||_0x35fd74[_0x5a4d5d(0x994)]==='mixed'&&_0x3e7182['idealAnswer'])&&(_0x35fd74[_0x5a4d5d(0x9ee)]=_0x3e7182[_0x5a4d5d(0x9ee)]||''),_0x35fd74[_0x5a4d5d(0x994)]===_0x5a4d5d(0xa76)&&(_0x35fd74['correctAnswer']=_0x3e7182[_0x5a4d5d(0xbde)]===!![]),_0x35fd74[_0x5a4d5d(0x994)]===_0x5a4d5d(0x1bc)&&(_0x35fd74[_0x5a4d5d(0x87a)]=_0x3e7182['stem']||'',_0x35fd74['correctResponse']=_0x3e7182['correctResponse']||'',_0x35fd74['allResponses']=_0x3e7182[_0x5a4d5d(0xd3d)]||[]),_0x35fd74;}),_0x484ac1={'topic':_0x2d5788,'quizType':currentQuizData['quizType']||_0x2210c3(0x6c4),'questions':_0x562ad9,'projectId':_0x55110d,'createdBy':userId,'createdAt':new Date()[_0x2210c3(0xdfc)](),'status':_0x2210c3(0x69a),'settings':_0x5ade08,'quizMode':_0x4d0ba6?_0x2210c3(0xbe3):_0x2210c3(0x90e),'pairedQuizId':null,'lessonPlan':null};let _0x53c539;while(!![]){_0x53c539=Math[_0x2210c3(0x567)](0x3e8+Math[_0x2210c3(0x281)]()*0x2328)[_0x2210c3(0x95f)]();const _0x24b145=await getDoc(doc(db,_0x2210c3(0xe45)+appId+'/public/data/quizzes',_0x53c539));if(!_0x24b145[_0x2210c3(0x5a9)]())break;}await setDoc(doc(db,_0x2210c3(0xe45)+appId+_0x2210c3(0x868),_0x53c539),_0x484ac1);if(_0x49ef71&&currentBlueprintProjectId){console[_0x2210c3(0xb20)](_0x2210c3(0x9ad)+_0x53c539+_0x2210c3(0xe7b)+_0x49ef71);try{const _0x3afd80=doc(db,_0x2210c3(0xe45)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3afd80,{[_0x2210c3(0xdc6)+_0x49ef71+_0x2210c3(0x2d8)]:arrayUnion(_0x53c539)});}catch(_0x43e1ca){console['error'](_0x2210c3(0x3cc),_0x43e1ca);}}currentQuizData['settings']=_0x5ade08,currentQuizData['id']=_0x53c539;const _0x42501f=document['getElementById'](_0x2210c3(0xa01));_0x42501f['innerHTML']=_0x2210c3(0xbc6)+_0x53c539+_0x2210c3(0x7c9),document[_0x2210c3(0x693)](_0x2210c3(0x475))['addEventListener'](_0x2210c3(0x2df),()=>copyTextToClipboard(_0x53c539,_0x2210c3(0xe55))),document['getElementById']('start-live-race-generated-btn')[_0x2210c3(0x5e0)](_0x2210c3(0x2df),()=>handleStartLiveRace(_0x53c539)),document['getElementById'](_0x2210c3(0xd91))['addEventListener'](_0x2210c3(0x2df),()=>startPresentation(currentQuizData)),document['getElementById'](_0x2210c3(0xb4e))[_0x2210c3(0x5e0)](_0x2210c3(0x2df),startAdminTest),showMessage(_0x2210c3(0x959));}catch(_0x1f5b75){console[_0x2210c3(0x75e)](_0x2210c3(0x6cb),_0x1f5b75),showMessage(_0x2210c3(0xbd2));}finally{_0x4e319c[_0x2210c3(0xe12)]=![],_0x4e319c[_0x2210c3(0xc8c)]=_0x2210c3(0xd29);}}function promptForProjectAndSave(){const _0x5c6c0f=_0x1b93ee,_0x18fb43=document[_0x5c6c0f(0x693)]('move-quiz-modal'),_0x1f7a11=document[_0x5c6c0f(0x693)](_0x5c6c0f(0x6c8)),_0x3ac8d2=_0x18fb43['querySelector']('h3'),_0x4b2765=document['getElementById']('confirm-move-quiz-btn');_0x3ac8d2[_0x5c6c0f(0xc08)]='เลือกโปรเจคเพื่อบันทึก',_0x4b2765[_0x5c6c0f(0xc08)]='เลือกและบันทึก';allProjects[_0x5c6c0f(0x357)]===0x0?(_0x1f7a11['innerHTML']=_0x5c6c0f(0x874),_0x4b2765[_0x5c6c0f(0xe12)]=!![]):(_0x1f7a11[_0x5c6c0f(0xc8c)]=allProjects['map'](_0x1676bd=>_0x5c6c0f(0x1fe)+_0x1676bd['id']+'\x22>'+_0x1676bd[_0x5c6c0f(0x21c)]+_0x5c6c0f(0x280))[_0x5c6c0f(0xd7b)](''),_0x4b2765[_0x5c6c0f(0xe12)]=![]);_0x18fb43[_0x5c6c0f(0x43c)][_0x5c6c0f(0x200)](_0x5c6c0f(0xa21));const _0x4b9070=()=>{const _0x47ed80=_0x5c6c0f,_0x19220b=_0x1f7a11[_0x47ed80(0xc5c)];_0x19220b?(currentProjectId=_0x19220b,_0x18fb43[_0x47ed80(0x43c)][_0x47ed80(0x128)](_0x47ed80(0xa21)),saveQuiz(),_0x3ac8d2[_0x47ed80(0xc08)]=_0x47ed80(0xa0e),_0x4b2765[_0x47ed80(0xc08)]=_0x47ed80(0x23f),_0x4b2765[_0x47ed80(0x663)](_0x47ed80(0x2df),_0x4b9070),_0x4b2765[_0x47ed80(0x5e0)](_0x47ed80(0x2df),confirmMoveQuiz)):showMessage(_0x47ed80(0xbec));};_0x4b2765[_0x5c6c0f(0x663)](_0x5c6c0f(0x2df),confirmMoveQuiz),_0x4b2765[_0x5c6c0f(0x5e0)](_0x5c6c0f(0x2df),_0x4b9070);}function copyTextToClipboard(_0x3c1d02,_0xa098be){const _0x29c40c=_0x1b93ee,_0x3305fd=document[_0x29c40c(0x1a7)](_0x29c40c(0xced));_0x3305fd['value']=_0x3c1d02,_0x3305fd[_0x29c40c(0x77b)][_0x29c40c(0x17c)]='fixed',_0x3305fd[_0x29c40c(0x77b)]['opacity']='0',document[_0x29c40c(0xc69)]['appendChild'](_0x3305fd),_0x3305fd[_0x29c40c(0x9b3)](),_0x3305fd[_0x29c40c(0x414)]();try{const _0x1b1a82=document[_0x29c40c(0xe83)]('copy');showMessage(_0x1b1a82?_0xa098be:'คัดลอกไม่สำเร็จ');}catch(_0x10cf1b){showMessage(_0x29c40c(0x55e)),console[_0x29c40c(0x75e)](_0x29c40c(0x4a2),_0x10cf1b);}document['body'][_0x29c40c(0xb42)](_0x3305fd);}function listenForProjectQuizzes(_0x498757){const _0x512843=_0x1b93ee,_0x356a67=collection(db,'artifacts/'+appId+_0x512843(0x868)),_0x151bd6=query(_0x356a67,where(_0x512843(0x3a0),'==',_0x498757));unsubscribeQuizzesListener=onSnapshot(_0x151bd6,async _0x245c8e=>{const _0x142303=_0x512843;allQuizzes=_0x245c8e[_0x142303(0x34d)]['map'](_0x5cd581=>({'id':_0x5cd581['id'],..._0x5cd581['data']()})),renderQuizzes();},_0x7422a4=>{const _0x5a3bda=_0x512843;console[_0x5a3bda(0x75e)](_0x5a3bda(0xb82),_0x7422a4),document['getElementById']('project-quizzes-list')['innerHTML']=_0x5a3bda(0xce6);});}async function renderQuizzes(){const _0x3e270c=_0x1b93ee,_0x1eb8ad=document[_0x3e270c(0x693)](_0x3e270c(0x58a)),_0x318ce4=document['getElementById']('quiz-search-input')['value'][_0x3e270c(0x95a)]();let _0x3f837e;currentProjectId===_0x3e270c(0xdbe)?_0x3f837e=starredQuizzes:_0x3f837e=allQuizzes;let _0x1a78b0=_0x3f837e[_0x3e270c(0x107)](_0x5c2f6c=>_0x5c2f6c[_0x3e270c(0x669)][_0x3e270c(0x95a)]()[_0x3e270c(0x8bb)](_0x318ce4));_0x1a78b0['sort']((_0x142488,_0x46de31)=>new Date(_0x46de31[_0x3e270c(0x702)])-new Date(_0x142488[_0x3e270c(0x702)]));if(_0x1a78b0[_0x3e270c(0x357)]===0x0){_0x1eb8ad['innerHTML']=_0x3e270c(0xdb9);return;}const _0x1deaee={},_0x3fe369=_0x1a78b0[_0x3e270c(0x926)](async _0xeffdd7=>{const _0x5f1c0a=_0x3e270c,_0x342ad7=collection(db,_0x5f1c0a(0xe45)+appId+_0x5f1c0a(0x449)+_0xeffdd7['id']+_0x5f1c0a(0xddf)),_0x210628=await getDocs(_0x342ad7);_0x1deaee[_0xeffdd7['id']]=_0x210628[_0x5f1c0a(0x80b)];});await Promise['all'](_0x3fe369);let _0x7452c1='';_0x1a78b0['forEach'](_0x32a9cb=>{const _0x553f70=_0x3e270c,_0x342c00=_0x1deaee[_0x32a9cb['id']]||0x0,_0x4eaddb=_0x32a9cb['status']||_0x553f70(0x69a),_0x49a349=_0x32a9cb[_0x553f70(0x3f0)]?.[_0x553f70(0x2d9)]||'none';let _0x1e143d='',_0x9af699='';const _0x1d4504=new Date();let _0x535e04=_0x4eaddb;if(_0x4eaddb===_0x553f70(0x4a0)){const _0x495941=_0x32a9cb[_0x553f70(0x7dd)]?new Date(_0x32a9cb[_0x553f70(0x7dd)]):null,_0xbaa9fc=_0x32a9cb[_0x553f70(0xa0a)]?new Date(_0x32a9cb[_0x553f70(0xa0a)]):null;if(_0xbaa9fc&&_0x1d4504>_0xbaa9fc)_0x535e04=_0x553f70(0xe4d);else _0x495941&&_0x1d4504<_0x495941?_0x535e04=_0x553f70(0xac8):_0x535e04=_0x553f70(0x69a);}switch(_0x535e04){case _0x553f70(0xe4d):_0x1e143d=_0x553f70(0x29e),_0x9af699=_0x553f70(0xc97);break;case _0x553f70(0xac8):_0x1e143d=_0x553f70(0xcfe),_0x9af699='text-blue-700\x20bg-blue-100';break;case _0x553f70(0x69a):_0x1e143d=_0x49a349!==_0x553f70(0x2c6)?'เปิด\x20(จับเวลา)':_0x553f70(0xd25),_0x9af699=_0x553f70(0x1c5);break;default:_0x1e143d=_0x553f70(0x419),_0x9af699=_0x553f70(0x1c5);break;}let _0x1cafe8='';const _0x26eb32={'day':_0x553f70(0xaf7),'month':_0x553f70(0xaf7),'year':_0x553f70(0xb74),'hour':_0x553f70(0xaf7),'minute':_0x553f70(0xaf7),'hour12':![]};if(_0x4eaddb==='scheduled'){if(_0x32a9cb['startTime'])_0x1cafe8+=_0x553f70(0x969)+new Date(_0x32a9cb[_0x553f70(0x7dd)])['toLocaleString'](_0x553f70(0xda2),_0x26eb32)+_0x553f70(0x3ee);if(_0x32a9cb['endTime'])_0x1cafe8+=_0x553f70(0x650)+new Date(_0x32a9cb[_0x553f70(0xa0a)])['toLocaleString'](_0x553f70(0xda2),_0x26eb32)+_0x553f70(0x3ee);}let _0x3f705a='';if(_0x32a9cb[_0x553f70(0x834)]){const _0x4eb202=allQuizzes['find'](_0x8110b3=>_0x8110b3['id']===_0x32a9cb['pairedQuizId']);if(_0x4eb202){let _0x216cc2,_0x35df76;new Date(_0x32a9cb['createdAt'])<new Date(_0x4eb202['createdAt'])?(_0x216cc2=_0x32a9cb['id'],_0x35df76=_0x4eb202['id']):(_0x216cc2=_0x4eb202['id'],_0x35df76=_0x32a9cb['id']),_0x3f705a+=_0x553f70(0xe41)+_0x35df76+_0x553f70(0x679)+_0x216cc2+_0x553f70(0xa2a);}}else _0x32a9cb[_0x553f70(0x358)]===_0x553f70(0xbe3)&&(_0x3f705a+=_0x553f70(0x38b)+_0x32a9cb['id']+_0x553f70(0x442));if(_0x32a9cb['quizMode']==='pre-test'&&_0x342c00>0x0)_0x3f705a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0xc64);else!_0x32a9cb['pairedQuizId']&&_0x32a9cb[_0x553f70(0x358)]!=='pre-test'&&_0x342c00>0x0&&(_0x3f705a+=_0x553f70(0x38b)+_0x32a9cb['id']+_0x553f70(0x852));let _0x42ea33='';_0x32a9cb[_0x553f70(0x834)]?_0x42ea33='<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0x9b7):_0x42ea33='<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0xcf3);const _0x2bf5ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0x2cb);_0x7452c1+=_0x553f70(0x733)+_0x32a9cb['id']+_0x553f70(0x35a)+_0x32a9cb[_0x553f70(0x669)]+_0x553f70(0x62f)+_0x32a9cb[_0x553f70(0x4e6)]['length']+_0x553f70(0xa47)+new Date(_0x32a9cb[_0x553f70(0x702)])['toLocaleString'](_0x553f70(0xda2))+_0x553f70(0xe21)+_0x342c00+_0x553f70(0x191)+_0x1cafe8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x9af699+'\x22>'+_0x1e143d+_0x553f70(0x870)+_0x32a9cb['id']+_0x553f70(0x3ba)+_0x32a9cb['id']+_0x553f70(0x773)+(_0x32a9cb[_0x553f70(0x34e)]?_0x553f70(0x928):_0x553f70(0x524))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f705a+_0x553f70(0x15a)+_0x2bf5ad+_0x553f70(0xb31)+_0x32a9cb['id']+_0x553f70(0xc2a)+_0x32a9cb['id']+_0x553f70(0x815)+_0x32a9cb['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0x647)+_0x32a9cb['id']+_0x553f70(0x173)+_0x32a9cb['id']+_0x553f70(0x8e4)+_0x32a9cb['id']+_0x553f70(0x998)+_0x32a9cb['topic']+_0x553f70(0x33c)+_0x32a9cb['id']+_0x553f70(0x62c)+_0x32a9cb['id']+_0x553f70(0x5d3)+_0x42ea33+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x32a9cb['id']+_0x553f70(0x86b)+_0x32a9cb['id']+_0x553f70(0xdbb)+_0x32a9cb['id']+_0x553f70(0x16b)+_0x32a9cb['id']+'\x22\x20data-topic=\x22'+_0x32a9cb[_0x553f70(0x669)]+_0x553f70(0x9c6)+_0x32a9cb['id']+_0x553f70(0x21f);}),_0x1eb8ad['innerHTML']=_0x7452c1,document[_0x3e270c(0xe56)](_0x3e270c(0x7e3))[_0x3e270c(0x242)](_0x1391a3=>{const _0x1882ae=_0x3e270c;_0x1391a3['addEventListener'](_0x1882ae(0x2df),()=>{const _0x1209cd=_0x1882ae,_0x12180c=_0x1391a3['dataset'][_0x1209cd(0xbcc)];showQuizDetailView(_0x12180c);});});}async function handleUnpairQuiz(_0x508bd6){const _0x58d5d8=_0x1b93ee,_0x3a5641=allQuizzes[_0x58d5d8(0xe69)](_0x4c9112=>_0x4c9112['id']===_0x508bd6);if(!_0x3a5641||!_0x3a5641[_0x58d5d8(0x834)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x58d5d8(0xcf4),async()=>{const _0x172732=_0x58d5d8;try{const _0x3f7a4a=doc(db,_0x172732(0xe45)+appId+_0x172732(0x868),_0x508bd6),_0x58b2d8=doc(db,'artifacts/'+appId+_0x172732(0x868),_0x3a5641[_0x172732(0x834)]),_0x2b6318=writeBatch(db);_0x2b6318[_0x172732(0x973)](_0x3f7a4a,{'pairedQuizId':null}),_0x2b6318['update'](_0x58b2d8,{'pairedQuizId':null}),await _0x2b6318[_0x172732(0x480)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x1fabcb){console[_0x172732(0x75e)](_0x172732(0xda0),_0x1fabcb),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x9bf60c,_0x120cb8){const _0x77bd26=_0x1b93ee,_0x53869a=window[_0x77bd26(0x5da)]('',_0x77bd26(0x8b0)),_0x167751=_0x77bd26(0x2a3)+_0x120cb8[_0x77bd26(0x669)]+_0x77bd26(0x820)+_0x120cb8[_0x77bd26(0x669)]+_0x77bd26(0x825)+_0x9bf60c[_0x77bd26(0x7f2)][_0x77bd26(0x926)](_0x56fafe=>_0x77bd26(0x39e)+_0x56fafe+_0x77bd26(0x7d5))['join']('')+_0x77bd26(0x6ed)+_0x9bf60c['teachingContent']+_0x77bd26(0x530)+_0x9bf60c[_0x77bd26(0xa93)][_0x77bd26(0x926)](_0x2c81a2=>_0x77bd26(0x31b)+_0x2c81a2[_0x77bd26(0x776)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x2c81a2[_0x77bd26(0xb9f)]+_0x77bd26(0x75a))[_0x77bd26(0xd7b)]('')+_0x77bd26(0xb0f);_0x53869a[_0x77bd26(0x488)][_0x77bd26(0x2d2)](_0x167751),_0x53869a[_0x77bd26(0x488)]['close'](),_0x53869a[_0x77bd26(0x8f1)]=function(){setTimeout(()=>{_0x53869a['print']();},0x3e8);};}async function handleAiFixFormula(_0x58b30d){const _0x44c64e=_0x1b93ee,_0x23ce02=document[_0x44c64e(0xbc1)](_0x44c64e(0x2bf)+_0x58b30d+'\x22]');if(!_0x23ce02)return;const _0xffdd3e=_0x23ce02[_0x44c64e(0x43d)]['qType'],_0x321a94=_0x23ce02['querySelector'](_0x44c64e(0x7ae));let _0xf5e135={'question':_0x23ce02[_0x44c64e(0xbc1)](_0x44c64e(0xced))['value']};switch(_0xffdd3e){case'multiple_choice':_0xf5e135['options']=Array[_0x44c64e(0xb1b)](_0x23ce02[_0x44c64e(0xe56)](_0x44c64e(0xafa)))[_0x44c64e(0x926)](_0x268a03=>_0x268a03[_0x44c64e(0xc5c)]);break;case _0x44c64e(0x236):case _0x44c64e(0xbc0):_0xf5e135['idealAnswer']=_0x23ce02[_0x44c64e(0xbc1)](_0x44c64e(0x6d0))[_0x44c64e(0xc5c)];break;case _0x44c64e(0x1bc):_0xf5e135[_0x44c64e(0x2e8)]=_0x23ce02[_0x44c64e(0xbc1)]('.correct-response-input')[_0x44c64e(0xc5c)];break;}_0x321a94[_0x44c64e(0xc8c)]=_0x44c64e(0x1c7),_0x321a94[_0x44c64e(0xe12)]=!![];try{const _0x29e22c=_0x44c64e(0x831)+JSON[_0x44c64e(0x1f9)](_0xf5e135)+_0x44c64e(0x536),_0x2bb2cb={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x44c64e(0x17d),'items':{'type':_0x44c64e(0x47c)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x44c64e(0x47c)}},'required':[_0x44c64e(0x776)]}},'required':[_0x44c64e(0x975)]},_0x4f2f72=await callAnalysisApi(_0x29e22c,_0x2bb2cb);if(_0x4f2f72&&_0x4f2f72[_0x44c64e(0x975)]){const _0x4298f8=_0x4f2f72[_0x44c64e(0x975)];_0x23ce02[_0x44c64e(0xbc1)]('textarea')[_0x44c64e(0xc5c)]=_0x4298f8['question']||_0xf5e135['question'];switch(_0xffdd3e){case _0x44c64e(0x6c4):_0x4298f8[_0x44c64e(0x2da)]&&_0x4298f8['options'][_0x44c64e(0x357)]>0x0&&_0x23ce02[_0x44c64e(0xe56)]('input[type=\x22text\x22]')[_0x44c64e(0x242)]((_0x2ec08f,_0x101cca)=>{const _0x1357f2=_0x44c64e;_0x2ec08f['value']=_0x4298f8[_0x1357f2(0x2da)][_0x101cca]||_0xf5e135['options'][_0x101cca];});break;case'fill_in_no_choices':case'short_answer':_0x23ce02[_0x44c64e(0xbc1)](_0x44c64e(0x6d0))[_0x44c64e(0xc5c)]=_0x4298f8[_0x44c64e(0x9ee)]||_0xf5e135[_0x44c64e(0x9ee)];break;case _0x44c64e(0x1bc):_0x23ce02[_0x44c64e(0xbc1)](_0x44c64e(0xe0f))[_0x44c64e(0xc5c)]=_0x4298f8['correctResponse']||_0xf5e135['correctResponse'];break;}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x44c64e(0xe4a));}catch(_0x54e386){console['error'](_0x44c64e(0x531),_0x54e386),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x321a94[_0x44c64e(0xc8c)]=_0x44c64e(0x142),_0x321a94[_0x44c64e(0xe12)]=![];}}async function handleGenerateLessonPlan(_0x1dba65){const _0x147a84=_0x1b93ee;showMessage(_0x147a84(0x14f));try{const _0x9cdad6=doc(db,_0x147a84(0xe45)+appId+'/public/data/quizzes',_0x1dba65),_0x2b6686=await getDoc(_0x9cdad6);if(!_0x2b6686[_0x147a84(0x5a9)]())throw new Error(_0x147a84(0xe1b));const _0x36eefd={'id':_0x1dba65,..._0x2b6686['data']()},_0x169292=collection(db,_0x147a84(0xe45)+appId+_0x147a84(0x868),_0x1dba65,_0x147a84(0xd36)),_0x26aace=await getDocs(_0x169292),_0xa1db94=_0x26aace[_0x147a84(0x34d)][_0x147a84(0x926)](_0x4f752d=>_0x4f752d[_0x147a84(0x7d4)]());if(_0xa1db94[_0x147a84(0x357)]===0x0)throw new Error(_0x147a84(0xbc5));const _0x23e290=calculateItemAnalysis(_0x36eefd,_0xa1db94)[_0x147a84(0xde5)],_0x5420dd=calculateDistractorAnalysis(_0x36eefd,_0xa1db94),_0x2de0d9=_0x3ff636=>{const _0x198b45=_0x147a84;if(!_0x3ff636)return'';return _0x3ff636[_0x198b45(0x5cc)](/\\/g,'\x5c\x5c')[_0x198b45(0x5cc)](/"/g,'\x5c\x22')[_0x198b45(0x5cc)](/\n/g,'\x5cn');};let _0x49dfe5=_0x147a84(0xbea);_0x36eefd[_0x147a84(0x4e6)]['forEach']((_0x25f794,_0x38b097)=>{const _0x35a12d=_0x147a84,_0xfe8440=_0x23e290[_0x38b097]?.['p'][_0x35a12d(0x8ed)](0x2)||_0x35a12d(0xe7d),_0x1c2a33=_0x23e290[_0x38b097]?.['r']['toFixed'](0x2)||_0x35a12d(0xe7d),_0x3e0ffc=_0x2de0d9(_0x25f794[_0x35a12d(0xd6a)]||_0x25f794[_0x35a12d(0x87a)]);_0x49dfe5+=_0x35a12d(0x83c)+(_0x38b097+0x1)+_0x35a12d(0xa68)+_0xfe8440+_0x35a12d(0xba9)+_0x1c2a33+'):\x20'+_0x3e0ffc+'\x5cn';if(_0x25f794[_0x35a12d(0x994)]===_0x35a12d(0x6c4)&&_0x5420dd[_0x38b097]){const _0x3de306=_0x5420dd[_0x38b097],_0x569854=Object['keys'](_0x3de306)['filter'](_0x48409b=>parseInt(_0x48409b)!==_0x25f794[_0x35a12d(0x3b0)])['sort']((_0x413dae,_0x231101)=>_0x3de306[_0x231101][_0x35a12d(0xd88)]-_0x3de306[_0x413dae][_0x35a12d(0xd88)])[0x0];if(_0x569854&&_0x3de306[_0x569854][_0x35a12d(0xd88)]>0x0){const _0x3051c3=_0x2de0d9(_0x3de306[_0x569854][_0x35a12d(0x2dc)]);_0x49dfe5+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3051c3+_0x35a12d(0xa13);}}});const _0x49c3a0=_0x147a84(0x6c7)+_0x36eefd[_0x147a84(0x669)]+_0x147a84(0xd46)+_0x49dfe5+_0x147a84(0x899),_0x3d610f={'type':'OBJECT','properties':{'learningGaps':{'type':_0x147a84(0x17d),'items':{'type':_0x147a84(0x47c)}},'teachingContent':{'type':_0x147a84(0x47c)},'practiceProblems':{'type':_0x147a84(0x17d),'items':{'type':'OBJECT','properties':{'question':{'type':_0x147a84(0x47c)},'solution':{'type':_0x147a84(0x47c)}}}}},'required':[_0x147a84(0x7f2),'teachingContent',_0x147a84(0xa93)]},_0x3eb4e6=await callAnalysisApi(_0x49c3a0,_0x3d610f);await updateDoc(_0x9cdad6,{'lessonPlan':_0x3eb4e6});const _0xb82962='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x36eefd[_0x147a84(0x669)]+_0x147a84(0xe46)+_0x3eb4e6[_0x147a84(0x7f2)]['map'](_0x29745f=>_0x147a84(0x39e)+_0x29745f+'</li>')['join']('')+_0x147a84(0xa74)+_0x3eb4e6['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3eb4e6[_0x147a84(0xa93)][_0x147a84(0x926)](_0x4c0e26=>_0x147a84(0x4e4)+_0x4c0e26[_0x147a84(0x776)]+_0x147a84(0xa5b)+_0x4c0e26[_0x147a84(0xb9f)]+_0x147a84(0x455))[_0x147a84(0xd7b)]('')+_0x147a84(0x25b);document[_0x147a84(0x693)]('lesson-plan-title')[_0x147a84(0xc08)]='แผนการสอน:\x20'+_0x36eefd[_0x147a84(0x669)],document['getElementById'](_0x147a84(0x13c))['innerHTML']=_0xb82962,document[_0x147a84(0x693)]('lesson-plan-modal')[_0x147a84(0x43c)]['remove'](_0x147a84(0xa21));if(window['MathJax'])MathJax[_0x147a84(0x840)]();messageModal[_0x147a84(0x43c)]['add'](_0x147a84(0xa21));}catch(_0x32c1fd){console[_0x147a84(0x75e)]('Error\x20generating\x20lesson\x20plan:',_0x32c1fd),showMessage('เกิดข้อผิดพลาด:\x20'+_0x32c1fd[_0x147a84(0x340)]);}}async function handleDuplicateQuiz(_0x5c3385){const _0x49e49d=_0x1b93ee;try{const _0x5c83b3=doc(db,_0x49e49d(0xe45)+appId+'/public/data/quizzes',_0x5c3385),_0xf7aec8=await getDoc(_0x5c83b3);if(_0xf7aec8[_0x49e49d(0x5a9)]()){const _0x189e81=_0xf7aec8[_0x49e49d(0x7d4)]();let _0x251851='',_0x324be0=_0x49e49d(0x90e),_0xa5faa=null;if(_0x189e81['quizMode']===_0x49e49d(0xbe3)){let _0x2190a3=_0x189e81[_0x49e49d(0x669)][_0x49e49d(0x5cc)](_0x49e49d(0xc7e),'')['trim']();_0x251851=_0x49e49d(0xaad)+_0x2190a3,_0x324be0=_0x49e49d(0x600),_0xa5faa=_0x5c3385;}else _0x251851=_0x49e49d(0xa56)+_0x189e81[_0x49e49d(0x669)];const _0x47c121={..._0x189e81,'topic':_0x251851,'createdAt':new Date()[_0x49e49d(0xdfc)](),'quizMode':_0x324be0,'pairedQuizId':_0xa5faa};let _0x4ba2e0;while(!![]){_0x4ba2e0=Math[_0x49e49d(0x567)](0x3e8+Math[_0x49e49d(0x281)]()*0x2328)[_0x49e49d(0x95f)]();const _0x18dede=await getDoc(doc(db,_0x49e49d(0xe45)+appId+_0x49e49d(0x868),_0x4ba2e0));if(!_0x18dede[_0x49e49d(0x5a9)]())break;}const _0x489d3a=doc(db,_0x49e49d(0xe45)+appId+_0x49e49d(0x868),_0x4ba2e0);await setDoc(_0x489d3a,_0x47c121),_0x47c121[_0x49e49d(0x358)]===_0x49e49d(0x600)&&await updateDoc(_0x5c83b3,{'pairedQuizId':_0x4ba2e0}),showMessage(_0x49e49d(0xa83));}else throw new Error(_0x49e49d(0x924));}catch(_0x39cbd1){console[_0x49e49d(0x75e)](_0x49e49d(0x51d),_0x39cbd1),showMessage(_0x49e49d(0x19f));}}async function handleDeleteQuiz(_0x14b89a,_0x137168=!![]){const _0x5b67fd=_0x1b93ee;try{const _0x5f22a8=writeBatch(db),_0x4ecf6a=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x14b89a+_0x5b67fd(0xddf)),_0x181d9e=await getDocs(_0x4ecf6a);_0x181d9e[_0x5b67fd(0x242)](_0x180214=>{_0x5f22a8['delete'](doc(_0x4ecf6a,_0x180214['id']));});const _0x12f468=doc(db,_0x5b67fd(0xe45)+appId+'/public/data/quizzes',_0x14b89a);_0x5f22a8[_0x5b67fd(0x25a)](_0x12f468),await _0x5f22a8[_0x5b67fd(0x480)]();try{console[_0x5b67fd(0xb20)](_0x5b67fd(0xb9b)+_0x14b89a+_0x5b67fd(0xa4a));const _0x59d454=collection(db,'artifacts/'+appId+_0x5b67fd(0xe5a)),_0x73de6c=await getDocs(_0x59d454),_0x4e190a=[];_0x73de6c[_0x5b67fd(0x242)](_0x2a486a=>{const _0xa26160=_0x5b67fd,_0x39385f=_0x2a486a[_0xa26160(0x7d4)](),_0x49f7ff=_0x39385f[_0xa26160(0x413)]||{};let _0x2f75ea=![];for(const _0x50cc62 in _0x49f7ff){const _0x30855d=_0x49f7ff[_0x50cc62];if(_0x30855d['linkedQuizIds']&&_0x30855d[_0xa26160(0x285)]['includes'](_0x14b89a)){_0x2f75ea=!![];const _0x80b1e=doc(db,_0xa26160(0xe45)+appId+_0xa26160(0xe5a),_0x2a486a['id']),_0x18ffad=updateDoc(_0x80b1e,{[_0xa26160(0xdc6)+_0x50cc62+_0xa26160(0x2d8)]:arrayRemove(_0x14b89a)});_0x4e190a['push'](_0x18ffad);}}}),_0x4e190a[_0x5b67fd(0x357)]>0x0&&(await Promise[_0x5b67fd(0x10a)](_0x4e190a),console[_0x5b67fd(0xb20)](_0x5b67fd(0xbba)+_0x4e190a[_0x5b67fd(0x357)]+_0x5b67fd(0x813)+_0x14b89a+'.'));}catch(_0x1489ef){console[_0x5b67fd(0x75e)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x1489ef);}_0x137168&&showMessage(_0x5b67fd(0xc63));}catch(_0x514475){console[_0x5b67fd(0x75e)](_0x5b67fd(0xc66),_0x514475),_0x137168&&showMessage(_0x5b67fd(0xbc8));}}async function showQuizDetailView(_0x41df2d){const _0x4a3586=_0x1b93ee;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4a3586(0xb59));try{const _0x447ce3=doc(db,_0x4a3586(0xe45)+appId+_0x4a3586(0x868),_0x41df2d),_0x644b04=await getDoc(_0x447ce3);if(!_0x644b04['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x3fb980={'id':_0x644b04['id'],..._0x644b04[_0x4a3586(0x7d4)]()};currentQuizData=_0x3fb980;const _0xb91cd6=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3fb980['projectId']),_0x3fd351=await getDoc(_0xb91cd6);_0x3fd351[_0x4a3586(0x5a9)]()?(currentProjectData=_0x3fd351['data'](),currentProjectId=_0x3fb980['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x3fb980[_0x4a3586(0x3a0)]);document['getElementById'](_0x4a3586(0xdd0))[_0x4a3586(0xc08)]=_0x3fb980[_0x4a3586(0x669)],document[_0x4a3586(0x693)](_0x4a3586(0x4bb))[_0x4a3586(0xc08)]=_0x41df2d;const _0x5998a4=collection(db,_0x4a3586(0xe45)+appId+_0x4a3586(0x868),_0x41df2d,_0x4a3586(0xd36));unsubscribeSubmissionsListener=onSnapshot(_0x5998a4,_0x22933d=>{const _0x309251=_0x4a3586,_0x9a0e23=_0x22933d['docs'][_0x309251(0x926)](_0x25a942=>({'id':_0x25a942['id'],..._0x25a942[_0x309251(0x7d4)]()}));currentSubmissions=_0x9a0e23;const _0x2545d0=_0x9a0e23[_0x309251(0x107)](_0x1e5c0e=>_0x1e5c0e[_0x309251(0xb5c)]&&_0x1e5c0e[_0x309251(0xb5c)]['length']>0x0);renderBehaviorLog(_0x9a0e23),renderAnswerGrid(currentProjectData[_0x309251(0xa64)],_0x2545d0,_0x3fb980),renderAnalytics(_0x3fb980,_0x2545d0),renderQuizResultsTable(currentProjectData[_0x309251(0xa64)],_0x9a0e23,_0x3fb980),renderQuizLeaderboard(_0x2545d0,_0x3fb980,_0x309251(0x420));}),showView(_0x4a3586(0xa07));}catch(_0x2e2489){console[_0x4a3586(0x75e)](_0x4a3586(0x984),_0x2e2489),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x1b9c12,_0x5d03d4,_0x22ad3c){const _0x120a86=_0x1b93ee,_0x2a1307=document['getElementById'](_0x120a86(0xa43));if(!_0x2a1307)return;if(!_0x1b9c12||_0x1b9c12[_0x120a86(0x357)]===0x0){_0x2a1307[_0x120a86(0xc8c)]=_0x120a86(0x641);return;}const _0x3ca7fb=_0x22ad3c[_0x120a86(0x4e6)],_0x29dd21=_0x5d03d4['reduce']((_0x480112,_0xbda5f3)=>{const _0x20e1c9=_0x120a86;return _0x480112[_0xbda5f3[_0x20e1c9(0x6df)]]=_0xbda5f3,_0x480112;},{}),_0x3daae9=_0x54680c=>String[_0x120a86(0x1de)](0x41+_0x54680c),_0x2a9dfe=_0x5a39b3=>{const _0x561382=_0x120a86,_0xeec9ef=_0x5a39b3['questionType']||_0x22ad3c[_0x561382(0xcd7)];switch(_0xeec9ef){case _0x561382(0x6c4):return _0x5a39b3[_0x561382(0x2da)]&&_0x5a39b3['options'][_0x561382(0x357)]>_0x5a39b3[_0x561382(0x3b0)]?_0x3daae9(_0x5a39b3[_0x561382(0x3b0)]):'-';case'true_false':const _0x351dc9=_0x5a39b3[_0x561382(0xbde)]===!![]||String(_0x5a39b3[_0x561382(0xbde)])[_0x561382(0x95a)]()===_0x561382(0xe0d);return _0x351dc9?_0x561382(0x4f8):_0x561382(0x85f);case _0x561382(0x1bc):return _0x5a39b3[_0x561382(0x2e8)]||'-';case _0x561382(0xbc0):return _0x561382(0x48a);default:return'-';}},_0x119846=(_0x5ace1e,_0x296c2c)=>{const _0x51e9c1=_0x120a86;if(_0x296c2c[_0x51e9c1(0xcba)]===null||_0x296c2c[_0x51e9c1(0xcba)]===undefined)return'-';const _0x564dc0=_0x5ace1e[_0x51e9c1(0x994)]||_0x22ad3c[_0x51e9c1(0xcd7)];switch(_0x564dc0){case'multiple_choice':const _0x4e530b=_0x5ace1e[_0x51e9c1(0x2da)][_0x51e9c1(0xe37)](_0x5dab48=>_0x5dab48===_0x296c2c['answerText']);return _0x4e530b!==-0x1?_0x3daae9(_0x4e530b):_0x296c2c[_0x51e9c1(0x844)]||'-';case'true_false':if(_0x296c2c[_0x51e9c1(0xcba)]=='0'||_0x296c2c[_0x51e9c1(0xcba)]===!![]||_0x296c2c[_0x51e9c1(0xcba)]===_0x51e9c1(0xe0d))return _0x51e9c1(0x4f8);return _0x51e9c1(0x85f);default:return _0x296c2c[_0x51e9c1(0xcba)];}};let _0x12b356=_0x120a86(0x253)+_0x3ca7fb[_0x120a86(0x926)]((_0x53aa27,_0x56f98c)=>_0x120a86(0xcac)+(_0x56f98c+0x1)+'</th>')[_0x120a86(0xd7b)]('')+_0x120a86(0xbbe)+_0x3ca7fb[_0x120a86(0x926)](_0x4bfabf=>_0x120a86(0x9fd)+_0x2a9dfe(_0x4bfabf)+_0x120a86(0xe36))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x1b9c12[_0x120a86(0x242)](_0x4fc0ef=>{const _0x5d01dd=_0x120a86;_0x12b356+=_0x5d01dd(0x24e),_0x12b356+=_0x5d01dd(0xc6e)+_0x4fc0ef+_0x5d01dd(0xe36);const _0x102b49=_0x29dd21[_0x4fc0ef];if(_0x102b49){const _0x49ed2f=_0x102b49[_0x5d01dd(0xb5c)][_0x102b49[_0x5d01dd(0xb5c)][_0x5d01dd(0x357)]-0x1];_0x3ca7fb[_0x5d01dd(0x242)]((_0x3206e6,_0x3021ba)=>{const _0x11e38a=_0x5d01dd,_0x4a6984=_0x49ed2f['answers'][_0x11e38a(0xe69)](_0x3f197c=>_0x3f197c[_0x11e38a(0x71d)]===_0x3206e6['id']);if(_0x4a6984){let _0x524e8a='';const _0xc453c6=_0x4a6984[_0x11e38a(0x5ce)]===!![],_0x2752cc=_0x4a6984[_0x11e38a(0x9fa)]===!![]||_0x4a6984[_0x11e38a(0x9fa)]===_0x11e38a(0xc6c),_0x67f19a=_0x4a6984[_0x11e38a(0x261)];if(_0x67f19a===_0x11e38a(0xa95))_0xc453c6?_0x524e8a='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x524e8a=_0x11e38a(0xcc0);else _0x2752cc?_0x524e8a=_0xc453c6?_0x11e38a(0x938):_0x11e38a(0x980):_0x524e8a=_0xc453c6?_0x11e38a(0x154):'bg-red-100\x20text-red-800';_0x12b356+=_0x11e38a(0x36b)+_0x524e8a+'\x22>'+_0x119846(_0x3206e6,_0x4a6984)+_0x11e38a(0xe36);}else _0x12b356+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x12b356+=_0x3ca7fb['map'](()=>_0x5d01dd(0x7a4))[_0x5d01dd(0xd7b)]('');_0x12b356+=_0x5d01dd(0x513);}),_0x12b356+=_0x120a86(0x859),_0x2a1307['innerHTML']=_0x12b356;}function renderQuizResultsTable(_0x29f0b9,_0x5a0ae2,_0x1a0a5b){const _0x3c3417=_0x1b93ee,_0x102d8b=_0x5a0ae2[_0x3c3417(0xb28)]((_0x5cfb35,_0x205907)=>{const _0x22731a=_0x3c3417;return _0x5cfb35[_0x205907[_0x22731a(0x6df)]]=_0x205907,_0x5cfb35;},{}),_0x21febc=document[_0x3c3417(0xbc1)](_0x3c3417(0x1c8));_0x21febc&&!_0x21febc['innerHTML'][_0x3c3417(0x8bb)](_0x3c3417(0xc4d))&&(_0x21febc[_0x3c3417(0xc8c)]+=_0x3c3417(0x8ac));const _0x20ac6c=document[_0x3c3417(0x693)](_0x3c3417(0x8dc));if(!_0x29f0b9||_0x29f0b9[_0x3c3417(0x357)]===0x0){_0x20ac6c['innerHTML']=_0x3c3417(0x3f7);return;}const _0x34c429=_0x1a0a5b[_0x3c3417(0x97a)]===!![],_0x542eb5=_0x1a0a5b[_0x3c3417(0x3f0)]?.[_0x3c3417(0x18e)]??-0x1;let _0x252d27='';_0x29f0b9['forEach'](_0x1f715b=>{const _0x5a1fb6=_0x3c3417,_0x53b307=_0x102d8b[_0x1f715b];let _0x20d33a=_0x5a1fb6(0x24d)+(_0x34c429?_0x5a1fb6(0x90c):_0x5a1fb6(0x452))+'\x22>'+(_0x34c429?_0x5a1fb6(0xe81):_0x5a1fb6(0x73f))+_0x5a1fb6(0x3c3);if(_0x53b307){if(_0x53b307[_0x5a1fb6(0xb5c)]&&_0x53b307[_0x5a1fb6(0xb5c)][_0x5a1fb6(0x357)]>0x0){let _0xf7552c=_0x34c429?_0x53b307[_0x5a1fb6(0xda6)]===_0x53b307[_0x5a1fb6(0x67b)]:_0x542eb5!==-0x1&&_0x53b307['bestScore']>=_0x542eb5;const _0x246a3b=_0xf7552c?_0x5a1fb6(0x154):'bg-red-100\x20text-red-800',_0x2e1b2c=_0xf7552c?_0x5a1fb6(0x83d):_0x5a1fb6(0xa2f),_0x3d4dce='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x246a3b+'\x22>'+_0x2e1b2c+_0x5a1fb6(0x3c3),_0x1b5340=_0x5a1fb6(0x423)+(_0x53b307['attempts']?.[_0x5a1fb6(0x357)]||0x1)+_0x5a1fb6(0x864),_0x1ef375='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>'+(_0x53b307[_0x5a1fb6(0x708)]||0x0)['toLocaleString']()+_0x5a1fb6(0x57f)+_0x1f715b+_0x5a1fb6(0x446)+(_0x53b307[_0x5a1fb6(0x708)]||0x0)+_0x5a1fb6(0xdde);_0x252d27+=_0x5a1fb6(0x772)+_0x1f715b+_0x5a1fb6(0x1a9)+_0x53b307[_0x5a1fb6(0xda6)]+_0x5a1fb6(0x2c5)+_0x53b307[_0x5a1fb6(0x67b)]+_0x5a1fb6(0x915)+_0x3d4dce+_0x5a1fb6(0x31d)+_0x20d33a+_0x5a1fb6(0x3a7)+_0x53b307[_0x5a1fb6(0xc9d)]+_0x5a1fb6(0x2c5)+_0x53b307[_0x5a1fb6(0x67b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x53b307['latestScore']+_0x5a1fb6(0x2c5)+_0x53b307[_0x5a1fb6(0x67b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1ef375+_0x5a1fb6(0x915)+_0x1b5340+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x53b307[_0x5a1fb6(0xd13)])[_0x5a1fb6(0x286)](_0x5a1fb6(0xda2))+_0x5a1fb6(0x7b3)+_0x1f715b+_0x5a1fb6(0x5c1);}else{const _0x476a47='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x252d27+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1f715b+_0x5a1fb6(0x46a)+_0x20d33a+_0x5a1fb6(0x73a)+_0x476a47+_0x5a1fb6(0x302)+new Date(_0x53b307[_0x5a1fb6(0x7a2)])['toLocaleString'](_0x5a1fb6(0xda2))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1f715b+_0x5a1fb6(0x5c1);}}else{const _0x7b701c=_0x5a1fb6(0x670);_0x252d27+=_0x5a1fb6(0xa8e)+_0x1f715b+_0x5a1fb6(0x1f2)+_0x20d33a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7b701c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x20ac6c[_0x3c3417(0xc8c)]=_0x252d27;}async function confirmRenameQuiz(){const _0x59bd02=_0x1b93ee,_0x3b48e2=document[_0x59bd02(0x693)]('rename-quiz-input')['value'][_0x59bd02(0xb6d)]();if(!_0x3b48e2){showMessage(_0x59bd02(0xe70));return;}if(!actionTargetId)return;const _0x4192dc=doc(db,_0x59bd02(0xe45)+appId+_0x59bd02(0x868),actionTargetId);try{await updateDoc(_0x4192dc,{'topic':_0x3b48e2}),showMessage(_0x59bd02(0x180)),renameQuizModal['classList'][_0x59bd02(0x128)](_0x59bd02(0xa21)),actionTargetId=null;}catch(_0x191848){console['error'](_0x59bd02(0x7b8),_0x191848),showMessage(_0x59bd02(0x68c));}}async function handleMoveQuiz(_0x33c47c){const _0x3e2f25=_0x1b93ee;actionTargetId=_0x33c47c;const _0x4547b4=document[_0x3e2f25(0x693)](_0x3e2f25(0x6c8));_0x4547b4['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x3e2f25(0x200)](_0x3e2f25(0xa21));try{const _0x3e8553=collection(db,_0x3e2f25(0xe45)+appId+_0x3e2f25(0xb89)),_0x5dc0f1=await getDocs(_0x3e8553),_0x25f05d=_0x5dc0f1['docs']['map'](_0x43fe3d=>({'id':_0x43fe3d['id'],..._0x43fe3d[_0x3e2f25(0x7d4)]()})),_0x30beb6=_0x25f05d[_0x3e2f25(0x107)](_0x4d9a43=>_0x4d9a43['id']!==currentProjectId);if(_0x30beb6[_0x3e2f25(0x357)]===0x0){_0x4547b4[_0x3e2f25(0xc8c)]=_0x3e2f25(0x192),document[_0x3e2f25(0x693)]('confirm-move-quiz-btn')[_0x3e2f25(0xe12)]=!![];return;}_0x4547b4['innerHTML']=_0x30beb6[_0x3e2f25(0x926)](_0x37bdd9=>_0x3e2f25(0x1fe)+_0x37bdd9['id']+'\x22>'+_0x37bdd9[_0x3e2f25(0x21c)]+_0x3e2f25(0x280))['join'](''),document[_0x3e2f25(0x693)](_0x3e2f25(0x69c))[_0x3e2f25(0xe12)]=![];}catch(_0x245b01){console[_0x3e2f25(0x75e)](_0x3e2f25(0x3de),_0x245b01),showMessage(_0x3e2f25(0x317)),moveQuizModal[_0x3e2f25(0x43c)][_0x3e2f25(0x128)]('hidden');}}async function confirmMoveQuiz(){const _0x3bdab2=_0x1b93ee,_0x24217d=document['getElementById']('move-quiz-project-select')[_0x3bdab2(0xc5c)];if(!_0x24217d){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x2776af=doc(db,_0x3bdab2(0xe45)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2776af,{'projectId':_0x24217d}),showMessage(_0x3bdab2(0xe6c)),moveQuizModal['classList'][_0x3bdab2(0x128)]('hidden'),actionTargetId=null;}catch(_0x5662c6){console['error']('Error\x20moving\x20quiz:',_0x5662c6),showMessage(_0x3bdab2(0x21d));}}async function handleQuizSettings(_0x154b4b){const _0x212ce3=_0x1b93ee;actionTargetId=_0x154b4b;const _0xf2f7e6=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x154b4b);try{const _0x32b81c=await getDoc(_0xf2f7e6);if(_0x32b81c[_0x212ce3(0x5a9)]()){const _0x221d5f=_0x32b81c[_0x212ce3(0x7d4)](),_0x5caa08=_0x221d5f[_0x212ce3(0x3f0)]||{},_0x19e7fd=_0x221d5f[_0x212ce3(0x4e6)][_0x212ce3(0x357)];document[_0x212ce3(0x693)](_0x212ce3(0x854))[_0x212ce3(0xc5c)]=_0x5caa08[_0x212ce3(0xe1f)]||_0x212ce3(0x2c6),document[_0x212ce3(0x693)](_0x212ce3(0xc6b))[_0x212ce3(0xc5c)]=_0x5caa08['resultsDisplay']||_0x212ce3(0xbe0),document[_0x212ce3(0x693)](_0x212ce3(0xb65))[_0x212ce3(0xc5c)]=_0x5caa08['timerMode']||'none',document[_0x212ce3(0x693)](_0x212ce3(0x6ee))[_0x212ce3(0xc5c)]=_0x5caa08[_0x212ce3(0x8d0)]||0xa,document[_0x212ce3(0x693)](_0x212ce3(0x93a))['value']=_0x5caa08[_0x212ce3(0x18e)]||Math['floor'](_0x19e7fd/0x2),document[_0x212ce3(0x693)](_0x212ce3(0x93a))[_0x212ce3(0x417)]=_0x19e7fd,document[_0x212ce3(0x693)](_0x212ce3(0xa2d))[_0x212ce3(0xb48)]=_0x5caa08[_0x212ce3(0x640)]||![],document['getElementById'](_0x212ce3(0x331))[_0x212ce3(0xb48)]=_0x5caa08['loopUntilPass']||![];const _0x3d4872=_0x5caa08['isConfidenceScoringEnabled']||![];document[_0x212ce3(0x693)]('modal-confidence-scoring-checkbox')[_0x212ce3(0xb48)]=_0x3d4872,document[_0x212ce3(0x693)](_0x212ce3(0x9f6))[_0x212ce3(0xc5c)]=_0x5caa08[_0x212ce3(0x374)]||_0x212ce3(0x2f1);const _0x1843a4=document[_0x212ce3(0x693)]('modal-confidence-mode-container');_0x1843a4[_0x212ce3(0x43c)][_0x212ce3(0xe2c)](_0x212ce3(0xa21),!_0x3d4872),document[_0x212ce3(0x693)]('modal-timer-mode-select')[_0x212ce3(0xc38)](new Event(_0x212ce3(0xe52))),quizSettingsModal[_0x212ce3(0x43c)][_0x212ce3(0x200)](_0x212ce3(0xa21));}else showMessage(_0x212ce3(0xe1b));}catch(_0x5bac42){console['error'](_0x212ce3(0x2b8),_0x5bac42),showMessage(_0x212ce3(0xa81));}}async function confirmQuizSettings(){const _0x1209c2=_0x1b93ee;if(!actionTargetId)return;const _0x17ff95=doc(db,_0x1209c2(0xe45)+appId+_0x1209c2(0x868),actionTargetId),_0x14605d={'shuffle':document[_0x1209c2(0x693)](_0x1209c2(0x854))['value'],'resultsDisplay':document[_0x1209c2(0x693)]('modal-results-display-select')['value'],'timerMode':document[_0x1209c2(0x693)]('modal-timer-mode-select')[_0x1209c2(0xc5c)],'timerDuration':parseInt(document[_0x1209c2(0x693)](_0x1209c2(0x6ee))[_0x1209c2(0xc5c)])||0xa,'passingScore':parseInt(document[_0x1209c2(0x693)](_0x1209c2(0x93a))[_0x1209c2(0xc5c)])||0x0,'isAdaptive':document[_0x1209c2(0x693)]('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x1209c2(0x693)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x1209c2(0x693)](_0x1209c2(0x8a9))[_0x1209c2(0xb48)],'confidenceMode':document['getElementById'](_0x1209c2(0x9f6))[_0x1209c2(0xc5c)]};try{await updateDoc(_0x17ff95,{'settings':_0x14605d}),showMessage(_0x1209c2(0xd20)),quizSettingsModal[_0x1209c2(0x43c)]['add'](_0x1209c2(0xa21)),actionTargetId=null;}catch(_0x58fa3b){console[_0x1209c2(0x75e)](_0x1209c2(0x886),_0x58fa3b),showMessage(_0x1209c2(0xa04));}}async function confirmQuizStatus(){const _0x557e6c=_0x1b93ee;if(!actionTargetId)return;const _0xde8402=doc(db,_0x557e6c(0xe45)+appId+_0x557e6c(0x868),actionTargetId),_0x14f691=document[_0x557e6c(0xbc1)](_0x557e6c(0x6cf));if(!_0x14f691){showMessage(_0x557e6c(0x824));return;}const _0x5bbe16=_0x14f691[_0x557e6c(0xc5c)];let _0x3c36d3={};if(_0x5bbe16==='active'||_0x5bbe16===_0x557e6c(0xe4d))_0x3c36d3={'status':_0x5bbe16,'startTime':null,'endTime':null};else{if(_0x5bbe16===_0x557e6c(0xd12)){const _0x48b0b3=document[_0x557e6c(0x693)](_0x557e6c(0x794))[_0x557e6c(0xc5c)],_0x17d268=document[_0x557e6c(0x693)](_0x557e6c(0x517))[_0x557e6c(0xc5c)];if(!_0x48b0b3&&!_0x17d268){showMessage(_0x557e6c(0xc71));return;}_0x3c36d3={'status':_0x557e6c(0x4a0),'startTime':_0x48b0b3?new Date(_0x48b0b3)[_0x557e6c(0xdfc)]():null,'endTime':_0x17d268?new Date(_0x17d268)[_0x557e6c(0xdfc)]():null};}}try{await updateDoc(_0xde8402,_0x3c36d3),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x557e6c(0x43c)]['add'](_0x557e6c(0xa21)),actionTargetId=null;}catch(_0xd84b77){console[_0x557e6c(0x75e)](_0x557e6c(0x3e7),_0xd84b77),showMessage(_0x557e6c(0x352));}}function listenForStudentProfiles(_0x4be294){const _0x1427d4=_0x1b93ee,_0x53e57a=collection(db,_0x1427d4(0xe45)+appId+_0x1427d4(0x456)+_0x4be294+_0x1427d4(0x63c));unsubscribeStudentProfilesListener=onSnapshot(_0x53e57a,_0xa64c12=>{const _0x475537=_0x1427d4,_0x1f5146=_0xa64c12[_0x475537(0x34d)][_0x475537(0x926)](_0x37984b=>_0x37984b[_0x475537(0x7d4)]());renderLeaderboard(_0x1f5146,_0x475537(0x44b));},_0x2e1cd6=>{const _0x1b3b35=_0x1427d4;console[_0x1b3b35(0x75e)](_0x1b3b35(0xada),_0x2e1cd6),document[_0x1b3b35(0x693)](_0x1b3b35(0x44b))[_0x1b3b35(0xc8c)]=_0x1b3b35(0x53b);});}function renderLeaderboard(_0x2ae2fc,_0x1bca6c){const _0x3457bb=_0x1b93ee,_0x938827=document[_0x3457bb(0x693)](_0x1bca6c);if(!_0x2ae2fc||_0x2ae2fc[_0x3457bb(0x357)]===0x0){_0x938827[_0x3457bb(0xc8c)]=_0x3457bb(0x1f0);return;}_0x2ae2fc['sort']((_0xc6e01e,_0x4608db)=>{const _0x33e1ab=_0x3457bb,_0x5e30b9=(_0x4608db['totalPoints']||0x0)-(_0xc6e01e['totalPoints']||0x0);if(_0x5e30b9!==0x0)return _0x5e30b9;const _0x5bc86e=(_0x4608db[_0x33e1ab(0x493)]?.[_0x33e1ab(0x403)]||0x0)-(_0xc6e01e[_0x33e1ab(0x493)]?.[_0x33e1ab(0x403)]||0x0);if(_0x5bc86e!==0x0)return _0x5bc86e;const _0x35e6c6=(_0x4608db[_0x33e1ab(0x493)]?.[_0x33e1ab(0xbaf)]||0x0)-(_0xc6e01e[_0x33e1ab(0x493)]?.[_0x33e1ab(0xbaf)]||0x0);if(_0x35e6c6!==0x0)return _0x35e6c6;const _0x430495=(_0x4608db['badgesCount']?.[_0x33e1ab(0x614)]||0x0)-(_0xc6e01e[_0x33e1ab(0x493)]?.[_0x33e1ab(0x614)]||0x0);if(_0x430495!==0x0)return _0x430495;const _0x48f222=(_0x4608db[_0x33e1ab(0x493)]?.[_0x33e1ab(0x2f7)]||0x0)-(_0xc6e01e['badgesCount']?.[_0x33e1ab(0x2f7)]||0x0);if(_0x48f222!==0x0)return _0x48f222;return _0xc6e01e[_0x33e1ab(0x6df)]['localeCompare'](_0x4608db[_0x33e1ab(0x6df)],'th');});let _0x4a3112='';_0x2ae2fc[_0x3457bb(0x242)]((_0x49d0c6,_0x25dcac)=>{const _0x12200a=_0x3457bb,_0x1786c1=_0x25dcac+0x1,_0x3b3529=_0x49d0c6[_0x12200a(0x493)]||{};let _0x5e96ab='';const _0x11d188=[_0x12200a(0x403),_0x12200a(0x614),_0x12200a(0xbaf),_0x12200a(0x2f7)];_0x11d188[_0x12200a(0x242)](_0x6e7c0b=>{const _0x1bf812=_0x12200a;if(_0x3b3529[_0x6e7c0b]>0x0){const _0x169452=Object[_0x1bf812(0x8d9)](BADGES)['find'](_0x46c00e=>_0x46c00e['id']===_0x6e7c0b);_0x169452&&(_0x6e7c0b===_0x1bf812(0x403)?_0x5e96ab+=_0x1bf812(0xe3c)+_0x169452['name']+_0x1bf812(0x826)+_0x169452[_0x1bf812(0x4e8)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5e96ab+=_0x1bf812(0xe3c)+_0x169452[_0x1bf812(0x41d)]+'\x20('+_0x3b3529[_0x6e7c0b]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x169452[_0x1bf812(0x4e8)]+_0x1bf812(0x8e0)+_0x3b3529[_0x6e7c0b]+_0x1bf812(0x319));}}),_0x4a3112+=_0x12200a(0x92a)+_0x1786c1+_0x12200a(0x811)+_0x49d0c6[_0x12200a(0x6df)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x49d0c6[_0x12200a(0x568)]||0x0)[_0x12200a(0x286)]()+_0x12200a(0x811)+(_0x5e96ab||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x938827['innerHTML']=_0x4a3112;}function displayLoopScreen(_0x250200,_0x5ad8b1,_0x88ae84){const _0x23f916=_0x1b93ee;let _0xf92b80='';_0x88ae84!==_0x23f916(0x7a3)&&(_0xf92b80=_0x23f916(0x2a2)+_0x250200+_0x23f916(0x2c5)+_0x5ad8b1+_0x23f916(0xe84));const _0x9697eb=_0x23f916(0x471)+_0xf92b80+_0x23f916(0x9de);studentResultArea['innerHTML']=_0x9697eb,studentResultArea[_0x23f916(0x43c)]['remove']('hidden'),studentQuizArea[_0x23f916(0x43c)][_0x23f916(0x128)]('hidden'),document[_0x23f916(0x693)](_0x23f916(0x914))[_0x23f916(0x5e0)](_0x23f916(0x2df),()=>{const _0xc06a8f=_0x23f916;studentResultArea[_0xc06a8f(0x43c)][_0xc06a8f(0x128)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4dc818,_0x1a909a,_0x593485){const _0x49d280=_0x1b93ee,_0x3a3610=document[_0x49d280(0x693)](_0x593485),_0x44b2a5=_0x593485==='student-quiz-leaderboard-table-body',_0x439cd2=_0x1a909a[_0x49d280(0x4e6)][_0x49d280(0x357)],_0x2f74bf=document[_0x49d280(0x693)](_0x593485)['closest'](_0x49d280(0xad1));if(_0x2f74bf&&!_0x44b2a5){const _0x4804eb=_0x2f74bf[_0x49d280(0xbc1)](_0x49d280(0xb24));_0x4804eb[_0x49d280(0xc8c)]=_0x49d280(0x5c2);}if(!_0x4dc818||_0x4dc818[_0x49d280(0x357)]===0x0){_0x3a3610[_0x49d280(0xc8c)]=_0x49d280(0xd11)+(_0x44b2a5?0x6:0x8)+_0x49d280(0x2f9);return;}const _0x4355df=[..._0x4dc818];_0x4355df[_0x49d280(0xa05)]((_0x1a895d,_0x53928c)=>{const _0x289abe=_0x49d280;let _0x229271,_0x280041;switch(quizLeaderboardSortBy){case'studentName':_0x229271=_0x1a895d['studentName']||'',_0x280041=_0x53928c[_0x289abe(0x6df)]||'';return quizLeaderboardSortOrder===_0x289abe(0xb53)?_0x229271[_0x289abe(0xb9d)](_0x280041,'th'):_0x280041[_0x289abe(0xb9d)](_0x229271,'th');case'points':_0x229271=_0x1a895d[_0x289abe(0x708)]||0x0,_0x280041=_0x53928c['points']||0x0;break;case _0x289abe(0xb5c):_0x229271=_0x1a895d[_0x289abe(0xb5c)]?.[_0x289abe(0x357)]||0x1,_0x280041=_0x53928c[_0x289abe(0xb5c)]?.['length']||0x1;break;case _0x289abe(0xd13):_0x229271=new Date(_0x1a895d[_0x289abe(0xd13)]),_0x280041=new Date(_0x53928c['latestSubmittedAt']);break;case _0x289abe(0xda6):default:_0x229271=_0x1a895d[_0x289abe(0xda6)],_0x280041=_0x53928c['bestScore'];break;}if(_0x229271<_0x280041)return quizLeaderboardSortOrder===_0x289abe(0xb53)?-0x1:0x1;if(_0x229271>_0x280041)return quizLeaderboardSortOrder===_0x289abe(0xb53)?0x1:-0x1;return 0x0;});const _0x447fd5=_0x1a909a[_0x49d280(0x97a)]===!![],_0x38bad3=_0x1a909a['settings']?.[_0x49d280(0x18e)]??-0x1;let _0x4a2b7d='';_0x4355df[_0x49d280(0x242)]((_0x4343bb,_0x5f2bc8)=>{const _0x1eceb4=_0x49d280,_0x8aa4bc=_0x5f2bc8+0x1;let _0x245030='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x447fd5||_0x38bad3!==-0x1){let _0x69a326=_0x447fd5?_0x4343bb[_0x1eceb4(0xda6)]===_0x439cd2:_0x4343bb[_0x1eceb4(0xda6)]>=_0x38bad3;const _0x996706=_0x69a326?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x2df87c=_0x69a326?'ผ่าน':_0x1eceb4(0xa2f);_0x245030='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x996706+'\x22>'+_0x2df87c+'</span></td>';}const _0x70c16=_0x4343bb[_0x1eceb4(0xb5c)][_0x4343bb[_0x1eceb4(0xb5c)][_0x1eceb4(0x357)]-0x1],_0x354261=(_0x70c16[_0x1eceb4(0x55a)]||[])['map'](_0xc500c8=>{const _0x41fc09=_0x1eceb4,_0xd0638b=Object[_0x41fc09(0x8d9)](BADGES)[_0x41fc09(0xe69)](_0x3c0e6a=>_0x3c0e6a['id']===_0xc500c8);return _0xd0638b?_0x41fc09(0x91e)+_0xd0638b[_0x41fc09(0x41d)]+_0x41fc09(0x5e6)+_0xd0638b[_0x41fc09(0x4e8)]+_0x41fc09(0xa7f):'';})[_0x1eceb4(0xd7b)]('');_0x4a2b7d+=_0x1eceb4(0x346)+_0x8aa4bc+_0x1eceb4(0x3b4)+_0x4343bb[_0x1eceb4(0x6df)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x4343bb[_0x1eceb4(0xda6)]+_0x1eceb4(0x2c5)+_0x439cd2+_0x1eceb4(0x8f5)+_0x245030+_0x1eceb4(0x1d4)+(_0x4343bb['points']||0x0)['toLocaleString']()+_0x1eceb4(0x8f5)+(_0x44b2a5?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x4343bb['attempts']?.[_0x1eceb4(0x357)]||0x1)+_0x1eceb4(0xe36))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x44b2a5?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4343bb[_0x1eceb4(0xd13)])[_0x1eceb4(0x286)](_0x1eceb4(0xda2))+_0x1eceb4(0xe36))+_0x1eceb4(0x20e)+(_0x354261||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a3610['innerHTML']=_0x4a2b7d,_0x2f74bf&&!_0x44b2a5&&_0x2f74bf[_0x49d280(0xe56)](_0x49d280(0xb39))['forEach'](_0x2e612b=>{const _0x327d0e=_0x49d280,_0x55589e=_0x2e612b[_0x327d0e(0xbc1)](_0x327d0e(0xcd5));if(_0x55589e)_0x55589e['remove']();_0x2e612b[_0x327d0e(0x43d)][_0x327d0e(0xa05)]===quizLeaderboardSortBy&&(_0x2e612b[_0x327d0e(0xc8c)]+=_0x327d0e(0x429)+(quizLeaderboardSortOrder===_0x327d0e(0xb53)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x36f591){const _0x20c923=_0x1b93ee;if(!currentQuizData||!currentQuizData['id']||!_0x36f591){showMessage(_0x20c923(0xde7));return;}showConfirmation(_0x20c923(0x16f)+_0x36f591+_0x20c923(0x662),async()=>{const _0x52a0a5=_0x20c923,_0x520ed5=currentQuizData['id'],_0x3ef072=doc(db,'artifacts/'+appId+_0x52a0a5(0x449)+_0x520ed5+_0x52a0a5(0xddf),_0x36f591);try{await deleteDoc(_0x3ef072),showMessage(_0x52a0a5(0xad5)+_0x36f591+_0x52a0a5(0x4e3));}catch(_0x294078){console[_0x52a0a5(0x75e)](_0x52a0a5(0x620),_0x294078),showMessage(_0x52a0a5(0x6bc));}});}async function handleLoadQuiz(){const _0x551016=_0x1b93ee,_0x3b3486=document[_0x551016(0x693)](_0x551016(0xdec)),_0x3b1d34=_0x3b3486[_0x551016(0xc5c)][_0x551016(0xb6d)]();if(!_0x3b1d34){showMessage(_0x551016(0xc33));return;}loadQuizBtn[_0x551016(0xe12)]=!![],loadQuizBtn[_0x551016(0xc8c)]=_0x551016(0x9b8);try{const _0x16e643=doc(db,_0x551016(0xe45)+appId+_0x551016(0x868),_0x3b1d34),_0x160acb=await getDoc(_0x16e643);if(!_0x160acb[_0x551016(0x5a9)]()){showMessage(_0x551016(0x6f0));return;}currentQuizData={'id':_0x160acb['id'],..._0x160acb[_0x551016(0x7d4)]()};const _0x6ff9cd=currentQuizData['status']||_0x551016(0x69a),_0x1f93d8=new Date();if(_0x6ff9cd==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x6ff9cd===_0x551016(0x4a0)){const _0x57bc3d=currentQuizData[_0x551016(0x7dd)]?new Date(currentQuizData[_0x551016(0x7dd)]):null,_0x1c1ec4=currentQuizData['endTime']?new Date(currentQuizData[_0x551016(0xa0a)]):null;if(_0x57bc3d&&_0x1f93d8<_0x57bc3d){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x57bc3d[_0x551016(0x286)](_0x551016(0xda2),{'hour12':![]}));return;}if(_0x1c1ec4&&_0x1f93d8>_0x1c1ec4){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x2292fc=currentQuizData['projectId'];currentProjectId=_0x2292fc;const _0x31b519=doc(db,'artifacts/'+appId+_0x551016(0xb89),_0x2292fc),_0xf916e8=await getDoc(_0x31b519);if(!_0xf916e8['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x21ed84=_0xf916e8[_0x551016(0x7d4)]();currentStudentProjectData=_0x21ed84,displayStudentNameSelector(_0x21ed84[_0x551016(0xa64)],currentQuizData[_0x551016(0x669)]);}catch(_0x169641){console[_0x551016(0x75e)]('Error\x20loading\x20quiz\x20for\x20student:',_0x169641),showMessage(_0x551016(0xc1d));}finally{loadQuizBtn[_0x551016(0xe12)]=![],loadQuizBtn['innerHTML']=_0x551016(0x64e);}}async function handleManualEditPoints(_0x1c22f5,_0x6f0752){const _0x3d990f=_0x1b93ee;if(!currentQuizData||!currentQuizData['id'])return;const _0x5c8a94=currentQuizData['id'],_0x42881a=doc(db,'artifacts/'+appId+_0x3d990f(0x449)+_0x5c8a94+_0x3d990f(0xddf),_0x1c22f5);try{const _0x2ef997=await getDoc(_0x42881a);if(!_0x2ef997[_0x3d990f(0x5a9)]())return;const _0x586618=_0x2ef997['data'](),_0x4b29cc=_0x586618[_0x3d990f(0xb5c)]||[];_0x4b29cc['length']>0x0&&(_0x4b29cc[_0x4b29cc['length']-0x1]['points']=_0x6f0752,_0x4b29cc[_0x4b29cc[_0x3d990f(0x357)]-0x1][_0x3d990f(0xcc3)]=!![]),await updateDoc(_0x42881a,{'points':_0x6f0752,'attempts':_0x4b29cc}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x1c22f5),showMessage(_0x3d990f(0x4ff)+_0x1c22f5+_0x3d990f(0xa75)+_0x6f0752+_0x3d990f(0x643));}catch(_0x2f425e){console[_0x3d990f(0x75e)]('Error\x20updating\x20points:',_0x2f425e),showMessage(_0x3d990f(0x32e));}}async function handleJoinLiveGame(){const _0x3fea93=_0x1b93ee,_0x31f7b0=document['getElementById'](_0x3fea93(0xdb0)),_0x4b171d=document[_0x3fea93(0x693)](_0x3fea93(0x30f)),_0x3d87e6=document['getElementById'](_0x3fea93(0x9ab)),_0x463c5d=_0x31f7b0[_0x3fea93(0xc5c)][_0x3fea93(0xb6d)](),_0x44d579=_0x4b171d[_0x3fea93(0xc5c)]['trim']();if(!_0x463c5d||!_0x44d579){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x3d87e6['disabled']=!![],_0x3d87e6['innerHTML']=_0x3fea93(0x4cd);try{const _0x3dfd4e=collection(db,_0x3fea93(0xe45)+appId+'/public/data/liveGames'),_0x459256=query(_0x3dfd4e,where('gamePin','==',_0x463c5d),where(_0x3fea93(0x7f7),'in',[_0x3fea93(0xae8),'question'])),_0xe54c89=await getDocs(_0x459256);if(_0xe54c89['empty']){showMessage(_0x3fea93(0x8d2));return;}const _0x59ac9d=_0xe54c89['docs'][0x0],_0x40b8bf=_0x59ac9d[_0x3fea93(0x7d4)]();currentLiveGameId=_0x59ac9d['id'];const _0x200afc=_0x40b8bf[_0x3fea93(0xbcc)],_0x15d66b=doc(db,_0x3fea93(0xe45)+appId+'/public/data/quizzes',_0x200afc),_0x387679=await getDoc(_0x15d66b);if(!_0x387679[_0x3fea93(0x5a9)]()){showMessage(_0x3fea93(0xc06));return;}currentQuizData={'id':_0x387679['id'],..._0x387679[_0x3fea93(0x7d4)]()};if(_0x40b8bf[_0x3fea93(0x18f)]&&_0x40b8bf[_0x3fea93(0x18f)][_0x44d579]){const _0x4734ce=_0x40b8bf[_0x3fea93(0x18f)][_0x44d579];if(_0x4734ce['status']===_0x3fea93(0xe4d)){_0x3d87e6[_0x3fea93(0xc8c)]=_0x3fea93(0x8c8);const _0x4939e1={};_0x4939e1[_0x3fea93(0xcb2)+_0x44d579+_0x3fea93(0x584)]='active',await updateDoc(doc(db,_0x3fea93(0xe45)+appId+_0x3fea93(0x504),currentLiveGameId),_0x4939e1),showView(_0x3fea93(0xc45)),currentStudentName=_0x44d579,listenForLiveGameUpdates();return;}else{showMessage(_0x3fea93(0x7d2));return;}}if(_0x40b8bf[_0x3fea93(0x7f7)]!=='lobby'){showMessage(_0x3fea93(0xa28));return;}_0x3d87e6[_0x3fea93(0xc8c)]=_0x3fea93(0xd75);const _0x1fff40={};_0x1fff40[_0x3fea93(0xcb2)+_0x44d579]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x3fea93(0x504),currentLiveGameId),_0x1fff40),currentStudentName=_0x44d579,listenForLiveGameUpdates();}catch(_0x321569){console[_0x3fea93(0x75e)](_0x3fea93(0x5a5),_0x321569),showMessage(_0x3fea93(0xa69));}finally{_0x3d87e6[_0x3fea93(0xe12)]=![],_0x3d87e6[_0x3fea93(0xc8c)]=_0x3fea93(0x270);}}function displayStudentNameSelector(_0x323297,_0x2e9329){const _0x101cce=_0x1b93ee,_0x3fe945=document['getElementById'](_0x101cce(0x872));document['getElementById'](_0x101cce(0x61e))[_0x101cce(0xc08)]=_0x101cce(0xe54)+_0x2e9329,!_0x323297||_0x323297['length']===0x0?(_0x3fe945['innerHTML']=_0x101cce(0xacb),startQuizBtn['disabled']=!![]):(_0x3fe945[_0x101cce(0xc8c)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x323297[_0x101cce(0x242)](_0x2d31b9=>{const _0xc1ee4d=_0x101cce,_0x27d01b=document[_0xc1ee4d(0x1a7)](_0xc1ee4d(0x8f4));_0x27d01b[_0xc1ee4d(0xc5c)]=_0x2d31b9,_0x27d01b['textContent']=_0x2d31b9,_0x3fe945['appendChild'](_0x27d01b);}),startQuizBtn[_0x101cce(0xe12)]=![]),studentInitialView[_0x101cce(0x43c)]['add']('hidden'),studentNameSelectionView['classList'][_0x101cce(0x200)](_0x101cce(0xa21));}function shuffleArray(_0x259a3d){const _0x2e5a1d=_0x1b93ee;for(let _0x12e4fb=_0x259a3d[_0x2e5a1d(0x357)]-0x1;_0x12e4fb>0x0;_0x12e4fb--){const _0x377653=Math[_0x2e5a1d(0x567)](Math[_0x2e5a1d(0x281)]()*(_0x12e4fb+0x1));[_0x259a3d[_0x12e4fb],_0x259a3d[_0x377653]]=[_0x259a3d[_0x377653],_0x259a3d[_0x12e4fb]];}}function getShuffledQuiz(_0x3fd66c){const _0x464e94=_0x1b93ee;let _0x231ff3=JSON[_0x464e94(0xd84)](JSON[_0x464e94(0x1f9)](_0x3fd66c));const _0x54417f=_0x231ff3[_0x464e94(0x3f0)]?.[_0x464e94(0xe1f)]||'none';if(_0x54417f===_0x464e94(0x2c6))return _0x231ff3;return(_0x54417f===_0x464e94(0x92c)||_0x54417f==='both')&&shuffleArray(_0x231ff3['questions']),(_0x54417f===_0x464e94(0x7d8)||_0x54417f===_0x464e94(0x438))&&_0x231ff3[_0x464e94(0x4e6)][_0x464e94(0x242)](_0xb87295=>{const _0x2195e3=_0x464e94,_0x54d4bd=_0xb87295[_0x2195e3(0x994)]||_0x231ff3[_0x2195e3(0xcd7)];if(_0xb87295[_0x2195e3(0x2da)]){let _0x41d864=_0xb87295[_0x2195e3(0x2da)][_0x2195e3(0x926)]((_0x394ad2,_0xf64cad)=>({'text':_0x394ad2,'isCorrect':_0xf64cad===_0xb87295['correctAnswerIndex']}));shuffleArray(_0x41d864),_0xb87295[_0x2195e3(0x2da)]=_0x41d864['map'](_0x4a0113=>_0x4a0113['text']),_0xb87295['correctAnswerIndex']=_0x41d864[_0x2195e3(0xe37)](_0x82451a=>_0x82451a['isCorrect']);}_0x54d4bd===_0x2195e3(0x1bc)&&_0xb87295['allResponses']&&shuffleArray(_0xb87295[_0x2195e3(0xd3d)]);}),_0x231ff3;}function displayQuizForStudent(_0x41483f){const _0x355736=_0x1b93ee;studentQuizArea[_0x355736(0x43c)][_0x355736(0x200)](_0x355736(0xa21)),currentDisplayedQuiz=getShuffledQuiz(_0x41483f);currentMode!==_0x355736(0x68d)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x355736(0x5e0)](_0x355736(0xc62),handleFullscreenChange),document[_0x355736(0x5e0)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x355736(0x5e0)](_0x355736(0xdcf),resetDimTimer),window['addEventListener'](_0x355736(0x5ef),resetDimTimer),window[_0x355736(0x5e0)]('touchstart',resetDimTimer),window[_0x355736(0x5e0)](_0x355736(0xc35),resetDimTimer),resetDimTimer());const _0x208da7=currentDisplayedQuiz[_0x355736(0x3f0)]?.[_0x355736(0x2d9)]||_0x355736(0x2c6);if(_0x208da7==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x355736(0x3f0)][_0x355736(0x8d0)]);else _0x208da7===_0x355736(0xd0b)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x439577){const _0x37611d=_0x1b93ee,_0x4e662f=document['getElementById'](_0x37611d(0xcad)+_0x439577),_0x147937=document['querySelectorAll'](_0x37611d(0x5f6));_0x147937[_0x37611d(0x242)](_0x55d02=>{const _0x2153aa=_0x37611d;if(_0x55d02['id']!=='dropdown-list-'+_0x439577)_0x55d02[_0x2153aa(0x43c)][_0x2153aa(0x128)]('hidden');});if(_0x4e662f)_0x4e662f[_0x37611d(0x43c)][_0x37611d(0xe2c)](_0x37611d(0xa21));},window['selectMathOption']=function(_0x162e48,_0x165344){const _0xdb0f27=_0x1b93ee,_0x339c64=currentDisplayedQuiz;if(!_0x339c64)return;const _0x53b228=_0x339c64['questions'][_0x162e48],_0x1d7bc1=_0x53b228[_0xdb0f27(0xd3d)][_0x165344],_0x222515=document[_0xdb0f27(0x693)](_0xdb0f27(0xb3b)+_0x162e48);if(_0x222515)_0x222515[_0xdb0f27(0xc5c)]=_0x1d7bc1;const _0x49a0ae=document[_0xdb0f27(0x693)](_0xdb0f27(0x5c0)+_0x162e48);if(_0x49a0ae){_0x49a0ae[_0xdb0f27(0xc8c)]=_0x1d7bc1;if(window[_0xdb0f27(0xad6)])MathJax['typesetPromise']([_0x49a0ae]);_0x49a0ae[_0xdb0f27(0x43c)][_0xdb0f27(0x128)](_0xdb0f27(0x268),_0xdb0f27(0x839));}const _0x38402d=document[_0xdb0f27(0x693)]('dropdown-list-'+_0x162e48);if(_0x38402d)_0x38402d[_0xdb0f27(0x43c)]['add'](_0xdb0f27(0xa21));},document['addEventListener'](_0x1b93ee(0x2df),_0x50cc66=>{const _0x3aba3a=_0x1b93ee;!_0x50cc66[_0x3aba3a(0x588)][_0x3aba3a(0xe11)](_0x3aba3a(0x8d3))&&document[_0x3aba3a(0xe56)]('[id^=\x22dropdown-list-\x22]')[_0x3aba3a(0x242)](_0x2de7b5=>_0x2de7b5[_0x3aba3a(0x43c)][_0x3aba3a(0x128)](_0x3aba3a(0xa21)));});function renderFullQuizForm(){const _0x3b435b=_0x1b93ee,_0x7f2f42=currentDisplayedQuiz[_0x3b435b(0x3f0)]?.['isConfidenceScoringEnabled']===!![],_0xae2e74=currentDisplayedQuiz[_0x3b435b(0x3f0)]?.[_0x3b435b(0x374)]||_0x3b435b(0x2f1);let _0x18ac7c=![],_0xfad98e=_0x3b435b(0x40a)+currentDisplayedQuiz[_0x3b435b(0x669)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3b435b(0x68d)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x3b435b(0xaf2);currentDisplayedQuiz['questions'][_0x3b435b(0x242)]((_0x1cbd08,_0x14fae8)=>{const _0x589754=_0x3b435b,_0x3f74e6=_0x1cbd08[_0x589754(0x994)]||currentDisplayedQuiz[_0x589754(0xcd7)],_0x1b350e=_0x589754(0x84a)+(0x64-_0x14fae8)+';';_0x3f74e6===_0x589754(0x1bc)&&!_0x18ac7c&&(_0xfad98e+=_0x589754(0x2fe),_0x18ac7c=!![]);_0xfad98e+=_0x589754(0xd8a)+_0x1b350e+'\x22>';_0x3f74e6!==_0x589754(0x1bc)&&(_0xfad98e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x14fae8+0x1)+'.\x20'+(_0x1cbd08[_0x589754(0xb79)]||_0x1cbd08[_0x589754(0xd6a)])+_0x589754(0x31f)+(_0x1cbd08[_0x589754(0xabc)]?_0x589754(0x8ee)+_0x1cbd08['imageCode']+_0x589754(0x842):'')+_0x589754(0x283));_0xfad98e+=_0x589754(0x618);if(_0x3f74e6==='matching_item'&&_0x1cbd08[_0x589754(0xd3d)])_0xfad98e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>'+(_0x14fae8+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x1cbd08[_0x589754(0x87a)]+_0x589754(0x8b6)+_0x14fae8+_0x589754(0xe28)+_0x14fae8+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x14fae8+_0x589754(0x577)+_0x14fae8+_0x589754(0x892)+_0x14fae8+_0x589754(0xa9e)+_0x1cbd08['allResponses']['map']((_0xf37164,_0x32466c)=>_0x589754(0xd28)+_0x14fae8+',\x20'+_0x32466c+_0x589754(0x41f)+_0xf37164+_0x589754(0xce4))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x3f74e6===_0x589754(0xa76))_0xfad98e+=_0x589754(0x7ef)+_0x14fae8+_0x589754(0xe5b)+_0x14fae8+_0x589754(0x313)+_0x14fae8+_0x589754(0x3ce),_0xfad98e+=_0x589754(0x7ef)+_0x14fae8+_0x589754(0xe5e)+_0x14fae8+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x14fae8+_0x589754(0x3d7);else _0x1cbd08['options']&&Array[_0x589754(0x2bd)](_0x1cbd08[_0x589754(0x2da)])&&_0x1cbd08[_0x589754(0x2da)][_0x589754(0x357)]>0x0?_0xfad98e+=_0x1cbd08[_0x589754(0x2da)][_0x589754(0x926)]((_0x4c5c3e,_0x1b542c)=>_0x589754(0x5d1)+_0x14fae8+_0x589754(0xb97)+_0x1b542c+_0x589754(0xa29)+_0x14fae8+_0x589754(0x2ea)+_0x1b542c+_0x589754(0x2eb)+_0x14fae8+_0x589754(0xb97)+_0x1b542c+'\x22>'+_0x4c5c3e+_0x589754(0x5b9))[_0x589754(0xd7b)](''):_0xfad98e+=_0x589754(0xe10)+_0x14fae8+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';}_0xfad98e+=_0x589754(0x842),_0x7f2f42&&(_0xfad98e+=_0x589754(0x332),_0xae2e74===_0x589754(0x396)?_0xfad98e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x14fae8+'\x22\x20name=\x22confidence'+_0x14fae8+_0x589754(0x9b1)+_0x14fae8+_0x589754(0xc15)+_0x14fae8+_0x589754(0xd1c):_0xfad98e+=_0x589754(0x87d)+_0x14fae8+'\x22\x20name=\x22confidence'+_0x14fae8+_0x589754(0x35b)+_0x14fae8+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xfad98e+=_0x589754(0x842)),_0xfad98e+=_0x589754(0x842);}),_0xfad98e+=_0x3b435b(0x501),_0xfad98e+=_0x3b435b(0x259),studentQuizArea[_0x3b435b(0xc8c)]=_0xfad98e;if(currentMode===_0x3b435b(0x68d)){const _0x471824=document[_0x3b435b(0x693)](_0x3b435b(0xd40));if(_0x471824)_0x471824[_0x3b435b(0x5e0)](_0x3b435b(0x2df),cancelAdminTest);}const _0x433603=document[_0x3b435b(0x693)](_0x3b435b(0xb77));_0x433603&&(_0x433603['addEventListener']('submit',handleSubmitQuiz),_0x433603[_0x3b435b(0x5e0)](_0x3b435b(0x2df),_0x4712ee=>{const _0x59b32a=_0x3b435b;if(_0x4712ee[_0x59b32a(0x588)][_0x59b32a(0x43c)][_0x59b32a(0x539)](_0x59b32a(0xccf))){const _0x471b92=_0x4712ee[_0x59b32a(0x588)],_0xc9d3b5=_0x471b92[_0x59b32a(0x43d)][_0x59b32a(0x684)],_0x38cf02=_0x471b92[_0x59b32a(0x43d)][_0x59b32a(0xc5c)];document[_0x59b32a(0x693)](_0x59b32a(0xe61)+_0xc9d3b5)[_0x59b32a(0xc5c)]=_0x38cf02;const _0x335952=_0x471b92[_0x59b32a(0x851)];_0x335952[_0x59b32a(0xe56)](_0x59b32a(0x6ea))['forEach'](_0xfdb412=>_0xfdb412[_0x59b32a(0x43c)][_0x59b32a(0x200)](_0x59b32a(0x69a))),_0x471b92[_0x59b32a(0x43c)][_0x59b32a(0x128)](_0x59b32a(0x69a));}})),window[_0x3b435b(0xad6)]&&setTimeout(()=>{const _0x25151b=_0x3b435b;window[_0x25151b(0xad6)][_0x25151b(0x840)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x6d7b20){const _0x335799=_0x1b93ee;if(_0x6d7b20)_0x6d7b20['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x24930=document[_0x335799(0x693)](_0x335799(0xb77));if(!_0x24930)return;const _0x3b16fd=currentDisplayedQuiz[_0x335799(0x3f0)]?.[_0x335799(0x341)]===!![],_0x37a522=currentDisplayedQuiz[_0x335799(0x3f0)]?.[_0x335799(0x374)]||'checkbox';if(_0x3b16fd&&_0x37a522==='mandatory'){let _0x1cb4e8=!![];for(let _0x7c18c6=0x0;_0x7c18c6<currentDisplayedQuiz['questions'][_0x335799(0x357)];_0x7c18c6++){const _0x183f37=_0x24930[_0x335799(0xbc1)](_0x335799(0x1aa)+_0x7c18c6);if(!_0x183f37||_0x183f37[_0x335799(0xc5c)]===''){_0x1cb4e8=![];break;}}if(!_0x1cb4e8){showMessage(_0x335799(0x4d4));return;}}const _0xe540fc=_0x24930['querySelector'](_0x335799(0xa71)),_0x338ed9=currentDisplayedQuiz[_0x335799(0x4e6)][_0x335799(0xe64)](_0x57c017=>_0x57c017[_0x335799(0x994)]===_0x335799(0xbc0));_0xe540fc&&(_0xe540fc[_0x335799(0xe12)]=!![],_0xe540fc[_0x335799(0xc8c)]=_0x338ed9?_0x335799(0x15d):_0x335799(0xaea));const _0x536c2d=new FormData(_0x24930),_0x150f69=currentDisplayedQuiz[_0x335799(0x4e6)][_0x335799(0x926)]((_0x3590b6,_0x4f909d)=>{const _0x2521f2=_0x335799,_0x565806=_0x536c2d[_0x2521f2(0x1b2)](_0x2521f2(0x776)+_0x4f909d);let _0x1e8cef;_0x37a522==='mandatory'?_0x1e8cef=_0x536c2d['get']('confidence'+_0x4f909d):_0x1e8cef=_0x536c2d[_0x2521f2(0x1b2)](_0x2521f2(0x879)+_0x4f909d)==='on';let _0x3a3d64=null;if(_0x565806!==null&&_0x565806!==undefined){const _0xe2fa45=_0x3590b6['questionType']||currentDisplayedQuiz[_0x2521f2(0xcd7)];_0xe2fa45===_0x2521f2(0x6c4)||_0xe2fa45===_0x2521f2(0x856)?_0x3a3d64=parseInt(_0x565806):_0x3a3d64=_0x565806;}return{'answer':_0x3a3d64,'wasConfident':_0x1e8cef};}),_0x2058cf=currentQuizData['id'],_0x54a25e=doc(db,_0x335799(0xe45)+appId+_0x335799(0x449)+_0x2058cf+_0x335799(0xddf),currentStudentName),_0x2388b4=await getDoc(_0x54a25e),_0x317c29=_0x2388b4[_0x335799(0x5a9)]()?_0x2388b4[_0x335799(0x7d4)]():{},_0x5ccc24=_0x317c29[_0x335799(0xb5c)]||[];await processAndSubmitAnswers(_0x150f69,_0x5ccc24);}async function gradeShortAnswerWithAI(_0x3eeb60,_0x2c5a22){const _0x573ce=_0x1b93ee;if(!_0x3eeb60||!_0x2c5a22)return![];try{const _0x46004d=_0x573ce(0x5c5)+_0x3eeb60+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x2c5a22+_0x573ce(0x6da),_0xf236a5={'contents':[{'role':_0x573ce(0xf1),'parts':[{'text':_0x46004d}]}]},_0x42fb77=_0x573ce(0x58d),_0x29a6a4=_0x573ce(0xa0f)+_0x42fb77,_0x50c52a=await fetch(_0x29a6a4,{'method':_0x573ce(0xb76),'headers':{'Content-Type':_0x573ce(0x4ea)},'body':JSON[_0x573ce(0x1f9)](_0xf236a5)});if(!_0x50c52a['ok'])throw new Error(_0x573ce(0x50b));const _0x3dc105=await _0x50c52a['json'](),_0x6d8d9c=_0x3dc105[_0x573ce(0x995)][0x0]['content'][_0x573ce(0xe49)][0x0]['text']['trim']()[_0x573ce(0x95a)]();return _0x6d8d9c===_0x573ce(0xe0d);}catch(_0x13bb5a){return console[_0x573ce(0x75e)]('AI\x20grading\x20failed:',_0x13bb5a),![];}}async function processAndSubmitAnswers(_0x5c8da0,_0x4502e6){const _0x5c76a2=_0x1b93ee;releaseWakeLock(),stopDimTimer();try{document[_0x5c76a2(0x41a)]&&await document[_0x5c76a2(0xa94)]();}catch(_0x213620){console[_0x5c76a2(0x16e)](_0x5c76a2(0x45b),_0x213620);}isQuizActive=![],document[_0x5c76a2(0x663)](_0x5c76a2(0xc62),handleFullscreenChange),document['removeEventListener'](_0x5c76a2(0x717),handleVisibilityChange);let _0x204997=0x0;const _0x3d999d=[],_0x387aaa=currentDisplayedQuiz[_0x5c76a2(0x4e6)][_0x5c76a2(0x357)];let _0x5e2ae6=0x0,_0x1409ba=[];const _0x8050a2=currentDisplayedQuiz[_0x5c76a2(0x4e6)];for(let _0x48001f=0x0;_0x48001f<_0x8050a2[_0x5c76a2(0x357)];_0x48001f++){const _0x2201a4=_0x8050a2[_0x48001f],_0x1c6bdb=_0x5c8da0[_0x48001f],_0x467839=_0x1c6bdb?_0x1c6bdb[_0x5c76a2(0xcba)]:null,_0x4b8a6c=_0x1c6bdb?_0x1c6bdb[_0x5c76a2(0x9fa)]:null;let _0x506267=![],_0x106640=0x0;if(_0x467839!==null&&_0x467839!==''){const _0x2ff7dc=_0x2201a4[_0x5c76a2(0x994)]||currentDisplayedQuiz['quizType'];switch(_0x2ff7dc){case _0x5c76a2(0x1bc):_0x506267=_0x467839===_0x2201a4[_0x5c76a2(0x2e8)];break;case _0x5c76a2(0xa76):const _0x375e0e=_0x467839===!![]||_0x467839==='true';_0x506267=_0x375e0e===_0x2201a4[_0x5c76a2(0xbde)];break;case _0x5c76a2(0x236):case _0x5c76a2(0xbc0):_0x506267=await gradeShortAnswer(_0x467839,_0x2201a4);break;case _0x5c76a2(0x6c4):case'fill_in_with_choices':default:_0x506267=Number(_0x467839)===_0x2201a4[_0x5c76a2(0x3b0)];break;}}if(currentDisplayedQuiz[_0x5c76a2(0x3f0)]?.[_0x5c76a2(0x341)]){const _0x48d004=_0x1c6bdb?_0x1c6bdb[_0x5c76a2(0x9fa)]:null;if(_0x506267&&(_0x48d004===!![]||_0x48d004===_0x5c76a2(0xc6c)))_0x106640=0x2;else{if(_0x506267)_0x106640=0x1;else{if(!_0x506267&&(_0x48d004===![]||_0x48d004===_0x5c76a2(0x6ec)||_0x48d004===null))_0x106640=0x0;else!_0x506267&&(_0x48d004===!![]||_0x48d004===_0x5c76a2(0xc6c))&&(_0x106640=-0x1);}}}else _0x106640=_0x506267?0x1:0x0;_0x204997+=_0x106640;if(_0x506267){_0x5e2ae6++;if(_0x5e2ae6===0x3)_0x1409ba[_0x5c76a2(0xce5)](BADGES[_0x5c76a2(0x92b)]['id']);}else _0x5e2ae6=0x0;let _0x299e47=null;_0x2201a4['options']&&(_0x2201a4[_0x5c76a2(0x994)]==='multiple_choice'||_0x2201a4[_0x5c76a2(0x994)]===_0x5c76a2(0x7fc))&&_0x467839!==null?_0x299e47=_0x2201a4[_0x5c76a2(0x2da)][_0x467839]:_0x299e47=_0x467839,_0x3d999d[_0x5c76a2(0xce5)]({'questionId':_0x2201a4['id'],'answer':_0x467839,'answerText':_0x299e47,'isCorrect':_0x506267,'wasConfident':_0x4b8a6c,'pointsAwarded':_0x106640,'originalQuestionText':_0x2201a4[_0x5c76a2(0x87a)]||_0x2201a4['questionText']});}const _0x3f410a=_0x3d999d[_0x5c76a2(0x107)](_0x21335a=>_0x21335a[_0x5c76a2(0x5ce)])[_0x5c76a2(0x357)],_0x59aa4a=currentDisplayedQuiz['settings']?.[_0x5c76a2(0x18e)]??Math['floor'](_0x387aaa/0x2);_0x3f410a===_0x387aaa&&_0x387aaa>0x0&&!currentDisplayedQuiz[_0x5c76a2(0x97a)]&&_0x1409ba[_0x5c76a2(0xce5)](BADGES[_0x5c76a2(0xb36)]['id']);const _0x4db303=currentDisplayedQuiz['settings']?.[_0x5c76a2(0x2d9)];if(_0x4db303===_0x5c76a2(0x532)&&quizStartTime){const _0x427e51=(new Date()-quizStartTime)/0x3e8,_0x13bcf7=currentDisplayedQuiz[_0x5c76a2(0x3f0)][_0x5c76a2(0x8d0)]*0x3c;_0x3f410a>=_0x59aa4a&&_0x427e51<_0x13bcf7/0x2&&_0x1409ba['push'](BADGES[_0x5c76a2(0xbbb)]['id']);}_0x4502e6[_0x5c76a2(0x357)]===0x0&&_0x3f410a===_0x387aaa&&_0x387aaa>0x0&&_0x1409ba[_0x5c76a2(0xce5)](BADGES[_0x5c76a2(0x177)]['id']);if(_0x4502e6[_0x5c76a2(0x357)]>0x0){const _0x113d79=_0x4502e6[0x0][_0x5c76a2(0xe35)];if(_0x113d79<_0x59aa4a&&_0x3f410a>=_0x59aa4a){const _0x3f8989=_0x4502e6[_0x5c76a2(0xe64)](_0x3773be=>(_0x3773be[_0x5c76a2(0x55a)]||[])[_0x5c76a2(0x8bb)](BADGES['COMEBACK_KING']['id']));!_0x3f8989&&_0x1409ba[_0x5c76a2(0xce5)](BADGES['COMEBACK_KING']['id']);}}_0x4502e6[_0x5c76a2(0x357)]===0x4&&_0x1409ba[_0x5c76a2(0xce5)](BADGES['PERSEVERANCE']['id']);const _0x1b9d5e=currentDisplayedQuiz[_0x5c76a2(0x3f0)][_0x5c76a2(0xc9e)];if(currentMode===_0x5c76a2(0x68d)){handleResultDisplay(_0x1b9d5e,_0x3f410a,_0x204997,_0x1409ba,_0x3d999d,_0x387aaa);return;}const _0x4bdac2=currentQuizData['id'],_0x3d7115=doc(db,_0x5c76a2(0xe45)+appId+_0x5c76a2(0x449)+_0x4bdac2+_0x5c76a2(0xddf),currentStudentName);try{const _0x166d46=[..._0x4502e6],_0x5dace3={'score':_0x3f410a,'points':_0x204997,'badges':Array[_0x5c76a2(0xb1b)](new Set(_0x1409ba)),'submittedAt':new Date()[_0x5c76a2(0xdfc)](),'answers':_0x3d999d};_0x166d46[_0x5c76a2(0xce5)](_0x5dace3);const _0x17edd1=_0x4502e6[_0x5c76a2(0x357)]===0x0?_0x3f410a:_0x4502e6[0x0][_0x5c76a2(0xe35)]||0x0,_0x3c30b8=Math[_0x5c76a2(0x417)](..._0x166d46[_0x5c76a2(0x926)](_0x1237a7=>_0x1237a7[_0x5c76a2(0xe35)]));await setDoc(_0x3d7115,{'studentName':currentStudentName,'totalQuestions':_0x387aaa,'attempts':_0x166d46,'firstScore':_0x17edd1,'bestScore':_0x3c30b8,'latestScore':_0x3f410a,'points':_0x204997,'latestSubmittedAt':_0x5dace3[_0x5c76a2(0x8f0)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5c76a2(0x3a0)],currentStudentName),handleResultDisplay(_0x1b9d5e,_0x3f410a,_0x204997,_0x1409ba,_0x3d999d,_0x387aaa);}catch(_0x17cbea){console[_0x5c76a2(0x75e)](_0x5c76a2(0x45e),_0x17cbea),showMessage(_0x5c76a2(0xb7b));}}async function updateStudentProfile(_0x438da7,_0x50ce80){const _0x263645=_0x1b93ee,_0x80c4d8=doc(db,_0x263645(0xe45)+appId+'/public/data/projects/'+_0x438da7+_0x263645(0x63c),_0x50ce80);try{const _0xc5a55e=query(collection(db,_0x263645(0xe45)+appId+'/public/data/quizzes'),where('projectId','==',_0x438da7)),_0x2e1da7=await getDocs(_0xc5a55e),_0x4b74b5=new Map(_0x2e1da7[_0x263645(0x34d)][_0x263645(0x926)](_0x3415c1=>[_0x3415c1['id'],_0x3415c1[_0x263645(0x7d4)]()])),_0x4203c4=Array[_0x263645(0xb1b)](_0x4b74b5[_0x263645(0x89a)]());await runTransaction(db,async _0x4e878f=>{const _0x11930a=_0x263645;let _0x3739f4=0x0;const _0x5b8e79={};let _0x3cc9ae=!![],_0x57ef0c=0x0,_0x434640=0x0;for(const _0x33327a of _0x4203c4){const _0x1920fe=_0x4b74b5[_0x11930a(0x1b2)](_0x33327a),_0xf70996=doc(db,_0x11930a(0xe45)+appId+'/public/data/quizzes/'+_0x33327a+_0x11930a(0xddf),_0x50ce80),_0x147c7f=await _0x4e878f[_0x11930a(0x1b2)](_0xf70996);if(_0x147c7f['exists']()){const _0x2e1c8a=_0x147c7f[_0x11930a(0x7d4)](),_0x39d3e8=_0x2e1c8a['attempts']||[];if(_0x39d3e8[_0x11930a(0x357)]>0x0){const _0x1a096e=_0x39d3e8[_0x11930a(0xb28)]((_0x2444fd,_0x2b68e0)=>{const _0x23bc55=_0x11930a;if(_0x2b68e0[_0x23bc55(0xe35)]>_0x2444fd[_0x23bc55(0xe35)])return _0x2b68e0;if(_0x2b68e0[_0x23bc55(0xe35)]===_0x2444fd[_0x23bc55(0xe35)])return(_0x2b68e0[_0x23bc55(0x708)]||0x0)>(_0x2444fd[_0x23bc55(0x708)]||0x0)?_0x2b68e0:_0x2444fd;return _0x2444fd;},{'score':-0x1,'points':-0x1});_0x1a096e[_0x11930a(0xe35)]>-0x1&&(_0x3739f4+=_0x1a096e[_0x11930a(0x708)]||0x0,(_0x1a096e[_0x11930a(0x55a)]||[])[_0x11930a(0x242)](_0x56c3ac=>{_0x5b8e79[_0x56c3ac]=(_0x5b8e79[_0x56c3ac]||0x0)+0x1;}));}}if(_0x1920fe['topic']!=='แบบทดสอบซ่อมเสริม'){_0x434640++;if(_0x147c7f[_0x11930a(0x5a9)]()){_0x57ef0c++;const _0x248acf=_0x147c7f[_0x11930a(0x7d4)]();_0x248acf[_0x11930a(0xda6)]!==_0x248acf[_0x11930a(0x67b)]&&(_0x3cc9ae=![]);}else _0x3cc9ae=![];}}_0x434640>0x0&&_0x57ef0c===_0x434640&&_0x3cc9ae?_0x5b8e79[_0x11930a(0x403)]=0x1:_0x5b8e79[_0x11930a(0x403)]=0x0,_0x4e878f[_0x11930a(0x136)](_0x80c4d8,{'studentName':_0x50ce80,'totalPoints':_0x3739f4,'unlockedBadges':Object[_0x11930a(0x89a)](_0x5b8e79)[_0x11930a(0x107)](_0x760e60=>_0x5b8e79[_0x760e60]>0x0),'badgesCount':_0x5b8e79},{'merge':!![]});});}catch(_0x3be601){console[_0x263645(0x75e)](_0x263645(0xdf3),_0x3be601),showMessage(_0x263645(0x87f));}}function startAdminTest(){const _0x319439=_0x1b93ee;if(!currentQuizData){showMessage(_0x319439(0x70a));return;}let _0x54b706=JSON['parse'](JSON[_0x319439(0x1f9)](currentQuizData));currentMode=_0x319439(0x68d),currentStudentName=_0x319439(0xded),adminView[_0x319439(0x43c)][_0x319439(0x128)](_0x319439(0xa21)),studentView[_0x319439(0x43c)][_0x319439(0x200)](_0x319439(0xa21)),studentInitialView[_0x319439(0x43c)][_0x319439(0x128)](_0x319439(0xa21)),studentNameSelectionView[_0x319439(0x43c)][_0x319439(0x128)](_0x319439(0xa21)),studentResultArea[_0x319439(0x43c)][_0x319439(0x128)](_0x319439(0xa21)),studentQuizArea[_0x319439(0x43c)]['remove'](_0x319439(0xa21)),quizStartTime=new Date(),displayQuizForStudent(_0x54b706);}function handleResultDisplay(_0x2a447c,_0x2c8c9e,_0xfb2153,_0x46a4c5,_0x3c9f89,_0x50bb8d){const _0x2c75df=_0x1b93ee;if(_0x2a447c===_0x2c75df(0x930)){displaySubmissionConfirmation();return;}const _0x56d555=currentDisplayedQuiz[_0x2c75df(0x3f0)]?.[_0x2c75df(0x18e)]??Math[_0x2c75df(0x567)](_0x50bb8d/0x2),_0x2fc991=currentDisplayedQuiz[_0x2c75df(0x3f0)]?.[_0x2c75df(0x640)]??![],_0x478fac=currentDisplayedQuiz[_0x2c75df(0x3f0)]?.[_0x2c75df(0xb54)]===!![],_0x1c8387=_0x2c8c9e<_0x56d555,_0x488c73=_0x2a447c==='half_mark_status'||_0x2a447c===_0x2c75df(0xd47);if(_0x478fac&&_0x1c8387&&!_0x488c73){_0x2a447c===_0x2c75df(0xbe0)?displayResultsWithAnswers(_0x2c8c9e,_0xfb2153,_0x46a4c5,_0x3c9f89,_0x50bb8d,!![]):displayLoopScreen(_0x2c8c9e,_0x50bb8d,_0x2a447c);return;}if(_0x2fc991&&_0x1c8387){startAdaptiveFlow(_0x3c9f89,_0x2c8c9e,_0x50bb8d);return;}switch(_0x2a447c){case _0x2c75df(0xbe0):displayResultsWithAnswers(_0x2c8c9e,_0xfb2153,_0x46a4c5,_0x3c9f89,_0x50bb8d);break;case _0x2c75df(0xa9f):displayResultsScoreOnly(_0x2c8c9e,_0xfb2153,_0x46a4c5,_0x50bb8d);break;case _0x2c75df(0x7a3):displayPassFailOnly(_0x2c8c9e,_0x50bb8d);break;case _0x2c75df(0x503):displayHalfMarkResult(_0x2c8c9e,_0x50bb8d);break;case'perfect_score_status':displayPerfectScoreResult(_0x2c8c9e,_0x50bb8d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x409f9c){const _0x5cfebf=_0x1b93ee;studentReadingArea['innerHTML']=_0x5cfebf(0xcec);const _0x2adf3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x409f9c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x5cfebf(0x90d),_0x5e23d5={'type':_0x5cfebf(0xd69),'properties':{'questionText':{'type':_0x5cfebf(0x47c)},'options':{'type':_0x5cfebf(0x17d),'items':{'type':_0x5cfebf(0x47c)}},'correctAnswerIndex':{'type':_0x5cfebf(0x7a8)},'explanation':{'type':'STRING'}},'required':[_0x5cfebf(0xd6a),_0x5cfebf(0x2da),_0x5cfebf(0x3b0),_0x5cfebf(0xad8)]},_0x451d34={'type':_0x5cfebf(0xd69),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5cfebf(0x17d),'items':_0x5e23d5}},'required':[_0x5cfebf(0x669),_0x5cfebf(0x4e6)]};try{const _0x106b68=await callAnalysisApi(_0x2adf3c,_0x451d34);_0x106b68[_0x5cfebf(0x97a)]=!![],studentReadingArea[_0x5cfebf(0x43c)][_0x5cfebf(0x128)](_0x5cfebf(0xa21));const _0x20572d={...currentDisplayedQuiz[_0x5cfebf(0x3f0)],'isAdaptive':![],'resultsDisplay':_0x5cfebf(0xbe0)};_0x106b68[_0x5cfebf(0x3f0)]=_0x20572d,displayQuizForStudent(_0x106b68);}catch(_0x33e18e){console[_0x5cfebf(0x75e)]('Remedial\x20quiz\x20generation\x20failed:',_0x33e18e),showMessage(_0x5cfebf(0x4b8)),showView(_0x5cfebf(0x5ed));}}function displayPassFailOnly(_0x144121,_0x59cc9f){const _0x2e4a7b=_0x1b93ee,_0x163894=currentDisplayedQuiz[_0x2e4a7b(0x3f0)]?.['passingScore']??-0x1,_0x3ae523=currentDisplayedQuiz['isRemedial']===!![];let _0x44c937='',_0x3d8b12=![];if(_0x3ae523||_0x163894!==-0x1){_0x3d8b12=_0x3ae523?_0x144121===_0x59cc9f:_0x144121>=_0x163894;const _0x444f05=_0x3d8b12?_0x2e4a7b(0x154):_0x2e4a7b(0xd23),_0xe9da22=_0x3d8b12?'ผ่าน':'ไม่ผ่าน';_0x44c937=_0x2e4a7b(0x7fe)+_0x444f05+'\x22>'+_0xe9da22+_0x2e4a7b(0x752);}else _0x44c937=_0x2e4a7b(0xcdf);let _0x1e9eaf=_0x2e4a7b(0x64c)+currentStudentName+_0x2e4a7b(0x46f)+_0x44c937+_0x2e4a7b(0x54a);studentResultArea['innerHTML']=_0x1e9eaf,studentResultArea['classList'][_0x2e4a7b(0x200)](_0x2e4a7b(0xa21)),studentQuizArea['classList'][_0x2e4a7b(0x128)](_0x2e4a7b(0xa21)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3d8b12});}function cancelAdminTest(){const _0x44db4f=_0x1b93ee;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x44db4f(0x663)](_0x44db4f(0xc62),handleFullscreenChange),document[_0x44db4f(0x663)](_0x44db4f(0x717),handleVisibilityChange),currentMode=_0x44db4f(0x23c),studentView['classList'][_0x44db4f(0x128)](_0x44db4f(0xa21)),adminView[_0x44db4f(0x43c)][_0x44db4f(0x200)](_0x44db4f(0xa21)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x470eb6){const _0x57fef8=_0x1b93ee,_0x294d6e={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x470eb6};if(_0x294d6e['isLooping']){const _0x5520e3=_0x57fef8(0x15b);studentResultArea[_0x57fef8(0xce8)](_0x57fef8(0xa10),_0x5520e3),document[_0x57fef8(0x693)](_0x57fef8(0x914))[_0x57fef8(0x5e0)](_0x57fef8(0x2df),()=>{const _0x2f9c65=_0x57fef8;studentResultArea[_0x2f9c65(0x43c)][_0x2f9c65(0x128)](_0x2f9c65(0xa21)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x252108=_0x57fef8(0x31e),_0x111e0f=currentMode===_0x57fef8(0x68d),_0x2ca8b0=_0x111e0f?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x22aee1='';_0x294d6e[_0x57fef8(0xdc2)]&&(_0x22aee1+=_0x57fef8(0x97d));let _0x4baa53=_0x294d6e['showImproveButton'];_0x4baa53===undefined&&(_0x4baa53=_0x294d6e[_0x57fef8(0xe35)]<_0x294d6e['totalQuestions']);_0x4baa53&&(_0x22aee1+=_0x57fef8(0xf8));_0x22aee1+='<button\x20id=\x22'+_0x252108+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x2ca8b0+_0x57fef8(0x4f3);const _0x292ec8=_0x57fef8(0x54f)+_0x22aee1+_0x57fef8(0x842);studentResultArea[_0x57fef8(0xce8)]('beforeend',_0x292ec8),studentResultArea[_0x57fef8(0xbc1)](_0x57fef8(0xc74))?.[_0x57fef8(0x5e0)](_0x57fef8(0x2df),handleShowStudentRankings);const _0x3df95f=studentResultArea[_0x57fef8(0xbc1)](_0x57fef8(0x716));_0x3df95f&&_0x3df95f[_0x57fef8(0x5e0)]('click',()=>{const _0x33cfb1=_0x57fef8;studentResultArea['classList'][_0x33cfb1(0x128)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x57fef8(0x693)](_0x252108)[_0x57fef8(0x5e0)]('click',()=>{const _0x5b86ef=_0x57fef8;_0x111e0f?(currentMode='admin',studentView[_0x5b86ef(0x43c)][_0x5b86ef(0x128)](_0x5b86ef(0xa21)),adminView[_0x5b86ef(0x43c)]['remove'](_0x5b86ef(0xa21)),showView(_0x5b86ef(0x66a))):(showView(_0x5b86ef(0x5ed)),document[_0x5b86ef(0x693)](_0x5b86ef(0xdec))[_0x5b86ef(0xc5c)]='');});}function displayResultsWithAnswers(_0x265bad,_0x2f4fad,_0x4f01fb,_0x57316b,_0x1ec667,_0x3e48dd=![]){const _0x28a401=_0x1b93ee,_0x5c682d=_0x1ec667>0x0?_0x265bad/_0x1ec667*0x64:0x0,_0x10da4f=currentDisplayedQuiz[_0x28a401(0x3f0)]?.['passingScore']??-0x1,_0x55fd82=currentDisplayedQuiz[_0x28a401(0x97a)]===!![];let _0x137533='';if(_0x55fd82||_0x10da4f!==-0x1){let _0x2f6068=_0x55fd82?_0x265bad===_0x1ec667:_0x265bad>=_0x10da4f;const _0x38472e=_0x2f6068?'bg-green-100\x20text-green-800':_0x28a401(0xd23),_0x2978ec=_0x2f6068?_0x28a401(0x83d):_0x28a401(0xa2f);_0x137533=_0x28a401(0x6dc)+_0x38472e+'\x22>'+_0x2978ec+_0x28a401(0x3ee);}let _0x43fcd5=_0x28a401(0xa17)+currentStudentName+_0x28a401(0x1a2)+_0x265bad+_0x28a401(0xbce)+_0x1ec667+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x137533+_0x28a401(0x11d)+_0x2f4fad+_0x28a401(0x1f4)+_0x5c682d[_0x28a401(0x8ed)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x28a401(0x4e6)][_0x28a401(0x242)]((_0x392c01,_0x4fcee5)=>{const _0x565ee5=_0x28a401,_0x4eccb1=_0x57316b[_0x4fcee5],_0x4fb3d2=_0x4eccb1['answer'],_0x5dbdf0=_0x4eccb1['isCorrect'],_0x307658=_0x392c01['questionType']||currentDisplayedQuiz[_0x565ee5(0xcd7)];_0x43fcd5+=_0x565ee5(0x685)+(_0x5dbdf0?_0x565ee5(0x835):_0x565ee5(0xa70))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4fcee5+0x1)+'.\x20'+(_0x392c01[_0x565ee5(0x87a)]||_0x392c01[_0x565ee5(0xd6a)])+_0x565ee5(0xaaa);switch(_0x307658){case _0x565ee5(0x1bc):const _0x1f9370=_0x4fb3d2||_0x565ee5(0x288),_0x39a264=_0x392c01[_0x565ee5(0x2e8)];_0x43fcd5+=_0x565ee5(0x199)+(!_0x5dbdf0?'line-through\x20text-red-700':'')+'\x22>'+_0x1f9370+'</span></p>';!_0x5dbdf0&&(_0x43fcd5+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x39a264+'</p>');break;case _0x565ee5(0x236):case'short_answer':_0x43fcd5+=_0x565ee5(0x9ae)+(_0x4fb3d2||_0x565ee5(0x288))+_0x565ee5(0x3ee),_0x43fcd5+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x392c01['idealAnswer']+_0x565ee5(0x3ee);break;case _0x565ee5(0xa76):_0x43fcd5+=_0x565ee5(0x395)+(_0x392c01[_0x565ee5(0xbde)]===!![]?_0x565ee5(0x9c0):'')+'\x20'+(_0x4fb3d2===_0x565ee5(0xe0d)&&!_0x5dbdf0?'line-through\x20text-red-700':'')+_0x565ee5(0x3c7),_0x43fcd5+=_0x565ee5(0x395)+(_0x392c01[_0x565ee5(0xbde)]===![]?_0x565ee5(0x9c0):'')+'\x20'+(_0x4fb3d2===_0x565ee5(0xdee)&&!_0x5dbdf0?_0x565ee5(0xc8f):'')+_0x565ee5(0xcaa);break;case _0x565ee5(0x6c4):case _0x565ee5(0x7fc):default:if(_0x392c01[_0x565ee5(0x2da)]&&Array[_0x565ee5(0x2bd)](_0x392c01[_0x565ee5(0x2da)]))_0x43fcd5+=_0x392c01[_0x565ee5(0x2da)]['map']((_0x11e38b,_0x45b61f)=>{const _0x5c1501=_0x565ee5;let _0x3a6ade='',_0x16bf47='';if(_0x45b61f===_0x392c01[_0x5c1501(0x3b0)])_0x3a6ade=_0x5c1501(0x9c0),_0x16bf47=_0x5c1501(0x997);else _0x45b61f===_0x4fb3d2&&(_0x3a6ade=_0x5c1501(0xbb9),_0x16bf47=_0x5c1501(0x3b1));return'<div\x20class=\x22'+_0x3a6ade+'\x22>'+_0x16bf47+_0x11e38b+_0x5c1501(0x842);})[_0x565ee5(0xd7b)]('');else{_0x43fcd5+=_0x565ee5(0x9ae)+(_0x4fb3d2||_0x565ee5(0x288))+_0x565ee5(0x3ee);if(!_0x5dbdf0)_0x43fcd5+=_0x565ee5(0x907);}break;}_0x43fcd5+=_0x565ee5(0xa3d)+(_0x392c01['explanation']||_0x565ee5(0x4ee))+'</div>';if(!_0x5dbdf0){const _0x2207e8=_0x392c01[_0x565ee5(0x87a)]||_0x392c01[_0x565ee5(0xd6a)];_0x43fcd5+=_0x565ee5(0x4be)+escape(_0x2207e8)+_0x565ee5(0x989);}_0x43fcd5+='</div>';}),studentResultArea['innerHTML']=_0x43fcd5,renderEarnedBadges(_0x4f01fb,_0x28a401(0x8ef)),studentResultArea[_0x28a401(0x43c)][_0x28a401(0x200)](_0x28a401(0xa21)),studentQuizArea[_0x28a401(0x43c)][_0x28a401(0x128)](_0x28a401(0xa21)),setupResultScreenBackButton({'isLooping':_0x3e48dd,'score':_0x265bad,'totalQuestions':_0x1ec667,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x28a401(0x840)]([studentResultArea]);}function displayResultsScoreOnly(_0xf653f5,_0x41fbdf,_0x1cc1e2,_0x8fdfa4){const _0x5b763b=_0x1b93ee,_0x50b0d9=_0x8fdfa4>0x0?_0xf653f5/_0x8fdfa4*0x64:0x0,_0x4bff25=currentDisplayedQuiz[_0x5b763b(0x3f0)]?.[_0x5b763b(0x18e)]??-0x1,_0x43e8ac=currentDisplayedQuiz['isRemedial']===!![];let _0x180d52='';if(_0x43e8ac||_0x4bff25!==-0x1){let _0x2aed1f=_0x43e8ac?_0xf653f5===_0x8fdfa4:_0xf653f5>=_0x4bff25;const _0x37a7ea=_0x2aed1f?_0x5b763b(0x154):_0x5b763b(0xd23),_0x40b5fc=_0x2aed1f?'ผ่าน':_0x5b763b(0xa2f);_0x180d52=_0x5b763b(0x6dc)+_0x37a7ea+'\x22>'+_0x40b5fc+_0x5b763b(0x3ee);}let _0x5b04ad=_0x5b763b(0x64c)+currentStudentName+_0x5b763b(0x955)+_0xf653f5+_0x5b763b(0x1fa)+_0x8fdfa4+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x180d52+_0x5b763b(0x11d)+_0x41fbdf+_0x5b763b(0x82d)+_0x50b0d9[_0x5b763b(0x8ed)](0x0)+_0x5b763b(0x561);studentResultArea['innerHTML']=_0x5b04ad,renderEarnedBadges(_0x1cc1e2,'earned-badges-container'),studentResultArea['classList'][_0x5b763b(0x200)]('hidden'),studentQuizArea[_0x5b763b(0x43c)][_0x5b763b(0x128)](_0x5b763b(0xa21)),setupResultScreenBackButton({'score':_0xf653f5,'totalQuestions':_0x8fdfa4,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x172844=_0x1b93ee;let _0x3798f1=_0x172844(0x435)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x3798f1,studentResultArea[_0x172844(0x43c)][_0x172844(0x200)](_0x172844(0xa21)),studentQuizArea[_0x172844(0x43c)][_0x172844(0x128)]('hidden'),document['getElementById']('back-to-home-manual-release')[_0x172844(0x5e0)]('click',()=>{const _0x37a60c=_0x172844;showView(_0x37a60c(0x5ed)),document[_0x37a60c(0x693)](_0x37a60c(0xdec))[_0x37a60c(0xc5c)]='';});}function renderEarnedBadges(_0x245b7b,_0x23b068){const _0x16360b=_0x1b93ee,_0x79a33c=document[_0x16360b(0x693)](_0x23b068);if(!_0x79a33c||!_0x245b7b||_0x245b7b[_0x16360b(0x357)]===0x0)return;let _0x4333b9='';_0x245b7b[_0x16360b(0x242)]((_0x42b92d,_0x5afb24)=>{const _0x195951=_0x16360b,_0x4a2314=Object[_0x195951(0x8d9)](BADGES)[_0x195951(0xe69)](_0x52f941=>_0x52f941['id']===_0x42b92d);_0x4a2314&&(_0x4333b9+=_0x195951(0xaa3)+_0x5afb24*0.2+_0x195951(0x586)+_0x4a2314[_0x195951(0xe0b)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4a2314[_0x195951(0x4e8)]+_0x195951(0xc7d)+_0x4a2314[_0x195951(0x41d)]+_0x195951(0x741));}),_0x79a33c[_0x16360b(0xc8c)]=_0x4333b9;}function startPresentation(_0x57497a){const _0x1c9d52=_0x1b93ee;currentQuizData=getShuffledQuiz(_0x57497a),currentPresentationSlide=0x0,presentationModal[_0x1c9d52(0x77b)][_0x1c9d52(0xb4c)]=_0x1c9d52(0xa50),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5de0d7=_0x1b93ee;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x5de0d7(0x77b)][_0x5de0d7(0xb4c)]=_0x5de0d7(0x2c6);}function renderPresentationSlide(_0x441e5b){const _0x36ab9c=_0x1b93ee,_0x397d55=document[_0x36ab9c(0x693)](_0x36ab9c(0x7a1));if(!currentQuizData||!currentQuizData[_0x36ab9c(0x4e6)]||!currentQuizData[_0x36ab9c(0x4e6)][_0x441e5b]){_0x397d55[_0x36ab9c(0xc8c)]=_0x36ab9c(0x42c);return;}const _0x2788b1=currentQuizData[_0x36ab9c(0x4e6)][_0x441e5b],_0x458d70=_0x2788b1[_0x36ab9c(0x994)]||currentQuizData['quizType'];_0x397d55[_0x36ab9c(0xc8c)]='';let _0x36131d=_0x36ab9c(0x4fd)+(_0x2788b1[_0x36ab9c(0xabc)]?_0x36ab9c(0x8ee)+_0x2788b1[_0x36ab9c(0xabc)]+_0x36ab9c(0x842):'')+_0x36ab9c(0xd02)+(_0x441e5b+0x1)+'.\x20'+(_0x2788b1['stem']||_0x2788b1[_0x36ab9c(0xd6a)])+_0x36ab9c(0x4d5);switch(_0x458d70){case _0x36ab9c(0x1bc):_0x36131d+=_0x2788b1[_0x36ab9c(0xd3d)][_0x36ab9c(0x926)](_0x31438b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31438b+_0x36ab9c(0xd09))[_0x36ab9c(0xd7b)]('');break;case _0x36ab9c(0xa76):_0x36131d+=_0x36ab9c(0x7c1),_0x36131d+=_0x36ab9c(0xb1d);break;case _0x36ab9c(0x236):case _0x36ab9c(0xbc0):_0x36131d+=_0x36ab9c(0xac9);break;case'fill_in_the_blank':case _0x36ab9c(0x6c4):default:_0x36131d+=_0x2788b1['options'][_0x36ab9c(0x926)]((_0x21cbc4,_0x52072e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x52072e+_0x36ab9c(0x348)+_0x21cbc4+_0x36ab9c(0xd09))['join']('');break;}_0x36131d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x2788b1[_0x36ab9c(0xad8)]||_0x36ab9c(0x4ee))+_0x36ab9c(0x77d),_0x397d55[_0x36ab9c(0xc8c)]=_0x36131d;if(window[_0x36ab9c(0xad6)])window[_0x36ab9c(0xad6)]['typesetPromise']([_0x397d55]);let _0x369461=[];switch(_0x458d70){case _0x36ab9c(0x1bc):_0x369461=_0x2788b1['allResponses']||[];break;case _0x36ab9c(0xa76):_0x369461=[_0x36ab9c(0x4f8),_0x36ab9c(0x85f)];break;default:_0x369461=_0x2788b1[_0x36ab9c(0x2da)]||[];break;}const _0xb332cf=document[_0x36ab9c(0x693)](_0x36ab9c(0xc4c));_0xb332cf&&(_0xb332cf[_0x36ab9c(0x72e)]=()=>{openScratchpad(_0x2788b1,_0x369461);});document[_0x36ab9c(0xe56)]('.presentation-option')['forEach'](_0x2f0107=>{const _0x5411b9=_0x36ab9c;_0x2f0107[_0x5411b9(0x5e0)](_0x5411b9(0x2df),_0x2bdaea=>revealAnswerForPresentation(_0x441e5b,_0x2bdaea['currentTarget']));});const _0x12e2ad=document[_0x36ab9c(0x693)](_0x36ab9c(0xd7d));_0x12e2ad&&_0x12e2ad['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x441e5b)),document[_0x36ab9c(0x693)](_0x36ab9c(0xb0d))[_0x36ab9c(0xc08)]=_0x36ab9c(0xc9b)+(_0x441e5b+0x1)+_0x36ab9c(0x2c5)+currentQuizData[_0x36ab9c(0x4e6)][_0x36ab9c(0x357)],document[_0x36ab9c(0x693)](_0x36ab9c(0x6b3))[_0x36ab9c(0xe12)]=_0x441e5b===0x0,document[_0x36ab9c(0x693)](_0x36ab9c(0x91a))[_0x36ab9c(0xe12)]=_0x441e5b===currentQuizData['questions'][_0x36ab9c(0x357)]-0x1;}async function checkShortAnswerForPresentation(_0x34b7af){const _0x3207ee=_0x1b93ee,_0xbed0c3=currentQuizData[_0x3207ee(0x4e6)][_0x34b7af],_0x2c805f=document[_0x3207ee(0x693)](_0x3207ee(0x3b9)),_0x4e3cf7=document[_0x3207ee(0x693)]('check-presentation-answer-btn'),_0x56451d=document['getElementById'](_0x3207ee(0xd3e)),_0x1093e4=document[_0x3207ee(0x693)](_0x3207ee(0x338));if(!_0x2c805f||!_0x4e3cf7||!_0x56451d||!_0x1093e4)return;const _0x44f192=_0x2c805f[_0x3207ee(0xc5c)]['trim']();if(_0x44f192==='')return;_0x4e3cf7['disabled']=!![],_0x4e3cf7['innerHTML']=_0x3207ee(0xdb2),_0x2c805f['disabled']=!![];const _0x547ec5=await gradeShortAnswer(_0x44f192,_0xbed0c3);_0x547ec5?_0x56451d[_0x3207ee(0xc8c)]=_0x3207ee(0x906):_0x56451d[_0x3207ee(0xc8c)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0xbed0c3[_0x3207ee(0x9ee)]+')',_0x56451d[_0x3207ee(0x43c)][_0x3207ee(0x200)](_0x3207ee(0xa21)),_0x1093e4[_0x3207ee(0x43c)][_0x3207ee(0x200)]('hidden'),_0x4e3cf7[_0x3207ee(0x43c)][_0x3207ee(0x128)](_0x3207ee(0xa21));}function revealAnswerForPresentation(_0xf6e93,_0x30a99b){const _0x355561=_0x1b93ee,_0x28b895=currentQuizData['questions'][_0xf6e93],_0x26bab6=_0x28b895[_0x355561(0x994)]||currentQuizData['quizType'];document['querySelectorAll']('.presentation-option')[_0x355561(0x242)](_0x32fba3=>{const _0x3c3084=_0x355561;_0x32fba3['disabled']=!![],_0x32fba3[_0x3c3084(0x43c)][_0x3c3084(0x200)]('hover:bg-indigo-100');let _0x5db342=![];if(_0x26bab6==='multiple_choice'||_0x26bab6===_0x3c3084(0x856)){const _0x4e8783=parseInt(_0x32fba3[_0x3c3084(0x43d)][_0x3c3084(0x6ca)]);_0x5db342=_0x4e8783===_0x28b895[_0x3c3084(0x3b0)];}else{if(_0x26bab6===_0x3c3084(0xa76)){const _0x1e0fd2=_0x32fba3[_0x3c3084(0x43d)]['answer']==='true';_0x5db342=_0x1e0fd2===_0x28b895['correctAnswer'];}else _0x26bab6===_0x3c3084(0x1bc)&&(_0x5db342=_0x32fba3[_0x3c3084(0xc08)][_0x3c3084(0xb6d)]()===_0x28b895[_0x3c3084(0x2e8)]);}_0x5db342?_0x32fba3[_0x3c3084(0x43c)][_0x3c3084(0x128)](_0x3c3084(0x1e1),'text-white','border-green-700'):_0x32fba3['classList'][_0x3c3084(0x128)](_0x3c3084(0x677));}),_0x30a99b[_0x355561(0x43c)][_0x355561(0x200)](_0x355561(0x677));let _0x3b3bb3=![];if(_0x26bab6==='multiple_choice')_0x3b3bb3=parseInt(_0x30a99b[_0x355561(0x43d)][_0x355561(0x6ca)])===_0x28b895[_0x355561(0x3b0)];else{if(_0x26bab6===_0x355561(0xa76))_0x3b3bb3=_0x30a99b[_0x355561(0x43d)][_0x355561(0xcba)]===_0x355561(0xe0d)===_0x28b895[_0x355561(0xbde)];else _0x26bab6===_0x355561(0x1bc)&&(_0x3b3bb3=_0x30a99b[_0x355561(0xc08)][_0x355561(0xb6d)]()===_0x28b895[_0x355561(0x2e8)]);}!_0x3b3bb3&&_0x30a99b[_0x355561(0x43c)][_0x355561(0x128)](_0x355561(0x67d),_0x355561(0xba3),'border-red-700'),document[_0x355561(0x693)]('presentation-explanation')['classList'][_0x355561(0x200)](_0x355561(0xa21));}function startWholeQuizTimer(_0x9265af){const _0x29f005=_0x1b93ee,_0x2eea33=document[_0x29f005(0x693)](_0x29f005(0x52c));if(!_0x2eea33)return;const _0x366554=Date['now']()+_0x9265af*0x3c*0x3e8;_0x2eea33[_0x29f005(0xc8c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x39cf4c=document[_0x29f005(0x693)](_0x29f005(0x916));quizTimerInterval=setInterval(()=>{const _0x40260e=_0x29f005,_0x57bea0=_0x366554-Date[_0x40260e(0xa37)]();if(_0x57bea0<=0x0)clearInterval(quizTimerInterval),_0x39cf4c['textContent']=_0x40260e(0x6b9),showMessage(_0x40260e(0x2c4)),handleSubmitQuiz(null);else{const _0x27be2a=Math[_0x40260e(0x567)](_0x57bea0/0x3e8/0x3c%0x3c)[_0x40260e(0x95f)]()[_0x40260e(0x4ad)](0x2,'0'),_0x2cbd4b=Math[_0x40260e(0x567)](_0x57bea0/0x3e8%0x3c)[_0x40260e(0x95f)]()[_0x40260e(0x4ad)](0x2,'0');_0x39cf4c[_0x40260e(0xc08)]=_0x27be2a+':'+_0x2cbd4b;}},0x3e8);}function renderPerQuestionView(){const _0x39fb57=_0x1b93ee;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x447fd9=currentDisplayedQuiz[_0x39fb57(0x4e6)][currentQuestionIndex],_0x577487=_0x447fd9[_0x39fb57(0x994)]||currentDisplayedQuiz[_0x39fb57(0xcd7)],_0xb15423=currentDisplayedQuiz[_0x39fb57(0x3f0)]?.[_0x39fb57(0x341)]===!![];let _0x49c5ee=_0x39fb57(0xaa5)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x39fb57(0x4e6)]['length']+_0x39fb57(0x766)+(currentMode===_0x39fb57(0x68d)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x39fb57(0x130)+currentDisplayedQuiz[_0x39fb57(0x669)]+_0x39fb57(0x376);studentQuizArea[_0x39fb57(0xc8c)]=_0x49c5ee;let _0x510a1f=_0x447fd9['stem']||_0x447fd9[_0x39fb57(0xd6a)];_0x447fd9['imageCode']&&(_0x510a1f+=_0x39fb57(0x8ee)+_0x447fd9['imageCode']+_0x39fb57(0x842));let _0x2311be='';switch(_0x577487){case _0x39fb57(0xbc0):case _0x39fb57(0x236):_0x2311be=_0x39fb57(0xba0);break;case'true_false':_0x2311be=_0x39fb57(0xc02);break;case _0x39fb57(0x1bc):_0x2311be=_0x39fb57(0x20d)+(_0x447fd9[_0x39fb57(0xd3d)]||[])[_0x39fb57(0x926)](_0x47926a=>_0x39fb57(0x1fe)+_0x47926a+'\x22>'+_0x47926a+_0x39fb57(0x280))['join']('')+_0x39fb57(0x648);break;default:_0x447fd9[_0x39fb57(0x2da)]&&(_0x2311be=_0x447fd9[_0x39fb57(0x2da)]['map']((_0x1c2718,_0x443909)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x443909+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x443909+_0x39fb57(0x164)+_0x443909+'\x22>'+_0x1c2718+_0x39fb57(0x33b))[_0x39fb57(0xd7b)](''));break;}document[_0x39fb57(0x693)](_0x39fb57(0x105))[_0x39fb57(0xc8c)]=_0x510a1f,document[_0x39fb57(0x693)]('per-question-options')[_0x39fb57(0xc8c)]=_0x2311be;const _0x2122be=currentDisplayedQuiz[_0x39fb57(0x3f0)]?.[_0x39fb57(0x341)]===!![],_0x1723b4=currentDisplayedQuiz['settings']?.[_0x39fb57(0x374)]||_0x39fb57(0x2f1);if(_0x2122be&&_0x1723b4===_0x39fb57(0x2f1)){const _0x34ad52=_0x39fb57(0x71f);studentQuizArea['querySelector'](_0x39fb57(0x1ee))[_0x39fb57(0xce8)](_0x39fb57(0xa10),_0x34ad52);}studentQuizArea[_0x39fb57(0xce8)](_0x39fb57(0xa10),_0x39fb57(0x81c)+(currentQuestionIndex===currentDisplayedQuiz[_0x39fb57(0x4e6)][_0x39fb57(0x357)]-0x1?_0x39fb57(0xd86):_0x39fb57(0xc13))+_0x39fb57(0xbb3));currentMode===_0x39fb57(0x68d)&&document['getElementById'](_0x39fb57(0xd40))?.[_0x39fb57(0x5e0)](_0x39fb57(0x2df),cancelAdminTest);document[_0x39fb57(0x693)](_0x39fb57(0xe63))[_0x39fb57(0x5e0)](_0x39fb57(0x2df),()=>handleNextQuestionInTimedMode(![]));if(window[_0x39fb57(0xad6)])window[_0x39fb57(0xad6)][_0x39fb57(0x840)]([studentQuizArea]);currentDisplayedQuiz[_0x39fb57(0x3f0)]?.[_0x39fb57(0x2d9)]===_0x39fb57(0xd0b)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x54f576=_0x1b93ee,_0x5e7a4b=currentDisplayedQuiz['settings'][_0x54f576(0x8d0)],_0x1a9fa2=document[_0x54f576(0x693)](_0x54f576(0xb2d));if(!_0x1a9fa2)return;let _0xc0a3bd=_0x5e7a4b;_0x1a9fa2[_0x54f576(0xc8c)]=_0x54f576(0xd2b)+_0xc0a3bd+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x44fe18=document[_0x54f576(0x693)]('timer-bar'),_0x57f7a5=document[_0x54f576(0x693)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x5c93df=_0x54f576;_0xc0a3bd--;const _0x6a6a00=_0xc0a3bd/_0x5e7a4b*0x64;_0x44fe18[_0x5c93df(0x77b)][_0x5c93df(0x129)]=_0x6a6a00+'%',_0x57f7a5['textContent']=_0xc0a3bd,_0xc0a3bd<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5c93df(0x9d7)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x9cca0f=![]){const _0xb91903=_0x1b93ee;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1fbafc=null,_0x376110=![];if(!_0x9cca0f){const _0x3ccc8b=currentDisplayedQuiz[_0xb91903(0x4e6)][currentQuestionIndex],_0x526e7b=_0x3ccc8b[_0xb91903(0x994)]||currentDisplayedQuiz[_0xb91903(0xcd7)];if(_0x526e7b===_0xb91903(0xbc0)||_0x526e7b===_0xb91903(0x236))_0x1fbafc=document[_0xb91903(0xbc1)](_0xb91903(0x550))?.['value']['trim']()??'';else{if(_0x526e7b===_0xb91903(0x1bc))_0x1fbafc=document[_0xb91903(0xbc1)](_0xb91903(0x1c1))?.[_0xb91903(0xc5c)]??'';else{const _0x56ed88=document[_0xb91903(0xbc1)](_0xb91903(0xcda));_0x56ed88&&(_0x1fbafc=_0x56ed88[_0xb91903(0xc5c)]);}}if(_0x1fbafc===null||_0x1fbafc===''){showMessage(_0xb91903(0x6a2)),startPerQuestionTimer();return;}const _0x5f2e71=currentDisplayedQuiz['settings']?.[_0xb91903(0x341)]===!![],_0x393ede=currentDisplayedQuiz[_0xb91903(0x3f0)]?.[_0xb91903(0x374)]||_0xb91903(0x2f1);if(_0x5f2e71&&_0x393ede===_0xb91903(0x396)){document['getElementById'](_0xb91903(0x5d5))['dataset'][_0xb91903(0x897)]=_0xb91903(0x34a),document[_0xb91903(0x693)](_0xb91903(0x227))[_0xb91903(0xc5c)]=_0x1fbafc,document[_0xb91903(0x693)](_0xb91903(0x5d5))[_0xb91903(0x43c)][_0xb91903(0x200)](_0xb91903(0xa21));return;}const _0x4f47aa=document['getElementById']('confidence_single');_0x4f47aa&&(_0x376110=_0x4f47aa['checked']);}const _0x29ecf4={'answer':_0x1fbafc,'wasConfident':_0x376110};proceedToNextQuestion(_0x29ecf4);}async function finalizePerQuestionQuiz(){const _0x4269c0=_0x1b93ee,_0x13d281=currentDisplayedQuiz[_0x4269c0(0x4e6)][_0x4269c0(0xe64)](_0x410071=>_0x410071[_0x4269c0(0x994)]===_0x4269c0(0xbc0));_0x13d281?showMessage(_0x4269c0(0xc89)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x708f87=currentQuizData['id'],_0x2e58dc=doc(db,'artifacts/'+appId+_0x4269c0(0x449)+_0x708f87+_0x4269c0(0xddf),currentStudentName),_0x35ac97=await getDoc(_0x2e58dc),_0x1cc387=_0x35ac97[_0x4269c0(0x5a9)]()?_0x35ac97['data']():{},_0x5be71e=_0x1cc387[_0x4269c0(0xb5c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5be71e);}function getResultsFilename(){const _0x1f5d8d=_0x1b93ee,_0x6188a7=document[_0x1f5d8d(0x693)](_0x1f5d8d(0xdd0))[_0x1f5d8d(0xc08)][_0x1f5d8d(0x5cc)](/[^a-z0-9]/gi,'_')[_0x1f5d8d(0x95a)]();return'results_'+(_0x6188a7||_0x1f5d8d(0xc10));}function exportResultsAsImage(){const _0x1a893a=_0x1b93ee,_0xb76778=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0xb76778)[_0x1a893a(0xab5)](_0x39e6ad=>{const _0x14958e=_0x1a893a,_0x227ae1=document[_0x14958e(0x1a7)]('a');_0x227ae1['download']=getResultsFilename()+_0x14958e(0x6f1),_0x227ae1[_0x14958e(0x580)]=_0x39e6ad[_0x14958e(0x9ec)](_0x14958e(0x5b2)),_0x227ae1[_0x14958e(0x2df)](),messageModal[_0x14958e(0x43c)][_0x14958e(0x128)](_0x14958e(0xa21));});}function exportResultsAsPDF(){const _0x1dbf49=_0x1b93ee,{jsPDF:_0x355313}=window[_0x1dbf49(0xcf2)],_0x7a8599=new _0x355313();_0x7a8599[_0x1dbf49(0x321)](_0x1dbf49(0x210),_0x1dbf49(0xd1f)),_0x7a8599[_0x1dbf49(0xb38)]({'html':_0x1dbf49(0x635)}),_0x7a8599[_0x1dbf49(0x2c0)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x43e2ae=_0x1b93ee,_0x435d75=_0x43e2ae(0x574)+_0x43e2ae(0x89c)+_0x43e2ae(0x93e)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x28683e=_0x43e2ae(0x1a1),_0x38e095=_0x435d75+document['getElementById'](_0x43e2ae(0xc56))['innerHTML']+_0x28683e,_0x1ede82=_0x43e2ae(0x71e)+encodeURIComponent(_0x38e095),_0x218dd4=document[_0x43e2ae(0x1a7)]('a');document[_0x43e2ae(0xc69)]['appendChild'](_0x218dd4),_0x218dd4[_0x43e2ae(0x580)]=_0x1ede82,_0x218dd4[_0x43e2ae(0xb32)]=getResultsFilename()+_0x43e2ae(0x9e1),_0x218dd4[_0x43e2ae(0x2df)](),document[_0x43e2ae(0xc69)][_0x43e2ae(0xb42)](_0x218dd4);}function exportResultsAsExcel(){const _0x136177=_0x1b93ee,_0x488147=document[_0x136177(0x693)](_0x136177(0x60e));let _0x37b85a=[];for(let _0x355a27=0x0;_0x355a27<_0x488147['rows'][_0x136177(0x357)];_0x355a27++){let _0x28fe46=[],_0x52f7fd=_0x488147[_0x136177(0xc92)][_0x355a27][_0x136177(0xe56)](_0x136177(0xbdf));for(let _0x5f17a3=0x0;_0x5f17a3<_0x52f7fd[_0x136177(0x357)];_0x5f17a3++){_0x28fe46[_0x136177(0xce5)]('\x22'+_0x52f7fd[_0x5f17a3][_0x136177(0x79a)][_0x136177(0x5cc)](/"/g,'\x22\x22')+'\x22');}_0x37b85a[_0x136177(0xce5)](_0x28fe46[_0x136177(0xd7b)](','));}const _0x32bf79=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x37b85a[_0x136177(0xd7b)]('\x0a')],{'type':_0x136177(0x6f4)}),_0x3d3c77=document['createElement']('a');_0x3d3c77['href']=URL[_0x136177(0xb6e)](_0x32bf79),_0x3d3c77[_0x136177(0xb32)]=getResultsFilename()+_0x136177(0x778),_0x3d3c77[_0x136177(0x2df)]();}function exportTableAsImage(_0x32e2c9,_0x1031ab){const _0x28ce8b=_0x1b93ee,_0x20a8d3=document[_0x28ce8b(0x693)](_0x32e2c9),_0x1f7e99=document[_0x28ce8b(0x693)](_0x28ce8b(0xdd0));if(!_0x20a8d3){showMessage(_0x28ce8b(0x672));return;}showMessage(_0x28ce8b(0xbff));const _0xae435e=document[_0x28ce8b(0x1a7)]('div');_0xae435e[_0x28ce8b(0x77b)]['backgroundColor']=_0x28ce8b(0x705),_0xae435e[_0x28ce8b(0x77b)][_0x28ce8b(0x91d)]=_0x28ce8b(0xfb),_0xae435e[_0x28ce8b(0x77b)][_0x28ce8b(0x129)]='1000px',_0xae435e[_0x28ce8b(0x77b)][_0x28ce8b(0x17c)]='fixed',_0xae435e['style'][_0x28ce8b(0x42a)]='-9999px',_0xae435e[_0x28ce8b(0x77b)][_0x28ce8b(0x7f8)]='0',_0xae435e[_0x28ce8b(0x77b)][_0x28ce8b(0x9fc)]='-1';const _0x1216c1=document[_0x28ce8b(0x1a7)]('h1');_0x1216c1[_0x28ce8b(0x79a)]=_0x1f7e99?_0x1f7e99[_0x28ce8b(0x79a)]:'รายงานผลคะแนน',_0x1216c1[_0x28ce8b(0x77b)][_0x28ce8b(0x2b1)]=_0x28ce8b(0x2b5),_0x1216c1['style'][_0x28ce8b(0x3c9)]=_0x28ce8b(0x4bf),_0x1216c1[_0x28ce8b(0x77b)][_0x28ce8b(0x927)]='28px',_0x1216c1['style'][_0x28ce8b(0x9f5)]=_0x28ce8b(0x755),_0x1216c1[_0x28ce8b(0x77b)][_0x28ce8b(0x8a2)]=_0x28ce8b(0x5ea),_0x1216c1[_0x28ce8b(0x77b)][_0x28ce8b(0x77a)]=_0x28ce8b(0x49e);const _0x2b8f06=_0x20a8d3[_0x28ce8b(0xae2)](!![]);_0x2b8f06[_0x28ce8b(0x77b)][_0x28ce8b(0x23d)]=_0x28ce8b(0x2c6),_0x2b8f06['style'][_0x28ce8b(0xc8a)]=_0x28ce8b(0xa86);const _0x3baa6b=_0x2b8f06[_0x28ce8b(0xe56)]('th');let _0x4e145c=-0x1;_0x3baa6b['forEach']((_0x5d6506,_0x5832aa)=>{const _0x37225a=_0x28ce8b;_0x5d6506['textContent'][_0x37225a(0xb6d)]()==='ผล'&&(_0x5d6506[_0x37225a(0x77b)]['display']=_0x37225a(0x2c6),_0x4e145c=_0x5832aa);});if(_0x4e145c!==-0x1){const _0x271091=_0x2b8f06['querySelectorAll']('tr');_0x271091[_0x28ce8b(0x242)](_0xa99fc4=>{const _0x204b8a=_0x28ce8b,_0x27764d=_0xa99fc4[_0x204b8a(0xe56)]('td');_0x27764d['length']>_0x4e145c&&(_0x27764d[_0x4e145c][_0x204b8a(0x77b)]['display']=_0x204b8a(0x2c6));});}_0xae435e[_0x28ce8b(0x39f)](_0x1216c1),_0xae435e[_0x28ce8b(0x39f)](_0x2b8f06),document[_0x28ce8b(0xc69)][_0x28ce8b(0x39f)](_0xae435e),html2canvas(_0xae435e,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x28ce8b(0x705)})[_0x28ce8b(0xab5)](_0x301559=>{const _0x2cf600=_0x28ce8b,_0x461919=document['createElement']('a');_0x461919[_0x2cf600(0xb32)]=_0x1031ab+'.png',_0x461919[_0x2cf600(0x580)]=_0x301559['toDataURL'](_0x2cf600(0x5b2)),_0x461919[_0x2cf600(0x2df)](),document['body'][_0x2cf600(0xb42)](_0xae435e),messageModal[_0x2cf600(0x43c)][_0x2cf600(0x128)]('hidden');})[_0x28ce8b(0x792)](_0x2fef30=>{const _0x226d33=_0x28ce8b;console[_0x226d33(0x75e)](_0x226d33(0xc88),_0x2fef30),document[_0x226d33(0xc69)]['removeChild'](_0xae435e),showMessage(_0x226d33(0x780));});}function exportTableAsPDF(_0x5757ea,_0x40a4d){const _0x3a736a=_0x1b93ee,{jsPDF:_0x10bde8}=window[_0x3a736a(0xcf2)],_0x7812ff=new _0x10bde8();_0x7812ff[_0x3a736a(0x321)](_0x3a736a(0x210),'normal'),_0x7812ff[_0x3a736a(0xb38)]({'html':'#'+_0x5757ea}),_0x7812ff['save'](_0x40a4d+_0x3a736a(0x29f));}function exportTableAsWord(_0xca35b3,_0x3d7bc0){const _0x344887=_0x1b93ee,_0x3c1ce4=document[_0x344887(0x693)](_0xca35b3);if(!_0x3c1ce4){showMessage(_0x344887(0x672));return;}const _0x4ff930=_0x344887(0x574)+_0x344887(0x89c)+_0x344887(0x93e)+_0x344887(0x52d),_0x160561=_0x344887(0x1a1),_0x386a1b=_0x4ff930+_0x3c1ce4[_0x344887(0xc8c)]+_0x160561,_0x385327=_0x344887(0x71e)+encodeURIComponent(_0x386a1b),_0x382fc8=document[_0x344887(0x1a7)]('a');document[_0x344887(0xc69)][_0x344887(0x39f)](_0x382fc8),_0x382fc8[_0x344887(0x580)]=_0x385327,_0x382fc8[_0x344887(0xb32)]=_0x3d7bc0+_0x344887(0x9e1),_0x382fc8['click'](),document['body'][_0x344887(0xb42)](_0x382fc8);}function exportTableAsExcel(_0x56a931,_0x5238c2){const _0x4d6508=_0x1b93ee,_0x24eb6f=document[_0x4d6508(0x693)](_0x56a931);if(!_0x24eb6f){showMessage(_0x4d6508(0x672));return;}let _0x471108=[];for(let _0x7101bb=0x0;_0x7101bb<_0x24eb6f[_0x4d6508(0xc92)][_0x4d6508(0x357)];_0x7101bb++){let _0x5bc8a8=[],_0x329f12=_0x24eb6f[_0x4d6508(0xc92)][_0x7101bb][_0x4d6508(0xe56)](_0x4d6508(0xbdf));for(let _0x21b37c=0x0;_0x21b37c<_0x329f12[_0x4d6508(0x357)];_0x21b37c++){_0x5bc8a8[_0x4d6508(0xce5)]('\x22'+_0x329f12[_0x21b37c]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x471108[_0x4d6508(0xce5)](_0x5bc8a8[_0x4d6508(0xd7b)](','));}const _0x598e06=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x471108[_0x4d6508(0xd7b)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x535c5e=document['createElement']('a');_0x535c5e[_0x4d6508(0x580)]=URL['createObjectURL'](_0x598e06),_0x535c5e[_0x4d6508(0xb32)]=_0x5238c2+'.csv',_0x535c5e[_0x4d6508(0x2df)]();}function renderAnalytics(_0x257a46,_0x5719d6){const _0x5579cb=_0x1b93ee,_0xbb7294=_0x5719d6[_0x5579cb(0x107)](_0x13afe8=>_0x13afe8[_0x5579cb(0x3f2)]!==undefined),_0x56c2d5=currentProjectData[_0x5579cb(0xa64)]['length'],_0x52b9bf=_0xbb7294[_0x5579cb(0x357)],_0x2da546=_0x56c2d5-_0x52b9bf,_0x1ee3df=_0x56c2d5>0x0?_0x52b9bf/_0x56c2d5*0x64:0x0,_0x3f6a9a=_0xbb7294[_0x5579cb(0x926)](_0x248d9a=>_0x248d9a[_0x5579cb(0x3f2)]),_0x46727d=_0x3f6a9a[_0x5579cb(0x357)]>0x0?_0x3f6a9a[_0x5579cb(0xb28)]((_0x8ea014,_0x478191)=>_0x8ea014+_0x478191,0x0)/_0x3f6a9a[_0x5579cb(0x357)]:0x0,_0x4cc425=_0x257a46[_0x5579cb(0x4e6)][_0x5579cb(0x357)],_0x9f7f97=_0x4cc425>0x0?_0x46727d/_0x4cc425*0x64:0x0,_0x3aa847=calculateItemAnalysis(_0x257a46,_0xbb7294),_0x486ffa=calculateReliabilityKR20(_0x257a46,_0xbb7294,_0x3aa847[_0x5579cb(0xde5)]);let _0x3e787a='';if(_0x486ffa!==null){let _0x797f22='';if(_0x486ffa>=0.9)_0x797f22=_0x5579cb(0xb4b);else{if(_0x486ffa>=0.8)_0x797f22=_0x5579cb(0x13b);else{if(_0x486ffa>=0.7)_0x797f22='ดี';else{if(_0x486ffa>=0.6)_0x797f22=_0x5579cb(0x668);else _0x797f22=_0x5579cb(0xcc8);}}}_0x3e787a=_0x5579cb(0x563)+_0x486ffa[_0x5579cb(0x8ed)](0x2)+_0x5579cb(0xc99)+_0x797f22+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x552f55=document[_0x5579cb(0x693)](_0x5579cb(0x100));_0x552f55[_0x5579cb(0xc8c)]=_0x5579cb(0x201)+_0x1ee3df[_0x5579cb(0x8ed)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x52b9bf+'/'+_0x56c2d5+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x46727d[_0x5579cb(0x8ed)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x9f7f97['toFixed'](0x0)+_0x5579cb(0x785)+(_0x3f6a9a[_0x5579cb(0x357)]>0x0?Math[_0x5579cb(0x417)](..._0x3f6a9a):_0x5579cb(0xe7d))+_0x5579cb(0xe29)+(_0x3f6a9a[_0x5579cb(0x357)]>0x0?Math['min'](..._0x3f6a9a):_0x5579cb(0xe7d))+_0x5579cb(0x948)+_0x3e787a+_0x5579cb(0x90d);const _0x2fdb04=document[_0x5579cb(0x693)](_0x5579cb(0xbef));_0x2fdb04&&_0x2fdb04['remove']();const _0x1de22f=_0x5579cb(0xc49);_0x552f55['insertAdjacentHTML'](_0x5579cb(0xc05),_0x1de22f);const _0x497dcd=currentProjectData[_0x5579cb(0xa64)]||[];renderSubmissionChart(_0x52b9bf,_0x2da546,_0xbb7294,_0x497dcd),renderScoreDistributionChart(_0xbb7294,_0x4cc425),renderQuestionAnalytics(_0x257a46,_0xbb7294,_0x497dcd),renderInterestingStats(_0x257a46,_0xbb7294);}async function handleExportLessonPDF(){const _0x202330=_0x1b93ee,_0x20f378=document[_0x202330(0x693)](_0x202330(0x13c)),_0x418a31=document[_0x202330(0x693)](_0x202330(0xd76))[_0x202330(0xc08)],_0x35e7ed=window[_0x202330(0x5da)]('',_0x202330(0x8b0)),_0x19b3d7=_0x202330(0xd5a)+_0x418a31+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20f378[_0x202330(0xc8c)]+_0x202330(0x6f7);_0x35e7ed['document'][_0x202330(0x2d2)](_0x19b3d7),_0x35e7ed[_0x202330(0x488)][_0x202330(0x546)](),_0x35e7ed[_0x202330(0x8f1)]=function(){setTimeout(()=>{_0x35e7ed['print']();},0x5dc);};}function renderInterestingStats(_0x122b78,_0x2b96fc){const _0x30662a=_0x1b93ee,_0x239636=document[_0x30662a(0x693)](_0x30662a(0xb9c));if(!_0x239636)return;if(_0x2b96fc[_0x30662a(0x357)]===0x0){_0x239636[_0x30662a(0xc8c)]=_0x30662a(0xb8d);return;}const _0x2ba3d4=_0x122b78[_0x30662a(0x4e6)]['map']((_0x4db633,_0xaee2c3)=>({'index':_0xaee2c3+0x1,'text':_0x4db633[_0x30662a(0xd6a)]||_0x4db633[_0x30662a(0x87a)],'correct':0x0}));_0x2b96fc['forEach'](_0x5af6e9=>{const _0x32a911=_0x30662a,_0x1939b0=_0x5af6e9[_0x32a911(0xb5c)][_0x5af6e9[_0x32a911(0xb5c)][_0x32a911(0x357)]-0x1];_0x1939b0&&_0x1939b0[_0x32a911(0x7f4)]&&_0x1939b0[_0x32a911(0x7f4)][_0x32a911(0x242)](_0x16d36c=>{const _0x4f56fb=_0x32a911,_0xa1d87d=_0x2ba3d4[_0x4f56fb(0xe69)](_0xea7e99=>_0xea7e99[_0x4f56fb(0x2dc)]===_0x16d36c[_0x4f56fb(0x9ca)]);_0x16d36c['isCorrect']&&_0xa1d87d&&_0xa1d87d[_0x4f56fb(0xb04)]++;});});const _0x41d668=_0x2b96fc[_0x30662a(0x357)],_0x5732af=Math[_0x30662a(0x417)](..._0x2ba3d4[_0x30662a(0x926)](_0x16f3f9=>_0x16f3f9[_0x30662a(0xb04)])),_0x4d2db2=Math[_0x30662a(0x8da)](..._0x2ba3d4[_0x30662a(0x926)](_0x2db567=>_0x2db567[_0x30662a(0xb04)])),_0x1416e5=_0x2ba3d4['filter'](_0x3b939f=>_0x3b939f[_0x30662a(0xb04)]===_0x5732af)[_0x30662a(0x926)](_0x153cf=>_0x30662a(0xa49)+_0x153cf['index']),_0x254956=_0x2ba3d4[_0x30662a(0x107)](_0x257f83=>_0x257f83['correct']===_0x4d2db2)[_0x30662a(0x926)](_0x2b01a8=>_0x30662a(0xa49)+_0x2b01a8[_0x30662a(0x6ca)]),_0x450da8=_0x2b96fc[_0x30662a(0xa05)]((_0x4b0400,_0x2ef7fd)=>_0x2ef7fd[_0x30662a(0x3f2)]-_0x4b0400[_0x30662a(0x3f2)])[_0x30662a(0x107)]((_0x144929,_0x7f3a4c,_0x131532)=>_0x144929[_0x30662a(0x3f2)]===_0x131532[0x0]['latestScore']),_0x5cc9b0=_0x2b96fc[_0x30662a(0xa05)]((_0x4dda48,_0x3a6335)=>_0x4dda48[_0x30662a(0x3f2)]-_0x3a6335[_0x30662a(0x3f2)])[_0x30662a(0x107)]((_0x13e100,_0x39d0fd,_0x5f0dd2)=>_0x13e100[_0x30662a(0x3f2)]===_0x5f0dd2[0x0][_0x30662a(0x3f2)]),_0x27e5f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x1416e5['join'](',\x20')+_0x30662a(0xd8f)+_0x5732af+_0x30662a(0x2c5)+_0x41d668+_0x30662a(0xccd)+_0x254956[_0x30662a(0xd7b)](',\x20')+_0x30662a(0xd8f)+(_0x41d668-_0x4d2db2)+'\x20/\x20'+_0x41d668+_0x30662a(0x81f)+_0x450da8[_0x30662a(0x926)](_0x4fe50a=>_0x4fe50a[_0x30662a(0x6df)])[_0x30662a(0xd7b)](',\x20')+_0x30662a(0x7e2)+_0x450da8[0x0][_0x30662a(0x3f2)]+_0x30662a(0xe31)+_0x5cc9b0['map'](_0x169a9c=>_0x169a9c[_0x30662a(0x6df)])['join'](',\x20')+_0x30662a(0x7e2)+_0x5cc9b0[0x0][_0x30662a(0x3f2)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x239636[_0x30662a(0xc8c)]=_0x27e5f1;}function renderSubmissionChart(_0x59208e,_0x9f0e52,_0x306786,_0x6bcae2){const _0xf6cc16=_0x1b93ee,_0x3b5d89=document[_0xf6cc16(0x693)](_0xf6cc16(0x18a))[_0xf6cc16(0x3bd)]('2d'),_0x293a61=_0x306786[_0xf6cc16(0x926)](_0x96f3c3=>_0x96f3c3[_0xf6cc16(0x6df)]),_0x4de171=_0x6bcae2['filter'](_0x4fedbb=>!_0x293a61[_0xf6cc16(0x8bb)](_0x4fedbb));chartInstances[_0xf6cc16(0xcb4)]&&chartInstances['submission'][_0xf6cc16(0xce3)](),chartInstances[_0xf6cc16(0xcb4)]=new Chart(_0x3b5d89,{'type':_0xf6cc16(0x8ea),'data':{'labels':[_0xf6cc16(0x127),_0xf6cc16(0x883)],'datasets':[{'data':[_0x59208e,_0x9f0e52],'backgroundColor':['#10B981',_0xf6cc16(0xb26)],'borderColor':['#ffffff',_0xf6cc16(0x705)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x591099){const _0x5bb996=_0xf6cc16;let _0x1a8196=_0x591099[_0x5bb996(0xd80)]||'';return _0x1a8196&&(_0x1a8196+=':\x20'),_0x1a8196+=_0x591099['raw'],_0x1a8196;},'afterLabel':function(_0xa08520){const _0x405696=_0xf6cc16;let _0x11c5f3;return _0xa08520[_0x405696(0xd65)]===0x0?_0x11c5f3=_0x293a61:_0x11c5f3=_0x4de171,_0x11c5f3[_0x405696(0x357)]>0x0?_0x11c5f3[_0x405696(0xd7b)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x2be865,_0x17f9bf){const _0x319c12=_0x1b93ee,_0x3bb6ed=document[_0x319c12(0x693)](_0x319c12(0x50d))[_0x319c12(0x3bd)]('2d'),_0x257875={};for(let _0x18bf8d=0x0;_0x18bf8d<=_0x17f9bf;_0x18bf8d++){_0x257875[_0x18bf8d]=0x0;}_0x2be865[_0x319c12(0x242)](_0x1d55b1=>{const _0x220b18=_0x319c12;_0x257875[_0x1d55b1[_0x220b18(0x3f2)]]!==undefined&&_0x257875[_0x1d55b1['latestScore']]++;}),chartInstances[_0x319c12(0xe35)]&&chartInstances[_0x319c12(0xe35)][_0x319c12(0xce3)](),chartInstances[_0x319c12(0xe35)]=new Chart(_0x3bb6ed,{'type':_0x319c12(0xc51),'data':{'labels':Object[_0x319c12(0x89a)](_0x257875),'datasets':[{'label':_0x319c12(0x9ea),'data':Object[_0x319c12(0x8d9)](_0x257875),'backgroundColor':_0x319c12(0x8d6),'borderColor':_0x319c12(0x3cb),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xb0d918){const _0x25aa0d=_0x319c12,_0x4d36dd=_0xb0d918[_0x25aa0d(0xd80)],_0x5a63d2=_0x2be865['filter'](_0x3a9888=>_0x3a9888['latestScore']==_0x4d36dd)[_0x25aa0d(0x926)](_0x545344=>_0x545344[_0x25aa0d(0x6df)]);return _0x5a63d2[_0x25aa0d(0x357)]>0x0?_0x5a63d2[_0x25aa0d(0xd7b)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3a00aa,_0x433cbd,_0x10d652){const _0x5bd2ab=_0x1b93ee,_0x5b44ba=document['getElementById'](_0x5bd2ab(0xdd6));if(_0x10d652[_0x5bd2ab(0x357)]===0x0){_0x5b44ba[_0x5bd2ab(0xc8c)]=_0x5bd2ab(0x287);return;}const _0x475128=calculateItemAnalysis(_0x3a00aa,_0x433cbd),_0x1e7933=calculateDistractorAnalysis(_0x3a00aa,_0x433cbd);let _0x363ee2='';_0x475128[_0x5bd2ab(0xa7a)]&&(_0x363ee2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x475128[_0x5bd2ab(0xa7a)]['upperGroupNames'][_0x5bd2ab(0x357)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x475128['overallGroups'][_0x5bd2ab(0x408)][_0x5bd2ab(0x926)](_0x144ace=>_0x5bd2ab(0x39e)+_0x144ace+'</li>')[_0x5bd2ab(0xd7b)]('')+_0x5bd2ab(0x5ca)+_0x475128['overallGroups']['lowerGroupNames']['length']+_0x5bd2ab(0x63f)+_0x475128['overallGroups'][_0x5bd2ab(0xcde)]['map'](_0x3e3182=>_0x5bd2ab(0x39e)+_0x3e3182+_0x5bd2ab(0x7d5))[_0x5bd2ab(0xd7b)]('')+_0x5bd2ab(0x612));let _0x221986='';const _0x1087a8=_0x433cbd[_0x5bd2ab(0x926)](_0x3065f1=>_0x3065f1['studentName']),_0x327dcf=_0x3c9231=>{const _0x31c659=_0x5bd2ab;if(_0x3c9231>=0.8)return _0x31c659(0xd9c);if(_0x3c9231>=0.6)return _0x31c659(0x290);if(_0x3c9231>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x3c9231>=0.2)return _0x31c659(0x41e);return _0x31c659(0xe40);},_0x471aec=_0x23f817=>{const _0x4af369=_0x5bd2ab;if(_0x23f817<0x0)return _0x4af369(0x37e);if(_0x23f817>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x23f817>=0.3)return _0x4af369(0x43f);if(_0x23f817>=0.2)return _0x4af369(0x84c);return _0x4af369(0xd74);},_0x39d96c=_0x23b68b=>{const _0x436020=_0x5bd2ab,_0xe2c8ef=_0x23b68b['toFixed'](0x0);if(parseFloat(_0xe2c8ef)===0x64)return _0x436020(0xcca)+_0xe2c8ef+'%</span>';if(_0x23b68b>=0x32)return _0x436020(0xbac)+_0xe2c8ef+_0x436020(0x1e3);return _0x436020(0x2dd)+_0xe2c8ef+_0x436020(0x1e3);};_0x3a00aa[_0x5bd2ab(0x4e6)][_0x5bd2ab(0x242)]((_0x4906a1,_0xab39fd)=>{const _0x45dfd1=_0x5bd2ab,_0x339bbc=_0x475128[_0x45dfd1(0xde5)][_0xab39fd],_0x255f5d=_0x1e7933[_0xab39fd],_0x44a7c0=_0x4906a1['stem']||_0x4906a1[_0x45dfd1(0xd6a)]||_0x4906a1['instructions'];let _0x29ff35=0x0;const _0x516217=[],_0x4de43b=[];_0x433cbd[_0x45dfd1(0x242)](_0xe1389d=>{const _0x566205=_0x45dfd1,_0x584bca=_0xe1389d[_0x566205(0xb5c)][_0xe1389d[_0x566205(0xb5c)]['length']-0x1];if(_0x584bca&&_0x584bca[_0x566205(0x7f4)]){const _0x5535c9=_0x584bca['answers'][_0x566205(0xe69)](_0x495cee=>_0x495cee[_0x566205(0x9ca)]===_0x44a7c0)??_0x584bca[_0x566205(0x7f4)][_0xab39fd]??null;_0x5535c9&&(_0x5535c9[_0x566205(0x5ce)]?(_0x29ff35++,_0x516217[_0x566205(0xce5)](_0xe1389d[_0x566205(0x6df)])):_0x4de43b[_0x566205(0xce5)](_0xe1389d[_0x566205(0x6df)]));}});const _0x1203a2=_0x433cbd[_0x45dfd1(0x357)]>0x0?_0x29ff35/_0x433cbd['length']*0x64:0x0,_0x44e023=_0x10d652['filter'](_0x3604f2=>!_0x1087a8['includes'](_0x3604f2)),_0x235f10=_0x339bbc?_0x45dfd1(0x81a)+_0x339bbc['p'][_0x45dfd1(0x8ed)](0x2)+'</p><div>'+_0x327dcf(_0x339bbc['p'])+_0x45dfd1(0x555)+_0x339bbc['r'][_0x45dfd1(0x8ed)](0x2)+'</p><div>'+_0x471aec(_0x339bbc['r'])+_0x45dfd1(0xcfd)+_0x39d96c(_0x1203a2)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x2a47d5='';_0x255f5d&&(_0x2a47d5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x45dfd1(0x89a)](_0x255f5d)['map'](_0x3d4330=>{const _0x57538f=_0x45dfd1,_0x3e3027=_0x255f5d[_0x3d4330],_0x1343f4=parseInt(_0x3d4330)===_0x4906a1['correctAnswerIndex'],_0x4142de=!_0x1343f4&&_0x3e3027[_0x57538f(0x10e)]>_0x3e3027[_0x57538f(0xbd9)];return _0x57538f(0x952)+(_0x1343f4?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x1343f4?'✔\x20':'')+_0x3e3027[_0x57538f(0x2dc)]+_0x57538f(0xccc)+_0x3e3027[_0x57538f(0xbd9)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3e3027[_0x57538f(0x10e)]+'\x20'+(_0x4142de?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3e3027[_0x57538f(0xd88)]+_0x57538f(0x10c);})[_0x45dfd1(0xd7b)]('')+_0x45dfd1(0xcc6));let _0x236915='';_0x339bbc&&_0x339bbc['upperGroupResponders']&&(_0x236915=_0x45dfd1(0x5ff)+_0x339bbc[_0x45dfd1(0xa98)][_0x45dfd1(0x357)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x339bbc[_0x45dfd1(0xa98)][_0x45dfd1(0x926)](_0x25f9fa=>_0x45dfd1(0x39e)+(_0x25f9fa[_0x45dfd1(0x5ce)]?_0x45dfd1(0x913):_0x45dfd1(0xc6f))+'\x20'+_0x25f9fa['name']+_0x45dfd1(0x7d5))['join']('')+_0x45dfd1(0x7af)+_0x339bbc[_0x45dfd1(0x1ac)][_0x45dfd1(0x357)]+_0x45dfd1(0x706)+_0x339bbc[_0x45dfd1(0x1ac)][_0x45dfd1(0x926)](_0xd3124f=>'<li>'+(_0xd3124f[_0x45dfd1(0x5ce)]?_0x45dfd1(0x913):_0x45dfd1(0xc6f))+'\x20'+_0xd3124f[_0x45dfd1(0x41d)]+_0x45dfd1(0x7d5))[_0x45dfd1(0xd7b)]('')+_0x45dfd1(0xa59)),_0x221986+=_0x45dfd1(0x941)+(_0xab39fd+0x1)+':\x20'+_0x44a7c0+_0x45dfd1(0xd9b)+_0x235f10+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x44a7c0+_0x45dfd1(0xcb6)+_0x29ff35+_0x45dfd1(0x950)+_0x433cbd[_0x45dfd1(0x357)]+_0x45dfd1(0x996)+_0x1203a2[_0x45dfd1(0x8ed)](0x0)+_0x45dfd1(0x881)+_0x516217[_0x45dfd1(0x357)]+_0x45dfd1(0x458)+(_0x516217[_0x45dfd1(0x357)]>0x0?_0x516217['join'](',\x20'):_0x45dfd1(0xa23))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x4de43b[_0x45dfd1(0x357)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4de43b[_0x45dfd1(0x357)]>0x0?_0x4de43b[_0x45dfd1(0xd7b)](',\x20'):_0x45dfd1(0xa23))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x44e023[_0x45dfd1(0x357)]+_0x45dfd1(0x458)+(_0x44e023[_0x45dfd1(0x357)]>0x0?_0x44e023[_0x45dfd1(0xd7b)](',\x20'):_0x45dfd1(0xa23))+_0x45dfd1(0x687)+_0x2a47d5+_0x45dfd1(0x364)+_0x236915+_0x45dfd1(0x63b);}),_0x5b44ba[_0x5bd2ab(0xc8c)]=_0x363ee2+_0x221986;try{window[_0x5bd2ab(0xad6)]&&MathJax['typesetPromise']&&MathJax[_0x5bd2ab(0x840)]([_0x5b44ba]);}catch(_0x25679b){console[_0x5bd2ab(0x75e)](_0x5bd2ab(0x86f),_0x25679b);}}function calculateDistractorAnalysis(_0x100238,_0x2428f8){const _0x339b19=_0x1b93ee,_0x1d006e={};if(_0x2428f8['length']<0x2)return _0x1d006e;const _0x17323b=[..._0x2428f8][_0x339b19(0xa05)]((_0xb5337f,_0x394fcc)=>{const _0x5338e9=_0x339b19,_0x3c591d=_0x394fcc[_0x5338e9(0x3f2)]-_0xb5337f[_0x5338e9(0x3f2)];if(_0x3c591d!==0x0)return _0x3c591d;const _0x2c56f3=_0xb5337f[_0x5338e9(0xb5c)]?.[_0x5338e9(0x357)]||0x1,_0x43cc71=_0x394fcc['attempts']?.[_0x5338e9(0x357)]||0x1,_0x5cc379=_0x2c56f3-_0x43cc71;if(_0x5cc379!==0x0)return _0x5cc379;const _0x293862=new Date(_0xb5337f['latestSubmittedAt']),_0x117b8b=new Date(_0x394fcc[_0x5338e9(0xd13)]),_0x3866e5=_0x293862-_0x117b8b;if(_0x3866e5!==0x0)return _0x3866e5;return _0xb5337f[_0x5338e9(0x6df)]['localeCompare'](_0x394fcc['studentName'],'th');}),_0x1b6490=_0x17323b['length'],_0x20047c=Math['max'](0x1,Math[_0x339b19(0x567)](_0x1b6490*0.33)),_0x392a14=_0x17323b[_0x339b19(0xaa2)](0x0,_0x20047c),_0x3804c9=_0x17323b[_0x339b19(0xaa2)](-_0x20047c);return _0x100238[_0x339b19(0x4e6)][_0x339b19(0x242)]((_0x2d95de,_0x305498)=>{const _0x3d8dd8=_0x339b19;if(_0x2d95de[_0x3d8dd8(0x994)]!==_0x3d8dd8(0x6c4)||!_0x2d95de['options'])return;const _0x1771e3=_0x2d95de[_0x3d8dd8(0xd6a)],_0x2a9089={};_0x2d95de[_0x3d8dd8(0x2da)][_0x3d8dd8(0x242)]((_0x459615,_0x1c9862)=>{_0x2a9089[_0x1c9862]={'text':_0x459615,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x17323b[_0x3d8dd8(0x242)](_0x16651d=>{const _0x3822cf=_0x3d8dd8,_0x12c437=_0x16651d[_0x3822cf(0xb5c)][_0x16651d['attempts']['length']-0x1],_0x17f6f3=_0x12c437['answers'][_0x3822cf(0xe69)](_0x4ad718=>_0x4ad718['originalQuestionText']===_0x1771e3);if(_0x17f6f3&&_0x17f6f3[_0x3822cf(0xcba)]!==null){const _0x380198=_0x2d95de['options'][_0x3822cf(0xe37)](_0x565886=>_0x565886===_0x17f6f3[_0x3822cf(0x844)]);_0x380198!==-0x1&&_0x2a9089[_0x380198]&&(_0x2a9089[_0x380198][_0x3822cf(0xd88)]++,_0x392a14[_0x3822cf(0x8bb)](_0x16651d)&&_0x2a9089[_0x380198][_0x3822cf(0xbd9)]++,_0x3804c9[_0x3822cf(0x8bb)](_0x16651d)&&_0x2a9089[_0x380198][_0x3822cf(0x10e)]++);}}),_0x1d006e[_0x305498]=_0x2a9089;}),_0x1d006e;}function calculateReliabilityKR20(_0x41ebce,_0x3c336a,_0x4761a8){const _0x435774=_0x1b93ee,_0x224d83=_0x41ebce[_0x435774(0x4e6)][_0x435774(0x357)];if(_0x224d83<0x2||_0x3c336a[_0x435774(0x357)]<0x2)return null;const _0x267660=_0x3c336a[_0x435774(0x926)](_0x4faf18=>_0x4faf18[_0x435774(0x3f2)]),_0x3b0f22=_0x267660[_0x435774(0xb28)]((_0x2bed01,_0x234a3c)=>_0x2bed01+_0x234a3c,0x0)/_0x267660[_0x435774(0x357)],_0x31e9c7=_0x267660[_0x435774(0x926)](_0x4663f4=>Math['pow'](_0x4663f4-_0x3b0f22,0x2))['reduce']((_0x5d7b15,_0xbcb091)=>_0x5d7b15+_0xbcb091,0x0)/_0x267660['length'];if(_0x31e9c7===0x0)return null;let _0x16c6a8=0x0;for(let _0x28b4ff=0x0;_0x28b4ff<_0x224d83;_0x28b4ff++){const _0x6b8179=_0x4761a8[_0x28b4ff]?.['p'];if(_0x6b8179===undefined)continue;const _0x497f02=0x1-_0x6b8179;_0x16c6a8+=_0x6b8179*_0x497f02;}if(_0x16c6a8===0x0)return null;const _0xc01e2e=_0x224d83/(_0x224d83-0x1)*(0x1-_0x16c6a8/_0x31e9c7);if(_0xc01e2e>0x1)return null;return _0xc01e2e;}async function handleAnalyzeClass(){const _0x3f121a=_0x1b93ee;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3f121a(0x666));return;}const _0x38cb3c=collection(db,_0x3f121a(0xe45)+appId+_0x3f121a(0x449)+currentQuizData['id']+'/submissions'),_0x8635c8=await getDocs(_0x38cb3c),_0x203f50=_0x8635c8[_0x3f121a(0x34d)]['map'](_0xad79d6=>_0xad79d6['data']());if(_0x203f50[_0x3f121a(0x357)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0xdffdbc=document[_0x3f121a(0x693)]('strength-weakness-analysis-container');_0xdffdbc[_0x3f121a(0xc8c)]=_0x3f121a(0xd62),document[_0x3f121a(0x693)]('analyze-strengths-btn')[_0x3f121a(0xe12)]=!![];const _0x4ccd6f=_0x203f50['map']((_0x345223,_0x2d6586)=>{const _0x5ad38c=_0x3f121a,_0x5868ef=_0x345223[_0x5ad38c(0xb5c)][_0x345223['attempts']['length']-0x1];if(!_0x5868ef)return'';return _0x5ad38c(0xc5f)+(_0x2d6586+0x1)+'\x20('+_0x345223['studentName']+_0x5ad38c(0xbed)+_0x5868ef['score']+'/'+_0x345223[_0x5ad38c(0x67b)]+_0x5ad38c(0x45f)+JSON['stringify'](_0x5868ef[_0x5ad38c(0x7f4)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](_0x3f121a(0xcc9)),_0x3c9012=_0x3f121a(0x362)+currentQuizData[_0x3f121a(0x669)]+_0x3f121a(0x307)+JSON[_0x3f121a(0x1f9)](currentQuizData[_0x3f121a(0x4e6)])+_0x3f121a(0x12f)+_0x4ccd6f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x245aa8={'type':_0x3f121a(0xd69),'properties':{'classStrengths':{'type':_0x3f121a(0x17d),'items':{'type':_0x3f121a(0x47c)}},'classWeaknesses':{'type':_0x3f121a(0x17d),'items':{'type':_0x3f121a(0x47c)}},'teacherSuggestions':{'type':_0x3f121a(0x17d),'items':{'type':_0x3f121a(0x47c)}}},'required':['classStrengths','classWeaknesses',_0x3f121a(0xb00)]};try{const _0x5d063b=await callAnalysisApi(_0x3c9012,_0x245aa8);displayClassAnalysis(_0x5d063b);}catch(_0x422540){console['error'](_0x3f121a(0x5fb),_0x422540),_0xdffdbc[_0x3f121a(0xc8c)]=_0x3f121a(0x4ef)+_0x422540[_0x3f121a(0x340)]+_0x3f121a(0x455);}finally{document[_0x3f121a(0x693)](_0x3f121a(0x8a3))['disabled']=![];}}function displayClassAnalysis(_0x1d8205){const _0x13dc7e=_0x1b93ee,_0x3f8e8a=document[_0x13dc7e(0x693)](_0x13dc7e(0xc70));if(!_0x1d8205){_0x3f8e8a[_0x13dc7e(0xc8c)]=_0x13dc7e(0x60b);return;}_0x3f8e8a['innerHTML']=_0x13dc7e(0x49b)+_0x1d8205['classStrengths'][_0x13dc7e(0x926)](_0x1d84c3=>'<li>'+_0x1d84c3+_0x13dc7e(0x7d5))[_0x13dc7e(0xd7b)]('')+_0x13dc7e(0xdc5)+_0x1d8205['classWeaknesses'][_0x13dc7e(0x926)](_0x3de9c9=>_0x13dc7e(0x39e)+_0x3de9c9+'</li>')[_0x13dc7e(0xd7b)]('')+_0x13dc7e(0x1fb)+_0x1d8205[_0x13dc7e(0xb00)][_0x13dc7e(0x926)](_0x1a893e=>_0x13dc7e(0x39e)+_0x1a893e+'</li>')[_0x13dc7e(0xd7b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x568673,_0x3b1014){const _0x427c99=_0x1b93ee,_0x151bb2=_0x427c99(0x310)+_0x568673[_0x427c99(0x669)]+_0x427c99(0x1da)+_0x568673[_0x427c99(0x669)]+_0x427c99(0x3b6)+_0x568673[_0x427c99(0x4e6)]['map']((_0x99e06c,_0x117a6a)=>_0x427c99(0x626)+(_0x117a6a+0x1)+'.\x20'+_0x99e06c['questionText']+_0x427c99(0x246)+(_0x99e06c[_0x427c99(0xabc)]?_0x427c99(0x497)+_0x99e06c[_0x427c99(0xabc)]+_0x427c99(0x842):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x427c99(0xca0);_0x3b1014[_0x427c99(0x488)][_0x427c99(0x2d2)](_0x151bb2),_0x3b1014[_0x427c99(0x488)][_0x427c99(0x546)](),_0x3b1014[_0x427c99(0x8f1)]=function(){setTimeout(()=>{const _0x2c4c3d=_0x1173;_0x3b1014[_0x2c4c3d(0x4af)]();},0x3e8);};}async function generateWorksheet(){const _0x496d66=_0x1b93ee,_0x2305d1=document['getElementById'](_0x496d66(0xa24))[_0x496d66(0xc5c)][_0x496d66(0xb6d)]();if(!_0x2305d1){showMessage(_0x496d66(0x5a7));return;}const _0x2696e1=document[_0x496d66(0x693)](_0x496d66(0x609))['checked'],_0x1dca6e=_0x2696e1?'':_0x496d66(0x7df),_0x7c24f4=window[_0x496d66(0x5da)]('',_0x496d66(0x8b0));_0x7c24f4[_0x496d66(0x488)][_0x496d66(0x2d2)](_0x496d66(0x379));const _0x6e86e8=parseInt(document[_0x496d66(0x693)](_0x496d66(0x30e))['value']),_0x31f3f3=document[_0x496d66(0x693)](_0x496d66(0x35f))['checked'],_0x224bf8=_0x31f3f3?_0x496d66(0x3a3):'',_0xe54fc2=_0x496d66(0x59d)+_0x1dca6e+_0x496d66(0x787)+_0x6e86e8+_0x496d66(0xc65)+_0x2305d1+_0x496d66(0x611)+_0x224bf8+_0x496d66(0xb3e)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0xf472da={'type':_0x496d66(0xd69),'properties':{'topic':{'type':_0x496d66(0x47c)},'questions':{'type':'ARRAY','items':{'type':_0x496d66(0xd69),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x496d66(0x47c)}},'required':[_0x496d66(0xd6a)]}}},'required':[_0x496d66(0x669),_0x496d66(0x4e6)]};document[_0x496d66(0x693)]('loader-text')[_0x496d66(0xc08)]='',document[_0x496d66(0x693)]('loader')['classList'][_0x496d66(0x200)](_0x496d66(0xa21)),document[_0x496d66(0x693)](_0x496d66(0x38d))['classList'][_0x496d66(0x200)](_0x496d66(0xa21)),generateWorksheetBtn[_0x496d66(0xe12)]=!![];try{const _0x66a8d5=await callAnalysisApi(_0xe54fc2,_0xf472da);formatAndPrintWorksheet(_0x66a8d5,_0x7c24f4);}catch(_0x23dca3){console[_0x496d66(0x75e)]('Error\x20generating\x20worksheet:',_0x23dca3);if(_0x7c24f4)_0x7c24f4[_0x496d66(0x546)]();showMessage(_0x496d66(0x754));}finally{document['getElementById'](_0x496d66(0x28c))[_0x496d66(0x43c)][_0x496d66(0x128)](_0x496d66(0xa21)),document['getElementById'](_0x496d66(0x38d))['classList'][_0x496d66(0x128)](_0x496d66(0xa21)),generateWorksheetBtn[_0x496d66(0xe12)]=![];}}async function callAnalysisApi(_0x1f52d4,_0x18f3bb){const _0x22c625=_0x1b93ee,_0x906c74={'contents':[{'role':'user','parts':[{'text':_0x1f52d4}]}],'generationConfig':{'responseMimeType':_0x22c625(0x4ea),'responseSchema':_0x18f3bb}},_0x4f186f=_0x22c625(0x58d),_0x28c502='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x4f186f,_0x1a8504=await fetch(_0x28c502,{'method':_0x22c625(0xb76),'headers':{'Content-Type':'application/json'},'body':JSON[_0x22c625(0x1f9)](_0x906c74)});if(!_0x1a8504['ok'])throw new Error(_0x22c625(0x215)+_0x1a8504['status']);const _0x5a1c68=await _0x1a8504['json']();if(_0x5a1c68['candidates']?.[0x0]?.[_0x22c625(0xc41)]?.['parts']?.[0x0])return JSON[_0x22c625(0xd84)](_0x5a1c68['candidates'][0x0][_0x22c625(0xc41)][_0x22c625(0xe49)][0x0][_0x22c625(0x2dc)]);else{let _0x243d40=_0x22c625(0x793);if(_0x5a1c68[_0x22c625(0xda3)]?.[_0x22c625(0x617)])_0x243d40=_0x22c625(0xba2)+_0x5a1c68['promptFeedback'][_0x22c625(0x617)]+'.';else _0x5a1c68[_0x22c625(0x995)]?.[0x0]?.[_0x22c625(0xa26)]&&_0x5a1c68['candidates'][0x0]['finishReason']!=='STOP'&&(_0x243d40=_0x22c625(0xbe9)+_0x5a1c68[_0x22c625(0x995)][0x0][_0x22c625(0xa26)]+'.');console[_0x22c625(0x75e)](_0x243d40,JSON[_0x22c625(0x1f9)](_0x5a1c68));throw new Error(_0x243d40);}}async function handleStartSyncMode(_0x4703ef,_0x56a758=![],_0x2845e7=_0x1b93ee(0x2cf)){const _0x4225b3=_0x1b93ee,_0x56d72d=allQuizzes[_0x4225b3(0xe69)](_0x4d36a5=>_0x4d36a5['id']===_0x4703ef)||allQuizzesGlobal[_0x4225b3(0xe69)](_0x15ce8=>_0x15ce8['id']===_0x4703ef);if(!_0x56d72d){showMessage(_0x4225b3(0xe1b));return;}currentQuizData=getShuffledQuiz(_0x56d72d);const _0x4d84b6=Math[_0x4225b3(0x567)](0x3e8+Math[_0x4225b3(0x281)]()*0x2328)[_0x4225b3(0x95f)](),_0x131673=doc(db,_0x4225b3(0xe45)+appId+'/public/data/projects',_0x56d72d['projectId']),_0x83194=await getDoc(_0x131673);if(!_0x83194['exists']()){showMessage(_0x4225b3(0x850));return;}const _0x22a33f=_0x83194['data']()[_0x4225b3(0xa64)]||[],_0x4b919e={};if(_0x2845e7===_0x4225b3(0x47a)||_0x2845e7===_0x4225b3(0x671)){const _0x1d3ec3=[...ANONYMOUS_NAMES][_0x4225b3(0xa05)](()=>0.5-Math['random']());_0x22a33f[_0x4225b3(0x242)]((_0x1cedc7,_0x352778)=>{const _0x33c215=_0x4225b3;_0x4b919e[_0x1cedc7]=_0x1d3ec3[_0x352778]||_0x33c215(0x514)+(_0x352778+0x1);});}const _0x9fd3bf=document[_0x4225b3(0x693)](_0x4225b3(0xc60))[_0x4225b3(0xb48)],_0x1c3bdb=parseInt(document[_0x4225b3(0x693)](_0x4225b3(0x581))[_0x4225b3(0xc5c)],0xa);let _0x5eea72={'timerMode':_0x4225b3(0x2c6),'timerDuration':0x0};_0x9fd3bf&&(_0x5eea72[_0x4225b3(0x2d9)]=_0x4225b3(0xd0b),_0x5eea72[_0x4225b3(0x8d0)]=_0x1c3bdb||0xf0);const _0x4edd75=document[_0x4225b3(0x693)](_0x4225b3(0xa66))[_0x4225b3(0xb48)],_0x47980c=document[_0x4225b3(0x693)](_0x4225b3(0xd6c))['checked'];try{const _0x182d3b=await addDoc(collection(db,_0x4225b3(0xe45)+appId+_0x4225b3(0xe74)),{'quizId':_0x56d72d['id'],'pin':_0x4d84b6,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x56a758,'players':{},'gameVariant':_0x2845e7,'reviewQuestionIndex':0x0,'playerNicknames':_0x4b919e,'isAnonymousRevealed':![],..._0x5eea72,'showAnswerInAnonymous':_0x4edd75,'isBlackMarketEnabled':_0x47980c});currentLiveGameId=_0x182d3b['id'],showView(_0x4225b3(0xc45)),renderSyncLobbyView(_0x4d84b6,_0x56d72d[_0x4225b3(0x669)]),listenForSyncGameUpdates();const _0x4c448e={'gameId':currentLiveGameId,'mode':_0x4225b3(0x64a),'role':_0x4225b3(0x23c)};sessionStorage[_0x4225b3(0xce7)](_0x4225b3(0xe62),JSON[_0x4225b3(0x1f9)](_0x4c448e));}catch(_0x519515){console[_0x4225b3(0x75e)](_0x4225b3(0xd0c),_0x519515),showMessage(_0x4225b3(0x50c));}}function calculateFinalPodiumScores(_0xe050e2){const _0x9bd9ff=_0x1b93ee;if(!_0xe050e2||!_0xe050e2[_0x9bd9ff(0xd4c)]||!_0xe050e2['players'])return _0xe050e2[_0x9bd9ff(0x18f)]||{};const _0x3e4616=_0xe050e2[_0x9bd9ff(0xd4c)][_0x9bd9ff(0x4e6)][_0x9bd9ff(0x357)],_0x4b6381=JSON[_0x9bd9ff(0xd84)](JSON['stringify'](_0xe050e2[_0x9bd9ff(0x18f)]));return Object[_0x9bd9ff(0x8d9)](_0x4b6381)['forEach'](_0x548f74=>{const _0x576979=_0x9bd9ff,_0x27f7bf=_0x548f74[_0x576979(0xe35)]||0x0,_0x1798c7=_0x548f74['totalPoints']||0x0;_0x3e4616>0x0&&_0x27f7bf===_0x3e4616?_0x548f74['hasPerfectScoreBonus']=!![]:_0x548f74[_0x576979(0x80d)]=![],_0x548f74['realScore']=_0x27f7bf,_0x548f74[_0x576979(0x568)]=_0x1798c7;}),_0x4b6381;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x39e960=_0x1b93ee;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x4299d2=doc(db,_0x39e960(0xe45)+appId+_0x39e960(0xe74),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4299d2,_0x47f4af=>{const _0x3ba8f0=_0x39e960;if(!_0x47f4af[_0x3ba8f0(0x5a9)]()){sessionStorage[_0x3ba8f0(0xe44)]('activeGameSession'),showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3ba8f0(0x23c)?showView(_0x3ba8f0(0x66a)):showView(_0x3ba8f0(0x5ed));return;}cachedGameData=_0x47f4af['data'](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x3ba8f0(0xd4c)]),syncDataAndRender();});const _0x5b5afd=collection(db,'artifacts/'+appId+_0x39e960(0x2be)+currentLiveGameId+'/players');if(currentMode===_0x39e960(0x23c))unsubscribePlayersCollectionListener=onSnapshot(_0x5b5afd,_0x118fb5=>{const _0x4f419c=_0x39e960;_0x118fb5[_0x4f419c(0xc58)]()[_0x4f419c(0x242)](_0xe37a85=>{const _0x54998b=_0x4f419c;if(_0xe37a85[_0x54998b(0xb75)]==='added'||_0xe37a85[_0x54998b(0xb75)]===_0x54998b(0xa27))cachedPlayerData[_0xe37a85[_0x54998b(0xbdb)]['id']]=_0xe37a85[_0x54998b(0xbdb)][_0x54998b(0x7d4)]();else _0xe37a85[_0x54998b(0xb75)]===_0x54998b(0x37c)&&delete cachedPlayerData[_0xe37a85[_0x54998b(0xbdb)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x39e960(0x357)]>0x0){const _0x56c014=query(_0x5b5afd,where(_0x39e960(0x41d),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x56c014,_0x513a8f=>{const _0x575711=_0x39e960;_0x513a8f[_0x575711(0xc58)]()[_0x575711(0x242)](_0x18eb7a=>{const _0x5830bc=_0x575711;(_0x18eb7a[_0x5830bc(0xb75)]==='added'||_0x18eb7a[_0x5830bc(0xb75)]===_0x5830bc(0xa27))&&(cachedPlayerData[_0x18eb7a[_0x5830bc(0xbdb)]['id']]=_0x18eb7a['doc'][_0x5830bc(0x7d4)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x339114=_0x1b93ee;if(!cachedGameData)return;const _0x5c146d={},_0x38b47c=cachedGameData['currentQuestionIndex'];Object['keys'](cachedPlayerData)[_0x339114(0x242)](_0x28e95b=>{const _0x3dd3b2=_0x339114,_0x114dae=cachedPlayerData[_0x28e95b],_0x51621a=_0x114dae[_0x3dd3b2(0x7f4)]&&_0x114dae[_0x3dd3b2(0x7f4)][_0x3dd3b2(0xe64)](_0x344a04=>_0x344a04[_0x3dd3b2(0x684)]===_0x38b47c);_0x5c146d[_0x28e95b]={..._0x114dae,'answered':_0x51621a};});const _0x5d9327={...cachedGameData,'players':_0x5c146d};currentMode===_0x339114(0x23c)?updateAdminSyncView(_0x5d9327):updateStudentSyncView(_0x5d9327);}function renderSyncLobbyView(_0x17e42d,_0x3fb8b1){const _0x2822c4=_0x1b93ee;liveGameView[_0x2822c4(0xc8c)]=_0x2822c4(0x112)+_0x3fb8b1+_0x2822c4(0x9c8)+_0x17e42d+_0x2822c4(0xca2);const _0x2cefb4=document[_0x2822c4(0x693)](_0x2822c4(0x424)),_0x47e3f7=document[_0x2822c4(0x693)]('confidence-scoring-description');_0x2cefb4[_0x2822c4(0x5e0)](_0x2822c4(0xe52),()=>{const _0x23a81c=_0x2822c4;_0x47e3f7[_0x23a81c(0x77b)]['display']=_0x2cefb4[_0x23a81c(0xb48)]?_0x23a81c(0x621):_0x23a81c(0x2c6);}),document[_0x2822c4(0x693)](_0x2822c4(0x24c))[_0x2822c4(0x5e0)](_0x2822c4(0x2df),async()=>{const _0xd1a766=_0x2822c4,_0x180867=doc(db,'artifacts/'+appId+_0xd1a766(0xe74),currentLiveGameId),_0x1adb2f=document[_0xd1a766(0x693)](_0xd1a766(0x424))[_0xd1a766(0xb48)];await updateDoc(_0x180867,{'status':_0xd1a766(0x776),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1adb2f});});}function updateAdminSyncView(_0x1c3b7d){const _0x525405=_0x1b93ee;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x1c3b7d[_0x525405(0x7f7)]){case _0x525405(0xae8):renderSyncLobbyView(_0x1c3b7d[_0x525405(0xb7f)],_0x1c3b7d['shuffledQuiz'][_0x525405(0x669)]);const _0x258a4f=Object[_0x525405(0x7da)](_0x1c3b7d['players']||{})[_0x525405(0x107)](([_0x494b71,_0x571f27])=>_0x571f27[_0x525405(0x7f7)]!==_0x525405(0xe4d));document[_0x525405(0x693)](_0x525405(0x642))[_0x525405(0xc08)]=_0x258a4f[_0x525405(0x357)],document[_0x525405(0x693)](_0x525405(0x846))[_0x525405(0xc8c)]=_0x258a4f[_0x525405(0x926)](([_0x5df511,_0x4c34ce])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5df511+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5df511+_0x525405(0x7b5))[_0x525405(0xd7b)]('')||_0x525405(0xabf),document[_0x525405(0x693)](_0x525405(0x24c))[_0x525405(0xe12)]=_0x258a4f[_0x525405(0x357)]===0x0;break;case _0x525405(0x776):const _0x564c97=Object[_0x525405(0x8d9)](_0x1c3b7d['players']||{})[_0x525405(0x107)](_0x1bd682=>_0x1bd682[_0x525405(0x7f7)]!==_0x525405(0xe4d)),_0x55b2cf=_0x564c97[_0x525405(0x107)](_0x121bd5=>_0x121bd5['answered'])[_0x525405(0x357)],_0x3a1438=_0x55b2cf===_0x564c97['length']&&_0x564c97[_0x525405(0x357)]>0x0;if(_0x3a1438&&_0x1c3b7d[_0x525405(0x7f7)]===_0x525405(0x776)){const _0x514a68=doc(db,_0x525405(0xe45)+appId+_0x525405(0xe74),currentLiveGameId);updateDoc(_0x514a68,{'status':'summary'});return;}if(document[_0x525405(0x693)](_0x525405(0x771))===null)renderAdminSyncQuestionView(_0x1c3b7d);else{const _0x5d8e6b=document[_0x525405(0x693)](_0x525405(0x6aa));_0x5d8e6b&&(_0x5d8e6b[_0x525405(0xc08)]=_0x55b2cf+'/'+_0x564c97[_0x525405(0x357)]);const _0x588573=document[_0x525405(0x693)](_0x525405(0x858));_0x588573&&(_0x588573['innerHTML']=_0x564c97[_0x525405(0x926)](_0x4651bf=>{const _0x508d68=_0x525405,_0x2ff6fe=_0x4651bf['answered']?_0x508d68(0x1e1):_0x508d68(0xcc2),_0xa60a18=_0x4651bf['answered']?_0x508d68(0xa4b):_0x508d68(0x622);return _0x508d68(0x756)+_0x2ff6fe+'\x22>'+_0xa60a18+_0x508d68(0x863)+_0x4651bf[_0x508d68(0x41d)]+'</span><button\x20data-player-name=\x22'+_0x4651bf[_0x508d68(0x41d)]+_0x508d68(0x7ce);})[_0x525405(0xd7b)](''));}const _0x1d4b08=_0x1c3b7d[_0x525405(0x2d9)]===_0x525405(0xd0b)&&_0x1c3b7d[_0x525405(0x78b)];if(_0x1d4b08){const _0x38174c=_0x1c3b7d[_0x525405(0x78b)][_0x525405(0x166)]()['getTime'](),_0x434381=_0x1c3b7d[_0x525405(0x8d0)]*0x3e8,_0x263cc7=_0x38174c+_0x434381,_0x164f04=document[_0x525405(0x693)](_0x525405(0xb43)),_0x5ad67e=document[_0x525405(0x693)](_0x525405(0xcdb));syncQuestionTimerInterval=setInterval(()=>{const _0x624e4d=_0x525405,_0xf76f81=Date[_0x624e4d(0xa37)](),_0x18f0d1=_0x564c97[_0x624e4d(0x357)]>0x0&&_0x564c97[_0x624e4d(0xd82)](_0x503e94=>{const _0x1192d2=_0x624e4d;if(_0x503e94[_0x1192d2(0x6fd)])return!![];const _0x3b2c85=_0x503e94[_0x1192d2(0x9d2)]||0x0;return _0xf76f81>=_0x38174c+_0x434381+_0x3b2c85;});if(_0x18f0d1){clearInterval(syncQuestionTimerInterval);const _0x38211b=doc(db,_0x624e4d(0xe45)+appId+_0x624e4d(0xe74),currentLiveGameId);updateDoc(_0x38211b,{'status':_0x624e4d(0x830)});return;}const _0x3220fb=_0x263cc7-_0xf76f81;if(_0x3220fb<=0x0){if(_0x164f04)_0x164f04[_0x624e4d(0x77b)]['width']='0%';if(_0x5ad67e)_0x5ad67e[_0x624e4d(0xc08)]=_0x624e4d(0x729);}else{if(_0x164f04&&_0x5ad67e){const _0x444fa9=_0x3220fb/_0x434381*0x64;_0x164f04[_0x624e4d(0x77b)]['width']=_0x444fa9+'%',_0x5ad67e[_0x624e4d(0xc08)]=Math[_0x624e4d(0x45c)](_0x3220fb/0x3e8);}}},0x1f4);}break;case'summary':const _0x9da27e=_0x1c3b7d['currentQuestionIndex'],_0x579bbd=_0x1c3b7d[_0x525405(0xd4c)][_0x525405(0x4e6)][_0x9da27e];renderSyncSummaryView(_0x1c3b7d,_0x579bbd,!![]);break;case _0x525405(0xb88):const _0xc03f4f=_0x1c3b7d[_0x525405(0xd30)]||'classic';_0xc03f4f===_0x525405(0xa8b)||_0xc03f4f===_0x525405(0x671)?renderAdminSyncDashboard(_0x1c3b7d,!![],_0x1c3b7d['reviewQuestionIndex']):(_0x1c3b7d[_0x525405(0x7f7)]===_0x525405(0xb88)&&!_0x1c3b7d['scoresCalculated']&&((async()=>{const _0x3fad45=_0x525405;try{const _0x36e017=doc(db,'artifacts/'+appId+_0x3fad45(0xe74),currentLiveGameId);await updateDoc(_0x36e017,{'scoresCalculated':!![]});const _0x3216dd=cachedPlayerData||{},_0x2897cb=_0x1c3b7d['shuffledQuiz']['questions'][_0x3fad45(0x357)],_0x44f0a8={};Object[_0x3fad45(0x8d9)](_0x3216dd)[_0x3fad45(0x242)](_0x56e6e5=>{const _0x190874=_0x3fad45;if(_0x56e6e5[_0x190874(0x7f7)]!==_0x190874(0xe4d)){const _0x2a3093=_0x56e6e5[_0x190874(0x41d)],_0x224f9e=_0x56e6e5[_0x190874(0xe35)]||0x0,_0x29088d=_0x56e6e5[_0x190874(0x568)]||0x0;let _0x59a588=_0x29088d;_0x2897cb>0x0&&_0x224f9e===_0x2897cb&&(_0x59a588+=0x1),_0x44f0a8[_0x190874(0xcb2)+_0x2a3093+_0x190874(0x21e)]=_0x224f9e,_0x44f0a8['players.'+_0x2a3093+_0x190874(0xe7f)]=_0x59a588,_0x44f0a8[_0x190874(0xcb2)+_0x2a3093+'.pointsLastRound']=_0x59a588;}}),await updateDoc(_0x36e017,{..._0x44f0a8});}catch(_0x2ef511){console['error'](_0x3fad45(0xb2b),_0x2ef511);}})()),renderAdminSyncDashboard(_0x1c3b7d,!![],_0x1c3b7d['currentQuestionIndex']));break;case _0x525405(0x806):const _0x439453=Object[_0x525405(0x89a)](_0x1c3b7d[_0x525405(0x18f)]||{})['length']>0x0,_0x7ee0a1=_0x1c3b7d[_0x525405(0x5f7)]===!![],_0xaefcba=_0x1c3b7d[_0x525405(0x8c1)]===!![];_0xaefcba&&!_0x7ee0a1&&_0x439453&&saveGameResultsAsSubmissions(_0x1c3b7d);sessionStorage[_0x525405(0xe44)](_0x525405(0xe62));const _0x10f11d=calculateFinalPodiumScores(_0x1c3b7d);showPodiumView(_0x10f11d,'sync',_0x1c3b7d);break;}}function renderAdminSyncQuestionView(_0x1f05f8){const _0x3a1ec7=_0x1b93ee,_0x20f70f=_0x1f05f8[_0x3a1ec7(0x345)],_0x495f2a=_0x1f05f8[_0x3a1ec7(0xd4c)]['questions'][_0x20f70f],_0x3c4829=_0x1f05f8['shuffledQuiz'][_0x3a1ec7(0x4e6)]['length'],_0x507302=Object[_0x3a1ec7(0x8d9)](_0x1f05f8[_0x3a1ec7(0x18f)]||{})[_0x3a1ec7(0x107)](_0x3d3051=>_0x3d3051['status']!==_0x3a1ec7(0xe4d)),_0x51f713=_0x507302[_0x3a1ec7(0x107)](_0x517f4b=>_0x517f4b['answered'])[_0x3a1ec7(0x357)],_0x1ec5c9=_0x51f713===_0x507302['length']&&_0x507302['length']>0x0,_0x5d186a=_0x495f2a[_0x3a1ec7(0x994)]||_0x1f05f8['shuffledQuiz']['quizType'],_0x29cabc=(_0x5d186a===_0x3a1ec7(0xbc0)||_0x5d186a==='fill_in_no_choices')&&_0x495f2a[_0x3a1ec7(0x2da)]&&_0x495f2a[_0x3a1ec7(0x2da)][_0x3a1ec7(0x357)]>0x0;let _0x273711='';_0x29cabc?_0x273711=_0x3a1ec7(0x9e6):_0x273711=(_0x495f2a[_0x3a1ec7(0x2da)]||[])[_0x3a1ec7(0x926)](_0x2a7114=>_0x3a1ec7(0x9d0)+_0x2a7114+'</div>')[_0x3a1ec7(0xd7b)]('');let _0x5bd7c7='';_0x1f05f8[_0x3a1ec7(0x2d9)]===_0x3a1ec7(0xd0b)&&(_0x5bd7c7=_0x3a1ec7(0xd57)+_0x1f05f8[_0x3a1ec7(0x8d0)]+_0x3a1ec7(0x490));liveGameView[_0x3a1ec7(0xc8c)]=_0x3a1ec7(0x6e2)+(_0x20f70f+0x1)+_0x3a1ec7(0x2c5)+_0x3c4829+_0x3a1ec7(0x7f9)+_0x1f05f8[_0x3a1ec7(0xb7f)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x51f713+'/'+_0x507302[_0x3a1ec7(0x357)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bd7c7+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x495f2a[_0x3a1ec7(0xd6a)]||_0x495f2a[_0x3a1ec7(0x87a)])+_0x3a1ec7(0x5af)+_0x273711+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x1ec5c9?_0x3a1ec7(0xe12):'')+_0x3a1ec7(0x8fe);if(window[_0x3a1ec7(0xad6)])MathJax[_0x3a1ec7(0x840)]();const _0x2222c6=doc(db,_0x3a1ec7(0xe45)+appId+'/public/data/syncGames',currentLiveGameId);document['getElementById'](_0x3a1ec7(0xdd7))['addEventListener'](_0x3a1ec7(0x2df),async()=>{const _0x213275=_0x3a1ec7;await updateDoc(_0x2222c6,{'status':_0x213275(0x830)});}),document['getElementById'](_0x3a1ec7(0x4ae))[_0x3a1ec7(0x72e)]=()=>{const _0x3cc1e4=_0x3a1ec7;openScratchpad(_0x495f2a,_0x495f2a[_0x3cc1e4(0x2da)]||[]);},document['getElementById'](_0x3a1ec7(0x5bb))['addEventListener'](_0x3a1ec7(0x2df),()=>{const _0x44949c=_0x3a1ec7;document[_0x44949c(0x693)](_0x44949c(0x771))['classList'][_0x44949c(0xe2c)](_0x44949c(0xa21));});const _0x51a63e=document[_0x3a1ec7(0x693)](_0x3a1ec7(0x33f));_0x51a63e&&(_0x51a63e[_0x3a1ec7(0x72e)]=()=>{const _0x56ed8a=_0x3a1ec7;showConfirmation(_0x56ed8a(0x360),async()=>{const _0x18a302=_0x56ed8a;await updateDoc(_0x2222c6,{'status':_0x18a302(0x806)});});});}function renderSyncLeaderboardView(_0x1b9e6c,_0x1689a2){const _0x1d9dd8=_0x1b93ee,_0x5c78ea=Object[_0x1d9dd8(0x8d9)](_0x1b9e6c['players']||{});_0x5c78ea[_0x1d9dd8(0xa05)]((_0x46e2e2,_0x304f51)=>_0x304f51[_0x1d9dd8(0xe35)]-_0x46e2e2[_0x1d9dd8(0xe35)]);const _0xa511e3=_0x5c78ea[_0x1d9dd8(0xaa2)](0x0,0x5);let _0xf32004='';if(_0x1689a2){const _0x20240c=_0x1b9e6c[_0x1d9dd8(0x345)]>=_0x1b9e6c[_0x1d9dd8(0xd4c)][_0x1d9dd8(0x4e6)][_0x1d9dd8(0x357)]-0x1;_0xf32004=_0x1d9dd8(0x1b7)+(_0x20240c?_0x1d9dd8(0x33d):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0xf32004=_0x1d9dd8(0xa4d);liveGameView[_0x1d9dd8(0xc8c)]=_0x1d9dd8(0x91c)+_0xa511e3[_0x1d9dd8(0x926)]((_0x4ec90f,_0x4cd466)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x4cd466+0x1)+'.\x20'+_0x4ec90f[_0x1d9dd8(0x41d)]+_0x1d9dd8(0x165)+_0x4ec90f[_0x1d9dd8(0xe35)]+'</span></div>')[_0x1d9dd8(0xd7b)]('')+_0x1d9dd8(0x99c)+_0xf32004+_0x1d9dd8(0x54a),_0x1689a2&&document[_0x1d9dd8(0x693)](_0x1d9dd8(0x1cf))[_0x1d9dd8(0x5e0)](_0x1d9dd8(0x2df),async()=>{const _0x215ba3=_0x1d9dd8,_0x25172e=doc(db,_0x215ba3(0xe45)+appId+'/public/data/syncGames',currentLiveGameId),_0x426c60=_0x1b9e6c[_0x215ba3(0x345)]+0x1;if(_0x426c60<_0x1b9e6c[_0x215ba3(0xd4c)][_0x215ba3(0x4e6)][_0x215ba3(0x357)]){const _0x3dd466={};Object['keys'](_0x1b9e6c[_0x215ba3(0x18f)])[_0x215ba3(0x242)](_0x4501f7=>{const _0x2e9621=_0x215ba3;_0x3dd466[_0x2e9621(0xcb2)+_0x4501f7+_0x2e9621(0xd35)]=![];}),await updateDoc(_0x25172e,{'status':_0x215ba3(0x776),'currentQuestionIndex':_0x426c60,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x25172e,{'status':_0x215ba3(0x806)});});}async function handleJoinSyncGame(){const _0x31b5ca=_0x1b93ee,_0x47b4d0=prompt(_0x31b5ca(0x1a4));if(!_0x47b4d0||_0x47b4d0[_0x31b5ca(0xb6d)]()[_0x31b5ca(0x357)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x477442=collection(db,_0x31b5ca(0xe45)+appId+_0x31b5ca(0xe74)),_0x89bb12=query(_0x477442,where('pin','==',_0x47b4d0[_0x31b5ca(0xb6d)]()),where(_0x31b5ca(0x7f7),'==',_0x31b5ca(0xae8))),_0xf70bfe=await getDocs(_0x89bb12);if(_0xf70bfe[_0x31b5ca(0x8c4)]){showMessage(_0x31b5ca(0x2af));return;}const _0x5c11f9=_0xf70bfe['docs'][0x0];currentLiveGameId=_0x5c11f9['id'];const _0x3274a6=_0x5c11f9[_0x31b5ca(0x7d4)](),_0x22cc3d=doc(db,_0x31b5ca(0xe45)+appId+'/public/data/quizzes',_0x3274a6['quizId']),_0x3c9e8c=await getDoc(_0x22cc3d);if(!_0x3c9e8c['exists']())throw new Error(_0x31b5ca(0x9dd));const _0xee0ecf=_0x3c9e8c[_0x31b5ca(0x7d4)](),_0x5d2e61=doc(db,_0x31b5ca(0xe45)+appId+'/public/data/projects',_0xee0ecf[_0x31b5ca(0x3a0)]),_0x47bebd=await getDoc(_0x5d2e61);if(!_0x47bebd[_0x31b5ca(0x5a9)]())throw new Error(_0x31b5ca(0x6ab));currentQuizData=_0x3274a6[_0x31b5ca(0xd4c)];const _0x12f980=_0x47bebd[_0x31b5ca(0x7d4)]();showView(_0x31b5ca(0x21a)),showTeamPlayerSelection(_0x12f980[_0x31b5ca(0xa64)],_0xee0ecf[_0x31b5ca(0x669)]);const _0x2b9dfc=document[_0x31b5ca(0x693)]('confirm-team-players-btn');_0x2b9dfc[_0x31b5ca(0x72e)]=confirmAndJoinSyncGame;}catch(_0x4bbbaf){console[_0x31b5ca(0x75e)](_0x31b5ca(0x7cb),_0x4bbbaf),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4bbbaf[_0x31b5ca(0x340)]);}}function updateStudentSyncView(_0x47c570){const _0x3fa1e1=_0x1b93ee,_0x349f14=localTeamPlayers[0x0],_0x13cb07=_0x47c570[_0x3fa1e1(0x18f)][_0x349f14]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x47c570[_0x3fa1e1(0x7f7)]){case _0x3fa1e1(0xae8):showView(_0x3fa1e1(0xc45)),liveGameView['innerHTML']=_0x3fa1e1(0x74e);break;case _0x3fa1e1(0x776):if(_0x47c570[_0x3fa1e1(0x345)]!==lastSeenQuestionIndex){console[_0x3fa1e1(0xb20)](_0x3fa1e1(0x391)),sessionStorage[_0x3fa1e1(0xe44)]('powerupUsedThisTurn'),sessionStorage['removeItem'](_0x3fa1e1(0x496)),sessionStorage['removeItem'](_0x3fa1e1(0xdb6));const _0x5b557b=_0x3fa1e1(0x4a5)+lastSeenQuestionIndex,_0x19de8b=_0x3fa1e1(0x156)+lastSeenQuestionIndex,_0x2c777e=_0x3fa1e1(0xb35)+lastSeenQuestionIndex;Object[_0x3fa1e1(0x89a)](sessionStorage)[_0x3fa1e1(0x242)](_0x55f2d9=>{const _0x8baf8e=_0x3fa1e1;(_0x55f2d9['startsWith'](_0x5b557b)||_0x55f2d9[_0x8baf8e(0x3a6)](_0x19de8b)||_0x55f2d9['startsWith'](_0x2c777e))&&sessionStorage[_0x8baf8e(0xe44)](_0x55f2d9);});if(_0x13cb07['isJinxed']||_0x13cb07[_0x3fa1e1(0xe03)]||(_0x13cb07['timeBonusThisQuestion']||0x0)>0x0){const _0x1096ab=doc(db,'artifacts/'+appId+_0x3fa1e1(0x2be)+currentLiveGameId+_0x3fa1e1(0x224),_0x349f14);updateDoc(_0x1096ab,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x3fa1e1(0x792)](_0x1723f9=>console[_0x3fa1e1(0x75e)](_0x3fa1e1(0xaba),_0x1723f9));}lastSeenQuestionIndex=_0x47c570[_0x3fa1e1(0x345)];}localPlayerTurnIndex=0x0;const _0x51edac=localTeamPlayers[_0x3fa1e1(0xd82)](_0x4e4f9a=>_0x47c570['players'][_0x4e4f9a]?.['answered']===!![]);if(_0x51edac)liveGameView[_0x3fa1e1(0xc8c)]=_0x3fa1e1(0x39c);else{renderStudentSyncQuestionView(_0x47c570);if(_0x47c570[_0x3fa1e1(0x2d9)]==='per_question'){if(!_0x47c570['questionDisplayedAt']){console[_0x3fa1e1(0xb20)](_0x3fa1e1(0x399));return;}const _0x5365df=_0x47c570[_0x3fa1e1(0x78b)][_0x3fa1e1(0x166)]()[_0x3fa1e1(0xe77)](),_0x4021de=_0x47c570['timerDuration']*0x3e8,_0x40ced9=localTeamPlayers[_0x3fa1e1(0x926)](_0x20787a=>_0x47c570[_0x3fa1e1(0x18f)][_0x20787a]?.[_0x3fa1e1(0x9d2)]||0x0),_0x2ca6f9=Math['max'](..._0x40ced9,0x0),_0x3d58b1=_0x5365df+_0x4021de+_0x2ca6f9;syncQuestionTimerInterval=setInterval(()=>{const _0x87c9ba=_0x3fa1e1,_0x44c58e=_0x3d58b1-Date[_0x87c9ba(0xa37)](),_0x30a5cd=document['getElementById'](_0x87c9ba(0xb43)),_0x120731=document[_0x87c9ba(0x693)](_0x87c9ba(0xcdb));if(_0x44c58e<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x30a5cd)_0x30a5cd['style'][_0x87c9ba(0x129)]='0%';if(_0x120731)_0x120731[_0x87c9ba(0xc08)]='0';liveGameView[_0x87c9ba(0xc8c)]=_0x87c9ba(0x6ff);}else{if(_0x30a5cd&&_0x120731){const _0x565237=_0x4021de+_0x2ca6f9,_0x219740=_0x565237>0x0?_0x44c58e/_0x565237*0x64:0x0;_0x30a5cd['style'][_0x87c9ba(0x129)]=_0x219740+'%',_0x120731['textContent']=Math['ceil'](_0x44c58e/0x3e8);}}},0x1f4);}}break;case _0x3fa1e1(0x830):liveGameView[_0x3fa1e1(0xc8c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3fa1e1(0xb88):localPlayerTurnIndex=0x0;const _0x466099=_0x47c570[_0x3fa1e1(0xd30)]||'classic';if(_0x466099==='anonymous'||_0x466099===_0x3fa1e1(0x671))renderStudentAnonymousResultsView(_0x47c570,_0x47c570[_0x3fa1e1(0x345)]);else _0x466099===_0x3fa1e1(0x1f7)?renderStudentCompetitionResultsView(_0x47c570,_0x47c570[_0x3fa1e1(0x345)]):renderStudentSyncResultsView(_0x47c570);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3fa1e1(0x663)](_0x3fa1e1(0xc62),handleFullscreenChange),document[_0x3fa1e1(0x663)](_0x3fa1e1(0x717),handleVisibilityChange),sessionStorage[_0x3fa1e1(0xe44)](_0x3fa1e1(0xe62));const _0x4a6b8a=_0x47c570['gameVariant']||'classic',_0x37ec38=_0x47c570[_0x3fa1e1(0xd4c)][_0x3fa1e1(0x4e6)][_0x3fa1e1(0x357)]-0x1;if(_0x4a6b8a===_0x3fa1e1(0x47a)||_0x4a6b8a===_0x3fa1e1(0x671))renderStudentAnonymousResultsView(_0x47c570,_0x37ec38);else _0x4a6b8a===_0x3fa1e1(0x1f7)?renderStudentCompetitionResultsView(_0x47c570,_0x37ec38):renderStudentSyncResultsView(_0x47c570);const _0xe047e8=liveGameView[_0x3fa1e1(0xbc1)](_0x3fa1e1(0x98a));_0xe047e8&&(_0xe047e8[_0x3fa1e1(0x77b)][_0x3fa1e1(0xb4c)]=_0x3fa1e1(0x2c6));const _0x479157=liveGameView[_0x3fa1e1(0xbc1)](_0x3fa1e1(0x698));_0x479157&&(_0x479157['style'][_0x3fa1e1(0xb4c)]=_0x3fa1e1(0x2c6));const _0x405b2d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3fa1e1(0x841)]?liveGameView['firstElementChild'][_0x3fa1e1(0xce8)](_0x3fa1e1(0xa10),_0x405b2d):liveGameView[_0x3fa1e1(0xce8)]('beforeend',_0x405b2d);break;}}function renderStudentSyncResultsView(_0x54c8e6){const _0x241360=_0x1b93ee;let _0x60cbe=[];_0x54c8e6[_0x241360(0x3a8)]&&Array[_0x241360(0x2bd)](_0x54c8e6['publicLeaderboard'])&&_0x54c8e6['publicLeaderboard']['length']>0x0?_0x60cbe=_0x54c8e6[_0x241360(0x3a8)]:_0x60cbe=Object[_0x241360(0x8d9)](_0x54c8e6['players']||{});const _0x33a844=_0x54c8e6[_0x241360(0xd30)]||_0x241360(0x2cf),_0x1b072b=_0x33a844==='reveal_at_end'||_0x33a844===_0x241360(0x671),_0x1307f4=_0x54c8e6['shuffledQuiz'][_0x241360(0x4e6)],_0x11ff74=_0x1b072b&&_0x54c8e6[_0x241360(0x83b)]!==undefined?_0x54c8e6[_0x241360(0x83b)]:_0x54c8e6['currentQuestionIndex'],_0x27ffc3=_0x1b072b?_0x54c8e6[_0x241360(0x83b)]:_0x54c8e6[_0x241360(0x345)],_0x5a3a00=_0x60cbe[_0x241360(0x926)](_0x11be81=>{const _0xddd78f=_0x241360,_0x50672d=(_0x11be81[_0xddd78f(0x7f4)]||[])[_0xddd78f(0x107)](_0x5c608d=>_0x5c608d[_0xddd78f(0x684)]<=_0x11ff74);let _0x1c03c9=0x0,_0xc4f9d9=0x0;_0x1b072b?(_0x1c03c9=_0x50672d[_0xddd78f(0x107)](_0x404876=>_0x404876[_0xddd78f(0x5ce)])[_0xddd78f(0x357)],_0xc4f9d9=_0x50672d[_0xddd78f(0xb28)]((_0x11b3d6,_0x1626e4)=>_0x11b3d6+(_0x1626e4[_0xddd78f(0x749)]||0x0),0x0)):(_0x1c03c9=_0x11be81[_0xddd78f(0xe35)]||0x0,_0xc4f9d9=_0x11be81[_0xddd78f(0x568)]||0x0);const _0x10ca13=[..._0x50672d]['sort']((_0xaf8c55,_0x5bac46)=>_0xaf8c55[_0xddd78f(0x684)]-_0x5bac46[_0xddd78f(0x684)]);let _0x143ec8=0x0;return _0x10ca13[_0xddd78f(0x242)](_0x5ab18a=>{const _0x183397=_0xddd78f,_0x4f82dd=_0x5ab18a[_0x183397(0x261)]&&_0x5ab18a['powerupUsed']!==_0x183397(0xa95)||_0x5ab18a['usedBuyTime'];_0x5ab18a['isCorrect']?_0x143ec8=_0x4f82dd?0x0:_0x143ec8+0x1:_0x143ec8=0x0;}),{..._0x11be81,'realScore':_0x1c03c9,'totalPoints':_0xc4f9d9,'answers':_0x11be81['answers'],'correctStreak':_0x143ec8};}),_0x1eefbb=Math[_0x241360(0x417)](..._0x5a3a00[_0x241360(0x926)](_0x51b8a5=>_0x51b8a5[_0x241360(0x568)]),-Infinity),_0x938ad2=Math[_0x241360(0x417)](..._0x5a3a00[_0x241360(0x926)](_0x109d46=>_0x109d46[_0x241360(0xcd3)]),-Infinity),_0x1259ee=_0x54c8e6[_0x241360(0x86a)]===!![];let _0x557c47=_0x5a3a00[_0x241360(0x107)](_0x43ed0a=>localTeamPlayers[_0x241360(0x8bb)](_0x43ed0a[_0x241360(0x41d)]));_0x557c47[_0x241360(0xa05)]((_0xeb8516,_0x2490c7)=>(_0x2490c7[_0x241360(0x568)]||0x0)-(_0xeb8516['totalPoints']||0x0));let _0x269e32='';const _0x3617cc=_0x1b072b?_0x11ff74>=_0x1307f4[_0x241360(0x357)]-0x1:_0x54c8e6[_0x241360(0x345)]>=_0x1307f4[_0x241360(0x357)]-0x1;if(_0x54c8e6[_0x241360(0x7f7)]==='podium')_0x269e32='';else _0x3617cc?_0x269e32=_0x241360(0xd34):_0x269e32=_0x241360(0x101);const _0x5a82d9=_0x241360(0x9d1)+_0x557c47[_0x241360(0x926)]((_0x5e0a49,_0x586bcd)=>{const _0x33a9b8=_0x241360;let _0x1e3c02=_0x33a9b8(0x309);const _0x8f5ef0=(_0x5e0a49[_0x33a9b8(0x7f4)]||[])[_0x33a9b8(0xe69)](_0x18397d=>_0x18397d[_0x33a9b8(0x684)]===_0x27ffc3);let _0x5f4bf5='';if(_0x8f5ef0){if(_0x8f5ef0[_0x33a9b8(0x4bd)])_0x5f4bf5+=_0x33a9b8(0x744);if(_0x8f5ef0[_0x33a9b8(0xa1a)])_0x5f4bf5+=_0x33a9b8(0xbab);if(_0x8f5ef0[_0x33a9b8(0x46b)])_0x5f4bf5+='<span\x20title=\x22ใช้เวลา\x22>⏳</span>';const _0x92b19=_0x8f5ef0[_0x33a9b8(0x261)];if(_0x92b19){const _0x287b46={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x287b46[_0x92b19])_0x5f4bf5+=_0x33a9b8(0x120)+_0x92b19+'\x22>'+_0x287b46[_0x92b19]+_0x33a9b8(0xb46);}}if(_0x8f5ef0){const _0x49912e=_0x8f5ef0[_0x33a9b8(0x5ce)],_0xdc157f=_0x8f5ef0[_0x33a9b8(0x9fa)]===!![]||_0x8f5ef0['wasConfident']===_0x33a9b8(0xc6c),_0xeb0cb7=_0x8f5ef0[_0x33a9b8(0x261)];if(_0xeb0cb7===_0x33a9b8(0xa95))_0x1e3c02=_0x49912e?_0x33a9b8(0x4d9):_0x33a9b8(0xcc0);else{if(_0xdc157f)_0x1e3c02=_0x49912e?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x33a9b8(0x637);else _0x49912e?_0x1e3c02='bg-[#DCFCE7]\x20text-green-900':_0x1e3c02=_0x33a9b8(0x276);}}let _0x34eb8f='';_0x8f5ef0&&_0x8f5ef0['powerupUsed']===_0x33a9b8(0xa95)&&!_0x8f5ef0[_0x33a9b8(0x5ce)]&&(_0x34eb8f=_0x33a9b8(0xe4c));const _0x52dba6=_0x5e0a49[_0x33a9b8(0x568)]>=0x0?'(+'+_0x5e0a49[_0x33a9b8(0x568)][_0x33a9b8(0x286)]()+')':'('+_0x5e0a49[_0x33a9b8(0x568)]['toLocaleString']()+')';let _0xae98b1='';const _0x18df62=_0x5e0a49[_0x33a9b8(0x7f4)]['length'],_0x267161=_0x11ff74+0x1;if(_0x18df62>0x0){_0x1259ee?(_0x5e0a49['totalPoints']===_0x1eefbb&&_0x1eefbb>0x0&&(_0xae98b1+=_0x33a9b8(0xc80)),_0x5e0a49[_0x33a9b8(0xcd3)]===_0x938ad2&&_0x938ad2>0x0&&(_0xae98b1+='<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>')):_0x5e0a49[_0x33a9b8(0xcd3)]===_0x267161&&(_0xae98b1+=_0x33a9b8(0x34f));const _0x2ac074=_0xae98b1['includes']('👑')||_0xae98b1[_0x33a9b8(0x8bb)]('🎓')||_0xae98b1['includes']('⭐');!_0x2ac074&&_0x5e0a49[_0x33a9b8(0x568)]<0x0&&(_0xae98b1+=_0x33a9b8(0xd5c));}let _0x1f1ada='';const _0x1b319a=_0x8f5ef0&&_0x8f5ef0['usedBuyTime'],_0x64cf36=_0x8f5ef0&&_0x8f5ef0[_0x33a9b8(0x261)]&&_0x8f5ef0[_0x33a9b8(0x261)]!==_0x33a9b8(0xa95);if(!_0x1b319a&&!_0x64cf36){const _0x2c95d8=_0x5e0a49[_0x33a9b8(0x48c)]||0x0;_0x2c95d8>=0x3&&(_0x1f1ada=_0x33a9b8(0x7f5)+_0x2c95d8+_0x33a9b8(0xb46));}return _0x33a9b8(0xd03)+_0x1e3c02+_0x33a9b8(0x218)+(_0x586bcd+0x1)+_0x33a9b8(0xae4)+_0x5e0a49[_0x33a9b8(0x41d)]+_0x33a9b8(0x56a)+_0x5f4bf5+'\x20'+_0xae98b1+'\x20'+_0x1f1ada+_0x33a9b8(0xa61)+_0x5e0a49[_0x33a9b8(0xcd3)]+_0x33a9b8(0x786)+_0x52dba6+_0x33a9b8(0x9d6)+_0x34eb8f+_0x33a9b8(0xcfa);})[_0x241360(0xd7b)]('')+_0x241360(0x40d)+_0x269e32+_0x241360(0x214);liveGameView[_0x241360(0xc8c)]=_0x5a82d9;}function renderStudentAnonymousResultsView(_0x3e3395,_0x4a8f96){const _0x94f74e=_0x1b93ee;let _0x17f233=[];_0x3e3395['publicLeaderboard']?_0x17f233=_0x3e3395[_0x94f74e(0x3a8)]:_0x17f233=Object[_0x94f74e(0x8d9)](_0x3e3395['players']||{});const _0x352604=_0x3e3395['gameVariant']||_0x94f74e(0x2cf),_0x1e12d7=_0x352604===_0x94f74e(0xa8b)||_0x352604==='anonymous_reveal_end',_0x123827=_0x3e3395[_0x94f74e(0x273)]===!![],_0x6ffc9f=_0x3e3395[_0x94f74e(0xd4c)]['questions'],_0x1d6830=_0x1e12d7&&_0x3e3395[_0x94f74e(0x83b)]!==undefined?_0x3e3395[_0x94f74e(0x83b)]:_0x4a8f96,_0x34cd1a=_0x17f233[_0x94f74e(0x926)](_0x54ee56=>{const _0x5a8a71=_0x94f74e,_0x19a592=(_0x54ee56[_0x5a8a71(0x7f4)]||[])[_0x5a8a71(0x107)](_0x595f88=>_0x595f88[_0x5a8a71(0x684)]<=_0x1d6830);let _0x35a4d0=0x0,_0x3d4197=0x0;_0x1e12d7?(_0x35a4d0=_0x19a592[_0x5a8a71(0x107)](_0x593555=>_0x593555[_0x5a8a71(0x5ce)])[_0x5a8a71(0x357)],_0x3d4197=_0x19a592[_0x5a8a71(0xb28)]((_0x5ecbc9,_0x57db38)=>_0x5ecbc9+(_0x57db38[_0x5a8a71(0x749)]||0x0),0x0)):(_0x35a4d0=_0x54ee56[_0x5a8a71(0xe35)]||0x0,_0x3d4197=_0x54ee56[_0x5a8a71(0x568)]||0x0);const _0x412dfa=[..._0x19a592][_0x5a8a71(0xa05)]((_0x30cdd4,_0x24ecc4)=>_0x30cdd4[_0x5a8a71(0x684)]-_0x24ecc4[_0x5a8a71(0x684)]);let _0x2a357e=0x0;return _0x412dfa[_0x5a8a71(0x242)](_0x316208=>{const _0x1811ed=_0x5a8a71,_0x244b01=_0x316208['powerupUsed']&&_0x316208[_0x1811ed(0x261)]!==_0x1811ed(0xa95)||_0x316208[_0x1811ed(0x46b)];_0x316208['isCorrect']?_0x244b01?_0x2a357e=0x0:_0x2a357e++:_0x2a357e=0x0;}),{..._0x54ee56,'realScore':_0x35a4d0,'totalPoints':_0x3d4197,'answers':_0x54ee56[_0x5a8a71(0x7f4)],'correctStreak':_0x2a357e};}),_0x503d70=Math[_0x94f74e(0x417)](..._0x34cd1a[_0x94f74e(0x926)](_0x2a5080=>_0x2a5080['totalPoints']),-Infinity),_0x504c2c=Math[_0x94f74e(0x417)](..._0x34cd1a[_0x94f74e(0x926)](_0x22e11a=>_0x22e11a['realScore']),-Infinity),_0x256200=_0x3e3395[_0x94f74e(0x86a)]===!![],_0x4d3f16=[..._0x34cd1a]['sort']((_0x407399,_0x295f41)=>{const _0x135731=_0x94f74e;if(_0x256200){if(_0x295f41[_0x135731(0x568)]!==_0x407399[_0x135731(0x568)])return _0x295f41[_0x135731(0x568)]-_0x407399['totalPoints'];if(_0x295f41[_0x135731(0xcd3)]!==_0x407399[_0x135731(0xcd3)])return _0x295f41[_0x135731(0xcd3)]-_0x407399[_0x135731(0xcd3)];}else{if(_0x295f41[_0x135731(0x568)]!==_0x407399['totalPoints'])return _0x295f41[_0x135731(0x568)]-_0x407399[_0x135731(0x568)];if(_0x295f41['realScore']!==_0x407399[_0x135731(0xcd3)])return _0x295f41[_0x135731(0xcd3)]-_0x407399['realScore'];}return(_0x407399[_0x135731(0x41d)]||'')[_0x135731(0xb9d)](_0x295f41[_0x135731(0x41d)]||'','th');});let _0x54baae=null;const _0x3c4cdd=_0x34cd1a['filter'](_0x108eeb=>localTeamPlayers[_0x94f74e(0x8bb)](_0x108eeb[_0x94f74e(0x41d)]));_0x54baae=_0x3c4cdd['length']>0x0?_0x3c4cdd[_0x94f74e(0xa05)]((_0x173c34,_0x3e11bd)=>_0x3e11bd['totalPoints']-_0x173c34[_0x94f74e(0x568)])[0x0]:null;if(!_0x54baae){liveGameView[_0x94f74e(0xc8c)]=_0x94f74e(0x322);return;}const _0x300f64=_0x256200?_0x54baae[_0x94f74e(0x568)]:_0x54baae[_0x94f74e(0x568)],_0x4fd8b9=_0x1d6830+0x1,_0x1e8f4c=_0x4d3f16[_0x94f74e(0x926)]((_0x37f27e,_0x33da21)=>{const _0x101cd1=_0x94f74e,_0x58cf53=_0x37f27e[_0x101cd1(0xcd3)],_0x4224f6=_0x37f27e['totalPoints'],_0x190812=(_0x37f27e[_0x101cd1(0x7f4)]||[])[_0x101cd1(0xe69)](_0xfb596b=>_0xfb596b[_0x101cd1(0x684)]===_0x1d6830);let _0x432985='';if(_0x190812){if(_0x190812[_0x101cd1(0x4bd)])_0x432985+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>';if(_0x190812[_0x101cd1(0xa1a)])_0x432985+=_0x101cd1(0x76b);if(_0x190812[_0x101cd1(0x46b)])_0x432985+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0xeca2d5=_0x190812['powerupUsed'];if(_0xeca2d5){const _0x1be80e={'poll':'📊','cutOne':'✂️','insurance':_0x101cd1(0x212),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x101cd1(0x289)};if(_0x1be80e[_0xeca2d5])_0x432985+=_0x101cd1(0xb09)+_0x1be80e[_0xeca2d5]+'</span>';}}let _0x128423='';if(_0x4fd8b9>0x0){if(_0x256200){if(_0x4224f6===_0x503d70&&_0x503d70>0x0)_0x128423+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x58cf53===_0x504c2c&&_0x504c2c>0x0)_0x128423+=_0x101cd1(0xd2d);}else{const _0xbb099b=_0x37f27e['realScore']===_0x4fd8b9&&_0x4fd8b9>0x0;if(_0xbb099b)_0x128423=_0x101cd1(0x3e6);}if(_0x128423===''&&_0x4224f6<0x0)_0x128423=_0x101cd1(0x9c9);}let _0x1ac75d='';const _0x2faa5a=_0x190812&&_0x190812[_0x101cd1(0x46b)],_0x430d01=_0x190812&&_0x190812[_0x101cd1(0x261)]&&_0x190812[_0x101cd1(0x261)]!==_0x101cd1(0xa95);if(!_0x2faa5a&&!_0x430d01){const _0x2b3a1b=_0x37f27e[_0x101cd1(0x48c)]||0x0;_0x2b3a1b>=0x3&&(_0x1ac75d=_0x101cd1(0x768)+_0x2b3a1b+_0x101cd1(0xb46));}let _0x530c02=_0x101cd1(0xd99),_0x34aae3=![];if(_0x190812){const _0x4e397f=_0x190812['isCorrect'],_0x525130=_0x190812[_0x101cd1(0x9fa)]===!![]||_0x190812[_0x101cd1(0x9fa)]===_0x101cd1(0xc6c),_0x37d1fc=_0x190812['powerupUsed'];if(_0x37d1fc==='wagerMultiplier')_0x4e397f?(_0x530c02=_0x101cd1(0x4d9),_0x34aae3=!![]):_0x530c02=_0x101cd1(0xcc0);else{if(_0x525130)_0x530c02=_0x4e397f?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x101cd1(0x637);else _0x4e397f&&(_0x530c02=_0x101cd1(0x97c));}}let _0x344d8e='';const _0x461c43=_0x37f27e['name'],_0xa9903d=_0x3e3395[_0x101cd1(0x5a2)][_0x37f27e[_0x101cd1(0x41d)]]||'???',_0x514db8=_0x101cd1(0x590),_0x378a02=_0x101cd1(0x4b6),_0x47f45c=localTeamPlayers[_0x101cd1(0x8bb)](_0x461c43),_0x58f384=_0x34aae3?_0x101cd1(0x6db):'text-gray-300',_0x196208=_0x256200?_0x37f27e[_0x101cd1(0x568)]:_0x37f27e[_0x101cd1(0x568)],_0xc6b642=_0x123827||_0x47f45c||_0x300f64>_0x196208;_0xc6b642?_0x344d8e='<div\x20style=\x22'+_0x514db8+'\x22\x20title=\x22'+_0x461c43+'\x20('+_0xa9903d+')\x22><span\x20style=\x22'+_0x378a02+'\x22>'+_0x461c43+_0x101cd1(0xaf5)+_0x432985+'\x20'+_0x128423+'\x20'+_0x1ac75d+_0x101cd1(0x69e)+_0x58f384+_0x101cd1(0x400)+_0x378a02+'\x22>('+_0xa9903d+_0x101cd1(0x90a):_0x344d8e='<div\x20style=\x22'+_0x514db8+_0x101cd1(0xe6a)+_0xa9903d+_0x101cd1(0x6b2)+_0x378a02+'\x22>'+_0xa9903d+'</span>\x20'+_0x432985+'\x20'+_0x128423+'\x20'+_0x1ac75d+_0x101cd1(0x842);_0x47f45c&&(_0x344d8e=_0x101cd1(0x1f5)+_0x344d8e+_0x101cd1(0x8eb));const _0x337bbc=_0x4224f6>=0x0?'(+'+_0x4224f6[_0x101cd1(0x286)]()+')':'('+_0x4224f6[_0x101cd1(0x286)]()+')',_0x4d776f='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x58cf53+_0x101cd1(0x786)+_0x337bbc+_0x101cd1(0xb46);return _0x101cd1(0xc01)+_0x530c02+_0x101cd1(0x311)+(_0x33da21+0x1)+_0x101cd1(0x3c1)+_0x344d8e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d776f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x94f74e(0xd7b)]('');let _0x25d1da='';const _0x97ee73=_0x1e12d7?_0x1d6830>=_0x6ffc9f[_0x94f74e(0x357)]-0x1:_0x3e3395[_0x94f74e(0x345)]>=_0x6ffc9f[_0x94f74e(0x357)]-0x1;if(_0x3e3395[_0x94f74e(0x7f7)]===_0x94f74e(0x806))_0x25d1da='';else _0x97ee73?_0x25d1da=_0x94f74e(0xd34):_0x25d1da='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4dd583=_0x94f74e(0x196)+_0x1e8f4c+_0x94f74e(0x99c)+_0x25d1da+_0x94f74e(0x54a);liveGameView[_0x94f74e(0xc8c)]=_0x4dd583;}function renderStudentCompetitionResultsView(_0x9c6b19,_0x2df074){const _0x47268c=_0x1b93ee,_0x2fee19=Object['values'](_0x9c6b19[_0x47268c(0x18f)]||{}),_0x43727f=_0x2df074,_0x126043=_0x9c6b19[_0x47268c(0xd30)]||_0x47268c(0x2cf),_0x121356=_0x9c6b19[_0x47268c(0xd4c)][_0x47268c(0x4e6)],_0x3cbe4f=_0x2fee19['map'](_0x38dbd1=>{const _0x522e0f=_0x47268c,_0x11f25f=_0x38dbd1[_0x522e0f(0xe35)]||0x0,_0x22bc26=_0x38dbd1[_0x522e0f(0x568)]||0x0,_0x286c92=(_0x38dbd1['answers']||[])[_0x522e0f(0x107)](_0x2e0e58=>_0x126043==='reveal_at_end'?_0x2e0e58['questionIndex']<=_0x43727f:!![]);return{..._0x38dbd1,'realScore':_0x11f25f,'totalPoints':_0x22bc26,'answers':_0x286c92};}),_0x2734f0=_0x9c6b19[_0x47268c(0x86a)]===!![],_0x2327c9=[..._0x3cbe4f]['sort']((_0x935abc,_0x23782c)=>{const _0x1cd78f=_0x47268c;if(_0x2734f0){const _0x4d9f29=_0x23782c[_0x1cd78f(0xcd3)]-_0x935abc[_0x1cd78f(0xcd3)];if(_0x4d9f29!==0x0)return _0x4d9f29;const _0x1199e3=_0x23782c[_0x1cd78f(0x568)]-_0x935abc[_0x1cd78f(0x568)];if(_0x1199e3!==0x0)return _0x1199e3;return(_0x935abc[_0x1cd78f(0x41d)]||'')[_0x1cd78f(0xb9d)](_0x23782c[_0x1cd78f(0x41d)]||'','th');}else{const _0x2d2e0a=_0x23782c[_0x1cd78f(0x568)]-_0x935abc[_0x1cd78f(0x568)];if(_0x2d2e0a!==0x0)return _0x2d2e0a;const _0x4266d1=_0x23782c[_0x1cd78f(0xcd3)]-_0x935abc[_0x1cd78f(0xcd3)];if(_0x4266d1!==0x0)return _0x4266d1;return(_0x935abc[_0x1cd78f(0x41d)]||'')[_0x1cd78f(0xb9d)](_0x23782c[_0x1cd78f(0x41d)]||'','th');}}),_0x55eac9=_0x2327c9['map']((_0x4b6ee9,_0x3bd64f)=>{const _0x12ac19=_0x47268c,_0x24b506='';let _0x33cd19=_0x12ac19(0xd99);const _0x219457=_0x4b6ee9[_0x12ac19(0x41d)],_0x767c34=_0x12ac19(0x590),_0x54a579='word-break:\x20break-all;',_0x4c8e74='<div\x20style=\x22'+_0x767c34+_0x12ac19(0xe6a)+_0x219457+'\x22><span\x20style=\x22'+_0x54a579+'\x22>'+_0x219457+'</span>'+_0x24b506+_0x12ac19(0x842),_0x9a9f7e='';return _0x12ac19(0xc01)+_0x33cd19+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x3bd64f+0x1)+_0x12ac19(0x3c1)+_0x4c8e74+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9a9f7e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x47268c(0xd7b)]('');let _0x5b6210='';const _0x464154=_0x126043===_0x47268c(0xa8b)?_0x9c6b19[_0x47268c(0x83b)]>=_0x121356[_0x47268c(0x357)]-0x1:_0x9c6b19[_0x47268c(0x345)]>=_0x121356[_0x47268c(0x357)]-0x1;_0x464154?_0x5b6210=_0x47268c(0xd34):_0x5b6210=_0x47268c(0x101);const _0x3f906e=_0x47268c(0x5bd)+_0x55eac9+_0x47268c(0x17b)+_0x5b6210+_0x47268c(0x54a);liveGameView['innerHTML']=_0x3f906e;}function renderStudentSyncQuestionView(_0x1d1e98){const _0x41a34f=_0x1b93ee;while(localPlayerTurnIndex<localTeamPlayers[_0x41a34f(0x357)]&&_0x1d1e98[_0x41a34f(0x18f)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x2aa26d=localTeamPlayers[localPlayerTurnIndex];if(!_0x2aa26d)return;const _0x37f937=_0x1d1e98[_0x41a34f(0x18f)][_0x2aa26d],_0x37b9a7=_0x1d1e98[_0x41a34f(0x345)],_0x4a3b1c=_0x1d1e98[_0x41a34f(0xd4c)][_0x41a34f(0x4e6)][_0x41a34f(0x357)],_0x2f37fa=_0x1d1e98[_0x41a34f(0xd4c)]['questions'][_0x37b9a7],_0x56653a=_0x2f37fa['questionType']||_0x1d1e98[_0x41a34f(0xd4c)][_0x41a34f(0xcd7)];let _0x1e7d2f='',_0x36a18a=![];const _0x92ced2='powerupUsed_q'+_0x37b9a7+'_p'+_0x2aa26d,_0x5844f7=sessionStorage[_0x41a34f(0x19b)](_0x92ced2),_0x439460=_0x5844f7===_0x41a34f(0x3cf),_0x5d95dd=_0x41a34f(0xb35)+_0x37b9a7+'_p'+_0x2aa26d,_0xc9b8ba=JSON['parse'](sessionStorage[_0x41a34f(0x19b)](_0x5d95dd)||'[]')[_0x41a34f(0x926)](String);if((_0x56653a===_0x41a34f(0xbc0)||_0x56653a===_0x41a34f(0x236))&&_0x439460&&_0x2f37fa[_0x41a34f(0x2da)]&&_0x2f37fa[_0x41a34f(0x2da)][_0x41a34f(0x357)]>0x0)_0x1e7d2f=_0x2f37fa['options']['map']((_0x1da2d4,_0x5d927e)=>{const _0x22393d=_0x41a34f;if(_0xc9b8ba[_0x22393d(0x8bb)](String(_0x5d927e)))return'';return _0x22393d(0x167)+_0x1da2d4+_0x22393d(0x613)+_0x5d927e+_0x22393d(0x822)+_0x1da2d4+'</button>';})[_0x41a34f(0xd7b)]('');else{if(_0x56653a===_0x41a34f(0xbc0)||_0x56653a==='fill_in_no_choices')_0x36a18a=!![],_0x1e7d2f=_0x41a34f(0x599);else switch(_0x56653a){case'true_false':const _0x502f96=_0xc9b8ba[_0x41a34f(0x8bb)]('0')?'':_0x41a34f(0xc6a),_0x5b5281=_0xc9b8ba['includes']('1')?'':_0x41a34f(0x722);_0x1e7d2f=_0x502f96+_0x5b5281;break;case _0x41a34f(0x1bc):_0x36a18a=!![],_0x1e7d2f=_0x41a34f(0xd43)+(_0x2f37fa[_0x41a34f(0xd3d)]||[])['map'](_0x305524=>_0x41a34f(0x1fe)+_0x305524+'\x22>'+_0x305524+_0x41a34f(0x280))[_0x41a34f(0xd7b)]('')+_0x41a34f(0x303);break;case _0x41a34f(0x6c4):default:_0x1e7d2f=(_0x2f37fa['options']||[])[_0x41a34f(0x926)]((_0x2c3d1d,_0x4ce3b1)=>{const _0x179b07=_0x41a34f;if(_0xc9b8ba[_0x179b07(0x8bb)](String(_0x4ce3b1)))return'';return'<button\x20data-value=\x22'+_0x4ce3b1+'\x22\x20data-index=\x22'+_0x4ce3b1+_0x179b07(0x44a)+_0x2c3d1d+'</button>';})[_0x41a34f(0xd7b)]('');break;}}let _0xc7d7a3='';_0x1d1e98[_0x41a34f(0x2d9)]===_0x41a34f(0xd0b)&&(_0xc7d7a3=_0x41a34f(0x7c2)+_0x1d1e98[_0x41a34f(0x8d0)]+_0x41a34f(0xb21));let _0x54d38c='';const _0x5107ed=_0x1d1e98[_0x41a34f(0xd30)]||_0x41a34f(0x2cf),_0x599246=[_0x41a34f(0xa8b),_0x41a34f(0x671),_0x41a34f(0x1f7)][_0x41a34f(0x8bb)](_0x5107ed);if(_0x1d1e98[_0x41a34f(0x86a)]===!![]){if(_0x599246)!_0x5844f7&&(_0x54d38c=_0x41a34f(0xc3f));else{const _0x2c281a=_0x37f937[_0x41a34f(0x568)]||0x0,_0x28872f=_0x37f937[_0x41a34f(0x140)]||{},_0x3bfe2e=[_0x28872f[_0x41a34f(0x6d2)]>0x0?'<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20('+_0x28872f['buyTime']+_0x41a34f(0x14d):'',_0x28872f['revealOptions']>0x0?_0x41a34f(0x117)+_0x28872f['revealOptions']+_0x41a34f(0x14d):'',_0x28872f[_0x41a34f(0x565)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x28872f[_0x41a34f(0x565)]+')</button>':'',_0x28872f[_0x41a34f(0x3d8)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x28872f['insurance']+')</button>':'',_0x28872f['fiftyFifty']>0x0?_0x41a34f(0x869)+_0x28872f['fiftyFifty']+_0x41a34f(0x14d):'',_0x28872f['secondChance']>0x0?_0x41a34f(0x12e)+_0x28872f['secondChance']+_0x41a34f(0x14d):'']['filter'](Boolean)[_0x41a34f(0xd7b)]('\x20'),_0x3bc5c2='freeMarketEntryUsed_q'+_0x37b9a7+'_p'+_0x2aa26d,_0x493864=sessionStorage[_0x41a34f(0x19b)](_0x3bc5c2)===_0x41a34f(0xe0d),_0x177284=_0x2c281a>0x0&&(!_0x493864||_0x2c281a>=0x1),_0x2b7ee4=_0x2c281a===0x0?_0x41a34f(0x75d):_0x493864?_0x41a34f(0x891):_0x41a34f(0x9b6)+_0x2c281a+_0x41a34f(0x665),_0x22be59=_0x177284?_0x41a34f(0x223):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70',_0x299348=_0x177284?'':_0x41a34f(0xe12);let _0x211733=_0x41a34f(0x27f)+_0x22be59+_0x41a34f(0x951)+_0x299348+_0x41a34f(0x95c)+_0x2b7ee4+_0x41a34f(0x4f3);if(!_0x5844f7){const _0x5e5879=_0x2c281a>0x0,_0x24d3bf=_0x5e5879?_0x41a34f(0x2ab):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x2e9835=_0x5e5879?_0x41a34f(0xcd4):_0x41a34f(0x323),_0x5e89ad=_0x5e5879?'':_0x41a34f(0xe12);_0x211733+=_0x41a34f(0x2a6)+_0x24d3bf+_0x41a34f(0xe15)+_0x5e89ad+_0x41a34f(0x809)+_0x2e9835+'\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20'+_0x5e89ad+_0x41a34f(0xde3);}_0x54d38c='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x211733+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x3bfe2e||'')+'</div></div>';}}let _0x1d6d5a='';_0x37f937[_0x41a34f(0xe43)]&&(_0x1d6d5a+=_0x41a34f(0x233));_0x37f937[_0x41a34f(0xe03)]&&(_0x1d6d5a+=_0x41a34f(0x34b));(_0x37f937['timeBonusThisQuestion']||0x0)>0x0&&(_0x1d6d5a+=_0x41a34f(0x1d5));if(_0x5844f7){if(_0x5844f7==='wagerMultiplier'){const _0x4f6ca1=_0x599246?_0x41a34f(0x527):_0x41a34f(0x197);_0x1d6d5a+=_0x41a34f(0x36a)+_0x4f6ca1+_0x41a34f(0x312);}else{if(_0x5844f7===_0x41a34f(0x565))_0x1d6d5a+=_0x41a34f(0xce2);else{if(_0x5844f7===_0x41a34f(0x57a))_0x1d6d5a+=_0x41a34f(0x66e);else{if(_0x5844f7==='secondChance')_0x1d6d5a+=_0x41a34f(0x9b0);else{if(_0x5844f7===_0x41a34f(0x3cf))_0x1d6d5a+=_0x41a34f(0x9d9);else _0x5844f7==='insurance'?_0x1d6d5a+=_0x41a34f(0x779):_0x1d6d5a+=_0x41a34f(0xb40)+_0x5844f7+'\x20ทำงานอยู่!</div>';}}}}}let _0x569a81='';if(!_0x599246){const _0x2fcb9e=_0x37f937[_0x41a34f(0x48c)]||0x0;if(_0x2fcb9e>=0x3)_0x569a81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20'+_0x2fcb9e+'\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x2fcb9e>0x0&&(_0x569a81=_0x41a34f(0x5a3)+_0x2fcb9e+_0x41a34f(0xe68));}liveGameView[_0x41a34f(0xc8c)]=_0x41a34f(0x294)+(_0x37b9a7+0x1)+_0x41a34f(0x2c5)+_0x4a3b1c+_0x41a34f(0x710)+_0x2aa26d+_0x41a34f(0x766)+_0x569a81+'\x20'+_0xc7d7a3+'\x20'+_0x54d38c+_0x41a34f(0xdf5)+_0x1d6d5a+_0x41a34f(0x478)+(_0x2f37fa['questionText']||_0x2f37fa[_0x41a34f(0x87a)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x1e7d2f+_0x41a34f(0x388);if(window['MathJax'])MathJax[_0x41a34f(0x840)]();function _0xa2f2ae(_0x8f96eb,_0x2f63a8,_0xa6450,_0x56205d){const _0x30865d=_0x41a34f,_0x56a0d4=_0xa6450[_0x30865d(0x341)]===!![],_0x339672=_0xa6450['currentQuestionIndex'],_0x2ae052='powerupUsed_q'+_0x339672+'_p'+_0x56205d,_0xb5c96e=sessionStorage[_0x30865d(0x19b)](_0x2ae052),_0x4a2adc=_0xb5c96e===_0x30865d(0xa95),_0x5d0c31=_0xa6450['players'][_0x56205d];if(_0x4a2adc){const _0x459eee=sessionStorage['getItem'](_0x30865d(0x274))===_0x30865d(0xe0d);if(_0x599246||_0x459eee){const _0x1fee4c=_0x5d0c31[_0x30865d(0x568)]||0x0;sessionStorage[_0x30865d(0xe44)](_0x30865d(0x274)),handleSyncAnswerSubmit(_0x8f96eb,_0x2f63a8,_0xa6450,_0x56205d,![],_0x1fee4c);}else{const _0x3a2b27=document[_0x30865d(0x693)](_0x30865d(0x234)),_0xe526ac=document[_0x30865d(0x693)](_0x30865d(0x3e8)),_0x2e8358=document[_0x30865d(0x693)](_0x30865d(0x87e)),_0x3d94bc=document[_0x30865d(0x693)]('wager-max-points'),_0x1c676c=_0x5d0c31[_0x30865d(0x568)]||0x0;_0xe526ac[_0x30865d(0x417)]=_0x1c676c,_0xe526ac[_0x30865d(0xc5c)]=_0x1c676c,_0x2e8358[_0x30865d(0xc08)]=_0x1c676c,_0x3d94bc['textContent']=_0x1c676c,_0xe526ac[_0x30865d(0x4e0)]=()=>{const _0x259e43=_0x30865d;_0x2e8358['textContent']=_0xe526ac[_0x259e43(0xc5c)];};const _0x10d91f=document[_0x30865d(0x693)]('selected-answer-index-hidden-wager');_0x10d91f[_0x30865d(0x43d)]['answerValue']=_0x8f96eb,_0x10d91f[_0x30865d(0x43d)][_0x30865d(0x776)]=JSON[_0x30865d(0x1f9)](_0x2f63a8),_0x10d91f[_0x30865d(0x43d)][_0x30865d(0x2c7)]=JSON[_0x30865d(0x1f9)](_0xa6450),_0x10d91f[_0x30865d(0x43d)][_0x30865d(0xa88)]=_0x56205d,_0x3a2b27[_0x30865d(0x43c)][_0x30865d(0x200)](_0x30865d(0xa21));}}else{if(_0x56a0d4){document[_0x30865d(0x693)]('confidence-modal')[_0x30865d(0x43d)]['currentMode']=_0x30865d(0x64a);const _0x27bd19=document[_0x30865d(0x693)](_0x30865d(0x227));_0x27bd19[_0x30865d(0x43d)][_0x30865d(0xd63)]=_0x8f96eb,_0x27bd19[_0x30865d(0x43d)]['question']=JSON[_0x30865d(0x1f9)](_0x2f63a8),_0x27bd19['dataset']['gameData']=JSON[_0x30865d(0x1f9)](_0xa6450),_0x27bd19[_0x30865d(0x43d)][_0x30865d(0xa88)]=_0x56205d,document[_0x30865d(0x693)](_0x30865d(0x5d5))['classList'][_0x30865d(0x200)](_0x30865d(0xa21));}else handleSyncAnswerSubmit(_0x8f96eb,_0x2f63a8,_0xa6450,_0x56205d,![],0x0);}}_0x36a18a?document['getElementById'](_0x41a34f(0x797))[_0x41a34f(0x5e0)](_0x41a34f(0x2df),()=>{const _0x4bc247=_0x41a34f,_0x5aa140=document[_0x4bc247(0x693)](_0x4bc247(0x4ca))||document[_0x4bc247(0x693)](_0x4bc247(0x333));if(_0x5aa140['value'][_0x4bc247(0xb6d)]()===''){showMessage(_0x4bc247(0xe16));return;}_0xa2f2ae(_0x5aa140['value'],_0x2f37fa,_0x1d1e98,_0x2aa26d);}):document['querySelectorAll'](_0x41a34f(0x8d5))[_0x41a34f(0x242)](_0x5de3e2=>{const _0x46870d=_0x41a34f;_0x5de3e2['addEventListener'](_0x46870d(0x2df),()=>{const _0x4f2882=_0x46870d;_0xa2f2ae(_0x5de3e2[_0x4f2882(0x43d)][_0x4f2882(0xc5c)],_0x2f37fa,_0x1d1e98,_0x2aa26d);});});if(_0x1d1e98[_0x41a34f(0x86a)]===!![]){if(!_0x599246){const _0x377dc5=document['getElementById'](_0x41a34f(0x5a4));_0x377dc5&&_0x377dc5['addEventListener'](_0x41a34f(0x2df),()=>{const _0xb1d329=_0x41a34f,_0x16f805=_0xb1d329(0x4a5)+_0x37b9a7+'_p'+_0x2aa26d,_0x48f81e=sessionStorage[_0xb1d329(0x19b)](_0x16f805)===_0xb1d329(0xe0d);if(!_0x48f81e)openBlackMarket(_0x1d1e98,_0x37f937),sessionStorage[_0xb1d329(0xce7)](_0x16f805,_0xb1d329(0xe0d)),renderStudentSyncQuestionView(_0x1d1e98);else{if(_0x37f937['totalPoints']<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)');return;}showConfirmation(_0xb1d329(0x508),()=>{handlePayForMarketEntry(_0x2aa26d,_0x1d1e98,_0x37f937);});}}),document['getElementById']('use-powerup-buyTime')?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x289b09=>{const _0xf6f5c4=_0x41a34f;_0x289b09[_0xf6f5c4(0x588)][_0xf6f5c4(0xe12)]=!![],handleUsePowerup(_0x2aa26d,_0xf6f5c4(0x6d2),_0x2f37fa,_0x1d1e98,_0x37f937);}),document[_0x41a34f(0x693)](_0x41a34f(0x2c2))?.['addEventListener'](_0x41a34f(0x2df),_0x54e10d=>{const _0x2a3f50=_0x41a34f;_0x54e10d[_0x2a3f50(0x588)]['disabled']=!![],handleUsePowerup(_0x2aa26d,'cutOne',_0x2f37fa,_0x1d1e98,_0x37f937);}),document['getElementById']('use-powerup-insurance')?.[_0x41a34f(0x5e0)]('click',_0x48a356=>{const _0x35e3f7=_0x41a34f;_0x48a356['target']['disabled']=!![],handleUsePowerup(_0x2aa26d,_0x35e3f7(0x3d8),_0x2f37fa,_0x1d1e98,_0x37f937);}),document[_0x41a34f(0x693)](_0x41a34f(0x782))?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x1fdf18=>{const _0x2bbbc6=_0x41a34f;_0x1fdf18[_0x2bbbc6(0x588)][_0x2bbbc6(0xe12)]=!![],handleUsePowerup(_0x2aa26d,_0x2bbbc6(0x57a),_0x2f37fa,_0x1d1e98,_0x37f937);}),document[_0x41a34f(0x693)](_0x41a34f(0x885))?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x2b322d=>{const _0x8fca1f=_0x41a34f;_0x2b322d[_0x8fca1f(0x588)][_0x8fca1f(0xe12)]=!![],handleUsePowerup(_0x2aa26d,_0x8fca1f(0x267),_0x2f37fa,_0x1d1e98,_0x37f937);}),document[_0x41a34f(0x693)](_0x41a34f(0x8c3))?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x491b6a=>{const _0x24ba6a=_0x41a34f;_0x491b6a[_0x24ba6a(0x588)][_0x24ba6a(0xe12)]=!![],handleUsePowerup(_0x2aa26d,_0x24ba6a(0x3cf),_0x2f37fa,_0x1d1e98,_0x37f937);}),document[_0x41a34f(0x693)](_0x41a34f(0x512))?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x29da67=>{const _0x35e609=_0x41a34f;_0x29da67['target'][_0x35e609(0xe12)]=!![],sessionStorage[_0x35e609(0xce7)](_0x35e609(0x274),_0x35e609(0xdee)),handleUsePowerup(_0x2aa26d,_0x35e609(0xa95),_0x2f37fa,_0x1d1e98,_0x37f937);});}document[_0x41a34f(0x693)](_0x41a34f(0x509))?.[_0x41a34f(0x5e0)](_0x41a34f(0x2df),_0x2d9f5a=>{const _0x2aac9f=_0x41a34f;_0x2d9f5a[_0x2aac9f(0x588)][_0x2aac9f(0xe12)]=!![],sessionStorage[_0x2aac9f(0xce7)]('instantWager','true'),handleUsePowerup(_0x2aa26d,_0x2aac9f(0xa95),_0x2f37fa,_0x1d1e98,_0x37f937);});}}async function handleSyncAnswerSubmit(_0x1fedff,_0x497aac,_0x511b54,_0x102b8c,_0x5c14ba,_0x330603=0x0){const _0x14ef49=_0x1b93ee;document[_0x14ef49(0xe56)](_0x14ef49(0x3df))[_0x14ef49(0x242)](_0x120986=>_0x120986[_0x14ef49(0xe12)]=!![]);const _0x23ca10=_0x511b54['currentQuestionIndex'],_0x1bf7b4='powerupUsed_q'+_0x23ca10+'_p'+_0x102b8c,_0x11d151=sessionStorage[_0x14ef49(0x19b)](_0x1bf7b4),_0x39f9a1=_0x511b54[_0x14ef49(0x18f)][_0x102b8c]||{},_0x35dd28=_0x39f9a1[_0x14ef49(0xe03)]===!![],_0x58b525=sessionStorage[_0x14ef49(0x19b)](_0x14ef49(0x496))===_0x14ef49(0xe0d);let _0x5c3863=_0x39f9a1[_0x14ef49(0x48c)]||0x0;_0x11d151&&_0x11d151!==_0x14ef49(0xa95)&&(_0x5c3863=0x0);const _0x7054b3=_0x5c3863>=0x3,_0x4b44ae=_0x497aac[_0x14ef49(0x994)]||_0x511b54[_0x14ef49(0xd4c)]['quizType'];let _0x1542a0=![],_0x197b31=_0x1fedff;switch(_0x4b44ae){case _0x14ef49(0xa76):const _0x1155a5=parseInt(_0x1fedff),_0x446e57=_0x497aac[_0x14ef49(0xbde)]===!![]||String(_0x497aac[_0x14ef49(0xbde)])['toLowerCase']()==='true';_0x1542a0=_0x1155a5===0x0&&_0x446e57||_0x1155a5===0x1&&!_0x446e57,_0x197b31=_0x1155a5===0x0?_0x14ef49(0x562):'ไม่ใช่\x20/\x20ผิด';break;case _0x14ef49(0xbc0):case'fill_in_no_choices':_0x1542a0=await gradeShortAnswer(_0x1fedff,_0x497aac);break;case _0x14ef49(0x1bc):_0x1542a0=_0x1fedff===_0x497aac['correctResponse'];break;case _0x14ef49(0x6c4):default:const _0x26b0bd=parseInt(_0x1fedff);_0x1542a0=_0x26b0bd===_0x497aac['correctAnswerIndex'];_0x497aac['options']&&_0x497aac[_0x14ef49(0x2da)][_0x26b0bd]&&(_0x197b31=_0x497aac['options'][_0x26b0bd]);break;}if(!_0x1542a0&&_0x11d151==='secondChance'&&!_0x58b525){sessionStorage[_0x14ef49(0xe44)](_0x1bf7b4),sessionStorage[_0x14ef49(0xce7)]('onSecondChance','true'),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document[_0x14ef49(0xe56)](_0x14ef49(0x3df))[_0x14ef49(0x242)](_0x4d6518=>{const _0x4eaa86=_0x14ef49;if(!_0x4d6518[_0x4eaa86(0x43c)][_0x4eaa86(0x539)](_0x4eaa86(0xa21)))_0x4d6518[_0x4eaa86(0xe12)]=![];});return;}let _0xc44205=0x0;const _0x58b482=_0x11d151==='wagerMultiplier',_0x434c8e=_0x11d151===_0x14ef49(0x3d8),_0x4c385d=sessionStorage[_0x14ef49(0x19b)](_0x14ef49(0xdb6))===_0x14ef49(0xe0d),_0x5c3573=_0x39f9a1[_0x14ef49(0xe43)]===!![];if(_0x58b482){const _0x1f0143=parseInt(_0x330603,0xa)||0x0;_0xc44205=_0x1542a0?_0x1f0143*0x2:-_0x1f0143;}else{if(_0x4c385d&&!_0x1542a0)_0xc44205=_0x5c14ba===!![]||_0x5c14ba===_0x14ef49(0xc6c)||_0x35dd28?-0x4:-0x2;else{if(_0x35dd28)_0xc44205=_0x1542a0?0x2:-0x1;else{if(_0x511b54[_0x14ef49(0x341)]){if(_0x1542a0&&(_0x5c14ba===!![]||_0x5c14ba==='confident'))_0xc44205=0x2;else{if(_0x1542a0)_0xc44205=0x1;else{if(!_0x1542a0&&(_0x5c14ba===![]||_0x5c14ba==='not_confident'||_0x5c14ba===null))_0xc44205=0x0;else{if(!_0x1542a0&&(_0x5c14ba===!![]||_0x5c14ba===_0x14ef49(0xc6c)))_0xc44205=-0x1;}}}}else _0xc44205=_0x1542a0?0x1:0x0;}}}_0x7054b3&&_0xc44205>0x0&&(_0xc44205*=0x2);if(_0x5c3573&&!_0x1542a0&&_0xc44205<0x0)_0xc44205*=0x2;if(!_0x1542a0&&_0x434c8e)_0xc44205=0x0;const _0x406643=(_0x39f9a1[_0x14ef49(0x9d2)]||0x0)>0x0,_0x4e18ef=_0x11d151&&_0x11d151!=='wagerMultiplier';let _0x5059f0=0x0;_0x1542a0&&(_0x5059f0=_0x4e18ef?0x0:_0x5c3863+0x1);const _0x50ada8={'questionIndex':_0x511b54[_0x14ef49(0x345)],'questionId':_0x497aac['id'],'answer':_0x1fedff,'answerText':_0x197b31,'isCorrect':_0x1542a0,'originalQuestionText':_0x497aac['questionText']||_0x497aac[_0x14ef49(0x87a)],'wasConfident':_0x35dd28?'confident':_0x5c14ba||![],'pointsAwarded':_0xc44205,'powerupUsed':_0x11d151||null,'wasJinxed':_0x5c3573||![],'wasForced':_0x35dd28||![],'usedPoll':_0x4c385d||![],'usedBuyTime':_0x406643,'streakActive':_0x7054b3},_0x44fb51=doc(db,_0x14ef49(0xe45)+appId+_0x14ef49(0x2be)+currentLiveGameId+_0x14ef49(0x224),_0x102b8c),_0x62eaab=_0x39f9a1['answers']||[],_0x2d12d2=_0x62eaab[_0x14ef49(0x107)](_0xc5bf66=>_0xc5bf66[_0x14ef49(0x684)]!==_0x511b54[_0x14ef49(0x345)]),_0x17fc79=[..._0x2d12d2,_0x50ada8],_0x328454=_0x17fc79[_0x14ef49(0x107)](_0x4c5809=>_0x4c5809[_0x14ef49(0x5ce)])[_0x14ef49(0x357)],_0x12a032={'answers':_0x17fc79,'score':_0x328454,'totalPoints':increment(_0xc44205),'answered':!![],'lastAnswerIndex':_0x4b44ae==='multiple_choice'||_0x4b44ae===_0x14ef49(0xa76)?parseInt(_0x1fedff):null,'lastAnswerValue':_0x197b31,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x5059f0};if(_0x58b525)sessionStorage[_0x14ef49(0xe44)](_0x14ef49(0x496));try{await updateDoc(_0x44fb51,_0x12a032);}catch(_0x444582){console['error'](_0x14ef49(0xd2e),_0x444582),showMessage(_0x14ef49(0x349)),document[_0x14ef49(0xe56)](_0x14ef49(0x3df))[_0x14ef49(0x242)](_0x3a49dc=>_0x3a49dc[_0x14ef49(0xe12)]=![]);}}const allMarketItems=[{'id':_0x1b93ee(0x6d2),'name':_0x1b93ee(0x2a9),'price':0x1,'desc':_0x1b93ee(0xdbc)},{'id':_0x1b93ee(0x565),'name':_0x1b93ee(0xb84),'price':0x2,'desc':_0x1b93ee(0x761)},{'id':_0x1b93ee(0x57a),'name':_0x1b93ee(0x6d6),'price':0x5,'desc':_0x1b93ee(0x6fb)},{'id':'secondChance','name':_0x1b93ee(0x77c),'price':0x7,'desc':'ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง'},{'id':_0x1b93ee(0x3cf),'name':'👁️\x20เผยตัวเลือก','price':0xc,'desc':_0x1b93ee(0xe7c)}];function openBlackMarket(_0x57f821,_0x4097d3){const _0x523d18=_0x1b93ee;let _0x181a45=null;const _0x1e9932=document[_0x523d18(0x693)](_0x523d18(0x217)),_0x21815b=document[_0x523d18(0x693)](_0x523d18(0xe19)),_0x504997=document[_0x523d18(0x693)](_0x523d18(0xe47)),_0x45aab2=document['getElementById'](_0x523d18(0x5bc)),_0x3752a9=_0x4097d3[_0x523d18(0x568)]||0x0;_0x504997['textContent']=_0x3752a9;const _0x24310b=_0x57f821[_0x523d18(0x345)],_0xf47502=_0x57f821[_0x523d18(0xd4c)][_0x523d18(0x4e6)][_0x24310b],_0x235f0f=_0xf47502[_0x523d18(0x994)]||_0x57f821['shuffledQuiz'][_0x523d18(0xcd7)],_0x337e4b=_0x57f821['timerMode']==='per_question',_0x686d07=allMarketItems;_0x21815b['innerHTML']=_0x686d07[_0x523d18(0x926)](_0x1c1079=>{const _0x405ac1=_0x523d18,_0x4c1f74=_0x3752a9>=_0x1c1079[_0x405ac1(0xb06)];if(_0x1c1079['id']===_0x405ac1(0x6d2)){const _0x3a42c3=_0x4c1f74?Math[_0x405ac1(0x567)](_0x3752a9/_0x1c1079[_0x405ac1(0xb06)]):0x0,_0xb279a5=_0x4c1f74&&_0x337e4b;let _0x352c94=_0x405ac1(0xde4)+_0x1c1079[_0x405ac1(0xb06)]+_0x405ac1(0xb03),_0x255e68=_0xb279a5?'bg-indigo-600\x20hover:bg-indigo-700':_0x405ac1(0xbf8);return!_0x337e4b&&(_0x352c94=_0x405ac1(0x82b),_0x255e68=_0x405ac1(0x11f)),_0x405ac1(0xde2)+(!_0xb279a5?_0x405ac1(0xa92):_0x405ac1(0xa0d))+_0x405ac1(0x7bf)+_0x1c1079[_0x405ac1(0x41d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x1c1079['desc']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x3a42c3+'\x22\x20'+(!_0xb279a5?_0x405ac1(0xe12):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+_0x255e68+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x1c1079['id']+_0x405ac1(0xd3c)+_0x1c1079[_0x405ac1(0xb06)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xb279a5?_0x405ac1(0xe12):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x352c94+_0x405ac1(0xbfb);}else{let _0x107c61=!_0x4c1f74,_0x2e0c3d=_0x4c1f74?_0x405ac1(0x970):'bg-gray-400',_0x1fd29=_0x405ac1(0xde4)+_0x1c1079['price']+'P)';if(_0x1c1079['id']===_0x405ac1(0x3cf)){const _0x479fbc=_0xf47502[_0x405ac1(0x2da)]&&_0xf47502[_0x405ac1(0x2da)][_0x405ac1(0x357)]>0x0,_0xaa3745=_0x235f0f==='short_answer'||_0x235f0f===_0x405ac1(0x236);(!_0x479fbc||!_0xaa3745)&&(_0x107c61=!![],_0x2e0c3d='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x1fd29='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้');}if(_0x1c1079['id']==='cutOne'||_0x1c1079['id']==='fiftyFifty'){const _0x5453e2=_0x235f0f===_0x405ac1(0xbc0)||_0x235f0f==='fill_in_no_choices',_0x32c5fa=_0xf47502[_0x405ac1(0x2da)]&&_0xf47502[_0x405ac1(0x2da)][_0x405ac1(0x357)]>0x0;(_0x5453e2||!_0x32c5fa)&&(_0x107c61=!![],_0x2e0c3d='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x1fd29=_0x405ac1(0x944));}return _0x405ac1(0xde2)+(_0x107c61?_0x405ac1(0xa92):'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x1c1079['name']+_0x405ac1(0x910)+_0x1c1079[_0x405ac1(0xb3f)]+_0x405ac1(0x993)+_0x2e0c3d+_0x405ac1(0x22a)+_0x1c1079['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x1c1079[_0x405ac1(0xb06)]+_0x405ac1(0xa1b)+(_0x107c61?_0x405ac1(0xe12):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fd29+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})['join'](''),_0x1e9932['classList'][_0x523d18(0x200)](_0x523d18(0xa21)),_0x45aab2[_0x523d18(0x77b)]['transition']=_0x523d18(0x2c6),_0x45aab2[_0x523d18(0x77b)][_0x523d18(0x129)]=_0x523d18(0x628),setTimeout(()=>{const _0x2cde02=_0x523d18;_0x45aab2[_0x2cde02(0x77b)][_0x2cde02(0x6bb)]=_0x2cde02(0x762),_0x45aab2[_0x2cde02(0x77b)][_0x2cde02(0x129)]='0%';},0x32),_0x181a45=setTimeout(()=>{const _0x462b25=_0x523d18;_0x1e9932[_0x462b25(0x43c)][_0x462b25(0x128)](_0x462b25(0xa21));},0xea60),document[_0x523d18(0x693)](_0x523d18(0xe20))[_0x523d18(0x72e)]=()=>{const _0x113ceb=_0x523d18;clearTimeout(_0x181a45),_0x1e9932['classList'][_0x113ceb(0x128)](_0x113ceb(0xa21));},_0x21815b[_0x523d18(0xe56)](_0x523d18(0xa5a))[_0x523d18(0x242)](_0x3df9cb=>{const _0x18313b=_0x523d18;_0x3df9cb[_0x18313b(0x72e)]=_0x28403a=>{const _0x234b8b=_0x18313b,_0x31594e=_0x28403a[_0x234b8b(0x588)][_0x234b8b(0x43d)][_0x234b8b(0x20c)],_0x2cb02b=parseInt(_0x28403a[_0x234b8b(0x588)][_0x234b8b(0x43d)][_0x234b8b(0xb06)],0xa);clearTimeout(_0x181a45),_0x1e9932[_0x234b8b(0x43c)][_0x234b8b(0x128)](_0x234b8b(0xa21)),handleBuyItem(_0x4097d3['name'],_0x31594e,_0x2cb02b,0x1);};}),_0x21815b[_0x523d18(0xe56)]('.buy-time-confirm-btn')['forEach'](_0x21a414=>{const _0x32b27c=_0x523d18;_0x21a414[_0x32b27c(0x72e)]=_0x5abcd7=>{const _0x480b11=_0x32b27c,_0x3605c0=_0x5abcd7[_0x480b11(0x588)][_0x480b11(0x43d)][_0x480b11(0x20c)],_0x5609c5=parseInt(_0x5abcd7['target'][_0x480b11(0x43d)]['price'],0xa),_0x18715d=document[_0x480b11(0x693)](_0x480b11(0xbad)),_0x4bb9e7=parseInt(_0x18715d[_0x480b11(0xc5c)],0xa),_0x59bea0=parseInt(_0x18715d[_0x480b11(0x417)],0xa);if(!_0x4bb9e7||_0x4bb9e7<0x1){showMessage(_0x480b11(0xb45));return;}if(_0x4bb9e7>_0x59bea0){showMessage(_0x480b11(0x150)+_0x59bea0+_0x480b11(0x720));return;}clearTimeout(_0x181a45),_0x1e9932[_0x480b11(0x43c)][_0x480b11(0x128)]('hidden'),handleBuyItem(_0x4097d3[_0x480b11(0x41d)],_0x3605c0,_0x5609c5,_0x4bb9e7);};});}async function handleBuyItem(_0x55c6e4,_0xbebee0,_0x92eca6,_0x4e295f=0x1){const _0x2467db=_0x1b93ee,_0x50d967=doc(db,_0x2467db(0xe45)+appId+_0x2467db(0x2be)+currentLiveGameId+'/players',_0x55c6e4);try{await runTransaction(db,async _0x325e8a=>{const _0xb7b1fb=_0x2467db,_0x4a1010=await _0x325e8a['get'](_0x50d967);if(!_0x4a1010[_0xb7b1fb(0x5a9)]())throw _0xb7b1fb(0xe76);const _0x59aa0c=_0x4a1010['data']()[_0xb7b1fb(0x568)]||0x0,_0x412e0b=_0x92eca6*_0x4e295f;if(_0x59aa0c<_0x412e0b)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x57ba56={};_0x57ba56['totalPoints']=increment(-_0x412e0b),_0x57ba56[_0xb7b1fb(0x8e5)+_0xbebee0]=increment(_0x4e295f),_0x325e8a['update'](_0x50d967,_0x57ba56);}),showMessage(_0x2467db(0x235)+_0xbebee0+_0x2467db(0xe6f)+_0x4e295f+_0x2467db(0x643));}catch(_0x189c23){console[_0x2467db(0x75e)](_0x2467db(0x750),_0x189c23),showMessage(typeof _0x189c23===_0x2467db(0x6de)?_0x189c23:_0x2467db(0x6e0));}}async function handlePayForMarketEntry(_0x42fa9e,_0x58fe6a,_0x1a8d34){const _0x31a35f=_0x1b93ee,_0x17aef8=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x42fa9e);try{await runTransaction(db,async _0x4f6147=>{const _0x945246=_0x1173,_0x39bed4=await _0x4f6147[_0x945246(0x1b2)](_0x17aef8);if(!_0x39bed4[_0x945246(0x5a9)]())throw _0x945246(0xe76);const _0x24e460=_0x39bed4[_0x945246(0x7d4)]()[_0x945246(0x568)]||0x0;if(_0x24e460<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x328a5c={};_0x328a5c[_0x945246(0x568)]=increment(-0x1),_0x4f6147[_0x945246(0x973)](_0x17aef8,_0x328a5c);});const _0x80ce9={..._0x1a8d34,'totalPoints':(_0x1a8d34[_0x31a35f(0x568)]||0x0)-0x1};openBlackMarket(_0x58fe6a,_0x80ce9);}catch(_0x6b3892){console[_0x31a35f(0x75e)](_0x31a35f(0x25e),_0x6b3892),showMessage(typeof _0x6b3892===_0x31a35f(0x6de)?_0x6b3892:_0x31a35f(0x5dc));}}const audioCtx=new(window[(_0x1b93ee(0x757))]||window[(_0x1b93ee(0xc93))])();function playSystemSound(_0x59fd91){const _0x3db896=_0x1b93ee;if(audioCtx[_0x3db896(0x181)]==='suspended')audioCtx[_0x3db896(0x3fa)]();const _0x4c099c=audioCtx['createOscillator'](),_0x50c76a=audioCtx['createGain']();_0x4c099c[_0x3db896(0x882)](_0x50c76a),_0x50c76a[_0x3db896(0x882)](audioCtx['destination']);const _0x5621c5=audioCtx[_0x3db896(0x498)];if(_0x59fd91===_0x3db896(0xb04))_0x4c099c[_0x3db896(0xb75)]=_0x3db896(0x30d),_0x4c099c[_0x3db896(0x2a1)][_0x3db896(0x226)](0x258,_0x5621c5),_0x4c099c[_0x3db896(0x2a1)][_0x3db896(0xcce)](0x4b0,_0x5621c5+0.1),_0x50c76a[_0x3db896(0x254)][_0x3db896(0x226)](0.1,_0x5621c5),_0x50c76a[_0x3db896(0x254)][_0x3db896(0xcce)](0.01,_0x5621c5+0.5),_0x4c099c[_0x3db896(0x382)](_0x5621c5),_0x4c099c[_0x3db896(0x506)](_0x5621c5+0.5);else{if(_0x59fd91==='incorrect')_0x4c099c[_0x3db896(0xb75)]='sawtooth',_0x4c099c['frequency'][_0x3db896(0x226)](0x96,_0x5621c5),_0x4c099c['frequency']['exponentialRampToValueAtTime'](0x64,_0x5621c5+0.2),_0x50c76a[_0x3db896(0x254)][_0x3db896(0x226)](0.1,_0x5621c5),_0x50c76a[_0x3db896(0x254)][_0x3db896(0xcce)](0.01,_0x5621c5+0.3),_0x4c099c['start'](_0x5621c5),_0x4c099c[_0x3db896(0x506)](_0x5621c5+0.3);else _0x59fd91===_0x3db896(0x92e)&&(_0x4c099c[_0x3db896(0xb75)]='triangle',_0x4c099c[_0x3db896(0x2a1)][_0x3db896(0x226)](0x12c,_0x5621c5),_0x4c099c[_0x3db896(0x2a1)][_0x3db896(0x3e4)](0x258,_0x5621c5+0.1),_0x50c76a[_0x3db896(0x254)][_0x3db896(0x226)](0.1,_0x5621c5),_0x50c76a[_0x3db896(0x254)][_0x3db896(0x3e4)](0.01,_0x5621c5+0.3),_0x4c099c[_0x3db896(0x382)](_0x5621c5),_0x4c099c['stop'](_0x5621c5+0.3));}}initialize();
