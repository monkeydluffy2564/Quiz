const _0x3f08ea=_0x1cca;(function(_0x84e49c,_0x2119dd){const _0x298298=_0x1cca,_0x2824a2=_0x84e49c();while(!![]){try{const _0x3c1398=-parseInt(_0x298298(0x4de))/0x1+-parseInt(_0x298298(0x198))/0x2+parseInt(_0x298298(0x34b))/0x3+parseInt(_0x298298(0x852))/0x4+-parseInt(_0x298298(0x900))/0x5*(-parseInt(_0x298298(0x292))/0x6)+parseInt(_0x298298(0x41b))/0x7*(-parseInt(_0x298298(0x7d9))/0x8)+parseInt(_0x298298(0x692))/0x9*(parseInt(_0x298298(0x4ce))/0xa);if(_0x3c1398===_0x2119dd)break;else _0x2824a2['push'](_0x2824a2['shift']());}catch(_0x1db823){_0x2824a2['push'](_0x2824a2['shift']());}}}(_0x34b2,0xaae76));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x58378f=_0x1cca;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x58378f(0x3b3)][_0x58378f(0x3eb)](_0x58378f(0x7f0)),console[_0x58378f(0xa09)](_0x58378f(0x41e)),wakeLock[_0x58378f(0x908)](_0x58378f(0x7a4),()=>{const _0x1f5a04=_0x58378f;console[_0x1f5a04(0xa09)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x4b5b05){console[_0x58378f(0x183)](_0x58378f(0x3c8)+_0x4b5b05['name']+',\x20'+_0x4b5b05['message']);}else console['warn'](_0x58378f(0x1ff));},releaseWakeLock=async()=>{const _0x1dee94=_0x1cca;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x1dee94(0xa09)](_0x1dee94(0x6e6)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x531006=_0x1cca;if(dimTimer)clearTimeout(dimTimer);document[_0x531006(0x702)][_0x531006(0x67e)][_0x531006(0xaa2)](_0x531006(0xa3d)),dimTimer=setTimeout(()=>{const _0x17f714=_0x531006;document[_0x17f714(0x702)]['classList'][_0x17f714(0x677)](_0x17f714(0xa3d)),console[_0x17f714(0xa09)](_0x17f714(0x3c7));},inactivityTime);}function stopDimTimer(){const _0x43ee75=_0x1cca;if(dimTimer)clearTimeout(dimTimer);document[_0x43ee75(0x702)][_0x43ee75(0x67e)]['remove'](_0x43ee75(0xa3d)),window[_0x43ee75(0x400)](_0x43ee75(0x2c1),resetDimTimer),window[_0x43ee75(0x400)](_0x43ee75(0x41a),resetDimTimer),window['removeEventListener'](_0x43ee75(0xae7),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x43ee75(0xa09)](_0x43ee75(0x944));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x44dc11,_0x156ed9=![]){const _0x71ad55=_0x1cca,_0x590935=allQuizzes[_0x71ad55(0x270)](_0x5c28bf=>_0x5c28bf['id']===_0x44dc11)||allQuizzesGlobal[_0x71ad55(0x270)](_0x10002a=>_0x10002a['id']===_0x44dc11);if(!_0x590935){showMessage(_0x71ad55(0xa37));return;}currentQuizData=getShuffledQuiz(_0x590935);const _0x2f2c39=Math[_0x71ad55(0x5fa)](0x3e8+Math['random']()*0x2328)[_0x71ad55(0x999)]();try{const _0x52c020=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x590935['id'],'projectId':_0x590935[_0x71ad55(0x6ec)],'status':_0x71ad55(0x838),'pin':_0x2f2c39,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x156ed9});currentTeamQuizId=_0x52c020['id'],showView(_0x71ad55(0x4e5)),renderAdminTeamQuizDashboard(_0x2f2c39,_0x590935[_0x71ad55(0x994)]),listenForTeamQuizUpdates();}catch(_0x300577){console[_0x71ad55(0x183)](_0x71ad55(0x877),_0x300577),showMessage(_0x71ad55(0x571));}}function renderAdminTeamQuizDashboard(_0x5ebf0b,_0x480f67,_0x49b28e='team'){const _0xd57c1b=_0x1cca,_0x4272ef=_0x49b28e===_0xd57c1b(0xad9)?_0xd57c1b(0x736):_0xd57c1b(0x2d4);liveGameView[_0xd57c1b(0x1bb)]=_0xd57c1b(0x739)+_0x4272ef+':\x20'+_0x480f67+_0xd57c1b(0x9df)+_0x5ebf0b+_0xd57c1b(0x2d8),document['getElementById'](_0xd57c1b(0x855))[_0xd57c1b(0x908)](_0xd57c1b(0x405),async()=>{const _0xfee35f=_0xd57c1b;showConfirmation(_0xfee35f(0x3e6),async()=>{const _0x2a5ee0=_0xfee35f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2a5ee0(0x439)+appId+_0x2a5ee0(0x36e),currentTeamQuizId)),showView(_0x2a5ee0(0x484));});});}function listenForTeamQuizUpdates(){const _0x1d4bb7=_0x1cca;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2f64fb=doc(db,_0x1d4bb7(0x439)+appId+_0x1d4bb7(0x36e),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2f64fb,_0x5e91a7=>{const _0x5208ef=_0x1d4bb7;if(!_0x5e91a7[_0x5208ef(0x905)]()){sessionStorage['removeItem'](_0x5208ef(0x325));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x5208ef(0xa73))showMessage(_0x5208ef(0x669));showView(currentMode==='admin'?_0x5208ef(0x484):_0x5208ef(0x351));return;}const _0x4ee529=_0x5e91a7[_0x5208ef(0x612)]();if(currentMode==='admin'){if(_0x4ee529['mode']==='group'&&_0x4ee529[_0x5208ef(0x7af)]!==_0x5208ef(0x7b5)&&_0x4ee529['status']!==_0x5208ef(0x501)){const _0xe64a7e=Object[_0x5208ef(0x237)](_0x4ee529[_0x5208ef(0x688)]||{});if(_0xe64a7e[_0x5208ef(0x31f)]>0x0){const _0x166aca=_0xe64a7e['every'](_0x73c3d9=>_0x73c3d9[_0x5208ef(0xa33)]===!![]);_0x166aca&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4ee529);}else{if(_0x4ee529[_0x5208ef(0x7af)]===_0x5208ef(0x7b5)||_0x4ee529[_0x5208ef(0x7af)]===_0x5208ef(0x501)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4ee529['mode']===_0x5208ef(0xad9)){const _0x363158=_0x4ee529[_0x5208ef(0x688)][userId];(!_0x363158||!_0x363158['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x40b078){const _0x5e45f2=_0x1cca;console[_0x5e45f2(0xa09)](_0x5e45f2(0x7f8));const _0x48fcaa=doc(db,_0x5e45f2(0x439)+appId+'/public/data/teamQuizzes',_0x40b078);try{const _0x16cfda=await getDoc(_0x48fcaa);if(_0x16cfda[_0x5e45f2(0x905)]()){const _0x10bdc6=_0x16cfda['data']();_0x10bdc6[_0x5e45f2(0x18e)]&&await saveGameResultsAsSubmissions(_0x10bdc6);}await updateDoc(_0x48fcaa,{'status':'podium'});}catch(_0x3f96d2){console[_0x5e45f2(0x183)](_0x5e45f2(0x891),_0x3f96d2);}}function updateAdminTeamDashboard(_0x1f68af){const _0xe36cc6=_0x1cca,_0x2ae9d6=document[_0xe36cc6(0x274)](_0xe36cc6(0x496));if(!_0x2ae9d6)return;const _0x3a6e0f=_0x1f68af[_0xe36cc6(0xaf2)]||_0xe36cc6(0xaf4),_0x3fb7cf=currentQuizData['questions'][_0xe36cc6(0x31f)];if(_0x3a6e0f===_0xe36cc6(0xad9)){const _0xf19d02=Object[_0xe36cc6(0x237)](_0x1f68af['groups']||{});if(_0xf19d02[_0xe36cc6(0x31f)]===0x0){_0x2ae9d6[_0xe36cc6(0x1bb)]=_0xe36cc6(0xaa8);return;}const _0x39432b=[..._0xf19d02][_0xe36cc6(0x34f)]((_0x3c3733,_0x387f03)=>_0x387f03[_0xe36cc6(0x7b8)]-_0x3c3733[_0xe36cc6(0x7b8)]),_0xbefa9e=_0x39432b[_0xe36cc6(0x743)]((_0x1508f5,_0x59b880)=>{const _0x23c999=_0xe36cc6,_0x1dc067=_0x1508f5[_0x23c999(0x711)]?.[_0x23c999(0x31f)]||0x0;return _0x23c999(0x82a)+(_0x59b880+0x1)+_0x23c999(0xa0c)+_0x1508f5[_0x23c999(0xa16)][_0x23c999(0xaad)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x1dc067+'/'+_0x3fb7cf+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x1508f5[_0x23c999(0x7b8)]+_0x23c999(0x58c);})[_0xe36cc6(0xaad)](''),_0x59088f=currentQuizData[_0xe36cc6(0x2bb)][_0xe36cc6(0x743)]((_0x4d69c2,_0xf2251c)=>{const _0x37e404=_0xe36cc6;let _0x4c891c=0x0,_0x59f613=0x0;_0xf19d02[_0x37e404(0x232)](_0xd2fe60=>{const _0x1ff23a=_0x37e404,_0x5bdaba=_0xd2fe60[_0x1ff23a(0x711)]?.[_0x1ff23a(0x270)](_0x3122c3=>_0x3122c3[_0x1ff23a(0x774)]===_0xf2251c);if(_0x5bdaba){_0x59f613++;if(_0x5bdaba[_0x1ff23a(0x3b7)])_0x4c891c++;}});const _0x3af11e=_0x59f613>0x0&&_0x59f613===_0xf19d02[_0x37e404(0x31f)],_0xa7020=_0x3af11e?'bg-green-200\x20text-green-900\x20font-bold':_0x37e404(0x20c),_0x2dde2d=_0x3af11e?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0xa7020+_0x37e404(0xa35)+(_0xf2251c+0x1)+_0x37e404(0x432)+_0x2dde2d+_0x37e404(0x2ea)+_0x4c891c+'/'+_0xf19d02[_0x37e404(0x31f)]+_0x37e404(0x267);})['join']('');_0x2ae9d6[_0xe36cc6(0x1bb)]=_0xe36cc6(0x699)+_0xbefa9e+_0xe36cc6(0x7a3)+_0x59088f+_0xe36cc6(0xa4b);return;}const _0x2df60c=_0x1f68af[_0xe36cc6(0x29b)]||{},_0x50ed33=Object[_0xe36cc6(0xa21)](_0x2df60c);if(_0x50ed33[_0xe36cc6(0x31f)]===0x0){_0x2ae9d6[_0xe36cc6(0x1bb)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x1c3a75=_0x50ed33[_0xe36cc6(0x743)](_0x113787=>({'name':_0x113787,'score':_0x2df60c[_0x113787][_0xe36cc6(0x7b8)]||0x0}))['sort']((_0x238dfa,_0x544567)=>_0x544567[_0xe36cc6(0x7b8)]-_0x238dfa[_0xe36cc6(0x7b8)]),_0x4d55ee=_0x1c3a75[_0xe36cc6(0x743)](_0x3ce066=>{const _0x25116f=_0xe36cc6,_0x42296f=_0x2df60c[_0x3ce066['name']]?.[_0x25116f(0x711)]?.['length']||0x0,_0x3ed517=Math[_0x25116f(0x727)](_0x3fb7cf/_0x50ed33[_0x25116f(0x31f)]);return _0x25116f(0x8a2)+_0x3ce066['name']+_0x25116f(0xa7f)+_0x42296f+'/'+_0x3ed517+_0x25116f(0x915)+_0x3ce066[_0x25116f(0x7b8)]+_0x25116f(0x5cb);})['join'](''),_0x5d7a76=_0x50ed33[_0xe36cc6(0x329)]((_0x55b23e,_0x3e5709)=>_0x55b23e+(_0x2df60c[_0x3e5709][_0xe36cc6(0x711)]?.[_0xe36cc6(0x31f)]||0x0),0x0),_0x25412a=currentQuizData[_0xe36cc6(0x2bb)]['map']((_0x1b3e47,_0x497f56)=>{const _0x319cbe=_0xe36cc6;let _0x4c14f6=null,_0x5e1f8c=null;for(const _0x58efcd of _0x50ed33){const _0x17c35f=_0x2df60c[_0x58efcd][_0x319cbe(0x711)]?.[_0x319cbe(0x270)](_0x13a296=>_0x13a296[_0x319cbe(0x774)]===_0x497f56);if(_0x17c35f){_0x4c14f6=_0x17c35f,_0x5e1f8c=_0x58efcd;break;}}const _0x3997cc=!!_0x4c14f6,_0x16cb8a=_0x3997cc&&_0x4c14f6[_0x319cbe(0x3b7)],_0x24ff0b=(Math[_0x319cbe(0x5fa)](_0x497f56/_0x50ed33[_0x319cbe(0x31f)])+0x1)*_0x50ed33[_0x319cbe(0x31f)],_0x45b862=_0x5d7a76>=_0x24ff0b,_0x1f592d=_0x45b862?_0x319cbe(0x95a):_0x319cbe(0x20c),_0x5da4b5=_0x45b862?_0x319cbe(0x4a8):'';let _0x2e0cb4=_0x319cbe(0x953);return _0x3997cc&&(_0x2e0cb4=_0x5e1f8c+'\x20ตอบ'+(_0x16cb8a?_0x319cbe(0x55e):'ผิด')),_0x319cbe(0x957)+_0x1f592d+_0x319cbe(0xa35)+(_0x497f56+0x1)+':</span><span>'+_0x5da4b5+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x2e0cb4+_0x319cbe(0x56b);})[_0xe36cc6(0xaad)]('');_0x2ae9d6[_0xe36cc6(0x1bb)]=_0xe36cc6(0x964)+_0x4d55ee+_0xe36cc6(0x959)+_0x25412a+_0xe36cc6(0xa4b);}async function handleJoinTeamQuiz(){const _0x237e19=_0x1cca,_0x4208c1=prompt(_0x237e19(0xa38));if(!_0x4208c1||_0x4208c1[_0x237e19(0x5d8)]()[_0x237e19(0x31f)]!==0x4){showMessage(_0x237e19(0x1eb));return;}try{const _0x365f17=collection(db,_0x237e19(0x439)+appId+_0x237e19(0x36e)),_0x28eda2=query(_0x365f17,where('pin','==',_0x4208c1[_0x237e19(0x5d8)]()),where(_0x237e19(0x7af),'==','lobby')),_0x4fa4ad=await getDocs(_0x28eda2);if(_0x4fa4ad[_0x237e19(0x48a)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x3b177e=_0x4fa4ad[_0x237e19(0x971)][0x0];currentTeamQuizId=_0x3b177e['id'];const _0x5f54b6=_0x3b177e['data'](),_0x548c98=doc(db,_0x237e19(0x439)+appId+_0x237e19(0x6ad),_0x5f54b6['projectId']),_0x518a78=doc(db,_0x237e19(0x439)+appId+'/public/data/quizzes',_0x5f54b6[_0x237e19(0x628)]),[_0x589e99,_0x3222c6]=await Promise[_0x237e19(0xa59)]([getDoc(_0x548c98),getDoc(_0x518a78)]);if(!_0x589e99[_0x237e19(0x905)]()||!_0x3222c6[_0x237e19(0x905)]())throw new Error(_0x237e19(0x4e8));currentQuizData=getShuffledQuiz({'id':_0x3222c6['id'],..._0x3222c6[_0x237e19(0x612)]()});const _0x1ee43a=_0x589e99['data']();showTeamPlayerSelection(_0x1ee43a['students'],currentQuizData[_0x237e19(0x994)]);}catch(_0x5353d7){console['error']('Error\x20joining\x20team\x20quiz:',_0x5353d7),showMessage(_0x237e19(0x248)+_0x5353d7['message']);}}async function handleJoinGroupActivity(){const _0x3128ce=_0x1cca,_0x12c150=prompt(_0x3128ce(0x4e1));if(!_0x12c150||_0x12c150[_0x3128ce(0x5d8)]()[_0x3128ce(0x31f)]!==0x4){showMessage(_0x3128ce(0x642));return;}const _0x212eee=_0x12c150['trim']();showMessage(_0x3128ce(0x8af));try{const _0x5ef7fb=collection(db,_0x3128ce(0x439)+appId+_0x3128ce(0x36e)),_0x44f22b=query(_0x5ef7fb,where('pin','==',_0x212eee),where('status','==',_0x3128ce(0x838))),_0x1aa2ea=await getDocs(_0x44f22b);if(!_0x1aa2ea[_0x3128ce(0x48a)]){console['log'](_0x3128ce(0x608)),await proceedWithTeamQuizJoin(_0x1aa2ea[_0x3128ce(0x971)][0x0]);return;}const _0x53599b=collection(db,_0x3128ce(0x439)+appId+'/public/data/syncGames'),_0x106afb=query(_0x53599b,where(_0x3128ce(0x1b7),'==',_0x212eee),where('status','==',_0x3128ce(0x838))),_0x8549c2=await getDocs(_0x106afb);if(!_0x8549c2[_0x3128ce(0x48a)]){console[_0x3128ce(0xa09)](_0x3128ce(0x4b1)),await proceedWithSyncQuizJoin(_0x8549c2[_0x3128ce(0x971)][0x0]);return;}showMessage(_0x3128ce(0x903));}catch(_0x380ca1){console[_0x3128ce(0x183)](_0x3128ce(0x868),_0x380ca1),showMessage(_0x3128ce(0x2b8)+_0x380ca1[_0x3128ce(0x75c)]);}}async function proceedWithTeamQuizJoin(_0x4389f8){const _0x47f583=_0x1cca;currentTeamQuizId=_0x4389f8['id'];const _0x32e647=_0x4389f8[_0x47f583(0x612)](),_0x295b34=doc(db,_0x47f583(0x439)+appId+_0x47f583(0x6ad),_0x32e647[_0x47f583(0x6ec)]),_0x3457b6=doc(db,_0x47f583(0x439)+appId+_0x47f583(0x5e9),_0x32e647[_0x47f583(0x628)]),[_0x34ed54,_0x8886a0]=await Promise[_0x47f583(0xa59)]([getDoc(_0x295b34),getDoc(_0x3457b6)]);if(!_0x34ed54[_0x47f583(0x905)]()||!_0x8886a0['exists']())throw new Error(_0x47f583(0x4e8));currentQuizData=getShuffledQuiz({'id':_0x8886a0['id'],..._0x8886a0['data']()}),showTeamPlayerSelection(_0x34ed54['data']()[_0x47f583(0x88f)],currentQuizData[_0x47f583(0x994)],_0x32e647[_0x47f583(0xaf2)]||'team'),messageModal[_0x47f583(0x67e)][_0x47f583(0x677)](_0x47f583(0x66d));}async function proceedWithSyncQuizJoin(_0x120075){const _0x5d99a0=_0x1cca;currentLiveGameId=_0x120075['id'];const _0x533d42=_0x120075[_0x5d99a0(0x612)](),_0x1d9508=doc(db,'artifacts/'+appId+_0x5d99a0(0x5e9),_0x533d42[_0x5d99a0(0x628)]),_0x183698=await getDoc(_0x1d9508);if(!_0x183698[_0x5d99a0(0x905)]())throw new Error(_0x5d99a0(0xa37));const _0x5d6a58=_0x183698['data'](),_0x5490e2=doc(db,_0x5d99a0(0x439)+appId+'/public/data/projects',_0x5d6a58['projectId']),_0x2bbe84=await getDoc(_0x5490e2);if(!_0x2bbe84[_0x5d99a0(0x905)]())throw new Error(_0x5d99a0(0x99a));currentQuizData=_0x533d42[_0x5d99a0(0x91e)],showView(_0x5d99a0(0x46e)),showTeamPlayerSelection(_0x2bbe84[_0x5d99a0(0x612)]()[_0x5d99a0(0x88f)],_0x5d6a58[_0x5d99a0(0x994)],'sync'),document[_0x5d99a0(0x274)]('confirm-team-players-btn')[_0x5d99a0(0x347)]=confirmAndJoinSyncGame,messageModal[_0x5d99a0(0x67e)][_0x5d99a0(0x677)]('hidden');}function showTeamPlayerSelection(_0x5809b9,_0x542e3f,_0x1c1930=_0x3f08ea(0xaf4)){const _0x4f0ea6=_0x3f08ea;studentInitialView[_0x4f0ea6(0x67e)]['add']('hidden'),studentJoinGameView[_0x4f0ea6(0x67e)][_0x4f0ea6(0x677)](_0x4f0ea6(0x66d)),document['getElementById'](_0x4f0ea6(0x477))[_0x4f0ea6(0x67e)][_0x4f0ea6(0xaa2)](_0x4f0ea6(0x66d));let _0x18b0d5=_0x4f0ea6(0x2d4);if(_0x1c1930===_0x4f0ea6(0xad9))_0x18b0d5=_0x4f0ea6(0x736);else _0x1c1930===_0x4f0ea6(0x970)&&(_0x18b0d5=_0x4f0ea6(0x373));document['getElementById'](_0x4f0ea6(0x243))['textContent']=_0x18b0d5+':\x20'+_0x542e3f;const _0x46b85d=document['getElementById'](_0x4f0ea6(0x566));if(!_0x5809b9||_0x5809b9[_0x4f0ea6(0x31f)]===0x0){_0x46b85d[_0x4f0ea6(0x1bb)]=_0x4f0ea6(0xa7b),document[_0x4f0ea6(0x274)](_0x4f0ea6(0xaae))[_0x4f0ea6(0x5a2)]=!![];return;}_0x46b85d[_0x4f0ea6(0x1bb)]=_0x5809b9[_0x4f0ea6(0x743)](_0x555b42=>_0x4f0ea6(0x4f3)+_0x555b42+_0x4f0ea6(0x975)+_0x555b42+_0x4f0ea6(0x192))[_0x4f0ea6(0xaad)](''),document['getElementById'](_0x4f0ea6(0xaae))[_0x4f0ea6(0x5a2)]=![];}async function confirmAndStartTeamQuiz(){const _0x5dbeea=_0x3f08ea,_0xb7796d=Array[_0x5dbeea(0x5bc)](document[_0x5dbeea(0x591)](_0x5dbeea(0x79e)))[_0x5dbeea(0x743)](_0x1b33a1=>_0x1b33a1[_0x5dbeea(0x303)]);if(_0xb7796d[_0x5dbeea(0x31f)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xb7796d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x23c512=doc(db,_0x5dbeea(0x439)+appId+_0x5dbeea(0x36e),currentTeamQuizId);try{const _0x162971=await getDoc(_0x23c512);if(!_0x162971[_0x5dbeea(0x905)]())throw new Error(_0x5dbeea(0x3f8));const _0x240d10=_0x162971[_0x5dbeea(0x612)]();if(_0x240d10[_0x5dbeea(0xaf2)]===_0x5dbeea(0xad9)){const _0x4f92ff={[_0x5dbeea(0x49c)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x23c512,_0x4f92ff);}else{const _0x1eef31=_0x240d10['responses']||{};localTeamPlayers[_0x5dbeea(0x232)](_0x598313=>{!_0x1eef31[_0x598313]&&(_0x1eef31[_0x598313]={'score':0x0,'answers':[]});}),await updateDoc(_0x23c512,{'responses':_0x1eef31});}document[_0x5dbeea(0x274)](_0x5dbeea(0x477))[_0x5dbeea(0x67e)][_0x5dbeea(0x677)](_0x5dbeea(0x66d)),renderTeamQuizQuestion();const _0x2847b7={'gameId':currentTeamQuizId,'mode':_0x240d10[_0x5dbeea(0xaf2)]||_0x5dbeea(0xaf4),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5dbeea(0x31c)]('activeGameSession',JSON[_0x5dbeea(0x65e)](_0x2847b7)),listenForTeamQuizUpdates();}catch(_0x172e5e){console[_0x5dbeea(0x183)]('Error\x20confirming\x20players:',_0x172e5e),showMessage(_0x5dbeea(0x4eb));}}async function renderTeamQuizQuestion(){const _0x480eb5=_0x3f08ea;if(localQuestionIndex>=currentQuizData[_0x480eb5(0x2bb)][_0x480eb5(0x31f)]){displayTeamQuizFinalResults();return;}const _0x51bc4a=currentQuizData[_0x480eb5(0x2bb)][localQuestionIndex],_0x43e9b0=localTeamPlayers[localPlayerIndex],_0x158d24=_0x51bc4a['questionType']||currentQuizData[_0x480eb5(0x641)];let _0x4b5f4a=_0x51bc4a['stem']||_0x51bc4a[_0x480eb5(0x81a)],_0x32de45='';switch(_0x158d24){case'multiple_choice':case _0x480eb5(0x361):_0x32de45=_0x51bc4a[_0x480eb5(0xaee)][_0x480eb5(0x743)]((_0x58ad45,_0x3aa447)=>_0x480eb5(0x4b2)+_0x3aa447+_0x480eb5(0x3b8)+_0x3aa447+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3aa447+'\x22>'+_0x58ad45+_0x480eb5(0x821))[_0x480eb5(0xaad)]('');break;case _0x480eb5(0x8bf):_0x32de45=_0x480eb5(0x18c);break;case _0x480eb5(0x15d):case'fill_in_no_choices':_0x32de45=_0x480eb5(0x362);break;case'matching_item':_0x32de45=_0x480eb5(0x9a7)+_0x51bc4a[_0x480eb5(0x378)]['map'](_0x2b431e=>_0x480eb5(0x943)+_0x2b431e+'\x22>'+_0x2b431e+'</option>')[_0x480eb5(0xaad)]('')+_0x480eb5(0x4bd);break;default:_0x32de45='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x480eb5(0x1bb)]=_0x480eb5(0x627)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x480eb5(0x2bb)][_0x480eb5(0x31f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x43e9b0+_0x480eb5(0x223)+(localQuestionIndex+0x1)+'.\x20'+_0x4b5f4a+_0x480eb5(0x304)+(_0x51bc4a['imageCode']?_0x480eb5(0x62b)+_0x51bc4a[_0x480eb5(0xaa5)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x32de45+_0x480eb5(0x500),studentQuizArea[_0x480eb5(0x67e)][_0x480eb5(0xaa2)]('hidden');if(window[_0x480eb5(0x13c)])MathJax[_0x480eb5(0x4db)]([studentQuizArea]);document[_0x480eb5(0x274)]('submit-team-answer-btn')[_0x480eb5(0x908)](_0x480eb5(0x405),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x36c6f4=_0x3f08ea,_0x12857a=currentQuizData[_0x36c6f4(0x2bb)][localQuestionIndex],_0x52206d=_0x12857a[_0x36c6f4(0x4f4)]||currentQuizData[_0x36c6f4(0x641)];let _0x3fe98f=null,_0x56ef82=![];if(_0x52206d===_0x36c6f4(0x15d)||_0x52206d===_0x36c6f4(0x66c)){const _0x55bcf5=document['querySelector'](_0x36c6f4(0x69f));if(!_0x55bcf5||!_0x55bcf5['value'][_0x36c6f4(0x5d8)]()){showMessage(_0x36c6f4(0x209));return;}_0x3fe98f=_0x55bcf5['value'][_0x36c6f4(0x5d8)](),_0x56ef82=await gradeShortAnswer(_0x3fe98f,_0x12857a);}else{const _0x470734=document[_0x36c6f4(0x497)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x470734||_0x470734[_0x36c6f4(0x303)]===''){showMessage(_0x36c6f4(0x78f));return;}_0x3fe98f=_0x470734[_0x36c6f4(0x303)];switch(_0x52206d){case _0x36c6f4(0x8bf):_0x56ef82=_0x3fe98f===_0x36c6f4(0x3e7)===_0x12857a[_0x36c6f4(0x26f)];break;case _0x36c6f4(0x466):_0x56ef82=_0x3fe98f===_0x12857a[_0x36c6f4(0x984)];break;default:_0x56ef82=parseInt(_0x3fe98f)===_0x12857a[_0x36c6f4(0x74e)];break;}}const _0xe71f9f={'questionIndex':localQuestionIndex,'isCorrect':_0x56ef82},_0x101b81=userId,_0x338cf4={[_0x36c6f4(0x49c)+_0x101b81+'.answers']:arrayUnion(_0xe71f9f)};_0x56ef82&&(_0x338cf4[_0x36c6f4(0x49c)+_0x101b81+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x36c6f4(0x439)+appId+_0x36c6f4(0x36e),currentTeamQuizId),_0x338cf4),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x36c6f4(0x31f)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x149a58){console[_0x36c6f4(0x183)](_0x36c6f4(0x21e),_0x149a58),showMessage(_0x36c6f4(0x60d));}}async function handleTeamAnswerSubmit(){const _0x15f978=_0x3f08ea,_0x5ccee3=await getDoc(doc(db,_0x15f978(0x439)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x5ccee3[_0x15f978(0x905)]())return;const _0x108ff7=_0x5ccee3['data']();if(_0x108ff7[_0x15f978(0xaf2)]==='group'){handleGroupAnswerSubmit();return;}const _0x5e7653=localTeamPlayers[localPlayerIndex],_0x308e60=currentQuizData[_0x15f978(0x2bb)][localQuestionIndex],_0x304cf7=_0x308e60[_0x15f978(0x4f4)]||currentQuizData['quizType'];let _0xded4ad=null,_0x80469f=![];if(_0x304cf7===_0x15f978(0x15d)||_0x304cf7===_0x15f978(0x66c)){const _0x304c85=document[_0x15f978(0x497)](_0x15f978(0x69f));if(!_0x304c85||!_0x304c85[_0x15f978(0x303)][_0x15f978(0x5d8)]()){showMessage(_0x15f978(0xadc));return;}_0xded4ad=_0x304c85[_0x15f978(0x303)][_0x15f978(0x5d8)](),_0x80469f=await gradeShortAnswer(_0xded4ad,_0x308e60);}else{const _0x3f80c4=document[_0x15f978(0x497)](_0x15f978(0x7bd));if(!_0x3f80c4||_0x3f80c4['value']===''){showMessage(_0x15f978(0x914));return;}_0xded4ad=_0x3f80c4[_0x15f978(0x303)];switch(_0x304cf7){case _0x15f978(0x8bf):_0x80469f=_0xded4ad===_0x15f978(0x3e7)===_0x308e60[_0x15f978(0x26f)];break;case _0x15f978(0x466):_0x80469f=_0xded4ad===_0x308e60[_0x15f978(0x984)];break;default:_0x80469f=parseInt(_0xded4ad)===_0x308e60[_0x15f978(0x74e)];break;}}const _0x2a1762={'questionIndex':localQuestionIndex,'isCorrect':_0x80469f,'answerValue':_0xded4ad},_0x5e37f3={[_0x15f978(0x97a)+_0x5e7653+_0x15f978(0x89f)]:arrayUnion(_0x2a1762)};_0x80469f&&(_0x5e37f3['responses.'+_0x5e7653+_0x15f978(0x73d)]=increment(0x1));try{await updateDoc(doc(db,_0x15f978(0x439)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5e37f3),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x15f978(0x31f)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x1e07d1){console[_0x15f978(0x183)]('Error\x20submitting\x20team\x20answer:',_0x1e07d1),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x390a05=_0x3f08ea;studentQuizArea['classList']['add'](_0x390a05(0x66d)),studentResultArea[_0x390a05(0x67e)]['remove']('hidden');const _0x2b90f5=doc(db,_0x390a05(0x439)+appId+_0x390a05(0x36e),currentTeamQuizId),_0xd16dd7=await getDoc(_0x2b90f5);if(!_0xd16dd7[_0x390a05(0x905)]()){studentResultArea[_0x390a05(0x1bb)]=_0x390a05(0x757);return;}const _0xa2caa=_0xd16dd7[_0x390a05(0x612)]();let _0x1bb2dc=[];const _0x4c7ea7=_0xa2caa[_0x390a05(0xaf2)]||_0x390a05(0xaf4);if(_0x4c7ea7===_0x390a05(0xad9)){const _0x2854cd=_0xa2caa[_0x390a05(0x688)][userId];_0x2854cd?_0x1bb2dc=[{'name':_0x390a05(0xa1b)+localTeamPlayers['join'](',\x20'),'score':_0x2854cd[_0x390a05(0x7b8)]||0x0}]:_0x1bb2dc=[{'name':_0x390a05(0x79b),'score':_0x390a05(0x78a)}];}else _0x1bb2dc=localTeamPlayers[_0x390a05(0x743)](_0x459392=>({'name':_0x459392,'score':_0xa2caa[_0x390a05(0x29b)][_0x459392]?.['score']||0x0}))['sort']((_0x47d6ae,_0x4afb42)=>_0x4afb42[_0x390a05(0x7b8)]-_0x47d6ae[_0x390a05(0x7b8)]);studentResultArea[_0x390a05(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bb2dc['map'](_0x1ad86a=>_0x390a05(0xad1)+_0x1ad86a[_0x390a05(0x340)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ad86a['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x390a05(0xaad)]('')+_0x390a05(0x568),sessionStorage[_0x390a05(0x402)](_0x390a05(0x325)),currentMode===_0x390a05(0xa73)&&currentTeamQuizId&&setTimeout(()=>{const _0xe291ee=_0x390a05;deleteDoc(doc(db,'artifacts/'+appId+_0xe291ee(0x36e),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3f08ea(0x32f),'pinnedProjects':[],'projectView':_0x3f08ea(0x241)};const allMathTopics=[{'category':_0x3f08ea(0xab7),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0x142)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x53c)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x2e1)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x9ff)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x5c3)},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0x659)},{'category':_0x3f08ea(0xab7),'name':'การหาร'},{'category':_0x3f08ea(0xab7),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x696)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x9ed)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x414)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x2bd)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x1d3)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x543)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x1b1)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x52e)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0xa3a)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x810)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x698)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x43c)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x9f7)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x797)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x6a0)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x174)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x1d6)},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0x661)},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0x6d6)},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0xa1d)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x89e)},{'category':_0x3f08ea(0xab7),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x246)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x333)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x251)},{'category':_0x3f08ea(0xab7),'name':_0x3f08ea(0x6aa)},{'category':'จำนวนและการดำเนินการ','name':_0x3f08ea(0xaab)},{'category':'การวัด','name':_0x3f08ea(0x25f)},{'category':'การวัด','name':_0x3f08ea(0x552)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x255)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x166)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x7ef)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x7f9)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x836)},{'category':_0x3f08ea(0x59a),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':_0x3f08ea(0x899)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x1de)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x61e)},{'category':'การวัด','name':_0x3f08ea(0x52c)},{'category':'การวัด','name':_0x3f08ea(0x7c8)},{'category':_0x3f08ea(0x59a),'name':_0x3f08ea(0x191)},{'category':'เรขาคณิต','name':_0x3f08ea(0x273)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x1ce)},{'category':'เรขาคณิต','name':_0x3f08ea(0x9a5)},{'category':_0x3f08ea(0x397),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x740)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x9a9)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x9a6)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x4a5)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x5c4)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0xae1)},{'category':'เรขาคณิต','name':_0x3f08ea(0x37a)},{'category':_0x3f08ea(0x397),'name':_0x3f08ea(0x713)},{'category':_0x3f08ea(0x397),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x4d8)},{'category':_0x3f08ea(0x6c9),'name':'การกระจายและการจัดหมู่'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0xa75)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x759)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x62f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x31a)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x7ac)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x582)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x6fd)},{'category':_0x3f08ea(0x6c9),'name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x955)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x147)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0xa23)},{'category':_0x3f08ea(0x6c9),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x5df)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x6e3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x748)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x281)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x62e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x82b)},{'category':_0x3f08ea(0x6c9),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x901)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x69e)},{'category':_0x3f08ea(0x6c9),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x59e)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x8dd)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x71d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0xab8)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x9e2)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0xa47)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x1fc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3f08ea(0x9b0)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x559)},{'category':_0x3f08ea(0x6c9),'name':_0x3f08ea(0x982)},{'category':_0x3f08ea(0x298),'name':_0x3f08ea(0xaeb)},{'category':_0x3f08ea(0x298),'name':_0x3f08ea(0x54d)},{'category':_0x3f08ea(0x298),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x3f08ea(0x298),'name':_0x3f08ea(0x735)},{'category':_0x3f08ea(0x298),'name':_0x3f08ea(0x4be)},{'category':_0x3f08ea(0x298),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x3f08ea(0x298),'name':'พาราโบลา'},{'category':_0x3f08ea(0x298),'name':'วงรี'},{'category':_0x3f08ea(0x298),'name':_0x3f08ea(0x63c)},{'category':'ตรีโกณมิติ','name':_0x3f08ea(0x935)},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0xa7c)},{'category':'ตรีโกณมิติ','name':_0x3f08ea(0x16d)},{'category':'ตรีโกณมิติ','name':_0x3f08ea(0x94c)},{'category':'ตรีโกณมิติ','name':_0x3f08ea(0x7fe)},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0x7aa)},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0xa49)},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0x7c2)},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0xa65)},{'category':_0x3f08ea(0x602),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x3f08ea(0x602),'name':_0x3f08ea(0x1c6)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x977)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0xa04)},{'category':_0x3f08ea(0x5c7),'name':'ตารางความถี่'},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x330)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x34c)},{'category':_0x3f08ea(0x5c7),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x13b)},{'category':_0x3f08ea(0x5c7),'name':'มัธยฐาน'},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x1b0)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x80f)},{'category':'สถิติและความน่าจะเป็น','name':_0x3f08ea(0xaa6)},{'category':'สถิติและความน่าจะเป็น','name':_0x3f08ea(0xab6)},{'category':_0x3f08ea(0x5c7),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x80e)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x814)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x8c5)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x3b5)},{'category':'สถิติและความน่าจะเป็น','name':_0x3f08ea(0x988)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x4f1)},{'category':'สถิติและความน่าจะเป็น','name':_0x3f08ea(0x550)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x538)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x3f5)},{'category':'สถิติและความน่าจะเป็น','name':_0x3f08ea(0x8c4)},{'category':_0x3f08ea(0x5c7),'name':_0x3f08ea(0x59f)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x460)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3f08ea(0x7cb)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x8fe)},{'category':_0x3f08ea(0x23c),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x3f08ea(0x23c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3f08ea(0x4b7)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x297)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x33c)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x2f4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3f08ea(0x87c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3f08ea(0x9de)},{'category':_0x3f08ea(0x23c),'name':_0x3f08ea(0x6f8)},{'category':_0x3f08ea(0x23c),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x3f08ea(0x672),'name':_0x3f08ea(0x54e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3f08ea(0x30d)},{'category':_0x3f08ea(0x672),'name':_0x3f08ea(0x3be)},{'category':_0x3f08ea(0x672),'name':_0x3f08ea(0x5d3)},{'category':_0x3f08ea(0x672),'name':_0x3f08ea(0x64d)},{'category':_0x3f08ea(0x672),'name':_0x3f08ea(0x6da)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3f08ea(0x96b)},{'category':_0x3f08ea(0x3ff),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x3f08ea(0x3ff),'name':_0x3f08ea(0x29f)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3f08ea(0x485)},{'category':_0x3f08ea(0x3ff),'name':'ค่าเสื่อมราคา'},{'category':_0x3f08ea(0x3ff),'name':'ร้อยละประยุกต์'},{'category':_0x3f08ea(0x242),'name':_0x3f08ea(0x76f)},{'category':_0x3f08ea(0x242),'name':_0x3f08ea(0x9ec)},{'category':_0x3f08ea(0x242),'name':_0x3f08ea(0x9c7)}];function renderTopicCheckboxes(){const _0x2b89bc=_0x3f08ea,_0xc7384d=document[_0x2b89bc(0x274)](_0x2b89bc(0x860));if(!_0xc7384d)return;const _0x321c65=allMathTopics,_0x43d952=customMathTopics[_0x2b89bc(0x743)](_0x15d2a8=>({'id':_0x15d2a8['id'],'category':'หัวข้อที่สร้างเอง','name':_0x15d2a8[_0x2b89bc(0x340)]})),_0x44c2c9=[..._0x321c65,..._0x43d952],_0x233d3a=_0x44c2c9[_0x2b89bc(0x329)]((_0x2eb9b6,_0x1718ea)=>{const _0x5354fd=_0x2b89bc;return!_0x2eb9b6[_0x1718ea[_0x5354fd(0x9af)]]&&(_0x2eb9b6[_0x1718ea[_0x5354fd(0x9af)]]=[]),_0x2eb9b6[_0x1718ea[_0x5354fd(0x9af)]]['push'](_0x1718ea),_0x2eb9b6;},{});let _0x46989c='';const _0x40725b=[_0x2b89bc(0x92c),...Object[_0x2b89bc(0xa21)](_0x233d3a)[_0x2b89bc(0x30b)](_0x9b3b6c=>_0x9b3b6c!==_0x2b89bc(0x92c))];for(const _0x5103bc of _0x40725b){if(_0x233d3a[_0x5103bc]){const _0x41ee52=_0x5103bc===_0x2b89bc(0x92c),_0x384f18=_0x41ee52?_0x2b89bc(0x91f):_0x2b89bc(0x84b),_0xd94942=_0x41ee52?'text-blue-700':_0x2b89bc(0x7b0);_0x46989c+=_0x2b89bc(0x9d8),_0x46989c+=_0x2b89bc(0x5ce)+_0xd94942+_0x2b89bc(0x790)+_0x384f18+_0x2b89bc(0x9f5)+_0x5103bc+_0x2b89bc(0x1fe),_0x233d3a[_0x5103bc]['forEach'](_0x528777=>{const _0x25ec71=_0x2b89bc,_0x40955f=!!_0x528777['id'],_0x5c1e1e=_0x40955f?_0x25ec71(0x815)+_0x528777['id']+_0x25ec71(0x876)+_0x528777['id']+_0x25ec71(0x33e)+_0x528777['id']+_0x25ec71(0x381)+_0x528777['id']+_0x25ec71(0x765):'';_0x46989c+=_0x25ec71(0x878)+(_0x528777['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x528777[_0x25ec71(0x340)]+_0x25ec71(0x52b)+_0x528777[_0x25ec71(0x340)]+_0x25ec71(0x395)+(_0x40955f?_0x25ec71(0x9bc)+_0x528777[_0x25ec71(0x340)]+'\x22>':'')+_0x25ec71(0xa28)+_0x5c1e1e+_0x25ec71(0x4a9);}),_0x46989c+='</div>';}}_0xc7384d[_0x2b89bc(0x1bb)]=_0x46989c||_0x2b89bc(0x295),_0xc7384d[_0x2b89bc(0x400)](_0x2b89bc(0x8e7),updateSelectedTopicsCount),_0xc7384d[_0x2b89bc(0x908)](_0x2b89bc(0x8e7),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x48dd19,_0x4841ef){const _0x5f09e6=_0x3f08ea;if(!_0x48dd19||!_0x4841ef[_0x5f09e6(0x5d8)]()){showMessage(_0x5f09e6(0x846));return;}try{const _0x595be0=doc(db,_0x5f09e6(0x439)+appId+_0x5f09e6(0x3cf),_0x48dd19);await updateDoc(_0x595be0,{'name':_0x4841ef[_0x5f09e6(0x5d8)]()}),showMessage(_0x5f09e6(0x664));}catch(_0x4c4ce3){console[_0x5f09e6(0x183)](_0x5f09e6(0x156),_0x4c4ce3),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x57bf2b,_0x35fe0b){const _0xdabb5e=_0x3f08ea;if(!_0x57bf2b)return;const _0x24aae2=_0x57bf2b[_0xdabb5e(0x497)]('.topic-name-display'),_0x6e010f=_0x57bf2b[_0xdabb5e(0x497)]('.topic-name-input'),_0x445ab3=_0x57bf2b[_0xdabb5e(0x497)](_0xdabb5e(0x8c3)),_0x2bae30=_0x57bf2b[_0xdabb5e(0x497)](_0xdabb5e(0x15c));_0x24aae2['classList'][_0xdabb5e(0x13f)](_0xdabb5e(0x66d),_0x35fe0b),_0x6e010f[_0xdabb5e(0x67e)][_0xdabb5e(0x13f)](_0xdabb5e(0x66d),!_0x35fe0b),_0x445ab3[_0xdabb5e(0x67e)][_0xdabb5e(0x13f)](_0xdabb5e(0x66d),_0x35fe0b),_0x2bae30[_0xdabb5e(0x67e)][_0xdabb5e(0x13f)]('hidden',!_0x35fe0b),_0x35fe0b&&(_0x6e010f['focus'](),_0x6e010f['select']());}async function handleStartLiveRace(_0x4e89f9){const _0x35f6cc=_0x3f08ea;let _0x353e0f=allQuizzes[_0x35f6cc(0x270)](_0x4f2e6f=>_0x4f2e6f['id']===_0x4e89f9);if(!_0x353e0f){const _0x527039=doc(db,_0x35f6cc(0x439)+appId+'/public/data/quizzes',_0x4e89f9),_0x399628=await getDoc(_0x527039);if(!_0x399628[_0x35f6cc(0x905)]()){showMessage(_0x35f6cc(0xa37));return;}_0x353e0f={'id':_0x399628['id'],..._0x399628[_0x35f6cc(0x612)]()};}const _0x320061=getShuffledQuiz(_0x353e0f);currentQuizData=_0x320061;const _0x5d3992=_0x353e0f[_0x35f6cc(0x6ec)]||currentProjectId||null,_0x29fb7a=Math[_0x35f6cc(0x5fa)](0x3e8+Math['random']()*0x2328)[_0x35f6cc(0x999)]();currentLiveGamePin=_0x29fb7a;try{const _0x30005f=await addDoc(collection(db,'artifacts/'+appId+_0x35f6cc(0x7bb)),{'quizId':_0x4e89f9,'projectId':_0x5d3992,'status':_0x35f6cc(0x838),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x29fb7a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x320061});currentLiveGameId=_0x30005f['id'],showAdminLobbyView(_0x29fb7a,_0x353e0f[_0x35f6cc(0x994)]),listenForLiveGameUpdates();}catch(_0x15b28b){console[_0x35f6cc(0x183)](_0x35f6cc(0x9b6),_0x15b28b),showMessage(_0x35f6cc(0x434));}}function updateSelectedTopicsCount(){const _0x4a6f4b=_0x3f08ea,_0xeb4f1c=document[_0x4a6f4b(0x274)](_0x4a6f4b(0x860)),_0x5a37cf=_0xeb4f1c[_0x4a6f4b(0x591)](_0x4a6f4b(0x9c6))[_0x4a6f4b(0x31f)],_0x47f1f6=document['getElementById'](_0x4a6f4b(0x382));_0x5a37cf>0x0?_0x47f1f6[_0x4a6f4b(0x7b7)]='(เลือกแล้ว\x20'+_0x5a37cf+'\x20หัวข้อ)':_0x47f1f6['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3f08ea(0x351),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x3f08ea(0x8aa),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3f08ea(0xaa0),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5368b1,_0x534032){const _0x23c4a2=_0x3f08ea;return Math[_0x23c4a2(0xad6)](Math['pow'](_0x5368b1['x']-_0x534032['x'],0x2)+Math[_0x23c4a2(0x5ed)](_0x5368b1['y']-_0x534032['y'],0x2));}function getMidpoint(_0x414b30,_0x83d9fe){return{'x':(_0x414b30['x']+_0x83d9fe['x'])/0x2,'y':(_0x414b30['y']+_0x83d9fe['y'])/0x2};}function getTransformedPoint(_0x24922c,_0x37f7ec){return{'x':(_0x24922c-scratchpadOffset['x'])/scratchpadScale,'y':(_0x37f7ec-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xaf416d=_0x3f08ea;if(!scratchpadCtx)return;const _0x48bd1a=scratchpadCtx[_0xaf416d(0x308)],_0x15c951=window['devicePixelRatio']||0x1,_0x1e5015=document[_0xaf416d(0x274)](_0xaf416d(0x44c));_0x1e5015&&(_0x1e5015[_0xaf416d(0x55d)][_0xaf416d(0x3df)]=_0xaf416d(0xa78),_0x1e5015[_0xaf416d(0x55d)][_0xaf416d(0x1b2)]=_0xaf416d(0xaf5)+scratchpadOffset['x']+_0xaf416d(0x737)+scratchpadOffset['y']+_0xaf416d(0xa2a)+scratchpadScale+')'),scratchpadCtx[_0xaf416d(0x8cb)](),scratchpadCtx['setTransform'](_0x15c951,0x0,0x0,_0x15c951,0x0,0x0),scratchpadCtx[_0xaf416d(0x78b)](0x0,0x0,_0x48bd1a['width'],_0x48bd1a[_0xaf416d(0x67c)]),scratchpadCtx['restore'](),scratchpadCtx[_0xaf416d(0x8cb)](),scratchpadCtx[_0xaf416d(0x734)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0xaf416d(0x61a)](scratchpadScale,scratchpadScale),strokes[_0xaf416d(0x232)](_0x5b7e6e=>{drawStroke(_0x5b7e6e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0xaf416d(0x1a5)]();}function renderGroupModeQuestion(){const _0x55f478=_0x3f08ea;if(localQuestionIndex>=currentQuizData[_0x55f478(0x2bb)][_0x55f478(0x31f)]){displayTeamQuizFinalResults();return;}const _0x3b25ac=currentQuizData[_0x55f478(0x2bb)][localQuestionIndex],_0x3406fd=_0x3b25ac['questionType']||currentQuizData[_0x55f478(0x641)];let _0x14f910=_0x3b25ac[_0x55f478(0x353)]||_0x3b25ac[_0x55f478(0x81a)],_0x528737='';switch(_0x3406fd){case'multiple_choice':case _0x55f478(0x361):_0x528737=_0x3b25ac[_0x55f478(0xaee)][_0x55f478(0x743)]((_0x569070,_0x540000)=>_0x55f478(0x4b2)+_0x540000+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x540000+_0x55f478(0x5b4)+_0x540000+'\x22>'+_0x569070+_0x55f478(0x821))['join']('');break;case _0x55f478(0x8bf):_0x528737=_0x55f478(0x18c);break;case _0x55f478(0x15d):case _0x55f478(0x66c):_0x528737=_0x55f478(0x960);break;case _0x55f478(0x466):_0x528737=_0x55f478(0x9a7)+_0x3b25ac[_0x55f478(0x378)]['map'](_0x8014b6=>_0x55f478(0x943)+_0x8014b6+'\x22>'+_0x8014b6+_0x55f478(0x7d2))[_0x55f478(0xaad)]('')+_0x55f478(0x4bd);break;default:_0x528737=_0x55f478(0x56f);break;}studentQuizArea[_0x55f478(0x1bb)]=_0x55f478(0x627)+(localQuestionIndex+0x1)+_0x55f478(0x1fd)+currentQuizData['questions'][_0x55f478(0x31f)]+_0x55f478(0x569)+localTeamPlayers[_0x55f478(0xaad)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x14f910+_0x55f478(0x304)+(_0x3b25ac[_0x55f478(0xaa5)]?_0x55f478(0x62b)+_0x3b25ac[_0x55f478(0xaa5)]+_0x55f478(0x601):'')+_0x55f478(0x6cd)+_0x528737+_0x55f478(0x7cd),studentQuizArea['classList']['remove']('hidden');if(window[_0x55f478(0x13c)])MathJax[_0x55f478(0x4db)]([studentQuizArea]);document[_0x55f478(0x274)](_0x55f478(0x985))[_0x55f478(0x908)](_0x55f478(0x405),handleGroupAnswerSubmit);}function handlePointerDown(_0x5802df){const _0x5266b4=_0x3f08ea;_0x5802df[_0x5266b4(0x18f)]();const _0x570a81=scratchpadCtx[_0x5266b4(0x308)],_0x19c1b4=_0x570a81[_0x5266b4(0x636)](),_0x3b193d=_0x5802df[_0x5266b4(0x5e7)]||(_0x5802df['touches']?_0x5266b4(0x3bc):_0x5266b4(0x927));if(_0x3b193d===_0x5266b4(0x82f)||_0x3b193d===_0x5266b4(0x927)){if(_0x5802df[_0x5266b4(0x5e7)]===_0x5266b4(0x927)&&_0x5802df[_0x5266b4(0x490)]!==0x0){_0x5802df[_0x5266b4(0x490)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5802df['clientX'],'y':_0x5802df['clientY']},_0x570a81[_0x5266b4(0x55d)][_0x5266b4(0x5fd)]=_0x5266b4(0x3a7));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xac882f=getTransformedPoint(_0x5802df['clientX']-_0x19c1b4[_0x5266b4(0x411)],_0x5802df['clientY']-_0x19c1b4[_0x5266b4(0x1f1)]);let _0xd4ece4={'tool':activeTool,'points':[_0xac882f]};if(activeTool===_0x5266b4(0x475))_0xd4ece4['color']=scratchpadHighlighterColor,_0xd4ece4[_0x5266b4(0x4c6)]=scratchpadHighlighterSize;else activeTool===_0x5266b4(0x879)?(_0xd4ece4[_0x5266b4(0x993)]=scratchpadPenColor,_0xd4ece4['size']=scratchpadPenSize):(_0xd4ece4['color']=scratchpadPenColor,_0xd4ece4[_0x5266b4(0x4c6)]=scratchpadPenSize);currentStroke=_0xd4ece4;}else _0x5802df[_0x5266b4(0x6b3)]&&(_0x5802df[_0x5266b4(0x6b3)][_0x5266b4(0x31f)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5802df[_0x5266b4(0x6b3)][0x0]['clientX'],'y':_0x5802df['touches'][0x0][_0x5266b4(0xab0)]},{'x':_0x5802df[_0x5266b4(0x6b3)][0x1][_0x5266b4(0x367)],'y':_0x5802df[_0x5266b4(0x6b3)][0x1][_0x5266b4(0xab0)]}),initialPinchDistance=getDistance({'x':_0x5802df[_0x5266b4(0x6b3)][0x0][_0x5266b4(0x367)],'y':_0x5802df[_0x5266b4(0x6b3)][0x0][_0x5266b4(0xab0)]},{'x':_0x5802df[_0x5266b4(0x6b3)][0x1][_0x5266b4(0x367)],'y':_0x5802df['touches'][0x1][_0x5266b4(0xab0)]})));}function animateTrail(){const _0x10f1b0=_0x3f08ea,_0x47f2e3=Date[_0x10f1b0(0x3f3)]();let _0x39ade0=![];for(let _0x643199=strokes[_0x10f1b0(0x31f)]-0x1;_0x643199>=0x0;_0x643199--){const _0x2d786f=strokes[_0x643199];if(_0x2d786f[_0x10f1b0(0x7c9)]==='trail'&&_0x2d786f[_0x10f1b0(0x79c)]){const _0x2ca7cc=_0x47f2e3-_0x2d786f['fadeStartTime'];_0x2ca7cc>=TRAIL_DURATION?strokes[_0x10f1b0(0x75b)](_0x643199,0x1):(_0x2d786f[_0x10f1b0(0x63a)]=0x1-_0x2ca7cc/TRAIL_DURATION,_0x39ade0=!![]);}}redrawScratchpad(),_0x39ade0?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1d671a){const _0x1efb1f=_0x3f08ea;if(!_0x1d671a||_0x1d671a[_0x1efb1f(0x169)][_0x1efb1f(0x31f)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x1efb1f(0x8b6)]=_0x1efb1f(0x951),scratchpadCtx[_0x1efb1f(0x8b1)]=_0x1efb1f(0x951);if(_0x1d671a[_0x1efb1f(0x7c9)]===_0x1efb1f(0x879)){const _0x3639a9=_0x1d671a[_0x1efb1f(0x4c6)]/scratchpadScale;scratchpadCtx[_0x1efb1f(0x8bb)]=_0x1d671a[_0x1efb1f(0x63a)]??0x1,scratchpadCtx[_0x1efb1f(0x136)]=_0x1efb1f(0x898),scratchpadCtx['shadowBlur']=_0x3639a9*0x3,scratchpadCtx[_0x1efb1f(0x991)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x1efb1f(0x933)]=_0x3639a9*2.5,scratchpadCtx[_0x1efb1f(0x244)](),scratchpadCtx[_0x1efb1f(0x55b)](_0x1d671a['points'][0x0]['x'],_0x1d671a[_0x1efb1f(0x169)][0x0]['y']);for(let _0x1e6af2=0x1;_0x1e6af2<_0x1d671a['points']['length']-0x1;_0x1e6af2++){const _0x37704a=getMidpoint(_0x1d671a['points'][_0x1e6af2],_0x1d671a['points'][_0x1e6af2+0x1]);scratchpadCtx[_0x1efb1f(0x360)](_0x1d671a['points'][_0x1e6af2]['x'],_0x1d671a[_0x1efb1f(0x169)][_0x1e6af2]['y'],_0x37704a['x'],_0x37704a['y']);}scratchpadCtx[_0x1efb1f(0x69c)](),scratchpadCtx[_0x1efb1f(0x136)]=_0x1efb1f(0x239),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x1efb1f(0x991)]=_0x1efb1f(0x90c),scratchpadCtx[_0x1efb1f(0x933)]=_0x3639a9,scratchpadCtx[_0x1efb1f(0x69c)](),scratchpadCtx[_0x1efb1f(0x2b7)]();}else{if(_0x1d671a[_0x1efb1f(0x7c9)]==='highlighter'){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x1efb1f(0x991)]=_0x1d671a['color'],scratchpadCtx[_0x1efb1f(0x933)]=_0x1d671a[_0x1efb1f(0x4c6)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x1efb1f(0x55b)](_0x1d671a[_0x1efb1f(0x169)][0x0]['x'],_0x1d671a['points'][0x0]['y']);for(let _0xaeea43=0x1;_0xaeea43<_0x1d671a[_0x1efb1f(0x169)][_0x1efb1f(0x31f)]-0x1;_0xaeea43++){const _0x33fdcd=getMidpoint(_0x1d671a['points'][_0xaeea43],_0x1d671a['points'][_0xaeea43+0x1]);scratchpadCtx[_0x1efb1f(0x360)](_0x1d671a[_0x1efb1f(0x169)][_0xaeea43]['x'],_0x1d671a['points'][_0xaeea43]['y'],_0x33fdcd['x'],_0x33fdcd['y']);}scratchpadCtx[_0x1efb1f(0x69c)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x1efb1f(0x840)]=_0x1d671a[_0x1efb1f(0x7c9)]===_0x1efb1f(0x5f1)?'destination-out':_0x1efb1f(0x9b3),scratchpadCtx[_0x1efb1f(0x991)]=_0x1d671a[_0x1efb1f(0x993)],scratchpadCtx['lineWidth']=_0x1d671a[_0x1efb1f(0x4c6)],scratchpadCtx[_0x1efb1f(0x244)](),scratchpadCtx[_0x1efb1f(0x55b)](_0x1d671a[_0x1efb1f(0x169)][0x0]['x'],_0x1d671a['points'][0x0]['y']);for(let _0x18414f=0x1;_0x18414f<_0x1d671a[_0x1efb1f(0x169)][_0x1efb1f(0x31f)]-0x1;_0x18414f++){const _0x17b8dc=getMidpoint(_0x1d671a[_0x1efb1f(0x169)][_0x18414f],_0x1d671a[_0x1efb1f(0x169)][_0x18414f+0x1]);scratchpadCtx[_0x1efb1f(0x360)](_0x1d671a[_0x1efb1f(0x169)][_0x18414f]['x'],_0x1d671a[_0x1efb1f(0x169)][_0x18414f]['y'],_0x17b8dc['x'],_0x17b8dc['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x1efb1f(0x2b7)]();}}scratchpadCtx[_0x1efb1f(0x1a5)]();}function handlePointerMove(_0x579616){const _0x4d33ef=_0x3f08ea;_0x579616[_0x4d33ef(0x18f)]();const _0x12f260=scratchpadCtx['canvas'],_0x3685bc=_0x12f260[_0x4d33ef(0x636)]();if(_0x579616[_0x4d33ef(0x6b3)]){if(_0x579616[_0x4d33ef(0x6b3)][_0x4d33ef(0x31f)]===0x1&&isDrawingOnScratchpad){const _0x11c252=getTransformedPoint(_0x579616['touches'][0x0][_0x4d33ef(0x367)]-_0x3685bc['left'],_0x579616[_0x4d33ef(0x6b3)][0x0][_0x4d33ef(0xab0)]-_0x3685bc[_0x4d33ef(0x1f1)]);currentStroke['points'][_0x4d33ef(0xa97)](_0x11c252),redrawScratchpad();}else{if(_0x579616['touches'][_0x4d33ef(0x31f)]===0x2&&isPanning){const _0x17bf2c=getDistance({'x':_0x579616[_0x4d33ef(0x6b3)][0x0][_0x4d33ef(0x367)],'y':_0x579616[_0x4d33ef(0x6b3)][0x0][_0x4d33ef(0xab0)]},{'x':_0x579616[_0x4d33ef(0x6b3)][0x1][_0x4d33ef(0x367)],'y':_0x579616[_0x4d33ef(0x6b3)][0x1][_0x4d33ef(0xab0)]}),_0x21a822=getMidpoint({'x':_0x579616['touches'][0x0][_0x4d33ef(0x367)],'y':_0x579616[_0x4d33ef(0x6b3)][0x0][_0x4d33ef(0xab0)]},{'x':_0x579616[_0x4d33ef(0x6b3)][0x1][_0x4d33ef(0x367)],'y':_0x579616[_0x4d33ef(0x6b3)][0x1]['clientY']}),_0x743f6f=_0x17bf2c/ initialPinchDistance,_0xa87395=Math['min'](Math[_0x4d33ef(0x1f0)](scratchpadScale*_0x743f6f,MIN_SCALE),MAX_SCALE),_0x148887=_0x21a822['x']-panStart['x'],_0x4f6ee2=_0x21a822['y']-panStart['y'];scratchpadOffset['x']=_0x21a822['x']-(_0x21a822['x']-scratchpadOffset['x'])*(_0xa87395/scratchpadScale),scratchpadOffset['y']=_0x21a822['y']-(_0x21a822['y']-scratchpadOffset['y'])*(_0xa87395/scratchpadScale),scratchpadOffset['x']+=_0x148887,scratchpadOffset['y']+=_0x4f6ee2,scratchpadScale=_0xa87395,initialPinchDistance=_0x17bf2c,panStart=_0x21a822,redrawScratchpad();}}}else{if(isMousePanning){const _0x5aebc5=_0x579616['clientX']-panStart['x'],_0x445c4d=_0x579616[_0x4d33ef(0xab0)]-panStart['y'];scratchpadOffset['x']+=_0x5aebc5,scratchpadOffset['y']+=_0x445c4d,panStart={'x':_0x579616[_0x4d33ef(0x367)],'y':_0x579616[_0x4d33ef(0xab0)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2d2479=getTransformedPoint(_0x579616['clientX']-_0x3685bc[_0x4d33ef(0x411)],_0x579616[_0x4d33ef(0xab0)]-_0x3685bc[_0x4d33ef(0x1f1)]);currentStroke['points']['push'](_0x2d2479),redrawScratchpad();}}}}function handlePointerUp(_0x6d800c){const _0xfbe164=_0x3f08ea;_0x6d800c[_0xfbe164(0x18f)]();const _0x44d53e=scratchpadCtx[_0xfbe164(0x308)];isMousePanning&&(isMousePanning=![],_0x44d53e[_0xfbe164(0x55d)]['cursor']=_0xfbe164(0x83e)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xfbe164(0x169)][_0xfbe164(0x31f)]>0x1&&(strokes['push'](currentStroke),currentStroke['tool']===_0xfbe164(0x879)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x417b16=_0xfbe164,_0x3715f5=strokes['filter'](_0xc7910c=>_0xc7910c[_0x417b16(0x7c9)]===_0x417b16(0x879)&&!_0xc7910c[_0x417b16(0x79c)]);if(_0x3715f5[_0x417b16(0x31f)]>0x0){const _0x51be96=Date[_0x417b16(0x3f3)]();_0x3715f5['forEach'](_0x1c0b63=>_0x1c0b63['fadeStartTime']=_0x51be96),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x71d1ec){const _0x53b23d=_0x3f08ea;_0x71d1ec['preventDefault']();const _0xb121e3=_0x71d1ec[_0x53b23d(0x841)]*-0.005,_0x4b66a3=Math['min'](Math[_0x53b23d(0x1f0)](scratchpadScale+_0xb121e3,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x71d1ec['clientX']-(_0x71d1ec[_0x53b23d(0x367)]-scratchpadOffset['x'])*(_0x4b66a3/scratchpadScale),scratchpadOffset['y']=_0x71d1ec[_0x53b23d(0xab0)]-(_0x71d1ec['clientY']-scratchpadOffset['y'])*(_0x4b66a3/scratchpadScale),scratchpadScale=_0x4b66a3,redrawScratchpad();}function undo(){const _0x10f7aa=_0x3f08ea;strokes[_0x10f7aa(0x31f)]>0x0&&(redoStrokes[_0x10f7aa(0xa97)](strokes[_0x10f7aa(0xa74)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x409fd5=_0x3f08ea;redoStrokes['length']>0x0&&(strokes[_0x409fd5(0xa97)](redoStrokes[_0x409fd5(0xa74)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4259e7=_0x3f08ea;document[_0x4259e7(0x274)](_0x4259e7(0x563))[_0x4259e7(0x5a2)]=strokes[_0x4259e7(0x31f)]===0x0,document[_0x4259e7(0x274)](_0x4259e7(0x54c))[_0x4259e7(0x5a2)]=redoStrokes[_0x4259e7(0x31f)]===0x0;}function openScratchpad(_0x58c059,_0x5d1fc7){const _0x32b563=_0x3f08ea,_0x19fab9=document[_0x32b563(0x274)](_0x32b563(0x558)),_0x2de8a2=document[_0x32b563(0x274)]('scratchpad-question'),_0x783de4=document['getElementById'](_0x32b563(0x49d)),_0x19bcc2=document['getElementById'](_0x32b563(0x623));_0x2de8a2[_0x32b563(0x1bb)]=_0x58c059['stem']||_0x58c059[_0x32b563(0x81a)],_0x783de4[_0x32b563(0x1bb)]=_0x5d1fc7[_0x32b563(0x743)]((_0x37b109,_0x33396d)=>'<div>'+String[_0x32b563(0x8d7)](0x41+_0x33396d)+'.\x20'+_0x37b109+_0x32b563(0x601))[_0x32b563(0xaad)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x19fab9[_0x32b563(0x67e)][_0x32b563(0xaa2)](_0x32b563(0x66d)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x32b563(0x13c)])MathJax[_0x32b563(0x4db)]([_0x2de8a2,_0x783de4]);}function initializeScratchpadCanvas(){const _0x21ead9=_0x3f08ea,_0x1a2ced=document[_0x21ead9(0x274)]('scratchpad-canvas'),_0x2fa567=document[_0x21ead9(0x497)](_0x21ead9(0x91d));if(!_0x1a2ced||!_0x2fa567)return;scratchpadCtx=_0x1a2ced[_0x21ead9(0xa41)]('2d',{'willReadFrequently':!![]});const _0x105753=window['devicePixelRatio']||0x1,_0xd0940d=_0x2fa567['getBoundingClientRect']();_0x1a2ced[_0x21ead9(0x8f9)]=_0xd0940d[_0x21ead9(0x8f9)]*_0x105753,_0x1a2ced[_0x21ead9(0x67c)]=_0xd0940d[_0x21ead9(0x67c)]*_0x105753,_0x1a2ced['style'][_0x21ead9(0x8f9)]=_0xd0940d['width']+'px',_0x1a2ced[_0x21ead9(0x55d)]['height']=_0xd0940d['height']+'px',scratchpadCtx['scale'](_0x105753,_0x105753),scratchpadCtx['lineJoin']=_0x21ead9(0x951),scratchpadCtx['lineCap']='round',_0x1a2ced[_0x21ead9(0x400)]('pointerdown',handlePointerDown),_0x1a2ced['removeEventListener'](_0x21ead9(0x521),handlePointerMove),_0x1a2ced['removeEventListener'](_0x21ead9(0x37e),handlePointerUp),_0x1a2ced[_0x21ead9(0x400)]('pointercancel',handlePointerUp),_0x1a2ced[_0x21ead9(0x400)](_0x21ead9(0x8db),handleWheel),_0x1a2ced[_0x21ead9(0x400)](_0x21ead9(0xae7),handlePointerDown),_0x1a2ced['removeEventListener'](_0x21ead9(0x427),handlePointerMove),_0x1a2ced['removeEventListener'](_0x21ead9(0x3f9),handlePointerUp),_0x1a2ced[_0x21ead9(0x908)](_0x21ead9(0x3e9),handlePointerDown),_0x1a2ced[_0x21ead9(0x908)](_0x21ead9(0x521),handlePointerMove),_0x1a2ced[_0x21ead9(0x908)]('pointerup',handlePointerUp),_0x1a2ced[_0x21ead9(0x908)]('pointercancel',handlePointerUp),_0x1a2ced[_0x21ead9(0x908)]('wheel',handleWheel,{'passive':![]}),_0x1a2ced['addEventListener'](_0x21ead9(0xae7),handlePointerDown,{'passive':![]}),_0x1a2ced[_0x21ead9(0x908)]('touchmove',handlePointerMove,{'passive':![]}),_0x1a2ced[_0x21ead9(0x908)](_0x21ead9(0x3f9),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2b2539=_0x3f08ea,_0x343dee=document[_0x2b2539(0x274)](_0x2b2539(0x558)),_0x173fee=document[_0x2b2539(0x274)]('scratchpad-controls');_0x173fee[_0x2b2539(0x1bb)]=_0x2b2539(0x199)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3d533a=document[_0x2b2539(0x274)](_0x2b2539(0x8b0)),_0x3c0fb9=document['getElementById'](_0x2b2539(0xa8c)),_0x9570bf=document[_0x2b2539(0x274)]('trail-tool-btn'),_0x1919ec=document['getElementById'](_0x2b2539(0x916)),_0x354c9f=document[_0x2b2539(0x274)](_0x2b2539(0x833)),_0xd1cd76=document[_0x2b2539(0x274)]('highlighter-tools-group'),_0x4d92ca=[_0x3d533a,_0x3c0fb9,_0x9570bf,_0x1919ec];document[_0x2b2539(0x274)](_0x2b2539(0x2d6))[_0x2b2539(0x908)]('click',()=>_0x343dee['classList'][_0x2b2539(0x677)](_0x2b2539(0x66d))),document[_0x2b2539(0x274)](_0x2b2539(0x781))[_0x2b2539(0x908)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2b2539(0x274)]('scratchpad-clear-btn')[_0x2b2539(0x908)](_0x2b2539(0x405),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2b2539(0x274)](_0x2b2539(0x563))[_0x2b2539(0x908)](_0x2b2539(0x405),undo),document[_0x2b2539(0x274)](_0x2b2539(0x54c))[_0x2b2539(0x908)](_0x2b2539(0x405),redo);const _0x56b40f=_0x355ae4=>{const _0x3ce3eb=_0x2b2539;_0x4d92ca[_0x3ce3eb(0x232)](_0x485938=>_0x485938[_0x3ce3eb(0x67e)]['remove'](_0x3ce3eb(0x415))),_0x355ae4[_0x3ce3eb(0x67e)][_0x3ce3eb(0x677)](_0x3ce3eb(0x415));const _0x909479=_0x355ae4===_0x1919ec;_0x354c9f[_0x3ce3eb(0x67e)][_0x3ce3eb(0x13f)]('hidden',_0x909479),_0xd1cd76[_0x3ce3eb(0x67e)][_0x3ce3eb(0x13f)](_0x3ce3eb(0x66d),!_0x909479);};_0x3d533a[_0x2b2539(0x908)]('click',()=>{const _0x185fac=_0x2b2539;activeTool=_0x185fac(0x82f),_0x56b40f(_0x3d533a);}),_0x3c0fb9[_0x2b2539(0x908)]('click',()=>{const _0x5c121f=_0x2b2539;activeTool=_0x5c121f(0x5f1),_0x56b40f(_0x3c0fb9);}),_0x9570bf[_0x2b2539(0x908)]('click',()=>{const _0x45fa0b=_0x2b2539;activeTool=_0x45fa0b(0x879),_0x56b40f(_0x9570bf);}),_0x1919ec[_0x2b2539(0x908)]('click',()=>{const _0x1a071e=_0x2b2539;activeTool=_0x1a071e(0x475),_0x56b40f(_0x1919ec);}),_0x354c9f[_0x2b2539(0x591)]('.pen-size-btn')[_0x2b2539(0x232)](_0x2815c9=>{const _0x5d1bce=_0x2b2539;_0x2815c9[_0x5d1bce(0x908)](_0x5d1bce(0x405),_0x4386dc=>{const _0x4a835f=_0x5d1bce;scratchpadPenSize=parseInt(_0x4386dc[_0x4a835f(0x1e0)][_0x4a835f(0x145)][_0x4a835f(0x4c6)],0xa),_0x354c9f[_0x4a835f(0x591)]('.pen-size-btn')['forEach'](_0x484c3b=>_0x484c3b['classList'][_0x4a835f(0xaa2)](_0x4a835f(0x415))),_0x4386dc[_0x4a835f(0x1e0)][_0x4a835f(0x67e)]['add'](_0x4a835f(0x415));});}),_0x354c9f[_0x2b2539(0x591)]('.pen-color-btn')['forEach'](_0x3ef095=>{const _0x5c7481=_0x2b2539;_0x3ef095[_0x5c7481(0x908)]('click',_0x110f8b=>{const _0x3c24d7=_0x5c7481;scratchpadPenColor=_0x110f8b['target'][_0x3c24d7(0x145)][_0x3c24d7(0x993)],_0x354c9f[_0x3c24d7(0x591)]('.pen-color-btn')[_0x3c24d7(0x232)](_0x3e28f7=>_0x3e28f7['classList'][_0x3c24d7(0xaa2)](_0x3c24d7(0x415))),_0x110f8b[_0x3c24d7(0x1e0)][_0x3c24d7(0x67e)][_0x3c24d7(0x677)]('active');});}),_0xd1cd76['querySelectorAll'](_0x2b2539(0xa00))['forEach'](_0x1cdb91=>{const _0x312faa=_0x2b2539;_0x1cdb91['addEventListener'](_0x312faa(0x405),_0x377ed8=>{const _0x7802d0=_0x312faa;scratchpadHighlighterColor=_0x377ed8[_0x7802d0(0x1e0)][_0x7802d0(0x145)][_0x7802d0(0x993)],_0xd1cd76[_0x7802d0(0x591)](_0x7802d0(0xa00))[_0x7802d0(0x232)](_0x5831e6=>_0x5831e6[_0x7802d0(0x67e)]['remove'](_0x7802d0(0x415))),_0x377ed8[_0x7802d0(0x1e0)]['classList'][_0x7802d0(0x677)](_0x7802d0(0x415));});});const _0x10b78d=document[_0x2b2539(0x274)](_0x2b2539(0x3fb)),_0x58c899=document[_0x2b2539(0x274)](_0x2b2539(0x948));_0x10b78d[_0x2b2539(0x908)]('input',_0x46cf81=>{const _0x10914b=_0x2b2539,_0x9a7563=parseInt(_0x46cf81[_0x10914b(0x1e0)]['value'],0xa);scratchpadHighlighterSize=_0x9a7563,_0x58c899['textContent']=_0x9a7563;}),window[_0x2b2539(0x908)](_0x2b2539(0x5c2),()=>{const _0x3d1bb7=_0x2b2539;!_0x343dee['classList'][_0x3d1bb7(0x88b)](_0x3d1bb7(0x66d))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3f08ea(0x954),'name':_0x3f08ea(0x13e),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x3f08ea(0x30f)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x3f08ea(0x44b),'name':_0x3f08ea(0x77a),'description':_0x3f08ea(0x6dc),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x3f08ea(0x235),'name':_0x3f08ea(0x1c8),'description':_0x3f08ea(0x231),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x3f08ea(0x853),'name':_0x3f08ea(0x629),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x3f08ea(0x710)},'SPECIALIST':{'id':_0x3f08ea(0x1bc),'name':_0x3f08ea(0x227),'description':_0x3f08ea(0x691),'icon':_0x3f08ea(0x2db)},'PERSEVERANCE':{'id':_0x3f08ea(0x5a9),'name':_0x3f08ea(0x94b),'description':_0x3f08ea(0x689),'icon':_0x3f08ea(0x357)}},firebaseConfig={'apiKey':_0x3f08ea(0x337),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x3f08ea(0x1e5),'storageBucket':_0x3f08ea(0x66a),'messagingSenderId':_0x3f08ea(0x773),'appId':_0x3f08ea(0x8a9),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x3f08ea(0x639),adminView=document['getElementById'](_0x3f08ea(0x3b6)),studentView=document['getElementById'](_0x3f08ea(0x709)),projectDashboardView=document[_0x3f08ea(0x274)](_0x3f08ea(0x732)),projectDetailView=document[_0x3f08ea(0x274)]('project-detail-view'),quizResultsView=document[_0x3f08ea(0x274)](_0x3f08ea(0x638)),projectList=document[_0x3f08ea(0x274)](_0x3f08ea(0x1e4)),noProjectsMsg=document[_0x3f08ea(0x274)](_0x3f08ea(0x16a)),projectTitle=document[_0x3f08ea(0x274)](_0x3f08ea(0x4a1)),projectIdDisplay=document[_0x3f08ea(0x274)](_0x3f08ea(0x644)),studentList=document[_0x3f08ea(0x274)](_0x3f08ea(0x6e0)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x3f08ea(0x355)),createProjectModal=document['getElementById'](_0x3f08ea(0x90d)),adminPasswordModal=document['getElementById'](_0x3f08ea(0x796)),confirmationModal=document[_0x3f08ea(0x274)](_0x3f08ea(0x603)),userIdDisplay=document[_0x3f08ea(0x274)](_0x3f08ea(0x7c5)),topicTab=document[_0x3f08ea(0x274)](_0x3f08ea(0x299)),textTab=document[_0x3f08ea(0x274)](_0x3f08ea(0x81e)),topicInputArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x90b)),textInputArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x96e)),manageTab=document['getElementById'](_0x3f08ea(0x767)),resultsTab=document[_0x3f08ea(0x274)](_0x3f08ea(0x729)),leaderboardTab=document[_0x3f08ea(0x274)](_0x3f08ea(0x5b7)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x3f08ea(0x274)]('results-tab-content'),leaderboardTabContent=document[_0x3f08ea(0x274)](_0x3f08ea(0x8b2)),projectQuizzesList=document[_0x3f08ea(0x274)](_0x3f08ea(0x190)),fileTab=document['getElementById'](_0x3f08ea(0x1f8)),fileInputArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x3d4)),fileUploadInput=document[_0x3f08ea(0x274)](_0x3f08ea(0x68a)),worksheetTab=document['getElementById'](_0x3f08ea(0x2b4)),worksheetInputArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x3dd)),generateWorksheetBtn=document[_0x3f08ea(0x274)](_0x3f08ea(0x8ea)),studentInitialView=document[_0x3f08ea(0x274)](_0x3f08ea(0x229)),studentNameSelectionView=document[_0x3f08ea(0x274)](_0x3f08ea(0x1ad)),studentQuizArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x3e5)),studentResultArea=document['getElementById'](_0x3f08ea(0x363)),studentReadingArea=document[_0x3f08ea(0x274)](_0x3f08ea(0x650)),loadQuizBtn=document[_0x3f08ea(0x274)](_0x3f08ea(0xaf0)),startQuizBtn=document[_0x3f08ea(0x274)](_0x3f08ea(0x8cf)),studentJoinGameView=document[_0x3f08ea(0x274)](_0x3f08ea(0x354)),presentationModal=document[_0x3f08ea(0x274)](_0x3f08ea(0x28c)),renameQuizModal=document['getElementById'](_0x3f08ea(0x889)),moveQuizModal=document['getElementById'](_0x3f08ea(0x5d5)),quizSettingsModal=document[_0x3f08ea(0x274)](_0x3f08ea(0x73c)),quizStatusModal=document[_0x3f08ea(0x274)](_0x3f08ea(0x444)),liveGameView=document[_0x3f08ea(0x274)](_0x3f08ea(0x4a3));function handleAutoFixLatex(){const _0x5eba08=_0x3f08ea,_0x3060ae=document['getElementById'](_0x5eba08(0x20f))||document,_0x8a301e=_0x3060ae[_0x5eba08(0x591)](['textarea',_0x5eba08(0x6d7),_0x5eba08(0x1db),_0x5eba08(0x6bb),_0x5eba08(0x59b),_0x5eba08(0x14e),_0x5eba08(0x503),_0x5eba08(0x5a6),_0x5eba08(0x924)]['join'](','));let _0x1d778d=0x0;const _0xd62c97=_0x20e0da=>_0x5eba08(0x303)in _0x20e0da?String(_0x20e0da[_0x5eba08(0x303)]):_0x20e0da[_0x5eba08(0x1d5)]!==undefined?_0x20e0da[_0x5eba08(0x1d5)]:_0x20e0da[_0x5eba08(0x7b7)]||'',_0x5ad35e=(_0x372f5c,_0x3a7985)=>{const _0x3f160b=_0x5eba08;if(_0x3f160b(0x303)in _0x372f5c){_0x372f5c[_0x3f160b(0x303)]=_0x3a7985;return;}if(_0x372f5c[_0x3f160b(0x497)]&&_0x372f5c['querySelector'](_0x3f160b(0x918)))return;if(_0x372f5c['innerText']!==undefined)_0x372f5c[_0x3f160b(0x1d5)]=_0x3a7985;else _0x372f5c[_0x3f160b(0x7b7)]=_0x3a7985;},_0x3e7619=_0xdef691=>_0xdef691[_0x5eba08(0x5ac)](/\u00A0/g,'\x20')[_0x5eba08(0x5ac)](/\u200B/g,'')[_0x5eba08(0x5ac)](/\r\n?/g,'\x0a'),_0x30185f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x9e5c2d=_0x24d009=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x5eba08(0x5c8)](_0x24d009),_0xf54c43=_0x25062f=>{const _0x22ecf2=_0x5eba08,_0xc7c3cc=(_0x25062f[_0x22ecf2(0x4bc)](/\{/g)||[])[_0x22ecf2(0x31f)],_0x49de56=(_0x25062f[_0x22ecf2(0x4bc)](/\}/g)||[])['length'];if(_0xc7c3cc>_0x49de56)_0x25062f=_0x25062f+'}'[_0x22ecf2(0x817)](_0xc7c3cc-_0x49de56);return _0x25062f;},_0x155f7e=_0x47fc11=>{const _0x3afebd=_0x5eba08;let _0x2fa910=_0x47fc11[_0x3afebd(0x5d8)]();const _0x10f4a9=[_0x3afebd(0x499),_0x3afebd(0x912),_0x3afebd(0x89d),_0x3afebd(0xad6),_0x3afebd(0x8bd),'times',_0x3afebd(0x864),_0x3afebd(0x27c),_0x3afebd(0xa32),_0x3afebd(0x8e2),'le','ge',_0x3afebd(0x8fb),'pm',_0x3afebd(0x72c),'sin','cos','tan','log','ln',_0x3afebd(0xa19),'prod',_0x3afebd(0xa92),_0x3afebd(0x411),'right',_0x3afebd(0xabb),_0x3afebd(0x1b5),'circ',_0x3afebd(0x428)];_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](new RegExp(_0x3afebd(0x77b)+_0x10f4a9[_0x3afebd(0xaad)]('|')+_0x3afebd(0xa85),'g'),'\x5c'),_0x10f4a9[_0x3afebd(0x232)](_0x5f17d5=>{const _0x2e5c45=_0x3afebd;_0x2fa910=_0x2fa910[_0x2e5c45(0x5ac)](new RegExp(_0x2e5c45(0x443)+_0x5f17d5+'\x5cb','g'),(_0x12a965,_0x532f2c)=>_0x532f2c+'\x5c'+_0x5f17d5);});const _0x35ba9a=[[/×/g,_0x3afebd(0x1c1)],[/·/g,'\x5ccdot'],[/÷/g,_0x3afebd(0x799)],[/≤/g,_0x3afebd(0x5ef)],[/≥/g,_0x3afebd(0x165)],[/≠/g,_0x3afebd(0x53e)],[/±/g,'\x5cpm'],[/∑/g,_0x3afebd(0x18d)],[/−/g,'-']];_0x35ba9a[_0x3afebd(0x232)](([_0xf9866e,_0x4bae4d])=>{const _0x313884=_0x3afebd;_0x2fa910=_0x2fa910[_0x313884(0x5ac)](_0xf9866e,_0x4bae4d);}),_0x2fa910=_0x2fa910['replace'](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/√\s*([A-Za-z0-9]+)/g,_0x3afebd(0xa9b)),_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/(^|[^\\])\bimes\b/g,_0x3afebd(0x60b))[_0x3afebd(0x5ac)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x3afebd(0x5cc))['replace'](/(^|[^\\])ext\{/g,_0x3afebd(0x5e8))[_0x3afebd(0x5ac)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x3afebd(0x5ac)](/\\text\(([^)]*)\)/g,_0x3afebd(0x76b))[_0x3afebd(0x5ac)](/\s\\frac/g,_0x3afebd(0xae2)),_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x29726d,_0x314544,_0x45e290,_0xf204c8)=>_0x314544+_0x3afebd(0xa3c)+_0x45e290+'}{'+_0xf204c8+'}'),_0x2fa910=_0x2fa910['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3afebd(0x8b5))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3afebd(0x8b5))[_0x3afebd(0x5ac)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3afebd(0x8b5)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3afebd(0x99e)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x3afebd(0x99e)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x3afebd(0x99e)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x3afebd(0x99e)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x3afebd(0x99e)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x3afebd(0x7fc)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x3afebd(0x99e)]][_0x3afebd(0x232)](([_0x247ff8,_0x41de65])=>{const _0x320c7d=_0x3afebd;_0x2fa910=_0x2fa910[_0x320c7d(0x5ac)](_0x247ff8,_0x41de65);}),_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/(\d+)\s*%/g,_0x3afebd(0x307)),_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3afebd(0x446))[_0x3afebd(0x5ac)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3afebd(0x51d))[_0x3afebd(0x5ac)](/\{\{([^\{\}]+)\}\}/g,_0x3afebd(0x57f)),['sin','cos',_0x3afebd(0xaf3),_0x3afebd(0xa09),'ln'][_0x3afebd(0x232)](_0x32f1bd=>{const _0xdaecd5=_0x3afebd;_0x2fa910=_0x2fa910[_0xdaecd5(0x5ac)](new RegExp(_0xdaecd5(0x443)+_0x32f1bd+_0xdaecd5(0x9e8),'g'),(_0x3dbc07,_0x46746d)=>_0x46746d+'\x5c'+_0x32f1bd+'(');});const _0x34f6a4=(_0x2fa910[_0x3afebd(0x4bc)](/\\left\b/g)||[])[_0x3afebd(0x31f)],_0x4edd5a=(_0x2fa910['match'](/\\right\b/g)||[])[_0x3afebd(0x31f)];if(_0x34f6a4!==_0x4edd5a)_0x2fa910=_0x2fa910[_0x3afebd(0x5ac)](/\\left\b/g,'')[_0x3afebd(0x5ac)](/\\right\b/g,'');return _0x2fa910=_0xf54c43(_0x2fa910),_0x2fa910;},_0x14843f=_0x3fc206=>{const _0x52d8f9=_0x5eba08;if(/\$|\\\(|\\\[/[_0x52d8f9(0x5c8)](_0x3fc206))return _0x3fc206;if(!_0x30185f['test'](_0x3fc206))return _0x3fc206;const _0x200e8f=_0x3fc206[_0x52d8f9(0x4bc)](/^\s*/)[0x0],_0x2db350=_0x3fc206['match'](/\s*$/)[0x0],_0x35e209=_0x3fc206[_0x52d8f9(0x5d8)]();return _0x200e8f+'$'+_0x155f7e(_0x35e209)+'$'+_0x2db350;},_0x2f533e=_0x911f68=>_0x911f68[_0x5eba08(0x72a)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x8a301e['forEach'](_0x4d24a6=>{const _0x106e12=_0x5eba08;if(_0x4d24a6[_0x106e12(0x497)]&&_0x4d24a6[_0x106e12(0x497)](_0x106e12(0x918)))return;const _0x2fce67=_0xd62c97(_0x4d24a6);let _0x1cc11c=_0x3e7619(_0x2fce67);_0x1cc11c=_0x1cc11c[_0x106e12(0x5ac)](/\$\$([\s\S]*?)\$\$/g,(_0x49e4a0,_0x3cfb3c)=>'$$'+_0x155f7e(_0x3cfb3c)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x441ce9,_0x592a12)=>'$'+_0x155f7e(_0x592a12)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x41344c,_0x3807e6)=>'\x5c('+_0x155f7e(_0x3807e6)+'\x5c)')[_0x106e12(0x5ac)](/\\\[([\s\S]*?)\\\]/g,(_0x1195bb,_0x43092b)=>'\x5c['+_0x155f7e(_0x43092b)+'\x5c]');let _0x196ad3=_0x1cc11c,_0x566e53=0x0;const _0x456472=_0x4c91ea=>_0x4c91ea[_0x106e12(0x5ac)](/S([^S]{0,2000}?)S/g,(_0x24d199,_0x1b34bb)=>_0x30185f['test'](_0x1b34bb)?'$'+_0x155f7e(_0x1b34bb)+'$':_0x24d199);while(_0x566e53++<0x14){const _0x3a5a51=_0x456472(_0x196ad3);if(_0x3a5a51===_0x196ad3)break;_0x196ad3=_0x3a5a51;}_0x1cc11c=_0x196ad3,_0x1cc11c=_0x1cc11c['split']('\x0a')[_0x106e12(0x743)](_0x249b28=>{const _0x2bbe27=_0x106e12;if(!(/[,\u3001，;；]/['test'](_0x249b28)||/\s(?:และ|หรือ)\s/[_0x2bbe27(0x5c8)](_0x249b28))||!_0x30185f[_0x2bbe27(0x5c8)](_0x249b28))return _0x249b28;return _0x2f533e(_0x249b28)[_0x2bbe27(0x743)](_0x20978f=>{const _0x56f8df=_0x2bbe27;if(/^\s(?:และ|หรือ)\s$/['test'](_0x20978f)||/^[,\u3001，;；]$/[_0x56f8df(0x5c8)](_0x20978f))return _0x20978f;return _0x14843f(_0x20978f);})[_0x2bbe27(0xaad)]('');})['join']('\x0a'),_0x1cc11c=_0x1cc11c[_0x106e12(0x72a)]('\x0a')[_0x106e12(0x743)](_0x1f4d99=>{const _0x3c989a=_0x106e12,_0x3577be=_0x1f4d99[_0x3c989a(0x5d8)]();if(!_0x3577be)return _0x1f4d99;const _0x1474d3=/\$|\\\(|\\\[/[_0x3c989a(0x5c8)](_0x3577be),_0x33ecd3=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x3577be);if(_0x1474d3||!_0x33ecd3||_0x9e5c2d(_0x3577be))return _0x1f4d99;return _0x1f4d99[_0x3c989a(0x5ac)](_0x3577be,'$'+_0x155f7e(_0x3577be)+'$');})['join']('\x0a'),_0x1cc11c=_0x1cc11c[_0x106e12(0x5ac)](/(\d+)\s*°\s*C\b/g,(_0x25b83d,_0xe7d734,_0x426480,_0x24cd19)=>{const _0x20d35e=_0x106e12,_0x3e3ce9=_0x24cd19[_0x426480-0x1];if(_0x3e3ce9==='$'||_0x3e3ce9==='S'||_0x3e3ce9==='\x5c')return _0x25b83d;return'$'+_0xe7d734+_0x20d35e(0x139);})[_0x106e12(0x5ac)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x485788,_0x37c053,_0x5e7c36,_0x7ad607)=>{const _0x10fbca=_0x106e12,_0x572e92=_0x7ad607[_0x5e7c36-0x1];if(_0x572e92==='$'||_0x572e92==='S'||_0x572e92==='\x5c')return _0x485788;return'$'+_0x37c053+_0x10fbca(0x139);})[_0x106e12(0x5ac)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x2e5cb4,_0xdd82ec,_0x584b33,_0x49902d)=>{const _0x5075b4=_0x49902d[_0x584b33-0x1];if(_0x5075b4==='$'||_0x5075b4==='S'||_0x5075b4==='\x5c')return _0x2e5cb4;return'$'+_0xdd82ec+'^{\x5ccirc}\x5ctext{C}$';}),_0x1cc11c=_0x1cc11c[_0x106e12(0x5ac)](/\$\s*\$/g,'$$'),_0x1cc11c!==_0x2fce67&&(_0x5ad35e(_0x4d24a6,_0x1cc11c),_0x1d778d++);});if(_0x1d778d>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x1d778d+_0x5eba08(0x272));try{if(window[_0x5eba08(0x13c)]&&MathJax[_0x5eba08(0x4db)])MathJax[_0x5eba08(0x4db)]();window[_0x5eba08(0x4ad)]&&typeof renderMathInElement===_0x5eba08(0x19c)&&renderMathInElement(_0x3060ae,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0xeaaffe){}}else showMessage(_0x5eba08(0x9ce));}async function listenForCustomMathTopics(){const _0x9afe63=_0x3f08ea,_0x59ba84=collection(db,_0x9afe63(0x439)+appId+_0x9afe63(0x3cf));onSnapshot(_0x59ba84,_0x21d3ca=>{const _0x18c042=_0x9afe63;customMathTopics=_0x21d3ca[_0x18c042(0x971)][_0x18c042(0x743)](_0x2b7e98=>({'id':_0x2b7e98['id'],..._0x2b7e98['data']()})),renderTopicCheckboxes();},_0x13e4a0=>{const _0xb60265=_0x9afe63;console[_0xb60265(0x183)](_0xb60265(0x343),_0x13e4a0);});}function handleSelectAllTopics(){const _0x29c7f=_0x3f08ea,_0x3b5670=document[_0x29c7f(0x274)](_0x29c7f(0x860)),_0x5398a1=_0x3b5670[_0x29c7f(0x591)](_0x29c7f(0xa66));_0x5398a1[_0x29c7f(0x232)](_0x1e68a6=>{_0x1e68a6['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3585a7=_0x3f08ea,_0x18d841=document[_0x3585a7(0x274)](_0x3585a7(0x860)),_0x24b250=_0x18d841['querySelectorAll'](_0x3585a7(0xa66));_0x24b250[_0x3585a7(0x232)](_0x16ce26=>{_0x16ce26['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4fd243){const _0x2cde24=_0x3f08ea;if(!_0x4fd243)return;try{const _0x5d658e=doc(db,_0x2cde24(0x439)+appId+'/public/data/customMathTopics',_0x4fd243);await deleteDoc(_0x5d658e),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x5c6d27){console[_0x2cde24(0x183)](_0x2cde24(0x210),_0x5c6d27),showMessage(_0x2cde24(0xabc));}}async function handleAddCustomMathTopic(){const _0x4c628d=_0x3f08ea,_0x102be9=document[_0x4c628d(0x274)](_0x4c628d(0x236)),_0x23dd8c=_0x102be9['value'][_0x4c628d(0x5d8)]();if(!_0x23dd8c){showMessage(_0x4c628d(0x7a7));return;}if(!userId){showMessage(_0x4c628d(0x90e));return;}try{const _0x3f7e63=collection(db,_0x4c628d(0x439)+appId+_0x4c628d(0x3cf));await addDoc(_0x3f7e63,{'name':_0x23dd8c,'createdAt':serverTimestamp()}),_0x102be9['value']='',showMessage(_0x4c628d(0x920)+_0x23dd8c+_0x4c628d(0x377));}catch(_0x5014f7){console[_0x4c628d(0x183)](_0x4c628d(0x3ac),_0x5014f7),showMessage(_0x4c628d(0x798));}}async function handleUpdateOldQuizzes(){const _0x1fa467=_0x3f08ea;showConfirmation(_0x1fa467(0x396),async()=>{const _0x1793ce=_0x1fa467,_0x376f2a=document[_0x1793ce(0x274)](_0x1793ce(0x7ad)),_0x41cc58=document[_0x1793ce(0x274)](_0x1793ce(0x94a)),_0x4a899e=_0x41cc58[_0x1793ce(0x7b7)];_0x376f2a[_0x1793ce(0x67e)][_0x1793ce(0xaa2)](_0x1793ce(0x66d)),_0x41cc58[_0x1793ce(0x7b7)]=_0x1793ce(0x956);try{const _0x5bba7c=collection(db,_0x1793ce(0x439)+appId+'/public/data/quizzes'),_0x38121d=await getDocs(_0x5bba7c);if(_0x38121d[_0x1793ce(0x48a)]){showMessage(_0x1793ce(0x941));return;}const _0x4bf7d1=writeBatch(db);let _0x693569=0x0;_0x38121d[_0x1793ce(0x232)](_0x22e7bb=>{const _0x59a021=_0x1793ce,_0x551f08=_0x22e7bb[_0x59a021(0x612)](),_0x10cc06=_0x22e7bb['id'];if(_0x551f08[_0x59a021(0x2bb)]&&_0x551f08[_0x59a021(0x2bb)][_0x59a021(0x31f)]>0x0&&!_0x551f08[_0x59a021(0x2bb)][0x0][_0x59a021(0x184)]('id')){console[_0x59a021(0xa09)](_0x59a021(0x925)+_0x10cc06+'\x20('+_0x551f08[_0x59a021(0x994)]+')'),_0x693569++;const _0x499ad0=_0x551f08[_0x59a021(0x2bb)][_0x59a021(0x743)]((_0x393efa,_0x3adcda)=>{const _0xcb649e=_0x59a021;return{..._0x393efa,'id':_0x393efa['id']||'q_'+Date[_0xcb649e(0x3f3)]()+'_'+_0x10cc06+'_'+_0x3adcda};}),_0x30f0f7=doc(db,'artifacts/'+appId+_0x59a021(0x5e9),_0x10cc06);_0x4bf7d1[_0x59a021(0xa7d)](_0x30f0f7,{'questions':_0x499ad0});}}),_0x693569>0x0?(_0x41cc58[_0x1793ce(0x7b7)]=_0x1793ce(0x80d)+_0x693569+_0x1793ce(0x2d7),await _0x4bf7d1['commit'](),showMessage(_0x1793ce(0x463)+_0x693569+_0x1793ce(0x73a))):showMessage(_0x1793ce(0x42b));}catch(_0x7f2354){console[_0x1793ce(0x183)](_0x1793ce(0x96c),_0x7f2354),showMessage(_0x1793ce(0x533)+_0x7f2354[_0x1793ce(0x75c)]);}finally{_0x376f2a[_0x1793ce(0x67e)]['add'](_0x1793ce(0x66d)),_0x41cc58[_0x1793ce(0x7b7)]=_0x4a899e;}});}async function handleBulkUpdateQuizSettings(){const _0x501367=_0x3f08ea,_0x116560={'shuffle':document[_0x501367(0x274)](_0x501367(0x990))[_0x501367(0x303)],'resultsDisplay':document['getElementById'](_0x501367(0x31d))[_0x501367(0x303)],'loopUntilPass':document['getElementById'](_0x501367(0x6ed))['checked'],'isConfidenceScoringEnabled':document[_0x501367(0x274)](_0x501367(0xada))[_0x501367(0x835)],'confidenceMode':document[_0x501367(0x274)]('bulk-confidence-mode-select')[_0x501367(0x303)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x41e78d=await getDocs(collection(db,_0x501367(0x439)+appId+'/public/data/quizzes')),_0x11ffb0=_0x41e78d[_0x501367(0x971)]['map'](_0x321812=>({'id':_0x321812['id'],'data':_0x321812[_0x501367(0x612)]()})),_0x25724c=_0x11ffb0[_0x501367(0x31f)];showConfirmation(_0x501367(0x996)+_0x25724c+_0x501367(0x4d7),async()=>{const _0xc38406=_0x501367,_0x2c8982=document[_0xc38406(0x274)](_0xc38406(0x97d));_0x2c8982[_0xc38406(0x5a2)]=!![],_0x2c8982[_0xc38406(0x1bb)]=_0xc38406(0x92e);try{const _0x5727ff=writeBatch(db);_0x11ffb0[_0xc38406(0x232)](_0x23f025=>{const _0x18bebc=_0xc38406,_0x554775=doc(db,_0x18bebc(0x439)+appId+'/public/data/quizzes',_0x23f025['id']),_0xcb3d23={..._0x23f025[_0x18bebc(0x612)][_0x18bebc(0x921)]||{},..._0x116560};_0x5727ff[_0x18bebc(0xa7d)](_0x554775,{'settings':_0xcb3d23});}),await _0x5727ff[_0xc38406(0x296)](),document['getElementById'](_0xc38406(0x5d0))[_0xc38406(0x67e)][_0xc38406(0x677)]('hidden'),showMessage(_0xc38406(0x4c5)+_0x25724c+_0xc38406(0x7f2));}catch(_0x2d7cb9){console[_0xc38406(0x183)](_0xc38406(0x60e),_0x2d7cb9),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x2c8982[_0xc38406(0x5a2)]=![],_0x2c8982[_0xc38406(0x1bb)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x517d5d){console['error'](_0x501367(0x6d2),_0x517d5d),showMessage(_0x501367(0x583));}}async function handleSaveProjectName(){const _0x148f3b=_0x3f08ea,_0x23f2fb=document[_0x148f3b(0x274)](_0x148f3b(0x4a1)),_0x45c5de=document[_0x148f3b(0x274)](_0x148f3b(0x683)),_0x477bee=_0x23f2fb[_0x148f3b(0x7b7)]['trim']();if(!_0x477bee||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x23f2fb['textContent']=currentProjectData[_0x148f3b(0x3ad)];return;}_0x45c5de[_0x148f3b(0x5a2)]=!![],_0x45c5de['innerHTML']=_0x148f3b(0x534);try{const _0xdfd243=doc(db,'artifacts/'+appId+_0x148f3b(0x6ad),currentProjectId);await updateDoc(_0xdfd243,{'projectName':_0x477bee}),currentProjectData&&(currentProjectData[_0x148f3b(0x3ad)]=_0x477bee),showMessage(_0x148f3b(0x249));}catch(_0x5b26f2){console[_0x148f3b(0x183)](_0x148f3b(0x64c),_0x5b26f2),showMessage(_0x148f3b(0xa17)),_0x23f2fb[_0x148f3b(0x7b7)]=currentProjectData[_0x148f3b(0x3ad)];}finally{_0x45c5de[_0x148f3b(0x67e)][_0x148f3b(0x677)](_0x148f3b(0x66d)),_0x45c5de[_0x148f3b(0x5a2)]=![],_0x45c5de[_0x148f3b(0x1bb)]=_0x148f3b(0x1a9);}}async function initialize(){const _0x382f5f=_0x3f08ea;try{const _0x4b5251=initializeApp(firebaseConfig);db=getFirestore(_0x4b5251),auth=getAuth(_0x4b5251),setupAuthListener(),setupEventListeners(),showView(_0x382f5f(0x351)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x1636d5){console[_0x382f5f(0x183)](_0x382f5f(0x705),_0x1636d5),showMessage(_0x382f5f(0x2d1));}}async function handleVerifyAnswersInEditor(){const _0x506623=_0x3f08ea,_0x1fa960=document[_0x506623(0x274)](_0x506623(0x987));if(!_0x1fa960)return;const _0x44d084=document[_0x506623(0x274)](_0x506623(0x7b3));_0x44d084[_0x506623(0x5a2)]=!![],_0x44d084[_0x506623(0x1bb)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x281889=_0x1fa960[_0x506623(0x591)](_0x506623(0x98d)),_0x1f6aff=Array[_0x506623(0x5bc)](_0x281889)['map']((_0x2285f5,_0x42073f)=>{const _0x495269=_0x506623,_0x128636=_0x2285f5['dataset'][_0x495269(0x8e8)],_0x5ec53f=_0x2285f5['querySelector'](_0x495269(0x153))[_0x495269(0x303)];let _0x388271=null,_0x452f28='';switch(_0x128636){case _0x495269(0x622):const _0x44ede0=_0x2285f5[_0x495269(0x591)](_0x495269(0x6d7));_0x388271=Array[_0x495269(0x5bc)](_0x44ede0)['map'](_0xcd552f=>_0xcd552f[_0x495269(0x303)]);const _0x5e9bf6=_0x2285f5[_0x495269(0x497)](_0x495269(0x389));_0x5e9bf6&&(_0x452f28=_0x388271[parseInt(_0x5e9bf6[_0x495269(0x303)])]);break;case'short_answer':_0x452f28=_0x2285f5[_0x495269(0x497)](_0x495269(0xa56))[_0x495269(0x303)];break;case _0x495269(0x8bf):const _0x49f281=_0x2285f5[_0x495269(0x497)](_0x495269(0x389));_0x452f28=_0x49f281?_0x49f281['value']:'';break;case _0x495269(0x466):_0x452f28=_0x2285f5[_0x495269(0x497)](_0x495269(0xaf1))[_0x495269(0x303)];break;}return{'question':_0x5ec53f,'options':_0x388271,'proposedAnswer':_0x452f28};}),_0x135298=_0x506623(0x8c2)+JSON[_0x506623(0x65e)](_0x1f6aff)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5754e5={'type':_0x506623(0x1cf),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x506623(0x20d)},'isCorrect':{'type':_0x506623(0x2e9)},'justification':{'type':_0x506623(0x2a3)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x506623(0x774),_0x506623(0x3b7),_0x506623(0x7c7)]}},_0x448af9=await callAnalysisApi(_0x135298,{'type':_0x506623(0x6a6),'properties':{'result':_0x5754e5},'required':['result']});displayVerificationResultsInEditor(_0x448af9[_0x506623(0x87f)]);}catch(_0x32e2e5){console[_0x506623(0x183)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x32e2e5),showMessage(_0x506623(0x775));}finally{_0x44d084['disabled']=![],_0x44d084[_0x506623(0x1bb)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x5d2b4f){const _0x1ad4bd=_0x3f08ea;_0x5d2b4f['forEach'](_0x28b230=>{const _0xd79753=_0x1cca,_0x135ac0=document[_0xd79753(0x497)]('.question-editor-item[data-q-index=\x22'+_0x28b230[_0xd79753(0x774)]+'\x22]');if(!_0x135ac0)return;const _0x204c29=_0x135ac0[_0xd79753(0x497)](_0xd79753(0x1c3));if(_0x204c29)_0x204c29['remove']();let _0x12b1ec='';if(_0x28b230[_0xd79753(0x3b7)])_0x12b1ec=_0xd79753(0x7ea);else{const _0x1978cc=_0x28b230[_0xd79753(0x9da)]?_0xd79753(0x226):'';_0x12b1ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x1978cc+_0xd79753(0xa4f)+_0x28b230[_0xd79753(0x7c7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x28b230[_0xd79753(0x9da)]?_0xd79753(0x7cf)+_0x28b230[_0xd79753(0x9da)]+_0xd79753(0x1fe):'')+_0xd79753(0x1bf);}_0x135ac0['insertAdjacentHTML'](_0xd79753(0x1f7),_0x12b1ec);if(!_0x28b230[_0xd79753(0x3b7)]&&_0x28b230[_0xd79753(0x9da)]){const _0x14f9fa=_0x135ac0[_0xd79753(0x145)]['qType'],_0x2cb5f0=_0x4666bd=>{const _0x5e78ef=_0xd79753;if(!_0x4666bd)return;_0x4666bd['classList'][_0x5e78ef(0x677)](_0x5e78ef(0x213),_0x5e78ef(0x778),_0x5e78ef(0x96f)),setTimeout(()=>{const _0x440748=_0x5e78ef;_0x4666bd[_0x440748(0x67e)]['remove']('bg-green-200');},0x9c4);};if(_0x14f9fa===_0xd79753(0x622)){const _0x26481d=Array[_0xd79753(0x5bc)](_0x135ac0[_0xd79753(0x591)]('input[type=\x22text\x22]')),_0x17e34a=_0x26481d['findIndex'](_0x452dae=>_0x452dae['value'][_0xd79753(0x5d8)]()['toLowerCase']()===_0x28b230['suggestedAnswer'][_0xd79753(0x5d8)]()[_0xd79753(0x313)]());if(_0x17e34a!==-0x1){const _0x7d27ea=_0x135ac0[_0xd79753(0x497)](_0xd79753(0x32b)+_0x17e34a+'\x22]');_0x7d27ea&&(_0x7d27ea['checked']=!![],_0x2cb5f0(_0x7d27ea[_0xd79753(0x7b9)](_0xd79753(0x27c))));}}else{if(_0x14f9fa===_0xd79753(0x15d)||_0x14f9fa===_0xd79753(0x466)){const _0x6bfc8f=_0x135ac0[_0xd79753(0x497)](_0xd79753(0x4aa));_0x6bfc8f&&(_0x6bfc8f['value']=_0x28b230[_0xd79753(0x9da)],_0x2cb5f0(_0x6bfc8f));}else{if(_0x14f9fa===_0xd79753(0x8bf)){const _0x577247=_0x28b230[_0xd79753(0x9da)][_0xd79753(0x5d8)]()[_0xd79753(0x313)](),_0x44acf6=_0x135ac0[_0xd79753(0x497)](_0xd79753(0x32b)+_0x577247+'\x22]');_0x44acf6&&(_0x44acf6[_0xd79753(0x835)]=!![],_0x2cb5f0(_0x44acf6[_0xd79753(0x7b9)](_0xd79753(0x27c))));}}}}}),showMessage(_0x1ad4bd(0xa8e));}async function handleVerifyAnswers(){const _0x3a2e04=_0x3f08ea;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3a2e04(0x967));return;}const _0x75a821=document[_0x3a2e04(0x274)](_0x3a2e04(0xa77));_0x75a821[_0x3a2e04(0x5a2)]=!![],_0x75a821[_0x3a2e04(0x1bb)]=_0x3a2e04(0x1dd);try{const _0x5c2ad0=currentQuizData['questions'][_0x3a2e04(0x743)]((_0x22dc53,_0x586676)=>{const _0x54860c=_0x3a2e04;let _0x1f32e4='';const _0x598cf8=_0x22dc53['questionType']||currentQuizData['quizType'];switch(_0x598cf8){case'multiple_choice':_0x1f32e4=_0x22dc53[_0x54860c(0xaee)][_0x22dc53[_0x54860c(0x74e)]];break;case'short_answer':_0x1f32e4=_0x22dc53['idealAnswer'];break;case'true_false':_0x1f32e4=_0x22dc53[_0x54860c(0x26f)]['toString']();break;case _0x54860c(0x466):_0x1f32e4=_0x22dc53[_0x54860c(0x984)];break;}return{'question':_0x22dc53[_0x54860c(0x353)]||_0x22dc53[_0x54860c(0x81a)],'options':_0x22dc53[_0x54860c(0xaee)]||null,'proposedAnswer':_0x1f32e4};}),_0x514a33=_0x3a2e04(0x5b9)+JSON[_0x3a2e04(0x65e)](_0x5c2ad0)+_0x3a2e04(0x1a6),_0x19cdac={'type':_0x3a2e04(0x1cf),'items':{'type':_0x3a2e04(0x6a6),'properties':{'questionIndex':{'type':_0x3a2e04(0x20d)},'isCorrect':{'type':_0x3a2e04(0x2e9)},'justification':{'type':_0x3a2e04(0x2a3)},'suggestedAnswer':{'type':_0x3a2e04(0x2a3)}},'required':[_0x3a2e04(0x774),'isCorrect',_0x3a2e04(0x7c7)]}},_0x34e426=await callAnalysisApi(_0x514a33,{'type':_0x3a2e04(0x6a6),'properties':{'result':_0x19cdac},'required':['result']});displayVerificationResults(_0x34e426['result']);}catch(_0x4ae973){console[_0x3a2e04(0x183)](_0x3a2e04(0x5b3),_0x4ae973),showMessage(_0x3a2e04(0x775));}finally{_0x75a821[_0x3a2e04(0x5a2)]=![],_0x75a821[_0x3a2e04(0x1bb)]=_0x3a2e04(0x240);}}function _0x1cca(_0x337f15,_0xa813b4){const _0x34b280=_0x34b2();return _0x1cca=function(_0x1ccafa,_0x198a44){_0x1ccafa=_0x1ccafa-0x132;let _0x189b88=_0x34b280[_0x1ccafa];return _0x189b88;},_0x1cca(_0x337f15,_0xa813b4);}function displayVerificationResults(_0x4abd90){const _0x3d4ae9=_0x3f08ea;_0x4abd90[_0x3d4ae9(0x232)](_0x40d685=>{const _0x270c62=_0x3d4ae9,_0x5c8a76=document[_0x270c62(0x497)](_0x270c62(0x33d)+_0x40d685[_0x270c62(0x774)]+'\x22]');if(_0x5c8a76){const _0xf55c3a=_0x5c8a76['querySelector'](_0x270c62(0x93a));if(_0xf55c3a)_0xf55c3a[_0x270c62(0xaa2)]();let _0x104038='';_0x40d685[_0x270c62(0x3b7)]?_0x104038='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x104038='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x40d685[_0x270c62(0x7c7)]+_0x270c62(0xad5)+(_0x40d685[_0x270c62(0x9da)]?_0x270c62(0x7cf)+_0x40d685['suggestedAnswer']+_0x270c62(0x1fe):'')+_0x270c62(0x424),_0x5c8a76[_0x270c62(0x6e1)](_0x270c62(0x1f7),_0x104038);}}),showMessage(_0x3d4ae9(0xa8e));}function compareNumericalAnswers(_0x1c7e11,_0xd5e097){const _0x4f6cb7=_0x3f08ea,_0x5f22c8=String(_0x1c7e11)['replace'](',','.')[_0x4f6cb7(0x5ac)](/[^\d.-]/g,'')['trim'](),_0x603239=String(_0xd5e097)[_0x4f6cb7(0x5ac)](',','.')[_0x4f6cb7(0x5ac)](/[^\d.-]/g,'')[_0x4f6cb7(0x5d8)]();if(_0x5f22c8===''||_0x603239==='')return![];const _0x2b424e=parseFloat(_0x5f22c8),_0x3c5306=parseFloat(_0x603239);if(isNaN(_0x2b424e)||isNaN(_0x3c5306))return![];return Math['abs'](_0x2b424e-_0x3c5306)<0.001;}function isPotentiallyNumeric(_0x2b1551){const _0x19b47a=_0x3f08ea;if(typeof _0x2b1551!=='string'&&typeof _0x2b1551!==_0x19b47a(0x7a6))return![];const _0xf7d8bc=String(_0x2b1551)[_0x19b47a(0x5ac)](',','.')['trim']();return _0xf7d8bc!==''&&!isNaN(parseFloat(_0xf7d8bc))&&isFinite(_0xf7d8bc);}async function gradeShortAnswer(_0x5f0edc,_0x163420){const _0x3dc043=_0x3f08ea,_0xf39107=_0x163420[_0x3dc043(0x645)],_0x5a199e=String(_0x5f0edc)[_0x3dc043(0x5ac)](/\$/g,'')['trim'](),_0x19f810=String(_0xf39107)['replace'](/\$/g,'')['trim']();if(_0x5a199e[_0x3dc043(0x313)]()===_0x19f810[_0x3dc043(0x313)]())return!![];if(isPotentiallyNumeric(_0x5a199e)&&isPotentiallyNumeric(_0x19f810)){if(compareNumericalAnswers(_0x5a199e,_0x19f810))return!![];}return console[_0x3dc043(0xa09)](_0x3dc043(0x28e)),await gradeShortAnswerWithAI(_0x5f0edc,_0xf39107);}async function revealAnswerForAdmin(_0x716e04,_0x1ecf04){const _0x2a53dc=_0x3f08ea,_0x1e1c40=doc(db,_0x2a53dc(0x439)+appId+_0x2a53dc(0x7bb),currentLiveGameId);await updateDoc(_0x1e1c40,{'questionStatus':_0x2a53dc(0x3cb)});}function showTop5LeaderboardView(_0x1a718c){const _0x4a16d2=_0x3f08ea,_0x14b81f=Object[_0x4a16d2(0x237)](_0x1a718c['players']||{})[_0x4a16d2(0x30b)](_0x5f2169=>_0x5f2169['status']==='active');_0x14b81f['sort']((_0x29de0f,_0x1f6e8a)=>_0x1f6e8a[_0x4a16d2(0x7b8)]-_0x29de0f['score']);const _0x444bcd=_0x14b81f['slice'](0x0,0x5),_0x5def89='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x444bcd[_0x4a16d2(0x743)]((_0x381f67,_0x2a3a9d)=>_0x4a16d2(0x586)+(_0x2a3a9d+0x1)+'.\x20'+(_0x381f67[_0x4a16d2(0x340)]||Object[_0x4a16d2(0xa21)](_0x1a718c['players'])[_0x4a16d2(0x270)](_0x1f0e0e=>_0x1a718c[_0x4a16d2(0x896)][_0x1f0e0e]===_0x381f67))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x381f67[_0x4a16d2(0x7b8)]+_0x4a16d2(0x834))[_0x4a16d2(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a718c['currentQuestionIndex']+0x1===currentQuizData[_0x4a16d2(0x2bb)][_0x4a16d2(0x31f)]?'สรุปผลสุดท้าย':_0x4a16d2(0x9e1))+_0x4a16d2(0x4b5);liveGameView[_0x4a16d2(0x1bb)]=_0x5def89,document[_0x4a16d2(0x274)](_0x4a16d2(0x513))[_0x4a16d2(0x908)](_0x4a16d2(0x405),async()=>{const _0x207a6a=_0x4a16d2,_0x544837=doc(db,_0x207a6a(0x439)+appId+'/public/data/liveGames',currentLiveGameId),_0x210e8b=_0x1a718c[_0x207a6a(0x787)]+0x1;if(_0x210e8b<currentQuizData[_0x207a6a(0x2bb)][_0x207a6a(0x31f)]){const _0xa1107b={'currentQuestionIndex':_0x210e8b,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x207a6a(0x71a)};Object[_0x207a6a(0xa21)](_0x1a718c['players'])[_0x207a6a(0x232)](_0x31f205=>{const _0x515eab=_0x207a6a;_0xa1107b[_0x515eab(0x461)+_0x31f205+_0x515eab(0x35c)]=![];}),await updateDoc(_0x544837,_0xa1107b);}else await updateDoc(_0x544837,{'status':_0x207a6a(0x7b5)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x385257=>{const _0x44bcec=_0x1cca;if(_0x385257){userId=_0x385257[_0x44bcec(0x9dc)],userIdDisplay[_0x44bcec(0x7b7)]=userId;const _0xa0ec33=await loadUserPreferences();_0xa0ec33['projectSortOrder']&&(document[_0x44bcec(0x274)](_0x44bcec(0x233))[_0x44bcec(0x303)]=_0xa0ec33[_0x44bcec(0x203)]);globalDashboardSettings[_0x44bcec(0x680)]=_0xa0ec33[_0x44bcec(0x680)]||_0x44bcec(0x241);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x483798,_0x3cd8af){const _0x539ddb=_0x3f08ea;if(!userId)return;try{const _0x2b8c9c=doc(db,'artifacts/'+appId+'/users/'+userId+_0x539ddb(0x9d2)),_0x4367bb={};_0x4367bb[_0x483798]=_0x3cd8af,await setDoc(_0x2b8c9c,_0x4367bb,{'merge':!![]});}catch(_0x22db04){console[_0x539ddb(0x183)](_0x539ddb(0xa10),_0x22db04);}}function _0x34b2(){const _0x57a174=['ผ่าน','helvetica','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','eraser-tool-btn','.quiz-bank-settings-btn','ตรวจทานเฉลยเสร็จสิ้น!','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','#student-quiz-leaderboard-content\x20thead','binom','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','confirm-passcode-btn','<div\x20class=\x22space-y-4\x22>','push','some','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5csqrt{$1}','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','Error\x20saving\x20quiz\x20edits:','กรุณาเลือกสถานะ','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','rgba(255,\x20255,\x200,\x200.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','remove','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','results-quiz-id-display','imageCode','ส่วนเบี่ยงเบนเฉลี่ย','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','ไม่พบตารางสำหรับ\x20Export','keydown','สัญกรณ์วิทยาศาสตร์','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','join','confirm-team-players-btn','สร้างใหม่','clientY','Error\x20creating\x20project:','file-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','ความแปรปรวน','จำนวนและการดำเนินการ','ฟังก์ชันยกกำลัง','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','27411472','overline','เกิดข้อผิดพลาดในการลบหัวข้อ','.quiz-settings-btn','blueprint-tab','topic-input','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','Error\x20fetching\x20quiz\x20settings:','fixed','currentMode','export-pdf-modal','date_asc','per-question-text','blueprint-topics-list','finishReason','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','close-game-final-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','.generate-content-btn','gamePin','quiz-bank-modal','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','strength-weakness-analysis-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','live-race','submission','group','bulk-confidence-scoring-checkbox','leaderboard','กรุณาพิมพ์คำตอบ','\x22\x20name=\x22confidence','autoTable','getAttributeNS','scheduled_pending','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x5cfrac','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','Error\x20generating\x20teaching\x20content:','msExitFullscreen','title','touchstart','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ระยะทางและจุดกึ่งกลาง','readAsDataURL','link-topic-input','options','get','load-quiz-btn','.correct-response-input','mode','tan','team','translate(','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.duplicate-quiz-btn','shadowColor','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','choices_only','^{\x5ccirc}\x5ctext{C}$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปแต่ละหัวข้อให้สั้น\x20กระชับ\x20และเข้าใจง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ไม่ต้องใส่รหัสตัวชี้วัดหรือรายละเอียดปลีกย่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตอบกลับมาเป็น\x20JSON\x20array\x20ของ\x20string\x20เท่านั้น\x20โดยแต่ละ\x20string\x20คือชื่อหัวข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์ที่ต้องการ:\x20[\x22การบวก\x20ลบ\x20คูณ\x20หารระคน\x22,\x20\x22การเปรียบเทียบเศษส่วน\x22,\x20\x22โจทย์ปัญหาอัตราส่วนและร้อยละ\x22,\x20\x22ความยาวรอบรูปและพื้นที่ของวงกลม\x22]\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','MathJax','game-start-quiz-id','คะแนนเต็ม','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กรุณาใส่ชื่อนักเรียน','dataset','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','open-quiz-bank-btn','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','generated-quiz-container','lesson-plan-content','close-student-rankings-btn','label','lowerGroupResponders','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','textarea','ผู้ควบคุม\x20(ทดสอบ)','shuffle','Error\x20updating\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','cancel-bulk-quiz-settings-btn','.topic-actions-edit','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-name-input','generate-from-parallel-test-btn','delete','comparison-individual-tab','\x5cge','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','points','no-projects-msg','originalTopic','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','asc','การบวกทศนิยม','min','Error\x20processing\x20file\x20for\x20AI:','<p\x20class=\x22text-xl\x22>','\x20mb-2\x22>','display','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม!','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20\x20\x20-\x20','live-short-answer-input','\x20ใหม่...','ไม่สามารถเริ่มเกมได้','.confidence-choice-btn','error','hasOwnProperty','lowerGroupNames','latestSubmittedAt','removeChild','doughnut','student-quiz-topic','</span>','</td>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x5csum','shouldSaveResults','preventDefault','project-quizzes-list','ค่าคลาดเคลื่อนของการวัด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','close-presentation-btn','game-start-mode','enable-passcode-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','Failed\x20to\x20kick\x20player\x20','1155510YtDsHJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','admin-dashboard','text-gray-400\x20hover:text-indigo-600','function','fixedData','rgba(59,\x20130,\x20246,\x200.7)','#D1FAE5','Error\x20duplicating\x20quiz:','text-yellow-300','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','.csv','เกิดข้อผิดพลาดในการอ่านไฟล์','restore','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','เปลี่ยนชื่อแบบทดสอบสำเร็จ','.live-answer-btn,\x20#live-submit-short-answer-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','ฐานนิยม','อัตราส่วนและสัดส่วน','transform','Error\x20saving\x20project\x20order:','เกิดข้อผิดพลาดในการลบโปรเจค','underline','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','pin','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x201.\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x202.\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x203.\x20ตัวลวงทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผล\x204.\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ','innerHTML','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x5ctimes','API\x20call\x20failed','.verification-result-editor','ปิดใช้งาน','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.topic-name-input','ผ่านฉลุย','<div\x20id=\x22q-image-container-','ไม่มีผู้ตอบตัวเลือกนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','pre-test','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ความสัมพันธ์ของมุม','ARRAY','leaderboard-quiz','Error\x20saving\x20settings:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ห.ร.ม.\x20(GCD)','cancel-export-pdf-btn','innerText','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x22>จาก:\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','พื้นที่ผิวรูปทรงสามมิติ','<button\x20data-quiz-id=\x22','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','.summary-bar-item','project-list','ai-quiz-app-aefee','sync-short-answer-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.ai-fix-question-btn','รหัสไม่ถูกต้อง','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','max','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setAttribute','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','beforeend','file-tab','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','(ก่อนเรียน)\x20','file-topic-input','ลำดับเรขาคณิต\x20(GP)','\x20/\x20','</p>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','open-sync-scratchpad-btn','promptFeedback','กรุณาพิมพ์คำตอบของกลุ่ม','passcode','-\x20ข้อ\x20','bg-black/10','NUMBER','rgba(79,\x2070,\x20229,\x200.8)','quiz-editor-questions-container','Error\x20deleting\x20custom\x20topic:','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','bg-green-200','เนื้อหาสำหรับสอน:\x20','drop','progress-student-select','Error\x20pairing\x20quizzes:','hover:bg-indigo-100','teacherTips','scores','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','blockReason','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20submitting\x20group\x20answer:','questionId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','isPasscodeEnabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','Error\x20deleting\x20project:','progress-project-select','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ผู้เชี่ยวชาญ','\x203.\x20\x20**[กฎรูปแบบ]\x20','student-initial-view','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','ไม่มี','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ทำคะแนนเต็มในการทำครั้งแรก','forEach','project-sort-select','presentation-ai-result','first_try_ace','custom-math-topic-input','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','transparent','พบข้อสอบ\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','แคลคูลัสเบื้องต้น','sync-player-management','dashboardConfig','confirm-game-start-modal','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','grid','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','team-quiz-topic','beginPath','bestScore','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','answeredCurrentQuestion','เกิดข้อผิดพลาด:\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','confirm-not-confident','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','bg-green-100','per-question-timer-container','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','show_pass_fail_only','รากที่สองและที่สาม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','manage','ก่อนเรียน','หน่วยเวลาและการคำนวณเวลา','\x22><i\x20class=\x22fas\x20','fix\x20the\x20option','บันทึกการตั้งค่าแล้ว','cancel-admin-login-btn','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','copy','show_results_and_answers','/users/','หน่วยความยาวและการแปลง','\x20รายการ\x20สำเร็จ!','Error\x20saving\x20visibility\x20settings:','topics','bg-blue-100','ย้าย','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20กลุ่ม</p></div>','bg-green-500','Error\x20fetching\x20student\x20rankings:','stopPropagation','_blank','ref','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','text-gray-200','correctAnswer','find','Error\x20deleting\x20submission:','\x20ช่อง','จุด\x20เส้น\x20ระนาบ','getElementById','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ยังไม่ส่ง','แก้ไขข้อนี้','removeAttribute','modal-timer-mode-select','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','export-leaderboard-word-btn','div','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','border-green-700','input','solution','องค์ประกอบของฟังก์ชัน','entries','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ที่พิมพ์ได้\x20จำนวน\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','quiz','\x22\x20class=\x22pin-project-btn\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','slide-counter','presentation-modal','\x22.\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<div><input\x20type=\x22radio\x22\x20id=\x22q','sync-manage-players-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','86286UFwWjQ','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','commit','ความชันเส้นสัมผัส','เรขาคณิตวิเคราะห์','topic-tab','files','responses','cancel-passcode-btn','กำลังสร้างเนื้อหา:\x20','บันทึกการตั้งค่าสำเร็จ','ดอกเบี้ยทบต้น','stdDev','ไม่สามารถโหลดข้อมูลอันดับได้','text-green-700','STRING','/studentProfiles','fullscreenElement','wasConfident','pinned-items','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','isConfidenceScoringEnabled','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกมสิ้นสุดลงแล้ว','.submittedAt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','worksheet-tab','link-input-area','results-display-select','closePath','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','</p><p><strong>เฉลย:</strong>\x20','parse','questions','starred-project','ตัวประกอบและตัวประกอบเฉพาะ','draggable-text','border-red-300\x20bg-red-50','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','mousemove','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','Error\x20analyzing\x20file\x20for\x20topics:','hint','.lastAnswerIndex','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','next-sync-question-btn','create-from-bank-btn','<p\x20class=\x22','presentation-explanation','toFixed','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','student-name-select','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','แบบทดสอบซ่อมเสริม','Team\x20Quiz',',\x20r=','scratchpad-close-btn','\x20รายการ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','fa-user-astronaut\x20text-blue-700','Error\x20starting\x20group\x20quiz:','border-indigo-400\x20ring-2\x20ring-indigo-200','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','warn','ลำดับการดำเนินการ\x20(PEMDAS)','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','timerDuration','\x22\x20name=\x22question','#confidence-input-','false','กิจกรรมสิ้นสุดลงแล้ว','BOOLEAN','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','hint-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','behavior-log','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เปิดใช้งาน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','red','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20unpairing\x20quizzes:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','per-question-options','student-progress-view','[*]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','$1\x5c%','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','confidence-scoring-toggle','ดอทโปรดักต์\x20(dot)','question-complexity-select','fa-crown\x20text-yellow-500','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','toLowerCase','Error\x20saving\x20submission:','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','padStart','quiz-results','ระบบสมการเชิงเส้นสองตัวแปร','รอเปิด','setItem','bulk-results-display-select','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','length','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.mb-6.p-4',';\x22\x20data-id=\x22','findIndex','activeGameSession','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onchange','\x20ตัวเลือก.\x20','reduce','analytics-tab-btn','input[type=\x22radio\x22][value=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','application/json','date_desc','กราฟแท่ง\x20กราฟเส้น','copy-quiz-id-btn','text-red-800','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','text-indigo-800','gameData','.quiz-status-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','editable-quiz-topic','explanation','main-correct-answer-display','เกี่ยวกับหัวข้อ\x20\x22','อัตราการเปลี่ยนแปลงทันที','div[data-question-index=\x22','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Failed\x20to\x20create/update\x20submission\x20record:','name','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Error\x20listening\x20for\x20custom\x20math\x20topics:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','analyze-strengths-btn','projectSort','onclick','Error\x20committing\x20score\x20updates:',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','isRemedial','236625tbzIRx','ฮิสโตแกรม','stepByStepExamples','cancel-quiz-status-btn','sort','):\x20','student','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','stem','student-join-game-view','modal-message','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','fa-dumbbell\x20text-gray-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','กำลังดึงข้อมูลจากลิงก์...','.file-topic-selection-btn','.answeredCurrentQuestion','mixed','check-presentation-answer-btn','ส่งแล้ว','quadraticCurveTo','fill_in_with_choices','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','student-result-area','/public/data/learnedFixes','.question-editor-item[data-q-index=\x22','Leaderboard\x20update\x20transaction\x20failed:\x20','clientX','http://www.w3.org/2000/svg','tGain','save-quiz-edits-btn','</tr>','player-count','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','/public/data/teamQuizzes','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-6\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<svg','Sync\x20Mode','คำถามดิบ:\x20\x22','#6366F1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','allResponses','\x22\x20data-pre-test-id=\x22','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','correct','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','pointerup','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','<div\x20class=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','selected-topics-count','text-gray-500','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','student-project-leaderboard-table-body','Error\x20saving\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','input[type=\x22radio\x22]:checked','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','createdBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','start-game-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','confirm-global-live-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','เรขาคณิต','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','.generate-lesson-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-delete-btn','back-to-dashboard-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','Error\x20generating\x20from\x20blueprint:',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','grabbing','.quiz-bank-present-btn','ไม่ใช่','undefined','.doc','Error\x20adding\x20custom\x20topic:','projectName','results','learningGaps','manual_release','.live-answer-btn','flex\x20flex-col\x20gap-2','wakeLock','modal-confidence-mode-select','กฎบวกและกฎคูณ','admin-view','isCorrect','\x22\x20name=\x22team_answer\x22\x20value=\x22','insertBefore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','touch','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','การประยุกต์เวกเตอร์พื้นฐาน','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','border-gray-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','mode-switcher-btn','string','medium','close-comparison-modal-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','has','summary_chart','results_','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/customMathTopics','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','แบบทดสอบ:\x20','<li>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','```','bulk-confidence-mode-container','quizMode','confidence','worksheet-input-area','.quiz-bank-item','transformOrigin','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','อัปเดตพฤติกรรมสำหรับ\x20','far\x20fa-star','กรุณาเลือกโปรเจคที่ต้องการบันทึก','student-quiz-area','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','true','startedAt','pointerdown','end-sync-game-btn','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficulty-level-select','lastAnswerCorrect','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','now','force-math-checkbox','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','parallel-test-upload-input','ไม่พบข้อมูลเกม','touchend','countdown-display','highlighter-size-slider','สำหรับโปรเจค:\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','กำลังสร้างรูปภาพ...','คณิตการเงิน/บูรณาการ','removeEventListener','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeItem','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','click','retake-quiz-loop-btn','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-game-results-checkbox','/public/data/syncGames','write','กำลังอ่านและเตรียมไฟล์...','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','สรุปผลการวิเคราะห์:\x5cn','left','delete-svg-btn','สลับไปโหมดนักเรียน','เส้นจำนวน','active','Error\x20generating\x20hybrid\x20quiz:','student-progress-content','text/csv;charset=utf-8;','then','mousedown','286153oXPgKw','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','บันทึกผลการเล่นเกมของ\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','Error\x20updating\x20project\x20color:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','touchmove','deg','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','timer-duration-input','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','currentTarget','</p><div>','passcode-prompt-message','Error\x20confirming\x20players\x20for\x20sync\x20game:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20generating\x20lesson\x20plan:',':</span><span>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','postScore','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','hasPerfectScoreBonus','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','artifacts/','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','confidence-modal','upperGroupNames','presentation-scratchpad-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','(^|[^\x5c\x5c])\x5cb','quiz-status-modal','quiz-bank-count','$1^{$2}','ลบแบบทดสอบสำเร็จแล้ว','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','on_fire','scratchpad-header','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','text-red-600','player-list-lobby','.group','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','00:00','editable-text-','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#E0E7FF','\x20ข้อ\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','text-red-500\x20hover:text-red-700','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ลิมิต','players.','กรุณาใส่ชื่อโปรเจค','อัปเดตแบบทดสอบเก่า\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','matching_item','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','block','global-live-game-count','modal-loop-until-pass-checkbox','ย้ายแบบทดสอบสำเร็จ','raw','showRankings','student-team-join','#F3E8FF','question-analytics-container','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','highlighter','/public/data/projects/','student-team-selection-view','data:application/vnd.ms-word;charset=utf-8,','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','.kick-player-btn-sync','ควรปรับปรุง','แบบปรนัย\x204\x20ตัวเลือก','generate-from-text-btn','เกิดข้อผิดพลาดในการนำผู้เล่นออก','.move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toISOString','</div>\x0a</div>\x0a','เกิดข้อผิดพลาดในการปักหมุด','project-detail','เงินงวด\x20(อนุกรมเงินงวด)','ไม่พบข้อมูลการจับคู่','</th>','modal-timer-duration-input','Error\x20deleting\x20student:','empty','.isScored','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Error\x20renaming\x20quiz:','per-q-countdown','button','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x20คะแนน\x20','file-topics-list-container','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','endTime','team-player-status-grid','querySelector','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','frac','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','groups.','scratchpad-options','\x20ชุด)','cancel-quiz-bank-btn','.regenerate-question-editor-btn','project-title','manage-players-btn','live-game-view','\x22\x20value=\x22true\x22\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input,\x20.correct-response-input','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<span\x20class=\x22font-bold\x20','katex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','พบ\x20Sync\x20Game!','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','#e21b3c','onload','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20font-bold','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','include-images-checkbox','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','match','</select>','ระยะจากจุดถึงเส้นตรง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','.answered','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','size','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','text-green-800','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาดในการจับคู่','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','58530lzojvb','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','จากเนื้อหาต่อไปนี้:\x20\x22','check-answer-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','show-results-btn','.pair-quiz-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','typesetPromise','ไม่พบข้อมูลผู้ใช้','ตั้งเวลา\x20(เปิด)','1182570OqecPj','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','per_question','ไม่สามารถโหลดรายการโปรเจคได้','Error\x20updating\x20quiz\x20status:','live-game','font-bold\x20text-red-700\x20line-through','\x20คนที่ส่ง\x20ตอบถูก\x20(','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','AI\x20Formula\x20Fix\x20Error:','mean','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-container','attempts','.project-card-container:not(.opacity-50)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','questionType','\x20คู่\x20','both','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','Attempting\x20to\x20save\x20game\x20results...','cancel-test-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','submissions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','finished','createElementNS','.choice-text','comparison','answer','standardTopic','password-error-msg','bg-yellow-100','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Error\x20updating\x20pin\x20status:','\x22><span>','บันทึกการแก้ไข','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','Error\x20opening\x20quiz\x20editor:','confirm-rename-quiz-btn','generate-from-link-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','goto-next-question-btn','quiz-generation-area','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','original-mode-checkbox','msRequestFullscreen','เกิดข้อผิดพลาดในการติดดาว','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1_{$2}','สร้างคำถามแบบเติมคำในช่องว่าง','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointermove','บันทึกแบบทดสอบสำเร็จแล้ว!','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','rows','end-game-btn','Copy\x20command\x20failed','_opt','position','global-quiz-list','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','มุมและการวัดมุม','modal-confidence-scoring-checkbox','อัตราและอัตราหน่วย','bar','ไม่พบเอกสารการส่งงานของ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','lesson-plan-title','Failed\x20to\x20resume\x20game\x20session:','การเรียงสับเปลี่ยน\x20(Permutation)','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','การปัดเศษและประมาณค่า','baseVal','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x20ข้อ...','live-player-management','ค.ร.น.\x20(LCM)','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-tutor-pdf-btn','results-quiz-title','No\x20player\x20data\x20to\x20save.','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</strong></p>','-tab-content','redo-btn','ความชันและเส้นตรง','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ความเป็นอิสระของเหตุการณ์','json','หน่วยมวล/น้ำหนักและการแปลง','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','classWeaknesses','join-group-activity-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','.compare-results-btn','scratchpad-modal','ทฤษฎีทวินาม\x20(เบื้องต้น)','isArray','moveTo','projectOrder','style','ถูก','<p><strong>คำตอบของคุณ:</strong>\x20','mouseleave','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','undo-btn','cancel-delete-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','team-student-list','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</body></html>','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','<h1></h1>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','.delete-project-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','generate-from-topic-btn','กำลังจับคู่...','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-summary-cards','prev-question-btn','thead\x20.sortable-header','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','parallel-test-tab','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','{$1}','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','q-image-container-','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','/public/data/quizzes/','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการบันทึกลำดับ','results-table-container','(ไม่มีชื่อ)','whole_quiz','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','คัดลอกแบบทดสอบสำเร็จ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','ข้อที่\x20','querySelectorAll','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','เกิดข้อผิดพลาดในการเปลี่ยนสี','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','.status','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','การวัด','.ql-editor','jspdf','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ฟังก์ชันราก\x20(root)','ความคาดหมาย\x20(Expected\x20value)','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','disabled','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','lesson-plan-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.option-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','perseverance','blueprint-input-area','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','replace','.png','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','starred','lower_group_count','bg-red-200\x20text-red-800','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20verifying\x20answers:','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','destroy','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','$$$1$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','total','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','from','comparison-overall-content','standard','live-options-container','#student-project-leaderboard-content\x20thead','</span></div>','resize','การลบ','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','timed','สถิติและความน่าจะเป็น','test','focus','student-project-leaderboard-tab','\x20คะแนน</span></div>','$1\x5cfrac','answer-counter','<p\x20class=\x22font-bold\x20text-sm\x20','scrollY','bulk-quiz-settings-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','submit','เมทริกซ์:\x20บวก/คูณ','getBBox','move-quiz-modal','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','trim','delete-all-students-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.edit-question-btn','adaptive-quiz-checkbox','</span></td>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','ระบบอสมการ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','element','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','setAttributeNS','pointerType','$1\x5ctext{','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','pow','generate-from-blueprint-btn','\x5cle','select-all-topics-btn','eraser','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','border-red-700','download','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','text-yellow-800','floor','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','.delete-student-btn','cursor','เกิดข้อผิดพลาดในการลบนักเรียน','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ไม่มีคำอธิบาย','</div>','ตรีโกณมิติ','confirmation-modal','user','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','separate-by-content-checkbox','.rename-quiz-btn','พบ\x20Team\x20Quiz!','confirmation-message','\x20pointer-events-none\x22>','$1\x5ctimes','quick_thinker','เกิดข้อผิดพลาดในการส่งคำตอบ','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','</div><div\x20class=\x22space-y-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','line-through\x20text-red-700','data','isPinned','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','promise','scale','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','svg','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','multiple_choice','scratchpad-controls','-tab','slice','postTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','quizId','ราชาคัมแบ็ก','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ไม่ได้ตอบ','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','ฟังก์ชันผกผัน','สมการเชิงเส้นตัวแปรเดียว','\x20mx-1\x20text-lg\x22></i></span>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','bg-green-50','สร้างแบบทดสอบปรนัย','includes','บันทึกคำถามใหม่\x20','getBoundingClientRect','</button>','quiz-results-view','ai-quiz-generator-v3','opacity','#results-table\x20thead\x20tr','ไฮเพอร์โบลา','temp-loader-results','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','comparison-chart','parallel-test-input-area','quizType','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','random','project-id-display','idealAnswer','\x22...','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','text-gray-300\x20hover:text-white','กำลังสร้างแบบทดสอบ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','Error\x20updating\x20project\x20name:','อินเวอร์สของเมทริกซ์','ยังไม่มีนักเรียนส่งงาน','back-to-results-btn','student-reading-area','parent','exitFullscreen','Error\x20listening\x20for\x20student\x20profiles:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Enter','document','dataIndex','การคูณ','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','schedule','workerSrc','editor-quiz-topic','stringify','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','text-green-700\x20bg-green-100','การคูณทศนิยม','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','พอใช้','แก้ไขหัวข้อสำเร็จ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','ai-quiz-app-aefee.firebasestorage.app','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','fill_in_no_choices','hidden','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','border-green-300\x20bg-green-50','name_desc','เวกเตอร์และเมทริกซ์\x20(เสริม)','QUICK_THINKER','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22\x5cn','visibilitychange','add','select','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','setFont','text/html','height','confidenceMode','classList','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','save-project-name-btn','perfect_score_status','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','(คัดลอก)\x20','สร้างคำถามแบบใช่/ไม่ใช่','groups','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','file-upload-input','ไม่สามารถเพิ่มนักเรียนได้','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','export-lesson-pdf-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','fill_in_the_blank','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','324KLhVmV','confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.generate-easy-version-btn','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','show_results_only','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','stroke','COMEBACK_KING','ฟังก์ชันพหุนาม','textarea[name=\x22team_answer\x22]','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','กำลังกลับเข้าสู่เกม\x20','ring-purple-400','OBJECT','.delete-svg-btn','blueprint-upload-input','shuffle-setting-select','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20</div>\x0a\x20\x20\x20\x20','/public/data/projects','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','สุดยอด!\x20ตอบถูกทุกข้อ','comparison-overall-tab','touches','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','เลือกและบันทึก','leaderboard-quiz-tab-btn','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[role=\x22textbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','text-purple-600','indexOf','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','student-passcode-input','คะแนน','\x22\x20data-topic=\x22','comparison-individual-content','.quiz-bank-move-btn','พีชคณิตและฟังก์ชัน','thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','.start-game-btn','leaderboard-quiz-tab-content','originalQuestionText','การหารทศนิยม','input[type=\x22text\x22]','th-TH','แผนการสอน:\x20','ดีเทอร์มิแนนต์','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','student-list','insertAdjacentHTML','visible','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','showInStudentDashboard','contentEditable','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','Error\x20starting\x20sync\x20game:','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20get\x20standardized\x20topic:','projectId','bulk-loop-until-pass-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ยืนยันการจับคู่','null','playerName','ring-2','3.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจสไตล์และระดับความยาก','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','ข้อ\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','practiceProblems','\x22\x20value=\x22','สมการค่าสัมบูรณ์','presentation-slide-container','เกิดข้อผิดพลาดในการโหลดโปรเจค','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','cancel-global-live-btn','body','กรุณาวาง\x20URL\x20ของบทความก่อน','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','Firebase\x20initialization\x20failed:','<tr>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','student-view','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','cancel-create-project-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','totalPoints','#FCE7F3','fa-shield-alt\x20text-gray-600','answers','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมมาตร\x20(แกน/จุด)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','project-search-input','confidence-input-','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','answering','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','text-green-600','ฟังก์ชันแบบชิ้นส่วน','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-end-time','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','upper_group_count','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','ceil','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','split','quiz-leaderboard-table-body','approx','modal-timer-duration-container','half_mark_status','circle','\x22\x20name=\x22question_single\x22\x20value=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-dashboard-view','checkbox','translate','เส้นตรง:\x20ขนาน/ตั้งฉาก','Group\x20Mode','px,\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x20รายการสำเร็จ!','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-settings-modal','.score','จัดการ','sync-submit-btn','ความเท่ากันทุกประการของสามเหลี่ยม','short','not_confident','map','.save-custom-topic-btn','bg-yellow-50','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','โดเมนและเรนจ์','loopUntilPass','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.start-presentation-list-btn','correctAnswerIndex','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ลบโปรเจคสำเร็จแล้ว','bg-green-100\x20text-green-800','<br>','scores-tab-content','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','createElement','การแยกตัวประกอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','splice','message','ไม่สามารถสร้างโปรเจคได้','game-pin-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','td,\x20th','appendChild','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','quiz-leaderboard-table','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','manage-tab','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','แบบทดสอบนี้ปิดใช้งานอยู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctext{$1}','.edit-custom-topic-btn','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าความจริง/ตารางค่าความจริง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20\x0a\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','274192258111','questionIndex','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','code','text-content-input','transition-all','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ท็อปฟอร์ม','\x5c\x5c\x5c\x5c(?=(','save-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reset-view-btn','interesting-stats-wrapper','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','.quiz-bank-parallel-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','currentQuestionIndex','กรุณาใส่ชื่อใหม่','Error\x20joining\x20sync\x20game:','N/A','clearRect','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','กรุณาเลือกคำตอบของกลุ่ม','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','content','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','(คู่ขนาน)\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','start-sync-game-btn','admin-password-modal','จำนวนคละ','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x5cdiv','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่มของคุณ','fadeStartTime','ตรวจพบการออกจากหน้าจอครบ\x20','input[name=\x22team_player\x22]:checked','back-to-student-initial-btn','<div\x20class=\x22my-2\x22>','image/png','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','number','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','กรุณาป้อนหัวข้อสำหรับใบงาน','join-live-game-btn','กฎของโคไซน์','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','loader','href','status','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20เพื่อหา\x20\x22จำนวนข้อสอบรวม\x22\x20และ\x20\x22จำนวนข้อของแต่ละรูปแบบ\x22\x20(เช่น\x20\x22ปรนัย\x204\x20ตัวเลือก\x20...\x2015\x20ข้อ\x22,\x20\x22ระบายตัวเลข\x20...\x204\x20ข้อ\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20วิเคราะห์\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ทั้งหมดที่ต้องใช้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','podium','createObjectURL','textContent','score','closest','type','/public/data/liveGames','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','student-quiz-leaderboard-table-body','lastAnswerIndex','behavior-log-tab-btn','การแปลงรูปอัตลักษณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','user-id-display','export-excel-btn','justification','สเกลและแผนที่','tool','items','ความต่อเนื่อง','link-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Error\x20displaying\x20question\x20bank:','.sort-indicator','</option>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.color-palette-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','back-to-home-manual-release','8zEvVqR','quiz-search-input','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','getTextContent','list','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','<p>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','getItem','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','normal','flex','confirm-delete-btn','index','อุณหภูมิและการแปลง','screen','text-emerald-900','\x20ชุดสำเร็จ!','Error\x20resetting\x20project\x20order:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','เส้นรอบรูป','preTestId','กรุณาเลือกโปรเจคปลายทาง','$1^{\x5ccirc}','text-indigo-600','กฎของไซน์','button[type=\x22submit\x22]','isScored','<textarea\x20name=\x22question','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','leaderboard_','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','confirm-admin-login-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','timer-duration-label','matching','กำลังอัปเดตแบบทดสอบ\x20','การแจกแจงปกติและ\x20z-score','พิสัย','การบวกเศษส่วน','%</span>','AI\x20grading\x20failed:','<div\x20class=\x22flex-1\x22></div>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20listening\x20for\x20starred\x20quizzes:','repeat','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','questionText','bg-red-500','bottom','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','text-tab','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','questionDisplayedAt','</label></div>','cancel-team-selection-btn','NEGATIVE_INFINITY','latestScore','.live-summary-tooltip.visible','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','การยืนยันตัวตนล้มเหลว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','icon','PERSEVERANCE','pen','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','pinnedProjects','global-quiz-search-input','pen-tools-group','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','พื้นที่สี่เหลี่ยม','project-passcode-input','lobby','ไม่พบแบบทดสอบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','#26890c','เปิด\x20(จับเวลา)','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','globalCompositeOperation','deltaY','ON_FIRE','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ชื่อหัวข้อห้ามว่าง','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','fas\x20fa-bookmark','.start-live-race-btn','</tbody></table>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์หลักสูตรการศึกษา\x20(Curriculum\x20Analyst)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือการอ่านและวิเคราะห์ข้อความที่คัดลอกมาจากเอกสาร\x20\x22Test\x20Blueprint\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อความต่อไปนี้\x20ให้ระบุ\x20\x22สาระการเรียนรู้\x22\x20หรือ\x20\x22หัวข้อหลัก\x22\x20ที่จะทำการทดสอบออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อความจาก\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showImproveButton','<div\x20class=\x22loader\x20mx-auto\x22></div>','5280084IyGVvT','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','end-team-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20(p=','<tr><td\x20colspan=\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','student-name-input','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','math-topics-checkbox-container','cancel-quiz-settings-btn','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','cdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','.pdf','Error\x20joining\x20activity:','จับคู่เพื่อเปรียบเทียบผล','คำถามถัดไป','#ffffff','#results-table','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','close-lesson-plan-modal-btn','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-word-btn','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.quiz-bank-try-btn','Error\x20starting\x20game:','Error\x20regenerating\x20question\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','rename-quiz-modal','num-questions','contains','<p\x20class=\x22text-gray-500\x22>ไม่พบหัวข้อที่ชัดเจนใน\x20Blueprint\x20นี้</p>','input[name=\x22question_single\x22]:checked','หมดเวลาสำหรับข้อนี้!','students','Error\x20saving\x20to\x20question\x20bank:','Failed\x20to\x20end\x20group\x20mode\x20game:','opacity-50','จำนวนนักเรียน','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','players','visibilityState','rgba(239,\x2068,\x2068,\x200.9)','พื้นที่วงกลม/ส่วนของวงกลม','leaderboard-table-body','student-quiz-leaderboard-content','admin-testing','tfrac','ร้อยละพื้นฐาน','.answers','คณิตศาสตร์','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','keyConcepts','auto','parts','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ใช่','\x22>ใช่</p>','1:274192258111:web:4120c9118229b5644dd48a','desc','\x22\x20ให้เป็นคำถามประเภท\x20\x22','numeric','passingScore','timer-mode-select','กำลังค้นหากิจกรรม...','pen-tool-btn','lineCap','leaderboard-tab-content','every','Error\x20adding\x20students:','\x5cfrac{$1}{$2}','lineJoin','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','confidence-scoring-description','globalAlpha','จำนวนคู่:','text','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','true_false','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.topic-actions-view','การแจกแจงทวินาม\x20(พื้นฐาน)','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','save','fas\x20fa-star\x20text-yellow-500','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','sync-player-list','start-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','class','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','toLocaleDateString','create-project-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','wheel','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','ฟังก์ชันค่าสัมบูรณ์','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','outerHTML','รีเซ็ตลำดับโปรเจคแล้ว','project-passcode-modal','geq','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','grid-view-btn','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','.export-pdf-list-btn','change','qType','question','generate-worksheet-btn','(หลังเรียน)\x20','back-to-student-home-btn','quiz-start-time','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','text-gray-100','inactive','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','หมดเวลา!\x20กำลังส่งคำตอบ...','_opt1\x22\x20name=\x22question','width','answer-grid-container','neq','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','start-live-race-generated-btn','อนุพันธ์:\x20กฎพื้นฐาน','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','310Rpwulj','ฟังก์ชันกำลังสองและกราฟ','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','bank-quiz-search-input','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','teachingContent','addEventListener','loop-until-pass-checkbox','\x20(ID:\x20','topic-input-area','#FFFFFF','create-project-modal','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','กรุณาเลือกคำตอบ','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','highlighter-tool-btn','globalSettings','mjx-container','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','.scratchpad-content-wrapper','shuffledQuiz','fas\x20fa-user-edit','เพิ่มหัวข้อ\x20\x22','settings','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ตรวจคะแนนใหม่\x20','.answer-text','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','reveal-answer-btn','mouse','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','requestFullscreen','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.project-card-content','หัวข้อที่สร้างเอง','text-emerald-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','contents','.generate-post-test-btn','confirm-quiz-status-btn','lineWidth','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','bg-gray-500','POST','commonMistakes','.ai-fix-formula-btn','.verification-result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','numPages','ไม่พบแบบทดสอบในระบบเลย','#FEF3C7','<option\x20value=\x22','หยุดระบบจับเวลาหรี่หน้าจอ','bg-red-500\x20text-white\x20font-bold','viewBox','passcode-error-msg','highlighter-size-value','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','loader-text','ผู้ไม่ยอมแพ้','เรเดียนและการแปลงหน่วย','bg-green-200\x20text-green-800','attemptNumber','export-compact-pdf-btn','live-submit-short-answer-btn','round','toLocaleString','รอ...','perfect_score','สมการราก\x20(radical)','กำลังสแกนหาแบบทดสอบเก่า...','<div\x20class=\x22p-2\x20rounded-md\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','bg-green-200\x20text-green-900','q-text-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','confirm-join-game-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.unpair-quiz-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','startsWith','confirm-quiz-settings-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','แก้ระบบสมการด้วยเมทริกซ์','Error\x20updating\x20old\x20quizzes:','print','text-input-area','duration-300','sync','docs','modal-passing-score-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','global-live-game-modal','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','Error\x20during\x20class\x20analysis:','ชนิดของข้อมูลและการเก็บข้อมูล','select[name=\x22question_single\x22]','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','responses.','bg-red-100','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','confirm-bulk-quiz-settings-btn','modal-confidence-mode-container','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option>กำลังโหลดโปรเจค...</option>','จำนวนเชิงซ้อน\x20(เสริม)','num-choices-container','correctResponse','submit-group-answer-btn','teacherSuggestions','quiz-editor-modal','แผนภาพเวนน์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</span></p>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','comparison-modal','.question-editor-item','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','bulk-shuffle-select','strokeStyle','ระยะเวลา\x20(วินาที):','color','topic','dispatchEvent','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','toString','ไม่พบข้อมูลโปรเจค','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','generate-from-file-btn','$1^{\x5ccirc}\x5ctext{C}','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','Error\x20generating\x20easy\x20version\x20quiz:','confidence_single','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','รูปสี่เหลี่ยมและสมบัติ','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคล้ายของรูป','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','scores-tab-btn','text-blue-700\x20bg-blue-100','category','ผลรวมอนุกรม\x20(Σ)','move-quiz-project-select','createdAt','source-over','passcode-input-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','Error\x20starting\x20live\x20race:','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','bg-amber-100\x20text-amber-800','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','คัดลอกรหัสแล้ว!','\x22.\x20Ideal\x20Answer:\x20\x22','btn','confident','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','toDate','text-blue-800','.lastAnswerValue','after','input[type=\x22checkbox\x22]:checked','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','generated-quiz-actions','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','instructions','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','selected-answer-index-hidden','num-choices','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','/preferences/main','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','earned-badges-container','dragend','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','<div\x20class=\x22mb-3\x20topic-category\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','suggestedAnswer','webkitExitFullscreen','uid','/submissions','ปริพันธ์จำกัด','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','student-project-leaderboard-content','ข้อต่อไป','ฟังก์ชันลอการิทึม','candidates','#F59E0B','ไม่สามารถบันทึกการตั้งค่าได้','offsetWidth','pointsLastQuestion','\x5cs*\x5c(','perQuestionStats','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','open-global-live-btn','รูปแบบการให้เหตุผล','ค่าสัมบูรณ์','text-green-600\x20font-bold','classStrengths','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','analytics-tab-content','.\x20แต่ละข้อมี\x20','\x20mr-2\x22></i>','คะแนนยังไม่ถึงครึ่ง','การหารเศษส่วน','rgba(79,\x2070,\x20229,\x201)','กำลังวิเคราะห์หัวข้อ...','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','blueprint-topics-list-container','แบบทดสอบจากคลังส่วนตัว','Error\x20deleting\x20all\x20students:','2-digit','การบวก','.highlighter-color-btn','timestamp','ไม่พบแบบทดสอบสำหรับรหัสนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','แบบทดสอบที่ติดดาว','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','log','answerValue','สร้างโปรเจคสำเร็จ!','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','สร้างคำถามใหม่\x201\x20ข้อ\x20','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','export-leaderboard-pdf-btn','.presentation-option','members','เกิดข้อผิดพลาดในการบันทึก','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่ม:\x20','passing-score-input','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','Error\x20analyzing\x20blueprint\x20topics:','.delete-quiz-btn','keys','mandatory','อสมการเชิงเส้น','<i\x20class=\x22fas\x20fa-save\x22></i>','answered','bank-input-area','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','px)\x20scale(','back-to-project-btn','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','modal-shuffle-select','_opt0\x22>ใช่</label></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','rgba(16,\x20185,\x20129,\x200.7)','.cancel-edit-topic-btn','leq','isFinished','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ไม่ใช่\x20/\x20ผิด','ไม่พบข้อมูลแบบทดสอบ','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เศษส่วน\x20(ย่อ/ขยาย)','set','\x5cfrac{','dimmed','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','actions-container-','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','getContext','submittedAt','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ลำดับเลขคณิต\x20(AP)','\x20สำเร็จ','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','option','</div></div></div>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','scrollX','start-presentation-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20moving\x20quiz:','toDataURL','studentName','catch','next-drill-btn','.ideal-answer-input','\x0a\x20\x20\x20\x20','ดูผลสรุปสุดท้าย','all','ทำคะแนนได้เกินครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','save-quiz-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','confirm-game-start-btn','quiz-id-input','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','admin-password-input','สมการตรีโกณมิติ','input[type=\x22checkbox\x22]','เกิดข้อผิดพลาดในการลบผลสอบ','resultsDisplay','</li>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','substring','<p\x20class=\x22text-2xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-choice-btn','Error\x20fetching\x20project\x20quizzes:','bg-gray-50','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','admin','pop','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','.topic-selection-btn','verify-answers-btn','0\x200','ไม่ผ่าน','next-question-timed-btn','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','มุมพิเศษ\x2030°-60°-90°','update','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','bg-purple-50','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20class=\x22color-palette-btn\x20',')\x5cb)','timerMode','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>'];_0x34b2=function(){return _0x57a174;};return _0x34b2();}async function loadUserPreferences(){const _0x484e18=_0x3f08ea;if(!userId)return{};try{const _0xa3a02e=doc(db,_0x484e18(0x439)+appId+_0x484e18(0x25e)+userId+_0x484e18(0x9d2)),_0x54a4ba=await getDoc(_0xa3a02e);if(_0x54a4ba['exists']())return _0x54a4ba[_0x484e18(0x612)]();return{};}catch(_0x23ca77){return console[_0x484e18(0x183)]('Error\x20loading\x20user\x20preferences:',_0x23ca77),{};}}function showPodiumView(_0x4b7db3,_0x515548=_0x3f08ea(0xad7)){const _0x26f995=_0x3f08ea,_0x44b98f=Object['entries'](_0x4b7db3)[_0x26f995(0x743)](([_0x38e5cf,_0x376ab8])=>({'name':_0x38e5cf,'score':_0x376ab8[_0x26f995(0x7b8)]||0x0,'badges':_0x376ab8[_0x26f995(0xa90)]||[],'hasPerfectScoreBonus':_0x376ab8[_0x26f995(0x437)]||![]}));_0x44b98f['sort']((_0x419b7c,_0x2cdf28)=>{const _0x403084=_0x26f995,_0x3a66e6=_0x2cdf28[_0x403084(0x7b8)]-_0x419b7c[_0x403084(0x7b8)];if(_0x3a66e6!==0x0)return _0x3a66e6;return(_0x2cdf28['badges']['length']||0x0)-(_0x419b7c[_0x403084(0xa90)]['length']||0x0);});const _0x22e2de=_0x52c8ec=>{const _0x1471e6=_0x26f995;if(!_0x52c8ec||_0x52c8ec[_0x1471e6(0x31f)]===0x0)return'';const _0x358bdf={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x52c8ec[_0x1471e6(0x743)](_0x222b33=>_0x358bdf[_0x222b33]||'')[_0x1471e6(0xaad)]('')+_0x1471e6(0x601);},_0x3bceb3=_0x44b98f[_0x26f995(0x625)](0x3),_0x1ae87d=_0x3bceb3[_0x26f995(0x31f)]>0x0?_0x26f995(0x85c)+_0x3bceb3[_0x26f995(0x743)]((_0x59ab3f,_0x26ad23)=>{const _0x45cf17=_0x26f995,_0x316ae9=_0x59ab3f[_0x45cf17(0x437)]?_0x45cf17(0x4c2):'';return _0x45cf17(0x873)+(_0x26ad23+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x59ab3f[_0x45cf17(0x340)]+_0x45cf17(0x438)+_0x59ab3f[_0x45cf17(0x7b8)]+_0x45cf17(0x492)+_0x316ae9+_0x45cf17(0x911);})[_0x26f995(0xaad)]('')+_0x26f995(0x3ce):'',_0x53260e=_0x26f995(0x9ab)+(_0x44b98f[0x1]?_0x26f995(0x44e)+_0x44b98f[0x1][_0x26f995(0x340)]+'</p>'+_0x22e2de(_0x44b98f[0x1]['badges'])+_0x26f995(0x177)+_0x44b98f[0x1][_0x26f995(0x7b8)]+_0x26f995(0x492)+(_0x44b98f[0x1][_0x26f995(0x437)]?_0x26f995(0x9a1):'')+_0x26f995(0xad2):_0x26f995(0x813))+_0x26f995(0xaf7)+(_0x44b98f[0x0]?_0x26f995(0x8ee)+_0x44b98f[0x0][_0x26f995(0x340)]+_0x26f995(0x1fe)+_0x22e2de(_0x44b98f[0x0][_0x26f995(0xa90)])+_0x26f995(0xa6d)+_0x44b98f[0x0][_0x26f995(0x7b8)]+'\x20คะแนน\x20'+(_0x44b98f[0x0][_0x26f995(0x437)]?_0x26f995(0x9a1):'')+_0x26f995(0x9d7):'<div\x20class=\x22flex-1\x22></div>')+_0x26f995(0xaf7)+(_0x44b98f[0x2]?_0x26f995(0x7f4)+_0x44b98f[0x2]['name']+_0x26f995(0x1fe)+_0x22e2de(_0x44b98f[0x2][_0x26f995(0xa90)])+'<p\x20class=\x22text-xl\x22>'+_0x44b98f[0x2]['score']+_0x26f995(0x492)+(_0x44b98f[0x2][_0x26f995(0x437)]?_0x26f995(0x9a1):'')+_0x26f995(0x4f8):'<div\x20class=\x22flex-1\x22></div>')+_0x26f995(0x157)+_0x1ae87d+_0x26f995(0x5e1)+(currentMode===_0x26f995(0xa73)?_0x26f995(0x23b):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x26f995(0x87d);liveGameView['innerHTML']=_0x53260e,currentMode===_0x26f995(0xa73)&&document[_0x26f995(0x274)](_0x26f995(0xacb))['addEventListener'](_0x26f995(0x405),async()=>{const _0x40f354=_0x26f995;let _0x276e50;_0x515548===_0x40f354(0x970)?_0x276e50=doc(db,'artifacts/'+appId+_0x40f354(0x40b),currentLiveGameId):_0x276e50=doc(db,_0x40f354(0x439)+appId+_0x40f354(0x7bb),currentLiveGameId),await deleteDoc(_0x276e50);});}function renderSyncSummaryView(_0x381352,_0x58832d,_0x4b6b00){const _0x39887d=_0x3f08ea,_0xb0062a=Object[_0x39887d(0x237)](_0x381352['players']||{}),_0x281665=_0x58832d[_0x39887d(0x4f4)]||_0x381352[_0x39887d(0x91e)][_0x39887d(0x641)];let _0x4cc6fa=[];_0x281665==='true_false'?_0x4cc6fa=[_0x39887d(0x848),'ไม่ใช่\x20/\x20ผิด']:_0x4cc6fa=_0x58832d[_0x39887d(0xaee)]||[];const _0x1bb5bc=new Array(_0x4cc6fa['length'])[_0x39887d(0x293)](0x0),_0x24d0f8={};_0x4cc6fa[_0x39887d(0x232)]((_0x20008d,_0x565f8a)=>{_0x24d0f8[_0x565f8a]=[];}),Object['entries'](_0x381352['players']||{})[_0x39887d(0x232)](([_0x3e5f96,_0x260ac2])=>{const _0x2fd9db=_0x39887d;if(_0x260ac2[_0x2fd9db(0x7af)]!=='inactive'&&_0x260ac2[_0x2fd9db(0x7c0)]!==undefined&&_0x260ac2[_0x2fd9db(0x7c0)]!==null){const _0x5460ae=_0x260ac2[_0x2fd9db(0x7c0)];_0x24d0f8[_0x5460ae]!==undefined&&(_0x24d0f8[_0x5460ae][_0x2fd9db(0xa97)](_0x3e5f96),_0x1bb5bc[_0x5460ae]++);}});let _0x19fe2e='';_0x4b6b00?_0x19fe2e=_0x39887d(0x453):_0x19fe2e=_0x39887d(0xad3);const _0x3ce695=_0x39887d(0x95e)+_0x58832d[_0x39887d(0x81a)]+_0x39887d(0x75a)+_0x1bb5bc['map']((_0x1e899e,_0x1370b6)=>{const _0x5dd24b=_0x39887d,_0x2e18e4=_0x24d0f8[_0x1370b6][_0x5dd24b(0x31f)]>0x0?_0x24d0f8[_0x1370b6][_0x5dd24b(0xaad)](',\x20'):_0x5dd24b(0x1ca),_0x41a5b0=_0x5dd24b(0x375);return _0x5dd24b(0x140)+_0x1e899e+_0x5dd24b(0x6c3)+_0x41a5b0+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x1370b6+_0x5dd24b(0x6d1)+_0x4cc6fa[_0x1370b6]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x1370b6+_0x5dd24b(0x79a)+_0x2e18e4+_0x5dd24b(0x170);})[_0x39887d(0xaad)]('')+_0x39887d(0x2ab)+_0x19fe2e+_0x39887d(0x980);liveGameView[_0x39887d(0x1bb)]=_0x3ce695;if(window['MathJax'])MathJax[_0x39887d(0x4db)]();_0x4b6b00&&(document[_0x39887d(0x274)](_0x39887d(0x4d5))[_0x39887d(0x908)]('click',async()=>{const _0xd05859=_0x39887d,_0x3a460b=doc(db,_0xd05859(0x439)+appId+_0xd05859(0x40b),currentLiveGameId);await updateDoc(_0x3a460b,{'status':_0xd05859(0x3ae)});}),document[_0x39887d(0x274)](_0x39887d(0x207))[_0x39887d(0x347)]=()=>{openScratchpad(_0x58832d,_0x4cc6fa);});}async function handleShowStudentRankings(){const _0x58bb06=_0x3f08ea,_0x292f91=document[_0x58bb06(0x497)](_0x58bb06(0xa91));_0x292f91&&(_0x292f91[_0x58bb06(0x1bb)]=_0x58bb06(0x5a1));const _0x1c0092=document[_0x58bb06(0x497)](_0x58bb06(0x5c0));_0x1c0092&&(_0x1c0092[_0x58bb06(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x27cd7c=document[_0x58bb06(0x274)]('student-rankings-modal');_0x27cd7c[_0x58bb06(0x67e)]['remove'](_0x58bb06(0x66d)),document[_0x58bb06(0x274)](_0x58bb06(0x14d))[_0x58bb06(0x347)]=()=>_0x27cd7c['classList'][_0x58bb06(0x677)](_0x58bb06(0x66d));const _0x454114=document[_0x58bb06(0x274)](_0x58bb06(0x87b)),_0x563f65=document[_0x58bb06(0x274)](_0x58bb06(0x5ca)),_0x54337e=document[_0x58bb06(0x274)](_0x58bb06(0x89b)),_0x3e94de=document[_0x58bb06(0x274)](_0x58bb06(0x9e0));_0x454114['onclick']=()=>{const _0x25905c=_0x58bb06;_0x454114[_0x25905c(0x67e)][_0x25905c(0x677)](_0x25905c(0x415)),_0x563f65[_0x25905c(0x67e)][_0x25905c(0xaa2)](_0x25905c(0x415)),_0x54337e[_0x25905c(0x67e)]['remove']('hidden'),_0x3e94de['classList'][_0x25905c(0x677)](_0x25905c(0x66d));},_0x563f65['onclick']=()=>{const _0x18ee07=_0x58bb06;_0x563f65[_0x18ee07(0x67e)]['add'](_0x18ee07(0x415)),_0x454114[_0x18ee07(0x67e)][_0x18ee07(0xaa2)](_0x18ee07(0x415)),_0x3e94de['classList'][_0x18ee07(0xaa2)](_0x18ee07(0x66d)),_0x54337e['classList'][_0x18ee07(0x677)](_0x18ee07(0x66d));};try{const _0x4c59a5=collection(db,_0x58bb06(0x439)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x58bb06(0x9dd)),_0x22fcc0=await getDocs(_0x4c59a5),_0x1fe4bb=_0x22fcc0['docs'][_0x58bb06(0x743)](_0xffb79f=>_0xffb79f['data']());renderQuizLeaderboard(_0x1fe4bb,currentQuizData,'student-quiz-leaderboard-table-body');const _0x57feba=collection(db,_0x58bb06(0x439)+appId+'/public/data/projects/'+currentQuizData[_0x58bb06(0x6ec)]+_0x58bb06(0x2a4)),_0x362ac8=await getDocs(_0x57feba),_0x2f610c=_0x362ac8[_0x58bb06(0x971)][_0x58bb06(0x743)](_0xf05be8=>_0xf05be8[_0x58bb06(0x612)]());renderLeaderboard(_0x2f610c,_0x58bb06(0x385));}catch(_0x57444a){console['error'](_0x58bb06(0x269),_0x57444a),showMessage(_0x58bb06(0x2a1));}}async function handleSaveToBank(_0x25796c){const _0x512fd3=_0x3f08ea,_0x321603=_0x25796c['currentTarget'],_0x592241=_0x321603['dataset'][_0x512fd3(0x7ee)],_0x505efe=currentQuizData[_0x512fd3(0x2bb)][_0x592241];if(!userId){showMessage(_0x512fd3(0x4dc));return;}try{const _0x2b9fbf={..._0x505efe,'originalTopic':currentQuizData[_0x512fd3(0x994)],'savedAt':serverTimestamp()},_0x18503f=collection(db,_0x512fd3(0x439)+appId+_0x512fd3(0x25e)+userId+'/questionBank');await addDoc(_0x18503f,_0x2b9fbf),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x321603[_0x512fd3(0x67e)][_0x512fd3(0xaa2)](_0x512fd3(0x6be)),_0x321603[_0x512fd3(0x67e)][_0x512fd3(0x677)](_0x512fd3(0x71c)),_0x321603['disabled']=!![];}catch(_0x1a055d){console[_0x512fd3(0x183)](_0x512fd3(0x890),_0x1a055d),showMessage(_0x512fd3(0xa17));}}function listenForStarredQuizzes(){const _0x4b5763=_0x3f08ea;if(!userId)return;const _0x526f26=collection(db,_0x4b5763(0x439)+appId+'/public/data/quizzes'),_0x46cb55=query(_0x526f26,where(_0x4b5763(0x8f6),'==',!![]));onSnapshot(_0x46cb55,_0x123fe8=>{const _0x3de9b2=_0x4b5763;starredQuizzes=_0x123fe8[_0x3de9b2(0x971)][_0x3de9b2(0x743)](_0x5d0825=>({'id':_0x5d0825['id'],..._0x5d0825['data']()})),currentProjectId===_0x3de9b2(0x5af)?renderQuizzes():renderProjects();},_0x83343d=>{const _0x1f78bd=_0x4b5763;console[_0x1f78bd(0x183)](_0x1f78bd(0x816),_0x83343d);});}function exportQuizAsWorksheetPDF(){const _0x3531a8=_0x3f08ea;if(!currentQuizData||!currentQuizData[_0x3531a8(0x2bb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3ae97a=currentQuizData,_0x3e450e=window[_0x3531a8(0x76d)]('',_0x3531a8(0x26b)),_0x3023b2=_0x6e5c8a=>String[_0x3531a8(0x8d7)](0x41+_0x6e5c8a),_0x57957f=_0x3531a8(0x99c)+_0x3ae97a[_0x3531a8(0x994)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x3ae97a['topic']+_0x3531a8(0x8f5)+_0x3ae97a['questions'][_0x3531a8(0x743)]((_0x134213,_0x2a142b)=>{const _0xf7e8db=_0x3531a8;let _0x13633e='';const _0x1dc6d2=_0x134213[_0xf7e8db(0x4f4)]||_0x3ae97a[_0xf7e8db(0x641)];switch(_0x1dc6d2){case'multiple_choice':case'fill_in_with_choices':_0x13633e='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x134213[_0xf7e8db(0xaee)][_0xf7e8db(0x743)]((_0x125749,_0x3e2c2a)=>_0xf7e8db(0x3c0)+_0x3023b2(_0x3e2c2a)+'.\x20'+_0x125749+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xf7e8db(0xaad)](_0xf7e8db(0x754))+_0xf7e8db(0x601);break;case _0xf7e8db(0x8bf):_0x13633e=_0xf7e8db(0x818);break;default:_0x13633e='<div\x20class=\x22answer-space\x22></div>';break;}return _0xf7e8db(0x6b0)+(_0x2a142b+0x1)+_0xf7e8db(0x808)+(_0x134213['stem']||_0x134213[_0xf7e8db(0x81a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x134213['imageCode']?_0xf7e8db(0x7a0)+_0x134213[_0xf7e8db(0xaa5)]+_0xf7e8db(0x601):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13633e+_0xf7e8db(0x886);})[_0x3531a8(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3e450e[_0x3531a8(0x657)][_0x3531a8(0x40c)](_0x57957f),_0x3e450e[_0x3531a8(0x657)]['close'](),_0x3e450e[_0x3531a8(0x4b4)]=function(){setTimeout(()=>{const _0x328c01=_0x1cca;_0x3e450e[_0x328c01(0x96d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2bc8f8=_0x3f08ea;if(!currentQuizData||!currentQuizData[_0x2bc8f8(0x2bb)]){showMessage(_0x2bc8f8(0x1a2));return;}const _0x100a93=currentQuizData,_0x468f65=window[_0x2bc8f8(0x76d)]('',_0x2bc8f8(0x26b)),_0x3b4f65=_0x424797=>String[_0x2bc8f8(0x8d7)](0x41+_0x424797),_0x431f79=_0x2bc8f8(0x37d)+_0x100a93[_0x2bc8f8(0x994)]+_0x2bc8f8(0xa8f)+_0x100a93[_0x2bc8f8(0x2bb)][_0x2bc8f8(0x743)]((_0x5d7ea4,_0x22bbd2)=>{const _0x415ae7=_0x2bc8f8;let _0x1d62b8='';const _0x8b9431=_0x5d7ea4['questionType']||_0x100a93['quizType'];switch(_0x8b9431){case _0x415ae7(0x622):case _0x415ae7(0x361):_0x1d62b8=_0x415ae7(0x2de)+_0x5d7ea4[_0x415ae7(0xaee)][_0x415ae7(0x743)]((_0x1b2445,_0x9e5594)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3b4f65(_0x9e5594)+'.\x20'+_0x1b2445+'</span>')['join'](_0x415ae7(0x754))+_0x415ae7(0x1bf);break;case _0x415ae7(0x8bf):_0x1d62b8=_0x415ae7(0x9f2);break;default:_0x1d62b8='';break;}return _0x415ae7(0x3a1)+_0x100a93[_0x415ae7(0x994)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x22bbd2+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x5d7ea4[_0x415ae7(0x353)]||_0x5d7ea4[_0x415ae7(0x81a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5d7ea4[_0x415ae7(0xaa5)]?_0x415ae7(0x370)+_0x5d7ea4[_0x415ae7(0xaa5)]+_0x415ae7(0x601):'')+_0x415ae7(0xa0f)+_0x1d62b8+_0x415ae7(0x77d);})[_0x2bc8f8(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x468f65[_0x2bc8f8(0x657)][_0x2bc8f8(0x40c)](_0x431f79),_0x468f65[_0x2bc8f8(0x657)][_0x2bc8f8(0xa93)](),_0x468f65[_0x2bc8f8(0x4b4)]=function(){setTimeout(()=>{_0x468f65['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x25481b){const _0x402cc2=_0x3f08ea,_0x5312e7=doc(db,'artifacts/'+appId+_0x402cc2(0x5e9),_0x25481b);try{const _0x5c24dd=await getDoc(_0x5312e7);if(_0x5c24dd[_0x402cc2(0x905)]()){const _0xe2d6b3=_0x5c24dd[_0x402cc2(0x612)]()[_0x402cc2(0x8f6)]||![];await updateDoc(_0x5312e7,{'isStarred':!_0xe2d6b3});}}catch(_0x1843aa){console[_0x402cc2(0x183)]('Error\x20toggling\x20star\x20status:',_0x1843aa),showMessage(_0x402cc2(0x51a));}}async function displayQuestionBank(){const _0x68c9d3=_0x3f08ea,_0x31bb0e=document['getElementById'](_0x68c9d3(0xa26));_0x31bb0e[_0x68c9d3(0x1bb)]=_0x68c9d3(0x851);try{const _0x7d69ef=collection(db,'artifacts/'+appId+_0x68c9d3(0x25e)+userId+'/questionBank'),_0x1ddc48=query(_0x7d69ef),_0x44131f=await getDocs(_0x1ddc48);if(_0x44131f[_0x68c9d3(0x48a)]){_0x31bb0e['innerHTML']=_0x68c9d3(0xac0);return;}let _0x317207=_0x44131f[_0x68c9d3(0x971)][_0x68c9d3(0x743)](_0x341998=>{const _0x2ea1ca=_0x68c9d3,_0x2acace=_0x341998[_0x2ea1ca(0x612)](),_0x1f1665=_0x341998['id'];return _0x2ea1ca(0x961)+JSON[_0x2ea1ca(0x65e)](_0x2acace)+_0x2ea1ca(0x352)+(_0x2acace[_0x2ea1ca(0x81a)]||_0x2acace[_0x2ea1ca(0x353)])+_0x2ea1ca(0x2ad)+_0x2acace[_0x2ea1ca(0x16b)]+_0x2ea1ca(0x51c);})[_0x68c9d3(0xaad)]('');_0x31bb0e[_0x68c9d3(0x1bb)]=_0x68c9d3(0x294)+_0x317207+_0x68c9d3(0x6ef),document[_0x68c9d3(0x274)](_0x68c9d3(0x2ca))['addEventListener'](_0x68c9d3(0x405),createQuizFromBank);}catch(_0x1986b6){console['error'](_0x68c9d3(0x7d0),_0x1986b6),_0x31bb0e['innerHTML']=_0x68c9d3(0x2b3);}}function showAdminLiveQuestionView(_0x37fc9f,_0x5aecfd,_0x1355f0){const _0x1cf6dc=_0x3f08ea,_0x1afeab=_0x37fc9f[_0x1cf6dc(0x4f4)]||currentQuizData[_0x1cf6dc(0x641)];let _0x249fa6='';if(_0x1afeab===_0x1cf6dc(0x622)||_0x1afeab==='true_false'){const _0x58017d=_0x1afeab===_0x1cf6dc(0x8bf)?[_0x1cf6dc(0x8a7),'ไม่ใช่']:_0x37fc9f[_0x1cf6dc(0xaee)],_0x2615c2=_0x1afeab==='true_false'?_0x37fc9f['correctAnswer']?0x0:0x1:_0x37fc9f[_0x1cf6dc(0x74e)];_0x249fa6=_0x58017d[_0x1cf6dc(0x743)]((_0x1ee689,_0x47a743)=>_0x1cf6dc(0x212)+(_0x47a743===_0x2615c2)+_0x1cf6dc(0x516)+_0x1ee689+_0x1cf6dc(0xa1a))[_0x1cf6dc(0xaad)]('');}else{if(_0x1afeab===_0x1cf6dc(0x466)){const _0x21ef0c=_0x37fc9f['allResponses']||[];_0x249fa6=_0x21ef0c[_0x1cf6dc(0x743)](_0x67cf3=>_0x1cf6dc(0x212)+(_0x67cf3===_0x37fc9f[_0x1cf6dc(0x984)])+_0x1cf6dc(0x516)+_0x67cf3+_0x1cf6dc(0xa1a))[_0x1cf6dc(0xaad)]('');}}const _0x923119=_0x37fc9f[_0x1cf6dc(0x353)]||_0x37fc9f[_0x1cf6dc(0x81a)],_0x274d78=_0x1cf6dc(0x3f6)+(_0x5aecfd+0x1)+_0x1cf6dc(0x1fd)+_0x1355f0+_0x1cf6dc(0x342)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x923119+_0x1cf6dc(0x6ee)+_0x249fa6+_0x1cf6dc(0x1f4);liveGameView[_0x1cf6dc(0x1bb)]=_0x274d78,window[_0x1cf6dc(0x13c)]&&MathJax[_0x1cf6dc(0x4db)]&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0x1cf6dc(0x926))[_0x1cf6dc(0x908)]('click',()=>revealAnswerForAdmin(_0x5aecfd,_0x1355f0)),document[_0x1cf6dc(0x274)](_0x1cf6dc(0x525))[_0x1cf6dc(0x908)](_0x1cf6dc(0x405),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x5b6fd4=_0x1cca,_0x18a103=doc(db,_0x5b6fd4(0x439)+appId+_0x5b6fd4(0x7bb),currentLiveGameId);await updateDoc(_0x18a103,{'status':_0x5b6fd4(0x7b5)});});}),document[_0x1cf6dc(0x274)](_0x1cf6dc(0x4a2))[_0x1cf6dc(0x908)]('click',()=>{const _0x49a8e4=_0x1cf6dc;document[_0x49a8e4(0x274)](_0x49a8e4(0x542))[_0x49a8e4(0x67e)][_0x49a8e4(0x13f)](_0x49a8e4(0x66d));});}function showStudentLiveQuestionView(_0x51e0c1,_0x172cf,_0x18a136){const _0x4dc37c=_0x3f08ea,_0x81648c=_0x51e0c1[_0x4dc37c(0x4f4)]||currentQuizData[_0x4dc37c(0x641)];let _0x199140='';if(_0x81648c==='multiple_choice'||_0x81648c===_0x4dc37c(0x8bf)){const _0x14615b=_0x81648c===_0x4dc37c(0x8bf)?[_0x4dc37c(0x8a7),_0x4dc37c(0x3a9)]:_0x51e0c1[_0x4dc37c(0xaee)];_0x199140=_0x14615b[_0x4dc37c(0x743)]((_0x56319f,_0x171e55)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x171e55+_0x4dc37c(0xa62)+_0x56319f+_0x4dc37c(0x84f))[_0x4dc37c(0xaad)]('');}else{if(_0x81648c===_0x4dc37c(0x466)){const _0x168bc2=_0x51e0c1[_0x4dc37c(0x378)]||[];_0x199140=_0x168bc2[_0x4dc37c(0x743)]((_0x4767cf,_0x4bb9b1)=>_0x4dc37c(0x2f1)+_0x4bb9b1+_0x4dc37c(0xa62)+_0x4767cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4dc37c(0xaad)]('');}else _0x81648c===_0x4dc37c(0x15d)&&(_0x199140='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4c7dd6=_0x51e0c1[_0x4dc37c(0x353)]||_0x51e0c1[_0x4dc37c(0x81a)],_0x4a79eb=_0x4dc37c(0x83f)+(_0x172cf+0x1)+_0x4dc37c(0x1fd)+_0x18a136+_0x4dc37c(0x4f0)+_0x4c7dd6+_0x4dc37c(0x39e)+_0x199140+_0x4dc37c(0x43d);liveGameView[_0x4dc37c(0x1bb)]=_0x4a79eb;window['MathJax']&&MathJax[_0x4dc37c(0x4db)]&&MathJax['typesetPromise']([liveGameView]);const _0x2659cd=document[_0x4dc37c(0x274)](_0x4dc37c(0x950));_0x2659cd&&_0x2659cd[_0x4dc37c(0x908)](_0x4dc37c(0x405),()=>{const _0x26e4fe=_0x4dc37c,_0x42a4f7=document[_0x26e4fe(0x274)](_0x26e4fe(0x17f))[_0x26e4fe(0x303)];handleLiveAnswer(_0x42a4f7,_0x51e0c1);}),document['getElementById'](_0x4dc37c(0x5bf))['addEventListener'](_0x4dc37c(0x405),_0x49b8aa=>{const _0x185c0a=_0x4dc37c,_0x417a6a=_0x49b8aa[_0x185c0a(0x1e0)][_0x185c0a(0x7b9)](_0x185c0a(0x3b1));if(_0x417a6a){const _0x4db82d=parseInt(_0x417a6a['dataset']['index']);handleLiveAnswer(_0x4db82d,_0x51e0c1);}});}async function handleLiveAnswer(_0x14efc3,_0x37457e){const _0x26f9e3=_0x3f08ea;document[_0x26f9e3(0x591)](_0x26f9e3(0x1ab))['forEach'](_0x2144aa=>_0x2144aa['disabled']=!![]);const _0x2a0bba=_0x37457e[_0x26f9e3(0x4f4)]||currentQuizData[_0x26f9e3(0x641)];let _0x2a23f9=![],_0x4d8836=_0x14efc3;if(_0x2a0bba===_0x26f9e3(0x15d)){const _0x46563e=(_0x14efc3||'')[_0x26f9e3(0x999)]();_0x2a23f9=await gradeShortAnswer(_0x46563e,_0x37457e);}else{if(_0x2a0bba===_0x26f9e3(0x622))_0x2a23f9=_0x14efc3===_0x37457e['correctAnswerIndex'];else{if(_0x2a0bba==='true_false'){const _0x48270d=_0x37457e['correctAnswer'];_0x2a23f9=_0x14efc3===0x0&&_0x48270d||_0x14efc3===0x1&&!_0x48270d;}else{if(_0x2a0bba==='matching_item'){const _0xed2078=_0x37457e[_0x26f9e3(0x378)][_0x14efc3];_0x2a23f9=_0xed2078===_0x37457e[_0x26f9e3(0x984)],_0x4d8836=_0xed2078;}}}}const _0x45fb1d=doc(db,_0x26f9e3(0x439)+appId+'/public/data/liveGames',currentLiveGameId),_0x417f42={};_0x417f42['players.'+currentStudentName+'.answeredCurrentQuestion']=!![],_0x417f42[_0x26f9e3(0x461)+currentStudentName+'.lastAnswerCorrect']=_0x2a23f9,_0x417f42[_0x26f9e3(0x461)+currentStudentName+_0x26f9e3(0x2c5)]=_0x2a0bba===_0x26f9e3(0x15d)||_0x2a0bba===_0x26f9e3(0x466)?null:_0x14efc3,_0x417f42[_0x26f9e3(0x461)+currentStudentName+_0x26f9e3(0x9c4)]=_0x4d8836,_0x417f42[_0x26f9e3(0x461)+currentStudentName+_0x26f9e3(0x2b1)]=serverTimestamp(),_0x417f42['players.'+currentStudentName+_0x26f9e3(0x48b)]=![],await updateDoc(_0x45fb1d,_0x417f42),liveGameView[_0x26f9e3(0x1bb)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x4b302e,_0x24591d){const _0x17b044=_0x3f08ea,_0x1531b0=Object['values'](_0x4b302e[_0x17b044(0x896)]||{}),_0x19f795=_0x24591d[_0x17b044(0x4f4)]||currentQuizData[_0x17b044(0x641)],_0x4b357f=_0x19f795==='true_false'?[_0x17b044(0x8a7),'ไม่ใช่']:_0x24591d[_0x17b044(0xaee)]||_0x24591d[_0x17b044(0x378)]||[],_0x296438={},_0x317cc0=new Array(_0x4b357f[_0x17b044(0x31f)])[_0x17b044(0x293)](0x0);_0x4b357f['forEach']((_0x43031d,_0x4698f7)=>{_0x296438[_0x4698f7]=[];}),Object['entries'](_0x4b302e['players']||{})[_0x17b044(0x232)](([_0x5049ef,_0x3a6f0b])=>{const _0x427139=_0x17b044;if(_0x3a6f0b[_0x427139(0x7af)]==='active'&&_0x3a6f0b[_0x427139(0x7c0)]!==undefined){const _0x4d22e5=_0x3a6f0b[_0x427139(0x7c0)];_0x296438[_0x4d22e5]&&(_0x296438[_0x4d22e5]['push'](_0x5049ef),_0x317cc0[_0x4d22e5]++);}});const _0x2c4bf0=Math['max'](..._0x317cc0,0x1),_0x1d1e3e=_0x17b044(0xa1e)+(_0x24591d[_0x17b044(0x353)]||_0x24591d[_0x17b044(0x81a)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x317cc0[_0x17b044(0x743)]((_0x1ef1e0,_0x2191dd)=>{const _0xd09431=_0x17b044,_0x2c1955=_0x296438[_0x2191dd][_0xd09431(0x31f)]>0x0?_0x296438[_0x2191dd]['join'](',\x20'):_0xd09431(0x1ca);let _0x49d08b=![];if(_0x19f795===_0xd09431(0x622))_0x49d08b=_0x2191dd===_0x24591d['correctAnswerIndex'];else{if(_0x19f795===_0xd09431(0x8bf)){const _0x5ba55e=_0x24591d[_0xd09431(0x26f)];_0x49d08b=_0x5ba55e&&_0x2191dd===0x0||!_0x5ba55e&&_0x2191dd===0x1;}else _0x19f795==='matching_item'&&(_0x49d08b=_0x4b357f[_0x2191dd]===_0x24591d['correctResponse']);}const _0x34cdd0=_0x49d08b?_0xd09431(0x83c):_0xd09431(0x4b3);return _0xd09431(0x7d7)+_0x1ef1e0+_0xd09431(0x85d)+_0x34cdd0+_0xd09431(0x3a6)+_0x2191dd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x4b357f[_0x2191dd]+_0xd09431(0x7c3)+_0x2191dd+_0xd09431(0x79a)+_0x2c1955+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x17b044(0x4ba);liveGameView[_0x17b044(0x1bb)]=_0x1d1e3e;if(window[_0x17b044(0x13c)])MathJax[_0x17b044(0x4db)]();document[_0x17b044(0x274)]('show-leaderboard-btn')['addEventListener'](_0x17b044(0x405),async()=>{const _0x154dc4=_0x17b044,_0x7cf4f0=doc(db,_0x154dc4(0x439)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x7cf4f0,{'questionStatus':'leaderboard'});}),document[_0x17b044(0x274)](_0x17b044(0x3cd))['addEventListener'](_0x17b044(0x405),()=>{openScratchpad(_0x24591d,_0x4b357f);});}function showPlayerSummaryView(_0x57731c,_0x2148d1){const _0x46aec0=_0x3f08ea,_0x3f0b05=Object[_0x46aec0(0x237)](_0x57731c['players']||{}),_0x1cb2b3=_0x57731c['players'][_0x2148d1],_0x17316c=_0x3f0b05['filter'](_0x10d774=>_0x10d774['status']===_0x46aec0(0x415))['sort']((_0x46831b,_0x83a3bb)=>_0x83a3bb[_0x46aec0(0x7b8)]-_0x46831b[_0x46aec0(0x7b8)]),_0x5329f4=_0x17316c[_0x46aec0(0x324)](_0x40b36e=>_0x40b36e===_0x1cb2b3)+0x1,_0x450241=_0x1cb2b3[_0x46aec0(0x3f0)]?_0x46aec0(0x3ed):_0x46aec0(0x452),_0x126a02=_0x1cb2b3[_0x46aec0(0x3f0)]?_0x46aec0(0x268):_0x46aec0(0x81b),_0x41241a=_0x1cb2b3[_0x46aec0(0x9e7)]||0x0,_0xc0042b=_0x46aec0(0x39d),_0x5bfec3=_0x46aec0(0x84a)+_0xc0042b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x126a02+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x450241+_0x46aec0(0x5da)+_0x41241a+_0x46aec0(0x7db)+(_0x5329f4>0x0?_0x5329f4:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x46aec0(0x1bb)]=_0x5bfec3;}function createQuizFromBank(){const _0x137923=_0x3f08ea,_0xb15c10=document[_0x137923(0x591)](_0x137923(0x8ca));if(_0xb15c10['length']===0x0){showMessage(_0x137923(0xa39));return;}const _0x248cd7=[];_0xb15c10['forEach'](_0x62dc39=>{const _0x52bedd=_0x137923;_0x248cd7[_0x52bedd(0xa97)](JSON['parse'](_0x62dc39['value']));});const _0x40b36f={'topic':_0x137923(0x9fc),'questions':_0x248cd7};displayGeneratedQuiz(_0x40b36f);}function showAdminLobbyView(_0x1ce32,_0x4f694e){const _0x20daea=_0x3f08ea;showView(_0x20daea(0x4e5));const _0x54edc9=_0x20daea(0x80a)+_0x4f694e+_0x20daea(0x9df)+_0x1ce32+_0x20daea(0x4bf);liveGameView[_0x20daea(0x1bb)]=_0x54edc9,document['getElementById'](_0x20daea(0x38f))[_0x20daea(0x908)](_0x20daea(0x405),async()=>{const _0x5c3207=_0x20daea;if(!currentQuizData||!currentQuizData[_0x5c3207(0x2bb)]||currentQuizData[_0x5c3207(0x2bb)][_0x5c3207(0x31f)]===0x0){showMessage(_0x5c3207(0x58f));return;}try{const _0x2b3df1=doc(db,_0x5c3207(0x439)+appId+_0x5c3207(0x7bb),currentLiveGameId);await updateDoc(_0x2b3df1,{'status':_0x5c3207(0x8e9),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x592e84=currentQuizData[_0x5c3207(0x2bb)][0x0],_0x353fd1=currentQuizData['questions'][_0x5c3207(0x31f)];showAdminLiveQuestionView(_0x592e84,0x0,_0x353fd1);}catch(_0x1e6354){console[_0x5c3207(0x183)](_0x5c3207(0x882),_0x1e6354),showMessage(_0x5c3207(0x181));}});}async function openGlobalLiveModal(){const _0x1a232d=_0x3f08ea;if(allQuizzesGlobal['length']===0x0){const _0x3c5a67=await getDocs(collection(db,_0x1a232d(0x439)+appId+_0x1a232d(0x5e9)));allQuizzesGlobal=_0x3c5a67[_0x1a232d(0x971)][_0x1a232d(0x743)](_0x176fc6=>({'id':_0x176fc6['id'],..._0x176fc6[_0x1a232d(0x612)]()}));}renderGlobalQuizList(''),document[_0x1a232d(0x274)](_0x1a232d(0x974))[_0x1a232d(0x67e)][_0x1a232d(0xaa2)](_0x1a232d(0x66d));}async function openQuizBankModal(){const _0x59552e=_0x3f08ea;if(allQuizzesGlobal[_0x59552e(0x31f)]===0x0){const _0x4f33c8=await getDocs(collection(db,_0x59552e(0x439)+appId+_0x59552e(0x5e9)));allQuizzesGlobal=_0x4f33c8[_0x59552e(0x971)][_0x59552e(0x743)](_0x11e3a2=>({'id':_0x11e3a2['id'],..._0x11e3a2[_0x59552e(0x612)]()}));}renderQuizBankList(''),document[_0x59552e(0x274)](_0x59552e(0xacf))[_0x59552e(0x67e)][_0x59552e(0xaa2)](_0x59552e(0x66d));}function renderQuizBankList(_0xb83603=''){const _0x491103=_0x3f08ea,_0x20f8a=document[_0x491103(0x274)]('bank-quiz-list'),_0x82e1e5=_0xb83603[_0x491103(0x313)]()[_0x491103(0x5d8)](),_0x3c164a=allQuizzesGlobal[_0x491103(0x743)](_0x1a03fa=>({..._0x1a03fa,'projectName':allProjects[_0x491103(0x270)](_0x5c5e2e=>_0x5c5e2e['id']===_0x1a03fa[_0x491103(0x6ec)])?.['projectName']||_0x491103(0x78a)}))[_0x491103(0x30b)](_0x5b4c4e=>(_0x5b4c4e[_0x491103(0x994)]||'')[_0x491103(0x313)]()['includes'](_0x82e1e5)||(_0x5b4c4e[_0x491103(0x3ad)]||'')[_0x491103(0x313)]()[_0x491103(0x634)](_0x82e1e5)||_0x5b4c4e['id'][_0x491103(0x999)]()[_0x491103(0x634)](_0x82e1e5));document[_0x491103(0x274)](_0x491103(0x445))[_0x491103(0x7b7)]='('+_0x3c164a[_0x491103(0x31f)]+_0x491103(0x49e),_0x20f8a[_0x491103(0x1bb)]=_0x3c164a['length']?_0x3c164a['map'](_0x50ae37=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x50ae37['id']+_0x491103(0x96a)+(_0x50ae37['topic']||_0x491103(0x58a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x50ae37[_0x491103(0x2bb)]?.[_0x491103(0x31f)]||0x0)+_0x491103(0x523)+_0x50ae37[_0x491103(0x3ad)]+_0x491103(0x783)+_0x50ae37['id']+_0x491103(0x252)+_0x50ae37['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50ae37['id']+_0x491103(0x498)+_0x50ae37['id']+_0x491103(0x54f)+_0x50ae37['id']+_0x491103(0x8a1)+_0x50ae37['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50ae37['id']+'\x22\x20data-topic=\x22'+_0x50ae37['topic']+_0x491103(0x17d))[_0x491103(0xaad)](''):_0x491103(0x40e),_0x20f8a[_0x491103(0x591)](_0x491103(0x3de))[_0x491103(0x232)](_0x4e88f0=>{const _0x5f0687=_0x491103;_0x4e88f0['addEventListener'](_0x5f0687(0x405),()=>{const _0xf779f9=_0x5f0687,_0x36357f=_0x4e88f0[_0xf779f9(0x145)]['id'];document['getElementById'](_0xf779f9(0xacf))['classList'][_0xf779f9(0x677)](_0xf779f9(0x66d)),showQuizDetailView(_0x36357f);});}),_0x20f8a[_0x491103(0x591)](_0x491103(0x881))[_0x491103(0x232)](_0x14bb33=>{const _0x2bf0f1=_0x491103;_0x14bb33[_0x2bf0f1(0x908)](_0x2bf0f1(0x405),_0x70f914=>{const _0x4b8be2=_0x2bf0f1;_0x70f914['stopPropagation']();const _0x1fcd9c=_0x14bb33[_0x4b8be2(0x145)]['id'],_0x1d65a9=allQuizzesGlobal[_0x4b8be2(0x270)](_0x8b30a5=>_0x8b30a5['id']===_0x1fcd9c);_0x1d65a9?(currentQuizData=_0x1d65a9,document[_0x4b8be2(0x274)](_0x4b8be2(0xacf))[_0x4b8be2(0x67e)][_0x4b8be2(0x677)](_0x4b8be2(0x66d)),startAdminTest()):showMessage(_0x4b8be2(0xa37));});}),_0x20f8a[_0x491103(0x591)](_0x491103(0x784))['forEach'](_0x1202eb=>{const _0x21ed9a=_0x491103;_0x1202eb['addEventListener'](_0x21ed9a(0x405),_0x50875d=>{const _0x334327=_0x21ed9a;_0x50875d[_0x334327(0x26a)]();const _0x4f831d=_0x1202eb[_0x334327(0x145)]['id'],_0x4663f8=allQuizzesGlobal[_0x334327(0x270)](_0x40f1c9=>_0x40f1c9['id']===_0x4f831d);_0x4663f8?(document[_0x334327(0x274)](_0x334327(0xacf))[_0x334327(0x67e)]['add'](_0x334327(0x66d)),handleGenerateParallelFromBank(_0x4663f8)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x20f8a['querySelectorAll'](_0x491103(0x3a8))[_0x491103(0x232)](_0x3d2da9=>{const _0x148dc1=_0x491103;_0x3d2da9[_0x148dc1(0x908)](_0x148dc1(0x405),_0x1b489c=>{const _0x21e139=_0x148dc1;_0x1b489c['stopPropagation']();const _0x5ce2bf=_0x3d2da9[_0x21e139(0x145)]['id'],_0xb74997=allQuizzesGlobal[_0x21e139(0x270)](_0x4521ed=>_0x4521ed['id']===_0x5ce2bf);_0xb74997?(document['getElementById'](_0x21e139(0xacf))[_0x21e139(0x67e)]['add'](_0x21e139(0x66d)),startPresentation(_0xb74997)):showMessage(_0x21e139(0xa37));});}),_0x20f8a[_0x491103(0x591)](_0x491103(0x6c8))[_0x491103(0x232)](_0x1434a3=>{const _0x38b555=_0x491103;_0x1434a3[_0x38b555(0x908)](_0x38b555(0x405),_0x12555a=>{const _0x56a7a1=_0x38b555;_0x12555a['stopPropagation']();const _0x2df576=_0x1434a3['dataset']['id'];document['getElementById']('quiz-bank-modal')[_0x56a7a1(0x67e)][_0x56a7a1(0x677)](_0x56a7a1(0x66d)),handleMoveQuiz(_0x2df576);});}),_0x20f8a[_0x491103(0x591)](_0x491103(0xa8d))[_0x491103(0x232)](_0x1b708d=>{const _0x3fb047=_0x491103;_0x1b708d['addEventListener'](_0x3fb047(0x405),_0x30a92e=>{const _0x3d305e=_0x3fb047;_0x30a92e['stopPropagation']();const _0x294035=_0x1b708d['dataset']['id'];document[_0x3d305e(0x274)](_0x3d305e(0xacf))['classList']['add'](_0x3d305e(0x66d)),handleQuizSettings(_0x294035);});}),_0x20f8a[_0x491103(0x591)](_0x491103(0x39f))['forEach'](_0xc8cdd0=>{const _0x4aa0a3=_0x491103;_0xc8cdd0['addEventListener'](_0x4aa0a3(0x405),_0x2da9e5=>{const _0x2f782e=_0x4aa0a3;_0x2da9e5[_0x2f782e(0x26a)]();const _0x1d47ec=_0xc8cdd0[_0x2f782e(0x145)]['id'],_0x40b717=_0xc8cdd0[_0x2f782e(0x145)][_0x2f782e(0x994)];showConfirmation(_0x2f782e(0x9bb)+_0x40b717+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x1d47ec));});});}async function handleCompareResults(_0xc81b97,_0x539bc9){const _0x4f149d=_0x3f08ea,_0x1034a9=document[_0x4f149d(0x274)](_0x4f149d(0x98c)),_0x43c6c6=document[_0x4f149d(0x274)](_0x4f149d(0x5bd)),_0xf7292a=document[_0x4f149d(0x274)](_0x4f149d(0x6c7));document[_0x4f149d(0x274)](_0x4f149d(0x6b2))[_0x4f149d(0x67e)]['add'](_0x4f149d(0x415)),document[_0x4f149d(0x274)](_0x4f149d(0x164))[_0x4f149d(0x67e)][_0x4f149d(0xaa2)]('active'),_0x43c6c6['classList'][_0x4f149d(0xaa2)](_0x4f149d(0x66d)),_0xf7292a[_0x4f149d(0x67e)][_0x4f149d(0x677)](_0x4f149d(0x66d)),_0x43c6c6[_0x4f149d(0x1bb)]=_0x4f149d(0x851),_0xf7292a[_0x4f149d(0x1bb)]='',_0x1034a9[_0x4f149d(0x67e)]['remove'](_0x4f149d(0x66d));try{const _0x2ba996=doc(db,'artifacts/'+appId+_0x4f149d(0x5e9),_0xc81b97),_0x18988c=await getDoc(_0x2ba996);if(!_0x18988c[_0x4f149d(0x905)]())throw new Error(_0x4f149d(0xacc));const _0x29df33=_0x18988c[_0x4f149d(0x612)](),_0x1ae6f8=_0x29df33[_0x4f149d(0x2bb)]['length'],_0x44c345=collection(db,_0x4f149d(0x439)+appId+'/public/data/quizzes/'+_0x539bc9+_0x4f149d(0x9dd)),_0x3f9718=collection(db,_0x4f149d(0x439)+appId+'/public/data/quizzes/'+_0xc81b97+_0x4f149d(0x9dd)),[_0x38a9f0,_0xe20512]=await Promise[_0x4f149d(0xa59)]([getDocs(_0x44c345),getDocs(_0x3f9718)]),_0x594a49=_0x38a9f0[_0x4f149d(0x971)][_0x4f149d(0x743)](_0x9661e1=>_0x9661e1['data']()),_0x2f89bf=_0xe20512['docs'][_0x4f149d(0x743)](_0x2c8b30=>_0x2c8b30['data']()),_0x4980ea=_0x594a49[_0x4f149d(0x743)](_0x27b8cb=>_0x27b8cb[_0x4f149d(0x824)]),_0x187877=_0x2f89bf[_0x4f149d(0x743)](_0x192424=>_0x192424['latestScore']),_0x54ae66=calculateMeanAndStdDev(_0x4980ea),_0x595fdf=calculateMeanAndStdDev(_0x187877),_0x5df42d=_0x54ae66[_0x4f149d(0x4ea)],_0x45edfc=_0x595fdf[_0x4f149d(0x4ea)],_0x596667=_0x45edfc-_0x5df42d;let _0x3cbf70=_0x4f149d(0x828)+_0x5df42d['toFixed'](0x2)+_0x4f149d(0x3c9)+_0x45edfc[_0x4f149d(0x2cd)](0x2)+_0x4f149d(0x4c1)+(_0x596667>=0x0?'bg-emerald-100':_0x4f149d(0x97b))+_0x4f149d(0x6b6)+(_0x596667>=0x0?_0x4f149d(0x92d):_0x4f149d(0x332))+_0x4f149d(0x66b)+(_0x596667>=0x0?_0x4f149d(0x7f1):'text-red-900')+'\x22>'+(_0x596667>=0x0?'+':'')+_0x596667['toFixed'](0x2)+_0x4f149d(0x43e);_0x43c6c6[_0x4f149d(0x1bb)]=_0x3cbf70;const _0x3215d7=document[_0x4f149d(0x274)](_0x4f149d(0x63f))[_0x4f149d(0xa41)]('2d');if(chartInstances[_0x4f149d(0x504)])chartInstances[_0x4f149d(0x504)][_0x4f149d(0x5b5)]();chartInstances[_0x4f149d(0x504)]=new Chart(_0x3215d7,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x4f149d(0x254),'data':[_0x5df42d],'backgroundColor':_0x4f149d(0x19e)},{'label':'หลังเรียน','data':[_0x45edfc],'backgroundColor':_0x4f149d(0xa30)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1ae6f8}}}});const _0x57ef33=currentProjectData[_0x4f149d(0x88f)]||[],_0x4cd45b=_0x57ef33[_0x4f149d(0x743)](_0x1046e6=>{const _0x167dbc=_0x4f149d,_0x548ee2=_0x594a49[_0x167dbc(0x270)](_0x32a5c0=>_0x32a5c0['studentName']===_0x1046e6),_0x154009=_0x2f89bf[_0x167dbc(0x270)](_0x33d7f9=>_0x33d7f9['studentName']===_0x1046e6),_0x631380=_0x548ee2?_0x548ee2['latestScore']:null,_0x16ff26=_0x154009?_0x154009[_0x167dbc(0x824)]:null,_0x5a507c=_0x631380!==null&&_0x16ff26!==null?_0x16ff26-_0x631380:null,_0x4ba539=_0x631380!==null?calculateZScore(_0x631380,_0x54ae66[_0x167dbc(0x4ea)],_0x54ae66[_0x167dbc(0x2a0)]):null,_0x164b36=_0x16ff26!==null?calculateZScore(_0x16ff26,_0x595fdf[_0x167dbc(0x4ea)],_0x595fdf[_0x167dbc(0x2a0)]):null,_0x125b56=_0x4ba539!==null?calculateTScore(_0x4ba539):null,_0x8d4b5d=_0x164b36!==null?calculateTScore(_0x164b36):null,_0x3868fc=_0x125b56!==null&&_0x8d4b5d!==null?_0x8d4b5d-_0x125b56:null;return{'name':_0x1046e6,'preScore':_0x631380,'postScore':_0x16ff26,'gain':_0x5a507c,'preTScore':_0x125b56,'postTScore':_0x8d4b5d,'tGain':_0x3868fc};});renderIndividualComparisonTable(_0x4cd45b,_0xf7292a);}catch(_0x446e86){console[_0x4f149d(0x183)]('Error\x20comparing\x20results:',_0x446e86),_0x43c6c6[_0x4f149d(0x1bb)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x190ed2,_0x494ad5){const _0x59e671=_0x3f08ea,_0x7c4044=_0x190ed2>=_0x494ad5/0x2,_0x52cc9a=_0x7c4044?'bg-green-100':_0x59e671(0x97b),_0x5064dd=_0x7c4044?_0x59e671(0x5ec):_0x59e671(0x6df),_0x49464c=_0x7c4044?_0x59e671(0x4c9):_0x59e671(0x332),_0x312b41=_0x7c4044?_0x59e671(0xa5a):_0x59e671(0x9f6),_0x36cd94=_0x7c4044?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x5a66af=_0x59e671(0xaea)+_0x52cc9a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5064dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x49464c+'\x20mb-2\x22>'+_0x312b41+_0x59e671(0x549)+_0x36cd94+_0x59e671(0x610);studentResultArea[_0x59e671(0x1bb)]=_0x5a66af,studentResultArea[_0x59e671(0x67e)][_0x59e671(0xaa2)](_0x59e671(0x66d)),studentQuizArea[_0x59e671(0x67e)]['add'](_0x59e671(0x66d)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x7c4044});}function displayPerfectScoreResult(_0x76f5ae,_0x370213){const _0x42bc6a=_0x3f08ea,_0x596008=_0x76f5ae===_0x370213,_0x690df8=_0x596008?_0x42bc6a(0x508):_0x42bc6a(0x263),_0x462d7b=_0x596008?_0x42bc6a(0x2aa):_0x42bc6a(0x2da),_0xd407c2=_0x596008?_0x42bc6a(0x5f9):_0x42bc6a(0x9c3),_0x302d52=_0x596008?_0x42bc6a(0x17c):'ยังไม่เต็มนะ',_0x3daf7b=_0x596008?_0x42bc6a(0x6b1):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x41784e=_0x42bc6a(0xaea)+_0x690df8+_0x42bc6a(0x4c4)+_0x462d7b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0xd407c2+_0x42bc6a(0x178)+_0x302d52+_0x42bc6a(0x549)+_0x3daf7b+_0x42bc6a(0x610);studentResultArea['innerHTML']=_0x41784e,studentResultArea[_0x42bc6a(0x67e)][_0x42bc6a(0xaa2)]('hidden'),studentQuizArea['classList'][_0x42bc6a(0x677)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x76f5ae,'totalQuestions':_0x370213});}function renderIndividualComparisonTable(_0x2d90b5,_0x2e0441){const _0x124168=_0x3f08ea;_0x2d90b5[_0x124168(0x34f)]((_0x2108b3,_0x570fba)=>(_0x570fba[_0x124168(0x369)]??-Infinity)-(_0x2108b3[_0x124168(0x369)]??-Infinity));let _0x4dc02d=_0x124168(0x2df);_0x2d90b5[_0x124168(0x31f)]===0x0?_0x4dc02d+=_0x124168(0xac1):_0x2d90b5[_0x124168(0x232)]((_0x4ce715,_0x14ba8c)=>{const _0x528886=_0x124168;let _0x4cfed4='-',_0x2aed33='';if(_0x4ce715['gain']!==null){const _0xf9d033=_0x4ce715[_0x528886(0x9f0)]>0x0?_0x528886(0x71c):_0x4ce715[_0x528886(0x9f0)]<0x0?_0x528886(0x44f):'text-gray-500',_0x14b33a=_0x4ce715[_0x528886(0x9f0)]>0x0?'+':'';_0x4cfed4='<span\x20class=\x22font-bold\x20'+_0xf9d033+'\x22>'+_0x14b33a+_0x4ce715[_0x528886(0x9f0)]+_0x528886(0x18a);if(_0x4ce715['gain']>0x0)_0x2aed33='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x4ce715[_0x528886(0x9f0)]<0x0?_0x2aed33=_0x528886(0x585):_0x2aed33=_0x528886(0x7e7);}let _0x58aac7='-';if(_0x4ce715['tGain']!==null){const _0x24a849=_0x4ce715[_0x528886(0x369)]>0x0?_0x528886(0x71c):_0x4ce715[_0x528886(0x369)]<0x0?_0x528886(0x44f):_0x528886(0x383),_0x4a1aa7=_0x4ce715[_0x528886(0x369)]>0x0?'+':'';_0x58aac7=_0x528886(0x4ac)+_0x24a849+'\x22>'+_0x4a1aa7+_0x4ce715['tGain'][_0x528886(0x2cd)](0x2)+'</span>';}_0x4dc02d+=_0x528886(0x3e1)+(_0x14ba8c+0x1)+_0x528886(0xa03)+_0x4ce715[_0x528886(0x340)]+_0x528886(0x4a7)+(_0x4ce715['preScore']??'-')+_0x528886(0x561)+(_0x4ce715[_0x528886(0x435)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x4cfed4+_0x528886(0x766)+_0x2aed33+_0x528886(0x285)+(_0x4ce715[_0x528886(0x77e)]?.[_0x528886(0x2cd)](0x2)??'-')+_0x528886(0x615)+(_0x4ce715[_0x528886(0x626)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x58aac7+_0x528886(0x2b2);}),_0x4dc02d+='</tbody></table></div>',_0x2e0441[_0x124168(0x1bb)]=_0x4dc02d;}function handleRenameQuiz(_0xc4089c,_0x3c37fe){const _0x428053=_0x3f08ea;actionTargetId=_0xc4089c,document[_0x428053(0x274)]('rename-quiz-input')[_0x428053(0x303)]=_0x3c37fe,renameQuizModal['classList'][_0x428053(0xaa2)](_0x428053(0x66d));}function setupComparisonModalTabs(){const _0x164879=_0x3f08ea,_0x437d8d=document[_0x164879(0x274)](_0x164879(0x6b2)),_0x7ea0a4=document['getElementById']('comparison-individual-tab'),_0x5d2f9f=document[_0x164879(0x274)](_0x164879(0x5bd)),_0x22a2af=document['getElementById'](_0x164879(0x6c7));_0x437d8d['addEventListener'](_0x164879(0x405),()=>{const _0xca3ef3=_0x164879;_0x437d8d[_0xca3ef3(0x67e)][_0xca3ef3(0x677)](_0xca3ef3(0x415)),_0x7ea0a4['classList'][_0xca3ef3(0xaa2)](_0xca3ef3(0x415)),_0x5d2f9f['classList'][_0xca3ef3(0xaa2)](_0xca3ef3(0x66d)),_0x22a2af[_0xca3ef3(0x67e)][_0xca3ef3(0x677)](_0xca3ef3(0x66d));}),_0x7ea0a4[_0x164879(0x908)](_0x164879(0x405),()=>{const _0x112b42=_0x164879;_0x7ea0a4['classList'][_0x112b42(0x677)](_0x112b42(0x415)),_0x437d8d['classList'][_0x112b42(0xaa2)](_0x112b42(0x415)),_0x22a2af[_0x112b42(0x67e)][_0x112b42(0xaa2)](_0x112b42(0x66d)),_0x5d2f9f[_0x112b42(0x67e)]['add'](_0x112b42(0x66d));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x49019a=''){const _0x24a6d6=_0x3f08ea,_0x2d1283=document[_0x24a6d6(0x274)](_0x24a6d6(0x529)),_0x49e77c=_0x49019a['toLowerCase']()['trim'](),_0x208688=allQuizzesGlobal[_0x24a6d6(0x743)](_0x4e96d7=>({..._0x4e96d7,'projectName':allProjects['find'](_0x27178d=>_0x27178d['id']===_0x4e96d7['projectId'])?.['projectName']||_0x4e96d7[_0x24a6d6(0x6ec)]}))[_0x24a6d6(0x30b)](_0x1e1149=>(_0x1e1149[_0x24a6d6(0x994)]||'')[_0x24a6d6(0x313)]()[_0x24a6d6(0x634)](_0x49e77c)||(_0x1e1149[_0x24a6d6(0x3ad)]||'')['toLowerCase']()[_0x24a6d6(0x634)](_0x49e77c));document[_0x24a6d6(0x274)](_0x24a6d6(0x469))['textContent']='('+_0x208688['length']+_0x24a6d6(0x49e),_0x2d1283[_0x24a6d6(0x1bb)]=_0x208688[_0x24a6d6(0x31f)]?_0x208688[_0x24a6d6(0x743)](_0x2e7206=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2e7206['id']+_0x24a6d6(0x168)+(_0x2e7206[_0x24a6d6(0x994)]||_0x24a6d6(0x58a))+_0x24a6d6(0x74f)+(_0x2e7206[_0x24a6d6(0x2bb)]?.[_0x24a6d6(0x31f)]||0x0)+_0x24a6d6(0x97c)+_0x2e7206[_0x24a6d6(0x3ad)]+_0x24a6d6(0x805))[_0x24a6d6(0xaad)](''):_0x24a6d6(0x266),selectedGlobalQuizId=null,document[_0x24a6d6(0x274)]('confirm-global-live-btn')[_0x24a6d6(0x5a2)]=!![],_0x2d1283['querySelectorAll'](_0x24a6d6(0x85b))[_0x24a6d6(0x232)](_0x515363=>{const _0xfe444e=_0x24a6d6;_0x515363['addEventListener'](_0xfe444e(0x405),()=>{const _0xef80f5=_0xfe444e;selectedGlobalQuizId=_0x515363[_0xef80f5(0x145)]['id'],_0x2d1283['querySelectorAll'](_0xef80f5(0x490))[_0xef80f5(0x232)](_0xff7608=>_0xff7608[_0xef80f5(0x67e)][_0xef80f5(0xaa2)]('bg-purple-50','ring-2',_0xef80f5(0x6a5))),_0x515363[_0xef80f5(0x67e)]['add'](_0xef80f5(0xa81),_0xef80f5(0x6f4),_0xef80f5(0x6a5)),document['getElementById'](_0xef80f5(0x394))[_0xef80f5(0x5a2)]=![];});});}function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x596e8a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x596e8a,_0x4ccf90=>{const _0x748309=_0x1cca;if(!_0x4ccf90[_0x748309(0x905)]()){showMessage(_0x748309(0x2b0)),showView(currentMode);return;}const _0xb8d278=_0x4ccf90[_0x748309(0x612)]();_0xb8d278[_0x748309(0x91e)]&&(currentQuizData=_0xb8d278[_0x748309(0x91e)]);!currentQuizData&&_0xb8d278[_0x748309(0x628)]&&((async()=>{const _0x10c6e4=_0x748309;try{const _0xe29181=doc(db,_0x10c6e4(0x439)+appId+_0x10c6e4(0x5e9),_0xb8d278[_0x10c6e4(0x628)]),_0x4f9d25=await getDoc(_0xe29181);_0x4f9d25['exists']()&&(currentQuizData={'id':_0x4f9d25['id'],..._0x4f9d25['data']()});}catch(_0x1557da){console['error'](_0x10c6e4(0x473),_0x1557da);}})());switch(_0xb8d278[_0x748309(0x7af)]){case'lobby':if(currentMode===_0x748309(0xa73)){const _0x46062c=_0xb8d278['players']?Object[_0x748309(0x282)](_0xb8d278[_0x748309(0x896)]):[],_0x50ad16=_0x46062c[_0x748309(0x30b)](([_0x40e0a8,_0x37a2df])=>_0x37a2df[_0x748309(0x7af)]===_0x748309(0x415)),_0x5ce06c=document[_0x748309(0x274)](_0x748309(0x36c));if(_0x5ce06c)_0x5ce06c[_0x748309(0x7b7)]=_0x50ad16['length'];const _0x575fb2=document['getElementById'](_0x748309(0x450));_0x575fb2&&(_0x575fb2[_0x748309(0x1bb)]=_0x50ad16[_0x748309(0x743)](([_0xd5fa63,_0xb38f2f])=>_0x748309(0x2f7)+_0xd5fa63+_0x748309(0x826)+_0xd5fa63+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x33e964=document[_0x748309(0x274)](_0x748309(0x38f));_0x33e964&&(_0x33e964[_0x748309(0x5a2)]=_0x50ad16['length']===0x0);}else showView('live-game'),liveGameView[_0x748309(0x1bb)]=_0x748309(0x69b)+currentStudentName+_0x748309(0x2ff);break;case _0x748309(0x8e9):const _0x172352=_0xb8d278[_0x748309(0x787)];if(currentQuizData&&currentQuizData[_0x748309(0x2bb)][_0x172352]){const _0x28e5b0=currentQuizData[_0x748309(0x2bb)][_0x172352],_0x2129e8=_0xb8d278[_0x748309(0x6cc)]||_0x748309(0x71a);switch(_0x2129e8){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0xb8d278,_0x28e5b0):showPlayerSummaryView(_0xb8d278,currentStudentName);break;case'leaderboard':currentMode===_0x748309(0xa73)&&showTop5LeaderboardView(_0xb8d278);break;case _0x748309(0x71a):default:if(currentMode===_0x748309(0xa73)){const _0x2af962=writeBatch(db);let _0x44a680=![];Object[_0x748309(0x282)](_0xb8d278['players'])['forEach'](([_0x34fe40,_0x335119])=>{const _0x46271e=_0x748309;if(_0x335119[_0x46271e(0x7af)]===_0x46271e(0x415)&&_0x335119['submittedAt']&&!_0x335119[_0x46271e(0x800)]){_0x44a680=!![];const _0x5714e2=_0x335119[_0x46271e(0xa42)][_0x46271e(0x9c2)]()-_0xb8d278[_0x46271e(0x820)][_0x46271e(0x9c2)]();let _0x52ee8e=0x0;if(_0x335119[_0x46271e(0x3f0)]){const _0x428ab3=0x3e8,_0x5322da=0x1f4,_0x3978ac=0x4e20;let _0x12cf83=_0x5714e2/_0x3978ac;if(_0x12cf83>0x1)_0x12cf83=0x1;const _0x127da5=Math[_0x46271e(0x951)](_0x12cf83*_0x5322da);_0x52ee8e=_0x428ab3-_0x127da5;}const _0x5e07f1=doc(db,_0x46271e(0x439)+appId+_0x46271e(0x7bb),currentLiveGameId);_0x2af962[_0x46271e(0xa7d)](_0x5e07f1,{[_0x46271e(0x461)+_0x34fe40+_0x46271e(0x73d)]:increment(_0x52ee8e),[_0x46271e(0x461)+_0x34fe40+'.pointsLastQuestion']:_0x52ee8e,[_0x46271e(0x461)+_0x34fe40+'.isScored']:!![]});}});_0x44a680&&_0x2af962[_0x748309(0x296)]()[_0x748309(0xa54)](_0x379389=>console['error'](_0x748309(0x348),_0x379389));lastRenderedAdminQuestionIndex!==_0x172352&&(showAdminLiveQuestionView(_0x28e5b0,_0x172352,currentQuizData[_0x748309(0x2bb)][_0x748309(0x31f)]),lastRenderedAdminQuestionIndex=_0x172352);const _0x1e3993=_0xb8d278['players']||{},_0x2bf406=Object[_0x748309(0x237)](_0x1e3993)[_0x748309(0x30b)](_0x4ec548=>_0x4ec548[_0x748309(0x7af)]===_0x748309(0x415)),_0x2a5000=_0x2bf406[_0x748309(0x31f)],_0x3a8acf=_0x2bf406[_0x748309(0x30b)](_0x27329e=>_0x27329e[_0x748309(0x247)]===!![])[_0x748309(0x31f)],_0x4eea80=document['getElementById'](_0x748309(0x5cd));if(_0x4eea80)_0x4eea80['textContent']=_0x3a8acf+'/'+_0x2a5000;const _0x5a8cfb=document[_0x748309(0x274)]('live-player-list');if(_0x5a8cfb){let _0x2a6e09=Object['entries'](_0x1e3993)['filter'](([_0x554889,_0x6a858])=>_0x6a858[_0x748309(0x7af)]===_0x748309(0x415))['map'](([_0x405596,_0x4945e4])=>{const _0x124e32=_0x748309,_0x53b75e=_0x4945e4[_0x124e32(0x247)]===!![],_0x244505=_0x53b75e?_0x124e32(0x268):_0x124e32(0x936),_0x4eede7=_0x53b75e?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x124e32(0x863)+_0x244505+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4eede7+_0x124e32(0x238)+_0x405596+_0x124e32(0x5a7)+_0x405596+_0x124e32(0x690);})[_0x748309(0xaad)]('');_0x5a8cfb[_0x748309(0x1bb)]=_0x2a6e09||_0x748309(0x45d);}_0x2a5000>0x0&&_0x3a8acf===_0x2a5000&&revealAnswerForAdmin(_0x172352,currentQuizData[_0x748309(0x2bb)]['length']);}else{const _0x5c2e45=_0xb8d278[_0x748309(0x896)][currentStudentName];_0x5c2e45&&!_0x5c2e45[_0x748309(0x247)]&&showStudentLiveQuestionView(_0x28e5b0,_0x172352,currentQuizData[_0x748309(0x2bb)][_0x748309(0x31f)]);}break;}}break;case _0x748309(0x7b5):showPodiumView(_0xb8d278[_0x748309(0x896)],_0x748309(0xad7));break;}});}async function handleKickPlayer(_0x1ffde0){const _0x1ca044=_0x3f08ea;if(!currentLiveGameId||!_0x1ffde0)return;const _0x50e7b7=doc(db,'artifacts/'+appId+_0x1ca044(0x7bb),currentLiveGameId),_0x48912e={};_0x48912e[_0x1ca044(0x461)+_0x1ffde0+_0x1ca044(0x598)]=_0x1ca044(0x8f2);try{await updateDoc(_0x50e7b7,_0x48912e);}catch(_0x4d0a05){console[_0x1ca044(0x183)](_0x1ca044(0x197)+_0x1ffde0+':',_0x4d0a05),showMessage(_0x1ca044(0x47e));}}async function authenticateUser(){const _0x368d3e=_0x3f08ea;try{typeof __initial_auth_token!==_0x368d3e(0x3aa)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xe469d3){console[_0x368d3e(0x183)]('Authentication\x20failed:',_0xe469d3),showMessage(_0x368d3e(0x829));}}function showView(_0xef3033){const _0x5ce842=_0x3f08ea;adminView[_0x5ce842(0x67e)][_0x5ce842(0x677)](_0x5ce842(0x66d)),studentView[_0x5ce842(0x67e)][_0x5ce842(0x677)](_0x5ce842(0x66d)),projectDashboardView['classList']['add'](_0x5ce842(0x66d)),projectDetailView['classList'][_0x5ce842(0x677)](_0x5ce842(0x66d)),quizResultsView[_0x5ce842(0x67e)][_0x5ce842(0x677)]('hidden'),liveGameView[_0x5ce842(0x67e)]['add'](_0x5ce842(0x66d)),studentInitialView[_0x5ce842(0x67e)][_0x5ce842(0x677)](_0x5ce842(0x66d)),studentJoinGameView['classList'][_0x5ce842(0x677)](_0x5ce842(0x66d)),studentNameSelectionView[_0x5ce842(0x67e)][_0x5ce842(0x677)]('hidden'),studentQuizArea[_0x5ce842(0x67e)]['add']('hidden'),studentResultArea[_0x5ce842(0x67e)]['add'](_0x5ce842(0x66d)),studentReadingArea[_0x5ce842(0x67e)]['add'](_0x5ce842(0x66d));const _0x20a702=document[_0x5ce842(0x274)](_0x5ce842(0x477)),_0x2a52f3=document[_0x5ce842(0x274)](_0x5ce842(0x2fc));if(_0x20a702)_0x20a702[_0x5ce842(0x67e)]['add'](_0x5ce842(0x66d));if(_0x2a52f3)_0x2a52f3[_0x5ce842(0x67e)]['add'](_0x5ce842(0x66d));switch(_0xef3033){case _0x5ce842(0x19a):adminView[_0x5ce842(0x67e)]['remove']('hidden'),projectDashboardView['classList'][_0x5ce842(0xaa2)]('hidden');break;case _0x5ce842(0x484):adminView[_0x5ce842(0x67e)]['remove'](_0x5ce842(0x66d)),projectDetailView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d));break;case _0x5ce842(0x319):adminView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)]('hidden'),quizResultsView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d));break;case'student':studentView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d)),studentInitialView['classList']['remove'](_0x5ce842(0x66d));break;case'live-game':liveGameView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d));break;case'student-team-join':studentView['classList'][_0x5ce842(0xaa2)](_0x5ce842(0x66d));if(_0x20a702)_0x20a702[_0x5ce842(0x67e)]['remove'](_0x5ce842(0x66d));break;case'student-progress':studentView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d));if(_0x2a52f3)_0x2a52f3['classList'][_0x5ce842(0xaa2)](_0x5ce842(0x66d));break;default:studentView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d)),studentInitialView[_0x5ce842(0x67e)][_0x5ce842(0xaa2)](_0x5ce842(0x66d));break;}}function showJoinGameView(){const _0x34c216=_0x3f08ea;studentInitialView[_0x34c216(0x67e)][_0x34c216(0x677)](_0x34c216(0x66d)),studentJoinGameView[_0x34c216(0x67e)][_0x34c216(0xaa2)]('hidden');}async function handleSaveVisibilitySettings(){const _0x1847f2=_0x3f08ea;if(!currentProjectId)return;const _0x30b0f5=doc(db,_0x1847f2(0x439)+appId+_0x1847f2(0x6ad),currentProjectId);try{await updateDoc(_0x30b0f5,{'settings.showInStudentDashboard':document[_0x1847f2(0x274)](_0x1847f2(0x667))[_0x1847f2(0x835)],'settings.isPasscodeEnabled':document['getElementById'](_0x1847f2(0x195))['checked'],'settings.passcode':document[_0x1847f2(0x274)](_0x1847f2(0x837))[_0x1847f2(0x303)]['trim']()}),showMessage(_0x1847f2(0x2ec));}catch(_0x14e21d){console[_0x1847f2(0x183)](_0x1847f2(0x261),_0x14e21d),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0xce2e2d=_0x3f08ea,_0x358388=document[_0xce2e2d(0x274)](_0xce2e2d(0xada)),_0x4f7e85=document['getElementById'](_0xce2e2d(0x3da));_0x358388['addEventListener'](_0xce2e2d(0x8e7),()=>{const _0x558feb=_0xce2e2d;_0x4f7e85[_0x558feb(0x67e)][_0x558feb(0x13f)](_0x558feb(0x66d),!_0x358388[_0x558feb(0x835)]);});const _0x48dc61=document[_0xce2e2d(0x274)](_0xce2e2d(0x693)),_0x547d11=document[_0xce2e2d(0x274)](_0xce2e2d(0x567));_0x48dc61[_0xce2e2d(0x908)]('change',()=>{const _0x3d5388=_0xce2e2d;_0x547d11['classList'][_0x3d5388(0x13f)](_0x3d5388(0x66d),!_0x48dc61[_0x3d5388(0x835)]);});const _0x1e082e=document[_0xce2e2d(0x274)](_0xce2e2d(0x52d)),_0x14e5ca=document[_0xce2e2d(0x274)](_0xce2e2d(0x97e));_0x1e082e[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),()=>{const _0x5dbd3a=_0xce2e2d;_0x14e5ca['classList'][_0x5dbd3a(0x13f)](_0x5dbd3a(0x66d),!_0x1e082e[_0x5dbd3a(0x835)]);});const _0x3a0e58=document[_0xce2e2d(0x274)]('confidence-modal'),_0x111863=async _0x521291=>{const _0x51e146=_0xce2e2d,_0x25067a=document['getElementById'](_0x51e146(0x43f)),_0x2597f8=_0x25067a[_0x51e146(0x145)][_0x51e146(0xac4)],_0x332529=document['getElementById'](_0x51e146(0x9cc));_0x25067a['classList']['add']('hidden');if(_0x2597f8==='timed'){const _0x41335c=_0x332529['value'],_0x251b10={'answer':_0x41335c,'wasConfident':_0x521291};proceedToNextQuestion(_0x251b10);}else{if(_0x2597f8==='sync'){const _0xfc4bae=_0x332529[_0x51e146(0x145)][_0x51e146(0xa0a)],_0x53da29=JSON[_0x51e146(0x2ba)](_0x332529['dataset'][_0x51e146(0x8e9)]),_0x546bbe=JSON[_0x51e146(0x2ba)](_0x332529[_0x51e146(0x145)][_0x51e146(0x335)]),_0x21cd71=_0x332529[_0x51e146(0x145)][_0x51e146(0x6f3)];handleSyncAnswerSubmit(_0xfc4bae,_0x53da29,_0x546bbe,_0x21cd71,_0x521291);}}_0x25067a[_0x51e146(0x145)]['currentMode']='';};document[_0xce2e2d(0x274)]('confirm-confident')['addEventListener'](_0xce2e2d(0x405),()=>_0x111863(!![])),document[_0xce2e2d(0x274)](_0xce2e2d(0x24a))['addEventListener'](_0xce2e2d(0x405),()=>_0x111863(![])),liveGameView[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0x86339d=>{const _0x41c535=_0xce2e2d,_0xe53755=_0x86339d['target']['closest'](_0x41c535(0x47a));if(_0xe53755){const _0x593abc=_0xe53755[_0x41c535(0x145)]['playerName'];_0x593abc&&handleKickPlayerSync(_0x593abc);}});const _0xff3b61=document[_0xce2e2d(0x274)](_0xce2e2d(0xa60)),_0x4b2703=document[_0xce2e2d(0x274)]('cancel-game-start-btn');_0x4b2703['addEventListener'](_0xce2e2d(0x405),()=>{const _0x590fe5=_0xce2e2d;document[_0x590fe5(0x274)](_0x590fe5(0x23f))[_0x590fe5(0x67e)][_0x590fe5(0x677)](_0x590fe5(0x66d));}),_0xff3b61[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x1cf871=_0xce2e2d,_0x17dc61=document['getElementById'](_0x1cf871(0x13d))['value'],_0x3a2528=document[_0x1cf871(0x274)](_0x1cf871(0x194))[_0x1cf871(0x303)],_0xda8aca=document['getElementById'](_0x1cf871(0x40a))[_0x1cf871(0x835)];document[_0x1cf871(0x274)](_0x1cf871(0x23f))[_0x1cf871(0x67e)][_0x1cf871(0x677)](_0x1cf871(0x66d));switch(_0x3a2528){case _0x1cf871(0xad7):handleStartLiveRace(_0x17dc61,_0xda8aca);break;case'team':handleStartTeamQuiz(_0x17dc61,_0xda8aca);break;case _0x1cf871(0xad9):handleStartGroupMode(_0x17dc61,_0xda8aca);break;case _0x1cf871(0x970):handleStartSyncMode(_0x17dc61,_0xda8aca);break;}}),document['getElementById'](_0xce2e2d(0x555))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleJoinGroupActivity),liveGameView['addEventListener'](_0xce2e2d(0x405),_0x2632e3=>{const _0x54d6a1=_0xce2e2d,_0x280113=_0x2632e3[_0x54d6a1(0x1e0)][_0x54d6a1(0x7b9)](_0x54d6a1(0x1e3));document['querySelectorAll'](_0x54d6a1(0x825))[_0x54d6a1(0x232)](_0x5483fa=>{const _0x3075d2=_0x54d6a1;(!_0x280113||_0x5483fa['id']!==_0x280113[_0x3075d2(0x145)]['tooltipTarget'])&&_0x5483fa['classList']['remove'](_0x3075d2(0x6e2));});if(!_0x280113)return;const _0x435058=_0x280113[_0x54d6a1(0x145)]['tooltipTarget'],_0x36b92c=document[_0x54d6a1(0x274)](_0x435058);_0x36b92c&&_0x36b92c[_0x54d6a1(0x67e)][_0x54d6a1(0x13f)](_0x54d6a1(0x6e2));}),liveGameView[_0xce2e2d(0x908)]('click',_0x313f84=>{const _0x596aa8=_0xce2e2d;if(_0x313f84['target'][_0x596aa8(0x67e)]['contains']('kick-player-btn')){const _0x2ed0e4=_0x313f84[_0x596aa8(0x1e0)]['dataset'][_0x596aa8(0x6f3)];_0x2ed0e4&&handleKickPlayer(_0x2ed0e4);}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x4a1))[_0xce2e2d(0x908)](_0xce2e2d(0x5c9),()=>document[_0xce2e2d(0x274)](_0xce2e2d(0x683))[_0xce2e2d(0x67e)][_0xce2e2d(0xaa2)](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x683))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleSaveProjectName),document[_0xce2e2d(0x274)](_0xce2e2d(0x4a1))['addEventListener'](_0xce2e2d(0xaaa),_0x5d9853=>{const _0x1b5443=_0xce2e2d;_0x5d9853[_0x1b5443(0x456)]===_0x1b5443(0x656)&&(_0x5d9853[_0x1b5443(0x18f)](),_0x5d9853[_0x1b5443(0x1e0)]['blur'](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x3259bc=_0xce2e2d;document[_0x3259bc(0x274)](_0x3259bc(0x5d0))[_0x3259bc(0x67e)][_0x3259bc(0xaa2)]('hidden');}),document[_0xce2e2d(0x274)](_0xce2e2d(0x15b))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x34dfad=_0xce2e2d;document[_0x34dfad(0x274)](_0x34dfad(0x5d0))['classList']['add']('hidden');}),document[_0xce2e2d(0x274)](_0xce2e2d(0x97d))['addEventListener'](_0xce2e2d(0x405),handleBulkUpdateQuizSettings),document['getElementById']('mode-switcher-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleModeSwitch),document[_0xce2e2d(0x274)](_0xce2e2d(0x1be))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleUpdateOldQuizzes),document[_0xce2e2d(0x274)]('reset-project-order-btn')['addEventListener']('click',handleResetProjectOrder),document[_0xce2e2d(0x274)]('save-visibility-settings-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleSaveVisibilitySettings),document[_0xce2e2d(0x274)]('add-custom-math-topic-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleAddCustomMathTopic),document[_0xce2e2d(0x274)](_0xce2e2d(0x5f0))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleSelectAllTopics),document[_0xce2e2d(0x274)]('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0xce2e2d(0x274)]('back-to-dashboard-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0xce2e2d(0x274)](_0xce2e2d(0xa2b))[_0xce2e2d(0x908)]('click',()=>{const _0x3950b2=_0xce2e2d;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3950b2(0x484));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x3a0))[_0xce2e2d(0x908)]('click',()=>{showView('admin-dashboard');}),document['getElementById']('modal-close-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x3bb92=_0xce2e2d;messageModal[_0x3bb92(0x67e)][_0x3bb92(0x677)](_0x3bb92(0x66d)),typeof modalConfirmAction===_0x3bb92(0x19c)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0xce2e2d(0x274)](_0xce2e2d(0x8d4))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>createProjectModal[_0xce2e2d(0x67e)][_0xce2e2d(0xaa2)]('hidden')),document['getElementById'](_0xce2e2d(0x70b))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>createProjectModal[_0xce2e2d(0x67e)]['add'](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x259))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>adminPasswordModal[_0xce2e2d(0x67e)][_0xce2e2d(0x677)](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x807))[_0xce2e2d(0x908)]('click',handleAdminLogin),document[_0xce2e2d(0x274)](_0xce2e2d(0xa64))[_0xce2e2d(0x908)]('keyup',_0x369a43=>{const _0x2eece8=_0xce2e2d;if(_0x369a43[_0x2eece8(0x456)]===_0x2eece8(0x656))handleAdminLogin();}),document[_0xce2e2d(0x274)](_0xce2e2d(0x564))[_0xce2e2d(0x908)]('click',()=>{const _0x5015d7=_0xce2e2d;confirmationModal[_0x5015d7(0x67e)]['add'](_0x5015d7(0x66d)),confirmAction=null;}),document[_0xce2e2d(0x274)]('confirm-delete-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x4748b6=_0xce2e2d;confirmAction&&confirmAction(),confirmationModal[_0x4748b6(0x67e)][_0x4748b6(0x677)](_0x4748b6(0x66d)),confirmAction=null;}),document[_0xce2e2d(0x274)]('cancel-rename-quiz-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>renameQuizModal[_0xce2e2d(0x67e)][_0xce2e2d(0x677)](_0xce2e2d(0x66d))),document['getElementById'](_0xce2e2d(0x510))[_0xce2e2d(0x908)](_0xce2e2d(0x405),confirmRenameQuiz),document['getElementById'](_0xce2e2d(0x4b9))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>moveQuizModal[_0xce2e2d(0x67e)][_0xce2e2d(0x677)](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x802))[_0xce2e2d(0x908)]('click',confirmMoveQuiz),document[_0xce2e2d(0x274)](_0xce2e2d(0x861))['addEventListener']('click',()=>quizSettingsModal['classList']['add'](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x969))[_0xce2e2d(0x908)](_0xce2e2d(0x405),confirmQuizSettings),document[_0xce2e2d(0x274)](_0xce2e2d(0x34e))[_0xce2e2d(0x908)]('click',()=>quizStatusModal[_0xce2e2d(0x67e)]['add'](_0xce2e2d(0x66d))),document[_0xce2e2d(0x274)](_0xce2e2d(0x932))['addEventListener']('click',confirmQuizStatus);const _0x4fd105=document['getElementById'](_0xce2e2d(0xac5));document['getElementById'](_0xce2e2d(0x1d4))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x5f4b7f=_0xce2e2d;_0x4fd105[_0x5f4b7f(0x67e)]['add'](_0x5f4b7f(0x66d));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x94f))[_0xce2e2d(0x908)]('click',async()=>{const _0x58b6df=_0xce2e2d,_0x5dca1f=allQuizzes[_0x58b6df(0x270)](_0x3cdba2=>_0x3cdba2['id']===actionTargetId);_0x5dca1f?(currentQuizData=_0x5dca1f,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4fd105[_0x58b6df(0x67e)][_0x58b6df(0x677)]('hidden');}),document['getElementById'](_0xce2e2d(0x546))['addEventListener'](_0xce2e2d(0x405),async()=>{const _0x318ca7=_0xce2e2d,_0x2b21c3=allQuizzes['find'](_0xd15206=>_0xd15206['id']===actionTargetId);_0x2b21c3?(currentQuizData=_0x2b21c3,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4fd105['classList'][_0x318ca7(0x677)](_0x318ca7(0x66d));}),document['getElementById'](_0xce2e2d(0x9eb))['addEventListener'](_0xce2e2d(0x405),openGlobalLiveModal),document[_0xce2e2d(0x274)](_0xce2e2d(0x701))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x1d319c=_0xce2e2d;document[_0x1d319c(0x274)](_0x1d319c(0x974))['classList'][_0x1d319c(0x677)]('hidden'),selectedGlobalQuizId=null;}),document[_0xce2e2d(0x274)](_0xce2e2d(0x832))[_0xce2e2d(0x908)](_0xce2e2d(0x27f),_0x51301b=>renderGlobalQuizList(_0x51301b[_0xce2e2d(0x1e0)][_0xce2e2d(0x303)])),document[_0xce2e2d(0x274)](_0xce2e2d(0x394))['addEventListener'](_0xce2e2d(0x405),()=>{const _0x350b44=_0xce2e2d,_0x455c85=selectedGlobalQuizId;if(!_0x455c85)return;document[_0x350b44(0x274)](_0x350b44(0x974))[_0x350b44(0x67e)][_0x350b44(0x677)](_0x350b44(0x66d)),handleStartLiveRace(_0x455c85);}),document['getElementById'](_0xce2e2d(0x717))[_0xce2e2d(0x908)](_0xce2e2d(0x27f),renderProjects),document[_0xce2e2d(0x274)](_0xce2e2d(0x233))[_0xce2e2d(0x908)]('change',async()=>{const _0x732642=_0xce2e2d,_0xb61a65=document['getElementById']('project-sort-select')[_0x732642(0x303)],_0x592a6e=doc(db,_0x732642(0x917),'dashboardConfig');try{await setDoc(_0x592a6e,{'projectSort':_0xb61a65},{'merge':!![]});}catch(_0x3b2d8f){console[_0x732642(0x183)]('Error\x20updating\x20sort\x20preference:',_0x3b2d8f),showMessage(_0x732642(0xa9c));}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x7da))['addEventListener'](_0xce2e2d(0x27f),renderQuizzes),document[_0xce2e2d(0x274)](_0xce2e2d(0x8e4))['addEventListener'](_0xce2e2d(0x405),()=>{const _0x203c44=_0xce2e2d;globalDashboardSettings['projectView']=_0x203c44(0x241),saveUserPreference('projectView','grid'),renderProjects();}),document[_0xce2e2d(0x274)](_0xce2e2d(0x844))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x5831db=_0xce2e2d;globalDashboardSettings['projectView']=_0x5831db(0x7dd),saveUserPreference(_0x5831db(0x680),_0x5831db(0x7dd)),renderProjects();}),manageTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchProjectTab(_0xce2e2d(0x253))),resultsTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchProjectTab(_0xce2e2d(0x3ae))),leaderboardTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchProjectTab(_0xce2e2d(0xadb))),document[_0xce2e2d(0x274)](_0xce2e2d(0x32a))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchQuizDetailTab('analytics')),document[_0xce2e2d(0x274)](_0xce2e2d(0x9ad))['addEventListener'](_0xce2e2d(0x405),()=>switchQuizDetailTab(_0xce2e2d(0x21a))),document[_0xce2e2d(0x274)](_0xce2e2d(0x6b8))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchQuizDetailTab(_0xce2e2d(0x1d0))),document['getElementById']('behavior-log-tab-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>switchQuizDetailTab(_0xce2e2d(0x2ef))),document['getElementById'](_0xce2e2d(0x345))['addEventListener'](_0xce2e2d(0x405),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x30283a=document[_0xce2e2d(0x274)](_0xce2e2d(0x7cc)),_0x2269ae=document[_0xce2e2d(0x274)](_0xce2e2d(0x2b5)),_0xc8cec2=document[_0xce2e2d(0x274)](_0xce2e2d(0xabe)),_0x1f540c=document[_0xce2e2d(0x274)](_0xce2e2d(0x5aa)),_0x299295=document[_0xce2e2d(0x274)](_0xce2e2d(0x57b)),_0x5946ce=document[_0xce2e2d(0x274)](_0xce2e2d(0x640));topicTab[_0xce2e2d(0x908)]('click',()=>{const _0x350e57=_0xce2e2d;topicTab[_0x350e57(0x67e)][_0x350e57(0x677)](_0x350e57(0x415)),textTab['classList']['remove'](_0x350e57(0x415)),fileTab['classList'][_0x350e57(0xaa2)](_0x350e57(0x415)),worksheetTab[_0x350e57(0x67e)][_0x350e57(0xaa2)](_0x350e57(0x415));if(_0x30283a)_0x30283a[_0x350e57(0x67e)]['remove']('active');if(_0xc8cec2)_0xc8cec2[_0x350e57(0x67e)][_0x350e57(0xaa2)](_0x350e57(0x415));if(_0x299295)_0x299295[_0x350e57(0x67e)][_0x350e57(0xaa2)](_0x350e57(0x415));topicInputArea[_0x350e57(0x67e)]['remove'](_0x350e57(0x66d)),textInputArea['classList'][_0x350e57(0x677)](_0x350e57(0x66d)),fileInputArea['classList']['add']('hidden'),worksheetInputArea['classList']['add'](_0x350e57(0x66d));if(_0x2269ae)_0x2269ae[_0x350e57(0x67e)][_0x350e57(0x677)]('hidden');if(_0x1f540c)_0x1f540c[_0x350e57(0x67e)][_0x350e57(0x677)](_0x350e57(0x66d));if(_0x5946ce)_0x5946ce['classList']['add']('hidden');}),textTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x1acee3=_0xce2e2d;textTab['classList'][_0x1acee3(0x677)](_0x1acee3(0x415)),topicTab['classList'][_0x1acee3(0xaa2)]('active'),fileTab[_0x1acee3(0x67e)][_0x1acee3(0xaa2)](_0x1acee3(0x415)),worksheetTab[_0x1acee3(0x67e)][_0x1acee3(0xaa2)](_0x1acee3(0x415));if(_0x30283a)_0x30283a[_0x1acee3(0x67e)][_0x1acee3(0xaa2)]('active');if(_0xc8cec2)_0xc8cec2[_0x1acee3(0x67e)][_0x1acee3(0xaa2)](_0x1acee3(0x415));if(_0x299295)_0x299295['classList'][_0x1acee3(0xaa2)]('active');textInputArea[_0x1acee3(0x67e)][_0x1acee3(0xaa2)]('hidden'),topicInputArea[_0x1acee3(0x67e)][_0x1acee3(0x677)](_0x1acee3(0x66d)),fileInputArea[_0x1acee3(0x67e)][_0x1acee3(0x677)](_0x1acee3(0x66d)),worksheetInputArea[_0x1acee3(0x67e)]['add'](_0x1acee3(0x66d));if(_0x2269ae)_0x2269ae[_0x1acee3(0x67e)][_0x1acee3(0x677)](_0x1acee3(0x66d));if(_0x1f540c)_0x1f540c['classList'][_0x1acee3(0x677)]('hidden');if(_0x5946ce)_0x5946ce['classList'][_0x1acee3(0x677)](_0x1acee3(0x66d));}),fileTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x350276=_0xce2e2d;fileTab[_0x350276(0x67e)][_0x350276(0x677)](_0x350276(0x415)),topicTab[_0x350276(0x67e)][_0x350276(0xaa2)](_0x350276(0x415)),textTab['classList']['remove'](_0x350276(0x415)),worksheetTab[_0x350276(0x67e)][_0x350276(0xaa2)](_0x350276(0x415));if(_0x30283a)_0x30283a[_0x350276(0x67e)][_0x350276(0xaa2)](_0x350276(0x415));if(_0xc8cec2)_0xc8cec2[_0x350276(0x67e)][_0x350276(0xaa2)](_0x350276(0x415));if(_0x299295)_0x299295['classList'][_0x350276(0xaa2)](_0x350276(0x415));fileInputArea['classList'][_0x350276(0xaa2)](_0x350276(0x66d)),topicInputArea['classList'][_0x350276(0x677)](_0x350276(0x66d)),textInputArea[_0x350276(0x67e)][_0x350276(0x677)](_0x350276(0x66d)),worksheetInputArea[_0x350276(0x67e)][_0x350276(0x677)](_0x350276(0x66d));if(_0x2269ae)_0x2269ae[_0x350276(0x67e)][_0x350276(0x677)](_0x350276(0x66d));if(_0x1f540c)_0x1f540c[_0x350276(0x67e)][_0x350276(0x677)]('hidden');if(_0x5946ce)_0x5946ce[_0x350276(0x67e)][_0x350276(0x677)]('hidden');}),worksheetTab[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0xbfe58=_0xce2e2d;worksheetTab[_0xbfe58(0x67e)][_0xbfe58(0x677)](_0xbfe58(0x415)),topicTab[_0xbfe58(0x67e)][_0xbfe58(0xaa2)](_0xbfe58(0x415)),textTab[_0xbfe58(0x67e)]['remove'](_0xbfe58(0x415)),fileTab[_0xbfe58(0x67e)]['remove'](_0xbfe58(0x415));if(_0x30283a)_0x30283a[_0xbfe58(0x67e)][_0xbfe58(0xaa2)](_0xbfe58(0x415));if(_0xc8cec2)_0xc8cec2['classList'][_0xbfe58(0xaa2)](_0xbfe58(0x415));if(_0x299295)_0x299295[_0xbfe58(0x67e)][_0xbfe58(0xaa2)]('active');worksheetInputArea[_0xbfe58(0x67e)][_0xbfe58(0xaa2)](_0xbfe58(0x66d)),topicInputArea[_0xbfe58(0x67e)][_0xbfe58(0x677)](_0xbfe58(0x66d)),textInputArea['classList'][_0xbfe58(0x677)](_0xbfe58(0x66d)),fileInputArea[_0xbfe58(0x67e)][_0xbfe58(0x677)](_0xbfe58(0x66d));if(_0x2269ae)_0x2269ae['classList']['add'](_0xbfe58(0x66d));if(_0x1f540c)_0x1f540c['classList'][_0xbfe58(0x677)](_0xbfe58(0x66d));if(_0x5946ce)_0x5946ce[_0xbfe58(0x67e)][_0xbfe58(0x677)](_0xbfe58(0x66d));});const _0x382266=document[_0xce2e2d(0x274)]('bank-tab'),_0x135848=document[_0xce2e2d(0x274)]('bank-input-area');_0x382266&&_0x382266[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x2c3b3b=_0xce2e2d;topicTab[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415)),textTab[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415)),fileTab['classList']['remove'](_0x2c3b3b(0x415)),worksheetTab[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415));if(_0x30283a)_0x30283a[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415));if(_0xc8cec2)_0xc8cec2['classList'][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415));if(_0x299295)_0x299295[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x415));_0x382266[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)](_0x2c3b3b(0x415)),topicInputArea[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)]('hidden'),textInputArea[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)](_0x2c3b3b(0x66d)),fileInputArea[_0x2c3b3b(0x67e)]['add'](_0x2c3b3b(0x66d)),worksheetInputArea[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)](_0x2c3b3b(0x66d));if(_0x2269ae)_0x2269ae[_0x2c3b3b(0x67e)]['add'](_0x2c3b3b(0x66d));if(_0x1f540c)_0x1f540c[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)]('hidden');if(_0x5946ce)_0x5946ce[_0x2c3b3b(0x67e)][_0x2c3b3b(0x677)](_0x2c3b3b(0x66d));_0x135848[_0x2c3b3b(0x67e)][_0x2c3b3b(0xaa2)](_0x2c3b3b(0x66d)),displayQuestionBank();});_0x30283a&&(_0x30283a[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x5f4791=_0xce2e2d;_0x30283a[_0x5f4791(0x67e)][_0x5f4791(0x677)]('active'),topicTab[_0x5f4791(0x67e)][_0x5f4791(0xaa2)](_0x5f4791(0x415)),textTab[_0x5f4791(0x67e)][_0x5f4791(0xaa2)]('active'),fileTab[_0x5f4791(0x67e)][_0x5f4791(0xaa2)](_0x5f4791(0x415)),worksheetTab[_0x5f4791(0x67e)][_0x5f4791(0xaa2)](_0x5f4791(0x415));if(_0xc8cec2)_0xc8cec2['classList']['remove'](_0x5f4791(0x415));if(_0x299295)_0x299295[_0x5f4791(0x67e)][_0x5f4791(0xaa2)]('active');_0x2269ae['classList'][_0x5f4791(0xaa2)](_0x5f4791(0x66d)),topicInputArea[_0x5f4791(0x67e)][_0x5f4791(0x677)]('hidden'),textInputArea[_0x5f4791(0x67e)]['add']('hidden'),fileInputArea[_0x5f4791(0x67e)][_0x5f4791(0x677)]('hidden'),worksheetInputArea[_0x5f4791(0x67e)][_0x5f4791(0x677)]('hidden');if(_0x1f540c)_0x1f540c[_0x5f4791(0x67e)]['add']('hidden');if(_0x5946ce)_0x5946ce[_0x5f4791(0x67e)][_0x5f4791(0x677)](_0x5f4791(0x66d));}),document[_0xce2e2d(0x274)]('generate-from-link-btn')[_0xce2e2d(0x908)]('click',handleGenerateFromLink));_0xc8cec2&&_0xc8cec2[_0xce2e2d(0x908)]('click',()=>{const _0x2ec8eb=_0xce2e2d;_0xc8cec2['classList'][_0x2ec8eb(0x677)]('active'),topicTab['classList'][_0x2ec8eb(0xaa2)](_0x2ec8eb(0x415)),textTab[_0x2ec8eb(0x67e)][_0x2ec8eb(0xaa2)](_0x2ec8eb(0x415)),fileTab['classList']['remove'](_0x2ec8eb(0x415)),worksheetTab['classList']['remove'](_0x2ec8eb(0x415));if(_0x30283a)_0x30283a[_0x2ec8eb(0x67e)]['remove'](_0x2ec8eb(0x415));if(_0x382266)_0x382266[_0x2ec8eb(0x67e)][_0x2ec8eb(0xaa2)](_0x2ec8eb(0x415));if(_0x299295)_0x299295[_0x2ec8eb(0x67e)][_0x2ec8eb(0xaa2)]('active');_0x1f540c[_0x2ec8eb(0x67e)]['remove']('hidden'),topicInputArea[_0x2ec8eb(0x67e)][_0x2ec8eb(0x677)]('hidden'),textInputArea[_0x2ec8eb(0x67e)][_0x2ec8eb(0x677)](_0x2ec8eb(0x66d)),fileInputArea[_0x2ec8eb(0x67e)][_0x2ec8eb(0x677)](_0x2ec8eb(0x66d)),worksheetInputArea[_0x2ec8eb(0x67e)][_0x2ec8eb(0x677)](_0x2ec8eb(0x66d));if(_0x2269ae)_0x2269ae['classList'][_0x2ec8eb(0x677)](_0x2ec8eb(0x66d));if(_0x135848)_0x135848[_0x2ec8eb(0x67e)]['add'](_0x2ec8eb(0x66d));if(_0x5946ce)_0x5946ce['classList']['add']('hidden');});_0x299295&&_0x299295['addEventListener'](_0xce2e2d(0x405),()=>{const _0x28f1a3=_0xce2e2d;_0x299295['classList'][_0x28f1a3(0x677)](_0x28f1a3(0x415)),topicTab[_0x28f1a3(0x67e)][_0x28f1a3(0xaa2)](_0x28f1a3(0x415)),textTab[_0x28f1a3(0x67e)][_0x28f1a3(0xaa2)](_0x28f1a3(0x415)),fileTab[_0x28f1a3(0x67e)][_0x28f1a3(0xaa2)](_0x28f1a3(0x415)),worksheetTab['classList'][_0x28f1a3(0xaa2)](_0x28f1a3(0x415));if(_0x30283a)_0x30283a[_0x28f1a3(0x67e)][_0x28f1a3(0xaa2)](_0x28f1a3(0x415));if(_0xc8cec2)_0xc8cec2['classList'][_0x28f1a3(0xaa2)]('active');if(_0x382266)_0x382266[_0x28f1a3(0x67e)][_0x28f1a3(0xaa2)](_0x28f1a3(0x415));_0x5946ce['classList'][_0x28f1a3(0xaa2)](_0x28f1a3(0x66d)),topicInputArea['classList'][_0x28f1a3(0x677)](_0x28f1a3(0x66d)),textInputArea[_0x28f1a3(0x67e)][_0x28f1a3(0x677)]('hidden'),fileInputArea[_0x28f1a3(0x67e)][_0x28f1a3(0x677)](_0x28f1a3(0x66d)),worksheetInputArea[_0x28f1a3(0x67e)]['add'](_0x28f1a3(0x66d));if(_0x2269ae)_0x2269ae[_0x28f1a3(0x67e)][_0x28f1a3(0x677)]('hidden');if(_0x1f540c)_0x1f540c['classList'][_0x28f1a3(0x677)](_0x28f1a3(0x66d));if(_0x135848)_0x135848[_0x28f1a3(0x67e)]['add'](_0x28f1a3(0x66d));});const _0x4e12b2=document['getElementById'](_0xce2e2d(0x6a8)),_0x5d5f1e=document[_0xce2e2d(0x274)](_0xce2e2d(0x5ee));if(_0x4e12b2){const _0x4952b1=document[_0xce2e2d(0x274)]('blueprint-upload-input'),_0xe6f7d8=document[_0xce2e2d(0x274)](_0xce2e2d(0x5ee)),_0x13bea7=document[_0xce2e2d(0x274)](_0xce2e2d(0xa0e)),_0xc2cc3b=document[_0xce2e2d(0x274)](_0xce2e2d(0x606)),_0xa611c2=document[_0xce2e2d(0x274)](_0xce2e2d(0x9fb)),_0x2a7436=document['getElementById'](_0xce2e2d(0xac8));_0x4952b1&&_0x4952b1['addEventListener'](_0xce2e2d(0x8e7),async _0x3d4e26=>{const _0x2ec01a=_0xce2e2d;_0x13bea7[_0x2ec01a(0x67e)]['add']('hidden'),_0xa611c2['classList'][_0x2ec01a(0x677)](_0x2ec01a(0x66d)),_0xc2cc3b[_0x2ec01a(0x835)]=![],_0xe6f7d8[_0x2ec01a(0x5a2)]=!![];const _0x26e477=_0x3d4e26[_0x2ec01a(0x1e0)][_0x2ec01a(0x29a)][0x0];if(_0x26e477){_0xe6f7d8[_0x2ec01a(0x5a2)]=![];try{const _0x4c4640=await extractTextFromPdf(_0x26e477);await analyzeBlueprintForTopics(_0x4c4640);}catch(_0xebab7f){showMessage(_0x2ec01a(0x5de)),_0x13bea7['classList'][_0x2ec01a(0x677)](_0x2ec01a(0x66d));}}}),_0xc2cc3b&&_0xc2cc3b[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),_0x450caf=>{const _0x19293d=_0xce2e2d,_0x1a40df=_0x450caf[_0x19293d(0x1e0)][_0x19293d(0x835)];_0xa611c2[_0x19293d(0x67e)][_0x19293d(0x13f)]('hidden',!_0x1a40df),_0xe6f7d8['disabled']=_0x1a40df;}),_0x2a7436&&(_0x2a7436&&_0x2a7436[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0x2a3aaa=>{const _0x416806=_0xce2e2d,_0x5ad7b0=_0x2a3aaa[_0x416806(0x1e0)][_0x416806(0x7b9)](_0x416806(0xa76)),_0x25d0bb=_0x2a3aaa['target']['closest'](_0x416806(0xacd));if(_0x5ad7b0){const _0xb8436b=unescape(_0x5ad7b0[_0x416806(0x145)][_0x416806(0x994)]);generateQuizForSingleTopic(_0xb8436b);}else{if(_0x25d0bb){const _0x2f7278=unescape(_0x25d0bb[_0x416806(0x145)][_0x416806(0x994)]);handleGenerateTeachingContent(_0x2f7278);}}}));}_0x5d5f1e&&_0x5d5f1e[_0xce2e2d(0x908)]('click',handleGenerateFromBlueprint);const _0x2c3667=document[_0xce2e2d(0x274)](_0xce2e2d(0x3f7)),_0x193c4f=document['getElementById'](_0xce2e2d(0x162));_0x2c3667&&_0x2c3667[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),_0x104553=>{const _0x581f26=_0xce2e2d;_0x193c4f[_0x581f26(0x5a2)]=_0x104553['target'][_0x581f26(0x29a)][_0x581f26(0x31f)]===0x0;});_0x193c4f&&_0x193c4f[_0xce2e2d(0x908)]('click',handleGenerateParallelTest);loadQuizBtn['addEventListener']('click',handleLoadQuiz),startQuizBtn[_0xce2e2d(0x908)](_0xce2e2d(0x405),async()=>{const _0x4cc525=_0xce2e2d,_0x5a7a28=document[_0x4cc525(0x274)](_0x4cc525(0x2cf));currentStudentName=_0x5a7a28[_0x4cc525(0x303)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x35b60a=currentQuizData['id'],_0x5cdd9a=doc(db,_0x4cc525(0x439)+appId+_0x4cc525(0x584)+_0x35b60a+_0x4cc525(0x9dd),currentStudentName),_0x543a2b=await getDoc(_0x5cdd9a);!_0x543a2b['exists']()?await setDoc(_0x5cdd9a,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5cdd9a,{'startedAt':new Date()[_0x4cc525(0x481)]()});}catch(_0x18c7dc){console[_0x4cc525(0x183)](_0x4cc525(0x33f),_0x18c7dc),showMessage(_0x4cc525(0x866));return;}studentNameSelectionView[_0x4cc525(0x67e)][_0x4cc525(0x677)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0xce2e2d(0x7a9))['addEventListener']('click',showJoinGameView),document['getElementById'](_0xce2e2d(0x95f))['addEventListener'](_0xce2e2d(0x405),handleJoinLiveGame),document[_0xce2e2d(0x274)](_0xce2e2d(0x79f))['addEventListener'](_0xce2e2d(0x405),()=>showView('student'));const _0x132365=()=>{const _0x199593=_0xce2e2d,_0xa6f7d8=document[_0x199593(0x274)]('results-quiz-title')['textContent'][_0x199593(0x5ac)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x199593(0x3cc)+(_0xa6f7d8||_0x199593(0x287));},_0x3a2795=document[_0xce2e2d(0x274)](_0xce2e2d(0x887));_0x3a2795&&_0x3a2795[_0xce2e2d(0x908)](_0xce2e2d(0x27f),_0x952b2f=>{const _0x4926d2=_0xce2e2d,_0x2a4e9b=_0x952b2f[_0x4926d2(0x1e0)][_0x4926d2(0x303)][_0x4926d2(0x313)]()['trim'](),_0x43d301=document[_0x4926d2(0x274)](_0x4926d2(0x860)),_0x4776bd=_0x43d301['querySelectorAll']('.topic-category');_0x4776bd[_0x4926d2(0x232)](_0x112f35=>{const _0x49e2ea=_0x4926d2;let _0x495fc2=![];const _0x2a9800=_0x112f35[_0x49e2ea(0x591)]('.topic-row');_0x2a9800['forEach'](_0x51791c=>{const _0x2b7ee6=_0x49e2ea,_0x1ee402=_0x51791c[_0x2b7ee6(0x497)]('.topic-name-display')['textContent'][_0x2b7ee6(0x313)]();_0x1ee402[_0x2b7ee6(0x634)](_0x2a4e9b)?(_0x51791c[_0x2b7ee6(0x55d)]['display']=_0x2b7ee6(0x7ec),_0x495fc2=!![]):_0x51791c[_0x2b7ee6(0x55d)][_0x2b7ee6(0x179)]='none';}),_0x495fc2?_0x112f35[_0x49e2ea(0x55d)][_0x49e2ea(0x179)]='block':_0x112f35[_0x49e2ea(0x55d)][_0x49e2ea(0x179)]=_0x49e2ea(0x7b2);});});document[_0xce2e2d(0x274)]('export-image-btn')['addEventListener'](_0xce2e2d(0x405),()=>exportTableAsImage(_0xce2e2d(0x589),_0x132365())),document['getElementById']('export-pdf-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsPDF(_0xce2e2d(0x58d),_0x132365())),document[_0xce2e2d(0x274)](_0xce2e2d(0x87e))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsWord(_0xce2e2d(0x589),_0x132365())),document[_0xce2e2d(0x274)](_0xce2e2d(0x7c6))['addEventListener'](_0xce2e2d(0x405),()=>exportTableAsExcel(_0xce2e2d(0x58d),_0x132365()));const _0x52f482=()=>{const _0x4aa6d3=_0xce2e2d,_0x3a43d2=document[_0x4aa6d3(0x274)](_0x4aa6d3(0x547))['textContent'][_0x4aa6d3(0x5ac)](/[^a-z0-9]/gi,'_')[_0x4aa6d3(0x313)]();return _0x4aa6d3(0x804)+(_0x3a43d2||_0x4aa6d3(0x287));};document[_0xce2e2d(0x274)]('export-leaderboard-image-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsImage(_0xce2e2d(0x862),_0x52f482())),document[_0xce2e2d(0x274)](_0xce2e2d(0xa14))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsPDF(_0xce2e2d(0x763),_0x52f482())),document['getElementById'](_0xce2e2d(0x27b))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsWord(_0xce2e2d(0x862),_0x52f482())),document[_0xce2e2d(0x274)](_0xce2e2d(0x9aa))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>exportTableAsExcel(_0xce2e2d(0x763),_0x52f482())),projectQuizzesList[_0xce2e2d(0x908)](_0xce2e2d(0x405),async _0x1690e8=>{const _0x319a65=_0xce2e2d,_0x1b6923=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)]('.quiz-result-card'),_0x5810ac=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x931)),_0x298199=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x557)),_0x1b71af=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x399)),_0xa1ff63=_0x1690e8['target'][_0x319a65(0x7b9)]('.star-quiz-btn'),_0x3e731b=_0x1690e8['target'][_0x319a65(0x7b9)]('.copy-quiz-id-list-btn'),_0x30f121=_0x1690e8[_0x319a65(0x1e0)]['closest']('.edit-quiz-btn'),_0x3cbf14=_0x1690e8[_0x319a65(0x1e0)]['closest'](_0x319a65(0xabd)),_0x5d4509=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x135)),_0x323786=_0x1690e8['target'][_0x319a65(0x7b9)](_0x319a65(0x607)),_0x1163e0=_0x1690e8['target'][_0x319a65(0x7b9)]('.parallel-quiz-btn'),_0x499b75=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x47f)),_0x3104ee=_0x1690e8[_0x319a65(0x1e0)]['closest'](_0x319a65(0x4d6)),_0xc2b6d1=_0x1690e8[_0x319a65(0x1e0)]['closest'](_0x319a65(0x963)),_0x245f62=_0x1690e8[_0x319a65(0x1e0)]['closest'](_0x319a65(0x74d)),_0x1e00b8=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)]('.admin-try-quiz-list-btn'),_0x35fb3a=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x8e6)),_0xb661fe=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0xa20)),_0x518950=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x336)),_0x3b1360=_0x1690e8[_0x319a65(0x1e0)]['closest']('.toggle-actions-btn'),_0xf76376=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x695)),_0x41bcc0=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x6d3)),_0x5c591b=_0x1690e8[_0x319a65(0x1e0)][_0x319a65(0x7b9)](_0x319a65(0x84c));if(_0x41bcc0){const _0xa007d7=_0x41bcc0['dataset'][_0x319a65(0x628)],_0x40f84b=_0x41bcc0[_0x319a65(0x145)][_0x319a65(0xaf2)],_0x2315e9=allQuizzes['find'](_0x3b5d65=>_0x3b5d65['id']===_0xa007d7);_0x2315e9&&showGameStartConfirmationModal(_0xa007d7,_0x40f84b,_0x2315e9['topic']);}else{if(_0x5c591b){const _0x31a106=_0x5c591b[_0x319a65(0x145)][_0x319a65(0x628)];handleStartLiveRace(_0x31a106);}else{if(_0x3b1360){const _0x43086d=_0x3b1360[_0x319a65(0x145)][_0x319a65(0x628)],_0x30c836=document['getElementById'](_0x319a65(0xa3f)+_0x43086d);_0x30c836&&_0x30c836[_0x319a65(0x67e)]['toggle']('hidden');}else{if(_0x5810ac){const _0x1f6d31=_0x5810ac[_0x319a65(0x145)][_0x319a65(0x628)],_0x4d7aa3=allQuizzes[_0x319a65(0x270)](_0x2aec9f=>_0x2aec9f['id']===_0x1f6d31);_0x4d7aa3&&handleGenerateParallelPostTest(_0x4d7aa3);}else{if(_0x298199)handleCompareResults(_0x298199[_0x319a65(0x145)][_0x319a65(0x628)],_0x298199[_0x319a65(0x145)][_0x319a65(0x7fa)]);else{if(_0x1b71af){const _0x2d2f91=_0x1b71af['dataset'][_0x319a65(0x628)],_0xd85ab8=allQuizzes[_0x319a65(0x270)](_0x499295=>_0x499295['id']===_0x2d2f91);_0xd85ab8&&_0xd85ab8['lessonPlan']?(displayLessonPlan(_0xd85ab8['lessonPlan'],_0xd85ab8),showConfirmation(_0x319a65(0x764),()=>handleGenerateLessonPlan(_0x2d2f91)),document[_0x319a65(0x274)](_0x319a65(0x603))[_0x319a65(0x497)]('h3')['textContent']='แผนการสอน',document['getElementById'](_0x319a65(0x7ed))[_0x319a65(0x7b7)]=_0x319a65(0xaaf)):handleGenerateLessonPlan(_0x2d2f91);}else{if(_0xa1ff63)handleToggleStarQuiz(_0xa1ff63[_0x319a65(0x145)]['quizId']);else{if(_0x3e731b)copyTextToClipboard(_0x3e731b['dataset'][_0x319a65(0x628)],_0x319a65(0x9bd));else{if(_0x30f121)handleOpenQuizEditor(_0x30f121[_0x319a65(0x145)]['quizId']);else{if(_0x3cbf14)handleQuizSettings(_0x3cbf14['dataset'][_0x319a65(0x628)]);else{if(_0x5d4509)handleDuplicateQuiz(_0x5d4509[_0x319a65(0x145)]['quizId']);else{if(_0x323786)handleRenameQuiz(_0x323786['dataset'][_0x319a65(0x628)],_0x323786[_0x319a65(0x145)]['topic']);else{if(_0x1163e0){const _0xcfd7ac=_0x1163e0[_0x319a65(0x145)][_0x319a65(0x628)],_0x399d74=allQuizzes[_0x319a65(0x270)](_0x4b423a=>_0x4b423a['id']===_0xcfd7ac);_0x399d74&&handleGenerateParallelFromBank(_0x399d74);}else{if(_0x499b75)handleMoveQuiz(_0x499b75['dataset']['quizId']);else{if(_0x3104ee)handleManualQuizPairing(_0x3104ee[_0x319a65(0x145)]['quizId']);else{if(_0xc2b6d1)handleUnpairQuiz(_0xc2b6d1[_0x319a65(0x145)]['quizId']);else{if(_0x245f62){const _0x27aeb5=_0x245f62['dataset'][_0x319a65(0x628)],_0x4f7ff0=allQuizzes['find'](_0x327166=>_0x327166['id']===_0x27aeb5);if(_0x4f7ff0)startPresentation(_0x4f7ff0);}else{if(_0x1e00b8){const _0x38f967=_0x1e00b8[_0x319a65(0x145)][_0x319a65(0x628)],_0xc30157=allQuizzes[_0x319a65(0x270)](_0x4ded9c=>_0x4ded9c['id']===_0x38f967);_0xc30157&&(currentQuizData=_0xc30157,startAdminTest());}else{if(_0x35fb3a)actionTargetId=_0x35fb3a[_0x319a65(0x145)][_0x319a65(0x628)],document['getElementById']('export-pdf-modal')[_0x319a65(0x67e)][_0x319a65(0xaa2)]('hidden');else{if(_0xb661fe)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xb661fe[_0x319a65(0x145)][_0x319a65(0x994)]+_0x319a65(0x9fa),()=>handleDeleteQuiz(_0xb661fe[_0x319a65(0x145)][_0x319a65(0x628)]));else{if(_0x518950)handleQuizStatus(_0x518950['dataset']['quizId']);else{if(_0xf76376)handleGenerateEasyVersionQuiz(_0xf76376[_0x319a65(0x145)][_0x319a65(0x628)]);else _0x1b6923&&showQuizDetailView(_0x1b6923[_0x319a65(0x145)][_0x319a65(0x628)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x822))[_0xce2e2d(0x908)]('click',()=>showView(_0xce2e2d(0x351))),document[_0xce2e2d(0x274)](_0xce2e2d(0xaae))[_0xce2e2d(0x908)](_0xce2e2d(0x405),confirmAndStartTeamQuiz),document[_0xce2e2d(0x274)](_0xce2e2d(0x763))[_0xce2e2d(0x497)](_0xce2e2d(0x6ca))[_0xce2e2d(0x908)]('click',_0x1cb746=>{const _0x4665fb=_0xce2e2d,_0x151064=_0x1cb746['target'][_0x4665fb(0x7b9)](_0x4665fb(0x6b9));if(!_0x151064||!_0x151064['dataset'][_0x4665fb(0x34f)])return;const _0xda5c5e=_0x151064[_0x4665fb(0x145)][_0x4665fb(0x34f)];if(quizLeaderboardSortBy===_0xda5c5e)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4665fb(0x173)?_0x4665fb(0x8aa):_0x4665fb(0x173);else{quizLeaderboardSortBy=_0xda5c5e;const _0x4e0e1b=[_0x4665fb(0xa53)];quizLeaderboardSortOrder=_0x4e0e1b[_0x4665fb(0x634)](_0xda5c5e)?'asc':_0x4665fb(0x8aa);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0xce2e2d(0x193))[_0xce2e2d(0x908)](_0xce2e2d(0x405),closePresentation),document[_0xce2e2d(0x274)](_0xce2e2d(0x578))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x57d29d=_0xce2e2d;currentQuizData[_0x57d29d(0x2bb)]&&currentPresentationSlide<currentQuizData[_0x57d29d(0x2bb)][_0x57d29d(0x31f)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0xce2e2d(0x908)](_0xce2e2d(0x3d0),()=>{const _0x5bb39a=_0xce2e2d;!document[_0x5bb39a(0x2a5)]&&(presentationModal['style']['display']='none');}),document[_0xce2e2d(0x274)](_0xce2e2d(0x5d9))[_0xce2e2d(0x908)]('click',handleDeleteAllStudents),studentList[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0x1b1a95=>{const _0x117f2b=_0xce2e2d,_0x5545f4=_0x1b1a95[_0x117f2b(0x1e0)][_0x117f2b(0x7b9)](_0x117f2b(0x5fc));if(_0x5545f4){const _0x445327=_0x5545f4['dataset'][_0x117f2b(0xa53)];handleDeleteStudent(_0x445327);}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x99d))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0xce2e2d(0x8e7),_0x30642f=>{const _0x5a2a43=_0xce2e2d,_0x378a53=_0x30642f[_0x5a2a43(0x1e0)][_0x5a2a43(0x29a)][0x0],_0x3732dd=document['getElementById'](_0x5a2a43(0x99d)),_0x35b06f=document['getElementById'](_0x5a2a43(0x493)),_0x57b38e=document[_0x5a2a43(0x274)](_0x5a2a43(0x7e9));_0x378a53?(selectedFile=_0x378a53,_0x57b38e[_0x5a2a43(0x835)]?(_0x3732dd['disabled']=!![],analyzeFileForTopics(_0x378a53)):(_0x3732dd[_0x5a2a43(0x5a2)]=![],_0x35b06f['classList']['add'](_0x5a2a43(0x66d)))):(selectedFile=null,_0x3732dd[_0x5a2a43(0x5a2)]=!![],_0x35b06f[_0x5a2a43(0x67e)][_0x5a2a43(0x677)](_0x5a2a43(0x66d)));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x7e9))[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),_0x516d28=>{const _0x11fdb2=_0xce2e2d,_0x5795d4=_0x516d28[_0x11fdb2(0x1e0)][_0x11fdb2(0x835)],_0x465459=document['getElementById'](_0x11fdb2(0x99d)),_0x3a6f74=document[_0x11fdb2(0x274)]('file-topics-list-container');_0x5795d4?(_0x465459['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3a6f74[_0x11fdb2(0x67e)][_0x11fdb2(0xaa2)]('hidden'),document[_0x11fdb2(0x274)](_0x11fdb2(0xab2))['innerHTML']=_0x11fdb2(0xa9f))):(_0x3a6f74[_0x11fdb2(0x67e)][_0x11fdb2(0x677)](_0x11fdb2(0x66d)),_0x465459['disabled']=!selectedFile);}),document[_0xce2e2d(0x274)](_0xce2e2d(0x493))[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0x36d663=>{const _0x81227c=_0xce2e2d,_0x21db3c=_0x36d663[_0x81227c(0x1e0)][_0x81227c(0x7b9)](_0x81227c(0x35b)),_0x36322b=_0x36d663[_0x81227c(0x1e0)][_0x81227c(0x7b9)](_0x81227c(0xacd));if(_0x21db3c){const _0x4c0386=unescape(_0x21db3c['dataset'][_0x81227c(0x994)]);generateHybridQuizForTopic(_0x4c0386);}else{if(_0x36322b){const _0x9fca43=unescape(_0x36322b[_0x81227c(0x145)][_0x81227c(0x994)]);handleGenerateTeachingContent(_0x9fca43);}}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x8ae))['addEventListener'](_0xce2e2d(0x8e7),_0x5e9347=>{const _0x2adcee=_0xce2e2d,_0x18b8ea=document['getElementById']('timer-duration-container'),_0x577469=document[_0x2adcee(0x274)](_0x2adcee(0x80b)),_0xdecfe6=document[_0x2adcee(0x274)](_0x2adcee(0x42a));_0x5e9347['target']['value']===_0x2adcee(0x7b2)?_0x18b8ea[_0x2adcee(0x67e)][_0x2adcee(0x677)]('hidden'):(_0x18b8ea['classList'][_0x2adcee(0xaa2)]('hidden'),_0x5e9347[_0x2adcee(0x1e0)][_0x2adcee(0x303)]===_0x2adcee(0x58b)?(_0x577469[_0x2adcee(0x7b7)]=_0x2adcee(0x8f0),_0xdecfe6[_0x2adcee(0x303)]='10'):(_0x577469[_0x2adcee(0x7b7)]=_0x2adcee(0x992),_0xdecfe6[_0x2adcee(0x303)]='30'));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x4e0))[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),_0x17d003=>{const _0x31dab3=_0xce2e2d,_0x3178bb=document[_0x31dab3(0x274)](_0x31dab3(0x983)),_0x3ebe2a=_0x17d003[_0x31dab3(0x1e0)][_0x31dab3(0x303)],_0x5b535a=document[_0x31dab3(0x497)]('label[for=\x22num-questions\x22]'),_0x5be97d=document['getElementById'](_0x31dab3(0xa1c)),_0x2e2a37=document[_0x31dab3(0x274)](_0x31dab3(0x88a));_0x3ebe2a===_0x31dab3(0x80c)?_0x5b535a['textContent']=_0x31dab3(0x8bc):_0x5b535a[_0x31dab3(0x7b7)]='จำนวนข้อ:',_0x3ebe2a===_0x31dab3(0x622)||_0x3ebe2a==='fill_in_with_choices'||_0x3ebe2a===_0x31dab3(0x35d)?_0x3178bb['classList']['remove'](_0x31dab3(0x66d)):_0x3178bb[_0x31dab3(0x67e)][_0x31dab3(0x677)]('hidden'),_0x5be97d[_0x31dab3(0x1f0)]=_0x2e2a37[_0x31dab3(0x303)];}),document[_0xce2e2d(0x274)]('num-questions')[_0xce2e2d(0x908)](_0xce2e2d(0x27f),_0x591d1d=>{const _0x266ce9=_0xce2e2d;document[_0x266ce9(0x274)](_0x266ce9(0xa1c))['max']=_0x591d1d[_0x266ce9(0x1e0)][_0x266ce9(0x303)];}),document['getElementById'](_0xce2e2d(0x279))[_0xce2e2d(0x908)](_0xce2e2d(0x8e7),_0x17041d=>{const _0x3e9ce8=_0xce2e2d,_0x2facba=document[_0x3e9ce8(0x274)](_0x3e9ce8(0x72d)),_0xf40e93=document[_0x3e9ce8(0x274)](_0x3e9ce8(0x621)),_0x48c7ad=document[_0x3e9ce8(0x274)](_0x3e9ce8(0x488));_0x17041d[_0x3e9ce8(0x1e0)]['value']===_0x3e9ce8(0x7b2)?_0x2facba['classList']['add']('hidden'):(_0x2facba[_0x3e9ce8(0x67e)][_0x3e9ce8(0xaa2)]('hidden'),_0x17041d['target'][_0x3e9ce8(0x303)]===_0x3e9ce8(0x58b)?_0xf40e93['textContent']=_0x3e9ce8(0x8f0):_0xf40e93[_0x3e9ce8(0x7b7)]=_0x3e9ce8(0x992));}),document[_0xce2e2d(0x274)]('cancel-quiz-edits-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x8e493d=_0xce2e2d;document['getElementById'](_0x8e493d(0x987))[_0x8e493d(0x67e)]['add'](_0x8e493d(0x66d));}),document[_0xce2e2d(0x274)]('cancel-quiz-edits-btn-footer')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x1d27a6=_0xce2e2d;document[_0x1d27a6(0x274)](_0x1d27a6(0x987))[_0x1d27a6(0x67e)][_0x1d27a6(0x677)](_0x1d27a6(0x66d));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x7b3))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleVerifyAnswersInEditor),document[_0xce2e2d(0x274)](_0xce2e2d(0x36a))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x440760=_0xce2e2d;document[_0x440760(0x274)](_0x440760(0x987))[_0x440760(0x67e)][_0x440760(0x677)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0xce2e2d(0x274)]('auto-fix-latex-btn')[_0xce2e2d(0x908)]('click',handleAutoFixLatex);const _0x4934bb=document[_0xce2e2d(0x274)](_0xce2e2d(0x20f));_0x4934bb&&_0x4934bb[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0xb104f3=>{const _0x246187=_0xce2e2d,_0x5f0489=_0xb104f3[_0x246187(0x1e0)][_0x246187(0x7b9)](_0x246187(0x4a0)),_0x586cba=_0xb104f3[_0x246187(0x1e0)][_0x246187(0x7b9)](_0x246187(0x939));if(_0x5f0489){const _0x29e7c6=_0x5f0489[_0x246187(0x7b9)](_0x246187(0x98d)),_0x484bb8=parseInt(_0x29e7c6[_0x246187(0x145)][_0x246187(0x423)],0xa);handleRegenerateQuestionInEditor(_0x484bb8);}else{if(_0x586cba){const _0x595b3e=_0x586cba[_0x246187(0x7b9)](_0x246187(0x98d)),_0x2c4281=parseInt(_0x595b3e[_0x246187(0x145)][_0x246187(0x423)],0xa);handleAiFixFormula(_0x2c4281);}}});document[_0xce2e2d(0x274)](_0xce2e2d(0x149))[_0xce2e2d(0x908)](_0xce2e2d(0x405),openQuizBankModal),document[_0xce2e2d(0x274)](_0xce2e2d(0x49f))[_0xce2e2d(0x908)]('click',()=>{const _0x412927=_0xce2e2d;document[_0x412927(0x274)](_0x412927(0xacf))[_0x412927(0x67e)][_0x412927(0x677)](_0x412927(0x66d));}),document[_0xce2e2d(0x274)](_0xce2e2d(0x904))[_0xce2e2d(0x908)](_0xce2e2d(0x27f),_0x5567c8=>renderQuizBankList(_0x5567c8[_0xce2e2d(0x1e0)][_0xce2e2d(0x303)]));const _0xf11c9f=document['getElementById'](_0xce2e2d(0x860));if(_0xf11c9f){let _0x1b2c64=null;_0xf11c9f[_0xce2e2d(0x908)](_0xce2e2d(0x405),_0x1d789c=>{const _0x4bcc59=_0xce2e2d,_0x1229f7=_0x1d789c['target'],_0x5eaa50=_0x1229f7[_0x4bcc59(0x7b9)](_0x4bcc59(0x76c)),_0x1a10c0=_0x1229f7['closest'](_0x4bcc59(0x1a7)),_0x414d11=_0x1229f7[_0x4bcc59(0x7b9)](_0x4bcc59(0x744)),_0x3d9098=_0x1229f7[_0x4bcc59(0x7b9)](_0x4bcc59(0xa31));if(_0x1a10c0){_0x1d789c[_0x4bcc59(0x18f)]();const _0x26a305=_0x1a10c0[_0x4bcc59(0x145)]['id'],_0x29caba=_0x1a10c0[_0x4bcc59(0x7b9)](_0x4bcc59(0x451))['querySelector'](_0x4bcc59(0x28a))['textContent'];showConfirmation(_0x4bcc59(0x5a8)+_0x29caba+'\x22?',()=>handleDeleteCustomTopic(_0x26a305));}else{if(_0x5eaa50){_0x1d789c['preventDefault']();_0x1b2c64&&toggleTopicEditMode(_0x1b2c64,![]);const _0x35e311=_0x5eaa50[_0x4bcc59(0x7b9)]('[data-topic-container-id]');_0x1b2c64=_0x35e311,toggleTopicEditMode(_0x35e311,!![]);}else{if(_0x414d11){_0x1d789c['preventDefault']();const _0x43d583=_0x414d11[_0x4bcc59(0x145)]['id'],_0x531649=_0x414d11[_0x4bcc59(0x7b9)](_0x4bcc59(0x359)),_0x5661ea=_0x531649['querySelector'](_0x4bcc59(0x1c7))[_0x4bcc59(0x303)];handleUpdateCustomTopic(_0x43d583,_0x5661ea),_0x1b2c64=null;}else{if(_0x3d9098){_0x1d789c[_0x4bcc59(0x18f)]();const _0x13213e=_0x3d9098['closest'](_0x4bcc59(0x359));toggleTopicEditMode(_0x13213e,![]),_0x1b2c64=null;}}}}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x870))[_0xce2e2d(0x908)]('click',()=>{const _0x405111=_0xce2e2d;document[_0x405111(0x274)]('lesson-plan-modal')['classList']['add'](_0x405111(0x66d));}),document[_0xce2e2d(0x274)]('close-lesson-plan-modal-footer-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x236138=_0xce2e2d;document[_0x236138(0x274)](_0x236138(0x5a4))[_0x236138(0x67e)][_0x236138(0x677)]('hidden');}),document[_0xce2e2d(0x274)](_0xce2e2d(0x68d))[_0xce2e2d(0x908)](_0xce2e2d(0x405),handleExportLessonPDF);}document['getElementById'](_0xce2e2d(0x3c6))[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x458617=_0xce2e2d;document[_0x458617(0x274)](_0x458617(0x98c))[_0x458617(0x67e)][_0x458617(0x677)]('hidden');}),document['getElementById']('close-comparison-modal-footer-btn')[_0xce2e2d(0x908)](_0xce2e2d(0x405),()=>{const _0x4ea4ec=_0xce2e2d;document[_0x4ea4ec(0x274)](_0x4ea4ec(0x98c))[_0x4ea4ec(0x67e)][_0x4ea4ec(0x677)](_0x4ea4ec(0x66d));}),setupComparisonModalTabs(),document[_0xce2e2d(0x702)][_0xce2e2d(0x908)](_0xce2e2d(0x405),function(_0x432b71){const _0x2301c3=_0xce2e2d;if(_0x432b71['target']['classList'][_0x2301c3(0x88b)]('practice-topic-btn')){const _0x242f50=unescape(_0x432b71[_0x2301c3(0x1e0)][_0x2301c3(0x145)][_0x2301c3(0x994)]);startSkillPractice(_0x242f50);}}),document[_0xce2e2d(0x274)](_0xce2e2d(0x755))[_0xce2e2d(0x908)]('click',_0x289f36=>{const _0x27bc12=_0xce2e2d,_0x23f9bf=_0x289f36[_0x27bc12(0x1e0)][_0x27bc12(0x7b9)]('.delete-submission-btn');if(_0x23f9bf){const _0xdb8807=_0x23f9bf[_0x27bc12(0x145)][_0x27bc12(0xa53)];handleDeleteSubmission(_0xdb8807);}});}async function handleStartGroupMode(_0x555aad,_0x259654=![]){const _0x39c359=_0x3f08ea,_0x2c2e1c=allQuizzes[_0x39c359(0x270)](_0x9034bd=>_0x9034bd['id']===_0x555aad)||allQuizzesGlobal[_0x39c359(0x270)](_0x56eddb=>_0x56eddb['id']===_0x555aad);if(!_0x2c2e1c){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x2c2e1c);const _0x58ce7b=Math[_0x39c359(0x5fa)](0x3e8+Math[_0x39c359(0x643)]()*0x2328)[_0x39c359(0x999)]();try{const _0x10d5df=await addDoc(collection(db,'artifacts/'+appId+_0x39c359(0x36e)),{'quizId':_0x2c2e1c['id'],'projectId':_0x2c2e1c[_0x39c359(0x6ec)],'status':'lobby','pin':_0x58ce7b,'mode':_0x39c359(0xad9),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x259654});currentTeamQuizId=_0x10d5df['id'],showView(_0x39c359(0x4e5)),renderAdminTeamQuizDashboard(_0x58ce7b,_0x2c2e1c['topic'],_0x39c359(0xad9)),listenForTeamQuizUpdates();}catch(_0x1015c2){console['error'](_0x39c359(0x2dc),_0x1015c2),showMessage(_0x39c359(0x2c6));}}async function showStudentProgressView(){const _0x3a9e62=_0x3f08ea;studentInitialView[_0x3a9e62(0x67e)][_0x3a9e62(0x677)]('hidden'),document[_0x3a9e62(0x274)](_0x3a9e62(0x2fc))[_0x3a9e62(0x67e)][_0x3a9e62(0xaa2)](_0x3a9e62(0x66d));const _0x47f857=document[_0x3a9e62(0x274)](_0x3a9e62(0x225)),_0x18ffff=document[_0x3a9e62(0x274)](_0x3a9e62(0x216)),_0x3c8546=document['getElementById'](_0x3a9e62(0x417));_0x3c8546[_0x3a9e62(0x1bb)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x18ffff[_0x3a9e62(0x1bb)]=_0x3a9e62(0x4f9),_0x18ffff[_0x3a9e62(0x5a2)]=!![],_0x47f857[_0x3a9e62(0x1bb)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x173cba=collection(db,'artifacts/'+appId+_0x3a9e62(0x6ad)),_0x239261=await getDocs(_0x173cba);allProjects=_0x239261[_0x3a9e62(0x971)][_0x3a9e62(0x743)](_0x20ef85=>({'id':_0x20ef85['id'],..._0x20ef85[_0x3a9e62(0x612)]()}));}const _0x4021ae=allProjects[_0x3a9e62(0x30b)](_0x2566c0=>_0x2566c0[_0x3a9e62(0x921)]?.['showInStudentDashboard']!==![]);_0x4021ae[_0x3a9e62(0x34f)]((_0x20388f,_0x58959c)=>_0x20388f[_0x3a9e62(0x3ad)][_0x3a9e62(0x392)](_0x58959c[_0x3a9e62(0x3ad)],'th')),_0x47f857[_0x3a9e62(0x1bb)]=_0x3a9e62(0x9b8)+_0x4021ae[_0x3a9e62(0x743)](_0x4817d3=>'<option\x20value=\x22'+_0x4817d3['id']+'\x22>'+_0x4817d3[_0x3a9e62(0x3ad)]+_0x3a9e62(0x7d2))[_0x3a9e62(0xaad)](''),_0x47f857[_0x3a9e62(0x327)]=()=>{const _0x4d7bfe=_0x3a9e62,_0x5e7c77=_0x18ffff[_0x4d7bfe(0x303)],_0x1b0ace=_0x47f857['value'];_0x18ffff['disabled']=!![],_0x18ffff[_0x4d7bfe(0x1bb)]=_0x4d7bfe(0x4f9),_0x3c8546[_0x4d7bfe(0x1bb)]=_0x4d7bfe(0x5d6);if(!_0x1b0ace)return;const _0x40a1a5=allProjects[_0x4d7bfe(0x270)](_0x57cf35=>_0x57cf35['id']===_0x1b0ace);if(!_0x40a1a5||!_0x40a1a5[_0x4d7bfe(0x88f)])return;const _0xf531e5=()=>{const _0xfac4f8=_0x4d7bfe;_0x18ffff[_0xfac4f8(0x1bb)]=_0xfac4f8(0x4f9)+_0x40a1a5[_0xfac4f8(0x88f)][_0xfac4f8(0x743)](_0x107e61=>_0xfac4f8(0x943)+_0x107e61+'\x22>'+_0x107e61+_0xfac4f8(0x7d2))['join'](''),_0x18ffff['disabled']=![];const _0x5cfc4d=Array[_0xfac4f8(0x5bc)](_0x18ffff[_0xfac4f8(0xaee)])[_0xfac4f8(0x743)](_0x1e09a6=>_0x1e09a6[_0xfac4f8(0x303)]);if(_0x5e7c77&&_0x5cfc4d[_0xfac4f8(0x634)](_0x5e7c77))_0x18ffff[_0xfac4f8(0x303)]=_0x5e7c77,_0x18ffff[_0xfac4f8(0x995)](new Event(_0xfac4f8(0x8e7)));else _0x40a1a5[_0xfac4f8(0x88f)][_0xfac4f8(0x31f)]===0x1&&(_0x18ffff[_0xfac4f8(0x303)]=_0x40a1a5['students'][0x0],_0x18ffff[_0xfac4f8(0x995)](new Event('change')));};if(_0x40a1a5['settings']?.[_0x4d7bfe(0x222)]){if(sessionStorage[_0x4d7bfe(0x7e6)]('authed_project_'+_0x1b0ace)===_0x4d7bfe(0x3e7)){_0xf531e5();return;}const _0x1bec8d=document['getElementById'](_0x4d7bfe(0x8e1)),_0x500983=document[_0x4d7bfe(0x274)](_0x4d7bfe(0xa95)),_0x36d7c6=document[_0x4d7bfe(0x274)](_0x4d7bfe(0x29c)),_0x43f416=document[_0x4d7bfe(0x274)](_0x4d7bfe(0x6c4)),_0x94e48=document['getElementById'](_0x4d7bfe(0x947));document['getElementById'](_0x4d7bfe(0x42e))[_0x4d7bfe(0x7b7)]=_0x4d7bfe(0x3fc)+_0x40a1a5[_0x4d7bfe(0x3ad)],_0x43f416[_0x4d7bfe(0x303)]='',_0x94e48[_0x4d7bfe(0x67e)]['add']('hidden'),_0x1bec8d[_0x4d7bfe(0x67e)][_0x4d7bfe(0xaa2)](_0x4d7bfe(0x66d));const _0x2ce918=()=>{const _0x4fb021=_0x4d7bfe,_0x3a2527=_0x43f416[_0x4fb021(0x303)]['trim']();_0x3a2527===_0x40a1a5[_0x4fb021(0x921)][_0x4fb021(0x20a)]?(sessionStorage[_0x4fb021(0x31c)]('authed_project_'+_0x1b0ace,'true'),_0x1bec8d[_0x4fb021(0x67e)][_0x4fb021(0x677)](_0x4fb021(0x66d)),_0xf531e5(),_0x500983[_0x4fb021(0x400)](_0x4fb021(0x405),_0x2ce918)):_0x94e48[_0x4fb021(0x67e)][_0x4fb021(0xaa2)](_0x4fb021(0x66d));};_0x500983[_0x4d7bfe(0x347)]=_0x2ce918,_0x36d7c6[_0x4d7bfe(0x347)]=()=>{const _0x515762=_0x4d7bfe;_0x1bec8d['classList'][_0x515762(0x677)](_0x515762(0x66d)),_0x47f857[_0x515762(0x303)]='',_0x500983[_0x515762(0x400)](_0x515762(0x405),_0x2ce918);};}else _0xf531e5();},_0x18ffff['onchange']=()=>{const _0x4125b6=_0x3a9e62,_0x55c422=_0x47f857[_0x4125b6(0x303)],_0x515c2d=_0x18ffff[_0x4125b6(0x303)];_0x55c422&&_0x515c2d&&renderStudentProgressDashboard(_0x55c422,_0x515c2d);};}async function confirmAndJoinSyncGame(){const _0x1162c0=_0x3f08ea,_0x465f06=Array['from'](document[_0x1162c0(0x591)](_0x1162c0(0x79e)))['map'](_0x5e18ed=>_0x5e18ed['value']);if(_0x465f06['length']===0x0){showMessage(_0x1162c0(0x553));return;}localTeamPlayers=_0x465f06,localPlayerTurnIndex=0x0;const _0x268cea=doc(db,_0x1162c0(0x439)+appId+_0x1162c0(0x40b),currentLiveGameId);try{const _0x3a8242=await getDoc(_0x268cea);if(!_0x3a8242[_0x1162c0(0x905)]())throw new Error(_0x1162c0(0x3f8));const _0x1e55d4=_0x3a8242[_0x1162c0(0x612)]()[_0x1162c0(0x896)]||{};_0x465f06[_0x1162c0(0x232)](_0x43c7a7=>{const _0x368507=_0x1162c0;!_0x1e55d4[_0x43c7a7]&&(_0x1e55d4[_0x43c7a7]={'name':_0x43c7a7,'score':0x0,'answered':![],'status':_0x368507(0x415)});}),await updateDoc(_0x268cea,{'players':_0x1e55d4}),document[_0x1162c0(0x274)](_0x1162c0(0x477))[_0x1162c0(0x67e)][_0x1162c0(0x677)](_0x1162c0(0x66d)),currentStudentName=_0x465f06[0x0],listenForSyncGameUpdates();const _0x3171d1={'gameId':currentLiveGameId,'mode':_0x1162c0(0x970),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1162c0(0x31c)](_0x1162c0(0x325),JSON['stringify'](_0x3171d1));}catch(_0x44e345){console[_0x1162c0(0x183)](_0x1162c0(0x42f),_0x44e345),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x1ef811=_0x3f08ea,_0x4df1fc=sessionStorage['getItem']('activeGameSession');if(!_0x4df1fc)return;const _0x257416=JSON['parse'](_0x4df1fc),{gameId:_0x48a992,mode:_0x1b8d89,players:_0x4d5940,turnIndex:_0x2de7b1}=_0x257416;try{let _0x5a2aee,_0x450acd;_0x1b8d89===_0x1ef811(0x970)?_0x5a2aee=doc(db,'artifacts/'+appId+'/public/data/syncGames',_0x48a992):_0x5a2aee=doc(db,'artifacts/'+appId+_0x1ef811(0x36e),_0x48a992);_0x450acd=await getDoc(_0x5a2aee);if(!_0x450acd[_0x1ef811(0x905)]()||_0x450acd[_0x1ef811(0x612)]()[_0x1ef811(0x7af)]===_0x1ef811(0x501)||_0x450acd['data']()[_0x1ef811(0x7af)]===_0x1ef811(0x7b5)){sessionStorage[_0x1ef811(0x402)](_0x1ef811(0x325));return;}console[_0x1ef811(0xa09)](_0x1ef811(0x6a4)+_0x1b8d89+_0x1ef811(0x90a)+_0x48a992+')'),localTeamPlayers=_0x4d5940,localPlayerTurnIndex=_0x2de7b1;if(_0x1b8d89===_0x1ef811(0x970))currentLiveGameId=_0x48a992,currentStudentName=_0x4d5940[0x0],showView(_0x1ef811(0x4e5)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x48a992;const _0x15d550=_0x450acd[_0x1ef811(0x612)](),_0x3a39a8=doc(db,_0x1ef811(0x439)+appId+_0x1ef811(0x5e9),_0x15d550['quizId']),_0x5d15b8=await getDoc(_0x3a39a8);_0x5d15b8[_0x1ef811(0x905)]()&&(currentQuizData=getShuffledQuiz({'id':_0x5d15b8['id'],..._0x5d15b8['data']()}),showView(_0x1ef811(0x351)),studentInitialView[_0x1ef811(0x67e)]['add']('hidden'),renderTeamQuizQuestion());}}catch(_0x58391d){console[_0x1ef811(0x183)](_0x1ef811(0x537),_0x58391d),sessionStorage[_0x1ef811(0x402)](_0x1ef811(0x325));}}async function handleKickPlayerSync(_0x3630b6){const _0xccc554=_0x3f08ea;if(!currentLiveGameId||!_0x3630b6)return;const _0x18266f=doc(db,_0xccc554(0x439)+appId+_0xccc554(0x40b),currentLiveGameId),_0x5eec12={};_0x5eec12['players.'+_0x3630b6+_0xccc554(0x598)]='inactive';try{await updateDoc(_0x18266f,_0x5eec12);}catch(_0x1870b6){console[_0xccc554(0x183)](_0xccc554(0x197)+_0x3630b6+'\x20from\x20sync\x20game:',_0x1870b6),showMessage(_0xccc554(0x47e));}}async function renderStudentProgressDashboard(_0x334ce2,_0x665913){const _0x33a35a=_0x3f08ea,_0x4aba34=document[_0x33a35a(0x274)](_0x33a35a(0x417));_0x4aba34['innerHTML']=_0x33a35a(0x851);try{const _0x3e9e69=collection(db,_0x33a35a(0x439)+appId+_0x33a35a(0x5e9)),_0x3ddce2=query(_0x3e9e69,where(_0x33a35a(0x6ec),'==',_0x334ce2)),_0x19e699=await getDocs(_0x3ddce2),_0xd1e6a1=_0x19e699['docs'][_0x33a35a(0x743)](_0x453308=>({'id':_0x453308['id'],..._0x453308[_0x33a35a(0x612)]()})),_0x4bda0a=_0xd1e6a1[_0x33a35a(0x743)](_0x18876a=>getDoc(doc(db,_0x33a35a(0x439)+appId+_0x33a35a(0x584)+_0x18876a['id']+'/submissions',_0x665913))),_0x57ce9b=await Promise[_0x33a35a(0xa59)](_0x4bda0a),_0x132230=_0x57ce9b[_0x33a35a(0x30b)](_0xcdff78=>_0xcdff78[_0x33a35a(0x905)]())['map'](_0x39df8d=>({'quizId':_0x39df8d[_0x33a35a(0x26c)]['parent'][_0x33a35a(0x651)]['id'],..._0x39df8d['data']()}));if(_0x132230[_0x33a35a(0x31f)]===0x0){_0x4aba34['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x74e224=_0x33a35a(0xa96);_0x132230['forEach'](_0x1215f3=>{const _0x98773e=_0x33a35a,_0x1c8072=_0xd1e6a1['find'](_0x1e89a3=>_0x1e89a3['id']===_0x1215f3[_0x98773e(0x628)]),_0x43b9e0=_0x1c8072[_0x98773e(0x921)]?.[_0x98773e(0xa68)]||'show_results_and_answers',_0x20760f=_0x1c8072[_0x98773e(0x921)]?.[_0x98773e(0x8ad)]??0x0,_0x1531a5=_0x1215f3['bestScore']>=_0x20760f;let _0x53a3d6='',_0x5a341d=_0x98773e(0xa71);switch(_0x43b9e0){case _0x98773e(0x25d):case'show_results_only':_0x5a341d=_0x1531a5?_0x98773e(0x632):'bg-red-50',_0x53a3d6=_0x98773e(0x617)+(_0x1531a5?_0x98773e(0x2a2):'text-red-700')+'\x22>'+_0x1215f3[_0x98773e(0x245)]+_0x98773e(0x1fd)+_0x1215f3[_0x98773e(0x204)]+_0x98773e(0x408)+(_0x1531a5?_0x98773e(0x94d):_0x98773e(0x5b1))+'\x22>'+(_0x1531a5?_0x98773e(0xa89):_0x98773e(0xa79))+_0x98773e(0x304);break;case _0x98773e(0x250):_0x5a341d=_0x1531a5?'bg-green-50':_0x98773e(0x7f5),_0x53a3d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x1531a5?_0x98773e(0x94d):_0x98773e(0x5b1))+'\x22>'+(_0x1531a5?_0x98773e(0xa89):_0x98773e(0xa79))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x98773e(0x3b0):_0x5a341d=_0x98773e(0x745),_0x53a3d6=_0x98773e(0x849);break;}_0x74e224+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x5a341d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x1c8072[_0x98773e(0x994)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x1215f3[_0x98773e(0x4ee)]['length']+_0x98773e(0xa6a)+new Date(_0x1215f3['latestSubmittedAt'])[_0x98773e(0x8d3)]('th-TH')+_0x98773e(0x596)+_0x53a3d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x74e224+=_0x33a35a(0x601),_0x4aba34[_0x33a35a(0x1bb)]=_0x74e224;}catch(_0x21eb56){console[_0x33a35a(0x183)](_0x33a35a(0x8da),_0x21eb56),_0x4aba34[_0x33a35a(0x1bb)]=_0x33a35a(0x3a4);}}function setupStudentProgressListeners(){const _0x244816=_0x3f08ea;document[_0x244816(0x274)](_0x244816(0x720))[_0x244816(0x908)](_0x244816(0x405),showStudentProgressView),document[_0x244816(0x274)](_0x244816(0x8ec))[_0x244816(0x908)](_0x244816(0x405),()=>{const _0x51b149=_0x244816;document[_0x51b149(0x274)](_0x51b149(0x2fc))[_0x51b149(0x67e)][_0x51b149(0x677)](_0x51b149(0x66d)),document[_0x51b149(0x274)](_0x51b149(0x229))[_0x51b149(0x67e)]['remove']('hidden');});}async function startSkillPractice(_0x3f7a78){const _0x1fb3f9=_0x3f08ea;studentResultArea['classList'][_0x1fb3f9(0x677)](_0x1fb3f9(0x66d)),studentQuizArea[_0x1fb3f9(0x1bb)]=_0x1fb3f9(0x57d),studentQuizArea[_0x1fb3f9(0x67e)][_0x1fb3f9(0xaa2)](_0x1fb3f9(0x66d));try{const _0x4720e9=await getStandardizedTopic(_0x3f7a78);console[_0x1fb3f9(0xa09)](_0x1fb3f9(0x374)+_0x3f7a78+_0x1fb3f9(0x539)+_0x4720e9+'\x22'),studentQuizArea[_0x1fb3f9(0x497)]('p')[_0x1fb3f9(0x7b7)]=_0x1fb3f9(0x2a8)+_0x4720e9+_0x1fb3f9(0x646);const _0x1482e1=collection(db,_0x1fb3f9(0x439)+appId+'/public/data/practiceBank'),_0x5a964d=query(_0x1482e1,where(_0x1fb3f9(0x994),'==',_0x4720e9)),_0x5df0f4=await getDocs(_0x5a964d);if(_0x5df0f4['docs']['length']>=0x3){console['log'](_0x1fb3f9(0x23a)+_0x5df0f4[_0x1fb3f9(0x971)][_0x1fb3f9(0x31f)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x4720e9+_0x1fb3f9(0x902));let _0x3a0ae6=_0x5df0f4[_0x1fb3f9(0x971)][_0x1fb3f9(0x743)](_0xc44009=>_0xc44009[_0x1fb3f9(0x612)]());shuffleArray(_0x3a0ae6);const _0x2b470b={'topic':_0x4720e9,'questions':_0x3a0ae6[_0x1fb3f9(0x625)](0x0,0x3)};displaySkillPracticeDrill(_0x2b470b);}else{console['log'](_0x1fb3f9(0x45a)+_0x4720e9+_0x1fb3f9(0x221));const _0x100c4a=await generatePracticeQuestions(_0x4720e9);await saveDrillToPracticeBank(_0x100c4a,_0x4720e9),displaySkillPracticeDrill(_0x100c4a);}}catch(_0x26a644){console[_0x1fb3f9(0x183)](_0x1fb3f9(0x9d1),_0x26a644),showMessage(_0x1fb3f9(0x5ff)),studentQuizArea[_0x1fb3f9(0x67e)][_0x1fb3f9(0x677)]('hidden'),studentResultArea[_0x1fb3f9(0x67e)]['remove'](_0x1fb3f9(0x66d));}}async function saveDrillToPracticeBank(_0x27f212,_0x30ba83){const _0x24cb2c=_0x3f08ea,_0x48c9f8=collection(db,_0x24cb2c(0x439)+appId+'/public/data/practiceBank'),_0x38723d=writeBatch(db);_0x27f212[_0x24cb2c(0x2bb)][_0x24cb2c(0x232)](_0x2903bf=>{const _0x4f098b=_0x24cb2c,_0x4c844e=doc(_0x48c9f8);_0x38723d[_0x4f098b(0xa3b)](_0x4c844e,{'topic':_0x30ba83,'questionText':_0x2903bf['questionText'],'options':_0x2903bf[_0x4f098b(0xaee)],'correctAnswerIndex':_0x2903bf['correctAnswerIndex'],'explanation':_0x2903bf[_0x4f098b(0x339)],'createdAt':serverTimestamp()});});try{await _0x38723d[_0x24cb2c(0x296)](),console[_0x24cb2c(0xa09)](_0x24cb2c(0x635)+_0x27f212['questions'][_0x24cb2c(0x31f)]+_0x24cb2c(0x599));}catch(_0x194933){console[_0x24cb2c(0x183)](_0x24cb2c(0x859),_0x194933);}}async function getStandardizedTopic(_0x527673){const _0x2ef925=_0x3f08ea,_0x17e65b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x527673+_0x2ef925(0x286),_0x165ad5={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0x2ef925(0x506)]};try{const _0x38a900=await callAnalysisApi(_0x17e65b,_0x165ad5);return _0x38a900[_0x2ef925(0x506)];}catch(_0x119356){return console[_0x2ef925(0x183)](_0x2ef925(0x6eb),_0x119356),_0x527673;}}async function handleGenerateEasyVersionQuiz(_0x3c2dc7){const _0x8800cb=_0x3f08ea,_0x2926c9=document[_0x8800cb(0x274)]('results-tab-content'),_0x2af20a=document[_0x8800cb(0x274)]('project-quizzes-list');_0x2af20a[_0x8800cb(0x67e)][_0x8800cb(0x677)](_0x8800cb(0x66d));const _0x495d2d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2926c9[_0x8800cb(0x6e1)](_0x8800cb(0x1f7),_0x495d2d);try{const _0x2dcb5c=allQuizzes[_0x8800cb(0x270)](_0x3aef84=>_0x3aef84['id']===_0x3c2dc7);if(!_0x2dcb5c)throw new Error(_0x8800cb(0x67f));const _0xd5ec56=_0x8800cb(0x7e8)+JSON[_0x8800cb(0x65e)](_0x2dcb5c['questions'])+_0x8800cb(0x1ae),_0x3f391a={'type':_0x8800cb(0x6a6),'properties':{'questionText':{'type':_0x8800cb(0x2a3)},'questionType':{'type':_0x8800cb(0x2a3)},'options':{'type':'ARRAY','items':{'type':_0x8800cb(0x2a3)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x8800cb(0x2a3)},'explanation':{'type':_0x8800cb(0x2a3)},'imageCode':{'type':_0x8800cb(0x2a3)}},'required':[_0x8800cb(0x81a),'questionType',_0x8800cb(0x339)]},_0xe4f8fd={'type':_0x8800cb(0x6a6),'properties':{'questions':{'type':_0x8800cb(0x1cf),'items':_0x3f391a}},'required':[_0x8800cb(0x2bb)]},_0x597b9a=await callAnalysisApi(_0xd5ec56,_0xe4f8fd);_0x597b9a&&_0x597b9a[_0x8800cb(0x2bb)]&&_0x597b9a['questions'][_0x8800cb(0x232)](_0x297360=>{const _0x49f447=_0x8800cb;if(_0x297360[_0x49f447(0x184)](_0x49f447(0xaa5))){const _0x5b86d3=String(_0x297360[_0x49f447(0xaa5)])['trim']();(_0x5b86d3===''||_0x5b86d3[_0x49f447(0x313)]()===_0x49f447(0x6f2)||!_0x5b86d3[_0x49f447(0x968)](_0x49f447(0x372)))&&delete _0x297360[_0x49f447(0xaa5)];}});if(!_0x597b9a||!_0x597b9a[_0x8800cb(0x2bb)]||_0x597b9a[_0x8800cb(0x2bb)][_0x8800cb(0x31f)]===0x0)throw new Error(_0x8800cb(0x616));const _0x4f4274=_0x597b9a[_0x8800cb(0x2bb)][_0x8800cb(0x743)]((_0x5b9d36,_0x1a9b16)=>({..._0x5b9d36,'id':'q_'+Date[_0x8800cb(0x3f3)]()+'_'+_0x1a9b16})),_0x3a290d={'projectId':_0x2dcb5c[_0x8800cb(0x6ec)],'quizType':_0x2dcb5c['quizType'],'settings':_0x2dcb5c[_0x8800cb(0x921)],'createdBy':_0x2dcb5c[_0x8800cb(0x38b)],'status':_0x8800cb(0x415),'topic':'(ฉบับง่าย)\x20'+_0x2dcb5c[_0x8800cb(0x994)],'questions':_0x4f4274,'createdAt':new Date()[_0x8800cb(0x481)](),'quizMode':_0x8800cb(0x5be),'pairedQuizId':null};let _0xf0928e;while(!![]){_0xf0928e=Math[_0x8800cb(0x5fa)](0x3e8+Math[_0x8800cb(0x643)]()*0x2328)['toString']();const _0x2d6a4e=await getDoc(doc(db,_0x8800cb(0x439)+appId+_0x8800cb(0x5e9),_0xf0928e));if(!_0x2d6a4e[_0x8800cb(0x905)]())break;}await setDoc(doc(db,_0x8800cb(0x439)+appId+_0x8800cb(0x5e9),_0xf0928e),_0x3a290d),showMessage(_0x8800cb(0x631));}catch(_0x2f6717){console[_0x8800cb(0x183)](_0x8800cb(0x9a2),_0x2f6717),showMessage(_0x8800cb(0x248)+_0x2f6717[_0x8800cb(0x75c)]);}finally{const _0x18785e=document[_0x8800cb(0x274)](_0x8800cb(0x63d));_0x18785e&&_0x18785e[_0x8800cb(0xaa2)](),_0x2af20a['classList'][_0x8800cb(0xaa2)](_0x8800cb(0x66d));}}async function generatePracticeQuestions(_0x20a9cb){const _0x21f10e=_0x3f08ea,_0x4c9cb7=_0x21f10e(0xa94)+_0x20a9cb+_0x21f10e(0x4cf)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x4a67f5={'type':_0x21f10e(0x6a6),'properties':{'questionText':{'type':_0x21f10e(0x2a3)},'options':{'type':_0x21f10e(0x1cf),'items':{'type':_0x21f10e(0x2a3)}},'correctAnswerIndex':{'type':_0x21f10e(0x20d)},'explanation':{'type':_0x21f10e(0x2a3)}},'required':[_0x21f10e(0x81a),_0x21f10e(0xaee),_0x21f10e(0x74e),'explanation']},_0x2ba506={'type':_0x21f10e(0x6a6),'properties':{'topic':{'type':_0x21f10e(0x2a3)},'questions':{'type':_0x21f10e(0x1cf),'items':_0x4a67f5}},'required':[_0x21f10e(0x994),_0x21f10e(0x2bb)]};return await callAnalysisApi(_0x4c9cb7,_0x2ba506);}function displayLessonPlan(_0x1e7a02,_0x66ff14){const _0x240e2a=_0x3f08ea,_0x5002d0=_0x240e2a(0x205)+_0x66ff14[_0x240e2a(0x994)]+_0x240e2a(0xa63)+_0x1e7a02[_0x240e2a(0x3af)]['map'](_0x8cf1b7=>_0x240e2a(0x3d7)+_0x8cf1b7+_0x240e2a(0xa69))[_0x240e2a(0xaad)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1e7a02[_0x240e2a(0x907)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1e7a02[_0x240e2a(0x6fb)][_0x240e2a(0x743)](_0xa6213=>_0x240e2a(0x8f4)+_0xa6213['question']+_0x240e2a(0x2b9)+_0xa6213[_0x240e2a(0x280)]+_0x240e2a(0x56b))['join']('')+_0x240e2a(0x36f);document['getElementById']('lesson-plan-title')[_0x240e2a(0x7b7)]=_0x240e2a(0x6d9)+_0x66ff14['topic'],document[_0x240e2a(0x274)](_0x240e2a(0x14c))[_0x240e2a(0x1bb)]=_0x5002d0,document[_0x240e2a(0x274)](_0x240e2a(0x5a4))[_0x240e2a(0x67e)][_0x240e2a(0xaa2)](_0x240e2a(0x66d));if(window[_0x240e2a(0x13c)])MathJax[_0x240e2a(0x4db)]();}function displaySkillPracticeDrill(_0x4b8e4b){const _0x43191=_0x3f08ea;let _0x5518ec=0x0;const _0x391a30=_0x4b8e4b[_0x43191(0x2bb)],_0x2435a1=()=>{const _0x3d8e7f=_0x43191,_0x2a23ef=_0x391a30[_0x5518ec],_0x4b92a0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x5518ec+0x1)+'\x20/\x20'+_0x391a30['length']+_0x3d8e7f(0x9b5)+_0x2a23ef[_0x3d8e7f(0x81a)]+_0x3d8e7f(0x480)+_0x2a23ef[_0x3d8e7f(0xaee)]['map']((_0x1c47d2,_0x25654d)=>_0x3d8e7f(0x472)+_0x25654d+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x25654d+_0x3d8e7f(0x24b)+_0x25654d+'\x22>'+_0x1c47d2+_0x3d8e7f(0x4c0))['join']('')+_0x3d8e7f(0x1dc);studentQuizArea[_0x3d8e7f(0x1bb)]=_0x4b92a0;if(window[_0x3d8e7f(0x13c)])MathJax[_0x3d8e7f(0x4db)]([studentQuizArea]);document[_0x3d8e7f(0x274)]('hint-btn')[_0x3d8e7f(0x908)](_0x3d8e7f(0x405),async()=>{const _0x2ec612=await getHintForQuestion(_0x2a23ef['questionText']);showMessage(_0x2ec612);}),document[_0x3d8e7f(0x274)](_0x3d8e7f(0x4d2))[_0x3d8e7f(0x908)](_0x3d8e7f(0x405),()=>{const _0xc06344=_0x3d8e7f,_0x39eb50=document[_0xc06344(0x497)](_0xc06344(0x64b));if(!_0x39eb50){showMessage(_0xc06344(0x6d0));return;}const _0x5ad142=document['getElementById']('drill-feedback'),_0x2a24a9=parseInt(_0x39eb50[_0xc06344(0x303)])===_0x2a23ef[_0xc06344(0x74e)];_0x2a24a9?(_0x5ad142['className']=_0xc06344(0xa5c),_0x5ad142[_0xc06344(0x1bb)]=_0xc06344(0x37f)+_0x2a23ef['explanation']):(_0x5ad142[_0xc06344(0x61c)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x5ad142[_0xc06344(0x1bb)]=_0xc06344(0x265)+_0x2a23ef[_0xc06344(0x339)]);_0x5ad142[_0xc06344(0x67e)]['remove'](_0xc06344(0x66d));if(window[_0xc06344(0x13c)])MathJax[_0xc06344(0x4db)]([_0x5ad142]);document[_0xc06344(0x274)](_0xc06344(0x4d2))['classList']['add'](_0xc06344(0x66d)),document[_0xc06344(0x274)](_0xc06344(0x2eb))[_0xc06344(0x67e)]['add'](_0xc06344(0x66d)),document[_0xc06344(0x274)](_0xc06344(0xa55))[_0xc06344(0x67e)][_0xc06344(0xaa2)]('hidden');}),document[_0x3d8e7f(0x274)]('next-drill-btn')[_0x3d8e7f(0x908)](_0x3d8e7f(0x405),()=>{const _0x28f9e7=_0x3d8e7f;_0x5518ec++,_0x5518ec<_0x391a30[_0x28f9e7(0x31f)]?_0x2435a1():(studentQuizArea[_0x28f9e7(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x28f9e7(0x274)](_0x28f9e7(0x64f))[_0x28f9e7(0x908)](_0x28f9e7(0x405),()=>{const _0xfb09c1=_0x28f9e7;studentQuizArea['classList'][_0xfb09c1(0x677)](_0xfb09c1(0x66d)),studentResultArea['classList'][_0xfb09c1(0xaa2)](_0xfb09c1(0x66d));}));});};_0x2435a1();}async function getHintForQuestion(_0x446fa3){const _0x448272=_0x3f08ea,_0x3128ff=_0x448272(0x388)+_0x446fa3+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x3eaf4b={'type':_0x448272(0x6a6),'properties':{'hint':{'type':_0x448272(0x2a3)}},'required':[_0x448272(0x2c4)]};try{const _0x162cdf=await callAnalysisApi(_0x3128ff,_0x3eaf4b);return _0x162cdf[_0x448272(0x2c4)];}catch(_0x5540d4){return console[_0x448272(0x183)](_0x448272(0xab4),_0x5540d4),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0xcb8a30){const _0x34abfd=_0x3f08ea;pdfjsLib[_0x34abfd(0x2f6)][_0x34abfd(0x65c)]=_0x34abfd(0x317);const _0xf902dd=await _0xcb8a30['arrayBuffer'](),_0x331da7=await pdfjsLib['getDocument'](_0xf902dd)[_0x34abfd(0x619)],_0x5f5499=_0x331da7[_0x34abfd(0x940)];let _0x3184ab='';for(let _0x3fb93a=0x1;_0x3fb93a<=_0x5f5499;_0x3fb93a++){const _0x3b2bb4=await _0x331da7['getPage'](_0x3fb93a),_0xcfba06=await _0x3b2bb4[_0x34abfd(0x7dc)](),_0x52a155=_0xcfba06[_0x34abfd(0x7ca)]['map'](_0xb64a59=>_0xb64a59['str'])[_0x34abfd(0xaad)]('\x20');_0x3184ab+=_0x52a155+'\x0a\x0a';}return _0x3184ab;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0xf85acd){const _0x2292f2=_0x3f08ea,_0x5257a9=document[_0x2292f2(0x274)](_0x2292f2(0xa0e)),_0x57aecf=document[_0x2292f2(0x274)]('blueprint-topics-list');_0x5257a9[_0x2292f2(0x67e)][_0x2292f2(0xaa2)](_0x2292f2(0x66d)),_0x57aecf[_0x2292f2(0x1bb)]=_0x2292f2(0x65f);try{const _0x161741=_0x2292f2(0x84e)+_0xf85acd+_0x2292f2(0x13a),_0xb8cb4b={'type':'OBJECT','properties':{'topics':{'type':'ARRAY','items':{'type':_0x2292f2(0x2a3)}}},'required':[_0x2292f2(0x262)]},_0x1e4d67=await callAnalysisApi(_0x161741,_0xb8cb4b);if(_0x1e4d67&&_0x1e4d67[_0x2292f2(0x262)])extractedBlueprintTopics=_0x1e4d67[_0x2292f2(0x262)],renderBlueprintTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อได้');}catch(_0x12a4da){console[_0x2292f2(0x183)](_0x2292f2(0xa1f),_0x12a4da),_0x57aecf['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(){const _0x40a7de=_0x3f08ea,_0x441e6e=document[_0x40a7de(0x274)](_0x40a7de(0xac8));if(extractedBlueprintTopics['length']===0x0){_0x441e6e[_0x40a7de(0x1bb)]=_0x40a7de(0x88c);return;}_0x441e6e['innerHTML']=extractedBlueprintTopics[_0x40a7de(0x743)](_0x3ec512=>_0x40a7de(0x854)+_0x3ec512+_0x40a7de(0x344)+escape(_0x3ec512)+_0x40a7de(0x716)+escape(_0x3ec512)+_0x40a7de(0x426))[_0x40a7de(0xaad)]('');}async function handleGenerateTeachingContent(_0x31ff6e){const _0x593616=_0x3f08ea,_0x51f7d1=document[_0x593616(0x274)]('lesson-plan-modal'),_0x332584=document[_0x593616(0x274)](_0x593616(0x14c));document['getElementById'](_0x593616(0x536))[_0x593616(0x7b7)]=_0x593616(0x29d)+_0x31ff6e,_0x332584['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x51f7d1[_0x593616(0x67e)]['remove'](_0x593616(0x66d));try{const _0x3695f8=_0x593616(0x3f2)+_0x31ff6e+_0x593616(0xaf6),_0x108f0b={'type':_0x593616(0x6a6),'properties':{'keyConcepts':{'type':_0x593616(0x1cf),'items':{'type':_0x593616(0x2a3)}},'commonMistakes':{'type':_0x593616(0x1cf),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x593616(0x1cf),'items':{'type':_0x593616(0x6a6),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}},'required':[_0x593616(0x8e9),_0x593616(0x280)]}},'teacherTips':{'type':_0x593616(0x1cf),'items':{'type':_0x593616(0x2a3)}}},'required':[_0x593616(0x8a3),_0x593616(0x938),_0x593616(0x34d),_0x593616(0x219)]},_0x2c38a0=await callAnalysisApi(_0x3695f8,_0x108f0b);displayTeachingContent(_0x2c38a0,_0x31ff6e);}catch(_0xd57d91){console[_0x593616(0x183)](_0x593616(0xae4),_0xd57d91),_0x332584[_0x593616(0x1bb)]=_0x593616(0x723)+_0xd57d91[_0x593616(0x75c)]+'</p>';}}function displayTeachingContent(_0x271b04,_0x2aef8f){const _0x30429b=_0x3f08ea,_0x56ef8d=document[_0x30429b(0x274)](_0x30429b(0x14c));document['getElementById'](_0x30429b(0x536))[_0x30429b(0x7b7)]=_0x30429b(0x214)+_0x2aef8f;const _0x458fbf=_0x30429b(0x3d5)+_0x271b04['keyConcepts'][_0x30429b(0x743)](_0x144272=>'<li>'+_0x144272+_0x30429b(0xa69))[_0x30429b(0xaad)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x271b04[_0x30429b(0x938)]['map'](_0x5716b2=>_0x30429b(0x3d7)+_0x5716b2+_0x30429b(0xa69))[_0x30429b(0xaad)]('')+_0x30429b(0x512)+_0x271b04[_0x30429b(0x34d)]['map'](_0x11fe62=>_0x30429b(0x3d1)+_0x11fe62[_0x30429b(0x8e9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x11fe62[_0x30429b(0x280)]+_0x30429b(0x90f))[_0x30429b(0xaad)]('')+_0x30429b(0x1ed)+_0x271b04['teacherTips'][_0x30429b(0x743)](_0x48d564=>_0x30429b(0x3d7)+_0x48d564+_0x30429b(0xa69))[_0x30429b(0xaad)]('')+_0x30429b(0x515);_0x56ef8d[_0x30429b(0x1bb)]=_0x458fbf;if(window[_0x30429b(0x13c)])MathJax['typesetPromise']([_0x56ef8d]);}async function generateQuizForSingleTopic(_0x3f0444){const _0x5d5c13=_0x3f08ea;console[_0x5d5c13(0xa09)](_0x5d5c13(0x6db)+_0x3f0444+'\x22');const _0x392c16=document[_0x5d5c13(0x274)]('reference-pdf-upload'),_0x3f814d=_0x392c16[_0x5d5c13(0x29a)]['length']>0x0?_0x392c16[_0x5d5c13(0x29a)][0x0]:null;let _0x5a2828=null;if(_0x3f814d)try{const _0x406d50=new FileReader();_0x406d50[_0x5d5c13(0xaec)](_0x3f814d);const _0x247c30=await new Promise((_0x31c203,_0x5ece7a)=>{const _0x46589d=_0x5d5c13;_0x406d50[_0x46589d(0x4b4)]=()=>_0x31c203(_0x406d50[_0x46589d(0x87f)][_0x46589d(0x72a)](',')[0x1]),_0x406d50['onerror']=_0x127d2f=>_0x5ece7a(_0x127d2f);});_0x5a2828=[{'inlineData':{'mimeType':_0x3f814d['type'],'data':_0x247c30}}];}catch(_0x361859){console['error']('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x361859),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x3f0444,null,null,_0x5a2828);}async function handleGenerateFromBlueprint(){const _0x248a35=_0x3f08ea,_0x30ab6d=document[_0x248a35(0x274)](_0x248a35(0x6a8)),_0x18edb2=document[_0x248a35(0x274)]('reference-pdf-upload'),_0x425842=_0x30ab6d[_0x248a35(0x29a)][0x0],_0x4793c8=_0x18edb2[_0x248a35(0x29a)][_0x248a35(0x31f)]>0x0?_0x18edb2[_0x248a35(0x29a)][0x0]:null;if(!_0x425842){showMessage(_0x248a35(0x7bc));return;}const _0x590c5b=document['getElementById']('loader'),_0x3a47a1=document[_0x248a35(0x274)](_0x248a35(0x94a)),_0x46fa7f=document[_0x248a35(0x274)](_0x248a35(0x14b)),_0x1989fb=document[_0x248a35(0x274)]('generate-from-blueprint-btn');_0x1989fb['disabled']=!![],document[_0x248a35(0x274)]('quiz-generation-area')['classList']['remove'](_0x248a35(0x66d)),_0x46fa7f[_0x248a35(0x1bb)]='',_0x590c5b[_0x248a35(0x67e)][_0x248a35(0xaa2)](_0x248a35(0x66d));try{_0x3a47a1[_0x248a35(0x7b7)]='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x4cc4f6=new FileReader();_0x4cc4f6[_0x248a35(0xaec)](_0x425842);const _0x1293e5=await new Promise((_0x272800,_0x4c9d1d)=>{const _0x11bc16=_0x248a35;_0x4cc4f6[_0x11bc16(0x4b4)]=()=>_0x272800(_0x4cc4f6[_0x11bc16(0x87f)][_0x11bc16(0x72a)](',')[0x1]),_0x4cc4f6[_0x11bc16(0x15f)]=_0x5f4a2a=>_0x4c9d1d(_0x5f4a2a);}),_0x3a2f03=[];if(_0x4793c8){_0x3a47a1[_0x248a35(0x7b7)]='กำลังเตรียมไฟล์ข้อสอบอ้างอิง...';const _0x435d37=new FileReader();_0x435d37[_0x248a35(0xaec)](_0x4793c8);const _0x47b1bb=await new Promise((_0x4449c5,_0x465c11)=>{const _0x456699=_0x248a35;_0x435d37[_0x456699(0x4b4)]=()=>_0x4449c5(_0x435d37[_0x456699(0x87f)][_0x456699(0x72a)](',')[0x1]),_0x435d37[_0x456699(0x15f)]=_0x502803=>_0x465c11(_0x502803);});_0x3a2f03['push']({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x3a2f03['push']({'inlineData':{'mimeType':_0x4793c8[_0x248a35(0x7ba)],'data':_0x47b1bb}});}const _0x2e9994='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x17c78f=_0x248a35(0x7b1)+(_0x4793c8?_0x248a35(0x6f5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีคุณสมบัติดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a.\x20\x20**[กฎที่สำคัญที่สุด]**\x20จำนวนข้อสอบรวม\x20และจำนวนข้อในแต่ละรูปแบบ\x20**ต้องตรงกับตัวเลขที่คุณวิเคราะห์ได้จาก\x20Test\x20Blueprint\x20ในข้อ\x201\x20ทุกประการ**\x20ห้ามสร้างข้อสอบเกินหรือขาดจากจำนวนนี้อย่างเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.\x20\x20**ต้องเรียงลำดับคำถามตามรูปแบบ**\x20ที่ระบุใน\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน,\x20ตามด้วยระบายตัวเลข)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.\x20\x20**สำหรับรูปแบบ\x20\x27ถูก/ผิด\x27\x20(ถ้ามี):**\x20ต้องสร้างเป็นประโยคบอกเล่า\x20(Statement)\x20ห้ามสร้างเป็นคำถามให้คำนวณหาค่า\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.\x20\x20ต้องครอบคลุมเนื้อหาตามสาระการเรียนรู้ที่กำหนด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.\x20\x20ต้องสร้างสรรค์โจทย์\x20ไม่ซ้ำซากจำเจ\x20และเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e9994+_0x248a35(0x7f6)+simpleMathPrompt+_0x248a35(0x61d),_0x346f06={'type':_0x248a35(0x6a6),'properties':{'questionText':{'type':_0x248a35(0x2a3)},'questionType':{'type':_0x248a35(0x2a3),'enum':[_0x248a35(0x622),_0x248a35(0x15d),_0x248a35(0x8bf),_0x248a35(0x466)]},'options':{'type':_0x248a35(0x1cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x248a35(0x20d)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x248a35(0x2e9)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x248a35(0x4f4),_0x248a35(0x339)]},_0x587f2b={'type':_0x248a35(0x6a6),'properties':{'topic':{'type':_0x248a35(0x2a3)},'questions':{'type':_0x248a35(0x1cf),'items':_0x346f06}},'required':[_0x248a35(0x994),_0x248a35(0x2bb)]},_0x368fc1=[{'text':_0x17c78f},{'inlineData':{'mimeType':_0x425842[_0x248a35(0x7ba)],'data':_0x1293e5}},..._0x3a2f03];await handleApiCall(_0x368fc1,_0x248a35(0x1ec),_0x587f2b);}catch(_0x864c2b){console[_0x248a35(0x183)](_0x248a35(0x3a5),_0x864c2b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x864c2b[_0x248a35(0x75c)]),_0x46fa7f['innerHTML']=_0x248a35(0x9c9);}finally{_0x590c5b[_0x248a35(0x67e)][_0x248a35(0x677)]('hidden'),_0x1989fb[_0x248a35(0x5a2)]=![];}}function proceedToNextQuestion(_0x32f1db){const _0x57e95e=_0x3f08ea;studentAnswersPerQuestion[_0x57e95e(0xa97)](_0x32f1db),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x57e95e(0x2bb)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x27fde4,_0x23eff7){const _0x4e8fe1=_0x3f08ea,_0x307197=Object[_0x4e8fe1(0x237)](_0x27fde4['players']||{}),_0xfc5863=_0x307197[_0x4e8fe1(0x31f)],_0x24b1c0=[..._0x307197][_0x4e8fe1(0x34f)]((_0x4877ac,_0x41f0cf)=>_0x41f0cf['score']-_0x4877ac['score']),_0x13c4c5=_0x27fde4[_0x4e8fe1(0x787)];let _0xdcabb0='';const _0x3fea52=_0x27fde4[_0x4e8fe1(0x91e)]['questions'],_0x2652f9=_0x3fea52[_0x13c4c5],_0x9ed474=_0x49cb6d=>String[_0x4e8fe1(0x8d7)](0x41+_0x49cb6d);let _0x1deea8='',_0x2d0803='';if(_0x2652f9){const _0x262882=_0x2652f9[_0x4e8fe1(0x4f4)]||_0x27fde4[_0x4e8fe1(0x91e)][_0x4e8fe1(0x641)];if(_0x262882==='multiple_choice'&&_0x2652f9[_0x4e8fe1(0xaee)]&&_0x2652f9[_0x4e8fe1(0x74e)]!==undefined){const _0x12e1d7=_0x2652f9[_0x4e8fe1(0x74e)];_0x1deea8=_0x2652f9[_0x4e8fe1(0xaee)][_0x12e1d7],_0x2d0803=_0x9ed474(_0x12e1d7)+'.';}else{if(_0x262882===_0x4e8fe1(0x8bf)){const _0x441b02=_0x2652f9[_0x4e8fe1(0x26f)]===!![]||String(_0x2652f9[_0x4e8fe1(0x26f)])[_0x4e8fe1(0x313)]()==='true';_0x441b02?(_0x1deea8='ใช่\x20/\x20ถูก',_0x2d0803='ก.'):(_0x1deea8='ไม่ใช่\x20/\x20ผิด',_0x2d0803='ข.');}else{if(_0x262882===_0x4e8fe1(0x466))_0x1deea8=_0x2652f9[_0x4e8fe1(0x984)]||'-',_0x2d0803='';else _0x262882===_0x4e8fe1(0x15d)&&(_0x1deea8=_0x2652f9[_0x4e8fe1(0x645)]||'-',_0x2d0803='');}}}_0x1deea8&&(_0xdcabb0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x13c4c5+0x1)+_0x4e8fe1(0x306)+_0x2d0803+'\x20'+_0x1deea8+_0x4e8fe1(0x93b));const _0x3d84c2=_0x24b1c0[_0x4e8fe1(0x743)](_0x5c958a=>{const _0x2a7b18=_0x4e8fe1;let _0x52157a=![];if(_0x5c958a[_0x2a7b18(0x711)]&&_0x13c4c5!==-0x1){const _0x5cfac3=_0x5c958a[_0x2a7b18(0x711)][_0x2a7b18(0x270)](_0x330059=>_0x330059[_0x2a7b18(0x774)]===_0x13c4c5);_0x5cfac3&&_0x5cfac3[_0x2a7b18(0x3b7)]&&(_0x52157a=!![]);}const _0x4187eb=_0x52157a?_0x2a7b18(0x65a):_0x2a7b18(0x910);return _0x2a7b18(0x45f)+_0x4187eb+_0x2a7b18(0x50b)+_0x5c958a[_0x2a7b18(0x340)]+_0x2a7b18(0xa88)+_0x5c958a['score']+_0x2a7b18(0x5cb);})[_0x4e8fe1(0xaad)](''),_0x2fe284=_0x3fea52[_0x4e8fe1(0x743)]((_0x3a972b,_0x39bbd9)=>{const _0x227556=_0x4e8fe1,_0x50f16c=_0x307197[_0x227556(0x30b)](_0x3d5cf7=>_0x3d5cf7[_0x227556(0x711)]&&_0x3d5cf7[_0x227556(0x711)][_0x227556(0x270)](_0x27d43e=>_0x27d43e[_0x227556(0x774)]===_0x39bbd9&&_0x27d43e['isCorrect']))['length'],_0x235123=_0x39bbd9===_0x13c4c5,_0x4849f0=_0x235123?_0x227556(0x662):'p-2\x20bg-black/10\x20rounded-md';return _0x227556(0x682)+_0x4849f0+_0x227556(0x962)+(_0x39bbd9+0x1)+_0x227556(0x593)+_0x50f16c+_0x227556(0x1fd)+_0xfc5863+_0x227556(0x871);})[_0x4e8fe1(0xaad)]('');let _0x2e66f5='',_0x2ec4db='';if(_0x23eff7){const _0x257b17=_0x27fde4[_0x4e8fe1(0x787)]>=_0x3fea52[_0x4e8fe1(0x31f)]-0x1;_0x2e66f5=_0x4e8fe1(0x794)+(_0x257b17?_0x4e8fe1(0xa58):_0x4e8fe1(0x9e1))+_0x4e8fe1(0x5a3),_0x2ec4db='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x4939a4=_0x4e8fe1(0x82c)+_0x27fde4[_0x4e8fe1(0x91e)][_0x4e8fe1(0x994)]+_0x4e8fe1(0x5f6)+_0x2ec4db+_0x4e8fe1(0x4d9)+_0xdcabb0+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x3d84c2||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x4e8fe1(0x6f9)+_0x2fe284+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23eff7?_0x4e8fe1(0x407)+_0x2e66f5+_0x4e8fe1(0x601):'')+_0x4e8fe1(0x856);liveGameView['innerHTML']=_0x4939a4;if(window[_0x4e8fe1(0x13c)]){const _0x196107=document[_0x4e8fe1(0x274)](_0x4e8fe1(0x33a));_0x196107&&MathJax[_0x4e8fe1(0x4db)]([_0x196107]);}if(_0x23eff7){document[_0x4e8fe1(0x274)](_0x4e8fe1(0x2c9))['onclick']=async()=>{const _0x1fd783=_0x4e8fe1,_0x5a410b=doc(db,'artifacts/'+appId+_0x1fd783(0x40b),currentLiveGameId),_0x598deb=_0x27fde4['currentQuestionIndex']+0x1;if(_0x598deb<_0x3fea52[_0x1fd783(0x31f)]){const _0x1321bf={};Object[_0x1fd783(0xa21)](_0x27fde4[_0x1fd783(0x896)])[_0x1fd783(0x232)](_0xdd1dfd=>{const _0xc7d415=_0x1fd783;_0x1321bf['players.'+_0xdd1dfd+_0xc7d415(0x4c3)]=![],_0x1321bf[_0xc7d415(0x461)+_0xdd1dfd+'.lastAnswerIndex']=null;}),await updateDoc(_0x5a410b,{..._0x1321bf,'status':_0x1fd783(0x8e9),'currentQuestionIndex':_0x598deb,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5a410b,{'status':_0x1fd783(0x7b5)});};const _0x1f6f2a=document[_0x4e8fe1(0x274)](_0x4e8fe1(0x3ea));_0x1f6f2a&&(_0x1f6f2a[_0x4e8fe1(0x347)]=()=>{const _0x4f68be=_0x4e8fe1;showConfirmation(_0x4f68be(0x7ab),async()=>{const _0x37d3e9=_0x4f68be,_0x3ff2da=doc(db,_0x37d3e9(0x439)+appId+_0x37d3e9(0x40b),currentLiveGameId);await updateDoc(_0x3ff2da,{'status':_0x37d3e9(0x7b5)});});});}}async function handleGenerateParallelFromBank(_0x2bc95f){const _0x374b13=_0x3f08ea,_0x5d2b8c=document['getElementById'](_0x374b13(0x1af)),_0x164855=document[_0x374b13(0x274)](_0x374b13(0x190));_0x164855[_0x374b13(0x67e)]['add'](_0x374b13(0x66d));const _0x554642=_0x374b13(0x803)+_0x2bc95f[_0x374b13(0x994)]+_0x374b13(0x1c5);_0x5d2b8c[_0x374b13(0x6e1)](_0x374b13(0x1f7),_0x554642);const _0x109eb3=document['getElementById']('temp-loader-text-results');try{const _0x150399=_0x2bc95f['questions'][_0x374b13(0x743)]((_0x3b4518,_0x3035e8)=>{const _0x1ed9e8=_0x374b13;let _0x2f5cd5=_0x3035e8+0x1+'.\x20'+(_0x3b4518[_0x1ed9e8(0x81a)]||_0x3b4518[_0x1ed9e8(0x353)])+'\x0a';if(_0x3b4518[_0x1ed9e8(0xaee)])_0x2f5cd5+=_0x3b4518['options'][_0x1ed9e8(0x743)]((_0x74a664,_0x3a036a)=>_0x1ed9e8(0x17e)+(_0x3a036a===_0x3b4518[_0x1ed9e8(0x74e)]?_0x1ed9e8(0x2fd):'')+'\x20'+_0x74a664)[_0x1ed9e8(0xaad)]('\x0a');else _0x3b4518['idealAnswer']&&(_0x2f5cd5+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x3b4518['idealAnswer']);return _0x2f5cd5;})[_0x374b13(0xaad)]('\x0a\x0a');_0x109eb3[_0x374b13(0x7b7)]=_0x374b13(0x934);const _0x30a52b=_0x374b13(0xab5)+_0x2bc95f['topic']+_0x374b13(0x8b8)+_0x150399+_0x374b13(0x6bc)+simpleMathPrompt+_0x374b13(0x61d),_0x44e9a1={'type':_0x374b13(0x6a6),'properties':{'questionText':{'type':_0x374b13(0x2a3)},'questionType':{'type':_0x374b13(0x2a3),'enum':[_0x374b13(0x622),_0x374b13(0x15d),_0x374b13(0x8bf),_0x374b13(0x466)]},'options':{'type':_0x374b13(0x1cf),'items':{'type':_0x374b13(0x2a3)}},'correctAnswerIndex':{'type':_0x374b13(0x20d)},'idealAnswer':{'type':_0x374b13(0x2a3)},'correctAnswer':{'type':_0x374b13(0x2e9)},'stem':{'type':_0x374b13(0x2a3)},'correctResponse':{'type':_0x374b13(0x2a3)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x374b13(0x2a3)},'imageCode':{'type':_0x374b13(0x2a3)}},'required':[_0x374b13(0x4f4),'explanation']},_0xe872cd={'type':_0x374b13(0x6a6),'properties':{'topic':{'type':_0x374b13(0x2a3)},'questions':{'type':_0x374b13(0x1cf),'items':_0x44e9a1}},'required':[_0x374b13(0x994),_0x374b13(0x2bb)]},_0x1c8cf7=await callAnalysisApi(_0x30a52b,_0xe872cd),_0x4ce5b7=_0x1c8cf7[_0x374b13(0x2bb)][_0x374b13(0x743)]((_0x22c462,_0x507119)=>({..._0x22c462,'id':'q_'+Date[_0x374b13(0x3f3)]()+'_'+_0x507119})),_0x36154b=_0x374b13(0x793)+_0x2bc95f['topic'],_0x229b43={'topic':_0x36154b,'questions':_0x4ce5b7,'quizType':_0x2bc95f[_0x374b13(0x641)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x2bc95f[_0x374b13(0x921)],'quizMode':_0x374b13(0x5be),'pairedQuizId':null,'lessonPlan':null};let _0x5d85bc;while(!![]){_0x5d85bc=Math[_0x374b13(0x5fa)](0x3e8+Math['random']()*0x2328)['toString']();const _0x542586=await getDoc(doc(db,'artifacts/'+appId+_0x374b13(0x5e9),_0x5d85bc));if(!_0x542586[_0x374b13(0x905)]())break;}await setDoc(doc(db,_0x374b13(0x439)+appId+'/public/data/quizzes',_0x5d85bc),_0x229b43),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x233d37){console[_0x374b13(0x183)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x233d37),showMessage(_0x374b13(0x248)+_0x233d37[_0x374b13(0x75c)]);}finally{const _0x1e714a=document[_0x374b13(0x274)](_0x374b13(0x63d));_0x1e714a&&_0x1e714a[_0x374b13(0xaa2)](),_0x164855[_0x374b13(0x67e)][_0x374b13(0xaa2)](_0x374b13(0x66d));}}async function handleGenerateParallelPostTest(_0x28dc6d){const _0x137549=_0x3f08ea,_0x130174=document[_0x137549(0x274)](_0x137549(0x1af)),_0x44a16d=document[_0x137549(0x274)](_0x137549(0x190));_0x44a16d[_0x137549(0x67e)]['add']('hidden');const _0x57ec5d=_0x137549(0x457);_0x130174[_0x137549(0x6e1)](_0x137549(0x1f7),_0x57ec5d);try{const _0xa8ae3a=_0x28dc6d[_0x137549(0x2bb)][_0x137549(0x743)]((_0x50b9d1,_0x535799)=>{const _0x311840=_0x137549;let _0x23d9de=_0x535799+0x1+'.\x20'+(_0x50b9d1[_0x311840(0x81a)]||_0x50b9d1[_0x311840(0x353)]);if(_0x50b9d1[_0x311840(0xaee)])_0x23d9de+=_0x311840(0x1e2)+_0x50b9d1[_0x311840(0xaee)][_0x311840(0xaad)](',\x20');return _0x23d9de;})['join']('\x0a\x0a'),_0x1b561f=_0x137549(0xaa1)+_0x28dc6d['topic']+_0x137549(0x6de)+_0xa8ae3a+_0x137549(0xa0d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x14a6e1={'type':'OBJECT','properties':{'topic':{'type':_0x137549(0x2a3)},'questions':{'type':_0x137549(0x1cf),'items':{'type':_0x137549(0x6a6),'properties':{'questionText':{'type':_0x137549(0x2a3)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x137549(0x2a3)},'explanation':{'type':_0x137549(0x2a3)}},'required':['questionText',_0x137549(0x339)]}}},'required':[_0x137549(0x994),'questions']},_0x24e194=await callAnalysisApi(_0x1b561f,_0x14a6e1),_0x26927a=_0x28dc6d[_0x137549(0x994)][_0x137549(0x5ac)]('(ก่อนเรียน)','')[_0x137549(0x5d8)](),_0xb1e175='(หลังเรียน)\x20'+_0x26927a,_0x2df436={..._0x24e194,'topic':_0xb1e175,'quizType':_0x28dc6d[_0x137549(0x641)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x137549(0x481)](),'status':_0x137549(0x415),'settings':_0x28dc6d[_0x137549(0x921)],'quizMode':_0x137549(0x997),'pairedQuizId':_0x28dc6d['id']};let _0x538681;while(!![]){_0x538681=Math[_0x137549(0x5fa)](0x3e8+Math[_0x137549(0x643)]()*0x2328)[_0x137549(0x999)]();const _0x562eb=await getDoc(doc(db,_0x137549(0x439)+appId+_0x137549(0x5e9),_0x538681));if(!_0x562eb[_0x137549(0x905)]())break;}await setDoc(doc(db,_0x137549(0x439)+appId+_0x137549(0x5e9),_0x538681),_0x2df436);const _0x305b15=doc(db,_0x137549(0x439)+appId+_0x137549(0x5e9),_0x28dc6d['id']);await updateDoc(_0x305b15,{'pairedQuizId':_0x538681}),showMessage(_0x137549(0x137));}catch(_0x64cb9c){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x64cb9c),showMessage(_0x137549(0x248)+_0x64cb9c[_0x137549(0x75c)]);}finally{const _0x295143=document['getElementById']('temp-loader-results');if(_0x295143)_0x295143[_0x137549(0xaa2)]();_0x44a16d[_0x137549(0x67e)][_0x137549(0xaa2)](_0x137549(0x66d));}}async function handleGenerateParallelTest(){const _0xb979cf=_0x3f08ea,_0x3c9e78=document['getElementById'](_0xb979cf(0x3f7)),_0x3ef4fc=_0x3c9e78[_0xb979cf(0x29a)][0x0];if(!_0x3ef4fc){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x39204e=document[_0xb979cf(0x274)](_0xb979cf(0x7ad)),_0x3215c9=document[_0xb979cf(0x274)]('loader-text'),_0x12c2af=document[_0xb979cf(0x274)](_0xb979cf(0x14b)),_0x2844f3=document['getElementById']('generate-from-parallel-test-btn');_0x2844f3[_0xb979cf(0x5a2)]=!![],document['getElementById']('quiz-generation-area')[_0xb979cf(0x67e)]['remove'](_0xb979cf(0x66d)),_0x12c2af['innerHTML']='',_0x39204e[_0xb979cf(0x67e)][_0xb979cf(0xaa2)](_0xb979cf(0x66d)),_0x3215c9['textContent']=_0xb979cf(0x4ab);const _0x54d4ca=new FileReader();_0x54d4ca['readAsDataURL'](_0x3ef4fc),_0x54d4ca['onload']=async()=>{const _0x267cb6=_0xb979cf;try{const _0x3c5bf8=_0x54d4ca[_0x267cb6(0x87f)][_0x267cb6(0x72a)](',')[0x1],_0x1106b4=_0x3ef4fc[_0x267cb6(0x7ba)];_0x3215c9[_0x267cb6(0x7b7)]=_0x267cb6(0x283);const _0x50b9b5=document[_0x267cb6(0x274)](_0x267cb6(0x4b8))[_0x267cb6(0x835)],_0x4d5e73=_0x50b9b5?_0x267cb6(0x4fc):'',_0x5c8926='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d5e73+_0x267cb6(0xaf7)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x520cee={'type':_0x267cb6(0x6a6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x267cb6(0x2a3),'enum':[_0x267cb6(0x622),_0x267cb6(0x15d)]},'options':{'type':'ARRAY','items':{'type':_0x267cb6(0x2a3)}},'correctAnswerIndex':{'type':_0x267cb6(0x20d)},'idealAnswer':{'type':_0x267cb6(0x2a3)},'explanation':{'type':_0x267cb6(0x2a3)},'imageCode':{'type':'STRING'}},'required':[_0x267cb6(0x81a),'questionType',_0x267cb6(0x339)]},_0x1b1f69={'type':_0x267cb6(0x6a6),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x520cee}},'required':[_0x267cb6(0x994),'questions']},_0x2504e7=[{'text':_0x5c8926},{'inlineData':{'mimeType':_0x1106b4,'data':_0x3c5bf8}}];await handleApiCall(_0x2504e7,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x1b1f69);}catch(_0x1670bb){console[_0x267cb6(0x183)](_0x267cb6(0x875),_0x1670bb),showMessage(_0x267cb6(0x248)+_0x1670bb['message']),_0x12c2af[_0x267cb6(0x1bb)]=_0x267cb6(0x6f6);}finally{_0x39204e[_0x267cb6(0x67e)][_0x267cb6(0x677)](_0x267cb6(0x66d)),_0x2844f3['disabled']=![];}},_0x54d4ca['onerror']=_0x288e3c=>{const _0x601c9f=_0xb979cf;console[_0x601c9f(0x183)]('FileReader\x20error:',_0x288e3c),showMessage(_0x601c9f(0x1a4)),_0x39204e['classList']['add'](_0x601c9f(0x66d)),_0x2844f3[_0x601c9f(0x5a2)]=![];};}async function handleRegenerateQuestionInEditor(_0x14cf69){const _0x3385b7=_0x3f08ea;if(currentEditingQuizData===null)return;const _0x4857ed=document[_0x3385b7(0x497)](_0x3385b7(0x365)+_0x14cf69+'\x22]');_0x4857ed&&(_0x4857ed['innerHTML']=_0x3385b7(0x7c4));const _0x32fc16=currentEditingQuizData[_0x3385b7(0x2bb)][_0x14cf69],_0x32049c=currentEditingQuizData[_0x3385b7(0x994)],_0x5da9d6=_0x32fc16[_0x3385b7(0x4f4)],_0x1dcbd7={'type':_0x3385b7(0x6a6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3385b7(0x1cf),'items':{'type':_0x3385b7(0x2a3)}},'correctAnswerIndex':{'type':_0x3385b7(0x20d)},'explanation':{'type':'STRING'}},'required':[_0x3385b7(0x81a),_0x3385b7(0xaee),_0x3385b7(0x74e),_0x3385b7(0x339)]},_0x38c667={'type':'OBJECT','properties':{'questionText':{'type':_0x3385b7(0x2a3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3385b7(0x2a3)}},'required':[_0x3385b7(0x81a),_0x3385b7(0x645),'explanation']};let _0x11778f,_0x1c945c='';_0x5da9d6===_0x3385b7(0x622)?(_0x11778f=_0x1dcbd7,_0x1c945c=_0x3385b7(0x47c)):(_0x11778f=_0x38c667,_0x1c945c='แบบเติมคำตอบ');const _0x8ede00=_0x3385b7(0xa5f)+_0x32049c+_0x3385b7(0x8ab)+_0x1c945c+_0x3385b7(0x22a)+(_0x32fc16[_0x3385b7(0x81a)]||_0x32fc16[_0x3385b7(0x353)])+_0x3385b7(0x28d)+simpleMathPrompt;try{const _0x196352=await callAnalysisApi(_0x8ede00,_0x11778f);currentEditingQuizData[_0x3385b7(0x2bb)][_0x14cf69]={..._0x32fc16,..._0x196352},renderQuizEditor(currentEditingQuizData);}catch(_0x40c806){console[_0x3385b7(0x183)](_0x3385b7(0x883),_0x40c806),showMessage(_0x3385b7(0x291)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x26411c=_0x3f08ea,_0x2e4875=document[_0x26411c(0x274)](_0x26411c(0x3c3));currentMode===_0x26411c(0x351)?(adminPasswordModal[_0x26411c(0x67e)][_0x26411c(0xaa2)](_0x26411c(0x66d)),document[_0x26411c(0x274)](_0x26411c(0xa64))[_0x26411c(0x5c9)]()):(currentMode=_0x26411c(0x351),_0x2e4875[_0x26411c(0x1bb)]=_0x26411c(0x1b6),_0x2e4875[_0x26411c(0xae6)]='สลับไปโหมดผู้ควบคุม',showView(_0x26411c(0x351)));}function handleAdminLogin(){const _0x20f20e=_0x3f08ea,_0x387e91=document[_0x20f20e(0x274)](_0x20f20e(0xa64)),_0x4be28f=document[_0x20f20e(0x274)](_0x20f20e(0x507));if(_0x387e91[_0x20f20e(0x303)]===_0x20f20e(0xaba)){adminPasswordModal[_0x20f20e(0x67e)][_0x20f20e(0x677)](_0x20f20e(0x66d)),_0x387e91['value']='',_0x4be28f['classList'][_0x20f20e(0x677)](_0x20f20e(0x66d)),currentMode=_0x20f20e(0xa73);const _0x28002e=document['getElementById']('mode-switcher-btn');_0x28002e[_0x20f20e(0x1bb)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x28002e[_0x20f20e(0xae6)]=_0x20f20e(0x413),showView(_0x20f20e(0x19a));}else _0x4be28f[_0x20f20e(0x67e)][_0x20f20e(0xaa2)](_0x20f20e(0x66d)),_0x387e91[_0x20f20e(0x303)]='';}function switchProjectTab(_0x49fbc0){const _0x992e7c=_0x3f08ea;['manage',_0x992e7c(0x3ae),_0x992e7c(0xadb)][_0x992e7c(0x232)](_0x511503=>{const _0x50097e=_0x992e7c;document[_0x50097e(0x274)](_0x511503+_0x50097e(0x624))[_0x50097e(0x67e)]['remove'](_0x50097e(0x415)),document['getElementById'](_0x511503+_0x50097e(0x54b))[_0x50097e(0x67e)]['add'](_0x50097e(0x66d));}),document[_0x992e7c(0x274)](_0x49fbc0+_0x992e7c(0x624))['classList'][_0x992e7c(0x677)](_0x992e7c(0x415)),document[_0x992e7c(0x274)](_0x49fbc0+_0x992e7c(0x54b))[_0x992e7c(0x67e)][_0x992e7c(0xaa2)](_0x992e7c(0x66d));}function switchQuizDetailTab(_0x4607cd){const _0x34a989=_0x3f08ea,_0x29da47={'analytics':{'btn':_0x34a989(0x32a),'content':_0x34a989(0x9f3)},'scores':{'btn':_0x34a989(0x9ad),'content':_0x34a989(0x755)},'leaderboard-quiz':{'btn':_0x34a989(0x6b8),'content':_0x34a989(0x6d4)},'behavior-log':{'btn':_0x34a989(0x7c1),'content':'behavior-log-tab-content'}};for(const _0x21bef4 in _0x29da47){document[_0x34a989(0x274)](_0x29da47[_0x21bef4][_0x34a989(0x9bf)])[_0x34a989(0x67e)][_0x34a989(0xaa2)]('active'),document[_0x34a989(0x274)](_0x29da47[_0x21bef4][_0x34a989(0x791)])['classList'][_0x34a989(0x677)](_0x34a989(0x66d));}document[_0x34a989(0x274)](_0x29da47[_0x4607cd][_0x34a989(0x9bf)])[_0x34a989(0x67e)][_0x34a989(0x677)]('active'),document['getElementById'](_0x29da47[_0x4607cd][_0x34a989(0x791)])[_0x34a989(0x67e)][_0x34a989(0xaa2)](_0x34a989(0x66d));}function showMessage(_0x1c3fd1,_0x15a6f4=null){const _0x379984=_0x3f08ea;modalMessage[_0x379984(0x7b7)]=_0x1c3fd1,modalConfirmAction=_0x15a6f4,messageModal[_0x379984(0x67e)][_0x379984(0xaa2)](_0x379984(0x66d));}function showConfirmation(_0x15d122,_0x5e815f){const _0x4ec531=_0x3f08ea;document[_0x4ec531(0x274)](_0x4ec531(0x609))[_0x4ec531(0x7b7)]=_0x15d122,document['getElementById'](_0x4ec531(0x603))[_0x4ec531(0x497)]('h3')[_0x4ec531(0x7b7)]='ยืนยันการกระทำ',confirmAction=_0x5e815f,confirmationModal[_0x4ec531(0x67e)][_0x4ec531(0xaa2)](_0x4ec531(0x66d));}function listenForProjects(){const _0x229ee1=_0x3f08ea,_0x72f305=doc(db,_0x229ee1(0x917),'dashboardConfig');onSnapshot(_0x72f305,_0x4393c6=>{const _0x39ef7c=_0x229ee1;if(_0x4393c6[_0x39ef7c(0x905)]()){const _0x522808=_0x4393c6['data']();globalDashboardSettings['projectSort']=_0x522808[_0x39ef7c(0x346)]||_0x39ef7c(0x32f),globalDashboardSettings[_0x39ef7c(0x831)]=_0x522808['pinnedProjects']||[],globalDashboardSettings[_0x39ef7c(0x55c)]=_0x522808[_0x39ef7c(0x55c)]||[];}allProjects[_0x39ef7c(0x31f)]>0x0&&renderProjects();});const _0xea51f5=collection(db,_0x229ee1(0x439)+appId+_0x229ee1(0x6ad));unsubscribeProjectsListener=onSnapshot(_0xea51f5,_0x4cc9ea=>{const _0x5723a4=_0x229ee1;allProjects=_0x4cc9ea['docs'][_0x5723a4(0x743)](_0x4f83a1=>({'id':_0x4f83a1['id'],..._0x4f83a1[_0x5723a4(0x612)]()})),renderProjects();},_0x556a57=>{const _0x284a52=_0x229ee1;console[_0x284a52(0x183)]('Error\x20listening\x20for\x20projects:',_0x556a57),showMessage(_0x284a52(0x6ff));});}function showColorPalette(_0x566a25,_0x4e89ae){const _0x2ab4ef=_0x3f08ea;document[_0x2ab4ef(0x591)]('.color-palette-popup')[_0x2ab4ef(0x232)](_0x2ceb8c=>_0x2ceb8c[_0x2ab4ef(0xaa2)]());const _0x3da1d9=[_0x2ab4ef(0x90c),'#FEE2E2',_0x2ab4ef(0x942),_0x2ab4ef(0x19f),_0x2ab4ef(0x320),_0x2ab4ef(0x458),_0x2ab4ef(0x46f),_0x2ab4ef(0x70f),'#E5E7EB'],_0x2ee3b0=document[_0x2ab4ef(0x758)](_0x2ab4ef(0x27c));_0x2ee3b0[_0x2ab4ef(0x61c)]=_0x2ab4ef(0x966),_0x3da1d9['forEach'](_0x3ca511=>{const _0x29a3d3=_0x2ab4ef,_0x20a583=document['createElement']('div');_0x20a583[_0x29a3d3(0x61c)]=_0x29a3d3(0x7e0),_0x20a583['style']['backgroundColor']=_0x3ca511,_0x20a583[_0x29a3d3(0x908)]('click',()=>{const _0x20f7ec=_0x29a3d3;handleProjectColorChange(_0x4e89ae,_0x3ca511),_0x2ee3b0[_0x20f7ec(0xaa2)]();}),_0x2ee3b0['appendChild'](_0x20a583);}),document['body']['appendChild'](_0x2ee3b0);const _0x5b184a=_0x566a25['getBoundingClientRect']();_0x2ee3b0['style'][_0x2ab4ef(0x1f1)]=_0x5b184a[_0x2ab4ef(0x81c)]+window[_0x2ab4ef(0x5cf)]+'px',_0x2ee3b0[_0x2ab4ef(0x55d)][_0x2ab4ef(0x411)]=_0x5b184a[_0x2ab4ef(0x411)]+window[_0x2ab4ef(0xa4d)]-_0x2ee3b0[_0x2ab4ef(0x9e6)]/0x2+'px';}async function handleProjectColorChange(_0x2d4725,_0x1f0833){const _0x5637a0=_0x3f08ea,_0x368415=doc(db,'artifacts/'+appId+_0x5637a0(0x6ad),_0x2d4725);try{await updateDoc(_0x368415,{'color':_0x1f0833});}catch(_0x47d37c){console[_0x5637a0(0x183)](_0x5637a0(0x421),_0x47d37c),showMessage(_0x5637a0(0x594));}}async function renderProjects(){const _0x1f5c54=_0x3f08ea,_0x49c563=globalDashboardSettings[_0x1f5c54(0x346)]||_0x1f5c54(0x32f),_0x3ce91d=new Set(globalDashboardSettings[_0x1f5c54(0x831)]||[]),_0x1eea0d=globalDashboardSettings[_0x1f5c54(0x680)]||_0x1f5c54(0x241),_0x3cd66b=document[_0x1f5c54(0x274)](_0x1f5c54(0x8e4)),_0x2bee41=document['getElementById'](_0x1f5c54(0x844));_0x3cd66b[_0x1f5c54(0x67e)]['toggle'](_0x1f5c54(0x415),_0x1eea0d===_0x1f5c54(0x241)),_0x2bee41[_0x1f5c54(0x67e)][_0x1f5c54(0x13f)](_0x1f5c54(0x415),_0x1eea0d===_0x1f5c54(0x7dd)),document[_0x1f5c54(0x274)](_0x1f5c54(0x233))[_0x1f5c54(0x303)]=_0x49c563;const _0x5e72a1=document[_0x1f5c54(0x274)](_0x1f5c54(0x717))[_0x1f5c54(0x303)][_0x1f5c54(0x313)]();let _0xf938d0=allProjects[_0x1f5c54(0x30b)](_0x3063a5=>_0x3063a5[_0x1f5c54(0x3ad)]['toLowerCase']()[_0x1f5c54(0x634)](_0x5e72a1));const _0x43c999=_0xf938d0[_0x1f5c54(0x30b)](_0x5b00d3=>_0x3ce91d[_0x1f5c54(0x3ca)](_0x5b00d3['id'])),_0x4a9e77=_0xf938d0[_0x1f5c54(0x30b)](_0x1e80fa=>!_0x3ce91d[_0x1f5c54(0x3ca)](_0x1e80fa['id'])),_0x1f5de3=(_0x5bd8b9,_0x2af42f)=>{const _0x55fd54=_0x1f5c54;switch(_0x49c563){case'name_asc':return _0x5bd8b9['projectName'][_0x55fd54(0x392)](_0x2af42f[_0x55fd54(0x3ad)],'th');case _0x55fd54(0x671):return _0x2af42f['projectName']['localeCompare'](_0x5bd8b9[_0x55fd54(0x3ad)],'th');case _0x55fd54(0xac6):return new Date(_0x5bd8b9[_0x55fd54(0x9b2)])-new Date(_0x2af42f['createdAt']);default:return new Date(_0x2af42f[_0x55fd54(0x9b2)])-new Date(_0x5bd8b9['createdAt']);}};_0x43c999['sort'](_0x1f5de3),_0x4a9e77[_0x1f5c54(0x34f)](_0x1f5de3);const _0x1d29f6=[..._0x43c999,..._0x4a9e77],_0x4db235=globalDashboardSettings[_0x1f5c54(0x55c)]||[];_0x4db235['length']>0x0&&_0x1eea0d===_0x1f5c54(0x241)&&_0x1d29f6[_0x1f5c54(0x34f)]((_0x28286e,_0x3b5954)=>{const _0x66404f=_0x1f5c54,_0x9229e=_0x4db235[_0x66404f(0x6bf)](_0x28286e['id']),_0x21b019=_0x4db235[_0x66404f(0x6bf)](_0x3b5954['id']);if(_0x9229e===-0x1)return 0x1;if(_0x21b019===-0x1)return-0x1;return _0x9229e-_0x21b019;});const _0x196e8a={};await Promise[_0x1f5c54(0xa59)](_0x1d29f6[_0x1f5c54(0x743)](async _0x4e5a5a=>{const _0x2cc4d0=_0x1f5c54,_0x547a82=query(collection(db,_0x2cc4d0(0x439)+appId+_0x2cc4d0(0x5e9)),where('projectId','==',_0x4e5a5a['id'])),_0x2961b9=await getDocs(_0x547a82);_0x196e8a[_0x4e5a5a['id']]=_0x2961b9['size'];}));const _0x488fb5=document[_0x1f5c54(0x274)](_0x1f5c54(0x1e4));let _0x2df13f='';if(_0x1eea0d===_0x1f5c54(0x241)){_0x488fb5[_0x1f5c54(0x61c)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x1f5c54(0x31f)]>0x0&&_0x5e72a1===''){const _0x2f8725=starredQuizzes[_0x1f5c54(0x743)](_0x58bf87=>{const _0x4e0523=_0x1f5c54,_0x2de782=allProjects[_0x4e0523(0x270)](_0x5dfe92=>_0x5dfe92['id']===_0x58bf87['projectId']);return{..._0x58bf87,'projectName':_0x2de782?_0x2de782[_0x4e0523(0x3ad)]:_0x4e0523(0x78a)};});_0x2df13f+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f8725[_0x1f5c54(0x743)](_0x271a19=>_0x1f5c54(0x2e3)+_0x271a19[_0x1f5c54(0x994)]+'\x22>'+_0x271a19[_0x1f5c54(0x994)]+_0x1f5c54(0x312)+_0x271a19[_0x1f5c54(0x3ad)]+_0x1f5c54(0x1d8)+_0x271a19[_0x1f5c54(0x3ad)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1f5c54(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x1f5c54(0x31f)]+_0x1f5c54(0x71e);}_0x1d29f6[_0x1f5c54(0x232)](_0x29222d=>{const _0x43b052=_0x1f5c54,_0x1d15e1=_0x196e8a[_0x29222d['id']]??0x0,_0xc9a27d=_0x3ce91d['has'](_0x29222d['id']),_0x5a7c9b=_0x29222d[_0x43b052(0x993)]||_0x43b052(0x90c),_0x4e030a=parseInt(_0x5a7c9b['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x5a7c9b['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x5a7c9b[_0x43b052(0xa6c)](0x5,0x7),0x10)*0.114<0xba,_0x1a0778=_0x4e030a?'text-white':_0x43b052(0x334),_0x59d4c3=_0x4e030a?_0x43b052(0x26e):_0x43b052(0x383);_0x2df13f+=_0x43b052(0x22c)+(_0xc9a27d?_0x43b052(0x2dd):_0x43b052(0x3c1))+_0x43b052(0xa72)+_0x5a7c9b+_0x43b052(0x323)+_0x29222d['id']+_0x43b052(0x2ed)+_0x29222d['id']+_0x43b052(0xa84)+(_0x4e030a?_0x43b052(0x648):_0x43b052(0x19b))+_0x43b052(0x21d)+_0x29222d['id']+_0x43b052(0x288)+(_0x4e030a?_0x43b052(0x648):_0x43b052(0x19b))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0xc9a27d?_0x4e030a?_0x43b052(0x1a1):_0x43b052(0x7fd):'')+_0x43b052(0x85f)+_0x29222d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1a0778+_0x43b052(0x60a)+_0x29222d[_0x43b052(0x3ad)]+_0x43b052(0xa18)+_0x59d4c3+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x29222d[_0x43b052(0x9b2)])[_0x43b052(0x8d3)](_0x43b052(0x6d8))+_0x43b052(0x467)+(_0x4e030a?_0x43b052(0x8f1):'text-gray-700')+_0x43b052(0xa7e)+_0x1d15e1+_0x43b052(0x655)+_0x29222d['id']+'\x22\x20data-name=\x22'+_0x29222d[_0x43b052(0x3ad)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x4e030a?_0x43b052(0x25a):_0x43b052(0x45e))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x488fb5[_0x1f5c54(0x61c)]=_0x1f5c54(0x3b2),starredQuizzes[_0x1f5c54(0x31f)]>0x0&&_0x5e72a1===''&&(_0x2df13f+=_0x1f5c54(0x98b)+starredQuizzes[_0x1f5c54(0x31f)]+_0x1f5c54(0x725)),_0x2df13f+=_0x1f5c54(0x780),_0x1d29f6[_0x1f5c54(0x232)](_0x11a744=>{const _0xdcd88=_0x1f5c54,_0x169f08=_0x196e8a[_0x11a744['id']]??0x0,_0x1fb9d0=_0x3ce91d[_0xdcd88(0x3ca)](_0x11a744['id']);_0x2df13f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x11a744['color']||'#E5E7EB')+_0xdcd88(0x63e)+_0x11a744['id']+_0xdcd88(0x78e)+_0x11a744[_0xdcd88(0x3ad)]+_0xdcd88(0x770)+_0x169f08+_0xdcd88(0x66f)+new Date(_0x11a744[_0xdcd88(0x9b2)])[_0xdcd88(0x952)]('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11a744['id']+_0xdcd88(0x928)+(_0x1fb9d0?'text-indigo-600':'')+_0xdcd88(0x7d3)+_0x11a744['id']+'\x22\x20data-name=\x22'+_0x11a744['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x1f5c54(0x1bb)]=_0x2df13f,noProjectsMsg[_0x1f5c54(0x67e)]['toggle'](_0x1f5c54(0x66d),_0x2df13f[_0x1f5c54(0x31f)]>0x0);}document[_0x3f08ea(0x274)](_0x3f08ea(0x22b))[_0x3f08ea(0x908)]('click',async()=>{const _0x2ee26a=_0x3f08ea,_0x1eaaef=document[_0x2ee26a(0x274)](_0x2ee26a(0x161)),_0x5519ba=_0x1eaaef['value'][_0x2ee26a(0x5d8)]();if(!_0x5519ba){showMessage(_0x2ee26a(0x462));return;}try{const _0x16320a=doc(collection(db,_0x2ee26a(0x439)+appId+_0x2ee26a(0x6ad)));await setDoc(_0x16320a,{'projectName':_0x5519ba,'students':[],'settings':{'resultsDisplay':_0x2ee26a(0x25d),'shuffleSetting':_0x2ee26a(0x7b2),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x2ee26a(0x481)]()}),_0x1eaaef['value']='',createProjectModal['classList'][_0x2ee26a(0x677)](_0x2ee26a(0x66d)),showMessage(_0x2ee26a(0xa0b));}catch(_0x502cbe){console[_0x2ee26a(0x183)](_0x2ee26a(0xab1),_0x502cbe),showMessage(_0x2ee26a(0x75d));}}),projectList[_0x3f08ea(0x908)](_0x3f08ea(0x405),async _0x72ed7f=>{const _0x2e8236=_0x3f08ea,_0xc9188c=_0x72ed7f['target'][_0x2e8236(0x7b9)](_0x2e8236(0x92b)),_0x5240e4=_0x72ed7f[_0x2e8236(0x1e0)][_0x2e8236(0x7b9)](_0x2e8236(0x570)),_0xfbd291=_0x72ed7f[_0x2e8236(0x1e0)][_0x2e8236(0x7b9)]('.pin-project-btn'),_0x302291=_0x72ed7f[_0x2e8236(0x1e0)][_0x2e8236(0x7b9)](_0x2e8236(0x7d4));if(_0xfbd291){const _0x1b3feb=_0xfbd291[_0x2e8236(0x145)]['id'],_0x3ad31d=doc(db,_0x2e8236(0x917),'dashboardConfig'),_0xdb646f=globalDashboardSettings[_0x2e8236(0x831)];let _0x7cdece;_0xdb646f['includes'](_0x1b3feb)?_0x7cdece=_0xdb646f['filter'](_0x52aaed=>_0x52aaed!==_0x1b3feb):_0x7cdece=[..._0xdb646f,_0x1b3feb];try{await setDoc(_0x3ad31d,{'pinnedProjects':_0x7cdece},{'merge':!![]});}catch(_0x9ee89e){console[_0x2e8236(0x183)](_0x2e8236(0x50a),_0x9ee89e),showMessage(_0x2e8236(0x483));}}else{if(_0x302291){const _0x607dcc=_0x302291[_0x2e8236(0x145)]['id'];showColorPalette(_0x302291,_0x607dcc);}else{if(_0xc9188c){const _0x17daf1=_0xc9188c['dataset']['id'];_0x17daf1===_0x2e8236(0x2bc)?showStarredProjectView():(currentProjectId=_0x17daf1,await loadProjectDetails(currentProjectId),showView(_0x2e8236(0x484)));}else{if(_0x5240e4){const _0x2061fb=_0x5240e4[_0x2e8236(0x145)]['id'],_0x4f08aa=_0x5240e4[_0x2e8236(0x145)][_0x2e8236(0x340)];showConfirmation(_0x2e8236(0x6dd)+_0x4f08aa+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x2061fb));}}}}}),projectList[_0x3f08ea(0x908)]('dragstart',_0x4000ba=>{const _0x41014d=_0x3f08ea,_0x19cd64=_0x4000ba[_0x41014d(0x1e0)]['closest'](_0x41014d(0x885));_0x19cd64&&_0x19cd64[_0x41014d(0x67e)][_0x41014d(0x677)](_0x41014d(0x892));}),projectList[_0x3f08ea(0x908)](_0x3f08ea(0x9d6),_0x34de68=>{const _0x115a35=_0x3f08ea,_0x7aa6be=_0x34de68[_0x115a35(0x1e0)][_0x115a35(0x7b9)](_0x115a35(0x885));_0x7aa6be&&_0x7aa6be[_0x115a35(0x67e)]['remove']('opacity-50');}),projectList[_0x3f08ea(0x908)]('dragover',_0x58e0df=>{const _0x2eea0e=_0x3f08ea;_0x58e0df['preventDefault']();const _0x55fd49=document['querySelector']('.project-card-container.opacity-50');if(!_0x55fd49)return;const _0x5b9021=getDragAfterElement(projectList,_0x58e0df[_0x2eea0e(0xab0)]);_0x5b9021==null?projectList[_0x2eea0e(0x761)](_0x55fd49):projectList[_0x2eea0e(0x3b9)](_0x55fd49,_0x5b9021);}),projectList[_0x3f08ea(0x908)](_0x3f08ea(0x215),_0x420adc=>{const _0x2d8adc=_0x3f08ea;_0x420adc[_0x2d8adc(0x18f)]();const _0x3eb2bb=[...projectList['querySelectorAll'](_0x2d8adc(0xa45))][_0x2d8adc(0x743)](_0x183c83=>_0x183c83['dataset']['id']);saveProjectOrder(_0x3eb2bb);});function renderBehaviorLog(_0xc581fd){const _0x1ba61a=_0x3f08ea,_0x382aae=document[_0x1ba61a(0x274)]('behavior-log-container');if(!_0x382aae)return;const _0x3f96e3=_0xc581fd[_0x1ba61a(0x30b)](_0x4edfa9=>_0x4edfa9['behaviorLog']&&_0x4edfa9[_0x1ba61a(0x4af)][_0x1ba61a(0x31f)]>0x0);if(_0x3f96e3[_0x1ba61a(0x31f)]===0x0){_0x382aae[_0x1ba61a(0x1bb)]=_0x1ba61a(0x148);return;}let _0xbd7fa='';_0x3f96e3[_0x1ba61a(0x232)](_0x189d0f=>{const _0x266fbe=_0x1ba61a;_0xbd7fa+=_0x266fbe(0x53f)+_0x189d0f[_0x266fbe(0xa53)]+_0x266fbe(0x728),_0x189d0f[_0x266fbe(0x4af)][_0x266fbe(0x34f)]((_0x3331ae,_0x1818e1)=>new Date(_0x1818e1['timestamp'])-new Date(_0x3331ae[_0x266fbe(0xa01)]))[_0x266fbe(0x232)](_0xa64189=>{const _0x523203=_0x266fbe,_0x532e5f=new Date(_0xa64189[_0x523203(0xa01)])[_0x523203(0x952)](_0x523203(0x6d8),{'dateStyle':_0x523203(0x741),'timeStyle':_0x523203(0x3c5)});_0xbd7fa+=_0x523203(0x6c2)+_0xa64189[_0x523203(0x94e)]+_0x523203(0x349)+_0x532e5f+_0x523203(0x6cf);}),_0xbd7fa+=_0x266fbe(0x1b9);}),_0x382aae['innerHTML']=_0xbd7fa;}function getDragAfterElement(_0x9bc9b4,_0x1b474f){const _0x18370a=_0x3f08ea,_0x58d07d=[..._0x9bc9b4[_0x18370a(0x591)](_0x18370a(0x4ef))];return _0x58d07d[_0x18370a(0x329)]((_0x59a967,_0x4c3b39)=>{const _0x3aa081=_0x18370a,_0x45e7a5=_0x4c3b39[_0x3aa081(0x636)](),_0x932f85=_0x1b474f-_0x45e7a5[_0x3aa081(0x1f1)]-_0x45e7a5['height']/0x2;return _0x932f85<0x0&&_0x932f85>_0x59a967['offset']?{'offset':_0x932f85,'element':_0x4c3b39}:_0x59a967;},{'offset':Number[_0x18370a(0x823)]})[_0x18370a(0x5e4)];}async function saveProjectOrder(_0x581cdf){const _0x483660=_0x3f08ea,_0x29801b=doc(db,_0x483660(0x917),_0x483660(0x23e));try{await setDoc(_0x29801b,{'projectOrder':_0x581cdf},{'merge':!![]});}catch(_0x27f04c){console['error'](_0x483660(0x1b3),_0x27f04c),showMessage(_0x483660(0x588));}}async function logBehaviorEvent(_0x9dfc6b,_0x2e1033={}){const _0x3f0c02=_0x3f08ea;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3f0c02(0x2e0)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x16ceed=doc(db,'artifacts/'+appId+_0x3f0c02(0x584)+currentQuizData['id']+_0x3f0c02(0x9dd),currentStudentName),_0xcde84c={'event':_0x9dfc6b,'timestamp':new Date()[_0x3f0c02(0x481)](),..._0x2e1033};try{await updateDoc(_0x16ceed,{'behaviorLog':arrayUnion(_0xcde84c)}),console[_0x3f0c02(0xa09)](_0x3f0c02(0x3e2)+currentStudentName+_0x3f0c02(0xa48));}catch(_0x2d3e75){_0x2d3e75[_0x3f0c02(0x776)]==='not-found'?console[_0x3f0c02(0x2e0)](_0x3f0c02(0x530)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x3f0c02(0x183)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x2d3e75);}}function calculateMeanAndStdDev(_0x5ecebd){const _0x1ff5f4=_0x3f08ea;if(_0x5ecebd[_0x1ff5f4(0x31f)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x22d5de=_0x5ecebd[_0x1ff5f4(0x329)]((_0x5e4a27,_0x4ea5e7)=>_0x5e4a27+_0x4ea5e7,0x0)/_0x5ecebd[_0x1ff5f4(0x31f)];if(_0x5ecebd[_0x1ff5f4(0x31f)]===0x1)return{'mean':_0x22d5de,'stdDev':0x0};const _0x2d0154=Math[_0x1ff5f4(0xad6)](_0x5ecebd[_0x1ff5f4(0x743)](_0x46f2cd=>Math[_0x1ff5f4(0x5ed)](_0x46f2cd-_0x22d5de,0x2))[_0x1ff5f4(0x329)]((_0x5e51d3,_0xc1ba3b)=>_0x5e51d3+_0xc1ba3b,0x0)/(_0x5ecebd[_0x1ff5f4(0x31f)]-0x1));return{'mean':_0x22d5de,'stdDev':_0x2d0154};}function calculateZScore(_0x49e497,_0x439081,_0x194e09){if(_0x194e09===0x0)return 0x0;return(_0x49e497-_0x439081)/_0x194e09;}function calculateTScore(_0x534877){return 0xa*_0x534877+0x32;}function showStarredProjectView(){const _0x3430b2=_0x3f08ea;currentProjectId=_0x3430b2(0x5af),currentProjectData=null,projectTitle[_0x3430b2(0x7b7)]=_0x3430b2(0xa07),projectIdDisplay[_0x3430b2(0x7b7)]=_0x3430b2(0x2a7),showView(_0x3430b2(0x484)),manageTab[_0x3430b2(0x67e)]['add'](_0x3430b2(0x66d)),leaderboardTab[_0x3430b2(0x67e)][_0x3430b2(0x677)](_0x3430b2(0x66d)),switchProjectTab(_0x3430b2(0x3ae)),renderQuizzes();}async function loadProjectDetails(_0x561e7e){const _0xb1cdcb=_0x3f08ea,_0x415e68=doc(db,_0xb1cdcb(0x439)+appId+_0xb1cdcb(0x6ad),_0x561e7e),_0x42d9eb=await getDoc(_0x415e68);if(_0x42d9eb[_0xb1cdcb(0x905)]()){manageTab[_0xb1cdcb(0x67e)][_0xb1cdcb(0xaa2)](_0xb1cdcb(0x66d)),leaderboardTab[_0xb1cdcb(0x67e)]['remove'](_0xb1cdcb(0x66d)),currentProjectData=_0x42d9eb['data'](),projectTitle[_0xb1cdcb(0x7b7)]=currentProjectData[_0xb1cdcb(0x3ad)],projectIdDisplay['textContent']=_0x561e7e;const _0x5cff7c=currentProjectData['settings']||{};document[_0xb1cdcb(0x274)](_0xb1cdcb(0x6a9))[_0xb1cdcb(0x303)]=_0x5cff7c['shuffleSetting']||_0xb1cdcb(0x7b2);const _0x4b225d=document['getElementById'](_0xb1cdcb(0x667));_0x4b225d[_0xb1cdcb(0x835)]=_0x5cff7c[_0xb1cdcb(0x6e4)]!==![];const _0x4105d1=document['getElementById']('enable-passcode-checkbox'),_0x2acdb7=document[_0xb1cdcb(0x274)](_0xb1cdcb(0x9b4)),_0xf7c95d=document[_0xb1cdcb(0x274)](_0xb1cdcb(0x837)),_0x42e3ac=_0x5cff7c['isPasscodeEnabled']||![];_0x4105d1[_0xb1cdcb(0x835)]=_0x42e3ac,_0xf7c95d[_0xb1cdcb(0x303)]=_0x5cff7c[_0xb1cdcb(0x20a)]||'',_0x2acdb7['classList']['toggle']('hidden',!_0x42e3ac),_0x4105d1['onchange']=()=>{const _0x49299f=_0xb1cdcb;_0x2acdb7[_0x49299f(0x67e)][_0x49299f(0x13f)](_0x49299f(0x66d),!_0x4105d1[_0x49299f(0x835)]);},document[_0xb1cdcb(0x274)]('confidence-scoring-checkbox')['checked']=_0x5cff7c[_0xb1cdcb(0x2ae)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x561e7e),listenForProjectQuizzes(_0x561e7e),listenForStudentProfiles(_0x561e7e);}else showMessage('ไม่พบโปรเจค'),showView(_0xb1cdcb(0x19a));}async function handleResetProjectOrder(){const _0x599d81=_0x3f08ea,_0x45c20a=doc(db,_0x599d81(0x917),_0x599d81(0x23e));try{await setDoc(_0x45c20a,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x599d81(0x8e0));}catch(_0x107dc3){console[_0x599d81(0x183)](_0x599d81(0x7f3),_0x107dc3),showMessage(_0x599d81(0xa11));}}async function handleTogglePinProject(_0x2e9b91){const _0x5f55f4=_0x3f08ea;if(!_0x2e9b91)return;const _0x110ada=doc(db,_0x5f55f4(0x439)+appId+_0x5f55f4(0x6ad),_0x2e9b91);try{const _0x3d50b5=await getDoc(_0x110ada);if(_0x3d50b5['exists']()){const _0x1bc907=_0x3d50b5[_0x5f55f4(0x612)]()[_0x5f55f4(0x613)]||![];await updateDoc(_0x110ada,{'isPinned':!_0x1bc907});}}catch(_0x173ed6){console[_0x5f55f4(0x183)](_0x5f55f4(0x57c),_0x173ed6),showMessage(_0x5f55f4(0x483));}}async function handleDeleteProject(_0x632bf6){const _0x52de46=_0x3f08ea;try{const _0x56b45e=writeBatch(db),_0x397801=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1c125d=query(_0x397801,where(_0x52de46(0x6ec),'==',_0x632bf6)),_0x1b009c=await getDocs(_0x1c125d);for(const _0x1d585a of _0x1b009c['docs']){const _0x3bf5ba=collection(db,'artifacts/'+appId+_0x52de46(0x584)+_0x1d585a['id']+_0x52de46(0x9dd)),_0x428747=await getDocs(_0x3bf5ba);_0x428747[_0x52de46(0x232)](_0x7c7836=>{const _0x5910e4=_0x52de46;_0x56b45e[_0x5910e4(0x163)](_0x7c7836[_0x5910e4(0x26c)]);}),_0x56b45e[_0x52de46(0x163)](_0x1d585a[_0x52de46(0x26c)]);}const _0x3f3da3=collection(db,'artifacts/'+appId+_0x52de46(0x476)+_0x632bf6+_0x52de46(0x2a4)),_0x98df3c=await getDocs(_0x3f3da3);_0x98df3c[_0x52de46(0x232)](_0x483b85=>{_0x56b45e['delete'](_0x483b85['ref']);});const _0x6b01f7=doc(db,_0x52de46(0x439)+appId+_0x52de46(0x6ad),_0x632bf6);_0x56b45e['delete'](_0x6b01f7),await _0x56b45e['commit'](),showMessage(_0x52de46(0x752)),showView('admin-dashboard');}catch(_0x590cb0){console[_0x52de46(0x183)](_0x52de46(0x224),_0x590cb0),showMessage(_0x52de46(0x1b4));}}document[_0x3f08ea(0x274)](_0x3f08ea(0x77c))['addEventListener'](_0x3f08ea(0x405),async()=>{const _0x1fb97d=_0x3f08ea;if(!currentProjectId)return;const _0x5eaaeb={'defaultNumQuestions':parseInt(document[_0x1fb97d(0x274)]('num-questions')[_0x1fb97d(0x303)]),'defaultNumChoices':parseInt(document[_0x1fb97d(0x274)]('num-choices')['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x1fb97d(0xa1c))[_0x1fb97d(0x303)]),'resultsDisplay':document[_0x1fb97d(0x274)](_0x1fb97d(0x2b6))['value'],'shuffleSetting':document[_0x1fb97d(0x274)](_0x1fb97d(0x6a9))[_0x1fb97d(0x303)],'timerMode':document[_0x1fb97d(0x274)](_0x1fb97d(0x8ae))[_0x1fb97d(0x303)],'timerDuration':parseInt(document[_0x1fb97d(0x274)](_0x1fb97d(0x42a))['value']),'isConfidenceScoringEnabled':document[_0x1fb97d(0x274)](_0x1fb97d(0x693))[_0x1fb97d(0x835)],'confidenceMode':document[_0x1fb97d(0x274)]('confidence-mode-select')[_0x1fb97d(0x303)]};try{const _0x2a3480=doc(db,_0x1fb97d(0x439)+appId+_0x1fb97d(0x6ad),currentProjectId);await updateDoc(_0x2a3480,{'settings':_0x5eaaeb}),showMessage(_0x1fb97d(0x258));}catch(_0x402d4a){console['error'](_0x1fb97d(0x1d1),_0x402d4a),showMessage(_0x1fb97d(0x9e5));}});function listenForStudents(_0x1d0d2a){const _0x51e552=_0x3f08ea,_0x5911b5=doc(db,_0x51e552(0x439)+appId+_0x51e552(0x6ad),_0x1d0d2a);unsubscribeStudentsListener=onSnapshot(_0x5911b5,_0x48d9a2=>{const _0x223efa=_0x51e552;if(_0x48d9a2[_0x223efa(0x905)]()){const _0x75e43c=_0x48d9a2[_0x223efa(0x612)]();currentProjectData=_0x75e43c,renderStudentList(_0x75e43c[_0x223efa(0x88f)]||[]);}});}function renderStudentList(_0x88f18f){const _0x16c92f=_0x3f08ea,_0x177026=document[_0x16c92f(0x274)](_0x16c92f(0x5d9));_0x88f18f['length']===0x0?(studentList[_0x16c92f(0x1bb)]=_0x16c92f(0x403),_0x177026['classList'][_0x16c92f(0x677)](_0x16c92f(0x66d))):(studentList[_0x16c92f(0x1bb)]=_0x88f18f['map'](_0xced8cb=>_0x16c92f(0x6cb)+_0xced8cb+_0x16c92f(0xa06)+_0xced8cb+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x16c92f(0xaad)](''),_0x177026[_0x16c92f(0x67e)][_0x16c92f(0xaa2)](_0x16c92f(0x66d)));}document[_0x3f08ea(0x274)]('add-student-btn')['addEventListener']('click',async()=>{const _0x144326=_0x3f08ea;if(!currentProjectId)return;const _0x641c60=document[_0x144326(0x274)](_0x144326(0x85e)),_0xe3455f=_0x641c60[_0x144326(0x303)][_0x144326(0x5d8)]();if(!_0xe3455f){showMessage(_0x144326(0x144));return;}const _0x473713=_0xe3455f[_0x144326(0x72a)]('\x0a')['map'](_0x26e50f=>_0x26e50f['trim']())[_0x144326(0x30b)](_0x25ff1d=>_0x25ff1d);if(_0x473713[_0x144326(0x31f)]===0x0)return;try{const _0xa8c002=doc(db,_0x144326(0x439)+appId+_0x144326(0x6ad),currentProjectId),_0x3bd1d3=await getDoc(_0xa8c002);if(_0x3bd1d3['exists']()){const _0x500a53=_0x3bd1d3[_0x144326(0x612)]()[_0x144326(0x88f)]||[],_0x1a5270=[...new Set([..._0x500a53,..._0x473713])];await updateDoc(_0xa8c002,{'students':_0x1a5270}),_0x641c60[_0x144326(0x303)]='';}}catch(_0x1f17ea){console[_0x144326(0x183)](_0x144326(0x8b4),_0x1f17ea),showMessage(_0x144326(0x68b));}});async function handleManualQuizPairing(_0x27e06b){const _0x23d81d=_0x3f08ea,_0x4c9fb3=document[_0x23d81d(0x274)](_0x23d81d(0x5d5)),_0x4fa348=document[_0x23d81d(0x274)]('move-quiz-project-select'),_0x619f8=_0x4c9fb3[_0x23d81d(0x497)]('h3'),_0x4e7fd6=document['getElementById'](_0x23d81d(0x802)),_0x1ff5e0=document[_0x23d81d(0x274)](_0x23d81d(0x4b9));_0x619f8[_0x23d81d(0x7b7)]=_0x23d81d(0x869),_0x4fa348[_0x23d81d(0x1bb)]=_0x23d81d(0x150),_0x4e7fd6[_0x23d81d(0x7b7)]=_0x23d81d(0x6f1),_0x4c9fb3[_0x23d81d(0x67e)]['remove'](_0x23d81d(0x66d));const _0x19ef0a=allQuizzes[_0x23d81d(0x30b)](_0x1dd867=>_0x1dd867['id']!==_0x27e06b);_0x19ef0a[_0x23d81d(0x31f)]===0x0?(_0x4fa348[_0x23d81d(0x1bb)]=_0x23d81d(0x74c),_0x4e7fd6[_0x23d81d(0x5a2)]=!![]):(_0x4fa348['innerHTML']=_0x23d81d(0x674)+_0x19ef0a[_0x23d81d(0x743)](_0x5753f9=>'<option\x20value=\x22'+_0x5753f9['id']+'\x22>'+_0x5753f9['topic']+'</option>')[_0x23d81d(0xaad)](''),_0x4e7fd6['disabled']=![]);const _0x32e03f=async()=>{const _0x16375a=_0x23d81d,_0x44cbed=_0x4fa348[_0x16375a(0x303)];if(!_0x44cbed){showMessage(_0x16375a(0x474));return;}_0x4e7fd6['disabled']=!![],_0x4e7fd6[_0x16375a(0x7b7)]=_0x16375a(0x573);try{const _0x58b502=doc(db,_0x16375a(0x439)+appId+_0x16375a(0x5e9),_0x27e06b),_0x3790c2=doc(db,_0x16375a(0x439)+appId+_0x16375a(0x5e9),_0x44cbed),_0x320463=writeBatch(db);_0x320463[_0x16375a(0xa7d)](_0x58b502,{'pairedQuizId':_0x44cbed}),_0x320463[_0x16375a(0xa7d)](_0x3790c2,{'pairedQuizId':_0x27e06b}),await _0x320463[_0x16375a(0x296)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x4c9fb3[_0x16375a(0x67e)][_0x16375a(0x677)](_0x16375a(0x66d));}catch(_0x133b5a){console['error'](_0x16375a(0x217),_0x133b5a),showMessage(_0x16375a(0x4cb));}finally{_0x619f8[_0x16375a(0x7b7)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4e7fd6['textContent']=_0x16375a(0x264),_0x4e7fd6[_0x16375a(0x5a2)]=![],_0x4e7fd6[_0x16375a(0x400)](_0x16375a(0x405),_0x32e03f),_0x1ff5e0['removeEventListener'](_0x16375a(0x405),_0x2eb167);}},_0x2eb167=()=>{const _0x118475=_0x23d81d;_0x4c9fb3[_0x118475(0x67e)][_0x118475(0x677)](_0x118475(0x66d)),_0x619f8[_0x118475(0x7b7)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4e7fd6[_0x118475(0x7b7)]=_0x118475(0x264),_0x4e7fd6[_0x118475(0x400)](_0x118475(0x405),_0x32e03f),_0x1ff5e0['removeEventListener']('click',_0x2eb167);};_0x4e7fd6['addEventListener'](_0x23d81d(0x405),_0x32e03f),_0x1ff5e0['addEventListener'](_0x23d81d(0x405),_0x2eb167);}function handleDeleteStudent(_0x349703){const _0xd5a909=_0x3f08ea;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x349703+_0xd5a909(0x171),async()=>{const _0x43a2e2=_0xd5a909;if(!currentProjectId||!currentProjectData)return;const _0x7f6c99=currentProjectData[_0x43a2e2(0x88f)][_0x43a2e2(0x30b)](_0x3ae0a1=>_0x3ae0a1!==_0x349703);try{const _0x5d7931=doc(db,_0x43a2e2(0x439)+appId+_0x43a2e2(0x6ad),currentProjectId),_0x9bf738=doc(db,_0x43a2e2(0x439)+appId+_0x43a2e2(0x476)+currentProjectId+_0x43a2e2(0x2a4),_0x349703),_0x3cc720=writeBatch(db);_0x3cc720[_0x43a2e2(0xa7d)](_0x5d7931,{'students':_0x7f6c99}),_0x3cc720[_0x43a2e2(0x163)](_0x9bf738),await _0x3cc720[_0x43a2e2(0x296)]();}catch(_0x31f967){console[_0x43a2e2(0x183)](_0x43a2e2(0x489),_0x31f967),showMessage(_0x43a2e2(0x5fe));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4e33aa=_0x1cca;if(!currentProjectId)return;try{const _0x396b67=doc(db,_0x4e33aa(0x439)+appId+'/public/data/projects',currentProjectId),_0x2137a9=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x4e33aa(0x2a4)),_0x5b43b0=await getDocs(_0x2137a9),_0x114f7d=writeBatch(db);_0x114f7d[_0x4e33aa(0xa7d)](_0x396b67,{'students':[]}),_0x5b43b0[_0x4e33aa(0x232)](_0x2e26c1=>_0x114f7d[_0x4e33aa(0x163)](_0x2e26c1['ref'])),await _0x114f7d[_0x4e33aa(0x296)]();}catch(_0x4089cd){console[_0x4e33aa(0x183)](_0x4e33aa(0x9fd),_0x4089cd),showMessage(_0x4e33aa(0x614));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x8f3182){const _0x1bc16e=_0x3f08ea,_0x375e1e=document[_0x1bc16e(0x274)]('file-topics-list-container'),_0x5d498f=document[_0x1bc16e(0x274)](_0x1bc16e(0xab2));_0x375e1e[_0x1bc16e(0x67e)][_0x1bc16e(0xaa2)](_0x1bc16e(0x66d)),_0x5d498f[_0x1bc16e(0x1bb)]=_0x1bc16e(0x70d);try{const _0x3559b0=new FileReader();_0x3559b0[_0x1bc16e(0xaec)](_0x8f3182),await new Promise((_0xd2673a,_0x2dc680)=>{const _0x26eb88=_0x1bc16e;_0x3559b0[_0x26eb88(0x4b4)]=()=>{const _0x1e99e3=_0x26eb88;fileDataBase64=_0x3559b0[_0x1e99e3(0x87f)][_0x1e99e3(0x72a)](',')[0x1],fileMimeType=_0x8f3182[_0x1e99e3(0x7ba)],_0xd2673a();},_0x3559b0[_0x26eb88(0x15f)]=_0x3cfcf2=>_0x2dc680(_0x3cfcf2);});if(!fileDataBase64)throw new Error(_0x1bc16e(0x17a));const _0x30e345=_0x1bc16e(0x202),_0x5337e2={'type':_0x1bc16e(0x6a6),'properties':{'topics':{'type':_0x1bc16e(0x1cf),'items':{'type':'STRING'}}},'required':[_0x1bc16e(0x262)]},_0x2f04c0=[{'text':_0x30e345},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x40bb6c=await handleApiCall(_0x2f04c0,_0x1bc16e(0x9f9),_0x5337e2,null,![]);if(_0x40bb6c&&_0x40bb6c['topics'])extractedFileTopics=_0x40bb6c[_0x1bc16e(0x262)],renderFileTopics();else throw new Error(_0x1bc16e(0x71b));}catch(_0x524140){console[_0x1bc16e(0x183)](_0x1bc16e(0x2c3),_0x524140),_0x5d498f['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x524140[_0x1bc16e(0x75c)]+_0x1bc16e(0x1fe);}}function renderFileTopics(){const _0x1d6504=_0x3f08ea,_0x4a125a=document['getElementById'](_0x1d6504(0xab2));if(extractedFileTopics[_0x1d6504(0x31f)]===0x0){_0x4a125a[_0x1d6504(0x1bb)]=_0x1d6504(0x57e);return;}_0x4a125a[_0x1d6504(0x1bb)]=extractedFileTopics[_0x1d6504(0x743)](_0x5ad43e=>_0x1d6504(0x854)+_0x5ad43e+_0x1d6504(0x344)+escape(_0x5ad43e)+_0x1d6504(0x708)+escape(_0x5ad43e)+_0x1d6504(0x426))[_0x1d6504(0xaad)]('');}async function generateHybridQuizForTopic(_0x373c4c){const _0x29db11=_0x3f08ea,_0x50f0ff=parseInt(document['getElementById'](_0x29db11(0x88a))[_0x29db11(0x303)],0xa),_0x3f026c=document[_0x29db11(0x274)](_0x29db11(0x4e0))[_0x29db11(0x303)],_0x34237e=document[_0x29db11(0x274)]('num-choices')[_0x29db11(0x303)],_0x202328=document[_0x29db11(0x274)](_0x29db11(0x4b8))[_0x29db11(0x835)],_0x584ab3=_0x202328?_0x29db11(0x78d):_0x29db11(0x2ee);let _0x168e15='',_0x4a8019;const _0x39a901={'type':_0x29db11(0x6a6),'properties':{'questionText':{'type':_0x29db11(0x2a3)},'options':{'type':'ARRAY','items':{'type':_0x29db11(0x2a3)}},'correctAnswerIndex':{'type':_0x29db11(0x20d)},'explanation':{'type':_0x29db11(0x2a3)},'imageCode':{'type':_0x29db11(0x2a3)}},'required':[_0x29db11(0x81a),'options','correctAnswerIndex',_0x29db11(0x339)]},_0x472854={'type':_0x29db11(0x6a6),'properties':{'questionText':{'type':_0x29db11(0x2a3)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x29db11(0x2a3)}},'required':['questionText',_0x29db11(0x26f),_0x29db11(0x339)]},_0x63dbc5={'type':'OBJECT','properties':{'questionText':{'type':_0x29db11(0x2a3)},'idealAnswer':{'type':_0x29db11(0x2a3)},'explanation':{'type':_0x29db11(0x2a3)},'imageCode':{'type':_0x29db11(0x2a3)}},'required':[_0x29db11(0x81a),_0x29db11(0x645),_0x29db11(0x339)]},_0x160a72={'type':_0x29db11(0x6a6),'properties':{'questionType':{'type':_0x29db11(0x2a3),'enum':['matching_item']},'stem':{'type':_0x29db11(0x2a3)},'correctResponse':{'type':_0x29db11(0x2a3)},'allResponses':{'type':_0x29db11(0x1cf),'items':{'type':_0x29db11(0x2a3)}},'explanation':{'type':_0x29db11(0x2a3)},'imageCode':{'type':_0x29db11(0x2a3)}},'required':['questionType',_0x29db11(0x353),_0x29db11(0x984),_0x29db11(0x378),_0x29db11(0x339)]};switch(_0x3f026c){case'multiple_choice':_0x168e15=_0x29db11(0x464)+_0x34237e+'\x20ตัวเลือก)',_0x4a8019=_0x39a901;break;case _0x29db11(0x8bf):_0x168e15=_0x29db11(0x398),_0x4a8019=_0x472854;break;case _0x29db11(0x66c):_0x168e15=_0x29db11(0x70a),_0x4a8019=_0x63dbc5;break;case _0x29db11(0x80c):_0x168e15='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x4a8019=_0x160a72;break;case _0x29db11(0x361):_0x168e15='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x34237e+'\x20ตัวเลือก)',_0x4a8019=_0x39a901;break;default:_0x168e15=_0x29db11(0x464)+_0x34237e+'\x20ตัวเลือก)',_0x4a8019=_0x39a901;break;}const _0xd0c3af='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x37dc2f=document[_0x29db11(0x274)](_0x29db11(0x7ad)),_0x4afdd9=document[_0x29db11(0x274)](_0x29db11(0x94a)),_0x275663=document['getElementById'](_0x29db11(0x14b));document['getElementById']('quiz-generation-area')['classList'][_0x29db11(0xaa2)](_0x29db11(0x66d)),_0x275663[_0x29db11(0x1bb)]='',_0x37dc2f[_0x29db11(0x67e)][_0x29db11(0xaa2)](_0x29db11(0x66d)),_0x4afdd9[_0x29db11(0x7b7)]=_0x29db11(0x5eb)+_0x373c4c+'\x22\x20จำนวน\x20'+_0x50f0ff+_0x29db11(0x541);try{const _0x1e0a17=_0x29db11(0x6e8)+_0x373c4c+_0x29db11(0x8b7)+_0x50f0ff+_0x29db11(0x8d5)+_0x373c4c+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x50f0ff+_0x29db11(0x1ef)+_0x584ab3+_0x29db11(0x228)+_0x168e15+_0x29db11(0x315)+_0xd0c3af+_0x29db11(0x37c)+simpleMathPrompt+_0x29db11(0x61d),_0x587e8b={'type':_0x29db11(0x6a6),'properties':{'topic':{'type':_0x29db11(0x2a3)},'questions':{'type':_0x29db11(0x1cf),'items':_0x4a8019}},'required':[_0x29db11(0x994),'questions']},_0x487684=[{'text':_0x1e0a17},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x487684,_0x29db11(0x649)+_0x373c4c+'\x22...',_0x587e8b);}catch(_0x1ccdd1){console['error'](_0x29db11(0x416),_0x1ccdd1),showMessage(_0x29db11(0x248)+_0x1ccdd1[_0x29db11(0x75c)]),_0x275663[_0x29db11(0x1bb)]=_0x29db11(0x5fb);}finally{_0x37dc2f[_0x29db11(0x67e)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x586eaf=_0x3f08ea;if(!selectedFile){showMessage(_0x586eaf(0x8c7));return;}const _0x4e5909=document[_0x586eaf(0x274)](_0x586eaf(0x7ad)),_0x2ed250=document[_0x586eaf(0x274)]('loader-text'),_0x39bf55=document['getElementById'](_0x586eaf(0x14b)),_0x5c1d26=document[_0x586eaf(0x274)](_0x586eaf(0x99d));_0x5c1d26[_0x586eaf(0x5a2)]=!![],document[_0x586eaf(0x274)](_0x586eaf(0x514))[_0x586eaf(0x67e)]['remove'](_0x586eaf(0x66d)),_0x39bf55[_0x586eaf(0x1bb)]='',_0x4e5909['classList']['remove'](_0x586eaf(0x66d)),_0x2ed250[_0x586eaf(0x7b7)]=_0x586eaf(0x40d);const _0x14e58f=new FileReader();_0x14e58f[_0x586eaf(0xaec)](selectedFile),_0x14e58f[_0x586eaf(0x4b4)]=async()=>{const _0x4f6a12=_0x586eaf;try{const _0x1d8357=_0x14e58f[_0x4f6a12(0x87f)][_0x4f6a12(0x72a)](',')[0x1],_0x1cc7f3=selectedFile[_0x4f6a12(0x7ba)];await generateQuizFromFile(_0x1cc7f3,_0x1d8357);}catch(_0xacf361){console[_0x4f6a12(0x183)](_0x4f6a12(0x176),_0xacf361),showMessage(_0x4f6a12(0x356)+_0xacf361[_0x4f6a12(0x75c)]),_0x4e5909['classList'][_0x4f6a12(0x677)]('hidden');}finally{}},_0x14e58f[_0x586eaf(0x15f)]=_0x5d4d0d=>{const _0x3d577d=_0x586eaf;console[_0x3d577d(0x183)]('FileReader\x20error:',_0x5d4d0d),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x4e5909[_0x3d577d(0x67e)][_0x3d577d(0x677)](_0x3d577d(0x66d)),_0x5c1d26['disabled']=![];};}function autoFormatMath(_0x23cdbd){if(typeof _0x23cdbd!=='string'||!_0x23cdbd)return _0x23cdbd;const _0x155b3d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4b427f=_0x23cdbd['replace'](_0x155b3d,_0x5372b3=>{const _0x4fcd03=_0x1cca;return'$'+_0x5372b3[_0x4fcd03(0x5d8)]()+'$';});return _0x4b427f;}function sanitizeQuizData(_0x26a0cb){const _0x50f727=_0x3f08ea;if(!_0x26a0cb||!_0x26a0cb[_0x50f727(0x2bb)])return _0x26a0cb;const _0x2b40f6={'imes':_0x50f727(0x1c1),'div':_0x50f727(0x799)},_0x346f83=_0x48772c=>{const _0x2be466=_0x50f727;if(typeof _0x48772c!==_0x2be466(0x3c4))return _0x48772c;let _0x2de0f0=_0x48772c;for(const [_0x599ba5,_0x4fa4c2]of Object['entries'](_0x2b40f6)){const _0x3f6fcb=new RegExp('\x5cb'+_0x599ba5+'\x5cb','g');_0x2de0f0=_0x2de0f0['replace'](_0x3f6fcb,_0x4fa4c2);}return _0x2de0f0=_0x2de0f0[_0x2be466(0x5ac)](/\\\//g,_0x2be466(0x799)),_0x2de0f0=_0x2de0f0[_0x2be466(0x5ac)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x2be466(0x5ac)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2be466(0x1c1))[_0x2be466(0x5ac)](/÷/g,_0x2be466(0x799))[_0x2be466(0x5ac)](/×/g,_0x2be466(0x1c1)),_0x2de0f0=_0x2de0f0[_0x2be466(0x5ac)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x2de0f0=autoFormatMath(_0x2de0f0),_0x2de0f0;};return _0x26a0cb[_0x50f727(0x994)]&&(_0x26a0cb[_0x50f727(0x994)]=_0x346f83(_0x26a0cb[_0x50f727(0x994)])),_0x26a0cb['questions']['forEach'](_0x3c48f2=>{const _0x26e21c=_0x50f727;_0x3c48f2['questionText']=_0x346f83(_0x3c48f2[_0x26e21c(0x81a)]),_0x3c48f2[_0x26e21c(0xaee)]&&(_0x3c48f2[_0x26e21c(0xaee)]=_0x3c48f2[_0x26e21c(0xaee)]['map'](_0x346f83)),_0x3c48f2[_0x26e21c(0x339)]&&(_0x3c48f2[_0x26e21c(0x339)]=_0x346f83(_0x3c48f2['explanation'])),_0x3c48f2[_0x26e21c(0x353)]&&(_0x3c48f2[_0x26e21c(0x353)]=_0x346f83(_0x3c48f2[_0x26e21c(0x353)])),_0x3c48f2['correctResponse']&&(_0x3c48f2[_0x26e21c(0x984)]=_0x346f83(_0x3c48f2[_0x26e21c(0x984)])),_0x3c48f2['allResponses']&&(_0x3c48f2[_0x26e21c(0x378)]=_0x3c48f2[_0x26e21c(0x378)][_0x26e21c(0x743)](_0x346f83));}),_0x26a0cb;}const simpleMathPrompt=_0x3f08ea(0x827);async function handleGenerateFromLink(){const _0x189b24=_0x3f08ea,_0x59052e=document['getElementById']('link-url-input'),_0x176627=document['getElementById'](_0x189b24(0xaed)),_0x885df2=_0x59052e[_0x189b24(0x303)][_0x189b24(0x5d8)](),_0x5548dc=_0x176627['value'][_0x189b24(0x5d8)]();if(!_0x885df2){showMessage(_0x189b24(0x703));return;}const _0x5f1fb9=document[_0x189b24(0x274)]('loader'),_0x1bbd8d=document['getElementById'](_0x189b24(0x94a)),_0x1a40be=document[_0x189b24(0x274)](_0x189b24(0x14b)),_0x3b0a69=document['getElementById'](_0x189b24(0x511));document[_0x189b24(0x274)]('quiz-generation-area')[_0x189b24(0x67e)][_0x189b24(0xaa2)]('hidden'),_0x1a40be[_0x189b24(0x1bb)]='',_0x5f1fb9[_0x189b24(0x67e)][_0x189b24(0xaa2)]('hidden'),_0x1bbd8d['textContent']=_0x189b24(0x35a),_0x3b0a69['disabled']=!![];try{const _0x1d956f='https://corsproxy.io/?'+encodeURIComponent(_0x885df2),_0x40d281=await fetch(_0x1d956f);if(!_0x40d281['ok'])throw new Error(_0x189b24(0x77f)+_0x40d281[_0x189b24(0x7af)]+')');const _0x340f5e=await _0x40d281[_0x189b24(0x8bd)](),_0x3fbbe5=extractTextFromHtml(_0x340f5e);if(!_0x3fbbe5||_0x3fbbe5[_0x189b24(0x31f)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x5548dc,_0x3fbbe5);}catch(_0x559557){console[_0x189b24(0x183)](_0x189b24(0x726),_0x559557),showMessage('เกิดข้อผิดพลาด:\x20'+_0x559557[_0x189b24(0x75c)]),_0x1a40be[_0x189b24(0x1bb)]=_0x189b24(0x4a6);}finally{_0x5f1fb9[_0x189b24(0x67e)][_0x189b24(0x677)](_0x189b24(0x66d)),_0x3b0a69['disabled']=![];}}function extractTextFromHtml(_0x10bb6f){const _0x14d32a=_0x3f08ea,_0x3343dd=new DOMParser()[_0x14d32a(0x50d)](_0x10bb6f,_0x14d32a(0x67b));return _0x3343dd[_0x14d32a(0x591)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x14f541=>_0x14f541[_0x14d32a(0xaa2)]()),_0x3343dd[_0x14d32a(0x702)][_0x14d32a(0x7b7)]||'';}document[_0x3f08ea(0x274)](_0x3f08ea(0x572))[_0x3f08ea(0x908)](_0x3f08ea(0x405),()=>{const _0x356b71=_0x3f08ea,_0x4d5fec=document['getElementById'](_0x356b71(0xabf))[_0x356b71(0x303)][_0x356b71(0x5d8)]();generateQuiz(_0x4d5fec,null);}),document[_0x3f08ea(0x274)](_0x3f08ea(0x47d))['addEventListener']('click',()=>{const _0x39c954=_0x3f08ea,_0x4c15df=document[_0x39c954(0x274)](_0x39c954(0x777))['value'][_0x39c954(0x5d8)]();if(!_0x4c15df){showMessage(_0x39c954(0x679));return;}const _0x41cff1=document[_0x39c954(0x274)](_0x39c954(0xabf))['value'][_0x39c954(0x5d8)]();generateQuiz(_0x41cff1,_0x4c15df);});async function generateQuiz(_0x395cb8,_0x67e344,_0x20d03e=null,_0xf8f92e=null){const _0x56ef3d=_0x3f08ea,_0x262a88=document[_0x56ef3d(0x274)]('include-images-checkbox')[_0x56ef3d(0x835)],_0x154727=document[_0x56ef3d(0x274)](_0x56ef3d(0x4e0))[_0x56ef3d(0x303)],_0x216414=document[_0x56ef3d(0x274)](_0x56ef3d(0x88a))['value'],_0x2f690f=document[_0x56ef3d(0x274)](_0x56ef3d(0x9cd))[_0x56ef3d(0x303)],_0x5478c9=document[_0x56ef3d(0x274)](_0x56ef3d(0x3f4))[_0x56ef3d(0x835)],_0x296530=_0x5478c9?'':_0x56ef3d(0x8a0),_0x3caf92=document[_0x56ef3d(0x274)](_0x56ef3d(0x3ef)),_0x59c873=_0x3caf92[_0x56ef3d(0x303)];let _0x5a0216='';_0x59c873!==_0x56ef3d(0x8a4)&&(_0x5a0216=_0x56ef3d(0x62d)+_0x59c873+'\x22');const _0x4c7725=document[_0x56ef3d(0x274)](_0x56ef3d(0x30e)),_0x2bf7b1=_0x4c7725[_0x56ef3d(0x303)];let _0x56373f='';_0x2bf7b1!==_0x56ef3d(0x35d)&&(_0x56373f=_0x56ef3d(0x32d)+_0x2bf7b1+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0xef4826=document[_0x56ef3d(0x591)]('#math-topics-checkbox-container\x20input:checked'),_0x421cb6=Array[_0x56ef3d(0x5bc)](_0xef4826)['map'](_0x55e788=>_0x55e788[_0x56ef3d(0x303)]);let _0x3bbcf3='';_0x421cb6['length']>0x0&&(_0x3bbcf3='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x421cb6[_0x56ef3d(0xaad)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x2d64f4='';_0xf8f92e&&(_0x2d64f4=_0x56ef3d(0x41c));let _0x52166b='',_0x427872='',_0x39646a,_0x56f87c=_0x56ef3d(0x33b)+_0x395cb8+'\x22';if(!_0x395cb8&&_0x67e344)_0x56f87c='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x395cb8&&!_0x67e344&&(_0x56f87c=_0x56ef3d(0x979));const _0x559f82={'type':_0x56ef3d(0x6a6),'properties':{'questionText':{'type':_0x56ef3d(0x2a3)},'options':{'type':_0x56ef3d(0x1cf),'items':{'type':_0x56ef3d(0x2a3)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x56ef3d(0x2a3)}},'required':[_0x56ef3d(0x81a),_0x56ef3d(0xaee),'correctAnswerIndex','explanation']},_0x29b36b={'type':_0x56ef3d(0x6a6),'properties':{'questionText':{'type':_0x56ef3d(0x2a3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x56ef3d(0x2a3)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x56ef3d(0x645),'explanation']},_0x3c1003={'type':_0x56ef3d(0x6a6),'properties':{'questionText':{'type':_0x56ef3d(0x2a3)},'questionType':{'type':_0x56ef3d(0x2a3),'enum':[_0x56ef3d(0x622),_0x56ef3d(0x15d)]},'options':{'type':_0x56ef3d(0x1cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x56ef3d(0x20d)},'idealAnswer':{'type':_0x56ef3d(0x2a3)},'explanation':{'type':_0x56ef3d(0x2a3)},'imageCode':{'type':_0x56ef3d(0x2a3)}},'required':['questionText',_0x56ef3d(0x4f4),'explanation']},_0x3547e8={'type':_0x56ef3d(0x6a6),'properties':{'questionText':{'type':_0x56ef3d(0x2a3)},'correctAnswer':{'type':_0x56ef3d(0x2e9)},'explanation':{'type':_0x56ef3d(0x2a3)},'imageCode':{'type':_0x56ef3d(0x2a3)}},'required':[_0x56ef3d(0x81a),'correctAnswer',_0x56ef3d(0x339)]},_0x1f6c81={'type':_0x56ef3d(0x6a6),'properties':{'questionType':{'type':_0x56ef3d(0x2a3),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x56ef3d(0x2a3)},'allResponses':{'type':_0x56ef3d(0x1cf),'items':{'type':_0x56ef3d(0x2a3)}},'explanation':{'type':_0x56ef3d(0x2a3)},'imageCode':{'type':'STRING'}},'required':[_0x56ef3d(0x4f4),'stem','correctResponse',_0x56ef3d(0x378),_0x56ef3d(0x339)]};let _0x405d6b;if(_0x20d03e!==null){const _0x27558a=currentQuizData[_0x56ef3d(0x2bb)][_0x20d03e][_0x56ef3d(0x4f4)],_0x78b603=_0x262a88?_0x56ef3d(0x92a):'';_0x52166b=_0x56ef3d(0xa12)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+_0x56ef3d(0x779)+_0x78b603+'\x20'+simpleMathPrompt;if(_0x27558a==='multiple_choice')_0x39646a=_0x559f82;else{if(_0x27558a===_0x56ef3d(0x466))_0x39646a={'type':_0x56ef3d(0x6a6),'properties':{'questionType':{'type':_0x56ef3d(0x2a3),'enum':[_0x56ef3d(0x466)]},'stem':{'type':_0x56ef3d(0x2a3)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x56ef3d(0x2a3)},'imageCode':{'type':_0x56ef3d(0x2a3)}},'required':[_0x56ef3d(0x4f4),_0x56ef3d(0x353),_0x56ef3d(0x984),_0x56ef3d(0x339)]};else _0x39646a=_0x29b36b;}_0x405d6b=_0x39646a;}else{const _0x3140af=_0x262a88?_0x56ef3d(0x845):'',_0x44c735=_0x56ef3d(0x1ba);switch(_0x154727){case'multiple_choice':_0x52166b=_0x56ef3d(0x633)+_0x296530+'\x20'+_0x216414+_0x56ef3d(0x459)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+_0x56ef3d(0x9f4)+_0x2f690f+_0x56ef3d(0xa34)+_0x3140af+'\x20'+simpleMathPrompt,_0x39646a=_0x559f82;break;case'fill_in_with_choices':_0x52166b=_0x56ef3d(0x51e)+_0x296530+'\x20'+_0x216414+_0x56ef3d(0x459)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+_0x56ef3d(0x5bb)+_0x2f690f+_0x56ef3d(0x3d3)+_0x3140af+'\x20'+simpleMathPrompt,_0x39646a=_0x559f82;break;case'fill_in_no_choices':_0x52166b=_0x56ef3d(0x51e)+_0x296530+'\x20'+_0x216414+_0x56ef3d(0x459)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+_0x56ef3d(0x8c6)+_0x3140af+'\x20'+simpleMathPrompt,_0x39646a=_0x29b36b;break;case _0x56ef3d(0x35d):_0x52166b='สร้างแบบทดสอบ'+_0x296530+'\x20'+_0x216414+_0x56ef3d(0x459)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+_0x56ef3d(0x430)+_0x2f690f+'\x20ตัวเลือก.\x20'+_0x3140af+'\x20'+simpleMathPrompt+'.',_0x39646a=_0x3c1003;break;case _0x56ef3d(0x8bf):_0x52166b=_0x56ef3d(0x687)+_0x296530+'\x20'+_0x216414+'\x20ข้อ\x20'+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+_0x56ef3d(0x8c1)+_0x3140af+'\x20'+simpleMathPrompt,_0x39646a=_0x3547e8;break;case _0x56ef3d(0x80c):_0x52166b=_0x56ef3d(0x7ce)+_0x296530+'\x20'+_0x216414+_0x56ef3d(0x4f5)+_0x56f87c+'\x20'+_0x3bbcf3+'\x20'+_0x5a0216+'\x20'+_0x56373f+'\x20'+_0x2d64f4+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x3140af+'\x20'+simpleMathPrompt,_0x39646a=_0x1f6c81;break;}_0x405d6b={'type':'OBJECT','properties':{'topic':{'type':_0x56ef3d(0x2a3)},'questions':{'type':_0x56ef3d(0x1cf),'items':_0x39646a}},'required':[_0x56ef3d(0x994),_0x56ef3d(0x2bb)]};}_0x67e344?(_0x52166b=_0x56ef3d(0x4d1)+_0x67e344+'\x22,\x20'+_0x52166b,_0x427872=_0x56ef3d(0x36d)):_0x427872='กำลังสร้างแบบทดสอบจากหัวข้อ...';let _0x458abb;return _0xf8f92e?_0x458abb=[{'text':_0x52166b},..._0xf8f92e]:_0x458abb=_0x52166b,handleApiCall(_0x458abb,_0x427872,_0x405d6b,_0x20d03e);}async function generateQuizFromFile(_0x15be19,_0x57a15b){const _0x3e9233=_0x3f08ea,_0x2e77f8=document['getElementById'](_0x3e9233(0x1fb))[_0x3e9233(0x303)]['trim'](),_0x2f3b67=document[_0x3e9233(0x274)]('quiz-type-select')[_0x3e9233(0x303)],_0x18485f=document['getElementById']('num-questions')[_0x3e9233(0x303)],_0x21c119=document[_0x3e9233(0x274)]('num-choices')['value'],_0x2297d3=document[_0x3e9233(0x274)]('include-images-checkbox')[_0x3e9233(0x835)],_0x45b8b9=document[_0x3e9233(0x274)](_0x3e9233(0x3f4))['checked'],_0x3410c7=_0x45b8b9?'':'คณิตศาสตร์',_0x17a434=document[_0x3e9233(0x274)](_0x3e9233(0x518))['checked'];let _0x555bf8='',_0x4e622d;const _0x250a7a=_0x2297d3?_0x3e9233(0x845):'';if(_0x17a434)_0x555bf8='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x250a7a+_0x3e9233(0xa57)+simpleMathPrompt+'\x0a',_0x4e622d={'type':_0x3e9233(0x6a6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x3e9233(0x622),'short_answer',_0x3e9233(0x8bf),_0x3e9233(0x466)]},'options':{'type':_0x3e9233(0x1cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3e9233(0x2a3)},'correctAnswer':{'type':_0x3e9233(0x2e9)},'stem':{'type':_0x3e9233(0x2a3)},'correctResponse':{'type':_0x3e9233(0x2a3)},'allResponses':{'type':_0x3e9233(0x1cf),'items':{'type':_0x3e9233(0x2a3)}},'explanation':{'type':_0x3e9233(0x2a3)},'imageCode':{'type':'STRING'}},'required':[_0x3e9233(0x4f4),_0x3e9233(0x339)]};else{let _0x1b557f=_0x3e9233(0x33b)+_0x2e77f8+'\x22';!_0x2e77f8&&(_0x1b557f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x2f3b67){case _0x3e9233(0x622):_0x555bf8=_0x3e9233(0x633)+_0x3410c7+'\x20'+_0x18485f+'\x20ข้อ\x20'+_0x1b557f+'.\x20แต่ละข้อมี\x20'+_0x21c119+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x250a7a+'\x20'+simpleMathPrompt,_0x4e622d={'type':_0x3e9233(0x6a6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3e9233(0x1cf),'items':{'type':_0x3e9233(0x2a3)}},'correctAnswerIndex':{'type':_0x3e9233(0x20d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3e9233(0x2a3)}},'required':[_0x3e9233(0x81a),_0x3e9233(0xaee),'correctAnswerIndex','explanation']};break;case _0x3e9233(0x361):_0x555bf8='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3410c7+'\x20'+_0x18485f+_0x3e9233(0x459)+_0x1b557f+_0x3e9233(0x5bb)+_0x21c119+_0x3e9233(0x3d3)+_0x250a7a+'\x20'+simpleMathPrompt,_0x4e622d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x3e9233(0x2a3)}},'correctAnswerIndex':{'type':_0x3e9233(0x20d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3e9233(0x2a3)}},'required':[_0x3e9233(0x81a),'options',_0x3e9233(0x74e),_0x3e9233(0x339)]};break;case _0x3e9233(0x66c):_0x555bf8=_0x3e9233(0x51e)+_0x3410c7+'\x20'+_0x18485f+'\x20ข้อ\x20'+_0x1b557f+_0x3e9233(0x8c6)+_0x250a7a+'\x20'+simpleMathPrompt,_0x4e622d={'type':_0x3e9233(0x6a6),'properties':{'questionText':{'type':_0x3e9233(0x2a3)},'idealAnswer':{'type':_0x3e9233(0x2a3)},'explanation':{'type':_0x3e9233(0x2a3)},'imageCode':{'type':'STRING'}},'required':[_0x3e9233(0x81a),_0x3e9233(0x645),_0x3e9233(0x339)]};break;case _0x3e9233(0x35d):_0x555bf8='สร้างแบบทดสอบ'+_0x3410c7+'\x20'+_0x18485f+_0x3e9233(0x459)+_0x1b557f+_0x3e9233(0x4d3)+_0x21c119+_0x3e9233(0x328)+_0x250a7a+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4e622d={'type':'OBJECT','properties':{'questionText':{'type':_0x3e9233(0x2a3)},'questionType':{'type':_0x3e9233(0x2a3),'enum':['multiple_choice',_0x3e9233(0x15d)]},'options':{'type':_0x3e9233(0x1cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3e9233(0x20d)},'idealAnswer':{'type':_0x3e9233(0x2a3)},'explanation':{'type':_0x3e9233(0x2a3)},'imageCode':{'type':_0x3e9233(0x2a3)}},'required':[_0x3e9233(0x81a),'questionType',_0x3e9233(0x339)]};break;case _0x3e9233(0x8bf):_0x555bf8=_0x3e9233(0x687)+_0x3410c7+'\x20'+_0x18485f+_0x3e9233(0x459)+_0x1b557f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x250a7a+'\x20'+simpleMathPrompt,_0x4e622d={'type':_0x3e9233(0x6a6),'properties':{'questionText':{'type':_0x3e9233(0x2a3)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3e9233(0x2a3)},'imageCode':{'type':'STRING'}},'required':[_0x3e9233(0x81a),_0x3e9233(0x26f),_0x3e9233(0x339)]};break;case _0x3e9233(0x80c):_0x555bf8=_0x3e9233(0x7ce)+_0x3410c7+'\x20'+_0x18485f+_0x3e9233(0x4f5)+_0x1b557f+_0x3e9233(0x371)+_0x18485f+_0x3e9233(0x211)+_0x250a7a+'\x20'+simpleMathPrompt,_0x4e622d={'type':_0x3e9233(0x6a6),'properties':{'questionType':{'type':_0x3e9233(0x2a3),'enum':[_0x3e9233(0x466)]},'stem':{'type':_0x3e9233(0x2a3)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x3e9233(0x1cf),'items':{'type':'STRING'}},'explanation':{'type':_0x3e9233(0x2a3)},'imageCode':{'type':_0x3e9233(0x2a3)}},'required':[_0x3e9233(0x4f4),_0x3e9233(0x353),_0x3e9233(0x984),'allResponses',_0x3e9233(0x339)]};break;}}const _0x151370={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3e9233(0x1cf),'items':_0x4e622d}},'required':['topic',_0x3e9233(0x2bb)]},_0xcf14c='จากไฟล์ที่แนบมานี้,\x20'+_0x555bf8,_0x5dc91c={'contents':[{'parts':[{'text':_0xcf14c},{'inlineData':{'mimeType':_0x15be19,'data':_0x57a15b}}]}],'generationConfig':{'responseMimeType':_0x3e9233(0x32e),'responseSchema':_0x151370}};return handleApiCall(_0x5dc91c[_0x3e9233(0x930)][0x0][_0x3e9233(0x8a5)],_0x3e9233(0x38a),_0x151370);}async function handleApiCall(_0x1f4bce,_0x3c1ea6,_0x539623,_0x10be4f=null,_0x28c797=!![]){const _0x9c6455=_0x3f08ea,_0x394b2e=document[_0x9c6455(0x274)](_0x9c6455(0x514)),_0x2462e5=document[_0x9c6455(0x274)](_0x9c6455(0x7ad)),_0x2d4236=document[_0x9c6455(0x274)](_0x9c6455(0x94a)),_0x16b37c=document[_0x9c6455(0x274)]('generated-quiz-container');_0x394b2e[_0x9c6455(0x67e)]['remove']('hidden');_0x10be4f===null&&_0x28c797&&(_0x16b37c['innerHTML']='');_0x2462e5[_0x9c6455(0x67e)][_0x9c6455(0xaa2)](_0x9c6455(0x66d)),_0x2d4236['textContent']=_0x3c1ea6,document['getElementById']('generate-from-topic-btn')[_0x9c6455(0x5a2)]=!![],document['getElementById'](_0x9c6455(0x47d))['disabled']=!![],document[_0x9c6455(0x274)](_0x9c6455(0x511))[_0x9c6455(0x5a2)]=!![];try{const _0x37ef04={'responseMimeType':_0x9c6455(0x32e),'responseSchema':_0x539623},_0x4b1fb2=Array[_0x9c6455(0x55a)](_0x1f4bce)?_0x1f4bce:[{'text':_0x1f4bce}],_0x50ed5c={'contents':[{'role':_0x9c6455(0x604),'parts':_0x4b1fb2}],'generationConfig':_0x37ef04},_0x179e15='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xefb1a9=_0x9c6455(0x40f)+_0x179e15,_0x535faf=await fetch(_0xefb1a9,{'method':_0x9c6455(0x937),'headers':{'Content-Type':_0x9c6455(0x32e)},'body':JSON[_0x9c6455(0x65e)](_0x50ed5c)});if(!_0x535faf['ok'])throw new Error(_0x9c6455(0xa29)+_0x535faf[_0x9c6455(0x7af)]);const _0x5b93b4=await _0x535faf[_0x9c6455(0x551)]();if(_0x5b93b4[_0x9c6455(0x9e3)]?.[0x0]?.[_0x9c6455(0x791)]?.[_0x9c6455(0x8a5)]?.[0x0]){let _0x5d83c7=_0x5b93b4[_0x9c6455(0x9e3)][0x0][_0x9c6455(0x791)]['parts'][0x0][_0x9c6455(0x8bd)];if(_0x5d83c7['startsWith']('```json'))_0x5d83c7=_0x5d83c7[_0x9c6455(0xa6c)](0x7,_0x5d83c7[_0x9c6455(0x31f)]-0x3)['trim']();else _0x5d83c7[_0x9c6455(0x968)](_0x9c6455(0x3d9))&&(_0x5d83c7=_0x5d83c7[_0x9c6455(0xa6c)](0x3,_0x5d83c7[_0x9c6455(0x31f)]-0x3)[_0x9c6455(0x5d8)]());let _0x77b529=JSON['parse'](_0x5d83c7);if(_0x28c797){if(_0x10be4f!==null){if(_0x77b529[_0x9c6455(0x4f4)]==='matching_item'){const _0x441332=currentQuizData['questions'][_0x9c6455(0x743)](_0x26c75b=>_0x26c75b['correctResponse']);_0x77b529[_0x9c6455(0x378)]=_0x441332;const _0x3bad04=currentQuizData['questions'][_0x10be4f][_0x9c6455(0x984)],_0x434c5e=_0x441332['indexOf'](_0x3bad04);_0x434c5e>-0x1&&(_0x441332[_0x434c5e]=_0x77b529[_0x9c6455(0x984)]),currentQuizData[_0x9c6455(0x2bb)]['forEach'](_0x5d27d1=>{const _0x2f4436=_0x9c6455;if(_0x5d27d1[_0x2f4436(0x4f4)]===_0x2f4436(0x466))_0x5d27d1[_0x2f4436(0x378)]=_0x441332;});}currentQuizData['questions'][_0x10be4f]=_0x77b529,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x77b529;const _0x57fbd8=document[_0x9c6455(0x274)](_0x9c6455(0x4e0))['value'];currentQuizData['quizType']=_0x57fbd8,currentQuizData['questions']&&currentQuizData['questions'][_0x9c6455(0x232)](_0x403950=>{const _0x2c7d20=_0x9c6455;if(!_0x403950[_0x2c7d20(0x4f4)]){if(_0x57fbd8==='fill_in_with_choices')_0x403950[_0x2c7d20(0x4f4)]=_0x2c7d20(0x622);else{if(_0x57fbd8===_0x2c7d20(0x66c))_0x403950[_0x2c7d20(0x4f4)]=_0x2c7d20(0x15d);else _0x403950[_0x2c7d20(0x4f4)]=_0x57fbd8;}}}),displayGeneratedQuiz(currentQuizData);}}return _0x77b529;}else throw new Error(_0x9c6455(0x2ac));}catch(_0x1f6209){console['error']('Error\x20generating\x20quiz:',_0x1f6209),showMessage(_0x9c6455(0x86d));_0x10be4f===null&&(_0x16b37c[_0x9c6455(0x1bb)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');throw _0x1f6209;}finally{_0x2462e5[_0x9c6455(0x67e)]['add'](_0x9c6455(0x66d)),document['getElementById'](_0x9c6455(0x572))[_0x9c6455(0x5a2)]=![],document['getElementById'](_0x9c6455(0x47d))[_0x9c6455(0x5a2)]=![],document[_0x9c6455(0x274)](_0x9c6455(0x511))['disabled']=![];const _0x3d0e28=document[_0x9c6455(0x274)]('generate-from-file-btn');if(_0x3d0e28)_0x3d0e28[_0x9c6455(0x5a2)]=![];}}function exitFullscreen(){const _0x181ad4=_0x3f08ea;if(document[_0x181ad4(0x652)])document[_0x181ad4(0x652)]()[_0x181ad4(0xa54)](_0x1c219f=>console[_0x181ad4(0x183)](_0x1c219f));else{if(document[_0x181ad4(0x9db)])document[_0x181ad4(0x9db)]();else document[_0x181ad4(0xae5)]&&document[_0x181ad4(0xae5)]();}}function enterFullscreen(){const _0x8ebfad=_0x3f08ea,_0x57ab57=document['documentElement'];if(_0x57ab57[_0x8ebfad(0x929)])_0x57ab57['requestFullscreen']()[_0x8ebfad(0xa54)](_0x5306b3=>{const _0x524c13=_0x8ebfad;console[_0x524c13(0x183)](_0x524c13(0x4c8)+_0x5306b3[_0x524c13(0x75c)]+'\x20('+_0x5306b3[_0x524c13(0x340)]+')');});else{if(_0x57ab57[_0x8ebfad(0x4da)])_0x57ab57['webkitRequestFullscreen']();else _0x57ab57[_0x8ebfad(0x519)]&&_0x57ab57[_0x8ebfad(0x519)]();}}function handleCheatingEvent(){const _0x192b1d=_0x3f08ea;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x192b1d(0x79d)+maxCheatAttempts+_0x192b1d(0x9d4)),document[_0x192b1d(0x274)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x192b1d(0x676),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x192b1d(0x9ea),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x256e7d=_0x3f08ea;if(currentMode===_0x256e7d(0x89c)||!isQuizActive)return;if(document[_0x256e7d(0x897)]==='hidden')handleCheatingEvent();else document['visibilityState']===_0x256e7d(0x6e2)&&(console[_0x256e7d(0xa09)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x23d2ff=_0x3f08ea;if(currentMode===_0x23d2ff(0x89c)||!isQuizActive)return;!document[_0x23d2ff(0x2a5)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x18cfcf){const _0x247a69=_0x3f08ea,_0x4b6d19=document['getElementById'](_0x247a69(0x14b));let _0x5ca380=_0x247a69(0x43a)+_0x18cfcf[_0x247a69(0x994)]+'</h3>';_0x18cfcf['questions'][_0x247a69(0x232)]((_0x4037f7,_0x45fc2f)=>{const _0x139c46=_0x247a69;!_0x4037f7['id']&&(_0x4037f7['id']='q_'+Date['now']()+'_'+_0x45fc2f);const _0x59bd1f=_0x4037f7[_0x139c46(0x4f4)]||_0x18cfcf[_0x139c46(0x641)];_0x5ca380+=_0x139c46(0x895)+_0x45fc2f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x45fc2f+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x45fc2f+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x59bd1f){case'matching_item':_0x5ca380+=_0x139c46(0x565)+_0x45fc2f+'\x22>'+(_0x45fc2f+0x1)+'.\x20'+_0x4037f7['stem']+_0x139c46(0x1fe);_0x4037f7[_0x139c46(0xaa5)]&&(_0x5ca380+=_0x139c46(0x1c9)+_0x45fc2f+_0x139c46(0x7d5)+_0x4037f7[_0x139c46(0xaa5)]+'</div>');_0x5ca380+=_0x139c46(0x719)+_0x45fc2f+'\x22>'+_0x4037f7['correctResponse']+'</span></div>',_0x5ca380+=_0x139c46(0x8be)+_0x45fc2f+'\x22>'+_0x4037f7['explanation']+_0x139c46(0x5c1);break;case _0x139c46(0x15d):_0x5ca380+=_0x139c46(0x565)+_0x45fc2f+'\x22>'+(_0x45fc2f+0x1)+'.\x20'+_0x4037f7[_0x139c46(0x81a)]+_0x139c46(0x1fe);_0x4037f7['imageCode']&&(_0x5ca380+=_0x139c46(0x1c9)+_0x45fc2f+_0x139c46(0x7d5)+_0x4037f7[_0x139c46(0xaa5)]+'</div>');_0x5ca380+=_0x139c46(0x762)+_0x45fc2f+'\x22>'+_0x4037f7[_0x139c46(0x645)]+_0x139c46(0x5c1),_0x5ca380+=_0x139c46(0x8be)+_0x45fc2f+'\x22>'+_0x4037f7[_0x139c46(0x339)]+_0x139c46(0x5c1);break;case'true_false':_0x5ca380+=_0x139c46(0x565)+_0x45fc2f+'\x22>'+(_0x45fc2f+0x1)+'.\x20'+_0x4037f7['questionText']+'</p>';_0x4037f7[_0x139c46(0xaa5)]&&(_0x5ca380+='<div\x20id=\x22q-image-container-'+_0x45fc2f+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4037f7['imageCode']+_0x139c46(0x601));_0x5ca380+=_0x139c46(0x448)+(_0x4037f7[_0x139c46(0x26f)]===!![]?'text-green-600\x20font-bold':'')+_0x139c46(0x6b5)+(_0x4037f7[_0x139c46(0x26f)]===![]?_0x139c46(0x9ee):'')+_0x139c46(0x409),_0x5ca380+=_0x139c46(0x8be)+_0x45fc2f+'\x22>'+_0x4037f7['explanation']+_0x139c46(0x5c1);break;case'fill_in_the_blank':case _0x139c46(0x622):default:_0x5ca380+=_0x139c46(0x565)+_0x45fc2f+'\x22>'+(_0x45fc2f+0x1)+'.\x20'+_0x4037f7[_0x139c46(0x81a)]+_0x139c46(0x1fe);_0x4037f7['imageCode']&&(_0x5ca380+=_0x139c46(0x1c9)+_0x45fc2f+_0x139c46(0x7d5)+_0x4037f7[_0x139c46(0xaa5)]+'</div>');_0x5ca380+=_0x139c46(0xab9)+_0x45fc2f+_0x139c46(0x76a)+_0x4037f7[_0x139c46(0xaee)][_0x139c46(0x743)]((_0x2bbf19,_0x12339c)=>'<li\x20class=\x22'+(_0x12339c===_0x4037f7[_0x139c46(0x74e)]?_0x139c46(0x9ee):'')+'\x22>'+_0x2bbf19+'</li>')[_0x139c46(0xaad)]('')+_0x139c46(0x1d7),_0x5ca380+=_0x139c46(0x8be)+_0x45fc2f+'\x22>'+_0x4037f7[_0x139c46(0x339)]+_0x139c46(0x5c1);break;}_0x5ca380+=_0x139c46(0x601);}),_0x5ca380+=_0x247a69(0x326),_0x4b6d19[_0x247a69(0x1bb)]=_0x5ca380,document[_0x247a69(0x591)](_0x247a69(0x5db))[_0x247a69(0x232)](_0x5038cc=>_0x5038cc[_0x247a69(0x908)](_0x247a69(0x405),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x247a69(0x232)](_0x1accc4=>_0x1accc4[_0x247a69(0x908)](_0x247a69(0x405),handleRegenerateQuestion)),document[_0x247a69(0x274)]('export-worksheet-pdf-btn')[_0x247a69(0x908)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x247a69(0xa5d))[_0x247a69(0x908)](_0x247a69(0x405),saveQuiz),document['getElementById'](_0x247a69(0xa77))[_0x247a69(0x908)](_0x247a69(0x405),handleVerifyAnswers);if(window['MathJax'])window[_0x247a69(0x13c)][_0x247a69(0x4db)]([_0x4b6d19]);}function handleRegenerateQuestion(_0x1d4a35){const _0xfbe1dd=_0x3f08ea,_0x2aecf2=_0x1d4a35[_0xfbe1dd(0x42c)]['dataset'][_0xfbe1dd(0x7ee)],_0x521f0e=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x2aecf2)+0x1)+_0xfbe1dd(0x180)),generateQuiz(_0x521f0e,null,parseInt(_0x2aecf2));}function getPointerPosition(_0x3eacd8,_0x183037){const _0x49f575=_0x3f08ea,_0x1fbac1=_0x3eacd8['getScreenCTM']();let _0x3fc7fe,_0x464e0d;return _0x183037[_0x49f575(0x6b3)]&&_0x183037[_0x49f575(0x6b3)][_0x49f575(0x31f)]>0x0?(_0x3fc7fe=_0x183037[_0x49f575(0x6b3)][0x0][_0x49f575(0x367)],_0x464e0d=_0x183037[_0x49f575(0x6b3)][0x0][_0x49f575(0xab0)]):(_0x3fc7fe=_0x183037[_0x49f575(0x367)],_0x464e0d=_0x183037[_0x49f575(0xab0)]),{'x':(_0x3fc7fe-_0x1fbac1['e'])/_0x1fbac1['a'],'y':(_0x464e0d-_0x1fbac1['f'])/_0x1fbac1['d']};}function startDrag(_0x51ab11){const _0x31a00a=_0x3f08ea;_0x51ab11[_0x31a00a(0x7ba)]===_0x31a00a(0xae7)&&_0x51ab11[_0x31a00a(0x18f)]();const _0x7f56a=_0x51ab11[_0x31a00a(0x1e0)][_0x31a00a(0x7b9)](_0x31a00a(0x91c));if(_0x7f56a){draggedSvgElement=_0x7f56a;const _0x2d6f7a=draggedSvgElement['ownerSVGElement'],_0x5af43c=getPointerPosition(_0x2d6f7a,_0x51ab11);svgOffset['x']=_0x5af43c['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x5af43c['y']-parseFloat(draggedSvgElement[_0x31a00a(0xadf)](null,'y'));}}function calculateItemAnalysis(_0x313933,_0x2105a8){const _0x27aec9=_0x3f08ea,_0x2cd4f5={};if(_0x2105a8[_0x27aec9(0x31f)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x21ef8f=[..._0x2105a8][_0x27aec9(0x34f)]((_0x1e12db,_0x4eddae)=>{const _0x5190b2=_0x27aec9,_0x1d14c9=_0x4eddae[_0x5190b2(0x824)]-_0x1e12db[_0x5190b2(0x824)];if(_0x1d14c9!==0x0)return _0x1d14c9;const _0x5ee147=_0x1e12db[_0x5190b2(0x4ee)]?.[_0x5190b2(0x31f)]||0x1,_0x36a47e=_0x4eddae[_0x5190b2(0x4ee)]?.[_0x5190b2(0x31f)]||0x1,_0xee4583=_0x5ee147-_0x36a47e;if(_0xee4583!==0x0)return _0xee4583;const _0xe1495b=new Date(_0x1e12db[_0x5190b2(0x186)]),_0x21b7e7=new Date(_0x4eddae[_0x5190b2(0x186)]),_0x532178=_0xe1495b-_0x21b7e7;if(_0x532178!==0x0)return _0x532178;return _0x1e12db['studentName'][_0x5190b2(0x392)](_0x4eddae[_0x5190b2(0xa53)],'th');}),_0x273ab8=_0x21ef8f[_0x27aec9(0x31f)],_0x53b915=Math['max'](0x1,Math[_0x27aec9(0x5fa)](_0x273ab8*0.33));if(_0x53b915===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xcbc8a5=_0x21ef8f[_0x27aec9(0x625)](0x0,_0x53b915),_0x372b05=_0x21ef8f[_0x27aec9(0x625)](-_0x53b915),_0x16dd02=_0xcbc8a5[_0x27aec9(0x743)](_0x4af53b=>_0x4af53b[_0x27aec9(0xa53)]),_0x3a1da9=_0x372b05[_0x27aec9(0x743)](_0x491784=>_0x491784[_0x27aec9(0xa53)]);return _0x313933[_0x27aec9(0x2bb)][_0x27aec9(0x232)]((_0x4cd106,_0x8e77d)=>{const _0x440527=_0x27aec9,_0x54a2f5=_0x4cd106[_0x440527(0x353)]||_0x4cd106[_0x440527(0x81a)];let _0x2179fd=0x0,_0x1e21f6=0x0,_0x281ec6=0x0;const _0x265577=[],_0x35912e=[];_0xcbc8a5['forEach'](_0xedd31a=>{const _0x53ecd9=_0x440527,_0x4a1c52=_0xedd31a['attempts'][_0xedd31a[_0x53ecd9(0x4ee)][_0x53ecd9(0x31f)]-0x1],_0x13b38e=_0x4a1c52[_0x53ecd9(0x711)]['find'](_0x122c15=>_0x122c15[_0x53ecd9(0x6d5)]===_0x54a2f5);_0x265577[_0x53ecd9(0xa97)]({'name':_0xedd31a['studentName'],'isCorrect':_0x13b38e?_0x13b38e[_0x53ecd9(0x3b7)]:![]}),_0x13b38e&&_0x13b38e[_0x53ecd9(0x3b7)]&&_0x1e21f6++;}),_0x372b05[_0x440527(0x232)](_0x225de5=>{const _0x4f1318=_0x440527,_0x85fb12=_0x225de5[_0x4f1318(0x4ee)][_0x225de5[_0x4f1318(0x4ee)][_0x4f1318(0x31f)]-0x1],_0x547700=_0x85fb12[_0x4f1318(0x711)][_0x4f1318(0x270)](_0x5861f3=>_0x5861f3[_0x4f1318(0x6d5)]===_0x54a2f5);_0x35912e[_0x4f1318(0xa97)]({'name':_0x225de5[_0x4f1318(0xa53)],'isCorrect':_0x547700?_0x547700[_0x4f1318(0x3b7)]:![]}),_0x547700&&_0x547700[_0x4f1318(0x3b7)]&&_0x281ec6++;}),_0x2105a8['forEach'](_0x46bf9c=>{const _0x649fd4=_0x440527,_0x439c48=_0x46bf9c['attempts'][_0x46bf9c['attempts']['length']-0x1],_0x42e4a8=_0x439c48[_0x649fd4(0x711)][_0x649fd4(0x270)](_0x4ba678=>_0x4ba678[_0x649fd4(0x6d5)]===_0x54a2f5);_0x42e4a8&&_0x42e4a8[_0x649fd4(0x3b7)]&&_0x2179fd++;});const _0x5d8778=_0x273ab8>0x0?_0x2179fd/_0x273ab8:0x0,_0x112f82=_0x53b915>0x0?_0x1e21f6/_0x53b915-_0x281ec6/_0x53b915:0x0;_0x2cd4f5[_0x8e77d]={'p':_0x5d8778,'r':_0x112f82,'upperGroupResponders':_0x265577,'lowerGroupResponders':_0x35912e};}),{'perQuestionStats':_0x2cd4f5,'overallGroups':{'upperGroupNames':_0x16dd02,'lowerGroupNames':_0x3a1da9}};}function drag(_0x55d24b){const _0x551681=_0x3f08ea;if(draggedSvgElement){_0x55d24b[_0x551681(0x18f)]();const _0x30769c=draggedSvgElement['ownerSVGElement'],_0x16d147=getPointerPosition(_0x30769c,_0x55d24b),_0x9c824c=_0x30769c[_0x551681(0x946)][_0x551681(0x53d)];let _0x2ee80c=_0x16d147['x']-svgOffset['x'],_0x1d72cb=_0x16d147['y']-svgOffset['y'];const _0x4af3a5=draggedSvgElement[_0x551681(0x5d4)]();_0x2ee80c=Math['max'](_0x9c824c['x'],Math[_0x551681(0x175)](_0x2ee80c,_0x9c824c['x']+_0x9c824c[_0x551681(0x8f9)]-_0x4af3a5[_0x551681(0x8f9)])),_0x1d72cb=Math[_0x551681(0x1f0)](_0x9c824c['y'],Math[_0x551681(0x175)](_0x1d72cb,_0x9c824c['y']+_0x9c824c[_0x551681(0x67c)]-_0x4af3a5[_0x551681(0x67c)])),draggedSvgElement[_0x551681(0x5e6)](null,'x',_0x2ee80c),draggedSvgElement[_0x551681(0x5e6)](null,'y',_0x1d72cb);}}function endDrag(_0x1555e1){draggedSvgElement=null;}function handleSvgEditClick(_0x151a60){const _0x23fc4a=_0x3f08ea;if(_0x151a60[_0x23fc4a(0x1e0)][_0x23fc4a(0x67e)][_0x23fc4a(0x88b)](_0x23fc4a(0x412))){const _0x2de89a=_0x151a60['target'][_0x23fc4a(0x145)]['targetId'],_0x10dc1f=_0x151a60['currentTarget'],_0x286798=_0x10dc1f[_0x23fc4a(0x497)]('#'+_0x2de89a);_0x286798&&_0x286798[_0x23fc4a(0xaa2)](),_0x151a60[_0x23fc4a(0x1e0)]['remove']();}}function handleEditQuestion(_0x25f7c2){const _0x2fa762=_0x3f08ea,_0x4ffe47=_0x25f7c2[_0x2fa762(0x42c)],_0x337829=_0x4ffe47[_0x2fa762(0x145)][_0x2fa762(0x7ee)],_0xdbd117=currentQuizData[_0x2fa762(0x2bb)][_0x337829],_0x5a533e=document['getElementById'](_0x2fa762(0x95b)+_0x337829),_0x516441=document['getElementById']('q-explanation-'+_0x337829),_0x53b4db=document[_0x2fa762(0x274)](_0x2fa762(0x581)+_0x337829);if(_0x4ffe47['innerHTML']['includes']('fa-pen')){_0x4ffe47[_0x2fa762(0x1bb)]=_0x2fa762(0xa24),_0x4ffe47[_0x2fa762(0xae6)]=_0x2fa762(0x50c);if(_0x5a533e)_0x5a533e[_0x2fa762(0x6e5)]=!![];if(_0x516441)_0x516441['contentEditable']=!![];if(_0x53b4db){const _0x5e38bb=_0x53b4db[_0x2fa762(0x497)](_0x2fa762(0x61f));if(_0x5e38bb){const _0x10aaab=_0x5e38bb[_0x2fa762(0x591)](_0x2fa762(0x8bd));_0x10aaab[_0x2fa762(0x232)]((_0x412df1,_0x18143e)=>{const _0x3d3382=_0x2fa762,_0x14bafc=_0x3d3382(0x455)+_0x337829+'-'+_0x18143e;_0x412df1['id']=_0x14bafc,_0x412df1['classList']['add'](_0x3d3382(0x2be)),_0x412df1[_0x3d3382(0x55d)][_0x3d3382(0x5fd)]='move';const _0x220fef=document[_0x3d3382(0x502)](_0x3d3382(0x368),_0x3d3382(0x72f)),_0x10239e=_0x412df1[_0x3d3382(0x5d4)]();_0x220fef[_0x3d3382(0x1f5)]('cx',String(_0x10239e['x']+_0x10239e[_0x3d3382(0x8f9)]+0x5)),_0x220fef[_0x3d3382(0x1f5)]('cy',String(_0x10239e['y']+_0x10239e[_0x3d3382(0x67c)]/0x2-0x5)),_0x220fef[_0x3d3382(0x1f5)]('r','5'),_0x220fef[_0x3d3382(0x1f5)]('fill',_0x3d3382(0x2f5)),_0x220fef[_0x3d3382(0x1f5)](_0x3d3382(0x8d1),_0x3d3382(0x412)),_0x220fef[_0x3d3382(0x145)]['targetId']=_0x14bafc,_0x412df1[_0x3d3382(0x9c5)](_0x220fef);}),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x41a),startDrag),_0x5e38bb[_0x2fa762(0x908)]('mousemove',drag),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x56d),endDrag),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x560),endDrag),_0x5e38bb[_0x2fa762(0x908)]('touchstart',startDrag,{'passive':![]}),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x427),drag,{'passive':![]}),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x3f9),endDrag),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x8c9),endDrag),_0x5e38bb[_0x2fa762(0x908)](_0x2fa762(0x405),handleSvgEditClick);}}if(_0x5a533e)_0x5a533e['focus']();}else{_0x4ffe47[_0x2fa762(0x1bb)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4ffe47[_0x2fa762(0xae6)]=_0x2fa762(0x277);if(_0x5a533e){_0x5a533e['contentEditable']=![];const _0x2f9683=_0xdbd117[_0x2fa762(0x4f4)]||currentQuizData[_0x2fa762(0x641)];_0x2f9683===_0x2fa762(0x466)?_0xdbd117[_0x2fa762(0x353)]=_0x5a533e[_0x2fa762(0x1d5)][_0x2fa762(0xa6c)](_0x5a533e[_0x2fa762(0x1d5)][_0x2fa762(0x6bf)]('.')+0x2)[_0x2fa762(0x5d8)]():_0xdbd117[_0x2fa762(0x81a)]=_0x5a533e[_0x2fa762(0x1d5)][_0x2fa762(0xa6c)](_0x5a533e[_0x2fa762(0x1d5)][_0x2fa762(0x6bf)]('.')+0x2)[_0x2fa762(0x5d8)]();}_0x516441&&(_0x516441[_0x2fa762(0x6e5)]=![],_0xdbd117[_0x2fa762(0x339)]=_0x516441['innerText']);if(_0x53b4db){const _0x587d22=_0x53b4db[_0x2fa762(0x497)]('svg');if(_0x587d22){const _0xa70552=_0x587d22['cloneNode'](!![]);_0xa70552[_0x2fa762(0x591)](_0x2fa762(0x6a7))[_0x2fa762(0x232)](_0x1f378f=>_0x1f378f[_0x2fa762(0xaa2)]()),_0xa70552[_0x2fa762(0x591)](_0x2fa762(0x91c))[_0x2fa762(0x232)](_0x10a534=>{const _0x106e2d=_0x2fa762;_0x10a534[_0x106e2d(0x67e)]['remove']('draggable-text'),_0x10a534['style'][_0x106e2d(0x5fd)]='default',_0x10a534[_0x106e2d(0x278)]('id');}),_0xdbd117[_0x2fa762(0xaa5)]=_0xa70552[_0x2fa762(0x8df)],_0x587d22[_0x2fa762(0x400)](_0x2fa762(0x41a),startDrag),_0x587d22['removeEventListener']('mousemove',drag),_0x587d22[_0x2fa762(0x400)](_0x2fa762(0x56d),endDrag),_0x587d22[_0x2fa762(0x400)](_0x2fa762(0x560),endDrag),_0x587d22[_0x2fa762(0x400)](_0x2fa762(0xae7),startDrag),_0x587d22[_0x2fa762(0x400)](_0x2fa762(0x427),drag),_0x587d22[_0x2fa762(0x400)]('touchend',endDrag),_0x587d22[_0x2fa762(0x400)](_0x2fa762(0x8c9),endDrag),_0x587d22[_0x2fa762(0x400)]('click',handleSvgEditClick),_0x587d22[_0x2fa762(0x591)](_0x2fa762(0x6a7))[_0x2fa762(0x232)](_0x4cc119=>_0x4cc119[_0x2fa762(0xaa2)]()),_0x587d22[_0x2fa762(0x591)](_0x2fa762(0x91c))[_0x2fa762(0x232)](_0x5cab7b=>{const _0x5f317b=_0x2fa762;_0x5cab7b[_0x5f317b(0x67e)][_0x5f317b(0xaa2)]('draggable-text'),_0x5cab7b['style'][_0x5f317b(0x5fd)]=_0x5f317b(0x83e);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3d4163){const _0x413c97=_0x3f08ea,_0x5dd1d4=document[_0x413c97(0x274)](_0x413c97(0x987)),_0x3aeaed=document[_0x413c97(0x274)](_0x413c97(0x20f));_0x3aeaed['innerHTML']=_0x413c97(0x851),_0x5dd1d4[_0x413c97(0x67e)]['remove'](_0x413c97(0x66d));try{const _0x5952a9=doc(db,_0x413c97(0x439)+appId+'/public/data/quizzes',_0x3d4163),_0x311c68=await getDoc(_0x5952a9);if(!_0x311c68['exists']())throw new Error(_0x413c97(0x839));currentEditingQuizData={'id':_0x3d4163,..._0x311c68['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x5495e4){console[_0x413c97(0x183)](_0x413c97(0x50f),_0x5495e4),showMessage(_0x413c97(0x1f9)),_0x5dd1d4[_0x413c97(0x67e)][_0x413c97(0x677)](_0x413c97(0x66d));}}function renderQuizEditor(_0x218bcd){const _0x1499fd=_0x3f08ea;document[_0x1499fd(0x274)](_0x1499fd(0x65d))[_0x1499fd(0x303)]=_0x218bcd[_0x1499fd(0x994)];const _0x4fc10d=document['getElementById'](_0x1499fd(0x20f));let _0x230c0e=_0x218bcd[_0x1499fd(0x2bb)]['map']((_0x490660,_0x3521a6)=>{const _0x5ea2dc=_0x1499fd;let _0x1a9bdf='';const _0x3a4a22=_0x490660[_0x5ea2dc(0x4f4)]||_0x218bcd[_0x5ea2dc(0x641)];switch(_0x3a4a22){case'multiple_choice':const _0x44e517=(_0x490660[_0x5ea2dc(0xaee)]||[])[_0x5ea2dc(0x743)]((_0x16ae0e,_0x216078)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3521a6+_0x5ea2dc(0x6fc)+_0x216078+'\x22\x20'+(_0x216078===_0x490660[_0x5ea2dc(0x74e)]?_0x5ea2dc(0x835):'')+_0x5ea2dc(0x922)+_0x16ae0e+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5ea2dc(0xaad)]('');_0x1a9bdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x44e517+_0x5ea2dc(0x341);break;case _0x5ea2dc(0x15d):_0x1a9bdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x490660[_0x5ea2dc(0x645)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x1a9bdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3521a6+_0x5ea2dc(0x4a4)+(_0x490660[_0x5ea2dc(0x26f)]===!![]?_0x5ea2dc(0x835):'')+_0x5ea2dc(0x7e3)+_0x3521a6+_0x5ea2dc(0x5e3)+(_0x490660['correctAnswer']===![]?_0x5ea2dc(0x835):'')+_0x5ea2dc(0x3ee);break;case _0x5ea2dc(0x466):_0x1a9bdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x490660['correctResponse']||'')+_0x5ea2dc(0x146);break;}const _0x2c73ec=_0x490660[_0x5ea2dc(0x81a)]||_0x490660[_0x5ea2dc(0x353)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x3521a6+_0x5ea2dc(0x305)+_0x3a4a22+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x3521a6+0x1)+'\x20('+_0x3a4a22+_0x5ea2dc(0xa6b)+_0x2c73ec+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x1a9bdf+_0x5ea2dc(0x482);})[_0x1499fd(0xaad)]('');_0x4fc10d['innerHTML']=_0x230c0e,_0x4fc10d[_0x1499fd(0x591)](_0x1499fd(0x1ea))[_0x1499fd(0x232)](_0x5b2f3a=>{_0x5b2f3a['addEventListener']('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x468aa4){const _0x365814=_0x3f08ea,_0x2bfcbb=_0x468aa4[_0x365814(0x42c)],_0x3da5d4=_0x2bfcbb['closest'](_0x365814(0x98d));if(!_0x3da5d4)return;const _0x549586=parseInt(_0x3da5d4[_0x365814(0x145)][_0x365814(0x423)],0xa);if(isNaN(_0x549586)||!currentEditingQuizData[_0x365814(0x2bb)][_0x549586]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x3194f4=currentEditingQuizData[_0x365814(0x2bb)][_0x549586];_0x2bfcbb['innerHTML']=_0x365814(0x534),_0x2bfcbb['disabled']=!![];const _0x489d2d=_0x365814(0x668)+JSON[_0x365814(0x65e)](_0x3194f4)+_0x365814(0x906);let _0x1ee7c5;const _0x1ec070=_0x3194f4[_0x365814(0x4f4)]||currentEditingQuizData['quizType'];switch(_0x1ec070){case _0x365814(0x15d):_0x1ee7c5={'type':'OBJECT','properties':{'questionText':{'type':_0x365814(0x2a3)},'idealAnswer':{'type':_0x365814(0x2a3)},'explanation':{'type':_0x365814(0x2a3)},'imageCode':{'type':_0x365814(0x2a3)}},'required':[_0x365814(0x81a),_0x365814(0x645),_0x365814(0x339)]};break;case _0x365814(0x622):default:_0x1ee7c5={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x365814(0x1cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x365814(0x2a3)}},'required':[_0x365814(0x81a),_0x365814(0xaee),_0x365814(0x74e),_0x365814(0x339)]};break;}try{let _0x3771fb=await callAnalysisApi(_0x489d2d,_0x1ee7c5);_0x3771fb[_0x365814(0xaee)]&&Array[_0x365814(0x55a)](_0x3771fb[_0x365814(0xaee)])&&(_0x3771fb[_0x365814(0xaee)]=_0x3771fb['options'][_0x365814(0x743)](_0x43ff4f=>typeof _0x43ff4f===_0x365814(0x3c4)?_0x43ff4f['replace'](/S(\s*[\d_]+?\s*)S/g,_0x365814(0x5b8)):_0x43ff4f)),_0x3194f4[_0x365814(0xaa5)]&&_0x3194f4[_0x365814(0xaa5)][_0x365814(0x634)](_0x365814(0x257))&&(_0x3771fb['imageCode']=''),currentEditingQuizData[_0x365814(0x2bb)][_0x549586]={..._0x3194f4,..._0x3771fb},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x1f07ff){console[_0x365814(0x183)]('AI\x20Fix\x20Error:',_0x1f07ff),showMessage(_0x365814(0x311)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x2b1172=_0x3f08ea,_0x11fc75=document[_0x2b1172(0x274)](_0x2b1172(0x36a));_0x11fc75['disabled']=!![],_0x11fc75[_0x2b1172(0x1bb)]=_0x2b1172(0x3d2);try{const _0x3f851e=document[_0x2b1172(0x274)]('editor-quiz-topic')[_0x2b1172(0x303)],_0x3cba3e=document[_0x2b1172(0x591)]('.question-editor-item');let _0x405d89=[];const _0x4e9b13=Array[_0x2b1172(0x5bc)](_0x3cba3e)[_0x2b1172(0x743)]((_0x5a62f9,_0x58b9f1)=>{const _0x1248b5=_0x2b1172,_0x7c276d=_0x5a62f9[_0x1248b5(0x145)][_0x1248b5(0x8e8)],_0xd4cf68=_0x5a62f9['querySelector'](_0x1248b5(0x153))[_0x1248b5(0x303)][_0x1248b5(0x5ac)](/\n/g,_0x1248b5(0x754));let _0x477fb1={'questionType':_0x7c276d};const _0x48a31e=currentEditingQuizData[_0x1248b5(0x2bb)][_0x58b9f1];switch(_0x7c276d){case _0x1248b5(0x622):_0x477fb1['questionText']=_0xd4cf68;const _0x44846d=_0x5a62f9[_0x1248b5(0x591)](_0x1248b5(0x6d7));_0x477fb1['options']=Array[_0x1248b5(0x5bc)](_0x44846d)['map'](_0x3575b4=>_0x3575b4[_0x1248b5(0x303)]);const _0x1f3703=_0x5a62f9[_0x1248b5(0x497)]('input[type=\x22radio\x22]:checked');_0x477fb1[_0x1248b5(0x74e)]=_0x1f3703?parseInt(_0x1f3703[_0x1248b5(0x303)]):0x0;break;case _0x1248b5(0x15d):_0x477fb1[_0x1248b5(0x81a)]=_0xd4cf68,_0x477fb1[_0x1248b5(0x645)]=_0x5a62f9['querySelector'](_0x1248b5(0xa56))['value'];break;case _0x1248b5(0x8bf):_0x477fb1['questionText']=_0xd4cf68;const _0x35240e=_0x5a62f9[_0x1248b5(0x497)]('input[type=\x22radio\x22]:checked');_0x477fb1[_0x1248b5(0x26f)]=_0x35240e?_0x35240e[_0x1248b5(0x303)]===_0x1248b5(0x3e7):!![];break;case _0x1248b5(0x466):_0x477fb1[_0x1248b5(0x353)]=_0xd4cf68;const _0x244db5=_0x5a62f9[_0x1248b5(0x497)](_0x1248b5(0xaf1));_0x477fb1['correctResponse']=_0x244db5?_0x244db5[_0x1248b5(0x303)]:'',_0x405d89['push'](_0x477fb1[_0x1248b5(0x984)]);break;default:_0x477fb1['questionText']=_0xd4cf68;break;}return{..._0x48a31e,..._0x477fb1};});_0x405d89[_0x2b1172(0x31f)]>0x0&&_0x4e9b13['forEach'](_0x13183e=>{const _0x480146=_0x2b1172;_0x13183e[_0x480146(0x4f4)]===_0x480146(0x466)&&(_0x13183e[_0x480146(0x378)]=_0x405d89);});const _0x160e48=currentEditingQuizData['id'],_0x1bf918=doc(db,_0x2b1172(0x439)+appId+'/public/data/quizzes',_0x160e48);await updateDoc(_0x1bf918,{'topic':_0x3f851e,'questions':_0x4e9b13}),document['getElementById']('quiz-editor-modal')['classList']['add'](_0x2b1172(0x66d)),showMessage(_0x2b1172(0x6f0),()=>initiateReGradeProcess(_0x160e48));}catch(_0x30c23e){console[_0x2b1172(0x183)](_0x2b1172(0xa9d),_0x30c23e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x11fc75[_0x2b1172(0x5a2)]=![],_0x11fc75[_0x2b1172(0x1bb)]=_0x2b1172(0x3fd);}}async function initiateReGradeProcess(_0x1a1b0f){const _0xd10d7a=_0x3f08ea;showMessage(_0xd10d7a(0x390));try{const _0x3b48bd=doc(db,'artifacts/'+appId+_0xd10d7a(0x5e9),_0x1a1b0f),_0x552559=await getDoc(_0x3b48bd);if(!_0x552559['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x459b84={'id':_0x1a1b0f,..._0x552559[_0xd10d7a(0x612)]()},_0x26f644=collection(db,'artifacts/'+appId+_0xd10d7a(0x5e9),_0x1a1b0f,_0xd10d7a(0x4ff)),_0x132565=await getDocs(_0x26f644);if(_0x132565['empty']){showMessage(_0xd10d7a(0xae3));return;}const _0x238952=_0x132565[_0xd10d7a(0x971)][_0xd10d7a(0x743)](_0x31154a=>reGradeSingleSubmission(_0x31154a,_0x459b84));await Promise[_0xd10d7a(0xa59)](_0x238952);if(_0x459b84[_0xd10d7a(0x6ec)]){const _0x41233e=doc(db,_0xd10d7a(0x439)+appId+_0xd10d7a(0x6ad),_0x459b84[_0xd10d7a(0x6ec)]),_0x12941f=await getDoc(_0x41233e);if(_0x12941f[_0xd10d7a(0x905)]()&&_0x12941f[_0xd10d7a(0x612)]()[_0xd10d7a(0x88f)]){const _0x2a02a9=_0x12941f['data']()[_0xd10d7a(0x88f)][_0xd10d7a(0x743)](_0x4a3f86=>updateStudentProfile(_0x459b84['projectId'],_0x4a3f86));await Promise[_0xd10d7a(0xa59)](_0x2a02a9);}}showMessage(_0xd10d7a(0x923)+_0x132565['size']+_0xd10d7a(0x785));}catch(_0x2db54c){console['error']('Re-grade\x20process\x20failed:',_0x2db54c),showMessage(_0xd10d7a(0x830)+_0x2db54c[_0xd10d7a(0x75c)]);}}async function reGradeSingleSubmission(_0x1905da,_0x5c613a){const _0x50e298=_0x3f08ea,_0x5ef5cc=_0x1905da[_0x50e298(0x612)](),_0x22b011=_0x5ef5cc[_0x50e298(0xa53)],_0x870b3e=_0x5ef5cc[_0x50e298(0x4ee)]||[],_0x5389e7=[];for(const _0x1fa94f of _0x870b3e){let _0x19e6e6=0x0,_0x2df866=[],_0x4c7e5a=0x0;const _0x5226e9=[];for(const _0x4d9ab2 of _0x1fa94f[_0x50e298(0x711)]){let _0x2040ce;_0x4d9ab2[_0x50e298(0x21f)]&&(_0x2040ce=_0x5c613a[_0x50e298(0x2bb)][_0x50e298(0x270)](_0x331545=>_0x331545['id']===_0x4d9ab2[_0x50e298(0x21f)]));!_0x2040ce&&_0x4d9ab2[_0x50e298(0x6d5)]&&(_0x2040ce=_0x5c613a[_0x50e298(0x2bb)][_0x50e298(0x270)](_0x51bf42=>(_0x51bf42[_0x50e298(0x353)]||_0x51bf42[_0x50e298(0x81a)])===_0x4d9ab2[_0x50e298(0x6d5)]));let _0x50cd6d=![];if(_0x2040ce){const _0x153f3c=_0x2040ce[_0x50e298(0x4f4)]||_0x5c613a[_0x50e298(0x641)];switch(_0x153f3c){case _0x50e298(0x622):if(_0x2040ce['options']&&_0x2040ce[_0x50e298(0x74e)]<_0x2040ce[_0x50e298(0xaee)][_0x50e298(0x31f)]){const _0x5db8d2=_0x2040ce[_0x50e298(0xaee)][_0x2040ce[_0x50e298(0x74e)]];_0x50cd6d=_0x4d9ab2[_0x50e298(0x95d)]===_0x5db8d2;}break;case'true_false':const _0x4fe4ed=_0x4d9ab2['answer']===!![]||_0x4d9ab2[_0x50e298(0x505)]==='true';_0x50cd6d=_0x4fe4ed===_0x2040ce[_0x50e298(0x26f)];break;case'matching_item':_0x50cd6d=_0x4d9ab2[_0x50e298(0x505)]===_0x2040ce['correctResponse'];break;case _0x50e298(0x15d):_0x50cd6d=await gradeShortAnswer(_0x4d9ab2[_0x50e298(0x505)],_0x2040ce);break;default:_0x50cd6d=_0x4d9ab2['isCorrect'];break;}}if(_0x50cd6d){_0x19e6e6++,_0x4c7e5a++;if(_0x4c7e5a===0x3)_0x2df866[_0x50e298(0xa97)](BADGES[_0x50e298(0x842)]['id']);}else _0x4c7e5a=0x0;_0x5226e9[_0x50e298(0xa97)]({..._0x4d9ab2,'isCorrect':_0x50cd6d});}let _0x3824ae=_0x19e6e6*0xa;_0x19e6e6===_0x5c613a[_0x50e298(0x2bb)][_0x50e298(0x31f)]&&(_0x3824ae+=0x32,_0x2df866['push'](BADGES['PERFECT_SCORE']['id'])),_0x5389e7['push']({..._0x1fa94f,'score':_0x19e6e6,'points':_0x3824ae,'badges':Array[_0x50e298(0x5bc)](new Set(_0x2df866)),'answers':_0x5226e9});}const _0xd2392a=_0x5389e7[_0x50e298(0x31f)]>0x0?_0x5389e7[0x0][_0x50e298(0x7b8)]:0x0,_0x2feab8=Math['max'](..._0x5389e7['map'](_0x24e3ae=>_0x24e3ae[_0x50e298(0x7b8)])),_0x430ecd=_0x5389e7['length']>0x0?_0x5389e7[_0x5389e7[_0x50e298(0x31f)]-0x1][_0x50e298(0x7b8)]:0x0,_0x4fc16b=_0x5389e7[_0x50e298(0x31f)]>0x0?_0x5389e7[_0x5389e7[_0x50e298(0x31f)]-0x1][_0x50e298(0x169)]:0x0,_0x554a74=doc(db,'artifacts/'+appId+_0x50e298(0x584)+_0x5c613a['id']+_0x50e298(0x9dd),_0x22b011);await updateDoc(_0x554a74,{'attempts':_0x5389e7,'firstScore':_0xd2392a,'bestScore':_0x2feab8,'latestScore':_0x430ecd,'points':_0x4fc16b});}function cleanupQuizOptions(_0x4af959){const _0x443ea6=_0x3f08ea,_0xda4905=(_0x4a3847,_0x4c3254)=>_0x4c3254===0x0?_0x4a3847:_0xda4905(_0x4c3254,_0x4a3847%_0x4c3254),_0x3bdb06=_0x501442=>{const _0x1d8a1b=_0x1cca;if(typeof _0x501442!=='string')return null;_0x501442=_0x501442[_0x1d8a1b(0x5d8)]();const _0x28156f=_0x501442['split'](/[ /]/)[_0x1d8a1b(0x30b)](_0x19ea86=>_0x19ea86!=='');if(_0x28156f[_0x1d8a1b(0x31f)]===0x3)return parseInt(_0x28156f[0x0])+parseInt(_0x28156f[0x1])/parseInt(_0x28156f[0x2]);else{if(_0x28156f[_0x1d8a1b(0x31f)]===0x2)return parseInt(_0x28156f[0x0])/parseInt(_0x28156f[0x1]);else{if(_0x28156f[_0x1d8a1b(0x31f)]===0x1&&!isNaN(_0x28156f[0x0]))return parseFloat(_0x28156f[0x0]);}}return null;},_0x562b42=_0x2ad191=>{const _0x4b99c8=_0x1cca;if(typeof _0x2ad191!==_0x4b99c8(0x3c4))return _0x2ad191;const _0x50b2e3=_0x2ad191[_0x4b99c8(0x4bc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x50b2e3){const _0x7628fc=parseInt(_0x50b2e3[0x1]);let _0x12ed67=parseInt(_0x50b2e3[0x2]),_0x31b86f=parseInt(_0x50b2e3[0x3]);const _0x98839b=_0xda4905(_0x12ed67,_0x31b86f);_0x12ed67/=_0x98839b,_0x31b86f/=_0x98839b;if(_0x31b86f===0x1)return(_0x7628fc+_0x12ed67)[_0x4b99c8(0x999)]();return _0x7628fc+'\x20'+_0x12ed67+'/'+_0x31b86f;}return _0x2ad191;};return _0x4af959&&_0x4af959[_0x443ea6(0x2bb)]&&_0x4af959[_0x443ea6(0x2bb)]['forEach'](_0x3e846a=>{const _0x10a652=_0x443ea6;if(_0x3e846a[_0x10a652(0x4f4)]===_0x10a652(0x622)&&_0x3e846a[_0x10a652(0xaee)]){const _0x26e0f4=new Map(),_0x540378=_0x3e846a[_0x10a652(0xaee)][_0x3e846a[_0x10a652(0x74e)]];_0x3e846a['options'][_0x10a652(0x232)](_0x3abb38=>{const _0x5ccc11=_0x10a652,_0x9c78a7=_0x562b42(_0x3abb38),_0xa9de1b=_0x3bdb06(_0x9c78a7);_0xa9de1b!==null&&!_0x26e0f4['has'](_0xa9de1b)&&_0x26e0f4[_0x5ccc11(0xa3b)](_0xa9de1b,_0x9c78a7);}),_0x3e846a['options']=Array['from'](_0x26e0f4[_0x10a652(0x237)]());const _0x56b2b9=_0x3e846a[_0x10a652(0xaee)][_0x10a652(0x324)](_0x501ff1=>_0x501ff1===_0x562b42(_0x540378));_0x3e846a[_0x10a652(0x74e)]=_0x56b2b9!==-0x1?_0x56b2b9:0x0;}}),_0x4af959;}function showGameStartConfirmationModal(_0x533cc3,_0x90a38b,_0x4a4bcf){const _0x479ef3=_0x3f08ea,_0x5adc85=document[_0x479ef3(0x274)](_0x479ef3(0x23f));document[_0x479ef3(0x274)]('game-start-modal-title')[_0x479ef3(0x7b7)]=_0x479ef3(0xa82)+_0x4a4bcf,document[_0x479ef3(0x274)](_0x479ef3(0x13d))[_0x479ef3(0x303)]=_0x533cc3,document['getElementById'](_0x479ef3(0x194))[_0x479ef3(0x303)]=_0x90a38b,document[_0x479ef3(0x274)](_0x479ef3(0x40a))['checked']=!![],_0x5adc85['classList'][_0x479ef3(0xaa2)](_0x479ef3(0x66d));}async function saveGameResultsAsSubmissions(_0x5da36e){const _0x511802=_0x3f08ea;console[_0x511802(0xa09)](_0x511802(0x4fa),_0x5da36e);const _0x57669d=_0x5da36e[_0x511802(0x628)];let _0x3e1a21=[];if(_0x5da36e[_0x511802(0x896)])_0x3e1a21=Object[_0x511802(0x282)](_0x5da36e[_0x511802(0x896)])[_0x511802(0x743)](([_0x3ad80c,_0x2b4015])=>({'name':_0x3ad80c,..._0x2b4015}));else{if(_0x5da36e[_0x511802(0x688)])Object[_0x511802(0x237)](_0x5da36e['groups'])[_0x511802(0x232)](_0x2d40de=>{const _0x495665=_0x511802;_0x2d40de[_0x495665(0xa16)]['forEach'](_0x205eff=>{const _0x1bc271=_0x495665;_0x3e1a21[_0x1bc271(0xa97)]({'name':_0x205eff,'score':_0x2d40de[_0x1bc271(0x7b8)]});});});else _0x5da36e[_0x511802(0x29b)]&&Object['entries'](_0x5da36e[_0x511802(0x29b)])[_0x511802(0x232)](([_0x3dc945,_0x3f0136])=>{const _0x5b7d84=_0x511802;_0x3e1a21[_0x5b7d84(0xa97)]({'name':_0x3dc945,..._0x3f0136});});}if(_0x3e1a21[_0x511802(0x31f)]===0x0){console[_0x511802(0xa09)](_0x511802(0x548));return;}const _0xc63d06=_0x5da36e['shuffledQuiz']?.[_0x511802(0x2bb)]['length']||currentQuizData['questions'][_0x511802(0x31f)],_0x142c33=writeBatch(db);for(const _0x2b06e5 of _0x3e1a21){const _0x56f6bd=_0x2b06e5[_0x511802(0x7b8)]||0x0,_0x2ac6ae=doc(db,_0x511802(0x439)+appId+_0x511802(0x584)+_0x57669d+'/submissions',_0x2b06e5[_0x511802(0x340)]),_0x4969af=(_0x2b06e5[_0x511802(0x711)]||[])[_0x511802(0x30b)](_0x38d279=>_0x38d279[_0x511802(0x3b7)])[_0x511802(0x31f)],_0x514ad3={'score':_0x4969af,'points':_0x56f6bd,'badges':_0x2b06e5[_0x511802(0xa90)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x2b06e5[_0x511802(0x711)]||[])[_0x511802(0x743)](_0x29c6e0=>({'questionId':_0x29c6e0[_0x511802(0x21f)],'answer':_0x29c6e0['answer'],'answerText':_0x29c6e0[_0x511802(0x95d)],'isCorrect':_0x29c6e0[_0x511802(0x3b7)],'originalQuestionText':_0x29c6e0['originalQuestionText'],'wasConfident':_0x29c6e0['wasConfident']}))},_0x48c265=await getDoc(_0x2ac6ae),_0x2e73d8=_0x48c265['exists']()?_0x48c265['data']():{},_0x1516d5=_0x2e73d8[_0x511802(0x245)]||0x0,_0x4546e3=_0x2e73d8[_0x511802(0x4ee)]||[],_0x53e573={'studentName':_0x2b06e5[_0x511802(0x340)],'totalQuestions':_0xc63d06,'attempts':arrayUnion(_0x514ad3),'latestScore':_0x4969af,'points':_0x56f6bd,'latestSubmittedAt':_0x514ad3[_0x511802(0xa42)],'bestScore':Math[_0x511802(0x1f0)](_0x1516d5,_0x4969af),'firstScore':_0x4546e3['length']===0x0?_0x4969af:_0x2e73d8[_0x511802(0x99b)]||0x0};_0x142c33[_0x511802(0xa3b)](_0x2ac6ae,_0x53e573,{'merge':!![]});}try{await _0x142c33[_0x511802(0x296)](),showMessage(_0x511802(0x41d)+_0x3e1a21[_0x511802(0x31f)]+_0x511802(0x260));const _0x28843a=_0x5da36e['shuffledQuiz']?.['projectId']||currentQuizData?.[_0x511802(0x6ec)]||currentProjectId;if(_0x28843a){const _0x3236d1=[...new Set(_0x3e1a21[_0x511802(0x743)](_0x570ec3=>_0x570ec3['name']))];for(const _0x172029 of _0x3236d1){await updateStudentProfile(_0x28843a,_0x172029);}}}catch(_0x5dd938){console[_0x511802(0x183)](_0x511802(0x8d8),_0x5dd938),showMessage(_0x511802(0x605));}}async function saveQuiz(){const _0x443078=_0x3f08ea;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x443078(0x2bb)]||!userId){showMessage(_0x443078(0x700));return;}const _0xc94003=document[_0x443078(0x274)](_0x443078(0xa5d));_0xc94003[_0x443078(0x5a2)]=!![],_0xc94003[_0x443078(0x1bb)]=_0x443078(0x3d2);const _0x11b58e=document['getElementById']('pre-test-checkbox')['checked'];let _0x200fe3=document[_0x443078(0x274)](_0x443078(0x338))[_0x443078(0x1d5)]['trim']();_0x11b58e&&!_0x200fe3[_0x443078(0x968)](_0x443078(0x4d0))&&(_0x200fe3=_0x443078(0x1fa)+_0x200fe3);try{const _0x8ab2a9={'resultsDisplay':document[_0x443078(0x274)](_0x443078(0x2b6))[_0x443078(0x303)],'shuffle':document[_0x443078(0x274)](_0x443078(0x6a9))[_0x443078(0x303)],'timerMode':document[_0x443078(0x274)](_0x443078(0x8ae))['value'],'timerDuration':parseInt(document[_0x443078(0x274)](_0x443078(0x42a))['value'])||0xa,'passingScore':parseInt(document[_0x443078(0x274)](_0x443078(0xa1c))[_0x443078(0x303)])||0x0,'isAdaptive':document[_0x443078(0x274)](_0x443078(0x5dc))[_0x443078(0x835)],'loopUntilPass':document[_0x443078(0x274)](_0x443078(0x909))[_0x443078(0x835)]},_0xeeafb7=(currentQuizData['questions']||[])[_0x443078(0x743)]((_0x47b500,_0x2578ff)=>{const _0x2e91ab=_0x443078,_0x9487c8=document['getElementById'](_0x2e91ab(0x4e0))[_0x2e91ab(0x303)],_0x352c0d={'id':'q_'+Date[_0x2e91ab(0x3f3)]()+'_'+_0x2578ff,'questionText':_0x47b500[_0x2e91ab(0x81a)]||'','explanation':_0x47b500['explanation']||_0x2e91ab(0x600),'questionType':_0x47b500['questionType']||_0x9487c8,'imageCode':_0x47b500['imageCode']||null};return(_0x352c0d[_0x2e91ab(0x4f4)]===_0x2e91ab(0x622)||_0x352c0d[_0x2e91ab(0x4f4)]==='fill_in_with_choices'||_0x352c0d[_0x2e91ab(0x4f4)]===_0x2e91ab(0x35d)&&_0x47b500[_0x2e91ab(0xaee)])&&(_0x352c0d[_0x2e91ab(0xaee)]=_0x47b500[_0x2e91ab(0xaee)]||[],_0x352c0d[_0x2e91ab(0x74e)]=_0x47b500[_0x2e91ab(0x74e)]!==undefined?_0x47b500[_0x2e91ab(0x74e)]:0x0),(_0x352c0d[_0x2e91ab(0x4f4)]===_0x2e91ab(0x15d)||_0x352c0d[_0x2e91ab(0x4f4)]===_0x2e91ab(0x66c)||_0x352c0d[_0x2e91ab(0x4f4)]==='mixed'&&_0x47b500[_0x2e91ab(0x645)])&&(_0x352c0d['idealAnswer']=_0x47b500['idealAnswer']||''),_0x352c0d[_0x2e91ab(0x4f4)]==='true_false'&&(_0x352c0d[_0x2e91ab(0x26f)]=_0x47b500[_0x2e91ab(0x26f)]===!![]),_0x352c0d['questionType']===_0x2e91ab(0x466)&&(_0x352c0d['stem']=_0x47b500[_0x2e91ab(0x353)]||'',_0x352c0d[_0x2e91ab(0x984)]=_0x47b500['correctResponse']||'',_0x352c0d['allResponses']=_0x47b500['allResponses']||[]),_0x352c0d;}),_0x59da3a={'topic':_0x200fe3,'quizType':currentQuizData[_0x443078(0x641)]||_0x443078(0x622),'questions':_0xeeafb7,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x443078(0x481)](),'status':_0x443078(0x415),'settings':_0x8ab2a9,'quizMode':_0x11b58e?'pre-test':_0x443078(0x5be),'pairedQuizId':null,'lessonPlan':null};let _0x28adeb;while(!![]){_0x28adeb=Math[_0x443078(0x5fa)](0x3e8+Math[_0x443078(0x643)]()*0x2328)[_0x443078(0x999)]();const _0x597060=await getDoc(doc(db,_0x443078(0x439)+appId+'/public/data/quizzes',_0x28adeb));if(!_0x597060[_0x443078(0x905)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x443078(0x5e9),_0x28adeb),_0x59da3a),currentQuizData[_0x443078(0x921)]=_0x8ab2a9,currentQuizData['id']=_0x28adeb;const _0x3c2677=document[_0x443078(0x274)](_0x443078(0x9c8));_0x3c2677[_0x443078(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x28adeb+_0x443078(0x756),document[_0x443078(0x274)](_0x443078(0x331))[_0x443078(0x908)](_0x443078(0x405),()=>copyTextToClipboard(_0x28adeb,_0x443078(0x9bd))),document['getElementById'](_0x443078(0x8fd))[_0x443078(0x908)](_0x443078(0x405),()=>handleStartLiveRace(_0x28adeb)),document[_0x443078(0x274)](_0x443078(0xa4e))['addEventListener']('click',()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x443078(0x908)](_0x443078(0x405),startAdminTest),showMessage(_0x443078(0x522));}catch(_0x403154){console[_0x443078(0x183)](_0x443078(0x386),_0x403154),showMessage(_0x443078(0x685)),_0xc94003[_0x443078(0x5a2)]=![],_0xc94003['innerHTML']=_0x443078(0x7e1);}}function promptForProjectAndSave(){const _0x5816f3=_0x3f08ea,_0x2d05ac=document[_0x5816f3(0x274)](_0x5816f3(0x5d5)),_0x1e2842=document['getElementById'](_0x5816f3(0x9b1)),_0x1c3225=_0x2d05ac['querySelector']('h3'),_0x3f3f7e=document['getElementById'](_0x5816f3(0x802));_0x1c3225[_0x5816f3(0x7b7)]='เลือกโปรเจคเพื่อบันทึก',_0x3f3f7e[_0x5816f3(0x7b7)]=_0x5816f3(0x6b7);allProjects[_0x5816f3(0x31f)]===0x0?(_0x1e2842[_0x5816f3(0x1bb)]=_0x5816f3(0x1e8),_0x3f3f7e[_0x5816f3(0x5a2)]=!![]):(_0x1e2842['innerHTML']=allProjects[_0x5816f3(0x743)](_0x56df66=>'<option\x20value=\x22'+_0x56df66['id']+'\x22>'+_0x56df66[_0x5816f3(0x3ad)]+_0x5816f3(0x7d2))[_0x5816f3(0xaad)](''),_0x3f3f7e[_0x5816f3(0x5a2)]=![]);_0x2d05ac[_0x5816f3(0x67e)]['remove'](_0x5816f3(0x66d));const _0x151e79=()=>{const _0x2413a9=_0x5816f3,_0x23b263=_0x1e2842[_0x2413a9(0x303)];_0x23b263?(currentProjectId=_0x23b263,_0x2d05ac['classList'][_0x2413a9(0x677)](_0x2413a9(0x66d)),saveQuiz(),_0x1c3225[_0x2413a9(0x7b7)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3f3f7e[_0x2413a9(0x7b7)]=_0x2413a9(0x264),_0x3f3f7e[_0x2413a9(0x400)]('click',_0x151e79),_0x3f3f7e['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x2413a9(0x3e4));};_0x3f3f7e[_0x5816f3(0x400)]('click',confirmMoveQuiz),_0x3f3f7e[_0x5816f3(0x908)](_0x5816f3(0x405),_0x151e79);}function copyTextToClipboard(_0x13ae94,_0x4fdaec){const _0x282e4c=_0x3f08ea,_0x4bff63=document[_0x282e4c(0x758)](_0x282e4c(0x153));_0x4bff63[_0x282e4c(0x303)]=_0x13ae94,_0x4bff63['style'][_0x282e4c(0x528)]=_0x282e4c(0xac3),_0x4bff63['style'][_0x282e4c(0x63a)]='0',document[_0x282e4c(0x702)][_0x282e4c(0x761)](_0x4bff63),_0x4bff63[_0x282e4c(0x5c9)](),_0x4bff63[_0x282e4c(0x678)]();try{const _0x2ee57d=document['execCommand'](_0x282e4c(0x25c));showMessage(_0x2ee57d?_0x4fdaec:_0x282e4c(0x1f3));}catch(_0x2c35f3){showMessage(_0x282e4c(0x1f3)),console['error'](_0x282e4c(0x526),_0x2c35f3);}document[_0x282e4c(0x702)][_0x282e4c(0x187)](_0x4bff63);}function listenForProjectQuizzes(_0x493bc4){const _0x2332b7=_0x3f08ea,_0x59ed2a=collection(db,_0x2332b7(0x439)+appId+_0x2332b7(0x5e9)),_0x283ec6=query(_0x59ed2a,where(_0x2332b7(0x6ec),'==',_0x493bc4));unsubscribeQuizzesListener=onSnapshot(_0x283ec6,async _0x584112=>{const _0x1018f6=_0x2332b7;allQuizzes=_0x584112[_0x1018f6(0x971)][_0x1018f6(0x743)](_0x5a8306=>({'id':_0x5a8306['id'],..._0x5a8306['data']()})),renderQuizzes();},_0x2226ee=>{const _0x3447b4=_0x2332b7;console[_0x3447b4(0x183)](_0x3447b4(0xa70),_0x2226ee),document[_0x3447b4(0x274)](_0x3447b4(0x190))[_0x3447b4(0x1bb)]=_0x3447b4(0x22d);});}async function renderQuizzes(){const _0x1855cc=_0x3f08ea,_0x3676be=document[_0x1855cc(0x274)](_0x1855cc(0x190)),_0x5ce497=document['getElementById']('quiz-search-input')[_0x1855cc(0x303)][_0x1855cc(0x313)]();let _0x3bddb2;currentProjectId===_0x1855cc(0x5af)?_0x3bddb2=starredQuizzes:_0x3bddb2=allQuizzes;let _0x325b73=_0x3bddb2[_0x1855cc(0x30b)](_0x232e97=>_0x232e97[_0x1855cc(0x994)][_0x1855cc(0x313)]()[_0x1855cc(0x634)](_0x5ce497));_0x325b73[_0x1855cc(0x34f)]((_0x5bd419,_0x501f74)=>new Date(_0x501f74['createdAt'])-new Date(_0x5bd419[_0x1855cc(0x9b2)]));if(_0x325b73[_0x1855cc(0x31f)]===0x0){_0x3676be[_0x1855cc(0x1bb)]=_0x1855cc(0xa40);return;}const _0x481c27={},_0x419f39=_0x325b73[_0x1855cc(0x743)](async _0x4e1d33=>{const _0x50efc3=_0x1855cc,_0x26a406=collection(db,_0x50efc3(0x439)+appId+_0x50efc3(0x584)+_0x4e1d33['id']+_0x50efc3(0x9dd)),_0x1d4827=await getDocs(_0x26a406);_0x481c27[_0x4e1d33['id']]=_0x1d4827[_0x50efc3(0x4c6)];});await Promise[_0x1855cc(0xa59)](_0x419f39);let _0x3a1edb='';_0x325b73[_0x1855cc(0x232)](_0x5955df=>{const _0xc94047=_0x1855cc,_0x372183=_0x481c27[_0x5955df['id']]||0x0,_0x15d1dc=_0x5955df['status']||_0xc94047(0x415),_0x20ed39=_0x5955df[_0xc94047(0x921)]?.[_0xc94047(0xa86)]||_0xc94047(0x7b2);let _0x42d11b='',_0x456cc6='';const _0x3b1ba4=new Date();let _0x5666cd=_0x15d1dc;if(_0x15d1dc===_0xc94047(0x471)){const _0x5cf6db=_0x5955df[_0xc94047(0xa27)]?new Date(_0x5955df[_0xc94047(0xa27)]):null,_0x3cb862=_0x5955df[_0xc94047(0x495)]?new Date(_0x5955df['endTime']):null;if(_0x3cb862&&_0x3b1ba4>_0x3cb862)_0x5666cd=_0xc94047(0x8f2);else _0x5cf6db&&_0x3b1ba4<_0x5cf6db?_0x5666cd='scheduled_pending':_0x5666cd=_0xc94047(0x415);}switch(_0x5666cd){case _0xc94047(0x8f2):_0x42d11b=_0xc94047(0x1c4),_0x456cc6=_0xc94047(0x2e2);break;case _0xc94047(0xae0):_0x42d11b=_0xc94047(0x31b),_0x456cc6=_0xc94047(0x9ae);break;case _0xc94047(0x415):_0x42d11b=_0x20ed39!==_0xc94047(0x7b2)?_0xc94047(0x83d):_0xc94047(0x2f2),_0x456cc6='text-green-700\x20bg-green-100';break;default:_0x42d11b=_0xc94047(0x4dd),_0x456cc6=_0xc94047(0x660);break;}let _0x1956bb='';const _0x45d560={'day':_0xc94047(0x9fe),'month':_0xc94047(0x9fe),'year':_0xc94047(0x8ac),'hour':_0xc94047(0x9fe),'minute':'2-digit','hour12':![]};if(_0x15d1dc===_0xc94047(0x471)){if(_0x5955df['startTime'])_0x1956bb+=_0xc94047(0x93f)+new Date(_0x5955df[_0xc94047(0xa27)])[_0xc94047(0x952)](_0xc94047(0x6d8),_0x45d560)+_0xc94047(0x1fe);if(_0x5955df['endTime'])_0x1956bb+=_0xc94047(0x715)+new Date(_0x5955df[_0xc94047(0x495)])[_0xc94047(0x952)](_0xc94047(0x6d8),_0x45d560)+'</p>';}let _0x283654='';if(_0x5955df['pairedQuizId']){const _0x5e9176=allQuizzes['find'](_0x1066ab=>_0x1066ab['id']===_0x5955df[_0xc94047(0x746)]);if(_0x5e9176){let _0x2adc56,_0x2d1caf;new Date(_0x5955df[_0xc94047(0x9b2)])<new Date(_0x5e9176[_0xc94047(0x9b2)])?(_0x2adc56=_0x5955df['id'],_0x2d1caf=_0x5e9176['id']):(_0x2adc56=_0x5e9176['id'],_0x2d1caf=_0x5955df['id']),_0x283654+=_0xc94047(0x880)+_0x2d1caf+_0xc94047(0x379)+_0x2adc56+_0xc94047(0x843);}}else _0x5955df[_0xc94047(0x3db)]===_0xc94047(0x1cc)&&(_0x283654+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x433));if(_0x5955df[_0xc94047(0x3db)]===_0xc94047(0x1cc)&&_0x372183>0x0)_0x283654+=_0xc94047(0x76e)+_0x5955df['id']+_0xc94047(0x401);else!_0x5955df['pairedQuizId']&&_0x5955df[_0xc94047(0x3db)]!==_0xc94047(0x1cc)&&_0x372183>0x0&&(_0x283654+=_0xc94047(0x76e)+_0x5955df['id']+_0xc94047(0x7f7));let _0x39c662='';_0x5955df[_0xc94047(0x746)]?_0x39c662='<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x31e):_0x39c662=_0xc94047(0x1df)+_0x5955df['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x3a1edb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x5955df['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x5955df[_0xc94047(0x994)]+_0xc94047(0x3bf)+_0x5955df[_0xc94047(0x2bb)][_0xc94047(0x31f)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5955df[_0xc94047(0x9b2)])['toLocaleString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x372183+_0xc94047(0x575)+_0x1956bb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x456cc6+'\x22>'+_0x42d11b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x5955df[_0xc94047(0x8f6)]?_0xc94047(0x8cc):_0xc94047(0x3e3))+_0xc94047(0x9a4)+_0x283654+_0xc94047(0x316)+_0x5955df['id']+_0xc94047(0xaca)+_0x5955df['id']+_0xc94047(0x6ea)+_0x5955df['id']+_0xc94047(0x45c)+_0x5955df['id']+_0xc94047(0x39a)+_0x5955df['id']+_0xc94047(0x43b)+_0x5955df['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x6c6)+_0x5955df[_0xc94047(0x994)]+_0xc94047(0x73b)+_0x5955df['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x8f3)+_0x39c662+_0xc94047(0x1bd)+_0x5955df['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x494)+_0x5955df['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5955df['id']+_0xc94047(0x520)+_0x5955df['id']+_0xc94047(0x3a3)+_0x5955df['id']+_0xc94047(0x1cd)+_0x5955df['id']+_0xc94047(0x6c6)+_0x5955df[_0xc94047(0x994)]+_0xc94047(0x93c)+_0x5955df['id']+_0xc94047(0xa9a);}),_0x3676be['innerHTML']=_0x3a1edb,document[_0x1855cc(0x591)]('.quiz-result-card')['forEach'](_0x1dbbc4=>{const _0x35613e=_0x1855cc;_0x1dbbc4[_0x35613e(0x908)](_0x35613e(0x405),()=>{const _0x2eb5ff=_0x35613e,_0x2a3add=_0x1dbbc4[_0x2eb5ff(0x145)]['quizId'];showQuizDetailView(_0x2a3add);});});}async function handleUnpairQuiz(_0x34502e){const _0xb46cfb=_0x3f08ea,_0x3f3c6d=allQuizzes[_0xb46cfb(0x270)](_0x3268a0=>_0x3268a0['id']===_0x34502e);if(!_0x3f3c6d||!_0x3f3c6d[_0xb46cfb(0x746)]){showMessage(_0xb46cfb(0x486));return;}showConfirmation(_0xb46cfb(0x1d9),async()=>{const _0x5baa5b=_0xb46cfb;try{const _0x25bb5d=doc(db,_0x5baa5b(0x439)+appId+_0x5baa5b(0x5e9),_0x34502e),_0x15f037=doc(db,_0x5baa5b(0x439)+appId+_0x5baa5b(0x5e9),_0x3f3c6d[_0x5baa5b(0x746)]),_0x5c9937=writeBatch(db);_0x5c9937[_0x5baa5b(0xa7d)](_0x25bb5d,{'pairedQuizId':null}),_0x5c9937[_0x5baa5b(0xa7d)](_0x15f037,{'pairedQuizId':null}),await _0x5c9937[_0x5baa5b(0x296)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x9fd3ff){console[_0x5baa5b(0x183)](_0x5baa5b(0x2f8),_0x9fd3ff),showMessage(_0x5baa5b(0x5f2));}});}function formatAndPrintLessonPlan(_0x484110,_0x2c16bd){const _0x1ea32f=_0x3f08ea,_0x1fbdcd=window[_0x1ea32f(0x76d)]('',_0x1ea32f(0x26b)),_0x5bbe12=_0x1ea32f(0x681)+_0x2c16bd['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x2c16bd[_0x1ea32f(0x994)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x484110[_0x1ea32f(0x3af)]['map'](_0x5c88db=>_0x1ea32f(0x3d7)+_0x5c88db+_0x1ea32f(0xa69))[_0x1ea32f(0xaad)]('')+_0x1ea32f(0x884)+_0x484110[_0x1ea32f(0x907)]+_0x1ea32f(0x5a5)+_0x484110[_0x1ea32f(0x6fb)][_0x1ea32f(0x743)](_0x4459c3=>_0x1ea32f(0x6c1)+_0x4459c3[_0x1ea32f(0x8e9)]+_0x1ea32f(0x39c)+_0x4459c3[_0x1ea32f(0x280)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x1ea32f(0x8d9);_0x1fbdcd[_0x1ea32f(0x657)][_0x1ea32f(0x40c)](_0x5bbe12),_0x1fbdcd['document'][_0x1ea32f(0xa93)](),_0x1fbdcd[_0x1ea32f(0x4b4)]=function(){setTimeout(()=>{const _0x4be5c4=_0x1cca;_0x1fbdcd[_0x4be5c4(0x96d)]();},0x3e8);};}async function handleAiFixFormula(_0x32d010){const _0x32a39e=_0x3f08ea,_0x3da3e6=document[_0x32a39e(0x497)](_0x32a39e(0x365)+_0x32d010+'\x22]');if(!_0x3da3e6)return;const _0xaac042=_0x3da3e6[_0x32a39e(0x145)][_0x32a39e(0x8e8)],_0x53d134=_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0x939));let _0x256f92={'question':_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0x153))[_0x32a39e(0x303)]};switch(_0xaac042){case _0x32a39e(0x622):_0x256f92[_0x32a39e(0xaee)]=Array[_0x32a39e(0x5bc)](_0x3da3e6[_0x32a39e(0x591)]('input[type=\x22text\x22]'))[_0x32a39e(0x743)](_0x3192fe=>_0x3192fe[_0x32a39e(0x303)]);break;case _0x32a39e(0x15d):_0x256f92[_0x32a39e(0x645)]=_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0xa56))['value'];break;case _0x32a39e(0x466):_0x256f92[_0x32a39e(0x984)]=_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0xaf1))[_0x32a39e(0x303)];break;}_0x53d134[_0x32a39e(0x1bb)]=_0x32a39e(0x534),_0x53d134[_0x32a39e(0x5a2)]=!![];try{const _0xf149b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x32a39e(0x65e)](_0x256f92)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x175283={'type':_0x32a39e(0x6a6),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x32a39e(0x2a3)},'options':{'type':_0x32a39e(0x1cf),'items':{'type':_0x32a39e(0x2a3)}},'idealAnswer':{'type':_0x32a39e(0x2a3)},'correctResponse':{'type':_0x32a39e(0x2a3)}},'required':['question']}},'required':[_0x32a39e(0x19d)]},_0x2b2676=await callAnalysisApi(_0xf149b8,_0x175283);if(_0x2b2676&&_0x2b2676[_0x32a39e(0x19d)]){const _0x1547e5=_0x2b2676['fixedData'];_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0x153))[_0x32a39e(0x303)]=_0x1547e5[_0x32a39e(0x8e9)]||_0x256f92['question'];switch(_0xaac042){case'multiple_choice':_0x1547e5[_0x32a39e(0xaee)]&&_0x1547e5['options']['length']>0x0&&_0x3da3e6[_0x32a39e(0x591)](_0x32a39e(0x6d7))['forEach']((_0x49616e,_0x16ec98)=>{const _0x59cf30=_0x32a39e;_0x49616e[_0x59cf30(0x303)]=_0x1547e5[_0x59cf30(0xaee)][_0x16ec98]||_0x256f92[_0x59cf30(0xaee)][_0x16ec98];});break;case _0x32a39e(0x15d):_0x3da3e6['querySelector'](_0x32a39e(0xa56))['value']=_0x1547e5[_0x32a39e(0x645)]||_0x256f92[_0x32a39e(0x645)];break;case'matching_item':_0x3da3e6[_0x32a39e(0x497)](_0x32a39e(0xaf1))[_0x32a39e(0x303)]=_0x1547e5[_0x32a39e(0x984)]||_0x256f92[_0x32a39e(0x984)];break;}if(_0x256f92[_0x32a39e(0x8e9)]!==_0x1547e5[_0x32a39e(0x8e9)])try{const _0x20d8d3=collection(db,_0x32a39e(0x439)+appId+_0x32a39e(0x364));await addDoc(_0x20d8d3,{'broken':_0x256f92[_0x32a39e(0x8e9)],'fixed':_0x1547e5[_0x32a39e(0x8e9)],'createdAt':serverTimestamp()});}catch(_0x492d3b){console[_0x32a39e(0x183)](_0x32a39e(0x26d),_0x492d3b);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x32a39e(0x544));}catch(_0x57083d){console[_0x32a39e(0x183)](_0x32a39e(0x4e9),_0x57083d),showMessage(_0x32a39e(0x14a));}finally{_0x53d134[_0x32a39e(0x1bb)]=_0x32a39e(0x51f),_0x53d134[_0x32a39e(0x5a2)]=![];}}async function handleGenerateLessonPlan(_0x4028c0){const _0x2390c3=_0x3f08ea;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x5e2c51=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4028c0),_0x2a4d6e=await getDoc(_0x5e2c51);if(!_0x2a4d6e[_0x2390c3(0x905)]())throw new Error(_0x2390c3(0xa37));const _0xbe1058={'id':_0x4028c0,..._0x2a4d6e[_0x2390c3(0x612)]()},_0x2bf709=collection(db,_0x2390c3(0x439)+appId+_0x2390c3(0x5e9),_0x4028c0,_0x2390c3(0x4ff)),_0x4e2bd6=await getDocs(_0x2bf709),_0x13fcb1=_0x4e2bd6[_0x2390c3(0x971)][_0x2390c3(0x743)](_0x41e8ec=>_0x41e8ec[_0x2390c3(0x612)]());if(_0x13fcb1[_0x2390c3(0x31f)]===0x0)throw new Error(_0x2390c3(0x64e));const _0x5952b4=calculateItemAnalysis(_0xbe1058,_0x13fcb1)['perQuestionStats'],_0x3ef744=calculateDistractorAnalysis(_0xbe1058,_0x13fcb1),_0xe00f9d=_0x591b37=>{const _0x33a938=_0x2390c3;if(!_0x591b37)return'';return _0x591b37['replace'](/\\/g,'\x5c\x5c')[_0x33a938(0x5ac)](/"/g,'\x5c\x22')[_0x33a938(0x5ac)](/\n/g,'\x5cn');};let _0xa132ab=_0x2390c3(0x410);_0xbe1058[_0x2390c3(0x2bb)]['forEach']((_0x4be8b0,_0x20ba49)=>{const _0x46deca=_0x2390c3,_0x2e3548=_0x5952b4[_0x20ba49]?.['p']['toFixed'](0x2)||'N/A',_0x1329b3=_0x5952b4[_0x20ba49]?.['r'][_0x46deca(0x2cd)](0x2)||_0x46deca(0x78a),_0x27d023=_0xe00f9d(_0x4be8b0[_0x46deca(0x81a)]||_0x4be8b0[_0x46deca(0x353)]);_0xa132ab+=_0x46deca(0x20b)+(_0x20ba49+0x1)+_0x46deca(0x857)+_0x2e3548+_0x46deca(0x2d5)+_0x1329b3+_0x46deca(0x350)+_0x27d023+'\x5cn';if(_0x4be8b0[_0x46deca(0x4f4)]===_0x46deca(0x622)&&_0x3ef744[_0x20ba49]){const _0x3ba2fe=_0x3ef744[_0x20ba49],_0x210c06=Object['keys'](_0x3ba2fe)[_0x46deca(0x30b)](_0x4c9c08=>parseInt(_0x4c9c08)!==_0x4be8b0[_0x46deca(0x74e)])[_0x46deca(0x34f)]((_0x558c4d,_0x555c91)=>_0x3ba2fe[_0x555c91]['total']-_0x3ba2fe[_0x558c4d][_0x46deca(0x5ba)])[0x0];if(_0x210c06&&_0x3ba2fe[_0x210c06]['total']>0x0){const _0x306239=_0xe00f9d(_0x3ba2fe[_0x210c06][_0x46deca(0x8bd)]);_0xa132ab+=_0x46deca(0x49a)+_0x306239+_0x46deca(0x675);}}});const _0x4339ff=_0x2390c3(0x747)+_0xbe1058[_0x2390c3(0x994)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa132ab+_0x2390c3(0x3ec),_0x23c866={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2390c3(0x1cf),'items':{'type':'STRING'}},'teachingContent':{'type':_0x2390c3(0x2a3)},'practiceProblems':{'type':_0x2390c3(0x1cf),'items':{'type':'OBJECT','properties':{'question':{'type':_0x2390c3(0x2a3)},'solution':{'type':_0x2390c3(0x2a3)}}}}},'required':[_0x2390c3(0x3af),_0x2390c3(0x907),_0x2390c3(0x6fb)]},_0x2512cb=await callAnalysisApi(_0x4339ff,_0x23c866);await updateDoc(_0x5e2c51,{'lessonPlan':_0x2512cb});const _0x4285ec=_0x2390c3(0x865)+_0xbe1058['topic']+_0x2390c3(0x532)+_0x2512cb[_0x2390c3(0x3af)][_0x2390c3(0x743)](_0x3129c5=>_0x2390c3(0x3d7)+_0x3129c5+_0x2390c3(0xa69))[_0x2390c3(0xaad)]('')+_0x2390c3(0x3bd)+_0x2512cb[_0x2390c3(0x907)]+_0x2390c3(0x384)+_0x2512cb[_0x2390c3(0x6fb)][_0x2390c3(0x743)](_0x256e87=>_0x2390c3(0x8f4)+_0x256e87['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x256e87[_0x2390c3(0x280)]+'</p></div>')[_0x2390c3(0xaad)]('')+_0x2390c3(0x99f);document['getElementById'](_0x2390c3(0x536))[_0x2390c3(0x7b7)]=_0x2390c3(0x6d9)+_0xbe1058['topic'],document['getElementById'](_0x2390c3(0x14c))[_0x2390c3(0x1bb)]=_0x4285ec,document[_0x2390c3(0x274)](_0x2390c3(0x5a4))['classList'][_0x2390c3(0xaa2)](_0x2390c3(0x66d));if(window[_0x2390c3(0x13c)])MathJax[_0x2390c3(0x4db)]();messageModal['classList'][_0x2390c3(0x677)](_0x2390c3(0x66d));}catch(_0x1d7f79){console[_0x2390c3(0x183)](_0x2390c3(0x431),_0x1d7f79),showMessage(_0x2390c3(0x248)+_0x1d7f79[_0x2390c3(0x75c)]);}}async function handleDuplicateQuiz(_0x51422e){const _0x3f5c61=_0x3f08ea;try{const _0x4bddbe=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x51422e),_0x3a43e1=await getDoc(_0x4bddbe);if(_0x3a43e1[_0x3f5c61(0x905)]()){const _0x1d0b51=_0x3a43e1[_0x3f5c61(0x612)]();let _0x29eeb1='',_0x19d7b2=_0x3f5c61(0x5be),_0x28e530=null;if(_0x1d0b51['quizMode']===_0x3f5c61(0x1cc)){let _0x54cc2f=_0x1d0b51[_0x3f5c61(0x994)][_0x3f5c61(0x5ac)](_0x3f5c61(0x4d0),'')['trim']();_0x29eeb1=_0x3f5c61(0x8eb)+_0x54cc2f,_0x19d7b2=_0x3f5c61(0x997),_0x28e530=_0x51422e;}else _0x29eeb1=_0x3f5c61(0x686)+_0x1d0b51[_0x3f5c61(0x994)];const _0x45b015={..._0x1d0b51,'topic':_0x29eeb1,'createdAt':new Date()[_0x3f5c61(0x481)](),'quizMode':_0x19d7b2,'pairedQuizId':_0x28e530};let _0x367374;while(!![]){_0x367374=Math[_0x3f5c61(0x5fa)](0x3e8+Math[_0x3f5c61(0x643)]()*0x2328)[_0x3f5c61(0x999)]();const _0x207151=await getDoc(doc(db,_0x3f5c61(0x439)+appId+_0x3f5c61(0x5e9),_0x367374));if(!_0x207151[_0x3f5c61(0x905)]())break;}const _0x401c85=doc(db,_0x3f5c61(0x439)+appId+_0x3f5c61(0x5e9),_0x367374);await setDoc(_0x401c85,_0x45b015),_0x45b015[_0x3f5c61(0x3db)]==='post-test'&&await updateDoc(_0x4bddbe,{'pairedQuizId':_0x367374}),showMessage(_0x3f5c61(0x58e));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x15031c){console['error'](_0x3f5c61(0x1a0),_0x15031c),showMessage(_0x3f5c61(0x2ce));}}async function handleDeleteQuiz(_0x1a9912,_0x6b198c=!![]){const _0x5325bb=_0x3f08ea;try{const _0x24bd55=writeBatch(db),_0x4d2c65=collection(db,_0x5325bb(0x439)+appId+_0x5325bb(0x584)+_0x1a9912+'/submissions'),_0xd46800=await getDocs(_0x4d2c65);_0xd46800[_0x5325bb(0x232)](_0x25854d=>{const _0x46b66a=_0x5325bb;_0x24bd55[_0x46b66a(0x163)](doc(_0x4d2c65,_0x25854d['id']));});const _0x2a03a8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1a9912);_0x24bd55[_0x5325bb(0x163)](_0x2a03a8),await _0x24bd55['commit'](),_0x6b198c&&showMessage(_0x5325bb(0x447));}catch(_0x799da4){console[_0x5325bb(0x183)]('Error\x20deleting\x20quiz:',_0x799da4),_0x6b198c&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x3e3923){const _0x316879=_0x3f08ea;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x316879(0x3f1));try{const _0x85ed6d=doc(db,_0x316879(0x439)+appId+_0x316879(0x5e9),_0x3e3923),_0x2105a5=await getDoc(_0x85ed6d);if(!_0x2105a5[_0x316879(0x905)]()){showMessage(_0x316879(0xa37));return;}const _0x58979a={'id':_0x2105a5['id'],..._0x2105a5[_0x316879(0x612)]()};currentQuizData=_0x58979a;const _0x94b977=doc(db,'artifacts/'+appId+_0x316879(0x6ad),_0x58979a[_0x316879(0x6ec)]),_0x19beb6=await getDoc(_0x94b977);_0x19beb6[_0x316879(0x905)]()?(currentProjectData=_0x19beb6[_0x316879(0x612)](),currentProjectId=_0x58979a['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x58979a[_0x316879(0x6ec)]);document[_0x316879(0x274)]('results-quiz-title')['textContent']=_0x58979a[_0x316879(0x994)],document[_0x316879(0x274)](_0x316879(0xaa4))[_0x316879(0x7b7)]=_0x3e3923;const _0xf408a4=collection(db,_0x316879(0x439)+appId+_0x316879(0x5e9),_0x3e3923,_0x316879(0x4ff));unsubscribeSubmissionsListener=onSnapshot(_0xf408a4,_0x500625=>{const _0x5b642d=_0x316879,_0x4273c6=_0x500625[_0x5b642d(0x971)]['map'](_0x536548=>({'id':_0x536548['id'],..._0x536548['data']()}));currentSubmissions=_0x4273c6;const _0x28c601=_0x4273c6[_0x5b642d(0x30b)](_0x330402=>_0x330402[_0x5b642d(0x4ee)]&&_0x330402[_0x5b642d(0x4ee)][_0x5b642d(0x31f)]>0x0);renderBehaviorLog(_0x4273c6),renderAnswerGrid(currentProjectData[_0x5b642d(0x88f)],_0x28c601,_0x58979a),renderAnalytics(_0x58979a,_0x28c601),renderQuizResultsTable(currentProjectData['students'],_0x4273c6,_0x58979a),renderQuizLeaderboard(_0x28c601,_0x58979a,_0x5b642d(0x72b));}),showView('quiz-results');}catch(_0x2cec45){console[_0x316879(0x183)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x2cec45),showMessage(_0x316879(0x61b));}}function renderAnswerGrid(_0x3b13e6,_0x12f58a,_0x2e6d43){const _0x2aafc2=_0x3f08ea,_0x5cc07e=document['getElementById'](_0x2aafc2(0x8fa));if(!_0x5cc07e)return;if(!_0x3b13e6||_0x3b13e6[_0x2aafc2(0x31f)]===0x0){_0x5cc07e['innerHTML']=_0x2aafc2(0x44a);return;}const _0xf24700=_0x2e6d43['questions'],_0x33a7cb=_0x12f58a[_0x2aafc2(0x329)]((_0x4b7d89,_0x33f0c3)=>{const _0x2e21f6=_0x2aafc2;return _0x4b7d89[_0x33f0c3[_0x2e21f6(0xa53)]]=_0x33f0c3,_0x4b7d89;},{}),_0x2c0621=_0x43bd46=>String[_0x2aafc2(0x8d7)](0x41+_0x43bd46),_0x29b2c4=_0x26eba1=>{const _0x14464d=_0x2aafc2,_0x513fcb=_0x26eba1[_0x14464d(0x4f4)]||_0x2e6d43[_0x14464d(0x641)];switch(_0x513fcb){case _0x14464d(0x622):return _0x26eba1[_0x14464d(0xaee)]&&_0x26eba1[_0x14464d(0xaee)][_0x14464d(0x31f)]>_0x26eba1['correctAnswerIndex']?_0x2c0621(_0x26eba1['correctAnswerIndex']):'-';case _0x14464d(0x8bf):const _0x526ac0=_0x26eba1[_0x14464d(0x26f)]===!![]||String(_0x26eba1[_0x14464d(0x26f)])[_0x14464d(0x313)]()==='true';return _0x526ac0?'ใช่':_0x14464d(0x3a9);case _0x14464d(0x466):return _0x26eba1['correctResponse']||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x540d8b=(_0x5545a2,_0x4c7cb2)=>{const _0x534e98=_0x2aafc2;if(_0x4c7cb2[_0x534e98(0x505)]===null||_0x4c7cb2['answer']===undefined)return'-';const _0x346db4=_0x5545a2[_0x534e98(0x4f4)]||_0x2e6d43['quizType'];switch(_0x346db4){case _0x534e98(0x622):const _0x126889=_0x5545a2[_0x534e98(0xaee)][_0x534e98(0x324)](_0x5ed57a=>_0x5ed57a===_0x4c7cb2[_0x534e98(0x95d)]);return _0x126889!==-0x1?_0x2c0621(_0x126889):_0x4c7cb2['answerText']||'-';case _0x534e98(0x8bf):if(_0x4c7cb2[_0x534e98(0x505)]=='0'||_0x4c7cb2['answer']===!![]||_0x4c7cb2[_0x534e98(0x505)]===_0x534e98(0x3e7))return _0x534e98(0x8a7);return'ไม่ใช่';default:return _0x4c7cb2[_0x534e98(0x505)];}};let _0x451a70='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf24700[_0x2aafc2(0x743)]((_0x29ff30,_0x2f4d55)=>_0x2aafc2(0x4ca)+(_0x2f4d55+0x1)+_0x2aafc2(0x487))[_0x2aafc2(0xaad)]('')+_0x2aafc2(0x91a)+_0xf24700['map'](_0xd5f06=>_0x2aafc2(0x618)+_0x29b2c4(_0xd5f06)+'</td>')[_0x2aafc2(0xaad)]('')+_0x2aafc2(0x7a5);_0x3b13e6[_0x2aafc2(0x232)](_0x4d946b=>{const _0x3d0826=_0x2aafc2;_0x451a70+=_0x3d0826(0x706),_0x451a70+=_0x3d0826(0x5d1)+_0x4d946b+'</td>';const _0x5a9960=_0x33a7cb[_0x4d946b];if(_0x5a9960){const _0x4bd812=_0x5a9960['attempts'][_0x5a9960[_0x3d0826(0x4ee)][_0x3d0826(0x31f)]-0x1];_0xf24700['forEach']((_0x32b335,_0x3f7e44)=>{const _0x285c6f=_0x3d0826,_0x96c6e=_0x4bd812[_0x285c6f(0x711)][_0x285c6f(0x270)](_0xd8c1c7=>_0xd8c1c7[_0x285c6f(0x21f)]===_0x32b335['id']);if(_0x96c6e){let _0x5325d1='';const _0x3186b8=_0x96c6e[_0x285c6f(0x3b7)]===!![],_0x4c38c5=_0x96c6e['wasConfident']===!![]||_0x96c6e['wasConfident']===_0x285c6f(0x9c0);_0x4c38c5?_0x5325d1=_0x3186b8?'bg-green-400\x20text-white\x20font-bold':_0x285c6f(0x945):_0x5325d1=_0x3186b8?_0x285c6f(0x24c):_0x285c6f(0x97b),_0x451a70+=_0x285c6f(0x5f7)+_0x5325d1+'\x22>'+_0x540d8b(_0x32b335,_0x96c6e)+_0x285c6f(0x18b);}else _0x451a70+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x451a70+=_0xf24700[_0x3d0826(0x743)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x3d0826(0xaad)]('');_0x451a70+=_0x3d0826(0x36b);}),_0x451a70+=_0x2aafc2(0x84d),_0x5cc07e['innerHTML']=_0x451a70;}function renderQuizResultsTable(_0x4bd90f,_0x1bd91f,_0x48b2c2){const _0xc926d9=_0x3f08ea,_0x3cf46f=_0x1bd91f[_0xc926d9(0x329)]((_0x17cea6,_0xb2a27f)=>{const _0x57081b=_0xc926d9;return _0x17cea6[_0xb2a27f[_0x57081b(0xa53)]]=_0xb2a27f,_0x17cea6;},{}),_0xadf17d=document[_0xc926d9(0x497)](_0xc926d9(0x63b));_0xadf17d&&!_0xadf17d[_0xc926d9(0x1bb)][_0xc926d9(0x634)](_0xc926d9(0x73e))&&(_0xadf17d[_0xc926d9(0x1bb)]+=_0xc926d9(0x8c0));const _0x7563e4=document[_0xc926d9(0x274)]('quiz-results-table-body');if(!_0x4bd90f||_0x4bd90f[_0xc926d9(0x31f)]===0x0){_0x7563e4[_0xc926d9(0x1bb)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x477c21=_0x48b2c2[_0xc926d9(0x34a)]===!![],_0x285901=_0x48b2c2[_0xc926d9(0x921)]?.[_0xc926d9(0x8ad)]??-0x1;let _0x195857='';_0x4bd90f[_0xc926d9(0x232)](_0x2636b5=>{const _0x4ea5c6=_0xc926d9,_0x569eaf=_0x3cf46f[_0x2636b5];let _0x58199d=_0x4ea5c6(0x6ae)+(_0x477c21?_0x4ea5c6(0x9ba):_0x4ea5c6(0x809))+'\x22>'+(_0x477c21?'สอบซ่อม':_0x4ea5c6(0x133))+_0x4ea5c6(0x5dd);if(_0x569eaf){if(_0x569eaf[_0x4ea5c6(0x4ee)]&&_0x569eaf[_0x4ea5c6(0x4ee)][_0x4ea5c6(0x31f)]>0x0){let _0x1b4df1=_0x477c21?_0x569eaf['bestScore']===_0x569eaf[_0x4ea5c6(0x204)]:_0x285901!==-0x1&&_0x569eaf[_0x4ea5c6(0x245)]>=_0x285901;const _0x9a41ea=_0x1b4df1?_0x4ea5c6(0x753):_0x4ea5c6(0x806),_0xc0027c=_0x1b4df1?_0x4ea5c6(0xa89):_0x4ea5c6(0xa79),_0x337014=_0x4ea5c6(0x5ab)+_0x9a41ea+'\x22>'+_0xc0027c+'</span></td>',_0x1e2e99='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x569eaf[_0x4ea5c6(0x4ee)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x195857+=_0x4ea5c6(0x134)+_0x2636b5+_0x4ea5c6(0x3ba)+_0x569eaf[_0x4ea5c6(0x245)]+_0x4ea5c6(0x1fd)+_0x569eaf[_0x4ea5c6(0x204)]+_0x4ea5c6(0x17b)+_0x337014+_0x4ea5c6(0x9a8)+_0x58199d+_0x4ea5c6(0x74b)+_0x569eaf[_0x4ea5c6(0x99b)]+_0x4ea5c6(0x1fd)+_0x569eaf[_0x4ea5c6(0x204)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x569eaf['latestScore']+'\x20/\x20'+_0x569eaf[_0x4ea5c6(0x204)]+_0x4ea5c6(0xaa3)+(_0x569eaf[_0x4ea5c6(0x169)]||0x0)+_0x4ea5c6(0x17b)+_0x1e2e99+_0x4ea5c6(0x159)+new Date(_0x569eaf[_0x4ea5c6(0x186)])[_0x4ea5c6(0x952)](_0x4ea5c6(0x6d8))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2636b5+_0x4ea5c6(0x52a);}else{const _0x5d3857=_0x4ea5c6(0x2f3);_0x195857+=_0x4ea5c6(0x872)+_0x2636b5+_0x4ea5c6(0xa6e)+_0x58199d+_0x4ea5c6(0x132)+_0x5d3857+_0x4ea5c6(0x159)+new Date(_0x569eaf[_0x4ea5c6(0x3e8)])[_0x4ea5c6(0x952)](_0x4ea5c6(0x6d8))+_0x4ea5c6(0x57a)+_0x2636b5+_0x4ea5c6(0x52a);}}else{const _0x3bfe7a=_0x4ea5c6(0x22f);_0x195857+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2636b5+_0x4ea5c6(0x64a)+_0x58199d+_0x4ea5c6(0x721)+_0x3bfe7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x7563e4[_0xc926d9(0x1bb)]=_0x195857;}async function confirmRenameQuiz(){const _0x4c6e34=_0x3f08ea,_0x574637=document[_0x4c6e34(0x274)](_0x4c6e34(0x24e))[_0x4c6e34(0x303)][_0x4c6e34(0x5d8)]();if(!_0x574637){showMessage(_0x4c6e34(0x788));return;}if(!actionTargetId)return;const _0x16d906=doc(db,_0x4c6e34(0x439)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x16d906,{'topic':_0x574637}),showMessage(_0x4c6e34(0x1aa)),renameQuizModal['classList'][_0x4c6e34(0x677)](_0x4c6e34(0x66d)),actionTargetId=null;}catch(_0x3aefa5){console[_0x4c6e34(0x183)](_0x4c6e34(0x48e),_0x3aefa5),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x5f167f){const _0x45cc0b=_0x3f08ea;actionTargetId=_0x5f167f;const _0x151e0c=document[_0x45cc0b(0x274)]('move-quiz-project-select');_0x151e0c['innerHTML']=_0x45cc0b(0x981),moveQuizModal['classList'][_0x45cc0b(0xaa2)]('hidden');try{const _0x1752c5=collection(db,'artifacts/'+appId+_0x45cc0b(0x6ad)),_0xaffba9=await getDocs(_0x1752c5),_0x255518=_0xaffba9[_0x45cc0b(0x971)][_0x45cc0b(0x743)](_0x386aa8=>({'id':_0x386aa8['id'],..._0x386aa8[_0x45cc0b(0x612)]()})),_0x5d9e2b=_0x255518[_0x45cc0b(0x30b)](_0x3c318e=>_0x3c318e['id']!==currentProjectId);if(_0x5d9e2b[_0x45cc0b(0x31f)]===0x0){_0x151e0c[_0x45cc0b(0x1bb)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x45cc0b(0x274)](_0x45cc0b(0x802))[_0x45cc0b(0x5a2)]=!![];return;}_0x151e0c[_0x45cc0b(0x1bb)]=_0x5d9e2b[_0x45cc0b(0x743)](_0x23530c=>'<option\x20value=\x22'+_0x23530c['id']+'\x22>'+_0x23530c[_0x45cc0b(0x3ad)]+'</option>')[_0x45cc0b(0xaad)](''),document[_0x45cc0b(0x274)](_0x45cc0b(0x802))[_0x45cc0b(0x5a2)]=![];}catch(_0x5793c6){console[_0x45cc0b(0x183)]('Error\x20fetching\x20projects\x20for\x20move:',_0x5793c6),showMessage(_0x45cc0b(0x4e3)),moveQuizModal['classList']['add'](_0x45cc0b(0x66d));}}async function confirmMoveQuiz(){const _0x2519d9=_0x3f08ea,_0x2beca6=document[_0x2519d9(0x274)](_0x2519d9(0x9b1))[_0x2519d9(0x303)];if(!_0x2beca6){showMessage(_0x2519d9(0x7fb));return;}if(!actionTargetId)return;const _0x4fdfa8=doc(db,_0x2519d9(0x439)+appId+_0x2519d9(0x5e9),actionTargetId);try{await updateDoc(_0x4fdfa8,{'projectId':_0x2beca6}),showMessage(_0x2519d9(0x46b)),moveQuizModal['classList'][_0x2519d9(0x677)](_0x2519d9(0x66d)),actionTargetId=null;}catch(_0x8690a2){console[_0x2519d9(0x183)](_0x2519d9(0xa51),_0x8690a2),showMessage(_0x2519d9(0x654));}}async function handleQuizSettings(_0x960e99){const _0x209480=_0x3f08ea;actionTargetId=_0x960e99;const _0x63cf48=doc(db,_0x209480(0x439)+appId+'/public/data/quizzes',_0x960e99);try{const _0x7f297b=await getDoc(_0x63cf48);if(_0x7f297b[_0x209480(0x905)]()){const _0x3c2f87=_0x7f297b[_0x209480(0x612)](),_0x414f26=_0x3c2f87[_0x209480(0x921)]||{},_0x1d2a87=_0x3c2f87[_0x209480(0x2bb)]['length'];document[_0x209480(0x274)](_0x209480(0xa2d))[_0x209480(0x303)]=_0x414f26[_0x209480(0x155)]||'none',document[_0x209480(0x274)]('modal-results-display-select')[_0x209480(0x303)]=_0x414f26[_0x209480(0xa68)]||_0x209480(0x25d),document[_0x209480(0x274)](_0x209480(0x279))[_0x209480(0x303)]=_0x414f26[_0x209480(0xa86)]||_0x209480(0x7b2),document[_0x209480(0x274)]('modal-timer-duration-input')[_0x209480(0x303)]=_0x414f26['timerDuration']||0xa,document[_0x209480(0x274)](_0x209480(0x972))[_0x209480(0x303)]=_0x414f26[_0x209480(0x8ad)]||Math[_0x209480(0x5fa)](_0x1d2a87/0x2),document[_0x209480(0x274)]('modal-passing-score-input')['max']=_0x1d2a87,document['getElementById'](_0x209480(0x39b))['checked']=_0x414f26['isAdaptive']||![],document[_0x209480(0x274)](_0x209480(0x46a))[_0x209480(0x835)]=_0x414f26[_0x209480(0x749)]||![];const _0x35ffbe=_0x414f26['isConfidenceScoringEnabled']||![];document[_0x209480(0x274)](_0x209480(0x52d))['checked']=_0x35ffbe,document[_0x209480(0x274)]('modal-confidence-mode-select')[_0x209480(0x303)]=_0x414f26[_0x209480(0x67d)]||_0x209480(0x733);const _0x1d816f=document[_0x209480(0x274)](_0x209480(0x97e));_0x1d816f[_0x209480(0x67e)]['toggle'](_0x209480(0x66d),!_0x35ffbe),document['getElementById'](_0x209480(0x279))[_0x209480(0x995)](new Event(_0x209480(0x8e7))),quizSettingsModal['classList'][_0x209480(0xaa2)](_0x209480(0x66d));}else showMessage(_0x209480(0xa37));}catch(_0x5f1dac){console[_0x209480(0x183)](_0x209480(0xac2),_0x5f1dac),showMessage(_0x209480(0x92f));}}async function confirmQuizSettings(){const _0x494716=_0x3f08ea;if(!actionTargetId)return;const _0x2d27e0=doc(db,_0x494716(0x439)+appId+_0x494716(0x5e9),actionTargetId),_0x38231d={'shuffle':document['getElementById'](_0x494716(0xa2d))['value'],'resultsDisplay':document[_0x494716(0x274)]('modal-results-display-select')[_0x494716(0x303)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x494716(0x303)],'timerDuration':parseInt(document['getElementById'](_0x494716(0x488))[_0x494716(0x303)])||0xa,'passingScore':parseInt(document['getElementById'](_0x494716(0x972))[_0x494716(0x303)])||0x0,'isAdaptive':document['getElementById'](_0x494716(0x39b))[_0x494716(0x835)],'loopUntilPass':document[_0x494716(0x274)]('modal-loop-until-pass-checkbox')[_0x494716(0x835)],'isConfidenceScoringEnabled':document[_0x494716(0x274)](_0x494716(0x52d))[_0x494716(0x835)],'confidenceMode':document[_0x494716(0x274)](_0x494716(0x3b4))['value']};try{await updateDoc(_0x2d27e0,{'settings':_0x38231d}),showMessage(_0x494716(0x29e)),quizSettingsModal[_0x494716(0x67e)][_0x494716(0x677)](_0x494716(0x66d)),actionTargetId=null;}catch(_0x351b9a){console[_0x494716(0x183)]('Error\x20updating\x20quiz\x20settings:',_0x351b9a),showMessage(_0x494716(0xa17));}}async function confirmQuizStatus(){const _0x516fde=_0x3f08ea;if(!actionTargetId)return;const _0x383ec9=doc(db,_0x516fde(0x439)+appId+_0x516fde(0x5e9),actionTargetId),_0x17db6b=document[_0x516fde(0x497)]('input[name=\x22status-option\x22]:checked');if(!_0x17db6b){showMessage(_0x516fde(0xa9e));return;}const _0x7d9ff=_0x17db6b[_0x516fde(0x303)];let _0x302d3a={};if(_0x7d9ff===_0x516fde(0x415)||_0x7d9ff==='inactive')_0x302d3a={'status':_0x7d9ff,'startTime':null,'endTime':null};else{if(_0x7d9ff===_0x516fde(0x65b)){const _0x21ed45=document[_0x516fde(0x274)](_0x516fde(0x8ed))[_0x516fde(0x303)],_0x5587a0=document[_0x516fde(0x274)](_0x516fde(0x71f))[_0x516fde(0x303)];if(!_0x21ed45&&!_0x5587a0){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x302d3a={'status':_0x516fde(0x471),'startTime':_0x21ed45?new Date(_0x21ed45)[_0x516fde(0x481)]():null,'endTime':_0x5587a0?new Date(_0x5587a0)['toISOString']():null};}}try{await updateDoc(_0x383ec9,_0x302d3a),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x516fde(0x67e)][_0x516fde(0x677)](_0x516fde(0x66d)),actionTargetId=null;}catch(_0x2b3725){console[_0x516fde(0x183)](_0x516fde(0x4e4),_0x2b3725),showMessage(_0x516fde(0x1d2));}}function listenForStudentProfiles(_0x5dc85a){const _0x2b6773=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x5dc85a+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2b6773,_0x44e0f5=>{const _0x300fee=_0x1cca,_0x417be2=_0x44e0f5[_0x300fee(0x971)][_0x300fee(0x743)](_0x36833a=>_0x36833a['data']());renderLeaderboard(_0x417be2,_0x300fee(0x89a));},_0x4eaa3d=>{const _0xea135f=_0x1cca;console['error'](_0xea135f(0x653),_0x4eaa3d),document['getElementById'](_0xea135f(0x89a))[_0xea135f(0x1bb)]=_0xea135f(0x404);});}function renderLeaderboard(_0x1d8d97,_0x175f25){const _0x50d260=_0x3f08ea,_0x32e753=document['getElementById'](_0x175f25);if(!_0x1d8d97||_0x1d8d97[_0x50d260(0x31f)]===0x0){_0x32e753[_0x50d260(0x1bb)]=_0x50d260(0x509);return;}_0x1d8d97['sort']((_0x423f29,_0x283f49)=>{const _0x46439c=_0x50d260,_0x2d67c4=(_0x283f49[_0x46439c(0x70e)]||0x0)-(_0x423f29[_0x46439c(0x70e)]||0x0);if(_0x2d67c4!==0x0)return _0x2d67c4;const _0x1b51de=(_0x283f49[_0x46439c(0x16f)]?.[_0x46439c(0x1bc)]||0x0)-(_0x423f29[_0x46439c(0x16f)]?.[_0x46439c(0x1bc)]||0x0);if(_0x1b51de!==0x0)return _0x1b51de;const _0x2015df=(_0x283f49[_0x46439c(0x16f)]?.[_0x46439c(0x235)]||0x0)-(_0x423f29[_0x46439c(0x16f)]?.[_0x46439c(0x235)]||0x0);if(_0x2015df!==0x0)return _0x2015df;const _0x5d62b5=(_0x283f49[_0x46439c(0x16f)]?.[_0x46439c(0x954)]||0x0)-(_0x423f29[_0x46439c(0x16f)]?.['perfect_score']||0x0);if(_0x5d62b5!==0x0)return _0x5d62b5;const _0x4e2898=(_0x283f49['badgesCount']?.['quick_thinker']||0x0)-(_0x423f29['badgesCount']?.['quick_thinker']||0x0);if(_0x4e2898!==0x0)return _0x4e2898;return _0x423f29['studentName'][_0x46439c(0x392)](_0x283f49['studentName'],'th');});let _0x5517e6='';_0x1d8d97[_0x50d260(0x232)]((_0x3a5a7d,_0x55f5df)=>{const _0x34114f=_0x50d260,_0x4c2567=_0x55f5df+0x1,_0x54f952=_0x3a5a7d[_0x34114f(0x16f)]||{};let _0x259c6e='';const _0x3e1119=[_0x34114f(0x1bc),_0x34114f(0x954),_0x34114f(0x235),_0x34114f(0x60c)];_0x3e1119[_0x34114f(0x232)](_0x414473=>{const _0x109af0=_0x34114f;if(_0x54f952[_0x414473]>0x0){const _0x9286ce=Object['values'](BADGES)['find'](_0x539b8f=>_0x539b8f['id']===_0x414473);_0x9286ce&&(_0x414473===_0x109af0(0x1bc)?_0x259c6e+=_0x109af0(0x1c0)+_0x9286ce[_0x109af0(0x340)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x9286ce[_0x109af0(0x82d)]+_0x109af0(0x141):_0x259c6e+=_0x109af0(0x1c0)+_0x9286ce[_0x109af0(0x340)]+'\x20('+_0x54f952[_0x414473]+_0x109af0(0xa2c)+_0x9286ce[_0x109af0(0x82d)]+_0x109af0(0x965)+_0x54f952[_0x414473]+_0x109af0(0x30a));}}),_0x5517e6+=_0x34114f(0x206)+_0x4c2567+_0x34114f(0x220)+_0x3a5a7d[_0x34114f(0xa53)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x3a5a7d[_0x34114f(0x70e)]||0x0)+_0x34114f(0x220)+(_0x259c6e||'-')+_0x34114f(0x4ae);}),_0x32e753[_0x50d260(0x1bb)]=_0x5517e6;}function displayLoopScreen(_0x11ff66,_0x378527,_0x4c804a){const _0x1d5a26=_0x3f08ea;let _0x3eff74='';_0x4c804a!==_0x1d5a26(0x250)&&(_0x3eff74='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x11ff66+_0x1d5a26(0x1fd)+_0x378527+_0x1d5a26(0x54a));const _0x5e487a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3eff74+_0x1d5a26(0x465);studentResultArea[_0x1d5a26(0x1bb)]=_0x5e487a,studentResultArea[_0x1d5a26(0x67e)][_0x1d5a26(0xaa2)](_0x1d5a26(0x66d)),studentQuizArea[_0x1d5a26(0x67e)][_0x1d5a26(0x677)](_0x1d5a26(0x66d)),document[_0x1d5a26(0x274)](_0x1d5a26(0x406))[_0x1d5a26(0x908)](_0x1d5a26(0x405),()=>{const _0x144d41=_0x1d5a26;studentResultArea[_0x144d41(0x67e)][_0x144d41(0x677)](_0x144d41(0x66d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3a0e02,_0x36b317,_0xe1e318){const _0x4b4bbb=_0x3f08ea,_0x1a9ac7=document['getElementById'](_0xe1e318),_0x47e3ae=_0xe1e318===_0x4b4bbb(0x7bf),_0x1afd39=_0x36b317[_0x4b4bbb(0x2bb)][_0x4b4bbb(0x31f)],_0x342293=document[_0x4b4bbb(0x274)](_0xe1e318)[_0x4b4bbb(0x7b9)]('table');if(_0x342293&&!_0x47e3ae){const _0x15a10e=_0x342293['querySelector'](_0x4b4bbb(0x6ca));_0x15a10e[_0x4b4bbb(0x1bb)]=_0x4b4bbb(0x1e1);}if(!_0x3a0e02||_0x3a0e02[_0x4b4bbb(0x31f)]===0x0){_0x1a9ac7['innerHTML']=_0x4b4bbb(0x858)+(_0x47e3ae?0x6:0x8)+_0x4b4bbb(0x21b);return;}const _0x4f7d74=[..._0x3a0e02];_0x4f7d74['sort']((_0x26e164,_0x54efac)=>{const _0x1f9466=_0x4b4bbb;let _0x53ffb9,_0x1e56ed;switch(quizLeaderboardSortBy){case'studentName':_0x53ffb9=_0x26e164[_0x1f9466(0xa53)]||'',_0x1e56ed=_0x54efac[_0x1f9466(0xa53)]||'';return quizLeaderboardSortOrder===_0x1f9466(0x173)?_0x53ffb9[_0x1f9466(0x392)](_0x1e56ed,'th'):_0x1e56ed[_0x1f9466(0x392)](_0x53ffb9,'th');case _0x1f9466(0x169):_0x53ffb9=_0x26e164[_0x1f9466(0x169)]||0x0,_0x1e56ed=_0x54efac[_0x1f9466(0x169)]||0x0;break;case _0x1f9466(0x4ee):_0x53ffb9=_0x26e164[_0x1f9466(0x4ee)]?.[_0x1f9466(0x31f)]||0x1,_0x1e56ed=_0x54efac[_0x1f9466(0x4ee)]?.['length']||0x1;break;case _0x1f9466(0x186):_0x53ffb9=new Date(_0x26e164[_0x1f9466(0x186)]),_0x1e56ed=new Date(_0x54efac[_0x1f9466(0x186)]);break;case'bestScore':default:_0x53ffb9=_0x26e164['bestScore'],_0x1e56ed=_0x54efac[_0x1f9466(0x245)];break;}if(_0x53ffb9<_0x1e56ed)return quizLeaderboardSortOrder===_0x1f9466(0x173)?-0x1:0x1;if(_0x53ffb9>_0x1e56ed)return quizLeaderboardSortOrder===_0x1f9466(0x173)?0x1:-0x1;return 0x0;});const _0xf3da84=_0x36b317[_0x4b4bbb(0x34a)]===!![],_0x43b49b=_0x36b317[_0x4b4bbb(0x921)]?.['passingScore']??-0x1;let _0x58e1e7='';_0x4f7d74['forEach']((_0xc1e671,_0xe5e8)=>{const _0x770967=_0x4b4bbb,_0x260142=_0xe5e8+0x1;let _0xa707a=_0x770967(0x989);if(_0xf3da84||_0x43b49b!==-0x1){let _0x422a01=_0xf3da84?_0xc1e671['bestScore']===_0x1afd39:_0xc1e671[_0x770967(0x245)]>=_0x43b49b;const _0x215308=_0x422a01?_0x770967(0x753):'bg-red-100\x20text-red-800',_0x3ad92f=_0x422a01?_0x770967(0xa89):_0x770967(0xa79);_0xa707a=_0x770967(0x27d)+_0x215308+'\x22>'+_0x3ad92f+_0x770967(0x5dd);}const _0x257a13=_0xc1e671[_0x770967(0x4ee)][_0xc1e671[_0x770967(0x4ee)][_0x770967(0x31f)]-0x1],_0x1aa6d4=(_0x257a13['badges']||[])[_0x770967(0x743)](_0x3758eb=>{const _0x1ddc8b=_0x770967,_0x36198a=Object[_0x1ddc8b(0x237)](BADGES)[_0x1ddc8b(0x270)](_0x5076ec=>_0x5076ec['id']===_0x3758eb);return _0x36198a?'<span\x20title=\x22'+_0x36198a[_0x1ddc8b(0x340)]+_0x1ddc8b(0x256)+_0x36198a['icon']+_0x1ddc8b(0x630):'';})[_0x770967(0xaad)]('');_0x58e1e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x260142+_0x770967(0x587)+_0xc1e671[_0x770967(0xa53)]+_0x770967(0x3c2)+_0xc1e671['bestScore']+_0x770967(0x1fd)+_0x1afd39+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa707a+_0x770967(0x9d0)+(_0xc1e671[_0x770967(0x169)]||0x0)+_0x770967(0x151)+(_0x47e3ae?'':_0x770967(0x9cf)+(_0xc1e671[_0x770967(0x4ee)]?.[_0x770967(0x31f)]||0x1)+_0x770967(0x18b))+_0x770967(0xaf7)+(_0x47e3ae?'':_0x770967(0x300)+new Date(_0xc1e671[_0x770967(0x186)])[_0x770967(0x952)](_0x770967(0x6d8))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x1aa6d4||'-')+_0x770967(0x8d0);}),_0x1a9ac7[_0x4b4bbb(0x1bb)]=_0x58e1e7,_0x342293&&!_0x47e3ae&&_0x342293[_0x4b4bbb(0x591)](_0x4b4bbb(0x579))[_0x4b4bbb(0x232)](_0x3ace00=>{const _0x1e8765=_0x4b4bbb,_0x69fc21=_0x3ace00['querySelector'](_0x1e8765(0x7d1));if(_0x69fc21)_0x69fc21[_0x1e8765(0xaa2)]();_0x3ace00[_0x1e8765(0x145)]['sort']===quizLeaderboardSortBy&&(_0x3ace00['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x1e8765(0x173)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x41ecc9){const _0xd10d21=_0x3f08ea;if(!currentQuizData||!currentQuizData['id']||!_0x41ecc9){showMessage(_0xd10d21(0xa43));return;}showConfirmation(_0xd10d21(0xaac)+_0x41ecc9+_0xd10d21(0x8e5),async()=>{const _0x3362ca=_0xd10d21,_0x349edb=currentQuizData['id'],_0x3f6c6d=doc(db,_0x3362ca(0x439)+appId+_0x3362ca(0x584)+_0x349edb+'/submissions',_0x41ecc9);try{await deleteDoc(_0x3f6c6d),showMessage('ลบผลสอบของ\x20'+_0x41ecc9+'\x20สำเร็จ');}catch(_0x3c6498){console[_0x3362ca(0x183)](_0x3362ca(0x271),_0x3c6498),showMessage(_0x3362ca(0xa67));}});}async function handleLoadQuiz(){const _0x556414=_0x3f08ea,_0x194fd9=document[_0x556414(0x274)](_0x556414(0xa61)),_0x19414e=_0x194fd9[_0x556414(0x303)][_0x556414(0x5d8)]();if(!_0x19414e){showMessage(_0x556414(0x722));return;}loadQuizBtn[_0x556414(0x5a2)]=!![],loadQuizBtn[_0x556414(0x1bb)]=_0x556414(0x973);try{const _0x42ae04=doc(db,_0x556414(0x439)+appId+_0x556414(0x5e9),_0x19414e),_0x4f11b6=await getDoc(_0x42ae04);if(!_0x4f11b6[_0x556414(0x905)]()){showMessage(_0x556414(0xa02));return;}currentQuizData={'id':_0x4f11b6['id'],..._0x4f11b6[_0x556414(0x612)]()};const _0x4a6542=currentQuizData[_0x556414(0x7af)]||_0x556414(0x415),_0xd3bb8=new Date();if(_0x4a6542===_0x556414(0x8f2)){showMessage(_0x556414(0x769));return;}if(_0x4a6542===_0x556414(0x471)){const _0x83fe1f=currentQuizData['startTime']?new Date(currentQuizData[_0x556414(0xa27)]):null,_0x3e0511=currentQuizData[_0x556414(0x495)]?new Date(currentQuizData['endTime']):null;if(_0x83fe1f&&_0xd3bb8<_0x83fe1f){showMessage(_0x556414(0x1a8)+_0x83fe1f[_0x556414(0x952)](_0x556414(0x6d8),{'hour12':![]}));return;}if(_0x3e0511&&_0xd3bb8>_0x3e0511){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x103cae=currentQuizData['projectId'];currentProjectId=_0x103cae;const _0x125158=doc(db,_0x556414(0x439)+appId+_0x556414(0x6ad),_0x103cae),_0x3d755c=await getDoc(_0x125158);if(!_0x3d755c[_0x556414(0x905)]()){showMessage(_0x556414(0x1ac));return;}const _0x2353af=_0x3d755c['data']();currentStudentProjectData=_0x2353af,displayStudentNameSelector(_0x2353af[_0x556414(0x88f)],currentQuizData[_0x556414(0x994)]);}catch(_0x1fd030){console[_0x556414(0x183)]('Error\x20loading\x20quiz\x20for\x20student:',_0x1fd030),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x556414(0x5a2)]=![],loadQuizBtn[_0x556414(0x1bb)]=_0x556414(0x556);}}async function handleJoinLiveGame(){const _0x2733be=_0x3f08ea,_0x37ce18=document[_0x2733be(0x274)](_0x2733be(0x75e)),_0x48d16e=document[_0x2733be(0x274)]('nickname-input'),_0x1ae691=document[_0x2733be(0x274)](_0x2733be(0x95f)),_0x3262e5=_0x37ce18[_0x2733be(0x303)][_0x2733be(0x5d8)](),_0x317f6e=_0x48d16e['value'][_0x2733be(0x5d8)]();if(!_0x3262e5||!_0x317f6e){showMessage(_0x2733be(0x59d));return;}_0x1ae691[_0x2733be(0x5a2)]=!![],_0x1ae691[_0x2733be(0x1bb)]=_0x2733be(0x8dc);try{const _0x406a74=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x556aff=query(_0x406a74,where(_0x2733be(0xace),'==',_0x3262e5),where(_0x2733be(0x7af),'in',[_0x2733be(0x838),_0x2733be(0x8e9)])),_0x5996eb=await getDocs(_0x556aff);if(_0x5996eb[_0x2733be(0x48a)]){showMessage(_0x2733be(0x7a2));return;}const _0x1a2ef5=_0x5996eb['docs'][0x0],_0x1def1e=_0x1a2ef5['data']();currentLiveGameId=_0x1a2ef5['id'];const _0x2dd5a3=_0x1def1e['quizId'],_0x3a92ef=doc(db,_0x2733be(0x439)+appId+_0x2733be(0x5e9),_0x2dd5a3),_0x1b24b3=await getDoc(_0x3a92ef);if(!_0x1b24b3['exists']()){showMessage(_0x2733be(0x5c5));return;}currentQuizData={'id':_0x1b24b3['id'],..._0x1b24b3[_0x2733be(0x612)]()};if(_0x1def1e[_0x2733be(0x896)]&&_0x1def1e[_0x2733be(0x896)][_0x317f6e]){const _0x1ea314=_0x1def1e['players'][_0x317f6e];if(_0x1ea314['status']===_0x2733be(0x8f2)){_0x1ae691[_0x2733be(0x1bb)]=_0x2733be(0x8fc);const _0x4fb161={};_0x4fb161[_0x2733be(0x461)+_0x317f6e+'.status']=_0x2733be(0x415),await updateDoc(doc(db,'artifacts/'+appId+_0x2733be(0x7bb),currentLiveGameId),_0x4fb161),showView(_0x2733be(0x4e5)),currentStudentName=_0x317f6e,listenForLiveGameUpdates();return;}else{showMessage(_0x2733be(0x5e5));return;}}if(_0x1def1e['status']!==_0x2733be(0x838)){showMessage(_0x2733be(0x8a6));return;}_0x1ae691[_0x2733be(0x1bb)]=_0x2733be(0x75f);const _0x23117b={};_0x23117b[_0x2733be(0x461)+_0x317f6e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2733be(0x415)},await updateDoc(doc(db,_0x2733be(0x439)+appId+_0x2733be(0x7bb),currentLiveGameId),_0x23117b),currentStudentName=_0x317f6e,listenForLiveGameUpdates();}catch(_0x568597){console[_0x2733be(0x183)]('Error\x20joining\x20live\x20game:',_0x568597),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x1ae691[_0x2733be(0x5a2)]=![],_0x1ae691['innerHTML']=_0x2733be(0x2fa);}}function displayStudentNameSelector(_0x2f570e,_0x2bb318){const _0x495492=_0x3f08ea,_0x46087a=document[_0x495492(0x274)]('student-name-select');document[_0x495492(0x274)](_0x495492(0x189))['textContent']=_0x495492(0x3d6)+_0x2bb318,!_0x2f570e||_0x2f570e[_0x495492(0x31f)]===0x0?(_0x46087a[_0x495492(0x1bb)]=_0x495492(0x68c),startQuizBtn[_0x495492(0x5a2)]=!![]):(_0x46087a['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x2f570e[_0x495492(0x232)](_0x4b4dcf=>{const _0xd3f59=_0x495492,_0x2b832d=document[_0xd3f59(0x758)](_0xd3f59(0xa4a));_0x2b832d[_0xd3f59(0x303)]=_0x4b4dcf,_0x2b832d['textContent']=_0x4b4dcf,_0x46087a[_0xd3f59(0x761)](_0x2b832d);}),startQuizBtn['disabled']=![]),studentInitialView[_0x495492(0x67e)][_0x495492(0x677)](_0x495492(0x66d)),studentNameSelectionView[_0x495492(0x67e)][_0x495492(0xaa2)](_0x495492(0x66d));}function shuffleArray(_0x187c25){const _0x3e1525=_0x3f08ea;for(let _0x3e79d6=_0x187c25[_0x3e1525(0x31f)]-0x1;_0x3e79d6>0x0;_0x3e79d6--){const _0x3c8043=Math['floor'](Math[_0x3e1525(0x643)]()*(_0x3e79d6+0x1));[_0x187c25[_0x3e79d6],_0x187c25[_0x3c8043]]=[_0x187c25[_0x3c8043],_0x187c25[_0x3e79d6]];}}function getShuffledQuiz(_0x587b9a){const _0x159226=_0x3f08ea;let _0x4ac211=JSON[_0x159226(0x2ba)](JSON[_0x159226(0x65e)](_0x587b9a));const _0x44b6e2=_0x4ac211[_0x159226(0x921)]?.['shuffle']||_0x159226(0x7b2);if(_0x44b6e2===_0x159226(0x7b2))return _0x4ac211;return(_0x44b6e2===_0x159226(0x98e)||_0x44b6e2===_0x159226(0x4f6))&&shuffleArray(_0x4ac211[_0x159226(0x2bb)]),(_0x44b6e2===_0x159226(0x138)||_0x44b6e2===_0x159226(0x4f6))&&_0x4ac211['questions'][_0x159226(0x232)](_0x286663=>{const _0xcfa8fb=_0x159226,_0x51c25b=_0x286663[_0xcfa8fb(0x4f4)]||_0x4ac211[_0xcfa8fb(0x641)];if(_0x286663[_0xcfa8fb(0xaee)]){let _0x3d27a0=_0x286663[_0xcfa8fb(0xaee)][_0xcfa8fb(0x743)]((_0x178941,_0x361de7)=>({'text':_0x178941,'isCorrect':_0x361de7===_0x286663[_0xcfa8fb(0x74e)]}));shuffleArray(_0x3d27a0),_0x286663['options']=_0x3d27a0[_0xcfa8fb(0x743)](_0x1dbff8=>_0x1dbff8[_0xcfa8fb(0x8bd)]),_0x286663[_0xcfa8fb(0x74e)]=_0x3d27a0[_0xcfa8fb(0x324)](_0x21fb95=>_0x21fb95[_0xcfa8fb(0x3b7)]);}_0x51c25b==='matching_item'&&_0x286663[_0xcfa8fb(0x378)]&&shuffleArray(_0x286663[_0xcfa8fb(0x378)]);}),_0x4ac211;}function displayQuizForStudent(_0x42713d){const _0x53c4d7=_0x3f08ea;studentQuizArea[_0x53c4d7(0x67e)][_0x53c4d7(0xaa2)](_0x53c4d7(0x66d)),currentDisplayedQuiz=getShuffledQuiz(_0x42713d);currentMode!==_0x53c4d7(0x89c)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x53c4d7(0x908)](_0x53c4d7(0x3d0),handleFullscreenChange),document['addEventListener'](_0x53c4d7(0x676),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x53c4d7(0x2c1),resetDimTimer),window[_0x53c4d7(0x908)](_0x53c4d7(0x41a),resetDimTimer),window['addEventListener'](_0x53c4d7(0xae7),resetDimTimer),window[_0x53c4d7(0x908)](_0x53c4d7(0xaaa),resetDimTimer),resetDimTimer());const _0xe84217=currentDisplayedQuiz[_0x53c4d7(0x921)]?.[_0x53c4d7(0xa86)]||_0x53c4d7(0x7b2);if(_0xe84217===_0x53c4d7(0x58b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x53c4d7(0x921)][_0x53c4d7(0x2e4)]);else _0xe84217===_0x53c4d7(0x4e2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x57f829=_0x3f08ea,_0x35d8b8=currentDisplayedQuiz['settings']?.[_0x57f829(0x2ae)]===!![],_0x291fd6=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x57f829(0x733);let _0x33d9e4=_0x57f829(0xa83)+currentDisplayedQuiz[_0x57f829(0x994)]+_0x57f829(0x62a)+(currentMode===_0x57f829(0x89c)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x57f829(0x15e);currentDisplayedQuiz[_0x57f829(0x2bb)][_0x57f829(0x232)]((_0xe9b812,_0xeb8f2)=>{const _0x31632c=_0x57f829,_0x536067=_0xe9b812[_0x31632c(0x4f4)]||currentDisplayedQuiz['quizType'];_0x33d9e4+=_0x31632c(0x321);if(_0x536067===_0x31632c(0x466)){}else _0x33d9e4+=_0x31632c(0x7e2)+(_0xeb8f2+0x1)+'.\x20'+(_0xe9b812[_0x31632c(0x9ca)]||_0xe9b812['questionText'])+'</p>',_0xe9b812[_0x31632c(0xaa5)]&&(_0x33d9e4+=_0x31632c(0x62b)+_0xe9b812[_0x31632c(0xaa5)]+'</div>');_0x33d9e4+=_0x31632c(0x60f);switch(_0x536067){case _0x31632c(0x15d):_0x33d9e4+=_0x31632c(0x801)+_0xeb8f2+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x33d9e4+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xeb8f2+'_opt0\x22\x20name=\x22question'+_0xeb8f2+_0x31632c(0x53b)+_0xeb8f2+_0x31632c(0xa2e),_0x33d9e4+=_0x31632c(0x28f)+_0xeb8f2+_0x31632c(0x8f8)+_0xeb8f2+_0x31632c(0x74a)+_0xeb8f2+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x31632c(0x466):_0x33d9e4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0xe9b812[_0x31632c(0x353)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0xeb8f2+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe9b812[_0x31632c(0x378)][_0x31632c(0x743)](_0x28f099=>'<option\x20value=\x22'+_0x28f099+'\x22>'+_0x28f099+'</option>')[_0x31632c(0xaad)]('')+_0x31632c(0x576);break;default:_0x33d9e4+=_0xe9b812[_0x31632c(0xaee)][_0x31632c(0x743)]((_0x4c82eb,_0x1b4af9)=>_0x31632c(0x50e)+_0xeb8f2+_0x31632c(0x527)+_0x1b4af9+_0x31632c(0x2e5)+_0xeb8f2+_0x31632c(0x6fc)+_0x1b4af9+_0x31632c(0x592)+_0xeb8f2+_0x31632c(0x527)+_0x1b4af9+'\x22>'+_0x4c82eb+_0x31632c(0x66e))[_0x31632c(0xaad)]('');break;}_0x33d9e4+=_0x31632c(0x601),_0x35d8b8&&(_0x33d9e4+=_0x31632c(0x27a),_0x291fd6===_0x31632c(0xa22)?_0x33d9e4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0xeb8f2+_0x31632c(0xadd)+_0xeb8f2+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0xeb8f2+_0x31632c(0xa08)+_0xeb8f2+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x33d9e4+=_0x31632c(0xa05)+_0xeb8f2+'\x22\x20name=\x22confidence'+_0xeb8f2+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0xeb8f2+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x33d9e4+=_0x31632c(0x601)),_0x33d9e4+=_0x31632c(0x601);}),_0x33d9e4+=_0x57f829(0xa3e),_0x33d9e4+='</form>',studentQuizArea[_0x57f829(0x1bb)]=_0x33d9e4;if(currentMode===_0x57f829(0x89c)){const _0x57d308=document[_0x57f829(0x274)](_0x57f829(0x4fb));if(_0x57d308)_0x57d308[_0x57f829(0x908)](_0x57f829(0x405),cancelAdminTest);}const _0x1f9261=document[_0x57f829(0x274)](_0x57f829(0x6c0));_0x1f9261&&(_0x1f9261['addEventListener'](_0x57f829(0x5d2),handleSubmitQuiz),_0x1f9261['addEventListener'](_0x57f829(0x405),_0x3ecf9b=>{const _0x57aa0d=_0x57f829;if(_0x3ecf9b[_0x57aa0d(0x1e0)][_0x57aa0d(0x67e)][_0x57aa0d(0x88b)](_0x57aa0d(0xa6f))){const _0x8acd2e=_0x3ecf9b[_0x57aa0d(0x1e0)],_0x52b585=_0x8acd2e[_0x57aa0d(0x145)][_0x57aa0d(0x774)],_0x285599=_0x8acd2e[_0x57aa0d(0x145)]['value'];document[_0x57aa0d(0x274)](_0x57aa0d(0x718)+_0x52b585)[_0x57aa0d(0x303)]=_0x285599;const _0x592bb4=_0x8acd2e['parentElement'];_0x592bb4['querySelectorAll'](_0x57aa0d(0x182))[_0x57aa0d(0x232)](_0x149723=>_0x149723[_0x57aa0d(0x67e)][_0x57aa0d(0xaa2)]('active')),_0x8acd2e[_0x57aa0d(0x67e)][_0x57aa0d(0x677)](_0x57aa0d(0x415));}}));if(window[_0x57f829(0x13c)])window[_0x57f829(0x13c)][_0x57f829(0x4db)]([studentQuizArea]);}async function handleSubmitQuiz(_0xc57a4d){const _0x498a3b=_0x3f08ea;if(_0xc57a4d)_0xc57a4d['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3fcb86=document[_0x498a3b(0x274)]('quiz-form');if(!_0x3fcb86)return;const _0x145d37=currentDisplayedQuiz[_0x498a3b(0x921)]?.[_0x498a3b(0x2ae)]===!![],_0x27b5c3=currentDisplayedQuiz['settings']?.['confidenceMode']||'checkbox';if(_0x145d37&&_0x27b5c3===_0x498a3b(0xa22)){let _0x210f7c=!![];for(let _0x415d3e=0x0;_0x415d3e<currentDisplayedQuiz[_0x498a3b(0x2bb)][_0x498a3b(0x31f)];_0x415d3e++){const _0x1bff15=_0x3fcb86[_0x498a3b(0x497)](_0x498a3b(0x2e6)+_0x415d3e);if(!_0x1bff15||_0x1bff15[_0x498a3b(0x303)]===''){_0x210f7c=![];break;}}if(!_0x210f7c){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x364542=_0x3fcb86['querySelector'](_0x498a3b(0x7ff)),_0x1ea336=currentDisplayedQuiz['questions'][_0x498a3b(0xa98)](_0x30c3b7=>_0x30c3b7[_0x498a3b(0x4f4)]===_0x498a3b(0x15d));_0x364542&&(_0x364542['disabled']=!![],_0x364542[_0x498a3b(0x1bb)]=_0x1ea336?_0x498a3b(0x201):_0x498a3b(0x768));const _0x12cfd2=new FormData(_0x3fcb86),_0x53897a=currentDisplayedQuiz['questions'][_0x498a3b(0x743)]((_0x4f4be3,_0x5d0e46)=>{const _0x7e606c=_0x498a3b,_0x1c592b=_0x12cfd2[_0x7e606c(0xaef)](_0x7e606c(0x8e9)+_0x5d0e46);let _0x54c03e;_0x27b5c3===_0x7e606c(0xa22)?_0x54c03e=_0x12cfd2[_0x7e606c(0xaef)](_0x7e606c(0x3dc)+_0x5d0e46):_0x54c03e=_0x12cfd2[_0x7e606c(0xaef)](_0x7e606c(0x3dc)+_0x5d0e46)==='on';let _0x2fea6e=null;if(_0x1c592b!==null&&_0x1c592b!==undefined){const _0x2373cd=_0x4f4be3[_0x7e606c(0x4f4)]||currentDisplayedQuiz[_0x7e606c(0x641)];_0x2373cd===_0x7e606c(0x622)||_0x2373cd===_0x7e606c(0x68f)?_0x2fea6e=parseInt(_0x1c592b):_0x2fea6e=_0x1c592b;}return{'answer':_0x2fea6e,'wasConfident':_0x54c03e};}),_0x5e15ad=currentQuizData['id'],_0x10dcbe=doc(db,_0x498a3b(0x439)+appId+_0x498a3b(0x584)+_0x5e15ad+_0x498a3b(0x9dd),currentStudentName),_0xdb08ea=await getDoc(_0x10dcbe),_0x58d416=_0xdb08ea[_0x498a3b(0x905)]()?_0xdb08ea[_0x498a3b(0x612)]():{},_0x473588=_0x58d416[_0x498a3b(0x4ee)]||[];await processAndSubmitAnswers(_0x53897a,_0x473588);}async function gradeShortAnswerWithAI(_0x154736,_0xdff0dd){const _0x4f1ca4=_0x3f08ea;if(!_0x154736||!_0xdff0dd)return![];try{const _0x33ddfb=_0x4f1ca4(0x8e3)+_0x154736+_0x4f1ca4(0x9be)+_0xdff0dd+_0x4f1ca4(0x540),_0x489c4c={'contents':[{'role':_0x4f1ca4(0x604),'parts':[{'text':_0x33ddfb}]}]},_0x38461b=_0x4f1ca4(0x7df),_0x5a2e7f=_0x4f1ca4(0x40f)+_0x38461b,_0x3f33e8=await fetch(_0x5a2e7f,{'method':_0x4f1ca4(0x937),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4f1ca4(0x65e)](_0x489c4c)});if(!_0x3f33e8['ok'])throw new Error(_0x4f1ca4(0x1c2));const _0x121562=await _0x3f33e8[_0x4f1ca4(0x551)](),_0x2a2f4d=_0x121562[_0x4f1ca4(0x9e3)][0x0][_0x4f1ca4(0x791)][_0x4f1ca4(0x8a5)][0x0][_0x4f1ca4(0x8bd)][_0x4f1ca4(0x5d8)]()[_0x4f1ca4(0x313)]();return _0x2a2f4d===_0x4f1ca4(0x3e7);}catch(_0x26e1c6){return console[_0x4f1ca4(0x183)](_0x4f1ca4(0x812),_0x26e1c6),![];}}async function processAndSubmitAnswers(_0x36f6ff,_0x4d85e6){const _0x1e5f84=_0x3f08ea;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x1e5f84(0x3d0),handleFullscreenChange),document['removeEventListener'](_0x1e5f84(0x676),handleVisibilityChange);let _0xaf5439=0x0;const _0x28cce=[],_0x54594f=currentDisplayedQuiz['questions'][_0x1e5f84(0x31f)];let _0x855a52=0x0,_0x379af4=[];const _0x1dad4f=currentDisplayedQuiz[_0x1e5f84(0x2bb)];for(let _0xe7ecce=0x0;_0xe7ecce<_0x1dad4f[_0x1e5f84(0x31f)];_0xe7ecce++){const _0x43f10f=_0x1dad4f[_0xe7ecce],_0x1dea27=_0x36f6ff[_0xe7ecce],_0x206b3a=_0x1dea27?_0x1dea27[_0x1e5f84(0x505)]:null,_0x40293e=_0x1dea27?_0x1dea27['wasConfident']:null;let _0x24a507=![],_0xafa2d=0x0;if(_0x206b3a!==null&&_0x206b3a!==''){const _0x53c272=_0x43f10f[_0x1e5f84(0x4f4)]||currentDisplayedQuiz[_0x1e5f84(0x641)];switch(_0x53c272){case _0x1e5f84(0x466):_0x24a507=_0x206b3a===_0x43f10f[_0x1e5f84(0x984)];break;case _0x1e5f84(0x8bf):const _0x3bd1fd=_0x206b3a===!![]||_0x206b3a===_0x1e5f84(0x3e7);_0x24a507=_0x3bd1fd===_0x43f10f[_0x1e5f84(0x26f)];break;case _0x1e5f84(0x15d):_0x24a507=await gradeShortAnswer(_0x206b3a,_0x43f10f);break;case _0x1e5f84(0x622):default:_0x24a507=Number(_0x206b3a)===_0x43f10f[_0x1e5f84(0x74e)];break;}}if(currentDisplayedQuiz['settings']?.[_0x1e5f84(0x2ae)]){const _0x674ef1=_0x1dea27?_0x1dea27[_0x1e5f84(0x2a6)]:null;if(_0x24a507&&(_0x674ef1===!![]||_0x674ef1===_0x1e5f84(0x9c0)))_0xafa2d=0x2;else{if(_0x24a507)_0xafa2d=0x1;else{if(!_0x24a507&&(_0x674ef1===![]||_0x674ef1===_0x1e5f84(0x742)||_0x674ef1===null))_0xafa2d=0x0;else!_0x24a507&&(_0x674ef1===!![]||_0x674ef1==='confident')&&(_0xafa2d=-0x1);}}}else _0xafa2d=_0x24a507?0x1:0x0;_0xaf5439+=_0xafa2d;if(_0x24a507){_0x855a52++;if(_0x855a52===0x3)_0x379af4[_0x1e5f84(0xa97)](BADGES['ON_FIRE']['id']);}else _0x855a52=0x0;let _0x1ad6d0=null;_0x43f10f[_0x1e5f84(0xaee)]&&_0x206b3a!==null&&(_0x1ad6d0=_0x43f10f[_0x1e5f84(0xaee)][_0x206b3a]),_0x28cce[_0x1e5f84(0xa97)]({'questionId':_0x43f10f['id'],'answer':_0x206b3a,'answerText':_0x1ad6d0,'isCorrect':_0x24a507,'wasConfident':_0x40293e,'pointsAwarded':_0xafa2d,'originalQuestionText':_0x43f10f[_0x1e5f84(0x353)]||_0x43f10f[_0x1e5f84(0x81a)]});}const _0x23ad76=_0x28cce[_0x1e5f84(0x30b)](_0x176fbb=>_0x176fbb[_0x1e5f84(0x3b7)])['length'],_0x2008cb=currentDisplayedQuiz[_0x1e5f84(0x921)]?.[_0x1e5f84(0x8ad)]??Math['floor'](_0x54594f/0x2);_0x23ad76===_0x54594f&&_0x54594f>0x0&&!currentDisplayedQuiz[_0x1e5f84(0x34a)]&&_0x379af4[_0x1e5f84(0xa97)](BADGES['PERFECT_SCORE']['id']);const _0x34e383=currentDisplayedQuiz[_0x1e5f84(0x921)]?.['timerMode'];if(_0x34e383==='whole_quiz'&&quizStartTime){const _0x275621=(new Date()-quizStartTime)/0x3e8,_0x14431a=currentDisplayedQuiz[_0x1e5f84(0x921)][_0x1e5f84(0x2e4)]*0x3c;_0x23ad76>=_0x2008cb&&_0x275621<_0x14431a/0x2&&_0x379af4['push'](BADGES[_0x1e5f84(0x673)]['id']);}_0x4d85e6[_0x1e5f84(0x31f)]===0x0&&_0x23ad76===_0x54594f&&_0x54594f>0x0&&_0x379af4[_0x1e5f84(0xa97)](BADGES['FIRST_TRY_ACE']['id']);if(_0x4d85e6['length']>0x0){const _0x4296db=_0x4d85e6[0x0]['score'];if(_0x4296db<_0x2008cb&&_0x23ad76>=_0x2008cb){const _0x5b59f7=_0x4d85e6[_0x1e5f84(0xa98)](_0x3152fc=>(_0x3152fc[_0x1e5f84(0xa90)]||[])[_0x1e5f84(0x634)](BADGES[_0x1e5f84(0x69d)]['id']));!_0x5b59f7&&_0x379af4[_0x1e5f84(0xa97)](BADGES['COMEBACK_KING']['id']);}}_0x4d85e6[_0x1e5f84(0x31f)]===0x4&&_0x379af4[_0x1e5f84(0xa97)](BADGES[_0x1e5f84(0x82e)]['id']);const _0x1d6da8=currentDisplayedQuiz[_0x1e5f84(0x921)][_0x1e5f84(0xa68)];if(currentMode===_0x1e5f84(0x89c)){handleResultDisplay(_0x1d6da8,_0x23ad76,_0xaf5439,_0x379af4,_0x28cce,_0x54594f);return;}const _0x40fdb4=currentQuizData['id'],_0x47ffa3=doc(db,_0x1e5f84(0x439)+appId+_0x1e5f84(0x584)+_0x40fdb4+_0x1e5f84(0x9dd),currentStudentName);try{const _0x5e2197=[..._0x4d85e6],_0x48fb86={'score':_0x23ad76,'points':_0xaf5439,'badges':Array[_0x1e5f84(0x5bc)](new Set(_0x379af4)),'submittedAt':new Date()[_0x1e5f84(0x481)](),'answers':_0x28cce};_0x5e2197['push'](_0x48fb86);const _0x366d5f=_0x4d85e6[_0x1e5f84(0x31f)]===0x0?_0x23ad76:_0x4d85e6[0x0]['score']||0x0,_0x316e13=Math[_0x1e5f84(0x1f0)](..._0x5e2197['map'](_0x285a84=>_0x285a84[_0x1e5f84(0x7b8)]));await setDoc(_0x47ffa3,{'studentName':currentStudentName,'totalQuestions':_0x54594f,'attempts':_0x5e2197,'firstScore':_0x366d5f,'bestScore':_0x316e13,'latestScore':_0x23ad76,'points':_0xaf5439,'latestSubmittedAt':_0x48fb86['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1e5f84(0x6ec)],currentStudentName),handleResultDisplay(_0x1d6da8,_0x23ad76,_0xaf5439,_0x379af4,_0x28cce,_0x54594f);}catch(_0x41cff0){console['error'](_0x1e5f84(0x314),_0x41cff0),showMessage(_0x1e5f84(0x49b));}}async function updateStudentProfile(_0x32c39b,_0x3eb4e3){const _0x4a3bed=_0x3f08ea,_0x57a590=doc(db,_0x4a3bed(0x439)+appId+'/public/data/projects/'+_0x32c39b+_0x4a3bed(0x2a4),_0x3eb4e3);try{const _0x2383c5=query(collection(db,'artifacts/'+appId+_0x4a3bed(0x5e9)),where('projectId','==',_0x32c39b)),_0x1ff05e=await getDocs(_0x2383c5),_0xdb7970=new Map(_0x1ff05e['docs'][_0x4a3bed(0x743)](_0x347e07=>[_0x347e07['id'],_0x347e07[_0x4a3bed(0x612)]()])),_0x35f422=Array[_0x4a3bed(0x5bc)](_0xdb7970[_0x4a3bed(0xa21)]());await runTransaction(db,async _0x4ab732=>{const _0x85dca2=_0x4a3bed;let _0x5c42d8=0x0;const _0x10bb33={};let _0x4065d8=!![],_0x5c6fe9=0x0,_0x55950c=0x0;for(const _0x242b70 of _0x35f422){const _0x2fadc3=_0xdb7970[_0x85dca2(0xaef)](_0x242b70),_0x27ce76=doc(db,_0x85dca2(0x439)+appId+_0x85dca2(0x584)+_0x242b70+_0x85dca2(0x9dd),_0x3eb4e3),_0x3ae25b=await _0x4ab732[_0x85dca2(0xaef)](_0x27ce76);if(_0x3ae25b['exists']()){const _0x32ec86=_0x3ae25b[_0x85dca2(0x612)](),_0x2ab133=_0x32ec86[_0x85dca2(0x4ee)]||[];if(_0x2ab133[_0x85dca2(0x31f)]>0x0){const _0x121f67=_0x2ab133[_0x85dca2(0x329)]((_0x32a161,_0x1df57c)=>{const _0x5b6393=_0x85dca2;if(_0x1df57c['score']>_0x32a161['score'])return _0x1df57c;if(_0x1df57c[_0x5b6393(0x7b8)]===_0x32a161[_0x5b6393(0x7b8)])return(_0x1df57c[_0x5b6393(0x169)]||0x0)>(_0x32a161[_0x5b6393(0x169)]||0x0)?_0x1df57c:_0x32a161;return _0x32a161;},{'score':-0x1,'points':-0x1});_0x121f67[_0x85dca2(0x7b8)]>-0x1&&(_0x5c42d8+=_0x121f67[_0x85dca2(0x169)]||0x0,(_0x121f67[_0x85dca2(0xa90)]||[])['forEach'](_0x5d49e6=>{_0x10bb33[_0x5d49e6]=(_0x10bb33[_0x5d49e6]||0x0)+0x1;}));}}if(_0x2fadc3[_0x85dca2(0x994)]!==_0x85dca2(0x2d3)){_0x55950c++;if(_0x3ae25b[_0x85dca2(0x905)]()){_0x5c6fe9++;const _0x128df6=_0x3ae25b[_0x85dca2(0x612)]();_0x128df6[_0x85dca2(0x245)]!==_0x128df6[_0x85dca2(0x204)]&&(_0x4065d8=![]);}else _0x4065d8=![];}}_0x55950c>0x0&&_0x5c6fe9===_0x55950c&&_0x4065d8?_0x10bb33[_0x85dca2(0x1bc)]=0x1:_0x10bb33[_0x85dca2(0x1bc)]=0x0,_0x4ab732['set'](_0x57a590,{'studentName':_0x3eb4e3,'totalPoints':_0x5c42d8,'unlockedBadges':Object[_0x85dca2(0xa21)](_0x10bb33)[_0x85dca2(0x30b)](_0x57d086=>_0x10bb33[_0x57d086]>0x0),'badgesCount':_0x10bb33},{'merge':!![]});});}catch(_0x17df6c){console['error'](_0x4a3bed(0x366),_0x17df6c),showMessage(_0x4a3bed(0x48c));}}function startAdminTest(){const _0x195a33=_0x3f08ea;if(!currentQuizData){showMessage(_0x195a33(0x2c0));return;}let _0x566a09=JSON[_0x195a33(0x2ba)](JSON['stringify'](currentQuizData));currentMode=_0x195a33(0x89c),currentStudentName=_0x195a33(0x154),adminView[_0x195a33(0x67e)][_0x195a33(0x677)](_0x195a33(0x66d)),studentView[_0x195a33(0x67e)]['remove'](_0x195a33(0x66d)),studentInitialView[_0x195a33(0x67e)][_0x195a33(0x677)](_0x195a33(0x66d)),studentNameSelectionView[_0x195a33(0x67e)][_0x195a33(0x677)](_0x195a33(0x66d)),studentResultArea[_0x195a33(0x67e)][_0x195a33(0x677)](_0x195a33(0x66d)),studentQuizArea[_0x195a33(0x67e)][_0x195a33(0xaa2)](_0x195a33(0x66d)),quizStartTime=new Date(),displayQuizForStudent(_0x566a09);}function handleResultDisplay(_0x85df9e,_0x593951,_0x2261db,_0x28873b,_0x384dac,_0x52dc98){const _0x3de849=_0x3f08ea;if(_0x85df9e==='manual_release'){displaySubmissionConfirmation();return;}const _0x54f58e=currentDisplayedQuiz[_0x3de849(0x921)]?.['passingScore']??Math[_0x3de849(0x5fa)](_0x52dc98/0x2),_0x56240=currentDisplayedQuiz[_0x3de849(0x921)]?.['isAdaptive']??![],_0x30fa43=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0x55d62a=_0x593951<_0x54f58e,_0x262b94=_0x85df9e===_0x3de849(0x72e)||_0x85df9e==='perfect_score_status';if(_0x30fa43&&_0x55d62a&&!_0x262b94){_0x85df9e==='show_results_and_answers'?displayResultsWithAnswers(_0x593951,_0x2261db,_0x28873b,_0x384dac,_0x52dc98,!![]):displayLoopScreen(_0x593951,_0x52dc98,_0x85df9e);return;}if(_0x56240&&_0x55d62a){startAdaptiveFlow(_0x384dac,_0x593951,_0x52dc98);return;}switch(_0x85df9e){case'show_results_and_answers':displayResultsWithAnswers(_0x593951,_0x2261db,_0x28873b,_0x384dac,_0x52dc98);break;case _0x3de849(0x69a):displayResultsScoreOnly(_0x593951,_0x2261db,_0x28873b,_0x52dc98);break;case _0x3de849(0x250):displayPassFailOnly(_0x593951,_0x52dc98);break;case _0x3de849(0x72e):displayHalfMarkResult(_0x593951,_0x52dc98);break;case _0x3de849(0x684):displayPerfectScoreResult(_0x593951,_0x52dc98);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xcfe563){const _0x139f8f=_0x3f08ea;studentReadingArea[_0x139f8f(0x1bb)]=_0x139f8f(0x998);const _0x2b591f=_0x139f8f(0x9f1)+_0xcfe563+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x139f8f(0xa57),_0x2bde2d={'type':_0x139f8f(0x6a6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x139f8f(0x1cf),'items':{'type':_0x139f8f(0x2a3)}},'correctAnswerIndex':{'type':_0x139f8f(0x20d)},'explanation':{'type':_0x139f8f(0x2a3)}},'required':[_0x139f8f(0x81a),_0x139f8f(0xaee),_0x139f8f(0x74e),_0x139f8f(0x339)]},_0x551b76={'type':_0x139f8f(0x6a6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x139f8f(0x1cf),'items':_0x2bde2d}},'required':[_0x139f8f(0x994),_0x139f8f(0x2bb)]};try{const _0x4609f1=await callAnalysisApi(_0x2b591f,_0x551b76);_0x4609f1[_0x139f8f(0x34a)]=!![],studentReadingArea[_0x139f8f(0x67e)][_0x139f8f(0x677)](_0x139f8f(0x66d));const _0xbd7e46={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x139f8f(0x25d)};_0x4609f1[_0x139f8f(0x921)]=_0xbd7e46,displayQuizForStudent(_0x4609f1);}catch(_0x12b8e0){console[_0x139f8f(0x183)](_0x139f8f(0x425),_0x12b8e0),showMessage(_0x139f8f(0x665)),showView(_0x139f8f(0x351));}}function displayPassFailOnly(_0x3780c7,_0x43d7ac){const _0x12054e=_0x3f08ea,_0x2279e9=currentDisplayedQuiz[_0x12054e(0x921)]?.['passingScore']??-0x1,_0x53249e=currentDisplayedQuiz[_0x12054e(0x34a)]===!![];let _0xcacdf='',_0x1775c1=![];if(_0x53249e||_0x2279e9!==-0x1){_0x1775c1=_0x53249e?_0x3780c7===_0x43d7ac:_0x3780c7>=_0x2279e9;const _0x146973=_0x1775c1?_0x12054e(0x753):_0x12054e(0x806),_0x26b689=_0x1775c1?_0x12054e(0xa89):'ไม่ผ่าน';_0xcacdf='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x146973+'\x22>'+_0x26b689+_0x12054e(0x5c1);}else _0xcacdf=_0x12054e(0x200);let _0x1d1ae4=_0x12054e(0x1e9)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcacdf+_0x12054e(0x856);studentResultArea[_0x12054e(0x1bb)]=_0x1d1ae4,studentResultArea[_0x12054e(0x67e)][_0x12054e(0xaa2)](_0x12054e(0x66d)),studentQuizArea['classList'][_0x12054e(0x677)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1775c1});}function cancelAdminTest(){const _0x342207=_0x3f08ea;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x342207(0x400)](_0x342207(0x3d0),handleFullscreenChange),document['removeEventListener'](_0x342207(0x676),handleVisibilityChange),currentMode=_0x342207(0xa73),studentView[_0x342207(0x67e)][_0x342207(0x677)](_0x342207(0x66d)),adminView[_0x342207(0x67e)][_0x342207(0xaa2)](_0x342207(0x66d)),showView('project-detail');}function setupResultScreenBackButton(_0x3a70f9){const _0x788b8a=_0x3f08ea,_0x5ca09b={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3a70f9};if(_0x5ca09b['isLooping']){const _0x1fbc9f=_0x788b8a(0x9a0);studentResultArea['insertAdjacentHTML'](_0x788b8a(0x1f7),_0x1fbc9f),document[_0x788b8a(0x274)](_0x788b8a(0x406))[_0x788b8a(0x908)](_0x788b8a(0x405),()=>{const _0x1b2dd5=_0x788b8a;studentResultArea[_0x1b2dd5(0x67e)][_0x1b2dd5(0x677)](_0x1b2dd5(0x66d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3eee0e='back-from-results-btn',_0x24f9b6=currentMode===_0x788b8a(0x89c),_0x4fd7e5=_0x24f9b6?_0x788b8a(0x93d):_0x788b8a(0x9b7);let _0x3146fe='';_0x5ca09b[_0x788b8a(0x46d)]&&(_0x3146fe+=_0x788b8a(0x888));let _0x2d0b5e=_0x5ca09b[_0x788b8a(0x850)];_0x2d0b5e===undefined&&(_0x2d0b5e=_0x5ca09b[_0x788b8a(0x7b8)]<_0x5ca09b[_0x788b8a(0x204)]);_0x2d0b5e&&(_0x3146fe+=_0x788b8a(0x6e7));_0x3146fe+='<button\x20id=\x22'+_0x3eee0e+_0x788b8a(0x3bb)+_0x4fd7e5+_0x788b8a(0x637);const _0x50aa8c=_0x788b8a(0x8de)+_0x3146fe+_0x788b8a(0x601);studentResultArea[_0x788b8a(0x6e1)]('beforeend',_0x50aa8c),studentResultArea['querySelector']('#view-rankings-btn')?.[_0x788b8a(0x908)](_0x788b8a(0x405),handleShowStudentRankings);const _0x2642ea=studentResultArea['querySelector']('#retake-for-improvement-btn');_0x2642ea&&_0x2642ea[_0x788b8a(0x908)]('click',()=>{const _0x14aee2=_0x788b8a;studentResultArea[_0x14aee2(0x67e)][_0x14aee2(0x677)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x788b8a(0x274)](_0x3eee0e)['addEventListener']('click',()=>{const _0xc5dd0=_0x788b8a;_0x24f9b6?(currentMode=_0xc5dd0(0xa73),studentView[_0xc5dd0(0x67e)]['add']('hidden'),adminView[_0xc5dd0(0x67e)][_0xc5dd0(0xaa2)](_0xc5dd0(0x66d)),showView(_0xc5dd0(0x484))):(showView('student'),document[_0xc5dd0(0x274)](_0xc5dd0(0xa61))['value']='');});}function displayResultsWithAnswers(_0x59859c,_0x4e093f,_0x5f0581,_0x57ec7a,_0x27d7d0,_0x4a3749=![]){const _0xf09b58=_0x3f08ea,_0x1ffb92=_0x27d7d0>0x0?_0x59859c/_0x27d7d0*0x64:0x0,_0x209bc8=currentDisplayedQuiz[_0xf09b58(0x921)]?.[_0xf09b58(0x8ad)]??-0x1,_0x4b46d3=currentDisplayedQuiz[_0xf09b58(0x34a)]===!![];let _0x4e9570='';if(_0x4b46d3||_0x209bc8!==-0x1){let _0x24adc4=_0x4b46d3?_0x59859c===_0x27d7d0:_0x59859c>=_0x209bc8;const _0x2785e2=_0x24adc4?_0xf09b58(0x753):'bg-red-100\x20text-red-800',_0x26403a=_0x24adc4?'ผ่าน':'ไม่ผ่าน';_0x4e9570=_0xf09b58(0xa99)+_0x2785e2+'\x22>'+_0x26403a+'</p>';}let _0x591291=_0xf09b58(0x694)+currentStudentName+_0xf09b58(0x4bb)+_0x59859c+_0xf09b58(0x9cb)+_0x27d7d0+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e9570+_0xf09b58(0xa46)+_0x4e093f+_0xf09b58(0x3e0)+_0x1ffb92[_0xf09b58(0x2cd)](0x0)+_0xf09b58(0xaa7);currentDisplayedQuiz[_0xf09b58(0x2bb)][_0xf09b58(0x232)]((_0x18466f,_0x244fc8)=>{const _0xcb3128=_0xf09b58,_0x53b3a4=_0x57ec7a[_0x244fc8],_0x26380f=_0x53b3a4[_0xcb3128(0x505)],_0xf6aa2c=_0x53b3a4[_0xcb3128(0x3b7)],_0x2b1bd0=_0x18466f['questionType']||currentDisplayedQuiz[_0xcb3128(0x641)];_0x591291+=_0xcb3128(0x6b4)+(_0xf6aa2c?_0xcb3128(0x670):_0xcb3128(0x2bf))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x244fc8+0x1)+'.\x20'+(_0x18466f['stem']||_0x18466f['questionText'])+_0xcb3128(0x2f0);switch(_0x2b1bd0){case _0xcb3128(0x466):const _0x52ca76=_0x26380f||_0xcb3128(0x62c),_0xdc4075=_0x18466f['correctResponse'];_0x591291+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0xf6aa2c?_0xcb3128(0x611):'')+'\x22>'+_0x52ca76+_0xcb3128(0x98a);!_0xf6aa2c&&(_0x591291+=_0xcb3128(0x647)+_0xdc4075+_0xcb3128(0x1fe));break;case _0xcb3128(0x15d):_0x591291+=_0xcb3128(0x55f)+(_0x26380f||_0xcb3128(0x62c))+'</p>',_0x591291+=_0xcb3128(0xa44)+_0x18466f[_0xcb3128(0x645)]+_0xcb3128(0x1fe);break;case _0xcb3128(0x8bf):_0x591291+=_0xcb3128(0x2cb)+(_0x18466f[_0xcb3128(0x26f)]===!![]?_0xcb3128(0x4fe):'')+'\x20'+(_0x26380f===_0xcb3128(0x3e7)&&!_0xf6aa2c?_0xcb3128(0x611):'')+_0xcb3128(0x8a8),_0x591291+=_0xcb3128(0x2cb)+(_0x18466f['correctAnswer']===![]?_0xcb3128(0x4fe):'')+'\x20'+(_0x26380f===_0xcb3128(0x2e7)&&!_0xf6aa2c?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x591291+=_0x18466f[_0xcb3128(0xaee)][_0xcb3128(0x743)]((_0x520802,_0x10b2e9)=>{const _0x38031e=_0xcb3128;let _0x5b7104='',_0x18dee7='';if(_0x10b2e9===_0x18466f[_0x38031e(0x74e)])_0x5b7104='font-bold\x20text-green-700',_0x18dee7=_0x38031e(0x9c1);else _0x10b2e9===_0x26380f&&(_0x5b7104=_0x38031e(0x4e6),_0x18dee7=_0x38031e(0x81d));return _0x38031e(0x380)+_0x5b7104+'\x22>'+_0x18dee7+_0x520802+'</div>';})[_0xcb3128(0xaad)]('');break;}_0x591291+=_0xcb3128(0x666)+(_0x18466f['explanation']||_0xcb3128(0x600))+_0xcb3128(0x601);if(!_0xf6aa2c){const _0x18cc99=_0x18466f['stem']||_0x18466f[_0xcb3128(0x81a)];_0x591291+=_0xcb3128(0x6bd)+escape(_0x18cc99)+_0xcb3128(0x81f);}_0x591291+='</div>';}),studentResultArea[_0xf09b58(0x1bb)]=_0x591291,renderEarnedBadges(_0x5f0581,'earned-badges-container'),studentResultArea[_0xf09b58(0x67e)][_0xf09b58(0xaa2)]('hidden'),studentQuizArea[_0xf09b58(0x67e)]['add'](_0xf09b58(0x66d)),setupResultScreenBackButton({'isLooping':_0x4a3749,'score':_0x59859c,'totalQuestions':_0x27d7d0,'showRankings':!![]});if(window[_0xf09b58(0x13c)])window[_0xf09b58(0x13c)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3d2009,_0x5bf75c,_0x1c9967,_0x3ef021){const _0x392dc7=_0x3f08ea,_0x53cc10=_0x3ef021>0x0?_0x3d2009/_0x3ef021*0x64:0x0,_0x23da78=currentDisplayedQuiz[_0x392dc7(0x921)]?.['passingScore']??-0x1,_0x50a465=currentDisplayedQuiz[_0x392dc7(0x34a)]===!![];let _0x73f126='';if(_0x50a465||_0x23da78!==-0x1){let _0x41d567=_0x50a465?_0x3d2009===_0x3ef021:_0x3d2009>=_0x23da78;const _0x6ad156=_0x41d567?_0x392dc7(0x753):_0x392dc7(0x806),_0x3b4b6d=_0x41d567?_0x392dc7(0xa89):_0x392dc7(0xa79);_0x73f126=_0x392dc7(0xa99)+_0x6ad156+'\x22>'+_0x3b4b6d+_0x392dc7(0x1fe);}let _0x297cf7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x3d2009+_0x392dc7(0x751)+_0x3ef021+_0x392dc7(0x289)+_0x73f126+_0x392dc7(0xa46)+_0x5bf75c+_0x392dc7(0x847)+_0x53cc10[_0x392dc7(0x2cd)](0x0)+_0x392dc7(0x70c);studentResultArea[_0x392dc7(0x1bb)]=_0x297cf7,renderEarnedBadges(_0x1c9967,_0x392dc7(0x9d5)),studentResultArea[_0x392dc7(0x67e)]['remove'](_0x392dc7(0x66d)),studentQuizArea[_0x392dc7(0x67e)]['add'](_0x392dc7(0x66d)),setupResultScreenBackButton({'score':_0x3d2009,'totalQuestions':_0x3ef021,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xa22f19=_0x3f08ea;let _0x57b59e=_0xa22f19(0x6a1)+currentStudentName+_0xa22f19(0x1e7);studentResultArea[_0xa22f19(0x1bb)]=_0x57b59e,studentResultArea['classList'][_0xa22f19(0xaa2)](_0xa22f19(0x66d)),studentQuizArea[_0xa22f19(0x67e)][_0xa22f19(0x677)](_0xa22f19(0x66d)),document[_0xa22f19(0x274)](_0xa22f19(0x7d8))[_0xa22f19(0x908)](_0xa22f19(0x405),()=>{const _0x8a94e0=_0xa22f19;showView(_0x8a94e0(0x351)),document[_0x8a94e0(0x274)]('quiz-id-input')[_0x8a94e0(0x303)]='';});}function renderEarnedBadges(_0x574a4e,_0x483d8b){const _0x3feafd=_0x3f08ea,_0x22129d=document['getElementById'](_0x483d8b);if(!_0x22129d||!_0x574a4e||_0x574a4e[_0x3feafd(0x31f)]===0x0)return;let _0x387341='';_0x574a4e[_0x3feafd(0x232)]((_0x4735ad,_0x1fb60a)=>{const _0x598617=_0x3feafd,_0x32e5bd=Object['values'](BADGES)[_0x598617(0x270)](_0x4bbe35=>_0x4bbe35['id']===_0x4735ad);_0x32e5bd&&(_0x387341+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1fb60a*0.2+_0x598617(0xae8)+_0x32e5bd[_0x598617(0xad0)]+_0x598617(0x2af)+_0x32e5bd[_0x598617(0x82d)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x32e5bd[_0x598617(0x340)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x22129d[_0x3feafd(0x1bb)]=_0x387341;}function startPresentation(_0x1e8d68){const _0x3c229b=_0x3f08ea;currentQuizData=getShuffledQuiz(_0x1e8d68),currentPresentationSlide=0x0,presentationModal[_0x3c229b(0x55d)][_0x3c229b(0x179)]=_0x3c229b(0x7ec),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5b1c21=_0x3f08ea;document[_0x5b1c21(0x2a5)]&&document[_0x5b1c21(0x652)](),presentationModal[_0x5b1c21(0x55d)][_0x5b1c21(0x179)]='none';}function renderPresentationSlide(_0x191dd1){const _0x498e17=_0x3f08ea,_0x245a26=document[_0x498e17(0x274)](_0x498e17(0x6fe));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x498e17(0x2bb)][_0x191dd1]){_0x245a26[_0x498e17(0x1bb)]=_0x498e17(0x230);return;}const _0x2d3143=currentQuizData[_0x498e17(0x2bb)][_0x191dd1],_0x57da68=_0x2d3143['questionType']||currentQuizData['quizType'];_0x245a26[_0x498e17(0x1bb)]='';let _0x40a090=_0x498e17(0x8c8)+(_0x2d3143[_0x498e17(0xaa5)]?_0x498e17(0x62b)+_0x2d3143[_0x498e17(0xaa5)]+'</div>':'')+_0x498e17(0x913)+(_0x191dd1+0x1)+'.\x20'+(_0x2d3143[_0x498e17(0x353)]||_0x2d3143[_0x498e17(0x81a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x57da68){case _0x498e17(0x466):_0x40a090+=_0x2d3143[_0x498e17(0x378)]['map'](_0xfb7a72=>_0x498e17(0x6ce)+_0xfb7a72+_0x498e17(0x2c7))[_0x498e17(0xaad)]('');break;case'true_false':_0x40a090+=_0x498e17(0x2d0),_0x40a090+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x498e17(0x66c):case'short_answer':_0x40a090+=_0x498e17(0x160);break;case _0x498e17(0x68f):case _0x498e17(0x622):default:_0x40a090+=_0x2d3143[_0x498e17(0xaee)]['map']((_0x124b0d,_0xaa0b4d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0xaa0b4d+_0x498e17(0x95c)+_0x124b0d+_0x498e17(0x2c7))['join']('');break;}_0x40a090+=_0x498e17(0x535)+(_0x2d3143[_0x498e17(0x339)]||'ไม่มีคำอธิบาย')+_0x498e17(0x545),_0x245a26[_0x498e17(0x1bb)]=_0x40a090;if(window[_0x498e17(0x13c)])window[_0x498e17(0x13c)][_0x498e17(0x4db)]([_0x245a26]);let _0x1f8096=[];switch(_0x57da68){case _0x498e17(0x466):_0x1f8096=_0x2d3143[_0x498e17(0x378)]||[];break;case'true_false':_0x1f8096=[_0x498e17(0x8a7),_0x498e17(0x3a9)];break;default:_0x1f8096=_0x2d3143[_0x498e17(0xaee)]||[];break;}const _0x2433c8=document[_0x498e17(0x274)](_0x498e17(0x441));_0x2433c8&&(_0x2433c8['onclick']=()=>{openScratchpad(_0x2d3143,_0x1f8096);});document[_0x498e17(0x591)]('.presentation-option')[_0x498e17(0x232)](_0x54bed4=>{const _0x252b71=_0x498e17;_0x54bed4[_0x252b71(0x908)]('click',_0x20382b=>revealAnswerForPresentation(_0x191dd1,_0x20382b[_0x252b71(0x42c)]));});const _0x4a0a86=document[_0x498e17(0x274)](_0x498e17(0x35e));_0x4a0a86&&_0x4a0a86[_0x498e17(0x908)]('click',()=>checkShortAnswerForPresentation(_0x191dd1)),document[_0x498e17(0x274)](_0x498e17(0x28b))[_0x498e17(0x7b7)]=_0x498e17(0x590)+(_0x191dd1+0x1)+_0x498e17(0x1fd)+currentQuizData[_0x498e17(0x2bb)]['length'],document[_0x498e17(0x274)](_0x498e17(0x578))[_0x498e17(0x5a2)]=_0x191dd1===0x0,document[_0x498e17(0x274)]('next-question-btn')['disabled']=_0x191dd1===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x1d55d8){const _0x2d0547=_0x3f08ea,_0x5d6fb9=currentQuizData[_0x2d0547(0x2bb)][_0x1d55d8],_0x57d3e9=document[_0x2d0547(0x274)]('presentation-short-answer-input'),_0x101005=document['getElementById'](_0x2d0547(0x35e)),_0x3dfd47=document[_0x2d0547(0x274)](_0x2d0547(0x234)),_0x2647ff=document[_0x2d0547(0x274)](_0x2d0547(0x2cc));if(!_0x57d3e9||!_0x101005||!_0x3dfd47||!_0x2647ff)return;const _0x2f740c=_0x57d3e9[_0x2d0547(0x303)]['trim']();if(_0x2f740c==='')return;_0x101005['disabled']=!![],_0x101005[_0x2d0547(0x1bb)]=_0x2d0547(0x9d3),_0x57d3e9['disabled']=!![];const _0x2dfd60=await gradeShortAnswer(_0x2f740c,_0x5d6fb9);_0x2dfd60?_0x3dfd47[_0x2d0547(0x1bb)]=_0x2d0547(0x3d8):_0x3dfd47['innerHTML']=_0x2d0547(0x2a9)+_0x5d6fb9[_0x2d0547(0x645)]+')',_0x3dfd47[_0x2d0547(0x67e)][_0x2d0547(0xaa2)]('hidden'),_0x2647ff[_0x2d0547(0x67e)]['remove'](_0x2d0547(0x66d)),_0x101005[_0x2d0547(0x67e)][_0x2d0547(0x677)](_0x2d0547(0x66d));}function revealAnswerForPresentation(_0xa38b93,_0x43e0fe){const _0x4ac2b0=_0x3f08ea,_0x5d2ee2=currentQuizData[_0x4ac2b0(0x2bb)][_0xa38b93],_0x55faf6=_0x5d2ee2['questionType']||currentQuizData[_0x4ac2b0(0x641)];document[_0x4ac2b0(0x591)](_0x4ac2b0(0xa15))[_0x4ac2b0(0x232)](_0x2e0277=>{const _0x1b5902=_0x4ac2b0;_0x2e0277['disabled']=!![],_0x2e0277[_0x1b5902(0x67e)][_0x1b5902(0xaa2)](_0x1b5902(0x218));let _0x18a1d6=![];if(_0x55faf6===_0x1b5902(0x622)||_0x55faf6===_0x1b5902(0x68f)){const _0x586fee=parseInt(_0x2e0277['dataset']['index']);_0x18a1d6=_0x586fee===_0x5d2ee2[_0x1b5902(0x74e)];}else{if(_0x55faf6===_0x1b5902(0x8bf)){const _0x1e28fc=_0x2e0277[_0x1b5902(0x145)]['answer']===_0x1b5902(0x3e7);_0x18a1d6=_0x1e28fc===_0x5d2ee2[_0x1b5902(0x26f)];}else _0x55faf6===_0x1b5902(0x466)&&(_0x18a1d6=_0x2e0277[_0x1b5902(0x7b7)][_0x1b5902(0x5d8)]()===_0x5d2ee2[_0x1b5902(0x984)]);}_0x18a1d6?_0x2e0277[_0x1b5902(0x67e)][_0x1b5902(0x677)](_0x1b5902(0x268),_0x1b5902(0x894),_0x1b5902(0x27e)):_0x2e0277[_0x1b5902(0x67e)][_0x1b5902(0x677)](_0x1b5902(0x892));}),_0x43e0fe['classList'][_0x4ac2b0(0xaa2)]('opacity-50');let _0x2221e7=![];if(_0x55faf6===_0x4ac2b0(0x622))_0x2221e7=parseInt(_0x43e0fe['dataset'][_0x4ac2b0(0x7ee)])===_0x5d2ee2[_0x4ac2b0(0x74e)];else{if(_0x55faf6===_0x4ac2b0(0x8bf))_0x2221e7=_0x43e0fe[_0x4ac2b0(0x145)][_0x4ac2b0(0x505)]===_0x4ac2b0(0x3e7)===_0x5d2ee2[_0x4ac2b0(0x26f)];else _0x55faf6===_0x4ac2b0(0x466)&&(_0x2221e7=_0x43e0fe['textContent']['trim']()===_0x5d2ee2['correctResponse']);}!_0x2221e7&&_0x43e0fe['classList']['add'](_0x4ac2b0(0x81b),'text-white',_0x4ac2b0(0x5f4)),document[_0x4ac2b0(0x274)](_0x4ac2b0(0x2cc))[_0x4ac2b0(0x67e)]['remove']('hidden');}function startWholeQuizTimer(_0x7c6a34){const _0x487faa=_0x3f08ea,_0x3572bf=document[_0x487faa(0x274)](_0x487faa(0x919));if(!_0x3572bf)return;const _0x14ea5f=Date['now']()+_0x7c6a34*0x3c*0x3e8;_0x3572bf[_0x487faa(0x1bb)]=_0x487faa(0x1da);const _0x551a65=document[_0x487faa(0x274)](_0x487faa(0x3fa));quizTimerInterval=setInterval(()=>{const _0x5b5147=_0x487faa,_0x29743d=_0x14ea5f-Date[_0x5b5147(0x3f3)]();if(_0x29743d<=0x0)clearInterval(quizTimerInterval),_0x551a65[_0x5b5147(0x7b7)]=_0x5b5147(0x454),showMessage(_0x5b5147(0x8f7)),handleSubmitQuiz(null);else{const _0x314361=Math[_0x5b5147(0x5fa)](_0x29743d/0x3e8/0x3c%0x3c)[_0x5b5147(0x999)]()[_0x5b5147(0x318)](0x2,'0'),_0x1d59b0=Math[_0x5b5147(0x5fa)](_0x29743d/0x3e8%0x3c)[_0x5b5147(0x999)]()[_0x5b5147(0x318)](0x2,'0');_0x551a65[_0x5b5147(0x7b7)]=_0x314361+':'+_0x1d59b0;}},0x3e8);}function renderPerQuestionView(){const _0x111ec0=_0x3f08ea;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1a7291=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x157971=_0x1a7291[_0x111ec0(0x4f4)]||currentDisplayedQuiz[_0x111ec0(0x641)],_0x1ee1f8=currentDisplayedQuiz['settings']?.[_0x111ec0(0x2ae)]===!![];let _0x241bcf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x111ec0(0x5a0)+currentDisplayedQuiz[_0x111ec0(0x2bb)][_0x111ec0(0x31f)]+_0x111ec0(0x358)+(currentMode===_0x111ec0(0x89c)?_0x111ec0(0x5f8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x111ec0(0x994)]+_0x111ec0(0x5b2);studentQuizArea['innerHTML']=_0x241bcf;let _0x1f207a=_0x1a7291['stem']||_0x1a7291['questionText'];_0x1a7291[_0x111ec0(0xaa5)]&&(_0x1f207a+=_0x111ec0(0x62b)+_0x1a7291[_0x111ec0(0xaa5)]+_0x111ec0(0x601));let _0x421a9f='';switch(_0x157971){case _0x111ec0(0x15d):case'fill_in_no_choices':_0x421a9f=_0x111ec0(0x7e5);break;case _0x111ec0(0x8bf):_0x421a9f=_0x111ec0(0x479);break;case _0x111ec0(0x466):_0x421a9f='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a7291['allResponses']||[])[_0x111ec0(0x743)](_0x29f03d=>_0x111ec0(0x943)+_0x29f03d+'\x22>'+_0x29f03d+_0x111ec0(0x7d2))[_0x111ec0(0xaad)]('')+_0x111ec0(0x597);break;default:_0x1a7291[_0x111ec0(0xaee)]&&(_0x421a9f=_0x1a7291[_0x111ec0(0xaee)][_0x111ec0(0x743)]((_0x15e293,_0x24e30c)=>_0x111ec0(0x93e)+_0x24e30c+_0x111ec0(0x730)+_0x24e30c+_0x111ec0(0x7be)+_0x24e30c+'\x22>'+_0x15e293+'</label></div>')[_0x111ec0(0xaad)](''));break;}document[_0x111ec0(0x274)](_0x111ec0(0xac7))[_0x111ec0(0x1bb)]=_0x1f207a,document[_0x111ec0(0x274)](_0x111ec0(0x2fb))[_0x111ec0(0x1bb)]=_0x421a9f;const _0x4fa331=currentDisplayedQuiz[_0x111ec0(0x921)]?.[_0x111ec0(0x2ae)]===!![],_0x1b4518=currentDisplayedQuiz[_0x111ec0(0x921)]?.[_0x111ec0(0x67d)]||'checkbox';if(_0x4fa331&&_0x1b4518===_0x111ec0(0x733)){const _0x5ee18f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x111ec0(0x497)](_0x111ec0(0x322))[_0x111ec0(0x6e1)](_0x111ec0(0x1f7),_0x5ee18f);}studentQuizArea[_0x111ec0(0x6e1)](_0x111ec0(0x1f7),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x111ec0(0x2bb)][_0x111ec0(0x31f)]-0x1?'ส่งคำตอบ':_0x111ec0(0x86a))+_0x111ec0(0x8ef));currentMode===_0x111ec0(0x89c)&&document[_0x111ec0(0x274)]('cancel-test-btn')?.[_0x111ec0(0x908)]('click',cancelAdminTest);document[_0x111ec0(0x274)](_0x111ec0(0xa7a))[_0x111ec0(0x908)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x111ec0(0x13c)])window['MathJax'][_0x111ec0(0x4db)]([studentQuizArea]);currentDisplayedQuiz[_0x111ec0(0x921)]?.[_0x111ec0(0xa86)]===_0x111ec0(0x4e2)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0xcb86b6=_0x3f08ea,_0x5de6f7=currentDisplayedQuiz[_0xcb86b6(0x921)][_0xcb86b6(0x2e4)],_0xac6458=document['getElementById'](_0xcb86b6(0x24d));if(!_0xac6458)return;let _0x16d4ae=_0x5de6f7;_0xac6458[_0xcb86b6(0x1bb)]=_0xcb86b6(0x2d2)+_0x16d4ae+_0xcb86b6(0x5e2);const _0xc7d0ba=document[_0xcb86b6(0x274)]('timer-bar'),_0x591930=document['getElementById'](_0xcb86b6(0x48f));perQuestionTimerInterval=setInterval(()=>{const _0x5f3868=_0xcb86b6;_0x16d4ae--;const _0x8fd738=_0x16d4ae/_0x5de6f7*0x64;_0xc7d0ba[_0x5f3868(0x55d)][_0x5f3868(0x8f9)]=_0x8fd738+'%',_0x591930[_0x5f3868(0x7b7)]=_0x16d4ae,_0x16d4ae<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5f3868(0x88e)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x59e6d3=![]){const _0x5434d3=_0x3f08ea;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x135d21=null,_0x128050=![];if(!_0x59e6d3){const _0x399345=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x18cd89=_0x399345[_0x5434d3(0x4f4)]||currentDisplayedQuiz[_0x5434d3(0x641)];if(_0x18cd89===_0x5434d3(0x15d)||_0x18cd89===_0x5434d3(0x66c))_0x135d21=document[_0x5434d3(0x497)]('textarea[name=\x22question_single\x22]')?.[_0x5434d3(0x303)][_0x5434d3(0x5d8)]()??'';else{if(_0x18cd89===_0x5434d3(0x466))_0x135d21=document['querySelector'](_0x5434d3(0x978))?.['value']??'';else{const _0x478033=document[_0x5434d3(0x497)](_0x5434d3(0x88d));_0x478033&&(_0x135d21=_0x478033[_0x5434d3(0x303)]);}}if(_0x135d21===null||_0x135d21===''){showMessage(_0x5434d3(0xa13)),startPerQuestionTimer();return;}const _0x5e3fc8=currentDisplayedQuiz[_0x5434d3(0x921)]?.[_0x5434d3(0x2ae)]===!![],_0x4a5eb8=currentDisplayedQuiz[_0x5434d3(0x921)]?.['confidenceMode']||_0x5434d3(0x733);if(_0x5e3fc8&&_0x4a5eb8===_0x5434d3(0xa22)){document['getElementById'](_0x5434d3(0x43f))[_0x5434d3(0x145)]['currentMode']=_0x5434d3(0x5c6),document[_0x5434d3(0x274)](_0x5434d3(0x9cc))[_0x5434d3(0x303)]=_0x135d21,document[_0x5434d3(0x274)](_0x5434d3(0x43f))[_0x5434d3(0x67e)]['remove'](_0x5434d3(0x66d));return;}const _0x17c585=document[_0x5434d3(0x274)](_0x5434d3(0x9a3));_0x17c585&&(_0x128050=_0x17c585['checked']);}const _0x294673={'answer':_0x135d21,'wasConfident':_0x128050};proceedToNextQuestion(_0x294673);}async function finalizePerQuestionQuiz(){const _0x25f343=_0x3f08ea,_0x10565a=currentDisplayedQuiz['questions'][_0x25f343(0xa98)](_0x4ef1fb=>_0x4ef1fb[_0x25f343(0x4f4)]===_0x25f343(0x15d));_0x10565a?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x25f343(0x1b8));const _0x522543=currentQuizData['id'],_0x45f4d2=doc(db,'artifacts/'+appId+_0x25f343(0x584)+_0x522543+_0x25f343(0x9dd),currentStudentName),_0x311a60=await getDoc(_0x45f4d2),_0x4b7400=_0x311a60[_0x25f343(0x905)]()?_0x311a60[_0x25f343(0x612)]():{},_0x522698=_0x4b7400[_0x25f343(0x4ee)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x522698);}function getResultsFilename(){const _0x5aacc7=_0x3f08ea,_0x4e696f=document['getElementById'](_0x5aacc7(0x547))[_0x5aacc7(0x7b7)][_0x5aacc7(0x5ac)](/[^a-z0-9]/gi,'_')[_0x5aacc7(0x313)]();return _0x5aacc7(0x3cc)+(_0x4e696f||_0x5aacc7(0x287));}function exportResultsAsImage(){const _0xd05538=_0x3f08ea,_0x67aae8=document[_0xd05538(0x274)](_0xd05538(0x589));showMessage(_0xd05538(0x3fe)),html2canvas(_0x67aae8)[_0xd05538(0x419)](_0x5b335c=>{const _0x5221b0=_0xd05538,_0x43c9d8=document[_0x5221b0(0x758)]('a');_0x43c9d8['download']=getResultsFilename()+_0x5221b0(0x5ad),_0x43c9d8[_0x5221b0(0x7ae)]=_0x5b335c[_0x5221b0(0xa52)](_0x5221b0(0x7a1)),_0x43c9d8[_0x5221b0(0x405)](),messageModal[_0x5221b0(0x67e)]['add'](_0x5221b0(0x66d));});}function exportResultsAsPDF(){const _0x52b8a2=_0x3f08ea,{jsPDF:_0x4dd2d2}=window['jspdf'],_0x32d914=new _0x4dd2d2();_0x32d914[_0x52b8a2(0x67a)](_0x52b8a2(0xa8a),_0x52b8a2(0x7eb)),_0x32d914[_0x52b8a2(0xade)]({'html':_0x52b8a2(0x86c)}),_0x32d914[_0x52b8a2(0x8cb)](getResultsFilename()+_0x52b8a2(0x867));}function exportResultsAsWord(){const _0x1db9b1=_0x3f08ea,_0x5bb653=_0x1db9b1(0x819)+_0x1db9b1(0x4c7)+_0x1db9b1(0x86f)+_0x1db9b1(0x32c),_0x37955d=_0x1db9b1(0x56a),_0x3b5e23=_0x5bb653+document[_0x1db9b1(0x274)](_0x1db9b1(0x589))[_0x1db9b1(0x1bb)]+_0x37955d,_0x55cba7=_0x1db9b1(0x478)+encodeURIComponent(_0x3b5e23),_0x576209=document[_0x1db9b1(0x758)]('a');document[_0x1db9b1(0x702)][_0x1db9b1(0x761)](_0x576209),_0x576209['href']=_0x55cba7,_0x576209['download']=getResultsFilename()+_0x1db9b1(0x3ab),_0x576209[_0x1db9b1(0x405)](),document['body']['removeChild'](_0x576209);}function exportResultsAsExcel(){const _0x261191=_0x3f08ea,_0x4e7427=document['getElementById'](_0x261191(0x58d));let _0x2b0586=[];for(let _0x40ee1d=0x0;_0x40ee1d<_0x4e7427[_0x261191(0x524)][_0x261191(0x31f)];_0x40ee1d++){let _0x28204d=[],_0x4b4c98=_0x4e7427[_0x261191(0x524)][_0x40ee1d]['querySelectorAll'](_0x261191(0x760));for(let _0x3e8a4e=0x0;_0x3e8a4e<_0x4b4c98[_0x261191(0x31f)];_0x3e8a4e++){_0x28204d[_0x261191(0xa97)]('\x22'+_0x4b4c98[_0x3e8a4e][_0x261191(0x1d5)][_0x261191(0x5ac)](/"/g,'\x22\x22')+'\x22');}_0x2b0586['push'](_0x28204d['join'](','));}const _0x5a0b9b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2b0586[_0x261191(0xaad)]('\x0a')],{'type':_0x261191(0x418)}),_0x5dc5dd=document['createElement']('a');_0x5dc5dd[_0x261191(0x7ae)]=URL[_0x261191(0x7b6)](_0x5a0b9b),_0x5dc5dd[_0x261191(0x5f5)]=getResultsFilename()+_0x261191(0x1a3),_0x5dc5dd[_0x261191(0x405)]();}function exportTableAsImage(_0x4df362,_0x2004cf){const _0x2dc45b=_0x3f08ea,_0x43254e=document['getElementById'](_0x4df362);if(!_0x43254e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x43254e)[_0x2dc45b(0x419)](_0x11343e=>{const _0x2d4ba8=_0x2dc45b,_0x536e6f=document[_0x2d4ba8(0x758)]('a');_0x536e6f[_0x2d4ba8(0x5f5)]=_0x2004cf+_0x2d4ba8(0x5ad),_0x536e6f[_0x2d4ba8(0x7ae)]=_0x11343e[_0x2d4ba8(0xa52)](_0x2d4ba8(0x7a1)),_0x536e6f[_0x2d4ba8(0x405)](),messageModal[_0x2d4ba8(0x67e)][_0x2d4ba8(0x677)](_0x2d4ba8(0x66d));});}function exportTableAsPDF(_0x3aae2d,_0x155877){const _0x2d35a0=_0x3f08ea,{jsPDF:_0x2b7cc3}=window[_0x2d35a0(0x59c)],_0x5a0ebe=new _0x2b7cc3();_0x5a0ebe[_0x2d35a0(0x67a)](_0x2d35a0(0xa8a),_0x2d35a0(0x7eb)),_0x5a0ebe[_0x2d35a0(0xade)]({'html':'#'+_0x3aae2d}),_0x5a0ebe[_0x2d35a0(0x8cb)](_0x155877+_0x2d35a0(0x867));}function exportTableAsWord(_0x44915b,_0x398814){const _0x1078b8=_0x3f08ea,_0x18d20c=document['getElementById'](_0x44915b);if(!_0x18d20c){showMessage(_0x1078b8(0xaa9));return;}const _0x2eb2b7=_0x1078b8(0x819)+_0x1078b8(0x4c7)+_0x1078b8(0x86f)+_0x1078b8(0x32c),_0x42efd8=_0x1078b8(0x56a),_0x504037=_0x2eb2b7+_0x18d20c['innerHTML']+_0x42efd8,_0x5c207a=_0x1078b8(0x478)+encodeURIComponent(_0x504037),_0x39b809=document[_0x1078b8(0x758)]('a');document['body']['appendChild'](_0x39b809),_0x39b809[_0x1078b8(0x7ae)]=_0x5c207a,_0x39b809[_0x1078b8(0x5f5)]=_0x398814+_0x1078b8(0x3ab),_0x39b809[_0x1078b8(0x405)](),document[_0x1078b8(0x702)]['removeChild'](_0x39b809);}function exportTableAsExcel(_0x540201,_0x36eec6){const _0x2253f2=_0x3f08ea,_0x517160=document[_0x2253f2(0x274)](_0x540201);if(!_0x517160){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x3fc546=[];for(let _0x1515f5=0x0;_0x1515f5<_0x517160['rows'][_0x2253f2(0x31f)];_0x1515f5++){let _0x1a9fc5=[],_0xd63414=_0x517160[_0x2253f2(0x524)][_0x1515f5][_0x2253f2(0x591)](_0x2253f2(0x760));for(let _0x160292=0x0;_0x160292<_0xd63414[_0x2253f2(0x31f)];_0x160292++){_0x1a9fc5[_0x2253f2(0xa97)]('\x22'+_0xd63414[_0x160292][_0x2253f2(0x1d5)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x3fc546[_0x2253f2(0xa97)](_0x1a9fc5[_0x2253f2(0xaad)](','));}const _0xcdc3b6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3fc546['join']('\x0a')],{'type':_0x2253f2(0x418)}),_0x3b9f7f=document['createElement']('a');_0x3b9f7f['href']=URL[_0x2253f2(0x7b6)](_0xcdc3b6),_0x3b9f7f[_0x2253f2(0x5f5)]=_0x36eec6+_0x2253f2(0x1a3),_0x3b9f7f[_0x2253f2(0x405)]();}function renderAnalytics(_0x5c84bc,_0x58cfdf){const _0x3760ed=_0x3f08ea,_0x587ef3=_0x58cfdf[_0x3760ed(0x30b)](_0x3eaaab=>_0x3eaaab['latestScore']!==undefined),_0x23377a=currentProjectData[_0x3760ed(0x88f)]['length'],_0x20d8e0=_0x587ef3[_0x3760ed(0x31f)],_0x16ffa7=_0x23377a-_0x20d8e0,_0x1f459c=_0x23377a>0x0?_0x20d8e0/_0x23377a*0x64:0x0,_0x24f7bc=_0x587ef3[_0x3760ed(0x743)](_0x4d0af5=>_0x4d0af5['latestScore']),_0x3006a0=_0x24f7bc['length']>0x0?_0x24f7bc[_0x3760ed(0x329)]((_0x4dd5c2,_0x1fa2cb)=>_0x4dd5c2+_0x1fa2cb,0x0)/_0x24f7bc['length']:0x0,_0x37f793=_0x5c84bc[_0x3760ed(0x2bb)]['length'],_0x56fea3=_0x37f793>0x0?_0x3006a0/_0x37f793*0x64:0x0,_0x364d15=calculateItemAnalysis(_0x5c84bc,_0x587ef3),_0x351f2c=calculateReliabilityKR20(_0x5c84bc,_0x587ef3,_0x364d15['perQuestionStats']);let _0x54ce9a='';if(_0x351f2c!==null){let _0x5d6761='';if(_0x351f2c>=0.9)_0x5d6761=_0x3760ed(0x2c8);else{if(_0x351f2c>=0.8)_0x5d6761='ดีมาก';else{if(_0x351f2c>=0.7)_0x5d6761='ดี';else{if(_0x351f2c>=0.6)_0x5d6761=_0x3760ed(0x663);else _0x5d6761=_0x3760ed(0x47b);}}}_0x54ce9a=_0x3760ed(0xab3)+_0x351f2c[_0x3760ed(0x2cd)](0x2)+_0x3760ed(0x387)+_0x5d6761+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x2daee5=document[_0x3760ed(0x274)](_0x3760ed(0x577));_0x2daee5['innerHTML']=_0x3760ed(0x5f3)+_0x1f459c[_0x3760ed(0x2cd)](0x0)+_0x3760ed(0xa8b)+_0x20d8e0+'/'+_0x23377a+_0x3760ed(0x38e)+_0x3006a0[_0x3760ed(0x2cd)](0x2)+_0x3760ed(0x196)+_0x56fea3[_0x3760ed(0x2cd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x24f7bc[_0x3760ed(0x31f)]>0x0?Math[_0x3760ed(0x1f0)](..._0x24f7bc):_0x3760ed(0x78a))+_0x3760ed(0x1cb)+(_0x24f7bc[_0x3760ed(0x31f)]>0x0?Math[_0x3760ed(0x175)](..._0x24f7bc):_0x3760ed(0x78a))+_0x3760ed(0x712)+_0x54ce9a+_0x3760ed(0xa57);const _0x2c6367=document[_0x3760ed(0x274)](_0x3760ed(0x782));_0x2c6367&&_0x2c6367['remove']();const _0x4b97d3=_0x3760ed(0x6ba);_0x2daee5[_0x3760ed(0x6e1)]('afterend',_0x4b97d3);const _0x50718c=currentProjectData['students']||[];renderSubmissionChart(_0x20d8e0,_0x16ffa7,_0x587ef3,_0x50718c),renderScoreDistributionChart(_0x587ef3,_0x37f793),renderQuestionAnalytics(_0x5c84bc,_0x587ef3,_0x50718c),renderInterestingStats(_0x5c84bc,_0x587ef3);}async function handleExportLessonPDF(){const _0x54b874=_0x3f08ea,_0x360e92=document['getElementById']('lesson-plan-content'),_0x333130=document[_0x54b874(0x274)](_0x54b874(0x536))[_0x54b874(0x7b7)],_0x1cc0a1=window[_0x54b874(0x76d)]('','_blank'),_0x1c7c45=_0x54b874(0x98f)+_0x333130+_0x54b874(0x731)+_0x360e92['innerHTML']+_0x54b874(0x172);_0x1cc0a1['document'][_0x54b874(0x40c)](_0x1c7c45),_0x1cc0a1[_0x54b874(0x657)][_0x54b874(0xa93)](),_0x1cc0a1[_0x54b874(0x4b4)]=function(){setTimeout(()=>{_0x1cc0a1['print']();},0x5dc);};}function renderInterestingStats(_0x41c715,_0x317bdf){const _0x4cf2a5=_0x3f08ea,_0x156a9b=document[_0x4cf2a5(0x274)](_0x4cf2a5(0x4ed));if(!_0x156a9b)return;if(_0x317bdf[_0x4cf2a5(0x31f)]===0x0){_0x156a9b[_0x4cf2a5(0x1bb)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x2e3ea9=_0x41c715[_0x4cf2a5(0x2bb)][_0x4cf2a5(0x743)]((_0x3c5457,_0x4d5d4f)=>({'index':_0x4d5d4f+0x1,'text':_0x3c5457[_0x4cf2a5(0x81a)]||_0x3c5457[_0x4cf2a5(0x353)],'correct':0x0}));_0x317bdf[_0x4cf2a5(0x232)](_0x147f19=>{const _0x21bab7=_0x4cf2a5,_0x18636c=_0x147f19[_0x21bab7(0x4ee)][_0x147f19[_0x21bab7(0x4ee)][_0x21bab7(0x31f)]-0x1];_0x18636c&&_0x18636c['answers']&&_0x18636c[_0x21bab7(0x711)][_0x21bab7(0x232)](_0x3a43a2=>{const _0x3e72ff=_0x21bab7,_0x398b15=_0x2e3ea9[_0x3e72ff(0x270)](_0x106913=>_0x106913[_0x3e72ff(0x8bd)]===_0x3a43a2[_0x3e72ff(0x6d5)]);_0x3a43a2[_0x3e72ff(0x3b7)]&&_0x398b15&&_0x398b15[_0x3e72ff(0x37b)]++;});});const _0x4a3d0b=_0x317bdf[_0x4cf2a5(0x31f)],_0x161ac7=Math[_0x4cf2a5(0x1f0)](..._0x2e3ea9[_0x4cf2a5(0x743)](_0x129df4=>_0x129df4[_0x4cf2a5(0x37b)])),_0x13631b=Math[_0x4cf2a5(0x175)](..._0x2e3ea9[_0x4cf2a5(0x743)](_0x4b2e96=>_0x4b2e96[_0x4cf2a5(0x37b)])),_0x43fd1e=_0x2e3ea9[_0x4cf2a5(0x30b)](_0x112eb0=>_0x112eb0['correct']===_0x161ac7)[_0x4cf2a5(0x743)](_0x19badd=>_0x4cf2a5(0x6f7)+_0x19badd[_0x4cf2a5(0x7ee)]),_0x5ebc8b=_0x2e3ea9['filter'](_0x14cb0d=>_0x14cb0d[_0x4cf2a5(0x37b)]===_0x13631b)[_0x4cf2a5(0x743)](_0x512e20=>_0x4cf2a5(0x6f7)+_0x512e20[_0x4cf2a5(0x7ee)]),_0xaf06c9=_0x317bdf[_0x4cf2a5(0x34f)]((_0x372d8e,_0x4c67f8)=>_0x4c67f8[_0x4cf2a5(0x824)]-_0x372d8e[_0x4cf2a5(0x824)])[_0x4cf2a5(0x30b)]((_0x4d03e3,_0x276769,_0x13ed31)=>_0x4d03e3[_0x4cf2a5(0x824)]===_0x13ed31[0x0]['latestScore']),_0x146400=_0x317bdf['sort']((_0x1f30f9,_0x55b0cc)=>_0x1f30f9[_0x4cf2a5(0x824)]-_0x55b0cc[_0x4cf2a5(0x824)])[_0x4cf2a5(0x30b)]((_0x38ea86,_0x1a7dfb,_0x22c16c)=>_0x38ea86[_0x4cf2a5(0x824)]===_0x22c16c[0x0][_0x4cf2a5(0x824)]),_0x2bd11e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x43fd1e['join'](',\x20')+_0x4cf2a5(0x393)+_0x161ac7+_0x4cf2a5(0x1fd)+_0x4a3d0b+_0x4cf2a5(0xa4c)+_0x5ebc8b[_0x4cf2a5(0xaad)](',\x20')+_0x4cf2a5(0x393)+(_0x4a3d0b-_0x13631b)+'\x20/\x20'+_0x4a3d0b+_0x4cf2a5(0x580)+_0xaf06c9['map'](_0x34fbde=>_0x34fbde[_0x4cf2a5(0xa53)])[_0x4cf2a5(0xaad)](',\x20')+_0x4cf2a5(0x4cd)+_0xaf06c9[0x0][_0x4cf2a5(0x824)]+_0x4cf2a5(0x442)+_0x146400['map'](_0x34e3b1=>_0x34e3b1[_0x4cf2a5(0xa53)])['join'](',\x20')+_0x4cf2a5(0x4cd)+_0x146400[0x0][_0x4cf2a5(0x824)]+_0x4cf2a5(0x301);_0x156a9b[_0x4cf2a5(0x1bb)]=_0x2bd11e;}function renderSubmissionChart(_0x7b4f4d,_0x2493b1,_0x160dc8,_0x79facc){const _0x539760=_0x3f08ea,_0x135d4f=document[_0x539760(0x274)]('submission-status-chart')[_0x539760(0xa41)]('2d'),_0xf08ac0=_0x160dc8[_0x539760(0x743)](_0x57544e=>_0x57544e[_0x539760(0xa53)]),_0x5df874=_0x79facc[_0x539760(0x30b)](_0x3fcdd9=>!_0xf08ac0[_0x539760(0x634)](_0x3fcdd9));chartInstances[_0x539760(0xad8)]&&chartInstances[_0x539760(0xad8)][_0x539760(0x5b5)](),chartInstances[_0x539760(0xad8)]=new Chart(_0x135d4f,{'type':_0x539760(0x188),'data':{'labels':[_0x539760(0x35f),_0x539760(0x276)],'datasets':[{'data':[_0x7b4f4d,_0x2493b1],'backgroundColor':['#10B981',_0x539760(0x9e4)],'borderColor':[_0x539760(0x86b),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x459a40){const _0x1a2a49=_0x539760;let _0x58f1db=_0x459a40[_0x1a2a49(0x14e)]||'';return _0x58f1db&&(_0x58f1db+=':\x20'),_0x58f1db+=_0x459a40[_0x1a2a49(0x46c)],_0x58f1db;},'afterLabel':function(_0x4c13e4){const _0x38fbe0=_0x539760;let _0x113daa;return _0x4c13e4[_0x38fbe0(0x658)]===0x0?_0x113daa=_0xf08ac0:_0x113daa=_0x5df874,_0x113daa[_0x38fbe0(0x31f)]>0x0?_0x113daa['join']('\x0a'):_0x38fbe0(0x22e);}}}}}});}function renderScoreDistributionChart(_0x5f28c7,_0x583526){const _0xc11439=_0x3f08ea,_0x3c1d39=document['getElementById'](_0xc11439(0x6af))[_0xc11439(0xa41)]('2d'),_0x471848={};for(let _0x5c587b=0x0;_0x5c587b<=_0x583526;_0x5c587b++){_0x471848[_0x5c587b]=0x0;}_0x5f28c7['forEach'](_0x18b1ab=>{const _0x417705=_0xc11439;_0x471848[_0x18b1ab[_0x417705(0x824)]]!==undefined&&_0x471848[_0x18b1ab[_0x417705(0x824)]]++;}),chartInstances[_0xc11439(0x7b8)]&&chartInstances['score']['destroy'](),chartInstances[_0xc11439(0x7b8)]=new Chart(_0x3c1d39,{'type':_0xc11439(0x52f),'data':{'labels':Object[_0xc11439(0xa21)](_0x471848),'datasets':[{'label':_0xc11439(0x893),'data':Object[_0xc11439(0x237)](_0x471848),'backgroundColor':_0xc11439(0x20e),'borderColor':_0xc11439(0x9f8),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xc11439(0x6c5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x37c4b2){const _0x16910d=_0xc11439,_0x56a1ae=_0x37c4b2[_0x16910d(0x14e)],_0xd79357=_0x5f28c7['filter'](_0x1c26e1=>_0x1c26e1[_0x16910d(0x824)]==_0x56a1ae)[_0x16910d(0x743)](_0xd9ea08=>_0xd9ea08[_0x16910d(0xa53)]);return _0xd79357['length']>0x0?_0xd79357[_0x16910d(0xaad)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xe59bec,_0x2a7ec6,_0x1c534c){const _0xe08c16=_0x3f08ea,_0x2acc3b=document[_0xe08c16(0x274)](_0xe08c16(0x470));if(_0x1c534c[_0xe08c16(0x31f)]===0x0){_0x2acc3b[_0xe08c16(0x1bb)]=_0xe08c16(0x562);return;}const _0x27c0fc=calculateItemAnalysis(_0xe59bec,_0x2a7ec6),_0x392cc3=calculateDistractorAnalysis(_0xe59bec,_0x2a7ec6);let _0x524bb5='';_0x27c0fc[_0xe08c16(0x97f)]&&(_0x524bb5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x27c0fc[_0xe08c16(0x97f)]['upperGroupNames'][_0xe08c16(0x31f)]+_0xe08c16(0x2f9)+_0x27c0fc[_0xe08c16(0x97f)][_0xe08c16(0x440)][_0xe08c16(0x743)](_0x557f3f=>_0xe08c16(0x3d7)+_0x557f3f+_0xe08c16(0xa69))[_0xe08c16(0xaad)]('')+_0xe08c16(0xa80)+_0x27c0fc[_0xe08c16(0x97f)][_0xe08c16(0x185)]['length']+_0xe08c16(0x2f9)+_0x27c0fc['overallGroups'][_0xe08c16(0x185)][_0xe08c16(0x743)](_0x1a3d0d=>_0xe08c16(0x3d7)+_0x1a3d0d+_0xe08c16(0xa69))[_0xe08c16(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4b3d55='';const _0x4b626a=_0x2a7ec6['map'](_0x13a737=>_0x13a737['studentName']),_0x2249e9=_0x1dbd74=>{const _0x329aa5=_0xe08c16;if(_0x1dbd74>=0.8)return _0x329aa5(0x143);if(_0x1dbd74>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x1dbd74>=0.4)return _0x329aa5(0x9b9);if(_0x1dbd74>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x329aa5(0x595);},_0x11b853=_0x2ce20a=>{const _0x422e81=_0xe08c16;if(_0x2ce20a<0x0)return _0x422e81(0x874);if(_0x2ce20a>=0.4)return _0x422e81(0x5e0);if(_0x2ce20a>=0.3)return _0x422e81(0x429);if(_0x2ce20a>=0.2)return _0x422e81(0x491);return _0x422e81(0x51b);},_0x935be3=_0x24f753=>{const _0x2a10d7=_0xe08c16,_0x224076=_0x24f753[_0x2a10d7(0x2cd)](0x0);if(parseFloat(_0x224076)===0x64)return _0x2a10d7(0x574)+_0x224076+_0x2a10d7(0x811);if(_0x24f753>=0x32)return _0x2a10d7(0x41f)+_0x224076+_0x2a10d7(0x811);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x224076+'%</span>';};_0xe59bec[_0xe08c16(0x2bb)][_0xe08c16(0x232)]((_0xa91c4e,_0x24de5d)=>{const _0x57b14a=_0xe08c16,_0x166a1a=_0x27c0fc[_0x57b14a(0x9e9)][_0x24de5d],_0x49156d=_0x392cc3[_0x24de5d],_0x5233a9=_0xa91c4e[_0x57b14a(0x353)]||_0xa91c4e[_0x57b14a(0x81a)]||_0xa91c4e[_0x57b14a(0x9ca)];let _0x21efb9=0x0;const _0x5a064a=[],_0xd7dd6c=[];_0x2a7ec6[_0x57b14a(0x232)](_0x3c0916=>{const _0x47cfe7=_0x57b14a,_0x323c14=_0x3c0916[_0x47cfe7(0x4ee)][_0x3c0916['attempts'][_0x47cfe7(0x31f)]-0x1];if(_0x323c14&&_0x323c14['answers']){const _0x5465b4=_0x323c14[_0x47cfe7(0x711)][_0x47cfe7(0x270)](_0x598920=>_0x598920['originalQuestionText']===_0x5233a9)??_0x323c14[_0x47cfe7(0x711)][_0x24de5d]??null;_0x5465b4&&(_0x5465b4[_0x47cfe7(0x3b7)]?(_0x21efb9++,_0x5a064a[_0x47cfe7(0xa97)](_0x3c0916[_0x47cfe7(0xa53)])):_0xd7dd6c[_0x47cfe7(0xa97)](_0x3c0916['studentName']));}});const _0x3d5f7d=_0x2a7ec6[_0x57b14a(0x31f)]>0x0?_0x21efb9/_0x2a7ec6[_0x57b14a(0x31f)]*0x64:0x0,_0x55da68=_0x1c534c[_0x57b14a(0x30b)](_0x55af6b=>!_0x4b626a[_0x57b14a(0x634)](_0x55af6b)),_0x117932=_0x166a1a?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x166a1a['p'][_0x57b14a(0x2cd)](0x2)+_0x57b14a(0x42d)+_0x2249e9(_0x166a1a['p'])+_0x57b14a(0x707)+_0x166a1a['r'][_0x57b14a(0x2cd)](0x2)+_0x57b14a(0x42d)+_0x11b853(_0x166a1a['r'])+_0x57b14a(0x4df)+_0x935be3(_0x3d5f7d)+_0x57b14a(0x7b4):'';let _0x5083f7='';_0x49156d&&(_0x5083f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x57b14a(0xa21)](_0x49156d)[_0x57b14a(0x743)](_0x21c453=>{const _0x14bdfb=_0x57b14a,_0x36785d=_0x49156d[_0x21c453],_0xffaf04=parseInt(_0x21c453)===_0xa91c4e[_0x14bdfb(0x74e)],_0x1d2182=!_0xffaf04&&_0x36785d[_0x14bdfb(0x5b0)]>_0x36785d['upper_group_count'];return'<tr\x20class=\x22'+(_0xffaf04?_0x14bdfb(0x4b6):'')+_0x14bdfb(0x9ac)+(_0xffaf04?'✔\x20':'')+_0x36785d[_0x14bdfb(0x8bd)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x36785d[_0x14bdfb(0x724)]+_0x14bdfb(0x8ff)+_0x36785d[_0x14bdfb(0x5b0)]+'\x20'+(_0x1d2182?'👍':'')+_0x14bdfb(0x8ff)+_0x36785d[_0x14bdfb(0x5ba)]+'</td></tr>';})[_0x57b14a(0xaad)]('')+_0x57b14a(0x16e));let _0x49db74='';_0x166a1a&&_0x166a1a['upperGroupResponders']&&(_0x49db74='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x166a1a['upperGroupResponders'][_0x57b14a(0x31f)]+_0x57b14a(0x772)+_0x166a1a['upperGroupResponders']['map'](_0x282f8c=>_0x57b14a(0x3d7)+(_0x282f8c['isCorrect']?_0x57b14a(0x436):_0x57b14a(0x5d7))+'\x20'+_0x282f8c[_0x57b14a(0x340)]+_0x57b14a(0xa69))[_0x57b14a(0xaad)]('')+_0x57b14a(0x792)+_0x166a1a[_0x57b14a(0x14f)][_0x57b14a(0x31f)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x166a1a[_0x57b14a(0x14f)][_0x57b14a(0x743)](_0x1b2849=>_0x57b14a(0x3d7)+(_0x1b2849[_0x57b14a(0x3b7)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1b2849[_0x57b14a(0x340)]+_0x57b14a(0xa69))[_0x57b14a(0xaad)]('')+_0x57b14a(0x714)),_0x4b3d55+=_0x57b14a(0x9d9)+(_0x24de5d+0x1)+':\x20'+_0x5233a9+_0x57b14a(0x38d)+_0x117932+_0x57b14a(0x4cc)+_0x5233a9+_0x57b14a(0x958)+_0x21efb9+_0x57b14a(0x5a0)+_0x2a7ec6[_0x57b14a(0x31f)]+_0x57b14a(0x4e7)+_0x3d5f7d[_0x57b14a(0x2cd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x5a064a[_0x57b14a(0x31f)]+_0x57b14a(0x4f7)+(_0x5a064a[_0x57b14a(0x31f)]>0x0?_0x5a064a[_0x57b14a(0xaad)](',\x20'):_0x57b14a(0x22e))+_0x57b14a(0xa50)+_0xd7dd6c[_0x57b14a(0x31f)]+_0x57b14a(0x4f7)+(_0xd7dd6c[_0x57b14a(0x31f)]>0x0?_0xd7dd6c['join'](',\x20'):_0x57b14a(0x22e))+_0x57b14a(0x275)+_0x55da68['length']+_0x57b14a(0x4f7)+(_0x55da68[_0x57b14a(0x31f)]>0x0?_0x55da68[_0x57b14a(0xaad)](',\x20'):_0x57b14a(0x22e))+_0x57b14a(0x83a)+_0x5083f7+_0x57b14a(0x56c)+_0x49db74+_0x57b14a(0x376);}),_0x2acc3b[_0xe08c16(0x1bb)]=_0x524bb5+_0x4b3d55;try{window[_0xe08c16(0x13c)]&&MathJax[_0xe08c16(0x4db)]&&MathJax[_0xe08c16(0x4db)]([_0x2acc3b]);}catch(_0x2a38f7){console[_0xe08c16(0x183)](_0xe08c16(0x2d9),_0x2a38f7);}}function calculateDistractorAnalysis(_0x5bba3f,_0x3445e9){const _0x5538d6=_0x3f08ea,_0x5be92f={};if(_0x3445e9['length']<0x2)return _0x5be92f;const _0x3a4d6f=[..._0x3445e9][_0x5538d6(0x34f)]((_0xc25c6a,_0x36a72d)=>{const _0x37642d=_0x5538d6,_0x1cc185=_0x36a72d['latestScore']-_0xc25c6a[_0x37642d(0x824)];if(_0x1cc185!==0x0)return _0x1cc185;const _0x1cda7d=_0xc25c6a[_0x37642d(0x4ee)]?.[_0x37642d(0x31f)]||0x1,_0xd80b50=_0x36a72d['attempts']?.[_0x37642d(0x31f)]||0x1,_0x363782=_0x1cda7d-_0xd80b50;if(_0x363782!==0x0)return _0x363782;const _0x3e7aba=new Date(_0xc25c6a['latestSubmittedAt']),_0x28c9ac=new Date(_0x36a72d[_0x37642d(0x186)]),_0x35c088=_0x3e7aba-_0x28c9ac;if(_0x35c088!==0x0)return _0x35c088;return _0xc25c6a[_0x37642d(0xa53)]['localeCompare'](_0x36a72d['studentName'],'th');}),_0x142287=_0x3a4d6f[_0x5538d6(0x31f)],_0x488abc=Math['max'](0x1,Math['floor'](_0x142287*0.33)),_0x28c8ed=_0x3a4d6f[_0x5538d6(0x625)](0x0,_0x488abc),_0x17dea5=_0x3a4d6f[_0x5538d6(0x625)](-_0x488abc);return _0x5bba3f[_0x5538d6(0x2bb)][_0x5538d6(0x232)]((_0x2d68fc,_0x170dec)=>{const _0x31276c=_0x5538d6;if(_0x2d68fc[_0x31276c(0x4f4)]!==_0x31276c(0x622)||!_0x2d68fc['options'])return;const _0xf4ad18=_0x2d68fc[_0x31276c(0x81a)],_0x472bce={};_0x2d68fc[_0x31276c(0xaee)]['forEach']((_0x17ff0d,_0x50bca4)=>{_0x472bce[_0x50bca4]={'text':_0x17ff0d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3a4d6f[_0x31276c(0x232)](_0x5cc752=>{const _0x4ece0e=_0x31276c,_0x1754fb=_0x5cc752[_0x4ece0e(0x4ee)][_0x5cc752[_0x4ece0e(0x4ee)][_0x4ece0e(0x31f)]-0x1],_0x26c7da=_0x1754fb[_0x4ece0e(0x711)][_0x4ece0e(0x270)](_0x84af0a=>_0x84af0a[_0x4ece0e(0x6d5)]===_0xf4ad18);if(_0x26c7da&&_0x26c7da['answer']!==null){const _0x3d7f51=_0x2d68fc[_0x4ece0e(0xaee)][_0x4ece0e(0x324)](_0x1e50f0=>_0x1e50f0===_0x26c7da[_0x4ece0e(0x95d)]);_0x3d7f51!==-0x1&&_0x472bce[_0x3d7f51]&&(_0x472bce[_0x3d7f51][_0x4ece0e(0x5ba)]++,_0x28c8ed[_0x4ece0e(0x634)](_0x5cc752)&&_0x472bce[_0x3d7f51][_0x4ece0e(0x724)]++,_0x17dea5[_0x4ece0e(0x634)](_0x5cc752)&&_0x472bce[_0x3d7f51][_0x4ece0e(0x5b0)]++);}}),_0x5be92f[_0x170dec]=_0x472bce;}),_0x5be92f;}function calculateReliabilityKR20(_0x1765d3,_0x1ddfc2,_0x5d9414){const _0x16f6d6=_0x3f08ea,_0x4ac427=_0x1765d3[_0x16f6d6(0x2bb)][_0x16f6d6(0x31f)];if(_0x4ac427<0x2||_0x1ddfc2[_0x16f6d6(0x31f)]<0x2)return null;const _0x192c36=_0x1ddfc2[_0x16f6d6(0x743)](_0x26ced1=>_0x26ced1[_0x16f6d6(0x824)]),_0x51c0a9=_0x192c36[_0x16f6d6(0x329)]((_0x38bbfd,_0xe5ef13)=>_0x38bbfd+_0xe5ef13,0x0)/_0x192c36['length'],_0xd4c526=_0x192c36[_0x16f6d6(0x743)](_0x4bb4bc=>Math[_0x16f6d6(0x5ed)](_0x4bb4bc-_0x51c0a9,0x2))[_0x16f6d6(0x329)]((_0x5b1ad7,_0x414aac)=>_0x5b1ad7+_0x414aac,0x0)/_0x192c36['length'];if(_0xd4c526===0x0)return null;let _0x3cf950=0x0;for(let _0x3e51b4=0x0;_0x3e51b4<_0x4ac427;_0x3e51b4++){const _0x33d28b=_0x5d9414[_0x3e51b4]?.['p'];if(_0x33d28b===undefined)continue;const _0x156e48=0x1-_0x33d28b;_0x3cf950+=_0x33d28b*_0x156e48;}if(_0x3cf950===0x0)return null;const _0x2b6246=_0x4ac427/(_0x4ac427-0x1)*(0x1-_0x3cf950/_0xd4c526);if(_0x2b6246>0x1)return null;return _0x2b6246;}async function handleAnalyzeClass(){const _0x144717=_0x3f08ea;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x2019a8=collection(db,_0x144717(0x439)+appId+_0x144717(0x584)+currentQuizData['id']+_0x144717(0x9dd)),_0x3379b3=await getDocs(_0x2019a8),_0x3d47bc=_0x3379b3[_0x144717(0x971)][_0x144717(0x743)](_0x4aee0d=>_0x4aee0d[_0x144717(0x612)]());if(_0x3d47bc['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x54c290=document[_0x144717(0x274)](_0x144717(0xad4));_0x54c290[_0x144717(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x144717(0x274)](_0x144717(0x345))['disabled']=!![];const _0x42593d=_0x3d47bc['map']((_0x4a93cd,_0x17d0f9)=>{const _0x4d8a25=_0x144717,_0x58fb29=_0x4a93cd[_0x4d8a25(0x4ee)][_0x4a93cd['attempts'][_0x4d8a25(0x31f)]-0x1];if(!_0x58fb29)return'';return _0x4d8a25(0x38c)+(_0x17d0f9+0x1)+'\x20('+_0x4a93cd[_0x4d8a25(0xa53)]+_0x4d8a25(0x16c)+_0x58fb29[_0x4d8a25(0x7b8)]+'/'+_0x4a93cd[_0x4d8a25(0x204)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x4d8a25(0x65e)](_0x58fb29['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x144717(0xaad)]('\x0a---\x0a'),_0x59237e=_0x144717(0x4b0)+currentQuizData[_0x144717(0x994)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x144717(0x2bb)])+_0x144717(0x620)+_0x42593d+_0x144717(0x152),_0x3ba5a0={'type':_0x144717(0x6a6),'properties':{'classStrengths':{'type':_0x144717(0x1cf),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x144717(0x1cf),'items':{'type':_0x144717(0x2a3)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x144717(0x2a3)}}},'required':[_0x144717(0x9ef),_0x144717(0x554),_0x144717(0x986)]};try{const _0x4bf229=await callAnalysisApi(_0x59237e,_0x3ba5a0);displayClassAnalysis(_0x4bf229);}catch(_0x9c24b7){console[_0x144717(0x183)](_0x144717(0x976),_0x9c24b7),_0x54c290[_0x144717(0x1bb)]=_0x144717(0x7de)+_0x9c24b7[_0x144717(0x75c)]+_0x144717(0x56b);}finally{document[_0x144717(0x274)](_0x144717(0x345))[_0x144717(0x5a2)]=![];}}function displayClassAnalysis(_0x569d62){const _0x944595=_0x3f08ea,_0x52b960=document['getElementById']('strength-weakness-analysis-container');if(!_0x569d62){_0x52b960[_0x944595(0x1bb)]=_0x944595(0x78c);return;}_0x52b960[_0x944595(0x1bb)]=_0x944595(0x391)+_0x569d62[_0x944595(0x9ef)][_0x944595(0x743)](_0x560718=>_0x944595(0x3d7)+_0x560718+_0x944595(0xa69))[_0x944595(0xaad)]('')+_0x944595(0x91b)+_0x569d62[_0x944595(0x554)][_0x944595(0x743)](_0x447704=>_0x944595(0x3d7)+_0x447704+_0x944595(0xa69))[_0x944595(0xaad)]('')+_0x944595(0x87a)+_0x569d62[_0x944595(0x986)]['map'](_0x30ca3c=>_0x944595(0x3d7)+_0x30ca3c+_0x944595(0xa69))[_0x944595(0xaad)]('')+_0x944595(0xa5b);}function formatAndPrintWorksheet(_0x16ab66,_0x49df79){const _0x5d979d=_0x3f08ea,_0x58bdd0=_0x5d979d(0x53a)+_0x16ab66[_0x5d979d(0x994)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x16ab66[_0x5d979d(0x994)]+_0x5d979d(0xa87)+_0x16ab66[_0x5d979d(0x2bb)][_0x5d979d(0x743)]((_0xa6af05,_0x40cdb9)=>_0x5d979d(0xae9)+(_0x40cdb9+0x1)+'.\x20'+_0xa6af05[_0x5d979d(0x81a)]+_0x5d979d(0x4ec)+(_0xa6af05[_0x5d979d(0xaa5)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0xa6af05['imageCode']+'</div>':'')+_0x5d979d(0x309))[_0x5d979d(0xaad)]('')+_0x5d979d(0x25b);_0x49df79[_0x5d979d(0x657)][_0x5d979d(0x40c)](_0x58bdd0),_0x49df79[_0x5d979d(0x657)][_0x5d979d(0xa93)](),_0x49df79['onload']=function(){setTimeout(()=>{_0x49df79['print']();},0x3e8);};}async function generateWorksheet(){const _0x41d092=_0x3f08ea,_0x39fcef=document['getElementById'](_0x41d092(0x83b))[_0x41d092(0x303)][_0x41d092(0x5d8)]();if(!_0x39fcef){showMessage(_0x41d092(0x7a8));return;}const _0x5cb1a0=document['getElementById'](_0x41d092(0x3f4))['checked'],_0x1aeef7=_0x5cb1a0?'':_0x41d092(0x8a0),_0x3da36c=window['open']('',_0x41d092(0x26b));_0x3da36c[_0x41d092(0x657)][_0x41d092(0x40c)](_0x41d092(0x56e));const _0x3f94fd=parseInt(document[_0x41d092(0x274)](_0x41d092(0x88a))[_0x41d092(0x303)]),_0x415fc8=document[_0x41d092(0x274)](_0x41d092(0x4b8))['checked'],_0x30426a=_0x415fc8?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x367bc1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x1aeef7+_0x41d092(0x284)+_0x3f94fd+_0x41d092(0x310)+_0x39fcef+_0x41d092(0x44d)+_0x30426a+_0x41d092(0x4fd)+simpleMathPrompt+_0x41d092(0x771),_0x13ebbe={'type':_0x41d092(0x6a6),'properties':{'topic':{'type':_0x41d092(0x2a3)},'questions':{'type':_0x41d092(0x1cf),'items':{'type':_0x41d092(0x6a6),'properties':{'questionText':{'type':_0x41d092(0x2a3)},'imageCode':{'type':_0x41d092(0x2a3)}},'required':[_0x41d092(0x81a)]}}},'required':['topic',_0x41d092(0x2bb)]};document[_0x41d092(0x274)]('loader-text')['textContent']='',document['getElementById'](_0x41d092(0x7ad))[_0x41d092(0x67e)][_0x41d092(0xaa2)](_0x41d092(0x66d)),document['getElementById']('quiz-generation-area')[_0x41d092(0x67e)][_0x41d092(0xaa2)]('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x26cc95=await callAnalysisApi(_0x367bc1,_0x13ebbe);formatAndPrintWorksheet(_0x26cc95,_0x3da36c);}catch(_0x42df89){console[_0x41d092(0x183)](_0x41d092(0x4f2),_0x42df89);if(_0x3da36c)_0x3da36c['close']();showMessage(_0x41d092(0x7d6));}finally{document[_0x41d092(0x274)](_0x41d092(0x7ad))[_0x41d092(0x67e)][_0x41d092(0x677)](_0x41d092(0x66d)),document[_0x41d092(0x274)]('quiz-generation-area')[_0x41d092(0x67e)][_0x41d092(0x677)](_0x41d092(0x66d)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x383b6e,_0x3ebe11){const _0x8e6383=_0x3f08ea,_0x1876d9={'contents':[{'role':'user','parts':[{'text':_0x383b6e}]}],'generationConfig':{'responseMimeType':_0x8e6383(0x32e),'responseSchema':_0x3ebe11}},_0xde9ac=_0x8e6383(0x7df),_0x3ed635='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xde9ac,_0x277f10=await fetch(_0x3ed635,{'method':'POST','headers':{'Content-Type':_0x8e6383(0x32e)},'body':JSON[_0x8e6383(0x65e)](_0x1876d9)});if(!_0x277f10['ok'])throw new Error(_0x8e6383(0xa29)+_0x277f10[_0x8e6383(0x7af)]);const _0x49ad58=await _0x277f10[_0x8e6383(0x551)]();if(_0x49ad58[_0x8e6383(0x9e3)]?.[0x0]?.[_0x8e6383(0x791)]?.[_0x8e6383(0x8a5)]?.[0x0])return JSON['parse'](_0x49ad58['candidates'][0x0][_0x8e6383(0x791)][_0x8e6383(0x8a5)][0x0]['text']);else{let _0xd7a4b0='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x49ad58['promptFeedback']?.[_0x8e6383(0x21c)])_0xd7a4b0=_0x8e6383(0x738)+_0x49ad58[_0x8e6383(0x208)][_0x8e6383(0x21c)]+'.';else _0x49ad58['candidates']?.[0x0]?.[_0x8e6383(0xac9)]&&_0x49ad58[_0x8e6383(0x9e3)][0x0]['finishReason']!=='STOP'&&(_0xd7a4b0='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x49ad58['candidates'][0x0][_0x8e6383(0xac9)]+'.');console[_0x8e6383(0x183)](_0xd7a4b0,JSON[_0x8e6383(0x65e)](_0x49ad58));throw new Error(_0xd7a4b0);}}async function handleStartSyncMode(_0x3fe05a,_0x58eb3d=![]){const _0x426648=_0x3f08ea,_0x426a5b=allQuizzes['find'](_0x2adfae=>_0x2adfae['id']===_0x3fe05a)||allQuizzesGlobal[_0x426648(0x270)](_0x424f84=>_0x424f84['id']===_0x3fe05a);if(!_0x426a5b){showMessage(_0x426648(0xa37));return;}currentQuizData=getShuffledQuiz(_0x426a5b);const _0x3d3518=Math[_0x426648(0x5fa)](0x3e8+Math['random']()*0x2328)[_0x426648(0x999)]();try{const _0x81feb2=await addDoc(collection(db,_0x426648(0x439)+appId+_0x426648(0x40b)),{'quizId':_0x426a5b['id'],'pin':_0x3d3518,'status':_0x426648(0x838),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x58eb3d,'players':{}});currentLiveGameId=_0x81feb2['id'],showView(_0x426648(0x4e5)),renderSyncLobbyView(_0x3d3518,_0x426a5b[_0x426648(0x994)]),listenForSyncGameUpdates();}catch(_0x43455d){console[_0x426648(0x183)](_0x426648(0x6e9),_0x43455d),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0xe4064c){const _0x578fcd=_0x3f08ea;if(!_0xe4064c||!_0xe4064c[_0x578fcd(0x91e)]||!_0xe4064c[_0x578fcd(0x896)])return _0xe4064c['players']||{};const _0x354a80=_0xe4064c[_0x578fcd(0x91e)]['questions'][_0x578fcd(0x31f)],_0x28ca2f=JSON[_0x578fcd(0x2ba)](JSON[_0x578fcd(0x65e)](_0xe4064c[_0x578fcd(0x896)]));return Object['values'](_0x28ca2f)[_0x578fcd(0x232)](_0x2bbc17=>{const _0x1c889d=_0x578fcd,_0x140fb9=_0x2bbc17[_0x1c889d(0x7b8)];let _0x52c3bf=0x0;_0xe4064c[_0x1c889d(0x2ae)]&&_0x2bbc17[_0x1c889d(0x711)]&&_0x2bbc17['answers'][_0x1c889d(0x232)](_0xcb5631=>{const _0x110f5d=_0x1c889d;if(_0xcb5631[_0x110f5d(0x3b7)]&&_0xcb5631[_0x110f5d(0x2a6)])_0x52c3bf+=0x1;else!_0xcb5631['isCorrect']&&_0xcb5631[_0x110f5d(0x2a6)]&&(_0x52c3bf-=0x1);}),_0x2bbc17[_0x1c889d(0x7b8)]=_0x140fb9+_0x52c3bf,_0x354a80>0x0&&_0x140fb9===_0x354a80&&(_0x2bbc17[_0x1c889d(0x7b8)]+=0x1,_0x2bbc17[_0x1c889d(0x437)]=!![]);}),_0x28ca2f;}function listenForSyncGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x451b1c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x451b1c,_0x536fff=>{const _0x37f50b=_0x1cca;if(!_0x536fff[_0x37f50b(0x905)]()){sessionStorage[_0x37f50b(0x402)](_0x37f50b(0x325));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x37f50b(0x2e8)),showView(currentMode===_0x37f50b(0xa73)?'project-detail':_0x37f50b(0x351));return;}const _0xec35=_0x536fff[_0x37f50b(0x612)]();currentMode===_0x37f50b(0xa73)?updateAdminSyncView(_0xec35):updateStudentSyncView(_0xec35);});}function renderSyncLobbyView(_0x3c76eb,_0x3593dc){const _0x4d82d6=_0x3f08ea;liveGameView[_0x4d82d6(0x1bb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x3593dc+_0x4d82d6(0x9df)+_0x3c76eb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x291766=document[_0x4d82d6(0x274)](_0x4d82d6(0x30c)),_0x309fe0=document[_0x4d82d6(0x274)](_0x4d82d6(0x8ba));_0x291766[_0x4d82d6(0x908)](_0x4d82d6(0x8e7),()=>{const _0x4a715e=_0x4d82d6;_0x309fe0[_0x4a715e(0x55d)][_0x4a715e(0x179)]=_0x291766[_0x4a715e(0x835)]?_0x4a715e(0x468):'none';}),document[_0x4d82d6(0x274)](_0x4d82d6(0x795))[_0x4d82d6(0x908)](_0x4d82d6(0x405),async()=>{const _0x522f47=_0x4d82d6,_0x31c4a2=doc(db,_0x522f47(0x439)+appId+_0x522f47(0x40b),currentLiveGameId),_0x3f712f=document[_0x522f47(0x274)](_0x522f47(0x30c))[_0x522f47(0x835)];await updateDoc(_0x31c4a2,{'status':_0x522f47(0x8e9),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3f712f});});}function updateAdminSyncView(_0x1151dc){const _0x5a8892=_0x3f08ea;switch(_0x1151dc[_0x5a8892(0x7af)]){case'lobby':renderSyncLobbyView(_0x1151dc[_0x5a8892(0x1b7)],_0x1151dc[_0x5a8892(0x91e)][_0x5a8892(0x994)]);const _0x371b40=Object[_0x5a8892(0x282)](_0x1151dc[_0x5a8892(0x896)]||{})['filter'](([_0x5c3e26,_0x441838])=>_0x441838[_0x5a8892(0x7af)]!==_0x5a8892(0x8f2));document[_0x5a8892(0x274)]('player-count')[_0x5a8892(0x7b7)]=_0x371b40[_0x5a8892(0x31f)],document[_0x5a8892(0x274)](_0x5a8892(0x450))[_0x5a8892(0x1bb)]=_0x371b40[_0x5a8892(0x743)](([_0x316df0,_0x582081])=>_0x5a8892(0x1f2)+_0x316df0+_0x5a8892(0x8b9)+_0x316df0+_0x5a8892(0x5b6))[_0x5a8892(0xaad)]('')||_0x5a8892(0x2c2),document[_0x5a8892(0x274)](_0x5a8892(0x795))[_0x5a8892(0x5a2)]=_0x371b40['length']===0x0;break;case _0x5a8892(0x8e9):const _0x56aae3=Object['values'](_0x1151dc[_0x5a8892(0x896)]||{})[_0x5a8892(0x30b)](_0x1373ce=>_0x1373ce['status']!==_0x5a8892(0x8f2)),_0x2c9690=_0x56aae3[_0x5a8892(0x30b)](_0x5e784b=>_0x5e784b[_0x5a8892(0xa25)])[_0x5a8892(0x31f)],_0x229139=_0x2c9690===_0x56aae3[_0x5a8892(0x31f)]&&_0x56aae3[_0x5a8892(0x31f)]>0x0;if(_0x229139&&_0x1151dc[_0x5a8892(0x7af)]===_0x5a8892(0x8e9)){const _0x177cf0=doc(db,_0x5a8892(0x439)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x177cf0,{'status':_0x5a8892(0x158)});}else{if(document[_0x5a8892(0x274)](_0x5a8892(0x23d))===null)renderAdminSyncQuestionView(_0x1151dc);else{const _0x16310d=document[_0x5a8892(0x274)](_0x5a8892(0x5cd));_0x16310d&&(_0x16310d[_0x5a8892(0x7b7)]=_0x2c9690+'/'+_0x56aae3[_0x5a8892(0x31f)]);const _0x1d788d=document['getElementById'](_0x5a8892(0x8ce));_0x1d788d&&(_0x1d788d[_0x5a8892(0x1bb)]=_0x56aae3['map'](_0x3bfaed=>{const _0x5d7245=_0x5a8892,_0x2ee134=_0x3bfaed[_0x5d7245(0xa25)]?'bg-green-500':_0x5d7245(0x936),_0x59fc3d=_0x3bfaed[_0x5d7245(0xa25)]?_0x5d7245(0x48d):_0x5d7245(0x8d2);return _0x5d7245(0x167)+_0x2ee134+_0x5d7245(0x86e)+_0x59fc3d+_0x5d7245(0x6ab)+_0x3bfaed[_0x5d7245(0x340)]+_0x5d7245(0xa2f)+_0x3bfaed[_0x5d7245(0x340)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''));}}break;case _0x5a8892(0x158):const _0x99e8d5=_0x1151dc[_0x5a8892(0x787)],_0x4fb0dc=_0x1151dc[_0x5a8892(0x91e)][_0x5a8892(0x2bb)][_0x99e8d5];renderSyncSummaryView(_0x1151dc,_0x4fb0dc,!![]);break;case _0x5a8892(0x3ae):renderAdminSyncDashboard(_0x1151dc,!![]);break;case _0x5a8892(0x7b5):_0x1151dc[_0x5a8892(0x18e)]&&saveGameResultsAsSubmissions(_0x1151dc);sessionStorage[_0x5a8892(0x402)](_0x5a8892(0x325));const _0x4df6cc=calculateFinalPodiumScores(_0x1151dc);showPodiumView(_0x4df6cc,_0x5a8892(0x970));break;}}function renderAdminSyncQuestionView(_0x5c9979){const _0x2e82c9=_0x3f08ea,_0x324d00=_0x5c9979[_0x2e82c9(0x787)],_0x27746d=_0x5c9979['shuffledQuiz'][_0x2e82c9(0x2bb)][_0x324d00],_0x2ec46b=_0x5c9979[_0x2e82c9(0x91e)][_0x2e82c9(0x2bb)][_0x2e82c9(0x31f)],_0x2ba34a=Object['values'](_0x5c9979[_0x2e82c9(0x896)]||{})['filter'](_0x32eeec=>_0x32eeec[_0x2e82c9(0x7af)]!=='inactive'),_0x241c92=_0x2ba34a[_0x2e82c9(0x30b)](_0x5548a9=>_0x5548a9[_0x2e82c9(0xa25)])[_0x2e82c9(0x31f)],_0x40237a=_0x241c92===_0x2ba34a[_0x2e82c9(0x31f)]&&_0x2ba34a['length']>0x0,_0x29bbfa=(_0x27746d[_0x2e82c9(0xaee)]||[])['map'](_0x45644f=>_0x2e82c9(0x704)+_0x45644f+_0x2e82c9(0x601))[_0x2e82c9(0xaad)]('');liveGameView[_0x2e82c9(0x1bb)]=_0x2e82c9(0x24f)+(_0x324d00+0x1)+_0x2e82c9(0x1fd)+_0x2ec46b+_0x2e82c9(0x449)+_0x241c92+'/'+_0x2ba34a['length']+_0x2e82c9(0x3a2)+_0x27746d[_0x2e82c9(0x81a)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x29bbfa+_0x2e82c9(0x750)+(!_0x40237a?_0x2e82c9(0x5a2):'')+_0x2e82c9(0x5ae);if(window['MathJax'])MathJax['typesetPromise']();document[_0x2e82c9(0x274)](_0x2e82c9(0x4d5))[_0x2e82c9(0x908)](_0x2e82c9(0x405),async()=>{const _0x4f2037=_0x2e82c9,_0x54df88=doc(db,_0x4f2037(0x439)+appId+_0x4f2037(0x40b),currentLiveGameId);await updateDoc(_0x54df88,{'status':_0x4f2037(0x3ae)});}),document[_0x2e82c9(0x274)](_0x2e82c9(0x207))[_0x2e82c9(0x347)]=()=>{const _0x4951a5=_0x2e82c9;openScratchpad(_0x27746d,_0x27746d[_0x4951a5(0xaee)]||[]);},document['getElementById'](_0x2e82c9(0x290))[_0x2e82c9(0x908)](_0x2e82c9(0x405),()=>{const _0x5a87eb=_0x2e82c9;document[_0x5a87eb(0x274)]('sync-player-management')[_0x5a87eb(0x67e)]['toggle']('hidden');});}function renderSyncLeaderboardView(_0xdca997,_0x39210a){const _0x4817e4=_0x3f08ea,_0x261281=Object[_0x4817e4(0x237)](_0xdca997['players']||{});_0x261281[_0x4817e4(0x34f)]((_0x289be7,_0x1fa341)=>_0x1fa341[_0x4817e4(0x7b8)]-_0x289be7[_0x4817e4(0x7b8)]);const _0x56c439=_0x261281[_0x4817e4(0x625)](0x0,0x5);let _0x5f5141='';if(_0x39210a){const _0x458c70=_0xdca997[_0x4817e4(0x787)]>=_0xdca997[_0x4817e4(0x91e)]['questions']['length']-0x1;_0x5f5141=_0x4817e4(0x420)+(_0x458c70?_0x4817e4(0xa58):_0x4817e4(0x9e1))+_0x4817e4(0x5a3);}else _0x5f5141='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x4817e4(0x1bb)]=_0x4817e4(0x7e4)+_0x56c439[_0x4817e4(0x743)]((_0x3806b3,_0x1bff2a)=>_0x4817e4(0x786)+(_0x1bff2a+0x1)+'.\x20'+_0x3806b3['name']+_0x4817e4(0xa88)+_0x3806b3[_0x4817e4(0x7b8)]+_0x4817e4(0x5c1))[_0x4817e4(0xaad)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f5141+_0x4817e4(0x856),_0x39210a&&document['getElementById'](_0x4817e4(0x2c9))[_0x4817e4(0x908)](_0x4817e4(0x405),async()=>{const _0x4957a7=_0x4817e4,_0x347b55=doc(db,'artifacts/'+appId+_0x4957a7(0x40b),currentLiveGameId),_0x480934=_0xdca997[_0x4957a7(0x787)]+0x1;if(_0x480934<_0xdca997[_0x4957a7(0x91e)]['questions']['length']){const _0x2b4bdd={};Object['keys'](_0xdca997[_0x4957a7(0x896)])[_0x4957a7(0x232)](_0x54a2e9=>{const _0x42a87f=_0x4957a7;_0x2b4bdd[_0x42a87f(0x461)+_0x54a2e9+_0x42a87f(0x4c3)]=![];}),await updateDoc(_0x347b55,{..._0x2b4bdd,'status':_0x4957a7(0x8e9),'currentQuestionIndex':_0x480934,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x347b55,{'status':_0x4957a7(0x7b5)});});}async function handleJoinSyncGame(){const _0x1fbc3c=_0x3f08ea,_0x28e797=prompt(_0x1fbc3c(0x1f6));if(!_0x28e797||_0x28e797[_0x1fbc3c(0x5d8)]()[_0x1fbc3c(0x31f)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x168f63=collection(db,_0x1fbc3c(0x439)+appId+_0x1fbc3c(0x40b)),_0x22a6e0=query(_0x168f63,where(_0x1fbc3c(0x1b7),'==',_0x28e797['trim']()),where(_0x1fbc3c(0x7af),'==',_0x1fbc3c(0x838))),_0x2a37c4=await getDocs(_0x22a6e0);if(_0x2a37c4[_0x1fbc3c(0x48a)]){showMessage(_0x1fbc3c(0x949));return;}const _0x1131e5=_0x2a37c4[_0x1fbc3c(0x971)][0x0];currentLiveGameId=_0x1131e5['id'];const _0x1523a9=_0x1131e5[_0x1fbc3c(0x612)](),_0x22cf7d=doc(db,_0x1fbc3c(0x439)+appId+_0x1fbc3c(0x5e9),_0x1523a9[_0x1fbc3c(0x628)]),_0x352fbf=await getDoc(_0x22cf7d);if(!_0x352fbf['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x1cd508=_0x352fbf[_0x1fbc3c(0x612)](),_0x8b5115=doc(db,_0x1fbc3c(0x439)+appId+_0x1fbc3c(0x6ad),_0x1cd508[_0x1fbc3c(0x6ec)]),_0x4c912c=await getDoc(_0x8b5115);if(!_0x4c912c[_0x1fbc3c(0x905)]())throw new Error(_0x1fbc3c(0x99a));currentQuizData=_0x1523a9[_0x1fbc3c(0x91e)];const _0x3cfcf3=_0x4c912c[_0x1fbc3c(0x612)]();showView(_0x1fbc3c(0x46e)),showTeamPlayerSelection(_0x3cfcf3[_0x1fbc3c(0x88f)],_0x1cd508[_0x1fbc3c(0x994)]);const _0x26d463=document[_0x1fbc3c(0x274)](_0x1fbc3c(0xaae));_0x26d463[_0x1fbc3c(0x347)]=confirmAndJoinSyncGame;}catch(_0x4cb42d){console[_0x1fbc3c(0x183)](_0x1fbc3c(0x789),_0x4cb42d),showMessage(_0x1fbc3c(0x248)+_0x4cb42d[_0x1fbc3c(0x75c)]);}}function updateStudentSyncView(_0x177246){const _0x1c0ee9=_0x3f08ea,_0x35bf56=_0x177246[_0x1c0ee9(0x896)][localTeamPlayers[0x0]];switch(_0x177246[_0x1c0ee9(0x7af)]){case _0x1c0ee9(0x838):showView(_0x1c0ee9(0x4e5)),liveGameView[_0x1c0ee9(0x1bb)]=_0x1c0ee9(0x8cd);break;case _0x1c0ee9(0x8e9):const _0x16e6d4=localTeamPlayers[_0x1c0ee9(0x8b3)](_0x32a994=>_0x177246[_0x1c0ee9(0x896)][_0x32a994]?.[_0x1c0ee9(0xa25)]===!![]);_0x16e6d4?liveGameView[_0x1c0ee9(0x1bb)]=_0x1c0ee9(0x6fa):renderStudentSyncQuestionView(_0x177246);break;case _0x1c0ee9(0x158):liveGameView['innerHTML']=_0x1c0ee9(0x5ea);break;case _0x1c0ee9(0x3ae):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x177246);break;case'podium':sessionStorage['removeItem'](_0x1c0ee9(0x325));const _0x307a31=calculateFinalPodiumScores(_0x177246);showPodiumView(_0x307a31,_0x1c0ee9(0x970));break;}}function renderStudentSyncResultsView(_0x1e94c5){const _0x1efa40=_0x3f08ea,_0x14e509=localTeamPlayers[_0x1efa40(0x743)](_0x276198=>_0x1e94c5[_0x1efa40(0x896)][_0x276198])['filter'](Boolean);_0x14e509[_0x1efa40(0x34f)]((_0x5e6bfa,_0x322188)=>(_0x322188[_0x1efa40(0x7b8)]||0x0)-(_0x5e6bfa[_0x1efa40(0x7b8)]||0x0));const _0x5340e4=_0x1e94c5['currentQuestionIndex']>=_0x1e94c5['shuffledQuiz'][_0x1efa40(0x2bb)]['length']-0x1;let _0x9a98f5='';_0x5340e4?_0x9a98f5=_0x1efa40(0x6a3):_0x9a98f5=_0x1efa40(0x422);const _0x1e784b=_0x1efa40(0x85a)+_0x14e509[_0x1efa40(0x743)]((_0x2bb571,_0x20d667)=>_0x1efa40(0x15a)+(_0x20d667+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2bb571[_0x1efa40(0x340)]+_0x1efa40(0x438)+_0x2bb571[_0x1efa40(0x7b8)]+_0x1efa40(0x302))[_0x1efa40(0xaad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9a98f5+_0x1efa40(0x6ac);liveGameView['innerHTML']=_0x1e784b;}function renderStudentSyncQuestionView(_0x3d4a95){const _0x55b6c8=_0x3f08ea;while(localPlayerTurnIndex<localTeamPlayers[_0x55b6c8(0x31f)]&&_0x3d4a95[_0x55b6c8(0x896)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x55b6c8(0xa25)]===!![]){localPlayerTurnIndex++;}const _0x352858=localTeamPlayers[localPlayerTurnIndex];if(!_0x352858)return;const _0x40048d=_0x3d4a95['currentQuestionIndex'],_0x4648f6=_0x3d4a95[_0x55b6c8(0x91e)]['questions'][_0x55b6c8(0x31f)],_0x16dee7=_0x3d4a95[_0x55b6c8(0x91e)][_0x55b6c8(0x2bb)][_0x40048d],_0x48f26e=_0x16dee7[_0x55b6c8(0x4f4)]||_0x3d4a95['shuffledQuiz'][_0x55b6c8(0x641)];let _0x5ec4b7='',_0x34746a=![];switch(_0x48f26e){case'true_false':_0x5ec4b7=_0x55b6c8(0x45b);break;case _0x55b6c8(0x15d):case _0x55b6c8(0x66c):_0x34746a=!![],_0x5ec4b7=_0x55b6c8(0x2fe);break;case _0x55b6c8(0x466):_0x34746a=!![],_0x5ec4b7=_0x55b6c8(0x8d6)+(_0x16dee7[_0x55b6c8(0x378)]||[])[_0x55b6c8(0x743)](_0x1a200b=>_0x55b6c8(0x943)+_0x1a200b+'\x22>'+_0x1a200b+'</option>')[_0x55b6c8(0xaad)]('')+_0x55b6c8(0x697);break;case _0x55b6c8(0x622):default:_0x5ec4b7=(_0x16dee7[_0x55b6c8(0xaee)]||[])['map']((_0x278d09,_0x36ccbd)=>'<button\x20data-value=\x22'+_0x36ccbd+_0x55b6c8(0x68e)+_0x278d09+'</button>')[_0x55b6c8(0xaad)]('');break;}liveGameView[_0x55b6c8(0x1bb)]=_0x55b6c8(0x517)+(_0x40048d+0x1)+'\x20/\x20'+_0x4648f6+_0x55b6c8(0x6a2)+_0x352858+_0x55b6c8(0x531)+(_0x16dee7[_0x55b6c8(0x81a)]||_0x16dee7[_0x55b6c8(0x353)])+_0x55b6c8(0xa5e)+_0x5ec4b7+_0x55b6c8(0x1ee);if(window[_0x55b6c8(0x13c)])MathJax[_0x55b6c8(0x4db)]();function _0x721c29(_0x5e284f,_0x5cf1bc,_0x2f0f27,_0x5b63dd){const _0x37b17f=_0x55b6c8,_0xfe1304=_0x2f0f27[_0x37b17f(0x2ae)]===!![];if(_0xfe1304){document[_0x37b17f(0x274)](_0x37b17f(0x43f))[_0x37b17f(0x145)][_0x37b17f(0xac4)]=_0x37b17f(0x970);const _0x35934d=document[_0x37b17f(0x274)]('selected-answer-index-hidden');_0x35934d[_0x37b17f(0x145)][_0x37b17f(0xa0a)]=_0x5e284f,_0x35934d[_0x37b17f(0x145)][_0x37b17f(0x8e9)]=JSON[_0x37b17f(0x65e)](_0x5cf1bc),_0x35934d[_0x37b17f(0x145)][_0x37b17f(0x335)]=JSON[_0x37b17f(0x65e)](_0x2f0f27),_0x35934d[_0x37b17f(0x145)][_0x37b17f(0x6f3)]=_0x5b63dd,document[_0x37b17f(0x274)](_0x37b17f(0x43f))[_0x37b17f(0x67e)][_0x37b17f(0xaa2)](_0x37b17f(0x66d));}else handleSyncAnswerSubmit(_0x5e284f,_0x5cf1bc,_0x2f0f27,_0x5b63dd,![]);}_0x34746a?document['getElementById'](_0x55b6c8(0x73f))['addEventListener'](_0x55b6c8(0x405),()=>{const _0x565f63=_0x55b6c8,_0x5d55c8=document[_0x565f63(0x274)](_0x565f63(0x1e6))||document['getElementById']('sync-matching-select');if(_0x5d55c8[_0x565f63(0x303)][_0x565f63(0x5d8)]()===''){showMessage(_0x565f63(0x4d4));return;}_0x721c29(_0x5d55c8['value'],_0x16dee7,_0x3d4a95,_0x352858);}):document[_0x55b6c8(0x591)](_0x55b6c8(0x3b1))['forEach'](_0x5e379f=>{const _0x38b212=_0x55b6c8;_0x5e379f[_0x38b212(0x908)](_0x38b212(0x405),()=>{const _0x1639fe=_0x38b212;_0x721c29(_0x5e379f[_0x1639fe(0x145)][_0x1639fe(0x303)],_0x16dee7,_0x3d4a95,_0x352858);});});}async function handleSyncAnswerSubmit(_0x51d70d,_0x58d728,_0x225b2b,_0x27fd7d,_0x1f59c5){const _0x4d8f32=_0x3f08ea;document[_0x4d8f32(0x591)]('.live-answer-btn,\x20#sync-submit-btn')[_0x4d8f32(0x232)](_0x269b3a=>_0x269b3a[_0x4d8f32(0x5a2)]=!![]);const _0x65ae17=_0x58d728[_0x4d8f32(0x4f4)]||_0x225b2b['shuffledQuiz'][_0x4d8f32(0x641)];let _0x2ea1eb=![],_0x30f2a9=_0x51d70d;switch(_0x65ae17){case'true_false':const _0x3bc58f=parseInt(_0x51d70d),_0xc15693=_0x58d728[_0x4d8f32(0x26f)]===!![]||String(_0x58d728[_0x4d8f32(0x26f)])['toLowerCase']()==='true';_0x2ea1eb=_0x3bc58f===0x0&&_0xc15693||_0x3bc58f===0x1&&!_0xc15693,_0x30f2a9=_0x3bc58f===0x0?'ใช่\x20/\x20ถูก':_0x4d8f32(0xa36);break;case _0x4d8f32(0x15d):case _0x4d8f32(0x66c):_0x2ea1eb=await gradeShortAnswer(_0x51d70d,_0x58d728);break;case _0x4d8f32(0x466):_0x2ea1eb=_0x51d70d===_0x58d728[_0x4d8f32(0x984)];break;case'multiple_choice':default:const _0x71179a=parseInt(_0x51d70d);_0x2ea1eb=_0x71179a===_0x58d728[_0x4d8f32(0x74e)];_0x58d728['options']&&_0x58d728[_0x4d8f32(0xaee)][_0x71179a]&&(_0x30f2a9=_0x58d728[_0x4d8f32(0xaee)][_0x71179a]);break;}let _0x376ab1=0x0;if(_0x2ea1eb&&_0x1f59c5)_0x376ab1=0x2;else{if(_0x2ea1eb)_0x376ab1=0x1;else!_0x2ea1eb&&_0x1f59c5&&(_0x376ab1=-0x1);}const _0x3c8790=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x39105c={};_0x39105c[_0x4d8f32(0x461)+_0x27fd7d+_0x4d8f32(0x73d)]=increment(_0x376ab1),_0x39105c[_0x4d8f32(0x461)+_0x27fd7d+_0x4d8f32(0x4c3)]=!![];let _0x50486e=null;(_0x65ae17===_0x4d8f32(0x622)||_0x65ae17===_0x4d8f32(0x8bf)||_0x65ae17==='fill_in_with_choices')&&(_0x50486e=parseInt(_0x51d70d));_0x39105c[_0x4d8f32(0x461)+_0x27fd7d+_0x4d8f32(0x2c5)]=_0x50486e;const _0x1a0d02={'questionIndex':_0x225b2b['currentQuestionIndex'],'questionId':_0x58d728['id'],'answer':_0x51d70d,'answerText':_0x30f2a9,'isCorrect':_0x2ea1eb,'originalQuestionText':_0x58d728['questionText']||_0x58d728[_0x4d8f32(0x353)],'wasConfident':_0x1f59c5};_0x39105c['players.'+_0x27fd7d+'.answers']=arrayUnion(_0x1a0d02),await updateDoc(_0x3c8790,_0x39105c);}initialize();
