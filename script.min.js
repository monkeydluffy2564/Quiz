const _0x4247c8=_0x4780;(function(_0x2e3405,_0xea4766){const _0x1a6910=_0x4780,_0x4bbe84=_0x2e3405();while(!![]){try{const _0x314dc4=parseInt(_0x1a6910(0x4d0))/0x1*(-parseInt(_0x1a6910(0x21f))/0x2)+-parseInt(_0x1a6910(0x494))/0x3*(-parseInt(_0x1a6910(0x255))/0x4)+parseInt(_0x1a6910(0x573))/0x5*(parseInt(_0x1a6910(0x5aa))/0x6)+-parseInt(_0x1a6910(0x1cc))/0x7*(-parseInt(_0x1a6910(0x1f5))/0x8)+parseInt(_0x1a6910(0x39d))/0x9*(-parseInt(_0x1a6910(0x8a1))/0xa)+parseInt(_0x1a6910(0x366))/0xb+parseInt(_0x1a6910(0x55a))/0xc*(-parseInt(_0x1a6910(0x399))/0xd);if(_0x314dc4===_0xea4766)break;else _0x4bbe84['push'](_0x4bbe84['shift']());}catch(_0x2053fa){_0x4bbe84['push'](_0x4bbe84['shift']());}}}(_0x49ea,0x289bb));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x433b79=_0x4780;if(_0x433b79(0x370)in navigator)try{wakeLock=await navigator['wakeLock']['request']('screen'),console[_0x433b79(0x25e)](_0x433b79(0x670)),wakeLock['addEventListener'](_0x433b79(0x5a6),()=>{const _0x28281b=_0x433b79;console['log'](_0x28281b(0x7da));});}catch(_0x1dbfd1){console[_0x433b79(0x43a)](_0x433b79(0x7e9)+_0x1dbfd1[_0x433b79(0x103)]+',\x20'+_0x1dbfd1[_0x433b79(0x7be)]);}else console[_0x433b79(0x58a)](_0x433b79(0x70e));},releaseWakeLock=async()=>{const _0x176216=_0x4780;wakeLock!==null&&(await wakeLock[_0x176216(0x5a6)](),wakeLock=null,console[_0x176216(0x25e)](_0x176216(0x44f)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x28f62d=_0x4780;if(dimTimer)clearTimeout(dimTimer);document[_0x28f62d(0x444)]['classList'][_0x28f62d(0x691)](_0x28f62d(0x841)),dimTimer=setTimeout(()=>{const _0x36007c=_0x28f62d;document['body']['classList'][_0x36007c(0x90a)](_0x36007c(0x841)),console[_0x36007c(0x25e)](_0x36007c(0x45b));},inactivityTime);}function stopDimTimer(){const _0x22b5c6=_0x4780;if(dimTimer)clearTimeout(dimTimer);document[_0x22b5c6(0x444)][_0x22b5c6(0x3e0)][_0x22b5c6(0x691)](_0x22b5c6(0x841)),window[_0x22b5c6(0x77a)](_0x22b5c6(0x886),resetDimTimer),window[_0x22b5c6(0x77a)](_0x22b5c6(0x8ea),resetDimTimer),window[_0x22b5c6(0x77a)](_0x22b5c6(0x57e),resetDimTimer),window[_0x22b5c6(0x77a)](_0x22b5c6(0x6ac),resetDimTimer),console['log'](_0x22b5c6(0x4a6));}let history=[],historyStep=-0x1,scratchpadPenColor=_0x4247c8(0x606),modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4247c8(0x725),'pinnedProjects':[],'projectView':_0x4247c8(0x748)};const allMathTopics=[{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x7f2)},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x2d0)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x5eb)},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x5bd)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x1f7)},{'category':_0x4247c8(0x6ba),'name':'การลบ'},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x695)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x895)},{'category':_0x4247c8(0x6ba),'name':'จำนวนเต็มบวก'},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x338)},{'category':_0x4247c8(0x6ba),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x879)},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x1b5)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x5fd)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x544)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x655)},{'category':_0x4247c8(0x6ba),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x8be)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x55e)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x1a9)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x88f)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x3c1)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x571)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x2fe)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x48e)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x547)},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x4ca)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x53b)},{'category':_0x4247c8(0x6ba),'name':'ร้อยละพื้นฐาน'},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x3e4)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x759)},{'category':_0x4247c8(0x6ba),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':'จำนวนและการดำเนินการ','name':_0x4247c8(0x8d9)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x615)},{'category':_0x4247c8(0x6ba),'name':_0x4247c8(0x733)},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x21b)},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x224)},{'category':_0x4247c8(0x756),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x4247c8(0x756),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x4247c8(0x756),'name':'อุณหภูมิและการแปลง'},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x4f2)},{'category':_0x4247c8(0x756),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x4247c8(0x756),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':_0x4247c8(0x300)},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x91a)},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x7a4)},{'category':'การวัด','name':_0x4247c8(0x741)},{'category':'การวัด','name':_0x4247c8(0x76b)},{'category':_0x4247c8(0x756),'name':_0x4247c8(0x150)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x668)},{'category':_0x4247c8(0x1e4),'name':'ความสัมพันธ์ของมุม'},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x251)},{'category':'เรขาคณิต','name':_0x4247c8(0x342)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x221)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x7d7)},{'category':_0x4247c8(0x1e4),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x4247c8(0x8af)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x3ab)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x633)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x93e)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x7b7)},{'category':_0x4247c8(0x1e4),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x57d)},{'category':_0x4247c8(0x1e4),'name':_0x4247c8(0x108)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x333)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x6a0)},{'category':_0x4247c8(0x121),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x577)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x28e)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x10f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x8b0)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x937)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x4f0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x1ea)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x843)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x2b6)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x81f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x1ce)},{'category':_0x4247c8(0x121),'name':'ระบบอสมการ'},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x59e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x3b9)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x438)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x2a6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x7ed)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x562)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x1f8)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x7d5)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x4247c8(0x121),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x7d2)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x75d)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x4f8)},{'category':_0x4247c8(0x121),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247c8(0x76a)},{'category':_0x4247c8(0x121),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x4247c8(0x121),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x160)},{'category':_0x4247c8(0x121),'name':_0x4247c8(0x482)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247c8(0x5da)},{'category':_0x4247c8(0x600),'name':'ความชันและเส้นตรง'},{'category':_0x4247c8(0x600),'name':_0x4247c8(0x381)},{'category':_0x4247c8(0x600),'name':_0x4247c8(0x375)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247c8(0x4be)},{'category':_0x4247c8(0x600),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247c8(0x396)},{'category':_0x4247c8(0x600),'name':'วงรี'},{'category':_0x4247c8(0x600),'name':'ไฮเพอร์โบลา'},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x616)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x501)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x816)},{'category':'ตรีโกณมิติ','name':_0x4247c8(0x7bb)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x1de)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x63e)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x5bc)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x535)},{'category':'ตรีโกณมิติ','name':_0x4247c8(0x144)},{'category':'ตรีโกณมิติ','name':_0x4247c8(0x27c)},{'category':_0x4247c8(0x4bd),'name':_0x4247c8(0x419)},{'category':_0x4247c8(0x128),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x4247c8(0x8a0)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x172)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x1ef)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x67a)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x2c0)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x60a)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x3f0)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x629)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247c8(0x1fd)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247c8(0x46a)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x77f)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x834)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x18f)},{'category':_0x4247c8(0x128),'name':'แผนภาพเวนน์'},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x34e)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x148)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247c8(0x845)},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x82d)},{'category':_0x4247c8(0x128),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x4247c8(0x128),'name':_0x4247c8(0x393)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x563)},{'category':_0x4247c8(0x507),'name':'ความต่อเนื่อง'},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x724)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x84b)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x7d1)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x400)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x6f7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4247c8(0x294)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x7cf)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x43c)},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x8eb)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x4247c8(0x507),'name':_0x4247c8(0x25c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4247c8(0xea)},{'category':_0x4247c8(0x8a7),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4247c8(0x8a7),'name':_0x4247c8(0x674)},{'category':_0x4247c8(0x8a7),'name':_0x4247c8(0x5f3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4247c8(0x6a5)},{'category':_0x4247c8(0x8a7),'name':_0x4247c8(0x421)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4247c8(0x1c9)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4247c8(0x2fc)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4247c8(0x550)},{'category':_0x4247c8(0x682),'name':_0x4247c8(0x4e2)},{'category':_0x4247c8(0x682),'name':_0x4247c8(0x6dd)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4247c8(0x8c5)},{'category':_0x4247c8(0x1df),'name':_0x4247c8(0x41c)},{'category':_0x4247c8(0x1df),'name':_0x4247c8(0x325)},{'category':_0x4247c8(0x1df),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0xd29237=_0x4247c8,_0x580b68=document[_0xd29237(0x36b)]('math-topics-checkbox-container');if(!_0x580b68)return;const _0x3eeffd=allMathTopics,_0x34a46b=customMathTopics['map'](_0xb3d0f9=>({'id':_0xb3d0f9['id'],'category':'หัวข้อที่สร้างเอง','name':_0xb3d0f9['name']})),_0x139c43=[..._0x3eeffd,..._0x34a46b],_0x52c331=_0x139c43[_0xd29237(0x860)]((_0x117635,_0x488bff)=>{const _0x45c0f6=_0xd29237;return!_0x117635[_0x488bff[_0x45c0f6(0x6e8)]]&&(_0x117635[_0x488bff[_0x45c0f6(0x6e8)]]=[]),_0x117635[_0x488bff['category']][_0x45c0f6(0x852)](_0x488bff),_0x117635;},{});let _0x3c3365='';const _0x39bbc3=[_0xd29237(0x2e2),...Object[_0xd29237(0x32c)](_0x52c331)['filter'](_0x4e8397=>_0x4e8397!==_0xd29237(0x2e2))];for(const _0x141e80 of _0x39bbc3){if(_0x52c331[_0x141e80]){const _0x422c36=_0x141e80==='หัวข้อที่สร้างเอง',_0x4aa3ad=_0x422c36?_0xd29237(0x1c1):_0xd29237(0x6b1),_0x4e13d9=_0x422c36?'text-blue-700':_0xd29237(0x82b);_0x3c3365+=_0xd29237(0x12e),_0x3c3365+=_0xd29237(0x5cb)+_0x4e13d9+_0xd29237(0x8d7)+_0x4aa3ad+_0xd29237(0x7c7)+_0x141e80+_0xd29237(0x8cb),_0x52c331[_0x141e80][_0xd29237(0x204)](_0x4c9c17=>{const _0x434328=_0xd29237,_0x116f09=!!_0x4c9c17['id'],_0x41c50b=_0x116f09?_0x434328(0x6a2)+_0x4c9c17['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c9c17['id']+_0x434328(0x3a1)+_0x4c9c17['id']+_0x434328(0x93a)+_0x4c9c17['id']+_0x434328(0x665):'';_0x3c3365+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x4c9c17['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x4c9c17[_0x434328(0x103)]+_0x434328(0x698)+_0x4c9c17[_0x434328(0x103)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x116f09?_0x434328(0x53c)+_0x4c9c17[_0x434328(0x103)]+'\x22>':'')+_0x434328(0x5fa)+_0x41c50b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3c3365+='</div>';}}_0x580b68[_0xd29237(0x48a)]=_0x3c3365||_0xd29237(0x82f),_0x580b68[_0xd29237(0x77a)](_0xd29237(0x76e),updateSelectedTopicsCount),_0x580b68[_0xd29237(0x889)](_0xd29237(0x76e),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x297883,_0xac668e){const _0x3bc6c8=_0x4247c8;if(!_0x297883||!_0xac668e['trim']()){showMessage(_0x3bc6c8(0x5de));return;}try{const _0x2c383b=doc(db,'artifacts/'+appId+_0x3bc6c8(0x37e),_0x297883);await updateDoc(_0x2c383b,{'name':_0xac668e['trim']()}),showMessage(_0x3bc6c8(0x677));}catch(_0x5998cc){console[_0x3bc6c8(0x43a)](_0x3bc6c8(0x1be),_0x5998cc),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function _0x4780(_0x163b51,_0x53e5e9){const _0x49ea0d=_0x49ea();return _0x4780=function(_0x478029,_0x47a6bd){_0x478029=_0x478029-0xe9;let _0x35f018=_0x49ea0d[_0x478029];return _0x35f018;},_0x4780(_0x163b51,_0x53e5e9);}function toggleTopicEditMode(_0x3bb6a0,_0x581961){const _0x1d88a4=_0x4247c8;if(!_0x3bb6a0)return;const _0x33996e=_0x3bb6a0[_0x1d88a4(0x788)](_0x1d88a4(0x456)),_0x52ec2c=_0x3bb6a0[_0x1d88a4(0x788)](_0x1d88a4(0x6fa)),_0x4221ef=_0x3bb6a0[_0x1d88a4(0x788)](_0x1d88a4(0x352)),_0x50a71f=_0x3bb6a0['querySelector'](_0x1d88a4(0x7d8));_0x33996e[_0x1d88a4(0x3e0)][_0x1d88a4(0x3eb)](_0x1d88a4(0x20f),_0x581961),_0x52ec2c[_0x1d88a4(0x3e0)][_0x1d88a4(0x3eb)]('hidden',!_0x581961),_0x4221ef[_0x1d88a4(0x3e0)][_0x1d88a4(0x3eb)](_0x1d88a4(0x20f),_0x581961),_0x50a71f[_0x1d88a4(0x3e0)][_0x1d88a4(0x3eb)]('hidden',!_0x581961),_0x581961&&(_0x52ec2c[_0x1d88a4(0x11e)](),_0x52ec2c[_0x1d88a4(0x5f7)]());}function updateSelectedTopicsCount(){const _0x41f82e=_0x4247c8,_0x45fe75=document[_0x41f82e(0x36b)](_0x41f82e(0x3ac)),_0x91ca35=_0x45fe75['querySelectorAll']('input[type=\x22checkbox\x22]:checked')[_0x41f82e(0x47b)],_0x218f58=document[_0x41f82e(0x36b)]('selected-topics-count');_0x91ca35>0x0?_0x218f58[_0x41f82e(0x6e3)]=_0x41f82e(0x63a)+_0x91ca35+_0x41f82e(0x8fb):_0x218f58['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4247c8(0x4c7),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4247c8(0x23f),quizLeaderboardSortOrder=_0x4247c8(0x92c),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadLastPos={'x':0x0,'y':0x0};function openScratchpad(_0x1ec6f2,_0x362879){const _0x19a189=_0x4247c8,_0x19b3b4=document[_0x19a189(0x36b)](_0x19a189(0x19c)),_0xfd1a99=document[_0x19a189(0x36b)](_0x19a189(0xf3)),_0x296c3e=document['getElementById'](_0x19a189(0x804));_0xfd1a99[_0x19a189(0x6e3)]=_0x1ec6f2[_0x19a189(0x3cd)]||_0x1ec6f2[_0x19a189(0x35e)],_0x296c3e['innerHTML']=_0x362879[_0x19a189(0x1c2)]((_0x304262,_0x3162e5)=>{const _0x1df828=_0x19a189;let _0x4bbcaa=![];if(_0x1ec6f2[_0x1df828(0x402)]==='multiple_choice')_0x4bbcaa=_0x3162e5===_0x1ec6f2[_0x1df828(0x559)];else{if(_0x1ec6f2[_0x1df828(0x402)]===_0x1df828(0x4ef))_0x4bbcaa=_0x1ec6f2[_0x1df828(0x5ca)]&&_0x3162e5===0x0||!_0x1ec6f2['correctAnswer']&&_0x3162e5===0x1;else{if(_0x1ec6f2[_0x1df828(0x402)]===_0x1df828(0x8fa))_0x4bbcaa=_0x362879[_0x3162e5]===_0x1ec6f2['correctResponse'];}}const _0x3c030a=_0x4bbcaa?_0x1df828(0x7e6):'';return _0x1df828(0x87f)+_0x3c030a+'\x22>'+String['fromCharCode'](0x41+_0x3162e5)+'.\x20'+_0x304262+_0x1df828(0x732);})[_0x19a189(0x182)](''),history=[],historyStep=-0x1,setTimeout(()=>{scratchpadCtx&&saveHistory();},0x64),_0x19b3b4[_0x19a189(0x3e0)][_0x19a189(0x691)]('hidden'),setTimeout(initializeScratchpadCanvas,0x32);if(window['MathJax'])MathJax[_0x19a189(0x301)]([_0xfd1a99,_0x296c3e]);}function initializeScratchpadCanvas(){const _0xb4c896=_0x4247c8,_0x4f82e0=document[_0xb4c896(0x36b)](_0xb4c896(0x7e1)),_0x35020d=document['getElementById'](_0xb4c896(0x90e));if(!_0x4f82e0||!_0x35020d)return;scratchpadCtx=_0x4f82e0[_0xb4c896(0x5b3)]('2d'),_0x4f82e0['width']=_0x35020d[_0xb4c896(0x805)],_0x4f82e0[_0xb4c896(0x569)]=_0x35020d[_0xb4c896(0x6c7)],scratchpadCtx[_0xb4c896(0x34a)]=scratchpadPenColor,scratchpadCtx[_0xb4c896(0x24f)]=0x5,scratchpadCtx[_0xb4c896(0x86a)]='round',scratchpadCtx[_0xb4c896(0x8f1)]=_0xb4c896(0x530);let _0x53019d={'x':0x0,'y':0x0};const _0x576c88=_0x4619b0=>{const _0x12a27f=_0xb4c896,_0x39c4a8=_0x4f82e0['getBoundingClientRect'](),_0x312364=_0x4619b0['touches']?_0x4619b0[_0x12a27f(0x29e)][0x0]['clientX']:_0x4619b0['clientX'],_0x327160=_0x4619b0[_0x12a27f(0x29e)]?_0x4619b0[_0x12a27f(0x29e)][0x0][_0x12a27f(0x61f)]:_0x4619b0[_0x12a27f(0x61f)];return{'x':_0x312364-_0x39c4a8[_0x12a27f(0x4f1)],'y':_0x327160-_0x39c4a8[_0x12a27f(0x16f)]};},_0x2247dd=_0x939df=>{const _0x4726a4=_0xb4c896;_0x939df[_0x4726a4(0x8d5)](),isDrawingOnScratchpad=!![],scratchpadLastPos=_0x576c88(_0x939df),_0x53019d=scratchpadLastPos,scratchpadCtx[_0x4726a4(0x89a)](),scratchpadCtx[_0x4726a4(0x824)](_0x53019d['x'],_0x53019d['y']);},_0x5a8dde=_0x1ac3c0=>{const _0xf5c299=_0xb4c896;if(!isDrawingOnScratchpad)return;_0x1ac3c0[_0xf5c299(0x8d5)]();const _0x1b9d88=_0x576c88(_0x1ac3c0);_0x53019d={'x':(scratchpadLastPos['x']+_0x1b9d88['x'])/0x2,'y':(scratchpadLastPos['y']+_0x1b9d88['y'])/0x2},scratchpadCtx[_0xf5c299(0x92e)](scratchpadLastPos['x'],scratchpadLastPos['y'],_0x53019d['x'],_0x53019d['y']),scratchpadCtx['stroke'](),scratchpadLastPos=_0x1b9d88;},_0x4e3e01=()=>{if(!isDrawingOnScratchpad)return;isDrawingOnScratchpad=![],saveHistory();};_0x4f82e0[_0xb4c896(0x25f)]=_0x2247dd,_0x4f82e0[_0xb4c896(0x12f)]=_0x5a8dde,_0x4f82e0[_0xb4c896(0x2d4)]=_0x4e3e01,_0x4f82e0[_0xb4c896(0x2ef)]=_0x4e3e01;}function saveHistory(){const _0x42d31d=_0x4247c8;historyStep<history[_0x42d31d(0x47b)]-0x1&&(history=history[_0x42d31d(0x67e)](0x0,historyStep+0x1)),history['push'](scratchpadCtx['canvas'][_0x42d31d(0x587)]()),historyStep++,updateUndoRedoButtons();}function undo(){const _0x1832a7=_0x4247c8;if(historyStep>0x0){historyStep--;const _0x1b50dd=new Image();_0x1b50dd[_0x1832a7(0xf1)]=history[historyStep],_0x1b50dd[_0x1832a7(0x473)]=()=>{const _0x4e9c5f=_0x1832a7;scratchpadCtx['clearRect'](0x0,0x0,scratchpadCtx[_0x4e9c5f(0x1d0)][_0x4e9c5f(0x1ad)],scratchpadCtx['canvas'][_0x4e9c5f(0x569)]),scratchpadCtx['drawImage'](_0x1b50dd,0x0,0x0);},updateUndoRedoButtons();}}function redo(){const _0xd67b64=_0x4247c8;if(historyStep<history['length']-0x1){historyStep++;const _0x65840c=new Image();_0x65840c[_0xd67b64(0xf1)]=history[historyStep],_0x65840c[_0xd67b64(0x473)]=()=>{const _0x18cf9e=_0xd67b64;scratchpadCtx[_0x18cf9e(0x77e)](0x0,0x0,scratchpadCtx[_0x18cf9e(0x1d0)][_0x18cf9e(0x1ad)],scratchpadCtx[_0x18cf9e(0x1d0)][_0x18cf9e(0x569)]),scratchpadCtx[_0x18cf9e(0x70a)](_0x65840c,0x0,0x0);},updateUndoRedoButtons();}}function updateUndoRedoButtons(){const _0x4895c1=_0x4247c8;document[_0x4895c1(0x36b)](_0x4895c1(0x67d))['disabled']=historyStep<=0x0,document[_0x4895c1(0x36b)](_0x4895c1(0x29c))[_0x4895c1(0x65e)]=historyStep>=history[_0x4895c1(0x47b)]-0x1;}function setupScratchpadControls(){const _0x51bf1c=_0x4247c8,_0x2ac90a=document[_0x51bf1c(0x36b)](_0x51bf1c(0x19c));document['getElementById'](_0x51bf1c(0x117))['addEventListener'](_0x51bf1c(0x3d5),()=>{const _0x393300=_0x51bf1c;_0x2ac90a[_0x393300(0x3e0)]['add'](_0x393300(0x20f));}),document['getElementById'](_0x51bf1c(0x67d))[_0x51bf1c(0x889)](_0x51bf1c(0x3d5),undo),document['getElementById']('redo-btn')['addEventListener'](_0x51bf1c(0x3d5),redo),document[_0x51bf1c(0x36b)](_0x51bf1c(0x3c0))[_0x51bf1c(0x889)](_0x51bf1c(0x3d5),()=>{const _0x234a21=_0x51bf1c;scratchpadCtx&&(scratchpadCtx[_0x234a21(0x77e)](0x0,0x0,scratchpadCtx[_0x234a21(0x1d0)][_0x234a21(0x1ad)],scratchpadCtx['canvas'][_0x234a21(0x569)]),saveHistory());}),document['querySelectorAll'](_0x51bf1c(0x360))['forEach'](_0x4e5ce1=>{const _0x320728=_0x51bf1c;_0x4e5ce1[_0x320728(0x889)](_0x320728(0x3d5),()=>{const _0x5ce7f8=_0x320728;if(scratchpadCtx){const _0x5e6792=parseInt(_0x4e5ce1[_0x5ce7f8(0x29d)]['size'],0xa);scratchpadCtx[_0x5ce7f8(0x24f)]=_0x5e6792,document['querySelectorAll'](_0x5ce7f8(0x360))[_0x5ce7f8(0x204)](_0x516eb1=>_0x516eb1[_0x5ce7f8(0x3e0)][_0x5ce7f8(0x691)](_0x5ce7f8(0x599))),_0x4e5ce1[_0x5ce7f8(0x3e0)][_0x5ce7f8(0x90a)]('active');}});}),document[_0x51bf1c(0x16d)](_0x51bf1c(0x291))[_0x51bf1c(0x204)](_0x3d1086=>{const _0x4fa92e=_0x51bf1c;_0x3d1086[_0x4fa92e(0x889)]('click',()=>{const _0x676e48=_0x4fa92e;if(scratchpadCtx){const _0x36df07=_0x3d1086[_0x676e48(0x29d)]['color'];scratchpadCtx[_0x676e48(0x34a)]=_0x36df07,document[_0x676e48(0x16d)](_0x676e48(0x291))['forEach'](_0x2dee8b=>_0x2dee8b[_0x676e48(0x3e0)]['remove']('active')),_0x3d1086[_0x676e48(0x3e0)][_0x676e48(0x90a)](_0x676e48(0x599));}});});const _0x2266c7=document[_0x51bf1c(0x36b)]('pen-tool-btn'),_0xbb983a=document[_0x51bf1c(0x36b)](_0x51bf1c(0x27e));_0x2266c7[_0x51bf1c(0x889)](_0x51bf1c(0x3d5),()=>{const _0x4332bb=_0x51bf1c;scratchpadCtx['globalCompositeOperation']=_0x4332bb(0x2b1),scratchpadCtx[_0x4332bb(0x34a)]=scratchpadPenColor,_0x2266c7[_0x4332bb(0x3e0)][_0x4332bb(0x90a)](_0x4332bb(0x599)),_0xbb983a[_0x4332bb(0x3e0)][_0x4332bb(0x691)]('active');}),_0xbb983a[_0x51bf1c(0x889)](_0x51bf1c(0x3d5),()=>{const _0x44a078=_0x51bf1c;scratchpadCtx[_0x44a078(0x5e5)]=_0x44a078(0x8c1),_0x2266c7[_0x44a078(0x3e0)]['remove'](_0x44a078(0x599)),_0xbb983a[_0x44a078(0x3e0)][_0x44a078(0x90a)](_0x44a078(0x599));}),document[_0x51bf1c(0x16d)](_0x51bf1c(0x291))['forEach'](_0x271df2=>{const _0x25f74e=_0x51bf1c;_0x271df2[_0x25f74e(0x889)](_0x25f74e(0x3d5),()=>{const _0x1d908c=_0x25f74e;if(scratchpadCtx){const _0x13a0f1=_0x271df2[_0x1d908c(0x29d)]['color'];scratchpadPenColor=_0x13a0f1,scratchpadCtx[_0x1d908c(0x34a)]=_0x13a0f1,scratchpadCtx[_0x1d908c(0x5e5)]=_0x1d908c(0x2b1),_0x2266c7['classList'][_0x1d908c(0x90a)](_0x1d908c(0x599)),_0xbb983a['classList'][_0x1d908c(0x691)]('active'),document['querySelectorAll'](_0x1d908c(0x291))['forEach'](_0x4350ac=>_0x4350ac[_0x1d908c(0x3e0)][_0x1d908c(0x691)](_0x1d908c(0x599))),_0x271df2['classList'][_0x1d908c(0x90a)](_0x1d908c(0x599));}});}),window[_0x51bf1c(0x889)](_0x51bf1c(0x5e4),()=>{const _0x2e5928=_0x51bf1c;!_0x2ac90a[_0x2e5928(0x3e0)]['contains'](_0x2e5928(0x20f))&&initializeScratchpadCanvas();});}const BADGES={'PERFECT_SCORE':{'id':_0x4247c8(0x73a),'name':_0x4247c8(0x167),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x4247c8(0x714)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x4247c8(0x4b0),'description':_0x4247c8(0x76c),'icon':_0x4247c8(0x4c6)},'ON_FIRE':{'id':_0x4247c8(0x257),'name':_0x4247c8(0x7ad),'description':_0x4247c8(0x6a9),'icon':_0x4247c8(0x3a6)},'FIRST_TRY_ACE':{'id':_0x4247c8(0x21c),'name':_0x4247c8(0x243),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x4247c8(0x4ec)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4247c8(0x607),'description':_0x4247c8(0x6e4),'icon':_0x4247c8(0x8f3)},'SPECIALIST':{'id':_0x4247c8(0x2ed),'name':_0x4247c8(0x80e),'description':_0x4247c8(0x516),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0x4247c8(0x322),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x4247c8(0x77b)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x4247c8(0x7d0),'projectId':_0x4247c8(0x81c),'storageBucket':_0x4247c8(0x847),'messagingSenderId':_0x4247c8(0x3bf),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x4247c8(0x40e),adminView=document[_0x4247c8(0x36b)](_0x4247c8(0x7cc)),studentView=document[_0x4247c8(0x36b)](_0x4247c8(0x817)),projectDashboardView=document['getElementById'](_0x4247c8(0x872)),projectDetailView=document[_0x4247c8(0x36b)]('project-detail-view'),quizResultsView=document['getElementById'](_0x4247c8(0x11f)),projectList=document['getElementById'](_0x4247c8(0x1f4)),noProjectsMsg=document[_0x4247c8(0x36b)](_0x4247c8(0x7dc)),projectTitle=document[_0x4247c8(0x36b)](_0x4247c8(0x7f8)),projectIdDisplay=document[_0x4247c8(0x36b)](_0x4247c8(0x6fb)),studentList=document[_0x4247c8(0x36b)](_0x4247c8(0x612)),messageModal=document[_0x4247c8(0x36b)](_0x4247c8(0x74e)),modalMessage=document[_0x4247c8(0x36b)](_0x4247c8(0x20a)),createProjectModal=document[_0x4247c8(0x36b)](_0x4247c8(0x80a)),adminPasswordModal=document[_0x4247c8(0x36b)]('admin-password-modal'),confirmationModal=document[_0x4247c8(0x36b)](_0x4247c8(0x8ae)),userIdDisplay=document[_0x4247c8(0x36b)]('user-id-display'),topicTab=document['getElementById'](_0x4247c8(0x4ab)),textTab=document[_0x4247c8(0x36b)](_0x4247c8(0x492)),topicInputArea=document['getElementById'](_0x4247c8(0x265)),textInputArea=document[_0x4247c8(0x36b)](_0x4247c8(0x446)),manageTab=document[_0x4247c8(0x36b)](_0x4247c8(0x31a)),resultsTab=document[_0x4247c8(0x36b)](_0x4247c8(0x2fa)),leaderboardTab=document[_0x4247c8(0x36b)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x4247c8(0x534)),resultsTabContent=document[_0x4247c8(0x36b)]('results-tab-content'),leaderboardTabContent=document[_0x4247c8(0x36b)](_0x4247c8(0x371)),projectQuizzesList=document[_0x4247c8(0x36b)](_0x4247c8(0x65b)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x4247c8(0x36b)](_0x4247c8(0x206)),fileUploadInput=document[_0x4247c8(0x36b)](_0x4247c8(0x1dc)),worksheetTab=document[_0x4247c8(0x36b)]('worksheet-tab'),worksheetInputArea=document[_0x4247c8(0x36b)](_0x4247c8(0x86f)),generateWorksheetBtn=document[_0x4247c8(0x36b)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x4247c8(0x7b1)),studentNameSelectionView=document[_0x4247c8(0x36b)](_0x4247c8(0x2cb)),studentQuizArea=document[_0x4247c8(0x36b)](_0x4247c8(0x30d)),studentResultArea=document['getElementById'](_0x4247c8(0x2eb)),studentReadingArea=document['getElementById'](_0x4247c8(0x226)),loadQuizBtn=document[_0x4247c8(0x36b)](_0x4247c8(0x115)),startQuizBtn=document[_0x4247c8(0x36b)](_0x4247c8(0x673)),studentJoinGameView=document[_0x4247c8(0x36b)](_0x4247c8(0x3f7)),presentationModal=document[_0x4247c8(0x36b)]('presentation-modal'),renameQuizModal=document['getElementById'](_0x4247c8(0x4fb)),moveQuizModal=document[_0x4247c8(0x36b)](_0x4247c8(0x201)),quizSettingsModal=document[_0x4247c8(0x36b)](_0x4247c8(0x3d3)),quizStatusModal=document[_0x4247c8(0x36b)]('quiz-status-modal'),liveGameView=document['getElementById']('live-game-view');function handleAutoFixLatex(){const _0x8d8605=_0x4247c8,_0x2c3b08=document[_0x8d8605(0x36b)](_0x8d8605(0x23d))||document,_0x1926e4=_0x2c3b08['querySelectorAll']([_0x8d8605(0x13c),_0x8d8605(0x506),_0x8d8605(0x8c6),'[role=\x22textbox\x22]',_0x8d8605(0x5a2),'label',_0x8d8605(0x3fc),_0x8d8605(0x697),'.answer-text'][_0x8d8605(0x182)](','));let _0x1cfb0c=0x0;const _0x366727=_0x425a80=>_0x8d8605(0x7c0)in _0x425a80?String(_0x425a80['value']):_0x425a80['innerText']!==undefined?_0x425a80['innerText']:_0x425a80['textContent']||'',_0x435fc7=(_0x3a2736,_0x4a3fa1)=>{const _0x5819e6=_0x8d8605;if(_0x5819e6(0x7c0)in _0x3a2736){_0x3a2736[_0x5819e6(0x7c0)]=_0x4a3fa1;return;}if(_0x3a2736[_0x5819e6(0x788)]&&_0x3a2736[_0x5819e6(0x788)]('mjx-container'))return;if(_0x3a2736['innerText']!==undefined)_0x3a2736[_0x5819e6(0x119)]=_0x4a3fa1;else _0x3a2736[_0x5819e6(0x6e3)]=_0x4a3fa1;},_0x702cf1=_0x9be1e0=>_0x9be1e0['replace'](/\u00A0/g,'\x20')[_0x8d8605(0x134)](/\u200B/g,'')[_0x8d8605(0x134)](/\r\n?/g,'\x0a'),_0x28f9a9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4cfdfd=_0xd08c22=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x8d8605(0x2f7)](_0xd08c22),_0x4bd150=_0x1e183c=>{const _0x347397=_0x8d8605,_0x34ab83=(_0x1e183c[_0x347397(0x8c4)](/\{/g)||[])[_0x347397(0x47b)],_0x1bb55e=(_0x1e183c[_0x347397(0x8c4)](/\}/g)||[])['length'];if(_0x34ab83>_0x1bb55e)_0x1e183c=_0x1e183c+'}'[_0x347397(0x511)](_0x34ab83-_0x1bb55e);return _0x1e183c;},_0x375bc4=_0x1562aa=>{const _0x584f8e=_0x8d8605;let _0x490ce2=_0x1562aa['trim']();const _0x4c90d5=[_0x584f8e(0x7d6),_0x584f8e(0x699),_0x584f8e(0x259),_0x584f8e(0x2bc),_0x584f8e(0x73f),_0x584f8e(0x1a0),_0x584f8e(0x2a4),_0x584f8e(0x7e0),_0x584f8e(0x249),_0x584f8e(0x6bf),'le','ge',_0x584f8e(0x780),'pm',_0x584f8e(0x368),'sin',_0x584f8e(0x873),_0x584f8e(0x857),'log','ln',_0x584f8e(0x53a),_0x584f8e(0x22b),'binom',_0x584f8e(0x4f1),'right',_0x584f8e(0x916),'underline','circ',_0x584f8e(0x389)];_0x490ce2=_0x490ce2['replace'](new RegExp(_0x584f8e(0x938)+_0x4c90d5['join']('|')+_0x584f8e(0x2a2),'g'),'\x5c'),_0x4c90d5['forEach'](_0x1bf820=>{const _0x5561f0=_0x584f8e;_0x490ce2=_0x490ce2[_0x5561f0(0x134)](new RegExp(_0x5561f0(0x47c)+_0x1bf820+'\x5cb','g'),(_0x33e4ef,_0x1ba7f9)=>_0x1ba7f9+'\x5c'+_0x1bf820);});const _0xd81071=[[/×/g,_0x584f8e(0x52b)],[/·/g,_0x584f8e(0x4b2)],[/÷/g,_0x584f8e(0x42d)],[/≤/g,_0x584f8e(0x415)],[/≥/g,_0x584f8e(0x14d)],[/≠/g,_0x584f8e(0x5d9)],[/±/g,'\x5cpm'],[/∑/g,_0x584f8e(0x5ec)],[/−/g,'-']];_0xd81071[_0x584f8e(0x204)](([_0x1f44d5,_0x24c74a])=>{const _0x34388b=_0x584f8e;_0x490ce2=_0x490ce2[_0x34388b(0x134)](_0x1f44d5,_0x24c74a);}),_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/√\s*\(([^)]*)\)/g,_0x584f8e(0x658)),_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x490ce2=_0x490ce2['replace'](/(^|[^\\])\bimes\b/g,_0x584f8e(0x44b))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x584f8e(0x134)](/(^|[^\\])ext\{/g,_0x584f8e(0x608))[_0x584f8e(0x134)](/(^|[^\\])ext\(/g,_0x584f8e(0x4cc))[_0x584f8e(0x134)](/\\text\(([^)]*)\)/g,_0x584f8e(0x71a))['replace'](/\s\\frac/g,'\x5cfrac'),_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3c4c2b,_0x25a013,_0x4dd4d2,_0x325588)=>_0x25a013+_0x584f8e(0x87c)+_0x4dd4d2+'}{'+_0x325588+'}'),_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x584f8e(0x6b3))[_0x584f8e(0x134)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x584f8e(0x6b3))[_0x584f8e(0x134)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x584f8e(0x6b3)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x584f8e(0x72c)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x584f8e(0x72c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x584f8e(0x72c)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x584f8e(0x72c)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x584f8e(0x794)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x584f8e(0x72c)]][_0x584f8e(0x204)](([_0x5c1306,_0x3fcbe5])=>{const _0x5daf88=_0x584f8e;_0x490ce2=_0x490ce2[_0x5daf88(0x134)](_0x5c1306,_0x3fcbe5);}),_0x490ce2=_0x490ce2['replace'](/(\d+)\s*%/g,_0x584f8e(0xff)),_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x584f8e(0x5c8))[_0x584f8e(0x134)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x584f8e(0x134)](/\{\{([^\{\}]+)\}\}/g,_0x584f8e(0x2a3)),[_0x584f8e(0x79e),'cos','tan',_0x584f8e(0x25e),'ln'][_0x584f8e(0x204)](_0x4f703f=>{const _0x49d7e6=_0x584f8e;_0x490ce2=_0x490ce2[_0x49d7e6(0x134)](new RegExp(_0x49d7e6(0x47c)+_0x4f703f+_0x49d7e6(0x5fb),'g'),(_0x59fd03,_0x34a760)=>_0x34a760+'\x5c'+_0x4f703f+'(');});const _0x432d31=(_0x490ce2[_0x584f8e(0x8c4)](/\\left\b/g)||[])[_0x584f8e(0x47b)],_0x4f5e4e=(_0x490ce2['match'](/\\right\b/g)||[])['length'];if(_0x432d31!==_0x4f5e4e)_0x490ce2=_0x490ce2[_0x584f8e(0x134)](/\\left\b/g,'')[_0x584f8e(0x134)](/\\right\b/g,'');return _0x490ce2=_0x4bd150(_0x490ce2),_0x490ce2;},_0x2a59f7=_0x471ac7=>{const _0x1b2ae1=_0x8d8605;if(/\$|\\\(|\\\[/['test'](_0x471ac7))return _0x471ac7;if(!_0x28f9a9[_0x1b2ae1(0x2f7)](_0x471ac7))return _0x471ac7;const _0x51d989=_0x471ac7[_0x1b2ae1(0x8c4)](/^\s*/)[0x0],_0x23b962=_0x471ac7[_0x1b2ae1(0x8c4)](/\s*$/)[0x0],_0x59aea9=_0x471ac7[_0x1b2ae1(0x52d)]();return _0x51d989+'$'+_0x375bc4(_0x59aea9)+'$'+_0x23b962;},_0x51ff48=_0x449169=>_0x449169[_0x8d8605(0x850)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1926e4[_0x8d8605(0x204)](_0x3e3d50=>{const _0x12d270=_0x8d8605;if(_0x3e3d50[_0x12d270(0x788)]&&_0x3e3d50[_0x12d270(0x788)](_0x12d270(0x7ec)))return;const _0x4f1084=_0x366727(_0x3e3d50);let _0x9c484=_0x702cf1(_0x4f1084);_0x9c484=_0x9c484['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x23360b,_0x541b09)=>'$$'+_0x375bc4(_0x541b09)+'$$')[_0x12d270(0x134)](/\$([^$]*?)\$/g,(_0x28ec94,_0xb1b541)=>'$'+_0x375bc4(_0xb1b541)+'$')[_0x12d270(0x134)](/\\\(([\s\S]*?)\\\)/g,(_0x244a23,_0x5a7938)=>'\x5c('+_0x375bc4(_0x5a7938)+'\x5c)')[_0x12d270(0x134)](/\\\[([\s\S]*?)\\\]/g,(_0x3de6b7,_0x4dadbe)=>'\x5c['+_0x375bc4(_0x4dadbe)+'\x5c]');let _0x5c6554=_0x9c484,_0x142b05=0x0;const _0xe5a40c=_0x3c2954=>_0x3c2954[_0x12d270(0x134)](/S([^S]{0,2000}?)S/g,(_0x51b481,_0x3f0f03)=>_0x28f9a9[_0x12d270(0x2f7)](_0x3f0f03)?'$'+_0x375bc4(_0x3f0f03)+'$':_0x51b481);while(_0x142b05++<0x14){const _0x242cb6=_0xe5a40c(_0x5c6554);if(_0x242cb6===_0x5c6554)break;_0x5c6554=_0x242cb6;}_0x9c484=_0x5c6554,_0x9c484=_0x9c484['split']('\x0a')[_0x12d270(0x1c2)](_0x1d5672=>{const _0x1d23d5=_0x12d270;if(!(/[,\u3001，;；]/[_0x1d23d5(0x2f7)](_0x1d5672)||/\s(?:และ|หรือ)\s/[_0x1d23d5(0x2f7)](_0x1d5672))||!_0x28f9a9[_0x1d23d5(0x2f7)](_0x1d5672))return _0x1d5672;return _0x51ff48(_0x1d5672)[_0x1d23d5(0x1c2)](_0x36ed07=>{const _0x2bad5b=_0x1d23d5;if(/^\s(?:และ|หรือ)\s$/[_0x2bad5b(0x2f7)](_0x36ed07)||/^[,\u3001，;；]$/[_0x2bad5b(0x2f7)](_0x36ed07))return _0x36ed07;return _0x2a59f7(_0x36ed07);})[_0x1d23d5(0x182)]('');})[_0x12d270(0x182)]('\x0a'),_0x9c484=_0x9c484[_0x12d270(0x850)]('\x0a')[_0x12d270(0x1c2)](_0x9d9bb8=>{const _0xd7d921=_0x12d270,_0x12f1fd=_0x9d9bb8[_0xd7d921(0x52d)]();if(!_0x12f1fd)return _0x9d9bb8;const _0x44bb88=/\$|\\\(|\\\[/[_0xd7d921(0x2f7)](_0x12f1fd),_0xf731bb=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0xd7d921(0x2f7)](_0x12f1fd);if(_0x44bb88||!_0xf731bb||_0x4cfdfd(_0x12f1fd))return _0x9d9bb8;return _0x9d9bb8[_0xd7d921(0x134)](_0x12f1fd,'$'+_0x375bc4(_0x12f1fd)+'$');})[_0x12d270(0x182)]('\x0a'),_0x9c484=_0x9c484[_0x12d270(0x134)](/(\d+)\s*°\s*C\b/g,(_0x39c4d3,_0x105d1f,_0x1ecd31,_0x1481e9)=>{const _0x2f5004=_0x1481e9[_0x1ecd31-0x1];if(_0x2f5004==='$'||_0x2f5004==='S'||_0x2f5004==='\x5c')return _0x39c4d3;return'$'+_0x105d1f+'^{\x5ccirc}\x5ctext{C}$';})[_0x12d270(0x134)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x4c1a54,_0x4d6247,_0xcf7be5,_0x13b177)=>{const _0x440772=_0x13b177[_0xcf7be5-0x1];if(_0x440772==='$'||_0x440772==='S'||_0x440772==='\x5c')return _0x4c1a54;return'$'+_0x4d6247+'^{\x5ccirc}\x5ctext{C}$';})[_0x12d270(0x134)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x244989,_0x59f37a,_0x48ee23,_0x42f1b5)=>{const _0xa53b3e=_0x42f1b5[_0x48ee23-0x1];if(_0xa53b3e==='$'||_0xa53b3e==='S'||_0xa53b3e==='\x5c')return _0x244989;return'$'+_0x59f37a+'^{\x5ccirc}\x5ctext{C}$';}),_0x9c484=_0x9c484[_0x12d270(0x134)](/\$\s*\$/g,'$$'),_0x9c484!==_0x4f1084&&(_0x435fc7(_0x3e3d50,_0x9c484),_0x1cfb0c++);});if(_0x1cfb0c>0x0){showMessage(_0x8d8605(0x721)+_0x1cfb0c+_0x8d8605(0x3a7));try{if(window[_0x8d8605(0x5cd)]&&MathJax[_0x8d8605(0x301)])MathJax[_0x8d8605(0x301)]();window[_0x8d8605(0x388)]&&typeof renderMathInElement===_0x8d8605(0x85b)&&renderMathInElement(_0x2c3b08,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2fab60){}}else showMessage(_0x8d8605(0x90d));}async function listenForCustomMathTopics(){const _0x27450a=_0x4247c8,_0x399dad=collection(db,_0x27450a(0x302)+appId+_0x27450a(0x37e));onSnapshot(_0x399dad,_0x2cc458=>{const _0x38116e=_0x27450a;customMathTopics=_0x2cc458['docs']['map'](_0x4e138d=>({'id':_0x4e138d['id'],..._0x4e138d[_0x38116e(0x6d4)]()})),renderTopicCheckboxes();},_0x567a01=>{const _0x185cea=_0x27450a;console[_0x185cea(0x43a)](_0x185cea(0x614),_0x567a01);});}function handleSelectAllTopics(){const _0x1ef17d=_0x4247c8,_0x2b1747=document[_0x1ef17d(0x36b)](_0x1ef17d(0x3ac)),_0x272b70=_0x2b1747[_0x1ef17d(0x16d)](_0x1ef17d(0x4d6));_0x272b70[_0x1ef17d(0x204)](_0x4e837a=>{const _0x3b28dc=_0x1ef17d;_0x4e837a[_0x3b28dc(0x57f)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3f7487=_0x4247c8,_0x3edcfa=document['getElementById'](_0x3f7487(0x3ac)),_0x2980f0=_0x3edcfa[_0x3f7487(0x16d)]('input[type=\x22checkbox\x22]');_0x2980f0['forEach'](_0x30bd7f=>{_0x30bd7f['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1b7748){const _0x3a3e31=_0x4247c8;if(!_0x1b7748)return;try{const _0x58bf86=doc(db,_0x3a3e31(0x302)+appId+'/public/data/customMathTopics',_0x1b7748);await deleteDoc(_0x58bf86),showMessage(_0x3a3e31(0x140));}catch(_0x18736d){console[_0x3a3e31(0x43a)]('Error\x20deleting\x20custom\x20topic:',_0x18736d),showMessage(_0x3a3e31(0x5b9));}}async function handleAddCustomMathTopic(){const _0x38732d=_0x4247c8,_0x5d3d19=document[_0x38732d(0x36b)](_0x38732d(0x517)),_0x123b8c=_0x5d3d19[_0x38732d(0x7c0)][_0x38732d(0x52d)]();if(!_0x123b8c){showMessage(_0x38732d(0x38c));return;}if(!userId){showMessage(_0x38732d(0x746));return;}try{const _0x1b9c72=collection(db,_0x38732d(0x302)+appId+'/public/data/customMathTopics');await addDoc(_0x1b9c72,{'name':_0x123b8c,'createdAt':serverTimestamp()}),_0x5d3d19[_0x38732d(0x7c0)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x123b8c+_0x38732d(0x763));}catch(_0x26edf5){console[_0x38732d(0x43a)](_0x38732d(0x7cd),_0x26edf5),showMessage(_0x38732d(0x7ae));}}async function handleUpdateOldQuizzes(){const _0x57d9bf=_0x4247c8;showConfirmation(_0x57d9bf(0x4e8),async()=>{const _0x2493f0=_0x57d9bf,_0x5dc2af=document[_0x2493f0(0x36b)](_0x2493f0(0x367)),_0x3465e2=document[_0x2493f0(0x36b)]('loader-text'),_0x315459=_0x3465e2['textContent'];_0x5dc2af[_0x2493f0(0x3e0)][_0x2493f0(0x691)]('hidden'),_0x3465e2[_0x2493f0(0x6e3)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x1102d2=collection(db,_0x2493f0(0x302)+appId+_0x2493f0(0x42f)),_0x268ee7=await getDocs(_0x1102d2);if(_0x268ee7[_0x2493f0(0x1d3)]){showMessage(_0x2493f0(0x849));return;}const _0x43b2af=writeBatch(db);let _0x281bf5=0x0;_0x268ee7[_0x2493f0(0x204)](_0x1cdb0d=>{const _0x528730=_0x2493f0,_0x442d28=_0x1cdb0d[_0x528730(0x6d4)](),_0x2dc7ed=_0x1cdb0d['id'];if(_0x442d28[_0x528730(0x4d7)]&&_0x442d28[_0x528730(0x4d7)][_0x528730(0x47b)]>0x0&&!_0x442d28[_0x528730(0x4d7)][0x0]['hasOwnProperty']('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x2dc7ed+'\x20('+_0x442d28[_0x528730(0x761)]+')'),_0x281bf5++;const _0x14a85d=_0x442d28['questions'][_0x528730(0x1c2)]((_0x1c9164,_0x1679c5)=>{const _0x463a89=_0x528730;return{..._0x1c9164,'id':_0x1c9164['id']||'q_'+Date[_0x463a89(0x163)]()+'_'+_0x2dc7ed+'_'+_0x1679c5};}),_0x2dcb87=doc(db,_0x528730(0x302)+appId+_0x528730(0x42f),_0x2dc7ed);_0x43b2af['update'](_0x2dcb87,{'questions':_0x14a85d});}}),_0x281bf5>0x0?(_0x3465e2['textContent']=_0x2493f0(0x2cf)+_0x281bf5+'\x20รายการ...',await _0x43b2af['commit'](),showMessage(_0x2493f0(0x4aa)+_0x281bf5+'\x20รายการสำเร็จ!')):showMessage(_0x2493f0(0x712));}catch(_0x3b72b0){console['error'](_0x2493f0(0x459),_0x3b72b0),showMessage(_0x2493f0(0x5a0)+_0x3b72b0['message']);}finally{_0x5dc2af[_0x2493f0(0x3e0)][_0x2493f0(0x90a)]('hidden'),_0x3465e2[_0x2493f0(0x6e3)]=_0x315459;}});}async function handleBulkUpdateQuizSettings(){const _0x5c7649=_0x4247c8,_0x2092a2={'shuffle':document[_0x5c7649(0x36b)](_0x5c7649(0x5d5))[_0x5c7649(0x7c0)],'resultsDisplay':document[_0x5c7649(0x36b)]('bulk-results-display-select')[_0x5c7649(0x7c0)],'loopUntilPass':document[_0x5c7649(0x36b)](_0x5c7649(0x374))[_0x5c7649(0x57f)]},_0x26fbbf=allQuizzesGlobal['length'];showConfirmation(_0x5c7649(0x880)+_0x26fbbf+_0x5c7649(0x689),async()=>{const _0x4c52ec=_0x5c7649,_0x59b396=document[_0x4c52ec(0x36b)](_0x4c52ec(0x60f));_0x59b396[_0x4c52ec(0x65e)]=!![],_0x59b396[_0x4c52ec(0x48a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x212b08=writeBatch(db);allQuizzesGlobal[_0x4c52ec(0x204)](_0x102e80=>{const _0x350941=_0x4c52ec,_0x4c2761=doc(db,_0x350941(0x302)+appId+_0x350941(0x42f),_0x102e80['id']),_0x1604bd={..._0x102e80[_0x350941(0x59a)]||{},..._0x2092a2};_0x212b08[_0x350941(0x44a)](_0x4c2761,{'settings':_0x1604bd});}),await _0x212b08['commit'](),document[_0x4c52ec(0x36b)](_0x4c52ec(0x89d))[_0x4c52ec(0x3e0)][_0x4c52ec(0x90a)](_0x4c52ec(0x20f)),showMessage(_0x4c52ec(0x17f)+_0x26fbbf+_0x4c52ec(0x4d3));}catch(_0x335307){console[_0x4c52ec(0x43a)](_0x4c52ec(0x113),_0x335307),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x59b396['disabled']=![],_0x59b396[_0x4c52ec(0x48a)]='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x44c40e=_0x4247c8,_0x5b3edb=document['getElementById'](_0x44c40e(0x7f8)),_0x2465b3=document['getElementById'](_0x44c40e(0x821)),_0x5ad0fe=_0x5b3edb[_0x44c40e(0x6e3)][_0x44c40e(0x52d)]();if(!_0x5ad0fe||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x5b3edb[_0x44c40e(0x6e3)]=currentProjectData[_0x44c40e(0x7df)];return;}_0x2465b3[_0x44c40e(0x65e)]=!![],_0x2465b3['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x15d3c5=doc(db,_0x44c40e(0x302)+appId+_0x44c40e(0x522),currentProjectId);await updateDoc(_0x15d3c5,{'projectName':_0x5ad0fe}),currentProjectData&&(currentProjectData[_0x44c40e(0x7df)]=_0x5ad0fe),showMessage(_0x44c40e(0x2da));}catch(_0x5aa229){console[_0x44c40e(0x43a)](_0x44c40e(0x6cd),_0x5aa229),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x5b3edb['textContent']=currentProjectData[_0x44c40e(0x7df)];}finally{_0x2465b3[_0x44c40e(0x3e0)][_0x44c40e(0x90a)](_0x44c40e(0x20f)),_0x2465b3[_0x44c40e(0x65e)]=![],_0x2465b3[_0x44c40e(0x48a)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x52abb5=_0x4247c8;try{const _0x3b7caa=initializeApp(firebaseConfig);db=getFirestore(_0x3b7caa),auth=getAuth(_0x3b7caa),setupAuthListener(),setupEventListeners(),setupScratchpadControls(),showView(_0x52abb5(0x4c7)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x1230bf){console[_0x52abb5(0x43a)]('Firebase\x20initialization\x20failed:',_0x1230bf),showMessage(_0x52abb5(0x5c9));}}async function handleVerifyAnswersInEditor(){const _0x1ff54b=_0x4247c8,_0x200b4d=document[_0x1ff54b(0x36b)](_0x1ff54b(0x811));if(!_0x200b4d)return;const _0x16ea56=document['getElementById']('verify-answers-editor-btn');_0x16ea56['disabled']=!![],_0x16ea56[_0x1ff54b(0x48a)]=_0x1ff54b(0x789);try{const _0x3882db=_0x200b4d[_0x1ff54b(0x16d)](_0x1ff54b(0x3f8)),_0x44f2f8=Array[_0x1ff54b(0x79d)](_0x3882db)[_0x1ff54b(0x1c2)]((_0x327d8e,_0x4b95b9)=>{const _0x4e0d4c=_0x1ff54b,_0x3db345=_0x327d8e[_0x4e0d4c(0x29d)][_0x4e0d4c(0x7eb)],_0x943306=_0x327d8e['querySelector'](_0x4e0d4c(0x13c))[_0x4e0d4c(0x7c0)];let _0x2ae18b=null,_0x963c3a='';switch(_0x3db345){case _0x4e0d4c(0x795):const _0x300ae3=_0x327d8e[_0x4e0d4c(0x16d)]('input[type=\x22text\x22]');_0x2ae18b=Array[_0x4e0d4c(0x79d)](_0x300ae3)['map'](_0x28d698=>_0x28d698[_0x4e0d4c(0x7c0)]);const _0x455c5a=_0x327d8e[_0x4e0d4c(0x788)](_0x4e0d4c(0x71b));_0x455c5a&&(_0x963c3a=_0x2ae18b[parseInt(_0x455c5a['value'])]);break;case _0x4e0d4c(0x510):_0x963c3a=_0x327d8e['querySelector']('.ideal-answer-input')[_0x4e0d4c(0x7c0)];break;case _0x4e0d4c(0x4ef):const _0x45908c=_0x327d8e[_0x4e0d4c(0x788)](_0x4e0d4c(0x71b));_0x963c3a=_0x45908c?_0x45908c['value']:'';break;case _0x4e0d4c(0x8fa):_0x963c3a=_0x327d8e['querySelector'](_0x4e0d4c(0x1fe))[_0x4e0d4c(0x7c0)];break;}return{'question':_0x943306,'options':_0x2ae18b,'proposedAnswer':_0x963c3a};}),_0x4ecd0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x1ff54b(0x549)](_0x44f2f8)+_0x1ff54b(0x57b),_0x45c240={'type':'ARRAY','items':{'type':_0x1ff54b(0x659),'properties':{'questionIndex':{'type':_0x1ff54b(0x596)},'isCorrect':{'type':_0x1ff54b(0x8ce)},'justification':{'type':_0x1ff54b(0x784)},'suggestedAnswer':{'type':_0x1ff54b(0x784)}},'required':['questionIndex',_0x1ff54b(0x3b0),_0x1ff54b(0x4f5)]}},_0x44f379=await callAnalysisApi(_0x4ecd0f,{'type':'OBJECT','properties':{'result':_0x45c240},'required':[_0x1ff54b(0x515)]});displayVerificationResultsInEditor(_0x44f379[_0x1ff54b(0x515)]);}catch(_0xab0436){console[_0x1ff54b(0x43a)]('Error\x20verifying\x20answers\x20in\x20editor:',_0xab0436),showMessage(_0x1ff54b(0x936));}finally{_0x16ea56[_0x1ff54b(0x65e)]=![],_0x16ea56[_0x1ff54b(0x48a)]=_0x1ff54b(0x943);}}function displayVerificationResultsInEditor(_0x3d0e16){const _0x378ad0=_0x4247c8;_0x3d0e16['forEach'](_0x53eacc=>{const _0x2037d7=_0x4780,_0x20dcf6=document[_0x2037d7(0x788)](_0x2037d7(0x6f6)+_0x53eacc['questionIndex']+'\x22]');if(!_0x20dcf6)return;const _0x54e735=_0x20dcf6[_0x2037d7(0x788)](_0x2037d7(0x88c));if(_0x54e735)_0x54e735[_0x2037d7(0x691)]();let _0x1f1288='';if(_0x53eacc[_0x2037d7(0x3b0)])_0x1f1288=_0x2037d7(0x348);else{const _0x5e6e36=_0x53eacc[_0x2037d7(0x728)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x1f1288=_0x2037d7(0x2bf)+_0x5e6e36+_0x2037d7(0x304)+_0x53eacc[_0x2037d7(0x4f5)]+_0x2037d7(0x1e8)+(_0x53eacc[_0x2037d7(0x728)]?_0x2037d7(0x846)+_0x53eacc['suggestedAnswer']+_0x2037d7(0x8cb):'')+_0x2037d7(0x8aa);}_0x20dcf6[_0x2037d7(0x51f)](_0x2037d7(0x427),_0x1f1288);if(!_0x53eacc[_0x2037d7(0x3b0)]&&_0x53eacc[_0x2037d7(0x728)]){const _0xd896dd=_0x20dcf6[_0x2037d7(0x29d)][_0x2037d7(0x7eb)],_0x1e5281=_0x4543e2=>{const _0x3bab16=_0x2037d7;if(!_0x4543e2)return;_0x4543e2[_0x3bab16(0x3e0)][_0x3bab16(0x90a)](_0x3bab16(0x5ea),'transition-all',_0x3bab16(0x70b)),setTimeout(()=>{const _0x4d3262=_0x3bab16;_0x4543e2[_0x4d3262(0x3e0)][_0x4d3262(0x691)]('bg-green-200');},0x9c4);};if(_0xd896dd===_0x2037d7(0x795)){const _0x5650fd=Array['from'](_0x20dcf6[_0x2037d7(0x16d)](_0x2037d7(0x506))),_0x5da2e6=_0x5650fd[_0x2037d7(0x78d)](_0x48b2c4=>_0x48b2c4[_0x2037d7(0x7c0)][_0x2037d7(0x52d)]()[_0x2037d7(0x14b)]()===_0x53eacc[_0x2037d7(0x728)][_0x2037d7(0x52d)]()[_0x2037d7(0x14b)]());if(_0x5da2e6!==-0x1){const _0x78d18=_0x20dcf6[_0x2037d7(0x788)](_0x2037d7(0x6b6)+_0x5da2e6+'\x22]');_0x78d18&&(_0x78d18[_0x2037d7(0x57f)]=!![],_0x1e5281(_0x78d18['closest'](_0x2037d7(0x7e0))));}}else{if(_0xd896dd==='short_answer'||_0xd896dd===_0x2037d7(0x8fa)){const _0x15a721=_0x20dcf6['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x15a721&&(_0x15a721['value']=_0x53eacc[_0x2037d7(0x728)],_0x1e5281(_0x15a721));}else{if(_0xd896dd===_0x2037d7(0x4ef)){const _0x35a2fe=_0x53eacc[_0x2037d7(0x728)][_0x2037d7(0x52d)]()[_0x2037d7(0x14b)](),_0x4d24de=_0x20dcf6[_0x2037d7(0x788)]('input[type=\x22radio\x22][value=\x22'+_0x35a2fe+'\x22]');_0x4d24de&&(_0x4d24de[_0x2037d7(0x57f)]=!![],_0x1e5281(_0x4d24de[_0x2037d7(0x429)](_0x2037d7(0x7e0))));}}}}}),showMessage(_0x378ad0(0x521));}async function handleVerifyAnswers(){const _0x5d8416=_0x4247c8;if(!currentQuizData||!currentQuizData[_0x5d8416(0x4d7)]){showMessage(_0x5d8416(0x827));return;}const _0x3d63ef=document[_0x5d8416(0x36b)](_0x5d8416(0x245));_0x3d63ef['disabled']=!![],_0x3d63ef[_0x5d8416(0x48a)]=_0x5d8416(0x789);try{const _0x299e25=currentQuizData['questions'][_0x5d8416(0x1c2)]((_0x2313c2,_0x361b33)=>{const _0x15ae30=_0x5d8416;let _0x5929ca='';const _0x229f8b=_0x2313c2[_0x15ae30(0x402)]||currentQuizData[_0x15ae30(0x1bb)];switch(_0x229f8b){case _0x15ae30(0x795):_0x5929ca=_0x2313c2['options'][_0x2313c2[_0x15ae30(0x559)]];break;case'short_answer':_0x5929ca=_0x2313c2['idealAnswer'];break;case _0x15ae30(0x4ef):_0x5929ca=_0x2313c2[_0x15ae30(0x5ca)][_0x15ae30(0x4d5)]();break;case _0x15ae30(0x8fa):_0x5929ca=_0x2313c2[_0x15ae30(0x624)];break;}return{'question':_0x2313c2[_0x15ae30(0x3cd)]||_0x2313c2[_0x15ae30(0x35e)],'options':_0x2313c2['options']||null,'proposedAnswer':_0x5929ca};}),_0x125ddf=_0x5d8416(0x8ff)+JSON[_0x5d8416(0x549)](_0x299e25)+_0x5d8416(0x2c7),_0x4216fe={'type':_0x5d8416(0x41e),'items':{'type':_0x5d8416(0x659),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5d8416(0x8ce)},'justification':{'type':_0x5d8416(0x784)},'suggestedAnswer':{'type':_0x5d8416(0x784)}},'required':[_0x5d8416(0x755),_0x5d8416(0x3b0),_0x5d8416(0x4f5)]}},_0x4dd4a4=await callAnalysisApi(_0x125ddf,{'type':'OBJECT','properties':{'result':_0x4216fe},'required':[_0x5d8416(0x515)]});displayVerificationResults(_0x4dd4a4[_0x5d8416(0x515)]);}catch(_0xa5fdb8){console['error']('Error\x20verifying\x20answers:',_0xa5fdb8),showMessage(_0x5d8416(0x936));}finally{_0x3d63ef[_0x5d8416(0x65e)]=![],_0x3d63ef[_0x5d8416(0x48a)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0xe239c8){const _0x3acfd8=_0x4247c8;_0xe239c8[_0x3acfd8(0x204)](_0xc7b55b=>{const _0x25cde5=_0x3acfd8,_0x14d19a=document[_0x25cde5(0x788)](_0x25cde5(0x2dc)+_0xc7b55b[_0x25cde5(0x755)]+'\x22]');if(_0x14d19a){const _0x4de28e=_0x14d19a[_0x25cde5(0x788)]('.verification-result');if(_0x4de28e)_0x4de28e[_0x25cde5(0x691)]();let _0x165bbb='';_0xc7b55b[_0x25cde5(0x3b0)]?_0x165bbb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x165bbb=_0x25cde5(0x558)+_0xc7b55b[_0x25cde5(0x4f5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc7b55b[_0x25cde5(0x728)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0xc7b55b[_0x25cde5(0x728)]+'</p>':'')+_0x25cde5(0x7bf),_0x14d19a[_0x25cde5(0x51f)]('beforeend',_0x165bbb);}}),showMessage(_0x3acfd8(0x521));}function compareNumericalAnswers(_0x5717fe,_0x36a22c){const _0x209ce2=_0x4247c8,_0x36325f=String(_0x5717fe)[_0x209ce2(0x134)](',','.')[_0x209ce2(0x134)](/[^\d.-]/g,'')[_0x209ce2(0x52d)](),_0x4f5307=String(_0x36a22c)[_0x209ce2(0x134)](',','.')[_0x209ce2(0x134)](/[^\d.-]/g,'')[_0x209ce2(0x52d)]();if(_0x36325f===''||_0x4f5307==='')return![];const _0x4b0680=parseFloat(_0x36325f),_0x1ee0ff=parseFloat(_0x4f5307);if(isNaN(_0x4b0680)||isNaN(_0x1ee0ff))return![];return Math[_0x209ce2(0x620)](_0x4b0680-_0x1ee0ff)<0.001;}async function gradeShortAnswer(_0x17b22f,_0x19bb47){const _0x4871e2=_0x4247c8,_0x2b1080=_0x19bb47[_0x4871e2(0x88a)];if(String(_0x17b22f)[_0x4871e2(0x52d)]()['toLowerCase']()===String(_0x2b1080)[_0x4871e2(0x52d)]()[_0x4871e2(0x14b)]())return!![];if(compareNumericalAnswers(_0x17b22f,_0x2b1080))return!![];return console[_0x4871e2(0x25e)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x17b22f,_0x2b1080);}async function revealAnswerForAdmin(_0x911d01,_0x5db7ba){const _0x3e82de=_0x4247c8,_0x2b5314=doc(db,'artifacts/'+appId+_0x3e82de(0x51a),currentLiveGameId);await updateDoc(_0x2b5314,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x17f964){const _0x252e4b=_0x4247c8,_0x3d17a4=Object['values'](_0x17f964['players']||{})[_0x252e4b(0x42c)](_0x2d4b76=>_0x2d4b76['status']==='active');_0x3d17a4[_0x252e4b(0x254)]((_0x5c6b8c,_0x770904)=>_0x770904[_0x252e4b(0x8fc)]-_0x5c6b8c['score']);const _0x498c84=_0x3d17a4[_0x252e4b(0x67e)](0x0,0x5),_0x2047ca=_0x252e4b(0x454)+_0x498c84['map']((_0x5b70de,_0x42e1c8)=>_0x252e4b(0x278)+(_0x42e1c8+0x1)+'.\x20'+(_0x5b70de['name']||Object[_0x252e4b(0x32c)](_0x17f964[_0x252e4b(0x89e)])[_0x252e4b(0x1c5)](_0x2fef5c=>_0x17f964[_0x252e4b(0x89e)][_0x2fef5c]===_0x5b70de))+_0x252e4b(0x837)+_0x5b70de[_0x252e4b(0x8fc)]+_0x252e4b(0x18b))[_0x252e4b(0x182)]('')+_0x252e4b(0x512)+(_0x17f964[_0x252e4b(0x10b)]+0x1===currentQuizData[_0x252e4b(0x4d7)][_0x252e4b(0x47b)]?_0x252e4b(0x8e1):_0x252e4b(0x8f4))+_0x252e4b(0x50a);liveGameView[_0x252e4b(0x48a)]=_0x2047ca,document[_0x252e4b(0x36b)](_0x252e4b(0x94d))[_0x252e4b(0x889)](_0x252e4b(0x3d5),async()=>{const _0x404315=_0x252e4b,_0x5c3814=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x34f6b8=_0x17f964[_0x404315(0x10b)]+0x1;if(_0x34f6b8<currentQuizData[_0x404315(0x4d7)]['length']){const _0xbe8f9c={'currentQuestionIndex':_0x34f6b8,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x404315(0x32c)](_0x17f964['players'])[_0x404315(0x204)](_0x53689c=>{const _0x4902eb=_0x404315;_0xbe8f9c[_0x4902eb(0x806)+_0x53689c+_0x4902eb(0x394)]=![];}),await updateDoc(_0x5c3814,_0xbe8f9c);}else await updateDoc(_0x5c3814,{'status':_0x404315(0x93f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x246baf=>{const _0xfaf70d=_0x4780;if(_0x246baf){userId=_0x246baf[_0xfaf70d(0x47f)],userIdDisplay[_0xfaf70d(0x6e3)]=userId;const _0x25aa9d=await loadUserPreferences();_0x25aa9d[_0xfaf70d(0x69c)]&&(document[_0xfaf70d(0x36b)](_0xfaf70d(0x7e7))[_0xfaf70d(0x7c0)]=_0x25aa9d['projectSortOrder']);globalDashboardSettings[_0xfaf70d(0x8f2)]=_0x25aa9d[_0xfaf70d(0x8f2)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x10ea90,_0x5df68b){const _0x406370=_0x4247c8;if(!userId)return;try{const _0x3cf429=doc(db,_0x406370(0x302)+appId+_0x406370(0x2ad)+userId+_0x406370(0x3cf)),_0x5bb75a={};_0x5bb75a[_0x10ea90]=_0x5df68b,await setDoc(_0x3cf429,_0x5bb75a,{'merge':!![]});}catch(_0x4a4172){console[_0x406370(0x43a)](_0x406370(0x781),_0x4a4172);}}async function loadUserPreferences(){const _0xddea91=_0x4247c8;if(!userId)return{};try{const _0x358582=doc(db,_0xddea91(0x302)+appId+'/users/'+userId+_0xddea91(0x3cf)),_0x56f43a=await getDoc(_0x358582);if(_0x56f43a[_0xddea91(0x747)]())return _0x56f43a[_0xddea91(0x6d4)]();return{};}catch(_0x1dec61){return console['error']('Error\x20loading\x20user\x20preferences:',_0x1dec61),{};}}function showPodiumView(_0x2028f3){const _0x2266a2=_0x4247c8,_0x2a4572=Object[_0x2266a2(0x51d)](_0x2028f3)[_0x2266a2(0x1c2)](([_0x349e4b,_0x1d80a3])=>({'name':_0x349e4b,'score':_0x1d80a3['score']||0x0,'badges':_0x1d80a3[_0x2266a2(0x710)]||[]}));_0x2a4572['sort']((_0x3a74f5,_0x15ec6f)=>{const _0x416958=_0x2266a2,_0x5abaef=_0x15ec6f[_0x416958(0x8fc)]-_0x3a74f5[_0x416958(0x8fc)];if(_0x5abaef!==0x0)return _0x5abaef;return(_0x15ec6f[_0x416958(0x710)][_0x416958(0x47b)]||0x0)-(_0x3a74f5[_0x416958(0x710)][_0x416958(0x47b)]||0x0);});const _0x18a928=_0xe3bcc7=>{const _0x3408b9=_0x2266a2;if(!_0xe3bcc7||_0xe3bcc7['length']===0x0)return'';const _0x39ad67={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3408b9(0x926)+_0xe3bcc7[_0x3408b9(0x1c2)](_0x438b34=>_0x39ad67[_0x438b34]||'')[_0x3408b9(0x182)]('')+_0x3408b9(0x732);},_0x4332d9=_0x2a4572[_0x2266a2(0x67e)](0x3),_0x2fe2e6=_0x4332d9[_0x2266a2(0x47b)]>0x0?_0x2266a2(0x14f)+_0x4332d9[_0x2266a2(0x1c2)]((_0x4692b0,_0x269ffc)=>_0x2266a2(0x3de)+(_0x269ffc+0x4)+_0x2266a2(0x136)+_0x4692b0[_0x2266a2(0x103)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x4692b0[_0x2266a2(0x8fc)]+_0x2266a2(0x1b7))[_0x2266a2(0x182)]('')+_0x2266a2(0x3ae):'',_0x59ee75=_0x2266a2(0x54f)+(_0x2a4572[0x1]?_0x2266a2(0x252)+_0x2a4572[0x1][_0x2266a2(0x103)]+_0x2266a2(0x1e8)+_0x18a928(_0x2a4572[0x1][_0x2266a2(0x710)])+_0x2266a2(0x1a5)+_0x2a4572[0x1]['score']+_0x2266a2(0x286):_0x2266a2(0x353))+_0x2266a2(0x37c)+(_0x2a4572[0x0]?_0x2266a2(0x46b)+_0x2a4572[0x0][_0x2266a2(0x103)]+_0x2266a2(0x1e8)+_0x18a928(_0x2a4572[0x0][_0x2266a2(0x710)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x2a4572[0x0]['score']+_0x2266a2(0x6ad):_0x2266a2(0x353))+_0x2266a2(0x37c)+(_0x2a4572[0x2]?_0x2266a2(0x6ef)+_0x2a4572[0x2]['name']+_0x2266a2(0x1e8)+_0x18a928(_0x2a4572[0x2][_0x2266a2(0x710)])+_0x2266a2(0x1a5)+_0x2a4572[0x2][_0x2266a2(0x8fc)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2266a2(0x353))+_0x2266a2(0x5e6)+_0x2fe2e6+_0x2266a2(0x55f)+(currentMode==='admin'?_0x2266a2(0x594):_0x2266a2(0x247))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x2266a2(0x48a)]=_0x59ee75,currentMode===_0x2266a2(0x875)&&document[_0x2266a2(0x36b)](_0x2266a2(0x809))['addEventListener'](_0x2266a2(0x3d5),async()=>{const _0x1cccfb=_0x2266a2,_0x22139c=doc(db,_0x1cccfb(0x302)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x22139c),showView(_0x1cccfb(0x69f));});}function _0x49ea(){const _0x5512b7=['admin-view','Error\x20adding\x20custom\x20topic:','short','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','ai-quiz-app-aefee.firebaseapp.com','อนุพันธ์:\x20ผลคูณ/ผลหาร','ฟังก์ชันค่าสัมบูรณ์','q-explanation-','bg-green-100\x20font-bold','ฟังก์ชันพหุนาม','frac','ความคล้ายของรูป','.topic-actions-edit','raw','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','no-projects-msg','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','div','scratchpad-canvas','bank-input-area','.isScored','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','text-green-600\x20font-bold','project-sort-select','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','fullscreenElement','qType','mjx-container','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','timer-duration-input','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','เกิดข้อผิดพลาดในการบันทึกลำดับ','การนับ','lessonPlan','ผ่าน','ลบผลสอบของ\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','project-search-input','project-title','index','export-lesson-pdf-btn','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','qIndex','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','student-project-leaderboard-table-body','text-gray-100','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22pin-project-btn\x20','scratchpad-options','clientWidth','players.','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','close-game-final-btn','create-project-modal','show-leaderboard-btn','export-excel-btn','cancel-global-live-btn','ผู้เชี่ยวชาญ','link-input-area','visibilityState','quiz-editor-modal','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','student-view','move-quiz-project-select','(ก่อนเรียน)','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<div\x20id=\x22q-image-container-','ai-quiz-app-aefee','quiz-schedule-end-container','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','อสมการเชิงเส้น','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','save-project-name-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','moveTo','save-settings-btn','</button>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>','text-indigo-700','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','การจัดหมู่\x20(Combination)','เกิดข้อผิดพลาดในการสร้างใบงาน','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','สร้างแบบทดสอบปรนัย','editor-quiz-topic','flex','COMEBACK_KING','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','question','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</form>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','per-question-timer-container','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionId','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','dimmed','ring-purple-400','สมการยกกำลัง','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','การเรียงสับเปลี่ยน\x20(Permutation)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ai-quiz-app-aefee.firebasestorage.app','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','ไม่พบแบบทดสอบในระบบเลย','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.project-card-content','split','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','push','global-quiz-list','keyup','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เกิดข้อผิดพลาด:\x20','tan','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','function','Error\x20listening\x20for\x20projects:','Authentication\x20failed:','Error\x20starting\x20game:','เกิดข้อผิดพลาดในการสร้างห้องเกม','reduce','candidates',',\x20r=','webkitRequestFullscreen','delete-all-students-btn','leaderboard-table-body','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(คู่ขนาน)\x20','title','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','กรุณาเลือกโปรเจคปลายทาง','isLooping','worksheet-input-area','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-dashboard-view','cos','.delete-project-btn','admin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เส้นจำนวน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','name_asc','\x5cfrac{','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','generate-from-link-btn','<div\x20class=\x22','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','end-game-btn','bg-green-50','text-red-700\x20bg-red-100','createdBy','classWeaknesses','mousemove','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','.color-palette-btn','addEventListener','idealAnswer','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.verification-result-editor','API\x20call\x20failed\x20with\x20status:\x20','%</span>','การคูณเศษส่วน','.delete-quiz-btn','globalSettings','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','การหาร','scores-tab-content','ON_FIRE','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','beginPath','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','bulk-quiz-settings-modal','players','student-quiz-leaderboard-tab','การจัดกลุ่มข้อมูล','2067810hSiBrW','not-found','verify-answers-editor-btn','students','onerror','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','getBBox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','confirmation-modal','รูปหลายเหลี่ยมและมุมภายใน','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','quiz-form','show_pass_fail_only','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ส่งแล้ว','.quiz-settings-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','choices_only','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','cursor','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','destination-out','Error\x20updating\x20project\x20color:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','ร้อยละประยุกต์','[contenteditable=\x22true\x22]','text-red-800','.delete-custom-topic-btn','สร้างชุดคำถามจับคู่','summary_chart','</p>','#F3E8FF','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','export-leaderboard-image-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','Error\x20updating\x20quiz\x20status:','preventDefault','#view-rankings-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','cancel-bulk-quiz-settings-btn','รากที่สองและที่สาม','pre-test','answering','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','hint-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','drop','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','สรุปผลสุดท้าย','red','FileReader\x20error:','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','destroy','lastAnswerCorrect','-\x20ข้อ\x20','scrollY','list','mousedown','ปริพันธ์จำกัด','results-tab-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','-tab-content','Error\x20generating\x20quiz:','quiz-id-input','lineCap','projectView','fa-shield-alt\x20text-gray-600','ข้อต่อไป','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','.save-to-bank-btn','total','Failed\x20to\x20kick\x20player\x20','adaptive-quiz-checkbox','matching_item','\x20หัวข้อ)','score',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','preTestId','classStrengths','start-presentation-btn','score-distribution-chart','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','cancel-admin-login-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','modal-timer-mode-select','add','Error\x20rendering\x20student\x20progress:','quiz-start-time','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','scratchpad-canvas-container','(หลังเรียน)\x20','close-comparison-modal-footer-btn','.\x20แต่ละข้อมี\x20','สรุปผลการวิเคราะห์:\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','force-math-checkbox','overline','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','modal-results-display-select','results-table-container','พื้นที่ผิวรูปทรงสามมิติ','<li\x20class=\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.csv','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','Error\x20deleting\x20project:','next-question-timed-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','เกิดข้อผิดพลาดในการปักหมุด','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','post-test','desc','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','</label>\x0a\x20\x20\x20\x20</div>\x0a','getAttributeNS','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','backgroundColor','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','สมการค่าสัมบูรณ์','\x5c\x5c\x5c\x5c(?=(','Error\x20listening\x20for\x20starred\x20quizzes:','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลบแบบทดสอบสำเร็จแล้ว','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','parallel-test-upload-input','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','podium','Error\x20fetching\x20project\x20quizzes:','comparison-modal','mean','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bg-purple-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<textarea\x20name=\x22question','STOP','timer-bar','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','confirm-quiz-status-btn','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','comparison-overall-tab','fill_in_the_blank','helvetica','src','text-blue-700\x20bg-blue-100','scratchpad-question','.unpair-quiz-btn','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','originalQuestionText','projectSort','player-count','_blank','text-emerald-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','status','$1\x5c%','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','name','Error\x20committing\x20score\x20updates:','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x20\x0a\x20\x20\x20\x20','จับคู่แบบทดสอบสำเร็จ!','ทฤษฎีบทพีทาโกรัสและการประยุกต์','behavior-log','.copy-quiz-id-list-btn','currentQuestionIndex','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.group','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','outerHTML','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','analytics-tab-btn','load-quiz-btn','Enter','scratchpad-close-btn','delete','innerText','Error\x20toggling\x20star\x20status:','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','bg-emerald-100','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','focus','quiz-results-view','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','generate-from-topic-btn','\x22\x20value=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20saving\x20to\x20question\x20bank:','สถิติและความน่าจะเป็น','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','worksheet-topic-input','export-leaderboard-excel-btn','start-game-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','onmousemove','text-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','replace','firstScore','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','manage-players-btn','จำนวนคู่:','grid-view-btn','values','textarea','text-green-700\x20bg-green-100','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','bg-green-200\x20text-green-800','ลบหัวข้อสำเร็จ','cancel-test-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','สมการตรีโกณมิติ','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','answeredCurrentQuestion','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','icon','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','<div><input\x20type=\x22radio\x22\x20id=\x22q','svg','pairedQuizId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','setAttributeNS','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','ทฤษฎีทวินาม\x20(เบื้องต้น)','#FFFFFF','tGain','now','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม','/submissions','ยังไม่มีนักเรียนส่งงาน','ไม่พบแบบทดสอบสำหรับรหัสนี้','cancel-quiz-edits-btn-footer','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','querySelectorAll','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','top','.topic-category','กำลังสร้างรูปภาพ...','ตารางความถี่','requestFullscreen','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','getItem','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','workerSrc','อัปเดตการตั้งค่าของแบบทดสอบ\x20','บันทึกการแก้ไข','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','join','data:application/vnd.ms-word;charset=utf-8,','bg-green-500','.ideal-answer-input','แบบเติมคำตอบ','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','parallel-test-input-area','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22\x20name=\x22question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-ai-result','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กฎบวกและกฎคูณ','quiz-bank-count','readAsDataURL','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<br>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','screen_exit','show-in-student-dashboard-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','reference-pdf-upload','PERSEVERANCE','scratchpad-modal','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practice-topic-btn','times','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','isPasscodeEnabled','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','การลบเศษส่วน','.generate-lesson-btn','ยอดเยี่ยม!','Error\x20deleting\x20quiz:','width','/studentProfiles','ถูกต้อง!','#e21b3c','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ตัวประกอบและตัวประกอบเฉพาะ','timerMode','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจคสำเร็จแล้ว','back-to-student-initial-btn','dispatchEvent','quizType','student-quiz-topic','</td></tr>','Error\x20updating\x20custom\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','/public/data/projects/','fas\x20fa-user-edit','map','Error\x20starting\x20live\x20race:','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','find','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</td>','แก้ระบบสมการด้วยเมทริกซ์','documentElement','timer-duration-container','30499xLEJbZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','canvas','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','empty','ไม่สามารถเพิ่มนักเรียนได้','</p><p><strong>เฉลย:</strong>\x20','-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','passcode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','modal-shuffle-select','file-upload-input','Error\x20saving\x20quiz:','กฎของไซน์','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','สร้างโปรเจคสำเร็จ!','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','show_results_only','</li>','เรขาคณิต',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ปิดใช้งาน','live-player-management','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-content','สมการราก\x20(radical)','Error\x20creating\x20project:','leaderboard-quiz-tab-btn','confirm-global-live-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','กราฟแท่ง\x20กราฟเส้น','webkitExitFullscreen','<button\x20id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','lesson-plan-modal','project-list','496gxRcqY','opacity','การบวก','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','postTScore','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','.correct-response-input','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','strength-weakness-analysis-container','move-quiz-modal','generated-quiz-container','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','forEach','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','viewBox','\x22...','modal-message','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','student-name-select','/questionBank','thead\x20.sortable-header','hidden','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','#student-project-leaderboard-content\x20thead','border-green-300\x20bg-green-50','quiz-schedule-start-container','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','insertBefore','[*]','kick-player-btn','dragover','generated-quiz-actions','หน่วยความยาวและการแปลง','first_try_ace','ย้ายแบบทดสอบสำเร็จ','<option\x20value=\x22\x22>กำลังโหลด...</option>','528pAYjLm','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ความเท่ากันทุกประการของสามเหลี่ยม','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','quick_thinker','หน่วยมวล/น้ำหนักและการแปลง','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','student-reading-area','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','bg-red-50','prod','back-to-results-btn','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','default','lower_group_count','Error\x20fetching\x20quiz\x20status:','quiz-leaderboard-table-container','ใช่','link-topic-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','presentation-explanation','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','move','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','quiz-editor-questions-container','\x22\x20data-pre-test-id=\x22','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','คัดลอกไม่สำเร็จ','ไม่มีผู้ตอบตัวเลือกนี้','ผ่านฉลุย','กรุณาใส่ชื่อใหม่','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','N/A','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','back-to-dashboard-from-results-btn','lineWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','correct','sort','80hzQyxK','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','สลับไปโหมดผู้ควบคุม','tfrac','แผนการสอน:\x20','lesson-plan-title','พื้นที่ใต้กราฟ/ระหว่างกราฟ','confirm-delete-btn','log','onmousedown','\x20จาก\x20',';\x22\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','slide-counter','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','topic-input-area','update-old-quizzes-btn','\x22\x20name=\x22question','text/csv;charset=utf-8;','parts','lesson-plan-content','q-text-','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','student-progress-view','scheduled','text-green-700','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','removeChild','Error\x20saving\x20project\x20order:','max','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','progress-student-select','attempts','flex\x20flex-col\x20gap-2','กราฟฟังก์ชันตรีโกณ','#FEE2E2','eraser-tool-btn','\x22\x20value=\x22false\x22\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','ก่อนเรียน','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','class','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</span></div>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','rows','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ระบบสมการเชิงเส้นสองตัวแปร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','อัตราการเปลี่ยนแปลงทันที','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','has','redo-btn','dataset','touches','manual_release','\x20คู่\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่',')\x5cb)','{$1}','cdot','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ฟังก์ชันผกผัน','solution','preTScore','.quiz-bank-delete-btn','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตั้งเวลา\x20(เปิด)','/users/','shuffledQuiz','confirm-move-quiz-btn','both','source-over','confirm-join-game-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','สมการลอการิทึม','arrayBuffer','.pin-project-btn','quiz-bank-modal','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','generate-from-parallel-test-btn','sqrt','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','แผนภาพกล่อง\x20(box\x20plot)','Error\x20displaying\x20question\x20bank:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','student-name-selection-view','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','project-name-input','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','กำลังอัปเดตแบบทดสอบ\x20','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onmouseup','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','(คัดลอก)\x20','smooth','Error\x20saving\x20settings:','เปลี่ยนชื่อโปรเจคสำเร็จ','authed_project_','div[data-question-index=\x22','false','student-name-input','พิมพ์ตอบ','baseVal','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','หัวข้อที่สร้างเอง','คำถามดิบ:\x20\x22','stopPropagation','แบบทดสอบซ่อมเสริม','พบข้อสอบ\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','2-digit','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','border-red-700','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','specialist','.submittedAt','onmouseleave','results_','</p><div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','bank-quiz-search-input','isPinned','far\x20fa-star','test','Error\x20saving\x20submission:','ไม่ได้ตอบ','results-tab','isStarred','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','การบวกทศนิยม','bg-red-100\x20text-red-800','พื้นที่วงกลม/ส่วนของวงกลม','typesetPromise','artifacts/','#ffffff','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','perQuestionStats','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','createdAt','ที่พิมพ์ได้\x20จำนวน\x20','student-quiz-area','คะแนน','คัดลอกรหัสแล้ว!','Error\x20toggling\x20pin\x20status:','padStart','#F59E0B','กรุณาใส่ชื่อนักเรียน','createObjectURL','loopUntilPass','timer-mode-select','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สอบซ่อม','manage-tab','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','confirm-rename-quiz-btn','เปิด\x20(จับเวลา)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ผู้ไม่ยอมแพ้','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-pen','รูปแบบการให้เหตุผล','lastAnswerIndex','ไม่พบข้อมูลการจับคู่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</strong></p>','close','preScore','keys','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','bg-amber-100\x20text-amber-800','save','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบ','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','การกระจายและการจัดหมู่','live-game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20generating\x20from\x20link:','live-options-container','cancel-move-quiz-btn','lowerGroupNames','Error\x20deleting\x20all\x20students:','allResponses','พื้นที่สามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','สร้างใหม่','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-purple-600','strokeStyle','comparison-chart','after','Error\x20updating\x20pin\x20status:','ความน่าจะเป็นแบบมีเงื่อนไข','หลังเรียน','promise','\x22\x20class=\x22delete-project-btn\x20','.topic-actions-view','<div\x20class=\x22flex-1\x22></div>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','getPage','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','bg-green-100','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','text-indigo-800','leaderboard_','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','Failed\x20to\x20create\x20initial\x20submission\x20record:','parent','questionText','toLocaleDateString','.pen-size-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','input[name=\x22status-option\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','136862kmuBGQ','loader','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','27411472','wakeLock','leaderboard-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bulk-loop-until-pass-checkbox','เส้นตรง:\x20ขนาน/ตั้งฉาก','learningGaps','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','add-student-btn','text-indigo-600','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','/public/data/customMathTopics','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','projectOrder','เส้นตรง:\x20รูปแบบสมการ','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<h1></h1>','null','quiz-results','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','katex','deg','<svg','project-detail','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','auto','จำนวนนักเรียน','topic-input','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.duplicate-quiz-btn','ความคาดหมาย\x20(Expected\x20value)','.answeredCurrentQuestion','behavior-log-container','พาราโบลา','text-yellow-300','key','26tbZHro','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20showing\x20quiz\x20detail\x20view:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','9HNKyoA','\x22>จาก:\x20','setAttribute','รีเซ็ตลำดับโปรเจคแล้ว','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','quizId','.quiz-bank-move-btn','fa-fire\x20text-orange-500','\x20ช่อง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','math-topics-checkbox-container','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isCorrect','imageCode','<tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','button[type=\x22submit\x22]','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','Re-grade\x20process\x20failed:','player-list-lobby','โดเมนและเรนจ์','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','</span>','การยืนยันตัวตนล้มเหลว','274192258111','scratchpad-clear-btn','การหารเศษส่วน','td,\x20th','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','ยืนยันการจับคู่','</th>','\x22\x20ซึ่งมีทั้งหมด\x20','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x22\x20name=\x22question_single\x22\x20value=\x22','<span\x20class=\x22font-bold\x20','stem','application/json','/preferences/main','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','comparison-individual-tab','quiz-settings-modal','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','click','สลับไปโหมดนักเรียน','rename-quiz-input','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','undefined','text-green-800','bg-gray-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','lobby','classList','passing-score-input',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','เกิดข้อผิดพลาดในการโหลดโปรเจค','ปรับเพิ่ม/ลดเป็นร้อยละ','getTextContent','submission','text-content-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x20คนที่ส่ง\x20ตอบถูก\x20(','instructions','toggle','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','/public/data/learnedFixes','postScore','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','พิสัย','</div><div\x20class=\x22space-y-2\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','(ฉบับง่าย)\x20','student-join-game-view','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.parallel-quiz-btn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','.choice-text','\x20pointer-events-none\x22>','.admin-try-quiz-list-btn','isRemedial','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','<p>','questionType','```','retake-quiz-loop-btn','\x20ใหม่...','<option>กำลังโหลดโปรเจค...</option>','student-rankings-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','starred-project','originalTopic','promptFeedback','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','standardTopic','ai-quiz-generator-v3','save-quiz-edits-btn','submittedAt','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mouseleave','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ค่าความจริง/ตารางค่าความจริง','text-white','ARRAY','<div\x20class=\x22my-6\x22>','</body></html>','ดีเทอร์มิแนนต์','matching','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','beforeend','bulk-quiz-settings-btn','closest','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','filter','\x5cdiv','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','/public/data/quizzes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','export-leaderboard-word-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','blur','href','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','องค์ประกอบของฟังก์ชัน','.pair-quiz-btn','error','ยังไม่ส่ง','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','00:00','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','analytics-tab-content','modal-adaptive-quiz-checkbox','body','export-tutor-pdf-btn','text-input-area','\x20(p=','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x20ข้อ\x20','update','$1\x5ctimes','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','close-lesson-plan-modal-footer-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','dragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','.topic-name-display','cloneNode','#student-quiz-leaderboard-content\x20thead','Error\x20updating\x20old\x20quizzes:','msRequestFullscreen','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','label','สร้างแบบทดสอบ','date_asc','เกิดข้อผิดพลาดในการนำผู้เล่นออก','แบบทดสอบนี้หมดเวลาแล้ว','back-to-student-home-btn','results-table','presentation-short-answer-input','.rename-quiz-btn','#results-table','studentName','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','คณิตศาสตร์','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','</span></p>','quiz-end-time','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','onload','student-quiz-leaderboard-table-body','admin-password-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','input','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','length','(^|[^\x5c\x5c])\x5cb','enable-passcode-checkbox','min','uid','live-game-view','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<tr\x20class=\x22','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','modal-timer-duration-container','FIRST_TRY_ACE','innerHTML','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','การลบทศนิยม','.draggable-text','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','text-tab','startsWith','19254oaYOWi','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','modal-close-btn','ยังไม่เต็มนะ','toFixed','pinned-items','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','(ไม่มีชื่อ)','</tr>','ตรวจพบการออกจากหน้าจอครบ\x20','cancel-create-project-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','กรุณาเลือกโปรเจคที่ต้องการบันทึก','export-pdf-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หยุดระบบจับเวลาหรี่หน้าจอ','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ไม่ผ่าน','isArray','อัปเดตแบบทดสอบเก่า\x20','topic-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','#DBEAFE','answer','behavior-log-tab-content','เซียนสมองไว','showInStudentDashboard','\x5ccdot','แบบทดสอบนี้ปิดใช้งานอยู่','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','cancel-quiz-settings-btn','close-comparison-modal-btn','substring','indexOf','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','normal','ไม่มีคำอธิบาย','ตรีโกณมิติ','ระยะจากจุดถึงเส้นตรง','size','results','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','student','dataIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','การหารทศนิยม','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','$1\x5ctext(','global-live-game-modal','.lastAnswerIndex','.quiz-bank-parallel-btn','419diteYv','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','text-red-300\x20hover:text-red-100','\x20ชุดสำเร็จ!','ผิด','toString','input[type=\x22checkbox\x22]','questions','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','question-complexity-select','schedule','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20data-topic=\x22','ref','PERFECT_SCORE','คะแนนยังไม่ถึงครึ่ง','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เงินงวด\x20(อนุกรมเงินงวด)','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','Error\x20adding\x20students:','</tbody></table></div>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','touchmove','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','https://corsproxy.io/?','fa-rocket\x20text-purple-500','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','true_false','สมการเหตุผล\x20(rational)','left','เส้นรอบรูป','startedAt','setFont','justification','playerName','fill_in_with_choices','ฟังก์ชันยกกำลัง','cancel-passcode-btn','.generate-easy-version-btn','rename-quiz-modal','content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','ระยะเวลา\x20(วินาที):','border-green-700','มุมพิเศษ\x2030°-60°-90°','live-player-list','export-pdf-modal','quiz-status-options','latestSubmittedAt','input[type=\x22text\x22]','แคลคูลัสเบื้องต้น','autoTable','random','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','.color-palette-popup','latestScore','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','repeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','result','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','Error\x20during\x20class\x20analysis:','/public/data/liveGames','bank-tab','gain','entries','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','insertAdjacentHTML','Error\x20fetching\x20student\x20rankings:','ตรวจทานเฉลยเสร็จสิ้น!','/public/data/projects','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ผู้ควบคุม\x20(ทดสอบ)','passcode-prompt-message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','<div\x20class=\x22space-y-4\x22>','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','trim','fas\x20fa-star\x20text-yellow-500','bottom','round','user','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เปิดใช้งาน','manage-tab-content','การแปลงรูปอัตลักษณ์','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','กรุณาเลือกสถานะ','startTime','copy-quiz-id-btn','sum','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','drill-feedback','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-grid-container','fix\x20the\x20option','ไม่พบโปรเจค','ค.ร.น.\x20(LCM)','document','ring-2','การคูณทศนิยม','showRankings','stringify','difficulty-level-select','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','$1\x20\x5cfrac','<i\x20class=\x22fas\x20fa-save\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยทบต้น','analytics','mixed','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','cancel-delete-btn','display','per_question','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','correctAnswerIndex','432444NDlAut','leaderboard','modal-loop-until-pass-checkbox','input[name=\x22question_single\x22]:checked','การบวกเศษส่วน','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ฟังก์ชันเชิงเส้นและกราฟ','ลิมิต','ไม่สามารถสร้างโปรเจคได้','toDate','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','height','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','confirm-admin-login-btn','onclick','ทศนิยม\x20(ค่าประจำหลัก)','standard','3205XFohvk','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','สมการเชิงเส้นตัวแปรเดียว','.presentation-option','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','การสร้างรูปด้วยวงเวียน–สันตรง','touchstart','checked','ไม่สามารถโหลดข้อมูลอันดับได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','จำนวนข้อ:','image/png','comparison-individual-content','<p\x20class=\x22','toDataURL','ไม่พบข้อมูลข้อสอบหลังเรียน','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','.compare-results-btn','Error\x20generating\x20lesson\x20plan:','select-all-topics-btn','dragstart','docs','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','NUMBER','draggable-text','#E0E7FF','active','settings','commit','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','bg-gray-500','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','parseFromString','.ql-editor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','release','nickname-input','POST','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','1356llDQca','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','create-project-btn','Invalid\x20response\x20structure\x20from\x20AI.','fill','items','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','AI\x20grading\x20failed:','getContext','thead','\x22.\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ไม่ใช่','เกิดข้อผิดพลาดในการลบหัวข้อ','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ลำดับการดำเนินการ\x20(PEMDAS)','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','label[for=\x22num-questions\x22]','rgba(79,\x2070,\x20229,\x201)','clientX','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<option\x20value=\x22','ทำคะแนนได้เกินครึ่ง','$1^{$2}','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','correctAnswer','<p\x20class=\x22font-bold\x20text-sm\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','MathJax','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```json','ไม่พบเอกสารการส่งงานของ\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.quiz-bank-present-btn','teachingContent','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-shuffle-select','bg-yellow-100','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x5cneq','ระยะทางและจุดกึ่งกลาง','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','results-display-select','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','เลือกและบันทึก','resize','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-count','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','bg-green-200','การปัดเศษและประมาณค่า','\x5csum','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','hover:bg-indigo-100','</span></td>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','Error\x20generating\x20parallel\x20post-test:','เมทริกซ์:\x20บวก/คูณ','#FEF3C7','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','upperGroupNames','select','cancel-quiz-bank-btn','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cs*\x5c(','bg-red-100','ห.ร.ม.\x20(GCD)','contents','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','เรขาคณิตวิเคราะห์','msExitFullscreen','bg-red-500','passcode-input-container','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#000000','ราชาคัมแบ็ก','$1\x5ctext{','createElement','ค่าเฉลี่ย','แบบทดสอบที่ติดดาว','parse','behavior-log-tab-btn','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-live-game-btn','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','รูปสแควร์รูท\x20(surd)','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20value=\x22true\x22\x20','results-quiz-title','description','contains','กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20loading\x20quiz\x20for\x20student:','afterend','analytics-summary-cards','clientY','abs','ข้อ\x20','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','quiz-leaderboard-table','createElementNS','include-images-checkbox','add-custom-math-topic-btn','ส่วนเบี่ยงเบนเฉลี่ย','doughnut','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','comparison','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','บันทึกการตั้งค่าสำเร็จ','includes','Invalid\x20response\x20structure\x20from\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','\x20mb-2\x22>','(เลือกแล้ว\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','project-passcode-input','Error\x20resetting\x20project\x20order:','สอบปกติ','.edit-custom-topic-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','exitFullscreen','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','(ตัวเลือกผิดพลาด)','contentEditable','คัดลอกแบบทดสอบสำเร็จ','q-image-container-','style','.star-quiz-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','.quiz-bank-item','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','save-quiz-btn','touchend','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','อัตราส่วนและสัดส่วน','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x5csqrt{$1}','OBJECT','whole_quiz','project-quizzes-list','\x0a\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','delete-svg-btn','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','perfect_score_status','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','submissions','จุด\x20เส้น\x20ระนาบ','string','QUICK_THINKER','ย้ายแบบทดสอบไปโปรเจคอื่น','fromCharCode','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','editable-quiz-topic','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','badgesCount','shuffle','start-quiz-btn','การประยุกต์เวกเตอร์พื้นฐาน','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','ดีมาก','แก้ไขหัวข้อสำเร็จ','เกมสิ้นสุดลงแล้ว','finishReason','ฮิสโตแกรม','.delete-student-btn','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','undo-btn','slice','passcode-error-msg','download','ไม่พบข้อมูลแบบทดสอบ','คณิตการเงิน/บูรณาการ','Error\x20joining\x20live\x20game:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<p><strong>คำตอบของคุณ:</strong>\x20','files','ไม่พบตารางสำหรับ\x20Export','scores','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','offset','กำลังสร้างคำถามข้อ\x20','leaderboard-quiz','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20/\x20','remove','modal-timer-duration-label','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การคูณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','.option-text','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','dfrac','projectId','some','projectSortOrder','Error\x20generating\x20easy\x20version\x20quiz:','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','admin-dashboard','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','target','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','quiz-leaderboard-table-body','keydown','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','fixedData','write','fas\x20fa-bookmark','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','input[type=\x22radio\x22][value=\x22','/public/data/quizzes/','tooltipTarget','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนและการดำเนินการ','numPages','#D1FAE5','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','toISOString','geq','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','text-red-600','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','clientHeight','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','Error\x20processing\x20file\x20for\x20AI:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','Leaderboard\x20update\x20transaction\x20failed:\x20','Error\x20updating\x20project\x20name:','open','pinnedProjects','touchcancel','lowerGroupResponders','color','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','data','overallGroups','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','type','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x20mx-1\x20text-lg\x22></i></span>','student-project-leaderboard-content','ค่าเสื่อมราคา','.ai-fix-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','[data-topic-container-id]','quiz-search-input','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','textContent','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','floor','</div>\x0a</div>\x0a','Remedial\x20quiz\x20generation\x20failed:','category','live-submit-short-answer-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','text-red-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','countdown-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','comparison-overall-content','confirm-passcode-btn','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22\x20class=\x22color-palette-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','ความชันเส้นสัมผัส','ส่งคำตอบ','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.topic-name-input','project-id-display','text-blue-800','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','Error\x20regenerating\x20question\x20in\x20editor:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','export-image-btn','\x22><i\x20class=\x22fas\x20','scores-tab-btn','totalQuestions','.sortable-header','analyze-strengths-btn','half_mark_status','project-detail-view','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','drawImage','duration-300','.ai-fix-formula-btn','text/html','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','):\x20','badges','เกิดข้อผิดพลาดในการลบโปรเจค','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','str','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ownerSVGElement','mouseup','block','\x5ctext{$1}','input[type=\x22radio\x22]:checked','confirm-quiz-settings-btn','jspdf','.regenerate-question-btn','className','confirmation-message','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','open-global-live-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','อนุพันธ์:\x20กฎพื้นฐาน','date_desc','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','localeCompare','suggestedAnswer','scheduled_pending','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','$1^{\x5ccirc}\x5ctext{C}','ยอดเยี่ยม','text-green-600','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','สัญกรณ์วิทยาศาสตร์','จัดการ','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','AI\x20แก้ไขคำถามสำเร็จ!','<tr><td\x20colspan=\x22','ข้อที่\x20','perfect_score','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','.status','prev-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','มุมและการวัดมุม','modal-timer-duration-input','table','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','exists','grid','dashboardConfig','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','message-modal','line-through\x20text-red-700','close-lesson-plan-modal-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','isAdaptive','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','scrollIntoView','questionIndex','การวัด','font-bold\x20text-green-700','code','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','cancel-export-pdf-btn','pow','เลือกโปรเจคเพื่อบันทึก','ฟังก์ชันแบบชิ้นส่วน','text-gray-500','ไม่พบข้อมูลผู้ใช้','catch','topic','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20สำเร็จ','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','แบบทดสอบจากคลังส่วนตัว','AI\x20Formula\x20Fix\x20Error:','border-red-300\x20bg-red-50','ลำดับเลขคณิต\x20(AP)','สเกลและแผนที่','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','quiz-generation-area','change','back-to-home-manual-release','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','.pdf','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallel-test-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','$$$1$','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22loader\x20mx-auto\x22></div>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','removeEventListener','fa-dumbbell\x20text-gray-700','asc','all','clearRect','การแจกแจงปกติและ\x20z-score','neq','Error\x20saving\x20user\x20preference:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','practiceProblems','STRING','.export-pdf-list-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','querySelector','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','earned-badges-container','สร้างคำถามแบบเติมคำในช่องว่าง','true','findIndex','th-TH','endTime','behaviorLog','attemptNumber','bg-blue-100','<li>','$1^{\x5ccirc}','multiple_choice','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','show_results_and_answers','get','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','from','sin','blueprint-upload-input','quiz-type-select','\x22\x20data-name=\x22','options','answerText','ปริมาตรรูปทรงสามมิติ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','onchange','set','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','pre-test-checkbox','reveal-answer-btn','list-view-btn','Failed\x20to\x20get\x20hint:','ท็อปฟอร์ม','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','questions_only','student-initial-view','/public/data/practiceBank','text-gray-400\x20hover:text-indigo-600','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','Error\x20updating\x20quiz\x20settings:','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x22\x20data-q-type=\x22','อัปเดตพฤติกรรมสำหรับ\x20','export-compact-pdf-btn','เรเดียนและการแปลงหน่วย','opacity-50','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','starred','หมดเวลา!\x20กำลังส่งคำตอบ...','Error\x20renaming\x20quiz:','ควรปรับปรุง','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','toLocaleString','\x20mr-2\x22></i>','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','bg-yellow-50','totalPoints'];_0x49ea=function(){return _0x5512b7;};return _0x49ea();}async function handleStartLiveRace(_0x574237){const _0x175a55=_0x4247c8;let _0x16ba43=allQuizzes['find'](_0x527790=>_0x527790['id']===_0x574237);if(!_0x16ba43){const _0x1b96c1=doc(db,_0x175a55(0x302)+appId+'/public/data/quizzes',_0x574237),_0x433133=await getDoc(_0x1b96c1);if(!_0x433133['exists']()){showMessage(_0x175a55(0x681));return;}_0x16ba43={'id':_0x433133['id'],..._0x433133[_0x175a55(0x6d4)]()};}const _0x27d5f4=getShuffledQuiz(_0x16ba43);currentQuizData=_0x27d5f4;const _0x1fba68=_0x16ba43[_0x175a55(0x69a)]||currentProjectId||null,_0x453b27=Math[_0x175a55(0x6e5)](0x3e8+Math['random']()*0x2328)[_0x175a55(0x4d5)]();currentLiveGamePin=_0x453b27;try{const _0x26a468=await addDoc(collection(db,_0x175a55(0x302)+appId+_0x175a55(0x51a)),{'quizId':_0x574237,'projectId':_0x1fba68,'status':_0x175a55(0x3df),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x453b27,'createdAt':serverTimestamp(),'shuffledQuiz':_0x27d5f4});currentLiveGameId=_0x26a468['id'],showAdminLobbyView(_0x453b27,_0x16ba43[_0x175a55(0x761)]),listenForLiveGameUpdates();}catch(_0x38ff0d){console[_0x175a55(0x43a)](_0x175a55(0x1c3),_0x38ff0d),showMessage(_0x175a55(0x85f));}}async function handleShowStudentRankings(){const _0x52e7f6=_0x4247c8,_0x3d7630=document['querySelector'](_0x52e7f6(0x458));_0x3d7630&&(_0x3d7630[_0x52e7f6(0x48a)]=_0x52e7f6(0x787));const _0x52c9e5=document[_0x52e7f6(0x788)](_0x52e7f6(0x212));_0x52c9e5&&(_0x52c9e5['innerHTML']=_0x52e7f6(0x146));const _0x563145=document['getElementById'](_0x52e7f6(0x407));_0x563145[_0x52e7f6(0x3e0)][_0x52e7f6(0x691)](_0x52e7f6(0x20f)),document[_0x52e7f6(0x36b)]('close-student-rankings-btn')[_0x52e7f6(0x570)]=()=>_0x563145[_0x52e7f6(0x3e0)]['add'](_0x52e7f6(0x20f));const _0x5ce0ae=document[_0x52e7f6(0x36b)](_0x52e7f6(0x89f)),_0x35f7cb=document[_0x52e7f6(0x36b)](_0x52e7f6(0x835)),_0x13d455=document['getElementById'](_0x52e7f6(0x1e9)),_0x1122ef=document['getElementById'](_0x52e7f6(0x6dc));_0x5ce0ae[_0x52e7f6(0x570)]=()=>{const _0x5f1a7e=_0x52e7f6;_0x5ce0ae[_0x5f1a7e(0x3e0)][_0x5f1a7e(0x90a)](_0x5f1a7e(0x599)),_0x35f7cb[_0x5f1a7e(0x3e0)]['remove'](_0x5f1a7e(0x599)),_0x13d455[_0x5f1a7e(0x3e0)][_0x5f1a7e(0x691)]('hidden'),_0x1122ef['classList'][_0x5f1a7e(0x90a)](_0x5f1a7e(0x20f));},_0x35f7cb[_0x52e7f6(0x570)]=()=>{const _0x290d2f=_0x52e7f6;_0x35f7cb['classList'][_0x290d2f(0x90a)]('active'),_0x5ce0ae[_0x290d2f(0x3e0)]['remove'](_0x290d2f(0x599)),_0x1122ef[_0x290d2f(0x3e0)][_0x290d2f(0x691)](_0x290d2f(0x20f)),_0x13d455[_0x290d2f(0x3e0)][_0x290d2f(0x90a)](_0x290d2f(0x20f));};try{const _0x4e148f=collection(db,'artifacts/'+appId+_0x52e7f6(0x6b7)+currentQuizData['id']+_0x52e7f6(0x168)),_0x2453ad=await getDocs(_0x4e148f),_0x3b1d1e=_0x2453ad[_0x52e7f6(0x591)]['map'](_0x260da4=>_0x260da4[_0x52e7f6(0x6d4)]());renderQuizLeaderboard(_0x3b1d1e,currentQuizData,_0x52e7f6(0x474));const _0x58ef8d=collection(db,_0x52e7f6(0x302)+appId+'/public/data/projects/'+currentQuizData[_0x52e7f6(0x69a)]+'/studentProfiles'),_0x1d1271=await getDocs(_0x58ef8d),_0x5a5fa2=_0x1d1271['docs'][_0x52e7f6(0x1c2)](_0x3c5f32=>_0x3c5f32[_0x52e7f6(0x6d4)]());renderLeaderboard(_0x5a5fa2,_0x52e7f6(0x7ff));}catch(_0x3b78aa){console[_0x52e7f6(0x43a)](_0x52e7f6(0x520),_0x3b78aa),showMessage(_0x52e7f6(0x580));}}async function handleSaveToBank(_0x1225da){const _0x3682cc=_0x4247c8,_0x1e49f0=_0x1225da[_0x3682cc(0x425)],_0x2b51e0=_0x1e49f0[_0x3682cc(0x29d)][_0x3682cc(0x7f9)],_0x4850c3=currentQuizData[_0x3682cc(0x4d7)][_0x2b51e0];if(!userId){showMessage(_0x3682cc(0x75f));return;}try{const _0x2f6f27={..._0x4850c3,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x55e38e=collection(db,'artifacts/'+appId+'/users/'+userId+_0x3682cc(0x20d));await addDoc(_0x55e38e,_0x2f6f27),showMessage(_0x3682cc(0x5a9)),_0x1e49f0[_0x3682cc(0x3e0)][_0x3682cc(0x691)](_0x3682cc(0x349)),_0x1e49f0[_0x3682cc(0x3e0)][_0x3682cc(0x90a)](_0x3682cc(0x72e)),_0x1e49f0['disabled']=!![];}catch(_0x5017b6){console[_0x3682cc(0x43a)](_0x3682cc(0x127),_0x5017b6),showMessage(_0x3682cc(0x1d1));}}function listenForStarredQuizzes(){const _0x3b1fb4=_0x4247c8;if(!userId)return;const _0x334518=collection(db,_0x3b1fb4(0x302)+appId+_0x3b1fb4(0x42f)),_0x3e547e=query(_0x334518,where('isStarred','==',!![]));onSnapshot(_0x3e547e,_0x44f142=>{const _0x5758e9=_0x3b1fb4;starredQuizzes=_0x44f142[_0x5758e9(0x591)][_0x5758e9(0x1c2)](_0x3ee1da=>({'id':_0x3ee1da['id'],..._0x3ee1da[_0x5758e9(0x6d4)]()})),currentProjectId===_0x5758e9(0x7c1)?renderQuizzes():renderProjects();},_0x36779e=>{const _0x19df91=_0x3b1fb4;console[_0x19df91(0x43a)](_0x19df91(0x939),_0x36779e);});}function exportQuizAsWorksheetPDF(){const _0x200dbd=_0x4247c8;if(!currentQuizData||!currentQuizData[_0x200dbd(0x4d7)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x2e7517=currentQuizData,_0x113a5a=window[_0x200dbd(0x6ce)]('',_0x200dbd(0xf9)),_0x219e89=_0x232258=>String[_0x200dbd(0x66c)](0x41+_0x232258),_0x532a99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x2e7517['topic']+_0x200dbd(0x476)+_0x2e7517[_0x200dbd(0x761)]+_0x200dbd(0x65d)+_0x2e7517['questions']['map']((_0x2f054e,_0x5dd742)=>{const _0x58e56c=_0x200dbd;let _0x5adb66='';const _0x4b7e1c=_0x2f054e[_0x58e56c(0x402)]||_0x2e7517['quizType'];switch(_0x4b7e1c){case _0x58e56c(0x795):case _0x58e56c(0x4f7):_0x5adb66=_0x58e56c(0x225)+_0x2f054e[_0x58e56c(0x7a2)][_0x58e56c(0x1c2)]((_0x2064f2,_0x278899)=>_0x58e56c(0x36d)+_0x219e89(_0x278899)+'.\x20'+_0x2064f2+_0x58e56c(0x53e))['join']('<br>')+_0x58e56c(0x732);break;case _0x58e56c(0x4ef):_0x5adb66=_0x58e56c(0x523);break;default:_0x5adb66=_0x58e56c(0x6ae);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x5dd742+0x1)+_0x58e56c(0x94b)+(_0x2f054e[_0x58e56c(0x3cd)]||_0x2f054e[_0x58e56c(0x35e)])+_0x58e56c(0x296)+(_0x2f054e[_0x58e56c(0x3b1)]?'<div\x20class=\x22my-2\x22>'+_0x2f054e['imageCode']+_0x58e56c(0x732):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5adb66+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x200dbd(0x836);_0x113a5a[_0x200dbd(0x545)]['write'](_0x532a99),_0x113a5a[_0x200dbd(0x545)][_0x200dbd(0x32a)](),_0x113a5a[_0x200dbd(0x473)]=function(){setTimeout(()=>{const _0x5b8ca8=_0x4780;_0x113a5a[_0x5b8ca8(0x797)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3a25a8=_0x4247c8;if(!currentQuizData||!currentQuizData[_0x3a25a8(0x4d7)]){showMessage(_0x3a25a8(0x532));return;}const _0x324d1b=currentQuizData,_0x38d25e=window[_0x3a25a8(0x6ce)]('',_0x3a25a8(0xf9)),_0x28daab=_0x59b3b1=>String[_0x3a25a8(0x66c)](0x41+_0x59b3b1),_0x332aa4=_0x3a25a8(0x575)+_0x324d1b[_0x3a25a8(0x761)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x324d1b['questions'][_0x3a25a8(0x1c2)]((_0x5529b8,_0x4adf99)=>{const _0x36db70=_0x3a25a8;let _0x35c041='';const _0x96f1af=_0x5529b8[_0x36db70(0x402)]||_0x324d1b[_0x36db70(0x1bb)];switch(_0x96f1af){case _0x36db70(0x795):case _0x36db70(0x4f7):_0x35c041='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x5529b8[_0x36db70(0x7a2)][_0x36db70(0x1c2)]((_0x568fbb,_0x1dd672)=>_0x36db70(0x149)+_0x28daab(_0x1dd672)+'.\x20'+_0x568fbb+_0x36db70(0x3bd))['join'](_0x36db70(0x193))+_0x36db70(0x8aa);break;case _0x36db70(0x4ef):_0x35c041=_0x36db70(0x773);break;default:_0x35c041='';break;}return _0x36db70(0x813)+_0x324d1b[_0x36db70(0x761)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x4adf99+0x1)+_0x36db70(0x7c9)+(_0x5529b8[_0x36db70(0x3cd)]||_0x5529b8[_0x36db70(0x35e)])+_0x36db70(0x296)+(_0x5529b8[_0x36db70(0x3b1)]?_0x36db70(0x41f)+_0x5529b8['imageCode']+_0x36db70(0x732):'')+_0x36db70(0x94e)+_0x35c041+_0x36db70(0x871);})[_0x3a25a8(0x182)]('')+_0x3a25a8(0x5b1);_0x38d25e[_0x3a25a8(0x545)][_0x3a25a8(0x6b0)](_0x332aa4),_0x38d25e[_0x3a25a8(0x545)][_0x3a25a8(0x32a)](),_0x38d25e[_0x3a25a8(0x473)]=function(){setTimeout(()=>{const _0x2c608f=_0x4780;_0x38d25e[_0x2c608f(0x797)]();},0x5dc);};}async function handleToggleStarQuiz(_0x4f6c16){const _0x26e231=_0x4247c8,_0x536acf=doc(db,'artifacts/'+appId+_0x26e231(0x42f),_0x4f6c16);try{const _0x1e65d7=await getDoc(_0x536acf);if(_0x1e65d7['exists']()){const _0x508971=_0x1e65d7[_0x26e231(0x6d4)]()[_0x26e231(0x2fb)]||![];await updateDoc(_0x536acf,{'isStarred':!_0x508971});}}catch(_0x247abd){console[_0x26e231(0x43a)](_0x26e231(0x11a),_0x247abd),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x47a0cf=_0x4247c8,_0x15712e=document['getElementById'](_0x47a0cf(0x7e2));_0x15712e[_0x47a0cf(0x48a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x414b2c=collection(db,_0x47a0cf(0x302)+appId+_0x47a0cf(0x2ad)+userId+'/questionBank'),_0x5e1bc7=query(_0x414b2c),_0x21661f=await getDocs(_0x5e1bc7);if(_0x21661f[_0x47a0cf(0x1d3)]){_0x15712e[_0x47a0cf(0x48a)]=_0x47a0cf(0x851);return;}let _0x345c84=_0x21661f[_0x47a0cf(0x591)][_0x47a0cf(0x1c2)](_0x1657c4=>{const _0x44169c=_0x47a0cf,_0x3f569f=_0x1657c4['data'](),_0xc552b4=_0x1657c4['id'];return _0x44169c(0x74d)+JSON[_0x44169c(0x549)](_0x3f569f)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3f569f[_0x44169c(0x35e)]||_0x3f569f[_0x44169c(0x3cd)])+_0x44169c(0x6ed)+_0x3f569f[_0x44169c(0x40a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x15712e['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x345c84+_0x47a0cf(0x189),document[_0x47a0cf(0x36b)](_0x47a0cf(0x4c4))['addEventListener'](_0x47a0cf(0x3d5),createQuizFromBank);}catch(_0x5c2902){console[_0x47a0cf(0x43a)](_0x47a0cf(0x2c1),_0x5c2902),_0x15712e[_0x47a0cf(0x48a)]=_0x47a0cf(0x844);}}function showAdminLiveQuestionView(_0x7bfd4b,_0x3c9bc8,_0x292eb6){const _0xf5430a=_0x4247c8,_0x14a012=_0x7bfd4b[_0xf5430a(0x402)]||currentQuizData['quizType'];let _0x1f7338='';if(_0x14a012===_0xf5430a(0x795)||_0x14a012==='true_false'){const _0x51e592=_0x14a012==='true_false'?[_0xf5430a(0x233),_0xf5430a(0x5b8)]:_0x7bfd4b[_0xf5430a(0x7a2)],_0x41fe64=_0x14a012==='true_false'?_0x7bfd4b[_0xf5430a(0x5ca)]?0x0:0x1:_0x7bfd4b[_0xf5430a(0x559)];_0x1f7338=_0x51e592['map']((_0x4b62d7,_0x354f5c)=>_0xf5430a(0x126)+(_0x354f5c===_0x41fe64)+_0xf5430a(0x155)+_0x4b62d7+_0xf5430a(0x6d7))['join']('');}else{if(_0x14a012==='matching_item'){const _0x2dd21c=_0x7bfd4b[_0xf5430a(0x341)]||[];_0x1f7338=_0x2dd21c[_0xf5430a(0x1c2)](_0x1cf836=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1cf836===_0x7bfd4b[_0xf5430a(0x624)])+_0xf5430a(0x155)+_0x1cf836+_0xf5430a(0x6d7))[_0xf5430a(0x182)]('');}}const _0x37e857=_0x7bfd4b[_0xf5430a(0x3cd)]||_0x7bfd4b[_0xf5430a(0x35e)],_0x3b3b8a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3c9bc8+0x1)+'\x20/\x20'+_0x292eb6+_0xf5430a(0x528)+currentLiveGamePin+_0xf5430a(0x17d)+_0x37e857+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f7338+_0xf5430a(0x3f9);liveGameView[_0xf5430a(0x48a)]=_0x3b3b8a,window[_0xf5430a(0x5cd)]&&MathJax[_0xf5430a(0x301)]&&MathJax[_0xf5430a(0x301)]([liveGameView]),document[_0xf5430a(0x36b)](_0xf5430a(0x7aa))[_0xf5430a(0x889)](_0xf5430a(0x3d5),()=>revealAnswerForAdmin(_0x3c9bc8,_0x292eb6)),document['getElementById'](_0xf5430a(0x881))[_0xf5430a(0x889)](_0xf5430a(0x3d5),async()=>{const _0x5607ed=_0xf5430a;showConfirmation(_0x5607ed(0x31c),async()=>{const _0x56a45e=_0x5607ed,_0x56f216=doc(db,_0x56a45e(0x302)+appId+_0x56a45e(0x51a),currentLiveGameId);await updateDoc(_0x56f216,{'status':'podium'});});}),document['getElementById'](_0xf5430a(0x138))['addEventListener']('click',()=>{const _0x5879f2=_0xf5430a;document[_0x5879f2(0x36b)](_0x5879f2(0x1e7))['classList'][_0x5879f2(0x3eb)](_0x5879f2(0x20f));});}function showStudentLiveQuestionView(_0x3ce776,_0xfe350,_0x4122c8){const _0x556dec=_0x4247c8,_0x5793af=_0x3ce776['questionType']||currentQuizData[_0x556dec(0x1bb)];let _0x24a63f='';if(_0x5793af===_0x556dec(0x795)||_0x5793af==='true_false'){const _0x10659b=_0x5793af==='true_false'?[_0x556dec(0x233),_0x556dec(0x5b8)]:_0x3ce776[_0x556dec(0x7a2)];_0x24a63f=_0x10659b[_0x556dec(0x1c2)]((_0x2bc18f,_0x3fb3a2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3fb3a2+_0x556dec(0x120)+_0x2bc18f+_0x556dec(0x6f5))[_0x556dec(0x182)]('');}else{if(_0x5793af===_0x556dec(0x8fa)){const _0x196ad0=_0x3ce776[_0x556dec(0x341)]||[];_0x24a63f=_0x196ad0['map']((_0x49c289,_0x3bfef1)=>_0x556dec(0x5ee)+_0x3bfef1+_0x556dec(0x120)+_0x49c289+_0x556dec(0x6f5))['join']('');}else _0x5793af==='short_answer'&&(_0x24a63f=_0x556dec(0x14c));}const _0x2f148b=_0x3ce776[_0x556dec(0x3cd)]||_0x3ce776['questionText'],_0x5af425='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xfe350+0x1)+'\x20/\x20'+_0x4122c8+_0x556dec(0x33a)+_0x2f148b+_0x556dec(0x101)+_0x24a63f+_0x556dec(0x453);liveGameView[_0x556dec(0x48a)]=_0x5af425;window[_0x556dec(0x5cd)]&&MathJax[_0x556dec(0x301)]&&MathJax[_0x556dec(0x301)]([liveGameView]);const _0x37c103=document[_0x556dec(0x36b)](_0x556dec(0x6e9));_0x37c103&&_0x37c103[_0x556dec(0x889)](_0x556dec(0x3d5),()=>{const _0x1d769a=_0x556dec,_0x197e59=document[_0x1d769a(0x36b)]('live-short-answer-input')[_0x1d769a(0x7c0)];handleLiveAnswer(_0x197e59,_0x3ce776);}),document[_0x556dec(0x36b)](_0x556dec(0x33d))[_0x556dec(0x889)](_0x556dec(0x3d5),_0x11c34f=>{const _0x364f20=_0x556dec,_0x7c2698=_0x11c34f[_0x364f20(0x6a6)][_0x364f20(0x429)]('.live-answer-btn');if(_0x7c2698){const _0x5ab8f0=parseInt(_0x7c2698[_0x364f20(0x29d)][_0x364f20(0x7f9)]);handleLiveAnswer(_0x5ab8f0,_0x3ce776);}});}async function handleLiveAnswer(_0x37a4af,_0x1b649a){const _0x22aeaf=_0x4247c8;document[_0x22aeaf(0x16d)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x22aeaf(0x204)](_0x5ce602=>_0x5ce602[_0x22aeaf(0x65e)]=!![]);const _0x358ef7=_0x1b649a[_0x22aeaf(0x402)]||currentQuizData[_0x22aeaf(0x1bb)];let _0x303698=![],_0x41dd22=_0x37a4af;if(_0x358ef7==='short_answer'){const _0xe035c7=(_0x37a4af||'')[_0x22aeaf(0x4d5)]();_0x303698=await gradeShortAnswer(_0xe035c7,_0x1b649a);}else{if(_0x358ef7===_0x22aeaf(0x795))_0x303698=_0x37a4af===_0x1b649a[_0x22aeaf(0x559)];else{if(_0x358ef7===_0x22aeaf(0x4ef)){const _0x3e310d=_0x1b649a[_0x22aeaf(0x5ca)];_0x303698=_0x37a4af===0x0&&_0x3e310d||_0x37a4af===0x1&&!_0x3e310d;}else{if(_0x358ef7===_0x22aeaf(0x8fa)){const _0x42e4b5=_0x1b649a['allResponses'][_0x37a4af];_0x303698=_0x42e4b5===_0x1b649a[_0x22aeaf(0x624)],_0x41dd22=_0x42e4b5;}}}}const _0x2fb060=doc(db,'artifacts/'+appId+_0x22aeaf(0x51a),currentLiveGameId),_0x318610={};_0x318610[_0x22aeaf(0x806)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x318610[_0x22aeaf(0x806)+currentStudentName+'.lastAnswerCorrect']=_0x303698,_0x318610[_0x22aeaf(0x806)+currentStudentName+_0x22aeaf(0x4ce)]=_0x358ef7==='short_answer'||_0x358ef7===_0x22aeaf(0x8fa)?null:_0x37a4af,_0x318610[_0x22aeaf(0x806)+currentStudentName+'.lastAnswerValue']=_0x41dd22,_0x318610['players.'+currentStudentName+_0x22aeaf(0x2ee)]=serverTimestamp(),_0x318610[_0x22aeaf(0x806)+currentStudentName+_0x22aeaf(0x7e3)]=![],await updateDoc(_0x2fb060,_0x318610),liveGameView['innerHTML']=_0x22aeaf(0x7af);}function showAdminSummaryView(_0x3ae12b,_0x45155c){const _0x186495=_0x4247c8,_0x5d2f39=Object[_0x186495(0x13b)](_0x3ae12b[_0x186495(0x89e)]||{}),_0x4453fb=_0x45155c[_0x186495(0x402)]||currentQuizData[_0x186495(0x1bb)],_0x2ff689=_0x4453fb==='true_false'?[_0x186495(0x233),_0x186495(0x5b8)]:_0x45155c[_0x186495(0x7a2)]||_0x45155c[_0x186495(0x341)]||[],_0x223f3c={},_0x320967=new Array(_0x2ff689[_0x186495(0x47b)])['fill'](0x0);_0x2ff689[_0x186495(0x204)]((_0xeeb40b,_0x259d8d)=>{_0x223f3c[_0x259d8d]=[];}),Object[_0x186495(0x51d)](_0x3ae12b[_0x186495(0x89e)]||{})[_0x186495(0x204)](([_0x2a6dcb,_0x162022])=>{const _0x4d9000=_0x186495;if(_0x162022[_0x4d9000(0xfe)]==='active'&&_0x162022[_0x4d9000(0x326)]!==undefined){const _0x346db5=_0x162022[_0x4d9000(0x326)];_0x223f3c[_0x346db5]&&(_0x223f3c[_0x346db5][_0x4d9000(0x852)](_0x2a6dcb),_0x320967[_0x346db5]++);}});const _0x5a49f4=Math[_0x186495(0x276)](..._0x320967,0x1),_0x5d6a2d=_0x186495(0x6df)+(_0x45155c[_0x186495(0x3cd)]||_0x45155c[_0x186495(0x35e)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x320967['map']((_0x4931af,_0x19a2ae)=>{const _0xbc3775=_0x186495,_0x45c36a=_0x223f3c[_0x19a2ae][_0xbc3775(0x47b)]>0x0?_0x223f3c[_0x19a2ae]['join'](',\x20'):_0xbc3775(0x242);let _0x33d03e=![];if(_0x4453fb===_0xbc3775(0x795))_0x33d03e=_0x19a2ae===_0x45155c[_0xbc3775(0x559)];else{if(_0x4453fb===_0xbc3775(0x4ef)){const _0x100d18=_0x45155c[_0xbc3775(0x5ca)];_0x33d03e=_0x100d18&&_0x19a2ae===0x0||!_0x100d18&&_0x19a2ae===0x1;}else _0x4453fb===_0xbc3775(0x8fa)&&(_0x33d03e=_0x2ff689[_0x19a2ae]===_0x45155c[_0xbc3775(0x624)]);}const _0x1ff628=_0x33d03e?'#26890c':_0xbc3775(0x1b0);return _0xbc3775(0x58b)+_0x4931af+_0xbc3775(0x5f1)+_0x1ff628+_0xbc3775(0x3e2)+_0x19a2ae+_0xbc3775(0x32d)+_0x2ff689[_0x19a2ae]+_0xbc3775(0x1d9)+_0x19a2ae+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45c36a+_0xbc3775(0x3d9);})[_0x186495(0x182)]('')+_0x186495(0x1cd);liveGameView[_0x186495(0x48a)]=_0x5d6a2d;if(window['MathJax'])MathJax[_0x186495(0x301)]();document[_0x186495(0x36b)](_0x186495(0x80b))[_0x186495(0x889)](_0x186495(0x3d5),async()=>{const _0x349152=_0x186495,_0x32b081=doc(db,_0x349152(0x302)+appId+_0x349152(0x51a),currentLiveGameId);await updateDoc(_0x32b081,{'questionStatus':_0x349152(0x55b)});}),document['getElementById']('open-scratchpad-btn')[_0x186495(0x889)]('click',()=>{openScratchpad(_0x45155c,_0x2ff689);});}function showPlayerSummaryView(_0x1e88b8,_0x3acafa){const _0x666730=_0x4247c8,_0x492cd8=Object['values'](_0x1e88b8[_0x666730(0x89e)]||{}),_0x5cf060=_0x1e88b8['players'][_0x3acafa],_0x51487c=_0x492cd8['filter'](_0x3d4066=>_0x3d4066[_0x666730(0xfe)]===_0x666730(0x599))['sort']((_0x25bb07,_0x57e1c8)=>_0x57e1c8[_0x666730(0x8fc)]-_0x25bb07[_0x666730(0x8fc)]),_0x219de4=_0x51487c[_0x666730(0x78d)](_0x289b7e=>_0x289b7e===_0x5cf060)+0x1,_0x55f80f=_0x5cf060[_0x666730(0x8e6)]?_0x666730(0x1af):_0x666730(0x4d4),_0xf47ccb=_0x5cf060[_0x666730(0x8e6)]?_0x666730(0x184):_0x666730(0x602),_0x532768=_0x5cf060[_0x666730(0x653)]||0x0,_0x24f64c='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x28ca8b=_0x666730(0x6da)+_0x24f64c+_0x666730(0x736)+_0xf47ccb+_0x666730(0x696)+_0x55f80f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x532768+_0x666730(0x356)+(_0x219de4>0x0?_0x219de4:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x666730(0x48a)]=_0x28ca8b;}function createQuizFromBank(){const _0x133783=_0x4247c8,_0xf3138=document[_0x133783(0x16d)](_0x133783(0x7e5));if(_0xf3138['length']===0x0){showMessage(_0x133783(0x12a));return;}const _0x69f4a=[];_0xf3138['forEach'](_0x590e6e=>{const _0x5e033b=_0x133783;_0x69f4a['push'](JSON[_0x5e033b(0x60c)](_0x590e6e['value']));});const _0x802007={'topic':_0x133783(0x767),'questions':_0x69f4a};displayGeneratedQuiz(_0x802007);}function showAdminLobbyView(_0x467582,_0x5527e6){const _0x2e8457=_0x4247c8;showView(_0x2e8457(0x334));const _0x111223=_0x2e8457(0x920)+_0x5527e6+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x467582+_0x2e8457(0x3b3);liveGameView['innerHTML']=_0x111223,document[_0x2e8457(0x36b)](_0x2e8457(0x12d))[_0x2e8457(0x889)](_0x2e8457(0x3d5),async()=>{const _0x2d9ec9=_0x2e8457;if(!currentQuizData||!currentQuizData[_0x2d9ec9(0x4d7)]||currentQuizData[_0x2d9ec9(0x4d7)][_0x2d9ec9(0x47b)]===0x0){showMessage(_0x2d9ec9(0x59c));return;}try{const _0x3e380c=doc(db,_0x2d9ec9(0x302)+appId+_0x2d9ec9(0x51a),currentLiveGameId);await updateDoc(_0x3e380c,{'status':_0x2d9ec9(0x838),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x357164=currentQuizData[_0x2d9ec9(0x4d7)][0x0],_0x390cf4=currentQuizData[_0x2d9ec9(0x4d7)][_0x2d9ec9(0x47b)];showAdminLiveQuestionView(_0x357164,0x0,_0x390cf4);}catch(_0x51822c){console['error'](_0x2d9ec9(0x85e),_0x51822c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x11a9c9=_0x4247c8;if(allQuizzesGlobal[_0x11a9c9(0x47b)]===0x0){const _0x111137=await getDocs(collection(db,'artifacts/'+appId+_0x11a9c9(0x42f)));allQuizzesGlobal=_0x111137['docs']['map'](_0x5e090d=>({'id':_0x5e090d['id'],..._0x5e090d['data']()}));}renderGlobalQuizList(''),document[_0x11a9c9(0x36b)](_0x11a9c9(0x4cd))[_0x11a9c9(0x3e0)]['remove'](_0x11a9c9(0x20f));}async function openQuizBankModal(){const _0xfb935c=_0x4247c8;if(allQuizzesGlobal[_0xfb935c(0x47b)]===0x0){const _0x3f0168=await getDocs(collection(db,_0xfb935c(0x302)+appId+_0xfb935c(0x42f)));allQuizzesGlobal=_0x3f0168[_0xfb935c(0x591)][_0xfb935c(0x1c2)](_0x675d8c=>({'id':_0x675d8c['id'],..._0x675d8c[_0xfb935c(0x6d4)]()}));}renderQuizBankList(''),document[_0xfb935c(0x36b)](_0xfb935c(0x2b9))[_0xfb935c(0x3e0)][_0xfb935c(0x691)](_0xfb935c(0x20f));}function renderQuizBankList(_0x3b3e1c=''){const _0x4c0e7c=_0x4247c8,_0x112dfb=document['getElementById'](_0x4c0e7c(0x8ac)),_0x1cf3ce=_0x3b3e1c[_0x4c0e7c(0x14b)]()[_0x4c0e7c(0x52d)](),_0x186bcc=allQuizzesGlobal[_0x4c0e7c(0x1c2)](_0x21cf93=>({..._0x21cf93,'projectName':allProjects[_0x4c0e7c(0x1c5)](_0x3aa190=>_0x3aa190['id']===_0x21cf93['projectId'])?.[_0x4c0e7c(0x7df)]||'N/A'}))[_0x4c0e7c(0x42c)](_0x31dd0e=>(_0x31dd0e[_0x4c0e7c(0x761)]||'')[_0x4c0e7c(0x14b)]()[_0x4c0e7c(0x635)](_0x1cf3ce)||(_0x31dd0e[_0x4c0e7c(0x7df)]||'')[_0x4c0e7c(0x14b)]()[_0x4c0e7c(0x635)](_0x1cf3ce)||_0x31dd0e['id'][_0x4c0e7c(0x4d5)]()[_0x4c0e7c(0x635)](_0x1cf3ce));document[_0x4c0e7c(0x36b)](_0x4c0e7c(0x190))[_0x4c0e7c(0x6e3)]='('+_0x186bcc[_0x4c0e7c(0x47b)]+'\x20ชุด)',_0x112dfb[_0x4c0e7c(0x48a)]=_0x186bcc[_0x4c0e7c(0x47b)]?_0x186bcc[_0x4c0e7c(0x1c2)](_0x6df69d=>_0x4c0e7c(0x5b7)+_0x6df69d['id']+_0x4c0e7c(0x48c)+(_0x6df69d['topic']||_0x4c0e7c(0x49e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x6df69d[_0x4c0e7c(0x4d7)]?.[_0x4c0e7c(0x47b)]||0x0)+_0x4c0e7c(0x1ee)+_0x6df69d['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x6df69d['id']+_0x4c0e7c(0x5ff)+_0x6df69d['id']+_0x4c0e7c(0x60e)+_0x6df69d['id']+_0x4c0e7c(0x2b5)+_0x6df69d['id']+_0x4c0e7c(0xf5)+_0x6df69d['id']+_0x4c0e7c(0x8d1)+_0x6df69d['id']+_0x4c0e7c(0x23c)+_0x6df69d['id']+'\x22\x20data-topic=\x22'+_0x6df69d[_0x4c0e7c(0x761)]+_0x4c0e7c(0x892))[_0x4c0e7c(0x182)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x64f))[_0x4c0e7c(0x204)](_0x312253=>{const _0x2acf25=_0x4c0e7c;_0x312253[_0x2acf25(0x889)]('click',()=>{const _0x36d616=_0x2acf25,_0xd8ca78=_0x312253[_0x36d616(0x29d)]['id'];document[_0x36d616(0x36b)](_0x36d616(0x2b9))[_0x36d616(0x3e0)]['add']('hidden'),showQuizDetailView(_0xd8ca78);});}),_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x801))['forEach'](_0xc0d1c3=>{const _0x35e453=_0x4c0e7c;_0xc0d1c3['addEventListener'](_0x35e453(0x3d5),_0x3a023f=>{const _0x4fc2f7=_0x35e453;_0x3a023f['stopPropagation']();const _0x8f4fb7=_0xc0d1c3[_0x4fc2f7(0x29d)]['id'],_0x5c821e=allQuizzesGlobal['find'](_0x5a064a=>_0x5a064a['id']===_0x8f4fb7);_0x5c821e?(currentQuizData=_0x5c821e,document['getElementById']('quiz-bank-modal')[_0x4fc2f7(0x3e0)][_0x4fc2f7(0x90a)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x4cf))[_0x4c0e7c(0x204)](_0x17b4cd=>{const _0x2870af=_0x4c0e7c;_0x17b4cd[_0x2870af(0x889)](_0x2870af(0x3d5),_0x279dca=>{const _0x1440ae=_0x2870af;_0x279dca[_0x1440ae(0x2e4)]();const _0x44c8af=_0x17b4cd[_0x1440ae(0x29d)]['id'],_0x15108e=allQuizzesGlobal[_0x1440ae(0x1c5)](_0x20dd33=>_0x20dd33['id']===_0x44c8af);_0x15108e?(document['getElementById'](_0x1440ae(0x2b9))[_0x1440ae(0x3e0)][_0x1440ae(0x90a)](_0x1440ae(0x20f)),handleGenerateParallelFromBank(_0x15108e)):showMessage(_0x1440ae(0x681));});}),_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x5d2))[_0x4c0e7c(0x204)](_0x7c0c1b=>{const _0x385e01=_0x4c0e7c;_0x7c0c1b[_0x385e01(0x889)](_0x385e01(0x3d5),_0x3ffe2b=>{const _0x190643=_0x385e01;_0x3ffe2b[_0x190643(0x2e4)]();const _0x1401f6=_0x7c0c1b[_0x190643(0x29d)]['id'],_0x5e9606=allQuizzesGlobal[_0x190643(0x1c5)](_0x545ccb=>_0x545ccb['id']===_0x1401f6);_0x5e9606?(document[_0x190643(0x36b)](_0x190643(0x2b9))[_0x190643(0x3e0)][_0x190643(0x90a)](_0x190643(0x20f)),startPresentation(_0x5e9606)):showMessage(_0x190643(0x681));});}),_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x3a5))[_0x4c0e7c(0x204)](_0x545d1e=>{const _0xa7d28e=_0x4c0e7c;_0x545d1e['addEventListener'](_0xa7d28e(0x3d5),_0x14ef28=>{const _0x1a0653=_0xa7d28e;_0x14ef28[_0x1a0653(0x2e4)]();const _0x4cd168=_0x545d1e[_0x1a0653(0x29d)]['id'];document[_0x1a0653(0x36b)](_0x1a0653(0x2b9))[_0x1a0653(0x3e0)][_0x1a0653(0x90a)](_0x1a0653(0x20f)),handleMoveQuiz(_0x4cd168);});}),_0x112dfb['querySelectorAll']('.quiz-bank-settings-btn')[_0x4c0e7c(0x204)](_0x258a8d=>{const _0x534340=_0x4c0e7c;_0x258a8d[_0x534340(0x889)](_0x534340(0x3d5),_0x50ddfd=>{const _0x4ca928=_0x534340;_0x50ddfd[_0x4ca928(0x2e4)]();const _0x487343=_0x258a8d[_0x4ca928(0x29d)]['id'];document[_0x4ca928(0x36b)](_0x4ca928(0x2b9))['classList'][_0x4ca928(0x90a)]('hidden'),handleQuizSettings(_0x487343);});}),_0x112dfb[_0x4c0e7c(0x16d)](_0x4c0e7c(0x2a9))[_0x4c0e7c(0x204)](_0x21a837=>{const _0x43b97c=_0x4c0e7c;_0x21a837['addEventListener'](_0x43b97c(0x3d5),_0x5e71fc=>{const _0x3493dd=_0x43b97c;_0x5e71fc['stopPropagation']();const _0x4c8b59=_0x21a837[_0x3493dd(0x29d)]['id'],_0x24e324=_0x21a837['dataset'][_0x3493dd(0x761)];showConfirmation(_0x3493dd(0x16c)+_0x24e324+_0x3493dd(0x4ea),()=>handleDeleteQuiz(_0x4c8b59));});});}async function handleCompareResults(_0x136ed7,_0x7b3de3){const _0x5dcef2=_0x4247c8,_0x1028c7=document[_0x5dcef2(0x36b)](_0x5dcef2(0x941)),_0x3b5d66=document[_0x5dcef2(0x36b)](_0x5dcef2(0x6f0)),_0x2d408a=document['getElementById']('comparison-individual-content');document[_0x5dcef2(0x36b)](_0x5dcef2(0xee))[_0x5dcef2(0x3e0)][_0x5dcef2(0x90a)](_0x5dcef2(0x599)),document[_0x5dcef2(0x36b)](_0x5dcef2(0x3d2))[_0x5dcef2(0x3e0)][_0x5dcef2(0x691)](_0x5dcef2(0x599)),_0x3b5d66[_0x5dcef2(0x3e0)][_0x5dcef2(0x691)](_0x5dcef2(0x20f)),_0x2d408a[_0x5dcef2(0x3e0)][_0x5dcef2(0x90a)](_0x5dcef2(0x20f)),_0x3b5d66[_0x5dcef2(0x48a)]=_0x5dcef2(0x778),_0x2d408a['innerHTML']='',_0x1028c7['classList'][_0x5dcef2(0x691)](_0x5dcef2(0x20f));try{const _0x1a3fee=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x136ed7),_0x3ee1ee=await getDoc(_0x1a3fee);if(!_0x3ee1ee['exists']())throw new Error(_0x5dcef2(0x588));const _0x2715b9=_0x3ee1ee[_0x5dcef2(0x6d4)](),_0x3b6eb=_0x2715b9[_0x5dcef2(0x4d7)][_0x5dcef2(0x47b)],_0x394018=collection(db,_0x5dcef2(0x302)+appId+_0x5dcef2(0x6b7)+_0x7b3de3+_0x5dcef2(0x168)),_0x2be2ee=collection(db,'artifacts/'+appId+_0x5dcef2(0x6b7)+_0x136ed7+_0x5dcef2(0x168)),[_0x10e8ca,_0x3d6cd2]=await Promise[_0x5dcef2(0x77d)]([getDocs(_0x394018),getDocs(_0x2be2ee)]),_0x122bbc=_0x10e8ca[_0x5dcef2(0x591)][_0x5dcef2(0x1c2)](_0x18a698=>_0x18a698['data']()),_0x25efc1=_0x3d6cd2[_0x5dcef2(0x591)]['map'](_0x51142d=>_0x51142d[_0x5dcef2(0x6d4)]()),_0x3caffd=_0x122bbc[_0x5dcef2(0x1c2)](_0x81a05f=>_0x81a05f[_0x5dcef2(0x50d)]),_0xdb26c0=_0x25efc1[_0x5dcef2(0x1c2)](_0x369d36=>_0x369d36['latestScore']),_0x479e0c=calculateMeanAndStdDev(_0x3caffd),_0x1ccac4=calculateMeanAndStdDev(_0xdb26c0),_0x4106b7=_0x479e0c[_0x5dcef2(0x942)],_0x4897a4=_0x1ccac4['mean'],_0xb9f29=_0x4897a4-_0x4106b7;let _0x264470=_0x5dcef2(0x654)+_0x4106b7[_0x5dcef2(0x49b)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x4897a4[_0x5dcef2(0x49b)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0xb9f29>=0x0?_0x5dcef2(0x11c):_0x5dcef2(0x5fc))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xb9f29>=0x0?'text-emerald-800':_0x5dcef2(0x8c7))+_0x5dcef2(0x553)+(_0xb9f29>=0x0?_0x5dcef2(0xfa):_0x5dcef2(0x6ec))+'\x22>'+(_0xb9f29>=0x0?'+':'')+_0xb9f29[_0x5dcef2(0x49b)](0x2)+_0x5dcef2(0x15b);_0x3b5d66[_0x5dcef2(0x48a)]=_0x264470;const _0x93211b=document[_0x5dcef2(0x36b)](_0x5dcef2(0x34b))[_0x5dcef2(0x5b3)]('2d');if(chartInstances['comparison'])chartInstances[_0x5dcef2(0x630)]['destroy']();chartInstances[_0x5dcef2(0x630)]=new Chart(_0x93211b,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x5dcef2(0x282),'data':[_0x4106b7],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x5dcef2(0x34f),'data':[_0x4897a4],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3b6eb}}}});const _0x21cdd0=currentProjectData[_0x5dcef2(0x8a4)]||[],_0x22ddd5=_0x21cdd0[_0x5dcef2(0x1c2)](_0x853886=>{const _0x1ed8f1=_0x5dcef2,_0x2ec9a0=_0x122bbc[_0x1ed8f1(0x1c5)](_0x5203bf=>_0x5203bf[_0x1ed8f1(0x466)]===_0x853886),_0x344a38=_0x25efc1[_0x1ed8f1(0x1c5)](_0x13c1b3=>_0x13c1b3[_0x1ed8f1(0x466)]===_0x853886),_0x14dcd0=_0x2ec9a0?_0x2ec9a0[_0x1ed8f1(0x50d)]:null,_0x5ae618=_0x344a38?_0x344a38['latestScore']:null,_0x26fe5d=_0x14dcd0!==null&&_0x5ae618!==null?_0x5ae618-_0x14dcd0:null,_0x44aab4=_0x14dcd0!==null?calculateZScore(_0x14dcd0,_0x479e0c[_0x1ed8f1(0x942)],_0x479e0c[_0x1ed8f1(0x622)]):null,_0x3ed52a=_0x5ae618!==null?calculateZScore(_0x5ae618,_0x1ccac4[_0x1ed8f1(0x942)],_0x1ccac4[_0x1ed8f1(0x622)]):null,_0xa6d88a=_0x44aab4!==null?calculateTScore(_0x44aab4):null,_0x207f98=_0x3ed52a!==null?calculateTScore(_0x3ed52a):null,_0x1a73f5=_0xa6d88a!==null&&_0x207f98!==null?_0x207f98-_0xa6d88a:null;return{'name':_0x853886,'preScore':_0x14dcd0,'postScore':_0x5ae618,'gain':_0x26fe5d,'preTScore':_0xa6d88a,'postTScore':_0x207f98,'tGain':_0x1a73f5};});renderIndividualComparisonTable(_0x22ddd5,_0x2d408a);}catch(_0x35f7fe){console[_0x5dcef2(0x43a)]('Error\x20comparing\x20results:',_0x35f7fe),_0x3b5d66[_0x5dcef2(0x48a)]=_0x5dcef2(0x3ef);}}function displayHalfMarkResult(_0x142d91,_0x3fb20b){const _0x34dd12=_0x4247c8,_0x544607=_0x142d91>=_0x3fb20b/0x2,_0x315159=_0x544607?_0x34dd12(0x357):'bg-red-100',_0x31c114=_0x544607?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x34dd12(0x46e),_0x8ba21f=_0x544607?_0x34dd12(0x3db):'text-red-800',_0x2a3c10=_0x544607?_0x34dd12(0x5c7):_0x34dd12(0x4df),_0x2c6560=_0x544607?_0x34dd12(0x1ab):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x52644a=_0x34dd12(0xeb)+_0x315159+_0x34dd12(0x450)+_0x31c114+_0x34dd12(0x250)+_0x8ba21f+_0x34dd12(0x639)+_0x2a3c10+_0x34dd12(0x132)+_0x2c6560+_0x34dd12(0x318);studentResultArea[_0x34dd12(0x48a)]=_0x52644a,studentResultArea[_0x34dd12(0x3e0)][_0x34dd12(0x691)]('hidden'),studentQuizArea[_0x34dd12(0x3e0)]['add'](_0x34dd12(0x20f)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x544607});}function displayPerfectScoreResult(_0x414725,_0x561d51){const _0x513a6b=_0x4247c8,_0x6447f7=_0x414725===_0x561d51,_0x34f9f1=_0x6447f7?_0x513a6b(0x5d6):_0x513a6b(0x792),_0x4024f0=_0x6447f7?_0x513a6b(0x5df):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x40c30d=_0x6447f7?'text-yellow-800':_0x513a6b(0x6fc),_0x448596=_0x6447f7?'คะแนนเต็ม!':_0x513a6b(0x49a),_0xdd2c63=_0x6447f7?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x513a6b(0x6d6);let _0x562dd9=_0x513a6b(0xeb)+_0x34f9f1+_0x513a6b(0x450)+_0x4024f0+_0x513a6b(0x250)+_0x40c30d+_0x513a6b(0x639)+_0x448596+_0x513a6b(0x132)+_0xdd2c63+_0x513a6b(0x318);studentResultArea[_0x513a6b(0x48a)]=_0x562dd9,studentResultArea[_0x513a6b(0x3e0)][_0x513a6b(0x691)]('hidden'),studentQuizArea[_0x513a6b(0x3e0)][_0x513a6b(0x90a)](_0x513a6b(0x20f)),setupResultScreenBackButton({'showRankings':![],'score':_0x414725,'totalQuestions':_0x561d51});}function renderIndividualComparisonTable(_0x20f592,_0xfaf2bb){const _0x22e897=_0x4247c8;_0x20f592[_0x22e897(0x254)]((_0x4a6ae7,_0x5b250c)=>(_0x5b250c[_0x22e897(0x162)]??-Infinity)-(_0x4a6ae7['tGain']??-Infinity));let _0x1986db=_0x22e897(0x378);_0x20f592[_0x22e897(0x47b)]===0x0?_0x1986db+=_0x22e897(0x24b):_0x20f592[_0x22e897(0x204)]((_0x278d91,_0xe29ee0)=>{const _0x38aa22=_0x22e897;let _0x40449b='-',_0x53c3c0='';if(_0x278d91[_0x38aa22(0x51c)]!==null){const _0x2c19a8=_0x278d91[_0x38aa22(0x51c)]>0x0?_0x38aa22(0x72e):_0x278d91[_0x38aa22(0x51c)]<0x0?_0x38aa22(0x6c4):_0x38aa22(0x75e),_0x202a25=_0x278d91['gain']>0x0?'+':'';_0x40449b=_0x38aa22(0x3cc)+_0x2c19a8+'\x22>'+_0x202a25+_0x278d91['gain']+_0x38aa22(0x3bd);if(_0x278d91[_0x38aa22(0x51c)]>0x0)_0x53c3c0=_0x38aa22(0x7e4);else _0x278d91['gain']<0x0?_0x53c3c0=_0x38aa22(0x7bd):_0x53c3c0=_0x38aa22(0x298);}let _0x477406='-';if(_0x278d91['tGain']!==null){const _0x189c27=_0x278d91['tGain']>0x0?'text-green-600':_0x278d91[_0x38aa22(0x162)]<0x0?'text-red-600':_0x38aa22(0x75e),_0x451e61=_0x278d91[_0x38aa22(0x162)]>0x0?'+':'';_0x477406=_0x38aa22(0x3cc)+_0x189c27+'\x22>'+_0x451e61+_0x278d91['tGain']['toFixed'](0x2)+'</span>';}_0x1986db+=_0x38aa22(0x133)+(_0xe29ee0+0x1)+_0x38aa22(0x3e8)+_0x278d91['name']+_0x38aa22(0x83c)+(_0x278d91[_0x38aa22(0x32b)]??'-')+_0x38aa22(0x8f5)+(_0x278d91[_0x38aa22(0x3ee)]??'-')+_0x38aa22(0x83c)+_0x40449b+_0x38aa22(0x343)+_0x53c3c0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x278d91[_0x38aa22(0x2a8)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x278d91[_0x38aa22(0x1fa)]?.[_0x38aa22(0x49b)](0x2)??'-')+_0x38aa22(0x83c)+_0x477406+_0x38aa22(0x50f);}),_0x1986db+=_0x22e897(0x4e7),_0xfaf2bb[_0x22e897(0x48a)]=_0x1986db;}function handleRenameQuiz(_0x16cafc,_0x3065e6){const _0x599a1d=_0x4247c8;actionTargetId=_0x16cafc,document[_0x599a1d(0x36b)]('rename-quiz-input')[_0x599a1d(0x7c0)]=_0x3065e6,renameQuizModal[_0x599a1d(0x3e0)][_0x599a1d(0x691)]('hidden');}function setupComparisonModalTabs(){const _0x2d8507=_0x4247c8,_0x2e8112=document[_0x2d8507(0x36b)]('comparison-overall-tab'),_0x5e23d5=document[_0x2d8507(0x36b)](_0x2d8507(0x3d2)),_0xccf188=document[_0x2d8507(0x36b)](_0x2d8507(0x6f0)),_0x28260d=document[_0x2d8507(0x36b)](_0x2d8507(0x585));_0x2e8112[_0x2d8507(0x889)](_0x2d8507(0x3d5),()=>{const _0x6c4cd7=_0x2d8507;_0x2e8112[_0x6c4cd7(0x3e0)]['add'](_0x6c4cd7(0x599)),_0x5e23d5[_0x6c4cd7(0x3e0)][_0x6c4cd7(0x691)](_0x6c4cd7(0x599)),_0xccf188[_0x6c4cd7(0x3e0)]['remove'](_0x6c4cd7(0x20f)),_0x28260d[_0x6c4cd7(0x3e0)][_0x6c4cd7(0x90a)](_0x6c4cd7(0x20f));}),_0x5e23d5[_0x2d8507(0x889)](_0x2d8507(0x3d5),()=>{const _0xbf3b53=_0x2d8507;_0x5e23d5['classList'][_0xbf3b53(0x90a)](_0xbf3b53(0x599)),_0x2e8112[_0xbf3b53(0x3e0)][_0xbf3b53(0x691)](_0xbf3b53(0x599)),_0x28260d[_0xbf3b53(0x3e0)][_0xbf3b53(0x691)](_0xbf3b53(0x20f)),_0xccf188[_0xbf3b53(0x3e0)][_0xbf3b53(0x90a)](_0xbf3b53(0x20f));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2dd8d2=''){const _0x196cdd=_0x4247c8,_0xa5fdc6=document[_0x196cdd(0x36b)](_0x196cdd(0x853)),_0x7af369=_0x2dd8d2[_0x196cdd(0x14b)]()[_0x196cdd(0x52d)](),_0xc85c40=allQuizzesGlobal['map'](_0x4ef7ff=>({..._0x4ef7ff,'projectName':allProjects[_0x196cdd(0x1c5)](_0x259094=>_0x259094['id']===_0x4ef7ff['projectId'])?.[_0x196cdd(0x7df)]||_0x4ef7ff[_0x196cdd(0x69a)]}))[_0x196cdd(0x42c)](_0x4db0f8=>(_0x4db0f8[_0x196cdd(0x761)]||'')[_0x196cdd(0x14b)]()[_0x196cdd(0x635)](_0x7af369)||(_0x4db0f8[_0x196cdd(0x7df)]||'')[_0x196cdd(0x14b)]()[_0x196cdd(0x635)](_0x7af369));document[_0x196cdd(0x36b)](_0x196cdd(0x5e7))[_0x196cdd(0x6e3)]='('+_0xc85c40[_0x196cdd(0x47b)]+_0x196cdd(0x513),_0xa5fdc6[_0x196cdd(0x48a)]=_0xc85c40['length']?_0xc85c40[_0x196cdd(0x1c2)](_0x540b15=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x540b15['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x540b15['topic']||'(ไม่มีชื่อ)')+_0x196cdd(0x31b)+(_0x540b15['questions']?.[_0x196cdd(0x47b)]||0x0)+_0x196cdd(0x59f)+_0x540b15[_0x196cdd(0x7df)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document['getElementById'](_0x196cdd(0x1ed))[_0x196cdd(0x65e)]=!![],_0xa5fdc6['querySelectorAll']('button[data-id]')['forEach'](_0x1b85b5=>{const _0x5644c3=_0x196cdd;_0x1b85b5['addEventListener'](_0x5644c3(0x3d5),()=>{const _0x27b9e6=_0x5644c3;selectedGlobalQuizId=_0x1b85b5[_0x27b9e6(0x29d)]['id'],_0xa5fdc6[_0x27b9e6(0x16d)](_0x27b9e6(0x604))[_0x27b9e6(0x204)](_0x4e18ed=>_0x4e18ed['classList']['remove'](_0x27b9e6(0x946),_0x27b9e6(0x546),_0x27b9e6(0x842))),_0x1b85b5['classList'][_0x27b9e6(0x90a)](_0x27b9e6(0x946),'ring-2',_0x27b9e6(0x842)),document['getElementById'](_0x27b9e6(0x1ed))[_0x27b9e6(0x65e)]=![];});});}function listenForLiveGameUpdates(){const _0x516c1e=_0x4247c8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x111587=doc(db,_0x516c1e(0x302)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x111587,_0x16eaca=>{const _0x202ea2=_0x516c1e;if(!_0x16eaca[_0x202ea2(0x747)]()){showMessage(_0x202ea2(0x678)),showView(currentMode);return;}const _0x2b87bd=_0x16eaca[_0x202ea2(0x6d4)]();_0x2b87bd['shuffledQuiz']&&(currentQuizData=_0x2b87bd[_0x202ea2(0x2ae)]);!currentQuizData&&_0x2b87bd['quizId']&&((async()=>{const _0x49e05b=_0x202ea2;try{const _0x177a77=doc(db,_0x49e05b(0x302)+appId+_0x49e05b(0x42f),_0x2b87bd[_0x49e05b(0x3a4)]),_0x37ceca=await getDoc(_0x177a77);_0x37ceca[_0x49e05b(0x747)]()&&(currentQuizData={'id':_0x37ceca['id'],..._0x37ceca['data']()});}catch(_0x47ae59){console[_0x49e05b(0x43a)](_0x49e05b(0x317),_0x47ae59);}})());switch(_0x2b87bd[_0x202ea2(0xfe)]){case _0x202ea2(0x3df):if(currentMode===_0x202ea2(0x875)){const _0x328b44=_0x2b87bd[_0x202ea2(0x89e)]?Object[_0x202ea2(0x51d)](_0x2b87bd[_0x202ea2(0x89e)]):[],_0x4b65dc=_0x328b44[_0x202ea2(0x42c)](([_0x3cb18c,_0x283e60])=>_0x283e60[_0x202ea2(0xfe)]===_0x202ea2(0x599)),_0x537a84=document[_0x202ea2(0x36b)](_0x202ea2(0xf8));if(_0x537a84)_0x537a84['textContent']=_0x4b65dc[_0x202ea2(0x47b)];const _0x463ed0=document['getElementById'](_0x202ea2(0x3b8));_0x463ed0&&(_0x463ed0[_0x202ea2(0x48a)]=_0x4b65dc[_0x202ea2(0x1c2)](([_0x44d15c,_0x2e52a3])=>_0x202ea2(0x4c2)+_0x44d15c+_0x202ea2(0x8a9)+_0x44d15c+_0x202ea2(0x928))[_0x202ea2(0x182)](''));const _0x12e54c=document[_0x202ea2(0x36b)]('start-game-btn');_0x12e54c&&(_0x12e54c['disabled']=_0x4b65dc['length']===0x0);}else showView(_0x202ea2(0x334)),liveGameView[_0x202ea2(0x48a)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x202ea2(0x838):const _0x309339=_0x2b87bd['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x202ea2(0x4d7)][_0x309339]){const _0x591787=currentQuizData[_0x202ea2(0x4d7)][_0x309339],_0x5e4744=_0x2b87bd[_0x202ea2(0x145)]||'answering';switch(_0x5e4744){case _0x202ea2(0x8ca):currentMode===_0x202ea2(0x875)?showAdminSummaryView(_0x2b87bd,_0x591787):showPlayerSummaryView(_0x2b87bd,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x2b87bd);break;case _0x202ea2(0x8db):default:if(currentMode==='admin'){const _0x3b14e1=writeBatch(db);let _0x3f2e02=![];Object[_0x202ea2(0x51d)](_0x2b87bd['players'])['forEach'](([_0x5be9ee,_0xdc479c])=>{const _0xd3e7b3=_0x202ea2;if(_0xdc479c['status']===_0xd3e7b3(0x599)&&_0xdc479c[_0xd3e7b3(0x410)]&&!_0xdc479c['isScored']){_0x3f2e02=!![];const _0x10c025=_0xdc479c[_0xd3e7b3(0x410)]['toDate']()-_0x2b87bd[_0xd3e7b3(0x43e)][_0xd3e7b3(0x565)]();let _0x5b72d3=0x0;if(_0xdc479c['lastAnswerCorrect']){const _0x23e3bc=0x3e8,_0x18d4a4=0x1f4,_0x8ad464=0x4e20;let _0x24dd08=_0x10c025/_0x8ad464;if(_0x24dd08>0x1)_0x24dd08=0x1;const _0x440a51=Math[_0xd3e7b3(0x530)](_0x24dd08*_0x18d4a4);_0x5b72d3=_0x23e3bc-_0x440a51;}const _0x229236=doc(db,_0xd3e7b3(0x302)+appId+_0xd3e7b3(0x51a),currentLiveGameId);_0x3b14e1[_0xd3e7b3(0x44a)](_0x229236,{['players.'+_0x5be9ee+'.score']:increment(_0x5b72d3),[_0xd3e7b3(0x806)+_0x5be9ee+'.pointsLastQuestion']:_0x5b72d3,[_0xd3e7b3(0x806)+_0x5be9ee+_0xd3e7b3(0x7e3)]:!![]});}});_0x3f2e02&&_0x3b14e1[_0x202ea2(0x59b)]()[_0x202ea2(0x760)](_0x36a5cf=>console[_0x202ea2(0x43a)](_0x202ea2(0x104),_0x36a5cf));lastRenderedAdminQuestionIndex!==_0x309339&&(showAdminLiveQuestionView(_0x591787,_0x309339,currentQuizData[_0x202ea2(0x4d7)][_0x202ea2(0x47b)]),lastRenderedAdminQuestionIndex=_0x309339);const _0x358684=_0x2b87bd[_0x202ea2(0x89e)]||{},_0x4edceb=Object[_0x202ea2(0x13b)](_0x358684)[_0x202ea2(0x42c)](_0x411fa2=>_0x411fa2[_0x202ea2(0xfe)]===_0x202ea2(0x599)),_0x15a68e=_0x4edceb[_0x202ea2(0x47b)],_0x16d261=_0x4edceb['filter'](_0x315ddd=>_0x315ddd[_0x202ea2(0x14a)]===!![])['length'],_0x2043cc=document[_0x202ea2(0x36b)](_0x202ea2(0x72a));if(_0x2043cc)_0x2043cc[_0x202ea2(0x6e3)]=_0x16d261+'/'+_0x15a68e;const _0x1f541a=document['getElementById'](_0x202ea2(0x502));if(_0x1f541a){let _0xa8ef08=Object[_0x202ea2(0x51d)](_0x358684)['filter'](([_0xd352ac,_0x389db9])=>_0x389db9[_0x202ea2(0xfe)]===_0x202ea2(0x599))[_0x202ea2(0x1c2)](([_0x390e2f,_0x54a33f])=>{const _0x13a243=_0x202ea2,_0x2c55af=_0x54a33f[_0x13a243(0x14a)]===!![],_0x153f60=_0x2c55af?_0x13a243(0x184):_0x13a243(0x59d),_0x19d72b=_0x2c55af?_0x13a243(0x6ea):_0x13a243(0x377);return _0x13a243(0x878)+_0x153f60+_0x13a243(0x256)+_0x19d72b+_0x13a243(0x8ab)+_0x390e2f+_0x13a243(0x6a8)+_0x390e2f+_0x13a243(0x5ce);})[_0x202ea2(0x182)]('');_0x1f541a['innerHTML']=_0xa8ef08||_0x202ea2(0x418);}_0x15a68e>0x0&&_0x16d261===_0x15a68e&&revealAnswerForAdmin(_0x309339,currentQuizData[_0x202ea2(0x4d7)][_0x202ea2(0x47b)]);}else{const _0x2d8124=_0x2b87bd[_0x202ea2(0x89e)][currentStudentName];_0x2d8124&&!_0x2d8124['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x591787,_0x309339,currentQuizData['questions'][_0x202ea2(0x47b)]);}break;}}break;case _0x202ea2(0x93f):showPodiumView(_0x2b87bd['players']);break;}});}async function handleKickPlayer(_0x452b0b){const _0x523546=_0x4247c8;if(!currentLiveGameId||!_0x452b0b)return;const _0x44d725=doc(db,'artifacts/'+appId+_0x523546(0x51a),currentLiveGameId),_0x52b43a={};_0x52b43a[_0x523546(0x806)+_0x452b0b+'.status']=_0x523546(0x125);try{await updateDoc(_0x44d725,_0x52b43a);}catch(_0x208d0f){console['error'](_0x523546(0x8f8)+_0x452b0b+':',_0x208d0f),showMessage(_0x523546(0x45f));}}async function authenticateUser(){const _0x3896cc=_0x4247c8;try{typeof __initial_auth_token!==_0x3896cc(0x3da)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5e3925){console[_0x3896cc(0x43a)](_0x3896cc(0x85d),_0x5e3925),showMessage(_0x3896cc(0x3be));}}function showView(_0x4ef510){const _0x551847=_0x4247c8,_0x2670e6=[_0x551847(0x7cc),'student-view',_0x551847(0x872),_0x551847(0x708),_0x551847(0x11f),'live-game-view',_0x551847(0x26d)];_0x2670e6[_0x551847(0x204)](_0x5bee68=>document[_0x551847(0x36b)](_0x5bee68)?.[_0x551847(0x3e0)]['add']('hidden'));if(_0x4ef510==='admin-dashboard')adminView['classList']['remove'](_0x551847(0x20f)),projectDashboardView[_0x551847(0x3e0)]['remove'](_0x551847(0x20f));else{if(_0x4ef510===_0x551847(0x4c7))studentView[_0x551847(0x3e0)][_0x551847(0x691)](_0x551847(0x20f)),studentInitialView[_0x551847(0x3e0)][_0x551847(0x691)](_0x551847(0x20f)),studentNameSelectionView[_0x551847(0x3e0)][_0x551847(0x90a)](_0x551847(0x20f)),studentQuizArea[_0x551847(0x3e0)][_0x551847(0x90a)](_0x551847(0x20f)),studentResultArea[_0x551847(0x3e0)]['add'](_0x551847(0x20f)),studentReadingArea['classList'][_0x551847(0x90a)](_0x551847(0x20f)),studentJoinGameView['classList'][_0x551847(0x90a)]('hidden');else{if(_0x4ef510===_0x551847(0x38b))adminView[_0x551847(0x3e0)][_0x551847(0x691)]('hidden'),projectDetailView[_0x551847(0x3e0)][_0x551847(0x691)](_0x551847(0x20f));else{if(_0x4ef510===_0x551847(0x386))adminView[_0x551847(0x3e0)]['remove'](_0x551847(0x20f)),quizResultsView[_0x551847(0x3e0)]['remove'](_0x551847(0x20f));else _0x4ef510==='live-game'&&liveGameView[_0x551847(0x3e0)][_0x551847(0x691)](_0x551847(0x20f));}}}}function showJoinGameView(){const _0x274c04=_0x4247c8;studentInitialView[_0x274c04(0x3e0)][_0x274c04(0x90a)](_0x274c04(0x20f)),studentJoinGameView[_0x274c04(0x3e0)]['remove']('hidden');}async function handleSaveVisibilitySettings(){const _0x2446fc=_0x4247c8;if(!currentProjectId)return;const _0xe4e424=doc(db,'artifacts/'+appId+_0x2446fc(0x522),currentProjectId);try{await updateDoc(_0xe4e424,{'settings.showInStudentDashboard':document['getElementById'](_0x2446fc(0x196))[_0x2446fc(0x57f)],'settings.isPasscodeEnabled':document[_0x2446fc(0x36b)](_0x2446fc(0x47d))[_0x2446fc(0x57f)],'settings.passcode':document[_0x2446fc(0x36b)](_0x2446fc(0x63f))[_0x2446fc(0x7c0)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x3ae8e7){console[_0x2446fc(0x43a)]('Error\x20saving\x20visibility\x20settings:',_0x3ae8e7),showMessage(_0x2446fc(0x1d1));}}function setupEventListeners(){const _0x336fb8=_0x4247c8,_0x1da340=document[_0x336fb8(0x36b)](_0x336fb8(0x480));_0x1da340[_0x336fb8(0x889)](_0x336fb8(0x3d5),_0x4da1ff=>{const _0x371933=_0x336fb8,_0x27a903=_0x4da1ff[_0x371933(0x6a6)]['closest']('.summary-bar-item');document['querySelectorAll']('.live-summary-tooltip.visible')[_0x371933(0x204)](_0x329219=>{const _0xbdb486=_0x371933;(!_0x27a903||_0x329219['id']!==_0x27a903[_0xbdb486(0x29d)][_0xbdb486(0x6b8)])&&_0x329219[_0xbdb486(0x3e0)][_0xbdb486(0x691)]('visible');});if(!_0x27a903)return;const _0x183410=_0x27a903[_0x371933(0x29d)][_0x371933(0x6b8)],_0x24661b=document[_0x371933(0x36b)](_0x183410);_0x24661b&&_0x24661b['classList'][_0x371933(0x3eb)]('visible');}),_0x1da340[_0x336fb8(0x889)](_0x336fb8(0x3d5),_0x56c7ff=>{const _0x1cb490=_0x336fb8;if(_0x56c7ff['target']['classList']['contains'](_0x1cb490(0x218))){const _0x2b313a=_0x56c7ff['target'][_0x1cb490(0x29d)][_0x1cb490(0x4f6)];_0x2b313a&&handleKickPlayer(_0x2b313a);}}),document[_0x336fb8(0x36b)](_0x336fb8(0x7f8))[_0x336fb8(0x889)]('focus',()=>document[_0x336fb8(0x36b)](_0x336fb8(0x821))[_0x336fb8(0x3e0)][_0x336fb8(0x691)](_0x336fb8(0x20f))),document[_0x336fb8(0x36b)](_0x336fb8(0x821))[_0x336fb8(0x889)]('click',handleSaveProjectName),document[_0x336fb8(0x36b)](_0x336fb8(0x7f8))[_0x336fb8(0x889)](_0x336fb8(0x6ac),_0x1a865d=>{const _0x32742c=_0x336fb8;_0x1a865d[_0x32742c(0x398)]===_0x32742c(0x116)&&(_0x1a865d['preventDefault'](),_0x1a865d['target'][_0x32742c(0x433)](),handleSaveProjectName());}),document['getElementById'](_0x336fb8(0x428))[_0x336fb8(0x889)]('click',()=>{const _0x1964a8=_0x336fb8;document[_0x1964a8(0x36b)](_0x1964a8(0x89d))['classList'][_0x1964a8(0x691)](_0x1964a8(0x20f));}),document['getElementById'](_0x336fb8(0x8d8))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0xf6a7ba=_0x336fb8;document['getElementById']('bulk-quiz-settings-modal')[_0xf6a7ba(0x3e0)]['add']('hidden');}),document[_0x336fb8(0x36b)](_0x336fb8(0x60f))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleBulkUpdateQuizSettings),document['getElementById'](_0x336fb8(0x307))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleModeSwitch),document[_0x336fb8(0x36b)](_0x336fb8(0x266))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleUpdateOldQuizzes),document[_0x336fb8(0x36b)]('reset-project-order-btn')[_0x336fb8(0x889)]('click',handleResetProjectOrder),document[_0x336fb8(0x36b)]('save-visibility-settings-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleSaveVisibilitySettings),document['getElementById'](_0x336fb8(0x628))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleAddCustomMathTopic),document[_0x336fb8(0x36b)](_0x336fb8(0x58f))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleDeselectAllTopics),document[_0x336fb8(0x36b)]('back-to-dashboard-btn')[_0x336fb8(0x889)]('click',()=>{const _0x1d0003=_0x336fb8;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1d0003(0x69f));}),document['getElementById'](_0x336fb8(0x211))['addEventListener']('click',()=>{const _0x436fa7=_0x336fb8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x436fa7(0x38b));}),document['getElementById'](_0x336fb8(0x24e))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x4c01db=_0x336fb8;showView(_0x4c01db(0x69f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x499))['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x3fce58=_0x336fb8;messageModal[_0x3fce58(0x3e0)][_0x3fce58(0x90a)](_0x3fce58(0x20f)),typeof modalConfirmAction===_0x3fce58(0x85b)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x336fb8(0x5ac))[_0x336fb8(0x889)]('click',()=>createProjectModal[_0x336fb8(0x3e0)]['remove'](_0x336fb8(0x20f))),document[_0x336fb8(0x36b)](_0x336fb8(0x4a1))['addEventListener'](_0x336fb8(0x3d5),()=>createProjectModal['classList'][_0x336fb8(0x90a)](_0x336fb8(0x20f))),document[_0x336fb8(0x36b)](_0x336fb8(0x907))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>adminPasswordModal[_0x336fb8(0x3e0)][_0x336fb8(0x90a)]('hidden')),document[_0x336fb8(0x36b)](_0x336fb8(0x56f))['addEventListener']('click',handleAdminLogin),document[_0x336fb8(0x36b)]('admin-password-input')[_0x336fb8(0x889)](_0x336fb8(0x854),_0xdfd5d=>{const _0x2f9d49=_0x336fb8;if(_0xdfd5d[_0x2f9d49(0x398)]===_0x2f9d49(0x116))handleAdminLogin();}),document[_0x336fb8(0x36b)](_0x336fb8(0x554))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x2d2feb=_0x336fb8;confirmationModal[_0x2d2feb(0x3e0)][_0x2d2feb(0x90a)](_0x2d2feb(0x20f)),confirmAction=null;}),document[_0x336fb8(0x36b)](_0x336fb8(0x25d))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x3b2176=_0x336fb8;confirmAction&&confirmAction(),confirmationModal[_0x3b2176(0x3e0)][_0x3b2176(0x90a)](_0x3b2176(0x20f)),confirmAction=null;}),document[_0x336fb8(0x36b)]('cancel-rename-quiz-btn')[_0x336fb8(0x889)]('click',()=>renameQuizModal[_0x336fb8(0x3e0)]['add'](_0x336fb8(0x20f))),document[_0x336fb8(0x36b)](_0x336fb8(0x31d))[_0x336fb8(0x889)]('click',confirmRenameQuiz),document[_0x336fb8(0x36b)]('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal[_0x336fb8(0x3e0)]['add']('hidden')),document['getElementById'](_0x336fb8(0x2af))[_0x336fb8(0x889)](_0x336fb8(0x3d5),confirmMoveQuiz),document[_0x336fb8(0x36b)](_0x336fb8(0x4b5))['addEventListener'](_0x336fb8(0x3d5),()=>quizSettingsModal[_0x336fb8(0x3e0)]['add'](_0x336fb8(0x20f))),document[_0x336fb8(0x36b)](_0x336fb8(0x71c))[_0x336fb8(0x889)]('click',confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>quizStatusModal[_0x336fb8(0x3e0)]['add'](_0x336fb8(0x20f))),document['getElementById'](_0x336fb8(0x94c))[_0x336fb8(0x889)](_0x336fb8(0x3d5),confirmQuizStatus);const _0x2c52fa=document[_0x336fb8(0x36b)](_0x336fb8(0x503));document[_0x336fb8(0x36b)](_0x336fb8(0x75a))['addEventListener']('click',()=>{const _0x1c2597=_0x336fb8;_0x2c52fa[_0x1c2597(0x3e0)]['add'](_0x1c2597(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x7ba))['addEventListener']('click',async()=>{const _0x21287e=_0x336fb8,_0x4ed276=allQuizzes[_0x21287e(0x1c5)](_0x6bbe72=>_0x6bbe72['id']===actionTargetId);_0x4ed276?(currentQuizData=_0x4ed276,exportQuizAsWorksheetPDF()):showMessage(_0x21287e(0x681)),_0x2c52fa[_0x21287e(0x3e0)]['add']('hidden');}),document[_0x336fb8(0x36b)](_0x336fb8(0x445))['addEventListener'](_0x336fb8(0x3d5),async()=>{const _0xd03a55=_0x336fb8,_0x19f37b=allQuizzes[_0xd03a55(0x1c5)](_0x18f6ae=>_0x18f6ae['id']===actionTargetId);_0x19f37b?(currentQuizData=_0x19f37b,exportQuizAsTutorPDF()):showMessage(_0xd03a55(0x681)),_0x2c52fa[_0xd03a55(0x3e0)]['add'](_0xd03a55(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x722))['addEventListener'](_0x336fb8(0x3d5),openGlobalLiveModal),document[_0x336fb8(0x36b)](_0x336fb8(0x80d))[_0x336fb8(0x889)]('click',()=>{const _0x5564cc=_0x336fb8;document[_0x5564cc(0x36b)](_0x5564cc(0x4cd))[_0x5564cc(0x3e0)]['add']('hidden'),selectedGlobalQuizId=null;}),document['getElementById']('global-quiz-search-input')[_0x336fb8(0x889)](_0x336fb8(0x477),_0x4cc524=>renderGlobalQuizList(_0x4cc524[_0x336fb8(0x6a6)][_0x336fb8(0x7c0)])),document['getElementById']('confirm-global-live-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x4444db=_0x336fb8,_0x119df3=selectedGlobalQuizId;if(!_0x119df3)return;document['getElementById'](_0x4444db(0x4cd))[_0x4444db(0x3e0)][_0x4444db(0x90a)](_0x4444db(0x20f)),handleStartLiveRace(_0x119df3);}),document[_0x336fb8(0x36b)](_0x336fb8(0x7f7))[_0x336fb8(0x889)](_0x336fb8(0x477),renderProjects),document[_0x336fb8(0x36b)](_0x336fb8(0x7e7))[_0x336fb8(0x889)]('change',async()=>{const _0x114025=_0x336fb8,_0x2bd81d=document[_0x114025(0x36b)](_0x114025(0x7e7))['value'],_0x237eaa=doc(db,_0x114025(0x891),_0x114025(0x749));try{await setDoc(_0x237eaa,{'projectSort':_0x2bd81d},{'merge':!![]});}catch(_0x403b45){console[_0x114025(0x43a)](_0x114025(0x7fb),_0x403b45),showMessage(_0x114025(0x358));}}),document[_0x336fb8(0x36b)](_0x336fb8(0x6e1))[_0x336fb8(0x889)](_0x336fb8(0x477),renderQuizzes),document[_0x336fb8(0x36b)](_0x336fb8(0x13a))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x1b2443=_0x336fb8;globalDashboardSettings['projectView']=_0x1b2443(0x748),saveUserPreference(_0x1b2443(0x8f2),_0x1b2443(0x748)),renderProjects();}),document[_0x336fb8(0x36b)](_0x336fb8(0x7ab))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x29fb2a=_0x336fb8;globalDashboardSettings['projectView']=_0x29fb2a(0x8e9),saveUserPreference('projectView',_0x29fb2a(0x8e9)),renderProjects();}),manageTab[_0x336fb8(0x889)]('click',()=>switchProjectTab('manage')),resultsTab[_0x336fb8(0x889)]('click',()=>switchProjectTab(_0x336fb8(0x4c0))),leaderboardTab[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>switchProjectTab(_0x336fb8(0x55b))),document[_0x336fb8(0x36b)]('analytics-tab-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>switchQuizDetailTab(_0x336fb8(0x551))),document[_0x336fb8(0x36b)](_0x336fb8(0x703))['addEventListener'](_0x336fb8(0x3d5),()=>switchQuizDetailTab(_0x336fb8(0x688))),document[_0x336fb8(0x36b)](_0x336fb8(0x1ec))['addEventListener'](_0x336fb8(0x3d5),()=>switchQuizDetailTab(_0x336fb8(0x68e))),document['getElementById'](_0x336fb8(0x60d))['addEventListener'](_0x336fb8(0x3d5),()=>switchQuizDetailTab(_0x336fb8(0x109))),document['getElementById'](_0x336fb8(0x706))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x336fb8(0x3d5),generateWorksheet);const _0x530d25=document[_0x336fb8(0x36b)]('link-tab'),_0x5ebe85=document['getElementById'](_0x336fb8(0x80f)),_0x344758=document[_0x336fb8(0x36b)]('blueprint-tab'),_0x3b542c=document[_0x336fb8(0x36b)]('blueprint-input-area'),_0x2b1cc7=document[_0x336fb8(0x36b)](_0x336fb8(0x774)),_0x10893f=document[_0x336fb8(0x36b)](_0x336fb8(0x188));topicTab[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x39f210=_0x336fb8;topicTab[_0x39f210(0x3e0)][_0x39f210(0x90a)](_0x39f210(0x599)),textTab[_0x39f210(0x3e0)][_0x39f210(0x691)]('active'),fileTab[_0x39f210(0x3e0)][_0x39f210(0x691)](_0x39f210(0x599)),worksheetTab[_0x39f210(0x3e0)][_0x39f210(0x691)](_0x39f210(0x599));if(_0x530d25)_0x530d25['classList'][_0x39f210(0x691)](_0x39f210(0x599));if(_0x344758)_0x344758[_0x39f210(0x3e0)][_0x39f210(0x691)](_0x39f210(0x599));if(_0x2b1cc7)_0x2b1cc7['classList']['remove'](_0x39f210(0x599));topicInputArea[_0x39f210(0x3e0)][_0x39f210(0x691)](_0x39f210(0x20f)),textInputArea[_0x39f210(0x3e0)][_0x39f210(0x90a)](_0x39f210(0x20f)),fileInputArea['classList'][_0x39f210(0x90a)](_0x39f210(0x20f)),worksheetInputArea[_0x39f210(0x3e0)][_0x39f210(0x90a)](_0x39f210(0x20f));if(_0x5ebe85)_0x5ebe85['classList'][_0x39f210(0x90a)](_0x39f210(0x20f));if(_0x3b542c)_0x3b542c[_0x39f210(0x3e0)][_0x39f210(0x90a)](_0x39f210(0x20f));if(_0x10893f)_0x10893f[_0x39f210(0x3e0)][_0x39f210(0x90a)](_0x39f210(0x20f));}),textTab['addEventListener']('click',()=>{const _0x9e14fe=_0x336fb8;textTab[_0x9e14fe(0x3e0)][_0x9e14fe(0x90a)](_0x9e14fe(0x599)),topicTab[_0x9e14fe(0x3e0)][_0x9e14fe(0x691)](_0x9e14fe(0x599)),fileTab[_0x9e14fe(0x3e0)]['remove'](_0x9e14fe(0x599)),worksheetTab[_0x9e14fe(0x3e0)][_0x9e14fe(0x691)](_0x9e14fe(0x599));if(_0x530d25)_0x530d25[_0x9e14fe(0x3e0)]['remove']('active');if(_0x344758)_0x344758[_0x9e14fe(0x3e0)][_0x9e14fe(0x691)](_0x9e14fe(0x599));if(_0x2b1cc7)_0x2b1cc7[_0x9e14fe(0x3e0)][_0x9e14fe(0x691)](_0x9e14fe(0x599));textInputArea[_0x9e14fe(0x3e0)][_0x9e14fe(0x691)]('hidden'),topicInputArea[_0x9e14fe(0x3e0)][_0x9e14fe(0x90a)](_0x9e14fe(0x20f)),fileInputArea['classList'][_0x9e14fe(0x90a)]('hidden'),worksheetInputArea[_0x9e14fe(0x3e0)][_0x9e14fe(0x90a)](_0x9e14fe(0x20f));if(_0x5ebe85)_0x5ebe85[_0x9e14fe(0x3e0)][_0x9e14fe(0x90a)]('hidden');if(_0x3b542c)_0x3b542c['classList'][_0x9e14fe(0x90a)](_0x9e14fe(0x20f));if(_0x10893f)_0x10893f['classList'][_0x9e14fe(0x90a)](_0x9e14fe(0x20f));}),fileTab[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x2a9c86=_0x336fb8;fileTab[_0x2a9c86(0x3e0)]['add']('active'),topicTab['classList'][_0x2a9c86(0x691)](_0x2a9c86(0x599)),textTab[_0x2a9c86(0x3e0)]['remove']('active'),worksheetTab[_0x2a9c86(0x3e0)][_0x2a9c86(0x691)](_0x2a9c86(0x599));if(_0x530d25)_0x530d25['classList'][_0x2a9c86(0x691)](_0x2a9c86(0x599));if(_0x344758)_0x344758[_0x2a9c86(0x3e0)][_0x2a9c86(0x691)]('active');if(_0x2b1cc7)_0x2b1cc7[_0x2a9c86(0x3e0)][_0x2a9c86(0x691)]('active');fileInputArea['classList'][_0x2a9c86(0x691)]('hidden'),topicInputArea['classList'][_0x2a9c86(0x90a)]('hidden'),textInputArea[_0x2a9c86(0x3e0)][_0x2a9c86(0x90a)](_0x2a9c86(0x20f)),worksheetInputArea['classList']['add'](_0x2a9c86(0x20f));if(_0x5ebe85)_0x5ebe85[_0x2a9c86(0x3e0)][_0x2a9c86(0x90a)](_0x2a9c86(0x20f));if(_0x3b542c)_0x3b542c[_0x2a9c86(0x3e0)][_0x2a9c86(0x90a)](_0x2a9c86(0x20f));if(_0x10893f)_0x10893f[_0x2a9c86(0x3e0)]['add'](_0x2a9c86(0x20f));}),worksheetTab[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x235313=_0x336fb8;worksheetTab['classList'][_0x235313(0x90a)](_0x235313(0x599)),topicTab[_0x235313(0x3e0)][_0x235313(0x691)](_0x235313(0x599)),textTab[_0x235313(0x3e0)]['remove'](_0x235313(0x599)),fileTab[_0x235313(0x3e0)][_0x235313(0x691)](_0x235313(0x599));if(_0x530d25)_0x530d25[_0x235313(0x3e0)][_0x235313(0x691)](_0x235313(0x599));if(_0x344758)_0x344758[_0x235313(0x3e0)][_0x235313(0x691)]('active');if(_0x2b1cc7)_0x2b1cc7['classList'][_0x235313(0x691)]('active');worksheetInputArea[_0x235313(0x3e0)]['remove'](_0x235313(0x20f)),topicInputArea[_0x235313(0x3e0)]['add']('hidden'),textInputArea['classList']['add'](_0x235313(0x20f)),fileInputArea['classList'][_0x235313(0x90a)](_0x235313(0x20f));if(_0x5ebe85)_0x5ebe85[_0x235313(0x3e0)][_0x235313(0x90a)]('hidden');if(_0x3b542c)_0x3b542c[_0x235313(0x3e0)][_0x235313(0x90a)](_0x235313(0x20f));if(_0x10893f)_0x10893f['classList']['add'](_0x235313(0x20f));});const _0x5b22dc=document[_0x336fb8(0x36b)](_0x336fb8(0x51b)),_0x39b8ff=document['getElementById'](_0x336fb8(0x7e2));_0x5b22dc&&_0x5b22dc[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x4c1088=_0x336fb8;topicTab[_0x4c1088(0x3e0)][_0x4c1088(0x691)](_0x4c1088(0x599)),textTab[_0x4c1088(0x3e0)]['remove']('active'),fileTab[_0x4c1088(0x3e0)][_0x4c1088(0x691)]('active'),worksheetTab['classList'][_0x4c1088(0x691)](_0x4c1088(0x599));if(_0x530d25)_0x530d25[_0x4c1088(0x3e0)]['remove'](_0x4c1088(0x599));if(_0x344758)_0x344758[_0x4c1088(0x3e0)][_0x4c1088(0x691)](_0x4c1088(0x599));if(_0x2b1cc7)_0x2b1cc7['classList'][_0x4c1088(0x691)]('active');_0x5b22dc[_0x4c1088(0x3e0)][_0x4c1088(0x90a)](_0x4c1088(0x599)),topicInputArea['classList'][_0x4c1088(0x90a)](_0x4c1088(0x20f)),textInputArea[_0x4c1088(0x3e0)][_0x4c1088(0x90a)](_0x4c1088(0x20f)),fileInputArea[_0x4c1088(0x3e0)][_0x4c1088(0x90a)](_0x4c1088(0x20f)),worksheetInputArea[_0x4c1088(0x3e0)]['add'](_0x4c1088(0x20f));if(_0x5ebe85)_0x5ebe85[_0x4c1088(0x3e0)][_0x4c1088(0x90a)]('hidden');if(_0x3b542c)_0x3b542c[_0x4c1088(0x3e0)][_0x4c1088(0x90a)]('hidden');if(_0x10893f)_0x10893f['classList'][_0x4c1088(0x90a)]('hidden');_0x39b8ff[_0x4c1088(0x3e0)][_0x4c1088(0x691)](_0x4c1088(0x20f)),displayQuestionBank();});_0x530d25&&(_0x530d25[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x5d2c21=_0x336fb8;_0x530d25[_0x5d2c21(0x3e0)][_0x5d2c21(0x90a)](_0x5d2c21(0x599)),topicTab[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x599)),textTab[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x599)),fileTab['classList'][_0x5d2c21(0x691)](_0x5d2c21(0x599)),worksheetTab[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x599));if(_0x344758)_0x344758[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x599));if(_0x2b1cc7)_0x2b1cc7[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x599));_0x5ebe85[_0x5d2c21(0x3e0)][_0x5d2c21(0x691)](_0x5d2c21(0x20f)),topicInputArea[_0x5d2c21(0x3e0)][_0x5d2c21(0x90a)](_0x5d2c21(0x20f)),textInputArea[_0x5d2c21(0x3e0)][_0x5d2c21(0x90a)](_0x5d2c21(0x20f)),fileInputArea['classList'][_0x5d2c21(0x90a)](_0x5d2c21(0x20f)),worksheetInputArea[_0x5d2c21(0x3e0)][_0x5d2c21(0x90a)]('hidden');if(_0x3b542c)_0x3b542c[_0x5d2c21(0x3e0)]['add']('hidden');if(_0x10893f)_0x10893f[_0x5d2c21(0x3e0)][_0x5d2c21(0x90a)](_0x5d2c21(0x20f));}),document[_0x336fb8(0x36b)]('generate-from-link-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleGenerateFromLink));_0x344758&&_0x344758['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x1f3ec3=_0x336fb8;_0x344758[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x90a)](_0x1f3ec3(0x599)),topicTab[_0x1f3ec3(0x3e0)]['remove'](_0x1f3ec3(0x599)),textTab['classList'][_0x1f3ec3(0x691)](_0x1f3ec3(0x599)),fileTab['classList'][_0x1f3ec3(0x691)](_0x1f3ec3(0x599)),worksheetTab[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x691)](_0x1f3ec3(0x599));if(_0x530d25)_0x530d25[_0x1f3ec3(0x3e0)]['remove'](_0x1f3ec3(0x599));if(_0x5b22dc)_0x5b22dc[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x691)](_0x1f3ec3(0x599));if(_0x2b1cc7)_0x2b1cc7[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x691)](_0x1f3ec3(0x599));_0x3b542c[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x691)]('hidden'),topicInputArea[_0x1f3ec3(0x3e0)]['add'](_0x1f3ec3(0x20f)),textInputArea[_0x1f3ec3(0x3e0)]['add']('hidden'),fileInputArea['classList'][_0x1f3ec3(0x90a)](_0x1f3ec3(0x20f)),worksheetInputArea[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x90a)](_0x1f3ec3(0x20f));if(_0x5ebe85)_0x5ebe85[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x90a)]('hidden');if(_0x39b8ff)_0x39b8ff[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x90a)](_0x1f3ec3(0x20f));if(_0x10893f)_0x10893f[_0x1f3ec3(0x3e0)][_0x1f3ec3(0x90a)]('hidden');});_0x2b1cc7&&_0x2b1cc7[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x4eccf2=_0x336fb8;_0x2b1cc7['classList'][_0x4eccf2(0x90a)](_0x4eccf2(0x599)),topicTab[_0x4eccf2(0x3e0)][_0x4eccf2(0x691)](_0x4eccf2(0x599)),textTab[_0x4eccf2(0x3e0)][_0x4eccf2(0x691)]('active'),fileTab[_0x4eccf2(0x3e0)]['remove'](_0x4eccf2(0x599)),worksheetTab[_0x4eccf2(0x3e0)][_0x4eccf2(0x691)]('active');if(_0x530d25)_0x530d25['classList']['remove'](_0x4eccf2(0x599));if(_0x344758)_0x344758['classList']['remove']('active');if(_0x5b22dc)_0x5b22dc[_0x4eccf2(0x3e0)][_0x4eccf2(0x691)](_0x4eccf2(0x599));_0x10893f['classList'][_0x4eccf2(0x691)](_0x4eccf2(0x20f)),topicInputArea['classList']['add']('hidden'),textInputArea['classList'][_0x4eccf2(0x90a)]('hidden'),fileInputArea[_0x4eccf2(0x3e0)]['add'](_0x4eccf2(0x20f)),worksheetInputArea['classList'][_0x4eccf2(0x90a)](_0x4eccf2(0x20f));if(_0x5ebe85)_0x5ebe85['classList'][_0x4eccf2(0x90a)]('hidden');if(_0x3b542c)_0x3b542c[_0x4eccf2(0x3e0)][_0x4eccf2(0x90a)](_0x4eccf2(0x20f));if(_0x39b8ff)_0x39b8ff[_0x4eccf2(0x3e0)][_0x4eccf2(0x90a)]('hidden');});const _0x3c8c81=document[_0x336fb8(0x36b)]('blueprint-upload-input'),_0xd76229=document['getElementById']('generate-from-blueprint-btn');_0x3c8c81&&_0x3c8c81[_0x336fb8(0x889)]('change',_0x597230=>{const _0x4fc33d=_0x336fb8;_0x597230[_0x4fc33d(0x6a6)]['files'][_0x4fc33d(0x47b)]>0x0?_0xd76229[_0x4fc33d(0x65e)]=![]:_0xd76229[_0x4fc33d(0x65e)]=!![];});_0xd76229&&_0xd76229['addEventListener'](_0x336fb8(0x3d5),handleGenerateFromBlueprint);const _0x3f01d0=document[_0x336fb8(0x36b)](_0x336fb8(0x93d)),_0x139712=document[_0x336fb8(0x36b)](_0x336fb8(0x2bb));_0x3f01d0&&_0x3f01d0[_0x336fb8(0x889)]('change',_0x1df20e=>{const _0x1c99d8=_0x336fb8;_0x139712[_0x1c99d8(0x65e)]=_0x1df20e[_0x1c99d8(0x6a6)][_0x1c99d8(0x686)]['length']===0x0;});_0x139712&&_0x139712[_0x336fb8(0x889)]('click',handleGenerateParallelTest);loadQuizBtn[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleLoadQuiz),startQuizBtn[_0x336fb8(0x889)](_0x336fb8(0x3d5),async()=>{const _0x2f1aa5=_0x336fb8,_0x28fafe=document[_0x2f1aa5(0x36b)](_0x2f1aa5(0x20c));currentStudentName=_0x28fafe[_0x2f1aa5(0x7c0)];if(!currentStudentName){showMessage(_0x2f1aa5(0x299));return;}try{const _0x5e35e0=currentQuizData['id'],_0x6f141d=doc(db,'artifacts/'+appId+_0x2f1aa5(0x6b7)+_0x5e35e0+'/submissions',currentStudentName);await setDoc(_0x6f141d,{'studentName':currentStudentName,'startedAt':new Date()[_0x2f1aa5(0x6be)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x1a566d){console['error'](_0x2f1aa5(0x35c),_0x1a566d),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x2f1aa5(0x3e0)][_0x2f1aa5(0x90a)](_0x2f1aa5(0x20f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x336fb8(0x36b)](_0x336fb8(0x611))[_0x336fb8(0x889)](_0x336fb8(0x3d5),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x336fb8(0x889)]('click',handleJoinLiveGame),document[_0x336fb8(0x36b)](_0x336fb8(0x1b9))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>showView('student'));const _0x361073=()=>{const _0x3bc3fb=_0x336fb8,_0x37d3e3=document['getElementById']('results-quiz-title')[_0x3bc3fb(0x6e3)][_0x3bc3fb(0x134)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3bc3fb(0x2f0)+(_0x37d3e3||_0x3bc3fb(0x19d));},_0x1e08d0=document['getElementById']('math-topic-search-input');_0x1e08d0&&_0x1e08d0['addEventListener'](_0x336fb8(0x477),_0x38a0b1=>{const _0x4c613a=_0x336fb8,_0x519960=_0x38a0b1['target'][_0x4c613a(0x7c0)][_0x4c613a(0x14b)]()[_0x4c613a(0x52d)](),_0x360a99=document[_0x4c613a(0x36b)]('math-topics-checkbox-container'),_0x1bc2d2=_0x360a99[_0x4c613a(0x16d)](_0x4c613a(0x170));_0x1bc2d2['forEach'](_0x84cf01=>{const _0x1ac0b5=_0x4c613a;let _0x6887dd=![];const _0x7c9998=_0x84cf01[_0x1ac0b5(0x16d)]('.topic-row');_0x7c9998['forEach'](_0x32aeae=>{const _0x38d1be=_0x1ac0b5,_0x245f2e=_0x32aeae['querySelector'](_0x38d1be(0x456))['textContent']['toLowerCase']();_0x245f2e[_0x38d1be(0x635)](_0x519960)?(_0x32aeae[_0x38d1be(0x64c)][_0x38d1be(0x555)]=_0x38d1be(0x832),_0x6887dd=!![]):_0x32aeae[_0x38d1be(0x64c)][_0x38d1be(0x555)]='none';}),_0x6887dd?_0x84cf01[_0x1ac0b5(0x64c)][_0x1ac0b5(0x555)]=_0x1ac0b5(0x719):_0x84cf01[_0x1ac0b5(0x64c)][_0x1ac0b5(0x555)]=_0x1ac0b5(0x2aa);});});document[_0x336fb8(0x36b)](_0x336fb8(0x701))[_0x336fb8(0x889)]('click',()=>exportTableAsImage(_0x336fb8(0x919),_0x361073())),document['getElementById'](_0x336fb8(0x4a4))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>exportTableAsPDF(_0x336fb8(0x462),_0x361073())),document['getElementById']('export-word-btn')[_0x336fb8(0x889)]('click',()=>exportTableAsWord(_0x336fb8(0x919),_0x361073())),document[_0x336fb8(0x36b)](_0x336fb8(0x80c))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>exportTableAsExcel(_0x336fb8(0x462),_0x361073()));const _0x43fa63=()=>{const _0x4e2674=_0x336fb8,_0x5c4c17=document[_0x4e2674(0x36b)](_0x4e2674(0x618))[_0x4e2674(0x6e3)][_0x4e2674(0x134)](/[^a-z0-9]/gi,'_')[_0x4e2674(0x14b)]();return _0x4e2674(0x35a)+(_0x5c4c17||_0x4e2674(0x19d));};document[_0x336fb8(0x36b)](_0x336fb8(0x8d0))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x43fa63())),document[_0x336fb8(0x36b)]('export-leaderboard-pdf-btn')['addEventListener'](_0x336fb8(0x3d5),()=>exportTableAsPDF(_0x336fb8(0x625),_0x43fa63())),document[_0x336fb8(0x36b)](_0x336fb8(0x431))['addEventListener']('click',()=>exportTableAsWord(_0x336fb8(0x232),_0x43fa63())),document[_0x336fb8(0x36b)](_0x336fb8(0x12c))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>exportTableAsExcel(_0x336fb8(0x625),_0x43fa63())),projectQuizzesList['addEventListener']('click',async _0x310ad1=>{const _0x184de9=_0x336fb8,_0x3ac85a=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)]('.quiz-result-card'),_0x17e043=_0x310ad1['target'][_0x184de9(0x429)]('.generate-post-test-btn'),_0x36ed04=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x58d)),_0x3cf7c3=_0x310ad1[_0x184de9(0x6a6)]['closest'](_0x184de9(0x1aa)),_0x3015bd=_0x310ad1['target'][_0x184de9(0x429)](_0x184de9(0x64d)),_0x1587f3=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x10a)),_0x249420=_0x310ad1['target'][_0x184de9(0x429)]('.edit-quiz-btn'),_0x529aab=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x8b7)),_0x2f8c97=_0x310ad1['target'][_0x184de9(0x429)](_0x184de9(0x392)),_0x2059ae=_0x310ad1['target']['closest'](_0x184de9(0x464)),_0x474f90=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x3fa)),_0x1d4659=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)]('.move-quiz-btn'),_0x189104=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x439)),_0x237f4e=_0x310ad1[_0x184de9(0x6a6)]['closest'](_0x184de9(0xf4)),_0x3e0524=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x4e0)),_0x40c930=_0x310ad1['target'][_0x184de9(0x429)](_0x184de9(0x3fe)),_0x4ce2f8=_0x310ad1[_0x184de9(0x6a6)]['closest']('.start-live-race-btn'),_0xc3ce92=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x785)),_0x148ad4=_0x310ad1[_0x184de9(0x6a6)]['closest'](_0x184de9(0x890)),_0x2b0331=_0x310ad1['target'][_0x184de9(0x429)](_0x184de9(0x2f3)),_0x184806=_0x310ad1[_0x184de9(0x6a6)][_0x184de9(0x429)](_0x184de9(0x6f2)),_0x2358c1=_0x310ad1['target'][_0x184de9(0x429)](_0x184de9(0x4fa));if(_0x184806){const _0xa546fb=_0x184806[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x1e849f=document[_0x184de9(0x36b)]('actions-container-'+_0xa546fb);_0x1e849f&&_0x1e849f[_0x184de9(0x3e0)][_0x184de9(0x3eb)](_0x184de9(0x20f));}else{if(_0x17e043){const _0x492e79=_0x17e043[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x3fa5ee=allQuizzes[_0x184de9(0x1c5)](_0x20c85a=>_0x20c85a['id']===_0x492e79);_0x3fa5ee&&handleGenerateParallelPostTest(_0x3fa5ee);}else{if(_0x36ed04)handleCompareResults(_0x36ed04[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x36ed04['dataset'][_0x184de9(0x900)]);else{if(_0x3cf7c3){const _0x48bac6=_0x3cf7c3[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x3326fe=allQuizzes[_0x184de9(0x1c5)](_0x1f1bd0=>_0x1f1bd0['id']===_0x48bac6);_0x3326fe&&_0x3326fe[_0x184de9(0x7f3)]?(displayLessonPlan(_0x3326fe[_0x184de9(0x7f3)],_0x3326fe),showConfirmation(_0x184de9(0x8a6),()=>handleGenerateLessonPlan(_0x48bac6)),document['getElementById']('confirmation-modal')[_0x184de9(0x788)]('h3')[_0x184de9(0x6e3)]='แผนการสอน',document['getElementById']('confirm-delete-btn')['textContent']=_0x184de9(0x346)):handleGenerateLessonPlan(_0x48bac6);}else{if(_0x3015bd)handleToggleStarQuiz(_0x3015bd[_0x184de9(0x29d)]['quizId']);else{if(_0x1587f3)copyTextToClipboard(_0x1587f3[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x184de9(0x30f));else{if(_0x249420)handleOpenQuizEditor(_0x249420[_0x184de9(0x29d)][_0x184de9(0x3a4)]);else{if(_0x529aab)handleQuizSettings(_0x529aab['dataset'][_0x184de9(0x3a4)]);else{if(_0x2f8c97)handleDuplicateQuiz(_0x2f8c97[_0x184de9(0x29d)][_0x184de9(0x3a4)]);else{if(_0x2059ae)handleRenameQuiz(_0x2059ae['dataset']['quizId'],_0x2059ae[_0x184de9(0x29d)][_0x184de9(0x761)]);else{if(_0x474f90){const _0x1a82f1=_0x474f90[_0x184de9(0x29d)]['quizId'],_0x251dd5=allQuizzes['find'](_0x4804ac=>_0x4804ac['id']===_0x1a82f1);_0x251dd5&&handleGenerateParallelFromBank(_0x251dd5);}else{if(_0x1d4659)handleMoveQuiz(_0x1d4659[_0x184de9(0x29d)][_0x184de9(0x3a4)]);else{if(_0x189104)handleManualQuizPairing(_0x189104['dataset']['quizId']);else{if(_0x237f4e)handleUnpairQuiz(_0x237f4e['dataset'][_0x184de9(0x3a4)]);else{if(_0x3e0524){const _0x2d8555=_0x3e0524[_0x184de9(0x29d)][_0x184de9(0x3a4)],_0x3debed=allQuizzes[_0x184de9(0x1c5)](_0x343b41=>_0x343b41['id']===_0x2d8555);if(_0x3debed)startPresentation(_0x3debed);}else{if(_0x40c930){const _0x119ac9=_0x40c930['dataset'][_0x184de9(0x3a4)],_0x30ccc2=allQuizzes[_0x184de9(0x1c5)](_0x32c438=>_0x32c438['id']===_0x119ac9);_0x30ccc2&&(currentQuizData=_0x30ccc2,startAdminTest());}else{if(_0x4ce2f8)handleStartLiveRace(_0x4ce2f8[_0x184de9(0x29d)][_0x184de9(0x3a4)]);else{if(_0xc3ce92)actionTargetId=_0xc3ce92['dataset'][_0x184de9(0x3a4)],document[_0x184de9(0x36b)]('export-pdf-modal')[_0x184de9(0x3e0)]['remove'](_0x184de9(0x20f));else{if(_0x148ad4)showConfirmation(_0x184de9(0x16c)+_0x148ad4['dataset'][_0x184de9(0x761)]+_0x184de9(0x3c6),()=>handleDeleteQuiz(_0x148ad4[_0x184de9(0x29d)]['quizId']));else{if(_0x2b0331)handleQuizStatus(_0x2b0331['dataset'][_0x184de9(0x3a4)]);else{if(_0x2358c1)handleGenerateEasyVersionQuiz(_0x2358c1[_0x184de9(0x29d)][_0x184de9(0x3a4)]);else _0x3ac85a&&showQuizDetailView(_0x3ac85a['dataset'][_0x184de9(0x3a4)]);}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x336fb8(0x625))[_0x336fb8(0x788)]('thead')[_0x336fb8(0x889)](_0x336fb8(0x3d5),_0x872204=>{const _0x447978=_0x336fb8,_0x5224ba=_0x872204[_0x447978(0x6a6)][_0x447978(0x429)](_0x447978(0x705));if(!_0x5224ba||!_0x5224ba[_0x447978(0x29d)][_0x447978(0x254)])return;const _0x41a0e0=_0x5224ba['dataset']['sort'];if(quizLeaderboardSortBy===_0x41a0e0)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x447978(0x77c)?_0x447978(0x92c):_0x447978(0x77c);else{quizLeaderboardSortBy=_0x41a0e0;const _0x3fa3fd=[_0x447978(0x466)];quizLeaderboardSortOrder=_0x3fa3fd[_0x447978(0x635)](_0x41a0e0)?_0x447978(0x77c):_0x447978(0x92c);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x336fb8(0x36b)](_0x336fb8(0x309))[_0x336fb8(0x889)](_0x336fb8(0x3d5),closePresentation),document[_0x336fb8(0x36b)](_0x336fb8(0x73d))['addEventListener'](_0x336fb8(0x3d5),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x336fb8(0x36b)](_0x336fb8(0x57c))['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x5902c4=_0x336fb8;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x5902c4(0x4d7)][_0x5902c4(0x47b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x336fb8(0x889)]('fullscreenchange',()=>{const _0x504946=_0x336fb8;!document[_0x504946(0x7ea)]&&(presentationModal[_0x504946(0x64c)][_0x504946(0x555)]=_0x504946(0x2aa));}),document[_0x336fb8(0x36b)](_0x336fb8(0x864))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleDeleteAllStudents),studentList[_0x336fb8(0x889)](_0x336fb8(0x3d5),_0x4f77e2=>{const _0x5c6e35=_0x336fb8,_0xe25aad=_0x4f77e2[_0x5c6e35(0x6a6)][_0x5c6e35(0x429)](_0x5c6e35(0x67b));if(_0xe25aad){const _0x4eda56=_0xe25aad[_0x5c6e35(0x29d)]['studentName'];handleDeleteStudent(_0x4eda56);}}),document[_0x336fb8(0x36b)](_0x336fb8(0x904))['addEventListener'](_0x336fb8(0x3d5),handleGenerateFromFileClick),fileUploadInput[_0x336fb8(0x889)](_0x336fb8(0x76e),_0xb9a172=>{const _0xe2bbf0=_0x336fb8,_0x3fa292=_0xb9a172['target'][_0xe2bbf0(0x686)][0x0],_0x14e02f=document[_0xe2bbf0(0x36b)]('generate-from-file-btn');_0x3fa292?(selectedFile=_0x3fa292,_0x14e02f[_0xe2bbf0(0x65e)]=![]):(selectedFile=null,_0x14e02f[_0xe2bbf0(0x65e)]=!![]);}),document[_0x336fb8(0x36b)](_0x336fb8(0x316))[_0x336fb8(0x889)]('change',_0x158325=>{const _0x5430c0=_0x336fb8,_0x3f1b89=document['getElementById'](_0x5430c0(0x1cb)),_0x3c0388=document[_0x5430c0(0x36b)]('timer-duration-label'),_0x450fe3=document[_0x5430c0(0x36b)](_0x5430c0(0x7ef));_0x158325[_0x5430c0(0x6a6)][_0x5430c0(0x7c0)]===_0x5430c0(0x2aa)?_0x3f1b89['classList']['add']('hidden'):(_0x3f1b89[_0x5430c0(0x3e0)][_0x5430c0(0x691)](_0x5430c0(0x20f)),_0x158325[_0x5430c0(0x6a6)][_0x5430c0(0x7c0)]===_0x5430c0(0x65a)?(_0x3c0388[_0x5430c0(0x6e3)]='ระยะเวลา\x20(นาที):',_0x450fe3['value']='10'):(_0x3c0388[_0x5430c0(0x6e3)]=_0x5430c0(0x4ff),_0x450fe3['value']='30'));}),document[_0x336fb8(0x36b)](_0x336fb8(0x7a0))['addEventListener']('change',_0x5626ae=>{const _0x2e3fc3=_0x336fb8,_0x8b9f74=document[_0x2e3fc3(0x36b)]('num-choices-container'),_0x51597e=_0x5626ae[_0x2e3fc3(0x6a6)][_0x2e3fc3(0x7c0)],_0xb9a223=document[_0x2e3fc3(0x788)](_0x2e3fc3(0x5c2)),_0x3a43ff=document[_0x2e3fc3(0x36b)]('passing-score-input'),_0x202468=document[_0x2e3fc3(0x36b)](_0x2e3fc3(0x1a8));_0x51597e==='matching'?_0xb9a223[_0x2e3fc3(0x6e3)]=_0x2e3fc3(0x139):_0xb9a223['textContent']=_0x2e3fc3(0x583),_0x51597e==='multiple_choice'||_0x51597e===_0x2e3fc3(0x4f7)||_0x51597e===_0x2e3fc3(0x552)?_0x8b9f74[_0x2e3fc3(0x3e0)]['remove'](_0x2e3fc3(0x20f)):_0x8b9f74[_0x2e3fc3(0x3e0)][_0x2e3fc3(0x90a)](_0x2e3fc3(0x20f)),_0x3a43ff[_0x2e3fc3(0x276)]=_0x202468[_0x2e3fc3(0x7c0)];}),document[_0x336fb8(0x36b)](_0x336fb8(0x1a8))[_0x336fb8(0x889)](_0x336fb8(0x477),_0x57db45=>{const _0x3d218c=_0x336fb8;document[_0x3d218c(0x36b)](_0x3d218c(0x3e1))[_0x3d218c(0x276)]=_0x57db45[_0x3d218c(0x6a6)]['value'];}),document[_0x336fb8(0x36b)](_0x336fb8(0x909))[_0x336fb8(0x889)](_0x336fb8(0x76e),_0x48f95f=>{const _0x59642d=_0x336fb8,_0x5e8404=document[_0x59642d(0x36b)](_0x59642d(0x488)),_0x29c3d2=document[_0x59642d(0x36b)](_0x59642d(0x692)),_0x11b9b6=document['getElementById'](_0x59642d(0x742));_0x48f95f[_0x59642d(0x6a6)][_0x59642d(0x7c0)]==='none'?_0x5e8404[_0x59642d(0x3e0)][_0x59642d(0x90a)](_0x59642d(0x20f)):(_0x5e8404[_0x59642d(0x3e0)][_0x59642d(0x691)](_0x59642d(0x20f)),_0x48f95f[_0x59642d(0x6a6)][_0x59642d(0x7c0)]===_0x59642d(0x65a)?_0x29c3d2[_0x59642d(0x6e3)]='ระยะเวลา\x20(นาที):':_0x29c3d2[_0x59642d(0x6e3)]=_0x59642d(0x4ff));}),document[_0x336fb8(0x36b)]('cancel-quiz-edits-btn')['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x5b3f18=_0x336fb8;document['getElementById'](_0x5b3f18(0x811))[_0x5b3f18(0x3e0)][_0x5b3f18(0x90a)](_0x5b3f18(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x16b))['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x5426f1=_0x336fb8;document[_0x5426f1(0x36b)](_0x5426f1(0x811))['classList'][_0x5426f1(0x90a)](_0x5426f1(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x8a3))['addEventListener'](_0x336fb8(0x3d5),handleVerifyAnswersInEditor),document['getElementById'](_0x336fb8(0x40f))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x456a7e=_0x336fb8;document['getElementById'](_0x456a7e(0x811))[_0x456a7e(0x3e0)]['add']('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleAutoFixLatex);const _0xa83af7=document[_0x336fb8(0x36b)](_0x336fb8(0x23d));_0xa83af7&&_0xa83af7['addEventListener'](_0x336fb8(0x3d5),_0x5ebea5=>{const _0x226c8e=_0x336fb8,_0x24f1bb=_0x5ebea5[_0x226c8e(0x6a6)][_0x226c8e(0x429)]('.regenerate-question-editor-btn'),_0x3ebf7f=_0x5ebea5[_0x226c8e(0x6a6)][_0x226c8e(0x429)]('.ai-fix-formula-btn');if(_0x24f1bb){const _0x1b05cd=_0x24f1bb[_0x226c8e(0x429)]('.question-editor-item'),_0x36630d=parseInt(_0x1b05cd[_0x226c8e(0x29d)][_0x226c8e(0x7fd)],0xa);handleRegenerateQuestionInEditor(_0x36630d);}else{if(_0x3ebf7f){const _0x4ad26f=_0x3ebf7f[_0x226c8e(0x429)](_0x226c8e(0x3f8)),_0x3bbcbc=parseInt(_0x4ad26f[_0x226c8e(0x29d)][_0x226c8e(0x7fd)],0xa);handleAiFixFormula(_0x3bbcbc);}}});document[_0x336fb8(0x36b)]('open-quiz-bank-btn')[_0x336fb8(0x889)](_0x336fb8(0x3d5),openQuizBankModal),document[_0x336fb8(0x36b)](_0x336fb8(0x5f8))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x19cf13=_0x336fb8;document[_0x19cf13(0x36b)](_0x19cf13(0x2b9))[_0x19cf13(0x3e0)][_0x19cf13(0x90a)]('hidden');}),document[_0x336fb8(0x36b)](_0x336fb8(0x2f4))['addEventListener'](_0x336fb8(0x477),_0x2faa22=>renderQuizBankList(_0x2faa22['target'][_0x336fb8(0x7c0)]));const _0x32e791=document[_0x336fb8(0x36b)](_0x336fb8(0x3ac));if(_0x32e791){let _0x30350c=null;_0x32e791[_0x336fb8(0x889)](_0x336fb8(0x3d5),_0x2b90af=>{const _0x2ab174=_0x336fb8,_0x3bdadb=_0x2b90af['target'],_0x2a11fd=_0x3bdadb[_0x2ab174(0x429)](_0x2ab174(0x642)),_0x180940=_0x3bdadb[_0x2ab174(0x429)](_0x2ab174(0x8c8)),_0x5b0ea4=_0x3bdadb[_0x2ab174(0x429)]('.save-custom-topic-btn'),_0x5f0a5e=_0x3bdadb[_0x2ab174(0x429)]('.cancel-edit-topic-btn');if(_0x180940){_0x2b90af[_0x2ab174(0x8d5)]();const _0x29995b=_0x180940[_0x2ab174(0x29d)]['id'],_0x45d916=_0x180940[_0x2ab174(0x429)](_0x2ab174(0x10e))[_0x2ab174(0x788)]('.topic-name-display')[_0x2ab174(0x6e3)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x45d916+'\x22?',()=>handleDeleteCustomTopic(_0x29995b));}else{if(_0x2a11fd){_0x2b90af[_0x2ab174(0x8d5)]();_0x30350c&&toggleTopicEditMode(_0x30350c,![]);const _0x266426=_0x2a11fd[_0x2ab174(0x429)]('[data-topic-container-id]');_0x30350c=_0x266426,toggleTopicEditMode(_0x266426,!![]);}else{if(_0x5b0ea4){_0x2b90af[_0x2ab174(0x8d5)]();const _0xdc23be=_0x5b0ea4['dataset']['id'],_0x986ae9=_0x5b0ea4[_0x2ab174(0x429)](_0x2ab174(0x6e0)),_0x351423=_0x986ae9['querySelector'](_0x2ab174(0x6fa))[_0x2ab174(0x7c0)];handleUpdateCustomTopic(_0xdc23be,_0x351423),_0x30350c=null;}else{if(_0x5f0a5e){_0x2b90af['preventDefault']();const _0x173b5d=_0x5f0a5e[_0x2ab174(0x429)]('[data-topic-container-id]');toggleTopicEditMode(_0x173b5d,![]),_0x30350c=null;}}}}}),document[_0x336fb8(0x36b)](_0x336fb8(0x750))['addEventListener'](_0x336fb8(0x3d5),()=>{const _0x39f24e=_0x336fb8;document[_0x39f24e(0x36b)]('lesson-plan-modal')['classList'][_0x39f24e(0x90a)](_0x39f24e(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x44e))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x1efa38=_0x336fb8;document['getElementById'](_0x1efa38(0x1f3))[_0x1efa38(0x3e0)][_0x1efa38(0x90a)](_0x1efa38(0x20f));}),document[_0x336fb8(0x36b)](_0x336fb8(0x7fa))[_0x336fb8(0x889)](_0x336fb8(0x3d5),handleExportLessonPDF);}document[_0x336fb8(0x36b)](_0x336fb8(0x4b6))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0x4d9fd8=_0x336fb8;document[_0x4d9fd8(0x36b)](_0x4d9fd8(0x941))[_0x4d9fd8(0x3e0)]['add'](_0x4d9fd8(0x20f));}),document['getElementById'](_0x336fb8(0x910))[_0x336fb8(0x889)](_0x336fb8(0x3d5),()=>{const _0xbacfd9=_0x336fb8;document[_0xbacfd9(0x36b)]('comparison-modal')['classList'][_0xbacfd9(0x90a)]('hidden');}),setupComparisonModalTabs(),document[_0x336fb8(0x444)][_0x336fb8(0x889)](_0x336fb8(0x3d5),function(_0x37c574){const _0x75aa67=_0x336fb8;if(_0x37c574[_0x75aa67(0x6a6)][_0x75aa67(0x3e0)][_0x75aa67(0x61a)](_0x75aa67(0x19f))){const _0x5f1762=unescape(_0x37c574[_0x75aa67(0x6a6)][_0x75aa67(0x29d)][_0x75aa67(0x761)]);startSkillPractice(_0x5f1762);}}),document['getElementById'](_0x336fb8(0x896))['addEventListener']('click',_0x4128cc=>{const _0x44fa1d=_0x336fb8,_0x5dc95e=_0x4128cc[_0x44fa1d(0x6a6)][_0x44fa1d(0x429)](_0x44fa1d(0x248));if(_0x5dc95e){const _0x337a23=_0x5dc95e[_0x44fa1d(0x29d)][_0x44fa1d(0x466)];handleDeleteSubmission(_0x337a23);}});}async function showStudentProgressView(){const _0x154ba8=_0x4247c8;studentInitialView['classList'][_0x154ba8(0x90a)](_0x154ba8(0x20f)),document['getElementById'](_0x154ba8(0x26d))['classList'][_0x154ba8(0x691)]('hidden');const _0x3d7c4c=document['getElementById']('progress-project-select'),_0x1d968b=document[_0x154ba8(0x36b)](_0x154ba8(0x279)),_0x57cdce=document[_0x154ba8(0x36b)]('student-progress-content');_0x57cdce[_0x154ba8(0x48a)]=_0x154ba8(0x7db),_0x1d968b['innerHTML']=_0x154ba8(0x1c7),_0x1d968b[_0x154ba8(0x65e)]=!![],_0x3d7c4c[_0x154ba8(0x48a)]=_0x154ba8(0x21e);if(allProjects[_0x154ba8(0x47b)]===0x0){const _0x2cdab6=collection(db,_0x154ba8(0x302)+appId+'/public/data/projects'),_0x5edda0=await getDocs(_0x2cdab6);allProjects=_0x5edda0[_0x154ba8(0x591)][_0x154ba8(0x1c2)](_0x1719fc=>({'id':_0x1719fc['id'],..._0x1719fc[_0x154ba8(0x6d4)]()}));}const _0x175043=allProjects['filter'](_0x594147=>_0x594147[_0x154ba8(0x59a)]?.[_0x154ba8(0x4b1)]!==![]);_0x175043[_0x154ba8(0x254)]((_0x3df466,_0x1e1d90)=>_0x3df466[_0x154ba8(0x7df)]['localeCompare'](_0x1e1d90['projectName'],'th')),_0x3d7c4c[_0x154ba8(0x48a)]=_0x154ba8(0x2cc)+_0x175043['map'](_0x47ae4a=>_0x154ba8(0x5c6)+_0x47ae4a['id']+'\x22>'+_0x47ae4a[_0x154ba8(0x7df)]+'</option>')[_0x154ba8(0x182)](''),_0x3d7c4c[_0x154ba8(0x7a6)]=()=>{const _0x3e7faa=_0x154ba8,_0x44fd20=_0x1d968b[_0x3e7faa(0x7c0)],_0x33ca90=_0x3d7c4c[_0x3e7faa(0x7c0)];_0x1d968b[_0x3e7faa(0x65e)]=!![],_0x1d968b[_0x3e7faa(0x48a)]=_0x3e7faa(0x1c7),_0x57cdce['innerHTML']=_0x3e7faa(0x525);if(!_0x33ca90)return;const _0x1a8c19=allProjects[_0x3e7faa(0x1c5)](_0x1c3968=>_0x1c3968['id']===_0x33ca90);if(!_0x1a8c19||!_0x1a8c19[_0x3e7faa(0x8a4)])return;const _0x16eb6f=()=>{const _0x38d53f=_0x3e7faa;_0x1d968b[_0x38d53f(0x48a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1a8c19[_0x38d53f(0x8a4)]['map'](_0x278d8e=>_0x38d53f(0x5c6)+_0x278d8e+'\x22>'+_0x278d8e+'</option>')[_0x38d53f(0x182)](''),_0x1d968b[_0x38d53f(0x65e)]=![];const _0x40b193=Array[_0x38d53f(0x79d)](_0x1d968b[_0x38d53f(0x7a2)])['map'](_0x2c7cd6=>_0x2c7cd6[_0x38d53f(0x7c0)]);if(_0x44fd20&&_0x40b193['includes'](_0x44fd20))_0x1d968b[_0x38d53f(0x7c0)]=_0x44fd20,_0x1d968b[_0x38d53f(0x1ba)](new Event(_0x38d53f(0x76e)));else _0x1a8c19[_0x38d53f(0x8a4)][_0x38d53f(0x47b)]===0x1&&(_0x1d968b[_0x38d53f(0x7c0)]=_0x1a8c19[_0x38d53f(0x8a4)][0x0],_0x1d968b[_0x38d53f(0x1ba)](new Event(_0x38d53f(0x76e))));};if(_0x1a8c19[_0x3e7faa(0x59a)]?.['isPasscodeEnabled']){if(sessionStorage[_0x3e7faa(0x175)](_0x3e7faa(0x2db)+_0x33ca90)===_0x3e7faa(0x78c)){_0x16eb6f();return;}const _0x259a61=document['getElementById']('project-passcode-modal'),_0x2348bf=document['getElementById'](_0x3e7faa(0x6f1)),_0x48f1d7=document['getElementById'](_0x3e7faa(0x4f9)),_0x438cec=document['getElementById']('student-passcode-input'),_0x12bfcc=document[_0x3e7faa(0x36b)](_0x3e7faa(0x67f));document[_0x3e7faa(0x36b)](_0x3e7faa(0x527))[_0x3e7faa(0x6e3)]='สำหรับโปรเจค:\x20'+_0x1a8c19[_0x3e7faa(0x7df)],_0x438cec[_0x3e7faa(0x7c0)]='',_0x12bfcc['classList'][_0x3e7faa(0x90a)]('hidden'),_0x259a61[_0x3e7faa(0x3e0)][_0x3e7faa(0x691)](_0x3e7faa(0x20f));const _0x3d3e15=()=>{const _0x14e0f2=_0x3e7faa,_0x17dfd0=_0x438cec[_0x14e0f2(0x7c0)][_0x14e0f2(0x52d)]();_0x17dfd0===_0x1a8c19[_0x14e0f2(0x59a)][_0x14e0f2(0x1d8)]?(sessionStorage['setItem'](_0x14e0f2(0x2db)+_0x33ca90,_0x14e0f2(0x78c)),_0x259a61['classList'][_0x14e0f2(0x90a)](_0x14e0f2(0x20f)),_0x16eb6f(),_0x2348bf['removeEventListener'](_0x14e0f2(0x3d5),_0x3d3e15)):_0x12bfcc[_0x14e0f2(0x3e0)][_0x14e0f2(0x691)]('hidden');};_0x2348bf[_0x3e7faa(0x570)]=_0x3d3e15,_0x48f1d7['onclick']=()=>{const _0x357087=_0x3e7faa;_0x259a61['classList']['add']('hidden'),_0x3d7c4c[_0x357087(0x7c0)]='',_0x2348bf[_0x357087(0x77a)](_0x357087(0x3d5),_0x3d3e15);};}else _0x16eb6f();},_0x1d968b[_0x154ba8(0x7a6)]=()=>{const _0x53ef32=_0x3d7c4c['value'],_0x279f40=_0x1d968b['value'];_0x53ef32&&_0x279f40&&renderStudentProgressDashboard(_0x53ef32,_0x279f40);};}async function renderStudentProgressDashboard(_0x5aca93,_0x1d6e45){const _0x366cf5=_0x4247c8,_0x121bbe=document[_0x366cf5(0x36b)](_0x366cf5(0x593));_0x121bbe[_0x366cf5(0x48a)]=_0x366cf5(0x778);try{const _0x5a0dc4=collection(db,_0x366cf5(0x302)+appId+_0x366cf5(0x42f)),_0x359226=query(_0x5a0dc4,where('projectId','==',_0x5aca93)),_0x633757=await getDocs(_0x359226),_0x5a4e89=_0x633757[_0x366cf5(0x591)][_0x366cf5(0x1c2)](_0xf72f3a=>({'id':_0xf72f3a['id'],..._0xf72f3a[_0x366cf5(0x6d4)]()})),_0xbb6483=_0x5a4e89['map'](_0x44f53d=>getDoc(doc(db,_0x366cf5(0x302)+appId+'/public/data/quizzes/'+_0x44f53d['id']+_0x366cf5(0x168),_0x1d6e45))),_0x54de93=await Promise[_0x366cf5(0x77d)](_0xbb6483),_0xb03f50=_0x54de93[_0x366cf5(0x42c)](_0x39e2dc=>_0x39e2dc[_0x366cf5(0x747)]())[_0x366cf5(0x1c2)](_0x5d6cc3=>({'quizId':_0x5d6cc3[_0x366cf5(0x4dd)][_0x366cf5(0x35d)]['parent']['id'],..._0x5d6cc3[_0x366cf5(0x6d4)]()}));if(_0xb03f50[_0x366cf5(0x47b)]===0x0){_0x121bbe[_0x366cf5(0x48a)]=_0x366cf5(0x4d1);return;}let _0x83af2f=_0x366cf5(0x52a);_0xb03f50['forEach'](_0x446e91=>{const _0x2c6dde=_0x366cf5,_0x1947d9=_0x5a4e89[_0x2c6dde(0x1c5)](_0x369f45=>_0x369f45['id']===_0x446e91[_0x2c6dde(0x3a4)]),_0x5010fc=_0x1947d9['settings']?.[_0x2c6dde(0x6fd)]||_0x2c6dde(0x79a),_0x4e3d78=_0x1947d9['settings']?.[_0x2c6dde(0x15e)]??0x0,_0x259206=_0x446e91['bestScore']>=_0x4e3d78;let _0x3a76fb='',_0x2ef627=_0x2c6dde(0x3dc);switch(_0x5010fc){case'show_results_and_answers':case _0x2c6dde(0x1e2):_0x2ef627=_0x259206?'bg-green-50':'bg-red-50',_0x3a76fb=_0x2c6dde(0x6fe)+(_0x259206?_0x2c6dde(0x26f):'text-red-700')+'\x22>'+_0x446e91['bestScore']+_0x2c6dde(0x690)+_0x446e91[_0x2c6dde(0x704)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x259206?_0x2c6dde(0x13f):'bg-red-200\x20text-red-800')+'\x22>'+(_0x259206?_0x2c6dde(0x7f4):_0x2c6dde(0x4a8))+_0x2c6dde(0x731);break;case _0x2c6dde(0x8b3):_0x2ef627=_0x259206?_0x2c6dde(0x882):_0x2c6dde(0x22a),_0x3a76fb=_0x2c6dde(0x7b5)+(_0x259206?_0x2c6dde(0x13f):'bg-red-200\x20text-red-800')+'\x22>'+(_0x259206?'ผ่าน':'ไม่ผ่าน')+_0x2c6dde(0x731);break;case'manual_release':_0x2ef627=_0x2c6dde(0x7ca),_0x3a76fb=_0x2c6dde(0x2ec);break;}_0x83af2f+=_0x2c6dde(0x84c)+_0x2ef627+_0x2c6dde(0x8dc)+_0x1947d9[_0x2c6dde(0x761)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x446e91['attempts'][_0x2c6dde(0x47b)]+_0x2c6dde(0x8bd)+new Date(_0x446e91[_0x2c6dde(0x505)])[_0x2c6dde(0x35f)](_0x2c6dde(0x78e))+_0x2c6dde(0x2f2)+_0x3a76fb+_0x2c6dde(0x3ae);}),_0x83af2f+='</div>',_0x121bbe[_0x366cf5(0x48a)]=_0x83af2f;}catch(_0x33eae7){console[_0x366cf5(0x43a)](_0x366cf5(0x90b),_0x33eae7),_0x121bbe['innerHTML']=_0x366cf5(0x157);}}function setupStudentProgressListeners(){const _0x187c2a=_0x4247c8;document[_0x187c2a(0x36b)]('view-my-progress-btn')[_0x187c2a(0x889)]('click',showStudentProgressView),document['getElementById'](_0x187c2a(0x461))[_0x187c2a(0x889)](_0x187c2a(0x3d5),()=>{const _0x3931b0=_0x187c2a;document[_0x3931b0(0x36b)]('student-progress-view')[_0x3931b0(0x3e0)][_0x3931b0(0x90a)](_0x3931b0(0x20f)),document[_0x3931b0(0x36b)](_0x3931b0(0x7b1))[_0x3931b0(0x3e0)][_0x3931b0(0x691)](_0x3931b0(0x20f));});}async function startSkillPractice(_0x4f143c){const _0x2facda=_0x4247c8;studentResultArea[_0x2facda(0x3e0)]['add'](_0x2facda(0x20f)),studentQuizArea[_0x2facda(0x48a)]=_0x2facda(0x24a),studentQuizArea[_0x2facda(0x3e0)][_0x2facda(0x691)](_0x2facda(0x20f));try{const _0x3ffee9=await getStandardizedTopic(_0x4f143c);console[_0x2facda(0x25e)](_0x2facda(0x2e3)+_0x4f143c+_0x2facda(0x735)+_0x3ffee9+'\x22'),studentQuizArea[_0x2facda(0x788)]('p')['textContent']=_0x2facda(0x270)+_0x3ffee9+_0x2facda(0x209);const _0x4ec898=collection(db,_0x2facda(0x302)+appId+_0x2facda(0x7b2)),_0x3213c7=query(_0x4ec898,where(_0x2facda(0x761),'==',_0x3ffee9)),_0x5ed7ae=await getDocs(_0x3213c7);if(_0x5ed7ae[_0x2facda(0x591)][_0x2facda(0x47b)]>=0x3){console[_0x2facda(0x25e)](_0x2facda(0x2e6)+_0x5ed7ae['docs']['length']+_0x2facda(0x5bb)+_0x3ffee9+_0x2facda(0x820));let _0x151ffe=_0x5ed7ae[_0x2facda(0x591)][_0x2facda(0x1c2)](_0x4d0e7b=>_0x4d0e7b['data']());shuffleArray(_0x151ffe);const _0x31530a={'topic':_0x3ffee9,'questions':_0x151ffe[_0x2facda(0x67e)](0x0,0x3)};displaySkillPracticeDrill(_0x31530a);}else{console[_0x2facda(0x25e)](_0x2facda(0x5b6)+_0x3ffee9+_0x2facda(0x17b));const _0x35c5e9=await generatePracticeQuestions(_0x3ffee9);await saveDrillToPracticeBank(_0x35c5e9,_0x3ffee9),displaySkillPracticeDrill(_0x35c5e9);}}catch(_0x30ec77){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x30ec77),showMessage(_0x2facda(0x8fe)),studentQuizArea[_0x2facda(0x3e0)]['add']('hidden'),studentResultArea[_0x2facda(0x3e0)]['remove'](_0x2facda(0x20f));}}async function saveDrillToPracticeBank(_0x3b02d9,_0x193f21){const _0x563680=_0x4247c8,_0x46b4a9=collection(db,_0x563680(0x302)+appId+_0x563680(0x7b2)),_0x1a8c59=writeBatch(db);_0x3b02d9[_0x563680(0x4d7)]['forEach'](_0x23a904=>{const _0x5fa22e=_0x563680,_0x94e315=doc(_0x46b4a9);_0x1a8c59[_0x5fa22e(0x7a7)](_0x94e315,{'topic':_0x193f21,'questionText':_0x23a904['questionText'],'options':_0x23a904['options'],'correctAnswerIndex':_0x23a904[_0x5fa22e(0x559)],'explanation':_0x23a904[_0x5fa22e(0x812)],'createdAt':serverTimestamp()});});try{await _0x1a8c59[_0x563680(0x59b)](),console[_0x563680(0x25e)]('บันทึกคำถามใหม่\x20'+_0x3b02d9[_0x563680(0x4d7)][_0x563680(0x47b)]+_0x563680(0x179));}catch(_0x126a01){console[_0x563680(0x43a)](_0x563680(0x57a),_0x126a01);}}async function getStandardizedTopic(_0x377718){const _0x15fb3f=_0x4247c8,_0x59dda3=_0x15fb3f(0x28d)+_0x377718+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x298e47={'type':_0x15fb3f(0x659),'properties':{'standardTopic':{'type':_0x15fb3f(0x784)}},'required':['standardTopic']};try{const _0x414cdb=await callAnalysisApi(_0x59dda3,_0x298e47);return _0x414cdb[_0x15fb3f(0x40d)];}catch(_0x314f40){return console[_0x15fb3f(0x43a)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x314f40),_0x377718;}}async function handleGenerateEasyVersionQuiz(_0x25f717){const _0x3be57c=_0x4247c8;showConfirmation(_0x3be57c(0x5f5),async()=>{const _0x2a87cb=_0x3be57c;showMessage(_0x2a87cb(0x11b));try{const _0x1e920e=allQuizzes[_0x2a87cb(0x1c5)](_0x1740c0=>_0x1740c0['id']===_0x25f717);if(!_0x1e920e)throw new Error(_0x2a87cb(0x6c3));const _0x59589d=_0x2a87cb(0x771)+JSON[_0x2a87cb(0x549)](_0x1e920e[_0x2a87cb(0x4d7)])+_0x2a87cb(0x5d4),_0x2e4921={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x2a87cb(0x41e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2a87cb(0x596)},'idealAnswer':{'type':_0x2a87cb(0x784)},'explanation':{'type':_0x2a87cb(0x784)},'imageCode':{'type':_0x2a87cb(0x784)}},'required':[_0x2a87cb(0x35e),'questionType',_0x2a87cb(0x812)]},_0x29699e={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x2e4921}},'required':[_0x2a87cb(0x4d7)]},_0x2f64bd=await callAnalysisApi(_0x59589d,_0x29699e);_0x2f64bd&&_0x2f64bd['questions']&&_0x2f64bd[_0x2a87cb(0x4d7)][_0x2a87cb(0x204)](_0x12e9e6=>{const _0x35fa67=_0x2a87cb;_0x12e9e6[_0x35fa67(0x35e)]&&(_0x12e9e6[_0x35fa67(0x35e)]=_0x12e9e6['questionText']['trim']()[_0x35fa67(0x134)](/,$/,'')[_0x35fa67(0x52d)]());_0x12e9e6[_0x35fa67(0x7a2)]&&Array['isArray'](_0x12e9e6[_0x35fa67(0x7a2)])&&(_0x12e9e6['options']=_0x12e9e6[_0x35fa67(0x7a2)]['map'](_0x4a7828=>_0x4a7828||_0x35fa67(0x648)));if(_0x12e9e6[_0x35fa67(0x3b1)]){const _0x1aae78=_0x12e9e6[_0x35fa67(0x3b1)][_0x35fa67(0x52d)]();_0x1aae78===''||_0x1aae78[_0x35fa67(0x14b)]()===_0x35fa67(0x385)||!_0x1aae78['startsWith'](_0x35fa67(0x38a))?delete _0x12e9e6[_0x35fa67(0x3b1)]:_0x12e9e6[_0x35fa67(0x3b1)]=_0x1aae78;}});if(!_0x2f64bd||!_0x2f64bd[_0x2a87cb(0x4d7)]||_0x2f64bd[_0x2a87cb(0x4d7)][_0x2a87cb(0x47b)]===0x0)throw new Error(_0x2a87cb(0x779));const _0x21e9ea={'projectId':_0x1e920e[_0x2a87cb(0x69a)],'quizType':_0x1e920e[_0x2a87cb(0x1bb)],'settings':_0x1e920e['settings'],'createdBy':_0x1e920e[_0x2a87cb(0x884)],'status':_0x2a87cb(0x599),'topic':_0x2a87cb(0x3f6)+_0x1e920e[_0x2a87cb(0x761)],'questions':_0x2f64bd[_0x2a87cb(0x4d7)],'createdAt':new Date()['toISOString'](),'quizMode':_0x2a87cb(0x572),'pairedQuizId':null};let _0x11c8f8;while(!![]){_0x11c8f8=Math[_0x2a87cb(0x6e5)](0x3e8+Math[_0x2a87cb(0x509)]()*0x2328)[_0x2a87cb(0x4d5)]();const _0x2de7fd=await getDoc(doc(db,'artifacts/'+appId+_0x2a87cb(0x42f),_0x11c8f8));if(!_0x2de7fd[_0x2a87cb(0x747)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2a87cb(0x42f),_0x11c8f8),_0x21e9ea),showMessage(_0x2a87cb(0x709));}catch(_0x53dbe1){console[_0x2a87cb(0x43a)](_0x2a87cb(0x69d),_0x53dbe1),showMessage(_0x2a87cb(0x856)+_0x53dbe1[_0x2a87cb(0x7be)]);}});}async function generatePracticeQuestions(_0x3dc1a3){const _0x290276=_0x4247c8,_0x12c835=_0x290276(0x335)+_0x3dc1a3+_0x290276(0x54b)+simpleMathPrompt+_0x290276(0x1e1),_0x4127b2={'type':'OBJECT','properties':{'questionText':{'type':_0x290276(0x784)},'options':{'type':'ARRAY','items':{'type':_0x290276(0x784)}},'correctAnswerIndex':{'type':_0x290276(0x596)},'explanation':{'type':'STRING'}},'required':[_0x290276(0x35e),_0x290276(0x7a2),_0x290276(0x559),'explanation']},_0x24e1d5={'type':_0x290276(0x659),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x290276(0x41e),'items':_0x4127b2}},'required':[_0x290276(0x761),_0x290276(0x4d7)]};return await callAnalysisApi(_0x12c835,_0x24e1d5);}function displayLessonPlan(_0x153676,_0x4d94ce){const _0x5ecbac=_0x4247c8,_0x587c22=_0x5ecbac(0x6f3)+_0x4d94ce['topic']+_0x5ecbac(0x2c3)+_0x153676[_0x5ecbac(0x376)][_0x5ecbac(0x1c2)](_0xebf2e2=>_0x5ecbac(0x793)+_0xebf2e2+_0x5ecbac(0x1e3))[_0x5ecbac(0x182)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x153676[_0x5ecbac(0x5d3)]+_0x5ecbac(0x86b)+_0x153676['practiceProblems']['map'](_0x237ead=>_0x5ecbac(0x272)+_0x237ead[_0x5ecbac(0x838)]+_0x5ecbac(0x1d5)+_0x237ead[_0x5ecbac(0x2a7)]+_0x5ecbac(0x82a))['join']('')+_0x5ecbac(0x111);document['getElementById']('lesson-plan-title')[_0x5ecbac(0x6e3)]=_0x5ecbac(0x25a)+_0x4d94ce[_0x5ecbac(0x761)],document[_0x5ecbac(0x36b)](_0x5ecbac(0x26a))[_0x5ecbac(0x48a)]=_0x587c22,document[_0x5ecbac(0x36b)](_0x5ecbac(0x1f3))['classList']['remove'](_0x5ecbac(0x20f));if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x127de6){const _0x1915d2=_0x4247c8;let _0x4fcc85=0x0;const _0x2a4b9e=_0x127de6[_0x1915d2(0x4d7)],_0x1af5cc=()=>{const _0x2f5ae3=_0x1915d2,_0x2528f8=_0x2a4b9e[_0x4fcc85],_0x55997b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x4fcc85+0x1)+'\x20/\x20'+_0x2a4b9e[_0x2f5ae3(0x47b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x2528f8['questionText']+_0x2f5ae3(0x8b9)+_0x2528f8[_0x2f5ae3(0x7a2)][_0x2f5ae3(0x1c2)]((_0x4eb6d9,_0x1fb560)=>_0x2f5ae3(0x913)+_0x1fb560+_0x2f5ae3(0x280)+_0x1fb560+_0x2f5ae3(0x7a8)+_0x1fb560+'\x22>'+_0x4eb6d9+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x2f5ae3(0x48a)]=_0x55997b;if(window[_0x2f5ae3(0x5cd)])MathJax[_0x2f5ae3(0x301)]([studentQuizArea]);document[_0x2f5ae3(0x36b)](_0x2f5ae3(0x8dd))[_0x2f5ae3(0x889)](_0x2f5ae3(0x3d5),async()=>{const _0x3ca929=_0x2f5ae3,_0x4440eb=await getHintForQuestion(_0x2528f8[_0x3ca929(0x35e)]);showMessage(_0x4440eb);}),document[_0x2f5ae3(0x36b)]('check-answer-btn')[_0x2f5ae3(0x889)](_0x2f5ae3(0x3d5),()=>{const _0x4556b6=_0x2f5ae3,_0x1bc6b8=document[_0x4556b6(0x788)]('input[name=\x22drill_answer\x22]:checked');if(!_0x1bc6b8){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x3c4282=document[_0x4556b6(0x36b)](_0x4556b6(0x53d)),_0x183ef7=parseInt(_0x1bc6b8[_0x4556b6(0x7c0)])===_0x2528f8[_0x4556b6(0x559)];_0x183ef7?(_0x3c4282[_0x4556b6(0x71f)]=_0x4556b6(0x174),_0x3c4282[_0x4556b6(0x48a)]=_0x4556b6(0x102)+_0x2528f8[_0x4556b6(0x812)]):(_0x3c4282[_0x4556b6(0x71f)]=_0x4556b6(0x73b),_0x3c4282[_0x4556b6(0x48a)]=_0x4556b6(0x855)+_0x2528f8[_0x4556b6(0x812)]);_0x3c4282[_0x4556b6(0x3e0)]['remove']('hidden');if(window[_0x4556b6(0x5cd)])MathJax[_0x4556b6(0x301)]([_0x3c4282]);document[_0x4556b6(0x36b)]('check-answer-btn')[_0x4556b6(0x3e0)][_0x4556b6(0x90a)]('hidden'),document[_0x4556b6(0x36b)]('hint-btn')[_0x4556b6(0x3e0)][_0x4556b6(0x90a)](_0x4556b6(0x20f)),document[_0x4556b6(0x36b)](_0x4556b6(0x4ee))[_0x4556b6(0x3e0)][_0x4556b6(0x691)](_0x4556b6(0x20f));}),document[_0x2f5ae3(0x36b)]('next-drill-btn')[_0x2f5ae3(0x889)](_0x2f5ae3(0x3d5),()=>{const _0xf5875f=_0x2f5ae3;_0x4fcc85++,_0x4fcc85<_0x2a4b9e[_0xf5875f(0x47b)]?_0x1af5cc():(studentQuizArea['innerHTML']=_0xf5875f(0x8bf),document[_0xf5875f(0x36b)](_0xf5875f(0x22c))[_0xf5875f(0x889)](_0xf5875f(0x3d5),()=>{const _0x5604b8=_0xf5875f;studentQuizArea[_0x5604b8(0x3e0)][_0x5604b8(0x90a)](_0x5604b8(0x20f)),studentResultArea[_0x5604b8(0x3e0)][_0x5604b8(0x691)](_0x5604b8(0x20f));}));});};_0x1af5cc();}async function getHintForQuestion(_0x4d90a5){const _0x390111=_0x4247c8,_0x2248de='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x4d90a5+_0x390111(0x5c1),_0x551432={'type':_0x390111(0x659),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x14ead1=await callAnalysisApi(_0x2248de,_0x551432);return _0x14ead1['hint'];}catch(_0x1b6e63){return console[_0x390111(0x43a)](_0x390111(0x7ac),_0x1b6e63),_0x390111(0x2a5);}}async function extractTextFromPdf(_0x32cbd7){const _0x342f08=_0x4247c8;pdfjsLib[_0x342f08(0x451)][_0x342f08(0x17e)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x5afc8e=await _0x32cbd7[_0x342f08(0x2b7)](),_0x4ee279=await pdfjsLib['getDocument'](_0x5afc8e)[_0x342f08(0x350)],_0x159bf9=_0x4ee279[_0x342f08(0x6bb)];let _0x509cb8='';for(let _0x2e5029=0x1;_0x2e5029<=_0x159bf9;_0x2e5029++){const _0x33ab61=await _0x4ee279[_0x342f08(0x355)](_0x2e5029),_0x18c5d3=await _0x33ab61[_0x342f08(0x3e5)](),_0x252fee=_0x18c5d3[_0x342f08(0x5af)][_0x342f08(0x1c2)](_0x4e3a1f=>_0x4e3a1f[_0x342f08(0x713)])[_0x342f08(0x182)]('\x20');_0x509cb8+=_0x252fee+'\x0a\x0a';}return _0x509cb8;}async function handleGenerateFromBlueprint(){const _0x21951b=_0x4247c8,_0x2296f4=document[_0x21951b(0x36b)](_0x21951b(0x79f)),_0x4c850d=document[_0x21951b(0x36b)](_0x21951b(0x19a)),_0x2108fd=_0x2296f4[_0x21951b(0x686)][0x0],_0x12be87=_0x4c850d['files'][_0x21951b(0x47b)]>0x0?_0x4c850d[_0x21951b(0x686)][0x0]:null;if(!_0x2108fd){showMessage(_0x21951b(0x426));return;}const _0xd49633=document[_0x21951b(0x36b)](_0x21951b(0x367)),_0x5d02d5=document[_0x21951b(0x36b)](_0x21951b(0x6a1)),_0x17dde2=document[_0x21951b(0x36b)](_0x21951b(0x202)),_0x3c5705=document[_0x21951b(0x36b)]('generate-from-blueprint-btn');_0x3c5705[_0x21951b(0x65e)]=!![],document[_0x21951b(0x36b)](_0x21951b(0x76d))[_0x21951b(0x3e0)][_0x21951b(0x691)](_0x21951b(0x20f)),_0x17dde2[_0x21951b(0x48a)]='',_0xd49633[_0x21951b(0x3e0)][_0x21951b(0x691)]('hidden');try{_0x5d02d5[_0x21951b(0x6e3)]=_0x21951b(0x4a2);const _0x1c3e24=await extractTextFromPdf(_0x2108fd);if(!_0x1c3e24['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x14e80c='';_0x12be87&&(_0x5d02d5['textContent']=_0x21951b(0x7c8),_0x14e80c=await extractTextFromPdf(_0x12be87));_0x5d02d5[_0x21951b(0x6e3)]=_0x21951b(0x3ca);const _0x3ae3ff=document[_0x21951b(0x36b)](_0x21951b(0x627))[_0x21951b(0x57f)],_0x18869a=_0x3ae3ff?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0xe3546e=_0x14e80c?_0x21951b(0x6c1)+_0x14e80c+_0x21951b(0x63d):'',_0x5e9367=_0x21951b(0x74b)+(_0x14e80c?_0x21951b(0x105):'')+_0x21951b(0x1fc)+_0x1c3e24+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe3546e+_0x21951b(0x481)+_0x18869a+_0x21951b(0x610)+simpleMathPrompt+_0x21951b(0x424),_0x48856={'type':_0x21951b(0x659),'properties':{'questionText':{'type':_0x21951b(0x784)},'questionType':{'type':'STRING','enum':[_0x21951b(0x795),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x21951b(0x784)}},'correctAnswerIndex':{'type':_0x21951b(0x596)},'idealAnswer':{'type':_0x21951b(0x784)},'explanation':{'type':_0x21951b(0x784)},'imageCode':{'type':_0x21951b(0x784)}},'required':['questionText',_0x21951b(0x402),_0x21951b(0x812)]},_0x54d691={'type':_0x21951b(0x659),'properties':{'topic':{'type':_0x21951b(0x784)},'questions':{'type':'ARRAY','items':_0x48856}},'required':[_0x21951b(0x761),_0x21951b(0x4d7)]};await handleApiCall(_0x5e9367,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x54d691);}catch(_0x20eff6){console[_0x21951b(0x43a)]('Error\x20generating\x20from\x20blueprint:',_0x20eff6),showMessage(_0x21951b(0x856)+_0x20eff6[_0x21951b(0x7be)]),_0x17dde2['innerHTML']=_0x21951b(0x1f2);}finally{_0xd49633[_0x21951b(0x3e0)][_0x21951b(0x90a)](_0x21951b(0x20f)),_0x3c5705['disabled']=![];}}async function handleGenerateParallelFromBank(_0x304b55){const _0x469c23=_0x4247c8;switchProjectTab(_0x469c23(0x50b));const _0x22a1d7=document[_0x469c23(0x36b)]('loader'),_0x4897fa=document[_0x469c23(0x36b)](_0x469c23(0x6a1)),_0x78c23f=document[_0x469c23(0x36b)]('generated-quiz-container');document[_0x469c23(0x36b)](_0x469c23(0x76d))[_0x469c23(0x3e0)]['remove'](_0x469c23(0x20f)),_0x78c23f[_0x469c23(0x48a)]='',_0x22a1d7['classList'][_0x469c23(0x691)]('hidden'),_0x4897fa['textContent']='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x304b55[_0x469c23(0x761)]+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x332974=_0x304b55[_0x469c23(0x4d7)][_0x469c23(0x1c2)]((_0x340970,_0x56b53f)=>{const _0x2491b0=_0x469c23;let _0x34f752=_0x56b53f+0x1+'.\x20'+(_0x340970[_0x2491b0(0x35e)]||_0x340970[_0x2491b0(0x3cd)])+'\x0a';if(_0x340970[_0x2491b0(0x7a2)])_0x34f752+=_0x340970[_0x2491b0(0x7a2)][_0x2491b0(0x1c2)]((_0x89557e,_0x1487fe)=>'\x20\x20\x20-\x20'+(_0x1487fe===_0x340970['correctAnswerIndex']?_0x2491b0(0x217):'')+'\x20'+_0x89557e)[_0x2491b0(0x182)]('\x0a');else _0x340970['idealAnswer']&&(_0x34f752+=_0x2491b0(0x932)+_0x340970['idealAnswer']);return _0x34f752;})[_0x469c23(0x182)]('\x0a\x0a');_0x4897fa[_0x469c23(0x6e3)]=_0x469c23(0x786);const _0x525476=_0x304b55[_0x469c23(0x4d7)][_0x469c23(0x47b)],_0x2033aa=_0x469c23(0x15f)+_0x304b55[_0x469c23(0x761)]+_0x469c23(0x3c9)+_0x525476+_0x469c23(0x6b2)+_0x332974+_0x469c23(0x4ba)+_0x525476+_0x469c23(0x164)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x54dba3={'type':_0x469c23(0x659),'properties':{'questionText':{'type':_0x469c23(0x784)},'questionType':{'type':_0x469c23(0x784),'enum':['multiple_choice',_0x469c23(0x510),_0x469c23(0x4ef),_0x469c23(0x8fa)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x469c23(0x596)},'idealAnswer':{'type':_0x469c23(0x784)},'correctAnswer':{'type':_0x469c23(0x8ce)},'stem':{'type':_0x469c23(0x784)},'correctResponse':{'type':_0x469c23(0x784)},'allResponses':{'type':_0x469c23(0x41e),'items':{'type':_0x469c23(0x784)}},'explanation':{'type':_0x469c23(0x784)},'imageCode':{'type':'STRING'}},'required':[_0x469c23(0x35e),'questionType',_0x469c23(0x812)]},_0x40ff9f={'type':'OBJECT','properties':{'topic':{'type':_0x469c23(0x784)},'questions':{'type':_0x469c23(0x41e),'items':_0x54dba3}},'required':[_0x469c23(0x761),'questions']},_0x5416cc=await callAnalysisApi(_0x2033aa,_0x40ff9f);_0x5416cc[_0x469c23(0x4d7)]['length']>_0x525476&&(_0x5416cc[_0x469c23(0x4d7)]=_0x5416cc[_0x469c23(0x4d7)][_0x469c23(0x67e)](0x0,_0x525476)),_0x5416cc[_0x469c23(0x761)]=_0x469c23(0x867)+_0x304b55[_0x469c23(0x761)],_0x5416cc[_0x469c23(0x1bb)]=_0x304b55[_0x469c23(0x1bb)],currentQuizData=_0x5416cc,displayGeneratedQuiz(_0x5416cc),document[_0x469c23(0x36b)](_0x469c23(0x534))[_0x469c23(0x754)]({'behavior':_0x469c23(0x2d8)});}catch(_0x527fb7){console[_0x469c23(0x43a)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x527fb7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x527fb7['message']),_0x78c23f[_0x469c23(0x48a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x22a1d7['classList'][_0x469c23(0x90a)](_0x469c23(0x20f));}}async function handleGenerateParallelPostTest(_0x556985){const _0x15cb58=_0x4247c8,_0x325890=document[_0x15cb58(0x36b)](_0x15cb58(0x8ec)),_0x4132e7=document[_0x15cb58(0x36b)](_0x15cb58(0x65b));_0x4132e7['classList'][_0x15cb58(0x90a)](_0x15cb58(0x20f));const _0x4bd1bb=_0x15cb58(0xfc);_0x325890['insertAdjacentHTML']('beforeend',_0x4bd1bb);try{const _0x463e6b=_0x556985[_0x15cb58(0x4d7)][_0x15cb58(0x1c2)]((_0x13816d,_0x46be4b)=>{const _0x49e5c3=_0x15cb58;let _0x3423a7=_0x46be4b+0x1+'.\x20'+(_0x13816d['questionText']||_0x13816d['stem']);if(_0x13816d[_0x49e5c3(0x7a2)])_0x3423a7+=_0x49e5c3(0x89b)+_0x13816d['options'][_0x49e5c3(0x182)](',\x20');return _0x3423a7;})[_0x15cb58(0x182)]('\x0a\x0a'),_0x338cd2=_0x15cb58(0x10d)+_0x556985[_0x15cb58(0x761)]+_0x15cb58(0x540)+_0x463e6b+_0x15cb58(0x4c5)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x224ff4={'type':_0x15cb58(0x659),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x15cb58(0x659),'properties':{'questionText':{'type':_0x15cb58(0x784)},'questionType':{'type':_0x15cb58(0x784)},'options':{'type':_0x15cb58(0x41e),'items':{'type':_0x15cb58(0x784)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x15cb58(0x784)},'explanation':{'type':_0x15cb58(0x784)}},'required':[_0x15cb58(0x35e),_0x15cb58(0x812)]}}},'required':[_0x15cb58(0x761),'questions']},_0x4b12cf=await callAnalysisApi(_0x338cd2,_0x224ff4),_0x4ee0fb=_0x556985[_0x15cb58(0x761)]['replace'](_0x15cb58(0x819),'')['trim'](),_0x4146a3='(หลังเรียน)\x20'+_0x4ee0fb,_0x1a354b={..._0x4b12cf,'topic':_0x4146a3,'quizType':_0x556985[_0x15cb58(0x1bb)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x15cb58(0x6be)](),'status':_0x15cb58(0x599),'settings':_0x556985['settings'],'quizMode':_0x15cb58(0x92b),'pairedQuizId':_0x556985['id']};let _0x3fefef;while(!![]){_0x3fefef=Math['floor'](0x3e8+Math[_0x15cb58(0x509)]()*0x2328)['toString']();const _0x47d09c=await getDoc(doc(db,'artifacts/'+appId+_0x15cb58(0x42f),_0x3fefef));if(!_0x47d09c['exists']())break;}await setDoc(doc(db,_0x15cb58(0x302)+appId+_0x15cb58(0x42f),_0x3fefef),_0x1a354b);const _0x52402f=doc(db,_0x15cb58(0x302)+appId+_0x15cb58(0x42f),_0x556985['id']);await updateDoc(_0x52402f,{'pairedQuizId':_0x3fefef}),showMessage(_0x15cb58(0x6c5));}catch(_0x4515df){console[_0x15cb58(0x43a)](_0x15cb58(0x5f2),_0x4515df),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4515df[_0x15cb58(0x7be)]);}finally{const _0x427eaf=document[_0x15cb58(0x36b)]('temp-loader-results');if(_0x427eaf)_0x427eaf[_0x15cb58(0x691)]();_0x4132e7[_0x15cb58(0x3e0)][_0x15cb58(0x691)]('hidden');}}async function handleGenerateParallelTest(){const _0x1fb7e0=_0x4247c8,_0x3376ba=document[_0x1fb7e0(0x36b)]('parallel-test-upload-input'),_0xd53820=_0x3376ba['files'][0x0];if(!_0xd53820){showMessage(_0x1fb7e0(0x675));return;}const _0x23bc22=document[_0x1fb7e0(0x36b)](_0x1fb7e0(0x367)),_0x489f38=document[_0x1fb7e0(0x36b)](_0x1fb7e0(0x6a1)),_0x31ea79=document[_0x1fb7e0(0x36b)](_0x1fb7e0(0x202)),_0x2e4861=document['getElementById'](_0x1fb7e0(0x2bb));_0x2e4861[_0x1fb7e0(0x65e)]=!![],document[_0x1fb7e0(0x36b)](_0x1fb7e0(0x76d))[_0x1fb7e0(0x3e0)][_0x1fb7e0(0x691)](_0x1fb7e0(0x20f)),_0x31ea79[_0x1fb7e0(0x48a)]='',_0x23bc22[_0x1fb7e0(0x3e0)][_0x1fb7e0(0x691)](_0x1fb7e0(0x20f)),_0x489f38[_0x1fb7e0(0x6e3)]=_0x1fb7e0(0x877);try{const _0x1980ec=await extractTextFromPdf(_0xd53820);if(!_0x1980ec[_0x1fb7e0(0x52d)]())throw new Error(_0x1fb7e0(0x529));_0x489f38[_0x1fb7e0(0x6e3)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1935ad=document[_0x1fb7e0(0x36b)](_0x1fb7e0(0x627))[_0x1fb7e0(0x57f)],_0x5f06d5=_0x1935ad?_0x1fb7e0(0x53f):'',_0x4b2c20=_0x1fb7e0(0x43d)+_0x1980ec+_0x1fb7e0(0x905)+_0x5f06d5+_0x1fb7e0(0x610)+simpleMathPrompt+_0x1fb7e0(0x424),_0x41a3d8={'type':_0x1fb7e0(0x659),'properties':{'questionText':{'type':_0x1fb7e0(0x784)},'questionType':{'type':_0x1fb7e0(0x784),'enum':['multiple_choice',_0x1fb7e0(0x510)]},'options':{'type':'ARRAY','items':{'type':_0x1fb7e0(0x784)}},'correctAnswerIndex':{'type':_0x1fb7e0(0x596)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1fb7e0(0x784)}},'required':['questionText',_0x1fb7e0(0x402),_0x1fb7e0(0x812)]},_0x18ee9a={'type':_0x1fb7e0(0x659),'properties':{'topic':{'type':_0x1fb7e0(0x784)},'questions':{'type':_0x1fb7e0(0x41e),'items':_0x41a3d8}},'required':[_0x1fb7e0(0x761),'questions']};await handleApiCall(_0x4b2c20,_0x1fb7e0(0x61b),_0x18ee9a);}catch(_0x4ccf3b){console[_0x1fb7e0(0x43a)](_0x1fb7e0(0x643),_0x4ccf3b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4ccf3b[_0x1fb7e0(0x7be)]),_0x31ea79[_0x1fb7e0(0x48a)]=_0x1fb7e0(0x3ec);}finally{_0x23bc22[_0x1fb7e0(0x3e0)]['add'](_0x1fb7e0(0x20f)),_0x2e4861[_0x1fb7e0(0x65e)]=![];}}async function handleRegenerateQuestionInEditor(_0x50e533){const _0x4a688c=_0x4247c8;if(currentEditingQuizData===null)return;const _0x580e93=document[_0x4a688c(0x788)]('.question-editor-item[data-q-index=\x22'+_0x50e533+'\x22]');_0x580e93&&(_0x580e93[_0x4a688c(0x48a)]=_0x4a688c(0x56e));const _0x82b674=currentEditingQuizData['questions'][_0x50e533],_0x451419=currentEditingQuizData[_0x4a688c(0x761)],_0x51bd64=_0x82b674[_0x4a688c(0x402)],_0x366272={'type':_0x4a688c(0x659),'properties':{'questionText':{'type':_0x4a688c(0x784)},'options':{'type':_0x4a688c(0x41e),'items':{'type':_0x4a688c(0x784)}},'correctAnswerIndex':{'type':_0x4a688c(0x596)},'explanation':{'type':_0x4a688c(0x784)}},'required':['questionText',_0x4a688c(0x7a2),_0x4a688c(0x559),'explanation']},_0x424342={'type':_0x4a688c(0x659),'properties':{'questionText':{'type':_0x4a688c(0x784)},'idealAnswer':{'type':_0x4a688c(0x784)},'explanation':{'type':_0x4a688c(0x784)}},'required':[_0x4a688c(0x35e),_0x4a688c(0x88a),_0x4a688c(0x812)]};let _0x28ab60,_0x21be74='';_0x51bd64===_0x4a688c(0x795)?(_0x28ab60=_0x366272,_0x21be74='แบบปรนัย\x204\x20ตัวเลือก'):(_0x28ab60=_0x424342,_0x21be74=_0x4a688c(0x186));const _0x5a8bec='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x451419+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x21be74+_0x4a688c(0x3fb)+(_0x82b674['questionText']||_0x82b674[_0x4a688c(0x3cd)])+_0x4a688c(0x5b5)+simpleMathPrompt;try{const _0xbdb591=await callAnalysisApi(_0x5a8bec,_0x28ab60);currentEditingQuizData[_0x4a688c(0x4d7)][_0x50e533]={..._0x82b674,..._0xbdb591},renderQuizEditor(currentEditingQuizData);}catch(_0x45a02a){console[_0x4a688c(0x43a)](_0x4a688c(0x6ff),_0x45a02a),showMessage(_0x4a688c(0x2a1)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5d809a=_0x4247c8,_0x35f3b0=document[_0x5d809a(0x36b)](_0x5d809a(0x307));currentMode===_0x5d809a(0x4c7)?(adminPasswordModal[_0x5d809a(0x3e0)]['remove'](_0x5d809a(0x20f)),document[_0x5d809a(0x36b)](_0x5d809a(0x475))[_0x5d809a(0x11e)]()):(currentMode=_0x5d809a(0x4c7),_0x35f3b0[_0x5d809a(0x48a)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x35f3b0[_0x5d809a(0x868)]=_0x5d809a(0x258),showView(_0x5d809a(0x4c7)));}function handleAdminLogin(){const _0x53664b=_0x4247c8,_0xecc306=document['getElementById'](_0x53664b(0x475)),_0x34720d=document[_0x53664b(0x36b)]('password-error-msg');if(_0xecc306[_0x53664b(0x7c0)]===_0x53664b(0x36f)){adminPasswordModal[_0x53664b(0x3e0)]['add']('hidden'),_0xecc306[_0x53664b(0x7c0)]='',_0x34720d[_0x53664b(0x3e0)][_0x53664b(0x90a)](_0x53664b(0x20f)),currentMode=_0x53664b(0x875);const _0x2a1cb3=document['getElementById'](_0x53664b(0x307));_0x2a1cb3[_0x53664b(0x48a)]=_0x53664b(0x5d8),_0x2a1cb3[_0x53664b(0x868)]=_0x53664b(0x3d6),showView('admin-dashboard');}else _0x34720d[_0x53664b(0x3e0)]['remove'](_0x53664b(0x20f)),_0xecc306[_0x53664b(0x7c0)]='';}function switchProjectTab(_0x1bcb07){const _0x3e1985=_0x4247c8;[_0x3e1985(0x50b),_0x3e1985(0x4c0),'leaderboard']['forEach'](_0x2bb658=>{const _0x34af56=_0x3e1985;document['getElementById'](_0x2bb658+_0x34af56(0x1d6))[_0x34af56(0x3e0)][_0x34af56(0x691)](_0x34af56(0x599)),document[_0x34af56(0x36b)](_0x2bb658+_0x34af56(0x8ee))[_0x34af56(0x3e0)][_0x34af56(0x90a)](_0x34af56(0x20f));}),document[_0x3e1985(0x36b)](_0x1bcb07+_0x3e1985(0x1d6))[_0x3e1985(0x3e0)]['add'](_0x3e1985(0x599)),document[_0x3e1985(0x36b)](_0x1bcb07+'-tab-content')[_0x3e1985(0x3e0)][_0x3e1985(0x691)](_0x3e1985(0x20f));}function switchQuizDetailTab(_0x53ad58){const _0xb5a00a=_0x4247c8,_0x354558={'analytics':{'btn':_0xb5a00a(0x114),'content':_0xb5a00a(0x442)},'scores':{'btn':'scores-tab-btn','content':_0xb5a00a(0x896)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0xb5a00a(0x60d),'content':_0xb5a00a(0x4af)}};for(const _0x3bc029 in _0x354558){document[_0xb5a00a(0x36b)](_0x354558[_0x3bc029][_0xb5a00a(0x178)])[_0xb5a00a(0x3e0)][_0xb5a00a(0x691)](_0xb5a00a(0x599)),document['getElementById'](_0x354558[_0x3bc029][_0xb5a00a(0x4fc)])['classList'][_0xb5a00a(0x90a)](_0xb5a00a(0x20f));}document[_0xb5a00a(0x36b)](_0x354558[_0x53ad58]['btn'])[_0xb5a00a(0x3e0)][_0xb5a00a(0x90a)](_0xb5a00a(0x599)),document['getElementById'](_0x354558[_0x53ad58]['content'])[_0xb5a00a(0x3e0)][_0xb5a00a(0x691)](_0xb5a00a(0x20f));}function showMessage(_0x12ebcf,_0x33b76c=null){const _0x571e77=_0x4247c8;modalMessage[_0x571e77(0x6e3)]=_0x12ebcf,modalConfirmAction=_0x33b76c,messageModal[_0x571e77(0x3e0)][_0x571e77(0x691)]('hidden');}function showConfirmation(_0x2068a7,_0x28ade0){const _0x4c99c5=_0x4247c8;document['getElementById'](_0x4c99c5(0x720))[_0x4c99c5(0x6e3)]=_0x2068a7,document['getElementById'](_0x4c99c5(0x8ae))[_0x4c99c5(0x788)]('h3')[_0x4c99c5(0x6e3)]='ยืนยันการกระทำ',confirmAction=_0x28ade0,confirmationModal[_0x4c99c5(0x3e0)][_0x4c99c5(0x691)](_0x4c99c5(0x20f));}function listenForProjects(){const _0x225a81=_0x4247c8,_0x1e321c=doc(db,_0x225a81(0x891),_0x225a81(0x749));onSnapshot(_0x1e321c,_0x226050=>{const _0x7170af=_0x225a81;if(_0x226050[_0x7170af(0x747)]()){const _0x18a8a6=_0x226050[_0x7170af(0x6d4)]();globalDashboardSettings[_0x7170af(0xf7)]=_0x18a8a6[_0x7170af(0xf7)]||_0x7170af(0x725),globalDashboardSettings[_0x7170af(0x6cf)]=_0x18a8a6[_0x7170af(0x6cf)]||[],globalDashboardSettings[_0x7170af(0x380)]=_0x18a8a6[_0x7170af(0x380)]||[];}allProjects[_0x7170af(0x47b)]>0x0&&renderProjects();});const _0x3f5ce1=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x3f5ce1,_0x1a2c9f=>{const _0x55a667=_0x225a81;allProjects=_0x1a2c9f['docs']['map'](_0x1e1a40=>({'id':_0x1e1a40['id'],..._0x1e1a40[_0x55a667(0x6d4)]()})),renderProjects();},_0x5c804f=>{const _0x5842e1=_0x225a81;console[_0x5842e1(0x43a)](_0x5842e1(0x85c),_0x5c804f),showMessage(_0x5842e1(0x3e3));});}function showColorPalette(_0x42e4c8,_0x558261){const _0x1e60b9=_0x4247c8;document[_0x1e60b9(0x16d)](_0x1e60b9(0x50c))[_0x1e60b9(0x204)](_0xdfbe4=>_0xdfbe4[_0x1e60b9(0x691)]());const _0x13bc6b=[_0x1e60b9(0x161),_0x1e60b9(0x27d),_0x1e60b9(0x5f4),_0x1e60b9(0x6bc),_0x1e60b9(0x4ad),_0x1e60b9(0x598),_0x1e60b9(0x8cc),_0x1e60b9(0x656),_0x1e60b9(0x2c9)],_0x591ce9=document[_0x1e60b9(0x609)](_0x1e60b9(0x7e0));_0x591ce9[_0x1e60b9(0x71f)]=_0x1e60b9(0x4fe),_0x13bc6b[_0x1e60b9(0x204)](_0x7599aa=>{const _0x8e185c=_0x1e60b9,_0x216828=document[_0x8e185c(0x609)](_0x8e185c(0x7e0));_0x216828[_0x8e185c(0x71f)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x216828[_0x8e185c(0x64c)][_0x8e185c(0x933)]=_0x7599aa,_0x216828['addEventListener'](_0x8e185c(0x3d5),()=>{const _0x56a5e6=_0x8e185c;handleProjectColorChange(_0x558261,_0x7599aa),_0x591ce9[_0x56a5e6(0x691)]();}),_0x591ce9[_0x8e185c(0x7dd)](_0x216828);}),document[_0x1e60b9(0x444)]['appendChild'](_0x591ce9);const _0x421550=_0x42e4c8[_0x1e60b9(0x5e9)]();_0x591ce9['style'][_0x1e60b9(0x16f)]=_0x421550[_0x1e60b9(0x52f)]+window[_0x1e60b9(0x8e8)]+'px',_0x591ce9[_0x1e60b9(0x64c)][_0x1e60b9(0x4f1)]=_0x421550[_0x1e60b9(0x4f1)]+window['scrollX']-_0x591ce9[_0x1e60b9(0x8d3)]/0x2+'px';}async function handleProjectColorChange(_0xec58a6,_0x578437){const _0x38b62a=_0x4247c8,_0x3f19e4=doc(db,_0x38b62a(0x302)+appId+'/public/data/projects',_0xec58a6);try{await updateDoc(_0x3f19e4,{'color':_0x578437});}catch(_0x3760ae){console[_0x38b62a(0x43a)](_0x38b62a(0x8c2),_0x3760ae),showMessage(_0x38b62a(0x147));}}async function renderProjects(){const _0x232993=_0x4247c8,_0x3be492=globalDashboardSettings[_0x232993(0xf7)]||_0x232993(0x725),_0x542b1f=new Set(globalDashboardSettings[_0x232993(0x6cf)]||[]),_0x3d4ff1=globalDashboardSettings['projectView']||'grid',_0x776ea1=document['getElementById'](_0x232993(0x13a)),_0x25843b=document[_0x232993(0x36b)](_0x232993(0x7ab));_0x776ea1['classList'][_0x232993(0x3eb)](_0x232993(0x599),_0x3d4ff1===_0x232993(0x748)),_0x25843b[_0x232993(0x3e0)][_0x232993(0x3eb)](_0x232993(0x599),_0x3d4ff1==='list'),document[_0x232993(0x36b)](_0x232993(0x7e7))[_0x232993(0x7c0)]=_0x3be492;const _0x11a652=document[_0x232993(0x36b)]('project-search-input')[_0x232993(0x7c0)][_0x232993(0x14b)]();let _0x39c753=allProjects[_0x232993(0x42c)](_0x4ff512=>_0x4ff512['projectName']['toLowerCase']()[_0x232993(0x635)](_0x11a652));const _0x458c27=_0x39c753['filter'](_0x4577ad=>_0x542b1f[_0x232993(0x29b)](_0x4577ad['id'])),_0x2594af=_0x39c753[_0x232993(0x42c)](_0x433d68=>!_0x542b1f[_0x232993(0x29b)](_0x433d68['id'])),_0x359128=(_0x27225d,_0x45c8b7)=>{const _0x2001da=_0x232993;switch(_0x3be492){case _0x2001da(0x87b):return _0x27225d[_0x2001da(0x7df)]['localeCompare'](_0x45c8b7[_0x2001da(0x7df)],'th');case'name_desc':return _0x45c8b7[_0x2001da(0x7df)]['localeCompare'](_0x27225d[_0x2001da(0x7df)],'th');case _0x2001da(0x45e):return new Date(_0x27225d[_0x2001da(0x30b)])-new Date(_0x45c8b7[_0x2001da(0x30b)]);default:return new Date(_0x45c8b7['createdAt'])-new Date(_0x27225d[_0x2001da(0x30b)]);}};_0x458c27[_0x232993(0x254)](_0x359128),_0x2594af[_0x232993(0x254)](_0x359128);const _0x2c5ffb=[..._0x458c27,..._0x2594af],_0x4541e6=globalDashboardSettings[_0x232993(0x380)]||[];_0x4541e6[_0x232993(0x47b)]>0x0&&_0x3d4ff1===_0x232993(0x748)&&_0x2c5ffb[_0x232993(0x254)]((_0x2aadd1,_0x1866e2)=>{const _0x95fdb0=_0x232993,_0xcfb248=_0x4541e6[_0x95fdb0(0x4b8)](_0x2aadd1['id']),_0x33210b=_0x4541e6['indexOf'](_0x1866e2['id']);if(_0xcfb248===-0x1)return 0x1;if(_0x33210b===-0x1)return-0x1;return _0xcfb248-_0x33210b;});const _0x53a4d2={};await Promise[_0x232993(0x77d)](_0x2c5ffb['map'](async _0x1da222=>{const _0x3449bc=_0x232993,_0x36c857=query(collection(db,_0x3449bc(0x302)+appId+_0x3449bc(0x42f)),where(_0x3449bc(0x69a),'==',_0x1da222['id'])),_0x201cf1=await getDocs(_0x36c857);_0x53a4d2[_0x1da222['id']]=_0x201cf1['size'];}));const _0x26e08d=document[_0x232993(0x36b)](_0x232993(0x1f4));let _0x44e280='';if(_0x3d4ff1===_0x232993(0x748)){_0x26e08d[_0x232993(0x71f)]=_0x232993(0x205);if(starredQuizzes[_0x232993(0x47b)]>0x0&&_0x11a652===''){const _0x3b5035=starredQuizzes[_0x232993(0x1c2)](_0x5889a1=>{const _0x8c6755=_0x232993,_0x493ac2=allProjects[_0x8c6755(0x1c5)](_0x23518f=>_0x23518f['id']===_0x5889a1['projectId']);return{..._0x5889a1,'projectName':_0x493ac2?_0x493ac2[_0x8c6755(0x7df)]:_0x8c6755(0x24c)};});_0x44e280+=_0x232993(0x8cd)+_0x3b5035[_0x232993(0x1c2)](_0x33c083=>_0x232993(0x2ca)+_0x33c083[_0x232993(0x761)]+'\x22>'+_0x33c083['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x33c083[_0x232993(0x7df)]+_0x232993(0x39e)+_0x33c083[_0x232993(0x7df)]+_0x232993(0x3dd))[_0x232993(0x182)]('')+_0x232993(0x308)+starredQuizzes[_0x232993(0x47b)]+_0x232993(0x7c5);}_0x2c5ffb[_0x232993(0x204)](_0x199fd4=>{const _0x4492e4=_0x232993,_0x5392c7=_0x53a4d2[_0x199fd4['id']]??0x0,_0x3116d2=_0x542b1f[_0x4492e4(0x29b)](_0x199fd4['id']),_0x2f8e1d=_0x199fd4[_0x4492e4(0x6d2)]||_0x4492e4(0x161),_0x4e4de9=parseInt(_0x2f8e1d[_0x4492e4(0x4b7)](0x1,0x3),0x10)*0.299+parseInt(_0x2f8e1d['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x2f8e1d[_0x4492e4(0x4b7)](0x5,0x7),0x10)*0.114<0xba,_0x59d21c=_0x4e4de9?_0x4492e4(0x41d):_0x4492e4(0x359),_0x1fef55=_0x4e4de9?_0x4492e4(0x130):_0x4492e4(0x75e);_0x44e280+=_0x4492e4(0x469)+(_0x3116d2?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x4492e4(0x220)+_0x2f8e1d+_0x4492e4(0x261)+_0x199fd4['id']+_0x4492e4(0x323)+_0x199fd4['id']+_0x4492e4(0x6f4)+(_0x4e4de9?'text-gray-300\x20hover:text-white':_0x4492e4(0x7b3))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x199fd4['id']+_0x4492e4(0x803)+(_0x4e4de9?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x3116d2?_0x4e4de9?_0x4492e4(0x397):'text-indigo-600':'')+_0x4492e4(0x5c5)+_0x199fd4['id']+_0x4492e4(0x448)+_0x59d21c+_0x4492e4(0x3fd)+_0x199fd4[_0x4492e4(0x7df)]+_0x4492e4(0x81e)+_0x1fef55+_0x4492e4(0x1da)+new Date(_0x199fd4[_0x4492e4(0x30b)])[_0x4492e4(0x35f)]('th-TH')+_0x4492e4(0x285)+(_0x4e4de9?_0x4492e4(0x800):_0x4492e4(0x479))+_0x4492e4(0x647)+_0x5392c7+_0x4492e4(0x5d1)+_0x199fd4['id']+_0x4492e4(0x7a1)+_0x199fd4[_0x4492e4(0x7df)]+_0x4492e4(0x351)+(_0x4e4de9?_0x4492e4(0x4d2):'text-red-500\x20hover:text-red-700')+_0x4492e4(0x595);});}else _0x26e08d[_0x232993(0x71f)]=_0x232993(0x27b),starredQuizzes[_0x232993(0x47b)]>0x0&&_0x11a652===''&&(_0x44e280+=_0x232993(0x4d8)+starredQuizzes[_0x232993(0x47b)]+_0x232993(0x364)),_0x44e280+=_0x232993(0x66f),_0x2c5ffb[_0x232993(0x204)](_0x4fb0aa=>{const _0x2c4e88=_0x232993,_0x4cd39c=_0x53a4d2[_0x4fb0aa['id']]??0x0,_0x514bb3=_0x542b1f[_0x2c4e88(0x29b)](_0x4fb0aa['id']);_0x44e280+=_0x2c4e88(0x632)+(_0x4fb0aa[_0x2c4e88(0x6d2)]||_0x2c4e88(0x2c9))+_0x2c4e88(0x914)+_0x4fb0aa['id']+_0x2c4e88(0x947)+_0x4fb0aa['projectName']+_0x2c4e88(0x859)+_0x4cd39c+_0x2c4e88(0x6b5)+new Date(_0x4fb0aa[_0x2c4e88(0x30b)])[_0x2c4e88(0x7c6)]('th-TH')+_0x2c4e88(0x777)+_0x4fb0aa['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x514bb3?_0x2c4e88(0x37a):'')+_0x2c4e88(0x39a)+_0x4fb0aa['id']+'\x22\x20data-name=\x22'+_0x4fb0aa[_0x2c4e88(0x7df)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x232993(0x48a)]=_0x44e280,noProjectsMsg[_0x232993(0x3e0)][_0x232993(0x3eb)]('hidden',_0x44e280[_0x232993(0x47b)]>0x0);}document[_0x4247c8(0x36b)]('confirm-create-project-btn')[_0x4247c8(0x889)](_0x4247c8(0x3d5),async()=>{const _0x6d8888=_0x4247c8,_0x46b4c5=document[_0x6d8888(0x36b)](_0x6d8888(0x2cd)),_0x389f7e=_0x46b4c5[_0x6d8888(0x7c0)][_0x6d8888(0x52d)]();if(!_0x389f7e){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x598865=doc(collection(db,_0x6d8888(0x302)+appId+'/public/data/projects'));await setDoc(_0x598865,{'projectName':_0x389f7e,'students':[],'settings':{'resultsDisplay':_0x6d8888(0x79a),'shuffleSetting':_0x6d8888(0x2aa),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x6d8888(0x2aa),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x6d8888(0x6be)]()}),_0x46b4c5['value']='',createProjectModal['classList'][_0x6d8888(0x90a)](_0x6d8888(0x20f)),showMessage(_0x6d8888(0x1e0));}catch(_0x65a1d6){console[_0x6d8888(0x43a)](_0x6d8888(0x1eb),_0x65a1d6),showMessage(_0x6d8888(0x564));}}),projectList[_0x4247c8(0x889)](_0x4247c8(0x3d5),async _0x568a2d=>{const _0x2a1604=_0x4247c8,_0x579f48=_0x568a2d[_0x2a1604(0x6a6)]['closest'](_0x2a1604(0x84f)),_0x3c4970=_0x568a2d[_0x2a1604(0x6a6)][_0x2a1604(0x429)](_0x2a1604(0x874)),_0x3cf7eb=_0x568a2d['target']['closest'](_0x2a1604(0x2b8)),_0x63a841=_0x568a2d['target'][_0x2a1604(0x429)](_0x2a1604(0x888));if(_0x3cf7eb){const _0x475d0f=_0x3cf7eb[_0x2a1604(0x29d)]['id'],_0x21ce7f=doc(db,_0x2a1604(0x891),'dashboardConfig'),_0x4c1573=globalDashboardSettings[_0x2a1604(0x6cf)];let _0x2fc507;_0x4c1573[_0x2a1604(0x635)](_0x475d0f)?_0x2fc507=_0x4c1573['filter'](_0x23a8d3=>_0x23a8d3!==_0x475d0f):_0x2fc507=[..._0x4c1573,_0x475d0f];try{await setDoc(_0x21ce7f,{'pinnedProjects':_0x2fc507},{'merge':!![]});}catch(_0x1c37fc){console['error'](_0x2a1604(0x34d),_0x1c37fc),showMessage(_0x2a1604(0x925));}}else{if(_0x63a841){const _0x28f01b=_0x63a841['dataset']['id'];showColorPalette(_0x63a841,_0x28f01b);}else{if(_0x579f48){const _0x3ab1fe=_0x579f48[_0x2a1604(0x29d)]['id'];_0x3ab1fe===_0x2a1604(0x409)?showStarredProjectView():(currentProjectId=_0x3ab1fe,await loadProjectDetails(currentProjectId),showView(_0x2a1604(0x38b)));}else{if(_0x3c4970){const _0x4bd0a4=_0x3c4970[_0x2a1604(0x29d)]['id'],_0x486c2c=_0x3c4970[_0x2a1604(0x29d)]['name'];showConfirmation(_0x2a1604(0x143)+_0x486c2c+_0x2a1604(0x3c6),()=>handleDeleteProject(_0x4bd0a4));}}}}}),projectList['addEventListener'](_0x4247c8(0x590),_0xc506c2=>{const _0x453e9a=_0x4247c8,_0x2cb33e=_0xc506c2[_0x453e9a(0x6a6)][_0x453e9a(0x429)](_0x453e9a(0x1a3));_0x2cb33e&&_0x2cb33e[_0x453e9a(0x3e0)][_0x453e9a(0x90a)](_0x453e9a(0x7bc));}),projectList[_0x4247c8(0x889)](_0x4247c8(0x452),_0x76b4ca=>{const _0x1bef31=_0x4247c8,_0x2a3fb0=_0x76b4ca[_0x1bef31(0x6a6)]['closest'](_0x1bef31(0x1a3));_0x2a3fb0&&_0x2a3fb0[_0x1bef31(0x3e0)][_0x1bef31(0x691)]('opacity-50');}),projectList['addEventListener'](_0x4247c8(0x219),_0x3c7233=>{const _0x2b9042=_0x4247c8;_0x3c7233['preventDefault']();const _0x2290d8=document[_0x2b9042(0x788)]('.project-card-container.opacity-50');if(!_0x2290d8)return;const _0xe348bf=getDragAfterElement(projectList,_0x3c7233['clientY']);_0xe348bf==null?projectList['appendChild'](_0x2290d8):projectList[_0x2b9042(0x216)](_0x2290d8,_0xe348bf);}),projectList[_0x4247c8(0x889)](_0x4247c8(0x8df),_0x73ff22=>{const _0x478af1=_0x4247c8;_0x73ff22[_0x478af1(0x8d5)]();const _0x1414ed=[...projectList[_0x478af1(0x16d)](_0x478af1(0x4e5))]['map'](_0x5afa1e=>_0x5afa1e[_0x478af1(0x29d)]['id']);saveProjectOrder(_0x1414ed);});function renderBehaviorLog(_0x26b8ea){const _0x3c49a3=_0x4247c8,_0x4f5260=document[_0x3c49a3(0x36b)](_0x3c49a3(0x395));if(!_0x4f5260)return;const _0x28956b=_0x26b8ea[_0x3c49a3(0x42c)](_0x1f9425=>_0x1f9425[_0x3c49a3(0x790)]&&_0x1f9425['behaviorLog']['length']>0x0);if(_0x28956b[_0x3c49a3(0x47b)]===0x0){_0x4f5260[_0x3c49a3(0x48a)]=_0x3c49a3(0x66d);return;}let _0x16d292='';_0x28956b['forEach'](_0x2e1d01=>{const _0xf752a1=_0x3c49a3;_0x16d292+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2e1d01[_0xf752a1(0x466)]+_0xf752a1(0x1cf),_0x2e1d01['behaviorLog']['sort']((_0x3bee47,_0x34bc3e)=>new Date(_0x34bc3e[_0xf752a1(0x906)])-new Date(_0x3bee47[_0xf752a1(0x906)]))[_0xf752a1(0x204)](_0x2b9528=>{const _0x4ca070=_0xf752a1,_0x5e5da1=new Date(_0x2b9528[_0x4ca070(0x906)])[_0x4ca070(0x7c6)]('th-TH',{'dateStyle':_0x4ca070(0x7ce),'timeStyle':'medium'});_0x16d292+=_0x4ca070(0x798)+_0x2b9528[_0x4ca070(0x791)]+_0x4ca070(0x8fd)+_0x5e5da1+_0x4ca070(0x197);}),_0x16d292+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4f5260['innerHTML']=_0x16d292;}function getDragAfterElement(_0x23c157,_0x3ff8f1){const _0x421c3f=_0x4247c8,_0xae20f7=[..._0x23c157[_0x421c3f(0x16d)](_0x421c3f(0xfd))];return _0xae20f7[_0x421c3f(0x860)]((_0x110bc6,_0xa763db)=>{const _0xd5c100=_0x421c3f,_0x88b3fa=_0xa763db[_0xd5c100(0x5e9)](),_0x502486=_0x3ff8f1-_0x88b3fa[_0xd5c100(0x16f)]-_0x88b3fa[_0xd5c100(0x569)]/0x2;return _0x502486<0x0&&_0x502486>_0x110bc6[_0xd5c100(0x68c)]?{'offset':_0x502486,'element':_0xa763db}:_0x110bc6;},{'offset':Number[_0x421c3f(0x3bc)]})['element'];}async function saveProjectOrder(_0x52786b){const _0x3879e8=_0x4247c8,_0xaf28c5=doc(db,'globalSettings',_0x3879e8(0x749));try{await setDoc(_0xaf28c5,{'projectOrder':_0x52786b},{'merge':!![]});}catch(_0x2d5c57){console['error'](_0x3879e8(0x275),_0x2d5c57),showMessage(_0x3879e8(0x7f1));}}async function logBehaviorEvent(_0x2c3d3b,_0x563a54={}){const _0x4b7c58=_0x4247c8;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4b7c58(0x58a)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0xfc3b3f=doc(db,_0x4b7c58(0x302)+appId+_0x4b7c58(0x6b7)+currentQuizData['id']+_0x4b7c58(0x168),currentStudentName),_0x45f0e0={'event':_0x2c3d3b,'timestamp':new Date()['toISOString'](),..._0x563a54};try{await updateDoc(_0xfc3b3f,{'behaviorLog':arrayUnion(_0x45f0e0)}),console[_0x4b7c58(0x25e)](_0x4b7c58(0x7b9)+currentStudentName+'\x20สำเร็จ');}catch(_0x25b40e){_0x25b40e[_0x4b7c58(0x758)]===_0x4b7c58(0x8a2)?console['warn'](_0x4b7c58(0x5d0)+currentStudentName+_0x4b7c58(0x471)):console['error'](_0x4b7c58(0x23a),_0x25b40e);}}function calculateMeanAndStdDev(_0x3190fc){const _0x349c80=_0x4247c8;if(_0x3190fc[_0x349c80(0x47b)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1b20c6=_0x3190fc['reduce']((_0x22b97f,_0x4c64c6)=>_0x22b97f+_0x4c64c6,0x0)/_0x3190fc['length'];if(_0x3190fc['length']===0x1)return{'mean':_0x1b20c6,'stdDev':0x0};const _0x474ff9=Math['sqrt'](_0x3190fc[_0x349c80(0x1c2)](_0x5bceaa=>Math[_0x349c80(0x75b)](_0x5bceaa-_0x1b20c6,0x2))[_0x349c80(0x860)]((_0x3d9761,_0x1c0a07)=>_0x3d9761+_0x1c0a07,0x0)/(_0x3190fc[_0x349c80(0x47b)]-0x1));return{'mean':_0x1b20c6,'stdDev':_0x474ff9};}function calculateZScore(_0x58af1a,_0x24521c,_0x2fb33f){if(_0x2fb33f===0x0)return 0x0;return(_0x58af1a-_0x24521c)/_0x2fb33f;}function calculateTScore(_0x180073){return 0xa*_0x180073+0x32;}function showStarredProjectView(){const _0x5110d5=_0x4247c8;currentProjectId=_0x5110d5(0x7c1),currentProjectData=null,projectTitle[_0x5110d5(0x6e3)]=_0x5110d5(0x60b),projectIdDisplay[_0x5110d5(0x6e3)]=_0x5110d5(0x49c),showView('project-detail'),manageTab[_0x5110d5(0x3e0)][_0x5110d5(0x90a)](_0x5110d5(0x20f)),leaderboardTab[_0x5110d5(0x3e0)][_0x5110d5(0x90a)](_0x5110d5(0x20f)),switchProjectTab(_0x5110d5(0x4c0)),renderQuizzes();}async function loadProjectDetails(_0x78ac06){const _0x338be6=_0x4247c8,_0x37f4f5=doc(db,_0x338be6(0x302)+appId+_0x338be6(0x522),_0x78ac06),_0x4e3875=await getDoc(_0x37f4f5);if(_0x4e3875[_0x338be6(0x747)]()){manageTab['classList']['remove'](_0x338be6(0x20f)),leaderboardTab['classList'][_0x338be6(0x691)](_0x338be6(0x20f)),currentProjectData=_0x4e3875['data'](),projectTitle[_0x338be6(0x6e3)]=currentProjectData['projectName'],projectIdDisplay[_0x338be6(0x6e3)]=_0x78ac06;const _0x2c7512=currentProjectData[_0x338be6(0x59a)]||{};document[_0x338be6(0x36b)](_0x338be6(0x297))[_0x338be6(0x7c0)]=_0x2c7512['shuffleSetting']||_0x338be6(0x2aa);const _0x42c781=document[_0x338be6(0x36b)](_0x338be6(0x196));_0x42c781[_0x338be6(0x57f)]=_0x2c7512['showInStudentDashboard']!==![];const _0x4d224b=document[_0x338be6(0x36b)](_0x338be6(0x47d)),_0xeef884=document['getElementById'](_0x338be6(0x603)),_0x5ae499=document['getElementById'](_0x338be6(0x63f)),_0x2c3f50=_0x2c7512[_0x338be6(0x1a6)]||![];_0x4d224b['checked']=_0x2c3f50,_0x5ae499[_0x338be6(0x7c0)]=_0x2c7512['passcode']||'',_0xeef884[_0x338be6(0x3e0)]['toggle'](_0x338be6(0x20f),!_0x2c3f50),_0x4d224b[_0x338be6(0x7a6)]=()=>{const _0x266b2e=_0x338be6;_0xeef884[_0x266b2e(0x3e0)]['toggle'](_0x266b2e(0x20f),!_0x4d224b[_0x266b2e(0x57f)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x78ac06),listenForProjectQuizzes(_0x78ac06),listenForStudentProfiles(_0x78ac06);}else showMessage(_0x338be6(0x543)),showView(_0x338be6(0x69f));}async function handleResetProjectOrder(){const _0x4b7a6c=_0x4247c8,_0xfe2a65=doc(db,_0x4b7a6c(0x891),_0x4b7a6c(0x749));try{await setDoc(_0xfe2a65,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4b7a6c(0x3a0));}catch(_0x3e62bd){console['error'](_0x4b7a6c(0x640),_0x3e62bd),showMessage(_0x4b7a6c(0x8b1));}}async function handleTogglePinProject(_0x3a7849){const _0x4965b3=_0x4247c8;if(!_0x3a7849)return;const _0x38329b=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3a7849);try{const _0x2b8d85=await getDoc(_0x38329b);if(_0x2b8d85[_0x4965b3(0x747)]()){const _0x127dc5=_0x2b8d85['data']()[_0x4965b3(0x2f5)]||![];await updateDoc(_0x38329b,{'isPinned':!_0x127dc5});}}catch(_0x1b6229){console[_0x4965b3(0x43a)](_0x4965b3(0x310),_0x1b6229),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x230e11){const _0x163031=_0x4247c8;try{const _0x2f9c49=writeBatch(db),_0x5e5db2=collection(db,_0x163031(0x302)+appId+'/public/data/quizzes'),_0x5edba9=query(_0x5e5db2,where(_0x163031(0x69a),'==',_0x230e11)),_0xdc5811=await getDocs(_0x5edba9);for(const _0x366488 of _0xdc5811[_0x163031(0x591)]){const _0x3e3785=collection(db,'artifacts/'+appId+_0x163031(0x6b7)+_0x366488['id']+_0x163031(0x168)),_0x3fc79a=await getDocs(_0x3e3785);_0x3fc79a[_0x163031(0x204)](_0x39374b=>{const _0x5e7654=_0x163031;_0x2f9c49[_0x5e7654(0x118)](_0x39374b[_0x5e7654(0x4dd)]);}),_0x2f9c49[_0x163031(0x118)](_0x366488[_0x163031(0x4dd)]);}const _0x464676=collection(db,_0x163031(0x302)+appId+_0x163031(0x1c0)+_0x230e11+'/studentProfiles'),_0x9091=await getDocs(_0x464676);_0x9091[_0x163031(0x204)](_0x109d62=>{const _0x5d23ee=_0x163031;_0x2f9c49[_0x5d23ee(0x118)](_0x109d62[_0x5d23ee(0x4dd)]);});const _0x3a72b1=doc(db,_0x163031(0x302)+appId+'/public/data/projects',_0x230e11);_0x2f9c49[_0x163031(0x118)](_0x3a72b1),await _0x2f9c49[_0x163031(0x59b)](),showMessage(_0x163031(0x1b8)),showView(_0x163031(0x69f));}catch(_0x4d9eba){console[_0x163031(0x43a)](_0x163031(0x921),_0x4d9eba),showMessage(_0x163031(0x711));}}document[_0x4247c8(0x36b)](_0x4247c8(0x825))['addEventListener'](_0x4247c8(0x3d5),async()=>{const _0x26f2ae=_0x4247c8;if(!currentProjectId)return;const _0x1ba2fa={'defaultNumQuestions':parseInt(document[_0x26f2ae(0x36b)](_0x26f2ae(0x1a8))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x26f2ae(0x496))['value']),'defaultPassingScore':parseInt(document[_0x26f2ae(0x36b)](_0x26f2ae(0x3e1))[_0x26f2ae(0x7c0)]),'resultsDisplay':document[_0x26f2ae(0x36b)](_0x26f2ae(0x5e0))[_0x26f2ae(0x7c0)],'shuffleSetting':document[_0x26f2ae(0x36b)](_0x26f2ae(0x297))[_0x26f2ae(0x7c0)],'timerMode':document['getElementById'](_0x26f2ae(0x316))[_0x26f2ae(0x7c0)],'timerDuration':parseInt(document[_0x26f2ae(0x36b)](_0x26f2ae(0x7ef))[_0x26f2ae(0x7c0)])};try{const _0x1bebd6=doc(db,_0x26f2ae(0x302)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x1bebd6,{'settings':_0x1ba2fa}),showMessage(_0x26f2ae(0x5db));}catch(_0xae2915){console[_0x26f2ae(0x43a)](_0x26f2ae(0x2d9),_0xae2915),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x5309a9){const _0x5cafc9=_0x4247c8,_0x5cab0f=doc(db,_0x5cafc9(0x302)+appId+'/public/data/projects',_0x5309a9);unsubscribeStudentsListener=onSnapshot(_0x5cab0f,_0x2dd686=>{const _0x118bc0=_0x5cafc9;if(_0x2dd686[_0x118bc0(0x747)]()){const _0x1737ac=_0x2dd686[_0x118bc0(0x6d4)]();currentProjectData=_0x1737ac,renderStudentList(_0x1737ac['students']||[]);}});}function renderStudentList(_0x2c1d61){const _0x57e6cb=_0x4247c8,_0xae2264=document['getElementById']('delete-all-students-btn');_0x2c1d61[_0x57e6cb(0x47b)]===0x0?(studentList[_0x57e6cb(0x48a)]=_0x57e6cb(0x39c),_0xae2264[_0x57e6cb(0x3e0)][_0x57e6cb(0x90a)](_0x57e6cb(0x20f))):(studentList[_0x57e6cb(0x48a)]=_0x2c1d61[_0x57e6cb(0x1c2)](_0x58ec70=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x58ec70+_0x57e6cb(0x923)+_0x58ec70+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x57e6cb(0x182)](''),_0xae2264[_0x57e6cb(0x3e0)][_0x57e6cb(0x691)](_0x57e6cb(0x20f)));}document[_0x4247c8(0x36b)](_0x4247c8(0x379))[_0x4247c8(0x889)](_0x4247c8(0x3d5),async()=>{const _0x4dfc35=_0x4247c8;if(!currentProjectId)return;const _0x2cfb21=document['getElementById'](_0x4dfc35(0x2de)),_0x6f7131=_0x2cfb21[_0x4dfc35(0x7c0)][_0x4dfc35(0x52d)]();if(!_0x6f7131){showMessage(_0x4dfc35(0x313));return;}const _0x2cea9c=_0x6f7131[_0x4dfc35(0x850)]('\x0a')[_0x4dfc35(0x1c2)](_0x26b4df=>_0x26b4df[_0x4dfc35(0x52d)]())['filter'](_0x39ca3b=>_0x39ca3b);if(_0x2cea9c[_0x4dfc35(0x47b)]===0x0)return;try{const _0x3669ee=doc(db,_0x4dfc35(0x302)+appId+_0x4dfc35(0x522),currentProjectId),_0x126c4c=await getDoc(_0x3669ee);if(_0x126c4c[_0x4dfc35(0x747)]()){const _0x114052=_0x126c4c[_0x4dfc35(0x6d4)]()[_0x4dfc35(0x8a4)]||[],_0x375b30=[...new Set([..._0x114052,..._0x2cea9c])];await updateDoc(_0x3669ee,{'students':_0x375b30}),_0x2cfb21['value']='';}}catch(_0x38c228){console['error'](_0x4dfc35(0x4e6),_0x38c228),showMessage(_0x4dfc35(0x1d4));}});async function handleManualQuizPairing(_0x2b98b0){const _0x242164=_0x4247c8,_0x31985d=document[_0x242164(0x36b)](_0x242164(0x201)),_0x8b1a29=document[_0x242164(0x36b)]('move-quiz-project-select'),_0x4fb069=_0x31985d[_0x242164(0x788)]('h3'),_0x546276=document[_0x242164(0x36b)](_0x242164(0x2af)),_0x42562f=document[_0x242164(0x36b)](_0x242164(0x33e));_0x4fb069['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x8b1a29['innerHTML']=_0x242164(0x6bd),_0x546276['textContent']=_0x242164(0x3c7),_0x31985d[_0x242164(0x3e0)][_0x242164(0x691)]('hidden');const _0x75f1e5=allQuizzes[_0x242164(0x42c)](_0x291eb9=>_0x291eb9['id']!==_0x2b98b0);_0x75f1e5[_0x242164(0x47b)]===0x0?(_0x8b1a29[_0x242164(0x48a)]=_0x242164(0x716),_0x546276['disabled']=!![]):(_0x8b1a29['innerHTML']=_0x242164(0x8de)+_0x75f1e5[_0x242164(0x1c2)](_0x134123=>_0x242164(0x5c6)+_0x134123['id']+'\x22>'+_0x134123[_0x242164(0x761)]+'</option>')[_0x242164(0x182)](''),_0x546276['disabled']=![]);const _0x275d3f=async()=>{const _0x229096=_0x242164,_0x47879d=_0x8b1a29[_0x229096(0x7c0)];if(!_0x47879d){showMessage(_0x229096(0x74c));return;}_0x546276[_0x229096(0x65e)]=!![],_0x546276['textContent']='กำลังจับคู่...';try{const _0x57f4e5=doc(db,_0x229096(0x302)+appId+_0x229096(0x42f),_0x2b98b0),_0x3066fa=doc(db,_0x229096(0x302)+appId+_0x229096(0x42f),_0x47879d),_0x5ca7c1=writeBatch(db);_0x5ca7c1['update'](_0x57f4e5,{'pairedQuizId':_0x47879d}),_0x5ca7c1[_0x229096(0x44a)](_0x3066fa,{'pairedQuizId':_0x2b98b0}),await _0x5ca7c1[_0x229096(0x59b)](),showMessage(_0x229096(0x107)),_0x31985d[_0x229096(0x3e0)]['add'](_0x229096(0x20f));}catch(_0x100998){console[_0x229096(0x43a)]('Error\x20pairing\x20quizzes:',_0x100998),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x4fb069[_0x229096(0x6e3)]=_0x229096(0x66b),_0x546276['textContent']=_0x229096(0x41a),_0x546276[_0x229096(0x65e)]=![],_0x546276[_0x229096(0x77a)]('click',_0x275d3f),_0x42562f[_0x229096(0x77a)]('click',_0x35c9b8);}},_0x35c9b8=()=>{const _0x74b628=_0x242164;_0x31985d[_0x74b628(0x3e0)][_0x74b628(0x90a)](_0x74b628(0x20f)),_0x4fb069[_0x74b628(0x6e3)]=_0x74b628(0x66b),_0x546276[_0x74b628(0x6e3)]='ย้าย',_0x546276['removeEventListener']('click',_0x275d3f),_0x42562f['removeEventListener'](_0x74b628(0x3d5),_0x35c9b8);};_0x546276[_0x242164(0x889)]('click',_0x275d3f),_0x42562f[_0x242164(0x889)](_0x242164(0x3d5),_0x35c9b8);}function handleDeleteStudent(_0x33add1){const _0x17e45e=_0x4247c8;showConfirmation(_0x17e45e(0x203)+_0x33add1+_0x17e45e(0x7f0),async()=>{const _0xb59a45=_0x17e45e;if(!currentProjectId||!currentProjectData)return;const _0x440f33=currentProjectData[_0xb59a45(0x8a4)][_0xb59a45(0x42c)](_0x5817fd=>_0x5817fd!==_0x33add1);try{const _0x29266a=doc(db,_0xb59a45(0x302)+appId+_0xb59a45(0x522),currentProjectId),_0x229ecf=doc(db,_0xb59a45(0x302)+appId+_0xb59a45(0x1c0)+currentProjectId+_0xb59a45(0x1ae),_0x33add1),_0x3b46c1=writeBatch(db);_0x3b46c1[_0xb59a45(0x44a)](_0x29266a,{'students':_0x440f33}),_0x3b46c1[_0xb59a45(0x118)](_0x229ecf),await _0x3b46c1[_0xb59a45(0x59b)]();}catch(_0x5eaa4c){console[_0xb59a45(0x43a)]('Error\x20deleting\x20student:',_0x5eaa4c),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x4e7981=_0x4247c8;showConfirmation(_0x4e7981(0x88b),async()=>{const _0x53890b=_0x4e7981;if(!currentProjectId)return;try{const _0x156bab=doc(db,_0x53890b(0x302)+appId+'/public/data/projects',currentProjectId),_0x23190d=collection(db,_0x53890b(0x302)+appId+'/public/data/projects/'+currentProjectId+_0x53890b(0x1ae)),_0xb1111b=await getDocs(_0x23190d),_0x38d1cd=writeBatch(db);_0x38d1cd['update'](_0x156bab,{'students':[]}),_0xb1111b[_0x53890b(0x204)](_0xc04f35=>_0x38d1cd[_0x53890b(0x118)](_0xc04f35[_0x53890b(0x4dd)])),await _0x38d1cd[_0x53890b(0x59b)]();}catch(_0xa012d9){console['error'](_0x53890b(0x340),_0xa012d9),showMessage(_0x53890b(0x514));}});}async function handleGenerateFromFileClick(){const _0x3d3a35=_0x4247c8;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1bd91d=document[_0x3d3a35(0x36b)]('loader'),_0x465e66=document[_0x3d3a35(0x36b)](_0x3d3a35(0x6a1)),_0x5b22a5=document[_0x3d3a35(0x36b)]('generated-quiz-container'),_0x2bcbdd=document['getElementById'](_0x3d3a35(0x904));_0x2bcbdd['disabled']=!![],document[_0x3d3a35(0x36b)]('quiz-generation-area')['classList'][_0x3d3a35(0x691)]('hidden'),_0x5b22a5[_0x3d3a35(0x48a)]='',_0x1bd91d['classList']['remove'](_0x3d3a35(0x20f)),_0x465e66[_0x3d3a35(0x6e3)]='กำลังอ่านและเตรียมไฟล์...';const _0x58fff8=new FileReader();_0x58fff8[_0x3d3a35(0x191)](selectedFile),_0x58fff8[_0x3d3a35(0x473)]=async()=>{const _0x644a06=_0x3d3a35;try{const _0x542ce9=_0x58fff8[_0x644a06(0x515)][_0x644a06(0x850)](',')[0x1],_0x2e98b4=selectedFile[_0x644a06(0x6d8)];await generateQuizFromFile(_0x2e98b4,_0x542ce9);}catch(_0x33b80b){console[_0x644a06(0x43a)](_0x644a06(0x6c9),_0x33b80b),showMessage(_0x644a06(0x42e)+_0x33b80b[_0x644a06(0x7be)]),_0x1bd91d[_0x644a06(0x3e0)][_0x644a06(0x90a)](_0x644a06(0x20f));}finally{}},_0x58fff8[_0x3d3a35(0x8a5)]=_0x2818fa=>{const _0x4ce2dc=_0x3d3a35;console[_0x4ce2dc(0x43a)](_0x4ce2dc(0x8e3),_0x2818fa),showMessage(_0x4ce2dc(0x411)),_0x1bd91d[_0x4ce2dc(0x3e0)]['add'](_0x4ce2dc(0x20f)),_0x2bcbdd['disabled']=![];};}function autoFormatMath(_0x19a074){const _0x3c46b5=_0x4247c8;if(typeof _0x19a074!=='string'||!_0x19a074)return _0x19a074;const _0x3f0a55=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3e57c4=_0x19a074[_0x3c46b5(0x134)](_0x3f0a55,_0x315080=>{const _0x588842=_0x3c46b5;return'$'+_0x315080[_0x588842(0x52d)]()+'$';});return _0x3e57c4;}function sanitizeQuizData(_0x253375){const _0x139e61=_0x4247c8;if(!_0x253375||!_0x253375[_0x139e61(0x4d7)])return _0x253375;const _0x163efc={'imes':_0x139e61(0x52b),'div':_0x139e61(0x42d)},_0x21e8a9=_0x42b413=>{const _0x48ff27=_0x139e61;if(typeof _0x42b413!==_0x48ff27(0x669))return _0x42b413;let _0xd61ad=_0x42b413;for(const [_0x6d1969,_0x50c9b5]of Object[_0x48ff27(0x51d)](_0x163efc)){const _0x296639=new RegExp('\x5cb'+_0x6d1969+'\x5cb','g');_0xd61ad=_0xd61ad[_0x48ff27(0x134)](_0x296639,_0x50c9b5);}return _0xd61ad=_0xd61ad[_0x48ff27(0x134)](/\\\//g,_0x48ff27(0x42d)),_0xd61ad=_0xd61ad[_0x48ff27(0x134)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x48ff27(0x42d))[_0x48ff27(0x134)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x48ff27(0x52b))[_0x48ff27(0x134)](/÷/g,_0x48ff27(0x42d))['replace'](/×/g,_0x48ff27(0x52b)),_0xd61ad=_0xd61ad[_0x48ff27(0x134)](/(\d)(\\frac)/g,_0x48ff27(0x54d)),_0xd61ad=autoFormatMath(_0xd61ad),_0xd61ad;};return _0x253375[_0x139e61(0x761)]&&(_0x253375[_0x139e61(0x761)]=_0x21e8a9(_0x253375[_0x139e61(0x761)])),_0x253375[_0x139e61(0x4d7)][_0x139e61(0x204)](_0x4076bf=>{const _0x15941a=_0x139e61;_0x4076bf[_0x15941a(0x35e)]=_0x21e8a9(_0x4076bf['questionText']),_0x4076bf['options']&&(_0x4076bf[_0x15941a(0x7a2)]=_0x4076bf[_0x15941a(0x7a2)]['map'](_0x21e8a9)),_0x4076bf[_0x15941a(0x812)]&&(_0x4076bf['explanation']=_0x21e8a9(_0x4076bf[_0x15941a(0x812)])),_0x4076bf[_0x15941a(0x3cd)]&&(_0x4076bf[_0x15941a(0x3cd)]=_0x21e8a9(_0x4076bf['stem'])),_0x4076bf['correctResponse']&&(_0x4076bf['correctResponse']=_0x21e8a9(_0x4076bf[_0x15941a(0x624)])),_0x4076bf['allResponses']&&(_0x4076bf[_0x15941a(0x341)]=_0x4076bf['allResponses']['map'](_0x21e8a9));}),_0x253375;}const simpleMathPrompt=_0x4247c8(0x5ab);async function handleGenerateFromLink(){const _0x4ff783=_0x4247c8,_0x272f8b=document['getElementById'](_0x4ff783(0x870)),_0x149260=document[_0x4ff783(0x36b)](_0x4ff783(0x234)),_0x210428=_0x272f8b[_0x4ff783(0x7c0)][_0x4ff783(0x52d)](),_0x33038b=_0x149260['value'][_0x4ff783(0x52d)]();if(!_0x210428){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x37833e=document[_0x4ff783(0x36b)]('loader'),_0x17d924=document[_0x4ff783(0x36b)](_0x4ff783(0x6a1)),_0x2022fb=document['getElementById'](_0x4ff783(0x202)),_0x2b5645=document[_0x4ff783(0x36b)](_0x4ff783(0x87e));document[_0x4ff783(0x36b)](_0x4ff783(0x76d))[_0x4ff783(0x3e0)][_0x4ff783(0x691)](_0x4ff783(0x20f)),_0x2022fb[_0x4ff783(0x48a)]='',_0x37833e[_0x4ff783(0x3e0)][_0x4ff783(0x691)]('hidden'),_0x17d924[_0x4ff783(0x6e3)]='กำลังดึงข้อมูลจากลิงก์...',_0x2b5645[_0x4ff783(0x65e)]=!![];try{const _0x307d0d=_0x4ff783(0x4eb)+encodeURIComponent(_0x210428),_0xf59aa3=await fetch(_0x307d0d);if(!_0xf59aa3['ok'])throw new Error(_0x4ff783(0x6e2)+_0xf59aa3['status']+')');const _0x15d4fb=await _0xf59aa3['text'](),_0x225cc5=extractTextFromHtml(_0x15d4fb);if(!_0x225cc5||_0x225cc5[_0x4ff783(0x47b)]<0x64)throw new Error(_0x4ff783(0x663));await generateQuiz(_0x33038b,_0x225cc5);}catch(_0x4c3749){console[_0x4ff783(0x43a)](_0x4ff783(0x33c),_0x4c3749),showMessage(_0x4ff783(0x856)+_0x4c3749['message']),_0x2022fb['innerHTML']=_0x4ff783(0x2bd);}finally{_0x37833e['classList'][_0x4ff783(0x90a)](_0x4ff783(0x20f)),_0x2b5645[_0x4ff783(0x65e)]=![];}}function extractTextFromHtml(_0x5450f6){const _0x2e8f97=_0x4247c8,_0xad5749=new DOMParser()[_0x2e8f97(0x5a1)](_0x5450f6,_0x2e8f97(0x70d));return _0xad5749[_0x2e8f97(0x16d)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x385ae2=>_0x385ae2['remove']()),_0xad5749['body']['textContent']||'';}document[_0x4247c8(0x36b)](_0x4247c8(0x122))[_0x4247c8(0x889)](_0x4247c8(0x3d5),()=>{const _0x590fea=_0x4247c8,_0x450877=document[_0x590fea(0x36b)](_0x590fea(0x38f))[_0x590fea(0x7c0)][_0x590fea(0x52d)]();generateQuiz(_0x450877,null);}),document['getElementById']('generate-from-text-btn')[_0x4247c8(0x889)](_0x4247c8(0x3d5),()=>{const _0x3eeabb=_0x4247c8,_0x102c61=document[_0x3eeabb(0x36b)](_0x3eeabb(0x3e7))[_0x3eeabb(0x7c0)][_0x3eeabb(0x52d)]();if(!_0x102c61){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x2afd77=document[_0x3eeabb(0x36b)]('topic-input')[_0x3eeabb(0x7c0)][_0x3eeabb(0x52d)]();generateQuiz(_0x2afd77,_0x102c61);});async function generateQuiz(_0x344354,_0x44d78d,_0x8a3fa4=null){const _0x2b5e27=_0x4247c8,_0x3bdc96=document[_0x2b5e27(0x36b)]('include-images-checkbox')[_0x2b5e27(0x57f)],_0x2404de=document[_0x2b5e27(0x36b)](_0x2b5e27(0x7a0))[_0x2b5e27(0x7c0)],_0x3ed0bb=document[_0x2b5e27(0x36b)](_0x2b5e27(0x1a8))[_0x2b5e27(0x7c0)],_0x278953=document[_0x2b5e27(0x36b)](_0x2b5e27(0x496))[_0x2b5e27(0x7c0)],_0x5acf0e=document[_0x2b5e27(0x36b)](_0x2b5e27(0x915))[_0x2b5e27(0x57f)],_0x5dde34=_0x5acf0e?'':_0x2b5e27(0x46c),_0x59325a=document[_0x2b5e27(0x36b)](_0x2b5e27(0x54a)),_0x51d9b5=_0x59325a[_0x2b5e27(0x7c0)];let _0x564f3c='';_0x51d9b5!==_0x2b5e27(0x38d)&&(_0x564f3c=_0x2b5e27(0x40c)+_0x51d9b5+'\x22');const _0x28d173=document['getElementById'](_0x2b5e27(0x4d9)),_0x1c50d0=_0x28d173[_0x2b5e27(0x7c0)];let _0x5a735c='';_0x1c50d0!==_0x2b5e27(0x552)&&(_0x5a735c=_0x2b5e27(0x945)+_0x1c50d0+_0x2b5e27(0x7a5));const _0x329a1e=document[_0x2b5e27(0x16d)]('#math-topics-checkbox-container\x20input:checked'),_0x3ceef6=Array['from'](_0x329a1e)[_0x2b5e27(0x1c2)](_0x1aec16=>_0x1aec16[_0x2b5e27(0x7c0)]);let _0x32caac='';_0x3ceef6[_0x2b5e27(0x47b)]>0x0&&(_0x32caac=_0x2b5e27(0x490)+_0x3ceef6[_0x2b5e27(0x182)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x256744='',_0x3a20d3='',_0x34b2d1,_0x4cf09b='เกี่ยวกับหัวข้อ\x20\x22'+_0x344354+'\x22';if(!_0x344354&&_0x44d78d)_0x4cf09b=_0x2b5e27(0x68b);else!_0x344354&&!_0x44d78d&&(_0x4cf09b=_0x2b5e27(0x6b4));const _0x4a00bd={'type':'OBJECT','properties':{'questionText':{'type':_0x2b5e27(0x784)},'options':{'type':'ARRAY','items':{'type':_0x2b5e27(0x784)}},'correctAnswerIndex':{'type':_0x2b5e27(0x596)},'explanation':{'type':_0x2b5e27(0x784)},'imageCode':{'type':_0x2b5e27(0x784)}},'required':[_0x2b5e27(0x35e),'options','correctAnswerIndex','explanation']},_0x11992b={'type':_0x2b5e27(0x659),'properties':{'questionText':{'type':_0x2b5e27(0x784)},'idealAnswer':{'type':_0x2b5e27(0x784)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2b5e27(0x784)}},'required':[_0x2b5e27(0x35e),_0x2b5e27(0x88a),_0x2b5e27(0x812)]},_0x21b24d={'type':_0x2b5e27(0x659),'properties':{'questionText':{'type':_0x2b5e27(0x784)},'questionType':{'type':_0x2b5e27(0x784),'enum':[_0x2b5e27(0x795),_0x2b5e27(0x510)]},'options':{'type':_0x2b5e27(0x41e),'items':{'type':_0x2b5e27(0x784)}},'correctAnswerIndex':{'type':_0x2b5e27(0x596)},'idealAnswer':{'type':_0x2b5e27(0x784)},'explanation':{'type':_0x2b5e27(0x784)},'imageCode':{'type':_0x2b5e27(0x784)}},'required':[_0x2b5e27(0x35e),_0x2b5e27(0x402),'explanation']},_0x2c6832={'type':'OBJECT','properties':{'questionText':{'type':_0x2b5e27(0x784)},'correctAnswer':{'type':_0x2b5e27(0x8ce)},'explanation':{'type':_0x2b5e27(0x784)},'imageCode':{'type':_0x2b5e27(0x784)}},'required':[_0x2b5e27(0x35e),_0x2b5e27(0x5ca),_0x2b5e27(0x812)]},_0x43d666={'type':_0x2b5e27(0x659),'properties':{'questionType':{'type':_0x2b5e27(0x784),'enum':[_0x2b5e27(0x8fa)]},'stem':{'type':_0x2b5e27(0x784)},'correctResponse':{'type':_0x2b5e27(0x784)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2b5e27(0x784)},'imageCode':{'type':_0x2b5e27(0x784)}},'required':['questionType',_0x2b5e27(0x3cd),_0x2b5e27(0x624),_0x2b5e27(0x341),_0x2b5e27(0x812)]};let _0x499e07;if(_0x8a3fa4!==null){const _0x1b0b63=currentQuizData[_0x2b5e27(0x4d7)][_0x8a3fa4]['questionType'],_0x31b7a2=_0x3bdc96?_0x2b5e27(0x693):'';_0x256744=_0x2b5e27(0x579)+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x31b7a2+'\x20'+simpleMathPrompt;if(_0x1b0b63===_0x2b5e27(0x795))_0x34b2d1=_0x4a00bd;else{if(_0x1b0b63===_0x2b5e27(0x8fa))_0x34b2d1={'type':_0x2b5e27(0x659),'properties':{'questionType':{'type':_0x2b5e27(0x784),'enum':[_0x2b5e27(0x8fa)]},'stem':{'type':_0x2b5e27(0x784)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x2b5e27(0x784)},'imageCode':{'type':'STRING'}},'required':[_0x2b5e27(0x402),'stem','correctResponse',_0x2b5e27(0x812)]};else _0x34b2d1=_0x11992b;}_0x499e07=_0x34b2d1;}else{const _0x31fa46=_0x3bdc96?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x3674bf=_0x2b5e27(0x917);switch(_0x2404de){case'multiple_choice':_0x256744=_0x2b5e27(0x830)+_0x5dde34+'\x20'+_0x3ed0bb+_0x2b5e27(0x449)+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+_0x2b5e27(0x911)+_0x278953+_0x2b5e27(0x3f5)+_0x31fa46+'\x20'+simpleMathPrompt,_0x34b2d1=_0x4a00bd;break;case _0x2b5e27(0x4f7):_0x256744=_0x2b5e27(0x78b)+_0x5dde34+'\x20'+_0x3ed0bb+_0x2b5e27(0x449)+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x278953+_0x2b5e27(0x306)+_0x31fa46+'\x20'+simpleMathPrompt,_0x34b2d1=_0x4a00bd;break;case _0x2b5e27(0x6d9):_0x256744='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5dde34+'\x20'+_0x3ed0bb+'\x20ข้อ\x20'+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x31fa46+'\x20'+simpleMathPrompt,_0x34b2d1=_0x11992b;break;case _0x2b5e27(0x552):_0x256744=_0x2b5e27(0x45d)+_0x5dde34+'\x20'+_0x3ed0bb+_0x2b5e27(0x449)+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x278953+'\x20ตัวเลือก.\x20'+_0x31fa46+'\x20'+simpleMathPrompt+'.',_0x34b2d1=_0x21b24d;break;case _0x2b5e27(0x4ef):_0x256744='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5dde34+'\x20'+_0x3ed0bb+'\x20ข้อ\x20'+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x31fa46+'\x20'+simpleMathPrompt,_0x34b2d1=_0x2c6832;break;case _0x2b5e27(0x422):_0x256744='สร้างชุดคำถามจับคู่'+_0x5dde34+'\x20'+_0x3ed0bb+_0x2b5e27(0x2a0)+_0x4cf09b+'\x20'+_0x32caac+'\x20'+_0x564f3c+'\x20'+_0x5a735c+_0x2b5e27(0x91f)+_0x31fa46+'\x20'+simpleMathPrompt,_0x34b2d1=_0x43d666;break;}_0x499e07={'type':'OBJECT','properties':{'topic':{'type':_0x2b5e27(0x784)},'questions':{'type':'ARRAY','items':_0x34b2d1}},'required':[_0x2b5e27(0x761),'questions']};}return _0x44d78d?(_0x256744='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x44d78d+'\x22,\x20'+_0x256744,_0x3a20d3='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x3a20d3=_0x2b5e27(0x3d1),handleApiCall(_0x256744,_0x3a20d3,_0x499e07,_0x8a3fa4);}async function generateQuizFromFile(_0x191b4b,_0x41f986){const _0x2190df=_0x4247c8,_0x311190=document['getElementById']('file-topic-input')[_0x2190df(0x7c0)][_0x2190df(0x52d)](),_0x13d785=document[_0x2190df(0x36b)](_0x2190df(0x7a0))['value'],_0x16bfb3=document[_0x2190df(0x36b)](_0x2190df(0x1a8))['value'],_0xad7cb1=document[_0x2190df(0x36b)](_0x2190df(0x496))[_0x2190df(0x7c0)],_0x239f1f=document['getElementById'](_0x2190df(0x627))[_0x2190df(0x57f)],_0x387230=document[_0x2190df(0x36b)](_0x2190df(0x915))['checked'],_0x391c97=_0x387230?'':'คณิตศาสตร์';let _0x2f6abe='',_0x39621a,_0x104596=_0x2190df(0x646)+_0x311190+'\x22';!_0x311190&&(_0x104596=_0x2190df(0x5a5));const _0x25d681=_0x239f1f?_0x2190df(0x48d):'';switch(_0x13d785){case _0x2190df(0x795):_0x2f6abe=_0x2190df(0x830)+_0x391c97+'\x20'+_0x16bfb3+_0x2190df(0x449)+_0x104596+_0x2190df(0x911)+_0xad7cb1+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x25d681+'\x20'+simpleMathPrompt,_0x39621a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2190df(0x41e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2190df(0x784)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x2190df(0x559),_0x2190df(0x812)]};break;case'fill_in_with_choices':_0x2f6abe=_0x2190df(0x78b)+_0x391c97+'\x20'+_0x16bfb3+_0x2190df(0x449)+_0x104596+_0x2190df(0x271)+_0xad7cb1+_0x2190df(0x306)+_0x25d681+'\x20'+simpleMathPrompt,_0x39621a={'type':_0x2190df(0x659),'properties':{'questionText':{'type':_0x2190df(0x784)},'options':{'type':_0x2190df(0x41e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2190df(0x596)},'explanation':{'type':_0x2190df(0x784)},'imageCode':{'type':'STRING'}},'required':[_0x2190df(0x35e),_0x2190df(0x7a2),_0x2190df(0x559),_0x2190df(0x812)]};break;case _0x2190df(0x6d9):_0x2f6abe='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x391c97+'\x20'+_0x16bfb3+_0x2190df(0x449)+_0x104596+_0x2190df(0x782)+_0x25d681+'\x20'+simpleMathPrompt,_0x39621a={'type':_0x2190df(0x659),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2190df(0x784)}},'required':[_0x2190df(0x35e),_0x2190df(0x88a),'explanation']};break;case _0x2190df(0x552):_0x2f6abe=_0x2190df(0x45d)+_0x391c97+'\x20'+_0x16bfb3+'\x20ข้อ\x20'+_0x104596+_0x2190df(0x1e5)+_0xad7cb1+'\x20ตัวเลือก.\x20'+_0x25d681+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x39621a={'type':'OBJECT','properties':{'questionText':{'type':_0x2190df(0x784)},'questionType':{'type':_0x2190df(0x784),'enum':[_0x2190df(0x795),_0x2190df(0x510)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2190df(0x596)},'idealAnswer':{'type':_0x2190df(0x784)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2190df(0x402),_0x2190df(0x812)]};break;case _0x2190df(0x4ef):_0x2f6abe='สร้างคำถามแบบใช่/ไม่ใช่'+_0x391c97+'\x20'+_0x16bfb3+_0x2190df(0x449)+_0x104596+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x25d681+'\x20'+simpleMathPrompt,_0x39621a={'type':_0x2190df(0x659),'properties':{'questionText':{'type':_0x2190df(0x784)},'correctAnswer':{'type':_0x2190df(0x8ce)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2190df(0x784)}},'required':[_0x2190df(0x35e),_0x2190df(0x5ca),_0x2190df(0x812)]};break;case _0x2190df(0x422):_0x2f6abe=_0x2190df(0x8c9)+_0x391c97+'\x20'+_0x16bfb3+_0x2190df(0x2a0)+_0x104596+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x16bfb3+_0x2190df(0x18d)+_0x25d681+'\x20'+simpleMathPrompt,_0x39621a={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x2190df(0x8fa)]},'stem':{'type':_0x2190df(0x784)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2190df(0x41e),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2190df(0x784)}},'required':['questionType',_0x2190df(0x3cd),_0x2190df(0x624),_0x2190df(0x341),_0x2190df(0x812)]};break;}const _0x4fba89={'type':_0x2190df(0x659),'properties':{'topic':{'type':_0x2190df(0x784)},'questions':{'type':_0x2190df(0x41e),'items':_0x39621a}},'required':[_0x2190df(0x761),_0x2190df(0x4d7)]},_0x3e597e='จากไฟล์ที่แนบมานี้,\x20'+_0x2f6abe,_0x19b3f3={'contents':[{'parts':[{'text':_0x3e597e},{'inlineData':{'mimeType':_0x191b4b,'data':_0x41f986}}]}],'generationConfig':{'responseMimeType':_0x2190df(0x3ce),'responseSchema':_0x4fba89}};return handleApiCall(_0x19b3f3[_0x2190df(0x5fe)][0x0][_0x2190df(0x269)],_0x2190df(0x828),_0x4fba89);}async function handleApiCall(_0x6083af,_0x3422c7,_0x13fb03,_0x3f28c2=null){const _0x123cf5=_0x4247c8,_0x36eef8=document[_0x123cf5(0x36b)](_0x123cf5(0x76d)),_0x4c7042=document[_0x123cf5(0x36b)]('loader'),_0xcf1aa7=document[_0x123cf5(0x36b)](_0x123cf5(0x6a1)),_0x559f5f=document[_0x123cf5(0x36b)](_0x123cf5(0x202));_0x36eef8[_0x123cf5(0x3e0)][_0x123cf5(0x691)](_0x123cf5(0x20f));_0x3f28c2===null&&(_0x559f5f[_0x123cf5(0x48a)]='');_0x4c7042[_0x123cf5(0x3e0)][_0x123cf5(0x691)](_0x123cf5(0x20f)),_0xcf1aa7[_0x123cf5(0x6e3)]=_0x3422c7,document[_0x123cf5(0x36b)](_0x123cf5(0x122))[_0x123cf5(0x65e)]=!![],document[_0x123cf5(0x36b)]('generate-from-text-btn')[_0x123cf5(0x65e)]=!![],document[_0x123cf5(0x36b)](_0x123cf5(0x87e))[_0x123cf5(0x65e)]=!![];try{const _0x4bd2b2={'responseMimeType':_0x123cf5(0x3ce),'responseSchema':_0x13fb03},_0x54b676=Array['isArray'](_0x6083af)?_0x6083af:[{'text':_0x6083af}],_0x312288={'contents':[{'role':'user','parts':_0x54b676}],'generationConfig':_0x4bd2b2},_0x1640b1=_0x123cf5(0x823),_0x2624e8=_0x123cf5(0x1b3)+_0x1640b1,_0x325976=await fetch(_0x2624e8,{'method':'POST','headers':{'Content-Type':_0x123cf5(0x3ce)},'body':JSON[_0x123cf5(0x549)](_0x312288)});if(!_0x325976['ok'])throw new Error(_0x123cf5(0x88d)+_0x325976[_0x123cf5(0xfe)]);const _0x22e81b=await _0x325976[_0x123cf5(0x770)]();if(_0x22e81b[_0x123cf5(0x861)]?.[0x0]?.[_0x123cf5(0x4fc)]?.['parts']?.[0x0]){let _0x5e561e=_0x22e81b['candidates'][0x0][_0x123cf5(0x4fc)][_0x123cf5(0x269)][0x0][_0x123cf5(0x73f)],_0x2bff3d;try{if(_0x5e561e['startsWith'](_0x123cf5(0x5cf)))_0x5e561e=_0x5e561e[_0x123cf5(0x4b7)](0x7,_0x5e561e[_0x123cf5(0x47b)]-0x3)[_0x123cf5(0x52d)]();else _0x5e561e[_0x123cf5(0x493)](_0x123cf5(0x403))&&(_0x5e561e=_0x5e561e[_0x123cf5(0x4b7)](0x3,_0x5e561e['length']-0x3)['trim']());_0x2bff3d=JSON[_0x123cf5(0x60c)](_0x5e561e);}catch(_0x366ae6){console['error'](_0x123cf5(0x2d2),_0x366ae6,_0x5e561e);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x3f28c2!==null){if(_0x2bff3d[_0x123cf5(0x402)]===_0x123cf5(0x8fa)){const _0x3717c3=currentQuizData['questions'][_0x123cf5(0x1c2)](_0x564297=>_0x564297[_0x123cf5(0x624)]);_0x2bff3d[_0x123cf5(0x341)]=_0x3717c3;const _0x523183=currentQuizData['questions'][_0x3f28c2]['correctResponse'],_0x3229f8=_0x3717c3['indexOf'](_0x523183);_0x3229f8>-0x1&&(_0x3717c3[_0x3229f8]=_0x2bff3d[_0x123cf5(0x624)]),currentQuizData['questions'][_0x123cf5(0x204)](_0x4ce613=>{const _0x5b2a23=_0x123cf5;if(_0x4ce613[_0x5b2a23(0x402)]==='matching_item')_0x4ce613[_0x5b2a23(0x341)]=_0x3717c3;});}currentQuizData[_0x123cf5(0x4d7)][_0x3f28c2]=_0x2bff3d,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2bff3d;const _0x5dc9c4=document[_0x123cf5(0x36b)](_0x123cf5(0x7a0))['value'];currentQuizData[_0x123cf5(0x1bb)]=_0x5dc9c4,currentQuizData['questions']&&currentQuizData[_0x123cf5(0x4d7)][_0x123cf5(0x204)](_0x1a89ec=>{const _0x9ca9e8=_0x123cf5;if(!_0x1a89ec[_0x9ca9e8(0x402)]){if(_0x5dc9c4===_0x9ca9e8(0x4f7))_0x1a89ec[_0x9ca9e8(0x402)]=_0x9ca9e8(0x795);else _0x5dc9c4==='fill_in_no_choices'?_0x1a89ec[_0x9ca9e8(0x402)]=_0x9ca9e8(0x510):_0x1a89ec[_0x9ca9e8(0x402)]=_0x5dc9c4;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x123cf5(0x43a)](_0x123cf5(0x636),JSON[_0x123cf5(0x549)](_0x22e81b));throw new Error(_0x123cf5(0x5ad));}}catch(_0x3be6f6){console['error'](_0x123cf5(0x8ef),_0x3be6f6),showMessage(_0x123cf5(0x199)),_0x3f28c2===null&&(_0x559f5f[_0x123cf5(0x48a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x4c7042['classList']['add'](_0x123cf5(0x20f)),document['getElementById'](_0x123cf5(0x122))[_0x123cf5(0x65e)]=![],document[_0x123cf5(0x36b)](_0x123cf5(0x238))['disabled']=![],document[_0x123cf5(0x36b)](_0x123cf5(0x87e))[_0x123cf5(0x65e)]=![];const _0x40354b=document[_0x123cf5(0x36b)]('generate-from-file-btn');_0x40354b&&(_0x40354b[_0x123cf5(0x65e)]=![]);}}function exitFullscreen(){const _0x429ffb=_0x4247c8;if(document[_0x429ffb(0x644)])document['exitFullscreen']()[_0x429ffb(0x760)](_0x468f9b=>console[_0x429ffb(0x43a)](_0x468f9b));else{if(document['webkitExitFullscreen'])document[_0x429ffb(0x1f0)]();else document[_0x429ffb(0x601)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x26b8f3=_0x4247c8,_0x2eecad=document[_0x26b8f3(0x1ca)];if(_0x2eecad[_0x26b8f3(0x173)])_0x2eecad[_0x26b8f3(0x173)]()[_0x26b8f3(0x760)](_0x44d1e0=>{const _0x5d3b23=_0x26b8f3;console[_0x5d3b23(0x43a)](_0x5d3b23(0x487)+_0x44d1e0[_0x5d3b23(0x7be)]+'\x20('+_0x44d1e0[_0x5d3b23(0x103)]+')');});else{if(_0x2eecad[_0x26b8f3(0x863)])_0x2eecad[_0x26b8f3(0x863)]();else _0x2eecad[_0x26b8f3(0x45a)]&&_0x2eecad['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x3758b8=_0x4247c8;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3758b8(0x195),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3758b8(0x4a0)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x3758b8(0x36b)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3758b8(0x77a)](_0x3758b8(0x63c),handleVisibilityChange),document['removeEventListener'](_0x3758b8(0x3c3),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x3758b8(0x1b2),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x358b3b=_0x4247c8;if(currentMode===_0x358b3b(0x5e1)||!isQuizActive)return;if(document['visibilityState']===_0x358b3b(0x20f))handleCheatingEvent();else document[_0x358b3b(0x810)]==='visible'&&(console[_0x358b3b(0x25e)](_0x358b3b(0x2e9)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2cf060=_0x4247c8;if(currentMode===_0x2cf060(0x5e1)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4b01d7){const _0x79f57c=_0x4247c8,_0x532def=document[_0x79f57c(0x36b)]('generated-quiz-container');let _0x21fd98=_0x79f57c(0x4cb)+_0x4b01d7[_0x79f57c(0x761)]+'</h3>';_0x4b01d7[_0x79f57c(0x4d7)][_0x79f57c(0x204)]((_0x5a2411,_0x2d1ef9)=>{const _0x2478b1=_0x79f57c;!_0x5a2411['id']&&(_0x5a2411['id']='q_'+Date[_0x2478b1(0x163)]()+'_'+_0x2d1ef9);const _0x4f4e8b=_0x5a2411[_0x2478b1(0x402)]||_0x4b01d7[_0x2478b1(0x1bb)];_0x21fd98+=_0x2478b1(0x6c6)+_0x2d1ef9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2d1ef9+_0x2478b1(0x67c)+_0x2d1ef9+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2d1ef9+_0x2478b1(0x83e);switch(_0x4f4e8b){case _0x2478b1(0x8fa):_0x21fd98+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2d1ef9+'\x22>'+(_0x2d1ef9+0x1)+'.\x20'+_0x5a2411[_0x2478b1(0x3cd)]+_0x2478b1(0x8cb);_0x5a2411['imageCode']&&(_0x21fd98+=_0x2478b1(0x81b)+_0x2d1ef9+_0x2478b1(0x3aa)+_0x5a2411[_0x2478b1(0x3b1)]+_0x2478b1(0x732));_0x21fd98+=_0x2478b1(0x64e)+_0x2d1ef9+'\x22>'+_0x5a2411['correctResponse']+_0x2478b1(0x288),_0x21fd98+=_0x2478b1(0x7b4)+_0x2d1ef9+'\x22>'+_0x5a2411[_0x2478b1(0x812)]+_0x2478b1(0x288);break;case _0x2478b1(0x510):_0x21fd98+=_0x2478b1(0x20b)+_0x2d1ef9+'\x22>'+(_0x2d1ef9+0x1)+'.\x20'+_0x5a2411['questionText']+_0x2478b1(0x8cb);_0x5a2411['imageCode']&&(_0x21fd98+='<div\x20id=\x22q-image-container-'+_0x2d1ef9+_0x2478b1(0x3aa)+_0x5a2411[_0x2478b1(0x3b1)]+_0x2478b1(0x732));_0x21fd98+=_0x2478b1(0x93c)+_0x2d1ef9+'\x22>'+_0x5a2411['idealAnswer']+_0x2478b1(0x288),_0x21fd98+=_0x2478b1(0x7b4)+_0x2d1ef9+'\x22>'+_0x5a2411['explanation']+_0x2478b1(0x288);break;case'true_false':_0x21fd98+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2d1ef9+'\x22>'+(_0x2d1ef9+0x1)+'.\x20'+_0x5a2411[_0x2478b1(0x35e)]+_0x2478b1(0x8cb);_0x5a2411[_0x2478b1(0x3b1)]&&(_0x21fd98+='<div\x20id=\x22q-image-container-'+_0x2d1ef9+_0x2478b1(0x3aa)+_0x5a2411['imageCode']+'</div>');_0x21fd98+=_0x2478b1(0x81a)+(_0x5a2411[_0x2478b1(0x5ca)]===!![]?_0x2478b1(0x7e6):'')+_0x2478b1(0x486)+(_0x5a2411[_0x2478b1(0x5ca)]===![]?'text-green-600\x20font-bold':'')+_0x2478b1(0x3a9),_0x21fd98+=_0x2478b1(0x7b4)+_0x2d1ef9+'\x22>'+_0x5a2411[_0x2478b1(0x812)]+_0x2478b1(0x288);break;case'fill_in_the_blank':case _0x2478b1(0x795):default:_0x21fd98+=_0x2478b1(0x20b)+_0x2d1ef9+'\x22>'+(_0x2d1ef9+0x1)+'.\x20'+_0x5a2411[_0x2478b1(0x35e)]+'</p>';_0x5a2411['imageCode']&&(_0x21fd98+='<div\x20id=\x22q-image-container-'+_0x2d1ef9+_0x2478b1(0x3aa)+_0x5a2411['imageCode']+_0x2478b1(0x732));_0x21fd98+=_0x2478b1(0x5d7)+_0x2d1ef9+_0x2478b1(0x6ca)+_0x5a2411[_0x2478b1(0x7a2)][_0x2478b1(0x1c2)]((_0x26b0c0,_0x47bb05)=>_0x2478b1(0x91b)+(_0x47bb05===_0x5a2411['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x26b0c0+_0x2478b1(0x1e3))[_0x2478b1(0x182)]('')+_0x2478b1(0x524),_0x21fd98+=_0x2478b1(0x7b4)+_0x2d1ef9+'\x22>'+_0x5a2411[_0x2478b1(0x812)]+'</span></div>';break;}_0x21fd98+=_0x2478b1(0x732);}),_0x21fd98+=_0x79f57c(0x839),_0x532def[_0x79f57c(0x48a)]=_0x21fd98,document['querySelectorAll']('.edit-question-btn')['forEach'](_0x498afb=>_0x498afb[_0x79f57c(0x889)](_0x79f57c(0x3d5),handleEditQuestion)),document['querySelectorAll'](_0x79f57c(0x71e))[_0x79f57c(0x204)](_0x2ea496=>_0x2ea496[_0x79f57c(0x889)](_0x79f57c(0x3d5),handleRegenerateQuestion)),document[_0x79f57c(0x16d)](_0x79f57c(0x8f6))[_0x79f57c(0x204)](_0x24426b=>_0x24426b[_0x79f57c(0x889)]('click',handleSaveToBank)),document[_0x79f57c(0x36b)]('export-worksheet-pdf-btn')[_0x79f57c(0x889)](_0x79f57c(0x3d5),exportQuizAsWorksheetPDF),document[_0x79f57c(0x36b)](_0x79f57c(0x651))[_0x79f57c(0x889)](_0x79f57c(0x3d5),saveQuiz),document[_0x79f57c(0x36b)]('verify-answers-btn')[_0x79f57c(0x889)](_0x79f57c(0x3d5),handleVerifyAnswers);if(window[_0x79f57c(0x5cd)])window[_0x79f57c(0x5cd)][_0x79f57c(0x301)]([_0x532def]);}function handleRegenerateQuestion(_0x301035){const _0x3edaf1=_0x4247c8,_0x5e07a7=_0x301035[_0x3edaf1(0x425)][_0x3edaf1(0x29d)][_0x3edaf1(0x7f9)],_0x572f51=currentQuizData[_0x3edaf1(0x761)];showMessage(_0x3edaf1(0x68d)+(parseInt(_0x5e07a7)+0x1)+_0x3edaf1(0x405)),generateQuiz(_0x572f51,null,parseInt(_0x5e07a7));}function getPointerPosition(_0x3f78c3,_0x45944e){const _0x28325e=_0x4247c8,_0x31421a=_0x3f78c3['getScreenCTM']();let _0x397ae1,_0x474fc2;return _0x45944e[_0x28325e(0x29e)]&&_0x45944e[_0x28325e(0x29e)][_0x28325e(0x47b)]>0x0?(_0x397ae1=_0x45944e[_0x28325e(0x29e)][0x0][_0x28325e(0x5c4)],_0x474fc2=_0x45944e[_0x28325e(0x29e)][0x0]['clientY']):(_0x397ae1=_0x45944e['clientX'],_0x474fc2=_0x45944e[_0x28325e(0x61f)]),{'x':(_0x397ae1-_0x31421a['e'])/_0x31421a['a'],'y':(_0x474fc2-_0x31421a['f'])/_0x31421a['d']};}function startDrag(_0x24f7cf){const _0x25911a=_0x4247c8;_0x24f7cf['type']===_0x25911a(0x57e)&&_0x24f7cf['preventDefault']();const _0x347e66=_0x24f7cf[_0x25911a(0x6a6)][_0x25911a(0x429)](_0x25911a(0x48f));if(_0x347e66){draggedSvgElement=_0x347e66;const _0x1b3d49=draggedSvgElement[_0x25911a(0x717)],_0x44ae8c=getPointerPosition(_0x1b3d49,_0x24f7cf);svgOffset['x']=_0x44ae8c['x']-parseFloat(draggedSvgElement[_0x25911a(0x930)](null,'x')),svgOffset['y']=_0x44ae8c['y']-parseFloat(draggedSvgElement[_0x25911a(0x930)](null,'y'));}}function calculateItemAnalysis(_0x13793c,_0x4c848e){const _0x2e4190=_0x4247c8,_0x52c498={};if(_0x4c848e['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x27b820=[..._0x4c848e][_0x2e4190(0x254)]((_0x3d5c76,_0x5634af)=>{const _0x91d12f=_0x2e4190,_0x10e77e=_0x5634af[_0x91d12f(0x50d)]-_0x3d5c76[_0x91d12f(0x50d)];if(_0x10e77e!==0x0)return _0x10e77e;const _0x5a8a25=_0x3d5c76['attempts']?.[_0x91d12f(0x47b)]||0x1,_0x292184=_0x5634af['attempts']?.['length']||0x1,_0x4a845c=_0x5a8a25-_0x292184;if(_0x4a845c!==0x0)return _0x4a845c;const _0x21d7e4=new Date(_0x3d5c76['latestSubmittedAt']),_0x7abdd=new Date(_0x5634af['latestSubmittedAt']),_0x5b366e=_0x21d7e4-_0x7abdd;if(_0x5b366e!==0x0)return _0x5b366e;return _0x3d5c76[_0x91d12f(0x466)][_0x91d12f(0x727)](_0x5634af[_0x91d12f(0x466)],'th');}),_0x522aca=_0x27b820['length'],_0x12612b=Math[_0x2e4190(0x276)](0x1,Math[_0x2e4190(0x6e5)](_0x522aca*0.33));if(_0x12612b===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x38ab31=_0x27b820[_0x2e4190(0x67e)](0x0,_0x12612b),_0x557cf5=_0x27b820[_0x2e4190(0x67e)](-_0x12612b),_0x3aa02e=_0x38ab31[_0x2e4190(0x1c2)](_0x443e58=>_0x443e58['studentName']),_0x3559a2=_0x557cf5[_0x2e4190(0x1c2)](_0x51a00d=>_0x51a00d[_0x2e4190(0x466)]);return _0x13793c[_0x2e4190(0x4d7)]['forEach']((_0x25232d,_0x3ad05b)=>{const _0x115501=_0x2e4190,_0xe539a1=_0x25232d[_0x115501(0x3cd)]||_0x25232d[_0x115501(0x35e)];let _0x4ee82b=0x0,_0x1b76e5=0x0,_0x178fa2=0x0;const _0x178c2f=[],_0x39a82a=[];_0x38ab31[_0x115501(0x204)](_0x1acf74=>{const _0x58429a=_0x115501,_0x1007c4=_0x1acf74['attempts'][_0x1acf74[_0x58429a(0x27a)]['length']-0x1],_0x43bfff=_0x1007c4[_0x58429a(0x5f9)]['find'](_0x1fd08b=>_0x1fd08b[_0x58429a(0xf6)]===_0xe539a1);_0x178c2f[_0x58429a(0x852)]({'name':_0x1acf74['studentName'],'isCorrect':_0x43bfff?_0x43bfff[_0x58429a(0x3b0)]:![]}),_0x43bfff&&_0x43bfff[_0x58429a(0x3b0)]&&_0x1b76e5++;}),_0x557cf5['forEach'](_0x4b4642=>{const _0x3a3786=_0x115501,_0xbf1d9c=_0x4b4642[_0x3a3786(0x27a)][_0x4b4642[_0x3a3786(0x27a)][_0x3a3786(0x47b)]-0x1],_0xe001ea=_0xbf1d9c['answers'][_0x3a3786(0x1c5)](_0x226d54=>_0x226d54['originalQuestionText']===_0xe539a1);_0x39a82a[_0x3a3786(0x852)]({'name':_0x4b4642[_0x3a3786(0x466)],'isCorrect':_0xe001ea?_0xe001ea[_0x3a3786(0x3b0)]:![]}),_0xe001ea&&_0xe001ea[_0x3a3786(0x3b0)]&&_0x178fa2++;}),_0x4c848e[_0x115501(0x204)](_0x138e84=>{const _0x250e91=_0x115501,_0x431682=_0x138e84[_0x250e91(0x27a)][_0x138e84['attempts']['length']-0x1],_0x4b8dcd=_0x431682[_0x250e91(0x5f9)]['find'](_0x97c9db=>_0x97c9db[_0x250e91(0xf6)]===_0xe539a1);_0x4b8dcd&&_0x4b8dcd[_0x250e91(0x3b0)]&&_0x4ee82b++;});const _0x2488e1=_0x522aca>0x0?_0x4ee82b/_0x522aca:0x0,_0x31491f=_0x12612b>0x0?_0x1b76e5/_0x12612b-_0x178fa2/_0x12612b:0x0;_0x52c498[_0x3ad05b]={'p':_0x2488e1,'r':_0x31491f,'upperGroupResponders':_0x178c2f,'lowerGroupResponders':_0x39a82a};}),{'perQuestionStats':_0x52c498,'overallGroups':{'upperGroupNames':_0x3aa02e,'lowerGroupNames':_0x3559a2}};}function drag(_0x2e0442){const _0x7e2523=_0x4247c8;if(draggedSvgElement){_0x2e0442[_0x7e2523(0x8d5)]();const _0x2df816=draggedSvgElement[_0x7e2523(0x717)],_0x6c744f=getPointerPosition(_0x2df816,_0x2e0442),_0x482f77=_0x2df816[_0x7e2523(0x208)][_0x7e2523(0x2e0)];let _0x25c5ad=_0x6c744f['x']-svgOffset['x'],_0x2617eb=_0x6c744f['y']-svgOffset['y'];const _0x8de768=draggedSvgElement[_0x7e2523(0x8a8)]();_0x25c5ad=Math['max'](_0x482f77['x'],Math[_0x7e2523(0x47e)](_0x25c5ad,_0x482f77['x']+_0x482f77['width']-_0x8de768['width'])),_0x2617eb=Math[_0x7e2523(0x276)](_0x482f77['y'],Math[_0x7e2523(0x47e)](_0x2617eb,_0x482f77['y']+_0x482f77[_0x7e2523(0x569)]-_0x8de768[_0x7e2523(0x569)])),draggedSvgElement['setAttributeNS'](null,'x',_0x25c5ad),draggedSvgElement[_0x7e2523(0x15d)](null,'y',_0x2617eb);}}function endDrag(_0x4323ed){draggedSvgElement=null;}function handleSvgEditClick(_0xe0bd2e){const _0x5132b2=_0x4247c8;if(_0xe0bd2e[_0x5132b2(0x6a6)]['classList'][_0x5132b2(0x61a)](_0x5132b2(0x662))){const _0x39fa70=_0xe0bd2e[_0x5132b2(0x6a6)][_0x5132b2(0x29d)][_0x5132b2(0x3ba)],_0x5d6783=_0xe0bd2e['currentTarget'],_0x1299c0=_0x5d6783['querySelector']('#'+_0x39fa70);_0x1299c0&&_0x1299c0[_0x5132b2(0x691)](),_0xe0bd2e['target'][_0x5132b2(0x691)]();}}function handleEditQuestion(_0x370a6c){const _0x306ff0=_0x4247c8,_0x2c871c=_0x370a6c[_0x306ff0(0x425)],_0x31137c=_0x2c871c[_0x306ff0(0x29d)][_0x306ff0(0x7f9)],_0x48c2bc=currentQuizData['questions'][_0x31137c],_0x1914a0=document[_0x306ff0(0x36b)](_0x306ff0(0x26b)+_0x31137c),_0x133495=document['getElementById'](_0x306ff0(0x7d3)+_0x31137c),_0x4e4137=document[_0x306ff0(0x36b)](_0x306ff0(0x64b)+_0x31137c);if(_0x2c871c[_0x306ff0(0x48a)][_0x306ff0(0x635)](_0x306ff0(0x324))){_0x2c871c[_0x306ff0(0x48a)]=_0x306ff0(0x54e),_0x2c871c[_0x306ff0(0x868)]=_0x306ff0(0x180);if(_0x1914a0)_0x1914a0['contentEditable']=!![];if(_0x133495)_0x133495[_0x306ff0(0x649)]=!![];if(_0x4e4137){const _0x9debfb=_0x4e4137[_0x306ff0(0x788)]('svg');if(_0x9debfb){const _0x32560d=_0x9debfb[_0x306ff0(0x16d)]('text');_0x32560d['forEach']((_0x245810,_0x54c9b0)=>{const _0x155fab=_0x306ff0,_0x461621='editable-text-'+_0x31137c+'-'+_0x54c9b0;_0x245810['id']=_0x461621,_0x245810['classList'][_0x155fab(0x90a)](_0x155fab(0x597)),_0x245810['style'][_0x155fab(0x8bc)]=_0x155fab(0x23b);const _0x3fc2db=document[_0x155fab(0x626)](_0x155fab(0x5bf),'circle'),_0x27de1d=_0x245810[_0x155fab(0x8a8)]();_0x3fc2db[_0x155fab(0x39f)]('cx',String(_0x27de1d['x']+_0x27de1d[_0x155fab(0x1ad)]+0x5)),_0x3fc2db[_0x155fab(0x39f)]('cy',String(_0x27de1d['y']+_0x27de1d[_0x155fab(0x569)]/0x2-0x5)),_0x3fc2db['setAttribute']('r','5'),_0x3fc2db['setAttribute'](_0x155fab(0x5ae),_0x155fab(0x8e2)),_0x3fc2db[_0x155fab(0x39f)](_0x155fab(0x284),'delete-svg-btn'),_0x3fc2db[_0x155fab(0x29d)][_0x155fab(0x3ba)]=_0x461621,_0x245810[_0x155fab(0x34c)](_0x3fc2db);}),_0x9debfb[_0x306ff0(0x889)]('mousedown',startDrag),_0x9debfb['addEventListener'](_0x306ff0(0x886),drag),_0x9debfb[_0x306ff0(0x889)](_0x306ff0(0x718),endDrag),_0x9debfb[_0x306ff0(0x889)]('mouseleave',endDrag),_0x9debfb[_0x306ff0(0x889)](_0x306ff0(0x57e),startDrag,{'passive':![]}),_0x9debfb['addEventListener'](_0x306ff0(0x4e9),drag,{'passive':![]}),_0x9debfb[_0x306ff0(0x889)]('touchend',endDrag),_0x9debfb[_0x306ff0(0x889)](_0x306ff0(0x6d0),endDrag),_0x9debfb[_0x306ff0(0x889)](_0x306ff0(0x3d5),handleSvgEditClick);}}if(_0x1914a0)_0x1914a0[_0x306ff0(0x11e)]();}else{_0x2c871c[_0x306ff0(0x48a)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x2c871c['title']='แก้ไขข้อนี้';if(_0x1914a0){_0x1914a0[_0x306ff0(0x649)]=![];const _0x3ca405=_0x48c2bc[_0x306ff0(0x402)]||currentQuizData[_0x306ff0(0x1bb)];_0x3ca405===_0x306ff0(0x8fa)?_0x48c2bc[_0x306ff0(0x3cd)]=_0x1914a0[_0x306ff0(0x119)][_0x306ff0(0x4b7)](_0x1914a0[_0x306ff0(0x119)][_0x306ff0(0x4b8)]('.')+0x2)[_0x306ff0(0x52d)]():_0x48c2bc[_0x306ff0(0x35e)]=_0x1914a0['innerText'][_0x306ff0(0x4b7)](_0x1914a0[_0x306ff0(0x119)]['indexOf']('.')+0x2)['trim']();}_0x133495&&(_0x133495[_0x306ff0(0x649)]=![],_0x48c2bc[_0x306ff0(0x812)]=_0x133495[_0x306ff0(0x119)]);if(_0x4e4137){const _0x58a4dd=_0x4e4137[_0x306ff0(0x788)](_0x306ff0(0x159));if(_0x58a4dd){const _0xb72894=_0x58a4dd[_0x306ff0(0x457)](!![]);_0xb72894[_0x306ff0(0x16d)]('.delete-svg-btn')[_0x306ff0(0x204)](_0x40f33f=>_0x40f33f['remove']()),_0xb72894[_0x306ff0(0x16d)](_0x306ff0(0x48f))[_0x306ff0(0x204)](_0x30ab8c=>{const _0x2efd43=_0x306ff0;_0x30ab8c[_0x2efd43(0x3e0)][_0x2efd43(0x691)](_0x2efd43(0x597)),_0x30ab8c['style']['cursor']=_0x2efd43(0x22f),_0x30ab8c['removeAttribute']('id');}),_0x48c2bc['imageCode']=_0xb72894[_0x306ff0(0x112)],_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x8ea),startDrag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x886),drag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x718),endDrag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x413),endDrag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x57e),startDrag),_0x58a4dd['removeEventListener'](_0x306ff0(0x4e9),drag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x652),endDrag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x6d0),endDrag),_0x58a4dd[_0x306ff0(0x77a)](_0x306ff0(0x3d5),handleSvgEditClick),_0x58a4dd['querySelectorAll']('.delete-svg-btn')[_0x306ff0(0x204)](_0x56671a=>_0x56671a['remove']()),_0x58a4dd[_0x306ff0(0x16d)]('.draggable-text')[_0x306ff0(0x204)](_0x2db4ca=>{const _0x333dea=_0x306ff0;_0x2db4ca[_0x333dea(0x3e0)][_0x333dea(0x691)]('draggable-text'),_0x2db4ca['style'][_0x333dea(0x8bc)]=_0x333dea(0x22f);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x231db1){const _0x3ccd69=_0x4247c8,_0x30d09f=document[_0x3ccd69(0x36b)](_0x3ccd69(0x811)),_0x35c8ee=document[_0x3ccd69(0x36b)]('quiz-editor-questions-container');_0x35c8ee[_0x3ccd69(0x48a)]=_0x3ccd69(0x778),_0x30d09f[_0x3ccd69(0x3e0)]['remove']('hidden');try{const _0x322ca0=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x231db1),_0x188010=await getDoc(_0x322ca0);if(!_0x188010['exists']())throw new Error(_0x3ccd69(0x331));currentEditingQuizData={'id':_0x231db1,..._0x188010[_0x3ccd69(0x6d4)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x214ff5){console['error']('Error\x20opening\x20quiz\x20editor:',_0x214ff5),showMessage(_0x3ccd69(0x382)),_0x30d09f['classList'][_0x3ccd69(0x90a)](_0x3ccd69(0x20f));}}function renderQuizEditor(_0x5cbf03){const _0x4e78da=_0x4247c8;document[_0x4e78da(0x36b)](_0x4e78da(0x831))[_0x4e78da(0x7c0)]=_0x5cbf03['topic'];const _0x3c531b=document[_0x4e78da(0x36b)](_0x4e78da(0x23d));let _0x3fabca=_0x5cbf03[_0x4e78da(0x4d7)][_0x4e78da(0x1c2)]((_0x499e38,_0x20e75c)=>{const _0x4ad791=_0x4e78da;let _0x3eb814='';const _0x5367f5=_0x499e38[_0x4ad791(0x402)]||_0x5cbf03[_0x4ad791(0x1bb)];switch(_0x5367f5){case _0x4ad791(0x795):const _0x374ea5=(_0x499e38[_0x4ad791(0x7a2)]||[])[_0x4ad791(0x1c2)]((_0x131a96,_0x1e7126)=>_0x4ad791(0x17a)+_0x20e75c+_0x4ad791(0x123)+_0x1e7126+'\x22\x20'+(_0x1e7126===_0x499e38[_0x4ad791(0x559)]?_0x4ad791(0x57f):'')+_0x4ad791(0x15c)+_0x131a96+_0x4ad791(0x495))[_0x4ad791(0x182)]('');_0x3eb814='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x374ea5+_0x4ad791(0x8c3);break;case _0x4ad791(0x510):_0x3eb814=_0x4ad791(0x4c9)+(_0x499e38[_0x4ad791(0x88a)]||'')+_0x4ad791(0x166);break;case _0x4ad791(0x4ef):_0x3eb814=_0x4ad791(0x2c6)+_0x20e75c+_0x4ad791(0x617)+(_0x499e38[_0x4ad791(0x5ca)]===!![]?'checked':'')+_0x4ad791(0x49d)+_0x20e75c+_0x4ad791(0x27f)+(_0x499e38['correctAnswer']===![]?'checked':'')+_0x4ad791(0x2b3);break;case _0x4ad791(0x8fa):_0x3eb814=_0x4ad791(0x84e)+(_0x499e38['correctResponse']||'')+_0x4ad791(0x8d2);break;}const _0x1c5c48=_0x499e38[_0x4ad791(0x35e)]||_0x499e38['stem']||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x20e75c+_0x4ad791(0x7b8)+_0x5367f5+_0x4ad791(0x764)+(_0x20e75c+0x1)+'\x20('+_0x5367f5+_0x4ad791(0x283)+_0x1c5c48+_0x4ad791(0x192)+_0x3eb814+_0x4ad791(0x6e6);})[_0x4e78da(0x182)]('');_0x3c531b[_0x4e78da(0x48a)]=_0x3fabca,_0x3c531b['querySelectorAll'](_0x4e78da(0x6de))['forEach'](_0x270404=>{const _0x59c3c8=_0x4e78da;_0x270404['addEventListener'](_0x59c3c8(0x3d5),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x2eaca5){const _0x178207=_0x4247c8,_0x34f8a6=_0x2eaca5[_0x178207(0x425)],_0x16eb4a=_0x34f8a6[_0x178207(0x429)](_0x178207(0x3f8));if(!_0x16eb4a)return;const _0x3e246e=parseInt(_0x16eb4a[_0x178207(0x29d)][_0x178207(0x7fd)],0xa);if(isNaN(_0x3e246e)||!currentEditingQuizData[_0x178207(0x4d7)][_0x3e246e]){showMessage(_0x178207(0x8b8));return;}const _0x46c2b7=currentEditingQuizData[_0x178207(0x4d7)][_0x3e246e];_0x34f8a6[_0x178207(0x48a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x34f8a6[_0x178207(0x65e)]=!![];const _0x28f96f=_0x178207(0x246)+JSON[_0x178207(0x549)](_0x46c2b7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x50a7bf;const _0x25b47d=_0x46c2b7[_0x178207(0x402)]||currentEditingQuizData[_0x178207(0x1bb)];switch(_0x25b47d){case'short_answer':_0x50a7bf={'type':_0x178207(0x659),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x178207(0x784)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x178207(0x88a),'explanation']};break;case _0x178207(0x795):default:_0x50a7bf={'type':_0x178207(0x659),'properties':{'questionText':{'type':_0x178207(0x784)},'options':{'type':_0x178207(0x41e),'items':{'type':_0x178207(0x784)}},'correctAnswerIndex':{'type':_0x178207(0x596)},'explanation':{'type':_0x178207(0x784)},'imageCode':{'type':_0x178207(0x784)}},'required':[_0x178207(0x35e),_0x178207(0x7a2),_0x178207(0x559),_0x178207(0x812)]};break;}try{let _0x5dd117=await callAnalysisApi(_0x28f96f,_0x50a7bf);_0x5dd117[_0x178207(0x7a2)]&&Array[_0x178207(0x4a9)](_0x5dd117[_0x178207(0x7a2)])&&(_0x5dd117['options']=_0x5dd117[_0x178207(0x7a2)]['map'](_0x4d3f20=>typeof _0x4d3f20==='string'?_0x4d3f20[_0x178207(0x134)](/S(\s*[\d_]+?\s*)S/g,_0x178207(0x776)):_0x4d3f20)),_0x46c2b7[_0x178207(0x3b1)]&&_0x46c2b7[_0x178207(0x3b1)]['includes'](_0x178207(0x542))&&(_0x5dd117[_0x178207(0x3b1)]=''),currentEditingQuizData[_0x178207(0x4d7)][_0x3e246e]={..._0x46c2b7,..._0x5dd117},renderQuizEditor(currentEditingQuizData),showMessage(_0x178207(0x737));}catch(_0x5748f2){console[_0x178207(0x43a)]('AI\x20Fix\x20Error:',_0x5748f2),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xbaebd7=_0x4247c8,_0x15d1af=document[_0xbaebd7(0x36b)](_0xbaebd7(0x40f));_0x15d1af[_0xbaebd7(0x65e)]=!![],_0x15d1af[_0xbaebd7(0x48a)]=_0xbaebd7(0x491);try{const _0x3b90a3=document[_0xbaebd7(0x36b)]('editor-quiz-topic')[_0xbaebd7(0x7c0)],_0x3bbe7d=document[_0xbaebd7(0x16d)](_0xbaebd7(0x3f8));let _0x2eb24c=[];const _0x259465=Array['from'](_0x3bbe7d)['map']((_0x186b50,_0x5bcc17)=>{const _0x5bc3cc=_0xbaebd7,_0x5f4701=_0x186b50[_0x5bc3cc(0x29d)]['qType'],_0x2cc790=_0x186b50[_0x5bc3cc(0x788)](_0x5bc3cc(0x13c))[_0x5bc3cc(0x7c0)];let _0xf1c156={'questionType':_0x5f4701};const _0x5c8e83=currentEditingQuizData[_0x5bc3cc(0x4d7)][_0x5bcc17];switch(_0x5f4701){case'multiple_choice':_0xf1c156['questionText']=_0x2cc790;const _0x1bf91a=_0x186b50[_0x5bc3cc(0x16d)]('input[type=\x22text\x22]');_0xf1c156['options']=Array[_0x5bc3cc(0x79d)](_0x1bf91a)[_0x5bc3cc(0x1c2)](_0x2de1d9=>_0x2de1d9[_0x5bc3cc(0x7c0)]);const _0x237a34=_0x186b50[_0x5bc3cc(0x788)](_0x5bc3cc(0x71b));_0xf1c156['correctAnswerIndex']=_0x237a34?parseInt(_0x237a34[_0x5bc3cc(0x7c0)]):0x0;break;case _0x5bc3cc(0x510):_0xf1c156[_0x5bc3cc(0x35e)]=_0x2cc790,_0xf1c156['idealAnswer']=_0x186b50['querySelector'](_0x5bc3cc(0x185))[_0x5bc3cc(0x7c0)];break;case _0x5bc3cc(0x4ef):_0xf1c156[_0x5bc3cc(0x35e)]=_0x2cc790;const _0x5a71d=_0x186b50['querySelector'](_0x5bc3cc(0x71b));_0xf1c156[_0x5bc3cc(0x5ca)]=_0x5a71d?_0x5a71d[_0x5bc3cc(0x7c0)]===_0x5bc3cc(0x78c):!![];break;case'matching_item':_0xf1c156[_0x5bc3cc(0x3cd)]=_0x2cc790;const _0x3017cb=_0x186b50[_0x5bc3cc(0x788)](_0x5bc3cc(0x1fe));_0xf1c156[_0x5bc3cc(0x624)]=_0x3017cb?_0x3017cb[_0x5bc3cc(0x7c0)]:'',_0x2eb24c[_0x5bc3cc(0x852)](_0xf1c156[_0x5bc3cc(0x624)]);break;default:_0xf1c156[_0x5bc3cc(0x35e)]=_0x2cc790;break;}return{..._0x5c8e83,..._0xf1c156};});_0x2eb24c[_0xbaebd7(0x47b)]>0x0&&_0x259465['forEach'](_0x3c2614=>{const _0x20608a=_0xbaebd7;_0x3c2614[_0x20608a(0x402)]===_0x20608a(0x8fa)&&(_0x3c2614[_0x20608a(0x341)]=_0x2eb24c);});const _0xdd19a3=currentEditingQuizData['id'],_0x517f3e=doc(db,_0xbaebd7(0x302)+appId+_0xbaebd7(0x42f),_0xdd19a3);await updateDoc(_0x517f3e,{'topic':_0x3b90a3,'questions':_0x259465}),document['getElementById'](_0xbaebd7(0x811))[_0xbaebd7(0x3e0)][_0xbaebd7(0x90a)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0xdd19a3));}catch(_0x4f0bd3){console['error']('Error\x20saving\x20quiz\x20edits:',_0x4f0bd3),showMessage(_0xbaebd7(0x1d1));}finally{_0x15d1af[_0xbaebd7(0x65e)]=![],_0x15d1af[_0xbaebd7(0x48a)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x417803){const _0x478b80=_0x4247c8;showMessage(_0x478b80(0x361));try{const _0x5f20e9=doc(db,_0x478b80(0x302)+appId+'/public/data/quizzes',_0x417803),_0x1461df=await getDoc(_0x5f20e9);if(!_0x1461df[_0x478b80(0x747)]())throw new Error(_0x478b80(0x681));const _0x3089d0={'id':_0x417803,..._0x1461df[_0x478b80(0x6d4)]()},_0x27b8ed=collection(db,_0x478b80(0x302)+appId+_0x478b80(0x42f),_0x417803,'submissions'),_0x3ba604=await getDocs(_0x27b8ed);if(_0x3ba604['empty']){showMessage(_0x478b80(0x5cc));return;}const _0x19bb27=_0x3ba604[_0x478b80(0x591)]['map'](_0x187242=>reGradeSingleSubmission(_0x187242,_0x3089d0));await Promise['all'](_0x19bb27);if(_0x3089d0[_0x478b80(0x69a)]){const _0x1960d6=doc(db,_0x478b80(0x302)+appId+'/public/data/projects',_0x3089d0[_0x478b80(0x69a)]),_0x533add=await getDoc(_0x1960d6);if(_0x533add[_0x478b80(0x747)]()&&_0x533add[_0x478b80(0x6d4)]()['students']){const _0x5f52a1=_0x533add[_0x478b80(0x6d4)]()['students'][_0x478b80(0x1c2)](_0x23c855=>updateStudentProfile(_0x3089d0[_0x478b80(0x69a)],_0x23c855));await Promise[_0x478b80(0x77d)](_0x5f52a1);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x3ba604['size']+_0x478b80(0x8e0));}catch(_0x4429b8){console[_0x478b80(0x43a)](_0x478b80(0x3b7),_0x4429b8),showMessage(_0x478b80(0x822)+_0x4429b8['message']);}}async function reGradeSingleSubmission(_0x5be763,_0x8ee209){const _0x5a55f0=_0x4247c8,_0x427556=_0x5be763[_0x5a55f0(0x6d4)](),_0x5b178d=_0x427556[_0x5a55f0(0x466)],_0x40a2ce=_0x427556[_0x5a55f0(0x27a)]||[],_0x573665=[];for(const _0x4de890 of _0x40a2ce){let _0x167704=0x0,_0x56d117=[],_0x5d472d=0x0;const _0x1d9092=[];for(const _0x1a6f0c of _0x4de890['answers']){let _0x2c93e0;_0x1a6f0c['questionId']&&(_0x2c93e0=_0x8ee209[_0x5a55f0(0x4d7)][_0x5a55f0(0x1c5)](_0x5e071d=>_0x5e071d['id']===_0x1a6f0c[_0x5a55f0(0x83f)]));!_0x2c93e0&&_0x1a6f0c[_0x5a55f0(0xf6)]&&(_0x2c93e0=_0x8ee209['questions'][_0x5a55f0(0x1c5)](_0x130db5=>(_0x130db5['stem']||_0x130db5['questionText'])===_0x1a6f0c[_0x5a55f0(0xf6)]));let _0x4ddca4=![];if(_0x2c93e0){const _0x15befb=_0x2c93e0['questionType']||_0x8ee209[_0x5a55f0(0x1bb)];switch(_0x15befb){case _0x5a55f0(0x795):if(_0x2c93e0[_0x5a55f0(0x7a2)]&&_0x2c93e0['correctAnswerIndex']<_0x2c93e0['options']['length']){const _0x24c596=_0x2c93e0[_0x5a55f0(0x7a2)][_0x2c93e0['correctAnswerIndex']];_0x4ddca4=_0x1a6f0c['answerText']===_0x24c596;}break;case _0x5a55f0(0x4ef):const _0x445396=_0x1a6f0c[_0x5a55f0(0x4ae)]===!![]||_0x1a6f0c[_0x5a55f0(0x4ae)]===_0x5a55f0(0x78c);_0x4ddca4=_0x445396===_0x2c93e0[_0x5a55f0(0x5ca)];break;case'matching_item':_0x4ddca4=_0x1a6f0c[_0x5a55f0(0x4ae)]===_0x2c93e0[_0x5a55f0(0x624)];break;case _0x5a55f0(0x510):_0x4ddca4=await gradeShortAnswer(_0x1a6f0c[_0x5a55f0(0x4ae)],_0x2c93e0);break;default:_0x4ddca4=_0x1a6f0c['isCorrect'];break;}}if(_0x4ddca4){_0x167704++,_0x5d472d++;if(_0x5d472d===0x3)_0x56d117[_0x5a55f0(0x852)](BADGES[_0x5a55f0(0x897)]['id']);}else _0x5d472d=0x0;_0x1d9092[_0x5a55f0(0x852)]({..._0x1a6f0c,'isCorrect':_0x4ddca4});}let _0x1862ae=_0x167704*0xa;_0x167704===_0x8ee209[_0x5a55f0(0x4d7)][_0x5a55f0(0x47b)]&&(_0x1862ae+=0x32,_0x56d117[_0x5a55f0(0x852)](BADGES[_0x5a55f0(0x4de)]['id'])),_0x573665[_0x5a55f0(0x852)]({..._0x4de890,'score':_0x167704,'points':_0x1862ae,'badges':Array[_0x5a55f0(0x79d)](new Set(_0x56d117)),'answers':_0x1d9092});}const _0x4661b7=_0x573665[_0x5a55f0(0x47b)]>0x0?_0x573665[0x0][_0x5a55f0(0x8fc)]:0x0,_0x16eefb=Math[_0x5a55f0(0x276)](..._0x573665[_0x5a55f0(0x1c2)](_0x3a7a41=>_0x3a7a41[_0x5a55f0(0x8fc)])),_0x1e5dcb=_0x573665[_0x5a55f0(0x47b)]>0x0?_0x573665[_0x573665[_0x5a55f0(0x47b)]-0x1][_0x5a55f0(0x8fc)]:0x0,_0x1bced6=_0x573665[_0x5a55f0(0x47b)]>0x0?_0x573665[_0x573665[_0x5a55f0(0x47b)]-0x1]['points']:0x0,_0x2d2a32=doc(db,_0x5a55f0(0x302)+appId+_0x5a55f0(0x6b7)+_0x8ee209['id']+_0x5a55f0(0x168),_0x5b178d);await updateDoc(_0x2d2a32,{'attempts':_0x573665,'firstScore':_0x4661b7,'bestScore':_0x16eefb,'latestScore':_0x1e5dcb,'points':_0x1bced6});}function cleanupQuizOptions(_0x74bcee){const _0x4580f8=_0x4247c8,_0x286337=(_0x10ad8b,_0x599a21)=>_0x599a21===0x0?_0x10ad8b:_0x286337(_0x599a21,_0x10ad8b%_0x599a21),_0x3a0ef3=_0x22b1bc=>{const _0x106323=_0x4780;if(typeof _0x22b1bc!=='string')return null;_0x22b1bc=_0x22b1bc['trim']();const _0x4c1e4d=_0x22b1bc[_0x106323(0x850)](/[ /]/)[_0x106323(0x42c)](_0x2e9b34=>_0x2e9b34!=='');if(_0x4c1e4d['length']===0x3)return parseInt(_0x4c1e4d[0x0])+parseInt(_0x4c1e4d[0x1])/parseInt(_0x4c1e4d[0x2]);else{if(_0x4c1e4d[_0x106323(0x47b)]===0x2)return parseInt(_0x4c1e4d[0x0])/parseInt(_0x4c1e4d[0x1]);else{if(_0x4c1e4d['length']===0x1&&!isNaN(_0x4c1e4d[0x0]))return parseFloat(_0x4c1e4d[0x0]);}}return null;},_0x5f469d=_0x269fb1=>{const _0x58d390=_0x4780;if(typeof _0x269fb1!==_0x58d390(0x669))return _0x269fb1;const _0x2fc6c5=_0x269fb1[_0x58d390(0x8c4)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2fc6c5){const _0x2f8da9=parseInt(_0x2fc6c5[0x1]);let _0x274fe4=parseInt(_0x2fc6c5[0x2]),_0x139b11=parseInt(_0x2fc6c5[0x3]);const _0x30c67a=_0x286337(_0x274fe4,_0x139b11);_0x274fe4/=_0x30c67a,_0x139b11/=_0x30c67a;if(_0x139b11===0x1)return(_0x2f8da9+_0x274fe4)[_0x58d390(0x4d5)]();return _0x2f8da9+'\x20'+_0x274fe4+'/'+_0x139b11;}return _0x269fb1;};return _0x74bcee&&_0x74bcee['questions']&&_0x74bcee[_0x4580f8(0x4d7)][_0x4580f8(0x204)](_0x454a86=>{const _0x4e8a8f=_0x4580f8;if(_0x454a86[_0x4e8a8f(0x402)]===_0x4e8a8f(0x795)&&_0x454a86['options']){const _0x5dda5b=new Map(),_0x46dc69=_0x454a86[_0x4e8a8f(0x7a2)][_0x454a86[_0x4e8a8f(0x559)]];_0x454a86[_0x4e8a8f(0x7a2)][_0x4e8a8f(0x204)](_0x3c1e46=>{const _0x29d957=_0x4e8a8f,_0x3b31c5=_0x5f469d(_0x3c1e46),_0x3f12c3=_0x3a0ef3(_0x3b31c5);_0x3f12c3!==null&&!_0x5dda5b[_0x29d957(0x29b)](_0x3f12c3)&&_0x5dda5b[_0x29d957(0x7a7)](_0x3f12c3,_0x3b31c5);}),_0x454a86[_0x4e8a8f(0x7a2)]=Array[_0x4e8a8f(0x79d)](_0x5dda5b[_0x4e8a8f(0x13b)]());const _0x58a7a6=_0x454a86[_0x4e8a8f(0x7a2)][_0x4e8a8f(0x78d)](_0x1ecc6=>_0x1ecc6===_0x5f469d(_0x46dc69));_0x454a86['correctAnswerIndex']=_0x58a7a6!==-0x1?_0x58a7a6:0x0;}}),_0x74bcee;}async function saveQuiz(){const _0x13405e=_0x4247c8;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x1a91bb=document[_0x13405e(0x36b)](_0x13405e(0x651));_0x1a91bb[_0x13405e(0x65e)]=!![],_0x1a91bb[_0x13405e(0x48a)]=_0x13405e(0x491);const _0x493abb=document[_0x13405e(0x36b)](_0x13405e(0x7a9))['checked'];let _0x592e29=document[_0x13405e(0x36b)](_0x13405e(0x66e))[_0x13405e(0x119)][_0x13405e(0x52d)]();_0x493abb&&!_0x592e29['startsWith']('(ก่อนเรียน)')&&(_0x592e29='(ก่อนเรียน)\x20'+_0x592e29);try{const _0x5175ad={'resultsDisplay':document['getElementById'](_0x13405e(0x5e0))['value'],'shuffle':document[_0x13405e(0x36b)](_0x13405e(0x297))['value'],'timerMode':document[_0x13405e(0x36b)](_0x13405e(0x316))[_0x13405e(0x7c0)],'timerDuration':parseInt(document[_0x13405e(0x36b)](_0x13405e(0x7ef))['value'])||0xa,'passingScore':parseInt(document[_0x13405e(0x36b)](_0x13405e(0x3e1))[_0x13405e(0x7c0)])||0x0,'isAdaptive':document[_0x13405e(0x36b)](_0x13405e(0x8f9))[_0x13405e(0x57f)],'loopUntilPass':document['getElementById'](_0x13405e(0x62d))['checked']},_0x2f4867=(currentQuizData[_0x13405e(0x4d7)]||[])['map']((_0x2dea44,_0xa4e99a)=>{const _0x140a38=_0x13405e,_0x1b5f1e=document[_0x140a38(0x36b)](_0x140a38(0x7a0))['value'],_0x4e926b={'id':'q_'+Date['now']()+'_'+_0xa4e99a,'questionText':_0x2dea44['questionText']||'','explanation':_0x2dea44['explanation']||'ไม่มีคำอธิบาย','questionType':_0x2dea44[_0x140a38(0x402)]||_0x1b5f1e,'imageCode':_0x2dea44[_0x140a38(0x3b1)]||null};return(_0x4e926b[_0x140a38(0x402)]===_0x140a38(0x795)||_0x4e926b['questionType']===_0x140a38(0x4f7)||_0x4e926b[_0x140a38(0x402)]===_0x140a38(0x552)&&_0x2dea44[_0x140a38(0x7a2)])&&(_0x4e926b[_0x140a38(0x7a2)]=_0x2dea44[_0x140a38(0x7a2)]||[],_0x4e926b['correctAnswerIndex']=_0x2dea44[_0x140a38(0x559)]!==undefined?_0x2dea44[_0x140a38(0x559)]:0x0),(_0x4e926b['questionType']==='short_answer'||_0x4e926b[_0x140a38(0x402)]===_0x140a38(0x6d9)||_0x4e926b[_0x140a38(0x402)]===_0x140a38(0x552)&&_0x2dea44[_0x140a38(0x88a)])&&(_0x4e926b[_0x140a38(0x88a)]=_0x2dea44['idealAnswer']||''),_0x4e926b[_0x140a38(0x402)]==='true_false'&&(_0x4e926b[_0x140a38(0x5ca)]=_0x2dea44[_0x140a38(0x5ca)]===!![]),_0x4e926b['questionType']===_0x140a38(0x8fa)&&(_0x4e926b[_0x140a38(0x3cd)]=_0x2dea44['stem']||'',_0x4e926b[_0x140a38(0x624)]=_0x2dea44['correctResponse']||'',_0x4e926b[_0x140a38(0x341)]=_0x2dea44[_0x140a38(0x341)]||[]),_0x4e926b;}),_0x235404={'topic':_0x592e29,'quizType':currentQuizData['quizType']||_0x13405e(0x795),'questions':_0x2f4867,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x13405e(0x6be)](),'status':_0x13405e(0x599),'settings':_0x5175ad,'quizMode':_0x493abb?_0x13405e(0x8da):_0x13405e(0x572),'pairedQuizId':null,'lessonPlan':null};let _0x1eedb4;while(!![]){_0x1eedb4=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x13405e(0x4d5)]();const _0x598aaf=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1eedb4));if(!_0x598aaf['exists']())break;}await setDoc(doc(db,_0x13405e(0x302)+appId+_0x13405e(0x42f),_0x1eedb4),_0x235404),currentQuizData[_0x13405e(0x59a)]=_0x5175ad,currentQuizData['id']=_0x1eedb4;const _0x3ee6ef=document[_0x13405e(0x36b)](_0x13405e(0x21a));_0x3ee6ef['innerHTML']=_0x13405e(0x52c)+_0x1eedb4+_0x13405e(0x3f2),document[_0x13405e(0x36b)](_0x13405e(0x539))[_0x13405e(0x889)](_0x13405e(0x3d5),()=>copyTextToClipboard(_0x1eedb4,'คัดลอกรหัสแล้ว!')),document[_0x13405e(0x36b)]('start-live-race-generated-btn')[_0x13405e(0x889)](_0x13405e(0x3d5),()=>handleStartLiveRace(_0x1eedb4)),document[_0x13405e(0x36b)](_0x13405e(0x902))[_0x13405e(0x889)](_0x13405e(0x3d5),()=>startPresentation(currentQuizData)),document[_0x13405e(0x36b)]('admin-try-quiz-btn')['addEventListener'](_0x13405e(0x3d5),startAdminTest),showMessage(_0x13405e(0x62f));}catch(_0x32c232){console[_0x13405e(0x43a)](_0x13405e(0x1dd),_0x32c232),showMessage(_0x13405e(0x576)),_0x1a91bb[_0x13405e(0x65e)]=![],_0x1a91bb['innerHTML']=_0x13405e(0x6eb);}}function promptForProjectAndSave(){const _0x43816c=_0x4247c8,_0x1187ea=document[_0x43816c(0x36b)](_0x43816c(0x201)),_0x542711=document[_0x43816c(0x36b)](_0x43816c(0x818)),_0x2a0d15=_0x1187ea['querySelector']('h3'),_0x367cb6=document['getElementById']('confirm-move-quiz-btn');_0x2a0d15[_0x43816c(0x6e3)]=_0x43816c(0x75c),_0x367cb6[_0x43816c(0x6e3)]=_0x43816c(0x5e3);allProjects['length']===0x0?(_0x542711[_0x43816c(0x48a)]=_0x43816c(0x751),_0x367cb6[_0x43816c(0x65e)]=!![]):(_0x542711['innerHTML']=allProjects[_0x43816c(0x1c2)](_0x56e41d=>_0x43816c(0x5c6)+_0x56e41d['id']+'\x22>'+_0x56e41d[_0x43816c(0x7df)]+_0x43816c(0x638))[_0x43816c(0x182)](''),_0x367cb6[_0x43816c(0x65e)]=![]);_0x1187ea[_0x43816c(0x3e0)][_0x43816c(0x691)](_0x43816c(0x20f));const _0x51a7f3=()=>{const _0x438026=_0x43816c,_0x1e64af=_0x542711['value'];_0x1e64af?(currentProjectId=_0x1e64af,_0x1187ea[_0x438026(0x3e0)][_0x438026(0x90a)](_0x438026(0x20f)),saveQuiz(),_0x2a0d15['textContent']=_0x438026(0x66b),_0x367cb6[_0x438026(0x6e3)]=_0x438026(0x41a),_0x367cb6['removeEventListener'](_0x438026(0x3d5),_0x51a7f3),_0x367cb6[_0x438026(0x889)](_0x438026(0x3d5),confirmMoveQuiz)):showMessage(_0x438026(0x4a3));};_0x367cb6[_0x43816c(0x77a)](_0x43816c(0x3d5),confirmMoveQuiz),_0x367cb6[_0x43816c(0x889)](_0x43816c(0x3d5),_0x51a7f3);}function copyTextToClipboard(_0x236a18,_0x309a1d){const _0x3cb530=_0x4247c8,_0x1bc0f1=document['createElement'](_0x3cb530(0x13c));_0x1bc0f1[_0x3cb530(0x7c0)]=_0x236a18,_0x1bc0f1['style']['position']='fixed',_0x1bc0f1['style'][_0x3cb530(0x1f6)]='0',document[_0x3cb530(0x444)][_0x3cb530(0x7dd)](_0x1bc0f1),_0x1bc0f1[_0x3cb530(0x11e)](),_0x1bc0f1[_0x3cb530(0x5f7)]();try{const _0x34b2d4=document['execCommand']('copy');showMessage(_0x34b2d4?_0x309a1d:_0x3cb530(0x241));}catch(_0x1cadf6){showMessage(_0x3cb530(0x241)),console[_0x3cb530(0x43a)]('Copy\x20command\x20failed',_0x1cadf6);}document[_0x3cb530(0x444)]['removeChild'](_0x1bc0f1);}function listenForProjectQuizzes(_0x4c722e){const _0x2a3b95=_0x4247c8,_0x33c82f=collection(db,_0x2a3b95(0x302)+appId+_0x2a3b95(0x42f)),_0x33dd78=query(_0x33c82f,where(_0x2a3b95(0x69a),'==',_0x4c722e));unsubscribeQuizzesListener=onSnapshot(_0x33dd78,async _0xbb7e2d=>{allQuizzes=_0xbb7e2d['docs']['map'](_0x4155ea=>({'id':_0x4155ea['id'],..._0x4155ea['data']()})),renderQuizzes();},_0x542fbc=>{const _0xa43586=_0x2a3b95;console['error'](_0xa43586(0x940),_0x542fbc),document['getElementById'](_0xa43586(0x65b))['innerHTML']=_0xa43586(0x26c);});}async function renderQuizzes(){const _0x528ab1=_0x4247c8,_0x24f29d=document[_0x528ab1(0x36b)](_0x528ab1(0x65b)),_0x1b5859=document['getElementById'](_0x528ab1(0x6e1))['value'][_0x528ab1(0x14b)]();let _0x2e9270;currentProjectId==='starred'?_0x2e9270=starredQuizzes:_0x2e9270=allQuizzes;let _0x3acefc=_0x2e9270[_0x528ab1(0x42c)](_0x3d9a7b=>_0x3d9a7b['topic'][_0x528ab1(0x14b)]()[_0x528ab1(0x635)](_0x1b5859));_0x3acefc[_0x528ab1(0x254)]((_0x25dfc4,_0x443ea9)=>new Date(_0x443ea9[_0x528ab1(0x30b)])-new Date(_0x25dfc4[_0x528ab1(0x30b)]));if(_0x3acefc[_0x528ab1(0x47b)]===0x0){_0x24f29d['innerHTML']=_0x528ab1(0x2c8);return;}const _0x5ecfc5={},_0x5977b2=_0x3acefc[_0x528ab1(0x1c2)](async _0xb511a1=>{const _0x49dc92=_0x528ab1,_0x14fde2=collection(db,'artifacts/'+appId+_0x49dc92(0x6b7)+_0xb511a1['id']+'/submissions'),_0x43568d=await getDocs(_0x14fde2);_0x5ecfc5[_0xb511a1['id']]=_0x43568d[_0x49dc92(0x4bf)];});await Promise[_0x528ab1(0x77d)](_0x5977b2);let _0x2e08df='';_0x3acefc[_0x528ab1(0x204)](_0x1c87d8=>{const _0x451ef4=_0x528ab1,_0x225f3f=_0x5ecfc5[_0x1c87d8['id']]||0x0,_0x3925de=_0x1c87d8['status']||_0x451ef4(0x599),_0x344b15=_0x1c87d8[_0x451ef4(0x59a)]?.[_0x451ef4(0x1b6)]||_0x451ef4(0x2aa);let _0x4c51f3='',_0x538f20='';const _0x153488=new Date();let _0x4dfe9b=_0x3925de;if(_0x3925de===_0x451ef4(0x26e)){const _0x2233c6=_0x1c87d8[_0x451ef4(0x538)]?new Date(_0x1c87d8[_0x451ef4(0x538)]):null,_0x455f53=_0x1c87d8[_0x451ef4(0x78f)]?new Date(_0x1c87d8['endTime']):null;if(_0x455f53&&_0x153488>_0x455f53)_0x4dfe9b='inactive';else _0x2233c6&&_0x153488<_0x2233c6?_0x4dfe9b=_0x451ef4(0x729):_0x4dfe9b='active';}switch(_0x4dfe9b){case'inactive':_0x4c51f3=_0x451ef4(0x1e6),_0x538f20=_0x451ef4(0x883);break;case'scheduled_pending':_0x4c51f3='รอเปิด',_0x538f20=_0x451ef4(0xf2);break;case _0x451ef4(0x599):_0x4c51f3=_0x344b15!==_0x451ef4(0x2aa)?_0x451ef4(0x31e):_0x451ef4(0x533),_0x538f20=_0x451ef4(0x13d);break;default:_0x4c51f3=_0x451ef4(0x2ac),_0x538f20=_0x451ef4(0x13d);break;}let _0x593390='';const _0x3937de={'day':_0x451ef4(0x2e8),'month':_0x451ef4(0x2e8),'year':'numeric','hour':'2-digit','minute':_0x451ef4(0x2e8),'hour12':![]};if(_0x3925de===_0x451ef4(0x26e)){if(_0x1c87d8[_0x451ef4(0x538)])_0x593390+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1c87d8[_0x451ef4(0x538)])[_0x451ef4(0x7c6)](_0x451ef4(0x78e),_0x3937de)+'</p>';if(_0x1c87d8[_0x451ef4(0x78f)])_0x593390+=_0x451ef4(0x908)+new Date(_0x1c87d8['endTime'])[_0x451ef4(0x7c6)](_0x451ef4(0x78e),_0x3937de)+'</p>';}let _0x11aef1='';if(_0x1c87d8['pairedQuizId']){const _0x631de2=allQuizzes[_0x451ef4(0x1c5)](_0x5a12d9=>_0x5a12d9['id']===_0x1c87d8[_0x451ef4(0x15a)]);if(_0x631de2){let _0x3a46cb,_0x37c04d;new Date(_0x1c87d8[_0x451ef4(0x30b)])<new Date(_0x631de2[_0x451ef4(0x30b)])?(_0x3a46cb=_0x1c87d8['id'],_0x37c04d=_0x631de2['id']):(_0x3a46cb=_0x631de2['id'],_0x37c04d=_0x1c87d8['id']),_0x11aef1+=_0x451ef4(0x2d3)+_0x37c04d+_0x451ef4(0x23e)+_0x3a46cb+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x1c87d8[_0x451ef4(0x560)]===_0x451ef4(0x8da)&&(_0x11aef1+=_0x451ef4(0x605)+_0x1c87d8['id']+_0x451ef4(0x478));if(_0x1c87d8[_0x451ef4(0x560)]===_0x451ef4(0x8da)&&_0x225f3f>0x0)_0x11aef1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c87d8['id']+_0x451ef4(0x177);else!_0x1c87d8[_0x451ef4(0x15a)]&&_0x1c87d8['quizMode']!=='pre-test'&&_0x225f3f>0x0&&(_0x11aef1+=_0x451ef4(0x605)+_0x1c87d8['id']+_0x451ef4(0x124));let _0x35f2d4='';_0x1c87d8['pairedQuizId']?_0x35f2d4=_0x451ef4(0x10c)+_0x1c87d8['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x35f2d4='<button\x20data-quiz-id=\x22'+_0x1c87d8['id']+_0x451ef4(0x28b),_0x2e08df+=_0x451ef4(0x8ad)+_0x1c87d8['id']+_0x451ef4(0x89c)+_0x1c87d8[_0x451ef4(0x761)]+_0x451ef4(0x295)+_0x1c87d8[_0x451ef4(0x4d7)][_0x451ef4(0x47b)]+_0x451ef4(0x344)+new Date(_0x1c87d8[_0x451ef4(0x30b)])[_0x451ef4(0x7c6)](_0x451ef4(0x78e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x225f3f+_0x451ef4(0x37b)+_0x593390+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x538f20+'\x22>'+_0x4c51f3+_0x451ef4(0x37f)+_0x1c87d8['id']+_0x451ef4(0x4c1)+_0x1c87d8['id']+_0x451ef4(0x661)+(_0x1c87d8[_0x451ef4(0x2fb)]?_0x451ef4(0x52e):_0x451ef4(0x2f6))+_0x451ef4(0x74a)+_0x11aef1+_0x451ef4(0x56c)+_0x1c87d8['id']+_0x451ef4(0x29a)+_0x1c87d8['id']+_0x451ef4(0x4a5)+_0x1c87d8['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c87d8['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c87d8['id']+_0x451ef4(0x645)+_0x1c87d8['id']+_0x451ef4(0x6b9)+_0x1c87d8['id']+'\x22\x20data-topic=\x22'+_0x1c87d8[_0x451ef4(0x761)]+_0x451ef4(0x383)+_0x1c87d8['id']+_0x451ef4(0x373)+_0x1c87d8['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35f2d4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c87d8['id']+_0x451ef4(0x866)+_0x1c87d8['id']+_0x451ef4(0x5c0)+_0x1c87d8['id']+_0x451ef4(0x412)+_0x1c87d8['id']+_0x451ef4(0x3b4)+_0x1c87d8['id']+_0x451ef4(0x4dc)+_0x1c87d8[_0x451ef4(0x761)]+_0x451ef4(0x222)+_0x1c87d8['id']+_0x451ef4(0x46d);}),_0x24f29d[_0x528ab1(0x48a)]=_0x2e08df,document[_0x528ab1(0x16d)](_0x528ab1(0x390))[_0x528ab1(0x204)](_0x54865d=>{const _0x19c4a9=_0x528ab1;_0x54865d[_0x19c4a9(0x889)](_0x19c4a9(0x3d5),()=>{const _0x108ad5=_0x19c4a9,_0x42ee46=_0x54865d[_0x108ad5(0x29d)][_0x108ad5(0x3a4)];showQuizDetailView(_0x42ee46);});});}async function handleUnpairQuiz(_0x27a570){const _0x1985fb=_0x4247c8,_0x3aa2ed=allQuizzes[_0x1985fb(0x1c5)](_0x887e0e=>_0x887e0e['id']===_0x27a570);if(!_0x3aa2ed||!_0x3aa2ed[_0x1985fb(0x15a)]){showMessage(_0x1985fb(0x327));return;}showConfirmation(_0x1985fb(0x44d),async()=>{const _0x58bfc2=_0x1985fb;try{const _0x3d4a23=doc(db,_0x58bfc2(0x302)+appId+'/public/data/quizzes',_0x27a570),_0x1e5345=doc(db,_0x58bfc2(0x302)+appId+_0x58bfc2(0x42f),_0x3aa2ed[_0x58bfc2(0x15a)]),_0x4e3b5f=writeBatch(db);_0x4e3b5f[_0x58bfc2(0x44a)](_0x3d4a23,{'pairedQuizId':null}),_0x4e3b5f['update'](_0x1e5345,{'pairedQuizId':null}),await _0x4e3b5f['commit'](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5a03d2){console[_0x58bfc2(0x43a)]('Error\x20unpairing\x20quizzes:',_0x5a03d2),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x1dbf8c,_0x20462c){const _0x514212=_0x4247c8,_0x9ade3b=window[_0x514212(0x6ce)]('',_0x514212(0xf9)),_0x4b8886='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x20462c[_0x514212(0x761)]+_0x514212(0x4b4)+_0x20462c[_0x514212(0x761)]+_0x514212(0x100)+_0x1dbf8c[_0x514212(0x376)]['map'](_0xf57660=>_0x514212(0x793)+_0xf57660+_0x514212(0x1e3))['join']('')+_0x514212(0x229)+_0x1dbf8c['teachingContent']+_0x514212(0x210)+_0x1dbf8c[_0x514212(0x783)][_0x514212(0x1c2)](_0xa7978f=>_0x514212(0x41b)+_0xa7978f[_0x514212(0x838)]+_0x514212(0x3c5)+_0xa7978f[_0x514212(0x2a7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x514212(0x182)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x9ade3b[_0x514212(0x545)][_0x514212(0x6b0)](_0x4b8886),_0x9ade3b['document'][_0x514212(0x32a)](),_0x9ade3b[_0x514212(0x473)]=function(){setTimeout(()=>{_0x9ade3b['print']();},0x3e8);};}async function handleAiFixFormula(_0x375274){const _0x6b065d=_0x4247c8,_0x153095=document[_0x6b065d(0x788)](_0x6b065d(0x6f6)+_0x375274+'\x22]');if(!_0x153095)return;const _0x198cb8=_0x153095[_0x6b065d(0x29d)][_0x6b065d(0x7eb)],_0x1c2f9e=_0x153095['querySelector'](_0x6b065d(0x70c));let _0x517330={'question':_0x153095['querySelector'](_0x6b065d(0x13c))[_0x6b065d(0x7c0)]};switch(_0x198cb8){case _0x6b065d(0x795):_0x517330[_0x6b065d(0x7a2)]=Array[_0x6b065d(0x79d)](_0x153095['querySelectorAll'](_0x6b065d(0x506)))['map'](_0x39ae14=>_0x39ae14[_0x6b065d(0x7c0)]);break;case _0x6b065d(0x510):_0x517330[_0x6b065d(0x88a)]=_0x153095[_0x6b065d(0x788)]('.ideal-answer-input')[_0x6b065d(0x7c0)];break;case'matching_item':_0x517330[_0x6b065d(0x624)]=_0x153095['querySelector'](_0x6b065d(0x1fe))[_0x6b065d(0x7c0)];break;}_0x1c2f9e[_0x6b065d(0x48a)]=_0x6b065d(0x328),_0x1c2f9e[_0x6b065d(0x65e)]=!![];try{const _0x383fe5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x517330)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2cabeb={'type':_0x6b065d(0x659),'properties':{'fixedData':{'type':_0x6b065d(0x659),'properties':{'question':{'type':_0x6b065d(0x784)},'options':{'type':_0x6b065d(0x41e),'items':{'type':_0x6b065d(0x784)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x6b065d(0x784)}},'required':[_0x6b065d(0x838)]}},'required':[_0x6b065d(0x6af)]},_0x12082e=await callAnalysisApi(_0x383fe5,_0x2cabeb);if(_0x12082e&&_0x12082e[_0x6b065d(0x6af)]){const _0x549ab0=_0x12082e[_0x6b065d(0x6af)];_0x153095[_0x6b065d(0x788)](_0x6b065d(0x13c))[_0x6b065d(0x7c0)]=_0x549ab0[_0x6b065d(0x838)]||_0x517330[_0x6b065d(0x838)];switch(_0x198cb8){case _0x6b065d(0x795):_0x549ab0[_0x6b065d(0x7a2)]&&_0x549ab0[_0x6b065d(0x7a2)][_0x6b065d(0x47b)]>0x0&&_0x153095[_0x6b065d(0x16d)](_0x6b065d(0x506))[_0x6b065d(0x204)]((_0x47fd29,_0x28c369)=>{const _0x5f2b4e=_0x6b065d;_0x47fd29['value']=_0x549ab0[_0x5f2b4e(0x7a2)][_0x28c369]||_0x517330[_0x5f2b4e(0x7a2)][_0x28c369];});break;case _0x6b065d(0x510):_0x153095[_0x6b065d(0x788)](_0x6b065d(0x185))['value']=_0x549ab0[_0x6b065d(0x88a)]||_0x517330[_0x6b065d(0x88a)];break;case _0x6b065d(0x8fa):_0x153095['querySelector']('.correct-response-input')[_0x6b065d(0x7c0)]=_0x549ab0['correctResponse']||_0x517330[_0x6b065d(0x624)];break;}if(_0x517330[_0x6b065d(0x838)]!==_0x549ab0[_0x6b065d(0x838)])try{const _0x17952=collection(db,_0x6b065d(0x302)+appId+_0x6b065d(0x3ed));await addDoc(_0x17952,{'broken':_0x517330['question'],'fixed':_0x549ab0[_0x6b065d(0x838)],'createdAt':serverTimestamp()});}catch(_0x1e70df){console[_0x6b065d(0x43a)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x1e70df);}showMessage(_0x6b065d(0x423));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x20e80){console[_0x6b065d(0x43a)](_0x6b065d(0x768),_0x20e80),showMessage(_0x6b065d(0x8e4));}finally{_0x1c2f9e[_0x6b065d(0x48a)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x1c2f9e[_0x6b065d(0x65e)]=![];}}async function handleGenerateLessonPlan(_0x294ca8){const _0x23e7a6=_0x4247c8;showMessage(_0x23e7a6(0x2be));try{const _0x584af7=doc(db,_0x23e7a6(0x302)+appId+_0x23e7a6(0x42f),_0x294ca8),_0x4ce594=await getDoc(_0x584af7);if(!_0x4ce594[_0x23e7a6(0x747)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2680b0={'id':_0x294ca8,..._0x4ce594['data']()},_0x328da9=collection(db,_0x23e7a6(0x302)+appId+'/public/data/quizzes',_0x294ca8,_0x23e7a6(0x667)),_0x468522=await getDocs(_0x328da9),_0x3d3fc7=_0x468522[_0x23e7a6(0x591)][_0x23e7a6(0x1c2)](_0x33b0ec=>_0x33b0ec[_0x23e7a6(0x6d4)]());if(_0x3d3fc7[_0x23e7a6(0x47b)]===0x0)throw new Error(_0x23e7a6(0x169));const _0x2beb3f=calculateItemAnalysis(_0x2680b0,_0x3d3fc7)[_0x23e7a6(0x305)],_0x42d572=calculateDistractorAnalysis(_0x2680b0,_0x3d3fc7),_0x5c20be=_0x5e14be=>{const _0x3def31=_0x23e7a6;if(!_0x5e14be)return'';return _0x5e14be['replace'](/\\/g,'\x5c\x5c')[_0x3def31(0x134)](/"/g,'\x5c\x22')[_0x3def31(0x134)](/\n/g,'\x5cn');};let _0x5d78c0=_0x23e7a6(0x912);_0x2680b0['questions'][_0x23e7a6(0x204)]((_0x4666c2,_0xc0582f)=>{const _0x3d5481=_0x23e7a6,_0x5f5d94=_0x2beb3f[_0xc0582f]?.['p'][_0x3d5481(0x49b)](0x2)||_0x3d5481(0x24c),_0x290793=_0x2beb3f[_0xc0582f]?.['r']['toFixed'](0x2)||_0x3d5481(0x24c),_0x54adf0=_0x5c20be(_0x4666c2[_0x3d5481(0x35e)]||_0x4666c2[_0x3d5481(0x3cd)]);_0x5d78c0+=_0x3d5481(0x8e7)+(_0xc0582f+0x1)+_0x3d5481(0x447)+_0x5f5d94+_0x3d5481(0x862)+_0x290793+_0x3d5481(0x70f)+_0x54adf0+'\x5cn';if(_0x4666c2[_0x3d5481(0x402)]==='multiple_choice'&&_0x42d572[_0xc0582f]){const _0xe2e039=_0x42d572[_0xc0582f],_0x3b25e9=Object[_0x3d5481(0x32c)](_0xe2e039)[_0x3d5481(0x42c)](_0x4132a7=>parseInt(_0x4132a7)!==_0x4666c2['correctAnswerIndex'])[_0x3d5481(0x254)]((_0x4d2c8d,_0x41b637)=>_0xe2e039[_0x41b637]['total']-_0xe2e039[_0x4d2c8d][_0x3d5481(0x8f7)])[0x0];if(_0x3b25e9&&_0xe2e039[_0x3b25e9][_0x3d5481(0x8f7)]>0x0){const _0x27a2a5=_0x5c20be(_0xe2e039[_0x3b25e9][_0x3d5481(0x73f)]);_0x5d78c0+=_0x3d5481(0x142)+_0x27a2a5+'\x22\x5cn';}}});const _0x187918=_0x23e7a6(0x239)+_0x2680b0[_0x23e7a6(0x761)]+_0x23e7a6(0x4c3)+_0x5d78c0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xb3da46={'type':'OBJECT','properties':{'learningGaps':{'type':_0x23e7a6(0x41e),'items':{'type':_0x23e7a6(0x784)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x23e7a6(0x41e),'items':{'type':_0x23e7a6(0x659),'properties':{'question':{'type':_0x23e7a6(0x784)},'solution':{'type':_0x23e7a6(0x784)}}}}},'required':['learningGaps',_0x23e7a6(0x5d3),_0x23e7a6(0x783)]},_0x52bf30=await callAnalysisApi(_0x187918,_0xb3da46);await updateDoc(_0x584af7,{'lessonPlan':_0x52bf30});const _0x9d01fc=_0x23e7a6(0x740)+_0x2680b0[_0x23e7a6(0x761)]+_0x23e7a6(0x1b1)+_0x52bf30[_0x23e7a6(0x376)][_0x23e7a6(0x1c2)](_0x50af18=>_0x23e7a6(0x793)+_0x50af18+_0x23e7a6(0x1e3))[_0x23e7a6(0x182)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x52bf30[_0x23e7a6(0x5d3)]+_0x23e7a6(0x436)+_0x52bf30[_0x23e7a6(0x783)][_0x23e7a6(0x1c2)](_0x420bd9=>_0x23e7a6(0x272)+_0x420bd9['question']+_0x23e7a6(0x1d5)+_0x420bd9[_0x23e7a6(0x2a7)]+_0x23e7a6(0x82a))[_0x23e7a6(0x182)]('')+_0x23e7a6(0x18e);document[_0x23e7a6(0x36b)](_0x23e7a6(0x25b))[_0x23e7a6(0x6e3)]=_0x23e7a6(0x25a)+_0x2680b0[_0x23e7a6(0x761)],document[_0x23e7a6(0x36b)](_0x23e7a6(0x26a))[_0x23e7a6(0x48a)]=_0x9d01fc,document[_0x23e7a6(0x36b)](_0x23e7a6(0x1f3))[_0x23e7a6(0x3e0)][_0x23e7a6(0x691)]('hidden');if(window[_0x23e7a6(0x5cd)])MathJax['typesetPromise']();messageModal['classList'][_0x23e7a6(0x90a)](_0x23e7a6(0x20f));}catch(_0xfd78cd){console[_0x23e7a6(0x43a)](_0x23e7a6(0x58e),_0xfd78cd),showMessage(_0x23e7a6(0x856)+_0xfd78cd[_0x23e7a6(0x7be)]);}}async function handleDuplicateQuiz(_0x2c05d2){const _0x520289=_0x4247c8;try{const _0x4d3baf=doc(db,'artifacts/'+appId+_0x520289(0x42f),_0x2c05d2),_0x363cac=await getDoc(_0x4d3baf);if(_0x363cac['exists']()){const _0x3b6a34=_0x363cac[_0x520289(0x6d4)]();let _0x78330='',_0x1b4bf5=_0x520289(0x572),_0x310544=null;if(_0x3b6a34[_0x520289(0x560)]===_0x520289(0x8da)){let _0x3f9907=_0x3b6a34['topic'][_0x520289(0x134)](_0x520289(0x819),'')[_0x520289(0x52d)]();_0x78330=_0x520289(0x90f)+_0x3f9907,_0x1b4bf5=_0x520289(0x92b),_0x310544=_0x2c05d2;}else _0x78330=_0x520289(0x2d7)+_0x3b6a34[_0x520289(0x761)];const _0xe1e5e1={..._0x3b6a34,'topic':_0x78330,'createdAt':new Date()[_0x520289(0x6be)](),'quizMode':_0x1b4bf5,'pairedQuizId':_0x310544};let _0x4a30ae;while(!![]){_0x4a30ae=Math[_0x520289(0x6e5)](0x3e8+Math[_0x520289(0x509)]()*0x2328)[_0x520289(0x4d5)]();const _0x430261=await getDoc(doc(db,_0x520289(0x302)+appId+_0x520289(0x42f),_0x4a30ae));if(!_0x430261[_0x520289(0x747)]())break;}const _0x49cdd7=doc(db,_0x520289(0x302)+appId+_0x520289(0x42f),_0x4a30ae);await setDoc(_0x49cdd7,_0xe1e5e1),_0xe1e5e1[_0x520289(0x560)]===_0x520289(0x92b)&&await updateDoc(_0x4d3baf,{'pairedQuizId':_0x4a30ae}),showMessage(_0x520289(0x64a));}else throw new Error(_0x520289(0x2c4));}catch(_0x3b0336){console[_0x520289(0x43a)]('Error\x20duplicating\x20quiz:',_0x3b0336),showMessage(_0x520289(0x337));}}async function handleDeleteQuiz(_0x416e64,_0x1f03c6=!![]){const _0x4b8181=_0x4247c8;try{const _0x383eed=writeBatch(db),_0x5bf8f6=collection(db,_0x4b8181(0x302)+appId+'/public/data/quizzes/'+_0x416e64+_0x4b8181(0x168)),_0x169234=await getDocs(_0x5bf8f6);_0x169234[_0x4b8181(0x204)](_0x2fad0b=>{const _0x365a30=_0x4b8181;_0x383eed[_0x365a30(0x118)](doc(_0x5bf8f6,_0x2fad0b['id']));});const _0x72969d=doc(db,_0x4b8181(0x302)+appId+'/public/data/quizzes',_0x416e64);_0x383eed[_0x4b8181(0x118)](_0x72969d),await _0x383eed[_0x4b8181(0x59b)](),_0x1f03c6&&showMessage(_0x4b8181(0x93b));}catch(_0x54bd7f){console[_0x4b8181(0x43a)](_0x4b8181(0x1ac),_0x54bd7f),_0x1f03c6&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x464431){const _0xceadde=_0x4247c8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xceadde(0x551));try{const _0x2e099b=doc(db,_0xceadde(0x302)+appId+'/public/data/quizzes',_0x464431),_0x269e93=await getDoc(_0x2e099b);if(!_0x269e93[_0xceadde(0x747)]()){showMessage(_0xceadde(0x681));return;}const _0x2c214b={'id':_0x269e93['id'],..._0x269e93[_0xceadde(0x6d4)]()};currentQuizData=_0x2c214b;const _0xa9ccc1=doc(db,'artifacts/'+appId+_0xceadde(0x522),_0x2c214b[_0xceadde(0x69a)]),_0x297df4=await getDoc(_0xa9ccc1);_0x297df4[_0xceadde(0x747)]()?(currentProjectData=_0x297df4['data'](),currentProjectId=_0x2c214b['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x2c214b['projectId']);document[_0xceadde(0x36b)](_0xceadde(0x618))[_0xceadde(0x6e3)]=_0x2c214b['topic'],document[_0xceadde(0x36b)]('results-quiz-id-display')[_0xceadde(0x6e3)]=_0x464431;const _0x1d1c20=collection(db,_0xceadde(0x302)+appId+_0xceadde(0x42f),_0x464431,_0xceadde(0x667));unsubscribeSubmissionsListener=onSnapshot(_0x1d1c20,_0x32c7a7=>{const _0xf3336b=_0xceadde,_0x3d418c=_0x32c7a7[_0xf3336b(0x591)][_0xf3336b(0x1c2)](_0x43c6e2=>({'id':_0x43c6e2['id'],..._0x43c6e2[_0xf3336b(0x6d4)]()}));currentSubmissions=_0x3d418c;const _0x4008d7=_0x3d418c['filter'](_0x4bdebe=>_0x4bdebe[_0xf3336b(0x27a)]&&_0x4bdebe['attempts']['length']>0x0);renderBehaviorLog(_0x3d418c),renderAnswerGrid(currentProjectData[_0xf3336b(0x8a4)],_0x4008d7,_0x2c214b),renderAnalytics(_0x2c214b,_0x4008d7),renderQuizResultsTable(currentProjectData['students'],_0x3d418c,_0x2c214b),renderQuizLeaderboard(_0x4008d7,_0x2c214b,_0xf3336b(0x6ab));}),showView(_0xceadde(0x386));}catch(_0x5d003e){console[_0xceadde(0x43a)](_0xceadde(0x39b),_0x5d003e),showMessage(_0xceadde(0x840));}}function renderAnswerGrid(_0x2fb3b9,_0x1aaa9a,_0x5a69dd){const _0xf87dbd=_0x4247c8,_0x3eefc5=document[_0xf87dbd(0x36b)](_0xf87dbd(0x541));if(!_0x3eefc5)return;if(!_0x2fb3b9||_0x2fb3b9[_0xf87dbd(0x47b)]===0x0){_0x3eefc5[_0xf87dbd(0x48a)]=_0xf87dbd(0x7fe);return;}const _0x23356b=_0x5a69dd['questions'],_0x484b49=_0x1aaa9a[_0xf87dbd(0x860)]((_0x2a333e,_0x50825c)=>{const _0x416dab=_0xf87dbd;return _0x2a333e[_0x50825c[_0x416dab(0x466)]]=_0x50825c,_0x2a333e;},{}),_0x40e4b9=_0x257501=>String[_0xf87dbd(0x66c)](0x41+_0x257501),_0x173701=_0x91f671=>{const _0x297b9f=_0xf87dbd,_0x3fb040=_0x91f671['questionType']||_0x5a69dd[_0x297b9f(0x1bb)];switch(_0x3fb040){case'multiple_choice':return _0x91f671[_0x297b9f(0x7a2)]&&_0x91f671[_0x297b9f(0x7a2)][_0x297b9f(0x47b)]>_0x91f671[_0x297b9f(0x559)]?_0x40e4b9(_0x91f671[_0x297b9f(0x559)]):'-';case _0x297b9f(0x4ef):return _0x91f671[_0x297b9f(0x5ca)]?'ใช่':'ไม่ใช่';case'matching_item':return _0x91f671[_0x297b9f(0x624)]||'-';case _0x297b9f(0x510):return _0x297b9f(0x2df);default:return'-';}},_0x2b2252=(_0x3668d2,_0x5daba7)=>{const _0x5aa452=_0xf87dbd;if(_0x5daba7[_0x5aa452(0x4ae)]===null||_0x5daba7[_0x5aa452(0x4ae)]===undefined)return'-';const _0x472a89=_0x3668d2[_0x5aa452(0x402)]||_0x5a69dd['quizType'];switch(_0x472a89){case _0x5aa452(0x795):const _0xeb935c=_0x3668d2[_0x5aa452(0x7a2)][_0x5aa452(0x78d)](_0xc05add=>_0xc05add===_0x5daba7['answerText']);return _0xeb935c!==-0x1?_0x40e4b9(_0xeb935c):_0x5daba7['answerText']||'-';case _0x5aa452(0x4ef):return _0x5daba7[_0x5aa452(0x4ae)]===_0x5aa452(0x78c)||_0x5daba7[_0x5aa452(0x4ae)]===!![]?'ใช่':_0x5aa452(0x5b8);default:return _0x5daba7['answer'];}};let _0x4395c6=_0xf87dbd(0x320)+_0x23356b[_0xf87dbd(0x1c2)]((_0x447b84,_0x37b9f1)=>_0xf87dbd(0x1c6)+(_0x37b9f1+0x1)+_0xf87dbd(0x3c8))[_0xf87dbd(0x182)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23356b['map'](_0x2a48b4=>_0xf87dbd(0x762)+_0x173701(_0x2a48b4)+_0xf87dbd(0x1c8))['join']('')+_0xf87dbd(0x62e);_0x2fb3b9[_0xf87dbd(0x204)](_0x9ed8e5=>{const _0x3e6234=_0xf87dbd;_0x4395c6+=_0x3e6234(0x3b2),_0x4395c6+=_0x3e6234(0x650)+_0x9ed8e5+_0x3e6234(0x1c8);const _0x52c4cc=_0x484b49[_0x9ed8e5];if(_0x52c4cc){const _0x35486b=_0x52c4cc['attempts'][_0x52c4cc[_0x3e6234(0x27a)][_0x3e6234(0x47b)]-0x1];_0x23356b[_0x3e6234(0x204)]((_0x5230f7,_0x22f818)=>{const _0x2ca107=_0x3e6234,_0x18dd04=_0x35486b[_0x2ca107(0x5f9)][_0x2ca107(0x1c5)](_0x2bb76c=>_0x2bb76c['originalQuestionText']===(_0x5230f7[_0x2ca107(0x3cd)]||_0x5230f7['questionText']));if(_0x18dd04){let _0x317296=![];const _0x266d36=_0x5230f7['questionType']||_0x5a69dd['quizType'];if(_0x18dd04[_0x2ca107(0x4ae)]!==null&&_0x18dd04[_0x2ca107(0x4ae)]!==undefined)switch(_0x266d36){case _0x2ca107(0x795):const _0x207c3e=_0x5230f7[_0x2ca107(0x7a2)][_0x5230f7[_0x2ca107(0x559)]];_0x317296=_0x18dd04[_0x2ca107(0x7a3)]===_0x207c3e;break;case _0x2ca107(0x4ef):const _0x327a42=_0x18dd04[_0x2ca107(0x4ae)]===!![]||_0x18dd04[_0x2ca107(0x4ae)]===_0x2ca107(0x78c);_0x317296=_0x327a42===_0x5230f7['correctAnswer'];break;case _0x2ca107(0x8fa):_0x317296=_0x18dd04[_0x2ca107(0x4ae)]===_0x5230f7['correctResponse'];break;default:_0x317296=_0x18dd04[_0x2ca107(0x3b0)];break;}const _0x3b5329=_0x317296?_0x2ca107(0x357):'bg-red-100';_0x4395c6+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x3b5329+'\x22>'+_0x2b2252(_0x5230f7,_0x18dd04)+_0x2ca107(0x1c8);}else _0x4395c6+=_0x2ca107(0x3b6);});}else _0x4395c6+=_0x23356b[_0x3e6234(0x1c2)](()=>_0x3e6234(0x154))[_0x3e6234(0x182)]('');_0x4395c6+=_0x3e6234(0x49f);}),_0x4395c6+='</tbody></table>',_0x3eefc5[_0xf87dbd(0x48a)]=_0x4395c6;}function renderQuizResultsTable(_0x543417,_0x31bd68,_0x245af2){const _0x27195a=_0x4247c8,_0x256a98=_0x31bd68[_0x27195a(0x860)]((_0x29ad30,_0x516ff9)=>{return _0x29ad30[_0x516ff9['studentName']]=_0x516ff9,_0x29ad30;},{}),_0x23a316=document['querySelector'](_0x27195a(0x22d));_0x23a316&&!_0x23a316['innerHTML']['includes'](_0x27195a(0x734))&&(_0x23a316['innerHTML']+=_0x27195a(0x2ce));const _0x58b549=document[_0x27195a(0x36b)]('quiz-results-table-body');if(!_0x543417||_0x543417[_0x27195a(0x47b)]===0x0){_0x58b549[_0x27195a(0x48a)]=_0x27195a(0x467);return;}const _0x461ae2=_0x245af2[_0x27195a(0x3ff)]===!![],_0x5e6c87=_0x245af2[_0x27195a(0x59a)]?.[_0x27195a(0x15e)]??-0x1;let _0x2fa7c7='';_0x543417['forEach'](_0x48d102=>{const _0x34b651=_0x27195a,_0x253804=_0x256a98[_0x48d102];let _0x1524a3=_0x34b651(0x8b5)+(_0x461ae2?_0x34b651(0x32e):_0x34b651(0x290))+'\x22>'+(_0x461ae2?_0x34b651(0x319):_0x34b651(0x641))+_0x34b651(0x5f0);if(_0x253804){if(_0x253804[_0x34b651(0x27a)]&&_0x253804[_0x34b651(0x27a)]['length']>0x0){let _0x55191e=_0x461ae2?_0x253804[_0x34b651(0x23f)]===_0x253804[_0x34b651(0x704)]:_0x5e6c87!==-0x1&&_0x253804[_0x34b651(0x23f)]>=_0x5e6c87;const _0x31c3ad=_0x55191e?_0x34b651(0x455):_0x34b651(0x2ff),_0x5ec4db=_0x55191e?_0x34b651(0x7f4):_0x34b651(0x4a8),_0x4afe86=_0x34b651(0x17c)+_0x31c3ad+'\x22>'+_0x5ec4db+_0x34b651(0x5f0),_0x1527c7=_0x34b651(0x262)+(_0x253804[_0x34b651(0x27a)]?.[_0x34b651(0x47b)]||0x1)+'\x20ครั้ง)</span></td>';_0x2fa7c7+=_0x34b651(0x369)+_0x48d102+_0x34b651(0x151)+_0x253804[_0x34b651(0x23f)]+'\x20/\x20'+_0x253804['totalQuestions']+_0x34b651(0x934)+_0x4afe86+_0x34b651(0x19e)+_0x1524a3+_0x34b651(0x7ee)+_0x253804[_0x34b651(0x135)]+_0x34b651(0x690)+_0x253804[_0x34b651(0x704)]+_0x34b651(0x876)+_0x253804[_0x34b651(0x50d)]+'\x20/\x20'+_0x253804['totalQuestions']+_0x34b651(0x1bf)+(_0x253804[_0x34b651(0x440)]||0x0)+_0x34b651(0x934)+_0x1527c7+_0x34b651(0x468)+new Date(_0x253804['latestSubmittedAt'])['toLocaleString'](_0x34b651(0x78e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x48d102+_0x34b651(0x1a7);}else{const _0x5ea7d0=_0x34b651(0x566);_0x2fa7c7+=_0x34b651(0x4e1)+_0x48d102+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1524a3+_0x34b651(0x5a4)+_0x5ea7d0+_0x34b651(0x468)+new Date(_0x253804[_0x34b651(0x4f3)])[_0x34b651(0x7c6)](_0x34b651(0x78e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x48d102+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x1a55ac=_0x34b651(0x31f);_0x2fa7c7+=_0x34b651(0x1f9)+_0x48d102+_0x34b651(0x765)+_0x1524a3+_0x34b651(0x2d1)+_0x1a55ac+_0x34b651(0x2c5);}}),_0x58b549[_0x27195a(0x48a)]=_0x2fa7c7;}async function confirmRenameQuiz(){const _0x399cdc=_0x4247c8,_0x115670=document['getElementById'](_0x399cdc(0x3d7))[_0x399cdc(0x7c0)][_0x399cdc(0x52d)]();if(!_0x115670){showMessage(_0x399cdc(0x244));return;}if(!actionTargetId)return;const _0x53aa15=doc(db,'artifacts/'+appId+_0x399cdc(0x42f),actionTargetId);try{await updateDoc(_0x53aa15,{'topic':_0x115670}),showMessage(_0x399cdc(0x1a2)),renameQuizModal['classList'][_0x399cdc(0x90a)](_0x399cdc(0x20f)),actionTargetId=null;}catch(_0x443b78){console[_0x399cdc(0x43a)](_0x399cdc(0x7c3),_0x443b78),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x584baa){const _0x4cb21f=_0x4247c8;actionTargetId=_0x584baa;const _0x520ffe=document[_0x4cb21f(0x36b)](_0x4cb21f(0x818));_0x520ffe[_0x4cb21f(0x48a)]=_0x4cb21f(0x406),moveQuizModal['classList'][_0x4cb21f(0x691)]('hidden');try{const _0x118b90=collection(db,_0x4cb21f(0x302)+appId+'/public/data/projects'),_0x652988=await getDocs(_0x118b90),_0x2d48cc=_0x652988[_0x4cb21f(0x591)][_0x4cb21f(0x1c2)](_0x146aeb=>({'id':_0x146aeb['id'],..._0x146aeb[_0x4cb21f(0x6d4)]()})),_0x1c5123=_0x2d48cc[_0x4cb21f(0x42c)](_0x16a2ba=>_0x16a2ba['id']!==currentProjectId);if(_0x1c5123[_0x4cb21f(0x47b)]===0x0){_0x520ffe[_0x4cb21f(0x48a)]=_0x4cb21f(0x51e),document[_0x4cb21f(0x36b)](_0x4cb21f(0x2af))[_0x4cb21f(0x65e)]=!![];return;}_0x520ffe[_0x4cb21f(0x48a)]=_0x1c5123[_0x4cb21f(0x1c2)](_0x2133a3=>'<option\x20value=\x22'+_0x2133a3['id']+'\x22>'+_0x2133a3[_0x4cb21f(0x7df)]+_0x4cb21f(0x638))[_0x4cb21f(0x182)](''),document[_0x4cb21f(0x36b)](_0x4cb21f(0x2af))['disabled']=![];}catch(_0xda9179){console[_0x4cb21f(0x43a)](_0x4cb21f(0x6c0),_0xda9179),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x4cb21f(0x3e0)][_0x4cb21f(0x90a)](_0x4cb21f(0x20f));}}async function confirmMoveQuiz(){const _0x58ade8=_0x4247c8,_0x3f74c2=document[_0x58ade8(0x36b)](_0x58ade8(0x818))[_0x58ade8(0x7c0)];if(!_0x3f74c2){showMessage(_0x58ade8(0x86d));return;}if(!actionTargetId)return;const _0x1f3270=doc(db,_0x58ade8(0x302)+appId+_0x58ade8(0x42f),actionTargetId);try{await updateDoc(_0x1f3270,{'projectId':_0x3f74c2}),showMessage(_0x58ade8(0x21d)),moveQuizModal[_0x58ade8(0x3e0)][_0x58ade8(0x90a)](_0x58ade8(0x20f)),actionTargetId=null;}catch(_0x4a3d05){console[_0x58ade8(0x43a)](_0x58ade8(0x6c2),_0x4a3d05),showMessage(_0x58ade8(0x36e));}}async function handleQuizSettings(_0x9779dd){const _0x192d58=_0x4247c8;actionTargetId=_0x9779dd;const _0x279fe6=doc(db,_0x192d58(0x302)+appId+_0x192d58(0x42f),_0x9779dd);try{const _0x264d3c=await getDoc(_0x279fe6);if(_0x264d3c[_0x192d58(0x747)]()){const _0x36f98f=_0x264d3c[_0x192d58(0x6d4)](),_0x302755=_0x36f98f[_0x192d58(0x59a)]||{},_0x52c3b1=_0x36f98f['questions']['length'];document[_0x192d58(0x36b)](_0x192d58(0x1db))[_0x192d58(0x7c0)]=_0x302755[_0x192d58(0x672)]||_0x192d58(0x2aa),document[_0x192d58(0x36b)](_0x192d58(0x918))[_0x192d58(0x7c0)]=_0x302755['resultsDisplay']||'show_results_and_answers',document[_0x192d58(0x36b)]('modal-timer-mode-select')[_0x192d58(0x7c0)]=_0x302755[_0x192d58(0x1b6)]||_0x192d58(0x2aa),document['getElementById']('modal-timer-duration-input')[_0x192d58(0x7c0)]=_0x302755[_0x192d58(0x277)]||0xa,document[_0x192d58(0x36b)](_0x192d58(0x3d8))[_0x192d58(0x7c0)]=_0x302755[_0x192d58(0x15e)]||Math[_0x192d58(0x6e5)](_0x52c3b1/0x2),document['getElementById']('modal-passing-score-input')['max']=_0x52c3b1,document[_0x192d58(0x36b)](_0x192d58(0x443))[_0x192d58(0x57f)]=_0x302755[_0x192d58(0x752)]||![],document[_0x192d58(0x36b)](_0x192d58(0x55c))[_0x192d58(0x57f)]=_0x302755['loopUntilPass']||![],document['getElementById'](_0x192d58(0x909))[_0x192d58(0x1ba)](new Event(_0x192d58(0x76e))),quizSettingsModal[_0x192d58(0x3e0)][_0x192d58(0x691)]('hidden');}else showMessage(_0x192d58(0x681));}catch(_0x4f696f){console[_0x192d58(0x43a)](_0x192d58(0x42a),_0x4f696f),showMessage(_0x192d58(0x417));}}async function confirmQuizSettings(){const _0x261d1b=_0x4247c8;if(!actionTargetId)return;const _0xad9f26=doc(db,_0x261d1b(0x302)+appId+_0x261d1b(0x42f),actionTargetId),_0x50aa03={'shuffle':document[_0x261d1b(0x36b)](_0x261d1b(0x1db))[_0x261d1b(0x7c0)],'resultsDisplay':document['getElementById'](_0x261d1b(0x918))[_0x261d1b(0x7c0)],'timerMode':document[_0x261d1b(0x36b)](_0x261d1b(0x909))[_0x261d1b(0x7c0)],'timerDuration':parseInt(document[_0x261d1b(0x36b)](_0x261d1b(0x742))[_0x261d1b(0x7c0)])||0xa,'passingScore':parseInt(document[_0x261d1b(0x36b)]('modal-passing-score-input')['value'])||0x0,'passingScore':parseInt(document[_0x261d1b(0x36b)]('modal-passing-score-input')[_0x261d1b(0x7c0)])||0x0,'isAdaptive':document[_0x261d1b(0x36b)]('modal-adaptive-quiz-checkbox')[_0x261d1b(0x57f)],'loopUntilPass':document[_0x261d1b(0x36b)](_0x261d1b(0x55c))[_0x261d1b(0x57f)]};try{await updateDoc(_0xad9f26,{'settings':_0x50aa03}),showMessage(_0x261d1b(0x634)),quizSettingsModal[_0x261d1b(0x3e0)]['add'](_0x261d1b(0x20f)),actionTargetId=null;}catch(_0x1153d3){console[_0x261d1b(0x43a)](_0x261d1b(0x7b6),_0x1153d3),showMessage(_0x261d1b(0x1d1));}}async function handleQuizStatus(_0x388ae2){const _0x9aa591=_0x4247c8;actionTargetId=_0x388ae2;const _0x33e6cc=doc(db,'artifacts/'+appId+_0x9aa591(0x42f),_0x388ae2);try{const _0x36d510=await getDoc(_0x33e6cc);if(_0x36d510[_0x9aa591(0x747)]()){const _0x34966d=_0x36d510['data'](),_0x4735bd=_0x34966d[_0x9aa591(0xfe)]||'active',_0xfb089a=document[_0x9aa591(0x36b)](_0x9aa591(0x504)),_0x4e67e6=document['getElementById'](_0x9aa591(0x214)),_0x1af1f8=document[_0x9aa591(0x36b)](_0x9aa591(0x81d));let _0x42246d=_0x9aa591(0x416)+(_0x4735bd==='active'?_0x9aa591(0x57f):'')+_0x9aa591(0x723)+(_0x4735bd===_0x9aa591(0x125)?_0x9aa591(0x57f):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x4735bd===_0x9aa591(0x26e)?_0x9aa591(0x57f):'')+_0x9aa591(0x2d5);_0xfb089a['innerHTML']=_0x42246d;const _0x2e9b37=_0x4735bd===_0x9aa591(0x26e);_0x4e67e6[_0x9aa591(0x3e0)][_0x9aa591(0x3eb)]('hidden',!_0x2e9b37),_0x1af1f8['classList']['toggle'](_0x9aa591(0x20f),!_0x2e9b37),document[_0x9aa591(0x36b)](_0x9aa591(0x90c))[_0x9aa591(0x7c0)]=_0x34966d[_0x9aa591(0x538)]?_0x34966d[_0x9aa591(0x538)][_0x9aa591(0x4b7)](0x0,0x10):'',document[_0x9aa591(0x36b)](_0x9aa591(0x470))[_0x9aa591(0x7c0)]=_0x34966d[_0x9aa591(0x78f)]?_0x34966d[_0x9aa591(0x78f)][_0x9aa591(0x4b7)](0x0,0x10):'',_0xfb089a[_0x9aa591(0x16d)](_0x9aa591(0x362))[_0x9aa591(0x204)](_0x37af22=>{const _0x45757f=_0x9aa591;_0x37af22[_0x45757f(0x889)]('change',_0x5e1ff2=>{const _0x273ef2=_0x45757f,_0x35a0e5=_0x5e1ff2[_0x273ef2(0x6a6)][_0x273ef2(0x7c0)]===_0x273ef2(0x4da);_0x4e67e6['classList'][_0x273ef2(0x3eb)](_0x273ef2(0x20f),!_0x35a0e5),_0x1af1f8[_0x273ef2(0x3e0)]['toggle']('hidden',!_0x35a0e5);});}),quizStatusModal['classList'][_0x9aa591(0x691)]('hidden');}}catch(_0x1dffdb){console[_0x9aa591(0x43a)](_0x9aa591(0x231),_0x1dffdb),showMessage(_0x9aa591(0x432));}}async function confirmQuizStatus(){const _0x144dee=_0x4247c8;if(!actionTargetId)return;const _0x382bf1=doc(db,_0x144dee(0x302)+appId+_0x144dee(0x42f),actionTargetId),_0x17690c=document[_0x144dee(0x788)]('input[name=\x22status-option\x22]:checked');if(!_0x17690c){showMessage(_0x144dee(0x537));return;}const _0x11c54f=_0x17690c[_0x144dee(0x7c0)];let _0x26b61d={};if(_0x11c54f===_0x144dee(0x599)||_0x11c54f===_0x144dee(0x125))_0x26b61d={'status':_0x11c54f,'startTime':null,'endTime':null};else{if(_0x11c54f==='schedule'){const _0xf79861=document[_0x144dee(0x36b)](_0x144dee(0x90c))[_0x144dee(0x7c0)],_0x25255e=document['getElementById'](_0x144dee(0x470))['value'];if(!_0xf79861&&!_0x25255e){showMessage(_0x144dee(0x54c));return;}_0x26b61d={'status':_0x144dee(0x26e),'startTime':_0xf79861?new Date(_0xf79861)[_0x144dee(0x6be)]():null,'endTime':_0x25255e?new Date(_0x25255e)[_0x144dee(0x6be)]():null};}}try{await updateDoc(_0x382bf1,_0x26b61d),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x144dee(0x3e0)]['add'](_0x144dee(0x20f)),actionTargetId=null;}catch(_0x5dfb80){console['error'](_0x144dee(0x8d4),_0x5dfb80),showMessage(_0x144dee(0x227));}}function listenForStudentProfiles(_0x1d4a5d){const _0x1101fa=_0x4247c8,_0x498ac6=collection(db,_0x1101fa(0x302)+appId+_0x1101fa(0x1c0)+_0x1d4a5d+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x498ac6,_0x6f2dbf=>{const _0x43ba34=_0x1101fa,_0x520350=_0x6f2dbf['docs'][_0x43ba34(0x1c2)](_0x4c737f=>_0x4c737f[_0x43ba34(0x6d4)]());renderLeaderboard(_0x520350,_0x43ba34(0x865));},_0x39cd44=>{const _0x5cbab3=_0x1101fa;console[_0x5cbab3(0x43a)](_0x5cbab3(0xe9),_0x39cd44),document[_0x5cbab3(0x36b)]('leaderboard-table-body')[_0x5cbab3(0x48a)]=_0x5cbab3(0x498);});}function renderLeaderboard(_0x2555c9,_0x41168f){const _0x10f78d=_0x4247c8,_0x13e8d0=document[_0x10f78d(0x36b)](_0x41168f);if(!_0x2555c9||_0x2555c9[_0x10f78d(0x47b)]===0x0){_0x13e8d0[_0x10f78d(0x48a)]=_0x10f78d(0x6a3);return;}_0x2555c9[_0x10f78d(0x254)]((_0x4cd089,_0xb699dd)=>{const _0x24a957=_0x10f78d,_0x579e7a=(_0xb699dd[_0x24a957(0x7cb)]||0x0)-(_0x4cd089[_0x24a957(0x7cb)]||0x0);if(_0x579e7a!==0x0)return _0x579e7a;const _0x1abc1c=(_0xb699dd['badgesCount']?.[_0x24a957(0x2ed)]||0x0)-(_0x4cd089['badgesCount']?.['specialist']||0x0);if(_0x1abc1c!==0x0)return _0x1abc1c;const _0x119ec8=(_0xb699dd['badgesCount']?.[_0x24a957(0x21c)]||0x0)-(_0x4cd089[_0x24a957(0x671)]?.[_0x24a957(0x21c)]||0x0);if(_0x119ec8!==0x0)return _0x119ec8;const _0xed7281=(_0xb699dd['badgesCount']?.[_0x24a957(0x73a)]||0x0)-(_0x4cd089[_0x24a957(0x671)]?.['perfect_score']||0x0);if(_0xed7281!==0x0)return _0xed7281;const _0x13846e=(_0xb699dd[_0x24a957(0x671)]?.[_0x24a957(0x223)]||0x0)-(_0x4cd089[_0x24a957(0x671)]?.['quick_thinker']||0x0);if(_0x13846e!==0x0)return _0x13846e;return _0x4cd089['studentName'][_0x24a957(0x727)](_0xb699dd['studentName'],'th');});let _0x4964c0='';_0x2555c9['forEach']((_0x573af9,_0x229fd0)=>{const _0xcf64f2=_0x10f78d,_0x21eaeb=_0x229fd0+0x1,_0xc130c7=_0x573af9[_0xcf64f2(0x671)]||{};let _0x4eadfc='';const _0x2bed52=['specialist','perfect_score',_0xcf64f2(0x21c),_0xcf64f2(0x223)];_0x2bed52[_0xcf64f2(0x204)](_0x26f9fb=>{const _0x662d5d=_0xcf64f2;if(_0xc130c7[_0x26f9fb]>0x0){const _0xcc8a98=Object[_0x662d5d(0x13b)](BADGES)[_0x662d5d(0x1c5)](_0x17cbb8=>_0x17cbb8['id']===_0x26f9fb);_0xcc8a98&&(_0x26f9fb===_0x662d5d(0x2ed)?_0x4eadfc+=_0x662d5d(0x87d)+_0xcc8a98[_0x662d5d(0x103)]+_0x662d5d(0x5a3)+_0xcc8a98[_0x662d5d(0x153)]+_0x662d5d(0x92d):_0x4eadfc+=_0x662d5d(0x87d)+_0xcc8a98['name']+'\x20('+_0xc130c7[_0x26f9fb]+_0x662d5d(0x332)+_0xcc8a98[_0x662d5d(0x153)]+_0x662d5d(0x808)+_0xc130c7[_0x26f9fb]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x4964c0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x21eaeb+_0xcf64f2(0x430)+_0x573af9[_0xcf64f2(0x466)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x573af9[_0xcf64f2(0x7cb)]||0x0)+_0xcf64f2(0x430)+(_0x4eadfc||'-')+_0xcf64f2(0x829);}),_0x13e8d0[_0x10f78d(0x48a)]=_0x4964c0;}function displayLoopScreen(_0x308f30,_0x5f1e6b,_0x930c3d){const _0x339090=_0x4247c8;let _0x56b33c='';_0x930c3d!==_0x339090(0x8b3)&&(_0x56b33c=_0x339090(0x744)+_0x308f30+_0x339090(0x690)+_0x5f1e6b+_0x339090(0x329));const _0x5d5191=_0x339090(0x7de)+_0x56b33c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x339090(0x48a)]=_0x5d5191,studentResultArea[_0x339090(0x3e0)][_0x339090(0x691)](_0x339090(0x20f)),studentQuizArea[_0x339090(0x3e0)][_0x339090(0x90a)](_0x339090(0x20f)),document[_0x339090(0x36b)]('retake-quiz-loop-btn')[_0x339090(0x889)]('click',()=>{const _0x260519=_0x339090;studentResultArea[_0x260519(0x3e0)][_0x260519(0x90a)](_0x260519(0x20f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xb6f233,_0xc3fb9f,_0x560c22){const _0x384e0b=_0x4247c8,_0x142f8a=document[_0x384e0b(0x36b)](_0x560c22),_0x532554=_0x560c22==='student-quiz-leaderboard-table-body',_0x2e7645=_0xc3fb9f[_0x384e0b(0x4d7)]['length'],_0x1ead8d=document[_0x384e0b(0x36b)](_0x560c22)[_0x384e0b(0x429)](_0x384e0b(0x743));if(_0x1ead8d&&!_0x532554){const _0x45729a=_0x1ead8d[_0x384e0b(0x788)](_0x384e0b(0x5b4));_0x45729a[_0x384e0b(0x48a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0xb6f233||_0xb6f233[_0x384e0b(0x47b)]===0x0){_0x142f8a[_0x384e0b(0x48a)]=_0x384e0b(0x738)+(_0x532554?0x6:0x8)+_0x384e0b(0x354);return;}const _0x14e390=[..._0xb6f233];_0x14e390[_0x384e0b(0x254)]((_0x316364,_0x133db9)=>{const _0x28d14d=_0x384e0b;let _0xe97958,_0x613864;switch(quizLeaderboardSortBy){case'studentName':_0xe97958=_0x316364[_0x28d14d(0x466)]||'',_0x613864=_0x133db9[_0x28d14d(0x466)]||'';return quizLeaderboardSortOrder==='asc'?_0xe97958['localeCompare'](_0x613864,'th'):_0x613864['localeCompare'](_0xe97958,'th');case _0x28d14d(0x440):_0xe97958=_0x316364[_0x28d14d(0x440)]||0x0,_0x613864=_0x133db9['points']||0x0;break;case _0x28d14d(0x27a):_0xe97958=_0x316364[_0x28d14d(0x27a)]?.[_0x28d14d(0x47b)]||0x1,_0x613864=_0x133db9[_0x28d14d(0x27a)]?.[_0x28d14d(0x47b)]||0x1;break;case _0x28d14d(0x505):_0xe97958=new Date(_0x316364[_0x28d14d(0x505)]),_0x613864=new Date(_0x133db9[_0x28d14d(0x505)]);break;case'bestScore':default:_0xe97958=_0x316364[_0x28d14d(0x23f)],_0x613864=_0x133db9[_0x28d14d(0x23f)];break;}if(_0xe97958<_0x613864)return quizLeaderboardSortOrder===_0x28d14d(0x77c)?-0x1:0x1;if(_0xe97958>_0x613864)return quizLeaderboardSortOrder===_0x28d14d(0x77c)?0x1:-0x1;return 0x0;});const _0x546d34=_0xc3fb9f[_0x384e0b(0x3ff)]===!![],_0x7af25c=_0xc3fb9f[_0x384e0b(0x59a)]?.[_0x384e0b(0x15e)]??-0x1;let _0xbc91f1='';_0x14e390['forEach']((_0x46298c,_0x2dfb80)=>{const _0x44d99f=_0x384e0b,_0x37135f=_0x2dfb80+0x1;let _0x29d3ed=_0x44d99f(0x137);if(_0x546d34||_0x7af25c!==-0x1){let _0x548e90=_0x546d34?_0x46298c[_0x44d99f(0x23f)]===_0x2e7645:_0x46298c['bestScore']>=_0x7af25c;const _0x279ec3=_0x548e90?_0x44d99f(0x455):_0x44d99f(0x2ff),_0x4cf4c2=_0x548e90?_0x44d99f(0x7f4):'ไม่ผ่าน';_0x29d3ed=_0x44d99f(0x6d3)+_0x279ec3+'\x22>'+_0x4cf4c2+'</span></td>';}const _0x11b172=_0x46298c[_0x44d99f(0x27a)][_0x46298c[_0x44d99f(0x27a)][_0x44d99f(0x47b)]-0x1],_0x44a1e2=(_0x11b172[_0x44d99f(0x710)]||[])[_0x44d99f(0x1c2)](_0x80b6ab=>{const _0x48c747=_0x44d99f,_0xbb8116=Object['values'](BADGES)[_0x48c747(0x1c5)](_0x126d84=>_0x126d84['id']===_0x80b6ab);return _0xbb8116?'<span\x20title=\x22'+_0xbb8116[_0x48c747(0x103)]+_0x48c747(0x702)+_0xbb8116['icon']+_0x48c747(0x6db):'';})[_0x44d99f(0x182)]('');_0xbc91f1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x37135f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x46298c[_0x44d99f(0x466)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x46298c[_0x44d99f(0x23f)]+_0x44d99f(0x690)+_0x2e7645+_0x44d99f(0x363)+_0x29d3ed+_0x44d99f(0x391)+(_0x46298c[_0x44d99f(0x440)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x532554?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x46298c['attempts']?.[_0x44d99f(0x47b)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x532554?'':_0x44d99f(0x3d0)+new Date(_0x46298c[_0x44d99f(0x505)])['toLocaleString'](_0x44d99f(0x78e))+_0x44d99f(0x1c8))+_0x44d99f(0x802)+(_0x44a1e2||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x142f8a[_0x384e0b(0x48a)]=_0xbc91f1,_0x1ead8d&&!_0x532554&&_0x1ead8d[_0x384e0b(0x16d)](_0x384e0b(0x20e))['forEach'](_0x30f8f8=>{const _0x38ce39=_0x384e0b,_0x37c7c0=_0x30f8f8[_0x38ce39(0x788)](_0x38ce39(0x766));if(_0x37c7c0)_0x37c7c0['remove']();_0x30f8f8[_0x38ce39(0x29d)][_0x38ce39(0x254)]===quizLeaderboardSortBy&&(_0x30f8f8[_0x38ce39(0x48a)]+=_0x38ce39(0x91e)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x38ce39(0x3bd));});}async function handleDeleteSubmission(_0x2b3430){const _0x555167=_0x4247c8;if(!currentQuizData||!currentQuizData['id']||!_0x2b3430){showMessage(_0x555167(0x924));return;}showConfirmation(_0x555167(0x129)+_0x2b3430+_0x555167(0x16e),async()=>{const _0x3a3788=_0x555167,_0x3f3522=currentQuizData['id'],_0x434ea0=doc(db,_0x3a3788(0x302)+appId+_0x3a3788(0x6b7)+_0x3f3522+_0x3a3788(0x168),_0x2b3430);try{await deleteDoc(_0x434ea0),showMessage(_0x3a3788(0x7f5)+_0x2b3430+'\x20สำเร็จ');}catch(_0x1d3b17){console['error']('Error\x20deleting\x20submission:',_0x1d3b17),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x2d23a1=_0x4247c8,_0x295c0f=document[_0x2d23a1(0x36b)]('quiz-id-input'),_0x4e5b56=_0x295c0f[_0x2d23a1(0x7c0)][_0x2d23a1(0x52d)]();if(!_0x4e5b56){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x2d23a1(0x65e)]=!![],loadQuizBtn[_0x2d23a1(0x48a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x321f83=doc(db,_0x2d23a1(0x302)+appId+_0x2d23a1(0x42f),_0x4e5b56),_0x159654=await getDoc(_0x321f83);if(!_0x159654[_0x2d23a1(0x747)]()){showMessage(_0x2d23a1(0x16a));return;}currentQuizData={'id':_0x159654['id'],..._0x159654[_0x2d23a1(0x6d4)]()};const _0x43c0d0=currentQuizData[_0x2d23a1(0xfe)]||'active',_0x5a1bb4=new Date();if(_0x43c0d0===_0x2d23a1(0x125)){showMessage(_0x2d23a1(0x4b3));return;}if(_0x43c0d0===_0x2d23a1(0x26e)){const _0x55baee=currentQuizData[_0x2d23a1(0x538)]?new Date(currentQuizData[_0x2d23a1(0x538)]):null,_0xed4675=currentQuizData[_0x2d23a1(0x78f)]?new Date(currentQuizData[_0x2d23a1(0x78f)]):null;if(_0x55baee&&_0x5a1bb4<_0x55baee){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x55baee[_0x2d23a1(0x7c6)](_0x2d23a1(0x78e),{'hour12':![]}));return;}if(_0xed4675&&_0x5a1bb4>_0xed4675){showMessage(_0x2d23a1(0x460));return;}}const _0x348414=currentQuizData[_0x2d23a1(0x69a)];currentProjectId=_0x348414;const _0x416dee=doc(db,'artifacts/'+appId+'/public/data/projects',_0x348414),_0x741d06=await getDoc(_0x416dee);if(!_0x741d06[_0x2d23a1(0x747)]()){showMessage(_0x2d23a1(0x726));return;}const _0x16a174=_0x741d06[_0x2d23a1(0x6d4)]();currentStudentProjectData=_0x16a174,displayStudentNameSelector(_0x16a174[_0x2d23a1(0x8a4)],currentQuizData['topic']);}catch(_0x43ff51){console['error'](_0x2d23a1(0x61c),_0x43ff51),showMessage(_0x2d23a1(0x365));}finally{loadQuizBtn[_0x2d23a1(0x65e)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x3827d9=_0x4247c8,_0x1d6961=document[_0x3827d9(0x36b)](_0x3827d9(0x84d)),_0x555999=document[_0x3827d9(0x36b)](_0x3827d9(0x5a7)),_0xe1a5a6=document[_0x3827d9(0x36b)](_0x3827d9(0x2b2)),_0x25103e=_0x1d6961[_0x3827d9(0x7c0)]['trim'](),_0x95d64a=_0x555999['value'][_0x3827d9(0x52d)]();if(!_0x25103e||!_0x95d64a){showMessage(_0x3827d9(0x814));return;}_0xe1a5a6[_0x3827d9(0x65e)]=!![],_0xe1a5a6[_0x3827d9(0x48a)]=_0x3827d9(0x63b);try{const _0x4d66eb=collection(db,_0x3827d9(0x302)+appId+_0x3827d9(0x51a)),_0x281370=query(_0x4d66eb,where('gamePin','==',_0x25103e),where('status','in',[_0x3827d9(0x3df),_0x3827d9(0x838)])),_0x5ad7a4=await getDocs(_0x281370);if(_0x5ad7a4[_0x3827d9(0x1d3)]){showMessage(_0x3827d9(0x483));return;}const _0x5e1a5a=_0x5ad7a4['docs'][0x0],_0x1b46f2=_0x5e1a5a[_0x3827d9(0x6d4)]();currentLiveGameId=_0x5e1a5a['id'];const _0x54ceef=_0x1b46f2['quizId'],_0xc60d5=doc(db,_0x3827d9(0x302)+appId+_0x3827d9(0x42f),_0x54ceef),_0x4e78e6=await getDoc(_0xc60d5);if(!_0x4e78e6[_0x3827d9(0x747)]()){showMessage(_0x3827d9(0x745));return;}currentQuizData={'id':_0x4e78e6['id'],..._0x4e78e6[_0x3827d9(0x6d4)]()};if(_0x1b46f2[_0x3827d9(0x89e)]&&_0x1b46f2['players'][_0x95d64a]){const _0x5119f6=_0x1b46f2[_0x3827d9(0x89e)][_0x95d64a];if(_0x5119f6[_0x3827d9(0xfe)]===_0x3827d9(0x125)){_0xe1a5a6['innerHTML']=_0x3827d9(0x48b);const _0x23b7d3={};_0x23b7d3[_0x3827d9(0x806)+_0x95d64a+_0x3827d9(0x73c)]=_0x3827d9(0x599),await updateDoc(doc(db,'artifacts/'+appId+_0x3827d9(0x51a),currentLiveGameId),_0x23b7d3),showView(_0x3827d9(0x334)),currentStudentName=_0x95d64a,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x1b46f2['status']!=='lobby'){showMessage(_0x3827d9(0x181));return;}_0xe1a5a6[_0x3827d9(0x48a)]=_0x3827d9(0x887);const _0x1cc0e8={};_0x1cc0e8[_0x3827d9(0x806)+_0x95d64a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x3827d9(0x599)},await updateDoc(doc(db,_0x3827d9(0x302)+appId+_0x3827d9(0x51a),currentLiveGameId),_0x1cc0e8),currentStudentName=_0x95d64a,listenForLiveGameUpdates();}catch(_0x50143a){console[_0x3827d9(0x43a)](_0x3827d9(0x683),_0x50143a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0xe1a5a6[_0x3827d9(0x65e)]=![],_0xe1a5a6[_0x3827d9(0x48a)]=_0x3827d9(0x2c2);}}function displayStudentNameSelector(_0x18f2e1,_0x236eeb){const _0x374055=_0x4247c8,_0x3d0c5f=document[_0x374055(0x36b)](_0x374055(0x20c));document[_0x374055(0x36b)](_0x374055(0x1bc))[_0x374055(0x6e3)]='แบบทดสอบ:\x20'+_0x236eeb,!_0x18f2e1||_0x18f2e1[_0x374055(0x47b)]===0x0?(_0x3d0c5f[_0x374055(0x48a)]=_0x374055(0x187),startQuizBtn[_0x374055(0x65e)]=!![]):(_0x3d0c5f[_0x374055(0x48a)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x18f2e1[_0x374055(0x204)](_0x657582=>{const _0x40f622=_0x374055,_0x320030=document['createElement'](_0x40f622(0x8c0));_0x320030[_0x40f622(0x7c0)]=_0x657582,_0x320030[_0x40f622(0x6e3)]=_0x657582,_0x3d0c5f[_0x40f622(0x7dd)](_0x320030);}),startQuizBtn[_0x374055(0x65e)]=![]),studentInitialView[_0x374055(0x3e0)][_0x374055(0x90a)](_0x374055(0x20f)),studentNameSelectionView[_0x374055(0x3e0)][_0x374055(0x691)]('hidden');}function shuffleArray(_0x1bfbc9){const _0x4ac4f3=_0x4247c8;for(let _0x445a98=_0x1bfbc9['length']-0x1;_0x445a98>0x0;_0x445a98--){const _0x561153=Math['floor'](Math[_0x4ac4f3(0x509)]()*(_0x445a98+0x1));[_0x1bfbc9[_0x445a98],_0x1bfbc9[_0x561153]]=[_0x1bfbc9[_0x561153],_0x1bfbc9[_0x445a98]];}}function getShuffledQuiz(_0x54a19a){const _0x559f9d=_0x4247c8;let _0x346002=JSON['parse'](JSON[_0x559f9d(0x549)](_0x54a19a));const _0x313973=_0x346002[_0x559f9d(0x59a)]?.[_0x559f9d(0x672)]||'none';if(_0x313973===_0x559f9d(0x2aa))return _0x346002;return(_0x313973===_0x559f9d(0x7b0)||_0x313973===_0x559f9d(0x2b0))&&shuffleArray(_0x346002['questions']),(_0x313973===_0x559f9d(0x8ba)||_0x313973===_0x559f9d(0x2b0))&&_0x346002['questions'][_0x559f9d(0x204)](_0x42f5fc=>{const _0x27d78d=_0x559f9d,_0x557199=_0x42f5fc[_0x27d78d(0x402)]||_0x346002['quizType'];if(_0x42f5fc[_0x27d78d(0x7a2)]){let _0x3dddcd=_0x42f5fc[_0x27d78d(0x7a2)][_0x27d78d(0x1c2)]((_0x455980,_0x250621)=>({'text':_0x455980,'isCorrect':_0x250621===_0x42f5fc['correctAnswerIndex']}));shuffleArray(_0x3dddcd),_0x42f5fc[_0x27d78d(0x7a2)]=_0x3dddcd[_0x27d78d(0x1c2)](_0x2c7c8c=>_0x2c7c8c[_0x27d78d(0x73f)]),_0x42f5fc[_0x27d78d(0x559)]=_0x3dddcd[_0x27d78d(0x78d)](_0x3e5aa9=>_0x3e5aa9[_0x27d78d(0x3b0)]);}_0x557199===_0x27d78d(0x8fa)&&_0x42f5fc[_0x27d78d(0x341)]&&shuffleArray(_0x42f5fc['allResponses']);}),_0x346002;}function displayQuizForStudent(_0xfea480){const _0x539961=_0x4247c8;studentQuizArea[_0x539961(0x3e0)][_0x539961(0x691)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0xfea480);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x539961(0x3c3),handleFullscreenChange),document[_0x539961(0x889)](_0x539961(0x63c),handleVisibilityChange),enterFullscreen(),window[_0x539961(0x889)]('mousemove',resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x539961(0x889)]('touchstart',resetDimTimer),window[_0x539961(0x889)](_0x539961(0x6ac),resetDimTimer),resetDimTimer());const _0x523431=currentDisplayedQuiz['settings']?.['timerMode']||'none';if(_0x523431===_0x539961(0x65a))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x539961(0x59a)]['timerDuration']);else _0x523431===_0x539961(0x556)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x45ef7d=_0x4247c8;let _0x65129b=_0x45ef7d(0x1b4)+currentDisplayedQuiz[_0x45ef7d(0x761)]+_0x45ef7d(0x3f3)+(currentMode===_0x45ef7d(0x5e1)?_0x45ef7d(0x592):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x45ef7d(0x4d7)][_0x45ef7d(0x204)]((_0x3abef7,_0x13c979)=>{const _0x445605=_0x45ef7d,_0x1d3c3c=_0x3abef7[_0x445605(0x402)]||currentDisplayedQuiz[_0x445605(0x1bb)];_0x65129b+=_0x445605(0x623);_0x1d3c3c==='matching_item'?_0x65129b+=_0x445605(0x6a7)+(_0x13c979+0x1)+'.\x20'+_0x3abef7[_0x445605(0x3cd)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x13c979+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3abef7[_0x445605(0x341)][_0x445605(0x1c2)](_0x4197c7=>_0x445605(0x5c6)+_0x4197c7+'\x22>'+_0x4197c7+_0x445605(0x638))[_0x445605(0x182)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x65129b+=_0x445605(0x401)+(_0x13c979+0x1)+'.\x20'+(_0x3abef7[_0x445605(0x3ea)]||_0x3abef7[_0x445605(0x35e)])+_0x445605(0x8cb),_0x3abef7['imageCode']&&(_0x65129b+=_0x445605(0x589)+_0x3abef7[_0x445605(0x3b1)]+'</div>'));_0x65129b+=_0x445605(0x3f1);switch(_0x1d3c3c){case'short_answer':_0x65129b+=_0x445605(0x948)+_0x13c979+_0x445605(0x152);break;case _0x445605(0x4ef):_0x65129b+=_0x445605(0x158)+_0x13c979+_0x445605(0x18a)+_0x13c979+_0x445605(0x557)+_0x13c979+'_opt0\x22>ใช่</label></div>',_0x65129b+=_0x445605(0x158)+_0x13c979+'_opt1\x22\x20name=\x22question'+_0x13c979+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x13c979+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x445605(0x8fa):break;case _0x445605(0xef):case _0x445605(0x795):default:_0x65129b+=_0x3abef7[_0x445605(0x7a2)][_0x445605(0x1c2)]((_0x2ca5fe,_0x24011f)=>_0x445605(0x2b4)+_0x13c979+_0x445605(0x574)+_0x24011f+_0x445605(0x267)+_0x13c979+_0x445605(0x123)+_0x24011f+_0x445605(0x3a3)+_0x13c979+_0x445605(0x574)+_0x24011f+'\x22>'+_0x2ca5fe+_0x445605(0x92f))[_0x445605(0x182)]('');break;}_0x65129b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x65129b+=_0x45ef7d(0x4e3),_0x65129b+=_0x45ef7d(0x83a),studentQuizArea[_0x45ef7d(0x48a)]=_0x65129b;if(currentMode===_0x45ef7d(0x5e1)){const _0x39582d=document[_0x45ef7d(0x36b)]('cancel-test-btn');if(_0x39582d)_0x39582d[_0x45ef7d(0x889)](_0x45ef7d(0x3d5),cancelAdminTest);}document[_0x45ef7d(0x36b)](_0x45ef7d(0x8b2))[_0x45ef7d(0x889)]('submit',handleSubmitQuiz);if(window[_0x45ef7d(0x5cd)])window[_0x45ef7d(0x5cd)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x1194f0){const _0x4c2241=_0x4247c8;if(_0x1194f0)_0x1194f0['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1f444b=document[_0x4c2241(0x36b)](_0x4c2241(0x8b2));if(!_0x1f444b)return;const _0x469036=_0x1f444b[_0x4c2241(0x788)](_0x4c2241(0x3b5)),_0x2d8e4d=currentDisplayedQuiz['questions'][_0x4c2241(0x69b)](_0xd3e71f=>_0xd3e71f[_0x4c2241(0x402)]===_0x4c2241(0x510));_0x469036&&(_0x469036[_0x4c2241(0x65e)]=!![],_0x2d8e4d?_0x469036['innerHTML']=_0x4c2241(0x264):_0x469036[_0x4c2241(0x48a)]=_0x4c2241(0x848));const _0x58dd37=new FormData(_0x1f444b),_0x483c94=currentDisplayedQuiz[_0x4c2241(0x4d7)][_0x4c2241(0x1c2)]((_0x3c174e,_0x11f5a6)=>{const _0x25264c=_0x4c2241,_0x4ba779=_0x3c174e[_0x25264c(0x402)]||currentDisplayedQuiz[_0x25264c(0x1bb)],_0x4bf5d6=_0x58dd37[_0x25264c(0x79b)](_0x25264c(0x838)+_0x11f5a6);if(_0x4bf5d6!==null&&_0x4bf5d6!==undefined){if(_0x4ba779==='multiple_choice'||_0x4ba779===_0x25264c(0xef))return parseInt(_0x4bf5d6);return _0x4bf5d6;}return null;}),_0x362b8d=currentQuizData['id'],_0x915908=doc(db,'artifacts/'+appId+_0x4c2241(0x6b7)+_0x362b8d+_0x4c2241(0x168),currentStudentName),_0x44dcaa=await getDoc(_0x915908),_0x2b6aea=_0x44dcaa[_0x4c2241(0x747)]()?_0x44dcaa[_0x4c2241(0x6d4)]():{},_0x51ed37=_0x2b6aea[_0x4c2241(0x27a)]||[];await processAndSubmitAnswers(_0x483c94,_0x51ed37);}async function gradeShortAnswerWithAI(_0x18ddb4,_0x4d20b0){const _0x52e342=_0x4247c8;if(!_0x18ddb4||!_0x4d20b0)return![];try{const _0x5e31c1=_0x52e342(0x281)+_0x18ddb4+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x4d20b0+_0x52e342(0x858),_0x43a734={'contents':[{'role':'user','parts':[{'text':_0x5e31c1}]}]},_0x41b2b7=_0x52e342(0x823),_0x251a31='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x41b2b7,_0x336b2d=await fetch(_0x251a31,{'method':_0x52e342(0x5a8),'headers':{'Content-Type':_0x52e342(0x3ce)},'body':JSON[_0x52e342(0x549)](_0x43a734)});if(!_0x336b2d['ok'])throw new Error('API\x20call\x20failed');const _0x7825f2=await _0x336b2d['json'](),_0x52f81e=_0x7825f2[_0x52e342(0x861)][0x0][_0x52e342(0x4fc)][_0x52e342(0x269)][0x0]['text']['trim']()[_0x52e342(0x14b)]();return _0x52f81e==='true';}catch(_0x116af6){return console[_0x52e342(0x43a)](_0x52e342(0x5b2),_0x116af6),![];}}async function processAndSubmitAnswers(_0x29e865,_0x1df7b9){const _0x70c68b=_0x4247c8;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x70c68b(0x77a)](_0x70c68b(0x3c3),handleFullscreenChange),document[_0x70c68b(0x77a)](_0x70c68b(0x63c),handleVisibilityChange);let _0x199a95=0x0,_0x2b6d1d=0x0,_0x58a1d3=[];const _0x35c55e=[],_0x4b3c3c=currentDisplayedQuiz[_0x70c68b(0x4d7)][_0x70c68b(0x47b)];let _0x19b1b6=0x0;const _0x5174b8=currentDisplayedQuiz['questions'];for(let _0x418007=0x0;_0x418007<_0x5174b8[_0x70c68b(0x47b)];_0x418007++){const _0x441325=_0x5174b8[_0x418007],_0x48015b=_0x29e865[_0x418007],_0x47c4c5=_0x441325[_0x70c68b(0x402)]||currentDisplayedQuiz[_0x70c68b(0x1bb)];let _0x5304dc=![];if(_0x48015b!==null&&_0x48015b!=='')switch(_0x47c4c5){case _0x70c68b(0x8fa):_0x5304dc=_0x48015b===_0x441325[_0x70c68b(0x624)];break;case _0x70c68b(0x4ef):const _0x3edfc9=_0x48015b===!![]||_0x48015b==='true';_0x5304dc=_0x3edfc9===_0x441325['correctAnswer'];break;case'fill_in_the_blank':case _0x70c68b(0x795):default:_0x5304dc=Number(_0x48015b)===_0x441325[_0x70c68b(0x559)];break;case _0x70c68b(0x510):_0x5304dc=await gradeShortAnswer(_0x48015b,_0x441325);break;}_0x5304dc?(_0x199a95++,_0x19b1b6++,_0x19b1b6===0x3&&(_0x58a1d3['push'](BADGES[_0x70c68b(0x897)]['id']),_0x19b1b6=0x0)):_0x19b1b6=0x0;let _0x5a5d59=null;_0x441325[_0x70c68b(0x7a2)]&&_0x48015b!==null&&(_0x5a5d59=_0x441325[_0x70c68b(0x7a2)][_0x48015b]),_0x35c55e['push']({'questionId':_0x441325['id'],'answer':_0x48015b,'answerText':_0x5a5d59,'isCorrect':_0x5304dc,'originalQuestionText':_0x441325[_0x70c68b(0x3cd)]||_0x441325[_0x70c68b(0x35e)]});}_0x2b6d1d=_0x199a95*0xa;_0x199a95===_0x4b3c3c&&_0x4b3c3c>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x2b6d1d+=0x32,_0x58a1d3['push'](BADGES[_0x70c68b(0x4de)]['id']));const _0x4d77a5=currentDisplayedQuiz[_0x70c68b(0x59a)]?.[_0x70c68b(0x15e)]??Math[_0x70c68b(0x6e5)](_0x4b3c3c/0x2),_0x1305e7=currentDisplayedQuiz['settings']?.[_0x70c68b(0x1b6)];if(_0x1305e7==='whole_quiz'&&quizStartTime){const _0x269571=(new Date()-quizStartTime)/0x3e8,_0x56ce3a=currentDisplayedQuiz[_0x70c68b(0x59a)][_0x70c68b(0x277)]*0x3c;_0x199a95>=_0x4d77a5&&_0x269571<_0x56ce3a/0x2&&(_0x2b6d1d+=0x14,_0x58a1d3[_0x70c68b(0x852)](BADGES[_0x70c68b(0x66a)]['id']));}_0x1df7b9[_0x70c68b(0x47b)]===0x0&&_0x199a95===_0x4b3c3c&&_0x4b3c3c>0x0&&_0x58a1d3[_0x70c68b(0x852)](BADGES[_0x70c68b(0x489)]['id']);if(_0x1df7b9[_0x70c68b(0x47b)]>0x0){const _0x275a8b=_0x1df7b9[0x0][_0x70c68b(0x8fc)];if(_0x275a8b<_0x4d77a5&&_0x199a95>=_0x4d77a5){const _0x3604e9=_0x1df7b9['some'](_0x3c0b7d=>(_0x3c0b7d[_0x70c68b(0x710)]||[])[_0x70c68b(0x635)](BADGES[_0x70c68b(0x833)]['id']));!_0x3604e9&&_0x58a1d3[_0x70c68b(0x852)](BADGES[_0x70c68b(0x833)]['id']);}}_0x1df7b9[_0x70c68b(0x47b)]===0x4&&_0x58a1d3[_0x70c68b(0x852)](BADGES[_0x70c68b(0x19b)]['id']);const _0x33843d=currentDisplayedQuiz[_0x70c68b(0x59a)][_0x70c68b(0x6fd)];if(currentMode===_0x70c68b(0x5e1)){handleResultDisplay(_0x33843d,_0x199a95,_0x2b6d1d,_0x58a1d3,_0x35c55e,_0x4b3c3c);return;}const _0x51c558=currentQuizData['id'],_0x1ef5d7=doc(db,'artifacts/'+appId+_0x70c68b(0x6b7)+_0x51c558+_0x70c68b(0x168),currentStudentName);try{const _0x32ba46=[..._0x1df7b9],_0x355247={'score':_0x199a95,'points':_0x2b6d1d,'badges':_0x58a1d3,'submittedAt':new Date()[_0x70c68b(0x6be)](),'answers':_0x35c55e};_0x32ba46[_0x70c68b(0x852)](_0x355247);const _0x38d17e=_0x32ba46[0x0][_0x70c68b(0x8fc)],_0x58dde6=Math[_0x70c68b(0x276)](..._0x32ba46[_0x70c68b(0x1c2)](_0x12ce4b=>_0x12ce4b[_0x70c68b(0x8fc)])),_0x43c5c5=_0x199a95,_0x15a4c3=_0x355247['submittedAt'];await setDoc(_0x1ef5d7,{'studentName':currentStudentName,'totalQuestions':_0x4b3c3c,'attempts':_0x32ba46,'firstScore':_0x38d17e,'bestScore':_0x58dde6,'latestScore':_0x43c5c5,'points':_0x2b6d1d,'latestSubmittedAt':_0x15a4c3},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x33843d,_0x199a95,_0x2b6d1d,_0x58a1d3,_0x35c55e,_0x4b3c3c);}catch(_0x52ffb6){console['error'](_0x70c68b(0x2f8),_0x52ffb6),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x5810fa,_0x2bf71d){const _0x4fcc6c=_0x4247c8,_0x2cdc6d=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x5810fa+'/studentProfiles',_0x2bf71d);try{const _0x4fa3c9=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x5810fa)),_0x1222a7=await getDocs(_0x4fa3c9),_0x380079=new Map(_0x1222a7[_0x4fcc6c(0x591)]['map'](_0x1dafc2=>[_0x1dafc2['id'],_0x1dafc2[_0x4fcc6c(0x6d4)]()])),_0x2886e9=Array['from'](_0x380079[_0x4fcc6c(0x32c)]());await runTransaction(db,async _0x27e803=>{const _0x5c78f2=_0x4fcc6c;let _0x3a67ff=0x0;const _0x3f4d6d={};let _0x53a6d5=!![],_0x3ceae4=0x0,_0x5be176=0x0;for(const _0x272368 of _0x2886e9){const _0x59f47d=_0x380079[_0x5c78f2(0x79b)](_0x272368),_0x2ddb24=doc(db,_0x5c78f2(0x302)+appId+_0x5c78f2(0x6b7)+_0x272368+_0x5c78f2(0x168),_0x2bf71d),_0x5e7acb=await _0x27e803[_0x5c78f2(0x79b)](_0x2ddb24);if(_0x5e7acb[_0x5c78f2(0x747)]()){const _0x32f943=_0x5e7acb[_0x5c78f2(0x6d4)](),_0x3f71df=_0x32f943[_0x5c78f2(0x27a)]||[];if(_0x3f71df[_0x5c78f2(0x47b)]>0x0){const _0x44fd63=_0x3f71df[_0x5c78f2(0x860)]((_0xe63f6,_0x5dabbe)=>{const _0x4cef03=_0x5c78f2;if(_0x5dabbe['score']>_0xe63f6[_0x4cef03(0x8fc)])return _0x5dabbe;if(_0x5dabbe[_0x4cef03(0x8fc)]===_0xe63f6[_0x4cef03(0x8fc)])return(_0x5dabbe['points']||0x0)>(_0xe63f6[_0x4cef03(0x440)]||0x0)?_0x5dabbe:_0xe63f6;return _0xe63f6;},{'score':-0x1,'points':-0x1});_0x44fd63[_0x5c78f2(0x8fc)]>-0x1&&(_0x3a67ff+=_0x44fd63['points']||0x0,(_0x44fd63[_0x5c78f2(0x710)]||[])[_0x5c78f2(0x204)](_0x3dd630=>{_0x3f4d6d[_0x3dd630]=(_0x3f4d6d[_0x3dd630]||0x0)+0x1;}));}}if(_0x59f47d['topic']!==_0x5c78f2(0x2e5)){_0x5be176++;if(_0x5e7acb[_0x5c78f2(0x747)]()){_0x3ceae4++;const _0x57ce32=_0x5e7acb[_0x5c78f2(0x6d4)]();_0x57ce32[_0x5c78f2(0x23f)]!==_0x57ce32['totalQuestions']&&(_0x53a6d5=![]);}else _0x53a6d5=![];}}_0x5be176>0x0&&_0x3ceae4===_0x5be176&&_0x53a6d5?_0x3f4d6d[_0x5c78f2(0x2ed)]=0x1:_0x3f4d6d[_0x5c78f2(0x2ed)]=0x0,_0x27e803[_0x5c78f2(0x7a7)](_0x2cdc6d,{'studentName':_0x2bf71d,'totalPoints':_0x3a67ff,'unlockedBadges':Object['keys'](_0x3f4d6d)[_0x5c78f2(0x42c)](_0x42674a=>_0x3f4d6d[_0x42674a]>0x0),'badgesCount':_0x3f4d6d},{'merge':!![]});});}catch(_0x203ea0){console['error'](_0x4fcc6c(0x6cc),_0x203ea0),showMessage(_0x4fcc6c(0x666));}}function startAdminTest(){const _0x1f6a94=_0x4247c8;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x3827d2=JSON['parse'](JSON[_0x1f6a94(0x549)](currentQuizData));currentMode=_0x1f6a94(0x5e1),currentStudentName=_0x1f6a94(0x526),adminView[_0x1f6a94(0x3e0)][_0x1f6a94(0x90a)](_0x1f6a94(0x20f)),studentView[_0x1f6a94(0x3e0)][_0x1f6a94(0x691)]('hidden'),studentInitialView[_0x1f6a94(0x3e0)]['add'](_0x1f6a94(0x20f)),studentNameSelectionView[_0x1f6a94(0x3e0)][_0x1f6a94(0x90a)]('hidden'),studentResultArea[_0x1f6a94(0x3e0)][_0x1f6a94(0x90a)](_0x1f6a94(0x20f)),studentQuizArea['classList']['remove'](_0x1f6a94(0x20f)),quizStartTime=new Date(),displayQuizForStudent(_0x3827d2);}function handleResultDisplay(_0x39a14d,_0x59131c,_0x5e67ee,_0x2b6b02,_0x540305,_0x509757){const _0x50535b=_0x4247c8;if(_0x39a14d===_0x50535b(0x29f)){displaySubmissionConfirmation();return;}const _0x27c929=currentDisplayedQuiz[_0x50535b(0x59a)]?.['passingScore']??Math[_0x50535b(0x6e5)](_0x509757/0x2),_0x4c87d1=currentDisplayedQuiz[_0x50535b(0x59a)]?.[_0x50535b(0x752)]??![],_0x583f16=currentDisplayedQuiz[_0x50535b(0x59a)]?.[_0x50535b(0x315)]===!![],_0x5e038c=_0x59131c<_0x27c929,_0x28909f=_0x39a14d===_0x50535b(0x707)||_0x39a14d===_0x50535b(0x664);if(_0x583f16&&_0x5e038c&&!_0x28909f){_0x39a14d==='show_results_and_answers'?displayResultsWithAnswers(_0x59131c,_0x5e67ee,_0x2b6b02,_0x540305,_0x509757,!![]):displayLoopScreen(_0x59131c,_0x509757,_0x39a14d);return;}if(_0x4c87d1&&_0x5e038c){startAdaptiveFlow(_0x540305,_0x59131c,_0x509757);return;}switch(_0x39a14d){case _0x50535b(0x79a):displayResultsWithAnswers(_0x59131c,_0x5e67ee,_0x2b6b02,_0x540305,_0x509757);break;case'show_results_only':displayResultsScoreOnly(_0x59131c,_0x5e67ee,_0x2b6b02,_0x509757);break;case'show_pass_fail_only':displayPassFailOnly(_0x59131c,_0x509757);break;case _0x50535b(0x707):displayHalfMarkResult(_0x59131c,_0x509757);break;case _0x50535b(0x664):displayPerfectScoreResult(_0x59131c,_0x509757);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x183bf7){const _0x24869a=_0x4247c8;studentReadingArea[_0x24869a(0x48a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2ea6d3=_0x24869a(0x22e)+_0x183bf7+_0x24869a(0x236)+simpleMathPrompt+_0x24869a(0x65c),_0x3680e8={'type':'OBJECT','properties':{'questionText':{'type':_0x24869a(0x784)},'options':{'type':_0x24869a(0x41e),'items':{'type':_0x24869a(0x784)}},'correctAnswerIndex':{'type':_0x24869a(0x596)},'explanation':{'type':'STRING'}},'required':[_0x24869a(0x35e),'options',_0x24869a(0x559),_0x24869a(0x812)]},_0x34dfb6={'type':_0x24869a(0x659),'properties':{'topic':{'type':_0x24869a(0x784)},'questions':{'type':_0x24869a(0x41e),'items':_0x3680e8}},'required':['topic',_0x24869a(0x4d7)]};try{const _0x480dd6=await callAnalysisApi(_0x2ea6d3,_0x34dfb6);_0x480dd6[_0x24869a(0x3ff)]=!![],studentReadingArea[_0x24869a(0x3e0)][_0x24869a(0x90a)](_0x24869a(0x20f));const _0x1a0781={...currentDisplayedQuiz[_0x24869a(0x59a)],'isAdaptive':![],'resultsDisplay':_0x24869a(0x79a)};_0x480dd6[_0x24869a(0x59a)]=_0x1a0781,displayQuizForStudent(_0x480dd6);}catch(_0x25510f){console[_0x24869a(0x43a)](_0x24869a(0x6e7),_0x25510f),showMessage(_0x24869a(0x684)),showView('student');}}function displayPassFailOnly(_0x8ae4db,_0xfdd6da){const _0xfff5b6=_0x4247c8,_0x100e6d=currentDisplayedQuiz['settings']?.[_0xfff5b6(0x15e)]??-0x1,_0x2d1a12=currentDisplayedQuiz['isRemedial']===!![];let _0x20e299='',_0x2c1ec8=![];if(_0x2d1a12||_0x100e6d!==-0x1){_0x2c1ec8=_0x2d1a12?_0x8ae4db===_0xfdd6da:_0x8ae4db>=_0x100e6d;const _0x2fd4a7=_0x2c1ec8?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x532cf9=_0x2c1ec8?_0xfff5b6(0x7f4):_0xfff5b6(0x4a8);_0x20e299=_0xfff5b6(0x65f)+_0x2fd4a7+'\x22>'+_0x532cf9+_0xfff5b6(0x288);}else _0x20e299=_0xfff5b6(0x83b);let _0x5c6729=_0xfff5b6(0x694)+currentStudentName+_0xfff5b6(0x5dd)+_0x20e299+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xfff5b6(0x48a)]=_0x5c6729,studentResultArea['classList'][_0xfff5b6(0x691)](_0xfff5b6(0x20f)),studentQuizArea['classList'][_0xfff5b6(0x90a)](_0xfff5b6(0x20f)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2c1ec8});}function cancelAdminTest(){const _0x5861b8=_0x4247c8;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x5861b8(0x77a)](_0x5861b8(0x3c3),handleFullscreenChange),document[_0x5861b8(0x77a)]('visibilitychange',handleVisibilityChange),currentMode='admin',studentView[_0x5861b8(0x3e0)]['add'](_0x5861b8(0x20f)),adminView['classList'][_0x5861b8(0x691)](_0x5861b8(0x20f)),showView(_0x5861b8(0x38b));}function setupResultScreenBackButton(_0x20a311){const _0x2bf145=_0x4247c8,_0x3cde5b={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x20a311};if(_0x3cde5b[_0x2bf145(0x86e)]){const _0x2d881b=_0x2bf145(0x1a4);studentResultArea[_0x2bf145(0x51f)]('beforeend',_0x2d881b),document[_0x2bf145(0x36b)](_0x2bf145(0x404))[_0x2bf145(0x889)](_0x2bf145(0x3d5),()=>{const _0x354c56=_0x2bf145;studentResultArea[_0x354c56(0x3e0)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x160f79='back-from-results-btn',_0x3e9791=currentMode===_0x2bf145(0x5e1),_0x2e421d=_0x3e9791?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x2bf145(0x4db);let _0x151d11='';_0x3cde5b[_0x2bf145(0x548)]&&(_0x151d11+=_0x2bf145(0x56b));let _0xf3394f=_0x3cde5b['showImproveButton'];_0xf3394f===undefined&&(_0xf3394f=_0x3cde5b[_0x2bf145(0x8fc)]<_0x3cde5b['totalQuestions']);_0xf3394f&&(_0x151d11+=_0x2bf145(0x1ff));_0x151d11+=_0x2bf145(0x1f1)+_0x160f79+_0x2bf145(0x1c4)+_0x2e421d+_0x2bf145(0x826);const _0x378a62=_0x2bf145(0x435)+_0x151d11+_0x2bf145(0x732);studentResultArea['insertAdjacentHTML'](_0x2bf145(0x427),_0x378a62),studentResultArea[_0x2bf145(0x788)](_0x2bf145(0x8d6))?.[_0x2bf145(0x889)](_0x2bf145(0x3d5),handleShowStudentRankings);const _0xaacd97=studentResultArea[_0x2bf145(0x788)]('#retake-for-improvement-btn');_0xaacd97&&_0xaacd97[_0x2bf145(0x889)](_0x2bf145(0x3d5),()=>{const _0x1bfb24=_0x2bf145;studentResultArea[_0x1bfb24(0x3e0)][_0x1bfb24(0x90a)](_0x1bfb24(0x20f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2bf145(0x36b)](_0x160f79)['addEventListener'](_0x2bf145(0x3d5),()=>{const _0x2c873e=_0x2bf145;_0x3e9791?(currentMode=_0x2c873e(0x875),studentView['classList'][_0x2c873e(0x90a)](_0x2c873e(0x20f)),adminView[_0x2c873e(0x3e0)]['remove'](_0x2c873e(0x20f)),showView(_0x2c873e(0x38b))):(showView('student'),document[_0x2c873e(0x36b)](_0x2c873e(0x8f0))[_0x2c873e(0x7c0)]='');});}function displayResultsWithAnswers(_0x2afe6e,_0x4b4123,_0x5d18a7,_0x10beb6,_0x2b20f8,_0x3e1a45=![]){const _0x9778c9=_0x4247c8,_0x2c79d0=_0x2b20f8>0x0?_0x2afe6e/_0x2b20f8*0x64:0x0,_0x270280=currentDisplayedQuiz[_0x9778c9(0x59a)]?.[_0x9778c9(0x15e)]??-0x1,_0x50b1bd=currentDisplayedQuiz[_0x9778c9(0x3ff)]===!![];let _0x1c61d3='';if(_0x50b1bd||_0x270280!==-0x1){let _0x1851c5=_0x50b1bd?_0x2afe6e===_0x2b20f8:_0x2afe6e>=_0x270280;const _0x3c5aba=_0x1851c5?_0x9778c9(0x455):_0x9778c9(0x2ff),_0x2578c9=_0x1851c5?_0x9778c9(0x7f4):_0x9778c9(0x4a8);_0x1c61d3='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3c5aba+'\x22>'+_0x2578c9+_0x9778c9(0x8cb);}let _0x57cfdb=_0x9778c9(0x33b)+currentStudentName+_0x9778c9(0x47a)+_0x2afe6e+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2b20f8+_0x9778c9(0x869)+_0x1c61d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4b4123+_0x9778c9(0x484)+_0x2c79d0[_0x9778c9(0x49b)](0x0)+_0x9778c9(0x79c);currentDisplayedQuiz[_0x9778c9(0x4d7)][_0x9778c9(0x204)]((_0x4ebd5c,_0x181828)=>{const _0x3e69aa=_0x9778c9,_0x4c6a27=_0x10beb6[_0x181828],_0x1fec19=_0x4c6a27[_0x3e69aa(0x4ae)],_0x2170bd=_0x4c6a27[_0x3e69aa(0x3b0)],_0x116841=_0x4ebd5c['questionType']||currentDisplayedQuiz[_0x3e69aa(0x1bb)];_0x57cfdb+=_0x3e69aa(0x437)+(_0x2170bd?_0x3e69aa(0x213):_0x3e69aa(0x769))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x181828+0x1)+'.\x20'+(_0x4ebd5c[_0x3e69aa(0x3cd)]||_0x4ebd5c[_0x3e69aa(0x35e)])+_0x3e69aa(0x700);switch(_0x116841){case _0x3e69aa(0x8fa):const _0x44349b=_0x1fec19||'ไม่ได้ตอบ',_0xa936dd=_0x4ebd5c[_0x3e69aa(0x624)];_0x57cfdb+=_0x3e69aa(0x927)+(!_0x2170bd?_0x3e69aa(0x74f):'')+'\x22>'+_0x44349b+_0x3e69aa(0x46f);!_0x2170bd&&(_0x57cfdb+=_0x3e69aa(0x753)+_0xa936dd+_0x3e69aa(0x8cb));break;case _0x3e69aa(0x510):_0x57cfdb+=_0x3e69aa(0x685)+(_0x1fec19||_0x3e69aa(0x2f9))+_0x3e69aa(0x8cb),_0x57cfdb+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x4ebd5c[_0x3e69aa(0x88a)]+_0x3e69aa(0x8cb);break;case _0x3e69aa(0x4ef):_0x57cfdb+=_0x3e69aa(0x586)+(_0x4ebd5c['correctAnswer']===!![]?_0x3e69aa(0x757):'')+'\x20'+(_0x1fec19==='true'&&!_0x2170bd?_0x3e69aa(0x74f):'')+'\x22>ใช่</p>',_0x57cfdb+=_0x3e69aa(0x586)+(_0x4ebd5c[_0x3e69aa(0x5ca)]===![]?_0x3e69aa(0x757):'')+'\x20'+(_0x1fec19===_0x3e69aa(0x2dd)&&!_0x2170bd?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x57cfdb+=_0x4ebd5c[_0x3e69aa(0x7a2)][_0x3e69aa(0x1c2)]((_0x2e799c,_0x17d5f7)=>{const _0x2d33b0=_0x3e69aa;let _0x4eb726='',_0x223146='';if(_0x17d5f7===_0x4ebd5c[_0x2d33b0(0x559)])_0x4eb726=_0x2d33b0(0x757),_0x223146=_0x2d33b0(0x4b9);else _0x17d5f7===_0x1fec19&&(_0x4eb726='font-bold\x20text-red-700\x20line-through',_0x223146=_0x2d33b0(0x6cb));return _0x2d33b0(0x87f)+_0x4eb726+'\x22>'+_0x223146+_0x2e799c+_0x2d33b0(0x732);})[_0x3e69aa(0x182)]('');break;}_0x57cfdb+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x4ebd5c['explanation']||'ไม่มีคำอธิบาย')+'</div>';if(!_0x2170bd){const _0x13e753=_0x4ebd5c[_0x3e69aa(0x3cd)]||_0x4ebd5c[_0x3e69aa(0x35e)];_0x57cfdb+=_0x3e69aa(0x62c)+escape(_0x13e753)+_0x3e69aa(0x796);}_0x57cfdb+=_0x3e69aa(0x732);}),studentResultArea[_0x9778c9(0x48a)]=_0x57cfdb,renderEarnedBadges(_0x5d18a7,'earned-badges-container'),studentResultArea[_0x9778c9(0x3e0)]['remove'](_0x9778c9(0x20f)),studentQuizArea[_0x9778c9(0x3e0)]['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x3e1a45,'score':_0x2afe6e,'totalQuestions':_0x2b20f8,'showRankings':!![]});if(window['MathJax'])window[_0x9778c9(0x5cd)][_0x9778c9(0x301)]([studentResultArea]);}function displayResultsScoreOnly(_0x259b92,_0x2fef90,_0x13c156,_0x156173){const _0x44abfe=_0x4247c8,_0x47007c=_0x156173>0x0?_0x259b92/_0x156173*0x64:0x0,_0x323b1f=currentDisplayedQuiz[_0x44abfe(0x59a)]?.[_0x44abfe(0x15e)]??-0x1,_0x4e7fca=currentDisplayedQuiz[_0x44abfe(0x3ff)]===!![];let _0x82e003='';if(_0x4e7fca||_0x323b1f!==-0x1){let _0x16f315=_0x4e7fca?_0x259b92===_0x156173:_0x259b92>=_0x323b1f;const _0x50e8de=_0x16f315?_0x44abfe(0x455):_0x44abfe(0x2ff),_0x2793c2=_0x16f315?_0x44abfe(0x7f4):_0x44abfe(0x4a8);_0x82e003='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x50e8de+'\x22>'+_0x2793c2+_0x44abfe(0x8cb);}let _0x3a5e81=_0x44abfe(0x694)+currentStudentName+_0x44abfe(0x3a8)+_0x259b92+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x156173+_0x44abfe(0x869)+_0x82e003+_0x44abfe(0x730)+_0x2fef90+_0x44abfe(0x198)+_0x47007c[_0x44abfe(0x49b)](0x0)+_0x44abfe(0x62b);studentResultArea['innerHTML']=_0x3a5e81,renderEarnedBadges(_0x13c156,_0x44abfe(0x78a)),studentResultArea[_0x44abfe(0x3e0)][_0x44abfe(0x691)](_0x44abfe(0x20f)),studentQuizArea[_0x44abfe(0x3e0)][_0x44abfe(0x90a)](_0x44abfe(0x20f)),setupResultScreenBackButton({'score':_0x259b92,'totalQuestions':_0x156173,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4b7ebc=_0x4247c8;let _0x4256fa=_0x4b7ebc(0x657)+currentStudentName+_0x4b7ebc(0x3af);studentResultArea[_0x4b7ebc(0x48a)]=_0x4256fa,studentResultArea[_0x4b7ebc(0x3e0)][_0x4b7ebc(0x691)]('hidden'),studentQuizArea[_0x4b7ebc(0x3e0)][_0x4b7ebc(0x90a)](_0x4b7ebc(0x20f)),document[_0x4b7ebc(0x36b)](_0x4b7ebc(0x76f))[_0x4b7ebc(0x889)](_0x4b7ebc(0x3d5),()=>{const _0x56e237=_0x4b7ebc;showView(_0x56e237(0x4c7)),document[_0x56e237(0x36b)]('quiz-id-input')[_0x56e237(0x7c0)]='';});}function renderEarnedBadges(_0x56bd97,_0x37a63c){const _0x357ce5=_0x4247c8,_0x9fa2b1=document[_0x357ce5(0x36b)](_0x37a63c);if(!_0x9fa2b1||!_0x56bd97||_0x56bd97['length']===0x0)return;let _0x26fb89='';_0x56bd97[_0x357ce5(0x204)]((_0x3a5315,_0xa23dcb)=>{const _0x412745=_0x357ce5,_0x425ff1=Object['values'](BADGES)[_0x412745(0x1c5)](_0x340d53=>_0x340d53['id']===_0x3a5315);_0x425ff1&&(_0x26fb89+=_0x412745(0x568)+_0xa23dcb*0.2+'s;\x22\x20title=\x22'+_0x425ff1[_0x412745(0x619)]+_0x412745(0x8bb)+_0x425ff1[_0x412745(0x153)]+_0x412745(0x414)+_0x425ff1[_0x412745(0x103)]+_0x412745(0x28f));}),_0x9fa2b1[_0x357ce5(0x48a)]=_0x26fb89;}function startPresentation(_0x4f5682){const _0x19e2f6=_0x4247c8;currentQuizData=getShuffledQuiz(_0x4f5682),currentPresentationSlide=0x0,presentationModal[_0x19e2f6(0x64c)]['display']=_0x19e2f6(0x832),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x36b8c7=_0x4247c8;document[_0x36b8c7(0x7ea)]&&document['exitFullscreen'](),presentationModal[_0x36b8c7(0x64c)][_0x36b8c7(0x555)]='none';}function renderPresentationSlide(_0x4066e7){const _0x3b12ec=_0x4247c8,_0x390ef4=document[_0x3b12ec(0x36b)](_0x3b12ec(0x347));if(!currentQuizData||!currentQuizData[_0x3b12ec(0x4d7)]||!currentQuizData['questions'][_0x4066e7]){_0x390ef4['innerHTML']=_0x3b12ec(0x561);return;}const _0x2af718=currentQuizData[_0x3b12ec(0x4d7)][_0x4066e7],_0x696533=_0x2af718[_0x3b12ec(0x402)]||currentQuizData[_0x3b12ec(0x1bb)];_0x390ef4[_0x3b12ec(0x48a)]='';let _0x59782f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2af718['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2af718['imageCode']+'</div>':'')+_0x3b12ec(0x5dc)+(_0x4066e7+0x1)+'.\x20'+(_0x2af718[_0x3b12ec(0x3cd)]||_0x2af718[_0x3b12ec(0x35e)])+_0x3b12ec(0x372);switch(_0x696533){case _0x3b12ec(0x8fa):_0x59782f+=_0x2af718['allResponses'][_0x3b12ec(0x1c2)](_0x4f049f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f049f+_0x3b12ec(0x292))[_0x3b12ec(0x182)]('');break;case _0x3b12ec(0x4ef):_0x59782f+=_0x3b12ec(0x11d),_0x59782f+=_0x3b12ec(0x84a);break;case _0x3b12ec(0x6d9):case _0x3b12ec(0x510):_0x59782f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x3b12ec(0x795):default:_0x59782f+=_0x2af718[_0x3b12ec(0x7a2)][_0x3b12ec(0x1c2)]((_0x28c200,_0x2eafca)=>_0x3b12ec(0x30a)+_0x2eafca+_0x3b12ec(0x581)+_0x28c200+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x59782f+=_0x3b12ec(0x5e2)+(_0x2af718[_0x3b12ec(0x812)]||_0x3b12ec(0x4bc))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x390ef4['innerHTML']=_0x59782f;if(window[_0x3b12ec(0x5cd)])window[_0x3b12ec(0x5cd)][_0x3b12ec(0x301)]([_0x390ef4]);document['querySelectorAll'](_0x3b12ec(0x578))[_0x3b12ec(0x204)](_0x13b0f9=>{const _0x4aa651=_0x3b12ec;_0x13b0f9[_0x4aa651(0x889)](_0x4aa651(0x3d5),_0x256147=>revealAnswerForPresentation(_0x4066e7,_0x256147[_0x4aa651(0x425)]));});const _0x214623=document[_0x3b12ec(0x36b)]('check-presentation-answer-btn');_0x214623&&_0x214623['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x4066e7)),document[_0x3b12ec(0x36b)](_0x3b12ec(0x263))[_0x3b12ec(0x6e3)]=_0x3b12ec(0x739)+(_0x4066e7+0x1)+_0x3b12ec(0x690)+currentQuizData['questions']['length'],document[_0x3b12ec(0x36b)](_0x3b12ec(0x73d))[_0x3b12ec(0x65e)]=_0x4066e7===0x0,document[_0x3b12ec(0x36b)](_0x3b12ec(0x57c))[_0x3b12ec(0x65e)]=_0x4066e7===currentQuizData[_0x3b12ec(0x4d7)][_0x3b12ec(0x47b)]-0x1;}async function checkShortAnswerForPresentation(_0x14f62f){const _0x21864c=_0x4247c8,_0x5ef157=currentQuizData['questions'][_0x14f62f],_0x400cf1=document['getElementById'](_0x21864c(0x463)),_0x4a22e9=document['getElementById']('check-presentation-answer-btn'),_0x2cf4be=document[_0x21864c(0x36b)](_0x21864c(0x18c)),_0x2ab6b1=document[_0x21864c(0x36b)](_0x21864c(0x237));if(!_0x400cf1||!_0x4a22e9||!_0x2cf4be||!_0x2ab6b1)return;const _0x2e8c1a=_0x400cf1['value'][_0x21864c(0x52d)]();if(_0x2e8c1a==='')return;_0x4a22e9['disabled']=!![],_0x4a22e9[_0x21864c(0x48a)]=_0x21864c(0x110),_0x400cf1[_0x21864c(0x65e)]=!![];const _0x474ca7=await gradeShortAnswer(_0x2e8c1a,_0x5ef157);_0x474ca7?_0x2cf4be[_0x21864c(0x48a)]=_0x21864c(0x497):_0x2cf4be['innerHTML']=_0x21864c(0x69e)+_0x5ef157['idealAnswer']+')',_0x2cf4be[_0x21864c(0x3e0)]['remove'](_0x21864c(0x20f)),_0x2ab6b1[_0x21864c(0x3e0)][_0x21864c(0x691)](_0x21864c(0x20f)),_0x4a22e9[_0x21864c(0x3e0)][_0x21864c(0x90a)]('hidden');}function revealAnswerForPresentation(_0x4d26bb,_0x17e6a7){const _0x477c14=_0x4247c8,_0x475166=currentQuizData['questions'][_0x4d26bb],_0x1a20f1=_0x475166['questionType']||currentQuizData['quizType'];document[_0x477c14(0x16d)](_0x477c14(0x578))[_0x477c14(0x204)](_0x415f0f=>{const _0x527ddb=_0x477c14;_0x415f0f['disabled']=!![],_0x415f0f[_0x527ddb(0x3e0)][_0x527ddb(0x691)](_0x527ddb(0x5ef));let _0x16134d=![];if(_0x1a20f1===_0x527ddb(0x795)||_0x1a20f1===_0x527ddb(0xef)){const _0x58eda6=parseInt(_0x415f0f['dataset'][_0x527ddb(0x7f9)]);_0x16134d=_0x58eda6===_0x475166[_0x527ddb(0x559)];}else{if(_0x1a20f1===_0x527ddb(0x4ef)){const _0x34ff8f=_0x415f0f[_0x527ddb(0x29d)][_0x527ddb(0x4ae)]===_0x527ddb(0x78c);_0x16134d=_0x34ff8f===_0x475166[_0x527ddb(0x5ca)];}else _0x1a20f1===_0x527ddb(0x8fa)&&(_0x16134d=_0x415f0f[_0x527ddb(0x6e3)][_0x527ddb(0x52d)]()===_0x475166['correctResponse']);}_0x16134d?_0x415f0f[_0x527ddb(0x3e0)]['add'](_0x527ddb(0x184),_0x527ddb(0x41d),_0x527ddb(0x500)):_0x415f0f['classList'][_0x527ddb(0x90a)](_0x527ddb(0x7bc));}),_0x17e6a7[_0x477c14(0x3e0)]['remove'](_0x477c14(0x7bc));let _0x5ce575=![];if(_0x1a20f1===_0x477c14(0x795))_0x5ce575=parseInt(_0x17e6a7[_0x477c14(0x29d)]['index'])===_0x475166[_0x477c14(0x559)];else{if(_0x1a20f1===_0x477c14(0x4ef))_0x5ce575=_0x17e6a7['dataset'][_0x477c14(0x4ae)]===_0x477c14(0x78c)===_0x475166[_0x477c14(0x5ca)];else _0x1a20f1===_0x477c14(0x8fa)&&(_0x5ce575=_0x17e6a7[_0x477c14(0x6e3)][_0x477c14(0x52d)]()===_0x475166[_0x477c14(0x624)]);}!_0x5ce575&&_0x17e6a7[_0x477c14(0x3e0)][_0x477c14(0x90a)]('bg-red-500','text-white',_0x477c14(0x2ea)),document[_0x477c14(0x36b)]('presentation-explanation')['classList']['remove'](_0x477c14(0x20f));}function startWholeQuizTimer(_0xfacb5d){const _0x554dbe=_0x4247c8,_0x24cb4f=document[_0x554dbe(0x36b)]('timer-container');if(!_0x24cb4f)return;const _0x5cbc45=Date[_0x554dbe(0x163)]()+_0xfacb5d*0x3c*0x3e8;_0x24cb4f[_0x554dbe(0x48a)]=_0x554dbe(0x944);const _0x3de2df=document[_0x554dbe(0x36b)](_0x554dbe(0x6ee));quizTimerInterval=setInterval(()=>{const _0x4a250d=_0x554dbe,_0x1e026c=_0x5cbc45-Date[_0x4a250d(0x163)]();if(_0x1e026c<=0x0)clearInterval(quizTimerInterval),_0x3de2df[_0x4a250d(0x6e3)]=_0x4a250d(0x43f),showMessage(_0x4a250d(0x7c2)),handleSubmitQuiz(null);else{const _0x35ee3b=Math['floor'](_0x1e026c/0x3e8/0x3c%0x3c)[_0x4a250d(0x4d5)]()[_0x4a250d(0x311)](0x2,'0'),_0x2ab236=Math[_0x4a250d(0x6e5)](_0x1e026c/0x3e8%0x3c)[_0x4a250d(0x4d5)]()[_0x4a250d(0x311)](0x2,'0');_0x3de2df['textContent']=_0x35ee3b+':'+_0x2ab236;}},0x3e8);}function renderPerQuestionView(){const _0x4c82b1=_0x4247c8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3b4488=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2d89ac=_0x3b4488[_0x4c82b1(0x402)]||currentDisplayedQuiz[_0x4c82b1(0x1bb)];let _0x476410=_0x4c82b1(0xed)+(currentQuestionIndex+0x1)+_0x4c82b1(0x260)+currentDisplayedQuiz[_0x4c82b1(0x4d7)]['length']+_0x4c82b1(0x631)+(currentMode===_0x4c82b1(0x5e1)?_0x4c82b1(0x592):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x4c82b1(0x931)+(currentQuestionIndex===currentDisplayedQuiz[_0x4c82b1(0x4d7)][_0x4c82b1(0x47b)]-0x1?_0x4c82b1(0x6f8):'คำถามถัดไป')+_0x4c82b1(0x58c);studentQuizArea[_0x4c82b1(0x48a)]=_0x476410;let _0x1c038f='',_0x4ce740='';switch(_0x2d89ac){case _0x4c82b1(0x8fa):_0x1c038f=currentQuestionIndex+0x1+'.\x20'+_0x3b4488[_0x4c82b1(0x3cd)],_0x4ce740=_0x4c82b1(0x339)+_0x3b4488[_0x4c82b1(0x341)]['map'](_0x1817be=>_0x4c82b1(0x5c6)+_0x1817be+'\x22>'+_0x1817be+_0x4c82b1(0x638))[_0x4c82b1(0x182)]('')+_0x4c82b1(0x207);break;case _0x4c82b1(0x4ef):_0x1c038f=currentQuestionIndex+0x1+'.\x20'+_0x3b4488[_0x4c82b1(0x35e)],_0x4ce740=_0x4c82b1(0x4e4);break;case'short_answer':case _0x4c82b1(0x6d9):_0x1c038f=currentQuestionIndex+0x1+'.\x20'+_0x3b4488[_0x4c82b1(0x35e)],_0x4ce740=_0x4c82b1(0x56d);break;case _0x4c82b1(0x795):case _0x4c82b1(0x4f7):default:_0x1c038f=currentQuestionIndex+0x1+'.\x20'+_0x3b4488['questionText'],_0x4ce740=_0x3b4488[_0x4c82b1(0x7a2)][_0x4c82b1(0x1c2)]((_0x3abfae,_0x5a3cfd)=>_0x4c82b1(0x72b)+_0x5a3cfd+_0x4c82b1(0x3cb)+_0x5a3cfd+_0x4c82b1(0x387)+_0x5a3cfd+'\x22>'+_0x3abfae+_0x4c82b1(0x5e8))[_0x4c82b1(0x182)]('');break;}_0x3b4488[_0x4c82b1(0x3b1)]&&(_0x1c038f+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3b4488[_0x4c82b1(0x3b1)]+_0x4c82b1(0x732));document[_0x4c82b1(0x36b)]('per-question-text')[_0x4c82b1(0x48a)]=_0x1c038f,document[_0x4c82b1(0x36b)]('per-question-options')['innerHTML']=_0x4ce740;if(currentMode==='admin-testing'){const _0x2b33b7=document[_0x4c82b1(0x36b)](_0x4c82b1(0x141));if(_0x2b33b7)_0x2b33b7[_0x4c82b1(0x889)]('click',cancelAdminTest);}document['getElementById'](_0x4c82b1(0x922))[_0x4c82b1(0x889)](_0x4c82b1(0x3d5),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x4c82b1(0x301)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x23e27b=_0x4247c8,_0x25f0fd=currentDisplayedQuiz[_0x23e27b(0x59a)][_0x23e27b(0x277)],_0x1f9324=document[_0x23e27b(0x36b)](_0x23e27b(0x83d));if(!_0x1f9324)return;let _0x14c6c2=_0x25f0fd;_0x1f9324[_0x23e27b(0x48a)]=_0x23e27b(0x7fc)+_0x14c6c2+_0x23e27b(0x176);const _0x5da088=document[_0x23e27b(0x36b)](_0x23e27b(0x94a)),_0x124c30=document[_0x23e27b(0x36b)](_0x23e27b(0x37d));perQuestionTimerInterval=setInterval(()=>{const _0x4f1956=_0x23e27b;_0x14c6c2--;const _0x369459=_0x14c6c2/_0x25f0fd*0x64;_0x5da088[_0x4f1956(0x64c)][_0x4f1956(0x1ad)]=_0x369459+'%',_0x124c30[_0x4f1956(0x6e3)]=_0x14c6c2,_0x14c6c2<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x55003f=![]){const _0x3f179b=_0x4247c8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x52d298=null;if(!_0x55003f){const _0x465393=currentDisplayedQuiz[_0x3f179b(0x4d7)][currentQuestionIndex],_0x24fd68=_0x465393[_0x3f179b(0x402)]||currentDisplayedQuiz[_0x3f179b(0x1bb)];if(_0x24fd68===_0x3f179b(0x510)||_0x24fd68===_0x3f179b(0x6d9)){const _0xf43067=document[_0x3f179b(0x788)]('#per-question-options\x20textarea');_0x52d298=_0xf43067?_0xf43067[_0x3f179b(0x7c0)][_0x3f179b(0x52d)]():'';}else{if(_0x24fd68===_0x3f179b(0x8fa)){const _0x2ab6b0=document[_0x3f179b(0x788)]('#per-question-options\x20select');_0x52d298=_0x2ab6b0?_0x2ab6b0[_0x3f179b(0x7c0)]:'';}else{const _0x33bf3d=document[_0x3f179b(0x788)](_0x3f179b(0x55d));if(_0x33bf3d){const _0x109fe6=_0x33bf3d[_0x3f179b(0x7c0)];_0x52d298=!isNaN(parseInt(_0x109fe6,0xa))&&_0x109fe6[_0x3f179b(0x52d)]()!==''?parseInt(_0x109fe6,0xa):_0x109fe6;}}}}studentAnswersPerQuestion[_0x3f179b(0x852)](_0x52d298),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x3f179b(0x47b)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x4f0058=_0x4247c8,_0x197cf3=currentDisplayedQuiz[_0x4f0058(0x4d7)][_0x4f0058(0x69b)](_0x39df1f=>_0x39df1f[_0x4f0058(0x402)]==='short_answer');_0x197cf3?showMessage(_0x4f0058(0x6f9)):showMessage(_0x4f0058(0x82c));const _0x4013e4=currentQuizData['id'],_0x3459cd=doc(db,_0x4f0058(0x302)+appId+_0x4f0058(0x6b7)+_0x4013e4+'/submissions',currentStudentName),_0x1ffac9=await getDoc(_0x3459cd),_0x2f08a4=_0x1ffac9[_0x4f0058(0x747)]()?_0x1ffac9[_0x4f0058(0x6d4)]():{},_0x2c3fad=_0x2f08a4['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2c3fad);}function getResultsFilename(){const _0x7093ea=_0x4247c8,_0x1dc755=document[_0x7093ea(0x36b)](_0x7093ea(0x618))[_0x7093ea(0x6e3)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x1dc755||_0x7093ea(0x19d));}function exportResultsAsImage(){const _0x17a761=_0x4247c8,_0x251214=document[_0x17a761(0x36b)](_0x17a761(0x919));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x251214)['then'](_0x128769=>{const _0x4cce35=_0x17a761,_0xacf4c6=document[_0x4cce35(0x609)]('a');_0xacf4c6[_0x4cce35(0x680)]=getResultsFilename()+_0x4cce35(0x5b0),_0xacf4c6[_0x4cce35(0x434)]=_0x128769['toDataURL'](_0x4cce35(0x584)),_0xacf4c6[_0x4cce35(0x3d5)](),messageModal['classList']['add']('hidden');});}function exportResultsAsPDF(){const _0x490597=_0x4247c8,{jsPDF:_0x144e29}=window[_0x490597(0x71d)],_0x3df3c1=new _0x144e29();_0x3df3c1[_0x490597(0x4f4)](_0x490597(0xf0),_0x490597(0x4bb)),_0x3df3c1[_0x490597(0x508)]({'html':_0x490597(0x465)}),_0x3df3c1['save'](getResultsFilename()+_0x490597(0x772));}function exportResultsAsWord(){const _0x2950dc=_0x4247c8,_0x338c7a='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x2950dc(0x660)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x2950dc(0x336),_0x5a3775=_0x2950dc(0x420),_0x55276e=_0x338c7a+document[_0x2950dc(0x36b)](_0x2950dc(0x919))['innerHTML']+_0x5a3775,_0x1a2e93=_0x2950dc(0x183)+encodeURIComponent(_0x55276e),_0x55f8e1=document[_0x2950dc(0x609)]('a');document[_0x2950dc(0x444)][_0x2950dc(0x7dd)](_0x55f8e1),_0x55f8e1[_0x2950dc(0x434)]=_0x1a2e93,_0x55f8e1['download']=getResultsFilename()+'.doc',_0x55f8e1[_0x2950dc(0x3d5)](),document[_0x2950dc(0x444)][_0x2950dc(0x274)](_0x55f8e1);}function exportResultsAsExcel(){const _0x561345=_0x4247c8,_0x47eb5e=document[_0x561345(0x36b)](_0x561345(0x462));let _0x26df39=[];for(let _0x2341cd=0x0;_0x2341cd<_0x47eb5e[_0x561345(0x28a)][_0x561345(0x47b)];_0x2341cd++){let _0x45765a=[],_0x48d02d=_0x47eb5e[_0x561345(0x28a)][_0x2341cd][_0x561345(0x16d)](_0x561345(0x3c2));for(let _0xbbfaff=0x0;_0xbbfaff<_0x48d02d['length'];_0xbbfaff++){_0x45765a['push']('\x22'+_0x48d02d[_0xbbfaff][_0x561345(0x119)][_0x561345(0x134)](/"/g,'\x22\x22')+'\x22');}_0x26df39[_0x561345(0x852)](_0x45765a[_0x561345(0x182)](','));}const _0x438338=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x26df39[_0x561345(0x182)]('\x0a')],{'type':_0x561345(0x268)}),_0x44b029=document[_0x561345(0x609)]('a');_0x44b029[_0x561345(0x434)]=URL[_0x561345(0x314)](_0x438338),_0x44b029[_0x561345(0x680)]=getResultsFilename()+_0x561345(0x91d),_0x44b029[_0x561345(0x3d5)]();}function exportTableAsImage(_0x5c62ab,_0x20de2b){const _0xefe298=_0x4247c8,_0x1abc58=document[_0xefe298(0x36b)](_0x5c62ab);if(!_0x1abc58){showMessage(_0xefe298(0x687));return;}showMessage(_0xefe298(0x171)),html2canvas(_0x1abc58)['then'](_0x5c31ec=>{const _0xc6deb4=_0xefe298,_0x30d3b9=document[_0xc6deb4(0x609)]('a');_0x30d3b9['download']=_0x20de2b+_0xc6deb4(0x5b0),_0x30d3b9[_0xc6deb4(0x434)]=_0x5c31ec['toDataURL'](_0xc6deb4(0x584)),_0x30d3b9['click'](),messageModal[_0xc6deb4(0x3e0)][_0xc6deb4(0x90a)](_0xc6deb4(0x20f));});}function exportTableAsPDF(_0x4bcbe8,_0x305fae){const _0x1a7822=_0x4247c8,{jsPDF:_0x167481}=window[_0x1a7822(0x71d)],_0x38d6a9=new _0x167481();_0x38d6a9[_0x1a7822(0x4f4)](_0x1a7822(0xf0),_0x1a7822(0x4bb)),_0x38d6a9[_0x1a7822(0x508)]({'html':'#'+_0x4bcbe8}),_0x38d6a9[_0x1a7822(0x32f)](_0x305fae+_0x1a7822(0x772));}function exportTableAsWord(_0x239db9,_0x228957){const _0xd9713c=_0x4247c8,_0x1914bf=document[_0xd9713c(0x36b)](_0x239db9);if(!_0x1914bf){showMessage(_0xd9713c(0x687));return;}const _0x26b8d7=_0xd9713c(0x8cf)+_0xd9713c(0x660)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xd9713c(0x336),_0x502668=_0xd9713c(0x420),_0x5a63ae=_0x26b8d7+_0x1914bf['innerHTML']+_0x502668,_0x4da812='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x5a63ae),_0x34426b=document[_0xd9713c(0x609)]('a');document[_0xd9713c(0x444)][_0xd9713c(0x7dd)](_0x34426b),_0x34426b['href']=_0x4da812,_0x34426b[_0xd9713c(0x680)]=_0x228957+'.doc',_0x34426b['click'](),document['body']['removeChild'](_0x34426b);}function exportTableAsExcel(_0x54c764,_0x48a9fe){const _0x204462=_0x4247c8,_0x3f80dd=document[_0x204462(0x36b)](_0x54c764);if(!_0x3f80dd){showMessage(_0x204462(0x687));return;}let _0x4e42a5=[];for(let _0x54a4f3=0x0;_0x54a4f3<_0x3f80dd[_0x204462(0x28a)][_0x204462(0x47b)];_0x54a4f3++){let _0x405ddf=[],_0x3140ff=_0x3f80dd[_0x204462(0x28a)][_0x54a4f3][_0x204462(0x16d)]('td,\x20th');for(let _0x1a33dc=0x0;_0x1a33dc<_0x3140ff[_0x204462(0x47b)];_0x1a33dc++){_0x405ddf[_0x204462(0x852)]('\x22'+_0x3140ff[_0x1a33dc][_0x204462(0x119)][_0x204462(0x134)](/"/g,'\x22\x22')+'\x22');}_0x4e42a5['push'](_0x405ddf[_0x204462(0x182)](','));}const _0x12f226=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4e42a5[_0x204462(0x182)]('\x0a')],{'type':_0x204462(0x268)}),_0x3af2de=document[_0x204462(0x609)]('a');_0x3af2de[_0x204462(0x434)]=URL[_0x204462(0x314)](_0x12f226),_0x3af2de[_0x204462(0x680)]=_0x48a9fe+_0x204462(0x91d),_0x3af2de[_0x204462(0x3d5)]();}function renderAnalytics(_0x5b129e,_0x52f370){const _0x135161=_0x4247c8,_0x470105=_0x52f370[_0x135161(0x42c)](_0x2901df=>_0x2901df[_0x135161(0x50d)]!==undefined),_0x43bf90=currentProjectData[_0x135161(0x8a4)][_0x135161(0x47b)],_0x189282=_0x470105[_0x135161(0x47b)],_0x141121=_0x43bf90-_0x189282,_0x28258e=_0x43bf90>0x0?_0x189282/_0x43bf90*0x64:0x0,_0x334356=_0x470105[_0x135161(0x1c2)](_0x1ac118=>_0x1ac118[_0x135161(0x50d)]),_0x1e295e=_0x334356['length']>0x0?_0x334356[_0x135161(0x860)]((_0x43f848,_0x577c6d)=>_0x43f848+_0x577c6d,0x0)/_0x334356[_0x135161(0x47b)]:0x0,_0x1d7b48=_0x5b129e[_0x135161(0x4d7)][_0x135161(0x47b)],_0x1d0c2f=_0x1d7b48>0x0?_0x1e295e/_0x1d7b48*0x64:0x0,_0x1015b9=calculateItemAnalysis(_0x5b129e,_0x470105),_0x32e31b=calculateReliabilityKR20(_0x5b129e,_0x470105,_0x1015b9['perQuestionStats']);let _0xfea6db='';if(_0x32e31b!==null){let _0xab03a9='';if(_0x32e31b>=0.9)_0xab03a9=_0x135161(0x72d);else{if(_0x32e31b>=0.8)_0xab03a9=_0x135161(0x676);else{if(_0x32e31b>=0.7)_0xab03a9='ดี';else{if(_0x32e31b>=0.6)_0xab03a9=_0x135161(0x72f);else _0xab03a9=_0x135161(0x7c4);}}}_0xfea6db=_0x135161(0x441)+_0x32e31b[_0x135161(0x49b)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0xab03a9+_0x135161(0x73e);}const _0x36b85c=document[_0x135161(0x36b)](_0x135161(0x61e));_0x36b85c[_0x135161(0x48a)]=_0x135161(0x228)+_0x28258e[_0x135161(0x49b)](0x0)+_0x135161(0x2d6)+_0x189282+'/'+_0x43bf90+_0x135161(0x3d4)+_0x1e295e[_0x135161(0x49b)](0x2)+_0x135161(0x899)+_0x1d0c2f[_0x135161(0x49b)](0x0)+_0x135161(0x6aa)+(_0x334356['length']>0x0?Math['max'](..._0x334356):_0x135161(0x24c))+_0x135161(0x775)+(_0x334356[_0x135161(0x47b)]>0x0?Math[_0x135161(0x47e)](..._0x334356):_0x135161(0x24c))+_0x135161(0x330)+_0xfea6db+'\x0a\x20\x20\x20\x20';const _0x16d516=document[_0x135161(0x36b)]('interesting-stats-wrapper');_0x16d516&&_0x16d516['remove']();const _0x288f2e=_0x135161(0x92a);_0x36b85c[_0x135161(0x51f)](_0x135161(0x61d),_0x288f2e);const _0x43434c=currentProjectData[_0x135161(0x8a4)]||[];renderSubmissionChart(_0x189282,_0x141121,_0x470105,_0x43434c),renderScoreDistributionChart(_0x470105,_0x1d7b48),renderQuestionAnalytics(_0x5b129e,_0x470105,_0x43434c),renderInterestingStats(_0x5b129e,_0x470105);}async function handleExportLessonPDF(){const _0x2a9775=_0x4247c8,_0x3b5ca6=document[_0x2a9775(0x36b)](_0x2a9775(0x26a)),_0x2506f7=document[_0x2a9775(0x36b)]('lesson-plan-title')[_0x2a9775(0x6e3)],_0x1e98f6=window[_0x2a9775(0x6ce)]('',_0x2a9775(0xf9)),_0x554af9=_0x2a9775(0x273)+_0x2506f7+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b5ca6[_0x2a9775(0x48a)]+_0x2a9775(0x235);_0x1e98f6[_0x2a9775(0x545)][_0x2a9775(0x6b0)](_0x554af9),_0x1e98f6[_0x2a9775(0x545)][_0x2a9775(0x32a)](),_0x1e98f6[_0x2a9775(0x473)]=function(){setTimeout(()=>{const _0xfb5a72=_0x4780;_0x1e98f6[_0xfb5a72(0x797)]();},0x5dc);};}function renderInterestingStats(_0x185477,_0x26dc38){const _0xe974b6=_0x4247c8,_0x15209b=document['getElementById']('interesting-stats-container');if(!_0x15209b)return;if(_0x26dc38['length']===0x0){_0x15209b[_0xe974b6(0x48a)]=_0xe974b6(0x56a);return;}const _0x1dbec8=_0x185477[_0xe974b6(0x4d7)][_0xe974b6(0x1c2)]((_0x2a7b89,_0x23508b)=>({'index':_0x23508b+0x1,'text':_0x2a7b89[_0xe974b6(0x35e)]||_0x2a7b89[_0xe974b6(0x3cd)],'correct':0x0}));_0x26dc38[_0xe974b6(0x204)](_0x13bcb7=>{const _0x3aca1c=_0xe974b6,_0x2dd6bc=_0x13bcb7[_0x3aca1c(0x27a)][_0x13bcb7[_0x3aca1c(0x27a)]['length']-0x1];_0x2dd6bc&&_0x2dd6bc[_0x3aca1c(0x5f9)]&&_0x2dd6bc['answers'][_0x3aca1c(0x204)](_0x3f86d1=>{const _0x4aef1f=_0x3aca1c,_0x576d90=_0x1dbec8[_0x4aef1f(0x1c5)](_0x10a7c3=>_0x10a7c3[_0x4aef1f(0x73f)]===_0x3f86d1[_0x4aef1f(0xf6)]);_0x3f86d1[_0x4aef1f(0x3b0)]&&_0x576d90&&_0x576d90[_0x4aef1f(0x253)]++;});});const _0x2d6455=_0x26dc38[_0xe974b6(0x47b)],_0x3bdd3f=Math[_0xe974b6(0x276)](..._0x1dbec8['map'](_0x440b62=>_0x440b62[_0xe974b6(0x253)])),_0x170393=Math['min'](..._0x1dbec8[_0xe974b6(0x1c2)](_0x204302=>_0x204302[_0xe974b6(0x253)])),_0x19ee57=_0x1dbec8['filter'](_0x1b4355=>_0x1b4355[_0xe974b6(0x253)]===_0x3bdd3f)[_0xe974b6(0x1c2)](_0x2ed918=>_0xe974b6(0x621)+_0x2ed918['index']),_0x4b0dd3=_0x1dbec8[_0xe974b6(0x42c)](_0x22fe84=>_0x22fe84[_0xe974b6(0x253)]===_0x170393)[_0xe974b6(0x1c2)](_0x45f496=>_0xe974b6(0x621)+_0x45f496[_0xe974b6(0x7f9)]),_0x2cec6c=_0x26dc38[_0xe974b6(0x254)]((_0x311940,_0x196f47)=>_0x196f47[_0xe974b6(0x50d)]-_0x311940[_0xe974b6(0x50d)])[_0xe974b6(0x42c)]((_0x326796,_0x1289c3,_0x3ba22b)=>_0x326796['latestScore']===_0x3ba22b[0x0][_0xe974b6(0x50d)]),_0x2a7f96=_0x26dc38[_0xe974b6(0x254)]((_0x163d17,_0x4db54a)=>_0x163d17[_0xe974b6(0x50d)]-_0x4db54a['latestScore'])[_0xe974b6(0x42c)]((_0x3c2893,_0x20dfee,_0x3e80b2)=>_0x3c2893['latestScore']===_0x3e80b2[0x0][_0xe974b6(0x50d)]),_0x5d6f98=_0xe974b6(0x240)+_0x19ee57[_0xe974b6(0x182)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3bdd3f+_0xe974b6(0x690)+_0x2d6455+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x4b0dd3[_0xe974b6(0x182)](',\x20')+_0xe974b6(0x408)+(_0x2d6455-_0x170393)+_0xe974b6(0x690)+_0x2d6455+_0xe974b6(0x3a2)+_0x2cec6c[_0xe974b6(0x1c2)](_0x344500=>_0x344500[_0xe974b6(0x466)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2cec6c[0x0][_0xe974b6(0x50d)]+_0xe974b6(0x582)+_0x2a7f96[_0xe974b6(0x1c2)](_0x56c1e2=>_0x56c1e2['studentName'])[_0xe974b6(0x182)](',\x20')+_0xe974b6(0x6c8)+_0x2a7f96[0x0][_0xe974b6(0x50d)]+_0xe974b6(0x5ed);_0x15209b[_0xe974b6(0x48a)]=_0x5d6f98;}function renderSubmissionChart(_0xed6302,_0x30cb58,_0x53c6e1,_0x56f78a){const _0xab4dc1=_0x4247c8,_0x20b8ab=document['getElementById']('submission-status-chart')['getContext']('2d'),_0x1efa35=_0x53c6e1[_0xab4dc1(0x1c2)](_0x3ec027=>_0x3ec027[_0xab4dc1(0x466)]),_0x331b45=_0x56f78a['filter'](_0x5f348a=>!_0x1efa35[_0xab4dc1(0x635)](_0x5f348a));chartInstances['submission']&&chartInstances[_0xab4dc1(0x3e6)][_0xab4dc1(0x8e5)](),chartInstances[_0xab4dc1(0x3e6)]=new Chart(_0x20b8ab,{'type':_0xab4dc1(0x62a),'data':{'labels':[_0xab4dc1(0x8b6),_0xab4dc1(0x43b)],'datasets':[{'data':[_0xed6302,_0x30cb58],'backgroundColor':['#10B981',_0xab4dc1(0x312)],'borderColor':['#ffffff',_0xab4dc1(0x303)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xab4dc1(0x52f)},'tooltip':{'callbacks':{'label':function(_0x1ccc66){const _0x1ed1f6=_0xab4dc1;let _0x5ab70c=_0x1ccc66[_0x1ed1f6(0x45c)]||'';return _0x5ab70c&&(_0x5ab70c+=':\x20'),_0x5ab70c+=_0x1ccc66[_0x1ed1f6(0x7d9)],_0x5ab70c;},'afterLabel':function(_0x5da048){const _0xcbc4e0=_0xab4dc1;let _0x529f09;return _0x5da048[_0xcbc4e0(0x4c8)]===0x0?_0x529f09=_0x1efa35:_0x529f09=_0x331b45,_0x529f09['length']>0x0?_0x529f09[_0xcbc4e0(0x182)]('\x0a'):_0xcbc4e0(0x293);}}}}}});}function renderScoreDistributionChart(_0x53f824,_0x181865){const _0x4a6b81=_0x4247c8,_0x37880d=document[_0x4a6b81(0x36b)](_0x4a6b81(0x903))['getContext']('2d'),_0x472bf7={};for(let _0x24cb0a=0x0;_0x24cb0a<=_0x181865;_0x24cb0a++){_0x472bf7[_0x24cb0a]=0x0;}_0x53f824[_0x4a6b81(0x204)](_0x541ff0=>{const _0x54227f=_0x4a6b81;_0x472bf7[_0x541ff0[_0x54227f(0x50d)]]!==undefined&&_0x472bf7[_0x541ff0['latestScore']]++;}),chartInstances[_0x4a6b81(0x8fc)]&&chartInstances['score'][_0x4a6b81(0x8e5)](),chartInstances[_0x4a6b81(0x8fc)]=new Chart(_0x37880d,{'type':_0x4a6b81(0x3ad),'data':{'labels':Object['keys'](_0x472bf7),'datasets':[{'label':_0x4a6b81(0x38e),'data':Object[_0x4a6b81(0x13b)](_0x472bf7),'backgroundColor':_0x4a6b81(0x894),'borderColor':_0x4a6b81(0x5c3),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4a6b81(0x30e)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1765d7){const _0x26877e=_0x4a6b81,_0x4ac082=_0x1765d7[_0x26877e(0x45c)],_0x217a23=_0x53f824['filter'](_0x28a222=>_0x28a222[_0x26877e(0x50d)]==_0x4ac082)[_0x26877e(0x1c2)](_0x38d7aa=>_0x38d7aa[_0x26877e(0x466)]);return _0x217a23[_0x26877e(0x47b)]>0x0?_0x217a23[_0x26877e(0x182)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x461c7b,_0x193202,_0x1b184d){const _0x28abdb=_0x4247c8,_0xdfe28b=document['getElementById']('question-analytics-container');if(_0x1b184d[_0x28abdb(0x47b)]===0x0){_0xdfe28b['innerHTML']=_0x28abdb(0x13e);return;}const _0x2f4f06=calculateItemAnalysis(_0x461c7b,_0x193202),_0x4c1906=calculateDistractorAnalysis(_0x461c7b,_0x193202);let _0x1fc08f='';_0x2f4f06[_0x28abdb(0x6d5)]&&(_0x1fc08f=_0x28abdb(0xfb)+_0x2f4f06['overallGroups'][_0x28abdb(0x5f6)]['length']+_0x28abdb(0x5be)+_0x2f4f06[_0x28abdb(0x6d5)]['upperGroupNames'][_0x28abdb(0x1c2)](_0x583aae=>'<li>'+_0x583aae+'</li>')[_0x28abdb(0x182)]('')+_0x28abdb(0x36c)+_0x2f4f06[_0x28abdb(0x6d5)][_0x28abdb(0x33f)]['length']+_0x28abdb(0x5be)+_0x2f4f06[_0x28abdb(0x6d5)][_0x28abdb(0x33f)][_0x28abdb(0x1c2)](_0x3effa4=>'<li>'+_0x3effa4+_0x28abdb(0x1e3))[_0x28abdb(0x182)]('')+_0x28abdb(0xec));let _0x553b78='';const _0x1790b5=_0x193202[_0x28abdb(0x1c2)](_0x599531=>_0x599531[_0x28abdb(0x466)]),_0x57d5c4=_0x124bbb=>{const _0x2ceac5=_0x28abdb;if(_0x124bbb>=0.8)return _0x2ceac5(0x44c);if(_0x124bbb>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x124bbb>=0.4)return _0x2ceac5(0x2e1);if(_0x124bbb>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x2ceac5(0x14e);},_0x220a70=_0x16baf2=>{const _0x547e3f=_0x28abdb;if(_0x16baf2<0x0)return _0x547e3f(0x3f4);if(_0x16baf2>=0.4)return _0x547e3f(0x24d);if(_0x16baf2>=0.3)return _0x547e3f(0x50e);if(_0x16baf2>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x23ce0b=_0x4ccfaf=>{const _0xdc5b6=_0x28abdb,_0x412e3a=_0x4ccfaf[_0xdc5b6(0x49b)](0x0);if(parseFloat(_0x412e3a)===0x64)return _0xdc5b6(0x1a1)+_0x412e3a+_0xdc5b6(0x88e);if(_0x4ccfaf>=0x32)return _0xdc5b6(0x68f)+_0x412e3a+_0xdc5b6(0x88e);return _0xdc5b6(0x2ba)+_0x412e3a+_0xdc5b6(0x88e);};_0x461c7b['questions']['forEach']((_0x3de4ca,_0x5f4ce9)=>{const _0x117b89=_0x28abdb,_0xb1a98=_0x2f4f06[_0x117b89(0x305)][_0x5f4ce9],_0x1f8827=_0x4c1906[_0x5f4ce9],_0x22ebec=_0x3de4ca[_0x117b89(0x3cd)]||_0x3de4ca[_0x117b89(0x35e)]||_0x3de4ca[_0x117b89(0x3ea)];let _0x27eaa3=0x0;const _0x5a1248=[],_0x1a2831=[];_0x193202[_0x117b89(0x204)](_0x25a5e9=>{const _0x59569d=_0x117b89,_0x443ff8=_0x25a5e9['attempts'][_0x25a5e9['attempts'][_0x59569d(0x47b)]-0x1];if(_0x443ff8&&_0x443ff8['answers']){const _0x2abd3f=_0x443ff8['answers'][_0x59569d(0x1c5)](_0x1ec2d5=>_0x1ec2d5[_0x59569d(0xf6)]===_0x22ebec)??_0x443ff8[_0x59569d(0x5f9)][_0x5f4ce9]??null;_0x2abd3f&&(_0x2abd3f['isCorrect']?(_0x27eaa3++,_0x5a1248[_0x59569d(0x852)](_0x25a5e9[_0x59569d(0x466)])):_0x1a2831[_0x59569d(0x852)](_0x25a5e9[_0x59569d(0x466)]));}});const _0x155915=_0x193202[_0x117b89(0x47b)]>0x0?_0x27eaa3/_0x193202[_0x117b89(0x47b)]*0x64:0x0,_0x578b1d=_0x1b184d[_0x117b89(0x42c)](_0x5cbd32=>!_0x1790b5['includes'](_0x5cbd32)),_0x1a3834=_0xb1a98?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0xb1a98['p']['toFixed'](0x2)+'</p><div>'+_0x57d5c4(_0xb1a98['p'])+_0x117b89(0x87a)+_0xb1a98['r']['toFixed'](0x2)+_0x117b89(0x2f1)+_0x220a70(_0xb1a98['r'])+_0x117b89(0x8b4)+_0x23ce0b(_0x155915)+_0x117b89(0x2ab):'';let _0x23f359='';_0x1f8827&&(_0x23f359='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object['keys'](_0x1f8827)[_0x117b89(0x1c2)](_0x434c84=>{const _0x5f02c2=_0x117b89,_0x4d683a=_0x1f8827[_0x434c84],_0x28cad4=parseInt(_0x434c84)===_0x3de4ca[_0x5f02c2(0x559)],_0x40d9ff=!_0x28cad4&&_0x4d683a[_0x5f02c2(0x230)]>_0x4d683a[_0x5f02c2(0x935)];return _0x5f02c2(0x485)+(_0x28cad4?_0x5f02c2(0x7d4):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x28cad4?'✔\x20':'')+_0x4d683a['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4d683a[_0x5f02c2(0x935)]+_0x5f02c2(0x799)+_0x4d683a['lower_group_count']+'\x20'+(_0x40d9ff?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4d683a['total']+_0x5f02c2(0x1bd);})[_0x117b89(0x182)]('')+_0x117b89(0x156));let _0x560dad='';_0xb1a98&&_0xb1a98[_0x117b89(0x929)]&&(_0x560dad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0xb1a98['upperGroupResponders'][_0x117b89(0x47b)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0xb1a98[_0x117b89(0x929)][_0x117b89(0x1c2)](_0xb52daa=>_0x117b89(0x793)+(_0xb52daa[_0x117b89(0x3b0)]?_0x117b89(0x215):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0xb52daa['name']+_0x117b89(0x1e3))['join']('')+_0x117b89(0x898)+_0xb1a98[_0x117b89(0x6d1)][_0x117b89(0x47b)]+_0x117b89(0x36a)+_0xb1a98[_0x117b89(0x6d1)][_0x117b89(0x1c2)](_0x11d68a=>'<li>'+(_0x11d68a[_0x117b89(0x3b0)]?_0x117b89(0x215):_0x117b89(0x194))+'\x20'+_0x11d68a['name']+_0x117b89(0x1e3))[_0x117b89(0x182)]('')+_0x117b89(0x2e7)),_0x553b78+=_0x117b89(0x518)+(_0x5f4ce9+0x1)+':\x20'+_0x22ebec+_0x117b89(0x1d7)+_0x1a3834+_0x117b89(0x5ba)+_0x22ebec+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x27eaa3+'\x20จาก\x20'+_0x193202['length']+_0x117b89(0x3e9)+_0x155915[_0x117b89(0x49b)](0x0)+_0x117b89(0x7e8)+_0x5a1248[_0x117b89(0x47b)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5a1248['length']>0x0?_0x5a1248[_0x117b89(0x182)](',\x20'):'ไม่มี')+_0x117b89(0x28c)+_0x1a2831[_0x117b89(0x47b)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x1a2831[_0x117b89(0x47b)]>0x0?_0x1a2831['join'](',\x20'):_0x117b89(0x293))+_0x117b89(0x8ed)+_0x578b1d[_0x117b89(0x47b)]+_0x117b89(0x91c)+(_0x578b1d[_0x117b89(0x47b)]>0x0?_0x578b1d[_0x117b89(0x182)](',\x20'):_0x117b89(0x293))+_0x117b89(0x4fd)+_0x23f359+_0x117b89(0x3c4)+_0x560dad+_0x117b89(0x42b);}),_0xdfe28b[_0x28abdb(0x48a)]=_0x1fc08f+_0x553b78;try{window['MathJax']&&MathJax[_0x28abdb(0x301)]&&MathJax[_0x28abdb(0x301)]([_0xdfe28b]);}catch(_0x505526){console[_0x28abdb(0x43a)]('MathJax\x20typeset\x20error\x20(analytics):',_0x505526);}}function calculateDistractorAnalysis(_0x5eef53,_0xd77129){const _0x374089=_0x4247c8,_0x324a05={};if(_0xd77129[_0x374089(0x47b)]<0x2)return _0x324a05;const _0x41ea1b=[..._0xd77129][_0x374089(0x254)]((_0x2972ac,_0x276b7d)=>{const _0x294899=_0x374089,_0x9627a2=_0x276b7d[_0x294899(0x50d)]-_0x2972ac[_0x294899(0x50d)];if(_0x9627a2!==0x0)return _0x9627a2;const _0x242426=_0x2972ac[_0x294899(0x27a)]?.['length']||0x1,_0x253b0a=_0x276b7d[_0x294899(0x27a)]?.[_0x294899(0x47b)]||0x1,_0x5b5a16=_0x242426-_0x253b0a;if(_0x5b5a16!==0x0)return _0x5b5a16;const _0x358c85=new Date(_0x2972ac[_0x294899(0x505)]),_0x45336a=new Date(_0x276b7d[_0x294899(0x505)]),_0x2ab592=_0x358c85-_0x45336a;if(_0x2ab592!==0x0)return _0x2ab592;return _0x2972ac[_0x294899(0x466)][_0x294899(0x727)](_0x276b7d['studentName'],'th');}),_0x1b2920=_0x41ea1b[_0x374089(0x47b)],_0x5da05d=Math[_0x374089(0x276)](0x1,Math[_0x374089(0x6e5)](_0x1b2920*0.33)),_0x20604e=_0x41ea1b[_0x374089(0x67e)](0x0,_0x5da05d),_0x3c5848=_0x41ea1b[_0x374089(0x67e)](-_0x5da05d);return _0x5eef53[_0x374089(0x4d7)][_0x374089(0x204)]((_0x430ccb,_0x34438b)=>{const _0x4df81e=_0x374089;if(_0x430ccb[_0x4df81e(0x402)]!==_0x4df81e(0x795)||!_0x430ccb[_0x4df81e(0x7a2)])return;const _0x2acbc4=_0x430ccb[_0x4df81e(0x35e)],_0x1ca241={};_0x430ccb[_0x4df81e(0x7a2)][_0x4df81e(0x204)]((_0x5636b4,_0x30a7c0)=>{_0x1ca241[_0x30a7c0]={'text':_0x5636b4,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x41ea1b[_0x4df81e(0x204)](_0x12c8e3=>{const _0x4cb14f=_0x4df81e,_0x26db74=_0x12c8e3[_0x4cb14f(0x27a)][_0x12c8e3[_0x4cb14f(0x27a)][_0x4cb14f(0x47b)]-0x1],_0x1fc593=_0x26db74[_0x4cb14f(0x5f9)][_0x4cb14f(0x1c5)](_0x51c13b=>_0x51c13b[_0x4cb14f(0xf6)]===_0x2acbc4);if(_0x1fc593&&_0x1fc593[_0x4cb14f(0x4ae)]!==null){const _0x79eb1=_0x430ccb[_0x4cb14f(0x7a2)]['findIndex'](_0x4bc66d=>_0x4bc66d===_0x1fc593[_0x4cb14f(0x7a3)]);_0x79eb1!==-0x1&&_0x1ca241[_0x79eb1]&&(_0x1ca241[_0x79eb1]['total']++,_0x20604e[_0x4cb14f(0x635)](_0x12c8e3)&&_0x1ca241[_0x79eb1][_0x4cb14f(0x935)]++,_0x3c5848[_0x4cb14f(0x635)](_0x12c8e3)&&_0x1ca241[_0x79eb1][_0x4cb14f(0x230)]++);}}),_0x324a05[_0x34438b]=_0x1ca241;}),_0x324a05;}function calculateReliabilityKR20(_0x3ca19b,_0x1ce96a,_0x3f86ef){const _0x5cd50c=_0x4247c8,_0x43d855=_0x3ca19b[_0x5cd50c(0x4d7)]['length'];if(_0x43d855<0x2||_0x1ce96a['length']<0x2)return null;const _0x3bc0e3=_0x1ce96a[_0x5cd50c(0x1c2)](_0x21937a=>_0x21937a['latestScore']),_0xf87566=_0x3bc0e3[_0x5cd50c(0x860)]((_0x55eb38,_0x51b751)=>_0x55eb38+_0x51b751,0x0)/_0x3bc0e3['length'],_0x5bb1b2=_0x3bc0e3[_0x5cd50c(0x1c2)](_0x4a37db=>Math[_0x5cd50c(0x75b)](_0x4a37db-_0xf87566,0x2))[_0x5cd50c(0x860)]((_0x5a5d87,_0x3053f0)=>_0x5a5d87+_0x3053f0,0x0)/_0x3bc0e3[_0x5cd50c(0x47b)];if(_0x5bb1b2===0x0)return null;let _0x2a3a29=0x0;for(let _0x21d455=0x0;_0x21d455<_0x43d855;_0x21d455++){const _0x169afc=_0x3f86ef[_0x21d455]?.['p'];if(_0x169afc===undefined)continue;const _0x5dede5=0x1-_0x169afc;_0x2a3a29+=_0x169afc*_0x5dede5;}if(_0x2a3a29===0x0)return null;const _0x20c810=_0x43d855/(_0x43d855-0x1)*(0x1-_0x2a3a29/_0x5bb1b2);if(_0x20c810>0x1)return null;return _0x20c810;}async function handleAnalyzeClass(){const _0xfe7f97=_0x4247c8;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xfe7f97(0x345));return;}const _0x30ef52=collection(db,_0xfe7f97(0x302)+appId+_0xfe7f97(0x6b7)+currentQuizData['id']+_0xfe7f97(0x168)),_0x326498=await getDocs(_0x30ef52),_0x1b98bb=_0x326498[_0xfe7f97(0x591)][_0xfe7f97(0x1c2)](_0x26d2a1=>_0x26d2a1['data']());if(_0x1b98bb[_0xfe7f97(0x47b)]<0x2){showMessage(_0xfe7f97(0x4a7));return;}const _0x127f16=document[_0xfe7f97(0x36b)](_0xfe7f97(0x200));_0x127f16['innerHTML']=_0xfe7f97(0x893),document[_0xfe7f97(0x36b)](_0xfe7f97(0x706))[_0xfe7f97(0x65e)]=!![];const _0x452dc5=_0x1b98bb[_0xfe7f97(0x1c2)]((_0x377e73,_0x404cc7)=>{const _0x46c56d=_0xfe7f97,_0x434c16=_0x377e73[_0x46c56d(0x27a)][_0x377e73[_0x46c56d(0x27a)][_0x46c56d(0x47b)]-0x1];if(!_0x434c16)return'';return _0x46c56d(0x613)+(_0x404cc7+0x1)+'\x20('+_0x377e73[_0x46c56d(0x466)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x434c16[_0x46c56d(0x8fc)]+'/'+_0x377e73['totalQuestions']+_0x46c56d(0x85a)+JSON['stringify'](_0x434c16[_0x46c56d(0x5f9)])+_0x46c56d(0x424);})[_0xfe7f97(0x182)]('\x0a---\x0a'),_0x1773ab=_0xfe7f97(0x2fd)+currentQuizData[_0xfe7f97(0x761)]+_0xfe7f97(0x68a)+JSON[_0xfe7f97(0x549)](currentQuizData[_0xfe7f97(0x4d7)])+_0xfe7f97(0x1fb)+_0x452dc5+_0xfe7f97(0x4ac),_0x3f4401={'type':_0xfe7f97(0x659),'properties':{'classStrengths':{'type':_0xfe7f97(0x41e),'items':{'type':_0xfe7f97(0x784)}},'classWeaknesses':{'type':_0xfe7f97(0x41e),'items':{'type':_0xfe7f97(0x784)}},'teacherSuggestions':{'type':_0xfe7f97(0x41e),'items':{'type':_0xfe7f97(0x784)}}},'required':[_0xfe7f97(0x901),'classWeaknesses',_0xfe7f97(0x165)]};try{const _0x4aab69=await callAnalysisApi(_0x1773ab,_0x3f4401);displayClassAnalysis(_0x4aab69);}catch(_0x1a4084){console[_0xfe7f97(0x43a)](_0xfe7f97(0x519),_0x1a4084),_0x127f16[_0xfe7f97(0x48a)]=_0xfe7f97(0x472)+_0x1a4084['message']+_0xfe7f97(0x82a);}finally{document[_0xfe7f97(0x36b)](_0xfe7f97(0x706))[_0xfe7f97(0x65e)]=![];}}function displayClassAnalysis(_0x2851bd){const _0x3af1c9=_0x4247c8,_0x42f27d=document['getElementById']('strength-weakness-analysis-container');if(!_0x2851bd){_0x42f27d[_0x3af1c9(0x48a)]=_0x3af1c9(0x289);return;}_0x42f27d[_0x3af1c9(0x48a)]=_0x3af1c9(0x3bb)+_0x2851bd[_0x3af1c9(0x901)]['map'](_0x48752f=>_0x3af1c9(0x793)+_0x48752f+_0x3af1c9(0x1e3))[_0x3af1c9(0x182)]('')+_0x3af1c9(0x637)+_0x2851bd[_0x3af1c9(0x885)][_0x3af1c9(0x1c2)](_0x501e98=>_0x3af1c9(0x793)+_0x501e98+_0x3af1c9(0x1e3))[_0x3af1c9(0x182)]('')+_0x3af1c9(0x131)+_0x2851bd['teacherSuggestions'][_0x3af1c9(0x1c2)](_0x77341c=>_0x3af1c9(0x793)+_0x77341c+_0x3af1c9(0x1e3))[_0x3af1c9(0x182)]('')+_0x3af1c9(0x6a4);}function formatAndPrintWorksheet(_0xaf8375,_0xb5a2fa){const _0x32c45d=_0x4247c8,_0x35047e=_0x32c45d(0x321)+_0xaf8375[_0x32c45d(0x761)]+_0x32c45d(0x536)+_0xaf8375[_0x32c45d(0x761)]+_0x32c45d(0x807)+_0xaf8375[_0x32c45d(0x4d7)][_0x32c45d(0x1c2)]((_0x482a09,_0x224510)=>_0x32c45d(0x567)+(_0x224510+0x1)+'.\x20'+_0x482a09[_0x32c45d(0x35e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x482a09[_0x32c45d(0x3b1)]?_0x32c45d(0x86c)+_0x482a09[_0x32c45d(0x3b1)]+_0x32c45d(0x732):'')+_0x32c45d(0x715))[_0x32c45d(0x182)]('')+_0x32c45d(0x836);_0xb5a2fa[_0x32c45d(0x545)][_0x32c45d(0x6b0)](_0x35047e),_0xb5a2fa['document']['close'](),_0xb5a2fa[_0x32c45d(0x473)]=function(){setTimeout(()=>{const _0x22910d=_0x4780;_0xb5a2fa[_0x22910d(0x797)]();},0x3e8);};}async function generateWorksheet(){const _0xd57055=_0x4247c8,_0x54a9c5=document[_0xd57055(0x36b)](_0xd57055(0x12b))['value'][_0xd57055(0x52d)]();if(!_0x54a9c5){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x2ed885=document[_0xd57055(0x36b)]('force-math-checkbox')[_0xd57055(0x57f)],_0x36567b=_0x2ed885?'':_0xd57055(0x46c),_0x6cab51=window[_0xd57055(0x6ce)]('',_0xd57055(0xf9));_0x6cab51['document'][_0xd57055(0x6b0)](_0xd57055(0x384));const _0x1f1c2f=parseInt(document[_0xd57055(0x36b)](_0xd57055(0x1a8))[_0xd57055(0x7c0)]),_0x1e814b=document[_0xd57055(0x36b)]('include-images-checkbox')[_0xd57055(0x57f)],_0x581989=_0x1e814b?_0xd57055(0x287):'',_0x335adf=_0xd57055(0x1d2)+_0x36567b+_0xd57055(0x30c)+_0x1f1c2f+_0xd57055(0x35b)+_0x54a9c5+_0xd57055(0x815)+_0x581989+_0xd57055(0x4ed)+simpleMathPrompt+_0xd57055(0x106),_0x497745={'type':_0xd57055(0x659),'properties':{'topic':{'type':_0xd57055(0x784)},'questions':{'type':_0xd57055(0x41e),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0xd57055(0x784)},'imageCode':{'type':_0xd57055(0x784)}},'required':['questionText']}}},'required':['topic',_0xd57055(0x4d7)]};document[_0xd57055(0x36b)]('loader-text')['textContent']='',document[_0xd57055(0x36b)](_0xd57055(0x367))[_0xd57055(0x3e0)]['remove'](_0xd57055(0x20f)),document[_0xd57055(0x36b)](_0xd57055(0x76d))[_0xd57055(0x3e0)][_0xd57055(0x691)](_0xd57055(0x20f)),generateWorksheetBtn[_0xd57055(0x65e)]=!![];try{const _0x5a9bdc=await callAnalysisApi(_0x335adf,_0x497745);formatAndPrintWorksheet(_0x5a9bdc,_0x6cab51);}catch(_0x26d651){console[_0xd57055(0x43a)]('Error\x20generating\x20worksheet:',_0x26d651);if(_0x6cab51)_0x6cab51[_0xd57055(0x32a)]();showMessage(_0xd57055(0x82e));}finally{document[_0xd57055(0x36b)](_0xd57055(0x367))[_0xd57055(0x3e0)][_0xd57055(0x90a)](_0xd57055(0x20f)),document[_0xd57055(0x36b)](_0xd57055(0x76d))[_0xd57055(0x3e0)][_0xd57055(0x90a)]('hidden'),generateWorksheetBtn[_0xd57055(0x65e)]=![];}}async function callAnalysisApi(_0x2b0b5a,_0x1af26b){const _0x428b1e=_0x4247c8,_0x537699={'contents':[{'role':_0x428b1e(0x531),'parts':[{'text':_0x2b0b5a}]}],'generationConfig':{'responseMimeType':_0x428b1e(0x3ce),'responseSchema':_0x1af26b}},_0x4b772d=_0x428b1e(0x823),_0x4cf0d7=_0x428b1e(0x1b3)+_0x4b772d,_0x57254d=await fetch(_0x4cf0d7,{'method':_0x428b1e(0x5a8),'headers':{'Content-Type':'application/json'},'body':JSON[_0x428b1e(0x549)](_0x537699)});if(!_0x57254d['ok'])throw new Error(_0x428b1e(0x88d)+_0x57254d[_0x428b1e(0xfe)]);const _0x490f0b=await _0x57254d[_0x428b1e(0x770)]();if(_0x490f0b[_0x428b1e(0x861)]?.[0x0]?.[_0x428b1e(0x4fc)]?.[_0x428b1e(0x269)]?.[0x0])return JSON['parse'](_0x490f0b['candidates'][0x0][_0x428b1e(0x4fc)][_0x428b1e(0x269)][0x0][_0x428b1e(0x73f)]);else{let _0x4e0d10=_0x428b1e(0x5ad);if(_0x490f0b[_0x428b1e(0x40b)]?.['blockReason'])_0x4e0d10=_0x428b1e(0x7f6)+_0x490f0b[_0x428b1e(0x40b)]['blockReason']+'.';else _0x490f0b[_0x428b1e(0x861)]?.[0x0]?.['finishReason']&&_0x490f0b[_0x428b1e(0x861)][0x0][_0x428b1e(0x679)]!==_0x428b1e(0x949)&&(_0x4e0d10='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x490f0b['candidates'][0x0][_0x428b1e(0x679)]+'.');console[_0x428b1e(0x43a)](_0x4e0d10,JSON[_0x428b1e(0x549)](_0x490f0b));throw new Error(_0x4e0d10);}}initialize();
