const _0xe477c6=_0x3c0d;(function(_0x2777ad,_0x20aa2c){const _0x4c5053=_0x3c0d,_0x3fd4f6=_0x2777ad();while(!![]){try{const _0x296697=-parseInt(_0x4c5053(0x2b7))/0x1+-parseInt(_0x4c5053(0x3dd))/0x2+parseInt(_0x4c5053(0x3fd))/0x3+-parseInt(_0x4c5053(0x5c7))/0x4+parseInt(_0x4c5053(0x1b3))/0x5*(-parseInt(_0x4c5053(0x534))/0x6)+-parseInt(_0x4c5053(0x449))/0x7+parseInt(_0x4c5053(0x67b))/0x8;if(_0x296697===_0x20aa2c)break;else _0x3fd4f6['push'](_0x3fd4f6['shift']());}catch(_0x1e6b50){_0x3fd4f6['push'](_0x3fd4f6['shift']());}}}(_0x1373,0xebabd));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';function _0x1373(){const _0x3f3af2=['\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','finishReason','answers','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนเต็มในการทำครั้งแรก','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','student-rankings-modal','หน่วยเวลาและการคำนวณเวลา','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','student-join-game-view','[data-is-correct=\x22true\x22]','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','correct','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','project-list','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','readAsDataURL','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','%</span>','tGain','string','</span></div>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ตรีโกณมิติ','admin-try-quiz-btn','toggle','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','การสร้างรูปด้วยวงเวียน–สันตรง','สเกลและแผนที่','สร้างใหม่','items','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','STRING','$1^{\x5ccirc}\x5ctext{C}','mode-switcher-btn','preventDefault','setAttributeNS','#per-question-options\x20textarea','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','touchstart','close-comparison-modal-btn','เกมสิ้นสุดลงแล้ว','whole_quiz','correctResponse','ไม่ได้ตอบ','fill','อนุพันธ์:\x20กฎลูกโซ่','results-display-select','input[type=\x22text\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','/questionBank','ผู้ไม่ยอมแพ้','text/csv;charset=utf-8;','AI\x20request\x20was\x20blocked.\x20Reason:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','forEach','lesson-plan-content','.topic-actions-view','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','แบบทดสอบนี้หมดเวลาแล้ว','$1_{$2}','rename-quiz-modal','อสมการเชิงเส้น','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จาก\x20','ไม่สามารถบันทึกการตั้งค่าได้','#ffffff','export-lesson-pdf-btn','เกิดข้อผิดพลาดในการลบนักเรียน','href','</p>','analytics-summary-cards','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','add-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','FileReader\x20error:','first_try_ace','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','project-dashboard-view','text-green-600\x20font-bold','text-indigo-700','application/json','leaderboard-quiz-tab-btn','_opt1\x22>ไม่ใช่</label></div>','export-tutor-pdf-btn','toLocaleString','ระบบสมการเชิงเส้นสองตัวแปร','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','quiz-results-table-body','อินเวอร์สของเมทริกซ์','standardTopic','promise','คะแนน','.question-editor-item','รูปสแควร์รูท\x20(surd)','getPage','-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','quiz-start-time','bg-white/30','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','earned-badges-container','delete','การบวก','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','$1\x5c%','\x5ccdot','\x20(p=','th-TH','วิเคราะห์ผล','ไม่พบแบบทดสอบ','ก่อนเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','total','editable-quiz-topic','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','#F59E0B','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','tfrac','</th>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','admin-testing','classWeaknesses','fa-fire\x20text-orange-500','.draggable-text','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.project-card-content','split','.option-text','dataset','textContent','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','export-leaderboard-excel-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.admin-try-quiz-list-btn','\x22\x5cn','ไม่พบแบบทดสอบสำหรับรหัสนี้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','str','manage','student-project-leaderboard-table-body','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คณิตการเงิน/บูรณาการ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','player-count','createdAt','border-green-300\x20bg-green-50','message','worksheet-topic-input','ผู้ควบคุม\x20(ทดสอบ)','button[type=\x22submit\x22]','อัตราการเปลี่ยนแปลงทันที','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','sum','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','label[for=\x22num-questions\x22]','$1^{\x5ccirc}','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','copy-quiz-id-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ตั้งเวลา\x20(เปิด)','hint','setAttribute','studentName','Error\x20saving\x20quiz\x20edits:','choices_only','bg-green-300','#student-project-leaderboard-content\x20thead','ย้ายแบบทดสอบสำเร็จ','กำลังอ่านและเตรียมไฟล์...','fill_in_with_choices','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','export-worksheet-pdf-btn','toLowerCase','N/A','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ตัวแปรและนิพจน์','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','random','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','max','reduce','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบถูกต้อง!\x20+','ใช่','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','keys','COMEBACK_KING','opacity','ชื่อหัวข้อห้ามว่าง','arrayBuffer','การแจกแจงทวินาม\x20(พื้นฐาน)','bg-green-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','topic-input-area','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','next-question-timed-btn','ปริมาตร/ความจุและการแปลง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','\x22\x20data-topic=\x22','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<div\x20id=\x22q-image-container-','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','reveal-answer-btn','from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l','AI\x20grading\x20failed:','ค่าเฉลี่ย','cancel-quiz-settings-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','จำนวนข้อ:','ชนิดของข้อมูลและการเก็บข้อมูล','.start-live-race-btn','close-lesson-plan-modal-btn','Error\x20updating\x20quiz\x20status:','student-project-leaderboard-tab','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ข้อต่อไป','far\x20fa-star','both','analytics','cancel-quiz-status-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','ทฤษฎีบทพื้นฐานของแคลคูลัส','445KyHkVG','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-text-btn','#math-topics-checkbox-container\x20input:checked','stem','gamePin','true_false','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x22>ไม่ใช่</p>','upperGroupResponders','การลบเศษส่วน','sin','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','all','.compare-results-btn','removeChild','classStrengths','_opt0\x22>ใช่</label></div>','text-gray-500','ref','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','doughnut','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ผู้เชี่ยวชาญ','presentation-short-answer-input','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','สร้างแบบทดสอบปรนัย','การหารเศษส่วน','create-from-bank-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','sort','export-excel-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20name=\x22drill_answer\x22\x20value=\x22','blueprint-upload-input','beforeend','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','scores-tab-content','Error\x20opening\x20quiz\x20editor:','submissions','currentQuestionIndex','mousedown','file-input-area','.export-pdf-list-btn','<div\x20class=\x22','commit','stdDev','\x20ชุด)','ส่งแล้ว','กรุณาเลือกไฟล์ก่อน','nickname-input','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','isCorrect','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','รูปสี่เหลี่ยมและสมบัติ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','G-V90KRM0L63','timer-duration-container','touchmove','บันทึกการแก้ไขสำเร็จ','removeEventListener','inactive','เกิดข้อผิดพลาดในการโหลดสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','results-table-container','student-quiz-topic','การจัดหมู่\x20(Combination)','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','ไฮเพอร์โบลา','text-red-900','#results-table','หน่วยมวล/น้ำหนักและการแปลง','circ','ownerSVGElement','focus','quiz-bank-count','onload','กรุณาใส่ชื่อโปรเจค','flex','hidden','/submissions','เศษส่วน\x20(ย่อ/ขยาย)','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','</li>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','สอบซ่อม','td,\x20th','export-pdf-modal','value','remedialContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','</body></html>','show_results_only','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','Error\x20moving\x20quiz:','toFixed','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.answer-text','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','stringify','ring-2','deg','(^|[^\x5c\x5c])\x5cb','clientX','Error\x20listening\x20for\x20projects:','<div\x20class=\x22my-6\x22>','lesson-plan-title','</label>\x0a\x20\x20\x20\x20</div>\x0a','quiz-bank-modal','<p><strong>คำตอบของคุณ:</strong>\x20','update','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','สมมาตร\x20(แกน/จุด)','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','_opt1\x22\x20name=\x22question','Error\x20loading\x20quiz\x20for\x20student:','ไม่สามารถโหลดรายการโปรเจคได้','สร้างคำถามแบบเติมคำในช่องว่าง','leaderboard-tab','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','เลือกและบันทึก','deselect-all-topics-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','quiz-generation-area','sqrt','.edit-question-btn','from','back-to-student-initial-btn','questions_only','className','อสมการค่าสัมบูรณ์','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','Error\x20updating\x20quiz\x20settings:','generate-from-parallel-test-btn','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-tab','settings','สมการตรีโกณมิติ','defaultPassingScore','<tr\x20class=\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','บันทึกการตั้งค่าแล้ว','getAttributeNS','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','thead','export-word-btn','cancel-quiz-edits-btn','\x22,\x20','ฟังก์ชันผกผัน','ค่าคลาดเคลื่อนของการวัด','border-red-700','ปรับเพิ่ม/ลดเป็นร้อยละ','border-green-500','print','error','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','show_pass_fail_only','image/png','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','options','close','createElementNS','per-q-countdown','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-dumbbell\x20text-gray-700','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','results-quiz-title','mjx-container','ย้าย','อุณหภูมิและการแปลง','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ความต่อเนื่อง','\x0a\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','end-game-btn','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x20mx-1\x20text-lg\x22></i></span>','<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','num-questions','คณิตศาสตร์','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','floor','cursor','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results','class','\x22>ใช่</p>','ไม่มี','Error\x20generating\x20parallel\x20test\x20from\x20bank:','write','imageCode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','Enter','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-user-edit','[*]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','cancel-export-pdf-btn','createObjectURL','projectName','admin-password-input','{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20\x20\x20-\x20คำตอบ:\x20','พื้นที่ผิวรูปทรงสามมิติ','rename-quiz-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','scores','qIndex','back-to-project-btn','วงกลม:\x20สมการและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','querySelectorAll','\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20','1880057zsHTaj','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-900','bg-blue-100\x20text-blue-800','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','admin','appendChild','เงินงวด\x20(อนุกรมเงินงวด)','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cle','ไม่พบตารางสำหรับ\x20Export','การกระจายและการจัดหมู่','.save-custom-topic-btn','position','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','</h3>','แก้ไขข้อนี้','Error\x20fetching\x20quiz\x20settings:','post-test','.delete-custom-topic-btn','div','ผ่านฉลุย','พาราโบลา','คัดลอกไม่สำเร็จ','multiple_choice','viewBox','<li\x20class=\x22','Error\x20saving\x20to\x20question\x20bank:','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เปิด\x20(จับเวลา)','bg-emerald-100','passingScore','file-tab','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สลับไปโหมดนักเรียน','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','border-green-700','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.topic-name-display','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','round','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','leaderboard_','save','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-x-4\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','กรุณาใส่ชื่อนักเรียน','\x20mr-2\x22></i>','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','open-quiz-bank-btn','fa-user-astronaut\x20text-blue-700','Error\x20listening\x20for\x20custom\x20math\x20topics:','confirm-global-live-btn','.delete-project-btn','ai-quiz-generator-v3','แคลคูลัสเบื้องต้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','leaderboard-table-body','opacity-50','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','preTScore','อัปเดตสถานะสำเร็จ','isStarred','เกิดข้อผิดพลาดในการบันทึก','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','modal-timer-duration-input','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-topic=\x22','artifacts/','student-quiz-leaderboard-table-body','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','modal-adaptive-quiz-checkbox','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','addEventListener','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','numeric','draggable-text','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','quiz-type-select','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','Error\x20comparing\x20results:','global-live-game-modal','confirmation-message','ดอกเบี้ยทบต้น','-tab-content','.correctStreak','quick_thinker','Error\x20generating\x20quiz:','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<p\x20class=\x22','```json','answer','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','length','การคูณเศษส่วน','results-table','การแปลงรูปอัตลักษณ์','</tbody></table></div>','scheduled_pending','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','text-emerald-800','project-detail-view','download','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','isAdaptive','พื้นที่สามเหลี่ยม','close-comparison-modal-footer-btn','#10B981','status','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open','.presentation-option','ฟังก์ชันพหุนาม','preTestId','จากเนื้อหาต่อไปนี้:\x20\x22','/public/data/customMathTopics','ข้อ\x20','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','false','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','student-reading-area','log','กรุณาใส่ชื่อใหม่','fill_in_no_choices','files','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x5ctimes','Copy\x20command\x20failed','ไม่สามารถสร้างโปรเจคได้','```','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','setFont','ทศนิยม\x20(ค่าประจำหลัก)','<span\x20class=\x22sort-indicator\x20ml-2\x22>','touchend','bottom','check-presentation-answer-btn','podium','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x20ช่อง','รูปหลายเหลี่ยมและมุมภายใน','ไม่พบข้อมูลผู้ใช้','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','quiz-editor-questions-container','POST','_blank','ดอทโปรดักต์\x20(dot)','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','values','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-green-600','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','confirm-quiz-settings-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','กรุณาวาง\x20URL\x20ของบทความก่อน','\x20ครั้ง)</span></td>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','afterend','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','BOOLEAN','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.sortable-header','answerText','selected-topics-count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','mouseup','cdot','แบบทดสอบซ่อมเสริม','hint-btn','answeredCurrentQuestion','ไม่ผ่าน','standard','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','change','/public/data/projects','กรุณาเลือกสถานะ','comparison-modal','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','lessonPlan','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ไม่สามารถเริ่มเกมได้','Error\x20renaming\x20quiz:','short_answer','input[type=\x22radio\x22]:checked','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','input[name=\x22status-option\x22]','[data-topic-container-id]','difficulty-level-select','ลำดับเรขาคณิต\x20(GP)','lobby','q-image-container-','modal-results-display-select','Error\x20saving\x20quiz:','data:application/vnd.ms-word;charset=utf-8,','กรุณาเลือกคำตอบก่อนครับ','bg-purple-50','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','submittedAt','approx','postTScore','num-choices','บันทึกแบบทดสอบสำเร็จแล้ว!','ร้อยละประยุกต์','ฟังก์ชันค่าสัมบูรณ์','slice','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','การแยกตัวประกอบ','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','startTime','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','starred-project','getElementById','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','ความน่าจะเป็นแบบมีเงื่อนไข','_opt','presentation-slide-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','NUMBER','student-name-input','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','quizMode','\x20ข้อ\x20','overline','เส้นตรง:\x20ขนาน/ตั้งฉาก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เรขาคณิต','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','save-settings-btn','classList','.save-to-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','กำลังสร้างรูปภาพ...','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','outerHTML','1435218JIdSxv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','text-content-input','students','/public/data/projects/','correctAnswer','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leaderboard-quiz','closest','s;\x22\x20title=\x22','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.doc','replace','ลำดับเลขคณิต\x20(AP)','\x20/\x20','content','กฎบวกและกฎคูณ','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','contains','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','ศูนย์','projectId','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','next-drill-btn','2157561TyeJOn','category','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','bg-green-100\x20font-bold','min','text-red-800','พื้นที่สี่เหลี่ยม','none','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','ดอกเบี้ยอย่างง่าย','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','matching','comparison-individual-tab','targetId','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','bank-tab','table','revealed','font-bold\x20text-red-700\x20line-through','\x20\x0a\x20\x20\x20\x20','isRemedial','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<tr>','Firebase\x20initialization\x20failed:','textarea','getBBox','$1\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','/users/','ON_FIRE','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','index','Error\x20listening\x20for\x20student\x20profiles:','push','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onerror','.edit-quiz-btn','quiz-search-input','https://corsproxy.io/?','แบบเติมคำตอบ','numPages','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','แก้ไขหัวข้อสำเร็จ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','generate-from-link-btn','timer-mode-select','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','asc','comeback_king','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ความชันและเส้นตรง','raw','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','originalQuestionText','scheduled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','localeCompare','title','link-url-input','Error\x20saving\x20settings:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x5cfrac{$1}{$2}','</span></td>','หลังเรียน','5313812hRaFVy','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','กำลังวิเคราะห์ข้อสอบ\x20\x22','players.','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','hover:bg-indigo-100','delete-all-students-btn','.quiz-bank-present-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','json','worksheet-tab','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</form>','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','parse','pre-test','</p></div>','cloneNode','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','00:00','results-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','modal-timer-mode-select','timer-duration-input','start-live-race-generated-btn','.quiz-status-btn','quiz-leaderboard-table','Error\x20generating\x20worksheet:','red','auto-fix-latex-btn','repeat','quiz-end-time','/public/data/quizzes/','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','คำตอบผิด','editable-text-','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','join','correctAnswerIndex','back-to-dashboard-btn','generate-from-file-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','questionDisplayedAt','getContext','message-modal','การจัดกลุ่มข้อมูล','exists','เปลี่ยนชื่อแบบทดสอบสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','resultsDisplay','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20data-q-type=\x22','pairedQuizId','save-quiz-edits-btn','ท็อปฟอร์ม','export-image-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','bestScore','กรุณาป้อนรหัสแบบทดสอบ','ระบบเลขและค่าประจำหลัก','สมการราก\x20(radical)','topic-tab','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.badges','ความคาดหมาย\x20(Expected\x20value)','players','gain','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','text-blue-700','bank-input-area','แบบทดสอบ:\x20','style','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','per-question-text','function','input','totalPoints','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','(ก่อนเรียน)','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-sort-select','.lastAnswerCorrect','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','.start-presentation-list-btn','Error\x20fetching\x20quiz\x20status:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','[role=\x22textbox\x22]','<textarea\x20name=\x22question','.topic-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','เกิดข้อผิดพลาดในการติดดาว','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x22\x20value=\x22','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','fill_in_the_blank','rgba(59,\x20130,\x20246,\x200.7)','name_desc','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','perQuestionStats','<div><input\x20type=\x22radio\x22\x20id=\x22q','contentEditable','http://www.w3.org/2000/svg','\x22...','start-remedial-quiz-btn','กำลังดึงข้อมูลจากลิงก์...','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.png','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','height','ยังไม่ส่ง','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','.cancel-edit-topic-btn','parallel-test-tab','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','pre-test-checkbox','promptFeedback','description','.generate-lesson-btn','ไม่มีคำอธิบาย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','บันทึกการตั้งค่าสำเร็จ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','.copy-quiz-id-list-btn','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom-math-topic-input','text-green-700\x20bg-green-100','Error\x20fetching\x20projects\x20for\x20move:','student-project-leaderboard-content','modal-shuffle-select','loader-text','target','docs','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','frac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-crown\x20text-yellow-500','learningGaps','timer-bar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','questionType','neq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','Invalid\x20response\x20structure\x20from\x20AI:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','global-live-game-count','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','strength-weakness-analysis-container','export-pdf-btn','onclick','ส่งคำตอบ','topic','ยอดเยี่ยม','ความเป็นอิสระของเหตุการณ์','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','สถิติและความน่าจะเป็น','leaderboard-quiz-tab-content','\x5cfrac','การนับ','\x22.\x20','undefined','live-game-view','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','หมดเวลาสำหรับข้อนี้!','.choice-text','ส่วนเบี่ยงเบนมาตรฐาน','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ไม่ใช่','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความชันเส้นสัมผัส','2-digit','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','student-view','abs','ความสัมพันธ์ของมุม','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','svg','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','กรุณาเลือกโปรเจคปลายทาง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','text-white','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','editor-quiz-topic','ระยะเวลา\x20(นาที):','submission','ลบแบบทดสอบสำเร็จแล้ว','lowerGroupResponders','Error\x20generating\x20lesson\x20plan:','label','explanation','modal-passing-score-input','math-topics-checkbox-container','สร้างโปรเจคสำเร็จ!','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.score','button[data-id]','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','btn','88656gFOrDj','add-custom-math-topic-btn','add','แบบทดสอบจากคลังส่วนตัว','defaultNumQuestions','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','questions','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','confirm-delete-btn','Error\x20duplicating\x20quiz:','ฟังก์ชันยกกำลัง','live-game','quiz-results','parseFromString','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','คำถามถัดไป','upperGroupNames','การเรียงสับเปลี่ยน\x20(Permutation)','confirm-rename-quiz-btn','.csv','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','cancel-admin-login-btn','includes','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','latestSubmittedAt','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','typesetPromise','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','จากไฟล์ที่แนบมานี้,\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','1:274192258111:web:4120c9118229b5644dd48a','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','เส้นรอบรูป','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','date_asc','</span>','blockReason','quiz-schedule-end-container','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','student-quiz-leaderboard-tab','เรเดียนและการแปลงหน่วย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','presentation-explanation','teachingContent','mouseleave','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x22\x20value=\x22false\x22\x20','\x22\x20data-pre-test-id=\x22','force-math-checkbox','ปริพันธ์ไม่จำกัด','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','student','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','สร้างแบบทดสอบ','timer-duration-label','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','innerText','toISOString','$1\x5ctimes','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','presentation-ai-result','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','type','input[name=\x22question_single\x22]:checked','analyze-strengths-btn','interesting-stats-container','\x0a---\x0a','keyup','totalQuestions','insertAdjacentHTML','Error\x20deleting\x20all\x20students:','worksheet-input-area','cancel-create-project-btn','timer-container','$1^{$2}','admin-dashboard','toDataURL','</p><div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','preScore','$1\x5ctext(','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','อนุพันธ์:\x20กฎพื้นฐาน',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','questionText','<option>กำลังโหลดโปรเจค...</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Error\x20saving\x20submission:','\x5ctext{$1}','shuffle-setting-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','teacherSuggestions','input[name=\x22drill_answer\x22]:checked','filter','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<tr><td\x20colspan=\x22','perfect_score','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','lowerGroupNames','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','</td>','leq','analytics-tab-btn','after','[contenteditable=\x22true\x22]','1795204qzwsMb','desc','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','name','จำนวนและการดำเนินการ','.sort-indicator','Error\x20toggling\x20star\x20status:','ARRAY','innerHTML','ไม่พบโปรเจค','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ความแปรปรวน','times','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','.quiz-settings-btn','พอใช้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ตัวประกอบและตัวประกอบเฉพาะ','global-quiz-search-input','start-quiz-btn','blueprint-tab','jspdf','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','การบวกทศนิยม','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','practiceProblems','#view-rankings-btn','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','cancel-move-quiz-btn','รูปแบบการให้เหตุผล','overallGroups','candidates','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','จำนวนนักเรียน','Adaptive\x20flow\x20failed:','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','Remedial\x20quiz\x20generation\x20failed:','จำนวนคู่:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','answer-grid-container','Failed\x20to\x20parse\x20JSON\x20from\x20AI',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-action-buttons','fas\x20fa-star\x20text-yellow-500','.parallel-quiz-btn','ยังไม่มีนักเรียนส่งงาน','points','results_','per-question-options','Invalid\x20response\x20structure\x20from\x20AI.','slide-counter','check-answer-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','timerMode','quiz-settings-modal','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','การลบทศนิยม','per_question','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','Error\x20generating\x20from\x20parallel\x20test\x20file:','include-images-checkbox','badgesCount','matching_item','Error\x20deleting\x20project:','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','/public/data/practiceBank','bg-red-100','move-quiz-project-select','startsWith','วงรี','ลำดับการดำเนินการ\x20(PEMDAS)','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','เลือกโปรเจคเพื่อบันทึก','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','GlobalWorkerOptions','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','.correct-response-input','timerDuration',')\x5cb)','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<span\x20class=\x22font-bold\x20','originalQuestion','\x5csqrt{$1}','true','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','Failed\x20to\x20get\x20hint:','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quizId','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','rgba(16,\x20185,\x20129,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','cancel-test-btn','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','test','mixed','คัดลอกรหัสแล้ว!','cancel-rename-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','bank-quiz-list','project-detail','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อนเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลังเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','comparison','answering','<p>','underline','latestScore','\x5cge','fa-pen','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x5c\x5c\x5c\x5c(?=(','รากที่สองและที่สาม','แบบทดสอบที่ติดดาว','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20creating\x20project:','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x20\x5cfrac','input[type=\x22checkbox\x22]','Error\x20saving\x20questions\x20to\x20practice\x20bank:','generated-quiz-actions','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','back-to-results-btn','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-list','instructions','<br>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','bg-green-100\x20text-green-800','ดูสรุปผล','.quiz-bank-parallel-btn','topic-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','comparison-individual-content','upper_group_count','\x22><i\x20class=\x22fas\x20','live-short-answer-input','text-green-900','border-4','ราชาคัมแบ็ก','\x20คู่\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','42934152dNrjRM','.move-quiz-btn','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','on_fire','quiz-leaderboard-table-body','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','back-from-results-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','disabled','ผ่าน','student-name-select','bg-amber-100\x20text-amber-800','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','<div\x20class=\x22mb-3\x20topic-category\x22>','Error\x20fetching\x20student\x20rankings:','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','MathJax\x20typeset\x20error\x20(analytics):','confirm-move-quiz-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','พบข้อสอบ\x20','#student-quiz-leaderboard-content\x20thead','พีชคณิตและฟังก์ชัน','จำนวนเต็มลบ','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','key','<li>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','text','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','fas\x20fa-bookmark','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','สร้างชุดคำถามจับคู่','export-compact-pdf-btn','getTextContent','icon','\x5cfrac{','การยืนยันตัวตนล้มเหลว','</td></tr>','idealAnswer','match','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','endTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','close-presentation-btn','attempts','lastAnswerCorrect','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','next-live-question-btn','font-bold\x20text-green-700','ไม่สามารถโหลดข้อมูลอันดับได้','export-leaderboard-word-btn','helvetica','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','generate-from-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์จำกัด','ฮิสโตแกรม','quizType','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','.topic-category','เส้นจำนวน','student-name-selection-view','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','find','modal-message','ลบหัวข้อสำเร็จ','score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','สรุปผลการวิเคราะห์:\x5cn','confirm-join-game-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','toString','export-leaderboard-pdf-btn','drill-feedback','quiz','รอเปิด','copy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','link-tab','Error\x20starting\x20live\x20race:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','stopPropagation','submission-status-chart','create-project-btn','ส่วนเบี่ยงเบนเฉลี่ย','เกี่ยวกับหัวข้อ\x20\x22','เส้นตรง:\x20รูปแบบสมการ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','question','คัดลอกแบบทดสอบสำเร็จ','27411472','ลิมิต','Error\x20starting\x20game:','กรุณาป้อนหัวข้อสำหรับใบงาน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','อัตราและอัตราหน่วย','pinned-items','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-from-results-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','quiz-status-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','data','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','now','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','fromCharCode','click','body','close-student-rankings-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lower_group_count','default','right','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x20ตัวเลือก.\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','loader','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','dfrac','ดีเทอร์มิแนนต์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-footer-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','game-pin-input','score-distribution-chart','bg-red-500','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','หัวข้อที่สร้างเอง','checked','parallel-test-upload-input','no-projects-msg','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','line-through\x20text-red-700','สร้างคำถามแบบใช่/ไม่ใช่','ค.ร.น.\x20(LCM)','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','select-all-topics-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','สร้างเนื้อหาสอน','จุด\x20เส้น\x20ระนาบ','manage-tab-content','findIndex','<p\x20class=\x22font-bold\x20text-sm\x20','quiz-editor-modal','save-quiz-btn','countdown-display','</div><div\x20class=\x22space-y-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','MathJax','\x22\x20ให้เป็นคำถามประเภท\x20\x22','adaptive-quiz-checkbox','ดีมาก','remove','text-red-700\x20bg-red-100','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','normal','_opt0\x22\x20name=\x22question','autoTable','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','generated-quiz-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','parts','กำลังสร้างแบบทดสอบจากหัวข้อ...','Leaderboard\x20update\x20transaction\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20สำเร็จ','การวัด','^{\x5ccirc}\x5ctext{C}$','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString'];_0x1373=function(){return _0x3f3af2;};return _0x1373();}import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x509)},{'category':'จำนวนและการดำเนินการ','name':_0xe477c6(0x496)},{'category':_0xe477c6(0x5cb),'name':'การปัดเศษและประมาณค่า'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x61a)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x120)},{'category':_0xe477c6(0x5cb),'name':'การลบ'},{'category':_0xe477c6(0x5cb),'name':'การคูณ'},{'category':_0xe477c6(0x5cb),'name':'การหาร'},{'category':_0xe477c6(0x5cb),'name':'จำนวนเต็มบวก'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x69b)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x3f7)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x6cd)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x5dc)},{'category':_0xe477c6(0x5cb),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x726)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x2ea)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x6f7)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x214)},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x1c6)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x331)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x1d9)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x35f)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x5e3)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x60b)},{'category':_0xe477c6(0x5cb),'name':'การคูณทศนิยม'},{'category':_0xe477c6(0x5cb),'name':'การหารทศนิยม'},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x6c4)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0xe477c6(0x265)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x46a)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x55d)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x64e)},{'category':_0xe477c6(0x5cb),'name':_0xe477c6(0x117)},{'category':_0xe477c6(0x5cb),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x20a)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x758)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x190)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x279)},{'category':'การวัด','name':_0xe477c6(0x565)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x405)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x33f)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x53d)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x2a8)},{'category':_0xe477c6(0x74a),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0xe477c6(0x74a),'name':'มุมและการวัดมุม'},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x777)},{'category':_0xe477c6(0x74a),'name':_0xe477c6(0x263)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x72c)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x51a)},{'category':_0xe477c6(0x3cf),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x33f)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0xe477c6(0x3cf),'name':'ความคล้ายของรูป'},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x1f7)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x367)},{'category':_0xe477c6(0x3cf),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x66a)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':_0xe477c6(0x5d1)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x23b)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x776)},{'category':_0xe477c6(0x3cf),'name':_0xe477c6(0x457)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x176)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x2c6)},{'category':_0xe477c6(0x69a),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x3ba)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x10e)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x50d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x3d0)},{'category':_0xe477c6(0x69a),'name':'สมการค่าสัมบูรณ์'},{'category':_0xe477c6(0x69a),'name':'สมการเหตุผล\x20(rational)'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x497)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x3e5)},{'category':_0xe477c6(0x69a),'name':'สมการลอการิทึม'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x79e)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x24e)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x198)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x4d2)},{'category':_0xe477c6(0x69a),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x262)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x45f)},{'category':_0xe477c6(0x69a),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x63d)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x347)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x1a0)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x3b4)},{'category':_0xe477c6(0x69a),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xe477c6(0x545)},{'category':_0xe477c6(0x69a),'name':'ฟังก์ชันลอการิทึม'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x3f0)},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x3a5)},{'category':_0xe477c6(0x69a),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0xe477c6(0x69a),'name':_0xe477c6(0x343)},{'category':_0xe477c6(0x69a),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0xe477c6(0x17d),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0xe477c6(0x438)},{'category':_0xe477c6(0x17d),'name':_0xe477c6(0x6eb)},{'category':_0xe477c6(0x17d),'name':_0xe477c6(0x3cd)},{'category':_0xe477c6(0x17d),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0xe477c6(0x17d),'name':_0xe477c6(0x2ae)},{'category':'เรขาคณิตวิเคราะห์','name':_0xe477c6(0x2d1)},{'category':_0xe477c6(0x17d),'name':_0xe477c6(0x619)},{'category':_0xe477c6(0x17d),'name':_0xe477c6(0x207)},{'category':'ตรีโกณมิติ','name':_0xe477c6(0x769)},{'category':_0xe477c6(0x771),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0xe477c6(0x771),'name':_0xe477c6(0x56f)},{'category':_0xe477c6(0x771),'name':_0xe477c6(0x6a9)},{'category':_0xe477c6(0x771),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':_0xe477c6(0x43f)},{'category':_0xe477c6(0x771),'name':_0xe477c6(0x333)},{'category':_0xe477c6(0x771),'name':_0xe477c6(0x257)},{'category':_0xe477c6(0x771),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':_0xe477c6(0x225)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x1a2)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x486)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0xe477c6(0x506),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0xe477c6(0x6c8)},{'category':_0xe477c6(0x506),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0xe477c6(0x19e)},{'category':_0xe477c6(0x506),'name':'มัธยฐาน'},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x133)},{'category':'สถิติและความน่าจะเป็น','name':'พิสัย'},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x6e9)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x5d2)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x510)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x4b0)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x4f8)},{'category':_0xe477c6(0x506),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0xe477c6(0x3f3)},{'category':_0xe477c6(0x506),'name':'แผนภาพเวนน์'},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x3c2)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x502)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x54d)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x205)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x189)},{'category':_0xe477c6(0x506),'name':_0xe477c6(0x49b)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x6f3)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x27d)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x5a7)},{'category':'แคลคูลัสเบื้องต้น','name':_0xe477c6(0x789)},{'category':_0xe477c6(0x2fd),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0xe477c6(0x19a)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x515)},{'category':'แคลคูลัสเบื้องต้น','name':_0xe477c6(0x15a)},{'category':'แคลคูลัสเบื้องต้น','name':_0xe477c6(0x41e)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x579)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x6c7)},{'category':_0xe477c6(0x2fd),'name':_0xe477c6(0x1b2)},{'category':_0xe477c6(0x2fd),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xe477c6(0x64c),'name':_0xe477c6(0x566)},{'category':_0xe477c6(0x64c),'name':_0xe477c6(0x36e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0xe477c6(0x64c),'name':_0xe477c6(0x69d)},{'category':_0xe477c6(0x64c),'name':_0xe477c6(0x112)},{'category':_0xe477c6(0x64c),'name':_0xe477c6(0x717)},{'category':_0xe477c6(0x64c),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0xe477c6(0x151),'name':_0xe477c6(0x40a)},{'category':_0xe477c6(0x151),'name':_0xe477c6(0x319)},{'category':_0xe477c6(0x151),'name':_0xe477c6(0x2c1)},{'category':_0xe477c6(0x151),'name':'ค่าเสื่อมราคา'},{'category':_0xe477c6(0x151),'name':_0xe477c6(0x3b3)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0xe477c6(0x4ab),'name':_0xe477c6(0x5ea)},{'category':_0xe477c6(0x4ab),'name':_0xe477c6(0x25a)}];function renderTopicCheckboxes(){const _0x38c0e7=_0xe477c6,_0x2b6fae=document[_0x38c0e7(0x3bf)](_0x38c0e7(0x52d));if(!_0x2b6fae)return;const _0x4a316d=allMathTopics,_0x1273a0=customMathTopics['map'](_0x35b814=>({'id':_0x35b814['id'],'category':_0x38c0e7(0x71f),'name':_0x35b814[_0x38c0e7(0x5ca)]})),_0x2d61a1=[..._0x4a316d,..._0x1273a0],_0x3318c5=_0x2d61a1[_0x38c0e7(0x17c)]((_0x1e6dc9,_0x282c07)=>{const _0xdaa4ae=_0x38c0e7;return!_0x1e6dc9[_0x282c07[_0xdaa4ae(0x3fe)]]&&(_0x1e6dc9[_0x282c07['category']]=[]),_0x1e6dc9[_0x282c07[_0xdaa4ae(0x3fe)]]['push'](_0x282c07),_0x1e6dc9;},{});let _0x229283='';const _0x147119=[_0x38c0e7(0x71f),...Object[_0x38c0e7(0x184)](_0x3318c5)[_0x38c0e7(0x5b5)](_0x4b5872=>_0x4b5872!=='หัวข้อที่สร้างเอง')];for(const _0x200003 of _0x147119){if(_0x3318c5[_0x200003]){const _0x5ad76a=_0x200003===_0x38c0e7(0x71f),_0x4e17dc=_0x5ad76a?_0x38c0e7(0x29b):_0x38c0e7(0x6ab),_0x1f2e8a=_0x5ad76a?_0x38c0e7(0x49f):_0x38c0e7(0x7b7);_0x229283+=_0x38c0e7(0x68d),_0x229283+=_0x38c0e7(0x72f)+_0x1f2e8a+_0x38c0e7(0x764)+_0x4e17dc+_0x38c0e7(0x2f2)+_0x200003+'</p>',_0x3318c5[_0x200003]['forEach'](_0xd0d4f4=>{const _0xfbf5d3=_0x38c0e7,_0x1b6275=!!_0xd0d4f4['id'],_0x4f8a47=_0x1b6275?_0xfbf5d3(0x690)+_0xd0d4f4['id']+_0xfbf5d3(0x150)+_0xd0d4f4['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd0d4f4['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd0d4f4['id']+_0xfbf5d3(0x70a):'';_0x229283+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0xd0d4f4['id']||'')+_0xfbf5d3(0x4e0)+_0xd0d4f4[_0xfbf5d3(0x5ca)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0xd0d4f4[_0xfbf5d3(0x5ca)]+_0xfbf5d3(0x734)+(_0x1b6275?_0xfbf5d3(0x609)+_0xd0d4f4['name']+'\x22>':'')+_0xfbf5d3(0x754)+_0x4f8a47+_0xfbf5d3(0x200);}),_0x229283+=_0x38c0e7(0x53b);}}_0x2b6fae[_0x38c0e7(0x5cf)]=_0x229283||_0x38c0e7(0x43b),_0x2b6fae['removeEventListener']('change',updateSelectedTopicsCount),_0x2b6fae[_0x38c0e7(0x30f)](_0x38c0e7(0x395),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x7eb349,_0x1efe06){const _0x27b89c=_0xe477c6;if(!_0x7eb349||!_0x1efe06[_0x27b89c(0x503)]()){showMessage(_0x27b89c(0x187));return;}try{const _0xd4970a=doc(db,_0x27b89c(0x30a)+appId+_0x27b89c(0x34a),_0x7eb349);await updateDoc(_0xd4970a,{'name':_0x1efe06[_0x27b89c(0x503)]()}),showMessage(_0x27b89c(0x42d));}catch(_0x4d9150){console[_0x27b89c(0x268)]('Error\x20updating\x20custom\x20topic:',_0x4d9150),showMessage(_0x27b89c(0x65c));}}function toggleTopicEditMode(_0x4e2e24,_0x443ff6){const _0x58f31b=_0xe477c6;if(!_0x4e2e24)return;const _0x5b7d48=_0x4e2e24['querySelector'](_0x58f31b(0x2e4)),_0x38eae1=_0x4e2e24[_0x58f31b(0x179)](_0x58f31b(0x4b6)),_0x54ad71=_0x4e2e24['querySelector'](_0x58f31b(0x795)),_0x34f86f=_0x4e2e24[_0x58f31b(0x179)]('.topic-actions-edit');_0x5b7d48[_0x58f31b(0x3d2)][_0x58f31b(0x773)]('hidden',_0x443ff6),_0x38eae1[_0x58f31b(0x3d2)]['toggle']('hidden',!_0x443ff6),_0x54ad71[_0x58f31b(0x3d2)][_0x58f31b(0x773)](_0x58f31b(0x212),_0x443ff6),_0x34f86f[_0x58f31b(0x3d2)][_0x58f31b(0x773)](_0x58f31b(0x212),!_0x443ff6),_0x443ff6&&(_0x38eae1[_0x58f31b(0x20d)](),_0x38eae1[_0x58f31b(0x685)]());}function updateSelectedTopicsCount(){const _0x2b2cad=_0xe477c6,_0x2909e4=document[_0x2b2cad(0x3bf)]('math-topics-checkbox-container'),_0x4a0f6b=_0x2909e4['querySelectorAll']('input[type=\x22checkbox\x22]:checked')['length'],_0x526cc3=document[_0x2b2cad(0x3bf)](_0x2b2cad(0x386));_0x4a0f6b>0x0?_0x526cc3[_0x2b2cad(0x13f)]='(เลือกแล้ว\x20'+_0x4a0f6b+_0x2b2cad(0x798):_0x526cc3[_0x2b2cad(0x13f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xe477c6(0x494),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0xe477c6(0x5bb),'name':_0xe477c6(0x147),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0xe477c6(0x4f0)},'QUICK_THINKER':{'id':_0xe477c6(0x31c),'name':_0xe477c6(0x505),'description':_0xe477c6(0x3bb),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0xe477c6(0x67f),'name':_0xe477c6(0x491),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0xe477c6(0x137)},'FIRST_TRY_ACE':{'id':_0xe477c6(0x7b2),'name':_0xe477c6(0x2d0),'description':_0xe477c6(0x755),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0xe477c6(0x434),'name':_0xe477c6(0x676),'description':_0xe477c6(0x15b),'icon':_0xe477c6(0x192)},'SPECIALIST':{'id':_0xe477c6(0x613),'name':_0xe477c6(0x1d5),'description':_0xe477c6(0x6d8),'icon':_0xe477c6(0x2f8)},'PERSEVERANCE':{'id':'perseverance','name':_0xe477c6(0x78f),'description':_0xe477c6(0x1de),'icon':_0xe477c6(0x274)}},firebaseConfig={'apiKey':_0xe477c6(0x756),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':'274192258111','appId':_0xe477c6(0x563),'measurementId':_0xe477c6(0x1f9)},appId=typeof __app_id!==_0xe477c6(0x50b)?__app_id:_0xe477c6(0x2fc),adminView=document[_0xe477c6(0x3bf)](_0xe477c6(0x65f)),studentView=document[_0xe477c6(0x3bf)](_0xe477c6(0x518)),projectDashboardView=document[_0xe477c6(0x3bf)](_0xe477c6(0x7b5)),projectDetailView=document['getElementById'](_0xe477c6(0x33a)),quizResultsView=document[_0xe477c6(0x3bf)](_0xe477c6(0x511)),projectList=document[_0xe477c6(0x3bf)](_0xe477c6(0x762)),noProjectsMsg=document[_0xe477c6(0x3bf)](_0xe477c6(0x722)),projectTitle=document[_0xe477c6(0x3bf)]('project-title'),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0xe477c6(0x3bf)](_0xe477c6(0x663)),messageModal=document[_0xe477c6(0x3bf)](_0xe477c6(0x485)),modalMessage=document[_0xe477c6(0x3bf)](_0xe477c6(0x6d1)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document['getElementById']('admin-password-modal'),confirmationModal=document[_0xe477c6(0x3bf)](_0xe477c6(0x1d1)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document['getElementById'](_0xe477c6(0x498)),textTab=document[_0xe477c6(0x3bf)]('text-tab'),topicInputArea=document[_0xe477c6(0x3bf)](_0xe477c6(0x18d)),textInputArea=document[_0xe477c6(0x3bf)](_0xe477c6(0x399)),manageTab=document[_0xe477c6(0x3bf)]('manage-tab'),resultsTab=document['getElementById'](_0xe477c6(0x468)),leaderboardTab=document[_0xe477c6(0x3bf)](_0xe477c6(0x241)),manageTabContent=document[_0xe477c6(0x3bf)](_0xe477c6(0x72d)),resultsTabContent=document[_0xe477c6(0x3bf)]('results-tab-content'),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0xe477c6(0x69f)),fileTab=document['getElementById'](_0xe477c6(0x2db)),fileInputArea=document[_0xe477c6(0x3bf)](_0xe477c6(0x1ea)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document[_0xe477c6(0x3bf)](_0xe477c6(0x459)),worksheetInputArea=document[_0xe477c6(0x3bf)](_0xe477c6(0x593)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0xe477c6(0x3bf)](_0xe477c6(0x6ce)),studentQuizArea=document[_0xe477c6(0x3bf)]('student-quiz-area'),studentResultArea=document[_0xe477c6(0x3bf)]('student-result-area'),studentReadingArea=document[_0xe477c6(0x3bf)](_0xe477c6(0x351)),loadQuizBtn=document[_0xe477c6(0x3bf)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0xe477c6(0x5de)),studentJoinGameView=document[_0xe477c6(0x3bf)](_0xe477c6(0x75c)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0xe477c6(0x3bf)](_0xe477c6(0x79d)),moveQuizModal=document[_0xe477c6(0x3bf)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0xe477c6(0x606)),quizStatusModal=document[_0xe477c6(0x3bf)](_0xe477c6(0x6ff)),liveGameView=document[_0xe477c6(0x3bf)](_0xe477c6(0x50c));function handleAutoFixLatex(){const _0x468cce=_0xe477c6,_0x48a34f=document[_0x468cce(0x3bf)](_0x468cce(0x36b))||document,_0x348d02=_0x48a34f[_0x468cce(0x2b5)]([_0x468cce(0x419),_0x468cce(0x78b),_0x468cce(0x5c6),_0x468cce(0x4b4),'.ql-editor',_0x468cce(0x52a),_0x468cce(0x50f),_0x468cce(0x13d),_0x468cce(0x22b)][_0x468cce(0x47b)](','));let _0x2f2232=0x0;const _0x4b445c=_0x3537fb=>_0x468cce(0x21f)in _0x3537fb?String(_0x3537fb[_0x468cce(0x21f)]):_0x3537fb[_0x468cce(0x584)]!==undefined?_0x3537fb[_0x468cce(0x584)]:_0x3537fb['textContent']||'',_0xc82252=(_0x66d6e9,_0x2ed434)=>{const _0xdf4c3a=_0x468cce;if('value'in _0x66d6e9){_0x66d6e9[_0xdf4c3a(0x21f)]=_0x2ed434;return;}if(_0x66d6e9['querySelector']&&_0x66d6e9[_0xdf4c3a(0x179)]('mjx-container'))return;if(_0x66d6e9[_0xdf4c3a(0x584)]!==undefined)_0x66d6e9['innerText']=_0x2ed434;else _0x66d6e9['textContent']=_0x2ed434;},_0x47fd73=_0x216dd0=>_0x216dd0[_0x468cce(0x3ef)](/\u00A0/g,'\x20')[_0x468cce(0x3ef)](/\u200B/g,'')[_0x468cce(0x3ef)](/\r\n?/g,'\x0a'),_0x58327a=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x46297a=_0x4cc801=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x468cce(0x638)](_0x4cc801),_0x58bc8b=_0x123b26=>{const _0x38474b=_0x468cce,_0x28a3b1=(_0x123b26['match'](/\{/g)||[])['length'],_0x306bf1=(_0x123b26['match'](/\}/g)||[])['length'];if(_0x28a3b1>_0x306bf1)_0x123b26=_0x123b26+'}'[_0x38474b(0x473)](_0x28a3b1-_0x306bf1);return _0x123b26;},_0x3b53f3=_0x32c0ce=>{const _0x142184=_0x468cce;let _0x50a198=_0x32c0ce['trim']();const _0x5c70b0=[_0x142184(0x4ee),_0x142184(0x716),_0x142184(0x130),_0x142184(0x248),_0x142184(0x6a8),_0x142184(0x5d3),_0x142184(0x389),_0x142184(0x2cf),_0x142184(0x5c3),_0x142184(0x2dc),'le','ge',_0x142184(0x4f5),'pm',_0x142184(0x3af),_0x142184(0x1c7),'cos','tan',_0x142184(0x352),'ln',_0x142184(0x15c),'prod','binom','left',_0x142184(0x70d),_0x142184(0x3cc),_0x142184(0x647),_0x142184(0x20b),_0x142184(0x22f)];_0x50a198=_0x50a198[_0x142184(0x3ef)](new RegExp(_0x142184(0x64d)+_0x5c70b0['join']('|')+_0x142184(0x625),'g'),'\x5c'),_0x5c70b0[_0x142184(0x793)](_0x221fcc=>{const _0xe049c7=_0x142184;_0x50a198=_0x50a198['replace'](new RegExp(_0xe049c7(0x230)+_0x221fcc+'\x5cb','g'),(_0x490d31,_0x4a6f99)=>_0x4a6f99+'\x5c'+_0x221fcc);});const _0x422ef7=[[/×/g,_0x142184(0x358)],[/·/g,_0x142184(0x123)],[/÷/g,'\x5cdiv'],[/≤/g,_0x142184(0x2c4)],[/≥/g,_0x142184(0x649)],[/≠/g,_0x142184(0x5d6)],[/±/g,_0x142184(0x4e2)],[/∑/g,_0x142184(0x56b)],[/−/g,'-']];_0x422ef7[_0x142184(0x793)](([_0x2a1b00,_0x2411ed])=>{_0x50a198=_0x50a198['replace'](_0x2a1b00,_0x2411ed);}),_0x50a198=_0x50a198[_0x142184(0x3ef)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x50a198=_0x50a198['replace'](/√\s*([A-Za-z0-9]+)/g,_0x142184(0x62a)),_0x50a198=_0x50a198[_0x142184(0x3ef)](/(^|[^\\])\bimes\b/g,_0x142184(0x586))[_0x142184(0x3ef)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x142184(0x41b))[_0x142184(0x3ef)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x142184(0x3ef)](/(^|[^\\])ext\(/g,_0x142184(0x59e))[_0x142184(0x3ef)](/\\text\(([^)]*)\)/g,_0x142184(0x5ad))[_0x142184(0x3ef)](/\s\\frac/g,_0x142184(0x508)),_0x50a198=_0x50a198[_0x142184(0x3ef)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0xa36579,_0x5c2714,_0x40b58e,_0x391113)=>_0x5c2714+_0x142184(0x6b1)+_0x40b58e+'}{'+_0x391113+'}'),_0x50a198=_0x50a198[_0x142184(0x3ef)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x142184(0x446))[_0x142184(0x3ef)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x142184(0x446))[_0x142184(0x3ef)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x142184(0x446)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x142184(0x77c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x142184(0x77c)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x142184(0x77c)],[/(\d+)\s*°\s*C/g,_0x142184(0x77c)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x142184(0x160)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x142184(0x77c)]][_0x142184(0x793)](([_0x3b7d9f,_0x2a83d3])=>{const _0x3aed1a=_0x142184;_0x50a198=_0x50a198[_0x3aed1a(0x3ef)](_0x3b7d9f,_0x2a83d3);}),_0x50a198=_0x50a198['replace'](/(\d+)\s*%/g,_0x142184(0x122)),_0x50a198=_0x50a198[_0x142184(0x3ef)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x142184(0x596))[_0x142184(0x3ef)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x142184(0x79c))[_0x142184(0x3ef)](/\{\{([^\{\}]+)\}\}/g,_0x142184(0x2a3)),[_0x142184(0x1c7),'cos','tan',_0x142184(0x352),'ln'][_0x142184(0x793)](_0xa12dfa=>{const _0x183c7d=_0x142184;_0x50a198=_0x50a198['replace'](new RegExp(_0x183c7d(0x230)+_0xa12dfa+'\x5cs*\x5c(','g'),(_0x1cdb23,_0x569bd8)=>_0x569bd8+'\x5c'+_0xa12dfa+'(');});const _0x1085a1=(_0x50a198[_0x142184(0x6b5)](/\\left\b/g)||[])[_0x142184(0x330)],_0x53439f=(_0x50a198[_0x142184(0x6b5)](/\\right\b/g)||[])[_0x142184(0x330)];if(_0x1085a1!==_0x53439f)_0x50a198=_0x50a198[_0x142184(0x3ef)](/\\left\b/g,'')[_0x142184(0x3ef)](/\\right\b/g,'');return _0x50a198=_0x58bc8b(_0x50a198),_0x50a198;},_0x171637=_0x4d272c=>{const _0x56e944=_0x468cce;if(/\$|\\\(|\\\[/[_0x56e944(0x638)](_0x4d272c))return _0x4d272c;if(!_0x58327a[_0x56e944(0x638)](_0x4d272c))return _0x4d272c;const _0x2ddf69=_0x4d272c['match'](/^\s*/)[0x0],_0xff0a2e=_0x4d272c[_0x56e944(0x6b5)](/\s*$/)[0x0],_0x418134=_0x4d272c['trim']();return _0x2ddf69+'$'+_0x3b53f3(_0x418134)+'$'+_0xff0a2e;},_0x5dc70a=_0x6783b0=>_0x6783b0[_0x468cce(0x13c)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x348d02[_0x468cce(0x793)](_0x45617a=>{const _0x44097e=_0x468cce;if(_0x45617a['querySelector']&&_0x45617a[_0x44097e(0x179)](_0x44097e(0x277)))return;const _0x44956d=_0x4b445c(_0x45617a);let _0x460bb2=_0x47fd73(_0x44956d);_0x460bb2=_0x460bb2[_0x44097e(0x3ef)](/\$\$([\s\S]*?)\$\$/g,(_0x5233bd,_0x598463)=>'$$'+_0x3b53f3(_0x598463)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x1360a7,_0x43d315)=>'$'+_0x3b53f3(_0x43d315)+'$')[_0x44097e(0x3ef)](/\\\(([\s\S]*?)\\\)/g,(_0x31fe18,_0x574b99)=>'\x5c('+_0x3b53f3(_0x574b99)+'\x5c)')[_0x44097e(0x3ef)](/\\\[([\s\S]*?)\\\]/g,(_0x261018,_0x5e9680)=>'\x5c['+_0x3b53f3(_0x5e9680)+'\x5c]');let _0x5d6cac=_0x460bb2,_0x59a6b7=0x0;const _0x550aa6=_0x58d2bc=>_0x58d2bc[_0x44097e(0x3ef)](/S([^S]{0,2000}?)S/g,(_0x236808,_0x5985bb)=>_0x58327a[_0x44097e(0x638)](_0x5985bb)?'$'+_0x3b53f3(_0x5985bb)+'$':_0x236808);while(_0x59a6b7++<0x14){const _0x47526b=_0x550aa6(_0x5d6cac);if(_0x47526b===_0x5d6cac)break;_0x5d6cac=_0x47526b;}_0x460bb2=_0x5d6cac,_0x460bb2=_0x460bb2[_0x44097e(0x13c)]('\x0a')[_0x44097e(0x571)](_0x553739=>{const _0x54be9f=_0x44097e;if(!(/[,\u3001，;；]/[_0x54be9f(0x638)](_0x553739)||/\s(?:และ|หรือ)\s/[_0x54be9f(0x638)](_0x553739))||!_0x58327a[_0x54be9f(0x638)](_0x553739))return _0x553739;return _0x5dc70a(_0x553739)['map'](_0xa09b7a=>{const _0x4c38c1=_0x54be9f;if(/^\s(?:และ|หรือ)\s$/[_0x4c38c1(0x638)](_0xa09b7a)||/^[,\u3001，;；]$/[_0x4c38c1(0x638)](_0xa09b7a))return _0xa09b7a;return _0x171637(_0xa09b7a);})[_0x54be9f(0x47b)]('');})[_0x44097e(0x47b)]('\x0a'),_0x460bb2=_0x460bb2[_0x44097e(0x13c)]('\x0a')[_0x44097e(0x571)](_0x15455c=>{const _0x422c6a=_0x44097e,_0x141c0a=_0x15455c[_0x422c6a(0x503)]();if(!_0x141c0a)return _0x15455c;const _0x20f18f=/\$|\\\(|\\\[/[_0x422c6a(0x638)](_0x141c0a),_0x3c4770=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x422c6a(0x638)](_0x141c0a);if(_0x20f18f||!_0x3c4770||_0x46297a(_0x141c0a))return _0x15455c;return _0x15455c[_0x422c6a(0x3ef)](_0x141c0a,'$'+_0x3b53f3(_0x141c0a)+'$');})['join']('\x0a'),_0x460bb2=_0x460bb2[_0x44097e(0x3ef)](/(\d+)\s*°\s*C\b/g,(_0x46274a,_0x93b86,_0x3d2729,_0x4b8565)=>{const _0x4840a2=_0x4b8565[_0x3d2729-0x1];if(_0x4840a2==='$'||_0x4840a2==='S'||_0x4840a2==='\x5c')return _0x46274a;return'$'+_0x93b86+'^{\x5ccirc}\x5ctext{C}$';})[_0x44097e(0x3ef)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x2e3728,_0x439127,_0xad6a98,_0x5817c0)=>{const _0x411642=_0x44097e,_0x499c22=_0x5817c0[_0xad6a98-0x1];if(_0x499c22==='$'||_0x499c22==='S'||_0x499c22==='\x5c')return _0x2e3728;return'$'+_0x439127+_0x411642(0x74b);})[_0x44097e(0x3ef)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x3777d6,_0x20d6ba,_0x37a797,_0x2c9805)=>{const _0x891599=_0x44097e,_0x8115aa=_0x2c9805[_0x37a797-0x1];if(_0x8115aa==='$'||_0x8115aa==='S'||_0x8115aa==='\x5c')return _0x3777d6;return'$'+_0x20d6ba+_0x891599(0x74b);}),_0x460bb2=_0x460bb2[_0x44097e(0x3ef)](/\$\s*\$/g,'$$'),_0x460bb2!==_0x44956d&&(_0xc82252(_0x45617a,_0x460bb2),_0x2f2232++);});if(_0x2f2232>0x0){showMessage(_0x468cce(0x705)+_0x2f2232+_0x468cce(0x366));try{if(window[_0x468cce(0x736)]&&MathJax[_0x468cce(0x55a)])MathJax[_0x468cce(0x55a)]();window['katex']&&typeof renderMathInElement===_0x468cce(0x4a6)&&renderMathInElement(_0x48a34f,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x43936f){}}else showMessage(_0x468cce(0x171));}async function listenForCustomMathTopics(){const _0x202ecd=_0xe477c6,_0xf38709=collection(db,_0x202ecd(0x30a)+appId+_0x202ecd(0x34a));onSnapshot(_0xf38709,_0x2b5930=>{const _0x444faf=_0x202ecd;customMathTopics=_0x2b5930[_0x444faf(0x4ec)][_0x444faf(0x571)](_0x3e7d45=>({'id':_0x3e7d45['id'],..._0x3e7d45[_0x444faf(0x701)]()})),renderTopicCheckboxes();},_0x414596=>{const _0x3f3d5c=_0x202ecd;console[_0x3f3d5c(0x268)](_0x3f3d5c(0x2f9),_0x414596);});}function handleSelectAllTopics(){const _0x2e9451=_0xe477c6,_0x2ebf4f=document[_0x2e9451(0x3bf)](_0x2e9451(0x52d)),_0x3044d5=_0x2ebf4f[_0x2e9451(0x2b5)](_0x2e9451(0x656));_0x3044d5[_0x2e9451(0x793)](_0x163805=>{_0x163805['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x14d422=_0xe477c6,_0x1a2764=document[_0x14d422(0x3bf)]('math-topics-checkbox-container'),_0x273174=_0x1a2764[_0x14d422(0x2b5)](_0x14d422(0x656));_0x273174[_0x14d422(0x793)](_0x3ef6a1=>{_0x3ef6a1['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1f4aa8){const _0x415cd8=_0xe477c6;if(!_0x1f4aa8)return;try{const _0x42619c=doc(db,_0x415cd8(0x30a)+appId+'/public/data/customMathTopics',_0x1f4aa8);await deleteDoc(_0x42619c),showMessage(_0x415cd8(0x6d2));}catch(_0x2c46a6){console[_0x415cd8(0x268)]('Error\x20deleting\x20custom\x20topic:',_0x2c46a6),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x2e9746=_0xe477c6,_0x1d1f81=document[_0x2e9746(0x3bf)](_0x2e9746(0x4e5)),_0x5a7899=_0x1d1f81[_0x2e9746(0x21f)]['trim']();if(!_0x5a7899){showMessage(_0x2e9746(0x7b0));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x4227ef=collection(db,'artifacts/'+appId+_0x2e9746(0x34a));await addDoc(_0x4227ef,{'name':_0x5a7899,'createdAt':serverTimestamp()}),_0x1d1f81[_0x2e9746(0x21f)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x5a7899+_0x2e9746(0x749));}catch(_0x6ddf94){console[_0x2e9746(0x268)]('Error\x20adding\x20custom\x20topic:',_0x6ddf94),showMessage(_0x2e9746(0x25d));}}async function initialize(){const _0x3b41d8=_0xe477c6;try{const _0x39aacf=initializeApp(firebaseConfig);db=getFirestore(_0x39aacf),auth=getAuth(_0x39aacf),setupAuthListener(),setupEventListeners(),showView(_0x3b41d8(0x57b)),renderTopicCheckboxes();}catch(_0x22e868){console[_0x3b41d8(0x268)](_0x3b41d8(0x418),_0x22e868),showMessage(_0x3b41d8(0x30c));}}function compareNumericalAnswers(_0x577bf9,_0x5a2a64){const _0x8f7e45=_0xe477c6,_0x260dd6=String(_0x577bf9)[_0x8f7e45(0x3ef)](',','.')['replace'](/[^\d.-]/g,'')[_0x8f7e45(0x503)](),_0x13222a=String(_0x5a2a64)[_0x8f7e45(0x3ef)](',','.')[_0x8f7e45(0x3ef)](/[^\d.-]/g,'')[_0x8f7e45(0x503)]();if(_0x260dd6===''||_0x13222a==='')return![];const _0xd40c38=parseFloat(_0x260dd6),_0x352093=parseFloat(_0x13222a);if(isNaN(_0xd40c38)||isNaN(_0x352093))return![];return Math[_0x8f7e45(0x519)](_0xd40c38-_0x352093)<0.001;}async function gradeShortAnswer(_0x42ad64,_0x341204){const _0xd76561=_0xe477c6,_0x3f4faf=_0x341204['idealAnswer'];if(String(_0x42ad64)['trim']()[_0xd76561(0x173)]()===String(_0x3f4faf)[_0xd76561(0x503)]()[_0xd76561(0x173)]())return!![];if(compareNumericalAnswers(_0x42ad64,_0x3f4faf))return!![];return console[_0xd76561(0x352)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x42ad64,_0x3f4faf);}async function revealAnswerForAdmin(_0x336457,_0x26e529){const _0x104f5b=_0xe477c6;if(document[_0x104f5b(0x3bf)](_0x104f5b(0x6bf)))return;const _0x9dff8e=doc(db,'artifacts/'+appId+_0x104f5b(0x559),currentLiveGameId);await updateDoc(_0x9dff8e,{'questionStatus':_0x104f5b(0x412)});const _0x12b901=liveGameView['querySelector'](_0x104f5b(0x75d));_0x12b901&&(_0x12b901[_0x104f5b(0x3d2)][_0x104f5b(0x73a)](_0x104f5b(0x11c)),_0x12b901[_0x104f5b(0x3d2)][_0x104f5b(0x536)](_0x104f5b(0x16c),_0x104f5b(0x674),_0x104f5b(0x455),_0x104f5b(0x675),_0x104f5b(0x266)),_0x12b901[_0x104f5b(0x5cf)]=_0x104f5b(0x409)+_0x12b901[_0x104f5b(0x5cf)]);const _0x1c4ae0=document[_0x104f5b(0x3bf)](_0x104f5b(0x5fa));_0x1c4ae0&&(_0x1c4ae0[_0x104f5b(0x5cf)]=_0x104f5b(0x5a5)+(_0x336457+0x1===_0x26e529?_0x104f5b(0x66c):'ข้อต่อไป')+_0x104f5b(0x379),document[_0x104f5b(0x3bf)](_0x104f5b(0x6bf))[_0x104f5b(0x30f)](_0x104f5b(0x707),async()=>{const _0x1d7a16=_0x104f5b,_0x1bd8b2=doc(db,_0x1d7a16(0x30a)+appId+_0x1d7a16(0x559),currentLiveGameId),_0x328ec0=await getDoc(_0x1bd8b2);if(!_0x328ec0[_0x1d7a16(0x487)]())return;const _0x1f00b5=_0x328ec0[_0x1d7a16(0x701)](),_0x179716={};if(_0x1f00b5['players'])for(const _0x930f75 in _0x1f00b5[_0x1d7a16(0x49c)]){_0x179716['players.'+_0x930f75+_0x1d7a16(0x5e7)]=![];}const _0x3b4bab=_0x336457+0x1;_0x3b4bab<_0x26e529?(_0x179716[_0x1d7a16(0x1e8)]=_0x3b4bab,_0x179716[_0x1d7a16(0x483)]=serverTimestamp(),_0x179716[_0x1d7a16(0x5f4)]=_0x1d7a16(0x645),await updateDoc(_0x1bd8b2,_0x179716)):await updateDoc(_0x1bd8b2,{'status':_0x1d7a16(0x364)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x3ed0d6=>{const _0x4bd959=_0x3c0d;if(_0x3ed0d6){userId=_0x3ed0d6['uid'],userIdDisplay[_0x4bd959(0x13f)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x1f15e7){const _0x2f73c8=_0xe477c6,_0x4dc6da=Object['entries'](_0x1f15e7)[_0x2f73c8(0x571)](([_0x56d21c,_0x2a4f9b])=>({'name':_0x56d21c,'score':_0x2a4f9b[_0x2f73c8(0x6d3)]||0x0,'badges':_0x2a4f9b[_0x2f73c8(0x75a)]||[]}));_0x4dc6da[_0x2f73c8(0x1dc)]((_0x373fa4,_0x565f13)=>{const _0x247121=_0x2f73c8,_0x31edcf=_0x565f13[_0x247121(0x6d3)]-_0x373fa4[_0x247121(0x6d3)];if(_0x31edcf!==0x0)return _0x31edcf;return(_0x565f13[_0x247121(0x75a)]['length']||0x0)-(_0x373fa4['badges'][_0x247121(0x330)]||0x0);});const _0x44196c=_0xeadfcc=>{const _0x553bc9=_0x2f73c8;if(!_0xeadfcc||_0xeadfcc[_0x553bc9(0x330)]===0x0)return'';const _0xc0adb9={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xeadfcc['map'](_0x1cd912=>_0xc0adb9[_0x1cd912]||'')[_0x553bc9(0x47b)]('')+'</div>';},_0x4982a0=_0x4dc6da['slice'](0x3),_0x36f2fd=_0x4982a0[_0x2f73c8(0x330)]>0x0?_0x2f73c8(0x17e)+_0x4982a0[_0x2f73c8(0x571)]((_0x301361,_0x26837e)=>_0x2f73c8(0x6cb)+(_0x26837e+0x4)+_0x2f73c8(0x3db)+_0x301361[_0x2f73c8(0x5ca)]+_0x2f73c8(0x416)+_0x301361['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f73c8(0x47b)]('')+_0x2f73c8(0x3d4):'',_0x1236c9=_0x2f73c8(0x558)+(_0x4dc6da[0x1]?_0x2f73c8(0x5b7)+_0x4dc6da[0x1][_0x2f73c8(0x5ca)]+_0x2f73c8(0x436)+_0x44196c(_0x4dc6da[0x1][_0x2f73c8(0x75a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x4dc6da[0x1][_0x2f73c8(0x6d3)]+_0x2f73c8(0x435):_0x2f73c8(0x6f9))+_0x2f73c8(0x718)+(_0x4dc6da[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4dc6da[0x0][_0x2f73c8(0x5ca)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44196c(_0x4dc6da[0x0]['badges'])+_0x2f73c8(0x17a)+_0x4dc6da[0x0][_0x2f73c8(0x6d3)]+_0x2f73c8(0x454):_0x2f73c8(0x6f9))+_0x2f73c8(0x718)+(_0x4dc6da[0x2]?_0x2f73c8(0x59c)+_0x4dc6da[0x2]['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44196c(_0x4dc6da[0x2][_0x2f73c8(0x75a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x4dc6da[0x2][_0x2f73c8(0x6d3)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2f73c8(0x6f9))+_0x2f73c8(0x74e)+_0x36f2fd+_0x2f73c8(0x57c)+(currentMode===_0x2f73c8(0x2bf)?_0x2f73c8(0x32e):_0x2f73c8(0x29a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x2f73c8(0x5cf)]=_0x1236c9,currentMode==='admin'&&document['getElementById']('close-game-final-btn')[_0x2f73c8(0x30f)]('click',async()=>{const _0x26bec7=_0x2f73c8,_0x32fefc=doc(db,_0x26bec7(0x30a)+appId+_0x26bec7(0x559),currentLiveGameId);await deleteDoc(_0x32fefc),showView('admin-dashboard');});}async function handleStartLiveRace(_0xdc3483){const _0x5dc378=_0xe477c6;let _0x43018e=allQuizzes[_0x5dc378(0x6d0)](_0x45276a=>_0x45276a['id']===_0xdc3483);if(!_0x43018e){const _0xf45989=doc(db,_0x5dc378(0x30a)+appId+_0x5dc378(0x607),_0xdc3483),_0x5394c9=await getDoc(_0xf45989);if(!_0x5394c9[_0x5dc378(0x487)]()){showMessage(_0x5dc378(0x642));return;}_0x43018e={'id':_0x5394c9['id'],..._0x5394c9[_0x5dc378(0x701)]()};}currentQuizData=getShuffledQuiz(_0x43018e);const _0x350cc0=_0x43018e[_0x5dc378(0x3f8)]||currentProjectId||null,_0x4777fd=Math['floor'](0x3e8+Math[_0x5dc378(0x178)]()*0x2328)[_0x5dc378(0x6d9)]();currentLiveGamePin=_0x4777fd;try{const _0x5aee77=await addDoc(collection(db,'artifacts/'+appId+_0x5dc378(0x559)),{'quizId':_0xdc3483,'projectId':_0x350cc0,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4777fd,'createdAt':serverTimestamp()});currentLiveGameId=_0x5aee77['id'],showAdminLobbyView(_0x4777fd,_0x43018e['topic']),listenForLiveGameUpdates();}catch(_0x285684){console[_0x5dc378(0x268)](_0x5dc378(0x6e4),_0x285684),showMessage(_0x5dc378(0x581));}}async function handleShowStudentRankings(){const _0x246a67=_0xe477c6,_0x2e7e87=document[_0x246a67(0x179)](_0x246a67(0x699));_0x2e7e87&&(_0x2e7e87['innerHTML']=_0x246a67(0x4bd));const _0x11d97c=document[_0x246a67(0x179)](_0x246a67(0x16d));_0x11d97c&&(_0x11d97c[_0x246a67(0x5cf)]=_0x246a67(0x7af));const _0x4ae563=document['getElementById'](_0x246a67(0x757));_0x4ae563[_0x246a67(0x3d2)][_0x246a67(0x73a)](_0x246a67(0x212)),document[_0x246a67(0x3bf)](_0x246a67(0x709))['onclick']=()=>_0x4ae563[_0x246a67(0x3d2)][_0x246a67(0x536)](_0x246a67(0x212));const _0x5b9f73=document[_0x246a67(0x3bf)](_0x246a67(0x56e)),_0x1ce058=document['getElementById'](_0x246a67(0x1a6)),_0x13581c=document[_0x246a67(0x3bf)]('student-quiz-leaderboard-content'),_0x47bdf3=document[_0x246a67(0x3bf)](_0x246a67(0x4e8));_0x5b9f73['onclick']=()=>{const _0x397543=_0x246a67;_0x5b9f73['classList'][_0x397543(0x536)](_0x397543(0x6a7)),_0x1ce058['classList'][_0x397543(0x73a)](_0x397543(0x6a7)),_0x13581c[_0x397543(0x3d2)][_0x397543(0x73a)](_0x397543(0x212)),_0x47bdf3['classList'][_0x397543(0x536)](_0x397543(0x212));},_0x1ce058[_0x246a67(0x4fe)]=()=>{const _0x23ce2a=_0x246a67;_0x1ce058['classList']['add'](_0x23ce2a(0x6a7)),_0x5b9f73['classList']['remove'](_0x23ce2a(0x6a7)),_0x47bdf3[_0x23ce2a(0x3d2)][_0x23ce2a(0x73a)](_0x23ce2a(0x212)),_0x13581c[_0x23ce2a(0x3d2)][_0x23ce2a(0x536)](_0x23ce2a(0x212));};try{const _0x215ba0=collection(db,_0x246a67(0x30a)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x246a67(0x213)),_0x1980fa=await getDocs(_0x215ba0),_0xa75fd4=_0x1980fa[_0x246a67(0x4ec)][_0x246a67(0x571)](_0x455c95=>_0x455c95[_0x246a67(0x701)]());renderQuizLeaderboard(_0xa75fd4,currentQuizData,_0x246a67(0x30b));const _0x2b10b1=collection(db,_0x246a67(0x30a)+appId+_0x246a67(0x3e2)+currentQuizData[_0x246a67(0x3f8)]+_0x246a67(0x299)),_0xd6255=await getDocs(_0x2b10b1),_0x18ffcd=_0xd6255[_0x246a67(0x4ec)][_0x246a67(0x571)](_0x250a3a=>_0x250a3a[_0x246a67(0x701)]());renderLeaderboard(_0x18ffcd,_0x246a67(0x14f));}catch(_0x1b295){console[_0x246a67(0x268)](_0x246a67(0x68e),_0x1b295),showMessage(_0x246a67(0x6c1));}}async function handleSaveToBank(_0x2b9ca9){const _0x3aafc1=_0xe477c6,_0x54921c=_0x2b9ca9[_0x3aafc1(0x687)],_0x22e1c5=_0x54921c['dataset'][_0x3aafc1(0x422)],_0x1656b3=currentQuizData[_0x3aafc1(0x541)][_0x22e1c5];if(!userId){showMessage(_0x3aafc1(0x368));return;}try{const _0x2fd054={..._0x1656b3,'originalTopic':currentQuizData[_0x3aafc1(0x500)],'savedAt':serverTimestamp()},_0x1d79af=collection(db,_0x3aafc1(0x30a)+appId+_0x3aafc1(0x41f)+userId+_0x3aafc1(0x78e));await addDoc(_0x1d79af,_0x2fd054),showMessage(_0x3aafc1(0x431)),_0x54921c[_0x3aafc1(0x3d2)]['remove']('text-purple-600'),_0x54921c[_0x3aafc1(0x3d2)][_0x3aafc1(0x536)](_0x3aafc1(0x374)),_0x54921c[_0x3aafc1(0x688)]=!![];}catch(_0x323ecc){console[_0x3aafc1(0x268)](_0x3aafc1(0x2d6),_0x323ecc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x123e05=_0xe477c6;if(!userId)return;const _0x3752f3=collection(db,_0x123e05(0x30a)+appId+_0x123e05(0x607)),_0x305d6a=query(_0x3752f3,where(_0x123e05(0x304),'==',!![]));onSnapshot(_0x305d6a,_0x5c844d=>{const _0x1e168a=_0x123e05;starredQuizzes=_0x5c844d[_0x1e168a(0x4ec)]['map'](_0x3c4437=>({'id':_0x3c4437['id'],..._0x3c4437[_0x1e168a(0x701)]()})),renderProjects();},_0x162c53=>{const _0x2e458a=_0x123e05;console[_0x2e458a(0x268)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x162c53);});}function exportQuizAsWorksheetPDF(){const _0x1bab03=_0xe477c6;if(!currentQuizData||!currentQuizData[_0x1bab03(0x541)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x36fb19=currentQuizData,_0x36f054=window[_0x1bab03(0x345)]('',_0x1bab03(0x36d)),_0xa25166=_0x438f89=>String[_0x1bab03(0x706)](0x41+_0x438f89),_0x11b290=_0x1bab03(0x5b1)+_0x36fb19['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x36fb19['topic']+_0x1bab03(0x4af)+_0x36fb19[_0x1bab03(0x541)][_0x1bab03(0x571)]((_0x1005a8,_0x4ead5e)=>{const _0x46a198=_0x1bab03;let _0x168999='';const _0x215d0c=_0x1005a8[_0x46a198(0x4f4)]||_0x36fb19[_0x46a198(0x6c9)];switch(_0x215d0c){case'multiple_choice':case _0x46a198(0x170):_0x168999=_0x46a198(0x770)+_0x1005a8[_0x46a198(0x26e)][_0x46a198(0x571)]((_0xd7003f,_0x2d8d8f)=>_0x46a198(0x608)+_0xa25166(_0x2d8d8f)+'.\x20'+_0xd7003f+_0x46a198(0x18b))['join'](_0x46a198(0x665))+_0x46a198(0x53b);break;case _0x46a198(0x1be):_0x168999=_0x46a198(0x4ac);break;default:_0x168999='<div\x20class=\x22answer-space\x22></div>';break;}return _0x46a198(0x711)+(_0x4ead5e+0x1)+_0x46a198(0x2e0)+(_0x1005a8[_0x46a198(0x1bc)]||_0x1005a8[_0x46a198(0x5a9)])+_0x46a198(0x686)+(_0x1005a8['imageCode']?_0x46a198(0x336)+_0x1005a8[_0x46a198(0x295)]+'</div>':'')+_0x46a198(0x376)+_0x168999+_0x46a198(0x69e);})[_0x1bab03(0x47b)]('')+_0x1bab03(0x22a);_0x36f054[_0x1bab03(0x2b0)][_0x1bab03(0x294)](_0x11b290),_0x36f054[_0x1bab03(0x2b0)][_0x1bab03(0x26f)](),_0x36f054[_0x1bab03(0x20f)]=function(){setTimeout(()=>{const _0x2de669=_0x3c0d;_0x36f054[_0x2de669(0x267)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x6f0a71=_0xe477c6;if(!currentQuizData||!currentQuizData[_0x6f0a71(0x541)]){showMessage(_0x6f0a71(0x60a));return;}const _0x3afc33=currentQuizData,_0x129bbe=window[_0x6f0a71(0x345)]('',_0x6f0a71(0x36d)),_0x261bc7=_0x1b5009=>String[_0x6f0a71(0x706)](0x41+_0x1b5009),_0x57a9a8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x3afc33[_0x6f0a71(0x500)]+_0x6f0a71(0x239)+_0x3afc33['questions'][_0x6f0a71(0x571)]((_0x59c998,_0x58021a)=>{const _0x1aa210=_0x6f0a71;let _0x5c9061='';const _0x203558=_0x59c998[_0x1aa210(0x4f4)]||_0x3afc33[_0x1aa210(0x6c9)];switch(_0x203558){case _0x1aa210(0x2d3):case _0x1aa210(0x170):_0x5c9061=_0x1aa210(0x634)+_0x59c998[_0x1aa210(0x26e)][_0x1aa210(0x571)]((_0xc34d89,_0x5d268c)=>_0x1aa210(0x2be)+_0x261bc7(_0x5d268c)+'.\x20'+_0xc34d89+_0x1aa210(0x568))[_0x1aa210(0x47b)](_0x1aa210(0x665))+_0x1aa210(0x48a);break;case _0x1aa210(0x1be):_0x5c9061=_0x1aa210(0x62f);break;default:_0x5c9061='';break;}return _0x1aa210(0x2b1)+_0x3afc33['topic']+_0x1aa210(0x400)+(_0x58021a+0x1)+_0x1aa210(0x2c9)+(_0x59c998[_0x1aa210(0x1bc)]||_0x59c998[_0x1aa210(0x5a9)])+_0x1aa210(0x686)+(_0x59c998[_0x1aa210(0x295)]?_0x1aa210(0x233)+_0x59c998[_0x1aa210(0x295)]+'</div>':'')+_0x1aa210(0x376)+_0x5c9061+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x6f0a71(0x47b)]('')+_0x6f0a71(0x482);_0x129bbe[_0x6f0a71(0x2b0)]['write'](_0x57a9a8),_0x129bbe[_0x6f0a71(0x2b0)][_0x6f0a71(0x26f)](),_0x129bbe[_0x6f0a71(0x20f)]=function(){setTimeout(()=>{const _0x4fad0c=_0x3c0d;_0x129bbe[_0x4fad0c(0x267)]();},0x5dc);};}async function handleToggleStarQuiz(_0x57e6c9){const _0xa13c12=_0xe477c6,_0x2ede89=doc(db,_0xa13c12(0x30a)+appId+'/public/data/quizzes',_0x57e6c9);try{const _0x5ad0b7=await getDoc(_0x2ede89);if(_0x5ad0b7['exists']()){const _0x30dafe=_0x5ad0b7[_0xa13c12(0x701)]()[_0xa13c12(0x304)]||![];await updateDoc(_0x2ede89,{'isStarred':!_0x30dafe});}}catch(_0x10fd22){console[_0xa13c12(0x268)](_0xa13c12(0x5cd),_0x10fd22),showMessage(_0xa13c12(0x4b9));}}async function displayQuestionBank(){const _0x3a515d=_0xe477c6,_0x3192d1=document['getElementById'](_0x3a515d(0x4a0));_0x3192d1['innerHTML']=_0x3a515d(0x1bf);try{const _0x546fc9=collection(db,_0x3a515d(0x30a)+appId+'/users/'+userId+'/questionBank'),_0x210c4e=query(_0x546fc9),_0x174b6f=await getDocs(_0x210c4e);if(_0x174b6f['empty']){_0x3192d1[_0x3a515d(0x5cf)]=_0x3a515d(0x140);return;}let _0x5f1b63=_0x174b6f[_0x3a515d(0x4ec)][_0x3a515d(0x571)](_0x7c56e1=>{const _0x24fc79=_0x3a515d,_0x4eba3a=_0x7c56e1['data'](),_0x28de05=_0x7c56e1['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x24fc79(0x22d)](_0x4eba3a)+_0x24fc79(0x2b4)+(_0x4eba3a['questionText']||_0x4eba3a[_0x24fc79(0x1bc)])+_0x24fc79(0x489)+_0x4eba3a['originalTopic']+_0x24fc79(0x570);})['join']('');_0x3192d1[_0x3a515d(0x5cf)]=_0x3a515d(0x3b7)+_0x5f1b63+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3a515d(0x3bf)](_0x3a515d(0x1da))[_0x3a515d(0x30f)](_0x3a515d(0x707),createQuizFromBank);}catch(_0x270ba8){console[_0x3a515d(0x268)]('Error\x20displaying\x20question\x20bank:',_0x270ba8),_0x3192d1[_0x3a515d(0x5cf)]=_0x3a515d(0x2ec);}}function showAdminLiveQuestionView(_0x507083,_0x2f016a,_0x543ea0){const _0x504604=_0xe477c6,_0x4dfeac=_0x507083['questionType']||currentQuizData['quizType'];let _0x770dfc='';if(_0x4dfeac===_0x504604(0x2d3)||_0x4dfeac==='true_false'){const _0xabf9f2=_0x4dfeac===_0x504604(0x1be)?['ใช่',_0x504604(0x513)]:_0x507083[_0x504604(0x26e)],_0x23f96c=_0x4dfeac===_0x504604(0x1be)?_0x507083[_0x504604(0x3e3)]?0x0:0x1:_0x507083['correctAnswerIndex'];_0x770dfc=_0xabf9f2[_0x504604(0x571)]((_0x1ca044,_0x3e2a47)=>_0x504604(0x668)+(_0x3e2a47===_0x23f96c)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ca044+_0x504604(0x3eb))['join']('');}else{if(_0x4dfeac==='matching_item'){const _0xcc23c1=_0x507083[_0x504604(0x450)]||[];_0x770dfc=_0xcc23c1['map'](_0x3009e5=>_0x504604(0x668)+(_0x3009e5===_0x507083[_0x504604(0x786)])+_0x504604(0x3c5)+_0x3009e5+_0x504604(0x3eb))[_0x504604(0x47b)]('');}}const _0x450b01=_0x507083[_0x504604(0x1bc)]||_0x507083[_0x504604(0x5a9)],_0x4f6fc2=_0x504604(0x221)+(_0x2f016a+0x1)+_0x504604(0x3f1)+_0x543ea0+_0x504604(0x66f)+_0x450b01+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x770dfc+_0x504604(0x4e4);liveGameView['innerHTML']=_0x4f6fc2;window[_0x504604(0x736)]&&MathJax[_0x504604(0x55a)]&&MathJax[_0x504604(0x55a)]([liveGameView]);const _0x5a1075=document[_0x504604(0x3bf)](_0x504604(0x5fa));document[_0x504604(0x3bf)](_0x504604(0x19b))['addEventListener'](_0x504604(0x707),async()=>{const _0x45a73b=_0x504604,_0x1c0b92=doc(db,_0x45a73b(0x30a)+appId+_0x45a73b(0x559),currentLiveGameId);await updateDoc(_0x1c0b92,{'questionStatus':_0x45a73b(0x412)});const _0x1dc175=liveGameView[_0x45a73b(0x179)](_0x45a73b(0x75d));_0x1dc175&&(_0x1dc175['classList'][_0x45a73b(0x73a)](_0x45a73b(0x11c)),_0x1dc175[_0x45a73b(0x3d2)]['add'](_0x45a73b(0x16c),_0x45a73b(0x674),_0x45a73b(0x455),_0x45a73b(0x675),_0x45a73b(0x266)),_0x1dc175[_0x45a73b(0x5cf)]=_0x45a73b(0x409)+_0x1dc175[_0x45a73b(0x5cf)]),_0x5a1075['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f016a+0x1===_0x543ea0?_0x45a73b(0x66c):_0x45a73b(0x1ab))+_0x45a73b(0x379),document[_0x45a73b(0x3bf)](_0x45a73b(0x6bf))[_0x45a73b(0x30f)](_0x45a73b(0x707),async()=>{const _0x551de9=_0x45a73b,_0x3ac9c4=doc(db,_0x551de9(0x30a)+appId+_0x551de9(0x559),currentLiveGameId),_0x5cb84a=await getDoc(_0x3ac9c4);if(!_0x5cb84a[_0x551de9(0x487)]())return;const _0x238012=_0x5cb84a[_0x551de9(0x701)](),_0x2f30db={};if(_0x238012[_0x551de9(0x49c)])for(const _0x35fce9 in _0x238012[_0x551de9(0x49c)]){_0x2f30db[_0x551de9(0x44c)+_0x35fce9+_0x551de9(0x5e7)]=![];}const _0x30dd9d=_0x2f016a+0x1;_0x30dd9d<_0x543ea0?(_0x2f30db['currentQuestionIndex']=_0x30dd9d,_0x2f30db[_0x551de9(0x483)]=serverTimestamp(),_0x2f30db[_0x551de9(0x5f4)]=_0x551de9(0x645),await updateDoc(_0x3ac9c4,_0x2f30db)):await updateDoc(_0x3ac9c4,{'status':_0x551de9(0x364)});});}),document[_0x504604(0x3bf)](_0x504604(0x281))[_0x504604(0x30f)](_0x504604(0x707),async()=>{const _0x57793e=_0x504604,_0x1e5529=doc(db,_0x57793e(0x30a)+appId+_0x57793e(0x559),currentLiveGameId);await deleteDoc(_0x1e5529),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x4906a1,_0x458d7f,_0x2ba7c9){const _0x5798eb=_0xe477c6,_0x195ff6=_0x4906a1[_0x5798eb(0x4f4)]||currentQuizData[_0x5798eb(0x6c9)];let _0x2b1771='';if(_0x195ff6===_0x5798eb(0x2d3)||_0x195ff6===_0x5798eb(0x1be)){const _0x6ca79=_0x195ff6===_0x5798eb(0x1be)?[_0x5798eb(0x180),_0x5798eb(0x513)]:_0x4906a1[_0x5798eb(0x26e)];_0x2b1771=_0x6ca79[_0x5798eb(0x571)]((_0x338015,_0x4f9d9c)=>_0x5798eb(0x3e6)+_0x4f9d9c+_0x5798eb(0x425)+_0x338015+_0x5798eb(0x1a8))[_0x5798eb(0x47b)]('');}else{if(_0x195ff6===_0x5798eb(0x611)){const _0xfd3d57=_0x4906a1[_0x5798eb(0x450)]||[];_0x2b1771=_0xfd3d57[_0x5798eb(0x571)]((_0x25bedc,_0x32987d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x32987d+_0x5798eb(0x425)+_0x25bedc+_0x5798eb(0x1a8))[_0x5798eb(0x47b)]('');}else _0x195ff6===_0x5798eb(0x39f)&&(_0x2b1771='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x1d9df7=_0x4906a1['stem']||_0x4906a1[_0x5798eb(0x5a9)],_0x172035='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x458d7f+0x1)+'\x20/\x20'+_0x2ba7c9+_0x5798eb(0x445)+_0x1d9df7+_0x5798eb(0x3d8)+_0x2b1771+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x172035;window[_0x5798eb(0x736)]&&MathJax[_0x5798eb(0x55a)]&&MathJax[_0x5798eb(0x55a)]([liveGameView]);const _0x413524=document[_0x5798eb(0x3bf)]('live-submit-short-answer-btn');_0x413524&&_0x413524[_0x5798eb(0x30f)](_0x5798eb(0x707),()=>{const _0x5923b0=_0x5798eb,_0x2a60d4=document['getElementById'](_0x5923b0(0x673))[_0x5923b0(0x21f)];handleLiveAnswer(_0x2a60d4,_0x4906a1);}),document[_0x5798eb(0x3bf)]('live-options-container')['addEventListener'](_0x5798eb(0x707),_0x5acb05=>{const _0x379f3e=_0x5798eb,_0x2daa32=_0x5acb05[_0x379f3e(0x4eb)][_0x379f3e(0x3e8)]('.live-answer-btn');if(_0x2daa32){const _0x339793=parseInt(_0x2daa32[_0x379f3e(0x13e)][_0x379f3e(0x422)]);handleLiveAnswer(_0x339793,_0x4906a1);}});}async function handleLiveAnswer(_0x1ec0c5,_0x5ee3c1){const _0x28bf06=_0xe477c6;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x28bf06(0x793)](_0x5d6335=>_0x5d6335['disabled']=!![]);const _0x1ae41d=_0x5ee3c1[_0x28bf06(0x4f4)]||currentQuizData[_0x28bf06(0x6c9)];let _0x32eb20=![];if(_0x1ae41d===_0x28bf06(0x39f)){const _0x35befe=(_0x1ec0c5||'')[_0x28bf06(0x6d9)]();_0x32eb20=await gradeShortAnswer(_0x35befe,_0x5ee3c1);}else{if(_0x1ae41d===_0x28bf06(0x2d3))_0x32eb20=_0x1ec0c5===_0x5ee3c1['correctAnswerIndex'];else{if(_0x1ae41d===_0x28bf06(0x1be)){const _0x1eb0e5=_0x5ee3c1[_0x28bf06(0x3e3)];_0x32eb20=_0x1ec0c5===0x0&&_0x1eb0e5||_0x1ec0c5===0x1&&!_0x1eb0e5;}else{if(_0x1ae41d===_0x28bf06(0x611)){const _0x120f04=_0x5ee3c1[_0x28bf06(0x450)][_0x1ec0c5];_0x32eb20=_0x120f04===_0x5ee3c1['correctResponse'];}}}}const _0x43c31d=doc(db,_0x28bf06(0x30a)+appId+_0x28bf06(0x559),currentLiveGameId),_0xcdc9c=await getDoc(_0x43c31d);if(!_0xcdc9c[_0x28bf06(0x487)]())return;const _0xc5c010=_0xcdc9c[_0x28bf06(0x701)](),_0x2628ea=_0xc5c010['players'][currentStudentName];let _0x5a81c7=_0x2628ea['badges']||[],_0x5d082a=_0x2628ea['correctStreak']||0x0;const _0x3c73b2={};let _0x485676=0x0;if(_0xc5c010['questionDisplayedAt']){const _0x204579=_0xc5c010[_0x28bf06(0x483)][_0x28bf06(0x6ca)](),_0x2ca7d3=new Date()-_0x204579;if(_0x32eb20){const _0x15543e=0x3e8,_0x3b6cc3=0x1f4,_0x59efc0=0x4e20;let _0x1ca05c=_0x2ca7d3/_0x59efc0;if(_0x1ca05c>0x1)_0x1ca05c=0x1;const _0x558cf4=Math[_0x28bf06(0x2e6)](_0x1ca05c*_0x3b6cc3);_0x485676=_0x15543e-_0x558cf4,_0x2ca7d3<=0x1388&&!_0x5a81c7[_0x28bf06(0x554)]('quick_thinker')&&_0x5a81c7[_0x28bf06(0x424)](_0x28bf06(0x31c));}}_0x32eb20?(_0x5d082a++,_0x5d082a===0x3&&!_0x5a81c7[_0x28bf06(0x554)]('on_fire')&&(_0x5a81c7[_0x28bf06(0x424)]('on_fire'),_0x5d082a=0x0)):_0x5d082a=0x0,_0x32eb20&&(_0x3c73b2['players.'+currentStudentName+_0x28bf06(0x530)]=increment(_0x485676)),_0x3c73b2[_0x28bf06(0x44c)+currentStudentName+_0x28bf06(0x49a)]=_0x5a81c7,_0x3c73b2[_0x28bf06(0x44c)+currentStudentName+_0x28bf06(0x31b)]=_0x5d082a,_0x3c73b2[_0x28bf06(0x44c)+currentStudentName+_0x28bf06(0x5e7)]=!![],_0x3c73b2['players.'+currentStudentName+_0x28bf06(0x4ae)]=_0x32eb20,_0x3c73b2[_0x28bf06(0x44c)+currentStudentName+'.pointsLastQuestion']=_0x485676,await updateDoc(_0x43c31d,_0x3c73b2),liveGameView[_0x28bf06(0x5cf)]=_0x28bf06(0x5ed);}function createQuizFromBank(){const _0x40500b=_0xe477c6,_0x4fccab=document['querySelectorAll'](_0x40500b(0x121));if(_0x4fccab[_0x40500b(0x330)]===0x0){showMessage(_0x40500b(0x715));return;}const _0x5c8340=[];_0x4fccab['forEach'](_0x422935=>{const _0x2effd1=_0x40500b;_0x5c8340[_0x2effd1(0x424)](JSON[_0x2effd1(0x460)](_0x422935[_0x2effd1(0x21f)]));});const _0x3a8b0b={'topic':_0x40500b(0x537),'questions':_0x5c8340};displayGeneratedQuiz(_0x3a8b0b);}function showAdminLobbyView(_0xccd8e8,_0x38d7bf){const _0x47ee35=_0xe477c6;showView(_0x47ee35(0x546));const _0x5291fc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x38d7bf+_0x47ee35(0x51f)+_0xccd8e8+_0x47ee35(0x62c);liveGameView[_0x47ee35(0x5cf)]=_0x5291fc,document[_0x47ee35(0x3bf)]('start-game-btn')[_0x47ee35(0x30f)](_0x47ee35(0x707),async()=>{const _0x55ccd1=_0x47ee35;if(!currentQuizData||!currentQuizData[_0x55ccd1(0x541)]||currentQuizData['questions'][_0x55ccd1(0x330)]===0x0){showMessage(_0x55ccd1(0x6b7));return;}try{const _0x424091=doc(db,'artifacts/'+appId+_0x55ccd1(0x559),currentLiveGameId);await updateDoc(_0x424091,{'status':_0x55ccd1(0x6f0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x365493=currentQuizData[_0x55ccd1(0x541)][0x0],_0x1461d5=currentQuizData[_0x55ccd1(0x541)][_0x55ccd1(0x330)];showAdminLiveQuestionView(_0x365493,0x0,_0x1461d5);}catch(_0x592131){console[_0x55ccd1(0x268)](_0x55ccd1(0x6f4),_0x592131),showMessage(_0x55ccd1(0x39d));}});}async function openGlobalLiveModal(){const _0x1c7986=_0xe477c6;if(allQuizzesGlobal['length']===0x0){const _0x37e9e2=await getDocs(collection(db,_0x1c7986(0x30a)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x37e9e2['docs']['map'](_0x4863b5=>({'id':_0x4863b5['id'],..._0x4863b5[_0x1c7986(0x701)]()}));}renderGlobalQuizList(''),document[_0x1c7986(0x3bf)](_0x1c7986(0x317))['classList'][_0x1c7986(0x73a)](_0x1c7986(0x212));}async function openQuizBankModal(){const _0x102401=_0xe477c6;if(allQuizzesGlobal[_0x102401(0x330)]===0x0){const _0x5413b5=await getDocs(collection(db,'artifacts/'+appId+_0x102401(0x607)));allQuizzesGlobal=_0x5413b5[_0x102401(0x4ec)][_0x102401(0x571)](_0x3fe9c7=>({'id':_0x3fe9c7['id'],..._0x3fe9c7[_0x102401(0x701)]()}));}renderQuizBankList(''),document[_0x102401(0x3bf)](_0x102401(0x236))[_0x102401(0x3d2)][_0x102401(0x73a)](_0x102401(0x212));}function renderQuizBankList(_0x42e863=''){const _0x3d35b8=_0xe477c6,_0x8f347a=document[_0x3d35b8(0x3bf)](_0x3d35b8(0x63f)),_0x39b8f7=_0x42e863[_0x3d35b8(0x173)]()[_0x3d35b8(0x503)](),_0x1e8012=allQuizzesGlobal[_0x3d35b8(0x571)](_0x8ab7df=>({..._0x8ab7df,'projectName':allProjects['find'](_0x2552b6=>_0x2552b6['id']===_0x8ab7df[_0x3d35b8(0x3f8)])?.[_0x3d35b8(0x2a1)]||_0x3d35b8(0x174)}))[_0x3d35b8(0x5b5)](_0xcc2fce=>(_0xcc2fce[_0x3d35b8(0x500)]||'')[_0x3d35b8(0x173)]()['includes'](_0x39b8f7)||(_0xcc2fce[_0x3d35b8(0x2a1)]||'')[_0x3d35b8(0x173)]()[_0x3d35b8(0x554)](_0x39b8f7)||_0xcc2fce['id']['toString']()[_0x3d35b8(0x554)](_0x39b8f7));document[_0x3d35b8(0x3bf)](_0x3d35b8(0x20e))[_0x3d35b8(0x13f)]='('+_0x1e8012[_0x3d35b8(0x330)]+_0x3d35b8(0x1ef),_0x8f347a[_0x3d35b8(0x5cf)]=_0x1e8012[_0x3d35b8(0x330)]?_0x1e8012[_0x3d35b8(0x571)](_0x1abf17=>_0x3d35b8(0x4a4)+_0x1abf17['id']+_0x3d35b8(0x199)+(_0x1abf17[_0x3d35b8(0x500)]||_0x3d35b8(0x465))+_0x3d35b8(0x6aa)+(_0x1abf17[_0x3d35b8(0x541)]?.[_0x3d35b8(0x330)]||0x0)+_0x3d35b8(0x392)+_0x1abf17[_0x3d35b8(0x2a1)]+_0x3d35b8(0x2a6)+_0x1abf17['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1abf17['id']+_0x3d35b8(0x28e)+_0x1abf17['id']+_0x3d35b8(0x3f4)+_0x1abf17['id']+_0x3d35b8(0x45a))[_0x3d35b8(0x47b)](''):_0x3d35b8(0x40b),_0x8f347a[_0x3d35b8(0x2b5)]('.quiz-bank-item')[_0x3d35b8(0x793)](_0x4e804f=>{const _0xc1fc39=_0x3d35b8;_0x4e804f[_0xc1fc39(0x30f)](_0xc1fc39(0x707),()=>{const _0x313bc4=_0xc1fc39,_0x41be29=_0x4e804f['dataset']['id'];document[_0x313bc4(0x3bf)](_0x313bc4(0x236))['classList']['add'](_0x313bc4(0x212)),showQuizDetailView(_0x41be29);});}),_0x8f347a['querySelectorAll'](_0x3d35b8(0x5a4))[_0x3d35b8(0x793)](_0x35a1ab=>{const _0x548ab8=_0x3d35b8;_0x35a1ab[_0x548ab8(0x30f)](_0x548ab8(0x707),_0xe1ab21=>{const _0x1fe655=_0x548ab8;_0xe1ab21[_0x1fe655(0x6e6)]();const _0x2c9dd3=_0x35a1ab[_0x1fe655(0x13e)]['id'],_0x391ccc=allQuizzesGlobal[_0x1fe655(0x6d0)](_0x749745=>_0x749745['id']===_0x2c9dd3);_0x391ccc?(currentQuizData=_0x391ccc,document[_0x1fe655(0x3bf)](_0x1fe655(0x236))[_0x1fe655(0x3d2)][_0x1fe655(0x536)](_0x1fe655(0x212)),startAdminTest()):showMessage(_0x1fe655(0x642));});}),_0x8f347a[_0x3d35b8(0x2b5)](_0x3d35b8(0x66d))[_0x3d35b8(0x793)](_0x148597=>{_0x148597['addEventListener']('click',_0x204a7f=>{const _0x1615f3=_0x3c0d;_0x204a7f['stopPropagation']();const _0x123ce7=_0x148597['dataset']['id'],_0x2d35c0=allQuizzesGlobal[_0x1615f3(0x6d0)](_0xf5540c=>_0xf5540c['id']===_0x123ce7);_0x2d35c0?(document['getElementById'](_0x1615f3(0x236))[_0x1615f3(0x3d2)][_0x1615f3(0x536)]('hidden'),handleGenerateParallelFromBank(_0x2d35c0)):showMessage(_0x1615f3(0x642));});}),_0x8f347a[_0x3d35b8(0x2b5)](_0x3d35b8(0x453))[_0x3d35b8(0x793)](_0x11af84=>{const _0x2a80ea=_0x3d35b8;_0x11af84[_0x2a80ea(0x30f)](_0x2a80ea(0x707),_0x517b9d=>{const _0x321acb=_0x2a80ea;_0x517b9d[_0x321acb(0x6e6)]();const _0x3558fd=_0x11af84[_0x321acb(0x13e)]['id'],_0x122ae7=allQuizzesGlobal[_0x321acb(0x6d0)](_0x2d606a=>_0x2d606a['id']===_0x3558fd);_0x122ae7?(document[_0x321acb(0x3bf)](_0x321acb(0x236))[_0x321acb(0x3d2)]['add']('hidden'),startPresentation(_0x122ae7)):showMessage(_0x321acb(0x642));});});}async function handleCompareResults(_0x135082,_0x36488a){const _0x4fef95=_0xe477c6,_0x1091a4=document[_0x4fef95(0x3bf)](_0x4fef95(0x398)),_0x623cba=document['getElementById'](_0x4fef95(0x35d)),_0x223e60=document[_0x4fef95(0x3bf)](_0x4fef95(0x670));document[_0x4fef95(0x3bf)](_0x4fef95(0x255))['classList'][_0x4fef95(0x536)]('active'),document[_0x4fef95(0x3bf)](_0x4fef95(0x40d))[_0x4fef95(0x3d2)]['remove'](_0x4fef95(0x6a7)),_0x623cba[_0x4fef95(0x3d2)][_0x4fef95(0x73a)](_0x4fef95(0x212)),_0x223e60[_0x4fef95(0x3d2)][_0x4fef95(0x536)](_0x4fef95(0x212)),_0x623cba['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x223e60[_0x4fef95(0x5cf)]='',_0x1091a4[_0x4fef95(0x3d2)][_0x4fef95(0x73a)]('hidden');try{const _0x49f45c=doc(db,_0x4fef95(0x30a)+appId+_0x4fef95(0x607),_0x135082),_0x5c4904=await getDoc(_0x49f45c);if(!_0x5c4904[_0x4fef95(0x487)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x5d3b2c=_0x5c4904[_0x4fef95(0x701)](),_0x559ad8=_0x5d3b2c[_0x4fef95(0x541)][_0x4fef95(0x330)],_0x90a5e=collection(db,_0x4fef95(0x30a)+appId+_0x4fef95(0x475)+_0x36488a+'/submissions'),_0x1f27a0=collection(db,_0x4fef95(0x30a)+appId+_0x4fef95(0x475)+_0x135082+_0x4fef95(0x213)),[_0x3cdd01,_0x177d42]=await Promise[_0x4fef95(0x1ca)]([getDocs(_0x90a5e),getDocs(_0x1f27a0)]),_0x427e6b=_0x3cdd01[_0x4fef95(0x4ec)][_0x4fef95(0x571)](_0xa5fe22=>_0xa5fe22[_0x4fef95(0x701)]()),_0x18b12c=_0x177d42[_0x4fef95(0x4ec)][_0x4fef95(0x571)](_0x16ba15=>_0x16ba15[_0x4fef95(0x701)]()),_0x4410a7=_0x427e6b['map'](_0x2fde9a=>_0x2fde9a[_0x4fef95(0x648)]),_0x4d0b0a=_0x18b12c[_0x4fef95(0x571)](_0x691f67=>_0x691f67[_0x4fef95(0x648)]),_0x5b9569=calculateMeanAndStdDev(_0x4410a7),_0x28cf1b=calculateMeanAndStdDev(_0x4d0b0a),_0x1d0798=_0x5b9569[_0x4fef95(0x3ec)],_0x552579=_0x28cf1b[_0x4fef95(0x3ec)],_0x52fee5=_0x552579-_0x1d0798;let _0x17e310=_0x4fef95(0x2f4)+_0x1d0798[_0x4fef95(0x227)](0x2)+_0x4fef95(0x735)+_0x552579[_0x4fef95(0x227)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x52fee5>=0x0?_0x4fef95(0x2d9):_0x4fef95(0x616))+_0x4fef95(0x575)+(_0x52fee5>=0x0?_0x4fef95(0x339):_0x4fef95(0x404))+_0x4fef95(0x3fb)+(_0x52fee5>=0x0?_0x4fef95(0x2b9):_0x4fef95(0x208))+'\x22>'+(_0x52fee5>=0x0?'+':'')+_0x52fee5[_0x4fef95(0x227)](0x2)+_0x4fef95(0x32b);_0x623cba[_0x4fef95(0x5cf)]=_0x17e310;const _0x31980d=document[_0x4fef95(0x3bf)]('comparison-chart')[_0x4fef95(0x484)]('2d');if(chartInstances[_0x4fef95(0x644)])chartInstances[_0x4fef95(0x644)][_0x4fef95(0x45c)]();chartInstances[_0x4fef95(0x644)]=new Chart(_0x31980d,{'type':_0x4fef95(0x1a9),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x4fef95(0x128),'data':[_0x1d0798],'backgroundColor':_0x4fef95(0x4c0)},{'label':_0x4fef95(0x448),'data':[_0x552579],'backgroundColor':_0x4fef95(0x632)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x559ad8}}}});const _0x16a68b=currentProjectData[_0x4fef95(0x3e1)]||[],_0x5df1d9=_0x16a68b['map'](_0x17996d=>{const _0x38f5d6=_0x4fef95,_0x4d67c0=_0x427e6b[_0x38f5d6(0x6d0)](_0x47976c=>_0x47976c[_0x38f5d6(0x169)]===_0x17996d),_0x55f0f7=_0x18b12c[_0x38f5d6(0x6d0)](_0x53040b=>_0x53040b[_0x38f5d6(0x169)]===_0x17996d),_0x1643f1=_0x4d67c0?_0x4d67c0[_0x38f5d6(0x648)]:null,_0x1d487a=_0x55f0f7?_0x55f0f7[_0x38f5d6(0x648)]:null,_0x552aab=_0x1643f1!==null&&_0x1d487a!==null?_0x1d487a-_0x1643f1:null,_0x1e7790=_0x1643f1!==null?calculateZScore(_0x1643f1,_0x5b9569[_0x38f5d6(0x3ec)],_0x5b9569[_0x38f5d6(0x1ee)]):null,_0x435421=_0x1d487a!==null?calculateZScore(_0x1d487a,_0x28cf1b[_0x38f5d6(0x3ec)],_0x28cf1b[_0x38f5d6(0x1ee)]):null,_0x425afc=_0x1e7790!==null?calculateTScore(_0x1e7790):null,_0x5cf561=_0x435421!==null?calculateTScore(_0x435421):null,_0x266d76=_0x425afc!==null&&_0x5cf561!==null?_0x5cf561-_0x425afc:null;return{'name':_0x17996d,'preScore':_0x1643f1,'postScore':_0x1d487a,'gain':_0x552aab,'preTScore':_0x425afc,'postTScore':_0x5cf561,'tGain':_0x266d76};});renderIndividualComparisonTable(_0x5df1d9,_0x223e60);}catch(_0x1fc7d0){console[_0x4fef95(0x268)](_0x4fef95(0x316),_0x1fc7d0),_0x623cba[_0x4fef95(0x5cf)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function renderIndividualComparisonTable(_0x2183e5,_0x233c11){const _0x1635bc=_0xe477c6;_0x2183e5[_0x1635bc(0x1dc)]((_0x25609e,_0x1fc64f)=>(_0x1fc64f[_0x1635bc(0x76d)]??-Infinity)-(_0x25609e[_0x1635bc(0x76d)]??-Infinity));let _0x237ffa=_0x1635bc(0x643);_0x2183e5[_0x1635bc(0x330)]===0x0?_0x237ffa+=_0x1635bc(0x285):_0x2183e5[_0x1635bc(0x793)]((_0x1927c1,_0x4f17c7)=>{const _0x20fabd=_0x1635bc;let _0xc1d92f='-';if(_0x1927c1[_0x20fabd(0x49d)]!==null){const _0x2a77e1=_0x1927c1[_0x20fabd(0x49d)]>0x0?_0x20fabd(0x374):_0x1927c1['gain']<0x0?'text-red-600':_0x20fabd(0x1cf),_0x12e800=_0x1927c1[_0x20fabd(0x49d)]>0x0?'+':'';_0xc1d92f=_0x20fabd(0x628)+_0x2a77e1+'\x22>'+_0x12e800+_0x1927c1[_0x20fabd(0x49d)]+'</span>';}let _0x3a34f5='-';if(_0x1927c1['tGain']!==null){const _0x1d7204=_0x1927c1[_0x20fabd(0x76d)]>0x0?'text-green-600':_0x1927c1[_0x20fabd(0x76d)]<0x0?'text-red-600':_0x20fabd(0x1cf),_0x5d8551=_0x1927c1['tGain']>0x0?'+':'';_0x3a34f5='<span\x20class=\x22font-bold\x20'+_0x1d7204+'\x22>'+_0x5d8551+_0x1927c1[_0x20fabd(0x76d)][_0x20fabd(0x227)](0x2)+_0x20fabd(0x568);}_0x237ffa+=_0x20fabd(0x67e)+(_0x4f17c7+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x1927c1[_0x20fabd(0x5ca)]+_0x20fabd(0x2fe)+(_0x1927c1[_0x20fabd(0x59d)]??'-')+_0x20fabd(0x5ab)+(_0x1927c1['postScore']??'-')+_0x20fabd(0x2fe)+_0xc1d92f+_0x20fabd(0x175)+(_0x1927c1[_0x20fabd(0x302)]?.[_0x20fabd(0x227)](0x2)??'-')+_0x20fabd(0x11d)+(_0x1927c1[_0x20fabd(0x3b0)]?.['toFixed'](0x2)??'-')+_0x20fabd(0x2fe)+_0x3a34f5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x237ffa+=_0x1635bc(0x334),_0x233c11[_0x1635bc(0x5cf)]=_0x237ffa;}function setupComparisonModalTabs(){const _0x5066fe=_0xe477c6,_0x47fc7e=document['getElementById']('comparison-overall-tab'),_0x31401a=document[_0x5066fe(0x3bf)](_0x5066fe(0x40d)),_0x1684ac=document['getElementById']('comparison-overall-content'),_0x5e967c=document[_0x5066fe(0x3bf)](_0x5066fe(0x670));_0x47fc7e[_0x5066fe(0x30f)]('click',()=>{const _0x3c9925=_0x5066fe;_0x47fc7e[_0x3c9925(0x3d2)]['add'](_0x3c9925(0x6a7)),_0x31401a[_0x3c9925(0x3d2)][_0x3c9925(0x73a)]('active'),_0x1684ac[_0x3c9925(0x3d2)]['remove'](_0x3c9925(0x212)),_0x5e967c[_0x3c9925(0x3d2)][_0x3c9925(0x536)]('hidden');}),_0x31401a['addEventListener']('click',()=>{const _0x44faeb=_0x5066fe;_0x31401a[_0x44faeb(0x3d2)][_0x44faeb(0x536)](_0x44faeb(0x6a7)),_0x47fc7e[_0x44faeb(0x3d2)][_0x44faeb(0x73a)](_0x44faeb(0x6a7)),_0x5e967c['classList']['remove'](_0x44faeb(0x212)),_0x1684ac['classList']['add'](_0x44faeb(0x212));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x220c79=''){const _0x26cb58=_0xe477c6,_0x38404a=document[_0x26cb58(0x3bf)]('global-quiz-list'),_0x31e692=_0x220c79['toLowerCase']()['trim'](),_0x5b9447=allQuizzesGlobal[_0x26cb58(0x571)](_0x3f764f=>({..._0x3f764f,'projectName':allProjects[_0x26cb58(0x6d0)](_0x3357b6=>_0x3357b6['id']===_0x3f764f[_0x26cb58(0x3f8)])?.[_0x26cb58(0x2a1)]||_0x3f764f[_0x26cb58(0x3f8)]}))['filter'](_0x19bebb=>(_0x19bebb[_0x26cb58(0x500)]||'')[_0x26cb58(0x173)]()[_0x26cb58(0x554)](_0x31e692)||(_0x19bebb[_0x26cb58(0x2a1)]||'')['toLowerCase']()['includes'](_0x31e692));document[_0x26cb58(0x3bf)](_0x26cb58(0x4f9))['textContent']='('+_0x5b9447[_0x26cb58(0x330)]+'\x20ชุด)',_0x38404a[_0x26cb58(0x5cf)]=_0x5b9447[_0x26cb58(0x330)]?_0x5b9447['map'](_0x163ee2=>_0x26cb58(0x148)+_0x163ee2['id']+_0x26cb58(0x75f)+(_0x163ee2['topic']||_0x26cb58(0x465))+_0x26cb58(0x401)+(_0x163ee2[_0x26cb58(0x541)]?.[_0x26cb58(0x330)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x163ee2[_0x26cb58(0x2a1)]+_0x26cb58(0x5af))[_0x26cb58(0x47b)](''):_0x26cb58(0x763),selectedGlobalQuizId=null,document[_0x26cb58(0x3bf)](_0x26cb58(0x2fa))['disabled']=!![],_0x38404a['querySelectorAll'](_0x26cb58(0x531))[_0x26cb58(0x793)](_0x140ede=>{const _0x2cd24f=_0x26cb58;_0x140ede[_0x2cd24f(0x30f)](_0x2cd24f(0x707),()=>{const _0x4883f0=_0x2cd24f;selectedGlobalQuizId=_0x140ede['dataset']['id'],_0x38404a[_0x4883f0(0x2b5)]('button')[_0x4883f0(0x793)](_0x4e5e6c=>_0x4e5e6c[_0x4883f0(0x3d2)][_0x4883f0(0x73a)](_0x4883f0(0x3ac),_0x4883f0(0x22e),'ring-purple-400')),_0x140ede[_0x4883f0(0x3d2)][_0x4883f0(0x536)](_0x4883f0(0x3ac),_0x4883f0(0x22e),'ring-purple-400'),document[_0x4883f0(0x3bf)](_0x4883f0(0x2fa))[_0x4883f0(0x688)]=![];});});}function listenForLiveGameUpdates(){const _0x1b7c7a=_0xe477c6;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x9d75b8=doc(db,_0x1b7c7a(0x30a)+appId+_0x1b7c7a(0x559),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x9d75b8,_0x2d3cbe=>{const _0x2a1f8c=_0x1b7c7a;if(!_0x2d3cbe[_0x2a1f8c(0x487)]()){showMessage(_0x2a1f8c(0x784)),showView(currentMode);return;}const _0x4691c5=_0x2d3cbe['data']();!currentQuizData&&_0x4691c5['quizId']&&((async()=>{const _0xb8e6d7=_0x2a1f8c;try{const _0x45aa7c=doc(db,_0xb8e6d7(0x30a)+appId+_0xb8e6d7(0x607),_0x4691c5[_0xb8e6d7(0x630)]),_0x366cbc=await getDoc(_0x45aa7c);_0x366cbc[_0xb8e6d7(0x487)]()&&(currentQuizData={'id':_0x366cbc['id'],..._0x366cbc['data']()});}catch(_0x1fd610){console[_0xb8e6d7(0x268)](_0xb8e6d7(0x32a),_0x1fd610);}})());switch(_0x4691c5[_0x2a1f8c(0x342)]){case _0x2a1f8c(0x3a6):if(currentMode===_0x2a1f8c(0x2bf)){const _0x26d372=_0x4691c5[_0x2a1f8c(0x49c)]?Object[_0x2a1f8c(0x184)](_0x4691c5[_0x2a1f8c(0x49c)]):[];document[_0x2a1f8c(0x3bf)](_0x2a1f8c(0x153))[_0x2a1f8c(0x13f)]=_0x26d372['length'],document[_0x2a1f8c(0x3bf)]('player-list-lobby')['innerHTML']=_0x26d372[_0x2a1f8c(0x571)](_0x359bb5=>_0x2a1f8c(0x215)+_0x359bb5+_0x2a1f8c(0x568))[_0x2a1f8c(0x47b)]('');const _0x4b7e3f=document[_0x2a1f8c(0x3bf)]('start-game-btn');_0x4b7e3f&&(_0x4b7e3f[_0x2a1f8c(0x688)]=_0x26d372[_0x2a1f8c(0x330)]===0x0);}else showView(_0x2a1f8c(0x546)),liveGameView[_0x2a1f8c(0x5cf)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x2a1f8c(0x4b3);break;case _0x2a1f8c(0x6f0):const _0x4c26b4=_0x4691c5['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x2a1f8c(0x541)][_0x4c26b4]){const _0x430ba6=currentQuizData['questions'][_0x4c26b4],_0x795ed3=currentQuizData[_0x2a1f8c(0x541)][_0x2a1f8c(0x330)];if(currentMode===_0x2a1f8c(0x2bf)){lastRenderedAdminQuestionIndex!==_0x4c26b4&&(showAdminLiveQuestionView(_0x430ba6,_0x4c26b4,_0x795ed3),lastRenderedAdminQuestionIndex=_0x4c26b4);const _0x55173b=document[_0x2a1f8c(0x3bf)]('answer-counter');if(_0x55173b&&_0x4691c5[_0x2a1f8c(0x49c)]){const _0x8b7cd6=Object['keys'](_0x4691c5[_0x2a1f8c(0x49c)])[_0x2a1f8c(0x330)],_0x4eee0c=Object[_0x2a1f8c(0x372)](_0x4691c5[_0x2a1f8c(0x49c)])[_0x2a1f8c(0x5b5)](_0x3cedca=>_0x3cedca[_0x2a1f8c(0x38c)]===!![])[_0x2a1f8c(0x330)];_0x55173b[_0x2a1f8c(0x13f)]=_0x4eee0c+'/'+_0x8b7cd6,_0x8b7cd6>0x0&&_0x4eee0c===_0x8b7cd6&&_0x4691c5[_0x2a1f8c(0x5f4)]!==_0x2a1f8c(0x412)&&revealAnswerForAdmin(_0x4c26b4,_0x795ed3);}}else{const _0x5241c0=_0x4691c5[_0x2a1f8c(0x49c)][currentStudentName];if(_0x4691c5[_0x2a1f8c(0x5f4)]===_0x2a1f8c(0x412)){if(_0x5241c0['answeredCurrentQuestion']){const _0x2d9915=_0x5241c0[_0x2a1f8c(0x6bc)],_0x2f3522=_0x5241c0[_0x2a1f8c(0x636)]||0x0,_0x4eeb63=_0x2d9915?_0x2a1f8c(0x17f)+_0x2f3522+'\x20คะแนน':_0x2a1f8c(0x477);liveGameView['innerHTML']=_0x2a1f8c(0x523)+_0x4eeb63+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView[_0x2a1f8c(0x5cf)]=_0x2a1f8c(0x68c);}else!_0x5241c0['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x430ba6,_0x4c26b4,_0x795ed3);}}break;case _0x2a1f8c(0x364):showPodiumView(_0x4691c5['players']);break;}});}async function authenticateUser(){const _0x12b81f=_0xe477c6;try{typeof __initial_auth_token!==_0x12b81f(0x50b)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x10cfcb){console[_0x12b81f(0x268)]('Authentication\x20failed:',_0x10cfcb),showMessage(_0x12b81f(0x6b2));}}function showView(_0x65821b){const _0x3f9c4c=_0xe477c6,_0x4258ae=[_0x3f9c4c(0x65f),_0x3f9c4c(0x518),_0x3f9c4c(0x7b5),_0x3f9c4c(0x33a),_0x3f9c4c(0x511),'live-game-view'];_0x4258ae[_0x3f9c4c(0x793)](_0x2a4b77=>document[_0x3f9c4c(0x3bf)](_0x2a4b77)?.[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)](_0x3f9c4c(0x212)));if(_0x65821b===_0x3f9c4c(0x597))adminView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)]('hidden'),projectDashboardView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)](_0x3f9c4c(0x212));else{if(_0x65821b===_0x3f9c4c(0x57b))studentView['classList'][_0x3f9c4c(0x73a)](_0x3f9c4c(0x212)),studentInitialView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)]('hidden'),studentNameSelectionView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)]('hidden'),studentQuizArea[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)](_0x3f9c4c(0x212)),studentResultArea[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)]('hidden'),studentReadingArea[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)]('hidden'),studentJoinGameView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x536)](_0x3f9c4c(0x212));else{if(_0x65821b===_0x3f9c4c(0x640))adminView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)](_0x3f9c4c(0x212)),projectDetailView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)]('hidden');else{if(_0x65821b===_0x3f9c4c(0x547))adminView[_0x3f9c4c(0x3d2)]['remove'](_0x3f9c4c(0x212)),quizResultsView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)](_0x3f9c4c(0x212));else _0x65821b==='live-game'&&liveGameView[_0x3f9c4c(0x3d2)][_0x3f9c4c(0x73a)](_0x3f9c4c(0x212));}}}}function showJoinGameView(){const _0x3ac1c4=_0xe477c6;studentInitialView[_0x3ac1c4(0x3d2)][_0x3ac1c4(0x536)]('hidden'),studentJoinGameView[_0x3ac1c4(0x3d2)][_0x3ac1c4(0x73a)](_0x3ac1c4(0x212));}function setupEventListeners(){const _0x2ac344=_0xe477c6;document[_0x2ac344(0x3bf)](_0x2ac344(0x77d))['addEventListener'](_0x2ac344(0x707),handleModeSwitch),document['getElementById'](_0x2ac344(0x535))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleAddCustomMathTopic),document[_0x2ac344(0x3bf)](_0x2ac344(0x729))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleSelectAllTopics),document[_0x2ac344(0x3bf)](_0x2ac344(0x245))[_0x2ac344(0x30f)]('click',handleDeselectAllTopics),document[_0x2ac344(0x3bf)](_0x2ac344(0x47d))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x31fb19=_0x2ac344;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x31fb19(0x597));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x2ad))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x2a3a8a=_0x2ac344;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2a3a8a(0x640));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x6fd))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x6bc1a2=_0x2ac344;showView(_0x6bc1a2(0x597));}),document[_0x2ac344(0x3bf)]('modal-close-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>messageModal['classList'][_0x2ac344(0x536)]('hidden')),document[_0x2ac344(0x3bf)](_0x2ac344(0x6e8))['addEventListener'](_0x2ac344(0x707),()=>createProjectModal['classList'][_0x2ac344(0x73a)](_0x2ac344(0x212))),document['getElementById'](_0x2ac344(0x594))[_0x2ac344(0x30f)]('click',()=>createProjectModal[_0x2ac344(0x3d2)]['add'](_0x2ac344(0x212))),document[_0x2ac344(0x3bf)](_0x2ac344(0x553))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>adminPasswordModal['classList'][_0x2ac344(0x536)](_0x2ac344(0x212))),document[_0x2ac344(0x3bf)]('confirm-admin-login-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),handleAdminLogin),document['getElementById'](_0x2ac344(0x2a2))[_0x2ac344(0x30f)](_0x2ac344(0x58f),_0x370330=>{const _0x3ea61a=_0x2ac344;if(_0x370330[_0x3ea61a(0x6a0)]===_0x3ea61a(0x298))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')['addEventListener'](_0x2ac344(0x707),()=>{const _0x259624=_0x2ac344;confirmationModal[_0x259624(0x3d2)][_0x259624(0x536)](_0x259624(0x212)),confirmAction=null;}),document[_0x2ac344(0x3bf)](_0x2ac344(0x543))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x20b09d=_0x2ac344;confirmAction&&confirmAction(),confirmationModal[_0x20b09d(0x3d2)][_0x20b09d(0x536)]('hidden'),confirmAction=null;}),document[_0x2ac344(0x3bf)](_0x2ac344(0x63b))[_0x2ac344(0x30f)]('click',()=>renameQuizModal[_0x2ac344(0x3d2)][_0x2ac344(0x536)](_0x2ac344(0x212))),document[_0x2ac344(0x3bf)](_0x2ac344(0x54e))[_0x2ac344(0x30f)](_0x2ac344(0x707),confirmRenameQuiz),document[_0x2ac344(0x3bf)](_0x2ac344(0x5e9))[_0x2ac344(0x30f)]('click',()=>moveQuizModal[_0x2ac344(0x3d2)][_0x2ac344(0x536)]('hidden')),document[_0x2ac344(0x3bf)](_0x2ac344(0x692))[_0x2ac344(0x30f)](_0x2ac344(0x707),confirmMoveQuiz),document[_0x2ac344(0x3bf)](_0x2ac344(0x19f))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>quizSettingsModal['classList'][_0x2ac344(0x536)](_0x2ac344(0x212))),document[_0x2ac344(0x3bf)](_0x2ac344(0x378))[_0x2ac344(0x30f)]('click',confirmQuizSettings),document[_0x2ac344(0x3bf)](_0x2ac344(0x1af))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>quizStatusModal[_0x2ac344(0x3d2)]['add'](_0x2ac344(0x212))),document[_0x2ac344(0x3bf)](_0x2ac344(0x2c2))[_0x2ac344(0x30f)]('click',confirmQuizStatus);const _0x490179=document[_0x2ac344(0x3bf)](_0x2ac344(0x21e));document['getElementById'](_0x2ac344(0x29f))[_0x2ac344(0x30f)]('click',()=>{const _0x1d78b5=_0x2ac344;_0x490179[_0x1d78b5(0x3d2)][_0x1d78b5(0x536)](_0x1d78b5(0x212));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x6ae))[_0x2ac344(0x30f)](_0x2ac344(0x707),async()=>{const _0x16e200=_0x2ac344,_0x55a8fd=allQuizzes[_0x16e200(0x6d0)](_0x23cdff=>_0x23cdff['id']===actionTargetId);_0x55a8fd?(currentQuizData=_0x55a8fd,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x490179['classList'][_0x16e200(0x536)](_0x16e200(0x212));}),document['getElementById'](_0x2ac344(0x10c))['addEventListener']('click',async()=>{const _0x1615f9=_0x2ac344,_0x490cbb=allQuizzes[_0x1615f9(0x6d0)](_0x25e75b=>_0x25e75b['id']===actionTargetId);_0x490cbb?(currentQuizData=_0x490cbb,exportQuizAsTutorPDF()):showMessage(_0x1615f9(0x642)),_0x490179[_0x1615f9(0x3d2)][_0x1615f9(0x536)](_0x1615f9(0x212));}),document[_0x2ac344(0x3bf)]('open-global-live-btn')[_0x2ac344(0x30f)]('click',openGlobalLiveModal),document[_0x2ac344(0x3bf)]('cancel-global-live-btn')[_0x2ac344(0x30f)]('click',()=>{const _0x4e9d38=_0x2ac344;document[_0x4e9d38(0x3bf)](_0x4e9d38(0x317))[_0x4e9d38(0x3d2)][_0x4e9d38(0x536)](_0x4e9d38(0x212)),selectedGlobalQuizId=null;}),document[_0x2ac344(0x3bf)](_0x2ac344(0x5dd))[_0x2ac344(0x30f)](_0x2ac344(0x4a7),_0xad4a3a=>renderGlobalQuizList(_0xad4a3a['target'][_0x2ac344(0x21f)])),document[_0x2ac344(0x3bf)](_0x2ac344(0x2fa))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x5ad554=_0x2ac344,_0x5bb242=selectedGlobalQuizId;if(!_0x5bb242)return;document['getElementById'](_0x5ad554(0x317))[_0x5ad554(0x3d2)][_0x5ad554(0x536)](_0x5ad554(0x212)),handleStartLiveRace(_0x5bb242);}),document[_0x2ac344(0x3bf)](_0x2ac344(0x56d))[_0x2ac344(0x30f)]('input',renderProjects),document['getElementById'](_0x2ac344(0x4ad))[_0x2ac344(0x30f)]('change',renderProjects),document[_0x2ac344(0x3bf)](_0x2ac344(0x428))[_0x2ac344(0x30f)](_0x2ac344(0x4a7),renderQuizzes),manageTab[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>switchProjectTab('manage')),resultsTab[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>switchProjectTab(_0x2ac344(0x28f))),leaderboardTab[_0x2ac344(0x30f)]('click',()=>switchProjectTab('leaderboard')),document['getElementById'](_0x2ac344(0x5c4))[_0x2ac344(0x30f)]('click',()=>switchQuizDetailTab(_0x2ac344(0x1ae))),document[_0x2ac344(0x3bf)]('scores-tab-btn')[_0x2ac344(0x30f)]('click',()=>switchQuizDetailTab(_0x2ac344(0x2ab))),document[_0x2ac344(0x3bf)](_0x2ac344(0x7b9))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>switchQuizDetailTab(_0x2ac344(0x3e7))),document['getElementById'](_0x2ac344(0x58c))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleAnalyzeClass),generateWorksheetBtn[_0x2ac344(0x30f)](_0x2ac344(0x707),generateWorksheet);const _0x5d898e=document[_0x2ac344(0x3bf)](_0x2ac344(0x6e3)),_0x2314b2=document[_0x2ac344(0x3bf)](_0x2ac344(0x6a3)),_0x542d78=document[_0x2ac344(0x3bf)](_0x2ac344(0x5df)),_0x2f2c9b=document[_0x2ac344(0x3bf)]('blueprint-input-area'),_0x1af8ff=document['getElementById'](_0x2ac344(0x4d4)),_0x14674d=document[_0x2ac344(0x3bf)](_0x2ac344(0x3d5));topicTab[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x4e36d8=_0x2ac344;topicTab[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)](_0x4e36d8(0x6a7)),textTab[_0x4e36d8(0x3d2)][_0x4e36d8(0x73a)](_0x4e36d8(0x6a7)),fileTab[_0x4e36d8(0x3d2)]['remove'](_0x4e36d8(0x6a7)),worksheetTab[_0x4e36d8(0x3d2)]['remove'](_0x4e36d8(0x6a7));if(_0x5d898e)_0x5d898e['classList'][_0x4e36d8(0x73a)](_0x4e36d8(0x6a7));if(_0x542d78)_0x542d78[_0x4e36d8(0x3d2)][_0x4e36d8(0x73a)](_0x4e36d8(0x6a7));if(_0x1af8ff)_0x1af8ff[_0x4e36d8(0x3d2)][_0x4e36d8(0x73a)](_0x4e36d8(0x6a7));topicInputArea[_0x4e36d8(0x3d2)][_0x4e36d8(0x73a)](_0x4e36d8(0x212)),textInputArea[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)]('hidden'),fileInputArea[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)](_0x4e36d8(0x212)),worksheetInputArea[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)]('hidden');if(_0x2314b2)_0x2314b2[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)]('hidden');if(_0x2f2c9b)_0x2f2c9b[_0x4e36d8(0x3d2)][_0x4e36d8(0x536)](_0x4e36d8(0x212));if(_0x14674d)_0x14674d['classList']['add'](_0x4e36d8(0x212));}),textTab[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x586d20=_0x2ac344;textTab[_0x586d20(0x3d2)][_0x586d20(0x536)]('active'),topicTab[_0x586d20(0x3d2)][_0x586d20(0x73a)](_0x586d20(0x6a7)),fileTab['classList'][_0x586d20(0x73a)](_0x586d20(0x6a7)),worksheetTab[_0x586d20(0x3d2)][_0x586d20(0x73a)]('active');if(_0x5d898e)_0x5d898e[_0x586d20(0x3d2)][_0x586d20(0x73a)](_0x586d20(0x6a7));if(_0x542d78)_0x542d78[_0x586d20(0x3d2)][_0x586d20(0x73a)](_0x586d20(0x6a7));if(_0x1af8ff)_0x1af8ff[_0x586d20(0x3d2)][_0x586d20(0x73a)](_0x586d20(0x6a7));textInputArea[_0x586d20(0x3d2)]['remove'](_0x586d20(0x212)),topicInputArea[_0x586d20(0x3d2)][_0x586d20(0x536)](_0x586d20(0x212)),fileInputArea[_0x586d20(0x3d2)][_0x586d20(0x536)](_0x586d20(0x212)),worksheetInputArea[_0x586d20(0x3d2)][_0x586d20(0x536)]('hidden');if(_0x2314b2)_0x2314b2['classList']['add']('hidden');if(_0x2f2c9b)_0x2f2c9b[_0x586d20(0x3d2)][_0x586d20(0x536)]('hidden');if(_0x14674d)_0x14674d[_0x586d20(0x3d2)][_0x586d20(0x536)]('hidden');}),fileTab['addEventListener'](_0x2ac344(0x707),()=>{const _0x3dd5a2=_0x2ac344;fileTab[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x536)](_0x3dd5a2(0x6a7)),topicTab[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x73a)](_0x3dd5a2(0x6a7)),textTab[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x73a)](_0x3dd5a2(0x6a7)),worksheetTab[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x73a)](_0x3dd5a2(0x6a7));if(_0x5d898e)_0x5d898e[_0x3dd5a2(0x3d2)]['remove'](_0x3dd5a2(0x6a7));if(_0x542d78)_0x542d78[_0x3dd5a2(0x3d2)]['remove'](_0x3dd5a2(0x6a7));if(_0x1af8ff)_0x1af8ff[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x73a)]('active');fileInputArea[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x73a)](_0x3dd5a2(0x212)),topicInputArea['classList'][_0x3dd5a2(0x536)]('hidden'),textInputArea['classList']['add']('hidden'),worksheetInputArea[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x536)](_0x3dd5a2(0x212));if(_0x2314b2)_0x2314b2[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x536)](_0x3dd5a2(0x212));if(_0x2f2c9b)_0x2f2c9b[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x536)](_0x3dd5a2(0x212));if(_0x14674d)_0x14674d[_0x3dd5a2(0x3d2)][_0x3dd5a2(0x536)](_0x3dd5a2(0x212));}),worksheetTab['addEventListener'](_0x2ac344(0x707),()=>{const _0x1a4394=_0x2ac344;worksheetTab[_0x1a4394(0x3d2)][_0x1a4394(0x536)]('active'),topicTab[_0x1a4394(0x3d2)][_0x1a4394(0x73a)](_0x1a4394(0x6a7)),textTab[_0x1a4394(0x3d2)][_0x1a4394(0x73a)](_0x1a4394(0x6a7)),fileTab['classList'][_0x1a4394(0x73a)]('active');if(_0x5d898e)_0x5d898e[_0x1a4394(0x3d2)][_0x1a4394(0x73a)](_0x1a4394(0x6a7));if(_0x542d78)_0x542d78[_0x1a4394(0x3d2)]['remove'](_0x1a4394(0x6a7));if(_0x1af8ff)_0x1af8ff['classList'][_0x1a4394(0x73a)](_0x1a4394(0x6a7));worksheetInputArea[_0x1a4394(0x3d2)][_0x1a4394(0x73a)](_0x1a4394(0x212)),topicInputArea['classList'][_0x1a4394(0x536)](_0x1a4394(0x212)),textInputArea['classList']['add'](_0x1a4394(0x212)),fileInputArea[_0x1a4394(0x3d2)][_0x1a4394(0x536)]('hidden');if(_0x2314b2)_0x2314b2[_0x1a4394(0x3d2)]['add'](_0x1a4394(0x212));if(_0x2f2c9b)_0x2f2c9b['classList'][_0x1a4394(0x536)](_0x1a4394(0x212));if(_0x14674d)_0x14674d['classList']['add'](_0x1a4394(0x212));});const _0x201625=document[_0x2ac344(0x3bf)](_0x2ac344(0x410)),_0x35716d=document[_0x2ac344(0x3bf)]('bank-input-area');_0x201625&&_0x201625[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x462ab2=_0x2ac344;topicTab[_0x462ab2(0x3d2)][_0x462ab2(0x73a)](_0x462ab2(0x6a7)),textTab[_0x462ab2(0x3d2)][_0x462ab2(0x73a)](_0x462ab2(0x6a7)),fileTab['classList'][_0x462ab2(0x73a)]('active'),worksheetTab['classList']['remove'](_0x462ab2(0x6a7));if(_0x5d898e)_0x5d898e['classList'][_0x462ab2(0x73a)]('active');if(_0x542d78)_0x542d78[_0x462ab2(0x3d2)]['remove']('active');if(_0x1af8ff)_0x1af8ff['classList'][_0x462ab2(0x73a)](_0x462ab2(0x6a7));_0x201625[_0x462ab2(0x3d2)][_0x462ab2(0x536)](_0x462ab2(0x6a7)),topicInputArea[_0x462ab2(0x3d2)][_0x462ab2(0x536)]('hidden'),textInputArea['classList']['add'](_0x462ab2(0x212)),fileInputArea[_0x462ab2(0x3d2)][_0x462ab2(0x536)](_0x462ab2(0x212)),worksheetInputArea[_0x462ab2(0x3d2)][_0x462ab2(0x536)]('hidden');if(_0x2314b2)_0x2314b2[_0x462ab2(0x3d2)][_0x462ab2(0x536)](_0x462ab2(0x212));if(_0x2f2c9b)_0x2f2c9b[_0x462ab2(0x3d2)][_0x462ab2(0x536)]('hidden');if(_0x14674d)_0x14674d['classList']['add'](_0x462ab2(0x212));_0x35716d['classList']['remove'](_0x462ab2(0x212)),displayQuestionBank();});_0x5d898e&&(_0x5d898e[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x4542e6=_0x2ac344;_0x5d898e[_0x4542e6(0x3d2)][_0x4542e6(0x536)]('active'),topicTab[_0x4542e6(0x3d2)][_0x4542e6(0x73a)](_0x4542e6(0x6a7)),textTab['classList']['remove'](_0x4542e6(0x6a7)),fileTab[_0x4542e6(0x3d2)][_0x4542e6(0x73a)](_0x4542e6(0x6a7)),worksheetTab[_0x4542e6(0x3d2)][_0x4542e6(0x73a)](_0x4542e6(0x6a7));if(_0x542d78)_0x542d78[_0x4542e6(0x3d2)][_0x4542e6(0x73a)](_0x4542e6(0x6a7));if(_0x1af8ff)_0x1af8ff['classList']['remove'](_0x4542e6(0x6a7));_0x2314b2['classList'][_0x4542e6(0x73a)]('hidden'),topicInputArea[_0x4542e6(0x3d2)][_0x4542e6(0x536)]('hidden'),textInputArea['classList'][_0x4542e6(0x536)](_0x4542e6(0x212)),fileInputArea['classList'][_0x4542e6(0x536)](_0x4542e6(0x212)),worksheetInputArea[_0x4542e6(0x3d2)][_0x4542e6(0x536)]('hidden');if(_0x2f2c9b)_0x2f2c9b[_0x4542e6(0x3d2)][_0x4542e6(0x536)](_0x4542e6(0x212));if(_0x14674d)_0x14674d[_0x4542e6(0x3d2)][_0x4542e6(0x536)](_0x4542e6(0x212));}),document['getElementById'](_0x2ac344(0x42f))['addEventListener'](_0x2ac344(0x707),handleGenerateFromLink));_0x542d78&&_0x542d78[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x28dd04=_0x2ac344;_0x542d78[_0x28dd04(0x3d2)][_0x28dd04(0x536)](_0x28dd04(0x6a7)),topicTab[_0x28dd04(0x3d2)]['remove'](_0x28dd04(0x6a7)),textTab[_0x28dd04(0x3d2)][_0x28dd04(0x73a)](_0x28dd04(0x6a7)),fileTab[_0x28dd04(0x3d2)]['remove'](_0x28dd04(0x6a7)),worksheetTab[_0x28dd04(0x3d2)][_0x28dd04(0x73a)](_0x28dd04(0x6a7));if(_0x5d898e)_0x5d898e[_0x28dd04(0x3d2)][_0x28dd04(0x73a)](_0x28dd04(0x6a7));if(_0x201625)_0x201625[_0x28dd04(0x3d2)]['remove'](_0x28dd04(0x6a7));if(_0x1af8ff)_0x1af8ff[_0x28dd04(0x3d2)][_0x28dd04(0x73a)](_0x28dd04(0x6a7));_0x2f2c9b[_0x28dd04(0x3d2)][_0x28dd04(0x73a)](_0x28dd04(0x212)),topicInputArea[_0x28dd04(0x3d2)][_0x28dd04(0x536)](_0x28dd04(0x212)),textInputArea[_0x28dd04(0x3d2)][_0x28dd04(0x536)](_0x28dd04(0x212)),fileInputArea[_0x28dd04(0x3d2)]['add'](_0x28dd04(0x212)),worksheetInputArea[_0x28dd04(0x3d2)][_0x28dd04(0x536)](_0x28dd04(0x212));if(_0x2314b2)_0x2314b2[_0x28dd04(0x3d2)][_0x28dd04(0x536)](_0x28dd04(0x212));if(_0x35716d)_0x35716d[_0x28dd04(0x3d2)][_0x28dd04(0x536)]('hidden');if(_0x14674d)_0x14674d[_0x28dd04(0x3d2)]['add'](_0x28dd04(0x212));});_0x1af8ff&&_0x1af8ff['addEventListener'](_0x2ac344(0x707),()=>{const _0x472a61=_0x2ac344;_0x1af8ff[_0x472a61(0x3d2)]['add'](_0x472a61(0x6a7)),topicTab[_0x472a61(0x3d2)]['remove'](_0x472a61(0x6a7)),textTab[_0x472a61(0x3d2)][_0x472a61(0x73a)](_0x472a61(0x6a7)),fileTab[_0x472a61(0x3d2)][_0x472a61(0x73a)](_0x472a61(0x6a7)),worksheetTab['classList'][_0x472a61(0x73a)](_0x472a61(0x6a7));if(_0x5d898e)_0x5d898e[_0x472a61(0x3d2)][_0x472a61(0x73a)]('active');if(_0x542d78)_0x542d78[_0x472a61(0x3d2)][_0x472a61(0x73a)](_0x472a61(0x6a7));if(_0x201625)_0x201625['classList'][_0x472a61(0x73a)](_0x472a61(0x6a7));_0x14674d[_0x472a61(0x3d2)][_0x472a61(0x73a)](_0x472a61(0x212)),topicInputArea['classList'][_0x472a61(0x536)]('hidden'),textInputArea[_0x472a61(0x3d2)][_0x472a61(0x536)](_0x472a61(0x212)),fileInputArea[_0x472a61(0x3d2)]['add']('hidden'),worksheetInputArea[_0x472a61(0x3d2)]['add'](_0x472a61(0x212));if(_0x2314b2)_0x2314b2['classList'][_0x472a61(0x536)]('hidden');if(_0x2f2c9b)_0x2f2c9b[_0x472a61(0x3d2)][_0x472a61(0x536)]('hidden');if(_0x35716d)_0x35716d[_0x472a61(0x3d2)][_0x472a61(0x536)](_0x472a61(0x212));});const _0x154c56=document[_0x2ac344(0x3bf)](_0x2ac344(0x1e0)),_0x361493=document[_0x2ac344(0x3bf)](_0x2ac344(0x7ae));_0x154c56&&_0x154c56[_0x2ac344(0x30f)](_0x2ac344(0x395),_0x16faf6=>{const _0x36efa5=_0x2ac344;_0x16faf6['target']['files'][_0x36efa5(0x330)]>0x0?_0x361493['disabled']=![]:_0x361493[_0x36efa5(0x688)]=!![];});_0x361493&&_0x361493[_0x2ac344(0x30f)](_0x2ac344(0x707),handleGenerateFromBlueprint);const _0x573dc2=document[_0x2ac344(0x3bf)](_0x2ac344(0x721)),_0xddefd4=document[_0x2ac344(0x3bf)]('generate-from-parallel-test-btn');_0x573dc2&&_0x573dc2[_0x2ac344(0x30f)]('change',_0x30ddcd=>{const _0x279de0=_0x2ac344;_0xddefd4[_0x279de0(0x688)]=_0x30ddcd[_0x279de0(0x4eb)][_0x279de0(0x355)]['length']===0x0;});_0xddefd4&&_0xddefd4[_0x2ac344(0x30f)]('click',handleGenerateParallelTest);loadQuizBtn[_0x2ac344(0x30f)](_0x2ac344(0x707),handleLoadQuiz),startQuizBtn[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0xfe8dbc=_0x2ac344,_0x1d3294=document[_0xfe8dbc(0x3bf)](_0xfe8dbc(0x68a));currentStudentName=_0x1d3294[_0xfe8dbc(0x21f)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0xfe8dbc(0x3d2)][_0xfe8dbc(0x536)](_0xfe8dbc(0x212)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),showJoinGameView),document['getElementById'](_0x2ac344(0x6d7))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleJoinLiveGame),document[_0x2ac344(0x3bf)](_0x2ac344(0x24b))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>showView(_0x2ac344(0x57b)));const _0x33f5e8=()=>{const _0x18fb89=_0x2ac344,_0x3b0d08=document['getElementById'](_0x18fb89(0x276))[_0x18fb89(0x13f)]['replace'](/[^a-z0-9]/gi,'_')[_0x18fb89(0x173)]();return _0x18fb89(0x5ff)+(_0x3b0d08||_0x18fb89(0x6dc));},_0x648c87=document[_0x2ac344(0x3bf)](_0x2ac344(0x229));_0x648c87&&_0x648c87[_0x2ac344(0x30f)](_0x2ac344(0x4a7),_0x1cf2d2=>{const _0x106d0a=_0x2ac344,_0x245376=_0x1cf2d2[_0x106d0a(0x4eb)]['value'][_0x106d0a(0x173)]()[_0x106d0a(0x503)](),_0x4835c0=document['getElementById'](_0x106d0a(0x52d)),_0x575454=_0x4835c0[_0x106d0a(0x2b5)](_0x106d0a(0x6cc));_0x575454[_0x106d0a(0x793)](_0x189c77=>{const _0x1caf2f=_0x106d0a;let _0x20e076=![];const _0x474eaa=_0x189c77[_0x1caf2f(0x2b5)](_0x1caf2f(0x4ce));_0x474eaa[_0x1caf2f(0x793)](_0x46f481=>{const _0x1d9229=_0x1caf2f,_0x12fb43=_0x46f481[_0x1d9229(0x179)]('.topic-name-display')['textContent'][_0x1d9229(0x173)]();_0x12fb43[_0x1d9229(0x554)](_0x245376)?(_0x46f481[_0x1d9229(0x4a2)][_0x1d9229(0x3b6)]=_0x1d9229(0x211),_0x20e076=!![]):_0x46f481[_0x1d9229(0x4a2)][_0x1d9229(0x3b6)]=_0x1d9229(0x406);}),_0x20e076?_0x189c77[_0x1caf2f(0x4a2)]['display']='block':_0x189c77['style'][_0x1caf2f(0x3b6)]=_0x1caf2f(0x406);});});document[_0x2ac344(0x3bf)](_0x2ac344(0x492))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsImage('results-table-container',_0x33f5e8())),document[_0x2ac344(0x3bf)](_0x2ac344(0x4fd))[_0x2ac344(0x30f)]('click',()=>exportTableAsPDF(_0x2ac344(0x332),_0x33f5e8())),document[_0x2ac344(0x3bf)](_0x2ac344(0x25f))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsWord(_0x2ac344(0x203),_0x33f5e8())),document[_0x2ac344(0x3bf)](_0x2ac344(0x1dd))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsExcel('results-table',_0x33f5e8()));const _0x229e29=()=>{const _0x2cc8a7=_0x2ac344,_0x5a8f26=document[_0x2cc8a7(0x3bf)](_0x2cc8a7(0x276))[_0x2cc8a7(0x13f)][_0x2cc8a7(0x3ef)](/[^a-z0-9]/gi,'_')[_0x2cc8a7(0x173)]();return _0x2cc8a7(0x2e8)+(_0x5a8f26||_0x2cc8a7(0x6dc));};document[_0x2ac344(0x3bf)]('export-leaderboard-image-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsImage(_0x2ac344(0x57d),_0x229e29())),document[_0x2ac344(0x3bf)](_0x2ac344(0x6da))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsPDF(_0x2ac344(0x46f),_0x229e29())),document[_0x2ac344(0x3bf)](_0x2ac344(0x6c2))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x229e29())),document['getElementById'](_0x2ac344(0x142))['addEventListener'](_0x2ac344(0x707),()=>exportTableAsExcel(_0x2ac344(0x46f),_0x229e29())),projectQuizzesList[_0x2ac344(0x30f)](_0x2ac344(0x707),async _0x73c800=>{const _0x2e2515=_0x2ac344,_0x492b55=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x4db));if(_0x492b55){const _0x297163=_0x492b55['dataset'][_0x2e2515(0x630)],_0x5a94be=allQuizzes['find'](_0x221f5a=>_0x221f5a['id']===_0x297163);if(_0x5a94be&&_0x5a94be[_0x2e2515(0x39b)]){const _0x31cd9d=_0x5a94be[_0x2e2515(0x39b)],_0x4e9c7e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x5a94be[_0x2e2515(0x500)]+_0x2e2515(0x542)+_0x31cd9d[_0x2e2515(0x4f1)][_0x2e2515(0x571)](_0x5deb67=>_0x2e2515(0x6a1)+_0x5deb67+'</li>')[_0x2e2515(0x47b)]('')+_0x2e2515(0x481)+_0x31cd9d['teachingContent']+_0x2e2515(0x15e)+_0x31cd9d['practiceProblems'][_0x2e2515(0x571)](_0x4a39a7=>_0x2e2515(0x2b3)+_0x4a39a7[_0x2e2515(0x6f0)]+_0x2e2515(0x326)+_0x4a39a7[_0x2e2515(0x70e)]+_0x2e2515(0x462))[_0x2e2515(0x47b)]('')+_0x2e2515(0x702);document[_0x2e2515(0x3bf)](_0x2e2515(0x234))['textContent']=_0x2e2515(0x1a7)+_0x5a94be[_0x2e2515(0x500)],document[_0x2e2515(0x3bf)](_0x2e2515(0x794))['innerHTML']=_0x4e9c7e,document[_0x2e2515(0x3bf)](_0x2e2515(0x375))[_0x2e2515(0x3d2)]['remove'](_0x2e2515(0x212)),showConfirmation(_0x2e2515(0x1c9),()=>handleGenerateLessonPlan(_0x297163)),document[_0x2e2515(0x3bf)]('confirmation-modal')[_0x2e2515(0x179)]('h3')[_0x2e2515(0x13f)]=_0x2e2515(0x79a),document[_0x2e2515(0x3bf)](_0x2e2515(0x543))[_0x2e2515(0x13f)]=_0x2e2515(0x778);}else handleGenerateLessonPlan(_0x297163);return;}const _0x539366=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x1cb)),_0x526aa8=_0x73c800[_0x2e2515(0x4eb)]['closest']('.star-quiz-btn'),_0x5f2566=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)]('.delete-quiz-btn'),_0x92aa80=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x4e1)),_0x3a0f24=_0x73c800['target'][_0x2e2515(0x3e8)](_0x2e2515(0x4b1)),_0x441a81=_0x73c800['target'][_0x2e2515(0x3e8)](_0x2e2515(0x149)),_0x51ba1c=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)]('.rename-quiz-btn'),_0xb34cb8=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x67c)),_0x4c9015=_0x73c800['target'][_0x2e2515(0x3e8)](_0x2e2515(0x5d8)),_0x59b9ab=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x46e)),_0x137ad4=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x710)),_0xa97ce6=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x1a3)),_0x3ca26a=_0x73c800[_0x2e2515(0x4eb)][_0x2e2515(0x3e8)](_0x2e2515(0x427)),_0x23dfdf=_0x73c800[_0x2e2515(0x4eb)]['closest'](_0x2e2515(0x5fc)),_0x1d0cbc=_0x73c800['target'][_0x2e2515(0x3e8)](_0x2e2515(0x1eb));if(_0x539366){const _0x269473=_0x539366[_0x2e2515(0x13e)][_0x2e2515(0x630)],_0x31e857=_0x539366[_0x2e2515(0x13e)][_0x2e2515(0x348)];handleCompareResults(_0x269473,_0x31e857);}else{if(_0x1d0cbc){const _0x19930a=_0x1d0cbc[_0x2e2515(0x13e)][_0x2e2515(0x630)];actionTargetId=_0x19930a,document['getElementById'](_0x2e2515(0x21e))['classList'][_0x2e2515(0x73a)]('hidden');}else{if(_0x3ca26a){const _0x52364b=_0x3ca26a[_0x2e2515(0x13e)]['quizId'];handleOpenQuizEditor(_0x52364b);}else{if(_0x23dfdf){const _0x2594ba=_0x23dfdf[_0x2e2515(0x13e)][_0x2e2515(0x630)],_0x161553=allQuizzes[_0x2e2515(0x6d0)](_0x4036b3=>_0x4036b3['id']===_0x2594ba);_0x161553?handleGenerateParallelFromBank(_0x161553):showMessage(_0x2e2515(0x642));}else{if(_0x526aa8){const _0x13964f=_0x526aa8[_0x2e2515(0x13e)]['quizId'];handleToggleStarQuiz(_0x13964f);}else{if(_0xa97ce6){const _0xff4bd1=_0xa97ce6['dataset'][_0x2e2515(0x630)];handleStartLiveRace(_0xff4bd1);}else{if(_0x5f2566){const _0x564233=_0x5f2566[_0x2e2515(0x13e)][_0x2e2515(0x630)],_0xe01343=_0x5f2566[_0x2e2515(0x13e)][_0x2e2515(0x500)];showConfirmation(_0x2e2515(0x1f8)+_0xe01343+_0x2e2515(0x177),()=>handleDeleteQuiz(_0x564233));}else{if(_0x92aa80){const _0x189a6d=_0x92aa80['dataset'][_0x2e2515(0x630)];copyTextToClipboard(_0x189a6d,_0x2e2515(0x63a));}else{if(_0x3a0f24){const _0x3a116f=_0x3a0f24['dataset']['quizId'],_0x3f62af=doc(db,_0x2e2515(0x30a)+appId+_0x2e2515(0x607),_0x3a116f),_0x3e7431=await getDoc(_0x3f62af);if(_0x3e7431[_0x2e2515(0x487)]()){const _0x349662={'id':_0x3e7431['id'],..._0x3e7431[_0x2e2515(0x701)]()};startPresentation(_0x349662);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x441a81){const _0xf9a89a=_0x441a81['dataset'][_0x2e2515(0x630)],_0x66a499=doc(db,_0x2e2515(0x30a)+appId+_0x2e2515(0x607),_0xf9a89a),_0x4e3b50=await getDoc(_0x66a499);_0x4e3b50[_0x2e2515(0x487)]()?(currentQuizData={'id':_0x4e3b50['id'],..._0x4e3b50[_0x2e2515(0x701)]()},startAdminTest()):showMessage(_0x2e2515(0x642));}else{if(_0x51ba1c){const _0xdfc498=_0x51ba1c[_0x2e2515(0x13e)][_0x2e2515(0x630)],_0x42a86=_0x51ba1c[_0x2e2515(0x13e)][_0x2e2515(0x500)];handleRenameQuiz(_0xdfc498,_0x42a86);}else{if(_0xb34cb8){const _0x1eb258=_0xb34cb8['dataset'][_0x2e2515(0x630)];handleMoveQuiz(_0x1eb258);}else{if(_0x4c9015){const _0x255515=_0x4c9015[_0x2e2515(0x13e)][_0x2e2515(0x630)];handleQuizSettings(_0x255515);}else{if(_0x59b9ab){const _0x440a13=_0x59b9ab['dataset']['quizId'];handleQuizStatus(_0x440a13);}else{if(_0x137ad4){const _0x55756f=_0x137ad4[_0x2e2515(0x13e)][_0x2e2515(0x630)];handleDuplicateQuiz(_0x55756f);}}}}}}}}}}}}}}}}),document['getElementById'](_0x2ac344(0x46f))[_0x2ac344(0x179)](_0x2ac344(0x25e))[_0x2ac344(0x30f)](_0x2ac344(0x707),_0x44f554=>{const _0x33cee3=_0x2ac344,_0x4c1743=_0x44f554[_0x33cee3(0x4eb)][_0x33cee3(0x3e8)](_0x33cee3(0x384));if(!_0x4c1743||!_0x4c1743[_0x33cee3(0x13e)]['sort'])return;const _0x20c94f=_0x4c1743['dataset']['sort'];if(quizLeaderboardSortBy===_0x20c94f)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x33cee3(0x433)?'desc':_0x33cee3(0x433);else{quizLeaderboardSortBy=_0x20c94f;const _0x1c285f=[_0x33cee3(0x169)];quizLeaderboardSortOrder=_0x1c285f[_0x33cee3(0x554)](_0x20c94f)?_0x33cee3(0x433):_0x33cee3(0x5c8);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x2ac344(0x3bf)](_0x2ac344(0x6ba))['addEventListener']('click',closePresentation),document[_0x2ac344(0x3bf)]('prev-question-btn')[_0x2ac344(0x30f)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x4d7))['addEventListener'](_0x2ac344(0x707),()=>{const _0x6c5b69=_0x2ac344;currentQuizData[_0x6c5b69(0x541)]&&currentPresentationSlide<currentQuizData[_0x6c5b69(0x541)][_0x6c5b69(0x330)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2ac344(0x30f)]('fullscreenchange',()=>{const _0xa1175a=_0x2ac344;!document[_0xa1175a(0x37a)]&&(presentationModal[_0xa1175a(0x4a2)]['display']=_0xa1175a(0x406));}),document['getElementById'](_0x2ac344(0x452))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleDeleteAllStudents),studentList[_0x2ac344(0x30f)](_0x2ac344(0x707),_0x7969a5=>{const _0x268239=_0x2ac344,_0x2c789d=_0x7969a5['target'][_0x268239(0x3e8)]('.delete-student-btn');if(_0x2c789d){const _0x1c8feb=_0x2c789d[_0x268239(0x13e)][_0x268239(0x169)];handleDeleteStudent(_0x1c8feb);}}),document[_0x2ac344(0x3bf)](_0x2ac344(0x47e))[_0x2ac344(0x30f)]('click',handleGenerateFromFileClick),fileUploadInput[_0x2ac344(0x30f)](_0x2ac344(0x395),_0x147186=>{const _0x3a57fe=_0x2ac344,_0xefd14c=_0x147186[_0x3a57fe(0x4eb)][_0x3a57fe(0x355)][0x0],_0x222975=document[_0x3a57fe(0x3bf)]('generate-from-file-btn');_0xefd14c?(selectedFile=_0xefd14c,_0x222975['disabled']=![]):(selectedFile=null,_0x222975[_0x3a57fe(0x688)]=!![]);}),document[_0x2ac344(0x3bf)](_0x2ac344(0x430))['addEventListener'](_0x2ac344(0x395),_0x4299b2=>{const _0x22db91=_0x2ac344,_0x5228ef=document['getElementById'](_0x22db91(0x1fa)),_0x5286eb=document[_0x22db91(0x3bf)](_0x22db91(0x57f)),_0x5b2440=document[_0x22db91(0x3bf)](_0x22db91(0x46c));_0x4299b2[_0x22db91(0x4eb)][_0x22db91(0x21f)]===_0x22db91(0x406)?_0x5228ef[_0x22db91(0x3d2)][_0x22db91(0x536)](_0x22db91(0x212)):(_0x5228ef[_0x22db91(0x3d2)][_0x22db91(0x73a)](_0x22db91(0x212)),_0x4299b2[_0x22db91(0x4eb)][_0x22db91(0x21f)]==='whole_quiz'?(_0x5286eb[_0x22db91(0x13f)]=_0x22db91(0x525),_0x5b2440[_0x22db91(0x21f)]='10'):(_0x5286eb['textContent']=_0x22db91(0x59f),_0x5b2440['value']='30'));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x314))[_0x2ac344(0x30f)](_0x2ac344(0x395),_0x47c191=>{const _0xa7e4cf=_0x2ac344,_0x418e0f=document[_0xa7e4cf(0x3bf)]('num-choices-container'),_0x53e961=_0x47c191['target'][_0xa7e4cf(0x21f)],_0xfb2a17=document[_0xa7e4cf(0x179)](_0xa7e4cf(0x15f)),_0x4e0c13=document['getElementById'](_0xa7e4cf(0x308)),_0xd5ac7d=document[_0xa7e4cf(0x3bf)](_0xa7e4cf(0x286));_0x53e961===_0xa7e4cf(0x40c)?_0xfb2a17['textContent']=_0xa7e4cf(0x5f2):_0xfb2a17[_0xa7e4cf(0x13f)]=_0xa7e4cf(0x1a1),_0x53e961==='multiple_choice'||_0x53e961===_0xa7e4cf(0x170)||_0x53e961===_0xa7e4cf(0x639)?_0x418e0f[_0xa7e4cf(0x3d2)]['remove'](_0xa7e4cf(0x212)):_0x418e0f['classList'][_0xa7e4cf(0x536)](_0xa7e4cf(0x212)),_0x4e0c13[_0xa7e4cf(0x17b)]=_0xd5ac7d[_0xa7e4cf(0x21f)];}),document[_0x2ac344(0x3bf)](_0x2ac344(0x286))[_0x2ac344(0x30f)](_0x2ac344(0x4a7),_0x24240e=>{const _0x1af59c=_0x2ac344;document[_0x1af59c(0x3bf)](_0x1af59c(0x308))[_0x1af59c(0x17b)]=_0x24240e[_0x1af59c(0x4eb)][_0x1af59c(0x21f)];}),document[_0x2ac344(0x3bf)](_0x2ac344(0x46b))[_0x2ac344(0x30f)](_0x2ac344(0x395),_0x385c5c=>{const _0x4135b6=_0x2ac344,_0xac4a0e=document[_0x4135b6(0x3bf)](_0x4135b6(0x37e)),_0x110e93=document[_0x4135b6(0x3bf)]('modal-timer-duration-label'),_0x5ec82a=document[_0x4135b6(0x3bf)](_0x4135b6(0x307));_0x385c5c[_0x4135b6(0x4eb)]['value']===_0x4135b6(0x406)?_0xac4a0e['classList'][_0x4135b6(0x536)](_0x4135b6(0x212)):(_0xac4a0e['classList'][_0x4135b6(0x73a)](_0x4135b6(0x212)),_0x385c5c['target'][_0x4135b6(0x21f)]===_0x4135b6(0x785)?_0x110e93['textContent']='ระยะเวลา\x20(นาที):':_0x110e93[_0x4135b6(0x13f)]=_0x4135b6(0x59f));}),document['getElementById'](_0x2ac344(0x260))['addEventListener'](_0x2ac344(0x707),()=>{const _0x274e0a=_0x2ac344;document[_0x274e0a(0x3bf)]('quiz-editor-modal')[_0x274e0a(0x3d2)][_0x274e0a(0x536)](_0x274e0a(0x212));}),document[_0x2ac344(0x3bf)]('cancel-quiz-edits-btn-footer')['addEventListener'](_0x2ac344(0x707),()=>{const _0x4b193c=_0x2ac344;document[_0x4b193c(0x3bf)](_0x4b193c(0x730))[_0x4b193c(0x3d2)][_0x4b193c(0x536)](_0x4b193c(0x212));}),document[_0x2ac344(0x3bf)]('save-quiz-edits-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x4ed5ac=_0x2ac344;document[_0x4ed5ac(0x3bf)]('quiz-editor-modal')[_0x4ed5ac(0x3d2)][_0x4ed5ac(0x536)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x2ac344(0x3bf)](_0x2ac344(0x472))[_0x2ac344(0x30f)](_0x2ac344(0x707),handleAutoFixLatex);const _0x1c081c=document[_0x2ac344(0x3bf)]('quiz-editor-questions-container');_0x1c081c&&_0x1c081c[_0x2ac344(0x30f)](_0x2ac344(0x707),_0x4407a4=>{const _0x18bae1=_0x2ac344,_0x51e892=_0x4407a4['target'][_0x18bae1(0x3e8)]('.regenerate-question-editor-btn');if(_0x51e892){const _0x28d647=_0x51e892[_0x18bae1(0x3e8)](_0x18bae1(0x116)),_0x529b13=parseInt(_0x28d647[_0x18bae1(0x13e)][_0x18bae1(0x2ac)],0xa);handleRegenerateQuestionInEditor(_0x529b13);}});document['getElementById'](_0x2ac344(0x2f7))[_0x2ac344(0x30f)](_0x2ac344(0x707),openQuizBankModal),document[_0x2ac344(0x3bf)]('cancel-quiz-bank-btn')[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x429932=_0x2ac344;document[_0x429932(0x3bf)](_0x429932(0x236))[_0x429932(0x3d2)][_0x429932(0x536)](_0x429932(0x212));}),document[_0x2ac344(0x3bf)]('bank-quiz-search-input')[_0x2ac344(0x30f)](_0x2ac344(0x4a7),_0x210f4f=>renderQuizBankList(_0x210f4f['target']['value']));const _0x4a6549=document[_0x2ac344(0x3bf)](_0x2ac344(0x52d));if(_0x4a6549){let _0x5e7683=null;_0x4a6549[_0x2ac344(0x30f)](_0x2ac344(0x707),_0x3d45c1=>{const _0x2aba93=_0x2ac344,_0x50f1d5=_0x3d45c1['target'],_0x44a225=_0x50f1d5[_0x2aba93(0x3e8)]('.edit-custom-topic-btn'),_0x5dcb79=_0x50f1d5[_0x2aba93(0x3e8)](_0x2aba93(0x2ce)),_0x1611a4=_0x50f1d5[_0x2aba93(0x3e8)](_0x2aba93(0x2c7)),_0x18ab44=_0x50f1d5[_0x2aba93(0x3e8)](_0x2aba93(0x4d3));if(_0x5dcb79){_0x3d45c1['preventDefault']();const _0x330319=_0x5dcb79['dataset']['id'],_0x420040=_0x5dcb79[_0x2aba93(0x3e8)](_0x2aba93(0x540))['querySelector']('.topic-name-display')['textContent'];showConfirmation(_0x2aba93(0x357)+_0x420040+'\x22?',()=>handleDeleteCustomTopic(_0x330319));}else{if(_0x44a225){_0x3d45c1['preventDefault']();_0x5e7683&&toggleTopicEditMode(_0x5e7683,![]);const _0x3cfc00=_0x44a225[_0x2aba93(0x3e8)](_0x2aba93(0x3a3));_0x5e7683=_0x3cfc00,toggleTopicEditMode(_0x3cfc00,!![]);}else{if(_0x1611a4){_0x3d45c1[_0x2aba93(0x77e)]();const _0x3c3b28=_0x1611a4[_0x2aba93(0x13e)]['id'],_0x37d2b4=_0x1611a4['closest']('[data-topic-container-id]'),_0x519081=_0x37d2b4[_0x2aba93(0x179)](_0x2aba93(0x4b6))[_0x2aba93(0x21f)];handleUpdateCustomTopic(_0x3c3b28,_0x519081),_0x5e7683=null;}else{if(_0x18ab44){_0x3d45c1['preventDefault']();const _0x1dc662=_0x18ab44[_0x2aba93(0x3e8)](_0x2aba93(0x3a3));toggleTopicEditMode(_0x1dc662,![]),_0x5e7683=null;}}}}}),document[_0x2ac344(0x3bf)](_0x2ac344(0x1a4))['addEventListener'](_0x2ac344(0x707),()=>{const _0x1ae6a5=_0x2ac344;document[_0x1ae6a5(0x3bf)]('lesson-plan-modal')['classList'][_0x1ae6a5(0x536)](_0x1ae6a5(0x212));}),document[_0x2ac344(0x3bf)](_0x2ac344(0x719))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x5164dc=_0x2ac344;document[_0x5164dc(0x3bf)](_0x5164dc(0x375))['classList'][_0x5164dc(0x536)](_0x5164dc(0x212));}),document['getElementById'](_0x2ac344(0x7a4))['addEventListener'](_0x2ac344(0x707),handleExportLessonPDF);}document[_0x2ac344(0x3bf)](_0x2ac344(0x783))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x59f2c9=_0x2ac344;document['getElementById'](_0x59f2c9(0x398))[_0x59f2c9(0x3d2)][_0x59f2c9(0x536)](_0x59f2c9(0x212));}),document['getElementById'](_0x2ac344(0x340))[_0x2ac344(0x30f)](_0x2ac344(0x707),()=>{const _0x20bc15=_0x2ac344;document['getElementById'](_0x20bc15(0x398))[_0x20bc15(0x3d2)][_0x20bc15(0x536)](_0x20bc15(0x212));}),setupComparisonModalTabs(),document['body']['addEventListener'](_0x2ac344(0x707),function(_0x2c8fd3){const _0x52b806=_0x2ac344;if(_0x2c8fd3[_0x52b806(0x4eb)][_0x52b806(0x3d2)][_0x52b806(0x3f5)]('practice-topic-btn')){const _0x4118df=unescape(_0x2c8fd3[_0x52b806(0x4eb)][_0x52b806(0x13e)][_0x52b806(0x500)]);startSkillPractice(_0x4118df);}});}async function startSkillPractice(_0x52ec20){const _0x59b698=_0xe477c6;studentResultArea['classList'][_0x59b698(0x536)]('hidden'),studentQuizArea[_0x59b698(0x5cf)]=_0x59b698(0x329),studentQuizArea[_0x59b698(0x3d2)]['remove'](_0x59b698(0x212));try{const _0x8fc658=await getStandardizedTopic(_0x52ec20);console[_0x59b698(0x352)]('คำถามดิบ:\x20\x22'+_0x52ec20+_0x59b698(0x520)+_0x8fc658+'\x22'),studentQuizArea[_0x59b698(0x179)]('p')[_0x59b698(0x13f)]=_0x59b698(0x206)+_0x8fc658+_0x59b698(0x4c7);const _0x484606=collection(db,_0x59b698(0x30a)+appId+_0x59b698(0x615)),_0x1307c9=query(_0x484606,where(_0x59b698(0x500),'==',_0x8fc658)),_0x29e7ea=await getDocs(_0x1307c9);if(_0x29e7ea['docs'][_0x59b698(0x330)]>=0x3){console[_0x59b698(0x352)](_0x59b698(0x698)+_0x29e7ea[_0x59b698(0x4ec)][_0x59b698(0x330)]+_0x59b698(0x5b0)+_0x8fc658+_0x59b698(0x42c));let _0x5b61e5=_0x29e7ea[_0x59b698(0x4ec)]['map'](_0x50a969=>_0x50a969[_0x59b698(0x701)]());shuffleArray(_0x5b61e5);const _0x3d5e33={'topic':_0x8fc658,'questions':_0x5b61e5[_0x59b698(0x3b5)](0x0,0x3)};displaySkillPracticeDrill(_0x3d5e33);}else{console[_0x59b698(0x352)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x8fc658+_0x59b698(0x74c));const _0x6ddfe8=await generatePracticeQuestions(_0x8fc658);await saveDrillToPracticeBank(_0x6ddfe8,_0x8fc658),displaySkillPracticeDrill(_0x6ddfe8);}}catch(_0x1adc45){console[_0x59b698(0x268)](_0x59b698(0x2f0),_0x1adc45),showMessage(_0x59b698(0x1e2)),studentQuizArea[_0x59b698(0x3d2)][_0x59b698(0x536)](_0x59b698(0x212)),studentResultArea[_0x59b698(0x3d2)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x4e9962,_0x1d0c68){const _0xd6239=_0xe477c6,_0x3fea03=collection(db,_0xd6239(0x30a)+appId+'/public/data/practiceBank'),_0x391a72=writeBatch(db);_0x4e9962[_0xd6239(0x541)][_0xd6239(0x793)](_0x5df5f9=>{const _0x28e756=_0xd6239,_0x9366d2=doc(_0x3fea03);_0x391a72['set'](_0x9366d2,{'topic':_0x1d0c68,'questionText':_0x5df5f9[_0x28e756(0x5a9)],'options':_0x5df5f9[_0x28e756(0x26e)],'correctAnswerIndex':_0x5df5f9[_0x28e756(0x47c)],'explanation':_0x5df5f9['explanation'],'createdAt':serverTimestamp()});});try{await _0x391a72[_0xd6239(0x1ed)](),console[_0xd6239(0x352)]('บันทึกคำถามใหม่\x20'+_0x4e9962[_0xd6239(0x541)][_0xd6239(0x330)]+_0xd6239(0x479));}catch(_0x399e97){console['error'](_0xd6239(0x657),_0x399e97);}}async function getStandardizedTopic(_0x130201){const _0x462636=_0xe477c6,_0x220b1b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x130201+_0x462636(0x5e1),_0x431a96={'type':'OBJECT','properties':{'standardTopic':{'type':_0x462636(0x77b)}},'required':[_0x462636(0x113)]};try{const _0x8858e4=await callAnalysisApi(_0x220b1b,_0x431a96);return _0x8858e4[_0x462636(0x113)];}catch(_0x2d3aca){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x2d3aca),_0x130201;}}async function generatePracticeQuestions(_0x3162fa){const _0x182769=_0xe477c6,_0x1463af=_0x182769(0x5a0)+_0x3162fa+_0x182769(0x288)+simpleMathPrompt+_0x182769(0x2e5),_0x4b1648={'type':'OBJECT','properties':{'questionText':{'type':_0x182769(0x77b)},'options':{'type':_0x182769(0x5ce),'items':{'type':_0x182769(0x77b)}},'correctAnswerIndex':{'type':_0x182769(0x3c7)},'explanation':{'type':_0x182769(0x77b)}},'required':[_0x182769(0x5a9),'options',_0x182769(0x47c),_0x182769(0x52b)]},_0x1589c6={'type':_0x182769(0x652),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x182769(0x5ce),'items':_0x4b1648}},'required':[_0x182769(0x500),_0x182769(0x541)]};return await callAnalysisApi(_0x1463af,_0x1589c6);}function displaySkillPracticeDrill(_0x1329c6){const _0x214ad2=_0xe477c6;let _0x2d3adc=0x0;const _0x1b07f5=_0x1329c6[_0x214ad2(0x541)],_0x1aeacd=()=>{const _0x9a4c63=_0x214ad2,_0x348d11=_0x1b07f5[_0x2d3adc],_0x471beb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x2d3adc+0x1)+_0x9a4c63(0x3f1)+_0x1b07f5[_0x9a4c63(0x330)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x348d11['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x348d11['options'][_0x9a4c63(0x571)]((_0xa06b13,_0x173bb5)=>_0x9a4c63(0x3ed)+_0x173bb5+_0x9a4c63(0x1df)+_0x173bb5+_0x9a4c63(0x42e)+_0x173bb5+'\x22>'+_0xa06b13+_0x9a4c63(0x6a2))[_0x9a4c63(0x47b)]('')+_0x9a4c63(0x3de);studentQuizArea[_0x9a4c63(0x5cf)]=_0x471beb;if(window['MathJax'])MathJax[_0x9a4c63(0x55a)]([studentQuizArea]);document[_0x9a4c63(0x3bf)]('hint-btn')[_0x9a4c63(0x30f)](_0x9a4c63(0x707),async()=>{const _0x5ba97a=_0x9a4c63,_0x1e66d5=await getHintForQuestion(_0x348d11[_0x5ba97a(0x5a9)]);showMessage(_0x1e66d5);}),document['getElementById'](_0x9a4c63(0x603))[_0x9a4c63(0x30f)](_0x9a4c63(0x707),()=>{const _0x1d46e6=_0x9a4c63,_0x163853=document[_0x1d46e6(0x179)](_0x1d46e6(0x5b4));if(!_0x163853){showMessage(_0x1d46e6(0x3ab));return;}const _0x20aeda=document[_0x1d46e6(0x3bf)](_0x1d46e6(0x6db)),_0x2a9fec=parseInt(_0x163853[_0x1d46e6(0x21f)])===_0x348d11[_0x1d46e6(0x47c)];_0x2a9fec?(_0x20aeda[_0x1d46e6(0x24d)]=_0x1d46e6(0x4fa),_0x20aeda[_0x1d46e6(0x5cf)]=_0x1d46e6(0x3df)+_0x348d11[_0x1d46e6(0x52b)]):(_0x20aeda[_0x1d46e6(0x24d)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x20aeda['innerHTML']=_0x1d46e6(0x41d)+_0x348d11[_0x1d46e6(0x52b)]);_0x20aeda[_0x1d46e6(0x3d2)][_0x1d46e6(0x73a)]('hidden');if(window[_0x1d46e6(0x736)])MathJax[_0x1d46e6(0x55a)]([_0x20aeda]);document[_0x1d46e6(0x3bf)](_0x1d46e6(0x603))['classList'][_0x1d46e6(0x536)](_0x1d46e6(0x212)),document[_0x1d46e6(0x3bf)](_0x1d46e6(0x38b))['classList'][_0x1d46e6(0x536)](_0x1d46e6(0x212)),document[_0x1d46e6(0x3bf)](_0x1d46e6(0x3fc))[_0x1d46e6(0x3d2)]['remove'](_0x1d46e6(0x212));}),document['getElementById']('next-drill-btn')[_0x9a4c63(0x30f)](_0x9a4c63(0x707),()=>{const _0x1ccabc=_0x9a4c63;_0x2d3adc++,_0x2d3adc<_0x1b07f5[_0x1ccabc(0x330)]?_0x1aeacd():(studentQuizArea[_0x1ccabc(0x5cf)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x1ccabc(0x3bf)](_0x1ccabc(0x65b))[_0x1ccabc(0x30f)](_0x1ccabc(0x707),()=>{const _0x102ce4=_0x1ccabc;studentQuizArea['classList'][_0x102ce4(0x536)](_0x102ce4(0x212)),studentResultArea[_0x102ce4(0x3d2)][_0x102ce4(0x73a)](_0x102ce4(0x212));}));});};_0x1aeacd();}async function getHintForQuestion(_0x4deda4){const _0x58647f=_0xe477c6,_0x34dcf2=_0x58647f(0x499)+_0x4deda4+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x2672e1={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x58647f(0x167)]};try{const _0x62c6da=await callAnalysisApi(_0x34dcf2,_0x2672e1);return _0x62c6da[_0x58647f(0x167)];}catch(_0x4c2c10){return console[_0x58647f(0x268)](_0x58647f(0x62e),_0x4c2c10),_0x58647f(0x72a);}}async function extractTextFromPdf(_0x3f893b){const _0x37f025=_0xe477c6;pdfjsLib[_0x37f025(0x61f)]['workerSrc']=_0x37f025(0x580);const _0x20e41f=await _0x3f893b[_0x37f025(0x188)](),_0x29a765=await pdfjsLib[_0x37f025(0x2bd)](_0x20e41f)[_0x37f025(0x114)],_0xb39445=_0x29a765[_0x37f025(0x42b)];let _0x1bac43='';for(let _0x1910e5=0x1;_0x1910e5<=_0xb39445;_0x1910e5++){const _0x3e2a8a=await _0x29a765[_0x37f025(0x118)](_0x1910e5),_0x4ee947=await _0x3e2a8a[_0x37f025(0x6af)](),_0x28d05d=_0x4ee947[_0x37f025(0x779)][_0x37f025(0x571)](_0x553f9c=>_0x553f9c[_0x37f025(0x14d)])['join']('\x20');_0x1bac43+=_0x28d05d+'\x0a\x0a';}return _0x1bac43;}async function handleGenerateFromBlueprint(){const _0x2b3c38=_0xe477c6,_0x4328e2=document[_0x2b3c38(0x3bf)]('blueprint-upload-input'),_0x149542=document['getElementById'](_0x2b3c38(0x6a5)),_0x413537=_0x4328e2[_0x2b3c38(0x355)][0x0],_0x1d1cfc=_0x149542[_0x2b3c38(0x355)]['length']>0x0?_0x149542['files'][0x0]:null;if(!_0x413537){showMessage(_0x2b3c38(0x2f5));return;}const _0x2e5a50=document[_0x2b3c38(0x3bf)](_0x2b3c38(0x714)),_0x552d1c=document[_0x2b3c38(0x3bf)](_0x2b3c38(0x4ea)),_0x490873=document[_0x2b3c38(0x3bf)](_0x2b3c38(0x742)),_0x585c7c=document[_0x2b3c38(0x3bf)](_0x2b3c38(0x7ae));_0x585c7c[_0x2b3c38(0x688)]=!![],document[_0x2b3c38(0x3bf)]('quiz-generation-area')['classList']['remove'](_0x2b3c38(0x212)),_0x490873[_0x2b3c38(0x5cf)]='',_0x2e5a50[_0x2b3c38(0x3d2)][_0x2b3c38(0x73a)](_0x2b3c38(0x212));try{_0x552d1c[_0x2b3c38(0x13f)]=_0x2b3c38(0x29e);const _0x56fa2e=await extractTextFromPdf(_0x413537);if(!_0x56fa2e[_0x2b3c38(0x503)]())throw new Error(_0x2b3c38(0x564));let _0x106482='';_0x1d1cfc&&(_0x552d1c['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x106482=await extractTextFromPdf(_0x1d1cfc));_0x552d1c[_0x2b3c38(0x13f)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x1c9dc9=document[_0x2b3c38(0x3bf)]('include-images-checkbox')[_0x2b3c38(0x720)],_0xf1dc20=_0x1c9dc9?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x4edd9c=_0x106482?_0x2b3c38(0x6df)+_0x106482+_0x2b3c38(0x337):'',_0xacecf3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x106482?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x2b3c38(0x162)+_0x56fa2e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4edd9c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf1dc20+_0x2b3c38(0x4cd)+simpleMathPrompt+_0x2b3c38(0x53c),_0x266825={'type':'OBJECT','properties':{'questionText':{'type':_0x2b3c38(0x77b)},'questionType':{'type':_0x2b3c38(0x77b),'enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':_0x2b3c38(0x77b)}},'correctAnswerIndex':{'type':_0x2b3c38(0x3c7)},'idealAnswer':{'type':_0x2b3c38(0x77b)},'explanation':{'type':_0x2b3c38(0x77b)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2b3c38(0x4f4),'explanation']},_0x1d58e0={'type':_0x2b3c38(0x652),'properties':{'topic':{'type':_0x2b3c38(0x77b)},'questions':{'type':_0x2b3c38(0x5ce),'items':_0x266825}},'required':['topic',_0x2b3c38(0x541)]};await handleApiCall(_0xacecf3,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x1d58e0);}catch(_0x4d3583){console[_0x2b3c38(0x268)]('Error\x20generating\x20from\x20blueprint:',_0x4d3583),showMessage(_0x2b3c38(0x250)+_0x4d3583[_0x2b3c38(0x156)]),_0x490873[_0x2b3c38(0x5cf)]=_0x2b3c38(0x369);}finally{_0x2e5a50[_0x2b3c38(0x3d2)][_0x2b3c38(0x536)](_0x2b3c38(0x212)),_0x585c7c[_0x2b3c38(0x688)]=![];}}async function handleGenerateParallelFromBank(_0x10170f){const _0x5c06cc=_0xe477c6,_0x226dee=document[_0x5c06cc(0x3bf)]('loader'),_0x25241c=document[_0x5c06cc(0x3bf)](_0x5c06cc(0x4ea)),_0x7bc922=document[_0x5c06cc(0x3bf)](_0x5c06cc(0x742)),_0x54d009=document[_0x5c06cc(0x3bf)](_0x5c06cc(0x247));showView(_0x5c06cc(0x640)),switchProjectTab(_0x5c06cc(0x14e)),_0x54d009[_0x5c06cc(0x3d2)]['remove'](_0x5c06cc(0x212)),_0x7bc922[_0x5c06cc(0x5cf)]='',_0x226dee['classList'][_0x5c06cc(0x73a)]('hidden'),_0x25241c[_0x5c06cc(0x13f)]=_0x5c06cc(0x44b)+_0x10170f[_0x5c06cc(0x500)]+'\x22...';try{const _0x533471=_0x10170f[_0x5c06cc(0x541)][_0x5c06cc(0x571)]((_0x461d46,_0x5629d8)=>{const _0x593a6f=_0x5c06cc;let _0x3d53d3=_0x5629d8+0x1+'.\x20'+(_0x461d46[_0x593a6f(0x5a9)]||_0x461d46[_0x593a6f(0x1bc)])+'\x0a';if(_0x461d46[_0x593a6f(0x26e)])_0x3d53d3+=_0x461d46[_0x593a6f(0x26e)][_0x593a6f(0x571)]((_0x4585cb,_0x16120a)=>'\x20\x20\x20-\x20'+(_0x16120a===_0x461d46[_0x593a6f(0x47c)]?_0x593a6f(0x29c):'')+'\x20'+_0x4585cb)[_0x593a6f(0x47b)]('\x0a');else{if(_0x461d46[_0x593a6f(0x6b4)])_0x3d53d3+=_0x593a6f(0x2a7)+_0x461d46[_0x593a6f(0x6b4)];else _0x461d46[_0x593a6f(0x786)]&&(_0x3d53d3+=_0x593a6f(0x2a7)+_0x461d46[_0x593a6f(0x786)]);}return _0x3d53d3;})[_0x5c06cc(0x47b)]('\x0a\x0a');_0x25241c[_0x5c06cc(0x13f)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x148603=_0x5c06cc(0x633)+_0x10170f['topic']+_0x5c06cc(0x654)+_0x533471+_0x5c06cc(0x394)+_0x10170f[_0x5c06cc(0x6c9)]+_0x5c06cc(0x34f)+simpleMathPrompt+_0x5c06cc(0x53c),_0x14f35e={'type':_0x5c06cc(0x652),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x5c06cc(0x2d3),_0x5c06cc(0x39f),_0x5c06cc(0x1be),_0x5c06cc(0x611)]},'options':{'type':_0x5c06cc(0x5ce),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5c06cc(0x3c7)},'idealAnswer':{'type':_0x5c06cc(0x77b)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x5c06cc(0x77b)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5c06cc(0x77b)},'imageCode':{'type':_0x5c06cc(0x77b)}},'required':[_0x5c06cc(0x4f4),_0x5c06cc(0x52b)]},_0x2c6dbe={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5c06cc(0x5ce),'items':_0x14f35e}},'required':[_0x5c06cc(0x500),'questions']};await handleApiCall(_0x148603,_0x5c06cc(0x696),_0x2c6dbe);}catch(_0x6d72ee){console[_0x5c06cc(0x268)](_0x5c06cc(0x293),_0x6d72ee),showMessage(_0x5c06cc(0x250)+_0x6d72ee[_0x5c06cc(0x156)]),_0x7bc922[_0x5c06cc(0x5cf)]=_0x5c06cc(0x5bd);}finally{_0x226dee[_0x5c06cc(0x3d2)][_0x5c06cc(0x536)](_0x5c06cc(0x212));}}async function handleGenerateParallelTest(){const _0x580c2a=_0xe477c6,_0x2c8653=document[_0x580c2a(0x3bf)](_0x580c2a(0x721)),_0x4d13a5=_0x2c8653[_0x580c2a(0x355)][0x0];if(!_0x4d13a5){showMessage(_0x580c2a(0x1d7));return;}const _0x4dedc7=document['getElementById'](_0x580c2a(0x714)),_0x3ca56e=document['getElementById'](_0x580c2a(0x4ea)),_0x4f72ad=document[_0x580c2a(0x3bf)](_0x580c2a(0x742)),_0x3299f0=document['getElementById'](_0x580c2a(0x252));_0x3299f0[_0x580c2a(0x688)]=!![],document[_0x580c2a(0x3bf)](_0x580c2a(0x247))['classList'][_0x580c2a(0x73a)](_0x580c2a(0x212)),_0x4f72ad['innerHTML']='',_0x4dedc7[_0x580c2a(0x3d2)][_0x580c2a(0x73a)](_0x580c2a(0x212)),_0x3ca56e[_0x580c2a(0x13f)]=_0x580c2a(0x49e);try{const _0x2f8c19=await extractTextFromPdf(_0x4d13a5);if(!_0x2f8c19[_0x580c2a(0x503)]())throw new Error(_0x580c2a(0x28a));_0x3ca56e['textContent']=_0x580c2a(0x4d5);const _0x2dc49b=document[_0x580c2a(0x3bf)](_0x580c2a(0x60f))[_0x580c2a(0x720)],_0x1a4acf=_0x2dc49b?_0x580c2a(0x73c):'',_0x48906b=_0x580c2a(0x6fc)+_0x2f8c19+_0x580c2a(0x6ee)+_0x1a4acf+_0x580c2a(0x4cd)+simpleMathPrompt+_0x580c2a(0x53c),_0x1ca374={'type':_0x580c2a(0x652),'properties':{'questionText':{'type':_0x580c2a(0x77b)},'questionType':{'type':'STRING','enum':[_0x580c2a(0x2d3),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x580c2a(0x77b)}},'correctAnswerIndex':{'type':_0x580c2a(0x3c7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x580c2a(0x77b)},'imageCode':{'type':_0x580c2a(0x77b)}},'required':[_0x580c2a(0x5a9),_0x580c2a(0x4f4),'explanation']},_0x508299={'type':_0x580c2a(0x652),'properties':{'topic':{'type':_0x580c2a(0x77b)},'questions':{'type':'ARRAY','items':_0x1ca374}},'required':[_0x580c2a(0x500),'questions']};await handleApiCall(_0x48906b,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x508299);}catch(_0x4d1454){console[_0x580c2a(0x268)](_0x580c2a(0x60e),_0x4d1454),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4d1454[_0x580c2a(0x156)]),_0x4f72ad[_0x580c2a(0x5cf)]=_0x580c2a(0x5bd);}finally{_0x4dedc7['classList'][_0x580c2a(0x536)](_0x580c2a(0x212)),_0x3299f0[_0x580c2a(0x688)]=![];}}async function handleRegenerateQuestionInEditor(_0x5c3dfc){const _0x3a5b96=_0xe477c6;if(currentEditingQuizData===null)return;const _0x44dc40=document[_0x3a5b96(0x179)]('.question-editor-item[data-q-index=\x22'+_0x5c3dfc+'\x22]');_0x44dc40&&(_0x44dc40['innerHTML']=_0x3a5b96(0x63e));const _0x5e87e7=currentEditingQuizData[_0x3a5b96(0x541)][_0x5c3dfc],_0x563b61=currentEditingQuizData[_0x3a5b96(0x500)],_0x2a6fa2=_0x5e87e7['questionType'],_0x27634f={'type':_0x3a5b96(0x652),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3a5b96(0x5ce),'items':{'type':_0x3a5b96(0x77b)}},'correctAnswerIndex':{'type':_0x3a5b96(0x3c7)},'explanation':{'type':'STRING'}},'required':[_0x3a5b96(0x5a9),_0x3a5b96(0x26e),_0x3a5b96(0x47c),_0x3a5b96(0x52b)]},_0x458b35={'type':'OBJECT','properties':{'questionText':{'type':_0x3a5b96(0x77b)},'idealAnswer':{'type':_0x3a5b96(0x77b)},'explanation':{'type':'STRING'}},'required':[_0x3a5b96(0x5a9),_0x3a5b96(0x6b4),_0x3a5b96(0x52b)]};let _0x3f2b9a,_0x292e6a='';_0x2a6fa2===_0x3a5b96(0x2d3)?(_0x3f2b9a=_0x27634f,_0x292e6a='แบบปรนัย\x204\x20ตัวเลือก'):(_0x3f2b9a=_0x458b35,_0x292e6a=_0x3a5b96(0x42a));const _0x388272=_0x3a5b96(0x693)+_0x563b61+_0x3a5b96(0x737)+_0x292e6a+_0x3a5b96(0x4ba)+(_0x5e87e7[_0x3a5b96(0x5a9)]||_0x5e87e7['stem'])+_0x3a5b96(0x50a)+simpleMathPrompt;try{const _0x5e207b=await callAnalysisApi(_0x388272,_0x3f2b9a);currentEditingQuizData[_0x3a5b96(0x541)][_0x5c3dfc]={..._0x5e87e7,..._0x5e207b},renderQuizEditor(currentEditingQuizData);}catch(_0x104d9c){console[_0x3a5b96(0x268)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x104d9c),showMessage(_0x3a5b96(0x4be)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x3a1823=_0xe477c6,_0x23c2a0=document['getElementById'](_0x3a1823(0x77d));currentMode==='student'?(currentMode=_0x3a1823(0x2bf),_0x23c2a0[_0x3a1823(0x5cf)]=_0x3a1823(0x79f),_0x23c2a0[_0x3a1823(0x441)]=_0x3a1823(0x2df),showView(_0x3a1823(0x597))):(currentMode=_0x3a1823(0x57b),_0x23c2a0[_0x3a1823(0x5cf)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x23c2a0['title']='สลับไปโหมดผู้ควบคุม',showView(_0x3a1823(0x57b)));}function handleAdminLogin(){const _0x503837=_0xe477c6,_0x2e0409=document[_0x503837(0x3bf)](_0x503837(0x2a2)),_0x12254b=document['getElementById']('password-error-msg');if(_0x2e0409['value']===_0x503837(0x6f2)){adminPasswordModal[_0x503837(0x3d2)][_0x503837(0x536)]('hidden'),_0x2e0409[_0x503837(0x21f)]='',_0x12254b['classList'][_0x503837(0x536)](_0x503837(0x212)),currentMode='admin';const _0x3a8c02=document[_0x503837(0x3bf)](_0x503837(0x77d));_0x3a8c02['innerHTML']=_0x503837(0x79f),_0x3a8c02['title']='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x12254b[_0x503837(0x3d2)]['remove'](_0x503837(0x212)),_0x2e0409['value']='';}function switchProjectTab(_0x4f5245){const _0x20a972=_0xe477c6;[_0x20a972(0x14e),_0x20a972(0x28f),'leaderboard']['forEach'](_0x36692a=>{const _0x4bc889=_0x20a972;document[_0x4bc889(0x3bf)](_0x36692a+'-tab')[_0x4bc889(0x3d2)]['remove'](_0x4bc889(0x6a7)),document[_0x4bc889(0x3bf)](_0x36692a+_0x4bc889(0x31a))['classList'][_0x4bc889(0x536)](_0x4bc889(0x212));}),document['getElementById'](_0x4f5245+_0x20a972(0x119))[_0x20a972(0x3d2)][_0x20a972(0x536)](_0x20a972(0x6a7)),document[_0x20a972(0x3bf)](_0x4f5245+_0x20a972(0x31a))[_0x20a972(0x3d2)]['remove'](_0x20a972(0x212));}function switchQuizDetailTab(_0x413687){const _0xa8fff7=_0xe477c6,_0x3ac956={'analytics':{'btn':_0xa8fff7(0x5c4),'content':_0xa8fff7(0x659)},'scores':{'btn':'scores-tab-btn','content':_0xa8fff7(0x1e5)},'leaderboard-quiz':{'btn':_0xa8fff7(0x7b9),'content':_0xa8fff7(0x507)}};for(const _0xbd12fb in _0x3ac956){document[_0xa8fff7(0x3bf)](_0x3ac956[_0xbd12fb]['btn'])[_0xa8fff7(0x3d2)][_0xa8fff7(0x73a)](_0xa8fff7(0x6a7)),document['getElementById'](_0x3ac956[_0xbd12fb]['content'])[_0xa8fff7(0x3d2)][_0xa8fff7(0x536)](_0xa8fff7(0x212));}document[_0xa8fff7(0x3bf)](_0x3ac956[_0x413687][_0xa8fff7(0x533)])[_0xa8fff7(0x3d2)][_0xa8fff7(0x536)](_0xa8fff7(0x6a7)),document[_0xa8fff7(0x3bf)](_0x3ac956[_0x413687]['content'])[_0xa8fff7(0x3d2)][_0xa8fff7(0x73a)]('hidden');}function showMessage(_0x4c645d){const _0x32a8f7=_0xe477c6;modalMessage[_0x32a8f7(0x13f)]=_0x4c645d,messageModal[_0x32a8f7(0x3d2)][_0x32a8f7(0x73a)](_0x32a8f7(0x212));}function showConfirmation(_0x33664e,_0x285a1e){const _0x4a39e5=_0xe477c6;document['getElementById'](_0x4a39e5(0x318))[_0x4a39e5(0x13f)]=_0x33664e,document[_0x4a39e5(0x3bf)]('confirmation-modal')[_0x4a39e5(0x179)]('h3')[_0x4a39e5(0x13f)]='ยืนยันการกระทำ',confirmAction=_0x285a1e,confirmationModal[_0x4a39e5(0x3d2)][_0x4a39e5(0x73a)](_0x4a39e5(0x212));}function listenForProjects(){const _0x4180d3=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x4180d3,_0x48ed32=>{const _0x5af288=_0x3c0d;allProjects=_0x48ed32[_0x5af288(0x4ec)][_0x5af288(0x571)](_0x35bcfc=>({'id':_0x35bcfc['id'],..._0x35bcfc[_0x5af288(0x701)]()})),renderProjects();},_0x4cd464=>{const _0x44b7a1=_0x3c0d;console[_0x44b7a1(0x268)](_0x44b7a1(0x232),_0x4cd464),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0xa780b8=_0xe477c6,_0x166737=document[_0xa780b8(0x3bf)](_0xa780b8(0x56d))['value'][_0xa780b8(0x173)](),_0x1cd851=document['getElementById']('project-sort-select')[_0xa780b8(0x21f)];let _0x58916c=allProjects[_0xa780b8(0x5b5)](_0x3cb5da=>_0x3cb5da[_0xa780b8(0x2a1)][_0xa780b8(0x173)]()[_0xa780b8(0x554)](_0x166737));_0x58916c[_0xa780b8(0x1dc)]((_0x54cef7,_0x270d46)=>{const _0x2c2075=_0xa780b8;switch(_0x1cd851){case'name_asc':return _0x54cef7['projectName'][_0x2c2075(0x440)](_0x270d46[_0x2c2075(0x2a1)],'th');case _0x2c2075(0x4c1):return _0x270d46['projectName']['localeCompare'](_0x54cef7[_0x2c2075(0x2a1)],'th');case _0x2c2075(0x567):return new Date(_0x54cef7[_0x2c2075(0x154)])-new Date(_0x270d46[_0x2c2075(0x154)]);case'date_desc':default:return new Date(_0x270d46[_0x2c2075(0x154)])-new Date(_0x54cef7[_0x2c2075(0x154)]);}});const _0x212923={};await Promise['all'](_0x58916c[_0xa780b8(0x571)](async _0x1cef83=>{const _0x3bc3ae=_0xa780b8,_0x509f44=query(collection(db,_0x3bc3ae(0x30a)+appId+_0x3bc3ae(0x607)),where(_0x3bc3ae(0x3f8),'==',_0x1cef83['id'])),_0x4e653c=await getDocs(_0x509f44);_0x212923[_0x1cef83['id']]=_0x4e653c[_0x3bc3ae(0x3ff)];}));let _0x36a39c='';starredQuizzes[_0xa780b8(0x330)]>0x0&&(_0x36a39c+=_0xa780b8(0x512)+starredQuizzes[_0xa780b8(0x330)]+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x58916c['forEach'](_0xd02724=>{const _0xbd30a4=_0xa780b8,_0x58ca7d=_0x212923[_0xd02724['id']]??0x0;_0x36a39c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22'+_0xd02724['id']+_0xbd30a4(0x280)+_0xd02724['projectName']+_0xbd30a4(0x723)+new Date(_0xd02724[_0xbd30a4(0x154)])[_0xbd30a4(0x74f)](_0xbd30a4(0x125))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x58ca7d+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd02724['id']+'\x22\x20data-name=\x22'+_0xd02724[_0xbd30a4(0x2a1)]+_0xbd30a4(0x26c);}),projectList[_0xa780b8(0x5cf)]=_0x36a39c,noProjectsMsg['classList'][_0xa780b8(0x773)]('hidden',_0x36a39c[_0xa780b8(0x330)]>0x0);}document['getElementById']('confirm-create-project-btn')['addEventListener']('click',async()=>{const _0x2fee13=_0xe477c6,_0x1dfa30=document[_0x2fee13(0x3bf)]('project-name-input'),_0x256d20=_0x1dfa30[_0x2fee13(0x21f)]['trim']();if(!_0x256d20){showMessage(_0x2fee13(0x210));return;}try{const _0x12ffc4=doc(collection(db,'artifacts/'+appId+_0x2fee13(0x396)));await setDoc(_0x12ffc4,{'projectName':_0x256d20,'students':[],'settings':{'resultsDisplay':_0x2fee13(0x539),'shuffleSetting':_0x2fee13(0x406),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x2fee13(0x406),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x2fee13(0x585)]()}),_0x1dfa30['value']='',createProjectModal['classList']['add'](_0x2fee13(0x212)),showMessage(_0x2fee13(0x52e));}catch(_0x4a1a81){console[_0x2fee13(0x268)](_0x2fee13(0x651),_0x4a1a81),showMessage(_0x2fee13(0x35a));}}),projectList[_0xe477c6(0x30f)](_0xe477c6(0x707),async _0x2c1dd3=>{const _0x38f717=_0xe477c6,_0x4ae734=_0x2c1dd3[_0x38f717(0x4eb)]['closest'](_0x38f717(0x13b)),_0x5b5dbd=_0x2c1dd3[_0x38f717(0x4eb)][_0x38f717(0x3e8)](_0x38f717(0x2fb));if(_0x4ae734){const _0x53511c=_0x4ae734[_0x38f717(0x13e)]['id'];_0x53511c===_0x38f717(0x3be)?showStarredProjectView():(currentProjectId=_0x53511c,await loadProjectDetails(currentProjectId),showView(_0x38f717(0x640)));}else{if(_0x5b5dbd){const _0x1f2be5=_0x5b5dbd[_0x38f717(0x13e)]['id'],_0x219147=_0x5b5dbd[_0x38f717(0x13e)][_0x38f717(0x5ca)];showConfirmation(_0x38f717(0x2d7)+_0x219147+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x1f2be5));}}});function calculateMeanAndStdDev(_0x2c0368){const _0x1deab2=_0xe477c6;if(_0x2c0368['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2755b1=_0x2c0368[_0x1deab2(0x17c)]((_0x3eaca3,_0x27c85c)=>_0x3eaca3+_0x27c85c,0x0)/_0x2c0368[_0x1deab2(0x330)];if(_0x2c0368[_0x1deab2(0x330)]===0x1)return{'mean':_0x2755b1,'stdDev':0x0};const _0x2b2157=Math['sqrt'](_0x2c0368[_0x1deab2(0x571)](_0x2cbc1f=>Math['pow'](_0x2cbc1f-_0x2755b1,0x2))[_0x1deab2(0x17c)]((_0x2284c5,_0x471424)=>_0x2284c5+_0x471424,0x0)/(_0x2c0368[_0x1deab2(0x330)]-0x1));return{'mean':_0x2755b1,'stdDev':_0x2b2157};}function calculateZScore(_0x18b8a3,_0x60fe22,_0x510dc7){if(_0x510dc7===0x0)return 0x0;return(_0x18b8a3-_0x60fe22)/_0x510dc7;}function calculateTScore(_0x2371bb){return 0xa*_0x2371bb+0x32;}function showStarredProjectView(){const _0xe084a0=_0xe477c6;currentProjectId=_0xe084a0(0x5bf),currentProjectData=null,projectTitle['textContent']=_0xe084a0(0x64f),projectIdDisplay[_0xe084a0(0x13f)]=_0xe084a0(0x6f8),showView('project-detail'),manageTab[_0xe084a0(0x3d2)][_0xe084a0(0x536)]('hidden'),leaderboardTab[_0xe084a0(0x3d2)]['add'](_0xe084a0(0x212)),switchProjectTab(_0xe084a0(0x28f)),renderQuizzes();}async function loadProjectDetails(_0x10ac44){const _0x386968=_0xe477c6,_0x1fa5e7=doc(db,_0x386968(0x30a)+appId+_0x386968(0x396),_0x10ac44),_0x364aa7=await getDoc(_0x1fa5e7);if(_0x364aa7[_0x386968(0x487)]()){manageTab[_0x386968(0x3d2)]['remove'](_0x386968(0x212)),leaderboardTab[_0x386968(0x3d2)][_0x386968(0x73a)](_0x386968(0x212)),currentProjectData=_0x364aa7[_0x386968(0x701)](),projectTitle[_0x386968(0x13f)]=currentProjectData[_0x386968(0x2a1)],projectIdDisplay['textContent']=_0x10ac44;const _0x3e072d=currentProjectData[_0x386968(0x256)]||{};document[_0x386968(0x3bf)](_0x386968(0x286))[_0x386968(0x21f)]=_0x3e072d[_0x386968(0x538)]||0x5,document[_0x386968(0x3bf)](_0x386968(0x3b1))[_0x386968(0x21f)]=_0x3e072d['defaultNumChoices']||0x4,document[_0x386968(0x3bf)](_0x386968(0x308))[_0x386968(0x21f)]=_0x3e072d[_0x386968(0x258)]||Math['floor']((_0x3e072d['defaultNumQuestions']||0x5)/0x2),document['getElementById'](_0x386968(0x308))[_0x386968(0x17b)]=_0x3e072d[_0x386968(0x538)]||0x5,document['getElementById'](_0x386968(0x78a))[_0x386968(0x21f)]=_0x3e072d[_0x386968(0x48c)]||_0x386968(0x539),document[_0x386968(0x3bf)](_0x386968(0x5ae))[_0x386968(0x21f)]=_0x3e072d['shuffleSetting']||_0x386968(0x406);const _0x205fc4=_0x3e072d[_0x386968(0x605)]||_0x386968(0x406),_0xe88339=_0x3e072d[_0x386968(0x624)]||0xa,_0x49f1a7=document[_0x386968(0x3bf)](_0x386968(0x430)),_0x3d855a=document['getElementById'](_0x386968(0x1fa)),_0x2705c9=document[_0x386968(0x3bf)](_0x386968(0x46c));_0x49f1a7[_0x386968(0x21f)]=_0x205fc4,_0x2705c9['value']=_0xe88339;_0x205fc4==='none'?_0x3d855a['classList'][_0x386968(0x536)](_0x386968(0x212)):_0x3d855a[_0x386968(0x3d2)][_0x386968(0x73a)](_0x386968(0x212));_0x49f1a7[_0x386968(0x4a3)](new Event(_0x386968(0x395)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x10ac44),listenForProjectQuizzes(_0x10ac44),listenForStudentProfiles(_0x10ac44);}else showMessage(_0x386968(0x5d0)),showView(_0x386968(0x597));}async function handleDeleteProject(_0x59e897){const _0x18384b=_0xe477c6;try{const _0x28a6fd=writeBatch(db),_0x4b549a=collection(db,_0x18384b(0x30a)+appId+_0x18384b(0x607)),_0x2df57c=query(_0x4b549a,where(_0x18384b(0x3f8),'==',_0x59e897)),_0x3fe906=await getDocs(_0x2df57c);for(const _0x2686ec of _0x3fe906[_0x18384b(0x4ec)]){const _0x60fc28=collection(db,_0x18384b(0x30a)+appId+_0x18384b(0x475)+_0x2686ec['id']+_0x18384b(0x213)),_0x48be38=await getDocs(_0x60fc28);_0x48be38[_0x18384b(0x793)](_0x2a8a69=>{const _0x2dd922=_0x18384b;_0x28a6fd[_0x2dd922(0x11f)](_0x2a8a69['ref']);}),_0x28a6fd[_0x18384b(0x11f)](_0x2686ec[_0x18384b(0x1d0)]);}const _0x496b47=collection(db,_0x18384b(0x30a)+appId+_0x18384b(0x3e2)+_0x59e897+'/studentProfiles'),_0x1ee5c8=await getDocs(_0x496b47);_0x1ee5c8['forEach'](_0x4302ae=>{const _0x30d19a=_0x18384b;_0x28a6fd[_0x30d19a(0x11f)](_0x4302ae[_0x30d19a(0x1d0)]);});const _0x2593c4=doc(db,_0x18384b(0x30a)+appId+_0x18384b(0x396),_0x59e897);_0x28a6fd[_0x18384b(0x11f)](_0x2593c4),await _0x28a6fd[_0x18384b(0x1ed)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x4c2957){console[_0x18384b(0x268)](_0x18384b(0x612),_0x4c2957),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0xe477c6(0x3bf)](_0xe477c6(0x3d1))[_0xe477c6(0x30f)](_0xe477c6(0x707),async()=>{const _0x544f4c=_0xe477c6;if(!currentProjectId)return;const _0x649fe3={'defaultNumQuestions':parseInt(document[_0x544f4c(0x3bf)](_0x544f4c(0x286))['value']),'defaultNumChoices':parseInt(document['getElementById']('num-choices')[_0x544f4c(0x21f)]),'defaultPassingScore':parseInt(document['getElementById'](_0x544f4c(0x308))[_0x544f4c(0x21f)]),'resultsDisplay':document[_0x544f4c(0x3bf)](_0x544f4c(0x78a))[_0x544f4c(0x21f)],'shuffleSetting':document[_0x544f4c(0x3bf)](_0x544f4c(0x5ae))[_0x544f4c(0x21f)],'timerMode':document['getElementById']('timer-mode-select')[_0x544f4c(0x21f)],'timerDuration':parseInt(document['getElementById'](_0x544f4c(0x46c))[_0x544f4c(0x21f)])};try{const _0x31f158=doc(db,_0x544f4c(0x30a)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x31f158,{'settings':_0x649fe3}),showMessage(_0x544f4c(0x25b));}catch(_0x5e1982){console[_0x544f4c(0x268)](_0x544f4c(0x443),_0x5e1982),showMessage(_0x544f4c(0x7a2));}});function listenForStudents(_0x5229c5){const _0x187e91=_0xe477c6,_0x5ce56c=doc(db,_0x187e91(0x30a)+appId+_0x187e91(0x396),_0x5229c5);unsubscribeStudentsListener=onSnapshot(_0x5ce56c,_0x1285fe=>{const _0x53519f=_0x187e91;if(_0x1285fe[_0x53519f(0x487)]()){const _0x1f0477=_0x1285fe[_0x53519f(0x701)]();currentProjectData=_0x1f0477,renderStudentList(_0x1f0477[_0x53519f(0x3e1)]||[]);}});}function renderStudentList(_0x497520){const _0xf46bf8=_0xe477c6,_0x11cb28=document['getElementById'](_0xf46bf8(0x452));_0x497520[_0xf46bf8(0x330)]===0x0?(studentList[_0xf46bf8(0x5cf)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x11cb28[_0xf46bf8(0x3d2)][_0xf46bf8(0x536)](_0xf46bf8(0x212))):(studentList[_0xf46bf8(0x5cf)]=_0x497520[_0xf46bf8(0x571)](_0x3de1e1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3de1e1+_0xf46bf8(0x1f6)+_0x3de1e1+_0xf46bf8(0x768))[_0xf46bf8(0x47b)](''),_0x11cb28[_0xf46bf8(0x3d2)][_0xf46bf8(0x73a)]('hidden'));}document[_0xe477c6(0x3bf)](_0xe477c6(0x7ab))['addEventListener']('click',async()=>{const _0x217322=_0xe477c6;if(!currentProjectId)return;const _0x4d2a7f=document[_0x217322(0x3bf)](_0x217322(0x3c8)),_0x5e45be=_0x4d2a7f['value'][_0x217322(0x503)]();if(!_0x5e45be){showMessage(_0x217322(0x2f1));return;}const _0x8b9822=_0x5e45be[_0x217322(0x13c)]('\x0a')[_0x217322(0x571)](_0x59db2c=>_0x59db2c[_0x217322(0x503)]())[_0x217322(0x5b5)](_0x4ec9db=>_0x4ec9db);if(_0x8b9822[_0x217322(0x330)]===0x0)return;try{const _0x331e9f=doc(db,_0x217322(0x30a)+appId+'/public/data/projects',currentProjectId),_0x387684=await getDoc(_0x331e9f);if(_0x387684[_0x217322(0x487)]()){const _0x5e0b8c=_0x387684[_0x217322(0x701)]()[_0x217322(0x3e1)]||[],_0x18f3eb=[...new Set([..._0x5e0b8c,..._0x8b9822])];await updateDoc(_0x331e9f,{'students':_0x18f3eb}),_0x4d2a7f[_0x217322(0x21f)]='';}}catch(_0x2f8d4c){console['error']('Error\x20adding\x20students:',_0x2f8d4c),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});function handleDeleteStudent(_0x253064){const _0x2b4d2b=_0xe477c6;showConfirmation(_0x2b4d2b(0x604)+_0x253064+_0x2b4d2b(0x242),async()=>{const _0x2628ee=_0x2b4d2b;if(!currentProjectId||!currentProjectData)return;const _0x483753=currentProjectData[_0x2628ee(0x3e1)][_0x2628ee(0x5b5)](_0x2465f3=>_0x2465f3!==_0x253064);try{const _0x34a35f=doc(db,'artifacts/'+appId+_0x2628ee(0x396),currentProjectId),_0x4791c8=doc(db,_0x2628ee(0x30a)+appId+_0x2628ee(0x3e2)+currentProjectId+_0x2628ee(0x299),_0x253064),_0x24ed51=writeBatch(db);_0x24ed51[_0x2628ee(0x238)](_0x34a35f,{'students':_0x483753}),_0x24ed51[_0x2628ee(0x11f)](_0x4791c8),await _0x24ed51[_0x2628ee(0x1ed)]();}catch(_0x164201){console['error']('Error\x20deleting\x20student:',_0x164201),showMessage(_0x2628ee(0x7a5));}});}function handleDeleteAllStudents(){const _0x2c02b9=_0xe477c6;showConfirmation(_0x2c02b9(0x766),async()=>{const _0x101d4b=_0x2c02b9;if(!currentProjectId)return;try{const _0x30d116=doc(db,_0x101d4b(0x30a)+appId+_0x101d4b(0x396),currentProjectId),_0x2ba404=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x5a3805=await getDocs(_0x2ba404),_0x391188=writeBatch(db);_0x391188['update'](_0x30d116,{'students':[]}),_0x5a3805[_0x101d4b(0x793)](_0x49a1b7=>_0x391188[_0x101d4b(0x11f)](_0x49a1b7[_0x101d4b(0x1d0)])),await _0x391188[_0x101d4b(0x1ed)]();}catch(_0x4d2007){console['error'](_0x101d4b(0x592),_0x4d2007),showMessage(_0x101d4b(0x12e));}});}async function handleGenerateFromFileClick(){const _0x3e88c=_0xe477c6;if(!selectedFile){showMessage(_0x3e88c(0x1f1));return;}const _0x4e55bd=document[_0x3e88c(0x3bf)]('loader'),_0x2e122f=document['getElementById'](_0x3e88c(0x4ea)),_0x2bb769=document[_0x3e88c(0x3bf)](_0x3e88c(0x742)),_0x2f3645=document[_0x3e88c(0x3bf)](_0x3e88c(0x47e));_0x2f3645['disabled']=!![],document['getElementById']('quiz-generation-area')['classList'][_0x3e88c(0x73a)]('hidden'),_0x2bb769[_0x3e88c(0x5cf)]='',_0x4e55bd['classList'][_0x3e88c(0x73a)](_0x3e88c(0x212)),_0x2e122f['textContent']=_0x3e88c(0x16f);const _0x1b2276=new FileReader();_0x1b2276[_0x3e88c(0x767)](selectedFile),_0x1b2276[_0x3e88c(0x20f)]=async()=>{const _0x177ac5=_0x3e88c;try{const _0x1a33f2=_0x1b2276[_0x177ac5(0x6fb)][_0x177ac5(0x13c)](',')[0x1],_0x5684a6=selectedFile[_0x177ac5(0x58a)];await generateQuizFromFile(_0x5684a6,_0x1a33f2);}catch(_0x2e3f7b){console[_0x177ac5(0x268)]('Error\x20processing\x20file\x20for\x20AI:',_0x2e3f7b),showMessage(_0x177ac5(0x243)+_0x2e3f7b[_0x177ac5(0x156)]),_0x4e55bd[_0x177ac5(0x3d2)][_0x177ac5(0x536)](_0x177ac5(0x212));}finally{}},_0x1b2276[_0x3e88c(0x426)]=_0x10fcf2=>{const _0x2f42cb=_0x3e88c;console['error'](_0x2f42cb(0x7b1),_0x10fcf2),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x4e55bd[_0x2f42cb(0x3d2)][_0x2f42cb(0x536)](_0x2f42cb(0x212)),_0x2f3645['disabled']=![];};}function autoFormatMath(_0x446253){const _0x4f8866=_0xe477c6;if(typeof _0x446253!==_0x4f8866(0x76e)||!_0x446253)return _0x446253;const _0x1c60f1=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1c6fd4=_0x446253[_0x4f8866(0x3ef)](_0x1c60f1,_0x6d0866=>{const _0x4e2408=_0x4f8866;return'$'+_0x6d0866[_0x4e2408(0x503)]()+'$';});return _0x1c6fd4;}function sanitizeQuizData(_0x2b8ea0){const _0x1f9d12=_0xe477c6;if(!_0x2b8ea0||!_0x2b8ea0['questions'])return _0x2b8ea0;const _0x5a75f8={'imes':'\x5ctimes','div':_0x1f9d12(0x557)},_0x1aa0b4=_0x439796=>{const _0xb7d1d3=_0x1f9d12;if(typeof _0x439796!==_0xb7d1d3(0x76e))return _0x439796;let _0x3d503a=_0x439796;for(const [_0x15c22d,_0x1face2]of Object['entries'](_0x5a75f8)){const _0xf8a47f=new RegExp('\x5cb'+_0x15c22d+'\x5cb','g');_0x3d503a=_0x3d503a[_0xb7d1d3(0x3ef)](_0xf8a47f,_0x1face2);}return _0x3d503a=_0x3d503a['replace'](/\\\//g,_0xb7d1d3(0x557)),_0x3d503a=_0x3d503a['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0xb7d1d3(0x557))[_0xb7d1d3(0x3ef)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xb7d1d3(0x358))[_0xb7d1d3(0x3ef)](/÷/g,_0xb7d1d3(0x557))[_0xb7d1d3(0x3ef)](/×/g,_0xb7d1d3(0x358)),_0x3d503a=_0x3d503a[_0xb7d1d3(0x3ef)](/(\d)(\\frac)/g,_0xb7d1d3(0x655)),_0x3d503a=autoFormatMath(_0x3d503a),_0x3d503a;};return _0x2b8ea0[_0x1f9d12(0x500)]&&(_0x2b8ea0[_0x1f9d12(0x500)]=_0x1aa0b4(_0x2b8ea0['topic'])),_0x2b8ea0[_0x1f9d12(0x541)][_0x1f9d12(0x793)](_0x5b0ad5=>{const _0x8168d0=_0x1f9d12;_0x5b0ad5[_0x8168d0(0x5a9)]=_0x1aa0b4(_0x5b0ad5['questionText']),_0x5b0ad5[_0x8168d0(0x26e)]&&(_0x5b0ad5[_0x8168d0(0x26e)]=_0x5b0ad5[_0x8168d0(0x26e)][_0x8168d0(0x571)](_0x1aa0b4)),_0x5b0ad5[_0x8168d0(0x52b)]&&(_0x5b0ad5[_0x8168d0(0x52b)]=_0x1aa0b4(_0x5b0ad5[_0x8168d0(0x52b)])),_0x5b0ad5[_0x8168d0(0x1bc)]&&(_0x5b0ad5[_0x8168d0(0x1bc)]=_0x1aa0b4(_0x5b0ad5[_0x8168d0(0x1bc)])),_0x5b0ad5[_0x8168d0(0x786)]&&(_0x5b0ad5['correctResponse']=_0x1aa0b4(_0x5b0ad5[_0x8168d0(0x786)])),_0x5b0ad5[_0x8168d0(0x450)]&&(_0x5b0ad5[_0x8168d0(0x450)]=_0x5b0ad5[_0x8168d0(0x450)][_0x8168d0(0x571)](_0x1aa0b4));}),_0x2b8ea0;}const simpleMathPrompt=_0xe477c6(0x740);async function handleGenerateFromLink(){const _0x375dcf=_0xe477c6,_0x149455=document[_0x375dcf(0x3bf)](_0x375dcf(0x442)),_0x43b324=document['getElementById']('link-topic-input'),_0x53c2b5=_0x149455['value'][_0x375dcf(0x503)](),_0x2bcf3d=_0x43b324[_0x375dcf(0x21f)][_0x375dcf(0x503)]();if(!_0x53c2b5){showMessage(_0x375dcf(0x37b));return;}const _0x1ac909=document['getElementById']('loader'),_0x2e9c7d=document[_0x375dcf(0x3bf)](_0x375dcf(0x4ea)),_0x588e2f=document[_0x375dcf(0x3bf)]('generated-quiz-container'),_0x21a152=document[_0x375dcf(0x3bf)](_0x375dcf(0x42f));document[_0x375dcf(0x3bf)](_0x375dcf(0x247))[_0x375dcf(0x3d2)]['remove']('hidden'),_0x588e2f['innerHTML']='',_0x1ac909['classList'][_0x375dcf(0x73a)](_0x375dcf(0x212)),_0x2e9c7d[_0x375dcf(0x13f)]=_0x375dcf(0x4c9),_0x21a152['disabled']=!![];try{const _0x3ff263=_0x375dcf(0x429)+encodeURIComponent(_0x53c2b5),_0x5d0bef=await fetch(_0x3ff263);if(!_0x5d0bef['ok'])throw new Error(_0x375dcf(0x587)+_0x5d0bef[_0x375dcf(0x342)]+')');const _0x38adfc=await _0x5d0bef[_0x375dcf(0x6a8)](),_0x50c92a=extractTextFromHtml(_0x38adfc);if(!_0x50c92a||_0x50c92a[_0x375dcf(0x330)]<0x64)throw new Error(_0x375dcf(0x44a));await generateQuiz(_0x2bcf3d,_0x50c92a);}catch(_0x21032d){console[_0x375dcf(0x268)]('Error\x20generating\x20from\x20link:',_0x21032d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21032d[_0x375dcf(0x156)]),_0x588e2f['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x1ac909[_0x375dcf(0x3d2)][_0x375dcf(0x536)]('hidden'),_0x21a152[_0x375dcf(0x688)]=![];}}function extractTextFromHtml(_0x266155){const _0x377f52=_0xe477c6,_0x506cec=new DOMParser()[_0x377f52(0x548)](_0x266155,'text/html');return _0x506cec[_0x377f52(0x2b5)](_0x377f52(0x532))[_0x377f52(0x793)](_0x45d067=>_0x45d067['remove']()),_0x506cec[_0x377f52(0x708)][_0x377f52(0x13f)]||'';}document[_0xe477c6(0x3bf)]('generate-from-topic-btn')['addEventListener']('click',()=>{const _0x3675c7=_0xe477c6,_0x3ad805=document[_0x3675c7(0x3bf)](_0x3675c7(0x66e))['value'][_0x3675c7(0x503)]();generateQuiz(_0x3ad805,null);}),document['getElementById'](_0xe477c6(0x1ba))[_0xe477c6(0x30f)](_0xe477c6(0x707),()=>{const _0x29b172=_0xe477c6,_0x1acacc=document['getElementById'](_0x29b172(0x3e0))['value']['trim']();if(!_0x1acacc){showMessage(_0x29b172(0x1c3));return;}const _0x218b68=document['getElementById'](_0x29b172(0x66e))[_0x29b172(0x21f)][_0x29b172(0x503)]();generateQuiz(_0x218b68,_0x1acacc);});async function generateQuiz(_0xc91344,_0x4302fd,_0x1e56d6=null){const _0x2a10dd=_0xe477c6,_0x9d75ab=document[_0x2a10dd(0x3bf)](_0x2a10dd(0x60f))[_0x2a10dd(0x720)],_0x1067da=document['getElementById'](_0x2a10dd(0x314))[_0x2a10dd(0x21f)],_0x44d5ff=document[_0x2a10dd(0x3bf)](_0x2a10dd(0x286))[_0x2a10dd(0x21f)],_0x419b60=document[_0x2a10dd(0x3bf)]('num-choices')[_0x2a10dd(0x21f)],_0x4072b9=document[_0x2a10dd(0x3bf)]('force-math-checkbox')[_0x2a10dd(0x720)],_0x8d9be4=_0x4072b9?'':'คณิตศาสตร์',_0xa6a65e=document[_0x2a10dd(0x3bf)](_0x2a10dd(0x3a4)),_0x2354e1=_0xa6a65e[_0x2a10dd(0x21f)];let _0x54be77='';_0x2354e1!=='auto'&&(_0x54be77=_0x2a10dd(0x493)+_0x2354e1+'\x22');const _0x1ab5fd=document['getElementById']('question-complexity-select'),_0x1c41b3=_0x1ab5fd[_0x2a10dd(0x21f)];let _0x4d453b='';_0x1c41b3!==_0x2a10dd(0x639)&&(_0x4d453b=_0x2a10dd(0x381)+_0x1c41b3+_0x2a10dd(0x13a));const _0x45d9a8=document[_0x2a10dd(0x2b5)](_0x2a10dd(0x1bb)),_0x487b15=Array[_0x2a10dd(0x24a)](_0x45d9a8)[_0x2a10dd(0x571)](_0x1d2b2b=>_0x1d2b2b['value']);let _0x23ad76='';_0x487b15[_0x2a10dd(0x330)]>0x0&&(_0x23ad76=_0x2a10dd(0x12c)+_0x487b15[_0x2a10dd(0x47b)](',\x20')+_0x2a10dd(0x32c));let _0x4a376b='',_0x281fa3='',_0x1de31e,_0x36a872='เกี่ยวกับหัวข้อ\x20\x22'+_0xc91344+'\x22';if(!_0xc91344&&_0x4302fd)_0x36a872='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0xc91344&&!_0x4302fd&&(_0x36a872=_0x2a10dd(0x27c));const _0x1f80f4={'type':_0x2a10dd(0x652),'properties':{'questionText':{'type':_0x2a10dd(0x77b)},'options':{'type':'ARRAY','items':{'type':_0x2a10dd(0x77b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2a10dd(0x5a9),_0x2a10dd(0x26e),_0x2a10dd(0x47c),'explanation']},_0x55d66c={'type':_0x2a10dd(0x652),'properties':{'questionText':{'type':_0x2a10dd(0x77b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2a10dd(0x77b)},'imageCode':{'type':_0x2a10dd(0x77b)}},'required':[_0x2a10dd(0x5a9),_0x2a10dd(0x6b4),_0x2a10dd(0x52b)]},_0x40fb30={'type':_0x2a10dd(0x652),'properties':{'questionText':{'type':_0x2a10dd(0x77b)},'questionType':{'type':_0x2a10dd(0x77b),'enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2a10dd(0x3c7)},'idealAnswer':{'type':_0x2a10dd(0x77b)},'explanation':{'type':_0x2a10dd(0x77b)},'imageCode':{'type':_0x2a10dd(0x77b)}},'required':[_0x2a10dd(0x5a9),_0x2a10dd(0x4f4),_0x2a10dd(0x52b)]},_0x5d7f7d={'type':_0x2a10dd(0x652),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x2a10dd(0x382)},'explanation':{'type':_0x2a10dd(0x77b)},'imageCode':{'type':_0x2a10dd(0x77b)}},'required':[_0x2a10dd(0x5a9),_0x2a10dd(0x3e3),'explanation']},_0x1b4e75={'type':_0x2a10dd(0x652),'properties':{'questionType':{'type':_0x2a10dd(0x77b),'enum':[_0x2a10dd(0x611)]},'stem':{'type':_0x2a10dd(0x77b)},'correctResponse':{'type':_0x2a10dd(0x77b)},'allResponses':{'type':_0x2a10dd(0x5ce),'items':{'type':_0x2a10dd(0x77b)}},'explanation':{'type':_0x2a10dd(0x77b)},'imageCode':{'type':'STRING'}},'required':[_0x2a10dd(0x4f4),_0x2a10dd(0x1bc),_0x2a10dd(0x786),_0x2a10dd(0x450),_0x2a10dd(0x52b)]};let _0x28ddcf;if(_0x1e56d6!==null){const _0x267238=currentQuizData[_0x2a10dd(0x541)][_0x1e56d6]['questionType'],_0x2c69a9=_0x9d75ab?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x4a376b='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+_0x2a10dd(0x71a)+_0x2c69a9+'\x20'+simpleMathPrompt;if(_0x267238==='multiple_choice')_0x1de31e=_0x1f80f4;else{if(_0x267238==='matching_item')_0x1de31e={'type':_0x2a10dd(0x652),'properties':{'questionType':{'type':_0x2a10dd(0x77b),'enum':[_0x2a10dd(0x611)]},'stem':{'type':_0x2a10dd(0x77b)},'correctResponse':{'type':_0x2a10dd(0x77b)},'explanation':{'type':_0x2a10dd(0x77b)},'imageCode':{'type':_0x2a10dd(0x77b)}},'required':['questionType','stem',_0x2a10dd(0x786),'explanation']};else _0x1de31e=_0x55d66c;}_0x28ddcf=_0x1de31e;}else{const _0x2d26c2=_0x9d75ab?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x1067da){case _0x2a10dd(0x2d3):_0x4a376b=_0x2a10dd(0x1d8)+_0x8d9be4+'\x20'+_0x44d5ff+_0x2a10dd(0x3cb)+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+_0x2a10dd(0x5b6)+_0x419b60+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2d26c2+'\x20'+simpleMathPrompt,_0x1de31e=_0x1f80f4;break;case _0x2a10dd(0x170):_0x4a376b=_0x2a10dd(0x240)+_0x8d9be4+'\x20'+_0x44d5ff+_0x2a10dd(0x3cb)+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+_0x2a10dd(0x666)+_0x419b60+_0x2a10dd(0x683)+_0x2d26c2+'\x20'+simpleMathPrompt,_0x1de31e=_0x1f80f4;break;case'fill_in_no_choices':_0x4a376b=_0x2a10dd(0x240)+_0x8d9be4+'\x20'+_0x44d5ff+'\x20ข้อ\x20'+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d26c2+'\x20'+simpleMathPrompt,_0x1de31e=_0x55d66c;break;case _0x2a10dd(0x639):_0x4a376b=_0x2a10dd(0x57e)+_0x8d9be4+'\x20'+_0x44d5ff+'\x20ข้อ\x20'+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+_0x2a10dd(0x5f8)+_0x419b60+'\x20ตัวเลือก.\x20'+_0x2d26c2+'\x20'+simpleMathPrompt+'.',_0x1de31e=_0x40fb30;break;case _0x2a10dd(0x1be):_0x4a376b=_0x2a10dd(0x725)+_0x8d9be4+'\x20'+_0x44d5ff+_0x2a10dd(0x3cb)+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+_0x2a10dd(0x2e3)+_0x2d26c2+'\x20'+simpleMathPrompt,_0x1de31e=_0x5d7f7d;break;case'matching':_0x4a376b=_0x2a10dd(0x6ad)+_0x8d9be4+'\x20'+_0x44d5ff+_0x2a10dd(0x677)+_0x36a872+'\x20'+_0x23ad76+'\x20'+_0x54be77+'\x20'+_0x4d453b+_0x2a10dd(0x37d)+_0x2d26c2+'\x20'+simpleMathPrompt,_0x1de31e=_0x1b4e75;break;}_0x28ddcf={'type':_0x2a10dd(0x652),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2a10dd(0x5ce),'items':_0x1de31e}},'required':['topic',_0x2a10dd(0x541)]};}return _0x4302fd?(_0x4a376b=_0x2a10dd(0x349)+_0x4302fd+_0x2a10dd(0x261)+_0x4a376b,_0x281fa3='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x281fa3=_0x2a10dd(0x746),handleApiCall(_0x4a376b,_0x281fa3,_0x28ddcf,_0x1e56d6);}async function generateQuizFromFile(_0x414e13,_0x36510a){const _0x4fa2e6=_0xe477c6,_0x1473b6=document['getElementById'](_0x4fa2e6(0x33c))['value'][_0x4fa2e6(0x503)](),_0x255cc1=document['getElementById']('quiz-type-select')[_0x4fa2e6(0x21f)],_0x1970ce=document['getElementById']('num-questions')[_0x4fa2e6(0x21f)],_0x5283d0=document[_0x4fa2e6(0x3bf)](_0x4fa2e6(0x3b1))['value'],_0xe83f15=document[_0x4fa2e6(0x3bf)]('include-images-checkbox')[_0x4fa2e6(0x720)],_0x4d0567=document[_0x4fa2e6(0x3bf)](_0x4fa2e6(0x578))[_0x4fa2e6(0x720)],_0x3171cf=_0x4d0567?'':_0x4fa2e6(0x287);let _0x575a5d='',_0x5a096a,_0x51e69f=_0x4fa2e6(0x6ea)+_0x1473b6+'\x22';!_0x1473b6&&(_0x51e69f=_0x4fa2e6(0x141));const _0x232f39=_0xe83f15?_0x4fa2e6(0x1c2):'';switch(_0x255cc1){case _0x4fa2e6(0x2d3):_0x575a5d=_0x4fa2e6(0x1d8)+_0x3171cf+'\x20'+_0x1970ce+'\x20ข้อ\x20'+_0x51e69f+'.\x20แต่ละข้อมี\x20'+_0x5283d0+_0x4fa2e6(0x28d)+_0x232f39+'\x20'+simpleMathPrompt,_0x5a096a={'type':_0x4fa2e6(0x652),'properties':{'questionText':{'type':_0x4fa2e6(0x77b)},'options':{'type':_0x4fa2e6(0x5ce),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4fa2e6(0x3c7)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options','correctAnswerIndex',_0x4fa2e6(0x52b)]};break;case'fill_in_with_choices':_0x575a5d=_0x4fa2e6(0x240)+_0x3171cf+'\x20'+_0x1970ce+_0x4fa2e6(0x3cb)+_0x51e69f+_0x4fa2e6(0x666)+_0x5283d0+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x232f39+'\x20'+simpleMathPrompt,_0x5a096a={'type':_0x4fa2e6(0x652),'properties':{'questionText':{'type':_0x4fa2e6(0x77b)},'options':{'type':_0x4fa2e6(0x5ce),'items':{'type':_0x4fa2e6(0x77b)}},'correctAnswerIndex':{'type':_0x4fa2e6(0x3c7)},'explanation':{'type':_0x4fa2e6(0x77b)},'imageCode':{'type':_0x4fa2e6(0x77b)}},'required':[_0x4fa2e6(0x5a9),'options',_0x4fa2e6(0x47c),_0x4fa2e6(0x52b)]};break;case _0x4fa2e6(0x354):_0x575a5d=_0x4fa2e6(0x240)+_0x3171cf+'\x20'+_0x1970ce+'\x20ข้อ\x20'+_0x51e69f+_0x4fa2e6(0x622)+_0x232f39+'\x20'+simpleMathPrompt,_0x5a096a={'type':_0x4fa2e6(0x652),'properties':{'questionText':{'type':_0x4fa2e6(0x77b)},'idealAnswer':{'type':_0x4fa2e6(0x77b)},'explanation':{'type':_0x4fa2e6(0x77b)},'imageCode':{'type':_0x4fa2e6(0x77b)}},'required':[_0x4fa2e6(0x5a9),_0x4fa2e6(0x6b4),_0x4fa2e6(0x52b)]};break;case _0x4fa2e6(0x639):_0x575a5d='สร้างแบบทดสอบ'+_0x3171cf+'\x20'+_0x1970ce+_0x4fa2e6(0x3cb)+_0x51e69f+_0x4fa2e6(0x5a8)+_0x5283d0+_0x4fa2e6(0x712)+_0x232f39+'\x20'+simpleMathPrompt+_0x4fa2e6(0x2e7),_0x5a096a={'type':_0x4fa2e6(0x652),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4fa2e6(0x77b),'enum':[_0x4fa2e6(0x2d3),_0x4fa2e6(0x39f)]},'options':{'type':_0x4fa2e6(0x5ce),'items':{'type':_0x4fa2e6(0x77b)}},'correctAnswerIndex':{'type':_0x4fa2e6(0x3c7)},'idealAnswer':{'type':_0x4fa2e6(0x77b)},'explanation':{'type':_0x4fa2e6(0x77b)},'imageCode':{'type':_0x4fa2e6(0x77b)}},'required':['questionText',_0x4fa2e6(0x4f4),_0x4fa2e6(0x52b)]};break;case'true_false':_0x575a5d=_0x4fa2e6(0x725)+_0x3171cf+'\x20'+_0x1970ce+'\x20ข้อ\x20'+_0x51e69f+_0x4fa2e6(0x744)+_0x232f39+'\x20'+simpleMathPrompt,_0x5a096a={'type':'OBJECT','properties':{'questionText':{'type':_0x4fa2e6(0x77b)},'correctAnswer':{'type':_0x4fa2e6(0x382)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4fa2e6(0x77b)}},'required':[_0x4fa2e6(0x5a9),_0x4fa2e6(0x3e3),'explanation']};break;case _0x4fa2e6(0x40c):_0x575a5d=_0x4fa2e6(0x6ad)+_0x3171cf+'\x20'+_0x1970ce+_0x4fa2e6(0x677)+_0x51e69f+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x1970ce+_0x4fa2e6(0x32d)+_0x232f39+'\x20'+simpleMathPrompt,_0x5a096a={'type':_0x4fa2e6(0x652),'properties':{'questionType':{'type':_0x4fa2e6(0x77b),'enum':['matching_item']},'stem':{'type':_0x4fa2e6(0x77b)},'correctResponse':{'type':_0x4fa2e6(0x77b)},'allResponses':{'type':_0x4fa2e6(0x5ce),'items':{'type':_0x4fa2e6(0x77b)}},'explanation':{'type':_0x4fa2e6(0x77b)},'imageCode':{'type':_0x4fa2e6(0x77b)}},'required':[_0x4fa2e6(0x4f4),'stem',_0x4fa2e6(0x786),_0x4fa2e6(0x450),_0x4fa2e6(0x52b)]};break;}const _0x4f16e5={'type':'OBJECT','properties':{'topic':{'type':_0x4fa2e6(0x77b)},'questions':{'type':_0x4fa2e6(0x5ce),'items':_0x5a096a}},'required':[_0x4fa2e6(0x500),_0x4fa2e6(0x541)]},_0x259e01=_0x4fa2e6(0x55c)+_0x575a5d,_0xaf2f8={'contents':[{'parts':[{'text':_0x259e01},{'inlineData':{'mimeType':_0x414e13,'data':_0x36510a}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4f16e5}};return handleApiCall(_0xaf2f8['contents'][0x0][_0x4fa2e6(0x745)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4f16e5);}async function handleApiCall(_0x52e562,_0x3516dc,_0x17b000,_0x1b82c7=null){const _0x2e796c=_0xe477c6,_0x27b376=document[_0x2e796c(0x3bf)](_0x2e796c(0x247)),_0x386190=document[_0x2e796c(0x3bf)](_0x2e796c(0x714)),_0x237e3d=document[_0x2e796c(0x3bf)](_0x2e796c(0x4ea)),_0x2c6e53=document[_0x2e796c(0x3bf)](_0x2e796c(0x742));_0x27b376[_0x2e796c(0x3d2)]['remove'](_0x2e796c(0x212));_0x1b82c7===null&&(_0x2c6e53[_0x2e796c(0x5cf)]='');_0x386190[_0x2e796c(0x3d2)][_0x2e796c(0x73a)]('hidden'),_0x237e3d[_0x2e796c(0x13f)]=_0x3516dc,document[_0x2e796c(0x3bf)](_0x2e796c(0x6c5))[_0x2e796c(0x688)]=!![],document[_0x2e796c(0x3bf)](_0x2e796c(0x1ba))[_0x2e796c(0x688)]=!![],document[_0x2e796c(0x3bf)](_0x2e796c(0x42f))[_0x2e796c(0x688)]=!![];try{const _0x4c7db5={'responseMimeType':_0x2e796c(0x7b8),'responseSchema':_0x17b000},_0x24e0d0=Array['isArray'](_0x52e562)?_0x52e562:[{'text':_0x52e562}],_0x27fb74={'contents':[{'role':'user','parts':_0x24e0d0}],'generationConfig':_0x4c7db5},_0x1c51d4=_0x2e796c(0x7b4),_0x495de6='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1c51d4,_0x5afc8a=await fetch(_0x495de6,{'method':_0x2e796c(0x36c),'headers':{'Content-Type':_0x2e796c(0x7b8)},'body':JSON['stringify'](_0x27fb74)});if(!_0x5afc8a['ok'])throw new Error(_0x2e796c(0x6d5)+_0x5afc8a[_0x2e796c(0x342)]);const _0x4dbd6b=await _0x5afc8a[_0x2e796c(0x458)]();if(_0x4dbd6b[_0x2e796c(0x5ec)]?.[0x0]?.[_0x2e796c(0x3f2)]?.['parts']?.[0x0]){let _0x3ceb06=_0x4dbd6b['candidates'][0x0]['content'][_0x2e796c(0x745)][0x0][_0x2e796c(0x6a8)],_0x54b23b;try{if(_0x3ceb06[_0x2e796c(0x618)](_0x2e796c(0x324)))_0x3ceb06=_0x3ceb06[_0x2e796c(0x5a6)](0x7,_0x3ceb06['length']-0x3)[_0x2e796c(0x503)]();else _0x3ceb06[_0x2e796c(0x618)](_0x2e796c(0x35b))&&(_0x3ceb06=_0x3ceb06[_0x2e796c(0x5a6)](0x3,_0x3ceb06[_0x2e796c(0x330)]-0x3)[_0x2e796c(0x503)]());_0x54b23b=JSON[_0x2e796c(0x460)](_0x3ceb06);}catch(_0x196684){console[_0x2e796c(0x268)](_0x2e796c(0x5f7),_0x196684,_0x3ceb06);throw new Error(_0x2e796c(0x601));}if(_0x1b82c7!==null){if(_0x54b23b[_0x2e796c(0x4f4)]===_0x2e796c(0x611)){const _0x34ddac=currentQuizData[_0x2e796c(0x541)]['map'](_0x509cb3=>_0x509cb3['correctResponse']);_0x54b23b[_0x2e796c(0x450)]=_0x34ddac;const _0x1dae1c=currentQuizData[_0x2e796c(0x541)][_0x1b82c7][_0x2e796c(0x786)],_0x3c393e=_0x34ddac[_0x2e796c(0x144)](_0x1dae1c);_0x3c393e>-0x1&&(_0x34ddac[_0x3c393e]=_0x54b23b[_0x2e796c(0x786)]),currentQuizData['questions'][_0x2e796c(0x793)](_0x37e670=>{if(_0x37e670['questionType']==='matching_item')_0x37e670['allResponses']=_0x34ddac;});}currentQuizData[_0x2e796c(0x541)][_0x1b82c7]=_0x54b23b,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x54b23b;const _0x925381=document[_0x2e796c(0x3bf)](_0x2e796c(0x314))[_0x2e796c(0x21f)];currentQuizData[_0x2e796c(0x6c9)]=_0x925381,currentQuizData[_0x2e796c(0x541)]&&currentQuizData[_0x2e796c(0x541)][_0x2e796c(0x793)](_0xe16ef=>{const _0x5f353d=_0x2e796c;if(!_0xe16ef[_0x5f353d(0x4f4)]){if(_0x925381===_0x5f353d(0x170))_0xe16ef[_0x5f353d(0x4f4)]=_0x5f353d(0x2d3);else _0x925381===_0x5f353d(0x354)?_0xe16ef[_0x5f353d(0x4f4)]=_0x5f353d(0x39f):_0xe16ef['questionType']=_0x925381;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x2e796c(0x268)](_0x2e796c(0x4f7),JSON[_0x2e796c(0x22d)](_0x4dbd6b));throw new Error(_0x2e796c(0x601));}}catch(_0x441658){console['error'](_0x2e796c(0x31d),_0x441658),showMessage(_0x2e796c(0x4df)),_0x1b82c7===null&&(_0x2c6e53[_0x2e796c(0x5cf)]=_0x2e796c(0x1b1));}finally{_0x386190[_0x2e796c(0x3d2)][_0x2e796c(0x536)](_0x2e796c(0x212)),document[_0x2e796c(0x3bf)](_0x2e796c(0x6c5))['disabled']=![],document[_0x2e796c(0x3bf)](_0x2e796c(0x1ba))[_0x2e796c(0x688)]=![],document[_0x2e796c(0x3bf)](_0x2e796c(0x42f))[_0x2e796c(0x688)]=![];const _0x355780=document[_0x2e796c(0x3bf)](_0x2e796c(0x47e));_0x355780&&(_0x355780['disabled']=![]);}}function displayGeneratedQuiz(_0x2a219d){const _0x2be8dd=_0xe477c6,_0xc92d81=document[_0x2be8dd(0x3bf)](_0x2be8dd(0x742));let _0x56be2e='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2a219d[_0x2be8dd(0x500)]+_0x2be8dd(0x2ca);_0x2a219d[_0x2be8dd(0x541)]['forEach']((_0x25defa,_0x1d2c3f)=>{const _0x3709f9=_0x2be8dd,_0x4aaf51=_0x25defa[_0x3709f9(0x4f4)]||_0x2a219d['quizType'];_0x56be2e+=_0x3709f9(0x7ac)+_0x1d2c3f+_0x3709f9(0x5e2)+_0x1d2c3f+_0x3709f9(0x681)+_0x1d2c3f+_0x3709f9(0x197);switch(_0x4aaf51){case'matching_item':_0x56be2e+=_0x3709f9(0x132)+_0x1d2c3f+'\x22>'+(_0x1d2c3f+0x1)+'.\x20'+_0x25defa['stem']+_0x3709f9(0x7a7);_0x25defa[_0x3709f9(0x295)]&&(_0x56be2e+='<div\x20id=\x22q-image-container-'+_0x1d2c3f+_0x3709f9(0x5b9)+_0x25defa['imageCode']+_0x3709f9(0x53b));_0x56be2e+=_0x3709f9(0x228)+_0x1d2c3f+'\x22>'+_0x25defa[_0x3709f9(0x786)]+'</span></div>',_0x56be2e+=_0x3709f9(0x31f)+_0x1d2c3f+'\x22>'+_0x25defa[_0x3709f9(0x52b)]+_0x3709f9(0x76f);break;case'short_answer':_0x56be2e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d2c3f+'\x22>'+(_0x1d2c3f+0x1)+'.\x20'+_0x25defa[_0x3709f9(0x5a9)]+_0x3709f9(0x7a7);_0x25defa['imageCode']&&(_0x56be2e+=_0x3709f9(0x196)+_0x1d2c3f+_0x3709f9(0x5b9)+_0x25defa[_0x3709f9(0x295)]+_0x3709f9(0x53b));_0x56be2e+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x1d2c3f+'\x22>'+_0x25defa[_0x3709f9(0x6b4)]+_0x3709f9(0x76f),_0x56be2e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1d2c3f+'\x22>'+_0x25defa[_0x3709f9(0x52b)]+'</span></div>';break;case _0x3709f9(0x1be):_0x56be2e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d2c3f+'\x22>'+(_0x1d2c3f+0x1)+'.\x20'+_0x25defa[_0x3709f9(0x5a9)]+'</p>';_0x25defa[_0x3709f9(0x295)]&&(_0x56be2e+=_0x3709f9(0x196)+_0x1d2c3f+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x25defa[_0x3709f9(0x295)]+_0x3709f9(0x53b));_0x56be2e+=_0x3709f9(0x5b2)+(_0x25defa[_0x3709f9(0x3e3)]===!![]?_0x3709f9(0x7b6):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x25defa['correctAnswer']===![]?_0x3709f9(0x7b6):'')+_0x3709f9(0x522),_0x56be2e+=_0x3709f9(0x31f)+_0x1d2c3f+'\x22>'+_0x25defa['explanation']+'</span></div>';break;case _0x3709f9(0x4bf):case _0x3709f9(0x2d3):default:_0x56be2e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d2c3f+'\x22>'+(_0x1d2c3f+0x1)+'.\x20'+_0x25defa[_0x3709f9(0x5a9)]+_0x3709f9(0x7a7);_0x25defa[_0x3709f9(0x295)]&&(_0x56be2e+=_0x3709f9(0x196)+_0x1d2c3f+_0x3709f9(0x5b9)+_0x25defa['imageCode']+_0x3709f9(0x53b));_0x56be2e+=_0x3709f9(0x18e)+_0x1d2c3f+_0x3709f9(0x7a0)+_0x25defa[_0x3709f9(0x26e)][_0x3709f9(0x571)]((_0x2ea050,_0x38e93a)=>_0x3709f9(0x2d5)+(_0x38e93a===_0x25defa['correctAnswerIndex']?_0x3709f9(0x7b6):'')+'\x22>'+_0x2ea050+_0x3709f9(0x216))[_0x3709f9(0x47b)]('')+_0x3709f9(0x195),_0x56be2e+=_0x3709f9(0x31f)+_0x1d2c3f+'\x22>'+_0x25defa['explanation']+_0x3709f9(0x76f);break;}_0x56be2e+=_0x3709f9(0x53b);}),_0x56be2e+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xc92d81[_0x2be8dd(0x5cf)]=_0x56be2e,document['querySelectorAll'](_0x2be8dd(0x249))[_0x2be8dd(0x793)](_0x435a90=>_0x435a90[_0x2be8dd(0x30f)]('click',handleEditQuestion)),document['querySelectorAll'](_0x2be8dd(0x201))[_0x2be8dd(0x793)](_0x5eec5a=>_0x5eec5a['addEventListener']('click',handleRegenerateQuestion)),document[_0x2be8dd(0x2b5)](_0x2be8dd(0x3d3))[_0x2be8dd(0x793)](_0x3519fb=>_0x3519fb['addEventListener'](_0x2be8dd(0x707),handleSaveToBank)),document[_0x2be8dd(0x3bf)](_0x2be8dd(0x172))[_0x2be8dd(0x30f)](_0x2be8dd(0x707),exportQuizAsWorksheetPDF),document['getElementById'](_0x2be8dd(0x731))['addEventListener'](_0x2be8dd(0x707),saveQuiz);if(window[_0x2be8dd(0x736)])window[_0x2be8dd(0x736)][_0x2be8dd(0x55a)]([_0xc92d81]);}function handleRegenerateQuestion(_0x110dac){const _0x15ffcd=_0xe477c6,_0x497170=_0x110dac[_0x15ffcd(0x687)][_0x15ffcd(0x13e)][_0x15ffcd(0x422)],_0x2e783a=currentQuizData[_0x15ffcd(0x500)];showMessage(_0x15ffcd(0x161)+(parseInt(_0x497170)+0x1)+'\x20ใหม่...'),generateQuiz(_0x2e783a,null,parseInt(_0x497170));}function getPointerPosition(_0xac27df,_0x30c5a5){const _0x301049=_0xe477c6,_0x201cbb=_0xac27df['getScreenCTM']();let _0x364425,_0x5a614c;return _0x30c5a5[_0x301049(0x370)]&&_0x30c5a5[_0x301049(0x370)][_0x301049(0x330)]>0x0?(_0x364425=_0x30c5a5[_0x301049(0x370)][0x0][_0x301049(0x231)],_0x5a614c=_0x30c5a5[_0x301049(0x370)][0x0][_0x301049(0x272)]):(_0x364425=_0x30c5a5['clientX'],_0x5a614c=_0x30c5a5['clientY']),{'x':(_0x364425-_0x201cbb['e'])/_0x201cbb['a'],'y':(_0x5a614c-_0x201cbb['f'])/_0x201cbb['d']};}function startDrag(_0x12521c){const _0xd9a53f=_0xe477c6;_0x12521c['type']==='touchstart'&&_0x12521c['preventDefault']();const _0x3cd400=_0x12521c['target'][_0xd9a53f(0x3e8)](_0xd9a53f(0x138));if(_0x3cd400){draggedSvgElement=_0x3cd400;const _0x5e5e3b=draggedSvgElement['ownerSVGElement'],_0x35e42e=getPointerPosition(_0x5e5e3b,_0x12521c);svgOffset['x']=_0x35e42e['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x35e42e['y']-parseFloat(draggedSvgElement[_0xd9a53f(0x25c)](null,'y'));}}function calculateItemAnalysis(_0x34d2d2,_0x2a17ea){const _0xf81d70=_0xe477c6,_0x469568={};if(_0x2a17ea['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x424d64=[..._0x2a17ea][_0xf81d70(0x1dc)]((_0x4de71c,_0x1033ae)=>{const _0x3e50a0=_0xf81d70,_0x40d76a=_0x1033ae[_0x3e50a0(0x648)]-_0x4de71c[_0x3e50a0(0x648)];if(_0x40d76a!==0x0)return _0x40d76a;const _0x3bd347=_0x4de71c[_0x3e50a0(0x6bb)]?.[_0x3e50a0(0x330)]||0x1,_0x54106c=_0x1033ae[_0x3e50a0(0x6bb)]?.[_0x3e50a0(0x330)]||0x1,_0x5426b6=_0x3bd347-_0x54106c;if(_0x5426b6!==0x0)return _0x5426b6;const _0xc36b6a=new Date(_0x4de71c[_0x3e50a0(0x556)]),_0x53fbec=new Date(_0x1033ae[_0x3e50a0(0x556)]),_0xe2179b=_0xc36b6a-_0x53fbec;if(_0xe2179b!==0x0)return _0xe2179b;return _0x4de71c[_0x3e50a0(0x169)][_0x3e50a0(0x440)](_0x1033ae['studentName'],'th');}),_0x475bb1=_0x424d64[_0xf81d70(0x330)],_0x35b7b9=Math[_0xf81d70(0x17b)](0x1,Math['floor'](_0x475bb1*0.33));if(_0x35b7b9===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x38d26c=_0x424d64[_0xf81d70(0x3b5)](0x0,_0x35b7b9),_0x5345f1=_0x424d64['slice'](-_0x35b7b9),_0x44de52=_0x38d26c[_0xf81d70(0x571)](_0x576c45=>_0x576c45[_0xf81d70(0x169)]),_0x156b62=_0x5345f1['map'](_0x4f50f5=>_0x4f50f5['studentName']);return _0x34d2d2[_0xf81d70(0x541)][_0xf81d70(0x793)]((_0x5eb0fa,_0x28415d)=>{const _0x3e4ca9=_0xf81d70,_0x484578=_0x5eb0fa[_0x3e4ca9(0x1bc)]||_0x5eb0fa[_0x3e4ca9(0x5a9)];let _0xa3f47b=0x0,_0x4aea24=0x0,_0x2c35e4=0x0;const _0x180484=[],_0x433335=[];_0x38d26c[_0x3e4ca9(0x793)](_0x5af868=>{const _0x2442c2=_0x3e4ca9,_0x4bff95=_0x5af868['attempts'][_0x5af868[_0x2442c2(0x6bb)][_0x2442c2(0x330)]-0x1],_0x491d32=_0x4bff95[_0x2442c2(0x752)][_0x2442c2(0x6d0)](_0x4d6e66=>_0x4d6e66[_0x2442c2(0x43c)]===_0x484578);_0x180484[_0x2442c2(0x424)]({'name':_0x5af868['studentName'],'isCorrect':_0x491d32?_0x491d32['isCorrect']:![]}),_0x491d32&&_0x491d32[_0x2442c2(0x1f5)]&&_0x4aea24++;}),_0x5345f1[_0x3e4ca9(0x793)](_0x31ea26=>{const _0x3f4860=_0x3e4ca9,_0x5c8871=_0x31ea26[_0x3f4860(0x6bb)][_0x31ea26[_0x3f4860(0x6bb)]['length']-0x1],_0x50a4c2=_0x5c8871[_0x3f4860(0x752)]['find'](_0x171c05=>_0x171c05['originalQuestionText']===_0x484578);_0x433335['push']({'name':_0x31ea26[_0x3f4860(0x169)],'isCorrect':_0x50a4c2?_0x50a4c2[_0x3f4860(0x1f5)]:![]}),_0x50a4c2&&_0x50a4c2['isCorrect']&&_0x2c35e4++;}),_0x2a17ea[_0x3e4ca9(0x793)](_0x49f3c6=>{const _0x22fc7a=_0x3e4ca9,_0x2a4186=_0x49f3c6['attempts'][_0x49f3c6[_0x22fc7a(0x6bb)][_0x22fc7a(0x330)]-0x1],_0x29dd16=_0x2a4186[_0x22fc7a(0x752)]['find'](_0x3a01fe=>_0x3a01fe[_0x22fc7a(0x43c)]===_0x484578);_0x29dd16&&_0x29dd16[_0x22fc7a(0x1f5)]&&_0xa3f47b++;});const _0x5a66c1=_0x475bb1>0x0?_0xa3f47b/_0x475bb1:0x0,_0x50b6d6=_0x35b7b9>0x0?_0x4aea24/_0x35b7b9-_0x2c35e4/_0x35b7b9:0x0;_0x469568[_0x28415d]={'p':_0x5a66c1,'r':_0x50b6d6,'upperGroupResponders':_0x180484,'lowerGroupResponders':_0x433335};}),{'perQuestionStats':_0x469568,'overallGroups':{'upperGroupNames':_0x44de52,'lowerGroupNames':_0x156b62}};}function drag(_0x40108a){const _0xaddd61=_0xe477c6;if(draggedSvgElement){_0x40108a[_0xaddd61(0x77e)]();const _0x16c335=draggedSvgElement[_0xaddd61(0x20c)],_0x15bc1f=getPointerPosition(_0x16c335,_0x40108a),_0x13263b=_0x16c335[_0xaddd61(0x2d4)]['baseVal'];let _0x3b7107=_0x15bc1f['x']-svgOffset['x'],_0x1eed1e=_0x15bc1f['y']-svgOffset['y'];const _0x468882=draggedSvgElement['getBBox']();_0x3b7107=Math[_0xaddd61(0x17b)](_0x13263b['x'],Math[_0xaddd61(0x403)](_0x3b7107,_0x13263b['x']+_0x13263b['width']-_0x468882['width'])),_0x1eed1e=Math[_0xaddd61(0x17b)](_0x13263b['y'],Math[_0xaddd61(0x403)](_0x1eed1e,_0x13263b['y']+_0x13263b[_0xaddd61(0x4cf)]-_0x468882[_0xaddd61(0x4cf)])),draggedSvgElement['setAttributeNS'](null,'x',_0x3b7107),draggedSvgElement[_0xaddd61(0x77f)](null,'y',_0x1eed1e);}}function endDrag(_0x26f81d){draggedSvgElement=null;}function handleSvgEditClick(_0x3ef1bb){const _0x11e5ed=_0xe477c6;if(_0x3ef1bb[_0x11e5ed(0x4eb)][_0x11e5ed(0x3d2)][_0x11e5ed(0x3f5)](_0x11e5ed(0x1b5))){const _0x3e5f1c=_0x3ef1bb[_0x11e5ed(0x4eb)]['dataset'][_0x11e5ed(0x40e)],_0xe0686a=_0x3ef1bb[_0x11e5ed(0x687)],_0x22bfa6=_0xe0686a[_0x11e5ed(0x179)]('#'+_0x3e5f1c);_0x22bfa6&&_0x22bfa6[_0x11e5ed(0x73a)](),_0x3ef1bb[_0x11e5ed(0x4eb)][_0x11e5ed(0x73a)]();}}function handleEditQuestion(_0x2982fc){const _0x16f460=_0xe477c6,_0x371136=_0x2982fc[_0x16f460(0x687)],_0x470f83=_0x371136[_0x16f460(0x13e)]['index'],_0x2fab48=currentQuizData['questions'][_0x470f83],_0x2505e5=document[_0x16f460(0x3bf)]('q-text-'+_0x470f83),_0x114aec=document[_0x16f460(0x3bf)]('q-explanation-'+_0x470f83),_0x58ce03=document[_0x16f460(0x3bf)](_0x16f460(0x3a7)+_0x470f83);if(_0x371136[_0x16f460(0x5cf)][_0x16f460(0x554)](_0x16f460(0x64a))){_0x371136['innerHTML']=_0x16f460(0x222),_0x371136[_0x16f460(0x441)]='บันทึกการแก้ไข';if(_0x2505e5)_0x2505e5[_0x16f460(0x4c5)]=!![];if(_0x114aec)_0x114aec[_0x16f460(0x4c5)]=!![];if(_0x58ce03){const _0x25ed46=_0x58ce03[_0x16f460(0x179)](_0x16f460(0x51c));if(_0x25ed46){const _0x4d6542=_0x25ed46[_0x16f460(0x2b5)](_0x16f460(0x6a8));_0x4d6542[_0x16f460(0x793)]((_0x145f8a,_0x55093c)=>{const _0x4b256e=_0x16f460,_0x827706=_0x4b256e(0x478)+_0x470f83+'-'+_0x55093c;_0x145f8a['id']=_0x827706,_0x145f8a[_0x4b256e(0x3d2)][_0x4b256e(0x536)](_0x4b256e(0x312)),_0x145f8a['style'][_0x4b256e(0x28c)]=_0x4b256e(0x1f3);const _0x474b5b=document[_0x4b256e(0x270)](_0x4b256e(0x4c6),'circle'),_0x4e1df2=_0x145f8a[_0x4b256e(0x41a)]();_0x474b5b[_0x4b256e(0x168)]('cx',String(_0x4e1df2['x']+_0x4e1df2[_0x4b256e(0x23a)]+0x5)),_0x474b5b[_0x4b256e(0x168)]('cy',String(_0x4e1df2['y']+_0x4e1df2[_0x4b256e(0x4cf)]/0x2-0x5)),_0x474b5b[_0x4b256e(0x168)]('r','5'),_0x474b5b[_0x4b256e(0x168)](_0x4b256e(0x788),_0x4b256e(0x471)),_0x474b5b[_0x4b256e(0x168)](_0x4b256e(0x290),'delete-svg-btn'),_0x474b5b['dataset']['targetId']=_0x827706,_0x145f8a[_0x4b256e(0x5c5)](_0x474b5b);}),_0x25ed46['addEventListener'](_0x16f460(0x1e9),startDrag),_0x25ed46[_0x16f460(0x30f)]('mousemove',drag),_0x25ed46['addEventListener'](_0x16f460(0x388),endDrag),_0x25ed46['addEventListener'](_0x16f460(0x574),endDrag),_0x25ed46[_0x16f460(0x30f)](_0x16f460(0x782),startDrag,{'passive':![]}),_0x25ed46[_0x16f460(0x30f)](_0x16f460(0x1fb),drag,{'passive':![]}),_0x25ed46[_0x16f460(0x30f)]('touchend',endDrag),_0x25ed46[_0x16f460(0x30f)]('touchcancel',endDrag),_0x25ed46[_0x16f460(0x30f)](_0x16f460(0x707),handleSvgEditClick);}}if(_0x2505e5)_0x2505e5[_0x16f460(0x20d)]();}else{_0x371136[_0x16f460(0x5cf)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x371136[_0x16f460(0x441)]=_0x16f460(0x2cb);if(_0x2505e5){_0x2505e5[_0x16f460(0x4c5)]=![];const _0x30aefb=_0x2fab48[_0x16f460(0x4f4)]||currentQuizData[_0x16f460(0x6c9)];_0x30aefb===_0x16f460(0x611)?_0x2fab48[_0x16f460(0x1bc)]=_0x2505e5[_0x16f460(0x584)][_0x16f460(0x5a6)](_0x2505e5[_0x16f460(0x584)][_0x16f460(0x144)]('.')+0x2)[_0x16f460(0x503)]():_0x2fab48[_0x16f460(0x5a9)]=_0x2505e5['innerText'][_0x16f460(0x5a6)](_0x2505e5[_0x16f460(0x584)][_0x16f460(0x144)]('.')+0x2)[_0x16f460(0x503)]();}_0x114aec&&(_0x114aec['contentEditable']=![],_0x2fab48[_0x16f460(0x52b)]=_0x114aec['innerText']);if(_0x58ce03){const _0x4c7524=_0x58ce03[_0x16f460(0x179)]('svg');if(_0x4c7524){const _0x42ff11=_0x4c7524[_0x16f460(0x463)](!![]);_0x42ff11['querySelectorAll']('.delete-svg-btn')[_0x16f460(0x793)](_0x473ac4=>_0x473ac4[_0x16f460(0x73a)]()),_0x42ff11['querySelectorAll'](_0x16f460(0x138))[_0x16f460(0x793)](_0x3af40f=>{const _0x46ddb5=_0x16f460;_0x3af40f['classList']['remove'](_0x46ddb5(0x312)),_0x3af40f['style'][_0x46ddb5(0x28c)]=_0x46ddb5(0x70c),_0x3af40f['removeAttribute']('id');}),_0x2fab48[_0x16f460(0x295)]=_0x42ff11[_0x16f460(0x3dc)],_0x4c7524[_0x16f460(0x1fd)](_0x16f460(0x1e9),startDrag),_0x4c7524[_0x16f460(0x1fd)]('mousemove',drag),_0x4c7524[_0x16f460(0x1fd)]('mouseup',endDrag),_0x4c7524['removeEventListener'](_0x16f460(0x574),endDrag),_0x4c7524['removeEventListener'](_0x16f460(0x782),startDrag),_0x4c7524['removeEventListener'](_0x16f460(0x1fb),drag),_0x4c7524['removeEventListener'](_0x16f460(0x361),endDrag),_0x4c7524[_0x16f460(0x1fd)]('touchcancel',endDrag),_0x4c7524['removeEventListener'](_0x16f460(0x707),handleSvgEditClick),_0x4c7524['querySelectorAll']('.delete-svg-btn')['forEach'](_0x5f2e31=>_0x5f2e31[_0x16f460(0x73a)]()),_0x4c7524[_0x16f460(0x2b5)](_0x16f460(0x138))['forEach'](_0x52db0d=>{const _0xb1f225=_0x16f460;_0x52db0d['classList'][_0xb1f225(0x73a)](_0xb1f225(0x312)),_0x52db0d[_0xb1f225(0x4a2)][_0xb1f225(0x28c)]=_0xb1f225(0x70c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2edfd7){const _0x218d97=_0xe477c6,_0x105b29=document[_0x218d97(0x3bf)](_0x218d97(0x730)),_0x253c11=document[_0x218d97(0x3bf)](_0x218d97(0x36b));_0x253c11[_0x218d97(0x5cf)]=_0x218d97(0x1bf),_0x105b29[_0x218d97(0x3d2)][_0x218d97(0x73a)](_0x218d97(0x212));try{const _0x109ee5=doc(db,_0x218d97(0x30a)+appId+_0x218d97(0x607),_0x2edfd7),_0x170c44=await getDoc(_0x109ee5);if(!_0x170c44[_0x218d97(0x487)]())throw new Error(_0x218d97(0x127));currentEditingQuizData={'id':_0x2edfd7,..._0x170c44[_0x218d97(0x701)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x26e434){console[_0x218d97(0x268)](_0x218d97(0x1e6),_0x26e434),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x105b29[_0x218d97(0x3d2)]['add'](_0x218d97(0x212));}}function renderQuizEditor(_0x281db0){const _0x3d6bed=_0xe477c6;document[_0x3d6bed(0x3bf)](_0x3d6bed(0x524))[_0x3d6bed(0x21f)]=_0x281db0[_0x3d6bed(0x500)];const _0x4a2821=document[_0x3d6bed(0x3bf)]('quiz-editor-questions-container');let _0x2b5ce3=_0x281db0[_0x3d6bed(0x541)]['map']((_0x2bd270,_0x452e2c)=>{const _0x49d259=_0x3d6bed;let _0x3af584='';const _0x3e94b1=_0x2bd270[_0x49d259(0x4f4)]||_0x281db0[_0x49d259(0x6c9)];switch(_0x3e94b1){case _0x49d259(0x2d3):const _0x45971f=(_0x2bd270[_0x49d259(0x26e)]||[])[_0x49d259(0x571)]((_0x447040,_0x596bed)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x452e2c+_0x49d259(0x4bb)+_0x596bed+'\x22\x20'+(_0x596bed===_0x2bd270['correctAnswerIndex']?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x447040+_0x49d259(0x2b8))[_0x49d259(0x47b)]('');_0x3af584=_0x49d259(0x45d)+_0x45971f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x3af584=_0x49d259(0x3fa)+(_0x2bd270[_0x49d259(0x6b4)]||'')+_0x49d259(0x5f3);break;case'true_false':_0x3af584=_0x49d259(0x47a)+_0x452e2c+'\x22\x20value=\x22true\x22\x20'+(_0x2bd270[_0x49d259(0x3e3)]===!![]?_0x49d259(0x720):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x452e2c+_0x49d259(0x576)+(_0x2bd270[_0x49d259(0x3e3)]===![]?_0x49d259(0x720):'')+_0x49d259(0x759);break;case _0x49d259(0x611):_0x3af584='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2bd270[_0x49d259(0x786)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x1b6115=_0x2bd270[_0x49d259(0x5a9)]||_0x2bd270[_0x49d259(0x1bc)]||'';return _0x49d259(0x626)+_0x452e2c+_0x49d259(0x48e)+_0x3e94b1+_0x49d259(0x5a3)+(_0x452e2c+0x1)+'\x20('+_0x3e94b1+_0x49d259(0x27b)+_0x1b6115+_0x49d259(0x26d)+_0x3af584+_0x49d259(0x464);})[_0x3d6bed(0x47b)]('');_0x4a2821['innerHTML']=_0x2b5ce3;}async function handleSaveChanges(){const _0x4c30d3=_0xe477c6,_0xa8a25f=document[_0x4c30d3(0x3bf)](_0x4c30d3(0x490));_0xa8a25f[_0x4c30d3(0x688)]=!![],_0xa8a25f[_0x4c30d3(0x5cf)]=_0x4c30d3(0x774);try{const _0x3255ca=document[_0x4c30d3(0x3bf)](_0x4c30d3(0x524))[_0x4c30d3(0x21f)],_0x1ed0b5=document[_0x4c30d3(0x2b5)](_0x4c30d3(0x116));let _0x17d018=[];const _0x1a5b19=Array[_0x4c30d3(0x24a)](_0x1ed0b5)[_0x4c30d3(0x571)]((_0x43a4e1,_0x814a6a)=>{const _0xc00f2b=_0x4c30d3,_0x12c9b3=_0x43a4e1['dataset']['qType'],_0x4907b4=_0x43a4e1[_0xc00f2b(0x179)](_0xc00f2b(0x419))[_0xc00f2b(0x21f)];let _0x122db9={'questionType':_0x12c9b3};const _0x3565e6=currentEditingQuizData[_0xc00f2b(0x541)][_0x814a6a];switch(_0x12c9b3){case _0xc00f2b(0x2d3):_0x122db9[_0xc00f2b(0x5a9)]=_0x4907b4;const _0x2294b0=_0x43a4e1['querySelectorAll']('input[type=\x22text\x22]');_0x122db9[_0xc00f2b(0x26e)]=Array[_0xc00f2b(0x24a)](_0x2294b0)[_0xc00f2b(0x571)](_0x3b4cd3=>_0x3b4cd3[_0xc00f2b(0x21f)]);const _0x39f003=_0x43a4e1[_0xc00f2b(0x179)](_0xc00f2b(0x3a0));_0x122db9['correctAnswerIndex']=_0x39f003?parseInt(_0x39f003['value']):0x0;break;case _0xc00f2b(0x39f):_0x122db9[_0xc00f2b(0x5a9)]=_0x4907b4,_0x122db9['idealAnswer']=_0x43a4e1[_0xc00f2b(0x179)]('.ideal-answer-input')[_0xc00f2b(0x21f)];break;case _0xc00f2b(0x1be):_0x122db9[_0xc00f2b(0x5a9)]=_0x4907b4;const _0x158d6d=_0x43a4e1[_0xc00f2b(0x179)](_0xc00f2b(0x3a0));_0x122db9['correctAnswer']=_0x158d6d?_0x158d6d[_0xc00f2b(0x21f)]===_0xc00f2b(0x62b):!![];break;case _0xc00f2b(0x611):_0x122db9['stem']=_0x4907b4;const _0x40723b=_0x43a4e1[_0xc00f2b(0x179)](_0xc00f2b(0x623));_0x122db9['correctResponse']=_0x40723b?_0x40723b[_0xc00f2b(0x21f)]:'',_0x17d018[_0xc00f2b(0x424)](_0x122db9['correctResponse']);break;default:_0x122db9[_0xc00f2b(0x5a9)]=_0x4907b4;break;}return{..._0x3565e6,..._0x122db9};});_0x17d018[_0x4c30d3(0x330)]>0x0&&_0x1a5b19['forEach'](_0x40dbf8=>{const _0x53b1b9=_0x4c30d3;_0x40dbf8[_0x53b1b9(0x4f4)]===_0x53b1b9(0x611)&&(_0x40dbf8[_0x53b1b9(0x450)]=_0x17d018);});const _0x1048b3=doc(db,_0x4c30d3(0x30a)+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x1048b3,{'topic':_0x3255ca,'questions':_0x1a5b19}),showMessage(_0x4c30d3(0x1fc)),document['getElementById'](_0x4c30d3(0x730))['classList'][_0x4c30d3(0x536)](_0x4c30d3(0x212));}catch(_0x31d7bc){console['error'](_0x4c30d3(0x16a),_0x31d7bc),showMessage(_0x4c30d3(0x305));}finally{_0xa8a25f[_0x4c30d3(0x688)]=![],_0xa8a25f['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function saveQuiz(){const _0x2e9bc8=_0xe477c6;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2e9bc8(0x541)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x5aa1f7=document[_0x2e9bc8(0x3bf)]('save-quiz-btn');_0x5aa1f7[_0x2e9bc8(0x688)]=!![],_0x5aa1f7[_0x2e9bc8(0x5cf)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x3e1a44=document['getElementById'](_0x2e9bc8(0x4d8))[_0x2e9bc8(0x720)];let _0x29259b=document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x12b))['innerText'][_0x2e9bc8(0x503)]();_0x3e1a44&&!_0x29259b[_0x2e9bc8(0x618)](_0x2e9bc8(0x4aa))&&(_0x29259b='(ก่อนเรียน)\x20'+_0x29259b);try{const _0x570cdd={'resultsDisplay':document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x78a))[_0x2e9bc8(0x21f)],'shuffle':document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x5ae))[_0x2e9bc8(0x21f)],'timerMode':document['getElementById'](_0x2e9bc8(0x430))['value'],'timerDuration':parseInt(document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x46c))[_0x2e9bc8(0x21f)])||0xa,'passingScore':parseInt(document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x308))['value'])||0x0,'isAdaptive':document['getElementById'](_0x2e9bc8(0x738))[_0x2e9bc8(0x720)]},_0x45138e=(currentQuizData['questions']||[])['map'](_0x5c0d10=>{const _0x5d2cf0=_0x2e9bc8,_0x4fa0ef=document[_0x5d2cf0(0x3bf)](_0x5d2cf0(0x314))['value'],_0x2545d2={'questionText':_0x5c0d10['questionText']||'','explanation':_0x5c0d10[_0x5d2cf0(0x52b)]||_0x5d2cf0(0x4dc),'questionType':_0x5c0d10[_0x5d2cf0(0x4f4)]||_0x4fa0ef,'imageCode':_0x5c0d10['imageCode']||null};return(_0x2545d2[_0x5d2cf0(0x4f4)]===_0x5d2cf0(0x2d3)||_0x2545d2['questionType']===_0x5d2cf0(0x170)||_0x2545d2['questionType']===_0x5d2cf0(0x639)&&_0x5c0d10['options'])&&(_0x2545d2[_0x5d2cf0(0x26e)]=_0x5c0d10[_0x5d2cf0(0x26e)]||[],_0x2545d2[_0x5d2cf0(0x47c)]=_0x5c0d10[_0x5d2cf0(0x47c)]!==undefined?_0x5c0d10[_0x5d2cf0(0x47c)]:0x0),(_0x2545d2['questionType']===_0x5d2cf0(0x39f)||_0x2545d2[_0x5d2cf0(0x4f4)]===_0x5d2cf0(0x354)||_0x2545d2[_0x5d2cf0(0x4f4)]===_0x5d2cf0(0x639)&&_0x5c0d10[_0x5d2cf0(0x6b4)])&&(_0x2545d2[_0x5d2cf0(0x6b4)]=_0x5c0d10[_0x5d2cf0(0x6b4)]||''),_0x2545d2[_0x5d2cf0(0x4f4)]===_0x5d2cf0(0x1be)&&(_0x2545d2[_0x5d2cf0(0x3e3)]=_0x5c0d10[_0x5d2cf0(0x3e3)]===!![]),_0x2545d2[_0x5d2cf0(0x4f4)]===_0x5d2cf0(0x611)&&(_0x2545d2[_0x5d2cf0(0x1bc)]=_0x5c0d10[_0x5d2cf0(0x1bc)]||'',_0x2545d2['correctResponse']=_0x5c0d10[_0x5d2cf0(0x786)]||'',_0x2545d2['allResponses']=_0x5c0d10[_0x5d2cf0(0x450)]||[]),_0x2545d2;}),_0x4253d2={'topic':_0x29259b,'quizType':currentQuizData[_0x2e9bc8(0x6c9)]||'multiple_choice','questions':_0x45138e,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2e9bc8(0x585)](),'status':_0x2e9bc8(0x6a7),'settings':_0x570cdd,'quizMode':_0x3e1a44?'pre-test':_0x2e9bc8(0x38e),'pairedQuizId':null,'lessonPlan':null};let _0x26c646;while(!![]){_0x26c646=Math[_0x2e9bc8(0x28b)](0x3e8+Math[_0x2e9bc8(0x178)]()*0x2328)['toString']();const _0x2e2245=await getDoc(doc(db,_0x2e9bc8(0x30a)+appId+_0x2e9bc8(0x607),_0x26c646));if(!_0x2e2245[_0x2e9bc8(0x487)]())break;}await setDoc(doc(db,_0x2e9bc8(0x30a)+appId+_0x2e9bc8(0x607),_0x26c646),_0x4253d2),currentQuizData[_0x2e9bc8(0x256)]=_0x570cdd,currentQuizData['id']=_0x26c646;const _0x173a31=document['getElementById'](_0x2e9bc8(0x658));_0x173a31[_0x2e9bc8(0x5cf)]=_0x2e9bc8(0x33d)+_0x26c646+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById'](_0x2e9bc8(0x164))['addEventListener'](_0x2e9bc8(0x707),()=>copyTextToClipboard(_0x26c646,_0x2e9bc8(0x63a))),document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x46d))[_0x2e9bc8(0x30f)]('click',()=>handleStartLiveRace(_0x26c646)),document[_0x2e9bc8(0x3bf)]('start-presentation-btn')[_0x2e9bc8(0x30f)](_0x2e9bc8(0x707),()=>startPresentation(currentQuizData)),document[_0x2e9bc8(0x3bf)](_0x2e9bc8(0x772))[_0x2e9bc8(0x30f)](_0x2e9bc8(0x707),startAdminTest),showMessage(_0x2e9bc8(0x3b2));}catch(_0x24c869){console['error'](_0x2e9bc8(0x3a9),_0x24c869),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x5aa1f7[_0x2e9bc8(0x688)]=![],_0x5aa1f7[_0x2e9bc8(0x5cf)]=_0x2e9bc8(0x6e5);}}function promptForProjectAndSave(){const _0x169f0a=_0xe477c6,_0x116fd0=document['getElementById']('move-quiz-modal'),_0xa57acc=document[_0x169f0a(0x3bf)]('move-quiz-project-select'),_0x5161e7=_0x116fd0[_0x169f0a(0x179)]('h3'),_0x296ed2=document[_0x169f0a(0x3bf)](_0x169f0a(0x692));_0x5161e7[_0x169f0a(0x13f)]=_0x169f0a(0x61d),_0x296ed2['textContent']=_0x169f0a(0x244);allProjects['length']===0x0?(_0xa57acc['innerHTML']=_0x169f0a(0x4ca),_0x296ed2['disabled']=!![]):(_0xa57acc[_0x169f0a(0x5cf)]=allProjects['map'](_0xf7193a=>_0x169f0a(0x407)+_0xf7193a['id']+'\x22>'+_0xf7193a['projectName']+_0x169f0a(0x194))[_0x169f0a(0x47b)](''),_0x296ed2[_0x169f0a(0x688)]=![]);_0x116fd0[_0x169f0a(0x3d2)][_0x169f0a(0x73a)](_0x169f0a(0x212));const _0x2f04cf=()=>{const _0x3e0815=_0x169f0a,_0x57262a=_0xa57acc['value'];_0x57262a?(currentProjectId=_0x57262a,_0x116fd0[_0x3e0815(0x3d2)]['add'](_0x3e0815(0x212)),saveQuiz(),_0x5161e7[_0x3e0815(0x13f)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x296ed2[_0x3e0815(0x13f)]=_0x3e0815(0x278),_0x296ed2[_0x3e0815(0x1fd)](_0x3e0815(0x707),_0x2f04cf),_0x296ed2[_0x3e0815(0x30f)](_0x3e0815(0x707),confirmMoveQuiz)):showMessage(_0x3e0815(0x44d));};_0x296ed2[_0x169f0a(0x1fd)](_0x169f0a(0x707),confirmMoveQuiz),_0x296ed2[_0x169f0a(0x30f)](_0x169f0a(0x707),_0x2f04cf);}function copyTextToClipboard(_0x14fbf1,_0x17d0f9){const _0x34f3c7=_0xe477c6,_0x13de15=document['createElement'](_0x34f3c7(0x419));_0x13de15[_0x34f3c7(0x21f)]=_0x14fbf1,_0x13de15[_0x34f3c7(0x4a2)][_0x34f3c7(0x2c8)]=_0x34f3c7(0x253),_0x13de15[_0x34f3c7(0x4a2)][_0x34f3c7(0x186)]='0',document[_0x34f3c7(0x708)][_0x34f3c7(0x2c0)](_0x13de15),_0x13de15[_0x34f3c7(0x20d)](),_0x13de15[_0x34f3c7(0x685)]();try{const _0x4c01a0=document[_0x34f3c7(0x390)](_0x34f3c7(0x6de));showMessage(_0x4c01a0?_0x17d0f9:'คัดลอกไม่สำเร็จ');}catch(_0x23d60f){showMessage(_0x34f3c7(0x2d2)),console[_0x34f3c7(0x268)](_0x34f3c7(0x359),_0x23d60f);}document[_0x34f3c7(0x708)]['removeChild'](_0x13de15);}function listenForProjectQuizzes(_0x58d8de){const _0x1f5fc8=_0xe477c6,_0x4fcc67=collection(db,_0x1f5fc8(0x30a)+appId+_0x1f5fc8(0x607)),_0x1b1be7=query(_0x4fcc67,where(_0x1f5fc8(0x3f8),'==',_0x58d8de));unsubscribeQuizzesListener=onSnapshot(_0x1b1be7,async _0x472302=>{const _0x3e9f1c=_0x1f5fc8;allQuizzes=_0x472302[_0x3e9f1c(0x4ec)][_0x3e9f1c(0x571)](_0x32d2a8=>({'id':_0x32d2a8['id'],..._0x32d2a8[_0x3e9f1c(0x701)]()})),renderQuizzes();},_0x3df54b=>{const _0x50f27a=_0x1f5fc8;console[_0x50f27a(0x268)]('Error\x20fetching\x20project\x20quizzes:',_0x3df54b),document[_0x50f27a(0x3bf)](_0x50f27a(0x69f))['innerHTML']=_0x50f27a(0x3c1);});}async function renderQuizzes(){const _0x15db53=_0xe477c6,_0x159a47=document[_0x15db53(0x3bf)](_0x15db53(0x69f)),_0xf5270d=document['getElementById'](_0x15db53(0x428))['value'][_0x15db53(0x173)]();let _0x421f2f;currentProjectId==='starred'?_0x421f2f=starredQuizzes:_0x421f2f=allQuizzes;let _0x531ce7=_0x421f2f[_0x15db53(0x5b5)](_0x3ba9f0=>_0x3ba9f0[_0x15db53(0x500)]['toLowerCase']()['includes'](_0xf5270d));_0x531ce7[_0x15db53(0x1dc)]((_0xfd699b,_0xa2f59b)=>new Date(_0xa2f59b[_0x15db53(0x154)])-new Date(_0xfd699b[_0x15db53(0x154)]));if(_0x531ce7[_0x15db53(0x330)]===0x0){_0x159a47['innerHTML']=_0x15db53(0x306);return;}const _0x1b23e0={},_0x4dda47=_0x531ce7[_0x15db53(0x571)](async _0x41ea4f=>{const _0x5aadba=_0x15db53,_0x49d9b7=collection(db,'artifacts/'+appId+_0x5aadba(0x475)+_0x41ea4f['id']+_0x5aadba(0x213)),_0x5b4682=await getDocs(_0x49d9b7);_0x1b23e0[_0x41ea4f['id']]=_0x5b4682[_0x5aadba(0x3ff)];});await Promise[_0x15db53(0x1ca)](_0x4dda47);let _0x8c6818='';_0x531ce7[_0x15db53(0x793)](_0x3e0c85=>{const _0x46aaed=_0x15db53,_0x18cb2d=_0x1b23e0[_0x3e0c85['id']]||0x0,_0x1812fb=_0x3e0c85[_0x46aaed(0x342)]||_0x46aaed(0x6a7),_0x200326=_0x3e0c85[_0x46aaed(0x256)]?.['timerMode']||'none';let _0xdfcd0='',_0x2ca623='';const _0x476afe=new Date();let _0x2f6ab6=_0x1812fb;if(_0x1812fb===_0x46aaed(0x43d)){const _0x168441=_0x3e0c85[_0x46aaed(0x3bc)]?new Date(_0x3e0c85[_0x46aaed(0x3bc)]):null,_0xbfa4b5=_0x3e0c85[_0x46aaed(0x6b8)]?new Date(_0x3e0c85['endTime']):null;if(_0xbfa4b5&&_0x476afe>_0xbfa4b5)_0x2f6ab6='inactive';else _0x168441&&_0x476afe<_0x168441?_0x2f6ab6=_0x46aaed(0x335):_0x2f6ab6=_0x46aaed(0x6a7);}switch(_0x2f6ab6){case _0x46aaed(0x1fe):_0xdfcd0=_0x46aaed(0x3ea),_0x2ca623=_0x46aaed(0x73b);break;case _0x46aaed(0x335):_0xdfcd0=_0x46aaed(0x6dd),_0x2ca623='text-blue-700\x20bg-blue-100';break;case'active':_0xdfcd0=_0x200326!==_0x46aaed(0x406)?_0x46aaed(0x2d8):'เปิดใช้งาน',_0x2ca623=_0x46aaed(0x4e6);break;default:_0xdfcd0=_0x46aaed(0x166),_0x2ca623=_0x46aaed(0x4e6);}let _0x4054b5='';const _0x3a3338={'day':_0x46aaed(0x516),'month':_0x46aaed(0x516),'year':_0x46aaed(0x311),'hour':_0x46aaed(0x516),'minute':'2-digit','hour12':![]};_0x1812fb===_0x46aaed(0x43d)&&(_0x3e0c85[_0x46aaed(0x3bc)]&&(_0x4054b5+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x3e0c85['startTime'])[_0x46aaed(0x10d)](_0x46aaed(0x125),_0x3a3338)+_0x46aaed(0x7a7)),_0x3e0c85[_0x46aaed(0x6b8)]&&(_0x4054b5+=_0x46aaed(0x2ef)+new Date(_0x3e0c85[_0x46aaed(0x6b8)])[_0x46aaed(0x10d)](_0x46aaed(0x125),_0x3a3338)+_0x46aaed(0x7a7)));let _0x278e53='';if(_0x18cb2d>0x0){if(_0x3e0c85[_0x46aaed(0x3ca)]===_0x46aaed(0x2cd)&&_0x3e0c85[_0x46aaed(0x48f)])_0x278e53=_0x46aaed(0x37f)+_0x3e0c85['id']+_0x46aaed(0x577)+_0x3e0c85[_0x46aaed(0x48f)]+_0x46aaed(0x67a);else{const _0x16658e=_0x3e0c85['quizMode']==='pre-test',_0x565704=_0x16658e?_0x46aaed(0x19c):'from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l',_0x4a0a8e=_0x16658e?_0x46aaed(0x72b):_0x46aaed(0x126);_0x278e53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20'+_0x565704+_0x46aaed(0x2b6)+_0x4a0a8e+_0x46aaed(0x1a8);}}_0x8c6818+=_0x46aaed(0x377)+_0x3e0c85['id']+_0x46aaed(0x296)+_0x3e0c85['topic']+_0x46aaed(0x2e1)+_0x3e0c85[_0x46aaed(0x541)]['length']+_0x46aaed(0x77a)+new Date(_0x3e0c85[_0x46aaed(0x154)])['toLocaleString'](_0x46aaed(0x125))+_0x46aaed(0x583)+_0x18cb2d+_0x46aaed(0x1b9)+_0x4054b5+_0x46aaed(0x338)+_0x2ca623+'\x22>'+_0xdfcd0+_0x46aaed(0x76b)+_0x3e0c85['id']+_0x46aaed(0x2ed)+_0x3e0c85['id']+_0x46aaed(0x660)+(_0x3e0c85['isStarred']?_0x46aaed(0x5fb):_0x46aaed(0x1ac))+_0x46aaed(0x704)+_0x278e53+_0x46aaed(0x2de)+_0x3e0c85['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+_0x46aaed(0x38f)+_0x3e0c85['id']+_0x46aaed(0x356)+_0x3e0c85['id']+_0x46aaed(0x23c)+_0x3e0c85['id']+_0x46aaed(0x193)+_0x3e0c85[_0x46aaed(0x500)]+_0x46aaed(0x76a)+_0x3e0c85['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+_0x46aaed(0x44e)+_0x3e0c85['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+_0x46aaed(0x373)+_0x3e0c85['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e0c85['id']+'\x22\x20data-topic=\x22'+_0x3e0c85[_0x46aaed(0x500)]+_0x46aaed(0x24f);}),_0x159a47[_0x15db53(0x5cf)]=_0x8c6818,document['querySelectorAll'](_0x15db53(0x61b))[_0x15db53(0x793)](_0x49b2ce=>{const _0x565017=_0x15db53;_0x49b2ce[_0x565017(0x30f)](_0x565017(0x707),()=>{const _0x5dd932=_0x565017,_0x3d633f=_0x49b2ce['dataset'][_0x5dd932(0x630)];showQuizDetailView(_0x3d633f);});});}function formatAndPrintLessonPlan(_0x13905e,_0x21a47c){const _0x2203cb=_0xe477c6,_0x423fcc=window[_0x2203cb(0x345)]('',_0x2203cb(0x36d)),_0x4208dc=_0x2203cb(0x551)+_0x21a47c[_0x2203cb(0x500)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x21a47c[_0x2203cb(0x500)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13905e[_0x2203cb(0x4f1)]['map'](_0x55127a=>_0x2203cb(0x6a1)+_0x55127a+_0x2203cb(0x216))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x13905e[_0x2203cb(0x573)]+_0x2203cb(0x6c6)+_0x13905e[_0x2203cb(0x5e5)][_0x2203cb(0x571)](_0x4b82ba=>_0x2203cb(0x466)+_0x4b82ba[_0x2203cb(0x6f0)]+_0x2203cb(0x129)+_0x4b82ba[_0x2203cb(0x70e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2203cb(0x47b)]('')+_0x2203cb(0x21b);_0x423fcc[_0x2203cb(0x2b0)][_0x2203cb(0x294)](_0x4208dc),_0x423fcc['document'][_0x2203cb(0x26f)](),_0x423fcc[_0x2203cb(0x20f)]=function(){setTimeout(()=>{const _0x32e4f1=_0x3c0d;_0x423fcc[_0x32e4f1(0x267)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x34c9b4){const _0x9c8546=_0xe477c6;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x5232a7=doc(db,_0x9c8546(0x30a)+appId+_0x9c8546(0x607),_0x34c9b4),_0x511101=await getDoc(_0x5232a7);if(!_0x511101[_0x9c8546(0x487)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x56c194={'id':_0x34c9b4,..._0x511101[_0x9c8546(0x701)]()},_0x5e6f3c=collection(db,_0x9c8546(0x30a)+appId+_0x9c8546(0x607),_0x34c9b4,_0x9c8546(0x1e7)),_0x1acb2e=await getDocs(_0x5e6f3c),_0x2cc384=_0x1acb2e[_0x9c8546(0x4ec)][_0x9c8546(0x571)](_0x53c58b=>_0x53c58b[_0x9c8546(0x701)]());if(_0x2cc384['length']===0x0)throw new Error(_0x9c8546(0x5fd));const _0x30f8c0=calculateItemAnalysis(_0x56c194,_0x2cc384)[_0x9c8546(0x4c3)],_0x45e817=calculateDistractorAnalysis(_0x56c194,_0x2cc384),_0x5c702f=_0x37ebdd=>{const _0x19a9f6=_0x9c8546;if(!_0x37ebdd)return'';return _0x37ebdd[_0x19a9f6(0x3ef)](/\\/g,'\x5c\x5c')[_0x19a9f6(0x3ef)](/"/g,'\x5c\x22')[_0x19a9f6(0x3ef)](/\n/g,'\x5cn');};let _0x5189ad=_0x9c8546(0x6d6);_0x56c194[_0x9c8546(0x541)][_0x9c8546(0x793)]((_0xf2dcde,_0x1c3d46)=>{const _0x5e4c95=_0x9c8546,_0x54c631=_0x30f8c0[_0x1c3d46]?.['p'][_0x5e4c95(0x227)](0x2)||_0x5e4c95(0x174),_0x4a044e=_0x30f8c0[_0x1c3d46]?.['r'][_0x5e4c95(0x227)](0x2)||_0x5e4c95(0x174),_0x265565=_0x5c702f(_0xf2dcde['questionText']||_0xf2dcde[_0x5e4c95(0x1bc)]);_0x5189ad+='-\x20ข้อ\x20'+(_0x1c3d46+0x1)+_0x5e4c95(0x124)+_0x54c631+',\x20r='+_0x4a044e+'):\x20'+_0x265565+'\x5cn';if(_0xf2dcde[_0x5e4c95(0x4f4)]===_0x5e4c95(0x2d3)&&_0x45e817[_0x1c3d46]){const _0x57f0ec=_0x45e817[_0x1c3d46],_0x2fb3be=Object['keys'](_0x57f0ec)['filter'](_0x1e440e=>parseInt(_0x1e440e)!==_0xf2dcde['correctAnswerIndex'])[_0x5e4c95(0x1dc)]((_0x13e923,_0x4a4e82)=>_0x57f0ec[_0x4a4e82][_0x5e4c95(0x12a)]-_0x57f0ec[_0x13e923][_0x5e4c95(0x12a)])[0x0];if(_0x2fb3be&&_0x57f0ec[_0x2fb3be][_0x5e4c95(0x12a)]>0x0){const _0x243f00=_0x5c702f(_0x57f0ec[_0x2fb3be][_0x5e4c95(0x6a8)]);_0x5189ad+=_0x5e4c95(0x7a9)+_0x243f00+_0x5e4c95(0x14a);}}});const _0xcee587=_0x9c8546(0x5c1)+_0x56c194[_0x9c8546(0x500)]+_0x9c8546(0x4d1)+_0x5189ad+_0x9c8546(0x53a),_0x138a80={'type':_0x9c8546(0x652),'properties':{'learningGaps':{'type':_0x9c8546(0x5ce),'items':{'type':_0x9c8546(0x77b)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x9c8546(0x5ce),'items':{'type':_0x9c8546(0x652),'properties':{'question':{'type':_0x9c8546(0x77b)},'solution':{'type':_0x9c8546(0x77b)}}}}},'required':['learningGaps',_0x9c8546(0x573),_0x9c8546(0x5e5)]},_0x131b69=await callAnalysisApi(_0xcee587,_0x138a80);await updateDoc(_0x5232a7,{'lessonPlan':_0x131b69});const _0x198ac5=_0x9c8546(0x7aa)+_0x56c194[_0x9c8546(0x500)]+_0x9c8546(0x152)+_0x131b69[_0x9c8546(0x4f1)][_0x9c8546(0x571)](_0x1bf5de=>_0x9c8546(0x6a1)+_0x1bf5de+_0x9c8546(0x216))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x131b69[_0x9c8546(0x573)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x131b69[_0x9c8546(0x5e5)][_0x9c8546(0x571)](_0x25f24d=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x25f24d['question']+_0x9c8546(0x326)+_0x25f24d[_0x9c8546(0x70e)]+_0x9c8546(0x462))[_0x9c8546(0x47b)]('')+_0x9c8546(0x75e);document[_0x9c8546(0x3bf)]('lesson-plan-title')[_0x9c8546(0x13f)]=_0x9c8546(0x1a7)+_0x56c194[_0x9c8546(0x500)],document['getElementById'](_0x9c8546(0x794))[_0x9c8546(0x5cf)]=_0x198ac5,document['getElementById'](_0x9c8546(0x375))[_0x9c8546(0x3d2)]['remove'](_0x9c8546(0x212)),messageModal[_0x9c8546(0x3d2)]['add']('hidden');}catch(_0x4655ba){console['error'](_0x9c8546(0x529),_0x4655ba),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4655ba[_0x9c8546(0x156)]);}}async function handleDuplicateQuiz(_0x5d1dd2){const _0x1027aa=_0xe477c6;try{const _0x372b78=doc(db,_0x1027aa(0x30a)+appId+_0x1027aa(0x607),_0x5d1dd2),_0x1bda12=await getDoc(_0x372b78);if(_0x1bda12['exists']()){const _0x3ad28f=_0x1bda12['data']();let _0x5cd061=_0x3ad28f[_0x1027aa(0x500)];_0x5cd061[_0x1027aa(0x618)](_0x1027aa(0x4aa))&&(_0x5cd061=_0x5cd061[_0x1027aa(0x3ef)](_0x1027aa(0x4aa),'')[_0x1027aa(0x503)]());const _0x4a84fd='(หลังเรียน)\x20'+_0x5cd061,_0x486000={..._0x3ad28f,'topic':_0x4a84fd,'createdAt':new Date()[_0x1027aa(0x585)](),'quizMode':_0x3ad28f[_0x1027aa(0x3ca)]===_0x1027aa(0x461)?'post-test':_0x1027aa(0x38e),'pairedQuizId':_0x3ad28f[_0x1027aa(0x3ca)]===_0x1027aa(0x461)?_0x5d1dd2:null};let _0x51900d;while(!![]){_0x51900d=Math[_0x1027aa(0x28b)](0x3e8+Math[_0x1027aa(0x178)]()*0x2328)[_0x1027aa(0x6d9)]();const _0x521e6c=await getDoc(doc(db,_0x1027aa(0x30a)+appId+_0x1027aa(0x607),_0x51900d));if(!_0x521e6c[_0x1027aa(0x487)]())break;}const _0x529310=doc(db,_0x1027aa(0x30a)+appId+'/public/data/quizzes',_0x51900d);await setDoc(_0x529310,_0x486000),_0x486000[_0x1027aa(0x3ca)]===_0x1027aa(0x2cd)&&await updateDoc(_0x372b78,{'pairedQuizId':_0x51900d}),showMessage(_0x1027aa(0x6f1));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x4c1da6){console['error'](_0x1027aa(0x544),_0x4c1da6),showMessage(_0x1027aa(0x12f));}}async function handleDeleteQuiz(_0x5b9950,_0x5521b7=!![]){const _0x1e83d1=_0xe477c6;try{const _0x525515=writeBatch(db),_0x1a608c=collection(db,_0x1e83d1(0x30a)+appId+'/public/data/quizzes/'+_0x5b9950+_0x1e83d1(0x213)),_0x35a274=await getDocs(_0x1a608c);_0x35a274[_0x1e83d1(0x793)](_0xca1ec0=>{_0x525515['delete'](doc(_0x1a608c,_0xca1ec0['id']));});const _0x36294f=doc(db,'artifacts/'+appId+_0x1e83d1(0x607),_0x5b9950);_0x525515[_0x1e83d1(0x11f)](_0x36294f),await _0x525515['commit'](),_0x5521b7&&showMessage(_0x1e83d1(0x527));}catch(_0x1dcf17){console['error'](_0x1e83d1(0x65d),_0x1dcf17),_0x5521b7&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x305c22){const _0x2d0fd6=_0xe477c6;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2d0fd6(0x1ae));try{const _0x699bb9=doc(db,_0x2d0fd6(0x30a)+appId+_0x2d0fd6(0x607),_0x305c22),_0x416bac=await getDoc(_0x699bb9);if(!_0x416bac[_0x2d0fd6(0x487)]()){showMessage(_0x2d0fd6(0x642));return;}const _0x5d8fe7={'id':_0x416bac['id'],..._0x416bac[_0x2d0fd6(0x701)]()};currentQuizData=_0x5d8fe7;const _0x1900f9=doc(db,_0x2d0fd6(0x30a)+appId+_0x2d0fd6(0x396),_0x5d8fe7[_0x2d0fd6(0x3f8)]),_0x15bc11=await getDoc(_0x1900f9);_0x15bc11[_0x2d0fd6(0x487)]()?(currentProjectData=_0x15bc11['data'](),currentProjectId=_0x5d8fe7['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x5d8fe7['projectId']);document[_0x2d0fd6(0x3bf)](_0x2d0fd6(0x276))['textContent']=_0x5d8fe7[_0x2d0fd6(0x500)],document[_0x2d0fd6(0x3bf)](_0x2d0fd6(0x3c6))['textContent']=_0x305c22;const _0x3b1fe6=collection(db,_0x2d0fd6(0x30a)+appId+_0x2d0fd6(0x607),_0x305c22,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x3b1fe6,_0x2ca748=>{const _0xbe8b83=_0x2d0fd6,_0x1e4ceb=_0x2ca748[_0xbe8b83(0x4ec)][_0xbe8b83(0x571)](_0x35cef9=>({'id':_0x35cef9['id'],..._0x35cef9[_0xbe8b83(0x701)]()}));currentSubmissions=_0x1e4ceb,renderAnswerGrid(currentProjectData[_0xbe8b83(0x3e1)],_0x1e4ceb,_0x5d8fe7),renderAnalytics(_0x5d8fe7,_0x1e4ceb),renderQuizResultsTable(currentProjectData[_0xbe8b83(0x3e1)],_0x1e4ceb,_0x5d8fe7),renderQuizLeaderboard(_0x1e4ceb,_0x5d8fe7,_0xbe8b83(0x680));}),showView(_0x2d0fd6(0x547));}catch(_0x3edd05){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x3edd05),showMessage(_0x2d0fd6(0x328));}}function renderAnswerGrid(_0x4029d5,_0x535d0d,_0x2f5b73){const _0x21a4a4=_0xe477c6,_0x4f99ae=document[_0x21a4a4(0x3bf)](_0x21a4a4(0x5f6));if(!_0x4f99ae)return;if(!_0x4029d5||_0x4029d5[_0x21a4a4(0x330)]===0x0||_0x535d0d['length']===0x0){_0x4f99ae[_0x21a4a4(0x5cf)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลคำตอบของนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x51bd94=_0x2f5b73[_0x21a4a4(0x541)],_0xe6aa8a=_0x535d0d[_0x21a4a4(0x17c)]((_0x34a241,_0x4e684e)=>{const _0x469b1e=_0x21a4a4;return _0x34a241[_0x4e684e[_0x469b1e(0x169)]]=_0x4e684e,_0x34a241;},{}),_0x111a8d=_0x3fbb43=>String[_0x21a4a4(0x706)](0x41+_0x3fbb43),_0x25f7af=_0x1f17b3=>{const _0x494f37=_0x21a4a4;switch(_0x1f17b3[_0x494f37(0x4f4)]){case _0x494f37(0x2d3):return _0x1f17b3[_0x494f37(0x26e)]?_0x111a8d(_0x1f17b3[_0x494f37(0x47c)]):'-';case _0x494f37(0x1be):return _0x1f17b3[_0x494f37(0x3e3)]?_0x494f37(0x180):_0x494f37(0x513);case _0x494f37(0x611):return _0x1f17b3[_0x494f37(0x786)];case _0x494f37(0x39f):return'พิมพ์ตอบ';default:return'-';}},_0x455a70=(_0x180f43,_0x2768d8)=>{const _0x4d4f35=_0x21a4a4;if(_0x2768d8[_0x4d4f35(0x325)]===null||_0x2768d8[_0x4d4f35(0x325)]===undefined)return'-';switch(_0x180f43[_0x4d4f35(0x4f4)]){case _0x4d4f35(0x2d3):const _0x2e2c84=_0x180f43[_0x4d4f35(0x26e)]['findIndex'](_0x328204=>_0x328204===_0x2768d8[_0x4d4f35(0x385)]);return _0x2e2c84!==-0x1?_0x111a8d(_0x2e2c84):_0x2768d8[_0x4d4f35(0x385)]||'-';case _0x4d4f35(0x1be):return _0x2768d8['answer']===_0x4d4f35(0x62b)||_0x2768d8[_0x4d4f35(0x325)]===!![]?_0x4d4f35(0x180):_0x4d4f35(0x513);default:return _0x2768d8['answer'];}};let _0x7a0208=_0x21a4a4(0x661)+_0x51bd94[_0x21a4a4(0x571)]((_0x4cf9fa,_0x8ddccb)=>_0x21a4a4(0x62d)+(_0x8ddccb+0x1)+_0x21a4a4(0x131))[_0x21a4a4(0x47b)]('')+_0x21a4a4(0x504)+_0x51bd94['map'](_0x85f713=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x25f7af(_0x85f713)+'</td>')[_0x21a4a4(0x47b)]('')+_0x21a4a4(0x2ee);_0x4029d5[_0x21a4a4(0x793)](_0x230968=>{const _0x353146=_0x21a4a4;_0x7a0208+=_0x353146(0x417),_0x7a0208+=_0x353146(0x700)+_0x230968+'</td>';const _0x2be113=_0xe6aa8a[_0x230968];if(_0x2be113){const _0x31674d=_0x2be113[_0x353146(0x6bb)][_0x2be113['attempts'][_0x353146(0x330)]-0x1];_0x51bd94[_0x353146(0x793)]((_0x182f47,_0x418ce3)=>{const _0x240f09=_0x353146,_0xabc7e9=_0x31674d[_0x240f09(0x752)][_0x240f09(0x6d0)](_0x1d0def=>_0x1d0def[_0x240f09(0x43c)]===(_0x182f47[_0x240f09(0x1bc)]||_0x182f47['questionText']));if(_0xabc7e9){const _0x56261a=_0xabc7e9['isCorrect']?_0x240f09(0x18a):_0x240f09(0x616);_0x7a0208+=_0x240f09(0x555)+_0x56261a+'\x22>'+_0x455a70(_0x182f47,_0xabc7e9)+_0x240f09(0x5c2);}else _0x7a0208+=_0x240f09(0x627);});}else _0x7a0208+=_0x51bd94[_0x353146(0x571)](()=>_0x353146(0x143))[_0x353146(0x47b)]('');_0x7a0208+='</tr>';}),_0x7a0208+=_0x21a4a4(0x6ef),_0x4f99ae[_0x21a4a4(0x5cf)]=_0x7a0208;}function renderQuizResultsTable(_0x3a21eb,_0x4994ad,_0x509996){const _0x2734da=_0xe477c6,_0x4141e8=_0x4994ad[_0x2734da(0x17c)]((_0x5b91ca,_0x52d507)=>{const _0x2c6f40=_0x2734da;return _0x5b91ca[_0x52d507[_0x2c6f40(0x169)]]=_0x52d507,_0x5b91ca;},{}),_0x961e2b=document['getElementById'](_0x2734da(0x111));if(!_0x3a21eb||_0x3a21eb['length']===0x0){_0x961e2b[_0x2734da(0x5cf)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x209c5a=_0x509996[_0x2734da(0x415)]===!![],_0x4a084b=_0x509996[_0x2734da(0x256)]?.[_0x2734da(0x2da)]??-0x1;let _0x2da885='';_0x3a21eb[_0x2734da(0x793)](_0x4cf0c5=>{const _0x11227e=_0x2734da,_0x2f0a3f=_0x4141e8[_0x4cf0c5];let _0x138157=_0x11227e(0x421),_0x19929e=_0x11227e(0x1b4)+(_0x209c5a?_0x11227e(0x68b):_0x11227e(0x2ba))+'\x22>'+(_0x209c5a?_0x11227e(0x21c):'สอบปกติ')+_0x11227e(0x447);if(_0x2f0a3f){let _0x1f6f23;_0x209c5a?_0x1f6f23=_0x2f0a3f[_0x11227e(0x494)]===_0x2f0a3f[_0x11227e(0x590)]:_0x1f6f23=_0x4a084b!==-0x1&&_0x2f0a3f[_0x11227e(0x494)]>=_0x4a084b;if(_0x209c5a||_0x4a084b!==-0x1){const _0x523291=_0x1f6f23?_0x11227e(0x66b):_0x11227e(0x163),_0x29ea37=_0x1f6f23?_0x11227e(0x689):_0x11227e(0x38d);_0x138157=_0x11227e(0x6e2)+_0x523291+'\x22>'+_0x29ea37+_0x11227e(0x447);}const _0xbd2901=_0x11227e(0x393)+(_0x2f0a3f[_0x11227e(0x6bb)]?.[_0x11227e(0x330)]||0x1)+_0x11227e(0x37c);_0x2da885+=_0x11227e(0x5c0)+_0x4cf0c5+_0x11227e(0x11a)+_0x2f0a3f[_0x11227e(0x494)]+_0x11227e(0x3f1)+_0x2f0a3f[_0x11227e(0x590)]+_0x11227e(0x2bb)+_0x138157+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19929e+_0x11227e(0x18c)+_0x2f0a3f['firstScore']+_0x11227e(0x3f1)+_0x2f0a3f[_0x11227e(0x590)]+_0x11227e(0x6b9)+_0x2f0a3f[_0x11227e(0x648)]+_0x11227e(0x4f6)+(_0x2f0a3f['points']||0x0)+_0x11227e(0x2bb)+_0xbd2901+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2f0a3f['latestSubmittedAt'])[_0x11227e(0x10d)](_0x11227e(0x125))+_0x11227e(0x6d4);}else{const _0x1bb14c=_0x11227e(0x55f);_0x2da885+=_0x11227e(0x5c0)+_0x4cf0c5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19929e+_0x11227e(0x6e1)+_0x1bb14c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x961e2b[_0x2734da(0x5cf)]=_0x2da885;}function handleRenameQuiz(_0x3f3251,_0x112cb9){const _0x25266d=_0xe477c6;actionTargetId=_0x3f3251,document[_0x25266d(0x3bf)](_0x25266d(0x2a9))[_0x25266d(0x21f)]=_0x112cb9,renameQuizModal['classList'][_0x25266d(0x73a)](_0x25266d(0x212));}async function confirmRenameQuiz(){const _0x8946ce=_0xe477c6,_0x4409ab=document[_0x8946ce(0x3bf)](_0x8946ce(0x2a9))[_0x8946ce(0x21f)][_0x8946ce(0x503)]();if(!_0x4409ab){showMessage(_0x8946ce(0x353));return;}if(!actionTargetId)return;const _0x356e2d=doc(db,'artifacts/'+appId+_0x8946ce(0x607),actionTargetId);try{await updateDoc(_0x356e2d,{'topic':_0x4409ab}),showMessage(_0x8946ce(0x488)),renameQuizModal[_0x8946ce(0x3d2)][_0x8946ce(0x536)](_0x8946ce(0x212)),actionTargetId=null;}catch(_0x21f45d){console['error'](_0x8946ce(0x39e),_0x21f45d),showMessage(_0x8946ce(0x139));}}async function handleMoveQuiz(_0x29dafe){const _0x592ce6=_0xe477c6;actionTargetId=_0x29dafe;const _0x278998=document[_0x592ce6(0x3bf)](_0x592ce6(0x617));_0x278998[_0x592ce6(0x5cf)]=_0x592ce6(0x5aa),moveQuizModal[_0x592ce6(0x3d2)]['remove']('hidden');try{const _0x532e94=collection(db,'artifacts/'+appId+_0x592ce6(0x396)),_0x3a102b=await getDocs(_0x532e94),_0x29fc4d=_0x3a102b[_0x592ce6(0x4ec)][_0x592ce6(0x571)](_0xdbd0dd=>({'id':_0xdbd0dd['id'],..._0xdbd0dd['data']()})),_0x4c3e6b=_0x29fc4d[_0x592ce6(0x5b5)](_0x71d9e1=>_0x71d9e1['id']!==currentProjectId);if(_0x4c3e6b[_0x592ce6(0x330)]===0x0){_0x278998[_0x592ce6(0x5cf)]=_0x592ce6(0x562),document['getElementById'](_0x592ce6(0x692))['disabled']=!![];return;}_0x278998[_0x592ce6(0x5cf)]=_0x4c3e6b[_0x592ce6(0x571)](_0x4fde9a=>'<option\x20value=\x22'+_0x4fde9a['id']+'\x22>'+_0x4fde9a[_0x592ce6(0x2a1)]+_0x592ce6(0x194))[_0x592ce6(0x47b)](''),document[_0x592ce6(0x3bf)]('confirm-move-quiz-btn')[_0x592ce6(0x688)]=![];}catch(_0x4365d7){console[_0x592ce6(0x268)](_0x592ce6(0x4e7),_0x4365d7),showMessage(_0x592ce6(0x23f)),moveQuizModal[_0x592ce6(0x3d2)][_0x592ce6(0x536)]('hidden');}}async function confirmMoveQuiz(){const _0x1651a0=_0xe477c6,_0x430138=document['getElementById'](_0x1651a0(0x617))['value'];if(!_0x430138){showMessage(_0x1651a0(0x51e));return;}if(!actionTargetId)return;const _0xce743f=doc(db,_0x1651a0(0x30a)+appId+_0x1651a0(0x607),actionTargetId);try{await updateDoc(_0xce743f,{'projectId':_0x430138}),showMessage(_0x1651a0(0x16e)),moveQuizModal[_0x1651a0(0x3d2)]['add'](_0x1651a0(0x212)),actionTargetId=null;}catch(_0x774128){console['error'](_0x1651a0(0x226),_0x774128),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x10c557){const _0x39bc39=_0xe477c6;actionTargetId=_0x10c557;const _0x40d3e7=doc(db,_0x39bc39(0x30a)+appId+'/public/data/quizzes',_0x10c557);try{const _0x4a9762=await getDoc(_0x40d3e7);if(_0x4a9762['exists']()){const _0x4e760f=_0x4a9762[_0x39bc39(0x701)](),_0x52ed4e=_0x4e760f[_0x39bc39(0x256)]||{},_0x5e84f7=_0x4e760f[_0x39bc39(0x541)][_0x39bc39(0x330)];document[_0x39bc39(0x3bf)](_0x39bc39(0x4e9))[_0x39bc39(0x21f)]=_0x52ed4e[_0x39bc39(0x282)]||_0x39bc39(0x406),document['getElementById'](_0x39bc39(0x3a8))[_0x39bc39(0x21f)]=_0x52ed4e[_0x39bc39(0x48c)]||_0x39bc39(0x539),document['getElementById'](_0x39bc39(0x46b))[_0x39bc39(0x21f)]=_0x52ed4e[_0x39bc39(0x605)]||'none',document[_0x39bc39(0x3bf)](_0x39bc39(0x307))[_0x39bc39(0x21f)]=_0x52ed4e[_0x39bc39(0x624)]||0xa,document['getElementById']('modal-passing-score-input')['value']=_0x52ed4e[_0x39bc39(0x2da)]||Math[_0x39bc39(0x28b)](_0x5e84f7/0x2),document[_0x39bc39(0x3bf)](_0x39bc39(0x52c))[_0x39bc39(0x17b)]=_0x5e84f7,document[_0x39bc39(0x3bf)](_0x39bc39(0x30d))['checked']=_0x52ed4e[_0x39bc39(0x33e)]||![],document[_0x39bc39(0x3bf)](_0x39bc39(0x46b))[_0x39bc39(0x4a3)](new Event(_0x39bc39(0x395))),quizSettingsModal[_0x39bc39(0x3d2)]['remove'](_0x39bc39(0x212));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x2b6576){console['error'](_0x39bc39(0x2cc),_0x2b6576),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x1f2c39=_0xe477c6;if(!actionTargetId)return;const _0x443457=doc(db,_0x1f2c39(0x30a)+appId+_0x1f2c39(0x607),actionTargetId),_0x5d10cf={'shuffle':document['getElementById'](_0x1f2c39(0x4e9))['value'],'resultsDisplay':document[_0x1f2c39(0x3bf)]('modal-results-display-select')[_0x1f2c39(0x21f)],'timerMode':document[_0x1f2c39(0x3bf)](_0x1f2c39(0x46b))[_0x1f2c39(0x21f)],'timerDuration':parseInt(document['getElementById'](_0x1f2c39(0x307))[_0x1f2c39(0x21f)])||0xa,'passingScore':parseInt(document[_0x1f2c39(0x3bf)](_0x1f2c39(0x52c))[_0x1f2c39(0x21f)])||0x0,'passingScore':parseInt(document['getElementById'](_0x1f2c39(0x52c))[_0x1f2c39(0x21f)])||0x0,'isAdaptive':document['getElementById'](_0x1f2c39(0x30d))[_0x1f2c39(0x720)]};try{await updateDoc(_0x443457,{'settings':_0x5d10cf}),showMessage(_0x1f2c39(0x4de)),quizSettingsModal[_0x1f2c39(0x3d2)][_0x1f2c39(0x536)]('hidden'),actionTargetId=null;}catch(_0x66cc97){console[_0x1f2c39(0x268)](_0x1f2c39(0x251),_0x66cc97),showMessage(_0x1f2c39(0x305));}}async function handleQuizStatus(_0x1c76d7){const _0x4470e7=_0xe477c6;actionTargetId=_0x1c76d7;const _0x54b761=doc(db,_0x4470e7(0x30a)+appId+_0x4470e7(0x607),_0x1c76d7);try{const _0x7cfaeb=await getDoc(_0x54b761);if(_0x7cfaeb[_0x4470e7(0x487)]()){const _0x4b4186=_0x7cfaeb[_0x4470e7(0x701)](),_0xdf2b28=_0x4b4186[_0x4470e7(0x342)]||_0x4470e7(0x6a7),_0x361652=document[_0x4470e7(0x3bf)](_0x4470e7(0x74d)),_0x321046=document[_0x4470e7(0x3bf)]('quiz-schedule-start-container'),_0x35ced8=document['getElementById'](_0x4470e7(0x56a));let _0x56045f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0xdf2b28===_0x4470e7(0x6a7)?_0x4470e7(0x720):'')+_0x4470e7(0x57a)+(_0xdf2b28==='inactive'?_0x4470e7(0x720):'')+_0x4470e7(0x4ed)+(_0xdf2b28===_0x4470e7(0x43d)?_0x4470e7(0x720):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x361652[_0x4470e7(0x5cf)]=_0x56045f;const _0x464214=_0xdf2b28===_0x4470e7(0x43d);_0x321046[_0x4470e7(0x3d2)][_0x4470e7(0x773)]('hidden',!_0x464214),_0x35ced8['classList']['toggle'](_0x4470e7(0x212),!_0x464214),document[_0x4470e7(0x3bf)](_0x4470e7(0x11b))[_0x4470e7(0x21f)]=_0x4b4186[_0x4470e7(0x3bc)]?_0x4b4186[_0x4470e7(0x3bc)]['substring'](0x0,0x10):'',document['getElementById'](_0x4470e7(0x474))['value']=_0x4b4186[_0x4470e7(0x6b8)]?_0x4b4186['endTime']['substring'](0x0,0x10):'',_0x361652['querySelectorAll'](_0x4470e7(0x3a2))['forEach'](_0xe96a5b=>{const _0x5678cd=_0x4470e7;_0xe96a5b[_0x5678cd(0x30f)]('change',_0x1f38e2=>{const _0x1727fd=_0x5678cd,_0x3d97fe=_0x1f38e2['target'][_0x1727fd(0x21f)]==='schedule';_0x321046[_0x1727fd(0x3d2)]['toggle'](_0x1727fd(0x212),!_0x3d97fe),_0x35ced8[_0x1727fd(0x3d2)]['toggle'](_0x1727fd(0x212),!_0x3d97fe);});}),quizStatusModal[_0x4470e7(0x3d2)]['remove'](_0x4470e7(0x212));}}catch(_0x11b288){console[_0x4470e7(0x268)](_0x4470e7(0x4b2),_0x11b288),showMessage(_0x4470e7(0x1ff));}}async function confirmQuizStatus(){const _0x1fd405=_0xe477c6;if(!actionTargetId)return;const _0x3a047a=doc(db,_0x1fd405(0x30a)+appId+'/public/data/quizzes',actionTargetId),_0x16470a=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x16470a){showMessage(_0x1fd405(0x397));return;}const _0x383af3=_0x16470a[_0x1fd405(0x21f)];let _0x1a70f2={};if(_0x383af3===_0x1fd405(0x6a7)||_0x383af3===_0x1fd405(0x1fe))_0x1a70f2={'status':_0x383af3,'startTime':null,'endTime':null};else{if(_0x383af3==='schedule'){const _0x2b6882=document[_0x1fd405(0x3bf)]('quiz-start-time')[_0x1fd405(0x21f)],_0x57a5d3=document[_0x1fd405(0x3bf)](_0x1fd405(0x474))[_0x1fd405(0x21f)];if(!_0x2b6882&&!_0x57a5d3){showMessage(_0x1fd405(0x52f));return;}_0x1a70f2={'status':_0x1fd405(0x43d),'startTime':_0x2b6882?new Date(_0x2b6882)[_0x1fd405(0x585)]():null,'endTime':_0x57a5d3?new Date(_0x57a5d3)[_0x1fd405(0x585)]():null};}}try{await updateDoc(_0x3a047a,_0x1a70f2),showMessage(_0x1fd405(0x303)),quizStatusModal[_0x1fd405(0x3d2)][_0x1fd405(0x536)](_0x1fd405(0x212)),actionTargetId=null;}catch(_0x199bae){console[_0x1fd405(0x268)](_0x1fd405(0x1a5),_0x199bae),showMessage(_0x1fd405(0x48b));}}function listenForStudentProfiles(_0x45fb75){const _0x1e011c=_0xe477c6,_0x1c8ea8=collection(db,_0x1e011c(0x30a)+appId+_0x1e011c(0x3e2)+_0x45fb75+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x1c8ea8,_0x5ac119=>{const _0x12d998=_0x1e011c,_0x38db28=_0x5ac119[_0x12d998(0x4ec)][_0x12d998(0x571)](_0x11fe78=>_0x11fe78[_0x12d998(0x701)]());renderLeaderboard(_0x38db28,_0x12d998(0x2ff));},_0x5ad721=>{const _0x586772=_0x1e011c;console['error'](_0x586772(0x423),_0x5ad721),document[_0x586772(0x3bf)](_0x586772(0x2ff))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x593935,_0x3d6472){const _0x278373=_0xe477c6,_0x3c48ef=document[_0x278373(0x3bf)](_0x3d6472);if(!_0x593935||_0x593935['length']===0x0){_0x3c48ef['innerHTML']=_0x278373(0x589);return;}_0x593935['sort']((_0x18d154,_0x333e26)=>{const _0x14af03=_0x278373,_0x5575ef=(_0x333e26['totalPoints']||0x0)-(_0x18d154[_0x14af03(0x4a8)]||0x0);if(_0x5575ef!==0x0)return _0x5575ef;const _0xfa8c8f=(_0x333e26[_0x14af03(0x610)]?.['specialist']||0x0)-(_0x18d154[_0x14af03(0x610)]?.['specialist']||0x0);if(_0xfa8c8f!==0x0)return _0xfa8c8f;const _0x516498=(_0x333e26[_0x14af03(0x610)]?.[_0x14af03(0x7b2)]||0x0)-(_0x18d154[_0x14af03(0x610)]?.[_0x14af03(0x7b2)]||0x0);if(_0x516498!==0x0)return _0x516498;const _0x2dff8f=(_0x333e26[_0x14af03(0x610)]?.[_0x14af03(0x5bb)]||0x0)-(_0x18d154[_0x14af03(0x610)]?.[_0x14af03(0x5bb)]||0x0);if(_0x2dff8f!==0x0)return _0x2dff8f;const _0x181a18=(_0x333e26[_0x14af03(0x610)]?.[_0x14af03(0x31c)]||0x0)-(_0x18d154['badgesCount']?.[_0x14af03(0x31c)]||0x0);if(_0x181a18!==0x0)return _0x181a18;return _0x18d154[_0x14af03(0x169)][_0x14af03(0x440)](_0x333e26[_0x14af03(0x169)],'th');});let _0x37d6b4='';_0x593935[_0x278373(0x793)]((_0x30f2d6,_0xf654bf)=>{const _0x46b49d=_0x278373,_0x1d5ddc=_0xf654bf+0x1,_0x230796=_0x30f2d6[_0x46b49d(0x610)]||{};let _0x3f7747='';const _0x449df6=[_0x46b49d(0x613),_0x46b49d(0x5bb),_0x46b49d(0x7b2),_0x46b49d(0x31c)];_0x449df6[_0x46b49d(0x793)](_0x326a87=>{const _0x4b20f9=_0x46b49d;if(_0x230796[_0x326a87]>0x0){const _0x504fab=Object[_0x4b20f9(0x372)](BADGES)[_0x4b20f9(0x6d0)](_0x464791=>_0x464791['id']===_0x326a87);_0x504fab&&(_0x326a87===_0x4b20f9(0x613)?_0x3f7747+=_0x4b20f9(0x614)+_0x504fab['name']+_0x4b20f9(0x5db)+_0x504fab['icon']+_0x4b20f9(0x797):_0x3f7747+=_0x4b20f9(0x614)+_0x504fab[_0x4b20f9(0x5ca)]+'\x20('+_0x230796[_0x326a87]+_0x4b20f9(0x3a1)+_0x504fab[_0x4b20f9(0x6b0)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x230796[_0x326a87]+_0x4b20f9(0x35c));}}),_0x37d6b4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x1d5ddc+_0x46b49d(0x662)+_0x30f2d6[_0x46b49d(0x169)]+_0x46b49d(0x387)+(_0x30f2d6[_0x46b49d(0x4a8)]||0x0)+_0x46b49d(0x662)+(_0x3f7747||'-')+_0x46b49d(0x4b7);}),_0x3c48ef[_0x278373(0x5cf)]=_0x37d6b4;}function renderQuizLeaderboard(_0x47ba4d,_0x1b92b2,_0x2e21a9){const _0x4dcce8=_0xe477c6,_0x1b5cc7=document[_0x4dcce8(0x3bf)](_0x2e21a9),_0x4d7a2c=_0x2e21a9===_0x4dcce8(0x30b),_0x228c1e=_0x1b92b2[_0x4dcce8(0x541)][_0x4dcce8(0x330)],_0x446a57=document[_0x4dcce8(0x3bf)](_0x2e21a9)['closest'](_0x4dcce8(0x411));if(_0x446a57&&!_0x4d7a2c){const _0x90aa6a=_0x446a57[_0x4dcce8(0x179)](_0x4dcce8(0x25e));_0x90aa6a[_0x4dcce8(0x5cf)]=_0x4dcce8(0x695);}if(!_0x47ba4d||_0x47ba4d[_0x4dcce8(0x330)]===0x0){_0x1b5cc7['innerHTML']=_0x4dcce8(0x5ba)+(_0x4d7a2c?0x6:0x8)+_0x4dcce8(0x6ec);return;}const _0x261f50=[..._0x47ba4d];_0x261f50[_0x4dcce8(0x1dc)]((_0x3f40d9,_0x50f4f8)=>{const _0x34e702=_0x4dcce8;let _0x20288b,_0x414891;switch(quizLeaderboardSortBy){case _0x34e702(0x169):_0x20288b=_0x3f40d9[_0x34e702(0x169)]||'',_0x414891=_0x50f4f8[_0x34e702(0x169)]||'';return quizLeaderboardSortOrder==='asc'?_0x20288b[_0x34e702(0x440)](_0x414891,'th'):_0x414891['localeCompare'](_0x20288b,'th');case _0x34e702(0x5fe):_0x20288b=_0x3f40d9['points']||0x0,_0x414891=_0x50f4f8[_0x34e702(0x5fe)]||0x0;break;case'attempts':_0x20288b=_0x3f40d9[_0x34e702(0x6bb)]?.['length']||0x1,_0x414891=_0x50f4f8['attempts']?.[_0x34e702(0x330)]||0x1;break;case'latestSubmittedAt':_0x20288b=new Date(_0x3f40d9[_0x34e702(0x556)]),_0x414891=new Date(_0x50f4f8[_0x34e702(0x556)]);break;case _0x34e702(0x494):default:_0x20288b=_0x3f40d9[_0x34e702(0x494)],_0x414891=_0x50f4f8['bestScore'];break;}if(_0x20288b<_0x414891)return quizLeaderboardSortOrder===_0x34e702(0x433)?-0x1:0x1;if(_0x20288b>_0x414891)return quizLeaderboardSortOrder===_0x34e702(0x433)?0x1:-0x1;return 0x0;});const _0x114555=_0x1b92b2['isRemedial']===!![],_0x2f96cc=_0x1b92b2[_0x4dcce8(0x256)]?.[_0x4dcce8(0x2da)]??-0x1;let _0x2b87f2='';_0x261f50[_0x4dcce8(0x793)]((_0x68822e,_0x5e61e8)=>{const _0x1458b9=_0x4dcce8,_0x42f0b8=_0x5e61e8+0x1;let _0x1a6cf=_0x1458b9(0x1c1);if(_0x114555||_0x2f96cc!==-0x1){let _0x3d9e51=_0x114555?_0x68822e[_0x1458b9(0x494)]===_0x228c1e:_0x68822e[_0x1458b9(0x494)]>=_0x2f96cc;const _0x17b76d=_0x3d9e51?_0x1458b9(0x66b):_0x1458b9(0x163),_0x1cebcb=_0x3d9e51?_0x1458b9(0x689):'ไม่ผ่าน';_0x1a6cf=_0x1458b9(0x480)+_0x17b76d+'\x22>'+_0x1cebcb+'</span></td>';}const _0x483076=_0x68822e['attempts'][_0x68822e[_0x1458b9(0x6bb)][_0x1458b9(0x330)]-0x1],_0x28d13b=(_0x483076['badges']||[])[_0x1458b9(0x571)](_0x2b9e2c=>{const _0x3f21e3=_0x1458b9,_0x5ece5a=Object['values'](BADGES)[_0x3f21e3(0x6d0)](_0xf40150=>_0xf40150['id']===_0x2b9e2c);return _0x5ece5a?_0x3f21e3(0x4b8)+_0x5ece5a[_0x3f21e3(0x5ca)]+_0x3f21e3(0x672)+_0x5ece5a[_0x3f21e3(0x6b0)]+_0x3f21e3(0x284):'';})[_0x1458b9(0x47b)]('');_0x2b87f2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x42f0b8+_0x1458b9(0x469)+_0x68822e[_0x1458b9(0x169)]+_0x1458b9(0x2aa)+_0x68822e[_0x1458b9(0x494)]+_0x1458b9(0x3f1)+_0x228c1e+_0x1458b9(0x694)+_0x1a6cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x68822e[_0x1458b9(0x5fe)]||0x0)+_0x1458b9(0x694)+(_0x4d7a2c?'':_0x1458b9(0x684)+(_0x68822e[_0x1458b9(0x6bb)]?.[_0x1458b9(0x330)]||0x1)+_0x1458b9(0x5c2))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4d7a2c?'':_0x1458b9(0x2f6)+new Date(_0x68822e[_0x1458b9(0x556)])[_0x1458b9(0x10d)](_0x1458b9(0x125))+_0x1458b9(0x5c2))+_0x1458b9(0x134)+(_0x28d13b||'-')+_0x1458b9(0x799);}),_0x1b5cc7[_0x4dcce8(0x5cf)]=_0x2b87f2,_0x446a57&&!_0x4d7a2c&&_0x446a57['querySelectorAll']('thead\x20.sortable-header')[_0x4dcce8(0x793)](_0x3f38ea=>{const _0x1ef6af=_0x4dcce8,_0x44d549=_0x3f38ea[_0x1ef6af(0x179)](_0x1ef6af(0x5cc));if(_0x44d549)_0x44d549[_0x1ef6af(0x73a)]();_0x3f38ea[_0x1ef6af(0x13e)][_0x1ef6af(0x1dc)]===quizLeaderboardSortBy&&(_0x3f38ea[_0x1ef6af(0x5cf)]+=_0x1ef6af(0x360)+(quizLeaderboardSortOrder===_0x1ef6af(0x433)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x81dd5f=_0xe477c6,_0x592866=document['getElementById'](_0x81dd5f(0x78d)),_0x3d7409=_0x592866['value'][_0x81dd5f(0x503)]();if(!_0x3d7409){showMessage(_0x81dd5f(0x495));return;}loadQuizBtn[_0x81dd5f(0x688)]=!![],loadQuizBtn[_0x81dd5f(0x5cf)]=_0x81dd5f(0x437);try{const _0x26be5d=doc(db,_0x81dd5f(0x30a)+appId+_0x81dd5f(0x607),_0x3d7409),_0x37c676=await getDoc(_0x26be5d);if(!_0x37c676[_0x81dd5f(0x487)]()){showMessage(_0x81dd5f(0x14b));return;}currentQuizData={'id':_0x37c676['id'],..._0x37c676['data']()};const _0x17a53f=currentQuizData[_0x81dd5f(0x342)]||'active',_0x1faadf=new Date();if(_0x17a53f===_0x81dd5f(0x1fe)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x17a53f==='scheduled'){const _0x4299b6=currentQuizData[_0x81dd5f(0x3bc)]?new Date(currentQuizData['startTime']):null,_0x37fe8a=currentQuizData[_0x81dd5f(0x6b8)]?new Date(currentQuizData[_0x81dd5f(0x6b8)]):null;if(_0x4299b6&&_0x1faadf<_0x4299b6){showMessage(_0x81dd5f(0x5f0)+_0x4299b6[_0x81dd5f(0x10d)](_0x81dd5f(0x125),{'hour12':![]}));return;}if(_0x37fe8a&&_0x1faadf>_0x37fe8a){showMessage(_0x81dd5f(0x79b));return;}}const _0x5afdff=currentQuizData['projectId'];currentProjectId=_0x5afdff;const _0x2d67d4=doc(db,_0x81dd5f(0x30a)+appId+'/public/data/projects',_0x5afdff),_0x4f0b08=await getDoc(_0x2d67d4);if(!_0x4f0b08['exists']()){showMessage(_0x81dd5f(0x365));return;}const _0x56dbd5=_0x4f0b08[_0x81dd5f(0x701)]();currentStudentProjectData=_0x56dbd5,displayStudentNameSelector(_0x56dbd5[_0x81dd5f(0x3e1)],currentQuizData[_0x81dd5f(0x500)]);}catch(_0x4685b8){console[_0x81dd5f(0x268)](_0x81dd5f(0x23e),_0x4685b8),showMessage(_0x81dd5f(0x55b));}finally{loadQuizBtn[_0x81dd5f(0x688)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x4a46ea=_0xe477c6,_0x2d22f0=document[_0x4a46ea(0x3bf)](_0x4a46ea(0x71b)),_0x2d783c=document[_0x4a46ea(0x3bf)](_0x4a46ea(0x1f2)),_0x261055=document[_0x4a46ea(0x3bf)](_0x4a46ea(0x6d7)),_0x5bfaf5=_0x2d22f0[_0x4a46ea(0x21f)][_0x4a46ea(0x503)](),_0xfbdfb5=_0x2d783c[_0x4a46ea(0x21f)]['trim']();if(!_0x5bfaf5||!_0xfbdfb5){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x261055[_0x4a46ea(0x688)]=!![],_0x261055[_0x4a46ea(0x5cf)]=_0x4a46ea(0x5da);try{const _0x4023c2=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x492666=query(_0x4023c2,where(_0x4a46ea(0x1bd),'==',_0x5bfaf5),where(_0x4a46ea(0x342),'==',_0x4a46ea(0x3a6))),_0x4353b6=await getDocs(_0x492666);if(_0x4353b6['empty']){showMessage(_0x4a46ea(0x36f));return;}const _0x4c08cd=_0x4353b6[_0x4a46ea(0x4ec)][0x0],_0x5de738=_0x4c08cd[_0x4a46ea(0x701)]();currentLiveGameId=_0x4c08cd['id'];const _0x1cf537=_0x5de738[_0x4a46ea(0x630)],_0x1694cc=doc(db,'artifacts/'+appId+_0x4a46ea(0x607),_0x1cf537),_0x33dbd7=await getDoc(_0x1694cc);if(!_0x33dbd7[_0x4a46ea(0x487)]()){showMessage(_0x4a46ea(0x781));return;}currentQuizData={'id':_0x33dbd7['id'],..._0x33dbd7['data']()};if(_0x5de738[_0x4a46ea(0x49c)]&&_0x5de738[_0x4a46ea(0x49c)][_0xfbdfb5]){showMessage(_0x4a46ea(0x2f3));return;}const _0x120dea={};_0x120dea[_0x4a46ea(0x44c)+_0xfbdfb5]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x4a46ea(0x30a)+appId+_0x4a46ea(0x559),currentLiveGameId),_0x120dea),currentStudentName=_0xfbdfb5,listenForLiveGameUpdates();}catch(_0x446eca){console[_0x4a46ea(0x268)](_0x4a46ea(0x6ed),_0x446eca),showMessage(_0x4a46ea(0x48d));}finally{_0x261055[_0x4a46ea(0x688)]=![],_0x261055[_0x4a46ea(0x5cf)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3f3ed3,_0xd34b3d){const _0x170e9c=_0xe477c6,_0x1cd034=document['getElementById'](_0x170e9c(0x68a));document[_0x170e9c(0x3bf)](_0x170e9c(0x204))[_0x170e9c(0x13f)]=_0x170e9c(0x4a1)+_0xd34b3d,!_0x3f3ed3||_0x3f3ed3['length']===0x0?(_0x1cd034[_0x170e9c(0x5cf)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x1cd034[_0x170e9c(0x5cf)]=_0x170e9c(0x5c9),_0x3f3ed3['forEach'](_0x4df4af=>{const _0x13e943=_0x170e9c,_0x217ee3=document['createElement']('option');_0x217ee3[_0x13e943(0x21f)]=_0x4df4af,_0x217ee3[_0x13e943(0x13f)]=_0x4df4af,_0x1cd034['appendChild'](_0x217ee3);}),startQuizBtn['disabled']=![]),studentInitialView[_0x170e9c(0x3d2)]['add'](_0x170e9c(0x212)),studentNameSelectionView[_0x170e9c(0x3d2)][_0x170e9c(0x73a)](_0x170e9c(0x212));}function shuffleArray(_0x3ce289){const _0x426ed4=_0xe477c6;for(let _0x4f22f6=_0x3ce289[_0x426ed4(0x330)]-0x1;_0x4f22f6>0x0;_0x4f22f6--){const _0x43e46b=Math['floor'](Math['random']()*(_0x4f22f6+0x1));[_0x3ce289[_0x4f22f6],_0x3ce289[_0x43e46b]]=[_0x3ce289[_0x43e46b],_0x3ce289[_0x4f22f6]];}}function getShuffledQuiz(_0x1bf50f){const _0x407bf3=_0xe477c6;let _0x23bdf1=JSON[_0x407bf3(0x460)](JSON[_0x407bf3(0x22d)](_0x1bf50f));const _0x109d74=_0x23bdf1[_0x407bf3(0x256)]?.['shuffle']||'none';if(_0x109d74===_0x407bf3(0x406))return _0x23bdf1;return(_0x109d74===_0x407bf3(0x24c)||_0x109d74===_0x407bf3(0x1ad))&&shuffleArray(_0x23bdf1[_0x407bf3(0x541)]),(_0x109d74===_0x407bf3(0x16b)||_0x109d74===_0x407bf3(0x1ad))&&_0x23bdf1['questions']['forEach'](_0x318437=>{const _0x74beec=_0x407bf3,_0x163935=_0x318437[_0x74beec(0x4f4)]||_0x23bdf1['quizType'];if(_0x318437[_0x74beec(0x26e)]){let _0x5a4f2a=_0x318437['options'][_0x74beec(0x571)]((_0xdb7aaf,_0x1783cf)=>({'text':_0xdb7aaf,'isCorrect':_0x1783cf===_0x318437[_0x74beec(0x47c)]}));shuffleArray(_0x5a4f2a),_0x318437[_0x74beec(0x26e)]=_0x5a4f2a[_0x74beec(0x571)](_0x183c78=>_0x183c78['text']),_0x318437[_0x74beec(0x47c)]=_0x5a4f2a[_0x74beec(0x72e)](_0x2b4f24=>_0x2b4f24[_0x74beec(0x1f5)]);}_0x163935===_0x74beec(0x611)&&_0x318437['allResponses']&&shuffleArray(_0x318437[_0x74beec(0x450)]);}),_0x23bdf1;}function _0x3c0d(_0x36bc88,_0x314c8f){const _0x13737f=_0x1373();return _0x3c0d=function(_0x3c0df7,_0x47f736){_0x3c0df7=_0x3c0df7-0x10b;let _0x508693=_0x13737f[_0x3c0df7];return _0x508693;},_0x3c0d(_0x36bc88,_0x314c8f);}function displayQuizForStudent(_0x47de3c){const _0x4c8354=_0xe477c6;studentQuizArea[_0x4c8354(0x3d2)][_0x4c8354(0x73a)](_0x4c8354(0x212)),currentDisplayedQuiz=getShuffledQuiz(_0x47de3c);const _0x9c8338=currentDisplayedQuiz['settings']?.[_0x4c8354(0x605)]||_0x4c8354(0x406);if(_0x9c8338===_0x4c8354(0x785))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4c8354(0x256)][_0x4c8354(0x624)]);else _0x9c8338===_0x4c8354(0x60c)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x526add=_0xe477c6;let _0x2071f4=_0x526add(0x41c)+currentDisplayedQuiz[_0x526add(0x500)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x526add(0x135)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x526add(0x541)][_0x526add(0x793)]((_0x28a670,_0x475474)=>{const _0x35c8b0=_0x526add,_0x5506b2=_0x28a670[_0x35c8b0(0x4f4)]||currentDisplayedQuiz[_0x35c8b0(0x6c9)];_0x2071f4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x5506b2===_0x35c8b0(0x611)?_0x2071f4+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x475474+0x1)+'.\x20'+_0x28a670[_0x35c8b0(0x1bc)]+_0x35c8b0(0x301)+_0x475474+_0x35c8b0(0x191)+_0x28a670[_0x35c8b0(0x450)][_0x35c8b0(0x571)](_0x5e7ce9=>'<option\x20value=\x22'+_0x5e7ce9+'\x22>'+_0x5e7ce9+_0x35c8b0(0x194))['join']('')+_0x35c8b0(0x6fa):(_0x2071f4+=_0x35c8b0(0x646)+(_0x475474+0x1)+'.\x20'+(_0x28a670[_0x35c8b0(0x664)]||_0x28a670[_0x35c8b0(0x5a9)])+_0x35c8b0(0x7a7),_0x28a670[_0x35c8b0(0x295)]&&(_0x2071f4+=_0x35c8b0(0x550)+_0x28a670[_0x35c8b0(0x295)]+_0x35c8b0(0x53b)));_0x2071f4+=_0x35c8b0(0x733);switch(_0x5506b2){case _0x35c8b0(0x39f):_0x2071f4+=_0x35c8b0(0x4b5)+_0x475474+_0x35c8b0(0x383);break;case _0x35c8b0(0x1be):_0x2071f4+=_0x35c8b0(0x4c4)+_0x475474+_0x35c8b0(0x73e)+_0x475474+_0x35c8b0(0x775)+_0x475474+_0x35c8b0(0x1ce),_0x2071f4+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x475474+_0x35c8b0(0x23d)+_0x475474+_0x35c8b0(0x15d)+_0x475474+_0x35c8b0(0x10b);break;case'matching_item':break;case _0x35c8b0(0x4bf):case _0x35c8b0(0x2d3):default:_0x2071f4+=_0x28a670[_0x35c8b0(0x26e)][_0x35c8b0(0x571)]((_0x279edf,_0x316efa)=>_0x35c8b0(0x34c)+_0x475474+_0x35c8b0(0x3c3)+_0x316efa+'\x22\x20name=\x22question'+_0x475474+_0x35c8b0(0x4bb)+_0x316efa+_0x35c8b0(0x315)+_0x475474+'_opt'+_0x316efa+'\x22>'+_0x279edf+_0x35c8b0(0x235))[_0x35c8b0(0x47b)]('');break;}_0x2071f4+=_0x35c8b0(0x145);}),_0x2071f4+=_0x526add(0x3bd),_0x2071f4+=_0x526add(0x45b),studentQuizArea[_0x526add(0x5cf)]=_0x2071f4;if(currentMode==='admin-testing'){const _0x47f830=document[_0x526add(0x3bf)]('cancel-test-btn');if(_0x47f830)_0x47f830[_0x526add(0x30f)](_0x526add(0x707),cancelAdminTest);}document[_0x526add(0x3bf)]('quiz-form')[_0x526add(0x30f)]('submit',handleSubmitQuiz);if(window[_0x526add(0x736)])window[_0x526add(0x736)][_0x526add(0x55a)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5f2967){const _0x3eb1b1=_0xe477c6;if(_0x5f2967)_0x5f2967[_0x3eb1b1(0x77e)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1698f4=document[_0x3eb1b1(0x3bf)](_0x3eb1b1(0x1b8));if(!_0x1698f4)return;const _0x3d0dca=_0x1698f4['querySelector'](_0x3eb1b1(0x159)),_0x50e71f=currentDisplayedQuiz[_0x3eb1b1(0x541)][_0x3eb1b1(0x54a)](_0x8601cb=>_0x8601cb['questionType']===_0x3eb1b1(0x39f));_0x3d0dca&&(_0x3d0dca[_0x3eb1b1(0x688)]=!![],_0x50e71f?_0x3d0dca[_0x3eb1b1(0x5cf)]=_0x3eb1b1(0x713):_0x3d0dca[_0x3eb1b1(0x5cf)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x22572a=new FormData(_0x1698f4),_0x576617=currentDisplayedQuiz[_0x3eb1b1(0x541)]['map']((_0x12058f,_0xa70079)=>{const _0x46f0fc=_0x3eb1b1,_0x3da55a=_0x12058f[_0x46f0fc(0x4f4)]||currentDisplayedQuiz['quizType'],_0x59fd56=_0x22572a[_0x46f0fc(0x753)](_0x46f0fc(0x6f0)+_0xa70079);if(_0x59fd56!==null&&_0x59fd56!==undefined){if(_0x3da55a===_0x46f0fc(0x2d3)||_0x3da55a===_0x46f0fc(0x4bf))return parseInt(_0x59fd56);return _0x59fd56;}return null;}),_0x5063ce=currentQuizData['id'],_0x4dc47b=doc(db,_0x3eb1b1(0x30a)+appId+_0x3eb1b1(0x475)+_0x5063ce+_0x3eb1b1(0x213),currentStudentName),_0x284de2=await getDoc(_0x4dc47b),_0x4ef3f3=_0x284de2[_0x3eb1b1(0x487)]()?_0x284de2[_0x3eb1b1(0x701)]():{},_0x48a20d=_0x4ef3f3[_0x3eb1b1(0x6bb)]||[];await processAndSubmitAnswers(_0x576617,_0x48a20d);}async function gradeShortAnswerWithAI(_0x4c3fb9,_0x18048c){const _0x561b98=_0xe477c6;if(!_0x4c3fb9||!_0x18048c)return![];try{const _0x36e56a=_0x561b98(0x3e4)+_0x4c3fb9+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x18048c+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x1914eb={'contents':[{'role':'user','parts':[{'text':_0x36e56a}]}]},_0x5b1b41=_0x561b98(0x7b4),_0x27336c=_0x561b98(0x217)+_0x5b1b41,_0x530b53=await fetch(_0x27336c,{'method':_0x561b98(0x36c),'headers':{'Content-Type':_0x561b98(0x7b8)},'body':JSON[_0x561b98(0x22d)](_0x1914eb)});if(!_0x530b53['ok'])throw new Error(_0x561b98(0x3f9));const _0x3297f6=await _0x530b53[_0x561b98(0x458)](),_0x1a6955=_0x3297f6['candidates'][0x0][_0x561b98(0x3f2)][_0x561b98(0x745)][0x0][_0x561b98(0x6a8)]['trim']()['toLowerCase']();return _0x1a6955===_0x561b98(0x62b);}catch(_0xf2204c){return console['error'](_0x561b98(0x19d),_0xf2204c),![];}}async function processAndSubmitAnswers(_0xaf8c09,_0x494307){const _0x381f86=_0xe477c6;let _0x5812ec=0x0,_0x2b7782=0x0,_0x12b3fe=[];const _0x50d174=[],_0x22dcf9=currentDisplayedQuiz[_0x381f86(0x541)][_0x381f86(0x330)];let _0x48c64a=0x0;const _0x37cf51=currentDisplayedQuiz[_0x381f86(0x541)];for(let _0xe47510=0x0;_0xe47510<_0x37cf51[_0x381f86(0x330)];_0xe47510++){const _0x8281d3=_0x37cf51[_0xe47510],_0x2a9451=_0xaf8c09[_0xe47510],_0x183f41=_0x8281d3['questionType']||currentDisplayedQuiz[_0x381f86(0x6c9)];let _0x227dad=![];if(_0x2a9451!==null&&_0x2a9451!=='')switch(_0x183f41){case _0x381f86(0x611):_0x227dad=_0x2a9451===_0x8281d3[_0x381f86(0x786)];break;case _0x381f86(0x1be):const _0x1f975a=_0x2a9451===!![]||_0x2a9451==='true';_0x227dad=_0x1f975a===_0x8281d3[_0x381f86(0x3e3)];break;case _0x381f86(0x4bf):case _0x381f86(0x2d3):default:_0x227dad=Number(_0x2a9451)===_0x8281d3[_0x381f86(0x47c)];break;case _0x381f86(0x39f):_0x227dad=await gradeShortAnswer(_0x2a9451,_0x8281d3);break;}_0x227dad?(_0x5812ec++,_0x48c64a++,_0x48c64a===0x3&&(_0x12b3fe[_0x381f86(0x424)](BADGES[_0x381f86(0x420)]['id']),_0x48c64a=0x0)):_0x48c64a=0x0;let _0x415185=null;_0x8281d3[_0x381f86(0x26e)]&&_0x2a9451!==null&&(_0x415185=_0x8281d3['options'][_0x2a9451]),_0x50d174[_0x381f86(0x424)]({'answer':_0x2a9451,'answerText':_0x415185,'isCorrect':_0x227dad,'originalQuestionText':_0x8281d3[_0x381f86(0x1bc)]||_0x8281d3[_0x381f86(0x5a9)]});}_0x2b7782=_0x5812ec*0xa;_0x5812ec===_0x22dcf9&&_0x22dcf9>0x0&&!currentDisplayedQuiz[_0x381f86(0x415)]&&(_0x2b7782+=0x32,_0x12b3fe[_0x381f86(0x424)](BADGES['PERFECT_SCORE']['id']));const _0xbb6506=currentDisplayedQuiz[_0x381f86(0x256)]?.[_0x381f86(0x2da)]??Math[_0x381f86(0x28b)](_0x22dcf9/0x2),_0xf74e68=currentDisplayedQuiz[_0x381f86(0x256)]?.[_0x381f86(0x605)];if(_0xf74e68===_0x381f86(0x785)&&quizStartTime){const _0x51ed18=(new Date()-quizStartTime)/0x3e8,_0x41d222=currentDisplayedQuiz[_0x381f86(0x256)]['timerDuration']*0x3c;_0x5812ec>=_0xbb6506&&_0x51ed18<_0x41d222/0x2&&(_0x2b7782+=0x14,_0x12b3fe[_0x381f86(0x424)](BADGES['QUICK_THINKER']['id']));}_0x494307[_0x381f86(0x330)]===0x0&&_0x5812ec===_0x22dcf9&&_0x22dcf9>0x0&&_0x12b3fe[_0x381f86(0x424)](BADGES['FIRST_TRY_ACE']['id']);if(_0x494307['length']>0x0){const _0x200cfe=_0x494307[0x0][_0x381f86(0x6d3)];if(_0x200cfe<_0xbb6506&&_0x5812ec>=_0xbb6506){const _0x2b247b=_0x494307['some'](_0x3aa391=>(_0x3aa391[_0x381f86(0x75a)]||[])[_0x381f86(0x554)](BADGES[_0x381f86(0x185)]['id']));!_0x2b247b&&_0x12b3fe[_0x381f86(0x424)](BADGES[_0x381f86(0x185)]['id']);}}_0x494307[_0x381f86(0x330)]===0x4&&_0x12b3fe['push'](BADGES['PERSEVERANCE']['id']);const _0x1c3271=currentDisplayedQuiz[_0x381f86(0x256)][_0x381f86(0x48c)];if(currentMode===_0x381f86(0x135)){handleResultDisplay(_0x1c3271,_0x5812ec,_0x2b7782,_0x12b3fe,_0x50d174,_0x22dcf9);return;}const _0x571a3c=currentQuizData['id'],_0x1c0039=doc(db,'artifacts/'+appId+_0x381f86(0x475)+_0x571a3c+_0x381f86(0x213),currentStudentName);try{const _0x36c835=[..._0x494307],_0x3c2ef8={'score':_0x5812ec,'points':_0x2b7782,'badges':_0x12b3fe,'submittedAt':new Date()[_0x381f86(0x585)](),'answers':_0x50d174};_0x36c835[_0x381f86(0x424)](_0x3c2ef8);const _0x547982=_0x36c835[0x0]['score'],_0x442a52=Math[_0x381f86(0x17b)](..._0x36c835[_0x381f86(0x571)](_0x836444=>_0x836444[_0x381f86(0x6d3)])),_0x5dd5ca=_0x5812ec,_0x30b7e7=_0x3c2ef8[_0x381f86(0x3ae)];await setDoc(_0x1c0039,{'studentName':currentStudentName,'totalQuestions':_0x22dcf9,'attempts':_0x36c835,'firstScore':_0x547982,'bestScore':_0x442a52,'latestScore':_0x5dd5ca,'points':_0x2b7782,'latestSubmittedAt':_0x30b7e7}),await updateStudentProfile(currentQuizData[_0x381f86(0x3f8)],currentStudentName),handleResultDisplay(_0x1c3271,_0x5812ec,_0x2b7782,_0x12b3fe,_0x50d174,_0x22dcf9);}catch(_0x5494c7){console[_0x381f86(0x268)](_0x381f86(0x5ac),_0x5494c7),showMessage(_0x381f86(0x1d4));}}async function updateStudentProfile(_0xc6ac39,_0x35ea81){const _0x3b8fb5=_0xe477c6,_0x5da336=doc(db,'artifacts/'+appId+_0x3b8fb5(0x3e2)+_0xc6ac39+_0x3b8fb5(0x299),_0x35ea81);try{const _0xfc3bc6=query(collection(db,_0x3b8fb5(0x30a)+appId+_0x3b8fb5(0x607)),where(_0x3b8fb5(0x3f8),'==',_0xc6ac39)),_0x19bdca=await getDocs(_0xfc3bc6),_0x3df8c0=new Map(_0x19bdca[_0x3b8fb5(0x4ec)][_0x3b8fb5(0x571)](_0x342dc7=>[_0x342dc7['id'],_0x342dc7['data']()])),_0x909b1b=Array[_0x3b8fb5(0x24a)](_0x3df8c0['keys']());await runTransaction(db,async _0x30188e=>{const _0x16e77f=_0x3b8fb5;let _0x515ebf=0x0;const _0x4e15da={};let _0x4761c3=!![],_0x417da3=0x0,_0x6250ad=0x0;for(const _0x13ac4b of _0x909b1b){const _0x587884=_0x3df8c0[_0x16e77f(0x753)](_0x13ac4b),_0x21407d=doc(db,_0x16e77f(0x30a)+appId+_0x16e77f(0x475)+_0x13ac4b+_0x16e77f(0x213),_0x35ea81),_0x3e6d6f=await _0x30188e[_0x16e77f(0x753)](_0x21407d);if(_0x3e6d6f[_0x16e77f(0x487)]()){const _0x14759e=_0x3e6d6f[_0x16e77f(0x701)](),_0x48a5eb=_0x14759e[_0x16e77f(0x6bb)]||[];if(_0x48a5eb[_0x16e77f(0x330)]>0x0){const _0x3026ce=_0x48a5eb['reduce']((_0x4bd0e2,_0x455ca1)=>{const _0xb09c80=_0x16e77f;if(_0x455ca1['score']>_0x4bd0e2['score'])return _0x455ca1;if(_0x455ca1['score']===_0x4bd0e2[_0xb09c80(0x6d3)])return(_0x455ca1['points']||0x0)>(_0x4bd0e2['points']||0x0)?_0x455ca1:_0x4bd0e2;return _0x4bd0e2;},{'score':-0x1,'points':-0x1});_0x3026ce[_0x16e77f(0x6d3)]>-0x1&&(_0x515ebf+=_0x3026ce[_0x16e77f(0x5fe)]||0x0,(_0x3026ce[_0x16e77f(0x75a)]||[])[_0x16e77f(0x793)](_0x47c92f=>{_0x4e15da[_0x47c92f]=(_0x4e15da[_0x47c92f]||0x0)+0x1;}));}}if(_0x587884[_0x16e77f(0x500)]!==_0x16e77f(0x38a)){_0x6250ad++;if(_0x3e6d6f[_0x16e77f(0x487)]()){_0x417da3++;const _0x38a3f6=_0x3e6d6f[_0x16e77f(0x701)]();_0x38a3f6[_0x16e77f(0x494)]!==_0x38a3f6['totalQuestions']&&(_0x4761c3=![]);}else _0x4761c3=![];}}_0x6250ad>0x0&&_0x417da3===_0x6250ad&&_0x4761c3?_0x4e15da[_0x16e77f(0x613)]=0x1:_0x4e15da[_0x16e77f(0x613)]=0x0,_0x30188e['set'](_0x5da336,{'studentName':_0x35ea81,'totalPoints':_0x515ebf,'unlockedBadges':Object[_0x16e77f(0x184)](_0x4e15da)['filter'](_0x3b2535=>_0x4e15da[_0x3b2535]>0x0),'badgesCount':_0x4e15da},{'merge':!![]});});}catch(_0x2602db){console[_0x3b8fb5(0x268)](_0x3b8fb5(0x747),_0x2602db),showMessage(_0x3b8fb5(0x45e));}}function startAdminTest(){const _0xd88e78=_0xe477c6;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x4a13d3=JSON[_0xd88e78(0x460)](JSON['stringify'](currentQuizData));currentMode=_0xd88e78(0x135),currentStudentName=_0xd88e78(0x158),adminView[_0xd88e78(0x3d2)][_0xd88e78(0x536)](_0xd88e78(0x212)),studentView[_0xd88e78(0x3d2)]['remove']('hidden'),studentInitialView['classList'][_0xd88e78(0x536)](_0xd88e78(0x212)),studentNameSelectionView[_0xd88e78(0x3d2)][_0xd88e78(0x536)](_0xd88e78(0x212)),studentResultArea[_0xd88e78(0x3d2)][_0xd88e78(0x536)](_0xd88e78(0x212)),studentQuizArea['classList'][_0xd88e78(0x73a)](_0xd88e78(0x212)),quizStartTime=new Date(),displayQuizForStudent(_0x4a13d3);}function handleResultDisplay(_0x1b4034,_0x3b4d0d,_0x2bf2ee,_0x2646ea,_0x11a3ac,_0x1774e1){const _0x47fab7=_0xe477c6,_0x53a635=currentDisplayedQuiz[_0x47fab7(0x256)]?.['passingScore']??Math[_0x47fab7(0x28b)](_0x1774e1/0x2),_0x364a74=currentDisplayedQuiz['settings']?.[_0x47fab7(0x33e)]??![];if(_0x364a74&&_0x3b4d0d<_0x53a635){startAdaptiveFlow(_0x11a3ac,_0x3b4d0d,_0x1774e1);return;}switch(_0x1b4034){case _0x47fab7(0x539):displayResultsWithAnswers(_0x3b4d0d,_0x2bf2ee,_0x2646ea,_0x11a3ac,_0x1774e1);break;case _0x47fab7(0x224):displayResultsScoreOnly(_0x3b4d0d,_0x2bf2ee,_0x2646ea,_0x1774e1);break;case _0x47fab7(0x26a):displayPassFailOnly(_0x3b4d0d,_0x1774e1);break;case'manual_release':default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x499269,_0x518132,_0x3a593e){const _0x43bb8e=_0xe477c6,_0x37ef23=_0x499269[_0x43bb8e(0x571)]((_0x4aeb64,_0x56e05d)=>({..._0x4aeb64,'originalQuestion':currentDisplayedQuiz[_0x43bb8e(0x541)][_0x56e05d]}))['filter'](_0x24ad62=>!_0x24ad62['isCorrect']&&_0x24ad62[_0x43bb8e(0x629)][_0x43bb8e(0x52b)])[_0x43bb8e(0x571)](_0x487eb7=>'-\x20'+_0x487eb7[_0x43bb8e(0x629)][_0x43bb8e(0x52b)])[_0x43bb8e(0x47b)]('\x0a');if(!_0x37ef23){displayResultsScoreOnly(_0x518132,0x0,[],_0x3a593e);return;}studentQuizArea[_0x43bb8e(0x3d2)][_0x43bb8e(0x536)](_0x43bb8e(0x212)),studentReadingArea['classList'][_0x43bb8e(0x73a)](_0x43bb8e(0x212)),studentReadingArea['innerHTML']=_0x43bb8e(0x743);const _0x33bb9f=_0x43bb8e(0x582)+currentDisplayedQuiz['topic']+_0x43bb8e(0x456)+_0x37ef23+_0x43bb8e(0x55e),_0x9d4ded={'type':_0x43bb8e(0x652),'properties':{'remedialContent':{'type':'STRING'}},'required':[_0x43bb8e(0x220)]};try{const _0x4b26e7=await callAnalysisApi(_0x33bb9f,_0x9d4ded),_0x348b9f=_0x4b26e7['remedialContent'];studentReadingArea['innerHTML']=_0x43bb8e(0x2dd)+_0x348b9f[_0x43bb8e(0x3ef)](/\n/g,_0x43bb8e(0x665))+_0x43bb8e(0x78c),document[_0x43bb8e(0x3bf)](_0x43bb8e(0x4c8))[_0x43bb8e(0x30f)](_0x43bb8e(0x707),()=>generateRemedialQuiz(_0x37ef23));}catch(_0x50de07){console['error'](_0x43bb8e(0x5ef),_0x50de07),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x518132,0x0,[],_0x3a593e);}}async function generateRemedialQuiz(_0x302f2b){const _0x26ae30=_0xe477c6;studentReadingArea[_0x26ae30(0x5cf)]=_0x26ae30(0x748);const _0x17cf0e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x302f2b+_0x26ae30(0x43a)+simpleMathPrompt+_0x26ae30(0x27e),_0x11c479={'type':_0x26ae30(0x652),'properties':{'questionText':{'type':_0x26ae30(0x77b)},'options':{'type':_0x26ae30(0x5ce),'items':{'type':_0x26ae30(0x77b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x26ae30(0x77b)}},'required':[_0x26ae30(0x5a9),_0x26ae30(0x26e),'correctAnswerIndex',_0x26ae30(0x52b)]},_0x5a95a6={'type':_0x26ae30(0x652),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x26ae30(0x5ce),'items':_0x11c479}},'required':[_0x26ae30(0x500),_0x26ae30(0x541)]};try{const _0x45ebf0=await callAnalysisApi(_0x17cf0e,_0x5a95a6);_0x45ebf0[_0x26ae30(0x415)]=!![],studentReadingArea[_0x26ae30(0x3d2)][_0x26ae30(0x536)](_0x26ae30(0x212));const _0x449448={...currentDisplayedQuiz[_0x26ae30(0x256)],'isAdaptive':![],'resultsDisplay':_0x26ae30(0x539)};_0x45ebf0['settings']=_0x449448,displayQuizForStudent(_0x45ebf0);}catch(_0x1f576c){console[_0x26ae30(0x268)](_0x26ae30(0x5f1),_0x1f576c),showMessage(_0x26ae30(0x40f)),showView(_0x26ae30(0x57b));}}function displayPassFailOnly(_0x3e8ba5,_0x206bf8){const _0x2fc681=_0xe477c6,_0x5894df=currentDisplayedQuiz[_0x2fc681(0x256)]?.[_0x2fc681(0x2da)]??-0x1,_0x35c751=currentDisplayedQuiz[_0x2fc681(0x415)]===!![];let _0x171dcb='';if(_0x35c751||_0x5894df!==-0x1){let _0x531b45;_0x35c751?_0x531b45=_0x3e8ba5===_0x206bf8:_0x531b45=_0x3e8ba5>=_0x5894df;const _0x4079ae=_0x531b45?_0x2fc681(0x66b):_0x2fc681(0x163),_0x53d14e=_0x531b45?_0x2fc681(0x689):_0x2fc681(0x38d);_0x171dcb=_0x2fc681(0x3c9)+_0x4079ae+'\x22>'+_0x53d14e+_0x2fc681(0x76f);}else _0x171dcb=_0x2fc681(0x6b6);let _0x1a1a1a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2fc681(0x678)+_0x171dcb+_0x2fc681(0x2a4);studentResultArea[_0x2fc681(0x5cf)]=_0x1a1a1a,studentResultArea[_0x2fc681(0x3d2)][_0x2fc681(0x73a)](_0x2fc681(0x212)),studentQuizArea[_0x2fc681(0x3d2)][_0x2fc681(0x536)](_0x2fc681(0x212));const _0x12f969=_0x2fc681(0x682),_0x5c00e2=currentMode==='admin-testing',_0x4b1dc1=_0x5c00e2?_0x2fc681(0x4a9):_0x2fc681(0x75b),_0x200dd7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x12f969+_0x2fc681(0x31e)+_0x4b1dc1+_0x2fc681(0x4e3);studentResultArea[_0x2fc681(0x591)]('beforeend',_0x200dd7),document[_0x2fc681(0x3bf)](_0x12f969)['addEventListener']('click',()=>{const _0x11e449=_0x2fc681;_0x5c00e2?(currentMode=_0x11e449(0x2bf),studentView['classList'][_0x11e449(0x536)](_0x11e449(0x212)),adminView[_0x11e449(0x3d2)][_0x11e449(0x73a)](_0x11e449(0x212)),showView(_0x11e449(0x640))):(showView('student'),document[_0x11e449(0x3bf)](_0x11e449(0x78d))['value']='');});}function cancelAdminTest(){const _0x4cb69c=_0xe477c6;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x4cb69c(0x2bf),studentView[_0x4cb69c(0x3d2)]['add'](_0x4cb69c(0x212)),adminView['classList'][_0x4cb69c(0x73a)](_0x4cb69c(0x212)),showView(_0x4cb69c(0x640));}function setupResultScreenBackButton(){const _0x55029c=_0xe477c6,_0x1d8124='back-from-results-btn',_0x5d32b7=currentMode===_0x55029c(0x135),_0x1022d7=_0x5d32b7?_0x55029c(0x4a9):_0x55029c(0x75b),_0x2ee4ef=_0x55029c(0x182)+_0x1d8124+_0x55029c(0x69c)+_0x1022d7+_0x55029c(0x1d2);studentResultArea[_0x55029c(0x591)](_0x55029c(0x1e1),_0x2ee4ef),studentResultArea[_0x55029c(0x179)](_0x55029c(0x5e6))[_0x55029c(0x30f)](_0x55029c(0x707),handleShowStudentRankings),document[_0x55029c(0x3bf)](_0x1d8124)[_0x55029c(0x30f)](_0x55029c(0x707),()=>{const _0x161cb8=_0x55029c;_0x5d32b7?(currentMode=_0x161cb8(0x2bf),studentView['classList'][_0x161cb8(0x536)](_0x161cb8(0x212)),adminView[_0x161cb8(0x3d2)][_0x161cb8(0x73a)](_0x161cb8(0x212)),showView(_0x161cb8(0x640))):(showView(_0x161cb8(0x57b)),document[_0x161cb8(0x3bf)](_0x161cb8(0x78d))[_0x161cb8(0x21f)]='');});}function displayResultsWithAnswers(_0x2322f6,_0x33566e,_0x373e5f,_0x2df6aa,_0x2618af){const _0x472b78=_0xe477c6,_0x5568d5=_0x2618af>0x0?_0x2322f6/_0x2618af*0x64:0x0,_0x23a180=currentDisplayedQuiz['settings']?.[_0x472b78(0x2da)]??-0x1,_0x33e46f=currentDisplayedQuiz['isRemedial']===!![];let _0x19dfc1='';if(_0x33e46f||_0x23a180!==-0x1){let _0x3b42cd=_0x33e46f?_0x2322f6===_0x2618af:_0x2322f6>=_0x23a180;const _0x393421=_0x3b42cd?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x48e837=_0x3b42cd?_0x472b78(0x689):_0x472b78(0x38d);_0x19dfc1='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x393421+'\x22>'+_0x48e837+_0x472b78(0x7a7);}let _0x2e4e65='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x472b78(0x59a)+_0x2322f6+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2618af+_0x472b78(0x549)+_0x19dfc1+_0x472b78(0x621)+_0x33566e+_0x472b78(0x741)+_0x5568d5[_0x472b78(0x227)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x472b78(0x541)][_0x472b78(0x793)]((_0x135761,_0x14e73d)=>{const _0x50976a=_0x472b78,_0x129fbb=_0x2df6aa[_0x14e73d],_0x72bf60=_0x129fbb[_0x50976a(0x325)],_0x273367=_0x129fbb[_0x50976a(0x1f5)],_0x2e7219=_0x135761['questionType']||currentDisplayedQuiz[_0x50976a(0x6c9)];_0x2e4e65+=_0x50976a(0x5d5)+(_0x273367?_0x50976a(0x155):_0x50976a(0x6e0))+_0x50976a(0x4dd)+(_0x14e73d+0x1)+'.\x20'+(_0x135761[_0x50976a(0x1bc)]||_0x135761['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2e7219){case'matching_item':const _0x21ba2e=_0x72bf60||_0x50976a(0x787),_0x217d6a=_0x135761[_0x50976a(0x786)];_0x2e4e65+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x273367?'line-through\x20text-red-700':'')+'\x22>'+_0x21ba2e+'</span></p>';!_0x273367&&(_0x2e4e65+=_0x50976a(0x22c)+_0x217d6a+_0x50976a(0x7a7));break;case _0x50976a(0x39f):_0x2e4e65+=_0x50976a(0x237)+(_0x72bf60||'ไม่ได้ตอบ')+_0x50976a(0x7a7),_0x2e4e65+=_0x50976a(0x697)+_0x135761['idealAnswer']+_0x50976a(0x7a7);break;case _0x50976a(0x1be):_0x2e4e65+='<p\x20class=\x22'+(_0x135761[_0x50976a(0x3e3)]===!![]?_0x50976a(0x6c0):'')+'\x20'+(_0x72bf60===_0x50976a(0x62b)&&!_0x273367?_0x50976a(0x724):'')+_0x50976a(0x291),_0x2e4e65+=_0x50976a(0x323)+(_0x135761[_0x50976a(0x3e3)]===![]?_0x50976a(0x6c0):'')+'\x20'+(_0x72bf60===_0x50976a(0x34d)&&!_0x273367?_0x50976a(0x724):'')+_0x50976a(0x1c4);break;case'fill_in_the_blank':case _0x50976a(0x2d3):default:_0x2e4e65+=_0x135761['options'][_0x50976a(0x571)]((_0x487b7,_0x1de283)=>{const _0x142d3a=_0x50976a;let _0x4d68a4='',_0x1b4ddd='';if(_0x1de283===_0x135761['correctAnswerIndex'])_0x4d68a4='font-bold\x20text-green-700',_0x1b4ddd=_0x142d3a(0x10f);else _0x1de283===_0x72bf60&&(_0x4d68a4=_0x142d3a(0x413),_0x1b4ddd='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x142d3a(0x1ec)+_0x4d68a4+'\x22>'+_0x1b4ddd+_0x487b7+_0x142d3a(0x53b);})[_0x50976a(0x47b)]('');break;}_0x2e4e65+=_0x50976a(0x391)+(_0x135761[_0x50976a(0x52b)]||'ไม่มีคำอธิบาย')+_0x50976a(0x1b6);if(!_0x273367){const _0x5497e3=_0x135761[_0x50976a(0x1bc)]||_0x135761[_0x50976a(0x5a9)];_0x2e4e65+=_0x50976a(0x309)+escape(_0x5497e3)+_0x50976a(0x63c);}_0x2e4e65+=_0x50976a(0x408);}),studentResultArea[_0x472b78(0x5cf)]=_0x2e4e65,renderEarnedBadges(_0x373e5f,_0x472b78(0x11e)),studentResultArea[_0x472b78(0x3d2)]['remove'](_0x472b78(0x212)),studentQuizArea[_0x472b78(0x3d2)]['add'](_0x472b78(0x212)),setupResultScreenBackButton();if(window[_0x472b78(0x736)])window[_0x472b78(0x736)][_0x472b78(0x55a)]([studentResultArea]);}function displayResultsScoreOnly(_0x254899,_0x49cc2f,_0x183db3,_0xd0fa3d){const _0x46b279=_0xe477c6,_0x33898c=_0xd0fa3d>0x0?_0x254899/_0xd0fa3d*0x64:0x0,_0x1ae926=currentDisplayedQuiz[_0x46b279(0x256)]?.[_0x46b279(0x2da)]??-0x1,_0x5cf02a=currentDisplayedQuiz['isRemedial']===!![];let _0x47e730='';if(_0x5cf02a||_0x1ae926!==-0x1){let _0x25ffdb;_0x5cf02a?_0x25ffdb=_0x254899===_0xd0fa3d:_0x25ffdb=_0x254899>=_0x1ae926;const _0x53e593=_0x25ffdb?_0x46b279(0x66b):_0x46b279(0x163),_0x4922d9=_0x25ffdb?_0x46b279(0x689):_0x46b279(0x38d);_0x47e730=_0x46b279(0x310)+_0x53e593+'\x22>'+_0x4922d9+_0x46b279(0x7a7);}let _0x5cb541='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x46b279(0x6a4)+_0x254899+_0x46b279(0x219)+_0xd0fa3d+_0x46b279(0x549)+_0x47e730+_0x46b279(0x621)+_0x49cc2f+_0x46b279(0x7b3)+_0x33898c[_0x46b279(0x227)](0x0)+_0x46b279(0x561);studentResultArea[_0x46b279(0x5cf)]=_0x5cb541,renderEarnedBadges(_0x183db3,_0x46b279(0x11e)),studentResultArea[_0x46b279(0x3d2)][_0x46b279(0x73a)](_0x46b279(0x212)),studentQuizArea[_0x46b279(0x3d2)][_0x46b279(0x536)]('hidden'),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x16cd2c=_0xe477c6;let _0x50a37a=_0x16cd2c(0x5f5)+currentStudentName+_0x16cd2c(0x3ce);studentResultArea['innerHTML']=_0x50a37a,studentResultArea['classList'][_0x16cd2c(0x73a)](_0x16cd2c(0x212)),studentQuizArea[_0x16cd2c(0x3d2)][_0x16cd2c(0x536)]('hidden'),document[_0x16cd2c(0x3bf)](_0x16cd2c(0x67d))[_0x16cd2c(0x30f)](_0x16cd2c(0x707),()=>{const _0x2a08c8=_0x16cd2c;showView(_0x2a08c8(0x57b)),document['getElementById']('quiz-id-input')['value']='';});}function renderEarnedBadges(_0xeba835,_0x36556e){const _0x5d77e3=_0xe477c6,_0x29a9a6=document[_0x5d77e3(0x3bf)](_0x36556e);if(!_0x29a9a6||!_0xeba835||_0xeba835[_0x5d77e3(0x330)]===0x0)return;let _0x4c28d1='';_0xeba835[_0x5d77e3(0x793)]((_0x3449b6,_0x3b3572)=>{const _0x5413aa=_0x5d77e3,_0x15d23c=Object[_0x5413aa(0x372)](BADGES)[_0x5413aa(0x6d0)](_0x170a15=>_0x170a15['id']===_0x3449b6);_0x15d23c&&(_0x4c28d1+=_0x5413aa(0x3d6)+_0x3b3572*0.2+_0x5413aa(0x3e9)+_0x15d23c[_0x5413aa(0x4da)]+_0x5413aa(0x679)+_0x15d23c[_0x5413aa(0x6b0)]+_0x5413aa(0x5d4)+_0x15d23c[_0x5413aa(0x5ca)]+_0x5413aa(0x4ef));}),_0x29a9a6['innerHTML']=_0x4c28d1;}function startPresentation(_0x370f84){const _0x24d640=_0xe477c6;currentQuizData=getShuffledQuiz(_0x370f84),currentPresentationSlide=0x0,presentationModal[_0x24d640(0x4a2)][_0x24d640(0x3b6)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4992bc=_0xe477c6;document['fullscreenElement']&&document[_0x4992bc(0x2bc)](),presentationModal[_0x4992bc(0x4a2)][_0x4992bc(0x3b6)]='none';}function renderPresentationSlide(_0x3ca288){const _0x4bc1e1=_0xe477c6,_0x4b6862=document[_0x4bc1e1(0x3bf)](_0x4bc1e1(0x3c4));if(!currentQuizData||!currentQuizData[_0x4bc1e1(0x541)]||!currentQuizData['questions'][_0x3ca288]){_0x4b6862[_0x4bc1e1(0x5cf)]=_0x4bc1e1(0x30e);return;}const _0x445c1d=currentQuizData[_0x4bc1e1(0x541)][_0x3ca288],_0x2b4303=_0x445c1d[_0x4bc1e1(0x4f4)]||currentQuizData[_0x4bc1e1(0x6c9)];_0x4b6862[_0x4bc1e1(0x5cf)]='';let _0x5a4087=_0x4bc1e1(0x44f)+(_0x445c1d[_0x4bc1e1(0x295)]?_0x4bc1e1(0x550)+_0x445c1d[_0x4bc1e1(0x295)]+_0x4bc1e1(0x53b):'')+_0x4bc1e1(0x146)+(_0x3ca288+0x1)+'.\x20'+(_0x445c1d[_0x4bc1e1(0x1bc)]||_0x445c1d[_0x4bc1e1(0x5a9)])+_0x4bc1e1(0x2af);switch(_0x2b4303){case'matching_item':_0x5a4087+=_0x445c1d[_0x4bc1e1(0x450)]['map'](_0x3862c1=>_0x4bc1e1(0x56c)+_0x3862c1+_0x4bc1e1(0x4d6))[_0x4bc1e1(0x47b)]('');break;case _0x4bc1e1(0x1be):_0x5a4087+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x5a4087+=_0x4bc1e1(0x1e3);break;case _0x4bc1e1(0x354):case _0x4bc1e1(0x39f):_0x5a4087+=_0x4bc1e1(0x653);break;case _0x4bc1e1(0x4bf):case _0x4bc1e1(0x2d3):default:_0x5a4087+=_0x445c1d['options']['map']((_0x30db98,_0x4475de)=>_0x4bc1e1(0x371)+_0x4475de+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30db98+_0x4bc1e1(0x4d6))['join']('');break;}_0x5a4087+=_0x4bc1e1(0x1e4)+(_0x445c1d[_0x4bc1e1(0x52b)]||_0x4bc1e1(0x4dc))+_0x4bc1e1(0x3d4),_0x4b6862['innerHTML']=_0x5a4087;if(window[_0x4bc1e1(0x736)])window[_0x4bc1e1(0x736)][_0x4bc1e1(0x55a)]([_0x4b6862]);document[_0x4bc1e1(0x2b5)](_0x4bc1e1(0x346))['forEach'](_0x43ab85=>{const _0x61dbdb=_0x4bc1e1;_0x43ab85[_0x61dbdb(0x30f)]('click',_0x18c9cc=>revealAnswerForPresentation(_0x3ca288,_0x18c9cc[_0x61dbdb(0x687)]));});const _0x9e08e0=document['getElementById'](_0x4bc1e1(0x363));_0x9e08e0&&_0x9e08e0[_0x4bc1e1(0x30f)](_0x4bc1e1(0x707),()=>checkShortAnswerForPresentation(_0x3ca288)),document[_0x4bc1e1(0x3bf)](_0x4bc1e1(0x602))[_0x4bc1e1(0x13f)]=_0x4bc1e1(0x53e)+(_0x3ca288+0x1)+'\x20/\x20'+currentQuizData[_0x4bc1e1(0x541)][_0x4bc1e1(0x330)],document[_0x4bc1e1(0x3bf)]('prev-question-btn')[_0x4bc1e1(0x688)]=_0x3ca288===0x0,document[_0x4bc1e1(0x3bf)]('next-question-btn')[_0x4bc1e1(0x688)]=_0x3ca288===currentQuizData[_0x4bc1e1(0x541)][_0x4bc1e1(0x330)]-0x1;}async function checkShortAnswerForPresentation(_0x464711){const _0x6e6990=_0xe477c6,_0x33f92a=currentQuizData[_0x6e6990(0x541)][_0x464711],_0x4c048f=document[_0x6e6990(0x3bf)](_0x6e6990(0x1d6)),_0x335353=document['getElementById'](_0x6e6990(0x363)),_0x50177f=document[_0x6e6990(0x3bf)](_0x6e6990(0x588)),_0x359e5d=document['getElementById'](_0x6e6990(0x572));if(!_0x4c048f||!_0x335353||!_0x50177f||!_0x359e5d)return;const _0x173228=_0x4c048f[_0x6e6990(0x21f)]['trim']();if(_0x173228==='')return;_0x335353[_0x6e6990(0x688)]=!![],_0x335353[_0x6e6990(0x5cf)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x4c048f[_0x6e6990(0x688)]=!![];const _0xfcc8bd=await gradeShortAnswer(_0x173228,_0x33f92a);_0xfcc8bd?_0x50177f['innerHTML']=_0x6e6990(0x432):_0x50177f[_0x6e6990(0x5cf)]=_0x6e6990(0x6fe)+_0x33f92a[_0x6e6990(0x6b4)]+')',_0x50177f[_0x6e6990(0x3d2)][_0x6e6990(0x73a)](_0x6e6990(0x212)),_0x359e5d[_0x6e6990(0x3d2)][_0x6e6990(0x73a)]('hidden'),_0x335353[_0x6e6990(0x3d2)]['add'](_0x6e6990(0x212));}function revealAnswerForPresentation(_0xa6044f,_0x19345e){const _0x1a4d48=_0xe477c6,_0x3d9c77=currentQuizData[_0x1a4d48(0x541)][_0xa6044f],_0x597ef8=_0x3d9c77['questionType']||currentQuizData[_0x1a4d48(0x6c9)];document[_0x1a4d48(0x2b5)](_0x1a4d48(0x346))['forEach'](_0x286cf5=>{const _0x27fc12=_0x1a4d48;_0x286cf5[_0x27fc12(0x688)]=!![],_0x286cf5[_0x27fc12(0x3d2)]['remove'](_0x27fc12(0x451));let _0x325c16=![];if(_0x597ef8===_0x27fc12(0x2d3)||_0x597ef8===_0x27fc12(0x4bf)){const _0x561de9=parseInt(_0x286cf5['dataset']['index']);_0x325c16=_0x561de9===_0x3d9c77[_0x27fc12(0x47c)];}else{if(_0x597ef8==='true_false'){const _0x55830a=_0x286cf5[_0x27fc12(0x13e)][_0x27fc12(0x325)]===_0x27fc12(0x62b);_0x325c16=_0x55830a===_0x3d9c77[_0x27fc12(0x3e3)];}else _0x597ef8===_0x27fc12(0x611)&&(_0x325c16=_0x286cf5[_0x27fc12(0x13f)][_0x27fc12(0x503)]()===_0x3d9c77['correctResponse']);}_0x325c16?_0x286cf5[_0x27fc12(0x3d2)][_0x27fc12(0x536)]('bg-green-500','text-white',_0x27fc12(0x2e2)):_0x286cf5[_0x27fc12(0x3d2)][_0x27fc12(0x536)](_0x27fc12(0x300));}),_0x19345e[_0x1a4d48(0x3d2)][_0x1a4d48(0x73a)](_0x1a4d48(0x300));let _0x94a27f=![];if(_0x597ef8===_0x1a4d48(0x2d3))_0x94a27f=parseInt(_0x19345e[_0x1a4d48(0x13e)]['index'])===_0x3d9c77[_0x1a4d48(0x47c)];else{if(_0x597ef8==='true_false')_0x94a27f=_0x19345e[_0x1a4d48(0x13e)]['answer']===_0x1a4d48(0x62b)===_0x3d9c77['correctAnswer'];else _0x597ef8===_0x1a4d48(0x611)&&(_0x94a27f=_0x19345e[_0x1a4d48(0x13f)][_0x1a4d48(0x503)]()===_0x3d9c77['correctResponse']);}!_0x94a27f&&_0x19345e[_0x1a4d48(0x3d2)]['add'](_0x1a4d48(0x71d),_0x1a4d48(0x521),_0x1a4d48(0x264)),document[_0x1a4d48(0x3bf)](_0x1a4d48(0x572))[_0x1a4d48(0x3d2)][_0x1a4d48(0x73a)](_0x1a4d48(0x212));}function startWholeQuizTimer(_0x41ee5a){const _0x3ed72c=_0xe477c6,_0x5170b3=document[_0x3ed72c(0x3bf)](_0x3ed72c(0x595));if(!_0x5170b3)return;const _0x19d0d0=Date[_0x3ed72c(0x703)]()+_0x41ee5a*0x3c*0x3e8;_0x5170b3[_0x3ed72c(0x5cf)]=_0x3ed72c(0x7ad);const _0x28544d=document[_0x3ed72c(0x3bf)](_0x3ed72c(0x732));quizTimerInterval=setInterval(()=>{const _0x4eb24d=_0x3ed72c,_0x8910a4=_0x19d0d0-Date[_0x4eb24d(0x703)]();if(_0x8910a4<=0x0)clearInterval(quizTimerInterval),_0x28544d[_0x4eb24d(0x13f)]=_0x4eb24d(0x467),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5c18da=Math['floor'](_0x8910a4/0x3e8/0x3c%0x3c)[_0x4eb24d(0x6d9)]()[_0x4eb24d(0x59b)](0x2,'0'),_0x3a3fff=Math[_0x4eb24d(0x28b)](_0x8910a4/0x3e8%0x3c)[_0x4eb24d(0x6d9)]()[_0x4eb24d(0x59b)](0x2,'0');_0x28544d['textContent']=_0x5c18da+':'+_0x3a3fff;}},0x3e8);}function renderPerQuestionView(){const _0x5cfcd1=_0xe477c6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x54358d=currentDisplayedQuiz[_0x5cfcd1(0x541)][currentQuestionIndex],_0x2209a0=_0x54358d[_0x5cfcd1(0x4f4)]||currentDisplayedQuiz[_0x5cfcd1(0x6c9)];let _0x56c959=_0x5cfcd1(0x1f4)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x5cfcd1(0x330)]+_0x5cfcd1(0x1c0)+(currentMode===_0x5cfcd1(0x135)?_0x5cfcd1(0x71e):'')+_0x5cfcd1(0x350)+currentDisplayedQuiz[_0x5cfcd1(0x500)]+_0x5cfcd1(0x5f9)+(currentQuestionIndex===currentDisplayedQuiz[_0x5cfcd1(0x541)]['length']-0x1?_0x5cfcd1(0x4ff):_0x5cfcd1(0x54b))+_0x5cfcd1(0x728);studentQuizArea[_0x5cfcd1(0x5cf)]=_0x56c959;let _0x3b54ff='',_0x48ea91='';switch(_0x2209a0){case _0x5cfcd1(0x611):_0x3b54ff=currentQuestionIndex+0x1+'.\x20'+_0x54358d[_0x5cfcd1(0x1bc)],_0x48ea91=_0x5cfcd1(0x254)+_0x54358d[_0x5cfcd1(0x450)][_0x5cfcd1(0x571)](_0x3840c1=>_0x5cfcd1(0x407)+_0x3840c1+'\x22>'+_0x3840c1+_0x5cfcd1(0x194))[_0x5cfcd1(0x47b)]('')+_0x5cfcd1(0x53f);break;case'true_false':_0x3b54ff=currentQuestionIndex+0x1+'.\x20'+_0x54358d[_0x5cfcd1(0x5a9)],_0x48ea91=_0x5cfcd1(0x6a6);break;case _0x5cfcd1(0x39f):case _0x5cfcd1(0x354):_0x3b54ff=currentQuestionIndex+0x1+'.\x20'+_0x54358d['questionText'],_0x48ea91='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x5cfcd1(0x2d3):case _0x5cfcd1(0x170):default:_0x3b54ff=currentQuestionIndex+0x1+'.\x20'+_0x54358d['questionText'],_0x48ea91=_0x54358d[_0x5cfcd1(0x26e)][_0x5cfcd1(0x571)]((_0x4338bf,_0x478746)=>_0x5cfcd1(0x5d7)+_0x478746+_0x5cfcd1(0x68f)+_0x478746+_0x5cfcd1(0x275)+_0x478746+'\x22>'+_0x4338bf+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5cfcd1(0x47b)]('');break;}_0x54358d[_0x5cfcd1(0x295)]&&(_0x3b54ff+=_0x5cfcd1(0x550)+_0x54358d[_0x5cfcd1(0x295)]+'</div>');document[_0x5cfcd1(0x3bf)](_0x5cfcd1(0x4a5))[_0x5cfcd1(0x5cf)]=_0x3b54ff,document[_0x5cfcd1(0x3bf)](_0x5cfcd1(0x600))[_0x5cfcd1(0x5cf)]=_0x48ea91;if(currentMode==='admin-testing'){const _0x19bc18=document[_0x5cfcd1(0x3bf)](_0x5cfcd1(0x635));if(_0x19bc18)_0x19bc18[_0x5cfcd1(0x30f)]('click',cancelAdminTest);}document[_0x5cfcd1(0x3bf)](_0x5cfcd1(0x18f))[_0x5cfcd1(0x30f)](_0x5cfcd1(0x707),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5cfcd1(0x736)])window[_0x5cfcd1(0x736)][_0x5cfcd1(0x55a)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5c6d96=_0xe477c6,_0x1ae344=currentDisplayedQuiz[_0x5c6d96(0x256)][_0x5c6d96(0x624)],_0x199454=document[_0x5c6d96(0x3bf)]('per-question-timer-container');if(!_0x199454)return;let _0x474246=_0x1ae344;_0x199454[_0x5c6d96(0x5cf)]=_0x5c6d96(0x6be)+_0x474246+_0x5c6d96(0x5bc);const _0x12d2bb=document[_0x5c6d96(0x3bf)](_0x5c6d96(0x4f2)),_0x2787f6=document[_0x5c6d96(0x3bf)](_0x5c6d96(0x271));perQuestionTimerInterval=setInterval(()=>{const _0x3cbbc8=_0x5c6d96;_0x474246--;const _0x552bc4=_0x474246/_0x1ae344*0x64;_0x12d2bb[_0x3cbbc8(0x4a2)][_0x3cbbc8(0x23a)]=_0x552bc4+'%',_0x2787f6[_0x3cbbc8(0x13f)]=_0x474246,_0x474246<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3cbbc8(0x50e)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x46dd4e=![]){const _0x3a5782=_0xe477c6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x330a42=null;if(!_0x46dd4e){const _0x358a58=currentDisplayedQuiz[_0x3a5782(0x541)][currentQuestionIndex],_0x1e225d=_0x358a58[_0x3a5782(0x4f4)]||currentDisplayedQuiz[_0x3a5782(0x6c9)];if(_0x1e225d===_0x3a5782(0x39f)||_0x1e225d===_0x3a5782(0x354)){const _0x25891e=document[_0x3a5782(0x179)](_0x3a5782(0x780));_0x330a42=_0x25891e?_0x25891e[_0x3a5782(0x21f)][_0x3a5782(0x503)]():'';}else{if(_0x1e225d==='matching_item'){const _0x5cbfaa=document[_0x3a5782(0x179)]('#per-question-options\x20select');_0x330a42=_0x5cbfaa?_0x5cbfaa[_0x3a5782(0x21f)]:'';}else{const _0x2d67d9=document[_0x3a5782(0x179)](_0x3a5782(0x58b));if(_0x2d67d9){const _0x3c87cf=_0x2d67d9['value'];_0x330a42=!isNaN(parseInt(_0x3c87cf,0xa))&&_0x3c87cf[_0x3a5782(0x503)]()!==''?parseInt(_0x3c87cf,0xa):_0x3c87cf;}}}}studentAnswersPerQuestion[_0x3a5782(0x424)](_0x330a42),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3a5782(0x541)][_0x3a5782(0x330)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x41904b=_0xe477c6,_0x304054=currentDisplayedQuiz['questions'][_0x41904b(0x54a)](_0x42a040=>_0x42a040[_0x41904b(0x4f4)]===_0x41904b(0x39f));_0x304054?showMessage(_0x41904b(0x1db)):showMessage(_0x41904b(0x165));const _0xba707d=currentQuizData['id'],_0x3dafa6=doc(db,_0x41904b(0x30a)+appId+_0x41904b(0x475)+_0xba707d+'/submissions',currentStudentName),_0x2c2b7d=await getDoc(_0x3dafa6),_0x1be95a=_0x2c2b7d[_0x41904b(0x487)]()?_0x2c2b7d[_0x41904b(0x701)]():{},_0x25bdda=_0x1be95a[_0x41904b(0x6bb)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x25bdda);}function getResultsFilename(){const _0x30ad74=_0xe477c6,_0x21541e=document[_0x30ad74(0x3bf)]('results-quiz-title')[_0x30ad74(0x13f)][_0x30ad74(0x3ef)](/[^a-z0-9]/gi,'_')[_0x30ad74(0x173)]();return'results_'+(_0x21541e||_0x30ad74(0x6dc));}function exportResultsAsImage(){const _0xad606f=_0xe477c6,_0x5bf213=document[_0xad606f(0x3bf)]('results-table-container');showMessage(_0xad606f(0x3d7)),html2canvas(_0x5bf213)['then'](_0x39a1d0=>{const _0x46f5a5=_0xad606f,_0xbf0b3c=document[_0x46f5a5(0x620)]('a');_0xbf0b3c[_0x46f5a5(0x33b)]=getResultsFilename()+_0x46f5a5(0x4cb),_0xbf0b3c['href']=_0x39a1d0[_0x46f5a5(0x598)](_0x46f5a5(0x26b)),_0xbf0b3c[_0x46f5a5(0x707)](),messageModal[_0x46f5a5(0x3d2)][_0x46f5a5(0x536)](_0x46f5a5(0x212));});}function exportResultsAsPDF(){const _0x1b69dc=_0xe477c6,{jsPDF:_0x57b3e7}=window[_0x1b69dc(0x5e0)],_0x10e122=new _0x57b3e7();_0x10e122[_0x1b69dc(0x35e)](_0x1b69dc(0x6c3),_0x1b69dc(0x73d)),_0x10e122[_0x1b69dc(0x73f)]({'html':_0x1b69dc(0x209)}),_0x10e122[_0x1b69dc(0x2e9)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x2c0518=_0xe477c6,_0x3c7ddb=_0x2c0518(0x39c)+_0x2c0518(0x4fb)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x364ca3='</body></html>',_0x34ea2a=_0x3c7ddb+document[_0x2c0518(0x3bf)](_0x2c0518(0x203))[_0x2c0518(0x5cf)]+_0x364ca3,_0x56f558=_0x2c0518(0x3aa)+encodeURIComponent(_0x34ea2a),_0x2ab160=document['createElement']('a');document[_0x2c0518(0x708)]['appendChild'](_0x2ab160),_0x2ab160[_0x2c0518(0x7a6)]=_0x56f558,_0x2ab160[_0x2c0518(0x33b)]=getResultsFilename()+_0x2c0518(0x3ee),_0x2ab160[_0x2c0518(0x707)](),document[_0x2c0518(0x708)][_0x2c0518(0x1cc)](_0x2ab160);}function exportResultsAsExcel(){const _0x16931c=_0xe477c6,_0x4a2b02=document[_0x16931c(0x3bf)](_0x16931c(0x332));let _0xc26034=[];for(let _0x565e5b=0x0;_0x565e5b<_0x4a2b02[_0x16931c(0x6bd)][_0x16931c(0x330)];_0x565e5b++){let _0x217e38=[],_0x2a71ab=_0x4a2b02[_0x16931c(0x6bd)][_0x565e5b][_0x16931c(0x2b5)](_0x16931c(0x21d));for(let _0x4a73db=0x0;_0x4a73db<_0x2a71ab[_0x16931c(0x330)];_0x4a73db++){_0x217e38[_0x16931c(0x424)]('\x22'+_0x2a71ab[_0x4a73db][_0x16931c(0x584)][_0x16931c(0x3ef)](/"/g,'\x22\x22')+'\x22');}_0xc26034[_0x16931c(0x424)](_0x217e38[_0x16931c(0x47b)](','));}const _0x751c53=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xc26034[_0x16931c(0x47b)]('\x0a')],{'type':_0x16931c(0x790)}),_0x522989=document[_0x16931c(0x620)]('a');_0x522989[_0x16931c(0x7a6)]=URL[_0x16931c(0x2a0)](_0x751c53),_0x522989[_0x16931c(0x33b)]=getResultsFilename()+_0x16931c(0x54f),_0x522989[_0x16931c(0x707)]();}function exportTableAsImage(_0x37e114,_0x440b08){const _0x505a95=_0xe477c6,_0x2a4928=document[_0x505a95(0x3bf)](_0x37e114);if(!_0x2a4928){showMessage(_0x505a95(0x2c5));return;}showMessage(_0x505a95(0x3d7)),html2canvas(_0x2a4928)['then'](_0x26f036=>{const _0x3f02e2=_0x505a95,_0x522886=document[_0x3f02e2(0x620)]('a');_0x522886['download']=_0x440b08+_0x3f02e2(0x4cb),_0x522886[_0x3f02e2(0x7a6)]=_0x26f036['toDataURL']('image/png'),_0x522886[_0x3f02e2(0x707)](),messageModal[_0x3f02e2(0x3d2)]['add']('hidden');});}function exportTableAsPDF(_0x2cd0b9,_0x1ca9f9){const _0x585ac5=_0xe477c6,{jsPDF:_0x213ba8}=window[_0x585ac5(0x5e0)],_0x3a916e=new _0x213ba8();_0x3a916e[_0x585ac5(0x35e)](_0x585ac5(0x6c3),_0x585ac5(0x73d)),_0x3a916e['autoTable']({'html':'#'+_0x2cd0b9}),_0x3a916e['save'](_0x1ca9f9+'.pdf');}function exportTableAsWord(_0xc80fa0,_0x1be934){const _0x34f666=_0xe477c6,_0x191b44=document[_0x34f666(0x3bf)](_0xc80fa0);if(!_0x191b44){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x143ebe='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x34f666(0x4fb)+_0x34f666(0x476)+_0x34f666(0x1aa),_0x4131bf=_0x34f666(0x223),_0xcfb9e0=_0x143ebe+_0x191b44[_0x34f666(0x5cf)]+_0x4131bf,_0x1976c3=_0x34f666(0x3aa)+encodeURIComponent(_0xcfb9e0),_0x25c263=document[_0x34f666(0x620)]('a');document[_0x34f666(0x708)][_0x34f666(0x2c0)](_0x25c263),_0x25c263['href']=_0x1976c3,_0x25c263[_0x34f666(0x33b)]=_0x1be934+_0x34f666(0x3ee),_0x25c263[_0x34f666(0x707)](),document[_0x34f666(0x708)][_0x34f666(0x1cc)](_0x25c263);}function exportTableAsExcel(_0x4e068b,_0x43e15f){const _0x4374b9=_0xe477c6,_0xe9a096=document['getElementById'](_0x4e068b);if(!_0xe9a096){showMessage(_0x4374b9(0x2c5));return;}let _0x463868=[];for(let _0x235775=0x0;_0x235775<_0xe9a096[_0x4374b9(0x6bd)][_0x4374b9(0x330)];_0x235775++){let _0x261ae9=[],_0x37c4fb=_0xe9a096[_0x4374b9(0x6bd)][_0x235775][_0x4374b9(0x2b5)](_0x4374b9(0x21d));for(let _0x3861f8=0x0;_0x3861f8<_0x37c4fb['length'];_0x3861f8++){_0x261ae9[_0x4374b9(0x424)]('\x22'+_0x37c4fb[_0x3861f8][_0x4374b9(0x584)][_0x4374b9(0x3ef)](/"/g,'\x22\x22')+'\x22');}_0x463868[_0x4374b9(0x424)](_0x261ae9[_0x4374b9(0x47b)](','));}const _0x3f8a7e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x463868[_0x4374b9(0x47b)]('\x0a')],{'type':_0x4374b9(0x790)}),_0x224f46=document[_0x4374b9(0x620)]('a');_0x224f46[_0x4374b9(0x7a6)]=URL[_0x4374b9(0x2a0)](_0x3f8a7e),_0x224f46[_0x4374b9(0x33b)]=_0x43e15f+_0x4374b9(0x54f),_0x224f46['click']();}function renderAnalytics(_0x365022,_0x5d15e2){const _0x26d858=_0xe477c6,_0x5fcebc=currentProjectData[_0x26d858(0x3e1)]['length'],_0x188f95=_0x5d15e2['length'],_0x19ac25=_0x5fcebc-_0x188f95,_0x2f48a4=_0x5fcebc>0x0?_0x188f95/_0x5fcebc*0x64:0x0,_0xf10259=_0x5d15e2['map'](_0xa78950=>_0xa78950[_0x26d858(0x648)]),_0x2860f9=_0xf10259['length']>0x0?_0xf10259['reduce']((_0x5e0823,_0x31c45b)=>_0x5e0823+_0x31c45b,0x0)/_0xf10259[_0x26d858(0x330)]:0x0,_0x17b9ea=_0x365022['questions']['length'],_0x14ceb6=_0x17b9ea>0x0?_0x2860f9/_0x17b9ea*0x64:0x0,_0x3ef70e=calculateItemAnalysis(_0x365022,_0x5d15e2),_0x3d1ddb=calculateReliabilityKR20(_0x365022,_0x5d15e2,_0x3ef70e['perQuestionStats']);let _0x499fc0='';if(_0x3d1ddb!==null){let _0x5a49d5='';if(_0x3d1ddb>=0.9)_0x5a49d5=_0x26d858(0x501);else{if(_0x3d1ddb>=0.8)_0x5a49d5=_0x26d858(0x739);else{if(_0x3d1ddb>=0.7)_0x5a49d5='ดี';else{if(_0x3d1ddb>=0.6)_0x5a49d5=_0x26d858(0x5d9);else _0x5a49d5='ควรปรับปรุง';}}}_0x499fc0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x3d1ddb[_0x26d858(0x227)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5a49d5+_0x26d858(0x273);}const _0x3b40ad=document['getElementById'](_0x26d858(0x7a8));_0x3b40ad[_0x26d858(0x5cf)]=_0x26d858(0x39a)+_0x2f48a4[_0x26d858(0x227)](0x0)+_0x26d858(0x218)+_0x188f95+'/'+_0x5fcebc+_0x26d858(0x631)+_0x2860f9[_0x26d858(0x227)](0x2)+_0x26d858(0x289)+_0x14ceb6[_0x26d858(0x227)](0x0)+_0x26d858(0x650)+(_0xf10259[_0x26d858(0x330)]>0x0?Math['max'](..._0xf10259):_0x26d858(0x174))+_0x26d858(0x4f3)+(_0xf10259[_0x26d858(0x330)]>0x0?Math[_0x26d858(0x403)](..._0xf10259):_0x26d858(0x174))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x499fc0+_0x26d858(0x27e);const _0xd5abd9=document[_0x26d858(0x3bf)](_0x26d858(0x181));_0xd5abd9&&_0xd5abd9[_0x26d858(0x73a)]();const _0x10f449=_0x26d858(0x2eb);_0x3b40ad[_0x26d858(0x591)](_0x26d858(0x380),_0x10f449);const _0x353537=currentProjectData[_0x26d858(0x3e1)]||[];renderSubmissionChart(_0x188f95,_0x19ac25,_0x5d15e2,_0x353537),renderScoreDistributionChart(_0x5d15e2,_0x17b9ea),renderQuestionAnalytics(_0x365022,_0x5d15e2,_0x353537),renderInterestingStats(_0x365022,_0x5d15e2);}async function handleExportLessonPDF(){const _0x13c70c=_0xe477c6,_0x237947=document[_0x13c70c(0x3bf)](_0x13c70c(0x794)),_0x37497d=document[_0x13c70c(0x3bf)](_0x13c70c(0x234))['textContent'],_0x4b0e5c=window[_0x13c70c(0x345)]('',_0x13c70c(0x36d)),_0x38d2b8=_0x13c70c(0x36a)+_0x37497d+_0x13c70c(0x34e)+_0x237947[_0x13c70c(0x5cf)]+_0x13c70c(0x750);_0x4b0e5c[_0x13c70c(0x2b0)]['write'](_0x38d2b8),_0x4b0e5c['document']['close'](),_0x4b0e5c[_0x13c70c(0x20f)]=function(){setTimeout(()=>{const _0x1c1afe=_0x3c0d;_0x4b0e5c[_0x1c1afe(0x267)]();},0x5dc);};}function renderInterestingStats(_0x351393,_0x4f5796){const _0x36493c=_0xe477c6,_0x3d3d35=document['getElementById'](_0x36493c(0x58d));if(!_0x3d3d35)return;if(_0x4f5796[_0x36493c(0x330)]===0x0){_0x3d3d35[_0x36493c(0x5cf)]=_0x36493c(0x60d);return;}const _0x21ece3=_0x351393[_0x36493c(0x541)][_0x36493c(0x571)]((_0x53f095,_0x4e3a10)=>({'index':_0x4e3a10+0x1,'text':_0x53f095[_0x36493c(0x5a9)]||_0x53f095[_0x36493c(0x1bc)],'correct':0x0}));_0x4f5796['forEach'](_0x55d32e=>{const _0x570d8e=_0x36493c,_0x5d4f78=_0x55d32e['attempts'][_0x55d32e[_0x570d8e(0x6bb)][_0x570d8e(0x330)]-0x1];_0x5d4f78&&_0x5d4f78[_0x570d8e(0x752)]&&_0x5d4f78['answers'][_0x570d8e(0x793)](_0x3682c1=>{const _0x1bf49a=_0x570d8e,_0x22ea5f=_0x21ece3[_0x1bf49a(0x6d0)](_0x34061f=>_0x34061f[_0x1bf49a(0x6a8)]===_0x3682c1[_0x1bf49a(0x43c)]);_0x3682c1[_0x1bf49a(0x1f5)]&&_0x22ea5f&&_0x22ea5f[_0x1bf49a(0x760)]++;});});const _0x302229=_0x4f5796[_0x36493c(0x330)],_0x43c6ff=Math[_0x36493c(0x17b)](..._0x21ece3[_0x36493c(0x571)](_0x38a1f5=>_0x38a1f5[_0x36493c(0x760)])),_0x7f3814=Math[_0x36493c(0x403)](..._0x21ece3['map'](_0x38330b=>_0x38330b[_0x36493c(0x760)])),_0x103421=_0x21ece3[_0x36493c(0x5b5)](_0x51a24f=>_0x51a24f[_0x36493c(0x760)]===_0x43c6ff)[_0x36493c(0x571)](_0x233e2f=>_0x36493c(0x34b)+_0x233e2f[_0x36493c(0x422)]),_0x4b523e=_0x21ece3['filter'](_0x1741cb=>_0x1741cb[_0x36493c(0x760)]===_0x7f3814)[_0x36493c(0x571)](_0x5de743=>_0x36493c(0x34b)+_0x5de743['index']),_0x479742=_0x4f5796['sort']((_0x18ff02,_0x1d3c76)=>_0x1d3c76[_0x36493c(0x648)]-_0x18ff02[_0x36493c(0x648)])[_0x36493c(0x5b5)]((_0x1797b,_0x28f5ff,_0x34cfc9)=>_0x1797b['latestScore']===_0x34cfc9[0x0][_0x36493c(0x648)]),_0x4a4c82=_0x4f5796[_0x36493c(0x1dc)]((_0x54bea4,_0x23ee4e)=>_0x54bea4[_0x36493c(0x648)]-_0x23ee4e[_0x36493c(0x648)])['filter']((_0xb75958,_0x1373dc,_0x4a6996)=>_0xb75958[_0x36493c(0x648)]===_0x4a6996[0x0][_0x36493c(0x648)]),_0x4d9566='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x103421['join'](',\x20')+_0x36493c(0x43e)+_0x43c6ff+_0x36493c(0x3f1)+_0x302229+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x4b523e[_0x36493c(0x47b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x302229-_0x7f3814)+_0x36493c(0x3f1)+_0x302229+_0x36493c(0x47f)+_0x479742[_0x36493c(0x571)](_0x325dd8=>_0x325dd8['studentName'])['join'](',\x20')+_0x36493c(0x761)+_0x479742[0x0][_0x36493c(0x648)]+_0x36493c(0x32f)+_0x4a4c82['map'](_0x487e4b=>_0x487e4b['studentName'])[_0x36493c(0x47b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x4a4c82[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3d3d35['innerHTML']=_0x4d9566;}function renderSubmissionChart(_0x2f4472,_0x37402a,_0x19fb0b,_0x43cf7d){const _0x1fd4db=_0xe477c6,_0x31ec2c=document['getElementById'](_0x1fd4db(0x6e7))[_0x1fd4db(0x484)]('2d'),_0x3107ab=_0x19fb0b[_0x1fd4db(0x571)](_0x19bbcb=>_0x19bbcb['studentName']),_0x559580=_0x43cf7d[_0x1fd4db(0x5b5)](_0x29d4cb=>!_0x3107ab[_0x1fd4db(0x554)](_0x29d4cb));chartInstances['submission']&&chartInstances[_0x1fd4db(0x526)][_0x1fd4db(0x45c)](),chartInstances[_0x1fd4db(0x526)]=new Chart(_0x31ec2c,{'type':_0x1fd4db(0x1d3),'data':{'labels':[_0x1fd4db(0x1f0),_0x1fd4db(0x4d0)],'datasets':[{'data':[_0x2f4472,_0x37402a],'backgroundColor':[_0x1fd4db(0x341),_0x1fd4db(0x12d)],'borderColor':[_0x1fd4db(0x7a3),_0x1fd4db(0x7a3)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x1fd4db(0x362)},'tooltip':{'callbacks':{'label':function(_0x470e9e){const _0x263625=_0x1fd4db;let _0x824cd9=_0x470e9e[_0x263625(0x52a)]||'';return _0x824cd9&&(_0x824cd9+=':\x20'),_0x824cd9+=_0x470e9e[_0x263625(0x439)],_0x824cd9;},'afterLabel':function(_0x37dd7b){const _0x12e20b=_0x1fd4db;let _0x22a131;return _0x37dd7b['dataIndex']===0x0?_0x22a131=_0x3107ab:_0x22a131=_0x559580,_0x22a131[_0x12e20b(0x330)]>0x0?_0x22a131[_0x12e20b(0x47b)]('\x0a'):_0x12e20b(0x292);}}}}}});}function renderScoreDistributionChart(_0x1d4f88,_0x3caca3){const _0x2d9a54=_0xe477c6,_0x445266=document['getElementById'](_0x2d9a54(0x71c))[_0x2d9a54(0x484)]('2d'),_0x28b360={};for(let _0x1b973c=0x0;_0x1b973c<=_0x3caca3;_0x1b973c++){_0x28b360[_0x1b973c]=0x0;}_0x1d4f88[_0x2d9a54(0x793)](_0x4daab2=>{const _0x50e511=_0x2d9a54;_0x28b360[_0x4daab2[_0x50e511(0x648)]]!==undefined&&_0x28b360[_0x4daab2[_0x50e511(0x648)]]++;}),chartInstances[_0x2d9a54(0x6d3)]&&chartInstances[_0x2d9a54(0x6d3)][_0x2d9a54(0x45c)](),chartInstances['score']=new Chart(_0x445266,{'type':_0x2d9a54(0x1a9),'data':{'labels':Object[_0x2d9a54(0x184)](_0x28b360),'datasets':[{'label':_0x2d9a54(0x5ee),'data':Object[_0x2d9a54(0x372)](_0x28b360),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x2d9a54(0x27f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x2d9a54(0x115)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5519d6){const _0x35892d=_0x2d9a54,_0x37e922=_0x5519d6[_0x35892d(0x52a)],_0x508a8f=_0x1d4f88[_0x35892d(0x5b5)](_0xf31ca6=>_0xf31ca6['latestScore']==_0x37e922)[_0x35892d(0x571)](_0x269ff6=>_0x269ff6[_0x35892d(0x169)]);return _0x508a8f['length']>0x0?_0x508a8f[_0x35892d(0x47b)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x53c890,_0x31e12c,_0x333d22){const _0x3b8c58=_0xe477c6,_0x5594cf=document[_0x3b8c58(0x3bf)]('question-analytics-container');if(_0x333d22[_0x3b8c58(0x330)]===0x0){_0x5594cf['innerHTML']=_0x3b8c58(0x3d9);return;}const _0x2e2bdb=calculateItemAnalysis(_0x53c890,_0x31e12c),_0x3edda2=calculateDistractorAnalysis(_0x53c890,_0x31e12c);let _0x31d3fa='';_0x2e2bdb[_0x3b8c58(0x5eb)]&&(_0x31d3fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2e2bdb[_0x3b8c58(0x5eb)][_0x3b8c58(0x54c)][_0x3b8c58(0x330)]+_0x3b8c58(0x2b2)+_0x2e2bdb[_0x3b8c58(0x5eb)][_0x3b8c58(0x54c)][_0x3b8c58(0x571)](_0x4bc612=>_0x3b8c58(0x6a1)+_0x4bc612+_0x3b8c58(0x216))[_0x3b8c58(0x47b)]('')+_0x3b8c58(0x765)+_0x2e2bdb[_0x3b8c58(0x5eb)][_0x3b8c58(0x5be)][_0x3b8c58(0x330)]+_0x3b8c58(0x2b2)+_0x2e2bdb[_0x3b8c58(0x5eb)][_0x3b8c58(0x5be)][_0x3b8c58(0x571)](_0xdc8cbd=>'<li>'+_0xdc8cbd+_0x3b8c58(0x216))[_0x3b8c58(0x47b)]('')+_0x3b8c58(0x1b7));let _0x238692='';const _0xcd246=_0x31e12c[_0x3b8c58(0x571)](_0xa21594=>_0xa21594[_0x3b8c58(0x169)]),_0xda10c0=_0x50a3dc=>{const _0x16c9f4=_0x3b8c58;if(_0x50a3dc>=0.8)return _0x16c9f4(0x5b8);if(_0x50a3dc>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x50a3dc>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x50a3dc>=0.2)return _0x16c9f4(0x27a);return _0x16c9f4(0x297);},_0xfa3008=_0x3734a6=>{const _0x16e0e1=_0x3b8c58;if(_0x3734a6<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x3734a6>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x3734a6>=0.3)return _0x16e0e1(0x1b0);if(_0x3734a6>=0.2)return _0x16e0e1(0x6f6);return _0x16e0e1(0x669);},_0x5c266d=_0x1b419c=>{const _0x413f54=_0x3b8c58,_0x2b3938=_0x1b419c[_0x413f54(0x227)](0x0);if(parseFloat(_0x2b3938)===0x64)return _0x413f54(0x61e)+_0x2b3938+'%</span>';if(_0x1b419c>=0x32)return _0x413f54(0x183)+_0x2b3938+_0x413f54(0x76c);return _0x413f54(0x796)+_0x2b3938+_0x413f54(0x76c);};_0x53c890[_0x3b8c58(0x541)][_0x3b8c58(0x793)]((_0xf85710,_0x1b6341)=>{const _0x352c70=_0x3b8c58,_0xd2e52d=_0x2e2bdb[_0x352c70(0x4c3)][_0x1b6341],_0x58ebc3=_0x3edda2[_0x1b6341],_0x5b6c5f=_0xf85710[_0x352c70(0x1bc)]||_0xf85710[_0x352c70(0x5a9)]||_0xf85710[_0x352c70(0x664)];let _0x1b4592=0x0;const _0x42254d=[],_0x1ee2bd=[];_0x31e12c[_0x352c70(0x793)](_0x40a9d5=>{const _0x8ddcda=_0x352c70,_0x17aee9=_0x40a9d5[_0x8ddcda(0x6bb)][_0x40a9d5[_0x8ddcda(0x6bb)][_0x8ddcda(0x330)]-0x1];if(_0x17aee9&&_0x17aee9[_0x8ddcda(0x752)]){const _0x2da0c4=_0x17aee9[_0x8ddcda(0x752)][_0x8ddcda(0x6d0)](_0x3282b9=>_0x3282b9[_0x8ddcda(0x43c)]===_0x5b6c5f)??_0x17aee9[_0x8ddcda(0x752)][_0x1b6341]??null;_0x2da0c4&&(_0x2da0c4[_0x8ddcda(0x1f5)]?(_0x1b4592++,_0x42254d[_0x8ddcda(0x424)](_0x40a9d5['studentName'])):_0x1ee2bd[_0x8ddcda(0x424)](_0x40a9d5[_0x8ddcda(0x169)]));}});const _0x394dd3=_0x31e12c[_0x352c70(0x330)]>0x0?_0x1b4592/_0x31e12c[_0x352c70(0x330)]*0x64:0x0,_0x4fa3d9=_0x333d22[_0x352c70(0x5b5)](_0x503e9d=>!_0xcd246[_0x352c70(0x554)](_0x503e9d)),_0x356232=_0xd2e52d?_0x352c70(0x5e8)+_0xd2e52d['p'][_0x352c70(0x227)](0x2)+_0x352c70(0x599)+_0xda10c0(_0xd2e52d['p'])+_0x352c70(0x552)+_0xd2e52d['r']['toFixed'](0x2)+_0x352c70(0x599)+_0xfa3008(_0xd2e52d['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c266d(_0x394dd3)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x44ca4e='';_0x58ebc3&&(_0x44ca4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x352c70(0x184)](_0x58ebc3)['map'](_0x117459=>{const _0x3cc433=_0x352c70,_0x2bfb02=_0x58ebc3[_0x117459],_0x44093c=parseInt(_0x117459)===_0xf85710['correctAnswerIndex'],_0x2d0562=!_0x44093c&&_0x2bfb02[_0x3cc433(0x70b)]>_0x2bfb02[_0x3cc433(0x671)];return _0x3cc433(0x259)+(_0x44093c?_0x3cc433(0x402):'')+_0x3cc433(0x1c8)+(_0x44093c?'✔\x20':'')+_0x2bfb02['text']+_0x3cc433(0x313)+_0x2bfb02[_0x3cc433(0x671)]+_0x3cc433(0x313)+_0x2bfb02['lower_group_count']+'\x20'+(_0x2d0562?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2bfb02['total']+_0x3cc433(0x6b3);})[_0x352c70(0x47b)]('')+_0x352c70(0x2a5));let _0x31dffd='';_0xd2e52d&&_0xd2e52d[_0x352c70(0x1c5)]&&(_0x31dffd=_0x352c70(0x322)+_0xd2e52d[_0x352c70(0x1c5)][_0x352c70(0x330)]+_0x352c70(0x269)+_0xd2e52d[_0x352c70(0x1c5)][_0x352c70(0x571)](_0x5641e4=>_0x352c70(0x6a1)+(_0x5641e4[_0x352c70(0x1f5)]?_0x352c70(0x3f6):_0x352c70(0x4c2))+'\x20'+_0x5641e4[_0x352c70(0x5ca)]+_0x352c70(0x216))['join']('')+_0x352c70(0x4cc)+_0xd2e52d['lowerGroupResponders'][_0x352c70(0x330)]+_0x352c70(0x269)+_0xd2e52d[_0x352c70(0x528)][_0x352c70(0x571)](_0x3c8933=>'<li>'+(_0x3c8933[_0x352c70(0x1f5)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3c8933['name']+_0x352c70(0x216))['join']('')+_0x352c70(0x792)),_0x238692+=_0x352c70(0x560)+(_0x1b6341+0x1)+':\x20'+_0x5b6c5f+_0x352c70(0x202)+_0x356232+_0x352c70(0x6ac)+_0x5b6c5f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x1b4592+_0x352c70(0x7a1)+_0x31e12c[_0x352c70(0x330)]+_0x352c70(0x3b9)+_0x394dd3[_0x352c70(0x227)](0x0)+_0x352c70(0x64b)+_0x42254d[_0x352c70(0x330)]+_0x352c70(0x5a2)+(_0x42254d[_0x352c70(0x330)]>0x0?_0x42254d[_0x352c70(0x47b)](',\x20'):_0x352c70(0x292))+_0x352c70(0x3ad)+_0x1ee2bd['length']+_0x352c70(0x5a2)+(_0x1ee2bd[_0x352c70(0x330)]>0x0?_0x1ee2bd[_0x352c70(0x47b)](',\x20'):_0x352c70(0x292))+_0x352c70(0x51d)+_0x4fa3d9[_0x352c70(0x330)]+_0x352c70(0x5a2)+(_0x4fa3d9[_0x352c70(0x330)]>0x0?_0x4fa3d9['join'](',\x20'):_0x352c70(0x292))+_0x352c70(0x14c)+_0x44ca4e+_0x352c70(0x320)+_0x31dffd+_0x352c70(0x2c3);}),_0x5594cf[_0x3b8c58(0x5cf)]=_0x31d3fa+_0x238692;try{window['MathJax']&&MathJax[_0x3b8c58(0x55a)]&&MathJax[_0x3b8c58(0x55a)]([_0x5594cf]);}catch(_0x3d0ac6){console[_0x3b8c58(0x268)](_0x3b8c58(0x691),_0x3d0ac6);}}function calculateDistractorAnalysis(_0x5b5f1b,_0xaf96c3){const _0x1ffe38=_0xe477c6,_0x2574c5={};if(_0xaf96c3['length']<0x2)return _0x2574c5;const _0x463934=[..._0xaf96c3]['sort']((_0x17ce63,_0x24fa6f)=>{const _0x1167d8=_0x3c0d,_0x412c5f=_0x24fa6f[_0x1167d8(0x648)]-_0x17ce63[_0x1167d8(0x648)];if(_0x412c5f!==0x0)return _0x412c5f;const _0x5732a5=_0x17ce63[_0x1167d8(0x6bb)]?.[_0x1167d8(0x330)]||0x1,_0xe85e13=_0x24fa6f['attempts']?.[_0x1167d8(0x330)]||0x1,_0x281095=_0x5732a5-_0xe85e13;if(_0x281095!==0x0)return _0x281095;const _0x2fac49=new Date(_0x17ce63[_0x1167d8(0x556)]),_0x463b8d=new Date(_0x24fa6f[_0x1167d8(0x556)]),_0x93ab5c=_0x2fac49-_0x463b8d;if(_0x93ab5c!==0x0)return _0x93ab5c;return _0x17ce63[_0x1167d8(0x169)]['localeCompare'](_0x24fa6f[_0x1167d8(0x169)],'th');}),_0x432c39=_0x463934['length'],_0x22f2a1=Math[_0x1ffe38(0x17b)](0x1,Math[_0x1ffe38(0x28b)](_0x432c39*0.33)),_0x3172b=_0x463934[_0x1ffe38(0x3b5)](0x0,_0x22f2a1),_0x4283ba=_0x463934[_0x1ffe38(0x3b5)](-_0x22f2a1);return _0x5b5f1b[_0x1ffe38(0x541)]['forEach']((_0x1f1e7a,_0x270d65)=>{const _0x59037a=_0x1ffe38;if(_0x1f1e7a[_0x59037a(0x4f4)]!==_0x59037a(0x2d3)||!_0x1f1e7a[_0x59037a(0x26e)])return;const _0x285c68=_0x1f1e7a[_0x59037a(0x5a9)],_0x584018={};_0x1f1e7a[_0x59037a(0x26e)][_0x59037a(0x793)]((_0x1f96bd,_0x50f028)=>{_0x584018[_0x50f028]={'text':_0x1f96bd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x463934['forEach'](_0x35318b=>{const _0x1e68bc=_0x59037a,_0x1da071=_0x35318b['attempts'][_0x35318b[_0x1e68bc(0x6bb)]['length']-0x1],_0x1cb8c6=_0x1da071[_0x1e68bc(0x752)]['find'](_0x45a848=>_0x45a848['originalQuestionText']===_0x285c68);if(_0x1cb8c6&&_0x1cb8c6[_0x1e68bc(0x325)]!==null){const _0x101f3c=_0x1f1e7a[_0x1e68bc(0x26e)][_0x1e68bc(0x72e)](_0x4865ae=>_0x4865ae===_0x1cb8c6['answerText']);_0x101f3c!==-0x1&&_0x584018[_0x101f3c]&&(_0x584018[_0x101f3c][_0x1e68bc(0x12a)]++,_0x3172b[_0x1e68bc(0x554)](_0x35318b)&&_0x584018[_0x101f3c]['upper_group_count']++,_0x4283ba['includes'](_0x35318b)&&_0x584018[_0x101f3c][_0x1e68bc(0x70b)]++);}}),_0x2574c5[_0x270d65]=_0x584018;}),_0x2574c5;}function calculateReliabilityKR20(_0x25370c,_0x5cc298,_0x47bc7f){const _0xf87232=_0xe477c6,_0x1ac821=_0x25370c[_0xf87232(0x541)][_0xf87232(0x330)];if(_0x1ac821<0x2||_0x5cc298[_0xf87232(0x330)]<0x2)return null;const _0xad4a28=_0x5cc298['map'](_0x1b020f=>_0x1b020f[_0xf87232(0x648)]),_0x13143b=_0xad4a28[_0xf87232(0x17c)]((_0x24bdc1,_0xc1ba6a)=>_0x24bdc1+_0xc1ba6a,0x0)/_0xad4a28[_0xf87232(0x330)],_0x33ecef=_0xad4a28[_0xf87232(0x571)](_0x392730=>Math[_0xf87232(0x21a)](_0x392730-_0x13143b,0x2))['reduce']((_0x340528,_0x571b30)=>_0x340528+_0x571b30,0x0)/_0xad4a28[_0xf87232(0x330)];if(_0x33ecef===0x0)return null;let _0x1c7b0b=0x0;for(let _0x2ec4d5=0x0;_0x2ec4d5<_0x1ac821;_0x2ec4d5++){const _0x437664=_0x47bc7f[_0x2ec4d5]?.['p'];if(_0x437664===undefined)continue;const _0x73839d=0x1-_0x437664;_0x1c7b0b+=_0x437664*_0x73839d;}if(_0x1c7b0b===0x0)return null;const _0x2e6639=_0x1ac821/(_0x1ac821-0x1)*(0x1-_0x1c7b0b/_0x33ecef);if(_0x2e6639>0x1)return null;return _0x2e6639;}async function handleAnalyzeClass(){const _0xefc51f=_0xe477c6;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xefc51f(0x51b));return;}const _0x5b2be0=collection(db,_0xefc51f(0x30a)+appId+_0xefc51f(0x475)+currentQuizData['id']+_0xefc51f(0x213)),_0x2fb916=await getDocs(_0x5b2be0),_0x6eab50=_0x2fb916['docs'][_0xefc51f(0x571)](_0x811fe=>_0x811fe[_0xefc51f(0x701)]());if(_0x6eab50[_0xefc51f(0x330)]<0x2){showMessage(_0xefc51f(0x444));return;}const _0x25a876=document[_0xefc51f(0x3bf)](_0xefc51f(0x4fc));_0x25a876[_0xefc51f(0x5cf)]=_0xefc51f(0x327),document[_0xefc51f(0x3bf)](_0xefc51f(0x58c))['disabled']=!![];const _0x19824a=_0x6eab50[_0xefc51f(0x571)]((_0x13c943,_0x14aede)=>{const _0x377ba3=_0xefc51f,_0x209aae=_0x13c943[_0x377ba3(0x6bb)][_0x13c943[_0x377ba3(0x6bb)]['length']-0x1];if(!_0x209aae)return'';return _0x377ba3(0x637)+(_0x14aede+0x1)+'\x20('+_0x13c943[_0x377ba3(0x169)]+_0x377ba3(0x667)+_0x209aae['score']+'/'+_0x13c943[_0x377ba3(0x590)]+_0x377ba3(0x29d)+JSON[_0x377ba3(0x22d)](_0x209aae[_0x377ba3(0x752)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xefc51f(0x47b)](_0xefc51f(0x58e)),_0x3a0dd0=_0xefc51f(0x65a)+currentQuizData[_0xefc51f(0x500)]+_0xefc51f(0x6cf)+JSON['stringify'](currentQuizData[_0xefc51f(0x541)])+_0xefc51f(0x5a1)+_0x19824a+_0xefc51f(0x3b8),_0x5ca7f1={'type':_0xefc51f(0x652),'properties':{'classStrengths':{'type':_0xefc51f(0x5ce),'items':{'type':_0xefc51f(0x77b)}},'classWeaknesses':{'type':_0xefc51f(0x5ce),'items':{'type':_0xefc51f(0x77b)}},'teacherSuggestions':{'type':_0xefc51f(0x5ce),'items':{'type':_0xefc51f(0x77b)}}},'required':[_0xefc51f(0x1cd),'classWeaknesses','teacherSuggestions']};try{const _0x40b857=await callAnalysisApi(_0x3a0dd0,_0x5ca7f1);displayClassAnalysis(_0x40b857);}catch(_0x22f7ae){console[_0xefc51f(0x268)]('Error\x20during\x20class\x20analysis:',_0x22f7ae),_0x25a876[_0xefc51f(0x5cf)]=_0xefc51f(0x5e4)+_0x22f7ae['message']+'</p></div>';}finally{document[_0xefc51f(0x3bf)](_0xefc51f(0x58c))[_0xefc51f(0x688)]=![];}}function displayClassAnalysis(_0x53f207){const _0x45e660=_0xe477c6,_0x890b5b=document[_0x45e660(0x3bf)](_0x45e660(0x4fc));if(!_0x53f207){_0x890b5b[_0x45e660(0x5cf)]=_0x45e660(0x246);return;}_0x890b5b[_0x45e660(0x5cf)]=_0x45e660(0x70f)+_0x53f207[_0x45e660(0x1cd)][_0x45e660(0x571)](_0xf13360=>_0x45e660(0x6a1)+_0xf13360+'</li>')['join']('')+_0x45e660(0x65e)+_0x53f207[_0x45e660(0x136)]['map'](_0x5d16bc=>_0x45e660(0x6a1)+_0x5d16bc+_0x45e660(0x216))[_0x45e660(0x47b)]('')+_0x45e660(0x3da)+_0x53f207[_0x45e660(0x5b3)]['map'](_0x4680df=>'<li>'+_0x4680df+_0x45e660(0x216))['join']('')+_0x45e660(0x344);}function formatAndPrintWorksheet(_0x11cfef,_0xf8e1c2){const _0x2a7f8e=_0xe477c6,_0x3b66ee=_0x2a7f8e(0x283)+_0x11cfef[_0x2a7f8e(0x500)]+_0x2a7f8e(0x110)+_0x11cfef[_0x2a7f8e(0x500)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11cfef[_0x2a7f8e(0x541)][_0x2a7f8e(0x571)]((_0x14684d,_0x45e189)=>_0x2a7f8e(0x61c)+(_0x45e189+0x1)+'.\x20'+_0x14684d[_0x2a7f8e(0x5a9)]+_0x2a7f8e(0x641)+(_0x14684d[_0x2a7f8e(0x295)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x14684d['imageCode']+_0x2a7f8e(0x53b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2a7f8e(0x47b)]('')+_0x2a7f8e(0x22a);_0xf8e1c2[_0x2a7f8e(0x2b0)][_0x2a7f8e(0x294)](_0x3b66ee),_0xf8e1c2[_0x2a7f8e(0x2b0)][_0x2a7f8e(0x26f)](),_0xf8e1c2[_0x2a7f8e(0x20f)]=function(){setTimeout(()=>{const _0x284e99=_0x3c0d;_0xf8e1c2[_0x284e99(0x267)]();},0x3e8);};}async function generateWorksheet(){const _0x461c73=_0xe477c6,_0xcf5d27=document[_0x461c73(0x3bf)](_0x461c73(0x157))[_0x461c73(0x21f)][_0x461c73(0x503)]();if(!_0xcf5d27){showMessage(_0x461c73(0x6f5));return;}const _0xbc91ea=document[_0x461c73(0x3bf)](_0x461c73(0x578))[_0x461c73(0x720)],_0x4639bf=_0xbc91ea?'':'คณิตศาสตร์',_0x4de1c4=window['open']('','_blank');_0x4de1c4[_0x461c73(0x2b0)]['write']('<h1></h1>');const _0x1aebce=parseInt(document[_0x461c73(0x3bf)]('num-questions')[_0x461c73(0x21f)]),_0x3749c1=document[_0x461c73(0x3bf)](_0x461c73(0x60f))['checked'],_0x4a2a9b=_0x3749c1?_0x461c73(0x517):'',_0x5381f2=_0x461c73(0x321)+_0x4639bf+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x1aebce+_0x461c73(0x727)+_0xcf5d27+_0x461c73(0x514)+_0x4a2a9b+_0x461c73(0x3c0)+simpleMathPrompt+_0x461c73(0x414),_0x4e2cd8={'type':_0x461c73(0x652),'properties':{'topic':{'type':_0x461c73(0x77b)},'questions':{'type':_0x461c73(0x5ce),'items':{'type':_0x461c73(0x652),'properties':{'questionText':{'type':_0x461c73(0x77b)},'imageCode':{'type':_0x461c73(0x77b)}},'required':['questionText']}}},'required':[_0x461c73(0x500),'questions']};document[_0x461c73(0x3bf)](_0x461c73(0x4ea))[_0x461c73(0x13f)]='',document[_0x461c73(0x3bf)](_0x461c73(0x714))['classList'][_0x461c73(0x73a)](_0x461c73(0x212)),document[_0x461c73(0x3bf)](_0x461c73(0x247))['classList'][_0x461c73(0x73a)](_0x461c73(0x212)),generateWorksheetBtn[_0x461c73(0x688)]=!![];try{const _0x203da0=await callAnalysisApi(_0x5381f2,_0x4e2cd8);formatAndPrintWorksheet(_0x203da0,_0x4de1c4);}catch(_0x24d340){console['error'](_0x461c73(0x470),_0x24d340);if(_0x4de1c4)_0x4de1c4[_0x461c73(0x26f)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x461c73(0x3bf)](_0x461c73(0x714))[_0x461c73(0x3d2)][_0x461c73(0x536)](_0x461c73(0x212)),document['getElementById'](_0x461c73(0x247))[_0x461c73(0x3d2)][_0x461c73(0x536)](_0x461c73(0x212)),generateWorksheetBtn[_0x461c73(0x688)]=![];}}async function callAnalysisApi(_0xe5af3a,_0xd501cc){const _0x1ca5d9=_0xe477c6,_0x390049={'contents':[{'role':'user','parts':[{'text':_0xe5af3a}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xd501cc}},_0x11fc96='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x3c895d=_0x1ca5d9(0x217)+_0x11fc96,_0x615ca2=await fetch(_0x3c895d,{'method':_0x1ca5d9(0x36c),'headers':{'Content-Type':_0x1ca5d9(0x7b8)},'body':JSON['stringify'](_0x390049)});if(!_0x615ca2['ok'])throw new Error(_0x1ca5d9(0x6d5)+_0x615ca2[_0x1ca5d9(0x342)]);const _0x50e582=await _0x615ca2[_0x1ca5d9(0x458)]();if(_0x50e582[_0x1ca5d9(0x5ec)]?.[0x0]?.['content']?.[_0x1ca5d9(0x745)]?.[0x0])return JSON['parse'](_0x50e582[_0x1ca5d9(0x5ec)][0x0][_0x1ca5d9(0x3f2)][_0x1ca5d9(0x745)][0x0][_0x1ca5d9(0x6a8)]);else{let _0xda72d6='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x50e582[_0x1ca5d9(0x4d9)]?.[_0x1ca5d9(0x569)])_0xda72d6=_0x1ca5d9(0x791)+_0x50e582['promptFeedback'][_0x1ca5d9(0x569)]+'.';else _0x50e582[_0x1ca5d9(0x5ec)]?.[0x0]?.['finishReason']&&_0x50e582[_0x1ca5d9(0x5ec)][0x0]['finishReason']!==_0x1ca5d9(0x4bc)&&(_0xda72d6='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x50e582['candidates'][0x0][_0x1ca5d9(0x751)]+'.');console[_0x1ca5d9(0x268)](_0xda72d6,JSON[_0x1ca5d9(0x22d)](_0x50e582));throw new Error(_0xda72d6);}}initialize();
