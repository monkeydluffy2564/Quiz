const _0x6a7885=_0x380e;(function(_0x307ee8,_0x5a7540){const _0x409ca4=_0x380e,_0x51fb07=_0x307ee8();while(!![]){try{const _0x306332=-parseInt(_0x409ca4(0x4d4))/0x1+parseInt(_0x409ca4(0xdce))/0x2+parseInt(_0x409ca4(0xdf4))/0x3*(parseInt(_0x409ca4(0x4a6))/0x4)+-parseInt(_0x409ca4(0xc1d))/0x5+parseInt(_0x409ca4(0x2e5))/0x6+-parseInt(_0x409ca4(0x1f8))/0x7*(parseInt(_0x409ca4(0x695))/0x8)+-parseInt(_0x409ca4(0x8bd))/0x9*(-parseInt(_0x409ca4(0x90c))/0xa);if(_0x306332===_0x5a7540)break;else _0x51fb07['push'](_0x51fb07['shift']());}catch(_0x5a74a4){_0x51fb07['push'](_0x51fb07['shift']());}}}(_0x45dc,0xa92d7));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x6a7885(0x8b4),_0x6a7885(0xa12),_0x6a7885(0xab8),_0x6a7885(0xc54),'นกฮูกกลางวัน','เต่าสายฟ้า',_0x6a7885(0x34c),_0x6a7885(0x63f),_0x6a7885(0xbbb),_0x6a7885(0x73b),_0x6a7885(0x97e),_0x6a7885(0x641),'เงาปริศนา',_0x6a7885(0x1de),_0x6a7885(0x646),_0x6a7885(0x9fe),_0x6a7885(0x1e7),_0x6a7885(0xcbc),_0x6a7885(0x9da),_0x6a7885(0xc7c),_0x6a7885(0x8f5),_0x6a7885(0x4e5),_0x6a7885(0xc20),'ไก่ฟ้าพญาลอ',_0x6a7885(0xcad),_0x6a7885(0x305),'กระต่ายตื่นตูม',_0x6a7885(0x336),_0x6a7885(0x889),_0x6a7885(0x3c1),_0x6a7885(0x81f),_0x6a7885(0x463),_0x6a7885(0x6af),_0x6a7885(0x2b5),_0x6a7885(0x670),'CEOพันล้าน',_0x6a7885(0x294),_0x6a7885(0x57b),_0x6a7885(0xb62),_0x6a7885(0x5f2),_0x6a7885(0x906),_0x6a7885(0xa93),_0x6a7885(0x421),_0x6a7885(0x510),_0x6a7885(0xb30),_0x6a7885(0x23e),_0x6a7885(0xaa0),_0x6a7885(0x96e),_0x6a7885(0x491),'ลาเต้ไม่หวาน',_0x6a7885(0x585),_0x6a7885(0x5e1),_0x6a7885(0x7f1),_0x6a7885(0xa58),_0x6a7885(0x8c2),_0x6a7885(0x45a),_0x6a7885(0x4ec),_0x6a7885(0x44a),'404\x20Not\x20Found','กองดอง',_0x6a7885(0x2e7),'ตะวันฉาย',_0x6a7885(0x988),_0x6a7885(0x6f1),_0x6a7885(0x91b),_0x6a7885(0x2dd),_0x6a7885(0xd8f),_0x6a7885(0x99d),'ป่าไม้','แม่น้ำ',_0x6a7885(0x437),_0x6a7885(0xdc3),_0x6a7885(0x896),_0x6a7885(0x2e6),_0x6a7885(0xb9f),_0x6a7885(0x972),_0x6a7885(0xa30),_0x6a7885(0x717),_0x6a7885(0xae7),'ครูใหญ่',_0x6a7885(0x2d9),_0x6a7885(0x487),'แปลงร่าง','ตัวแทนแห่งดวงจันทร์',_0x6a7885(0x396),_0x6a7885(0x810),_0x6a7885(0x550),_0x6a7885(0xd4e),_0x6a7885(0xbed),_0x6a7885(0x5c5),_0x6a7885(0x43e),'คนโสด',_0x6a7885(0x280),'อกหัก','เพื่อนสนิท',_0x6a7885(0x3e6),_0x6a7885(0xa75),_0x6a7885(0x5f9),_0x6a7885(0x470),_0x6a7885(0x59d)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x6a7885(0xdd0),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x6a7885(0xdd0),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x6a7885(0xdd0),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x97babf=_0x6a7885;if(_0x97babf(0x3b2)in navigator)try{wakeLock=await navigator[_0x97babf(0x3b2)]['request'](_0x97babf(0x26d)),console[_0x97babf(0xba9)](_0x97babf(0x584)),wakeLock[_0x97babf(0x6dd)](_0x97babf(0x5fd),()=>{const _0x52deee=_0x97babf;console[_0x52deee(0xba9)](_0x52deee(0x4b9));});}catch(_0xfa328e){console[_0x97babf(0xc4f)](_0x97babf(0x272)+_0xfa328e[_0x97babf(0xae4)]+',\x20'+_0xfa328e[_0x97babf(0xacb)]);}else console[_0x97babf(0xdd5)](_0x97babf(0x4d9));},releaseWakeLock=async()=>{const _0x395aab=_0x6a7885;wakeLock!==null&&(await wakeLock[_0x395aab(0x5fd)](),wakeLock=null,console[_0x395aab(0xba9)](_0x395aab(0x958)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x31ba99=_0x6a7885;if(!document[_0x31ba99(0x1ed)][_0x31ba99(0x817)]['contains'](_0x31ba99(0x613))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x557687=_0x31ba99;document[_0x557687(0x1ed)]['classList'][_0x557687(0x642)](_0x557687(0x613)),console['log'](_0x557687(0xb1d));},inactivityTime);}}function wakeUpScreen(_0x4b125){const _0x19dae7=_0x6a7885;_0x4b125&&(_0x4b125[_0x19dae7(0xcd7)](),_0x4b125[_0x19dae7(0x306)]());document['body']['classList'][_0x19dae7(0xb2b)](_0x19dae7(0x613));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x30b066=_0x19dae7;document[_0x30b066(0x1ed)]['classList'][_0x30b066(0x642)](_0x30b066(0x613));},inactivityTime);}function stopDimTimer(){const _0x1a223d=_0x6a7885;if(dimTimer)clearTimeout(dimTimer);document[_0x1a223d(0x1ed)][_0x1a223d(0x817)]['remove']('dimmed'),window[_0x1a223d(0x5b6)](_0x1a223d(0xc8f),resetDimTimer),window[_0x1a223d(0x5b6)](_0x1a223d(0x98f),resetDimTimer),window[_0x1a223d(0x5b6)]('touchstart',resetDimTimer),window[_0x1a223d(0x5b6)](_0x1a223d(0x823),resetDimTimer),console[_0x1a223d(0xba9)](_0x1a223d(0x531));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x253538,_0x5a05bf=![]){const _0x3498aa=_0x6a7885,_0x4d8110=allQuizzes[_0x3498aa(0x8c7)](_0x36ba20=>_0x36ba20['id']===_0x253538)||allQuizzesGlobal['find'](_0x29bc04=>_0x29bc04['id']===_0x253538);if(!_0x4d8110){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x4d8110);const _0x58ad9f=Math['floor'](0x3e8+Math[_0x3498aa(0x90b)]()*0x2328)['toString']();try{const _0xc338d4=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x4d8110['id'],'projectId':_0x4d8110[_0x3498aa(0x94a)],'status':'lobby','pin':_0x58ad9f,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5a05bf});currentTeamQuizId=_0xc338d4['id'],showView(_0x3498aa(0x58c)),renderAdminTeamQuizDashboard(_0x58ad9f,_0x4d8110['topic']),listenForTeamQuizUpdates();}catch(_0x3c7372){console['error'](_0x3498aa(0x3ee),_0x3c7372),showMessage(_0x3498aa(0x8d7));}}function renderAdminTeamQuizDashboard(_0x2336f6,_0x4d7c7e,_0x3e01b2=_0x6a7885(0xa0a)){const _0x10a14d=_0x6a7885,_0x21f2a8=_0x3e01b2===_0x10a14d(0x647)?_0x10a14d(0xadd):_0x10a14d(0x6db);liveGameView[_0x10a14d(0xd3c)]=_0x10a14d(0x8a9)+_0x21f2a8+':\x20'+_0x4d7c7e+_0x10a14d(0x530)+_0x2336f6+_0x10a14d(0x7c6),document[_0x10a14d(0x52a)]('end-team-quiz-btn')['addEventListener'](_0x10a14d(0x564),async()=>{const _0x3d8d27=_0x10a14d;showConfirmation(_0x3d8d27(0x33f),async()=>{const _0x30d3ef=_0x3d8d27;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x30d3ef(0x3c5)+appId+_0x30d3ef(0xde6),currentTeamQuizId)),showView(_0x30d3ef(0x298));});});}function listenForTeamQuizUpdates(){const _0x3ba79c=_0x6a7885;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xb03dcb=doc(db,'artifacts/'+appId+_0x3ba79c(0xde6),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xb03dcb,_0x532121=>{const _0x16e810=_0x3ba79c;if(!_0x532121[_0x16e810(0xd3f)]()){sessionStorage[_0x16e810(0xc64)](_0x16e810(0x4c4));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x16e810(0xb34));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x16e810(0x85e)?showView('project-detail'):showView('student');return;}const _0x2cb58f=_0x532121[_0x16e810(0x36d)]();if(currentMode===_0x16e810(0x85e)){if(_0x2cb58f[_0x16e810(0xce3)]==='group'&&_0x2cb58f[_0x16e810(0xc96)]!==_0x16e810(0x500)&&_0x2cb58f[_0x16e810(0xc96)]!==_0x16e810(0xad0)){const _0x1073c7=Object['values'](_0x2cb58f[_0x16e810(0xdb7)]||{});if(_0x1073c7[_0x16e810(0xbc8)]>0x0){const _0x13073f=_0x1073c7[_0x16e810(0x3b9)](_0x467416=>_0x467416[_0x16e810(0x4f8)]===!![]);_0x13073f&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2cb58f);}else{if(_0x2cb58f[_0x16e810(0xc96)]===_0x16e810(0x500)||_0x2cb58f[_0x16e810(0xc96)]===_0x16e810(0xad0)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2cb58f[_0x16e810(0xce3)]===_0x16e810(0x647)){const _0x49d351=_0x2cb58f[_0x16e810(0xdb7)][userId];(!_0x49d351||!_0x49d351[_0x16e810(0x4f8)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1ce11a){const _0x5a025d=_0x6a7885;console['log']('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x469b5a=doc(db,_0x5a025d(0x3c5)+appId+_0x5a025d(0xde6),_0x1ce11a);try{const _0xd1612e=await getDoc(_0x469b5a);if(_0xd1612e[_0x5a025d(0xd3f)]()){const _0x45e8bd=_0xd1612e[_0x5a025d(0x36d)]();_0x45e8bd[_0x5a025d(0x718)]&&await saveGameResultsAsSubmissions(_0x45e8bd);}await updateDoc(_0x469b5a,{'status':_0x5a025d(0x500)});}catch(_0x53cf96){console['error'](_0x5a025d(0x2d3),_0x53cf96);}}function updateAdminTeamDashboard(_0xdc0f36){const _0x116681=_0x6a7885,_0x2097aa=document['getElementById'](_0x116681(0x751));if(!_0x2097aa)return;const _0x23120a=_0xdc0f36[_0x116681(0xce3)]||_0x116681(0xa0a),_0x166a2b=currentQuizData[_0x116681(0x665)][_0x116681(0xbc8)];if(_0x23120a==='group'){const _0x2954e8=Object['values'](_0xdc0f36['groups']||{});if(_0x2954e8[_0x116681(0xbc8)]===0x0){_0x2097aa[_0x116681(0xd3c)]=_0x116681(0x330);return;}const _0x456bc4=[..._0x2954e8][_0x116681(0xd66)]((_0x481c66,_0x38a2ef)=>_0x38a2ef[_0x116681(0xb95)]-_0x481c66[_0x116681(0xb95)]),_0x19d2eb=_0x456bc4[_0x116681(0x8cc)]((_0x1d521d,_0x2ff9be)=>{const _0x198010=_0x116681,_0x3c71ac=_0x1d521d[_0x198010(0xa6c)]?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x2ff9be+0x1)+_0x198010(0xcc8)+_0x1d521d[_0x198010(0x4ca)][_0x198010(0x35d)](',\x20')+_0x198010(0x4ac)+_0x3c71ac+'/'+_0x166a2b+_0x198010(0x6d3)+_0x1d521d[_0x198010(0xb95)]+_0x198010(0xcbd);})[_0x116681(0x35d)](''),_0xf2be6d=currentQuizData[_0x116681(0x665)][_0x116681(0x8cc)]((_0x408fff,_0x17c341)=>{const _0x283520=_0x116681;let _0x518f34=0x0,_0x22773=0x0;_0x2954e8[_0x283520(0x79a)](_0x2daf01=>{const _0x5574bd=_0x283520,_0xa09c31=_0x2daf01[_0x5574bd(0xa6c)]?.['find'](_0x39c184=>_0x39c184[_0x5574bd(0xc69)]===_0x17c341);if(_0xa09c31){_0x22773++;if(_0xa09c31[_0x5574bd(0x7d3)])_0x518f34++;}});const _0x8c7bc6=_0x22773>0x0&&_0x22773===_0x2954e8[_0x283520(0xbc8)],_0x96576b=_0x8c7bc6?_0x283520(0x3a2):_0x283520(0x39b),_0x23ae92=_0x8c7bc6?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x283520(0xcef)+_0x96576b+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x17c341+0x1)+_0x283520(0xd11)+_0x23ae92+_0x283520(0xd1e)+_0x518f34+'/'+_0x2954e8[_0x283520(0xbc8)]+_0x283520(0x8e1);})[_0x116681(0x35d)]('');_0x2097aa[_0x116681(0xd3c)]=_0x116681(0xb5d)+_0x19d2eb+_0x116681(0xbff)+_0xf2be6d+_0x116681(0x2a4);return;}const _0x24dbcc=_0xdc0f36[_0x116681(0x784)]||{},_0x102510=Object[_0x116681(0x879)](_0x24dbcc);if(_0x102510[_0x116681(0xbc8)]===0x0){_0x2097aa[_0x116681(0xd3c)]=_0x116681(0xa03);return;}const _0x24aa1e=_0x102510[_0x116681(0x8cc)](_0x2f9774=>({'name':_0x2f9774,'score':_0x24dbcc[_0x2f9774]['score']||0x0}))[_0x116681(0xd66)]((_0x281a6a,_0x4bf726)=>_0x4bf726[_0x116681(0xb95)]-_0x281a6a[_0x116681(0xb95)]),_0x2430c4=_0x24aa1e[_0x116681(0x8cc)](_0xa188f9=>{const _0x3b92f5=_0x116681,_0x39b7cb=_0x24dbcc[_0xa188f9[_0x3b92f5(0xae4)]]?.['answers']?.[_0x3b92f5(0xbc8)]||0x0,_0xbb3d42=Math[_0x3b92f5(0x23d)](_0x166a2b/_0x102510[_0x3b92f5(0xbc8)]);return _0x3b92f5(0xd9a)+_0xa188f9[_0x3b92f5(0xae4)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x39b7cb+'/'+_0xbb3d42+_0x3b92f5(0xb7b)+_0xa188f9['score']+_0x3b92f5(0xa80);})[_0x116681(0x35d)](''),_0x291c8b=_0x102510['reduce']((_0x40cba7,_0x12ea6f)=>_0x40cba7+(_0x24dbcc[_0x12ea6f]['answers']?.[_0x116681(0xbc8)]||0x0),0x0),_0x2b80eb=currentQuizData[_0x116681(0x665)][_0x116681(0x8cc)]((_0x4f1b2d,_0x442e5a)=>{const _0x4ec315=_0x116681;let _0x12ec48=null,_0xf769f7=null;for(const _0x224f34 of _0x102510){const _0x3ce25a=_0x24dbcc[_0x224f34][_0x4ec315(0xa6c)]?.[_0x4ec315(0x8c7)](_0x43527b=>_0x43527b[_0x4ec315(0xc69)]===_0x442e5a);if(_0x3ce25a){_0x12ec48=_0x3ce25a,_0xf769f7=_0x224f34;break;}}const _0x4f8add=!!_0x12ec48,_0x2373ad=_0x4f8add&&_0x12ec48[_0x4ec315(0x7d3)],_0x4fa7ea=(Math[_0x4ec315(0x754)](_0x442e5a/_0x102510[_0x4ec315(0xbc8)])+0x1)*_0x102510['length'],_0x5f2004=_0x291c8b>=_0x4fa7ea,_0x5a833e=_0x5f2004?_0x4ec315(0x3e8):_0x4ec315(0x39b),_0x5d2500=_0x5f2004?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x5d5d78=_0x4ec315(0xd14);return _0x4f8add&&(_0x5d5d78=_0xf769f7+_0x4ec315(0x2f8)+(_0x2373ad?_0x4ec315(0x2f3):_0x4ec315(0x5a7))),_0x4ec315(0xcef)+_0x5a833e+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x442e5a+0x1)+':</span><span>'+_0x5d2500+_0x4ec315(0x403)+_0x5d5d78+_0x4ec315(0x92c);})['join']('');_0x2097aa[_0x116681(0xd3c)]=_0x116681(0xc47)+_0x2430c4+_0x116681(0x5b8)+_0x2b80eb+_0x116681(0x2a4);}async function handleJoinTeamQuiz(){const _0x536d19=_0x6a7885,_0x465775=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x465775||_0x465775[_0x536d19(0x797)]()[_0x536d19(0xbc8)]!==0x4){showMessage(_0x536d19(0x685));return;}try{const _0x4e49c5=collection(db,'artifacts/'+appId+_0x536d19(0xde6)),_0x36947f=query(_0x4e49c5,where(_0x536d19(0x527),'==',_0x465775['trim']()),where(_0x536d19(0xc96),'==',_0x536d19(0xbe1))),_0x4a4220=await getDocs(_0x36947f);if(_0x4a4220['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x46baf7=_0x4a4220[_0x536d19(0x3f3)][0x0];currentTeamQuizId=_0x46baf7['id'];const _0x27845c=_0x46baf7['data'](),_0x1ca0c8=doc(db,_0x536d19(0x3c5)+appId+_0x536d19(0x880),_0x27845c['projectId']),_0x3d6a0e=doc(db,_0x536d19(0x3c5)+appId+_0x536d19(0x383),_0x27845c[_0x536d19(0x781)]),[_0x5781c3,_0x292b94]=await Promise[_0x536d19(0xdd0)]([getDoc(_0x1ca0c8),getDoc(_0x3d6a0e)]);if(!_0x5781c3[_0x536d19(0xd3f)]()||!_0x292b94[_0x536d19(0xd3f)]())throw new Error(_0x536d19(0x26a));currentQuizData=getShuffledQuiz({'id':_0x292b94['id'],..._0x292b94[_0x536d19(0x36d)]()});const _0x2e17da=_0x5781c3[_0x536d19(0x36d)]();showTeamPlayerSelection(_0x2e17da['students'],currentQuizData[_0x536d19(0x801)]);}catch(_0x3de3f2){console['error'](_0x536d19(0x581),_0x3de3f2),showMessage(_0x536d19(0xc44)+_0x3de3f2['message']);}}async function handleJoinGroupActivity(){const _0x4f81d8=_0x6a7885,_0x2f4a2f=prompt(_0x4f81d8(0x8b7));if(!_0x2f4a2f||_0x2f4a2f['trim']()[_0x4f81d8(0xbc8)]!==0x4){showMessage(_0x4f81d8(0x4ed));return;}const _0x2aca80=_0x2f4a2f[_0x4f81d8(0x797)]();showMessage(_0x4f81d8(0xb9a));try{const _0x20f0bd=collection(db,_0x4f81d8(0x3c5)+appId+'/public/data/teamQuizzes'),_0x1d3b43=query(_0x20f0bd,where(_0x4f81d8(0x527),'==',_0x2aca80),where('status','==',_0x4f81d8(0xbe1))),_0x4b2eae=await getDocs(_0x1d3b43);if(!_0x4b2eae['empty']){console[_0x4f81d8(0xba9)](_0x4f81d8(0xa32)),await proceedWithTeamQuizJoin(_0x4b2eae[_0x4f81d8(0x3f3)][0x0]);return;}const _0x2af585=collection(db,_0x4f81d8(0x3c5)+appId+_0x4f81d8(0xb98)),_0x2a9734=query(_0x2af585,where('pin','==',_0x2aca80),where('status','in',[_0x4f81d8(0xbe1),'question',_0x4f81d8(0xa94),_0x4f81d8(0x2a7)])),_0x1e6325=await getDocs(_0x2a9734);if(!_0x1e6325[_0x4f81d8(0x7b7)]){console[_0x4f81d8(0xba9)](_0x4f81d8(0xc50)),await proceedWithSyncQuizJoin(_0x1e6325[_0x4f81d8(0x3f3)][0x0]);return;}showMessage(_0x4f81d8(0x6d7));}catch(_0x428be8){console['error'](_0x4f81d8(0x303),_0x428be8),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x428be8['message']);}}async function proceedWithTeamQuizJoin(_0x506bec){const _0x59439d=_0x6a7885;currentTeamQuizId=_0x506bec['id'];const _0x4c1bc5=_0x506bec[_0x59439d(0x36d)](),_0x20d3fa=doc(db,_0x59439d(0x3c5)+appId+_0x59439d(0x880),_0x4c1bc5[_0x59439d(0x94a)]),_0x21b4a3=doc(db,'artifacts/'+appId+_0x59439d(0x383),_0x4c1bc5[_0x59439d(0x781)]),[_0x4110c7,_0x354a4a]=await Promise[_0x59439d(0xdd0)]([getDoc(_0x20d3fa),getDoc(_0x21b4a3)]);if(!_0x4110c7[_0x59439d(0xd3f)]()||!_0x354a4a['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x354a4a['id'],..._0x354a4a[_0x59439d(0x36d)]()}),showTeamPlayerSelection(_0x4110c7[_0x59439d(0x36d)]()['students'],currentQuizData['topic'],_0x4c1bc5[_0x59439d(0xce3)]||_0x59439d(0xa0a)),messageModal[_0x59439d(0x817)][_0x59439d(0x642)](_0x59439d(0x68d));}async function proceedWithSyncQuizJoin(_0x1e5c85){const _0x456386=_0x6a7885;currentLiveGameId=_0x1e5c85['id'];const _0xb5d55b=_0x1e5c85['data'](),_0xe98754=doc(db,_0x456386(0x3c5)+appId+_0x456386(0x383),_0xb5d55b['quizId']),_0x5de92b=await getDoc(_0xe98754);if(!_0x5de92b[_0x456386(0xd3f)]())throw new Error(_0x456386(0x232));const _0x559450=_0x5de92b[_0x456386(0x36d)](),_0x37cb44=doc(db,_0x456386(0x3c5)+appId+_0x456386(0x880),_0x559450[_0x456386(0x94a)]),_0x3e8de1=await getDoc(_0x37cb44);if(!_0x3e8de1[_0x456386(0xd3f)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0xb5d55b[_0x456386(0x28a)],showView(_0x456386(0x377)),showTeamPlayerSelection(_0x3e8de1['data']()[_0x456386(0x498)],_0x559450['topic'],_0x456386(0x5f1));const _0x1b5fb3=document[_0x456386(0x52a)](_0x456386(0x58a)),_0x1b3f64=_0x1b5fb3[_0x456386(0x30c)](!![]);_0x1b5fb3[_0x456386(0xd89)]['replaceChild'](_0x1b3f64,_0x1b5fb3),_0x1b3f64[_0x456386(0x4cd)]=confirmAndJoinSyncGame,messageModal[_0x456386(0x817)][_0x456386(0x642)](_0x456386(0x68d));}function getCleanApplicationHTML(){const _0x515016=_0x6a7885,_0xbaa667=document[_0x515016(0x52a)](_0x515016(0x870));if(!_0xbaa667)return'';const _0x383e5f=_0xbaa667[_0x515016(0x30c)](!![]);return _0x383e5f[_0x515016(0x7b3)](_0x515016(0x824))[_0x515016(0x79a)](_0x1996f2=>{const _0x21856e=_0x515016;_0x1996f2[_0x21856e(0x817)][_0x21856e(0xb2b)](_0x21856e(0x78a),_0x21856e(0x89c)),_0x1996f2['disabled']=![];}),_0x383e5f['innerHTML'];}function showTeamPlayerSelection(_0x221c78,_0xc616d6,_0x4ddc16=_0x6a7885(0xa0a)){const _0x33f137=_0x6a7885;studentInitialView[_0x33f137(0x817)][_0x33f137(0x642)](_0x33f137(0x68d)),studentJoinGameView[_0x33f137(0x817)][_0x33f137(0x642)](_0x33f137(0x68d)),document[_0x33f137(0x52a)](_0x33f137(0xd6d))[_0x33f137(0x817)][_0x33f137(0xb2b)](_0x33f137(0x68d));let _0x5e8c6d=_0x33f137(0x6db);if(_0x4ddc16===_0x33f137(0x647))_0x5e8c6d=_0x33f137(0xadd);else _0x4ddc16===_0x33f137(0x5f1)&&(_0x5e8c6d=_0x33f137(0xb7c));document[_0x33f137(0x52a)](_0x33f137(0x8c5))[_0x33f137(0x675)]=_0x5e8c6d+':\x20'+_0xc616d6;const _0x1cce89=document[_0x33f137(0x52a)](_0x33f137(0x2c2));if(!_0x221c78||_0x221c78[_0x33f137(0xbc8)]===0x0){_0x1cce89[_0x33f137(0xd3c)]=_0x33f137(0x775),document[_0x33f137(0x52a)](_0x33f137(0x58a))['disabled']=!![];return;}_0x1cce89[_0x33f137(0xd3c)]=_0x221c78['map'](_0xcab58=>_0x33f137(0x20a)+_0xcab58+_0x33f137(0x9b0)+_0xcab58+_0x33f137(0x3f0))[_0x33f137(0x35d)](''),document[_0x33f137(0x52a)]('confirm-team-players-btn')[_0x33f137(0x459)]=![];}async function confirmAndStartTeamQuiz(){const _0x5057cf=_0x6a7885,_0x226e59=Array[_0x5057cf(0x568)](document[_0x5057cf(0x7b3)]('input[name=\x22team_player\x22]:checked'))[_0x5057cf(0x8cc)](_0x41b29f=>_0x41b29f[_0x5057cf(0x3c4)]);if(_0x226e59[_0x5057cf(0xbc8)]===0x0){showMessage(_0x5057cf(0x74c));return;}localTeamPlayers=_0x226e59,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x39bb95=doc(db,_0x5057cf(0x3c5)+appId+_0x5057cf(0xde6),currentTeamQuizId);try{const _0x16fb8b=await getDoc(_0x39bb95);if(!_0x16fb8b[_0x5057cf(0xd3f)]())throw new Error('ไม่พบข้อมูลเกม');const _0x529322=_0x16fb8b[_0x5057cf(0x36d)]();if(_0x529322[_0x5057cf(0xce3)]===_0x5057cf(0x647)){const _0x214aa8={[_0x5057cf(0x6c2)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x39bb95,_0x214aa8);}else{const _0x218c3a=_0x529322[_0x5057cf(0x784)]||{};localTeamPlayers[_0x5057cf(0x79a)](_0xc7ec67=>{!_0x218c3a[_0xc7ec67]&&(_0x218c3a[_0xc7ec67]={'score':0x0,'answers':[]});}),await updateDoc(_0x39bb95,{'responses':_0x218c3a});}document[_0x5057cf(0x52a)](_0x5057cf(0xd6d))[_0x5057cf(0x817)][_0x5057cf(0x642)]('hidden'),renderTeamQuizQuestion();const _0x4360ff={'gameId':currentTeamQuizId,'mode':_0x529322[_0x5057cf(0xce3)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5057cf(0x4c4),JSON['stringify'](_0x4360ff)),listenForTeamQuizUpdates();}catch(_0x54daba){console['error'](_0x5057cf(0x58b),_0x54daba),showMessage(_0x5057cf(0x51d));}}async function renderTeamQuizQuestion(){const _0x41d8d1=_0x6a7885;if(localQuestionIndex>=currentQuizData[_0x41d8d1(0x665)]['length']){displayTeamQuizFinalResults();return;}const _0x57b576=currentQuizData[_0x41d8d1(0x665)][localQuestionIndex],_0x195342=localTeamPlayers[localPlayerIndex],_0x2ab44d=_0x57b576['questionType']||currentQuizData[_0x41d8d1(0xafb)];let _0x161cd5=_0x57b576['stem']||_0x57b576[_0x41d8d1(0xc82)],_0x1e9ff4='';switch(_0x2ab44d){case _0x41d8d1(0xa3b):case _0x41d8d1(0x3a3):_0x1e9ff4=_0x57b576[_0x41d8d1(0xd99)][_0x41d8d1(0x8cc)]((_0x31babc,_0x5969e9)=>_0x41d8d1(0xc1f)+_0x5969e9+_0x41d8d1(0x98e)+_0x5969e9+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x5969e9+'\x22>'+_0x31babc+'</label></div>')[_0x41d8d1(0x35d)]('');break;case'true_false':_0x1e9ff4=_0x41d8d1(0x7e8);break;case _0x41d8d1(0x247):case'fill_in_no_choices':_0x1e9ff4=_0x41d8d1(0x80e);break;case _0x41d8d1(0x747):_0x1e9ff4=_0x41d8d1(0xc7d)+_0x57b576[_0x41d8d1(0xc0f)]['map'](_0x42e963=>'<option\x20value=\x22'+_0x42e963+'\x22>'+_0x42e963+_0x41d8d1(0x9a7))[_0x41d8d1(0x35d)]('')+_0x41d8d1(0x1db);break;default:_0x1e9ff4='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x41d8d1(0xd3c)]=_0x41d8d1(0xc7a)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x41d8d1(0x665)][_0x41d8d1(0xbc8)]+_0x41d8d1(0xa28)+_0x195342+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x161cd5+_0x41d8d1(0x925)+(_0x57b576[_0x41d8d1(0x929)]?_0x41d8d1(0x53f)+_0x57b576[_0x41d8d1(0x929)]+_0x41d8d1(0x5b3):'')+_0x41d8d1(0x519)+_0x1e9ff4+_0x41d8d1(0x6f9),studentQuizArea[_0x41d8d1(0x817)][_0x41d8d1(0xb2b)](_0x41d8d1(0x68d));if(window[_0x41d8d1(0xb46)])MathJax[_0x41d8d1(0x787)]([studentQuizArea]);document[_0x41d8d1(0x52a)]('submit-team-answer-btn')[_0x41d8d1(0x6dd)](_0x41d8d1(0x564),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x48fb02=_0x6a7885,_0x3faf71=currentQuizData['questions'][localQuestionIndex],_0x411616=_0x3faf71[_0x48fb02(0x8c1)]||currentQuizData['quizType'];let _0x3f7a94=null,_0x5a0cec=![];if(_0x411616===_0x48fb02(0x247)||_0x411616===_0x48fb02(0xdd9)){const _0x3be0ab=document[_0x48fb02(0x390)]('textarea[name=\x22team_answer\x22]');if(!_0x3be0ab||!_0x3be0ab[_0x48fb02(0x3c4)][_0x48fb02(0x797)]()){showMessage(_0x48fb02(0x351));return;}_0x3f7a94=_0x3be0ab['value'][_0x48fb02(0x797)](),_0x5a0cec=await gradeShortAnswer(_0x3f7a94,_0x3faf71);}else{const _0x2e98d4=document['querySelector'](_0x48fb02(0xc17));if(!_0x2e98d4||_0x2e98d4[_0x48fb02(0x3c4)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x3f7a94=_0x2e98d4[_0x48fb02(0x3c4)];switch(_0x411616){case'true_false':_0x5a0cec=_0x3f7a94===_0x48fb02(0xb54)===_0x3faf71[_0x48fb02(0x950)];break;case _0x48fb02(0x747):_0x5a0cec=_0x3f7a94===_0x3faf71[_0x48fb02(0x573)];break;default:_0x5a0cec=parseInt(_0x3f7a94)===_0x3faf71[_0x48fb02(0x7cc)];break;}}const _0x10d374={'questionIndex':localQuestionIndex,'isCorrect':_0x5a0cec},_0x12b749=userId,_0xbc13ed={[_0x48fb02(0x6c2)+_0x12b749+_0x48fb02(0x596)]:arrayUnion(_0x10d374)};_0x5a0cec&&(_0xbc13ed['groups.'+_0x12b749+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x48fb02(0x3c5)+appId+_0x48fb02(0xde6),currentTeamQuizId),_0xbc13ed),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x48fb02(0x665)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x815a12){console[_0x48fb02(0xc4f)](_0x48fb02(0x65f),_0x815a12),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x160d46=_0x6a7885,_0xb17a2d=await getDoc(doc(db,'artifacts/'+appId+_0x160d46(0xde6),currentTeamQuizId));if(!_0xb17a2d[_0x160d46(0xd3f)]())return;const _0x1e86e9=_0xb17a2d[_0x160d46(0x36d)]();if(_0x1e86e9[_0x160d46(0xce3)]===_0x160d46(0x647)){handleGroupAnswerSubmit();return;}const _0x529490=localTeamPlayers[localPlayerIndex],_0xe6dd44=currentQuizData['questions'][localQuestionIndex],_0x21c005=_0xe6dd44[_0x160d46(0x8c1)]||currentQuizData[_0x160d46(0xafb)];let _0x45d242=null,_0x483208=![];if(_0x21c005===_0x160d46(0x247)||_0x21c005===_0x160d46(0xdd9)){const _0x3564f1=document[_0x160d46(0x390)](_0x160d46(0x382));if(!_0x3564f1||!_0x3564f1[_0x160d46(0x3c4)][_0x160d46(0x797)]()){showMessage(_0x160d46(0x244));return;}_0x45d242=_0x3564f1[_0x160d46(0x3c4)][_0x160d46(0x797)](),_0x483208=await gradeShortAnswer(_0x45d242,_0xe6dd44);}else{const _0x441a22=document['querySelector'](_0x160d46(0xc17));if(!_0x441a22||_0x441a22['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x45d242=_0x441a22['value'];switch(_0x21c005){case _0x160d46(0x3f6):_0x483208=_0x45d242===_0x160d46(0xb54)===_0xe6dd44[_0x160d46(0x950)];break;case _0x160d46(0x747):_0x483208=_0x45d242===_0xe6dd44[_0x160d46(0x573)];break;default:_0x483208=parseInt(_0x45d242)===_0xe6dd44[_0x160d46(0x7cc)];break;}}const _0x4b582e={'questionIndex':localQuestionIndex,'isCorrect':_0x483208,'answerValue':_0x45d242},_0x922d30={['responses.'+_0x529490+_0x160d46(0x596)]:arrayUnion(_0x4b582e)};_0x483208&&(_0x922d30[_0x160d46(0xd5e)+_0x529490+_0x160d46(0xa22)]=increment(0x1));try{await updateDoc(doc(db,_0x160d46(0x3c5)+appId+_0x160d46(0xde6),currentTeamQuizId),_0x922d30),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x212ec9){console[_0x160d46(0xc4f)]('Error\x20submitting\x20team\x20answer:',_0x212ec9),showMessage(_0x160d46(0xa34));}}async function displayTeamQuizFinalResults(){const _0x3aba51=_0x6a7885;studentQuizArea[_0x3aba51(0x817)][_0x3aba51(0x642)](_0x3aba51(0x68d)),studentResultArea[_0x3aba51(0x817)][_0x3aba51(0xb2b)](_0x3aba51(0x68d));const _0x34b3df=doc(db,_0x3aba51(0x3c5)+appId+_0x3aba51(0xde6),currentTeamQuizId),_0x4164ba=await getDoc(_0x34b3df);if(!_0x4164ba[_0x3aba51(0xd3f)]()){studentResultArea[_0x3aba51(0xd3c)]=_0x3aba51(0x6ea);return;}const _0x5e8385=_0x4164ba['data']();let _0x33c0df=[];const _0x322170=_0x5e8385[_0x3aba51(0xce3)]||'team';if(_0x322170==='group'){const _0xa17eaf=_0x5e8385['groups'][userId];_0xa17eaf?_0x33c0df=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x3aba51(0x35d)](',\x20'),'score':_0xa17eaf[_0x3aba51(0xb95)]||0x0}]:_0x33c0df=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x33c0df=localTeamPlayers[_0x3aba51(0x8cc)](_0xbb01fe=>({'name':_0xbb01fe,'score':_0x5e8385['responses'][_0xbb01fe]?.[_0x3aba51(0xb95)]||0x0}))[_0x3aba51(0xd66)]((_0x1d9ab6,_0x89d6ab)=>_0x89d6ab[_0x3aba51(0xb95)]-_0x1d9ab6[_0x3aba51(0xb95)]);studentResultArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33c0df[_0x3aba51(0x8cc)](_0x1910ea=>_0x3aba51(0x8be)+_0x1910ea[_0x3aba51(0xae4)]+_0x3aba51(0x7db)+_0x1910ea['score']+_0x3aba51(0x71c))[_0x3aba51(0x35d)]('')+_0x3aba51(0x86e),sessionStorage['removeItem']('activeGameSession'),currentMode===_0x3aba51(0x85e)&&currentTeamQuizId&&setTimeout(()=>{const _0x1fa3b6=_0x3aba51;deleteDoc(doc(db,_0x1fa3b6(0x3c5)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x6a7885(0x30d),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xd80)},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xbb8)},{'category':_0x6a7885(0xa2b),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x7be)},{'category':_0x6a7885(0xa2b),'name':'การลบ'},{'category':_0x6a7885(0xa2b),'name':'การคูณ'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xdcc)},{'category':_0x6a7885(0xa2b),'name':'จำนวนเต็มบวก'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x494)},{'category':'จำนวนและการดำเนินการ','name':_0x6a7885(0x83b)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x6a7885(0xa2b),'name':'เส้นจำนวน'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x35f)},{'category':_0x6a7885(0xa2b),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x6a7885(0xa2b),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x4fd)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x8b6)},{'category':'จำนวนและการดำเนินการ','name':_0x6a7885(0x7c3)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xc4b)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xae6)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x7a2)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xd8d)},{'category':_0x6a7885(0xa2b),'name':'จำนวนคละ'},{'category':_0x6a7885(0xa2b),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x6a7885(0x887)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x85d)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x66a)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x2de)},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xb97)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0xd52)},{'category':'จำนวนและการดำเนินการ','name':_0x6a7885(0x227)},{'category':_0x6a7885(0xa2b),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x868)},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x6a7885(0xa2b),'name':_0x6a7885(0x8cd)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0x7d2)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0xc88)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0xc52)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0xa45)},{'category':_0x6a7885(0xa2a),'name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':_0x6a7885(0xa2a),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0x405)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0xac9)},{'category':_0x6a7885(0xa2a),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x6a7885(0xa2a),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0x429)},{'category':_0x6a7885(0xa2a),'name':_0x6a7885(0xd4f)},{'category':_0x6a7885(0xa2a),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xad8)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xcb9)},{'category':'เรขาคณิต','name':_0x6a7885(0x888)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x405)},{'category':'เรขาคณิต','name':_0x6a7885(0x654)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xa10)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x267)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x348)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x40c)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x3de)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xd34)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xc53)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0x556)},{'category':_0x6a7885(0xd84),'name':_0x6a7885(0xc48)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x8fe)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x1dc)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x21d)},{'category':_0x6a7885(0x495),'name':'การแยกตัวประกอบ'},{'category':_0x6a7885(0x495),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x24c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0x60a)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xb8e)},{'category':_0x6a7885(0x495),'name':'สมการค่าสัมบูรณ์'},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xa84)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xaa5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0x7e2)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x2b0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0x67d)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x831)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x431)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0xc5b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0xbb6)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x4c7)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันผกผัน'},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x8b8)},{'category':_0x6a7885(0x495),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xbdc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x6a7885(0x1ca)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x3e1)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x23c)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xaed)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0xb66)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x7a0)},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x97a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x6a7885(0x495),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x6a7885(0x495),'name':_0x6a7885(0x6eb)},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x6a7885(0x331),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x6a7885(0x331),'name':_0x6a7885(0xd28)},{'category':_0x6a7885(0x331),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x6a7885(0x331),'name':_0x6a7885(0xd81)},{'category':'เรขาคณิตวิเคราะห์','name':_0x6a7885(0xdba)},{'category':_0x6a7885(0x331),'name':_0x6a7885(0x709)},{'category':_0x6a7885(0x331),'name':_0x6a7885(0x3ce)},{'category':'เรขาคณิตวิเคราะห์','name':_0x6a7885(0x4a7)},{'category':_0x6a7885(0x331),'name':_0x6a7885(0x7d7)},{'category':_0x6a7885(0x312),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x360)},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x4ee)},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x3ae)},{'category':'ตรีโกณมิติ','name':_0x6a7885(0x757)},{'category':'ตรีโกณมิติ','name':_0x6a7885(0x226)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x6a7885(0x312),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x1d3)},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x3c8)},{'category':_0x6a7885(0x312),'name':_0x6a7885(0x913)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x892)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x3ec)},{'category':_0x6a7885(0x65e),'name':'ตารางความถี่'},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x5a2)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0xb88)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0xc71)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x6cf)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0xc83)},{'category':_0x6a7885(0x65e),'name':'ฐานนิยม'},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0xc70)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x9c3)},{'category':'สถิติและความน่าจะเป็น','name':_0x6a7885(0x496)},{'category':_0x6a7885(0x65e),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x4ad)},{'category':_0x6a7885(0x65e),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x6a7885(0x65e),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x678)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x601)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x4db)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x2af)},{'category':_0x6a7885(0x65e),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x551)},{'category':_0x6a7885(0x65e),'name':_0x6a7885(0x6b6)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x79e)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x780)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0xd85)},{'category':_0x6a7885(0xd8c),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x6a7885(0xd8c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x6a7885(0x325)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x8b5)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x200)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x639)},{'category':_0x6a7885(0xd8c),'name':_0x6a7885(0x5a5)},{'category':_0x6a7885(0xd8c),'name':'ปริพันธ์จำกัด'},{'category':_0x6a7885(0xd8c),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x6a7885(0xd8c),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x6a7885(0x432),'name':_0x6a7885(0xd38)},{'category':_0x6a7885(0x432),'name':_0x6a7885(0x6a8)},{'category':_0x6a7885(0x432),'name':_0x6a7885(0x7d8)},{'category':_0x6a7885(0x432),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x6a7885(0x432),'name':_0x6a7885(0x537)},{'category':_0x6a7885(0x432),'name':'ดีเทอร์มิแนนต์'},{'category':_0x6a7885(0x432),'name':_0x6a7885(0x2e0)},{'category':_0x6a7885(0xa39),'name':_0x6a7885(0xbf3)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x6a7885(0xa39),'name':_0x6a7885(0xc61)},{'category':_0x6a7885(0xa39),'name':'ค่าเสื่อมราคา'},{'category':_0x6a7885(0xa39),'name':_0x6a7885(0x589)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x6a7885(0x398)},{'category':_0x6a7885(0x7dd),'name':_0x6a7885(0x6ed)},{'category':_0x6a7885(0x7dd),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x5ef068=_0x6a7885,_0x2d4a91=document['getElementById']('math-topics-checkbox-container');if(!_0x2d4a91)return;const _0x17486a=allMathTopics,_0x5dc2db=customMathTopics[_0x5ef068(0x8cc)](_0x546b05=>({'id':_0x546b05['id'],'category':_0x5ef068(0x671),'name':_0x546b05[_0x5ef068(0xae4)]})),_0x5dce2a=[..._0x17486a,..._0x5dc2db],_0x3c5638=_0x5dce2a[_0x5ef068(0xb90)]((_0x3d1441,_0x53a47e)=>{const _0x130599=_0x5ef068;return!_0x3d1441[_0x53a47e[_0x130599(0x591)]]&&(_0x3d1441[_0x53a47e[_0x130599(0x591)]]=[]),_0x3d1441[_0x53a47e[_0x130599(0x591)]]['push'](_0x53a47e),_0x3d1441;},{});let _0x4c6c5e='';const _0x30adc4=[_0x5ef068(0x671),...Object[_0x5ef068(0x879)](_0x3c5638)[_0x5ef068(0xcae)](_0x5b2a3d=>_0x5b2a3d!==_0x5ef068(0x671))];for(const _0x614925 of _0x30adc4){if(_0x3c5638[_0x614925]){const _0x18faa3=_0x614925===_0x5ef068(0x671),_0x364b5f=_0x18faa3?_0x5ef068(0xc24):'fas\x20fa-bookmark',_0x1ce8ed=_0x18faa3?_0x5ef068(0x92b):_0x5ef068(0x9e1);_0x4c6c5e+=_0x5ef068(0x999),_0x4c6c5e+=_0x5ef068(0x919)+_0x1ce8ed+_0x5ef068(0xb6f)+_0x364b5f+_0x5ef068(0x4c3)+_0x614925+_0x5ef068(0x52b),_0x3c5638[_0x614925][_0x5ef068(0x79a)](_0x71bd13=>{const _0xb7c94=_0x5ef068,_0x15fb76=!!_0x71bd13['id'],_0x8eba7c=_0x15fb76?_0xb7c94(0x1cc)+_0x71bd13['id']+_0xb7c94(0xb80)+_0x71bd13['id']+_0xb7c94(0x358)+_0x71bd13['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x71bd13['id']+_0xb7c94(0x93b):'';_0x4c6c5e+=_0xb7c94(0x502)+(_0x71bd13['id']||'')+_0xb7c94(0xc5f)+_0x71bd13[_0xb7c94(0xae4)]+_0xb7c94(0xd7f)+_0x71bd13[_0xb7c94(0xae4)]+_0xb7c94(0xadb)+(_0x15fb76?_0xb7c94(0xdca)+_0x71bd13['name']+'\x22>':'')+_0xb7c94(0x28f)+_0x8eba7c+_0xb7c94(0x9d4);}),_0x4c6c5e+=_0x5ef068(0x5b3);}}_0x2d4a91['innerHTML']=_0x4c6c5e||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x2d4a91[_0x5ef068(0x5b6)]('change',updateSelectedTopicsCount),_0x2d4a91['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x37ee68,_0x3e2236){const _0x5db60f=_0x6a7885;if(!_0x37ee68||!_0x3e2236[_0x5db60f(0x797)]()){showMessage(_0x5db60f(0x834));return;}try{const _0x4c6738=doc(db,_0x5db60f(0x3c5)+appId+_0x5db60f(0x38b),_0x37ee68);await updateDoc(_0x4c6738,{'name':_0x3e2236[_0x5db60f(0x797)]()}),showMessage(_0x5db60f(0x5eb));}catch(_0x4e4d58){console[_0x5db60f(0xc4f)](_0x5db60f(0x31f),_0x4e4d58),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x506ac6,_0x59fa11){const _0x9309d8=_0x6a7885;if(!_0x506ac6)return;const _0x39b27f=_0x506ac6[_0x9309d8(0x390)](_0x9309d8(0xd6a)),_0x3716f8=_0x506ac6[_0x9309d8(0x390)]('.topic-name-input'),_0x12cbb7=_0x506ac6['querySelector'](_0x9309d8(0xbfc)),_0x26d07c=_0x506ac6[_0x9309d8(0x390)](_0x9309d8(0xb52));_0x39b27f[_0x9309d8(0x817)]['toggle']('hidden',_0x59fa11),_0x3716f8[_0x9309d8(0x817)]['toggle'](_0x9309d8(0x68d),!_0x59fa11),_0x12cbb7[_0x9309d8(0x817)][_0x9309d8(0x2fc)](_0x9309d8(0x68d),_0x59fa11),_0x26d07c[_0x9309d8(0x817)]['toggle'](_0x9309d8(0x68d),!_0x59fa11),_0x59fa11&&(_0x3716f8[_0x9309d8(0x31a)](),_0x3716f8[_0x9309d8(0xac0)]());}async function handleStartLiveRace(_0x278f7f){const _0x47267b=_0x6a7885;let _0x265be0=allQuizzes[_0x47267b(0x8c7)](_0x4c6e3d=>_0x4c6e3d['id']===_0x278f7f);if(!_0x265be0){const _0x1cc703=doc(db,_0x47267b(0x3c5)+appId+_0x47267b(0x383),_0x278f7f),_0x20b62c=await getDoc(_0x1cc703);if(!_0x20b62c['exists']()){showMessage(_0x47267b(0x232));return;}_0x265be0={'id':_0x20b62c['id'],..._0x20b62c[_0x47267b(0x36d)]()};}const _0xa493af=getShuffledQuiz(_0x265be0);currentQuizData=_0xa493af;const _0x4ad275=_0x265be0[_0x47267b(0x94a)]||currentProjectId||null,_0x2e0216=Math[_0x47267b(0x754)](0x3e8+Math[_0x47267b(0x90b)]()*0x2328)[_0x47267b(0x443)]();currentLiveGamePin=_0x2e0216;try{const _0x5ae1e2=await addDoc(collection(db,'artifacts/'+appId+_0x47267b(0x222)),{'quizId':_0x278f7f,'projectId':_0x4ad275,'status':_0x47267b(0xbe1),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2e0216,'createdAt':serverTimestamp(),'shuffledQuiz':_0xa493af});currentLiveGameId=_0x5ae1e2['id'],showAdminLobbyView(_0x2e0216,_0x265be0[_0x47267b(0x801)]),listenForLiveGameUpdates();}catch(_0x474227){console[_0x47267b(0xc4f)](_0x47267b(0x9db),_0x474227),showMessage(_0x47267b(0x893));}}function updateSelectedTopicsCount(){const _0xab0d6b=_0x6a7885,_0x204f84=document[_0xab0d6b(0x52a)](_0xab0d6b(0xd0a)),_0x50b623=_0x204f84[_0xab0d6b(0x7b3)]('input[type=\x22checkbox\x22]:checked')[_0xab0d6b(0xbc8)],_0x5376e1=document[_0xab0d6b(0x52a)](_0xab0d6b(0x891));_0x50b623>0x0?_0x5376e1[_0xab0d6b(0x675)]=_0xab0d6b(0xa81)+_0x50b623+_0xab0d6b(0xa2c):_0x5376e1['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x6a7885(0xa0e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x6a7885(0x43a),quizLeaderboardSortOrder=_0x6a7885(0xb03),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x6a7885(0xb13),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x6a7885(0x5d6),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4428c5,_0x130b9c){const _0x3d5efa=_0x6a7885;return Math[_0x3d5efa(0x6d5)](Math['pow'](_0x4428c5['x']-_0x130b9c['x'],0x2)+Math['pow'](_0x4428c5['y']-_0x130b9c['y'],0x2));}function getMidpoint(_0x16145d,_0x31b7a9){return{'x':(_0x16145d['x']+_0x31b7a9['x'])/0x2,'y':(_0x16145d['y']+_0x31b7a9['y'])/0x2};}function getTransformedPoint(_0x29d23d,_0x30d37a){return{'x':(_0x29d23d-scratchpadOffset['x'])/scratchpadScale,'y':(_0x30d37a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x40e5e9=_0x6a7885;if(!scratchpadCtx)return;const _0x460ccf=scratchpadCtx[_0x40e5e9(0x8c8)],_0x4741f4=window[_0x40e5e9(0x428)]||0x1,_0x3b183d=document[_0x40e5e9(0x52a)](_0x40e5e9(0x57a));_0x3b183d&&(_0x3b183d[_0x40e5e9(0x882)][_0x40e5e9(0x65d)]=_0x40e5e9(0x44e),_0x3b183d['style'][_0x40e5e9(0xb9d)]=_0x40e5e9(0xb1a)+scratchpadOffset['x']+_0x40e5e9(0x1ce)+scratchpadOffset['y']+_0x40e5e9(0x8db)+scratchpadScale+')'),scratchpadCtx[_0x40e5e9(0x844)](),scratchpadCtx['setTransform'](_0x4741f4,0x0,0x0,_0x4741f4,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x460ccf['width'],_0x460ccf[_0x40e5e9(0x7a4)]),scratchpadCtx['restore'](),scratchpadCtx[_0x40e5e9(0x844)](),scratchpadCtx[_0x40e5e9(0x5a6)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x40e5e9(0x218)](scratchpadScale,scratchpadScale),strokes[_0x40e5e9(0x79a)](_0x163c8a=>{drawStroke(_0x163c8a);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x40e5e9(0x3b6)]();}function renderGroupModeQuestion(){const _0x4822e0=_0x6a7885;if(localQuestionIndex>=currentQuizData['questions'][_0x4822e0(0xbc8)]){displayTeamQuizFinalResults();return;}const _0x284a96=currentQuizData[_0x4822e0(0x665)][localQuestionIndex],_0x4629f8=_0x284a96[_0x4822e0(0x8c1)]||currentQuizData[_0x4822e0(0xafb)];let _0x35645e=_0x284a96[_0x4822e0(0xdbf)]||_0x284a96['questionText'],_0x142b28='';switch(_0x4629f8){case'multiple_choice':case _0x4822e0(0x3a3):_0x142b28=_0x284a96[_0x4822e0(0xd99)][_0x4822e0(0x8cc)]((_0x5e5731,_0x597d13)=>_0x4822e0(0xc1f)+_0x597d13+_0x4822e0(0x98e)+_0x597d13+_0x4822e0(0xc31)+_0x597d13+'\x22>'+_0x5e5731+_0x4822e0(0x7bb))[_0x4822e0(0x35d)]('');break;case _0x4822e0(0x3f6):_0x142b28=_0x4822e0(0x7e8);break;case'short_answer':case _0x4822e0(0xdd9):_0x142b28=_0x4822e0(0x8a4);break;case'matching_item':_0x142b28=_0x4822e0(0xc7d)+_0x284a96[_0x4822e0(0xc0f)][_0x4822e0(0x8cc)](_0x3f839b=>_0x4822e0(0xd63)+_0x3f839b+'\x22>'+_0x3f839b+_0x4822e0(0x9a7))[_0x4822e0(0x35d)]('')+_0x4822e0(0x1db);break;default:_0x142b28=_0x4822e0(0x242);break;}studentQuizArea[_0x4822e0(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x4822e0(0x665)][_0x4822e0(0xbc8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x4822e0(0x35d)](',\x20')+_0x4822e0(0xdfd)+(localQuestionIndex+0x1)+'.\x20'+_0x35645e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x284a96[_0x4822e0(0x929)]?_0x4822e0(0x53f)+_0x284a96[_0x4822e0(0x929)]+_0x4822e0(0x5b3):'')+_0x4822e0(0x519)+_0x142b28+_0x4822e0(0x39d),studentQuizArea[_0x4822e0(0x817)][_0x4822e0(0xb2b)](_0x4822e0(0x68d));if(window[_0x4822e0(0xb46)])MathJax['typesetPromise']([studentQuizArea]);document[_0x4822e0(0x52a)](_0x4822e0(0xcff))[_0x4822e0(0x6dd)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4f3f2a,_0x34635c=null,_0x2ae02f,_0x1093e2=null,_0xda3a05=![],_0x6e5fe3=null){const _0xcf1a03=_0x6a7885,_0x287dde=document[_0xcf1a03(0x52a)](_0xcf1a03(0x4c2));_0x287dde&&_0x287dde['scrollIntoView']({'behavior':_0xcf1a03(0x250),'block':_0xcf1a03(0xb68)}),generateQuiz(_0x4f3f2a,_0x34635c,null,_0x6e5fe3,!![],_0x2ae02f,_0x1093e2,_0xda3a05);}function handleGenerateAndShowLesson(_0x5a9fd8,_0x106bd5){const _0x193365=_0x6a7885,_0x548a85=document['getElementById'](_0x193365(0xc39)),_0xd7118f=document[_0x193365(0x52a)]('lesson-view-title'),_0x1275c2=document[_0x193365(0x52a)](_0x193365(0x46e)),_0x32c0ce=document['getElementById']('lesson-sections-container');[_0x193365(0x28b),_0x193365(0x291),_0x193365(0x870),'summaryContent'][_0x193365(0x79a)](_0x9b6767=>{const _0x2a531b=_0x193365,_0xa23975=document[_0x2a531b(0x52a)](_0x9b6767)[_0x2a531b(0xcc7)];_0xa23975&&(_0xa23975[_0x2a531b(0x882)][_0x2a531b(0x36c)]=_0x2a531b(0xc15));}),_0xd7118f[_0x193365(0x675)]=_0x193365(0x9e9)+_0x5a9fd8,_0x32c0ce[_0x193365(0x817)][_0x193365(0x642)](_0x193365(0x68d)),_0x1275c2[_0x193365(0x817)][_0x193365(0xb2b)](_0x193365(0x68d)),_0x548a85['classList'][_0x193365(0xb2b)](_0x193365(0x68d)),generateLesson(_0x5a9fd8,_0x106bd5)[_0x193365(0x6a4)](_0x4bc1eb=>{const _0xe891d1=_0x193365;console[_0xe891d1(0xc4f)](_0xe891d1(0xc3d),_0x4bc1eb),showMessage(_0xe891d1(0x3a7)),_0x548a85['classList'][_0xe891d1(0x642)]('hidden');});}function handlePointerDown(_0x564e31){const _0x1bad88=_0x6a7885;_0x564e31['preventDefault']();const _0x4a7163=scratchpadCtx[_0x1bad88(0x8c8)],_0x32e610=_0x4a7163[_0x1bad88(0x940)](),_0x4662c2=_0x564e31[_0x1bad88(0x974)]||(_0x564e31[_0x1bad88(0xbde)]?_0x1bad88(0x794):_0x1bad88(0x1da));if(_0x4662c2==='pen'||_0x4662c2===_0x1bad88(0x1da)){if(_0x564e31[_0x1bad88(0x974)]===_0x1bad88(0x1da)&&_0x564e31[_0x1bad88(0xa62)]!==0x0){_0x564e31[_0x1bad88(0xa62)]===0x1&&(isMousePanning=!![],panStart={'x':_0x564e31[_0x1bad88(0xa31)],'y':_0x564e31[_0x1bad88(0x553)]},_0x4a7163[_0x1bad88(0x882)]['cursor']=_0x1bad88(0x237));return;}activeTool===_0x1bad88(0xc7e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x391baf=getTransformedPoint(_0x564e31[_0x1bad88(0xa31)]-_0x32e610[_0x1bad88(0xd24)],_0x564e31[_0x1bad88(0x553)]-_0x32e610['top']);let _0x2e8666={'tool':activeTool,'points':[_0x391baf]};if(activeTool===_0x1bad88(0x5d6))_0x2e8666[_0x1bad88(0xb37)]=scratchpadPenColor,_0x2e8666[_0x1bad88(0xc30)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x2e8666[_0x1bad88(0xb37)]=scratchpadPenColor,_0x2e8666['size']=scratchpadEraserSize;else{if(activeTool===_0x1bad88(0x9e4))_0x2e8666[_0x1bad88(0xb37)]=scratchpadHighlighterColor,_0x2e8666['size']=scratchpadHighlighterSize;else activeTool===_0x1bad88(0xc7e)&&(_0x2e8666[_0x1bad88(0xb37)]=scratchpadPenColor,_0x2e8666[_0x1bad88(0xc30)]=scratchpadPenSize);}}currentStroke=_0x2e8666;}else _0x564e31['touches']&&(_0x564e31[_0x1bad88(0xbde)][_0x1bad88(0xbc8)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x564e31[_0x1bad88(0xbde)][0x0][_0x1bad88(0xa31)],'y':_0x564e31[_0x1bad88(0xbde)][0x0][_0x1bad88(0x553)]},{'x':_0x564e31[_0x1bad88(0xbde)][0x1][_0x1bad88(0xa31)],'y':_0x564e31[_0x1bad88(0xbde)][0x1][_0x1bad88(0x553)]}),initialPinchDistance=getDistance({'x':_0x564e31['touches'][0x0][_0x1bad88(0xa31)],'y':_0x564e31[_0x1bad88(0xbde)][0x0][_0x1bad88(0x553)]},{'x':_0x564e31[_0x1bad88(0xbde)][0x1][_0x1bad88(0xa31)],'y':_0x564e31[_0x1bad88(0xbde)][0x1][_0x1bad88(0x553)]})));}function animateTrail(){const _0x56f5e5=_0x6a7885,_0x27b3b3=Date[_0x56f5e5(0x7f3)]();let _0x46c6b0=![];for(let _0x16e6f6=strokes['length']-0x1;_0x16e6f6>=0x0;_0x16e6f6--){const _0x2b162e=strokes[_0x16e6f6];if(_0x2b162e['tool']===_0x56f5e5(0xc7e)&&_0x2b162e[_0x56f5e5(0xb06)]){const _0x25aa29=_0x27b3b3-_0x2b162e[_0x56f5e5(0xb06)];_0x25aa29>=TRAIL_DURATION?strokes[_0x56f5e5(0x81e)](_0x16e6f6,0x1):(_0x2b162e[_0x56f5e5(0x4c6)]=0x1-_0x25aa29/TRAIL_DURATION,_0x46c6b0=!![]);}}redrawScratchpad(),_0x46c6b0?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x410d44){const _0x38eb75=_0x6a7885;if(!_0x410d44||_0x410d44['points'][_0x38eb75(0xbc8)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x38eb75(0x257)]=_0x38eb75(0xa82),scratchpadCtx[_0x38eb75(0xd37)]=_0x38eb75(0xa82);if(_0x410d44['tool']==='trail'){const _0x334218=_0x410d44['size']/scratchpadScale;scratchpadCtx[_0x38eb75(0x2ff)]=_0x410d44[_0x38eb75(0x4c6)]??0x1,scratchpadCtx[_0x38eb75(0x750)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x38eb75(0xd0c)]=_0x334218*0x3,scratchpadCtx[_0x38eb75(0xca8)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx['lineWidth']=_0x334218*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x38eb75(0xc22)](_0x410d44[_0x38eb75(0xd9f)][0x0]['x'],_0x410d44[_0x38eb75(0xd9f)][0x0]['y']);for(let _0x113fdd=0x1;_0x113fdd<_0x410d44['points']['length']-0x1;_0x113fdd++){const _0x206a88=getMidpoint(_0x410d44[_0x38eb75(0xd9f)][_0x113fdd],_0x410d44[_0x38eb75(0xd9f)][_0x113fdd+0x1]);scratchpadCtx['quadraticCurveTo'](_0x410d44['points'][_0x113fdd]['x'],_0x410d44[_0x38eb75(0xd9f)][_0x113fdd]['y'],_0x206a88['x'],_0x206a88['y']);}scratchpadCtx['stroke'](),scratchpadCtx['shadowColor']=_0x38eb75(0x7df),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x38eb75(0xca8)]='#FFFFFF',scratchpadCtx[_0x38eb75(0x4be)]=_0x334218,scratchpadCtx[_0x38eb75(0x89e)](),scratchpadCtx[_0x38eb75(0x961)]();}else{if(_0x410d44['tool']===_0x38eb75(0x9e4)){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x38eb75(0xca8)]=_0x410d44[_0x38eb75(0xb37)],scratchpadCtx[_0x38eb75(0x4be)]=_0x410d44[_0x38eb75(0xc30)],scratchpadCtx[_0x38eb75(0xac2)](),scratchpadCtx['moveTo'](_0x410d44['points'][0x0]['x'],_0x410d44[_0x38eb75(0xd9f)][0x0]['y']);for(let _0x5360e6=0x1;_0x5360e6<_0x410d44[_0x38eb75(0xd9f)][_0x38eb75(0xbc8)]-0x1;_0x5360e6++){const _0x380130=getMidpoint(_0x410d44[_0x38eb75(0xd9f)][_0x5360e6],_0x410d44['points'][_0x5360e6+0x1]);scratchpadCtx[_0x38eb75(0xddb)](_0x410d44[_0x38eb75(0xd9f)][_0x5360e6]['x'],_0x410d44[_0x38eb75(0xd9f)][_0x5360e6]['y'],_0x380130['x'],_0x380130['y']);}scratchpadCtx[_0x38eb75(0x89e)](),scratchpadCtx[_0x38eb75(0x961)]();}else{scratchpadCtx['globalCompositeOperation']=_0x410d44[_0x38eb75(0x79b)]===_0x38eb75(0xcce)?'destination-out':_0x38eb75(0xb14),scratchpadCtx[_0x38eb75(0xca8)]=_0x410d44['color'],scratchpadCtx['lineWidth']=_0x410d44[_0x38eb75(0xc30)],scratchpadCtx[_0x38eb75(0xac2)](),scratchpadCtx['moveTo'](_0x410d44[_0x38eb75(0xd9f)][0x0]['x'],_0x410d44[_0x38eb75(0xd9f)][0x0]['y']);for(let _0x8a3a33=0x1;_0x8a3a33<_0x410d44[_0x38eb75(0xd9f)][_0x38eb75(0xbc8)]-0x1;_0x8a3a33++){const _0x569116=getMidpoint(_0x410d44[_0x38eb75(0xd9f)][_0x8a3a33],_0x410d44[_0x38eb75(0xd9f)][_0x8a3a33+0x1]);scratchpadCtx[_0x38eb75(0xddb)](_0x410d44[_0x38eb75(0xd9f)][_0x8a3a33]['x'],_0x410d44[_0x38eb75(0xd9f)][_0x8a3a33]['y'],_0x569116['x'],_0x569116['y']);}scratchpadCtx[_0x38eb75(0x89e)](),scratchpadCtx[_0x38eb75(0x961)]();}}scratchpadCtx[_0x38eb75(0x3b6)]();}function handlePointerMove(_0x427d9b){const _0x1bfb9f=_0x6a7885;_0x427d9b['preventDefault']();const _0x3945cb=scratchpadCtx[_0x1bfb9f(0x8c8)],_0x4ff6c7=_0x3945cb[_0x1bfb9f(0x940)]();if(_0x427d9b['touches']){if(_0x427d9b[_0x1bfb9f(0xbde)]['length']===0x1&&isDrawingOnScratchpad){const _0xd07728=getTransformedPoint(_0x427d9b[_0x1bfb9f(0xbde)][0x0][_0x1bfb9f(0xa31)]-_0x4ff6c7['left'],_0x427d9b[_0x1bfb9f(0xbde)][0x0][_0x1bfb9f(0x553)]-_0x4ff6c7[_0x1bfb9f(0xc3f)]);currentStroke[_0x1bfb9f(0xd9f)][_0x1bfb9f(0x586)](_0xd07728),redrawScratchpad();}else{if(_0x427d9b[_0x1bfb9f(0xbde)]['length']===0x2&&isPanning){const _0x1510ab=getDistance({'x':_0x427d9b['touches'][0x0][_0x1bfb9f(0xa31)],'y':_0x427d9b[_0x1bfb9f(0xbde)][0x0]['clientY']},{'x':_0x427d9b[_0x1bfb9f(0xbde)][0x1][_0x1bfb9f(0xa31)],'y':_0x427d9b[_0x1bfb9f(0xbde)][0x1]['clientY']}),_0x6bb7f7=getMidpoint({'x':_0x427d9b['touches'][0x0][_0x1bfb9f(0xa31)],'y':_0x427d9b[_0x1bfb9f(0xbde)][0x0][_0x1bfb9f(0x553)]},{'x':_0x427d9b['touches'][0x1][_0x1bfb9f(0xa31)],'y':_0x427d9b[_0x1bfb9f(0xbde)][0x1]['clientY']}),_0x5e50b1=_0x1510ab/ initialPinchDistance,_0x375e7c=Math['min'](Math['max'](scratchpadScale*_0x5e50b1,MIN_SCALE),MAX_SCALE),_0x2ed2c4=_0x6bb7f7['x']-panStart['x'],_0x2de48e=_0x6bb7f7['y']-panStart['y'];scratchpadOffset['x']=_0x6bb7f7['x']-(_0x6bb7f7['x']-scratchpadOffset['x'])*(_0x375e7c/scratchpadScale),scratchpadOffset['y']=_0x6bb7f7['y']-(_0x6bb7f7['y']-scratchpadOffset['y'])*(_0x375e7c/scratchpadScale),scratchpadOffset['x']+=_0x2ed2c4,scratchpadOffset['y']+=_0x2de48e,scratchpadScale=_0x375e7c,initialPinchDistance=_0x1510ab,panStart=_0x6bb7f7,redrawScratchpad();}}}else{if(isMousePanning){const _0x1c49f6=_0x427d9b[_0x1bfb9f(0xa31)]-panStart['x'],_0x5a54b0=_0x427d9b[_0x1bfb9f(0x553)]-panStart['y'];scratchpadOffset['x']+=_0x1c49f6,scratchpadOffset['y']+=_0x5a54b0,panStart={'x':_0x427d9b[_0x1bfb9f(0xa31)],'y':_0x427d9b[_0x1bfb9f(0x553)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5b6e0f=getTransformedPoint(_0x427d9b[_0x1bfb9f(0xa31)]-_0x4ff6c7['left'],_0x427d9b[_0x1bfb9f(0x553)]-_0x4ff6c7[_0x1bfb9f(0xc3f)]);currentStroke['points']['push'](_0x5b6e0f),redrawScratchpad();}}}}function handlePointerUp(_0x23dc4e){const _0x535621=_0x6a7885;_0x23dc4e[_0x535621(0x306)]();const _0x5aa864=scratchpadCtx[_0x535621(0x8c8)];isMousePanning&&(isMousePanning=![],_0x5aa864[_0x535621(0x882)][_0x535621(0x91a)]=_0x535621(0x796)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x535621(0xd9f)][_0x535621(0xbc8)]>0x1&&(strokes[_0x535621(0x586)](currentStroke),currentStroke[_0x535621(0x79b)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3a115c=_0x535621,_0x2c9cf6=strokes[_0x3a115c(0xcae)](_0x5c3824=>_0x5c3824['tool']===_0x3a115c(0xc7e)&&!_0x5c3824[_0x3a115c(0xb06)]);if(_0x2c9cf6['length']>0x0){const _0x4ab832=Date[_0x3a115c(0x7f3)]();_0x2c9cf6[_0x3a115c(0x79a)](_0x289900=>_0x289900[_0x3a115c(0xb06)]=_0x4ab832),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4e8add){const _0xe3e4d4=_0x6a7885;_0x4e8add[_0xe3e4d4(0x306)]();const _0x285cc7=_0x4e8add[_0xe3e4d4(0xc59)]*-0.005,_0x397b80=Math['min'](Math[_0xe3e4d4(0xbf8)](scratchpadScale+_0x285cc7,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4e8add[_0xe3e4d4(0xa31)]-(_0x4e8add[_0xe3e4d4(0xa31)]-scratchpadOffset['x'])*(_0x397b80/scratchpadScale),scratchpadOffset['y']=_0x4e8add['clientY']-(_0x4e8add[_0xe3e4d4(0x553)]-scratchpadOffset['y'])*(_0x397b80/scratchpadScale),scratchpadScale=_0x397b80,redrawScratchpad();}function undo(){const _0x53d245=_0x6a7885;strokes[_0x53d245(0xbc8)]>0x0&&(redoStrokes[_0x53d245(0x586)](strokes[_0x53d245(0x1fa)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x369c1b=_0x6a7885;redoStrokes[_0x369c1b(0xbc8)]>0x0&&(strokes[_0x369c1b(0x586)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4979fa=_0x6a7885;document[_0x4979fa(0x52a)](_0x4979fa(0x533))[_0x4979fa(0x459)]=strokes[_0x4979fa(0xbc8)]===0x0,document[_0x4979fa(0x52a)](_0x4979fa(0xaf4))[_0x4979fa(0x459)]=redoStrokes['length']===0x0;}function openScratchpad(_0x5dfed0,_0x59ea66){const _0xd8a162=_0x6a7885,_0x317d7b=document[_0xd8a162(0x52a)](_0xd8a162(0x5ff)),_0x3bc1bb=document[_0xd8a162(0x52a)](_0xd8a162(0x9fb)),_0x304e87=document[_0xd8a162(0x52a)](_0xd8a162(0x4a9)),_0x44c886=document[_0xd8a162(0x52a)](_0xd8a162(0x27e));_0x3bc1bb[_0xd8a162(0xd3c)]=_0x5dfed0[_0xd8a162(0xdbf)]||_0x5dfed0[_0xd8a162(0xc82)],_0x304e87[_0xd8a162(0xd3c)]=_0x59ea66['map']((_0x135235,_0xe2ca1f)=>_0xd8a162(0x497)+String[_0xd8a162(0xdae)](0x41+_0xe2ca1f)+'.\x20'+_0x135235+_0xd8a162(0x5b3))[_0xd8a162(0x35d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x317d7b[_0xd8a162(0x817)]['remove'](_0xd8a162(0x68d)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0xd8a162(0x787)]([_0x3bc1bb,_0x304e87]);}function openBlueprintQuizSettings(){const _0x351136=_0x6a7885,_0x410545=document[_0x351136(0x52a)](_0x351136(0xa91)),_0x55863b=blueprintPageSettings||(currentProjectData?currentProjectData[_0x351136(0x727)]:{})||{};document[_0x351136(0x52a)]('bp-modal-quiz-type-select')[_0x351136(0x3c4)]=_0x55863b['quizType']||document[_0x351136(0x52a)](_0x351136(0x1ff))[_0x351136(0x3c4)],document['getElementById'](_0x351136(0x22e))[_0x351136(0xd3c)]=document[_0x351136(0x52a)](_0x351136(0xc08))[_0x351136(0xd3c)],document['getElementById']('bp-modal-difficulty-level-select')[_0x351136(0x3c4)]=_0x55863b[_0x351136(0x40e)]||document['getElementById'](_0x351136(0xc08))[_0x351136(0x3c4)],document[_0x351136(0x52a)]('bp-modal-question-complexity-select')[_0x351136(0xd3c)]=document['getElementById'](_0x351136(0x5a9))[_0x351136(0xd3c)],document[_0x351136(0x52a)](_0x351136(0xb15))['value']=_0x55863b['complexityValue']||document['getElementById'](_0x351136(0x5a9))['value'],document['getElementById'](_0x351136(0x74b))[_0x351136(0x3c4)]=_0x55863b[_0x351136(0x611)]||document['getElementById'](_0x351136(0xb20))[_0x351136(0x3c4)],document[_0x351136(0x52a)]('bp-modal-passing-score-input')[_0x351136(0x3c4)]=_0x55863b[_0x351136(0xa3d)]||document[_0x351136(0x52a)](_0x351136(0xbea))[_0x351136(0x3c4)],document['getElementById'](_0x351136(0x485))[_0x351136(0x3c4)]=_0x55863b[_0x351136(0x1c8)]||document['getElementById']('num-choices')['value'],document[_0x351136(0x52a)](_0x351136(0x657))[_0x351136(0x3c4)]=_0x55863b[_0x351136(0x413)]||document[_0x351136(0x52a)](_0x351136(0x8ac))[_0x351136(0x3c4)],document[_0x351136(0x52a)](_0x351136(0x5cc))['checked']=_0x55863b['includeImages']||document[_0x351136(0x52a)](_0x351136(0x78c))[_0x351136(0x9a3)],_0x410545['classList'][_0x351136(0xb2b)](_0x351136(0x68d));}function handleSaveBlueprintPageSettings(){const _0x2cd104=_0x6a7885;blueprintPageSettings={'quizType':document['getElementById'](_0x2cd104(0xb5a))[_0x2cd104(0x3c4)],'difficultyValue':document[_0x2cd104(0x52a)]('bp-modal-difficulty-level-select')[_0x2cd104(0x3c4)],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')['value'],'numQuestions':document[_0x2cd104(0x52a)](_0x2cd104(0x74b))[_0x2cd104(0x3c4)],'passingScore':document['getElementById'](_0x2cd104(0x947))['value'],'numChoices':document[_0x2cd104(0x52a)]('bp-modal-num-choices')[_0x2cd104(0x3c4)],'shuffle':document[_0x2cd104(0x52a)](_0x2cd104(0x657))[_0x2cd104(0x3c4)],'includeImages':document[_0x2cd104(0x52a)]('bp-modal-include-images-checkbox')[_0x2cd104(0x9a3)]},showMessage(_0x2cd104(0x3e3)),document[_0x2cd104(0x52a)](_0x2cd104(0xa91))[_0x2cd104(0x817)]['add'](_0x2cd104(0x68d));}function listenForParallelTestShortcuts(){const _0x54cdca=_0x6a7885,_0x5afc63=doc(db,'globalSettings',_0x54cdca(0xc29));onSnapshot(_0x5afc63,_0x49c5d7=>{const _0xb4da0b=_0x54cdca;let _0x590610=[],_0x3abaad=[],_0x564220={};if(_0x49c5d7['exists']()){const _0x5bbb61=_0x49c5d7['data']();_0x590610=_0x5bbb61['shortcuts']||[],_0x3abaad=_0x5bbb61[_0xb4da0b(0x760)]||[],_0x564220=_0x5bbb61[_0xb4da0b(0x7c7)]||{};}!_0x3abaad[_0xb4da0b(0x8c7)](_0x2a8ec1=>_0x2a8ec1['id']===_0xb4da0b(0xdd0))&&_0x3abaad[_0xb4da0b(0x367)]({'id':_0xb4da0b(0xdd0),'name':_0xb4da0b(0xccb),'isDefault':!![]}),!_0x590610[_0xb4da0b(0x8c7)](_0x2c1305=>_0x2c1305['id']==='parallel-default-1')&&_0x590610[_0xb4da0b(0x367)]({'id':_0xb4da0b(0x865),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x590610['find'](_0xb04005=>_0xb04005['id']===_0xb4da0b(0x655))&&_0x590610[_0xb4da0b(0x367)]({'id':_0xb4da0b(0x655),'name':_0xb4da0b(0xdc8),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x590610,parallelShortcutTabs=_0x3abaad,parallelShortcutOrder=_0x564220,renderParallelTestShortcuts(),!document[_0xb4da0b(0x52a)](_0xb4da0b(0x5d3))[_0xb4da0b(0x817)][_0xb4da0b(0x7e7)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x325b21=_0x6a7885,_0x3f5e9b=doc(db,'globalSettings',_0x325b21(0xc29));try{await setDoc(_0x3f5e9b,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x23a157){console['error']('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x23a157);}}function renderAdditionalParallelShortcutsModal(){const _0x1ddfcf=_0x6a7885,_0x5b6ad6=document[_0x1ddfcf(0x52a)](_0x1ddfcf(0xa36)),_0x43f7e2=document[_0x1ddfcf(0x52a)](_0x1ddfcf(0x6aa));if(!_0x5b6ad6||!_0x43f7e2)return;_0x5b6ad6[_0x1ddfcf(0xd3c)]=parallelShortcutTabs[_0x1ddfcf(0x8cc)](_0x5e12e3=>{const _0x35631a=_0x1ddfcf,_0x161d93=_0x5e12e3['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5e12e3['id']+_0x35631a(0xc9c)+(_0x161d93?_0x35631a(0x209):_0x35631a(0x9ff))+_0x35631a(0xbe2)+_0x5e12e3[_0x35631a(0xae4)]+_0x35631a(0xd05)+_0x5e12e3[_0x35631a(0xae4)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5e12e3[_0x35631a(0xb43)]?_0x35631a(0x22f)+_0x5e12e3['id']+_0x35631a(0x656):'')+_0x35631a(0x662);})[_0x1ddfcf(0x35d)]('');const _0x1fb81d=parallelShortcutTabs[_0x1ddfcf(0x8c7)](_0x5b5223=>_0x5b5223['id']===activeParallelShortcutTabId);let _0x5dc5eb=_0x1fb81d?.[_0x1ddfcf(0xb43)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x472d59=>(_0x1fb81d?.[_0x1ddfcf(0x416)]||[])[_0x1ddfcf(0x317)](_0x472d59['id']));const _0x27c513=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5dc5eb[_0x1ddfcf(0xd66)]((_0x569439,_0x4a7030)=>{const _0x2b6d18=_0x1ddfcf,_0x50881e=_0x27c513[_0x2b6d18(0x4a3)](_0x569439['id']),_0x293278=_0x27c513[_0x2b6d18(0x4a3)](_0x4a7030['id']);return(_0x50881e===-0x1?Infinity:_0x50881e)-(_0x293278===-0x1?Infinity:_0x293278);}),_0x43f7e2[_0x1ddfcf(0xd3c)]=_0x5dc5eb['map'](_0x5bb6d7=>{const _0x8f7817=_0x1ddfcf,_0x58fb11=_0x5bb6d7['url']?'🔁':'🔗',_0x3123e2=parallelShortcutTabs[_0x8f7817(0xcae)](_0x4ce97f=>!_0x4ce97f[_0x8f7817(0xb43)]),_0x26f397=_0x1fb81d[_0x8f7817(0xb43)]&&_0x3123e2[_0x8f7817(0xbc8)]>0x0?_0x8f7817(0x89a)+_0x3123e2[_0x8f7817(0x8cc)](_0x4d87cb=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x5bb6d7['id']+_0x8f7817(0x60f)+_0x4d87cb['id']+'\x22>'+_0x4d87cb[_0x8f7817(0xae4)]+_0x8f7817(0x9c9))[_0x8f7817(0x35d)]('')+_0x8f7817(0x513):'';return _0x8f7817(0x4ff)+_0x5bb6d7['id']+_0x8f7817(0x811)+_0x58fb11+'\x20'+_0x5bb6d7[_0x8f7817(0xae4)]+_0x8f7817(0x81c)+_0x5bb6d7['id']+_0x8f7817(0x90a)+_0x5bb6d7['id']+_0x8f7817(0xa51)+(!_0x5bb6d7[_0x8f7817(0xb43)]?_0x8f7817(0x3d3)+_0x5bb6d7['id']+_0x8f7817(0xb00):'')+_0x8f7817(0x571)+(!_0x1fb81d[_0x8f7817(0xb43)]?_0x8f7817(0xcc1)+_0x5bb6d7['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x8f7817(0x571)+_0x26f397+_0x8f7817(0x3d6);})[_0x1ddfcf(0x35d)]('')||_0x1ddfcf(0x256),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x35c89f=_0x6a7885;document[_0x35c89f(0x7b3)](_0x35c89f(0x3ff))['forEach'](_0x33f4d8=>{const _0x27b06b=_0x35c89f;_0x33f4d8['onclick']=_0x11b6c4=>{const _0x29003f=_0x380e;activeParallelShortcutTabId=_0x11b6c4[_0x29003f(0xcb2)][_0x29003f(0xba5)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x33f4d8[_0x27b06b(0x457)]=_0xe8c356=>{const _0x590d67=_0x27b06b,_0x91990b=_0xe8c356[_0x590d67(0xcb2)][_0x590d67(0x390)](_0x590d67(0xac3));_0xe8c356[_0x590d67(0xcb2)][_0x590d67(0x390)]('.tab-name-display')[_0x590d67(0x817)][_0x590d67(0x642)](_0x590d67(0x68d)),_0x91990b['classList'][_0x590d67(0xb2b)](_0x590d67(0x68d)),_0x91990b['focus'](),_0x91990b[_0x590d67(0xac0)]();};}),document[_0x35c89f(0x7b3)](_0x35c89f(0xbec))[_0x35c89f(0x79a)](_0x3bbfaa=>{const _0x215d4e=_0x35c89f,_0x3a69ee=()=>{const _0x1c92ac=_0x380e,_0x30ed35=_0x3bbfaa[_0x1c92ac(0xdda)](_0x1c92ac(0x3ff))['dataset']['tabId'],_0x58c4d7=parallelShortcutTabs[_0x1c92ac(0x8c7)](_0xfa1c5e=>_0xfa1c5e['id']===_0x30ed35);_0x58c4d7&&(_0x58c4d7['name']=_0x3bbfaa[_0x1c92ac(0x3c4)][_0x1c92ac(0x797)]()||_0x58c4d7['name'],saveParallelShortcutConfig());};_0x3bbfaa['onblur']=_0x3a69ee,_0x3bbfaa[_0x215d4e(0x21b)]=_0x46fd87=>{const _0x176c71=_0x215d4e;if(_0x46fd87[_0x176c71(0x7b8)]===_0x176c71(0x37d))_0x3bbfaa[_0x176c71(0x4cb)]();};}),document[_0x35c89f(0x7b3)](_0x35c89f(0x989))[_0x35c89f(0x79a)](_0x57d536=>_0x57d536[_0x35c89f(0x4cd)]=_0x51aafd=>{const _0x1617db=_0x35c89f,_0x4299ae=_0x51aafd[_0x1617db(0xcb2)][_0x1617db(0xba5)]['tabId'];showConfirmation(_0x1617db(0x5ca),()=>{const _0x1c5189=_0x1617db;parallelShortcutTabs=parallelShortcutTabs[_0x1c5189(0xcae)](_0x326787=>_0x326787['id']!==_0x4299ae),delete parallelShortcutOrder[_0x4299ae];if(activeParallelShortcutTabId===_0x4299ae)activeParallelShortcutTabId=_0x1c5189(0xdd0);saveParallelShortcutConfig();});}),document[_0x35c89f(0x7b3)](_0x35c89f(0x5e0))['forEach'](_0x5ccb17=>_0x5ccb17['onclick']=_0x3d17ed=>{const _0x315c44=_0x35c89f;_0x3d17ed[_0x315c44(0x306)]();const {shortcutId:_0x3ab3cb,targetTabId:_0x13f9e6}=_0x3d17ed[_0x315c44(0xcb2)]['dataset'],_0x2c74d9=parallelShortcutTabs[_0x315c44(0x8c7)](_0x1da01c=>_0x1da01c['id']===_0x13f9e6);_0x2c74d9&&!_0x2c74d9[_0x315c44(0x416)][_0x315c44(0x317)](_0x3ab3cb)&&(_0x2c74d9[_0x315c44(0x416)]['push'](_0x3ab3cb),saveParallelShortcutConfig());}),document[_0x35c89f(0x7b3)](_0x35c89f(0x42d))[_0x35c89f(0x79a)](_0x3aa0f2=>_0x3aa0f2[_0x35c89f(0x4cd)]=_0x22b85a=>{const _0x32c87e=_0x35c89f,_0x4de0d8=_0x22b85a[_0x32c87e(0xcb2)][_0x32c87e(0xba5)][_0x32c87e(0xd36)],_0x1678af=parallelShortcutTabs[_0x32c87e(0x8c7)](_0x1f3734=>_0x1f3734['id']===activeParallelShortcutTabId);_0x1678af&&!_0x1678af[_0x32c87e(0xb43)]&&(_0x1678af[_0x32c87e(0x416)]=_0x1678af[_0x32c87e(0x416)][_0x32c87e(0xcae)](_0x2aac01=>_0x2aac01!==_0x4de0d8),saveParallelShortcutConfig());}),document[_0x35c89f(0x7b3)](_0x35c89f(0x604))[_0x35c89f(0x79a)](_0x4a2bdc=>_0x4a2bdc['onclick']=_0x571c85=>{const _0x1df313=_0x35c89f;_0x571c85['stopPropagation']();const _0xaf4a14=_0x571c85[_0x1df313(0xcb2)][_0x1df313(0xc6c)];document[_0x1df313(0x7b3)]('.move-parallel-shortcut-dropdown')[_0x1df313(0x79a)](_0x206496=>_0x206496[_0x1df313(0x817)][_0x1df313(0x642)](_0x1df313(0x68d))),_0xaf4a14[_0x1df313(0x817)][_0x1df313(0xb2b)](_0x1df313(0x68d));});const _0x154b7d=document[_0x35c89f(0x52a)]('additional-parallel-shortcuts-list');let _0x53b83e=null;_0x154b7d[_0x35c89f(0xade)]=_0x16f862=>{const _0x1fb486=_0x35c89f;_0x53b83e=_0x16f862[_0x1fb486(0x45d)][_0x1fb486(0xdda)](_0x1fb486(0x6a1));if(_0x53b83e)setTimeout(()=>_0x53b83e[_0x1fb486(0x817)]['add'](_0x1fb486(0x5cd)),0x0);},_0x154b7d[_0x35c89f(0xbbc)]=()=>{const _0x2c176b=_0x35c89f;_0x53b83e&&(_0x53b83e[_0x2c176b(0x817)][_0x2c176b(0xb2b)](_0x2c176b(0x5cd)),_0x53b83e=null);},_0x154b7d['ondragover']=_0x2dfcc9=>{const _0x283fe7=_0x35c89f;_0x2dfcc9[_0x283fe7(0x306)]();},_0x154b7d[_0x35c89f(0xde5)]=_0x456e62=>{const _0x1ed955=_0x35c89f;_0x456e62[_0x1ed955(0x306)]();if(_0x53b83e){const _0x45c047=[..._0x154b7d[_0x1ed955(0x7b3)]('.shortcut-list-item:not(.opacity-50)')][_0x1ed955(0xb90)]((_0x3c3c4e,_0x45f2a9)=>{const _0x2696b8=_0x1ed955,_0x18c045=_0x45f2a9[_0x2696b8(0x940)](),_0x572685=_0x456e62[_0x2696b8(0x553)]-_0x18c045[_0x2696b8(0xc3f)]-_0x18c045[_0x2696b8(0x7a4)]/0x2;return _0x572685<0x0&&_0x572685>_0x3c3c4e[_0x2696b8(0x505)]?{'offset':_0x572685,'element':_0x45f2a9}:_0x3c3c4e;},{'offset':Number[_0x1ed955(0x669)]})[_0x1ed955(0x574)];_0x45c047==null?_0x154b7d[_0x1ed955(0x7c1)](_0x53b83e):_0x154b7d[_0x1ed955(0xc57)](_0x53b83e,_0x45c047);const _0x2ab63d=[..._0x154b7d[_0x1ed955(0x7b3)](_0x1ed955(0x6a1))][_0x1ed955(0x8cc)](_0x46a839=>_0x46a839[_0x1ed955(0xba5)][_0x1ed955(0xd36)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x2ab63d,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4d44d0=_0x6a7885,_0x12910d=prompt(_0x4d44d0(0x609),_0x4d44d0(0x98a));_0x12910d&&_0x12910d[_0x4d44d0(0x797)]()&&(parallelShortcutTabs[_0x4d44d0(0x586)]({'id':_0x4d44d0(0xcea)+Date[_0x4d44d0(0x7f3)](),'name':_0x12910d[_0x4d44d0(0x797)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xe4dd5a=_0x6a7885,_0x39aa1c=document[_0xe4dd5a(0x52a)](_0xe4dd5a(0x1f7)),_0x1d76df=document[_0xe4dd5a(0x52a)](_0xe4dd5a(0x6aa)),_0x1e0061=document[_0xe4dd5a(0x52a)](_0xe4dd5a(0x8bc));if(_0x1e0061)_0x1e0061[_0xe4dd5a(0x817)][_0xe4dd5a(0x642)]('hidden');if(!_0x39aa1c||!_0x1d76df)return;const _0x88e766=parallelTestShortcuts['slice'](0x0,0x4),_0x3d83a8=parallelTestShortcuts[_0xe4dd5a(0x98c)](0x4);_0x39aa1c[_0xe4dd5a(0xd3c)]=_0x88e766[_0xe4dd5a(0x8cc)](_0x406149=>{const _0x2c52fc=_0xe4dd5a,_0x571bd8=_0x406149[_0x2c52fc(0x24d)]&&_0x406149['url']['trim']()!=='',_0x2feaeb=_0x571bd8?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x2c52fc(0x4d6),_0x3e3e0c=_0x571bd8?'🔁':'🔗',_0x485f14=!_0x406149[_0x2c52fc(0xb43)]?_0x2c52fc(0x3d3)+_0x406149['id']+_0x2c52fc(0xad9):'';return _0x2c52fc(0xb7a)+_0x406149['id']+_0x2c52fc(0x239)+_0x2feaeb+_0x2c52fc(0xd6f)+_0x3e3e0c+'\x20'+_0x406149[_0x2c52fc(0xae4)]+_0x2c52fc(0x6b7)+_0x406149['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x485f14+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xe4dd5a(0x35d)](''),_0x3d83a8[_0xe4dd5a(0xbc8)]>0x0&&(_0x39aa1c[_0xe4dd5a(0xd3c)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3d83a8[_0xe4dd5a(0xbc8)]>0x0?_0x1d76df['innerHTML']=_0x3d83a8['map'](_0x5d9f64=>_0xe4dd5a(0x53d)+(_0x5d9f64[_0xe4dd5a(0x24d)]?'🔁':'🔗')+'\x20'+_0x5d9f64['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5d9f64['id']+_0xe4dd5a(0xddf)+_0x5d9f64['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5d9f64['isDefault']?_0xe4dd5a(0x3d3)+_0x5d9f64['id']+_0xe4dd5a(0xb00):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xe4dd5a(0x35d)](''):_0x1d76df[_0xe4dd5a(0xd3c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0xfd8259=null){const _0x14dab9=_0x6a7885,_0x414bfa=document[_0x14dab9(0x52a)](_0x14dab9(0x853)),_0x23fa9c=document[_0x14dab9(0x52a)](_0x14dab9(0x64e)),_0x38e312=document[_0x14dab9(0x52a)](_0x14dab9(0xa50)),_0x5d6d45=document['getElementById'](_0x14dab9(0x9c0)),_0x2f62e8=document[_0x14dab9(0x52a)](_0x14dab9(0xae0));if(_0xfd8259){const _0x5e7cd6=parallelTestShortcuts[_0x14dab9(0x8c7)](_0x5e1a70=>_0x5e1a70['id']===_0xfd8259);if(!_0x5e7cd6)return;_0x23fa9c['textContent']=_0x14dab9(0x9b5),_0x38e312['value']=_0x5e7cd6['id'],_0x5d6d45[_0x14dab9(0x3c4)]=_0x5e7cd6['name'],_0x2f62e8[_0x14dab9(0x3c4)]=_0x5e7cd6['url']||'';}else _0x23fa9c[_0x14dab9(0x675)]=_0x14dab9(0xb23),_0x38e312['value']='',_0x5d6d45['value']='',_0x2f62e8[_0x14dab9(0x3c4)]='';_0x414bfa[_0x14dab9(0x817)][_0x14dab9(0xb2b)](_0x14dab9(0x68d));}async function saveParallelTestShortcutChanges(){const _0x1bcbde=_0x6a7885,_0x6fe75d=document[_0x1bcbde(0x52a)](_0x1bcbde(0xa50))[_0x1bcbde(0x3c4)],_0x2623df=document[_0x1bcbde(0x52a)](_0x1bcbde(0x9c0))['value'][_0x1bcbde(0x797)](),_0x53efbc=document[_0x1bcbde(0x52a)](_0x1bcbde(0xae0))[_0x1bcbde(0x3c4)]['trim']();if(!_0x2623df){showMessage(_0x1bcbde(0xc36));return;}const _0x3432d3={'id':_0x6fe75d||_0x1bcbde(0x624)+Date[_0x1bcbde(0x7f3)](),'name':_0x2623df,'url':_0x53efbc,'isDefault':_0x6fe75d[_0x1bcbde(0xa13)]('parallel-default-')};let _0x1ab9cd;_0x6fe75d?_0x1ab9cd=parallelTestShortcuts['map'](_0x3f5fc7=>_0x3f5fc7['id']===_0x6fe75d?_0x3432d3:_0x3f5fc7):_0x1ab9cd=[...parallelTestShortcuts,_0x3432d3];try{const _0x34a8b7=doc(db,_0x1bcbde(0x3e0),_0x1bcbde(0xc29));await setDoc(_0x34a8b7,{'shortcuts':_0x1ab9cd},{'merge':!![]}),document[_0x1bcbde(0x52a)](_0x1bcbde(0x853))['classList'][_0x1bcbde(0x642)](_0x1bcbde(0x68d));}catch(_0x394985){console[_0x1bcbde(0xc4f)]('Error\x20saving\x20parallel\x20shortcut:',_0x394985),showMessage(_0x1bcbde(0x783));}}async function handleParallelTestShortcutClick(_0x3e65ca){const _0x443732=_0x6a7885,_0x29bed7=parallelTestShortcuts['find'](_0x1a9717=>_0x1a9717['id']===_0x3e65ca);if(!_0x29bed7)return;if(!_0x29bed7[_0x443732(0x24d)]||_0x29bed7['url']['trim']()===''){openParallelTestShortcutEditor(_0x3e65ca);return;}const _0x15adc6=document[_0x443732(0x52a)](_0x443732(0x845)),_0x5e7456=document['getElementById'](_0x443732(0x862));document[_0x443732(0x52a)](_0x443732(0x4c2))[_0x443732(0x817)][_0x443732(0xb2b)](_0x443732(0x68d)),document[_0x443732(0x52a)](_0x443732(0x25a))[_0x443732(0xd3c)]='',_0x15adc6['classList'][_0x443732(0xb2b)](_0x443732(0x68d)),_0x5e7456[_0x443732(0x675)]=_0x443732(0x7c0);try{let _0x1a85c0;_0x29bed7[_0x443732(0x24d)][_0x443732(0x476)]()[_0x443732(0x317)](_0x443732(0x594))?_0x1a85c0='source_document.txt':_0x1a85c0=_0x443732(0x2f5);const _0x584e7d=await fetchFileFromUrl(_0x29bed7['url'],_0x1a85c0);await handleGenerateParallelTest(_0x584e7d);}catch(_0x356f14){console[_0x443732(0xc4f)](_0x443732(0x9e6),_0x356f14),showMessage(_0x443732(0xc44)+_0x356f14[_0x443732(0xacb)]),_0x15adc6['classList'][_0x443732(0x642)](_0x443732(0x68d));}}function initializeScratchpadCanvas(){const _0x3bb3ff=_0x6a7885,_0x2726f1=document['getElementById'](_0x3bb3ff(0x5dd)),_0x5b6959=document[_0x3bb3ff(0x390)](_0x3bb3ff(0x42f));if(!_0x2726f1||!_0x5b6959)return;scratchpadCtx=_0x2726f1[_0x3bb3ff(0xaf3)]('2d',{'willReadFrequently':!![]});const _0x5941ef=window[_0x3bb3ff(0x428)]||0x1,_0x5a82ce=_0x5b6959[_0x3bb3ff(0x940)]();_0x2726f1[_0x3bb3ff(0x761)]=_0x5a82ce['width']*_0x5941ef,_0x2726f1[_0x3bb3ff(0x7a4)]=_0x5a82ce[_0x3bb3ff(0x7a4)]*_0x5941ef,_0x2726f1['style'][_0x3bb3ff(0x761)]=_0x5a82ce[_0x3bb3ff(0x761)]+'px',_0x2726f1['style'][_0x3bb3ff(0x7a4)]=_0x5a82ce['height']+'px',scratchpadCtx['scale'](_0x5941ef,_0x5941ef),scratchpadCtx[_0x3bb3ff(0x257)]=_0x3bb3ff(0xa82),scratchpadCtx[_0x3bb3ff(0xd37)]=_0x3bb3ff(0xa82),_0x2726f1[_0x3bb3ff(0x5b6)](_0x3bb3ff(0x898),handlePointerDown),_0x2726f1[_0x3bb3ff(0x5b6)]('pointermove',handlePointerMove),_0x2726f1[_0x3bb3ff(0x5b6)](_0x3bb3ff(0xa83),handlePointerUp),_0x2726f1[_0x3bb3ff(0x5b6)]('pointercancel',handlePointerUp),_0x2726f1[_0x3bb3ff(0x5b6)]('wheel',handleWheel),_0x2726f1['removeEventListener']('touchstart',handlePointerDown),_0x2726f1[_0x3bb3ff(0x5b6)](_0x3bb3ff(0x820),handlePointerMove),_0x2726f1[_0x3bb3ff(0x5b6)](_0x3bb3ff(0xae5),handlePointerUp),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0x898),handlePointerDown),_0x2726f1[_0x3bb3ff(0x6dd)]('pointermove',handlePointerMove),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0xa83),handlePointerUp),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0x1cf),handlePointerUp),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0xdeb),handleWheel,{'passive':![]}),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0xb1f),handlePointerDown,{'passive':![]}),_0x2726f1[_0x3bb3ff(0x6dd)](_0x3bb3ff(0x820),handlePointerMove,{'passive':![]}),_0x2726f1['addEventListener'](_0x3bb3ff(0xae5),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3dde61=_0x6a7885,_0x5751f0=document[_0x3dde61(0x52a)](_0x3dde61(0x5ff)),_0x4d445a=document[_0x3dde61(0x52a)](_0x3dde61(0x27e));_0x4d445a[_0x3dde61(0xd3c)]=_0x3dde61(0xd61)+scratchpadHighlighterSize+_0x3dde61(0xc89);const _0x51ce9e=document['getElementById'](_0x3dde61(0x5c7)),_0x11c38b=document['getElementById'](_0x3dde61(0x3be)),_0x21f13d=document[_0x3dde61(0x52a)]('trail-tool-btn'),_0x1a5faa=document['getElementById']('highlighter-tool-btn'),_0x49ba3c=document[_0x3dde61(0x52a)](_0x3dde61(0x994)),_0x2b6d29=document[_0x3dde61(0x52a)](_0x3dde61(0xc19)),_0x4031a1=document[_0x3dde61(0x52a)]('eraser-tools-group'),_0x4eba49=[_0x51ce9e,_0x11c38b,_0x21f13d,_0x1a5faa];document['getElementById'](_0x3dde61(0x8f6))[_0x3dde61(0x6dd)]('click',()=>_0x5751f0[_0x3dde61(0x817)][_0x3dde61(0x642)](_0x3dde61(0x68d))),document['getElementById'](_0x3dde61(0x708))[_0x3dde61(0x6dd)](_0x3dde61(0x564),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3dde61(0x52a)](_0x3dde61(0x723))[_0x3dde61(0x6dd)](_0x3dde61(0x564),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x3dde61(0x533))[_0x3dde61(0x6dd)](_0x3dde61(0x564),undo),document['getElementById']('redo-btn')[_0x3dde61(0x6dd)]('click',redo);const _0x57a657=_0x29498c=>{const _0x5b6b82=_0x3dde61;_0x4eba49[_0x5b6b82(0x79a)](_0x2c28ea=>_0x2c28ea['classList'][_0x5b6b82(0xb2b)]('active')),_0x29498c[_0x5b6b82(0x817)]['add'](_0x5b6b82(0x7ec)),_0x49ba3c[_0x5b6b82(0x817)][_0x5b6b82(0x642)](_0x5b6b82(0x68d)),_0x2b6d29[_0x5b6b82(0x817)][_0x5b6b82(0x642)]('hidden'),_0x4031a1[_0x5b6b82(0x817)][_0x5b6b82(0x642)](_0x5b6b82(0x68d));if(activeTool==='pen'||activeTool===_0x5b6b82(0xc7e))_0x49ba3c['classList'][_0x5b6b82(0xb2b)](_0x5b6b82(0x68d));else{if(activeTool==='highlighter')_0x2b6d29[_0x5b6b82(0x817)]['remove'](_0x5b6b82(0x68d));else activeTool===_0x5b6b82(0xcce)&&_0x4031a1[_0x5b6b82(0x817)][_0x5b6b82(0xb2b)]('hidden');}};_0x51ce9e['addEventListener'](_0x3dde61(0x564),()=>{const _0x3adc22=_0x3dde61;activeTool=_0x3adc22(0x5d6),_0x57a657(_0x51ce9e);}),_0x11c38b[_0x3dde61(0x6dd)](_0x3dde61(0x564),()=>{const _0x3aef7d=_0x3dde61;activeTool=_0x3aef7d(0xcce),_0x57a657(_0x11c38b);}),_0x21f13d[_0x3dde61(0x6dd)]('click',()=>{activeTool='trail',_0x57a657(_0x21f13d);}),_0x1a5faa[_0x3dde61(0x6dd)](_0x3dde61(0x564),()=>{activeTool='highlighter',_0x57a657(_0x1a5faa);}),_0x49ba3c[_0x3dde61(0x7b3)](_0x3dde61(0xcd0))[_0x3dde61(0x79a)](_0x4e0380=>{const _0x374a0a=_0x3dde61;_0x4e0380['addEventListener'](_0x374a0a(0x564),_0x505256=>{const _0x5caa31=_0x374a0a;scratchpadPenSize=parseInt(_0x505256[_0x5caa31(0x45d)][_0x5caa31(0xba5)]['size'],0xa),_0x49ba3c['querySelectorAll'](_0x5caa31(0xcd0))['forEach'](_0x3cace8=>_0x3cace8[_0x5caa31(0x817)][_0x5caa31(0xb2b)]('active')),_0x505256[_0x5caa31(0x45d)]['classList'][_0x5caa31(0x642)]('active');});}),_0x4031a1[_0x3dde61(0x7b3)](_0x3dde61(0x389))[_0x3dde61(0x79a)](_0x5c149f=>{const _0x3a05d0=_0x3dde61;_0x5c149f[_0x3a05d0(0x6dd)](_0x3a05d0(0x564),_0x5db9ab=>{const _0x33ec44=_0x3a05d0,_0x50ecbf=_0x5db9ab['currentTarget'];scratchpadEraserSize=parseInt(_0x50ecbf[_0x33ec44(0xba5)]['size'],0xa),_0x4031a1[_0x33ec44(0x7b3)](_0x33ec44(0x389))[_0x33ec44(0x79a)](_0x140054=>_0x140054[_0x33ec44(0x817)][_0x33ec44(0xb2b)]('active')),_0x50ecbf[_0x33ec44(0x817)][_0x33ec44(0x642)](_0x33ec44(0x7ec));});}),_0x49ba3c[_0x3dde61(0x7b3)](_0x3dde61(0xbbd))[_0x3dde61(0x79a)](_0x48f3f4=>{const _0x3b918d=_0x3dde61;_0x48f3f4[_0x3b918d(0x6dd)](_0x3b918d(0x564),_0x8f80f8=>{const _0x8fbb13=_0x3b918d;scratchpadPenColor=_0x8f80f8[_0x8fbb13(0x45d)]['dataset'][_0x8fbb13(0xb37)],_0x49ba3c[_0x8fbb13(0x7b3)](_0x8fbb13(0xbbd))['forEach'](_0x305207=>_0x305207['classList'][_0x8fbb13(0xb2b)](_0x8fbb13(0x7ec))),_0x8f80f8[_0x8fbb13(0x45d)]['classList'][_0x8fbb13(0x642)](_0x8fbb13(0x7ec));});}),_0x2b6d29['querySelectorAll']('.highlighter-color-btn')[_0x3dde61(0x79a)](_0x24b49c=>{const _0x1ac067=_0x3dde61;_0x24b49c[_0x1ac067(0x6dd)]('click',_0xab49a1=>{const _0x467326=_0x1ac067;scratchpadHighlighterColor=_0xab49a1[_0x467326(0x45d)]['dataset'][_0x467326(0xb37)],_0x2b6d29['querySelectorAll']('.highlighter-color-btn')['forEach'](_0x4be0ee=>_0x4be0ee[_0x467326(0x817)][_0x467326(0xb2b)](_0x467326(0x7ec))),_0xab49a1[_0x467326(0x45d)]['classList'][_0x467326(0x642)](_0x467326(0x7ec));});});const _0xda20cd=document[_0x3dde61(0x52a)](_0x3dde61(0x842)),_0x346cd4=document[_0x3dde61(0x52a)](_0x3dde61(0x20e));_0xda20cd['addEventListener'](_0x3dde61(0x53a),_0x27477c=>{const _0x14ff76=_0x3dde61,_0x303335=parseInt(_0x27477c[_0x14ff76(0x45d)][_0x14ff76(0x3c4)],0xa);scratchpadHighlighterSize=_0x303335,_0x346cd4[_0x14ff76(0x675)]=_0x303335;}),window[_0x3dde61(0x6dd)](_0x3dde61(0x444),()=>{const _0xa983c0=_0x3dde61;!_0x5751f0[_0xa983c0(0x817)][_0xa983c0(0x7e7)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x6a7885(0x5ee),'name':_0x6a7885(0x744),'description':_0x6a7885(0x425),'icon':_0x6a7885(0xccc)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x6a7885(0x37f),'description':_0x6a7885(0x964),'icon':_0x6a7885(0x8ea)},'ON_FIRE':{'id':_0x6a7885(0x2bb),'name':_0x6a7885(0x9a5),'description':_0x6a7885(0xbf7),'icon':_0x6a7885(0xdf3)},'FIRST_TRY_ACE':{'id':_0x6a7885(0x73f),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x6a7885(0x5da)},'COMEBACK_KING':{'id':_0x6a7885(0x3f4),'name':_0x6a7885(0xce7),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x6a7885(0x7a9)},'SPECIALIST':{'id':_0x6a7885(0xb45),'name':_0x6a7885(0x8d2),'description':_0x6a7885(0xc55),'icon':_0x6a7885(0xd69)},'PERSEVERANCE':{'id':_0x6a7885(0x74e),'name':_0x6a7885(0xc45),'description':_0x6a7885(0x3af),'icon':_0x6a7885(0x75d)}},firebaseConfig={'apiKey':_0x6a7885(0x3a6),'authDomain':_0x6a7885(0x698),'projectId':_0x6a7885(0x520),'storageBucket':_0x6a7885(0x202),'messagingSenderId':_0x6a7885(0x512),'appId':_0x6a7885(0x7bf),'measurementId':_0x6a7885(0x8d9)},appId=typeof __app_id!=='undefined'?__app_id:_0x6a7885(0xcb4),adminView=document[_0x6a7885(0x52a)](_0x6a7885(0x22c)),studentView=document[_0x6a7885(0x52a)]('student-view'),projectDashboardView=document[_0x6a7885(0x52a)](_0x6a7885(0xa49)),projectDetailView=document[_0x6a7885(0x52a)](_0x6a7885(0x86c)),quizResultsView=document[_0x6a7885(0x52a)](_0x6a7885(0x1d0)),projectList=document[_0x6a7885(0x52a)](_0x6a7885(0x68c)),noProjectsMsg=document[_0x6a7885(0x52a)]('no-projects-msg'),projectTitle=document[_0x6a7885(0x52a)](_0x6a7885(0x7e9)),projectIdDisplay=document[_0x6a7885(0x52a)]('project-id-display'),studentList=document[_0x6a7885(0x52a)](_0x6a7885(0x962)),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0x6a7885(0x52a)]('modal-message'),createProjectModal=document[_0x6a7885(0x52a)]('create-project-modal'),adminPasswordModal=document[_0x6a7885(0x52a)]('admin-password-modal'),confirmationModal=document[_0x6a7885(0x52a)](_0x6a7885(0xda2)),userIdDisplay=document[_0x6a7885(0x52a)](_0x6a7885(0xc33)),topicTab=document[_0x6a7885(0x52a)](_0x6a7885(0x36a)),textTab=document[_0x6a7885(0x52a)](_0x6a7885(0x918)),topicInputArea=document[_0x6a7885(0x52a)](_0x6a7885(0x25b)),textInputArea=document[_0x6a7885(0x52a)](_0x6a7885(0x1e2)),manageTab=document[_0x6a7885(0x52a)](_0x6a7885(0x5fe)),resultsTab=document[_0x6a7885(0x52a)](_0x6a7885(0xd1a)),leaderboardTab=document[_0x6a7885(0x52a)](_0x6a7885(0x7cb)),manageTabContent=document[_0x6a7885(0x52a)](_0x6a7885(0xc66)),resultsTabContent=document[_0x6a7885(0x52a)](_0x6a7885(0x839)),leaderboardTabContent=document['getElementById'](_0x6a7885(0x45f)),projectQuizzesList=document[_0x6a7885(0x52a)](_0x6a7885(0x997)),fileTab=document[_0x6a7885(0x52a)](_0x6a7885(0x3a9)),fileInputArea=document[_0x6a7885(0x52a)]('file-input-area'),fileUploadInput=document[_0x6a7885(0x52a)](_0x6a7885(0x608)),worksheetTab=document[_0x6a7885(0x52a)](_0x6a7885(0xd32)),worksheetInputArea=document[_0x6a7885(0x52a)](_0x6a7885(0x82f)),generateWorksheetBtn=document['getElementById'](_0x6a7885(0x399)),studentInitialView=document[_0x6a7885(0x52a)](_0x6a7885(0x562)),studentNameSelectionView=document[_0x6a7885(0x52a)](_0x6a7885(0xa6a)),studentQuizArea=document[_0x6a7885(0x52a)](_0x6a7885(0x653)),studentResultArea=document[_0x6a7885(0x52a)](_0x6a7885(0x37b)),studentReadingArea=document[_0x6a7885(0x52a)](_0x6a7885(0x640)),loadQuizBtn=document[_0x6a7885(0x52a)](_0x6a7885(0x5d8)),startQuizBtn=document[_0x6a7885(0x52a)]('start-quiz-btn'),studentJoinGameView=document['getElementById'](_0x6a7885(0x5e6)),presentationModal=document[_0x6a7885(0x52a)](_0x6a7885(0xb58)),renameQuizModal=document[_0x6a7885(0x52a)]('rename-quiz-modal'),moveQuizModal=document['getElementById'](_0x6a7885(0x64c)),quizSettingsModal=document[_0x6a7885(0x52a)](_0x6a7885(0x547)),quizStatusModal=document[_0x6a7885(0x52a)](_0x6a7885(0x549)),liveGameView=document[_0x6a7885(0x52a)](_0x6a7885(0x284));function handleFixLessonLatex(){const _0x116e57=_0x6a7885,_0x239abd=document[_0x116e57(0x52a)](_0x116e57(0x404));if(!_0x239abd){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x44dad7=_0x239abd[_0x116e57(0x7b3)]([_0x116e57(0xd94),_0x116e57(0x683),_0x116e57(0x35b),_0x116e57(0xa3c),_0x116e57(0xa18)][_0x116e57(0x35d)](','));let _0x2eb591=0x0;const _0x5a2d35=_0x3542d1=>_0x3542d1['textContent']||'',_0x19f180=(_0x83b9c,_0x2f799f)=>{const _0x25b02d=_0x116e57;if(_0x83b9c[_0x25b02d(0x390)]&&_0x83b9c[_0x25b02d(0x390)]('mjx-container'))return;_0x83b9c['textContent']=_0x2f799f;},_0x42740d=_0x4b2abe=>_0x4b2abe[_0x116e57(0xb64)](/\u00A0/g,'\x20')[_0x116e57(0xb64)](/\u200B/g,'')[_0x116e57(0xb64)](/\r\n?/g,'\x0a'),_0x233265=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x13d85d=_0x9b8278=>{const _0x12dc1e=_0x116e57;let _0x324f32=_0x9b8278['trim']();const _0x55de9b=[_0x12dc1e(0x2b1),_0x12dc1e(0x981),_0x12dc1e(0x5b4),'sqrt','text',_0x12dc1e(0x582),_0x12dc1e(0x25c),_0x12dc1e(0x848),_0x12dc1e(0x6a7),_0x12dc1e(0x4d2),'le','ge','neq','pm',_0x12dc1e(0x84e),'sin',_0x12dc1e(0x268),_0x12dc1e(0xceb),_0x12dc1e(0xba9),'ln','sum',_0x12dc1e(0xabe),'binom',_0x12dc1e(0xd24),'right',_0x12dc1e(0x4bd),_0x12dc1e(0x205),'circ',_0x12dc1e(0x23a)];_0x55de9b[_0x12dc1e(0x79a)](_0x49ec4c=>{const _0x535de0=_0x12dc1e;_0x324f32=_0x324f32['replace'](new RegExp(_0x535de0(0xb32)+_0x49ec4c+'\x5cb','g'),(_0x4e07a0,_0x5e3a1f)=>_0x5e3a1f+'\x5c'+_0x49ec4c);});const _0x559fee=[[/×/g,'\x5ctimes'],[/·/g,_0x12dc1e(0xba7)],[/÷/g,'\x5cdiv'],[/≤/g,_0x12dc1e(0x864)],[/≥/g,_0x12dc1e(0x449)],[/≠/g,_0x12dc1e(0xace)],[/±/g,'\x5cpm'],[/∑/g,_0x12dc1e(0x304)],[/−/g,'-']];return _0x559fee[_0x12dc1e(0x79a)](([_0x48322d,_0x3700ab])=>{_0x324f32=_0x324f32['replace'](_0x48322d,_0x3700ab);}),_0x324f32=_0x324f32['replace'](/√\s*([A-Za-z0-9]+)/g,_0x12dc1e(0xdbc)),_0x324f32=_0x324f32[_0x12dc1e(0xb64)](/(\d+)\s*%/g,'$1\x5c%'),_0x324f32;},_0x57f39b=_0x14d085=>{const _0x4d92f0=_0x116e57;if(/\$|\\\(|\\\[/[_0x4d92f0(0xd29)](_0x14d085))return _0x14d085;if(!_0x233265['test'](_0x14d085))return _0x14d085;const _0x366869=_0x14d085[_0x4d92f0(0x42b)](/^\s*/)[0x0],_0x171de5=_0x14d085[_0x4d92f0(0x42b)](/\s*$/)[0x0],_0x15b85c=_0x14d085['trim']();return _0x366869+'$'+_0x13d85d(_0x15b85c)+'$'+_0x171de5;};_0x44dad7['forEach'](_0x1c807e=>{const _0x3a52f5=_0x116e57,_0x301820=_0x5a2d35(_0x1c807e);let _0x4996f9=_0x42740d(_0x301820);_0x4996f9=_0x4996f9[_0x3a52f5(0xb64)](/\$([^$]*?)\$/g,(_0x46d3b6,_0x1c77ed)=>'$'+_0x13d85d(_0x1c77ed)+'$');const _0x1b6c99=_0x4996f9[_0x3a52f5(0x3c3)](/(\s+)/),_0xfbdacc=_0x1b6c99[_0x3a52f5(0x8cc)](_0xf12792=>{if(/\s+/['test'](_0xf12792))return _0xf12792;return _0x57f39b(_0xf12792);});_0x4996f9=_0xfbdacc[_0x3a52f5(0x35d)](''),_0x4996f9!==_0x301820&&(_0x19f180(_0x1c807e,_0x4996f9),_0x2eb591++);});if(_0x2eb591>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x2eb591+'\x20จุดเรียบร้อยแล้ว');try{window['MathJax']&&MathJax[_0x116e57(0x787)]&&MathJax[_0x116e57(0x787)]([_0x239abd]);}catch(_0x514fac){console[_0x116e57(0xc4f)](_0x116e57(0xbf9),_0x514fac);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x299359=_0x6a7885,_0x5ebeef=document['getElementById'](_0x299359(0x960))||document,_0x50ee6a=_0x5ebeef[_0x299359(0x7b3)](_0x299359(0x85b));let _0x23f0a7=0x0;const _0x317d1b=_0x2cb1dc=>'value'in _0x2cb1dc?String(_0x2cb1dc[_0x299359(0x3c4)]):_0x2cb1dc['innerText']!==undefined?_0x2cb1dc[_0x299359(0x652)]:_0x2cb1dc['textContent']||'',_0x3f8d2b=(_0x5a4f83,_0x13080b)=>{const _0x2078ff=_0x299359;if(_0x2078ff(0x3c4)in _0x5a4f83){_0x5a4f83['value']=_0x13080b;return;}if(_0x5a4f83[_0x2078ff(0x390)]&&_0x5a4f83[_0x2078ff(0x390)]('mjx-container'))return;if(_0x5a4f83[_0x2078ff(0x652)]!==undefined)_0x5a4f83[_0x2078ff(0x652)]=_0x13080b;else _0x5a4f83[_0x2078ff(0x675)]=_0x13080b;},_0x4a6385=_0xa7d817=>_0xa7d817['replace'](/\u00A0/g,'\x20')[_0x299359(0xb64)](/\u200B/g,'')[_0x299359(0xb64)](/\r\n?/g,'\x0a'),_0x3af838=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x16af26=_0x57de2f=>{const _0x230445=_0x299359;let _0x565aa6=_0x57de2f[_0x230445(0x797)]();_0x565aa6=_0x565aa6[_0x230445(0xb64)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x230445(0x621)),_0x565aa6=_0x565aa6[_0x230445(0xb64)](/\bfrac(\d)(\d)/g,_0x230445(0x621));const _0x182483=[_0x230445(0x2b1),_0x230445(0x6d5),_0x230445(0x582),_0x230445(0x25c),_0x230445(0x848),_0x230445(0x6a7),_0x230445(0x4d2),_0x230445(0x1f9),'pm',_0x230445(0x3b5),_0x230445(0x268),_0x230445(0xceb),'log','ln'];_0x182483[_0x230445(0x79a)](_0x39fbcf=>{const _0x346c76=_0x230445;_0x565aa6=_0x565aa6[_0x346c76(0xb64)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x39fbcf+'\x5cb','g'),(_0x5c4d5,_0x2725ca)=>_0x2725ca+'\x5c'+_0x39fbcf);});const _0x59e985=[[/×/g,'\x5ctimes'],[/·/g,_0x230445(0xba7)],[/÷/g,_0x230445(0xa5a)],[/≤/g,_0x230445(0x864)],[/≥/g,_0x230445(0x449)],[/≠/g,_0x230445(0xace)],[/±/g,_0x230445(0xa2e)]];return _0x59e985[_0x230445(0x79a)](([_0x2ea55c,_0x1df793])=>{const _0x28cecb=_0x230445;_0x565aa6=_0x565aa6[_0x28cecb(0xb64)](_0x2ea55c,_0x1df793);}),_0x565aa6;},_0x23640e=_0x21967e=>{const _0x4c7ba7=_0x299359;if(/\$|\\\(|\\\[/[_0x4c7ba7(0xd29)](_0x21967e))return _0x21967e;if(!_0x3af838['test'](_0x21967e))return _0x21967e;const _0x16d962=_0x21967e[_0x4c7ba7(0x42b)](/^\s*/)[0x0],_0x2b1a0e=_0x21967e[_0x4c7ba7(0x42b)](/\s*$/)[0x0],_0x145eed=_0x21967e[_0x4c7ba7(0x797)]();return _0x16d962+'$'+_0x16af26(_0x145eed)+'$'+_0x2b1a0e;};_0x50ee6a[_0x299359(0x79a)](_0x5dfdd5=>{const _0xb06059=_0x299359,_0x471e07=_0x317d1b(_0x5dfdd5);let _0x4814c3=_0x4a6385(_0x471e07);_0x4814c3=_0x4814c3['replace'](/\$([^$]*?)\$/g,(_0x193201,_0x45159d)=>'$'+_0x16af26(_0x45159d)+'$');const _0x16f225=_0x4814c3[_0xb06059(0x3c3)](/(\s+)/),_0x4d87b2=_0x16f225[_0xb06059(0x8cc)](_0x594228=>/\s+/['test'](_0x594228)?_0x594228:_0x23640e(_0x594228));_0x4814c3=_0x4d87b2[_0xb06059(0x35d)](''),_0x4814c3!==_0x471e07&&(_0x3f8d2b(_0x5dfdd5,_0x4814c3),_0x23f0a7++);});if(_0x23f0a7>0x0){showMessage(_0x299359(0xaff)+_0x23f0a7+_0x299359(0x5ae));try{if(window[_0x299359(0xb46)]&&MathJax[_0x299359(0x787)])MathJax[_0x299359(0x787)]();}catch(_0x5a893a){}}else showMessage(_0x299359(0xa8c));}async function listenForCustomMathTopics(){const _0xc8aa49=_0x6a7885,_0x545e4b=collection(db,_0xc8aa49(0x3c5)+appId+'/public/data/customMathTopics');onSnapshot(_0x545e4b,_0x3d138b=>{const _0x1561cb=_0xc8aa49;customMathTopics=_0x3d138b['docs'][_0x1561cb(0x8cc)](_0x16c059=>({'id':_0x16c059['id'],..._0x16c059[_0x1561cb(0x36d)]()})),renderTopicCheckboxes();},_0x32242c=>{const _0x24ec5f=_0xc8aa49;console['error'](_0x24ec5f(0x71d),_0x32242c);});}function handleSelectAllTopics(){const _0x20e8f8=_0x6a7885,_0x46615c=document[_0x20e8f8(0x52a)](_0x20e8f8(0xd0a)),_0xf9f3ca=_0x46615c[_0x20e8f8(0x7b3)](_0x20e8f8(0x2ac));_0xf9f3ca[_0x20e8f8(0x79a)](_0x37e7a6=>{const _0x5d0fcb=_0x20e8f8;_0x37e7a6[_0x5d0fcb(0x9a3)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x107973=_0x6a7885,_0x46af08=document[_0x107973(0x52a)]('math-topics-checkbox-container'),_0x435abb=_0x46af08[_0x107973(0x7b3)](_0x107973(0x2ac));_0x435abb[_0x107973(0x79a)](_0x3df0f4=>{const _0x1bfd32=_0x107973;_0x3df0f4[_0x1bfd32(0x9a3)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3e6ecf){const _0x2aec81=_0x6a7885;if(!_0x3e6ecf)return;try{const _0x3d4de0=doc(db,_0x2aec81(0x3c5)+appId+_0x2aec81(0x38b),_0x3e6ecf);await deleteDoc(_0x3d4de0),showMessage(_0x2aec81(0x3cd));}catch(_0x5a122b){console[_0x2aec81(0xc4f)](_0x2aec81(0x36b),_0x5a122b),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x59e440=_0x6a7885,_0x318e23=document[_0x59e440(0x52a)](_0x59e440(0x63d)),_0x3dbe2c=_0x318e23['value'][_0x59e440(0x797)]();if(!_0x3dbe2c){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x59e440(0x2f0));return;}try{const _0x3d7cf5=collection(db,_0x59e440(0x3c5)+appId+_0x59e440(0x38b));await addDoc(_0x3d7cf5,{'name':_0x3dbe2c,'createdAt':serverTimestamp()}),_0x318e23[_0x59e440(0x3c4)]='',showMessage(_0x59e440(0x7f2)+_0x3dbe2c+_0x59e440(0xc2e));}catch(_0x4e59f6){console[_0x59e440(0xc4f)](_0x59e440(0x908),_0x4e59f6),showMessage(_0x59e440(0x400));}}async function handleUpdateOldQuizzes(){const _0x3d51ee=_0x6a7885;showConfirmation(_0x3d51ee(0x5ad),async()=>{const _0x192b3f=_0x3d51ee,_0xa6c2ea=document[_0x192b3f(0x52a)](_0x192b3f(0x845)),_0x28c479=document[_0x192b3f(0x52a)](_0x192b3f(0x862)),_0x3e0137=_0x28c479[_0x192b3f(0x675)];_0xa6c2ea[_0x192b3f(0x817)][_0x192b3f(0xb2b)]('hidden'),_0x28c479[_0x192b3f(0x675)]=_0x192b3f(0xb8d);try{const _0xc2ab07=collection(db,_0x192b3f(0x3c5)+appId+'/public/data/quizzes'),_0x60f442=await getDocs(_0xc2ab07);if(_0x60f442[_0x192b3f(0x7b7)]){showMessage(_0x192b3f(0x758));return;}const _0x4a9fd6=writeBatch(db);let _0x4fdc45=0x0;_0x60f442[_0x192b3f(0x79a)](_0x570d27=>{const _0x262279=_0x192b3f,_0x3e38ec=_0x570d27[_0x262279(0x36d)](),_0x2f0578=_0x570d27['id'];if(_0x3e38ec[_0x262279(0x665)]&&_0x3e38ec[_0x262279(0x665)][_0x262279(0xbc8)]>0x0&&!_0x3e38ec['questions'][0x0][_0x262279(0x8fb)]('id')){console['log'](_0x262279(0xcfd)+_0x2f0578+'\x20('+_0x3e38ec[_0x262279(0x801)]+')'),_0x4fdc45++;const _0x574f5d=_0x3e38ec[_0x262279(0x665)]['map']((_0xcee114,_0x485637)=>{const _0x2a11c8=_0x262279;return{..._0xcee114,'id':_0xcee114['id']||'q_'+Date[_0x2a11c8(0x7f3)]()+'_'+_0x2f0578+'_'+_0x485637};}),_0x49ce7c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2f0578);_0x4a9fd6['update'](_0x49ce7c,{'questions':_0x574f5d});}}),_0x4fdc45>0x0?(_0x28c479['textContent']=_0x192b3f(0x7aa)+_0x4fdc45+'\x20รายการ...',await _0x4a9fd6['commit'](),showMessage(_0x192b3f(0x9f5)+_0x4fdc45+_0x192b3f(0x3b4))):showMessage(_0x192b3f(0x378));}catch(_0x508418){console[_0x192b3f(0xc4f)](_0x192b3f(0x410),_0x508418),showMessage(_0x192b3f(0xb4a)+_0x508418[_0x192b3f(0xacb)]);}finally{_0xa6c2ea[_0x192b3f(0x817)][_0x192b3f(0x642)](_0x192b3f(0x68d)),_0x28c479[_0x192b3f(0x675)]=_0x3e0137;}});}async function handleBulkUpdateQuizSettings(){const _0x4d89bd=_0x6a7885,_0x29bb46={'shuffle':document[_0x4d89bd(0x52a)]('bulk-shuffle-select')[_0x4d89bd(0x3c4)],'resultsDisplay':document[_0x4d89bd(0x52a)](_0x4d89bd(0x8c3))[_0x4d89bd(0x3c4)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0x4d89bd(0x9a3)],'isConfidenceScoringEnabled':document[_0x4d89bd(0x52a)](_0x4d89bd(0x368))[_0x4d89bd(0x9a3)],'confidenceMode':document[_0x4d89bd(0x52a)]('bulk-confidence-mode-select')[_0x4d89bd(0x3c4)]};try{showMessage(_0x4d89bd(0xb93));const _0x98b045=await getDocs(collection(db,_0x4d89bd(0x3c5)+appId+_0x4d89bd(0x383))),_0x1c0bb5=_0x98b045['docs'][_0x4d89bd(0x8cc)](_0x76a57d=>({'id':_0x76a57d['id'],'data':_0x76a57d['data']()})),_0x2db242=_0x1c0bb5[_0x4d89bd(0xbc8)];showConfirmation(_0x4d89bd(0xcc0)+_0x2db242+_0x4d89bd(0x785),async()=>{const _0x174d79=_0x4d89bd,_0x2494a7=document[_0x174d79(0x52a)](_0x174d79(0xa11));_0x2494a7[_0x174d79(0x459)]=!![],_0x2494a7[_0x174d79(0xd3c)]=_0x174d79(0xd4c);try{const _0x53635d=writeBatch(db);_0x1c0bb5[_0x174d79(0x79a)](_0x5e75d8=>{const _0x55fe72=_0x174d79,_0x4f43ee=doc(db,'artifacts/'+appId+_0x55fe72(0x383),_0x5e75d8['id']),_0x3354c2={..._0x5e75d8[_0x55fe72(0x36d)][_0x55fe72(0x727)]||{},..._0x29bb46};_0x53635d[_0x55fe72(0xad2)](_0x4f43ee,{'settings':_0x3354c2});}),await _0x53635d[_0x174d79(0x731)](),document[_0x174d79(0x52a)](_0x174d79(0x968))[_0x174d79(0x817)][_0x174d79(0x642)](_0x174d79(0x68d)),showMessage(_0x174d79(0x9fd)+_0x2db242+'\x20ชุดสำเร็จ!');}catch(_0x2538ce){console['error'](_0x174d79(0x3bd),_0x2538ce),showMessage(_0x174d79(0x9e5));}finally{_0x2494a7[_0x174d79(0x459)]=![],_0x2494a7[_0x174d79(0xd3c)]=_0x174d79(0xac7);}});}catch(_0x2ced02){console[_0x4d89bd(0xc4f)](_0x4d89bd(0x812),_0x2ced02),showMessage(_0x4d89bd(0x246));}}async function handleSaveProjectName(){const _0x4c2a12=_0x6a7885,_0x73a834=document[_0x4c2a12(0x52a)]('project-title'),_0x229ad3=document[_0x4c2a12(0x52a)](_0x4c2a12(0xb96)),_0x39df0d=_0x73a834[_0x4c2a12(0x675)][_0x4c2a12(0x797)]();if(!_0x39df0d||!currentProjectId){showMessage(_0x4c2a12(0xc67)),_0x73a834[_0x4c2a12(0x675)]=currentProjectData['projectName'];return;}_0x229ad3['disabled']=!![],_0x229ad3[_0x4c2a12(0xd3c)]=_0x4c2a12(0x371);try{const _0x8aa0c1=doc(db,'artifacts/'+appId+_0x4c2a12(0x880),currentProjectId);await updateDoc(_0x8aa0c1,{'projectName':_0x39df0d}),currentProjectData&&(currentProjectData[_0x4c2a12(0xb0b)]=_0x39df0d),showMessage(_0x4c2a12(0xb02));}catch(_0x1675dd){console[_0x4c2a12(0xc4f)](_0x4c2a12(0x6de),_0x1675dd),showMessage(_0x4c2a12(0x783)),_0x73a834['textContent']=currentProjectData['projectName'];}finally{_0x229ad3[_0x4c2a12(0x817)][_0x4c2a12(0x642)]('hidden'),_0x229ad3[_0x4c2a12(0x459)]=![],_0x229ad3[_0x4c2a12(0xd3c)]=_0x4c2a12(0xa92);}}function handleGeneratePracticeTest(_0xd8d0bc,_0x11d3a9){const _0xa7ee5d=_0x6a7885,_0x30cbe7=document['getElementById'](_0xa7ee5d(0xc39)),_0x1a0be2=document[_0xa7ee5d(0x52a)]('lesson-view-title'),_0x1071b6=document[_0xa7ee5d(0x52a)](_0xa7ee5d(0x46e)),_0x2bc95e=document['getElementById'](_0xa7ee5d(0x3fc));_0x1a0be2[_0xa7ee5d(0x675)]='กำลังสร้างแบบทดสอบ:\x20'+_0xd8d0bc,_0x2bc95e[_0xa7ee5d(0x817)]['add']('hidden'),_0x1071b6[_0xa7ee5d(0x817)][_0xa7ee5d(0xb2b)]('hidden'),_0x30cbe7[_0xa7ee5d(0x817)][_0xa7ee5d(0xb2b)](_0xa7ee5d(0x68d)),generatePracticeTest(_0xd8d0bc,_0x11d3a9)[_0xa7ee5d(0x6a4)](_0x569720=>{const _0x1aa35f=_0xa7ee5d;console['error']('Failed\x20to\x20generate\x20practice\x20test:',_0x569720),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x30cbe7[_0x1aa35f(0x817)][_0x1aa35f(0x642)]('hidden');});}async function generatePracticeTest(_0x58b6da,_0x24a6ea){const _0x40333d=_0x6a7885;[_0x40333d(0x28b),_0x40333d(0x291),_0x40333d(0x870),_0x40333d(0x897)]['forEach'](_0x1d2251=>{const _0x307c61=_0x40333d,_0x319b1f=document[_0x307c61(0x52a)](_0x1d2251)[_0x307c61(0xcc7)];_0x319b1f&&(_0x319b1f[_0x307c61(0x882)][_0x307c61(0x36c)]=_0x307c61(0x3a0));});try{const _0x3ba972=_0x40333d(0x544),_0x5ca2ff=_0x40333d(0xcb3)+_0x24a6ea+_0x40333d(0xa88)+_0x58b6da+_0x40333d(0xa17),_0x1a46c3=await callGemini(_0x5ca2ff,!![]),_0xca9b3c=document[_0x40333d(0x52a)](_0x40333d(0xcca)),_0x4ee91d=document[_0x40333d(0x52a)](_0x40333d(0x46e)),_0x46f07f=document[_0x40333d(0x52a)](_0x40333d(0x3fc)),_0x272faa=document[_0x40333d(0x52a)]('applicationContent')[_0x40333d(0xcc7)];_0xca9b3c[_0x40333d(0x652)]=_0x40333d(0x374)+_0x58b6da[_0x40333d(0xb64)](/•\s/g,'')+_0x40333d(0x56e)+_0x24a6ea+')',currentApplicationData=JSON[_0x40333d(0x975)](_0x1a46c3);const _0x438e9e=document[_0x40333d(0x52a)]('applicationContent');_0x438e9e[_0x40333d(0xd3c)]=currentApplicationData[_0x40333d(0x8cc)]((_0x134e24,_0x32d811)=>_0x40333d(0x285)+(_0x32d811+0x1)+'.\x20'+marked[_0x40333d(0x80b)](_0x134e24[_0x40333d(0xa64)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x32d811+_0x40333d(0xb67)+_0x134e24['options'][_0x40333d(0x8cc)]((_0x402f62,_0x4a3b42)=>_0x40333d(0x1d5)+_0x32d811+',\x20'+_0x4a3b42+_0x40333d(0x76b)+String['fromCharCode'](0x61+_0x4a3b42)+'.\x20'+marked['parseInline'](_0x402f62)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x40333d(0x35d)]('')+_0x40333d(0x1c1))[_0x40333d(0x35d)](''),window[_0x40333d(0xb46)]&&MathJax[_0x40333d(0x787)]([_0x438e9e]),_0x272faa&&(_0x272faa[_0x40333d(0x882)][_0x40333d(0x36c)]='block'),_0x4ee91d[_0x40333d(0x817)][_0x40333d(0x642)](_0x40333d(0x68d)),_0x46f07f[_0x40333d(0x817)][_0x40333d(0xb2b)](_0x40333d(0x68d));}catch(_0x2f88a9){console[_0x40333d(0xc4f)](_0x2f88a9);throw _0x2f88a9;}}async function callGemini(_0x2d46aa,_0x567d5b=![]){const _0x404def=_0x6a7885,_0x26791e=_0x404def(0x983),_0x38977d=_0x404def(0x3df)+_0x26791e,_0x4b8fc1={'contents':[{'parts':[{'text':_0x2d46aa}]}]};_0x567d5b&&(_0x4b8fc1[_0x404def(0x450)]={'responseMimeType':_0x404def(0x5f8)},_0x2d46aa[_0x404def(0x317)](_0x404def(0x61a))?_0x4b8fc1[_0x404def(0x450)][_0x404def(0xc6b)]={'type':_0x404def(0x342),'properties':{'gradeLevel':{'type':_0x404def(0xd50)},'curriculum':{'type':_0x404def(0x3ad),'items':{'type':_0x404def(0x342),'properties':{'sara':{'type':_0x404def(0xd50)},'mainTopics':{'type':_0x404def(0x3ad),'items':{'type':_0x404def(0x342),'properties':{'topicName':{'type':_0x404def(0xd50)},'subTopics':{'type':_0x404def(0x3ad),'items':{'type':_0x404def(0xd50)}}},'required':[_0x404def(0x98b),_0x404def(0x72a)]}}},'required':['sara',_0x404def(0xa79)]}}},'required':[_0x404def(0x8a7),_0x404def(0x6fd)]}:_0x4b8fc1['generationConfig']['responseSchema']={'type':_0x404def(0x3ad),'items':{'type':_0x404def(0x342),'properties':{'question':{'type':_0x404def(0xd50)},'options':{'type':_0x404def(0x3ad),'items':{'type':_0x404def(0xd50)}},'answer':{'type':'NUMBER'}},'required':[_0x404def(0xa64),_0x404def(0xd99),'answer']}});try{const _0x5af079=await fetch(_0x38977d,{'method':_0x404def(0x3a4),'headers':{'Content-Type':_0x404def(0x5f8)},'body':JSON[_0x404def(0x20d)](_0x4b8fc1)});if(!_0x5af079['ok']){const _0x3b08c1=await _0x5af079[_0x404def(0xc1c)]();console[_0x404def(0xc4f)](_0x404def(0x252),_0x3b08c1);throw new Error(_0x404def(0x1f5)+_0x5af079[_0x404def(0xc96)]);}const _0x2ae442=await _0x5af079[_0x404def(0x77b)]();if(_0x2ae442[_0x404def(0x49d)]&&_0x2ae442[_0x404def(0x49d)][0x0]['content']&&_0x2ae442['candidates'][0x0][_0x404def(0x63c)][_0x404def(0xdb5)][0x0])return _0x2ae442[_0x404def(0x49d)][0x0]['content'][_0x404def(0xdb5)][0x0][_0x404def(0xc1c)];else{console[_0x404def(0xc4f)]('Unexpected\x20API\x20response\x20structure:',_0x2ae442);if(_0x2ae442[_0x404def(0x49d)]&&_0x2ae442[_0x404def(0x49d)][0x0][_0x404def(0x5f6)]===_0x404def(0x928))return JSON['stringify']({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x404def(0xc26));}}catch(_0x582371){console[_0x404def(0xc4f)](_0x404def(0x82b),_0x582371);throw _0x582371;}}async function generateLesson(_0x961fd0=null,_0x53c988=null){const _0x21e76d=_0x6a7885,_0xf56869=_0x961fd0,_0x2a306b=_0x53c988||_0x21e76d(0xd73),_0x54bbee=document[_0x21e76d(0x52a)](_0x21e76d(0x46e)),_0x3a5529=document[_0x21e76d(0x52a)]('lesson-loader-text');_0x3a5529[_0x21e76d(0x675)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0xf56869+_0x21e76d(0x9ef);try{let _0x2a8863=[];const _0x308232=document['getElementById'](_0x21e76d(0x5f5))?.[_0x21e76d(0x3c4)][_0x21e76d(0x797)]();if(_0x308232)try{_0x3a5529[_0x21e76d(0x675)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x5d53c3=await fetchFileFromUrl(_0x308232,_0x21e76d(0xa07)),_0x3b29bf=await new Promise((_0x259b03,_0x2aa6d7)=>{const _0x193751=_0x21e76d,_0x58d717=new FileReader();_0x58d717[_0x193751(0x203)](_0x5d53c3),_0x58d717['onload']=()=>_0x259b03(_0x58d717['result'][_0x193751(0x3c3)](',')[0x1]),_0x58d717[_0x193751(0x1e0)]=_0x2aa6d7;});_0x2a8863[_0x21e76d(0x586)]({'inlineData':{'mimeType':_0x5d53c3[_0x21e76d(0x6c9)],'data':_0x3b29bf}});}catch(_0x6134fd){console[_0x21e76d(0xc4f)](_0x21e76d(0x8f4),_0x6134fd),showMessage(_0x21e76d(0x822));}const _0x38d8b6=_0x21e76d(0xb0e)+_0xf56869+_0x21e76d(0xb8c)+_0xf56869+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x3a5529[_0x21e76d(0x675)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0xf56869+_0x21e76d(0x9ef);const _0x58af1e=_0x21e76d(0xd92)+_0x2a306b+_0x21e76d(0xa88)+_0xf56869+_0x21e76d(0x616)+_0x38d8b6+_0x21e76d(0x592),_0x1ac35b=_0x21e76d(0xd10)+_0xf56869+_0x21e76d(0x578)+_0x2a306b+_0x21e76d(0xd54)+_0x38d8b6+_0x21e76d(0x1e3),_0x2c2099=_0x21e76d(0xcb3)+_0x2a306b+'\x27\x20ในหัวข้อ\x20\x27'+_0xf56869+_0x21e76d(0x658)+_0x38d8b6+_0x21e76d(0xc77),_0x58e82b='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0xf56869+_0x21e76d(0x7a6)+_0x2a306b+_0x21e76d(0xdd1)+_0x38d8b6+_0x21e76d(0xca5),_0x382807={'type':_0x21e76d(0x3ad),'items':{'type':_0x21e76d(0x342),'properties':{'question':{'type':'STRING'},'options':{'type':_0x21e76d(0x3ad),'items':{'type':_0x21e76d(0xd50)}},'answer':{'type':_0x21e76d(0xa4b)}},'required':[_0x21e76d(0xa64),_0x21e76d(0xd99),'answer']}},[_0x3efd89,_0x4bb8d0,_0x13d094,_0x5974ba]=await Promise[_0x21e76d(0xdd0)]([handleApiCall([{'text':_0x58af1e},..._0x2a8863],'...',null,null,![]),handleApiCall([{'text':_0x1ac35b},..._0x2a8863],_0x21e76d(0xced),null,null,![]),handleApiCall([{'text':_0x2c2099},..._0x2a8863],'...',_0x382807,null,![]),handleApiCall([{'text':_0x58e82b},..._0x2a8863],'...',null,null,![])]),_0x3b6912=JSON['stringify'](_0x13d094||[]),_0x4c71b4=document[_0x21e76d(0x52a)](_0x21e76d(0xcca)),_0x329b03=document[_0x21e76d(0x52a)](_0x21e76d(0x3fc));_0x4c71b4[_0x21e76d(0x652)]=_0x21e76d(0x795)+_0xf56869[_0x21e76d(0xb64)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x2a306b+')',[_0x21e76d(0x28b),_0x21e76d(0x291),_0x21e76d(0x897)][_0x21e76d(0x79a)](_0x55ca23=>{const _0x35e657=_0x21e76d;document[_0x35e657(0x52a)](_0x55ca23)[_0x35e657(0xd3c)]='';}),document[_0x21e76d(0x52a)]('pointContent')['innerHTML']=_0x3efd89?marked[_0x21e76d(0x975)](_0x3efd89):_0x21e76d(0x376),document[_0x21e76d(0x52a)](_0x21e76d(0x291))['innerHTML']=_0x4bb8d0?marked['parse'](_0x4bb8d0):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById'](_0x21e76d(0x897))[_0x21e76d(0xd3c)]=_0x5974ba?marked[_0x21e76d(0x975)](_0x5974ba):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x21e76d(0x975)](_0x3b6912);const _0x3bacbe=document['getElementById'](_0x21e76d(0x870));_0x3bacbe['innerHTML']=(currentApplicationData||[])[_0x21e76d(0x8cc)]((_0x1dc858,_0x5f1507)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5f1507+0x1)+'.\x20'+marked[_0x21e76d(0x80b)](_0x1dc858[_0x21e76d(0xa64)]||'')+_0x21e76d(0x80d)+_0x5f1507+_0x21e76d(0xb67)+(_0x1dc858['options']||[])[_0x21e76d(0x8cc)]((_0x27cc3f,_0x31c74a)=>_0x21e76d(0x1d5)+_0x5f1507+',\x20'+_0x31c74a+_0x21e76d(0x76b)+String['fromCharCode'](0x61+_0x31c74a)+'.\x20'+marked['parseInline'](_0x27cc3f||'')+_0x21e76d(0xcac))[_0x21e76d(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x21e76d(0x35d)]('')||_0x21e76d(0x3a8),window['MathJax']&&MathJax[_0x21e76d(0x787)]([_0x329b03]),_0x54bbee['classList'][_0x21e76d(0x642)](_0x21e76d(0x68d)),_0x329b03[_0x21e76d(0x817)][_0x21e76d(0xb2b)]('hidden');}catch(_0x1dde9a){console[_0x21e76d(0xc4f)](_0x1dde9a);throw _0x1dde9a;}}function checkAnswer(_0x30f722,_0x182e0a){const _0x24277e=_0x6a7885,_0x969c08=currentApplicationData[_0x30f722],_0x3c7c67=document[_0x24277e(0x52a)]('q'+_0x30f722+_0x24277e(0xb83)),_0x2900e9=_0x3c7c67[_0x24277e(0x4af)](_0x24277e(0xa62));for(let _0x18409f of _0x2900e9){_0x18409f['disabled']=!![];}_0x182e0a===_0x969c08[_0x24277e(0xc86)]?_0x2900e9[_0x182e0a][_0x24277e(0x817)][_0x24277e(0x642)](_0x24277e(0x78a)):(_0x2900e9[_0x182e0a][_0x24277e(0x817)][_0x24277e(0x642)](_0x24277e(0x89c)),_0x2900e9[_0x969c08['answer']][_0x24277e(0x817)]['add'](_0x24277e(0x78a)));}window[_0x6a7885(0xb9c)]=handleGenerateAndShowLesson,window[_0x6a7885(0x7ab)]=checkAnswer,window[_0x6a7885(0xd6b)]=handleGeneratePracticeTest,window[_0x6a7885(0x493)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x42470c=_0x6a7885;try{const _0x17e5e9=initializeApp(firebaseConfig);db=getFirestore(_0x17e5e9),auth=getAuth(_0x17e5e9),setupAuthListener(),setupEventListeners(),showView(_0x42470c(0xa0e)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3e56fa){console[_0x42470c(0xc4f)]('Firebase\x20initialization\x20failed:',_0x3e56fa),showMessage(_0x42470c(0x4bf));}}async function handleVerifyAnswersInEditor(){const _0x25661c=_0x6a7885,_0x264f83=document[_0x25661c(0x52a)](_0x25661c(0xa7b));if(!_0x264f83)return;const _0x1d8d15=document['getElementById'](_0x25661c(0xda3));_0x1d8d15[_0x25661c(0x459)]=!![],_0x1d8d15[_0x25661c(0xd3c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x258c13=_0x264f83['querySelectorAll'](_0x25661c(0x2b7)),_0x56f3e8=Array[_0x25661c(0x568)](_0x258c13)['map']((_0x23832b,_0x588edc)=>{const _0x5ccc3a=_0x25661c,_0x5a538a=_0x23832b[_0x5ccc3a(0xba5)][_0x5ccc3a(0x442)],_0x292a47=_0x23832b[_0x5ccc3a(0x390)](_0x5ccc3a(0x407))[_0x5ccc3a(0x3c4)];let _0x1555fa=null,_0x574e7e='';switch(_0x5a538a){case _0x5ccc3a(0xa3b):const _0x3c4c9f=_0x23832b[_0x5ccc3a(0x7b3)](_0x5ccc3a(0x8f9));_0x1555fa=Array[_0x5ccc3a(0x568)](_0x3c4c9f)['map'](_0x45dc61=>_0x45dc61[_0x5ccc3a(0x3c4)]);const _0x409ad0=_0x23832b[_0x5ccc3a(0x390)](_0x5ccc3a(0x638));_0x409ad0&&(_0x574e7e=_0x1555fa[parseInt(_0x409ad0[_0x5ccc3a(0x3c4)])]);break;case _0x5ccc3a(0x247):_0x1555fa=[],_0x574e7e=_0x23832b[_0x5ccc3a(0x390)]('.ideal-answer-input')[_0x5ccc3a(0x3c4)];break;case _0x5ccc3a(0x3f6):_0x1555fa=[_0x5ccc3a(0xb54),_0x5ccc3a(0x238)];const _0x70860a=_0x23832b[_0x5ccc3a(0x390)](_0x5ccc3a(0x638));_0x574e7e=_0x70860a?_0x70860a[_0x5ccc3a(0x3c4)]:'';break;case'matching_item':_0x1555fa=[],_0x574e7e=_0x23832b['querySelector'](_0x5ccc3a(0x1cd))[_0x5ccc3a(0x3c4)];break;}return{'question':_0x292a47,'options':_0x1555fa,'proposedAnswer':_0x574e7e};}),_0x37556b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x25661c(0x20d)](_0x56f3e8)+_0x25661c(0x8af),_0x555963={'type':'ARRAY','items':{'type':_0x25661c(0x342),'properties':{'questionIndex':{'type':_0x25661c(0xa4b)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x25661c(0xd50)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x25661c(0xd50)},'newOptionsPayload':{'type':_0x25661c(0x342),'properties':{'newOptions':{'type':_0x25661c(0x3ad),'items':{'type':_0x25661c(0xd50)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x25661c(0xc69),_0x25661c(0x7d3),_0x25661c(0x922)]}},_0x3eec74=await callAnalysisApi(_0x37556b,{'type':_0x25661c(0x342),'properties':{'result':_0x555963},'required':['result']});displayVerificationResultsInEditor(_0x3eec74[_0x25661c(0xded)]);}catch(_0x48e4a4){console[_0x25661c(0xc4f)](_0x25661c(0x62f),_0x48e4a4),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x1d8d15[_0x25661c(0x459)]=![],_0x1d8d15[_0x25661c(0xd3c)]=_0x25661c(0x516);}}function displayVerificationResultsInEditor(_0x18522a){const _0x126140=_0x6a7885;_0x18522a[_0x126140(0x79a)](_0x7769be=>{const _0x39ca9f=_0x126140,_0x46b752=document[_0x39ca9f(0x390)](_0x39ca9f(0xc0d)+_0x7769be['questionIndex']+'\x22]');if(!_0x46b752)return;const _0xa5893=_0x46b752[_0x39ca9f(0x390)](_0x39ca9f(0xdb8));if(_0xa5893)_0xa5893[_0x39ca9f(0xb2b)]();let _0x492cb5='';if(_0x7769be[_0x39ca9f(0xa9a)]&&_0x7769be['newOptionsPayload'][_0x39ca9f(0x339)]){const _0x338921=_0x7769be['newOptionsPayload'][_0x39ca9f(0x339)],_0x5ea7f0=_0x7769be[_0x39ca9f(0xa9a)][_0x39ca9f(0x992)],_0x382192=_0x46b752[_0x39ca9f(0xba5)][_0x39ca9f(0x442)];if(_0x382192===_0x39ca9f(0xa3b)){const _0x263022=_0x46b752[_0x39ca9f(0x7b3)](_0x39ca9f(0x8f9));_0x263022[_0x39ca9f(0x79a)]((_0x44f1ed,_0x25ad86)=>{const _0x464b6f=_0x39ca9f;_0x338921[_0x25ad86]?_0x44f1ed[_0x464b6f(0x3c4)]=_0x338921[_0x25ad86]:_0x44f1ed[_0x464b6f(0x3c4)]=_0x464b6f(0x55b);});const _0x4c5fcb=_0x46b752[_0x39ca9f(0x390)](_0x39ca9f(0xa6e)+_0x5ea7f0+'\x22]');_0x4c5fcb&&(_0x4c5fcb['checked']=!![]),_0x492cb5=_0x39ca9f(0xcb0),_0x46b752['classList']['add'](_0x39ca9f(0x8d4),_0x39ca9f(0x1ec),_0x39ca9f(0xb91)),setTimeout(()=>{const _0x255f82=_0x39ca9f;_0x46b752[_0x255f82(0x817)][_0x255f82(0xb2b)](_0x255f82(0x8d4));},0x9c4);}}else{if(!_0x7769be[_0x39ca9f(0x7d3)]&&_0x7769be['suggestedAnswer']){const _0x227fe2=_0x7769be[_0x39ca9f(0x677)]?_0x39ca9f(0xa46):'';_0x492cb5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x227fe2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x7769be[_0x39ca9f(0x922)]+_0x39ca9f(0x501)+(_0x7769be[_0x39ca9f(0x677)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x7769be[_0x39ca9f(0x677)]+_0x39ca9f(0x52b):'')+_0x39ca9f(0xba6);const _0x502daf=_0x46b752[_0x39ca9f(0xba5)][_0x39ca9f(0x442)],_0x192e3c=_0x198202=>{const _0x1db024=_0x39ca9f;if(!_0x198202)return;_0x198202[_0x1db024(0x817)][_0x1db024(0x642)](_0x1db024(0x4b1),'transition-all',_0x1db024(0xb91)),setTimeout(()=>{const _0x12c1fa=_0x1db024;_0x198202[_0x12c1fa(0x817)][_0x12c1fa(0xb2b)](_0x12c1fa(0x4b1));},0x9c4);};if(_0x502daf===_0x39ca9f(0xa3b)){const _0x1aabb3=Array[_0x39ca9f(0x568)](_0x46b752[_0x39ca9f(0x7b3)](_0x39ca9f(0x8f9))),_0x3ece42=_0x1aabb3[_0x39ca9f(0x75c)](_0x57727f=>_0x57727f['value'][_0x39ca9f(0x797)]()[_0x39ca9f(0x476)]()===_0x7769be[_0x39ca9f(0x677)][_0x39ca9f(0x797)]()[_0x39ca9f(0x476)]());if(_0x3ece42!==-0x1){const _0x14c03b=_0x46b752[_0x39ca9f(0x390)]('input[type=\x22radio\x22][value=\x22'+_0x3ece42+'\x22]');_0x14c03b&&(_0x14c03b[_0x39ca9f(0x9a3)]=!![],_0x192e3c(_0x14c03b[_0x39ca9f(0xdda)]('div')));}}else{if(_0x502daf===_0x39ca9f(0x247)||_0x502daf===_0x39ca9f(0x747)){const _0x9697b5=_0x46b752[_0x39ca9f(0x390)](_0x39ca9f(0xcf6));_0x9697b5&&(_0x9697b5['value']=_0x7769be[_0x39ca9f(0x677)],_0x192e3c(_0x9697b5));}else{if(_0x502daf===_0x39ca9f(0x3f6)){const _0x269e1f=_0x7769be[_0x39ca9f(0x677)][_0x39ca9f(0x797)]()[_0x39ca9f(0x476)](),_0xf967dd=_0x46b752[_0x39ca9f(0x390)](_0x39ca9f(0xa6e)+_0x269e1f+'\x22]');_0xf967dd&&(_0xf967dd[_0x39ca9f(0x9a3)]=!![],_0x192e3c(_0xf967dd[_0x39ca9f(0xdda)](_0x39ca9f(0x848))));}}}}else _0x7769be['isCorrect']&&(_0x492cb5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x46b752[_0x39ca9f(0x6d8)](_0x39ca9f(0x3bb),_0x492cb5);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0xdfbada=_0x6a7885;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0xdfbada(0x9a0));return;}const _0x3de04c=document[_0xdfbada(0x52a)](_0xdfbada(0x70f));_0x3de04c['disabled']=!![],_0x3de04c[_0xdfbada(0xd3c)]=_0xdfbada(0xb6b);try{const _0x1a5664=currentQuizData[_0xdfbada(0x665)][_0xdfbada(0x8cc)]((_0x16e1d0,_0x2d9d37)=>{const _0x42e045=_0xdfbada;let _0x15c34e='';const _0x3c0bc4=_0x16e1d0[_0x42e045(0x8c1)]||currentQuizData[_0x42e045(0xafb)];switch(_0x3c0bc4){case _0x42e045(0xa3b):_0x15c34e=_0x16e1d0[_0x42e045(0xd99)][_0x16e1d0[_0x42e045(0x7cc)]];break;case _0x42e045(0x247):_0x15c34e=_0x16e1d0['idealAnswer'];break;case _0x42e045(0x3f6):_0x15c34e=_0x16e1d0['correctAnswer'][_0x42e045(0x443)]();break;case _0x42e045(0x747):_0x15c34e=_0x16e1d0['correctResponse'];break;}return{'question':_0x16e1d0['stem']||_0x16e1d0[_0x42e045(0xc82)],'options':_0x16e1d0[_0x42e045(0xd99)]||null,'proposedAnswer':_0x15c34e};}),_0x3a6493=_0xdfbada(0x637)+JSON[_0xdfbada(0x20d)](_0x1a5664)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x7fa4d6={'type':_0xdfbada(0x3ad),'items':{'type':_0xdfbada(0x342),'properties':{'questionIndex':{'type':_0xdfbada(0xa4b)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xdfbada(0xd50)},'suggestedAnswer':{'type':'STRING'}},'required':[_0xdfbada(0xc69),_0xdfbada(0x7d3),_0xdfbada(0x922)]}},_0x2217e3=await callAnalysisApi(_0x3a6493,{'type':'OBJECT','properties':{'result':_0x7fa4d6},'required':['result']});displayVerificationResults(_0x2217e3[_0xdfbada(0xded)]);}catch(_0x536358){console[_0xdfbada(0xc4f)](_0xdfbada(0xb3f),_0x536358),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3de04c[_0xdfbada(0x459)]=![],_0x3de04c['innerHTML']=_0xdfbada(0x933);}}function displayVerificationResults(_0x288182){const _0x5536f3=_0x6a7885;_0x288182[_0x5536f3(0x79a)](_0x1dd87f=>{const _0x1a7f23=_0x5536f3,_0x50f00a=document[_0x1a7f23(0x390)](_0x1a7f23(0x7ea)+_0x1dd87f['questionIndex']+'\x22]');if(_0x50f00a){const _0x769184=_0x50f00a[_0x1a7f23(0x390)]('.verification-result');if(_0x769184)_0x769184[_0x1a7f23(0xb2b)]();let _0x47fae0='';_0x1dd87f['isCorrect']?_0x47fae0=_0x1a7f23(0x83c):_0x47fae0=_0x1a7f23(0x1d6)+_0x1dd87f[_0x1a7f23(0x922)]+_0x1a7f23(0x803)+(_0x1dd87f['suggestedAnswer']?_0x1a7f23(0x6ba)+_0x1dd87f['suggestedAnswer']+_0x1a7f23(0x52b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x50f00a['insertAdjacentHTML'](_0x1a7f23(0x3bb),_0x47fae0);}}),showMessage(_0x5536f3(0x8b3));}function compareNumericalAnswers(_0x1fccb3,_0x353b45){const _0x16223d=_0x6a7885,_0x15b345=String(_0x1fccb3)[_0x16223d(0xb64)](',','.')[_0x16223d(0xb64)](/[^\d.-]/g,'')[_0x16223d(0x797)](),_0x460559=String(_0x353b45)[_0x16223d(0xb64)](',','.')[_0x16223d(0xb64)](/[^\d.-]/g,'')[_0x16223d(0x797)]();if(_0x15b345===''||_0x460559==='')return![];const _0x364983=parseFloat(_0x15b345),_0x17a592=parseFloat(_0x460559);if(isNaN(_0x364983)||isNaN(_0x17a592))return![];return Math[_0x16223d(0x788)](_0x364983-_0x17a592)<0.001;}function isPotentiallyNumeric(_0x420a70){const _0x25f087=_0x6a7885;if(typeof _0x420a70!==_0x25f087(0xdef)&&typeof _0x420a70!==_0x25f087(0x77c))return![];const _0x3d194b=String(_0x420a70)['replace'](',','.')[_0x25f087(0x797)]();return _0x3d194b!==''&&!isNaN(parseFloat(_0x3d194b))&&isFinite(_0x3d194b);}async function gradeShortAnswer(_0x12a4c7,_0x2eb54a){const _0x4a5779=_0x6a7885,_0x2bf94d=_0x2eb54a['idealAnswer'],_0x156d7=String(_0x12a4c7)['replace'](/\$/g,'')[_0x4a5779(0x797)](),_0x262265=String(_0x2bf94d)['replace'](/\$/g,'')[_0x4a5779(0x797)]();if(_0x156d7[_0x4a5779(0x476)]()===_0x262265[_0x4a5779(0x476)]())return!![];if(isPotentiallyNumeric(_0x156d7)&&isPotentiallyNumeric(_0x262265)){if(compareNumericalAnswers(_0x156d7,_0x262265))return!![];}return console['log'](_0x4a5779(0xb0d)),await gradeShortAnswerWithAI(_0x12a4c7,_0x2bf94d);}async function revealAnswerForAdmin(_0x47f848,_0x2f5752){const _0xda082b=_0x6a7885,_0x1dafbe=doc(db,'artifacts/'+appId+_0xda082b(0x222),currentLiveGameId);await updateDoc(_0x1dafbe,{'questionStatus':_0xda082b(0x4e3)});}function showTop5LeaderboardView(_0x204504){const _0x4c8979=_0x6a7885,_0x3b9b21=Object['values'](_0x204504[_0x4c8979(0xa6d)]||{})['filter'](_0x57d21b=>_0x57d21b[_0x4c8979(0xc96)]===_0x4c8979(0x7ec));_0x3b9b21[_0x4c8979(0xd66)]((_0x581b03,_0x105e14)=>_0x105e14[_0x4c8979(0xb95)]-_0x581b03[_0x4c8979(0xb95)]);const _0x1d0b92=_0x3b9b21[_0x4c8979(0x98c)](0x0,0x5),_0x1bf90d=_0x4c8979(0x2f9)+_0x1d0b92[_0x4c8979(0x8cc)]((_0x87efd2,_0x347f80)=>_0x4c8979(0x5ed)+(_0x347f80+0x1)+'.\x20'+(_0x87efd2[_0x4c8979(0xae4)]||Object[_0x4c8979(0x879)](_0x204504[_0x4c8979(0xa6d)])[_0x4c8979(0x8c7)](_0x1b58ec=>_0x204504[_0x4c8979(0xa6d)][_0x1b58ec]===_0x87efd2))+_0x4c8979(0x9ae)+_0x87efd2[_0x4c8979(0xb95)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4c8979(0x35d)]('')+_0x4c8979(0x42e)+(_0x204504[_0x4c8979(0xbc7)]+0x1===currentQuizData[_0x4c8979(0x665)][_0x4c8979(0xbc8)]?_0x4c8979(0x79f):'ข้อต่อไป')+_0x4c8979(0xb3e);liveGameView[_0x4c8979(0xd3c)]=_0x1bf90d,document['getElementById'](_0x4c8979(0xa5d))['addEventListener'](_0x4c8979(0x564),async()=>{const _0x26b84a=_0x4c8979,_0x1958fd=doc(db,'artifacts/'+appId+_0x26b84a(0x222),currentLiveGameId),_0x3f93eb=_0x204504[_0x26b84a(0xbc7)]+0x1;if(_0x3f93eb<currentQuizData[_0x26b84a(0x665)]['length']){const _0xd2b8ff={'currentQuestionIndex':_0x3f93eb,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x26b84a(0x590)};Object['keys'](_0x204504['players'])[_0x26b84a(0x79a)](_0x2b79ad=>{const _0x20b5cf=_0x26b84a;_0xd2b8ff[_0x20b5cf(0x6a0)+_0x2b79ad+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x1958fd,_0xd2b8ff);}else await updateDoc(_0x1958fd,{'status':_0x26b84a(0x500)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x344750=>{const _0x1805c1=_0x380e;if(_0x344750){userId=_0x344750['uid'],userIdDisplay[_0x1805c1(0x675)]=userId;const _0x20ff26=await loadUserPreferences();_0x20ff26['projectSortOrder']&&(document[_0x1805c1(0x52a)](_0x1805c1(0xbcb))[_0x1805c1(0x3c4)]=_0x20ff26[_0x1805c1(0xbf0)]);globalDashboardSettings[_0x1805c1(0x3f5)]=_0x20ff26[_0x1805c1(0x3f5)]||_0x1805c1(0x412);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0xdcb3cb,_0x803136){const _0x380811=_0x6a7885;if(!userId)return;try{const _0x8ce8f=doc(db,_0x380811(0x3c5)+appId+_0x380811(0x435)+userId+_0x380811(0xa7d)),_0x25aae6={};_0x25aae6[_0xdcb3cb]=_0x803136,await setDoc(_0x8ce8f,_0x25aae6,{'merge':!![]});}catch(_0x5dafbe){console['error'](_0x380811(0x95f),_0x5dafbe);}}async function loadUserPreferences(){const _0x1370d2=_0x6a7885;if(!userId)return{};try{const _0x3e534a=doc(db,_0x1370d2(0x3c5)+appId+_0x1370d2(0x435)+userId+_0x1370d2(0xa7d)),_0x4e1300=await getDoc(_0x3e534a);if(_0x4e1300[_0x1370d2(0xd3f)]())return _0x4e1300[_0x1370d2(0x36d)]();return{};}catch(_0x1b73fa){return console[_0x1370d2(0xc4f)](_0x1370d2(0x8ba),_0x1b73fa),{};}}function parseIndentedBlueprint(_0x52ee0a){const _0x3f5623=_0x6a7885,_0x49de84=_0x52ee0a['split']('\x0a')[_0x3f5623(0xcae)](_0x150afb=>_0x150afb[_0x3f5623(0x797)]()!==''),_0x5f41a3=[];let _0x3a300e=null,_0x41697d=null;return _0x49de84[_0x3f5623(0x79a)](_0x4f93f3=>{const _0x59e3d0=_0x3f5623,_0x10ebe0=_0x4f93f3[_0x59e3d0(0x42b)](/^\s*/)[0x0][_0x59e3d0(0xbc8)],_0x4eca63=_0x4f93f3['trim']();if(_0x10ebe0===0x0)_0x3a300e={'sara':_0x4eca63,'mainTopics':[]},_0x5f41a3['push'](_0x3a300e),_0x41697d=null;else{if(_0x10ebe0>0x0&&_0x10ebe0<0x8&&_0x3a300e)_0x41697d={'topicName':_0x4eca63,'subTopics':[]},_0x3a300e[_0x59e3d0(0xa79)][_0x59e3d0(0x586)](_0x41697d);else _0x10ebe0>=0x8&&_0x41697d&&_0x41697d[_0x59e3d0(0x72a)]['push'](_0x4eca63);}}),{'curriculum':_0x5f41a3};}async function handleManualBlueprintSave(){const _0x3d8159=_0x6a7885,_0x3fb61b=document['getElementById'](_0x3d8159(0xc90))[_0x3d8159(0x3c4)]['trim'](),_0x99d4c8=document[_0x3d8159(0x52a)](_0x3d8159(0xa74))[_0x3d8159(0x3c4)]['trim'](),_0x26e004=document['getElementById']('manual-bp-content')[_0x3d8159(0x3c4)];if(!_0x3fb61b||!_0x99d4c8||!_0x26e004){showMessage(_0x3d8159(0x7f5));return;}const _0x45b736=parseIndentedBlueprint(_0x26e004);if(!_0x45b736[_0x3d8159(0x6fd)]||_0x45b736[_0x3d8159(0x6fd)][_0x3d8159(0xbc8)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x4c923b={};let _0x1e1b95=0x0;_0x45b736[_0x3d8159(0x6fd)][_0x3d8159(0x79a)](_0x2dcb5d=>{const _0x66dd68=_0x3d8159;_0x2dcb5d['mainTopics'][_0x66dd68(0x79a)](_0x1d0452=>{const _0x2fd22e=_0x66dd68;_0x1d0452[_0x2fd22e(0x72a)]['forEach'](_0x3300d6=>{const _0x12443f=_0x2fd22e,_0x265a60=_0x12443f(0x436)+Date['now']()+Math[_0x12443f(0x90b)]()[_0x12443f(0x443)](0x24)['substr'](0x2,0x9);_0x4c923b[_0x265a60]={'sara':_0x2dcb5d[_0x12443f(0x479)],'mainTopic':_0x1d0452[_0x12443f(0x98b)],'subTopic':_0x3300d6,'status':_0x12443f(0xd68),'lessonContent':null,'order':_0x1e1b95++};});});});try{const _0x913030=collection(db,_0x3d8159(0x3c5)+appId+_0x3d8159(0x55f));await addDoc(_0x913030,{'projectName':_0x3fb61b,'gradeLevel':_0x99d4c8,'topics':_0x4c923b,'createdAt':serverTimestamp()}),showMessage(_0x3d8159(0x645)+_0x3fb61b+'\x22\x20สำเร็จ!'),document[_0x3d8159(0x52a)](_0x3d8159(0x828))['classList'][_0x3d8159(0x642)](_0x3d8159(0x68d));}catch(_0x11a945){console['error'](_0x3d8159(0xdee),_0x11a945),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x5e5533){const _0x50f3af=_0x6a7885;showConfirmation(_0x50f3af(0x8d0),async()=>{const _0x36daa0=_0x50f3af;try{const _0x223824=doc(db,_0x36daa0(0x3c5)+appId+_0x36daa0(0x55f),currentBlueprintProjectId);await updateDoc(_0x223824,{['topics.'+_0x5e5533+_0x36daa0(0xaee)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x5e5533),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xd26255){console[_0x36daa0(0xc4f)](_0x36daa0(0xb24),_0xd26255),showMessage(_0x36daa0(0xdfe));}});}function showPodiumView(_0x3f086e,_0x32aff7=_0x6a7885(0xc63)){const _0x46e365=_0x6a7885,_0x34ccf0=Object[_0x46e365(0x7e6)](_0x3f086e)[_0x46e365(0x8cc)](([_0x5bb077,_0xc95416])=>({'name':_0x5bb077,'score':_0xc95416[_0x46e365(0xb95)]||0x0,'badges':_0xc95416[_0x46e365(0x3c9)]||[],'hasPerfectScoreBonus':_0xc95416[_0x46e365(0x837)]||![]}));_0x34ccf0['sort']((_0x418d85,_0x59503d)=>{const _0x2a49b7=_0x46e365,_0x175d8d=_0x59503d['score']-_0x418d85['score'];if(_0x175d8d!==0x0)return _0x175d8d;return(_0x59503d['badges'][_0x2a49b7(0xbc8)]||0x0)-(_0x418d85[_0x2a49b7(0x3c9)][_0x2a49b7(0xbc8)]||0x0);});const _0x1fcec8=_0x27cfd6=>{const _0x1977ab=_0x46e365;if(!_0x27cfd6||_0x27cfd6[_0x1977ab(0xbc8)]===0x0)return'';const _0x896eec={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1977ab(0x4b8)+_0x27cfd6[_0x1977ab(0x8cc)](_0x49fab4=>_0x896eec[_0x49fab4]||'')[_0x1977ab(0x35d)]('')+_0x1977ab(0x5b3);},_0x18c79e=_0x34ccf0['slice'](0x3),_0x4c43f9=_0x18c79e['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18c79e[_0x46e365(0x8cc)]((_0x4b27b1,_0x420f1a)=>{const _0x3757b9=_0x46e365,_0x25eaff=_0x4b27b1[_0x3757b9(0x837)]?_0x3757b9(0xd06):'';return _0x3757b9(0xbb0)+(_0x420f1a+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4b27b1[_0x3757b9(0xae4)]+_0x3757b9(0xc0b)+_0x4b27b1[_0x3757b9(0xb95)]+_0x3757b9(0xa8b)+_0x25eaff+_0x3757b9(0x2e9);})[_0x46e365(0x35d)]('')+_0x46e365(0xad3):'',_0x19614b=_0x46e365(0x22b)+(_0x34ccf0[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x34ccf0[0x1]['name']+_0x46e365(0x52b)+_0x1fcec8(_0x34ccf0[0x1][_0x46e365(0x3c9)])+_0x46e365(0xbe4)+_0x34ccf0[0x1][_0x46e365(0xb95)]+_0x46e365(0xa8b)+(_0x34ccf0[0x1]['hasPerfectScoreBonus']?_0x46e365(0xd08):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x46e365(0x92d))+_0x46e365(0x8af)+(_0x34ccf0[0x0]?_0x46e365(0x422)+_0x34ccf0[0x0][_0x46e365(0xae4)]+_0x46e365(0x52b)+_0x1fcec8(_0x34ccf0[0x0][_0x46e365(0x3c9)])+_0x46e365(0x7ba)+_0x34ccf0[0x0][_0x46e365(0xb95)]+'\x20คะแนน\x20'+(_0x34ccf0[0x0][_0x46e365(0x837)]?_0x46e365(0xd08):'')+_0x46e365(0x535):_0x46e365(0x92d))+_0x46e365(0x8af)+(_0x34ccf0[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x34ccf0[0x2][_0x46e365(0xae4)]+_0x46e365(0x52b)+_0x1fcec8(_0x34ccf0[0x2][_0x46e365(0x3c9)])+_0x46e365(0xbe4)+_0x34ccf0[0x2][_0x46e365(0xb95)]+'\x20คะแนน\x20'+(_0x34ccf0[0x2][_0x46e365(0x837)]?_0x46e365(0xd08):'')+_0x46e365(0x22d):'<div\x20class=\x22flex-1\x22></div>')+_0x46e365(0x406)+_0x4c43f9+_0x46e365(0x6e9)+(currentMode===_0x46e365(0x85e)?_0x46e365(0x48a):_0x46e365(0x77a))+_0x46e365(0x9c1);liveGameView[_0x46e365(0xd3c)]=_0x19614b,currentMode==='admin'&&document[_0x46e365(0x52a)](_0x46e365(0x73c))[_0x46e365(0x6dd)](_0x46e365(0x564),async()=>{const _0x2487de=_0x46e365;let _0x198627;_0x32aff7===_0x2487de(0x5f1)?_0x198627=doc(db,_0x2487de(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId):_0x198627=doc(db,_0x2487de(0x3c5)+appId+_0x2487de(0x222),currentLiveGameId),await deleteDoc(_0x198627);});}function renderSyncSummaryView(_0x1e87a6,_0x11f68b,_0x1019bb){const _0x323244=_0x6a7885,_0x5cf033=_0x1e87a6['gameVariant']||'classic',_0x569e4e=_0x5cf033===_0x323244(0xa9c)&&_0x1e87a6[_0x323244(0xcfc)]===![],_0xdcf068=Object['values'](_0x1e87a6[_0x323244(0xa6d)]||{}),_0x129a2c=_0x1e87a6[_0x323244(0x28a)][_0x323244(0x665)],_0x303e06=_0x11f68b['questionType']||_0x1e87a6[_0x323244(0x28a)][_0x323244(0xafb)];let _0x5dda57=[];_0x303e06===_0x323244(0x3f6)?_0x5dda57=[_0x323244(0x8d6),'ไม่ใช่\x20/\x20ผิด']:_0x5dda57=_0x11f68b[_0x323244(0xd99)]||[];const _0x8e0739=new Array(_0x5dda57[_0x323244(0xbc8)])['fill'](0x0),_0x524fa2={};_0x5dda57[_0x323244(0x79a)]((_0x4bd923,_0x14e536)=>{_0x524fa2[_0x14e536]=[];}),Object['entries'](_0x1e87a6[_0x323244(0xa6d)]||{})[_0x323244(0x79a)](([_0x5d0ac8,_0x54dbae])=>{const _0x1759cd=_0x323244;if(_0x54dbae[_0x1759cd(0xc96)]!==_0x1759cd(0x921)&&_0x54dbae['lastAnswerIndex']!==undefined&&_0x54dbae[_0x1759cd(0x977)]!==null){const _0x491235=_0x54dbae[_0x1759cd(0x977)];if(_0x524fa2[_0x491235]!==undefined){const _0x289c8c=_0x569e4e?_0x1e87a6[_0x1759cd(0x603)][_0x5d0ac8]||_0x1759cd(0xa0c):_0x5d0ac8;_0x524fa2[_0x491235][_0x1759cd(0x586)](_0x289c8c),_0x8e0739[_0x491235]++;}}});let _0x2eb5a3='';const _0x17a44f=_0x1e87a6['currentQuestionIndex']>=_0x129a2c[_0x323244(0xbc8)]-0x1;_0x1019bb?_0x5cf033===_0x323244(0x89b)?_0x17a44f?_0x2eb5a3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0x2eb5a3=_0x323244(0xdbd):_0x2eb5a3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▼▼▼\x20[นี่คือจุดที่แก้ไข\x20Bug]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5cf033===_0x323244(0x89b)?_0x2eb5a3=_0x323244(0xde0):_0x2eb5a3=_0x323244(0x5ce);const _0x2b004d=_0x1019bb?_0x323244(0x3d1)+_0x1e87a6['pin']+_0x323244(0x742):'',_0x760982=_0x323244(0x996)+_0x2b004d+_0x323244(0x85c)+_0x11f68b[_0x323244(0xc82)]+_0x323244(0xafd)+_0x8e0739['map']((_0x5c3783,_0x52db43)=>{const _0x2cda05=_0x323244,_0x5669b8=_0x524fa2[_0x52db43][_0x2cda05(0xbc8)]>0x0?_0x524fa2[_0x52db43][_0x2cda05(0x35d)](',\x20'):_0x2cda05(0x8ef),_0x36e439=_0x2cda05(0x292);return _0x2cda05(0xb50)+_0x5c3783+_0x2cda05(0x514)+_0x36e439+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x52db43+_0x2cda05(0x42a)+_0x5dda57[_0x52db43]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x52db43+_0x2cda05(0xb09)+_0x5669b8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x323244(0x35d)]('')+_0x323244(0x386)+_0x2eb5a3+_0x323244(0xa06);liveGameView[_0x323244(0xd3c)]=_0x760982;if(window['MathJax'])MathJax['typesetPromise']();if(_0x1019bb){const _0x3d287c=doc(db,_0x323244(0x3c5)+appId+_0x323244(0xb98),currentLiveGameId);document[_0x323244(0x52a)](_0x323244(0x6f5))?.[_0x323244(0x6dd)](_0x323244(0x564),async()=>{const _0x5d67d9=_0x323244;await updateDoc(_0x3d287c,{'status':_0x5d67d9(0x2a7)});}),document[_0x323244(0x52a)](_0x323244(0x63b))?.[_0x323244(0x6dd)](_0x323244(0x564),()=>{openScratchpad(_0x11f68b,_0x5dda57);}),document[_0x323244(0x52a)](_0x323244(0x7fd))?.['addEventListener'](_0x323244(0x564),async()=>{const _0x3d80c0=_0x323244,_0x567e25=_0x1e87a6[_0x3d80c0(0xbc7)]+0x1,_0x51daf3={};Object['keys'](_0x1e87a6['players'])['forEach'](_0x1bd960=>{const _0x5de988=_0x3d80c0;_0x51daf3[_0x5de988(0x6a0)+_0x1bd960+'.answered']=![],_0x51daf3[_0x5de988(0x6a0)+_0x1bd960+_0x5de988(0x266)]=null;}),await updateDoc(_0x3d287c,{..._0x51daf3,'status':_0x3d80c0(0xa64),'currentQuestionIndex':_0x567e25,'questionDisplayedAt':serverTimestamp()});}),document[_0x323244(0x52a)](_0x323244(0x595))?.[_0x323244(0x6dd)](_0x323244(0x564),async()=>{await updateDoc(_0x3d287c,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x260d46){const _0x44ebbc=_0x6a7885,_0x5797eb=_0x260d46[_0x44ebbc(0xbc7)]>=_0x260d46[_0x44ebbc(0x28a)][_0x44ebbc(0x665)][_0x44ebbc(0xbc8)]-0x1;let _0x5e0f0c='';if(_0x260d46[_0x44ebbc(0xcfc)]===!![]){const _0x5dd836=_0x260d46[_0x44ebbc(0xa6d)][localTeamPlayers[0x0]],_0x2f46d7=_0x5dd836[_0x44ebbc(0xae4)],_0x2d84d1=_0x5dd836['score'];_0x5e0f0c=_0x44ebbc(0x465)+_0x2f46d7+'\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>'+_0x2d84d1+_0x44ebbc(0x833);}else _0x5e0f0c=_0x44ebbc(0x867)+(_0x5797eb?_0x44ebbc(0x414):'รอผู้ควบคุมไปข้อต่อไป...')+_0x44ebbc(0x8c9);const _0x351dfc=_0x44ebbc(0x6f7)+_0x5e0f0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x44ebbc(0xd3c)]=_0x351dfc;}async function handleShowStudentRankings(){const _0x5d3d6b=_0x6a7885,_0x3b3ee6=document[_0x5d3d6b(0x390)]('#student-quiz-leaderboard-content\x20thead');_0x3b3ee6&&(_0x3b3ee6[_0x5d3d6b(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2375b2=document[_0x5d3d6b(0x390)](_0x5d3d6b(0x95a));_0x2375b2&&(_0x2375b2[_0x5d3d6b(0xd3c)]=_0x5d3d6b(0x474));const _0x3ababa=document[_0x5d3d6b(0x52a)]('student-rankings-modal');_0x3ababa[_0x5d3d6b(0x817)]['remove'](_0x5d3d6b(0x68d)),document[_0x5d3d6b(0x52a)](_0x5d3d6b(0x3d7))[_0x5d3d6b(0x4cd)]=()=>_0x3ababa[_0x5d3d6b(0x817)][_0x5d3d6b(0x642)]('hidden');const _0x212049=document[_0x5d3d6b(0x52a)](_0x5d3d6b(0x9ca)),_0xc43fc1=document[_0x5d3d6b(0x52a)](_0x5d3d6b(0x29f)),_0xaecd47=document[_0x5d3d6b(0x52a)](_0x5d3d6b(0x2eb)),_0x178e77=document[_0x5d3d6b(0x52a)](_0x5d3d6b(0x990));_0x212049[_0x5d3d6b(0x4cd)]=()=>{const _0x29e5e2=_0x5d3d6b;_0x212049[_0x29e5e2(0x817)][_0x29e5e2(0x642)](_0x29e5e2(0x7ec)),_0xc43fc1['classList'][_0x29e5e2(0xb2b)](_0x29e5e2(0x7ec)),_0xaecd47[_0x29e5e2(0x817)][_0x29e5e2(0xb2b)]('hidden'),_0x178e77[_0x29e5e2(0x817)][_0x29e5e2(0x642)](_0x29e5e2(0x68d));},_0xc43fc1[_0x5d3d6b(0x4cd)]=()=>{const _0x33b8e2=_0x5d3d6b;_0xc43fc1['classList'][_0x33b8e2(0x642)](_0x33b8e2(0x7ec)),_0x212049[_0x33b8e2(0x817)][_0x33b8e2(0xb2b)]('active'),_0x178e77['classList'][_0x33b8e2(0xb2b)](_0x33b8e2(0x68d)),_0xaecd47[_0x33b8e2(0x817)][_0x33b8e2(0x642)](_0x33b8e2(0x68d));};try{const _0x50eaec=collection(db,'artifacts/'+appId+_0x5d3d6b(0x5b0)+currentQuizData['id']+_0x5d3d6b(0x211)),_0x2f1775=await getDocs(_0x50eaec),_0x4407f6=_0x2f1775[_0x5d3d6b(0x3f3)][_0x5d3d6b(0x8cc)](_0x24ca5f=>_0x24ca5f[_0x5d3d6b(0x36d)]());renderQuizLeaderboard(_0x4407f6,currentQuizData,'student-quiz-leaderboard-table-body');const _0x29faa=collection(db,_0x5d3d6b(0x3c5)+appId+_0x5d3d6b(0x3e7)+currentQuizData[_0x5d3d6b(0x94a)]+_0x5d3d6b(0x9c5)),_0x2b6a0e=await getDocs(_0x29faa),_0x42f78e=_0x2b6a0e[_0x5d3d6b(0x3f3)]['map'](_0x11677b=>_0x11677b[_0x5d3d6b(0x36d)]());renderLeaderboard(_0x42f78e,'student-project-leaderboard-table-body');}catch(_0x368b77){console[_0x5d3d6b(0xc4f)](_0x5d3d6b(0x5a0),_0x368b77),showMessage(_0x5d3d6b(0x95e));}}async function handleSaveToBank(_0x361e8d){const _0x775c12=_0x6a7885,_0x2cc715=_0x361e8d[_0x775c12(0xcb2)],_0x285c68=_0x2cc715[_0x775c12(0xba5)][_0x775c12(0x7d4)],_0x1d8ba2=currentQuizData['questions'][_0x285c68];if(!userId){showMessage(_0x775c12(0xa77));return;}try{const _0xa7551a={..._0x1d8ba2,'originalTopic':currentQuizData[_0x775c12(0x801)],'savedAt':serverTimestamp()},_0x2f652e=collection(db,_0x775c12(0x3c5)+appId+'/users/'+userId+_0x775c12(0xdfa));await addDoc(_0x2f652e,_0xa7551a),showMessage(_0x775c12(0xcbe)),_0x2cc715[_0x775c12(0x817)][_0x775c12(0xb2b)](_0x775c12(0x4bb)),_0x2cc715['classList']['add'](_0x775c12(0x263)),_0x2cc715[_0x775c12(0x459)]=!![];}catch(_0x2a27fe){console[_0x775c12(0xc4f)]('Error\x20saving\x20to\x20question\x20bank:',_0x2a27fe),showMessage(_0x775c12(0x783));}}async function selectProjectAndGenerateBlueprintQuiz(_0x538eb4,_0x350b28=null,_0x58edb3=null,_0x47cc43=![]){const _0x480a7d=_0x6a7885;cameFromBlueprint=!![];const _0x415760=document['getElementById']('bp-reference-file-url')?.['value'][_0x480a7d(0x797)]();let _0x11175e=null;if(_0x415760){showMessage(_0x480a7d(0x48e));try{const _0x53657f=await fetchFileFromUrl(_0x415760,_0x480a7d(0xa07)),_0x4560cc=await new Promise((_0x216de0,_0x471d2e)=>{const _0x26a820=_0x480a7d,_0x58adb8=new FileReader();_0x58adb8[_0x26a820(0x203)](_0x53657f),_0x58adb8[_0x26a820(0xb87)]=()=>_0x216de0(_0x58adb8[_0x26a820(0xded)]['split'](',')[0x1]),_0x58adb8[_0x26a820(0x1e0)]=_0x471d2e;});_0x11175e=[{'inlineData':{'mimeType':_0x53657f[_0x480a7d(0x6c9)],'data':_0x4560cc}}],messageModal[_0x480a7d(0x817)][_0x480a7d(0x642)](_0x480a7d(0x68d));}catch(_0x3bda43){console['error'](_0x480a7d(0x663),_0x3bda43),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x4bef8a=document[_0x480a7d(0x52a)](_0x480a7d(0x64c)),_0x5b8b4c=document['getElementById'](_0x480a7d(0xa16)),_0xa569d0=_0x4bef8a[_0x480a7d(0x390)]('h3'),_0x274cfa=document['getElementById']('confirm-move-quiz-btn'),_0x4d9f86=document[_0x480a7d(0x52a)]('cancel-move-quiz-btn');_0xa569d0[_0x480a7d(0x675)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x274cfa[_0x480a7d(0x675)]='เลือกและเริ่มสร้าง',_0x274cfa[_0x480a7d(0x459)]=!![];allProjects['length']===0x0?_0x5b8b4c[_0x480a7d(0xd3c)]=_0x480a7d(0x86d):(_0x5b8b4c[_0x480a7d(0xd3c)]=_0x480a7d(0x6a6)+allProjects[_0x480a7d(0x8cc)](_0x914014=>_0x480a7d(0xd63)+_0x914014['id']+'\x22>'+_0x914014['projectName']+_0x480a7d(0x9a7))[_0x480a7d(0x35d)](''),_0x274cfa['disabled']=![]);_0x4bef8a[_0x480a7d(0x817)][_0x480a7d(0xb2b)](_0x480a7d(0x68d));const _0x37d400=async()=>{const _0x46b874=_0x480a7d,_0x1b0c89=_0x5b8b4c[_0x46b874(0x3c4)];if(!_0x1b0c89){showMessage(_0x46b874(0x8e4));return;}_0x4bef8a[_0x46b874(0x817)][_0x46b874(0x642)](_0x46b874(0x68d)),document[_0x46b874(0x52a)](_0x46b874(0x8e7))['classList'][_0x46b874(0x642)](_0x46b874(0x68d)),await loadProjectDetails(_0x1b0c89),showView(_0x46b874(0x298)),handleGenerateQuizFromBlueprintTopic(_0x538eb4,_0x350b28,_0x1b0c89,_0x58edb3,_0x47cc43,_0x11175e),_0x3b1ed2();},_0x3b1ed2=()=>{const _0x5f2703=_0x480a7d;_0xa569d0[_0x5f2703(0x675)]=_0x5f2703(0x441),_0x274cfa['textContent']=_0x5f2703(0x6be),_0x274cfa[_0x5f2703(0x5b6)](_0x5f2703(0x564),_0x37d400),_0x4d9f86[_0x5f2703(0x5b6)](_0x5f2703(0x564),_0x3b1ed2),_0x274cfa[_0x5f2703(0x6dd)](_0x5f2703(0x564),confirmMoveQuiz);};_0x274cfa['removeEventListener'](_0x480a7d(0x564),confirmMoveQuiz),_0x274cfa[_0x480a7d(0x6dd)](_0x480a7d(0x564),_0x37d400),_0x4d9f86[_0x480a7d(0x6dd)](_0x480a7d(0x564),_0x3b1ed2);}function listenForStarredQuizzes(){const _0x4b05f5=_0x6a7885;if(!userId)return;const _0x538769=collection(db,_0x4b05f5(0x3c5)+appId+'/public/data/quizzes'),_0x271422=query(_0x538769,where(_0x4b05f5(0x41e),'==',!![]));onSnapshot(_0x271422,_0x58ea9f=>{const _0x4b767b=_0x4b05f5;starredQuizzes=_0x58ea9f[_0x4b767b(0x3f3)][_0x4b767b(0x8cc)](_0x1452df=>({'id':_0x1452df['id'],..._0x1452df['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x8e7578=>{const _0x4b4650=_0x4b05f5;console[_0x4b4650(0xc4f)](_0x4b4650(0x4cf),_0x8e7578);});}function listenForFileShortcuts(){const _0x1051b3=_0x6a7885,_0x7003ed=doc(db,'globalSettings',_0x1051b3(0x773));onSnapshot(_0x7003ed,_0x19fe39=>{const _0x5b8e5b=_0x1051b3;let _0x5a275e=[],_0x1bd387=[],_0x426543={};if(_0x19fe39[_0x5b8e5b(0xd3f)]()){const _0x1246d4=_0x19fe39['data']();_0x5a275e=_0x1246d4['shortcuts']||[],_0x1bd387=_0x1246d4[_0x5b8e5b(0xa25)]||[],_0x426543=_0x1246d4[_0x5b8e5b(0xaab)]||{};}!_0x1bd387[_0x5b8e5b(0x8c7)](_0x528cca=>_0x528cca['id']==='all')&&_0x1bd387[_0x5b8e5b(0x367)]({'id':_0x5b8e5b(0xdd0),'name':_0x5b8e5b(0x2f2),'isDefault':!![]}),!_0x5a275e['find'](_0x59820d=>_0x59820d['id']===_0x5b8e5b(0x926))&&_0x5a275e['unshift']({'id':_0x5b8e5b(0x926),'name':_0x5b8e5b(0x528),'url':'','isDefault':!![]}),!_0x5a275e[_0x5b8e5b(0x8c7)](_0x366075=>_0x366075['id']===_0x5b8e5b(0x930))&&_0x5a275e['unshift']({'id':_0x5b8e5b(0x930),'name':_0x5b8e5b(0xa1b),'url':'','isDefault':!![]}),fileShortcuts=_0x5a275e,fileShortcutTabs=_0x1bd387,fileShortcutOrder=_0x426543,renderFileShortcuts(),!document[_0x5b8e5b(0x52a)](_0x5b8e5b(0x876))[_0x5b8e5b(0x817)][_0x5b8e5b(0x7e7)](_0x5b8e5b(0x68d))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x137a38=_0x6a7885,_0x3ce51e=doc(db,_0x137a38(0x3e0),_0x137a38(0x773));try{await setDoc(_0x3ce51e,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x52ba10){console['error'](_0x137a38(0x74a),_0x52ba10);}}function renderAdditionalFileShortcutsModal(){const _0x5dc8c6=_0x6a7885,_0x58cd34=document['getElementById'](_0x5dc8c6(0xa5b)),_0x55e188=document[_0x5dc8c6(0x52a)]('additional-file-shortcuts-list');if(!_0x58cd34||!_0x55e188)return;_0x58cd34[_0x5dc8c6(0xd3c)]=fileShortcutTabs['map'](_0x1bf6e8=>{const _0x3e1f03=_0x5dc8c6,_0x30bb1d=_0x1bf6e8['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x1bf6e8['id']+_0x3e1f03(0xd15)+(_0x30bb1d?_0x3e1f03(0x209):_0x3e1f03(0x9ff))+_0x3e1f03(0xbe2)+_0x1bf6e8['name']+_0x3e1f03(0xd05)+_0x1bf6e8[_0x3e1f03(0xae4)]+_0x3e1f03(0x6f4)+(!_0x1bf6e8[_0x3e1f03(0xb43)]?'<button\x20data-tab-id=\x22'+_0x1bf6e8['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5dc8c6(0x35d)]('');const _0x370ee5=fileShortcutTabs['find'](_0x3f9570=>_0x3f9570['id']===activeFileShortcutTabId);let _0x3da5bf=_0x370ee5?.[_0x5dc8c6(0xb43)]?[...fileShortcuts]:fileShortcuts[_0x5dc8c6(0xcae)](_0x14f259=>(_0x370ee5?.['shortcutIds']||[])[_0x5dc8c6(0x317)](_0x14f259['id']));const _0x27975a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x3da5bf[_0x5dc8c6(0xd66)]((_0x5befef,_0x5134ec)=>{const _0x227daa=_0x5dc8c6,_0x4d6b13=_0x27975a['indexOf'](_0x5befef['id']),_0x3316e1=_0x27975a[_0x227daa(0x4a3)](_0x5134ec['id']);return(_0x4d6b13===-0x1?Infinity:_0x4d6b13)-(_0x3316e1===-0x1?Infinity:_0x3316e1);}),_0x55e188['innerHTML']=_0x3da5bf[_0x5dc8c6(0x8cc)](_0x3eaad8=>{const _0x2b266c=_0x5dc8c6,_0x3d52a5=_0x3eaad8[_0x2b266c(0x24d)]?'📄':'🔗',_0x4d9d56=fileShortcutTabs[_0x2b266c(0xcae)](_0x40bccf=>!_0x40bccf[_0x2b266c(0xb43)]),_0x3ec7b4=_0x370ee5[_0x2b266c(0xb43)]&&_0x4d9d56[_0x2b266c(0xbc8)]>0x0?_0x2b266c(0xc14)+_0x4d9d56[_0x2b266c(0x8cc)](_0x2deea1=>_0x2b266c(0xb2a)+_0x3eaad8['id']+_0x2b266c(0x60f)+_0x2deea1['id']+'\x22>'+_0x2deea1['name']+'</a>')[_0x2b266c(0x35d)]('')+_0x2b266c(0x513):'';return _0x2b266c(0x4ff)+_0x3eaad8['id']+_0x2b266c(0x9a8)+_0x3d52a5+'\x20'+_0x3eaad8[_0x2b266c(0xae4)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3eaad8['id']+_0x2b266c(0xb1b)+_0x3eaad8['id']+_0x2b266c(0x70c)+(!_0x3eaad8[_0x2b266c(0xb43)]?_0x2b266c(0x3d3)+_0x3eaad8['id']+_0x2b266c(0x5c6):'')+_0x2b266c(0x571)+(!_0x370ee5['isDefault']?_0x2b266c(0xcc1)+_0x3eaad8['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x2b266c(0x571)+_0x3ec7b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5dc8c6(0x35d)]('')||_0x5dc8c6(0x256),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x58dd74=_0x6a7885;document['querySelectorAll'](_0x58dd74(0xb41))[_0x58dd74(0x79a)](_0x2366fc=>{const _0x2b2034=_0x58dd74;_0x2366fc[_0x2b2034(0x4cd)]=_0x4e504f=>{const _0x297fd9=_0x2b2034;activeFileShortcutTabId=_0x4e504f[_0x297fd9(0xcb2)]['dataset']['tabId'],renderAdditionalFileShortcutsModal();},_0x2366fc['ondblclick']=_0x319142=>{const _0x2cc1e4=_0x2b2034,_0x4f867e=_0x319142['currentTarget'][_0x2cc1e4(0x390)](_0x2cc1e4(0xac3));_0x319142[_0x2cc1e4(0xcb2)][_0x2cc1e4(0x390)](_0x2cc1e4(0xbb5))[_0x2cc1e4(0x817)]['add'](_0x2cc1e4(0x68d)),_0x4f867e[_0x2cc1e4(0x817)][_0x2cc1e4(0xb2b)](_0x2cc1e4(0x68d)),_0x4f867e[_0x2cc1e4(0x31a)](),_0x4f867e[_0x2cc1e4(0xac0)]();};}),document[_0x58dd74(0x7b3)](_0x58dd74(0xd65))[_0x58dd74(0x79a)](_0x5671af=>{const _0x175fd9=_0x58dd74,_0x5c6591=()=>{const _0x50000c=_0x380e,_0x5970f4=_0x5671af['closest'](_0x50000c(0xb41))[_0x50000c(0xba5)][_0x50000c(0x99b)],_0x1652cf=fileShortcutTabs[_0x50000c(0x8c7)](_0x5d08e4=>_0x5d08e4['id']===_0x5970f4);_0x1652cf&&(_0x1652cf[_0x50000c(0xae4)]=_0x5671af[_0x50000c(0x3c4)][_0x50000c(0x797)]()||_0x1652cf[_0x50000c(0xae4)],saveFileShortcutConfig());};_0x5671af['onblur']=_0x5c6591,_0x5671af[_0x175fd9(0x21b)]=_0x3a5e3c=>{const _0x4010c0=_0x175fd9;if(_0x3a5e3c[_0x4010c0(0x7b8)]==='Enter')_0x5671af['blur']();};}),document[_0x58dd74(0x7b3)](_0x58dd74(0x29c))['forEach'](_0x28ee8a=>_0x28ee8a[_0x58dd74(0x4cd)]=_0x501fbb=>{const _0x4e4948=_0x58dd74,_0x1d05f0=_0x501fbb[_0x4e4948(0xcb2)]['dataset'][_0x4e4948(0x99b)];showConfirmation(_0x4e4948(0x5ca),()=>{const _0x3ca6df=_0x4e4948;fileShortcutTabs=fileShortcutTabs[_0x3ca6df(0xcae)](_0x1b0de4=>_0x1b0de4['id']!==_0x1d05f0),delete fileShortcutOrder[_0x1d05f0];if(activeFileShortcutTabId===_0x1d05f0)activeFileShortcutTabId=_0x3ca6df(0xdd0);saveFileShortcutConfig();});}),document[_0x58dd74(0x7b3)](_0x58dd74(0x569))['forEach'](_0x5319c1=>_0x5319c1[_0x58dd74(0x4cd)]=_0x58f856=>{const _0x25bd56=_0x58dd74;_0x58f856[_0x25bd56(0x306)]();const {shortcutId:_0x1c445f,targetTabId:_0x55def9}=_0x58f856[_0x25bd56(0xcb2)]['dataset'],_0x3eba14=fileShortcutTabs[_0x25bd56(0x8c7)](_0x2fc6e7=>_0x2fc6e7['id']===_0x55def9);_0x3eba14&&!_0x3eba14[_0x25bd56(0x416)][_0x25bd56(0x317)](_0x1c445f)&&(_0x3eba14['shortcutIds'][_0x25bd56(0x586)](_0x1c445f),saveFileShortcutConfig());}),document[_0x58dd74(0x7b3)](_0x58dd74(0xbe0))['forEach'](_0x478ff1=>_0x478ff1[_0x58dd74(0x4cd)]=_0x28ebb2=>{const _0x2b16ad=_0x58dd74,_0x560e44=_0x28ebb2[_0x2b16ad(0xcb2)]['dataset'][_0x2b16ad(0xd36)],_0x155411=fileShortcutTabs['find'](_0x2febd9=>_0x2febd9['id']===activeFileShortcutTabId);_0x155411&&!_0x155411[_0x2b16ad(0xb43)]&&(_0x155411[_0x2b16ad(0x416)]=_0x155411['shortcutIds'][_0x2b16ad(0xcae)](_0x2d2e3c=>_0x2d2e3c!==_0x560e44),saveFileShortcutConfig());}),document[_0x58dd74(0x7b3)](_0x58dd74(0xd9d))[_0x58dd74(0x79a)](_0x34b69a=>_0x34b69a[_0x58dd74(0x4cd)]=_0x498ded=>{const _0x34f445=_0x58dd74;_0x498ded[_0x34f445(0xcd7)]();const _0x40903e=_0x498ded[_0x34f445(0xcb2)]['nextElementSibling'];document[_0x34f445(0x7b3)]('.move-file-shortcut-dropdown')[_0x34f445(0x79a)](_0x14fd13=>_0x14fd13[_0x34f445(0x817)][_0x34f445(0x642)](_0x34f445(0x68d))),_0x40903e[_0x34f445(0x817)][_0x34f445(0xb2b)](_0x34f445(0x68d));});const _0x224e45=document['getElementById'](_0x58dd74(0x90f));let _0x4b8d31=null;_0x224e45[_0x58dd74(0xade)]=_0x1df47a=>{const _0x57c55a=_0x58dd74;_0x4b8d31=_0x1df47a[_0x57c55a(0x45d)][_0x57c55a(0xdda)](_0x57c55a(0x6a1));if(_0x4b8d31)setTimeout(()=>_0x4b8d31[_0x57c55a(0x817)]['add']('opacity-50'),0x0);},_0x224e45[_0x58dd74(0xbbc)]=()=>{const _0x1d8c56=_0x58dd74;_0x4b8d31&&(_0x4b8d31['classList'][_0x1d8c56(0xb2b)]('opacity-50'),_0x4b8d31=null);},_0x224e45[_0x58dd74(0x88e)]=_0x5cc820=>{const _0x1c4875=_0x58dd74;_0x5cc820[_0x1c4875(0x306)]();},_0x224e45[_0x58dd74(0xde5)]=_0x297f23=>{const _0x34d9cb=_0x58dd74;_0x297f23[_0x34d9cb(0x306)]();if(_0x4b8d31){const _0x1a54b0=[..._0x224e45[_0x34d9cb(0x7b3)](_0x34d9cb(0x6d9))][_0x34d9cb(0xb90)]((_0x56beea,_0x309dd9)=>{const _0xd623f8=_0x34d9cb,_0x3f501c=_0x309dd9[_0xd623f8(0x940)](),_0x5e1483=_0x297f23[_0xd623f8(0x553)]-_0x3f501c[_0xd623f8(0xc3f)]-_0x3f501c['height']/0x2;return _0x5e1483<0x0&&_0x5e1483>_0x56beea[_0xd623f8(0x505)]?{'offset':_0x5e1483,'element':_0x309dd9}:_0x56beea;},{'offset':Number[_0x34d9cb(0x669)]})[_0x34d9cb(0x574)];_0x1a54b0==null?_0x224e45['appendChild'](_0x4b8d31):_0x224e45['insertBefore'](_0x4b8d31,_0x1a54b0);const _0xf829d=[..._0x224e45['querySelectorAll'](_0x34d9cb(0x6a1))]['map'](_0x23fdde=>_0x23fdde[_0x34d9cb(0xba5)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0xf829d,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x38dc4=_0x6a7885,_0x2d53ca=prompt(_0x38dc4(0x609),_0x38dc4(0x98a));_0x2d53ca&&_0x2d53ca['trim']()&&(fileShortcutTabs[_0x38dc4(0x586)]({'id':'tab_'+Date['now'](),'name':_0x2d53ca['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function _0x380e(_0x1add06,_0x4599fd){const _0x45dc34=_0x45dc();return _0x380e=function(_0x380e3e,_0x413b37){_0x380e3e=_0x380e3e-0x1c1;let _0x3f670d=_0x45dc34[_0x380e3e];return _0x3f670d;},_0x380e(_0x1add06,_0x4599fd);}function renderFileShortcuts(){const _0x389b1a=_0x6a7885,_0xec8da0=document[_0x389b1a(0x52a)]('file-shortcut-container'),_0xde6039=document[_0x389b1a(0x52a)](_0x389b1a(0x90f)),_0x4855a1=document[_0x389b1a(0x52a)](_0x389b1a(0x7f9));if(_0x4855a1)_0x4855a1[_0x389b1a(0x817)][_0x389b1a(0x642)]('hidden');if(!_0xec8da0||!_0xde6039)return;const _0x36b580=fileShortcuts['slice'](0x0,0x4),_0x41d333=fileShortcuts['slice'](0x4);_0xec8da0['innerHTML']=_0x36b580[_0x389b1a(0x8cc)](_0x24740a=>{const _0x250062=_0x389b1a,_0x5e74e0=_0x24740a[_0x250062(0x24d)]&&_0x24740a[_0x250062(0x24d)][_0x250062(0x797)]()!=='',_0x14a898=selectedFile&&selectedFile[_0x250062(0xd36)]===_0x24740a['id'];let _0x266f72=_0x250062(0x4d6),_0x5e5a69='🔗';if(_0x14a898)_0x266f72='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x5e5a69=_0x250062(0x6f6);else _0x5e74e0&&(_0x266f72=_0x250062(0x1ef),_0x5e5a69='📄');const _0x11365a=!_0x24740a[_0x250062(0xb43)]?_0x250062(0x3d3)+_0x24740a['id']+_0x250062(0x8ee):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x24740a['id']+_0x250062(0x375)+_0x266f72+_0x250062(0xcbf)+_0x5e5a69+_0x250062(0xd8e)+_0x24740a[_0x250062(0xae4)]+_0x250062(0x48c)+_0x24740a['id']+_0x250062(0xb27)+_0x11365a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x41d333['length']>0x0&&(_0xec8da0[_0x389b1a(0xd3c)]+=_0x389b1a(0x23f)),_0x41d333[_0x389b1a(0xbc8)]>0x0?_0xde6039[_0x389b1a(0xd3c)]=_0x41d333[_0x389b1a(0x8cc)](_0x15b083=>_0x389b1a(0x34e)+(_0x15b083['url']?'📄':'🔗')+'\x20'+_0x15b083[_0x389b1a(0xae4)]+_0x389b1a(0x90e)+_0x15b083['id']+_0x389b1a(0xc8d)+_0x15b083['id']+_0x389b1a(0xcf3)+(!_0x15b083['isDefault']?_0x389b1a(0x3d3)+_0x15b083['id']+_0x389b1a(0x5c6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x389b1a(0x35d)](''):_0xde6039['innerHTML']=_0x389b1a(0xbc1);}function openFileShortcutEditor(_0x83a438=null){const _0x48f3f7=_0x6a7885,_0x1732da=document[_0x48f3f7(0x52a)](_0x48f3f7(0x901)),_0x909902=document['getElementById']('file-shortcut-modal-title'),_0x127d66=document['getElementById'](_0x48f3f7(0x4d0)),_0x36944b=document[_0x48f3f7(0x52a)](_0x48f3f7(0xa1c)),_0x4870ba=document[_0x48f3f7(0x52a)](_0x48f3f7(0xc00));if(_0x83a438){const _0x2feb15=fileShortcuts['find'](_0x11beb4=>_0x11beb4['id']===_0x83a438);if(!_0x2feb15)return;_0x909902[_0x48f3f7(0x675)]=_0x48f3f7(0x615),_0x127d66[_0x48f3f7(0x3c4)]=_0x2feb15['id'],_0x36944b[_0x48f3f7(0x3c4)]=_0x2feb15[_0x48f3f7(0xae4)],_0x4870ba[_0x48f3f7(0x3c4)]=_0x2feb15[_0x48f3f7(0x24d)]||'';}else _0x909902[_0x48f3f7(0x675)]=_0x48f3f7(0x50b),_0x127d66[_0x48f3f7(0x3c4)]='',_0x36944b['value']='',_0x4870ba['value']='';_0x1732da[_0x48f3f7(0x817)][_0x48f3f7(0xb2b)](_0x48f3f7(0x68d));}async function saveFileShortcutChanges(){const _0x371d5d=_0x6a7885,_0x37d2ce=document[_0x371d5d(0x52a)](_0x371d5d(0x4d0))['value'],_0x2cc66c=document['getElementById'](_0x371d5d(0xa1c))[_0x371d5d(0x3c4)][_0x371d5d(0x797)](),_0xf23bef=document[_0x371d5d(0x52a)](_0x371d5d(0xc00))['value'][_0x371d5d(0x797)]();if(!_0x2cc66c){showMessage(_0x371d5d(0xc36));return;}const _0x3e9ddd={'id':_0x37d2ce||_0x371d5d(0x1e8)+Date[_0x371d5d(0x7f3)](),'name':_0x2cc66c,'url':_0xf23bef,'isDefault':_0x37d2ce[_0x371d5d(0xa13)](_0x371d5d(0x3ac))};let _0x104d77;_0x37d2ce?_0x104d77=fileShortcuts[_0x371d5d(0x8cc)](_0x24461f=>_0x24461f['id']===_0x37d2ce?_0x3e9ddd:_0x24461f):_0x104d77=[...fileShortcuts,_0x3e9ddd];try{const _0x4502f2=doc(db,_0x371d5d(0x3e0),_0x371d5d(0x773));await setDoc(_0x4502f2,{'shortcuts':_0x104d77},{'merge':!![]}),document[_0x371d5d(0x52a)]('file-shortcut-editor-modal')['classList']['add'](_0x371d5d(0x68d));}catch(_0x332eb2){console[_0x371d5d(0xc4f)](_0x371d5d(0xc49),_0x332eb2),showMessage(_0x371d5d(0x783));}}async function handleFileShortcutClick(_0x5f1775){const _0x41f214=_0x6a7885,_0xbe60db=fileShortcuts[_0x41f214(0x8c7)](_0x2b3cae=>_0x2b3cae['id']===_0x5f1775);if(!_0xbe60db)return;if(!_0xbe60db[_0x41f214(0x24d)]||_0xbe60db[_0x41f214(0x24d)][_0x41f214(0x797)]()===''){openFileShortcutEditor(_0x5f1775);return;}const _0x2d85e1=document['querySelector'](_0x41f214(0x936)+_0x5f1775+'\x22]');if(_0x2d85e1){const _0x1fdc6c=_0x2d85e1[_0x41f214(0xd3c)];_0x2d85e1[_0x41f214(0xd3c)]=_0x41f214(0x838),_0x2d85e1[_0x41f214(0x459)]=!![];}document[_0x41f214(0x7b3)](_0x41f214(0xd17))[_0x41f214(0x79a)](_0x5b6a7f=>{const _0x3fe0e9=_0x41f214;if(_0x5b6a7f['dataset']['id']!==_0x5f1775)_0x5b6a7f[_0x3fe0e9(0x817)]['add'](_0x3fe0e9(0x5cd),_0x3fe0e9(0x59e));});try{const _0x2fa3a1=new URL(_0xbe60db[_0x41f214(0x24d)])[_0x41f214(0xb04)],_0x5523d6=_0x2fa3a1[_0x41f214(0xac1)](_0x2fa3a1[_0x41f214(0xab6)]('/')+0x1)||(_0xbe60db[_0x41f214(0x24d)][_0x41f214(0x317)](_0x41f214(0x594))?_0x41f214(0x82d):'file.pdf'),_0x5d4073=await fetchFileFromUrl(_0xbe60db['url'],_0x5523d6);_0x5d4073[_0x41f214(0xd36)]=_0x5f1775,selectedFile=_0x5d4073,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x41f214(0x52a)](_0x41f214(0x557))[_0x41f214(0x488)]({'behavior':_0x41f214(0x250),'block':_0x41f214(0xb68)});}catch(_0x426519){console[_0x41f214(0xc4f)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x426519),showMessage(_0x41f214(0xd19)+_0x426519[_0x41f214(0xacb)]),renderFileShortcuts();}finally{document[_0x41f214(0x7b3)](_0x41f214(0xd17))['forEach'](_0x3fac66=>{const _0x5194d1=_0x41f214;_0x3fac66[_0x5194d1(0x817)][_0x5194d1(0xb2b)](_0x5194d1(0x5cd),'pointer-events-none'),_0x3fac66[_0x5194d1(0x459)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x394648=_0x6a7885;if(allQuizzesGlobal[_0x394648(0xbc8)]>0x0)return;console[_0x394648(0xba9)](_0x394648(0x41a)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0xf91a3c=await getDocs(collection(db,_0x394648(0x3c5)+appId+_0x394648(0x383)));allQuizzesGlobal=_0xf91a3c[_0x394648(0x3f3)][_0x394648(0x8cc)](_0x5e6c82=>({'id':_0x5e6c82['id'],..._0x5e6c82[_0x394648(0x36d)]()})),console['log'](_0x394648(0x2ad)+allQuizzesGlobal[_0x394648(0xbc8)]+_0x394648(0xabb)),messageModal['classList'][_0x394648(0x642)]('hidden');}catch(_0x784b55){console[_0x394648(0xc4f)](_0x394648(0x333),_0x784b55),messageModal[_0x394648(0x817)][_0x394648(0x642)](_0x394648(0x68d));throw new Error(_0x394648(0xb5f));}}function exportQuizAsWorksheetPDF(){const _0x12c4e9=_0x6a7885;if(!currentQuizData||!currentQuizData[_0x12c4e9(0x665)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x175c74=currentQuizData,_0x40dfd2=window['open']('',_0x12c4e9(0x307)),_0x2a9013=_0x1cc04e=>String['fromCharCode'](0x41+_0x1cc04e),_0x15ceef=_0x12c4e9(0x600)+_0x175c74['topic']+_0x12c4e9(0xd4a)+_0x175c74[_0x12c4e9(0x801)]+_0x12c4e9(0x97c)+_0x175c74[_0x12c4e9(0x665)][_0x12c4e9(0x8cc)]((_0x50fe24,_0x4e67f8)=>{const _0x3949fa=_0x12c4e9;let _0x8e2228='';const _0x1b0985=_0x50fe24[_0x3949fa(0x8c1)]||_0x175c74['quizType'];switch(_0x1b0985){case _0x3949fa(0xa3b):case'fill_in_with_choices':_0x8e2228=_0x3949fa(0x2e8)+_0x50fe24[_0x3949fa(0xd99)][_0x3949fa(0x8cc)]((_0x243577,_0x3d92fb)=>_0x3949fa(0xd7a)+_0x2a9013(_0x3d92fb)+'.\x20'+_0x243577+_0x3949fa(0x2b3))[_0x3949fa(0x35d)](_0x3949fa(0xbc4))+_0x3949fa(0x5b3);break;case _0x3949fa(0x3f6):_0x8e2228=_0x3949fa(0xd39);break;default:_0x8e2228=_0x3949fa(0x9e8);break;}return _0x3949fa(0xaba)+(_0x4e67f8+0x1)+_0x3949fa(0x499)+(_0x50fe24[_0x3949fa(0xdbf)]||_0x50fe24['questionText'])+_0x3949fa(0x905)+(_0x50fe24[_0x3949fa(0x929)]?_0x3949fa(0x24e)+_0x50fe24['imageCode']+_0x3949fa(0x5b3):'')+_0x3949fa(0x628)+_0x8e2228+_0x3949fa(0x6b0);})['join']('')+_0x12c4e9(0x279);_0x40dfd2['document'][_0x12c4e9(0x96d)](_0x15ceef),_0x40dfd2[_0x12c4e9(0xdc2)][_0x12c4e9(0xd35)](),_0x40dfd2[_0x12c4e9(0xb87)]=function(){setTimeout(()=>{const _0x4cedd3=_0x380e;_0x40dfd2[_0x4cedd3(0xc99)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x981bd0=_0x6a7885;if(!currentQuizData||!currentQuizData[_0x981bd0(0x665)]){showMessage(_0x981bd0(0xde7));return;}const _0x534e42=currentQuizData,_0x5e8528=window['open']('',_0x981bd0(0x307)),_0x1a3d0c=_0x34b5b2=>String[_0x981bd0(0xdae)](0x41+_0x34b5b2),_0x5554b5=_0x981bd0(0xa76)+_0x534e42['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x534e42[_0x981bd0(0x665)]['map']((_0x79e5c,_0x2e3640)=>{const _0x496f23=_0x981bd0;let _0x5144fe='';const _0x56c849=_0x79e5c[_0x496f23(0x8c1)]||_0x534e42[_0x496f23(0xafb)];switch(_0x56c849){case _0x496f23(0xa3b):case'fill_in_with_choices':_0x5144fe=_0x496f23(0xa15)+_0x79e5c[_0x496f23(0xd99)][_0x496f23(0x8cc)]((_0x5a735a,_0x2bfd41)=>_0x496f23(0x2ec)+_0x1a3d0c(_0x2bfd41)+'.\x20'+_0x5a735a+_0x496f23(0x7b2))[_0x496f23(0x35d)]('<br>')+_0x496f23(0xba6);break;case'true_false':_0x5144fe=_0x496f23(0xa21);break;default:_0x5144fe='';break;}return _0x496f23(0xdd2)+_0x534e42[_0x496f23(0x801)]+_0x496f23(0x486)+(_0x2e3640+0x1)+_0x496f23(0xb2f)+(_0x79e5c[_0x496f23(0xdbf)]||_0x79e5c[_0x496f23(0xc82)])+_0x496f23(0x905)+(_0x79e5c[_0x496f23(0x929)]?_0x496f23(0x370)+_0x79e5c[_0x496f23(0x929)]+'</div>':'')+_0x496f23(0x628)+_0x5144fe+_0x496f23(0x696);})[_0x981bd0(0x35d)]('')+_0x981bd0(0x57f);_0x5e8528['document'][_0x981bd0(0x96d)](_0x5554b5),_0x5e8528[_0x981bd0(0xdc2)]['close'](),_0x5e8528[_0x981bd0(0xb87)]=function(){setTimeout(()=>{const _0x3241ab=_0x380e;_0x5e8528[_0x3241ab(0xc99)]();},0x5dc);};}async function handleToggleStarQuiz(_0x278bfe){const _0x3b5ce9=_0x6a7885,_0x4a7056=doc(db,_0x3b5ce9(0x3c5)+appId+_0x3b5ce9(0x383),_0x278bfe);try{const _0xe4618=await getDoc(_0x4a7056);if(_0xe4618[_0x3b5ce9(0xd3f)]()){const _0x5bacfc=_0xe4618[_0x3b5ce9(0x36d)]()[_0x3b5ce9(0x41e)]||![];await updateDoc(_0x4a7056,{'isStarred':!_0x5bacfc});}}catch(_0x3ab55a){console[_0x3b5ce9(0xc4f)]('Error\x20toggling\x20star\x20status:',_0x3ab55a),showMessage(_0x3b5ce9(0xbac));}}async function displayQuestionBank(){const _0x4bca4b=_0x6a7885,_0x22e5dc=document[_0x4bca4b(0x52a)](_0x4bca4b(0xa86));_0x22e5dc[_0x4bca4b(0xd3c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x4d83aa=collection(db,_0x4bca4b(0x3c5)+appId+_0x4bca4b(0x435)+userId+'/questionBank'),_0x39c0fe=query(_0x4d83aa),_0x5af90a=await getDocs(_0x39c0fe);if(_0x5af90a[_0x4bca4b(0x7b7)]){_0x22e5dc[_0x4bca4b(0xd3c)]=_0x4bca4b(0x25e);return;}let _0x241101=_0x5af90a[_0x4bca4b(0x3f3)][_0x4bca4b(0x8cc)](_0x25ada2=>{const _0x4a2a92=_0x4bca4b,_0x203590=_0x25ada2[_0x4a2a92(0x36d)](),_0x5a6908=_0x25ada2['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x4a2a92(0x20d)](_0x203590)+_0x4a2a92(0x59a)+(_0x203590['questionText']||_0x203590[_0x4a2a92(0xdbf)])+_0x4a2a92(0xb48)+_0x203590['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4bca4b(0x35d)]('');_0x22e5dc[_0x4bca4b(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x241101+_0x4bca4b(0x676),document[_0x4bca4b(0x52a)]('create-from-bank-btn')[_0x4bca4b(0x6dd)](_0x4bca4b(0x564),createQuizFromBank);}catch(_0x357305){console[_0x4bca4b(0xc4f)](_0x4bca4b(0x2e2),_0x357305),_0x22e5dc[_0x4bca4b(0xd3c)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x5da5f1=_0x6a7885,_0x1013e7=document['getElementById'](_0x5da5f1(0x3fc)),_0x1f1ad0=document[_0x5da5f1(0x52a)](_0x5da5f1(0xcca))[_0x5da5f1(0x675)]||'บทเรียน';if(!_0x1013e7){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x36ce5a=window['open']('',_0x5da5f1(0x307)),_0x1f5b99=_0x5da5f1(0x1eb)+_0x1f1ad0+_0x5da5f1(0x6e8)+_0x1f1ad0+_0x5da5f1(0xd98)+_0x1013e7[_0x5da5f1(0xd3c)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x36ce5a[_0x5da5f1(0xdc2)]['write'](_0x1f5b99),_0x36ce5a[_0x5da5f1(0xdc2)][_0x5da5f1(0xd35)](),_0x36ce5a[_0x5da5f1(0xb87)]=function(){setTimeout(()=>{const _0x4c7b0b=_0x380e;_0x36ce5a[_0x4c7b0b(0xc99)]();},0x7d0);};}function showAdminLiveQuestionView(_0x4b8091,_0x14a1b7,_0x422a7c){const _0x58c628=_0x6a7885,_0x4432ae=_0x4b8091['questionType']||currentQuizData['quizType'];let _0x32de20='';if(_0x4432ae===_0x58c628(0xa3b)||_0x4432ae===_0x58c628(0x3f6)){const _0x301f33=_0x4432ae===_0x58c628(0x3f6)?['ใช่',_0x58c628(0x9b9)]:_0x4b8091[_0x58c628(0xd99)],_0xa97be7=_0x4432ae===_0x58c628(0x3f6)?_0x4b8091[_0x58c628(0x950)]?0x0:0x1:_0x4b8091[_0x58c628(0x7cc)];_0x32de20=_0x301f33[_0x58c628(0x8cc)]((_0x2d5e1d,_0x305695)=>_0x58c628(0x6fa)+(_0x305695===_0xa97be7)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d5e1d+_0x58c628(0x5bb))[_0x58c628(0x35d)]('');}else{if(_0x4432ae===_0x58c628(0x747)){const _0x3bbc59=_0x4b8091['allResponses']||[];_0x32de20=_0x3bbc59[_0x58c628(0x8cc)](_0x1175bd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1175bd===_0x4b8091[_0x58c628(0x573)])+_0x58c628(0x899)+_0x1175bd+_0x58c628(0x5bb))[_0x58c628(0x35d)]('');}}const _0x4596c0=_0x4b8091[_0x58c628(0xdbf)]||_0x4b8091[_0x58c628(0xc82)],_0x31f37e=_0x58c628(0xce6)+(_0x14a1b7+0x1)+'\x20/\x20'+_0x422a7c+_0x58c628(0x50a)+currentLiveGamePin+_0x58c628(0xb53)+_0x4596c0+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32de20+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x58c628(0xd3c)]=_0x31f37e,window[_0x58c628(0xb46)]&&MathJax[_0x58c628(0x787)]&&MathJax[_0x58c628(0x787)]([liveGameView]),document[_0x58c628(0x52a)](_0x58c628(0x31c))[_0x58c628(0x6dd)](_0x58c628(0x564),()=>revealAnswerForAdmin(_0x14a1b7,_0x422a7c)),document[_0x58c628(0x52a)]('end-game-btn')[_0x58c628(0x6dd)]('click',async()=>{const _0x21fb23=_0x58c628;showConfirmation(_0x21fb23(0xc35),async()=>{const _0x120fa5=_0x21fb23,_0x53e955=doc(db,_0x120fa5(0x3c5)+appId+_0x120fa5(0x222),currentLiveGameId);await updateDoc(_0x53e955,{'status':'podium'});});}),document['getElementById']('manage-players-btn')[_0x58c628(0x6dd)]('click',()=>{const _0x4f62d9=_0x58c628;document['getElementById'](_0x4f62d9(0xaa8))[_0x4f62d9(0x817)][_0x4f62d9(0x2fc)](_0x4f62d9(0x68d));});}function promptForProjectBeforeGenerating(_0x2909d0){const _0x4cde49=_0x6a7885,_0x5f4736=document[_0x4cde49(0x52a)]('move-quiz-modal'),_0x3cd452=document[_0x4cde49(0x52a)](_0x4cde49(0xa16)),_0xf1d457=_0x5f4736['querySelector']('h3'),_0x424a91=document[_0x4cde49(0x52a)](_0x4cde49(0xbfa)),_0x176b95=document['getElementById'](_0x4cde49(0x3fd));_0xf1d457[_0x4cde49(0x675)]=_0x4cde49(0x9c2),_0x424a91[_0x4cde49(0x675)]='เลือกและเริ่มสร้าง',_0x424a91[_0x4cde49(0x459)]=!![];allProjects[_0x4cde49(0xbc8)]===0x0?_0x3cd452[_0x4cde49(0xd3c)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x3cd452['innerHTML']=_0x4cde49(0x6a6)+allProjects[_0x4cde49(0x8cc)](_0x341dbd=>_0x4cde49(0xd63)+_0x341dbd['id']+'\x22>'+_0x341dbd['projectName']+'</option>')['join'](''),_0x424a91[_0x4cde49(0x459)]=![]);_0x5f4736[_0x4cde49(0x817)][_0x4cde49(0xb2b)](_0x4cde49(0x68d));const _0x460645=async()=>{const _0x43bada=_0x4cde49,_0x545c82=_0x3cd452[_0x43bada(0x3c4)];if(!_0x545c82){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x5f4736[_0x43bada(0x817)][_0x43bada(0x642)](_0x43bada(0x68d)),await loadProjectDetails(_0x545c82),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x2909d0),_0x1a96c9();},_0x1a96c9=()=>{const _0x3222ed=_0x4cde49;_0xf1d457[_0x3222ed(0x675)]=_0x3222ed(0x441),_0x424a91[_0x3222ed(0x675)]='ย้าย',_0x424a91[_0x3222ed(0x5b6)]('click',_0x460645),_0x176b95[_0x3222ed(0x5b6)](_0x3222ed(0x564),_0x1a96c9),_0x424a91['addEventListener']('click',confirmMoveQuiz);};_0x424a91[_0x4cde49(0x5b6)](_0x4cde49(0x564),confirmMoveQuiz),_0x424a91[_0x4cde49(0x6dd)](_0x4cde49(0x564),_0x460645),_0x176b95[_0x4cde49(0x6dd)](_0x4cde49(0x564),_0x1a96c9);}function showStudentLiveQuestionView(_0x1b22a8,_0x14d129,_0x543a75){const _0x18d4f2=_0x6a7885,_0xf3e523=_0x1b22a8['questionType']||currentQuizData[_0x18d4f2(0xafb)];let _0x3d5d77='';if(_0xf3e523===_0x18d4f2(0xa3b)||_0xf3e523===_0x18d4f2(0x3f6)){const _0x3aaca9=_0xf3e523===_0x18d4f2(0x3f6)?[_0x18d4f2(0x954),'ไม่ใช่']:_0x1b22a8[_0x18d4f2(0xd99)];_0x3d5d77=_0x3aaca9['map']((_0xbe7c9b,_0x2b810e)=>_0x18d4f2(0xa48)+_0x2b810e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbe7c9b+_0x18d4f2(0x286))[_0x18d4f2(0x35d)]('');}else{if(_0xf3e523===_0x18d4f2(0x747)){const _0x158d9e=_0x1b22a8[_0x18d4f2(0xc0f)]||[];_0x3d5d77=_0x158d9e[_0x18d4f2(0x8cc)]((_0x52ba3b,_0x2bf7c8)=>_0x18d4f2(0xa48)+_0x2bf7c8+_0x18d4f2(0x391)+_0x52ba3b+_0x18d4f2(0x286))['join']('');}else _0xf3e523===_0x18d4f2(0x247)&&(_0x3d5d77=_0x18d4f2(0xde3));}const _0x462972=_0x1b22a8[_0x18d4f2(0xdbf)]||_0x1b22a8[_0x18d4f2(0xc82)],_0x537ed0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x14d129+0x1)+_0x18d4f2(0x938)+_0x543a75+_0x18d4f2(0xa14)+_0x462972+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d5d77+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x537ed0;window[_0x18d4f2(0xb46)]&&MathJax[_0x18d4f2(0x787)]&&MathJax[_0x18d4f2(0x787)]([liveGameView]);const _0x56ecec=document['getElementById']('live-submit-short-answer-btn');_0x56ecec&&_0x56ecec[_0x18d4f2(0x6dd)](_0x18d4f2(0x564),()=>{const _0x1eb732=_0x18d4f2,_0x3fc998=document[_0x1eb732(0x52a)](_0x1eb732(0x361))[_0x1eb732(0x3c4)];handleLiveAnswer(_0x3fc998,_0x1b22a8);}),document[_0x18d4f2(0x52a)](_0x18d4f2(0x829))[_0x18d4f2(0x6dd)](_0x18d4f2(0x564),_0x3767eb=>{const _0x1081b1=_0x18d4f2,_0xf026c0=_0x3767eb['target'][_0x1081b1(0xdda)](_0x1081b1(0x214));if(_0xf026c0){const _0xa36eb7=parseInt(_0xf026c0[_0x1081b1(0xba5)][_0x1081b1(0x7d4)]);handleLiveAnswer(_0xa36eb7,_0x1b22a8);}});}function listenForBlueprintShortcuts(){const _0x260b33=_0x6a7885,_0x20c554=doc(db,_0x260b33(0x3e0),_0x260b33(0x798));onSnapshot(_0x20c554,_0x35481b=>{const _0x261e62=_0x260b33;let _0x5aeffc=[],_0x5997c1=[],_0x1fb52b={};if(_0x35481b[_0x261e62(0xd3f)]()){const _0x8d6e99=_0x35481b['data']();_0x5aeffc=_0x8d6e99['blueprintShortcuts']||[],_0x5997c1=_0x8d6e99[_0x261e62(0xc9f)]||[],_0x1fb52b=_0x8d6e99[_0x261e62(0xbcd)]||{};}!_0x5997c1[_0x261e62(0x8c7)](_0x4a4761=>_0x4a4761['id']===_0x261e62(0xdd0))&&_0x5997c1[_0x261e62(0x367)]({'id':_0x261e62(0xdd0),'name':_0x261e62(0x688),'isDefault':!![]}),!_0x5aeffc[_0x261e62(0x8c7)](_0x2a0eba=>_0x2a0eba['id']==='default-1')&&_0x5aeffc[_0x261e62(0x367)]({'id':'default-1','name':_0x261e62(0x6a5),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5aeffc[_0x261e62(0x8c7)](_0x2ad9a6=>_0x2ad9a6['id']===_0x261e62(0x302))&&_0x5aeffc[_0x261e62(0x367)]({'id':'default-2','name':_0x261e62(0x7d9),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5aeffc,shortcutTabs=_0x5997c1,shortcutOrder=_0x1fb52b,renderBlueprintShortcuts(),!document['getElementById']('additional-shortcuts-modal')['classList']['contains'](_0x261e62(0x68d))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x688704=_0x6a7885,_0x5ee28c=document[_0x688704(0x52a)](_0x688704(0xbb2)),_0xf0ac4e=document['getElementById']('additional-shortcuts-list');if(!_0x5ee28c||!_0xf0ac4e)return;_0x5ee28c['innerHTML']=shortcutTabs[_0x688704(0x8cc)](_0x5922b4=>{const _0x4cc6d2=_0x688704,_0x17235c=_0x5922b4['id']===activeShortcutTabId,_0x56c480=_0x4cc6d2(0x209),_0x6324b2=_0x4cc6d2(0x9ff);return _0x4cc6d2(0x276)+_0x5922b4['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x17235c?_0x56c480:_0x6324b2)+_0x4cc6d2(0xcb8)+_0x5922b4[_0x4cc6d2(0xae4)]+_0x4cc6d2(0x68a)+_0x5922b4[_0x4cc6d2(0xae4)]+_0x4cc6d2(0x9ad)+(!_0x5922b4[_0x4cc6d2(0xb43)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5922b4['id']+_0x4cc6d2(0x953):'')+_0x4cc6d2(0x5bb);})[_0x688704(0x35d)]('');const _0xd64097=shortcutTabs[_0x688704(0x8c7)](_0x27f824=>_0x27f824['id']===activeShortcutTabId);let _0x55cf3c=[];if(_0xd64097){if(_0xd64097['isDefault'])_0x55cf3c=[...blueprintShortcuts];else{const _0x59b6a6=_0xd64097[_0x688704(0x416)]||[];_0x55cf3c=blueprintShortcuts[_0x688704(0xcae)](_0xaa483a=>_0x59b6a6[_0x688704(0x317)](_0xaa483a['id']));}}const _0x48582d=shortcutOrder[activeShortcutTabId]||[];_0x55cf3c['sort']((_0x32c5dc,_0x1383e1)=>{const _0x2b44d5=_0x688704,_0x5a6d76=_0x48582d[_0x2b44d5(0x4a3)](_0x32c5dc['id']),_0x5f1f85=_0x48582d['indexOf'](_0x1383e1['id']);if(_0x5a6d76===-0x1)return 0x1;if(_0x5f1f85===-0x1)return-0x1;return _0x5a6d76-_0x5f1f85;}),_0xf0ac4e[_0x688704(0xd3c)]=_0x55cf3c['length']>0x0?_0x55cf3c[_0x688704(0x8cc)](_0x54713e=>{const _0x3e1824=_0x688704;let _0x4e0406='🧩';if(_0x54713e[_0x3e1824(0xb4f)]&&_0x54713e['referenceUrl'])_0x4e0406='📗';else{if(_0x54713e[_0x3e1824(0xb4f)])_0x4e0406='📘';}const _0x46da0d=shortcutTabs[_0x3e1824(0xcae)](_0x34a1c9=>!_0x34a1c9[_0x3e1824(0xb43)]),_0x29efc0=_0xd64097['isDefault']&&_0x46da0d[_0x3e1824(0xbc8)]>0x0?_0x3e1824(0x779)+_0x46da0d[_0x3e1824(0x8cc)](_0x20b37a=>_0x3e1824(0xb11)+_0x54713e['id']+_0x3e1824(0x60f)+_0x20b37a['id']+'\x22>'+_0x20b37a[_0x3e1824(0xae4)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x3e1824(0x745):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x54713e['id']+_0x3e1824(0xd2c)+_0x4e0406+'\x20'+_0x54713e[_0x3e1824(0xae4)]+_0x3e1824(0x9ce)+_0x54713e['id']+_0x3e1824(0x3b8)+_0x54713e['id']+_0x3e1824(0x9f8)+(!_0x54713e['isDefault']?'<button\x20data-id=\x22'+_0x54713e['id']+_0x3e1824(0xa0f):'')+_0x3e1824(0x9f7)+(!_0xd64097[_0x3e1824(0xb43)]?_0x3e1824(0xcc1)+_0x54713e['id']+_0x3e1824(0xa7a):'')+_0x3e1824(0x9f7)+_0x29efc0+_0x3e1824(0x454);})[_0x688704(0x35d)](''):_0x688704(0x256),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xa498a=_0x6a7885;document[_0xa498a(0x7b3)](_0xa498a(0x9ba))[_0xa498a(0x79a)](_0x2166d5=>{const _0x4df188=_0xa498a;_0x2166d5[_0x4df188(0x6dd)](_0x4df188(0x564),_0x52ddbb=>{const _0x54b1b0=_0x4df188;activeShortcutTabId=_0x52ddbb[_0x54b1b0(0xcb2)][_0x54b1b0(0xba5)][_0x54b1b0(0x99b)],renderAdditionalShortcutsModal();}),_0x2166d5['addEventListener'](_0x4df188(0xd90),_0x281b3e=>{const _0x162178=_0x4df188,_0x1f3188=_0x281b3e[_0x162178(0xcb2)];_0x1f3188[_0x162178(0x390)](_0x162178(0xbb5))[_0x162178(0x817)][_0x162178(0x642)](_0x162178(0x68d));const _0xcd5402=_0x1f3188[_0x162178(0x390)](_0x162178(0xac3));_0xcd5402[_0x162178(0x817)][_0x162178(0xb2b)]('hidden'),_0xcd5402['focus'](),_0xcd5402[_0x162178(0xac0)]();});}),document[_0xa498a(0x7b3)](_0xa498a(0xac3))[_0xa498a(0x79a)](_0x1910e1=>{const _0x13560e=_0xa498a,_0x46f640=()=>{const _0x151bef=_0x380e,_0x4f6c1c=_0x1910e1[_0x151bef(0xdda)](_0x151bef(0x9ba))[_0x151bef(0xba5)][_0x151bef(0x99b)];handleRenameShortcutTab(_0x4f6c1c,_0x1910e1[_0x151bef(0x3c4)]);};_0x1910e1[_0x13560e(0x6dd)](_0x13560e(0x4cb),_0x46f640),_0x1910e1[_0x13560e(0x6dd)](_0x13560e(0x823),_0x59d4ba=>{const _0x1653c1=_0x13560e;if(_0x59d4ba['key']===_0x1653c1(0x37d))_0x1910e1[_0x1653c1(0x4cb)]();});}),document[_0xa498a(0x7b3)](_0xa498a(0x33c))[_0xa498a(0x79a)](_0x52938f=>{const _0x489ba3=_0xa498a;_0x52938f[_0x489ba3(0x6dd)](_0x489ba3(0x564),_0x27a533=>handleDeleteShortcutTab(_0x27a533['currentTarget'][_0x489ba3(0xba5)][_0x489ba3(0x99b)]));}),document['querySelectorAll'](_0xa498a(0x4e4))['forEach'](_0x67f04d=>{const _0x3ffac7=_0xa498a;_0x67f04d[_0x3ffac7(0x6dd)](_0x3ffac7(0x564),_0x52fc4c=>{const _0x390556=_0x3ffac7;_0x52fc4c[_0x390556(0x306)]();const {shortcutId:_0x5b16a6,targetTabId:_0x415708}=_0x52fc4c['currentTarget']['dataset'];handleMoveShortcutToTab(_0x5b16a6,_0x415708);});}),document[_0xa498a(0x7b3)](_0xa498a(0xdec))[_0xa498a(0x79a)](_0xa81b9e=>{const _0x278a46=_0xa498a;_0xa81b9e[_0x278a46(0x6dd)]('click',_0xafadb3=>{const _0x4699a2=_0x278a46;handleRemoveShortcutFromTab(_0xafadb3[_0x4699a2(0xcb2)][_0x4699a2(0xba5)][_0x4699a2(0xd36)],activeShortcutTabId);});});const _0x531684=document['getElementById']('additional-shortcuts-list');_0x531684['querySelectorAll'](_0xa498a(0x251))[_0xa498a(0x79a)](_0x2e7974=>{const _0x229519=_0xa498a;_0x2e7974[_0x229519(0x6dd)](_0x229519(0x564),()=>{const _0x438319=_0x229519;document['getElementById'](_0x438319(0x5c4))[_0x438319(0x817)][_0x438319(0x642)]('hidden'),handleShortcutClick(_0x2e7974[_0x438319(0xba5)]['id']);});});let _0x313259=null;_0x531684['addEventListener']('dragstart',_0x5128ec=>{const _0x3dad52=_0xa498a;_0x313259=_0x5128ec[_0x3dad52(0x45d)][_0x3dad52(0xdda)](_0x3dad52(0x6a1)),_0x313259&&setTimeout(()=>_0x313259[_0x3dad52(0x817)][_0x3dad52(0x642)](_0x3dad52(0x5cd)),0x0);}),_0x531684['addEventListener'](_0xa498a(0x63e),()=>{const _0x2b4f1e=_0xa498a;_0x313259&&(_0x313259[_0x2b4f1e(0x817)][_0x2b4f1e(0xb2b)](_0x2b4f1e(0x5cd)),_0x313259=null);}),_0x531684[_0xa498a(0x6dd)](_0xa498a(0x506),_0x5090e3=>{const _0x4910ce=_0xa498a;_0x5090e3['preventDefault']();const _0x228528=[..._0x531684[_0x4910ce(0x7b3)]('.shortcut-list-item:not(.opacity-50)')][_0x4910ce(0xb90)]((_0x1e3848,_0x4297c8)=>{const _0x55c81f=_0x4910ce,_0x155e5d=_0x4297c8[_0x55c81f(0x940)](),_0x45734a=_0x5090e3[_0x55c81f(0x553)]-_0x155e5d[_0x55c81f(0xc3f)]-_0x155e5d[_0x55c81f(0x7a4)]/0x2;return _0x45734a<0x0&&_0x45734a>_0x1e3848['offset']?{'offset':_0x45734a,'element':_0x4297c8}:_0x1e3848;},{'offset':Number['NEGATIVE_INFINITY']})[_0x4910ce(0x574)];_0x228528==null?_0x531684[_0x4910ce(0x7c1)](_0x313259):_0x531684[_0x4910ce(0xc57)](_0x313259,_0x228528);}),_0x531684['addEventListener']('drop',_0x2bde5a=>{const _0xc86e0c=_0xa498a;_0x2bde5a[_0xc86e0c(0x306)]();if(_0x313259){const _0xf53f61=[..._0x531684['querySelectorAll']('.shortcut-list-item')][_0xc86e0c(0x8cc)](_0x238ab8=>_0x238ab8[_0xc86e0c(0xba5)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0xf53f61);}}),document[_0xa498a(0x7b3)](_0xa498a(0x344))[_0xa498a(0x79a)](_0x1e7177=>{_0x1e7177['addEventListener']('click',_0x434282=>{const _0x53a1ce=_0x380e;_0x434282[_0x53a1ce(0xcd7)]();const _0x1c72d3=_0x434282['currentTarget']['nextElementSibling'],_0x4fc339=_0x1c72d3['classList']['contains'](_0x53a1ce(0x68d));document[_0x53a1ce(0x7b3)](_0x53a1ce(0x8f8))[_0x53a1ce(0x79a)](_0x23a0be=>_0x23a0be['classList'][_0x53a1ce(0x642)](_0x53a1ce(0x68d))),_0x4fc339&&_0x1c72d3[_0x53a1ce(0x817)][_0x53a1ce(0xb2b)](_0x53a1ce(0x68d));});});}document[_0x6a7885(0x6dd)](_0x6a7885(0x564),_0x29cd64=>{const _0x52ba79=_0x6a7885;!_0x29cd64[_0x52ba79(0x45d)][_0x52ba79(0xdda)](_0x52ba79(0x863))&&document[_0x52ba79(0x7b3)]('.move-shortcut-dropdown')[_0x52ba79(0x79a)](_0x2912de=>_0x2912de[_0x52ba79(0x817)][_0x52ba79(0x642)](_0x52ba79(0x68d)));});async function saveShortcutConfig(){const _0x50a710=_0x6a7885,_0x41d01b=doc(db,_0x50a710(0x3e0),_0x50a710(0x798));try{await setDoc(_0x41d01b,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x30ed0f){console[_0x50a710(0xc4f)]('Error\x20saving\x20shortcut\x20config:',_0x30ed0f);}}async function handleAddShortcutTab(){const _0xd22c16=_0x6a7885,_0x7afcf2=prompt(_0xd22c16(0x609),_0xd22c16(0x98a));if(!_0x7afcf2||_0x7afcf2['trim']()==='')return;shortcutTabs['push']({'id':_0xd22c16(0xcea)+Date[_0xd22c16(0x7f3)](),'name':_0x7afcf2['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3a15df,_0x3827a8){const _0x594288=_0x6a7885,_0x4f00cd=shortcutTabs['find'](_0x3650ad=>_0x3650ad['id']===_0x3a15df);_0x4f00cd&&_0x3827a8['trim']()!==''&&(_0x4f00cd[_0x594288(0xae4)]=_0x3827a8[_0x594288(0x797)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x55f4f5){const _0x3d12ad=_0x6a7885,_0x59d822=shortcutTabs[_0x3d12ad(0x8c7)](_0x5f1147=>_0x5f1147['id']===_0x55f4f5);_0x59d822&&!_0x59d822[_0x3d12ad(0xb43)]&&showConfirmation(_0x3d12ad(0x381)+_0x59d822['name']+_0x3d12ad(0x886),async()=>{shortcutTabs=shortcutTabs['filter'](_0x1ba642=>_0x1ba642['id']!==_0x55f4f5),delete shortcutOrder[_0x55f4f5];if(activeShortcutTabId===_0x55f4f5)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x3ea8e6,_0x4311df){const _0x206e6b=_0x6a7885,_0xeeab89=shortcutTabs[_0x206e6b(0x8c7)](_0x14fb62=>_0x14fb62['id']===_0x4311df);_0xeeab89&&!_0xeeab89[_0x206e6b(0x416)][_0x206e6b(0x317)](_0x3ea8e6)&&(_0xeeab89['shortcutIds']['push'](_0x3ea8e6),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x42f1c2,_0x31b8f6){const _0x42137d=_0x6a7885,_0x89be21=shortcutTabs[_0x42137d(0x8c7)](_0x5321cc=>_0x5321cc['id']===_0x31b8f6);_0x89be21&&!_0x89be21[_0x42137d(0xb43)]&&(_0x89be21[_0x42137d(0x416)]=_0x89be21['shortcutIds'][_0x42137d(0xcae)](_0x162673=>_0x162673!==_0x42f1c2),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x24a68e,_0x224a82){shortcutOrder[_0x24a68e]=_0x224a82,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x1a9a69=_0x6a7885,_0x1986c7=document[_0x1a9a69(0x52a)]('blueprint-shortcut-container'),_0x4b2afb=document[_0x1a9a69(0x52a)](_0x1a9a69(0xbd8)),_0x33347c=document['getElementById'](_0x1a9a69(0xd0b));_0x33347c&&_0x33347c[_0x1a9a69(0x817)][_0x1a9a69(0x642)](_0x1a9a69(0x68d));if(!_0x1986c7||!_0x4b2afb)return;const _0x1d0f2c=blueprintShortcuts[_0x1a9a69(0x98c)](0x0,0x4),_0x307509=blueprintShortcuts[_0x1a9a69(0x98c)](0x4);_0x1986c7[_0x1a9a69(0xd3c)]=_0x1d0f2c[_0x1a9a69(0x8cc)](_0x14af3b=>{const _0x5a6959=_0x1a9a69;let _0x50129a='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x304652='🧩';if(_0x14af3b[_0x5a6959(0xb4f)]&&_0x14af3b[_0x5a6959(0x270)])_0x50129a=_0x5a6959(0xb99),_0x304652='📗';else _0x14af3b[_0x5a6959(0xb4f)]&&(_0x50129a='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x304652='📘');const _0x75d845=!_0x14af3b[_0x5a6959(0xb43)]?_0x5a6959(0x3d3)+_0x14af3b['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x14af3b['id']+_0x5a6959(0x9c8)+_0x50129a+_0x5a6959(0xd6f)+_0x304652+'\x20'+_0x14af3b['name']+_0x5a6959(0x6b7)+_0x14af3b['id']+_0x5a6959(0xb01)+_0x75d845+_0x5a6959(0x5bb);})[_0x1a9a69(0x35d)](''),_0x307509[_0x1a9a69(0xbc8)]>0x0&&(_0x1986c7[_0x1a9a69(0xd3c)]+=_0x1a9a69(0x623)),_0x307509[_0x1a9a69(0xbc8)]>0x0?_0x4b2afb[_0x1a9a69(0xd3c)]=_0x307509['map'](_0x4ca94d=>{const _0x2c1009=_0x1a9a69;let _0x3b0a43='🧩';if(_0x4ca94d[_0x2c1009(0xb4f)]&&_0x4ca94d[_0x2c1009(0x270)])_0x3b0a43='📗';else _0x4ca94d[_0x2c1009(0xb4f)]&&(_0x3b0a43='📘');return _0x2c1009(0xa59)+_0x3b0a43+'\x20'+_0x4ca94d[_0x2c1009(0xae4)]+_0x2c1009(0x9ce)+_0x4ca94d['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4ca94d['id']+_0x2c1009(0x9f8)+(!_0x4ca94d[_0x2c1009(0xb43)]?_0x2c1009(0x3d3)+_0x4ca94d['id']+_0x2c1009(0xa0f):'')+_0x2c1009(0x30e);})[_0x1a9a69(0x35d)](''):_0x4b2afb[_0x1a9a69(0xd3c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x55d8db){const _0x486ca2=_0x6a7885,_0x457b82=_0x55d8db[_0x486ca2(0x3c3)]('.')['pop']()[_0x486ca2(0x476)]();switch(_0x457b82){case _0x486ca2(0x6c1):return _0x486ca2(0xd47);case _0x486ca2(0xd77):return _0x486ca2(0xbb4);default:return _0x486ca2(0xd47);}}function openShortcutEditor(_0x20a91c=null){const _0x5ea7fc=_0x6a7885,_0x5974f0=document[_0x5ea7fc(0x52a)]('shortcut-editor-modal'),_0x336c4f=document[_0x5ea7fc(0x52a)](_0x5ea7fc(0x6c4)),_0x46e7b1=document[_0x5ea7fc(0x52a)](_0x5ea7fc(0x213)),_0x4ecb3f=document[_0x5ea7fc(0x52a)]('shortcut-name-input'),_0x374f9d=document['getElementById']('shortcut-blueprint-url-input'),_0x2ea806=document['getElementById']('shortcut-reference-url-input');if(_0x20a91c){const _0x5342e5=blueprintShortcuts[_0x5ea7fc(0x8c7)](_0x2b24db=>_0x2b24db['id']===_0x20a91c);if(!_0x5342e5)return;_0x336c4f[_0x5ea7fc(0x675)]='แก้ไขปุ่มลัด',_0x46e7b1['value']=_0x5342e5['id'],_0x4ecb3f['value']=_0x5342e5[_0x5ea7fc(0xae4)],_0x374f9d[_0x5ea7fc(0x3c4)]=_0x5342e5[_0x5ea7fc(0xb4f)]||'',_0x2ea806[_0x5ea7fc(0x3c4)]=_0x5342e5[_0x5ea7fc(0x270)]||'';}else _0x336c4f['textContent']='เพิ่มปุ่มลัดใหม่',_0x46e7b1[_0x5ea7fc(0x3c4)]='',_0x4ecb3f[_0x5ea7fc(0x3c4)]='',_0x374f9d[_0x5ea7fc(0x3c4)]='',_0x2ea806[_0x5ea7fc(0x3c4)]='';_0x5974f0[_0x5ea7fc(0x817)]['remove'](_0x5ea7fc(0x68d));}async function saveShortcutChanges(){const _0x25b509=_0x6a7885,_0x3dc39a=document[_0x25b509(0x52a)](_0x25b509(0x213))[_0x25b509(0x3c4)],_0xf5f05=document[_0x25b509(0x52a)](_0x25b509(0x778))[_0x25b509(0x3c4)]['trim'](),_0x858045=document[_0x25b509(0x52a)]('shortcut-blueprint-url-input')['value'][_0x25b509(0x797)]();if(!_0xf5f05||!_0x858045){showMessage(_0x25b509(0x87f));return;}const _0x20a89c={'id':_0x3dc39a||_0x25b509(0xdd8)+Date[_0x25b509(0x7f3)](),'name':_0xf5f05,'blueprintUrl':_0x858045,'referenceUrl':document[_0x25b509(0x52a)](_0x25b509(0x860))[_0x25b509(0x3c4)][_0x25b509(0x797)](),'isDefault':_0x3dc39a[_0x25b509(0xa13)]('default-')};let _0x3a1cdd;_0x3dc39a?_0x3a1cdd=blueprintShortcuts[_0x25b509(0x8cc)](_0x24b6ef=>_0x24b6ef['id']===_0x3dc39a?_0x20a89c:_0x24b6ef):_0x3a1cdd=[...blueprintShortcuts,_0x20a89c];try{const _0x2c5836=doc(db,_0x25b509(0x3e0),_0x25b509(0x798));await setDoc(_0x2c5836,{'blueprintShortcuts':_0x3a1cdd},{'merge':!![]}),document[_0x25b509(0x52a)](_0x25b509(0xb28))[_0x25b509(0x817)][_0x25b509(0x642)](_0x25b509(0x68d));}catch(_0x440adc){console[_0x25b509(0xc4f)](_0x25b509(0x3c2),_0x440adc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x5d0000){const _0x4c23f1=_0x6a7885,_0x5c4595=blueprintShortcuts[_0x4c23f1(0x8c7)](_0x3fe643=>_0x3fe643['id']===_0x5d0000);if(!_0x5c4595||!_0x5c4595[_0x4c23f1(0xb4f)])return;document[_0x4c23f1(0x52a)](_0x4c23f1(0xadf))[_0x4c23f1(0x817)]['add'](_0x4c23f1(0x68d)),document[_0x4c23f1(0x52a)]('generate-from-blueprint-btn')[_0x4c23f1(0x459)]=!![];const _0x1597f7=document[_0x4c23f1(0x52a)](_0x4c23f1(0x845)),_0x2716c6=document[_0x4c23f1(0x52a)]('loader-text');document[_0x4c23f1(0x52a)](_0x4c23f1(0x4c2))['classList'][_0x4c23f1(0xb2b)](_0x4c23f1(0x68d)),document[_0x4c23f1(0x52a)](_0x4c23f1(0x25a))[_0x4c23f1(0xd3c)]='',_0x1597f7[_0x4c23f1(0x817)][_0x4c23f1(0xb2b)](_0x4c23f1(0x68d));try{_0x2716c6['textContent']='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x44bd62=await fetchFileFromUrl(_0x5c4595[_0x4c23f1(0xb4f)],'blueprint.pdf');let _0x40d45b=null;if(_0x5c4595['referenceUrl']){_0x2716c6['textContent']=_0x4c23f1(0x54d);const _0x71d371=_0x5c4595[_0x4c23f1(0x270)][_0x4c23f1(0x476)]()[_0x4c23f1(0xbc3)](_0x4c23f1(0x594))?_0x4c23f1(0xcab):'reference.pdf';_0x40d45b=await fetchFileFromUrl(_0x5c4595[_0x4c23f1(0x270)],_0x71d371);}await handleGenerateFromBlueprintWithFiles(_0x44bd62,_0x40d45b);}catch(_0x289ec5){console[_0x4c23f1(0xc4f)](_0x4c23f1(0xaa4),_0x289ec5),showMessage(_0x4c23f1(0xc44)+_0x289ec5[_0x4c23f1(0xacb)]),_0x1597f7['classList']['add'](_0x4c23f1(0x68d));}}function getDirectDownloadUrl(_0x3a9d10){const _0x9dd06f=_0x6a7885,_0x4aaba8=_0x3a9d10[_0x9dd06f(0x42b)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x4aaba8&&_0x4aaba8[0x1])return _0x9dd06f(0xa69)+_0x4aaba8[0x1];return _0x3a9d10;}async function fetchFileFromUrl(_0x200088,_0x2ef503){const _0x17ef5c=_0x6a7885,_0x483c54=getDirectDownloadUrl(_0x200088),_0x52e659=_0x17ef5c(0x4e6)+encodeURIComponent(_0x483c54),_0x26c94f=await fetch(_0x52e659);if(!_0x26c94f['ok'])throw new Error(_0x17ef5c(0x2aa)+_0x26c94f['status']+')');const _0x3ddd7d=await _0x26c94f[_0x17ef5c(0xd22)](),_0xfb64a4=await new Promise((_0xcd3285,_0xf8e4a9)=>{const _0x28044e=_0x17ef5c,_0x59026d=new FileReader();_0x59026d[_0x28044e(0x755)]=()=>_0xcd3285(new Uint8Array(_0x59026d['result'])),_0x59026d[_0x28044e(0x1e0)]=_0xf8e4a9,_0x59026d[_0x28044e(0xcde)](_0x3ddd7d[_0x28044e(0x98c)](0x0,0x4));});let _0x5dbac3='';const _0x24ff71=new TextDecoder()[_0x17ef5c(0x835)](_0xfb64a4);return _0x24ff71==='%PDF'?(_0x5dbac3=_0x17ef5c(0xd47),console[_0x17ef5c(0xba9)](_0x17ef5c(0xcaf))):(_0x5dbac3=_0x17ef5c(0xbb4),console[_0x17ef5c(0xba9)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x3ddd7d],_0x2ef503,{'type':_0x5dbac3});}async function handleGenerateFromBlueprintWithFiles(_0x14f265,_0x357b5f=null){const _0x52766c=_0x6a7885;if(!_0x14f265){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x17a8a5=document[_0x52766c(0x52a)](_0x52766c(0x845)),_0x157fe5=document['getElementById'](_0x52766c(0x862));_0x17a8a5['classList']['remove'](_0x52766c(0x68d)),document[_0x52766c(0x52a)](_0x52766c(0x4c2))[_0x52766c(0x817)][_0x52766c(0xb2b)](_0x52766c(0x68d)),document[_0x52766c(0x52a)](_0x52766c(0x25a))[_0x52766c(0xd3c)]='';try{_0x157fe5[_0x52766c(0x675)]=_0x52766c(0x692);const _0x5a8c10=await new Promise((_0x337e99,_0x58115c)=>{const _0x44ffdc=_0x52766c,_0x35113f=new FileReader();_0x35113f[_0x44ffdc(0x203)](_0x14f265),_0x35113f[_0x44ffdc(0xb87)]=()=>_0x337e99(_0x35113f[_0x44ffdc(0xded)][_0x44ffdc(0x3c3)](',')[0x1]),_0x35113f[_0x44ffdc(0x1e0)]=_0x58115c;}),_0x21b9bc=[];if(_0x357b5f){_0x157fe5[_0x52766c(0x675)]=_0x52766c(0xa1d);const _0x1be18b=await _0x357b5f['text']();_0x21b9bc[_0x52766c(0x586)]({'text':_0x52766c(0xd5f)+_0x1be18b});}const _0x2982ae=[{'text':'...'},{'inlineData':{'mimeType':_0x14f265['type'],'data':_0x5a8c10}},..._0x21b9bc];await handleGenerateFromBlueprint(_0x2982ae);}catch(_0x270e78){console['error'](_0x52766c(0x4f7),_0x270e78),showMessage(_0x52766c(0xc44)+_0x270e78['message']),_0x17a8a5[_0x52766c(0x817)][_0x52766c(0x642)]('hidden');}}async function handleLiveAnswer(_0x3d3b95,_0x572651){const _0x42eb1e=_0x6a7885;document[_0x42eb1e(0x7b3)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x58851d=>_0x58851d['disabled']=!![]);const _0xf90ea9=_0x572651[_0x42eb1e(0x8c1)]||currentQuizData[_0x42eb1e(0xafb)];let _0x4ecd57=![],_0x4a0994=_0x3d3b95;if(_0xf90ea9==='short_answer'){const _0x4c32ed=(_0x3d3b95||'')[_0x42eb1e(0x443)]();_0x4ecd57=await gradeShortAnswer(_0x4c32ed,_0x572651);}else{if(_0xf90ea9===_0x42eb1e(0xa3b))_0x4ecd57=_0x3d3b95===_0x572651[_0x42eb1e(0x7cc)];else{if(_0xf90ea9===_0x42eb1e(0x3f6)){const _0x3e1d24=_0x572651[_0x42eb1e(0x950)];_0x4ecd57=_0x3d3b95===0x0&&_0x3e1d24||_0x3d3b95===0x1&&!_0x3e1d24;}else{if(_0xf90ea9===_0x42eb1e(0x747)){const _0x429866=_0x572651[_0x42eb1e(0xc0f)][_0x3d3b95];_0x4ecd57=_0x429866===_0x572651['correctResponse'],_0x4a0994=_0x429866;}}}}const _0x1add59=doc(db,_0x42eb1e(0x3c5)+appId+_0x42eb1e(0x222),currentLiveGameId),_0x41e04c={};_0x41e04c[_0x42eb1e(0x6a0)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x41e04c[_0x42eb1e(0x6a0)+currentStudentName+_0x42eb1e(0x737)]=_0x4ecd57,_0x41e04c[_0x42eb1e(0x6a0)+currentStudentName+_0x42eb1e(0x266)]=_0xf90ea9===_0x42eb1e(0x247)||_0xf90ea9===_0x42eb1e(0x747)?null:_0x3d3b95,_0x41e04c['players.'+currentStudentName+_0x42eb1e(0x65a)]=_0x4a0994,_0x41e04c[_0x42eb1e(0x6a0)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x41e04c['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x1add59,_0x41e04c),liveGameView[_0x42eb1e(0xd3c)]=_0x42eb1e(0x71f);}function showAdminSummaryView(_0x5751a0,_0x442da2){const _0x1140ab=_0x6a7885,_0x51d77a=Object[_0x1140ab(0xbd1)](_0x5751a0[_0x1140ab(0xa6d)]||{}),_0x2c0d8a=_0x442da2[_0x1140ab(0x8c1)]||currentQuizData[_0x1140ab(0xafb)],_0x2e2cf6=_0x2c0d8a===_0x1140ab(0x3f6)?['ใช่',_0x1140ab(0x9b9)]:_0x442da2[_0x1140ab(0xd99)]||_0x442da2[_0x1140ab(0xc0f)]||[],_0x3c3ff4={},_0x5a7bff=new Array(_0x2e2cf6[_0x1140ab(0xbc8)])[_0x1140ab(0xc34)](0x0);_0x2e2cf6[_0x1140ab(0x79a)]((_0x26f033,_0x1c1778)=>{_0x3c3ff4[_0x1c1778]=[];}),Object['entries'](_0x5751a0[_0x1140ab(0xa6d)]||{})['forEach'](([_0x33dc88,_0x261894])=>{const _0x2bd51e=_0x1140ab;if(_0x261894[_0x2bd51e(0xc96)]===_0x2bd51e(0x7ec)&&_0x261894[_0x2bd51e(0x977)]!==undefined){const _0x3a3552=_0x261894[_0x2bd51e(0x977)];_0x3c3ff4[_0x3a3552]&&(_0x3c3ff4[_0x3a3552][_0x2bd51e(0x586)](_0x33dc88),_0x5a7bff[_0x3a3552]++);}});const _0x15a44b=Math[_0x1140ab(0xbf8)](..._0x5a7bff,0x1),_0x2d28a3=_0x1140ab(0xc9b)+(_0x442da2[_0x1140ab(0xdbf)]||_0x442da2['questionText'])+_0x1140ab(0x66b)+_0x5a7bff[_0x1140ab(0x8cc)]((_0x322e78,_0x50791c)=>{const _0x1e289c=_0x1140ab,_0xf5b37c=_0x3c3ff4[_0x50791c]['length']>0x0?_0x3c3ff4[_0x50791c]['join'](',\x20'):_0x1e289c(0x8ef);let _0x463d0d=![];if(_0x2c0d8a==='multiple_choice')_0x463d0d=_0x50791c===_0x442da2[_0x1e289c(0x7cc)];else{if(_0x2c0d8a===_0x1e289c(0x3f6)){const _0x3ee93e=_0x442da2['correctAnswer'];_0x463d0d=_0x3ee93e&&_0x50791c===0x0||!_0x3ee93e&&_0x50791c===0x1;}else _0x2c0d8a===_0x1e289c(0x747)&&(_0x463d0d=_0x2e2cf6[_0x50791c]===_0x442da2[_0x1e289c(0x573)]);}const _0x493044=_0x463d0d?_0x1e289c(0x8ad):_0x1e289c(0x50e);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x322e78+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x493044+_0x1e289c(0x88f)+_0x50791c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x2e2cf6[_0x50791c]+_0x1e289c(0xa41)+_0x50791c+_0x1e289c(0xb09)+_0xf5b37c+_0x1e289c(0x6ab);})[_0x1140ab(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1140ab(0xd3c)]=_0x2d28a3;if(window[_0x1140ab(0xb46)])MathJax[_0x1140ab(0x787)]();document['getElementById'](_0x1140ab(0xdb9))[_0x1140ab(0x6dd)](_0x1140ab(0x564),async()=>{const _0x3ddbec=_0x1140ab,_0x231ff8=doc(db,_0x3ddbec(0x3c5)+appId+_0x3ddbec(0x222),currentLiveGameId);await updateDoc(_0x231ff8,{'questionStatus':_0x3ddbec(0x771)});}),document[_0x1140ab(0x52a)](_0x1140ab(0x635))[_0x1140ab(0x6dd)](_0x1140ab(0x564),()=>{openScratchpad(_0x442da2,_0x2e2cf6);});}function showPlayerSummaryView(_0x529f5b,_0x2a7316){const _0x328479=_0x6a7885,_0x4f862b=Object[_0x328479(0xbd1)](_0x529f5b[_0x328479(0xa6d)]||{}),_0x420bb9=_0x529f5b[_0x328479(0xa6d)][_0x2a7316],_0xd7ca76=_0x4f862b[_0x328479(0xcae)](_0x513c26=>_0x513c26['status']===_0x328479(0x7ec))[_0x328479(0xd66)]((_0xe7bc94,_0x39b797)=>_0x39b797[_0x328479(0xb95)]-_0xe7bc94[_0x328479(0xb95)]),_0x224277=_0xd7ca76['findIndex'](_0x15a169=>_0x15a169===_0x420bb9)+0x1,_0x172255=_0x420bb9[_0x328479(0xb31)]?_0x328479(0xd07):_0x328479(0x5a7),_0x5be205=_0x420bb9[_0x328479(0xb31)]?_0x328479(0x6fe):_0x328479(0x712),_0x15d5cc=_0x420bb9[_0x328479(0x8b2)]||0x0,_0x311ede=_0x328479(0xb38),_0x57fbe1=_0x328479(0xde4)+_0x311ede+_0x328479(0x364)+_0x5be205+_0x328479(0x9bb)+_0x172255+_0x328479(0xd45)+_0x15d5cc+_0x328479(0x3c6)+(_0x224277>0x0?_0x224277:'-')+_0x328479(0x9d0);liveGameView[_0x328479(0xd3c)]=_0x57fbe1;}function createQuizFromBank(){const _0x1ef1db=_0x6a7885,_0x408c70=document['querySelectorAll'](_0x1ef1db(0x433));if(_0x408c70[_0x1ef1db(0xbc8)]===0x0){showMessage(_0x1ef1db(0x8e3));return;}const _0x5aabe5=[];_0x408c70[_0x1ef1db(0x79a)](_0x2769f5=>{_0x5aabe5['push'](JSON['parse'](_0x2769f5['value']));});const _0xc20d5={'topic':_0x1ef1db(0x2df),'questions':_0x5aabe5};displayGeneratedQuiz(_0xc20d5);}function showAdminLobbyView(_0x3f34f9,_0x5254a2){const _0x3c555a=_0x6a7885;showView(_0x3c555a(0x58c));const _0x4f1e90=_0x3c555a(0x6ae)+_0x5254a2+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3f34f9+_0x3c555a(0xd3a);liveGameView[_0x3c555a(0xd3c)]=_0x4f1e90,document[_0x3c555a(0x52a)](_0x3c555a(0x714))[_0x3c555a(0x6dd)](_0x3c555a(0x564),async()=>{const _0xd2b3c7=_0x3c555a;if(!currentQuizData||!currentQuizData[_0xd2b3c7(0x665)]||currentQuizData['questions'][_0xd2b3c7(0xbc8)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x335445=doc(db,_0xd2b3c7(0x3c5)+appId+_0xd2b3c7(0x222),currentLiveGameId);await updateDoc(_0x335445,{'status':_0xd2b3c7(0xa64),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1fdc7d=currentQuizData['questions'][0x0],_0x4ae8c7=currentQuizData[_0xd2b3c7(0x665)][_0xd2b3c7(0xbc8)];showAdminLiveQuestionView(_0x1fdc7d,0x0,_0x4ae8c7);}catch(_0x1200bc){console[_0xd2b3c7(0xc4f)](_0xd2b3c7(0x729),_0x1200bc),showMessage(_0xd2b3c7(0xa42));}});}async function openQuizBankModal(){const _0x119dbe=_0x6a7885;if(allQuizzesGlobal['length']===0x0){const _0x23bf15=await getDocs(collection(db,_0x119dbe(0x3c5)+appId+_0x119dbe(0x383)));allQuizzesGlobal=_0x23bf15[_0x119dbe(0x3f3)][_0x119dbe(0x8cc)](_0x289433=>({'id':_0x289433['id'],..._0x289433[_0x119dbe(0x36d)]()}));}renderQuizBankList(''),document[_0x119dbe(0x52a)](_0x119dbe(0xb2c))[_0x119dbe(0x817)][_0x119dbe(0xb2b)](_0x119dbe(0x68d));}function renderQuizBankList(_0x3e3e8e='',_0x30c3c4=![]){const _0xa0bc=_0x6a7885,_0x16b934=document[_0xa0bc(0x52a)](_0xa0bc(0x6c3)),_0x5ef3e4=_0x3e3e8e[_0xa0bc(0x476)]()[_0xa0bc(0x797)](),_0x27ac62=allQuizzesGlobal[_0xa0bc(0x8cc)](_0x5e85eb=>({..._0x5e85eb,'projectName':allProjects[_0xa0bc(0x8c7)](_0x409e83=>_0x409e83['id']===_0x5e85eb['projectId'])?.[_0xa0bc(0xb0b)]||_0xa0bc(0x6e4)}))[_0xa0bc(0xcae)](_0x3c0ad3=>(_0x3c0ad3[_0xa0bc(0x801)]||'')[_0xa0bc(0x476)]()['includes'](_0x5ef3e4)||(_0x3c0ad3[_0xa0bc(0xb0b)]||'')['toLowerCase']()[_0xa0bc(0x317)](_0x5ef3e4)||_0x3c0ad3['id'][_0xa0bc(0x443)]()[_0xa0bc(0x317)](_0x5ef3e4));document['getElementById'](_0xa0bc(0x9cd))[_0xa0bc(0x675)]='('+_0x27ac62[_0xa0bc(0xbc8)]+'\x20ชุด)',_0x16b934['innerHTML']=_0x27ac62[_0xa0bc(0xbc8)]?_0x27ac62['map'](_0x7f9f43=>{const _0x529170=_0xa0bc,_0x4874f1=!_0x30c3c4?_0x529170(0x8c0)+_0x7f9f43['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x7f9f43['id']+_0x529170(0xa24)+_0x7f9f43['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x7f9f43['id']+_0x529170(0x6b1)+_0x7f9f43['id']+_0x529170(0x6cb)+_0x7f9f43['id']+_0x529170(0x789)+_0x7f9f43[_0x529170(0x801)]+_0x529170(0x915):'';return _0x529170(0xc01)+_0x7f9f43['id']+_0x529170(0x2db)+(_0x7f9f43[_0x529170(0x801)]||_0x529170(0xa05))+_0x529170(0xdab)+(_0x7f9f43[_0x529170(0x665)]?.[_0x529170(0xbc8)]||0x0)+_0x529170(0xd2d)+_0x7f9f43[_0x529170(0xb0b)]+_0x529170(0x94c)+_0x7f9f43['id']+_0x529170(0x942)+_0x4874f1+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0xa0bc(0x35d)](''):_0xa0bc(0xbc2),!_0x30c3c4&&(_0x16b934['querySelectorAll']('.quiz-bank-item')[_0xa0bc(0x79a)](_0x2a3e5a=>{const _0x324632=_0xa0bc;_0x2a3e5a[_0x324632(0x6dd)]('click',()=>{const _0x3fe49c=_0x324632,_0x435f54=_0x2a3e5a[_0x3fe49c(0xba5)]['id'];document[_0x3fe49c(0x52a)](_0x3fe49c(0xb2c))[_0x3fe49c(0x817)][_0x3fe49c(0x642)]('hidden'),showQuizDetailView(_0x435f54);});}),_0x16b934[_0xa0bc(0x7b3)](_0xa0bc(0xc12))['forEach'](_0x1aea5f=>{const _0x238366=_0xa0bc;_0x1aea5f[_0x238366(0x6dd)](_0x238366(0x564),_0x29d61f=>{const _0x1521cd=_0x238366;_0x29d61f[_0x1521cd(0xcd7)]();const _0x2a8072=_0x1aea5f[_0x1521cd(0xba5)]['id'],_0x1554a0=allQuizzesGlobal[_0x1521cd(0x8c7)](_0x3a9b25=>_0x3a9b25['id']===_0x2a8072);_0x1554a0?(currentQuizData=_0x1554a0,document['getElementById'](_0x1521cd(0xb2c))[_0x1521cd(0x817)]['add']('hidden'),startAdminTest()):showMessage(_0x1521cd(0x232));});}),_0x16b934['querySelectorAll'](_0xa0bc(0xc8e))[_0xa0bc(0x79a)](_0x38f9bc=>{const _0x3957e3=_0xa0bc;_0x38f9bc[_0x3957e3(0x6dd)](_0x3957e3(0x564),_0x247a97=>{const _0x375004=_0x3957e3;_0x247a97[_0x375004(0xcd7)]();const _0x3deaa6=_0x38f9bc[_0x375004(0xba5)]['id'],_0x326332=allQuizzesGlobal['find'](_0x2e72c0=>_0x2e72c0['id']===_0x3deaa6);_0x326332?(document['getElementById']('quiz-bank-modal')[_0x375004(0x817)][_0x375004(0x642)]('hidden'),handleGenerateParallelFromBank(_0x326332)):showMessage(_0x375004(0x232));});}),_0x16b934['querySelectorAll'](_0xa0bc(0x52d))[_0xa0bc(0x79a)](_0x4e817f=>{const _0x317216=_0xa0bc;_0x4e817f[_0x317216(0x6dd)](_0x317216(0x564),_0x3d8cf1=>{const _0x36a586=_0x317216;_0x3d8cf1[_0x36a586(0xcd7)]();const _0x341807=_0x4e817f[_0x36a586(0xba5)]['id'],_0x27d73e=allQuizzesGlobal[_0x36a586(0x8c7)](_0x24e1a2=>_0x24e1a2['id']===_0x341807);_0x27d73e?(document['getElementById'](_0x36a586(0xb2c))[_0x36a586(0x817)][_0x36a586(0x642)](_0x36a586(0x68d)),startPresentation(_0x27d73e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x16b934['querySelectorAll'](_0xa0bc(0xc4e))[_0xa0bc(0x79a)](_0x185040=>{const _0x508568=_0xa0bc;_0x185040[_0x508568(0x6dd)](_0x508568(0x564),_0x48b701=>{const _0x42d31c=_0x508568;_0x48b701['stopPropagation']();const _0x4e432e=_0x185040[_0x42d31c(0xba5)]['id'];document['getElementById']('quiz-bank-modal')[_0x42d31c(0x817)][_0x42d31c(0x642)](_0x42d31c(0x68d)),handleMoveQuiz(_0x4e432e);});}),_0x16b934[_0xa0bc(0x7b3)](_0xa0bc(0x55a))[_0xa0bc(0x79a)](_0x41af1e=>{const _0x3d8f1a=_0xa0bc;_0x41af1e[_0x3d8f1a(0x6dd)](_0x3d8f1a(0x564),_0x4ecd89=>{const _0x315129=_0x3d8f1a;_0x4ecd89[_0x315129(0xcd7)]();const _0x56d7a0=_0x41af1e[_0x315129(0xba5)]['id'];document[_0x315129(0x52a)]('quiz-bank-modal')[_0x315129(0x817)][_0x315129(0x642)](_0x315129(0x68d)),handleQuizSettings(_0x56d7a0);});}),_0x16b934[_0xa0bc(0x7b3)](_0xa0bc(0x9c4))[_0xa0bc(0x79a)](_0x57e8ea=>{const _0x38f16f=_0xa0bc;_0x57e8ea[_0x38f16f(0x6dd)](_0x38f16f(0x564),_0x24c2ec=>{const _0x180d4e=_0x38f16f;_0x24c2ec[_0x180d4e(0xcd7)]();const _0x1e6048=_0x57e8ea[_0x180d4e(0xba5)]['id'],_0x2f3753=_0x57e8ea['dataset']['topic'];showConfirmation(_0x180d4e(0x4d7)+_0x2f3753+_0x180d4e(0x877),()=>handleDeleteQuiz(_0x1e6048));});}));}async function handleCompareResults(_0x37971a,_0x5c84ff){const _0x3b7335=_0x6a7885,_0x10dfe2=document[_0x3b7335(0x52a)](_0x3b7335(0xb57)),_0x318210=document[_0x3b7335(0x52a)](_0x3b7335(0x2c8)),_0x378bd3=document['getElementById'](_0x3b7335(0xd18));document[_0x3b7335(0x52a)](_0x3b7335(0xb39))[_0x3b7335(0x817)]['add']('active'),document['getElementById'](_0x3b7335(0x4a0))['classList']['remove'](_0x3b7335(0x7ec)),_0x318210[_0x3b7335(0x817)][_0x3b7335(0xb2b)]('hidden'),_0x378bd3[_0x3b7335(0x817)]['add'](_0x3b7335(0x68d)),_0x318210[_0x3b7335(0xd3c)]=_0x3b7335(0xb35),_0x378bd3[_0x3b7335(0xd3c)]='',_0x10dfe2[_0x3b7335(0x817)][_0x3b7335(0xb2b)](_0x3b7335(0x68d));try{const _0x5e1a9a=doc(db,_0x3b7335(0x3c5)+appId+_0x3b7335(0x383),_0x37971a),_0x1a1d94=await getDoc(_0x5e1a9a);if(!_0x1a1d94[_0x3b7335(0xd3f)]())throw new Error(_0x3b7335(0x857));const _0x2f5c22=_0x1a1d94[_0x3b7335(0x36d)](),_0x485145=_0x2f5c22[_0x3b7335(0x665)][_0x3b7335(0xbc8)],_0x3dae2e=collection(db,_0x3b7335(0x3c5)+appId+_0x3b7335(0x5b0)+_0x5c84ff+_0x3b7335(0x211)),_0xd12586=collection(db,_0x3b7335(0x3c5)+appId+_0x3b7335(0x5b0)+_0x37971a+_0x3b7335(0x211)),[_0x20e5ea,_0x159f0f]=await Promise[_0x3b7335(0xdd0)]([getDocs(_0x3dae2e),getDocs(_0xd12586)]),_0x598f62=_0x20e5ea[_0x3b7335(0x3f3)][_0x3b7335(0x8cc)](_0x5a2eeb=>_0x5a2eeb[_0x3b7335(0x36d)]()),_0x24b105=_0x159f0f[_0x3b7335(0x3f3)][_0x3b7335(0x8cc)](_0x3cb7be=>_0x3cb7be[_0x3b7335(0x36d)]()),_0x5ec654=_0x598f62[_0x3b7335(0x8cc)](_0x4201f2=>_0x4201f2[_0x3b7335(0x234)]),_0xa5a391=_0x24b105[_0x3b7335(0x8cc)](_0x4bbe05=>_0x4bbe05[_0x3b7335(0x234)]),_0x4f8922=calculateMeanAndStdDev(_0x5ec654),_0x1eed40=calculateMeanAndStdDev(_0xa5a391),_0x124ab7=_0x4f8922[_0x3b7335(0x3f7)],_0x11317a=_0x1eed40[_0x3b7335(0x3f7)],_0x3204c2=_0x11317a-_0x124ab7;let _0xdd5fb5=_0x3b7335(0x258)+_0x124ab7[_0x3b7335(0x39f)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x11317a['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x3204c2>=0x0?'bg-emerald-100':_0x3b7335(0xcfb))+_0x3b7335(0x2bd)+(_0x3204c2>=0x0?_0x3b7335(0x661):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x3204c2>=0x0?_0x3b7335(0xc6a):_0x3b7335(0x650))+'\x22>'+(_0x3204c2>=0x0?'+':'')+_0x3204c2[_0x3b7335(0x39f)](0x2)+_0x3b7335(0x73e);_0x318210[_0x3b7335(0xd3c)]=_0xdd5fb5;const _0x2437ea=document[_0x3b7335(0x52a)]('comparison-chart')[_0x3b7335(0xaf3)]('2d');if(chartInstances[_0x3b7335(0xc02)])chartInstances[_0x3b7335(0xc02)][_0x3b7335(0x735)]();chartInstances['comparison']=new Chart(_0x2437ea,{'type':_0x3b7335(0x2be),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x3b7335(0x372),'data':[_0x124ab7],'backgroundColor':_0x3b7335(0xd57)},{'label':_0x3b7335(0x6b5),'data':[_0x11317a],'backgroundColor':_0x3b7335(0x2b6)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x485145}}}});const _0x9bf9f6=currentProjectData[_0x3b7335(0x498)]||[],_0x357a4d=_0x9bf9f6['map'](_0x2ddaad=>{const _0x3b1a5f=_0x3b7335,_0x25dce3=_0x598f62[_0x3b1a5f(0x8c7)](_0x50a151=>_0x50a151[_0x3b1a5f(0x7a5)]===_0x2ddaad),_0x328d80=_0x24b105[_0x3b1a5f(0x8c7)](_0x22437e=>_0x22437e[_0x3b1a5f(0x7a5)]===_0x2ddaad),_0x2dbe79=_0x25dce3?_0x25dce3[_0x3b1a5f(0x234)]:null,_0x3d7d6c=_0x328d80?_0x328d80[_0x3b1a5f(0x234)]:null,_0x465599=_0x2dbe79!==null&&_0x3d7d6c!==null?_0x3d7d6c-_0x2dbe79:null,_0x4e3aef=_0x2dbe79!==null?calculateZScore(_0x2dbe79,_0x4f8922[_0x3b1a5f(0x3f7)],_0x4f8922[_0x3b1a5f(0x320)]):null,_0x487905=_0x3d7d6c!==null?calculateZScore(_0x3d7d6c,_0x1eed40[_0x3b1a5f(0x3f7)],_0x1eed40[_0x3b1a5f(0x320)]):null,_0x477d62=_0x4e3aef!==null?calculateTScore(_0x4e3aef):null,_0x5cbdd6=_0x487905!==null?calculateTScore(_0x487905):null,_0x2eadc9=_0x477d62!==null&&_0x5cbdd6!==null?_0x5cbdd6-_0x477d62:null;return{'name':_0x2ddaad,'preScore':_0x2dbe79,'postScore':_0x3d7d6c,'gain':_0x465599,'preTScore':_0x477d62,'postTScore':_0x5cbdd6,'tGain':_0x2eadc9};});renderIndividualComparisonTable(_0x357a4d,_0x378bd3);}catch(_0x49eee9){console[_0x3b7335(0xc4f)](_0x3b7335(0xbfb),_0x49eee9),_0x318210[_0x3b7335(0xd3c)]=_0x3b7335(0x9bf);}}async function saveBlueprintProject(){const _0x366e82=_0x6a7885;if(!extractedBlueprintData||!extractedBlueprintData[_0x366e82(0x6fd)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x480a00=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Blueprint\x20O-NET\x20ป.6');if(!_0x480a00||_0x480a00['trim']()==='')return;const _0x557696={};extractedBlueprintData[_0x366e82(0x6fd)][_0x366e82(0x79a)](_0xd04a52=>{const _0xf73d19=_0x366e82;_0xd04a52[_0xf73d19(0xa79)][_0xf73d19(0x79a)](_0x3803ee=>{const _0x936195=_0xf73d19;_0x3803ee[_0x936195(0x72a)][_0x936195(0x79a)](_0x353845=>{const _0x346bf4=_0x936195,_0x5c9480='topic_'+Date['now']()+Math[_0x346bf4(0x90b)]()['toString'](0x24)[_0x346bf4(0xda7)](0x2,0x9);_0x557696[_0x5c9480]={'sara':_0xd04a52[_0x346bf4(0x479)],'mainTopic':_0x3803ee[_0x346bf4(0x98b)],'subTopic':_0x353845,'status':_0x346bf4(0xd68),'lessonContent':null};});});});try{const _0x23e8e1=collection(db,_0x366e82(0x3c5)+appId+'/public/data/blueprintProjects');await addDoc(_0x23e8e1,{'projectName':_0x480a00[_0x366e82(0x797)](),'gradeLevel':extractedBlueprintData[_0x366e82(0x8a7)],'topics':_0x557696,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x480a00['trim']()+_0x366e82(0x49a)),document['getElementById']('save-blueprint-as-project-btn')['classList'][_0x366e82(0x642)](_0x366e82(0x68d));}catch(_0x24ace6){console['error'](_0x366e82(0xb05),_0x24ace6),showMessage(_0x366e82(0x700));}}async function showBlueprintProjects(){const _0xf5a24=_0x6a7885,_0x4db284=document['getElementById']('blueprint-projects-modal'),_0x4cc57c=document[_0xf5a24(0x52a)]('blueprint-project-list');_0x4cc57c[_0xf5a24(0xd3c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x4db284[_0xf5a24(0x817)][_0xf5a24(0xb2b)](_0xf5a24(0x68d));try{const _0x1a6c5a=collection(db,_0xf5a24(0x3c5)+appId+_0xf5a24(0x55f)),_0x9a10d2=await getDocs(_0x1a6c5a);if(_0x9a10d2[_0xf5a24(0x7b7)]){_0x4cc57c[_0xf5a24(0xd3c)]=_0xf5a24(0xa4f);return;}const _0x3b34cd=_0x9a10d2[_0xf5a24(0x3f3)][_0xf5a24(0x8cc)](_0x51056d=>({'id':_0x51056d['id'],..._0x51056d['data']()}));_0x3b34cd[_0xf5a24(0xd66)]((_0x464c04,_0x2d0acd)=>_0x464c04[_0xf5a24(0xb0b)][_0xf5a24(0x45b)](_0x2d0acd[_0xf5a24(0xb0b)],'th')),_0x4cc57c['innerHTML']=_0x3b34cd[_0xf5a24(0x8cc)](_0x38b669=>_0xf5a24(0x741)+_0x38b669[_0xf5a24(0xb0b)]+_0xf5a24(0x273)+_0x38b669[_0xf5a24(0x8a7)]+_0xf5a24(0xa5f)+Object['keys'](_0x38b669[_0xf5a24(0xbdd)])[_0xf5a24(0xbc8)]+_0xf5a24(0xcd6)+_0x38b669['id']+_0xf5a24(0x66f)+_0x38b669['id']+_0xf5a24(0x8e9))[_0xf5a24(0x35d)]('');}catch(_0x5870da){console['error'](_0xf5a24(0x455),_0x5870da),_0x4cc57c[_0xf5a24(0xd3c)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x3a3bf7){const _0x3d71bc=_0x6a7885;currentBlueprintProjectId=_0x3a3bf7,document[_0x3d71bc(0x52a)](_0x3d71bc(0x8ec))[_0x3d71bc(0x817)][_0x3d71bc(0x642)]('hidden'),showView('admin-dashboard'),projectDashboardView[_0x3d71bc(0x817)][_0x3d71bc(0x642)](_0x3d71bc(0x68d));const _0x594376=document['getElementById'](_0x3d71bc(0x8e7));_0x594376['classList']['remove'](_0x3d71bc(0x68d)),document[_0x3d71bc(0x52a)]('bp-topic-list-container')[_0x3d71bc(0xd3c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x46a3eb=doc(db,'artifacts/'+appId+_0x3d71bc(0x55f),_0x3a3bf7),_0x39c5dc=await getDoc(_0x46a3eb);if(!_0x39c5dc[_0x3d71bc(0xd3f)]())throw new Error(_0x3d71bc(0x2fe));const _0x466632={'id':_0x39c5dc['id'],..._0x39c5dc[_0x3d71bc(0x36d)]()};document[_0x3d71bc(0x52a)](_0x3d71bc(0x756))[_0x3d71bc(0x675)]=_0x466632[_0x3d71bc(0xb0b)],document[_0x3d71bc(0x52a)]('bp-reference-file-url')[_0x3d71bc(0x3c4)]=_0x466632[_0x3d71bc(0xa2d)]||'',renderBlueprintTopicManager(_0x466632);}catch(_0x8f7a1d){console[_0x3d71bc(0xc4f)](_0x3d71bc(0xa35),_0x8f7a1d),showMessage(_0x8f7a1d[_0x3d71bc(0xacb)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x595f1e){const _0x5d6be8=_0x6a7885,_0x239694=document[_0x5d6be8(0x52a)](_0x5d6be8(0x99f)),_0x370b3f=_0x595f1e[_0x5d6be8(0xbdd)]||{};if(Object[_0x5d6be8(0x879)](_0x370b3f)[_0x5d6be8(0xbc8)]===0x0){_0x239694[_0x5d6be8(0xd3c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x3b9737=Object[_0x5d6be8(0x7e6)](_0x370b3f)[_0x5d6be8(0x8cc)](([_0x196e5b,_0x59ca93])=>({'id':_0x196e5b,..._0x59ca93}))['sort']((_0x4ef9d2,_0x37434a)=>(_0x4ef9d2[_0x5d6be8(0x297)]??Infinity)-(_0x37434a['order']??Infinity)),_0x36cb3a={};_0x3b9737[_0x5d6be8(0x79a)](_0x3b2539=>{const _0x47f76e=_0x5d6be8,{sara:_0x601091,mainTopic:_0x1082ed}=_0x3b2539;!_0x36cb3a[_0x601091]&&(_0x36cb3a[_0x601091]={}),!_0x36cb3a[_0x601091][_0x1082ed]&&(_0x36cb3a[_0x601091][_0x1082ed]=[]),_0x36cb3a[_0x601091][_0x1082ed][_0x47f76e(0x586)](_0x3b2539);});let _0x680c3='';for(const _0x3b9dc6 in _0x36cb3a){_0x680c3+=_0x5d6be8(0xafc)+_0x3b9dc6+_0x5d6be8(0x1fe);for(const _0x8e90e2 in _0x36cb3a[_0x3b9dc6]){_0x680c3+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x8e90e2+_0x5d6be8(0xb59),_0x36cb3a[_0x3b9dc6][_0x8e90e2][_0x5d6be8(0x79a)](_0x197dff=>{const _0x188b59=_0x5d6be8,_0x3d8864=_0x197dff['id'],_0x37a177=_0x197dff[_0x188b59(0x2a8)]||[],_0x476b0e=_0x37a177[_0x188b59(0xbc8)]>0x0,_0x3de744=_0x197dff[_0x188b59(0xc96)]===_0x188b59(0x281);let _0x2a4bac='';_0x476b0e?_0x2a4bac=_0x188b59(0xd20)+_0x37a177[_0x188b59(0xbc8)]+'\x20ชุด)</span>':_0x2a4bac=_0x188b59(0x4d8)+(_0x3de744?_0x188b59(0x23b):_0x188b59(0x4f3))+'\x22>'+(_0x3de744?_0x188b59(0xbf6):_0x188b59(0x956))+_0x188b59(0x7b2);const _0x215685=!_0x3de744?_0x188b59(0x8ab):'',_0x42a405=!_0x3de744?_0x188b59(0x3d2):'';let _0x29679f=_0x3de744?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x188b59(0xb3c);_0x680c3+=_0x188b59(0x61d)+_0x3d8864+_0x188b59(0x944)+_0x197dff[_0x188b59(0x721)]+_0x188b59(0x9ee)+_0x2a4bac+_0x188b59(0xcf8)+_0x215685+_0x188b59(0x230)+_0x42a405+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29679f+_0x188b59(0x54b);}),_0x680c3+=_0x5d6be8(0xa54);}_0x680c3+=_0x5d6be8(0x5b3);}_0x239694[_0x5d6be8(0xd3c)]=_0x680c3;}async function handleDeepDeleteBlueprintProject(_0x432b6c){const _0x26caa1=_0x6a7885,_0x24f326=doc(db,_0x26caa1(0x3c5)+appId+'/public/data/blueprintProjects',_0x432b6c),_0x1618ce=await getDoc(_0x24f326);if(!_0x1618ce[_0x26caa1(0xd3f)]()){showMessage(_0x26caa1(0x633));return;}const _0x401a17=_0x1618ce[_0x26caa1(0x36d)]()['projectName'];showConfirmation(_0x26caa1(0x1c7)+_0x401a17+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x347669=_0x26caa1;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x17bb10=writeBatch(db),_0xb094cc=_0x1618ce['data'](),_0x3fa977=_0xb094cc[_0x347669(0xbdd)]||{};for(const _0x41cdc7 in _0x3fa977){const _0x55167e=doc(db,_0x347669(0x3c5)+appId+_0x347669(0x321)+_0x432b6c+_0x347669(0x7bd),_0x41cdc7);_0x17bb10[_0x347669(0x9e3)](_0x55167e);}const _0x40efc8=new Set();for(const _0x3211d6 in _0x3fa977){_0x3fa977[_0x3211d6][_0x347669(0x2a8)]&&_0x3fa977[_0x3211d6][_0x347669(0x2a8)][_0x347669(0x79a)](_0x4e7a42=>_0x40efc8['add'](_0x4e7a42));}for(const _0x1a3477 of _0x40efc8){await handleDeleteQuiz(_0x1a3477,![]);}_0x17bb10['delete'](_0x24f326),await _0x17bb10[_0x347669(0x731)](),showMessage(_0x347669(0x387)+_0x401a17+_0x347669(0x9de)),showBlueprintProjects();}catch(_0x676cd3){console[_0x347669(0xc4f)](_0x347669(0x5db),_0x676cd3),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x13a6b6){const _0x58d48b=_0x6a7885,_0x3d767b=document[_0x58d48b(0x52a)](_0x58d48b(0x265)),_0x2b4242=document[_0x58d48b(0x52a)](_0x58d48b(0x76f)),_0x4a5525=document[_0x58d48b(0x52a)](_0x58d48b(0xa0d));try{await ensureGlobalQuizzesLoaded();const _0x5c9b3d=doc(db,_0x58d48b(0x3c5)+appId+_0x58d48b(0x55f),currentBlueprintProjectId),_0x4972c5=await getDoc(_0x5c9b3d);if(!_0x4972c5['exists']())return;const _0x3705b3=_0x4972c5[_0x58d48b(0x36d)](),_0x2283b7=_0x3705b3['topics'][_0x13a6b6];document[_0x58d48b(0x52a)](_0x58d48b(0x7e5))[_0x58d48b(0x675)]=_0x2283b7[_0x58d48b(0x721)];const _0x20cca8=_0x2283b7['linkedQuizIds']||[];_0x4a5525[_0x58d48b(0x817)][_0x58d48b(0x2fc)]('hidden',_0x20cca8[_0x58d48b(0xbc8)]===0x0),_0x4a5525[_0x58d48b(0x4cd)]=()=>handleClearAllLinksForTopic(_0x13a6b6);if(_0x20cca8[_0x58d48b(0xbc8)]===0x0)_0x2b4242['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x223912=allQuizzesGlobal['filter'](_0x2aa236=>_0x20cca8[_0x58d48b(0x317)](_0x2aa236['id']));_0x2b4242[_0x58d48b(0xd3c)]=_0x223912[_0x58d48b(0x8cc)](_0x502cfe=>_0x58d48b(0x4f2)+_0x502cfe['id']+_0x58d48b(0x567)+_0x502cfe[_0x58d48b(0x801)]+_0x58d48b(0x28e)+_0x502cfe['id']+_0x58d48b(0xa5f)+_0x502cfe[_0x58d48b(0x665)][_0x58d48b(0xbc8)]+_0x58d48b(0x47a)+_0x502cfe['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x502cfe['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x502cfe['id']+_0x58d48b(0x858)+_0x502cfe['id']+_0x58d48b(0xd95)+_0x502cfe['id']+_0x58d48b(0x21c)+_0x502cfe['id']+_0x58d48b(0xbfe)+_0x13a6b6+_0x58d48b(0x740)+_0x502cfe['id']+_0x58d48b(0x59b))[_0x58d48b(0x35d)]('');}document[_0x58d48b(0x52a)](_0x58d48b(0xd60))[_0x58d48b(0x4cd)]=()=>{openQuizSelectorForBlueprint(_0x13a6b6);},document['getElementById']('close-topic-bank-btn')[_0x58d48b(0x4cd)]=()=>_0x3d767b['classList'][_0x58d48b(0x642)](_0x58d48b(0x68d)),_0x3d767b[_0x58d48b(0x817)][_0x58d48b(0xb2b)]('hidden');}catch(_0x2b7453){showMessage(_0x2b7453['message']);}}async function openQuizSelectorForBlueprint(_0x5e3623){const _0x252986=_0x6a7885,_0x4dcc21=document[_0x252986(0x52a)](_0x252986(0xb2c)),_0x5f2af7=document['getElementById'](_0x252986(0x265));_0x5f2af7[_0x252986(0x817)][_0x252986(0x642)]('hidden'),document[_0x252986(0x52a)](_0x252986(0x6cd))?.['remove']();const _0x3c5046=document[_0x252986(0x2f1)]('button');_0x3c5046['id']='confirm-link-quiz-btn',_0x3c5046['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3c5046[_0x252986(0x675)]=_0x252986(0xcfe),_0x3c5046['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x4dcc21[_0x252986(0x817)][_0x252986(0xb2b)](_0x252986(0x68d)),renderQuizBankListForMultiSelect(''),document[_0x252986(0x52a)](_0x252986(0xa38))[_0x252986(0x882)][_0x252986(0x36c)]=_0x252986(0x3a0),_0x4dcc21[_0x252986(0x390)](_0x252986(0x871))['appendChild'](_0x3c5046);const _0x275411=(_0x468e5b=![])=>{const _0x406213=_0x252986;_0x4dcc21['classList'][_0x406213(0x642)](_0x406213(0x68d)),document[_0x406213(0x52a)]('bulk-quiz-settings-btn')['style'][_0x406213(0x36c)]=_0x406213(0xb92),_0x3c5046['remove'](),_0x468e5b&&openTopicQuizBank(_0x5e3623);};_0x3c5046['onclick']=async()=>{const _0x651f4a=_0x252986,_0x3bcb4e=Array[_0x651f4a(0x568)](document[_0x651f4a(0x7b3)](_0x651f4a(0x61f)))[_0x651f4a(0x8cc)](_0x4dcc5b=>_0x4dcc5b[_0x651f4a(0x3c4)]);if(_0x3bcb4e['length']===0x0)return;try{const _0x1c33af=doc(db,'artifacts/'+appId+_0x651f4a(0x55f),currentBlueprintProjectId),_0x3243fa=(await getDoc(_0x1c33af))['data'](),_0x431e39=_0x3243fa['topics'][_0x5e3623][_0x651f4a(0x2a8)]||[],_0x109e48=[...new Set([..._0x431e39,..._0x3bcb4e])];await updateDoc(_0x1c33af,{[_0x651f4a(0x7e3)+_0x5e3623+_0x651f4a(0xaee)]:_0x109e48}),showMessage('เพิ่ม\x20'+_0x3bcb4e[_0x651f4a(0xbc8)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x275411(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xce3865){console[_0x651f4a(0xc4f)](_0x651f4a(0xb42),_0xce3865);}},document[_0x252986(0x52a)](_0x252986(0x352))[_0x252986(0x4cd)]=()=>_0x275411(!![]);}catch(_0x1687be){showMessage(_0x1687be[_0x252986(0xacb)]),_0x5f2af7[_0x252986(0x817)][_0x252986(0xb2b)](_0x252986(0x68d));}}function handleClearLinkedQuiz(_0x51b601){const _0x7c42ba=_0x6a7885;showConfirmation(_0x7c42ba(0x9ed),async()=>{const _0x13ba0b=_0x7c42ba;try{const _0x391294=doc(db,_0x13ba0b(0x3c5)+appId+_0x13ba0b(0x55f),currentBlueprintProjectId);await updateDoc(_0x391294,{[_0x13ba0b(0x7e3)+_0x51b601+_0x13ba0b(0xdf1)]:deleteField()}),showMessage(_0x13ba0b(0x97b)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x13df6b){console[_0x13ba0b(0xc4f)]('Error\x20clearing\x20linked\x20quiz:',_0x13df6b),showMessage(_0x13ba0b(0xce5));}});}async function addTopicToProject(){const _0x2be0bc=_0x6a7885,_0x4f9574=prompt(_0x2be0bc(0xd02));if(!_0x4f9574||_0x4f9574[_0x2be0bc(0x797)]()==='')return;const _0x4320e3=prompt(_0x2be0bc(0x3cb),_0x2be0bc(0x440)),_0x1ce7bd=prompt(_0x2be0bc(0xca2),'หัวข้อหลักใหม่'),_0x2a9a26=_0x2be0bc(0x436)+Date['now']()+Math[_0x2be0bc(0x90b)]()[_0x2be0bc(0x443)](0x24)[_0x2be0bc(0xda7)](0x2,0x9),_0x3e4142={'sara':_0x4320e3,'mainTopic':_0x1ce7bd,'subTopic':_0x4f9574[_0x2be0bc(0x797)](),'status':'not_generated','lessonContent':null};try{const _0x5f331e=doc(db,_0x2be0bc(0x3c5)+appId+_0x2be0bc(0x55f),currentBlueprintProjectId);await updateDoc(_0x5f331e,{[_0x2be0bc(0x7e3)+_0x2a9a26]:_0x3e4142}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x40c861){console[_0x2be0bc(0xc4f)]('Error\x20adding\x20topic:',_0x40c861),showMessage(_0x2be0bc(0xc7b));}}async function editTopicInProject(_0x51446f){const _0x2e1568=_0x6a7885,_0x3f99cc=document['querySelector']('[data-topic-id=\x22'+_0x51446f+'\x22]'),_0x416388=_0x3f99cc[_0x2e1568(0x390)]('[data-field=\x22subTopic\x22]'),_0x465ca1=_0x416388[_0x2e1568(0x675)],_0x549b8a=prompt(_0x2e1568(0x728),_0x465ca1);if(!_0x549b8a||_0x549b8a['trim']()===''||_0x549b8a[_0x2e1568(0x797)]()===_0x465ca1)return;try{const _0x5592c5=doc(db,'artifacts/'+appId+_0x2e1568(0x55f),currentBlueprintProjectId);await updateDoc(_0x5592c5,{[_0x2e1568(0x7e3)+_0x51446f+_0x2e1568(0x9dc)]:_0x549b8a[_0x2e1568(0x797)]()}),_0x416388[_0x2e1568(0x675)]=_0x549b8a[_0x2e1568(0x797)](),showMessage(_0x2e1568(0x5eb));}catch(_0x593514){console[_0x2e1568(0xc4f)](_0x2e1568(0x563),_0x593514),showMessage(_0x2e1568(0x81b));}}async function deleteTopicFromProject(_0x196f9f){const _0x4d2d87=_0x6a7885;if(!confirm(_0x4d2d87(0xd25)))return;try{const _0x5184a0=doc(db,_0x4d2d87(0x3c5)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5184a0,{['topics.'+_0x196f9f]:deleteField()}),document[_0x4d2d87(0x390)](_0x4d2d87(0x38c)+_0x196f9f+'\x22]')[_0x4d2d87(0xb2b)](),showMessage(_0x4d2d87(0x3cd));}catch(_0x170fa6){console['error']('Error\x20deleting\x20topic:',_0x170fa6),showMessage(_0x4d2d87(0x62a));}}async function generateAndSaveLessonForBlueprint(_0x3258c3,_0x3e1691,_0x3d6bbb){handleGenerateAndShowLesson(_0x3e1691,_0x3d6bbb);const _0x58a063=setInterval(async()=>{const _0x7fb744=_0x380e,_0x1b5e02=document[_0x7fb744(0x52a)](_0x7fb744(0xc39)),_0x4dac3b=_0x1b5e02[_0x7fb744(0x817)][_0x7fb744(0x7e7)]('hidden');if(_0x4dac3b){clearInterval(_0x58a063);if(currentApplicationData&&currentApplicationData[_0x7fb744(0xbc8)]>0x0){const _0x154256={'point':document[_0x7fb744(0x52a)]('pointContent')[_0x7fb744(0xd3c)],'memory':document[_0x7fb744(0x52a)]('memoryContent')[_0x7fb744(0xd3c)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x7fb744(0x52a)](_0x7fb744(0x897))['innerHTML']};try{const _0x45fbc5=doc(db,_0x7fb744(0x3c5)+appId+_0x7fb744(0x55f),currentBlueprintProjectId),_0x318918=doc(db,'artifacts/'+appId+_0x7fb744(0x321)+currentBlueprintProjectId+'/lessons',_0x3258c3),_0x1e236e=writeBatch(db);_0x1e236e['set'](_0x318918,{'content':_0x154256}),_0x1e236e['update'](_0x45fbc5,{['topics.'+_0x3258c3+_0x7fb744(0x890)]:_0x7fb744(0x281)}),await _0x1e236e[_0x7fb744(0x731)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3258c3+_0x7fb744(0x599)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x40ea9f){console[_0x7fb744(0xc4f)]('Error\x20saving\x20lesson\x20to\x20project:',_0x40ea9f);}}}},0x3e8);}function displayHalfMarkResult(_0xcf1a5,_0x8786b4){const _0x353658=_0x6a7885,_0x33414f=_0xcf1a5>=_0x8786b4/0x2,_0x5e2e04=_0x33414f?_0x353658(0x634):'bg-red-100',_0x4a7aff=_0x33414f?_0x353658(0x607):_0x353658(0x78d),_0x5501c5=_0x33414f?_0x353658(0x346):'text-red-800',_0x30d665=_0x33414f?_0x353658(0x4da):'คะแนนยังไม่ถึงครึ่ง',_0x6e3a98=_0x33414f?_0x353658(0x67f):_0x353658(0xacc);let _0x52cb84=_0x353658(0x1fb)+_0x5e2e04+_0x353658(0x99e)+_0x4a7aff+_0x353658(0x58d)+_0x5501c5+'\x20mb-2\x22>'+_0x30d665+_0x353658(0x91c)+_0x6e3a98+_0x353658(0x8f1);studentResultArea['innerHTML']=_0x52cb84,studentResultArea[_0x353658(0x817)]['remove'](_0x353658(0x68d)),studentQuizArea[_0x353658(0x817)][_0x353658(0x642)](_0x353658(0x68d)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x33414f});}function displayPerfectScoreResult(_0x2710a8,_0x298632){const _0x5c643a=_0x6a7885,_0xff25fd=_0x2710a8===_0x298632,_0x49495d=_0xff25fd?_0x5c643a(0xd82):_0x5c643a(0x874),_0x272807=_0xff25fd?_0x5c643a(0xc4d):_0x5c643a(0xbe7),_0x4a82f7=_0xff25fd?_0x5c643a(0x626):_0x5c643a(0xa20),_0x405ed9=_0xff25fd?_0x5c643a(0x917):'ยังไม่เต็มนะ',_0x4ccba9=_0xff25fd?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x5c643a(0x2f4);let _0xffac10=_0x5c643a(0x1fb)+_0x49495d+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x272807+_0x5c643a(0x58d)+_0x4a82f7+_0x5c643a(0x50d)+_0x405ed9+_0x5c643a(0x91c)+_0x4ccba9+_0x5c643a(0x8f1);studentResultArea[_0x5c643a(0xd3c)]=_0xffac10,studentResultArea['classList'][_0x5c643a(0xb2b)](_0x5c643a(0x68d)),studentQuizArea[_0x5c643a(0x817)][_0x5c643a(0x642)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2710a8,'totalQuestions':_0x298632});}function renderIndividualComparisonTable(_0x58954e,_0x14d9b0){const _0x583baa=_0x6a7885;_0x58954e[_0x583baa(0xd66)]((_0x8efe4f,_0xa85ee9)=>(_0xa85ee9[_0x583baa(0x5c3)]??-Infinity)-(_0x8efe4f[_0x583baa(0x5c3)]??-Infinity));let _0x1a0ac0=_0x583baa(0x3b7);_0x58954e[_0x583baa(0xbc8)]===0x0?_0x1a0ac0+=_0x583baa(0x31e):_0x58954e[_0x583baa(0x79a)]((_0x37f676,_0x34d382)=>{const _0x30e3b8=_0x583baa;let _0x42e627='-',_0x35449f='';if(_0x37f676[_0x30e3b8(0x518)]!==null){const _0x302f8d=_0x37f676[_0x30e3b8(0x518)]>0x0?_0x30e3b8(0x263):_0x37f676['gain']<0x0?'text-red-600':_0x30e3b8(0xbbe),_0x165ba9=_0x37f676['gain']>0x0?'+':'';_0x42e627=_0x30e3b8(0x5f0)+_0x302f8d+'\x22>'+_0x165ba9+_0x37f676[_0x30e3b8(0x518)]+_0x30e3b8(0x7b2);if(_0x37f676[_0x30e3b8(0x518)]>0x0)_0x35449f=_0x30e3b8(0x7d5);else _0x37f676[_0x30e3b8(0x518)]<0x0?_0x35449f=_0x30e3b8(0x7d6):_0x35449f=_0x30e3b8(0xb9b);}let _0x5564cf='-';if(_0x37f676[_0x30e3b8(0x5c3)]!==null){const _0x5d52ef=_0x37f676[_0x30e3b8(0x5c3)]>0x0?'text-green-600':_0x37f676['tGain']<0x0?_0x30e3b8(0x319):_0x30e3b8(0xbbe),_0x42ae66=_0x37f676[_0x30e3b8(0x5c3)]>0x0?'+':'';_0x5564cf=_0x30e3b8(0x5f0)+_0x5d52ef+'\x22>'+_0x42ae66+_0x37f676[_0x30e3b8(0x5c3)][_0x30e3b8(0x39f)](0x2)+_0x30e3b8(0x7b2);}_0x1a0ac0+=_0x30e3b8(0x805)+(_0x34d382+0x1)+_0x30e3b8(0x6e5)+_0x37f676['name']+_0x30e3b8(0x5e9)+(_0x37f676['preScore']??'-')+_0x30e3b8(0x5bf)+(_0x37f676['postScore']??'-')+_0x30e3b8(0x5e9)+_0x42e627+_0x30e3b8(0x875)+_0x35449f+_0x30e3b8(0x4e1)+(_0x37f676[_0x30e3b8(0x525)]?.[_0x30e3b8(0x39f)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x37f676['postTScore']?.[_0x30e3b8(0x39f)](0x2)??'-')+_0x30e3b8(0x5e9)+_0x5564cf+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1a0ac0+=_0x583baa(0x8cb),_0x14d9b0[_0x583baa(0xd3c)]=_0x1a0ac0;}function handleRenameQuiz(_0x1f15ec,_0x3f0d8b){const _0xdef8f7=_0x6a7885;actionTargetId=_0x1f15ec,document['getElementById'](_0xdef8f7(0xdf9))[_0xdef8f7(0x3c4)]=_0x3f0d8b,renameQuizModal['classList'][_0xdef8f7(0xb2b)](_0xdef8f7(0x68d));}function setupComparisonModalTabs(){const _0x8e404f=_0x6a7885,_0x5dc57a=document['getElementById'](_0x8e404f(0xb39)),_0x49b17f=document['getElementById']('comparison-individual-tab'),_0x1c5ef6=document['getElementById'](_0x8e404f(0x2c8)),_0x16edbc=document[_0x8e404f(0x52a)](_0x8e404f(0xd18));_0x5dc57a[_0x8e404f(0x6dd)](_0x8e404f(0x564),()=>{const _0x2d0318=_0x8e404f;_0x5dc57a[_0x2d0318(0x817)][_0x2d0318(0x642)](_0x2d0318(0x7ec)),_0x49b17f[_0x2d0318(0x817)][_0x2d0318(0xb2b)](_0x2d0318(0x7ec)),_0x1c5ef6['classList'][_0x2d0318(0xb2b)](_0x2d0318(0x68d)),_0x16edbc['classList'][_0x2d0318(0x642)](_0x2d0318(0x68d));}),_0x49b17f[_0x8e404f(0x6dd)](_0x8e404f(0x564),()=>{const _0x326440=_0x8e404f;_0x49b17f['classList'][_0x326440(0x642)](_0x326440(0x7ec)),_0x5dc57a[_0x326440(0x817)][_0x326440(0xb2b)](_0x326440(0x7ec)),_0x16edbc[_0x326440(0x817)][_0x326440(0xb2b)]('hidden'),_0x1c5ef6[_0x326440(0x817)][_0x326440(0x642)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x565583=_0x6a7885;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xd23056=doc(db,'artifacts/'+appId+_0x565583(0x222),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xd23056,_0x232027=>{const _0x4ef350=_0x565583;if(!_0x232027[_0x4ef350(0xd3f)]()){showMessage(_0x4ef350(0x2e4));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x4ef350(0xa0e));return;}const _0x355144=_0x232027[_0x4ef350(0x36d)]();_0x355144[_0x4ef350(0x28a)]&&(currentQuizData=_0x355144[_0x4ef350(0x28a)]);!currentQuizData&&_0x355144[_0x4ef350(0x781)]&&((async()=>{const _0x56fd02=_0x4ef350;try{const _0x2911c6=doc(db,_0x56fd02(0x3c5)+appId+_0x56fd02(0x383),_0x355144[_0x56fd02(0x781)]),_0x23b06d=await getDoc(_0x2911c6);_0x23b06d[_0x56fd02(0xd3f)]()&&(currentQuizData={'id':_0x23b06d['id'],..._0x23b06d[_0x56fd02(0x36d)]()});}catch(_0x2cbb21){console[_0x56fd02(0xc4f)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x2cbb21);}})());switch(_0x355144[_0x4ef350(0xc96)]){case _0x4ef350(0xbe1):if(currentMode==='admin'){const _0x52b8a7=_0x355144[_0x4ef350(0xa6d)]?Object['entries'](_0x355144['players']):[],_0x1fd155=_0x52b8a7[_0x4ef350(0xcae)](([_0xc7ef0d,_0xc0bd25])=>_0xc0bd25[_0x4ef350(0xc96)]===_0x4ef350(0x7ec)),_0x54d78e=document[_0x4ef350(0x52a)](_0x4ef350(0xddd));if(_0x54d78e)_0x54d78e[_0x4ef350(0x675)]=_0x1fd155[_0x4ef350(0xbc8)];const _0x131daf=document[_0x4ef350(0x52a)](_0x4ef350(0x4c9));_0x131daf&&(_0x131daf[_0x4ef350(0xd3c)]=_0x1fd155[_0x4ef350(0x8cc)](([_0x470ba3,_0x181c6a])=>_0x4ef350(0x46c)+_0x470ba3+_0x4ef350(0x56a)+_0x470ba3+_0x4ef350(0x884))[_0x4ef350(0x35d)](''));const _0x444ca3=document['getElementById'](_0x4ef350(0x714));_0x444ca3&&(_0x444ca3['disabled']=_0x1fd155[_0x4ef350(0xbc8)]===0x0);}else showView(_0x4ef350(0x58c)),liveGameView[_0x4ef350(0xd3c)]=_0x4ef350(0x92f)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x563a7d=_0x355144[_0x4ef350(0xbc7)];if(currentQuizData&&currentQuizData[_0x4ef350(0x665)][_0x563a7d]){const _0x2e235e=currentQuizData[_0x4ef350(0x665)][_0x563a7d],_0x568e7c=_0x355144[_0x4ef350(0x3e2)]||_0x4ef350(0x590);switch(_0x568e7c){case _0x4ef350(0x4e3):currentMode===_0x4ef350(0x85e)?showAdminSummaryView(_0x355144,_0x2e235e):showPlayerSummaryView(_0x355144,currentStudentName);break;case _0x4ef350(0x771):currentMode==='admin'&&showTop5LeaderboardView(_0x355144);break;case _0x4ef350(0x590):default:if(currentMode===_0x4ef350(0x85e)){const _0x34ef91=writeBatch(db);let _0x35753a=![];Object[_0x4ef350(0x7e6)](_0x355144[_0x4ef350(0xa6d)])['forEach'](([_0x1b8b00,_0x1f6098])=>{const _0x1b8b5a=_0x4ef350;if(_0x1f6098[_0x1b8b5a(0xc96)]===_0x1b8b5a(0x7ec)&&_0x1f6098[_0x1b8b5a(0x7ef)]&&!_0x1f6098[_0x1b8b5a(0x7ae)]){_0x35753a=!![];const _0x5cde82=_0x1f6098[_0x1b8b5a(0x7ef)][_0x1b8b5a(0xc10)]()-_0x355144[_0x1b8b5a(0x511)]['toDate']();let _0x139c6c=0x0;if(_0x1f6098['lastAnswerCorrect']){const _0x522395=0x3e8,_0x2878f9=0x1f4,_0x2271df=0x4e20;let _0x305431=_0x5cde82/_0x2271df;if(_0x305431>0x1)_0x305431=0x1;const _0x415c41=Math[_0x1b8b5a(0xa82)](_0x305431*_0x2878f9);_0x139c6c=_0x522395-_0x415c41;}const _0x298f9c=doc(db,'artifacts/'+appId+_0x1b8b5a(0x222),currentLiveGameId);_0x34ef91[_0x1b8b5a(0xad2)](_0x298f9c,{[_0x1b8b5a(0x6a0)+_0x1b8b00+'.score']:increment(_0x139c6c),[_0x1b8b5a(0x6a0)+_0x1b8b00+_0x1b8b5a(0x7ff)]:_0x139c6c,[_0x1b8b5a(0x6a0)+_0x1b8b00+_0x1b8b5a(0x70a)]:!![]});}});_0x35753a&&_0x34ef91[_0x4ef350(0x731)]()[_0x4ef350(0x6a4)](_0x201050=>console[_0x4ef350(0xc4f)](_0x4ef350(0x998),_0x201050));lastRenderedAdminQuestionIndex!==_0x563a7d&&(showAdminLiveQuestionView(_0x2e235e,_0x563a7d,currentQuizData[_0x4ef350(0x665)][_0x4ef350(0xbc8)]),lastRenderedAdminQuestionIndex=_0x563a7d);const _0x1f03a6=_0x355144[_0x4ef350(0xa6d)]||{},_0x5188d6=Object[_0x4ef350(0xbd1)](_0x1f03a6)[_0x4ef350(0xcae)](_0x24e894=>_0x24e894[_0x4ef350(0xc96)]==='active'),_0x4fc491=_0x5188d6['length'],_0x37b660=_0x5188d6[_0x4ef350(0xcae)](_0x290206=>_0x290206[_0x4ef350(0xbba)]===!![])['length'],_0x1bcc5d=document[_0x4ef350(0x52a)](_0x4ef350(0x643));if(_0x1bcc5d)_0x1bcc5d[_0x4ef350(0x675)]=_0x37b660+'/'+_0x4fc491;const _0x532dbb=document[_0x4ef350(0x52a)](_0x4ef350(0x415));if(_0x532dbb){let _0x80b25a=Object[_0x4ef350(0x7e6)](_0x1f03a6)[_0x4ef350(0xcae)](([_0x4a3ae8,_0xbe6f7f])=>_0xbe6f7f[_0x4ef350(0xc96)]===_0x4ef350(0x7ec))[_0x4ef350(0x8cc)](([_0x30f3a3,_0x2c6add])=>{const _0x242751=_0x4ef350,_0x140d8b=_0x2c6add[_0x242751(0xbba)]===!![],_0x391d13=_0x140d8b?'bg-green-500':_0x242751(0x8eb),_0x3b949b=_0x140d8b?_0x242751(0x6f6):_0x242751(0xaf7);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x391d13+_0x242751(0x21e)+_0x3b949b+_0x242751(0x7ac)+_0x30f3a3+_0x242751(0x4bc)+_0x30f3a3+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4ef350(0x35d)]('');_0x532dbb[_0x4ef350(0xd3c)]=_0x80b25a||_0x4ef350(0xbf2);}_0x4fc491>0x0&&_0x37b660===_0x4fc491&&revealAnswerForAdmin(_0x563a7d,currentQuizData['questions'][_0x4ef350(0xbc8)]);}else{const _0x2d3dfa=_0x355144[_0x4ef350(0xa6d)][currentStudentName];_0x2d3dfa&&!_0x2d3dfa['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x2e235e,_0x563a7d,currentQuizData[_0x4ef350(0x665)][_0x4ef350(0xbc8)]);}break;}}break;case _0x4ef350(0x500):showPodiumView(_0x355144['players'],'live-race');break;}});}async function openGlobalActivityModal(){const _0x4f94b4=_0x6a7885;if(allQuizzesGlobal[_0x4f94b4(0xbc8)]===0x0){const _0x24d3f5=await getDocs(collection(db,'artifacts/'+appId+_0x4f94b4(0x383)));allQuizzesGlobal=_0x24d3f5[_0x4f94b4(0x3f3)][_0x4f94b4(0x8cc)](_0x5ee791=>({'id':_0x5ee791['id'],..._0x5ee791['data']()}));}renderGlobalActivityList(''),document[_0x4f94b4(0x52a)](_0x4f94b4(0x85a))['classList'][_0x4f94b4(0xb2b)]('hidden');}function renderGlobalActivityList(_0x261757=''){const _0xea68af=_0x6a7885,_0x2e4b1c=document['getElementById'](_0xea68af(0xc56)),_0x2dad80=_0x261757['toLowerCase']()[_0xea68af(0x797)](),_0x2e8edf=allQuizzesGlobal[_0xea68af(0x8cc)](_0x309401=>({..._0x309401,'projectName':allProjects[_0xea68af(0x8c7)](_0x1a4b4a=>_0x1a4b4a['id']===_0x309401[_0xea68af(0x94a)])?.[_0xea68af(0xb0b)]||_0xea68af(0x6e4)}))[_0xea68af(0xcae)](_0x3575ca=>(_0x3575ca[_0xea68af(0x801)]||'')['toLowerCase']()['includes'](_0x2dad80)||(_0x3575ca['projectName']||'')[_0xea68af(0x476)]()[_0xea68af(0x317)](_0x2dad80));document[_0xea68af(0x52a)](_0xea68af(0xd64))['textContent']='('+_0x2e8edf['length']+_0xea68af(0xd41),_0x2e4b1c[_0xea68af(0xd3c)]=_0x2e8edf[_0xea68af(0xbc8)]?_0x2e8edf[_0xea68af(0x8cc)](_0x1e8d7e=>_0xea68af(0x8a8)+(_0x1e8d7e['topic']||_0xea68af(0xa05))+_0xea68af(0xdc6)+(_0x1e8d7e[_0xea68af(0x665)]?.[_0xea68af(0xbc8)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1e8d7e['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1e8d7e['id']+_0xea68af(0xa61)+_0x1e8d7e['id']+_0xea68af(0xaa1)+_0x1e8d7e['id']+_0xea68af(0xd1f)+_0x1e8d7e['id']+_0xea68af(0x82e))[_0xea68af(0x35d)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0xe5f9a){const _0x3f5f7d=_0x6a7885;if(!currentLiveGameId||!_0xe5f9a)return;const _0x1968cb=doc(db,_0x3f5f7d(0x3c5)+appId+_0x3f5f7d(0x222),currentLiveGameId),_0x44b64d={};_0x44b64d[_0x3f5f7d(0x6a0)+_0xe5f9a+_0x3f5f7d(0x890)]=_0x3f5f7d(0x921);try{await updateDoc(_0x1968cb,_0x44b64d);}catch(_0x25842b){console[_0x3f5f7d(0xc4f)](_0x3f5f7d(0x1d7)+_0xe5f9a+':',_0x25842b),showMessage(_0x3f5f7d(0x277));}}async function authenticateUser(){const _0x7d3a96=_0x6a7885;try{typeof __initial_auth_token!==_0x7d3a96(0x3a5)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x29805e){console[_0x7d3a96(0xc4f)]('Authentication\x20failed:',_0x29805e),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x1b240c){const _0x1b38d1=_0x6a7885;adminView[_0x1b38d1(0x817)][_0x1b38d1(0x642)]('hidden'),studentView['classList'][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),projectDashboardView['classList'][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),projectDetailView['classList'][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),quizResultsView[_0x1b38d1(0x817)][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),liveGameView[_0x1b38d1(0x817)][_0x1b38d1(0x642)]('hidden'),document[_0x1b38d1(0x52a)](_0x1b38d1(0x8e7))[_0x1b38d1(0x817)]['add'](_0x1b38d1(0x68d)),studentInitialView['classList'][_0x1b38d1(0x642)]('hidden'),studentJoinGameView[_0x1b38d1(0x817)][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),studentNameSelectionView['classList']['add'](_0x1b38d1(0x68d)),studentQuizArea[_0x1b38d1(0x817)][_0x1b38d1(0x642)](_0x1b38d1(0x68d)),studentResultArea[_0x1b38d1(0x817)][_0x1b38d1(0x642)]('hidden'),studentReadingArea[_0x1b38d1(0x817)][_0x1b38d1(0x642)](_0x1b38d1(0x68d));const _0x32175d=document[_0x1b38d1(0x52a)](_0x1b38d1(0xd6d)),_0x46cd13=document[_0x1b38d1(0x52a)](_0x1b38d1(0xa63));if(_0x32175d)_0x32175d['classList'][_0x1b38d1(0x642)]('hidden');if(_0x46cd13)_0x46cd13[_0x1b38d1(0x817)][_0x1b38d1(0x642)](_0x1b38d1(0x68d));switch(_0x1b240c){case _0x1b38d1(0x69d):adminView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)]('hidden'),projectDashboardView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d));break;case _0x1b38d1(0x298):adminView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d)),projectDetailView['classList'][_0x1b38d1(0xb2b)]('hidden');break;case _0x1b38d1(0x95c):adminView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d)),quizResultsView[_0x1b38d1(0x817)]['remove'](_0x1b38d1(0x68d));break;case'student':studentView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d)),studentInitialView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d));break;case _0x1b38d1(0x58c):liveGameView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)]('hidden');break;case _0x1b38d1(0x377):studentView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d));if(_0x32175d)_0x32175d[_0x1b38d1(0x817)]['remove'](_0x1b38d1(0x68d));break;case _0x1b38d1(0xdb3):studentView['classList'][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d));if(_0x46cd13)_0x46cd13[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d));break;default:studentView['classList'][_0x1b38d1(0xb2b)](_0x1b38d1(0x68d)),studentInitialView[_0x1b38d1(0x817)][_0x1b38d1(0xb2b)]('hidden');break;}}function showJoinGameView(){const _0x3a62c9=_0x6a7885;studentInitialView['classList'][_0x3a62c9(0x642)]('hidden'),studentJoinGameView[_0x3a62c9(0x817)][_0x3a62c9(0xb2b)](_0x3a62c9(0x68d));}async function handleSaveVisibilitySettings(){const _0x5f5362=_0x6a7885;if(!currentProjectId)return;const _0x4b87be=doc(db,_0x5f5362(0x3c5)+appId+_0x5f5362(0x880),currentProjectId);try{await updateDoc(_0x4b87be,{'settings.showInStudentDashboard':document[_0x5f5362(0x52a)](_0x5f5362(0x4a2))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x5f5362(0x293))[_0x5f5362(0x9a3)],'settings.passcode':document['getElementById']('project-passcode-input')[_0x5f5362(0x3c4)][_0x5f5362(0x797)]()}),showMessage(_0x5f5362(0xca3));}catch(_0x308c9e){console[_0x5f5362(0xc4f)](_0x5f5362(0xc97),_0x308c9e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x45bf76=_0x6a7885;document[_0x45bf76(0x52a)]('sync-timer-enable-checkbox')[_0x45bf76(0x6dd)]('change',_0x5aabd8=>{const _0x249014=_0x45bf76;document[_0x249014(0x52a)](_0x249014(0x249))['classList'][_0x249014(0x2fc)](_0x249014(0x68d),!_0x5aabd8['target'][_0x249014(0x9a3)]);});const _0x28f5ac=document[_0x45bf76(0x52a)](_0x45bf76(0xaae)),_0x103de2=document[_0x45bf76(0x52a)](_0x45bf76(0x8a5));_0x28f5ac&&_0x103de2&&_0x28f5ac['addEventListener'](_0x45bf76(0x564),()=>{const _0x289fa5=_0x45bf76;_0x103de2[_0x289fa5(0x817)][_0x289fa5(0x642)](_0x289fa5(0x68d)),_0x103de2[_0x289fa5(0xba5)][_0x289fa5(0x9f3)]='';});const _0x1291ad=document[_0x45bf76(0x52a)]('dim-overlay');_0x1291ad&&(_0x1291ad[_0x45bf76(0x6dd)](_0x45bf76(0x98f),wakeUpScreen),_0x1291ad['addEventListener'](_0x45bf76(0xb1f),wakeUpScreen));document[_0x45bf76(0x52a)](_0x45bf76(0x3a1))[_0x45bf76(0x6dd)](_0x45bf76(0x564),async()=>{const _0x40d67b=_0x45bf76;if(!currentBlueprintProjectId)return;const _0x137f4e=document[_0x40d67b(0x52a)](_0x40d67b(0x5f5))[_0x40d67b(0x3c4)]['trim'](),_0x3336c3=doc(db,_0x40d67b(0x3c5)+appId+_0x40d67b(0x55f),currentBlueprintProjectId);try{await updateDoc(_0x3336c3,{'referenceFileUrl':_0x137f4e}),showMessage(_0x40d67b(0x4f5));}catch(_0x2aec4f){console[_0x40d67b(0xc4f)](_0x40d67b(0x5c8),_0x2aec4f),showMessage(_0x40d67b(0x783));}}),document[_0x45bf76(0x52a)](_0x45bf76(0x7fc))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleAddParallelShortcutTab),document['getElementById'](_0x45bf76(0xd7d))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x40dcd=>{const _0xe2c192=_0x45bf76;_0x40dcd['target']['closest'](_0xe2c192(0x4d3))&&(activeParallelShortcutTabId=_0xe2c192(0xdd0),renderAdditionalParallelShortcutsModal(),document['getElementById']('additional-parallel-shortcuts-modal')[_0xe2c192(0x817)][_0xe2c192(0xb2b)]('hidden'));}),document[_0x45bf76(0x52a)]('close-additional-parallel-shortcuts-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x12806d=_0x45bf76;document[_0x12806d(0x52a)](_0x12806d(0x5d3))['classList'][_0x12806d(0x642)]('hidden');}),document[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x1779fa=>{const _0x18221e=_0x45bf76;!_0x1779fa['target']['closest']('.group\x5c/dropdown-parallel')&&document['querySelectorAll']('.move-parallel-shortcut-dropdown')['forEach'](_0x2ab3cb=>_0x2ab3cb[_0x18221e(0x817)][_0x18221e(0x642)]('hidden'));}),document[_0x45bf76(0x52a)](_0x45bf76(0xb33))['addEventListener'](_0x45bf76(0x564),handleAddFileShortcutTab),document[_0x45bf76(0x52a)]('file-input-area')[_0x45bf76(0x6dd)]('click',_0x2f3ec9=>{const _0x22f9e0=_0x45bf76;_0x2f3ec9[_0x22f9e0(0x45d)][_0x22f9e0(0xdda)](_0x22f9e0(0xb8b))&&(activeFileShortcutTabId=_0x22f9e0(0xdd0),renderAdditionalFileShortcutsModal(),document[_0x22f9e0(0x52a)](_0x22f9e0(0x876))['classList'][_0x22f9e0(0xb2b)](_0x22f9e0(0x68d)));}),document['getElementById'](_0x45bf76(0x730))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3413f4=_0x45bf76;document['getElementById'](_0x3413f4(0x876))[_0x3413f4(0x817)][_0x3413f4(0x642)](_0x3413f4(0x68d));}),document[_0x45bf76(0x6dd)]('click',_0x56ddd5=>{const _0x26b6b5=_0x45bf76;!_0x56ddd5['target']['closest']('.group\x5c/dropdown-file')&&document[_0x26b6b5(0x7b3)](_0x26b6b5(0x907))['forEach'](_0x58b35b=>_0x58b35b[_0x26b6b5(0x817)][_0x26b6b5(0x642)](_0x26b6b5(0x68d)));}),document[_0x45bf76(0x52a)]('add-shortcut-tab-btn')[_0x45bf76(0x6dd)]('click',handleAddShortcutTab),document[_0x45bf76(0x52a)](_0x45bf76(0x1f7))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0xe4e5ed=>{const _0x18cc1d=_0x45bf76,_0x31be9f=_0xe4e5ed[_0x18cc1d(0x45d)][_0x18cc1d(0xdda)](_0x18cc1d(0xbaf)),_0x586f73=_0xe4e5ed[_0x18cc1d(0x45d)]['closest'](_0x18cc1d(0xbb7)),_0x121d53=_0xe4e5ed[_0x18cc1d(0x45d)][_0x18cc1d(0xdda)](_0x18cc1d(0x955));if(_0x586f73)openParallelTestShortcutEditor(_0x586f73[_0x18cc1d(0xba5)]['id']);else{if(_0x121d53){const _0x183c10=_0x121d53[_0x18cc1d(0xba5)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4b707a=_0x18cc1d,_0x55b3bf=parallelTestShortcuts[_0x4b707a(0xcae)](_0x3de440=>_0x3de440['id']!==_0x183c10),_0x61022d=doc(db,_0x4b707a(0x3e0),_0x4b707a(0xc29));await setDoc(_0x61022d,{'shortcuts':_0x55b3bf},{'merge':!![]});});}else _0x31be9f&&handleParallelTestShortcutClick(_0x31be9f[_0x18cc1d(0xba5)]['id']);}}),document[_0x45bf76(0x52a)](_0x45bf76(0xd86))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x45bf76(0x9b8))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x4d9117=_0x45bf76;document[_0x4d9117(0x52a)]('parallel-shortcut-editor-modal')['classList']['add'](_0x4d9117(0x68d));}),document['getElementById'](_0x45bf76(0x480))[_0x45bf76(0x6dd)](_0x45bf76(0x564),saveParallelTestShortcutChanges),document['getElementById'](_0x45bf76(0xd7d))['addEventListener'](_0x45bf76(0x564),_0x10761b=>{const _0x1cc5f3=_0x45bf76;_0x10761b[_0x1cc5f3(0x45d)]['closest'](_0x1cc5f3(0x4d3))&&document[_0x1cc5f3(0x52a)](_0x1cc5f3(0x5d3))[_0x1cc5f3(0x817)][_0x1cc5f3(0xb2b)](_0x1cc5f3(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x9e0))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3ac990=_0x45bf76;document[_0x3ac990(0x52a)](_0x3ac990(0x5d3))[_0x3ac990(0x817)]['add']('hidden');}),document[_0x45bf76(0x52a)](_0x45bf76(0x6aa))[_0x45bf76(0x6dd)]('click',_0x34438b=>{const _0x15d021=_0x45bf76,_0x313f66=document[_0x15d021(0x52a)]('additional-parallel-shortcuts-modal'),_0x5bec87=_0x34438b[_0x15d021(0x45d)][_0x15d021(0xdda)](_0x15d021(0x62e)),_0x33e842=_0x34438b[_0x15d021(0x45d)][_0x15d021(0xdda)](_0x15d021(0x532)),_0x58e0e4=_0x34438b[_0x15d021(0x45d)][_0x15d021(0xdda)](_0x15d021(0x993));if(_0x5bec87)_0x313f66[_0x15d021(0x817)][_0x15d021(0x642)](_0x15d021(0x68d)),handleParallelTestShortcutClick(_0x5bec87[_0x15d021(0xba5)]['id']);else{if(_0x33e842)_0x313f66['classList'][_0x15d021(0x642)](_0x15d021(0x68d)),openParallelTestShortcutEditor(_0x33e842[_0x15d021(0xba5)]['id']);else{if(_0x58e0e4){const _0x5cc20e=_0x58e0e4[_0x15d021(0xba5)]['id'];showConfirmation(_0x15d021(0x7cf),async()=>{const _0xf17697=_0x15d021,_0x429d8f=parallelTestShortcuts[_0xf17697(0xcae)](_0xedb082=>_0xedb082['id']!==_0x5cc20e),_0x34491c=doc(db,'globalSettings',_0xf17697(0xc29));await setDoc(_0x34491c,{'shortcuts':_0x429d8f},{'merge':!![]});});}}}}),document[_0x45bf76(0x52a)](_0x45bf76(0x84a))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x31b691=>{const _0x1d32c7=_0x45bf76,_0x1a42bc=_0x31b691[_0x1d32c7(0x45d)][_0x1d32c7(0xdda)](_0x1d32c7(0xd17)),_0x3b9134=_0x31b691['target'][_0x1d32c7(0xdda)](_0x1d32c7(0x30f)),_0x54b4ce=_0x31b691[_0x1d32c7(0x45d)]['closest']('.delete-file-shortcut-btn');if(_0x3b9134)openFileShortcutEditor(_0x3b9134['dataset']['id']);else{if(_0x54b4ce){const _0x42afee=_0x54b4ce[_0x1d32c7(0xba5)]['id'];showConfirmation(_0x1d32c7(0x7cf),async()=>{const _0x11cdad=_0x1d32c7,_0x24d6f7=fileShortcuts['filter'](_0x2d779c=>_0x2d779c['id']!==_0x42afee),_0x3de135=doc(db,_0x11cdad(0x3e0),_0x11cdad(0x773));await setDoc(_0x3de135,{'shortcuts':_0x24d6f7},{'merge':!![]});});}else _0x1a42bc&&handleFileShortcutClick(_0x1a42bc['dataset']['id']);}}),document[_0x45bf76(0x52a)](_0x45bf76(0x9d2))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>openFileShortcutEditor(null)),document[_0x45bf76(0x52a)](_0x45bf76(0x3f8))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x5f2eb5=_0x45bf76;document[_0x5f2eb5(0x52a)](_0x5f2eb5(0x901))[_0x5f2eb5(0x817)][_0x5f2eb5(0x642)]('hidden');}),document['getElementById'](_0x45bf76(0xcdd))[_0x45bf76(0x6dd)](_0x45bf76(0x564),saveFileShortcutChanges),document[_0x45bf76(0x52a)](_0x45bf76(0x557))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x1d0e20=>{const _0x58cce4=_0x45bf76;_0x1d0e20['target'][_0x58cce4(0xdda)](_0x58cce4(0xb8b))&&document[_0x58cce4(0x52a)](_0x58cce4(0x876))[_0x58cce4(0x817)][_0x58cce4(0xb2b)](_0x58cce4(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x730))['addEventListener'](_0x45bf76(0x564),()=>{const _0x5a3634=_0x45bf76;document[_0x5a3634(0x52a)]('additional-file-shortcuts-modal')[_0x5a3634(0x817)][_0x5a3634(0x642)](_0x5a3634(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x90f))[_0x45bf76(0x6dd)]('click',_0x5bc7bd=>{const _0x5bdfd8=_0x45bf76,_0x3911b2=document[_0x5bdfd8(0x52a)](_0x5bdfd8(0x876)),_0x3bfb4e=_0x5bc7bd['target'][_0x5bdfd8(0xdda)](_0x5bdfd8(0xbe3)),_0x4fc4f6=_0x5bc7bd['target'][_0x5bdfd8(0xdda)]('.edit-hidden-file-shortcut-btn'),_0x32ed52=_0x5bc7bd['target'][_0x5bdfd8(0xdda)]('.delete-hidden-file-shortcut-btn');if(_0x3bfb4e)_0x3911b2['classList'][_0x5bdfd8(0x642)](_0x5bdfd8(0x68d)),handleFileShortcutClick(_0x3bfb4e[_0x5bdfd8(0xba5)]['id']);else{if(_0x4fc4f6)_0x3911b2[_0x5bdfd8(0x817)][_0x5bdfd8(0x642)](_0x5bdfd8(0x68d)),openFileShortcutEditor(_0x4fc4f6['dataset']['id']);else{if(_0x32ed52){const _0x45353c=_0x32ed52[_0x5bdfd8(0xba5)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x5c9437=_0x5bdfd8,_0x372177=fileShortcuts[_0x5c9437(0xcae)](_0x5e60a2=>_0x5e60a2['id']!==_0x45353c),_0x118edd=doc(db,_0x5c9437(0x3e0),'fileShortcutsConfig');await setDoc(_0x118edd,{'shortcuts':_0x372177},{'merge':!![]});});}}}}),document[_0x45bf76(0x52a)]('blueprint-input-area')[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x194dbb=>{const _0x1c243b=_0x45bf76;_0x194dbb['target'][_0x1c243b(0xdda)](_0x1c243b(0x2f6))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document['getElementById'](_0x1c243b(0x5c4))[_0x1c243b(0x817)]['remove'](_0x1c243b(0x68d)));}),document[_0x45bf76(0x52a)](_0x45bf76(0xb5b))['addEventListener'](_0x45bf76(0x564),()=>{const _0x1efca0=_0x45bf76;document[_0x1efca0(0x52a)]('additional-shortcuts-modal')[_0x1efca0(0x817)][_0x1efca0(0x642)]('hidden');}),document['getElementById'](_0x45bf76(0xbd8))[_0x45bf76(0x6dd)]('click',_0x50c4da=>{const _0x45e2f1=_0x45bf76,_0x47267d=_0x50c4da['target'][_0x45e2f1(0xdda)]('.use-hidden-shortcut-btn'),_0x578f6b=_0x50c4da[_0x45e2f1(0x45d)][_0x45e2f1(0xdda)]('.edit-hidden-shortcut-btn'),_0x499e20=_0x50c4da[_0x45e2f1(0x45d)]['closest']('.delete-hidden-shortcut-btn'),_0xd2f0bd=document[_0x45e2f1(0x52a)](_0x45e2f1(0x5c4));if(_0x47267d)_0xd2f0bd[_0x45e2f1(0x817)][_0x45e2f1(0x642)](_0x45e2f1(0x68d)),handleShortcutClick(_0x47267d[_0x45e2f1(0xba5)]['id']);else{if(_0x578f6b)_0xd2f0bd[_0x45e2f1(0x817)][_0x45e2f1(0x642)](_0x45e2f1(0x68d)),openShortcutEditor(_0x578f6b[_0x45e2f1(0xba5)]['id']);else{if(_0x499e20){const _0x4cbadf=_0x499e20[_0x45e2f1(0xba5)]['id'],_0x1d30a6=blueprintShortcuts[_0x45e2f1(0x8c7)](_0x38bd58=>_0x38bd58['id']===_0x4cbadf)?.[_0x45e2f1(0xae4)];showConfirmation(_0x45e2f1(0xa85)+_0x1d30a6+'\x22?',async()=>{const _0x4437db=_0x45e2f1,_0x640068=blueprintShortcuts[_0x4437db(0xcae)](_0x4c7cae=>_0x4c7cae['id']!==_0x4cbadf);try{const _0x59becd=doc(db,_0x4437db(0x3e0),_0x4437db(0x798));await setDoc(_0x59becd,{'blueprintShortcuts':_0x640068},{'merge':!![]});}catch(_0x10bc8e){console[_0x4437db(0xc4f)](_0x4437db(0xc5a),_0x10bc8e);}});}}}}),document[_0x45bf76(0x52a)](_0x45bf76(0x98d))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x3579fc=>{const _0x1b2521=_0x45bf76,_0xabcfb9=_0x3579fc[_0x1b2521(0x45d)][_0x1b2521(0xdda)]('.shortcut-btn'),_0x3a119b=_0x3579fc[_0x1b2521(0x45d)]['closest'](_0x1b2521(0x471)),_0x15543a=_0x3579fc[_0x1b2521(0x45d)][_0x1b2521(0xdda)](_0x1b2521(0x3cf));if(_0x3a119b)openShortcutEditor(_0x3a119b[_0x1b2521(0xba5)]['id']);else{if(_0x15543a){const _0x1616c7=_0x15543a['dataset']['id'],_0x15c9fb=blueprintShortcuts[_0x1b2521(0x8c7)](_0x5edbb0=>_0x5edbb0['id']===_0x1616c7)?.[_0x1b2521(0xae4)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x15c9fb+'\x22?',async()=>{const _0x48a602=_0x1b2521,_0x1fafc2=blueprintShortcuts[_0x48a602(0xcae)](_0x458e7e=>_0x458e7e['id']!==_0x1616c7);try{const _0x5cf60d=doc(db,_0x48a602(0x3e0),_0x48a602(0x798));await setDoc(_0x5cf60d,{'blueprintShortcuts':_0x1fafc2},{'merge':!![]});}catch(_0x1a5070){console[_0x48a602(0xc4f)](_0x48a602(0xc5a),_0x1a5070);}});}else _0xabcfb9&&handleShortcutClick(_0xabcfb9['dataset']['id']);}}),document[_0x45bf76(0x52a)](_0x45bf76(0x763))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>openShortcutEditor(null)),document[_0x45bf76(0x52a)]('cancel-shortcut-edit-btn')[_0x45bf76(0x6dd)]('click',()=>{const _0x382c9e=_0x45bf76;document[_0x382c9e(0x52a)](_0x382c9e(0xb28))[_0x382c9e(0x817)][_0x382c9e(0x642)](_0x382c9e(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x68f))['addEventListener'](_0x45bf76(0x564),saveShortcutChanges),document['getElementById'](_0x45bf76(0x99c))['addEventListener']('click',async()=>{const _0x48b93f=_0x45bf76,_0xaf153=document[_0x48b93f(0x52a)](_0x48b93f(0x6e7)),_0x2ef2c9=document[_0x48b93f(0x52a)](_0x48b93f(0x219));_0xaf153['files'][_0x48b93f(0xbc8)]>0x0?await handleGenerateFromBlueprintWithFiles(_0xaf153['files'][0x0],_0x2ef2c9[_0x48b93f(0x3d4)][0x0]||null):showMessage(_0x48b93f(0x475));}),document['getElementById']('topic-quiz-bank-modal')[_0x45bf76(0x6dd)]('click',async _0x399e09=>{const _0x4c8052=_0x45bf76,_0x276d67=document[_0x4c8052(0x52a)](_0x4c8052(0x265)),_0x19dcd9=_0x399e09['target'][_0x4c8052(0xdda)](_0x4c8052(0xcb5)),_0xfc68da=_0x399e09[_0x4c8052(0x45d)][_0x4c8052(0xdda)](_0x4c8052(0x78e)),_0x318836=_0x399e09['target'][_0x4c8052(0xdda)](_0x4c8052(0xbf5)),_0x7bd691=_0x399e09['target'][_0x4c8052(0xdda)](_0x4c8052(0x572)),_0x541d5a=_0x399e09[_0x4c8052(0x45d)]['closest'](_0x4c8052(0xccf)),_0x1050af=_0x399e09[_0x4c8052(0x45d)][_0x4c8052(0xdda)](_0x4c8052(0x1e9));if(_0x19dcd9){cameFromBlueprint=!![];const _0x9500a3=_0x19dcd9[_0x4c8052(0xba5)][_0x4c8052(0x781)];showQuizDetailView(_0x9500a3),_0x276d67[_0x4c8052(0x817)]['add'](_0x4c8052(0x68d));}else{if(_0xfc68da){const _0x5ee9f7=_0xfc68da[_0x4c8052(0xba5)][_0x4c8052(0x310)],_0x4bd540=_0xfc68da[_0x4c8052(0xba5)][_0x4c8052(0x781)],_0x556ec7=allQuizzesGlobal[_0x4c8052(0x8c7)](_0x160e42=>_0x160e42['id']===_0x4bd540),_0x3c7665=_0x556ec7?_0x556ec7[_0x4c8052(0x801)]:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x3c7665+_0x4c8052(0x536),async()=>{const _0x32ea40=_0x4c8052;try{const _0x4afa52=doc(db,_0x32ea40(0x3c5)+appId+_0x32ea40(0x55f),currentBlueprintProjectId);await updateDoc(_0x4afa52,{[_0x32ea40(0x7e3)+_0x5ee9f7+'.linkedQuizIds']:arrayRemove(_0x4bd540)}),showMessage(_0x32ea40(0xcd1)),openTopicQuizBank(_0x5ee9f7),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2081a9){console[_0x32ea40(0xc4f)](_0x32ea40(0x679),_0x2081a9),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x318836){cameFromBlueprint=!![];const _0x5c3b18=_0x318836['dataset'][_0x4c8052(0x781)],_0x42ba09=allQuizzesGlobal[_0x4c8052(0x8c7)](_0x196fc9=>_0x196fc9['id']===_0x5c3b18);_0x42ba09&&(startPresentation(_0x42ba09),_0x276d67['classList'][_0x4c8052(0x642)](_0x4c8052(0x68d)));}else{if(_0x7bd691){cameFromBlueprint=!![];const _0x3479a0=_0x7bd691[_0x4c8052(0xba5)][_0x4c8052(0x781)],_0x3fe69e=allQuizzesGlobal['find'](_0x420788=>_0x420788['id']===_0x3479a0);_0x3fe69e&&(currentQuizData=_0x3fe69e,startAdminTest(),_0x276d67[_0x4c8052(0x817)][_0x4c8052(0x642)](_0x4c8052(0x68d)));}else{if(_0x541d5a)cameFromBlueprint=!![],handleStartLiveRace(_0x541d5a['dataset'][_0x4c8052(0x781)]),_0x276d67['classList'][_0x4c8052(0x642)](_0x4c8052(0x68d));else{if(_0x1050af){cameFromBlueprint=!![];const _0x2b0b4c=_0x1050af['dataset'][_0x4c8052(0x781)],_0x10880c=_0x1050af[_0x4c8052(0xba5)][_0x4c8052(0xce3)],_0x576348=allQuizzesGlobal['find'](_0xc7776=>_0xc7776['id']===_0x2b0b4c);_0x576348&&(showGameStartConfirmationModal(_0x2b0b4c,_0x10880c,_0x576348['topic']),_0x276d67[_0x4c8052(0x817)][_0x4c8052(0x642)]('hidden'));}}}}}}}),document[_0x45bf76(0x52a)](_0x45bf76(0x33b))['addEventListener']('click',()=>{const _0x3ebab3=_0x45bf76;document[_0x3ebab3(0x52a)](_0x3ebab3(0x828))['classList'][_0x3ebab3(0xb2b)]('hidden'),document['getElementById'](_0x3ebab3(0xc90))['value']='',document[_0x3ebab3(0x52a)](_0x3ebab3(0xa74))[_0x3ebab3(0x3c4)]='',document[_0x3ebab3(0x52a)](_0x3ebab3(0x1ea))[_0x3ebab3(0x3c4)]='';}),document[_0x45bf76(0x52a)](_0x45bf76(0x52f))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3fa990=_0x45bf76;document[_0x3fa990(0x52a)](_0x3fa990(0x828))[_0x3fa990(0x817)][_0x3fa990(0x642)](_0x3fa990(0x68d));}),document['getElementById']('confirm-manual-bp-btn')[_0x45bf76(0x6dd)]('click',handleManualBlueprintSave),document[_0x45bf76(0x52a)]('cancel-bp-settings-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>document[_0x45bf76(0x52a)](_0x45bf76(0xa91))[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0xc23))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleSaveBlueprintPageSettings),document[_0x45bf76(0x52a)]('bp-quiz-settings-btn')['addEventListener'](_0x45bf76(0x564),openBlueprintQuizSettings),document[_0x45bf76(0x52a)](_0x45bf76(0xb6a))['addEventListener'](_0x45bf76(0x564),saveBlueprintProject),document[_0x45bf76(0x52a)](_0x45bf76(0xa7c))['addEventListener'](_0x45bf76(0x564),showBlueprintProjects),document[_0x45bf76(0x52a)](_0x45bf76(0x453))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x223dfb=_0x45bf76;document[_0x223dfb(0x52a)]('blueprint-projects-modal')['classList'][_0x223dfb(0x642)](_0x223dfb(0x68d));}),document['getElementById'](_0x45bf76(0xcec))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x1190d7=>{const _0x175a82=_0x45bf76,_0x31e139=_0x1190d7[_0x175a82(0x45d)][_0x175a82(0xdda)](_0x175a82(0x354)),_0x20a43b=_0x1190d7[_0x175a82(0x45d)][_0x175a82(0xdda)]('.delete-bp-project-btn');if(_0x31e139)displayBlueprintProjectManager(_0x31e139[_0x175a82(0xba5)]['id']);else _0x20a43b&&handleDeepDeleteBlueprintProject(_0x20a43b['dataset']['id']);}),document[_0x45bf76(0x52a)](_0x45bf76(0x72e))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3569bc=_0x45bf76;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3569bc(0x52a)](_0x3569bc(0x8e7))[_0x3569bc(0x817)][_0x3569bc(0x642)](_0x3569bc(0x68d)),showView('admin-dashboard');}),document['getElementById'](_0x45bf76(0x3ef))['addEventListener']('click',addTopicToProject),document['getElementById'](_0x45bf76(0x99f))[_0x45bf76(0x6dd)](_0x45bf76(0x564),async _0x3e26b8=>{const _0xf19c31=_0x45bf76,_0x565a04=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0x204));if(!_0x565a04)return;const _0x5da304=_0x565a04[_0xf19c31(0xba5)][_0xf19c31(0x310)],_0x4f983d=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)]('.bp-create-onet-quiz-btn'),_0x48ae11=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0xc6d)),_0x24c6a3=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0x4f0)),_0x115385=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0xbc9)),_0x587064=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0x739)),_0x373b13=_0x3e26b8['target'][_0xf19c31(0xdda)](_0xf19c31(0xa44)),_0x1a1564=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0x452)),_0x3da218=_0x3e26b8[_0xf19c31(0x45d)][_0xf19c31(0xdda)](_0xf19c31(0x704)),_0x132076=_0x3ebd5c=>{const _0x1f2c5e=_0xf19c31,_0x4580c9=_0x3ebd5c['querySelector'](_0x1f2c5e(0x36e))[_0x1f2c5e(0x675)][_0x1f2c5e(0x797)](),_0x686f02=_0x3ebd5c[_0x1f2c5e(0xdda)]('.space-y-1.pl-4')[_0x1f2c5e(0x30b)],_0xd51bbc=_0x686f02?_0x686f02['textContent']['trim']():'';return _0xd51bbc+':\x20'+_0x4580c9;};if(_0x115385)openTopicQuizBank(_0x5da304);else{if(_0x4f983d){const _0x263d29=_0x132076(_0x565a04);selectProjectAndGenerateBlueprintQuiz(_0x263d29,null,_0x5da304,!![]);}else{if(_0x48ae11){const _0xfa0366=_0x132076(_0x565a04);try{const _0x3408b1=doc(db,_0xf19c31(0x3c5)+appId+_0xf19c31(0x321)+currentBlueprintProjectId+_0xf19c31(0x7bd),_0x5da304),_0x21e1fa=await getDoc(_0x3408b1);if(_0x21e1fa[_0xf19c31(0xd3f)]()){const _0x3d7625=_0x21e1fa[_0xf19c31(0x36d)]()[_0xf19c31(0x63c)],_0x25dcee=document[_0xf19c31(0x2f1)](_0xf19c31(0x848)),_0x2d0298=_0x122862=>{const _0x560b07=_0xf19c31;if(!_0x122862)return'';return _0x25dcee[_0x560b07(0xd3c)]=_0x122862,_0x25dcee['textContent']||_0x25dcee[_0x560b07(0x652)]||'';},_0x2977be=(_0x2d0298(_0x3d7625[_0xf19c31(0xaad)])+'\x20'+_0x2d0298(_0x3d7625['memory'])+'\x20'+_0x2d0298(_0x3d7625['summary']))['trim']();selectProjectAndGenerateBlueprintQuiz(_0xfa0366,_0x2977be,_0x5da304,![]);}else showMessage(_0xf19c31(0xb12));}catch(_0x2facb1){console[_0xf19c31(0xc4f)](_0xf19c31(0xd6c),_0x2facb1),showMessage(_0xf19c31(0x911));}}else{if(_0x24c6a3){const _0xf99d99=_0x132076(_0x565a04);selectProjectAndGenerateBlueprintQuiz(_0xf99d99,null,_0x5da304,![]);}else{if(_0x587064){const _0x11dcab=doc(db,_0xf19c31(0x3c5)+appId+_0xf19c31(0x55f),currentBlueprintProjectId),_0x1a63ff=await getDoc(_0x11dcab);if(_0x1a63ff[_0xf19c31(0xd3f)]()){const _0x5ca56a=_0x1a63ff[_0xf19c31(0x36d)](),_0x419669=_0x5ca56a['topics'][_0x5da304];if(_0x419669&&_0x419669['status']===_0xf19c31(0x281))try{const _0x470ee3=doc(db,_0xf19c31(0x3c5)+appId+_0xf19c31(0x321)+currentBlueprintProjectId+_0xf19c31(0x7bd),_0x5da304),_0x20ea68=await getDoc(_0x470ee3);if(_0x20ea68[_0xf19c31(0xd3f)]()){const _0x22fedc=_0x20ea68[_0xf19c31(0x36d)]()[_0xf19c31(0x63c)];document[_0xf19c31(0x52a)](_0xf19c31(0xcca))[_0xf19c31(0x675)]='บทเรียนเรื่อง:\x20'+_0x132076(_0x565a04),document[_0xf19c31(0x52a)]('pointContent')[_0xf19c31(0xd3c)]=_0x22fedc[_0xf19c31(0xaad)],document['getElementById']('memoryContent')['innerHTML']=_0x22fedc[_0xf19c31(0x826)],document[_0xf19c31(0x52a)]('summaryContent')[_0xf19c31(0xd3c)]=_0x22fedc[_0xf19c31(0xa94)];const _0x1e0d25=document[_0xf19c31(0x52a)](_0xf19c31(0x870));_0x22fedc[_0xf19c31(0x50f)]?(currentApplicationData=_0x22fedc[_0xf19c31(0x50f)],_0x1e0d25['innerHTML']=currentApplicationData['map']((_0x59cad3,_0x415dac)=>_0xf19c31(0x5b5)+(_0x415dac+0x1)+'.\x20'+marked['parseInline'](_0x59cad3['question'])+_0xf19c31(0x67e)+_0x415dac+_0xf19c31(0x7da)+_0x59cad3[_0xf19c31(0xd99)][_0xf19c31(0x8cc)]((_0x1446a1,_0x626fe1)=>_0xf19c31(0x424)+_0x415dac+',\x20'+_0x626fe1+_0xf19c31(0x76b)+String[_0xf19c31(0xdae)](0x61+_0x626fe1)+'.\x20'+marked['parseInline'](_0x1446a1)+_0xf19c31(0x995))['join']('')+'</div></div>')[_0xf19c31(0x35d)]('')):(currentApplicationData=[],_0x1e0d25[_0xf19c31(0xd3c)]=_0x22fedc[_0xf19c31(0x840)]||_0x22fedc[_0xf19c31(0xbe9)]),document[_0xf19c31(0x52a)]('lesson-loader')['classList'][_0xf19c31(0x642)](_0xf19c31(0x68d)),document['getElementById']('lesson-sections-container')['classList'][_0xf19c31(0xb2b)](_0xf19c31(0x68d)),document[_0xf19c31(0x52a)](_0xf19c31(0xc39))[_0xf19c31(0x817)][_0xf19c31(0xb2b)](_0xf19c31(0x68d)),window[_0xf19c31(0xb46)]&&MathJax[_0xf19c31(0x787)]([document[_0xf19c31(0x52a)](_0xf19c31(0x404))]);}else showMessage(_0xf19c31(0x2ea));}catch(_0x33d085){console[_0xf19c31(0xc4f)](_0xf19c31(0x63a),_0x33d085),showMessage(_0xf19c31(0x84b));}else showMessage(_0xf19c31(0x50c));}}else{if(_0x373b13){const _0x5de75a=_0x132076(_0x565a04),_0x5447b3=doc(db,_0xf19c31(0x3c5)+appId+_0xf19c31(0x55f),currentBlueprintProjectId),_0x2770cf=await getDoc(_0x5447b3);if(_0x2770cf[_0xf19c31(0xd3f)]()){const _0x4f7db2=_0x2770cf[_0xf19c31(0x36d)]();generateAndSaveLessonForBlueprint(_0x5da304,_0x5de75a,_0x4f7db2[_0xf19c31(0x8a7)]);}}else{if(_0x1a1564)editTopicInProject(_0x5da304);else _0x3da218&&deleteTopicFromProject(_0x5da304);}}}}}}}),document[_0x45bf76(0x52a)](_0x45bf76(0xb40))[_0x45bf76(0x6dd)]('click',handleFixLessonLatex),document[_0x45bf76(0x52a)](_0x45bf76(0x468))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleExportLessonToPDF),document[_0x45bf76(0x52a)](_0x45bf76(0x937))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3655f6=_0x45bf76;document[_0x3655f6(0x52a)](_0x3655f6(0xc39))['classList'][_0x3655f6(0x642)](_0x3655f6(0x68d));});const _0x37bac9=document[_0x45bf76(0x52a)]('bulk-confidence-scoring-checkbox'),_0x20d6e6=document[_0x45bf76(0x52a)](_0x45bf76(0xb79));_0x37bac9[_0x45bf76(0x6dd)](_0x45bf76(0x843),()=>{const _0x16a34f=_0x45bf76;_0x20d6e6[_0x16a34f(0x817)]['toggle'](_0x16a34f(0x68d),!_0x37bac9[_0x16a34f(0x9a3)]);});const _0x404900=document[_0x45bf76(0x52a)](_0x45bf76(0x91f)),_0x5b1b72=document[_0x45bf76(0x52a)](_0x45bf76(0x816));_0x404900[_0x45bf76(0x6dd)]('change',()=>{const _0x4afcdd=_0x45bf76;_0x5b1b72[_0x4afcdd(0x817)][_0x4afcdd(0x2fc)](_0x4afcdd(0x68d),!_0x404900[_0x4afcdd(0x9a3)]);});const _0x58e453=document[_0x45bf76(0x52a)](_0x45bf76(0x93e)),_0x400191=document[_0x45bf76(0x52a)](_0x45bf76(0x558));_0x58e453[_0x45bf76(0x6dd)](_0x45bf76(0x843),()=>{const _0x2487c2=_0x45bf76;_0x400191[_0x2487c2(0x817)][_0x2487c2(0x2fc)](_0x2487c2(0x68d),!_0x58e453[_0x2487c2(0x9a3)]);});const _0x4060b5=document[_0x45bf76(0x52a)](_0x45bf76(0x8a5)),_0x2d3410=async _0x26af82=>{const _0x39ddb7=_0x45bf76,_0x34d715=document[_0x39ddb7(0x52a)](_0x39ddb7(0x8a5)),_0x454301=_0x34d715[_0x39ddb7(0xba5)][_0x39ddb7(0x9f3)],_0x2dd8d5=document[_0x39ddb7(0x52a)]('selected-answer-index-hidden');_0x34d715['classList'][_0x39ddb7(0x642)](_0x39ddb7(0x68d));if(_0x454301===_0x39ddb7(0x329)){const _0x534850=_0x2dd8d5[_0x39ddb7(0x3c4)],_0x26584b={'answer':_0x534850,'wasConfident':_0x26af82};proceedToNextQuestion(_0x26584b);}else{if(_0x454301===_0x39ddb7(0x5f1)){const _0x18f190=_0x2dd8d5[_0x39ddb7(0xba5)][_0x39ddb7(0xd72)],_0x5a044e=JSON['parse'](_0x2dd8d5[_0x39ddb7(0xba5)][_0x39ddb7(0xa64)]),_0x42ed32=JSON[_0x39ddb7(0x975)](_0x2dd8d5[_0x39ddb7(0xba5)][_0x39ddb7(0x47d)]),_0x3b9538=_0x2dd8d5[_0x39ddb7(0xba5)][_0x39ddb7(0x9aa)];handleSyncAnswerSubmit(_0x18f190,_0x5a044e,_0x42ed32,_0x3b9538,_0x26af82);}}_0x34d715['dataset'][_0x39ddb7(0x9f3)]='';};document[_0x45bf76(0x52a)](_0x45bf76(0x55e))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>_0x2d3410(!![])),document[_0x45bf76(0x52a)]('confirm-not-confident')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>_0x2d3410(![])),liveGameView['addEventListener']('click',_0xf0f6c8=>{const _0x557165=_0x45bf76,_0x5dc73d=_0xf0f6c8[_0x557165(0x45d)][_0x557165(0xdda)](_0x557165(0xa8d));if(_0x5dc73d){const _0x24ac56=_0x5dc73d[_0x557165(0xba5)][_0x557165(0x9aa)];_0x24ac56&&handleKickPlayerSync(_0x24ac56);}});const _0x2653ac=document[_0x45bf76(0x52a)](_0x45bf76(0xc92)),_0x5244b3=document[_0x45bf76(0x52a)](_0x45bf76(0xcb1));_0x5244b3[_0x45bf76(0x6dd)]('click',()=>{const _0x551e33=_0x45bf76;document['getElementById']('confirm-game-start-modal')['classList'][_0x551e33(0x642)](_0x551e33(0x68d));}),_0x2653ac['addEventListener']('click',()=>{const _0x547754=_0x45bf76,_0x5839eb=document['getElementById'](_0x547754(0x81d))[_0x547754(0x3c4)],_0x457ec4=document[_0x547754(0x52a)]('game-start-mode')['value'],_0x2ff4ad=document[_0x547754(0x52a)](_0x547754(0x215))[_0x547754(0x9a3)];document[_0x547754(0x52a)](_0x547754(0x39a))[_0x547754(0x817)][_0x547754(0x642)]('hidden');switch(_0x457ec4){case _0x547754(0xc63):handleStartLiveRace(_0x5839eb,_0x2ff4ad);break;case _0x547754(0xa0a):handleStartTeamQuiz(_0x5839eb,_0x2ff4ad);break;case _0x547754(0x647):handleStartGroupMode(_0x5839eb,_0x2ff4ad);break;case _0x547754(0x5f1):const _0x23251f=document[_0x547754(0x390)](_0x547754(0x7b6))[_0x547754(0x3c4)]||_0x547754(0xc16);handleStartSyncMode(_0x5839eb,_0x2ff4ad,_0x23251f);break;}}),document[_0x45bf76(0x52a)](_0x45bf76(0x697))[_0x45bf76(0x6dd)]('click',handleJoinGroupActivity),liveGameView[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x556951=>{const _0x4fc78e=_0x45bf76,_0x47b110=_0x556951[_0x4fc78e(0x45d)][_0x4fc78e(0xdda)](_0x4fc78e(0x7c5));document[_0x4fc78e(0x7b3)](_0x4fc78e(0xcdc))[_0x4fc78e(0x79a)](_0x35cc31=>{const _0x21fe6a=_0x4fc78e;(!_0x47b110||_0x35cc31['id']!==_0x47b110[_0x21fe6a(0xba5)][_0x21fe6a(0x734)])&&_0x35cc31[_0x21fe6a(0x817)][_0x21fe6a(0xb2b)](_0x21fe6a(0x2e1));});if(!_0x47b110)return;const _0x23e7ea=_0x47b110['dataset'][_0x4fc78e(0x734)],_0x108da6=document[_0x4fc78e(0x52a)](_0x23e7ea);_0x108da6&&_0x108da6[_0x4fc78e(0x817)][_0x4fc78e(0x2fc)](_0x4fc78e(0x2e1));}),liveGameView[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x212719=>{const _0xe6881b=_0x45bf76;if(_0x212719[_0xe6881b(0x45d)][_0xe6881b(0x817)][_0xe6881b(0x7e7)](_0xe6881b(0x4b3))){const _0x4f9ee9=_0x212719['target'][_0xe6881b(0xba5)]['playerName'];_0x4f9ee9&&handleKickPlayer(_0x4f9ee9);}}),document[_0x45bf76(0x52a)]('project-title')[_0x45bf76(0x6dd)](_0x45bf76(0x31a),()=>document[_0x45bf76(0x52a)](_0x45bf76(0xb96))[_0x45bf76(0x817)][_0x45bf76(0xb2b)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)]('save-project-name-btn')['addEventListener'](_0x45bf76(0x564),handleSaveProjectName),document[_0x45bf76(0x52a)](_0x45bf76(0x7e9))['addEventListener']('keydown',_0x2b32b0=>{const _0x4881ac=_0x45bf76;_0x2b32b0['key']==='Enter'&&(_0x2b32b0[_0x4881ac(0x306)](),_0x2b32b0[_0x4881ac(0x45d)][_0x4881ac(0x4cb)](),handleSaveProjectName());}),document[_0x45bf76(0x52a)](_0x45bf76(0xa38))['addEventListener'](_0x45bf76(0x564),()=>{const _0x33abf5=_0x45bf76;document[_0x33abf5(0x52a)](_0x33abf5(0x968))[_0x33abf5(0x817)][_0x33abf5(0xb2b)](_0x33abf5(0x68d));}),document['getElementById'](_0x45bf76(0x7f4))[_0x45bf76(0x6dd)]('click',()=>{const _0x373e02=_0x45bf76;document[_0x373e02(0x52a)](_0x373e02(0x968))[_0x373e02(0x817)][_0x373e02(0x642)](_0x373e02(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0xa11))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleBulkUpdateQuizSettings),document[_0x45bf76(0x52a)](_0x45bf76(0x8ed))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleModeSwitch),document['getElementById'](_0x45bf76(0x445))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleUpdateOldQuizzes),document['getElementById'](_0x45bf76(0x5f7))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleResetProjectOrder),document[_0x45bf76(0x52a)]('save-visibility-settings-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleSaveVisibilitySettings),document[_0x45bf76(0x52a)]('add-custom-math-topic-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleAddCustomMathTopic),document[_0x45bf76(0x52a)](_0x45bf76(0x32d))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleSelectAllTopics),document[_0x45bf76(0x52a)]('deselect-all-topics-btn')[_0x45bf76(0x6dd)]('click',handleDeselectAllTopics),document[_0x45bf76(0x52a)](_0x45bf76(0x58e))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0xdc0be6=_0x45bf76;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xdc0be6(0x69d));}}),document[_0x45bf76(0x52a)](_0x45bf76(0x9c7))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x98f00b=_0x45bf76;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x98f00b(0x298));}}),document[_0x45bf76(0x52a)](_0x45bf76(0x385))['addEventListener']('click',()=>{const _0xe16dc2=_0x45bf76;showView(_0xe16dc2(0x69d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x534))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x122832=_0x45bf76;messageModal[_0x122832(0x817)][_0x122832(0x642)]('hidden'),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x45bf76(0x52a)](_0x45bf76(0x7c9))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>createProjectModal[_0x45bf76(0x817)]['remove'](_0x45bf76(0x68d))),document['getElementById'](_0x45bf76(0x7a7))['addEventListener'](_0x45bf76(0x564),()=>createProjectModal['classList']['add'](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0xda1))[_0x45bf76(0x6dd)]('click',()=>adminPasswordModal[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0x1e6))['addEventListener']('click',handleAdminLogin),document[_0x45bf76(0x52a)](_0x45bf76(0x4b5))[_0x45bf76(0x6dd)](_0x45bf76(0x8a6),_0x243201=>{if(_0x243201['key']==='Enter')handleAdminLogin();}),document[_0x45bf76(0x52a)]('cancel-delete-btn')[_0x45bf76(0x6dd)]('click',()=>{const _0x4adba9=_0x45bf76;confirmationModal[_0x4adba9(0x817)][_0x4adba9(0x642)](_0x4adba9(0x68d)),confirmAction=null;}),document[_0x45bf76(0x52a)]('confirm-delete-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x47a58f=_0x45bf76;confirmAction&&confirmAction(),confirmationModal[_0x47a58f(0x817)]['add'](_0x47a58f(0x68d)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>renameQuizModal[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)]('confirm-rename-quiz-btn')['addEventListener']('click',confirmRenameQuiz),document[_0x45bf76(0x52a)]('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0xbfa))['addEventListener']('click',confirmMoveQuiz),document[_0x45bf76(0x52a)](_0x45bf76(0x8a2))['addEventListener'](_0x45bf76(0x564),()=>quizSettingsModal[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0xc2a))[_0x45bf76(0x6dd)]('click',confirmQuizSettings),document[_0x45bf76(0x52a)](_0x45bf76(0xd30))[_0x45bf76(0x6dd)]('click',()=>quizStatusModal[_0x45bf76(0x817)][_0x45bf76(0x642)](_0x45bf76(0x68d))),document[_0x45bf76(0x52a)](_0x45bf76(0xa2f))['addEventListener'](_0x45bf76(0x564),confirmQuizStatus);const _0xe46b89=document['getElementById'](_0x45bf76(0x6bc));document[_0x45bf76(0x52a)](_0x45bf76(0xbd2))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x5adb78=_0x45bf76;_0xe46b89[_0x5adb78(0x817)]['add']('hidden');}),document['getElementById'](_0x45bf76(0xdc4))[_0x45bf76(0x6dd)](_0x45bf76(0x564),async()=>{const _0x188659=_0x45bf76,_0x4f2429=allQuizzes['find'](_0x1b14aa=>_0x1b14aa['id']===actionTargetId);_0x4f2429?(currentQuizData=_0x4f2429,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0xe46b89['classList']['add'](_0x188659(0x68d));}),document['getElementById'](_0x45bf76(0x7cd))[_0x45bf76(0x6dd)](_0x45bf76(0x564),async()=>{const _0x1219e0=_0x45bf76,_0x3c1916=allQuizzes[_0x1219e0(0x8c7)](_0x13d030=>_0x13d030['id']===actionTargetId);_0x3c1916?(currentQuizData=_0x3c1916,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0xe46b89[_0x1219e0(0x817)][_0x1219e0(0x642)](_0x1219e0(0x68d));});const _0x325165=document[_0x45bf76(0x52a)]('open-global-live-btn');_0x325165[_0x45bf76(0xd3c)]=_0x45bf76(0xc58),_0x325165[_0x45bf76(0x6dd)](_0x45bf76(0x564),openGlobalActivityModal),document[_0x45bf76(0x52a)](_0x45bf76(0x489))[_0x45bf76(0x6dd)]('click',()=>{const _0x2a269f=_0x45bf76;document[_0x2a269f(0x52a)](_0x2a269f(0x85a))[_0x2a269f(0x817)][_0x2a269f(0x642)](_0x2a269f(0x68d));}),document['getElementById'](_0x45bf76(0x832))[_0x45bf76(0x6dd)](_0x45bf76(0x53a),_0x409c02=>{const _0x28f416=_0x45bf76;renderGlobalActivityList(_0x409c02[_0x28f416(0x45d)]['value']);}),document['getElementById'](_0x45bf76(0xc56))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x506550=>{const _0x11591b=_0x45bf76,_0x1ba454=_0x506550['target'][_0x11591b(0xdda)](_0x11591b(0x3ba));if(!_0x1ba454)return;const _0x34d437=_0x1ba454[_0x11591b(0xba5)]['id'],_0x4b9d0a=_0x1ba454[_0x11591b(0xba5)]['mode'],_0x56eb69=allQuizzesGlobal[_0x11591b(0x8c7)](_0x1d73de=>_0x1d73de['id']===_0x34d437);_0x56eb69&&(document[_0x11591b(0x52a)](_0x11591b(0x85a))[_0x11591b(0x817)][_0x11591b(0x642)](_0x11591b(0x68d)),_0x4b9d0a===_0x11591b(0xc63)?handleStartLiveRace(_0x34d437):showGameStartConfirmationModal(_0x34d437,_0x4b9d0a,_0x56eb69['topic']));}),document[_0x45bf76(0x52a)](_0x45bf76(0x9f6))['addEventListener'](_0x45bf76(0x53a),renderProjects),document['getElementById']('project-sort-select')[_0x45bf76(0x6dd)](_0x45bf76(0x843),async()=>{const _0x57ad4e=_0x45bf76,_0x31ea5f=document[_0x57ad4e(0x52a)]('project-sort-select')[_0x57ad4e(0x3c4)],_0x3b0119=doc(db,_0x57ad4e(0x3e0),_0x57ad4e(0x798));try{await setDoc(_0x3b0119,{'projectSort':_0x31ea5f},{'merge':!![]});}catch(_0x2e8306){console[_0x57ad4e(0xc4f)]('Error\x20updating\x20sort\x20preference:',_0x2e8306),showMessage(_0x57ad4e(0x8a1));}}),document['getElementById']('quiz-search-input')[_0x45bf76(0x6dd)](_0x45bf76(0x53a),renderQuizzes),document[_0x45bf76(0x52a)]('grid-view-btn')[_0x45bf76(0x6dd)]('click',()=>{const _0x4329a3=_0x45bf76;globalDashboardSettings[_0x4329a3(0x3f5)]=_0x4329a3(0x412),saveUserPreference(_0x4329a3(0x3f5),_0x4329a3(0x412)),renderProjects();}),document['getElementById'](_0x45bf76(0xbd3))['addEventListener']('click',()=>{const _0xe373d=_0x45bf76;globalDashboardSettings[_0xe373d(0x3f5)]=_0xe373d(0xdb1),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0x45bf76(0x6dd)]('click',()=>switchProjectTab('manage')),resultsTab[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>switchProjectTab('results')),leaderboardTab[_0x45bf76(0x6dd)]('click',()=>switchProjectTab(_0x45bf76(0x771))),document[_0x45bf76(0x52a)](_0x45bf76(0x3eb))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>switchQuizDetailTab(_0x45bf76(0xd93))),document[_0x45bf76(0x52a)](_0x45bf76(0xb18))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>switchQuizDetailTab(_0x45bf76(0x927))),document[_0x45bf76(0x52a)]('leaderboard-quiz-tab-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>switchQuizDetailTab(_0x45bf76(0x97f))),document['getElementById'](_0x45bf76(0x472))['addEventListener']('click',()=>switchQuizDetailTab(_0x45bf76(0x243))),document[_0x45bf76(0x52a)](_0x45bf76(0xa9f))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleAnalyzeClass),generateWorksheetBtn[_0x45bf76(0x6dd)](_0x45bf76(0x564),generateWorksheet);const _0x3c9fb7=document[_0x45bf76(0x52a)]('link-tab'),_0x1beef3=document[_0x45bf76(0x52a)](_0x45bf76(0x68e)),_0x1ed66b=document[_0x45bf76(0x52a)]('blueprint-tab'),_0x5d4add=document[_0x45bf76(0x52a)](_0x45bf76(0x9f1)),_0x31761c=document[_0x45bf76(0x52a)](_0x45bf76(0x327)),_0xdf5b7f=document[_0x45bf76(0x52a)](_0x45bf76(0xd7d));topicTab[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x5590bd=_0x45bf76;topicTab[_0x5590bd(0x817)][_0x5590bd(0x642)]('active'),textTab['classList'][_0x5590bd(0xb2b)](_0x5590bd(0x7ec)),fileTab['classList']['remove'](_0x5590bd(0x7ec)),worksheetTab[_0x5590bd(0x817)][_0x5590bd(0xb2b)](_0x5590bd(0x7ec));if(_0x3c9fb7)_0x3c9fb7['classList'][_0x5590bd(0xb2b)](_0x5590bd(0x7ec));if(_0x1ed66b)_0x1ed66b[_0x5590bd(0x817)]['remove']('active');if(_0x31761c)_0x31761c[_0x5590bd(0x817)]['remove'](_0x5590bd(0x7ec));topicInputArea[_0x5590bd(0x817)][_0x5590bd(0xb2b)](_0x5590bd(0x68d)),textInputArea['classList'][_0x5590bd(0x642)](_0x5590bd(0x68d)),fileInputArea[_0x5590bd(0x817)]['add'](_0x5590bd(0x68d)),worksheetInputArea['classList'][_0x5590bd(0x642)](_0x5590bd(0x68d));if(_0x1beef3)_0x1beef3['classList'][_0x5590bd(0x642)](_0x5590bd(0x68d));if(_0x5d4add)_0x5d4add[_0x5590bd(0x817)]['add'](_0x5590bd(0x68d));if(_0xdf5b7f)_0xdf5b7f[_0x5590bd(0x817)][_0x5590bd(0x642)](_0x5590bd(0x68d));}),textTab[_0x45bf76(0x6dd)]('click',()=>{const _0x1de2ed=_0x45bf76;textTab[_0x1de2ed(0x817)]['add'](_0x1de2ed(0x7ec)),topicTab['classList'][_0x1de2ed(0xb2b)](_0x1de2ed(0x7ec)),fileTab[_0x1de2ed(0x817)][_0x1de2ed(0xb2b)](_0x1de2ed(0x7ec)),worksheetTab[_0x1de2ed(0x817)][_0x1de2ed(0xb2b)](_0x1de2ed(0x7ec));if(_0x3c9fb7)_0x3c9fb7[_0x1de2ed(0x817)][_0x1de2ed(0xb2b)](_0x1de2ed(0x7ec));if(_0x1ed66b)_0x1ed66b[_0x1de2ed(0x817)][_0x1de2ed(0xb2b)]('active');if(_0x31761c)_0x31761c[_0x1de2ed(0x817)][_0x1de2ed(0xb2b)]('active');textInputArea['classList'][_0x1de2ed(0xb2b)](_0x1de2ed(0x68d)),topicInputArea[_0x1de2ed(0x817)][_0x1de2ed(0x642)](_0x1de2ed(0x68d)),fileInputArea[_0x1de2ed(0x817)][_0x1de2ed(0x642)](_0x1de2ed(0x68d)),worksheetInputArea['classList'][_0x1de2ed(0x642)](_0x1de2ed(0x68d));if(_0x1beef3)_0x1beef3[_0x1de2ed(0x817)][_0x1de2ed(0x642)](_0x1de2ed(0x68d));if(_0x5d4add)_0x5d4add[_0x1de2ed(0x817)][_0x1de2ed(0x642)]('hidden');if(_0xdf5b7f)_0xdf5b7f['classList'][_0x1de2ed(0x642)]('hidden');}),fileTab[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x3d1e24=_0x45bf76;fileTab[_0x3d1e24(0x817)][_0x3d1e24(0x642)]('active'),topicTab[_0x3d1e24(0x817)][_0x3d1e24(0xb2b)](_0x3d1e24(0x7ec)),textTab['classList'][_0x3d1e24(0xb2b)]('active'),worksheetTab['classList']['remove']('active');if(_0x3c9fb7)_0x3c9fb7[_0x3d1e24(0x817)][_0x3d1e24(0xb2b)]('active');if(_0x1ed66b)_0x1ed66b[_0x3d1e24(0x817)]['remove'](_0x3d1e24(0x7ec));if(_0x31761c)_0x31761c['classList'][_0x3d1e24(0xb2b)](_0x3d1e24(0x7ec));fileInputArea[_0x3d1e24(0x817)]['remove'](_0x3d1e24(0x68d)),topicInputArea[_0x3d1e24(0x817)][_0x3d1e24(0x642)](_0x3d1e24(0x68d)),textInputArea[_0x3d1e24(0x817)][_0x3d1e24(0x642)]('hidden'),worksheetInputArea[_0x3d1e24(0x817)][_0x3d1e24(0x642)](_0x3d1e24(0x68d));if(_0x1beef3)_0x1beef3[_0x3d1e24(0x817)][_0x3d1e24(0x642)](_0x3d1e24(0x68d));if(_0x5d4add)_0x5d4add[_0x3d1e24(0x817)][_0x3d1e24(0x642)]('hidden');if(_0xdf5b7f)_0xdf5b7f[_0x3d1e24(0x817)]['add'](_0x3d1e24(0x68d));}),worksheetTab[_0x45bf76(0x6dd)]('click',()=>{const _0x378690=_0x45bf76;worksheetTab['classList'][_0x378690(0x642)]('active'),topicTab[_0x378690(0x817)][_0x378690(0xb2b)](_0x378690(0x7ec)),textTab[_0x378690(0x817)]['remove']('active'),fileTab[_0x378690(0x817)]['remove'](_0x378690(0x7ec));if(_0x3c9fb7)_0x3c9fb7[_0x378690(0x817)]['remove'](_0x378690(0x7ec));if(_0x1ed66b)_0x1ed66b[_0x378690(0x817)][_0x378690(0xb2b)]('active');if(_0x31761c)_0x31761c[_0x378690(0x817)][_0x378690(0xb2b)](_0x378690(0x7ec));worksheetInputArea[_0x378690(0x817)][_0x378690(0xb2b)](_0x378690(0x68d)),topicInputArea[_0x378690(0x817)][_0x378690(0x642)](_0x378690(0x68d)),textInputArea['classList'][_0x378690(0x642)](_0x378690(0x68d)),fileInputArea[_0x378690(0x817)][_0x378690(0x642)](_0x378690(0x68d));if(_0x1beef3)_0x1beef3[_0x378690(0x817)][_0x378690(0x642)](_0x378690(0x68d));if(_0x5d4add)_0x5d4add[_0x378690(0x817)][_0x378690(0x642)](_0x378690(0x68d));if(_0xdf5b7f)_0xdf5b7f['classList'][_0x378690(0x642)](_0x378690(0x68d));});const _0xe6e4c7=document[_0x45bf76(0x52a)](_0x45bf76(0x6f2)),_0x58db65=document[_0x45bf76(0x52a)]('bank-input-area');_0xe6e4c7&&_0xe6e4c7[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0xc89562=_0x45bf76;topicTab[_0xc89562(0x817)][_0xc89562(0xb2b)](_0xc89562(0x7ec)),textTab[_0xc89562(0x817)][_0xc89562(0xb2b)](_0xc89562(0x7ec)),fileTab[_0xc89562(0x817)]['remove']('active'),worksheetTab[_0xc89562(0x817)][_0xc89562(0xb2b)](_0xc89562(0x7ec));if(_0x3c9fb7)_0x3c9fb7[_0xc89562(0x817)][_0xc89562(0xb2b)](_0xc89562(0x7ec));if(_0x1ed66b)_0x1ed66b[_0xc89562(0x817)][_0xc89562(0xb2b)]('active');if(_0x31761c)_0x31761c[_0xc89562(0x817)]['remove'](_0xc89562(0x7ec));_0xe6e4c7[_0xc89562(0x817)][_0xc89562(0x642)]('active'),topicInputArea[_0xc89562(0x817)][_0xc89562(0x642)](_0xc89562(0x68d)),textInputArea[_0xc89562(0x817)][_0xc89562(0x642)](_0xc89562(0x68d)),fileInputArea[_0xc89562(0x817)]['add']('hidden'),worksheetInputArea[_0xc89562(0x817)][_0xc89562(0x642)]('hidden');if(_0x1beef3)_0x1beef3[_0xc89562(0x817)][_0xc89562(0x642)](_0xc89562(0x68d));if(_0x5d4add)_0x5d4add['classList'][_0xc89562(0x642)](_0xc89562(0x68d));if(_0xdf5b7f)_0xdf5b7f['classList']['add'](_0xc89562(0x68d));_0x58db65[_0xc89562(0x817)][_0xc89562(0xb2b)](_0xc89562(0x68d)),displayQuestionBank();});_0x3c9fb7&&(_0x3c9fb7[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x4037d6=_0x45bf76;_0x3c9fb7[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x7ec)),topicTab[_0x4037d6(0x817)][_0x4037d6(0xb2b)](_0x4037d6(0x7ec)),textTab[_0x4037d6(0x817)][_0x4037d6(0xb2b)]('active'),fileTab[_0x4037d6(0x817)]['remove'](_0x4037d6(0x7ec)),worksheetTab[_0x4037d6(0x817)][_0x4037d6(0xb2b)](_0x4037d6(0x7ec));if(_0x1ed66b)_0x1ed66b['classList'][_0x4037d6(0xb2b)](_0x4037d6(0x7ec));if(_0x31761c)_0x31761c[_0x4037d6(0x817)]['remove']('active');_0x1beef3[_0x4037d6(0x817)][_0x4037d6(0xb2b)](_0x4037d6(0x68d)),topicInputArea[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x68d)),textInputArea[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x68d)),fileInputArea[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x68d)),worksheetInputArea[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x68d));if(_0x5d4add)_0x5d4add['classList'][_0x4037d6(0x642)](_0x4037d6(0x68d));if(_0xdf5b7f)_0xdf5b7f[_0x4037d6(0x817)][_0x4037d6(0x642)](_0x4037d6(0x68d));}),document[_0x45bf76(0x52a)]('generate-from-link-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleGenerateFromLink));_0x1ed66b&&_0x1ed66b[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0xc59686=_0x45bf76;_0x1ed66b[_0xc59686(0x817)][_0xc59686(0x642)](_0xc59686(0x7ec)),topicTab['classList'][_0xc59686(0xb2b)](_0xc59686(0x7ec)),textTab['classList'][_0xc59686(0xb2b)](_0xc59686(0x7ec)),fileTab[_0xc59686(0x817)]['remove'](_0xc59686(0x7ec)),worksheetTab[_0xc59686(0x817)]['remove'](_0xc59686(0x7ec));if(_0x3c9fb7)_0x3c9fb7[_0xc59686(0x817)][_0xc59686(0xb2b)](_0xc59686(0x7ec));if(_0xe6e4c7)_0xe6e4c7[_0xc59686(0x817)][_0xc59686(0xb2b)](_0xc59686(0x7ec));if(_0x31761c)_0x31761c[_0xc59686(0x817)][_0xc59686(0xb2b)](_0xc59686(0x7ec));_0x5d4add[_0xc59686(0x817)][_0xc59686(0xb2b)](_0xc59686(0x68d)),topicInputArea['classList']['add']('hidden'),textInputArea['classList'][_0xc59686(0x642)](_0xc59686(0x68d)),fileInputArea['classList'][_0xc59686(0x642)](_0xc59686(0x68d)),worksheetInputArea[_0xc59686(0x817)][_0xc59686(0x642)](_0xc59686(0x68d));if(_0x1beef3)_0x1beef3[_0xc59686(0x817)]['add'](_0xc59686(0x68d));if(_0x58db65)_0x58db65[_0xc59686(0x817)]['add']('hidden');if(_0xdf5b7f)_0xdf5b7f[_0xc59686(0x817)][_0xc59686(0x642)](_0xc59686(0x68d));});_0x31761c&&_0x31761c[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x24e171=_0x45bf76;_0x31761c['classList'][_0x24e171(0x642)](_0x24e171(0x7ec)),topicTab[_0x24e171(0x817)][_0x24e171(0xb2b)](_0x24e171(0x7ec)),textTab[_0x24e171(0x817)][_0x24e171(0xb2b)](_0x24e171(0x7ec)),fileTab[_0x24e171(0x817)][_0x24e171(0xb2b)](_0x24e171(0x7ec)),worksheetTab['classList'][_0x24e171(0xb2b)](_0x24e171(0x7ec));if(_0x3c9fb7)_0x3c9fb7[_0x24e171(0x817)][_0x24e171(0xb2b)](_0x24e171(0x7ec));if(_0x1ed66b)_0x1ed66b[_0x24e171(0x817)][_0x24e171(0xb2b)]('active');if(_0xe6e4c7)_0xe6e4c7[_0x24e171(0x817)]['remove'](_0x24e171(0x7ec));_0xdf5b7f['classList'][_0x24e171(0xb2b)](_0x24e171(0x68d)),topicInputArea[_0x24e171(0x817)][_0x24e171(0x642)](_0x24e171(0x68d)),textInputArea[_0x24e171(0x817)][_0x24e171(0x642)](_0x24e171(0x68d)),fileInputArea['classList'][_0x24e171(0x642)]('hidden'),worksheetInputArea['classList'][_0x24e171(0x642)]('hidden');if(_0x1beef3)_0x1beef3[_0x24e171(0x817)]['add'](_0x24e171(0x68d));if(_0x5d4add)_0x5d4add[_0x24e171(0x817)][_0x24e171(0x642)](_0x24e171(0x68d));if(_0x58db65)_0x58db65[_0x24e171(0x817)]['add'](_0x24e171(0x68d));});const _0x420826=document[_0x45bf76(0x52a)]('blueprint-upload-input'),_0x2dbc72=document[_0x45bf76(0x52a)]('generate-from-blueprint-btn');if(_0x420826){const _0xcca793=document[_0x45bf76(0x52a)]('blueprint-upload-input'),_0x3277eb=document[_0x45bf76(0x52a)](_0x45bf76(0x99c)),_0xb9f8e9=document['getElementById']('blueprint-options-container'),_0x4a41d9=document['getElementById']('separate-by-content-checkbox'),_0xae0a03=document[_0x45bf76(0x52a)](_0x45bf76(0x6ee)),_0x46de2b=document[_0x45bf76(0x52a)](_0x45bf76(0x630));_0xcca793&&_0xcca793['addEventListener'](_0x45bf76(0x843),async _0x51b8d7=>{const _0x12cbee=_0x45bf76;_0xb9f8e9[_0x12cbee(0x817)]['add'](_0x12cbee(0x68d)),_0xae0a03[_0x12cbee(0x817)][_0x12cbee(0x642)](_0x12cbee(0x68d)),_0x4a41d9['checked']=![],_0x3277eb[_0x12cbee(0x459)]=!![];const _0x502de0=_0x51b8d7['target'][_0x12cbee(0x3d4)][0x0];if(_0x502de0){_0x3277eb[_0x12cbee(0x459)]=![];try{const _0x172ad2=await extractTextFromPdf(_0x502de0);await analyzeBlueprintForTopics(_0x172ad2);}catch(_0x271bae){showMessage(_0x12cbee(0x2c0)),_0xb9f8e9[_0x12cbee(0x817)]['add'](_0x12cbee(0x68d));}}}),_0x4a41d9&&_0x4a41d9[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x544c41=>{const _0x759df3=_0x45bf76,_0x4f0b9d=_0x544c41[_0x759df3(0x45d)][_0x759df3(0x9a3)];_0xae0a03[_0x759df3(0x817)][_0x759df3(0x2fc)](_0x759df3(0x68d),!_0x4f0b9d),_0x3277eb[_0x759df3(0x459)]=_0x4f0b9d;}),_0x46de2b&&(_0x46de2b&&_0x46de2b['addEventListener'](_0x45bf76(0x564),_0x5074f3=>{const _0x5a976e=_0x45bf76,_0x4c81a0=_0x5074f3['target']['closest'](_0x5a976e(0x790)),_0x1fe61a=_0x5074f3[_0x5a976e(0x45d)][_0x5a976e(0xdda)](_0x5a976e(0x6e2));if(_0x4c81a0){const _0x508483=unescape(_0x4c81a0[_0x5a976e(0xba5)]['topic']);generateQuizForSingleTopic(_0x508483);}else{if(_0x1fe61a){const _0x3a0b2c=unescape(_0x1fe61a[_0x5a976e(0xba5)][_0x5a976e(0x801)]);handleGenerateTeachingContent(_0x3a0b2c);}}}));}_0x2dbc72&&_0x2dbc72[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleGenerateFromBlueprint);const _0x5f089f=document[_0x45bf76(0x52a)]('parallel-test-upload-input'),_0x1cffd2=document[_0x45bf76(0x52a)](_0x45bf76(0x902));_0x5f089f&&_0x5f089f[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x243157=>{const _0x34aa49=_0x45bf76;_0x1cffd2[_0x34aa49(0x459)]=_0x243157[_0x34aa49(0x45d)]['files'][_0x34aa49(0xbc8)]===0x0;});_0x1cffd2&&_0x1cffd2[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleLoadQuiz),startQuizBtn[_0x45bf76(0x6dd)]('click',async()=>{const _0x108200=_0x45bf76,_0x3db0a7=document[_0x108200(0x52a)](_0x108200(0xc5d));currentStudentName=_0x3db0a7[_0x108200(0x3c4)];if(!currentStudentName){showMessage(_0x108200(0x8aa));return;}try{const _0x105ff4=currentQuizData['id'],_0x3ce334=doc(db,_0x108200(0x3c5)+appId+_0x108200(0x5b0)+_0x105ff4+'/submissions',currentStudentName),_0x72f03c=await getDoc(_0x3ce334);!_0x72f03c['exists']()?await setDoc(_0x3ce334,{'studentName':currentStudentName,'startedAt':new Date()[_0x108200(0xb49)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x3ce334,{'startedAt':new Date()[_0x108200(0xb49)]()});}catch(_0x8cd6c2){console['error'](_0x108200(0x43d),_0x8cd6c2),showMessage(_0x108200(0x3ab));return;}studentNameSelectionView[_0x108200(0x817)][_0x108200(0x642)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x45bf76(0x52a)]('join-live-game-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),showJoinGameView),document[_0x45bf76(0x52a)](_0x45bf76(0x363))[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleJoinLiveGame),document[_0x45bf76(0x52a)]('back-to-student-initial-btn')['addEventListener'](_0x45bf76(0x564),()=>showView(_0x45bf76(0xa0e)));const _0x2f7f4a=()=>{const _0x192c5d=_0x45bf76,_0x1f4f20=document['getElementById']('results-quiz-title')[_0x192c5d(0x675)][_0x192c5d(0xb64)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x1f4f20||_0x192c5d(0xa3e));},_0x402189=document[_0x45bf76(0x52a)](_0x45bf76(0x5df));_0x402189&&_0x402189[_0x45bf76(0x6dd)](_0x45bf76(0x53a),_0x155f8b=>{const _0x27ff30=_0x45bf76,_0x10990e=_0x155f8b[_0x27ff30(0x45d)][_0x27ff30(0x3c4)][_0x27ff30(0x476)]()[_0x27ff30(0x797)](),_0x1d5d6b=document[_0x27ff30(0x52a)](_0x27ff30(0xd0a)),_0x38f282=_0x1d5d6b[_0x27ff30(0x7b3)](_0x27ff30(0x8c4));_0x38f282[_0x27ff30(0x79a)](_0x3329c1=>{const _0x3d3756=_0x27ff30;let _0x31498b=![];const _0x57c94f=_0x3329c1[_0x3d3756(0x7b3)](_0x3d3756(0xa56));_0x57c94f['forEach'](_0x109dab=>{const _0x33bc08=_0x3d3756,_0x1f6d18=_0x109dab[_0x33bc08(0x390)](_0x33bc08(0xd6a))[_0x33bc08(0x675)]['toLowerCase']();_0x1f6d18[_0x33bc08(0x317)](_0x10990e)?(_0x109dab['style'][_0x33bc08(0x36c)]=_0x33bc08(0xb92),_0x31498b=!![]):_0x109dab[_0x33bc08(0x882)][_0x33bc08(0x36c)]=_0x33bc08(0x3a0);}),_0x31498b?_0x3329c1[_0x3d3756(0x882)][_0x3d3756(0x36c)]='block':_0x3329c1[_0x3d3756(0x882)][_0x3d3756(0x36c)]=_0x3d3756(0x3a0);});});document[_0x45bf76(0x52a)](_0x45bf76(0xdea))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>exportTableAsImage(_0x45bf76(0x910),_0x2f7f4a())),document[_0x45bf76(0x52a)](_0x45bf76(0xa04))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>exportTableAsPDF('results-table',_0x2f7f4a())),document[_0x45bf76(0x52a)]('export-word-btn')[_0x45bf76(0x6dd)]('click',()=>exportTableAsWord(_0x45bf76(0x910),_0x2f7f4a())),document['getElementById'](_0x45bf76(0xc51))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>exportTableAsExcel(_0x45bf76(0x900),_0x2f7f4a()));const _0x19110e=()=>{const _0x3b39cf=_0x45bf76,_0x3898ab=document[_0x3b39cf(0x52a)]('results-quiz-title')[_0x3b39cf(0x675)][_0x3b39cf(0xb64)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3b39cf(0xcf9)+(_0x3898ab||_0x3b39cf(0xa3e));};document['getElementById'](_0x45bf76(0x1e4))[_0x45bf76(0x6dd)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x19110e())),document[_0x45bf76(0x52a)](_0x45bf76(0xcaa))[_0x45bf76(0x6dd)]('click',()=>exportTableAsPDF(_0x45bf76(0x909),_0x19110e())),document[_0x45bf76(0x52a)](_0x45bf76(0x87e))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>exportTableAsWord(_0x45bf76(0x7ed),_0x19110e())),document['getElementById'](_0x45bf76(0xd76))[_0x45bf76(0x6dd)]('click',()=>exportTableAsExcel(_0x45bf76(0x909),_0x19110e())),projectQuizzesList['addEventListener'](_0x45bf76(0x564),async _0x440d06=>{const _0x526497=_0x45bf76,_0x21f1f7=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x34a)),_0x15b26f=_0x440d06['target'][_0x526497(0xdda)](_0x526497(0xa33)),_0x5275e1=_0x440d06['target'][_0x526497(0xdda)](_0x526497(0xc9d)),_0x140c5c=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x762)),_0x21756c=_0x440d06['target'][_0x526497(0xdda)](_0x526497(0x749)),_0x41088e=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)]('.copy-quiz-id-list-btn'),_0x195034=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x73a)),_0x1d9f60=_0x440d06['target'][_0x526497(0xdda)]('.quiz-settings-btn'),_0x33c4a2=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x9a2)),_0x570c3e=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0xdb6)),_0x2ce1a8=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)]('.parallel-quiz-btn'),_0x4f973a=_0x440d06['target'][_0x526497(0xdda)]('.move-quiz-btn'),_0x56c9ea=_0x440d06['target'][_0x526497(0xdda)]('.pair-quiz-btn'),_0x3be071=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0xc18)),_0x42f089=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x32f)),_0x279f59=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x44b)),_0x3a3dc0=_0x440d06[_0x526497(0x45d)]['closest'](_0x526497(0x971)),_0x3fffcc=_0x440d06[_0x526497(0x45d)]['closest'](_0x526497(0x561)),_0x4812a3=_0x440d06['target'][_0x526497(0xdda)](_0x526497(0x2ed)),_0x4da2ff=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x7d0)),_0x2e1d3c=_0x440d06[_0x526497(0x45d)]['closest'](_0x526497(0xb6c)),_0x45e7bb=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x4f9)),_0x55b11d=_0x440d06[_0x526497(0x45d)][_0x526497(0xdda)](_0x526497(0x2ee));if(_0x45e7bb){const _0x43e7b9=_0x45e7bb[_0x526497(0xba5)]['quizId'],_0x4dd1ac=_0x45e7bb['dataset'][_0x526497(0xce3)],_0x55c4c2=allQuizzes[_0x526497(0x8c7)](_0x50ee70=>_0x50ee70['id']===_0x43e7b9);_0x55c4c2&&showGameStartConfirmationModal(_0x43e7b9,_0x4dd1ac,_0x55c4c2[_0x526497(0x801)]);}else{if(_0x55b11d){const _0x34e521=_0x55b11d[_0x526497(0xba5)][_0x526497(0x781)];handleStartLiveRace(_0x34e521);}else{if(_0x4da2ff){const _0x468fea=_0x4da2ff[_0x526497(0xba5)]['quizId'],_0xf74b1d=document[_0x526497(0x52a)](_0x526497(0x93a)+_0x468fea);_0xf74b1d&&_0xf74b1d['classList']['toggle'](_0x526497(0x68d));}else{if(_0x15b26f){const _0x3556d3=_0x15b26f[_0x526497(0xba5)]['quizId'],_0x8fb2d8=allQuizzes['find'](_0x284f9a=>_0x284f9a['id']===_0x3556d3);_0x8fb2d8&&handleGenerateParallelPostTest(_0x8fb2d8);}else{if(_0x5275e1)handleCompareResults(_0x5275e1[_0x526497(0xba5)][_0x526497(0x781)],_0x5275e1[_0x526497(0xba5)][_0x526497(0x765)]);else{if(_0x140c5c){const _0x10d4ba=_0x140c5c[_0x526497(0xba5)][_0x526497(0x781)],_0x3b02a4=allQuizzes[_0x526497(0x8c7)](_0x318b9b=>_0x318b9b['id']===_0x10d4ba);_0x3b02a4&&_0x3b02a4[_0x526497(0x904)]?(displayLessonPlan(_0x3b02a4[_0x526497(0x904)],_0x3b02a4),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x10d4ba)),document['getElementById'](_0x526497(0xda2))[_0x526497(0x390)]('h3')['textContent']='แผนการสอน',document[_0x526497(0x52a)](_0x526497(0x201))['textContent']=_0x526497(0xd71)):handleGenerateLessonPlan(_0x10d4ba);}else{if(_0x21756c)handleToggleStarQuiz(_0x21756c[_0x526497(0xba5)]['quizId']);else{if(_0x41088e)copyTextToClipboard(_0x41088e[_0x526497(0xba5)][_0x526497(0x781)],_0x526497(0xa97));else{if(_0x195034)handleOpenQuizEditor(_0x195034[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x1d9f60)handleQuizSettings(_0x1d9f60[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x33c4a2)handleDuplicateQuiz(_0x33c4a2[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x570c3e)handleRenameQuiz(_0x570c3e[_0x526497(0xba5)][_0x526497(0x781)],_0x570c3e[_0x526497(0xba5)][_0x526497(0x801)]);else{if(_0x2ce1a8){const _0x5f1edb=_0x2ce1a8['dataset'][_0x526497(0x781)],_0x3a9e45=allQuizzes[_0x526497(0x8c7)](_0x8ce824=>_0x8ce824['id']===_0x5f1edb);_0x3a9e45&&handleGenerateParallelFromBank(_0x3a9e45);}else{if(_0x4f973a)handleMoveQuiz(_0x4f973a[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x56c9ea)handleManualQuizPairing(_0x56c9ea[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x3be071)handleUnpairQuiz(_0x3be071[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x42f089){const _0x3b070d=_0x42f089[_0x526497(0xba5)][_0x526497(0x781)],_0x59dfa5=allQuizzes[_0x526497(0x8c7)](_0x282106=>_0x282106['id']===_0x3b070d);if(_0x59dfa5)startPresentation(_0x59dfa5);}else{if(_0x279f59){const _0x49ecbf=_0x279f59[_0x526497(0xba5)][_0x526497(0x781)],_0x4d0354=allQuizzes[_0x526497(0x8c7)](_0x4e2f05=>_0x4e2f05['id']===_0x49ecbf);_0x4d0354&&(currentQuizData=_0x4d0354,startAdminTest());}else{if(_0x3a3dc0)actionTargetId=_0x3a3dc0[_0x526497(0xba5)][_0x526497(0x781)],document[_0x526497(0x52a)](_0x526497(0x6bc))[_0x526497(0x817)][_0x526497(0xb2b)]('hidden');else{if(_0x3fffcc)showConfirmation(_0x526497(0x4d7)+_0x3fffcc[_0x526497(0xba5)][_0x526497(0x801)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x3fffcc[_0x526497(0xba5)]['quizId']));else{if(_0x4812a3)handleQuizStatus(_0x4812a3[_0x526497(0xba5)][_0x526497(0x781)]);else{if(_0x2e1d3c)handleGenerateEasyVersionQuiz(_0x2e1d3c[_0x526497(0xba5)][_0x526497(0x781)]);else _0x21f1f7&&showQuizDetailView(_0x21f1f7[_0x526497(0xba5)][_0x526497(0x781)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById']('cancel-team-selection-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>showView(_0x45bf76(0xa0e))),document[_0x45bf76(0x52a)](_0x45bf76(0x58a))[_0x45bf76(0x6dd)](_0x45bf76(0x564),confirmAndStartTeamQuiz),document['getElementById'](_0x45bf76(0x909))['querySelector']('thead')[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x513c24=>{const _0x29ff84=_0x45bf76,_0x47c8b4=_0x513c24[_0x29ff84(0x45d)][_0x29ff84(0xdda)](_0x29ff84(0x770));if(!_0x47c8b4||!_0x47c8b4[_0x29ff84(0xba5)][_0x29ff84(0xd66)])return;const _0x438378=_0x47c8b4['dataset'][_0x29ff84(0xd66)];if(quizLeaderboardSortBy===_0x438378)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x29ff84(0xae1)?'desc':_0x29ff84(0xae1);else{quizLeaderboardSortBy=_0x438378;const _0xe9aaff=[_0x29ff84(0x7a5)];quizLeaderboardSortOrder=_0xe9aaff['includes'](_0x438378)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x29ff84(0x1f2));}),document[_0x45bf76(0x52a)](_0x45bf76(0x9d7))[_0x45bf76(0x6dd)](_0x45bf76(0x564),closePresentation),document['getElementById']('prev-question-btn')['addEventListener'](_0x45bf76(0x564),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x45bf76(0x52a)](_0x45bf76(0x8ff))['addEventListener'](_0x45bf76(0x564),()=>{const _0x2b57c4=_0x45bf76;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x2b57c4(0x665)][_0x2b57c4(0xbc8)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x45bf76(0x6dd)]('fullscreenchange',()=>{const _0x4376a7=_0x45bf76;!document[_0x4376a7(0x978)]&&(presentationModal[_0x4376a7(0x882)][_0x4376a7(0x36c)]='none');}),document[_0x45bf76(0x52a)]('delete-all-students-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleDeleteAllStudents),studentList['addEventListener']('click',_0x404749=>{const _0x43cde1=_0x45bf76,_0x435d59=_0x404749[_0x43cde1(0x45d)][_0x43cde1(0xdda)](_0x43cde1(0x711));if(_0x435d59){const _0x541ee0=_0x435d59[_0x43cde1(0xba5)][_0x43cde1(0x7a5)];handleDeleteStudent(_0x541ee0);}}),document['getElementById']('generate-from-file-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleGenerateFromFileClick),fileUploadInput[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x1b3839=>{const _0x5ba2f2=_0x45bf76,_0x369bd2=_0x1b3839[_0x5ba2f2(0x45d)][_0x5ba2f2(0x3d4)][0x0],_0x141131=document[_0x5ba2f2(0x52a)]('generate-from-file-btn'),_0x578f99=document[_0x5ba2f2(0x52a)](_0x5ba2f2(0x7ad)),_0x3a9e34=document[_0x5ba2f2(0x52a)]('separate-by-content-from-file-checkbox');_0x369bd2?(selectedFile=_0x369bd2,_0x3a9e34[_0x5ba2f2(0x9a3)]?(_0x141131[_0x5ba2f2(0x459)]=!![],analyzeFileForTopics(_0x369bd2)):(_0x141131[_0x5ba2f2(0x459)]=![],_0x578f99[_0x5ba2f2(0x817)][_0x5ba2f2(0x642)]('hidden'))):(selectedFile=null,_0x141131[_0x5ba2f2(0x459)]=!![],_0x578f99[_0x5ba2f2(0x817)]['add'](_0x5ba2f2(0x68d)));}),document[_0x45bf76(0x52a)](_0x45bf76(0xb71))[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x293d30=>{const _0x4e0e00=_0x45bf76,_0x5b7f7f=_0x293d30[_0x4e0e00(0x45d)][_0x4e0e00(0x9a3)],_0x1ea692=document[_0x4e0e00(0x52a)](_0x4e0e00(0x235)),_0x2f7fa1=document[_0x4e0e00(0x52a)](_0x4e0e00(0x7ad));_0x5b7f7f?(_0x1ea692[_0x4e0e00(0x459)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2f7fa1['classList'][_0x4e0e00(0xb2b)](_0x4e0e00(0x68d)),document['getElementById'](_0x4e0e00(0x8d3))[_0x4e0e00(0xd3c)]=_0x4e0e00(0xd88))):(_0x2f7fa1['classList'][_0x4e0e00(0x642)]('hidden'),_0x1ea692[_0x4e0e00(0x459)]=!selectedFile);}),document[_0x45bf76(0x52a)](_0x45bf76(0x7ad))[_0x45bf76(0x6dd)]('click',_0x2ef564=>{const _0x5bb8de=_0x45bf76,_0x184e32=_0x2ef564['target']['closest'](_0x5bb8de(0x3fa)),_0x2ab916=_0x2ef564[_0x5bb8de(0x45d)]['closest'](_0x5bb8de(0x6e2));if(_0x184e32){const _0x4ca9f1=unescape(_0x184e32[_0x5bb8de(0xba5)][_0x5bb8de(0x801)]);generateHybridQuizForTopic(_0x4ca9f1);}else{if(_0x2ab916){const _0x35f7d9=unescape(_0x2ab916[_0x5bb8de(0xba5)][_0x5bb8de(0x801)]),_0x32895b=document[_0x5bb8de(0x52a)](_0x5bb8de(0xc08))[_0x5bb8de(0x3c4)];handleGenerateAndShowLesson(_0x35f7d9,_0x32895b);}}}),document['getElementById'](_0x45bf76(0x228))[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x2354f6=>{const _0x3cb15d=_0x45bf76,_0x20c1c3=document[_0x3cb15d(0x52a)]('timer-duration-container'),_0x5ae2f4=document[_0x3cb15d(0x52a)]('timer-duration-label'),_0x271d8d=document[_0x3cb15d(0x52a)](_0x3cb15d(0x583));_0x2354f6['target'][_0x3cb15d(0x3c4)]===_0x3cb15d(0x3a0)?_0x20c1c3['classList']['add'](_0x3cb15d(0x68d)):(_0x20c1c3[_0x3cb15d(0x817)][_0x3cb15d(0xb2b)]('hidden'),_0x2354f6[_0x3cb15d(0x45d)][_0x3cb15d(0x3c4)]===_0x3cb15d(0x4c0)?(_0x5ae2f4[_0x3cb15d(0x675)]=_0x3cb15d(0x464),_0x271d8d[_0x3cb15d(0x3c4)]='10'):(_0x5ae2f4['textContent']='ระยะเวลา\x20(วินาที):',_0x271d8d[_0x3cb15d(0x3c4)]='30'));}),document[_0x45bf76(0x52a)](_0x45bf76(0x1ff))[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x3df548=>{const _0x3dd967=_0x45bf76,_0x42c26b=document[_0x3dd967(0x52a)](_0x3dd967(0x7e0)),_0x133fa2=_0x3df548[_0x3dd967(0x45d)][_0x3dd967(0x3c4)],_0x1758eb=document[_0x3dd967(0x390)]('label[for=\x22num-questions\x22]'),_0x4f1338=document[_0x3dd967(0x52a)](_0x3dd967(0xbea)),_0x19897b=document[_0x3dd967(0x52a)](_0x3dd967(0xb20));_0x133fa2===_0x3dd967(0x957)?_0x1758eb[_0x3dd967(0x675)]=_0x3dd967(0xad7):_0x1758eb[_0x3dd967(0x675)]=_0x3dd967(0x1cb),_0x133fa2===_0x3dd967(0xa3b)||_0x133fa2===_0x3dd967(0x3a3)||_0x133fa2==='mixed'?_0x42c26b[_0x3dd967(0x817)][_0x3dd967(0xb2b)](_0x3dd967(0x68d)):_0x42c26b[_0x3dd967(0x817)]['add'](_0x3dd967(0x68d)),_0x4f1338[_0x3dd967(0xbf8)]=_0x19897b[_0x3dd967(0x3c4)];}),document[_0x45bf76(0x52a)]('num-questions')[_0x45bf76(0x6dd)]('input',_0x329741=>{const _0x37665c=_0x45bf76;document['getElementById']('passing-score-input')[_0x37665c(0xbf8)]=_0x329741['target'][_0x37665c(0x3c4)];}),document[_0x45bf76(0x52a)](_0x45bf76(0xa66))[_0x45bf76(0x6dd)](_0x45bf76(0x843),_0x4e9c53=>{const _0x4ac36a=_0x45bf76,_0x12ffd4=document[_0x4ac36a(0x52a)](_0x4ac36a(0xbcc)),_0x2c5422=document['getElementById'](_0x4ac36a(0xc04)),_0x426bce=document[_0x4ac36a(0x52a)]('modal-timer-duration-input');_0x4e9c53[_0x4ac36a(0x45d)][_0x4ac36a(0x3c4)]===_0x4ac36a(0x3a0)?_0x12ffd4['classList']['add'](_0x4ac36a(0x68d)):(_0x12ffd4[_0x4ac36a(0x817)][_0x4ac36a(0xb2b)](_0x4ac36a(0x68d)),_0x4e9c53[_0x4ac36a(0x45d)][_0x4ac36a(0x3c4)]===_0x4ac36a(0x4c0)?_0x2c5422[_0x4ac36a(0x675)]=_0x4ac36a(0x464):_0x2c5422[_0x4ac36a(0x675)]=_0x4ac36a(0xa43));}),document[_0x45bf76(0x52a)]('cancel-quiz-edits-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x546c5e=_0x45bf76;document[_0x546c5e(0x52a)](_0x546c5e(0xa7b))[_0x546c5e(0x817)][_0x546c5e(0x642)](_0x546c5e(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0x579))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x14cf8b=_0x45bf76;document[_0x14cf8b(0x52a)](_0x14cf8b(0xa7b))[_0x14cf8b(0x817)][_0x14cf8b(0x642)](_0x14cf8b(0x68d));}),document[_0x45bf76(0x52a)]('verify-answers-editor-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),handleVerifyAnswersInEditor),document[_0x45bf76(0x52a)](_0x45bf76(0x2d5))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0xdc0050=_0x45bf76;document['getElementById'](_0xdc0050(0xa7b))[_0xdc0050(0x817)][_0xdc0050(0x642)](_0xdc0050(0x68d)),showConfirmation(_0xdc0050(0x45c),handleSaveChanges);}),document['getElementById'](_0x45bf76(0x970))['addEventListener'](_0x45bf76(0x564),handleAutoFixLatex);const _0x571638=document[_0x45bf76(0x52a)](_0x45bf76(0x960));_0x571638&&_0x571638[_0x45bf76(0x6dd)]('click',_0x205e69=>{const _0x107845=_0x45bf76,_0xcba2d2=_0x205e69[_0x107845(0x45d)][_0x107845(0xdda)](_0x107845(0x36f));if(_0xcba2d2){const _0x200ff6=_0xcba2d2['closest'](_0x107845(0x2b7)),_0x244140=parseInt(_0x200ff6[_0x107845(0xba5)][_0x107845(0x825)],0xa);handleRegenerateQuestionInEditor(_0x244140);return;}const _0x253c95=_0x205e69[_0x107845(0x45d)]['closest'](_0x107845(0x4ba));if(_0x253c95){const _0x4e789c=_0x253c95['closest']('.question-editor-item'),_0x1f64d3=parseInt(_0x4e789c[_0x107845(0xba5)][_0x107845(0x825)],0xa);handleDeleteQuestionInEditor(_0x1f64d3);return;}const _0x59f8ac=_0x205e69[_0x107845(0x45d)][_0x107845(0xdda)](_0x107845(0x68b));if(_0x59f8ac){handleAddQuestionInEditor();return;}});document[_0x45bf76(0x52a)]('open-quiz-bank-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),openQuizBankModal),document[_0x45bf76(0x52a)](_0x45bf76(0x352))['addEventListener'](_0x45bf76(0x564),()=>{const _0x1ffcf7=_0x45bf76;document[_0x1ffcf7(0x52a)]('quiz-bank-modal')[_0x1ffcf7(0x817)][_0x1ffcf7(0x642)](_0x1ffcf7(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0xd6e))[_0x45bf76(0x6dd)]('input',_0x170ad7=>renderQuizBankList(_0x170ad7['target']['value']));const _0xc93889=document[_0x45bf76(0x52a)](_0x45bf76(0xd0a));if(_0xc93889){let _0xb22e33=null;_0xc93889[_0x45bf76(0x6dd)]('click',_0x268d63=>{const _0x24d952=_0x45bf76,_0x1d39e6=_0x268d63[_0x24d952(0x45d)],_0x166643=_0x1d39e6['closest'](_0x24d952(0x7c2)),_0x138efe=_0x1d39e6[_0x24d952(0xdda)](_0x24d952(0xc03)),_0x4a5623=_0x1d39e6['closest']('.save-custom-topic-btn'),_0x1f5c27=_0x1d39e6[_0x24d952(0xdda)](_0x24d952(0x394));if(_0x138efe){_0x268d63[_0x24d952(0x306)]();const _0x3fd8a8=_0x138efe[_0x24d952(0xba5)]['id'],_0x5d4d53=_0x138efe[_0x24d952(0xdda)](_0x24d952(0xac6))[_0x24d952(0x390)](_0x24d952(0xd6a))['textContent'];showConfirmation(_0x24d952(0x716)+_0x5d4d53+'\x22?',()=>handleDeleteCustomTopic(_0x3fd8a8));}else{if(_0x166643){_0x268d63[_0x24d952(0x306)]();_0xb22e33&&toggleTopicEditMode(_0xb22e33,![]);const _0x31d70=_0x166643[_0x24d952(0xdda)](_0x24d952(0xd04));_0xb22e33=_0x31d70,toggleTopicEditMode(_0x31d70,!![]);}else{if(_0x4a5623){_0x268d63[_0x24d952(0x306)]();const _0x4b57ab=_0x4a5623[_0x24d952(0xba5)]['id'],_0x775ab2=_0x4a5623[_0x24d952(0xdda)](_0x24d952(0xd04)),_0x1aab52=_0x775ab2[_0x24d952(0x390)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0x4b57ab,_0x1aab52),_0xb22e33=null;}else{if(_0x1f5c27){_0x268d63[_0x24d952(0x306)]();const _0xafc348=_0x1f5c27[_0x24d952(0xdda)](_0x24d952(0xd04));toggleTopicEditMode(_0xafc348,![]),_0xb22e33=null;}}}}}),document[_0x45bf76(0x52a)]('close-lesson-plan-modal-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x1d3c4f=_0x45bf76;document['getElementById'](_0x1d3c4f(0x602))[_0x1d3c4f(0x817)]['add'](_0x1d3c4f(0x68d));}),document[_0x45bf76(0x52a)]('close-lesson-plan-modal-footer-btn')[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x48d158=_0x45bf76;document[_0x48d158(0x52a)](_0x48d158(0x602))[_0x48d158(0x817)]['add'](_0x48d158(0x68d));}),document[_0x45bf76(0x52a)](_0x45bf76(0xdde))['addEventListener'](_0x45bf76(0x564),handleExportLessonPDF);}document[_0x45bf76(0x52a)](_0x45bf76(0x2cc))[_0x45bf76(0x6dd)](_0x45bf76(0x564),()=>{const _0x119490=_0x45bf76;document[_0x119490(0x52a)](_0x119490(0xb57))[_0x119490(0x817)][_0x119490(0x642)]('hidden');}),document[_0x45bf76(0x52a)](_0x45bf76(0x5cf))[_0x45bf76(0x6dd)]('click',()=>{const _0x41c32f=_0x45bf76;document[_0x41c32f(0x52a)](_0x41c32f(0xb57))[_0x41c32f(0x817)][_0x41c32f(0x642)](_0x41c32f(0x68d));}),setupComparisonModalTabs(),document[_0x45bf76(0x1ed)][_0x45bf76(0x6dd)](_0x45bf76(0x564),function(_0xa0e645){const _0xe4287a=_0x45bf76;if(_0xa0e645[_0xe4287a(0x45d)][_0xe4287a(0x817)][_0xe4287a(0x7e7)](_0xe4287a(0xc72))){const _0x45410c=unescape(_0xa0e645[_0xe4287a(0x45d)]['dataset'][_0xe4287a(0x801)]);startSkillPractice(_0x45410c);}}),document[_0x45bf76(0x52a)](_0x45bf76(0xa73))[_0x45bf76(0x6dd)](_0x45bf76(0x564),_0x21228a=>{const _0x2de042=_0x45bf76,_0x242fdf=_0x21228a[_0x2de042(0x45d)][_0x2de042(0xdda)](_0x2de042(0x40a));if(_0x242fdf){const _0x2ad4a9=_0x242fdf['dataset'][_0x2de042(0x7a5)];handleDeleteSubmission(_0x2ad4a9);}});}async function handleStartGroupMode(_0x143bc9,_0x2d157e=![]){const _0x393961=_0x6a7885,_0x1173df=allQuizzes[_0x393961(0x8c7)](_0x5ad719=>_0x5ad719['id']===_0x143bc9)||allQuizzesGlobal[_0x393961(0x8c7)](_0x76ae9d=>_0x76ae9d['id']===_0x143bc9);if(!_0x1173df){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1173df);const _0xa8be66=Math[_0x393961(0x754)](0x3e8+Math[_0x393961(0x90b)]()*0x2328)[_0x393961(0x443)]();try{const _0x3d1823=await addDoc(collection(db,_0x393961(0x3c5)+appId+_0x393961(0xde6)),{'quizId':_0x1173df['id'],'projectId':_0x1173df[_0x393961(0x94a)],'status':_0x393961(0xbe1),'pin':_0xa8be66,'mode':_0x393961(0x647),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2d157e});currentTeamQuizId=_0x3d1823['id'],showView(_0x393961(0x58c)),renderAdminTeamQuizDashboard(_0xa8be66,_0x1173df[_0x393961(0x801)],_0x393961(0x647)),listenForTeamQuizUpdates();}catch(_0x3cd439){console[_0x393961(0xc4f)](_0x393961(0x34b),_0x3cd439),showMessage(_0x393961(0x6c5));}}async function showStudentProgressView(){const _0x5bb185=_0x6a7885;studentInitialView['classList']['add'](_0x5bb185(0x68d)),document[_0x5bb185(0x52a)](_0x5bb185(0xa63))[_0x5bb185(0x817)]['remove'](_0x5bb185(0x68d));const _0xd483e9=document['getElementById'](_0x5bb185(0x793)),_0x26153b=document[_0x5bb185(0x52a)](_0x5bb185(0x2a2)),_0x4af138=document[_0x5bb185(0x52a)](_0x5bb185(0xde9));_0x4af138[_0x5bb185(0xd3c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x26153b['innerHTML']=_0x5bb185(0x5e8),_0x26153b['disabled']=!![],_0xd483e9[_0x5bb185(0xd3c)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x5bb185(0xbc8)]===0x0){const _0x234829=collection(db,'artifacts/'+appId+_0x5bb185(0x880)),_0x7c3d41=await getDocs(_0x234829);allProjects=_0x7c3d41[_0x5bb185(0x3f3)][_0x5bb185(0x8cc)](_0xc6c5ac=>({'id':_0xc6c5ac['id'],..._0xc6c5ac[_0x5bb185(0x36d)]()}));}const _0x55bb20=allProjects[_0x5bb185(0xcae)](_0x4ddcf7=>_0x4ddcf7[_0x5bb185(0x727)]?.['showInStudentDashboard']!==![]);_0x55bb20[_0x5bb185(0xd66)]((_0xec10ab,_0x4910ba)=>_0xec10ab[_0x5bb185(0xb0b)][_0x5bb185(0x45b)](_0x4910ba[_0x5bb185(0xb0b)],'th')),_0xd483e9[_0x5bb185(0xd3c)]=_0x5bb185(0x6a6)+_0x55bb20[_0x5bb185(0x8cc)](_0x2fc6d0=>_0x5bb185(0xd63)+_0x2fc6d0['id']+'\x22>'+_0x2fc6d0[_0x5bb185(0xb0b)]+_0x5bb185(0x9a7))[_0x5bb185(0x35d)](''),_0xd483e9['onchange']=()=>{const _0x1ef981=_0x5bb185,_0x1c909e=_0x26153b[_0x1ef981(0x3c4)],_0x37e534=_0xd483e9[_0x1ef981(0x3c4)];_0x26153b[_0x1ef981(0x459)]=!![],_0x26153b[_0x1ef981(0xd3c)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4af138[_0x1ef981(0xd3c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x37e534)return;const _0x3f5ce8=allProjects[_0x1ef981(0x8c7)](_0x23a37d=>_0x23a37d['id']===_0x37e534);if(!_0x3f5ce8||!_0x3f5ce8[_0x1ef981(0x498)])return;const _0x338306=()=>{const _0x32c820=_0x1ef981;_0x26153b['innerHTML']=_0x32c820(0x5e8)+_0x3f5ce8['students']['map'](_0x522b73=>'<option\x20value=\x22'+_0x522b73+'\x22>'+_0x522b73+_0x32c820(0x9a7))[_0x32c820(0x35d)](''),_0x26153b[_0x32c820(0x459)]=![];const _0x13ae4d=Array['from'](_0x26153b[_0x32c820(0xd99)])[_0x32c820(0x8cc)](_0x1ad41a=>_0x1ad41a[_0x32c820(0x3c4)]);if(_0x1c909e&&_0x13ae4d[_0x32c820(0x317)](_0x1c909e))_0x26153b[_0x32c820(0x3c4)]=_0x1c909e,_0x26153b['dispatchEvent'](new Event(_0x32c820(0x843)));else _0x3f5ce8[_0x32c820(0x498)][_0x32c820(0xbc8)]===0x1&&(_0x26153b[_0x32c820(0x3c4)]=_0x3f5ce8[_0x32c820(0x498)][0x0],_0x26153b[_0x32c820(0x614)](new Event('change')));};if(_0x3f5ce8['settings']?.[_0x1ef981(0x8a3)]){if(sessionStorage[_0x1ef981(0x366)](_0x1ef981(0x53e)+_0x37e534)==='true'){_0x338306();return;}const _0x153a52=document['getElementById'](_0x1ef981(0x7b0)),_0x33a5ee=document[_0x1ef981(0x52a)]('confirm-passcode-btn'),_0x32f95a=document[_0x1ef981(0x52a)](_0x1ef981(0xba3)),_0x59dd51=document[_0x1ef981(0x52a)](_0x1ef981(0x271)),_0x496e2e=document[_0x1ef981(0x52a)](_0x1ef981(0xcd5));document[_0x1ef981(0x52a)]('passcode-prompt-message')['textContent']=_0x1ef981(0x1c6)+_0x3f5ce8[_0x1ef981(0xb0b)],_0x59dd51[_0x1ef981(0x3c4)]='',_0x496e2e[_0x1ef981(0x817)]['add'](_0x1ef981(0x68d)),_0x153a52['classList'][_0x1ef981(0xb2b)]('hidden');const _0x317e63=()=>{const _0x52904c=_0x1ef981,_0x2d1270=_0x59dd51['value'][_0x52904c(0x797)]();_0x2d1270===_0x3f5ce8[_0x52904c(0x727)]['passcode']?(sessionStorage['setItem']('authed_project_'+_0x37e534,_0x52904c(0xb54)),_0x153a52[_0x52904c(0x817)][_0x52904c(0x642)]('hidden'),_0x338306(),_0x33a5ee[_0x52904c(0x5b6)](_0x52904c(0x564),_0x317e63)):_0x496e2e[_0x52904c(0x817)][_0x52904c(0xb2b)](_0x52904c(0x68d));};_0x33a5ee[_0x1ef981(0x4cd)]=_0x317e63,_0x32f95a[_0x1ef981(0x4cd)]=()=>{const _0x4c367e=_0x1ef981;_0x153a52['classList'][_0x4c367e(0x642)](_0x4c367e(0x68d)),_0xd483e9[_0x4c367e(0x3c4)]='',_0x33a5ee['removeEventListener'](_0x4c367e(0x564),_0x317e63);};}else _0x338306();},_0x26153b['onchange']=()=>{const _0x56d2ec=_0x5bb185,_0x317fa9=_0xd483e9[_0x56d2ec(0x3c4)],_0x235cae=_0x26153b[_0x56d2ec(0x3c4)];_0x317fa9&&_0x235cae&&renderStudentProgressDashboard(_0x317fa9,_0x235cae);};}async function confirmAndJoinSyncGame(){const _0x58644d=_0x6a7885,_0x2c66a1=Array[_0x58644d(0x568)](document[_0x58644d(0x7b3)](_0x58644d(0xdcd)))[_0x58644d(0x8cc)](_0x2259d9=>_0x2259d9[_0x58644d(0x3c4)]);if(_0x2c66a1[_0x58644d(0xbc8)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x2c66a1,localPlayerTurnIndex=0x0;const _0xbcba4=doc(db,_0x58644d(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x128a8e=await getDoc(_0xbcba4);if(!_0x128a8e[_0x58644d(0xd3f)]())throw new Error(_0x58644d(0x91d));const _0x2ff974=_0x128a8e[_0x58644d(0x36d)](),_0x273748=_0x2ff974[_0x58644d(0x606)]||_0x58644d(0xc16),_0x13a652={};_0x2c66a1['forEach'](_0x70c7f4=>{const _0x494882=_0x58644d,_0x511b6b=_0x2ff974[_0x494882(0xa6d)][_0x70c7f4];if(_0x511b6b){console[_0x494882(0xba9)]('ผู้เล่น\x20'+_0x70c7f4+'\x20กลับเข้าสู่เกม!'),_0x13a652[_0x494882(0x6a0)+_0x70c7f4+_0x494882(0x890)]=_0x494882(0x7ec);const _0x17daa2=_0x511b6b[_0x494882(0xa6c)]?.[_0x511b6b[_0x494882(0xa6c)][_0x494882(0xbc8)]-0x1],_0x533d49=!!(_0x17daa2&&_0x17daa2['questionIndex']===_0x2ff974['currentQuestionIndex']);_0x13a652[_0x494882(0x6a0)+_0x70c7f4+'.answered']=_0x533d49;}else{console['log']('ผู้เล่นใหม่\x20'+_0x70c7f4+_0x494882(0x872));const _0x133035={'name':_0x70c7f4,'score':0x0,'answered':![],'status':'active','answers':[]};_0x273748==='survivor'&&(typeof STARTING_LIVES!==_0x494882(0x3a5)?_0x133035['lives']=STARTING_LIVES:(console['error'](_0x494882(0x693)),_0x133035[_0x494882(0xc5e)]=0x3)),_0x13a652['players.'+_0x70c7f4]=_0x133035;}}),await updateDoc(_0xbcba4,_0x13a652),showView(_0x58644d(0x58c)),document[_0x58644d(0x52a)](_0x58644d(0xd6d))[_0x58644d(0x817)][_0x58644d(0x642)](_0x58644d(0x68d)),currentStudentName=_0x2c66a1[0x0],listenForSyncGameUpdates();const _0x15d43f={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x58644d(0xd58)](_0x58644d(0x4c4),JSON[_0x58644d(0x20d)](_0x15d43f)),currentMode!==_0x58644d(0x6bb)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x58644d(0x6dd)]('fullscreenchange',handleFullscreenChange),document[_0x58644d(0x6dd)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window['addEventListener'](_0x58644d(0x98f),resetDimTimer),window[_0x58644d(0x6dd)](_0x58644d(0xb1f),resetDimTimer),window[_0x58644d(0x6dd)](_0x58644d(0x823),resetDimTimer),resetDimTimer());}catch(_0x35507f){console[_0x58644d(0xc4f)](_0x58644d(0x392),_0x35507f),showMessage(_0x58644d(0x3aa)+_0x35507f['message']);}}async function resumeActiveGameSession(){const _0x2d38a6=_0x6a7885,_0x3c3663=sessionStorage[_0x2d38a6(0x366)]('activeGameSession');if(!_0x3c3663)return;const _0x565bfa=JSON[_0x2d38a6(0x975)](_0x3c3663),{gameId:_0x1a39af,mode:_0x5d81b5,players:_0x19221a,turnIndex:_0xe62745}=_0x565bfa;try{let _0x5d26cd,_0x7a1f17;_0x5d81b5==='sync'?_0x5d26cd=doc(db,_0x2d38a6(0x3c5)+appId+_0x2d38a6(0xb98),_0x1a39af):_0x5d26cd=doc(db,_0x2d38a6(0x3c5)+appId+_0x2d38a6(0xde6),_0x1a39af);_0x7a1f17=await getDoc(_0x5d26cd);if(!_0x7a1f17[_0x2d38a6(0xd3f)]()||_0x7a1f17['data']()[_0x2d38a6(0xc96)]===_0x2d38a6(0xad0)||_0x7a1f17[_0x2d38a6(0x36d)]()[_0x2d38a6(0xc96)]==='podium'){sessionStorage[_0x2d38a6(0xc64)](_0x2d38a6(0x4c4));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x5d81b5+_0x2d38a6(0x916)+_0x1a39af+')'),localTeamPlayers=_0x19221a,localPlayerTurnIndex=_0xe62745;if(_0x5d81b5==='sync')currentLiveGameId=_0x1a39af,currentStudentName=_0x19221a[0x0],showView(_0x2d38a6(0x58c)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x1a39af;const _0x49ae5f=_0x7a1f17[_0x2d38a6(0x36d)](),_0x2bbe8b=doc(db,'artifacts/'+appId+_0x2d38a6(0x383),_0x49ae5f[_0x2d38a6(0x781)]),_0x22c8ae=await getDoc(_0x2bbe8b);_0x22c8ae[_0x2d38a6(0xd3f)]()&&(currentQuizData=getShuffledQuiz({'id':_0x22c8ae['id'],..._0x22c8ae[_0x2d38a6(0x36d)]()}),showView(_0x2d38a6(0xa0e)),studentInitialView[_0x2d38a6(0x817)][_0x2d38a6(0x642)](_0x2d38a6(0x68d)),renderTeamQuizQuestion());}}catch(_0x17678b){console[_0x2d38a6(0xc4f)](_0x2d38a6(0x8bf),_0x17678b),sessionStorage[_0x2d38a6(0xc64)](_0x2d38a6(0x4c4));}}function activateFileInputAreaWithLoadedFile(){const _0x9ad78d=_0x6a7885,_0x28c993=document['getElementById'](_0x9ad78d(0x235)),_0x187371=document['getElementById'](_0x9ad78d(0x7ad)),_0x122d3b=document[_0x9ad78d(0x52a)](_0x9ad78d(0xb71));selectedFile?_0x122d3b[_0x9ad78d(0x9a3)]?(_0x28c993[_0x9ad78d(0x459)]=!![],analyzeFileForTopics(selectedFile)):(_0x28c993[_0x9ad78d(0x459)]=![],_0x187371[_0x9ad78d(0x817)]['add']('hidden')):(_0x28c993[_0x9ad78d(0x459)]=!![],_0x187371[_0x9ad78d(0x817)]['add']('hidden'));}async function handleKickPlayerSync(_0x322ed9){const _0x5a932f=_0x6a7885;if(!currentLiveGameId||!_0x322ed9)return;const _0x4c8c1d=doc(db,_0x5a932f(0x3c5)+appId+_0x5a932f(0xb98),currentLiveGameId),_0x548f16={};_0x548f16[_0x5a932f(0x6a0)+_0x322ed9+'.status']=_0x5a932f(0x921);try{await updateDoc(_0x4c8c1d,_0x548f16);}catch(_0x212c1d){console[_0x5a932f(0xc4f)]('Failed\x20to\x20kick\x20player\x20'+_0x322ed9+_0x5a932f(0xa87),_0x212c1d),showMessage(_0x5a932f(0x277));}}async function renderStudentProgressDashboard(_0x2e396a,_0xf81494){const _0x369f16=_0x6a7885,_0x5c5c06=document[_0x369f16(0x52a)](_0x369f16(0xde9));_0x5c5c06[_0x369f16(0xd3c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1ea9ed=collection(db,_0x369f16(0x3c5)+appId+_0x369f16(0x383)),_0x5c84d3=query(_0x1ea9ed,where('projectId','==',_0x2e396a)),_0x2997c6=await getDocs(_0x5c84d3),_0x1324cf=_0x2997c6[_0x369f16(0x3f3)][_0x369f16(0x8cc)](_0x12780e=>({'id':_0x12780e['id'],..._0x12780e[_0x369f16(0x36d)]()})),_0x596a94=_0x1324cf[_0x369f16(0x8cc)](_0x2cbcee=>getDoc(doc(db,_0x369f16(0x3c5)+appId+_0x369f16(0x5b0)+_0x2cbcee['id']+'/submissions',_0xf81494))),_0x3fc20a=await Promise[_0x369f16(0xdd0)](_0x596a94),_0x2c8f83=_0x3fc20a['filter'](_0x4ab9c4=>_0x4ab9c4[_0x369f16(0xd3f)]())['map'](_0xc3817c=>({'quizId':_0xc3817c[_0x369f16(0xb5c)][_0x369f16(0x40b)][_0x369f16(0x40b)]['id'],..._0xc3817c[_0x369f16(0x36d)]()}));if(_0x2c8f83[_0x369f16(0xbc8)]===0x0){_0x5c5c06[_0x369f16(0xd3c)]=_0x369f16(0x88c);return;}let _0x17efc9='<div\x20class=\x22space-y-4\x22>';_0x2c8f83[_0x369f16(0x79a)](_0x5dcc6e=>{const _0xaed071=_0x369f16,_0x36c72a=_0x1324cf[_0xaed071(0x8c7)](_0x48671e=>_0x48671e['id']===_0x5dcc6e[_0xaed071(0x781)]),_0x15170c=_0x36c72a[_0xaed071(0x727)]?.[_0xaed071(0xb47)]||'show_results_and_answers',_0x522c9c=_0x36c72a['settings']?.[_0xaed071(0xa3d)]??0x0,_0x238f9a=_0x5dcc6e['bestScore']>=_0x522c9c;let _0x33929b='',_0x22d170=_0xaed071(0xb78);switch(_0x15170c){case _0xaed071(0xa40):case'show_results_only':_0x22d170=_0x238f9a?_0xaed071(0x233):_0xaed071(0x39e),_0x33929b=_0xaed071(0xce4)+(_0x238f9a?_0xaed071(0xb69):_0xaed071(0xa8f))+'\x22>'+_0x5dcc6e[_0xaed071(0x43a)]+'\x20/\x20'+_0x5dcc6e['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x238f9a?_0xaed071(0x23b):_0xaed071(0x6fb))+'\x22>'+(_0x238f9a?'ผ่าน':'ไม่ผ่าน')+_0xaed071(0x925);break;case _0xaed071(0x5aa):_0x22d170=_0x238f9a?_0xaed071(0x233):_0xaed071(0x39e),_0x33929b=_0xaed071(0x618)+(_0x238f9a?_0xaed071(0x23b):_0xaed071(0x6fb))+'\x22>'+(_0x238f9a?_0xaed071(0x3b0):_0xaed071(0xa27))+_0xaed071(0x925);break;case _0xaed071(0x48b):_0x22d170='bg-yellow-50',_0x33929b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x17efc9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x22d170+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x36c72a[_0xaed071(0x801)]+_0xaed071(0xdd6)+_0x5dcc6e[_0xaed071(0xca0)][_0xaed071(0xbc8)]+_0xaed071(0xb36)+new Date(_0x5dcc6e[_0xaed071(0x83a)])[_0xaed071(0x4f4)](_0xaed071(0x462))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33929b+_0xaed071(0x56d);}),_0x17efc9+='</div>',_0x5c5c06[_0x369f16(0xd3c)]=_0x17efc9;}catch(_0x23554a){console[_0x369f16(0xc4f)](_0x369f16(0xd91),_0x23554a),_0x5c5c06[_0x369f16(0xd3c)]=_0x369f16(0xbcf);}}function renderQuizBankListForMultiSelect(_0x4fdedc=''){const _0x3e3330=_0x6a7885,_0x573b07=document['getElementById']('bank-quiz-list'),_0x1d80e3=_0x4fdedc[_0x3e3330(0x476)]()[_0x3e3330(0x797)](),_0x412f54=allQuizzesGlobal[_0x3e3330(0x8cc)](_0x5b30e1=>({..._0x5b30e1,'projectName':allProjects['find'](_0x164125=>_0x164125['id']===_0x5b30e1['projectId'])?.['projectName']||'N/A'}))[_0x3e3330(0xcae)](_0x55396b=>(_0x55396b[_0x3e3330(0x801)]||'')[_0x3e3330(0x476)]()[_0x3e3330(0x317)](_0x1d80e3)||(_0x55396b[_0x3e3330(0xb0b)]||'')[_0x3e3330(0x476)]()[_0x3e3330(0x317)](_0x1d80e3)||_0x55396b['id'][_0x3e3330(0x443)]()[_0x3e3330(0x317)](_0x1d80e3));_0x573b07[_0x3e3330(0xd3c)]=_0x412f54['length']?_0x412f54['map'](_0x1f5a2d=>_0x3e3330(0x269)+_0x1f5a2d['id']+_0x3e3330(0x1c4)+(_0x1f5a2d[_0x3e3330(0x801)]||'(ไม่มีชื่อ)')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x1f5a2d[_0x3e3330(0xb0b)]+_0x3e3330(0x539)+_0x1f5a2d['id']+_0x3e3330(0x288))[_0x3e3330(0x35d)](''):_0x3e3330(0xbc2),_0x573b07[_0x3e3330(0x854)]=()=>{const _0x46af3e=_0x3e3330,_0x1940ca=document[_0x46af3e(0x390)](_0x46af3e(0x61f));document[_0x46af3e(0x52a)]('confirm-link-quiz-btn')['disabled']=!_0x1940ca;};}function setupStudentProgressListeners(){const _0x3570f1=_0x6a7885;document[_0x3570f1(0x52a)](_0x3570f1(0xce8))[_0x3570f1(0x6dd)]('click',showStudentProgressView),document[_0x3570f1(0x52a)]('back-to-student-home-btn')[_0x3570f1(0x6dd)](_0x3570f1(0x564),()=>{const _0xc62ccf=_0x3570f1;document[_0xc62ccf(0x52a)](_0xc62ccf(0xa63))['classList'][_0xc62ccf(0x642)](_0xc62ccf(0x68d)),document[_0xc62ccf(0x52a)](_0xc62ccf(0x562))['classList'][_0xc62ccf(0xb2b)](_0xc62ccf(0x68d));});}async function startSkillPractice(_0x165601){const _0x3b1b4b=_0x6a7885;studentResultArea[_0x3b1b4b(0x817)][_0x3b1b4b(0x642)](_0x3b1b4b(0x68d)),studentQuizArea['innerHTML']=_0x3b1b4b(0x5d7),studentQuizArea['classList'][_0x3b1b4b(0xb2b)]('hidden');try{const _0x376b28=await getStandardizedTopic(_0x165601);console[_0x3b1b4b(0xba9)](_0x3b1b4b(0x51f)+_0x165601+_0x3b1b4b(0x617)+_0x376b28+'\x22'),studentQuizArea[_0x3b1b4b(0x390)]('p')[_0x3b1b4b(0x675)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x376b28+_0x3b1b4b(0x9ef);const _0x49d07d=collection(db,_0x3b1b4b(0x3c5)+appId+_0x3b1b4b(0x417)),_0x2ef377=query(_0x49d07d,where(_0x3b1b4b(0x801),'==',_0x376b28)),_0x4a59fa=await getDocs(_0x2ef377);if(_0x4a59fa['docs']['length']>=0x3){console['log']('พบข้อสอบ\x20'+_0x4a59fa[_0x3b1b4b(0x3f3)][_0x3b1b4b(0xbc8)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x376b28+_0x3b1b4b(0xc2b));let _0x1e6846=_0x4a59fa[_0x3b1b4b(0x3f3)][_0x3b1b4b(0x8cc)](_0x121c34=>_0x121c34[_0x3b1b4b(0x36d)]());shuffleArray(_0x1e6846);const _0x482588={'topic':_0x376b28,'questions':_0x1e6846[_0x3b1b4b(0x98c)](0x0,0x3)};displaySkillPracticeDrill(_0x482588);}else{console[_0x3b1b4b(0xba9)](_0x3b1b4b(0xb56)+_0x376b28+_0x3b1b4b(0x8c6));const _0xaab9d3=await generatePracticeQuestions(_0x376b28);await saveDrillToPracticeBank(_0xaab9d3,_0x376b28),displaySkillPracticeDrill(_0xaab9d3);}}catch(_0x38a35c){console[_0x3b1b4b(0xc4f)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x38a35c),showMessage(_0x3b1b4b(0xab5)),studentQuizArea[_0x3b1b4b(0x817)][_0x3b1b4b(0x642)]('hidden'),studentResultArea[_0x3b1b4b(0x817)]['remove'](_0x3b1b4b(0x68d));}}async function saveDrillToPracticeBank(_0x40faaf,_0x416d57){const _0x5a974c=_0x6a7885,_0x2dec62=collection(db,_0x5a974c(0x3c5)+appId+_0x5a974c(0x417)),_0x2d1d15=writeBatch(db);_0x40faaf[_0x5a974c(0x665)][_0x5a974c(0x79a)](_0x4e1f10=>{const _0x69e745=_0x5a974c,_0x42d5f0=doc(_0x2dec62);_0x2d1d15[_0x69e745(0x6b3)](_0x42d5f0,{'topic':_0x416d57,'questionText':_0x4e1f10[_0x69e745(0xc82)],'options':_0x4e1f10[_0x69e745(0xd99)],'correctAnswerIndex':_0x4e1f10[_0x69e745(0x7cc)],'explanation':_0x4e1f10[_0x69e745(0x559)],'createdAt':serverTimestamp()});});try{await _0x2d1d15[_0x5a974c(0x731)](),console['log']('บันทึกคำถามใหม่\x20'+_0x40faaf['questions'][_0x5a974c(0xbc8)]+_0x5a974c(0x6b8));}catch(_0x3d9da3){console[_0x5a974c(0xc4f)](_0x5a974c(0xc11),_0x3d9da3);}}async function getStandardizedTopic(_0x8dd7c2){const _0x388d46=_0x6a7885,_0xf68e47=_0x388d46(0x9b2)+_0x8dd7c2+_0x388d46(0x782),_0x5d06a3={'type':_0x388d46(0x342),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x388d46(0x580)]};try{const _0xf4cf95=await callAnalysisApi(_0xf68e47,_0x5d06a3);return _0xf4cf95[_0x388d46(0x580)];}catch(_0x4cec93){return console[_0x388d46(0xc4f)](_0x388d46(0x3f1),_0x4cec93),_0x8dd7c2;}}async function handleGenerateEasyVersionQuiz(_0x1bd1ef){const _0xf3df71=_0x6a7885,_0x5cd895=document[_0xf3df71(0x52a)]('results-tab-content'),_0xeef7d1=document[_0xf3df71(0x52a)](_0xf3df71(0x997));_0xeef7d1[_0xf3df71(0x817)][_0xf3df71(0x642)]('hidden');const _0x515991='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5cd895[_0xf3df71(0x6d8)]('beforeend',_0x515991);try{const _0x1dae7d=allQuizzes[_0xf3df71(0x8c7)](_0x50c480=>_0x50c480['id']===_0x1bd1ef);if(!_0x1dae7d)throw new Error(_0xf3df71(0x77e));const _0x4d72f0=_0xf3df71(0x610)+JSON[_0xf3df71(0x20d)](_0x1dae7d['questions'])+_0xf3df71(0xc1e),_0x298228={'type':'OBJECT','properties':{'questionText':{'type':_0xf3df71(0xd50)},'questionType':{'type':_0xf3df71(0xd50)},'options':{'type':_0xf3df71(0x3ad),'items':{'type':_0xf3df71(0xd50)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xf3df71(0xd50)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0xf3df71(0xc82),_0xf3df71(0x8c1),'explanation']},_0x320d96={'type':_0xf3df71(0x342),'properties':{'questions':{'type':_0xf3df71(0x3ad),'items':_0x298228}},'required':[_0xf3df71(0x665)]},_0x1f7b54=await callAnalysisApi(_0x4d72f0,_0x320d96);_0x1f7b54&&_0x1f7b54[_0xf3df71(0x665)]&&_0x1f7b54[_0xf3df71(0x665)][_0xf3df71(0x79a)](_0x41e52d=>{const _0x3e02bb=_0xf3df71;if(_0x41e52d[_0x3e02bb(0x8fb)](_0x3e02bb(0x929))){const _0x110114=String(_0x41e52d[_0x3e02bb(0x929)])[_0x3e02bb(0x797)]();(_0x110114===''||_0x110114[_0x3e02bb(0x476)]()===_0x3e02bb(0x4dc)||!_0x110114[_0x3e02bb(0xa13)](_0x3e02bb(0x69c)))&&delete _0x41e52d[_0x3e02bb(0x929)];}});if(!_0x1f7b54||!_0x1f7b54[_0xf3df71(0x665)]||_0x1f7b54[_0xf3df71(0x665)][_0xf3df71(0xbc8)]===0x0)throw new Error(_0xf3df71(0x9fc));const _0x139bd7=_0x1f7b54[_0xf3df71(0x665)][_0xf3df71(0x8cc)]((_0x293bfc,_0x28a32d)=>({..._0x293bfc,'id':'q_'+Date['now']()+'_'+_0x28a32d})),_0xbf426d={'projectId':_0x1dae7d[_0xf3df71(0x94a)],'quizType':_0x1dae7d[_0xf3df71(0xafb)],'settings':_0x1dae7d[_0xf3df71(0x727)],'createdBy':_0x1dae7d[_0xf3df71(0x560)],'status':_0xf3df71(0x7ec),'topic':_0xf3df71(0x690)+_0x1dae7d[_0xf3df71(0x801)],'questions':_0x139bd7,'createdAt':new Date()[_0xf3df71(0xb49)](),'quizMode':_0xf3df71(0x799),'pairedQuizId':null};let _0x1d9f0a;while(!![]){_0x1d9f0a=Math[_0xf3df71(0x754)](0x3e8+Math[_0xf3df71(0x90b)]()*0x2328)[_0xf3df71(0x443)]();const _0x43f7aa=await getDoc(doc(db,_0xf3df71(0x3c5)+appId+'/public/data/quizzes',_0x1d9f0a));if(!_0x43f7aa[_0xf3df71(0xd3f)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1d9f0a),_0xbf426d),showMessage(_0xf3df71(0x792));}catch(_0x25d79d){console[_0xf3df71(0xc4f)](_0xf3df71(0x323),_0x25d79d),showMessage(_0xf3df71(0xc44)+_0x25d79d[_0xf3df71(0xacb)]);}finally{const _0x73dadb=document[_0xf3df71(0x52a)](_0xf3df71(0x70d));_0x73dadb&&_0x73dadb[_0xf3df71(0xb2b)](),_0xeef7d1[_0xf3df71(0x817)][_0xf3df71(0xb2b)](_0xf3df71(0x68d));}}async function generatePracticeQuestions(_0x354c76){const _0x4853ef=_0x6a7885,_0x42f980=_0x4853ef(0x76a)+_0x354c76+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x184778={'type':_0x4853ef(0x342),'properties':{'questionText':{'type':_0x4853ef(0xd50)},'options':{'type':'ARRAY','items':{'type':_0x4853ef(0xd50)}},'correctAnswerIndex':{'type':_0x4853ef(0xa4b)},'explanation':{'type':_0x4853ef(0xd50)}},'required':['questionText','options',_0x4853ef(0x7cc),_0x4853ef(0x559)]},_0x13ac92={'type':'OBJECT','properties':{'topic':{'type':_0x4853ef(0xd50)},'questions':{'type':'ARRAY','items':_0x184778}},'required':[_0x4853ef(0x801),_0x4853ef(0x665)]};return await callAnalysisApi(_0x42f980,_0x13ac92);}function displayLessonPlan(_0x239a10,_0x3d3511){const _0x5898e3=_0x6a7885,_0x2e5650=_0x5898e3(0x41c)+_0x3d3511[_0x5898e3(0x801)]+_0x5898e3(0xb9e)+_0x239a10[_0x5898e3(0x37c)][_0x5898e3(0x8cc)](_0x7e875a=>_0x5898e3(0xafa)+_0x7e875a+_0x5898e3(0x8d5))[_0x5898e3(0x35d)]('')+_0x5898e3(0x681)+_0x239a10[_0x5898e3(0x96f)]+_0x5898e3(0x8de)+_0x239a10['practiceProblems'][_0x5898e3(0x8cc)](_0x2e1a35=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x2e1a35[_0x5898e3(0xa64)]+_0x5898e3(0xda8)+_0x2e1a35['solution']+_0x5898e3(0x92c))[_0x5898e3(0x35d)]('')+_0x5898e3(0x9b3);document[_0x5898e3(0x52a)]('lesson-plan-title')[_0x5898e3(0x675)]=_0x5898e3(0x75b)+_0x3d3511[_0x5898e3(0x801)],document[_0x5898e3(0x52a)](_0x5898e3(0x78f))[_0x5898e3(0xd3c)]=_0x2e5650,document[_0x5898e3(0x52a)]('lesson-plan-modal')[_0x5898e3(0x817)]['remove'](_0x5898e3(0x68d));if(window[_0x5898e3(0xb46)])MathJax[_0x5898e3(0x787)]();}function displaySkillPracticeDrill(_0x1f10fe){const _0x2eb684=_0x6a7885;let _0x50fc33=0x0;const _0x714252=_0x1f10fe[_0x2eb684(0x665)],_0x538984=()=>{const _0x693200=_0x2eb684,_0x39c3f2=_0x714252[_0x50fc33],_0xa97ad8=_0x693200(0x6f0)+(_0x50fc33+0x1)+_0x693200(0x938)+_0x714252[_0x693200(0xbc8)]+_0x693200(0xd44)+_0x39c3f2[_0x693200(0xc82)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39c3f2[_0x693200(0xd99)][_0x693200(0x8cc)]((_0x4a9dff,_0x426944)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x426944+_0x693200(0x914)+_0x426944+_0x693200(0x70e)+_0x426944+'\x22>'+_0x4a9dff+_0x693200(0x967))[_0x693200(0x35d)]('')+_0x693200(0x278);studentQuizArea['innerHTML']=_0xa97ad8;if(window['MathJax'])MathJax[_0x693200(0x787)]([studentQuizArea]);document[_0x693200(0x52a)](_0x693200(0xb16))[_0x693200(0x6dd)](_0x693200(0x564),async()=>{const _0x16e00e=await getHintForQuestion(_0x39c3f2['questionText']);showMessage(_0x16e00e);}),document[_0x693200(0x52a)](_0x693200(0x9d3))['addEventListener'](_0x693200(0x564),()=>{const _0x4f5039=_0x693200,_0x446a41=document['querySelector'](_0x4f5039(0x8ce));if(!_0x446a41){showMessage(_0x4f5039(0x91e));return;}const _0x2c68c3=document['getElementById'](_0x4f5039(0x1c3)),_0x79ec5d=parseInt(_0x446a41[_0x4f5039(0x3c4)])===_0x39c3f2['correctAnswerIndex'];_0x79ec5d?(_0x2c68c3[_0x4f5039(0x1ee)]=_0x4f5039(0x67c),_0x2c68c3['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x39c3f2[_0x4f5039(0x559)]):(_0x2c68c3['className']=_0x4f5039(0x92e),_0x2c68c3[_0x4f5039(0xd3c)]=_0x4f5039(0x37e)+_0x39c3f2[_0x4f5039(0x559)]);_0x2c68c3['classList'][_0x4f5039(0xb2b)]('hidden');if(window[_0x4f5039(0xb46)])MathJax[_0x4f5039(0x787)]([_0x2c68c3]);document[_0x4f5039(0x52a)]('check-answer-btn')['classList'][_0x4f5039(0x642)](_0x4f5039(0x68d)),document[_0x4f5039(0x52a)]('hint-btn')[_0x4f5039(0x817)][_0x4f5039(0x642)](_0x4f5039(0x68d)),document[_0x4f5039(0x52a)]('next-drill-btn')[_0x4f5039(0x817)][_0x4f5039(0xb2b)](_0x4f5039(0x68d));}),document[_0x693200(0x52a)](_0x693200(0x478))[_0x693200(0x6dd)]('click',()=>{const _0x2565a6=_0x693200;_0x50fc33++,_0x50fc33<_0x714252[_0x2565a6(0xbc8)]?_0x538984():(studentQuizArea['innerHTML']=_0x2565a6(0x806),document[_0x2565a6(0x52a)](_0x2565a6(0x973))[_0x2565a6(0x6dd)]('click',()=>{const _0x2090af=_0x2565a6;studentQuizArea[_0x2090af(0x817)][_0x2090af(0x642)]('hidden'),studentResultArea[_0x2090af(0x817)][_0x2090af(0xb2b)](_0x2090af(0x68d));}));});};_0x538984();}async function getHintForQuestion(_0x8f943c){const _0x4089be=_0x6a7885,_0xb1b340=_0x4089be(0x720)+_0x8f943c+_0x4089be(0x411),_0x5a04a8={'type':_0x4089be(0x342),'properties':{'hint':{'type':_0x4089be(0xd50)}},'required':[_0x4089be(0xa6f)]};try{const _0xd405c6=await callAnalysisApi(_0xb1b340,_0x5a04a8);return _0xd405c6[_0x4089be(0xa6f)];}catch(_0x44573d){return console['error'](_0x4089be(0x296),_0x44573d),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x315e42){const _0x47cc5d=_0x6a7885;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x47cc5d(0x341);const _0x49234b=await _0x315e42['arrayBuffer'](),_0x2e2806=await pdfjsLib[_0x47cc5d(0x261)](_0x49234b)[_0x47cc5d(0x702)],_0x45f3b3=_0x2e2806['numPages'];let _0xbed47e='';for(let _0x40b2d8=0x1;_0x40b2d8<=_0x45f3b3;_0x40b2d8++){const _0x5eab48=await _0x2e2806[_0x47cc5d(0xda4)](_0x40b2d8),_0x173734=await _0x5eab48[_0x47cc5d(0x9d1)](),_0x48de62=_0x173734[_0x47cc5d(0xab9)][_0x47cc5d(0x8cc)](_0x38de0c=>_0x38de0c['str'])[_0x47cc5d(0x35d)]('\x20');_0xbed47e+=_0x48de62+'\x0a\x0a';}return _0xbed47e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0xe034da){const _0xeb86b2=_0x6a7885,_0x14167e=document['getElementById'](_0xeb86b2(0xadf)),_0x48d027=document[_0xeb86b2(0x52a)]('blueprint-topics-list'),_0xf34e96=document['getElementById'](_0xeb86b2(0xb6a));_0x14167e['classList'][_0xeb86b2(0xb2b)](_0xeb86b2(0x68d)),_0x48d027[_0xeb86b2(0xd3c)]=_0xeb86b2(0x64d),_0xf34e96[_0xeb86b2(0x817)][_0xeb86b2(0x642)](_0xeb86b2(0x68d));try{const _0x2824f3=_0xeb86b2(0x979)+_0xe034da+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x28b9cb={'type':_0xeb86b2(0x342),'properties':{'gradeLevel':{'type':_0xeb86b2(0xd50)},'curriculum':{'type':_0xeb86b2(0x3ad),'items':{'type':_0xeb86b2(0x342),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0xeb86b2(0x3ad),'items':{'type':_0xeb86b2(0x342),'properties':{'topicName':{'type':_0xeb86b2(0xd50)},'subTopics':{'type':_0xeb86b2(0x3ad),'items':{'type':_0xeb86b2(0xd50)}}},'required':[_0xeb86b2(0x98b),_0xeb86b2(0x72a)]}}},'required':[_0xeb86b2(0x479),'mainTopics']}}},'required':['gradeLevel',_0xeb86b2(0x6fd)]},_0x401092=await callAnalysisApi(_0x2824f3,_0x28b9cb);if(_0x401092&&_0x401092[_0xeb86b2(0x6fd)])extractedBlueprintData=_0x401092,renderBlueprintTopics(_0x401092),_0xf34e96[_0xeb86b2(0x817)][_0xeb86b2(0xb2b)](_0xeb86b2(0x68d));else throw new Error(_0xeb86b2(0x680));}catch(_0x4f6c22){console[_0xeb86b2(0xc4f)](_0xeb86b2(0xc13),_0x4f6c22),_0x48d027[_0xeb86b2(0xd3c)]=_0xeb86b2(0x5ec);}}function renderBlueprintTopics(_0x2ca15c){const _0x47f58c=_0x6a7885,_0x9eec36=document[_0x47f58c(0x52a)](_0x47f58c(0x630)),_0x72ae2f=_0x2ca15c['gradeLevel'],_0x307305=_0x47f58c(0xbdb)+_0x72ae2f+_0x47f58c(0xc4a);let _0x1d5ef1='';_0x2ca15c[_0x47f58c(0x6fd)][_0x47f58c(0x79a)](_0x38fc98=>{const _0x3df871=_0x47f58c;_0x1d5ef1+=_0x3df871(0x313)+_0x38fc98[_0x3df871(0x479)]+'</h4>',_0x38fc98[_0x3df871(0xa79)][_0x3df871(0x79a)](_0x444cf3=>{const _0x52a73d=_0x3df871;_0x1d5ef1+=_0x52a73d(0x88b)+_0x444cf3[_0x52a73d(0x98b)]+_0x52a73d(0xca7),_0x444cf3[_0x52a73d(0x72a)][_0x52a73d(0x79a)](_0x32d315=>{const _0x2f99e3=_0x52a73d;_0x1d5ef1+=_0x2f99e3(0x31b)+_0x32d315[_0x2f99e3(0xb64)](/'/g,'\x5c\x27')+_0x2f99e3(0x74d)+_0x72ae2f['replace'](/'/g,'\x5c\x27')+_0x2f99e3(0x7c8)+_0x32d315+_0x2f99e3(0x1fd)+_0x32d315['replace'](/'/g,'\x5c\x27')+_0x2f99e3(0x69e);}),_0x1d5ef1+=_0x52a73d(0xa54);}),_0x1d5ef1+=_0x3df871(0x5b3);}),_0x9eec36[_0x47f58c(0xd3c)]=_0x307305+_0x1d5ef1;}async function handleGenerateTeachingContent(_0x5bc7d8){const _0x1cb063=_0x6a7885,_0x579e8b=document[_0x1cb063(0x52a)](_0x1cb063(0x602)),_0x5cfbd3=document[_0x1cb063(0x52a)](_0x1cb063(0x78f));document['getElementById'](_0x1cb063(0x9a4))[_0x1cb063(0x675)]=_0x1cb063(0x6da)+_0x5bc7d8,_0x5cfbd3[_0x1cb063(0xd3c)]=_0x1cb063(0xa3f),_0x579e8b[_0x1cb063(0x817)][_0x1cb063(0xb2b)]('hidden');try{const _0x3c1f4a=_0x1cb063(0x9f0)+_0x5bc7d8+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x27eb4f={'type':_0x1cb063(0x342),'properties':{'keyConcepts':{'type':_0x1cb063(0x3ad),'items':{'type':_0x1cb063(0xd50)}},'commonMistakes':{'type':_0x1cb063(0x3ad),'items':{'type':_0x1cb063(0xd50)}},'stepByStepExamples':{'type':_0x1cb063(0x3ad),'items':{'type':'OBJECT','properties':{'question':{'type':_0x1cb063(0xd50)},'solution':{'type':_0x1cb063(0xd50)}},'required':[_0x1cb063(0xa64),_0x1cb063(0x1e5)]}},'teacherTips':{'type':_0x1cb063(0x3ad),'items':{'type':'STRING'}}},'required':[_0x1cb063(0x448),_0x1cb063(0xa78),'stepByStepExamples','teacherTips']},_0x12938e=await callAnalysisApi(_0x3c1f4a,_0x27eb4f);displayTeachingContent(_0x12938e,_0x5bc7d8);}catch(_0xc3211e){console['error'](_0x1cb063(0xdbe),_0xc3211e),_0x5cfbd3[_0x1cb063(0xd3c)]=_0x1cb063(0x49c)+_0xc3211e[_0x1cb063(0xacb)]+_0x1cb063(0x52b);}}function displayTeachingContent(_0x3e8f7a,_0x203745){const _0x1a0de6=_0x6a7885,_0x2fedb5=document[_0x1a0de6(0x52a)]('lesson-plan-content');document[_0x1a0de6(0x52a)](_0x1a0de6(0x9a4))[_0x1a0de6(0x675)]='เนื้อหาสำหรับสอน:\x20'+_0x203745;const _0x452cab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x3e8f7a[_0x1a0de6(0x448)][_0x1a0de6(0x8cc)](_0x133198=>_0x1a0de6(0xafa)+_0x133198+_0x1a0de6(0x8d5))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x3e8f7a[_0x1a0de6(0xa78)][_0x1a0de6(0x8cc)](_0x37ac34=>_0x1a0de6(0xafa)+_0x37ac34+_0x1a0de6(0x8d5))[_0x1a0de6(0x35d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x3e8f7a[_0x1a0de6(0xaa6)][_0x1a0de6(0x8cc)](_0x431838=>_0x1a0de6(0x5bd)+_0x431838['question']+_0x1a0de6(0x9f9)+_0x431838[_0x1a0de6(0x1e5)]+_0x1a0de6(0x9d8))[_0x1a0de6(0x35d)]('')+_0x1a0de6(0x8fa)+_0x3e8f7a['teacherTips'][_0x1a0de6(0x8cc)](_0x3b9093=>_0x1a0de6(0xafa)+_0x3b9093+'</li>')[_0x1a0de6(0x35d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2fedb5[_0x1a0de6(0xd3c)]=_0x452cab;if(window[_0x1a0de6(0xb46)])MathJax[_0x1a0de6(0x787)]([_0x2fedb5]);}async function generateQuizForSingleTopic(_0xea9cb1){const _0x585f6c=_0x6a7885;console[_0x585f6c(0xba9)](_0x585f6c(0xa26)+_0xea9cb1+'\x22');const _0x169dd0=document[_0x585f6c(0x52a)]('reference-pdf-upload'),_0x2a1784=_0x169dd0[_0x585f6c(0x3d4)][_0x585f6c(0xbc8)]>0x0?_0x169dd0[_0x585f6c(0x3d4)][0x0]:null;let _0x23ce62=null;if(_0x2a1784)try{const _0x93e34d=new FileReader();_0x93e34d[_0x585f6c(0x203)](_0x2a1784);const _0x467ce1=await new Promise((_0x2682c6,_0x1bc34f)=>{const _0x4ecf43=_0x585f6c;_0x93e34d[_0x4ecf43(0xb87)]=()=>_0x2682c6(_0x93e34d[_0x4ecf43(0xded)]['split'](',')[0x1]),_0x93e34d[_0x4ecf43(0x1e0)]=_0x325458=>_0x1bc34f(_0x325458);});_0x23ce62=[{'inlineData':{'mimeType':_0x2a1784['type'],'data':_0x467ce1}}];}catch(_0x3d0048){console[_0x585f6c(0xc4f)](_0x585f6c(0xcdf),_0x3d0048),showMessage(_0x585f6c(0x3c7));return;}generateQuiz(_0xea9cb1,null,null,_0x23ce62,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2806e9=null){const _0x32f7b7=_0x6a7885,_0x33ae3d=document[_0x32f7b7(0x52a)](_0x32f7b7(0x845)),_0x539a3c=document[_0x32f7b7(0x52a)](_0x32f7b7(0x862));let _0x3587c2,_0x131584=[];if(_0x2806e9)_0x3587c2=_0x2806e9,_0x131584=_0x3587c2[_0x32f7b7(0x98c)](0x2);else{const _0x596bf7=document[_0x32f7b7(0x52a)](_0x32f7b7(0x6e7)),_0x10e983=document[_0x32f7b7(0x52a)](_0x32f7b7(0x219)),_0x6a1b34=_0x596bf7[_0x32f7b7(0x3d4)][0x0];if(!_0x6a1b34){showMessage(_0x32f7b7(0x299));return;}_0x539a3c[_0x32f7b7(0x675)]=_0x32f7b7(0x6ce);const _0x360ee7=await new Promise((_0x1d7940,_0x5c4bb1)=>{const _0x3ef654=_0x32f7b7,_0x55a144=new FileReader();_0x55a144[_0x3ef654(0x203)](_0x6a1b34),_0x55a144[_0x3ef654(0xb87)]=()=>_0x1d7940(_0x55a144[_0x3ef654(0xded)][_0x3ef654(0x3c3)](',')[0x1]),_0x55a144[_0x3ef654(0x1e0)]=_0x5c4bb1;});_0x3587c2=[{'text':_0x32f7b7(0xd8a)},{'inlineData':{'mimeType':_0x6a1b34[_0x32f7b7(0x6c9)],'data':_0x360ee7}}];if(_0x10e983[_0x32f7b7(0x3d4)]['length']>0x0){const _0x4dc91f=_0x10e983[_0x32f7b7(0x3d4)][0x0];_0x539a3c['textContent']='กำลังเตรียมไฟล์อ้างอิง...';const _0xb61779=await new Promise((_0x150bfc,_0xe42719)=>{const _0x501dfb=_0x32f7b7,_0x3eaf27=new FileReader();_0x3eaf27[_0x501dfb(0x203)](_0x4dc91f),_0x3eaf27[_0x501dfb(0xb87)]=()=>_0x150bfc(_0x3eaf27[_0x501dfb(0xded)][_0x501dfb(0x3c3)](',')[0x1]),_0x3eaf27[_0x501dfb(0x1e0)]=_0xe42719;}),_0x43a1fd={'inlineData':{'mimeType':_0x4dc91f[_0x32f7b7(0x6c9)],'data':_0xb61779}};_0x3587c2[_0x32f7b7(0x586)](_0x43a1fd),_0x131584[_0x32f7b7(0x586)](_0x43a1fd);}}const _0x3196bf='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0xea53da=_0x32f7b7(0xc9a);let _0x577683='';_0x131584&&_0x131584[_0x32f7b7(0xbc8)]>0x0?_0x577683=_0x3196bf:_0x577683=_0xea53da;const _0x3bda69=_0x32f7b7(0x52c)+_0x577683+_0x32f7b7(0x2d2),_0x27c6de={'type':_0x32f7b7(0x342),'properties':{'questionText':{'type':_0x32f7b7(0xd50)},'questionType':{'type':_0x32f7b7(0xd50),'enum':[_0x32f7b7(0xa3b),_0x32f7b7(0x247),_0x32f7b7(0x3f6),_0x32f7b7(0x747)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x32f7b7(0xa4b)},'idealAnswer':{'type':_0x32f7b7(0xd50)},'correctAnswer':{'type':_0x32f7b7(0x6ef)},'explanation':{'type':_0x32f7b7(0xd50)},'imageCode':{'type':'STRING'}},'required':[_0x32f7b7(0x8c1),'explanation']},_0x150dd1={'type':_0x32f7b7(0x342),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x27c6de}},'required':[_0x32f7b7(0x801),_0x32f7b7(0x665)]};_0x3587c2[0x0][_0x32f7b7(0xc1c)]=_0x3bda69,await handleApiCall(_0x3587c2,_0x32f7b7(0x7b1),_0x150dd1);}function proceedToNextQuestion(_0x2575da){const _0x20fb59=_0x6a7885;studentAnswersPerQuestion[_0x20fb59(0x586)](_0x2575da),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x20fb59(0x665)][_0x20fb59(0xbc8)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3e9f0f,_0x18021d,_0x4af89f){const _0x4a2e50=_0x6a7885,_0x309487=Object[_0x4a2e50(0xbd1)](_0x3e9f0f[_0x4a2e50(0xa6d)]||{}),_0x8355c6=_0x309487[_0x4a2e50(0xbc8)],_0x4f6201=[..._0x309487][_0x4a2e50(0xd66)]((_0x44e279,_0x1a3e2e)=>_0x1a3e2e[_0x4a2e50(0xb95)]-_0x44e279['score']),_0x171f85=_0x4af89f,_0x3f2068=_0x3e9f0f[_0x4a2e50(0x606)]||_0x4a2e50(0xc16),_0x2e626f=_0x3f2068===_0x4a2e50(0xa9c)&&_0x3e9f0f[_0x4a2e50(0xcfc)]===![];let _0x3defa8='';const _0xf98089=_0x3e9f0f['shuffledQuiz'][_0x4a2e50(0x665)],_0x369b0e=_0xf98089[_0x171f85],_0x4ed43e=_0x50b9fa=>String[_0x4a2e50(0xdae)](0x41+_0x50b9fa);if(_0x369b0e&&!_0x2e626f){let _0x48833f='',_0x4cdbe0='';const _0x4bb75f=_0x369b0e[_0x4a2e50(0x8c1)]||_0x3e9f0f['shuffledQuiz'][_0x4a2e50(0xafb)];if(_0x4bb75f===_0x4a2e50(0xa3b)&&_0x369b0e['options']&&_0x369b0e[_0x4a2e50(0x7cc)]!==undefined){const _0x1c6799=_0x369b0e[_0x4a2e50(0x7cc)];_0x48833f=_0x369b0e['options'][_0x1c6799],_0x4cdbe0=_0x4ed43e(_0x1c6799)+'.';}else{if(_0x4bb75f==='true_false'){const _0x1e842f=_0x369b0e[_0x4a2e50(0x950)]===!![]||String(_0x369b0e['correctAnswer'])[_0x4a2e50(0x476)]()===_0x4a2e50(0xb54);_0x1e842f?(_0x48833f='ใช่\x20/\x20ถูก',_0x4cdbe0='ก.'):(_0x48833f=_0x4a2e50(0x946),_0x4cdbe0='ข.');}else{if(_0x4bb75f==='matching_item')_0x48833f=_0x369b0e[_0x4a2e50(0x573)]||'-',_0x4cdbe0='';else _0x4bb75f==='short_answer'&&(_0x48833f=_0x369b0e[_0x4a2e50(0x2fd)]||'-',_0x4cdbe0='');}}_0x48833f&&(_0x3defa8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x171f85+0x1)+_0x4a2e50(0x5d4)+_0x4cdbe0+'\x20'+_0x48833f+_0x4a2e50(0x6c8));}const _0x1cda29=_0x4f6201[_0x4a2e50(0x8cc)](_0x517a13=>{const _0x5a6413=_0x4a2e50;let _0x492662=_0x517a13['score'];if(_0x3f2068===_0x5a6413(0x89b)){const _0x1df9cb=(_0x517a13[_0x5a6413(0xa6c)]||[])['filter'](_0x341143=>_0x341143[_0x5a6413(0xc69)]<=_0x171f85);_0x492662=_0x1df9cb[_0x5a6413(0xcae)](_0x1d09e7=>_0x1d09e7[_0x5a6413(0x7d3)])[_0x5a6413(0xbc8)];}const _0x97d88=(_0x517a13[_0x5a6413(0xa6c)]||[])[_0x5a6413(0x8c7)](_0x57d6f6=>_0x57d6f6[_0x5a6413(0xc69)]===_0x171f85),_0x44b6e7=_0x97d88?_0x97d88[_0x5a6413(0x7d3)]:![],_0x353370=_0x97d88?_0x97d88[_0x5a6413(0x287)]===!![]||_0x97d88['wasConfident']==='confident':![];let _0x10de67='';if(_0x353370&&_0x44b6e7)_0x10de67=_0x5a6413(0x5c9);else{if(_0x353370&&!_0x44b6e7)_0x10de67=_0x5a6413(0x5d5);else!_0x353370&&_0x44b6e7?_0x10de67=_0x5a6413(0x69f):_0x10de67=_0x5a6413(0x4b4);}const _0x6e0579=_0x2e626f?_0x3e9f0f[_0x5a6413(0x603)][_0x517a13['name']]||_0x5a6413(0xa0c):_0x517a13[_0x5a6413(0xae4)];return _0x5a6413(0x61e)+_0x10de67+_0x5a6413(0x986)+_0x6e0579+_0x5a6413(0xa89)+_0x492662+_0x5a6413(0xa80);})['join'](''),_0x314014=_0xf98089[_0x4a2e50(0x8cc)]((_0x2ef140,_0x56693f)=>{const _0x3dc913=_0x4a2e50;if(_0x3f2068===_0x3dc913(0x89b)&&_0x56693f>_0x171f85)return'';const _0x3f60be=_0x309487['filter'](_0x212e29=>_0x212e29[_0x3dc913(0xa6c)]&&_0x212e29[_0x3dc913(0xa6c)]['find'](_0x47238e=>_0x47238e[_0x3dc913(0xc69)]===_0x56693f&&_0x47238e[_0x3dc913(0x7d3)]))[_0x3dc913(0xbc8)],_0x599c69=_0x56693f===_0x171f85,_0x13f860=_0x599c69?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x3dc913(0x4c5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x13f860+_0x3dc913(0x8a0)+(_0x56693f+0x1)+_0x3dc913(0xd2f)+_0x3f60be+_0x3dc913(0x938)+_0x8355c6+_0x3dc913(0x350);})['join']('');let _0x43fe4e='',_0x3c631e='';if(_0x18021d){const _0x55d272=_0x3f2068===_0x4a2e50(0xc16)&&_0x3e9f0f[_0x4a2e50(0xbc7)]>=_0xf98089[_0x4a2e50(0xbc8)]-0x1,_0x529a5d=_0x3f2068===_0x4a2e50(0x89b)&&_0x3e9f0f[_0x4a2e50(0xcda)]>=_0xf98089['length']-0x1,_0x39d46f=_0x3f2068==='anonymous'&&_0x3e9f0f['currentQuestionIndex']>=_0xf98089[_0x4a2e50(0xbc8)]-0x1;_0x55d272||_0x529a5d||_0x39d46f?_0x3f2068===_0x4a2e50(0xa9c)&&_0x3e9f0f[_0x4a2e50(0xcfc)]===![]?_0x43fe4e=_0x4a2e50(0xdd4):_0x43fe4e=_0x4a2e50(0xc73):_0x43fe4e='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x3c631e=_0x4a2e50(0xaca);}const _0x50ed2e=_0x4a2e50(0x666)+_0x3e9f0f[_0x4a2e50(0x28a)][_0x4a2e50(0x801)]+_0x4a2e50(0xc0a)+_0x3e9f0f[_0x4a2e50(0x527)]+_0x4a2e50(0xba2)+_0x3c631e+'\x0a\x20\x20\x20\x20<!--\x20(PIN\x20ที่เคยอยู่ตรงนี้\x20ถูกย้ายไปแล้ว)\x20-->\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3defa8+_0x4a2e50(0x6b9)+(_0x1cda29||_0x4a2e50(0xc0c))+_0x4a2e50(0x719)+_0x314014+_0x4a2e50(0x1d1)+(_0x18021d?_0x4a2e50(0x62b)+_0x43fe4e+'</div>':'')+_0x4a2e50(0xde8);liveGameView[_0x4a2e50(0xd3c)]=_0x50ed2e;if(window[_0x4a2e50(0xb46)]){const _0x1187a8=document[_0x4a2e50(0x52a)](_0x4a2e50(0x689));_0x1187a8&&MathJax['typesetPromise']([_0x1187a8]);}if(_0x18021d){document['getElementById']('next-sync-question-btn')[_0x4a2e50(0x4cd)]=async()=>{const _0x29d72a=_0x4a2e50,_0x471bf0=doc(db,_0x29d72a(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId),_0x476a61=_0x3f2068===_0x29d72a(0xc16)&&_0x3e9f0f[_0x29d72a(0xbc7)]>=_0xf98089[_0x29d72a(0xbc8)]-0x1,_0x731044=_0x3f2068===_0x29d72a(0x89b)&&_0x3e9f0f[_0x29d72a(0xcda)]>=_0xf98089[_0x29d72a(0xbc8)]-0x1,_0x222d08=_0x3f2068===_0x29d72a(0xa9c)&&_0x3e9f0f[_0x29d72a(0xbc7)]>=_0xf98089[_0x29d72a(0xbc8)]-0x1;if(_0x3f2068===_0x29d72a(0x89b))!_0x731044?await updateDoc(_0x471bf0,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x471bf0,{'status':_0x29d72a(0x500)});else{if(!_0x476a61&&!_0x222d08){const _0x37bc0f=_0x3e9f0f['currentQuestionIndex']+0x1,_0x29532e={};Object[_0x29d72a(0x879)](_0x3e9f0f[_0x29d72a(0xa6d)])[_0x29d72a(0x79a)](_0x142565=>{const _0x5dd3a2=_0x29d72a;_0x29532e[_0x5dd3a2(0x6a0)+_0x142565+_0x5dd3a2(0x44d)]=![],_0x29532e['players.'+_0x142565+_0x5dd3a2(0x266)]=null;}),await updateDoc(_0x471bf0,{..._0x29532e,'status':_0x29d72a(0xa64),'currentQuestionIndex':_0x37bc0f,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x471bf0,{'status':_0x29d72a(0x500)});}},document[_0x4a2e50(0x52a)](_0x4a2e50(0x4e2))?.[_0x4a2e50(0x6dd)](_0x4a2e50(0x564),async()=>{const _0x44c8fd=_0x4a2e50,_0x501b12=doc(db,'artifacts/'+appId+_0x44c8fd(0xb98),currentLiveGameId);await updateDoc(_0x501b12,{'isAnonymousRevealed':!![]});});const _0x470944=document[_0x4a2e50(0x52a)]('end-sync-game-btn');_0x470944&&(_0x470944[_0x4a2e50(0x4cd)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3a4e66=_0x380e,_0x4b32a9=doc(db,_0x3a4e66(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4b32a9,{'status':_0x3a4e66(0x500)});});});}}async function handleGenerateParallelFromBank(_0x5eb489){const _0x12b422=_0x6a7885,_0x3eaadd=document['getElementById'](_0x12b422(0x839)),_0x453f27=document[_0x12b422(0x52a)](_0x12b422(0x997));_0x453f27['classList'][_0x12b422(0x642)](_0x12b422(0x68d));const _0x410273=_0x12b422(0xcf1)+_0x5eb489[_0x12b422(0x801)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3eaadd[_0x12b422(0x6d8)]('beforeend',_0x410273);const _0x1b608f=document[_0x12b422(0x52a)](_0x12b422(0xb61));try{const _0x40ec34=_0x5eb489[_0x12b422(0x665)][_0x12b422(0x8cc)]((_0x3d36ad,_0x2b691b)=>{const _0x503369=_0x12b422;let _0x554404=_0x2b691b+0x1+'.\x20'+(_0x3d36ad[_0x503369(0xc82)]||_0x3d36ad[_0x503369(0xdbf)])+'\x0a';if(_0x3d36ad['options'])_0x554404+=_0x3d36ad[_0x503369(0xd99)][_0x503369(0x8cc)]((_0x59237,_0x54763d)=>'\x20\x20\x20-\x20'+(_0x54763d===_0x3d36ad[_0x503369(0x7cc)]?'[*]':'')+'\x20'+_0x59237)[_0x503369(0x35d)]('\x0a');else _0x3d36ad[_0x503369(0x2fd)]&&(_0x554404+=_0x503369(0x54c)+_0x3d36ad[_0x503369(0x2fd)]);return _0x554404;})[_0x12b422(0x35d)]('\x0a\x0a');_0x1b608f['textContent']=_0x12b422(0x6f3);const _0x4ba7cd=_0x12b422(0xd74)+_0x5eb489['topic']+_0x12b422(0x632)+_0x40ec34+_0x12b422(0x77f)+simpleMathPrompt+_0x12b422(0x6e3),_0xa0c01e={'type':_0x12b422(0x342),'properties':{'questionText':{'type':_0x12b422(0xd50)},'questionType':{'type':_0x12b422(0xd50),'enum':[_0x12b422(0xa3b),'short_answer',_0x12b422(0x3f6),_0x12b422(0x747)]},'options':{'type':_0x12b422(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x12b422(0xa4b)},'idealAnswer':{'type':_0x12b422(0xd50)},'correctAnswer':{'type':_0x12b422(0x6ef)},'stem':{'type':_0x12b422(0xd50)},'correctResponse':{'type':_0x12b422(0xd50)},'allResponses':{'type':_0x12b422(0x3ad),'items':{'type':_0x12b422(0xd50)}},'explanation':{'type':_0x12b422(0xd50)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x12b422(0x559)]},_0x1146d0={'type':_0x12b422(0x342),'properties':{'topic':{'type':_0x12b422(0xd50)},'questions':{'type':_0x12b422(0x3ad),'items':_0xa0c01e}},'required':[_0x12b422(0x801),_0x12b422(0x665)]},_0x45f752=await callAnalysisApi(_0x4ba7cd,_0x1146d0),_0x14cd20=_0x45f752[_0x12b422(0x665)][_0x12b422(0x8cc)]((_0x12505a,_0x4a4547)=>({..._0x12505a,'id':'q_'+Date['now']()+'_'+_0x4a4547})),_0x4f4e25=_0x12b422(0x35e)+_0x5eb489['topic'],_0x4d7ff1={'topic':_0x4f4e25,'questions':_0x14cd20,'quizType':_0x5eb489[_0x12b422(0xafb)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x12b422(0xb49)](),'status':_0x12b422(0x7ec),'settings':_0x5eb489[_0x12b422(0x727)],'quizMode':_0x12b422(0x799),'pairedQuizId':null,'lessonPlan':null};let _0x3919f5;while(!![]){_0x3919f5=Math[_0x12b422(0x754)](0x3e8+Math[_0x12b422(0x90b)]()*0x2328)[_0x12b422(0x443)]();const _0x3b338b=await getDoc(doc(db,_0x12b422(0x3c5)+appId+_0x12b422(0x383),_0x3919f5));if(!_0x3b338b[_0x12b422(0xd3f)]())break;}await setDoc(doc(db,_0x12b422(0x3c5)+appId+_0x12b422(0x383),_0x3919f5),_0x4d7ff1),showMessage(_0x12b422(0xd3e));}catch(_0x8bcc17){console[_0x12b422(0xc4f)](_0x12b422(0x53c),_0x8bcc17),showMessage(_0x12b422(0xc44)+_0x8bcc17[_0x12b422(0xacb)]);}finally{const _0x3f41e7=document['getElementById']('temp-loader-results');_0x3f41e7&&_0x3f41e7[_0x12b422(0xb2b)](),_0x453f27[_0x12b422(0x817)][_0x12b422(0xb2b)](_0x12b422(0x68d));}}async function handleGenerateParallelPostTest(_0x3223fe){const _0x5ccce0=_0x6a7885,_0x445f7d=document[_0x5ccce0(0x52a)](_0x5ccce0(0x839)),_0xb6878=document[_0x5ccce0(0x52a)](_0x5ccce0(0x997));_0xb6878['classList'][_0x5ccce0(0x642)](_0x5ccce0(0x68d));const _0x175e68=_0x5ccce0(0xba0);_0x445f7d[_0x5ccce0(0x6d8)]('beforeend',_0x175e68);try{const _0x195199=_0x3223fe['questions'][_0x5ccce0(0x8cc)]((_0x420595,_0x27b675)=>{const _0x3e8eb6=_0x5ccce0;let _0x3c7a41=_0x27b675+0x1+'.\x20'+(_0x420595[_0x3e8eb6(0xc82)]||_0x420595['stem']);if(_0x420595[_0x3e8eb6(0xd99)])_0x3c7a41+=_0x3e8eb6(0x4b2)+_0x420595['options']['join'](',\x20');return _0x3c7a41;})[_0x5ccce0(0x35d)]('\x0a\x0a'),_0x4e9798=_0x5ccce0(0x210)+_0x3223fe[_0x5ccce0(0x801)]+_0x5ccce0(0x4b6)+_0x195199+_0x5ccce0(0x3ea)+simpleMathPrompt+_0x5ccce0(0x6e3),_0x21cd75={'type':_0x5ccce0(0x342),'properties':{'topic':{'type':_0x5ccce0(0xd50)},'questions':{'type':_0x5ccce0(0x3ad),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x5ccce0(0xd50)},'questionType':{'type':_0x5ccce0(0xd50)},'options':{'type':_0x5ccce0(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5ccce0(0xa4b)},'idealAnswer':{'type':_0x5ccce0(0xd50)},'explanation':{'type':_0x5ccce0(0xd50)}},'required':['questionText','explanation']}}},'required':['topic','questions']},_0x222b8b=await callAnalysisApi(_0x4e9798,_0x21cd75),_0xb61709=_0x3223fe[_0x5ccce0(0x801)][_0x5ccce0(0xb64)]('(ก่อนเรียน)','')[_0x5ccce0(0x797)](),_0x4ffc90=_0x5ccce0(0x768)+_0xb61709,_0x1f42c0={..._0x222b8b,'topic':_0x4ffc90,'quizType':_0x3223fe[_0x5ccce0(0xafb)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5ccce0(0xb49)](),'status':_0x5ccce0(0x7ec),'settings':_0x3223fe[_0x5ccce0(0x727)],'quizMode':'post-test','pairedQuizId':_0x3223fe['id']};let _0x388ba7;while(!![]){_0x388ba7=Math[_0x5ccce0(0x754)](0x3e8+Math[_0x5ccce0(0x90b)]()*0x2328)[_0x5ccce0(0x443)]();const _0x2305a2=await getDoc(doc(db,_0x5ccce0(0x3c5)+appId+_0x5ccce0(0x383),_0x388ba7));if(!_0x2305a2[_0x5ccce0(0xd3f)]())break;}await setDoc(doc(db,_0x5ccce0(0x3c5)+appId+_0x5ccce0(0x383),_0x388ba7),_0x1f42c0);const _0x3f6e4a=doc(db,_0x5ccce0(0x3c5)+appId+_0x5ccce0(0x383),_0x3223fe['id']);await updateDoc(_0x3f6e4a,{'pairedQuizId':_0x388ba7}),showMessage(_0x5ccce0(0xcf5));}catch(_0x4d0b2d){console[_0x5ccce0(0xc4f)](_0x5ccce0(0xd1d),_0x4d0b2d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4d0b2d[_0x5ccce0(0xacb)]);}finally{const _0x207e58=document['getElementById']('temp-loader-results');if(_0x207e58)_0x207e58[_0x5ccce0(0xb2b)]();_0xb6878['classList'][_0x5ccce0(0xb2b)]('hidden');}}async function handleGenerateParallelTest(_0x532e6d=null){const _0x228e4e=_0x6a7885;let _0x54b590=_0x532e6d;if(!_0x54b590){const _0x40a89e=document[_0x228e4e(0x52a)]('parallel-test-upload-input');_0x40a89e[_0x228e4e(0x3d4)]['length']>0x0&&(_0x54b590=_0x40a89e[_0x228e4e(0x3d4)][0x0]);}if(!_0x54b590){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x3e87ca=document[_0x228e4e(0x52a)](_0x228e4e(0x845)),_0x546b47=document[_0x228e4e(0x52a)](_0x228e4e(0x862)),_0x13eb1d=document[_0x228e4e(0x52a)](_0x228e4e(0x25a)),_0x204950=document[_0x228e4e(0x52a)]('generate-from-parallel-test-btn');_0x204950[_0x228e4e(0x459)]=!![],document[_0x228e4e(0x52a)]('quiz-generation-area')['classList'][_0x228e4e(0xb2b)](_0x228e4e(0x68d)),_0x13eb1d[_0x228e4e(0xd3c)]='',_0x3e87ca['classList']['remove'](_0x228e4e(0x68d)),_0x546b47[_0x228e4e(0x675)]=_0x228e4e(0xd40);const _0x2e5022=new FileReader();_0x2e5022[_0x228e4e(0x203)](_0x54b590),_0x2e5022[_0x228e4e(0xb87)]=async()=>{const _0xbbe167=_0x228e4e;try{const _0x308ebd=_0x2e5022[_0xbbe167(0xded)][_0xbbe167(0x3c3)](',')[0x1],_0x53262e=_0x54b590[_0xbbe167(0x6c9)];_0x546b47[_0xbbe167(0x675)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xbbf1bc=document['getElementById']('include-images-checkbox')['checked'],_0x4ffb5d=_0xbbf1bc?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x5f0077=_0xbbe167(0x2ca),_0x27af46={'type':_0xbbe167(0x342),'properties':{'questionText':{'type':_0xbbe167(0xd50)},'questionType':{'type':_0xbbe167(0xd50),'enum':[_0xbbe167(0xa3b),_0xbbe167(0x247)]},'options':{'type':_0xbbe167(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xbbe167(0xd50)},'imageCode':{'type':'STRING'}},'required':[_0xbbe167(0xc82),_0xbbe167(0x8c1),_0xbbe167(0x559)]},_0x6d5012={'type':_0xbbe167(0x342),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xbbe167(0x3ad),'items':_0x27af46}},'required':['topic',_0xbbe167(0x665)]},_0x4c5838=[{'text':_0x5f0077},{'inlineData':{'mimeType':_0x53262e,'data':_0x308ebd}}];await handleApiCall(_0x4c5838,_0xbbe167(0x255),_0x6d5012);}catch(_0xa6d548){console[_0xbbe167(0xc4f)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xa6d548),showMessage(_0xbbe167(0xc44)+_0xa6d548['message']),_0x13eb1d[_0xbbe167(0xd3c)]=_0xbbe167(0x225);}finally{_0x3e87ca['classList'][_0xbbe167(0x642)](_0xbbe167(0x68d)),_0x204950[_0xbbe167(0x459)]=![];}},_0x2e5022[_0x228e4e(0x1e0)]=_0x1b9ad8=>{const _0x4dca24=_0x228e4e;console['error']('FileReader\x20error:',_0x1b9ad8),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x3e87ca[_0x4dca24(0x817)]['add'](_0x4dca24(0x68d)),_0x204950[_0x4dca24(0x459)]=![];};}async function handleRegenerateQuestionInEditor(_0x32e5f1){const _0x340512=_0x6a7885;if(currentEditingQuizData===null)return;const _0x5ab7ab=document[_0x340512(0x390)]('.question-editor-item[data-q-index=\x22'+_0x32e5f1+'\x22]');_0x5ab7ab&&(_0x5ab7ab[_0x340512(0xd3c)]=_0x340512(0xd03));const _0x15eb18=currentEditingQuizData['questions'][_0x32e5f1],_0x2a0ed9=currentEditingQuizData['topic'],_0x488193=_0x15eb18[_0x340512(0x8c1)],_0x683b83={'type':_0x340512(0x342),'properties':{'questionText':{'type':_0x340512(0xd50)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x340512(0xa4b)},'explanation':{'type':'STRING'}},'required':['questionText',_0x340512(0xd99),_0x340512(0x7cc),_0x340512(0x559)]},_0x49e344={'type':_0x340512(0x342),'properties':{'questionText':{'type':_0x340512(0xd50)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x340512(0xc82),_0x340512(0x2fd),'explanation']};let _0x4aff55,_0x21594f='';_0x488193===_0x340512(0xa3b)?(_0x4aff55=_0x683b83,_0x21594f=_0x340512(0x4ce)):(_0x4aff55=_0x49e344,_0x21594f=_0x340512(0x80a));const _0x5281ff=_0x340512(0x29d)+_0x2a0ed9+_0x340512(0x26c)+_0x21594f+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x15eb18['questionText']||_0x15eb18[_0x340512(0xdbf)])+'\x22.\x20'+simpleMathPrompt;try{const _0xed38bb=await callAnalysisApi(_0x5281ff,_0x4aff55);currentEditingQuizData[_0x340512(0x665)][_0x32e5f1]={..._0x15eb18,..._0xed38bb},renderQuizEditor(currentEditingQuizData);}catch(_0x364021){console[_0x340512(0xc4f)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x364021),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x514f28=_0x6a7885,_0x66fc0f=document['getElementById'](_0x514f28(0x8ed));currentMode===_0x514f28(0xa0e)?(adminPasswordModal['classList'][_0x514f28(0xb2b)]('hidden'),document['getElementById'](_0x514f28(0x4b5))[_0x514f28(0x31a)]()):(currentMode='student',_0x66fc0f[_0x514f28(0xd3c)]=_0x514f28(0xcbb),_0x66fc0f[_0x514f28(0x724)]=_0x514f28(0x326),showView(_0x514f28(0xa0e)));}function handleAdminLogin(){const _0x1f4ee1=_0x6a7885,_0x233cdb=document[_0x1f4ee1(0x52a)]('admin-password-input'),_0x4d858a=document['getElementById'](_0x1f4ee1(0xa71));if(_0x233cdb[_0x1f4ee1(0x3c4)]===_0x1f4ee1(0xae2)){adminPasswordModal[_0x1f4ee1(0x817)][_0x1f4ee1(0x642)](_0x1f4ee1(0x68d)),_0x233cdb[_0x1f4ee1(0x3c4)]='',_0x4d858a[_0x1f4ee1(0x817)][_0x1f4ee1(0x642)]('hidden'),currentMode='admin';const _0x4c9f16=document['getElementById'](_0x1f4ee1(0x8ed));_0x4c9f16['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4c9f16[_0x1f4ee1(0x724)]=_0x1f4ee1(0x620),showView(_0x1f4ee1(0x69d));}else _0x4d858a[_0x1f4ee1(0x817)][_0x1f4ee1(0xb2b)](_0x1f4ee1(0x68d)),_0x233cdb[_0x1f4ee1(0x3c4)]='';}function switchProjectTab(_0x90fd6a){const _0x14cc51=_0x6a7885;['manage',_0x14cc51(0x2a7),_0x14cc51(0x771)][_0x14cc51(0x79a)](_0x2bc52d=>{const _0x183bd7=_0x14cc51;document[_0x183bd7(0x52a)](_0x2bc52d+_0x183bd7(0xa95))[_0x183bd7(0x817)][_0x183bd7(0xb2b)]('active'),document[_0x183bd7(0x52a)](_0x2bc52d+_0x183bd7(0x5bc))[_0x183bd7(0x817)][_0x183bd7(0x642)](_0x183bd7(0x68d));}),document[_0x14cc51(0x52a)](_0x90fd6a+_0x14cc51(0xa95))['classList'][_0x14cc51(0x642)](_0x14cc51(0x7ec)),document[_0x14cc51(0x52a)](_0x90fd6a+_0x14cc51(0x5bc))['classList']['remove'](_0x14cc51(0x68d));}function switchQuizDetailTab(_0x4ecfc9){const _0x3bceeb=_0x6a7885,_0x51bc51={'analytics':{'btn':_0x3bceeb(0x3eb),'content':_0x3bceeb(0x62c)},'scores':{'btn':_0x3bceeb(0xb18),'content':_0x3bceeb(0xa73)},'leaderboard-quiz':{'btn':_0x3bceeb(0xbf4),'content':_0x3bceeb(0xab7)},'behavior-log':{'btn':_0x3bceeb(0x472),'content':_0x3bceeb(0xaec)}};for(const _0x1d5d13 in _0x51bc51){document[_0x3bceeb(0x52a)](_0x51bc51[_0x1d5d13]['btn'])[_0x3bceeb(0x817)][_0x3bceeb(0xb2b)]('active'),document[_0x3bceeb(0x52a)](_0x51bc51[_0x1d5d13][_0x3bceeb(0x63c)])[_0x3bceeb(0x817)][_0x3bceeb(0x642)]('hidden');}document[_0x3bceeb(0x52a)](_0x51bc51[_0x4ecfc9][_0x3bceeb(0x60e)])['classList']['add'](_0x3bceeb(0x7ec)),document[_0x3bceeb(0x52a)](_0x51bc51[_0x4ecfc9][_0x3bceeb(0x63c)])[_0x3bceeb(0x817)][_0x3bceeb(0xb2b)](_0x3bceeb(0x68d));}function showMessage(_0x3be0e6,_0x22610e=null){const _0x481083=_0x6a7885;modalMessage[_0x481083(0x675)]=_0x3be0e6,modalConfirmAction=_0x22610e,messageModal['classList'][_0x481083(0xb2b)](_0x481083(0x68d));}function showConfirmation(_0x4a413b,_0x2c0faf){const _0x27cb22=_0x6a7885;document[_0x27cb22(0x52a)]('confirmation-message')['textContent']=_0x4a413b,document['getElementById'](_0x27cb22(0xda2))[_0x27cb22(0x390)]('h3')[_0x27cb22(0x675)]=_0x27cb22(0x619),confirmAction=_0x2c0faf,confirmationModal['classList'][_0x27cb22(0xb2b)](_0x27cb22(0x68d));}function listenForProjects(){const _0x3a11ed=_0x6a7885,_0x44b3c7=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x44b3c7,_0x35460a=>{const _0x3d7c67=_0x380e;if(_0x35460a[_0x3d7c67(0xd3f)]()){const _0x369b34=_0x35460a[_0x3d7c67(0x36d)]();globalDashboardSettings['projectSort']=_0x369b34[_0x3d7c67(0xad5)]||_0x3d7c67(0x30d),globalDashboardSettings[_0x3d7c67(0x726)]=_0x369b34[_0x3d7c67(0x726)]||[],globalDashboardSettings[_0x3d7c67(0xd78)]=_0x369b34[_0x3d7c67(0xd78)]||[];}allProjects[_0x3d7c67(0xbc8)]>0x0&&renderProjects();});const _0x3d39be=collection(db,_0x3a11ed(0x3c5)+appId+_0x3a11ed(0x880));unsubscribeProjectsListener=onSnapshot(_0x3d39be,_0x373a89=>{const _0x2fc549=_0x3a11ed;allProjects=_0x373a89['docs'][_0x2fc549(0x8cc)](_0x4cbaf9=>({'id':_0x4cbaf9['id'],..._0x4cbaf9['data']()})),renderProjects();},_0xe32da6=>{const _0x37378e=_0x3a11ed;console[_0x37378e(0xc4f)]('Error\x20listening\x20for\x20projects:',_0xe32da6),showMessage(_0x37378e(0x577));});}function showColorPalette(_0x25d4dd,_0x56f667){const _0x28f99c=_0x6a7885;document[_0x28f99c(0x7b3)](_0x28f99c(0xb3a))[_0x28f99c(0x79a)](_0x4d3849=>_0x4d3849['remove']());const _0x2b5d84=['#FFFFFF',_0x28f99c(0x64a),_0x28f99c(0x9cf),_0x28f99c(0x707),_0x28f99c(0x42c),_0x28f99c(0x289),'#F3E8FF',_0x28f99c(0xb1c),_0x28f99c(0xb65)],_0x4b5399=document[_0x28f99c(0x2f1)](_0x28f99c(0x848));_0x4b5399[_0x28f99c(0x1ee)]=_0x28f99c(0x2b2),_0x2b5d84[_0x28f99c(0x79a)](_0x49d87c=>{const _0x401df5=_0x28f99c,_0x381def=document[_0x401df5(0x2f1)]('div');_0x381def[_0x401df5(0x1ee)]=_0x401df5(0xa57),_0x381def['style']['backgroundColor']=_0x49d87c,_0x381def[_0x401df5(0x6dd)]('click',()=>{const _0x3105d9=_0x401df5;handleProjectColorChange(_0x56f667,_0x49d87c),_0x4b5399[_0x3105d9(0xb2b)]();}),_0x4b5399['appendChild'](_0x381def);}),document[_0x28f99c(0x1ed)][_0x28f99c(0x7c1)](_0x4b5399);const _0x3497c2=_0x25d4dd[_0x28f99c(0x940)]();_0x4b5399[_0x28f99c(0x882)][_0x28f99c(0xc3f)]=_0x3497c2[_0x28f99c(0xc38)]+window[_0x28f99c(0x7bc)]+'px',_0x4b5399[_0x28f99c(0x882)][_0x28f99c(0xd24)]=_0x3497c2[_0x28f99c(0xd24)]+window['scrollX']-_0x4b5399[_0x28f99c(0x88d)]/0x2+'px';}async function handleProjectColorChange(_0x2bb4ad,_0x12f218){const _0x2044b2=_0x6a7885,_0x422c6b=doc(db,'artifacts/'+appId+_0x2044b2(0x880),_0x2bb4ad);try{await updateDoc(_0x422c6b,{'color':_0x12f218});}catch(_0x1fb963){console['error'](_0x2044b2(0x7ee),_0x1fb963),showMessage(_0x2044b2(0xce2));}}async function renderProjects(){const _0x5b9561=_0x6a7885,_0x101bae=globalDashboardSettings[_0x5b9561(0xad5)]||'date_desc',_0x30a000=new Set(globalDashboardSettings[_0x5b9561(0x726)]||[]),_0xd3401f=globalDashboardSettings[_0x5b9561(0x3f5)]||_0x5b9561(0x412),_0x1e70d0=document[_0x5b9561(0x52a)]('grid-view-btn'),_0x1e8af6=document[_0x5b9561(0x52a)](_0x5b9561(0xbd3));_0x1e70d0['classList'][_0x5b9561(0x2fc)]('active',_0xd3401f===_0x5b9561(0x412)),_0x1e8af6[_0x5b9561(0x817)]['toggle'](_0x5b9561(0x7ec),_0xd3401f===_0x5b9561(0xdb1)),document[_0x5b9561(0x52a)](_0x5b9561(0xbcb))[_0x5b9561(0x3c4)]=_0x101bae;const _0x48c14a=document[_0x5b9561(0x52a)](_0x5b9561(0x9f6))[_0x5b9561(0x3c4)][_0x5b9561(0x476)]();let _0x7fa387=allProjects[_0x5b9561(0xcae)](_0x5130ac=>_0x5130ac[_0x5b9561(0xb0b)][_0x5b9561(0x476)]()[_0x5b9561(0x317)](_0x48c14a));const _0x3c7d8b=_0x7fa387['filter'](_0x5b024f=>_0x30a000[_0x5b9561(0x9a6)](_0x5b024f['id'])),_0xa4cd72=_0x7fa387[_0x5b9561(0xcae)](_0x9191fc=>!_0x30a000['has'](_0x9191fc['id'])),_0x346a80=(_0x58fc0d,_0x81e93e)=>{const _0x31c14d=_0x5b9561;switch(_0x101bae){case _0x31c14d(0x60c):return _0x58fc0d[_0x31c14d(0xb0b)][_0x31c14d(0x45b)](_0x81e93e['projectName'],'th');case _0x31c14d(0x32b):return _0x81e93e[_0x31c14d(0xb0b)][_0x31c14d(0x45b)](_0x58fc0d[_0x31c14d(0xb0b)],'th');case'date_asc':return new Date(_0x58fc0d[_0x31c14d(0x4ae)])-new Date(_0x81e93e[_0x31c14d(0x4ae)]);default:return new Date(_0x81e93e[_0x31c14d(0x4ae)])-new Date(_0x58fc0d[_0x31c14d(0x4ae)]);}};_0x3c7d8b[_0x5b9561(0xd66)](_0x346a80),_0xa4cd72[_0x5b9561(0xd66)](_0x346a80);const _0x5c0bc9=[..._0x3c7d8b,..._0xa4cd72],_0xc9bb55=globalDashboardSettings[_0x5b9561(0xd78)]||[];_0xc9bb55[_0x5b9561(0xbc8)]>0x0&&_0xd3401f===_0x5b9561(0x412)&&_0x5c0bc9['sort']((_0x5de4dc,_0x225777)=>{const _0x5691d3=_0x5b9561,_0x1af583=_0xc9bb55['indexOf'](_0x5de4dc['id']),_0x428e17=_0xc9bb55[_0x5691d3(0x4a3)](_0x225777['id']);if(_0x1af583===-0x1)return 0x1;if(_0x428e17===-0x1)return-0x1;return _0x1af583-_0x428e17;});const _0x5b708b={};await Promise['all'](_0x5c0bc9[_0x5b9561(0x8cc)](async _0x3a0df2=>{const _0x2761d4=_0x5b9561,_0xc44196=query(collection(db,_0x2761d4(0x3c5)+appId+_0x2761d4(0x383)),where(_0x2761d4(0x94a),'==',_0x3a0df2['id'])),_0x45a9c5=await getDocs(_0xc44196);_0x5b708b[_0x3a0df2['id']]=_0x45a9c5['size'];}));const _0x67d78a=document[_0x5b9561(0x52a)](_0x5b9561(0x68c));let _0x1aec6c='';if(_0xd3401f===_0x5b9561(0x412)){_0x67d78a[_0x5b9561(0x1ee)]=_0x5b9561(0xbad);if(starredQuizzes[_0x5b9561(0xbc8)]>0x0&&_0x48c14a===''){const _0x4ebbbb=starredQuizzes[_0x5b9561(0x8cc)](_0x367d5b=>{const _0x3e484d=_0x5b9561,_0x1dd568=allProjects[_0x3e484d(0x8c7)](_0x5c5aa6=>_0x5c5aa6['id']===_0x367d5b[_0x3e484d(0x94a)]);return{..._0x367d5b,'projectName':_0x1dd568?_0x1dd568[_0x3e484d(0xb0b)]:_0x3e484d(0x6e4)};});_0x1aec6c+=_0x5b9561(0x5b1)+_0x4ebbbb[_0x5b9561(0x8cc)](_0x7b2322=>_0x5b9561(0x9b6)+_0x7b2322['topic']+'\x22>'+_0x7b2322[_0x5b9561(0x801)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x7b2322[_0x5b9561(0xb0b)]+_0x5b9561(0xab3)+_0x7b2322[_0x5b9561(0xb0b)]+_0x5b9561(0xb1e))[_0x5b9561(0x35d)]('')+_0x5b9561(0x26e)+starredQuizzes[_0x5b9561(0xbc8)]+_0x5b9561(0xa02);}_0x5c0bc9[_0x5b9561(0x79a)](_0xa96a9c=>{const _0x5c74b8=_0x5b9561,_0x38b3bd=_0x5b708b[_0xa96a9c['id']]??0x0,_0x4e69e3=_0x30a000[_0x5c74b8(0x9a6)](_0xa96a9c['id']),_0x4aedef=_0xa96a9c['color']||_0x5c74b8(0xab1),_0x65e5c7=parseInt(_0x4aedef[_0x5c74b8(0xac1)](0x1,0x3),0x10)*0.299+parseInt(_0x4aedef[_0x5c74b8(0xac1)](0x3,0x5),0x10)*0.587+parseInt(_0x4aedef[_0x5c74b8(0xac1)](0x5,0x7),0x10)*0.114<0xba,_0x4196bb=_0x65e5c7?'text-white':_0x5c74b8(0x7c4),_0x339e74=_0x65e5c7?_0x5c74b8(0x245):_0x5c74b8(0xbbe);_0x1aec6c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x4e69e3?_0x5c74b8(0x3fe):_0x5c74b8(0xbaa))+_0x5c74b8(0x5e4)+_0x4aedef+_0x5c74b8(0x503)+_0xa96a9c['id']+_0x5c74b8(0x903)+_0xa96a9c['id']+_0x5c74b8(0x56f)+(_0x65e5c7?_0x5c74b8(0xc3e):'text-gray-400\x20hover:text-indigo-600')+_0x5c74b8(0xdcb)+_0xa96a9c['id']+_0x5c74b8(0xc68)+(_0x65e5c7?_0x5c74b8(0xc3e):_0x5c74b8(0x991))+_0x5c74b8(0xb8f)+(_0x4e69e3?_0x65e5c7?'text-yellow-300':_0x5c74b8(0x477):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0xa96a9c['id']+_0x5c74b8(0x86a)+_0x4196bb+'\x20pointer-events-none\x22>'+_0xa96a9c[_0x5c74b8(0xb0b)]+_0x5c74b8(0x322)+_0x339e74+_0x5c74b8(0x2da)+new Date(_0xa96a9c[_0x5c74b8(0x4ae)])[_0x5c74b8(0x4f4)]('th-TH')+_0x5c74b8(0x41b)+(_0x65e5c7?'text-gray-100':'text-gray-700')+_0x5c74b8(0xabc)+_0x38b3bd+_0x5c74b8(0x542)+_0xa96a9c['id']+_0x5c74b8(0x76d)+_0xa96a9c[_0x5c74b8(0xb0b)]+_0x5c74b8(0x885)+(_0x65e5c7?_0x5c74b8(0xbab):_0x5c74b8(0x28c))+_0x5c74b8(0xb3b);});}else _0x67d78a['className']=_0x5b9561(0x631),starredQuizzes[_0x5b9561(0xbc8)]>0x0&&_0x48c14a===''&&(_0x1aec6c+=_0x5b9561(0x8e2)+starredQuizzes['length']+_0x5b9561(0x80f)),_0x1aec6c+=_0x5b9561(0x20c),_0x5c0bc9[_0x5b9561(0x79a)](_0x349abf=>{const _0x13e01e=_0x5b9561,_0x1015ba=_0x5b708b[_0x349abf['id']]??0x0,_0x49ebfd=_0x30a000[_0x13e01e(0x9a6)](_0x349abf['id']);_0x1aec6c+=_0x13e01e(0x48f)+(_0x349abf[_0x13e01e(0xb37)]||_0x13e01e(0xb65))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x349abf['id']+_0x13e01e(0x9f4)+_0x349abf[_0x13e01e(0xb0b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x1015ba+_0x13e01e(0xadc)+new Date(_0x349abf['createdAt'])[_0x13e01e(0x369)](_0x13e01e(0x462))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x349abf['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x49ebfd?_0x13e01e(0x477):'')+_0x13e01e(0x9ea)+_0x349abf['id']+_0x13e01e(0x76d)+_0x349abf['projectName']+_0x13e01e(0xa60);});projectList[_0x5b9561(0xd3c)]=_0x1aec6c,noProjectsMsg[_0x5b9561(0x817)][_0x5b9561(0x2fc)]('hidden',_0x1aec6c[_0x5b9561(0xbc8)]>0x0);}document[_0x6a7885(0x52a)](_0x6a7885(0x427))[_0x6a7885(0x6dd)]('click',async()=>{const _0x4ead8c=_0x6a7885,_0x108ee9=document['getElementById'](_0x4ead8c(0x3dc)),_0x5d23aa=_0x108ee9[_0x4ead8c(0x3c4)][_0x4ead8c(0x797)]();if(!_0x5d23aa){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x54b0e3=doc(collection(db,_0x4ead8c(0x3c5)+appId+_0x4ead8c(0x880)));await setDoc(_0x54b0e3,{'projectName':_0x5d23aa,'students':[],'settings':{'resultsDisplay':_0x4ead8c(0xa40),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4ead8c(0x3a0),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4ead8c(0xb49)]()}),_0x108ee9[_0x4ead8c(0x3c4)]='',createProjectModal[_0x4ead8c(0x817)][_0x4ead8c(0x642)]('hidden'),showMessage(_0x4ead8c(0x5de));}catch(_0x485dfd){console[_0x4ead8c(0xc4f)](_0x4ead8c(0xda5),_0x485dfd),showMessage(_0x4ead8c(0x4fe));}}),projectList[_0x6a7885(0x6dd)](_0x6a7885(0x564),async _0x26dd28=>{const _0x2a5b8c=_0x6a7885,_0x553ab1=_0x26dd28[_0x2a5b8c(0x45d)][_0x2a5b8c(0xdda)](_0x2a5b8c(0xdb0)),_0x102a8c=_0x26dd28[_0x2a5b8c(0x45d)][_0x2a5b8c(0xdda)]('.delete-project-btn'),_0x4ab68a=_0x26dd28[_0x2a5b8c(0x45d)][_0x2a5b8c(0xdda)]('.pin-project-btn'),_0x47d17d=_0x26dd28[_0x2a5b8c(0x45d)][_0x2a5b8c(0xdda)](_0x2a5b8c(0xdf2));if(_0x4ab68a){const _0x2039dc=_0x4ab68a[_0x2a5b8c(0xba5)]['id'],_0x42f015=doc(db,_0x2a5b8c(0x3e0),_0x2a5b8c(0x798)),_0x552341=globalDashboardSettings[_0x2a5b8c(0x726)];let _0x148fc9;_0x552341[_0x2a5b8c(0x317)](_0x2039dc)?_0x148fc9=_0x552341['filter'](_0x4101ae=>_0x4101ae!==_0x2039dc):_0x148fc9=[..._0x552341,_0x2039dc];try{await setDoc(_0x42f015,{'pinnedProjects':_0x148fc9},{'merge':!![]});}catch(_0x47e9fa){console['error']('Error\x20updating\x20pin\x20status:',_0x47e9fa),showMessage(_0x2a5b8c(0x47f));}}else{if(_0x47d17d){const _0xd43e12=_0x47d17d[_0x2a5b8c(0xba5)]['id'];showColorPalette(_0x47d17d,_0xd43e12);}else{if(_0x553ab1){const _0x51e292=_0x553ab1[_0x2a5b8c(0xba5)]['id'];_0x51e292===_0x2a5b8c(0x83d)?showStarredProjectView():(currentProjectId=_0x51e292,await loadProjectDetails(currentProjectId),showView(_0x2a5b8c(0x298)));}else{if(_0x102a8c){const _0x2ce4d3=_0x102a8c[_0x2a5b8c(0xba5)]['id'],_0x18c93a=_0x102a8c['dataset'][_0x2a5b8c(0xae4)];showConfirmation(_0x2a5b8c(0x4ef)+_0x18c93a+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x2ce4d3));}}}}}),projectList[_0x6a7885(0x6dd)](_0x6a7885(0x309),_0x225422=>{const _0x132b04=_0x6a7885,_0x2a5c4c=_0x225422[_0x132b04(0x45d)][_0x132b04(0xdda)](_0x132b04(0x866));_0x2a5c4c&&_0x2a5c4c[_0x132b04(0x817)]['add'](_0x132b04(0x5cd));}),projectList[_0x6a7885(0x6dd)](_0x6a7885(0x63e),_0x239863=>{const _0x2c9b40=_0x6a7885,_0x192c1a=_0x239863[_0x2c9b40(0x45d)][_0x2c9b40(0xdda)](_0x2c9b40(0x866));_0x192c1a&&_0x192c1a[_0x2c9b40(0x817)][_0x2c9b40(0xb2b)]('opacity-50');}),projectList[_0x6a7885(0x6dd)](_0x6a7885(0x506),_0x411e20=>{const _0x2c675f=_0x6a7885;_0x411e20[_0x2c675f(0x306)]();const _0x579555=document[_0x2c675f(0x390)](_0x2c675f(0x8f3));if(!_0x579555)return;const _0x3da27e=getDragAfterElement(projectList,_0x411e20[_0x2c675f(0x553)]);_0x3da27e==null?projectList['appendChild'](_0x579555):projectList[_0x2c675f(0xc57)](_0x579555,_0x3da27e);}),projectList[_0x6a7885(0x6dd)](_0x6a7885(0xd51),_0x1e1f36=>{const _0x1850a1=_0x6a7885;_0x1e1f36[_0x1850a1(0x306)]();const _0x5c353d=[...projectList[_0x1850a1(0x7b3)](_0x1850a1(0xaf1))][_0x1850a1(0x8cc)](_0x41cca4=>_0x41cca4[_0x1850a1(0xba5)]['id']);saveProjectOrder(_0x5c353d);});function renderBehaviorLog(_0x50328b){const _0x42519a=_0x6a7885,_0x5ba16d=document[_0x42519a(0x52a)](_0x42519a(0x948));if(!_0x5ba16d)return;const _0x3f0a46=_0x50328b[_0x42519a(0xcae)](_0x20178b=>_0x20178b[_0x42519a(0x87b)]&&_0x20178b[_0x42519a(0x87b)]['length']>0x0);if(_0x3f0a46[_0x42519a(0xbc8)]===0x0){_0x5ba16d['innerHTML']=_0x42519a(0x7f0);return;}let _0x579530='';_0x3f0a46[_0x42519a(0x79a)](_0x3d93b2=>{const _0x1be10d=_0x42519a;_0x579530+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x3d93b2[_0x1be10d(0x7a5)]+_0x1be10d(0xd01),_0x3d93b2['behaviorLog']['sort']((_0x1dcc83,_0x548335)=>new Date(_0x548335[_0x1be10d(0x4c8)])-new Date(_0x1dcc83[_0x1be10d(0x4c8)]))[_0x1be10d(0x79a)](_0x561f2a=>{const _0x2095b3=_0x1be10d,_0x38909a=new Date(_0x561f2a[_0x2095b3(0x4c8)])['toLocaleString'](_0x2095b3(0x462),{'dateStyle':_0x2095b3(0x8df),'timeStyle':'medium'});_0x579530+=_0x2095b3(0xa5c)+_0x561f2a[_0x2095b3(0xb26)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x38909a+_0x2095b3(0xacf);}),_0x579530+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5ba16d[_0x42519a(0xd3c)]=_0x579530;}function getDragAfterElement(_0x5531be,_0x19830c){const _0x498121=_0x6a7885,_0x3b8ab3=[..._0x5531be['querySelectorAll'](_0x498121(0x515))];return _0x3b8ab3[_0x498121(0xb90)]((_0x34c1a8,_0x1f4bff)=>{const _0x4c6194=_0x498121,_0x3928bb=_0x1f4bff[_0x4c6194(0x940)](),_0x505016=_0x19830c-_0x3928bb[_0x4c6194(0xc3f)]-_0x3928bb[_0x4c6194(0x7a4)]/0x2;return _0x505016<0x0&&_0x505016>_0x34c1a8[_0x4c6194(0x505)]?{'offset':_0x505016,'element':_0x1f4bff}:_0x34c1a8;},{'offset':Number[_0x498121(0x669)]})[_0x498121(0x574)];}async function saveProjectOrder(_0x251bba){const _0x37175b=_0x6a7885,_0x5437d3=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x5437d3,{'projectOrder':_0x251bba},{'merge':!![]});}catch(_0x3aeb9e){console[_0x37175b(0xc4f)](_0x37175b(0xb4b),_0x3aeb9e),showMessage(_0x37175b(0xb44));}}async function logBehaviorEvent(_0x20e3b2,_0xffbaff={}){const _0x577bf6=_0x6a7885;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x577bf6(0xdd5)](_0x577bf6(0x7b5));return;}const _0x15b2ef=doc(db,_0x577bf6(0x3c5)+appId+_0x577bf6(0x5b0)+currentQuizData['id']+'/submissions',currentStudentName),_0x625c67={'event':_0x20e3b2,'timestamp':new Date()['toISOString'](),..._0xffbaff};try{await updateDoc(_0x15b2ef,{'behaviorLog':arrayUnion(_0x625c67)}),console[_0x577bf6(0xba9)](_0x577bf6(0x9e7)+currentStudentName+'\x20สำเร็จ');}catch(_0x2e9264){_0x2e9264['code']===_0x577bf6(0xc7f)?console[_0x577bf6(0xdd5)](_0x577bf6(0xc74)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x577bf6(0xc4f)](_0x577bf6(0xc65),_0x2e9264);}}function calculateMeanAndStdDev(_0x13cc69){const _0x324767=_0x6a7885;if(_0x13cc69[_0x324767(0xbc8)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x47e830=_0x13cc69[_0x324767(0xb90)]((_0x6bdbe6,_0x48a704)=>_0x6bdbe6+_0x48a704,0x0)/_0x13cc69[_0x324767(0xbc8)];if(_0x13cc69['length']===0x1)return{'mean':_0x47e830,'stdDev':0x0};const _0x58a5dd=Math[_0x324767(0x6d5)](_0x13cc69[_0x324767(0x8cc)](_0x57d32a=>Math['pow'](_0x57d32a-_0x47e830,0x2))[_0x324767(0xb90)]((_0x21fb1b,_0x36ba30)=>_0x21fb1b+_0x36ba30,0x0)/(_0x13cc69[_0x324767(0xbc8)]-0x1));return{'mean':_0x47e830,'stdDev':_0x58a5dd};}function calculateZScore(_0x19a7d1,_0xf164e7,_0x3cefb5){if(_0x3cefb5===0x0)return 0x0;return(_0x19a7d1-_0xf164e7)/_0x3cefb5;}function calculateTScore(_0x174d04){return 0xa*_0x174d04+0x32;}function showStarredProjectView(){const _0x3b9ab4=_0x6a7885;currentProjectId=_0x3b9ab4(0x659),currentProjectData=null,projectTitle['textContent']=_0x3b9ab4(0xafe),projectIdDisplay[_0x3b9ab4(0x675)]='pinned-items',showView(_0x3b9ab4(0x298)),manageTab[_0x3b9ab4(0x817)][_0x3b9ab4(0x642)]('hidden'),leaderboardTab[_0x3b9ab4(0x817)]['add'](_0x3b9ab4(0x68d)),switchProjectTab(_0x3b9ab4(0x2a7)),renderQuizzes();}async function loadProjectDetails(_0x5dbb98){const _0x1e0368=_0x6a7885,_0x42f3d5=doc(db,_0x1e0368(0x3c5)+appId+_0x1e0368(0x880),_0x5dbb98),_0x3a2777=await getDoc(_0x42f3d5);if(_0x3a2777['exists']()){manageTab[_0x1e0368(0x817)][_0x1e0368(0xb2b)](_0x1e0368(0x68d)),leaderboardTab[_0x1e0368(0x817)][_0x1e0368(0xb2b)](_0x1e0368(0x68d)),currentProjectData=_0x3a2777['data'](),projectTitle[_0x1e0368(0x675)]=currentProjectData[_0x1e0368(0xb0b)],projectIdDisplay[_0x1e0368(0x675)]=_0x5dbb98;const _0x112202=currentProjectData[_0x1e0368(0x727)]||{};document[_0x1e0368(0x52a)]('shuffle-setting-select')['value']=_0x112202[_0x1e0368(0x819)]||_0x1e0368(0x3a0);const _0x23e58a=document[_0x1e0368(0x52a)](_0x1e0368(0x4a2));_0x23e58a[_0x1e0368(0x9a3)]=_0x112202[_0x1e0368(0x552)]!==![];const _0x1e92f8=document[_0x1e0368(0x52a)](_0x1e0368(0x293)),_0x4a4fea=document['getElementById'](_0x1e0368(0x5ab)),_0x473727=document[_0x1e0368(0x52a)](_0x1e0368(0x282)),_0x1c981c=_0x112202[_0x1e0368(0x8a3)]||![];_0x1e92f8[_0x1e0368(0x9a3)]=_0x1c981c,_0x473727[_0x1e0368(0x3c4)]=_0x112202[_0x1e0368(0x81a)]||'',_0x4a4fea[_0x1e0368(0x817)]['toggle'](_0x1e0368(0x68d),!_0x1c981c),_0x1e92f8['onchange']=()=>{const _0x19f777=_0x1e0368;_0x4a4fea['classList'][_0x19f777(0x2fc)](_0x19f777(0x68d),!_0x1e92f8[_0x19f777(0x9a3)]);},document[_0x1e0368(0x52a)](_0x1e0368(0x91f))[_0x1e0368(0x9a3)]=_0x112202['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5dbb98),listenForProjectQuizzes(_0x5dbb98),listenForStudentProfiles(_0x5dbb98);}else showMessage('ไม่พบโปรเจค'),showView(_0x1e0368(0x69d));}async function handleResetProjectOrder(){const _0x385e69=_0x6a7885,_0x417101=doc(db,_0x385e69(0x3e0),_0x385e69(0x798));try{await setDoc(_0x417101,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x112565){console[_0x385e69(0xc4f)](_0x385e69(0x945),_0x112565),showMessage(_0x385e69(0x3bf));}}async function handleTogglePinProject(_0x5b004a){const _0x18d7fb=_0x6a7885;if(!_0x5b004a)return;const _0x5e69bb=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5b004a);try{const _0x143b3c=await getDoc(_0x5e69bb);if(_0x143b3c[_0x18d7fb(0xd3f)]()){const _0x2c7346=_0x143b3c[_0x18d7fb(0x36d)]()['isPinned']||![];await updateDoc(_0x5e69bb,{'isPinned':!_0x2c7346});}}catch(_0x6385aa){console[_0x18d7fb(0xc4f)]('Error\x20toggling\x20pin\x20status:',_0x6385aa),showMessage(_0x18d7fb(0x47f));}}async function handleDeleteProject(_0x568ef9){const _0x439369=_0x6a7885;try{const _0x1ddfc3=writeBatch(db),_0x1835f1=collection(db,'artifacts/'+appId+_0x439369(0x383)),_0x57a38d=query(_0x1835f1,where(_0x439369(0x94a),'==',_0x568ef9)),_0x5bf56f=await getDocs(_0x57a38d);for(const _0x44b922 of _0x5bf56f[_0x439369(0x3f3)]){const _0x361ec8=collection(db,_0x439369(0x3c5)+appId+_0x439369(0x5b0)+_0x44b922['id']+'/submissions'),_0x36ff64=await getDocs(_0x361ec8);_0x36ff64[_0x439369(0x79a)](_0x3ad6c6=>{const _0x51b19b=_0x439369;_0x1ddfc3[_0x51b19b(0x9e3)](_0x3ad6c6[_0x51b19b(0xb5c)]);}),_0x1ddfc3['delete'](_0x44b922[_0x439369(0xb5c)]);}const _0x3c4aeb=collection(db,_0x439369(0x3c5)+appId+_0x439369(0x3e7)+_0x568ef9+_0x439369(0x9c5)),_0x30945e=await getDocs(_0x3c4aeb);_0x30945e[_0x439369(0x79a)](_0x46b6be=>{const _0x49e70e=_0x439369;_0x1ddfc3[_0x49e70e(0x9e3)](_0x46b6be[_0x49e70e(0xb5c)]);});const _0x503b36=doc(db,_0x439369(0x3c5)+appId+_0x439369(0x880),_0x568ef9);_0x1ddfc3[_0x439369(0x9e3)](_0x503b36),await _0x1ddfc3[_0x439369(0x731)](),showMessage(_0x439369(0xcba)),showView(_0x439369(0x69d));}catch(_0x455d19){console['error']('Error\x20deleting\x20project:',_0x455d19),showMessage(_0x439369(0xaf9));}}document[_0x6a7885(0x52a)](_0x6a7885(0x627))[_0x6a7885(0x6dd)]('click',async()=>{const _0x2ddc5f=_0x6a7885;if(!currentProjectId)return;const _0x3d91ff={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')[_0x2ddc5f(0x3c4)]),'defaultNumChoices':parseInt(document[_0x2ddc5f(0x52a)](_0x2ddc5f(0x2cb))['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x2ddc5f(0xbea))['value']),'resultsDisplay':document['getElementById'](_0x2ddc5f(0xda0))[_0x2ddc5f(0x3c4)],'shuffleSetting':document[_0x2ddc5f(0x52a)](_0x2ddc5f(0x8ac))[_0x2ddc5f(0x3c4)],'timerMode':document['getElementById']('timer-mode-select')[_0x2ddc5f(0x3c4)],'timerDuration':parseInt(document['getElementById'](_0x2ddc5f(0x583))[_0x2ddc5f(0x3c4)]),'isConfidenceScoringEnabled':document[_0x2ddc5f(0x52a)](_0x2ddc5f(0x91f))[_0x2ddc5f(0x9a3)],'confidenceMode':document[_0x2ddc5f(0x52a)](_0x2ddc5f(0x22a))['value']};try{const _0x527b4f=doc(db,_0x2ddc5f(0x3c5)+appId+_0x2ddc5f(0x880),currentProjectId);await updateDoc(_0x527b4f,{'settings':_0x3d91ff}),showMessage(_0x2ddc5f(0xd43));}catch(_0x530861){console[_0x2ddc5f(0xc4f)](_0x2ddc5f(0x6d2),_0x530861),showMessage(_0x2ddc5f(0x27c));}});function listenForStudents(_0x29c1f9){const _0x421179=_0x6a7885,_0xc154e1=doc(db,_0x421179(0x3c5)+appId+_0x421179(0x880),_0x29c1f9);unsubscribeStudentsListener=onSnapshot(_0xc154e1,_0xb30ec5=>{const _0x4ebfdc=_0x421179;if(_0xb30ec5[_0x4ebfdc(0xd3f)]()){const _0x38babb=_0xb30ec5[_0x4ebfdc(0x36d)]();currentProjectData=_0x38babb,renderStudentList(_0x38babb[_0x4ebfdc(0x498)]||[]);}});}function renderStudentList(_0x30501b){const _0x1b1b6b=_0x6a7885,_0x5c26fd=document[_0x1b1b6b(0x52a)](_0x1b1b6b(0x9dd));_0x30501b['length']===0x0?(studentList['innerHTML']=_0x1b1b6b(0x777),_0x5c26fd[_0x1b1b6b(0x817)]['add'](_0x1b1b6b(0x68d))):(studentList[_0x1b1b6b(0xd3c)]=_0x30501b['map'](_0x35323f=>_0x1b1b6b(0x92a)+_0x35323f+_0x1b1b6b(0x46d)+_0x35323f+_0x1b1b6b(0x71e))[_0x1b1b6b(0x35d)](''),_0x5c26fd['classList'][_0x1b1b6b(0xb2b)]('hidden'));}document['getElementById']('add-student-btn')['addEventListener']('click',async()=>{const _0x455f67=_0x6a7885;if(!currentProjectId)return;const _0x336b94=document[_0x455f67(0x52a)]('student-name-input'),_0x1eefdd=_0x336b94[_0x455f67(0x3c4)]['trim']();if(!_0x1eefdd){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x498914=_0x1eefdd[_0x455f67(0x3c3)]('\x0a')[_0x455f67(0x8cc)](_0x47208e=>_0x47208e[_0x455f67(0x797)]())[_0x455f67(0xcae)](_0x21e4e0=>_0x21e4e0);if(_0x498914['length']===0x0)return;try{const _0x2ada99=doc(db,'artifacts/'+appId+_0x455f67(0x880),currentProjectId),_0x147f75=await getDoc(_0x2ada99);if(_0x147f75['exists']()){const _0x579fa6=_0x147f75['data']()['students']||[],_0x36684c=[...new Set([..._0x579fa6,..._0x498914])];await updateDoc(_0x2ada99,{'students':_0x36684c}),_0x336b94['value']='';}}catch(_0x4abf7b){console[_0x455f67(0xc4f)]('Error\x20adding\x20students:',_0x4abf7b),showMessage(_0x455f67(0x2ab));}});async function handleManualQuizPairing(_0x4337b4){const _0x3924ce=_0x6a7885,_0x2bf4ec=document[_0x3924ce(0x52a)](_0x3924ce(0x64c)),_0x1c94d1=document[_0x3924ce(0x52a)](_0x3924ce(0xa16)),_0x4617ed=_0x2bf4ec['querySelector']('h3'),_0x13f19d=document[_0x3924ce(0x52a)](_0x3924ce(0xbfa)),_0x141816=document[_0x3924ce(0x52a)](_0x3924ce(0x3fd));_0x4617ed[_0x3924ce(0x675)]='จับคู่เพื่อเปรียบเทียบผล',_0x1c94d1[_0x3924ce(0xd3c)]=_0x3924ce(0x53b),_0x13f19d[_0x3924ce(0x675)]=_0x3924ce(0x605),_0x2bf4ec[_0x3924ce(0x817)][_0x3924ce(0xb2b)](_0x3924ce(0x68d));const _0x8eb840=allQuizzes['filter'](_0x46b8d2=>_0x46b8d2['id']!==_0x4337b4);_0x8eb840[_0x3924ce(0xbc8)]===0x0?(_0x1c94d1[_0x3924ce(0xd3c)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x13f19d[_0x3924ce(0x459)]=!![]):(_0x1c94d1[_0x3924ce(0xd3c)]=_0x3924ce(0x6c6)+_0x8eb840[_0x3924ce(0x8cc)](_0x148786=>_0x3924ce(0xd63)+_0x148786['id']+'\x22>'+_0x148786[_0x3924ce(0x801)]+_0x3924ce(0x9a7))['join'](''),_0x13f19d[_0x3924ce(0x459)]=![]);const _0xc6ce5d=async()=>{const _0x10e7cf=_0x3924ce,_0x280dea=_0x1c94d1['value'];if(!_0x280dea){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x13f19d[_0x10e7cf(0x459)]=!![],_0x13f19d['textContent']=_0x10e7cf(0x318);try{const _0x460ce0=doc(db,_0x10e7cf(0x3c5)+appId+_0x10e7cf(0x383),_0x4337b4),_0x21b939=doc(db,_0x10e7cf(0x3c5)+appId+'/public/data/quizzes',_0x280dea),_0x8577f2=writeBatch(db);_0x8577f2[_0x10e7cf(0xad2)](_0x460ce0,{'pairedQuizId':_0x280dea}),_0x8577f2[_0x10e7cf(0xad2)](_0x21b939,{'pairedQuizId':_0x4337b4}),await _0x8577f2[_0x10e7cf(0x731)](),showMessage(_0x10e7cf(0xbbf)),_0x2bf4ec[_0x10e7cf(0x817)][_0x10e7cf(0x642)](_0x10e7cf(0x68d));}catch(_0x3ead96){console[_0x10e7cf(0xc4f)](_0x10e7cf(0x2c5),_0x3ead96),showMessage(_0x10e7cf(0xc75));}finally{_0x4617ed[_0x10e7cf(0x675)]=_0x10e7cf(0x441),_0x13f19d[_0x10e7cf(0x675)]=_0x10e7cf(0x6be),_0x13f19d[_0x10e7cf(0x459)]=![],_0x13f19d[_0x10e7cf(0x5b6)](_0x10e7cf(0x564),_0xc6ce5d),_0x141816[_0x10e7cf(0x5b6)](_0x10e7cf(0x564),_0x4732aa);}},_0x4732aa=()=>{const _0x56b697=_0x3924ce;_0x2bf4ec['classList'][_0x56b697(0x642)](_0x56b697(0x68d)),_0x4617ed[_0x56b697(0x675)]=_0x56b697(0x441),_0x13f19d[_0x56b697(0x675)]=_0x56b697(0x6be),_0x13f19d[_0x56b697(0x5b6)](_0x56b697(0x564),_0xc6ce5d),_0x141816[_0x56b697(0x5b6)](_0x56b697(0x564),_0x4732aa);};_0x13f19d[_0x3924ce(0x6dd)](_0x3924ce(0x564),_0xc6ce5d),_0x141816[_0x3924ce(0x6dd)](_0x3924ce(0x564),_0x4732aa);}function handleDeleteStudent(_0x18cc99){const _0x17d6ef=_0x6a7885;showConfirmation(_0x17d6ef(0x8ca)+_0x18cc99+_0x17d6ef(0x5fa),async()=>{const _0x300a79=_0x17d6ef;if(!currentProjectId||!currentProjectData)return;const _0x6813c1=currentProjectData[_0x300a79(0x498)][_0x300a79(0xcae)](_0x111a89=>_0x111a89!==_0x18cc99);try{const _0x40fa68=doc(db,'artifacts/'+appId+_0x300a79(0x880),currentProjectId),_0x1be319=doc(db,_0x300a79(0x3c5)+appId+_0x300a79(0x3e7)+currentProjectId+_0x300a79(0x9c5),_0x18cc99),_0x2fb53c=writeBatch(db);_0x2fb53c['update'](_0x40fa68,{'students':_0x6813c1}),_0x2fb53c['delete'](_0x1be319),await _0x2fb53c[_0x300a79(0x731)]();}catch(_0x5e6f96){console[_0x300a79(0xc4f)](_0x300a79(0xd49),_0x5e6f96),showMessage(_0x300a79(0x555));}});}function handleDeleteAllStudents(){const _0x22f5c5=_0x6a7885;showConfirmation(_0x22f5c5(0xb60),async()=>{const _0x5afe06=_0x22f5c5;if(!currentProjectId)return;try{const _0x3aefbb=doc(db,_0x5afe06(0x3c5)+appId+_0x5afe06(0x880),currentProjectId),_0x1a257a=collection(db,_0x5afe06(0x3c5)+appId+_0x5afe06(0x3e7)+currentProjectId+_0x5afe06(0x9c5)),_0xa11b3c=await getDocs(_0x1a257a),_0xd8b073=writeBatch(db);_0xd8b073['update'](_0x3aefbb,{'students':[]}),_0xa11b3c['forEach'](_0x2bb34e=>_0xd8b073['delete'](_0x2bb34e['ref'])),await _0xd8b073['commit']();}catch(_0x1b0c3b){console[_0x5afe06(0xc4f)](_0x5afe06(0x408),_0x1b0c3b),showMessage(_0x5afe06(0x93f));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x542b0e){const _0x28ef71=_0x6a7885,_0x296382=document[_0x28ef71(0x52a)]('file-topics-list-container'),_0x312493=document['getElementById']('file-topics-list');_0x296382[_0x28ef71(0x817)][_0x28ef71(0xb2b)](_0x28ef71(0x68d)),_0x312493[_0x28ef71(0xd3c)]=_0x28ef71(0x456);try{const _0x84cb69=new FileReader();_0x84cb69['readAsDataURL'](_0x542b0e),await new Promise((_0x470eff,_0x8bff9a)=>{const _0x252501=_0x28ef71;_0x84cb69[_0x252501(0xb87)]=()=>{const _0x4f0568=_0x252501;fileDataBase64=_0x84cb69[_0x4f0568(0xded)][_0x4f0568(0x3c3)](',')[0x1],fileMimeType=_0x542b0e[_0x4f0568(0x6c9)],_0x470eff();},_0x84cb69[_0x252501(0x1e0)]=_0x1d628e=>_0x8bff9a(_0x1d628e);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x55891c=_0x28ef71(0xd16),_0x28d51={'type':'OBJECT','properties':{'topics':{'type':_0x28ef71(0x3ad),'items':{'type':_0x28ef71(0xd50)}}},'required':[_0x28ef71(0xbdd)]},_0xe8547a=[{'text':_0x55891c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4b149a=await handleApiCall(_0xe8547a,_0x28ef71(0x27a),_0x28d51,null,![]);if(_0x4b149a&&_0x4b149a[_0x28ef71(0xbdd)])extractedFileTopics=_0x4b149a[_0x28ef71(0xbdd)],renderFileTopics();else throw new Error(_0x28ef71(0x61b));}catch(_0x424ad0){console['error'](_0x28ef71(0xb22),_0x424ad0),_0x312493['innerHTML']=_0x28ef71(0x5f4)+_0x424ad0[_0x28ef71(0xacb)]+_0x28ef71(0x52b);}}function renderFileTopics(){const _0x122652=_0x6a7885,_0x5805d0=document[_0x122652(0x52a)]('file-topics-list');if(extractedFileTopics['length']===0x0){_0x5805d0[_0x122652(0xd3c)]=_0x122652(0xd23);return;}_0x5805d0[_0x122652(0xd3c)]=extractedFileTopics[_0x122652(0x8cc)](_0x32ed46=>_0x122652(0x57d)+_0x32ed46+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x32ed46)+_0x122652(0xa01)+escape(_0x32ed46)+_0x122652(0x57e))[_0x122652(0x35d)]('');}async function generateHybridQuizForTopic(_0x331e08){const _0x407baf=_0x6a7885,_0x26792=parseInt(document['getElementById'](_0x407baf(0xb20))[_0x407baf(0x3c4)],0xa),_0x448f51=document[_0x407baf(0x52a)]('quiz-type-select')[_0x407baf(0x3c4)],_0x4f13ad=document[_0x407baf(0x52a)](_0x407baf(0x2cb))['value'],_0x5d4c6c=document[_0x407baf(0x52a)]('include-images-checkbox')[_0x407baf(0x9a3)],_0x368b84=_0x5d4c6c?_0x407baf(0x2d8):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x2e904b='',_0x1a953d;const _0x521577={'type':_0x407baf(0x342),'properties':{'questionText':{'type':_0x407baf(0xd50)},'options':{'type':_0x407baf(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x407baf(0xa4b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x407baf(0xd50)}},'required':['questionText',_0x407baf(0xd99),_0x407baf(0x7cc),_0x407baf(0x559)]},_0x31bf4c={'type':_0x407baf(0x342),'properties':{'questionText':{'type':_0x407baf(0xd50)},'correctAnswer':{'type':_0x407baf(0x6ef)},'explanation':{'type':_0x407baf(0xd50)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x407baf(0x559)]},_0x5476df={'type':_0x407baf(0x342),'properties':{'questionText':{'type':_0x407baf(0xd50)},'idealAnswer':{'type':_0x407baf(0xd50)},'explanation':{'type':_0x407baf(0xd50)},'imageCode':{'type':_0x407baf(0xd50)}},'required':[_0x407baf(0xc82),'idealAnswer',_0x407baf(0x559)]},_0x2aca16={'type':_0x407baf(0x342),'properties':{'questionType':{'type':_0x407baf(0xd50),'enum':[_0x407baf(0x747)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x407baf(0xd50)},'allResponses':{'type':_0x407baf(0x3ad),'items':{'type':_0x407baf(0xd50)}},'explanation':{'type':_0x407baf(0xd50)},'imageCode':{'type':_0x407baf(0xd50)}},'required':['questionType',_0x407baf(0xdbf),_0x407baf(0x573),_0x407baf(0xc0f),_0x407baf(0x559)]};switch(_0x448f51){case _0x407baf(0xa3b):_0x2e904b=_0x407baf(0xa19)+_0x4f13ad+_0x407baf(0x49e),_0x1a953d=_0x521577;break;case _0x407baf(0x3f6):_0x2e904b=_0x407baf(0xb07),_0x1a953d=_0x31bf4c;break;case _0x407baf(0xdd9):_0x2e904b=_0x407baf(0x2d4),_0x1a953d=_0x5476df;break;case'matching':_0x2e904b=_0x407baf(0x673),_0x1a953d=_0x2aca16;break;case'fill_in_with_choices':_0x2e904b=_0x407baf(0x27d)+_0x4f13ad+_0x407baf(0x49e),_0x1a953d=_0x521577;break;default:_0x2e904b=_0x407baf(0xa19)+_0x4f13ad+'\x20ตัวเลือก)',_0x1a953d=_0x521577;break;}const _0x18765f='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x55c9c7=document[_0x407baf(0x52a)](_0x407baf(0x845)),_0x36fe09=document[_0x407baf(0x52a)]('loader-text'),_0x4c9c13=document[_0x407baf(0x52a)]('generated-quiz-container');document[_0x407baf(0x52a)]('quiz-generation-area')['classList']['remove'](_0x407baf(0x68d)),_0x4c9c13[_0x407baf(0xd3c)]='',_0x55c9c7[_0x407baf(0x817)]['remove'](_0x407baf(0x68d)),_0x36fe09[_0x407baf(0x675)]=_0x407baf(0xb7d)+_0x331e08+_0x407baf(0x2d7)+_0x26792+'\x20ข้อ...';try{const _0xc1e358=_0x407baf(0xbb1),_0x148b2e=_0x407baf(0x66e)+_0x331e08+_0x407baf(0x952)+_0x26792+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x331e08+_0x407baf(0x80c)+_0x26792+_0x407baf(0x7fe)+_0x368b84+_0x407baf(0x75a)+_0x2e904b+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x18765f+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc1e358+_0x407baf(0xcd8)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xe0fe8a={'type':_0x407baf(0x342),'properties':{'topic':{'type':_0x407baf(0xd50)},'questions':{'type':_0x407baf(0x3ad),'items':_0x1a953d}},'required':['topic',_0x407baf(0x665)]},_0x555b84=[{'text':_0x148b2e},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x555b84,_0x407baf(0xb4e)+_0x331e08+_0x407baf(0x9ef),_0xe0fe8a);}catch(_0x2b4e4c){console['error'](_0x407baf(0x29b),_0x2b4e4c),showMessage(_0x407baf(0xc44)+_0x2b4e4c[_0x407baf(0xacb)]),_0x4c9c13['innerHTML']=_0x407baf(0xaac);}finally{_0x55c9c7[_0x407baf(0x817)]['add'](_0x407baf(0x68d));}}async function handleGenerateFromFileClick(){const _0x212b0b=_0x6a7885;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x2c5e51=document[_0x212b0b(0x52a)](_0x212b0b(0x845)),_0x4960f3=document[_0x212b0b(0x52a)](_0x212b0b(0x862)),_0x1be4fd=document['getElementById'](_0x212b0b(0x25a)),_0x1f73aa=document[_0x212b0b(0x52a)](_0x212b0b(0x235));_0x1f73aa[_0x212b0b(0x459)]=!![],document[_0x212b0b(0x52a)](_0x212b0b(0x4c2))['classList'][_0x212b0b(0xb2b)]('hidden'),_0x1be4fd[_0x212b0b(0xd3c)]='',_0x2c5e51[_0x212b0b(0x817)][_0x212b0b(0xb2b)](_0x212b0b(0x68d)),_0x4960f3[_0x212b0b(0x675)]=_0x212b0b(0x5b9);try{const _0x541ed8=await new Promise((_0x4fa52a,_0x4efa8a)=>{const _0x29e71e=_0x212b0b,_0x2d9dfa=new FileReader();_0x2d9dfa['readAsDataURL'](selectedFile),_0x2d9dfa[_0x29e71e(0xb87)]=()=>_0x4fa52a(_0x2d9dfa[_0x29e71e(0xded)][_0x29e71e(0x3c3)](',')[0x1]),_0x2d9dfa['onerror']=_0x314c6f=>_0x4efa8a(_0x314c6f);});await generateQuizFromFile(selectedFile[_0x212b0b(0x6c9)],_0x541ed8);}catch(_0x4d7292){console[_0x212b0b(0xc4f)](_0x212b0b(0xd9b),_0x4d7292),showMessage(_0x212b0b(0xd7b)+_0x4d7292[_0x212b0b(0xacb)]),_0x2c5e51['classList'][_0x212b0b(0x642)](_0x212b0b(0x68d)),_0x1f73aa[_0x212b0b(0x459)]=![];}}function autoFormatMath(_0x454687){const _0x7fb95b=_0x6a7885;if(typeof _0x454687!=='string'||!_0x454687)return _0x454687;const _0x56524e=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x165351=_0x454687[_0x7fb95b(0xb64)](_0x56524e,_0xbe93cd=>{return'$'+_0xbe93cd['trim']()+'$';});return _0x165351;}function sanitizeQuizData(_0x3bf49b){const _0xb5c3ad=_0x6a7885;if(!_0x3bf49b||!_0x3bf49b['questions'])return _0x3bf49b;const _0x1a7781={'imes':_0xb5c3ad(0x767),'div':_0xb5c3ad(0xa5a)},_0x4d3b20=_0x5e9dbb=>{const _0x519432=_0xb5c3ad;if(typeof _0x5e9dbb!==_0x519432(0xdef))return _0x5e9dbb;let _0x133de4=_0x5e9dbb;for(const [_0x9ceb57,_0x5024c9]of Object[_0x519432(0x7e6)](_0x1a7781)){const _0x334b98=new RegExp('\x5cb'+_0x9ceb57+'\x5cb','g');_0x133de4=_0x133de4['replace'](_0x334b98,_0x5024c9);}return _0x133de4=_0x133de4[_0x519432(0xb64)](/\\\//g,_0x519432(0xa5a)),_0x133de4=_0x133de4[_0x519432(0xb64)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x519432(0xa5a))[_0x519432(0xb64)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x519432(0x767))[_0x519432(0xb64)](/÷/g,'\x5cdiv')[_0x519432(0xb64)](/×/g,'\x5ctimes'),_0x133de4=_0x133de4[_0x519432(0xb64)](/(\d)(\\frac)/g,_0x519432(0x89d)),_0x133de4=autoFormatMath(_0x133de4),_0x133de4;};return _0x3bf49b['topic']&&(_0x3bf49b[_0xb5c3ad(0x801)]=_0x4d3b20(_0x3bf49b[_0xb5c3ad(0x801)])),_0x3bf49b[_0xb5c3ad(0x665)][_0xb5c3ad(0x79a)](_0x37658c=>{const _0x28c360=_0xb5c3ad;_0x37658c[_0x28c360(0xc82)]=_0x4d3b20(_0x37658c[_0x28c360(0xc82)]),_0x37658c[_0x28c360(0xd99)]&&(_0x37658c[_0x28c360(0xd99)]=_0x37658c[_0x28c360(0xd99)][_0x28c360(0x8cc)](_0x4d3b20)),_0x37658c[_0x28c360(0x559)]&&(_0x37658c[_0x28c360(0x559)]=_0x4d3b20(_0x37658c[_0x28c360(0x559)])),_0x37658c['stem']&&(_0x37658c['stem']=_0x4d3b20(_0x37658c['stem'])),_0x37658c[_0x28c360(0x573)]&&(_0x37658c['correctResponse']=_0x4d3b20(_0x37658c[_0x28c360(0x573)])),_0x37658c['allResponses']&&(_0x37658c['allResponses']=_0x37658c[_0x28c360(0xc0f)]['map'](_0x4d3b20));}),_0x3bf49b;}const simpleMathPrompt=_0x6a7885(0x3b3);async function handleGenerateFromLink(){const _0x33d0bc=_0x6a7885,_0x5c9ea1=document['getElementById'](_0x33d0bc(0xccd)),_0x335786=document[_0x33d0bc(0x52a)]('link-topic-input'),_0x3ba48f=_0x5c9ea1[_0x33d0bc(0x3c4)][_0x33d0bc(0x797)](),_0x5673f9=_0x335786[_0x33d0bc(0x3c4)][_0x33d0bc(0x797)]();if(!_0x3ba48f){showMessage(_0x33d0bc(0xc6e));return;}const _0x13ca9a=document[_0x33d0bc(0x52a)](_0x33d0bc(0x845)),_0x5a5e27=document[_0x33d0bc(0x52a)](_0x33d0bc(0x862)),_0x1944c5=document[_0x33d0bc(0x52a)](_0x33d0bc(0x25a)),_0x3da195=document[_0x33d0bc(0x52a)](_0x33d0bc(0xd26));document[_0x33d0bc(0x52a)](_0x33d0bc(0x4c2))[_0x33d0bc(0x817)][_0x33d0bc(0xb2b)]('hidden'),_0x1944c5[_0x33d0bc(0xd3c)]='',_0x13ca9a['classList'][_0x33d0bc(0xb2b)]('hidden'),_0x5a5e27[_0x33d0bc(0x675)]=_0x33d0bc(0x9eb),_0x3da195[_0x33d0bc(0x459)]=!![];try{const _0x553cc4=_0x33d0bc(0x4e6)+encodeURIComponent(_0x3ba48f),_0x25f7c4=await fetch(_0x553cc4);if(!_0x25f7c4['ok'])throw new Error(_0x33d0bc(0xb19)+_0x25f7c4[_0x33d0bc(0xc96)]+')');const _0x4b2db8=await _0x25f7c4['text'](),_0x2c8925=extractTextFromHtml(_0x4b2db8);if(!_0x2c8925||_0x2c8925[_0x33d0bc(0xbc8)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x5673f9,_0x2c8925);}catch(_0x4b6f8b){console[_0x33d0bc(0xc4f)](_0x33d0bc(0x931),_0x4b6f8b),showMessage(_0x33d0bc(0xc44)+_0x4b6f8b[_0x33d0bc(0xacb)]),_0x1944c5['innerHTML']=_0x33d0bc(0x2a5);}finally{_0x13ca9a['classList']['add'](_0x33d0bc(0x68d)),_0x3da195[_0x33d0bc(0x459)]=![];}}function extractTextFromHtml(_0x6be44f){const _0x168246=_0x6a7885,_0x5c7e67=new DOMParser()[_0x168246(0x51a)](_0x6be44f,_0x168246(0x8b9));return _0x5c7e67[_0x168246(0x7b3)](_0x168246(0xdbb))[_0x168246(0x79a)](_0x468396=>_0x468396[_0x168246(0xb2b)]()),_0x5c7e67[_0x168246(0x1ed)][_0x168246(0x675)]||'';}document[_0x6a7885(0x52a)](_0x6a7885(0x220))['addEventListener']('click',()=>{const _0x7e77b0=_0x6a7885,_0x2a7769=document[_0x7e77b0(0x52a)](_0x7e77b0(0xad1))[_0x7e77b0(0x3c4)]['trim']();generateQuiz(_0x2a7769,null);}),document[_0x6a7885(0x52a)](_0x6a7885(0x67a))['addEventListener'](_0x6a7885(0x564),()=>{const _0x55a598=_0x6a7885,_0x31a380=document[_0x55a598(0x52a)](_0x55a598(0x33a))['value'][_0x55a598(0x797)]();if(!_0x31a380){showMessage(_0x55a598(0x668));return;}const _0x969df7=document[_0x55a598(0x52a)](_0x55a598(0xad1))[_0x55a598(0x3c4)][_0x55a598(0x797)]();generateQuiz(_0x969df7,_0x31a380);});async function generateQuiz(_0x2bd357,_0x1aa0a3,_0x36c606=null,_0x4877e3=null,_0x3aa4fc=![],_0x187602=null,_0x2b463f=null,_0x55185d=![]){const _0x13ea6b=_0x6a7885;let _0xdcc53d={};if(_0x3aa4fc&&blueprintPageSettings)_0xdcc53d=blueprintPageSettings;else{const _0x594bd6=document[_0x13ea6b(0x7b3)]('#math-topics-checkbox-container\x20input:checked');_0xdcc53d={'quizType':document[_0x13ea6b(0x52a)](_0x13ea6b(0x1ff))[_0x13ea6b(0x3c4)],'numQuestions':document[_0x13ea6b(0x52a)]('num-questions')['value'],'numChoices':document[_0x13ea6b(0x52a)](_0x13ea6b(0x2cb))['value'],'includeImages':document['getElementById'](_0x13ea6b(0x78c))[_0x13ea6b(0x9a3)],'isNormalTopic':document['getElementById'](_0x13ea6b(0xbeb))[_0x13ea6b(0x9a3)],'difficultyValue':document[_0x13ea6b(0x52a)](_0x13ea6b(0xc08))['value'],'complexityValue':document[_0x13ea6b(0x52a)](_0x13ea6b(0x5a9))[_0x13ea6b(0x3c4)],'selectedTopicNames':Array[_0x13ea6b(0x568)](_0x594bd6)[_0x13ea6b(0x8cc)](_0x4bdc52=>_0x4bdc52[_0x13ea6b(0x3c4)])};}const _0x3c6a8e=_0xdcc53d[_0x13ea6b(0x21f)]?'':_0x13ea6b(0x60d),_0x2517fc=_0xdcc53d[_0x13ea6b(0x40e)]!=='auto'?_0x13ea6b(0xd1b)+_0xdcc53d['difficultyValue']+'\x22':'',_0x36ce2c=_0xdcc53d[_0x13ea6b(0x554)]!==_0x13ea6b(0x311)?_0x13ea6b(0x373)+_0xdcc53d[_0x13ea6b(0x554)]+_0x13ea6b(0xb73):'';let _0x355c8c='';_0xdcc53d[_0x13ea6b(0x672)]&&_0xdcc53d[_0x13ea6b(0x672)]['length']>0x0&&(_0x355c8c=_0x13ea6b(0x752)+_0xdcc53d[_0x13ea6b(0x672)]['join'](',\x20')+'.');let _0x4f3a3f='';_0x4877e3&&(_0x4f3a3f=_0x13ea6b(0x5ef));let _0x9fcc55='',_0x2c1029='',_0x2e31da,_0x438a02=_0x13ea6b(0x3da)+_0x2bd357+'\x22';if(!_0x2bd357&&_0x1aa0a3)_0x438a02=_0x13ea6b(0xdc1);else!_0x2bd357&&!_0x1aa0a3&&(_0x438a02=_0x13ea6b(0xbf1));const _0x178f1a={'type':_0x13ea6b(0x342),'properties':{'questionText':{'type':_0x13ea6b(0xd50)},'options':{'type':'ARRAY','items':{'type':_0x13ea6b(0xd50)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':_0x13ea6b(0xd50)}},'required':[_0x13ea6b(0xc82),'options',_0x13ea6b(0x7cc),_0x13ea6b(0x559)]},_0x2bae9f={'type':_0x13ea6b(0x342),'properties':{'questionText':{'type':_0x13ea6b(0xd50)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':'STRING'}},'required':[_0x13ea6b(0xc82),'idealAnswer',_0x13ea6b(0x559)]},_0x373241={'type':_0x13ea6b(0x342),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x13ea6b(0xd50),'enum':[_0x13ea6b(0xa3b),_0x13ea6b(0x247)]},'options':{'type':_0x13ea6b(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x13ea6b(0xa4b)},'idealAnswer':{'type':_0x13ea6b(0xd50)},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':_0x13ea6b(0xd50)}},'required':['questionText',_0x13ea6b(0x8c1),_0x13ea6b(0x559)]},_0xbf0829={'type':_0x13ea6b(0x342),'properties':{'questionText':{'type':_0x13ea6b(0xd50)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':_0x13ea6b(0xd50)}},'required':[_0x13ea6b(0xc82),'correctAnswer',_0x13ea6b(0x559)]},_0x49ce85={'type':_0x13ea6b(0x342),'properties':{'questionType':{'type':_0x13ea6b(0xd50),'enum':[_0x13ea6b(0x747)]},'stem':{'type':_0x13ea6b(0xd50)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x13ea6b(0x3ad),'items':{'type':_0x13ea6b(0xd50)}},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':'STRING'}},'required':[_0x13ea6b(0x8c1),_0x13ea6b(0xdbf),_0x13ea6b(0x573),_0x13ea6b(0xc0f),'explanation']};let _0x44c2c9;if(_0x36c606!==null){const _0x284d5e=currentQuizData[_0x13ea6b(0x665)][_0x36c606]['questionType'],_0x2ac6fa=_0xdcc53d[_0x13ea6b(0x393)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x9fcc55=_0x13ea6b(0x791)+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+_0x13ea6b(0x963)+_0x2ac6fa+'\x20'+simpleMathPrompt;if(_0x284d5e===_0x13ea6b(0xa3b))_0x2e31da=_0x178f1a;else{if(_0x284d5e==='matching_item')_0x2e31da={'type':_0x13ea6b(0x342),'properties':{'questionType':{'type':_0x13ea6b(0xd50),'enum':['matching_item']},'stem':{'type':_0x13ea6b(0xd50)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x13ea6b(0xd50)},'imageCode':{'type':_0x13ea6b(0xd50)}},'required':[_0x13ea6b(0x8c1),_0x13ea6b(0xdbf),_0x13ea6b(0x573),_0x13ea6b(0x559)]};else _0x2e31da=_0x2bae9f;}_0x44c2c9=_0x2e31da;}else{const _0x5522cd=_0xdcc53d[_0x13ea6b(0x393)]?_0x13ea6b(0x2c9):'';switch(_0xdcc53d[_0x13ea6b(0xafb)]){case _0x13ea6b(0xa3b):_0x9fcc55=_0x13ea6b(0x881)+_0x3c6a8e+'\x20'+_0xdcc53d[_0x13ea6b(0x611)]+_0x13ea6b(0xd70)+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+_0x13ea6b(0x2c1)+_0xdcc53d['numChoices']+_0x13ea6b(0x482)+_0x5522cd+'\x20'+simpleMathPrompt,_0x2e31da=_0x178f1a;break;case _0x13ea6b(0x3a3):_0x9fcc55=_0x13ea6b(0x965)+_0x3c6a8e+'\x20'+_0xdcc53d[_0x13ea6b(0x611)]+'\x20ข้อ\x20'+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+_0x13ea6b(0x5a1)+_0xdcc53d[_0x13ea6b(0x1c8)]+_0x13ea6b(0xcc9)+_0x5522cd+'\x20'+simpleMathPrompt,_0x2e31da=_0x178f1a;break;case _0x13ea6b(0xdd9):_0x9fcc55=_0x13ea6b(0x965)+_0x3c6a8e+'\x20'+_0xdcc53d[_0x13ea6b(0x611)]+'\x20ข้อ\x20'+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5522cd+'\x20'+simpleMathPrompt,_0x2e31da=_0x2bae9f;break;case'mixed':_0x9fcc55=_0x13ea6b(0x508)+_0x3c6a8e+'\x20'+_0xdcc53d[_0x13ea6b(0x611)]+'\x20ข้อ\x20'+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+_0x13ea6b(0xc8b)+_0xdcc53d['numChoices']+_0x13ea6b(0x5d1)+_0x5522cd+'\x20'+simpleMathPrompt+'.',_0x2e31da=_0x373241;break;case _0x13ea6b(0x3f6):_0x9fcc55=_0x13ea6b(0x932)+_0x3c6a8e+'\x20'+_0xdcc53d['numQuestions']+_0x13ea6b(0xd70)+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+_0x13ea6b(0x44c)+_0x5522cd+'\x20'+simpleMathPrompt,_0x2e31da=_0xbf0829;break;case'matching':_0x9fcc55=_0x13ea6b(0xbd0)+_0x3c6a8e+'\x20'+_0xdcc53d[_0x13ea6b(0x611)]+_0x13ea6b(0xb84)+_0x438a02+'\x20'+_0x355c8c+'\x20'+_0x2517fc+'\x20'+_0x36ce2c+'\x20'+_0x4f3a3f+_0x13ea6b(0x648)+_0x5522cd+'\x20'+simpleMathPrompt,_0x2e31da=_0x49ce85;break;}_0x44c2c9={'type':_0x13ea6b(0x342),'properties':{'topic':{'type':_0x13ea6b(0xd50)},'questions':{'type':_0x13ea6b(0x3ad),'items':_0x2e31da}},'required':[_0x13ea6b(0x801),_0x13ea6b(0x665)]};}const _0x32a3a0=_0x13ea6b(0xb3d);_0x1aa0a3?(_0x55185d?_0x9fcc55=_0x13ea6b(0xcee)+_0x1aa0a3+'\x22,\x20'+_0x9fcc55+_0x32a3a0:_0x9fcc55=_0x13ea6b(0xcee)+_0x1aa0a3+_0x13ea6b(0x26f)+_0x9fcc55,_0x2c1029=_0x13ea6b(0xaf0)):(_0x55185d&&(_0x9fcc55+=_0x32a3a0),_0x2c1029='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x3c682c;return _0x4877e3?(_0x3c682c=[{'text':_0x9fcc55},..._0x4877e3],_0x2c1029=_0x13ea6b(0x9c6)):_0x3c682c=_0x9fcc55,handleApiCall(_0x3c682c,_0x2c1029,_0x44c2c9,_0x36c606,!![],_0x187602,_0x2b463f);}async function generateQuizFromFile(_0x3150a9,_0x1d8489){const _0x853edb=_0x6a7885,_0x463754=document[_0x853edb(0x52a)](_0x853edb(0x939))[_0x853edb(0x3c4)][_0x853edb(0x797)](),_0x1e36a0=document['getElementById'](_0x853edb(0x1ff))[_0x853edb(0x3c4)],_0x12617a=document[_0x853edb(0x52a)](_0x853edb(0xb20))[_0x853edb(0x3c4)],_0x5c0e57=document[_0x853edb(0x52a)]('num-choices')[_0x853edb(0x3c4)],_0x2607e5=document[_0x853edb(0x52a)]('include-images-checkbox')[_0x853edb(0x9a3)],_0x42cfd3=document['getElementById'](_0x853edb(0xbeb))['checked'],_0x29bb1d=_0x42cfd3?'':_0x853edb(0x60d),_0x310227=document[_0x853edb(0x52a)](_0x853edb(0x460))['checked'];let _0x4739ef='',_0x5224bb;const _0x53adba=_0x2607e5?_0x853edb(0x2c9):'';if(_0x310227)_0x4739ef=_0x853edb(0x9bd)+_0x53adba+'\x0a'+simpleMathPrompt+'\x0a',_0x5224bb={'type':_0x853edb(0x342),'properties':{'questionText':{'type':_0x853edb(0xd50)},'questionType':{'type':'STRING','enum':[_0x853edb(0xa3b),_0x853edb(0x247),_0x853edb(0x3f6),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x853edb(0xd50)}},'correctAnswerIndex':{'type':_0x853edb(0xa4b)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x853edb(0x6ef)},'stem':{'type':_0x853edb(0xd50)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x853edb(0xd50)}},'explanation':{'type':_0x853edb(0xd50)},'imageCode':{'type':_0x853edb(0xd50)}},'required':['questionType',_0x853edb(0x559)]};else{let _0x1cf180=_0x853edb(0x3da)+_0x463754+'\x22';!_0x463754&&(_0x1cf180=_0x853edb(0x2b4));switch(_0x1e36a0){case'multiple_choice':_0x4739ef='สร้างแบบทดสอบปรนัย'+_0x29bb1d+'\x20'+_0x12617a+'\x20ข้อ\x20'+_0x1cf180+_0x853edb(0x2c1)+_0x5c0e57+_0x853edb(0x482)+_0x53adba+'\x20'+simpleMathPrompt,_0x5224bb={'type':_0x853edb(0x342),'properties':{'questionText':{'type':_0x853edb(0xd50)},'options':{'type':_0x853edb(0x3ad),'items':{'type':_0x853edb(0xd50)}},'correctAnswerIndex':{'type':_0x853edb(0xa4b)},'explanation':{'type':_0x853edb(0xd50)},'imageCode':{'type':_0x853edb(0xd50)}},'required':[_0x853edb(0xc82),'options',_0x853edb(0x7cc),_0x853edb(0x559)]};break;case _0x853edb(0x3a3):_0x4739ef=_0x853edb(0x965)+_0x29bb1d+'\x20'+_0x12617a+_0x853edb(0xd70)+_0x1cf180+_0x853edb(0x5a1)+_0x5c0e57+_0x853edb(0xcc9)+_0x53adba+'\x20'+simpleMathPrompt,_0x5224bb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x853edb(0x3ad),'items':{'type':_0x853edb(0xd50)}},'correctAnswerIndex':{'type':_0x853edb(0xa4b)},'explanation':{'type':_0x853edb(0xd50)},'imageCode':{'type':_0x853edb(0xd50)}},'required':['questionText',_0x853edb(0xd99),_0x853edb(0x7cc),_0x853edb(0x559)]};break;case _0x853edb(0xdd9):_0x4739ef=_0x853edb(0x965)+_0x29bb1d+'\x20'+_0x12617a+_0x853edb(0xd70)+_0x1cf180+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x53adba+'\x20'+simpleMathPrompt,_0x5224bb={'type':'OBJECT','properties':{'questionText':{'type':_0x853edb(0xd50)},'idealAnswer':{'type':_0x853edb(0xd50)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x853edb(0xd50)}},'required':[_0x853edb(0xc82),_0x853edb(0x2fd),_0x853edb(0x559)]};break;case _0x853edb(0x311):_0x4739ef=_0x853edb(0x508)+_0x29bb1d+'\x20'+_0x12617a+_0x853edb(0xd70)+_0x1cf180+_0x853edb(0x316)+_0x5c0e57+_0x853edb(0x6ac)+_0x53adba+'\x20'+simpleMathPrompt+_0x853edb(0xaf2),_0x5224bb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x853edb(0xa3b),_0x853edb(0x247)]},'options':{'type':_0x853edb(0x3ad),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x853edb(0xa4b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x853edb(0x8c1),_0x853edb(0x559)]};break;case _0x853edb(0x3f6):_0x4739ef=_0x853edb(0x932)+_0x29bb1d+'\x20'+_0x12617a+_0x853edb(0xd70)+_0x1cf180+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x53adba+'\x20'+simpleMathPrompt,_0x5224bb={'type':_0x853edb(0x342),'properties':{'questionText':{'type':_0x853edb(0xd50)},'correctAnswer':{'type':_0x853edb(0x6ef)},'explanation':{'type':_0x853edb(0xd50)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer','explanation']};break;case _0x853edb(0x957):_0x4739ef=_0x853edb(0xbd0)+_0x29bb1d+'\x20'+_0x12617a+_0x853edb(0xb84)+_0x1cf180+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x12617a+_0x853edb(0xba1)+_0x53adba+'\x20'+simpleMathPrompt,_0x5224bb={'type':_0x853edb(0x342),'properties':{'questionType':{'type':'STRING','enum':[_0x853edb(0x747)]},'stem':{'type':_0x853edb(0xd50)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x853edb(0x3ad),'items':{'type':'STRING'}},'explanation':{'type':_0x853edb(0xd50)},'imageCode':{'type':'STRING'}},'required':[_0x853edb(0x8c1),'stem','correctResponse',_0x853edb(0xc0f),'explanation']};break;}}const _0x4f8e22={'type':_0x853edb(0x342),'properties':{'topic':{'type':_0x853edb(0xd50)},'questions':{'type':_0x853edb(0x3ad),'items':_0x5224bb}},'required':[_0x853edb(0x801),'questions']},_0x136bc3=_0x853edb(0x90d)+_0x4739ef,_0x598d91={'contents':[{'parts':[{'text':_0x136bc3},{'inlineData':{'mimeType':_0x3150a9,'data':_0x1d8489}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4f8e22}};return handleApiCall(_0x598d91[_0x853edb(0x4fa)][0x0][_0x853edb(0xdb5)],_0x853edb(0x4b0),_0x4f8e22);}async function handleApiCall(_0x5564fe,_0x2c4a25,_0x123b1c,_0x2291ac=null,_0x2f22bc=!![],_0x202323=null,_0x36fffb=null){const _0x5c181c=_0x6a7885,_0x2166f9=document['getElementById'](_0x5c181c(0x4c2)),_0x46de5a=document[_0x5c181c(0x52a)](_0x5c181c(0x845)),_0x5707d3=document[_0x5c181c(0x52a)](_0x5c181c(0x862)),_0x4536d4=document[_0x5c181c(0x52a)](_0x5c181c(0x25a));_0x2166f9[_0x5c181c(0x817)][_0x5c181c(0xb2b)]('hidden');_0x2291ac===null&&_0x2f22bc&&(_0x4536d4['innerHTML']='');_0x46de5a[_0x5c181c(0x817)][_0x5c181c(0xb2b)](_0x5c181c(0x68d)),_0x5707d3['textContent']=_0x2c4a25,document['getElementById'](_0x5c181c(0x220))[_0x5c181c(0x459)]=!![],document[_0x5c181c(0x52a)](_0x5c181c(0x67a))[_0x5c181c(0x459)]=!![],document[_0x5c181c(0x52a)](_0x5c181c(0xd26))[_0x5c181c(0x459)]=!![];const _0x2a0aed=document[_0x5c181c(0x52a)](_0x5c181c(0x235));if(_0x2a0aed)_0x2a0aed[_0x5c181c(0x459)]=!![];const _0x55de97=document['getElementById'](_0x5c181c(0x99c));if(_0x55de97)_0x55de97['disabled']=!![];const _0xb4c94b=document['getElementById'](_0x5c181c(0x902));if(_0xb4c94b)_0xb4c94b[_0x5c181c(0x459)]=!![];try{const _0x316c2c=Array[_0x5c181c(0xcd4)](_0x5564fe)?_0x5564fe:[{'text':_0x5564fe}],_0x208c1e={'contents':[{'role':_0x5c181c(0x6a2),'parts':_0x316c2c}]};_0x123b1c&&(_0x208c1e[_0x5c181c(0x450)]={'responseMimeType':_0x5c181c(0x5f8),'responseSchema':_0x123b1c});const _0xd9c99c=_0x5c181c(0x5d9),_0x33d4cc=_0x5c181c(0x3df)+_0xd9c99c,_0x529dba=await fetch(_0x33d4cc,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x5c181c(0x20d)](_0x208c1e)});if(!_0x529dba['ok']){const _0x2a99be=await _0x529dba[_0x5c181c(0xc1c)]();console[_0x5c181c(0xc4f)](_0x5c181c(0x2cd),_0x2a99be);throw new Error(_0x5c181c(0x1f5)+_0x529dba['status']);}const _0x5f4d6c=await _0x529dba['json']();if(!_0x5f4d6c[_0x5c181c(0x49d)]||_0x5f4d6c[_0x5c181c(0x49d)]['length']===0x0){let _0x196695=_0x5c181c(0x987);return _0x5f4d6c['promptFeedback']?.[_0x5c181c(0xb72)]&&(_0x196695=_0x5c181c(0xc87)+_0x5f4d6c[_0x5c181c(0x6d4)][_0x5c181c(0xb72)]+'.'),console[_0x5c181c(0xc4f)](_0x196695,JSON[_0x5c181c(0x20d)](_0x5f4d6c)),null;}const _0x53a09d=_0x5f4d6c[_0x5c181c(0x49d)][0x0]['content'][_0x5c181c(0xdb5)][0x0]['text'];if(_0x123b1c){let _0x12606d=_0x53a09d;if(_0x12606d[_0x5c181c(0xa13)](_0x5c181c(0xaaf)))_0x12606d=_0x12606d['substring'](0x7,_0x12606d[_0x5c181c(0xbc8)]-0x3)[_0x5c181c(0x797)]();else _0x12606d[_0x5c181c(0xa13)](_0x5c181c(0xb82))&&(_0x12606d=_0x12606d[_0x5c181c(0xac1)](0x3,_0x12606d[_0x5c181c(0xbc8)]-0x3)[_0x5c181c(0x797)]());let _0x49ef21=JSON[_0x5c181c(0x975)](_0x12606d);if(_0x2f22bc){if(_0x2291ac!==null){}else currentQuizData=_0x49ef21,displayGeneratedQuiz(currentQuizData,_0x202323,_0x36fffb);}return _0x49ef21;}else return _0x53a09d;}catch(_0x37d337){console[_0x5c181c(0xc4f)](_0x5c181c(0x35a),_0x37d337),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x37d337[_0x5c181c(0xacb)]);_0x2f22bc&&(_0x4536d4['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x37d337;}finally{_0x46de5a[_0x5c181c(0x817)][_0x5c181c(0x642)](_0x5c181c(0x68d)),document[_0x5c181c(0x52a)](_0x5c181c(0x220))[_0x5c181c(0x459)]=![],document[_0x5c181c(0x52a)](_0x5c181c(0x67a))['disabled']=![],document[_0x5c181c(0x52a)](_0x5c181c(0xd26))[_0x5c181c(0x459)]=![];if(_0x2a0aed)_0x2a0aed['disabled']=![];if(_0x55de97)_0x55de97[_0x5c181c(0x459)]=![];if(_0xb4c94b)_0xb4c94b[_0x5c181c(0x459)]=![];}}function exitFullscreen(){const _0xc86e05=_0x6a7885;if(document[_0xc86e05(0xdaa)])document[_0xc86e05(0xdaa)]()[_0xc86e05(0x6a4)](_0x19b5fd=>console[_0xc86e05(0xc4f)](_0x19b5fd));else{if(document[_0xc86e05(0x1f6)])document[_0xc86e05(0x1f6)]();else document[_0xc86e05(0x438)]&&document[_0xc86e05(0x438)]();}}function enterFullscreen(){const _0x5d1bde=_0x6a7885,_0x13bfe6=document[_0x5d1bde(0x54a)];if(_0x13bfe6['requestFullscreen'])_0x13bfe6[_0x5d1bde(0x87a)]()[_0x5d1bde(0x6a4)](_0x504a2e=>{const _0x45911b=_0x5d1bde;console[_0x45911b(0xc4f)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x504a2e[_0x45911b(0xacb)]+'\x20('+_0x504a2e[_0x45911b(0xae4)]+')');});else{if(_0x13bfe6[_0x5d1bde(0xd87)])_0x13bfe6['webkitRequestFullscreen']();else _0x13bfe6['msRequestFullscreen']&&_0x13bfe6[_0x5d1bde(0x984)]();}}function handleCheatingEvent(){const _0xc40c67=_0x6a7885;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xc40c67(0x426)+maxCheatAttempts+_0xc40c67(0xa6b)),document[_0xc40c67(0x52a)](_0xc40c67(0x212))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0xc40c67(0x5b6)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x23bdbf=_0x6a7885;if(currentMode===_0x23bdbf(0x6bb)||!isQuizActive)return;if(document[_0x23bdbf(0x335)]===_0x23bdbf(0x68d))handleCheatingEvent();else document['visibilityState']==='visible'&&(console['log'](_0x23bdbf(0x24a)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x550aeb=_0x6a7885;if(currentMode===_0x550aeb(0x6bb)||!isQuizActive)return;!document[_0x550aeb(0x978)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5dc3c6,_0xdedf04=null,_0xb083ce=null){const _0x552b19=_0x6a7885,_0x24324e=document[_0x552b19(0x52a)](_0x552b19(0x25a));let _0x5a1135=_0x552b19(0x2dc)+_0x5dc3c6['topic']+_0x552b19(0xc4a);_0x5dc3c6[_0x552b19(0x665)]['forEach']((_0x3c90f4,_0x22dd32)=>{const _0xa3b415=_0x552b19;!_0x3c90f4['id']&&(_0x3c90f4['id']='q_'+Date[_0xa3b415(0x7f3)]()+'_'+_0x22dd32);const _0x3781d7=_0x3c90f4[_0xa3b415(0x8c1)]||_0x5dc3c6['quizType'];_0x5a1135+=_0xa3b415(0xc8a)+_0x22dd32+_0xa3b415(0x29e)+_0x22dd32+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x22dd32+_0xa3b415(0x56c);switch(_0x3781d7){case'matching_item':_0x5a1135+=_0xa3b415(0xc37)+_0x22dd32+'\x22>'+(_0x22dd32+0x1)+'.\x20'+_0x3c90f4['stem']+_0xa3b415(0x52b);_0x3c90f4[_0xa3b415(0x929)]&&(_0x5a1135+=_0xa3b415(0x41f)+_0x22dd32+_0xa3b415(0x2c3)+_0x3c90f4['imageCode']+_0xa3b415(0x5b3));_0x5a1135+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x22dd32+'\x22>'+_0x3c90f4[_0xa3b415(0x573)]+_0xa3b415(0xc78),_0x5a1135+=_0xa3b415(0x72d)+_0x22dd32+'\x22>'+_0x3c90f4[_0xa3b415(0x559)]+_0xa3b415(0xc78);break;case'short_answer':_0x5a1135+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x22dd32+'\x22>'+(_0x22dd32+0x1)+'.\x20'+_0x3c90f4['questionText']+'</p>';_0x3c90f4[_0xa3b415(0x929)]&&(_0x5a1135+=_0xa3b415(0x41f)+_0x22dd32+_0xa3b415(0x2c3)+_0x3c90f4[_0xa3b415(0x929)]+_0xa3b415(0x5b3));_0x5a1135+=_0xa3b415(0x5e5)+_0x22dd32+'\x22>'+_0x3c90f4[_0xa3b415(0x2fd)]+_0xa3b415(0xc78),_0x5a1135+=_0xa3b415(0x72d)+_0x22dd32+'\x22>'+_0x3c90f4[_0xa3b415(0x559)]+_0xa3b415(0xc78);break;case _0xa3b415(0x3f6):_0x5a1135+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x22dd32+'\x22>'+(_0x22dd32+0x1)+'.\x20'+_0x3c90f4[_0xa3b415(0xc82)]+_0xa3b415(0x52b);_0x3c90f4[_0xa3b415(0x929)]&&(_0x5a1135+=_0xa3b415(0x41f)+_0x22dd32+_0xa3b415(0x2c3)+_0x3c90f4[_0xa3b415(0x929)]+_0xa3b415(0x5b3));_0x5a1135+=_0xa3b415(0x895)+(_0x3c90f4[_0xa3b415(0x950)]===!![]?_0xa3b415(0x3f2):'')+_0xa3b415(0x9d5)+(_0x3c90f4[_0xa3b415(0x950)]===![]?_0xa3b415(0x3f2):'')+_0xa3b415(0xb86),_0x5a1135+=_0xa3b415(0x72d)+_0x22dd32+'\x22>'+_0x3c90f4['explanation']+_0xa3b415(0xc78);break;case _0xa3b415(0x3f9):case'multiple_choice':default:_0x5a1135+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x22dd32+'\x22>'+(_0x22dd32+0x1)+'.\x20'+_0x3c90f4[_0xa3b415(0xc82)]+'</p>';_0x3c90f4[_0xa3b415(0x929)]&&(_0x5a1135+='<div\x20id=\x22q-image-container-'+_0x22dd32+_0xa3b415(0x2c3)+_0x3c90f4['imageCode']+'</div>');_0x5a1135+=_0xa3b415(0x9af)+_0x22dd32+_0xa3b415(0x8f7)+(_0x3c90f4[_0xa3b415(0xd99)]||[])[_0xa3b415(0x8cc)]((_0xb1b575,_0x2326d7)=>'<li\x20class=\x22'+(_0x2326d7===_0x3c90f4[_0xa3b415(0x7cc)]?'text-green-600\x20font-bold':'')+'\x22>'+_0xb1b575+_0xa3b415(0x8d5))[_0xa3b415(0x35d)]('')+_0xa3b415(0x7dc),_0x5a1135+=_0xa3b415(0x72d)+_0x22dd32+'\x22>'+_0x3c90f4[_0xa3b415(0x559)]+_0xa3b415(0xc78);break;}_0x5a1135+=_0xa3b415(0x5b3);}),_0x5a1135+=_0x552b19(0x33e),_0x24324e[_0x552b19(0xd3c)]=_0x5a1135,document[_0x552b19(0x7b3)](_0x552b19(0xdd7))[_0x552b19(0x79a)](_0x15493a=>_0x15493a[_0x552b19(0x6dd)](_0x552b19(0x564),handleEditQuestion)),document[_0x552b19(0x7b3)](_0x552b19(0xc1b))[_0x552b19(0x79a)](_0x1d3021=>_0x1d3021[_0x552b19(0x6dd)](_0x552b19(0x564),handleRegenerateQuestion)),document[_0x552b19(0x52a)](_0x552b19(0xd13))[_0x552b19(0x6dd)](_0x552b19(0x564),exportQuizAsWorksheetPDF),document[_0x552b19(0x52a)](_0x552b19(0x70f))[_0x552b19(0x6dd)](_0x552b19(0x564),handleVerifyAnswers);const _0x97f713=document[_0x552b19(0x52a)](_0x552b19(0x300));if(_0x97f713){const _0x4e3c1e=_0xdedf04||currentProjectId;_0x97f713[_0x552b19(0x6dd)](_0x552b19(0x564),()=>saveQuiz(_0x4e3c1e,_0xb083ce));}if(window[_0x552b19(0xb46)])window['MathJax'][_0x552b19(0x787)]([_0x24324e]);}function handleRegenerateQuestion(_0x26885e){const _0x4281f9=_0x6a7885,_0x40a0a3=_0x26885e['currentTarget']['dataset'][_0x4281f9(0x7d4)],_0x406d52=currentQuizData[_0x4281f9(0x801)];showMessage(_0x4281f9(0x3ca)+(parseInt(_0x40a0a3)+0x1)+_0x4281f9(0xd8b)),generateQuiz(_0x406d52,null,parseInt(_0x40a0a3));}function getPointerPosition(_0x223049,_0xf43280){const _0x179c30=_0x6a7885,_0x3545a9=_0x223049[_0x179c30(0x6e6)]();let _0x3905d8,_0x481e66;return _0xf43280[_0x179c30(0xbde)]&&_0xf43280['touches'][_0x179c30(0xbc8)]>0x0?(_0x3905d8=_0xf43280[_0x179c30(0xbde)][0x0]['clientX'],_0x481e66=_0xf43280[_0x179c30(0xbde)][0x0]['clientY']):(_0x3905d8=_0xf43280['clientX'],_0x481e66=_0xf43280[_0x179c30(0x553)]),{'x':(_0x3905d8-_0x3545a9['e'])/_0x3545a9['a'],'y':(_0x481e66-_0x3545a9['f'])/_0x3545a9['d']};}function startDrag(_0x239c27){const _0x280e09=_0x6a7885;_0x239c27['type']===_0x280e09(0xb1f)&&_0x239c27[_0x280e09(0x306)]();const _0x49fd0a=_0x239c27[_0x280e09(0x45d)][_0x280e09(0xdda)](_0x280e09(0x976));if(_0x49fd0a){draggedSvgElement=_0x49fd0a;const _0x480a1c=draggedSvgElement[_0x280e09(0xa4d)],_0x48a5a4=getPointerPosition(_0x480a1c,_0x239c27);svgOffset['x']=_0x48a5a4['x']-parseFloat(draggedSvgElement[_0x280e09(0x490)](null,'x')),svgOffset['y']=_0x48a5a4['y']-parseFloat(draggedSvgElement[_0x280e09(0x490)](null,'y'));}}function calculateItemAnalysis(_0x36ee57,_0x728778){const _0x4d9cff=_0x6a7885,_0xfb4fde={};if(_0x728778['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x54695b=[..._0x728778][_0x4d9cff(0xd66)]((_0x404419,_0x3b1fbd)=>{const _0x2faa35=_0x4d9cff,_0x107f2f=_0x3b1fbd[_0x2faa35(0x234)]-_0x404419[_0x2faa35(0x234)];if(_0x107f2f!==0x0)return _0x107f2f;const _0x6463eb=_0x404419[_0x2faa35(0xca0)]?.[_0x2faa35(0xbc8)]||0x1,_0x3cabfa=_0x3b1fbd[_0x2faa35(0xca0)]?.[_0x2faa35(0xbc8)]||0x1,_0x37cafc=_0x6463eb-_0x3cabfa;if(_0x37cafc!==0x0)return _0x37cafc;const _0x46dddf=new Date(_0x404419['latestSubmittedAt']),_0x59017d=new Date(_0x3b1fbd[_0x2faa35(0x83a)]),_0x20bdf2=_0x46dddf-_0x59017d;if(_0x20bdf2!==0x0)return _0x20bdf2;return _0x404419['studentName'][_0x2faa35(0x45b)](_0x3b1fbd[_0x2faa35(0x7a5)],'th');}),_0x12bbdb=_0x54695b[_0x4d9cff(0xbc8)],_0x2d7f72=Math[_0x4d9cff(0xbf8)](0x1,Math[_0x4d9cff(0x754)](_0x12bbdb*0.33));if(_0x2d7f72===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5f1179=_0x54695b[_0x4d9cff(0x98c)](0x0,_0x2d7f72),_0x2f5eee=_0x54695b[_0x4d9cff(0x98c)](-_0x2d7f72),_0x30ab7c=_0x5f1179[_0x4d9cff(0x8cc)](_0x548861=>_0x548861['studentName']),_0x3fd6d7=_0x2f5eee[_0x4d9cff(0x8cc)](_0x3ba40e=>_0x3ba40e[_0x4d9cff(0x7a5)]);return _0x36ee57[_0x4d9cff(0x665)]['forEach']((_0x56410b,_0x3b74bc)=>{const _0x5f0156=_0x4d9cff,_0x328e32=_0x56410b[_0x5f0156(0xdbf)]||_0x56410b[_0x5f0156(0xc82)];let _0x5cdf56=0x0,_0x7ac281=0x0,_0x2e83da=0x0;const _0x1f12e6=[],_0xb00593=[];_0x5f1179[_0x5f0156(0x79a)](_0x18a8ea=>{const _0xab1329=_0x5f0156,_0x86932a=_0x18a8ea[_0xab1329(0xca0)][_0x18a8ea['attempts'][_0xab1329(0xbc8)]-0x1],_0x55cae6=_0x86932a['answers'][_0xab1329(0x8c7)](_0x11bdcc=>_0x11bdcc[_0xab1329(0x815)]===_0x328e32);_0x1f12e6['push']({'name':_0x18a8ea[_0xab1329(0x7a5)],'isCorrect':_0x55cae6?_0x55cae6[_0xab1329(0x7d3)]:![]}),_0x55cae6&&_0x55cae6[_0xab1329(0x7d3)]&&_0x7ac281++;}),_0x2f5eee[_0x5f0156(0x79a)](_0x4530ae=>{const _0x2a73a1=_0x5f0156,_0x2791b7=_0x4530ae[_0x2a73a1(0xca0)][_0x4530ae[_0x2a73a1(0xca0)]['length']-0x1],_0x2aa83e=_0x2791b7[_0x2a73a1(0xa6c)][_0x2a73a1(0x8c7)](_0x3eed8c=>_0x3eed8c['originalQuestionText']===_0x328e32);_0xb00593['push']({'name':_0x4530ae['studentName'],'isCorrect':_0x2aa83e?_0x2aa83e[_0x2a73a1(0x7d3)]:![]}),_0x2aa83e&&_0x2aa83e[_0x2a73a1(0x7d3)]&&_0x2e83da++;}),_0x728778['forEach'](_0x1545e0=>{const _0x4195b0=_0x5f0156,_0x243d95=_0x1545e0[_0x4195b0(0xca0)][_0x1545e0[_0x4195b0(0xca0)][_0x4195b0(0xbc8)]-0x1],_0x1e2a7e=_0x243d95[_0x4195b0(0xa6c)][_0x4195b0(0x8c7)](_0x1f68c7=>_0x1f68c7[_0x4195b0(0x815)]===_0x328e32);_0x1e2a7e&&_0x1e2a7e[_0x4195b0(0x7d3)]&&_0x5cdf56++;});const _0x4ec219=_0x12bbdb>0x0?_0x5cdf56/_0x12bbdb:0x0,_0x2348f4=_0x2d7f72>0x0?_0x7ac281/_0x2d7f72-_0x2e83da/_0x2d7f72:0x0;_0xfb4fde[_0x3b74bc]={'p':_0x4ec219,'r':_0x2348f4,'upperGroupResponders':_0x1f12e6,'lowerGroupResponders':_0xb00593};}),{'perQuestionStats':_0xfb4fde,'overallGroups':{'upperGroupNames':_0x30ab7c,'lowerGroupNames':_0x3fd6d7}};}function drag(_0x3555e5){const _0x3c258a=_0x6a7885;if(draggedSvgElement){_0x3555e5[_0x3c258a(0x306)]();const _0x51d7d3=draggedSvgElement[_0x3c258a(0xa4d)],_0x59acd7=getPointerPosition(_0x51d7d3,_0x3555e5),_0x401736=_0x51d7d3[_0x3c258a(0x8dd)][_0x3c258a(0x236)];let _0x3a2806=_0x59acd7['x']-svgOffset['x'],_0x576082=_0x59acd7['y']-svgOffset['y'];const _0x1392f1=draggedSvgElement[_0x3c258a(0xbd6)]();_0x3a2806=Math[_0x3c258a(0xbf8)](_0x401736['x'],Math[_0x3c258a(0x2fa)](_0x3a2806,_0x401736['x']+_0x401736[_0x3c258a(0x761)]-_0x1392f1[_0x3c258a(0x761)])),_0x576082=Math['max'](_0x401736['y'],Math[_0x3c258a(0x2fa)](_0x576082,_0x401736['y']+_0x401736[_0x3c258a(0x7a4)]-_0x1392f1[_0x3c258a(0x7a4)])),draggedSvgElement[_0x3c258a(0xd53)](null,'x',_0x3a2806),draggedSvgElement['setAttributeNS'](null,'y',_0x576082);}}function endDrag(_0x26efd6){draggedSvgElement=null;}function handleSvgEditClick(_0x47d401){const _0x114b77=_0x6a7885;if(_0x47d401[_0x114b77(0x45d)][_0x114b77(0x817)][_0x114b77(0x7e7)](_0x114b77(0x9d6))){const _0x4f5463=_0x47d401['target'][_0x114b77(0xba5)]['targetId'],_0x231694=_0x47d401['currentTarget'],_0x3366f1=_0x231694['querySelector']('#'+_0x4f5463);_0x3366f1&&_0x3366f1[_0x114b77(0xb2b)](),_0x47d401[_0x114b77(0x45d)][_0x114b77(0xb2b)]();}}function handleEditQuestion(_0x4e7015){const _0xebb493=_0x6a7885,_0x4acf12=_0x4e7015[_0xebb493(0xcb2)],_0x12388a=_0x4acf12[_0xebb493(0xba5)][_0xebb493(0x7d4)],_0x5a5a66=currentQuizData[_0xebb493(0x665)][_0x12388a],_0xac9556=document[_0xebb493(0x52a)](_0xebb493(0xb08)+_0x12388a),_0xb531fa=document[_0xebb493(0x52a)](_0xebb493(0x439)+_0x12388a),_0x51544b=document[_0xebb493(0x52a)](_0xebb493(0x686)+_0x12388a);if(_0x4acf12[_0xebb493(0xd3c)]['includes'](_0xebb493(0x24f))){_0x4acf12[_0xebb493(0xd3c)]=_0xebb493(0xb17),_0x4acf12[_0xebb493(0x724)]=_0xebb493(0x827);if(_0xac9556)_0xac9556[_0xebb493(0x93d)]=!![];if(_0xb531fa)_0xb531fa[_0xebb493(0x93d)]=!![];if(_0x51544b){const _0xb0cdae=_0x51544b['querySelector']('svg');if(_0xb0cdae){const _0x11425f=_0xb0cdae[_0xebb493(0x7b3)](_0xebb493(0xc1c));_0x11425f[_0xebb493(0x79a)]((_0x562c98,_0x227c0d)=>{const _0x2e8580=_0xebb493,_0x3713d9=_0x2e8580(0x732)+_0x12388a+'-'+_0x227c0d;_0x562c98['id']=_0x3713d9,_0x562c98['classList'][_0x2e8580(0x642)]('draggable-text'),_0x562c98[_0x2e8580(0x882)][_0x2e8580(0x91a)]=_0x2e8580(0x8e0);const _0x4a401a=document[_0x2e8580(0xb2e)]('http://www.w3.org/2000/svg',_0x2e8580(0x959)),_0x2d6367=_0x562c98[_0x2e8580(0xbd6)]();_0x4a401a['setAttribute']('cx',String(_0x2d6367['x']+_0x2d6367[_0x2e8580(0x761)]+0x5)),_0x4a401a[_0x2e8580(0x7b9)]('cy',String(_0x2d6367['y']+_0x2d6367['height']/0x2-0x5)),_0x4a401a[_0x2e8580(0x7b9)]('r','5'),_0x4a401a[_0x2e8580(0x7b9)](_0x2e8580(0xc34),_0x2e8580(0xd62)),_0x4a401a[_0x2e8580(0x7b9)](_0x2e8580(0xd2e),'delete-svg-btn'),_0x4a401a['dataset'][_0x2e8580(0xab2)]=_0x3713d9,_0x562c98['after'](_0x4a401a);}),_0xb0cdae['addEventListener'](_0xebb493(0x98f),startDrag),_0xb0cdae['addEventListener'](_0xebb493(0xc8f),drag),_0xb0cdae[_0xebb493(0x6dd)]('mouseup',endDrag),_0xb0cdae[_0xebb493(0x6dd)](_0xebb493(0xc98),endDrag),_0xb0cdae[_0xebb493(0x6dd)](_0xebb493(0xb1f),startDrag,{'passive':![]}),_0xb0cdae[_0xebb493(0x6dd)](_0xebb493(0x820),drag,{'passive':![]}),_0xb0cdae[_0xebb493(0x6dd)](_0xebb493(0xae5),endDrag),_0xb0cdae[_0xebb493(0x6dd)]('touchcancel',endDrag),_0xb0cdae[_0xebb493(0x6dd)]('click',handleSvgEditClick);}}if(_0xac9556)_0xac9556[_0xebb493(0x31a)]();}else{_0x4acf12[_0xebb493(0xd3c)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4acf12[_0xebb493(0x724)]=_0xebb493(0x526);if(_0xac9556){_0xac9556['contentEditable']=![];const _0x65a7c2=_0x5a5a66[_0xebb493(0x8c1)]||currentQuizData[_0xebb493(0xafb)];_0x65a7c2===_0xebb493(0x747)?_0x5a5a66[_0xebb493(0xdbf)]=_0xac9556[_0xebb493(0x652)][_0xebb493(0xac1)](_0xac9556[_0xebb493(0x652)]['indexOf']('.')+0x2)[_0xebb493(0x797)]():_0x5a5a66[_0xebb493(0xc82)]=_0xac9556[_0xebb493(0x652)]['substring'](_0xac9556[_0xebb493(0x652)][_0xebb493(0x4a3)]('.')+0x2)[_0xebb493(0x797)]();}_0xb531fa&&(_0xb531fa[_0xebb493(0x93d)]=![],_0x5a5a66[_0xebb493(0x559)]=_0xb531fa['innerText']);if(_0x51544b){const _0x53b924=_0x51544b[_0xebb493(0x390)](_0xebb493(0xaea));if(_0x53b924){const _0x27d636=_0x53b924[_0xebb493(0x30c)](!![]);_0x27d636[_0xebb493(0x7b3)]('.delete-svg-btn')[_0xebb493(0x79a)](_0x357d27=>_0x357d27[_0xebb493(0xb2b)]()),_0x27d636[_0xebb493(0x7b3)]('.draggable-text')[_0xebb493(0x79a)](_0x35a33e=>{const _0x5bd0c6=_0xebb493;_0x35a33e[_0x5bd0c6(0x817)][_0x5bd0c6(0xb2b)](_0x5bd0c6(0x423)),_0x35a33e[_0x5bd0c6(0x882)]['cursor']=_0x5bd0c6(0x796),_0x35a33e[_0x5bd0c6(0xdc5)]('id');}),_0x5a5a66[_0xebb493(0x929)]=_0x27d636[_0xebb493(0x774)],_0x53b924['removeEventListener'](_0xebb493(0x98f),startDrag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0xc8f),drag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0x715),endDrag),_0x53b924[_0xebb493(0x5b6)]('mouseleave',endDrag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0xb1f),startDrag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0x820),drag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0xae5),endDrag),_0x53b924[_0xebb493(0x5b6)]('touchcancel',endDrag),_0x53b924[_0xebb493(0x5b6)](_0xebb493(0x564),handleSvgEditClick),_0x53b924[_0xebb493(0x7b3)]('.delete-svg-btn')[_0xebb493(0x79a)](_0x2469f8=>_0x2469f8[_0xebb493(0xb2b)]()),_0x53b924[_0xebb493(0x7b3)](_0xebb493(0x976))[_0xebb493(0x79a)](_0x1b42e5=>{const _0x1293c9=_0xebb493;_0x1b42e5[_0x1293c9(0x817)][_0x1293c9(0xb2b)](_0x1293c9(0x423)),_0x1b42e5[_0x1293c9(0x882)][_0x1293c9(0x91a)]=_0x1293c9(0x796);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x23166b){const _0x14bc23=_0x6a7885,_0x250140=document['getElementById'](_0x14bc23(0xa7b)),_0x18ba07=document[_0x14bc23(0x52a)](_0x14bc23(0x960));_0x18ba07[_0x14bc23(0xd3c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x250140[_0x14bc23(0x817)][_0x14bc23(0xb2b)]('hidden');try{const _0x18b741=doc(db,_0x14bc23(0x3c5)+appId+_0x14bc23(0x383),_0x23166b),_0x43584a=await getDoc(_0x18b741);if(!_0x43584a[_0x14bc23(0xd3f)]())throw new Error(_0x14bc23(0x1d9));currentEditingQuizData={'id':_0x23166b,..._0x43584a[_0x14bc23(0x36d)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x2da663){console[_0x14bc23(0xc4f)]('Error\x20opening\x20quiz\x20editor:',_0x2da663),showMessage(_0x14bc23(0x847)),_0x250140[_0x14bc23(0x817)][_0x14bc23(0x642)](_0x14bc23(0x68d));}}function renderQuizEditor(_0x1176cf){const _0x16fb3e=_0x6a7885;document[_0x16fb3e(0x52a)]('editor-quiz-topic')[_0x16fb3e(0x3c4)]=_0x1176cf['topic'];const _0x3b61b6=document[_0x16fb3e(0x52a)](_0x16fb3e(0x960));let _0x24d47c=_0x1176cf[_0x16fb3e(0x665)][_0x16fb3e(0x8cc)]((_0x3c5dae,_0xad1ba7)=>{const _0x10ced8=_0x16fb3e;let _0x496054='';const _0x5df1c3=_0x3c5dae['questionType']||_0x1176cf[_0x10ced8(0xafb)];switch(_0x5df1c3){case _0x10ced8(0xa3b):const _0x3df1f8=(_0x3c5dae['options']||[])[_0x10ced8(0x8cc)]((_0x156552,_0x3c73e4)=>_0x10ced8(0xd83)+_0xad1ba7+_0x10ced8(0xb74)+_0x3c73e4+'\x22\x20'+(_0x3c73e4===_0x3c5dae[_0x10ced8(0x7cc)]?_0x10ced8(0x9a3):'')+_0x10ced8(0x588)+_0x156552+_0x10ced8(0x67b))[_0x10ced8(0x35d)]('');_0x496054=_0x10ced8(0x65b)+_0x3df1f8+_0x10ced8(0xbfd);break;case _0x10ced8(0x247):_0x496054=_0x10ced8(0xde2)+(_0x3c5dae[_0x10ced8(0x2fd)]||'')+_0x10ced8(0x353);break;case'true_false':_0x496054=_0x10ced8(0x9b1)+_0xad1ba7+_0x10ced8(0xd9e)+(_0x3c5dae[_0x10ced8(0x950)]===!![]?_0x10ced8(0x9a3):'')+_0x10ced8(0x691)+_0xad1ba7+_0x10ced8(0x8d1)+(_0x3c5dae[_0x10ced8(0x950)]===![]?_0x10ced8(0x9a3):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x10ced8(0x747):_0x496054='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3c5dae['correctResponse']||'')+_0x10ced8(0x25f);break;}let _0x573580=_0x3c5dae[_0x10ced8(0xc82)]||_0x3c5dae['stem']||'';return _0x573580=_0x573580[_0x10ced8(0xb64)](/<br\s*\/?>/gi,'\x0a'),_0x10ced8(0x334)+_0xad1ba7+_0x10ced8(0x328)+_0x5df1c3+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0xad1ba7+0x1)+'\x20('+_0x5df1c3+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x573580+_0x10ced8(0x4a8)+_0x496054+_0x10ced8(0x71a);})['join']('');_0x3b61b6[_0x16fb3e(0xd3c)]=_0x24d47c;const _0x264cab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x3b61b6[_0x16fb3e(0x6d8)](_0x16fb3e(0x3bb),_0x264cab),_0x3b61b6[_0x16fb3e(0x7b3)]('.auto-resize-textarea')[_0x16fb3e(0x79a)](_0x31cfd9=>{const _0x187b84=_0x16fb3e;_0x31cfd9[_0x187b84(0x882)]['overflowY']=_0x187b84(0x68d),_0x31cfd9[_0x187b84(0x882)]['minHeight']='100px',_0x31cfd9[_0x187b84(0x4f6)]=0x4;const _0x29f346=()=>{const _0x1f802f=_0x187b84;_0x31cfd9[_0x1f802f(0x882)][_0x1f802f(0x7a4)]=_0x1f802f(0xbe5),_0x31cfd9['style'][_0x1f802f(0x7a4)]=_0x31cfd9['scrollHeight']+'px';};_0x31cfd9[_0x187b84(0x6dd)](_0x187b84(0x53a),_0x29f346),_0x29f346();}),_0x3b61b6[_0x16fb3e(0x7b3)]('.ai-fix-question-btn')['forEach'](_0x22bc8e=>{const _0x2504a5=_0x16fb3e;_0x22bc8e[_0x2504a5(0x6dd)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x5e96c9){const _0x4192ae=_0x6a7885;if(!currentEditingQuizData||!currentEditingQuizData[_0x4192ae(0x665)][_0x5e96c9])return;const _0x10d256=currentEditingQuizData[_0x4192ae(0x665)][_0x5e96c9][_0x4192ae(0xc82)]||currentEditingQuizData[_0x4192ae(0x665)][_0x5e96c9]['stem'];showConfirmation(_0x4192ae(0xc32)+(_0x5e96c9+0x1)+_0x4192ae(0xdac)+_0x10d256['substring'](0x0,0x14)+'...\x22)?',()=>{const _0x4f0900=_0x4192ae;currentEditingQuizData[_0x4f0900(0x665)]['splice'](_0x5e96c9,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x4f0900(0x30a));});}function handleAddQuestionInEditor(){const _0x4a78f2=_0x6a7885;if(!currentEditingQuizData)return;const _0x3b3fbf={'id':'q_'+Date['now']()+_0x4a78f2(0x3c0),'questionType':'multiple_choice','questionText':'---\x20[คำถามใหม่]\x20---','options':['ตัวเลือก\x20ก',_0x4a78f2(0x4df),_0x4a78f2(0xbe8),_0x4a78f2(0xa1a)],'correctAnswerIndex':0x0,'explanation':_0x4a78f2(0x27b)};currentEditingQuizData[_0x4a78f2(0x665)][_0x4a78f2(0x586)](_0x3b3fbf),renderQuizEditor(currentEditingQuizData);const _0x5d53aa=document[_0x4a78f2(0x390)]('.question-editor-item:last-of-type');_0x5d53aa&&(_0x5d53aa[_0x4a78f2(0x488)]({'behavior':_0x4a78f2(0x250),'block':_0x4a78f2(0xb68)}),_0x5d53aa[_0x4a78f2(0x390)](_0x4a78f2(0x407))['focus']());}async function handleAiFixQuestion(_0x1a8354){const _0x406be7=_0x6a7885,_0x273efd=_0x1a8354[_0x406be7(0xcb2)],_0x533f98=_0x273efd[_0x406be7(0xdda)](_0x406be7(0x2b7));if(!_0x533f98)return;const _0x5290b1=parseInt(_0x533f98[_0x406be7(0xba5)][_0x406be7(0x825)],0xa);if(isNaN(_0x5290b1)||!currentEditingQuizData[_0x406be7(0x665)][_0x5290b1]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x1df060=currentEditingQuizData['questions'][_0x5290b1];_0x273efd['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x273efd[_0x406be7(0x459)]=!![];const _0x2a637c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x1df060)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2a23b1;const _0x267ada=_0x1df060[_0x406be7(0x8c1)]||currentEditingQuizData[_0x406be7(0xafb)];switch(_0x267ada){case'short_answer':_0x2a23b1={'type':_0x406be7(0x342),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x406be7(0xd50)},'explanation':{'type':_0x406be7(0xd50)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x406be7(0x2fd),_0x406be7(0x559)]};break;case _0x406be7(0xa3b):default:_0x2a23b1={'type':_0x406be7(0x342),'properties':{'questionText':{'type':_0x406be7(0xd50)},'options':{'type':_0x406be7(0x3ad),'items':{'type':_0x406be7(0xd50)}},'correctAnswerIndex':{'type':_0x406be7(0xa4b)},'explanation':{'type':_0x406be7(0xd50)},'imageCode':{'type':_0x406be7(0xd50)}},'required':[_0x406be7(0xc82),_0x406be7(0xd99),'correctAnswerIndex',_0x406be7(0x559)]};break;}try{let _0x1622a9=await callAnalysisApi(_0x2a637c,_0x2a23b1);_0x1622a9[_0x406be7(0xd99)]&&Array[_0x406be7(0xcd4)](_0x1622a9[_0x406be7(0xd99)])&&(_0x1622a9['options']=_0x1622a9[_0x406be7(0xd99)][_0x406be7(0x8cc)](_0x5647e4=>typeof _0x5647e4===_0x406be7(0xdef)?_0x5647e4['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x5647e4)),_0x1df060[_0x406be7(0x929)]&&_0x1df060[_0x406be7(0x929)]['includes'](_0x406be7(0x79c))&&(_0x1622a9[_0x406be7(0x929)]=''),currentEditingQuizData[_0x406be7(0x665)][_0x5290b1]={..._0x1df060,..._0x1622a9},renderQuizEditor(currentEditingQuizData),showMessage(_0x406be7(0xcc2));}catch(_0x22962a){console[_0x406be7(0xc4f)]('AI\x20Fix\x20Error:',_0x22962a),showMessage(_0x406be7(0x4ea)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1cd14a=_0x6a7885,_0x11d637=document['getElementById'](_0x1cd14a(0x2d5));_0x11d637[_0x1cd14a(0x459)]=!![],_0x11d637[_0x1cd14a(0xd3c)]=_0x1cd14a(0x3b1);try{const _0x5be8ca=document[_0x1cd14a(0x52a)]('editor-quiz-topic')[_0x1cd14a(0x3c4)],_0xd890bb=document[_0x1cd14a(0x7b3)](_0x1cd14a(0x2b7));let _0x5d0c27=[];const _0x26f751=Array[_0x1cd14a(0x568)](_0xd890bb)[_0x1cd14a(0x8cc)]((_0x407071,_0x3595d3)=>{const _0x2d9967=_0x1cd14a,_0x181aa7=_0x407071[_0x2d9967(0xba5)][_0x2d9967(0x442)],_0x5a79cf=_0x407071[_0x2d9967(0x390)]('textarea')['value'][_0x2d9967(0xb64)](/\n/g,_0x2d9967(0xbc4));let _0x213f95={'questionType':_0x181aa7};const _0x4782d7=currentEditingQuizData[_0x2d9967(0x665)][_0x3595d3];switch(_0x181aa7){case _0x2d9967(0xa3b):_0x213f95[_0x2d9967(0xc82)]=_0x5a79cf;const _0x19cbf6=_0x407071[_0x2d9967(0x7b3)]('input[type=\x22text\x22]');_0x213f95['options']=Array[_0x2d9967(0x568)](_0x19cbf6)[_0x2d9967(0x8cc)](_0x508d23=>_0x508d23['value']);const _0x2dcaf0=_0x407071[_0x2d9967(0x390)]('input[type=\x22radio\x22]:checked');_0x213f95[_0x2d9967(0x7cc)]=_0x2dcaf0?parseInt(_0x2dcaf0[_0x2d9967(0x3c4)]):0x0;break;case _0x2d9967(0x247):_0x213f95[_0x2d9967(0xc82)]=_0x5a79cf,_0x213f95[_0x2d9967(0x2fd)]=_0x407071[_0x2d9967(0x390)](_0x2d9967(0x340))['value'];break;case _0x2d9967(0x3f6):_0x213f95['questionText']=_0x5a79cf;const _0x4f3cb6=_0x407071[_0x2d9967(0x390)]('input[type=\x22radio\x22]:checked');_0x213f95['correctAnswer']=_0x4f3cb6?_0x4f3cb6[_0x2d9967(0x3c4)]===_0x2d9967(0xb54):!![];break;case _0x2d9967(0x747):_0x213f95[_0x2d9967(0xdbf)]=_0x5a79cf;const _0x325095=_0x407071[_0x2d9967(0x390)](_0x2d9967(0x1cd));_0x213f95[_0x2d9967(0x573)]=_0x325095?_0x325095[_0x2d9967(0x3c4)]:'',_0x5d0c27['push'](_0x213f95['correctResponse']);break;default:_0x213f95[_0x2d9967(0xc82)]=_0x5a79cf;break;}return{..._0x4782d7,..._0x213f95};});_0x5d0c27[_0x1cd14a(0xbc8)]>0x0&&_0x26f751[_0x1cd14a(0x79a)](_0x1eedb8=>{const _0xfb19b4=_0x1cd14a;_0x1eedb8['questionType']===_0xfb19b4(0x747)&&(_0x1eedb8[_0xfb19b4(0xc0f)]=_0x5d0c27);});const _0x3252e4=currentEditingQuizData['id'],_0x4aef4d=doc(db,_0x1cd14a(0x3c5)+appId+'/public/data/quizzes',_0x3252e4);await updateDoc(_0x4aef4d,{'topic':_0x5be8ca,'questions':_0x26f751}),document[_0x1cd14a(0x52a)](_0x1cd14a(0xa7b))['classList'][_0x1cd14a(0x642)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x3252e4));}catch(_0x29e01e){console['error'](_0x1cd14a(0xbef),_0x29e01e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x11d637[_0x1cd14a(0x459)]=![],_0x11d637[_0x1cd14a(0xd3c)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x463178){const _0xd4d32b=_0x6a7885;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x5d666c=doc(db,_0xd4d32b(0x3c5)+appId+_0xd4d32b(0x383),_0x463178),_0x37fa18=await getDoc(_0x5d666c);if(!_0x37fa18[_0xd4d32b(0xd3f)]())throw new Error(_0xd4d32b(0x232));const _0x4fabf7={'id':_0x463178,..._0x37fa18[_0xd4d32b(0x36d)]()},_0x1b23ff=collection(db,_0xd4d32b(0x3c5)+appId+_0xd4d32b(0x383),_0x463178,_0xd4d32b(0x46b)),_0x109f77=await getDocs(_0x1b23ff);if(_0x109f77['empty']){showMessage(_0xd4d32b(0x2a3));return;}const _0x4b6838=_0x109f77['docs'][_0xd4d32b(0x8cc)](_0x3b88af=>reGradeSingleSubmission(_0x3b88af,_0x4fabf7));await Promise[_0xd4d32b(0xdd0)](_0x4b6838);if(_0x4fabf7[_0xd4d32b(0x94a)]){const _0xdbe7e6=doc(db,'artifacts/'+appId+'/public/data/projects',_0x4fabf7[_0xd4d32b(0x94a)]),_0x1ac48f=await getDoc(_0xdbe7e6);if(_0x1ac48f['exists']()&&_0x1ac48f[_0xd4d32b(0x36d)]()[_0xd4d32b(0x498)]){const _0x2f7061=_0x1ac48f['data']()[_0xd4d32b(0x498)][_0xd4d32b(0x8cc)](_0x2f613c=>updateStudentProfile(_0x4fabf7[_0xd4d32b(0x94a)],_0x2f613c));await Promise[_0xd4d32b(0xdd0)](_0x2f7061);}}showMessage(_0xd4d32b(0x84d)+_0x109f77[_0xd4d32b(0xc30)]+_0xd4d32b(0x51b));}catch(_0x15adc4){console[_0xd4d32b(0xc4f)](_0xd4d32b(0x9bc),_0x15adc4),showMessage(_0xd4d32b(0x682)+_0x15adc4[_0xd4d32b(0xacb)]);}}async function reGradeSingleSubmission(_0x163459,_0x48f7a3){const _0xa53653=_0x6a7885,_0x40df1e=_0x163459['data'](),_0xe6b80c=_0x40df1e[_0xa53653(0x7a5)],_0x51aef3=_0x40df1e[_0xa53653(0xca0)]||[],_0x3fc061=[];for(const _0x4c88d1 of _0x51aef3){let _0x562ed1=0x0,_0xf575d7=[],_0x466d81=0x0;const _0xa329a5=[];for(const _0x14fcf6 of _0x4c88d1['answers']){let _0x1da217;_0x14fcf6['questionId']&&(_0x1da217=_0x48f7a3['questions'][_0xa53653(0x8c7)](_0x2d0f8a=>_0x2d0f8a['id']===_0x14fcf6[_0xa53653(0x920)]));!_0x1da217&&_0x14fcf6[_0xa53653(0x815)]&&(_0x1da217=_0x48f7a3[_0xa53653(0x665)][_0xa53653(0x8c7)](_0x16e7f2=>(_0x16e7f2[_0xa53653(0xdbf)]||_0x16e7f2[_0xa53653(0xc82)])===_0x14fcf6[_0xa53653(0x815)]));let _0x1313f1=![];if(_0x1da217){const _0x508241=_0x1da217['questionType']||_0x48f7a3[_0xa53653(0xafb)];switch(_0x508241){case _0xa53653(0xa3b):if(_0x1da217[_0xa53653(0xd99)]&&_0x1da217['correctAnswerIndex']<_0x1da217[_0xa53653(0xd99)][_0xa53653(0xbc8)]){const _0x4a2aaa=_0x1da217[_0xa53653(0xd99)][_0x1da217[_0xa53653(0x7cc)]];_0x1313f1=_0x14fcf6[_0xa53653(0x4e7)]===_0x4a2aaa;}break;case _0xa53653(0x3f6):const _0x3b78d7=_0x14fcf6['answer']===!![]||_0x14fcf6[_0xa53653(0xc86)]===_0xa53653(0xb54);_0x1313f1=_0x3b78d7===_0x1da217[_0xa53653(0x950)];break;case _0xa53653(0x747):_0x1313f1=_0x14fcf6[_0xa53653(0xc86)]===_0x1da217[_0xa53653(0x573)];break;case _0xa53653(0x247):_0x1313f1=await gradeShortAnswer(_0x14fcf6[_0xa53653(0xc86)],_0x1da217);break;default:_0x1313f1=_0x14fcf6[_0xa53653(0x7d3)];break;}}if(_0x1313f1){_0x562ed1++,_0x466d81++;if(_0x466d81===0x3)_0xf575d7['push'](BADGES['ON_FIRE']['id']);}else _0x466d81=0x0;_0xa329a5[_0xa53653(0x586)]({..._0x14fcf6,'isCorrect':_0x1313f1});}let _0xe4f285=_0x562ed1*0xa;_0x562ed1===_0x48f7a3[_0xa53653(0x665)][_0xa53653(0xbc8)]&&(_0xe4f285+=0x32,_0xf575d7['push'](BADGES[_0xa53653(0x259)]['id'])),_0x3fc061[_0xa53653(0x586)]({..._0x4c88d1,'score':_0x562ed1,'points':_0xe4f285,'badges':Array['from'](new Set(_0xf575d7)),'answers':_0xa329a5});}const _0x166388=_0x3fc061[_0xa53653(0xbc8)]>0x0?_0x3fc061[0x0]['score']:0x0,_0x195aa7=Math[_0xa53653(0xbf8)](..._0x3fc061[_0xa53653(0x8cc)](_0x232580=>_0x232580['score'])),_0x48ad01=_0x3fc061['length']>0x0?_0x3fc061[_0x3fc061[_0xa53653(0xbc8)]-0x1][_0xa53653(0xb95)]:0x0,_0x4bdd94=_0x3fc061[_0xa53653(0xbc8)]>0x0?_0x3fc061[_0x3fc061[_0xa53653(0xbc8)]-0x1][_0xa53653(0xd9f)]:0x0,_0x2e30d5=doc(db,'artifacts/'+appId+_0xa53653(0x5b0)+_0x48f7a3['id']+_0xa53653(0x211),_0xe6b80c);await updateDoc(_0x2e30d5,{'attempts':_0x3fc061,'firstScore':_0x166388,'bestScore':_0x195aa7,'latestScore':_0x48ad01,'points':_0x4bdd94});}function cleanupQuizOptions(_0x32aebc){const _0x5d4837=_0x6a7885,_0x237d2e=(_0x4c1edd,_0x48c331)=>_0x48c331===0x0?_0x4c1edd:_0x237d2e(_0x48c331,_0x4c1edd%_0x48c331),_0x76267e=_0x35dde6=>{const _0x39477b=_0x380e;if(typeof _0x35dde6!==_0x39477b(0xdef))return null;_0x35dde6=_0x35dde6['trim']();const _0x264714=_0x35dde6[_0x39477b(0x3c3)](/[ /]/)[_0x39477b(0xcae)](_0x214a41=>_0x214a41!=='');if(_0x264714[_0x39477b(0xbc8)]===0x3)return parseInt(_0x264714[0x0])+parseInt(_0x264714[0x1])/parseInt(_0x264714[0x2]);else{if(_0x264714[_0x39477b(0xbc8)]===0x2)return parseInt(_0x264714[0x0])/parseInt(_0x264714[0x1]);else{if(_0x264714[_0x39477b(0xbc8)]===0x1&&!isNaN(_0x264714[0x0]))return parseFloat(_0x264714[0x0]);}}return null;},_0x1f9968=_0x1ce979=>{const _0x3ff5d0=_0x380e;if(typeof _0x1ce979!=='string')return _0x1ce979;const _0x1162d9=_0x1ce979[_0x3ff5d0(0x42b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x1162d9){const _0x375e9d=parseInt(_0x1162d9[0x1]);let _0x337ea6=parseInt(_0x1162d9[0x2]),_0x80c635=parseInt(_0x1162d9[0x3]);const _0x554cd3=_0x237d2e(_0x337ea6,_0x80c635);_0x337ea6/=_0x554cd3,_0x80c635/=_0x554cd3;if(_0x80c635===0x1)return(_0x375e9d+_0x337ea6)[_0x3ff5d0(0x443)]();return _0x375e9d+'\x20'+_0x337ea6+'/'+_0x80c635;}return _0x1ce979;};return _0x32aebc&&_0x32aebc[_0x5d4837(0x665)]&&_0x32aebc['questions'][_0x5d4837(0x79a)](_0x408cec=>{const _0xcc149e=_0x5d4837;if(_0x408cec[_0xcc149e(0x8c1)]===_0xcc149e(0xa3b)&&_0x408cec[_0xcc149e(0xd99)]){const _0x206e6a=new Map(),_0x272aa7=_0x408cec[_0xcc149e(0xd99)][_0x408cec[_0xcc149e(0x7cc)]];_0x408cec[_0xcc149e(0xd99)]['forEach'](_0x5e78d6=>{const _0x106474=_0x1f9968(_0x5e78d6),_0x575955=_0x76267e(_0x106474);_0x575955!==null&&!_0x206e6a['has'](_0x575955)&&_0x206e6a['set'](_0x575955,_0x106474);}),_0x408cec[_0xcc149e(0xd99)]=Array[_0xcc149e(0x568)](_0x206e6a[_0xcc149e(0xbd1)]());const _0xdbbe95=_0x408cec[_0xcc149e(0xd99)][_0xcc149e(0x75c)](_0x584191=>_0x584191===_0x1f9968(_0x272aa7));_0x408cec[_0xcc149e(0x7cc)]=_0xdbbe95!==-0x1?_0xdbbe95:0x0;}}),_0x32aebc;}function showGameStartConfirmationModal(_0xffd3c0,_0x2e5fce,_0x27239b){const _0x1ce6e8=_0x6a7885,_0x990849=document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x39a));document[_0x1ce6e8(0x52a)]('game-start-modal-title')['textContent']=_0x1ce6e8(0xbb3)+_0x27239b,document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x81d))[_0x1ce6e8(0x3c4)]=_0xffd3c0,document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x41d))[_0x1ce6e8(0x3c4)]=_0x2e5fce,document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x215))[_0x1ce6e8(0x9a3)]=!![];const _0x2f21d0=document[_0x1ce6e8(0x52a)](_0x1ce6e8(0xcf4)),_0x3a151d=document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x1dd)),_0x26f399=document[_0x1ce6e8(0x52a)](_0x1ce6e8(0x249));_0x2e5fce===_0x1ce6e8(0x5f1)?(_0x2f21d0['classList'][_0x1ce6e8(0xb2b)](_0x1ce6e8(0x68d)),document['querySelector'](_0x1ce6e8(0x8cf))['checked']=!![],_0x3a151d[_0x1ce6e8(0x9a3)]=!![],_0x26f399[_0x1ce6e8(0x817)][_0x1ce6e8(0xb2b)](_0x1ce6e8(0x68d)),document['getElementById'](_0x1ce6e8(0x5d2))[_0x1ce6e8(0x3c4)]=_0x1ce6e8(0x6df)):(_0x2f21d0[_0x1ce6e8(0x817)][_0x1ce6e8(0x642)]('hidden'),_0x3a151d[_0x1ce6e8(0x9a3)]=![],_0x26f399[_0x1ce6e8(0x817)][_0x1ce6e8(0x642)](_0x1ce6e8(0x68d))),_0x990849[_0x1ce6e8(0x817)][_0x1ce6e8(0xb2b)](_0x1ce6e8(0x68d));}async function saveGameResultsAsSubmissions(_0x32bab9){const _0x5af5ab=_0x6a7885;console['log'](_0x5af5ab(0x355),_0x32bab9);const _0x163a4b=_0x32bab9[_0x5af5ab(0x781)];let _0x14949d=[];if(_0x32bab9[_0x5af5ab(0xa6d)])_0x14949d=Object[_0x5af5ab(0x7e6)](_0x32bab9['players'])[_0x5af5ab(0x8cc)](([_0x28afdb,_0x183883])=>({'name':_0x28afdb,..._0x183883}));else{if(_0x32bab9[_0x5af5ab(0xdb7)])Object['values'](_0x32bab9[_0x5af5ab(0xdb7)])[_0x5af5ab(0x79a)](_0x964404=>{const _0x4da823=_0x5af5ab;_0x964404['members'][_0x4da823(0x79a)](_0x5ae5d3=>{const _0x4f7da8=_0x4da823;_0x14949d[_0x4f7da8(0x586)]({'name':_0x5ae5d3,'score':_0x964404['score'],'answers':_0x964404[_0x4f7da8(0xa6c)]});});});else _0x32bab9[_0x5af5ab(0x784)]&&Object['entries'](_0x32bab9[_0x5af5ab(0x784)])[_0x5af5ab(0x79a)](([_0x42efa4,_0xb3f91a])=>{const _0x7686a7=_0x5af5ab;_0x14949d[_0x7686a7(0x586)]({'name':_0x42efa4,..._0xb3f91a});});}if(_0x14949d[_0x5af5ab(0xbc8)]===0x0){console[_0x5af5ab(0xba9)](_0x5af5ab(0x949));return;}const _0x1b9c18=_0x32bab9[_0x5af5ab(0x28a)]?.[_0x5af5ab(0x665)]['length']||currentQuizData[_0x5af5ab(0x665)][_0x5af5ab(0xbc8)],_0x4bcb6d=writeBatch(db);for(const _0x5b05f7 of _0x14949d){const _0x1d5431=doc(db,_0x5af5ab(0x3c5)+appId+_0x5af5ab(0x5b0)+_0x163a4b+'/submissions',_0x5b05f7[_0x5af5ab(0xae4)]),_0x320ef7=(_0x5b05f7[_0x5af5ab(0xa6c)]||[])[_0x5af5ab(0xcae)](_0x168dc1=>_0x168dc1[_0x5af5ab(0x7d3)])[_0x5af5ab(0xbc8)];let _0x53c83b=_0x320ef7;_0x32bab9[_0x5af5ab(0x6a3)]&&_0x5b05f7['answers']&&_0x5b05f7[_0x5af5ab(0xa6c)][_0x5af5ab(0x79a)](_0x155747=>{const _0x6dd8b9=_0x5af5ab;if(_0x155747[_0x6dd8b9(0x7d3)]&&(_0x155747['wasConfident']===!![]||_0x155747[_0x6dd8b9(0x287)]==='confident'))_0x53c83b+=0x1;else!_0x155747[_0x6dd8b9(0x7d3)]&&(_0x155747['wasConfident']===!![]||_0x155747[_0x6dd8b9(0x287)]===_0x6dd8b9(0xcc3))&&(_0x53c83b-=0x1);});_0x1b9c18>0x0&&_0x320ef7===_0x1b9c18&&(_0x53c83b+=0x1);const _0x475f1={'score':_0x320ef7,'points':_0x53c83b,'badges':_0x5b05f7[_0x5af5ab(0x3c9)]||[],'submittedAt':new Date()[_0x5af5ab(0xb49)](),'answers':(_0x5b05f7['answers']||[])[_0x5af5ab(0x8cc)](_0x1433d8=>({'questionId':_0x1433d8['questionId'],'answer':_0x1433d8['answer'],'answerText':_0x1433d8[_0x5af5ab(0x4e7)],'isCorrect':_0x1433d8[_0x5af5ab(0x7d3)],'originalQuestionText':_0x1433d8[_0x5af5ab(0x815)],'wasConfident':_0x1433d8[_0x5af5ab(0x287)]}))},_0x4efe8a=await getDoc(_0x1d5431),_0x1d1acf=_0x4efe8a['exists']()?_0x4efe8a[_0x5af5ab(0x36d)]():{},_0x526589=_0x1d1acf['bestScore']||0x0,_0x5d880a=_0x1d1acf[_0x5af5ab(0xca0)]||[],_0x45eebe={'studentName':_0x5b05f7[_0x5af5ab(0xae4)],'totalQuestions':_0x1b9c18,'attempts':arrayUnion(_0x475f1),'latestScore':_0x320ef7,'points':_0x53c83b,'latestSubmittedAt':_0x475f1[_0x5af5ab(0x7ef)],'bestScore':Math[_0x5af5ab(0xbf8)](_0x526589,_0x320ef7),'firstScore':_0x5d880a[_0x5af5ab(0xbc8)]===0x0?_0x320ef7:_0x1d1acf['firstScore']||0x0};_0x4bcb6d[_0x5af5ab(0x6b3)](_0x1d5431,_0x45eebe,{'merge':!![]});}try{await _0x4bcb6d['commit'](),showMessage(_0x5af5ab(0xc06)+_0x14949d[_0x5af5ab(0xbc8)]+_0x5af5ab(0x384));const _0x11aae2=_0x32bab9[_0x5af5ab(0x28a)]?.['projectId']||currentQuizData?.['projectId']||currentProjectId;if(_0x11aae2){const _0x5b88c7=[...new Set(_0x14949d[_0x5af5ab(0x8cc)](_0x3f0458=>_0x3f0458['name']))];for(const _0x10b558 of _0x5b88c7){await updateStudentProfile(_0x11aae2,_0x10b558);}}}catch(_0x4771ff){console[_0x5af5ab(0xc4f)](_0x5af5ab(0xd09),_0x4771ff),showMessage(_0x5af5ab(0xd00));}}function _0x45dc(){const _0x30a7ac=['เรขาคณิต','อนุพันธ์:\x20กฎพื้นฐาน','add-parallel-shortcut-btn','webkitRequestFullscreen','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','parentNode','PROMPT_PLACEHOLDER','\x20ใหม่...','แคลคูลัสเบื้องต้น','การหารเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','ทะเล','dblclick','Error\x20rendering\x20student\x20progress:','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','analytics','.ai-content\x20p','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','options','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','Error\x20processing\x20file\x20for\x20AI:','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.move-file-shortcut-menu-btn','\x22\x20value=\x22true\x22\x20','points','results-display-select','cancel-admin-login-btn','confirmation-modal','verify-answers-editor-btn','getPage','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','substr','</p><p><strong>เฉลย:</strong>\x20','fas\x20fa-star\x20text-yellow-500','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20(\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','เกิดข้อผิดพลาดในการลบแบบทดสอบ','.project-card-content','list','ไม่พบแบบทดสอบสำหรับรหัสนี้','student-progress','bg-green-400\x20text-white\x20font-bold','parts','.rename-quiz-btn','groups','.verification-result-editor','show-leaderboard-btn','ระยะจากจุดถึงเส้นตรง','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Error\x20generating\x20teaching\x20content:','stem','autoTable','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','document','ช่างภาพ','export-compact-pdf-btn','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20จาก\x20','ต้นฉบับ\x202','answered','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การหาร','input[name=\x22team_player\x22]:checked','1816534DZeByG','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','all','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.edit-question-btn','shortcut_','fill_in_no_choices','closest','quadraticCurveTo','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','player-count','export-lesson-pdf-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','ondrop','/public/data/teamQuizzes','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-progress-content','export-image-btn','wheel','.remove-shortcut-from-tab-btn','result','Error\x20saving\x20manual\x20blueprint\x20project:','string','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.linkedQuizId','.color-palette-btn','fa-fire\x20text-orange-500','228oOSrhg','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบนี้ปิดใช้งานอยู่','\x20to\x20blueprint\x20topic\x20','rename-quiz-input','/questionBank','Leaderboard\x20update\x20transaction\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','drill-feedback','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สำหรับโปรเจค:\x20','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','numChoices','</td>','ฟังก์ชันพหุนาม','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.correct-response-input','px,\x20','pointercancel','quiz-results-view','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','สมการตรีโกณมิติ','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','Failed\x20to\x20kick\x20player\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ไม่พบแบบทดสอบ','mouse','</select>','การกระจายและการจัดหมู่','sync-timer-enable-checkbox','สายลมแห่งโชคชะตา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onerror','Error\x20listening\x20for\x20student\x20profiles:','text-input-area','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','export-leaderboard-image-btn','solution','confirm-admin-login-btn','นินจาชาเขียว','file-shortcut_','.bp-game-btn','manual-bp-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','transition-all','body','className','bg-blue-500\x20hover:bg-blue-600\x20text-white','ON_FIRE','/public/data/learnedFixes','quiz-leaderboard-table-body','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','\x22>ใช่</p>','API\x20call\x20failed\x20with\x20status:\x20','webkitExitFullscreen','parallel-shortcut-container','7uMSYtN','neq','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','</h4>','quiz-type-select','อัตราการเปลี่ยนแปลงทันที','confirm-delete-btn','ai-quiz-app-aefee.firebasestorage.app','readAsDataURL','[data-topic-id]','underline','ไม่ได้ตอบ','not_confident','interesting-stats-container','border-indigo-500\x20text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','stringify','highlighter-size-value','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','/submissions','quiz-form','shortcut-id-input','.live-answer-btn','save-game-results-checkbox','cancel-test-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','scale','reference-pdf-upload','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onkeydown','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isNormalTopic','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','/public/data/liveGames','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','total','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','กฎของโคไซน์','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','timer-mode-select','slide-counter','confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','bp-modal-difficulty-level-select','<button\x20data-tab-id=\x22','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','Copy\x20command\x20failed','ไม่พบข้อมูลแบบทดสอบ','bg-green-50','latestScore','generate-from-file-btn','baseVal','grabbing','false','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','deg','bg-green-200\x20text-green-800','ฟังก์ชันราก\x20(root)','ceil','ข้าวมันไก่พิเศษ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','behavior-log','กรุณาพิมพ์คำตอบ','text-gray-200','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','short_answer','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','sync-timer-duration-container','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ระบบสมการเชิงเส้นสองตัวแปร','url','<div\x20class=\x22my-2\x22>','fa-pen','smooth','.use-hidden-shortcut-btn','API\x20Error\x20Body:','ลบผลสอบของ\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','PERFECT_SCORE','generated-quiz-container','topic-input-area','cdot','upper_group_count','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDocument','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','text-green-600','badgesCount','topic-quiz-bank-modal','.lastAnswerIndex','รูปสี่เหลี่ยมและสมบัติ','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22,\x20','referenceUrl','student-passcode-input','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','scheduled_pending','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์หัวข้อ...','คำอธิบาย...','ไม่สามารถบันทึกการตั้งค่าได้','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','scratchpad-controls','open','แอบชอบ','generated','project-passcode-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','#E0E7FF','shuffledQuiz','pointContent','text-red-500\x20hover:text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','memoryContent','#6366F1','enable-passcode-checkbox','เศรษฐีดูไบ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','Failed\x20to\x20get\x20hint:','order','project-detail','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20hybrid\x20quiz:','.delete-file-shortcut-tab-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','student-project-leaderboard-tab','border-green-700','AI\x20grading\x20failed:','progress-student-select','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','</div></div></div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','results','linkedQuizIds','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','ไม่สามารถเพิ่มนักเรียนได้','input[type=\x22checkbox\x22]','Loaded\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ความเป็นอิสระของเหตุการณ์','สมการลอการิทึม','frac','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ดาวTikTok','rgba(16,\x20185,\x20129,\x200.7)','.question-editor-item','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','on_fire','quiz-id-input','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','bar','modal-passing-score-input','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','.\x20แต่ละข้อมี\x20','team-student-list','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','text-red-700\x20bg-red-100','Error\x20pairing\x20quizzes:','กรุณาเลือกสถานะ','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','comparison-overall-content','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','num-choices','close-comparison-modal-btn','API\x20Error\x20Response:','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดีมาก','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Failed\x20to\x20end\x20group\x20mode\x20game:','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','save-quiz-edits-btn','numeric','\x22\x20จำนวน\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','พลังคลื่นเต่า','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ท้องฟ้า','การหารทศนิยม','แบบทดสอบจากคลังส่วนตัว','แก้ระบบสมการด้วยเมทริกซ์','visible','Error\x20displaying\x20question\x20bank:','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','เกมสิ้นสุดลงแล้ว','1872vDaJXz','ศิลปิน','จันทร์เจ้า','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','student-quiz-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.quiz-status-btn','.start-live-race-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','createElement','ไฟล์ทั้งหมด','ถูก','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','source_document.pdf','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','toggle','idealAnswer','ไม่พบโปรเจค','globalAlpha','save-quiz-btn','\x20link(s)\x20for\x20quiz\x20ID:\x20','default-2','Error\x20joining\x20activity:','\x5csum','หมาป่าเดียวดาย','preventDefault','_blank','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','dragstart','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','previousElementSibling','cloneNode','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-file-shortcut-btn','topicId','mixed','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','icon',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','includes','กำลังจับคู่...','text-red-600','focus','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','reveal-answer-btn','_opt1\x22\x20name=\x22question','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','Error\x20updating\x20custom\x20topic:','stdDev','/public/data/blueprintProjects/','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','สลับไปโหมดผู้ควบคุม','parallel-test-tab','\x22\x20data-q-type=\x22','timed','Error\x20updating\x20quiz\x20settings:','name_desc','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','textarea[name=\x22question_single\x22]','.start-presentation-list-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','เรขาคณิตวิเคราะห์','schedule','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','visibilityState','เสือซ่อนเล็บ','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','newOptions','text-content-input','manual-create-blueprint-btn','.delete-shortcut-tab-btn','text-white','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','.ideal-answer-input','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','OBJECT','timerDuration','.move-shortcut-menu-btn','Successfully\x20removed\x20','text-green-800','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','รูปหลายเหลี่ยมและมุมภายใน','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-result-card','Error\x20starting\x20group\x20quiz:','โลมาบิน','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','padStart','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาพิมพ์คำตอบของกลุ่ม','cancel-quiz-bank-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.open-bp-project-btn','Attempting\x20to\x20save\x20game\x20results...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','sync-timer-countdown','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','some','Error\x20in\x20handleApiCall:','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','join','(คู่ขนาน)\x20','ตัวประกอบและตัวประกอบเฉพาะ','มุมพิเศษ\x2030°-60°-90°','live-short-answer-input','ไม่สามารถโหลดรายการโปรเจคได้','confirm-join-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','#F59E0B','getItem','unshift','bulk-confidence-scoring-checkbox','toLocaleString','topic-tab','Error\x20deleting\x20custom\x20topic:','display','data','[data-field=\x22subTopic\x22]','.regenerate-question-editor-btn','<div\x20class=\x22my-6\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ก่อนเรียน','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','แบบทดสอบฝึกฝนเรื่อง:\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','student-team-join','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','student-result-area','learningGaps','Enter','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เซียนสมองไว','setFont','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','textarea[name=\x22team_answer\x22]','/public/data/quizzes','\x20รายการ\x20สำเร็จ!','back-to-dashboard-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจค\x20\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.eraser-size-btn','</span></td>','/public/data/customMathTopics','[data-topic-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','td,\x20th','ยังไม่มีนักเรียนส่งงาน','querySelector','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','includeImages','.cancel-edit-topic-btn','presentation-scratchpad-btn','ดาบพิฆาตอสูร','แบบทดสอบนี้หมดเวลาแล้ว','ค่าความจริง/ตารางค่าความจริง','generate-worksheet-btn','confirm-game-start-modal','bg-black/10','questions_only','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-50','toFixed','none','save-bp-reference-btn','bg-green-200\x20text-green-900\x20font-bold','fill_in_with_choices','POST','undefined','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','file-tab','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','file-default-','ARRAY','เรเดียนและการแปลงหน่วย','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','ผ่าน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','wakeLock','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x20รายการสำเร็จ!','sin','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','every','.game-start-btn','beforeend','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','eraser-tool-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','_new','หนอนหนังสือ','Error\x20saving\x20shortcut:','split','value','artifacts/','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','กราฟฟังก์ชันตรีโกณ','badges','กำลังสร้างคำถามข้อ\x20','อยู่ในสาระการเรียนรู้ใด:','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ลบหัวข้อสำเร็จ','พาราโบลา','.delete-shortcut-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','กรุณาสร้างบทเรียนก่อน','<button\x20data-id=\x22','files','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-student-rankings-btn','sync-matching-select','%</span>','เกี่ยวกับหัวข้อ\x20\x22','isAdaptive','project-name-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','globalSettings','ฟังก์ชันสัมพัทธ์\x20(rational)','questionStatus','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','คู่จิ้น','/public/data/projects/','bg-green-200\x20text-green-900','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','การจัดกลุ่มข้อมูล','countdown-display','Error\x20starting\x20team\x20quiz:','bp-add-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','Failed\x20to\x20get\x20standardized\x20topic:','text-green-600\x20font-bold','docs','comeback_king','projectView','true_false','mean','cancel-file-shortcut-edit-btn','fill_in_the_blank','.file-topic-selection-btn','Original\x20quiz\x20not\x20found','lesson-sections-container','cancel-move-quiz-btn','border-indigo-400\x20ring-2\x20ring-indigo-200','.parallel-shortcut-tab-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','lesson-view-content','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','Error\x20deleting\x20all\x20students:','per-q-countdown','.delete-submission-btn','parent','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','difficultyValue','sync-player-list','Error\x20updating\x20old\x20quizzes:','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','grid','shuffle','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','live-player-list','shortcutIds','/public/data/practiceBank','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','game-start-mode','isStarred','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','ส้มตำปูปลาร้า','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','draggable-text','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ตอบถูกทุกข้อในแบบทดสอบนี้','ตรวจพบการออกจากหน้าจอครบ\x20','confirm-create-project-btn','devicePixelRatio','มุมและการวัดมุม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','match','#DBEAFE','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.scratchpad-content-wrapper','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ระบบอสมการ','เวกเตอร์และเมทริกซ์\x20(เสริม)','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','border-red-300\x20bg-red-50','/users/','topic_','นักเดินทาง','msExitFullscreen','q-explanation-','bestScore','bg-blue-100\x20text-blue-800','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','Failed\x20to\x20create/update\x20submission\x20record:','รักแรกพบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สาระที่\x201','ย้ายแบบทดสอบไปโปรเจคอื่น','qType','toString','resize','update-old-quizzes-btn','per-question-options','_opt0\x22\x20name=\x22question','keyConcepts','\x5cge','โหลดนาน','.admin-try-quiz-list-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.answered','0\x200','generated-quiz-actions','generationConfig','Error\x20joining\x20sync\x20game:','.bp-edit-topic-btn','cancel-blueprint-projects-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20loading\x20blueprint\x20projects:','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','ondblclick','score-distribution-chart','disabled','แบตหมด','localeCompare','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','target','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','leaderboard-tab-content','original-mode-checkbox','image/png','th-TH','สายลับจับบ้านเล็ก','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','jspdf','export-lesson-to-pdf-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','lesson-loader','-\x20ข้อ\x20','สถานะไม่ชัดเจน','.edit-shortcut-btn','behavior-log-tab-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','toLowerCase','text-indigo-600','next-drill-btn','sara','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.presentation-option','<tr\x20class=\x22','gameData','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','save-parallel-shortcut-btn','_opt0\x22>ใช่</label></div>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','bp-modal-num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ปล่อยพลัง','scrollIntoView','cancel-global-activity-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','manual_release','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','getAttributeNS','ชีสเค้ก','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','handleGenerateQuizFromBlueprintTopic','จำนวนเต็มลบ','พีชคณิตและฟังก์ชัน','ความแปรปรวน','<div>','students','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20สำเร็จ!','FIRST_TRY_ACE','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','candidates','\x20ตัวเลือก)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','show-in-student-dashboard-checkbox','indexOf','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','15576ImdrYc','วงรี','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','scratchpad-options','\x20mx-1\x20text-lg\x22></i></span>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','การแจกแจงปกติและ\x20z-score','createdAt','getElementsByTagName','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','bg-green-200','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','kick-player-btn','bg-black/20','admin-password-input','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.delete-question-editor-btn','text-purple-600','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','overline','lineWidth','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','whole_quiz','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','quiz-generation-area','\x20mr-2\x22></i>','activeGameSession','p-2\x20bg-black/10\x20rounded-md','opacity','องค์ประกอบของฟังก์ชัน','timestamp','player-list-lobby','members','blur','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','onclick','แบบปรนัย\x204\x20ตัวเลือก','Error\x20listening\x20for\x20starred\x20quizzes:','file-shortcut-id-input','endTime','geq','#open-additional-parallel-shortcuts-btn','436834pMmWYh','get','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ทำคะแนนได้เกินครึ่ง','ความน่าจะเป็นแบบมีเงื่อนไข','null','สรุปผลการวิเคราะห์:\x5cn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ตัวเลือก\x20ข','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','reveal-names-btn','summary_chart','.move-shortcut-item','แมวเก้าชีวิต','https://corsproxy.io/?','answerText','select[name=\x22question_single\x22]','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','.pdf','เน็ตช้า','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','มุมพิเศษ\x2045°-45°-90°','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','.bp-create-topic-quiz-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','bg-gray-200\x20text-gray-700','toLocaleDateString','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','rows','Error\x20in\x20generating\x20from\x20files:','isFinished','.start-game-btn','contents','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','อัตราส่วนและสัดส่วน','ไม่สามารถสร้างโปรเจคได้','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','podium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22',';\x22\x20data-id=\x22','upperGroupResponders','offset','dragover','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','สร้างแบบทดสอบ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','เพิ่มปุ่มลัดจากไฟล์ใหม่','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20mb-2\x22>','#e21b3c','applicationData','พิซซ่าหน้าทุเรียน','questionDisplayedAt','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','.project-card-container:not(.opacity-50)','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','parseFromString','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','(คัดลอก)\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','Error\x20during\x20class\x20analysis:','คำถามดิบ:\x20\x22','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','start-sync-game-btn','totalQuestions','preTScore','แก้ไขข้อนี้','pin','ไฟล์ลัด\x201','AI\x20request\x20was\x20blocked.\x20Reason:\x20','getElementById','</p>','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','.quiz-bank-present-btn','practiceProblems','cancel-manual-bp-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','หยุดระบบจับเวลาหรี่หน้าจอ','.edit-hidden-parallel-shortcut-btn','undo-btn','modal-close-btn','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22\x20ออกจากคลังนี้?','อินเวอร์สของเมทริกซ์','เกิดข้อผิดพลาดในการสร้างใบงาน','\x20|\x20ID:\x20','input','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','authed_project_','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option>กำลังโหลดโปรเจค...</option>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-settings-modal','text-blue-700\x20bg-blue-100','quiz-status-modal','documentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','กำลังดึงไฟล์อ้างอิงจากลิงก์...','firstScore','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ธอร์ค้อนบิน','การจัดหมู่\x20(Combination)','showInStudentDashboard','clientY','complexityValue','เกิดข้อผิดพลาดในการลบนักเรียน','การสร้างรูปด้วยวงเวียน–สันตรง','file-input-area','modal-confidence-mode-container','explanation','.quiz-bank-settings-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','both','confirm-confident','/public/data/blueprintProjects','createdBy','.delete-quiz-btn','student-initial-view','Error\x20editing\x20topic:','click','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','from','.move-file-shortcut-item','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</div><div\x20class=\x22space-y-2\x22>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','\x22\x20class=\x22color-palette-btn\x20','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-try-btn','correctResponse','element','บันทึกแบบทดสอบสำเร็จแล้ว!','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','cancel-quiz-edits-btn-footer','scratchpad-header','อินฟลูเอนเซอร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','standardTopic','Error\x20joining\x20team\x20quiz:','times','timer-duration-input','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','สายตาสั้น','push','(ก่อนเรียน)','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ร้อยละประยุกต์','confirm-team-players-btn','Error\x20confirming\x20players:','live-game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','back-to-dashboard-btn','_opt','answering','category','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','.txt','show-final-results-btn','.answers','</body></html>','sync-timer-bar','\x20สำเร็จ','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupNames','มูเตลู','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','Error\x20fetching\x20student\x20rankings:','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','กราฟแท่ง\x20กราฟเส้น','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-player-management','ปริพันธ์ไม่จำกัด','translate','ผิด','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','question-complexity-select','show_pass_fail_only','passcode-input-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x20จุด','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','/public/data/quizzes/','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','tfrac','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','removeEventListener','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','กำลังอ่านและเตรียมไฟล์...','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','modal-shuffle-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','<textarea\x20name=\x22question','</th>','tGain','additional-shortcuts-modal','ฮัลค์','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','pen-tool-btn','Error\x20saving\x20reference\x20URL:','bg-[#4ADE80]\x20text-green-900\x20font-bold','คุณแน่ใจว่าต้องการลบแท็บนี้?','</form>','bp-modal-include-images-checkbox','opacity-50','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','close-comparison-modal-footer-btn','nickname-input','\x20ตัวเลือก.\x20','sync-timer-duration-input','additional-parallel-shortcuts-modal','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','bg-[#EF4444]\x20text-white\x20font-bold','pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','load-quiz-btn','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','fa-rocket\x20text-purple-500','Error\x20during\x20deep\x20delete:','คัดลอกแบบทดสอบสำเร็จ','scratchpad-canvas','สร้างโปรเจคสำเร็จ!','math-topic-search-input','.move-parallel-shortcut-item','ปวดหลัง','modal-loop-until-pass-checkbox','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','student-join-game-view','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','เปิด\x20(จับเวลา)','แก้ไขหัวข้อสำเร็จ','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20','sync','ดาวสภา','s;\x22\x20title=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','bp-reference-file-url','finishReason','reset-project-order-btn','application/json','คนคุย','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','thead','quiz-start-time','release','manage-tab','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','แผนภาพเวนน์','lesson-plan-modal','playerNicknames','.move-parallel-shortcut-menu-btn','ยืนยันการจับคู่','gameVariant','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','file-upload-input','กรุณาตั้งชื่อแท็บใหม่:','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','AI\x20Formula\x20Fix\x20Error:','name_asc','คณิตศาสตร์','btn','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','numQuestions','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','dimmed','dispatchEvent','แก้ไขปุ่มลัดจากไฟล์','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','ยืนยันการกระทำ','Test\x20Blueprint','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','.quiz-bank-checkbox:checked','สลับไปโหมดนักเรียน','\x5cfrac{$1}{$2}','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut_','confidence-scoring-description','text-yellow-800','save-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','เกิดข้อผิดพลาดในการลบ','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','analytics-tab-content','bg-green-100\x20text-green-800','.use-hidden-parallel-shortcut-btn','Error\x20verifying\x20answers\x20in\x20editor:','blueprint-topics-list','flex\x20flex-col\x20gap-2','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคที่ต้องการลบ','bg-green-100','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','input[type=\x22radio\x22]:checked','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','Error\x20fetching\x20lesson\x20content:','open-sync-scratchpad-btn','content','custom-math-topic-input','dragend','สิงโตยิ้ม','student-reading-area','มือปราบสายรุ้ง','add','answer-counter','Invalid\x20response\x20structure\x20from\x20AI.','บันทึกโปรเจค\x20\x22','อัศวินรัตติกาล','group','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','selected-answer-index-hidden','#FEE2E2','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','parallel-shortcut-modal-title','<p>','text-red-900','ย้ายแบบทดสอบสำเร็จ','innerText','student-quiz-area','ความเท่ากันทุกประการของสามเหลี่ยม','parallel-default-2','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','bp-modal-shuffle-setting-select','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','starred','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','transformOrigin','สถิติและความน่าจะเป็น','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-emerald-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Could\x20not\x20fetch\x20reference\x20file:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x0a\x20\x20\x20\x20<!--\x20▼▼▼\x20[2.\x20สร้าง\x20div\x20ใหม่ครอบ\x20และย้าย\x20PIN\x20มาไว้ตรงนี้]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','.ai-fix-formula-btn','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','NEGATIVE_INFINITY','การคูณทศนิยม','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยูทูปเบอร์ฝึกหัด','หัวข้อที่สร้างเอง','selectedTopicNames','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','presentation-slide-container','textContent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','suggestedAnswer','กฎบวกและกฎคูณ','Error\x20unlinking\x20quiz:','generate-from-text-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','อสมการเชิงเส้น','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','ยอดเยี่ยม!','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.ai-content\x20li','quiz-results-table-body','รหัสไม่ถูกต้อง','q-image-container-','<h1></h1>','ปุ่มลัดทั้งหมด','main-correct-answer-display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#add-question-editor-btn','project-list','hidden','link-input-area','save-shortcut-btn','(ฉบับง่าย)\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังอ่านไฟล์\x20Test\x20Blueprint...','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','หมดเวลา!\x20กำลังส่งคำตอบ...','2353768xQkduI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','ai-quiz-app-aefee.firebaseapp.com','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','download','confidence-choice-btn','<svg','admin-dashboard','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','bg-[#DCFCE7]\x20text-green-900','players.','.shortcut-list-item','user','isConfidenceScoringEnabled','catch','Blueprint\x201','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','leq','ดอทโปรดักต์\x20(dot)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','คนดีศรีสยาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','set','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','หลังเรียน','การแจกแจงทวินาม\x20(พื้นฐาน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','admin-testing','export-pdf-modal','ผู้ควบคุม\x20(ทดสอบ)','ย้าย','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','pdf','groups.','bank-quiz-list','shortcut-modal-title','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','pre-test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','label','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-link-quiz-btn','กำลังเตรียมไฟล์...','ค่าเฉลี่ย','hover:bg-indigo-100','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20saving\x20settings:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','promptFeedback','sqrt','option','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','insertAdjacentHTML','.shortcut-list-item:not(.opacity-50)','กำลังสร้างเนื้อหา:\x20','Team\x20Quiz','show_results_only','addEventListener','Error\x20updating\x20project\x20name:','240','modal-confidence-mode-select','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','.generate-content-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','N/A','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','getScreenCTM','blueprint-upload-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รูปแบบการให้เหตุผล','blueprint-topics-list-container','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ก้อนเมฆ','bank-tab','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-results-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','bg-red-200\x20text-red-800','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','curriculum','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการบันทึกโปรเจค','กรุณาป้อนรหัสแบบทดสอบ','promise','#results-table\x20thead\x20tr','.bp-delete-topic-btn','<tr>','หมดเวลาสำหรับข้อนี้!','#D1FAE5','reset-view-btn','วงกลม:\x20สมการและสมบัติ','.isScored','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-results','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','verify-answers-btn','text/csv;charset=utf-8;','.delete-student-btn','bg-red-500','isLooping','start-game-btn','mouseup','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','นักประดิษฐ์','shouldSaveResults','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','</div>\x0a</div>\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','subTopic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','title','confidence-input-','pinnedProjects','settings','แก้ไขชื่อหัวข้อย่อย:','Error\x20starting\x20game:','subTopics','per_question','analytics-summary-cards','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','back-to-dashboard-from-bp-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','close-additional-file-shortcuts-btn','commit','editable-text-','question-analytics-container','tooltipTarget','destroy','</tbody></table>','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.view-bp-lesson-btn','.edit-quiz-btn','จิงโจ้สโลว์ไลฟ์','close-game-final-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','first_try_ace','\x22\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</strong></div>','classWeaknesses','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','confidence-scoring-toggle','.star-quiz-btn','Error\x20saving\x20file\x20shortcut\x20config:','bp-modal-num-questions','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x27,\x20\x27','perseverance','admin-try-quiz-btn','shadowColor','team-player-status-grid','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','checkbox','floor','onloadend','bp-project-title','กฎของไซน์','ไม่พบแบบทดสอบในระบบเลย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','แผนการสอน:\x20','findIndex','fa-dumbbell\x20text-gray-700','\x22\x20name=\x22confidence','then','parallelShortcutTabs','width','.generate-lesson-btn','add-shortcut-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','preTestId','Error\x20starting\x20sync\x20game:','\x5ctimes','(หลังเรียน)\x20','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22',')\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x22\x20data-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','topic-bank-list','.sortable-header','leaderboard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','fileShortcutsConfig','outerHTML','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','shortcut-name-input','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','json','number','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','quizId','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึก','responses','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','typesetPromise','abs','\x22\x20data-topic=\x22','correct','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','include-images-checkbox','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','.bp-unlink-quiz-btn','lesson-plan-content','.topic-selection-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','progress-project-select','touch','บทเรียนเรื่อง:\x20','default','trim','dashboardConfig','standard','forEach','tool','fix\x20the\x20option','bg-red-500\x20text-white\x20font-bold','ลิมิต','สรุปผลสุดท้าย','ฟังก์ชันยกกำลัง','mandatory','การคูณเศษส่วน','Error\x20fetching\x20project\x20quizzes:','height','studentName','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','cancel-create-project-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','fa-shield-alt\x20text-gray-600','กำลังอัปเดตแบบทดสอบ\x20','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-topics-list-container','isScored','student-quiz-leaderboard-table-body','project-passcode-modal','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','</span>','querySelectorAll','#ffffff','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','input[name=\x22syncVariant\x22]:checked','empty','key','setAttribute','<p\x20class=\x22text-2xl\x22>','</label></div>','scrollY','/lessons','การบวก','1:274192258111:web:4120c9118229b5644dd48a','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','appendChild','.edit-custom-topic-btn','เศษส่วน\x20(ย่อ/ขยาย)','text-indigo-800','.summary-bar-item','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallelShortcutOrder','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','leaderboard-tab','correctAnswerIndex','export-tutor-pdf-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','.toggle-actions-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','หน่วยความยาวและการแปลง','isCorrect','index','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ไฮเพอร์โบลา','การประยุกต์เวกเตอร์พื้นฐาน','Blueprint\x202','-options\x22>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','transparent','num-choices-container','classStrengths','สมการยกกำลัง','topics.','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','topic-bank-subtopic-name','entries','contains','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','project-title','div[data-question-index=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','active','quiz-leaderboard-table-container','Error\x20updating\x20project\x20color:','submittedAt','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ออฟฟิศซินโดรม','เพิ่มหัวข้อ\x20\x22','now','cancel-bulk-quiz-settings-btn','กรุณากรอกข้อมูลให้ครบทุกช่อง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20data-quiz-id=\x22','file-shortcuts-loading-msg','end-sync-game-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','add-parallel-shortcut-tab-btn','next-sync-question-btn','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','.pointsLastQuestion','confidence_single','topic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบเติมคำตอบ','parseInline','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คาถาแยกเงาพันร่าง','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','modal-adaptive-quiz-checkbox','originalQuestionText','confidence-mode-container','classList','Error\x20deleting\x20submission:','shuffleSetting','passcode','เกิดข้อผิดพลาดในการแก้ไข','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','game-start-quiz-id','splice','ยอดนักสืบ','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','keydown','.application-options\x20button','qIndex','memory','บันทึกการแก้ไข','manual-blueprint-modal','live-options-container','Error\x20updating\x20quiz\x20status:','Error\x20calling\x20Gemini\x20API:','border-green-300\x20bg-green-50','file.txt','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','worksheet-input-area','เปลี่ยนชื่อแบบทดสอบสำเร็จ','อสมการค่าสัมบูรณ์','global-quiz-search-input','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','decode','สอบซ่อม','hasPerfectScoreBonus','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','results-tab-content','latestSubmittedAt','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','#confidence-input-','results-quiz-id-display','applicationHTML','retake-quiz-loop-btn','highlighter-size-slider','change','save','loader','submission','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-shortcut-container','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','ตรวจคะแนนใหม่\x20','approx','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สอบปกติ','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','parallel-shortcut-editor-modal','onchange','input[name=\x22status-option\x22]:checked','อัปเดตสถานะสำเร็จ','ไม่พบข้อมูลข้อสอบหลังเรียน','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','global-activity-modal','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x20<!--\x20[เพิ่ม]\x20แสดง\x20PIN\x20ที่นี่\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','การลบทศนิยม','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-reference-url-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','loader-text','.group\x5c/dropdown','\x5cle','parallel-default-1','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','getTime','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','gamePin','project-detail-view','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','applicationContent','.flex.justify-between.items-center','\x20เข้าร่วมกลางเกม','\x0a\x20\x20\x20\x20','bg-blue-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','additional-file-shortcuts-modal','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<div><input\x20type=\x22radio\x22\x20id=\x22q','keys','requestFullscreen','behaviorLog','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','</p><div>','export-leaderboard-word-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','/public/data/projects','สร้างแบบทดสอบปรนัย','style','ข้อ\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','การบวกทศนิยม','สามเหลี่ยม\x20(ชนิด/สมบัติ)','ม้าดีดกะโหลก','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','offsetWidth','ondragover',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.status','selected-topics-count','ชนิดของข้อมูลและการเก็บข้อมูล','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','เกมเมอร์','summaryContent','pointerdown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal_at_end','incorrect','$1\x20\x5cfrac','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','cancel-quiz-settings-btn','isPasscodeEnabled','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','confidence-modal','keyup','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','กรุณาเลือกชื่อของคุณ','disabled\x20bg-gray-400\x20cursor-not-allowed','shuffle-setting-select','#26890c','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','pointsLastQuestion','ตรวจทานเฉลยเสร็จสิ้น!','นักล่าฝัน','ความชันเส้นสัมผัส','อัตราและอัตราหน่วย','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','text/html','Error\x20loading\x20user\x20preferences:','sync-submit-btn','parallel-shortcuts-loading-msg','12621438KINtkI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Failed\x20to\x20resume\x20game\x20session:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questionType','ติดซีรีส์','bulk-results-display-select','.topic-category','team-quiz-topic','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','find','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</tbody></table></div>','map','สัญกรณ์วิทยาศาสตร์','input[name=\x22drill_answer\x22]:checked','input[name=\x22syncVariant\x22][value=\x22classic\x22]','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x22\x20value=\x22false\x22\x20','ผู้เชี่ยวชาญ','file-topics-list','bg-yellow-200','</li>','ใช่\x20/\x20ถูก','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','G-V90KRM0L63','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','px)\x20scale(','perQuestionStats','viewBox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','short','move','\x20กลุ่ม</p></div>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprint-project-manager-view','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','bg-gray-500','blueprint-projects-modal','mode-switcher-btn','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ไม่มีผู้ตอบตัวเลือกนี้','PERSEVERANCE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results_','.project-card-container.opacity-50','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','หมีขั้วโลกใต้','scratchpad-close-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-dropdown','input[type=\x22text\x22]','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','hasOwnProperty','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','next-question-btn','results-table','file-shortcut-editor-modal','generate-from-parallel-test-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lessonPlan','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กาแฟขม','.move-file-shortcut-dropdown','Error\x20adding\x20custom\x20topic:','quiz-leaderboard-table','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','random','10vImgZz','จากไฟล์ที่แนบมานี้,\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','additional-file-shortcuts-list','results-table-container','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x20(ID:\x20','คะแนนเต็ม!','text-tab','<p\x20class=\x22font-bold\x20text-sm\x20','cursor','ดวงดาว','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','ไม่พบเกมที่กำลังเข้าร่วม','กรุณาเลือกคำตอบก่อนครับ','confidence-scoring-checkbox','questionId','inactive','justification','worksheet-topic-input','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-1','scores','SAFETY','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-blue-700','</p></div>','<div\x20class=\x22flex-1\x22></div>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','file-default-2','Error\x20generating\x20from\x20link:','สร้างคำถามแบบใช่/ไม่ใช่','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','startTime','totalPoints','.file-shortcut-btn[data-id=\x22','close-lesson-view-btn','\x20/\x20','file-topic-input','actions-container-','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','contentEditable','modal-confidence-scoring-checkbox','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','getBoundingClientRect','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','Error\x20resetting\x20project\x20order:','ไม่ใช่\x20/\x20ผิด','bp-modal-passing-score-input','behavior-log-container','No\x20player\x20data\x20to\x20save.','projectId','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่','.delete-parallel-shortcut-btn','ยังไม่สร้าง','matching','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','circle','#student-project-leaderboard-content\x20thead','choices_only','quiz-results','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ไม่สามารถโหลดข้อมูลอันดับได้','Error\x20saving\x20user\x20preference:','quiz-editor-questions-container','closePath','student-list','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','สร้างคำถามแบบเติมคำในช่องว่าง','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','scheduled','เลือกโปรเจคเพื่อบันทึก','rgba(79,\x2070,\x20229,\x200.8)','write','ครัวซองต์','teachingContent','auto-fix-latex-btn','.export-pdf-list-btn','นักเขียน','back-to-results-btn','pointerType','parse','.draggable-text','lastAnswerIndex','fullscreenElement','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ฟังก์ชันลอการิทึม','ยกเลิกการเชื่อมโยงสำเร็จ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','ผู้พิชิตดาว','leaderboard-quiz','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','dfrac','loopUntilPass','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','msRequestFullscreen','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x22><span>','AI\x20did\x20not\x20return\x20any\x20content.','สายหมอก','.delete-parallel-shortcut-tab-btn','แท็บใหม่','topicName','slice','blueprint-shortcut-container','\x22\x20name=\x22team_answer\x22\x20value=\x22','mousedown','student-project-leaderboard-content','text-gray-400\x20hover:text-indigo-600','newCorrectIndex','.delete-hidden-parallel-shortcut-btn','pen-tools-group','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','Error\x20committing\x20score\x20updates:','<div\x20class=\x22mb-3\x20topic-category\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tabId','generate-from-blueprint-btn','ภูเขา','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-topic-list-container','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','game-pin-input','.duplicate-quiz-btn','checked','lesson-plan-title','ท็อปฟอร์ม','has','</option>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','playerName','results-quiz-title','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.confidence-choice-btn','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','copy','cancel-parallel-shortcut-edit-btn','ไม่ใช่','.shortcut-tab-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','Re-grade\x20process\x20failed:','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','modal-results-display-select','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','parallel-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','ส่วนเบี่ยงเบนเฉลี่ย','.quiz-bank-delete-btn','/studentProfiles','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','back-to-project-btn','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','</a>','student-quiz-leaderboard-tab','เกิดข้อผิดพลาดในการลบผลสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','quiz-bank-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#FEF3C7','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTextContent','add-file-shortcut-btn','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','delete-svg-btn','close-presentation-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','โจรสลัดอวกาศ','Error\x20starting\x20live\x20race:','.subTopic','delete-all-students-btn','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','\x0a---\x0a','close-additional-parallel-shortcuts-btn','text-indigo-700','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','delete','highlighter','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','Error\x20processing\x20parallel\x20shortcut\x20click:','อัปเดตพฤติกรรมสำหรับ\x20','<div\x20class=\x22answer-space\x22></div>','กำลังสร้างบทเรียน:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังดึงข้อมูลจากลิงก์...','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','blueprint-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','currentMode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','อัปเดตแบบทดสอบเก่า\x20','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','font-bold\x20text-green-700','scratchpad-question','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','อัปเดตการตั้งค่าของแบบทดสอบ\x20','จอมเวทย์ขนมหวาน','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','submission-status-chart','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','export-pdf-btn','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reference_onet.pdf','\x22\x20data-pre-test-id=\x22',',\x20r=','team','quick_thinker','???','clear-all-links-btn','student','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ความคล้ายของรูป','confirm-bulk-quiz-settings-btn','บักแตงโม','startsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','move-quiz-project-select','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','.ai-content\x20h3','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ตัวเลือก\x20ง','ไฟล์ลัด\x202','file-shortcut-name-input','กำลังอ่านไฟล์อ้างอิง...','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','text-blue-800','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.score','showRankings','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fileShortcutTabs','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','ไม่ผ่าน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','คำถามถัดไป','การวัด','จำนวนและการดำเนินการ','\x20หัวข้อ)','referenceFileUrl','\x5cpm','confirm-quiz-status-btn','นักวิทยาศาสตร์','clientX','พบ\x20Team\x20Quiz!','.generate-post-test-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','Error\x20displaying\x20blueprint\x20project:','parallel-shortcut-tabs-nav','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','bulk-quiz-settings-btn','คณิตการเงิน/บูรณาการ','student-quiz-topic','multiple_choice','.ai-content\x20td','passingScore','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_and_answers','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','ไม่สามารถเริ่มเกมได้','ระยะเวลา\x20(วินาที):','.bp-generate-lesson-btn','ปริมาตร/ความจุและการแปลง','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','project-dashboard-view','ไม่มีคำอธิบาย','NUMBER','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ownerSVGElement','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','parallel-shortcut-id-input','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','</div></div>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.topic-row','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','นอนไม่พอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x5cdiv','file-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x20|\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','button','student-progress-view','question','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','modal-timer-mode-select','ยอดเยี่ยม','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','https://drive.google.com/uc?export=download&id=','student-name-selection-view','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','answers','players','input[type=\x22radio\x22][value=\x22','hint','description','password-error-msg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','manual-bp-grade-level','แฟนทิพย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ไม่พบข้อมูลผู้ใช้','commonMistakes','mainTopics','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','quiz-editor-modal','open-blueprint-projects-btn','/preferences/main','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixed','\x20คะแนน</span></div>','(เลือกแล้ว\x20','round','pointerup','สมการเหตุผล\x20(rational)','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','bank-input-area','\x20from\x20sync\x20game:','\x27\x20ในหัวข้อ\x20\x27','</span><span\x20class=\x22font-bold\x22>','\x20ครั้ง)</span></td>','\x20คะแนน\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.kick-player-btn-sync','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','text-red-700','#retake-for-improvement-btn','blueprint-settings-modal','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','ชาไข่มุก','summary','-tab','QUICK_THINKER','คัดลอกรหัสแล้ว!','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','newOptionsPayload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous','perfect_score_status','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','analyze-strengths-btn','หมูกระทะจะเยียวยาทุกสิ่ง','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','Error\x20processing\x20shortcut\x20click:','สมการราก\x20(radical)','stepByStepExamples','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','answer-grid-container','fileShortcutOrder','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','point','cancel-confidence-btn','```json','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','#FFFFFF','targetId','\x22>จาก:\x20','next-question-timed-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','lastIndexOf','leaderboard-quiz-tab-content','เทพทรู','items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x20quizzes\x20into\x20global\x20cache.','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','prod','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','select','substring','beginPath','.tab-name-input','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.group','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','message','สู้ๆ\x20ลองอีกครั้งนะ','visibilitychange','\x5cneq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finished','topic-input','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ดูผลสรุปสุดท้าย','projectSort','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคู่:','จุด\x20เส้น\x20ระนาบ','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','Group\x20Mode','ondragstart','blueprint-options-container','parallel-shortcut-url-input','asc','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','name','touchend','การลบเศษส่วน','นักกีฬา','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','พอใช้','svg','toDataURL','behavior-log-tab-content','ฟังก์ชันค่าสัมบูรณ์','.linkedQuizIds','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','.project-card-container[data-id]','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','getContext','redo-btn','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20name=\x22question','เกิดข้อผิดพลาดในการลบโปรเจค','<li>','quizType','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','desc','pathname','Error\x20saving\x20blueprint\x20project:','fadeStartTime','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','q-text-','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700\x20bg-green-100','projectName','คะแนน','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','</strong></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','rgba(255,\x20255,\x200,\x200.5)','source-over','bp-modal-question-complexity-select','hint-btn','<i\x20class=\x22fas\x20fa-save\x22></i>','scores-tab-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','translate(','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#FCE7F3','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','num-questions','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','Error\x20analyzing\x20file\x20for\x20topics:','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','Error\x20clearing\x20all\x20links:','เลือกและบันทึก','attemptNumber','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-editor-modal','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','remove','quiz-bank-modal','บันทึกการตั้งค่าสำเร็จ','createElementNS','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ไอติมทอด','lastAnswerCorrect','(^|[^\x5c\x5c])\x5cb','add-file-shortcut-tab-btn','กิจกรรมสิ้นสุดลงแล้ว','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','color','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','comparison-overall-tab','.color-palette-popup','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','fix-lesson-latex-btn','.file-shortcut-tab-btn','Error\x20linking\x20quizzes:','isDefault','เกิดข้อผิดพลาดในการบันทึกลำดับ','specialist','MathJax','resultsDisplay','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','toISOString','เกิดข้อผิดพลาดในการอัปเดต:\x20','Error\x20saving\x20project\x20order:','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยังไม่ส่ง','กำลังสร้างแบบทดสอบ\x20\x22','blueprintUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','back-from-results-btn','.topic-actions-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','true','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','comparison-modal','presentation-modal','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','bp-modal-quiz-type-select','close-additional-shortcuts-btn','ref','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','loop-until-pass-checkbox','ไม่สามารถโหลดคลังข้อสอบได้','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','temp-loader-text-results','เน็ตไอดอล','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','replace','#E5E7EB','ฟังก์ชันแบบชิ้นส่วน','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','center','text-green-700','save-blueprint-as-project-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','.generate-easy-version-btn','rgba(79,\x2070,\x20229,\x201)','<button\x20id=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','separate-by-content-from-file-checkbox','blockReason','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x22\x20value=\x22','ลบแบบทดสอบสำเร็จแล้ว','STOP','กำลังสร้างรูปภาพ...','bg-gray-50','bulk-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','Sync\x20Mode','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','00:00','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','```','-options','\x20คู่\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onload','ฮิสโตแกรม','ที่พิมพ์ได้\x20จำนวน\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','#open-additional-file-shortcuts-btn','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','กำลังสแกนหาแบบทดสอบเก่า...','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','reduce','duration-300','flex','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','quiz-end-time','score','save-project-name-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','/public/data/syncGames','bg-green-500\x20hover:bg-green-600\x20text-white','กำลังค้นหากิจกรรม...','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','handleGenerateAndShowLesson','transform','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','นักดนตรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x0a\x20\x20\x20\x20','cancel-passcode-btn','start-presentation-btn','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','log','border-gray-200','text-red-300\x20hover:text-red-100','เกิดข้อผิดพลาดในการติดดาว','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.live-answer-btn,\x20#sync-submit-btn','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','shortcut-tabs-nav','เริ่มกิจกรรม:\x20','text/plain','.tab-name-display','โดเมนและเรนจ์','.edit-parallel-shortcut-btn','การปัดเศษและประมาณค่า','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','answeredCurrentQuestion','เพนกวินไฟ','ondragend','.pen-color-btn','text-gray-500','จับคู่แบบทดสอบสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','endsWith','<br>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20submission:','currentQuestionIndex','length','.bp-open-topic-bank-btn','timer-bar','project-sort-select','modal-timer-duration-container','shortcutOrder','data:application/vnd.ms-word;charset=utf-8,','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','สร้างชุดคำถามจับคู่','values','cancel-export-pdf-btn','list-view-btn','ส่งแล้ว','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','getBBox','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','additional-shortcuts-list','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','ฟังก์ชันกำลังสองและกราฟ','topics','touches','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.remove-file-shortcut-from-tab-btn','lobby','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.use-hidden-file-shortcut-btn','<p\x20class=\x22text-xl\x22>','auto','.png','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','ตัวเลือก\x20ค','application','passing-score-input','force-math-checkbox','#parallel-shortcut-tabs-nav\x20.tab-name-input','กัปตัน','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20saving\x20quiz\x20edits:','projectSortOrder','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ดอกเบี้ยอย่างง่าย','leaderboard-quiz-tab-btn','.bp-present-btn','สร้างแล้ว','ตอบถูก\x203\x20ข้อติดต่อกัน','max','MathJax\x20re-render\x20failed:','confirm-move-quiz-btn','Error\x20comparing\x20results:','.topic-actions-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','file-shortcut-url-input','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','comparison','.delete-custom-topic-btn','modal-timer-duration-label','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','<p><strong>คำตอบของคุณ:</strong>\x20','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','.question-editor-item[data-q-index=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','allResponses','toDate','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.quiz-bank-try-btn','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','block','classic','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','.unpair-quiz-btn','highlighter-tools-group','startedAt','.regenerate-question-btn','text','5914495nmVitU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','ปลาทูคะนอง','ไม่มี','moveTo','save-bp-settings-btn','fas\x20fa-user-edit','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','Invalid\x20response\x20structure\x20from\x20API.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','confidence','parallelTestShortcutsConfig','confirm-quiz-settings-btn','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','size','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','user-id-display','fill','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','bottom','lesson-view-modal','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Failed\x20to\x20generate\x20lesson:','text-gray-300\x20hover:text-white','top','</tr>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','confidenceMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','เกิดข้อผิดพลาด:\x20','ผู้ไม่ยอมแพ้','line-through\x20text-red-700','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','Error\x20saving\x20file\x20shortcut:','</h3>','การบวกเศษส่วน','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.quiz-bank-move-btn','error','พบ\x20Sync\x20Game!','export-excel-btn','หน่วยเวลาและการคำนวณเวลา','สมมาตร\x20(แกน/จุด)','เหมียวขี้เซา','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','global-activity-quiz-list','insertBefore','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','deltaY','Error\x20deleting\x20shortcut:','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','Error\x20moving\x20quiz:','student-name-select','lives','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','API\x20call\x20failed','เงินงวด\x20(อนุกรมเงินงวด)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','live-race','removeItem','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','manage-tab-content','ชื่อโปรเจคห้ามว่าง','\x22\x20class=\x22pin-project-btn\x20','questionIndex','text-emerald-900','responseSchema','nextElementSibling','.bp-create-content-quiz-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','พิสัย','แผนภาพกล่อง\x20(box\x20plot)','practice-topic-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ไม่พบเอกสารการส่งงานของ\x20','เกิดข้อผิดพลาดในการจับคู่','.csv','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','</span></div>','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','มังกรกินจุ','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','trail','not-found','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','questionText','มัธยฐาน','bg-green-100\x20font-bold','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','หน่วยมวล/น้ำหนักและการแปลง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.quiz-bank-parallel-btn','mousemove','manual-bp-project-name','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x20</div>\x0a\x20\x20\x20\x20','ยกเลิกการจับคู่สำเร็จ','status','Error\x20saving\x20visibility\x20settings:','mouseleave','print','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','shortcutTabs','attempts','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','บันทึกการตั้งค่าการแสดงผลสำเร็จ','#results-table','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','strokeStyle','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','reference.txt','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กุ้งเต้นแร้งกา','filter','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-game-start-btn','currentTarget','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','ai-quiz-generator-v3','.bp-view-analysis-btn','upperGroupNames','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','ความสัมพันธ์ของมุม','ลบโปรเจคสำเร็จแล้ว','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ซามูไรสายเดี่ยว','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<button\x20data-shortcut-id=\x22','AI\x20แก้ไขคำถามสำเร็จ!','confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normal','parentElement','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','lesson-view-title','ต้นฉบับทั้งหมด','fa-crown\x20text-yellow-500','link-url-input','eraser','.bp-live-btn','.pen-size-btn','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','#10B981','isArray','passcode-error-msg','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','reviewQuestionIndex','overallGroups','.live-summary-tooltip.visible','save-file-shortcut-btn','readAsArrayBuffer','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','เกิดข้อผิดพลาดในการเปลี่ยนสี','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ราชาคัมแบ็ก','view-my-progress-btn','<span\x20title=\x22','tab_','tan','blueprint-project-list','...','จากเนื้อหาต่อไปนี้:\x20\x22','<div\x20class=\x22p-2\x20rounded-md\x20','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-variant-selector','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','leaderboard_','ผู้เล่น\x20','bg-red-100','isAnonymousRevealed','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','เพิ่มรายการที่เลือก','submit-group-answer-btn','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','[data-topic-container-id]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','ถูกต้อง!','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','Error\x20saving\x20game\x20results:','math-topics-checkbox-container','shortcuts-loading-msg','shadowBlur','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','timerMode','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','สำหรับหัวข้อ\x20\x27',':</span><span>','Error\x20loading\x20quiz\x20for\x20student:','export-worksheet-pdf-btn','รอ...','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn','comparison-individual-content','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','results-tab','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','bg-red-100\x20text-red-800','Error\x20generating\x20parallel\x20post-test:','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','ไม่พบตารางสำหรับ\x20Export','blob','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','left','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','generate-from-link-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ความชันและเส้นตรง','test','fullscreenchange','Error\x20fetching\x20projects\x20for\x20move:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','class',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','cancel-quiz-status-btn','check-presentation-answer-btn','worksheet-tab','showImproveButton','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','close','shortcutId','lineCap','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','href','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','exists','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x20ชุด)','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','บันทึกการตั้งค่าแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','application/pdf','input[name=\x22question_single\x22]:checked','Error\x20deleting\x20student:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','</td></tr>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','pre-test-checkbox','ไอรอนแมน','สเกลและแผนที่','STRING','drop','ปรับเพิ่ม/ลดเป็นร้อยละ','setAttributeNS','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','lower_group_count','rgba(59,\x20130,\x20246,\x200.7)','setItem','sync-manage-players-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<tr><td\x20colspan=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','responses.','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','add-from-global-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','red','<option\x20value=\x22','global-quiz-count','#file-shortcut-tabs-nav\x20.tab-name-input','sort','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','not_generated','fa-user-astronaut\x20text-blue-700','.topic-name-display','handleGeneratePracticeTest','Error\x20preparing\x20content\x20quiz:','student-team-selection-view','bank-quiz-search-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x20ข้อ\x20','สร้างใหม่','answerValue','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','export-leaderboard-excel-btn','txt','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','parallel-test-input-area','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','การนับ','เส้นตรง:\x20ขนาน/ตั้งฉาก','bg-yellow-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'];_0x45dc=function(){return _0x30a7ac;};return _0x45dc();}async function saveQuiz(_0x162c7b=null,_0x44d6c2=null){const _0x51f499=_0x6a7885,_0x3cadaa=_0x162c7b||currentProjectId;if(!_0x3cadaa){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x51f499(0x665)]||!userId){showMessage(_0x51f499(0xc3c));return;}const _0x50bf43=document[_0x51f499(0x52a)](_0x51f499(0x300));_0x50bf43['disabled']=!![],_0x50bf43[_0x51f499(0xd3c)]=_0x51f499(0x3b1);const _0x2aa158=document[_0x51f499(0x52a)](_0x51f499(0xd4d))[_0x51f499(0x9a3)];let _0x4c0131=document['getElementById']('editable-quiz-topic')['innerText'][_0x51f499(0x797)]();_0x2aa158&&!_0x4c0131[_0x51f499(0xa13)](_0x51f499(0x587))&&(_0x4c0131='(ก่อนเรียน)\x20'+_0x4c0131);try{const _0x300cc4={'resultsDisplay':document[_0x51f499(0x52a)]('results-display-select')[_0x51f499(0x3c4)],'shuffle':document[_0x51f499(0x52a)]('shuffle-setting-select')['value'],'timerMode':document[_0x51f499(0x52a)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x51f499(0x583))[_0x51f499(0x3c4)])||0xa,'passingScore':parseInt(document[_0x51f499(0x52a)](_0x51f499(0xbea))['value'])||0x0,'isAdaptive':document[_0x51f499(0x52a)]('adaptive-quiz-checkbox')[_0x51f499(0x9a3)],'loopUntilPass':document[_0x51f499(0x52a)](_0x51f499(0xb5e))['checked']},_0x2e2ef5=(currentQuizData[_0x51f499(0x665)]||[])[_0x51f499(0x8cc)]((_0xa36f47,_0x272c6d)=>{const _0x1a592a=_0x51f499,_0x4f5771=document[_0x1a592a(0x52a)](_0x1a592a(0x1ff))[_0x1a592a(0x3c4)],_0x579afa={'id':'q_'+Date['now']()+'_'+_0x272c6d,'questionText':_0xa36f47[_0x1a592a(0xc82)]||'','explanation':_0xa36f47[_0x1a592a(0x559)]||_0x1a592a(0xa4a),'questionType':_0xa36f47[_0x1a592a(0x8c1)]||_0x4f5771,'imageCode':_0xa36f47[_0x1a592a(0x929)]||null};return(_0x579afa[_0x1a592a(0x8c1)]==='multiple_choice'||_0x579afa[_0x1a592a(0x8c1)]===_0x1a592a(0x3a3)||_0x579afa['questionType']===_0x1a592a(0x311)&&_0xa36f47[_0x1a592a(0xd99)])&&(_0x579afa['options']=_0xa36f47['options']||[],_0x579afa['correctAnswerIndex']=_0xa36f47[_0x1a592a(0x7cc)]!==undefined?_0xa36f47[_0x1a592a(0x7cc)]:0x0),(_0x579afa['questionType']===_0x1a592a(0x247)||_0x579afa[_0x1a592a(0x8c1)]===_0x1a592a(0xdd9)||_0x579afa[_0x1a592a(0x8c1)]===_0x1a592a(0x311)&&_0xa36f47[_0x1a592a(0x2fd)])&&(_0x579afa[_0x1a592a(0x2fd)]=_0xa36f47['idealAnswer']||''),_0x579afa[_0x1a592a(0x8c1)]===_0x1a592a(0x3f6)&&(_0x579afa[_0x1a592a(0x950)]=_0xa36f47[_0x1a592a(0x950)]===!![]),_0x579afa[_0x1a592a(0x8c1)]==='matching_item'&&(_0x579afa[_0x1a592a(0xdbf)]=_0xa36f47['stem']||'',_0x579afa[_0x1a592a(0x573)]=_0xa36f47[_0x1a592a(0x573)]||'',_0x579afa['allResponses']=_0xa36f47[_0x1a592a(0xc0f)]||[]),_0x579afa;}),_0x25f749={'topic':_0x4c0131,'quizType':currentQuizData[_0x51f499(0xafb)]||_0x51f499(0xa3b),'questions':_0x2e2ef5,'projectId':_0x3cadaa,'createdBy':userId,'createdAt':new Date()[_0x51f499(0xb49)](),'status':_0x51f499(0x7ec),'settings':_0x300cc4,'quizMode':_0x2aa158?_0x51f499(0x6c7):'standard','pairedQuizId':null,'lessonPlan':null};let _0x46dba9;while(!![]){_0x46dba9=Math['floor'](0x3e8+Math[_0x51f499(0x90b)]()*0x2328)['toString']();const _0x380eca=await getDoc(doc(db,_0x51f499(0x3c5)+appId+_0x51f499(0x383),_0x46dba9));if(!_0x380eca[_0x51f499(0xd3f)]())break;}await setDoc(doc(db,_0x51f499(0x3c5)+appId+'/public/data/quizzes',_0x46dba9),_0x25f749);if(_0x44d6c2&&currentBlueprintProjectId){console[_0x51f499(0xba9)]('Auto-linking\x20new\x20quiz\x20'+_0x46dba9+_0x51f499(0xdf8)+_0x44d6c2);try{const _0x491343=doc(db,_0x51f499(0x3c5)+appId+_0x51f499(0x55f),currentBlueprintProjectId);await updateDoc(_0x491343,{[_0x51f499(0x7e3)+_0x44d6c2+_0x51f499(0xaee)]:arrayUnion(_0x46dba9)});}catch(_0x518545){console['error'](_0x51f499(0xc0e),_0x518545);}}currentQuizData[_0x51f499(0x727)]=_0x300cc4,currentQuizData['id']=_0x46dba9;const _0x2ee1ac=document[_0x51f499(0x52a)](_0x51f499(0x44f));_0x2ee1ac['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x46dba9+_0x51f499(0x1c5),document['getElementById']('copy-quiz-id-btn')[_0x51f499(0x6dd)](_0x51f499(0x564),()=>copyTextToClipboard(_0x46dba9,'คัดลอกรหัสแล้ว!')),document[_0x51f499(0x52a)](_0x51f499(0xc79))[_0x51f499(0x6dd)](_0x51f499(0x564),()=>handleStartLiveRace(_0x46dba9)),document['getElementById'](_0x51f499(0xba4))[_0x51f499(0x6dd)](_0x51f499(0x564),()=>startPresentation(currentQuizData)),document[_0x51f499(0x52a)](_0x51f499(0x74f))['addEventListener'](_0x51f499(0x564),startAdminTest),showMessage(_0x51f499(0x575));}catch(_0x38f016){console['error'](_0x51f499(0x2ce),_0x38f016),showMessage(_0x51f499(0xd9c));}finally{_0x50bf43['disabled']=![],_0x50bf43[_0x51f499(0xd3c)]=_0x51f499(0x813);}}function promptForProjectAndSave(){const _0x589727=_0x6a7885,_0x5809d8=document[_0x589727(0x52a)](_0x589727(0x64c)),_0x5b5388=document[_0x589727(0x52a)](_0x589727(0xa16)),_0x3524a6=_0x5809d8[_0x589727(0x390)]('h3'),_0x70e269=document[_0x589727(0x52a)](_0x589727(0xbfa));_0x3524a6['textContent']=_0x589727(0x96b),_0x70e269[_0x589727(0x675)]=_0x589727(0xb25);allProjects[_0x589727(0xbc8)]===0x0?(_0x5b5388['innerHTML']=_0x589727(0xd0f),_0x70e269['disabled']=!![]):(_0x5b5388[_0x589727(0xd3c)]=allProjects[_0x589727(0x8cc)](_0x111ba7=>_0x589727(0xd63)+_0x111ba7['id']+'\x22>'+_0x111ba7[_0x589727(0xb0b)]+_0x589727(0x9a7))[_0x589727(0x35d)](''),_0x70e269[_0x589727(0x459)]=![]);_0x5809d8[_0x589727(0x817)][_0x589727(0xb2b)](_0x589727(0x68d));const _0x43e433=()=>{const _0x44bca1=_0x589727,_0x554494=_0x5b5388[_0x44bca1(0x3c4)];_0x554494?(currentProjectId=_0x554494,_0x5809d8['classList'][_0x44bca1(0x642)](_0x44bca1(0x68d)),saveQuiz(),_0x3524a6[_0x44bca1(0x675)]=_0x44bca1(0x441),_0x70e269[_0x44bca1(0x675)]='ย้าย',_0x70e269[_0x44bca1(0x5b6)](_0x44bca1(0x564),_0x43e433),_0x70e269[_0x44bca1(0x6dd)](_0x44bca1(0x564),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x70e269[_0x589727(0x5b6)](_0x589727(0x564),confirmMoveQuiz),_0x70e269[_0x589727(0x6dd)](_0x589727(0x564),_0x43e433);}function copyTextToClipboard(_0x2dfe9d,_0x56bd04){const _0x1513d6=_0x6a7885,_0x5cc1f9=document[_0x1513d6(0x2f1)](_0x1513d6(0x407));_0x5cc1f9[_0x1513d6(0x3c4)]=_0x2dfe9d,_0x5cc1f9[_0x1513d6(0x882)]['position']=_0x1513d6(0xa7f),_0x5cc1f9['style'][_0x1513d6(0x4c6)]='0',document['body'][_0x1513d6(0x7c1)](_0x5cc1f9),_0x5cc1f9[_0x1513d6(0x31a)](),_0x5cc1f9[_0x1513d6(0xac0)]();try{const _0x2ab118=document['execCommand'](_0x1513d6(0x9b7));showMessage(_0x2ab118?_0x56bd04:_0x1513d6(0x808));}catch(_0x55a62c){showMessage(_0x1513d6(0x808)),console[_0x1513d6(0xc4f)](_0x1513d6(0x231),_0x55a62c);}document[_0x1513d6(0x1ed)]['removeChild'](_0x5cc1f9);}function listenForProjectQuizzes(_0x1ec786){const _0x598c1b=_0x6a7885,_0x2e4246=collection(db,_0x598c1b(0x3c5)+appId+_0x598c1b(0x383)),_0x4176ee=query(_0x2e4246,where(_0x598c1b(0x94a),'==',_0x1ec786));unsubscribeQuizzesListener=onSnapshot(_0x4176ee,async _0x326926=>{const _0xa4d6b5=_0x598c1b;allQuizzes=_0x326926[_0xa4d6b5(0x3f3)][_0xa4d6b5(0x8cc)](_0x281ef5=>({'id':_0x281ef5['id'],..._0x281ef5['data']()})),renderQuizzes();},_0x547665=>{const _0x18302d=_0x598c1b;console[_0x18302d(0xc4f)](_0x18302d(0x7a3),_0x547665),document[_0x18302d(0x52a)](_0x18302d(0x997))[_0x18302d(0xd3c)]=_0x18302d(0x5af);});}async function renderQuizzes(){const _0xb1c545=_0x6a7885,_0x16ebee=document['getElementById'](_0xb1c545(0x997)),_0x3e8417=document[_0xb1c545(0x52a)]('quiz-search-input')[_0xb1c545(0x3c4)][_0xb1c545(0x476)]();let _0x30afd4;currentProjectId===_0xb1c545(0x659)?_0x30afd4=starredQuizzes:_0x30afd4=allQuizzes;let _0x3535f4=_0x30afd4[_0xb1c545(0xcae)](_0x3adb38=>_0x3adb38[_0xb1c545(0x801)][_0xb1c545(0x476)]()[_0xb1c545(0x317)](_0x3e8417));_0x3535f4[_0xb1c545(0xd66)]((_0x5cc11e,_0x54ca9b)=>new Date(_0x54ca9b[_0xb1c545(0x4ae)])-new Date(_0x5cc11e['createdAt']));if(_0x3535f4['length']===0x0){_0x16ebee['innerHTML']='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x442eda={},_0xe342c2=_0x3535f4[_0xb1c545(0x8cc)](async _0x436013=>{const _0x46e9a0=_0xb1c545,_0x5eed2e=collection(db,_0x46e9a0(0x3c5)+appId+_0x46e9a0(0x5b0)+_0x436013['id']+_0x46e9a0(0x211)),_0x479cd0=await getDocs(_0x5eed2e);_0x442eda[_0x436013['id']]=_0x479cd0['size'];});await Promise['all'](_0xe342c2);let _0x53419d='';_0x3535f4[_0xb1c545(0x79a)](_0x2cf103=>{const _0x5ae2cc=_0xb1c545,_0x268987=_0x442eda[_0x2cf103['id']]||0x0,_0x2e7228=_0x2cf103['status']||'active',_0x170212=_0x2cf103[_0x5ae2cc(0x727)]?.['timerMode']||_0x5ae2cc(0x3a0);let _0x51a910='',_0x506001='';const _0x3fdb07=new Date();let _0x4735a9=_0x2e7228;if(_0x2e7228===_0x5ae2cc(0x96a)){const _0x561fff=_0x2cf103[_0x5ae2cc(0x934)]?new Date(_0x2cf103['startTime']):null,_0x383565=_0x2cf103[_0x5ae2cc(0x4d1)]?new Date(_0x2cf103[_0x5ae2cc(0x4d1)]):null;if(_0x383565&&_0x3fdb07>_0x383565)_0x4735a9=_0x5ae2cc(0x921);else _0x561fff&&_0x3fdb07<_0x561fff?_0x4735a9=_0x5ae2cc(0x274):_0x4735a9=_0x5ae2cc(0x7ec);}switch(_0x4735a9){case _0x5ae2cc(0x921):_0x51a910=_0x5ae2cc(0x3e9),_0x506001=_0x5ae2cc(0x2c4);break;case _0x5ae2cc(0x274):_0x51a910='รอเปิด',_0x506001=_0x5ae2cc(0x548);break;case _0x5ae2cc(0x7ec):_0x51a910=_0x170212!==_0x5ae2cc(0x3a0)?_0x5ae2cc(0x5ea):'เปิดใช้งาน',_0x506001=_0x5ae2cc(0xb0a);break;default:_0x51a910=_0x5ae2cc(0x1d4),_0x506001=_0x5ae2cc(0xb0a);break;}let _0x222422='';const _0x1e3c01={'day':_0x5ae2cc(0xcf0),'month':_0x5ae2cc(0xcf0),'year':_0x5ae2cc(0x2d6),'hour':'2-digit','minute':_0x5ae2cc(0xcf0),'hour12':![]};if(_0x2e7228===_0x5ae2cc(0x96a)){if(_0x2cf103[_0x5ae2cc(0x934)])_0x222422+=_0x5ae2cc(0xabf)+new Date(_0x2cf103[_0x5ae2cc(0x934)])[_0x5ae2cc(0x369)](_0x5ae2cc(0x462),_0x1e3c01)+_0x5ae2cc(0x52b);if(_0x2cf103[_0x5ae2cc(0x4d1)])_0x222422+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x2cf103['endTime'])['toLocaleString'](_0x5ae2cc(0x462),_0x1e3c01)+_0x5ae2cc(0x52b);}let _0xf3bc76='';if(_0x2cf103[_0x5ae2cc(0x8ae)]){const _0xfbca0a=allQuizzes['find'](_0x4f15c7=>_0x4f15c7['id']===_0x2cf103['pairedQuizId']);if(_0xfbca0a){let _0x157077,_0x5385d1;new Date(_0x2cf103[_0x5ae2cc(0x4ae)])<new Date(_0xfbca0a[_0x5ae2cc(0x4ae)])?(_0x157077=_0x2cf103['id'],_0x5385d1=_0xfbca0a['id']):(_0x157077=_0xfbca0a['id'],_0x5385d1=_0x2cf103['id']),_0xf3bc76+=_0x5ae2cc(0xdf6)+_0x5385d1+_0x5ae2cc(0xa08)+_0x157077+_0x5ae2cc(0xbc5);}}else _0x2cf103[_0x5ae2cc(0x629)]===_0x5ae2cc(0x6c7)&&(_0xf3bc76+=_0x5ae2cc(0xdfc)+_0x2cf103['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x2cf103[_0x5ae2cc(0x629)]===_0x5ae2cc(0x6c7)&&_0x268987>0x0)_0xf3bc76+=_0x5ae2cc(0xdfc)+_0x2cf103['id']+_0x5ae2cc(0x576);else!_0x2cf103[_0x5ae2cc(0x8ae)]&&_0x2cf103[_0x5ae2cc(0x629)]!==_0x5ae2cc(0x6c7)&&_0x268987>0x0&&(_0xf3bc76+=_0x5ae2cc(0xdfc)+_0x2cf103['id']+_0x5ae2cc(0xa52));let _0x5410ac='';_0x2cf103[_0x5ae2cc(0x8ae)]?_0x5410ac=_0x5ae2cc(0x7f8)+_0x2cf103['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x5410ac=_0x5ae2cc(0x7f8)+_0x2cf103['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x53419d+=_0x5ae2cc(0x894)+_0x2cf103['id']+_0x5ae2cc(0xd46)+_0x2cf103['topic']+_0x5ae2cc(0xb70)+_0x2cf103[_0x5ae2cc(0x665)][_0x5ae2cc(0xbc8)]+_0x5ae2cc(0xdf0)+new Date(_0x2cf103[_0x5ae2cc(0x4ae)])[_0x5ae2cc(0x369)](_0x5ae2cc(0x462))+_0x5ae2cc(0x802)+_0x268987+_0x5ae2cc(0xa98)+_0x222422+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x506001+'\x22>'+_0x51a910+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2cf103['id']+_0x5ae2cc(0x1fc)+_0x2cf103['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x2cf103[_0x5ae2cc(0x41e)]?_0x5ae2cc(0xda9):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf3bc76+_0x5ae2cc(0xc09)+_0x2cf103['id']+_0x5ae2cc(0xae8)+_0x2cf103['id']+_0x5ae2cc(0xb4c)+_0x2cf103['id']+_0x5ae2cc(0x86f)+_0x2cf103['id']+_0x5ae2cc(0x546)+_0x2cf103['id']+_0x5ae2cc(0x6b2)+_0x2cf103['id']+_0x5ae2cc(0x565)+_0x2cf103['id']+_0x5ae2cc(0x789)+_0x2cf103[_0x5ae2cc(0x801)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2cf103['id']+_0x5ae2cc(0x8da)+_0x2cf103['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5410ac+_0x5ae2cc(0x6ff)+_0x2cf103['id']+_0x5ae2cc(0x7f7)+_0x2cf103['id']+_0x5ae2cc(0x912)+_0x2cf103['id']+_0x5ae2cc(0x509)+_0x2cf103['id']+_0x5ae2cc(0x5a3)+_0x2cf103['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2cf103['id']+_0x5ae2cc(0x8e6)+_0x2cf103['id']+_0x5ae2cc(0xdcf)+_0x2cf103['id']+_0x5ae2cc(0x789)+_0x2cf103['topic']+_0x5ae2cc(0x94d)+_0x2cf103['id']+_0x5ae2cc(0x254);}),_0x16ebee[_0xb1c545(0xd3c)]=_0x53419d,document[_0xb1c545(0x7b3)](_0xb1c545(0x34a))[_0xb1c545(0x79a)](_0x19d18c=>{const _0x1109f7=_0xb1c545;_0x19d18c[_0x1109f7(0x6dd)](_0x1109f7(0x564),()=>{const _0xc20f65=_0x1109f7,_0xebbbe0=_0x19d18c[_0xc20f65(0xba5)][_0xc20f65(0x781)];showQuizDetailView(_0xebbbe0);});});}async function handleUnpairQuiz(_0x41d92c){const _0xeb0d7c=_0x6a7885,_0x5d1d90=allQuizzes[_0xeb0d7c(0x8c7)](_0x1679ce=>_0x1679ce['id']===_0x41d92c);if(!_0x5d1d90||!_0x5d1d90['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0xeb0d7c(0xa1f),async()=>{const _0x535d11=_0xeb0d7c;try{const _0x5db40f=doc(db,'artifacts/'+appId+_0x535d11(0x383),_0x41d92c),_0x1bb842=doc(db,_0x535d11(0x3c5)+appId+'/public/data/quizzes',_0x5d1d90['pairedQuizId']),_0x5c18ec=writeBatch(db);_0x5c18ec[_0x535d11(0xad2)](_0x5db40f,{'pairedQuizId':null}),_0x5c18ec[_0x535d11(0xad2)](_0x1bb842,{'pairedQuizId':null}),await _0x5c18ec[_0x535d11(0x731)](),showMessage(_0x535d11(0xc95));}catch(_0x86dbf1){console[_0x535d11(0xc4f)]('Error\x20unpairing\x20quizzes:',_0x86dbf1),showMessage(_0x535d11(0x418));}});}function formatAndPrintLessonPlan(_0x36522f,_0x1afcd5){const _0x3f82ae=_0x6a7885,_0xe1479d=window[_0x3f82ae(0x27f)]('',_0x3f82ae(0x307)),_0x2f725d=_0x3f82ae(0xc2d)+_0x1afcd5[_0x3f82ae(0x801)]+_0x3f82ae(0x45e)+_0x1afcd5['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36522f[_0x3f82ae(0x37c)]['map'](_0x27ad26=>_0x3f82ae(0xafa)+_0x27ad26+_0x3f82ae(0x8d5))['join']('')+_0x3f82ae(0x420)+_0x36522f['teachingContent']+_0x3f82ae(0x49f)+_0x36522f['practiceProblems'][_0x3f82ae(0x8cc)](_0x48c9b0=>_0x3f82ae(0x35c)+_0x48c9b0[_0x3f82ae(0xa64)]+_0x3f82ae(0xd75)+_0x48c9b0['solution']+_0x3f82ae(0x2ef))[_0x3f82ae(0x35d)]('')+_0x3f82ae(0x738);_0xe1479d[_0x3f82ae(0xdc2)]['write'](_0x2f725d),_0xe1479d[_0x3f82ae(0xdc2)][_0x3f82ae(0xd35)](),_0xe1479d[_0x3f82ae(0xb87)]=function(){setTimeout(()=>{_0xe1479d['print']();},0x3e8);};}async function handleAiFixFormula(_0x585914){const _0x104df7=_0x6a7885,_0x5e5cc0=document[_0x104df7(0x390)](_0x104df7(0xc0d)+_0x585914+'\x22]');if(!_0x5e5cc0)return;const _0x272fbe=_0x5e5cc0[_0x104df7(0xba5)][_0x104df7(0x442)],_0x553a53=_0x5e5cc0[_0x104df7(0x390)](_0x104df7(0x667));let _0x8cad73={'question':_0x5e5cc0[_0x104df7(0x390)](_0x104df7(0x407))[_0x104df7(0x3c4)]};switch(_0x272fbe){case'multiple_choice':_0x8cad73[_0x104df7(0xd99)]=Array[_0x104df7(0x568)](_0x5e5cc0['querySelectorAll'](_0x104df7(0x8f9)))[_0x104df7(0x8cc)](_0x10cb42=>_0x10cb42[_0x104df7(0x3c4)]);break;case _0x104df7(0x247):_0x8cad73[_0x104df7(0x2fd)]=_0x5e5cc0[_0x104df7(0x390)]('.ideal-answer-input')['value'];break;case'matching_item':_0x8cad73[_0x104df7(0x573)]=_0x5e5cc0[_0x104df7(0x390)](_0x104df7(0x1cd))['value'];break;}_0x553a53[_0x104df7(0xd3c)]=_0x104df7(0x371),_0x553a53['disabled']=!![];try{const _0x4bcf6f=_0x104df7(0xcc4)+JSON[_0x104df7(0x20d)](_0x8cad73)+_0x104df7(0x29a),_0x361516={'type':_0x104df7(0x342),'properties':{'fixedData':{'type':_0x104df7(0x342),'properties':{'question':{'type':_0x104df7(0xd50)},'options':{'type':_0x104df7(0x3ad),'items':{'type':_0x104df7(0xd50)}},'idealAnswer':{'type':_0x104df7(0xd50)},'correctResponse':{'type':_0x104df7(0xd50)}},'required':[_0x104df7(0xa64)]}},'required':[_0x104df7(0x290)]},_0x294636=await callAnalysisApi(_0x4bcf6f,_0x361516);if(_0x294636&&_0x294636['fixedData']){const _0x582da6=_0x294636[_0x104df7(0x290)];_0x5e5cc0[_0x104df7(0x390)](_0x104df7(0x407))['value']=_0x582da6[_0x104df7(0xa64)]||_0x8cad73[_0x104df7(0xa64)];switch(_0x272fbe){case _0x104df7(0xa3b):_0x582da6[_0x104df7(0xd99)]&&_0x582da6[_0x104df7(0xd99)][_0x104df7(0xbc8)]>0x0&&_0x5e5cc0[_0x104df7(0x7b3)](_0x104df7(0x8f9))[_0x104df7(0x79a)]((_0xdad27a,_0x25fca2)=>{const _0x19b599=_0x104df7;_0xdad27a[_0x19b599(0x3c4)]=_0x582da6[_0x19b599(0xd99)][_0x25fca2]||_0x8cad73[_0x19b599(0xd99)][_0x25fca2];});break;case _0x104df7(0x247):_0x5e5cc0[_0x104df7(0x390)](_0x104df7(0x340))['value']=_0x582da6[_0x104df7(0x2fd)]||_0x8cad73[_0x104df7(0x2fd)];break;case'matching_item':_0x5e5cc0[_0x104df7(0x390)]('.correct-response-input')[_0x104df7(0x3c4)]=_0x582da6[_0x104df7(0x573)]||_0x8cad73[_0x104df7(0x573)];break;}if(_0x8cad73['question']!==_0x582da6['question'])try{const _0x188f80=collection(db,_0x104df7(0x3c5)+appId+_0x104df7(0x1f1));await addDoc(_0x188f80,{'broken':_0x8cad73[_0x104df7(0xa64)],'fixed':_0x582da6[_0x104df7(0xa64)],'createdAt':serverTimestamp()});}catch(_0x4fe0ea){console[_0x104df7(0xc4f)](_0x104df7(0x73d),_0x4fe0ea);}showMessage(_0x104df7(0xb85));}else throw new Error(_0x104df7(0xa53));}catch(_0x55442c){console[_0x104df7(0xc4f)](_0x104df7(0x60b),_0x55442c),showMessage(_0x104df7(0xa4e));}finally{_0x553a53['innerHTML']='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x553a53['disabled']=![];}}async function handleGenerateLessonPlan(_0x2bcf6c){const _0x579ae=_0x6a7885;showMessage(_0x579ae(0x84c));try{const _0x22b956=doc(db,_0x579ae(0x3c5)+appId+_0x579ae(0x383),_0x2bcf6c),_0x4e87cc=await getDoc(_0x22b956);if(!_0x4e87cc[_0x579ae(0xd3f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x386306={'id':_0x2bcf6c,..._0x4e87cc[_0x579ae(0x36d)]()},_0x581810=collection(db,_0x579ae(0x3c5)+appId+_0x579ae(0x383),_0x2bcf6c,_0x579ae(0x46b)),_0x464b9a=await getDocs(_0x581810),_0x35b7e=_0x464b9a[_0x579ae(0x3f3)][_0x579ae(0x8cc)](_0x4fff7c=>_0x4fff7c[_0x579ae(0x36d)]());if(_0x35b7e[_0x579ae(0xbc8)]===0x0)throw new Error(_0x579ae(0x38f));const _0x3b75e4=calculateItemAnalysis(_0x386306,_0x35b7e)[_0x579ae(0x8dc)],_0xded3f7=calculateDistractorAnalysis(_0x386306,_0x35b7e),_0x1ba441=_0x3a819f=>{const _0x4f2e18=_0x579ae;if(!_0x3a819f)return'';return _0x3a819f['replace'](/\\/g,'\x5c\x5c')[_0x4f2e18(0xb64)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x4c8df3=_0x579ae(0x4dd);_0x386306[_0x579ae(0x665)][_0x579ae(0x79a)]((_0x43cf1e,_0x41c77e)=>{const _0x189ffa=_0x579ae,_0x269a75=_0x3b75e4[_0x41c77e]?.['p'][_0x189ffa(0x39f)](0x2)||_0x189ffa(0x6e4),_0x543a59=_0x3b75e4[_0x41c77e]?.['r'][_0x189ffa(0x39f)](0x2)||_0x189ffa(0x6e4),_0x5697f3=_0x1ba441(_0x43cf1e['questionText']||_0x43cf1e['stem']);_0x4c8df3+=_0x189ffa(0x46f)+(_0x41c77e+0x1)+'\x20(p='+_0x269a75+_0x189ffa(0xa09)+_0x543a59+'):\x20'+_0x5697f3+'\x5cn';if(_0x43cf1e[_0x189ffa(0x8c1)]===_0x189ffa(0xa3b)&&_0xded3f7[_0x41c77e]){const _0xfac065=_0xded3f7[_0x41c77e],_0x4d3eaa=Object['keys'](_0xfac065)[_0x189ffa(0xcae)](_0x44342d=>parseInt(_0x44342d)!==_0x43cf1e[_0x189ffa(0x7cc)])[_0x189ffa(0xd66)]((_0x1a3dbd,_0x2c92c2)=>_0xfac065[_0x2c92c2][_0x189ffa(0x224)]-_0xfac065[_0x1a3dbd][_0x189ffa(0x224)])[0x0];if(_0x4d3eaa&&_0xfac065[_0x4d3eaa][_0x189ffa(0x224)]>0x0){const _0xc50ac4=_0x1ba441(_0xfac065[_0x4d3eaa][_0x189ffa(0xc1c)]);_0x4c8df3+=_0x189ffa(0x8d8)+_0xc50ac4+'\x22\x5cn';}}});const _0x19128e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x386306['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c8df3+_0x579ae(0x66c),_0x197e44={'type':'OBJECT','properties':{'learningGaps':{'type':_0x579ae(0x3ad),'items':{'type':_0x579ae(0xd50)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x579ae(0x3ad),'items':{'type':_0x579ae(0x342),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x579ae(0x37c),_0x579ae(0x96f),_0x579ae(0x52e)]},_0x2adaca=await callAnalysisApi(_0x19128e,_0x197e44);await updateDoc(_0x22b956,{'lessonPlan':_0x2adaca});const _0x304848=_0x579ae(0x7ca)+_0x386306[_0x579ae(0x801)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2adaca[_0x579ae(0x37c)][_0x579ae(0x8cc)](_0x55641b=>_0x579ae(0xafa)+_0x55641b+'</li>')[_0x579ae(0x35d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2adaca[_0x579ae(0x96f)]+_0x579ae(0xa68)+_0x2adaca['practiceProblems']['map'](_0x27ddae=>_0x579ae(0x37a)+_0x27ddae[_0x579ae(0xa64)]+_0x579ae(0xda8)+_0x27ddae['solution']+'</p></div>')['join']('')+_0x579ae(0x6a9);document[_0x579ae(0x52a)](_0x579ae(0x9a4))['textContent']=_0x579ae(0x75b)+_0x386306[_0x579ae(0x801)],document['getElementById'](_0x579ae(0x78f))[_0x579ae(0xd3c)]=_0x304848,document['getElementById']('lesson-plan-modal')[_0x579ae(0x817)][_0x579ae(0xb2b)]('hidden');if(window[_0x579ae(0xb46)])MathJax['typesetPromise']();messageModal[_0x579ae(0x817)]['add'](_0x579ae(0x68d));}catch(_0x5a1f11){console['error']('Error\x20generating\x20lesson\x20plan:',_0x5a1f11),showMessage(_0x579ae(0xc44)+_0x5a1f11[_0x579ae(0xacb)]);}}async function handleDuplicateQuiz(_0x237edc){const _0x1c9c44=_0x6a7885;try{const _0x4f8289=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x237edc),_0x2c6ab7=await getDoc(_0x4f8289);if(_0x2c6ab7[_0x1c9c44(0xd3f)]()){const _0x47c8b7=_0x2c6ab7[_0x1c9c44(0x36d)]();let _0x565453='',_0x328ca1='standard',_0x3537c6=null;if(_0x47c8b7['quizMode']===_0x1c9c44(0x6c7)){let _0x107f20=_0x47c8b7[_0x1c9c44(0x801)][_0x1c9c44(0xb64)]('(ก่อนเรียน)','')[_0x1c9c44(0x797)]();_0x565453=_0x1c9c44(0x768)+_0x107f20,_0x328ca1=_0x1c9c44(0x484),_0x3537c6=_0x237edc;}else _0x565453=_0x1c9c44(0x51c)+_0x47c8b7[_0x1c9c44(0x801)];const _0x418391={..._0x47c8b7,'topic':_0x565453,'createdAt':new Date()[_0x1c9c44(0xb49)](),'quizMode':_0x328ca1,'pairedQuizId':_0x3537c6};let _0x17d58f;while(!![]){_0x17d58f=Math[_0x1c9c44(0x754)](0x3e8+Math[_0x1c9c44(0x90b)]()*0x2328)[_0x1c9c44(0x443)]();const _0x34e858=await getDoc(doc(db,_0x1c9c44(0x3c5)+appId+_0x1c9c44(0x383),_0x17d58f));if(!_0x34e858[_0x1c9c44(0xd3f)]())break;}const _0x378646=doc(db,_0x1c9c44(0x3c5)+appId+_0x1c9c44(0x383),_0x17d58f);await setDoc(_0x378646,_0x418391),_0x418391['quizMode']===_0x1c9c44(0x484)&&await updateDoc(_0x4f8289,{'pairedQuizId':_0x17d58f}),showMessage(_0x1c9c44(0x5dc));}else throw new Error(_0x1c9c44(0x3fb));}catch(_0x940c10){console[_0x1c9c44(0xc4f)]('Error\x20duplicating\x20quiz:',_0x940c10),showMessage(_0x1c9c44(0x5a8));}}async function handleDeleteQuiz(_0x3077e7,_0x5c1c80=!![]){const _0x432c1d=_0x6a7885;try{const _0x2e110e=writeBatch(db),_0x467097=collection(db,_0x432c1d(0x3c5)+appId+_0x432c1d(0x5b0)+_0x3077e7+_0x432c1d(0x211)),_0x2cd91b=await getDocs(_0x467097);_0x2cd91b[_0x432c1d(0x79a)](_0x50cffd=>{const _0x17ab22=_0x432c1d;_0x2e110e[_0x17ab22(0x9e3)](doc(_0x467097,_0x50cffd['id']));});const _0x924d85=doc(db,_0x432c1d(0x3c5)+appId+'/public/data/quizzes',_0x3077e7);_0x2e110e[_0x432c1d(0x9e3)](_0x924d85),await _0x2e110e[_0x432c1d(0x731)]();try{console[_0x432c1d(0xba9)](_0x432c1d(0x1f3)+_0x3077e7+'\x20in\x20all\x20blueprint\x20projects.');const _0x2e7147=collection(db,_0x432c1d(0x3c5)+appId+_0x432c1d(0x55f)),_0x27ce5d=await getDocs(_0x2e7147),_0x359201=[];_0x27ce5d['forEach'](_0x28f72a=>{const _0x4c1eba=_0x432c1d,_0x13e450=_0x28f72a['data'](),_0x482508=_0x13e450[_0x4c1eba(0xbdd)]||{};let _0xeff6be=![];for(const _0x5921e5 in _0x482508){const _0x2e287d=_0x482508[_0x5921e5];if(_0x2e287d[_0x4c1eba(0x2a8)]&&_0x2e287d[_0x4c1eba(0x2a8)][_0x4c1eba(0x317)](_0x3077e7)){_0xeff6be=!![];const _0x49357d=doc(db,'artifacts/'+appId+_0x4c1eba(0x55f),_0x28f72a['id']),_0x14e617=updateDoc(_0x49357d,{[_0x4c1eba(0x7e3)+_0x5921e5+'.linkedQuizIds']:arrayRemove(_0x3077e7)});_0x359201[_0x4c1eba(0x586)](_0x14e617);}}}),_0x359201['length']>0x0&&(await Promise[_0x432c1d(0xdd0)](_0x359201),console['log'](_0x432c1d(0x345)+_0x359201[_0x432c1d(0xbc8)]+_0x432c1d(0x301)+_0x3077e7+'.'));}catch(_0x31c9f6){console[_0x432c1d(0xc4f)](_0x432c1d(0x88a),_0x31c9f6);}_0x5c1c80&&showMessage(_0x432c1d(0xb75));}catch(_0x48b1f0){console[_0x432c1d(0xc4f)](_0x432c1d(0x769),_0x48b1f0),_0x5c1c80&&showMessage(_0x432c1d(0xdaf));}}async function showQuizDetailView(_0x542d6b){const _0x143fe6=_0x6a7885;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x143fe6(0xd93));try{const _0x24e294=doc(db,'artifacts/'+appId+_0x143fe6(0x383),_0x542d6b),_0x456f4f=await getDoc(_0x24e294);if(!_0x456f4f[_0x143fe6(0xd3f)]()){showMessage(_0x143fe6(0x232));return;}const _0x13e570={'id':_0x456f4f['id'],..._0x456f4f[_0x143fe6(0x36d)]()};currentQuizData=_0x13e570;const _0x519bb8=doc(db,_0x143fe6(0x3c5)+appId+_0x143fe6(0x880),_0x13e570['projectId']),_0x3d3113=await getDoc(_0x519bb8);_0x3d3113[_0x143fe6(0xd3f)]()?(currentProjectData=_0x3d3113['data'](),currentProjectId=_0x13e570['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x13e570[_0x143fe6(0x94a)]);document[_0x143fe6(0x52a)](_0x143fe6(0x9ab))[_0x143fe6(0x675)]=_0x13e570[_0x143fe6(0x801)],document[_0x143fe6(0x52a)](_0x143fe6(0x83f))[_0x143fe6(0x675)]=_0x542d6b;const _0x268be9=collection(db,_0x143fe6(0x3c5)+appId+_0x143fe6(0x383),_0x542d6b,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x268be9,_0x2e1217=>{const _0x5a85f5=_0x143fe6,_0x548460=_0x2e1217[_0x5a85f5(0x3f3)][_0x5a85f5(0x8cc)](_0x2798d1=>({'id':_0x2798d1['id'],..._0x2798d1[_0x5a85f5(0x36d)]()}));currentSubmissions=_0x548460;const _0x212d51=_0x548460[_0x5a85f5(0xcae)](_0x180310=>_0x180310[_0x5a85f5(0xca0)]&&_0x180310[_0x5a85f5(0xca0)][_0x5a85f5(0xbc8)]>0x0);renderBehaviorLog(_0x548460),renderAnswerGrid(currentProjectData[_0x5a85f5(0x498)],_0x212d51,_0x13e570),renderAnalytics(_0x13e570,_0x212d51),renderQuizResultsTable(currentProjectData[_0x5a85f5(0x498)],_0x548460,_0x13e570),renderQuizLeaderboard(_0x212d51,_0x13e570,_0x5a85f5(0x1f2));}),showView(_0x143fe6(0x95c));}catch(_0x911f19){console[_0x143fe6(0xc4f)](_0x143fe6(0x4b7),_0x911f19),showMessage(_0x143fe6(0x966));}}function renderAnswerGrid(_0x287765,_0x35f7ae,_0x377d7a){const _0x58638b=_0x6a7885,_0x3b11f3=document[_0x58638b(0x52a)](_0x58638b(0xaaa));if(!_0x3b11f3)return;if(!_0x287765||_0x287765['length']===0x0){_0x3b11f3[_0x58638b(0xd3c)]=_0x58638b(0x1d8);return;}const _0x76d997=_0x377d7a[_0x58638b(0x665)],_0x2e565c=_0x35f7ae[_0x58638b(0xb90)]((_0xa9a15a,_0x403386)=>{const _0x210969=_0x58638b;return _0xa9a15a[_0x403386[_0x210969(0x7a5)]]=_0x403386,_0xa9a15a;},{}),_0x238950=_0x24ca5d=>String[_0x58638b(0xdae)](0x41+_0x24ca5d),_0x3375c2=_0x2a2be0=>{const _0x3ad713=_0x58638b,_0x4e1f75=_0x2a2be0['questionType']||_0x377d7a[_0x3ad713(0xafb)];switch(_0x4e1f75){case _0x3ad713(0xa3b):return _0x2a2be0['options']&&_0x2a2be0[_0x3ad713(0xd99)][_0x3ad713(0xbc8)]>_0x2a2be0['correctAnswerIndex']?_0x238950(_0x2a2be0[_0x3ad713(0x7cc)]):'-';case _0x3ad713(0x3f6):const _0x475d98=_0x2a2be0[_0x3ad713(0x950)]===!![]||String(_0x2a2be0[_0x3ad713(0x950)])['toLowerCase']()===_0x3ad713(0xb54);return _0x475d98?_0x3ad713(0x954):_0x3ad713(0x9b9);case _0x3ad713(0x747):return _0x2a2be0['correctResponse']||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x1750f8=(_0x239345,_0x1b3a29)=>{const _0x5e3849=_0x58638b;if(_0x1b3a29[_0x5e3849(0xc86)]===null||_0x1b3a29[_0x5e3849(0xc86)]===undefined)return'-';const _0x4f123e=_0x239345[_0x5e3849(0x8c1)]||_0x377d7a[_0x5e3849(0xafb)];switch(_0x4f123e){case'multiple_choice':const _0x48ae78=_0x239345[_0x5e3849(0xd99)][_0x5e3849(0x75c)](_0x326105=>_0x326105===_0x1b3a29[_0x5e3849(0x4e7)]);return _0x48ae78!==-0x1?_0x238950(_0x48ae78):_0x1b3a29[_0x5e3849(0x4e7)]||'-';case _0x5e3849(0x3f6):if(_0x1b3a29[_0x5e3849(0xc86)]=='0'||_0x1b3a29[_0x5e3849(0xc86)]===!![]||_0x1b3a29[_0x5e3849(0xc86)]===_0x5e3849(0xb54))return _0x5e3849(0x954);return _0x5e3849(0x9b9);default:return _0x1b3a29[_0x5e3849(0xc86)];}};let _0x48d408=_0x58638b(0x419)+_0x76d997[_0x58638b(0x8cc)]((_0x3a2132,_0x2813a3)=>_0x58638b(0xbd9)+(_0x2813a3+0x1)+_0x58638b(0x5c2))[_0x58638b(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x76d997[_0x58638b(0x8cc)](_0x559cc3=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x3375c2(_0x559cc3)+'</td>')[_0x58638b(0x35d)]('')+_0x58638b(0xc2f);_0x287765[_0x58638b(0x79a)](_0x5bb530=>{const _0x109589=_0x58638b;_0x48d408+=_0x109589(0x705),_0x48d408+=_0x109589(0x43c)+_0x5bb530+_0x109589(0x1c9);const _0x394a88=_0x2e565c[_0x5bb530];if(_0x394a88){const _0x5394e7=_0x394a88[_0x109589(0xca0)][_0x394a88['attempts'][_0x109589(0xbc8)]-0x1];_0x76d997[_0x109589(0x79a)]((_0x1ed50a,_0x40144b)=>{const _0x36f59c=_0x109589,_0x1524a3=_0x5394e7[_0x36f59c(0xa6c)]['find'](_0x416056=>_0x416056[_0x36f59c(0x920)]===_0x1ed50a['id']);if(_0x1524a3){let _0x2f22f6='';const _0x5309e5=_0x1524a3[_0x36f59c(0x7d3)]===!![],_0x4d6ecd=_0x1524a3['wasConfident']===!![]||_0x1524a3[_0x36f59c(0x287)]===_0x36f59c(0xcc3);_0x4d6ecd?_0x2f22f6=_0x5309e5?_0x36f59c(0xdb4):_0x36f59c(0x79d):_0x2f22f6=_0x5309e5?'bg-green-100':_0x36f59c(0xcfb),_0x48d408+=_0x36f59c(0x7d1)+_0x2f22f6+'\x22>'+_0x1750f8(_0x1ed50a,_0x1524a3)+_0x36f59c(0x1c9);}else _0x48d408+=_0x36f59c(0x7a8);});}else _0x48d408+=_0x76d997['map'](()=>_0x109589(0xd67))[_0x109589(0x35d)]('');_0x48d408+=_0x109589(0xc40);}),_0x48d408+=_0x58638b(0x736),_0x3b11f3[_0x58638b(0xd3c)]=_0x48d408;}function renderQuizResultsTable(_0x45e7a9,_0x10998f,_0x3daffa){const _0x40d345=_0x6a7885,_0x45028a=_0x10998f['reduce']((_0x1833da,_0x4aceb4)=>{const _0x1da6f3=_0x380e;return _0x1833da[_0x4aceb4[_0x1da6f3(0x7a5)]]=_0x4aceb4,_0x1833da;},{}),_0x75abf4=document['querySelector'](_0x40d345(0x703));_0x75abf4&&!_0x75abf4[_0x40d345(0xd3c)][_0x40d345(0x317)]('จัดการ')&&(_0x75abf4[_0x40d345(0xd3c)]+=_0x40d345(0x951));const _0x3e083b=document['getElementById'](_0x40d345(0x684));if(!_0x45e7a9||_0x45e7a9[_0x40d345(0xbc8)]===0x0){_0x3e083b[_0x40d345(0xd3c)]=_0x40d345(0x2e3);return;}const _0x497510=_0x3daffa[_0x40d345(0x924)]===!![],_0x27b92e=_0x3daffa[_0x40d345(0x727)]?.[_0x40d345(0xa3d)]??-0x1;let _0x14945b='';_0x45e7a9[_0x40d345(0x79a)](_0x1c3be4=>{const _0x3704f3=_0x40d345,_0x542d24=_0x45028a[_0x1c3be4];let _0x4a0e34=_0x3704f3(0x4c1)+(_0x497510?_0x3704f3(0xce1):_0x3704f3(0x43b))+'\x22>'+(_0x497510?_0x3704f3(0x836):_0x3704f3(0x850))+_0x3704f3(0x38a);if(_0x542d24){if(_0x542d24['attempts']&&_0x542d24[_0x3704f3(0xca0)][_0x3704f3(0xbc8)]>0x0){let _0x9a3258=_0x497510?_0x542d24[_0x3704f3(0x43a)]===_0x542d24[_0x3704f3(0x524)]:_0x27b92e!==-0x1&&_0x542d24[_0x3704f3(0x43a)]>=_0x27b92e;const _0x419f30=_0x9a3258?_0x3704f3(0x62d):_0x3704f3(0xd1c),_0x56027d=_0x9a3258?'ผ่าน':'ไม่ผ่าน',_0x2f0f10=_0x3704f3(0x969)+_0x419f30+'\x22>'+_0x56027d+_0x3704f3(0x38a),_0x5cac5e=_0x3704f3(0x40d)+(_0x542d24[_0x3704f3(0xca0)]?.[_0x3704f3(0xbc8)]||0x1)+_0x3704f3(0xa8a);_0x14945b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c3be4+_0x3704f3(0xa8e)+_0x542d24[_0x3704f3(0x43a)]+_0x3704f3(0x938)+_0x542d24[_0x3704f3(0x524)]+_0x3704f3(0x43f)+_0x2f0f10+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a0e34+_0x3704f3(0x221)+_0x542d24[_0x3704f3(0x54e)]+'\x20/\x20'+_0x542d24[_0x3704f3(0x524)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x542d24[_0x3704f3(0x234)]+'\x20/\x20'+_0x542d24['totalQuestions']+_0x3704f3(0x4de)+(_0x542d24[_0x3704f3(0xd9f)]||0x0)+_0x3704f3(0x43f)+_0x5cac5e+_0x3704f3(0x379)+new Date(_0x542d24[_0x3704f3(0x83a)])[_0x3704f3(0x369)](_0x3704f3(0x462))+_0x3704f3(0xc43)+_0x1c3be4+_0x3704f3(0xca9);}else{const _0x59eb1a=_0x3704f3(0x26b);_0x14945b+=_0x3704f3(0x48d)+_0x1c3be4+_0x3704f3(0x722)+_0x4a0e34+_0x3704f3(0x1df)+_0x59eb1a+_0x3704f3(0x379)+new Date(_0x542d24[_0x3704f3(0xc1a)])[_0x3704f3(0x369)](_0x3704f3(0x462))+_0x3704f3(0x772)+_0x1c3be4+_0x3704f3(0xca9);}}else{const _0x4243ff=_0x3704f3(0x2ba);_0x14945b+=_0x3704f3(0x466)+_0x1c3be4+_0x3704f3(0x8fd)+_0x4a0e34+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4243ff+_0x3704f3(0x6ad);}}),_0x3e083b['innerHTML']=_0x14945b;}async function confirmRenameQuiz(){const _0x2dc1d0=_0x6a7885,_0x27eef7=document[_0x2dc1d0(0x52a)](_0x2dc1d0(0xdf9))[_0x2dc1d0(0x3c4)][_0x2dc1d0(0x797)]();if(!_0x27eef7){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x221d1c=doc(db,_0x2dc1d0(0x3c5)+appId+_0x2dc1d0(0x383),actionTargetId);try{await updateDoc(_0x221d1c,{'topic':_0x27eef7}),showMessage(_0x2dc1d0(0x830)),renameQuizModal[_0x2dc1d0(0x817)][_0x2dc1d0(0x642)](_0x2dc1d0(0x68d)),actionTargetId=null;}catch(_0x2ba5c7){console['error']('Error\x20renaming\x20quiz:',_0x2ba5c7),showMessage(_0x2dc1d0(0x55c));}}async function handleMoveQuiz(_0x15edeb){const _0x596f1d=_0x6a7885;actionTargetId=_0x15edeb;const _0x4d9adb=document[_0x596f1d(0x52a)](_0x596f1d(0xa16));_0x4d9adb['innerHTML']=_0x596f1d(0x543),moveQuizModal['classList'][_0x596f1d(0xb2b)](_0x596f1d(0x68d));try{const _0x156af5=collection(db,_0x596f1d(0x3c5)+appId+_0x596f1d(0x880)),_0xc8eea6=await getDocs(_0x156af5),_0x253292=_0xc8eea6[_0x596f1d(0x3f3)][_0x596f1d(0x8cc)](_0x1c17cb=>({'id':_0x1c17cb['id'],..._0x1c17cb[_0x596f1d(0x36d)]()})),_0x39be83=_0x253292['filter'](_0x155a7d=>_0x155a7d['id']!==currentProjectId);if(_0x39be83[_0x596f1d(0xbc8)]===0x0){_0x4d9adb[_0x596f1d(0xd3c)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById'](_0x596f1d(0xbfa))[_0x596f1d(0x459)]=!![];return;}_0x4d9adb['innerHTML']=_0x39be83[_0x596f1d(0x8cc)](_0x3f98c1=>_0x596f1d(0xd63)+_0x3f98c1['id']+'\x22>'+_0x3f98c1[_0x596f1d(0xb0b)]+_0x596f1d(0x9a7))['join'](''),document['getElementById'](_0x596f1d(0xbfa))['disabled']=![];}catch(_0x29ee3d){console[_0x596f1d(0xc4f)](_0x596f1d(0xd2b),_0x29ee3d),showMessage(_0x596f1d(0x362)),moveQuizModal['classList'][_0x596f1d(0x642)](_0x596f1d(0x68d));}}async function confirmMoveQuiz(){const _0x4f2b07=_0x6a7885,_0x1604b7=document[_0x4f2b07(0x52a)](_0x4f2b07(0xa16))[_0x4f2b07(0x3c4)];if(!_0x1604b7){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x563793=doc(db,_0x4f2b07(0x3c5)+appId+_0x4f2b07(0x383),actionTargetId);try{await updateDoc(_0x563793,{'projectId':_0x1604b7}),showMessage(_0x4f2b07(0x651)),moveQuizModal[_0x4f2b07(0x817)][_0x4f2b07(0x642)](_0x4f2b07(0x68d)),actionTargetId=null;}catch(_0x3a2a31){console[_0x4f2b07(0xc4f)](_0x4f2b07(0xc5c),_0x3a2a31),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x349486){const _0x4aca50=_0x6a7885;actionTargetId=_0x349486;const _0x3cbd5d=doc(db,'artifacts/'+appId+_0x4aca50(0x383),_0x349486);try{const _0x479508=await getDoc(_0x3cbd5d);if(_0x479508['exists']()){const _0x170e69=_0x479508[_0x4aca50(0x36d)](),_0x1eedc5=_0x170e69[_0x4aca50(0x727)]||{},_0x9e6da8=_0x170e69[_0x4aca50(0x665)][_0x4aca50(0xbc8)];document[_0x4aca50(0x52a)](_0x4aca50(0x5be))['value']=_0x1eedc5[_0x4aca50(0x413)]||_0x4aca50(0x3a0),document[_0x4aca50(0x52a)](_0x4aca50(0x9be))[_0x4aca50(0x3c4)]=_0x1eedc5[_0x4aca50(0xb47)]||'show_results_and_answers',document[_0x4aca50(0x52a)](_0x4aca50(0xa66))['value']=_0x1eedc5[_0x4aca50(0xd0e)]||'none',document[_0x4aca50(0x52a)]('modal-timer-duration-input')[_0x4aca50(0x3c4)]=_0x1eedc5[_0x4aca50(0x343)]||0xa,document[_0x4aca50(0x52a)]('modal-passing-score-input')[_0x4aca50(0x3c4)]=_0x1eedc5[_0x4aca50(0xa3d)]||Math[_0x4aca50(0x754)](_0x9e6da8/0x2),document[_0x4aca50(0x52a)](_0x4aca50(0x2bf))[_0x4aca50(0xbf8)]=_0x9e6da8,document['getElementById'](_0x4aca50(0x814))[_0x4aca50(0x9a3)]=_0x1eedc5[_0x4aca50(0x3db)]||![],document[_0x4aca50(0x52a)](_0x4aca50(0x5e2))[_0x4aca50(0x9a3)]=_0x1eedc5[_0x4aca50(0x982)]||![];const _0x23cc4a=_0x1eedc5[_0x4aca50(0x6a3)]||![];document[_0x4aca50(0x52a)](_0x4aca50(0x93e))[_0x4aca50(0x9a3)]=_0x23cc4a,document[_0x4aca50(0x52a)](_0x4aca50(0x6e0))[_0x4aca50(0x3c4)]=_0x1eedc5[_0x4aca50(0xc42)]||_0x4aca50(0x753);const _0x51361c=document[_0x4aca50(0x52a)](_0x4aca50(0x558));_0x51361c[_0x4aca50(0x817)][_0x4aca50(0x2fc)](_0x4aca50(0x68d),!_0x23cc4a),document[_0x4aca50(0x52a)](_0x4aca50(0xa66))['dispatchEvent'](new Event(_0x4aca50(0x843))),quizSettingsModal[_0x4aca50(0x817)][_0x4aca50(0xb2b)](_0x4aca50(0x68d));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x5ed1e8){console[_0x4aca50(0xc4f)]('Error\x20fetching\x20quiz\x20settings:',_0x5ed1e8),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x54b1cd=_0x6a7885;if(!actionTargetId)return;const _0x37616a=doc(db,_0x54b1cd(0x3c5)+appId+'/public/data/quizzes',actionTargetId),_0x556e8c={'shuffle':document[_0x54b1cd(0x52a)](_0x54b1cd(0x5be))[_0x54b1cd(0x3c4)],'resultsDisplay':document[_0x54b1cd(0x52a)]('modal-results-display-select')[_0x54b1cd(0x3c4)],'timerMode':document[_0x54b1cd(0x52a)](_0x54b1cd(0xa66))[_0x54b1cd(0x3c4)],'timerDuration':parseInt(document[_0x54b1cd(0x52a)]('modal-timer-duration-input')[_0x54b1cd(0x3c4)])||0xa,'passingScore':parseInt(document[_0x54b1cd(0x52a)](_0x54b1cd(0x2bf))[_0x54b1cd(0x3c4)])||0x0,'isAdaptive':document[_0x54b1cd(0x52a)](_0x54b1cd(0x814))[_0x54b1cd(0x9a3)],'loopUntilPass':document[_0x54b1cd(0x52a)](_0x54b1cd(0x5e2))[_0x54b1cd(0x9a3)],'isConfidenceScoringEnabled':document[_0x54b1cd(0x52a)](_0x54b1cd(0x93e))[_0x54b1cd(0x9a3)],'confidenceMode':document[_0x54b1cd(0x52a)](_0x54b1cd(0x6e0))[_0x54b1cd(0x3c4)]};try{await updateDoc(_0x37616a,{'settings':_0x556e8c}),showMessage(_0x54b1cd(0xb2d)),quizSettingsModal[_0x54b1cd(0x817)][_0x54b1cd(0x642)](_0x54b1cd(0x68d)),actionTargetId=null;}catch(_0x5161a4){console[_0x54b1cd(0xc4f)](_0x54b1cd(0x32a),_0x5161a4),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x3b9685=_0x6a7885;if(!actionTargetId)return;const _0x44cfdc=doc(db,_0x3b9685(0x3c5)+appId+_0x3b9685(0x383),actionTargetId),_0x4e355e=document['querySelector'](_0x3b9685(0x855));if(!_0x4e355e){showMessage(_0x3b9685(0x2c6));return;}const _0x443c10=_0x4e355e[_0x3b9685(0x3c4)];let _0x1004b={};if(_0x443c10===_0x3b9685(0x7ec)||_0x443c10==='inactive')_0x1004b={'status':_0x443c10,'startTime':null,'endTime':null};else{if(_0x443c10===_0x3b9685(0x332)){const _0xd76701=document[_0x3b9685(0x52a)](_0x3b9685(0x5fc))[_0x3b9685(0x3c4)],_0x20f8ae=document[_0x3b9685(0x52a)](_0x3b9685(0xb94))['value'];if(!_0xd76701&&!_0x20f8ae){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x1004b={'status':_0x3b9685(0x96a),'startTime':_0xd76701?new Date(_0xd76701)[_0x3b9685(0xb49)]():null,'endTime':_0x20f8ae?new Date(_0x20f8ae)[_0x3b9685(0xb49)]():null};}}try{await updateDoc(_0x44cfdc,_0x1004b),showMessage(_0x3b9685(0x856)),quizStatusModal[_0x3b9685(0x817)][_0x3b9685(0x642)](_0x3b9685(0x68d)),actionTargetId=null;}catch(_0x298477){console[_0x3b9685(0xc4f)](_0x3b9685(0x82a),_0x298477),showMessage(_0x3b9685(0x851));}}function listenForStudentProfiles(_0x3272f6){const _0x1dd307=_0x6a7885,_0x3b483a=collection(db,_0x1dd307(0x3c5)+appId+_0x1dd307(0x3e7)+_0x3272f6+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x3b483a,_0x2efccf=>{const _0x33186a=_0x1dd307,_0x5131e2=_0x2efccf['docs'][_0x33186a(0x8cc)](_0x1a7f48=>_0x1a7f48['data']());renderLeaderboard(_0x5131e2,_0x33186a(0x5ba));},_0x3eab02=>{const _0x1bcf3f=_0x1dd307;console[_0x1bcf3f(0xc4f)](_0x1bcf3f(0x1e1),_0x3eab02),document[_0x1bcf3f(0x52a)](_0x1bcf3f(0x5ba))[_0x1bcf3f(0xd3c)]=_0x1bcf3f(0x430);});}function renderLeaderboard(_0x21d6fc,_0x2f487a){const _0x62ffe3=_0x6a7885,_0x1228d9=document[_0x62ffe3(0x52a)](_0x2f487a);if(!_0x21d6fc||_0x21d6fc[_0x62ffe3(0xbc8)]===0x0){_0x1228d9[_0x62ffe3(0xd3c)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x21d6fc[_0x62ffe3(0xd66)]((_0x5484e7,_0x1a8ff4)=>{const _0x411f1e=_0x62ffe3,_0x2cea23=(_0x1a8ff4['totalPoints']||0x0)-(_0x5484e7[_0x411f1e(0x935)]||0x0);if(_0x2cea23!==0x0)return _0x2cea23;const _0x1266a=(_0x1a8ff4['badgesCount']?.[_0x411f1e(0xb45)]||0x0)-(_0x5484e7[_0x411f1e(0x264)]?.['specialist']||0x0);if(_0x1266a!==0x0)return _0x1266a;const _0xf2612e=(_0x1a8ff4['badgesCount']?.['first_try_ace']||0x0)-(_0x5484e7[_0x411f1e(0x264)]?.[_0x411f1e(0x73f)]||0x0);if(_0xf2612e!==0x0)return _0xf2612e;const _0x32f347=(_0x1a8ff4[_0x411f1e(0x264)]?.[_0x411f1e(0x5ee)]||0x0)-(_0x5484e7[_0x411f1e(0x264)]?.[_0x411f1e(0x5ee)]||0x0);if(_0x32f347!==0x0)return _0x32f347;const _0x3d9010=(_0x1a8ff4[_0x411f1e(0x264)]?.[_0x411f1e(0xa0b)]||0x0)-(_0x5484e7[_0x411f1e(0x264)]?.[_0x411f1e(0xa0b)]||0x0);if(_0x3d9010!==0x0)return _0x3d9010;return _0x5484e7[_0x411f1e(0x7a5)][_0x411f1e(0x45b)](_0x1a8ff4[_0x411f1e(0x7a5)],'th');});let _0x55b782='';_0x21d6fc[_0x62ffe3(0x79a)]((_0x4110bb,_0x4c7da9)=>{const _0x56a100=_0x62ffe3,_0x13a7ce=_0x4c7da9+0x1,_0x34a6d2=_0x4110bb[_0x56a100(0x264)]||{};let _0x41f93d='';const _0x229383=['specialist','perfect_score',_0x56a100(0x73f),_0x56a100(0xa0b)];_0x229383['forEach'](_0x2fa265=>{const _0x66219a=_0x56a100;if(_0x34a6d2[_0x2fa265]>0x0){const _0x4c8f99=Object[_0x66219a(0xbd1)](BADGES)[_0x66219a(0x8c7)](_0x3fd2dc=>_0x3fd2dc['id']===_0x2fa265);_0x4c8f99&&(_0x2fa265===_0x66219a(0xb45)?_0x41f93d+=_0x66219a(0x521)+_0x4c8f99[_0x66219a(0xae4)]+_0x66219a(0x1c2)+_0x4c8f99[_0x66219a(0x315)]+_0x66219a(0x99a):_0x41f93d+=_0x66219a(0x521)+_0x4c8f99[_0x66219a(0xae4)]+'\x20('+_0x34a6d2[_0x2fa265]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4c8f99[_0x66219a(0x315)]+_0x66219a(0x699)+_0x34a6d2[_0x2fa265]+_0x66219a(0xdad));}}),_0x55b782+=_0x56a100(0xcd2)+_0x13a7ce+_0x56a100(0x76e)+_0x4110bb[_0x56a100(0x7a5)]+_0x56a100(0x38d)+(_0x4110bb[_0x56a100(0x935)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x41f93d||'-')+_0x56a100(0xc85);}),_0x1228d9['innerHTML']=_0x55b782;}function displayLoopScreen(_0x1ba156,_0x7d8f4b,_0x1ab7ab){const _0xbbb82=_0x6a7885;let _0x3f66c3='';_0x1ab7ab!==_0xbbb82(0x5aa)&&(_0x3f66c3='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x1ba156+_0xbbb82(0x938)+_0x7d8f4b+_0xbbb82(0xb0f));const _0x222193=_0xbbb82(0x241)+_0x3f66c3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xbbb82(0xd3c)]=_0x222193,studentResultArea[_0xbbb82(0x817)]['remove'](_0xbbb82(0x68d)),studentQuizArea['classList'][_0xbbb82(0x642)](_0xbbb82(0x68d)),document[_0xbbb82(0x52a)](_0xbbb82(0x841))[_0xbbb82(0x6dd)]('click',()=>{const _0x3468e8=_0xbbb82;studentResultArea[_0x3468e8(0x817)]['add'](_0x3468e8(0x68d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x47c9e1,_0x41dacf,_0x51c736){const _0x4912e3=_0x6a7885,_0x1a6d64=document['getElementById'](_0x51c736),_0x25fcf4=_0x51c736===_0x4912e3(0x7af),_0x2cd618=_0x41dacf[_0x4912e3(0x665)][_0x4912e3(0xbc8)],_0x54ac8f=document['getElementById'](_0x51c736)[_0x4912e3(0xdda)]('table');if(_0x54ac8f&&!_0x25fcf4){const _0x246df1=_0x54ac8f[_0x4912e3(0x390)](_0x4912e3(0x5fb));_0x246df1[_0x4912e3(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x47c9e1||_0x47c9e1[_0x4912e3(0xbc8)]===0x0){_0x1a6d64[_0x4912e3(0xd3c)]=_0x4912e3(0xd5b)+(_0x25fcf4?0x6:0x8)+_0x4912e3(0xbee);return;}const _0xfe507d=[..._0x47c9e1];_0xfe507d[_0x4912e3(0xd66)]((_0x3d1268,_0x11346f)=>{const _0x5b43e3=_0x4912e3;let _0x1abaa8,_0x1e73ad;switch(quizLeaderboardSortBy){case _0x5b43e3(0x7a5):_0x1abaa8=_0x3d1268[_0x5b43e3(0x7a5)]||'',_0x1e73ad=_0x11346f['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x1abaa8[_0x5b43e3(0x45b)](_0x1e73ad,'th'):_0x1e73ad[_0x5b43e3(0x45b)](_0x1abaa8,'th');case _0x5b43e3(0xd9f):_0x1abaa8=_0x3d1268[_0x5b43e3(0xd9f)]||0x0,_0x1e73ad=_0x11346f['points']||0x0;break;case _0x5b43e3(0xca0):_0x1abaa8=_0x3d1268[_0x5b43e3(0xca0)]?.['length']||0x1,_0x1e73ad=_0x11346f[_0x5b43e3(0xca0)]?.['length']||0x1;break;case _0x5b43e3(0x83a):_0x1abaa8=new Date(_0x3d1268[_0x5b43e3(0x83a)]),_0x1e73ad=new Date(_0x11346f[_0x5b43e3(0x83a)]);break;case'bestScore':default:_0x1abaa8=_0x3d1268['bestScore'],_0x1e73ad=_0x11346f[_0x5b43e3(0x43a)];break;}if(_0x1abaa8<_0x1e73ad)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x1abaa8>_0x1e73ad)return quizLeaderboardSortOrder===_0x5b43e3(0xae1)?0x1:-0x1;return 0x0;});const _0x4064b6=_0x41dacf[_0x4912e3(0x924)]===!![],_0x45a080=_0x41dacf[_0x4912e3(0x727)]?.[_0x4912e3(0xa3d)]??-0x1;let _0x36380e='';_0xfe507d['forEach']((_0x127a4e,_0x5f2cb8)=>{const _0x592c8f=_0x4912e3,_0x2d491d=_0x5f2cb8+0x1;let _0x224c5d=_0x592c8f(0x46a);if(_0x4064b6||_0x45a080!==-0x1){let _0x251fd5=_0x4064b6?_0x127a4e[_0x592c8f(0x43a)]===_0x2cd618:_0x127a4e[_0x592c8f(0x43a)]>=_0x45a080;const _0x166ab3=_0x251fd5?_0x592c8f(0x62d):_0x592c8f(0xd1c),_0x2620b5=_0x251fd5?'ผ่าน':_0x592c8f(0xa27);_0x224c5d=_0x592c8f(0x8e8)+_0x166ab3+'\x22>'+_0x2620b5+_0x592c8f(0x38a);}const _0x16fce4=_0x127a4e[_0x592c8f(0xca0)][_0x127a4e[_0x592c8f(0xca0)][_0x592c8f(0xbc8)]-0x1],_0x164a5b=(_0x16fce4[_0x592c8f(0x3c9)]||[])['map'](_0x223874=>{const _0x373bfb=_0x592c8f,_0xfa17b2=Object[_0x373bfb(0xbd1)](BADGES)[_0x373bfb(0x8c7)](_0x212428=>_0x212428['id']===_0x223874);return _0xfa17b2?_0x373bfb(0xce9)+_0xfa17b2[_0x373bfb(0xae4)]+'\x22><i\x20class=\x22fas\x20'+_0xfa17b2[_0x373bfb(0x315)]+_0x373bfb(0x4aa):'';})['join']('');_0x36380e+=_0x592c8f(0xda6)+_0x2d491d+_0x592c8f(0xb8a)+_0x127a4e[_0x592c8f(0x7a5)]+_0x592c8f(0xc62)+_0x127a4e['bestScore']+_0x592c8f(0x938)+_0x2cd618+_0x592c8f(0x7ce)+_0x224c5d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x127a4e[_0x592c8f(0xd9f)]||0x0)+_0x592c8f(0x7ce)+(_0x25fcf4?'':_0x592c8f(0x469)+(_0x127a4e[_0x592c8f(0xca0)]?.[_0x592c8f(0xbc8)]||0x1)+_0x592c8f(0x1c9))+_0x592c8f(0x8af)+(_0x25fcf4?'':_0x592c8f(0x3dd)+new Date(_0x127a4e[_0x592c8f(0x83a)])[_0x592c8f(0x369)](_0x592c8f(0x462))+'</td>')+_0x592c8f(0x849)+(_0x164a5b||'-')+_0x592c8f(0xbdf);}),_0x1a6d64[_0x4912e3(0xd3c)]=_0x36380e,_0x54ac8f&&!_0x25fcf4&&_0x54ac8f['querySelectorAll']('thead\x20.sortable-header')[_0x4912e3(0x79a)](_0x4450c4=>{const _0x3aa72b=_0x4912e3,_0x4f807c=_0x4450c4[_0x3aa72b(0x390)]('.sort-indicator');if(_0x4f807c)_0x4f807c[_0x3aa72b(0xb2b)]();_0x4450c4['dataset']['sort']===quizLeaderboardSortBy&&(_0x4450c4[_0x3aa72b(0xd3c)]+=_0x3aa72b(0xa55)+(quizLeaderboardSortOrder===_0x3aa72b(0xae1)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x3436b5){const _0x1949ad=_0x6a7885;if(!currentQuizData||!currentQuizData['id']||!_0x3436b5){showMessage(_0x1949ad(0x985));return;}showConfirmation(_0x1949ad(0x593)+_0x3436b5+_0x1949ad(0x5e3),async()=>{const _0x45fab6=_0x1949ad,_0x3d4d0d=currentQuizData['id'],_0x2c806e=doc(db,_0x45fab6(0x3c5)+appId+_0x45fab6(0x5b0)+_0x3d4d0d+_0x45fab6(0x211),_0x3436b5);try{await deleteDoc(_0x2c806e),showMessage(_0x45fab6(0x253)+_0x3436b5+_0x45fab6(0x599));}catch(_0x56f600){console[_0x45fab6(0xc4f)](_0x45fab6(0x818),_0x56f600),showMessage(_0x45fab6(0x9cb));}});}async function handleLoadQuiz(){const _0x500df5=_0x6a7885,_0xb73cc9=document[_0x500df5(0x52a)](_0x500df5(0x2bc)),_0x114108=_0xb73cc9[_0x500df5(0x3c4)][_0x500df5(0x797)]();if(!_0x114108){showMessage(_0x500df5(0x701));return;}loadQuizBtn[_0x500df5(0x459)]=!![],loadQuizBtn[_0x500df5(0xd3c)]=_0x500df5(0xa9e);try{const _0x19aef3=doc(db,_0x500df5(0x3c5)+appId+'/public/data/quizzes',_0x114108),_0x3a2391=await getDoc(_0x19aef3);if(!_0x3a2391[_0x500df5(0xd3f)]()){showMessage(_0x500df5(0xdb2));return;}currentQuizData={'id':_0x3a2391['id'],..._0x3a2391['data']()};const _0x2ae934=currentQuizData['status']||_0x500df5(0x7ec),_0x483ec9=new Date();if(_0x2ae934===_0x500df5(0x921)){showMessage(_0x500df5(0xdf7));return;}if(_0x2ae934===_0x500df5(0x96a)){const _0x583a1b=currentQuizData[_0x500df5(0x934)]?new Date(currentQuizData[_0x500df5(0x934)]):null,_0x7b873e=currentQuizData[_0x500df5(0x4d1)]?new Date(currentQuizData['endTime']):null;if(_0x583a1b&&_0x483ec9<_0x583a1b){showMessage(_0x500df5(0x8fc)+_0x583a1b['toLocaleString'](_0x500df5(0x462),{'hour12':![]}));return;}if(_0x7b873e&&_0x483ec9>_0x7b873e){showMessage(_0x500df5(0x397));return;}}const _0x3930b8=currentQuizData[_0x500df5(0x94a)];currentProjectId=_0x3930b8;const _0x5c5005=doc(db,_0x500df5(0x3c5)+appId+_0x500df5(0x880),_0x3930b8),_0x4c488b=await getDoc(_0x5c5005);if(!_0x4c488b['exists']()){showMessage(_0x500df5(0x6d1));return;}const _0x2f23fe=_0x4c488b['data']();currentStudentProjectData=_0x2f23fe,displayStudentNameSelector(_0x2f23fe['students'],currentQuizData['topic']);}catch(_0x3ed0e3){console[_0x500df5(0xc4f)](_0x500df5(0xd12),_0x3ed0e3),showMessage(_0x500df5(0x3d5));}finally{loadQuizBtn[_0x500df5(0x459)]=![],loadQuizBtn['innerHTML']=_0x500df5(0x6bf);}}async function handleJoinLiveGame(){const _0x1b59f3=_0x6a7885,_0x6e9ffd=document[_0x1b59f3(0x52a)](_0x1b59f3(0x9a1)),_0x1577e0=document[_0x1b59f3(0x52a)](_0x1b59f3(0x5d0)),_0x15ea7f=document[_0x1b59f3(0x52a)](_0x1b59f3(0x363)),_0x587e8c=_0x6e9ffd[_0x1b59f3(0x3c4)][_0x1b59f3(0x797)](),_0x3d0eab=_0x1577e0[_0x1b59f3(0x3c4)]['trim']();if(!_0x587e8c||!_0x3d0eab){showMessage(_0x1b59f3(0x4e9));return;}_0x15ea7f['disabled']=!![],_0x15ea7f['innerHTML']=_0x1b59f3(0xddc);try{const _0x781b86=collection(db,_0x1b59f3(0x3c5)+appId+_0x1b59f3(0x222)),_0x27aadb=query(_0x781b86,where(_0x1b59f3(0x86b),'==',_0x587e8c),where('status','in',[_0x1b59f3(0xbe1),_0x1b59f3(0xa64)])),_0x563c51=await getDocs(_0x27aadb);if(_0x563c51[_0x1b59f3(0x7b7)]){showMessage(_0x1b59f3(0x76c));return;}const _0x383038=_0x563c51[_0x1b59f3(0x3f3)][0x0],_0xb8514e=_0x383038[_0x1b59f3(0x36d)]();currentLiveGameId=_0x383038['id'];const _0x5a3e9b=_0xb8514e[_0x1b59f3(0x781)],_0x7bf3ea=doc(db,'artifacts/'+appId+_0x1b59f3(0x383),_0x5a3e9b),_0x1e34c0=await getDoc(_0x7bf3ea);if(!_0x1e34c0[_0x1b59f3(0xd3f)]()){showMessage(_0x1b59f3(0x4a4));return;}currentQuizData={'id':_0x1e34c0['id'],..._0x1e34c0[_0x1b59f3(0x36d)]()};if(_0xb8514e[_0x1b59f3(0xa6d)]&&_0xb8514e[_0x1b59f3(0xa6d)][_0x3d0eab]){const _0x265f63=_0xb8514e[_0x1b59f3(0xa6d)][_0x3d0eab];if(_0x265f63[_0x1b59f3(0xc96)]==='inactive'){_0x15ea7f[_0x1b59f3(0xd3c)]=_0x1b59f3(0x852);const _0x9aac74={};_0x9aac74[_0x1b59f3(0x6a0)+_0x3d0eab+_0x1b59f3(0x890)]='active',await updateDoc(doc(db,_0x1b59f3(0x3c5)+appId+_0x1b59f3(0x222),currentLiveGameId),_0x9aac74),showView('live-game'),currentStudentName=_0x3d0eab,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0xb8514e['status']!==_0x1b59f3(0xbe1)){showMessage(_0x1b59f3(0x347));return;}_0x15ea7f[_0x1b59f3(0xd3c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x547f3f={};_0x547f3f['players.'+_0x3d0eab]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x1b59f3(0x7ec)},await updateDoc(doc(db,_0x1b59f3(0x3c5)+appId+_0x1b59f3(0x222),currentLiveGameId),_0x547f3f),currentStudentName=_0x3d0eab,listenForLiveGameUpdates();}catch(_0x4bc72d){console['error']('Error\x20joining\x20live\x20game:',_0x4bc72d),showMessage(_0x1b59f3(0x2a9));}finally{_0x15ea7f[_0x1b59f3(0x459)]=![],_0x15ea7f[_0x1b59f3(0xd3c)]=_0x1b59f3(0x70b);}}function displayStudentNameSelector(_0x5b47e4,_0x263bc2){const _0x3002ed=_0x6a7885,_0x437b64=document['getElementById'](_0x3002ed(0xc5d));document[_0x3002ed(0x52a)](_0x3002ed(0xa3a))['textContent']='แบบทดสอบ:\x20'+_0x263bc2,!_0x5b47e4||_0x5b47e4[_0x3002ed(0xbc8)]===0x0?(_0x437b64[_0x3002ed(0xd3c)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x3002ed(0x459)]=!![]):(_0x437b64[_0x3002ed(0xd3c)]=_0x3002ed(0x7fb),_0x5b47e4['forEach'](_0x4729e4=>{const _0x3755d6=_0x3002ed,_0x2cb87a=document[_0x3755d6(0x2f1)](_0x3755d6(0x6d6));_0x2cb87a[_0x3755d6(0x3c4)]=_0x4729e4,_0x2cb87a[_0x3755d6(0x675)]=_0x4729e4,_0x437b64[_0x3755d6(0x7c1)](_0x2cb87a);}),startQuizBtn[_0x3002ed(0x459)]=![]),studentInitialView[_0x3002ed(0x817)][_0x3002ed(0x642)](_0x3002ed(0x68d)),studentNameSelectionView[_0x3002ed(0x817)][_0x3002ed(0xb2b)](_0x3002ed(0x68d));}function shuffleArray(_0x1c73cd){const _0x91d9c6=_0x6a7885;for(let _0x4e7682=_0x1c73cd['length']-0x1;_0x4e7682>0x0;_0x4e7682--){const _0x31c7b2=Math[_0x91d9c6(0x754)](Math[_0x91d9c6(0x90b)]()*(_0x4e7682+0x1));[_0x1c73cd[_0x4e7682],_0x1c73cd[_0x31c7b2]]=[_0x1c73cd[_0x31c7b2],_0x1c73cd[_0x4e7682]];}}function getShuffledQuiz(_0x149225){const _0xe64552=_0x6a7885;let _0x2a0eef=JSON[_0xe64552(0x975)](JSON[_0xe64552(0x20d)](_0x149225));const _0x59befb=_0x2a0eef[_0xe64552(0x727)]?.[_0xe64552(0x413)]||_0xe64552(0x3a0);if(_0x59befb==='none')return _0x2a0eef;return(_0x59befb===_0xe64552(0x39c)||_0x59befb===_0xe64552(0x55d))&&shuffleArray(_0x2a0eef['questions']),(_0x59befb===_0xe64552(0x95b)||_0x59befb==='both')&&_0x2a0eef['questions'][_0xe64552(0x79a)](_0x9823cb=>{const _0xbb77b3=_0xe64552,_0x2de074=_0x9823cb['questionType']||_0x2a0eef[_0xbb77b3(0xafb)];if(_0x9823cb[_0xbb77b3(0xd99)]){let _0x3a0c9f=_0x9823cb[_0xbb77b3(0xd99)]['map']((_0x48ffb4,_0x5bd681)=>({'text':_0x48ffb4,'isCorrect':_0x5bd681===_0x9823cb['correctAnswerIndex']}));shuffleArray(_0x3a0c9f),_0x9823cb['options']=_0x3a0c9f['map'](_0x1f7e4c=>_0x1f7e4c['text']),_0x9823cb['correctAnswerIndex']=_0x3a0c9f[_0xbb77b3(0x75c)](_0x4a8876=>_0x4a8876['isCorrect']);}_0x2de074==='matching_item'&&_0x9823cb[_0xbb77b3(0xc0f)]&&shuffleArray(_0x9823cb[_0xbb77b3(0xc0f)]);}),_0x2a0eef;}function displayQuizForStudent(_0xaedd9f){const _0x215e23=_0x6a7885;studentQuizArea[_0x215e23(0x817)][_0x215e23(0xb2b)](_0x215e23(0x68d)),currentDisplayedQuiz=getShuffledQuiz(_0xaedd9f);currentMode!==_0x215e23(0x6bb)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x215e23(0x6dd)]('fullscreenchange',handleFullscreenChange),document[_0x215e23(0x6dd)](_0x215e23(0xacd),handleVisibilityChange),enterFullscreen(),window[_0x215e23(0x6dd)](_0x215e23(0xc8f),resetDimTimer),window[_0x215e23(0x6dd)](_0x215e23(0x98f),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x215e23(0x6dd)]('keydown',resetDimTimer),resetDimTimer());const _0x523601=currentDisplayedQuiz['settings']?.[_0x215e23(0xd0e)]||_0x215e23(0x3a0);if(_0x523601===_0x215e23(0x4c0))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x215e23(0x727)][_0x215e23(0x343)]);else _0x523601==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1948f3=_0x6a7885,_0x2a1812=currentDisplayedQuiz[_0x1948f3(0x727)]?.[_0x1948f3(0x6a3)]===!![],_0x382de5=currentDisplayedQuiz['settings']?.[_0x1948f3(0xc42)]||_0x1948f3(0x753);let _0x4b25bc=_0x1948f3(0x8b1)+currentDisplayedQuiz[_0x1948f3(0x801)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x1948f3(0x6bb)?_0x1948f3(0x7e4):'')+_0x1948f3(0xa5e);currentDisplayedQuiz[_0x1948f3(0x665)]['forEach']((_0x4dd60e,_0x5be00d)=>{const _0x42e2c8=_0x1948f3,_0x44dc7b=_0x4dd60e[_0x42e2c8(0x8c1)]||currentDisplayedQuiz[_0x42e2c8(0xafb)];_0x4b25bc+=_0x42e2c8(0xae3);if(_0x44dc7b==='matching_item'){}else _0x4b25bc+=_0x42e2c8(0x64f)+(_0x5be00d+0x1)+'.\x20'+(_0x4dd60e['instructions']||_0x4dd60e['questionText'])+_0x42e2c8(0x52b),_0x4dd60e[_0x42e2c8(0x929)]&&(_0x4b25bc+=_0x42e2c8(0x53f)+_0x4dd60e[_0x42e2c8(0x929)]+_0x42e2c8(0x5b3));_0x4b25bc+=_0x42e2c8(0x56b);switch(_0x44dc7b){case _0x42e2c8(0x247):_0x4b25bc+=_0x42e2c8(0x5c1)+_0x5be00d+_0x42e2c8(0xaa7);break;case _0x42e2c8(0x3f6):_0x4b25bc+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5be00d+_0x42e2c8(0x447)+_0x5be00d+_0x42e2c8(0xb63)+_0x5be00d+_0x42e2c8(0x481),_0x4b25bc+=_0x42e2c8(0x878)+_0x5be00d+_0x42e2c8(0x31d)+_0x5be00d+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x5be00d+_0x42e2c8(0x20f);break;case _0x42e2c8(0x747):_0x4b25bc+=_0x42e2c8(0xc9e)+_0x4dd60e[_0x42e2c8(0xdbf)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x5be00d+_0x42e2c8(0x483)+_0x4dd60e[_0x42e2c8(0xc0f)][_0x42e2c8(0x8cc)](_0x461098=>_0x42e2c8(0xd63)+_0x461098+'\x22>'+_0x461098+_0x42e2c8(0x9a7))[_0x42e2c8(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x4b25bc+=_0x4dd60e[_0x42e2c8(0xd99)][_0x42e2c8(0x8cc)]((_0x156ddc,_0x403178)=>_0x42e2c8(0xc3b)+_0x5be00d+_0x42e2c8(0x58f)+_0x403178+_0x42e2c8(0xaf8)+_0x5be00d+_0x42e2c8(0xb74)+_0x403178+_0x42e2c8(0x4a5)+_0x5be00d+'_opt'+_0x403178+'\x22>'+_0x156ddc+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x42e2c8(0x35d)]('');break;}_0x4b25bc+='</div>',_0x2a1812&&(_0x4b25bc+=_0x42e2c8(0xd5a),_0x382de5===_0x42e2c8(0x7a1)?_0x4b25bc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x5be00d+_0x42e2c8(0x75e)+_0x5be00d+_0x42e2c8(0x94b)+_0x5be00d+_0x42e2c8(0xb21)+_0x5be00d+_0x42e2c8(0x349):_0x4b25bc+=_0x42e2c8(0xd5d)+_0x5be00d+_0x42e2c8(0x75e)+_0x5be00d+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x5be00d+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b25bc+='</div>'),_0x4b25bc+=_0x42e2c8(0x5b3);}),_0x4b25bc+=_0x1948f3(0xbd5),_0x4b25bc+=_0x1948f3(0x5cb),studentQuizArea['innerHTML']=_0x4b25bc;if(currentMode===_0x1948f3(0x6bb)){const _0x2ae425=document['getElementById'](_0x1948f3(0x216));if(_0x2ae425)_0x2ae425[_0x1948f3(0x6dd)]('click',cancelAdminTest);}const _0x434907=document[_0x1948f3(0x52a)](_0x1948f3(0x212));_0x434907&&(_0x434907[_0x1948f3(0x6dd)]('submit',handleSubmitQuiz),_0x434907[_0x1948f3(0x6dd)](_0x1948f3(0x564),_0x27cd73=>{const _0x37722e=_0x1948f3;if(_0x27cd73[_0x37722e(0x45d)][_0x37722e(0x817)][_0x37722e(0x7e7)](_0x37722e(0x69b))){const _0x2e39f6=_0x27cd73[_0x37722e(0x45d)],_0x46a59b=_0x2e39f6[_0x37722e(0xba5)][_0x37722e(0xc69)],_0x529bcd=_0x2e39f6[_0x37722e(0xba5)]['value'];document[_0x37722e(0x52a)](_0x37722e(0x725)+_0x46a59b)['value']=_0x529bcd;const _0x65357f=_0x2e39f6[_0x37722e(0xcc7)];_0x65357f[_0x37722e(0x7b3)](_0x37722e(0x9b4))[_0x37722e(0x79a)](_0x2180fb=>_0x2180fb[_0x37722e(0x817)]['remove']('active')),_0x2e39f6[_0x37722e(0x817)]['add']('active');}}));if(window[_0x1948f3(0xb46)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x271114){const _0x165c6f=_0x6a7885;if(_0x271114)_0x271114[_0x165c6f(0x306)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3b9f2c=document['getElementById'](_0x165c6f(0x212));if(!_0x3b9f2c)return;const _0x1e4a9e=currentDisplayedQuiz['settings']?.[_0x165c6f(0x6a3)]===!![],_0x32cbda=currentDisplayedQuiz['settings']?.[_0x165c6f(0xc42)]||'checkbox';if(_0x1e4a9e&&_0x32cbda===_0x165c6f(0x7a1)){let _0x331b60=!![];for(let _0x415e90=0x0;_0x415e90<currentDisplayedQuiz[_0x165c6f(0x665)][_0x165c6f(0xbc8)];_0x415e90++){const _0x2c81ca=_0x3b9f2c['querySelector'](_0x165c6f(0x83e)+_0x415e90);if(!_0x2c81ca||_0x2c81ca['value']===''){_0x331b60=![];break;}}if(!_0x331b60){showMessage(_0x165c6f(0xaf5));return;}}const _0x456c34=_0x3b9f2c['querySelector']('button[type=\x22submit\x22]'),_0x3cb330=currentDisplayedQuiz[_0x165c6f(0x665)][_0x165c6f(0x359)](_0x23f875=>_0x23f875[_0x165c6f(0x8c1)]===_0x165c6f(0x247));_0x456c34&&(_0x456c34['disabled']=!![],_0x456c34[_0x165c6f(0xd3c)]=_0x3cb330?_0x165c6f(0xaef):_0x165c6f(0x473));const _0x454f1e=new FormData(_0x3b9f2c),_0x1f7067=currentDisplayedQuiz[_0x165c6f(0x665)]['map']((_0x3511db,_0x2e29fe)=>{const _0x19c314=_0x165c6f,_0x299963=_0x454f1e[_0x19c314(0x4d5)](_0x19c314(0xa64)+_0x2e29fe);let _0x503382;_0x32cbda===_0x19c314(0x7a1)?_0x503382=_0x454f1e[_0x19c314(0x4d5)](_0x19c314(0xc28)+_0x2e29fe):_0x503382=_0x454f1e[_0x19c314(0x4d5)](_0x19c314(0xc28)+_0x2e29fe)==='on';let _0x4c404b=null;if(_0x299963!==null&&_0x299963!==undefined){const _0x3027e1=_0x3511db['questionType']||currentDisplayedQuiz['quizType'];_0x3027e1===_0x19c314(0xa3b)||_0x3027e1===_0x19c314(0x3f9)?_0x4c404b=parseInt(_0x299963):_0x4c404b=_0x299963;}return{'answer':_0x4c404b,'wasConfident':_0x503382};}),_0x319869=currentQuizData['id'],_0x1585bc=doc(db,_0x165c6f(0x3c5)+appId+_0x165c6f(0x5b0)+_0x319869+_0x165c6f(0x211),currentStudentName),_0x515134=await getDoc(_0x1585bc),_0x4cb217=_0x515134[_0x165c6f(0xd3f)]()?_0x515134[_0x165c6f(0x36d)]():{},_0x2f9394=_0x4cb217[_0x165c6f(0xca0)]||[];await processAndSubmitAnswers(_0x1f7067,_0x2f9394);}async function gradeShortAnswerWithAI(_0x658c68,_0x307e33){const _0x51981c=_0x6a7885;if(!_0x658c68||!_0x307e33)return![];try{const _0x34f36d=_0x51981c(0x262)+_0x658c68+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x307e33+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x32c051={'contents':[{'role':'user','parts':[{'text':_0x34f36d}]}]},_0x4a9837=_0x51981c(0x5d9),_0x596a7f=_0x51981c(0x3df)+_0x4a9837,_0x10b429=await fetch(_0x596a7f,{'method':'POST','headers':{'Content-Type':_0x51981c(0x5f8)},'body':JSON[_0x51981c(0x20d)](_0x32c051)});if(!_0x10b429['ok'])throw new Error(_0x51981c(0xc60));const _0x584b8d=await _0x10b429[_0x51981c(0x77b)](),_0x4b072d=_0x584b8d['candidates'][0x0][_0x51981c(0x63c)][_0x51981c(0xdb5)][0x0][_0x51981c(0xc1c)][_0x51981c(0x797)]()[_0x51981c(0x476)]();return _0x4b072d===_0x51981c(0xb54);}catch(_0x3b1f10){return console[_0x51981c(0xc4f)](_0x51981c(0x2a1),_0x3b1f10),![];}}async function processAndSubmitAnswers(_0x645328,_0x5867e1){const _0x3b6729=_0x6a7885;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3b6729(0x5b6)](_0x3b6729(0xd2a),handleFullscreenChange),document[_0x3b6729(0x5b6)]('visibilitychange',handleVisibilityChange);let _0x40d3fe=0x0;const _0x28cadb=[],_0x15104c=currentDisplayedQuiz[_0x3b6729(0x665)][_0x3b6729(0xbc8)];let _0xdece17=0x0,_0x174764=[];const _0x4e2c51=currentDisplayedQuiz['questions'];for(let _0x124725=0x0;_0x124725<_0x4e2c51[_0x3b6729(0xbc8)];_0x124725++){const _0x44c25d=_0x4e2c51[_0x124725],_0x2235ba=_0x645328[_0x124725],_0x2fb00c=_0x2235ba?_0x2235ba[_0x3b6729(0xc86)]:null,_0x522931=_0x2235ba?_0x2235ba['wasConfident']:null;let _0x52a650=![],_0x51a1cc=0x0;if(_0x2fb00c!==null&&_0x2fb00c!==''){const _0x518111=_0x44c25d[_0x3b6729(0x8c1)]||currentDisplayedQuiz['quizType'];switch(_0x518111){case _0x3b6729(0x747):_0x52a650=_0x2fb00c===_0x44c25d['correctResponse'];break;case'true_false':const _0x201868=_0x2fb00c===!![]||_0x2fb00c===_0x3b6729(0xb54);_0x52a650=_0x201868===_0x44c25d[_0x3b6729(0x950)];break;case _0x3b6729(0x247):_0x52a650=await gradeShortAnswer(_0x2fb00c,_0x44c25d);break;case _0x3b6729(0xa3b):default:_0x52a650=Number(_0x2fb00c)===_0x44c25d[_0x3b6729(0x7cc)];break;}}if(currentDisplayedQuiz[_0x3b6729(0x727)]?.[_0x3b6729(0x6a3)]){const _0x213f37=_0x2235ba?_0x2235ba[_0x3b6729(0x287)]:null;if(_0x52a650&&(_0x213f37===!![]||_0x213f37===_0x3b6729(0xcc3)))_0x51a1cc=0x2;else{if(_0x52a650)_0x51a1cc=0x1;else{if(!_0x52a650&&(_0x213f37===![]||_0x213f37===_0x3b6729(0x207)||_0x213f37===null))_0x51a1cc=0x0;else!_0x52a650&&(_0x213f37===!![]||_0x213f37===_0x3b6729(0xcc3))&&(_0x51a1cc=-0x1);}}}else _0x51a1cc=_0x52a650?0x1:0x0;_0x40d3fe+=_0x51a1cc;if(_0x52a650){_0xdece17++;if(_0xdece17===0x3)_0x174764[_0x3b6729(0x586)](BADGES[_0x3b6729(0x1f0)]['id']);}else _0xdece17=0x0;let _0x26e9e9=null;_0x44c25d[_0x3b6729(0xd99)]&&_0x2fb00c!==null&&(_0x26e9e9=_0x44c25d[_0x3b6729(0xd99)][_0x2fb00c]),_0x28cadb[_0x3b6729(0x586)]({'questionId':_0x44c25d['id'],'answer':_0x2fb00c,'answerText':_0x26e9e9,'isCorrect':_0x52a650,'wasConfident':_0x522931,'pointsAwarded':_0x51a1cc,'originalQuestionText':_0x44c25d[_0x3b6729(0xdbf)]||_0x44c25d[_0x3b6729(0xc82)]});}const _0x14e60b=_0x28cadb[_0x3b6729(0xcae)](_0x3901ea=>_0x3901ea[_0x3b6729(0x7d3)])[_0x3b6729(0xbc8)],_0x324854=currentDisplayedQuiz[_0x3b6729(0x727)]?.[_0x3b6729(0xa3d)]??Math[_0x3b6729(0x754)](_0x15104c/0x2);_0x14e60b===_0x15104c&&_0x15104c>0x0&&!currentDisplayedQuiz[_0x3b6729(0x924)]&&_0x174764['push'](BADGES['PERFECT_SCORE']['id']);const _0x2078a4=currentDisplayedQuiz[_0x3b6729(0x727)]?.[_0x3b6729(0xd0e)];if(_0x2078a4==='whole_quiz'&&quizStartTime){const _0x234e5a=(new Date()-quizStartTime)/0x3e8,_0x128540=currentDisplayedQuiz[_0x3b6729(0x727)][_0x3b6729(0x343)]*0x3c;_0x14e60b>=_0x324854&&_0x234e5a<_0x128540/0x2&&_0x174764[_0x3b6729(0x586)](BADGES[_0x3b6729(0xa96)]['id']);}_0x5867e1['length']===0x0&&_0x14e60b===_0x15104c&&_0x15104c>0x0&&_0x174764['push'](BADGES[_0x3b6729(0x49b)]['id']);if(_0x5867e1[_0x3b6729(0xbc8)]>0x0){const _0x355b11=_0x5867e1[0x0][_0x3b6729(0xb95)];if(_0x355b11<_0x324854&&_0x14e60b>=_0x324854){const _0x50026a=_0x5867e1[_0x3b6729(0x359)](_0x2e854d=>(_0x2e854d[_0x3b6729(0x3c9)]||[])[_0x3b6729(0x317)](BADGES['COMEBACK_KING']['id']));!_0x50026a&&_0x174764[_0x3b6729(0x586)](BADGES[_0x3b6729(0x34d)]['id']);}}_0x5867e1['length']===0x4&&_0x174764[_0x3b6729(0x586)](BADGES[_0x3b6729(0x8f0)]['id']);const _0x280545=currentDisplayedQuiz['settings'][_0x3b6729(0xb47)];if(currentMode===_0x3b6729(0x6bb)){handleResultDisplay(_0x280545,_0x14e60b,_0x40d3fe,_0x174764,_0x28cadb,_0x15104c);return;}const _0x3c9e35=currentQuizData['id'],_0x333775=doc(db,'artifacts/'+appId+_0x3b6729(0x5b0)+_0x3c9e35+_0x3b6729(0x211),currentStudentName);try{const _0x3f4d9d=[..._0x5867e1],_0xec5284={'score':_0x14e60b,'points':_0x40d3fe,'badges':Array[_0x3b6729(0x568)](new Set(_0x174764)),'submittedAt':new Date()[_0x3b6729(0xb49)](),'answers':_0x28cadb};_0x3f4d9d[_0x3b6729(0x586)](_0xec5284);const _0x42cd52=_0x5867e1[_0x3b6729(0xbc8)]===0x0?_0x14e60b:_0x5867e1[0x0][_0x3b6729(0xb95)]||0x0,_0x43087d=Math[_0x3b6729(0xbf8)](..._0x3f4d9d[_0x3b6729(0x8cc)](_0x5ec629=>_0x5ec629['score']));await setDoc(_0x333775,{'studentName':currentStudentName,'totalQuestions':_0x15104c,'attempts':_0x3f4d9d,'firstScore':_0x42cd52,'bestScore':_0x43087d,'latestScore':_0x14e60b,'points':_0x40d3fe,'latestSubmittedAt':_0xec5284[_0x3b6729(0x7ef)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3b6729(0x94a)],currentStudentName),handleResultDisplay(_0x280545,_0x14e60b,_0x40d3fe,_0x174764,_0x28cadb,_0x15104c);}catch(_0xe1e06d){console[_0x3b6729(0xc4f)](_0x3b6729(0xbc6),_0xe1e06d),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x3092e5,_0x304012){const _0x4fa765=_0x6a7885,_0x2d7f09=doc(db,'artifacts/'+appId+_0x4fa765(0x3e7)+_0x3092e5+_0x4fa765(0x9c5),_0x304012);try{const _0x520687=query(collection(db,_0x4fa765(0x3c5)+appId+_0x4fa765(0x383)),where(_0x4fa765(0x94a),'==',_0x3092e5)),_0x271edc=await getDocs(_0x520687),_0x48456f=new Map(_0x271edc[_0x4fa765(0x3f3)][_0x4fa765(0x8cc)](_0x2ccaa9=>[_0x2ccaa9['id'],_0x2ccaa9[_0x4fa765(0x36d)]()])),_0x57f779=Array[_0x4fa765(0x568)](_0x48456f[_0x4fa765(0x879)]());await runTransaction(db,async _0x77f070=>{const _0x1a01f8=_0x4fa765;let _0x1389bc=0x0;const _0xddb715={};let _0x30db22=!![],_0x3a7c5a=0x0,_0x3851c3=0x0;for(const _0x3ff23f of _0x57f779){const _0x3970da=_0x48456f[_0x1a01f8(0x4d5)](_0x3ff23f),_0x50334b=doc(db,_0x1a01f8(0x3c5)+appId+_0x1a01f8(0x5b0)+_0x3ff23f+_0x1a01f8(0x211),_0x304012),_0x10e2a2=await _0x77f070[_0x1a01f8(0x4d5)](_0x50334b);if(_0x10e2a2[_0x1a01f8(0xd3f)]()){const _0x1e9117=_0x10e2a2[_0x1a01f8(0x36d)](),_0x236533=_0x1e9117[_0x1a01f8(0xca0)]||[];if(_0x236533[_0x1a01f8(0xbc8)]>0x0){const _0x5d407c=_0x236533[_0x1a01f8(0xb90)]((_0x2f0fd2,_0x74abe)=>{const _0x487bcc=_0x1a01f8;if(_0x74abe[_0x487bcc(0xb95)]>_0x2f0fd2[_0x487bcc(0xb95)])return _0x74abe;if(_0x74abe[_0x487bcc(0xb95)]===_0x2f0fd2['score'])return(_0x74abe[_0x487bcc(0xd9f)]||0x0)>(_0x2f0fd2[_0x487bcc(0xd9f)]||0x0)?_0x74abe:_0x2f0fd2;return _0x2f0fd2;},{'score':-0x1,'points':-0x1});_0x5d407c[_0x1a01f8(0xb95)]>-0x1&&(_0x1389bc+=_0x5d407c[_0x1a01f8(0xd9f)]||0x0,(_0x5d407c[_0x1a01f8(0x3c9)]||[])[_0x1a01f8(0x79a)](_0x928900=>{_0xddb715[_0x928900]=(_0xddb715[_0x928900]||0x0)+0x1;}));}}if(_0x3970da[_0x1a01f8(0x801)]!=='แบบทดสอบซ่อมเสริม'){_0x3851c3++;if(_0x10e2a2['exists']()){_0x3a7c5a++;const _0x56449c=_0x10e2a2[_0x1a01f8(0x36d)]();_0x56449c[_0x1a01f8(0x43a)]!==_0x56449c[_0x1a01f8(0x524)]&&(_0x30db22=![]);}else _0x30db22=![];}}_0x3851c3>0x0&&_0x3a7c5a===_0x3851c3&&_0x30db22?_0xddb715['specialist']=0x1:_0xddb715[_0x1a01f8(0xb45)]=0x0,_0x77f070['set'](_0x2d7f09,{'studentName':_0x304012,'totalPoints':_0x1389bc,'unlockedBadges':Object[_0x1a01f8(0x879)](_0xddb715)['filter'](_0x22d9f8=>_0xddb715[_0x22d9f8]>0x0),'badgesCount':_0xddb715},{'merge':!![]});});}catch(_0x217e84){console[_0x4fa765(0xc4f)](_0x4fa765(0xdfb),_0x217e84),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x295a93=_0x6a7885;if(!currentQuizData){showMessage(_0x295a93(0xcd9));return;}let _0xa75b78=JSON[_0x295a93(0x975)](JSON[_0x295a93(0x20d)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x295a93(0x6bd),adminView[_0x295a93(0x817)][_0x295a93(0x642)](_0x295a93(0x68d)),studentView[_0x295a93(0x817)][_0x295a93(0xb2b)](_0x295a93(0x68d)),studentInitialView[_0x295a93(0x817)][_0x295a93(0x642)](_0x295a93(0x68d)),studentNameSelectionView[_0x295a93(0x817)][_0x295a93(0x642)](_0x295a93(0x68d)),studentResultArea['classList'][_0x295a93(0x642)](_0x295a93(0x68d)),studentQuizArea[_0x295a93(0x817)][_0x295a93(0xb2b)](_0x295a93(0x68d)),quizStartTime=new Date(),displayQuizForStudent(_0xa75b78);}function handleResultDisplay(_0x1ef0ef,_0x2c05cd,_0x37d652,_0x325b7c,_0x584649,_0x303aed){const _0x25428b=_0x6a7885;if(_0x1ef0ef===_0x25428b(0x48b)){displaySubmissionConfirmation();return;}const _0x4ae445=currentDisplayedQuiz[_0x25428b(0x727)]?.[_0x25428b(0xa3d)]??Math[_0x25428b(0x754)](_0x303aed/0x2),_0x2c6a0f=currentDisplayedQuiz[_0x25428b(0x727)]?.['isAdaptive']??![],_0x41d171=currentDisplayedQuiz[_0x25428b(0x727)]?.[_0x25428b(0x982)]===!![],_0x2ae846=_0x2c05cd<_0x4ae445,_0x244b54=_0x1ef0ef===_0x25428b(0x8b0)||_0x1ef0ef===_0x25428b(0xa9d);if(_0x41d171&&_0x2ae846&&!_0x244b54){_0x1ef0ef===_0x25428b(0xa40)?displayResultsWithAnswers(_0x2c05cd,_0x37d652,_0x325b7c,_0x584649,_0x303aed,!![]):displayLoopScreen(_0x2c05cd,_0x303aed,_0x1ef0ef);return;}if(_0x2c6a0f&&_0x2ae846){startAdaptiveFlow(_0x584649,_0x2c05cd,_0x303aed);return;}switch(_0x1ef0ef){case _0x25428b(0xa40):displayResultsWithAnswers(_0x2c05cd,_0x37d652,_0x325b7c,_0x584649,_0x303aed);break;case _0x25428b(0x6dc):displayResultsScoreOnly(_0x2c05cd,_0x37d652,_0x325b7c,_0x303aed);break;case _0x25428b(0x5aa):displayPassFailOnly(_0x2c05cd,_0x303aed);break;case _0x25428b(0x8b0):displayHalfMarkResult(_0x2c05cd,_0x303aed);break;case _0x25428b(0xa9d):displayPerfectScoreResult(_0x2c05cd,_0x303aed);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x49fd3e){const _0x3cf833=_0x6a7885;studentReadingArea['innerHTML']=_0x3cf833(0x636);const _0x2c91e3=_0x3cf833(0xac8)+_0x49fd3e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x3cf833(0x873),_0x477949={'type':_0x3cf833(0x342),'properties':{'questionText':{'type':_0x3cf833(0xd50)},'options':{'type':_0x3cf833(0x3ad),'items':{'type':_0x3cf833(0xd50)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3cf833(0xd50)}},'required':[_0x3cf833(0xc82),_0x3cf833(0xd99),_0x3cf833(0x7cc),_0x3cf833(0x559)]},_0x1cf342={'type':_0x3cf833(0x342),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3cf833(0x3ad),'items':_0x477949}},'required':[_0x3cf833(0x801),_0x3cf833(0x665)]};try{const _0x40edf9=await callAnalysisApi(_0x2c91e3,_0x1cf342);_0x40edf9[_0x3cf833(0x924)]=!![],studentReadingArea[_0x3cf833(0x817)][_0x3cf833(0x642)](_0x3cf833(0x68d));const _0x196a86={...currentDisplayedQuiz[_0x3cf833(0x727)],'isAdaptive':![],'resultsDisplay':_0x3cf833(0xa40)};_0x40edf9[_0x3cf833(0x727)]=_0x196a86,displayQuizForStudent(_0x40edf9);}catch(_0x3623f6){console[_0x3cf833(0xc4f)]('Remedial\x20quiz\x20generation\x20failed:',_0x3623f6),showMessage(_0x3cf833(0x9e2)),showView(_0x3cf833(0xa0e));}}function displayPassFailOnly(_0x3cded4,_0x49a2ec){const _0x191cff=_0x6a7885,_0x590c2f=currentDisplayedQuiz[_0x191cff(0x727)]?.[_0x191cff(0xa3d)]??-0x1,_0x5952bd=currentDisplayedQuiz[_0x191cff(0x924)]===!![];let _0x3d6353='',_0x2fc8bd=![];if(_0x5952bd||_0x590c2f!==-0x1){_0x2fc8bd=_0x5952bd?_0x3cded4===_0x49a2ec:_0x3cded4>=_0x590c2f;const _0x429e49=_0x2fc8bd?'bg-green-100\x20text-green-800':_0x191cff(0xd1c),_0x1a9858=_0x2fc8bd?_0x191cff(0x3b0):_0x191cff(0xa27);_0x3d6353=_0x191cff(0x95d)+_0x429e49+'\x22>'+_0x1a9858+'</span></div>';}else _0x3d6353=_0x191cff(0xc41);let _0x370ed5=_0x191cff(0x324)+currentStudentName+_0x191cff(0x21a)+_0x3d6353+_0x191cff(0xde8);studentResultArea[_0x191cff(0xd3c)]=_0x370ed5,studentResultArea[_0x191cff(0x817)][_0x191cff(0xb2b)](_0x191cff(0x68d)),studentQuizArea['classList'][_0x191cff(0x642)](_0x191cff(0x68d)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2fc8bd});}function cancelAdminTest(){const _0x2a18af=_0x6a7885;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x2a18af(0x5b6)](_0x2a18af(0xd2a),handleFullscreenChange),document[_0x2a18af(0x5b6)]('visibilitychange',handleVisibilityChange),currentMode=_0x2a18af(0x85e),studentView[_0x2a18af(0x817)][_0x2a18af(0x642)]('hidden'),adminView[_0x2a18af(0x817)][_0x2a18af(0xb2b)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x2a18af(0x298));}function setupResultScreenBackButton(_0x5e36c9){const _0x2183e0=_0x6a7885,_0x3399cb={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x5e36c9};if(_0x3399cb[_0x2183e0(0x713)]){const _0x392d77='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2183e0(0x6d8)](_0x2183e0(0x3bb),_0x392d77),document[_0x2183e0(0x52a)](_0x2183e0(0x841))[_0x2183e0(0x6dd)](_0x2183e0(0x564),()=>{const _0x4cdbc5=_0x2183e0;studentResultArea[_0x4cdbc5(0x817)][_0x4cdbc5(0x642)](_0x4cdbc5(0x68d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3cf4f6=_0x2183e0(0xb51),_0x3663ba=currentMode===_0x2183e0(0x6bb),_0x2cdda5=_0x3663ba?_0x2183e0(0xb7f):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x559c42='';_0x3399cb[_0x2183e0(0xa23)]&&(_0x559c42+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x56c66e=_0x3399cb[_0x2183e0(0xd33)];_0x56c66e===undefined&&(_0x56c66e=_0x3399cb[_0x2183e0(0xb95)]<_0x3399cb['totalQuestions']);_0x56c66e&&(_0x559c42+=_0x2183e0(0x87c));_0x559c42+=_0x2183e0(0xb6e)+_0x3cf4f6+_0x2183e0(0x9ec)+_0x2cdda5+'</button>';const _0x2992de=_0x2183e0(0x4ab)+_0x559c42+'</div>';studentResultArea[_0x2183e0(0x6d8)](_0x2183e0(0x3bb),_0x2992de),studentResultArea['querySelector']('#view-rankings-btn')?.['addEventListener'](_0x2183e0(0x564),handleShowStudentRankings);const _0x428d1f=studentResultArea[_0x2183e0(0x390)](_0x2183e0(0xa90));_0x428d1f&&_0x428d1f['addEventListener'](_0x2183e0(0x564),()=>{const _0x39d7ad=_0x2183e0;studentResultArea[_0x39d7ad(0x817)][_0x39d7ad(0x642)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2183e0(0x52a)](_0x3cf4f6)[_0x2183e0(0x6dd)]('click',()=>{const _0x57c5b6=_0x2183e0;_0x3663ba?(currentMode='admin',studentView['classList']['add'](_0x57c5b6(0x68d)),adminView[_0x57c5b6(0x817)][_0x57c5b6(0xb2b)](_0x57c5b6(0x68d)),showView(_0x57c5b6(0x298))):(showView('student'),document[_0x57c5b6(0x52a)](_0x57c5b6(0x2bc))['value']='');});}function displayResultsWithAnswers(_0x21f962,_0x388438,_0x29f32b,_0x30be65,_0x5d0fe4,_0x3dbb9c=![]){const _0x3bc379=_0x6a7885,_0x26ce4a=_0x5d0fe4>0x0?_0x21f962/_0x5d0fe4*0x64:0x0,_0x48e0b0=currentDisplayedQuiz['settings']?.[_0x3bc379(0xa3d)]??-0x1,_0x139739=currentDisplayedQuiz[_0x3bc379(0x924)]===!![];let _0x45523e='';if(_0x139739||_0x48e0b0!==-0x1){let _0x54a1ec=_0x139739?_0x21f962===_0x5d0fe4:_0x21f962>=_0x48e0b0;const _0x5bd2bc=_0x54a1ec?'bg-green-100\x20text-green-800':_0x3bc379(0xd1c),_0x136f2f=_0x54a1ec?_0x3bc379(0x3b0):_0x3bc379(0xa27);_0x45523e=_0x3bc379(0x78b)+_0x5bd2bc+'\x22>'+_0x136f2f+_0x3bc379(0x52b);}let _0x281a33='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x21f962+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5d0fe4+_0x3bc379(0x260)+_0x45523e+_0x3bc379(0x402)+_0x388438+_0x3bc379(0x540)+_0x26ce4a[_0x3bc379(0x39f)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x3bc379(0x665)][_0x3bc379(0x79a)]((_0x217d6a,_0x2624c4)=>{const _0x3d2912=_0x3bc379,_0x3dd63c=_0x30be65[_0x2624c4],_0x3fc560=_0x3dd63c[_0x3d2912(0xc86)],_0x56eee5=_0x3dd63c[_0x3d2912(0x7d3)],_0xafba71=_0x217d6a['questionType']||currentDisplayedQuiz[_0x3d2912(0xafb)];_0x281a33+=_0x3d2912(0x9ac)+(_0x56eee5?_0x3d2912(0x82c):_0x3d2912(0x434))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x2624c4+0x1)+'.\x20'+(_0x217d6a[_0x3d2912(0xdbf)]||_0x217d6a[_0x3d2912(0xc82)])+_0x3d2912(0xd27);switch(_0xafba71){case _0x3d2912(0x747):const _0x33211b=_0x3fc560||'ไม่ได้ตอบ',_0x709206=_0x217d6a[_0x3d2912(0x573)];_0x281a33+=_0x3d2912(0x3bc)+(!_0x56eee5?'line-through\x20text-red-700':'')+'\x22>'+_0x33211b+'</span></p>';!_0x56eee5&&(_0x281a33+=_0x3d2912(0xc80)+_0x709206+'</p>');break;case _0x3d2912(0x247):_0x281a33+=_0x3d2912(0xc07)+(_0x3fc560||_0x3d2912(0x206))+'</p>',_0x281a33+=_0x3d2912(0x941)+_0x217d6a[_0x3d2912(0x2fd)]+_0x3d2912(0x52b);break;case'true_false':_0x281a33+=_0x3d2912(0x61c)+(_0x217d6a[_0x3d2912(0x950)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x3fc560===_0x3d2912(0xb54)&&!_0x56eee5?_0x3d2912(0xc46):'')+_0x3d2912(0x1f4),_0x281a33+='<p\x20class=\x22'+(_0x217d6a['correctAnswer']===![]?_0x3d2912(0x9fa):'')+'\x20'+(_0x3fc560===_0x3d2912(0x238)&&!_0x56eee5?_0x3d2912(0xc46):'')+'\x22>ไม่ใช่</p>';break;default:_0x281a33+=_0x217d6a[_0x3d2912(0xd99)][_0x3d2912(0x8cc)]((_0x12943e,_0x5d9ebd)=>{const _0x85844b=_0x3d2912;let _0x1b020b='',_0x2cfb50='';if(_0x5d9ebd===_0x217d6a[_0x85844b(0x7cc)])_0x1b020b=_0x85844b(0x9fa),_0x2cfb50=_0x85844b(0x4e0);else _0x5d9ebd===_0x3fc560&&(_0x1b020b=_0x85844b(0xdf5),_0x2cfb50=_0x85844b(0xbb9));return'<div\x20class=\x22'+_0x1b020b+'\x22>'+_0x2cfb50+_0x12943e+'</div>';})['join']('');break;}_0x281a33+=_0x3d2912(0xd42)+(_0x217d6a[_0x3d2912(0x559)]||_0x3d2912(0xa4a))+_0x3d2912(0x5b3);if(!_0x56eee5){const _0x1ea554=_0x217d6a[_0x3d2912(0xdbf)]||_0x217d6a[_0x3d2912(0xc82)];_0x281a33+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x1ea554)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x281a33+='</div>';}),studentResultArea['innerHTML']=_0x281a33,renderEarnedBadges(_0x29f32b,_0x3bc379(0x2b8)),studentResultArea[_0x3bc379(0x817)][_0x3bc379(0xb2b)](_0x3bc379(0x68d)),studentQuizArea['classList'][_0x3bc379(0x642)](_0x3bc379(0x68d)),setupResultScreenBackButton({'isLooping':_0x3dbb9c,'score':_0x21f962,'totalQuestions':_0x5d0fe4,'showRankings':!![]});if(window['MathJax'])window[_0x3bc379(0xb46)][_0x3bc379(0x787)]([studentResultArea]);}function displayResultsScoreOnly(_0x2066ff,_0x591287,_0x1601a7,_0x3b882d){const _0x135eb0=_0x6a7885,_0x1f6c6d=_0x3b882d>0x0?_0x2066ff/_0x3b882d*0x64:0x0,_0xbafeca=currentDisplayedQuiz['settings']?.[_0x135eb0(0xa3d)]??-0x1,_0x599cce=currentDisplayedQuiz[_0x135eb0(0x924)]===!![];let _0x489ffe='';if(_0x599cce||_0xbafeca!==-0x1){let _0x3bbf71=_0x599cce?_0x2066ff===_0x3b882d:_0x2066ff>=_0xbafeca;const _0x42123b=_0x3bbf71?'bg-green-100\x20text-green-800':_0x135eb0(0xd1c),_0x417a52=_0x3bbf71?_0x135eb0(0x3b0):_0x135eb0(0xa27);_0x489ffe='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x42123b+'\x22>'+_0x417a52+_0x135eb0(0x52b);}let _0x583d5c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x135eb0(0xd5c)+_0x2066ff+_0x135eb0(0xd55)+_0x3b882d+_0x135eb0(0x260)+_0x489ffe+_0x135eb0(0x402)+_0x591287+_0x135eb0(0xaf6)+_0x1f6c6d[_0x135eb0(0x39f)](0x0)+_0x135eb0(0x5b7);studentResultArea[_0x135eb0(0xd3c)]=_0x583d5c,renderEarnedBadges(_0x1601a7,'earned-badges-container'),studentResultArea[_0x135eb0(0x817)][_0x135eb0(0xb2b)]('hidden'),studentQuizArea[_0x135eb0(0x817)][_0x135eb0(0x642)](_0x135eb0(0x68d)),setupResultScreenBackButton({'score':_0x2066ff,'totalQuestions':_0x3b882d,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x58596c=_0x6a7885;let _0x588f63=_0x58596c(0xcf7)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x58596c(0xd3c)]=_0x588f63,studentResultArea[_0x58596c(0x817)][_0x58596c(0xb2b)](_0x58596c(0x68d)),studentQuizArea['classList'][_0x58596c(0x642)](_0x58596c(0x68d)),document[_0x58596c(0x52a)]('back-to-home-manual-release')[_0x58596c(0x6dd)](_0x58596c(0x564),()=>{const _0x59bc83=_0x58596c;showView(_0x59bc83(0xa0e)),document[_0x59bc83(0x52a)](_0x59bc83(0x2bc))[_0x59bc83(0x3c4)]='';});}function renderEarnedBadges(_0x20a2dc,_0x2e0ae9){const _0x25bd73=_0x6a7885,_0x44d548=document[_0x25bd73(0x52a)](_0x2e0ae9);if(!_0x44d548||!_0x20a2dc||_0x20a2dc[_0x25bd73(0xbc8)]===0x0)return;let _0x9d0086='';_0x20a2dc[_0x25bd73(0x79a)]((_0x23ce93,_0x9dcccd)=>{const _0x42e1c3=_0x25bd73,_0x307e28=Object[_0x42e1c3(0xbd1)](BADGES)[_0x42e1c3(0x8c7)](_0x322cf0=>_0x322cf0['id']===_0x23ce93);_0x307e28&&(_0x9d0086+=_0x42e1c3(0x804)+_0x9dcccd*0.2+_0x42e1c3(0x5f3)+_0x307e28[_0x42e1c3(0xa70)]+_0x42e1c3(0x84f)+_0x307e28[_0x42e1c3(0x315)]+_0x42e1c3(0x566)+_0x307e28[_0x42e1c3(0xae4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x44d548['innerHTML']=_0x9d0086;}function startPresentation(_0x3479f5){const _0x1fbd30=_0x6a7885;currentQuizData=getShuffledQuiz(_0x3479f5),currentPresentationSlide=0x0,presentationModal['style'][_0x1fbd30(0x36c)]=_0x1fbd30(0xb92),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x58231d=_0x6a7885;document[_0x58231d(0x978)]&&document[_0x58231d(0xdaa)](),presentationModal[_0x58231d(0x882)][_0x58231d(0x36c)]='none';}function renderPresentationSlide(_0x58380d){const _0x13a463=_0x6a7885,_0x9b32e0=document[_0x13a463(0x52a)](_0x13a463(0x674));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x13a463(0x665)][_0x58380d]){_0x9b32e0[_0x13a463(0xd3c)]=_0x13a463(0x65c);return;}const _0xa01ce9=currentQuizData[_0x13a463(0x665)][_0x58380d],_0x4de991=_0xa01ce9[_0x13a463(0x8c1)]||currentQuizData[_0x13a463(0xafb)];_0x9b32e0['innerHTML']='';let _0x728356=_0x13a463(0x240)+(_0xa01ce9[_0x13a463(0x929)]?_0x13a463(0x53f)+_0xa01ce9['imageCode']+_0x13a463(0x5b3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x58380d+0x1)+'.\x20'+(_0xa01ce9['stem']||_0xa01ce9[_0x13a463(0xc82)])+_0x13a463(0xbc0);switch(_0x4de991){case'matching_item':_0x728356+=_0xa01ce9['allResponses'][_0x13a463(0x8cc)](_0x5c7eab=>_0x13a463(0x746)+_0x5c7eab+_0x13a463(0x85f))[_0x13a463(0x35d)]('');break;case _0x13a463(0x3f6):_0x728356+=_0x13a463(0x6b4),_0x728356+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x13a463(0xdd9):case _0x13a463(0x247):_0x728356+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x13a463(0x3f9):case _0x13a463(0xa3b):default:_0x728356+=_0xa01ce9[_0x13a463(0xd99)]['map']((_0x435159,_0x11b4d8)=>_0x13a463(0xc27)+_0x11b4d8+_0x13a463(0xa7e)+_0x435159+_0x13a463(0x85f))[_0x13a463(0x35d)]('');break;}_0x728356+=_0x13a463(0x5c0)+(_0xa01ce9[_0x13a463(0x559)]||_0x13a463(0xa4a))+_0x13a463(0x56d),_0x9b32e0[_0x13a463(0xd3c)]=_0x728356;if(window[_0x13a463(0xb46)])window[_0x13a463(0xb46)]['typesetPromise']([_0x9b32e0]);let _0x278aea=[];switch(_0x4de991){case'matching_item':_0x278aea=_0xa01ce9[_0x13a463(0xc0f)]||[];break;case _0x13a463(0x3f6):_0x278aea=[_0x13a463(0x954),_0x13a463(0x9b9)];break;default:_0x278aea=_0xa01ce9[_0x13a463(0xd99)]||[];break;}const _0x4ada67=document[_0x13a463(0x52a)](_0x13a463(0x395));_0x4ada67&&(_0x4ada67['onclick']=()=>{openScratchpad(_0xa01ce9,_0x278aea);});document[_0x13a463(0x7b3)](_0x13a463(0x47b))[_0x13a463(0x79a)](_0x5e3bcc=>{const _0x120c1f=_0x13a463;_0x5e3bcc[_0x120c1f(0x6dd)](_0x120c1f(0x564),_0x3dc4ee=>revealAnswerForPresentation(_0x58380d,_0x3dc4ee[_0x120c1f(0xcb2)]));});const _0x4889ee=document['getElementById'](_0x13a463(0xd31));_0x4889ee&&_0x4889ee['addEventListener'](_0x13a463(0x564),()=>checkShortAnswerForPresentation(_0x58380d)),document[_0x13a463(0x52a)](_0x13a463(0x229))[_0x13a463(0x675)]=_0x13a463(0xdd3)+(_0x58380d+0x1)+_0x13a463(0x938)+currentQuizData['questions'][_0x13a463(0xbc8)],document[_0x13a463(0x52a)](_0x13a463(0x93c))[_0x13a463(0x459)]=_0x58380d===0x0,document['getElementById']('next-question-btn')[_0x13a463(0x459)]=_0x58380d===currentQuizData[_0x13a463(0x665)][_0x13a463(0xbc8)]-0x1;}async function checkShortAnswerForPresentation(_0x3e5e73){const _0x3e8f69=_0x6a7885,_0xd0de3=currentQuizData[_0x3e8f69(0x665)][_0x3e5e73],_0xf00bcb=document[_0x3e8f69(0x52a)]('presentation-short-answer-input'),_0x5d1402=document[_0x3e8f69(0x52a)](_0x3e8f69(0xd31)),_0x1235d9=document[_0x3e8f69(0x52a)]('presentation-ai-result'),_0x5b94af=document[_0x3e8f69(0x52a)]('presentation-explanation');if(!_0xf00bcb||!_0x5d1402||!_0x1235d9||!_0x5b94af)return;const _0x68e3eb=_0xf00bcb[_0x3e8f69(0x3c4)][_0x3e8f69(0x797)]();if(_0x68e3eb==='')return;_0x5d1402['disabled']=!![],_0x5d1402['innerHTML']=_0x3e8f69(0x248),_0xf00bcb[_0x3e8f69(0x459)]=!![];const _0x5572c8=await gradeShortAnswer(_0x68e3eb,_0xd0de3);_0x5572c8?_0x1235d9[_0x3e8f69(0xd3c)]=_0x3e8f69(0x2c7):_0x1235d9[_0x3e8f69(0xd3c)]=_0x3e8f69(0x2fb)+_0xd0de3['idealAnswer']+')',_0x1235d9['classList'][_0x3e8f69(0xb2b)](_0x3e8f69(0x68d)),_0x5b94af[_0x3e8f69(0x817)][_0x3e8f69(0xb2b)](_0x3e8f69(0x68d)),_0x5d1402[_0x3e8f69(0x817)][_0x3e8f69(0x642)](_0x3e8f69(0x68d));}function revealAnswerForPresentation(_0x4fb6f5,_0x4afc70){const _0x294039=_0x6a7885,_0x3c5d10=currentQuizData[_0x294039(0x665)][_0x4fb6f5],_0x50c28c=_0x3c5d10[_0x294039(0x8c1)]||currentQuizData[_0x294039(0xafb)];document[_0x294039(0x7b3)](_0x294039(0x47b))['forEach'](_0x26cdcc=>{const _0x267a71=_0x294039;_0x26cdcc[_0x267a71(0x459)]=!![],_0x26cdcc[_0x267a71(0x817)]['remove'](_0x267a71(0x6d0));let _0x254ba7=![];if(_0x50c28c==='multiple_choice'||_0x50c28c==='fill_in_the_blank'){const _0x576f60=parseInt(_0x26cdcc[_0x267a71(0xba5)]['index']);_0x254ba7=_0x576f60===_0x3c5d10[_0x267a71(0x7cc)];}else{if(_0x50c28c===_0x267a71(0x3f6)){const _0x105c83=_0x26cdcc[_0x267a71(0xba5)][_0x267a71(0xc86)]===_0x267a71(0xb54);_0x254ba7=_0x105c83===_0x3c5d10[_0x267a71(0x950)];}else _0x50c28c===_0x267a71(0x747)&&(_0x254ba7=_0x26cdcc['textContent']['trim']()===_0x3c5d10[_0x267a71(0x573)]);}_0x254ba7?_0x26cdcc['classList'][_0x267a71(0x642)](_0x267a71(0x6fe),_0x267a71(0x33d),_0x267a71(0x2a0)):_0x26cdcc[_0x267a71(0x817)][_0x267a71(0x642)]('opacity-50');}),_0x4afc70[_0x294039(0x817)]['remove']('opacity-50');let _0x45103a=![];if(_0x50c28c===_0x294039(0xa3b))_0x45103a=parseInt(_0x4afc70['dataset'][_0x294039(0x7d4)])===_0x3c5d10['correctAnswerIndex'];else{if(_0x50c28c===_0x294039(0x3f6))_0x45103a=_0x4afc70[_0x294039(0xba5)][_0x294039(0xc86)]==='true'===_0x3c5d10[_0x294039(0x950)];else _0x50c28c===_0x294039(0x747)&&(_0x45103a=_0x4afc70[_0x294039(0x675)][_0x294039(0x797)]()===_0x3c5d10[_0x294039(0x573)]);}!_0x45103a&&_0x4afc70[_0x294039(0x817)]['add'](_0x294039(0x712),_0x294039(0x33d),'border-red-700'),document[_0x294039(0x52a)]('presentation-explanation')[_0x294039(0x817)][_0x294039(0xb2b)](_0x294039(0x68d));}function startWholeQuizTimer(_0x424fe5){const _0xb57a73=_0x6a7885,_0x1e6397=document['getElementById'](_0xb57a73(0xa47));if(!_0x1e6397)return;const _0x4bb2b0=Date['now']()+_0x424fe5*0x3c*0x3e8;_0x1e6397[_0xb57a73(0xd3c)]=_0xb57a73(0x8e5);const _0x34e559=document[_0xb57a73(0x52a)](_0xb57a73(0x3ed));quizTimerInterval=setInterval(()=>{const _0x172376=_0xb57a73,_0x4cc2de=_0x4bb2b0-Date[_0x172376(0x7f3)]();if(_0x4cc2de<=0x0)clearInterval(quizTimerInterval),_0x34e559[_0x172376(0x675)]=_0x172376(0xb7e),showMessage(_0x172376(0x694)),handleSubmitQuiz(null);else{const _0x2dd4cf=Math[_0x172376(0x754)](_0x4cc2de/0x3e8/0x3c%0x3c)[_0x172376(0x443)]()[_0x172376(0x34f)](0x2,'0'),_0x2f6278=Math[_0x172376(0x754)](_0x4cc2de/0x3e8%0x3c)[_0x172376(0x443)]()[_0x172376(0x34f)](0x2,'0');_0x34e559[_0x172376(0x675)]=_0x2dd4cf+':'+_0x2f6278;}},0x3e8);}function renderPerQuestionView(){const _0x5e6c7e=_0x6a7885;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3275ff=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4cdf72=_0x3275ff[_0x5e6c7e(0x8c1)]||currentDisplayedQuiz[_0x5e6c7e(0xafb)],_0x2d313e=currentDisplayedQuiz[_0x5e6c7e(0x727)]?.[_0x5e6c7e(0x6a3)]===!![];let _0xff7577=_0x5e6c7e(0x859)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x5e6c7e(0xbc8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x5e6c7e(0x6bb)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x5e6c7e(0x7eb);studentQuizArea['innerHTML']=_0xff7577;let _0x1061bc=_0x3275ff[_0x5e6c7e(0xdbf)]||_0x3275ff[_0x5e6c7e(0xc82)];_0x3275ff[_0x5e6c7e(0x929)]&&(_0x1061bc+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3275ff[_0x5e6c7e(0x929)]+_0x5e6c7e(0x5b3));let _0x26da66='';switch(_0x4cdf72){case _0x5e6c7e(0x247):case _0x5e6c7e(0xdd9):_0x26da66=_0x5e6c7e(0x4cc);break;case _0x5e6c7e(0x3f6):_0x26da66='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x5e6c7e(0x747):_0x26da66='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3275ff[_0x5e6c7e(0xc0f)]||[])[_0x5e6c7e(0x8cc)](_0x37b0f3=>_0x5e6c7e(0xd63)+_0x37b0f3+'\x22>'+_0x37b0f3+_0x5e6c7e(0x9a7))[_0x5e6c7e(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x3275ff['options']&&(_0x26da66=_0x3275ff[_0x5e6c7e(0xd99)]['map']((_0x21a9b6,_0x540d9c)=>_0x5e6c7e(0x545)+_0x540d9c+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x540d9c+_0x5e6c7e(0x6f8)+_0x540d9c+'\x22>'+_0x21a9b6+'</label></div>')[_0x5e6c7e(0x35d)](''));break;}document['getElementById']('per-question-text')[_0x5e6c7e(0xd3c)]=_0x1061bc,document['getElementById'](_0x5e6c7e(0x446))[_0x5e6c7e(0xd3c)]=_0x26da66;const _0x41af5f=currentDisplayedQuiz[_0x5e6c7e(0x727)]?.[_0x5e6c7e(0x6a3)]===!![],_0xb24a04=currentDisplayedQuiz['settings']?.['confidenceMode']||'checkbox';if(_0x41af5f&&_0xb24a04==='checkbox'){const _0x1711d4=_0x5e6c7e(0xce0);studentQuizArea[_0x5e6c7e(0x390)]('.mb-6.p-4')[_0x5e6c7e(0x6d8)]('beforeend',_0x1711d4);}studentQuizArea[_0x5e6c7e(0x6d8)](_0x5e6c7e(0x3bb),_0x5e6c7e(0xa9b)+(currentQuestionIndex===currentDisplayedQuiz[_0x5e6c7e(0x665)][_0x5e6c7e(0xbc8)]-0x1?'ส่งคำตอบ':_0x5e6c7e(0xa29))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode==='admin-testing'&&document[_0x5e6c7e(0x52a)](_0x5e6c7e(0x216))?.[_0x5e6c7e(0x6dd)](_0x5e6c7e(0x564),cancelAdminTest);document['getElementById'](_0x5e6c7e(0xab4))[_0x5e6c7e(0x6dd)](_0x5e6c7e(0x564),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5e6c7e(0xb46)])window[_0x5e6c7e(0xb46)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x5e6c7e(0x727)]?.[_0x5e6c7e(0xd0e)]===_0x5e6c7e(0x72b)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x6a0a4e=_0x6a7885,_0x229769=currentDisplayedQuiz[_0x6a0a4e(0x727)]['timerDuration'],_0x2cfafc=document['getElementById'](_0x6a0a4e(0x275));if(!_0x2cfafc)return;let _0x48bccb=_0x229769;_0x2cfafc[_0x6a0a4e(0xd3c)]=_0x6a0a4e(0x57c)+_0x48bccb+_0x6a0a4e(0x47e);const _0x4929bb=document[_0x6a0a4e(0x52a)](_0x6a0a4e(0xbca)),_0x170112=document['getElementById'](_0x6a0a4e(0x409));perQuestionTimerInterval=setInterval(()=>{const _0x134e5f=_0x6a0a4e;_0x48bccb--;const _0x1a5b28=_0x48bccb/_0x229769*0x64;_0x4929bb['style']['width']=_0x1a5b28+'%',_0x170112[_0x134e5f(0x675)]=_0x48bccb,_0x48bccb<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x134e5f(0x706)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3f5302=![]){const _0x3d73b3=_0x6a7885;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x277f40=null,_0x3672f9=![];if(!_0x3f5302){const _0x32e0de=currentDisplayedQuiz[_0x3d73b3(0x665)][currentQuestionIndex],_0x42fed8=_0x32e0de['questionType']||currentDisplayedQuiz[_0x3d73b3(0xafb)];if(_0x42fed8===_0x3d73b3(0x247)||_0x42fed8===_0x3d73b3(0xdd9))_0x277f40=document[_0x3d73b3(0x390)](_0x3d73b3(0x32e))?.[_0x3d73b3(0x3c4)]['trim']()??'';else{if(_0x42fed8==='matching_item')_0x277f40=document[_0x3d73b3(0x390)](_0x3d73b3(0x4e8))?.['value']??'';else{const _0x3e3fe0=document[_0x3d73b3(0x390)](_0x3d73b3(0xd48));_0x3e3fe0&&(_0x277f40=_0x3e3fe0[_0x3d73b3(0x3c4)]);}}if(_0x277f40===null||_0x277f40===''){showMessage(_0x3d73b3(0x4fc)),startPerQuestionTimer();return;}const _0x59525f=currentDisplayedQuiz['settings']?.[_0x3d73b3(0x6a3)]===!![],_0x1f6153=currentDisplayedQuiz[_0x3d73b3(0x727)]?.[_0x3d73b3(0xc42)]||'checkbox';if(_0x59525f&&_0x1f6153===_0x3d73b3(0x7a1)){document[_0x3d73b3(0x52a)]('confidence-modal')[_0x3d73b3(0xba5)][_0x3d73b3(0x9f3)]=_0x3d73b3(0x329),document[_0x3d73b3(0x52a)](_0x3d73b3(0x649))['value']=_0x277f40,document[_0x3d73b3(0x52a)](_0x3d73b3(0x8a5))[_0x3d73b3(0x817)]['remove'](_0x3d73b3(0x68d));return;}const _0x9d1aaa=document[_0x3d73b3(0x52a)](_0x3d73b3(0x800));_0x9d1aaa&&(_0x3672f9=_0x9d1aaa[_0x3d73b3(0x9a3)]);}const _0x289be8={'answer':_0x277f40,'wasConfident':_0x3672f9};proceedToNextQuestion(_0x289be8);}async function finalizePerQuestionQuiz(){const _0x30ac65=_0x6a7885,_0x496024=currentDisplayedQuiz['questions'][_0x30ac65(0x359)](_0x310e41=>_0x310e41[_0x30ac65(0x8c1)]==='short_answer');_0x496024?showMessage(_0x30ac65(0x492)):showMessage(_0x30ac65(0x66d));const _0x5e141d=currentQuizData['id'],_0x58f395=doc(db,'artifacts/'+appId+_0x30ac65(0x5b0)+_0x5e141d+_0x30ac65(0x211),currentStudentName),_0x2d2b90=await getDoc(_0x58f395),_0x3abb6b=_0x2d2b90[_0x30ac65(0xd3f)]()?_0x2d2b90[_0x30ac65(0x36d)]():{},_0x463b7b=_0x3abb6b['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x463b7b);}function getResultsFilename(){const _0x15c46a=_0x6a7885,_0x349c6e=document[_0x15c46a(0x52a)](_0x15c46a(0x9ab))[_0x15c46a(0x675)][_0x15c46a(0xb64)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x15c46a(0x8f2)+(_0x349c6e||_0x15c46a(0xa3e));}function exportResultsAsImage(){const _0x591f09=_0x6a7885,_0x489859=document['getElementById'](_0x591f09(0x910));showMessage(_0x591f09(0xb77)),html2canvas(_0x489859)[_0x591f09(0x75f)](_0x15fe66=>{const _0x340d63=_0x591f09,_0x46c6ec=document[_0x340d63(0x2f1)]('a');_0x46c6ec['download']=getResultsFilename()+_0x340d63(0xbe6),_0x46c6ec['href']=_0x15fe66[_0x340d63(0xaeb)](_0x340d63(0x461)),_0x46c6ec[_0x340d63(0x564)](),messageModal[_0x340d63(0x817)][_0x340d63(0x642)](_0x340d63(0x68d));});}function exportResultsAsPDF(){const _0x53c5b5=_0x6a7885,{jsPDF:_0x2858ce}=window[_0x53c5b5(0x467)],_0x1b1920=new _0x2858ce();_0x1b1920['setFont']('helvetica',_0x53c5b5(0xcc6)),_0x1b1920[_0x53c5b5(0xdc0)]({'html':_0x53c5b5(0xca4)}),_0x1b1920[_0x53c5b5(0x844)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x1439ae=_0x6a7885,_0x51a432=_0x1439ae(0x786)+_0x1439ae(0x24b)+_0x1439ae(0x612)+_0x1439ae(0xcb7),_0xed2e03=_0x1439ae(0x597),_0x50a3d0=_0x51a432+document[_0x1439ae(0x52a)](_0x1439ae(0x910))[_0x1439ae(0xd3c)]+_0xed2e03,_0x49297e=_0x1439ae(0xbce)+encodeURIComponent(_0x50a3d0),_0x3052fb=document[_0x1439ae(0x2f1)]('a');document['body']['appendChild'](_0x3052fb),_0x3052fb[_0x1439ae(0xd3b)]=_0x49297e,_0x3052fb[_0x1439ae(0x69a)]=getResultsFilename()+_0x1439ae(0xa99),_0x3052fb[_0x1439ae(0x564)](),document['body']['removeChild'](_0x3052fb);}function exportResultsAsExcel(){const _0xf24ca=_0x6a7885,_0x162419=document[_0xf24ca(0x52a)](_0xf24ca(0x900));let _0x1b0eec=[];for(let _0x4fd8ba=0x0;_0x4fd8ba<_0x162419['rows'][_0xf24ca(0xbc8)];_0x4fd8ba++){let _0x9bfb8d=[],_0x3ca589=_0x162419['rows'][_0x4fd8ba][_0xf24ca(0x7b3)](_0xf24ca(0x38e));for(let _0x1aab9d=0x0;_0x1aab9d<_0x3ca589[_0xf24ca(0xbc8)];_0x1aab9d++){_0x9bfb8d[_0xf24ca(0x586)]('\x22'+_0x3ca589[_0x1aab9d][_0xf24ca(0x652)][_0xf24ca(0xb64)](/"/g,'\x22\x22')+'\x22');}_0x1b0eec['push'](_0x9bfb8d[_0xf24ca(0x35d)](','));}const _0x38147c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1b0eec[_0xf24ca(0x35d)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x4cb0ae=document['createElement']('a');_0x4cb0ae['href']=URL[_0xf24ca(0x570)](_0x38147c),_0x4cb0ae['download']=getResultsFilename()+_0xf24ca(0xc76),_0x4cb0ae[_0xf24ca(0x564)]();}function exportTableAsImage(_0x4b0456,_0x2c5de9){const _0x20f020=_0x6a7885,_0x44e8d2=document[_0x20f020(0x52a)](_0x4b0456);if(!_0x44e8d2){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x44e8d2)[_0x20f020(0x75f)](_0x1063a4=>{const _0x2ad2f9=_0x20f020,_0x5d6613=document[_0x2ad2f9(0x2f1)]('a');_0x5d6613['download']=_0x2c5de9+_0x2ad2f9(0xbe6),_0x5d6613['href']=_0x1063a4[_0x2ad2f9(0xaeb)]('image/png'),_0x5d6613[_0x2ad2f9(0x564)](),messageModal['classList'][_0x2ad2f9(0x642)](_0x2ad2f9(0x68d));});}function exportTableAsPDF(_0x2b30fb,_0x38bfba){const _0x549657=_0x6a7885,{jsPDF:_0x40f97c}=window['jspdf'],_0x145783=new _0x40f97c();_0x145783[_0x549657(0x380)]('helvetica',_0x549657(0xcc6)),_0x145783['autoTable']({'html':'#'+_0x2b30fb}),_0x145783[_0x549657(0x844)](_0x38bfba+_0x549657(0x4eb));}function exportTableAsWord(_0x4ba166,_0x1d9522){const _0x506913=_0x6a7885,_0x4889a8=document[_0x506913(0x52a)](_0x4ba166);if(!_0x4889a8){showMessage(_0x506913(0xd21));return;}const _0xd51ad5=_0x506913(0x786)+_0x506913(0x24b)+_0x506913(0x612)+_0x506913(0xcb7),_0x3db329=_0x506913(0x597),_0x4c5840=_0xd51ad5+_0x4889a8['innerHTML']+_0x3db329,_0x4cd172=_0x506913(0xbce)+encodeURIComponent(_0x4c5840),_0x4c6ff3=document[_0x506913(0x2f1)]('a');document['body'][_0x506913(0x7c1)](_0x4c6ff3),_0x4c6ff3['href']=_0x4cd172,_0x4c6ff3[_0x506913(0x69a)]=_0x1d9522+_0x506913(0xa99),_0x4c6ff3[_0x506913(0x564)](),document[_0x506913(0x1ed)][_0x506913(0xaa3)](_0x4c6ff3);}function exportTableAsExcel(_0x43b3c3,_0x48accf){const _0x492e7e=_0x6a7885,_0xbb19f1=document[_0x492e7e(0x52a)](_0x43b3c3);if(!_0xbb19f1){showMessage(_0x492e7e(0xd21));return;}let _0x4a3653=[];for(let _0x42fde0=0x0;_0x42fde0<_0xbb19f1['rows']['length'];_0x42fde0++){let _0x15c3cb=[],_0x42e896=_0xbb19f1[_0x492e7e(0x4f6)][_0x42fde0][_0x492e7e(0x7b3)](_0x492e7e(0x38e));for(let _0x204bd6=0x0;_0x204bd6<_0x42e896[_0x492e7e(0xbc8)];_0x204bd6++){_0x15c3cb['push']('\x22'+_0x42e896[_0x204bd6][_0x492e7e(0x652)][_0x492e7e(0xb64)](/"/g,'\x22\x22')+'\x22');}_0x4a3653[_0x492e7e(0x586)](_0x15c3cb[_0x492e7e(0x35d)](','));}const _0x32580d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4a3653[_0x492e7e(0x35d)]('\x0a')],{'type':_0x492e7e(0x710)}),_0xb3f09c=document[_0x492e7e(0x2f1)]('a');_0xb3f09c['href']=URL[_0x492e7e(0x570)](_0x32580d),_0xb3f09c['download']=_0x48accf+_0x492e7e(0xc76),_0xb3f09c[_0x492e7e(0x564)]();}function renderAnalytics(_0x49afaa,_0x187e1c){const _0x1f6fd4=_0x6a7885,_0x508749=_0x187e1c[_0x1f6fd4(0xcae)](_0xa1a687=>_0xa1a687[_0x1f6fd4(0x234)]!==undefined),_0x394992=currentProjectData[_0x1f6fd4(0x498)][_0x1f6fd4(0xbc8)],_0x456f96=_0x508749[_0x1f6fd4(0xbc8)],_0x4975d6=_0x394992-_0x456f96,_0x490199=_0x394992>0x0?_0x456f96/_0x394992*0x64:0x0,_0x131026=_0x508749[_0x1f6fd4(0x8cc)](_0x5d7148=>_0x5d7148[_0x1f6fd4(0x234)]),_0x313151=_0x131026[_0x1f6fd4(0xbc8)]>0x0?_0x131026[_0x1f6fd4(0xb90)]((_0xb3432a,_0x1d0f57)=>_0xb3432a+_0x1d0f57,0x0)/_0x131026[_0x1f6fd4(0xbc8)]:0x0,_0x16d21a=_0x49afaa[_0x1f6fd4(0x665)]['length'],_0x4192a6=_0x16d21a>0x0?_0x313151/_0x16d21a*0x64:0x0,_0x42e842=calculateItemAnalysis(_0x49afaa,_0x508749),_0x2d9c26=calculateReliabilityKR20(_0x49afaa,_0x508749,_0x42e842['perQuestionStats']);let _0x571b59='';if(_0x2d9c26!==null){let _0x1fcad7='';if(_0x2d9c26>=0.9)_0x1fcad7=_0x1f6fd4(0xa67);else{if(_0x2d9c26>=0.8)_0x1fcad7=_0x1f6fd4(0x2d1);else{if(_0x2d9c26>=0.7)_0x1fcad7='ดี';else{if(_0x2d9c26>=0.6)_0x1fcad7=_0x1f6fd4(0xae9);else _0x1fcad7=_0x1f6fd4(0xc3a);}}}_0x571b59=_0x1f6fd4(0x3e4)+_0x2d9c26['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x1fcad7+_0x1f6fd4(0x71b);}const _0x5025bc=document[_0x1f6fd4(0x52a)](_0x1f6fd4(0x72c));_0x5025bc[_0x1f6fd4(0xd3c)]=_0x1f6fd4(0x28d)+_0x490199[_0x1f6fd4(0x39f)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x456f96+'/'+_0x394992+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x313151['toFixed'](0x2)+_0x1f6fd4(0x356)+_0x4192a6[_0x1f6fd4(0x39f)](0x0)+_0x1f6fd4(0x4f1)+(_0x131026[_0x1f6fd4(0xbc8)]>0x0?Math[_0x1f6fd4(0xbf8)](..._0x131026):_0x1f6fd4(0x6e4))+_0x1f6fd4(0x283)+(_0x131026['length']>0x0?Math[_0x1f6fd4(0x2fa)](..._0x131026):_0x1f6fd4(0x6e4))+_0x1f6fd4(0x942)+_0x571b59+'\x0a\x20\x20\x20\x20';const _0x3aeb41=document[_0x1f6fd4(0x52a)]('interesting-stats-wrapper');_0x3aeb41&&_0x3aeb41[_0x1f6fd4(0xb2b)]();const _0x2f54ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5025bc[_0x1f6fd4(0x6d8)]('afterend',_0x2f54ac);const _0x146d83=currentProjectData[_0x1f6fd4(0x498)]||[];renderSubmissionChart(_0x456f96,_0x4975d6,_0x508749,_0x146d83),renderScoreDistributionChart(_0x508749,_0x16d21a),renderQuestionAnalytics(_0x49afaa,_0x508749,_0x146d83),renderInterestingStats(_0x49afaa,_0x508749);}async function handleExportLessonPDF(){const _0x3f9f97=_0x6a7885,_0x277e89=document[_0x3f9f97(0x52a)]('lesson-plan-content'),_0x4a7227=document[_0x3f9f97(0x52a)](_0x3f9f97(0x9a4))['textContent'],_0x200333=window[_0x3f9f97(0x27f)]('',_0x3f9f97(0x307)),_0x457f95='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x4a7227+_0x3f9f97(0xc05)+_0x277e89[_0x3f9f97(0xd3c)]+_0x3f9f97(0x764);_0x200333['document'][_0x3f9f97(0x96d)](_0x457f95),_0x200333[_0x3f9f97(0xdc2)][_0x3f9f97(0xd35)](),_0x200333[_0x3f9f97(0xb87)]=function(){setTimeout(()=>{_0x200333['print']();},0x5dc);};}function renderInterestingStats(_0x2afa66,_0xd5fedc){const _0x16dc75=_0x6a7885,_0x43c54a=document['getElementById'](_0x16dc75(0x208));if(!_0x43c54a)return;if(_0xd5fedc[_0x16dc75(0xbc8)]===0x0){_0x43c54a[_0x16dc75(0xd3c)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x5851be=_0x2afa66[_0x16dc75(0x665)][_0x16dc75(0x8cc)]((_0x3d193d,_0x36712e)=>({'index':_0x36712e+0x1,'text':_0x3d193d[_0x16dc75(0xc82)]||_0x3d193d[_0x16dc75(0xdbf)],'correct':0x0}));_0xd5fedc[_0x16dc75(0x79a)](_0x393f4a=>{const _0x2a8a20=_0x16dc75,_0x4817d1=_0x393f4a['attempts'][_0x393f4a['attempts'][_0x2a8a20(0xbc8)]-0x1];_0x4817d1&&_0x4817d1['answers']&&_0x4817d1[_0x2a8a20(0xa6c)][_0x2a8a20(0x79a)](_0x22301c=>{const _0x363afc=_0x2a8a20,_0x50ff4c=_0x5851be[_0x363afc(0x8c7)](_0x3d584b=>_0x3d584b[_0x363afc(0xc1c)]===_0x22301c['originalQuestionText']);_0x22301c[_0x363afc(0x7d3)]&&_0x50ff4c&&_0x50ff4c[_0x363afc(0x78a)]++;});});const _0x1e7538=_0xd5fedc[_0x16dc75(0xbc8)],_0x12421c=Math['max'](..._0x5851be[_0x16dc75(0x8cc)](_0x1fdec9=>_0x1fdec9[_0x16dc75(0x78a)])),_0x4d1bd7=Math[_0x16dc75(0x2fa)](..._0x5851be['map'](_0x5ed5a3=>_0x5ed5a3[_0x16dc75(0x78a)])),_0x1a7ed1=_0x5851be[_0x16dc75(0xcae)](_0x3de99f=>_0x3de99f[_0x16dc75(0x78a)]===_0x12421c)[_0x16dc75(0x8cc)](_0x5ad542=>_0x16dc75(0x883)+_0x5ad542[_0x16dc75(0x7d4)]),_0x952894=_0x5851be[_0x16dc75(0xcae)](_0x2e50b1=>_0x2e50b1[_0x16dc75(0x78a)]===_0x4d1bd7)[_0x16dc75(0x8cc)](_0x9b089a=>_0x16dc75(0x883)+_0x9b089a[_0x16dc75(0x7d4)]),_0x304733=_0xd5fedc['sort']((_0x3dabe1,_0x1de2d2)=>_0x1de2d2[_0x16dc75(0x234)]-_0x3dabe1[_0x16dc75(0x234)])['filter']((_0x4276f2,_0x3b449a,_0x311568)=>_0x4276f2[_0x16dc75(0x234)]===_0x311568[0x0][_0x16dc75(0x234)]),_0x1b8c4b=_0xd5fedc[_0x16dc75(0xd66)]((_0x121048,_0x3e0cf5)=>_0x121048[_0x16dc75(0x234)]-_0x3e0cf5[_0x16dc75(0x234)])[_0x16dc75(0xcae)]((_0x290095,_0x34d293,_0x37dc59)=>_0x290095[_0x16dc75(0x234)]===_0x37dc59[0x0][_0x16dc75(0x234)]),_0x232265=_0x16dc75(0x6c0)+_0x1a7ed1['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x12421c+_0x16dc75(0x938)+_0x1e7538+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x952894['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x1e7538-_0x4d1bd7)+_0x16dc75(0x938)+_0x1e7538+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x304733['map'](_0x42a223=>_0x42a223[_0x16dc75(0x7a5)])[_0x16dc75(0x35d)](',\x20')+_0x16dc75(0x9f2)+_0x304733[0x0][_0x16dc75(0x234)]+_0x16dc75(0x6fc)+_0x1b8c4b[_0x16dc75(0x8cc)](_0x485600=>_0x485600[_0x16dc75(0x7a5)])[_0x16dc75(0x35d)](',\x20')+_0x16dc75(0x9f2)+_0x1b8c4b[0x0]['latestScore']+_0x16dc75(0xca1);_0x43c54a[_0x16dc75(0xd3c)]=_0x232265;}function renderSubmissionChart(_0x9b3d82,_0x4b6e05,_0x45b7d1,_0x5c990f){const _0x37df01=_0x6a7885,_0x37a32a=document[_0x37df01(0x52a)](_0x37df01(0xa00))['getContext']('2d'),_0x25dab5=_0x45b7d1[_0x37df01(0x8cc)](_0x8ab0d2=>_0x8ab0d2[_0x37df01(0x7a5)]),_0x1d3221=_0x5c990f['filter'](_0x375be5=>!_0x25dab5[_0x37df01(0x317)](_0x375be5));chartInstances[_0x37df01(0x846)]&&chartInstances[_0x37df01(0x846)][_0x37df01(0x735)](),chartInstances[_0x37df01(0x846)]=new Chart(_0x37a32a,{'type':'doughnut','data':{'labels':[_0x37df01(0xbd4),_0x37df01(0xb4d)],'datasets':[{'data':[_0x9b3d82,_0x4b6e05],'backgroundColor':[_0x37df01(0xcd3),_0x37df01(0x365)],'borderColor':[_0x37df01(0x7b4),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x37df01(0xc38)},'tooltip':{'callbacks':{'label':function(_0x51f178){const _0x2d1819=_0x37df01;let _0xef1914=_0x51f178[_0x2d1819(0x6ca)]||'';return _0xef1914&&(_0xef1914+=':\x20'),_0xef1914+=_0x51f178['raw'],_0xef1914;},'afterLabel':function(_0x45b7cb){const _0x11b180=_0x37df01;let _0x62cca1;return _0x45b7cb['dataIndex']===0x0?_0x62cca1=_0x25dab5:_0x62cca1=_0x1d3221,_0x62cca1[_0x11b180(0xbc8)]>0x0?_0x62cca1['join']('\x0a'):_0x11b180(0xc21);}}}}}});}function renderScoreDistributionChart(_0x3cfb3e,_0x1dfddf){const _0x48c5df=_0x6a7885,_0x37ec2e=document['getElementById'](_0x48c5df(0x458))[_0x48c5df(0xaf3)]('2d'),_0x7e24ca={};for(let _0x4ea17a=0x0;_0x4ea17a<=_0x1dfddf;_0x4ea17a++){_0x7e24ca[_0x4ea17a]=0x0;}_0x3cfb3e['forEach'](_0x2372ab=>{const _0x163ca8=_0x48c5df;_0x7e24ca[_0x2372ab['latestScore']]!==undefined&&_0x7e24ca[_0x2372ab[_0x163ca8(0x234)]]++;}),chartInstances['score']&&chartInstances[_0x48c5df(0xb95)]['destroy'](),chartInstances['score']=new Chart(_0x37ec2e,{'type':_0x48c5df(0x2be),'data':{'labels':Object[_0x48c5df(0x879)](_0x7e24ca),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x48c5df(0xbd1)](_0x7e24ca),'backgroundColor':_0x48c5df(0x96c),'borderColor':_0x48c5df(0xb6d),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x48c5df(0xb0c)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x18c4e3){const _0x5f4bf2=_0x48c5df,_0x8a7bf0=_0x18c4e3['label'],_0x3a3cd3=_0x3cfb3e[_0x5f4bf2(0xcae)](_0x486e8b=>_0x486e8b[_0x5f4bf2(0x234)]==_0x8a7bf0)[_0x5f4bf2(0x8cc)](_0x2f4993=>_0x2f4993[_0x5f4bf2(0x7a5)]);return _0x3a3cd3[_0x5f4bf2(0xbc8)]>0x0?_0x3a3cd3[_0x5f4bf2(0x35d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5f2df5,_0x45f04a,_0x5162a4){const _0x99ad0f=_0x6a7885,_0x24b7d7=document['getElementById'](_0x99ad0f(0x733));if(_0x5162a4['length']===0x0){_0x24b7d7[_0x99ad0f(0xd3c)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x532c94=calculateItemAnalysis(_0x5f2df5,_0x45f04a),_0x1b105d=calculateDistractorAnalysis(_0x5f2df5,_0x45f04a);let _0x14a797='';_0x532c94[_0x99ad0f(0xcdb)]&&(_0x14a797=_0x99ad0f(0xaa9)+_0x532c94[_0x99ad0f(0xcdb)][_0x99ad0f(0xcb6)][_0x99ad0f(0xbc8)]+_0x99ad0f(0x64b)+_0x532c94[_0x99ad0f(0xcdb)][_0x99ad0f(0xcb6)][_0x99ad0f(0x8cc)](_0x1f3b0b=>_0x99ad0f(0xafa)+_0x1f3b0b+_0x99ad0f(0x8d5))[_0x99ad0f(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x532c94['overallGroups'][_0x99ad0f(0x59c)][_0x99ad0f(0xbc8)]+_0x99ad0f(0x64b)+_0x532c94[_0x99ad0f(0xcdb)][_0x99ad0f(0x59c)]['map'](_0x225ce6=>_0x99ad0f(0xafa)+_0x225ce6+'</li>')[_0x99ad0f(0x35d)]('')+_0x99ad0f(0x6cc));let _0x5dea47='';const _0x242352=_0x45f04a[_0x99ad0f(0x8cc)](_0x32a500=>_0x32a500[_0x99ad0f(0x7a5)]),_0xf6a619=_0x55ad43=>{const _0x36256a=_0x99ad0f;if(_0x55ad43>=0.8)return _0x36256a(0x314);if(_0x55ad43>=0.6)return _0x36256a(0x980);if(_0x55ad43>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x55ad43>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x36256a(0xac4);},_0x4524b6=_0x89dc2e=>{const _0x354206=_0x99ad0f;if(_0x89dc2e<0x0)return _0x354206(0x776);if(_0x89dc2e>=0.4)return _0x354206(0xc25);if(_0x89dc2e>=0.3)return _0x354206(0x337);if(_0x89dc2e>=0.2)return _0x354206(0x388);return _0x354206(0x308);},_0x5a0f75=_0x39772c=>{const _0x575592=_0x99ad0f,_0x4375e0=_0x39772c[_0x575592(0x39f)](0x0);if(parseFloat(_0x4375e0)===0x64)return _0x575592(0xa1e)+_0x4375e0+_0x575592(0x3d9);if(_0x39772c>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x4375e0+_0x575592(0x3d9);return _0x575592(0x401)+_0x4375e0+'%</span>';};_0x5f2df5[_0x99ad0f(0x665)][_0x99ad0f(0x79a)]((_0xacfd55,_0x2a5e64)=>{const _0x4a951d=_0x99ad0f,_0x2bff3b=_0x532c94[_0x4a951d(0x8dc)][_0x2a5e64],_0x4164dc=_0x1b105d[_0x2a5e64],_0x4cdcfa=_0xacfd55[_0x4a951d(0xdbf)]||_0xacfd55[_0x4a951d(0xc82)]||_0xacfd55['instructions'];let _0xaa40a=0x0;const _0x4716bd=[],_0x1fc37b=[];_0x45f04a[_0x4a951d(0x79a)](_0x1a0d5d=>{const _0x56e090=_0x4a951d,_0x5b33de=_0x1a0d5d[_0x56e090(0xca0)][_0x1a0d5d[_0x56e090(0xca0)][_0x56e090(0xbc8)]-0x1];if(_0x5b33de&&_0x5b33de[_0x56e090(0xa6c)]){const _0x5d5ecc=_0x5b33de[_0x56e090(0xa6c)][_0x56e090(0x8c7)](_0x5a7470=>_0x5a7470[_0x56e090(0x815)]===_0x4cdcfa)??_0x5b33de[_0x56e090(0xa6c)][_0x2a5e64]??null;_0x5d5ecc&&(_0x5d5ecc[_0x56e090(0x7d3)]?(_0xaa40a++,_0x4716bd[_0x56e090(0x586)](_0x1a0d5d[_0x56e090(0x7a5)])):_0x1fc37b[_0x56e090(0x586)](_0x1a0d5d[_0x56e090(0x7a5)]));}});const _0x4ae13b=_0x45f04a[_0x4a951d(0xbc8)]>0x0?_0xaa40a/_0x45f04a[_0x4a951d(0xbc8)]*0x64:0x0,_0x522e5c=_0x5162a4[_0x4a951d(0xcae)](_0x5a8028=>!_0x242352[_0x4a951d(0x317)](_0x5a8028)),_0x2d6b4e=_0x2bff3b?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x2bff3b['p'][_0x4a951d(0x39f)](0x2)+'</p><div>'+_0xf6a619(_0x2bff3b['p'])+_0x4a951d(0xab0)+_0x2bff3b['r'][_0x4a951d(0x39f)](0x2)+_0x4a951d(0x87d)+_0x4524b6(_0x2bff3b['r'])+_0x4a951d(0xde1)+_0x5a0f75(_0x4ae13b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x2fbb61='';_0x4164dc&&(_0x2fbb61=_0x4a951d(0xba8)+Object[_0x4a951d(0x879)](_0x4164dc)[_0x4a951d(0x8cc)](_0x3a6550=>{const _0x53f6ca=_0x4a951d,_0x55eea5=_0x4164dc[_0x3a6550],_0xef5f74=parseInt(_0x3a6550)===_0xacfd55['correctAnswerIndex'],_0x4f8f3b=!_0xef5f74&&_0x55eea5[_0x53f6ca(0xd56)]>_0x55eea5[_0x53f6ca(0x25d)];return _0x53f6ca(0x47c)+(_0xef5f74?_0x53f6ca(0xc84):'')+_0x53f6ca(0x3cc)+(_0xef5f74?'✔\x20':'')+_0x55eea5[_0x53f6ca(0xc1c)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x55eea5['upper_group_count']+_0x53f6ca(0xc81)+_0x55eea5[_0x53f6ca(0xd56)]+'\x20'+(_0x4f8f3b?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x55eea5[_0x53f6ca(0x224)]+_0x53f6ca(0xd4b);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x1769b5='';_0x2bff3b&&_0x2bff3b[_0x4a951d(0x504)]&&(_0x1769b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2bff3b['upperGroupResponders'][_0x4a951d(0xbc8)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x2bff3b[_0x4a951d(0x504)]['map'](_0x33d35f=>_0x4a951d(0xafa)+(_0x33d35f['isCorrect']?_0x4a951d(0xd7e):_0x4a951d(0xd7c))+'\x20'+_0x33d35f[_0x4a951d(0xae4)]+'</li>')['join']('')+_0x4a951d(0xc8c)+_0x2bff3b[_0x4a951d(0x1d2)][_0x4a951d(0xbc8)]+_0x4a951d(0xbd7)+_0x2bff3b[_0x4a951d(0x1d2)][_0x4a951d(0x8cc)](_0x4142bb=>_0x4a951d(0xafa)+(_0x4142bb[_0x4a951d(0x7d3)]?_0x4a951d(0xd7e):_0x4a951d(0xd7c))+'\x20'+_0x4142bb[_0x4a951d(0xae4)]+_0x4a951d(0x8d5))['join']('')+_0x4a951d(0x94e)),_0x5dea47+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x2a5e64+0x1)+':\x20'+_0x4cdcfa+_0x4a951d(0x9cc)+_0x2d6b4e+_0x4a951d(0x223)+_0x4cdcfa+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0xaa40a+_0x4a951d(0xdc7)+_0x45f04a['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x4ae13b[_0x4a951d(0x39f)](0x0)+_0x4a951d(0x3d0)+_0x4716bd[_0x4a951d(0xbc8)]+_0x4a951d(0xac5)+(_0x4716bd[_0x4a951d(0xbc8)]>0x0?_0x4716bd[_0x4a951d(0x35d)](',\x20'):_0x4a951d(0xc21))+_0x4a951d(0x861)+_0x1fc37b[_0x4a951d(0xbc8)]+_0x4a951d(0xac5)+(_0x1fc37b[_0x4a951d(0xbc8)]>0x0?_0x1fc37b[_0x4a951d(0x35d)](',\x20'):_0x4a951d(0xc21))+_0x4a951d(0x77d)+_0x522e5c[_0x4a951d(0xbc8)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x522e5c[_0x4a951d(0xbc8)]>0x0?_0x522e5c['join'](',\x20'):_0x4a951d(0xc21))+_0x4a951d(0xc91)+_0x2fbb61+_0x4a951d(0x9f7)+_0x1769b5+_0x4a951d(0x2b9);}),_0x24b7d7[_0x99ad0f(0xd3c)]=_0x14a797+_0x5dea47;try{window['MathJax']&&MathJax[_0x99ad0f(0x787)]&&MathJax['typesetPromise']([_0x24b7d7]);}catch(_0x1d8389){console[_0x99ad0f(0xc4f)](_0x99ad0f(0x622),_0x1d8389);}}function calculateDistractorAnalysis(_0x966e03,_0x1019cf){const _0x27783e=_0x6a7885,_0x3514ee={};if(_0x1019cf[_0x27783e(0xbc8)]<0x2)return _0x3514ee;const _0x2731bd=[..._0x1019cf][_0x27783e(0xd66)]((_0x3c35b3,_0x380522)=>{const _0x5d5bd8=_0x27783e,_0x27aa27=_0x380522['latestScore']-_0x3c35b3['latestScore'];if(_0x27aa27!==0x0)return _0x27aa27;const _0x34eda4=_0x3c35b3[_0x5d5bd8(0xca0)]?.[_0x5d5bd8(0xbc8)]||0x1,_0x1110cc=_0x380522[_0x5d5bd8(0xca0)]?.[_0x5d5bd8(0xbc8)]||0x1,_0x1850e3=_0x34eda4-_0x1110cc;if(_0x1850e3!==0x0)return _0x1850e3;const _0x24914c=new Date(_0x3c35b3[_0x5d5bd8(0x83a)]),_0x4308ad=new Date(_0x380522[_0x5d5bd8(0x83a)]),_0x342655=_0x24914c-_0x4308ad;if(_0x342655!==0x0)return _0x342655;return _0x3c35b3[_0x5d5bd8(0x7a5)][_0x5d5bd8(0x45b)](_0x380522[_0x5d5bd8(0x7a5)],'th');}),_0x190f5f=_0x2731bd[_0x27783e(0xbc8)],_0x11a042=Math[_0x27783e(0xbf8)](0x1,Math['floor'](_0x190f5f*0.33)),_0x39229d=_0x2731bd[_0x27783e(0x98c)](0x0,_0x11a042),_0x1183ab=_0x2731bd['slice'](-_0x11a042);return _0x966e03['questions']['forEach']((_0x15ce26,_0x3450fe)=>{const _0x2ff23e=_0x27783e;if(_0x15ce26[_0x2ff23e(0x8c1)]!==_0x2ff23e(0xa3b)||!_0x15ce26[_0x2ff23e(0xd99)])return;const _0x1aefb9=_0x15ce26[_0x2ff23e(0xc82)],_0x3bb77a={};_0x15ce26[_0x2ff23e(0xd99)]['forEach']((_0x360d5a,_0x35d9dd)=>{_0x3bb77a[_0x35d9dd]={'text':_0x360d5a,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2731bd[_0x2ff23e(0x79a)](_0xb00b9e=>{const _0x13432f=_0x2ff23e,_0x472354=_0xb00b9e['attempts'][_0xb00b9e[_0x13432f(0xca0)][_0x13432f(0xbc8)]-0x1],_0x4d0b71=_0x472354[_0x13432f(0xa6c)][_0x13432f(0x8c7)](_0x4fbf6a=>_0x4fbf6a[_0x13432f(0x815)]===_0x1aefb9);if(_0x4d0b71&&_0x4d0b71['answer']!==null){const _0x12a5cd=_0x15ce26['options'][_0x13432f(0x75c)](_0x5df1d6=>_0x5df1d6===_0x4d0b71[_0x13432f(0x4e7)]);_0x12a5cd!==-0x1&&_0x3bb77a[_0x12a5cd]&&(_0x3bb77a[_0x12a5cd]['total']++,_0x39229d[_0x13432f(0x317)](_0xb00b9e)&&_0x3bb77a[_0x12a5cd][_0x13432f(0x25d)]++,_0x1183ab[_0x13432f(0x317)](_0xb00b9e)&&_0x3bb77a[_0x12a5cd][_0x13432f(0xd56)]++);}}),_0x3514ee[_0x3450fe]=_0x3bb77a;}),_0x3514ee;}function calculateReliabilityKR20(_0x4d0e43,_0x11c972,_0xb8273d){const _0x276ef8=_0x6a7885,_0x3e1de3=_0x4d0e43[_0x276ef8(0x665)][_0x276ef8(0xbc8)];if(_0x3e1de3<0x2||_0x11c972[_0x276ef8(0xbc8)]<0x2)return null;const _0x4ff38d=_0x11c972[_0x276ef8(0x8cc)](_0x10089c=>_0x10089c[_0x276ef8(0x234)]),_0x7c8a8=_0x4ff38d['reduce']((_0x23eb21,_0x4429ca)=>_0x23eb21+_0x4429ca,0x0)/_0x4ff38d[_0x276ef8(0xbc8)],_0x4bc037=_0x4ff38d[_0x276ef8(0x8cc)](_0x7d3e13=>Math['pow'](_0x7d3e13-_0x7c8a8,0x2))[_0x276ef8(0xb90)]((_0x5a9622,_0x14a7d5)=>_0x5a9622+_0x14a7d5,0x0)/_0x4ff38d[_0x276ef8(0xbc8)];if(_0x4bc037===0x0)return null;let _0x2ee71a=0x0;for(let _0x22705b=0x0;_0x22705b<_0x3e1de3;_0x22705b++){const _0x4536ea=_0xb8273d[_0x22705b]?.['p'];if(_0x4536ea===undefined)continue;const _0x4f89aa=0x1-_0x4536ea;_0x2ee71a+=_0x4536ea*_0x4f89aa;}if(_0x2ee71a===0x0)return null;const _0x4747fb=_0x3e1de3/(_0x3e1de3-0x1)*(0x1-_0x2ee71a/_0x4bc037);if(_0x4747fb>0x1)return null;return _0x4747fb;}async function handleAnalyzeClass(){const _0x3aa545=_0x6a7885;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3aa545(0xa37));return;}const _0x3524d6=collection(db,_0x3aa545(0x3c5)+appId+_0x3aa545(0x5b0)+currentQuizData['id']+'/submissions'),_0x58afe8=await getDocs(_0x3524d6),_0x57ea27=_0x58afe8[_0x3aa545(0x3f3)]['map'](_0x2afbaf=>_0x2afbaf[_0x3aa545(0x36d)]());if(_0x57ea27[_0x3aa545(0xbc8)]<0x2){showMessage(_0x3aa545(0x217));return;}const _0x58c0d6=document['getElementById']('strength-weakness-analysis-container');_0x58c0d6[_0x3aa545(0xd3c)]=_0x3aa545(0x943),document[_0x3aa545(0x52a)](_0x3aa545(0xa9f))[_0x3aa545(0x459)]=!![];const _0x334fba=_0x57ea27[_0x3aa545(0x8cc)]((_0x4ce612,_0x1c9451)=>{const _0x455594=_0x3aa545,_0x41f195=_0x4ce612[_0x455594(0xca0)][_0x4ce612['attempts'][_0x455594(0xbc8)]-0x1];if(!_0x41f195)return'';return _0x455594(0x2f7)+(_0x1c9451+0x1)+'\x20('+_0x4ce612[_0x455594(0x7a5)]+_0x455594(0x54f)+_0x41f195[_0x455594(0xb95)]+'/'+_0x4ce612[_0x455594(0x524)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x455594(0x20d)](_0x41f195[_0x455594(0xa6c)])+_0x455594(0x6e3);})[_0x3aa545(0x35d)](_0x3aa545(0x9df)),_0x511ebd=_0x3aa545(0x821)+currentQuizData[_0x3aa545(0x801)]+_0x3aa545(0xd96)+JSON['stringify'](currentQuizData[_0x3aa545(0x665)])+_0x3aa545(0xad6)+_0x334fba+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x5018d4={'type':_0x3aa545(0x342),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x3aa545(0xd50)}},'classWeaknesses':{'type':_0x3aa545(0x3ad),'items':{'type':_0x3aa545(0xd50)}},'teacherSuggestions':{'type':_0x3aa545(0x3ad),'items':{'type':_0x3aa545(0xd50)}}},'required':[_0x3aa545(0x7e1),'classWeaknesses','teacherSuggestions']};try{const _0x52d4cc=await callAnalysisApi(_0x511ebd,_0x5018d4);displayClassAnalysis(_0x52d4cc);}catch(_0x470fc0){console['error'](_0x3aa545(0x51e),_0x470fc0),_0x58c0d6['innerHTML']=_0x3aa545(0xc2c)+_0x470fc0[_0x3aa545(0xacb)]+_0x3aa545(0x92c);}finally{document[_0x3aa545(0x52a)]('analyze-strengths-btn')[_0x3aa545(0x459)]=![];}}function displayClassAnalysis(_0x408226){const _0x2f3152=_0x6a7885,_0x55b3ca=document[_0x2f3152(0x52a)]('strength-weakness-analysis-container');if(!_0x408226){_0x55b3ca[_0x2f3152(0xd3c)]=_0x2f3152(0x4a1);return;}_0x55b3ca[_0x2f3152(0xd3c)]=_0x2f3152(0x809)+_0x408226[_0x2f3152(0x7e1)]['map'](_0xb1bb9f=>_0x2f3152(0xafa)+_0xb1bb9f+_0x2f3152(0x8d5))[_0x2f3152(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x408226[_0x2f3152(0x743)]['map'](_0x116db1=>_0x2f3152(0xafa)+_0x116db1+_0x2f3152(0x8d5))[_0x2f3152(0x35d)]('')+_0x2f3152(0xd79)+_0x408226[_0x2f3152(0x97d)][_0x2f3152(0x8cc)](_0x2443ad=>_0x2f3152(0xafa)+_0x2443ad+'</li>')[_0x2f3152(0x35d)]('')+_0x2f3152(0x6ec);}function formatAndPrintWorksheet(_0x1e8f71,_0x432372){const _0x3d6042=_0x6a7885,_0xbe4b0a=_0x3d6042(0xc93)+_0x1e8f71[_0x3d6042(0x801)]+_0x3d6042(0xa65)+_0x1e8f71[_0x3d6042(0x801)]+_0x3d6042(0x32c)+_0x1e8f71[_0x3d6042(0x665)]['map']((_0x507212,_0xbe9ecc)=>_0x3d6042(0xb10)+(_0xbe9ecc+0x1)+'.\x20'+_0x507212['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x507212[_0x3d6042(0x929)]?_0x3d6042(0x72f)+_0x507212['imageCode']+_0x3d6042(0x5b3):'')+_0x3d6042(0xca6))[_0x3d6042(0x35d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x432372[_0x3d6042(0xdc2)][_0x3d6042(0x96d)](_0xbe4b0a),_0x432372[_0x3d6042(0xdc2)][_0x3d6042(0xd35)](),_0x432372[_0x3d6042(0xb87)]=function(){setTimeout(()=>{_0x432372['print']();},0x3e8);};}async function generateWorksheet(){const _0x4ae9b6=_0x6a7885,_0xaa0d7b=document[_0x4ae9b6(0x52a)](_0x4ae9b6(0x923))[_0x4ae9b6(0x3c4)][_0x4ae9b6(0x797)]();if(!_0xaa0d7b){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0xd4b77e=document[_0x4ae9b6(0x52a)](_0x4ae9b6(0xbeb))['checked'],_0x1916ad=_0xd4b77e?'':_0x4ae9b6(0x60d),_0x59e833=window[_0x4ae9b6(0x27f)]('',_0x4ae9b6(0x307));_0x59e833[_0x4ae9b6(0xdc2)][_0x4ae9b6(0x96d)](_0x4ae9b6(0x687));const _0x193e26=parseInt(document[_0x4ae9b6(0x52a)](_0x4ae9b6(0xb20))[_0x4ae9b6(0x3c4)]),_0x234792=document['getElementById']('include-images-checkbox')[_0x4ae9b6(0x9a3)],_0x835488=_0x234792?_0x4ae9b6(0xc4c):'',_0x13783e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x1916ad+_0x4ae9b6(0xb89)+_0x193e26+_0x4ae9b6(0x507)+_0xaa0d7b+_0x4ae9b6(0x5b2)+_0x835488+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x577dae={'type':_0x4ae9b6(0x342),'properties':{'topic':{'type':_0x4ae9b6(0xd50)},'questions':{'type':_0x4ae9b6(0x3ad),'items':{'type':_0x4ae9b6(0x342),'properties':{'questionText':{'type':_0x4ae9b6(0xd50)},'imageCode':{'type':_0x4ae9b6(0xd50)}},'required':[_0x4ae9b6(0xc82)]}}},'required':[_0x4ae9b6(0x801),'questions']};document[_0x4ae9b6(0x52a)](_0x4ae9b6(0x862))[_0x4ae9b6(0x675)]='',document[_0x4ae9b6(0x52a)]('loader')[_0x4ae9b6(0x817)]['remove'](_0x4ae9b6(0x68d)),document[_0x4ae9b6(0x52a)](_0x4ae9b6(0x4c2))[_0x4ae9b6(0x817)][_0x4ae9b6(0xb2b)]('hidden'),generateWorksheetBtn[_0x4ae9b6(0x459)]=!![];try{const _0x2a1db7=await callAnalysisApi(_0x13783e,_0x577dae);formatAndPrintWorksheet(_0x2a1db7,_0x59e833);}catch(_0x4e3b51){console[_0x4ae9b6(0xc4f)](_0x4ae9b6(0x807),_0x4e3b51);if(_0x59e833)_0x59e833[_0x4ae9b6(0xd35)]();showMessage(_0x4ae9b6(0x538));}finally{document[_0x4ae9b6(0x52a)](_0x4ae9b6(0x845))[_0x4ae9b6(0x817)][_0x4ae9b6(0x642)](_0x4ae9b6(0x68d)),document[_0x4ae9b6(0x52a)](_0x4ae9b6(0x4c2))[_0x4ae9b6(0x817)]['add']('hidden'),generateWorksheetBtn[_0x4ae9b6(0x459)]=![];}}async function callAnalysisApi(_0xf984c3,_0x15cf30){const _0x3ad583=_0x6a7885,_0x1a2428={'contents':[{'role':_0x3ad583(0x6a2),'parts':[{'text':_0xf984c3}]}],'generationConfig':{'responseMimeType':_0x3ad583(0x5f8),'responseSchema':_0x15cf30}},_0x25028e=_0x3ad583(0x5d9),_0x234103=_0x3ad583(0x3df)+_0x25028e,_0x560a90=await fetch(_0x234103,{'method':_0x3ad583(0x3a4),'headers':{'Content-Type':_0x3ad583(0x5f8)},'body':JSON['stringify'](_0x1a2428)});if(!_0x560a90['ok'])throw new Error(_0x3ad583(0x1f5)+_0x560a90[_0x3ad583(0xc96)]);const _0x542b47=await _0x560a90[_0x3ad583(0x77b)]();if(_0x542b47[_0x3ad583(0x49d)]?.[0x0]?.[_0x3ad583(0x63c)]?.[_0x3ad583(0xdb5)]?.[0x0])return JSON[_0x3ad583(0x975)](_0x542b47[_0x3ad583(0x49d)][0x0][_0x3ad583(0x63c)][_0x3ad583(0xdb5)][0x0][_0x3ad583(0xc1c)]);else{let _0x48c984=_0x3ad583(0x644);if(_0x542b47[_0x3ad583(0x6d4)]?.[_0x3ad583(0xb72)])_0x48c984=_0x3ad583(0x529)+_0x542b47['promptFeedback'][_0x3ad583(0xb72)]+'.';else _0x542b47[_0x3ad583(0x49d)]?.[0x0]?.[_0x3ad583(0x5f6)]&&_0x542b47[_0x3ad583(0x49d)][0x0][_0x3ad583(0x5f6)]!==_0x3ad583(0xb76)&&(_0x48c984=_0x3ad583(0x3e5)+_0x542b47['candidates'][0x0][_0x3ad583(0x5f6)]+'.');console[_0x3ad583(0xc4f)](_0x48c984,JSON[_0x3ad583(0x20d)](_0x542b47));throw new Error(_0x48c984);}}async function handleStartSyncMode(_0x20315e,_0x32522a=![],_0x35c5d4='classic'){const _0x87e5e8=_0x6a7885,_0x366e91=allQuizzes[_0x87e5e8(0x8c7)](_0x23c090=>_0x23c090['id']===_0x20315e)||allQuizzesGlobal[_0x87e5e8(0x8c7)](_0x7c9564=>_0x7c9564['id']===_0x20315e);if(!_0x366e91){showMessage(_0x87e5e8(0x232));return;}currentQuizData=getShuffledQuiz(_0x366e91);const _0x311355=Math[_0x87e5e8(0x754)](0x3e8+Math[_0x87e5e8(0x90b)]()*0x2328)[_0x87e5e8(0x443)](),_0x5208d4=doc(db,_0x87e5e8(0x3c5)+appId+_0x87e5e8(0x880),_0x366e91[_0x87e5e8(0x94a)]),_0xd7f1a3=await getDoc(_0x5208d4);if(!_0xd7f1a3[_0x87e5e8(0xd3f)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x3c1175=_0xd7f1a3[_0x87e5e8(0x36d)]()[_0x87e5e8(0x498)]||[],_0x59dd03={};if(_0x35c5d4===_0x87e5e8(0xa9c)){const _0x2108a2=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x87e5e8(0x90b)]());_0x3c1175[_0x87e5e8(0x79a)]((_0x21734f,_0x2bd73d)=>{const _0x1bba17=_0x87e5e8;_0x59dd03[_0x21734f]=_0x2108a2[_0x2bd73d]||_0x1bba17(0xcfa)+(_0x2bd73d+0x1);});}const _0x4ad486=document['getElementById'](_0x87e5e8(0x1dd))[_0x87e5e8(0x9a3)],_0x592f80=parseInt(document[_0x87e5e8(0x52a)](_0x87e5e8(0x5d2))[_0x87e5e8(0x3c4)],0xa);let _0x11acdd={'timerMode':'none','timerDuration':0x0};_0x4ad486&&(_0x11acdd[_0x87e5e8(0xd0e)]=_0x87e5e8(0x72b),_0x11acdd[_0x87e5e8(0x343)]=_0x592f80||0xf0);try{const _0x5b84c2=await addDoc(collection(db,_0x87e5e8(0x3c5)+appId+_0x87e5e8(0xb98)),{'quizId':_0x366e91['id'],'pin':_0x311355,'status':_0x87e5e8(0xbe1),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x32522a,'players':{},'gameVariant':_0x35c5d4,'reviewQuestionIndex':0x0,'playerNicknames':_0x59dd03,'isAnonymousRevealed':![],..._0x11acdd});currentLiveGameId=_0x5b84c2['id'],showView(_0x87e5e8(0x58c)),renderSyncLobbyView(_0x311355,_0x366e91[_0x87e5e8(0x801)]),listenForSyncGameUpdates();}catch(_0x5ada84){console['error'](_0x87e5e8(0x766),_0x5ada84),showMessage(_0x87e5e8(0x338));}}function calculateFinalPodiumScores(_0xfd7431){const _0x38aa8a=_0x6a7885;if(!_0xfd7431||!_0xfd7431['shuffledQuiz']||!_0xfd7431[_0x38aa8a(0xa6d)])return _0xfd7431[_0x38aa8a(0xa6d)]||{};const _0x1d7b82=_0xfd7431[_0x38aa8a(0x28a)][_0x38aa8a(0x665)]['length'],_0x2be7c6=JSON[_0x38aa8a(0x975)](JSON['stringify'](_0xfd7431['players']));return Object[_0x38aa8a(0xbd1)](_0x2be7c6)['forEach'](_0x4af32e=>{const _0x5a1098=_0x38aa8a,_0x15f872=_0x4af32e[_0x5a1098(0xb95)];let _0x53c058=_0x15f872,_0x57b450=0x0;_0xfd7431[_0x5a1098(0x6a3)]&&_0x4af32e[_0x5a1098(0xa6c)]&&_0x4af32e['answers'][_0x5a1098(0x79a)](_0x6a0ef1=>{const _0x19210b=_0x5a1098;if(_0x6a0ef1[_0x19210b(0x7d3)]&&(_0x6a0ef1['wasConfident']===!![]||_0x6a0ef1[_0x19210b(0x287)]===_0x19210b(0xcc3)))_0x57b450+=0x1;else!_0x6a0ef1['isCorrect']&&(_0x6a0ef1[_0x19210b(0x287)]===!![]||_0x6a0ef1[_0x19210b(0x287)]==='confident')&&(_0x57b450-=0x1);}),_0x53c058+=_0x57b450,_0x1d7b82>0x0&&_0x15f872===_0x1d7b82&&(_0x53c058+=0x1,_0x4af32e[_0x5a1098(0x837)]=!![]),_0x4af32e[_0x5a1098(0xb95)]=_0x53c058;}),_0x2be7c6;}function listenForSyncGameUpdates(){const _0x3bb245=_0x6a7885;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x414c35=doc(db,_0x3bb245(0x3c5)+appId+_0x3bb245(0xb98),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x414c35,_0x4091c0=>{const _0x6c19f3=_0x3bb245;if(!_0x4091c0[_0x6c19f3(0xd3f)]()){sessionStorage[_0x6c19f3(0xc64)](_0x6c19f3(0x4c4));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x6c19f3(0x85e)?showView(_0x6c19f3(0x298)):showView('student');return;}const _0x32bec1=_0x4091c0[_0x6c19f3(0x36d)]();currentMode===_0x6c19f3(0x85e)?updateAdminSyncView(_0x32bec1):updateStudentSyncView(_0x32bec1);});}function renderSyncLobbyView(_0x5efd3,_0x1fa0d6){const _0x42afab=_0x6a7885;liveGameView[_0x42afab(0xd3c)]=_0x42afab(0x2ae)+_0x1fa0d6+_0x42afab(0x530)+_0x5efd3+_0x42afab(0xa4c);const _0x1ebd70=document[_0x42afab(0x52a)](_0x42afab(0x748)),_0x28d467=document[_0x42afab(0x52a)](_0x42afab(0x625));_0x1ebd70[_0x42afab(0x6dd)](_0x42afab(0x843),()=>{const _0x3cbe75=_0x42afab;_0x28d467[_0x3cbe75(0x882)][_0x3cbe75(0x36c)]=_0x1ebd70['checked']?_0x3cbe75(0xc15):'none';}),document[_0x42afab(0x52a)](_0x42afab(0x523))[_0x42afab(0x6dd)](_0x42afab(0x564),async()=>{const _0x12d470=_0x42afab,_0xd9e5d2=doc(db,_0x12d470(0x3c5)+appId+_0x12d470(0xb98),currentLiveGameId),_0x5d6d7d=document[_0x12d470(0x52a)](_0x12d470(0x748))[_0x12d470(0x9a3)];await updateDoc(_0xd9e5d2,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5d6d7d});});}function updateAdminSyncView(_0x58e301){const _0x2556f1=_0x6a7885;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x58e301[_0x2556f1(0xc96)]){case _0x2556f1(0xbe1):renderSyncLobbyView(_0x58e301[_0x2556f1(0x527)],_0x58e301[_0x2556f1(0x28a)][_0x2556f1(0x801)]);const _0x5d11da=Object[_0x2556f1(0x7e6)](_0x58e301[_0x2556f1(0xa6d)]||{})['filter'](([_0x25c443,_0x492807])=>_0x492807['status']!==_0x2556f1(0x921));document[_0x2556f1(0x52a)](_0x2556f1(0xddd))[_0x2556f1(0x675)]=_0x5d11da[_0x2556f1(0xbc8)],document['getElementById']('player-list-lobby')[_0x2556f1(0xd3c)]=_0x5d11da[_0x2556f1(0x8cc)](([_0x5ef077,_0x35d974])=>_0x2556f1(0x660)+_0x5ef077+_0x2556f1(0x5ac)+_0x5ef077+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2556f1(0x35d)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x2556f1(0x52a)](_0x2556f1(0x523))['disabled']=_0x5d11da[_0x2556f1(0xbc8)]===0x0;break;case _0x2556f1(0xa64):const _0x5e2edc=Object[_0x2556f1(0xbd1)](_0x58e301['players']||{})[_0x2556f1(0xcae)](_0x3ece20=>_0x3ece20[_0x2556f1(0xc96)]!==_0x2556f1(0x921)),_0x593175=_0x5e2edc[_0x2556f1(0xcae)](_0x59e186=>_0x59e186['answered'])['length'],_0x1814e5=_0x593175===_0x5e2edc[_0x2556f1(0xbc8)]&&_0x5e2edc[_0x2556f1(0xbc8)]>0x0;if(_0x1814e5&&_0x58e301[_0x2556f1(0xc96)]===_0x2556f1(0xa64)){if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);const _0x2dd6ff=doc(db,_0x2556f1(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId),_0x3da5f3=_0x58e301[_0x2556f1(0x606)]||_0x2556f1(0xc16);_0x3da5f3===_0x2556f1(0xa9c)?updateDoc(_0x2dd6ff,{'status':'results'}):updateDoc(_0x2dd6ff,{'status':_0x2556f1(0xa94)});return;}if(document['getElementById'](_0x2556f1(0x5a4))===null)renderAdminSyncQuestionView(_0x58e301);else{const _0x5dd93=document['getElementById'](_0x2556f1(0x643));_0x5dd93&&(_0x5dd93[_0x2556f1(0x675)]=_0x593175+'/'+_0x5e2edc['length']);const _0x52d815=document['getElementById'](_0x2556f1(0x40f));_0x52d815&&(_0x52d815[_0x2556f1(0xd3c)]=_0x5e2edc['map'](_0xf873f8=>{const _0x5e3535=_0x2556f1,_0x427b2e=_0xf873f8[_0x5e3535(0xdc9)]?_0x5e3535(0x6fe):_0x5e3535(0x8eb),_0x4f8a80=_0xf873f8[_0x5e3535(0xdc9)]?_0x5e3535(0x6f6):_0x5e3535(0xaf7);return _0x5e3535(0xd3d)+_0x427b2e+_0x5e3535(0x94f)+_0x4f8a80+_0x5e3535(0xc6f)+_0xf873f8[_0x5e3535(0xae4)]+_0x5e3535(0xb81)+_0xf873f8[_0x5e3535(0xae4)]+_0x5e3535(0xcc5);})[_0x2556f1(0x35d)](''));}if(_0x58e301[_0x2556f1(0xd0e)]===_0x2556f1(0x72b)){if(!_0x58e301[_0x2556f1(0x511)]){console[_0x2556f1(0xba9)](_0x2556f1(0x20b));return;}const _0x3385a7=_0x58e301['questionDisplayedAt'][_0x2556f1(0xc10)]()[_0x2556f1(0x869)](),_0x736979=_0x58e301[_0x2556f1(0x343)]*0x3e8,_0x482723=_0x3385a7+_0x736979;syncQuestionTimerInterval=setInterval(()=>{const _0x5b18f9=_0x2556f1,_0x26b4a7=_0x482723-Date[_0x5b18f9(0x7f3)](),_0x153d86=document[_0x5b18f9(0x52a)](_0x5b18f9(0x598)),_0x4b4e25=document[_0x5b18f9(0x52a)](_0x5b18f9(0x357));if(_0x26b4a7<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x153d86)_0x153d86['style'][_0x5b18f9(0x761)]='0%';if(_0x4b4e25)_0x4b4e25[_0x5b18f9(0x675)]='0';const _0x96078d=doc(db,_0x5b18f9(0x3c5)+appId+_0x5b18f9(0xb98),currentLiveGameId),_0x3755f3=_0x58e301[_0x5b18f9(0x606)]||_0x5b18f9(0xc16);_0x3755f3===_0x5b18f9(0xa9c)?updateDoc(_0x96078d,{'status':_0x5b18f9(0x2a7)}):updateDoc(_0x96078d,{'status':_0x5b18f9(0xa94)});}else{if(_0x153d86&&_0x4b4e25){const _0xb9b679=_0x26b4a7/_0x736979*0x64;_0x153d86['style']['width']=_0xb9b679+'%',_0x4b4e25['textContent']=Math[_0x5b18f9(0x23d)](_0x26b4a7/0x3e8);}}},0x1f4);}break;case _0x2556f1(0xa94):const _0x11b675=_0x58e301['currentQuestionIndex'],_0x3d6b7d=_0x58e301[_0x2556f1(0x28a)][_0x2556f1(0x665)][_0x11b675];renderSyncSummaryView(_0x58e301,_0x3d6b7d,!![]);break;case'results':const _0x515f53=_0x58e301[_0x2556f1(0x606)]||_0x2556f1(0xc16);_0x515f53===_0x2556f1(0x89b)?renderAdminSyncDashboard(_0x58e301,!![],_0x58e301['reviewQuestionIndex']):renderAdminSyncDashboard(_0x58e301,!![],_0x58e301[_0x2556f1(0xbc7)]);break;case _0x2556f1(0x500):_0x58e301[_0x2556f1(0x718)]&&saveGameResultsAsSubmissions(_0x58e301);sessionStorage[_0x2556f1(0xc64)]('activeGameSession');const _0x3647e9=calculateFinalPodiumScores(_0x58e301);showPodiumView(_0x3647e9,'sync');break;}}function renderAdminSyncQuestionView(_0x4d078f){const _0x4c3f2e=_0x6a7885,_0x18d60e=_0x4d078f[_0x4c3f2e(0xbc7)],_0x5d54ad=_0x4d078f[_0x4c3f2e(0x28a)]['questions'][_0x18d60e],_0x2c742b=_0x4d078f[_0x4c3f2e(0x28a)][_0x4c3f2e(0x665)][_0x4c3f2e(0xbc8)],_0x2e0aee=Object[_0x4c3f2e(0xbd1)](_0x4d078f[_0x4c3f2e(0xa6d)]||{})[_0x4c3f2e(0xcae)](_0x19f662=>_0x19f662['status']!==_0x4c3f2e(0x921)),_0x3ef29d=_0x2e0aee[_0x4c3f2e(0xcae)](_0x553d9e=>_0x553d9e[_0x4c3f2e(0xdc9)])[_0x4c3f2e(0xbc8)],_0x45fc95=_0x3ef29d===_0x2e0aee[_0x4c3f2e(0xbc8)]&&_0x2e0aee[_0x4c3f2e(0xbc8)]>0x0,_0x4994ad=(_0x5d54ad[_0x4c3f2e(0xd99)]||[])[_0x4c3f2e(0x8cc)](_0x294d83=>_0x4c3f2e(0x2a6)+_0x294d83+'</div>')[_0x4c3f2e(0x35d)]('');let _0x5f2a61='';_0x4d078f[_0x4c3f2e(0xd0e)]===_0x4c3f2e(0x72b)&&(_0x5f2a61=_0x4c3f2e(0x89f)+_0x4d078f[_0x4c3f2e(0x343)]+_0x4c3f2e(0x5e7));liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x18d60e+0x1)+_0x4c3f2e(0x938)+_0x2c742b+_0x4c3f2e(0x50a)+_0x4d078f['pin']+_0x4c3f2e(0x9d9)+_0x3ef29d+'/'+_0x2e0aee[_0x4c3f2e(0xbc8)]+_0x4c3f2e(0x7f6)+_0x5f2a61+_0x4c3f2e(0xabd)+_0x5d54ad[_0x4c3f2e(0xc82)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4994ad+_0x4c3f2e(0x4fb)+(!_0x45fc95?'disabled':'')+_0x4c3f2e(0x2d0);if(window['MathJax'])MathJax['typesetPromise']();document[_0x4c3f2e(0x52a)](_0x4c3f2e(0x6f5))[_0x4c3f2e(0x6dd)]('click',async()=>{const _0x4713c0=_0x4c3f2e,_0x41f85c=doc(db,_0x4713c0(0x3c5)+appId+_0x4713c0(0xb98),currentLiveGameId);await updateDoc(_0x41f85c,{'status':'summary'});}),document[_0x4c3f2e(0x52a)](_0x4c3f2e(0x63b))[_0x4c3f2e(0x4cd)]=()=>{openScratchpad(_0x5d54ad,_0x5d54ad['options']||[]);},document[_0x4c3f2e(0x52a)](_0x4c3f2e(0xd59))['addEventListener'](_0x4c3f2e(0x564),()=>{const _0x81646c=_0x4c3f2e;document['getElementById'](_0x81646c(0x5a4))[_0x81646c(0x817)][_0x81646c(0x2fc)](_0x81646c(0x68d));});const _0x23310d=document[_0x4c3f2e(0x52a)](_0x4c3f2e(0x7fa));_0x23310d&&(_0x23310d[_0x4c3f2e(0x4cd)]=()=>{const _0x5aaa26=_0x4c3f2e;showConfirmation(_0x5aaa26(0xc35),async()=>{const _0x45a561=_0x5aaa26,_0x3a89d3=doc(db,_0x45a561(0x3c5)+appId+_0x45a561(0xb98),currentLiveGameId);await updateDoc(_0x3a89d3,{'status':_0x45a561(0x500)});});});}function renderSyncLeaderboardView(_0x1da1d7,_0x306d1a){const _0x1c5239=_0x6a7885,_0x572f73=Object[_0x1c5239(0xbd1)](_0x1da1d7['players']||{});_0x572f73['sort']((_0x3392cd,_0x4b6108)=>_0x4b6108[_0x1c5239(0xb95)]-_0x3392cd[_0x1c5239(0xb95)]);const _0x8c4d71=_0x572f73['slice'](0x0,0x5);let _0x4b51d7='';if(_0x306d1a){const _0x5f31f3=_0x1da1d7[_0x1c5239(0xbc7)]>=_0x1da1d7[_0x1c5239(0x28a)][_0x1c5239(0x665)][_0x1c5239(0xbc8)]-0x1;_0x4b51d7=_0x1c5239(0xd0d)+(_0x5f31f3?_0x1c5239(0xad4):'ข้อต่อไป')+_0x1c5239(0xada);}else _0x4b51d7=_0x1c5239(0x664);liveGameView[_0x1c5239(0xd3c)]=_0x1c5239(0x59f)+_0x8c4d71['map']((_0x2bc973,_0x56b29d)=>_0x1c5239(0x9a9)+(_0x56b29d+0x1)+'.\x20'+_0x2bc973[_0x1c5239(0xae4)]+_0x1c5239(0xa89)+_0x2bc973[_0x1c5239(0xb95)]+_0x1c5239(0xc78))[_0x1c5239(0x35d)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b51d7+_0x1c5239(0xde8),_0x306d1a&&document[_0x1c5239(0x52a)](_0x1c5239(0x7fd))[_0x1c5239(0x6dd)](_0x1c5239(0x564),async()=>{const _0x764998=_0x1c5239,_0x3e6115=doc(db,_0x764998(0x3c5)+appId+'/public/data/syncGames',currentLiveGameId),_0x12dc36=_0x1da1d7[_0x764998(0xbc7)]+0x1;if(_0x12dc36<_0x1da1d7[_0x764998(0x28a)][_0x764998(0x665)]['length']){const _0x367288={};Object[_0x764998(0x879)](_0x1da1d7[_0x764998(0xa6d)])[_0x764998(0x79a)](_0x1946a0=>{const _0x411786=_0x764998;_0x367288[_0x411786(0x6a0)+_0x1946a0+_0x411786(0x44d)]=![];}),await updateDoc(_0x3e6115,{..._0x367288,'status':_0x764998(0xa64),'currentQuestionIndex':_0x12dc36,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3e6115,{'status':_0x764998(0x500)});});}async function handleJoinSyncGame(){const _0x2d4850=_0x6a7885,_0x49e57a=prompt(_0x2d4850(0xd97));if(!_0x49e57a||_0x49e57a['trim']()[_0x2d4850(0xbc8)]!==0x2){showMessage(_0x2d4850(0x685));return;}try{const _0x572440=collection(db,'artifacts/'+appId+_0x2d4850(0xb98)),_0x1fefbd=query(_0x572440,where(_0x2d4850(0x527),'==',_0x49e57a[_0x2d4850(0x797)]()),where('status','==',_0x2d4850(0xbe1))),_0x2086f9=await getDocs(_0x1fefbd);if(_0x2086f9[_0x2d4850(0x7b7)]){showMessage(_0x2d4850(0x295));return;}const _0x371b80=_0x2086f9[_0x2d4850(0x3f3)][0x0];currentLiveGameId=_0x371b80['id'];const _0x219948=_0x371b80['data'](),_0x448bb5=doc(db,_0x2d4850(0x3c5)+appId+_0x2d4850(0x383),_0x219948[_0x2d4850(0x781)]),_0x52bfc7=await getDoc(_0x448bb5);if(!_0x52bfc7['exists']())throw new Error(_0x2d4850(0xb29));const _0xa13d65=_0x52bfc7[_0x2d4850(0x36d)](),_0x374250=doc(db,_0x2d4850(0x3c5)+appId+_0x2d4850(0x880),_0xa13d65[_0x2d4850(0x94a)]),_0x582edb=await getDoc(_0x374250);if(!_0x582edb[_0x2d4850(0xd3f)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x219948[_0x2d4850(0x28a)];const _0x137937=_0x582edb['data']();showView(_0x2d4850(0x377)),showTeamPlayerSelection(_0x137937['students'],_0xa13d65[_0x2d4850(0x801)]);const _0xbfaf68=document[_0x2d4850(0x52a)]('confirm-team-players-btn');_0xbfaf68['onclick']=confirmAndJoinSyncGame;}catch(_0x1c9615){console[_0x2d4850(0xc4f)](_0x2d4850(0x451),_0x1c9615),showMessage(_0x2d4850(0xc44)+_0x1c9615[_0x2d4850(0xacb)]);}}function updateStudentSyncView(_0x549552){const _0x2de3cb=_0x6a7885,_0x23ebc6=_0x549552[_0x2de3cb(0xa6d)][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x549552[_0x2de3cb(0xc96)]){case _0x2de3cb(0xbe1):showView(_0x2de3cb(0x58c)),liveGameView[_0x2de3cb(0xd3c)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x2de3cb(0xa64):localPlayerTurnIndex=0x0;const _0x5a5387=localTeamPlayers[_0x2de3cb(0x3b9)](_0x30e743=>_0x549552['players'][_0x30e743]?.[_0x2de3cb(0xdc9)]===!![]);if(_0x5a5387)liveGameView['innerHTML']=_0x2de3cb(0x6e1);else{renderStudentSyncQuestionView(_0x549552);if(_0x549552[_0x2de3cb(0xd0e)]===_0x2de3cb(0x72b)){const _0x363660=_0x549552[_0x2de3cb(0x511)][_0x2de3cb(0xc10)]()[_0x2de3cb(0x869)](),_0x1fbffd=_0x549552[_0x2de3cb(0x343)]*0x3e8,_0x33c357=_0x363660+_0x1fbffd;syncQuestionTimerInterval=setInterval(()=>{const _0x2fb9f2=_0x2de3cb,_0x1d1d12=_0x33c357-Date[_0x2fb9f2(0x7f3)](),_0x359676=document['getElementById'](_0x2fb9f2(0x598)),_0x15a1e8=document[_0x2fb9f2(0x52a)]('sync-timer-countdown');if(_0x1d1d12<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x359676)_0x359676[_0x2fb9f2(0x882)][_0x2fb9f2(0x761)]='0%';if(_0x15a1e8)_0x15a1e8[_0x2fb9f2(0x675)]='0';liveGameView[_0x2fb9f2(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x359676&&_0x15a1e8){const _0x38a7f1=_0x1d1d12/_0x1fbffd*0x64;_0x359676[_0x2fb9f2(0x882)][_0x2fb9f2(0x761)]=_0x38a7f1+'%',_0x15a1e8[_0x2fb9f2(0x675)]=Math[_0x2fb9f2(0x23d)](_0x1d1d12/0x3e8);}}},0x1f4);}}break;case _0x2de3cb(0xa94):liveGameView['innerHTML']=_0x2de3cb(0xcf2);break;case _0x2de3cb(0x2a7):localPlayerTurnIndex=0x0;const _0x243327=_0x549552[_0x2de3cb(0x606)]||_0x2de3cb(0xc16);if(_0x243327==='reveal_at_end')renderAdminSyncDashboard(_0x549552,![],_0x549552[_0x2de3cb(0xcda)]);else _0x243327===_0x2de3cb(0xa9c)?renderAdminSyncDashboard(_0x549552,![],_0x549552[_0x2de3cb(0xbc7)]):renderStudentSyncResultsView(_0x549552);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2de3cb(0x5b6)](_0x2de3cb(0xd2a),handleFullscreenChange),document[_0x2de3cb(0x5b6)](_0x2de3cb(0xacd),handleVisibilityChange),sessionStorage[_0x2de3cb(0xc64)]('activeGameSession');const _0xf20b99=calculateFinalPodiumScores(_0x549552);showPodiumView(_0xf20b99,_0x2de3cb(0x5f1));break;}}function renderStudentSyncResultsView(_0x344072){const _0x2edf1c=_0x6a7885,_0x3656e4=localTeamPlayers[_0x2edf1c(0x8cc)](_0x55a8f5=>_0x344072[_0x2edf1c(0xa6d)][_0x55a8f5])[_0x2edf1c(0xcae)](Boolean);_0x3656e4['sort']((_0x43708c,_0x1300c8)=>(_0x1300c8[_0x2edf1c(0xb95)]||0x0)-(_0x43708c[_0x2edf1c(0xb95)]||0x0));const _0x1bb434=_0x344072[_0x2edf1c(0x606)]||'classic',_0x42808f=_0x344072[_0x2edf1c(0x28a)]['questions'];let _0x1e9d2c='';if(_0x1bb434===_0x2edf1c(0x89b)){const _0x59e2bb=_0x344072[_0x2edf1c(0xcda)]>=_0x42808f[_0x2edf1c(0xbc8)]-0x1;_0x59e2bb?_0x1e9d2c=_0x2edf1c(0xb55):_0x1e9d2c=_0x2edf1c(0x517);}else{const _0x1024e2=_0x344072[_0x2edf1c(0xbc7)]>=_0x42808f[_0x2edf1c(0xbc8)]-0x1;_0x1024e2?_0x1e9d2c='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x1e9d2c=_0x2edf1c(0xde0);}const _0x2dff85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3656e4['map']((_0x29fa51,_0x32d899)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x32d899+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x29fa51[_0x2edf1c(0xae4)]+_0x2edf1c(0xc0b)+_0x29fa51[_0x2edf1c(0xb95)]+_0x2edf1c(0x71c))[_0x2edf1c(0x35d)]('')+_0x2edf1c(0x406)+_0x1e9d2c+_0x2edf1c(0xc94);liveGameView[_0x2edf1c(0xd3c)]=_0x2dff85;}function renderStudentSyncQuestionView(_0x5669a2){const _0xd6d1df=_0x6a7885,_0x231a63=localTeamPlayers[_0xd6d1df(0x8c7)](_0x152760=>_0x5669a2[_0xd6d1df(0xa6d)][_0x152760]&&_0x5669a2['players'][_0x152760][_0xd6d1df(0xdc9)]===![]);if(!_0x231a63){console[_0xd6d1df(0xba9)](_0xd6d1df(0xbda));return;}const _0x4100c6=_0x5669a2[_0xd6d1df(0xbc7)],_0xc8f598=_0x5669a2[_0xd6d1df(0x28a)][_0xd6d1df(0x665)][_0xd6d1df(0xbc8)],_0x581321=_0x5669a2[_0xd6d1df(0x28a)][_0xd6d1df(0x665)][_0x4100c6],_0x2a3abd=_0x581321[_0xd6d1df(0x8c1)]||_0x5669a2[_0xd6d1df(0x28a)]['quizType'];let _0x29d6bf='',_0x2b789c=![];switch(_0x2a3abd){case _0xd6d1df(0x3f6):_0x29d6bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd6d1df(0x247):case _0xd6d1df(0xdd9):_0x2b789c=!![],_0x29d6bf=_0xd6d1df(0x2cf);break;case'matching_item':_0x2b789c=!![],_0x29d6bf=_0xd6d1df(0xaa2)+(_0x581321[_0xd6d1df(0xc0f)]||[])[_0xd6d1df(0x8cc)](_0x2ac555=>_0xd6d1df(0xd63)+_0x2ac555+'\x22>'+_0x2ac555+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'multiple_choice':default:_0x29d6bf=(_0x581321[_0xd6d1df(0xd99)]||[])[_0xd6d1df(0x8cc)]((_0x15b214,_0x3f497b)=>'<button\x20data-value=\x22'+_0x3f497b+_0xd6d1df(0x522)+_0x15b214+_0xd6d1df(0x995))['join']('');break;}let _0x483efc='';_0x5669a2[_0xd6d1df(0xd0e)]===_0xd6d1df(0x72b)&&(_0x483efc=_0xd6d1df(0x89f)+_0x5669a2[_0xd6d1df(0x343)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0xd6d1df(0xd3c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x4100c6+0x1)+_0xd6d1df(0x938)+_0xc8f598+_0xd6d1df(0x759)+_0x231a63+_0xd6d1df(0xa72)+_0x483efc+_0xd6d1df(0xabd)+(_0x581321[_0xd6d1df(0xc82)]||_0x581321[_0xd6d1df(0xdbf)])+_0xd6d1df(0x7de)+_0x29d6bf+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0xd6d1df(0xb46)])MathJax[_0xd6d1df(0x787)]();function _0x33b925(_0x44a7a9,_0x297450,_0x150501,_0xcd0052){const _0x286d79=_0xd6d1df,_0x1ab5fe=_0x150501[_0x286d79(0x6a3)]===!![];if(_0x1ab5fe){document[_0x286d79(0x52a)](_0x286d79(0x8a5))[_0x286d79(0xba5)]['currentMode']=_0x286d79(0x5f1);const _0x10b70c=document[_0x286d79(0x52a)](_0x286d79(0x649));_0x10b70c['dataset'][_0x286d79(0xd72)]=_0x44a7a9,_0x10b70c[_0x286d79(0xba5)][_0x286d79(0xa64)]=JSON['stringify'](_0x297450),_0x10b70c[_0x286d79(0xba5)][_0x286d79(0x47d)]=JSON[_0x286d79(0x20d)](_0x150501),_0x10b70c[_0x286d79(0xba5)][_0x286d79(0x9aa)]=_0xcd0052,document[_0x286d79(0x52a)](_0x286d79(0x8a5))[_0x286d79(0x817)][_0x286d79(0xb2b)](_0x286d79(0x68d));}else handleSyncAnswerSubmit(_0x44a7a9,_0x297450,_0x150501,_0xcd0052,![]);}_0x2b789c?document[_0xd6d1df(0x52a)](_0xd6d1df(0x8bb))['addEventListener'](_0xd6d1df(0x564),()=>{const _0x41ce01=_0xd6d1df,_0x1b8255=document['getElementById']('sync-short-answer-input')||document[_0x41ce01(0x52a)](_0x41ce01(0x3d8));if(_0x1b8255[_0x41ce01(0x3c4)][_0x41ce01(0x797)]()===''){showMessage(_0x41ce01(0x541));return;}_0x33b925(_0x1b8255[_0x41ce01(0x3c4)],_0x581321,_0x5669a2,_0x231a63);}):document[_0xd6d1df(0x7b3)](_0xd6d1df(0x214))[_0xd6d1df(0x79a)](_0x244469=>{const _0x118a28=_0xd6d1df;_0x244469[_0x118a28(0x6dd)]('click',()=>{const _0x1ad4d1=_0x118a28;_0x33b925(_0x244469[_0x1ad4d1(0xba5)][_0x1ad4d1(0x3c4)],_0x581321,_0x5669a2,_0x231a63);});});}async function handleSyncAnswerSubmit(_0x5b6f56,_0x201985,_0x164737,_0x1df71e,_0x319d72){const _0x35bc4c=_0x6a7885;document[_0x35bc4c(0x7b3)](_0x35bc4c(0xbae))[_0x35bc4c(0x79a)](_0x5796db=>_0x5796db['disabled']=!![]);const _0x465de2=_0x201985['questionType']||_0x164737[_0x35bc4c(0x28a)][_0x35bc4c(0xafb)];let _0x10b018=![],_0x2b69a9=_0x5b6f56;switch(_0x465de2){case _0x35bc4c(0x3f6):const _0xcb574d=parseInt(_0x5b6f56),_0x54d646=_0x201985['correctAnswer']===!![]||String(_0x201985[_0x35bc4c(0x950)])['toLowerCase']()===_0x35bc4c(0xb54);_0x10b018=_0xcb574d===0x0&&_0x54d646||_0xcb574d===0x1&&!_0x54d646,_0x2b69a9=_0xcb574d===0x0?'ใช่\x20/\x20ถูก':_0x35bc4c(0x946);break;case _0x35bc4c(0x247):case _0x35bc4c(0xdd9):_0x10b018=await gradeShortAnswer(_0x5b6f56,_0x201985);break;case _0x35bc4c(0x747):_0x10b018=_0x5b6f56===_0x201985[_0x35bc4c(0x573)];break;case _0x35bc4c(0xa3b):default:const _0x1d5232=parseInt(_0x5b6f56);_0x10b018=_0x1d5232===_0x201985[_0x35bc4c(0x7cc)];_0x201985['options']&&_0x201985[_0x35bc4c(0xd99)][_0x1d5232]&&(_0x2b69a9=_0x201985[_0x35bc4c(0xd99)][_0x1d5232]);break;}const _0x68f8d6=doc(db,_0x35bc4c(0x3c5)+appId+_0x35bc4c(0xb98),currentLiveGameId),_0x3d8028={},_0x8e99c6=_0x164737['players'][_0x1df71e]?.[_0x35bc4c(0xa6c)]||[],_0x4052f6={'questionIndex':_0x164737[_0x35bc4c(0xbc7)],'questionId':_0x201985['id'],'answer':_0x5b6f56,'answerText':_0x2b69a9,'isCorrect':_0x10b018,'originalQuestionText':_0x201985['questionText']||_0x201985[_0x35bc4c(0xdbf)],'wasConfident':_0x319d72},_0x3553a2=_0x8e99c6[_0x35bc4c(0xcae)](_0x48c776=>_0x48c776[_0x35bc4c(0xc69)]!==_0x164737[_0x35bc4c(0xbc7)]),_0x3d2fdb=[..._0x3553a2,_0x4052f6],_0xfa2ed1=_0x3d2fdb[_0x35bc4c(0xcae)](_0x146e54=>_0x146e54[_0x35bc4c(0x7d3)])[_0x35bc4c(0xbc8)];_0x3d8028[_0x35bc4c(0x6a0)+_0x1df71e+_0x35bc4c(0x596)]=_0x3d2fdb,_0x3d8028[_0x35bc4c(0x6a0)+_0x1df71e+_0x35bc4c(0xa22)]=_0xfa2ed1,_0x3d8028[_0x35bc4c(0x6a0)+_0x1df71e+'.answered']=!![];let _0x568ace=null;(_0x465de2===_0x35bc4c(0xa3b)||_0x465de2===_0x35bc4c(0x3f6)||_0x465de2===_0x35bc4c(0x3a3))&&(_0x568ace=parseInt(_0x5b6f56)),_0x3d8028['players.'+_0x1df71e+_0x35bc4c(0x266)]=_0x568ace,await updateDoc(_0x68f8d6,_0x3d8028);}initialize();
