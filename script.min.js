const _0x597754=_0x512c;(function(_0x12880b,_0x15dddf){const _0x330525=_0x512c,_0x452115=_0x12880b();while(!![]){try{const _0x3c1178=-parseInt(_0x330525(0x3fb))/0x1*(-parseInt(_0x330525(0x129))/0x2)+-parseInt(_0x330525(0x19f))/0x3*(parseInt(_0x330525(0x4ae))/0x4)+-parseInt(_0x330525(0x38b))/0x5+-parseInt(_0x330525(0x330))/0x6+-parseInt(_0x330525(0x403))/0x7+parseInt(_0x330525(0x38e))/0x8+parseInt(_0x330525(0x6b8))/0x9;if(_0x3c1178===_0x15dddf)break;else _0x452115['push'](_0x452115['shift']());}catch(_0x3c8e0a){_0x452115['push'](_0x452115['shift']());}}}(_0x3aee,0xdcf12));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x506d35=_0x512c;if(_0x506d35(0x816)in navigator)try{wakeLock=await navigator[_0x506d35(0x816)][_0x506d35(0x631)](_0x506d35(0x255)),console[_0x506d35(0x1ef)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x506d35(0x893)](_0x506d35(0x80c),()=>{const _0x4e531a=_0x506d35;console[_0x4e531a(0x1ef)](_0x4e531a(0x3de));});}catch(_0x3d6b17){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x3d6b17['name']+',\x20'+_0x3d6b17[_0x506d35(0x6b9)]);}else console[_0x506d35(0x829)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x27054a=_0x512c;wakeLock!==null&&(await wakeLock[_0x27054a(0x80c)](),wakeLock=null,console[_0x27054a(0x1ef)](_0x27054a(0xa7)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3d725b=_0x512c;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x3d725b(0x79b)]['remove'](_0x3d725b(0x6d9)),dimTimer=setTimeout(()=>{const _0x366005=_0x3d725b;document[_0x366005(0x170)][_0x366005(0x79b)][_0x366005(0x635)](_0x366005(0x6d9)),console[_0x366005(0x1ef)](_0x366005(0x328));},inactivityTime);}function stopDimTimer(){const _0x2d4094=_0x512c;if(dimTimer)clearTimeout(dimTimer);document[_0x2d4094(0x170)][_0x2d4094(0x79b)][_0x2d4094(0x76b)](_0x2d4094(0x6d9)),window[_0x2d4094(0x470)]('mousemove',resetDimTimer),window[_0x2d4094(0x470)]('mousedown',resetDimTimer),window[_0x2d4094(0x470)](_0x2d4094(0x529),resetDimTimer),window[_0x2d4094(0x470)](_0x2d4094(0x4d3),resetDimTimer),console['log'](_0x2d4094(0x375));}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x597754(0x694),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x597754(0x7c7),'name':_0x597754(0x7c4)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x498)},{'category':_0x597754(0x7c7),'name':_0x597754(0x815)},{'category':_0x597754(0x7c7),'name':_0x597754(0x55c)},{'category':_0x597754(0x7c7),'name':_0x597754(0x29c)},{'category':_0x597754(0x7c7),'name':'การลบ'},{'category':_0x597754(0x7c7),'name':_0x597754(0x290)},{'category':_0x597754(0x7c7),'name':_0x597754(0x495)},{'category':_0x597754(0x7c7),'name':_0x597754(0x8a7)},{'category':_0x597754(0x7c7),'name':_0x597754(0x3f0)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x23c)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x597754(0x7c7),'name':_0x597754(0x3d9)},{'category':_0x597754(0x7c7),'name':_0x597754(0x3cd)},{'category':_0x597754(0x7c7),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x597754(0x7c7),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x597754(0x7c7),'name':_0x597754(0x60e)},{'category':_0x597754(0x7c7),'name':_0x597754(0x552)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x107)},{'category':_0x597754(0x7c7),'name':_0x597754(0x32c)},{'category':_0x597754(0x7c7),'name':_0x597754(0x616)},{'category':_0x597754(0x7c7),'name':_0x597754(0x4b0)},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':_0x597754(0x7c7),'name':'จำนวนคละ'},{'category':_0x597754(0x7c7),'name':_0x597754(0x34d)},{'category':_0x597754(0x7c7),'name':_0x597754(0x1fd)},{'category':_0x597754(0x7c7),'name':_0x597754(0x796)},{'category':_0x597754(0x7c7),'name':_0x597754(0x7d6)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x3b9)},{'category':_0x597754(0x7c7),'name':_0x597754(0x7fb)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x82c)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x462)},{'category':_0x597754(0x7c7),'name':_0x597754(0x2d0)},{'category':_0x597754(0x7c7),'name':_0x597754(0x5b3)},{'category':_0x597754(0x7c7),'name':_0x597754(0x6f8)},{'category':'จำนวนและการดำเนินการ','name':_0x597754(0x6e1)},{'category':_0x597754(0x7c7),'name':_0x597754(0x75a)},{'category':_0x597754(0x31b),'name':_0x597754(0x88a)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x597754(0x250)},{'category':_0x597754(0x31b),'name':_0x597754(0x1cc)},{'category':_0x597754(0x31b),'name':_0x597754(0x662)},{'category':_0x597754(0x31b),'name':_0x597754(0x5db)},{'category':_0x597754(0x31b),'name':_0x597754(0x620)},{'category':_0x597754(0x31b),'name':_0x597754(0x51b)},{'category':'การวัด','name':_0x597754(0x85b)},{'category':_0x597754(0x31b),'name':_0x597754(0x86c)},{'category':_0x597754(0x31b),'name':_0x597754(0x5ba)},{'category':_0x597754(0x31b),'name':_0x597754(0x23e)},{'category':'การวัด','name':_0x597754(0x1af)},{'category':_0x597754(0x31b),'name':_0x597754(0x801)},{'category':_0x597754(0x386),'name':_0x597754(0x70a)},{'category':_0x597754(0x386),'name':_0x597754(0x5ae)},{'category':_0x597754(0x386),'name':_0x597754(0x4b4)},{'category':_0x597754(0x386),'name':_0x597754(0x51b)},{'category':_0x597754(0x386),'name':_0x597754(0x338)},{'category':_0x597754(0x386),'name':'ความคล้ายของรูป'},{'category':_0x597754(0x386),'name':_0x597754(0x130)},{'category':_0x597754(0x386),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x597754(0x386),'name':_0x597754(0x6af)},{'category':'เรขาคณิต','name':_0x597754(0x4b9)},{'category':_0x597754(0x386),'name':_0x597754(0x3a1)},{'category':_0x597754(0x386),'name':_0x597754(0x756)},{'category':'เรขาคณิต','name':_0x597754(0x1ad)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x597754(0x386),'name':_0x597754(0x632)},{'category':_0x597754(0x25d),'name':_0x597754(0x5f8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x742)},{'category':_0x597754(0x25d),'name':_0x597754(0xe5)},{'category':_0x597754(0x25d),'name':'การแยกตัวประกอบ'},{'category':_0x597754(0x25d),'name':_0x597754(0x6f4)},{'category':_0x597754(0x25d),'name':_0x597754(0x7b9)},{'category':_0x597754(0x25d),'name':_0x597754(0x108)},{'category':_0x597754(0x25d),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x597754(0x25d),'name':_0x597754(0x4c0)},{'category':_0x597754(0x25d),'name':_0x597754(0x539)},{'category':_0x597754(0x25d),'name':'สมการราก\x20(radical)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x194)},{'category':_0x597754(0x25d),'name':_0x597754(0x2c8)},{'category':_0x597754(0x25d),'name':'อสมการเชิงเส้น'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x460)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x867)},{'category':_0x597754(0x25d),'name':_0x597754(0x5a6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x430)},{'category':_0x597754(0x25d),'name':_0x597754(0x1de)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x3c1)},{'category':_0x597754(0x25d),'name':_0x597754(0x3bb)},{'category':_0x597754(0x25d),'name':_0x597754(0x7ed)},{'category':_0x597754(0x25d),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x597754(0x25d),'name':_0x597754(0xa4)},{'category':_0x597754(0x25d),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x597754(0x25d),'name':_0x597754(0x6a8)},{'category':_0x597754(0x25d),'name':_0x597754(0x148)},{'category':_0x597754(0x25d),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x597754(0x25d),'name':_0x597754(0x52c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x5ac)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x597754(0x17a)},{'category':_0x597754(0x25d),'name':_0x597754(0x5f3)},{'category':_0x597754(0x25d),'name':_0x597754(0x619)},{'category':_0x597754(0x25d),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x597754(0x25d),'name':_0x597754(0x4d2)},{'category':_0x597754(0x77d),'name':_0x597754(0x69d)},{'category':'เรขาคณิตวิเคราะห์','name':_0x597754(0x3c8)},{'category':'เรขาคณิตวิเคราะห์','name':_0x597754(0x1c3)},{'category':_0x597754(0x77d),'name':_0x597754(0x690)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x597754(0x77d),'name':_0x597754(0x48f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x597754(0x8af)},{'category':'เรขาคณิตวิเคราะห์','name':_0x597754(0x713)},{'category':_0x597754(0x77d),'name':_0x597754(0x670)},{'category':'ตรีโกณมิติ','name':_0x597754(0x22e)},{'category':_0x597754(0x27f),'name':_0x597754(0x2db)},{'category':_0x597754(0x27f),'name':_0x597754(0x622)},{'category':_0x597754(0x27f),'name':_0x597754(0xeb)},{'category':_0x597754(0x27f),'name':_0x597754(0x11e)},{'category':_0x597754(0x27f),'name':_0x597754(0x72a)},{'category':'ตรีโกณมิติ','name':_0x597754(0x5bb)},{'category':_0x597754(0x27f),'name':_0x597754(0x47a)},{'category':_0x597754(0x27f),'name':_0x597754(0x373)},{'category':_0x597754(0x27f),'name':_0x597754(0x459)},{'category':_0x597754(0x27f),'name':_0x597754(0x185)},{'category':_0x597754(0x471),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x597754(0x20d)},{'category':_0x597754(0x471),'name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x597754(0x499)},{'category':_0x597754(0x471),'name':'ฮิสโตแกรม'},{'category':_0x597754(0x471),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x597754(0x471),'name':'มัธยฐาน'},{'category':_0x597754(0x471),'name':'ฐานนิยม'},{'category':_0x597754(0x471),'name':_0x597754(0x85f)},{'category':'สถิติและความน่าจะเป็น','name':_0x597754(0x751)},{'category':_0x597754(0x471),'name':_0x597754(0x2b8)},{'category':_0x597754(0x471),'name':_0x597754(0x506)},{'category':_0x597754(0x471),'name':_0x597754(0x16f)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x597754(0x471),'name':_0x597754(0x854)},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x597754(0x29a)},{'category':_0x597754(0x471),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x597754(0x471),'name':_0x597754(0x83c)},{'category':_0x597754(0x471),'name':_0x597754(0x147)},{'category':_0x597754(0x471),'name':_0x597754(0x6d7)},{'category':'สถิติและความน่าจะเป็น','name':_0x597754(0x310)},{'category':_0x597754(0x471),'name':_0x597754(0x86d)},{'category':_0x597754(0x26f),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x597754(0x149)},{'category':_0x597754(0x26f),'name':_0x597754(0x1f3)},{'category':_0x597754(0x26f),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x597754(0x26f),'name':_0x597754(0x4b6)},{'category':_0x597754(0x26f),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x597754(0x26f),'name':_0x597754(0x1cd)},{'category':_0x597754(0x26f),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x597754(0x26f),'name':_0x597754(0x7aa)},{'category':_0x597754(0x26f),'name':_0x597754(0x1ec)},{'category':_0x597754(0x26f),'name':_0x597754(0x634)},{'category':_0x597754(0x26f),'name':_0x597754(0x3d2)},{'category':'แคลคูลัสเบื้องต้น','name':_0x597754(0xd7)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x597754(0xa8)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x597754(0x76d)},{'category':_0x597754(0x63b),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x597754(0x530)},{'category':_0x597754(0x63b),'name':_0x597754(0x732)},{'category':_0x597754(0x63b),'name':_0x597754(0x6bc)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x597754(0x758),'name':_0x597754(0x88c)},{'category':_0x597754(0x758),'name':_0x597754(0x834)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x597754(0x758),'name':'ค่าเสื่อมราคา'},{'category':_0x597754(0x758),'name':_0x597754(0x4eb)},{'category':_0x597754(0x701),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x597754(0x6cd)},{'category':_0x597754(0x701),'name':_0x597754(0x54d)}];function renderTopicCheckboxes(){const _0x8dde51=_0x597754,_0x12b718=document[_0x8dde51(0x596)](_0x8dde51(0x752));if(!_0x12b718)return;const _0xdb84ed=allMathTopics,_0x2fb45c=customMathTopics[_0x8dde51(0x535)](_0x2ae954=>({'id':_0x2ae954['id'],'category':_0x8dde51(0x263),'name':_0x2ae954[_0x8dde51(0x452)]})),_0x2a129e=[..._0xdb84ed,..._0x2fb45c],_0x2308de=_0x2a129e[_0x8dde51(0x44a)]((_0x45ead0,_0x27b75b)=>{const _0x400720=_0x8dde51;return!_0x45ead0[_0x27b75b['category']]&&(_0x45ead0[_0x27b75b[_0x400720(0x1d7)]]=[]),_0x45ead0[_0x27b75b[_0x400720(0x1d7)]][_0x400720(0x1c9)](_0x27b75b),_0x45ead0;},{});let _0x49493c='';const _0x33af56=[_0x8dde51(0x263),...Object[_0x8dde51(0x55b)](_0x2308de)[_0x8dde51(0x534)](_0x10c526=>_0x10c526!=='หัวข้อที่สร้างเอง')];for(const _0x5b532e of _0x33af56){if(_0x2308de[_0x5b532e]){const _0x48e7b3=_0x5b532e===_0x8dde51(0x263),_0x25867c=_0x48e7b3?_0x8dde51(0x480):_0x8dde51(0x70f),_0x31eb5b=_0x48e7b3?'text-blue-700':_0x8dde51(0x47f);_0x49493c+=_0x8dde51(0xa1),_0x49493c+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x31eb5b+_0x8dde51(0x278)+_0x25867c+_0x8dde51(0x4f6)+_0x5b532e+_0x8dde51(0x3f8),_0x2308de[_0x5b532e][_0x8dde51(0x450)](_0x91dd3d=>{const _0x348e16=_0x8dde51,_0x41bd9c=!!_0x91dd3d['id'],_0x7c9b05=_0x41bd9c?_0x348e16(0x121)+_0x91dd3d['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x91dd3d['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x91dd3d['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x91dd3d['id']+_0x348e16(0xe9):'';_0x49493c+=_0x348e16(0x2d7)+(_0x91dd3d['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x91dd3d['name']+_0x348e16(0x501)+_0x91dd3d[_0x348e16(0x452)]+_0x348e16(0x360)+(_0x41bd9c?_0x348e16(0x6ea)+_0x91dd3d['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7c9b05+_0x348e16(0x4fd);}),_0x49493c+='</div>';}}_0x12b718['innerHTML']=_0x49493c||_0x8dde51(0xc0),_0x12b718[_0x8dde51(0x470)](_0x8dde51(0x4c4),updateSelectedTopicsCount),_0x12b718[_0x8dde51(0x893)](_0x8dde51(0x4c4),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x35e78c,_0x5ab006){const _0x4cc94d=_0x597754;if(!_0x35e78c||!_0x5ab006['trim']()){showMessage(_0x4cc94d(0x594));return;}try{const _0x1330b6=doc(db,_0x4cc94d(0x4cb)+appId+_0x4cc94d(0x512),_0x35e78c);await updateDoc(_0x1330b6,{'name':_0x5ab006[_0x4cc94d(0xb9)]()}),showMessage(_0x4cc94d(0x12a));}catch(_0x2b37e5){console['error'](_0x4cc94d(0xc1),_0x2b37e5),showMessage(_0x4cc94d(0x762));}}function toggleTopicEditMode(_0x37ed70,_0x3e925c){const _0x51e6c3=_0x597754;if(!_0x37ed70)return;const _0x337e88=_0x37ed70[_0x51e6c3(0x82d)]('.topic-name-display'),_0x43b3f9=_0x37ed70[_0x51e6c3(0x82d)](_0x51e6c3(0x1a5)),_0x39a662=_0x37ed70['querySelector'](_0x51e6c3(0x161)),_0x4a542d=_0x37ed70[_0x51e6c3(0x82d)](_0x51e6c3(0x1f6));_0x337e88[_0x51e6c3(0x79b)]['toggle'](_0x51e6c3(0x702),_0x3e925c),_0x43b3f9[_0x51e6c3(0x79b)][_0x51e6c3(0x7d7)](_0x51e6c3(0x702),!_0x3e925c),_0x39a662[_0x51e6c3(0x79b)]['toggle']('hidden',_0x3e925c),_0x4a542d['classList'][_0x51e6c3(0x7d7)](_0x51e6c3(0x702),!_0x3e925c),_0x3e925c&&(_0x43b3f9[_0x51e6c3(0x17d)](),_0x43b3f9[_0x51e6c3(0x3d5)]());}function updateSelectedTopicsCount(){const _0x165961=_0x597754,_0x5f30fb=document['getElementById'](_0x165961(0x752)),_0x329327=_0x5f30fb[_0x165961(0x5f5)]('input[type=\x22checkbox\x22]:checked')['length'],_0x15c90a=document[_0x165961(0x596)]('selected-topics-count');_0x329327>0x0?_0x15c90a[_0x165961(0x195)]=_0x165961(0x555)+_0x329327+_0x165961(0x22a):_0x15c90a[_0x165961(0x195)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x597754(0x21d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x597754(0xb8),quizLeaderboardSortOrder=_0x597754(0x378),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x597754(0x35a),'name':_0x597754(0x89e),'description':_0x597754(0x721),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x597754(0x5ed),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':_0x597754(0x845),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x597754(0x2e4)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x597754(0x623),'description':_0x597754(0x585),'icon':_0x597754(0x288)},'COMEBACK_KING':{'id':'comeback_king','name':'ราชาคัมแบ็ก','description':_0x597754(0x81d),'icon':_0x597754(0x7ee)},'SPECIALIST':{'id':_0x597754(0x706),'name':_0x597754(0x8ab),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x597754(0x649)},'PERSEVERANCE':{'id':_0x597754(0x7dd),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x597754(0x7a5),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x597754(0x870),'storageBucket':_0x597754(0x508),'messagingSenderId':_0x597754(0xf3),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x597754(0x18a)},appId=typeof __app_id!==_0x597754(0x544)?__app_id:_0x597754(0x4a0),adminView=document['getElementById'](_0x597754(0x46e)),studentView=document[_0x597754(0x596)](_0x597754(0x66a)),projectDashboardView=document[_0x597754(0x596)](_0x597754(0x641)),projectDetailView=document[_0x597754(0x596)]('project-detail-view'),quizResultsView=document[_0x597754(0x596)](_0x597754(0x442)),projectList=document[_0x597754(0x596)](_0x597754(0x4c1)),noProjectsMsg=document[_0x597754(0x596)]('no-projects-msg'),projectTitle=document[_0x597754(0x596)](_0x597754(0x21b)),projectIdDisplay=document[_0x597754(0x596)](_0x597754(0x6da)),studentList=document[_0x597754(0x596)](_0x597754(0x658)),messageModal=document['getElementById'](_0x597754(0x2d3)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x597754(0x596)](_0x597754(0x524)),adminPasswordModal=document[_0x597754(0x596)](_0x597754(0x81e)),confirmationModal=document[_0x597754(0x596)](_0x597754(0x48e)),userIdDisplay=document[_0x597754(0x596)](_0x597754(0x3da)),topicTab=document[_0x597754(0x596)](_0x597754(0x42d)),textTab=document['getElementById'](_0x597754(0x59c)),topicInputArea=document['getElementById'](_0x597754(0x7bc)),textInputArea=document[_0x597754(0x596)](_0x597754(0x448)),manageTab=document[_0x597754(0x596)](_0x597754(0x201)),resultsTab=document[_0x597754(0x596)]('results-tab'),leaderboardTab=document[_0x597754(0x596)]('leaderboard-tab'),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x597754(0x596)](_0x597754(0x6f1)),leaderboardTabContent=document[_0x597754(0x596)](_0x597754(0x3bc)),projectQuizzesList=document[_0x597754(0x596)](_0x597754(0xea)),fileTab=document[_0x597754(0x596)]('file-tab'),fileInputArea=document[_0x597754(0x596)](_0x597754(0x2a7)),fileUploadInput=document[_0x597754(0x596)](_0x597754(0x7df)),worksheetTab=document[_0x597754(0x596)](_0x597754(0x824)),worksheetInputArea=document[_0x597754(0x596)](_0x597754(0x6bd)),generateWorksheetBtn=document[_0x597754(0x596)](_0x597754(0x76f)),studentInitialView=document[_0x597754(0x596)]('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x597754(0x728)),studentQuizArea=document[_0x597754(0x596)](_0x597754(0x858)),studentResultArea=document['getElementById'](_0x597754(0x273)),studentReadingArea=document[_0x597754(0x596)](_0x597754(0x813)),loadQuizBtn=document[_0x597754(0x596)]('load-quiz-btn'),startQuizBtn=document[_0x597754(0x596)](_0x597754(0x5a4)),studentJoinGameView=document['getElementById'](_0x597754(0x297)),presentationModal=document['getElementById'](_0x597754(0x5e0)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x597754(0x596)]('move-quiz-modal'),quizSettingsModal=document[_0x597754(0x596)]('quiz-settings-modal'),quizStatusModal=document[_0x597754(0x596)](_0x597754(0x2a6)),liveGameView=document[_0x597754(0x596)](_0x597754(0x342));function handleAutoFixLatex(){const _0x341ae0=_0x597754,_0x3c95bf=document['getElementById'](_0x341ae0(0x6a3))||document,_0x4afe17=_0x3c95bf[_0x341ae0(0x5f5)]([_0x341ae0(0x64c),'input[type=\x22text\x22]',_0x341ae0(0x103),_0x341ae0(0x646),'.ql-editor',_0x341ae0(0x8b5),_0x341ae0(0x71b),_0x341ae0(0x151),_0x341ae0(0x5f9)][_0x341ae0(0x243)](','));let _0x4f7402=0x0;const _0x29e0ad=_0x15e954=>_0x341ae0(0x800)in _0x15e954?String(_0x15e954['value']):_0x15e954[_0x341ae0(0x6a1)]!==undefined?_0x15e954['innerText']:_0x15e954[_0x341ae0(0x195)]||'',_0x1e3e67=(_0x5a4983,_0x479dbb)=>{const _0x213c03=_0x341ae0;if(_0x213c03(0x800)in _0x5a4983){_0x5a4983[_0x213c03(0x800)]=_0x479dbb;return;}if(_0x5a4983[_0x213c03(0x82d)]&&_0x5a4983['querySelector'](_0x213c03(0x2d8)))return;if(_0x5a4983[_0x213c03(0x6a1)]!==undefined)_0x5a4983['innerText']=_0x479dbb;else _0x5a4983[_0x213c03(0x195)]=_0x479dbb;},_0xead2d9=_0x9397bf=>_0x9397bf[_0x341ae0(0x16e)](/\u00A0/g,'\x20')[_0x341ae0(0x16e)](/\u200B/g,'')[_0x341ae0(0x16e)](/\r\n?/g,'\x0a'),_0x17812a=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3e4027=_0x1abb43=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x1abb43),_0x5c469b=_0x3ed2e8=>{const _0x26f4df=_0x341ae0,_0x49bc6a=(_0x3ed2e8[_0x26f4df(0x5fb)](/\{/g)||[])[_0x26f4df(0x2c4)],_0x28d129=(_0x3ed2e8[_0x26f4df(0x5fb)](/\}/g)||[])[_0x26f4df(0x2c4)];if(_0x49bc6a>_0x28d129)_0x3ed2e8=_0x3ed2e8+'}'[_0x26f4df(0x409)](_0x49bc6a-_0x28d129);return _0x3ed2e8;},_0x5ea089=_0x41db79=>{const _0x2061e3=_0x341ae0;let _0x38e9b4=_0x41db79[_0x2061e3(0xb9)]();const _0x25366e=[_0x2061e3(0x3f1),_0x2061e3(0x5e4),_0x2061e3(0x6c7),'sqrt',_0x2061e3(0xff),_0x2061e3(0x56f),_0x2061e3(0x2f0),_0x2061e3(0x3c0),_0x2061e3(0x193),_0x2061e3(0x2ce),'le','ge',_0x2061e3(0x449),'pm',_0x2061e3(0x2dc),_0x2061e3(0x36c),_0x2061e3(0x2b1),_0x2061e3(0x7b2),_0x2061e3(0x1ef),'ln',_0x2061e3(0xbb),_0x2061e3(0x503),_0x2061e3(0x496),'left',_0x2061e3(0x226),_0x2061e3(0x1c7),_0x2061e3(0x719),_0x2061e3(0x757),_0x2061e3(0x3a9)];_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](new RegExp(_0x2061e3(0x440)+_0x25366e[_0x2061e3(0x243)]('|')+')\x5cb)','g'),'\x5c'),_0x25366e[_0x2061e3(0x450)](_0x5e29b8=>{const _0x199d53=_0x2061e3;_0x38e9b4=_0x38e9b4[_0x199d53(0x16e)](new RegExp(_0x199d53(0x14c)+_0x5e29b8+'\x5cb','g'),(_0x23e865,_0x53dacb)=>_0x53dacb+'\x5c'+_0x5e29b8);});const _0x42bb6c=[[/×/g,_0x2061e3(0x898)],[/·/g,_0x2061e3(0x2eb)],[/÷/g,_0x2061e3(0x764)],[/≤/g,_0x2061e3(0x43f)],[/≥/g,_0x2061e3(0x1b4)],[/≠/g,_0x2061e3(0x7f3)],[/±/g,_0x2061e3(0x20c)],[/∑/g,_0x2061e3(0x558)],[/−/g,'-']];_0x42bb6c[_0x2061e3(0x450)](([_0x1e89a1,_0x5df6f5])=>{const _0xa6dbe4=_0x2061e3;_0x38e9b4=_0x38e9b4[_0xa6dbe4(0x16e)](_0x1e89a1,_0x5df6f5);}),_0x38e9b4=_0x38e9b4['replace'](/√\s*\(([^)]*)\)/g,_0x2061e3(0x5bc)),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/√\s*([A-Za-z0-9]+)/g,_0x2061e3(0x5bc)),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/(^|[^\\])\bimes\b/g,_0x2061e3(0x362))[_0x2061e3(0x16e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2061e3(0x493))['replace'](/(^|[^\\])ext\{/g,_0x2061e3(0x56d))['replace'](/(^|[^\\])ext\(/g,_0x2061e3(0x4b5))[_0x2061e3(0x16e)](/\\text\(([^)]*)\)/g,_0x2061e3(0x877))[_0x2061e3(0x16e)](/\s\\frac/g,_0x2061e3(0x29d)),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x2630dc,_0x3eada7,_0x20c5e7,_0x526900)=>_0x3eada7+_0x2061e3(0x61a)+_0x20c5e7+'}{'+_0x526900+'}'),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x2061e3(0x16e)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2061e3(0xed))[_0x2061e3(0x16e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2061e3(0x171)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2061e3(0x171)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2061e3(0x171)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2061e3(0x171)],[/(\d+)\s*°\s*C/g,_0x2061e3(0x171)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x2061e3(0x714)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2061e3(0x171)]][_0x2061e3(0x450)](([_0x35b96a,_0x475c6d])=>{const _0x5e2dc7=_0x2061e3;_0x38e9b4=_0x38e9b4[_0x5e2dc7(0x16e)](_0x35b96a,_0x475c6d);}),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/(\d+)\s*%/g,_0x2061e3(0x2ee)),_0x38e9b4=_0x38e9b4[_0x2061e3(0x16e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2061e3(0x3e2))[_0x2061e3(0x16e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2061e3(0x21a))[_0x2061e3(0x16e)](/\{\{([^\{\}]+)\}\}/g,_0x2061e3(0x341)),[_0x2061e3(0x36c),_0x2061e3(0x2b1),_0x2061e3(0x7b2),'log','ln'][_0x2061e3(0x450)](_0x1e92a4=>{const _0x24d42e=_0x2061e3;_0x38e9b4=_0x38e9b4[_0x24d42e(0x16e)](new RegExp(_0x24d42e(0x14c)+_0x1e92a4+_0x24d42e(0x11c),'g'),(_0x1b1085,_0x22dca2)=>_0x22dca2+'\x5c'+_0x1e92a4+'(');});const _0x10250b=(_0x38e9b4[_0x2061e3(0x5fb)](/\\left\b/g)||[])['length'],_0x1c8e77=(_0x38e9b4['match'](/\\right\b/g)||[])[_0x2061e3(0x2c4)];if(_0x10250b!==_0x1c8e77)_0x38e9b4=_0x38e9b4['replace'](/\\left\b/g,'')[_0x2061e3(0x16e)](/\\right\b/g,'');return _0x38e9b4=_0x5c469b(_0x38e9b4),_0x38e9b4;},_0x389aee=_0x87db72=>{const _0x4bd5ba=_0x341ae0;if(/\$|\\\(|\\\[/['test'](_0x87db72))return _0x87db72;if(!_0x17812a[_0x4bd5ba(0x55e)](_0x87db72))return _0x87db72;const _0x2e9a5c=_0x87db72[_0x4bd5ba(0x5fb)](/^\s*/)[0x0],_0x10a541=_0x87db72['match'](/\s*$/)[0x0],_0x23bc59=_0x87db72[_0x4bd5ba(0xb9)]();return _0x2e9a5c+'$'+_0x5ea089(_0x23bc59)+'$'+_0x10a541;},_0x276f65=_0x1f99be=>_0x1f99be[_0x341ae0(0x645)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x4afe17[_0x341ae0(0x450)](_0x1f9017=>{const _0x404019=_0x341ae0;if(_0x1f9017[_0x404019(0x82d)]&&_0x1f9017[_0x404019(0x82d)](_0x404019(0x2d8)))return;const _0x454c87=_0x29e0ad(_0x1f9017);let _0x6c5dc3=_0xead2d9(_0x454c87);_0x6c5dc3=_0x6c5dc3[_0x404019(0x16e)](/\$\$([\s\S]*?)\$\$/g,(_0xb901f6,_0x948d9f)=>'$$'+_0x5ea089(_0x948d9f)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x4c5d7b,_0x519c4e)=>'$'+_0x5ea089(_0x519c4e)+'$')[_0x404019(0x16e)](/\\\(([\s\S]*?)\\\)/g,(_0xb419fe,_0xc972ac)=>'\x5c('+_0x5ea089(_0xc972ac)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x310e77,_0x217a7b)=>'\x5c['+_0x5ea089(_0x217a7b)+'\x5c]');let _0xc2c308=_0x6c5dc3,_0x2e2679=0x0;const _0x337aaf=_0x5d6481=>_0x5d6481['replace'](/S([^S]{0,2000}?)S/g,(_0x2dee28,_0x18548d)=>_0x17812a[_0x404019(0x55e)](_0x18548d)?'$'+_0x5ea089(_0x18548d)+'$':_0x2dee28);while(_0x2e2679++<0x14){const _0x2ae4a6=_0x337aaf(_0xc2c308);if(_0x2ae4a6===_0xc2c308)break;_0xc2c308=_0x2ae4a6;}_0x6c5dc3=_0xc2c308,_0x6c5dc3=_0x6c5dc3[_0x404019(0x645)]('\x0a')[_0x404019(0x535)](_0x2205da=>{const _0x39ed72=_0x404019;if(!(/[,\u3001，;；]/[_0x39ed72(0x55e)](_0x2205da)||/\s(?:และ|หรือ)\s/['test'](_0x2205da))||!_0x17812a[_0x39ed72(0x55e)](_0x2205da))return _0x2205da;return _0x276f65(_0x2205da)[_0x39ed72(0x535)](_0x363051=>{const _0x3f1321=_0x39ed72;if(/^\s(?:และ|หรือ)\s$/[_0x3f1321(0x55e)](_0x363051)||/^[,\u3001，;；]$/[_0x3f1321(0x55e)](_0x363051))return _0x363051;return _0x389aee(_0x363051);})[_0x39ed72(0x243)]('');})['join']('\x0a'),_0x6c5dc3=_0x6c5dc3[_0x404019(0x645)]('\x0a')['map'](_0x58b79f=>{const _0x3a2058=_0x404019,_0x59a03e=_0x58b79f[_0x3a2058(0xb9)]();if(!_0x59a03e)return _0x58b79f;const _0x471997=/\$|\\\(|\\\[/[_0x3a2058(0x55e)](_0x59a03e),_0x16170a=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x59a03e);if(_0x471997||!_0x16170a||_0x3e4027(_0x59a03e))return _0x58b79f;return _0x58b79f[_0x3a2058(0x16e)](_0x59a03e,'$'+_0x5ea089(_0x59a03e)+'$');})[_0x404019(0x243)]('\x0a'),_0x6c5dc3=_0x6c5dc3['replace'](/(\d+)\s*°\s*C\b/g,(_0x326a09,_0xef0706,_0xf5c0af,_0x68971e)=>{const _0x565739=_0x68971e[_0xf5c0af-0x1];if(_0x565739==='$'||_0x565739==='S'||_0x565739==='\x5c')return _0x326a09;return'$'+_0xef0706+'^{\x5ccirc}\x5ctext{C}$';})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5e4dd7,_0x177e99,_0x444588,_0x3b7632)=>{const _0x1a7748=_0x404019,_0x8daa3e=_0x3b7632[_0x444588-0x1];if(_0x8daa3e==='$'||_0x8daa3e==='S'||_0x8daa3e==='\x5c')return _0x5e4dd7;return'$'+_0x177e99+_0x1a7748(0x219);})[_0x404019(0x16e)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x22268a,_0x54ea34,_0x5090ff,_0x1a71fc)=>{const _0x532eae=_0x1a71fc[_0x5090ff-0x1];if(_0x532eae==='$'||_0x532eae==='S'||_0x532eae==='\x5c')return _0x22268a;return'$'+_0x54ea34+'^{\x5ccirc}\x5ctext{C}$';}),_0x6c5dc3=_0x6c5dc3[_0x404019(0x16e)](/\$\s*\$/g,'$$'),_0x6c5dc3!==_0x454c87&&(_0x1e3e67(_0x1f9017,_0x6c5dc3),_0x4f7402++);});if(_0x4f7402>0x0){showMessage(_0x341ae0(0x70e)+_0x4f7402+_0x341ae0(0x5c1));try{if(window[_0x341ae0(0x691)]&&MathJax[_0x341ae0(0xa6)])MathJax[_0x341ae0(0xa6)]();window[_0x341ae0(0x4e7)]&&typeof renderMathInElement===_0x341ae0(0x896)&&renderMathInElement(_0x3c95bf,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2ac180){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x5d90f9=_0x597754,_0x26004c=collection(db,_0x5d90f9(0x4cb)+appId+_0x5d90f9(0x512));onSnapshot(_0x26004c,_0x35d84d=>{const _0x1d0790=_0x5d90f9;customMathTopics=_0x35d84d['docs']['map'](_0x48ee05=>({'id':_0x48ee05['id'],..._0x48ee05[_0x1d0790(0x324)]()})),renderTopicCheckboxes();},_0x15f5ad=>{const _0x4a51cd=_0x5d90f9;console[_0x4a51cd(0x5dc)](_0x4a51cd(0x7c0),_0x15f5ad);});}function handleSelectAllTopics(){const _0x2d8670=_0x597754,_0x4d4320=document[_0x2d8670(0x596)](_0x2d8670(0x752)),_0x364d83=_0x4d4320['querySelectorAll'](_0x2d8670(0x776));_0x364d83[_0x2d8670(0x450)](_0x6ec25a=>{const _0x3bf4ef=_0x2d8670;_0x6ec25a[_0x3bf4ef(0x7a4)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x256986=_0x597754,_0x291be1=document[_0x256986(0x596)](_0x256986(0x752)),_0x5b3810=_0x291be1[_0x256986(0x5f5)](_0x256986(0x776));_0x5b3810[_0x256986(0x450)](_0x63d163=>{_0x63d163['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x22caf2){const _0x285499=_0x597754;if(!_0x22caf2)return;try{const _0x4c17a4=doc(db,_0x285499(0x4cb)+appId+_0x285499(0x512),_0x22caf2);await deleteDoc(_0x4c17a4),showMessage(_0x285499(0x2a2));}catch(_0x3fd56d){console[_0x285499(0x5dc)]('Error\x20deleting\x20custom\x20topic:',_0x3fd56d),showMessage(_0x285499(0x57a));}}async function handleAddCustomMathTopic(){const _0x749fe7=_0x597754,_0x6c31f6=document[_0x749fe7(0x596)](_0x749fe7(0x48a)),_0x237179=_0x6c31f6[_0x749fe7(0x800)][_0x749fe7(0xb9)]();if(!_0x237179){showMessage(_0x749fe7(0x4a8));return;}if(!userId){showMessage(_0x749fe7(0x681));return;}try{const _0x100872=collection(db,_0x749fe7(0x4cb)+appId+_0x749fe7(0x512));await addDoc(_0x100872,{'name':_0x237179,'createdAt':serverTimestamp()}),_0x6c31f6['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x237179+_0x749fe7(0x2ba));}catch(_0x95ba27){console[_0x749fe7(0x5dc)](_0x749fe7(0x71d),_0x95ba27),showMessage(_0x749fe7(0x7dc));}}async function handleUpdateOldQuizzes(){const _0x3b3af1=_0x597754;showConfirmation(_0x3b3af1(0x3e8),async()=>{const _0x519d73=_0x3b3af1,_0x7b95b6=document['getElementById']('loader'),_0x1c1249=document['getElementById'](_0x519d73(0x44e)),_0x559633=_0x1c1249['textContent'];_0x7b95b6[_0x519d73(0x79b)][_0x519d73(0x76b)](_0x519d73(0x702)),_0x1c1249['textContent']=_0x519d73(0x494);try{const _0x447ab4=collection(db,_0x519d73(0x4cb)+appId+'/public/data/quizzes'),_0x2d7244=await getDocs(_0x447ab4);if(_0x2d7244[_0x519d73(0x581)]){showMessage(_0x519d73(0x846));return;}const _0x4a62f3=writeBatch(db);let _0x1b1dee=0x0;_0x2d7244['forEach'](_0x1d8ce5=>{const _0x4a9185=_0x519d73,_0x234233=_0x1d8ce5['data'](),_0x2ec373=_0x1d8ce5['id'];if(_0x234233['questions']&&_0x234233['questions'][_0x4a9185(0x2c4)]>0x0&&!_0x234233[_0x4a9185(0x2e8)][0x0][_0x4a9185(0x692)]('id')){console[_0x4a9185(0x1ef)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x2ec373+'\x20('+_0x234233[_0x4a9185(0x231)]+')'),_0x1b1dee++;const _0x3f6591=_0x234233[_0x4a9185(0x2e8)][_0x4a9185(0x535)]((_0x5e94bd,_0x2b2a8e)=>{return{..._0x5e94bd,'id':_0x5e94bd['id']||'q_'+Date['now']()+'_'+_0x2ec373+'_'+_0x2b2a8e};}),_0x18c079=doc(db,_0x4a9185(0x4cb)+appId+_0x4a9185(0x1be),_0x2ec373);_0x4a62f3[_0x4a9185(0xef)](_0x18c079,{'questions':_0x3f6591});}}),_0x1b1dee>0x0?(_0x1c1249[_0x519d73(0x195)]=_0x519d73(0x1ab)+_0x1b1dee+_0x519d73(0x1e5),await _0x4a62f3[_0x519d73(0xca)](),showMessage(_0x519d73(0x85a)+_0x1b1dee+_0x519d73(0x28a))):showMessage(_0x519d73(0x438));}catch(_0x32a7ed){console[_0x519d73(0x5dc)](_0x519d73(0x9e),_0x32a7ed),showMessage(_0x519d73(0x5d4)+_0x32a7ed[_0x519d73(0x6b9)]);}finally{_0x7b95b6['classList']['add'](_0x519d73(0x702)),_0x1c1249['textContent']=_0x559633;}});}async function handleBulkUpdateQuizSettings(){const _0x447a5b=_0x597754,_0x139243={'shuffle':document['getElementById'](_0x447a5b(0xac))[_0x447a5b(0x800)],'resultsDisplay':document['getElementById'](_0x447a5b(0x3bd))[_0x447a5b(0x800)],'loopUntilPass':document[_0x447a5b(0x596)]('bulk-loop-until-pass-checkbox')[_0x447a5b(0x7a4)]},_0x1383a1=allQuizzesGlobal[_0x447a5b(0x2c4)];showConfirmation(_0x447a5b(0x163)+_0x1383a1+_0x447a5b(0x3af),async()=>{const _0x39fba0=_0x447a5b,_0x34af67=document['getElementById'](_0x39fba0(0xd3));_0x34af67[_0x39fba0(0x64a)]=!![],_0x34af67['innerHTML']=_0x39fba0(0x2c7);try{const _0x58b580=writeBatch(db);allQuizzesGlobal[_0x39fba0(0x450)](_0x14a3d7=>{const _0x20711e=_0x39fba0,_0x3e2a2c=doc(db,'artifacts/'+appId+_0x20711e(0x1be),_0x14a3d7['id']),_0x548dd8={..._0x14a3d7['settings']||{},..._0x139243};_0x58b580[_0x20711e(0xef)](_0x3e2a2c,{'settings':_0x548dd8});}),await _0x58b580[_0x39fba0(0xca)](),document[_0x39fba0(0x596)](_0x39fba0(0x363))[_0x39fba0(0x79b)][_0x39fba0(0x635)](_0x39fba0(0x702)),showMessage(_0x39fba0(0x323)+_0x1383a1+'\x20ชุดสำเร็จ!');}catch(_0x49faee){console[_0x39fba0(0x5dc)](_0x39fba0(0x523),_0x49faee),showMessage(_0x39fba0(0x590));}finally{_0x34af67['disabled']=![],_0x34af67['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x1a292f=_0x597754,_0x3eac87=document[_0x1a292f(0x596)](_0x1a292f(0x21b)),_0x490c16=document['getElementById'](_0x1a292f(0x2fe)),_0xda047a=_0x3eac87['textContent']['trim']();if(!_0xda047a||!currentProjectId){showMessage(_0x1a292f(0x2d1)),_0x3eac87['textContent']=currentProjectData[_0x1a292f(0x6e8)];return;}_0x490c16['disabled']=!![],_0x490c16[_0x1a292f(0x8a2)]=_0x1a292f(0x174);try{const _0x322b15=doc(db,_0x1a292f(0x4cb)+appId+_0x1a292f(0x6bf),currentProjectId);await updateDoc(_0x322b15,{'projectName':_0xda047a}),currentProjectData&&(currentProjectData[_0x1a292f(0x6e8)]=_0xda047a),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x398d36){console['error'](_0x1a292f(0x19e),_0x398d36),showMessage(_0x1a292f(0x1a0)),_0x3eac87[_0x1a292f(0x195)]=currentProjectData[_0x1a292f(0x6e8)];}finally{_0x490c16[_0x1a292f(0x79b)][_0x1a292f(0x635)](_0x1a292f(0x702)),_0x490c16[_0x1a292f(0x64a)]=![],_0x490c16['innerHTML']=_0x1a292f(0xcf);}}async function initialize(){const _0x1f258a=_0x597754;try{const _0x273d37=initializeApp(firebaseConfig);db=getFirestore(_0x273d37),auth=getAuth(_0x273d37),setupAuthListener(),setupEventListeners(),showView(_0x1f258a(0x21d)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x2cd0c1){console[_0x1f258a(0x5dc)](_0x1f258a(0x5de),_0x2cd0c1),showMessage(_0x1f258a(0x333));}}async function handleVerifyAnswersInEditor(){const _0x1c4f13=_0x597754,_0x40d49b=document['getElementById'](_0x1c4f13(0x3eb));if(!_0x40d49b)return;const _0x4c95b9=document[_0x1c4f13(0x596)](_0x1c4f13(0x5d7));_0x4c95b9['disabled']=!![],_0x4c95b9[_0x1c4f13(0x8a2)]=_0x1c4f13(0x4d5);try{const _0x3799a3=_0x40d49b[_0x1c4f13(0x5f5)]('.question-editor-item'),_0x2b7bc0=Array[_0x1c4f13(0x483)](_0x3799a3)['map']((_0x4a72d5,_0x195f82)=>{const _0x5a2255=_0x1c4f13,_0xc01f6c=_0x4a72d5['dataset'][_0x5a2255(0x52e)],_0x8f4548=_0x4a72d5['querySelector'](_0x5a2255(0x64c))[_0x5a2255(0x800)];let _0x135670=null,_0x15a5d1='';switch(_0xc01f6c){case _0x5a2255(0x666):const _0x156340=_0x4a72d5[_0x5a2255(0x5f5)]('input[type=\x22text\x22]');_0x135670=Array[_0x5a2255(0x483)](_0x156340)[_0x5a2255(0x535)](_0xe21401=>_0xe21401[_0x5a2255(0x800)]);const _0x4a909a=_0x4a72d5[_0x5a2255(0x82d)](_0x5a2255(0x374));_0x4a909a&&(_0x15a5d1=_0x135670[parseInt(_0x4a909a[_0x5a2255(0x800)])]);break;case _0x5a2255(0x3df):_0x15a5d1=_0x4a72d5[_0x5a2255(0x82d)]('.ideal-answer-input')['value'];break;case'true_false':const _0x230b7a=_0x4a72d5[_0x5a2255(0x82d)](_0x5a2255(0x374));_0x15a5d1=_0x230b7a?_0x230b7a[_0x5a2255(0x800)]:'';break;case _0x5a2255(0x1f0):_0x15a5d1=_0x4a72d5[_0x5a2255(0x82d)](_0x5a2255(0x410))[_0x5a2255(0x800)];break;}return{'question':_0x8f4548,'options':_0x135670,'proposedAnswer':_0x15a5d1};}),_0x38404e=_0x1c4f13(0x159)+JSON[_0x1c4f13(0x14a)](_0x2b7bc0)+_0x1c4f13(0xdf),_0x24374a={'type':'ARRAY','items':{'type':_0x1c4f13(0x415),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1c4f13(0x62b)},'justification':{'type':_0x1c4f13(0x526)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1c4f13(0x3bf),_0x1c4f13(0x677),_0x1c4f13(0x541)]}},_0x1b2a75=await callAnalysisApi(_0x38404e,{'type':_0x1c4f13(0x415),'properties':{'result':_0x24374a},'required':[_0x1c4f13(0x56a)]});displayVerificationResultsInEditor(_0x1b2a75['result']);}catch(_0x36158f){console[_0x1c4f13(0x5dc)](_0x1c4f13(0x44d),_0x36158f),showMessage(_0x1c4f13(0x3d3));}finally{_0x4c95b9['disabled']=![],_0x4c95b9[_0x1c4f13(0x8a2)]=_0x1c4f13(0x599);}}function displayVerificationResultsInEditor(_0x547db2){const _0x5bcc37=_0x597754;_0x547db2[_0x5bcc37(0x450)](_0x4534f5=>{const _0x2dca4d=_0x5bcc37,_0x1abd40=document['querySelector'](_0x2dca4d(0x52f)+_0x4534f5[_0x2dca4d(0x3bf)]+'\x22]');if(_0x1abd40){const _0x52abb1=_0x1abd40[_0x2dca4d(0x82d)]('.verification-result-editor');if(_0x52abb1)_0x52abb1['remove']();let _0x531f99='';_0x4534f5[_0x2dca4d(0x677)]?_0x531f99=_0x2dca4d(0x4fc):_0x531f99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x4534f5['justification']+_0x2dca4d(0x67d)+(_0x4534f5['suggestedAnswer']?_0x2dca4d(0x1d1)+_0x4534f5[_0x2dca4d(0x5b2)]+_0x2dca4d(0x3f8):'')+_0x2dca4d(0x6cb),_0x1abd40[_0x2dca4d(0x200)](_0x2dca4d(0x7fa),_0x531f99);}}),showMessage(_0x5bcc37(0x64d));}async function handleVerifyAnswers(){const _0x8e1a6f=_0x597754;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x8e1a6f(0x47d));return;}const _0x562b57=document[_0x8e1a6f(0x596)](_0x8e1a6f(0x6d3));_0x562b57['disabled']=!![],_0x562b57[_0x8e1a6f(0x8a2)]=_0x8e1a6f(0x4d5);try{const _0x52dfd6=currentQuizData[_0x8e1a6f(0x2e8)][_0x8e1a6f(0x535)]((_0x39648c,_0x158c04)=>{const _0x508081=_0x8e1a6f;let _0x57a81b='';const _0x2eb75d=_0x39648c[_0x508081(0x5cd)]||currentQuizData['quizType'];switch(_0x2eb75d){case _0x508081(0x666):_0x57a81b=_0x39648c['options'][_0x39648c['correctAnswerIndex']];break;case _0x508081(0x3df):_0x57a81b=_0x39648c['idealAnswer'];break;case _0x508081(0x6ae):_0x57a81b=_0x39648c[_0x508081(0x5d9)][_0x508081(0x6db)]();break;case _0x508081(0x1f0):_0x57a81b=_0x39648c[_0x508081(0x81a)];break;}return{'question':_0x39648c[_0x508081(0x607)]||_0x39648c[_0x508081(0x465)],'options':_0x39648c[_0x508081(0x730)]||null,'proposedAnswer':_0x57a81b};}),_0x440832=_0x8e1a6f(0x5d0)+JSON['stringify'](_0x52dfd6)+_0x8e1a6f(0x3b7),_0x2be273={'type':_0x8e1a6f(0x270),'items':{'type':_0x8e1a6f(0x415),'properties':{'questionIndex':{'type':_0x8e1a6f(0x882)},'isCorrect':{'type':_0x8e1a6f(0x62b)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x8e1a6f(0x526)}},'required':['questionIndex',_0x8e1a6f(0x677),_0x8e1a6f(0x541)]}},_0x173200=await callAnalysisApi(_0x440832,{'type':_0x8e1a6f(0x415),'properties':{'result':_0x2be273},'required':[_0x8e1a6f(0x56a)]});displayVerificationResults(_0x173200['result']);}catch(_0x13a624){console[_0x8e1a6f(0x5dc)](_0x8e1a6f(0x6df),_0x13a624),showMessage(_0x8e1a6f(0x3d3));}finally{_0x562b57[_0x8e1a6f(0x64a)]=![],_0x562b57[_0x8e1a6f(0x8a2)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x521dc7){const _0xce034e=_0x597754;_0x521dc7[_0xce034e(0x450)](_0x2f5f09=>{const _0x218975=_0xce034e,_0x284cf8=document[_0x218975(0x82d)](_0x218975(0x4dd)+_0x2f5f09[_0x218975(0x3bf)]+'\x22]');if(_0x284cf8){const _0x340dc5=_0x284cf8[_0x218975(0x82d)](_0x218975(0x660));if(_0x340dc5)_0x340dc5[_0x218975(0x76b)]();let _0x41af85='';_0x2f5f09[_0x218975(0x677)]?_0x41af85=_0x218975(0x4c6):_0x41af85=_0x218975(0x6b1)+_0x2f5f09[_0x218975(0x541)]+_0x218975(0x67d)+(_0x2f5f09[_0x218975(0x5b2)]?_0x218975(0x1d1)+_0x2f5f09[_0x218975(0x5b2)]+_0x218975(0x3f8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x284cf8[_0x218975(0x200)](_0x218975(0x7fa),_0x41af85);}}),showMessage(_0xce034e(0x64d));}function compareNumericalAnswers(_0x5157ed,_0x4d6dbc){const _0x17ae59=_0x597754,_0x161866=String(_0x5157ed)[_0x17ae59(0x16e)](',','.')[_0x17ae59(0x16e)](/[^\d.-]/g,'')[_0x17ae59(0xb9)](),_0x2d5cf6=String(_0x4d6dbc)[_0x17ae59(0x16e)](',','.')['replace'](/[^\d.-]/g,'')[_0x17ae59(0xb9)]();if(_0x161866===''||_0x2d5cf6==='')return![];const _0x5133b4=parseFloat(_0x161866),_0x1c79f7=parseFloat(_0x2d5cf6);if(isNaN(_0x5133b4)||isNaN(_0x1c79f7))return![];return Math[_0x17ae59(0x31f)](_0x5133b4-_0x1c79f7)<0.001;}async function gradeShortAnswer(_0x411aa7,_0x298f55){const _0x4d1043=_0x597754,_0x19bebd=_0x298f55[_0x4d1043(0x3d1)];if(String(_0x411aa7)[_0x4d1043(0xb9)]()[_0x4d1043(0x7e1)]()===String(_0x19bebd)[_0x4d1043(0xb9)]()[_0x4d1043(0x7e1)]())return!![];if(compareNumericalAnswers(_0x411aa7,_0x19bebd))return!![];return console[_0x4d1043(0x1ef)](_0x4d1043(0x33a)),await gradeShortAnswerWithAI(_0x411aa7,_0x19bebd);}async function revealAnswerForAdmin(_0x50dfd1,_0x42d51f){const _0x4a77c4=_0x597754,_0x5bcdb7=doc(db,_0x4a77c4(0x4cb)+appId+_0x4a77c4(0x5fe),currentLiveGameId);await updateDoc(_0x5bcdb7,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x4b8d9c){const _0x1bddaa=_0x597754,_0x3aa2c0=Object[_0x1bddaa(0x3b1)](_0x4b8d9c['players']||{})[_0x1bddaa(0x534)](_0x581cc8=>_0x581cc8['status']===_0x1bddaa(0x164));_0x3aa2c0[_0x1bddaa(0x60d)]((_0x269449,_0x6d7b2d)=>_0x6d7b2d[_0x1bddaa(0x869)]-_0x269449[_0x1bddaa(0x869)]);const _0x25fb1b=_0x3aa2c0[_0x1bddaa(0x39b)](0x0,0x5),_0x2dfd26=_0x1bddaa(0x3d6)+_0x25fb1b[_0x1bddaa(0x535)]((_0x381a44,_0x335c8d)=>_0x1bddaa(0x134)+(_0x335c8d+0x1)+'.\x20'+(_0x381a44[_0x1bddaa(0x452)]||Object[_0x1bddaa(0x55b)](_0x4b8d9c[_0x1bddaa(0x23d)])['find'](_0x42e9b7=>_0x4b8d9c[_0x1bddaa(0x23d)][_0x42e9b7]===_0x381a44))+_0x1bddaa(0x218)+_0x381a44[_0x1bddaa(0x869)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x1bddaa(0x359)+(_0x4b8d9c[_0x1bddaa(0xfd)]+0x1===currentQuizData[_0x1bddaa(0x2e8)]['length']?_0x1bddaa(0x676):_0x1bddaa(0x538))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x2dfd26,document[_0x1bddaa(0x596)](_0x1bddaa(0x778))['addEventListener'](_0x1bddaa(0x30c),async()=>{const _0x42ad7c=_0x1bddaa,_0x27b738=doc(db,_0x42ad7c(0x4cb)+appId+'/public/data/liveGames',currentLiveGameId),_0x2030e2=_0x4b8d9c[_0x42ad7c(0xfd)]+0x1;if(_0x2030e2<currentQuizData[_0x42ad7c(0x2e8)]['length']){const _0x32f63d={'currentQuestionIndex':_0x2030e2,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x42ad7c(0x55b)](_0x4b8d9c[_0x42ad7c(0x23d)])[_0x42ad7c(0x450)](_0x501a74=>{const _0x469a51=_0x42ad7c;_0x32f63d[_0x469a51(0x7a9)+_0x501a74+_0x469a51(0x606)]=![];}),await updateDoc(_0x27b738,_0x32f63d);}else await updateDoc(_0x27b738,{'status':_0x42ad7c(0x8b6)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2a3e89=>{const _0x3716d3=_0x512c;if(_0x2a3e89){userId=_0x2a3e89['uid'],userIdDisplay[_0x3716d3(0x195)]=userId;const _0x64ba0d=await loadUserPreferences();_0x64ba0d[_0x3716d3(0x531)]&&(document[_0x3716d3(0x596)](_0x3716d3(0x1bb))[_0x3716d3(0x800)]=_0x64ba0d[_0x3716d3(0x531)]);globalDashboardSettings[_0x3716d3(0x1cf)]=_0x64ba0d['projectView']||_0x3716d3(0x245);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0xb12ec,_0x24ca3b){const _0x41a67a=_0x597754;if(!userId)return;try{const _0x47a34c=doc(db,_0x41a67a(0x4cb)+appId+_0x41a67a(0x466)+userId+_0x41a67a(0x242)),_0x170b7a={};_0x170b7a[_0xb12ec]=_0x24ca3b,await setDoc(_0x47a34c,_0x170b7a,{'merge':!![]});}catch(_0x3e4478){console[_0x41a67a(0x5dc)](_0x41a67a(0x717),_0x3e4478);}}async function loadUserPreferences(){const _0x567379=_0x597754;if(!userId)return{};try{const _0x4f6ad2=doc(db,_0x567379(0x4cb)+appId+_0x567379(0x466)+userId+'/preferences/main'),_0x20cde7=await getDoc(_0x4f6ad2);if(_0x20cde7[_0x567379(0x484)]())return _0x20cde7['data']();return{};}catch(_0x15dace){return console[_0x567379(0x5dc)](_0x567379(0x52b),_0x15dace),{};}}function showPodiumView(_0x183b37){const _0x10a46a=_0x597754,_0x56cae8=Object[_0x10a46a(0x102)](_0x183b37)[_0x10a46a(0x535)](([_0x4f212a,_0x28eebc])=>({'name':_0x4f212a,'score':_0x28eebc[_0x10a46a(0x869)]||0x0,'badges':_0x28eebc['badges']||[]}));_0x56cae8[_0x10a46a(0x60d)]((_0x19238f,_0x140257)=>{const _0x4011a1=_0x10a46a,_0x69c9d1=_0x140257[_0x4011a1(0x869)]-_0x19238f[_0x4011a1(0x869)];if(_0x69c9d1!==0x0)return _0x69c9d1;return(_0x140257[_0x4011a1(0x67e)]['length']||0x0)-(_0x19238f[_0x4011a1(0x67e)][_0x4011a1(0x2c4)]||0x0);});const _0x2dfef4=_0x12dd37=>{const _0x5e4699=_0x10a46a;if(!_0x12dd37||_0x12dd37[_0x5e4699(0x2c4)]===0x0)return'';const _0x5ac4f9={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5e4699(0x853)+_0x12dd37['map'](_0x164a7b=>_0x5ac4f9[_0x164a7b]||'')[_0x5e4699(0x243)]('')+'</div>';},_0x3f18d7=_0x56cae8['slice'](0x3),_0x554eeb=_0x3f18d7[_0x10a46a(0x2c4)]>0x0?_0x10a46a(0x13b)+_0x3f18d7[_0x10a46a(0x535)]((_0x102b97,_0x48bc1f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x48bc1f+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x102b97[_0x10a46a(0x452)]+_0x10a46a(0x296)+_0x102b97[_0x10a46a(0x869)]+_0x10a46a(0x67c))['join']('')+_0x10a46a(0x353):'',_0x3d8059='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x56cae8[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x56cae8[0x1][_0x10a46a(0x452)]+_0x10a46a(0x57c)+_0x2dfef4(_0x56cae8[0x1][_0x10a46a(0x67e)])+_0x10a46a(0x7e3)+_0x56cae8[0x1]['score']+_0x10a46a(0x118):_0x10a46a(0x1dc))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x56cae8[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x56cae8[0x0]['name']+_0x10a46a(0x57c)+_0x2dfef4(_0x56cae8[0x0][_0x10a46a(0x67e)])+_0x10a46a(0x457)+_0x56cae8[0x0][_0x10a46a(0x869)]+_0x10a46a(0x4f7):_0x10a46a(0x1dc))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x56cae8[0x2]?_0x10a46a(0x743)+_0x56cae8[0x2][_0x10a46a(0x452)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dfef4(_0x56cae8[0x2][_0x10a46a(0x67e)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x56cae8[0x2][_0x10a46a(0x869)]+_0x10a46a(0x419):'<div\x20class=\x22flex-1\x22></div>')+_0x10a46a(0x68b)+_0x554eeb+_0x10a46a(0x68d)+(currentMode===_0x10a46a(0x70b)?_0x10a46a(0x4e9):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x10a46a(0x851);liveGameView[_0x10a46a(0x8a2)]=_0x3d8059,currentMode===_0x10a46a(0x70b)&&document[_0x10a46a(0x596)]('close-game-final-btn')[_0x10a46a(0x893)](_0x10a46a(0x30c),async()=>{const _0x53d7f3=_0x10a46a,_0x285c0c=doc(db,_0x53d7f3(0x4cb)+appId+_0x53d7f3(0x5fe),currentLiveGameId);await deleteDoc(_0x285c0c),showView(_0x53d7f3(0x261));});}async function handleStartLiveRace(_0x1bc206){const _0x297ec8=_0x597754;let _0x39c245=allQuizzes[_0x297ec8(0x84c)](_0x1be83a=>_0x1be83a['id']===_0x1bc206);if(!_0x39c245){const _0xa6a8aa=doc(db,_0x297ec8(0x4cb)+appId+_0x297ec8(0x1be),_0x1bc206),_0x3c3630=await getDoc(_0xa6a8aa);if(!_0x3c3630[_0x297ec8(0x484)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x39c245={'id':_0x3c3630['id'],..._0x3c3630[_0x297ec8(0x324)]()};}const _0x106766=getShuffledQuiz(_0x39c245);currentQuizData=_0x106766;const _0x34cdde=_0x39c245['projectId']||currentProjectId||null,_0x14d30e=Math[_0x297ec8(0x718)](0x3e8+Math[_0x297ec8(0x38d)]()*0x2328)[_0x297ec8(0x6db)]();currentLiveGamePin=_0x14d30e;try{const _0x1a72ac=await addDoc(collection(db,_0x297ec8(0x4cb)+appId+_0x297ec8(0x5fe)),{'quizId':_0x1bc206,'projectId':_0x34cdde,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x14d30e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x106766});currentLiveGameId=_0x1a72ac['id'],showAdminLobbyView(_0x14d30e,_0x39c245[_0x297ec8(0x231)]),listenForLiveGameUpdates();}catch(_0x40b570){console[_0x297ec8(0x5dc)](_0x297ec8(0x79a),_0x40b570),showMessage(_0x297ec8(0x708));}}async function handleShowStudentRankings(){const _0x3fdaf3=_0x597754,_0x4826c9=document[_0x3fdaf3(0x82d)](_0x3fdaf3(0x822));_0x4826c9&&(_0x4826c9[_0x3fdaf3(0x8a2)]=_0x3fdaf3(0x825));const _0x5dac7b=document[_0x3fdaf3(0x82d)](_0x3fdaf3(0x11b));_0x5dac7b&&(_0x5dac7b[_0x3fdaf3(0x8a2)]=_0x3fdaf3(0x784));const _0x49f32a=document[_0x3fdaf3(0x596)]('student-rankings-modal');_0x49f32a[_0x3fdaf3(0x79b)][_0x3fdaf3(0x76b)](_0x3fdaf3(0x702)),document[_0x3fdaf3(0x596)](_0x3fdaf3(0x280))[_0x3fdaf3(0x7ce)]=()=>_0x49f32a[_0x3fdaf3(0x79b)][_0x3fdaf3(0x635)](_0x3fdaf3(0x702));const _0x59e139=document['getElementById'](_0x3fdaf3(0x346)),_0x6ed035=document['getElementById'](_0x3fdaf3(0x7f1)),_0xf8783c=document[_0x3fdaf3(0x596)](_0x3fdaf3(0x6a4)),_0x40d676=document['getElementById']('student-project-leaderboard-content');_0x59e139['onclick']=()=>{const _0x4ea8cd=_0x3fdaf3;_0x59e139['classList'][_0x4ea8cd(0x635)](_0x4ea8cd(0x164)),_0x6ed035[_0x4ea8cd(0x79b)][_0x4ea8cd(0x76b)]('active'),_0xf8783c[_0x4ea8cd(0x79b)][_0x4ea8cd(0x76b)]('hidden'),_0x40d676[_0x4ea8cd(0x79b)][_0x4ea8cd(0x635)](_0x4ea8cd(0x702));},_0x6ed035[_0x3fdaf3(0x7ce)]=()=>{const _0x208e2f=_0x3fdaf3;_0x6ed035['classList']['add'](_0x208e2f(0x164)),_0x59e139[_0x208e2f(0x79b)][_0x208e2f(0x76b)]('active'),_0x40d676['classList'][_0x208e2f(0x76b)](_0x208e2f(0x702)),_0xf8783c[_0x208e2f(0x79b)][_0x208e2f(0x635)](_0x208e2f(0x702));};try{const _0xf7094=collection(db,_0x3fdaf3(0x4cb)+appId+_0x3fdaf3(0x33f)+currentQuizData['id']+_0x3fdaf3(0x2a8)),_0x5baf98=await getDocs(_0xf7094),_0x461509=_0x5baf98[_0x3fdaf3(0x521)]['map'](_0x2bf795=>_0x2bf795[_0x3fdaf3(0x324)]());renderQuizLeaderboard(_0x461509,currentQuizData,_0x3fdaf3(0x469));const _0x4f34b6=collection(db,_0x3fdaf3(0x4cb)+appId+'/public/data/projects/'+currentQuizData[_0x3fdaf3(0x7f2)]+'/studentProfiles'),_0x272e15=await getDocs(_0x4f34b6),_0xdf1a35=_0x272e15[_0x3fdaf3(0x521)][_0x3fdaf3(0x535)](_0xf6e022=>_0xf6e022['data']());renderLeaderboard(_0xdf1a35,_0x3fdaf3(0x5df));}catch(_0x5cf36d){console[_0x3fdaf3(0x5dc)](_0x3fdaf3(0x550),_0x5cf36d),showMessage(_0x3fdaf3(0x35f));}}async function handleSaveToBank(_0x2f7814){const _0x12b72e=_0x597754,_0x256992=_0x2f7814[_0x12b72e(0x8b0)],_0x19ba42=_0x256992[_0x12b72e(0x4af)][_0x12b72e(0x6ec)],_0x1f76ec=currentQuizData[_0x12b72e(0x2e8)][_0x19ba42];if(!userId){showMessage(_0x12b72e(0x3a0));return;}try{const _0x410498={..._0x1f76ec,'originalTopic':currentQuizData[_0x12b72e(0x231)],'savedAt':serverTimestamp()},_0x10d127=collection(db,_0x12b72e(0x4cb)+appId+_0x12b72e(0x466)+userId+_0x12b72e(0xd1));await addDoc(_0x10d127,_0x410498),showMessage(_0x12b72e(0x516)),_0x256992[_0x12b72e(0x79b)][_0x12b72e(0x76b)](_0x12b72e(0x180)),_0x256992[_0x12b72e(0x79b)][_0x12b72e(0x635)](_0x12b72e(0x10e)),_0x256992[_0x12b72e(0x64a)]=!![];}catch(_0x22f4a4){console[_0x12b72e(0x5dc)](_0x12b72e(0x591),_0x22f4a4),showMessage(_0x12b72e(0x1a0));}}function listenForStarredQuizzes(){const _0x86e693=_0x597754;if(!userId)return;const _0x524123=collection(db,_0x86e693(0x4cb)+appId+'/public/data/quizzes'),_0x17ac9c=query(_0x524123,where(_0x86e693(0x64b),'==',!![]));onSnapshot(_0x17ac9c,_0x2b62fd=>{const _0x2c42bf=_0x86e693;starredQuizzes=_0x2b62fd[_0x2c42bf(0x521)][_0x2c42bf(0x535)](_0x5b0941=>({'id':_0x5b0941['id'],..._0x5b0941[_0x2c42bf(0x324)]()})),currentProjectId===_0x2c42bf(0x3a3)?renderQuizzes():renderProjects();},_0x223fff=>{const _0xcc0f55=_0x86e693;console['error'](_0xcc0f55(0xa9),_0x223fff);});}function exportQuizAsWorksheetPDF(){const _0x3ed99c=_0x597754;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3ed99c(0x2a0));return;}const _0x32d1bd=currentQuizData,_0x2f3301=window[_0x3ed99c(0x5e8)]('',_0x3ed99c(0x5cb)),_0x5dd0b8=_0x23307f=>String[_0x3ed99c(0x239)](0x41+_0x23307f),_0x1f80ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x32d1bd[_0x3ed99c(0x231)]+_0x3ed99c(0x37a)+_0x32d1bd[_0x3ed99c(0x231)]+_0x3ed99c(0x34e)+_0x32d1bd[_0x3ed99c(0x2e8)][_0x3ed99c(0x535)]((_0x299d4c,_0x2c9298)=>{const _0x577c8d=_0x3ed99c;let _0xf56486='';const _0x5c45a3=_0x299d4c['questionType']||_0x32d1bd[_0x577c8d(0x5ca)];switch(_0x5c45a3){case _0x577c8d(0x666):case _0x577c8d(0x2e2):_0xf56486=_0x577c8d(0x73c)+_0x299d4c[_0x577c8d(0x730)][_0x577c8d(0x535)]((_0xa9f57c,_0x5a604c)=>_0x577c8d(0x420)+_0x5dd0b8(_0x5a604c)+'.\x20'+_0xa9f57c+_0x577c8d(0x85e))[_0x577c8d(0x243)]('<br>')+_0x577c8d(0x42a);break;case _0x577c8d(0x6ae):_0xf56486=_0x577c8d(0x5b7);break;default:_0xf56486=_0x577c8d(0x1eb);break;}return _0x577c8d(0xee)+(_0x2c9298+0x1)+_0x577c8d(0x24f)+(_0x299d4c[_0x577c8d(0x607)]||_0x299d4c[_0x577c8d(0x465)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x299d4c[_0x577c8d(0x285)]?'<div\x20class=\x22my-2\x22>'+_0x299d4c['imageCode']+_0x577c8d(0x42a):'')+_0x577c8d(0xc2)+_0xf56486+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3ed99c(0x243)]('')+_0x3ed99c(0x6b5);_0x2f3301[_0x3ed99c(0x19c)][_0x3ed99c(0x443)](_0x1f80ea),_0x2f3301[_0x3ed99c(0x19c)][_0x3ed99c(0x123)](),_0x2f3301[_0x3ed99c(0x489)]=function(){setTimeout(()=>{_0x2f3301['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4928af=_0x597754;if(!currentQuizData||!currentQuizData[_0x4928af(0x2e8)]){showMessage(_0x4928af(0x2a0));return;}const _0x2baa4d=currentQuizData,_0x2678b9=window[_0x4928af(0x5e8)]('',_0x4928af(0x5cb)),_0x52afc9=_0x1222b8=>String[_0x4928af(0x239)](0x41+_0x1222b8),_0x556a27=_0x4928af(0x7b0)+_0x2baa4d[_0x4928af(0x231)]+_0x4928af(0x6fb)+_0x2baa4d[_0x4928af(0x2e8)][_0x4928af(0x535)]((_0x33d5cd,_0x4dffe4)=>{const _0x164319=_0x4928af;let _0x38d1ef='';const _0x17e3ae=_0x33d5cd[_0x164319(0x5cd)]||_0x2baa4d[_0x164319(0x5ca)];switch(_0x17e3ae){case _0x164319(0x666):case _0x164319(0x2e2):_0x38d1ef='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x33d5cd['options'][_0x164319(0x535)]((_0x4ee552,_0x35f010)=>_0x164319(0x7e0)+_0x52afc9(_0x35f010)+'.\x20'+_0x4ee552+'</span>')[_0x164319(0x243)]('<br>')+_0x164319(0x72c);break;case'true_false':_0x38d1ef=_0x164319(0x397);break;default:_0x38d1ef='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x2baa4d['topic']+_0x164319(0x763)+(_0x4dffe4+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x33d5cd[_0x164319(0x607)]||_0x33d5cd[_0x164319(0x465)])+_0x164319(0xfb)+(_0x33d5cd[_0x164319(0x285)]?'<div\x20class=\x22my-6\x22>'+_0x33d5cd[_0x164319(0x285)]+'</div>':'')+_0x164319(0xc2)+_0x38d1ef+_0x164319(0x698);})[_0x4928af(0x243)]('')+_0x4928af(0x4bf);_0x2678b9[_0x4928af(0x19c)][_0x4928af(0x443)](_0x556a27),_0x2678b9[_0x4928af(0x19c)][_0x4928af(0x123)](),_0x2678b9[_0x4928af(0x489)]=function(){setTimeout(()=>{const _0x318cc4=_0x512c;_0x2678b9[_0x318cc4(0x848)]();},0x5dc);};}async function handleToggleStarQuiz(_0xfe17d7){const _0xbfe6b1=_0x597754,_0x1cac07=doc(db,_0xbfe6b1(0x4cb)+appId+_0xbfe6b1(0x1be),_0xfe17d7);try{const _0x47f5e9=await getDoc(_0x1cac07);if(_0x47f5e9[_0xbfe6b1(0x484)]()){const _0x38ec81=_0x47f5e9[_0xbfe6b1(0x324)]()[_0xbfe6b1(0x64b)]||![];await updateDoc(_0x1cac07,{'isStarred':!_0x38ec81});}}catch(_0xef0562){console[_0xbfe6b1(0x5dc)](_0xbfe6b1(0x79f),_0xef0562),showMessage(_0xbfe6b1(0x177));}}async function displayQuestionBank(){const _0x459490=_0x597754,_0x20f2bc=document[_0x459490(0x596)](_0x459490(0x50d));_0x20f2bc['innerHTML']=_0x459490(0x145);try{const _0x65a994=collection(db,_0x459490(0x4cb)+appId+_0x459490(0x466)+userId+_0x459490(0xd1)),_0x13fd9c=query(_0x65a994),_0x2f6d16=await getDocs(_0x13fd9c);if(_0x2f6d16[_0x459490(0x581)]){_0x20f2bc[_0x459490(0x8a2)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x1c0996=_0x2f6d16[_0x459490(0x521)][_0x459490(0x535)](_0x2c1166=>{const _0x47f38d=_0x459490,_0x130886=_0x2c1166['data'](),_0x5a75ea=_0x2c1166['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x47f38d(0x14a)](_0x130886)+_0x47f38d(0x240)+(_0x130886[_0x47f38d(0x465)]||_0x130886[_0x47f38d(0x607)])+_0x47f38d(0x790)+_0x130886[_0x47f38d(0x179)]+_0x47f38d(0x13f);})['join']('');_0x20f2bc[_0x459490(0x8a2)]=_0x459490(0x5c5)+_0x1c0996+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x459490(0x61d))[_0x459490(0x893)](_0x459490(0x30c),createQuizFromBank);}catch(_0x5d255d){console[_0x459490(0x5dc)]('Error\x20displaying\x20question\x20bank:',_0x5d255d),_0x20f2bc[_0x459490(0x8a2)]=_0x459490(0x119);}}function showAdminLiveQuestionView(_0x1cbd74,_0x1a8654,_0x8c081c){const _0x2d61be=_0x597754,_0x213df9=_0x1cbd74[_0x2d61be(0x5cd)]||currentQuizData[_0x2d61be(0x5ca)];let _0x7e6b39='';if(_0x213df9===_0x2d61be(0x666)||_0x213df9===_0x2d61be(0x6ae)){const _0x348d15=_0x213df9===_0x2d61be(0x6ae)?[_0x2d61be(0x55d),_0x2d61be(0x289)]:_0x1cbd74[_0x2d61be(0x730)],_0x16d0d9=_0x213df9==='true_false'?_0x1cbd74['correctAnswer']?0x0:0x1:_0x1cbd74[_0x2d61be(0x348)];_0x7e6b39=_0x348d15[_0x2d61be(0x535)]((_0x1d29f8,_0x5c4fdc)=>_0x2d61be(0x276)+(_0x5c4fdc===_0x16d0d9)+_0x2d61be(0x479)+_0x1d29f8+_0x2d61be(0x2f1))[_0x2d61be(0x243)]('');}else{if(_0x213df9===_0x2d61be(0x1f0)){const _0xe22430=_0x1cbd74['allResponses']||[];_0x7e6b39=_0xe22430[_0x2d61be(0x535)](_0x6305b6=>_0x2d61be(0x276)+(_0x6305b6===_0x1cbd74[_0x2d61be(0x81a)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6305b6+_0x2d61be(0x2f1))[_0x2d61be(0x243)]('');}}const _0x459005=_0x1cbd74['stem']||_0x1cbd74[_0x2d61be(0x465)],_0x540843='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x1a8654+0x1)+'\x20/\x20'+_0x8c081c+_0x2d61be(0x7a0)+_0x459005+_0x2d61be(0x190)+_0x7e6b39+_0x2d61be(0x653);liveGameView['innerHTML']=_0x540843,window[_0x2d61be(0x691)]&&MathJax[_0x2d61be(0xa6)]&&MathJax[_0x2d61be(0xa6)]([liveGameView]),document[_0x2d61be(0x596)](_0x2d61be(0x774))['addEventListener'](_0x2d61be(0x30c),()=>revealAnswerForAdmin(_0x1a8654,_0x8c081c)),document[_0x2d61be(0x596)](_0x2d61be(0x39a))[_0x2d61be(0x893)](_0x2d61be(0x30c),async()=>{const _0x5136db=_0x2d61be,_0x2179a6=doc(db,_0x5136db(0x4cb)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x2179a6),showView('admin-dashboard');}),document[_0x2d61be(0x596)](_0x2d61be(0x8b9))['addEventListener'](_0x2d61be(0x30c),()=>{const _0x1a4b79=_0x2d61be;document['getElementById'](_0x1a4b79(0x131))[_0x1a4b79(0x79b)]['toggle'](_0x1a4b79(0x702));});}function showStudentLiveQuestionView(_0x505335,_0x5e3d22,_0x396a88){const _0x5d2117=_0x597754,_0xf495f3=_0x505335['questionType']||currentQuizData['quizType'];let _0x35929a='';if(_0xf495f3==='multiple_choice'||_0xf495f3===_0x5d2117(0x6ae)){const _0x59280a=_0xf495f3==='true_false'?[_0x5d2117(0x55d),_0x5d2117(0x289)]:_0x505335[_0x5d2117(0x730)];_0x35929a=_0x59280a[_0x5d2117(0x535)]((_0x4a14f4,_0x1ad561)=>_0x5d2117(0x724)+_0x1ad561+_0x5d2117(0x62f)+_0x4a14f4+_0x5d2117(0x83a))[_0x5d2117(0x243)]('');}else{if(_0xf495f3===_0x5d2117(0x1f0)){const _0x3c58aa=_0x505335['allResponses']||[];_0x35929a=_0x3c58aa['map']((_0xa56281,_0x210c85)=>_0x5d2117(0x724)+_0x210c85+_0x5d2117(0x62f)+_0xa56281+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5d2117(0x243)]('');}else _0xf495f3==='short_answer'&&(_0x35929a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x6b434e=_0x505335['stem']||_0x505335[_0x5d2117(0x465)],_0x5e860f=_0x5d2117(0x4d6)+(_0x5e3d22+0x1)+_0x5d2117(0x4c5)+_0x396a88+_0x5d2117(0x8ad)+_0x6b434e+_0x5d2117(0x1aa)+_0x35929a+_0x5d2117(0x165);liveGameView[_0x5d2117(0x8a2)]=_0x5e860f;window[_0x5d2117(0x691)]&&MathJax[_0x5d2117(0xa6)]&&MathJax['typesetPromise']([liveGameView]);const _0x53f267=document[_0x5d2117(0x596)]('live-submit-short-answer-btn');_0x53f267&&_0x53f267['addEventListener'](_0x5d2117(0x30c),()=>{const _0x54cb99=_0x5d2117,_0x29dd4b=document[_0x54cb99(0x596)](_0x54cb99(0x7f8))[_0x54cb99(0x800)];handleLiveAnswer(_0x29dd4b,_0x505335);}),document['getElementById']('live-options-container')['addEventListener'](_0x5d2117(0x30c),_0xe1c3e=>{const _0x4e9158=_0x5d2117,_0x366584=_0xe1c3e['target'][_0x4e9158(0x785)](_0x4e9158(0x2af));if(_0x366584){const _0x1a855c=parseInt(_0x366584['dataset'][_0x4e9158(0x6ec)]);handleLiveAnswer(_0x1a855c,_0x505335);}});}async function handleLiveAnswer(_0xf2c111,_0x323814){const _0x5a28de=_0x597754;document['querySelectorAll'](_0x5a28de(0x78f))[_0x5a28de(0x450)](_0x3f0cf4=>_0x3f0cf4[_0x5a28de(0x64a)]=!![]);const _0x470e24=_0x323814['questionType']||currentQuizData['quizType'];let _0x3c8f18=![],_0x3d7756=_0xf2c111;if(_0x470e24==='short_answer'){const _0x14c631=(_0xf2c111||'')[_0x5a28de(0x6db)]();_0x3c8f18=await gradeShortAnswer(_0x14c631,_0x323814);}else{if(_0x470e24===_0x5a28de(0x666))_0x3c8f18=_0xf2c111===_0x323814['correctAnswerIndex'];else{if(_0x470e24===_0x5a28de(0x6ae)){const _0x29a041=_0x323814[_0x5a28de(0x5d9)];_0x3c8f18=_0xf2c111===0x0&&_0x29a041||_0xf2c111===0x1&&!_0x29a041;}else{if(_0x470e24===_0x5a28de(0x1f0)){const _0x360f30=_0x323814[_0x5a28de(0x2ea)][_0xf2c111];_0x3c8f18=_0x360f30===_0x323814[_0x5a28de(0x81a)],_0x3d7756=_0x360f30;}}}}const _0x4ba661=doc(db,_0x5a28de(0x4cb)+appId+'/public/data/liveGames',currentLiveGameId),_0x5d2dd3={};_0x5d2dd3[_0x5a28de(0x7a9)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x5d2dd3[_0x5a28de(0x7a9)+currentStudentName+_0x5a28de(0x608)]=_0x3c8f18,_0x5d2dd3['players.'+currentStudentName+'.lastAnswerIndex']=_0x470e24===_0x5a28de(0x3df)||_0x470e24===_0x5a28de(0x1f0)?null:_0xf2c111,_0x5d2dd3[_0x5a28de(0x7a9)+currentStudentName+'.lastAnswerValue']=_0x3d7756,_0x5d2dd3['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0x5d2dd3[_0x5a28de(0x7a9)+currentStudentName+_0x5a28de(0x41c)]=![],await updateDoc(_0x4ba661,_0x5d2dd3),liveGameView[_0x5a28de(0x8a2)]=_0x5a28de(0x6ca);}function showAdminSummaryView(_0xaa546b,_0x566330){const _0x4ea7c7=_0x597754,_0x515ab4=Object['values'](_0xaa546b[_0x4ea7c7(0x23d)]||{}),_0x553af5=_0x566330[_0x4ea7c7(0x5cd)]||currentQuizData[_0x4ea7c7(0x5ca)],_0x49787c=_0x553af5==='true_false'?[_0x4ea7c7(0x55d),'ไม่ใช่']:_0x566330['options']||_0x566330[_0x4ea7c7(0x2ea)]||[],_0x266ee1={},_0x423e13=new Array(_0x49787c[_0x4ea7c7(0x2c4)])['fill'](0x0);_0x49787c[_0x4ea7c7(0x450)]((_0x84d293,_0x2580f2)=>{_0x266ee1[_0x2580f2]=[];}),Object['entries'](_0xaa546b['players']||{})['forEach'](([_0x1c129b,_0x11da3c])=>{const _0x2f5f9c=_0x4ea7c7;if(_0x11da3c[_0x2f5f9c(0x5f6)]===_0x2f5f9c(0x164)&&_0x11da3c[_0x2f5f9c(0x380)]!==undefined){const _0x4fb970=_0x11da3c['lastAnswerIndex'];_0x266ee1[_0x4fb970]&&(_0x266ee1[_0x4fb970][_0x2f5f9c(0x1c9)](_0x1c129b),_0x423e13[_0x4fb970]++);}});const _0x2e224b=Math['max'](..._0x423e13,0x1),_0x528ee9=_0x4ea7c7(0x83d)+(_0x566330[_0x4ea7c7(0x607)]||_0x566330['questionText'])+_0x4ea7c7(0x365)+_0x423e13[_0x4ea7c7(0x535)]((_0x34ab84,_0x5e0572)=>{const _0x43e93b=_0x4ea7c7,_0x3fcac8=_0x266ee1[_0x5e0572][_0x43e93b(0x2c4)]>0x0?_0x266ee1[_0x5e0572][_0x43e93b(0x243)](',\x20'):_0x43e93b(0x2b0);let _0x12887c=![];if(_0x553af5==='multiple_choice')_0x12887c=_0x5e0572===_0x566330['correctAnswerIndex'];else{if(_0x553af5==='true_false'){const _0x2a152d=_0x566330['correctAnswer'];_0x12887c=_0x2a152d&&_0x5e0572===0x0||!_0x2a152d&&_0x5e0572===0x1;}else _0x553af5===_0x43e93b(0x1f0)&&(_0x12887c=_0x49787c[_0x5e0572]===_0x566330[_0x43e93b(0x81a)]);}const _0x6cfad3=_0x12887c?_0x43e93b(0x458):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x34ab84+_0x43e93b(0x47c)+_0x6cfad3+_0x43e93b(0x51e)+_0x5e0572+_0x43e93b(0x252)+_0x49787c[_0x5e0572]+_0x43e93b(0x69f)+_0x5e0572+_0x43e93b(0x562)+_0x3fcac8+_0x43e93b(0x389);})[_0x4ea7c7(0x243)]('')+_0x4ea7c7(0x835);liveGameView[_0x4ea7c7(0x8a2)]=_0x528ee9;if(window['MathJax'])MathJax['typesetPromise']();document[_0x4ea7c7(0x596)](_0x4ea7c7(0x507))[_0x4ea7c7(0x893)](_0x4ea7c7(0x30c),async()=>{const _0x3fab43=_0x4ea7c7,_0x22c679=doc(db,_0x3fab43(0x4cb)+appId+_0x3fab43(0x5fe),currentLiveGameId);await updateDoc(_0x22c679,{'questionStatus':_0x3fab43(0x272)});});}function showPlayerSummaryView(_0x50cc12,_0x451564){const _0x42c4af=_0x597754,_0xa0a0f6=Object[_0x42c4af(0x3b1)](_0x50cc12[_0x42c4af(0x23d)]||{}),_0x578945=_0x50cc12[_0x42c4af(0x23d)][_0x451564],_0x4df83c=_0xa0a0f6[_0x42c4af(0x534)](_0x14e92d=>_0x14e92d[_0x42c4af(0x5f6)]===_0x42c4af(0x164))['sort']((_0x2950b1,_0x28fd3a)=>_0x28fd3a[_0x42c4af(0x869)]-_0x2950b1['score']),_0x2734de=_0x4df83c[_0x42c4af(0x77f)](_0x1fb915=>_0x1fb915===_0x578945)+0x1,_0x51afd4=_0x578945['lastAnswerCorrect']?_0x42c4af(0x3c5):_0x42c4af(0x891),_0x566744=_0x578945[_0x42c4af(0x2dd)]?_0x42c4af(0xb4):'bg-red-500',_0x29489f=_0x578945[_0x42c4af(0x3be)]||0x0,_0x525d39='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0xe6c0b=_0x42c4af(0x398)+_0x525d39+_0x42c4af(0x6ad)+_0x566744+_0x42c4af(0x26e)+_0x51afd4+_0x42c4af(0x4ce)+_0x29489f+_0x42c4af(0x838)+(_0x2734de>0x0?_0x2734de:'-')+_0x42c4af(0x114);liveGameView['innerHTML']=_0xe6c0b;}function createQuizFromBank(){const _0x555a0d=_0x597754,_0x5c3bc7=document[_0x555a0d(0x5f5)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x5c3bc7[_0x555a0d(0x2c4)]===0x0){showMessage(_0x555a0d(0x4e0));return;}const _0x3f8975=[];_0x5c3bc7['forEach'](_0x520a65=>{const _0x1b7aa1=_0x555a0d;_0x3f8975['push'](JSON[_0x1b7aa1(0x7f6)](_0x520a65['value']));});const _0xbf8add={'topic':_0x555a0d(0x4dc),'questions':_0x3f8975};displayGeneratedQuiz(_0xbf8add);}function showAdminLobbyView(_0x18a2ea,_0x314d0b){const _0x36da30=_0x597754;showView(_0x36da30(0x124));const _0x34ffe4=_0x36da30(0xbc)+_0x314d0b+_0x36da30(0x19a)+_0x18a2ea+_0x36da30(0x849);liveGameView[_0x36da30(0x8a2)]=_0x34ffe4,document[_0x36da30(0x596)](_0x36da30(0x564))['addEventListener'](_0x36da30(0x30c),async()=>{const _0x46cc1e=_0x36da30;if(!currentQuizData||!currentQuizData[_0x46cc1e(0x2e8)]||currentQuizData['questions'][_0x46cc1e(0x2c4)]===0x0){showMessage(_0x46cc1e(0x612));return;}try{const _0x2ab93c=doc(db,_0x46cc1e(0x4cb)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2ab93c,{'status':_0x46cc1e(0x725),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3e20cc=currentQuizData['questions'][0x0],_0x59d9f2=currentQuizData[_0x46cc1e(0x2e8)][_0x46cc1e(0x2c4)];showAdminLiveQuestionView(_0x3e20cc,0x0,_0x59d9f2);}catch(_0x3c8415){console[_0x46cc1e(0x5dc)](_0x46cc1e(0x317),_0x3c8415),showMessage(_0x46cc1e(0x7e2));}});}async function openGlobalLiveModal(){const _0x45701e=_0x597754;if(allQuizzesGlobal[_0x45701e(0x2c4)]===0x0){const _0x161da0=await getDocs(collection(db,_0x45701e(0x4cb)+appId+_0x45701e(0x1be)));allQuizzesGlobal=_0x161da0[_0x45701e(0x521)][_0x45701e(0x535)](_0x49ea43=>({'id':_0x49ea43['id'],..._0x49ea43[_0x45701e(0x324)]()}));}renderGlobalQuizList(''),document[_0x45701e(0x596)]('global-live-game-modal')[_0x45701e(0x79b)][_0x45701e(0x76b)](_0x45701e(0x702));}async function openQuizBankModal(){const _0x22238c=_0x597754;if(allQuizzesGlobal['length']===0x0){const _0x71ff16=await getDocs(collection(db,'artifacts/'+appId+_0x22238c(0x1be)));allQuizzesGlobal=_0x71ff16[_0x22238c(0x521)][_0x22238c(0x535)](_0x4025b9=>({'id':_0x4025b9['id'],..._0x4025b9[_0x22238c(0x324)]()}));}renderQuizBankList(''),document['getElementById'](_0x22238c(0x1a6))[_0x22238c(0x79b)]['remove'](_0x22238c(0x702));}function renderQuizBankList(_0x5e1d61=''){const _0x5a8f2d=_0x597754,_0x51f2a9=document[_0x5a8f2d(0x596)](_0x5a8f2d(0x855)),_0x535604=_0x5e1d61[_0x5a8f2d(0x7e1)]()['trim'](),_0x2e1f5c=allQuizzesGlobal['map'](_0x3ebe7a=>({..._0x3ebe7a,'projectName':allProjects[_0x5a8f2d(0x84c)](_0x446e6b=>_0x446e6b['id']===_0x3ebe7a[_0x5a8f2d(0x7f2)])?.[_0x5a8f2d(0x6e8)]||_0x5a8f2d(0x6d6)}))[_0x5a8f2d(0x534)](_0x122ea6=>(_0x122ea6[_0x5a8f2d(0x231)]||'')[_0x5a8f2d(0x7e1)]()[_0x5a8f2d(0x7ec)](_0x535604)||(_0x122ea6[_0x5a8f2d(0x6e8)]||'')[_0x5a8f2d(0x7e1)]()[_0x5a8f2d(0x7ec)](_0x535604)||_0x122ea6['id'][_0x5a8f2d(0x6db)]()['includes'](_0x535604));document[_0x5a8f2d(0x596)](_0x5a8f2d(0x83e))['textContent']='('+_0x2e1f5c[_0x5a8f2d(0x2c4)]+_0x5a8f2d(0xc7),_0x51f2a9[_0x5a8f2d(0x8a2)]=_0x2e1f5c[_0x5a8f2d(0x2c4)]?_0x2e1f5c['map'](_0x436df2=>_0x5a8f2d(0x3fd)+_0x436df2['id']+_0x5a8f2d(0x36e)+(_0x436df2[_0x5a8f2d(0x231)]||_0x5a8f2d(0x268))+_0x5a8f2d(0x316)+(_0x436df2['questions']?.[_0x5a8f2d(0x2c4)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x436df2[_0x5a8f2d(0x6e8)]+_0x5a8f2d(0x75e)+_0x436df2['id']+_0x5a8f2d(0x71a)+_0x436df2['id']+_0x5a8f2d(0x22f)+_0x436df2['id']+_0x5a8f2d(0xbf)+_0x436df2['id']+_0x5a8f2d(0x299)+_0x436df2['id']+_0x5a8f2d(0x577)+_0x436df2['id']+_0x5a8f2d(0x664)+_0x436df2['id']+_0x5a8f2d(0x6e2)+_0x436df2[_0x5a8f2d(0x231)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x5a8f2d(0x243)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x51f2a9['querySelectorAll'](_0x5a8f2d(0x11d))['forEach'](_0x510b91=>{_0x510b91['addEventListener']('click',()=>{const _0x1ddc3f=_0x512c,_0xaa9ec7=_0x510b91[_0x1ddc3f(0x4af)]['id'];document[_0x1ddc3f(0x596)](_0x1ddc3f(0x1a6))[_0x1ddc3f(0x79b)][_0x1ddc3f(0x635)](_0x1ddc3f(0x702)),showQuizDetailView(_0xaa9ec7);});}),_0x51f2a9['querySelectorAll'](_0x5a8f2d(0xb3))['forEach'](_0x2667a2=>{const _0x2868ae=_0x5a8f2d;_0x2667a2[_0x2868ae(0x893)](_0x2868ae(0x30c),_0xe0713=>{const _0x263682=_0x2868ae;_0xe0713['stopPropagation']();const _0x489879=_0x2667a2[_0x263682(0x4af)]['id'],_0x1df50b=allQuizzesGlobal[_0x263682(0x84c)](_0x4f806b=>_0x4f806b['id']===_0x489879);_0x1df50b?(currentQuizData=_0x1df50b,document[_0x263682(0x596)]('quiz-bank-modal')['classList'][_0x263682(0x635)]('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x51f2a9[_0x5a8f2d(0x5f5)]('.quiz-bank-parallel-btn')[_0x5a8f2d(0x450)](_0x1fcae6=>{const _0x1223d9=_0x5a8f2d;_0x1fcae6[_0x1223d9(0x893)](_0x1223d9(0x30c),_0xf6a17f=>{const _0xcf9d3d=_0x1223d9;_0xf6a17f[_0xcf9d3d(0x3b2)]();const _0x938ff0=_0x1fcae6['dataset']['id'],_0x12499d=allQuizzesGlobal[_0xcf9d3d(0x84c)](_0x1a1ac7=>_0x1a1ac7['id']===_0x938ff0);_0x12499d?(document[_0xcf9d3d(0x596)](_0xcf9d3d(0x1a6))[_0xcf9d3d(0x79b)][_0xcf9d3d(0x635)](_0xcf9d3d(0x702)),handleGenerateParallelFromBank(_0x12499d)):showMessage(_0xcf9d3d(0x53c));});}),_0x51f2a9['querySelectorAll'](_0x5a8f2d(0x18d))['forEach'](_0x481ec4=>{const _0x55aef4=_0x5a8f2d;_0x481ec4['addEventListener'](_0x55aef4(0x30c),_0x2bc800=>{const _0x57f4e5=_0x55aef4;_0x2bc800['stopPropagation']();const _0x5b3001=_0x481ec4['dataset']['id'],_0x5ef2dc=allQuizzesGlobal[_0x57f4e5(0x84c)](_0x5a0674=>_0x5a0674['id']===_0x5b3001);_0x5ef2dc?(document[_0x57f4e5(0x596)](_0x57f4e5(0x1a6))[_0x57f4e5(0x79b)]['add']('hidden'),startPresentation(_0x5ef2dc)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x51f2a9[_0x5a8f2d(0x5f5)](_0x5a8f2d(0x866))[_0x5a8f2d(0x450)](_0x24f05a=>{const _0x6576cc=_0x5a8f2d;_0x24f05a[_0x6576cc(0x893)](_0x6576cc(0x30c),_0x3bf5a8=>{const _0x529d28=_0x6576cc;_0x3bf5a8[_0x529d28(0x3b2)]();const _0x1cd59c=_0x24f05a[_0x529d28(0x4af)]['id'];document[_0x529d28(0x596)](_0x529d28(0x1a6))[_0x529d28(0x79b)][_0x529d28(0x635)](_0x529d28(0x702)),handleMoveQuiz(_0x1cd59c);});}),_0x51f2a9[_0x5a8f2d(0x5f5)](_0x5a8f2d(0x798))[_0x5a8f2d(0x450)](_0x37fdea=>{const _0xacfc9c=_0x5a8f2d;_0x37fdea[_0xacfc9c(0x893)](_0xacfc9c(0x30c),_0x1c5f99=>{const _0x4e0e0e=_0xacfc9c;_0x1c5f99[_0x4e0e0e(0x3b2)]();const _0xe275aa=_0x37fdea[_0x4e0e0e(0x4af)]['id'];document['getElementById'](_0x4e0e0e(0x1a6))['classList'][_0x4e0e0e(0x635)](_0x4e0e0e(0x702)),handleQuizSettings(_0xe275aa);});}),_0x51f2a9[_0x5a8f2d(0x5f5)]('.quiz-bank-delete-btn')['forEach'](_0x5b82b7=>{const _0x1acbf8=_0x5a8f2d;_0x5b82b7[_0x1acbf8(0x893)](_0x1acbf8(0x30c),_0x38abcd=>{const _0x2a5e6e=_0x1acbf8;_0x38abcd['stopPropagation']();const _0x39d61b=_0x5b82b7['dataset']['id'],_0x49f02b=_0x5b82b7[_0x2a5e6e(0x4af)][_0x2a5e6e(0x231)];showConfirmation(_0x2a5e6e(0x3c6)+_0x49f02b+_0x2a5e6e(0x327),()=>handleDeleteQuiz(_0x39d61b));});});}async function handleCompareResults(_0x1a0750,_0x3a74e9){const _0x5e4c69=_0x597754,_0x4afb11=document[_0x5e4c69(0x596)]('comparison-modal'),_0x3b064c=document[_0x5e4c69(0x596)](_0x5e4c69(0x7db)),_0x1349a2=document[_0x5e4c69(0x596)](_0x5e4c69(0x703));document['getElementById'](_0x5e4c69(0x251))[_0x5e4c69(0x79b)][_0x5e4c69(0x635)](_0x5e4c69(0x164)),document[_0x5e4c69(0x596)](_0x5e4c69(0x49e))['classList'][_0x5e4c69(0x76b)](_0x5e4c69(0x164)),_0x3b064c['classList'][_0x5e4c69(0x76b)](_0x5e4c69(0x702)),_0x1349a2[_0x5e4c69(0x79b)][_0x5e4c69(0x635)]('hidden'),_0x3b064c[_0x5e4c69(0x8a2)]=_0x5e4c69(0x145),_0x1349a2['innerHTML']='',_0x4afb11[_0x5e4c69(0x79b)][_0x5e4c69(0x76b)]('hidden');try{const _0x21fb94=doc(db,_0x5e4c69(0x4cb)+appId+'/public/data/quizzes',_0x1a0750),_0x4ff357=await getDoc(_0x21fb94);if(!_0x4ff357['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x2ea60c=_0x4ff357[_0x5e4c69(0x324)](),_0x38dd2f=_0x2ea60c[_0x5e4c69(0x2e8)][_0x5e4c69(0x2c4)],_0x408f7c=collection(db,_0x5e4c69(0x4cb)+appId+_0x5e4c69(0x33f)+_0x3a74e9+'/submissions'),_0x1603c8=collection(db,_0x5e4c69(0x4cb)+appId+_0x5e4c69(0x33f)+_0x1a0750+'/submissions'),[_0x382f54,_0x58d12b]=await Promise[_0x5e4c69(0x7af)]([getDocs(_0x408f7c),getDocs(_0x1603c8)]),_0x1048bb=_0x382f54[_0x5e4c69(0x521)]['map'](_0x245069=>_0x245069['data']()),_0x3b41b9=_0x58d12b[_0x5e4c69(0x521)][_0x5e4c69(0x535)](_0x2f2513=>_0x2f2513[_0x5e4c69(0x324)]()),_0x3151d9=_0x1048bb[_0x5e4c69(0x535)](_0x1fa6fd=>_0x1fa6fd[_0x5e4c69(0x344)]),_0x32d771=_0x3b41b9[_0x5e4c69(0x535)](_0x47ee22=>_0x47ee22[_0x5e4c69(0x344)]),_0x3fcc11=calculateMeanAndStdDev(_0x3151d9),_0x5f0fda=calculateMeanAndStdDev(_0x32d771),_0x4f54e6=_0x3fcc11['mean'],_0x49501=_0x5f0fda[_0x5e4c69(0x2f6)],_0x76137c=_0x49501-_0x4f54e6;let _0x3a9900='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x4f54e6[_0x5e4c69(0x37f)](0x2)+_0x5e4c69(0x36a)+_0x49501[_0x5e4c69(0x37f)](0x2)+_0x5e4c69(0x376)+(_0x76137c>=0x0?_0x5e4c69(0x51f):_0x5e4c69(0x768))+_0x5e4c69(0x36f)+(_0x76137c>=0x0?_0x5e4c69(0x502):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x76137c>=0x0?_0x5e4c69(0x4b1):_0x5e4c69(0xf7))+'\x22>'+(_0x76137c>=0x0?'+':'')+_0x76137c[_0x5e4c69(0x37f)](0x2)+_0x5e4c69(0x598);_0x3b064c['innerHTML']=_0x3a9900;const _0x463c83=document['getElementById'](_0x5e4c69(0x4da))[_0x5e4c69(0x203)]('2d');if(chartInstances[_0x5e4c69(0x54f)])chartInstances[_0x5e4c69(0x54f)][_0x5e4c69(0x65a)]();chartInstances['comparison']=new Chart(_0x463c83,{'type':_0x5e4c69(0x6d5),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x4f54e6],'backgroundColor':_0x5e4c69(0x795)},{'label':_0x5e4c69(0x614),'data':[_0x49501],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x38dd2f}}}});const _0x5cbff0=currentProjectData['students']||[],_0x5c0144=_0x5cbff0[_0x5e4c69(0x535)](_0x52f695=>{const _0x538c51=_0x5e4c69,_0x1284db=_0x1048bb[_0x538c51(0x84c)](_0x377163=>_0x377163['studentName']===_0x52f695),_0x3843bd=_0x3b41b9[_0x538c51(0x84c)](_0x406d74=>_0x406d74[_0x538c51(0x4a3)]===_0x52f695),_0x5d9147=_0x1284db?_0x1284db[_0x538c51(0x344)]:null,_0x394742=_0x3843bd?_0x3843bd[_0x538c51(0x344)]:null,_0x4137af=_0x5d9147!==null&&_0x394742!==null?_0x394742-_0x5d9147:null,_0x3f863b=_0x5d9147!==null?calculateZScore(_0x5d9147,_0x3fcc11['mean'],_0x3fcc11[_0x538c51(0x8ac)]):null,_0x4e4900=_0x394742!==null?calculateZScore(_0x394742,_0x5f0fda[_0x538c51(0x2f6)],_0x5f0fda['stdDev']):null,_0x5196be=_0x3f863b!==null?calculateTScore(_0x3f863b):null,_0x50474a=_0x4e4900!==null?calculateTScore(_0x4e4900):null,_0x5bbd0a=_0x5196be!==null&&_0x50474a!==null?_0x50474a-_0x5196be:null;return{'name':_0x52f695,'preScore':_0x5d9147,'postScore':_0x394742,'gain':_0x4137af,'preTScore':_0x5196be,'postTScore':_0x50474a,'tGain':_0x5bbd0a};});renderIndividualComparisonTable(_0x5c0144,_0x1349a2);}catch(_0x2444ce){console[_0x5e4c69(0x5dc)](_0x5e4c69(0x12b),_0x2444ce),_0x3b064c[_0x5e4c69(0x8a2)]=_0x5e4c69(0x806);}}function displayHalfMarkResult(_0x2e438d,_0xc22b5e){const _0x22a4c7=_0x597754,_0x30db2d=_0x2e438d>=_0xc22b5e/0x2,_0x108720=_0x30db2d?'bg-green-100':_0x22a4c7(0x768),_0x545147=_0x30db2d?_0x22a4c7(0x62a):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x3893ae=_0x30db2d?_0x22a4c7(0x560):'text-red-800',_0x283c4b=_0x30db2d?_0x22a4c7(0x40c):_0x22a4c7(0x2e0),_0x12ba50=_0x30db2d?_0x22a4c7(0x286):_0x22a4c7(0x112);let _0x286a68=_0x22a4c7(0x4f1)+_0x108720+_0x22a4c7(0x802)+_0x545147+_0x22a4c7(0x7ef)+_0x3893ae+_0x22a4c7(0x814)+_0x283c4b+_0x22a4c7(0x77a)+_0x12ba50+_0x22a4c7(0x166);studentResultArea['innerHTML']=_0x286a68,studentResultArea[_0x22a4c7(0x79b)][_0x22a4c7(0x76b)](_0x22a4c7(0x702)),studentQuizArea[_0x22a4c7(0x79b)][_0x22a4c7(0x635)](_0x22a4c7(0x702)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x30db2d});}function displayPerfectScoreResult(_0x570430,_0x5c6b74){const _0x5817ca=_0x597754,_0x193adb=_0x570430===_0x5c6b74,_0x11ed2f=_0x193adb?_0x5817ca(0x515):_0x5817ca(0x1bf),_0x39f148=_0x193adb?_0x5817ca(0x4e3):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x1417d6=_0x193adb?_0x5817ca(0x1a1):_0x5817ca(0x80d),_0x174445=_0x193adb?_0x5817ca(0x14d):'ยังไม่เต็มนะ',_0x308412=_0x193adb?_0x5817ca(0x122):_0x5817ca(0x18b);let _0x2455bd=_0x5817ca(0x4f1)+_0x11ed2f+_0x5817ca(0x802)+_0x39f148+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x1417d6+_0x5817ca(0x814)+_0x174445+_0x5817ca(0x77a)+_0x308412+_0x5817ca(0x166);studentResultArea[_0x5817ca(0x8a2)]=_0x2455bd,studentResultArea[_0x5817ca(0x79b)]['remove'](_0x5817ca(0x702)),studentQuizArea[_0x5817ca(0x79b)]['add'](_0x5817ca(0x702)),setupResultScreenBackButton({'showRankings':![],'score':_0x570430,'totalQuestions':_0x5c6b74});}function renderIndividualComparisonTable(_0x14cb51,_0x4c7ca7){const _0x3423d0=_0x597754;_0x14cb51[_0x3423d0(0x60d)]((_0x355eea,_0x93f377)=>(_0x93f377['tGain']??-Infinity)-(_0x355eea[_0x3423d0(0x540)]??-Infinity));let _0x176e7e=_0x3423d0(0x61f);_0x14cb51[_0x3423d0(0x2c4)]===0x0?_0x176e7e+=_0x3423d0(0x2ae):_0x14cb51[_0x3423d0(0x450)]((_0x121e84,_0x13e616)=>{const _0x3248b7=_0x3423d0;let _0x48819a='-',_0x2b1546='';if(_0x121e84[_0x3248b7(0x533)]!==null){const _0x4c7564=_0x121e84[_0x3248b7(0x533)]>0x0?_0x3248b7(0x10e):_0x121e84[_0x3248b7(0x533)]<0x0?'text-red-600':'text-gray-500',_0x802d14=_0x121e84[_0x3248b7(0x533)]>0x0?'+':'';_0x48819a=_0x3248b7(0x7b4)+_0x4c7564+'\x22>'+_0x802d14+_0x121e84['gain']+_0x3248b7(0x64e);if(_0x121e84[_0x3248b7(0x533)]>0x0)_0x2b1546=_0x3248b7(0x72b);else _0x121e84[_0x3248b7(0x533)]<0x0?_0x2b1546=_0x3248b7(0x24a):_0x2b1546=_0x3248b7(0x1e2);}let _0x2e736a='-';if(_0x121e84[_0x3248b7(0x540)]!==null){const _0x256b46=_0x121e84[_0x3248b7(0x540)]>0x0?'text-green-600':_0x121e84[_0x3248b7(0x540)]<0x0?_0x3248b7(0x2b2):_0x3248b7(0x7f0),_0x5add28=_0x121e84[_0x3248b7(0x540)]>0x0?'+':'';_0x2e736a=_0x3248b7(0x7b4)+_0x256b46+'\x22>'+_0x5add28+_0x121e84[_0x3248b7(0x540)][_0x3248b7(0x37f)](0x2)+'</span>';}_0x176e7e+=_0x3248b7(0x7c5)+(_0x13e616+0x1)+_0x3248b7(0xd5)+_0x121e84[_0x3248b7(0x452)]+_0x3248b7(0x4be)+(_0x121e84[_0x3248b7(0x843)]??'-')+_0x3248b7(0x84d)+(_0x121e84['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x48819a+_0x3248b7(0x4f5)+_0x2b1546+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x121e84[_0x3248b7(0x563)]?.[_0x3248b7(0x37f)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x121e84[_0x3248b7(0x7a3)]?.[_0x3248b7(0x37f)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x2e736a+_0x3248b7(0x2de);}),_0x176e7e+=_0x3423d0(0x7e6),_0x4c7ca7[_0x3423d0(0x8a2)]=_0x176e7e;}function handleRenameQuiz(_0x307544,_0x30781e){const _0x19b30c=_0x597754;actionTargetId=_0x307544,document[_0x19b30c(0x596)](_0x19b30c(0x4f8))[_0x19b30c(0x800)]=_0x30781e,renameQuizModal[_0x19b30c(0x79b)]['remove'](_0x19b30c(0x702));}function setupComparisonModalTabs(){const _0x32ca0f=_0x597754,_0xdf10ed=document[_0x32ca0f(0x596)](_0x32ca0f(0x251)),_0x53d7ce=document[_0x32ca0f(0x596)](_0x32ca0f(0x49e)),_0x40caa1=document[_0x32ca0f(0x596)]('comparison-overall-content'),_0x5f4fde=document['getElementById']('comparison-individual-content');_0xdf10ed[_0x32ca0f(0x893)](_0x32ca0f(0x30c),()=>{const _0x27005e=_0x32ca0f;_0xdf10ed['classList'][_0x27005e(0x635)](_0x27005e(0x164)),_0x53d7ce[_0x27005e(0x79b)][_0x27005e(0x76b)](_0x27005e(0x164)),_0x40caa1['classList'][_0x27005e(0x76b)](_0x27005e(0x702)),_0x5f4fde[_0x27005e(0x79b)][_0x27005e(0x635)](_0x27005e(0x702));}),_0x53d7ce[_0x32ca0f(0x893)](_0x32ca0f(0x30c),()=>{const _0x51be6e=_0x32ca0f;_0x53d7ce[_0x51be6e(0x79b)][_0x51be6e(0x635)](_0x51be6e(0x164)),_0xdf10ed[_0x51be6e(0x79b)]['remove'](_0x51be6e(0x164)),_0x5f4fde[_0x51be6e(0x79b)][_0x51be6e(0x76b)](_0x51be6e(0x702)),_0x40caa1[_0x51be6e(0x79b)][_0x51be6e(0x635)](_0x51be6e(0x702));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x42b153=''){const _0x2d2227=_0x597754,_0x451ee1=document[_0x2d2227(0x596)](_0x2d2227(0x761)),_0x57e712=_0x42b153[_0x2d2227(0x7e1)]()[_0x2d2227(0xb9)](),_0x2c2298=allQuizzesGlobal[_0x2d2227(0x535)](_0x1e9591=>({..._0x1e9591,'projectName':allProjects[_0x2d2227(0x84c)](_0x1dd915=>_0x1dd915['id']===_0x1e9591[_0x2d2227(0x7f2)])?.[_0x2d2227(0x6e8)]||_0x1e9591['projectId']}))[_0x2d2227(0x534)](_0x50eb36=>(_0x50eb36[_0x2d2227(0x231)]||'')[_0x2d2227(0x7e1)]()[_0x2d2227(0x7ec)](_0x57e712)||(_0x50eb36[_0x2d2227(0x6e8)]||'')[_0x2d2227(0x7e1)]()['includes'](_0x57e712));document[_0x2d2227(0x596)](_0x2d2227(0x766))[_0x2d2227(0x195)]='('+_0x2c2298[_0x2d2227(0x2c4)]+_0x2d2227(0xc7),_0x451ee1[_0x2d2227(0x8a2)]=_0x2c2298['length']?_0x2c2298[_0x2d2227(0x535)](_0x5b768f=>_0x2d2227(0x309)+_0x5b768f['id']+_0x2d2227(0x82e)+(_0x5b768f[_0x2d2227(0x231)]||_0x2d2227(0x268))+_0x2d2227(0x6f3)+(_0x5b768f[_0x2d2227(0x2e8)]?.['length']||0x0)+_0x2d2227(0x481)+_0x5b768f[_0x2d2227(0x6e8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x2d2227(0x243)](''):_0x2d2227(0x680),selectedGlobalQuizId=null,document[_0x2d2227(0x596)](_0x2d2227(0x58d))[_0x2d2227(0x64a)]=!![],_0x451ee1[_0x2d2227(0x5f5)](_0x2d2227(0x128))[_0x2d2227(0x450)](_0x1589e2=>{const _0x294061=_0x2d2227;_0x1589e2['addEventListener'](_0x294061(0x30c),()=>{const _0x1d4e6a=_0x294061;selectedGlobalQuizId=_0x1589e2[_0x1d4e6a(0x4af)]['id'],_0x451ee1[_0x1d4e6a(0x5f5)](_0x1d4e6a(0x5b1))[_0x1d4e6a(0x450)](_0x836659=>_0x836659[_0x1d4e6a(0x79b)][_0x1d4e6a(0x76b)](_0x1d4e6a(0x27a),_0x1d4e6a(0x7b1),_0x1d4e6a(0x214))),_0x1589e2[_0x1d4e6a(0x79b)][_0x1d4e6a(0x635)](_0x1d4e6a(0x27a),_0x1d4e6a(0x7b1),'ring-purple-400'),document['getElementById'](_0x1d4e6a(0x58d))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x357e9f=_0x597754;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x10c6f5=doc(db,_0x357e9f(0x4cb)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x10c6f5,_0x12bf3e=>{const _0x5ec528=_0x357e9f;if(!_0x12bf3e[_0x5ec528(0x484)]()){showMessage(_0x5ec528(0x70c)),showView(currentMode);return;}const _0x41a47f=_0x12bf3e[_0x5ec528(0x324)]();_0x41a47f[_0x5ec528(0x595)]&&(currentQuizData=_0x41a47f[_0x5ec528(0x595)]);!currentQuizData&&_0x41a47f[_0x5ec528(0x7f7)]&&((async()=>{const _0x297710=_0x5ec528;try{const _0x2911e2=doc(db,_0x297710(0x4cb)+appId+_0x297710(0x1be),_0x41a47f['quizId']),_0x316827=await getDoc(_0x2911e2);_0x316827[_0x297710(0x484)]()&&(currentQuizData={'id':_0x316827['id'],..._0x316827[_0x297710(0x324)]()});}catch(_0x4b53df){console[_0x297710(0x5dc)](_0x297710(0x642),_0x4b53df);}})());switch(_0x41a47f[_0x5ec528(0x5f6)]){case _0x5ec528(0x75f):if(currentMode===_0x5ec528(0x70b)){const _0x462929=_0x41a47f[_0x5ec528(0x23d)]?Object[_0x5ec528(0x102)](_0x41a47f['players']):[],_0x1a8f2a=_0x462929['filter'](([_0x184c6f,_0x2385d2])=>_0x2385d2[_0x5ec528(0x5f6)]===_0x5ec528(0x164)),_0x13d141=document[_0x5ec528(0x596)](_0x5ec528(0x1f7));if(_0x13d141)_0x13d141[_0x5ec528(0x195)]=_0x1a8f2a['length'];const _0x29f80b=document[_0x5ec528(0x596)](_0x5ec528(0x2ff));_0x29f80b&&(_0x29f80b['innerHTML']=_0x1a8f2a['map'](([_0x19bfaf,_0x32b540])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x19bfaf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x19bfaf+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x202c1b=document[_0x5ec528(0x596)]('start-game-btn');_0x202c1b&&(_0x202c1b[_0x5ec528(0x64a)]=_0x1a8f2a['length']===0x0);}else showView(_0x5ec528(0x124)),liveGameView[_0x5ec528(0x8a2)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x246470=_0x41a47f['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x5ec528(0x2e8)][_0x246470]){const _0xd1d0a1=currentQuizData[_0x5ec528(0x2e8)][_0x246470],_0x309f43=_0x41a47f['questionStatus']||'answering';switch(_0x309f43){case _0x5ec528(0x44b):currentMode===_0x5ec528(0x70b)?showAdminSummaryView(_0x41a47f,_0xd1d0a1):showPlayerSummaryView(_0x41a47f,currentStudentName);break;case'leaderboard':if(currentMode===_0x5ec528(0x70b))showTop5LeaderboardView(_0x41a47f);else{}break;case'answering':default:if(currentMode===_0x5ec528(0x70b)){const _0x26cee6=writeBatch(db);let _0x419722=![];Object[_0x5ec528(0x102)](_0x41a47f[_0x5ec528(0x23d)])['forEach'](([_0x5a6291,_0x25618f])=>{const _0x10641f=_0x5ec528;if(_0x25618f['status']===_0x10641f(0x164)&&_0x25618f['submittedAt']&&!_0x25618f['isScored']){_0x419722=!![];const _0x4e5bf3=_0x25618f[_0x10641f(0xad)]['toDate']()-_0x41a47f[_0x10641f(0x2a4)][_0x10641f(0x627)]();let _0x126132=0x0;if(_0x25618f['lastAnswerCorrect']){const _0x14dca0=0x3e8,_0x23ed93=0x1f4,_0x27144a=0x4e20;let _0x4e52c5=_0x4e5bf3/_0x27144a;if(_0x4e52c5>0x1)_0x4e52c5=0x1;const _0x1e5f2d=Math[_0x10641f(0x8a4)](_0x4e52c5*_0x23ed93);_0x126132=_0x14dca0-_0x1e5f2d;}const _0x35749a=doc(db,_0x10641f(0x4cb)+appId+_0x10641f(0x5fe),currentLiveGameId);_0x26cee6[_0x10641f(0xef)](_0x35749a,{[_0x10641f(0x7a9)+_0x5a6291+'.score']:increment(_0x126132),['players.'+_0x5a6291+_0x10641f(0x3fc)]:_0x126132,[_0x10641f(0x7a9)+_0x5a6291+_0x10641f(0x41c)]:!![]});}});_0x419722&&_0x26cee6[_0x5ec528(0xca)]()[_0x5ec528(0x1a9)](_0x3d0022=>console[_0x5ec528(0x5dc)](_0x5ec528(0x661),_0x3d0022));lastRenderedAdminQuestionIndex!==_0x246470&&(showAdminLiveQuestionView(_0xd1d0a1,_0x246470,currentQuizData[_0x5ec528(0x2e8)][_0x5ec528(0x2c4)]),lastRenderedAdminQuestionIndex=_0x246470);const _0x553fa8=_0x41a47f[_0x5ec528(0x23d)]||{},_0x47cb90=Object[_0x5ec528(0x3b1)](_0x553fa8)[_0x5ec528(0x534)](_0xd6ce6c=>_0xd6ce6c[_0x5ec528(0x5f6)]==='active'),_0x544b49=_0x47cb90[_0x5ec528(0x2c4)],_0x180283=_0x47cb90[_0x5ec528(0x534)](_0x5af212=>_0x5af212[_0x5ec528(0x522)]===!![])[_0x5ec528(0x2c4)],_0x5eee37=document['getElementById'](_0x5ec528(0x71e));if(_0x5eee37)_0x5eee37[_0x5ec528(0x195)]=_0x180283+'/'+_0x544b49;_0x544b49>0x0&&_0x180283===_0x544b49&&revealAnswerForAdmin(_0x246470,currentQuizData['questions'][_0x5ec528(0x2c4)]);}else{const _0x3c31dc=_0x41a47f['players'][currentStudentName];_0x3c31dc&&!_0x3c31dc[_0x5ec528(0x522)]&&showStudentLiveQuestionView(_0xd1d0a1,_0x246470,currentQuizData['questions'][_0x5ec528(0x2c4)]);}break;}}break;case _0x5ec528(0x8b6):showPodiumView(_0x41a47f[_0x5ec528(0x23d)]);break;}});}async function handleKickPlayer(_0x323e6d){const _0x856a13=_0x597754;if(!currentLiveGameId||!_0x323e6d)return;const _0x3e5601=doc(db,'artifacts/'+appId+_0x856a13(0x5fe),currentLiveGameId),_0x11349b={};_0x11349b[_0x856a13(0x7a9)+_0x323e6d+_0x856a13(0x71c)]=_0x856a13(0x57b);try{await updateDoc(_0x3e5601,_0x11349b);}catch(_0x36be75){console[_0x856a13(0x5dc)]('Failed\x20to\x20kick\x20player\x20'+_0x323e6d+':',_0x36be75),showMessage(_0x856a13(0x7ea));}}async function authenticateUser(){const _0x3b7311=_0x597754;try{typeof __initial_auth_token!==_0x3b7311(0x544)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x182079){console[_0x3b7311(0x5dc)](_0x3b7311(0x3f5),_0x182079),showMessage(_0x3b7311(0x587));}}function showView(_0x5ee0fa){const _0x5eca7f=_0x597754,_0x4c1f67=[_0x5eca7f(0x46e),'student-view',_0x5eca7f(0x641),_0x5eca7f(0x7a1),_0x5eca7f(0x442),_0x5eca7f(0x342),_0x5eca7f(0x500)];_0x4c1f67['forEach'](_0x572bf8=>document[_0x5eca7f(0x596)](_0x572bf8)?.[_0x5eca7f(0x79b)][_0x5eca7f(0x635)](_0x5eca7f(0x702)));if(_0x5ee0fa==='admin-dashboard')adminView[_0x5eca7f(0x79b)][_0x5eca7f(0x76b)](_0x5eca7f(0x702)),projectDashboardView[_0x5eca7f(0x79b)][_0x5eca7f(0x76b)]('hidden');else{if(_0x5ee0fa===_0x5eca7f(0x21d))studentView[_0x5eca7f(0x79b)][_0x5eca7f(0x76b)]('hidden'),studentInitialView['classList'][_0x5eca7f(0x76b)](_0x5eca7f(0x702)),studentNameSelectionView[_0x5eca7f(0x79b)][_0x5eca7f(0x635)](_0x5eca7f(0x702)),studentQuizArea[_0x5eca7f(0x79b)]['add'](_0x5eca7f(0x702)),studentResultArea[_0x5eca7f(0x79b)][_0x5eca7f(0x635)]('hidden'),studentReadingArea[_0x5eca7f(0x79b)][_0x5eca7f(0x635)]('hidden'),studentJoinGameView[_0x5eca7f(0x79b)]['add'](_0x5eca7f(0x702));else{if(_0x5ee0fa===_0x5eca7f(0x42c))adminView['classList']['remove'](_0x5eca7f(0x702)),projectDetailView[_0x5eca7f(0x79b)]['remove'](_0x5eca7f(0x702));else{if(_0x5ee0fa==='quiz-results')adminView['classList'][_0x5eca7f(0x76b)]('hidden'),quizResultsView['classList'][_0x5eca7f(0x76b)](_0x5eca7f(0x702));else _0x5ee0fa===_0x5eca7f(0x124)&&liveGameView[_0x5eca7f(0x79b)][_0x5eca7f(0x76b)](_0x5eca7f(0x702));}}}}function showJoinGameView(){const _0x16e908=_0x597754;studentInitialView[_0x16e908(0x79b)][_0x16e908(0x635)]('hidden'),studentJoinGameView[_0x16e908(0x79b)]['remove'](_0x16e908(0x702));}async function handleSaveVisibilitySettings(){const _0xb49a78=_0x597754;if(!currentProjectId)return;const _0x1507a7=doc(db,_0xb49a78(0x4cb)+appId+_0xb49a78(0x6bf),currentProjectId);try{await updateDoc(_0x1507a7,{'settings.showInStudentDashboard':document[_0xb49a78(0x596)](_0xb49a78(0x45c))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0xb49a78(0x400))[_0xb49a78(0x7a4)],'settings.passcode':document['getElementById'](_0xb49a78(0x514))[_0xb49a78(0x800)][_0xb49a78(0xb9)]()}),showMessage(_0xb49a78(0x578));}catch(_0x326b20){console[_0xb49a78(0x5dc)](_0xb49a78(0x3f6),_0x326b20),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x471f11=_0x597754,_0x5b7c64=document[_0x471f11(0x596)](_0x471f11(0x342));_0x5b7c64[_0x471f11(0x893)](_0x471f11(0x30c),_0x2570fd=>{const _0x4f2018=_0x471f11,_0x1d545b=_0x2570fd['target']['closest'](_0x4f2018(0xc3));document['querySelectorAll'](_0x4f2018(0x1ed))[_0x4f2018(0x450)](_0x16efa9=>{const _0x38d326=_0x4f2018;(!_0x1d545b||_0x16efa9['id']!==_0x1d545b[_0x38d326(0x4af)][_0x38d326(0x726)])&&_0x16efa9[_0x38d326(0x79b)][_0x38d326(0x76b)](_0x38d326(0x1cb));});if(!_0x1d545b)return;const _0x4d4ab0=_0x1d545b[_0x4f2018(0x4af)][_0x4f2018(0x726)],_0x15bd35=document[_0x4f2018(0x596)](_0x4d4ab0);_0x15bd35&&_0x15bd35[_0x4f2018(0x79b)][_0x4f2018(0x7d7)](_0x4f2018(0x1cb));}),_0x5b7c64[_0x471f11(0x893)](_0x471f11(0x30c),_0x159ae6=>{const _0x325aec=_0x471f11;if(_0x159ae6['target'][_0x325aec(0x79b)][_0x325aec(0x48c)](_0x325aec(0x1fb))){const _0x3d522f=_0x159ae6['target'][_0x325aec(0x4af)]['playerName'];_0x3d522f&&handleKickPlayer(_0x3d522f);}}),document[_0x471f11(0x596)]('project-title')[_0x471f11(0x893)](_0x471f11(0x17d),()=>document[_0x471f11(0x596)](_0x471f11(0x2fe))[_0x471f11(0x79b)][_0x471f11(0x76b)](_0x471f11(0x702))),document['getElementById']('save-project-name-btn')[_0x471f11(0x893)](_0x471f11(0x30c),handleSaveProjectName),document[_0x471f11(0x596)](_0x471f11(0x21b))[_0x471f11(0x893)](_0x471f11(0x4d3),_0x3e767d=>{const _0x4fefd5=_0x471f11;_0x3e767d[_0x4fefd5(0x749)]===_0x4fefd5(0x651)&&(_0x3e767d[_0x4fefd5(0x24e)](),_0x3e767d[_0x4fefd5(0x5f0)][_0x4fefd5(0x760)](),handleSaveProjectName());}),document[_0x471f11(0x596)]('bulk-quiz-settings-btn')[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x5c23f4=_0x471f11;document[_0x5c23f4(0x596)](_0x5c23f4(0x363))['classList'][_0x5c23f4(0x76b)]('hidden');}),document['getElementById']('cancel-bulk-quiz-settings-btn')[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x4b87b9=_0x471f11;document[_0x4b87b9(0x596)](_0x4b87b9(0x363))['classList']['add'](_0x4b87b9(0x702));}),document[_0x471f11(0x596)]('confirm-bulk-quiz-settings-btn')[_0x471f11(0x893)](_0x471f11(0x30c),handleBulkUpdateQuizSettings),document[_0x471f11(0x596)](_0x471f11(0x684))[_0x471f11(0x893)]('click',handleModeSwitch),document[_0x471f11(0x596)](_0x471f11(0x6fd))[_0x471f11(0x893)](_0x471f11(0x30c),handleUpdateOldQuizzes),document[_0x471f11(0x596)](_0x471f11(0x422))[_0x471f11(0x893)](_0x471f11(0x30c),handleResetProjectOrder),document[_0x471f11(0x596)](_0x471f11(0x6b2))[_0x471f11(0x893)]('click',handleSaveVisibilitySettings),document['getElementById'](_0x471f11(0x62e))[_0x471f11(0x893)](_0x471f11(0x30c),handleAddCustomMathTopic),document[_0x471f11(0x596)](_0x471f11(0x343))[_0x471f11(0x893)](_0x471f11(0x30c),handleSelectAllTopics),document[_0x471f11(0x596)]('deselect-all-topics-btn')[_0x471f11(0x893)]('click',handleDeselectAllTopics),document[_0x471f11(0x596)](_0x471f11(0x525))['addEventListener'](_0x471f11(0x30c),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x471f11(0x596)](_0x471f11(0x4d7))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x1540e0=_0x471f11;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1540e0(0x42c));}),document[_0x471f11(0x596)](_0x471f11(0x504))['addEventListener']('click',()=>{const _0x44038e=_0x471f11;showView(_0x44038e(0x261));}),document[_0x471f11(0x596)](_0x471f11(0x335))[_0x471f11(0x893)]('click',()=>{const _0x432581=_0x471f11;messageModal[_0x432581(0x79b)][_0x432581(0x635)](_0x432581(0x702)),typeof modalConfirmAction===_0x432581(0x896)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x471f11(0x596)]('create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x471f11(0x79b)][_0x471f11(0x76b)](_0x471f11(0x702))),document[_0x471f11(0x596)]('cancel-create-project-btn')[_0x471f11(0x893)]('click',()=>createProjectModal['classList']['add'](_0x471f11(0x702))),document[_0x471f11(0x596)](_0x471f11(0x49b))['addEventListener']('click',()=>adminPasswordModal[_0x471f11(0x79b)]['add'](_0x471f11(0x702))),document[_0x471f11(0x596)]('confirm-admin-login-btn')[_0x471f11(0x893)](_0x471f11(0x30c),handleAdminLogin),document[_0x471f11(0x596)](_0x471f11(0x406))[_0x471f11(0x893)](_0x471f11(0x604),_0xf2643d=>{const _0x54fae6=_0x471f11;if(_0xf2643d[_0x54fae6(0x749)]===_0x54fae6(0x651))handleAdminLogin();}),document[_0x471f11(0x596)](_0x471f11(0x188))['addEventListener'](_0x471f11(0x30c),()=>{const _0x2bf0b7=_0x471f11;confirmationModal[_0x2bf0b7(0x79b)][_0x2bf0b7(0x635)](_0x2bf0b7(0x702)),confirmAction=null;}),document[_0x471f11(0x596)](_0x471f11(0x1df))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x251923=_0x471f11;confirmAction&&confirmAction(),confirmationModal[_0x251923(0x79b)][_0x251923(0x635)](_0x251923(0x702)),confirmAction=null;}),document[_0x471f11(0x596)](_0x471f11(0x172))['addEventListener'](_0x471f11(0x30c),()=>renameQuizModal[_0x471f11(0x79b)][_0x471f11(0x635)](_0x471f11(0x702))),document[_0x471f11(0x596)](_0x471f11(0x7c6))['addEventListener']('click',confirmRenameQuiz),document['getElementById'](_0x471f11(0x6de))[_0x471f11(0x893)]('click',()=>moveQuizModal[_0x471f11(0x79b)][_0x471f11(0x635)](_0x471f11(0x702))),document[_0x471f11(0x596)](_0x471f11(0x167))[_0x471f11(0x893)](_0x471f11(0x30c),confirmMoveQuiz),document[_0x471f11(0x596)](_0x471f11(0x77b))[_0x471f11(0x893)](_0x471f11(0x30c),()=>quizSettingsModal['classList'][_0x471f11(0x635)]('hidden')),document[_0x471f11(0x596)](_0x471f11(0x537))[_0x471f11(0x893)](_0x471f11(0x30c),confirmQuizSettings),document[_0x471f11(0x596)](_0x471f11(0x28d))['addEventListener']('click',()=>quizStatusModal[_0x471f11(0x79b)][_0x471f11(0x635)](_0x471f11(0x702))),document[_0x471f11(0x596)](_0x471f11(0x24b))[_0x471f11(0x893)](_0x471f11(0x30c),confirmQuizStatus);const _0x1d3c26=document[_0x471f11(0x596)](_0x471f11(0x331));document[_0x471f11(0x596)](_0x471f11(0x136))[_0x471f11(0x893)]('click',()=>{const _0x2950a2=_0x471f11;_0x1d3c26[_0x2950a2(0x79b)][_0x2950a2(0x635)](_0x2950a2(0x702));}),document['getElementById'](_0x471f11(0xe6))['addEventListener']('click',async()=>{const _0x8acb3c=_0x471f11,_0x58cd44=allQuizzes[_0x8acb3c(0x84c)](_0x339363=>_0x339363['id']===actionTargetId);_0x58cd44?(currentQuizData=_0x58cd44,exportQuizAsWorksheetPDF()):showMessage(_0x8acb3c(0x53c)),_0x1d3c26[_0x8acb3c(0x79b)]['add'](_0x8acb3c(0x702));}),document[_0x471f11(0x596)](_0x471f11(0x561))[_0x471f11(0x893)](_0x471f11(0x30c),async()=>{const _0x38d755=_0x471f11,_0x5245b3=allQuizzes[_0x38d755(0x84c)](_0x6136dd=>_0x6136dd['id']===actionTargetId);_0x5245b3?(currentQuizData=_0x5245b3,exportQuizAsTutorPDF()):showMessage(_0x38d755(0x53c)),_0x1d3c26[_0x38d755(0x79b)]['add'](_0x38d755(0x702));}),document[_0x471f11(0x596)](_0x471f11(0x4a1))[_0x471f11(0x893)](_0x471f11(0x30c),openGlobalLiveModal),document['getElementById'](_0x471f11(0x202))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x2d931f=_0x471f11;document['getElementById'](_0x2d931f(0x113))[_0x2d931f(0x79b)][_0x2d931f(0x635)](_0x2d931f(0x702)),selectedGlobalQuizId=null;}),document['getElementById'](_0x471f11(0x808))[_0x471f11(0x893)](_0x471f11(0x865),_0x5039a7=>renderGlobalQuizList(_0x5039a7['target'][_0x471f11(0x800)])),document[_0x471f11(0x596)](_0x471f11(0x58d))['addEventListener'](_0x471f11(0x30c),()=>{const _0x15b394=_0x471f11,_0x4b691d=selectedGlobalQuizId;if(!_0x4b691d)return;document[_0x15b394(0x596)](_0x15b394(0x113))[_0x15b394(0x79b)][_0x15b394(0x635)](_0x15b394(0x702)),handleStartLiveRace(_0x4b691d);}),document[_0x471f11(0x596)](_0x471f11(0x109))['addEventListener'](_0x471f11(0x865),renderProjects),document[_0x471f11(0x596)](_0x471f11(0x1bb))['addEventListener']('change',async()=>{const _0x4fbfab=_0x471f11,_0x814b79=document['getElementById'](_0x4fbfab(0x1bb))[_0x4fbfab(0x800)],_0x24ecdd=doc(db,_0x4fbfab(0x839),'dashboardConfig');try{await setDoc(_0x24ecdd,{'projectSort':_0x814b79},{'merge':!![]});}catch(_0x262a37){console[_0x4fbfab(0x5dc)](_0x4fbfab(0x881),_0x262a37),showMessage(_0x4fbfab(0x5ee));}}),document[_0x471f11(0x596)](_0x471f11(0x836))[_0x471f11(0x893)]('input',renderQuizzes),document[_0x471f11(0x596)]('grid-view-btn')[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0xfef63c=_0x471f11;globalDashboardSettings[_0xfef63c(0x1cf)]='grid',saveUserPreference(_0xfef63c(0x1cf),_0xfef63c(0x245)),renderProjects();}),document['getElementById'](_0x471f11(0x4ac))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x553638=_0x471f11;globalDashboardSettings[_0x553638(0x1cf)]=_0x553638(0x50c),saveUserPreference(_0x553638(0x1cf),'list'),renderProjects();}),manageTab[_0x471f11(0x893)](_0x471f11(0x30c),()=>switchProjectTab('manage')),resultsTab['addEventListener']('click',()=>switchProjectTab('results')),leaderboardTab[_0x471f11(0x893)](_0x471f11(0x30c),()=>switchProjectTab('leaderboard')),document[_0x471f11(0x596)](_0x471f11(0x357))['addEventListener'](_0x471f11(0x30c),()=>switchQuizDetailTab(_0x471f11(0x7cb))),document[_0x471f11(0x596)](_0x471f11(0x9b))[_0x471f11(0x893)]('click',()=>switchQuizDetailTab('scores')),document[_0x471f11(0x596)](_0x471f11(0x5c7))[_0x471f11(0x893)](_0x471f11(0x30c),()=>switchQuizDetailTab(_0x471f11(0x404))),document['getElementById'](_0x471f11(0x7a8))['addEventListener'](_0x471f11(0x30c),()=>switchQuizDetailTab('behavior-log')),document[_0x471f11(0x596)]('analyze-strengths-btn')[_0x471f11(0x893)](_0x471f11(0x30c),handleAnalyzeClass),generateWorksheetBtn[_0x471f11(0x893)]('click',generateWorksheet);const _0x14b0dc=document[_0x471f11(0x596)]('link-tab'),_0x4b4758=document['getElementById'](_0x471f11(0xc4)),_0x3c4d15=document[_0x471f11(0x596)](_0x471f11(0x875)),_0x3ed6dd=document[_0x471f11(0x596)](_0x471f11(0x579)),_0x273625=document[_0x471f11(0x596)](_0x471f11(0x2cb)),_0x4fb0c4=document[_0x471f11(0x596)](_0x471f11(0x50e));topicTab['addEventListener'](_0x471f11(0x30c),()=>{const _0x5ba153=_0x471f11;topicTab['classList'][_0x5ba153(0x635)](_0x5ba153(0x164)),textTab[_0x5ba153(0x79b)][_0x5ba153(0x76b)](_0x5ba153(0x164)),fileTab[_0x5ba153(0x79b)][_0x5ba153(0x76b)](_0x5ba153(0x164)),worksheetTab[_0x5ba153(0x79b)][_0x5ba153(0x76b)](_0x5ba153(0x164));if(_0x14b0dc)_0x14b0dc[_0x5ba153(0x79b)][_0x5ba153(0x76b)](_0x5ba153(0x164));if(_0x3c4d15)_0x3c4d15[_0x5ba153(0x79b)][_0x5ba153(0x76b)](_0x5ba153(0x164));if(_0x273625)_0x273625['classList']['remove'](_0x5ba153(0x164));topicInputArea['classList'][_0x5ba153(0x76b)]('hidden'),textInputArea[_0x5ba153(0x79b)][_0x5ba153(0x635)](_0x5ba153(0x702)),fileInputArea[_0x5ba153(0x79b)][_0x5ba153(0x635)](_0x5ba153(0x702)),worksheetInputArea[_0x5ba153(0x79b)]['add'](_0x5ba153(0x702));if(_0x4b4758)_0x4b4758[_0x5ba153(0x79b)][_0x5ba153(0x635)](_0x5ba153(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x5ba153(0x79b)][_0x5ba153(0x635)](_0x5ba153(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x5ba153(0x79b)][_0x5ba153(0x635)](_0x5ba153(0x702));}),textTab[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x565518=_0x471f11;textTab[_0x565518(0x79b)][_0x565518(0x635)](_0x565518(0x164)),topicTab[_0x565518(0x79b)][_0x565518(0x76b)]('active'),fileTab[_0x565518(0x79b)]['remove'](_0x565518(0x164)),worksheetTab[_0x565518(0x79b)][_0x565518(0x76b)](_0x565518(0x164));if(_0x14b0dc)_0x14b0dc['classList']['remove'](_0x565518(0x164));if(_0x3c4d15)_0x3c4d15[_0x565518(0x79b)][_0x565518(0x76b)]('active');if(_0x273625)_0x273625[_0x565518(0x79b)]['remove'](_0x565518(0x164));textInputArea[_0x565518(0x79b)][_0x565518(0x76b)](_0x565518(0x702)),topicInputArea[_0x565518(0x79b)][_0x565518(0x635)](_0x565518(0x702)),fileInputArea[_0x565518(0x79b)]['add'](_0x565518(0x702)),worksheetInputArea[_0x565518(0x79b)][_0x565518(0x635)](_0x565518(0x702));if(_0x4b4758)_0x4b4758[_0x565518(0x79b)]['add'](_0x565518(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x565518(0x79b)]['add'](_0x565518(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x565518(0x79b)][_0x565518(0x635)](_0x565518(0x702));}),fileTab[_0x471f11(0x893)]('click',()=>{const _0x1582c5=_0x471f11;fileTab[_0x1582c5(0x79b)]['add']('active'),topicTab[_0x1582c5(0x79b)][_0x1582c5(0x76b)](_0x1582c5(0x164)),textTab[_0x1582c5(0x79b)][_0x1582c5(0x76b)](_0x1582c5(0x164)),worksheetTab[_0x1582c5(0x79b)][_0x1582c5(0x76b)](_0x1582c5(0x164));if(_0x14b0dc)_0x14b0dc['classList'][_0x1582c5(0x76b)](_0x1582c5(0x164));if(_0x3c4d15)_0x3c4d15[_0x1582c5(0x79b)]['remove'](_0x1582c5(0x164));if(_0x273625)_0x273625['classList'][_0x1582c5(0x76b)](_0x1582c5(0x164));fileInputArea[_0x1582c5(0x79b)][_0x1582c5(0x76b)](_0x1582c5(0x702)),topicInputArea[_0x1582c5(0x79b)]['add'](_0x1582c5(0x702)),textInputArea[_0x1582c5(0x79b)]['add'](_0x1582c5(0x702)),worksheetInputArea[_0x1582c5(0x79b)][_0x1582c5(0x635)]('hidden');if(_0x4b4758)_0x4b4758[_0x1582c5(0x79b)][_0x1582c5(0x635)](_0x1582c5(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x1582c5(0x79b)][_0x1582c5(0x635)](_0x1582c5(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x1582c5(0x79b)][_0x1582c5(0x635)]('hidden');}),worksheetTab['addEventListener'](_0x471f11(0x30c),()=>{const _0x4fef0a=_0x471f11;worksheetTab[_0x4fef0a(0x79b)]['add'](_0x4fef0a(0x164)),topicTab[_0x4fef0a(0x79b)][_0x4fef0a(0x76b)](_0x4fef0a(0x164)),textTab[_0x4fef0a(0x79b)][_0x4fef0a(0x76b)](_0x4fef0a(0x164)),fileTab['classList'][_0x4fef0a(0x76b)]('active');if(_0x14b0dc)_0x14b0dc[_0x4fef0a(0x79b)][_0x4fef0a(0x76b)](_0x4fef0a(0x164));if(_0x3c4d15)_0x3c4d15[_0x4fef0a(0x79b)][_0x4fef0a(0x76b)]('active');if(_0x273625)_0x273625[_0x4fef0a(0x79b)][_0x4fef0a(0x76b)](_0x4fef0a(0x164));worksheetInputArea[_0x4fef0a(0x79b)]['remove'](_0x4fef0a(0x702)),topicInputArea[_0x4fef0a(0x79b)][_0x4fef0a(0x635)](_0x4fef0a(0x702)),textInputArea[_0x4fef0a(0x79b)][_0x4fef0a(0x635)](_0x4fef0a(0x702)),fileInputArea[_0x4fef0a(0x79b)][_0x4fef0a(0x635)](_0x4fef0a(0x702));if(_0x4b4758)_0x4b4758['classList'][_0x4fef0a(0x635)](_0x4fef0a(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x4fef0a(0x79b)]['add']('hidden');if(_0x4fb0c4)_0x4fb0c4['classList'][_0x4fef0a(0x635)](_0x4fef0a(0x702));});const _0x208c01=document[_0x471f11(0x596)](_0x471f11(0x39d)),_0x179b87=document[_0x471f11(0x596)]('bank-input-area');_0x208c01&&_0x208c01[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x1d3388=_0x471f11;topicTab[_0x1d3388(0x79b)][_0x1d3388(0x76b)]('active'),textTab[_0x1d3388(0x79b)]['remove'](_0x1d3388(0x164)),fileTab['classList']['remove'](_0x1d3388(0x164)),worksheetTab['classList'][_0x1d3388(0x76b)](_0x1d3388(0x164));if(_0x14b0dc)_0x14b0dc[_0x1d3388(0x79b)][_0x1d3388(0x76b)](_0x1d3388(0x164));if(_0x3c4d15)_0x3c4d15['classList'][_0x1d3388(0x76b)](_0x1d3388(0x164));if(_0x273625)_0x273625[_0x1d3388(0x79b)][_0x1d3388(0x76b)](_0x1d3388(0x164));_0x208c01[_0x1d3388(0x79b)]['add'](_0x1d3388(0x164)),topicInputArea[_0x1d3388(0x79b)][_0x1d3388(0x635)](_0x1d3388(0x702)),textInputArea['classList'][_0x1d3388(0x635)](_0x1d3388(0x702)),fileInputArea[_0x1d3388(0x79b)]['add'](_0x1d3388(0x702)),worksheetInputArea[_0x1d3388(0x79b)]['add'](_0x1d3388(0x702));if(_0x4b4758)_0x4b4758[_0x1d3388(0x79b)][_0x1d3388(0x635)](_0x1d3388(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x1d3388(0x79b)]['add'](_0x1d3388(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x1d3388(0x79b)][_0x1d3388(0x635)](_0x1d3388(0x702));_0x179b87[_0x1d3388(0x79b)][_0x1d3388(0x76b)](_0x1d3388(0x702)),displayQuestionBank();});_0x14b0dc&&(_0x14b0dc[_0x471f11(0x893)]('click',()=>{const _0x552a0e=_0x471f11;_0x14b0dc[_0x552a0e(0x79b)]['add']('active'),topicTab[_0x552a0e(0x79b)]['remove']('active'),textTab[_0x552a0e(0x79b)][_0x552a0e(0x76b)](_0x552a0e(0x164)),fileTab[_0x552a0e(0x79b)][_0x552a0e(0x76b)]('active'),worksheetTab['classList'][_0x552a0e(0x76b)](_0x552a0e(0x164));if(_0x3c4d15)_0x3c4d15[_0x552a0e(0x79b)][_0x552a0e(0x76b)](_0x552a0e(0x164));if(_0x273625)_0x273625[_0x552a0e(0x79b)][_0x552a0e(0x76b)](_0x552a0e(0x164));_0x4b4758[_0x552a0e(0x79b)]['remove'](_0x552a0e(0x702)),topicInputArea[_0x552a0e(0x79b)][_0x552a0e(0x635)](_0x552a0e(0x702)),textInputArea[_0x552a0e(0x79b)][_0x552a0e(0x635)](_0x552a0e(0x702)),fileInputArea['classList'][_0x552a0e(0x635)](_0x552a0e(0x702)),worksheetInputArea[_0x552a0e(0x79b)][_0x552a0e(0x635)](_0x552a0e(0x702));if(_0x3ed6dd)_0x3ed6dd['classList'][_0x552a0e(0x635)](_0x552a0e(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x552a0e(0x79b)][_0x552a0e(0x635)]('hidden');}),document['getElementById'](_0x471f11(0x50f))[_0x471f11(0x893)](_0x471f11(0x30c),handleGenerateFromLink));_0x3c4d15&&_0x3c4d15[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x2cc92a=_0x471f11;_0x3c4d15[_0x2cc92a(0x79b)][_0x2cc92a(0x635)](_0x2cc92a(0x164)),topicTab['classList']['remove'](_0x2cc92a(0x164)),textTab['classList']['remove'](_0x2cc92a(0x164)),fileTab[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x164)),worksheetTab[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x164));if(_0x14b0dc)_0x14b0dc[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x164));if(_0x208c01)_0x208c01[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x164));if(_0x273625)_0x273625[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x164));_0x3ed6dd[_0x2cc92a(0x79b)][_0x2cc92a(0x76b)](_0x2cc92a(0x702)),topicInputArea[_0x2cc92a(0x79b)][_0x2cc92a(0x635)]('hidden'),textInputArea[_0x2cc92a(0x79b)]['add']('hidden'),fileInputArea[_0x2cc92a(0x79b)]['add'](_0x2cc92a(0x702)),worksheetInputArea['classList'][_0x2cc92a(0x635)](_0x2cc92a(0x702));if(_0x4b4758)_0x4b4758[_0x2cc92a(0x79b)][_0x2cc92a(0x635)]('hidden');if(_0x179b87)_0x179b87['classList'][_0x2cc92a(0x635)](_0x2cc92a(0x702));if(_0x4fb0c4)_0x4fb0c4[_0x2cc92a(0x79b)][_0x2cc92a(0x635)](_0x2cc92a(0x702));});_0x273625&&_0x273625['addEventListener'](_0x471f11(0x30c),()=>{const _0x203d00=_0x471f11;_0x273625[_0x203d00(0x79b)][_0x203d00(0x635)]('active'),topicTab['classList'][_0x203d00(0x76b)](_0x203d00(0x164)),textTab[_0x203d00(0x79b)][_0x203d00(0x76b)](_0x203d00(0x164)),fileTab['classList'][_0x203d00(0x76b)](_0x203d00(0x164)),worksheetTab[_0x203d00(0x79b)][_0x203d00(0x76b)](_0x203d00(0x164));if(_0x14b0dc)_0x14b0dc[_0x203d00(0x79b)][_0x203d00(0x76b)]('active');if(_0x3c4d15)_0x3c4d15[_0x203d00(0x79b)]['remove'](_0x203d00(0x164));if(_0x208c01)_0x208c01[_0x203d00(0x79b)]['remove'](_0x203d00(0x164));_0x4fb0c4[_0x203d00(0x79b)]['remove'](_0x203d00(0x702)),topicInputArea['classList'][_0x203d00(0x635)](_0x203d00(0x702)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x203d00(0x79b)][_0x203d00(0x635)](_0x203d00(0x702)),worksheetInputArea['classList']['add'](_0x203d00(0x702));if(_0x4b4758)_0x4b4758[_0x203d00(0x79b)][_0x203d00(0x635)](_0x203d00(0x702));if(_0x3ed6dd)_0x3ed6dd[_0x203d00(0x79b)][_0x203d00(0x635)](_0x203d00(0x702));if(_0x179b87)_0x179b87[_0x203d00(0x79b)]['add'](_0x203d00(0x702));});const _0x4cde56=document[_0x471f11(0x596)](_0x471f11(0x787)),_0x14faf8=document['getElementById']('generate-from-blueprint-btn');_0x4cde56&&_0x4cde56[_0x471f11(0x893)](_0x471f11(0x4c4),_0x4c189d=>{const _0x2bbf97=_0x471f11;_0x4c189d[_0x2bbf97(0x5f0)]['files'][_0x2bbf97(0x2c4)]>0x0?_0x14faf8['disabled']=![]:_0x14faf8[_0x2bbf97(0x64a)]=!![];});_0x14faf8&&_0x14faf8[_0x471f11(0x893)](_0x471f11(0x30c),handleGenerateFromBlueprint);const _0x3fa593=document['getElementById'](_0x471f11(0x655)),_0x2c2a3f=document[_0x471f11(0x596)](_0x471f11(0x2c0));_0x3fa593&&_0x3fa593['addEventListener'](_0x471f11(0x4c4),_0x35ce8f=>{const _0x52a7cb=_0x471f11;_0x2c2a3f[_0x52a7cb(0x64a)]=_0x35ce8f[_0x52a7cb(0x5f0)][_0x52a7cb(0x3f9)][_0x52a7cb(0x2c4)]===0x0;});_0x2c2a3f&&_0x2c2a3f['addEventListener'](_0x471f11(0x30c),handleGenerateParallelTest);loadQuizBtn[_0x471f11(0x893)](_0x471f11(0x30c),handleLoadQuiz),startQuizBtn['addEventListener'](_0x471f11(0x30c),async()=>{const _0x49d9d5=_0x471f11,_0x1a2808=document['getElementById'](_0x49d9d5(0x399));currentStudentName=_0x1a2808['value'];if(!currentStudentName){showMessage(_0x49d9d5(0x880));return;}try{const _0x1e230d=currentQuizData['id'],_0x40887b=doc(db,_0x49d9d5(0x4cb)+appId+'/public/data/quizzes/'+_0x1e230d+_0x49d9d5(0x2a8),currentStudentName);await setDoc(_0x40887b,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x4c9fa6){console[_0x49d9d5(0x5dc)](_0x49d9d5(0x573),_0x4c9fa6),showMessage(_0x49d9d5(0x294));return;}studentNameSelectionView[_0x49d9d5(0x79b)][_0x49d9d5(0x635)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x471f11(0x596)]('join-live-game-btn')[_0x471f11(0x893)](_0x471f11(0x30c),showJoinGameView),document[_0x471f11(0x596)](_0x471f11(0x306))[_0x471f11(0x893)](_0x471f11(0x30c),handleJoinLiveGame),document[_0x471f11(0x596)](_0x471f11(0x84f))[_0x471f11(0x893)](_0x471f11(0x30c),()=>showView('student'));const _0xcedae=()=>{const _0x38573c=_0x471f11,_0x3931e4=document[_0x38573c(0x596)](_0x38573c(0x32f))[_0x38573c(0x195)][_0x38573c(0x16e)](/[^a-z0-9]/gi,'_')[_0x38573c(0x7e1)]();return _0x38573c(0x899)+(_0x3931e4||_0x38573c(0x10f));},_0x1e8b2c=document[_0x471f11(0x596)](_0x471f11(0x366));_0x1e8b2c&&_0x1e8b2c[_0x471f11(0x893)](_0x471f11(0x865),_0x1d95f3=>{const _0x43dc37=_0x471f11,_0x54f2c7=_0x1d95f3['target']['value']['toLowerCase']()['trim'](),_0x3eed4e=document[_0x43dc37(0x596)](_0x43dc37(0x752)),_0x53a899=_0x3eed4e[_0x43dc37(0x5f5)]('.topic-category');_0x53a899[_0x43dc37(0x450)](_0x1a5be2=>{const _0x3bc324=_0x43dc37;let _0x6f6219=![];const _0x33f65b=_0x1a5be2['querySelectorAll'](_0x3bc324(0x225));_0x33f65b[_0x3bc324(0x450)](_0x56b005=>{const _0xd54f30=_0x3bc324,_0x1f0202=_0x56b005['querySelector'](_0xd54f30(0x52a))[_0xd54f30(0x195)][_0xd54f30(0x7e1)]();_0x1f0202['includes'](_0x54f2c7)?(_0x56b005[_0xd54f30(0xae)][_0xd54f30(0x42e)]=_0xd54f30(0x37d),_0x6f6219=!![]):_0x56b005[_0xd54f30(0xae)]['display']=_0xd54f30(0x73d);}),_0x6f6219?_0x1a5be2['style'][_0x3bc324(0x42e)]=_0x3bc324(0xd0):_0x1a5be2[_0x3bc324(0xae)]['display']='none';});});document[_0x471f11(0x596)]('export-image-btn')[_0x471f11(0x893)]('click',()=>exportTableAsImage(_0x471f11(0xfc),_0xcedae())),document[_0x471f11(0x596)](_0x471f11(0x3e1))[_0x471f11(0x893)](_0x471f11(0x30c),()=>exportTableAsPDF(_0x471f11(0x48b),_0xcedae())),document[_0x471f11(0x596)](_0x471f11(0xb7))['addEventListener']('click',()=>exportTableAsWord(_0x471f11(0xfc),_0xcedae())),document[_0x471f11(0x596)](_0x471f11(0x2aa))[_0x471f11(0x893)](_0x471f11(0x30c),()=>exportTableAsExcel(_0x471f11(0x48b),_0xcedae()));const _0x1668e9=()=>{const _0x1e4a8f=_0x471f11,_0x18ee8c=document[_0x1e4a8f(0x596)]('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x1e4a8f(0x7e1)]();return _0x1e4a8f(0x739)+(_0x18ee8c||_0x1e4a8f(0x10f));};document[_0x471f11(0x596)](_0x471f11(0x4d9))[_0x471f11(0x893)](_0x471f11(0x30c),()=>exportTableAsImage(_0x471f11(0x87e),_0x1668e9())),document['getElementById'](_0x471f11(0x7e4))[_0x471f11(0x893)](_0x471f11(0x30c),()=>exportTableAsPDF(_0x471f11(0x414),_0x1668e9())),document['getElementById'](_0x471f11(0x5ea))['addEventListener'](_0x471f11(0x30c),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x1668e9())),document[_0x471f11(0x596)](_0x471f11(0x20b))[_0x471f11(0x893)]('click',()=>exportTableAsExcel(_0x471f11(0x414),_0x1668e9())),projectQuizzesList[_0x471f11(0x893)](_0x471f11(0x30c),async _0x4a57b0=>{const _0x2a4ad1=_0x471f11,_0x2252ba=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0x8b2)),_0xdabad8=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)]('.generate-post-test-btn'),_0x26d579=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x199)),_0x2281e5=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0x4e5)),_0x2ef024=_0x4a57b0['target'][_0x2a4ad1(0x785)](_0x2a4ad1(0x510)),_0xa01ff5=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)]('.copy-quiz-id-list-btn'),_0x2bea92=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x4d1)),_0x2b1409=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x6b4)),_0x21070a=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x4e4)),_0x384acc=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x618)),_0x304b7a=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)]('.parallel-quiz-btn'),_0x47cb0d=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)]('.move-quiz-btn'),_0x3f07b1=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0x2fd)),_0x458c06=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x873)),_0x4590cc=_0x4a57b0['target'][_0x2a4ad1(0x785)](_0x2a4ad1(0x3f4)),_0x8d1673=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x391)),_0x24e9b3=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0x334)),_0x4c95ce=_0x4a57b0['target'][_0x2a4ad1(0x785)](_0x2a4ad1(0x51a)),_0x2b187f=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0x3d0)),_0x23a604=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x5e1)),_0x362f42=_0x4a57b0[_0x2a4ad1(0x5f0)]['closest'](_0x2a4ad1(0xcc)),_0x3aba44=_0x4a57b0[_0x2a4ad1(0x5f0)][_0x2a4ad1(0x785)](_0x2a4ad1(0x765));if(_0x362f42){const _0x3b1797=_0x362f42[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],_0x3e7794=document[_0x2a4ad1(0x596)](_0x2a4ad1(0x754)+_0x3b1797);_0x3e7794&&_0x3e7794[_0x2a4ad1(0x79b)][_0x2a4ad1(0x7d7)](_0x2a4ad1(0x702));}else{if(_0xdabad8){const _0x4c5d3a=_0xdabad8[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],_0xcb57e4=allQuizzes[_0x2a4ad1(0x84c)](_0x2937a9=>_0x2937a9['id']===_0x4c5d3a);_0xcb57e4&&handleGenerateParallelPostTest(_0xcb57e4);}else{if(_0x26d579)handleCompareResults(_0x26d579[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],_0x26d579[_0x2a4ad1(0x4af)][_0x2a4ad1(0x1f8)]);else{if(_0x2281e5){const _0x11882e=_0x2281e5[_0x2a4ad1(0x4af)]['quizId'],_0x531f5e=allQuizzes[_0x2a4ad1(0x84c)](_0x4fe256=>_0x4fe256['id']===_0x11882e);_0x531f5e&&_0x531f5e['lessonPlan']?(displayLessonPlan(_0x531f5e[_0x2a4ad1(0x863)],_0x531f5e),showConfirmation(_0x2a4ad1(0x13d),()=>handleGenerateLessonPlan(_0x11882e)),document[_0x2a4ad1(0x596)]('confirmation-modal')[_0x2a4ad1(0x82d)]('h3')[_0x2a4ad1(0x195)]='แผนการสอน',document['getElementById'](_0x2a4ad1(0x1df))['textContent']=_0x2a4ad1(0x1fe)):handleGenerateLessonPlan(_0x11882e);}else{if(_0x2ef024)handleToggleStarQuiz(_0x2ef024[_0x2a4ad1(0x4af)]['quizId']);else{if(_0xa01ff5)copyTextToClipboard(_0xa01ff5[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],'คัดลอกรหัสแล้ว!');else{if(_0x2bea92)handleOpenQuizEditor(_0x2bea92['dataset']['quizId']);else{if(_0x2b1409)handleQuizSettings(_0x2b1409[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);else{if(_0x21070a)handleDuplicateQuiz(_0x21070a['dataset'][_0x2a4ad1(0x7f7)]);else{if(_0x384acc)handleRenameQuiz(_0x384acc[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],_0x384acc[_0x2a4ad1(0x4af)][_0x2a4ad1(0x231)]);else{if(_0x304b7a){const _0x44028b=_0x304b7a[_0x2a4ad1(0x4af)]['quizId'],_0x4611b1=allQuizzes['find'](_0x1715bc=>_0x1715bc['id']===_0x44028b);_0x4611b1&&handleGenerateParallelFromBank(_0x4611b1);}else{if(_0x47cb0d)handleMoveQuiz(_0x47cb0d[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);else{if(_0x3f07b1)handleManualQuizPairing(_0x3f07b1[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);else{if(_0x458c06)handleUnpairQuiz(_0x458c06['dataset'][_0x2a4ad1(0x7f7)]);else{if(_0x4590cc){const _0x3e5bd9=_0x4590cc['dataset']['quizId'],_0x30035f=allQuizzes[_0x2a4ad1(0x84c)](_0xc08fa0=>_0xc08fa0['id']===_0x3e5bd9);if(_0x30035f)startPresentation(_0x30035f);}else{if(_0x8d1673){const _0x1bd83d=_0x8d1673[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],_0x94b960=allQuizzes[_0x2a4ad1(0x84c)](_0x73f2e8=>_0x73f2e8['id']===_0x1bd83d);_0x94b960&&(currentQuizData=_0x94b960,startAdminTest());}else{if(_0x24e9b3)handleStartLiveRace(_0x24e9b3[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);else{if(_0x4c95ce)actionTargetId=_0x4c95ce[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)],document[_0x2a4ad1(0x596)](_0x2a4ad1(0x331))['classList'][_0x2a4ad1(0x76b)]('hidden');else{if(_0x2b187f)showConfirmation(_0x2a4ad1(0x3c6)+_0x2b187f['dataset'][_0x2a4ad1(0x231)]+_0x2a4ad1(0x831),()=>handleDeleteQuiz(_0x2b187f['dataset'][_0x2a4ad1(0x7f7)]));else{if(_0x23a604)handleQuizStatus(_0x23a604[_0x2a4ad1(0x4af)]['quizId']);else{if(_0x3aba44)handleGenerateEasyVersionQuiz(_0x3aba44[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);else _0x2252ba&&showQuizDetailView(_0x2252ba[_0x2a4ad1(0x4af)][_0x2a4ad1(0x7f7)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x471f11(0x596)]('quiz-leaderboard-table')[_0x471f11(0x82d)](_0x471f11(0x747))[_0x471f11(0x893)](_0x471f11(0x30c),_0x163ed2=>{const _0x3c128b=_0x471f11,_0xac1990=_0x163ed2[_0x3c128b(0x5f0)]['closest'](_0x3c128b(0x73f));if(!_0xac1990||!_0xac1990[_0x3c128b(0x4af)][_0x3c128b(0x60d)])return;const _0x304728=_0xac1990[_0x3c128b(0x4af)][_0x3c128b(0x60d)];if(quizLeaderboardSortBy===_0x304728)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3c128b(0x4ee)?_0x3c128b(0x378):_0x3c128b(0x4ee);else{quizLeaderboardSortBy=_0x304728;const _0x1a1691=[_0x3c128b(0x4a3)];quizLeaderboardSortOrder=_0x1a1691[_0x3c128b(0x7ec)](_0x304728)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3c128b(0x86e));}),document['getElementById']('close-presentation-btn')[_0x471f11(0x893)]('click',closePresentation),document['getElementById']('prev-question-btn')['addEventListener'](_0x471f11(0x30c),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x471f11(0x596)]('next-question-btn')[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x7e0090=_0x471f11;currentQuizData[_0x7e0090(0x2e8)]&&currentPresentationSlide<currentQuizData[_0x7e0090(0x2e8)][_0x7e0090(0x2c4)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x471f11(0x893)](_0x471f11(0x3ba),()=>{const _0x1032c7=_0x471f11;!document[_0x1032c7(0x6f6)]&&(presentationModal[_0x1032c7(0xae)][_0x1032c7(0x42e)]=_0x1032c7(0x73d));}),document[_0x471f11(0x596)](_0x471f11(0x6be))[_0x471f11(0x893)](_0x471f11(0x30c),handleDeleteAllStudents),studentList[_0x471f11(0x893)](_0x471f11(0x30c),_0xd9c80f=>{const _0x266bed=_0x471f11,_0x4f1e92=_0xd9c80f['target'][_0x266bed(0x785)](_0x266bed(0x475));if(_0x4f1e92){const _0x5c47eb=_0x4f1e92[_0x266bed(0x4af)][_0x266bed(0x4a3)];handleDeleteStudent(_0x5c47eb);}}),document[_0x471f11(0x596)](_0x471f11(0x24c))[_0x471f11(0x893)](_0x471f11(0x30c),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x471f11(0x4c4),_0x308961=>{const _0x35a072=_0x471f11,_0xc38029=_0x308961[_0x35a072(0x5f0)][_0x35a072(0x3f9)][0x0],_0x511316=document[_0x35a072(0x596)]('generate-from-file-btn');_0xc38029?(selectedFile=_0xc38029,_0x511316['disabled']=![]):(selectedFile=null,_0x511316['disabled']=!![]);}),document[_0x471f11(0x596)](_0x471f11(0x2f4))['addEventListener']('change',_0x5c19e5=>{const _0x5695f0=_0x471f11,_0x1cd2c6=document[_0x5695f0(0x596)](_0x5695f0(0x878)),_0x27a93a=document[_0x5695f0(0x596)](_0x5695f0(0xa5)),_0x5c8db0=document[_0x5695f0(0x596)](_0x5695f0(0x7a6));_0x5c19e5['target'][_0x5695f0(0x800)]===_0x5695f0(0x73d)?_0x1cd2c6[_0x5695f0(0x79b)][_0x5695f0(0x635)]('hidden'):(_0x1cd2c6[_0x5695f0(0x79b)][_0x5695f0(0x76b)](_0x5695f0(0x702)),_0x5c19e5[_0x5695f0(0x5f0)]['value']==='whole_quiz'?(_0x27a93a[_0x5695f0(0x195)]=_0x5695f0(0x45b),_0x5c8db0[_0x5695f0(0x800)]='10'):(_0x27a93a[_0x5695f0(0x195)]=_0x5695f0(0x1d4),_0x5c8db0[_0x5695f0(0x800)]='30'));}),document['getElementById'](_0x471f11(0x588))['addEventListener'](_0x471f11(0x4c4),_0x4a9611=>{const _0x47cc64=_0x471f11,_0x44e7f6=document['getElementById'](_0x47cc64(0x2a5)),_0x2ed8d0=_0x4a9611[_0x47cc64(0x5f0)][_0x47cc64(0x800)],_0xe0b21=document[_0x47cc64(0x82d)]('label[for=\x22num-questions\x22]'),_0x6032e1=document[_0x47cc64(0x596)]('passing-score-input'),_0x195266=document['getElementById'](_0x47cc64(0x811));_0x2ed8d0===_0x47cc64(0x1b3)?_0xe0b21[_0x47cc64(0x195)]='จำนวนคู่:':_0xe0b21[_0x47cc64(0x195)]=_0x47cc64(0x41a),_0x2ed8d0===_0x47cc64(0x666)||_0x2ed8d0===_0x47cc64(0x2e2)||_0x2ed8d0==='mixed'?_0x44e7f6['classList'][_0x47cc64(0x76b)](_0x47cc64(0x702)):_0x44e7f6['classList']['add'](_0x47cc64(0x702)),_0x6032e1[_0x47cc64(0x665)]=_0x195266[_0x47cc64(0x800)];}),document[_0x471f11(0x596)](_0x471f11(0x811))[_0x471f11(0x893)](_0x471f11(0x865),_0xbdf4d4=>{const _0x353041=_0x471f11;document[_0x353041(0x596)](_0x353041(0x424))[_0x353041(0x665)]=_0xbdf4d4[_0x353041(0x5f0)][_0x353041(0x800)];}),document['getElementById'](_0x471f11(0x223))['addEventListener'](_0x471f11(0x4c4),_0xe2ec70=>{const _0x44e601=_0x471f11,_0x3c2012=document[_0x44e601(0x596)](_0x44e601(0x6e3)),_0x136858=document[_0x44e601(0x596)](_0x44e601(0x412)),_0x11dbd1=document[_0x44e601(0x596)]('modal-timer-duration-input');_0xe2ec70[_0x44e601(0x5f0)][_0x44e601(0x800)]===_0x44e601(0x73d)?_0x3c2012[_0x44e601(0x79b)][_0x44e601(0x635)](_0x44e601(0x702)):(_0x3c2012[_0x44e601(0x79b)][_0x44e601(0x76b)](_0x44e601(0x702)),_0xe2ec70['target'][_0x44e601(0x800)]===_0x44e601(0x2fa)?_0x136858['textContent']=_0x44e601(0x45b):_0x136858['textContent']=_0x44e601(0x1d4));}),document[_0x471f11(0x596)](_0x471f11(0x472))['addEventListener'](_0x471f11(0x30c),()=>{const _0xe5aaf5=_0x471f11;document['getElementById']('quiz-editor-modal')[_0xe5aaf5(0x79b)][_0xe5aaf5(0x635)](_0xe5aaf5(0x702));}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x155026=_0x471f11;document[_0x155026(0x596)](_0x155026(0x3eb))['classList'][_0x155026(0x635)](_0x155026(0x702));}),document['getElementById']('verify-answers-editor-btn')['addEventListener']('click',handleVerifyAnswersInEditor),document[_0x471f11(0x596)](_0x471f11(0x461))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x5a662f=_0x471f11;document[_0x5a662f(0x596)]('quiz-editor-modal')[_0x5a662f(0x79b)]['add'](_0x5a662f(0x702)),showConfirmation(_0x5a662f(0x517),handleSaveChanges);}),document[_0x471f11(0x596)](_0x471f11(0x1c0))[_0x471f11(0x893)](_0x471f11(0x30c),handleAutoFixLatex);const _0x2a0cdf=document[_0x471f11(0x596)](_0x471f11(0x6a3));_0x2a0cdf&&_0x2a0cdf[_0x471f11(0x893)](_0x471f11(0x30c),_0x1d7e07=>{const _0xc5d856=_0x471f11,_0x4c6282=_0x1d7e07[_0xc5d856(0x5f0)][_0xc5d856(0x785)](_0xc5d856(0x84a));if(_0x4c6282){const _0x183cbb=_0x4c6282[_0xc5d856(0x785)](_0xc5d856(0x2cf)),_0x12e248=parseInt(_0x183cbb[_0xc5d856(0x4af)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x12e248);}});document['getElementById'](_0x471f11(0x3db))['addEventListener']('click',openQuizBankModal),document[_0x471f11(0x596)](_0x471f11(0x5ad))[_0x471f11(0x893)]('click',()=>{const _0x41a962=_0x471f11;document[_0x41a962(0x596)](_0x41a962(0x1a6))[_0x41a962(0x79b)][_0x41a962(0x635)]('hidden');}),document['getElementById'](_0x471f11(0x3f7))[_0x471f11(0x893)](_0x471f11(0x865),_0x4445b2=>renderQuizBankList(_0x4445b2[_0x471f11(0x5f0)][_0x471f11(0x800)]));const _0x1aa3a4=document[_0x471f11(0x596)]('math-topics-checkbox-container');if(_0x1aa3a4){let _0x1256f6=null;_0x1aa3a4[_0x471f11(0x893)]('click',_0x1d28e4=>{const _0x39ecbe=_0x471f11,_0x5be01a=_0x1d28e4['target'],_0xb8d93b=_0x5be01a['closest'](_0x39ecbe(0x26b)),_0x3dfaaf=_0x5be01a[_0x39ecbe(0x785)](_0x39ecbe(0xc5)),_0xfb3e80=_0x5be01a[_0x39ecbe(0x785)](_0x39ecbe(0x3ec)),_0x3d7c71=_0x5be01a['closest']('.cancel-edit-topic-btn');if(_0x3dfaaf){_0x1d28e4['preventDefault']();const _0x44c14a=_0x3dfaaf['dataset']['id'],_0x1b7a0e=_0x3dfaaf[_0x39ecbe(0x785)](_0x39ecbe(0x823))[_0x39ecbe(0x82d)](_0x39ecbe(0x52a))['textContent'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x1b7a0e+'\x22?',()=>handleDeleteCustomTopic(_0x44c14a));}else{if(_0xb8d93b){_0x1d28e4[_0x39ecbe(0x24e)]();_0x1256f6&&toggleTopicEditMode(_0x1256f6,![]);const _0x3c33d5=_0xb8d93b[_0x39ecbe(0x785)](_0x39ecbe(0x3ce));_0x1256f6=_0x3c33d5,toggleTopicEditMode(_0x3c33d5,!![]);}else{if(_0xfb3e80){_0x1d28e4['preventDefault']();const _0x2b3ad5=_0xfb3e80[_0x39ecbe(0x4af)]['id'],_0x26dd14=_0xfb3e80['closest']('[data-topic-container-id]'),_0x4bd7c4=_0x26dd14[_0x39ecbe(0x82d)](_0x39ecbe(0x1a5))[_0x39ecbe(0x800)];handleUpdateCustomTopic(_0x2b3ad5,_0x4bd7c4),_0x1256f6=null;}else{if(_0x3d7c71){_0x1d28e4[_0x39ecbe(0x24e)]();const _0x512a11=_0x3d7c71[_0x39ecbe(0x785)](_0x39ecbe(0x3ce));toggleTopicEditMode(_0x512a11,![]),_0x1256f6=null;}}}}}),document[_0x471f11(0x596)](_0x471f11(0x486))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x36ce52=_0x471f11;document['getElementById'](_0x36ce52(0x2b5))['classList'][_0x36ce52(0x635)]('hidden');}),document[_0x471f11(0x596)](_0x471f11(0x4d0))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x38e87c=_0x471f11;document['getElementById'](_0x38e87c(0x2b5))[_0x38e87c(0x79b)][_0x38e87c(0x635)](_0x38e87c(0x702));}),document['getElementById'](_0x471f11(0x53a))[_0x471f11(0x893)](_0x471f11(0x30c),handleExportLessonPDF);}document[_0x471f11(0x596)](_0x471f11(0x446))['addEventListener'](_0x471f11(0x30c),()=>{const _0x43b712=_0x471f11;document[_0x43b712(0x596)]('comparison-modal')[_0x43b712(0x79b)][_0x43b712(0x635)](_0x43b712(0x702));}),document[_0x471f11(0x596)](_0x471f11(0x186))[_0x471f11(0x893)](_0x471f11(0x30c),()=>{const _0x554963=_0x471f11;document[_0x554963(0x596)](_0x554963(0x80f))[_0x554963(0x79b)][_0x554963(0x635)](_0x554963(0x702));}),setupComparisonModalTabs(),document[_0x471f11(0x170)][_0x471f11(0x893)](_0x471f11(0x30c),function(_0x278a38){const _0x19ebc9=_0x471f11;if(_0x278a38['target']['classList']['contains'](_0x19ebc9(0x41b))){const _0x5ae755=unescape(_0x278a38[_0x19ebc9(0x5f0)][_0x19ebc9(0x4af)][_0x19ebc9(0x231)]);startSkillPractice(_0x5ae755);}}),document[_0x471f11(0x596)](_0x471f11(0x115))[_0x471f11(0x893)]('click',_0x3c3e87=>{const _0x49908d=_0x471f11,_0x29b683=_0x3c3e87['target'][_0x49908d(0x785)]('.delete-submission-btn');if(_0x29b683){const _0x21364e=_0x29b683['dataset'][_0x49908d(0x4a3)];handleDeleteSubmission(_0x21364e);}});}async function showStudentProgressView(){const _0x4fd261=_0x597754;studentInitialView[_0x4fd261(0x79b)][_0x4fd261(0x635)](_0x4fd261(0x702)),document[_0x4fd261(0x596)](_0x4fd261(0x500))[_0x4fd261(0x79b)]['remove']('hidden');const _0x32fbe1=document['getElementById'](_0x4fd261(0x248)),_0x4f9c05=document[_0x4fd261(0x596)]('progress-student-select'),_0x2c9fda=document[_0x4fd261(0x596)](_0x4fd261(0x5be));_0x2c9fda[_0x4fd261(0x8a2)]=_0x4fd261(0x4e8),_0x4f9c05[_0x4fd261(0x8a2)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4f9c05[_0x4fd261(0x64a)]=!![],_0x32fbe1['innerHTML']=_0x4fd261(0x491);if(allProjects['length']===0x0){const _0x3b1275=collection(db,_0x4fd261(0x4cb)+appId+_0x4fd261(0x6bf)),_0x4e72d1=await getDocs(_0x3b1275);allProjects=_0x4e72d1['docs']['map'](_0x12883e=>({'id':_0x12883e['id'],..._0x12883e[_0x4fd261(0x324)]()}));}const _0x4a7db2=allProjects[_0x4fd261(0x534)](_0x172637=>_0x172637[_0x4fd261(0x417)]?.[_0x4fd261(0x332)]!==![]);_0x4a7db2[_0x4fd261(0x60d)]((_0x50d59a,_0x42bb7)=>_0x50d59a[_0x4fd261(0x6e8)][_0x4fd261(0x3d8)](_0x42bb7[_0x4fd261(0x6e8)],'th')),_0x32fbe1[_0x4fd261(0x8a2)]=_0x4fd261(0xec)+_0x4a7db2[_0x4fd261(0x535)](_0x81354=>'<option\x20value=\x22'+_0x81354['id']+'\x22>'+_0x81354[_0x4fd261(0x6e8)]+_0x4fd261(0x65e))[_0x4fd261(0x243)](''),_0x32fbe1['onchange']=()=>{const _0x38f49c=_0x4fd261,_0x42e6ff=_0x4f9c05['value'],_0x2bd1b9=_0x32fbe1[_0x38f49c(0x800)];_0x4f9c05[_0x38f49c(0x64a)]=!![],_0x4f9c05['innerHTML']=_0x38f49c(0xf2),_0x2c9fda[_0x38f49c(0x8a2)]=_0x38f49c(0x6bb);if(!_0x2bd1b9)return;const _0x389433=allProjects[_0x38f49c(0x84c)](_0x594060=>_0x594060['id']===_0x2bd1b9);if(!_0x389433||!_0x389433[_0x38f49c(0x3ae)])return;const _0xeabb15=()=>{const _0x4b40a3=_0x38f49c;_0x4f9c05[_0x4b40a3(0x8a2)]=_0x4b40a3(0xf2)+_0x389433[_0x4b40a3(0x3ae)][_0x4b40a3(0x535)](_0x13712a=>_0x4b40a3(0x238)+_0x13712a+'\x22>'+_0x13712a+_0x4b40a3(0x65e))[_0x4b40a3(0x243)](''),_0x4f9c05[_0x4b40a3(0x64a)]=![];const _0x3326e8=Array[_0x4b40a3(0x483)](_0x4f9c05[_0x4b40a3(0x730)])[_0x4b40a3(0x535)](_0x20ac43=>_0x20ac43[_0x4b40a3(0x800)]);if(_0x42e6ff&&_0x3326e8[_0x4b40a3(0x7ec)](_0x42e6ff))_0x4f9c05[_0x4b40a3(0x800)]=_0x42e6ff,_0x4f9c05[_0x4b40a3(0x628)](new Event('change'));else _0x389433[_0x4b40a3(0x3ae)][_0x4b40a3(0x2c4)]===0x1&&(_0x4f9c05[_0x4b40a3(0x800)]=_0x389433[_0x4b40a3(0x3ae)][0x0],_0x4f9c05[_0x4b40a3(0x628)](new Event(_0x4b40a3(0x4c4))));};if(_0x389433[_0x38f49c(0x417)]?.[_0x38f49c(0xf9)]){if(sessionStorage['getItem'](_0x38f49c(0x791)+_0x2bd1b9)===_0x38f49c(0xb5)){_0xeabb15();return;}const _0xc23754=document['getElementById'](_0x38f49c(0x2d2)),_0x3d4403=document[_0x38f49c(0x596)](_0x38f49c(0x740)),_0x4fb636=document[_0x38f49c(0x596)](_0x38f49c(0x427)),_0x5cb95e=document[_0x38f49c(0x596)](_0x38f49c(0x5d6)),_0x443cae=document[_0x38f49c(0x596)](_0x38f49c(0x8b7));document[_0x38f49c(0x596)](_0x38f49c(0x387))['textContent']=_0x38f49c(0x874)+_0x389433[_0x38f49c(0x6e8)],_0x5cb95e[_0x38f49c(0x800)]='',_0x443cae[_0x38f49c(0x79b)][_0x38f49c(0x635)](_0x38f49c(0x702)),_0xc23754[_0x38f49c(0x79b)][_0x38f49c(0x76b)](_0x38f49c(0x702));const _0x5800a3=()=>{const _0x26fbe2=_0x38f49c,_0x56a9d1=_0x5cb95e[_0x26fbe2(0x800)][_0x26fbe2(0xb9)]();_0x56a9d1===_0x389433['settings'][_0x26fbe2(0x55f)]?(sessionStorage['setItem'](_0x26fbe2(0x791)+_0x2bd1b9,_0x26fbe2(0xb5)),_0xc23754[_0x26fbe2(0x79b)]['add'](_0x26fbe2(0x702)),_0xeabb15(),_0x3d4403[_0x26fbe2(0x470)]('click',_0x5800a3)):_0x443cae[_0x26fbe2(0x79b)]['remove']('hidden');};_0x3d4403['onclick']=_0x5800a3,_0x4fb636[_0x38f49c(0x7ce)]=()=>{const _0x592e91=_0x38f49c;_0xc23754[_0x592e91(0x79b)][_0x592e91(0x635)](_0x592e91(0x702)),_0x32fbe1[_0x592e91(0x800)]='',_0x3d4403[_0x592e91(0x470)](_0x592e91(0x30c),_0x5800a3);};}else _0xeabb15();},_0x4f9c05[_0x4fd261(0x3ca)]=()=>{const _0x151850=_0x4fd261,_0x3a5bfd=_0x32fbe1[_0x151850(0x800)],_0x370e53=_0x4f9c05[_0x151850(0x800)];_0x3a5bfd&&_0x370e53&&renderStudentProgressDashboard(_0x3a5bfd,_0x370e53);};}async function renderStudentProgressDashboard(_0x48c5ce,_0x40d4f4){const _0x4d3120=_0x597754,_0x187b24=document[_0x4d3120(0x596)]('student-progress-content');_0x187b24[_0x4d3120(0x8a2)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x4e56a3=collection(db,'artifacts/'+appId+_0x4d3120(0x1be)),_0x5abd10=query(_0x4e56a3,where(_0x4d3120(0x7f2),'==',_0x48c5ce)),_0xc608fb=await getDocs(_0x5abd10),_0x310709=_0xc608fb[_0x4d3120(0x521)]['map'](_0xc88cb6=>({'id':_0xc88cb6['id'],..._0xc88cb6[_0x4d3120(0x324)]()})),_0x4baeb6=_0x310709[_0x4d3120(0x535)](_0x2fffb7=>getDoc(doc(db,_0x4d3120(0x4cb)+appId+_0x4d3120(0x33f)+_0x2fffb7['id']+_0x4d3120(0x2a8),_0x40d4f4))),_0x4fed57=await Promise['all'](_0x4baeb6),_0x4e9b87=_0x4fed57[_0x4d3120(0x534)](_0x31ffe0=>_0x31ffe0[_0x4d3120(0x484)]())[_0x4d3120(0x535)](_0x6b5ead=>({'quizId':_0x6b5ead[_0x4d3120(0x1b0)][_0x4d3120(0xb2)][_0x4d3120(0xb2)]['id'],..._0x6b5ead['data']()}));if(_0x4e9b87[_0x4d3120(0x2c4)]===0x0){_0x187b24[_0x4d3120(0x8a2)]=_0x4d3120(0x3ff);return;}let _0x5c3fe4=_0x4d3120(0x77c);_0x4e9b87['forEach'](_0x1b559=>{const _0x2cf12f=_0x4d3120,_0x3dd02d=_0x310709[_0x2cf12f(0x84c)](_0x1901d8=>_0x1901d8['id']===_0x1b559[_0x2cf12f(0x7f7)]),_0x1e67b4=_0x3dd02d['settings']?.[_0x2cf12f(0x22c)]||_0x2cf12f(0x435),_0x1fd6e7=_0x3dd02d['settings']?.['passingScore']??0x0,_0x2c3a77=_0x1b559[_0x2cf12f(0xb8)]>=_0x1fd6e7;let _0x52c91a='',_0x5a96a7='bg-gray-50';switch(_0x1e67b4){case _0x2cf12f(0x435):case _0x2cf12f(0x5aa):_0x5a96a7=_0x2c3a77?_0x2cf12f(0x75b):_0x2cf12f(0x41d),_0x52c91a=_0x2cf12f(0x385)+(_0x2c3a77?_0x2cf12f(0x63a):_0x2cf12f(0x575))+'\x22>'+_0x1b559[_0x2cf12f(0xb8)]+_0x2cf12f(0x4c5)+_0x1b559[_0x2cf12f(0x5a9)]+_0x2cf12f(0x5b5)+(_0x2c3a77?_0x2cf12f(0x1ee):_0x2cf12f(0x76a))+'\x22>'+(_0x2c3a77?_0x2cf12f(0x15f):'ไม่ผ่าน')+_0x2cf12f(0x601);break;case _0x2cf12f(0x135):_0x5a96a7=_0x2c3a77?_0x2cf12f(0x75b):_0x2cf12f(0x41d),_0x52c91a=_0x2cf12f(0x488)+(_0x2c3a77?_0x2cf12f(0x1ee):'bg-red-200\x20text-red-800')+'\x22>'+(_0x2c3a77?'ผ่าน':_0x2cf12f(0x2c2))+_0x2cf12f(0x601);break;case _0x2cf12f(0xcd):_0x5a96a7=_0x2cf12f(0x4c7),_0x52c91a=_0x2cf12f(0x580);break;}_0x5c3fe4+=_0x2cf12f(0x87f)+_0x5a96a7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x3dd02d[_0x2cf12f(0x231)]+_0x2cf12f(0x7ae)+_0x1b559[_0x2cf12f(0xbe)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x1b559[_0x2cf12f(0x6e7)])[_0x2cf12f(0x788)]('th-TH')+_0x2cf12f(0x1b6)+_0x52c91a+_0x2cf12f(0x353);}),_0x5c3fe4+='</div>',_0x187b24[_0x4d3120(0x8a2)]=_0x5c3fe4;}catch(_0x538a5f){console[_0x4d3120(0x5dc)]('Error\x20rendering\x20student\x20progress:',_0x538a5f),_0x187b24[_0x4d3120(0x8a2)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x4a0869=_0x597754;document['getElementById'](_0x4a0869(0x382))[_0x4a0869(0x893)](_0x4a0869(0x30c),showStudentProgressView),document[_0x4a0869(0x596)](_0x4a0869(0x2c1))[_0x4a0869(0x893)]('click',()=>{const _0x5817b0=_0x4a0869;document[_0x5817b0(0x596)](_0x5817b0(0x500))[_0x5817b0(0x79b)]['add'](_0x5817b0(0x702)),document['getElementById'](_0x5817b0(0x319))['classList'][_0x5817b0(0x76b)](_0x5817b0(0x702));});}async function startSkillPractice(_0x532c22){const _0x4b5b83=_0x597754;studentResultArea[_0x4b5b83(0x79b)][_0x4b5b83(0x635)](_0x4b5b83(0x702)),studentQuizArea[_0x4b5b83(0x8a2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x4b5b83(0x76b)](_0x4b5b83(0x702));try{const _0x416d60=await getStandardizedTopic(_0x532c22);console[_0x4b5b83(0x1ef)]('คำถามดิบ:\x20\x22'+_0x532c22+_0x4b5b83(0x4bc)+_0x416d60+'\x22'),studentQuizArea['querySelector']('p')[_0x4b5b83(0x195)]=_0x4b5b83(0x1b1)+_0x416d60+_0x4b5b83(0x886);const _0x4eafba=collection(db,_0x4b5b83(0x4cb)+appId+'/public/data/practiceBank'),_0x404d2e=query(_0x4eafba,where(_0x4b5b83(0x231),'==',_0x416d60)),_0x314f7b=await getDocs(_0x404d2e);if(_0x314f7b['docs'][_0x4b5b83(0x2c4)]>=0x3){console[_0x4b5b83(0x1ef)](_0x4b5b83(0x11f)+_0x314f7b[_0x4b5b83(0x521)]['length']+_0x4b5b83(0x621)+_0x416d60+_0x4b5b83(0x769));let _0x2d43e7=_0x314f7b[_0x4b5b83(0x521)][_0x4b5b83(0x535)](_0x3ebef5=>_0x3ebef5[_0x4b5b83(0x324)]());shuffleArray(_0x2d43e7);const _0x5f4323={'topic':_0x416d60,'questions':_0x2d43e7[_0x4b5b83(0x39b)](0x0,0x3)};displaySkillPracticeDrill(_0x5f4323);}else{console[_0x4b5b83(0x1ef)](_0x4b5b83(0x66b)+_0x416d60+_0x4b5b83(0x16b));const _0x5b7b9a=await generatePracticeQuestions(_0x416d60);await saveDrillToPracticeBank(_0x5b7b9a,_0x416d60),displaySkillPracticeDrill(_0x5b7b9a);}}catch(_0x81ac16){console['error'](_0x4b5b83(0x8a3),_0x81ac16),showMessage(_0x4b5b83(0x8ae)),studentQuizArea[_0x4b5b83(0x79b)]['add'](_0x4b5b83(0x702)),studentResultArea[_0x4b5b83(0x79b)][_0x4b5b83(0x76b)]('hidden');}}async function saveDrillToPracticeBank(_0x4b46c4,_0x3e92fd){const _0x5ca11e=_0x597754,_0x1d4900=collection(db,_0x5ca11e(0x4cb)+appId+_0x5ca11e(0x792)),_0x123024=writeBatch(db);_0x4b46c4[_0x5ca11e(0x2e8)][_0x5ca11e(0x450)](_0x116660=>{const _0x3248be=_0x5ca11e,_0x47322b=doc(_0x1d4900);_0x123024['set'](_0x47322b,{'topic':_0x3e92fd,'questionText':_0x116660['questionText'],'options':_0x116660['options'],'correctAnswerIndex':_0x116660['correctAnswerIndex'],'explanation':_0x116660[_0x3248be(0x5f2)],'createdAt':serverTimestamp()});});try{await _0x123024[_0x5ca11e(0xca)](),console[_0x5ca11e(0x1ef)](_0x5ca11e(0x189)+_0x4b46c4[_0x5ca11e(0x2e8)][_0x5ca11e(0x2c4)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x336dae){console[_0x5ca11e(0x5dc)](_0x5ca11e(0x624),_0x336dae);}}async function getStandardizedTopic(_0x1818d1){const _0x3e3ed9=_0x597754,_0x26d7d1=_0x3e3ed9(0x388)+_0x1818d1+_0x3e3ed9(0x60f),_0x52aae1={'type':_0x3e3ed9(0x415),'properties':{'standardTopic':{'type':_0x3e3ed9(0x526)}},'required':[_0x3e3ed9(0x2c9)]};try{const _0xe1ae9e=await callAnalysisApi(_0x26d7d1,_0x52aae1);return _0xe1ae9e[_0x3e3ed9(0x2c9)];}catch(_0x2c1ba1){return console['error'](_0x3e3ed9(0x2d4),_0x2c1ba1),_0x1818d1;}}async function handleGenerateEasyVersionQuiz(_0x3adfe8){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x2b248e=_0x512c;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x4b4931=allQuizzes['find'](_0x5d79ef=>_0x5d79ef['id']===_0x3adfe8);if(!_0x4b4931)throw new Error(_0x2b248e(0x372));const _0x2c9e62=_0x2b248e(0x53d)+JSON[_0x2b248e(0x14a)](_0x4b4931[_0x2b248e(0x2e8)])+_0x2b248e(0x3fa),_0x4bb0a0={'type':_0x2b248e(0x415),'properties':{'questionText':{'type':_0x2b248e(0x526)},'questionType':{'type':_0x2b248e(0x526)},'options':{'type':'ARRAY','items':{'type':_0x2b248e(0x526)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2b248e(0x526)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2b248e(0x526)}},'required':[_0x2b248e(0x465),'questionType',_0x2b248e(0x5f2)]},_0x49d285={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x4bb0a0}},'required':[_0x2b248e(0x2e8)]},_0x3a7e60=await callAnalysisApi(_0x2c9e62,_0x49d285);_0x3a7e60&&_0x3a7e60[_0x2b248e(0x2e8)]&&_0x3a7e60['questions'][_0x2b248e(0x450)](_0x129456=>{const _0x324a2e=_0x2b248e;_0x129456['questionText']&&(_0x129456['questionText']=_0x129456[_0x324a2e(0x465)][_0x324a2e(0xb9)]()[_0x324a2e(0x16e)](/,$/,'')[_0x324a2e(0xb9)]());_0x129456[_0x324a2e(0x730)]&&Array[_0x324a2e(0x260)](_0x129456[_0x324a2e(0x730)])&&(_0x129456[_0x324a2e(0x730)]=_0x129456[_0x324a2e(0x730)][_0x324a2e(0x535)](_0x52c0c2=>_0x52c0c2||_0x324a2e(0x66e)));if(_0x129456[_0x324a2e(0x285)]){const _0x2adbd8=_0x129456[_0x324a2e(0x285)][_0x324a2e(0xb9)]();_0x2adbd8===''||_0x2adbd8[_0x324a2e(0x7e1)]()==='null'||!_0x2adbd8['startsWith'](_0x324a2e(0x576))?delete _0x129456['imageCode']:_0x129456[_0x324a2e(0x285)]=_0x2adbd8;}});if(!_0x3a7e60||!_0x3a7e60[_0x2b248e(0x2e8)]||_0x3a7e60['questions'][_0x2b248e(0x2c4)]===0x0)throw new Error(_0x2b248e(0x46a));const _0x4b69df={'projectId':_0x4b4931['projectId'],'quizType':_0x4b4931[_0x2b248e(0x5ca)],'settings':_0x4b4931['settings'],'createdBy':_0x4b4931['createdBy'],'status':'active','topic':_0x2b248e(0xd4)+_0x4b4931[_0x2b248e(0x231)],'questions':_0x3a7e60[_0x2b248e(0x2e8)],'createdAt':new Date()['toISOString'](),'quizMode':_0x2b248e(0x6a0),'pairedQuizId':null};let _0x52cff7;while(!![]){_0x52cff7=Math[_0x2b248e(0x718)](0x3e8+Math[_0x2b248e(0x38d)]()*0x2328)[_0x2b248e(0x6db)]();const _0x5d9042=await getDoc(doc(db,_0x2b248e(0x4cb)+appId+_0x2b248e(0x1be),_0x52cff7));if(!_0x5d9042[_0x2b248e(0x484)]())break;}await setDoc(doc(db,_0x2b248e(0x4cb)+appId+'/public/data/quizzes',_0x52cff7),_0x4b69df),showMessage(_0x2b248e(0x663));}catch(_0x576654){console[_0x2b248e(0x5dc)](_0x2b248e(0x59d),_0x576654),showMessage(_0x2b248e(0x3e6)+_0x576654['message']);}});}async function generatePracticeQuestions(_0x39fcdf){const _0x198587=_0x597754,_0x27e3a7=_0x198587(0x6b3)+_0x39fcdf+_0x198587(0x549)+simpleMathPrompt+_0x198587(0x659),_0x20b716={'type':_0x198587(0x415),'properties':{'questionText':{'type':_0x198587(0x526)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x198587(0x882)},'explanation':{'type':_0x198587(0x526)}},'required':[_0x198587(0x465),_0x198587(0x730),_0x198587(0x348),_0x198587(0x5f2)]},_0x2a7367={'type':_0x198587(0x415),'properties':{'topic':{'type':_0x198587(0x526)},'questions':{'type':_0x198587(0x270),'items':_0x20b716}},'required':[_0x198587(0x231),_0x198587(0x2e8)]};return await callAnalysisApi(_0x27e3a7,_0x2a7367);}function displayLessonPlan(_0x168c37,_0x384565){const _0x59b4e7=_0x597754,_0x50c908=_0x59b4e7(0x712)+_0x384565[_0x59b4e7(0x231)]+_0x59b4e7(0x1a8)+_0x168c37[_0x59b4e7(0x4a4)][_0x59b4e7(0x535)](_0x512fdc=>_0x59b4e7(0x856)+_0x512fdc+_0x59b4e7(0x2c5))[_0x59b4e7(0x243)]('')+_0x59b4e7(0x528)+_0x168c37[_0x59b4e7(0x58f)]+_0x59b4e7(0x6ed)+_0x168c37[_0x59b4e7(0x350)][_0x59b4e7(0x535)](_0x5d3362=>_0x59b4e7(0x5e5)+_0x5d3362[_0x59b4e7(0x725)]+_0x59b4e7(0x258)+_0x5d3362[_0x59b4e7(0x5ab)]+'</p></div>')['join']('')+_0x59b4e7(0x857);document[_0x59b4e7(0x596)](_0x59b4e7(0x88d))[_0x59b4e7(0x195)]=_0x59b4e7(0x436)+_0x384565['topic'],document['getElementById']('lesson-plan-content')['innerHTML']=_0x50c908,document['getElementById'](_0x59b4e7(0x2b5))['classList']['remove'](_0x59b4e7(0x702));if(window[_0x59b4e7(0x691)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x581331){const _0x56d727=_0x597754;let _0x42c70f=0x0;const _0x29f513=_0x581331[_0x56d727(0x2e8)],_0x5226fd=()=>{const _0x377a18=_0x56d727,_0x4e523a=_0x29f513[_0x42c70f],_0x1ed4d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x42c70f+0x1)+_0x377a18(0x4c5)+_0x29f513['length']+_0x377a18(0x5a2)+_0x4e523a[_0x377a18(0x465)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e523a[_0x377a18(0x730)][_0x377a18(0x535)]((_0x333d69,_0x2dcf0c)=>_0x377a18(0x154)+_0x2dcf0c+_0x377a18(0x5bf)+_0x2dcf0c+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x2dcf0c+'\x22>'+_0x333d69+_0x377a18(0x20f))[_0x377a18(0x243)]('')+_0x377a18(0x897);studentQuizArea[_0x377a18(0x8a2)]=_0x1ed4d7;if(window[_0x377a18(0x691)])MathJax[_0x377a18(0xa6)]([studentQuizArea]);document['getElementById'](_0x377a18(0x7ba))['addEventListener'](_0x377a18(0x30c),async()=>{const _0x32e3dd=_0x377a18,_0x15e1b5=await getHintForQuestion(_0x4e523a[_0x32e3dd(0x465)]);showMessage(_0x15e1b5);}),document[_0x377a18(0x596)](_0x377a18(0x2bb))[_0x377a18(0x893)](_0x377a18(0x30c),()=>{const _0x29a2de=_0x377a18,_0x247127=document[_0x29a2de(0x82d)](_0x29a2de(0xfe));if(!_0x247127){showMessage(_0x29a2de(0x6a7));return;}const _0xde9cc1=document['getElementById']('drill-feedback'),_0x48b425=parseInt(_0x247127['value'])===_0x4e523a[_0x29a2de(0x348)];_0x48b425?(_0xde9cc1[_0x29a2de(0x269)]=_0x29a2de(0x361),_0xde9cc1[_0x29a2de(0x8a2)]=_0x29a2de(0x734)+_0x4e523a[_0x29a2de(0x5f2)]):(_0xde9cc1[_0x29a2de(0x269)]=_0x29a2de(0x5d2),_0xde9cc1[_0x29a2de(0x8a2)]=_0x29a2de(0x10c)+_0x4e523a[_0x29a2de(0x5f2)]);_0xde9cc1['classList'][_0x29a2de(0x76b)](_0x29a2de(0x702));if(window[_0x29a2de(0x691)])MathJax[_0x29a2de(0xa6)]([_0xde9cc1]);document[_0x29a2de(0x596)]('check-answer-btn')[_0x29a2de(0x79b)][_0x29a2de(0x635)]('hidden'),document[_0x29a2de(0x596)](_0x29a2de(0x7ba))['classList'][_0x29a2de(0x635)]('hidden'),document['getElementById'](_0x29a2de(0x444))[_0x29a2de(0x79b)][_0x29a2de(0x76b)](_0x29a2de(0x702));}),document[_0x377a18(0x596)](_0x377a18(0x444))[_0x377a18(0x893)](_0x377a18(0x30c),()=>{const _0x327010=_0x377a18;_0x42c70f++,_0x42c70f<_0x29f513[_0x327010(0x2c4)]?_0x5226fd():(studentQuizArea[_0x327010(0x8a2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x327010(0x596)](_0x327010(0x116))['addEventListener'](_0x327010(0x30c),()=>{const _0x2d8e28=_0x327010;studentQuizArea[_0x2d8e28(0x79b)][_0x2d8e28(0x635)](_0x2d8e28(0x702)),studentResultArea[_0x2d8e28(0x79b)][_0x2d8e28(0x76b)](_0x2d8e28(0x702));}));});};_0x5226fd();}async function getHintForQuestion(_0x466fc1){const _0x3d7ade=_0x597754,_0x500ada=_0x3d7ade(0x358)+_0x466fc1+_0x3d7ade(0x271),_0x264935={'type':_0x3d7ade(0x415),'properties':{'hint':{'type':_0x3d7ade(0x526)}},'required':[_0x3d7ade(0x505)]};try{const _0x5e858a=await callAnalysisApi(_0x500ada,_0x264935);return _0x5e858a[_0x3d7ade(0x505)];}catch(_0x2d8e7a){return console[_0x3d7ade(0x5dc)](_0x3d7ade(0x394),_0x2d8e7a),_0x3d7ade(0xda);}}async function extractTextFromPdf(_0x26415a){const _0x4445af=_0x597754;pdfjsLib[_0x4445af(0x78a)][_0x4445af(0x7c9)]=_0x4445af(0x30f);const _0x4fc424=await _0x26415a[_0x4445af(0x841)](),_0x3d8c05=await pdfjsLib[_0x4445af(0x3cc)](_0x4fc424)[_0x4445af(0x3ee)],_0x51d642=_0x3d8c05['numPages'];let _0x140491='';for(let _0x1aa4f1=0x1;_0x1aa4f1<=_0x51d642;_0x1aa4f1++){const _0x506e62=await _0x3d8c05[_0x4445af(0x81f)](_0x1aa4f1),_0x33c19a=await _0x506e62[_0x4445af(0x15c)](),_0x6b4bb1=_0x33c19a[_0x4445af(0x5cc)][_0x4445af(0x535)](_0x1e763b=>_0x1e763b[_0x4445af(0x2be)])[_0x4445af(0x243)]('\x20');_0x140491+=_0x6b4bb1+'\x0a\x0a';}return _0x140491;}async function handleGenerateFromBlueprint(){const _0x16762c=_0x597754,_0x3feb6f=document[_0x16762c(0x596)](_0x16762c(0x787)),_0x1049fb=document[_0x16762c(0x596)](_0x16762c(0x111)),_0x308f72=_0x3feb6f[_0x16762c(0x3f9)][0x0],_0x20df20=_0x1049fb[_0x16762c(0x3f9)][_0x16762c(0x2c4)]>0x0?_0x1049fb[_0x16762c(0x3f9)][0x0]:null;if(!_0x308f72){showMessage(_0x16762c(0x79d));return;}const _0x5b487d=document[_0x16762c(0x596)](_0x16762c(0x570)),_0x240ce0=document['getElementById']('loader-text'),_0x2c0c2f=document[_0x16762c(0x596)](_0x16762c(0x326)),_0x42257d=document['getElementById']('generate-from-blueprint-btn');_0x42257d[_0x16762c(0x64a)]=!![],document[_0x16762c(0x596)](_0x16762c(0x74c))[_0x16762c(0x79b)][_0x16762c(0x76b)]('hidden'),_0x2c0c2f[_0x16762c(0x8a2)]='',_0x5b487d['classList'][_0x16762c(0x76b)](_0x16762c(0x702));try{_0x240ce0['textContent']=_0x16762c(0x735);const _0x4df3ce=await extractTextFromPdf(_0x308f72);if(!_0x4df3ce['trim']())throw new Error(_0x16762c(0x2e9));let _0x126564='';_0x20df20&&(_0x240ce0['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x126564=await extractTextFromPdf(_0x20df20));_0x240ce0[_0x16762c(0x195)]=_0x16762c(0x3ab);const _0x529b92=document['getElementById'](_0x16762c(0x5d3))[_0x16762c(0x7a4)],_0x4ba0d7=_0x529b92?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x1502db=_0x126564?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x126564+_0x16762c(0x668):'',_0x4044f0=_0x16762c(0x695)+(_0x126564?_0x16762c(0x127):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4df3ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1502db+_0x16762c(0x6d1)+_0x4ba0d7+_0x16762c(0x2ed)+simpleMathPrompt+_0x16762c(0x894),_0xaa1620={'type':'OBJECT','properties':{'questionText':{'type':_0x16762c(0x526)},'questionType':{'type':_0x16762c(0x526),'enum':['multiple_choice','short_answer']},'options':{'type':_0x16762c(0x270),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x16762c(0x882)},'idealAnswer':{'type':_0x16762c(0x526)},'explanation':{'type':_0x16762c(0x526)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x16762c(0x5f2)]},_0x5b8754={'type':_0x16762c(0x415),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0xaa1620}},'required':[_0x16762c(0x231),_0x16762c(0x2e8)]};await handleApiCall(_0x4044f0,_0x16762c(0x759),_0x5b8754);}catch(_0x324da2){console['error'](_0x16762c(0x281),_0x324da2),showMessage('เกิดข้อผิดพลาด:\x20'+_0x324da2[_0x16762c(0x6b9)]),_0x2c0c2f[_0x16762c(0x8a2)]=_0x16762c(0x62d);}finally{_0x5b487d[_0x16762c(0x79b)][_0x16762c(0x635)]('hidden'),_0x42257d[_0x16762c(0x64a)]=![];}}async function handleGenerateParallelFromBank(_0x476ef1){const _0x17edaf=_0x597754;switchProjectTab(_0x17edaf(0x2cd));const _0x2ab0fd=document[_0x17edaf(0x596)](_0x17edaf(0x570)),_0x24529a=document[_0x17edaf(0x596)](_0x17edaf(0x44e)),_0xd2022b=document[_0x17edaf(0x596)](_0x17edaf(0x326));document['getElementById']('quiz-generation-area')[_0x17edaf(0x79b)][_0x17edaf(0x76b)](_0x17edaf(0x702)),_0xd2022b[_0x17edaf(0x8a2)]='',_0x2ab0fd[_0x17edaf(0x79b)][_0x17edaf(0x76b)](_0x17edaf(0x702)),_0x24529a[_0x17edaf(0x195)]=_0x17edaf(0x733)+_0x476ef1['topic']+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0xa06430=_0x476ef1[_0x17edaf(0x2e8)][_0x17edaf(0x535)]((_0x5034d3,_0x455ba0)=>{const _0x22679b=_0x17edaf;let _0xebfdd9=_0x455ba0+0x1+'.\x20'+(_0x5034d3[_0x22679b(0x465)]||_0x5034d3[_0x22679b(0x607)])+'\x0a';if(_0x5034d3[_0x22679b(0x730)])_0xebfdd9+=_0x5034d3['options'][_0x22679b(0x535)]((_0x4a061b,_0x5b176d)=>_0x22679b(0x1e6)+(_0x5b176d===_0x5034d3[_0x22679b(0x348)]?_0x22679b(0x4a7):'')+'\x20'+_0x4a061b)[_0x22679b(0x243)]('\x0a');else _0x5034d3['idealAnswer']&&(_0xebfdd9+=_0x22679b(0x301)+_0x5034d3[_0x22679b(0x3d1)]);return _0xebfdd9;})[_0x17edaf(0x243)]('\x0a\x0a');_0x24529a[_0x17edaf(0x195)]=_0x17edaf(0x59f);const _0x344c3f=_0x17edaf(0x3ad)+_0x476ef1[_0x17edaf(0x231)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa06430+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x17edaf(0x894),_0x5d37a5={'type':_0x17edaf(0x415),'properties':{'questionText':{'type':_0x17edaf(0x526)},'questionType':{'type':_0x17edaf(0x526),'enum':[_0x17edaf(0x666),_0x17edaf(0x3df),_0x17edaf(0x6ae),'matching_item']},'options':{'type':_0x17edaf(0x270),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x17edaf(0x882)},'idealAnswer':{'type':_0x17edaf(0x526)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x17edaf(0x526)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x17edaf(0x270),'items':{'type':_0x17edaf(0x526)}},'explanation':{'type':_0x17edaf(0x526)},'imageCode':{'type':_0x17edaf(0x526)}},'required':[_0x17edaf(0x465),'questionType','options',_0x17edaf(0x348),_0x17edaf(0x5f2)]},_0x1db30d={'type':_0x17edaf(0x415),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x17edaf(0x270),'items':_0x5d37a5}},'required':['topic',_0x17edaf(0x2e8)]},_0x47b237=await callAnalysisApi(_0x344c3f,_0x1db30d);_0x47b237[_0x17edaf(0x231)]=_0x17edaf(0x1b8)+_0x476ef1['topic'],_0x47b237[_0x17edaf(0x5ca)]=_0x476ef1[_0x17edaf(0x5ca)],currentQuizData=_0x47b237,displayGeneratedQuiz(_0x47b237),document[_0x17edaf(0x596)](_0x17edaf(0x770))[_0x17edaf(0xe7)]({'behavior':_0x17edaf(0x183)});}catch(_0x5afd32){console[_0x17edaf(0x5dc)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x5afd32),showMessage(_0x17edaf(0x3e6)+_0x5afd32['message']),_0xd2022b['innerHTML']=_0x17edaf(0x2f8);}finally{_0x2ab0fd[_0x17edaf(0x79b)][_0x17edaf(0x635)](_0x17edaf(0x702));}}async function handleGenerateParallelPostTest(_0x5be3bc){const _0x3a6f21=_0x597754,_0x10e6fc=document[_0x3a6f21(0x596)](_0x3a6f21(0x6f1)),_0x33080f=document[_0x3a6f21(0x596)]('project-quizzes-list');_0x33080f[_0x3a6f21(0x79b)]['add'](_0x3a6f21(0x702));const _0x507f60=_0x3a6f21(0x2fc);_0x10e6fc[_0x3a6f21(0x200)](_0x3a6f21(0x7fa),_0x507f60);try{const _0x3917f2=_0x5be3bc[_0x3a6f21(0x2e8)][_0x3a6f21(0x535)]((_0x5ef9ea,_0x21ff06)=>{const _0x533b9e=_0x3a6f21;let _0x57ecf1=_0x21ff06+0x1+'.\x20'+(_0x5ef9ea[_0x533b9e(0x465)]||_0x5ef9ea[_0x533b9e(0x607)]);if(_0x5ef9ea['options'])_0x57ecf1+=_0x533b9e(0x6c2)+_0x5ef9ea[_0x533b9e(0x730)][_0x533b9e(0x243)](',\x20');return _0x57ecf1;})[_0x3a6f21(0x243)]('\x0a\x0a'),_0x538318=_0x3a6f21(0x8a9)+_0x5be3bc['topic']+_0x3a6f21(0x256)+_0x3917f2+_0x3a6f21(0x3aa)+simpleMathPrompt+_0x3a6f21(0x894),_0x15b043={'type':_0x3a6f21(0x415),'properties':{'topic':{'type':_0x3a6f21(0x526)},'questions':{'type':_0x3a6f21(0x270),'items':{'type':_0x3a6f21(0x415),'properties':{'questionText':{'type':_0x3a6f21(0x526)},'questionType':{'type':_0x3a6f21(0x526)},'options':{'type':_0x3a6f21(0x270),'items':{'type':_0x3a6f21(0x526)}},'correctAnswerIndex':{'type':_0x3a6f21(0x882)},'idealAnswer':{'type':_0x3a6f21(0x526)},'explanation':{'type':_0x3a6f21(0x526)}},'required':['questionText',_0x3a6f21(0x5f2)]}}},'required':[_0x3a6f21(0x231),'questions']},_0x26a600=await callAnalysisApi(_0x538318,_0x15b043),_0x4eea37=_0x5be3bc[_0x3a6f21(0x231)][_0x3a6f21(0x16e)]('(ก่อนเรียน)','')[_0x3a6f21(0xb9)](),_0x3cba5c=_0x3a6f21(0x2e7)+_0x4eea37,_0x5b03a9={..._0x26a600,'topic':_0x3cba5c,'quizType':_0x5be3bc[_0x3a6f21(0x5ca)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a6f21(0x83b)](),'status':_0x3a6f21(0x164),'settings':_0x5be3bc[_0x3a6f21(0x417)],'quizMode':_0x3a6f21(0x7d0),'pairedQuizId':_0x5be3bc['id']};let _0x20e4b1;while(!![]){_0x20e4b1=Math['floor'](0x3e8+Math[_0x3a6f21(0x38d)]()*0x2328)['toString']();const _0x127e66=await getDoc(doc(db,_0x3a6f21(0x4cb)+appId+_0x3a6f21(0x1be),_0x20e4b1));if(!_0x127e66[_0x3a6f21(0x484)]())break;}await setDoc(doc(db,_0x3a6f21(0x4cb)+appId+_0x3a6f21(0x1be),_0x20e4b1),_0x5b03a9);const _0x3ce99b=doc(db,_0x3a6f21(0x4cb)+appId+_0x3a6f21(0x1be),_0x5be3bc['id']);await updateDoc(_0x3ce99b,{'pairedQuizId':_0x20e4b1}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x381073){console[_0x3a6f21(0x5dc)](_0x3a6f21(0x1a7),_0x381073),showMessage(_0x3a6f21(0x3e6)+_0x381073['message']);}finally{const _0x544cd1=document[_0x3a6f21(0x596)](_0x3a6f21(0x368));if(_0x544cd1)_0x544cd1[_0x3a6f21(0x76b)]();_0x33080f['classList'][_0x3a6f21(0x76b)](_0x3a6f21(0x702));}}async function handleGenerateParallelTest(){const _0x177d1b=_0x597754,_0x3c9978=document[_0x177d1b(0x596)](_0x177d1b(0x655)),_0x45102c=_0x3c9978[_0x177d1b(0x3f9)][0x0];if(!_0x45102c){showMessage(_0x177d1b(0x209));return;}const _0x534f07=document['getElementById'](_0x177d1b(0x570)),_0x1d00b6=document['getElementById'](_0x177d1b(0x44e)),_0x5f3e99=document['getElementById']('generated-quiz-container'),_0x1b4903=document[_0x177d1b(0x596)]('generate-from-parallel-test-btn');_0x1b4903[_0x177d1b(0x64a)]=!![],document[_0x177d1b(0x596)](_0x177d1b(0x74c))['classList'][_0x177d1b(0x76b)]('hidden'),_0x5f3e99['innerHTML']='',_0x534f07['classList']['remove'](_0x177d1b(0x702)),_0x1d00b6[_0x177d1b(0x195)]=_0x177d1b(0x2b7);try{const _0xd7dfa=await extractTextFromPdf(_0x45102c);if(!_0xd7dfa[_0x177d1b(0xb9)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x1d00b6['textContent']=_0x177d1b(0x59f);const _0x18d6ed=document[_0x177d1b(0x596)](_0x177d1b(0x5d3))[_0x177d1b(0x7a4)],_0x361483=_0x18d6ed?_0x177d1b(0x453):'',_0x53e071='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd7dfa+_0x177d1b(0x84e)+_0x361483+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x177d1b(0x894),_0xd3ea99={'type':_0x177d1b(0x415),'properties':{'questionText':{'type':_0x177d1b(0x526)},'questionType':{'type':_0x177d1b(0x526),'enum':[_0x177d1b(0x666),_0x177d1b(0x3df)]},'options':{'type':_0x177d1b(0x270),'items':{'type':_0x177d1b(0x526)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x177d1b(0x526)},'explanation':{'type':_0x177d1b(0x526)},'imageCode':{'type':_0x177d1b(0x526)}},'required':[_0x177d1b(0x465),_0x177d1b(0x5cd),_0x177d1b(0x5f2)]},_0x1d306a={'type':_0x177d1b(0x415),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x177d1b(0x270),'items':_0xd3ea99}},'required':[_0x177d1b(0x231),_0x177d1b(0x2e8)]};await handleApiCall(_0x53e071,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x1d306a);}catch(_0x526503){console[_0x177d1b(0x5dc)](_0x177d1b(0x633),_0x526503),showMessage('เกิดข้อผิดพลาด:\x20'+_0x526503[_0x177d1b(0x6b9)]),_0x5f3e99[_0x177d1b(0x8a2)]=_0x177d1b(0x2f8);}finally{_0x534f07['classList'][_0x177d1b(0x635)](_0x177d1b(0x702)),_0x1b4903[_0x177d1b(0x64a)]=![];}}async function handleRegenerateQuestionInEditor(_0x2826be){const _0xd70c69=_0x597754;if(currentEditingQuizData===null)return;const _0x1d4ceb=document[_0xd70c69(0x82d)](_0xd70c69(0x52f)+_0x2826be+'\x22]');_0x1d4ceb&&(_0x1d4ceb[_0xd70c69(0x8a2)]=_0xd70c69(0x198));const _0x5bcc18=currentEditingQuizData[_0xd70c69(0x2e8)][_0x2826be],_0x29a853=currentEditingQuizData[_0xd70c69(0x231)],_0x447d1d=_0x5bcc18[_0xd70c69(0x5cd)],_0xd7beb9={'type':_0xd70c69(0x415),'properties':{'questionText':{'type':_0xd70c69(0x526)},'options':{'type':_0xd70c69(0x270),'items':{'type':_0xd70c69(0x526)}},'correctAnswerIndex':{'type':_0xd70c69(0x882)},'explanation':{'type':'STRING'}},'required':[_0xd70c69(0x465),'options','correctAnswerIndex',_0xd70c69(0x5f2)]},_0x6ea6c7={'type':_0xd70c69(0x415),'properties':{'questionText':{'type':_0xd70c69(0x526)},'idealAnswer':{'type':_0xd70c69(0x526)},'explanation':{'type':_0xd70c69(0x526)}},'required':[_0xd70c69(0x465),'idealAnswer',_0xd70c69(0x5f2)]};let _0x389c4e,_0x257b98='';_0x447d1d==='multiple_choice'?(_0x389c4e=_0xd7beb9,_0x257b98='แบบปรนัย\x204\x20ตัวเลือก'):(_0x389c4e=_0x6ea6c7,_0x257b98=_0xd70c69(0x140));const _0x125b8f=_0xd70c69(0x679)+_0x29a853+_0xd70c69(0x819)+_0x257b98+_0xd70c69(0x5e7)+(_0x5bcc18[_0xd70c69(0x465)]||_0x5bcc18['stem'])+_0xd70c69(0x799)+simpleMathPrompt;try{const _0x4fe742=await callAnalysisApi(_0x125b8f,_0x389c4e);currentEditingQuizData[_0xd70c69(0x2e8)][_0x2826be]={..._0x5bcc18,..._0x4fe742},renderQuizEditor(currentEditingQuizData);}catch(_0x4e5d6d){console[_0xd70c69(0x5dc)](_0xd70c69(0x6d8),_0x4e5d6d),showMessage(_0xd70c69(0x5a3)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5b1344=_0x597754,_0x2fff10=document[_0x5b1344(0x596)]('mode-switcher-btn');currentMode===_0x5b1344(0x21d)?(adminPasswordModal['classList'][_0x5b1344(0x76b)](_0x5b1344(0x702)),document[_0x5b1344(0x596)](_0x5b1344(0x406))[_0x5b1344(0x17d)]()):(currentMode='student',_0x2fff10[_0x5b1344(0x8a2)]=_0x5b1344(0x715),_0x2fff10[_0x5b1344(0x150)]=_0x5b1344(0x654),showView('student'));}function handleAdminLogin(){const _0x4ef6c9=_0x597754,_0x51ffa5=document[_0x4ef6c9(0x596)]('admin-password-input'),_0x1a1156=document['getElementById']('password-error-msg');if(_0x51ffa5[_0x4ef6c9(0x800)]==='27411472'){adminPasswordModal[_0x4ef6c9(0x79b)][_0x4ef6c9(0x635)](_0x4ef6c9(0x702)),_0x51ffa5[_0x4ef6c9(0x800)]='',_0x1a1156[_0x4ef6c9(0x79b)]['add'](_0x4ef6c9(0x702)),currentMode=_0x4ef6c9(0x70b);const _0x47e96c=document[_0x4ef6c9(0x596)]('mode-switcher-btn');_0x47e96c[_0x4ef6c9(0x8a2)]=_0x4ef6c9(0x371),_0x47e96c['title']=_0x4ef6c9(0x860),showView(_0x4ef6c9(0x261));}else _0x1a1156[_0x4ef6c9(0x79b)][_0x4ef6c9(0x76b)]('hidden'),_0x51ffa5['value']='';}function switchProjectTab(_0x406afe){const _0x24ff5e=_0x597754;[_0x24ff5e(0x2cd),'results',_0x24ff5e(0x272)][_0x24ff5e(0x450)](_0x46ba1d=>{const _0x57efd1=_0x24ff5e;document['getElementById'](_0x46ba1d+'-tab')[_0x57efd1(0x79b)]['remove'](_0x57efd1(0x164)),document[_0x57efd1(0x596)](_0x46ba1d+_0x57efd1(0x23a))[_0x57efd1(0x79b)][_0x57efd1(0x635)](_0x57efd1(0x702));}),document[_0x24ff5e(0x596)](_0x406afe+_0x24ff5e(0x565))['classList'][_0x24ff5e(0x635)](_0x24ff5e(0x164)),document[_0x24ff5e(0x596)](_0x406afe+_0x24ff5e(0x23a))['classList'][_0x24ff5e(0x76b)](_0x24ff5e(0x702));}function switchQuizDetailTab(_0xe1d440){const _0x4a3026=_0x597754,_0x493a12={'analytics':{'btn':_0x4a3026(0x357),'content':_0x4a3026(0x1d3)},'scores':{'btn':_0x4a3026(0x9b),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x4a3026(0x5c7),'content':_0x4a3026(0x78d)},'behavior-log':{'btn':_0x4a3026(0x7a8),'content':'behavior-log-tab-content'}};for(const _0x2fc034 in _0x493a12){document[_0x4a3026(0x596)](_0x493a12[_0x2fc034][_0x4a3026(0x6e4)])[_0x4a3026(0x79b)][_0x4a3026(0x76b)](_0x4a3026(0x164)),document[_0x4a3026(0x596)](_0x493a12[_0x2fc034][_0x4a3026(0x675)])[_0x4a3026(0x79b)][_0x4a3026(0x635)](_0x4a3026(0x702));}document[_0x4a3026(0x596)](_0x493a12[_0xe1d440]['btn'])[_0x4a3026(0x79b)]['add']('active'),document[_0x4a3026(0x596)](_0x493a12[_0xe1d440][_0x4a3026(0x675)])[_0x4a3026(0x79b)][_0x4a3026(0x76b)](_0x4a3026(0x702));}function showMessage(_0x17a1f6,_0x137e0a=null){const _0x500171=_0x597754;modalMessage[_0x500171(0x195)]=_0x17a1f6,modalConfirmAction=_0x137e0a,messageModal[_0x500171(0x79b)][_0x500171(0x76b)](_0x500171(0x702));}function showConfirmation(_0x3e80a1,_0x29e4ae){const _0x4175a2=_0x597754;document[_0x4175a2(0x596)](_0x4175a2(0x497))[_0x4175a2(0x195)]=_0x3e80a1,document[_0x4175a2(0x596)](_0x4175a2(0x48e))[_0x4175a2(0x82d)]('h3')[_0x4175a2(0x195)]=_0x4175a2(0x5a1),confirmAction=_0x29e4ae,confirmationModal[_0x4175a2(0x79b)][_0x4175a2(0x76b)](_0x4175a2(0x702));}function listenForProjects(){const _0x2c4846=_0x597754,_0x4598a8=doc(db,_0x2c4846(0x839),_0x2c4846(0x4ec));onSnapshot(_0x4598a8,_0x469f6a=>{const _0x14a7c0=_0x2c4846;if(_0x469f6a[_0x14a7c0(0x484)]()){const _0x260c31=_0x469f6a['data']();globalDashboardSettings['projectSort']=_0x260c31[_0x14a7c0(0x74e)]||_0x14a7c0(0x694),globalDashboardSettings['pinnedProjects']=_0x260c31[_0x14a7c0(0xbd)]||[],globalDashboardSettings[_0x14a7c0(0x697)]=_0x260c31[_0x14a7c0(0x697)]||[];}allProjects[_0x14a7c0(0x2c4)]>0x0&&renderProjects();});const _0x675631=collection(db,_0x2c4846(0x4cb)+appId+_0x2c4846(0x6bf));unsubscribeProjectsListener=onSnapshot(_0x675631,_0x56d121=>{const _0x52599f=_0x2c4846;allProjects=_0x56d121[_0x52599f(0x521)][_0x52599f(0x535)](_0xf7d7e8=>({'id':_0xf7d7e8['id'],..._0xf7d7e8[_0x52599f(0x324)]()})),renderProjects();},_0x1815b2=>{const _0x398264=_0x2c4846;console['error'](_0x398264(0x308),_0x1815b2),showMessage(_0x398264(0x5a7));});}function showColorPalette(_0xbd2f93,_0x50d6c4){const _0x2cff7e=_0x597754;document['querySelectorAll'](_0x2cff7e(0x142))[_0x2cff7e(0x450)](_0x3431b7=>_0x3431b7[_0x2cff7e(0x76b)]());const _0x1df17f=[_0x2cff7e(0x54b),'#FEE2E2',_0x2cff7e(0x629),_0x2cff7e(0x234),_0x2cff7e(0x279),_0x2cff7e(0x1e3),_0x2cff7e(0x241),'#FCE7F3',_0x2cff7e(0x6f7)],_0x34eaf3=document[_0x2cff7e(0x429)](_0x2cff7e(0x3c0));_0x34eaf3[_0x2cff7e(0x269)]=_0x2cff7e(0x86a),_0x1df17f['forEach'](_0x3604e2=>{const _0x182517=_0x2cff7e,_0x492b47=document[_0x182517(0x429)](_0x182517(0x3c0));_0x492b47[_0x182517(0x269)]=_0x182517(0x160),_0x492b47[_0x182517(0xae)]['backgroundColor']=_0x3604e2,_0x492b47[_0x182517(0x893)](_0x182517(0x30c),()=>{const _0x452c58=_0x182517;handleProjectColorChange(_0x50d6c4,_0x3604e2),_0x34eaf3[_0x452c58(0x76b)]();}),_0x34eaf3[_0x182517(0x229)](_0x492b47);}),document['body'][_0x2cff7e(0x229)](_0x34eaf3);const _0x5596f6=_0xbd2f93['getBoundingClientRect']();_0x34eaf3['style'][_0x2cff7e(0x5b0)]=_0x5596f6['bottom']+window[_0x2cff7e(0x175)]+'px',_0x34eaf3[_0x2cff7e(0xae)][_0x2cff7e(0x46b)]=_0x5596f6[_0x2cff7e(0x46b)]+window[_0x2cff7e(0x153)]-_0x34eaf3['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x3abb15,_0x41538e){const _0x2448eb=_0x597754,_0x285627=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3abb15);try{await updateDoc(_0x285627,{'color':_0x41538e});}catch(_0x3af6a9){console[_0x2448eb(0x5dc)](_0x2448eb(0x556),_0x3af6a9),showMessage(_0x2448eb(0x416));}}async function renderProjects(){const _0x4be897=_0x597754,_0x4f60f7=globalDashboardSettings[_0x4be897(0x74e)]||'date_desc',_0x19accc=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x4da702=globalDashboardSettings[_0x4be897(0x1cf)]||'grid',_0x581bc5=document[_0x4be897(0x596)](_0x4be897(0x69c)),_0x4f6a79=document[_0x4be897(0x596)](_0x4be897(0x4ac));_0x581bc5[_0x4be897(0x79b)][_0x4be897(0x7d7)](_0x4be897(0x164),_0x4da702===_0x4be897(0x245)),_0x4f6a79[_0x4be897(0x79b)][_0x4be897(0x7d7)](_0x4be897(0x164),_0x4da702===_0x4be897(0x50c)),document[_0x4be897(0x596)](_0x4be897(0x1bb))['value']=_0x4f60f7;const _0x4fdae8=document[_0x4be897(0x596)]('project-search-input')[_0x4be897(0x800)][_0x4be897(0x7e1)]();let _0xb58d47=allProjects[_0x4be897(0x534)](_0x4896b9=>_0x4896b9[_0x4be897(0x6e8)][_0x4be897(0x7e1)]()[_0x4be897(0x7ec)](_0x4fdae8));const _0x155493=_0xb58d47[_0x4be897(0x534)](_0x3cee05=>_0x19accc['has'](_0x3cee05['id'])),_0x360476=_0xb58d47[_0x4be897(0x534)](_0x200856=>!_0x19accc['has'](_0x200856['id'])),_0x16d0ce=(_0x3f9309,_0x55f1af)=>{const _0x2efdac=_0x4be897;switch(_0x4f60f7){case _0x2efdac(0x553):return _0x3f9309[_0x2efdac(0x6e8)][_0x2efdac(0x3d8)](_0x55f1af['projectName'],'th');case'name_desc':return _0x55f1af['projectName'][_0x2efdac(0x3d8)](_0x3f9309[_0x2efdac(0x6e8)],'th');case _0x2efdac(0x89b):return new Date(_0x3f9309[_0x2efdac(0x49c)])-new Date(_0x55f1af[_0x2efdac(0x49c)]);default:return new Date(_0x55f1af[_0x2efdac(0x49c)])-new Date(_0x3f9309[_0x2efdac(0x49c)]);}};_0x155493[_0x4be897(0x60d)](_0x16d0ce),_0x360476[_0x4be897(0x60d)](_0x16d0ce);const _0x249996=[..._0x155493,..._0x360476],_0xf3d3df=globalDashboardSettings[_0x4be897(0x697)]||[];_0xf3d3df[_0x4be897(0x2c4)]>0x0&&_0x4da702===_0x4be897(0x245)&&_0x249996['sort']((_0x355a49,_0x2cb83f)=>{const _0x2a0ccb=_0x4be897,_0x2625a1=_0xf3d3df[_0x2a0ccb(0x5e6)](_0x355a49['id']),_0x3e1341=_0xf3d3df[_0x2a0ccb(0x5e6)](_0x2cb83f['id']);if(_0x2625a1===-0x1)return 0x1;if(_0x3e1341===-0x1)return-0x1;return _0x2625a1-_0x3e1341;});const _0x1d1666={};await Promise[_0x4be897(0x7af)](_0x249996['map'](async _0xa34509=>{const _0x3c2553=_0x4be897,_0x112aaa=query(collection(db,_0x3c2553(0x4cb)+appId+_0x3c2553(0x1be)),where(_0x3c2553(0x7f2),'==',_0xa34509['id'])),_0x351d81=await getDocs(_0x112aaa);_0x1d1666[_0xa34509['id']]=_0x351d81[_0x3c2553(0x197)];}));const _0x25ade9=document[_0x4be897(0x596)](_0x4be897(0x4c1));let _0x808b2c='';if(_0x4da702===_0x4be897(0x245)){_0x25ade9[_0x4be897(0x269)]=_0x4be897(0x39e);if(starredQuizzes[_0x4be897(0x2c4)]>0x0&&_0x4fdae8===''){const _0x4d5f3f=starredQuizzes[_0x4be897(0x535)](_0x3c6f6e=>{const _0x593bf1=_0x4be897,_0xb98bf8=allProjects[_0x593bf1(0x84c)](_0x23db5e=>_0x23db5e['id']===_0x3c6f6e[_0x593bf1(0x7f2)]);return{..._0x3c6f6e,'projectName':_0xb98bf8?_0xb98bf8['projectName']:_0x593bf1(0x6d6)};});_0x808b2c+=_0x4be897(0x74a)+_0x4d5f3f[_0x4be897(0x535)](_0x53975a=>_0x4be897(0x78b)+_0x53975a['topic']+'\x22>'+_0x53975a[_0x4be897(0x231)]+_0x4be897(0x862)+_0x53975a[_0x4be897(0x6e8)]+_0x4be897(0x707)+_0x53975a['projectName']+_0x4be897(0x57d))[_0x4be897(0x243)]('')+_0x4be897(0x4b7)+starredQuizzes[_0x4be897(0x2c4)]+_0x4be897(0x181);}_0x249996[_0x4be897(0x450)](_0x35a74e=>{const _0x17aa5e=_0x4be897,_0x5412e2=_0x1d1666[_0x35a74e['id']]??0x0,_0x1a63da=_0x19accc[_0x17aa5e(0x3c4)](_0x35a74e['id']),_0x1a1146=_0x35a74e[_0x17aa5e(0x40a)]||_0x17aa5e(0x54b),_0x2386f6=parseInt(_0x1a1146[_0x17aa5e(0x3e7)](0x1,0x3),0x10)*0.299+parseInt(_0x1a1146[_0x17aa5e(0x3e7)](0x3,0x5),0x10)*0.587+parseInt(_0x1a1146[_0x17aa5e(0x3e7)](0x5,0x7),0x10)*0.114<0xba,_0x5dbe2f=_0x2386f6?_0x17aa5e(0x487):_0x17aa5e(0x1bc),_0x1834b2=_0x2386f6?_0x17aa5e(0x7be):_0x17aa5e(0x7f0);_0x808b2c+=_0x17aa5e(0x27e)+(_0x1a63da?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x17aa5e(0x17f))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x1a1146+_0x17aa5e(0x6ab)+_0x35a74e['id']+_0x17aa5e(0x536)+_0x35a74e['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2386f6?_0x17aa5e(0x54e):_0x17aa5e(0x81c))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x35a74e['id']+_0x17aa5e(0x2b3)+(_0x2386f6?_0x17aa5e(0x54e):_0x17aa5e(0x81c))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x1a63da?_0x2386f6?'text-yellow-300':_0x17aa5e(0x58c):'')+_0x17aa5e(0x871)+_0x35a74e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x5dbe2f+_0x17aa5e(0x2df)+_0x35a74e[_0x17aa5e(0x6e8)]+_0x17aa5e(0x59b)+_0x1834b2+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x35a74e['createdAt'])[_0x17aa5e(0x788)](_0x17aa5e(0x738))+_0x17aa5e(0x4f9)+(_0x2386f6?_0x17aa5e(0x2e3):'text-gray-700')+_0x17aa5e(0x8b3)+_0x5412e2+_0x17aa5e(0x38f)+_0x35a74e['id']+_0x17aa5e(0x45d)+_0x35a74e[_0x17aa5e(0x6e8)]+_0x17aa5e(0x5c4)+(_0x2386f6?_0x17aa5e(0xb1):_0x17aa5e(0x182))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x25ade9[_0x4be897(0x269)]=_0x4be897(0x52d),starredQuizzes[_0x4be897(0x2c4)]>0x0&&_0x4fdae8===''&&(_0x808b2c+=_0x4be897(0x1a2)+starredQuizzes[_0x4be897(0x2c4)]+_0x4be897(0x144)),_0x808b2c+=_0x4be897(0x447),_0x249996['forEach'](_0x4713e3=>{const _0x12e8bf=_0x4be897,_0x12995c=_0x1d1666[_0x4713e3['id']]??0x0,_0x3c6dfd=_0x19accc[_0x12e8bf(0x3c4)](_0x4713e3['id']);_0x808b2c+=_0x12e8bf(0x34a)+(_0x4713e3['color']||'#E5E7EB')+_0x12e8bf(0x1ca)+_0x4713e3['id']+_0x12e8bf(0x2ab)+_0x4713e3[_0x12e8bf(0x6e8)]+_0x12e8bf(0xc6)+_0x12995c+_0x12e8bf(0x434)+new Date(_0x4713e3['createdAt'])[_0x12e8bf(0x3c9)](_0x12e8bf(0x738))+_0x12e8bf(0x545)+_0x4713e3['id']+_0x12e8bf(0x6b0)+(_0x3c6dfd?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4713e3['id']+'\x22\x20data-name=\x22'+_0x4713e3['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x4be897(0x8a2)]=_0x808b2c,noProjectsMsg['classList'][_0x4be897(0x7d7)](_0x4be897(0x702),_0x808b2c['length']>0x0);}document[_0x597754(0x596)](_0x597754(0x2e5))[_0x597754(0x893)](_0x597754(0x30c),async()=>{const _0x134349=_0x597754,_0x325b73=document[_0x134349(0x596)](_0x134349(0x693)),_0x276139=_0x325b73[_0x134349(0x800)][_0x134349(0xb9)]();if(!_0x276139){showMessage(_0x134349(0x7d3));return;}try{const _0x289fd6=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x289fd6,{'projectName':_0x276139,'students':[],'settings':{'resultsDisplay':_0x134349(0x435),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x134349(0x83b)]()}),_0x325b73[_0x134349(0x800)]='',createProjectModal[_0x134349(0x79b)][_0x134349(0x635)](_0x134349(0x702)),showMessage(_0x134349(0x192));}catch(_0x46c4ee){console[_0x134349(0x5dc)]('Error\x20creating\x20project:',_0x46c4ee),showMessage(_0x134349(0x383));}}),projectList[_0x597754(0x893)]('click',async _0x3cd59b=>{const _0x627b84=_0x597754,_0x351039=_0x3cd59b['target']['closest'](_0x627b84(0x7c3)),_0x43bcd9=_0x3cd59b['target'][_0x627b84(0x785)](_0x627b84(0xb6)),_0x40d9f3=_0x3cd59b[_0x627b84(0x5f0)][_0x627b84(0x785)]('.pin-project-btn'),_0x1dee9d=_0x3cd59b[_0x627b84(0x5f0)]['closest'](_0x627b84(0x211));if(_0x40d9f3){const _0x20c90d=_0x40d9f3['dataset']['id'],_0x524498=doc(db,_0x627b84(0x839),'dashboardConfig'),_0x1698a0=globalDashboardSettings['pinnedProjects'];let _0x567cee;_0x1698a0[_0x627b84(0x7ec)](_0x20c90d)?_0x567cee=_0x1698a0[_0x627b84(0x534)](_0x31582c=>_0x31582c!==_0x20c90d):_0x567cee=[..._0x1698a0,_0x20c90d];try{await setDoc(_0x524498,{'pinnedProjects':_0x567cee},{'merge':!![]});}catch(_0x73b260){console[_0x627b84(0x5dc)](_0x627b84(0x8a8),_0x73b260),showMessage(_0x627b84(0x4b8));}}else{if(_0x1dee9d){const _0x1d278c=_0x1dee9d[_0x627b84(0x4af)]['id'];showColorPalette(_0x1dee9d,_0x1d278c);}else{if(_0x351039){const _0x286123=_0x351039[_0x627b84(0x4af)]['id'];_0x286123===_0x627b84(0x381)?showStarredProjectView():(currentProjectId=_0x286123,await loadProjectDetails(currentProjectId),showView(_0x627b84(0x42c)));}else{if(_0x43bcd9){const _0x5f2c60=_0x43bcd9[_0x627b84(0x4af)]['id'],_0x308942=_0x43bcd9['dataset']['name'];showConfirmation(_0x627b84(0x744)+_0x308942+_0x627b84(0x831),()=>handleDeleteProject(_0x5f2c60));}}}}}),projectList[_0x597754(0x893)]('dragstart',_0x3cae52=>{const _0x17f551=_0x597754,_0x10eb1f=_0x3cae52[_0x17f551(0x5f0)][_0x17f551(0x785)]('.project-card-container');_0x10eb1f&&_0x10eb1f[_0x17f551(0x79b)][_0x17f551(0x635)](_0x17f551(0x3c3));}),projectList['addEventListener']('dragend',_0x51aa8e=>{const _0x18f10a=_0x597754,_0x2f2cb3=_0x51aa8e[_0x18f10a(0x5f0)][_0x18f10a(0x785)](_0x18f10a(0x5f7));_0x2f2cb3&&_0x2f2cb3[_0x18f10a(0x79b)][_0x18f10a(0x76b)]('opacity-50');}),projectList[_0x597754(0x893)](_0x597754(0x617),_0x55968e=>{const _0x4d32aa=_0x597754;_0x55968e[_0x4d32aa(0x24e)]();const _0x1052c6=document[_0x4d32aa(0x82d)](_0x4d32aa(0x405));if(!_0x1052c6)return;const _0x448487=getDragAfterElement(projectList,_0x55968e[_0x4d32aa(0x2ca)]);_0x448487==null?projectList['appendChild'](_0x1052c6):projectList[_0x4d32aa(0x6f9)](_0x1052c6,_0x448487);}),projectList[_0x597754(0x893)](_0x597754(0x25c),_0x156a1f=>{const _0x50d039=_0x597754;_0x156a1f[_0x50d039(0x24e)]();const _0x20f759=[...projectList[_0x50d039(0x5f5)]('.project-card-container[data-id]')][_0x50d039(0x535)](_0x40d485=>_0x40d485[_0x50d039(0x4af)]['id']);saveProjectOrder(_0x20f759);});function renderBehaviorLog(_0x4c4b75){const _0xa916b2=_0x597754,_0x58d793=document[_0xa916b2(0x596)]('behavior-log-container');if(!_0x58d793)return;const _0xa4e176=_0x4c4b75[_0xa916b2(0x534)](_0x3c41ed=>_0x3c41ed[_0xa916b2(0x86b)]&&_0x3c41ed[_0xa916b2(0x86b)][_0xa916b2(0x2c4)]>0x0);if(_0xa4e176[_0xa916b2(0x2c4)]===0x0){_0x58d793[_0xa916b2(0x8a2)]=_0xa916b2(0x277);return;}let _0x1c3edb='';_0xa4e176[_0xa916b2(0x450)](_0x5cbaa5=>{const _0x1a8109=_0xa916b2;_0x1c3edb+=_0x1a8109(0x23f)+_0x5cbaa5[_0x1a8109(0x4a3)]+_0x1a8109(0x228),_0x5cbaa5[_0x1a8109(0x86b)][_0x1a8109(0x60d)]((_0x32c36f,_0x21548a)=>new Date(_0x21548a[_0x1a8109(0x883)])-new Date(_0x32c36f[_0x1a8109(0x883)]))[_0x1a8109(0x450)](_0x2b4d6=>{const _0x1ef7f2=_0x1a8109,_0x2edbd1=new Date(_0x2b4d6['timestamp'])['toLocaleString'](_0x1ef7f2(0x738),{'dateStyle':_0x1ef7f2(0x3b8),'timeStyle':'medium'});_0x1c3edb+=_0x1ef7f2(0x895)+_0x2b4d6['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x2edbd1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1c3edb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x58d793['innerHTML']=_0x1c3edb;}function getDragAfterElement(_0x2294fe,_0x4679cc){const _0x280d42=_0x597754,_0x3cc011=[..._0x2294fe[_0x280d42(0x5f5)](_0x280d42(0x3dd))];return _0x3cc011['reduce']((_0x598587,_0xc84b9e)=>{const _0x477e36=_0x280d42,_0x4db874=_0xc84b9e['getBoundingClientRect'](),_0x123913=_0x4679cc-_0x4db874[_0x477e36(0x5b0)]-_0x4db874[_0x477e36(0x543)]/0x2;return _0x123913<0x0&&_0x123913>_0x598587[_0x477e36(0xdc)]?{'offset':_0x123913,'element':_0xc84b9e}:_0x598587;},{'offset':Number[_0x280d42(0x40f)]})['element'];}async function saveProjectOrder(_0x1fc35a){const _0x505c46=_0x597754,_0x4537be=doc(db,_0x505c46(0x839),'dashboardConfig');try{await setDoc(_0x4537be,{'projectOrder':_0x1fc35a},{'merge':!![]});}catch(_0x4f4ef0){console[_0x505c46(0x5dc)](_0x505c46(0x222),_0x4f4ef0),showMessage(_0x505c46(0x4a2));}}async function logBehaviorEvent(_0x535a50,_0x341536={}){const _0x53f588=_0x597754;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x53f588(0x829)](_0x53f588(0x28b));return;}const _0x2ae90f=doc(db,_0x53f588(0x4cb)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x53f588(0x2a8),currentStudentName),_0x48f443={'event':_0x535a50,'timestamp':new Date()[_0x53f588(0x83b)](),..._0x341536};try{await updateDoc(_0x2ae90f,{'behaviorLog':arrayUnion(_0x48f443)}),console[_0x53f588(0x1ef)](_0x53f588(0x6fe)+currentStudentName+_0x53f588(0x58e));}catch(_0x2cb0c5){_0x2cb0c5[_0x53f588(0x850)]===_0x53f588(0x605)?console['warn'](_0x53f588(0x79e)+currentStudentName+_0x53f588(0x1ea)):console[_0x53f588(0x5dc)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x2cb0c5);}}function calculateMeanAndStdDev(_0x56be47){const _0x1ea33d=_0x597754;if(_0x56be47[_0x1ea33d(0x2c4)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x164312=_0x56be47[_0x1ea33d(0x44a)]((_0x340bf3,_0x250d3c)=>_0x340bf3+_0x250d3c,0x0)/_0x56be47['length'];if(_0x56be47[_0x1ea33d(0x2c4)]===0x1)return{'mean':_0x164312,'stdDev':0x0};const _0x1b5e56=Math[_0x1ea33d(0x786)](_0x56be47['map'](_0x248cc7=>Math[_0x1ea33d(0x4d4)](_0x248cc7-_0x164312,0x2))[_0x1ea33d(0x44a)]((_0x2d48d1,_0x1e3d8a)=>_0x2d48d1+_0x1e3d8a,0x0)/(_0x56be47['length']-0x1));return{'mean':_0x164312,'stdDev':_0x1b5e56};}function calculateZScore(_0x27e846,_0x11b1d3,_0x588e3c){if(_0x588e3c===0x0)return 0x0;return(_0x27e846-_0x11b1d3)/_0x588e3c;}function calculateTScore(_0x4bb9eb){return 0xa*_0x4bb9eb+0x32;}function showStarredProjectView(){const _0x4cd93e=_0x597754;currentProjectId='starred',currentProjectData=null,projectTitle[_0x4cd93e(0x195)]=_0x4cd93e(0x49f),projectIdDisplay[_0x4cd93e(0x195)]=_0x4cd93e(0x812),showView('project-detail'),manageTab[_0x4cd93e(0x79b)][_0x4cd93e(0x635)]('hidden'),leaderboardTab['classList'][_0x4cd93e(0x635)](_0x4cd93e(0x702)),switchProjectTab(_0x4cd93e(0x6c5)),renderQuizzes();}async function loadProjectDetails(_0x225b6c){const _0x2252d9=_0x597754,_0x11ac73=doc(db,'artifacts/'+appId+_0x2252d9(0x6bf),_0x225b6c),_0x399326=await getDoc(_0x11ac73);if(_0x399326[_0x2252d9(0x484)]()){manageTab['classList'][_0x2252d9(0x76b)]('hidden'),leaderboardTab[_0x2252d9(0x79b)][_0x2252d9(0x76b)](_0x2252d9(0x702)),currentProjectData=_0x399326['data'](),projectTitle[_0x2252d9(0x195)]=currentProjectData[_0x2252d9(0x6e8)],projectIdDisplay[_0x2252d9(0x195)]=_0x225b6c;const _0x3a1dc7=currentProjectData['settings']||{};document[_0x2252d9(0x596)](_0x2252d9(0xba))[_0x2252d9(0x800)]=_0x3a1dc7[_0x2252d9(0x7da)]||_0x2252d9(0x73d);const _0x28e993=document[_0x2252d9(0x596)](_0x2252d9(0x45c));_0x28e993['checked']=_0x3a1dc7['showInStudentDashboard']!==![];const _0x26c14d=document[_0x2252d9(0x596)](_0x2252d9(0x400)),_0x43f427=document[_0x2252d9(0x596)](_0x2252d9(0x176)),_0xa836cd=document['getElementById'](_0x2252d9(0x514)),_0x47eca6=_0x3a1dc7['isPasscodeEnabled']||![];_0x26c14d[_0x2252d9(0x7a4)]=_0x47eca6,_0xa836cd[_0x2252d9(0x800)]=_0x3a1dc7[_0x2252d9(0x55f)]||'',_0x43f427[_0x2252d9(0x79b)]['toggle']('hidden',!_0x47eca6),_0x26c14d['onchange']=()=>{const _0x4b3736=_0x2252d9;_0x43f427['classList'][_0x4b3736(0x7d7)](_0x4b3736(0x702),!_0x26c14d[_0x4b3736(0x7a4)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x225b6c),listenForProjectQuizzes(_0x225b6c),listenForStudentProfiles(_0x225b6c);}else showMessage(_0x2252d9(0x711)),showView(_0x2252d9(0x261));}async function handleResetProjectOrder(){const _0x32827d=_0x597754,_0x345fe4=doc(db,_0x32827d(0x839),_0x32827d(0x4ec));try{await setDoc(_0x345fe4,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x32827d(0x16c));}catch(_0x50c109){console[_0x32827d(0x5dc)](_0x32827d(0x5c0),_0x50c109),showMessage(_0x32827d(0x8a1));}}async function handleTogglePinProject(_0x34da72){const _0x34109e=_0x597754;if(!_0x34da72)return;const _0x473d09=doc(db,'artifacts/'+appId+_0x34109e(0x6bf),_0x34da72);try{const _0x38d4ec=await getDoc(_0x473d09);if(_0x38d4ec[_0x34109e(0x484)]()){const _0x6feb07=_0x38d4ec['data']()['isPinned']||![];await updateDoc(_0x473d09,{'isPinned':!_0x6feb07});}}catch(_0x7e487){console[_0x34109e(0x5dc)]('Error\x20toggling\x20pin\x20status:',_0x7e487),showMessage(_0x34109e(0x4b8));}}async function handleDeleteProject(_0x5a3e3e){const _0x3ba950=_0x597754;try{const _0x16d8ec=writeBatch(db),_0x59d206=collection(db,_0x3ba950(0x4cb)+appId+'/public/data/quizzes'),_0x100557=query(_0x59d206,where('projectId','==',_0x5a3e3e)),_0x3c8006=await getDocs(_0x100557);for(const _0x72fd5e of _0x3c8006[_0x3ba950(0x521)]){const _0x5385d4=collection(db,_0x3ba950(0x4cb)+appId+_0x3ba950(0x33f)+_0x72fd5e['id']+'/submissions'),_0x3191bb=await getDocs(_0x5385d4);_0x3191bb['forEach'](_0x2f165e=>{const _0x1ce4bb=_0x3ba950;_0x16d8ec[_0x1ce4bb(0x1b7)](_0x2f165e[_0x1ce4bb(0x1b0)]);}),_0x16d8ec['delete'](_0x72fd5e['ref']);}const _0x36a61e=collection(db,_0x3ba950(0x4cb)+appId+'/public/data/projects/'+_0x5a3e3e+_0x3ba950(0x3e9)),_0x5c9987=await getDocs(_0x36a61e);_0x5c9987[_0x3ba950(0x450)](_0x298285=>{const _0x5d82ba=_0x3ba950;_0x16d8ec[_0x5d82ba(0x1b7)](_0x298285[_0x5d82ba(0x1b0)]);});const _0x5dc402=doc(db,_0x3ba950(0x4cb)+appId+'/public/data/projects',_0x5a3e3e);_0x16d8ec[_0x3ba950(0x1b7)](_0x5dc402),await _0x16d8ec['commit'](),showMessage(_0x3ba950(0x864)),showView(_0x3ba950(0x261));}catch(_0x289591){console[_0x3ba950(0x5dc)](_0x3ba950(0x257),_0x289591),showMessage(_0x3ba950(0xfa));}}document['getElementById'](_0x597754(0x5a5))['addEventListener']('click',async()=>{const _0x6af8a5=_0x597754;if(!currentProjectId)return;const _0x353971={'defaultNumQuestions':parseInt(document['getElementById'](_0x6af8a5(0x811))[_0x6af8a5(0x800)]),'defaultNumChoices':parseInt(document[_0x6af8a5(0x596)](_0x6af8a5(0x589))['value']),'defaultPassingScore':parseInt(document[_0x6af8a5(0x596)](_0x6af8a5(0x424))[_0x6af8a5(0x800)]),'resultsDisplay':document[_0x6af8a5(0x596)](_0x6af8a5(0x890))[_0x6af8a5(0x800)],'shuffleSetting':document['getElementById'](_0x6af8a5(0xba))[_0x6af8a5(0x800)],'timerMode':document[_0x6af8a5(0x596)](_0x6af8a5(0x2f4))[_0x6af8a5(0x800)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x6af8a5(0x800)])};try{const _0x3436db=doc(db,_0x6af8a5(0x4cb)+appId+_0x6af8a5(0x6bf),currentProjectId);await updateDoc(_0x3436db,{'settings':_0x353971}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x47f5f9){console[_0x6af8a5(0x5dc)](_0x6af8a5(0x215),_0x47f5f9),showMessage(_0x6af8a5(0x44c));}});function listenForStudents(_0x204328){const _0x38bf34=_0x597754,_0x1f6846=doc(db,'artifacts/'+appId+_0x38bf34(0x6bf),_0x204328);unsubscribeStudentsListener=onSnapshot(_0x1f6846,_0x54c15d=>{const _0x4a446d=_0x38bf34;if(_0x54c15d[_0x4a446d(0x484)]()){const _0xd4998d=_0x54c15d[_0x4a446d(0x324)]();currentProjectData=_0xd4998d,renderStudentList(_0xd4998d[_0x4a446d(0x3ae)]||[]);}});}function renderStudentList(_0x478ae7){const _0x3465e0=_0x597754,_0x198869=document[_0x3465e0(0x596)](_0x3465e0(0x6be));_0x478ae7[_0x3465e0(0x2c4)]===0x0?(studentList[_0x3465e0(0x8a2)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x198869['classList']['add']('hidden')):(studentList[_0x3465e0(0x8a2)]=_0x478ae7[_0x3465e0(0x535)](_0x259ffe=>_0x3465e0(0x6eb)+_0x259ffe+_0x3465e0(0x1d6)+_0x259ffe+_0x3465e0(0x892))[_0x3465e0(0x243)](''),_0x198869[_0x3465e0(0x79b)][_0x3465e0(0x76b)](_0x3465e0(0x702)));}document[_0x597754(0x596)](_0x597754(0x57f))['addEventListener'](_0x597754(0x30c),async()=>{const _0x57722c=_0x597754;if(!currentProjectId)return;const _0xe6361=document[_0x57722c(0x596)](_0x57722c(0x7a7)),_0x190b63=_0xe6361[_0x57722c(0x800)][_0x57722c(0xb9)]();if(!_0x190b63){showMessage(_0x57722c(0x73b));return;}const _0x26ffae=_0x190b63[_0x57722c(0x645)]('\x0a')[_0x57722c(0x535)](_0x24c02c=>_0x24c02c[_0x57722c(0xb9)]())[_0x57722c(0x534)](_0x2adcc3=>_0x2adcc3);if(_0x26ffae[_0x57722c(0x2c4)]===0x0)return;try{const _0x812c90=doc(db,_0x57722c(0x4cb)+appId+'/public/data/projects',currentProjectId),_0x14d98a=await getDoc(_0x812c90);if(_0x14d98a[_0x57722c(0x484)]()){const _0x3d04e1=_0x14d98a['data']()[_0x57722c(0x3ae)]||[],_0x4c9195=[...new Set([..._0x3d04e1,..._0x26ffae])];await updateDoc(_0x812c90,{'students':_0x4c9195}),_0xe6361[_0x57722c(0x800)]='';}}catch(_0x2efe3d){console[_0x57722c(0x5dc)]('Error\x20adding\x20students:',_0x2efe3d),showMessage(_0x57722c(0x12c));}});async function handleManualQuizPairing(_0x39e3c0){const _0x1adf8d=_0x597754,_0x21f73b=document[_0x1adf8d(0x596)](_0x1adf8d(0x7e7)),_0x955d73=document[_0x1adf8d(0x596)]('move-quiz-project-select'),_0x5a8317=_0x21f73b[_0x1adf8d(0x82d)]('h3'),_0x4f42f8=document[_0x1adf8d(0x596)]('confirm-move-quiz-btn'),_0x1b7d41=document[_0x1adf8d(0x596)]('cancel-move-quiz-btn');_0x5a8317['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x955d73[_0x1adf8d(0x8a2)]=_0x1adf8d(0x59e),_0x4f42f8[_0x1adf8d(0x195)]='ยืนยันการจับคู่',_0x21f73b[_0x1adf8d(0x79b)]['remove'](_0x1adf8d(0x702));const _0x4aaf94=allQuizzes[_0x1adf8d(0x534)](_0x3060a2=>_0x3060a2['id']!==_0x39e3c0);_0x4aaf94[_0x1adf8d(0x2c4)]===0x0?(_0x955d73[_0x1adf8d(0x8a2)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x4f42f8['disabled']=!![]):(_0x955d73[_0x1adf8d(0x8a2)]=_0x1adf8d(0x345)+_0x4aaf94[_0x1adf8d(0x535)](_0x4703f5=>_0x1adf8d(0x238)+_0x4703f5['id']+'\x22>'+_0x4703f5[_0x1adf8d(0x231)]+_0x1adf8d(0x65e))[_0x1adf8d(0x243)](''),_0x4f42f8[_0x1adf8d(0x64a)]=![]);const _0x16e36d=async()=>{const _0x420140=_0x1adf8d,_0x29854f=_0x955d73['value'];if(!_0x29854f){showMessage(_0x420140(0x687));return;}_0x4f42f8[_0x420140(0x64a)]=!![],_0x4f42f8[_0x420140(0x195)]='กำลังจับคู่...';try{const _0x456c3f=doc(db,_0x420140(0x4cb)+appId+'/public/data/quizzes',_0x39e3c0),_0x167a59=doc(db,_0x420140(0x4cb)+appId+_0x420140(0x1be),_0x29854f),_0x2be1de=writeBatch(db);_0x2be1de[_0x420140(0xef)](_0x456c3f,{'pairedQuizId':_0x29854f}),_0x2be1de[_0x420140(0xef)](_0x167a59,{'pairedQuizId':_0x39e3c0}),await _0x2be1de[_0x420140(0xca)](),showMessage(_0x420140(0x2b9)),_0x21f73b[_0x420140(0x79b)][_0x420140(0x635)](_0x420140(0x702));}catch(_0x238a41){console[_0x420140(0x5dc)]('Error\x20pairing\x20quizzes:',_0x238a41),showMessage(_0x420140(0x720));}finally{_0x5a8317[_0x420140(0x195)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4f42f8[_0x420140(0x195)]=_0x420140(0x292),_0x4f42f8['disabled']=![],_0x4f42f8[_0x420140(0x470)]('click',_0x16e36d),_0x1b7d41['removeEventListener'](_0x420140(0x30c),_0x5a3955);}},_0x5a3955=()=>{const _0x3ad6d0=_0x1adf8d;_0x21f73b[_0x3ad6d0(0x79b)][_0x3ad6d0(0x635)]('hidden'),_0x5a8317[_0x3ad6d0(0x195)]=_0x3ad6d0(0x7c8),_0x4f42f8[_0x3ad6d0(0x195)]='ย้าย',_0x4f42f8[_0x3ad6d0(0x470)](_0x3ad6d0(0x30c),_0x16e36d),_0x1b7d41['removeEventListener']('click',_0x5a3955);};_0x4f42f8[_0x1adf8d(0x893)]('click',_0x16e36d),_0x1b7d41[_0x1adf8d(0x893)](_0x1adf8d(0x30c),_0x5a3955);}function handleDeleteStudent(_0x34b0ca){const _0x18a951=_0x597754;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x34b0ca+_0x18a951(0x402),async()=>{const _0x490978=_0x18a951;if(!currentProjectId||!currentProjectData)return;const _0x5e23b2=currentProjectData['students'][_0x490978(0x534)](_0x2a6360=>_0x2a6360!==_0x34b0ca);try{const _0x3ec1d2=doc(db,'artifacts/'+appId+_0x490978(0x6bf),currentProjectId),_0x567197=doc(db,_0x490978(0x4cb)+appId+_0x490978(0x4c8)+currentProjectId+_0x490978(0x3e9),_0x34b0ca),_0x30c11a=writeBatch(db);_0x30c11a[_0x490978(0xef)](_0x3ec1d2,{'students':_0x5e23b2}),_0x30c11a['delete'](_0x567197),await _0x30c11a[_0x490978(0xca)]();}catch(_0x29123a){console[_0x490978(0x5dc)](_0x490978(0x304),_0x29123a),showMessage(_0x490978(0x45e));}});}function handleDeleteAllStudents(){const _0x1941af=_0x597754;showConfirmation(_0x1941af(0x1ae),async()=>{const _0x50a099=_0x1941af;if(!currentProjectId)return;try{const _0x41ba43=doc(db,_0x50a099(0x4cb)+appId+'/public/data/projects',currentProjectId),_0x48fc6e=collection(db,_0x50a099(0x4cb)+appId+_0x50a099(0x4c8)+currentProjectId+'/studentProfiles'),_0x183c79=await getDocs(_0x48fc6e),_0x315e78=writeBatch(db);_0x315e78[_0x50a099(0xef)](_0x41ba43,{'students':[]}),_0x183c79[_0x50a099(0x450)](_0x2a99a3=>_0x315e78['delete'](_0x2a99a3[_0x50a099(0x1b0)])),await _0x315e78[_0x50a099(0xca)]();}catch(_0x3b329c){console['error'](_0x50a099(0x656),_0x3b329c),showMessage(_0x50a099(0x232));}});}async function handleGenerateFromFileClick(){const _0x45378b=_0x597754;if(!selectedFile){showMessage(_0x45378b(0x71f));return;}const _0x308be2=document[_0x45378b(0x596)](_0x45378b(0x570)),_0x4571c6=document[_0x45378b(0x596)](_0x45378b(0x44e)),_0x39a051=document[_0x45378b(0x596)](_0x45378b(0x326)),_0xd66078=document[_0x45378b(0x596)]('generate-from-file-btn');_0xd66078[_0x45378b(0x64a)]=!![],document[_0x45378b(0x596)](_0x45378b(0x74c))[_0x45378b(0x79b)][_0x45378b(0x76b)](_0x45378b(0x702)),_0x39a051[_0x45378b(0x8a2)]='',_0x308be2[_0x45378b(0x79b)]['remove'](_0x45378b(0x702)),_0x4571c6[_0x45378b(0x195)]='กำลังอ่านและเตรียมไฟล์...';const _0x11dabe=new FileReader();_0x11dabe['readAsDataURL'](selectedFile),_0x11dabe['onload']=async()=>{const _0x392bd7=_0x45378b;try{const _0x3d7759=_0x11dabe[_0x392bd7(0x56a)][_0x392bd7(0x645)](',')[0x1],_0x3f11a2=selectedFile[_0x392bd7(0x520)];await generateQuizFromFile(_0x3f11a2,_0x3d7759);}catch(_0x3d7270){console[_0x392bd7(0x5dc)]('Error\x20processing\x20file\x20for\x20AI:',_0x3d7270),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x3d7270['message']),_0x308be2[_0x392bd7(0x79b)][_0x392bd7(0x635)](_0x392bd7(0x702));}finally{}},_0x11dabe[_0x45378b(0x305)]=_0x51e20a=>{const _0x5abf6f=_0x45378b;console['error']('FileReader\x20error:',_0x51e20a),showMessage(_0x5abf6f(0x4e1)),_0x308be2[_0x5abf6f(0x79b)][_0x5abf6f(0x635)]('hidden'),_0xd66078[_0x5abf6f(0x64a)]=![];};}function _0x512c(_0x57c921,_0x2af48e){const _0x3aee2b=_0x3aee();return _0x512c=function(_0x512c59,_0xd8a42a){_0x512c59=_0x512c59-0x9b;let _0x2a4b84=_0x3aee2b[_0x512c59];return _0x2a4b84;},_0x512c(_0x57c921,_0x2af48e);}function autoFormatMath(_0x5026c5){const _0x5e28c5=_0x597754;if(typeof _0x5026c5!=='string'||!_0x5026c5)return _0x5026c5;const _0x32f0e0=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1132db=_0x5026c5[_0x5e28c5(0x16e)](_0x32f0e0,_0xfd6bbc=>{return'$'+_0xfd6bbc['trim']()+'$';});return _0x1132db;}function sanitizeQuizData(_0x9b5e8b){const _0x1d4454=_0x597754;if(!_0x9b5e8b||!_0x9b5e8b[_0x1d4454(0x2e8)])return _0x9b5e8b;const _0x1dc1ff={'imes':'\x5ctimes','div':'\x5cdiv'},_0x33e71f=_0x4e8f15=>{const _0x12a5e0=_0x1d4454;if(typeof _0x4e8f15!==_0x12a5e0(0x208))return _0x4e8f15;let _0x5f3496=_0x4e8f15;for(const [_0x1c465d,_0x4c9d3d]of Object[_0x12a5e0(0x102)](_0x1dc1ff)){const _0x108f8d=new RegExp('\x5cb'+_0x1c465d+'\x5cb','g');_0x5f3496=_0x5f3496[_0x12a5e0(0x16e)](_0x108f8d,_0x4c9d3d);}return _0x5f3496=_0x5f3496[_0x12a5e0(0x16e)](/\\\//g,_0x12a5e0(0x764)),_0x5f3496=_0x5f3496[_0x12a5e0(0x16e)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x12a5e0(0x764))[_0x12a5e0(0x16e)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x12a5e0(0x16e)](/÷/g,_0x12a5e0(0x764))['replace'](/×/g,'\x5ctimes'),_0x5f3496=_0x5f3496[_0x12a5e0(0x16e)](/(\d)(\\frac)/g,_0x12a5e0(0x3cf)),_0x5f3496=autoFormatMath(_0x5f3496),_0x5f3496;};return _0x9b5e8b[_0x1d4454(0x231)]&&(_0x9b5e8b['topic']=_0x33e71f(_0x9b5e8b[_0x1d4454(0x231)])),_0x9b5e8b[_0x1d4454(0x2e8)]['forEach'](_0x1c4a47=>{const _0x126b22=_0x1d4454;_0x1c4a47[_0x126b22(0x465)]=_0x33e71f(_0x1c4a47['questionText']),_0x1c4a47[_0x126b22(0x730)]&&(_0x1c4a47['options']=_0x1c4a47[_0x126b22(0x730)][_0x126b22(0x535)](_0x33e71f)),_0x1c4a47[_0x126b22(0x5f2)]&&(_0x1c4a47['explanation']=_0x33e71f(_0x1c4a47['explanation'])),_0x1c4a47[_0x126b22(0x607)]&&(_0x1c4a47[_0x126b22(0x607)]=_0x33e71f(_0x1c4a47[_0x126b22(0x607)])),_0x1c4a47['correctResponse']&&(_0x1c4a47[_0x126b22(0x81a)]=_0x33e71f(_0x1c4a47[_0x126b22(0x81a)])),_0x1c4a47[_0x126b22(0x2ea)]&&(_0x1c4a47['allResponses']=_0x1c4a47[_0x126b22(0x2ea)][_0x126b22(0x535)](_0x33e71f));}),_0x9b5e8b;}const simpleMathPrompt=_0x597754(0x2ef);async function handleGenerateFromLink(){const _0x573ca4=_0x597754,_0x3d7c6f=document[_0x573ca4(0x596)](_0x573ca4(0xd2)),_0x1988fa=document[_0x573ca4(0x596)](_0x573ca4(0x603)),_0x477f3f=_0x3d7c6f[_0x573ca4(0x800)][_0x573ca4(0xb9)](),_0x2f04c2=_0x1988fa[_0x573ca4(0x800)][_0x573ca4(0xb9)]();if(!_0x477f3f){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x3e449a=document[_0x573ca4(0x596)](_0x573ca4(0x570)),_0x426917=document['getElementById']('loader-text'),_0x3b550e=document[_0x573ca4(0x596)]('generated-quiz-container'),_0x35d1bb=document['getElementById'](_0x573ca4(0x50f));document[_0x573ca4(0x596)](_0x573ca4(0x74c))[_0x573ca4(0x79b)][_0x573ca4(0x76b)](_0x573ca4(0x702)),_0x3b550e[_0x573ca4(0x8a2)]='',_0x3e449a[_0x573ca4(0x79b)][_0x573ca4(0x76b)]('hidden'),_0x426917['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x35d1bb[_0x573ca4(0x64a)]=!![];try{const _0x568d34=_0x573ca4(0x820)+encodeURIComponent(_0x477f3f),_0x42c9c7=await fetch(_0x568d34);if(!_0x42c9c7['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x42c9c7['status']+')');const _0xd428e2=await _0x42c9c7['text'](),_0x287019=extractTextFromHtml(_0xd428e2);if(!_0x287019||_0x287019[_0x573ca4(0x2c4)]<0x64)throw new Error(_0x573ca4(0x13e));await generateQuiz(_0x2f04c2,_0x287019);}catch(_0x50e0be){console[_0x573ca4(0x5dc)]('Error\x20generating\x20from\x20link:',_0x50e0be),showMessage('เกิดข้อผิดพลาด:\x20'+_0x50e0be[_0x573ca4(0x6b9)]),_0x3b550e[_0x573ca4(0x8a2)]=_0x573ca4(0x367);}finally{_0x3e449a[_0x573ca4(0x79b)][_0x573ca4(0x635)](_0x573ca4(0x702)),_0x35d1bb[_0x573ca4(0x64a)]=![];}}function extractTextFromHtml(_0x56a811){const _0x434acf=_0x597754,_0x5512b3=new DOMParser()[_0x434acf(0x609)](_0x56a811,_0x434acf(0x139));return _0x5512b3[_0x434acf(0x5f5)](_0x434acf(0x782))[_0x434acf(0x450)](_0xf9d0e6=>_0xf9d0e6[_0x434acf(0x76b)]()),_0x5512b3[_0x434acf(0x170)][_0x434acf(0x195)]||'';}document[_0x597754(0x596)](_0x597754(0x592))[_0x597754(0x893)](_0x597754(0x30c),()=>{const _0x408937=_0x597754,_0x14f381=document[_0x408937(0x596)](_0x408937(0x318))[_0x408937(0x800)][_0x408937(0xb9)]();generateQuiz(_0x14f381,null);}),document['getElementById'](_0x597754(0x671))[_0x597754(0x893)](_0x597754(0x30c),()=>{const _0x739069=_0x597754,_0x4fc1f8=document[_0x739069(0x596)](_0x739069(0x11a))['value']['trim']();if(!_0x4fc1f8){showMessage(_0x739069(0x780));return;}const _0x2eb464=document[_0x739069(0x596)](_0x739069(0x318))[_0x739069(0x800)][_0x739069(0xb9)]();generateQuiz(_0x2eb464,_0x4fc1f8);});async function generateQuiz(_0x5b8a69,_0x54a09f,_0x613670=null){const _0x6804ad=_0x597754,_0xe8f5ec=document['getElementById'](_0x6804ad(0x5d3))[_0x6804ad(0x7a4)],_0x1ddd46=document[_0x6804ad(0x596)](_0x6804ad(0x588))[_0x6804ad(0x800)],_0x9e728d=document['getElementById'](_0x6804ad(0x811))[_0x6804ad(0x800)],_0x66477c=document[_0x6804ad(0x596)](_0x6804ad(0x589))[_0x6804ad(0x800)],_0x5b34b7=document[_0x6804ad(0x596)](_0x6804ad(0x7ad))[_0x6804ad(0x7a4)],_0x5586cc=_0x5b34b7?'':_0x6804ad(0x246),_0x5da6e2=document[_0x6804ad(0x596)](_0x6804ad(0x8a0)),_0x3831b0=_0x5da6e2['value'];let _0x3142f2='';_0x3831b0!==_0x6804ad(0x1d2)&&(_0x3142f2='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3831b0+'\x22');const _0x3036af=document[_0x6804ad(0x596)](_0x6804ad(0x315)),_0x276ed5=_0x3036af[_0x6804ad(0x800)];let _0x5209bf='';_0x276ed5!=='mixed'&&(_0x5209bf=_0x6804ad(0x6a9)+_0x276ed5+_0x6804ad(0x87a));const _0x606247=document[_0x6804ad(0x5f5)](_0x6804ad(0x32b)),_0x48d590=Array[_0x6804ad(0x483)](_0x606247)[_0x6804ad(0x535)](_0x1f49e0=>_0x1f49e0[_0x6804ad(0x800)]);let _0x100e7c='';_0x48d590[_0x6804ad(0x2c4)]>0x0&&(_0x100e7c=_0x6804ad(0x4c3)+_0x48d590[_0x6804ad(0x243)](',\x20')+_0x6804ad(0x625));let _0x5775a9='',_0x148e78='',_0x59f3c0,_0x4ae31e=_0x6804ad(0x673)+_0x5b8a69+'\x22';if(!_0x5b8a69&&_0x54a09f)_0x4ae31e=_0x6804ad(0x5c3);else!_0x5b8a69&&!_0x54a09f&&(_0x4ae31e=_0x6804ad(0x62c));const _0x5a4bc9={'type':_0x6804ad(0x415),'properties':{'questionText':{'type':_0x6804ad(0x526)},'options':{'type':_0x6804ad(0x270),'items':{'type':_0x6804ad(0x526)}},'correctAnswerIndex':{'type':_0x6804ad(0x882)},'explanation':{'type':_0x6804ad(0x526)},'imageCode':{'type':_0x6804ad(0x526)}},'required':['questionText',_0x6804ad(0x730),_0x6804ad(0x348),_0x6804ad(0x5f2)]},_0x516a83={'type':_0x6804ad(0x415),'properties':{'questionText':{'type':_0x6804ad(0x526)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x6804ad(0x526)}},'required':[_0x6804ad(0x465),_0x6804ad(0x3d1),_0x6804ad(0x5f2)]},_0x5c9b4f={'type':_0x6804ad(0x415),'properties':{'questionText':{'type':_0x6804ad(0x526)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x6804ad(0x3df)]},'options':{'type':_0x6804ad(0x270),'items':{'type':_0x6804ad(0x526)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x6804ad(0x526)}},'required':[_0x6804ad(0x465),_0x6804ad(0x5cd),_0x6804ad(0x5f2)]},_0x5c16a3={'type':_0x6804ad(0x415),'properties':{'questionText':{'type':_0x6804ad(0x526)},'correctAnswer':{'type':_0x6804ad(0x62b)},'explanation':{'type':_0x6804ad(0x526)},'imageCode':{'type':_0x6804ad(0x526)}},'required':[_0x6804ad(0x465),_0x6804ad(0x5d9),_0x6804ad(0x5f2)]},_0x5291e1={'type':'OBJECT','properties':{'questionType':{'type':_0x6804ad(0x526),'enum':[_0x6804ad(0x1f0)]},'stem':{'type':_0x6804ad(0x526)},'correctResponse':{'type':_0x6804ad(0x526)},'allResponses':{'type':_0x6804ad(0x270),'items':{'type':_0x6804ad(0x526)}},'explanation':{'type':_0x6804ad(0x526)},'imageCode':{'type':_0x6804ad(0x526)}},'required':[_0x6804ad(0x5cd),_0x6804ad(0x607),_0x6804ad(0x81a),_0x6804ad(0x2ea),'explanation']};let _0x50012b;if(_0x613670!==null){const _0x41734f=currentQuizData[_0x6804ad(0x2e8)][_0x613670][_0x6804ad(0x5cd)],_0x3604d1=_0xe8f5ec?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x5775a9=_0x6804ad(0x72f)+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3604d1+'\x20'+simpleMathPrompt;if(_0x41734f===_0x6804ad(0x666))_0x59f3c0=_0x5a4bc9;else{if(_0x41734f===_0x6804ad(0x1f0))_0x59f3c0={'type':_0x6804ad(0x415),'properties':{'questionType':{'type':_0x6804ad(0x526),'enum':['matching_item']},'stem':{'type':_0x6804ad(0x526)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x6804ad(0x526)},'imageCode':{'type':'STRING'}},'required':[_0x6804ad(0x5cd),_0x6804ad(0x607),_0x6804ad(0x81a),'explanation']};else _0x59f3c0=_0x516a83;}_0x50012b=_0x59f3c0;}else{const _0x55fbac=_0xe8f5ec?_0x6804ad(0x4bb):'',_0x9c9f13=_0x6804ad(0x184);switch(_0x1ddd46){case _0x6804ad(0x666):_0x5775a9=_0x6804ad(0x141)+_0x5586cc+'\x20'+_0x9e728d+'\x20ข้อ\x20'+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+'.\x20แต่ละข้อมี\x20'+_0x66477c+_0x6804ad(0x321)+_0x55fbac+'\x20'+simpleMathPrompt,_0x59f3c0=_0x5a4bc9;break;case _0x6804ad(0x2e2):_0x5775a9=_0x6804ad(0x5d1)+_0x5586cc+'\x20'+_0x9e728d+'\x20ข้อ\x20'+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+_0x6804ad(0x567)+_0x66477c+_0x6804ad(0x6c4)+_0x55fbac+'\x20'+simpleMathPrompt,_0x59f3c0=_0x5a4bc9;break;case _0x6804ad(0x859):_0x5775a9=_0x6804ad(0x5d1)+_0x5586cc+'\x20'+_0x9e728d+'\x20ข้อ\x20'+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+_0x6804ad(0x31a)+_0x55fbac+'\x20'+simpleMathPrompt,_0x59f3c0=_0x516a83;break;case _0x6804ad(0x597):_0x5775a9=_0x6804ad(0x28c)+_0x5586cc+'\x20'+_0x9e728d+_0x6804ad(0x303)+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x66477c+_0x6804ad(0x37b)+_0x55fbac+'\x20'+simpleMathPrompt+'.',_0x59f3c0=_0x5c9b4f;break;case'true_false':_0x5775a9=_0x6804ad(0x157)+_0x5586cc+'\x20'+_0x9e728d+_0x6804ad(0x303)+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+_0x6804ad(0x767)+_0x55fbac+'\x20'+simpleMathPrompt,_0x59f3c0=_0x5c16a3;break;case'matching':_0x5775a9=_0x6804ad(0x5a0)+_0x5586cc+'\x20'+_0x9e728d+'\x20คู่\x20'+_0x4ae31e+'\x20'+_0x100e7c+'\x20'+_0x3142f2+'\x20'+_0x5209bf+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x55fbac+'\x20'+simpleMathPrompt,_0x59f3c0=_0x5291e1;break;}_0x50012b={'type':_0x6804ad(0x415),'properties':{'topic':{'type':_0x6804ad(0x526)},'questions':{'type':'ARRAY','items':_0x59f3c0}},'required':[_0x6804ad(0x231),'questions']};}return _0x54a09f?(_0x5775a9='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x54a09f+'\x22,\x20'+_0x5775a9,_0x148e78=_0x6804ad(0x6cf)):_0x148e78=_0x6804ad(0x1f9),handleApiCall(_0x5775a9,_0x148e78,_0x50012b,_0x613670);}async function generateQuizFromFile(_0x39f57d,_0x5e0ac4){const _0x532341=_0x597754,_0x592ba4=document['getElementById'](_0x532341(0x50b))[_0x532341(0x800)][_0x532341(0xb9)](),_0x3ccef6=document[_0x532341(0x596)](_0x532341(0x588))[_0x532341(0x800)],_0x4b2f89=document[_0x532341(0x596)](_0x532341(0x811))[_0x532341(0x800)],_0x74e0c1=document[_0x532341(0x596)](_0x532341(0x589))[_0x532341(0x800)],_0x403e73=document[_0x532341(0x596)](_0x532341(0x5d3))[_0x532341(0x7a4)],_0x19edf3=document[_0x532341(0x596)](_0x532341(0x7ad))[_0x532341(0x7a4)],_0x38cced=_0x19edf3?'':_0x532341(0x246);let _0x30c2f4='',_0x458da6,_0x2ed7d3=_0x532341(0x673)+_0x592ba4+'\x22';!_0x592ba4&&(_0x2ed7d3=_0x532341(0x68a));const _0x147043=_0x403e73?_0x532341(0x4bb):'';switch(_0x3ccef6){case _0x532341(0x666):_0x30c2f4=_0x532341(0x141)+_0x38cced+'\x20'+_0x4b2f89+_0x532341(0x303)+_0x2ed7d3+_0x532341(0x6c0)+_0x74e0c1+_0x532341(0x321)+_0x147043+'\x20'+simpleMathPrompt,_0x458da6={'type':'OBJECT','properties':{'questionText':{'type':_0x532341(0x526)},'options':{'type':_0x532341(0x270),'items':{'type':_0x532341(0x526)}},'correctAnswerIndex':{'type':_0x532341(0x882)},'explanation':{'type':_0x532341(0x526)},'imageCode':{'type':_0x532341(0x526)}},'required':[_0x532341(0x465),_0x532341(0x730),_0x532341(0x348),_0x532341(0x5f2)]};break;case'fill_in_with_choices':_0x30c2f4=_0x532341(0x5d1)+_0x38cced+'\x20'+_0x4b2f89+_0x532341(0x303)+_0x2ed7d3+_0x532341(0x567)+_0x74e0c1+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x147043+'\x20'+simpleMathPrompt,_0x458da6={'type':_0x532341(0x415),'properties':{'questionText':{'type':_0x532341(0x526)},'options':{'type':'ARRAY','items':{'type':_0x532341(0x526)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x532341(0x526)}},'required':[_0x532341(0x465),_0x532341(0x730),_0x532341(0x348),_0x532341(0x5f2)]};break;case _0x532341(0x859):_0x30c2f4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x38cced+'\x20'+_0x4b2f89+'\x20ข้อ\x20'+_0x2ed7d3+_0x532341(0x31a)+_0x147043+'\x20'+simpleMathPrompt,_0x458da6={'type':'OBJECT','properties':{'questionText':{'type':_0x532341(0x526)},'idealAnswer':{'type':_0x532341(0x526)},'explanation':{'type':_0x532341(0x526)},'imageCode':{'type':_0x532341(0x526)}},'required':[_0x532341(0x465),_0x532341(0x3d1),_0x532341(0x5f2)]};break;case _0x532341(0x597):_0x30c2f4=_0x532341(0x28c)+_0x38cced+'\x20'+_0x4b2f89+_0x532341(0x303)+_0x2ed7d3+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x74e0c1+_0x532341(0x37b)+_0x147043+'\x20'+simpleMathPrompt+_0x532341(0x204),_0x458da6={'type':_0x532341(0x415),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x532341(0x526),'enum':[_0x532341(0x666),_0x532341(0x3df)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x532341(0x882)},'idealAnswer':{'type':_0x532341(0x526)},'explanation':{'type':_0x532341(0x526)},'imageCode':{'type':_0x532341(0x526)}},'required':[_0x532341(0x465),_0x532341(0x5cd),_0x532341(0x5f2)]};break;case _0x532341(0x6ae):_0x30c2f4='สร้างคำถามแบบใช่/ไม่ใช่'+_0x38cced+'\x20'+_0x4b2f89+_0x532341(0x303)+_0x2ed7d3+_0x532341(0x772)+_0x147043+'\x20'+simpleMathPrompt,_0x458da6={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x532341(0x526)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x532341(0x5d9),'explanation']};break;case _0x532341(0x1b3):_0x30c2f4='สร้างชุดคำถามจับคู่'+_0x38cced+'\x20'+_0x4b2f89+'\x20คู่\x20'+_0x2ed7d3+_0x532341(0x3b4)+_0x4b2f89+_0x532341(0x87b)+_0x147043+'\x20'+simpleMathPrompt,_0x458da6={'type':_0x532341(0x415),'properties':{'questionType':{'type':_0x532341(0x526),'enum':[_0x532341(0x1f0)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x532341(0x526)},'allResponses':{'type':_0x532341(0x270),'items':{'type':_0x532341(0x526)}},'explanation':{'type':_0x532341(0x526)},'imageCode':{'type':_0x532341(0x526)}},'required':[_0x532341(0x5cd),_0x532341(0x607),_0x532341(0x81a),_0x532341(0x2ea),_0x532341(0x5f2)]};break;}const _0x3a014c={'type':_0x532341(0x415),'properties':{'topic':{'type':_0x532341(0x526)},'questions':{'type':_0x532341(0x270),'items':_0x458da6}},'required':[_0x532341(0x231),_0x532341(0x2e8)]},_0x582667=_0x532341(0x682)+_0x30c2f4,_0x343d69={'contents':[{'parts':[{'text':_0x582667},{'inlineData':{'mimeType':_0x39f57d,'data':_0x5e0ac4}}]}],'generationConfig':{'responseMimeType':_0x532341(0x4ed),'responseSchema':_0x3a014c}};return handleApiCall(_0x343d69['contents'][0x0][_0x532341(0x852)],_0x532341(0x8b4),_0x3a014c);}async function handleApiCall(_0x1cdb72,_0x2a7f9d,_0x4e19d8,_0x8197a3=null){const _0xbb16f3=_0x597754,_0x56ef8e=document[_0xbb16f3(0x596)](_0xbb16f3(0x74c)),_0x38c9fa=document['getElementById'](_0xbb16f3(0x570)),_0x250a18=document[_0xbb16f3(0x596)](_0xbb16f3(0x44e)),_0x2e8817=document[_0xbb16f3(0x596)](_0xbb16f3(0x326));_0x56ef8e[_0xbb16f3(0x79b)][_0xbb16f3(0x76b)]('hidden');_0x8197a3===null&&(_0x2e8817[_0xbb16f3(0x8a2)]='');_0x38c9fa['classList'][_0xbb16f3(0x76b)](_0xbb16f3(0x702)),_0x250a18[_0xbb16f3(0x195)]=_0x2a7f9d,document['getElementById'](_0xbb16f3(0x592))[_0xbb16f3(0x64a)]=!![],document[_0xbb16f3(0x596)]('generate-from-text-btn')[_0xbb16f3(0x64a)]=!![],document[_0xbb16f3(0x596)](_0xbb16f3(0x50f))['disabled']=!![];try{const _0xff4b75={'responseMimeType':_0xbb16f3(0x4ed),'responseSchema':_0x4e19d8},_0x469e88=Array[_0xbb16f3(0x260)](_0x1cdb72)?_0x1cdb72:[{'text':_0x1cdb72}],_0x4419df={'contents':[{'role':_0xbb16f3(0x1e1),'parts':_0x469e88}],'generationConfig':_0xff4b75},_0x31a423='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5d2de3=_0xbb16f3(0x85d)+_0x31a423,_0x414d85=await fetch(_0x5d2de3,{'method':_0xbb16f3(0x4db),'headers':{'Content-Type':_0xbb16f3(0x4ed)},'body':JSON[_0xbb16f3(0x14a)](_0x4419df)});if(!_0x414d85['ok'])throw new Error(_0xbb16f3(0x31d)+_0x414d85['status']);const _0x579203=await _0x414d85[_0xbb16f3(0x1f4)]();if(_0x579203[_0xbb16f3(0x17e)]?.[0x0]?.['content']?.[_0xbb16f3(0x852)]?.[0x0]){let _0x114f9b=_0x579203[_0xbb16f3(0x17e)][0x0][_0xbb16f3(0x675)][_0xbb16f3(0x852)][0x0][_0xbb16f3(0xff)],_0x547953;try{if(_0x114f9b[_0xbb16f3(0x643)](_0xbb16f3(0x25b)))_0x114f9b=_0x114f9b[_0xbb16f3(0x3e7)](0x7,_0x114f9b[_0xbb16f3(0x2c4)]-0x3)[_0xbb16f3(0xb9)]();else _0x114f9b[_0xbb16f3(0x643)](_0xbb16f3(0x7fc))&&(_0x114f9b=_0x114f9b[_0xbb16f3(0x3e7)](0x3,_0x114f9b[_0xbb16f3(0x2c4)]-0x3)['trim']());_0x547953=JSON[_0xbb16f3(0x7f6)](_0x114f9b);}catch(_0x40d0aa){console[_0xbb16f3(0x5dc)](_0xbb16f3(0x4b2),_0x40d0aa,_0x114f9b);throw new Error(_0xbb16f3(0x3c2));}if(_0x8197a3!==null){if(_0x547953[_0xbb16f3(0x5cd)]===_0xbb16f3(0x1f0)){const _0x292a5c=currentQuizData[_0xbb16f3(0x2e8)][_0xbb16f3(0x535)](_0xcc1ce4=>_0xcc1ce4[_0xbb16f3(0x81a)]);_0x547953[_0xbb16f3(0x2ea)]=_0x292a5c;const _0x489f10=currentQuizData[_0xbb16f3(0x2e8)][_0x8197a3][_0xbb16f3(0x81a)],_0x3b0a8a=_0x292a5c[_0xbb16f3(0x5e6)](_0x489f10);_0x3b0a8a>-0x1&&(_0x292a5c[_0x3b0a8a]=_0x547953[_0xbb16f3(0x81a)]),currentQuizData[_0xbb16f3(0x2e8)][_0xbb16f3(0x450)](_0x113e84=>{const _0x5046fd=_0xbb16f3;if(_0x113e84[_0x5046fd(0x5cd)]===_0x5046fd(0x1f0))_0x113e84[_0x5046fd(0x2ea)]=_0x292a5c;});}currentQuizData[_0xbb16f3(0x2e8)][_0x8197a3]=_0x547953,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x547953;const _0x5f4c43=document[_0xbb16f3(0x596)](_0xbb16f3(0x588))[_0xbb16f3(0x800)];currentQuizData[_0xbb16f3(0x5ca)]=_0x5f4c43,currentQuizData['questions']&&currentQuizData[_0xbb16f3(0x2e8)][_0xbb16f3(0x450)](_0xd9cc20=>{const _0x4823c0=_0xbb16f3;if(!_0xd9cc20['questionType']){if(_0x5f4c43===_0x4823c0(0x2e2))_0xd9cc20[_0x4823c0(0x5cd)]=_0x4823c0(0x666);else _0x5f4c43===_0x4823c0(0x859)?_0xd9cc20['questionType']=_0x4823c0(0x3df):_0xd9cc20[_0x4823c0(0x5cd)]=_0x5f4c43;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xbb16f3(0x5dc)](_0xbb16f3(0x696),JSON['stringify'](_0x579203));throw new Error(_0xbb16f3(0x3c2));}}catch(_0x362539){console[_0xbb16f3(0x5dc)](_0xbb16f3(0x89c),_0x362539),showMessage(_0xbb16f3(0x393)),_0x8197a3===null&&(_0x2e8817[_0xbb16f3(0x8a2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x38c9fa[_0xbb16f3(0x79b)][_0xbb16f3(0x635)](_0xbb16f3(0x702)),document[_0xbb16f3(0x596)](_0xbb16f3(0x592))[_0xbb16f3(0x64a)]=![],document[_0xbb16f3(0x596)](_0xbb16f3(0x671))[_0xbb16f3(0x64a)]=![],document[_0xbb16f3(0x596)](_0xbb16f3(0x50f))['disabled']=![];const _0x159d88=document[_0xbb16f3(0x596)](_0xbb16f3(0x24c));_0x159d88&&(_0x159d88['disabled']=![]);}}function exitFullscreen(){const _0x78feb5=_0x597754;if(document['exitFullscreen'])document[_0x78feb5(0x2a3)]()['catch'](_0x1c08b5=>console[_0x78feb5(0x5dc)](_0x1c08b5));else{if(document[_0x78feb5(0x42f)])document[_0x78feb5(0x42f)]();else document[_0x78feb5(0x2f3)]&&document[_0x78feb5(0x2f3)]();}}function enterFullscreen(){const _0x493a53=_0x597754,_0x397857=document[_0x493a53(0x68e)];if(_0x397857['requestFullscreen'])_0x397857['requestFullscreen']()[_0x493a53(0x1a9)](_0x456400=>{const _0x46c279=_0x493a53;console[_0x46c279(0x5dc)](_0x46c279(0x34f)+_0x456400[_0x46c279(0x6b9)]+'\x20('+_0x456400['name']+')');});else{if(_0x397857[_0x493a53(0x1da)])_0x397857[_0x493a53(0x1da)]();else _0x397857['msRequestFullscreen']&&_0x397857[_0x493a53(0x6c3)]();}}function handleCheatingEvent(){const _0x2d5e3c=_0x597754;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x2d5e3c(0x803),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x2d5e3c(0x26c)),document[_0x2d5e3c(0x596)](_0x2d5e3c(0x1d0))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2d5e3c(0x470)](_0x2d5e3c(0x4ea),handleVisibilityChange),document[_0x2d5e3c(0x470)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x2d5e3c(0x49a)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5bb7f1=_0x597754;if(currentMode===_0x5bb7f1(0x44f)||!isQuizActive)return;if(document[_0x5bb7f1(0x3ea)]==='hidden')handleCheatingEvent();else document[_0x5bb7f1(0x3ea)]===_0x5bb7f1(0x1cb)&&(console[_0x5bb7f1(0x1ef)](_0x5bb7f1(0x4e6)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x275c24=_0x597754;if(currentMode===_0x275c24(0x44f)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x50a99a){const _0x1d7cd2=_0x597754,_0x266a39=document[_0x1d7cd2(0x596)]('generated-quiz-container');let _0x3243d6=_0x1d7cd2(0x2bd)+_0x50a99a[_0x1d7cd2(0x231)]+_0x1d7cd2(0x5d8);_0x50a99a['questions'][_0x1d7cd2(0x450)]((_0x8b7e50,_0xebad52)=>{const _0x7ec62b=_0x1d7cd2;!_0x8b7e50['id']&&(_0x8b7e50['id']='q_'+Date[_0x7ec62b(0x349)]()+'_'+_0xebad52);const _0x3310d0=_0x8b7e50[_0x7ec62b(0x5cd)]||_0x50a99a['quizType'];_0x3243d6+=_0x7ec62b(0x584)+_0xebad52+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xebad52+_0x7ec62b(0x5f1)+_0xebad52+_0x7ec62b(0x6e9)+_0xebad52+_0x7ec62b(0x35d);switch(_0x3310d0){case _0x7ec62b(0x1f0):_0x3243d6+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xebad52+'\x22>'+(_0xebad52+0x1)+'.\x20'+_0x8b7e50['stem']+'</p>';_0x8b7e50[_0x7ec62b(0x285)]&&(_0x3243d6+='<div\x20id=\x22q-image-container-'+_0xebad52+_0x7ec62b(0x65d)+_0x8b7e50[_0x7ec62b(0x285)]+_0x7ec62b(0x42a));_0x3243d6+=_0x7ec62b(0x7bf)+_0xebad52+'\x22>'+_0x8b7e50['correctResponse']+_0x7ec62b(0x4f4),_0x3243d6+=_0x7ec62b(0xaa)+_0xebad52+'\x22>'+_0x8b7e50['explanation']+_0x7ec62b(0x4f4);break;case _0x7ec62b(0x3df):_0x3243d6+=_0x7ec62b(0x22b)+_0xebad52+'\x22>'+(_0xebad52+0x1)+'.\x20'+_0x8b7e50[_0x7ec62b(0x465)]+_0x7ec62b(0x3f8);_0x8b7e50[_0x7ec62b(0x285)]&&(_0x3243d6+=_0x7ec62b(0x77e)+_0xebad52+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x8b7e50[_0x7ec62b(0x285)]+'</div>');_0x3243d6+=_0x7ec62b(0x648)+_0xebad52+'\x22>'+_0x8b7e50[_0x7ec62b(0x3d1)]+'</span></div>',_0x3243d6+=_0x7ec62b(0xaa)+_0xebad52+'\x22>'+_0x8b7e50['explanation']+_0x7ec62b(0x4f4);break;case _0x7ec62b(0x6ae):_0x3243d6+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xebad52+'\x22>'+(_0xebad52+0x1)+'.\x20'+_0x8b7e50[_0x7ec62b(0x465)]+_0x7ec62b(0x3f8);_0x8b7e50[_0x7ec62b(0x285)]&&(_0x3243d6+=_0x7ec62b(0x77e)+_0xebad52+_0x7ec62b(0x65d)+_0x8b7e50['imageCode']+_0x7ec62b(0x42a));_0x3243d6+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x8b7e50[_0x7ec62b(0x5d9)]===!![]?_0x7ec62b(0x1c4):'')+_0x7ec62b(0x5e9)+(_0x8b7e50['correctAnswer']===![]?_0x7ec62b(0x1c4):'')+_0x7ec62b(0x868),_0x3243d6+=_0x7ec62b(0xaa)+_0xebad52+'\x22>'+_0x8b7e50[_0x7ec62b(0x5f2)]+'</span></div>';break;case'fill_in_the_blank':case _0x7ec62b(0x666):default:_0x3243d6+=_0x7ec62b(0x22b)+_0xebad52+'\x22>'+(_0xebad52+0x1)+'.\x20'+_0x8b7e50[_0x7ec62b(0x465)]+_0x7ec62b(0x3f8);_0x8b7e50[_0x7ec62b(0x285)]&&(_0x3243d6+=_0x7ec62b(0x77e)+_0xebad52+_0x7ec62b(0x65d)+_0x8b7e50[_0x7ec62b(0x285)]+_0x7ec62b(0x42a));_0x3243d6+=_0x7ec62b(0x6dc)+_0xebad52+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8b7e50['options'][_0x7ec62b(0x535)]((_0x2a5061,_0x2cf2ba)=>_0x7ec62b(0x390)+(_0x2cf2ba===_0x8b7e50[_0x7ec62b(0x348)]?_0x7ec62b(0x1c4):'')+'\x22>'+_0x2a5061+_0x7ec62b(0x2c5))[_0x7ec62b(0x243)]('')+_0x7ec62b(0x63f),_0x3243d6+=_0x7ec62b(0xaa)+_0xebad52+'\x22>'+_0x8b7e50[_0x7ec62b(0x5f2)]+_0x7ec62b(0x4f4);break;}_0x3243d6+=_0x7ec62b(0x42a);}),_0x3243d6+=_0x1d7cd2(0x227),_0x266a39['innerHTML']=_0x3243d6,document[_0x1d7cd2(0x5f5)](_0x1d7cd2(0x82f))[_0x1d7cd2(0x450)](_0x1837b5=>_0x1837b5[_0x1d7cd2(0x893)](_0x1d7cd2(0x30c),handleEditQuestion)),document[_0x1d7cd2(0x5f5)](_0x1d7cd2(0x38c))[_0x1d7cd2(0x450)](_0x97179b=>_0x97179b[_0x1d7cd2(0x893)](_0x1d7cd2(0x30c),handleRegenerateQuestion)),document['querySelectorAll'](_0x1d7cd2(0x48d))['forEach'](_0x4e868a=>_0x4e868a[_0x1d7cd2(0x893)]('click',handleSaveToBank)),document[_0x1d7cd2(0x596)](_0x1d7cd2(0x755))[_0x1d7cd2(0x893)](_0x1d7cd2(0x30c),exportQuizAsWorksheetPDF),document[_0x1d7cd2(0x596)](_0x1d7cd2(0x68f))['addEventListener'](_0x1d7cd2(0x30c),saveQuiz),document[_0x1d7cd2(0x596)]('verify-answers-btn')[_0x1d7cd2(0x893)](_0x1d7cd2(0x30c),handleVerifyAnswers);if(window['MathJax'])window[_0x1d7cd2(0x691)][_0x1d7cd2(0xa6)]([_0x266a39]);}function handleRegenerateQuestion(_0x2f08aa){const _0x59fc36=_0x597754,_0x5f91a=_0x2f08aa['currentTarget']['dataset'][_0x59fc36(0x6ec)],_0x51d54d=currentQuizData[_0x59fc36(0x231)];showMessage(_0x59fc36(0x6f2)+(parseInt(_0x5f91a)+0x1)+_0x59fc36(0x143)),generateQuiz(_0x51d54d,null,parseInt(_0x5f91a));}function getPointerPosition(_0x186bf7,_0x298e2f){const _0x15aef8=_0x597754,_0x315289=_0x186bf7[_0x15aef8(0x43b)]();let _0x3734f6,_0x33a9e1;return _0x298e2f[_0x15aef8(0x83f)]&&_0x298e2f[_0x15aef8(0x83f)]['length']>0x0?(_0x3734f6=_0x298e2f[_0x15aef8(0x83f)][0x0][_0x15aef8(0x7b3)],_0x33a9e1=_0x298e2f[_0x15aef8(0x83f)][0x0][_0x15aef8(0x2ca)]):(_0x3734f6=_0x298e2f[_0x15aef8(0x7b3)],_0x33a9e1=_0x298e2f['clientY']),{'x':(_0x3734f6-_0x315289['e'])/_0x315289['a'],'y':(_0x33a9e1-_0x315289['f'])/_0x315289['d']};}function startDrag(_0x1d6ac9){const _0x25b1f7=_0x597754;_0x1d6ac9[_0x25b1f7(0x520)]===_0x25b1f7(0x529)&&_0x1d6ac9['preventDefault']();const _0x33ca4d=_0x1d6ac9[_0x25b1f7(0x5f0)][_0x25b1f7(0x785)]('.draggable-text');if(_0x33ca4d){draggedSvgElement=_0x33ca4d;const _0x3bb6c3=draggedSvgElement[_0x25b1f7(0x30b)],_0x24de58=getPointerPosition(_0x3bb6c3,_0x1d6ac9);svgOffset['x']=_0x24de58['x']-parseFloat(draggedSvgElement[_0x25b1f7(0x10a)](null,'x')),svgOffset['y']=_0x24de58['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x48407f,_0x3ab304){const _0x474788=_0x597754,_0x490885={};if(_0x3ab304['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x59d8f4=[..._0x3ab304][_0x474788(0x60d)]((_0x585fb8,_0x1460ae)=>{const _0x4358e2=_0x474788,_0x50284d=_0x1460ae['latestScore']-_0x585fb8[_0x4358e2(0x344)];if(_0x50284d!==0x0)return _0x50284d;const _0x1cb529=_0x585fb8[_0x4358e2(0xbe)]?.[_0x4358e2(0x2c4)]||0x1,_0x31b00f=_0x1460ae[_0x4358e2(0xbe)]?.[_0x4358e2(0x2c4)]||0x1,_0x1a0903=_0x1cb529-_0x31b00f;if(_0x1a0903!==0x0)return _0x1a0903;const _0x32aee1=new Date(_0x585fb8['latestSubmittedAt']),_0x5c40bc=new Date(_0x1460ae['latestSubmittedAt']),_0x2a090a=_0x32aee1-_0x5c40bc;if(_0x2a090a!==0x0)return _0x2a090a;return _0x585fb8[_0x4358e2(0x4a3)][_0x4358e2(0x3d8)](_0x1460ae[_0x4358e2(0x4a3)],'th');}),_0x196efd=_0x59d8f4[_0x474788(0x2c4)],_0x6ada2b=Math[_0x474788(0x665)](0x1,Math[_0x474788(0x718)](_0x196efd*0.33));if(_0x6ada2b===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x63b9e2=_0x59d8f4[_0x474788(0x39b)](0x0,_0x6ada2b),_0x4edf52=_0x59d8f4[_0x474788(0x39b)](-_0x6ada2b),_0x43d927=_0x63b9e2[_0x474788(0x535)](_0x10a3c0=>_0x10a3c0[_0x474788(0x4a3)]),_0x202138=_0x4edf52[_0x474788(0x535)](_0x2aacce=>_0x2aacce[_0x474788(0x4a3)]);return _0x48407f[_0x474788(0x2e8)]['forEach']((_0x9f51e9,_0x3068e9)=>{const _0xd808a0=_0x474788,_0x2043a5=_0x9f51e9[_0xd808a0(0x607)]||_0x9f51e9[_0xd808a0(0x465)];let _0x2b0603=0x0,_0x1fa8b1=0x0,_0x2bf93a=0x0;const _0x4404d2=[],_0x132e4b=[];_0x63b9e2[_0xd808a0(0x450)](_0x166bac=>{const _0xfb8d43=_0xd808a0,_0x9557ae=_0x166bac[_0xfb8d43(0xbe)][_0x166bac[_0xfb8d43(0xbe)][_0xfb8d43(0x2c4)]-0x1],_0x3db374=_0x9557ae['answers'][_0xfb8d43(0x84c)](_0x2a6a61=>_0x2a6a61['originalQuestionText']===_0x2043a5);_0x4404d2[_0xfb8d43(0x1c9)]({'name':_0x166bac[_0xfb8d43(0x4a3)],'isCorrect':_0x3db374?_0x3db374[_0xfb8d43(0x677)]:![]}),_0x3db374&&_0x3db374[_0xfb8d43(0x677)]&&_0x1fa8b1++;}),_0x4edf52[_0xd808a0(0x450)](_0x3ff1fe=>{const _0x440a90=_0xd808a0,_0x2c086a=_0x3ff1fe[_0x440a90(0xbe)][_0x3ff1fe[_0x440a90(0xbe)][_0x440a90(0x2c4)]-0x1],_0x47fa4d=_0x2c086a[_0x440a90(0x15a)][_0x440a90(0x84c)](_0x274dee=>_0x274dee[_0x440a90(0x25e)]===_0x2043a5);_0x132e4b[_0x440a90(0x1c9)]({'name':_0x3ff1fe[_0x440a90(0x4a3)],'isCorrect':_0x47fa4d?_0x47fa4d[_0x440a90(0x677)]:![]}),_0x47fa4d&&_0x47fa4d[_0x440a90(0x677)]&&_0x2bf93a++;}),_0x3ab304['forEach'](_0x28f13d=>{const _0x2df29d=_0xd808a0,_0x72a633=_0x28f13d[_0x2df29d(0xbe)][_0x28f13d['attempts'][_0x2df29d(0x2c4)]-0x1],_0x30746b=_0x72a633[_0x2df29d(0x15a)][_0x2df29d(0x84c)](_0x5ebba8=>_0x5ebba8['originalQuestionText']===_0x2043a5);_0x30746b&&_0x30746b[_0x2df29d(0x677)]&&_0x2b0603++;});const _0x1681c6=_0x196efd>0x0?_0x2b0603/_0x196efd:0x0,_0x50afe5=_0x6ada2b>0x0?_0x1fa8b1/_0x6ada2b-_0x2bf93a/_0x6ada2b:0x0;_0x490885[_0x3068e9]={'p':_0x1681c6,'r':_0x50afe5,'upperGroupResponders':_0x4404d2,'lowerGroupResponders':_0x132e4b};}),{'perQuestionStats':_0x490885,'overallGroups':{'upperGroupNames':_0x43d927,'lowerGroupNames':_0x202138}};}function drag(_0x1d1cd0){const _0xd6ec04=_0x597754;if(draggedSvgElement){_0x1d1cd0[_0xd6ec04(0x24e)]();const _0x2bb23c=draggedSvgElement[_0xd6ec04(0x30b)],_0x8db567=getPointerPosition(_0x2bb23c,_0x1d1cd0),_0x22ec55=_0x2bb23c[_0xd6ec04(0x60b)][_0xd6ec04(0x24d)];let _0x27d7e5=_0x8db567['x']-svgOffset['x'],_0x21b108=_0x8db567['y']-svgOffset['y'];const _0x4c76fc=draggedSvgElement[_0xd6ec04(0x5ef)]();_0x27d7e5=Math[_0xd6ec04(0x665)](_0x22ec55['x'],Math[_0xd6ec04(0x307)](_0x27d7e5,_0x22ec55['x']+_0x22ec55[_0xd6ec04(0x672)]-_0x4c76fc[_0xd6ec04(0x672)])),_0x21b108=Math[_0xd6ec04(0x665)](_0x22ec55['y'],Math[_0xd6ec04(0x307)](_0x21b108,_0x22ec55['y']+_0x22ec55[_0xd6ec04(0x543)]-_0x4c76fc[_0xd6ec04(0x543)])),draggedSvgElement[_0xd6ec04(0x230)](null,'x',_0x27d7e5),draggedSvgElement['setAttributeNS'](null,'y',_0x21b108);}}function endDrag(_0x1be8db){draggedSvgElement=null;}function handleSvgEditClick(_0x16ad7f){const _0x4f1300=_0x597754;if(_0x16ad7f[_0x4f1300(0x5f0)][_0x4f1300(0x79b)][_0x4f1300(0x48c)](_0x4f1300(0x26d))){const _0x34a938=_0x16ad7f[_0x4f1300(0x5f0)][_0x4f1300(0x4af)][_0x4f1300(0x532)],_0x35fb3b=_0x16ad7f[_0x4f1300(0x8b0)],_0x146d9c=_0x35fb3b[_0x4f1300(0x82d)]('#'+_0x34a938);_0x146d9c&&_0x146d9c[_0x4f1300(0x76b)](),_0x16ad7f[_0x4f1300(0x5f0)][_0x4f1300(0x76b)]();}}function handleEditQuestion(_0xf18824){const _0x3b7454=_0x597754,_0x383376=_0xf18824['currentTarget'],_0x170a2c=_0x383376[_0x3b7454(0x4af)][_0x3b7454(0x6ec)],_0x5a64f6=currentQuizData['questions'][_0x170a2c],_0x142dc5=document[_0x3b7454(0x596)](_0x3b7454(0x3e0)+_0x170a2c),_0x31b38d=document[_0x3b7454(0x596)](_0x3b7454(0x30e)+_0x170a2c),_0x282ee0=document[_0x3b7454(0x596)]('q-image-container-'+_0x170a2c);if(_0x383376['innerHTML']['includes'](_0x3b7454(0x879))){_0x383376['innerHTML']=_0x3b7454(0x57e),_0x383376[_0x3b7454(0x150)]=_0x3b7454(0x64f);if(_0x142dc5)_0x142dc5['contentEditable']=!![];if(_0x31b38d)_0x31b38d[_0x3b7454(0xa2)]=!![];if(_0x282ee0){const _0x57eb19=_0x282ee0[_0x3b7454(0x82d)](_0x3b7454(0x5c8));if(_0x57eb19){const _0x56d030=_0x57eb19['querySelectorAll'](_0x3b7454(0xff));_0x56d030[_0x3b7454(0x450)]((_0x2e4d25,_0x474fba)=>{const _0x2c3010=_0x3b7454,_0x5e1543=_0x2c3010(0x25a)+_0x170a2c+'-'+_0x474fba;_0x2e4d25['id']=_0x5e1543,_0x2e4d25[_0x2c3010(0x79b)][_0x2c3010(0x635)](_0x2c3010(0x1f2)),_0x2e4d25['style'][_0x2c3010(0x685)]='move';const _0x32f51a=document[_0x2c3010(0x7e5)](_0x2c3010(0x454),'circle'),_0x2b3329=_0x2e4d25[_0x2c3010(0x5ef)]();_0x32f51a['setAttribute']('cx',String(_0x2b3329['x']+_0x2b3329[_0x2c3010(0x672)]+0x5)),_0x32f51a[_0x2c3010(0x773)]('cy',String(_0x2b3329['y']+_0x2b3329['height']/0x2-0x5)),_0x32f51a['setAttribute']('r','5'),_0x32f51a['setAttribute'](_0x2c3010(0x54c),_0x2c3010(0x7b6)),_0x32f51a[_0x2c3010(0x773)](_0x2c3010(0x32a),_0x2c3010(0x26d)),_0x32f51a[_0x2c3010(0x4af)][_0x2c3010(0x532)]=_0x5e1543,_0x2e4d25[_0x2c3010(0x9c)](_0x32f51a);}),_0x57eb19[_0x3b7454(0x893)](_0x3b7454(0x210),startDrag),_0x57eb19['addEventListener'](_0x3b7454(0x7c2),drag),_0x57eb19['addEventListener']('mouseup',endDrag),_0x57eb19[_0x3b7454(0x893)]('mouseleave',endDrag),_0x57eb19[_0x3b7454(0x893)]('touchstart',startDrag,{'passive':![]}),_0x57eb19['addEventListener'](_0x3b7454(0x5fd),drag,{'passive':![]}),_0x57eb19[_0x3b7454(0x893)]('touchend',endDrag),_0x57eb19[_0x3b7454(0x893)](_0x3b7454(0x832),endDrag),_0x57eb19[_0x3b7454(0x893)]('click',handleSvgEditClick);}}if(_0x142dc5)_0x142dc5[_0x3b7454(0x17d)]();}else{_0x383376[_0x3b7454(0x8a2)]=_0x3b7454(0x26a),_0x383376[_0x3b7454(0x150)]=_0x3b7454(0x7d2);if(_0x142dc5){_0x142dc5[_0x3b7454(0xa2)]=![];const _0x4ce300=_0x5a64f6[_0x3b7454(0x5cd)]||currentQuizData[_0x3b7454(0x5ca)];_0x4ce300===_0x3b7454(0x1f0)?_0x5a64f6[_0x3b7454(0x607)]=_0x142dc5['innerText'][_0x3b7454(0x3e7)](_0x142dc5[_0x3b7454(0x6a1)][_0x3b7454(0x5e6)]('.')+0x2)[_0x3b7454(0xb9)]():_0x5a64f6[_0x3b7454(0x465)]=_0x142dc5[_0x3b7454(0x6a1)]['substring'](_0x142dc5[_0x3b7454(0x6a1)][_0x3b7454(0x5e6)]('.')+0x2)[_0x3b7454(0xb9)]();}_0x31b38d&&(_0x31b38d['contentEditable']=![],_0x5a64f6[_0x3b7454(0x5f2)]=_0x31b38d[_0x3b7454(0x6a1)]);if(_0x282ee0){const _0x2fd6d6=_0x282ee0['querySelector']('svg');if(_0x2fd6d6){const _0x489347=_0x2fd6d6[_0x3b7454(0xf1)](!![]);_0x489347[_0x3b7454(0x5f5)](_0x3b7454(0xf0))[_0x3b7454(0x450)](_0x50516c=>_0x50516c[_0x3b7454(0x76b)]()),_0x489347['querySelectorAll'](_0x3b7454(0x347))[_0x3b7454(0x450)](_0x43fc9e=>{const _0x2ffa7d=_0x3b7454;_0x43fc9e[_0x2ffa7d(0x79b)][_0x2ffa7d(0x76b)](_0x2ffa7d(0x1f2)),_0x43fc9e['style'][_0x2ffa7d(0x685)]=_0x2ffa7d(0x674),_0x43fc9e[_0x2ffa7d(0x284)]('id');}),_0x5a64f6['imageCode']=_0x489347[_0x3b7454(0x61b)],_0x2fd6d6[_0x3b7454(0x470)](_0x3b7454(0x210),startDrag),_0x2fd6d6[_0x3b7454(0x470)](_0x3b7454(0x7c2),drag),_0x2fd6d6['removeEventListener'](_0x3b7454(0x8aa),endDrag),_0x2fd6d6[_0x3b7454(0x470)](_0x3b7454(0x162),endDrag),_0x2fd6d6['removeEventListener']('touchstart',startDrag),_0x2fd6d6[_0x3b7454(0x470)]('touchmove',drag),_0x2fd6d6['removeEventListener'](_0x3b7454(0x51c),endDrag),_0x2fd6d6['removeEventListener']('touchcancel',endDrag),_0x2fd6d6[_0x3b7454(0x470)](_0x3b7454(0x30c),handleSvgEditClick),_0x2fd6d6[_0x3b7454(0x5f5)](_0x3b7454(0xf0))[_0x3b7454(0x450)](_0x2dec72=>_0x2dec72['remove']()),_0x2fd6d6[_0x3b7454(0x5f5)](_0x3b7454(0x347))[_0x3b7454(0x450)](_0x3f510=>{const _0x16e682=_0x3b7454;_0x3f510['classList'][_0x16e682(0x76b)](_0x16e682(0x1f2)),_0x3f510['style']['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x169629){const _0x3996d6=_0x597754,_0x58233f=document[_0x3996d6(0x596)]('quiz-editor-modal'),_0x42134c=document[_0x3996d6(0x596)](_0x3996d6(0x6a3));_0x42134c['innerHTML']=_0x3996d6(0x145),_0x58233f[_0x3996d6(0x79b)][_0x3996d6(0x76b)]('hidden');try{const _0x30075c=doc(db,_0x3996d6(0x4cb)+appId+_0x3996d6(0x1be),_0x169629),_0x40937b=await getDoc(_0x30075c);if(!_0x40937b[_0x3996d6(0x484)]())throw new Error(_0x3996d6(0x1d5));currentEditingQuizData={'id':_0x169629,..._0x40937b[_0x3996d6(0x324)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xef7881){console[_0x3996d6(0x5dc)]('Error\x20opening\x20quiz\x20editor:',_0xef7881),showMessage(_0x3996d6(0x291)),_0x58233f[_0x3996d6(0x79b)][_0x3996d6(0x635)]('hidden');}}function renderQuizEditor(_0x30da6a){const _0x5a3363=_0x597754;document[_0x5a3363(0x596)](_0x5a3363(0x50a))[_0x5a3363(0x800)]=_0x30da6a[_0x5a3363(0x231)];const _0x594603=document['getElementById'](_0x5a3363(0x6a3));let _0x17c1db=_0x30da6a[_0x5a3363(0x2e8)][_0x5a3363(0x535)]((_0x115516,_0x33a934)=>{const _0x10255e=_0x5a3363;let _0x5ba300='';const _0xac417=_0x115516[_0x10255e(0x5cd)]||_0x30da6a['quizType'];switch(_0xac417){case _0x10255e(0x666):const _0x692d79=(_0x115516[_0x10255e(0x730)]||[])[_0x10255e(0x535)]((_0x38a8c2,_0xa1c498)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x33a934+'\x22\x20value=\x22'+_0xa1c498+'\x22\x20'+(_0xa1c498===_0x115516[_0x10255e(0x348)]?_0x10255e(0x7a4):'')+_0x10255e(0x105)+_0x38a8c2+_0x10255e(0x889))[_0x10255e(0x243)]('');_0x5ba300=_0x10255e(0x4cd)+_0x692d79+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x10255e(0x3df):_0x5ba300=_0x10255e(0x33d)+(_0x115516[_0x10255e(0x3d1)]||'')+_0x10255e(0x3b6);break;case _0x10255e(0x6ae):_0x5ba300=_0x10255e(0x797)+_0x33a934+_0x10255e(0x5f4)+(_0x115516[_0x10255e(0x5d9)]===!![]?_0x10255e(0x7a4):'')+_0x10255e(0x7fe)+_0x33a934+_0x10255e(0x2a1)+(_0x115516[_0x10255e(0x5d9)]===![]?'checked':'')+_0x10255e(0x6d2);break;case _0x10255e(0x1f0):_0x5ba300='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x115516[_0x10255e(0x81a)]||'')+_0x10255e(0x66f);break;}const _0x3deb6a=_0x115516[_0x10255e(0x465)]||_0x115516[_0x10255e(0x607)]||'';return _0x10255e(0x69b)+_0x33a934+'\x22\x20data-q-type=\x22'+_0xac417+_0x10255e(0x750)+(_0x33a934+0x1)+'\x20('+_0xac417+_0x10255e(0x7bb)+_0x3deb6a+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x5ba300+_0x10255e(0x789);})['join']('');_0x594603[_0x5a3363(0x8a2)]=_0x17c1db;}async function handleSaveChanges(){const _0x1352e9=_0x597754,_0xde57ef=document['getElementById'](_0x1352e9(0x461));_0xde57ef['disabled']=!![],_0xde57ef[_0x1352e9(0x8a2)]=_0x1352e9(0x647);try{const _0x517246=document[_0x1352e9(0x596)](_0x1352e9(0x50a))[_0x1352e9(0x800)],_0xe04e70=document[_0x1352e9(0x5f5)](_0x1352e9(0x2cf));let _0x1dbf0d=[];const _0x275fbc=Array['from'](_0xe04e70)[_0x1352e9(0x535)]((_0x40d22d,_0x3fa870)=>{const _0x2ebcc5=_0x1352e9,_0x5ebfec=_0x40d22d[_0x2ebcc5(0x4af)][_0x2ebcc5(0x52e)],_0x5e2303=_0x40d22d[_0x2ebcc5(0x82d)]('textarea')[_0x2ebcc5(0x800)];let _0x8a15c6={'questionType':_0x5ebfec};const _0x459694=currentEditingQuizData[_0x2ebcc5(0x2e8)][_0x3fa870];switch(_0x5ebfec){case _0x2ebcc5(0x666):_0x8a15c6[_0x2ebcc5(0x465)]=_0x5e2303;const _0x3aa093=_0x40d22d[_0x2ebcc5(0x5f5)](_0x2ebcc5(0x187));_0x8a15c6['options']=Array[_0x2ebcc5(0x483)](_0x3aa093)[_0x2ebcc5(0x535)](_0xc8810b=>_0xc8810b['value']);const _0x455fb8=_0x40d22d[_0x2ebcc5(0x82d)](_0x2ebcc5(0x374));_0x8a15c6[_0x2ebcc5(0x348)]=_0x455fb8?parseInt(_0x455fb8[_0x2ebcc5(0x800)]):0x0;break;case _0x2ebcc5(0x3df):_0x8a15c6[_0x2ebcc5(0x465)]=_0x5e2303,_0x8a15c6[_0x2ebcc5(0x3d1)]=_0x40d22d[_0x2ebcc5(0x82d)]('.ideal-answer-input')[_0x2ebcc5(0x800)];break;case _0x2ebcc5(0x6ae):_0x8a15c6['questionText']=_0x5e2303;const _0x1d420e=_0x40d22d[_0x2ebcc5(0x82d)](_0x2ebcc5(0x374));_0x8a15c6[_0x2ebcc5(0x5d9)]=_0x1d420e?_0x1d420e[_0x2ebcc5(0x800)]===_0x2ebcc5(0xb5):!![];break;case _0x2ebcc5(0x1f0):_0x8a15c6[_0x2ebcc5(0x607)]=_0x5e2303;const _0x400db4=_0x40d22d[_0x2ebcc5(0x82d)](_0x2ebcc5(0x410));_0x8a15c6[_0x2ebcc5(0x81a)]=_0x400db4?_0x400db4[_0x2ebcc5(0x800)]:'',_0x1dbf0d['push'](_0x8a15c6[_0x2ebcc5(0x81a)]);break;default:_0x8a15c6[_0x2ebcc5(0x465)]=_0x5e2303;break;}return{..._0x459694,..._0x8a15c6};});_0x1dbf0d['length']>0x0&&_0x275fbc[_0x1352e9(0x450)](_0x27a71e=>{const _0x324467=_0x1352e9;_0x27a71e[_0x324467(0x5cd)]===_0x324467(0x1f0)&&(_0x27a71e[_0x324467(0x2ea)]=_0x1dbf0d);});const _0x33b678=currentEditingQuizData['id'],_0x1fe3ee=doc(db,'artifacts/'+appId+_0x1352e9(0x1be),_0x33b678);await updateDoc(_0x1fe3ee,{'topic':_0x517246,'questions':_0x275fbc}),document[_0x1352e9(0x596)]('quiz-editor-modal')['classList'][_0x1352e9(0x635)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x33b678));}catch(_0xdff67f){console[_0x1352e9(0x5dc)](_0x1352e9(0x7cc),_0xdff67f),showMessage(_0x1352e9(0x1a0));}finally{_0xde57ef[_0x1352e9(0x64a)]=![],_0xde57ef['innerHTML']=_0x1352e9(0x741);}}async function initiateReGradeProcess(_0xc67c12){const _0x150a42=_0x597754;showMessage(_0x150a42(0x59a));try{const _0x5d2283=doc(db,_0x150a42(0x4cb)+appId+_0x150a42(0x1be),_0xc67c12),_0xc1e963=await getDoc(_0x5d2283);if(!_0xc1e963['exists']())throw new Error(_0x150a42(0x53c));const _0x20609a={'id':_0xc67c12,..._0xc1e963[_0x150a42(0x324)]()},_0x10f89c=collection(db,_0x150a42(0x4cb)+appId+'/public/data/quizzes',_0xc67c12,_0x150a42(0x7d1)),_0x46d252=await getDocs(_0x10f89c);if(_0x46d252['empty']){showMessage(_0x150a42(0x473));return;}const _0x40bc49=_0x46d252[_0x150a42(0x521)][_0x150a42(0x535)](_0x354646=>reGradeSingleSubmission(_0x354646,_0x20609a));await Promise[_0x150a42(0x7af)](_0x40bc49);if(_0x20609a[_0x150a42(0x7f2)]){const _0x2e4cbe=doc(db,'artifacts/'+appId+'/public/data/projects',_0x20609a['projectId']),_0x37f383=await getDoc(_0x2e4cbe);if(_0x37f383[_0x150a42(0x484)]()&&_0x37f383[_0x150a42(0x324)]()[_0x150a42(0x3ae)]){const _0x2835c6=_0x37f383[_0x150a42(0x324)]()[_0x150a42(0x3ae)][_0x150a42(0x535)](_0x2985fe=>updateStudentProfile(_0x20609a[_0x150a42(0x7f2)],_0x2985fe));await Promise[_0x150a42(0x7af)](_0x2835c6);}}showMessage(_0x150a42(0x650)+_0x46d252[_0x150a42(0x197)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x796990){console[_0x150a42(0x5dc)]('Re-grade\x20process\x20failed:',_0x796990),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x796990[_0x150a42(0x6b9)]);}}async function reGradeSingleSubmission(_0x1ae209,_0x24b161){const _0x173942=_0x597754,_0x2dcf88=_0x1ae209[_0x173942(0x324)](),_0x3a3700=_0x2dcf88[_0x173942(0x4a3)],_0x400a3e=_0x2dcf88[_0x173942(0xbe)]||[],_0x15dbe4=[];for(const _0x29e614 of _0x400a3e){let _0x136be9=0x0,_0x39b39b=[],_0x402495=0x0;const _0x2454b8=[];for(const _0x2f3747 of _0x29e614[_0x173942(0x15a)]){let _0x1f20df;_0x2f3747[_0x173942(0x2ec)]&&(_0x1f20df=_0x24b161[_0x173942(0x2e8)][_0x173942(0x84c)](_0x4e59d6=>_0x4e59d6['id']===_0x2f3747[_0x173942(0x2ec)]));!_0x1f20df&&_0x2f3747[_0x173942(0x25e)]&&(_0x1f20df=_0x24b161[_0x173942(0x2e8)][_0x173942(0x84c)](_0x276687=>(_0x276687[_0x173942(0x607)]||_0x276687[_0x173942(0x465)])===_0x2f3747[_0x173942(0x25e)]));let _0x432344=![];if(_0x1f20df){const _0x54f06b=_0x1f20df[_0x173942(0x5cd)]||_0x24b161[_0x173942(0x5ca)];switch(_0x54f06b){case'multiple_choice':if(_0x1f20df[_0x173942(0x730)]&&_0x1f20df['correctAnswerIndex']<_0x1f20df['options'][_0x173942(0x2c4)]){const _0x19699c=_0x1f20df['options'][_0x1f20df['correctAnswerIndex']];_0x432344=_0x2f3747['answerText']===_0x19699c;}break;case _0x173942(0x6ae):const _0x5b4137=_0x2f3747[_0x173942(0x1f1)]===!![]||_0x2f3747[_0x173942(0x1f1)]===_0x173942(0xb5);_0x432344=_0x5b4137===_0x1f20df['correctAnswer'];break;case _0x173942(0x1f0):_0x432344=_0x2f3747[_0x173942(0x1f1)]===_0x1f20df['correctResponse'];break;case'short_answer':_0x432344=await gradeShortAnswer(_0x2f3747['answer'],_0x1f20df);break;default:_0x432344=_0x2f3747[_0x173942(0x677)];break;}}if(_0x432344){_0x136be9++,_0x402495++;if(_0x402495===0x3)_0x39b39b[_0x173942(0x1c9)](BADGES[_0x173942(0x196)]['id']);}else _0x402495=0x0;_0x2454b8['push']({..._0x2f3747,'isCorrect':_0x432344});}let _0x1cbf69=_0x136be9*0xa;_0x136be9===_0x24b161[_0x173942(0x2e8)]['length']&&(_0x1cbf69+=0x32,_0x39b39b[_0x173942(0x1c9)](BADGES[_0x173942(0x133)]['id'])),_0x15dbe4[_0x173942(0x1c9)]({..._0x29e614,'score':_0x136be9,'points':_0x1cbf69,'badges':Array['from'](new Set(_0x39b39b)),'answers':_0x2454b8});}const _0x4d4efd=_0x15dbe4['length']>0x0?_0x15dbe4[0x0][_0x173942(0x869)]:0x0,_0x5d5d86=Math[_0x173942(0x665)](..._0x15dbe4['map'](_0x6aa58e=>_0x6aa58e['score'])),_0x5288d5=_0x15dbe4[_0x173942(0x2c4)]>0x0?_0x15dbe4[_0x15dbe4[_0x173942(0x2c4)]-0x1][_0x173942(0x869)]:0x0,_0x1ee4f3=_0x15dbe4['length']>0x0?_0x15dbe4[_0x15dbe4[_0x173942(0x2c4)]-0x1][_0x173942(0x9d)]:0x0,_0x3d8abd=doc(db,_0x173942(0x4cb)+appId+_0x173942(0x33f)+_0x24b161['id']+_0x173942(0x2a8),_0x3a3700);await updateDoc(_0x3d8abd,{'attempts':_0x15dbe4,'firstScore':_0x4d4efd,'bestScore':_0x5d5d86,'latestScore':_0x5288d5,'points':_0x1ee4f3});}function cleanupQuizOptions(_0x4bd1c7){const _0x1f995c=_0x597754,_0x4608b9=(_0xa25ed1,_0x1b4b28)=>_0x1b4b28===0x0?_0xa25ed1:_0x4608b9(_0x1b4b28,_0xa25ed1%_0x1b4b28),_0x11fec9=_0x293209=>{const _0x52b6ac=_0x512c;if(typeof _0x293209!=='string')return null;_0x293209=_0x293209[_0x52b6ac(0xb9)]();const _0x323888=_0x293209[_0x52b6ac(0x645)](/[ /]/)['filter'](_0x21eb97=>_0x21eb97!=='');if(_0x323888[_0x52b6ac(0x2c4)]===0x3)return parseInt(_0x323888[0x0])+parseInt(_0x323888[0x1])/parseInt(_0x323888[0x2]);else{if(_0x323888[_0x52b6ac(0x2c4)]===0x2)return parseInt(_0x323888[0x0])/parseInt(_0x323888[0x1]);else{if(_0x323888[_0x52b6ac(0x2c4)]===0x1&&!isNaN(_0x323888[0x0]))return parseFloat(_0x323888[0x0]);}}return null;},_0x29f10c=_0x425e14=>{const _0x19fe7c=_0x512c;if(typeof _0x425e14!=='string')return _0x425e14;const _0x7de0ad=_0x425e14[_0x19fe7c(0x5fb)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x7de0ad){const _0x37c478=parseInt(_0x7de0ad[0x1]);let _0x31226b=parseInt(_0x7de0ad[0x2]),_0x33c0dc=parseInt(_0x7de0ad[0x3]);const _0x2a816d=_0x4608b9(_0x31226b,_0x33c0dc);_0x31226b/=_0x2a816d,_0x33c0dc/=_0x2a816d;if(_0x33c0dc===0x1)return(_0x37c478+_0x31226b)['toString']();return _0x37c478+'\x20'+_0x31226b+'/'+_0x33c0dc;}return _0x425e14;};return _0x4bd1c7&&_0x4bd1c7[_0x1f995c(0x2e8)]&&_0x4bd1c7[_0x1f995c(0x2e8)][_0x1f995c(0x450)](_0x259650=>{const _0x1ee5a3=_0x1f995c;if(_0x259650[_0x1ee5a3(0x5cd)]===_0x1ee5a3(0x666)&&_0x259650[_0x1ee5a3(0x730)]){const _0x26de16=new Map(),_0x58cc29=_0x259650[_0x1ee5a3(0x730)][_0x259650[_0x1ee5a3(0x348)]];_0x259650[_0x1ee5a3(0x730)][_0x1ee5a3(0x450)](_0x49f1bc=>{const _0x3567da=_0x1ee5a3,_0x511b7=_0x29f10c(_0x49f1bc),_0x35ff93=_0x11fec9(_0x511b7);_0x35ff93!==null&&!_0x26de16[_0x3567da(0x3c4)](_0x35ff93)&&_0x26de16[_0x3567da(0x4ef)](_0x35ff93,_0x511b7);}),_0x259650['options']=Array[_0x1ee5a3(0x483)](_0x26de16[_0x1ee5a3(0x3b1)]());const _0x4977c7=_0x259650[_0x1ee5a3(0x730)][_0x1ee5a3(0x77f)](_0x47fd6a=>_0x47fd6a===_0x29f10c(_0x58cc29));_0x259650[_0x1ee5a3(0x348)]=_0x4977c7!==-0x1?_0x4977c7:0x0;}}),_0x4bd1c7;}async function saveQuiz(){const _0x310224=_0x597754;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x310224(0x426));return;}const _0x1b3a6b=document[_0x310224(0x596)]('save-quiz-btn');_0x1b3a6b[_0x310224(0x64a)]=!![],_0x1b3a6b[_0x310224(0x8a2)]=_0x310224(0x647);const _0x1b145e=document[_0x310224(0x596)](_0x310224(0x126))['checked'];let _0x19fd11=document[_0x310224(0x596)](_0x310224(0x748))[_0x310224(0x6a1)]['trim']();_0x1b145e&&!_0x19fd11[_0x310224(0x643)](_0x310224(0x8a6))&&(_0x19fd11=_0x310224(0x53e)+_0x19fd11);try{const _0x500d07={'resultsDisplay':document[_0x310224(0x596)](_0x310224(0x890))[_0x310224(0x800)],'shuffle':document['getElementById'](_0x310224(0xba))['value'],'timerMode':document[_0x310224(0x596)](_0x310224(0x2f4))[_0x310224(0x800)],'timerDuration':parseInt(document[_0x310224(0x596)](_0x310224(0x7a6))[_0x310224(0x800)])||0xa,'passingScore':parseInt(document[_0x310224(0x596)](_0x310224(0x424))[_0x310224(0x800)])||0x0,'isAdaptive':document['getElementById'](_0x310224(0x73a))['checked'],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')[_0x310224(0x7a4)]},_0x48b489=(currentQuizData[_0x310224(0x2e8)]||[])[_0x310224(0x535)]((_0x422b15,_0x56a2e5)=>{const _0x3fb75a=_0x310224,_0x3dbc11=document[_0x3fb75a(0x596)](_0x3fb75a(0x588))[_0x3fb75a(0x800)],_0x50904a={'id':'q_'+Date['now']()+'_'+_0x56a2e5,'questionText':_0x422b15[_0x3fb75a(0x465)]||'','explanation':_0x422b15[_0x3fb75a(0x5f2)]||_0x3fb75a(0x72d),'questionType':_0x422b15[_0x3fb75a(0x5cd)]||_0x3dbc11,'imageCode':_0x422b15['imageCode']||null};return(_0x50904a[_0x3fb75a(0x5cd)]===_0x3fb75a(0x666)||_0x50904a['questionType']===_0x3fb75a(0x2e2)||_0x50904a[_0x3fb75a(0x5cd)]===_0x3fb75a(0x597)&&_0x422b15[_0x3fb75a(0x730)])&&(_0x50904a[_0x3fb75a(0x730)]=_0x422b15[_0x3fb75a(0x730)]||[],_0x50904a['correctAnswerIndex']=_0x422b15[_0x3fb75a(0x348)]!==undefined?_0x422b15[_0x3fb75a(0x348)]:0x0),(_0x50904a[_0x3fb75a(0x5cd)]===_0x3fb75a(0x3df)||_0x50904a[_0x3fb75a(0x5cd)]===_0x3fb75a(0x859)||_0x50904a['questionType']==='mixed'&&_0x422b15[_0x3fb75a(0x3d1)])&&(_0x50904a[_0x3fb75a(0x3d1)]=_0x422b15[_0x3fb75a(0x3d1)]||''),_0x50904a[_0x3fb75a(0x5cd)]===_0x3fb75a(0x6ae)&&(_0x50904a['correctAnswer']=_0x422b15[_0x3fb75a(0x5d9)]===!![]),_0x50904a[_0x3fb75a(0x5cd)]==='matching_item'&&(_0x50904a[_0x3fb75a(0x607)]=_0x422b15['stem']||'',_0x50904a[_0x3fb75a(0x81a)]=_0x422b15[_0x3fb75a(0x81a)]||'',_0x50904a[_0x3fb75a(0x2ea)]=_0x422b15[_0x3fb75a(0x2ea)]||[]),_0x50904a;}),_0x1dcbb2={'topic':_0x19fd11,'quizType':currentQuizData[_0x310224(0x5ca)]||_0x310224(0x666),'questions':_0x48b489,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x310224(0x164),'settings':_0x500d07,'quizMode':_0x1b145e?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x54989b;while(!![]){_0x54989b=Math[_0x310224(0x718)](0x3e8+Math[_0x310224(0x38d)]()*0x2328)['toString']();const _0x4ee1d9=await getDoc(doc(db,_0x310224(0x4cb)+appId+_0x310224(0x1be),_0x54989b));if(!_0x4ee1d9[_0x310224(0x484)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x310224(0x1be),_0x54989b),_0x1dcbb2),currentQuizData[_0x310224(0x417)]=_0x500d07,currentQuizData['id']=_0x54989b;const _0x4d82ca=document[_0x310224(0x596)](_0x310224(0x40d));_0x4d82ca['innerHTML']=_0x310224(0x4fb)+_0x54989b+_0x310224(0x5fc),document[_0x310224(0x596)](_0x310224(0x38a))[_0x310224(0x893)](_0x310224(0x30c),()=>copyTextToClipboard(_0x54989b,'คัดลอกรหัสแล้ว!')),document['getElementById'](_0x310224(0x1db))['addEventListener'](_0x310224(0x30c),()=>handleStartLiveRace(_0x54989b)),document['getElementById']('start-presentation-btn')[_0x310224(0x893)](_0x310224(0x30c),()=>startPresentation(currentQuizData)),document[_0x310224(0x596)](_0x310224(0x100))[_0x310224(0x893)](_0x310224(0x30c),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x46f3d1){console[_0x310224(0x5dc)](_0x310224(0x65f),_0x46f3d1),showMessage(_0x310224(0x266)),_0x1b3a6b[_0x310224(0x64a)]=![],_0x1b3a6b[_0x310224(0x8a2)]=_0x310224(0x76e);}}function promptForProjectAndSave(){const _0x52c253=_0x597754,_0x37c344=document[_0x52c253(0x596)](_0x52c253(0x7e7)),_0x21e015=document['getElementById'](_0x52c253(0x4f2)),_0x56a07c=_0x37c344[_0x52c253(0x82d)]('h3'),_0x2e7fa5=document[_0x52c253(0x596)](_0x52c253(0x167));_0x56a07c[_0x52c253(0x195)]=_0x52c253(0x56b),_0x2e7fa5[_0x52c253(0x195)]=_0x52c253(0x42b);allProjects[_0x52c253(0x2c4)]===0x0?(_0x21e015[_0x52c253(0x8a2)]=_0x52c253(0x542),_0x2e7fa5[_0x52c253(0x64a)]=!![]):(_0x21e015[_0x52c253(0x8a2)]=allProjects[_0x52c253(0x535)](_0x4e1c1a=>_0x52c253(0x238)+_0x4e1c1a['id']+'\x22>'+_0x4e1c1a['projectName']+'</option>')[_0x52c253(0x243)](''),_0x2e7fa5['disabled']=![]);_0x37c344[_0x52c253(0x79b)][_0x52c253(0x76b)]('hidden');const _0x530c03=()=>{const _0x5dbbd7=_0x52c253,_0x5749ec=_0x21e015[_0x5dbbd7(0x800)];_0x5749ec?(currentProjectId=_0x5749ec,_0x37c344[_0x5dbbd7(0x79b)][_0x5dbbd7(0x635)](_0x5dbbd7(0x702)),saveQuiz(),_0x56a07c['textContent']=_0x5dbbd7(0x7c8),_0x2e7fa5['textContent']='ย้าย',_0x2e7fa5[_0x5dbbd7(0x470)](_0x5dbbd7(0x30c),_0x530c03),_0x2e7fa5[_0x5dbbd7(0x893)](_0x5dbbd7(0x30c),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x2e7fa5[_0x52c253(0x470)](_0x52c253(0x30c),confirmMoveQuiz),_0x2e7fa5[_0x52c253(0x893)](_0x52c253(0x30c),_0x530c03);}function copyTextToClipboard(_0x5f49fc,_0x52daa6){const _0xb12ca6=_0x597754,_0x4592c6=document[_0xb12ca6(0x429)](_0xb12ca6(0x64c));_0x4592c6['value']=_0x5f49fc,_0x4592c6[_0xb12ca6(0xae)][_0xb12ca6(0x60c)]=_0xb12ca6(0x63d),_0x4592c6[_0xb12ca6(0xae)]['opacity']='0',document[_0xb12ca6(0x170)][_0xb12ca6(0x229)](_0x4592c6),_0x4592c6[_0xb12ca6(0x17d)](),_0x4592c6[_0xb12ca6(0x3d5)]();try{const _0x482e7e=document[_0xb12ca6(0x17b)](_0xb12ca6(0x10d));showMessage(_0x482e7e?_0x52daa6:_0xb12ca6(0x12f));}catch(_0x2c18a2){showMessage(_0xb12ca6(0x12f)),console[_0xb12ca6(0x5dc)](_0xb12ca6(0x3c7),_0x2c18a2);}document[_0xb12ca6(0x170)][_0xb12ca6(0x351)](_0x4592c6);}function listenForProjectQuizzes(_0x2402c8){const _0x20317a=_0x597754,_0xd87d6f=collection(db,_0x20317a(0x4cb)+appId+_0x20317a(0x1be)),_0x5cce4d=query(_0xd87d6f,where('projectId','==',_0x2402c8));unsubscribeQuizzesListener=onSnapshot(_0x5cce4d,async _0x293da9=>{const _0x26ae5c=_0x20317a;allQuizzes=_0x293da9[_0x26ae5c(0x521)][_0x26ae5c(0x535)](_0x33a16d=>({'id':_0x33a16d['id'],..._0x33a16d[_0x26ae5c(0x324)]()})),renderQuizzes();},_0xf824ca=>{const _0x26a3c1=_0x20317a;console[_0x26a3c1(0x5dc)](_0x26a3c1(0x6ee),_0xf824ca),document[_0x26a3c1(0x596)](_0x26a3c1(0xea))[_0x26a3c1(0x8a2)]=_0x26a3c1(0x146);});}async function renderQuizzes(){const _0x592c06=_0x597754,_0x518b52=document[_0x592c06(0x596)](_0x592c06(0xea)),_0x49a596=document[_0x592c06(0x596)](_0x592c06(0x836))[_0x592c06(0x800)]['toLowerCase']();let _0x4ebdcd;currentProjectId===_0x592c06(0x3a3)?_0x4ebdcd=starredQuizzes:_0x4ebdcd=allQuizzes;let _0x257ebb=_0x4ebdcd['filter'](_0x4da44d=>_0x4da44d['topic'][_0x592c06(0x7e1)]()[_0x592c06(0x7ec)](_0x49a596));_0x257ebb[_0x592c06(0x60d)]((_0x2ba2b5,_0x488685)=>new Date(_0x488685[_0x592c06(0x49c)])-new Date(_0x2ba2b5[_0x592c06(0x49c)]));if(_0x257ebb[_0x592c06(0x2c4)]===0x0){_0x518b52['innerHTML']='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x1774eb={},_0x35d9d6=_0x257ebb[_0x592c06(0x535)](async _0x3d7a71=>{const _0x35c914=_0x592c06,_0x4591b0=collection(db,_0x35c914(0x4cb)+appId+_0x35c914(0x33f)+_0x3d7a71['id']+_0x35c914(0x2a8)),_0x201b95=await getDocs(_0x4591b0);_0x1774eb[_0x3d7a71['id']]=_0x201b95[_0x35c914(0x197)];});await Promise[_0x592c06(0x7af)](_0x35d9d6);let _0x40f621='';_0x257ebb[_0x592c06(0x450)](_0x16811c=>{const _0x5450fe=_0x592c06,_0x5f321e=_0x1774eb[_0x16811c['id']]||0x0,_0x189314=_0x16811c[_0x5450fe(0x5f6)]||_0x5450fe(0x164),_0x51434a=_0x16811c['settings']?.[_0x5450fe(0x644)]||_0x5450fe(0x73d);let _0xaf33c4='',_0x3c7198='';const _0x515342=new Date();let _0x168e68=_0x189314;if(_0x189314===_0x5450fe(0x474)){const _0x309c82=_0x16811c[_0x5450fe(0x233)]?new Date(_0x16811c[_0x5450fe(0x233)]):null,_0x428eec=_0x16811c['endTime']?new Date(_0x16811c['endTime']):null;if(_0x428eec&&_0x515342>_0x428eec)_0x168e68='inactive';else _0x309c82&&_0x515342<_0x309c82?_0x168e68=_0x5450fe(0x36b):_0x168e68=_0x5450fe(0x164);}switch(_0x168e68){case'inactive':_0xaf33c4=_0x5450fe(0x152),_0x3c7198=_0x5450fe(0x67f);break;case _0x5450fe(0x36b):_0xaf33c4=_0x5450fe(0x705),_0x3c7198=_0x5450fe(0x384);break;case _0x5450fe(0x164):_0xaf33c4=_0x51434a!==_0x5450fe(0x73d)?_0x5450fe(0x79c):_0x5450fe(0x818),_0x3c7198=_0x5450fe(0x1bd);break;default:_0xaf33c4='ตั้งเวลา\x20(เปิด)',_0x3c7198=_0x5450fe(0x1bd);break;}let _0x235d5f='';const _0xb13cee={'day':_0x5450fe(0x1c8),'month':_0x5450fe(0x1c8),'year':_0x5450fe(0x63c),'hour':'2-digit','minute':_0x5450fe(0x1c8),'hour12':![]};if(_0x189314===_0x5450fe(0x474)){if(_0x16811c[_0x5450fe(0x233)])_0x235d5f+=_0x5450fe(0x37c)+new Date(_0x16811c[_0x5450fe(0x233)])[_0x5450fe(0x3c9)]('th-TH',_0xb13cee)+_0x5450fe(0x3f8);if(_0x16811c[_0x5450fe(0x4b3)])_0x235d5f+=_0x5450fe(0x61e)+new Date(_0x16811c['endTime'])['toLocaleString'](_0x5450fe(0x738),_0xb13cee)+_0x5450fe(0x3f8);}let _0x39af31='';if(_0x16811c[_0x5450fe(0x3f3)]){const _0x18409d=allQuizzes[_0x5450fe(0x84c)](_0x118b36=>_0x118b36['id']===_0x16811c[_0x5450fe(0x3f3)]);if(_0x18409d){let _0x42244a,_0x1637dd;new Date(_0x16811c[_0x5450fe(0x49c)])<new Date(_0x18409d['createdAt'])?(_0x42244a=_0x16811c['id'],_0x1637dd=_0x18409d['id']):(_0x42244a=_0x18409d['id'],_0x1637dd=_0x16811c['id']),_0x39af31+=_0x5450fe(0x611)+_0x1637dd+_0x5450fe(0x783)+_0x42244a+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x16811c[_0x5450fe(0x3e5)]===_0x5450fe(0x686)&&(_0x39af31+=_0x5450fe(0x4aa)+_0x16811c['id']+_0x5450fe(0x156));if(_0x16811c[_0x5450fe(0x3e5)]===_0x5450fe(0x686)&&_0x5f321e>0x0)_0x39af31+=_0x5450fe(0x4aa)+_0x16811c['id']+_0x5450fe(0x13c);else!_0x16811c[_0x5450fe(0x3f3)]&&_0x16811c[_0x5450fe(0x3e5)]!==_0x5450fe(0x686)&&_0x5f321e>0x0&&(_0x39af31+=_0x5450fe(0x4aa)+_0x16811c['id']+_0x5450fe(0x667));let _0x2795af='';_0x16811c['pairedQuizId']?_0x2795af=_0x5450fe(0xab)+_0x16811c['id']+_0x5450fe(0x282):_0x2795af=_0x5450fe(0xab)+_0x16811c['id']+_0x5450fe(0x155),_0x40f621+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x16811c['id']+_0x5450fe(0x1e7)+_0x16811c[_0x5450fe(0x231)]+_0x5450fe(0xe0)+_0x16811c['questions'][_0x5450fe(0x2c4)]+_0x5450fe(0x63e)+new Date(_0x16811c[_0x5450fe(0x49c)])[_0x5450fe(0x3c9)](_0x5450fe(0x738))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x5f321e+_0x5450fe(0x137)+_0x235d5f+_0x5450fe(0x265)+_0x3c7198+'\x22>'+_0xaf33c4+_0x5450fe(0x1ff)+_0x16811c['id']+_0x5450fe(0x298)+_0x16811c['id']+_0x5450fe(0x3b3)+(_0x16811c[_0x5450fe(0x64b)]?_0x5450fe(0x6ac):'far\x20fa-star')+_0x5450fe(0x421)+_0x39af31+_0x5450fe(0x582)+_0x16811c['id']+_0x5450fe(0x12d)+_0x16811c['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16811c['id']+_0x5450fe(0x4ca)+_0x16811c['id']+_0x5450fe(0x237)+_0x16811c['id']+_0x5450fe(0x47b)+_0x16811c['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16811c['id']+'\x22\x20data-topic=\x22'+_0x16811c[_0x5450fe(0x231)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16811c['id']+_0x5450fe(0x14f)+_0x16811c['id']+_0x5450fe(0xdd)+_0x2795af+_0x5450fe(0x669)+_0x16811c['id']+_0x5450fe(0x1b5)+_0x16811c['id']+_0x5450fe(0x3fe)+_0x16811c['id']+_0x5450fe(0x1e0)+_0x16811c['id']+_0x5450fe(0x710)+_0x16811c['id']+'\x22\x20data-topic=\x22'+_0x16811c['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x16811c['id']+_0x5450fe(0x492);}),_0x518b52[_0x592c06(0x8a2)]=_0x40f621,document[_0x592c06(0x5f5)](_0x592c06(0x8b2))[_0x592c06(0x450)](_0x296d15=>{const _0x2662aa=_0x592c06;_0x296d15[_0x2662aa(0x893)](_0x2662aa(0x30c),()=>{const _0x4a349b=_0x2662aa,_0x16ac06=_0x296d15[_0x4a349b(0x4af)][_0x4a349b(0x7f7)];showQuizDetailView(_0x16ac06);});});}async function handleUnpairQuiz(_0x5dceec){const _0x8a7bf4=_0x597754,_0x3d5c2d=allQuizzes[_0x8a7bf4(0x84c)](_0x481756=>_0x481756['id']===_0x5dceec);if(!_0x3d5c2d||!_0x3d5c2d[_0x8a7bf4(0x3f3)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x8a7bf4(0x104),async()=>{const _0x5ba8aa=_0x8a7bf4;try{const _0x5e4e4d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5dceec),_0xed6583=doc(db,'artifacts/'+appId+_0x5ba8aa(0x1be),_0x3d5c2d[_0x5ba8aa(0x3f3)]),_0x3b203a=writeBatch(db);_0x3b203a['update'](_0x5e4e4d,{'pairedQuizId':null}),_0x3b203a[_0x5ba8aa(0xef)](_0xed6583,{'pairedQuizId':null}),await _0x3b203a[_0x5ba8aa(0xca)](),showMessage(_0x5ba8aa(0x8ba));}catch(_0x9b2308){console[_0x5ba8aa(0x5dc)](_0x5ba8aa(0x7b5),_0x9b2308),showMessage(_0x5ba8aa(0x3a6));}});}function formatAndPrintLessonPlan(_0x25547f,_0x181d87){const _0x5e87f4=_0x597754,_0x4e26d6=window[_0x5e87f4(0x5e8)]('',_0x5e87f4(0x5cb)),_0x13944a=_0x5e87f4(0x9f)+_0x181d87[_0x5e87f4(0x231)]+_0x5e87f4(0x16a)+_0x181d87[_0x5e87f4(0x231)]+_0x5e87f4(0x3e4)+_0x25547f[_0x5e87f4(0x4a4)][_0x5e87f4(0x535)](_0x3be7e3=>_0x5e87f4(0x856)+_0x3be7e3+_0x5e87f4(0x2c5))[_0x5e87f4(0x243)]('')+_0x5e87f4(0x638)+_0x25547f[_0x5e87f4(0x58f)]+_0x5e87f4(0xb0)+_0x25547f[_0x5e87f4(0x350)]['map'](_0x202079=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x202079[_0x5e87f4(0x725)]+_0x5e87f4(0x4c9)+_0x202079[_0x5e87f4(0x5ab)]+_0x5e87f4(0x3a8))[_0x5e87f4(0x243)]('')+_0x5e87f4(0x45a);_0x4e26d6[_0x5e87f4(0x19c)][_0x5e87f4(0x443)](_0x13944a),_0x4e26d6[_0x5e87f4(0x19c)]['close'](),_0x4e26d6[_0x5e87f4(0x489)]=function(){setTimeout(()=>{_0x4e26d6['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x396823){const _0x58c8f8=_0x597754;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x56103d=doc(db,'artifacts/'+appId+_0x58c8f8(0x1be),_0x396823),_0x352afd=await getDoc(_0x56103d);if(!_0x352afd[_0x58c8f8(0x484)]())throw new Error(_0x58c8f8(0x53c));const _0x3edaba={'id':_0x396823,..._0x352afd[_0x58c8f8(0x324)]()},_0x41db46=collection(db,'artifacts/'+appId+_0x58c8f8(0x1be),_0x396823,_0x58c8f8(0x7d1)),_0x3f109=await getDocs(_0x41db46),_0x38267a=_0x3f109[_0x58c8f8(0x521)][_0x58c8f8(0x535)](_0xeee56b=>_0xeee56b['data']());if(_0x38267a[_0x58c8f8(0x2c4)]===0x0)throw new Error(_0x58c8f8(0x35b));const _0x2bfea2=calculateItemAnalysis(_0x3edaba,_0x38267a)[_0x58c8f8(0x80a)],_0x5bee6a=calculateDistractorAnalysis(_0x3edaba,_0x38267a),_0x2117ae=_0x17046b=>{const _0x3f4a1b=_0x58c8f8;if(!_0x17046b)return'';return _0x17046b[_0x3f4a1b(0x16e)](/\\/g,'\x5c\x5c')[_0x3f4a1b(0x16e)](/"/g,'\x5c\x22')[_0x3f4a1b(0x16e)](/\n/g,'\x5cn');};let _0x2a846d=_0x58c8f8(0x217);_0x3edaba[_0x58c8f8(0x2e8)][_0x58c8f8(0x450)]((_0x134819,_0x5b1130)=>{const _0x3fdf69=_0x58c8f8,_0x5c790e=_0x2bfea2[_0x5b1130]?.['p'][_0x3fdf69(0x37f)](0x2)||_0x3fdf69(0x6d6),_0x30cda6=_0x2bfea2[_0x5b1130]?.['r'][_0x3fdf69(0x37f)](0x2)||_0x3fdf69(0x6d6),_0x4ac2d9=_0x2117ae(_0x134819[_0x3fdf69(0x465)]||_0x134819[_0x3fdf69(0x607)]);_0x2a846d+='-\x20ข้อ\x20'+(_0x5b1130+0x1)+_0x3fdf69(0x571)+_0x5c790e+_0x3fdf69(0x6b6)+_0x30cda6+_0x3fdf69(0x716)+_0x4ac2d9+'\x5cn';if(_0x134819['questionType']===_0x3fdf69(0x666)&&_0x5bee6a[_0x5b1130]){const _0x1e2543=_0x5bee6a[_0x5b1130],_0x1ffae3=Object[_0x3fdf69(0x55b)](_0x1e2543)['filter'](_0x9fa4b3=>parseInt(_0x9fa4b3)!==_0x134819[_0x3fdf69(0x348)])[_0x3fdf69(0x60d)]((_0x76524a,_0x1cee91)=>_0x1e2543[_0x1cee91]['total']-_0x1e2543[_0x76524a]['total'])[0x0];if(_0x1ffae3&&_0x1e2543[_0x1ffae3][_0x3fdf69(0x7ca)]>0x0){const _0x301aa7=_0x2117ae(_0x1e2543[_0x1ffae3][_0x3fdf69(0xff)]);_0x2a846d+=_0x3fdf69(0x888)+_0x301aa7+_0x3fdf69(0x5c6);}}});const _0x10dc9f=_0x58c8f8(0x3dc)+_0x3edaba[_0x58c8f8(0x231)]+_0x58c8f8(0x4ab)+_0x2a846d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3ec3b0={'type':'OBJECT','properties':{'learningGaps':{'type':_0x58c8f8(0x270),'items':{'type':_0x58c8f8(0x526)}},'teachingContent':{'type':_0x58c8f8(0x526)},'practiceProblems':{'type':_0x58c8f8(0x270),'items':{'type':'OBJECT','properties':{'question':{'type':_0x58c8f8(0x526)},'solution':{'type':_0x58c8f8(0x526)}}}}},'required':[_0x58c8f8(0x4a4),_0x58c8f8(0x58f),_0x58c8f8(0x350)]},_0x50a5f8=await callAnalysisApi(_0x10dc9f,_0x3ec3b0);await updateDoc(_0x56103d,{'lessonPlan':_0x50a5f8});const _0x2ba1cf=_0x58c8f8(0x32e)+_0x3edaba['topic']+_0x58c8f8(0x28e)+_0x50a5f8[_0x58c8f8(0x4a4)][_0x58c8f8(0x535)](_0xa0fbc1=>_0x58c8f8(0x856)+_0xa0fbc1+'</li>')[_0x58c8f8(0x243)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x50a5f8[_0x58c8f8(0x58f)]+_0x58c8f8(0x678)+_0x50a5f8[_0x58c8f8(0x350)][_0x58c8f8(0x535)](_0x2a402d=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x2a402d['question']+_0x58c8f8(0x258)+_0x2a402d[_0x58c8f8(0x5ab)]+_0x58c8f8(0x75d))[_0x58c8f8(0x243)]('')+_0x58c8f8(0x29e);document[_0x58c8f8(0x596)]('lesson-plan-title')[_0x58c8f8(0x195)]=_0x58c8f8(0x436)+_0x3edaba['topic'],document[_0x58c8f8(0x596)](_0x58c8f8(0x78c))[_0x58c8f8(0x8a2)]=_0x2ba1cf,document['getElementById'](_0x58c8f8(0x2b5))[_0x58c8f8(0x79b)][_0x58c8f8(0x76b)](_0x58c8f8(0x702));if(window[_0x58c8f8(0x691)])MathJax[_0x58c8f8(0xa6)]();messageModal[_0x58c8f8(0x79b)][_0x58c8f8(0x635)](_0x58c8f8(0x702));}catch(_0x28064e){console[_0x58c8f8(0x5dc)](_0x58c8f8(0x36d),_0x28064e),showMessage(_0x58c8f8(0x3e6)+_0x28064e[_0x58c8f8(0x6b9)]);}}async function handleDuplicateQuiz(_0x3d21e4){const _0x32ff7c=_0x597754;try{const _0x31db22=doc(db,_0x32ff7c(0x4cb)+appId+_0x32ff7c(0x1be),_0x3d21e4),_0x47f9b6=await getDoc(_0x31db22);if(_0x47f9b6['exists']()){const _0x4512b8=_0x47f9b6[_0x32ff7c(0x324)]();let _0x7fae2='',_0x1ed112=_0x32ff7c(0x6a0),_0x3ab0a6=null;if(_0x4512b8[_0x32ff7c(0x3e5)]===_0x32ff7c(0x686)){let _0x38749a=_0x4512b8[_0x32ff7c(0x231)][_0x32ff7c(0x16e)](_0x32ff7c(0x8a6),'')['trim']();_0x7fae2=_0x32ff7c(0x2e7)+_0x38749a,_0x1ed112='post-test',_0x3ab0a6=_0x3d21e4;}else _0x7fae2='(คัดลอก)\x20'+_0x4512b8[_0x32ff7c(0x231)];const _0x1745d3={..._0x4512b8,'topic':_0x7fae2,'createdAt':new Date()[_0x32ff7c(0x83b)](),'quizMode':_0x1ed112,'pairedQuizId':_0x3ab0a6};let _0x537c64;while(!![]){_0x537c64=Math[_0x32ff7c(0x718)](0x3e8+Math['random']()*0x2328)[_0x32ff7c(0x6db)]();const _0xf76d7f=await getDoc(doc(db,_0x32ff7c(0x4cb)+appId+_0x32ff7c(0x1be),_0x537c64));if(!_0xf76d7f['exists']())break;}const _0xe6803d=doc(db,_0x32ff7c(0x4cb)+appId+_0x32ff7c(0x1be),_0x537c64);await setDoc(_0xe6803d,_0x1745d3),_0x1745d3[_0x32ff7c(0x3e5)]===_0x32ff7c(0x7d0)&&await updateDoc(_0x31db22,{'pairedQuizId':_0x537c64}),showMessage(_0x32ff7c(0xf5));}else throw new Error(_0x32ff7c(0x43a));}catch(_0x4413b9){console[_0x32ff7c(0x5dc)](_0x32ff7c(0x27d),_0x4413b9),showMessage(_0x32ff7c(0x13a));}}async function handleDeleteQuiz(_0x4129f3,_0x1d63e9=!![]){const _0x5a71e1=_0x597754;try{const _0x5a385c=writeBatch(db),_0x26a0b6=collection(db,'artifacts/'+appId+_0x5a71e1(0x33f)+_0x4129f3+_0x5a71e1(0x2a8)),_0x3fdab9=await getDocs(_0x26a0b6);_0x3fdab9['forEach'](_0x19c7f2=>{_0x5a385c['delete'](doc(_0x26a0b6,_0x19c7f2['id']));});const _0x3ff351=doc(db,_0x5a71e1(0x4cb)+appId+_0x5a71e1(0x1be),_0x4129f3);_0x5a385c[_0x5a71e1(0x1b7)](_0x3ff351),await _0x5a385c[_0x5a71e1(0xca)](),_0x1d63e9&&showMessage(_0x5a71e1(0x4cf));}catch(_0x36c4e8){console['error'](_0x5a71e1(0x43e),_0x36c4e8),_0x1d63e9&&showMessage(_0x5a71e1(0x3f2));}}async function showQuizDetailView(_0x2d782d){const _0x32afd9=_0x597754;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x32afd9(0x7cb));try{const _0x5ed0d7=doc(db,_0x32afd9(0x4cb)+appId+_0x32afd9(0x1be),_0x2d782d),_0x3eb3b8=await getDoc(_0x5ed0d7);if(!_0x3eb3b8[_0x32afd9(0x484)]()){showMessage(_0x32afd9(0x53c));return;}const _0x5456ab={'id':_0x3eb3b8['id'],..._0x3eb3b8[_0x32afd9(0x324)]()};currentQuizData=_0x5456ab;const _0x123835=doc(db,_0x32afd9(0x4cb)+appId+_0x32afd9(0x6bf),_0x5456ab[_0x32afd9(0x7f2)]),_0x117eb4=await getDoc(_0x123835);_0x117eb4[_0x32afd9(0x484)]()?(currentProjectData=_0x117eb4['data'](),currentProjectId=_0x5456ab[_0x32afd9(0x7f2)]):(currentProjectData={'students':[]},currentProjectId=_0x5456ab[_0x32afd9(0x7f2)]);document[_0x32afd9(0x596)]('results-quiz-title')['textContent']=_0x5456ab[_0x32afd9(0x231)],document[_0x32afd9(0x596)]('results-quiz-id-display')[_0x32afd9(0x195)]=_0x2d782d;const _0x2f0cf6=collection(db,_0x32afd9(0x4cb)+appId+_0x32afd9(0x1be),_0x2d782d,_0x32afd9(0x7d1));unsubscribeSubmissionsListener=onSnapshot(_0x2f0cf6,_0x524663=>{const _0x242a8d=_0x32afd9,_0x2a39ba=_0x524663[_0x242a8d(0x521)][_0x242a8d(0x535)](_0x102a35=>({'id':_0x102a35['id'],..._0x102a35[_0x242a8d(0x324)]()}));currentSubmissions=_0x2a39ba;const _0x53f531=_0x2a39ba[_0x242a8d(0x534)](_0x2cfdaa=>_0x2cfdaa[_0x242a8d(0xbe)]&&_0x2cfdaa[_0x242a8d(0xbe)][_0x242a8d(0x2c4)]>0x0);renderBehaviorLog(_0x2a39ba),renderAnswerGrid(currentProjectData[_0x242a8d(0x3ae)],_0x53f531,_0x5456ab),renderAnalytics(_0x5456ab,_0x53f531),renderQuizResultsTable(currentProjectData[_0x242a8d(0x3ae)],_0x2a39ba,_0x5456ab),renderQuizLeaderboard(_0x53f531,_0x5456ab,'quiz-leaderboard-table-body');}),showView(_0x32afd9(0x1e9));}catch(_0x482e93){console[_0x32afd9(0x5dc)](_0x32afd9(0x593),_0x482e93),showMessage(_0x32afd9(0x817));}}function renderAnswerGrid(_0x122cee,_0x2b6bbf,_0x4a9ed5){const _0x1ac6c1=_0x597754,_0x56a25d=document[_0x1ac6c1(0x596)](_0x1ac6c1(0x613));if(!_0x56a25d)return;if(!_0x122cee||_0x122cee['length']===0x0){_0x56a25d[_0x1ac6c1(0x8a2)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x4888cc=_0x4a9ed5[_0x1ac6c1(0x2e8)],_0x40ac36=_0x2b6bbf[_0x1ac6c1(0x44a)]((_0x5b8271,_0x67671)=>{const _0x56c335=_0x1ac6c1;return _0x5b8271[_0x67671[_0x56c335(0x4a3)]]=_0x67671,_0x5b8271;},{}),_0x3eacbe=_0x5970fe=>String[_0x1ac6c1(0x239)](0x41+_0x5970fe),_0x5c4506=_0x108469=>{const _0x1e7846=_0x1ac6c1,_0x8181a6=_0x108469['questionType']||_0x4a9ed5[_0x1e7846(0x5ca)];switch(_0x8181a6){case'multiple_choice':return _0x108469[_0x1e7846(0x730)]&&_0x108469[_0x1e7846(0x730)][_0x1e7846(0x2c4)]>_0x108469[_0x1e7846(0x348)]?_0x3eacbe(_0x108469[_0x1e7846(0x348)]):'-';case'true_false':return _0x108469[_0x1e7846(0x5d9)]?_0x1e7846(0x55d):_0x1e7846(0x289);case _0x1e7846(0x1f0):return _0x108469[_0x1e7846(0x81a)]||'-';case _0x1e7846(0x3df):return _0x1e7846(0x4ff);default:return'-';}},_0x17964f=(_0x4ff2f5,_0x53b21d)=>{const _0x3dd60e=_0x1ac6c1;if(_0x53b21d[_0x3dd60e(0x1f1)]===null||_0x53b21d[_0x3dd60e(0x1f1)]===undefined)return'-';const _0xcfd1df=_0x4ff2f5[_0x3dd60e(0x5cd)]||_0x4a9ed5['quizType'];switch(_0xcfd1df){case _0x3dd60e(0x666):const _0x277521=_0x4ff2f5['options'][_0x3dd60e(0x77f)](_0x49d4ff=>_0x49d4ff===_0x53b21d[_0x3dd60e(0x58b)]);return _0x277521!==-0x1?_0x3eacbe(_0x277521):_0x53b21d[_0x3dd60e(0x58b)]||'-';case _0x3dd60e(0x6ae):return _0x53b21d[_0x3dd60e(0x1f1)]===_0x3dd60e(0xb5)||_0x53b21d[_0x3dd60e(0x1f1)]===!![]?_0x3dd60e(0x55d):_0x3dd60e(0x289);default:return _0x53b21d[_0x3dd60e(0x1f1)];}};let _0x55b212=_0x1ac6c1(0x810)+_0x4888cc[_0x1ac6c1(0x535)]((_0xda6cc2,_0x34a9f7)=>_0x1ac6c1(0x432)+(_0x34a9f7+0x1)+'</th>')[_0x1ac6c1(0x243)]('')+_0x1ac6c1(0x20e)+_0x4888cc[_0x1ac6c1(0x535)](_0x580bf8=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x5c4506(_0x580bf8)+_0x1ac6c1(0x3b0))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x122cee[_0x1ac6c1(0x450)](_0x5491d3=>{const _0x918f2a=_0x1ac6c1;_0x55b212+='<tr>',_0x55b212+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x5491d3+_0x918f2a(0x3b0);const _0x2ab09b=_0x40ac36[_0x5491d3];if(_0x2ab09b){const _0x427502=_0x2ab09b[_0x918f2a(0xbe)][_0x2ab09b[_0x918f2a(0xbe)][_0x918f2a(0x2c4)]-0x1];_0x4888cc[_0x918f2a(0x450)]((_0x212f3e,_0x14d701)=>{const _0x4435cf=_0x918f2a,_0x2e4b9a=_0x427502[_0x4435cf(0x15a)][_0x4435cf(0x84c)](_0x425d8d=>_0x425d8d[_0x4435cf(0x25e)]===(_0x212f3e[_0x4435cf(0x607)]||_0x212f3e['questionText']));if(_0x2e4b9a){let _0x41ba9f=![];const _0x4fce04=_0x212f3e[_0x4435cf(0x5cd)]||_0x4a9ed5[_0x4435cf(0x5ca)];if(_0x2e4b9a['answer']!==null&&_0x2e4b9a['answer']!==undefined)switch(_0x4fce04){case'multiple_choice':const _0x5ab4f1=_0x212f3e[_0x4435cf(0x730)][_0x212f3e[_0x4435cf(0x348)]];_0x41ba9f=_0x2e4b9a[_0x4435cf(0x58b)]===_0x5ab4f1;break;case _0x4435cf(0x6ae):const _0x410ac0=_0x2e4b9a[_0x4435cf(0x1f1)]===!![]||_0x2e4b9a[_0x4435cf(0x1f1)]===_0x4435cf(0xb5);_0x41ba9f=_0x410ac0===_0x212f3e[_0x4435cf(0x5d9)];break;case'matching_item':_0x41ba9f=_0x2e4b9a[_0x4435cf(0x1f1)]===_0x212f3e[_0x4435cf(0x81a)];break;default:_0x41ba9f=_0x2e4b9a['isCorrect'];break;}const _0x301884=_0x41ba9f?_0x4435cf(0x396):_0x4435cf(0x768);_0x55b212+=_0x4435cf(0x407)+_0x301884+'\x22>'+_0x17964f(_0x212f3e,_0x2e4b9a)+_0x4435cf(0x3b0);}else _0x55b212+=_0x4435cf(0xce);});}else _0x55b212+=_0x4888cc[_0x918f2a(0x535)](()=>_0x918f2a(0x337))['join']('');_0x55b212+=_0x918f2a(0x5af);}),_0x55b212+=_0x1ac6c1(0x6a6),_0x56a25d[_0x1ac6c1(0x8a2)]=_0x55b212;}function renderQuizResultsTable(_0x22471b,_0x499f02,_0x1cfa53){const _0x38651a=_0x597754,_0x4b6c02=_0x499f02[_0x38651a(0x44a)]((_0x3954e7,_0x4c7c8b)=>{const _0x145041=_0x38651a;return _0x3954e7[_0x4c7c8b[_0x145041(0x4a3)]]=_0x4c7c8b,_0x3954e7;},{}),_0xffda58=document[_0x38651a(0x82d)]('#results-table\x20thead\x20tr');_0xffda58&&!_0xffda58['innerHTML']['includes'](_0x38651a(0x413))&&(_0xffda58[_0x38651a(0x8a2)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x566d59=document[_0x38651a(0x596)]('quiz-results-table-body');if(!_0x22471b||_0x22471b[_0x38651a(0x2c4)]===0x0){_0x566d59['innerHTML']=_0x38651a(0xc9);return;}const _0x50574e=_0x1cfa53[_0x38651a(0x600)]===!![],_0x110998=_0x1cfa53[_0x38651a(0x417)]?.['passingScore']??-0x1;let _0x3556df='';_0x22471b[_0x38651a(0x450)](_0x380da4=>{const _0x55b140=_0x38651a,_0xf495a9=_0x4b6c02[_0x380da4];let _0x490554=_0x55b140(0x439)+(_0x50574e?'bg-amber-100\x20text-amber-800':_0x55b140(0x20a))+'\x22>'+(_0x50574e?_0x55b140(0xa3):_0x55b140(0x2b4))+_0x55b140(0x53f);if(_0xf495a9){if(_0xf495a9[_0x55b140(0xbe)]&&_0xf495a9[_0x55b140(0xbe)][_0x55b140(0x2c4)]>0x0){let _0x1be444=_0x50574e?_0xf495a9[_0x55b140(0xb8)]===_0xf495a9['totalQuestions']:_0x110998!==-0x1&&_0xf495a9[_0x55b140(0xb8)]>=_0x110998;const _0x2fd20d=_0x1be444?'bg-green-100\x20text-green-800':_0x55b140(0x6fc),_0x587a47=_0x1be444?'ผ่าน':_0x55b140(0x2c2),_0x1aca73=_0x55b140(0x468)+_0x2fd20d+'\x22>'+_0x587a47+_0x55b140(0x53f),_0x54c66d=_0x55b140(0x2f2)+(_0xf495a9[_0x55b140(0xbe)]?.[_0x55b140(0x2c4)]||0x1)+_0x55b140(0x1b9);_0x3556df+=_0x55b140(0x68c)+_0x380da4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0xf495a9[_0x55b140(0xb8)]+_0x55b140(0x4c5)+_0xf495a9[_0x55b140(0x5a9)]+_0x55b140(0x551)+_0x1aca73+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x490554+_0x55b140(0x7d4)+_0xf495a9['firstScore']+_0x55b140(0x4c5)+_0xf495a9[_0x55b140(0x5a9)]+_0x55b140(0x4e2)+_0xf495a9[_0x55b140(0x344)]+'\x20/\x20'+_0xf495a9[_0x55b140(0x5a9)]+_0x55b140(0x340)+(_0xf495a9[_0x55b140(0x9d)]||0x0)+_0x55b140(0x551)+_0x54c66d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xf495a9['latestSubmittedAt'])[_0x55b140(0x3c9)]('th-TH')+_0x55b140(0x3ed)+_0x380da4+_0x55b140(0x6aa);}else{const _0x234a98='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x3556df+=_0x55b140(0x2ad)+_0x380da4+_0x55b140(0x46c)+_0x490554+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x234a98+_0x55b140(0x727)+new Date(_0xf495a9['startedAt'])[_0x55b140(0x3c9)](_0x55b140(0x738))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x380da4+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x4a2c60=_0x55b140(0x236);_0x3556df+=_0x55b140(0x3d7)+_0x380da4+_0x55b140(0x6f5)+_0x490554+_0x55b140(0x547)+_0x4a2c60+_0x55b140(0xaf);}}),_0x566d59[_0x38651a(0x8a2)]=_0x3556df;}async function confirmRenameQuiz(){const _0x381443=_0x597754,_0x23626c=document[_0x381443(0x596)]('rename-quiz-input')['value']['trim']();if(!_0x23626c){showMessage(_0x381443(0x1b2));return;}if(!actionTargetId)return;const _0x4e4b19=doc(db,'artifacts/'+appId+_0x381443(0x1be),actionTargetId);try{await updateDoc(_0x4e4b19,{'topic':_0x23626c}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x381443(0x79b)][_0x381443(0x635)](_0x381443(0x702)),actionTargetId=null;}catch(_0xa1ce4d){console[_0x381443(0x5dc)](_0x381443(0x82a),_0xa1ce4d),showMessage(_0x381443(0xd9));}}async function handleMoveQuiz(_0x4864e6){const _0x599087=_0x597754;actionTargetId=_0x4864e6;const _0x48fe20=document[_0x599087(0x596)](_0x599087(0x4f2));_0x48fe20[_0x599087(0x8a2)]=_0x599087(0x5d5),moveQuizModal[_0x599087(0x79b)][_0x599087(0x76b)](_0x599087(0x702));try{const _0xde43be=collection(db,_0x599087(0x4cb)+appId+_0x599087(0x6bf)),_0x45284f=await getDocs(_0xde43be),_0x2816f5=_0x45284f[_0x599087(0x521)][_0x599087(0x535)](_0x165205=>({'id':_0x165205['id'],..._0x165205[_0x599087(0x324)]()})),_0x5e42c1=_0x2816f5[_0x599087(0x534)](_0x433183=>_0x433183['id']!==currentProjectId);if(_0x5e42c1[_0x599087(0x2c4)]===0x0){_0x48fe20[_0x599087(0x8a2)]=_0x599087(0x805),document[_0x599087(0x596)](_0x599087(0x167))['disabled']=!![];return;}_0x48fe20[_0x599087(0x8a2)]=_0x5e42c1[_0x599087(0x535)](_0x51e607=>_0x599087(0x238)+_0x51e607['id']+'\x22>'+_0x51e607[_0x599087(0x6e8)]+_0x599087(0x65e))['join'](''),document[_0x599087(0x596)](_0x599087(0x167))['disabled']=![];}catch(_0x21828d){console[_0x599087(0x5dc)](_0x599087(0x205),_0x21828d),showMessage(_0x599087(0x2d6)),moveQuizModal[_0x599087(0x79b)][_0x599087(0x635)](_0x599087(0x702));}}async function confirmMoveQuiz(){const _0x3c8684=_0x597754,_0x4a85df=document['getElementById'](_0x3c8684(0x4f2))[_0x3c8684(0x800)];if(!_0x4a85df){showMessage(_0x3c8684(0x478));return;}if(!actionTargetId)return;const _0x183d6b=doc(db,_0x3c8684(0x4cb)+appId+_0x3c8684(0x1be),actionTargetId);try{await updateDoc(_0x183d6b,{'projectId':_0x4a85df}),showMessage(_0x3c8684(0x31e)),moveQuizModal[_0x3c8684(0x79b)][_0x3c8684(0x635)](_0x3c8684(0x702)),actionTargetId=null;}catch(_0x42c5dd){console[_0x3c8684(0x5dc)](_0x3c8684(0x464),_0x42c5dd),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x239faa){const _0x109b71=_0x597754;actionTargetId=_0x239faa;const _0x433b40=doc(db,_0x109b71(0x4cb)+appId+_0x109b71(0x1be),_0x239faa);try{const _0x10c7b4=await getDoc(_0x433b40);if(_0x10c7b4[_0x109b71(0x484)]()){const _0x536f84=_0x10c7b4[_0x109b71(0x324)](),_0x4b6e8c=_0x536f84[_0x109b71(0x417)]||{},_0x228f37=_0x536f84['questions']['length'];document[_0x109b71(0x596)]('modal-shuffle-select')[_0x109b71(0x800)]=_0x4b6e8c['shuffle']||_0x109b71(0x73d),document[_0x109b71(0x596)](_0x109b71(0x887))['value']=_0x4b6e8c[_0x109b71(0x22c)]||'show_results_and_answers',document[_0x109b71(0x596)](_0x109b71(0x223))['value']=_0x4b6e8c[_0x109b71(0x644)]||_0x109b71(0x73d),document['getElementById'](_0x109b71(0x731))[_0x109b71(0x800)]=_0x4b6e8c[_0x109b71(0x6d4)]||0xa,document[_0x109b71(0x596)](_0x109b71(0x7e8))[_0x109b71(0x800)]=_0x4b6e8c['passingScore']||Math[_0x109b71(0x718)](_0x228f37/0x2),document[_0x109b71(0x596)]('modal-passing-score-input')[_0x109b71(0x665)]=_0x228f37,document[_0x109b71(0x596)](_0x109b71(0x7d8))[_0x109b71(0x7a4)]=_0x4b6e8c[_0x109b71(0x40e)]||![],document[_0x109b71(0x596)](_0x109b71(0x51d))[_0x109b71(0x7a4)]=_0x4b6e8c['loopUntilPass']||![],document[_0x109b71(0x596)](_0x109b71(0x223))[_0x109b71(0x628)](new Event(_0x109b71(0x4c4))),quizSettingsModal[_0x109b71(0x79b)]['remove'](_0x109b71(0x702));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x529ef7){console[_0x109b71(0x5dc)]('Error\x20fetching\x20quiz\x20settings:',_0x529ef7),showMessage(_0x109b71(0x311));}}function _0x3aee(){const _0x438c4a=['touches','line-through\x20text-red-700','arrayBuffer','analyze-strengths-btn','preScore','input[name=\x22status-option\x22]:checked','ท็อปฟอร์ม','ไม่พบแบบทดสอบในระบบเลย','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','print','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','find','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parts','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','bank-quiz-list','<li>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-quiz-area','fill_in_no_choices','อัปเดตแบบทดสอบเก่า\x20','พื้นที่วงกลม/ส่วนของวงกลม','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','สลับไปโหมดนักเรียน','teacherSuggestions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','lessonPlan','ลบโปรเจคสำเร็จแล้ว','input','.quiz-bank-move-btn','ระบบอสมการ','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','score','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','behaviorLog','พื้นที่ผิวรูปทรงสามมิติ','ความคาดหมาย\x20(Expected\x20value)','quiz-leaderboard-table-body','\x20จาก\x20','ai-quiz-app-aefee','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','สำหรับโปรเจค:\x20','blueprint-tab','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x5ctext{$1}','timer-duration-container','fa-pen','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','กรุณาเลือกชื่อของคุณ','Error\x20updating\x20sort\x20preference:','NUMBER','timestamp','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22...','modal-results-display-select','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ดอกเบี้ยอย่างง่าย','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','กำลังสร้างรูปภาพ...','results-display-select','ผิด','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','results_','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','date_asc','Error\x20generating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','คะแนนเต็ม','คะแนน','difficulty-level-select','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','innerHTML','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','(ก่อนเรียน)','จำนวนเต็มบวก','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','mouseup','ผู้เชี่ยวชาญ','stdDev','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','พาราโบลา','currentTarget','.csv','.quiz-result-card','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','label','podium','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','manage-players-btn','ยกเลิกการจับคู่สำเร็จ','scores-tab-btn','after','points','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','contentEditable','สอบซ่อม','ฟังก์ชันพหุนาม','timer-duration-label','typesetPromise','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','Error\x20listening\x20for\x20starred\x20quizzes:','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<button\x20data-quiz-id=\x22','bulk-shuffle-select','submittedAt','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-300\x20hover:text-red-100','parent','.quiz-bank-try-btn','bg-green-500','true','.delete-project-btn','export-word-btn','bestScore','trim','shuffle-setting-select','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','pinnedProjects','attempts','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','Error\x20updating\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.summary-bar-item','link-input-area','.delete-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20ชุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','commit','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','.toggle-actions-btn','manual_release','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','block','/questionBank','link-url-input','confirm-bulk-quiz-settings-btn','(ฉบับง่าย)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','image/png','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','presentation-short-answer-input','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','export-compact-pdf-btn','scrollIntoView','ไม่ได้ตอบ','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','เรเดียนและการแปลงหน่วย','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x5cfrac{$1}{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','update','.delete-svg-btn','cloneNode','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','274192258111','</td></tr>','คัดลอกแบบทดสอบสำเร็จ','Error\x20generating\x20worksheet:','text-red-900','totalPoints','isPasscodeEnabled','เกิดข้อผิดพลาดในการลบโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table-container','currentQuestionIndex','input[name=\x22drill_answer\x22]:checked','text','admin-try-quiz-btn','ไม่พบตารางสำหรับ\x20Export','entries','[contenteditable=\x22true\x22]','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','แบบทดสอบซ่อมเสริม','เศษส่วน\x20(ย่อ/ขยาย)','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','project-search-input','getAttributeNS','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','copy','text-green-600','quiz','ข้อ\x20','reference-pdf-upload','สู้ๆ\x20ลองอีกครั้งนะ','global-live-game-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','back-to-results-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','text-content-input','#student-project-leaderboard-content\x20thead','\x5cs*\x5c(','.quiz-bank-item','กฎของไซน์','พบข้อสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','close','live-game','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','pre-test-checkbox','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','button[data-id]','3486706qmflPO','แก้ไขหัวข้อสำเร็จ','Error\x20comparing\x20results:','ไม่สามารถเพิ่มนักเรียนได้','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','รูปสี่เหลี่ยมและสมบัติ','live-player-management','bottom','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','show_pass_fail_only','cancel-export-pdf-btn','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','text/html','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบเติมคำตอบ','สร้างแบบทดสอบปรนัย','.color-palette-popup','\x20ใหม่...','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','การเรียงสับเปลี่ยน\x20(Permutation)','ฟังก์ชันค่าสัมบูรณ์','ความต่อเนื่อง','stringify','option','(^|[^\x5c\x5c])\x5cb','คะแนนเต็ม!','next-question-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','title','.option-text','ปิดใช้งาน','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','answers','table','getTextContent','score-distribution-chart','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ผ่าน','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','.topic-actions-view','mouseleave','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-move-quiz-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','การแจกแจงปกติและ\x20z-score','body','$1^{\x5ccirc}\x5ctext{C}','cancel-rename-quiz-btn','schedule','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','scrollY','passcode-input-container','เกิดข้อผิดพลาดในการติดดาว','leaderboard-table-body','originalTopic','ลำดับเลขคณิต\x20(AP)','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','focus','candidates','border-gray-200','text-purple-600','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','smooth','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','close-comparison-modal-footer-btn','input[type=\x22text\x22]','cancel-delete-btn','บันทึกคำถามใหม่\x20','G-V90KRM0L63','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','showImproveButton','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','interesting-stats-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','สร้างโปรเจคสำเร็จ!','leq','สมการยกกำลัง','textContent','ON_FIRE','size','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','.compare-results-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','.doc','document','raw','Error\x20updating\x20project\x20name:','9QnIjXp','เกิดข้อผิดพลาดในการบันทึก','text-yellow-800','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','Error\x20loading\x20quiz\x20for\x20student:','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','.topic-name-input','quiz-bank-modal','Error\x20generating\x20parallel\x20post-test:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','catch','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','ไม่มี','สมมาตร\x20(แกน/จุด)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','สเกลและแผนที่','ref','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','กรุณาใส่ชื่อใหม่','matching','\x5cge','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','(คู่ขนาน)\x20','\x20ครั้ง)</span></td>','setFont','project-sort-select','text-indigo-800','text-green-700\x20bg-green-100','/public/data/quizzes','bg-blue-100','auto-fix-latex-btn','rows','perfect_score_status','เส้นตรง:\x20รูปแบบสมการ','text-green-600\x20font-bold','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','2-digit','push','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','visible','ปริมาตร/ความจุและการแปลง','ความชันเส้นสัมผัส','\x20\x0a\x20\x20\x20\x20','projectView','quiz-form','<p><strong>คำตอบที่แนะนำ:</strong>\x20','auto','analytics-tab-content','ระยะเวลา\x20(วินาที):','ไม่พบแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','webkitRequestFullscreen','start-live-race-generated-btn','<div\x20class=\x22flex-1\x22></div>','shuffle','องค์ประกอบของฟังก์ชัน','confirm-delete-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','user','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','#E0E7FF','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x20รายการ...','\x20\x20\x20-\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ผู้ควบคุม\x20(ทดสอบ)','quiz-results','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<div\x20class=\x22answer-space\x22></div>','ปริพันธ์ไม่จำกัด','.live-summary-tooltip.visible','bg-green-200\x20text-green-800','log','matching_item','answer','draggable-text','อนุพันธ์:\x20กฎพื้นฐาน','json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','.topic-actions-edit','player-count','preTestId','กำลังสร้างแบบทดสอบจากหัวข้อ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','kick-player-btn','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','การบวกทศนิยม','สร้างใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','insertAdjacentHTML','manage-tab','cancel-global-live-btn','getContext','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','หมดเวลา!\x20กำลังส่งคำตอบ...','string','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','bg-blue-100\x20text-blue-800','export-leaderboard-excel-btn','\x5cpm','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','.color-palette-btn','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','quiz-end-time','ring-purple-400','Error\x20saving\x20settings:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สรุปผลการวิเคราะห์:\x5cn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','^{\x5ccirc}\x5ctext{C}$','$1_{$2}','project-title','เกิดข้อผิดพลาดในการโหลดสถานะ','student','timer-bar','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','คำถามถัดไป','Error\x20saving\x20project\x20order:','modal-timer-mode-select','\x22><i\x20class=\x22fas\x20','.topic-row','right','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','\x20หัวข้อ)','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','resultsDisplay','<p>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','setAttributeNS','topic','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','startTime','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22','fromCharCode','-tab-content','strength-weakness-analysis-container','ศูนย์','players','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','#F3E8FF','/preferences/main','join','#view-rankings-btn','grid','คณิตศาสตร์','per_question','progress-project-select','Error\x20joining\x20live\x20game:','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','confirm-quiz-status-btn','generate-from-file-btn','baseVal','preventDefault','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','หน่วยเวลาและการคำนวณเวลา','comparison-overall-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x22>','passingScore','FIRST_TRY_ACE','screen','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20project:','</p><p><strong>เฉลย:</strong>\x20','analytics-summary-cards','editable-text-','```json','drop','พีชคณิตและฟังก์ชัน','originalQuestionText','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','isArray','admin-dashboard','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','หัวข้อที่สร้างเอง','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','(ไม่มีชื่อ)','className','<i\x20class=\x22fas\x20fa-pen\x22></i>','.edit-custom-topic-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','delete-svg-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','แคลคูลัสเบื้องต้น','ARRAY','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','leaderboard','student-result-area','<div><input\x20type=\x22radio\x22\x20id=\x22q','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','#DBEAFE','bg-purple-50','autoTable','overallGroups','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ตรีโกณมิติ','close-student-rankings-btn','Error\x20generating\x20from\x20blueprint:','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','removeAttribute','imageCode','ยอดเยี่ยม!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','ไม่ใช่','\x20รายการสำเร็จ!','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','สร้างแบบทดสอบ','cancel-quiz-status-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<textarea\x20name=\x22question','การคูณ','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ย้าย','#retake-for-improvement-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','button[type=\x22submit\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','student-join-game-view','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','แผนภาพเวนน์','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','การบวก','\x5cfrac','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x22\x20value=\x22false\x22\x20','ลบหัวข้อสำเร็จ','exitFullscreen','questionDisplayedAt','num-choices-container','quiz-status-modal','file-input-area','/submissions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','export-excel-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.live-answer-btn','ไม่มีผู้ตอบตัวเลือกนี้','cos','text-red-600','\x22\x20class=\x22pin-project-btn\x20','สอบปกติ','lesson-plan-modal','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ความแปรปรวน','จับคู่แบบทดสอบสำเร็จ!','\x22\x20สำเร็จ','check-answer-btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','str','lowerGroupResponders','generate-from-parallel-test-btn','back-to-student-home-btn','ไม่ผ่าน','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','length','</li>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','สมการลอการิทึม','standardTopic','clientY','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','manage','geq','.question-editor-item','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ชื่อโปรเจคห้ามว่าง','project-passcode-modal','message-modal','Failed\x20to\x20get\x20standardized\x20topic:','#per-question-options\x20select','ไม่สามารถโหลดรายการโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','มุมพิเศษ\x2030°-60°-90°','approx','lastAnswerCorrect','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','คะแนนยังไม่ถึงครึ่ง','fill_in_the_blank','fill_in_with_choices','text-gray-100','fa-fire\x20text-orange-500','confirm-create-project-btn','quiz-schedule-start-container','(หลังเรียน)\x20','questions','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','allResponses','\x5ccdot','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5c%','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','cdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','msExitFullscreen','timer-mode-select','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','mean','<span\x20title=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','whole_quiz','กรุณาเลือกสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.pair-quiz-btn','save-project-name-btn','player-list-lobby','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','.png','\x20ข้อ\x20','Error\x20deleting\x20student:','onerror','confirm-join-game-btn','min','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement','click','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-explanation-','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','การแจกแจงทวินาม\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20starting\x20game:','topic-input','student-initial-view','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','การวัด','get','API\x20call\x20failed\x20with\x20status:\x20','ย้ายแบบทดสอบสำเร็จ','abs','\x0a\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','data','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','generated-quiz-container','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','</button>','class','#math-topics-checkbox-container\x20input:checked','การบวกเศษส่วน','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','results-quiz-title','10516056qKYVSz','export-pdf-modal','showInStudentDashboard','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.start-live-race-btn','modal-close-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ความเท่ากันทุกประการของสามเหลี่ยม','classWeaknesses','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.pdf','/public/data/quizzes/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','{$1}','live-game-view','select-all-topics-btn','latestScore','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','student-quiz-leaderboard-tab','.draggable-text','correctAnswerIndex','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','normal','ทศนิยม\x20(ค่าประจำหลัก)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','practiceProblems','removeChild','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','createObjectURL','analytics-tab-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','ยังไม่มีนักเรียนส่งงาน','ข้อที่\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','$1\x5ctimes','bulk-quiz-settings-modal','quiz-status-options','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','scheduled_pending','sin','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','nickname-input','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','สมการตรีโกณมิติ','input[type=\x22radio\x22]:checked','หยุดระบบจับเวลาหรี่หน้าจอ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','lower_group_count','desc','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x20ตัวเลือก.\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','flex','COMEBACK_KING','toFixed','lastAnswerIndex','starred-project','view-my-progress-btn','ไม่สามารถสร้างโปรเจคได้','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','เรขาคณิต','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','copy-quiz-id-btn','1836335tAMtsc','.regenerate-question-btn','random','12583672Vqhxyh','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<li\x20class=\x22','.admin-try-quiz-list-btn','\x22\x20name=\x22question_single\x22\x20value=\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','Failed\x20to\x20get\x20hint:','#results-table','bg-green-100','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','student-name-select','end-game-btn','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-tab','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','#F59E0B','ไม่พบข้อมูลผู้ใช้','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','helvetica','starred','correct','questions_only','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','students','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</td>','values','stopPropagation','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','การหารทศนิยม','fullscreenchange','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','leaderboard-tab-content','bulk-results-display-select','pointsLastQuestion','questionIndex','div','ฟังก์ชันผกผัน','Invalid\x20response\x20structure\x20from\x20AI.','opacity-50','has','ถูกต้อง!','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','Copy\x20command\x20failed','ความชันและเส้นตรง','toLocaleString','onchange','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','getDocument','ตัวประกอบและตัวประกอบเฉพาะ','[data-topic-container-id]','$1\x20\x5cfrac','.delete-quiz-btn','idealAnswer','ทฤษฎีบทพื้นฐานของแคลคูลัส','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','localeCompare','เส้นจำนวน','user-id-display','open-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','.project-card-container:not(.opacity-50)','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','short_answer','q-text-','export-pdf-btn','$1^{$2}','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','เกิดข้อผิดพลาด:\x20','substring','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','/studentProfiles','visibilityState','quiz-editor-modal','.save-custom-topic-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','promise','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','จำนวนเต็มลบ','frac','เกิดข้อผิดพลาดในการลบแบบทดสอบ','pairedQuizId','.start-presentation-list-btn','Authentication\x20failed:','Error\x20saving\x20visibility\x20settings:','bank-quiz-search-input','</p>','files','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1UlaJTl','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','11160296YDEHeP','leaderboard-quiz','.project-card-container.opacity-50','admin-password-input','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','repeat','color','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ทำคะแนนได้เกินครึ่ง','generated-quiz-actions','isAdaptive','NEGATIVE_INFINITY','.correct-response-input','\x20คนที่ส่ง\x20ตอบถูก\x20(','modal-timer-duration-label','จัดการ','quiz-leaderboard-table','OBJECT','เกิดข้อผิดพลาดในการเปลี่ยนสี','settings','00:00','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','practice-topic-btn','.isScored','bg-red-50','game-pin-input','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','passing-score-input','QUICK_THINKER','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','createElement','</div>','เลือกและบันทึก','project-detail','topic-tab','display','webkitExitFullscreen','โดเมนและเรนจ์','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ยอดเยี่ยม','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','show_results_and_answers','แผนการสอน:\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Original\x20quiz\x20not\x20found','getScreenCTM','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','bg-green-100\x20text-green-800','Error\x20deleting\x20quiz:','\x5cle','\x5c\x5c\x5c\x5c(?=(','</form>','quiz-results-view','write','next-drill-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','close-comparison-modal-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-input-area','neq','reduce','summary_chart','ไม่สามารถบันทึกการตั้งค่าได้','Error\x20verifying\x20answers\x20in\x20editor:','loader-text','admin-testing','forEach','font-bold\x20text-red-700\x20line-through','name','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','http://www.w3.org/2000/svg','gamePin','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','#26890c','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','show-in-student-dashboard-checkbox','\x22\x20data-name=\x22','เกิดข้อผิดพลาดในการลบนักเรียน','input[name=\x22status-option\x22]','อสมการค่าสัมบูรณ์','save-quiz-edits-btn','ปรับเพิ่ม/ลดเป็นร้อยละ','เกิดข้อผิดพลาดในการลบผลสอบ','Error\x20moving\x20quiz:','questionText','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','student-quiz-leaderboard-table-body','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','left','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','admin-view','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','removeEventListener','สถิติและความน่าจะเป็น','cancel-quiz-edits-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','scheduled','.delete-student-btn','back-from-results-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','กรุณาเลือกโปรเจคปลายทาง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','text-indigo-700','fas\x20fa-user-edit','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','presentation-slide-container','from','exists','\x22\x20name=\x22question','close-lesson-plan-modal-btn','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','onload','custom-math-topic-input','results-table','contains','.save-to-bank-btn','confirmation-modal','วงกลม:\x20สมการและสมบัติ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','กำลังสแกนหาแบบทดสอบเก่า...','การหาร','binom','confirmation-message','ระบบเลขและค่าประจำหลัก','กราฟแท่ง\x20กราฟเส้น','คำเตือน\x20(','cancel-admin-login-btn','createdAt','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','comparison-individual-tab','แบบทดสอบที่ติดดาว','ai-quiz-generator-v3','open-global-live-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','studentName','learningGaps','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[*]','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','160516iiKolb','dataset','การคูณเศษส่วน','text-emerald-900','Failed\x20to\x20parse\x20JSON\x20from\x20AI','endTime','สามเหลี่ยม\x20(ชนิด/สมบัติ)','$1\x5ctext(','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','เกิดข้อผิดพลาดในการปักหมุด','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','upper_group_count','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','dataIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','สมการค่าสัมบูรณ์','project-list','Remedial\x20quiz\x20generation\x20failed:','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','change','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-50','/public/data/projects/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','ลบแบบทดสอบสำเร็จแล้ว','close-lesson-plan-modal-footer-btn','.edit-quiz-btn','จำนวนเชิงซ้อน\x20(เสริม)','keydown','pow','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','back-to-project-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','export-leaderboard-image-btn','comparison-chart','POST','แบบทดสอบจากคลังส่วนตัว','div[data-question-index=\x22','showRankings','per-question-timer-container','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดในการอ่านไฟล์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.duplicate-quiz-btn','.generate-lesson-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','katex','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','ร้อยละประยุกต์','dashboardConfig','application/json','asc','set','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','move-quiz-project-select','half_mark_status','</span></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x20mr-2\x22></i>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','พิมพ์ตอบ','student-progress-view','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','text-emerald-800','prod','back-to-dashboard-from-results-btn','hint','ส่วนเบี่ยงเบนมาตรฐาน','show-leaderboard-btn','ai-quiz-app-aefee.firebasestorage.app','</label>\x0a\x20\x20\x20\x20</div>\x0a','editor-quiz-topic','file-topic-input','list','bank-input-area','parallel-test-input-area','generate-from-link-btn','.star-quiz-btn','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','project-passcode-input','bg-yellow-100','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','_opt1\x22\x20name=\x22question','.export-pdf-list-btn','พื้นที่สามเหลี่ยม','touchend','modal-loop-until-pass-checkbox',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','bg-emerald-100','type','docs','answeredCurrentQuestion','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','create-project-modal','back-to-dashboard-btn','STRING','padStart','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','touchstart','.topic-name-display','Error\x20loading\x20user\x20preferences:','ฟังก์ชันยกกำลัง','flex\x20flex-col\x20gap-2','qType','.question-editor-item[data-q-index=\x22','เมทริกซ์:\x20บวก/คูณ','projectSortOrder','targetId','gain','filter','map','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-quiz-settings-btn','ข้อต่อไป','สมการเหตุผล\x20(rational)','export-lesson-pdf-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','(ก่อนเรียน)\x20','</span></td>','tGain','justification','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','height','undefined','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','#FFFFFF','fill','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','text-gray-300\x20hover:text-white','comparison','Error\x20fetching\x20student\x20rankings:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','name_asc','save','(เลือกแล้ว\x20','Error\x20updating\x20project\x20color:','MathJax\x20typeset\x20error\x20(analytics):','\x5csum','hover:bg-indigo-100','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','keys','ลำดับการดำเนินการ\x20(PEMDAS)','ใช่','test','passcode','text-green-800','export-tutor-pdf-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x20transition-opacity\x20duration-300\x20pointer-events-none\x20opacity-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','start-game-btn','-tab','#per-question-options\x20textarea','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','promptFeedback','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','result','เลือกโปรเจคเพื่อบันทึก','interesting-stats-wrapper','$1\x5ctext{','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','times','loader','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','Failed\x20to\x20create\x20initial\x20submission\x20record:','ไม่พบแบบทดสอบสำหรับรหัสนี้','text-red-700','<svg','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกการตั้งค่าการแสดงผลสำเร็จ','blueprint-input-area','เกิดข้อผิดพลาดในการลบหัวข้อ','inactive','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','add-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','quiz-type-select','num-choices','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','answerText','text-indigo-600','confirm-global-live-btn','\x20สำเร็จ','teachingContent','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','Error\x20saving\x20to\x20question\x20bank:','generate-from-topic-btn','Error\x20showing\x20quiz\x20detail\x20view:','ชื่อหัวข้อห้ามว่าง','shuffledQuiz','getElementById','mixed','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','text-tab','Error\x20generating\x20easy\x20version\x20quiz:','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','สร้างชุดคำถามจับคู่','ยืนยันการกระทำ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','start-quiz-btn','save-settings-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','totalQuestions','show_results_only','solution','ฟังก์ชันลอการิทึม','cancel-quiz-bank-btn','ความสัมพันธ์ของมุม','</tr>','top','button','suggestedAnswer','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','input[name=\x22question_single\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ปริมาตรรูปทรงสามมิติ','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x5csqrt{$1}','บันทึกการตั้งค่าสำเร็จ','student-progress-content','\x22\x20name=\x22drill_answer\x22\x20value=\x22','Error\x20resetting\x20project\x20order:','\x20ช่อง','quiz-id-input','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22\x5cn','leaderboard-quiz-tab-btn','svg','\x22><p\x20class=\x22font-semibold\x22>','quizType','_blank','items','questionType','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สร้างคำถามแบบเติมคำในช่องว่าง','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','include-images-checkbox','เกิดข้อผิดพลาดในการอัปเดต:\x20','<option>กำลังโหลดโปรเจค...</option>','student-passcode-input','verify-answers-editor-btn','</h3>','correctAnswer','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','เส้นรอบรูป','error','badgesCount','Firebase\x20initialization\x20failed:','student-project-leaderboard-table-body','presentation-modal','.quiz-status-btn','Error\x20fetching\x20quiz\x20status:','quiz-schedule-end-container','dfrac','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','indexOf','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','open','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','export-leaderboard-word-btn','prev-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','getBBox','target','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','explanation','ลำดับเรขาคณิต\x20(GP)','\x22\x20value=\x22true\x22\x20','querySelectorAll','status','.project-card-container','ตัวแปรและนิพจน์','.answer-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','match','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','touchmove','/public/data/liveGames','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','link-topic-input','keyup','not-found','.answeredCurrentQuestion','stem','.lastAnswerCorrect','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','viewBox','position','sort','อัตราส่วนและสัดส่วน','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','answer-grid-container','หลังเรียน','thead\x20.sortable-header','การลบเศษส่วน','dragover','.rename-quiz-btn','ผลรวมอนุกรม\x20(Σ)','\x5cfrac{','outerHTML','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','create-from-bank-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','มุมพิเศษ\x2045°-45°-90°','ผ่านฉลุย','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','href','toDate','dispatchEvent','#FEF3C7','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','BOOLEAN','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','add-custom-math-topic-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','request','ทฤษฎีบทพีทาโกรัสและการประยุกต์','Error\x20generating\x20from\x20parallel\x20test\x20file:','ปริพันธ์จำกัด','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700','เวกเตอร์และเมทริกซ์\x20(เสริม)','numeric','fixed','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','%</span>','project-dashboard-view','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','startsWith','timerMode','split','[role=\x22textbox\x22]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','fa-user-astronaut\x20text-blue-700','disabled','isStarred','textarea','ตรวจทานเฉลยเสร็จสิ้น!','</span>','บันทึกการแก้ไข','ตรวจคะแนนใหม่\x20','Enter','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','parallel-test-upload-input','Error\x20deleting\x20all\x20students:','next-question-timed-btn','student-list','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','destroy','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</option>','Error\x20saving\x20quiz:','.verification-result','Error\x20committing\x20score\x20updates:','อุณหภูมิและการแปลง','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','max','multiple_choice','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-view','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','Error\x20updating\x20quiz\x20status:','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','(ตัวเลือกผิดพลาด)','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','generate-from-text-btn','width','เกี่ยวกับหัวข้อ\x20\x22','default','content','สรุปผลสุดท้าย','isCorrect','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','text-red-700\x20bg-red-100','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','จากไฟล์ที่แนบมานี้,\x20','#ffffff','mode-switcher-btn','cursor','pre-test','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','check-presentation-answer-btn','\x0a---\x0a','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','save-quiz-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','MathJax','hasOwnProperty','project-name-input','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI:','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','grid-view-btn','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','standard','innerText','per-question-options','quiz-editor-questions-container','student-quiz-leaderboard-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','กรุณาเลือกคำตอบก่อนครับ','ฟังก์ชันราก\x20(root)','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','fas\x20fa-star\x20text-yellow-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','true_false','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','12809916tVsmVt','message','เกิดข้อผิดพลาดในการเข้าร่วมเกม','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ดีเทอร์มิแนนต์','worksheet-input-area','delete-all-students-btn','/public/data/projects','.\x20แต่ละข้อมี\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','msRequestFullscreen','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','results','.presentation-option','tfrac','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','จำนวนนักเรียน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','รูปแบบการให้เหตุผล','_opt1\x22>ไม่ใช่</label></div>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','submission','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-btn','timerDuration','bar','N/A','การจัดหมู่\x20(Combination)','Error\x20regenerating\x20question\x20in\x20editor:','dimmed','project-id-display','toString','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','cancel-move-quiz-btn','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','\x22\x20data-topic=\x22','modal-timer-duration-container','btn','classStrengths','พอใช้','latestSubmittedAt','projectName','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','index','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','Error\x20fetching\x20project\x20quizzes:','Error\x20deleting\x20submission:','</strong></p>','results-tab-content','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สมการเชิงเส้นตัวแปรเดียว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','#E5E7EB','รากที่สองและที่สาม','insertBefore','per-q-countdown','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','update-old-quizzes-btn','อัปเดตพฤติกรรมสำหรับ\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','font-bold\x20text-green-700','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','hidden','comparison-individual-content','upperGroupResponders','รอเปิด','specialist','\x22>จาก:\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','toDataURL','จุด\x20เส้น\x20ระนาบ','admin','เกมสิ้นสุดลงแล้ว','quick_thinker','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','fas\x20fa-bookmark','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','วงรี','$1^{\x5ccirc}','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','):\x20','Error\x20saving\x20user\x20preference:','floor','underline','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.choice-text','.status','Error\x20adding\x20custom\x20topic:','answer-counter','กรุณาเลือกไฟล์ก่อน','เกิดข้อผิดพลาดในการจับคู่','ตอบถูกทุกข้อในแบบทดสอบนี้','#10B981','instructions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','question','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','student-name-selection-view','bg-red-500','กฎของโคไซน์','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','options','modal-timer-duration-input','อินเวอร์สของเมทริกซ์','กำลังวิเคราะห์ข้อสอบ\x20\x22','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','แบบทดสอบ:\x20','first_try_ace','th-TH','leaderboard_','adaptive-quiz-checkbox','กรุณาใส่ชื่อนักเรียน','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','none','อัปเดตสถานะสำเร็จ','.sortable-header','confirm-passcode-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','thead','editable-quiz-topic','key','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','quiz-generation-area','isLooping','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ส่วนเบี่ยงเบนเฉลี่ย','math-topics-checkbox-container','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','actions-container-','export-worksheet-pdf-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','circ','คณิตการเงิน/บูรณาการ','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','สัญกรณ์วิทยาศาสตร์','bg-green-50','ส่งแล้ว','</p></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','lobby','blur','global-quiz-list','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x5cdiv','.generate-easy-version-btn','global-live-game-count','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','bg-red-100','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','bg-red-200\x20text-red-800','remove','worksheet-topic-input','ดอทโปรดักต์\x20(dot)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','generate-worksheet-btn','manage-tab-content','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','setAttribute','reveal-answer-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','input[type=\x22checkbox\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','goto-next-question-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','cancel-quiz-settings-btn','<div\x20class=\x22space-y-4\x22>','เรขาคณิตวิเคราะห์','<div\x20id=\x22q-image-container-','findIndex','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22\x20data-pre-test-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','closest','sqrt','blueprint-upload-input','toLocaleDateString','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','lesson-plan-content','leaderboard-quiz-tab-content','_opt0\x22>ใช่</label></div>','.live-answer-btn,\x20#live-submit-short-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','authed_project_','/public/data/practiceBank','both','text/csv;charset=utf-8;','rgba(59,\x20130,\x20246,\x200.7)','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.quiz-bank-settings-btn','\x22.\x20','Error\x20starting\x20live\x20race:','classList','เปิด\x20(จับเวลา)','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ไม่พบเอกสารการส่งงานของ\x20','Error\x20toggling\x20star\x20status:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','project-detail-view','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','postTScore','checked','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','timer-duration-input','student-name-input','behavior-log-tab-btn','players.','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','</div><div\x20class=\x22space-y-2\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','force-math-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ring-2','tan','clientX','<span\x20class=\x22font-bold\x20','Error\x20unpairing\x20quizzes:','red','doughnut','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ระบบสมการเชิงเส้นสองตัวแปร','hint-btn','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','topic-input-area','modal-shuffle-select','text-gray-200','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','.project-card-content','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','confirm-rename-quiz-btn','จำนวนและการดำเนินการ','ย้ายแบบทดสอบไปโปรเจคอื่น','workerSrc','total','analytics','Error\x20saving\x20quiz\x20edits:','then','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','post-test','submissions','แก้ไขข้อนี้','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','การคูณทศนิยม','toggle','modal-adaptive-quiz-checkbox','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','shuffleSetting','comparison-overall-content','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','perseverance','some','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toLowerCase','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','export-leaderboard-pdf-btn','createElementNS','</tbody></table></div>','move-quiz-modal','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','jspdf','includes','ฟังก์ชันเชิงเส้นและกราฟ','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','text-gray-500','student-project-leaderboard-tab','projectId','\x5cneq','td,\x20th','\x20mx-1\x20text-lg\x22></i></span>','parse','quizId','live-short-answer-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','beforeend','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','```','API\x20call\x20failed','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<button\x20id=\x22','value','ค่าคลาดเคลื่อนของการวัด','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','ที่พิมพ์ได้\x20จำนวน\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','global-quiz-search-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','release','text-blue-800','download','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','pinned-items','student-reading-area','\x20mb-2\x22>','การปัดเศษและประมาณค่า','wakeLock','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เปิดใช้งาน','\x22\x20ให้เป็นคำถามประเภท\x20\x22','correctResponse','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','text-gray-400\x20hover:text-indigo-600','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','admin-password-modal','getPage','https://corsproxy.io/?','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','#student-quiz-leaderboard-content\x20thead','.group','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','submission-status-chart','countdown-display','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','Error\x20renaming\x20quiz:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ร้อยละพื้นฐาน','querySelector','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','.edit-question-btn','blockReason','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','touchcancel','icon','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-search-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toISOString','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','quiz-bank-count'];_0x3aee=function(){return _0x438c4a;};return _0x3aee();}async function confirmQuizSettings(){const _0x111c86=_0x597754;if(!actionTargetId)return;const _0xd0f83e=doc(db,_0x111c86(0x4cb)+appId+'/public/data/quizzes',actionTargetId),_0x4b4da5={'shuffle':document['getElementById'](_0x111c86(0x7bd))['value'],'resultsDisplay':document[_0x111c86(0x596)]('modal-results-display-select')[_0x111c86(0x800)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x111c86(0x800)],'timerDuration':parseInt(document[_0x111c86(0x596)]('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x111c86(0x596)](_0x111c86(0x7e8))['value'])||0x0,'passingScore':parseInt(document[_0x111c86(0x596)](_0x111c86(0x7e8))[_0x111c86(0x800)])||0x0,'isAdaptive':document[_0x111c86(0x596)]('modal-adaptive-quiz-checkbox')[_0x111c86(0x7a4)],'loopUntilPass':document['getElementById'](_0x111c86(0x51d))['checked']};try{await updateDoc(_0xd0f83e,{'settings':_0x4b4da5}),showMessage(_0x111c86(0x5bd)),quizSettingsModal[_0x111c86(0x79b)][_0x111c86(0x635)]('hidden'),actionTargetId=null;}catch(_0x529abb){console['error']('Error\x20updating\x20quiz\x20settings:',_0x529abb),showMessage(_0x111c86(0x1a0));}}async function handleQuizStatus(_0x51dc32){const _0x412f28=_0x597754;actionTargetId=_0x51dc32;const _0x3b82e7=doc(db,_0x412f28(0x4cb)+appId+_0x412f28(0x1be),_0x51dc32);try{const _0x505b17=await getDoc(_0x3b82e7);if(_0x505b17[_0x412f28(0x484)]()){const _0x4e8910=_0x505b17[_0x412f28(0x324)](),_0x194023=_0x4e8910[_0x412f28(0x5f6)]||_0x412f28(0x164),_0x46b979=document['getElementById'](_0x412f28(0x364)),_0x29217c=document[_0x412f28(0x596)](_0x412f28(0x2e6)),_0x4c9392=document[_0x412f28(0x596)](_0x412f28(0x5e3));let _0x12937e=_0x412f28(0x7d5)+(_0x194023==='active'?_0x412f28(0x7a4):'')+_0x412f28(0x753)+(_0x194023==='inactive'?_0x412f28(0x7a4):'')+_0x412f28(0x518)+(_0x194023==='scheduled'?'checked':'')+_0x412f28(0x771);_0x46b979[_0x412f28(0x8a2)]=_0x12937e;const _0x398ca9=_0x194023===_0x412f28(0x474);_0x29217c[_0x412f28(0x79b)][_0x412f28(0x7d7)](_0x412f28(0x702),!_0x398ca9),_0x4c9392['classList'][_0x412f28(0x7d7)](_0x412f28(0x702),!_0x398ca9),document[_0x412f28(0x596)]('quiz-start-time')[_0x412f28(0x800)]=_0x4e8910[_0x412f28(0x233)]?_0x4e8910[_0x412f28(0x233)][_0x412f28(0x3e7)](0x0,0x10):'',document[_0x412f28(0x596)]('quiz-end-time')['value']=_0x4e8910[_0x412f28(0x4b3)]?_0x4e8910[_0x412f28(0x4b3)][_0x412f28(0x3e7)](0x0,0x10):'',_0x46b979['querySelectorAll'](_0x412f28(0x45f))[_0x412f28(0x450)](_0x50d3ef=>{const _0x3d89ca=_0x412f28;_0x50d3ef[_0x3d89ca(0x893)]('change',_0x8b15e5=>{const _0x4136aa=_0x3d89ca,_0x27c3b8=_0x8b15e5[_0x4136aa(0x5f0)][_0x4136aa(0x800)]===_0x4136aa(0x173);_0x29217c[_0x4136aa(0x79b)][_0x4136aa(0x7d7)](_0x4136aa(0x702),!_0x27c3b8),_0x4c9392[_0x4136aa(0x79b)][_0x4136aa(0x7d7)](_0x4136aa(0x702),!_0x27c3b8);});}),quizStatusModal[_0x412f28(0x79b)]['remove'](_0x412f28(0x702));}}catch(_0x211505){console['error'](_0x412f28(0x5e2),_0x211505),showMessage(_0x412f28(0x21c));}}async function confirmQuizStatus(){const _0x1616fc=_0x597754;if(!actionTargetId)return;const _0x50c24a=doc(db,'artifacts/'+appId+_0x1616fc(0x1be),actionTargetId),_0x582f4d=document[_0x1616fc(0x82d)](_0x1616fc(0x844));if(!_0x582f4d){showMessage(_0x1616fc(0x2fb));return;}const _0x4e1811=_0x582f4d[_0x1616fc(0x800)];let _0x12311c={};if(_0x4e1811===_0x1616fc(0x164)||_0x4e1811===_0x1616fc(0x57b))_0x12311c={'status':_0x4e1811,'startTime':null,'endTime':null};else{if(_0x4e1811===_0x1616fc(0x173)){const _0x372e8c=document[_0x1616fc(0x596)]('quiz-start-time')['value'],_0x3df1af=document[_0x1616fc(0x596)](_0x1616fc(0x213))[_0x1616fc(0x800)];if(!_0x372e8c&&!_0x3df1af){showMessage(_0x1616fc(0x4a5));return;}_0x12311c={'status':_0x1616fc(0x474),'startTime':_0x372e8c?new Date(_0x372e8c)[_0x1616fc(0x83b)]():null,'endTime':_0x3df1af?new Date(_0x3df1af)['toISOString']():null};}}try{await updateDoc(_0x50c24a,_0x12311c),showMessage(_0x1616fc(0x73e)),quizStatusModal[_0x1616fc(0x79b)][_0x1616fc(0x635)](_0x1616fc(0x702)),actionTargetId=null;}catch(_0x5f135e){console[_0x1616fc(0x5dc)](_0x1616fc(0x66c),_0x5f135e),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0xf5d3f){const _0x463464=_0x597754,_0x41c894=collection(db,_0x463464(0x4cb)+appId+_0x463464(0x4c8)+_0xf5d3f+_0x463464(0x3e9));unsubscribeStudentProfilesListener=onSnapshot(_0x41c894,_0x4cf9bb=>{const _0x3c2b53=_0x463464,_0x1ded93=_0x4cf9bb[_0x3c2b53(0x521)][_0x3c2b53(0x535)](_0x4aea21=>_0x4aea21[_0x3c2b53(0x324)]());renderLeaderboard(_0x1ded93,_0x3c2b53(0x178));},_0x101016=>{const _0x2dd2d8=_0x463464;console[_0x2dd2d8(0x5dc)]('Error\x20listening\x20for\x20student\x20profiles:',_0x101016),document[_0x2dd2d8(0x596)](_0x2dd2d8(0x178))[_0x2dd2d8(0x8a2)]=_0x2dd2d8(0x125);});}function renderLeaderboard(_0x451afd,_0x478917){const _0x1b20f2=_0x597754,_0x48d29e=document[_0x1b20f2(0x596)](_0x478917);if(!_0x451afd||_0x451afd['length']===0x0){_0x48d29e['innerHTML']=_0x1b20f2(0x7d9);return;}_0x451afd[_0x1b20f2(0x60d)]((_0x7318b3,_0x32d3d1)=>{const _0x3dc976=_0x1b20f2,_0x2ff279=(_0x32d3d1[_0x3dc976(0xf8)]||0x0)-(_0x7318b3[_0x3dc976(0xf8)]||0x0);if(_0x2ff279!==0x0)return _0x2ff279;const _0x3388a5=(_0x32d3d1[_0x3dc976(0x5dd)]?.[_0x3dc976(0x706)]||0x0)-(_0x7318b3[_0x3dc976(0x5dd)]?.['specialist']||0x0);if(_0x3388a5!==0x0)return _0x3388a5;const _0x2be87d=(_0x32d3d1[_0x3dc976(0x5dd)]?.[_0x3dc976(0x737)]||0x0)-(_0x7318b3[_0x3dc976(0x5dd)]?.[_0x3dc976(0x737)]||0x0);if(_0x2be87d!==0x0)return _0x2be87d;const _0x9ef450=(_0x32d3d1['badgesCount']?.['perfect_score']||0x0)-(_0x7318b3[_0x3dc976(0x5dd)]?.[_0x3dc976(0x35a)]||0x0);if(_0x9ef450!==0x0)return _0x9ef450;const _0x1a2a38=(_0x32d3d1[_0x3dc976(0x5dd)]?.[_0x3dc976(0x70d)]||0x0)-(_0x7318b3[_0x3dc976(0x5dd)]?.[_0x3dc976(0x70d)]||0x0);if(_0x1a2a38!==0x0)return _0x1a2a38;return _0x7318b3[_0x3dc976(0x4a3)][_0x3dc976(0x3d8)](_0x32d3d1[_0x3dc976(0x4a3)],'th');});let _0x9cf578='';_0x451afd[_0x1b20f2(0x450)]((_0x535d4f,_0x28de82)=>{const _0x211f2e=_0x1b20f2,_0x493bb4=_0x28de82+0x1,_0x5a1307=_0x535d4f[_0x211f2e(0x5dd)]||{};let _0x40653c='';const _0x175552=['specialist',_0x211f2e(0x35a),'first_try_ace',_0x211f2e(0x70d)];_0x175552[_0x211f2e(0x450)](_0x1cd3a0=>{const _0x2d1ddf=_0x211f2e;if(_0x5a1307[_0x1cd3a0]>0x0){const _0x17e525=Object[_0x2d1ddf(0x3b1)](BADGES)['find'](_0x4e59a7=>_0x4e59a7['id']===_0x1cd3a0);_0x17e525&&(_0x1cd3a0===_0x2d1ddf(0x706)?_0x40653c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x17e525[_0x2d1ddf(0x452)]+_0x2d1ddf(0x746)+_0x17e525[_0x2d1ddf(0x833)]+_0x2d1ddf(0x30d):_0x40653c+=_0x2d1ddf(0x428)+_0x17e525[_0x2d1ddf(0x452)]+'\x20('+_0x5a1307[_0x1cd3a0]+_0x2d1ddf(0x5b8)+_0x17e525['icon']+_0x2d1ddf(0x847)+_0x5a1307[_0x1cd3a0]+_0x2d1ddf(0x117));}}),_0x9cf578+=_0x211f2e(0x369)+_0x493bb4+_0x211f2e(0x216)+_0x535d4f[_0x211f2e(0x4a3)]+_0x211f2e(0x2a9)+(_0x535d4f[_0x211f2e(0xf8)]||0x0)+_0x211f2e(0x216)+(_0x40653c||'-')+_0x211f2e(0x287);}),_0x48d29e['innerHTML']=_0x9cf578;}function displayLoopScreen(_0x5f46ae,_0x360dc9,_0x32a77c){const _0x44e023=_0x597754;let _0x244726='';_0x32a77c!==_0x44e023(0x135)&&(_0x244726=_0x44e023(0x267)+_0x5f46ae+_0x44e023(0x4c5)+_0x360dc9+_0x44e023(0x6f0));const _0x2c70e1=_0x44e023(0x4cc)+_0x244726+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x44e023(0x8a2)]=_0x2c70e1,studentResultArea[_0x44e023(0x79b)][_0x44e023(0x76b)]('hidden'),studentQuizArea[_0x44e023(0x79b)]['add'](_0x44e023(0x702)),document[_0x44e023(0x596)](_0x44e023(0x4fa))[_0x44e023(0x893)]('click',()=>{const _0x296b29=_0x44e023;studentResultArea[_0x296b29(0x79b)][_0x296b29(0x635)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4afd9b,_0x5dec37,_0xb68103){const _0x5aecb8=_0x597754,_0x58f335=document[_0x5aecb8(0x596)](_0xb68103),_0x25f670=_0xb68103===_0x5aecb8(0x469),_0xe8cc01=_0x5dec37[_0x5aecb8(0x2e8)]['length'],_0x4d2030=document[_0x5aecb8(0x596)](_0xb68103)[_0x5aecb8(0x785)](_0x5aecb8(0x15b));if(_0x4d2030&&!_0x25f670){const _0x49b3e6=_0x4d2030[_0x5aecb8(0x82d)](_0x5aecb8(0x747));_0x49b3e6[_0x5aecb8(0x8a2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x4afd9b||_0x4afd9b[_0x5aecb8(0x2c4)]===0x0){_0x58f335[_0x5aecb8(0x8a2)]='<tr><td\x20colspan=\x22'+(_0x25f670?0x6:0x8)+_0x5aecb8(0x2c6);return;}const _0x17fbcf=[..._0x4afd9b];_0x17fbcf[_0x5aecb8(0x60d)]((_0x53cc4c,_0xb2e779)=>{const _0x3cead4=_0x5aecb8;let _0x318dbb,_0x327d6e;switch(quizLeaderboardSortBy){case _0x3cead4(0x4a3):_0x318dbb=_0x53cc4c[_0x3cead4(0x4a3)]||'',_0x327d6e=_0xb2e779[_0x3cead4(0x4a3)]||'';return quizLeaderboardSortOrder==='asc'?_0x318dbb['localeCompare'](_0x327d6e,'th'):_0x327d6e[_0x3cead4(0x3d8)](_0x318dbb,'th');case _0x3cead4(0x9d):_0x318dbb=_0x53cc4c[_0x3cead4(0x9d)]||0x0,_0x327d6e=_0xb2e779['points']||0x0;break;case _0x3cead4(0xbe):_0x318dbb=_0x53cc4c[_0x3cead4(0xbe)]?.[_0x3cead4(0x2c4)]||0x1,_0x327d6e=_0xb2e779[_0x3cead4(0xbe)]?.['length']||0x1;break;case _0x3cead4(0x6e7):_0x318dbb=new Date(_0x53cc4c[_0x3cead4(0x6e7)]),_0x327d6e=new Date(_0xb2e779['latestSubmittedAt']);break;case'bestScore':default:_0x318dbb=_0x53cc4c[_0x3cead4(0xb8)],_0x327d6e=_0xb2e779[_0x3cead4(0xb8)];break;}if(_0x318dbb<_0x327d6e)return quizLeaderboardSortOrder===_0x3cead4(0x4ee)?-0x1:0x1;if(_0x318dbb>_0x327d6e)return quizLeaderboardSortOrder===_0x3cead4(0x4ee)?0x1:-0x1;return 0x0;});const _0x3bd440=_0x5dec37[_0x5aecb8(0x600)]===!![],_0x1cf2ec=_0x5dec37[_0x5aecb8(0x417)]?.['passingScore']??-0x1;let _0x1f748d='';_0x17fbcf[_0x5aecb8(0x450)]((_0xdd8fbf,_0x44f9a0)=>{const _0x11758f=_0x5aecb8,_0x4308dc=_0x44f9a0+0x1;let _0x11aaba=_0x11758f(0x89a);if(_0x3bd440||_0x1cf2ec!==-0x1){let _0x1eb170=_0x3bd440?_0xdd8fbf['bestScore']===_0xe8cc01:_0xdd8fbf[_0x11758f(0xb8)]>=_0x1cf2ec;const _0x515ba7=_0x1eb170?_0x11758f(0x43d):_0x11758f(0x6fc),_0x34a940=_0x1eb170?_0x11758f(0x15f):'ไม่ผ่าน';_0x11aaba=_0x11758f(0x138)+_0x515ba7+'\x22>'+_0x34a940+_0x11758f(0x53f);}const _0x53e115=_0xdd8fbf['attempts'][_0xdd8fbf[_0x11758f(0xbe)]['length']-0x1],_0x467ebb=(_0x53e115['badges']||[])[_0x11758f(0x535)](_0xb8fde0=>{const _0x13cc18=_0x11758f,_0x1ef015=Object[_0x13cc18(0x3b1)](BADGES)['find'](_0x22debb=>_0x22debb['id']===_0xb8fde0);return _0x1ef015?_0x13cc18(0x2f7)+_0x1ef015[_0x13cc18(0x452)]+_0x13cc18(0x224)+_0x1ef015['icon']+_0x13cc18(0x7f5):'';})[_0x11758f(0x243)]('');_0x1f748d+=_0x11758f(0x206)+_0x4308dc+_0x11758f(0x1fa)+_0xdd8fbf['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0xdd8fbf[_0x11758f(0xb8)]+'\x20/\x20'+_0xe8cc01+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11aaba+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0xdd8fbf[_0x11758f(0x9d)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x25f670?'':_0x11758f(0x837)+(_0xdd8fbf[_0x11758f(0xbe)]?.['length']||0x1)+'</td>')+_0x11758f(0x39c)+(_0x25f670?'':_0x11758f(0x49d)+new Date(_0xdd8fbf[_0x11758f(0x6e7)])['toLocaleString'](_0x11758f(0x738))+_0x11758f(0x3b0))+_0x11758f(0xe2)+(_0x467ebb||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x58f335['innerHTML']=_0x1f748d,_0x4d2030&&!_0x25f670&&_0x4d2030[_0x5aecb8(0x5f5)](_0x5aecb8(0x615))[_0x5aecb8(0x450)](_0x4a9eae=>{const _0x182ae0=_0x5aecb8,_0x55fe1b=_0x4a9eae[_0x182ae0(0x82d)]('.sort-indicator');if(_0x55fe1b)_0x55fe1b[_0x182ae0(0x76b)]();_0x4a9eae[_0x182ae0(0x4af)]['sort']===quizLeaderboardSortBy&&(_0x4a9eae['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0xb414a5){const _0x431b3e=_0x597754;if(!currentQuizData||!currentQuizData['id']||!_0xb414a5){showMessage(_0x431b3e(0x67a));return;}showConfirmation(_0x431b3e(0x47e)+_0xb414a5+_0x431b3e(0x379),async()=>{const _0x29f0e0=_0x431b3e,_0x3d7ca4=currentQuizData['id'],_0x515c94=doc(db,'artifacts/'+appId+_0x29f0e0(0x33f)+_0x3d7ca4+_0x29f0e0(0x2a8),_0xb414a5);try{await deleteDoc(_0x515c94),showMessage('ลบผลสอบของ\x20'+_0xb414a5+_0x29f0e0(0x58e));}catch(_0x5819f1){console['error'](_0x29f0e0(0x6ef),_0x5819f1),showMessage(_0x29f0e0(0x463));}});}async function handleLoadQuiz(){const _0x56a128=_0x597754,_0x23085e=document['getElementById']('quiz-id-input'),_0x1ac59c=_0x23085e[_0x56a128(0x800)][_0x56a128(0xb9)]();if(!_0x1ac59c){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x56a128(0x64a)]=!![],loadQuizBtn[_0x56a128(0x8a2)]=_0x56a128(0x5ec);try{const _0x18b64c=doc(db,'artifacts/'+appId+_0x56a128(0x1be),_0x1ac59c),_0x1095ac=await getDoc(_0x18b64c);if(!_0x1095ac[_0x56a128(0x484)]()){showMessage(_0x56a128(0x574));return;}currentQuizData={'id':_0x1095ac['id'],..._0x1095ac['data']()};const _0x507a7c=currentQuizData[_0x56a128(0x5f6)]||_0x56a128(0x164),_0x5ee07c=new Date();if(_0x507a7c===_0x56a128(0x57b)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x507a7c===_0x56a128(0x474)){const _0x15c4e2=currentQuizData['startTime']?new Date(currentQuizData[_0x56a128(0x233)]):null,_0x106b74=currentQuizData[_0x56a128(0x4b3)]?new Date(currentQuizData[_0x56a128(0x4b3)]):null;if(_0x15c4e2&&_0x5ee07c<_0x15c4e2){showMessage(_0x56a128(0x437)+_0x15c4e2[_0x56a128(0x3c9)](_0x56a128(0x738),{'hour12':![]}));return;}if(_0x106b74&&_0x5ee07c>_0x106b74){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x1fcf6f=currentQuizData['projectId'];currentProjectId=_0x1fcf6f;const _0x55d47f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1fcf6f),_0x451777=await getDoc(_0x55d47f);if(!_0x451777[_0x56a128(0x484)]()){showMessage(_0x56a128(0x40b));return;}const _0x1e80f8=_0x451777['data']();currentStudentProjectData=_0x1e80f8,displayStudentNameSelector(_0x1e80f8[_0x56a128(0x3ae)],currentQuizData[_0x56a128(0x231)]);}catch(_0x588878){console[_0x56a128(0x5dc)](_0x56a128(0x1a3),_0x588878),showMessage(_0x56a128(0x431));}finally{loadQuizBtn[_0x56a128(0x64a)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0xeeaab9=_0x597754,_0x13a4e8=document[_0xeeaab9(0x596)](_0xeeaab9(0x41e)),_0x477aa2=document[_0xeeaab9(0x596)](_0xeeaab9(0x370)),_0x43b4dc=document[_0xeeaab9(0x596)](_0xeeaab9(0x306)),_0x569b9c=_0x13a4e8['value']['trim'](),_0x159f88=_0x477aa2[_0xeeaab9(0x800)][_0xeeaab9(0xb9)]();if(!_0x569b9c||!_0x159f88){showMessage(_0xeeaab9(0x2c3));return;}_0x43b4dc['disabled']=!![],_0x43b4dc[_0xeeaab9(0x8a2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x108fa8=collection(db,_0xeeaab9(0x4cb)+appId+_0xeeaab9(0x5fe)),_0x5ac6b4=query(_0x108fa8,where(_0xeeaab9(0x455),'==',_0x569b9c),where(_0xeeaab9(0x5f6),'==',_0xeeaab9(0x75f))),_0x9bca19=await getDocs(_0x5ac6b4);if(_0x9bca19[_0xeeaab9(0x581)]){showMessage(_0xeeaab9(0x456));return;}const _0x208ece=_0x9bca19[_0xeeaab9(0x521)][0x0],_0x1d6d3a=_0x208ece[_0xeeaab9(0x324)]();currentLiveGameId=_0x208ece['id'];const _0x11eb2e=_0x1d6d3a['quizId'],_0x808a60=doc(db,_0xeeaab9(0x4cb)+appId+_0xeeaab9(0x1be),_0x11eb2e),_0x41b962=await getDoc(_0x808a60);if(!_0x41b962[_0xeeaab9(0x484)]()){showMessage(_0xeeaab9(0x84b));return;}currentQuizData={'id':_0x41b962['id'],..._0x41b962[_0xeeaab9(0x324)]()};if(_0x1d6d3a[_0xeeaab9(0x23d)]&&_0x1d6d3a['players'][_0x159f88]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x13cba3={};_0x13cba3[_0xeeaab9(0x7a9)+_0x159f88]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0xeeaab9(0x164)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x13cba3),currentStudentName=_0x159f88,listenForLiveGameUpdates();}catch(_0x437cbb){console[_0xeeaab9(0x5dc)](_0xeeaab9(0x249),_0x437cbb),showMessage(_0xeeaab9(0x6ba));}finally{_0x43b4dc[_0xeeaab9(0x64a)]=![],_0x43b4dc[_0xeeaab9(0x8a2)]=_0xeeaab9(0x58a);}}function displayStudentNameSelector(_0x4fff78,_0x241a29){const _0x4b137c=_0x597754,_0x5b906b=document[_0x4b137c(0x596)](_0x4b137c(0x399));document[_0x4b137c(0x596)]('student-quiz-topic')[_0x4b137c(0x195)]=_0x4b137c(0x736)+_0x241a29,!_0x4fff78||_0x4fff78[_0x4b137c(0x2c4)]===0x0?(_0x5b906b[_0x4b137c(0x8a2)]=_0x4b137c(0x275),startQuizBtn['disabled']=!![]):(_0x5b906b[_0x4b137c(0x8a2)]=_0x4b137c(0x191),_0x4fff78[_0x4b137c(0x450)](_0x2b82da=>{const _0x511046=_0x4b137c,_0x1f9712=document[_0x511046(0x429)](_0x511046(0x14b));_0x1f9712['value']=_0x2b82da,_0x1f9712[_0x511046(0x195)]=_0x2b82da,_0x5b906b['appendChild'](_0x1f9712);}),startQuizBtn['disabled']=![]),studentInitialView[_0x4b137c(0x79b)][_0x4b137c(0x635)]('hidden'),studentNameSelectionView[_0x4b137c(0x79b)][_0x4b137c(0x76b)]('hidden');}function shuffleArray(_0xfdb643){const _0x4ce370=_0x597754;for(let _0x186e39=_0xfdb643[_0x4ce370(0x2c4)]-0x1;_0x186e39>0x0;_0x186e39--){const _0x5e41b9=Math[_0x4ce370(0x718)](Math[_0x4ce370(0x38d)]()*(_0x186e39+0x1));[_0xfdb643[_0x186e39],_0xfdb643[_0x5e41b9]]=[_0xfdb643[_0x5e41b9],_0xfdb643[_0x186e39]];}}function getShuffledQuiz(_0x46bc75){const _0x356e90=_0x597754;let _0x468a04=JSON['parse'](JSON[_0x356e90(0x14a)](_0x46bc75));const _0x42c166=_0x468a04[_0x356e90(0x417)]?.[_0x356e90(0x1dd)]||_0x356e90(0x73d);if(_0x42c166===_0x356e90(0x73d))return _0x468a04;return(_0x42c166===_0x356e90(0x3a5)||_0x42c166===_0x356e90(0x793))&&shuffleArray(_0x468a04[_0x356e90(0x2e8)]),(_0x42c166==='choices_only'||_0x42c166===_0x356e90(0x793))&&_0x468a04['questions'][_0x356e90(0x450)](_0x950041=>{const _0xbeb9f9=_0x356e90,_0x22bc5b=_0x950041[_0xbeb9f9(0x5cd)]||_0x468a04[_0xbeb9f9(0x5ca)];if(_0x950041[_0xbeb9f9(0x730)]){let _0x123c76=_0x950041[_0xbeb9f9(0x730)][_0xbeb9f9(0x535)]((_0x1fd506,_0x562ddc)=>({'text':_0x1fd506,'isCorrect':_0x562ddc===_0x950041[_0xbeb9f9(0x348)]}));shuffleArray(_0x123c76),_0x950041[_0xbeb9f9(0x730)]=_0x123c76[_0xbeb9f9(0x535)](_0x5084ef=>_0x5084ef[_0xbeb9f9(0xff)]),_0x950041[_0xbeb9f9(0x348)]=_0x123c76['findIndex'](_0x54ae06=>_0x54ae06['isCorrect']);}_0x22bc5b==='matching_item'&&_0x950041[_0xbeb9f9(0x2ea)]&&shuffleArray(_0x950041['allResponses']);}),_0x468a04;}function displayQuizForStudent(_0x7b7b8a){const _0x4701e2=_0x597754;studentQuizArea['classList'][_0x4701e2(0x76b)](_0x4701e2(0x702)),currentDisplayedQuiz=getShuffledQuiz(_0x7b7b8a);currentMode!==_0x4701e2(0x44f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4701e2(0x893)](_0x4701e2(0x3ba),handleFullscreenChange),document[_0x4701e2(0x893)](_0x4701e2(0x4ea),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x4701e2(0x7c2),resetDimTimer),window[_0x4701e2(0x893)](_0x4701e2(0x210),resetDimTimer),window[_0x4701e2(0x893)](_0x4701e2(0x529),resetDimTimer),window[_0x4701e2(0x893)](_0x4701e2(0x4d3),resetDimTimer),resetDimTimer());const _0x1f5746=currentDisplayedQuiz[_0x4701e2(0x417)]?.['timerMode']||_0x4701e2(0x73d);if(_0x1f5746===_0x4701e2(0x2fa))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4701e2(0x417)][_0x4701e2(0x6d4)]);else _0x1f5746===_0x4701e2(0x247)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x329ed7=_0x597754;let _0xf89ebb=_0x329ed7(0x235)+currentDisplayedQuiz['topic']+_0x329ed7(0xdb)+(currentMode===_0x329ed7(0x44f)?_0x329ed7(0x56e):'')+_0x329ed7(0x12e);currentDisplayedQuiz[_0x329ed7(0x2e8)][_0x329ed7(0x450)]((_0x576864,_0x2c494d)=>{const _0x1bd57f=_0x329ed7,_0x5ef6ed=_0x576864['questionType']||currentDisplayedQuiz['quizType'];_0xf89ebb+=_0x1bd57f(0x16d);_0x5ef6ed===_0x1bd57f(0x1f0)?_0xf89ebb+=_0x1bd57f(0x322)+(_0x2c494d+0x1)+'.\x20'+_0x576864[_0x1bd57f(0x607)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x2c494d+_0x1bd57f(0x53b)+_0x576864[_0x1bd57f(0x2ea)][_0x1bd57f(0x535)](_0x5a374=>_0x1bd57f(0x238)+_0x5a374+'\x22>'+_0x5a374+'</option>')[_0x1bd57f(0x243)]('')+_0x1bd57f(0x8a5):(_0xf89ebb+=_0x1bd57f(0x22d)+(_0x2c494d+0x1)+'.\x20'+(_0x576864[_0x1bd57f(0x723)]||_0x576864[_0x1bd57f(0x465)])+_0x1bd57f(0x3f8),_0x576864[_0x1bd57f(0x285)]&&(_0xf89ebb+=_0x1bd57f(0x220)+_0x576864['imageCode']+_0x1bd57f(0x42a)));_0xf89ebb+=_0x1bd57f(0x7ab);switch(_0x5ef6ed){case _0x1bd57f(0x3df):_0xf89ebb+=_0x1bd57f(0x28f)+_0x2c494d+_0x1bd57f(0x408);break;case'true_false':_0xf89ebb+=_0x1bd57f(0x274)+_0x2c494d+'_opt0\x22\x20name=\x22question'+_0x2c494d+_0x1bd57f(0x3e3)+_0x2c494d+_0x1bd57f(0x78e),_0xf89ebb+=_0x1bd57f(0x274)+_0x2c494d+_0x1bd57f(0x519)+_0x2c494d+_0x1bd57f(0x264)+_0x2c494d+_0x1bd57f(0x6ce);break;case'matching_item':break;case _0x1bd57f(0x2e1):case _0x1bd57f(0x666):default:_0xf89ebb+=_0x576864[_0x1bd57f(0x730)][_0x1bd57f(0x535)]((_0x195872,_0x29c3fd)=>_0x1bd57f(0x1fc)+_0x2c494d+_0x1bd57f(0x630)+_0x29c3fd+_0x1bd57f(0x485)+_0x2c494d+_0x1bd57f(0x583)+_0x29c3fd+_0x1bd57f(0x168)+_0x2c494d+_0x1bd57f(0x630)+_0x29c3fd+'\x22>'+_0x195872+_0x1bd57f(0x509))[_0x1bd57f(0x243)]('');break;}_0xf89ebb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xf89ebb+=_0x329ed7(0x885),_0xf89ebb+=_0x329ed7(0x441),studentQuizArea[_0x329ed7(0x8a2)]=_0xf89ebb;if(currentMode===_0x329ed7(0x44f)){const _0x4d610b=document[_0x329ed7(0x596)]('cancel-test-btn');if(_0x4d610b)_0x4d610b[_0x329ed7(0x893)](_0x329ed7(0x30c),cancelAdminTest);}document[_0x329ed7(0x596)]('quiz-form')[_0x329ed7(0x893)]('submit',handleSubmitQuiz);if(window[_0x329ed7(0x691)])window['MathJax'][_0x329ed7(0xa6)]([studentQuizArea]);}async function handleSubmitQuiz(_0x25f676){const _0x411c95=_0x597754;if(_0x25f676)_0x25f676[_0x411c95(0x24e)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3760de=document[_0x411c95(0x596)](_0x411c95(0x1d0));if(!_0x3760de)return;const _0xe7c67f=_0x3760de[_0x411c95(0x82d)](_0x411c95(0x295)),_0x1c290e=currentDisplayedQuiz[_0x411c95(0x2e8)][_0x411c95(0x7de)](_0x316146=>_0x316146[_0x411c95(0x5cd)]===_0x411c95(0x3df));_0xe7c67f&&(_0xe7c67f['disabled']=!![],_0x1c290e?_0xe7c67f['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0xe7c67f[_0x411c95(0x8a2)]=_0x411c95(0x54a));const _0x5438b8=new FormData(_0x3760de),_0x184cc6=currentDisplayedQuiz['questions'][_0x411c95(0x535)]((_0x3b9225,_0x443ce2)=>{const _0x28b596=_0x411c95,_0x293f79=_0x3b9225[_0x28b596(0x5cd)]||currentDisplayedQuiz[_0x28b596(0x5ca)],_0x43ca55=_0x5438b8[_0x28b596(0x31c)](_0x28b596(0x725)+_0x443ce2);if(_0x43ca55!==null&&_0x43ca55!==undefined){if(_0x293f79===_0x28b596(0x666)||_0x293f79===_0x28b596(0x2e1))return parseInt(_0x43ca55);return _0x43ca55;}return null;}),_0x3fb62b=currentQuizData['id'],_0xf7c6f4=doc(db,_0x411c95(0x4cb)+appId+_0x411c95(0x33f)+_0x3fb62b+'/submissions',currentStudentName),_0x42fee2=await getDoc(_0xf7c6f4),_0x393cc3=_0x42fee2[_0x411c95(0x484)]()?_0x42fee2[_0x411c95(0x324)]():{},_0x47c818=_0x393cc3['attempts']||[];await processAndSubmitAnswers(_0x184cc6,_0x47c818);}async function gradeShortAnswerWithAI(_0xc83850,_0x179ed7){const _0x2f2e04=_0x597754;if(!_0xc83850||!_0x179ed7)return![];try{const _0x317fd0='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0xc83850+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x179ed7+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x4180d8={'contents':[{'role':'user','parts':[{'text':_0x317fd0}]}]},_0xc9f1b5=_0x2f2e04(0x88b),_0x3818ce=_0x2f2e04(0x85d)+_0xc9f1b5,_0x3f0587=await fetch(_0x3818ce,{'method':_0x2f2e04(0x4db),'headers':{'Content-Type':_0x2f2e04(0x4ed)},'body':JSON[_0x2f2e04(0x14a)](_0x4180d8)});if(!_0x3f0587['ok'])throw new Error(_0x2f2e04(0x7fd));const _0x9c6c3f=await _0x3f0587['json'](),_0x5e0638=_0x9c6c3f[_0x2f2e04(0x17e)][0x0]['content'][_0x2f2e04(0x852)][0x0][_0x2f2e04(0xff)][_0x2f2e04(0xb9)]()[_0x2f2e04(0x7e1)]();return _0x5e0638===_0x2f2e04(0xb5);}catch(_0x176777){return console['error']('AI\x20grading\x20failed:',_0x176777),![];}}async function processAndSubmitAnswers(_0x25d483,_0x5c8946){const _0xf2a7e5=_0x597754;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0xf2a7e5(0x3ba),handleFullscreenChange),document[_0xf2a7e5(0x470)](_0xf2a7e5(0x4ea),handleVisibilityChange);let _0x3f2c71=0x0,_0xfe4e25=0x0,_0x2bbd49=[];const _0x3f7d9f=[],_0x3775db=currentDisplayedQuiz[_0xf2a7e5(0x2e8)][_0xf2a7e5(0x2c4)];let _0x3b00e0=0x0;const _0x339d13=currentDisplayedQuiz[_0xf2a7e5(0x2e8)];for(let _0xb9c584=0x0;_0xb9c584<_0x339d13['length'];_0xb9c584++){const _0x3a71b3=_0x339d13[_0xb9c584],_0x41b1ab=_0x25d483[_0xb9c584],_0x1d43d6=_0x3a71b3[_0xf2a7e5(0x5cd)]||currentDisplayedQuiz[_0xf2a7e5(0x5ca)];let _0x321122=![];if(_0x41b1ab!==null&&_0x41b1ab!=='')switch(_0x1d43d6){case _0xf2a7e5(0x1f0):_0x321122=_0x41b1ab===_0x3a71b3['correctResponse'];break;case _0xf2a7e5(0x6ae):const _0x2f8c4d=_0x41b1ab===!![]||_0x41b1ab==='true';_0x321122=_0x2f8c4d===_0x3a71b3['correctAnswer'];break;case _0xf2a7e5(0x2e1):case _0xf2a7e5(0x666):default:_0x321122=Number(_0x41b1ab)===_0x3a71b3[_0xf2a7e5(0x348)];break;case _0xf2a7e5(0x3df):_0x321122=await gradeShortAnswer(_0x41b1ab,_0x3a71b3);break;}_0x321122?(_0x3f2c71++,_0x3b00e0++,_0x3b00e0===0x3&&(_0x2bbd49[_0xf2a7e5(0x1c9)](BADGES[_0xf2a7e5(0x196)]['id']),_0x3b00e0=0x0)):_0x3b00e0=0x0;let _0x2b7c50=null;_0x3a71b3[_0xf2a7e5(0x730)]&&_0x41b1ab!==null&&(_0x2b7c50=_0x3a71b3[_0xf2a7e5(0x730)][_0x41b1ab]),_0x3f7d9f[_0xf2a7e5(0x1c9)]({'questionId':_0x3a71b3['id'],'answer':_0x41b1ab,'answerText':_0x2b7c50,'isCorrect':_0x321122,'originalQuestionText':_0x3a71b3[_0xf2a7e5(0x607)]||_0x3a71b3[_0xf2a7e5(0x465)]});}_0xfe4e25=_0x3f2c71*0xa;_0x3f2c71===_0x3775db&&_0x3775db>0x0&&!currentDisplayedQuiz[_0xf2a7e5(0x600)]&&(_0xfe4e25+=0x32,_0x2bbd49[_0xf2a7e5(0x1c9)](BADGES['PERFECT_SCORE']['id']));const _0x472988=currentDisplayedQuiz['settings']?.[_0xf2a7e5(0x253)]??Math[_0xf2a7e5(0x718)](_0x3775db/0x2),_0x5e86ed=currentDisplayedQuiz[_0xf2a7e5(0x417)]?.[_0xf2a7e5(0x644)];if(_0x5e86ed===_0xf2a7e5(0x2fa)&&quizStartTime){const _0x1cdcce=(new Date()-quizStartTime)/0x3e8,_0x100925=currentDisplayedQuiz['settings'][_0xf2a7e5(0x6d4)]*0x3c;_0x3f2c71>=_0x472988&&_0x1cdcce<_0x100925/0x2&&(_0xfe4e25+=0x14,_0x2bbd49[_0xf2a7e5(0x1c9)](BADGES[_0xf2a7e5(0x425)]['id']));}_0x5c8946['length']===0x0&&_0x3f2c71===_0x3775db&&_0x3775db>0x0&&_0x2bbd49['push'](BADGES[_0xf2a7e5(0x254)]['id']);if(_0x5c8946[_0xf2a7e5(0x2c4)]>0x0){const _0x284ef3=_0x5c8946[0x0]['score'];if(_0x284ef3<_0x472988&&_0x3f2c71>=_0x472988){const _0x28ea23=_0x5c8946['some'](_0x595d83=>(_0x595d83[_0xf2a7e5(0x67e)]||[])[_0xf2a7e5(0x7ec)](BADGES[_0xf2a7e5(0x37e)]['id']));!_0x28ea23&&_0x2bbd49[_0xf2a7e5(0x1c9)](BADGES[_0xf2a7e5(0x37e)]['id']);}}_0x5c8946[_0xf2a7e5(0x2c4)]===0x4&&_0x2bbd49[_0xf2a7e5(0x1c9)](BADGES['PERSEVERANCE']['id']);const _0x351724=currentDisplayedQuiz[_0xf2a7e5(0x417)][_0xf2a7e5(0x22c)];if(currentMode===_0xf2a7e5(0x44f)){handleResultDisplay(_0x351724,_0x3f2c71,_0xfe4e25,_0x2bbd49,_0x3f7d9f,_0x3775db);return;}const _0x56ceac=currentQuizData['id'],_0x3349e9=doc(db,'artifacts/'+appId+_0xf2a7e5(0x33f)+_0x56ceac+_0xf2a7e5(0x2a8),currentStudentName);try{const _0x40c033=[..._0x5c8946],_0xae211f={'score':_0x3f2c71,'points':_0xfe4e25,'badges':_0x2bbd49,'submittedAt':new Date()[_0xf2a7e5(0x83b)](),'answers':_0x3f7d9f};_0x40c033['push'](_0xae211f);const _0x16f05e=_0x40c033[0x0][_0xf2a7e5(0x869)],_0x38604a=Math[_0xf2a7e5(0x665)](..._0x40c033[_0xf2a7e5(0x535)](_0x2a4121=>_0x2a4121[_0xf2a7e5(0x869)])),_0xdddbd3=_0x3f2c71,_0x3e4df6=_0xae211f[_0xf2a7e5(0xad)];await setDoc(_0x3349e9,{'studentName':currentStudentName,'totalQuestions':_0x3775db,'attempts':_0x40c033,'firstScore':_0x16f05e,'bestScore':_0x38604a,'latestScore':_0xdddbd3,'points':_0xfe4e25,'latestSubmittedAt':_0x3e4df6},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xf2a7e5(0x7f2)],currentStudentName),handleResultDisplay(_0x351724,_0x3f2c71,_0xfe4e25,_0x2bbd49,_0x3f7d9f,_0x3775db);}catch(_0x1eef90){console[_0xf2a7e5(0x5dc)]('Error\x20saving\x20submission:',_0x1eef90),showMessage(_0xf2a7e5(0x10b));}}async function updateStudentProfile(_0x48c391,_0x4218fa){const _0x15f205=_0x597754,_0x3a5e09=doc(db,_0x15f205(0x4cb)+appId+_0x15f205(0x4c8)+_0x48c391+'/studentProfiles',_0x4218fa);try{const _0x2cce1c=query(collection(db,_0x15f205(0x4cb)+appId+_0x15f205(0x1be)),where(_0x15f205(0x7f2),'==',_0x48c391)),_0x3c6404=await getDocs(_0x2cce1c),_0x1582b8=new Map(_0x3c6404[_0x15f205(0x521)][_0x15f205(0x535)](_0x55c80e=>[_0x55c80e['id'],_0x55c80e[_0x15f205(0x324)]()])),_0x3f35c3=Array[_0x15f205(0x483)](_0x1582b8[_0x15f205(0x55b)]());await runTransaction(db,async _0x491bc7=>{const _0x31e1cd=_0x15f205;let _0x523bc6=0x0;const _0x585d59={};let _0x4b47ed=!![],_0x2de923=0x0,_0xc42c4=0x0;for(const _0x5022d6 of _0x3f35c3){const _0x37deea=_0x1582b8['get'](_0x5022d6),_0x46ad92=doc(db,_0x31e1cd(0x4cb)+appId+_0x31e1cd(0x33f)+_0x5022d6+_0x31e1cd(0x2a8),_0x4218fa),_0x456e21=await _0x491bc7[_0x31e1cd(0x31c)](_0x46ad92);if(_0x456e21['exists']()){const _0x2eeb9c=_0x456e21[_0x31e1cd(0x324)](),_0x47b5f7=_0x2eeb9c[_0x31e1cd(0xbe)]||[];if(_0x47b5f7[_0x31e1cd(0x2c4)]>0x0){const _0x4cbdc3=_0x47b5f7[_0x31e1cd(0x44a)]((_0x5dcdd8,_0x360c8c)=>{const _0x4a96bb=_0x31e1cd;if(_0x360c8c[_0x4a96bb(0x869)]>_0x5dcdd8['score'])return _0x360c8c;if(_0x360c8c[_0x4a96bb(0x869)]===_0x5dcdd8[_0x4a96bb(0x869)])return(_0x360c8c[_0x4a96bb(0x9d)]||0x0)>(_0x5dcdd8[_0x4a96bb(0x9d)]||0x0)?_0x360c8c:_0x5dcdd8;return _0x5dcdd8;},{'score':-0x1,'points':-0x1});_0x4cbdc3[_0x31e1cd(0x869)]>-0x1&&(_0x523bc6+=_0x4cbdc3[_0x31e1cd(0x9d)]||0x0,(_0x4cbdc3[_0x31e1cd(0x67e)]||[])[_0x31e1cd(0x450)](_0x569692=>{_0x585d59[_0x569692]=(_0x585d59[_0x569692]||0x0)+0x1;}));}}if(_0x37deea['topic']!==_0x31e1cd(0x106)){_0xc42c4++;if(_0x456e21[_0x31e1cd(0x484)]()){_0x2de923++;const _0x266adf=_0x456e21[_0x31e1cd(0x324)]();_0x266adf[_0x31e1cd(0xb8)]!==_0x266adf[_0x31e1cd(0x5a9)]&&(_0x4b47ed=![]);}else _0x4b47ed=![];}}_0xc42c4>0x0&&_0x2de923===_0xc42c4&&_0x4b47ed?_0x585d59[_0x31e1cd(0x706)]=0x1:_0x585d59[_0x31e1cd(0x706)]=0x0,_0x491bc7['set'](_0x3a5e09,{'studentName':_0x4218fa,'totalPoints':_0x523bc6,'unlockedBadges':Object[_0x31e1cd(0x55b)](_0x585d59)[_0x31e1cd(0x534)](_0xcdd455=>_0x585d59[_0xcdd455]>0x0),'badgesCount':_0x585d59},{'merge':!![]});});}catch(_0x5b0041){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x5b0041),showMessage(_0x15f205(0x43c));}}function startAdminTest(){const _0x1e35a9=_0x597754;if(!currentQuizData){showMessage(_0x1e35a9(0x2f9));return;}let _0x23b923=JSON['parse'](JSON[_0x1e35a9(0x14a)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x1e35a9(0x1e8),adminView['classList']['add']('hidden'),studentView['classList'][_0x1e35a9(0x76b)](_0x1e35a9(0x702)),studentInitialView[_0x1e35a9(0x79b)]['add']('hidden'),studentNameSelectionView['classList'][_0x1e35a9(0x635)](_0x1e35a9(0x702)),studentResultArea[_0x1e35a9(0x79b)][_0x1e35a9(0x635)](_0x1e35a9(0x702)),studentQuizArea[_0x1e35a9(0x79b)][_0x1e35a9(0x76b)](_0x1e35a9(0x702)),quizStartTime=new Date(),displayQuizForStudent(_0x23b923);}function handleResultDisplay(_0x44e0df,_0x2e51ad,_0x1792a2,_0x2f7bbc,_0x1af6b5,_0x23eb5b){const _0x30d946=_0x597754;if(_0x44e0df===_0x30d946(0xcd)){displaySubmissionConfirmation();return;}const _0x257d76=currentDisplayedQuiz[_0x30d946(0x417)]?.['passingScore']??Math[_0x30d946(0x718)](_0x23eb5b/0x2),_0x5271f1=currentDisplayedQuiz[_0x30d946(0x417)]?.[_0x30d946(0x40e)]??![],_0x19fad1=currentDisplayedQuiz[_0x30d946(0x417)]?.['loopUntilPass']===!![],_0x208587=_0x2e51ad<_0x257d76,_0x110e20=_0x44e0df===_0x30d946(0x4f3)||_0x44e0df==='perfect_score_status';if(_0x19fad1&&_0x208587&&!_0x110e20){_0x44e0df===_0x30d946(0x435)?displayResultsWithAnswers(_0x2e51ad,_0x1792a2,_0x2f7bbc,_0x1af6b5,_0x23eb5b,!![]):displayLoopScreen(_0x2e51ad,_0x23eb5b,_0x44e0df);return;}if(_0x5271f1&&_0x208587){startAdaptiveFlow(_0x1af6b5,_0x2e51ad,_0x23eb5b);return;}switch(_0x44e0df){case _0x30d946(0x435):displayResultsWithAnswers(_0x2e51ad,_0x1792a2,_0x2f7bbc,_0x1af6b5,_0x23eb5b);break;case _0x30d946(0x5aa):displayResultsScoreOnly(_0x2e51ad,_0x1792a2,_0x2f7bbc,_0x23eb5b);break;case'show_pass_fail_only':displayPassFailOnly(_0x2e51ad,_0x23eb5b);break;case _0x30d946(0x4f3):displayHalfMarkResult(_0x2e51ad,_0x23eb5b);break;case _0x30d946(0x1c2):displayPerfectScoreResult(_0x2e51ad,_0x23eb5b);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xd87c08){const _0x3a9502=_0x597754;studentReadingArea[_0x3a9502(0x8a2)]=_0x3a9502(0xa0);const _0x4b3daf=_0x3a9502(0x5fa)+_0xd87c08+_0x3a9502(0x2f5)+simpleMathPrompt+_0x3a9502(0x320),_0x19993d={'type':_0x3a9502(0x415),'properties':{'questionText':{'type':_0x3a9502(0x526)},'options':{'type':_0x3a9502(0x270),'items':{'type':_0x3a9502(0x526)}},'correctAnswerIndex':{'type':_0x3a9502(0x882)},'explanation':{'type':_0x3a9502(0x526)}},'required':['questionText',_0x3a9502(0x730),_0x3a9502(0x348),_0x3a9502(0x5f2)]},_0x5084a2={'type':'OBJECT','properties':{'topic':{'type':_0x3a9502(0x526)},'questions':{'type':_0x3a9502(0x270),'items':_0x19993d}},'required':[_0x3a9502(0x231),_0x3a9502(0x2e8)]};try{const _0x61c4f5=await callAnalysisApi(_0x4b3daf,_0x5084a2);_0x61c4f5[_0x3a9502(0x600)]=!![],studentReadingArea['classList'][_0x3a9502(0x635)](_0x3a9502(0x702));const _0x5db301={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x3a9502(0x435)};_0x61c4f5[_0x3a9502(0x417)]=_0x5db301,displayQuizForStudent(_0x61c4f5);}catch(_0x1efd9c){console[_0x3a9502(0x5dc)](_0x3a9502(0x4c2),_0x1efd9c),showMessage(_0x3a9502(0x2b6)),showView(_0x3a9502(0x21d));}}function displayPassFailOnly(_0x90b711,_0x17274b){const _0x5b5527=_0x597754,_0x2ab9f0=currentDisplayedQuiz[_0x5b5527(0x417)]?.[_0x5b5527(0x253)]??-0x1,_0x1607de=currentDisplayedQuiz[_0x5b5527(0x600)]===!![];let _0x5deed0='',_0x14af2b=![];if(_0x1607de||_0x2ab9f0!==-0x1){_0x14af2b=_0x1607de?_0x90b711===_0x17274b:_0x90b711>=_0x2ab9f0;const _0x495aae=_0x14af2b?'bg-green-100\x20text-green-800':_0x5b5527(0x6fc),_0x50b6d6=_0x14af2b?_0x5b5527(0x15f):_0x5b5527(0x2c2);_0x5deed0=_0x5b5527(0x2ac)+_0x495aae+'\x22>'+_0x50b6d6+_0x5b5527(0x4f4);}else _0x5deed0=_0x5b5527(0x3ef);let _0x323fa6=_0x5b5527(0xe3)+currentStudentName+_0x5b5527(0x69a)+_0x5deed0+_0x5b5527(0x5a8);studentResultArea[_0x5b5527(0x8a2)]=_0x323fa6,studentResultArea[_0x5b5527(0x79b)][_0x5b5527(0x76b)](_0x5b5527(0x702)),studentQuizArea['classList']['add'](_0x5b5527(0x702)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x14af2b});}function cancelAdminTest(){const _0x414a5c=_0x597754;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x414a5c(0x470)](_0x414a5c(0x3ba),handleFullscreenChange),document['removeEventListener'](_0x414a5c(0x4ea),handleVisibilityChange),currentMode=_0x414a5c(0x70b),studentView[_0x414a5c(0x79b)]['add']('hidden'),adminView[_0x414a5c(0x79b)]['remove'](_0x414a5c(0x702)),showView('project-detail');}function setupResultScreenBackButton(_0x254186){const _0x270a33=_0x597754,_0x11c066={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x254186};if(_0x11c066[_0x270a33(0x74d)]){const _0x29036e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x270a33(0x200)](_0x270a33(0x7fa),_0x29036e),document['getElementById'](_0x270a33(0x4fa))[_0x270a33(0x893)]('click',()=>{const _0x3ba100=_0x270a33;studentResultArea['classList'][_0x3ba100(0x635)](_0x3ba100(0x702)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x514516=_0x270a33(0x476),_0x55bbbf=currentMode===_0x270a33(0x44f),_0x1a3560=_0x55bbbf?_0x270a33(0xcb):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x1c6c28='';_0x11c066[_0x270a33(0x4de)]&&(_0x1c6c28+=_0x270a33(0x46d));let _0x5c5b90=_0x11c066[_0x270a33(0x18c)];_0x5c5b90===undefined&&(_0x5c5b90=_0x11c066[_0x270a33(0x869)]<_0x11c066[_0x270a33(0x5a9)]);_0x5c5b90&&(_0x1c6c28+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x1c6c28+=_0x270a33(0x7ff)+_0x514516+_0x270a33(0x85c)+_0x1a3560+_0x270a33(0x329);const _0x3c32c6=_0x270a33(0x336)+_0x1c6c28+'</div>';studentResultArea[_0x270a33(0x200)](_0x270a33(0x7fa),_0x3c32c6),studentResultArea['querySelector'](_0x270a33(0x244))?.['addEventListener'](_0x270a33(0x30c),handleShowStudentRankings);const _0x1b3fdf=studentResultArea[_0x270a33(0x82d)](_0x270a33(0x293));_0x1b3fdf&&_0x1b3fdf[_0x270a33(0x893)]('click',()=>{const _0x2ef9f8=_0x270a33;studentResultArea[_0x2ef9f8(0x79b)]['add'](_0x2ef9f8(0x702)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x270a33(0x596)](_0x514516)[_0x270a33(0x893)](_0x270a33(0x30c),()=>{const _0x9117f2=_0x270a33;_0x55bbbf?(currentMode=_0x9117f2(0x70b),studentView['classList'][_0x9117f2(0x635)](_0x9117f2(0x702)),adminView[_0x9117f2(0x79b)][_0x9117f2(0x76b)](_0x9117f2(0x702)),showView('project-detail')):(showView(_0x9117f2(0x21d)),document[_0x9117f2(0x596)](_0x9117f2(0x5c2))[_0x9117f2(0x800)]='');});}function displayResultsWithAnswers(_0x295d01,_0x3c9998,_0x32d581,_0x1af170,_0x653d9c,_0x223c08=![]){const _0x32b2f1=_0x597754,_0x3964d7=_0x653d9c>0x0?_0x295d01/_0x653d9c*0x64:0x0,_0x19d381=currentDisplayedQuiz['settings']?.[_0x32b2f1(0x253)]??-0x1,_0x458d7f=currentDisplayedQuiz[_0x32b2f1(0x600)]===!![];let _0x364ec3='';if(_0x458d7f||_0x19d381!==-0x1){let _0x38b62e=_0x458d7f?_0x295d01===_0x653d9c:_0x295d01>=_0x19d381;const _0x2f6399=_0x38b62e?'bg-green-100\x20text-green-800':_0x32b2f1(0x6fc),_0x506527=_0x38b62e?_0x32b2f1(0x15f):_0x32b2f1(0x2c2);_0x364ec3=_0x32b2f1(0x610)+_0x2f6399+'\x22>'+_0x506527+_0x32b2f1(0x3f8);}let _0xe7ba98=_0x32b2f1(0x2cc)+currentStudentName+_0x32b2f1(0x3cb)+_0x295d01+_0x32b2f1(0x511)+_0x653d9c+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x364ec3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x3c9998+_0x32b2f1(0x2da)+_0x3964d7[_0x32b2f1(0x37f)](0x0)+_0x32b2f1(0x781);currentDisplayedQuiz[_0x32b2f1(0x2e8)][_0x32b2f1(0x450)]((_0x1adc56,_0x46dff6)=>{const _0x2e77ab=_0x32b2f1,_0x188342=_0x1af170[_0x46dff6],_0x45e5be=_0x188342['answer'],_0x340ebc=_0x188342[_0x2e77ab(0x677)],_0x40afb3=_0x1adc56[_0x2e77ab(0x5cd)]||currentDisplayedQuiz['quizType'];_0xe7ba98+=_0x2e77ab(0x262)+(_0x340ebc?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+_0x2e77ab(0x5c9)+(_0x46dff6+0x1)+'.\x20'+(_0x1adc56['stem']||_0x1adc56['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x40afb3){case _0x2e77ab(0x1f0):const _0x29eb1c=_0x45e5be||'ไม่ได้ตอบ',_0xa70c59=_0x1adc56[_0x2e77ab(0x81a)];_0xe7ba98+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x340ebc?_0x2e77ab(0x840):'')+'\x22>'+_0x29eb1c+'</span></p>';!_0x340ebc&&(_0xe7ba98+=_0x2e77ab(0x6c8)+_0xa70c59+_0x2e77ab(0x3f8));break;case _0x2e77ab(0x3df):_0xe7ba98+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x45e5be||_0x2e77ab(0xe8))+'</p>',_0xe7ba98+=_0x2e77ab(0x5ff)+_0x1adc56[_0x2e77ab(0x3d1)]+_0x2e77ab(0x3f8);break;case _0x2e77ab(0x6ae):_0xe7ba98+='<p\x20class=\x22'+(_0x1adc56['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x45e5be==='true'&&!_0x340ebc?'line-through\x20text-red-700':'')+_0x2e77ab(0x546),_0xe7ba98+='<p\x20class=\x22'+(_0x1adc56[_0x2e77ab(0x5d9)]===![]?_0x2e77ab(0x700):'')+'\x20'+(_0x45e5be==='false'&&!_0x340ebc?_0x2e77ab(0x840):'')+'\x22>ไม่ใช่</p>';break;default:_0xe7ba98+=_0x1adc56['options'][_0x2e77ab(0x535)]((_0x5a1be2,_0x216a9a)=>{const _0x374d00=_0x2e77ab;let _0x17b9c6='',_0x316df3='';if(_0x216a9a===_0x1adc56['correctAnswerIndex'])_0x17b9c6=_0x374d00(0x700),_0x316df3=_0x374d00(0x6dd);else _0x216a9a===_0x45e5be&&(_0x17b9c6=_0x374d00(0x451),_0x316df3=_0x374d00(0x7a2));return'<div\x20class=\x22'+_0x17b9c6+'\x22>'+_0x316df3+_0x5a1be2+_0x374d00(0x42a);})[_0x2e77ab(0x243)]('');break;}_0xe7ba98+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x1adc56[_0x2e77ab(0x5f2)]||_0x2e77ab(0x72d))+'</div>';if(!_0x340ebc){const _0x5af4f4=_0x1adc56[_0x2e77ab(0x607)]||_0x1adc56['questionText'];_0xe7ba98+=_0x2e77ab(0x1a4)+escape(_0x5af4f4)+_0x2e77ab(0x548);}_0xe7ba98+='</div>';}),studentResultArea[_0x32b2f1(0x8a2)]=_0xe7ba98,renderEarnedBadges(_0x32d581,'earned-badges-container'),studentResultArea[_0x32b2f1(0x79b)]['remove'](_0x32b2f1(0x702)),studentQuizArea[_0x32b2f1(0x79b)]['add'](_0x32b2f1(0x702)),setupResultScreenBackButton({'isLooping':_0x223c08,'score':_0x295d01,'totalQuestions':_0x653d9c,'showRankings':!![]});if(window[_0x32b2f1(0x691)])window[_0x32b2f1(0x691)][_0x32b2f1(0xa6)]([studentResultArea]);}function displayResultsScoreOnly(_0x5a08dc,_0x3db4f0,_0x4de43c,_0x5c9353){const _0x5c5d16=_0x597754,_0x37c7f2=_0x5c9353>0x0?_0x5a08dc/_0x5c9353*0x64:0x0,_0x48059d=currentDisplayedQuiz['settings']?.[_0x5c5d16(0x253)]??-0x1,_0x4a50ef=currentDisplayedQuiz[_0x5c5d16(0x600)]===!![];let _0x58ca79='';if(_0x4a50ef||_0x48059d!==-0x1){let _0x57b1e4=_0x4a50ef?_0x5a08dc===_0x5c9353:_0x5a08dc>=_0x48059d;const _0x164bee=_0x57b1e4?_0x5c5d16(0x43d):_0x5c5d16(0x6fc),_0xdda0a0=_0x57b1e4?'ผ่าน':_0x5c5d16(0x2c2);_0x58ca79='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x164bee+'\x22>'+_0xdda0a0+_0x5c5d16(0x3f8);}let _0x467587=_0x5c5d16(0xe3)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5a08dc+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5c9353+_0x5c5d16(0x828)+_0x58ca79+_0x5c5d16(0x572)+_0x3db4f0+_0x5c5d16(0x283)+_0x37c7f2[_0x5c5d16(0x37f)](0x0)+_0x5c5d16(0x300);studentResultArea[_0x5c5d16(0x8a2)]=_0x467587,renderEarnedBadges(_0x4de43c,_0x5c5d16(0x87d)),studentResultArea[_0x5c5d16(0x79b)][_0x5c5d16(0x76b)](_0x5c5d16(0x702)),studentQuizArea['classList'][_0x5c5d16(0x635)](_0x5c5d16(0x702)),setupResultScreenBackButton({'score':_0x5a08dc,'totalQuestions':_0x5c9353,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x377b3d=_0x597754;let _0xf5edbb=_0x377b3d(0x467)+currentStudentName+_0x377b3d(0x352);studentResultArea[_0x377b3d(0x8a2)]=_0xf5edbb,studentResultArea[_0x377b3d(0x79b)][_0x377b3d(0x76b)](_0x377b3d(0x702)),studentQuizArea['classList'][_0x377b3d(0x635)](_0x377b3d(0x702)),document[_0x377b3d(0x596)]('back-to-home-manual-release')[_0x377b3d(0x893)]('click',()=>{const _0x4d3ae3=_0x377b3d;showView(_0x4d3ae3(0x21d)),document[_0x4d3ae3(0x596)](_0x4d3ae3(0x5c2))[_0x4d3ae3(0x800)]='';});}function renderEarnedBadges(_0xf2bcc2,_0x5e96ae){const _0x32d550=_0x597754,_0x52f4b6=document[_0x32d550(0x596)](_0x5e96ae);if(!_0x52f4b6||!_0xf2bcc2||_0xf2bcc2[_0x32d550(0x2c4)]===0x0)return;let _0x521f7c='';_0xf2bcc2[_0x32d550(0x450)]((_0x312413,_0x1c7e15)=>{const _0x22d695=_0x32d550,_0x10b849=Object['values'](BADGES)[_0x22d695(0x84c)](_0x4b4cfb=>_0x4b4cfb['id']===_0x312413);_0x10b849&&(_0x521f7c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1c7e15*0.2+_0x22d695(0x158)+_0x10b849['description']+_0x22d695(0x7f9)+_0x10b849['icon']+_0x22d695(0x61c)+_0x10b849[_0x22d695(0x452)]+_0x22d695(0x6a5));}),_0x52f4b6[_0x32d550(0x8a2)]=_0x521f7c;}function startPresentation(_0x162bab){const _0x32fe04=_0x597754;currentQuizData=getShuffledQuiz(_0x162bab),currentPresentationSlide=0x0,presentationModal[_0x32fe04(0xae)][_0x32fe04(0x42e)]=_0x32fe04(0x37d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xa9fa21=_0x597754;document[_0xa9fa21(0x6f6)]&&document[_0xa9fa21(0x2a3)](),presentationModal[_0xa9fa21(0xae)][_0xa9fa21(0x42e)]='none';}function renderPresentationSlide(_0x18f72a){const _0x4a9f3c=_0x597754,_0x52c879=document[_0x4a9f3c(0x596)](_0x4a9f3c(0x482));if(!currentQuizData||!currentQuizData[_0x4a9f3c(0x2e8)]||!currentQuizData[_0x4a9f3c(0x2e8)][_0x18f72a]){_0x52c879[_0x4a9f3c(0x8a2)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x401d43=currentQuizData[_0x4a9f3c(0x2e8)][_0x18f72a],_0x3c5c16=_0x401d43['questionType']||currentQuizData[_0x4a9f3c(0x5ca)];_0x52c879[_0x4a9f3c(0x8a2)]='';let _0x3f5e65=_0x4a9f3c(0x7c1)+(_0x401d43[_0x4a9f3c(0x285)]?_0x4a9f3c(0x220)+_0x401d43[_0x4a9f3c(0x285)]+_0x4a9f3c(0x42a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x18f72a+0x1)+'.\x20'+(_0x401d43['stem']||_0x401d43[_0x4a9f3c(0x465)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3c5c16){case _0x4a9f3c(0x1f0):_0x3f5e65+=_0x401d43[_0x4a9f3c(0x2ea)]['map'](_0x351573=>_0x4a9f3c(0x586)+_0x351573+_0x4a9f3c(0x313))[_0x4a9f3c(0x243)]('');break;case _0x4a9f3c(0x6ae):_0x3f5e65+=_0x4a9f3c(0x25f),_0x3f5e65+=_0x4a9f3c(0x82b);break;case _0x4a9f3c(0x859):case _0x4a9f3c(0x3df):_0x3f5e65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x4a9f3c(0x666):default:_0x3f5e65+=_0x401d43['options'][_0x4a9f3c(0x535)]((_0x4de85a,_0x259ecf)=>_0x4a9f3c(0x7e9)+_0x259ecf+_0x4a9f3c(0x490)+_0x4de85a+_0x4a9f3c(0x313))[_0x4a9f3c(0x243)]('');break;}_0x3f5e65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x401d43['explanation']||_0x4a9f3c(0x72d))+_0x4a9f3c(0x353),_0x52c879[_0x4a9f3c(0x8a2)]=_0x3f5e65;if(window[_0x4a9f3c(0x691)])window[_0x4a9f3c(0x691)][_0x4a9f3c(0xa6)]([_0x52c879]);document[_0x4a9f3c(0x5f5)](_0x4a9f3c(0x6c6))[_0x4a9f3c(0x450)](_0x3d69b7=>{const _0x141eac=_0x4a9f3c;_0x3d69b7[_0x141eac(0x893)]('click',_0x2cd64b=>revealAnswerForPresentation(_0x18f72a,_0x2cd64b[_0x141eac(0x8b0)]));});const _0x3e3f95=document['getElementById'](_0x4a9f3c(0x688));_0x3e3f95&&_0x3e3f95[_0x4a9f3c(0x893)](_0x4a9f3c(0x30c),()=>checkShortAnswerForPresentation(_0x18f72a)),document[_0x4a9f3c(0x596)]('slide-counter')[_0x4a9f3c(0x195)]=_0x4a9f3c(0x35c)+(_0x18f72a+0x1)+_0x4a9f3c(0x4c5)+currentQuizData[_0x4a9f3c(0x2e8)][_0x4a9f3c(0x2c4)],document[_0x4a9f3c(0x596)](_0x4a9f3c(0x5eb))[_0x4a9f3c(0x64a)]=_0x18f72a===0x0,document['getElementById'](_0x4a9f3c(0x14e))[_0x4a9f3c(0x64a)]=_0x18f72a===currentQuizData[_0x4a9f3c(0x2e8)][_0x4a9f3c(0x2c4)]-0x1;}async function checkShortAnswerForPresentation(_0x537b33){const _0x250f80=_0x597754,_0x1f08f6=currentQuizData[_0x250f80(0x2e8)][_0x537b33],_0x3b094e=document[_0x250f80(0x596)](_0x250f80(0xe4)),_0x5608cc=document['getElementById'](_0x250f80(0x688)),_0x2019b0=document[_0x250f80(0x596)]('presentation-ai-result'),_0x2d981b=document[_0x250f80(0x596)]('presentation-explanation');if(!_0x3b094e||!_0x5608cc||!_0x2019b0||!_0x2d981b)return;const _0x23c0ab=_0x3b094e[_0x250f80(0x800)][_0x250f80(0xb9)]();if(_0x23c0ab==='')return;_0x5608cc[_0x250f80(0x64a)]=!![],_0x5608cc[_0x250f80(0x8a2)]=_0x250f80(0x1e4),_0x3b094e[_0x250f80(0x64a)]=!![];const _0x42e6c0=await gradeShortAnswer(_0x23c0ab,_0x1f08f6);_0x42e6c0?_0x2019b0[_0x250f80(0x8a2)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x2019b0[_0x250f80(0x8a2)]=_0x250f80(0x876)+_0x1f08f6['idealAnswer']+')',_0x2019b0['classList'][_0x250f80(0x76b)]('hidden'),_0x2d981b['classList'][_0x250f80(0x76b)](_0x250f80(0x702)),_0x5608cc[_0x250f80(0x79b)][_0x250f80(0x635)](_0x250f80(0x702));}function revealAnswerForPresentation(_0xf7419,_0x4bd7e6){const _0x429043=_0x597754,_0x5a3804=currentQuizData[_0x429043(0x2e8)][_0xf7419],_0x5e39c0=_0x5a3804[_0x429043(0x5cd)]||currentQuizData[_0x429043(0x5ca)];document[_0x429043(0x5f5)]('.presentation-option')['forEach'](_0x1fd803=>{const _0xcd9860=_0x429043;_0x1fd803[_0xcd9860(0x64a)]=!![],_0x1fd803[_0xcd9860(0x79b)][_0xcd9860(0x76b)](_0xcd9860(0x559));let _0x56055d=![];if(_0x5e39c0==='multiple_choice'||_0x5e39c0===_0xcd9860(0x2e1)){const _0x3d89cc=parseInt(_0x1fd803[_0xcd9860(0x4af)][_0xcd9860(0x6ec)]);_0x56055d=_0x3d89cc===_0x5a3804['correctAnswerIndex'];}else{if(_0x5e39c0===_0xcd9860(0x6ae)){const _0x599ba5=_0x1fd803[_0xcd9860(0x4af)][_0xcd9860(0x1f1)]==='true';_0x56055d=_0x599ba5===_0x5a3804[_0xcd9860(0x5d9)];}else _0x5e39c0==='matching_item'&&(_0x56055d=_0x1fd803[_0xcd9860(0x195)]['trim']()===_0x5a3804[_0xcd9860(0x81a)]);}_0x56055d?_0x1fd803[_0xcd9860(0x79b)][_0xcd9860(0x635)](_0xcd9860(0xb4),_0xcd9860(0x487),'border-green-700'):_0x1fd803['classList']['add'](_0xcd9860(0x3c3));}),_0x4bd7e6[_0x429043(0x79b)][_0x429043(0x76b)]('opacity-50');let _0x464f1b=![];if(_0x5e39c0==='multiple_choice')_0x464f1b=parseInt(_0x4bd7e6[_0x429043(0x4af)][_0x429043(0x6ec)])===_0x5a3804['correctAnswerIndex'];else{if(_0x5e39c0===_0x429043(0x6ae))_0x464f1b=_0x4bd7e6[_0x429043(0x4af)][_0x429043(0x1f1)]==='true'===_0x5a3804[_0x429043(0x5d9)];else _0x5e39c0===_0x429043(0x1f0)&&(_0x464f1b=_0x4bd7e6['textContent'][_0x429043(0xb9)]()===_0x5a3804['correctResponse']);}!_0x464f1b&&_0x4bd7e6[_0x429043(0x79b)]['add'](_0x429043(0x729),_0x429043(0x487),'border-red-700'),document['getElementById']('presentation-explanation')[_0x429043(0x79b)]['remove'](_0x429043(0x702));}function startWholeQuizTimer(_0x2b6253){const _0xee2a76=_0x597754,_0x256a2c=document[_0xee2a76(0x596)](_0xee2a76(0x312));if(!_0x256a2c)return;const _0x1a72c4=Date['now']()+_0x2b6253*0x3c*0x3e8;_0x256a2c[_0xee2a76(0x8a2)]=_0xee2a76(0x30a);const _0x363c52=document['getElementById'](_0xee2a76(0x827));quizTimerInterval=setInterval(()=>{const _0x2d7bcc=_0xee2a76,_0x417900=_0x1a72c4-Date['now']();if(_0x417900<=0x0)clearInterval(quizTimerInterval),_0x363c52[_0x2d7bcc(0x195)]=_0x2d7bcc(0x418),showMessage(_0x2d7bcc(0x207)),handleSubmitQuiz(null);else{const _0x51c775=Math[_0x2d7bcc(0x718)](_0x417900/0x3e8/0x3c%0x3c)[_0x2d7bcc(0x6db)]()[_0x2d7bcc(0x527)](0x2,'0'),_0x54625d=Math[_0x2d7bcc(0x718)](_0x417900/0x3e8%0x3c)[_0x2d7bcc(0x6db)]()['padStart'](0x2,'0');_0x363c52[_0x2d7bcc(0x195)]=_0x51c775+':'+_0x54625d;}},0x3e8);}function renderPerQuestionView(){const _0x17a3e5=_0x597754;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2ee092=currentDisplayedQuiz[_0x17a3e5(0x2e8)][currentQuestionIndex],_0x34aeb1=_0x2ee092[_0x17a3e5(0x5cd)]||currentDisplayedQuiz[_0x17a3e5(0x5ca)];let _0x42211d=_0x17a3e5(0x18e)+(currentQuestionIndex+0x1)+_0x17a3e5(0x86f)+currentDisplayedQuiz[_0x17a3e5(0x2e8)]['length']+_0x17a3e5(0x35e)+(currentMode===_0x17a3e5(0x44f)?_0x17a3e5(0x56e):'')+_0x17a3e5(0x67b)+currentDisplayedQuiz[_0x17a3e5(0x231)]+_0x17a3e5(0x169)+(currentQuestionIndex===currentDisplayedQuiz[_0x17a3e5(0x2e8)][_0x17a3e5(0x2c4)]-0x1?_0x17a3e5(0x4fe):_0x17a3e5(0x221))+_0x17a3e5(0x69e);studentQuizArea[_0x17a3e5(0x8a2)]=_0x42211d;let _0x29677d='',_0x24f0c5='';switch(_0x34aeb1){case'matching_item':_0x29677d=currentQuestionIndex+0x1+'.\x20'+_0x2ee092[_0x17a3e5(0x607)],_0x24f0c5=_0x17a3e5(0x6e0)+_0x2ee092[_0x17a3e5(0x2ea)][_0x17a3e5(0x535)](_0x194ef0=>_0x17a3e5(0x238)+_0x194ef0+'\x22>'+_0x194ef0+'</option>')[_0x17a3e5(0x243)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x17a3e5(0x6ae):_0x29677d=currentQuestionIndex+0x1+'.\x20'+_0x2ee092['questionText'],_0x24f0c5=_0x17a3e5(0x33c);break;case _0x17a3e5(0x3df):case _0x17a3e5(0x859):_0x29677d=currentQuestionIndex+0x1+'.\x20'+_0x2ee092[_0x17a3e5(0x465)],_0x24f0c5=_0x17a3e5(0x807);break;case _0x17a3e5(0x666):case _0x17a3e5(0x2e2):default:_0x29677d=currentQuestionIndex+0x1+'.\x20'+_0x2ee092[_0x17a3e5(0x465)],_0x24f0c5=_0x2ee092[_0x17a3e5(0x730)][_0x17a3e5(0x535)]((_0x5b59f4,_0x1fbacd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x1fbacd+_0x17a3e5(0x392)+_0x1fbacd+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x1fbacd+'\x22>'+_0x5b59f4+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17a3e5(0x243)]('');break;}_0x2ee092['imageCode']&&(_0x29677d+=_0x17a3e5(0x220)+_0x2ee092[_0x17a3e5(0x285)]+_0x17a3e5(0x42a));document['getElementById']('per-question-text')[_0x17a3e5(0x8a2)]=_0x29677d,document[_0x17a3e5(0x596)](_0x17a3e5(0x6a2))[_0x17a3e5(0x8a2)]=_0x24f0c5;if(currentMode===_0x17a3e5(0x44f)){const _0x55feea=document['getElementById']('cancel-test-btn');if(_0x55feea)_0x55feea[_0x17a3e5(0x893)](_0x17a3e5(0x30c),cancelAdminTest);}document[_0x17a3e5(0x596)](_0x17a3e5(0x657))[_0x17a3e5(0x893)](_0x17a3e5(0x30c),()=>handleNextQuestionInTimedMode(![]));if(window[_0x17a3e5(0x691)])window['MathJax'][_0x17a3e5(0xa6)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0xdb99c0=_0x597754,_0x12ca10=currentDisplayedQuiz[_0xdb99c0(0x417)][_0xdb99c0(0x6d4)],_0x1c189f=document[_0xdb99c0(0x596)](_0xdb99c0(0x4df));if(!_0x1c189f)return;let _0x2ca9fd=_0x12ca10;_0x1c189f[_0xdb99c0(0x8a2)]=_0xdb99c0(0x72e)+_0x2ca9fd+_0xdb99c0(0x41f);const _0x4799b3=document['getElementById'](_0xdb99c0(0x21e)),_0x20a7b1=document[_0xdb99c0(0x596)](_0xdb99c0(0x6fa));perQuestionTimerInterval=setInterval(()=>{const _0x1a316f=_0xdb99c0;_0x2ca9fd--;const _0x5aeca2=_0x2ca9fd/_0x12ca10*0x64;_0x4799b3[_0x1a316f(0xae)][_0x1a316f(0x672)]=_0x5aeca2+'%',_0x20a7b1[_0x1a316f(0x195)]=_0x2ca9fd,_0x2ca9fd<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x35f3b0=![]){const _0x473ac8=_0x597754;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x521419=null;if(!_0x35f3b0){const _0x29e800=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x41876f=_0x29e800[_0x473ac8(0x5cd)]||currentDisplayedQuiz[_0x473ac8(0x5ca)];if(_0x41876f===_0x473ac8(0x3df)||_0x41876f==='fill_in_no_choices'){const _0x4e612d=document[_0x473ac8(0x82d)](_0x473ac8(0x566));_0x521419=_0x4e612d?_0x4e612d['value'][_0x473ac8(0xb9)]():'';}else{if(_0x41876f===_0x473ac8(0x1f0)){const _0x3d7279=document['querySelector'](_0x473ac8(0x2d5));_0x521419=_0x3d7279?_0x3d7279[_0x473ac8(0x800)]:'';}else{const _0x7ce768=document['querySelector'](_0x473ac8(0x5b4));if(_0x7ce768){const _0x111e8f=_0x7ce768[_0x473ac8(0x800)];_0x521419=!isNaN(parseInt(_0x111e8f,0xa))&&_0x111e8f['trim']()!==''?parseInt(_0x111e8f,0xa):_0x111e8f;}}}}studentAnswersPerQuestion[_0x473ac8(0x1c9)](_0x521419),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x473ac8(0x2e8)][_0x473ac8(0x2c4)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x5420c2=_0x597754,_0x35e74f=currentDisplayedQuiz[_0x5420c2(0x2e8)]['some'](_0x379492=>_0x379492[_0x5420c2(0x5cd)]==='short_answer');_0x35e74f?showMessage(_0x5420c2(0x779)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x9a23d9=currentQuizData['id'],_0x338d08=doc(db,_0x5420c2(0x4cb)+appId+'/public/data/quizzes/'+_0x9a23d9+'/submissions',currentStudentName),_0x58257a=await getDoc(_0x338d08),_0x5449bc=_0x58257a['exists']()?_0x58257a[_0x5420c2(0x324)]():{},_0x5a5773=_0x5449bc[_0x5420c2(0xbe)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5a5773);}function getResultsFilename(){const _0x1237fc=_0x597754,_0xe7c2ed=document['getElementById'](_0x1237fc(0x32f))['textContent'][_0x1237fc(0x16e)](/[^a-z0-9]/gi,'_')[_0x1237fc(0x7e1)]();return _0x1237fc(0x899)+(_0xe7c2ed||_0x1237fc(0x10f));}function exportResultsAsImage(){const _0x5f3ac1=_0x597754,_0x5859d7=document[_0x5f3ac1(0x596)](_0x5f3ac1(0xfc));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x5859d7)[_0x5f3ac1(0x7cd)](_0x4d1ecf=>{const _0x219039=_0x5f3ac1,_0x47b37d=document[_0x219039(0x429)]('a');_0x47b37d[_0x219039(0x80e)]=getResultsFilename()+_0x219039(0x302),_0x47b37d[_0x219039(0x626)]=_0x4d1ecf['toDataURL'](_0x219039(0xd8)),_0x47b37d[_0x219039(0x30c)](),messageModal[_0x219039(0x79b)][_0x219039(0x635)]('hidden');});}function exportResultsAsPDF(){const _0x44f3b7=_0x597754,{jsPDF:_0x561da7}=window[_0x44f3b7(0x7eb)],_0x2d3a82=new _0x561da7();_0x2d3a82[_0x44f3b7(0x1ba)](_0x44f3b7(0x3a2),_0x44f3b7(0x34c)),_0x2d3a82[_0x44f3b7(0x27b)]({'html':_0x44f3b7(0x395)}),_0x2d3a82[_0x44f3b7(0x554)](getResultsFilename()+_0x44f3b7(0x33e));}function exportResultsAsWord(){const _0x50b5e8=_0x597754,_0x10df2a='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x50b5e8(0x29b)+_0x50b5e8(0x6ff)+_0x50b5e8(0x7ac),_0x1e4071=_0x50b5e8(0xde),_0x20f0c8=_0x10df2a+document[_0x50b5e8(0x596)]('results-table-container')[_0x50b5e8(0x8a2)]+_0x1e4071,_0x2f1156='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x20f0c8),_0x6220d9=document[_0x50b5e8(0x429)]('a');document[_0x50b5e8(0x170)][_0x50b5e8(0x229)](_0x6220d9),_0x6220d9[_0x50b5e8(0x626)]=_0x2f1156,_0x6220d9[_0x50b5e8(0x80e)]=getResultsFilename()+_0x50b5e8(0x19b),_0x6220d9['click'](),document['body'][_0x50b5e8(0x351)](_0x6220d9);}function exportResultsAsExcel(){const _0x32355a=_0x597754,_0x1ca8cc=document['getElementById'](_0x32355a(0x48b));let _0x4eda09=[];for(let _0x2e50bb=0x0;_0x2e50bb<_0x1ca8cc[_0x32355a(0x1c1)]['length'];_0x2e50bb++){let _0x359196=[],_0x274cda=_0x1ca8cc[_0x32355a(0x1c1)][_0x2e50bb][_0x32355a(0x5f5)](_0x32355a(0x7f4));for(let _0x13e75b=0x0;_0x13e75b<_0x274cda[_0x32355a(0x2c4)];_0x13e75b++){_0x359196[_0x32355a(0x1c9)]('\x22'+_0x274cda[_0x13e75b]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x4eda09[_0x32355a(0x1c9)](_0x359196['join'](','));}const _0xeae35b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4eda09[_0x32355a(0x243)]('\x0a')],{'type':_0x32355a(0x794)}),_0x22359c=document[_0x32355a(0x429)]('a');_0x22359c['href']=URL[_0x32355a(0x356)](_0xeae35b),_0x22359c[_0x32355a(0x80e)]=getResultsFilename()+_0x32355a(0x8b1),_0x22359c['click']();}function exportTableAsImage(_0xb1fd0e,_0x4e2692){const _0xab30a9=_0x597754,_0x144342=document[_0xab30a9(0x596)](_0xb1fd0e);if(!_0x144342){showMessage(_0xab30a9(0x101));return;}showMessage(_0xab30a9(0x88f)),html2canvas(_0x144342)[_0xab30a9(0x7cd)](_0x87bb45=>{const _0x515631=_0xab30a9,_0x276047=document[_0x515631(0x429)]('a');_0x276047[_0x515631(0x80e)]=_0x4e2692+_0x515631(0x302),_0x276047[_0x515631(0x626)]=_0x87bb45[_0x515631(0x709)](_0x515631(0xd8)),_0x276047['click'](),messageModal['classList']['add']('hidden');});}function exportTableAsPDF(_0x4e8d93,_0x5e55ee){const _0x403eb8=_0x597754,{jsPDF:_0x5134b9}=window[_0x403eb8(0x7eb)],_0x5754b0=new _0x5134b9();_0x5754b0[_0x403eb8(0x1ba)](_0x403eb8(0x3a2),'normal'),_0x5754b0['autoTable']({'html':'#'+_0x4e8d93}),_0x5754b0[_0x403eb8(0x554)](_0x5e55ee+_0x403eb8(0x33e));}function exportTableAsWord(_0xea36c7,_0x43100f){const _0x2bcfc2=_0x597754,_0x1b908f=document[_0x2bcfc2(0x596)](_0xea36c7);if(!_0x1b908f){showMessage(_0x2bcfc2(0x101));return;}const _0x176bf4='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x2bcfc2(0x29b)+_0x2bcfc2(0x6ff)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x11ab2a=_0x2bcfc2(0xde),_0x585a5e=_0x176bf4+_0x1b908f[_0x2bcfc2(0x8a2)]+_0x11ab2a,_0x256b3e='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x585a5e),_0x318a1f=document[_0x2bcfc2(0x429)]('a');document[_0x2bcfc2(0x170)]['appendChild'](_0x318a1f),_0x318a1f[_0x2bcfc2(0x626)]=_0x256b3e,_0x318a1f[_0x2bcfc2(0x80e)]=_0x43100f+'.doc',_0x318a1f['click'](),document[_0x2bcfc2(0x170)][_0x2bcfc2(0x351)](_0x318a1f);}function exportTableAsExcel(_0x3e2278,_0x4ef99f){const _0x43b242=_0x597754,_0xb552f6=document[_0x43b242(0x596)](_0x3e2278);if(!_0xb552f6){showMessage(_0x43b242(0x101));return;}let _0x54f6c5=[];for(let _0x4f5d38=0x0;_0x4f5d38<_0xb552f6['rows'][_0x43b242(0x2c4)];_0x4f5d38++){let _0x13ab09=[],_0x4fd5cd=_0xb552f6[_0x43b242(0x1c1)][_0x4f5d38][_0x43b242(0x5f5)](_0x43b242(0x7f4));for(let _0x21aadf=0x0;_0x21aadf<_0x4fd5cd['length'];_0x21aadf++){_0x13ab09['push']('\x22'+_0x4fd5cd[_0x21aadf][_0x43b242(0x6a1)][_0x43b242(0x16e)](/"/g,'\x22\x22')+'\x22');}_0x54f6c5[_0x43b242(0x1c9)](_0x13ab09[_0x43b242(0x243)](','));}const _0x1d00ee=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x54f6c5['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2a98d6=document['createElement']('a');_0x2a98d6['href']=URL[_0x43b242(0x356)](_0x1d00ee),_0x2a98d6[_0x43b242(0x80e)]=_0x4ef99f+'.csv',_0x2a98d6[_0x43b242(0x30c)]();}function renderAnalytics(_0x323545,_0x5b94e1){const _0x3302bd=_0x597754,_0x7e4e72=_0x5b94e1[_0x3302bd(0x534)](_0x24e59a=>_0x24e59a[_0x3302bd(0x344)]!==undefined),_0x46abe8=currentProjectData['students'][_0x3302bd(0x2c4)],_0x48612d=_0x7e4e72['length'],_0x18498e=_0x46abe8-_0x48612d,_0x9717de=_0x46abe8>0x0?_0x48612d/_0x46abe8*0x64:0x0,_0x12f353=_0x7e4e72[_0x3302bd(0x535)](_0x2e1920=>_0x2e1920[_0x3302bd(0x344)]),_0x437772=_0x12f353[_0x3302bd(0x2c4)]>0x0?_0x12f353[_0x3302bd(0x44a)]((_0x2d8f80,_0x216f99)=>_0x2d8f80+_0x216f99,0x0)/_0x12f353[_0x3302bd(0x2c4)]:0x0,_0x4ee3a8=_0x323545['questions'][_0x3302bd(0x2c4)],_0x5152af=_0x4ee3a8>0x0?_0x437772/_0x4ee3a8*0x64:0x0,_0x36c82f=calculateItemAnalysis(_0x323545,_0x7e4e72),_0x322e84=calculateReliabilityKR20(_0x323545,_0x7e4e72,_0x36c82f[_0x3302bd(0x80a)]);let _0x4026a2='';if(_0x322e84!==null){let _0x3787e2='';if(_0x322e84>=0.9)_0x3787e2=_0x3302bd(0x433);else{if(_0x322e84>=0.8)_0x3787e2='ดีมาก';else{if(_0x322e84>=0.7)_0x3787e2='ดี';else{if(_0x322e84>=0.6)_0x3787e2=_0x3302bd(0x6e6);else _0x3787e2='ควรปรับปรุง';}}}_0x4026a2=_0x3302bd(0xc8)+_0x322e84[_0x3302bd(0x37f)](0x2)+_0x3302bd(0x29f)+_0x3787e2+_0x3302bd(0x699);}const _0x37cc95=document[_0x3302bd(0x596)](_0x3302bd(0x259));_0x37cc95['innerHTML']=_0x3302bd(0x88e)+_0x9717de['toFixed'](0x0)+_0x3302bd(0x7b8)+_0x48612d+'/'+_0x46abe8+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x437772[_0x3302bd(0x37f)](0x2)+_0x3302bd(0x569)+_0x5152af[_0x3302bd(0x37f)](0x0)+_0x3302bd(0x55a)+(_0x12f353[_0x3302bd(0x2c4)]>0x0?Math['max'](..._0x12f353):_0x3302bd(0x6d6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x12f353[_0x3302bd(0x2c4)]>0x0?Math[_0x3302bd(0x307)](..._0x12f353):_0x3302bd(0x6d6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4026a2+_0x3302bd(0x320);const _0xb8ce51=document[_0x3302bd(0x596)](_0x3302bd(0x56c));_0xb8ce51&&_0xb8ce51['remove']();const _0xd37741=_0x3302bd(0x602);_0x37cc95[_0x3302bd(0x200)]('afterend',_0xd37741);const _0x1e5e8a=currentProjectData['students']||[];renderSubmissionChart(_0x48612d,_0x18498e,_0x7e4e72,_0x1e5e8a),renderScoreDistributionChart(_0x7e4e72,_0x4ee3a8),renderQuestionAnalytics(_0x323545,_0x7e4e72,_0x1e5e8a),renderInterestingStats(_0x323545,_0x7e4e72);}async function handleExportLessonPDF(){const _0x413121=_0x597754,_0x361fcc=document[_0x413121(0x596)](_0x413121(0x78c)),_0x19a278=document[_0x413121(0x596)](_0x413121(0x88d))[_0x413121(0x195)],_0x2f8bdd=window[_0x413121(0x5e8)]('',_0x413121(0x5cb)),_0x262bce=_0x413121(0x7cf)+_0x19a278+_0x413121(0x5b6)+_0x361fcc[_0x413121(0x8a2)]+_0x413121(0x21f);_0x2f8bdd[_0x413121(0x19c)][_0x413121(0x443)](_0x262bce),_0x2f8bdd['document'][_0x413121(0x123)](),_0x2f8bdd['onload']=function(){setTimeout(()=>{const _0xe696f3=_0x512c;_0x2f8bdd[_0xe696f3(0x848)]();},0x5dc);};}function renderInterestingStats(_0x69f90c,_0x303b86){const _0x58b79e=_0x597754,_0x160649=document[_0x58b79e(0x596)](_0x58b79e(0x18f));if(!_0x160649)return;if(_0x303b86[_0x58b79e(0x2c4)]===0x0){_0x160649[_0x58b79e(0x8a2)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x26dee6=_0x69f90c[_0x58b79e(0x2e8)][_0x58b79e(0x535)]((_0x3d498b,_0x245825)=>({'index':_0x245825+0x1,'text':_0x3d498b[_0x58b79e(0x465)]||_0x3d498b[_0x58b79e(0x607)],'correct':0x0}));_0x303b86[_0x58b79e(0x450)](_0x2995e2=>{const _0x28c457=_0x58b79e,_0x7ad9ed=_0x2995e2[_0x28c457(0xbe)][_0x2995e2['attempts'][_0x28c457(0x2c4)]-0x1];_0x7ad9ed&&_0x7ad9ed['answers']&&_0x7ad9ed[_0x28c457(0x15a)][_0x28c457(0x450)](_0x1a5e02=>{const _0x266e4c=_0x28c457,_0x38f9a2=_0x26dee6['find'](_0x42e122=>_0x42e122[_0x266e4c(0xff)]===_0x1a5e02[_0x266e4c(0x25e)]);_0x1a5e02[_0x266e4c(0x677)]&&_0x38f9a2&&_0x38f9a2['correct']++;});});const _0x2ae458=_0x303b86[_0x58b79e(0x2c4)],_0x567c61=Math[_0x58b79e(0x665)](..._0x26dee6[_0x58b79e(0x535)](_0x8590ad=>_0x8590ad[_0x58b79e(0x3a4)])),_0x452f72=Math[_0x58b79e(0x307)](..._0x26dee6[_0x58b79e(0x535)](_0x21d194=>_0x21d194[_0x58b79e(0x3a4)])),_0x185b11=_0x26dee6[_0x58b79e(0x534)](_0x5ae53f=>_0x5ae53f['correct']===_0x567c61)[_0x58b79e(0x535)](_0x3b8253=>_0x58b79e(0x110)+_0x3b8253[_0x58b79e(0x6ec)]),_0x274781=_0x26dee6[_0x58b79e(0x534)](_0x59b83f=>_0x59b83f[_0x58b79e(0x3a4)]===_0x452f72)['map'](_0x1265df=>_0x58b79e(0x110)+_0x1265df[_0x58b79e(0x6ec)]),_0x18c700=_0x303b86[_0x58b79e(0x60d)]((_0x4284d8,_0x5b587a)=>_0x5b587a[_0x58b79e(0x344)]-_0x4284d8[_0x58b79e(0x344)])[_0x58b79e(0x534)]((_0xd4dd81,_0xa3f9ad,_0x134551)=>_0xd4dd81[_0x58b79e(0x344)]===_0x134551[0x0][_0x58b79e(0x344)]),_0x5b9aa2=_0x303b86[_0x58b79e(0x60d)]((_0xded573,_0x58f8c5)=>_0xded573['latestScore']-_0x58f8c5['latestScore'])[_0x58b79e(0x534)]((_0x220cbc,_0x53a10e,_0x52538d)=>_0x220cbc['latestScore']===_0x52538d[0x0][_0x58b79e(0x344)]),_0x10cf56=_0x58b79e(0x636)+_0x185b11['join'](',\x20')+_0x58b79e(0x1f5)+_0x567c61+_0x58b79e(0x4c5)+_0x2ae458+_0x58b79e(0x354)+_0x274781['join'](',\x20')+_0x58b79e(0x1f5)+(_0x2ae458-_0x452f72)+_0x58b79e(0x4c5)+_0x2ae458+_0x58b79e(0x884)+_0x18c700[_0x58b79e(0x535)](_0x2ceae6=>_0x2ceae6[_0x58b79e(0x4a3)])[_0x58b79e(0x243)](',\x20')+_0x58b79e(0x777)+_0x18c700[0x0][_0x58b79e(0x344)]+_0x58b79e(0x1c5)+_0x5b9aa2[_0x58b79e(0x535)](_0x412488=>_0x412488[_0x58b79e(0x4a3)])['join'](',\x20')+_0x58b79e(0x777)+_0x5b9aa2[0x0][_0x58b79e(0x344)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x160649['innerHTML']=_0x10cf56;}function renderSubmissionChart(_0x40e431,_0x5cad1d,_0x591324,_0x5cd4bc){const _0x380702=_0x597754,_0x2b7d44=document[_0x380702(0x596)](_0x380702(0x826))[_0x380702(0x203)]('2d'),_0xea9231=_0x591324[_0x380702(0x535)](_0x59e315=>_0x59e315['studentName']),_0x114901=_0x5cd4bc[_0x380702(0x534)](_0x47a2b4=>!_0xea9231[_0x380702(0x7ec)](_0x47a2b4));chartInstances[_0x380702(0x6d0)]&&chartInstances[_0x380702(0x6d0)][_0x380702(0x65a)](),chartInstances['submission']=new Chart(_0x2b7d44,{'type':_0x380702(0x7b7),'data':{'labels':[_0x380702(0x75c),_0x380702(0x74b)],'datasets':[{'data':[_0x40e431,_0x5cad1d],'backgroundColor':[_0x380702(0x722),_0x380702(0x39f)],'borderColor':[_0x380702(0x683),_0x380702(0x683)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x380702(0x132)},'tooltip':{'callbacks':{'label':function(_0x2bc386){const _0x472194=_0x380702;let _0x547091=_0x2bc386[_0x472194(0x8b5)]||'';return _0x547091&&(_0x547091+=':\x20'),_0x547091+=_0x2bc386[_0x472194(0x19d)],_0x547091;},'afterLabel':function(_0x131c59){const _0x5d0a03=_0x380702;let _0xa1ff64;return _0x131c59[_0x5d0a03(0x4bd)]===0x0?_0xa1ff64=_0xea9231:_0xa1ff64=_0x114901,_0xa1ff64[_0x5d0a03(0x2c4)]>0x0?_0xa1ff64['join']('\x0a'):_0x5d0a03(0x1ac);}}}}}});}function renderScoreDistributionChart(_0x11c045,_0x246d63){const _0x48ba24=_0x597754,_0x46b514=document['getElementById'](_0x48ba24(0x15d))['getContext']('2d'),_0x28afa2={};for(let _0x116225=0x0;_0x116225<=_0x246d63;_0x116225++){_0x28afa2[_0x116225]=0x0;}_0x11c045[_0x48ba24(0x450)](_0x56613c=>{const _0x38dd62=_0x48ba24;_0x28afa2[_0x56613c[_0x38dd62(0x344)]]!==undefined&&_0x28afa2[_0x56613c[_0x38dd62(0x344)]]++;}),chartInstances[_0x48ba24(0x869)]&&chartInstances[_0x48ba24(0x869)][_0x48ba24(0x65a)](),chartInstances['score']=new Chart(_0x46b514,{'type':_0x48ba24(0x6d5),'data':{'labels':Object[_0x48ba24(0x55b)](_0x28afa2),'datasets':[{'label':_0x48ba24(0x6c9),'data':Object[_0x48ba24(0x3b1)](_0x28afa2),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x48ba24(0x89f)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x286d66){const _0x514310=_0x48ba24,_0x115332=_0x286d66[_0x514310(0x8b5)],_0x2146cd=_0x11c045[_0x514310(0x534)](_0x2d52dc=>_0x2d52dc[_0x514310(0x344)]==_0x115332)['map'](_0x4e857d=>_0x4e857d[_0x514310(0x4a3)]);return _0x2146cd[_0x514310(0x2c4)]>0x0?_0x2146cd['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x300988,_0x32b6c5,_0x4a2dc5){const _0x4668e2=_0x597754,_0x4b34ec=document[_0x4668e2(0x596)](_0x4668e2(0x652));if(_0x4a2dc5[_0x4668e2(0x2c4)]===0x0){_0x4b34ec[_0x4668e2(0x8a2)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x34de31=calculateItemAnalysis(_0x300988,_0x32b6c5),_0xfee987=calculateDistractorAnalysis(_0x300988,_0x32b6c5);let _0x17759f='';_0x34de31['overallGroups']&&(_0x17759f=_0x4668e2(0x6b7)+_0x34de31[_0x4668e2(0x27c)]['upperGroupNames'][_0x4668e2(0x2c4)]+_0x4668e2(0x872)+_0x34de31[_0x4668e2(0x27c)][_0x4668e2(0x314)]['map'](_0x41bd90=>_0x4668e2(0x856)+_0x41bd90+_0x4668e2(0x2c5))[_0x4668e2(0x243)]('')+_0x4668e2(0x80b)+_0x34de31[_0x4668e2(0x27c)][_0x4668e2(0x32d)]['length']+_0x4668e2(0x872)+_0x34de31[_0x4668e2(0x27c)][_0x4668e2(0x32d)][_0x4668e2(0x535)](_0xf40bdd=>_0x4668e2(0x856)+_0xf40bdd+_0x4668e2(0x2c5))[_0x4668e2(0x243)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x47ac8d='';const _0x588391=_0x32b6c5['map'](_0x39811b=>_0x39811b['studentName']),_0x5b1812=_0x178dd4=>{const _0x18930a=_0x4668e2;if(_0x178dd4>=0.8)return _0x18930a(0x81b);if(_0x178dd4>=0.6)return _0x18930a(0x821);if(_0x178dd4>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x178dd4>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x18930a(0x3a7);},_0x542700=_0x380eb2=>{const _0x19c355=_0x4668e2;if(_0x380eb2<0x0)return _0x19c355(0x5da);if(_0x380eb2>=0.4)return _0x19c355(0x4f0);if(_0x380eb2>=0.3)return _0x19c355(0x66d);if(_0x380eb2>=0.2)return _0x19c355(0x4d8);return _0x19c355(0x423);},_0x97f716=_0x5526a7=>{const _0x2343fa=_0x4668e2,_0xde6d9d=_0x5526a7['toFixed'](0x0);if(parseFloat(_0xde6d9d)===0x64)return _0x2343fa(0x775)+_0xde6d9d+'%</span>';if(_0x5526a7>=0x32)return _0x2343fa(0x212)+_0xde6d9d+'%</span>';return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xde6d9d+_0x2343fa(0x640);};_0x300988[_0x4668e2(0x2e8)]['forEach']((_0x2dad47,_0x3b72cd)=>{const _0x379a35=_0x4668e2,_0x2424c8=_0x34de31[_0x379a35(0x80a)][_0x3b72cd],_0x1841e1=_0xfee987[_0x3b72cd],_0x3e4771=_0x2dad47['stem']||_0x2dad47[_0x379a35(0x465)]||_0x2dad47[_0x379a35(0x723)];let _0x536c4d=0x0;const _0x48961a=[],_0x4cc936=[];_0x32b6c5[_0x379a35(0x450)](_0x2c7852=>{const _0x4a4d6f=_0x379a35,_0x4af3a4=_0x2c7852[_0x4a4d6f(0xbe)][_0x2c7852[_0x4a4d6f(0xbe)][_0x4a4d6f(0x2c4)]-0x1];if(_0x4af3a4&&_0x4af3a4[_0x4a4d6f(0x15a)]){const _0xf0ec04=_0x4af3a4[_0x4a4d6f(0x15a)][_0x4a4d6f(0x84c)](_0xa05902=>_0xa05902[_0x4a4d6f(0x25e)]===_0x3e4771)??_0x4af3a4[_0x4a4d6f(0x15a)][_0x3b72cd]??null;_0xf0ec04&&(_0xf0ec04[_0x4a4d6f(0x677)]?(_0x536c4d++,_0x48961a[_0x4a4d6f(0x1c9)](_0x2c7852['studentName'])):_0x4cc936[_0x4a4d6f(0x1c9)](_0x2c7852['studentName']));}});const _0x24ec34=_0x32b6c5['length']>0x0?_0x536c4d/_0x32b6c5[_0x379a35(0x2c4)]*0x64:0x0,_0x19287d=_0x4a2dc5[_0x379a35(0x534)](_0x2dd5e2=>!_0x588391[_0x379a35(0x7ec)](_0x2dd5e2)),_0x64e5f8=_0x2424c8?_0x379a35(0x89d)+_0x2424c8['p'][_0x379a35(0x37f)](0x2)+'</p><div>'+_0x5b1812(_0x2424c8['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x2424c8['r']['toFixed'](0x2)+'</p><div>'+_0x542700(_0x2424c8['r'])+_0x379a35(0x1c6)+_0x97f716(_0x24ec34)+_0x379a35(0x120):'';let _0x329295='';_0x1841e1&&(_0x329295='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object['keys'](_0x1841e1)[_0x379a35(0x535)](_0x1dbc4d=>{const _0x431a69=_0x379a35,_0x103eed=_0x1841e1[_0x1dbc4d],_0x1bcc62=parseInt(_0x1dbc4d)===_0x2dad47['correctAnswerIndex'],_0x17e974=!_0x1bcc62&&_0x103eed[_0x431a69(0x377)]>_0x103eed['upper_group_count'];return'<tr\x20class=\x22'+(_0x1bcc62?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x1bcc62?'✔\x20':'')+_0x103eed['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x103eed[_0x431a69(0x4ba)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x103eed[_0x431a69(0x377)]+'\x20'+(_0x17e974?'👍':'')+_0x431a69(0x477)+_0x103eed[_0x431a69(0x7ca)]+_0x431a69(0xf4);})[_0x379a35(0x243)]('')+_0x379a35(0x17c));let _0x3f45a6='';_0x2424c8&&_0x2424c8[_0x379a35(0x704)]&&(_0x3f45a6=_0x379a35(0x2d9)+_0x2424c8['upperGroupResponders'][_0x379a35(0x2c4)]+_0x379a35(0x2bc)+_0x2424c8[_0x379a35(0x704)]['map'](_0x54d785=>_0x379a35(0x856)+(_0x54d785[_0x379a35(0x677)]?_0x379a35(0x46f):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x54d785[_0x379a35(0x452)]+_0x379a35(0x2c5))['join']('')+_0x379a35(0x15e)+_0x2424c8[_0x379a35(0x2bf)]['length']+_0x379a35(0x2bc)+_0x2424c8[_0x379a35(0x2bf)]['map'](_0x155bfe=>_0x379a35(0x856)+(_0x155bfe[_0x379a35(0x677)]?_0x379a35(0x46f):_0x379a35(0x1d9))+'\x20'+_0x155bfe[_0x379a35(0x452)]+'</li>')[_0x379a35(0x243)]('')+_0x379a35(0x33b)),_0x47ac8d+=_0x379a35(0x8b8)+(_0x3b72cd+0x1)+':\x20'+_0x3e4771+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x64e5f8+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3e4771+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x536c4d+_0x379a35(0x86f)+_0x32b6c5[_0x379a35(0x2c4)]+_0x379a35(0x411)+_0x24ec34[_0x379a35(0x37f)](0x0)+_0x379a35(0xe1)+_0x48961a[_0x379a35(0x2c4)]+_0x379a35(0x809)+(_0x48961a[_0x379a35(0x2c4)]>0x0?_0x48961a[_0x379a35(0x243)](',\x20'):'ไม่มี')+_0x379a35(0x5ce)+_0x4cc936[_0x379a35(0x2c4)]+_0x379a35(0x809)+(_0x4cc936[_0x379a35(0x2c4)]>0x0?_0x4cc936[_0x379a35(0x243)](',\x20'):_0x379a35(0x1ac))+_0x379a35(0x637)+_0x19287d[_0x379a35(0x2c4)]+_0x379a35(0x809)+(_0x19287d[_0x379a35(0x2c4)]>0x0?_0x19287d[_0x379a35(0x243)](',\x20'):_0x379a35(0x1ac))+_0x379a35(0x87c)+_0x329295+_0x379a35(0x745)+_0x3f45a6+_0x379a35(0x401);}),_0x4b34ec[_0x4668e2(0x8a2)]=_0x17759f+_0x47ac8d;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x4668e2(0xa6)]([_0x4b34ec]);}catch(_0x4506bd){console[_0x4668e2(0x5dc)](_0x4668e2(0x557),_0x4506bd);}}function calculateDistractorAnalysis(_0xb6ae66,_0x28627d){const _0x5d2e5c=_0x597754,_0x602936={};if(_0x28627d[_0x5d2e5c(0x2c4)]<0x2)return _0x602936;const _0x103871=[..._0x28627d][_0x5d2e5c(0x60d)]((_0x1becf0,_0x25f3b7)=>{const _0x57d59e=_0x5d2e5c,_0x9827b6=_0x25f3b7[_0x57d59e(0x344)]-_0x1becf0[_0x57d59e(0x344)];if(_0x9827b6!==0x0)return _0x9827b6;const _0x2f15ae=_0x1becf0['attempts']?.[_0x57d59e(0x2c4)]||0x1,_0x59bd8b=_0x25f3b7['attempts']?.[_0x57d59e(0x2c4)]||0x1,_0x54cfef=_0x2f15ae-_0x59bd8b;if(_0x54cfef!==0x0)return _0x54cfef;const _0x490171=new Date(_0x1becf0['latestSubmittedAt']),_0x34c455=new Date(_0x25f3b7['latestSubmittedAt']),_0x288f69=_0x490171-_0x34c455;if(_0x288f69!==0x0)return _0x288f69;return _0x1becf0[_0x57d59e(0x4a3)]['localeCompare'](_0x25f3b7[_0x57d59e(0x4a3)],'th');}),_0x28070e=_0x103871['length'],_0x4d9ff7=Math[_0x5d2e5c(0x665)](0x1,Math[_0x5d2e5c(0x718)](_0x28070e*0.33)),_0x4c71f2=_0x103871[_0x5d2e5c(0x39b)](0x0,_0x4d9ff7),_0x1f6a70=_0x103871[_0x5d2e5c(0x39b)](-_0x4d9ff7);return _0xb6ae66['questions'][_0x5d2e5c(0x450)]((_0x25e9c5,_0x468f9c)=>{const _0x3e7a09=_0x5d2e5c;if(_0x25e9c5[_0x3e7a09(0x5cd)]!=='multiple_choice'||!_0x25e9c5[_0x3e7a09(0x730)])return;const _0x43d1d7=_0x25e9c5[_0x3e7a09(0x465)],_0x54eccd={};_0x25e9c5[_0x3e7a09(0x730)][_0x3e7a09(0x450)]((_0x3495cd,_0x341433)=>{_0x54eccd[_0x341433]={'text':_0x3495cd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x103871[_0x3e7a09(0x450)](_0x4e522b=>{const _0x41a500=_0x3e7a09,_0x4ca20e=_0x4e522b[_0x41a500(0xbe)][_0x4e522b[_0x41a500(0xbe)][_0x41a500(0x2c4)]-0x1],_0x364439=_0x4ca20e['answers']['find'](_0x3afe61=>_0x3afe61[_0x41a500(0x25e)]===_0x43d1d7);if(_0x364439&&_0x364439[_0x41a500(0x1f1)]!==null){const _0x2d92b4=_0x25e9c5[_0x41a500(0x730)][_0x41a500(0x77f)](_0x4e50a7=>_0x4e50a7===_0x364439['answerText']);_0x2d92b4!==-0x1&&_0x54eccd[_0x2d92b4]&&(_0x54eccd[_0x2d92b4]['total']++,_0x4c71f2[_0x41a500(0x7ec)](_0x4e522b)&&_0x54eccd[_0x2d92b4][_0x41a500(0x4ba)]++,_0x1f6a70[_0x41a500(0x7ec)](_0x4e522b)&&_0x54eccd[_0x2d92b4]['lower_group_count']++);}}),_0x602936[_0x468f9c]=_0x54eccd;}),_0x602936;}function calculateReliabilityKR20(_0x278d58,_0x3a7307,_0x5ecf7f){const _0x584507=_0x597754,_0x19c34a=_0x278d58[_0x584507(0x2e8)]['length'];if(_0x19c34a<0x2||_0x3a7307[_0x584507(0x2c4)]<0x2)return null;const _0x54698=_0x3a7307[_0x584507(0x535)](_0x5d24a7=>_0x5d24a7[_0x584507(0x344)]),_0x510b7a=_0x54698[_0x584507(0x44a)]((_0x18a55d,_0x5daa71)=>_0x18a55d+_0x5daa71,0x0)/_0x54698[_0x584507(0x2c4)],_0x1f9ba6=_0x54698[_0x584507(0x535)](_0x58a4fb=>Math['pow'](_0x58a4fb-_0x510b7a,0x2))[_0x584507(0x44a)]((_0x49b07a,_0x424a79)=>_0x49b07a+_0x424a79,0x0)/_0x54698[_0x584507(0x2c4)];if(_0x1f9ba6===0x0)return null;let _0x43ac51=0x0;for(let _0x3536b9=0x0;_0x3536b9<_0x19c34a;_0x3536b9++){const _0x4986d0=_0x5ecf7f[_0x3536b9]?.['p'];if(_0x4986d0===undefined)continue;const _0x216227=0x1-_0x4986d0;_0x43ac51+=_0x4986d0*_0x216227;}if(_0x43ac51===0x0)return null;const _0x108396=_0x19c34a/(_0x19c34a-0x1)*(0x1-_0x43ac51/_0x1f9ba6);if(_0x108396>0x1)return null;return _0x108396;}async function handleAnalyzeClass(){const _0x17bc97=_0x597754;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x17bc97(0x3d4));return;}const _0x19c39d=collection(db,_0x17bc97(0x4cb)+appId+_0x17bc97(0x33f)+currentQuizData['id']+_0x17bc97(0x2a8)),_0x13b4b3=await getDocs(_0x19c39d),_0x207cb3=_0x13b4b3[_0x17bc97(0x521)][_0x17bc97(0x535)](_0x39d590=>_0x39d590[_0x17bc97(0x324)]());if(_0x207cb3[_0x17bc97(0x2c4)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x3c6552=document[_0x17bc97(0x596)](_0x17bc97(0x23b));_0x3c6552[_0x17bc97(0x8a2)]=_0x17bc97(0x1d8),document[_0x17bc97(0x596)](_0x17bc97(0x842))[_0x17bc97(0x64a)]=!![];const _0x4ac8d1=_0x207cb3[_0x17bc97(0x535)]((_0x5cf78e,_0x4e4799)=>{const _0x415647=_0x17bc97,_0x3132ad=_0x5cf78e[_0x415647(0xbe)][_0x5cf78e[_0x415647(0xbe)][_0x415647(0x2c4)]-0x1];if(!_0x3132ad)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x4e4799+0x1)+'\x20('+_0x5cf78e[_0x415647(0x4a3)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x3132ad[_0x415647(0x869)]+'/'+_0x5cf78e['totalQuestions']+_0x415647(0x4ad)+JSON['stringify'](_0x3132ad[_0x415647(0x15a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x17bc97(0x243)](_0x17bc97(0x689)),_0x11500a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x17bc97(0x231)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x17bc97(0x14a)](currentQuizData[_0x17bc97(0x2e8)])+_0x17bc97(0x34b)+_0x4ac8d1+_0x17bc97(0x325),_0x45300e={'type':_0x17bc97(0x415),'properties':{'classStrengths':{'type':_0x17bc97(0x270),'items':{'type':_0x17bc97(0x526)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x17bc97(0x526)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x17bc97(0x526)}}},'required':[_0x17bc97(0x6e5),_0x17bc97(0x339),_0x17bc97(0x861)]};try{const _0x1cac2c=await callAnalysisApi(_0x11500a,_0x45300e);displayClassAnalysis(_0x1cac2c);}catch(_0x2741b9){console['error']('Error\x20during\x20class\x20analysis:',_0x2741b9),_0x3c6552[_0x17bc97(0x8a2)]=_0x17bc97(0x5b9)+_0x2741b9[_0x17bc97(0x6b9)]+'</p></div>';}finally{document[_0x17bc97(0x596)]('analyze-strengths-btn')[_0x17bc97(0x64a)]=![];}}function displayClassAnalysis(_0x1f7d17){const _0x5d5221=_0x597754,_0x225bb0=document['getElementById']('strength-weakness-analysis-container');if(!_0x1f7d17){_0x225bb0[_0x5d5221(0x8a2)]=_0x5d5221(0x4a9);return;}_0x225bb0[_0x5d5221(0x8a2)]=_0x5d5221(0x74f)+_0x1f7d17[_0x5d5221(0x6e5)][_0x5d5221(0x535)](_0x136637=>_0x5d5221(0x856)+_0x136637+_0x5d5221(0x2c5))['join']('')+_0x5d5221(0xd6)+_0x1f7d17[_0x5d5221(0x339)]['map'](_0x1e69b8=>_0x5d5221(0x856)+_0x1e69b8+'</li>')[_0x5d5221(0x243)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f7d17[_0x5d5221(0x861)][_0x5d5221(0x535)](_0x299741=>_0x5d5221(0x856)+_0x299741+'</li>')['join']('')+_0x5d5221(0x60a);}function formatAndPrintWorksheet(_0x3a85c5,_0x2fe174){const _0x573004=_0x597754,_0x18cbf4=_0x573004(0x3b5)+_0x3a85c5[_0x573004(0x231)]+_0x573004(0x65b)+_0x3a85c5[_0x573004(0x231)]+_0x573004(0x4a6)+_0x3a85c5[_0x573004(0x2e8)][_0x573004(0x535)]((_0x5b37e0,_0x2cbef1)=>_0x573004(0x513)+(_0x2cbef1+0x1)+'.\x20'+_0x5b37e0[_0x573004(0x465)]+_0x573004(0x639)+(_0x5b37e0[_0x573004(0x285)]?_0x573004(0x445)+_0x5b37e0[_0x573004(0x285)]+_0x573004(0x42a):'')+_0x573004(0x65c))[_0x573004(0x243)]('')+_0x573004(0x6b5);_0x2fe174[_0x573004(0x19c)][_0x573004(0x443)](_0x18cbf4),_0x2fe174[_0x573004(0x19c)]['close'](),_0x2fe174[_0x573004(0x489)]=function(){setTimeout(()=>{const _0x29010e=_0x512c;_0x2fe174[_0x29010e(0x848)]();},0x3e8);};}async function generateWorksheet(){const _0xf299c0=_0x597754,_0x1a0e95=document[_0xf299c0(0x596)](_0xf299c0(0x76c))[_0xf299c0(0x800)][_0xf299c0(0xb9)]();if(!_0x1a0e95){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x171739=document[_0xf299c0(0x596)](_0xf299c0(0x7ad))[_0xf299c0(0x7a4)],_0x9d7898=_0x171739?'':_0xf299c0(0x246),_0x5d3802=window[_0xf299c0(0x5e8)]('',_0xf299c0(0x5cb));_0x5d3802['document'][_0xf299c0(0x443)]('<h1></h1>');const _0x53f2fe=parseInt(document[_0xf299c0(0x596)](_0xf299c0(0x811))['value']),_0x252706=document[_0xf299c0(0x596)](_0xf299c0(0x5d3))[_0xf299c0(0x7a4)],_0x1d1cb1=_0x252706?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x2872da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x9d7898+_0xf299c0(0x804)+_0x53f2fe+_0xf299c0(0x6cc)+_0x1a0e95+_0xf299c0(0x6c1)+_0x1d1cb1+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xf299c0(0x1ce),_0x2435be={'type':_0xf299c0(0x415),'properties':{'topic':{'type':_0xf299c0(0x526)},'questions':{'type':_0xf299c0(0x270),'items':{'type':_0xf299c0(0x415),'properties':{'questionText':{'type':_0xf299c0(0x526)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':[_0xf299c0(0x231),_0xf299c0(0x2e8)]};document[_0xf299c0(0x596)](_0xf299c0(0x44e))[_0xf299c0(0x195)]='',document['getElementById'](_0xf299c0(0x570))[_0xf299c0(0x79b)][_0xf299c0(0x76b)](_0xf299c0(0x702)),document[_0xf299c0(0x596)](_0xf299c0(0x74c))['classList'][_0xf299c0(0x76b)](_0xf299c0(0x702)),generateWorksheetBtn[_0xf299c0(0x64a)]=!![];try{const _0x2878b9=await callAnalysisApi(_0x2872da,_0x2435be);formatAndPrintWorksheet(_0x2878b9,_0x5d3802);}catch(_0x878f){console[_0xf299c0(0x5dc)](_0xf299c0(0xf6),_0x878f);if(_0x5d3802)_0x5d3802[_0xf299c0(0x123)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0xf299c0(0x596)](_0xf299c0(0x570))[_0xf299c0(0x79b)][_0xf299c0(0x635)](_0xf299c0(0x702)),document['getElementById'](_0xf299c0(0x74c))[_0xf299c0(0x79b)]['add']('hidden'),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x3b613c,_0x27cae1){const _0x80c5=_0x597754,_0x51f704={'contents':[{'role':_0x80c5(0x1e1),'parts':[{'text':_0x3b613c}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x27cae1}},_0x4d8ee9='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x478e9f=_0x80c5(0x85d)+_0x4d8ee9,_0x306a8e=await fetch(_0x478e9f,{'method':_0x80c5(0x4db),'headers':{'Content-Type':_0x80c5(0x4ed)},'body':JSON[_0x80c5(0x14a)](_0x51f704)});if(!_0x306a8e['ok'])throw new Error(_0x80c5(0x31d)+_0x306a8e[_0x80c5(0x5f6)]);const _0xa72628=await _0x306a8e['json']();if(_0xa72628[_0x80c5(0x17e)]?.[0x0]?.[_0x80c5(0x675)]?.[_0x80c5(0x852)]?.[0x0])return JSON[_0x80c5(0x7f6)](_0xa72628[_0x80c5(0x17e)][0x0][_0x80c5(0x675)][_0x80c5(0x852)][0x0][_0x80c5(0xff)]);else{let _0x3a1164='Invalid\x20response\x20structure\x20from\x20AI.';if(_0xa72628[_0x80c5(0x568)]?.[_0x80c5(0x830)])_0x3a1164=_0x80c5(0x3ac)+_0xa72628[_0x80c5(0x568)][_0x80c5(0x830)]+'.';else _0xa72628[_0x80c5(0x17e)]?.[0x0]?.[_0x80c5(0x5cf)]&&_0xa72628[_0x80c5(0x17e)][0x0]['finishReason']!=='STOP'&&(_0x3a1164=_0x80c5(0x355)+_0xa72628[_0x80c5(0x17e)][0x0][_0x80c5(0x5cf)]+'.');console['error'](_0x3a1164,JSON[_0x80c5(0x14a)](_0xa72628));throw new Error(_0x3a1164);}}initialize();
